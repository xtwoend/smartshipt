var K6=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import"./tabler.esm-17eb6a54.js";import"./popper-528ebbd5.js";var hte=K6((gte,Ax)=>{var Ra=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Px={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Px.exports;(function(e,t){(function(){var n,r="4.17.21",o=200,d="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",s="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",R=500,J="__lodash_placeholder__",I=1,z=2,Z=4,L=1,O=2,G=1,M=2,S=4,P=8,H=16,U=32,E=64,ie=128,te=256,$=512,V=30,j="...",w=800,D=16,m=1,g=2,x=3,k=1/0,q=9007199254740991,Y=17976931348623157e292,K=0/0,le=4294967295,he=le-1,pe=le>>>1,F=[["ary",ie],["bind",G],["bindKey",M],["curry",P],["curryRight",H],["flip",$],["partial",U],["partialRight",E],["rearg",te]],Q="[object Arguments]",ce="[object Array]",ge="[object AsyncFunction]",ke="[object Boolean]",re="[object Date]",ve="[object DOMException]",_e="[object Error]",oe="[object Function]",ye="[object GeneratorFunction]",Te="[object Map]",Oe="[object Number]",Le="[object Null]",Ue="[object Object]",nt="[object Promise]",Qe="[object Proxy]",ut="[object RegExp]",Me="[object Set]",Re="[object String]",Ne="[object Symbol]",Xe="[object Undefined]",rt="[object WeakMap]",yt="[object WeakSet]",$t="[object ArrayBuffer]",Wt="[object DataView]",Ci="[object Float32Array]",ti="[object Float64Array]",Mi="[object Int8Array]",on="[object Int16Array]",ft="[object Int32Array]",Nt="[object Uint8Array]",fi="[object Uint8ClampedArray]",Ui="[object Uint16Array]",dn="[object Uint32Array]",Gn=/\b__p \+= '';/g,Kr=/\b(__p \+=) '' \+/g,ci=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$i=/&(?:amp|lt|gt|quot|#39);/g,Wi=/[&<>"']/g,zr=RegExp($i.source),fo=RegExp(Wi.source),wn=/<%-([\s\S]+?)%>/g,oo=/<%([\s\S]+?)%>/g,Ln=/<%=([\s\S]+?)%>/g,ja=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,il=/^\w*$/,ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ze=/[\\^$.*+?()[\]{}|]/g,We=RegExp(ze.source),ct=/^\s+/,_t=/\s/,Dt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ft=/\{\n\/\* \[wrapped with (.+)\] \*/,Gt=/,? & /,Lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xt=/[()=,{}\[\]\/\s]/,_i=/\\(\\)?/g,qi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pi=/\w*$/,Mn=/^[-+]0x[0-9a-f]+$/i,Cn=/^0b[01]+$/i,un=/^\[object .+?Constructor\]$/,Gi=/^0o[0-7]+$/i,lr=/^(?:0|[1-9]\d*)$/,kr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_n=/($^)/,Hr=/['\n\r\u2028\u2029\\]/g,Lr="\\ud800-\\udfff",Ua="\\u0300-\\u036f",$a="\\ufe20-\\ufe2f",mo="\\u20d0-\\u20ff",hi=Ua+$a+mo,hs="\\u2700-\\u27bf",Ls="a-z\\xdf-\\xf6\\xf8-\\xff",Os="\\xac\\xb1\\xd7\\xf7",xc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ko="\\u2000-\\u206f",Hc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tu="A-Z\\xc0-\\xd6\\xd8-\\xde",ao="\\ufe0e\\ufe0f",Xi=Os+xc+ko+Hc,tr="['’]",cr="["+Lr+"]",Jo="["+Xi+"]",Va="["+hi+"]",Nn="\\d+",bc="["+hs+"]",Ca="["+Ls+"]",nl="[^"+Lr+Xi+Nn+hs+Ls+tu+"]",Zs="\\ud83c[\\udffb-\\udfff]",Vr="(?:"+Va+"|"+Zs+")",lo="[^"+Lr+"]",Uo="(?:\\ud83c[\\udde6-\\uddff]){2}",Gl="[\\ud800-\\udbff][\\udc00-\\udfff]",pa="["+tu+"]",yl="\\u200d",_l="(?:"+Ca+"|"+nl+")",rl="(?:"+pa+"|"+nl+")",vl="(?:"+tr+"(?:d|ll|m|re|s|t|ve))?",Yc="(?:"+tr+"(?:D|LL|M|RE|S|T|VE))?",qc=Vr+"?",Ro="["+ao+"]?",As="(?:"+yl+"(?:"+[lo,Uo,Gl].join("|")+")"+Ro+qc+")*",Wl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ks=Ro+qc+As,fa="(?:"+[bc,Uo,Gl].join("|")+")"+Ks,Pu="(?:"+[lo+Va+"?",Va,Uo,Gl,cr].join("|")+")",wd=RegExp(tr,"g"),Ws=RegExp(Va,"g"),Hl=RegExp(Zs+"(?="+Zs+")|"+Pu+Ks,"g"),Td=RegExp([pa+"?"+Ca+"+"+vl+"(?="+[Jo,pa,"$"].join("|")+")",rl+"+"+Yc+"(?="+[Jo,pa+_l,"$"].join("|")+")",pa+"?"+_l+"+"+vl,pa+"+"+Yc,sl,Wl,Nn,fa].join("|"),"g"),Yl=RegExp("["+yl+Lr+hi+ao+"]"),Js=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Sd=-1,Pr={};Pr[Ci]=Pr[ti]=Pr[Mi]=Pr[on]=Pr[ft]=Pr[Nt]=Pr[fi]=Pr[Ui]=Pr[dn]=!0,Pr[Q]=Pr[ce]=Pr[$t]=Pr[ke]=Pr[Wt]=Pr[re]=Pr[_e]=Pr[oe]=Pr[Te]=Pr[Oe]=Pr[Ue]=Pr[ut]=Pr[Me]=Pr[Re]=Pr[rt]=!1;var Nr={};Nr[Q]=Nr[ce]=Nr[$t]=Nr[Wt]=Nr[ke]=Nr[re]=Nr[Ci]=Nr[ti]=Nr[Mi]=Nr[on]=Nr[ft]=Nr[Te]=Nr[Oe]=Nr[Ue]=Nr[ut]=Nr[Me]=Nr[Re]=Nr[Ne]=Nr[Nt]=Nr[fi]=Nr[Ui]=Nr[dn]=!0,Nr[_e]=Nr[oe]=Nr[rt]=!1;var Cd={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Du={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},iu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ma={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xc=parseFloat,Ed=parseInt,ql=typeof Ra=="object"&&Ra&&Ra.Object===Object&&Ra,Qo=typeof self=="object"&&self&&self.Object===Object&&self,Hs=ql||Qo||Function("return this")(),X=t&&!t.nodeType&&t,de=X&&!0&&e&&!e.nodeType&&e,xe=de&&de.exports===X,Ee=xe&&ql.process,je=function(){try{var jt=de&&de.require&&de.require("util").types;return jt||Ee&&Ee.binding&&Ee.binding("util")}catch{}}(),Ve=je&&je.isArrayBuffer,Ze=je&&je.isDate,It=je&&je.isMap,St=je&&je.isRegExp,Zt=je&&je.isSet,pi=je&&je.isTypedArray;function ki(jt,vi,ui){switch(ui.length){case 0:return jt.call(vi);case 1:return jt.call(vi,ui[0]);case 2:return jt.call(vi,ui[0],ui[1]);case 3:return jt.call(vi,ui[0],ui[1],ui[2])}return jt.apply(vi,ui)}function si(jt,vi,ui,fn){for(var Kn=-1,Or=jt==null?0:jt.length;++Kn<Or;){var zs=jt[Kn];vi(fn,zs,ui(zs),jt)}return fn}function di(jt,vi){for(var ui=-1,fn=jt==null?0:jt.length;++ui<fn&&vi(jt[ui],ui,jt)!==!1;);return jt}function Yi(jt,vi){for(var ui=jt==null?0:jt.length;ui--&&vi(jt[ui],ui,jt)!==!1;);return jt}function qn(jt,vi){for(var ui=-1,fn=jt==null?0:jt.length;++ui<fn;)if(!vi(jt[ui],ui,jt))return!1;return!0}function pn(jt,vi){for(var ui=-1,fn=jt==null?0:jt.length,Kn=0,Or=[];++ui<fn;){var zs=jt[ui];vi(zs,ui,jt)&&(Or[Kn++]=zs)}return Or}function ps(jt,vi){var ui=jt==null?0:jt.length;return!!ui&&Zn(jt,vi,0)>-1}function Jr(jt,vi,ui){for(var fn=-1,Kn=jt==null?0:jt.length;++fn<Kn;)if(ui(vi,jt[fn]))return!0;return!1}function hr(jt,vi){for(var ui=-1,fn=jt==null?0:jt.length,Kn=Array(fn);++ui<fn;)Kn[ui]=vi(jt[ui],ui,jt);return Kn}function pr(jt,vi){for(var ui=-1,fn=vi.length,Kn=jt.length;++ui<fn;)jt[Kn+ui]=vi[ui];return jt}function Wn(jt,vi,ui,fn){var Kn=-1,Or=jt==null?0:jt.length;for(fn&&Or&&(ui=jt[++Kn]);++Kn<Or;)ui=vi(ui,jt[Kn],Kn,jt);return ui}function Qs(jt,vi,ui,fn){var Kn=jt==null?0:jt.length;for(fn&&Kn&&(ui=jt[--Kn]);Kn--;)ui=vi(ui,jt[Kn],Kn,jt);return ui}function mr(jt,vi){for(var ui=-1,fn=jt==null?0:jt.length;++ui<fn;)if(vi(jt[ui],ui,jt))return!0;return!1}var Qr=ga("length");function Ga(jt){return jt.split("")}function Xl(jt){return jt.match(Lt)||[]}function eo(jt,vi,ui){var fn;return ui(jt,function(Kn,Or,zs){if(vi(Kn,Or,zs))return fn=Or,!1}),fn}function ea(jt,vi,ui,fn){for(var Kn=jt.length,Or=ui+(fn?1:-1);fn?Or--:++Or<Kn;)if(vi(jt[Or],Or,jt))return Or;return-1}function Zn(jt,vi,ui){return vi===vi?Sc(jt,vi,ui):ea(jt,ta,ui)}function go(jt,vi,ui,fn){for(var Kn=ui-1,Or=jt.length;++Kn<Or;)if(fn(jt[Kn],vi))return Kn;return-1}function ta(jt){return jt!==jt}function Bo(jt,vi){var ui=jt==null?0:jt.length;return ui?Fr(jt,vi)/ui:K}function ga(jt){return function(vi){return vi==null?n:vi[jt]}}function Zl(jt){return function(vi){return jt==null?n:jt[vi]}}function ol(jt,vi,ui,fn,Kn){return Kn(jt,function(Or,zs,jr){ui=fn?(fn=!1,Or):vi(ui,Or,zs,jr)}),ui}function Md(jt,vi){var ui=jt.length;for(jt.sort(vi);ui--;)jt[ui]=jt[ui].value;return jt}function Fr(jt,vi){for(var ui,fn=-1,Kn=jt.length;++fn<Kn;){var Or=vi(jt[fn]);Or!==n&&(ui=ui===n?Or:ui+Or)}return ui}function ya(jt,vi){for(var ui=-1,fn=Array(jt);++ui<jt;)fn[ui]=vi(ui);return fn}function Zc(jt,vi){return hr(vi,function(ui){return[ui,jt[ui]]})}function Kl(jt){return jt&&jt.slice(0,_o(jt)+1).replace(ct,"")}function zo(jt){return function(vi){return jt(vi)}}function Jl(jt,vi){return hr(vi,function(ui){return jt[ui]})}function wc(jt,vi){return jt.has(vi)}function nu(jt,vi){for(var ui=-1,fn=jt.length;++ui<fn&&Zn(vi,jt[ui],0)>-1;);return ui}function Ql(jt,vi){for(var ui=jt.length;ui--&&Zn(vi,jt[ui],0)>-1;);return ui}function ec(jt,vi){for(var ui=jt.length,fn=0;ui--;)jt[ui]===vi&&++fn;return fn}var Iu=Zl(Cd),tc=Zl(Du);function ru(jt){return"\\"+ma[jt]}function Ea(jt,vi){return jt==null?n:jt[vi]}function Ma(jt){return Yl.test(jt)}function ic(jt){return Js.test(jt)}function kd(jt){for(var vi,ui=[];!(vi=jt.next()).done;)ui.push(vi.value);return ui}function Tc(jt){var vi=-1,ui=Array(jt.size);return jt.forEach(function(fn,Kn){ui[++vi]=[Kn,fn]}),ui}function ia(jt,vi){return function(ui){return jt(vi(ui))}}function yo(jt,vi){for(var ui=-1,fn=jt.length,Kn=0,Or=[];++ui<fn;){var zs=jt[ui];(zs===vi||zs===J)&&(jt[ui]=J,Or[Kn++]=ui)}return Or}function bl(jt){var vi=-1,ui=Array(jt.size);return jt.forEach(function(fn){ui[++vi]=fn}),ui}function nc(jt){var vi=-1,ui=Array(jt.size);return jt.forEach(function(fn){ui[++vi]=[fn,fn]}),ui}function Sc(jt,vi,ui){for(var fn=ui-1,Kn=jt.length;++fn<Kn;)if(jt[fn]===vi)return fn;return-1}function yh(jt,vi,ui){for(var fn=ui+1;fn--;)if(jt[fn]===vi)return fn;return fn}function _r(jt){return Ma(jt)?wl(jt):Qr(jt)}function $o(jt){return Ma(jt)?Lu(jt):Ga(jt)}function _o(jt){for(var vi=jt.length;vi--&&_t.test(jt.charAt(vi)););return vi}var na=Zl(iu);function wl(jt){for(var vi=Hl.lastIndex=0;Hl.test(jt);)++vi;return vi}function Lu(jt){return jt.match(Hl)||[]}function Ou(jt){return jt.match(Td)||[]}var Ru=function jt(vi){vi=vi==null?Hs:Vo.defaults(Hs.Object(),vi,Vo.pick(Hs,xl));var ui=vi.Array,fn=vi.Date,Kn=vi.Error,Or=vi.Function,zs=vi.Math,jr=vi.Object,Cc=vi.RegExp,Ad=vi.String,Go=vi.TypeError,it=ui.prototype,Et=Or.prototype,Bt=jr.prototype,xi=vi["__core-js_shared__"],Ut=Et.toString,ai=Bt.hasOwnProperty,Di=0,en=function(){var y=/[^.]+$/.exec(xi&&xi.keys&&xi.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),Bi=Bt.toString,Rn=Ut.call(jr),Fn=Hs._,Un=Cc("^"+Ut.call(ai).replace(ze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ir=xe?vi.Buffer:n,Tr=vi.Symbol,In=vi.Uint8Array,be=ir?ir.allocUnsafe:n,Se=ia(jr.getPrototypeOf,jr),$e=jr.create,vt=Bt.propertyIsEnumerable,Si=it.splice,Tn=Tr?Tr.isConcatSpreadable:n,vr=Tr?Tr.iterator:n,to=Tr?Tr.toStringTag:n,Ns=function(){try{var y=kh(jr,"defineProperty");return y({},"",{}),y}catch{}}(),Tl=vi.clearTimeout!==Hs.clearTimeout&&vi.clearTimeout,tn=fn&&fn.now!==Hs.Date.now&&fn.now,Sl=vi.setTimeout!==Hs.setTimeout&&vi.setTimeout,Pd=zs.ceil,_h=zs.floor,pp=jr.getOwnPropertySymbols,Bu=ir?ir.isBuffer:n,Ef=vi.isFinite,fp=it.join,zu=ia(jr.keys,jr),Fs=zs.max,fs=zs.min,vh=fn.now,Nu=vi.parseInt,rm=zs.random,qg=it.reverse,mp=kh(vi,"DataView"),Ec=kh(vi,"Map"),xh=kh(vi,"Promise"),Kc=kh(vi,"Set"),Fu=kh(vi,"WeakMap"),Dd=kh(jr,"create"),Id=Fu&&new Fu,su={},Mf=sd(mp),kf=sd(Ec),sm=sd(xh),gp=sd(Kc),Jc=sd(Fu),ju=Tr?Tr.prototype:n,Uu=ju?ju.valueOf:n,Af=ju?ju.toString:n;function et(y){if(bo(y)&&!gr(y)&&!(y instanceof Jn)){if(y instanceof al)return y;if(ai.call(y,"__wrapped__"))return Ap(y)}return new al(y)}var Qc=function(){function y(){}return function(A){if(!ro(A))return{};if($e)return $e(A);y.prototype=A;var ae=new y;return y.prototype=n,ae}}();function bh(){}function al(y,A){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!A,this.__index__=0,this.__values__=n}et.templateSettings={escape:wn,evaluate:oo,interpolate:Ln,variable:"",imports:{_:et}},et.prototype=bh.prototype,et.prototype.constructor=et,al.prototype=Qc(bh.prototype),al.prototype.constructor=al;function Jn(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function Xg(){var y=new Jn(this.__wrapped__);return y.__actions__=Ao(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=Ao(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=Ao(this.__views__),y}function Pf(){if(this.__filtered__){var y=new Jn(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function Zg(){var y=this.__wrapped__.value(),A=this.__dir__,ae=gr(y),Pe=A<0,He=ae?y.length:0,st=h1(0,He,this.__views__),Ct=st.start,Rt=st.end,Yt=Rt-Ct,Ai=Pe?Rt:Ct-1,Ri=this.__iteratees__,Vi=Ri.length,yn=0,Bn=fs(Yt,this.__takeCount__);if(!ae||!Pe&&He==Yt&&Bn==Yt)return Sh(y,this.__actions__);var nr=[];e:for(;Yt--&&yn<Bn;){Ai+=A;for(var Dr=-1,sr=y[Ai];++Dr<Vi;){var $r=Ri[Dr],Yr=$r.iteratee,Pl=$r.type,Ja=Yr(sr);if(Pl==g)sr=Ja;else if(!Ja){if(Pl==m)continue e;break e}}nr[yn++]=sr}return nr}Jn.prototype=Qc(bh.prototype),Jn.prototype.constructor=Jn;function ou(y){var A=-1,ae=y==null?0:y.length;for(this.clear();++A<ae;){var Pe=y[A];this.set(Pe[0],Pe[1])}}function ed(){this.__data__=Dd?Dd(null):{},this.size=0}function om(y){var A=this.has(y)&&delete this.__data__[y];return this.size-=A?1:0,A}function $u(y){var A=this.__data__;if(Dd){var ae=A[y];return ae===b?n:ae}return ai.call(A,y)?A[y]:n}function Mc(y){var A=this.__data__;return Dd?A[y]!==n:ai.call(A,y)}function yp(y,A){var ae=this.__data__;return this.size+=this.has(y)?0:1,ae[y]=Dd&&A===n?b:A,this}ou.prototype.clear=ed,ou.prototype.delete=om,ou.prototype.get=$u,ou.prototype.has=Mc,ou.prototype.set=yp;function Ji(y){var A=-1,ae=y==null?0:y.length;for(this.clear();++A<ae;){var Pe=y[A];this.set(Pe[0],Pe[1])}}function am(){this.__data__=[],this.size=0}function lm(y){var A=this.__data__,ae=c(A,y);if(ae<0)return!1;var Pe=A.length-1;return ae==Pe?A.pop():Si.call(A,ae,1),--this.size,!0}function Ld(y){var A=this.__data__,ae=c(A,y);return ae<0?n:A[ae][1]}function wh(y){return c(this.__data__,y)>-1}function Df(y,A){var ae=this.__data__,Pe=c(ae,y);return Pe<0?(++this.size,ae.push([y,A])):ae[Pe][1]=A,this}Ji.prototype.clear=am,Ji.prototype.delete=lm,Ji.prototype.get=Ld,Ji.prototype.has=wh,Ji.prototype.set=Df;function kc(y){var A=-1,ae=y==null?0:y.length;for(this.clear();++A<ae;){var Pe=y[A];this.set(Pe[0],Pe[1])}}function If(){this.size=0,this.__data__={hash:new ou,map:new(Ec||Ji),string:new ou}}function Lf(y){var A=Tp(this,y).delete(y);return this.size-=A?1:0,A}function Of(y){return Tp(this,y).get(y)}function Rf(y){return Tp(this,y).has(y)}function Vu(y,A){var ae=Tp(this,y),Pe=ae.size;return ae.set(y,A),this.size+=ae.size==Pe?0:1,this}kc.prototype.clear=If,kc.prototype.delete=Lf,kc.prototype.get=Of,kc.prototype.has=Rf,kc.prototype.set=Vu;function rc(y){var A=-1,ae=y==null?0:y.length;for(this.__data__=new kc;++A<ae;)this.add(y[A])}function _p(y){return this.__data__.set(y,b),this}function cm(y){return this.__data__.has(y)}rc.prototype.add=rc.prototype.push=_p,rc.prototype.has=cm;function ll(y){var A=this.__data__=new Ji(y);this.size=A.size}function dm(){this.__data__=new Ji,this.size=0}function um(y){var A=this.__data__,ae=A.delete(y);return this.size=A.size,ae}function hm(y){return this.__data__.get(y)}function pm(y){return this.__data__.has(y)}function fm(y,A){var ae=this.__data__;if(ae instanceof Ji){var Pe=ae.__data__;if(!Ec||Pe.length<o-1)return Pe.push([y,A]),this.size=++ae.size,this;ae=this.__data__=new kc(Pe)}return ae.set(y,A),this.size=ae.size,this}ll.prototype.clear=dm,ll.prototype.delete=um,ll.prototype.get=hm,ll.prototype.has=pm,ll.prototype.set=fm;function vp(y,A){var ae=gr(y),Pe=!ae&&Rh(y),He=!ae&&!Pe&&ld(y),st=!ae&&!Pe&&!He&&cd(y),Ct=ae||Pe||He||st,Rt=Ct?ya(y.length,Ad):[],Yt=Rt.length;for(var Ai in y)(A||ai.call(y,Ai))&&!(Ct&&(Ai=="length"||He&&(Ai=="offset"||Ai=="parent")||st&&(Ai=="buffer"||Ai=="byteLength"||Ai=="byteOffset")||Nd(Ai,Yt)))&&Rt.push(Ai);return Rt}function Bf(y){var A=y.length;return A?y[Ha(0,A-1)]:n}function mm(y,A){return kp(Ao(y),ue(A,0,y.length))}function zf(y){return kp(Ao(y))}function au(y,A,ae){(ae!==n&&!ad(y[A],ae)||ae===n&&!(A in y))&&W(y,A,ae)}function _(y,A,ae){var Pe=y[A];(!(ai.call(y,A)&&ad(Pe,ae))||ae===n&&!(A in y))&&W(y,A,ae)}function c(y,A){for(var ae=y.length;ae--;)if(ad(y[ae][0],A))return ae;return-1}function p(y,A,ae,Pe){return ot(y,function(He,st,Ct){A(Pe,He,ae(He),Ct)}),Pe}function T(y,A){return y&&Wo(A,wo(A),y)}function B(y,A){return y&&Wo(A,ul(A),y)}function W(y,A,ae){A=="__proto__"&&Ns?Ns(y,A,{configurable:!0,enumerable:!0,value:ae,writable:!0}):y[A]=ae}function se(y,A){for(var ae=-1,Pe=A.length,He=ui(Pe),st=y==null;++ae<Pe;)He[ae]=st?n:Hm(y,A[ae]);return He}function ue(y,A,ae){return y===y&&(ae!==n&&(y=y<=ae?y:ae),A!==n&&(y=y>=A?y:A)),y}function me(y,A,ae,Pe,He,st){var Ct,Rt=A&I,Yt=A&z,Ai=A&Z;if(ae&&(Ct=He?ae(y,Pe,He,st):ae(y)),Ct!==n)return Ct;if(!ro(y))return y;var Ri=gr(y);if(Ri){if(Ct=Ah(y),!Rt)return Ao(y,Ct)}else{var Vi=Ya(y),yn=Vi==oe||Vi==ye;if(ld(y))return Rd(y,Rt);if(Vi==Ue||Vi==Q||yn&&!He){if(Ct=Yt||yn?{}:f1(y),!Rt)return Yt?Hu(y,B(Ct,y)):Wu(y,T(Ct,y))}else{if(!Nr[Vi])return He?y:{};Ct=p2(y,Vi,Rt)}}st||(st=new ll);var Bn=st.get(y);if(Bn)return Bn;st.set(y,Ct),gv(y)?y.forEach(function(sr){Ct.add(me(sr,A,ae,sr,y,st))}):V1(y)&&y.forEach(function(sr,$r){Ct.set($r,me(sr,A,ae,$r,y,st))});var nr=Ai?Yt?d1:bm:Yt?ul:wo,Dr=Ri?n:nr(y);return di(Dr||y,function(sr,$r){Dr&&($r=sr,sr=y[$r]),_(Ct,$r,me(sr,A,ae,$r,y,st))}),Ct}function De(y){var A=wo(y);return function(ae){return Ae(ae,y,A)}}function Ae(y,A,ae){var Pe=ae.length;if(y==null)return!Pe;for(y=jr(y);Pe--;){var He=ae[Pe],st=A[He],Ct=y[He];if(Ct===n&&!(He in y)||!st(Ct))return!1}return!0}function Fe(y,A,ae){if(typeof y!="function")throw new Go(h);return Mp(function(){y.apply(n,ae)},A)}function qe(y,A,ae,Pe){var He=-1,st=ps,Ct=!0,Rt=y.length,Yt=[],Ai=A.length;if(!Rt)return Yt;ae&&(A=hr(A,zo(ae))),Pe?(st=Jr,Ct=!1):A.length>=o&&(st=wc,Ct=!1,A=new rc(A));e:for(;++He<Rt;){var Ri=y[He],Vi=ae==null?Ri:ae(Ri);if(Ri=Pe||Ri!==0?Ri:0,Ct&&Vi===Vi){for(var yn=Ai;yn--;)if(A[yn]===Vi)continue e;Yt.push(Ri)}else st(A,Vi,Pe)||Yt.push(Ri)}return Yt}var ot=I_(Tt),at=I_(zt,!0);function dt(y,A){var ae=!0;return ot(y,function(Pe,He,st){return ae=!!A(Pe,He,st),ae}),ae}function Ke(y,A,ae){for(var Pe=-1,He=y.length;++Pe<He;){var st=y[Pe],Ct=A(st);if(Ct!=null&&(Rt===n?Ct===Ct&&!Ka(Ct):ae(Ct,Rt)))var Rt=Ct,Yt=st}return Yt}function tt(y,A,ae,Pe){var He=y.length;for(ae=Qn(ae),ae<0&&(ae=-ae>He?0:He+ae),Pe=Pe===n||Pe>He?He:Qn(Pe),Pe<0&&(Pe+=He),Pe=ae>Pe?0:Bp(Pe);ae<Pe;)y[ae++]=A;return y}function pt(y,A){var ae=[];return ot(y,function(Pe,He,st){A(Pe,He,st)&&ae.push(Pe)}),ae}function lt(y,A,ae,Pe,He){var st=-1,Ct=y.length;for(ae||(ae=Sm),He||(He=[]);++st<Ct;){var Rt=y[st];A>0&&ae(Rt)?A>1?lt(Rt,A-1,ae,Pe,He):pr(He,Rt):Pe||(He[He.length]=Rt)}return He}var xt=L_(),At=L_(!0);function Tt(y,A){return y&&xt(y,A,wo)}function zt(y,A){return y&&At(y,A,wo)}function ei(y,A){return pn(A,function(ae){return jd(y[ae])})}function Kt(y,A){A=td(A,y);for(var ae=0,Pe=A.length;y!=null&&ae<Pe;)y=y[kl(A[ae++])];return ae&&ae==Pe?y:n}function Vt(y,A,ae){var Pe=A(y);return gr(y)?Pe:pr(Pe,ae(y))}function Ei(y){return y==null?y===n?Xe:Le:to&&to in jr(y)?R_(y):g1(y)}function qt(y,A){return y>A}function mi(y,A){return y!=null&&ai.call(y,A)}function ni(y,A){return y!=null&&A in jr(y)}function Oi(y,A,ae){return y>=fs(A,ae)&&y<Fs(A,ae)}function ri(y,A,ae){for(var Pe=ae?Jr:ps,He=y[0].length,st=y.length,Ct=st,Rt=ui(st),Yt=1/0,Ai=[];Ct--;){var Ri=y[Ct];Ct&&A&&(Ri=hr(Ri,zo(A))),Yt=fs(Ri.length,Yt),Rt[Ct]=!ae&&(A||He>=120&&Ri.length>=120)?new rc(Ct&&Ri):n}Ri=y[0];var Vi=-1,yn=Rt[0];e:for(;++Vi<He&&Ai.length<Yt;){var Bn=Ri[Vi],nr=A?A(Bn):Bn;if(Bn=ae||Bn!==0?Bn:0,!(yn?wc(yn,nr):Pe(Ai,nr,ae))){for(Ct=st;--Ct;){var Dr=Rt[Ct];if(!(Dr?wc(Dr,nr):Pe(y[Ct],nr,ae)))continue e}yn&&yn.push(nr),Ai.push(Bn)}}return Ai}function wi(y,A,ae,Pe){return Tt(y,function(He,st,Ct){A(Pe,ae(He),st,Ct)}),Pe}function zi(y,A,ae){A=td(A,y),y=y1(y,A);var Pe=y==null?y:y[kl(Lc(A))];return Pe==null?n:ki(Pe,y,ae)}function Ht(y){return bo(y)&&Ei(y)==Q}function ii(y){return bo(y)&&Ei(y)==$t}function mn(y){return bo(y)&&Ei(y)==re}function Sn(y,A,ae,Pe,He){return y===A?!0:y==null||A==null||!bo(y)&&!bo(A)?y!==y&&A!==A:gn(y,A,ae,Pe,Sn,He)}function gn(y,A,ae,Pe,He,st){var Ct=gr(y),Rt=gr(A),Yt=Ct?ce:Ya(y),Ai=Rt?ce:Ya(A);Yt=Yt==Q?Ue:Yt,Ai=Ai==Q?Ue:Ai;var Ri=Yt==Ue,Vi=Ai==Ue,yn=Yt==Ai;if(yn&&ld(y)){if(!ld(A))return!1;Ct=!0,Ri=!1}if(yn&&!Ri)return st||(st=new ll),Ct||cd(y)?l1(y,A,ae,Pe,He,st):c1(y,A,Yt,ae,Pe,He,st);if(!(ae&L)){var Bn=Ri&&ai.call(y,"__wrapped__"),nr=Vi&&ai.call(A,"__wrapped__");if(Bn||nr){var Dr=Bn?y.value():y,sr=nr?A.value():A;return st||(st=new ll),He(Dr,sr,ae,Pe,st)}}return yn?(st||(st=new ll),h2(y,A,ae,Pe,He,st)):!1}function jn(y){return bo(y)&&Ya(y)==Te}function or(y,A,ae,Pe){var He=ae.length,st=He,Ct=!Pe;if(y==null)return!st;for(y=jr(y);He--;){var Rt=ae[He];if(Ct&&Rt[2]?Rt[1]!==y[Rt[0]]:!(Rt[0]in y))return!1}for(;++He<st;){Rt=ae[He];var Yt=Rt[0],Ai=y[Yt],Ri=Rt[1];if(Ct&&Rt[2]){if(Ai===n&&!(Yt in y))return!1}else{var Vi=new ll;if(Pe)var yn=Pe(Ai,Ri,Yt,y,A,Vi);if(!(yn===n?Sn(Ri,Ai,L|O,Pe,Vi):yn))return!1}}return!0}function kn(y){if(!ro(y)||Ml(y))return!1;var A=jd(y)?Un:un;return A.test(sd(y))}function an(y){return bo(y)&&Ei(y)==ut}function is(y){return bo(y)&&Ya(y)==Me}function Gr(y){return bo(y)&&ns(y.length)&&!!Pr[Ei(y)]}function rs(y){return typeof y=="function"?y:y==null?No:typeof y=="object"?gr(y)?ms(y[0],y[1]):sc(y):dy(y)}function es(y){if(!Ep(y))return zu(y);var A=[];for(var ae in jr(y))ai.call(y,ae)&&ae!="constructor"&&A.push(ae);return A}function Wa(y){if(!ro(y))return Dh(y);var A=Ep(y),ae=[];for(var Pe in y)Pe=="constructor"&&(A||!ai.call(y,Pe))||ae.push(Pe);return ae}function ka(y,A){return y<A}function _a(y,A){var ae=-1,Pe=ys(y)?ui(y.length):[];return ot(y,function(He,st,Ct){Pe[++ae]=A(He,st,Ct)}),Pe}function sc(y){var A=wm(y);return A.length==1&&A[0][2]?Cm(A[0][0],A[0][1]):function(ae){return ae===y||or(ae,y,A)}}function ms(y,A){return m1(y)&&Dc(A)?Cm(kl(y),A):function(ae){var Pe=Hm(ae,y);return Pe===n&&Pe===A?Bh(ae,y):Sn(A,Pe,L|O)}}function ts(y,A,ae,Pe,He){y!==A&&xt(A,function(st,Ct){if(He||(He=new ll),ro(st))Ur(y,A,Ct,ae,ts,Pe,He);else{var Rt=Pe?Pe(_1(y,Ct),st,Ct+"",y,A,He):n;Rt===n&&(Rt=st),au(y,Ct,Rt)}},ul)}function Ur(y,A,ae,Pe,He,st,Ct){var Rt=_1(y,ae),Yt=_1(A,ae),Ai=Ct.get(Yt);if(Ai){au(y,ae,Ai);return}var Ri=st?st(Rt,Yt,ae+"",y,A,Ct):n,Vi=Ri===n;if(Vi){var yn=gr(Yt),Bn=!yn&&ld(Yt),nr=!yn&&!Bn&&cd(Yt);Ri=Yt,yn||Bn||nr?gr(Rt)?Ri=Rt:Cs(Rt)?Ri=Ao(Rt):Bn?(Vi=!1,Ri=Rd(Yt,!0)):nr?(Vi=!1,Ri=P_(Yt,!0)):Ri=[]:i0(Yt)||Rh(Yt)?(Ri=Rt,Rh(Rt)?Ri=Vm(Rt):(!ro(Rt)||jd(Rt))&&(Ri=f1(Yt))):Vi=!1}Vi&&(Ct.set(Yt,Ri),He(Ri,Yt,Pe,st,Ct),Ct.delete(Yt)),au(y,ae,Ri)}function no(y,A){var ae=y.length;if(ae)return A+=A<0?ae:0,Nd(A,ae)?y[A]:n}function ra(y,A,ae){A.length?A=hr(A,function(st){return gr(st)?function(Ct){return Kt(Ct,st.length===1?st[0]:st)}:st}):A=[No];var Pe=-1;A=hr(A,zo(Xn()));var He=_a(y,function(st,Ct,Rt){var Yt=hr(A,function(Ai){return Ai(st)});return{criteria:Yt,index:++Pe,value:st}});return Md(He,function(st,Ct){return i1(st,Ct,ae)})}function gs(y,A){return va(y,A,function(ae,Pe){return Bh(y,Pe)})}function va(y,A,ae){for(var Pe=-1,He=A.length,st={};++Pe<He;){var Ct=A[Pe],Rt=Kt(y,Ct);ae(Rt,Ct)&&lu(st,td(Ct,y),Rt)}return st}function Th(y){return function(A){return Kt(A,y)}}function oc(y,A,ae,Pe){var He=Pe?go:Zn,st=-1,Ct=A.length,Rt=y;for(y===A&&(A=Ao(A)),ae&&(Rt=hr(y,zo(ae)));++st<Ct;)for(var Yt=0,Ai=A[st],Ri=ae?ae(Ai):Ai;(Yt=He(Rt,Ri,Yt,Pe))>-1;)Rt!==y&&Si.call(Rt,Yt,1),Si.call(y,Yt,1);return y}function sa(y,A){for(var ae=y?A.length:0,Pe=ae-1;ae--;){var He=A[ae];if(ae==Pe||He!==st){var st=He;Nd(He)?Si.call(y,He,1):ym(y,He)}}return y}function Ha(y,A){return y+_h(rm()*(A-y+1))}function Ac(y,A,ae,Pe){for(var He=-1,st=Fs(Pd((A-y)/(ae||1)),0),Ct=ui(st);st--;)Ct[Pe?st:++He]=y,y+=ae;return Ct}function Cl(y,A){var ae="";if(!y||A<1||A>q)return ae;do A%2&&(ae+=y),A=_h(A/2),A&&(y+=y);while(A);return ae}function fr(y,A){return Ih(Vf(y,A,No),y+"")}function Gu(y){return Bf(zh(y))}function Pc(y,A){var ae=zh(y);return kp(ae,ue(A,0,ae.length))}function lu(y,A,ae,Pe){if(!ro(y))return y;A=td(A,y);for(var He=-1,st=A.length,Ct=st-1,Rt=y;Rt!=null&&++He<st;){var Yt=kl(A[He]),Ai=ae;if(Yt==="__proto__"||Yt==="constructor"||Yt==="prototype")return y;if(He!=Ct){var Ri=Rt[Yt];Ai=Pe?Pe(Ri,Yt,Rt):n,Ai===n&&(Ai=ro(Ri)?Ri:Nd(A[He+1])?[]:{})}_(Rt,Yt,Ai),Rt=Rt[Yt]}return y}var Nf=Id?function(y,A){return Id.set(y,A),y}:No,S_=Ns?function(y,A){return Ns(y,"toString",{configurable:!0,enumerable:!1,value:ay(A),writable:!0})}:No;function Kg(y){return kp(zh(y))}function ac(y,A,ae){var Pe=-1,He=y.length;A<0&&(A=-A>He?0:He+A),ae=ae>He?He:ae,ae<0&&(ae+=He),He=A>ae?0:ae-A>>>0,A>>>=0;for(var st=ui(He);++Pe<He;)st[Pe]=y[Pe+A];return st}function C_(y,A){var ae;return ot(y,function(Pe,He,st){return ae=A(Pe,He,st),!ae}),!!ae}function Ff(y,A,ae){var Pe=0,He=y==null?Pe:y.length;if(typeof A=="number"&&A===A&&He<=pe){for(;Pe<He;){var st=Pe+He>>>1,Ct=y[st];Ct!==null&&!Ka(Ct)&&(ae?Ct<=A:Ct<A)?Pe=st+1:He=st}return He}return gm(y,A,No,ae)}function gm(y,A,ae,Pe){var He=0,st=y==null?0:y.length;if(st===0)return 0;A=ae(A);for(var Ct=A!==A,Rt=A===null,Yt=Ka(A),Ai=A===n;He<st;){var Ri=_h((He+st)/2),Vi=ae(y[Ri]),yn=Vi!==n,Bn=Vi===null,nr=Vi===Vi,Dr=Ka(Vi);if(Ct)var sr=Pe||nr;else Ai?sr=nr&&(Pe||yn):Rt?sr=nr&&yn&&(Pe||!Bn):Yt?sr=nr&&yn&&!Bn&&(Pe||!Dr):Bn||Dr?sr=!1:sr=Pe?Vi<=A:Vi<A;sr?He=Ri+1:st=Ri}return fs(st,he)}function Jg(y,A){for(var ae=-1,Pe=y.length,He=0,st=[];++ae<Pe;){var Ct=y[ae],Rt=A?A(Ct):Ct;if(!ae||!ad(Rt,Yt)){var Yt=Rt;st[He++]=Ct===0?0:Ct}}return st}function Qg(y){return typeof y=="number"?y:Ka(y)?K:+y}function El(y){if(typeof y=="string")return y;if(gr(y))return hr(y,El)+"";if(Ka(y))return Af?Af.call(y):"";var A=y+"";return A=="0"&&1/y==-k?"-0":A}function cu(y,A,ae){var Pe=-1,He=ps,st=y.length,Ct=!0,Rt=[],Yt=Rt;if(ae)Ct=!1,He=Jr;else if(st>=o){var Ai=A?null:xa(y);if(Ai)return bl(Ai);Ct=!1,He=wc,Yt=new rc}else Yt=A?[]:Rt;e:for(;++Pe<st;){var Ri=y[Pe],Vi=A?A(Ri):Ri;if(Ri=ae||Ri!==0?Ri:0,Ct&&Vi===Vi){for(var yn=Yt.length;yn--;)if(Yt[yn]===Vi)continue e;A&&Yt.push(Vi),Rt.push(Ri)}else He(Yt,Vi,ae)||(Yt!==Rt&&Yt.push(Vi),Rt.push(Ri))}return Rt}function ym(y,A){return A=td(A,y),y=y1(y,A),y==null||delete y[kl(Lc(A))]}function E_(y,A,ae,Pe){return lu(y,A,ae(Kt(y,A)),Pe)}function _m(y,A,ae,Pe){for(var He=y.length,st=Pe?He:-1;(Pe?st--:++st<He)&&A(y[st],st,y););return ae?ac(y,Pe?0:st,Pe?st+1:He):ac(y,Pe?st+1:0,Pe?He:st)}function Sh(y,A){var ae=y;return ae instanceof Jn&&(ae=ae.value()),Wn(A,function(Pe,He){return He.func.apply(He.thisArg,pr([Pe],He.args))},ae)}function vm(y,A,ae){var Pe=y.length;if(Pe<2)return Pe?cu(y[0]):[];for(var He=-1,st=ui(Pe);++He<Pe;)for(var Ct=y[He],Rt=-1;++Rt<Pe;)Rt!=He&&(st[He]=qe(st[He]||Ct,y[Rt],A,ae));return cu(lt(st,1),A,ae)}function e1(y,A,ae){for(var Pe=-1,He=y.length,st=A.length,Ct={};++Pe<He;){var Rt=Pe<st?A[Pe]:n;ae(Ct,y[Pe],Rt)}return Ct}function xm(y){return Cs(y)?y:[]}function t1(y){return typeof y=="function"?y:No}function td(y,A){return gr(y)?y:m1(y,A)?[y]:v1(Es(y))}var M_=fr;function Od(y,A,ae){var Pe=y.length;return ae=ae===n?Pe:ae,!A&&ae>=Pe?y:ac(y,A,ae)}var jf=Tl||function(y){return Hs.clearTimeout(y)};function Rd(y,A){if(A)return y.slice();var ae=y.length,Pe=be?be(ae):new y.constructor(ae);return y.copy(Pe),Pe}function xp(y){var A=new y.constructor(y.byteLength);return new In(A).set(new In(y)),A}function k_(y,A){var ae=A?xp(y.buffer):y.buffer;return new y.constructor(ae,y.byteOffset,y.byteLength)}function A_(y){var A=new y.constructor(y.source,Pi.exec(y));return A.lastIndex=y.lastIndex,A}function c2(y){return Uu?jr(Uu.call(y)):{}}function P_(y,A){var ae=A?xp(y.buffer):y.buffer;return new y.constructor(ae,y.byteOffset,y.length)}function D_(y,A){if(y!==A){var ae=y!==n,Pe=y===null,He=y===y,st=Ka(y),Ct=A!==n,Rt=A===null,Yt=A===A,Ai=Ka(A);if(!Rt&&!Ai&&!st&&y>A||st&&Ct&&Yt&&!Rt&&!Ai||Pe&&Ct&&Yt||!ae&&Yt||!He)return 1;if(!Pe&&!st&&!Ai&&y<A||Ai&&ae&&He&&!Pe&&!st||Rt&&ae&&He||!Ct&&He||!Yt)return-1}return 0}function i1(y,A,ae){for(var Pe=-1,He=y.criteria,st=A.criteria,Ct=He.length,Rt=ae.length;++Pe<Ct;){var Yt=D_(He[Pe],st[Pe]);if(Yt){if(Pe>=Rt)return Yt;var Ai=ae[Pe];return Yt*(Ai=="desc"?-1:1)}}return y.index-A.index}function bp(y,A,ae,Pe){for(var He=-1,st=y.length,Ct=ae.length,Rt=-1,Yt=A.length,Ai=Fs(st-Ct,0),Ri=ui(Yt+Ai),Vi=!Pe;++Rt<Yt;)Ri[Rt]=A[Rt];for(;++He<Ct;)(Vi||He<st)&&(Ri[ae[He]]=y[He]);for(;Ai--;)Ri[Rt++]=y[He++];return Ri}function Ch(y,A,ae,Pe){for(var He=-1,st=y.length,Ct=-1,Rt=ae.length,Yt=-1,Ai=A.length,Ri=Fs(st-Rt,0),Vi=ui(Ri+Ai),yn=!Pe;++He<Ri;)Vi[He]=y[He];for(var Bn=He;++Yt<Ai;)Vi[Bn+Yt]=A[Yt];for(;++Ct<Rt;)(yn||He<st)&&(Vi[Bn+ae[Ct]]=y[He++]);return Vi}function Ao(y,A){var ae=-1,Pe=y.length;for(A||(A=ui(Pe));++ae<Pe;)A[ae]=y[ae];return A}function Wo(y,A,ae,Pe){var He=!ae;ae||(ae={});for(var st=-1,Ct=A.length;++st<Ct;){var Rt=A[st],Yt=Pe?Pe(ae[Rt],y[Rt],Rt,ae,y):n;Yt===n&&(Yt=y[Rt]),He?W(ae,Rt,Yt):_(ae,Rt,Yt)}return ae}function Wu(y,A){return Wo(y,u1(y),A)}function Hu(y,A){return Wo(y,Tm(y),A)}function Bd(y,A){return function(ae,Pe){var He=gr(ae)?si:p,st=A?A():{};return He(ae,y,Xn(Pe,2),st)}}function wp(y){return fr(function(A,ae){var Pe=-1,He=ae.length,st=He>1?ae[He-1]:n,Ct=He>2?ae[2]:n;for(st=y.length>3&&typeof st=="function"?(He--,st):n,Ct&&qa(ae[0],ae[1],Ct)&&(st=He<3?n:st,He=1),A=jr(A);++Pe<He;){var Rt=ae[Pe];Rt&&y(A,Rt,Pe,st)}return A})}function I_(y,A){return function(ae,Pe){if(ae==null)return ae;if(!ys(ae))return y(ae,Pe);for(var He=ae.length,st=A?He:-1,Ct=jr(ae);(A?st--:++st<He)&&Pe(Ct[st],st,Ct)!==!1;);return ae}}function L_(y){return function(A,ae,Pe){for(var He=-1,st=jr(A),Ct=Pe(A),Rt=Ct.length;Rt--;){var Yt=Ct[y?Rt:++He];if(ae(st[Yt],Yt,st)===!1)break}return A}}function d2(y,A,ae){var Pe=A&G,He=cl(y);function st(){var Ct=this&&this!==Hs&&this instanceof st?He:y;return Ct.apply(Pe?ae:this,arguments)}return st}function n1(y){return function(A){A=Es(A);var ae=Ma(A)?$o(A):n,Pe=ae?ae[0]:A.charAt(0),He=ae?Od(ae,1).join(""):A.slice(1);return Pe[y]()+He}}function du(y){return function(A){return Wn(Fh(ey(A).replace(wd,"")),y,"")}}function cl(y){return function(){var A=arguments;switch(A.length){case 0:return new y;case 1:return new y(A[0]);case 2:return new y(A[0],A[1]);case 3:return new y(A[0],A[1],A[2]);case 4:return new y(A[0],A[1],A[2],A[3]);case 5:return new y(A[0],A[1],A[2],A[3],A[4]);case 6:return new y(A[0],A[1],A[2],A[3],A[4],A[5]);case 7:return new y(A[0],A[1],A[2],A[3],A[4],A[5],A[6])}var ae=Qc(y.prototype),Pe=y.apply(ae,A);return ro(Pe)?Pe:ae}}function u2(y,A,ae){var Pe=cl(y);function He(){for(var st=arguments.length,Ct=ui(st),Rt=st,Yt=hu(He);Rt--;)Ct[Rt]=arguments[Rt];var Ai=st<3&&Ct[0]!==Yt&&Ct[st-1]!==Yt?[]:yo(Ct,Yt);if(st-=Ai.length,st<ae)return cc(y,A,On,He.placeholder,n,Ct,Ai,n,n,ae-st);var Ri=this&&this!==Hs&&this instanceof He?Pe:y;return ki(Ri,this,Ct)}return He}function O_(y){return function(A,ae,Pe){var He=jr(A);if(!ys(A)){var st=Xn(ae,3);A=wo(A),ae=function(Rt){return st(He[Rt],Rt,He)}}var Ct=y(A,ae,Pe);return Ct>-1?He[st?A[Ct]:Ct]:n}}function vo(y){return nd(function(A){var ae=A.length,Pe=ae,He=al.prototype.thru;for(y&&A.reverse();Pe--;){var st=A[Pe];if(typeof st!="function")throw new Go(h);if(He&&!Ct&&zd(st)=="wrapper")var Ct=new al([],!0)}for(Pe=Ct?Pe:ae;++Pe<ae;){st=A[Pe];var Rt=zd(st),Yt=Rt=="wrapper"?rd(st):n;Yt&&Cp(Yt[0])&&Yt[1]==(ie|P|U|te)&&!Yt[4].length&&Yt[9]==1?Ct=Ct[zd(Yt[0])].apply(Ct,Yt[3]):Ct=st.length==1&&Cp(st)?Ct[Rt]():Ct.thru(st)}return function(){var Ai=arguments,Ri=Ai[0];if(Ct&&Ai.length==1&&gr(Ri))return Ct.plant(Ri).value();for(var Vi=0,yn=ae?A[Vi].apply(this,Ai):Ri;++Vi<ae;)yn=A[Vi].call(this,yn);return yn}})}function On(y,A,ae,Pe,He,st,Ct,Rt,Yt,Ai){var Ri=A&ie,Vi=A&G,yn=A&M,Bn=A&(P|H),nr=A&$,Dr=yn?n:cl(y);function sr(){for(var $r=arguments.length,Yr=ui($r),Pl=$r;Pl--;)Yr[Pl]=arguments[Pl];if(Bn)var Ja=hu(sr),Dl=ec(Yr,Ja);if(Pe&&(Yr=bp(Yr,Pe,He,Bn)),st&&(Yr=Ch(Yr,st,Ct,Bn)),$r-=Dl,Bn&&$r<Ai){var Po=yo(Yr,Ja);return cc(y,A,On,sr.placeholder,ae,Yr,Po,Rt,Yt,Ai-$r)}var wa=Vi?ae:this,Vd=yn?wa[y]:y;return $r=Yr.length,Rt?Yr=N_(Yr,Rt):nr&&$r>1&&Yr.reverse(),Ri&&Yt<$r&&(Yr.length=Yt),this&&this!==Hs&&this instanceof sr&&(Vd=Dr||cl(Vd)),Vd.apply(wa,Yr)}return sr}function uu(y,A){return function(ae,Pe){return wi(ae,y,A(Pe),{})}}function Eh(y,A){return function(ae,Pe){var He;if(ae===n&&Pe===n)return A;if(ae!==n&&(He=ae),Pe!==n){if(He===n)return Pe;typeof ae=="string"||typeof Pe=="string"?(ae=El(ae),Pe=El(Pe)):(ae=Qg(ae),Pe=Qg(Pe)),He=y(ae,Pe)}return He}}function Ar(y){return nd(function(A){return A=hr(A,zo(Xn())),fr(function(ae){var Pe=this;return y(A,function(He){return ki(He,Pe,ae)})})})}function Uf(y,A){A=A===n?" ":El(A);var ae=A.length;if(ae<2)return ae?Cl(A,y):A;var Pe=Cl(A,Pd(y/_r(A)));return Ma(A)?Od($o(Pe),0,y).join(""):Pe.slice(0,y)}function r1(y,A,ae,Pe){var He=A&G,st=cl(y);function Ct(){for(var Rt=-1,Yt=arguments.length,Ai=-1,Ri=Pe.length,Vi=ui(Ri+Yt),yn=this&&this!==Hs&&this instanceof Ct?st:y;++Ai<Ri;)Vi[Ai]=Pe[Ai];for(;Yt--;)Vi[Ai++]=arguments[++Rt];return ki(yn,He?ae:this,Vi)}return Ct}function id(y){return function(A,ae,Pe){return Pe&&typeof Pe!="number"&&qa(A,ae,Pe)&&(ae=Pe=n),A=Ud(A),ae===n?(ae=A,A=0):ae=Ud(ae),Pe=Pe===n?A<ae?1:-1:Ud(Pe),Ac(A,ae,Pe,y)}}function lc(y){return function(A,ae){return typeof A=="string"&&typeof ae=="string"||(A=Aa(A),ae=Aa(ae)),y(A,ae)}}function cc(y,A,ae,Pe,He,st,Ct,Rt,Yt,Ai){var Ri=A&P,Vi=Ri?Ct:n,yn=Ri?n:Ct,Bn=Ri?st:n,nr=Ri?n:st;A|=Ri?U:E,A&=~(Ri?E:U),A&S||(A&=~(G|M));var Dr=[y,A,He,Bn,Vi,nr,yn,Rt,Yt,Ai],sr=ae.apply(n,Dr);return Cp(y)&&Em(sr,Dr),sr.placeholder=Pe,Lh(sr,y,A)}function dl(y){var A=zs[y];return function(ae,Pe){if(ae=Aa(ae),Pe=Pe==null?0:fs(Qn(Pe),292),Pe&&Ef(ae)){var He=(Es(ae)+"e").split("e"),st=A(He[0]+"e"+(+He[1]+Pe));return He=(Es(st)+"e").split("e"),+(He[0]+"e"+(+He[1]-Pe))}return A(ae)}}var xa=Kc&&1/bl(new Kc([,-0]))[1]==k?function(y){return new Kc(y)}:cy;function s1(y){return function(A){var ae=Ya(A);return ae==Te?Tc(A):ae==Me?nc(A):Zc(A,y(A))}}function ba(y,A,ae,Pe,He,st,Ct,Rt){var Yt=A&M;if(!Yt&&typeof y!="function")throw new Go(h);var Ai=Pe?Pe.length:0;if(Ai||(A&=~(U|E),Pe=He=n),Ct=Ct===n?Ct:Fs(Qn(Ct),0),Rt=Rt===n?Rt:Qn(Rt),Ai-=He?He.length:0,A&E){var Ri=Pe,Vi=He;Pe=He=n}var yn=Yt?n:rd(y),Bn=[y,A,ae,Pe,He,Ri,Vi,st,Ct,Rt];if(yn&&$f(Bn,yn),y=Bn[0],A=Bn[1],ae=Bn[2],Pe=Bn[3],He=Bn[4],Rt=Bn[9]=Bn[9]===n?Yt?0:y.length:Fs(Bn[9]-Ai,0),!Rt&&A&(P|H)&&(A&=~(P|H)),!A||A==G)var nr=d2(y,A,ae);else A==P||A==H?nr=u2(y,A,Rt):(A==U||A==(G|U))&&!He.length?nr=r1(y,A,ae,Pe):nr=On.apply(n,Bn);var Dr=yn?Nf:Em;return Lh(Dr(nr,Bn),y,A)}function o1(y,A,ae,Pe){return y===n||ad(y,Bt[ae])&&!ai.call(Pe,ae)?A:y}function Mh(y,A,ae,Pe,He,st){return ro(y)&&ro(A)&&(st.set(A,y),ts(y,A,n,Mh,st),st.delete(A)),y}function a1(y){return i0(y)?n:y}function l1(y,A,ae,Pe,He,st){var Ct=ae&L,Rt=y.length,Yt=A.length;if(Rt!=Yt&&!(Ct&&Yt>Rt))return!1;var Ai=st.get(y),Ri=st.get(A);if(Ai&&Ri)return Ai==A&&Ri==y;var Vi=-1,yn=!0,Bn=ae&O?new rc:n;for(st.set(y,A),st.set(A,y);++Vi<Rt;){var nr=y[Vi],Dr=A[Vi];if(Pe)var sr=Ct?Pe(Dr,nr,Vi,A,y,st):Pe(nr,Dr,Vi,y,A,st);if(sr!==n){if(sr)continue;yn=!1;break}if(Bn){if(!mr(A,function($r,Yr){if(!wc(Bn,Yr)&&(nr===$r||He(nr,$r,ae,Pe,st)))return Bn.push(Yr)})){yn=!1;break}}else if(!(nr===Dr||He(nr,Dr,ae,Pe,st))){yn=!1;break}}return st.delete(y),st.delete(A),yn}function c1(y,A,ae,Pe,He,st,Ct){switch(ae){case Wt:if(y.byteLength!=A.byteLength||y.byteOffset!=A.byteOffset)return!1;y=y.buffer,A=A.buffer;case $t:return!(y.byteLength!=A.byteLength||!st(new In(y),new In(A)));case ke:case re:case Oe:return ad(+y,+A);case _e:return y.name==A.name&&y.message==A.message;case ut:case Re:return y==A+"";case Te:var Rt=Tc;case Me:var Yt=Pe&L;if(Rt||(Rt=bl),y.size!=A.size&&!Yt)return!1;var Ai=Ct.get(y);if(Ai)return Ai==A;Pe|=O,Ct.set(y,A);var Ri=l1(Rt(y),Rt(A),Pe,He,st,Ct);return Ct.delete(y),Ri;case Ne:if(Uu)return Uu.call(y)==Uu.call(A)}return!1}function h2(y,A,ae,Pe,He,st){var Ct=ae&L,Rt=bm(y),Yt=Rt.length,Ai=bm(A),Ri=Ai.length;if(Yt!=Ri&&!Ct)return!1;for(var Vi=Yt;Vi--;){var yn=Rt[Vi];if(!(Ct?yn in A:ai.call(A,yn)))return!1}var Bn=st.get(y),nr=st.get(A);if(Bn&&nr)return Bn==A&&nr==y;var Dr=!0;st.set(y,A),st.set(A,y);for(var sr=Ct;++Vi<Yt;){yn=Rt[Vi];var $r=y[yn],Yr=A[yn];if(Pe)var Pl=Ct?Pe(Yr,$r,yn,A,y,st):Pe($r,Yr,yn,y,A,st);if(!(Pl===n?$r===Yr||He($r,Yr,ae,Pe,st):Pl)){Dr=!1;break}sr||(sr=yn=="constructor")}if(Dr&&!sr){var Ja=y.constructor,Dl=A.constructor;Ja!=Dl&&"constructor"in y&&"constructor"in A&&!(typeof Ja=="function"&&Ja instanceof Ja&&typeof Dl=="function"&&Dl instanceof Dl)&&(Dr=!1)}return st.delete(y),st.delete(A),Dr}function nd(y){return Ih(Vf(y,n,w1),y+"")}function bm(y){return Vt(y,wo,u1)}function d1(y){return Vt(y,ul,Tm)}var rd=Id?function(y){return Id.get(y)}:cy;function zd(y){for(var A=y.name+"",ae=su[A],Pe=ai.call(su,A)?ae.length:0;Pe--;){var He=ae[Pe],st=He.func;if(st==null||st==y)return He.name}return A}function hu(y){var A=ai.call(et,"placeholder")?et:y;return A.placeholder}function Xn(){var y=et.iteratee||ly;return y=y===ly?rs:y,arguments.length?y(arguments[0],arguments[1]):y}function Tp(y,A){var ae=y.__data__;return f2(A)?ae[typeof A=="string"?"string":"hash"]:ae.map}function wm(y){for(var A=wo(y),ae=A.length;ae--;){var Pe=A[ae],He=y[Pe];A[ae]=[Pe,He,Dc(He)]}return A}function kh(y,A){var ae=Ea(y,A);return kn(ae)?ae:n}function R_(y){var A=ai.call(y,to),ae=y[to];try{y[to]=n;var Pe=!0}catch{}var He=Bi.call(y);return Pe&&(A?y[to]=ae:delete y[to]),He}var u1=pp?function(y){return y==null?[]:(y=jr(y),pn(pp(y),function(A){return vt.call(y,A)}))}:eg,Tm=pp?function(y){for(var A=[];y;)pr(A,u1(y)),y=Se(y);return A}:eg,Ya=Ei;(mp&&Ya(new mp(new ArrayBuffer(1)))!=Wt||Ec&&Ya(new Ec)!=Te||xh&&Ya(xh.resolve())!=nt||Kc&&Ya(new Kc)!=Me||Fu&&Ya(new Fu)!=rt)&&(Ya=function(y){var A=Ei(y),ae=A==Ue?y.constructor:n,Pe=ae?sd(ae):"";if(Pe)switch(Pe){case Mf:return Wt;case kf:return Te;case sm:return nt;case gp:return Me;case Jc:return rt}return A});function h1(y,A,ae){for(var Pe=-1,He=ae.length;++Pe<He;){var st=ae[Pe],Ct=st.size;switch(st.type){case"drop":y+=Ct;break;case"dropRight":A-=Ct;break;case"take":A=fs(A,y+Ct);break;case"takeRight":y=Fs(y,A-Ct);break}}return{start:y,end:A}}function B_(y){var A=y.match(Ft);return A?A[1].split(Gt):[]}function p1(y,A,ae){A=td(A,y);for(var Pe=-1,He=A.length,st=!1;++Pe<He;){var Ct=kl(A[Pe]);if(!(st=y!=null&&ae(y,Ct)))break;y=y[Ct]}return st||++Pe!=He?st:(He=y==null?0:y.length,!!He&&ns(He)&&Nd(Ct,He)&&(gr(y)||Rh(y)))}function Ah(y){var A=y.length,ae=new y.constructor(A);return A&&typeof y[0]=="string"&&ai.call(y,"index")&&(ae.index=y.index,ae.input=y.input),ae}function f1(y){return typeof y.constructor=="function"&&!Ep(y)?Qc(Se(y)):{}}function p2(y,A,ae){var Pe=y.constructor;switch(A){case $t:return xp(y);case ke:case re:return new Pe(+y);case Wt:return k_(y,ae);case Ci:case ti:case Mi:case on:case ft:case Nt:case fi:case Ui:case dn:return P_(y,ae);case Te:return new Pe;case Oe:case Re:return new Pe(y);case ut:return A_(y);case Me:return new Pe;case Ne:return c2(y)}}function Sp(y,A){var ae=A.length;if(!ae)return y;var Pe=ae-1;return A[Pe]=(ae>1?"& ":"")+A[Pe],A=A.join(ae>2?", ":" "),y.replace(Dt,`{
/* [wrapped with `+A+`] */
`)}function Sm(y){return gr(y)||Rh(y)||!!(Tn&&y&&y[Tn])}function Nd(y,A){var ae=typeof y;return A=A??q,!!A&&(ae=="number"||ae!="symbol"&&lr.test(y))&&y>-1&&y%1==0&&y<A}function qa(y,A,ae){if(!ro(ae))return!1;var Pe=typeof A;return(Pe=="number"?ys(ae)&&Nd(A,ae.length):Pe=="string"&&A in ae)?ad(ae[A],y):!1}function m1(y,A){if(gr(y))return!1;var ae=typeof y;return ae=="number"||ae=="symbol"||ae=="boolean"||y==null||Ka(y)?!0:il.test(y)||!ja.test(y)||A!=null&&y in jr(A)}function f2(y){var A=typeof y;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?y!=="__proto__":y===null}function Cp(y){var A=zd(y),ae=et[A];if(typeof ae!="function"||!(A in Jn.prototype))return!1;if(y===ae)return!0;var Pe=rd(ae);return!!Pe&&y===Pe[0]}function Ml(y){return!!en&&en in y}var z_=xi?jd:uy;function Ep(y){var A=y&&y.constructor,ae=typeof A=="function"&&A.prototype||Bt;return y===ae}function Dc(y){return y===y&&!ro(y)}function Cm(y,A){return function(ae){return ae==null?!1:ae[y]===A&&(A!==n||y in jr(ae))}}function Ph(y){var A=oa(y,function(Pe){return ae.size===R&&ae.clear(),Pe}),ae=A.cache;return A}function $f(y,A){var ae=y[1],Pe=A[1],He=ae|Pe,st=He<(G|M|ie),Ct=Pe==ie&&ae==P||Pe==ie&&ae==te&&y[7].length<=A[8]||Pe==(ie|te)&&A[7].length<=A[8]&&ae==P;if(!(st||Ct))return y;Pe&G&&(y[2]=A[2],He|=ae&G?0:S);var Rt=A[3];if(Rt){var Yt=y[3];y[3]=Yt?bp(Yt,Rt,A[4]):Rt,y[4]=Yt?yo(y[3],J):A[4]}return Rt=A[5],Rt&&(Yt=y[5],y[5]=Yt?Ch(Yt,Rt,A[6]):Rt,y[6]=Yt?yo(y[5],J):A[6]),Rt=A[7],Rt&&(y[7]=Rt),Pe&ie&&(y[8]=y[8]==null?A[8]:fs(y[8],A[8])),y[9]==null&&(y[9]=A[9]),y[0]=A[0],y[1]=He,y}function Dh(y){var A=[];if(y!=null)for(var ae in jr(y))A.push(ae);return A}function g1(y){return Bi.call(y)}function Vf(y,A,ae){return A=Fs(A===n?y.length-1:A,0),function(){for(var Pe=arguments,He=-1,st=Fs(Pe.length-A,0),Ct=ui(st);++He<st;)Ct[He]=Pe[A+He];He=-1;for(var Rt=ui(A+1);++He<A;)Rt[He]=Pe[He];return Rt[A]=ae(Ct),ki(y,this,Rt)}}function y1(y,A){return A.length<2?y:Kt(y,ac(A,0,-1))}function N_(y,A){for(var ae=y.length,Pe=fs(A.length,ae),He=Ao(y);Pe--;){var st=A[Pe];y[Pe]=Nd(st,ae)?He[st]:n}return y}function _1(y,A){if(!(A==="constructor"&&typeof y[A]=="function")&&A!="__proto__")return y[A]}var Em=Fd(Nf),Mp=Sl||function(y,A){return Hs.setTimeout(y,A)},Ih=Fd(S_);function Lh(y,A,ae){var Pe=A+"";return Ih(y,Sp(Pe,dc(B_(Pe),ae)))}function Fd(y){var A=0,ae=0;return function(){var Pe=vh(),He=D-(Pe-ae);if(ae=Pe,He>0){if(++A>=w)return arguments[0]}else A=0;return y.apply(n,arguments)}}function kp(y,A){var ae=-1,Pe=y.length,He=Pe-1;for(A=A===n?Pe:A;++ae<A;){var st=Ha(ae,He),Ct=y[st];y[st]=y[ae],y[ae]=Ct}return y.length=A,y}var v1=Ph(function(y){var A=[];return y.charCodeAt(0)===46&&A.push(""),y.replace(ht,function(ae,Pe,He,st){A.push(He?st.replace(_i,"$1"):Pe||ae)}),A});function kl(y){if(typeof y=="string"||Ka(y))return y;var A=y+"";return A=="0"&&1/y==-k?"-0":A}function sd(y){if(y!=null){try{return Ut.call(y)}catch{}try{return y+""}catch{}}return""}function dc(y,A){return di(F,function(ae){var Pe="_."+ae[0];A&ae[1]&&!ps(y,Pe)&&y.push(Pe)}),y.sort()}function Ap(y){if(y instanceof Jn)return y.clone();var A=new al(y.__wrapped__,y.__chain__);return A.__actions__=Ao(y.__actions__),A.__index__=y.__index__,A.__values__=y.__values__,A}function Xa(y,A,ae){(ae?qa(y,A,ae):A===n)?A=1:A=Fs(Qn(A),0);var Pe=y==null?0:y.length;if(!Pe||A<1)return[];for(var He=0,st=0,Ct=ui(Pd(Pe/A));He<Pe;)Ct[st++]=ac(y,He,He+=A);return Ct}function Ic(y){for(var A=-1,ae=y==null?0:y.length,Pe=0,He=[];++A<ae;){var st=y[A];st&&(He[Pe++]=st)}return He}function x1(){var y=arguments.length;if(!y)return[];for(var A=ui(y-1),ae=arguments[0],Pe=y;Pe--;)A[Pe-1]=arguments[Pe];return pr(gr(ae)?Ao(ae):[ae],lt(A,1))}var co=fr(function(y,A){return Cs(y)?qe(y,lt(A,1,Cs,!0)):[]}),F_=fr(function(y,A){var ae=Lc(A);return Cs(ae)&&(ae=n),Cs(y)?qe(y,lt(A,1,Cs,!0),Xn(ae,2)):[]}),Gf=fr(function(y,A){var ae=Lc(A);return Cs(ae)&&(ae=n),Cs(y)?qe(y,lt(A,1,Cs,!0),n,ae):[]});function od(y,A,ae){var Pe=y==null?0:y.length;return Pe?(A=ae||A===n?1:Qn(A),ac(y,A<0?0:A,Pe)):[]}function m2(y,A,ae){var Pe=y==null?0:y.length;return Pe?(A=ae||A===n?1:Qn(A),A=Pe-A,ac(y,0,A<0?0:A)):[]}function g2(y,A){return y&&y.length?_m(y,Xn(A,3),!0,!0):[]}function j_(y,A){return y&&y.length?_m(y,Xn(A,3),!0):[]}function U_(y,A,ae,Pe){var He=y==null?0:y.length;return He?(ae&&typeof ae!="number"&&qa(y,A,ae)&&(ae=0,Pe=He),tt(y,A,ae,Pe)):[]}function Yu(y,A,ae){var Pe=y==null?0:y.length;if(!Pe)return-1;var He=ae==null?0:Qn(ae);return He<0&&(He=Fs(Pe+He,0)),ea(y,Xn(A,3),He)}function b1(y,A,ae){var Pe=y==null?0:y.length;if(!Pe)return-1;var He=Pe-1;return ae!==n&&(He=Qn(ae),He=ae<0?Fs(Pe+He,0):fs(He,Pe-1)),ea(y,Xn(A,3),He,!0)}function w1(y){var A=y==null?0:y.length;return A?lt(y,1):[]}function $_(y){var A=y==null?0:y.length;return A?lt(y,k):[]}function V_(y,A){var ae=y==null?0:y.length;return ae?(A=A===n?1:Qn(A),lt(y,A)):[]}function y2(y){for(var A=-1,ae=y==null?0:y.length,Pe={};++A<ae;){var He=y[A];Pe[He[0]]=He[1]}return Pe}function Mm(y){return y&&y.length?y[0]:n}function T1(y,A,ae){var Pe=y==null?0:y.length;if(!Pe)return-1;var He=ae==null?0:Qn(ae);return He<0&&(He=Fs(Pe+He,0)),Zn(y,A,He)}function S1(y){var A=y==null?0:y.length;return A?ac(y,0,-1):[]}var Za=fr(function(y){var A=hr(y,xm);return A.length&&A[0]===y[0]?ri(A):[]}),G_=fr(function(y){var A=Lc(y),ae=hr(y,xm);return A===Lc(ae)?A=n:ae.pop(),ae.length&&ae[0]===y[0]?ri(ae,Xn(A,2)):[]}),_2=fr(function(y){var A=Lc(y),ae=hr(y,xm);return A=typeof A=="function"?A:n,A&&ae.pop(),ae.length&&ae[0]===y[0]?ri(ae,n,A):[]});function W_(y,A){return y==null?"":fp.call(y,A)}function Lc(y){var A=y==null?0:y.length;return A?y[A-1]:n}function v2(y,A,ae){var Pe=y==null?0:y.length;if(!Pe)return-1;var He=Pe;return ae!==n&&(He=Qn(ae),He=He<0?Fs(Pe+He,0):fs(He,Pe-1)),A===A?yh(y,A,He):ea(y,ta,He,!0)}function H_(y,A){return y&&y.length?no(y,Qn(A)):n}var Y_=fr(C1);function C1(y,A){return y&&y.length&&A&&A.length?oc(y,A):y}function E1(y,A,ae){return y&&y.length&&A&&A.length?oc(y,A,Xn(ae,2)):y}function pu(y,A,ae){return y&&y.length&&A&&A.length?oc(y,A,n,ae):y}var Al=nd(function(y,A){var ae=y==null?0:y.length,Pe=se(y,A);return sa(y,hr(A,function(He){return Nd(He,ae)?+He:He}).sort(D_)),Pe});function x2(y,A){var ae=[];if(!(y&&y.length))return ae;var Pe=-1,He=[],st=y.length;for(A=Xn(A,3);++Pe<st;){var Ct=y[Pe];A(Ct,Pe,y)&&(ae.push(Ct),He.push(Pe))}return sa(y,He),ae}function Wf(y){return y==null?y:qg.call(y)}function b2(y,A,ae){var Pe=y==null?0:y.length;return Pe?(ae&&typeof ae!="number"&&qa(y,A,ae)?(A=0,ae=Pe):(A=A==null?0:Qn(A),ae=ae===n?Pe:Qn(ae)),ac(y,A,ae)):[]}function w2(y,A){return Ff(y,A)}function T2(y,A,ae){return gm(y,A,Xn(ae,2))}function Hf(y,A){var ae=y==null?0:y.length;if(ae){var Pe=Ff(y,A);if(Pe<ae&&ad(y[Pe],A))return Pe}return-1}function km(y,A){return Ff(y,A,!0)}function q_(y,A,ae){return gm(y,A,Xn(ae,2),!0)}function Oh(y,A){var ae=y==null?0:y.length;if(ae){var Pe=Ff(y,A,!0)-1;if(ad(y[Pe],A))return Pe}return-1}function Yf(y){return y&&y.length?Jg(y):[]}function S2(y,A){return y&&y.length?Jg(y,Xn(A,2)):[]}function C2(y){var A=y==null?0:y.length;return A?ac(y,1,A):[]}function E2(y,A,ae){return y&&y.length?(A=ae||A===n?1:Qn(A),ac(y,0,A<0?0:A)):[]}function M2(y,A,ae){var Pe=y==null?0:y.length;return Pe?(A=ae||A===n?1:Qn(A),A=Pe-A,ac(y,A<0?0:A,Pe)):[]}function k2(y,A){return y&&y.length?_m(y,Xn(A,3),!1,!0):[]}function A2(y,A){return y&&y.length?_m(y,Xn(A,3)):[]}var P2=fr(function(y){return cu(lt(y,1,Cs,!0))}),M1=fr(function(y){var A=Lc(y);return Cs(A)&&(A=n),cu(lt(y,1,Cs,!0),Xn(A,2))}),D2=fr(function(y){var A=Lc(y);return A=typeof A=="function"?A:n,cu(lt(y,1,Cs,!0),n,A)});function Pp(y){return y&&y.length?cu(y):[]}function I2(y,A){return y&&y.length?cu(y,Xn(A,2)):[]}function xo(y,A){return A=typeof A=="function"?A:n,y&&y.length?cu(y,n,A):[]}function Dp(y){if(!(y&&y.length))return[];var A=0;return y=pn(y,function(ae){if(Cs(ae))return A=Fs(ae.length,A),!0}),ya(A,function(ae){return hr(y,ga(ae))})}function k1(y,A){if(!(y&&y.length))return[];var ae=Dp(y);return A==null?ae:hr(ae,function(Pe){return ki(A,n,Pe)})}var Am=fr(function(y,A){return Cs(y)?qe(y,A):[]}),Pm=fr(function(y){return vm(pn(y,Cs))}),qf=fr(function(y){var A=Lc(y);return Cs(A)&&(A=n),vm(pn(y,Cs),Xn(A,2))}),X_=fr(function(y){var A=Lc(y);return A=typeof A=="function"?A:n,vm(pn(y,Cs),n,A)}),Z_=fr(Dp);function Xf(y,A){return e1(y||[],A||[],_)}function A1(y,A){return e1(y||[],A||[],lu)}var P1=fr(function(y){var A=y.length,ae=A>1?y[A-1]:n;return ae=typeof ae=="function"?(y.pop(),ae):n,k1(y,ae)});function K_(y){var A=et(y);return A.__chain__=!0,A}function J_(y,A){return A(y),y}function qu(y,A){return A(y)}var L2=nd(function(y){var A=y.length,ae=A?y[0]:0,Pe=this.__wrapped__,He=function(st){return se(st,y)};return A>1||this.__actions__.length||!(Pe instanceof Jn)||!Nd(ae)?this.thru(He):(Pe=Pe.slice(ae,+ae+(A?1:0)),Pe.__actions__.push({func:qu,args:[He],thisArg:n}),new al(Pe,this.__chain__).thru(function(st){return A&&!st.length&&st.push(n),st}))});function D1(){return K_(this)}function O2(){return new al(this.value(),this.__chain__)}function I1(){this.__values__===n&&(this.__values__=$m(this.value()));var y=this.__index__>=this.__values__.length,A=y?n:this.__values__[this.__index__++];return{done:y,value:A}}function L1(){return this}function Dm(y){for(var A,ae=this;ae instanceof bh;){var Pe=Ap(ae);Pe.__index__=0,Pe.__values__=n,A?He.__wrapped__=Pe:A=Pe;var He=Pe;ae=ae.__wrapped__}return He.__wrapped__=y,A}function R2(){var y=this.__wrapped__;if(y instanceof Jn){var A=y;return this.__actions__.length&&(A=new Jn(this)),A=A.reverse(),A.__actions__.push({func:qu,args:[Wf],thisArg:n}),new al(A,this.__chain__)}return this.thru(Wf)}function B2(){return Sh(this.__wrapped__,this.__actions__)}var z2=Bd(function(y,A,ae){ai.call(y,ae)?++y[ae]:W(y,ae,1)});function N2(y,A,ae){var Pe=gr(y)?qn:dt;return ae&&qa(y,A,ae)&&(A=n),Pe(y,Xn(A,3))}function F2(y,A){var ae=gr(y)?pn:pt;return ae(y,Xn(A,3))}var j2=O_(Yu),Im=O_(b1);function U2(y,A){return lt(Lm(y,A),1)}function Q_(y,A){return lt(Lm(y,A),k)}function Ip(y,A,ae){return ae=ae===n?1:Qn(ae),lt(Lm(y,A),ae)}function ev(y,A){var ae=gr(y)?di:ot;return ae(y,Xn(A,3))}function tv(y,A){var ae=gr(y)?Yi:at;return ae(y,Xn(A,3))}var $2=Bd(function(y,A,ae){ai.call(y,ae)?y[ae].push(A):W(y,ae,[A])});function iv(y,A,ae,Pe){y=ys(y)?y:zh(y),ae=ae&&!Pe?Qn(ae):0;var He=y.length;return ae<0&&(ae=Fs(He+ae,0)),Um(y)?ae<=He&&y.indexOf(A,ae)>-1:!!He&&Zn(y,A,ae)>-1}var nv=fr(function(y,A,ae){var Pe=-1,He=typeof A=="function",st=ys(y)?ui(y.length):[];return ot(y,function(Ct){st[++Pe]=He?ki(A,Ct,ae):zi(Ct,A,ae)}),st}),V2=Bd(function(y,A,ae){W(y,ae,A)});function Lm(y,A){var ae=gr(y)?hr:_a;return ae(y,Xn(A,3))}function G2(y,A,ae,Pe){return y==null?[]:(gr(A)||(A=A==null?[]:[A]),ae=Pe?n:ae,gr(ae)||(ae=ae==null?[]:[ae]),ra(y,A,ae))}var O1=Bd(function(y,A,ae){y[ae?0:1].push(A)},function(){return[[],[]]});function Om(y,A,ae){var Pe=gr(y)?Wn:ol,He=arguments.length<3;return Pe(y,Xn(A,4),ae,He,ot)}function Rm(y,A,ae){var Pe=gr(y)?Qs:ol,He=arguments.length<3;return Pe(y,Xn(A,4),ae,He,at)}function W2(y,A){var ae=gr(y)?pn:pt;return ae(y,Xu(Xn(A,3)))}function H2(y){var A=gr(y)?Bf:Gu;return A(y)}function Zf(y,A,ae){(ae?qa(y,A,ae):A===n)?A=1:A=Qn(A);var Pe=gr(y)?mm:Pc;return Pe(y,A)}function Kf(y){var A=gr(y)?zf:Kg;return A(y)}function rv(y){if(y==null)return 0;if(ys(y))return Um(y)?_r(y):y.length;var A=Ya(y);return A==Te||A==Me?y.size:es(y).length}function Jf(y,A,ae){var Pe=gr(y)?mr:C_;return ae&&qa(y,A,ae)&&(A=n),Pe(y,Xn(A,3))}var sv=fr(function(y,A){if(y==null)return[];var ae=A.length;return ae>1&&qa(y,A[0],A[1])?A=[]:ae>2&&qa(A[0],A[1],A[2])&&(A=[A[0]]),ra(y,lt(A,1),[])}),Bm=tn||function(){return Hs.Date.now()};function ov(y,A){if(typeof A!="function")throw new Go(h);return y=Qn(y),function(){if(--y<1)return A.apply(this,arguments)}}function R1(y,A,ae){return A=ae?n:A,A=y&&A==null?y.length:A,ba(y,ie,n,n,n,n,A)}function B1(y,A){var ae;if(typeof A!="function")throw new Go(h);return y=Qn(y),function(){return--y>0&&(ae=A.apply(this,arguments)),y<=1&&(A=n),ae}}var zm=fr(function(y,A,ae){var Pe=G;if(ae.length){var He=yo(ae,hu(zm));Pe|=U}return ba(y,Pe,A,ae,He)}),z1=fr(function(y,A,ae){var Pe=G|M;if(ae.length){var He=yo(ae,hu(z1));Pe|=U}return ba(A,Pe,y,ae,He)});function N1(y,A,ae){A=ae?n:A;var Pe=ba(y,P,n,n,n,n,n,A);return Pe.placeholder=N1.placeholder,Pe}function av(y,A,ae){A=ae?n:A;var Pe=ba(y,H,n,n,n,n,n,A);return Pe.placeholder=av.placeholder,Pe}function lv(y,A,ae){var Pe,He,st,Ct,Rt,Yt,Ai=0,Ri=!1,Vi=!1,yn=!0;if(typeof y!="function")throw new Go(h);A=Aa(A)||0,ro(ae)&&(Ri=!!ae.leading,Vi="maxWait"in ae,st=Vi?Fs(Aa(ae.maxWait)||0,A):st,yn="trailing"in ae?!!ae.trailing:yn);function Bn(Po){var wa=Pe,Vd=He;return Pe=He=n,Ai=Po,Ct=y.apply(Vd,wa),Ct}function nr(Po){return Ai=Po,Rt=Mp($r,A),Ri?Bn(Po):Ct}function Dr(Po){var wa=Po-Yt,Vd=Po-Ai,p0=A-wa;return Vi?fs(p0,st-Vd):p0}function sr(Po){var wa=Po-Yt,Vd=Po-Ai;return Yt===n||wa>=A||wa<0||Vi&&Vd>=st}function $r(){var Po=Bm();if(sr(Po))return Yr(Po);Rt=Mp($r,Dr(Po))}function Yr(Po){return Rt=n,yn&&Pe?Bn(Po):(Pe=He=n,Ct)}function Pl(){Rt!==n&&jf(Rt),Ai=0,Pe=Yt=He=Rt=n}function Ja(){return Rt===n?Ct:Yr(Bm())}function Dl(){var Po=Bm(),wa=sr(Po);if(Pe=arguments,He=this,Yt=Po,wa){if(Rt===n)return nr(Yt);if(Vi)return jf(Rt),Rt=Mp($r,A),Bn(Yt)}return Rt===n&&(Rt=Mp($r,A)),Ct}return Dl.cancel=Pl,Dl.flush=Ja,Dl}var cv=fr(function(y,A){return Fe(y,1,A)}),Nm=fr(function(y,A,ae){return Fe(y,Aa(A)||0,ae)});function dv(y){return ba(y,$)}function oa(y,A){if(typeof y!="function"||A!=null&&typeof A!="function")throw new Go(h);var ae=function(){var Pe=arguments,He=A?A.apply(this,Pe):Pe[0],st=ae.cache;if(st.has(He))return st.get(He);var Ct=y.apply(this,Pe);return ae.cache=st.set(He,Ct)||st,Ct};return ae.cache=new(oa.Cache||kc),ae}oa.Cache=kc;function Xu(y){if(typeof y!="function")throw new Go(h);return function(){var A=arguments;switch(A.length){case 0:return!y.call(this);case 1:return!y.call(this,A[0]);case 2:return!y.call(this,A[0],A[1]);case 3:return!y.call(this,A[0],A[1],A[2])}return!y.apply(this,A)}}function Lp(y){return B1(2,y)}var Qf=M_(function(y,A){A=A.length==1&&gr(A[0])?hr(A[0],zo(Xn())):hr(lt(A,1),zo(Xn()));var ae=A.length;return fr(function(Pe){for(var He=-1,st=fs(Pe.length,ae);++He<st;)Pe[He]=A[He].call(this,Pe[He]);return ki(y,this,Pe)})}),Fm=fr(function(y,A){var ae=yo(A,hu(Fm));return ba(y,U,n,A,ae)}),F1=fr(function(y,A){var ae=yo(A,hu(F1));return ba(y,E,n,A,ae)}),Y2=nd(function(y,A){return ba(y,te,n,n,n,A)});function q2(y,A){if(typeof y!="function")throw new Go(h);return A=A===n?A:Qn(A),fr(y,A)}function X2(y,A){if(typeof y!="function")throw new Go(h);return A=A==null?0:Fs(Qn(A),0),fr(function(ae){var Pe=ae[A],He=Od(ae,0,A);return Pe&&pr(He,Pe),ki(y,this,He)})}function Z2(y,A,ae){var Pe=!0,He=!0;if(typeof y!="function")throw new Go(h);return ro(ae)&&(Pe="leading"in ae?!!ae.leading:Pe,He="trailing"in ae?!!ae.trailing:He),lv(y,A,{leading:Pe,maxWait:A,trailing:He})}function K2(y){return R1(y,1)}function J2(y,A){return Fm(t1(A),y)}function jm(){if(!arguments.length)return[];var y=arguments[0];return gr(y)?y:[y]}function Q2(y){return me(y,Z)}function uv(y,A){return A=typeof A=="function"?A:n,me(y,Z,A)}function hv(y){return me(y,I|Z)}function pv(y,A){return A=typeof A=="function"?A:n,me(y,I|Z,A)}function ew(y,A){return A==null||Ae(y,A,wo(A))}function ad(y,A){return y===A||y!==y&&A!==A}var tw=lc(qt),iw=lc(function(y,A){return y>=A}),Rh=Ht(function(){return arguments}())?Ht:function(y){return bo(y)&&ai.call(y,"callee")&&!vt.call(y,"callee")},gr=ui.isArray,nw=Ve?zo(Ve):ii;function ys(y){return y!=null&&ns(y.length)&&!jd(y)}function Cs(y){return bo(y)&&ys(y)}function j1(y){return y===!0||y===!1||bo(y)&&Ei(y)==ke}var ld=Bu||uy,Op=Ze?zo(Ze):mn;function rw(y){return bo(y)&&y.nodeType===1&&!i0(y)}function sw(y){if(y==null)return!0;if(ys(y)&&(gr(y)||typeof y=="string"||typeof y.splice=="function"||ld(y)||cd(y)||Rh(y)))return!y.length;var A=Ya(y);if(A==Te||A==Me)return!y.size;if(Ep(y))return!es(y).length;for(var ae in y)if(ai.call(y,ae))return!1;return!0}function e0(y,A){return Sn(y,A)}function ow(y,A,ae){ae=typeof ae=="function"?ae:n;var Pe=ae?ae(y,A):n;return Pe===n?Sn(y,A,n,ae):!!Pe}function U1(y){if(!bo(y))return!1;var A=Ei(y);return A==_e||A==ve||typeof y.message=="string"&&typeof y.name=="string"&&!i0(y)}function t0(y){return typeof y=="number"&&Ef(y)}function jd(y){if(!ro(y))return!1;var A=Ei(y);return A==oe||A==ye||A==ge||A==Qe}function $1(y){return typeof y=="number"&&y==Qn(y)}function ns(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=q}function ro(y){var A=typeof y;return y!=null&&(A=="object"||A=="function")}function bo(y){return y!=null&&typeof y=="object"}var V1=It?zo(It):jn;function fu(y,A){return y===A||or(y,A,wm(A))}function Rp(y,A,ae){return ae=typeof ae=="function"?ae:n,or(y,A,wm(A),ae)}function fv(y){return mv(y)&&y!=+y}function aw(y){if(z_(y))throw new Kn(d);return kn(y)}function lw(y){return y===null}function cw(y){return y==null}function mv(y){return typeof y=="number"||bo(y)&&Ei(y)==Oe}function i0(y){if(!bo(y)||Ei(y)!=Ue)return!1;var A=Se(y);if(A===null)return!0;var ae=ai.call(A,"constructor")&&A.constructor;return typeof ae=="function"&&ae instanceof ae&&Ut.call(ae)==Rn}var G1=St?zo(St):an;function dw(y){return $1(y)&&y>=-q&&y<=q}var gv=Zt?zo(Zt):is;function Um(y){return typeof y=="string"||!gr(y)&&bo(y)&&Ei(y)==Re}function Ka(y){return typeof y=="symbol"||bo(y)&&Ei(y)==Ne}var cd=pi?zo(pi):Gr;function yv(y){return y===n}function uw(y){return bo(y)&&Ya(y)==rt}function hw(y){return bo(y)&&Ei(y)==yt}var pw=lc(ka),W1=lc(function(y,A){return y<=A});function $m(y){if(!y)return[];if(ys(y))return Um(y)?$o(y):Ao(y);if(vr&&y[vr])return kd(y[vr]());var A=Ya(y),ae=A==Te?Tc:A==Me?bl:zh;return ae(y)}function Ud(y){if(!y)return y===0?y:0;if(y=Aa(y),y===k||y===-k){var A=y<0?-1:1;return A*Y}return y===y?y:0}function Qn(y){var A=Ud(y),ae=A%1;return A===A?ae?A-ae:A:0}function Bp(y){return y?ue(Qn(y),0,le):0}function Aa(y){if(typeof y=="number")return y;if(Ka(y))return K;if(ro(y)){var A=typeof y.valueOf=="function"?y.valueOf():y;y=ro(A)?A+"":A}if(typeof y!="string")return y===0?y:+y;y=Kl(y);var ae=Cn.test(y);return ae||Gi.test(y)?Ed(y.slice(2),ae?2:8):Mn.test(y)?K:+y}function Vm(y){return Wo(y,ul(y))}function Gm(y){return y?ue(Qn(y),-q,q):y===0?y:0}function Es(y){return y==null?"":El(y)}var _v=wp(function(y,A){if(Ep(A)||ys(A)){Wo(A,wo(A),y);return}for(var ae in A)ai.call(A,ae)&&_(y,ae,A[ae])}),H1=wp(function(y,A){Wo(A,ul(A),y)}),Wm=wp(function(y,A,ae,Pe){Wo(A,ul(A),y,Pe)}),vv=wp(function(y,A,ae,Pe){Wo(A,wo(A),y,Pe)}),xv=nd(se);function Y1(y,A){var ae=Qc(y);return A==null?ae:T(ae,A)}var bv=fr(function(y,A){y=jr(y);var ae=-1,Pe=A.length,He=Pe>2?A[2]:n;for(He&&qa(A[0],A[1],He)&&(Pe=1);++ae<Pe;)for(var st=A[ae],Ct=ul(st),Rt=-1,Yt=Ct.length;++Rt<Yt;){var Ai=Ct[Rt],Ri=y[Ai];(Ri===n||ad(Ri,Bt[Ai])&&!ai.call(y,Ai))&&(y[Ai]=st[Ai])}return y}),fw=fr(function(y){return y.push(n,Mh),ki(n0,n,y)});function wv(y,A){return eo(y,Xn(A,3),Tt)}function mu(y,A){return eo(y,Xn(A,3),zt)}function Tv(y,A){return y==null?y:xt(y,Xn(A,3),ul)}function Sv(y,A){return y==null?y:At(y,Xn(A,3),ul)}function Cv(y,A){return y&&Tt(y,Xn(A,3))}function Ev(y,A){return y&&zt(y,Xn(A,3))}function mw(y){return y==null?[]:ei(y,wo(y))}function gw(y){return y==null?[]:ei(y,ul(y))}function Hm(y,A,ae){var Pe=y==null?n:Kt(y,A);return Pe===n?ae:Pe}function Mv(y,A){return y!=null&&p1(y,A,mi)}function Bh(y,A){return y!=null&&p1(y,A,ni)}var kv=uu(function(y,A,ae){A!=null&&typeof A.toString!="function"&&(A=Bi.call(A)),y[A]=ae},ay(No)),Av=uu(function(y,A,ae){A!=null&&typeof A.toString!="function"&&(A=Bi.call(A)),ai.call(y,A)?y[A].push(ae):y[A]=[ae]},Xn),q1=fr(zi);function wo(y){return ys(y)?vp(y):es(y)}function ul(y){return ys(y)?vp(y,!0):Wa(y)}function Ym(y,A){var ae={};return A=Xn(A,3),Tt(y,function(Pe,He,st){W(ae,A(Pe,He,st),Pe)}),ae}function Pv(y,A){var ae={};return A=Xn(A,3),Tt(y,function(Pe,He,st){W(ae,He,A(Pe,He,st))}),ae}var qm=wp(function(y,A,ae){ts(y,A,ae)}),n0=wp(function(y,A,ae,Pe){ts(y,A,ae,Pe)}),yw=nd(function(y,A){var ae={};if(y==null)return ae;var Pe=!1;A=hr(A,function(st){return st=td(st,y),Pe||(Pe=st.length>1),st}),Wo(y,d1(y),ae),Pe&&(ae=me(ae,I|z|Z,a1));for(var He=A.length;He--;)ym(ae,A[He]);return ae});function _w(y,A){return Dv(y,Xu(Xn(A)))}var vw=nd(function(y,A){return y==null?{}:gs(y,A)});function Dv(y,A){if(y==null)return{};var ae=hr(d1(y),function(Pe){return[Pe]});return A=Xn(A),va(y,ae,function(Pe,He){return A(Pe,He[0])})}function xw(y,A,ae){A=td(A,y);var Pe=-1,He=A.length;for(He||(He=1,y=n);++Pe<He;){var st=y==null?n:y[kl(A[Pe])];st===n&&(Pe=He,st=ae),y=jd(st)?st.call(y):st}return y}function zp(y,A,ae){return y==null?y:lu(y,A,ae)}function X1(y,A,ae,Pe){return Pe=typeof Pe=="function"?Pe:n,y==null?y:lu(y,A,ae,Pe)}var Iv=s1(wo),Z1=s1(ul);function bw(y,A,ae){var Pe=gr(y),He=Pe||ld(y)||cd(y);if(A=Xn(A,4),ae==null){var st=y&&y.constructor;He?ae=Pe?new st:[]:ro(y)?ae=jd(st)?Qc(Se(y)):{}:ae={}}return(He?di:Tt)(y,function(Ct,Rt,Yt){return A(ae,Ct,Rt,Yt)}),ae}function K1(y,A){return y==null?!0:ym(y,A)}function ww(y,A,ae){return y==null?y:E_(y,A,t1(ae))}function Zu(y,A,ae,Pe){return Pe=typeof Pe=="function"?Pe:n,y==null?y:E_(y,A,t1(ae),Pe)}function zh(y){return y==null?[]:Jl(y,wo(y))}function Lv(y){return y==null?[]:Jl(y,ul(y))}function Xm(y,A,ae){return ae===n&&(ae=A,A=n),ae!==n&&(ae=Aa(ae),ae=ae===ae?ae:0),A!==n&&(A=Aa(A),A=A===A?A:0),ue(Aa(y),A,ae)}function J1(y,A,ae){return A=Ud(A),ae===n?(ae=A,A=0):ae=Ud(ae),y=Aa(y),Oi(y,A,ae)}function Tw(y,A,ae){if(ae&&typeof ae!="boolean"&&qa(y,A,ae)&&(A=ae=n),ae===n&&(typeof A=="boolean"?(ae=A,A=n):typeof y=="boolean"&&(ae=y,y=n)),y===n&&A===n?(y=0,A=1):(y=Ud(y),A===n?(A=y,y=0):A=Ud(A)),y>A){var Pe=y;y=A,A=Pe}if(ae||y%1||A%1){var He=rm();return fs(y+He*(A-y+Xc("1e-"+((He+"").length-1))),A)}return Ha(y,A)}var Sw=du(function(y,A,ae){return A=A.toLowerCase(),y+(ae?Q1(A):A)});function Q1(y){return Jm(Es(y).toLowerCase())}function ey(y){return y=Es(y),y&&y.replace(kr,Iu).replace(Ws,"")}function r0(y,A,ae){y=Es(y),A=El(A);var Pe=y.length;ae=ae===n?Pe:ue(Qn(ae),0,Pe);var He=ae;return ae-=A.length,ae>=0&&y.slice(ae,He)==A}function gu(y){return y=Es(y),y&&fo.test(y)?y.replace(Wi,tc):y}function ty(y){return y=Es(y),y&&We.test(y)?y.replace(ze,"\\$&"):y}var Np=du(function(y,A,ae){return y+(ae?"-":"")+A.toLowerCase()}),Fp=du(function(y,A,ae){return y+(ae?" ":"")+A.toLowerCase()}),Oc=n1("toLowerCase");function Rc(y,A,ae){y=Es(y),A=Qn(A);var Pe=A?_r(y):0;if(!A||Pe>=A)return y;var He=(A-Pe)/2;return Uf(_h(He),ae)+y+Uf(Pd(He),ae)}function Cw(y,A,ae){y=Es(y),A=Qn(A);var Pe=A?_r(y):0;return A&&Pe<A?y+Uf(A-Pe,ae):y}function Ov(y,A,ae){y=Es(y),A=Qn(A);var Pe=A?_r(y):0;return A&&Pe<A?Uf(A-Pe,ae)+y:y}function Ew(y,A,ae){return ae||A==null?A=0:A&&(A=+A),Nu(Es(y).replace(ct,""),A||0)}function iy(y,A,ae){return(ae?qa(y,A,ae):A===n)?A=1:A=Qn(A),Cl(Es(y),A)}function $d(){var y=arguments,A=Es(y[0]);return y.length<3?A:A.replace(y[1],y[2])}var Nh=du(function(y,A,ae){return y+(ae?"_":"")+A.toLowerCase()});function Rv(y,A,ae){return ae&&typeof ae!="number"&&qa(y,A,ae)&&(A=ae=n),ae=ae===n?le:ae>>>0,ae?(y=Es(y),y&&(typeof A=="string"||A!=null&&!G1(A))&&(A=El(A),!A&&Ma(y))?Od($o(y),0,ae):y.split(A,ae)):[]}var Bv=du(function(y,A,ae){return y+(ae?" ":"")+Jm(A)});function Mw(y,A,ae){return y=Es(y),ae=ae==null?0:ue(Qn(ae),0,y.length),A=El(A),y.slice(ae,ae+A.length)==A}function Zm(y,A,ae){var Pe=et.templateSettings;ae&&qa(y,A,ae)&&(A=n),y=Es(y),A=Wm({},A,Pe,o1);var He=Wm({},A.imports,Pe.imports,o1),st=wo(He),Ct=Jl(He,st),Rt,Yt,Ai=0,Ri=A.interpolate||_n,Vi="__p += '",yn=Cc((A.escape||_n).source+"|"+Ri.source+"|"+(Ri===Ln?qi:_n).source+"|"+(A.evaluate||_n).source+"|$","g"),Bn="//# sourceURL="+(ai.call(A,"sourceURL")?(A.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Sd+"]")+`
`;y.replace(yn,function(sr,$r,Yr,Pl,Ja,Dl){return Yr||(Yr=Pl),Vi+=y.slice(Ai,Dl).replace(Hr,ru),$r&&(Rt=!0,Vi+=`' +
__e(`+$r+`) +
'`),Ja&&(Yt=!0,Vi+=`';
`+Ja+`;
__p += '`),Yr&&(Vi+=`' +
((__t = (`+Yr+`)) == null ? '' : __t) +
'`),Ai=Dl+sr.length,sr}),Vi+=`';
`;var nr=ai.call(A,"variable")&&A.variable;if(!nr)Vi=`with (obj) {
`+Vi+`
}
`;else if(Xt.test(nr))throw new Kn(s);Vi=(Yt?Vi.replace(Gn,""):Vi).replace(Kr,"$1").replace(ci,"$1;"),Vi="function("+(nr||"obj")+`) {
`+(nr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Rt?", __e = _.escape":"")+(Yt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Vi+`return __p
}`;var Dr=sy(function(){return Or(st,Bn+"return "+Vi).apply(n,Ct)});if(Dr.source=Vi,U1(Dr))throw Dr;return Dr}function ny(y){return Es(y).toLowerCase()}function jp(y){return Es(y).toUpperCase()}function s0(y,A,ae){if(y=Es(y),y&&(ae||A===n))return Kl(y);if(!y||!(A=El(A)))return y;var Pe=$o(y),He=$o(A),st=nu(Pe,He),Ct=Ql(Pe,He)+1;return Od(Pe,st,Ct).join("")}function o0(y,A,ae){if(y=Es(y),y&&(ae||A===n))return y.slice(0,_o(y)+1);if(!y||!(A=El(A)))return y;var Pe=$o(y),He=Ql(Pe,$o(A))+1;return Od(Pe,0,He).join("")}function Km(y,A,ae){if(y=Es(y),y&&(ae||A===n))return y.replace(ct,"");if(!y||!(A=El(A)))return y;var Pe=$o(y),He=nu(Pe,$o(A));return Od(Pe,He).join("")}function zv(y,A){var ae=V,Pe=j;if(ro(A)){var He="separator"in A?A.separator:He;ae="length"in A?Qn(A.length):ae,Pe="omission"in A?El(A.omission):Pe}y=Es(y);var st=y.length;if(Ma(y)){var Ct=$o(y);st=Ct.length}if(ae>=st)return y;var Rt=ae-_r(Pe);if(Rt<1)return Pe;var Yt=Ct?Od(Ct,0,Rt).join(""):y.slice(0,Rt);if(He===n)return Yt+Pe;if(Ct&&(Rt+=Yt.length-Rt),G1(He)){if(y.slice(Rt).search(He)){var Ai,Ri=Yt;for(He.global||(He=Cc(He.source,Es(Pi.exec(He))+"g")),He.lastIndex=0;Ai=He.exec(Ri);)var Vi=Ai.index;Yt=Yt.slice(0,Vi===n?Rt:Vi)}}else if(y.indexOf(El(He),Rt)!=Rt){var yn=Yt.lastIndexOf(He);yn>-1&&(Yt=Yt.slice(0,yn))}return Yt+Pe}function a0(y){return y=Es(y),y&&zr.test(y)?y.replace($i,na):y}var ry=du(function(y,A,ae){return y+(ae?" ":"")+A.toUpperCase()}),Jm=n1("toUpperCase");function Fh(y,A,ae){return y=Es(y),A=ae?n:A,A===n?ic(y)?Ou(y):Xl(y):y.match(A)||[]}var sy=fr(function(y,A){try{return ki(y,n,A)}catch(ae){return U1(ae)?ae:new Kn(ae)}}),oy=nd(function(y,A){return di(A,function(ae){ae=kl(ae),W(y,ae,zm(y[ae],y))}),y});function Nv(y){var A=y==null?0:y.length,ae=Xn();return y=A?hr(y,function(Pe){if(typeof Pe[1]!="function")throw new Go(h);return[ae(Pe[0]),Pe[1]]}):[],fr(function(Pe){for(var He=-1;++He<A;){var st=y[He];if(ki(st[0],this,Pe))return ki(st[1],this,Pe)}})}function kw(y){return De(me(y,I))}function ay(y){return function(){return y}}function Fv(y,A){return y==null||y!==y?A:y}var jh=vo(),Aw=vo(!0);function No(y){return y}function ly(y){return rs(typeof y=="function"?y:me(y,I))}function l0(y){return sc(me(y,I))}function c0(y,A){return ms(y,me(A,I))}var d0=fr(function(y,A){return function(ae){return zi(ae,y,A)}}),u0=fr(function(y,A){return function(ae){return zi(y,ae,A)}});function Up(y,A,ae){var Pe=wo(A),He=ei(A,Pe);ae==null&&!(ro(A)&&(He.length||!Pe.length))&&(ae=A,A=y,y=this,He=ei(A,wo(A)));var st=!(ro(ae)&&"chain"in ae)||!!ae.chain,Ct=jd(y);return di(He,function(Rt){var Yt=A[Rt];y[Rt]=Yt,Ct&&(y.prototype[Rt]=function(){var Ai=this.__chain__;if(st||Ai){var Ri=y(this.__wrapped__),Vi=Ri.__actions__=Ao(this.__actions__);return Vi.push({func:Yt,args:arguments,thisArg:y}),Ri.__chain__=Ai,Ri}return Yt.apply(y,pr([this.value()],arguments))})}),y}function Pw(){return Hs._===this&&(Hs._=Fn),this}function cy(){}function $p(y){return y=Qn(y),fr(function(A){return no(A,y)})}var Qm=Ar(hr),Dw=Ar(qn),jv=Ar(mr);function dy(y){return m1(y)?ga(kl(y)):Th(y)}function Iw(y){return function(A){return y==null?n:Kt(y,A)}}var Uv=id(),Lw=id(!0);function eg(){return[]}function uy(){return!1}function $v(){return{}}function Ow(){return""}function Rw(){return!0}function tg(y,A){if(y=Qn(y),y<1||y>q)return[];var ae=le,Pe=fs(y,le);A=Xn(A),y-=le;for(var He=ya(Pe,A);++ae<y;)A(ae);return He}function ig(y){return gr(y)?hr(y,kl):Ka(y)?[y]:Ao(v1(Es(y)))}function ng(y){var A=++Di;return Es(y)+A}var Bw=Eh(function(y,A){return y+A},0),hy=dl("ceil"),py=Eh(function(y,A){return y/A},1),Ku=dl("floor");function zw(y){return y&&y.length?Ke(y,No,qt):n}function fy(y,A){return y&&y.length?Ke(y,Xn(A,2),qt):n}function Vv(y){return Bo(y,No)}function rg(y,A){return Bo(y,Xn(A,2))}function Nw(y){return y&&y.length?Ke(y,No,ka):n}function Fw(y,A){return y&&y.length?Ke(y,Xn(A,2),ka):n}var jw=Eh(function(y,A){return y*A},1),Uw=dl("round"),my=Eh(function(y,A){return y-A},0);function $w(y){return y&&y.length?Fr(y,No):0}function h0(y,A){return y&&y.length?Fr(y,Xn(A,2)):0}return et.after=ov,et.ary=R1,et.assign=_v,et.assignIn=H1,et.assignInWith=Wm,et.assignWith=vv,et.at=xv,et.before=B1,et.bind=zm,et.bindAll=oy,et.bindKey=z1,et.castArray=jm,et.chain=K_,et.chunk=Xa,et.compact=Ic,et.concat=x1,et.cond=Nv,et.conforms=kw,et.constant=ay,et.countBy=z2,et.create=Y1,et.curry=N1,et.curryRight=av,et.debounce=lv,et.defaults=bv,et.defaultsDeep=fw,et.defer=cv,et.delay=Nm,et.difference=co,et.differenceBy=F_,et.differenceWith=Gf,et.drop=od,et.dropRight=m2,et.dropRightWhile=g2,et.dropWhile=j_,et.fill=U_,et.filter=F2,et.flatMap=U2,et.flatMapDeep=Q_,et.flatMapDepth=Ip,et.flatten=w1,et.flattenDeep=$_,et.flattenDepth=V_,et.flip=dv,et.flow=jh,et.flowRight=Aw,et.fromPairs=y2,et.functions=mw,et.functionsIn=gw,et.groupBy=$2,et.initial=S1,et.intersection=Za,et.intersectionBy=G_,et.intersectionWith=_2,et.invert=kv,et.invertBy=Av,et.invokeMap=nv,et.iteratee=ly,et.keyBy=V2,et.keys=wo,et.keysIn=ul,et.map=Lm,et.mapKeys=Ym,et.mapValues=Pv,et.matches=l0,et.matchesProperty=c0,et.memoize=oa,et.merge=qm,et.mergeWith=n0,et.method=d0,et.methodOf=u0,et.mixin=Up,et.negate=Xu,et.nthArg=$p,et.omit=yw,et.omitBy=_w,et.once=Lp,et.orderBy=G2,et.over=Qm,et.overArgs=Qf,et.overEvery=Dw,et.overSome=jv,et.partial=Fm,et.partialRight=F1,et.partition=O1,et.pick=vw,et.pickBy=Dv,et.property=dy,et.propertyOf=Iw,et.pull=Y_,et.pullAll=C1,et.pullAllBy=E1,et.pullAllWith=pu,et.pullAt=Al,et.range=Uv,et.rangeRight=Lw,et.rearg=Y2,et.reject=W2,et.remove=x2,et.rest=q2,et.reverse=Wf,et.sampleSize=Zf,et.set=zp,et.setWith=X1,et.shuffle=Kf,et.slice=b2,et.sortBy=sv,et.sortedUniq=Yf,et.sortedUniqBy=S2,et.split=Rv,et.spread=X2,et.tail=C2,et.take=E2,et.takeRight=M2,et.takeRightWhile=k2,et.takeWhile=A2,et.tap=J_,et.throttle=Z2,et.thru=qu,et.toArray=$m,et.toPairs=Iv,et.toPairsIn=Z1,et.toPath=ig,et.toPlainObject=Vm,et.transform=bw,et.unary=K2,et.union=P2,et.unionBy=M1,et.unionWith=D2,et.uniq=Pp,et.uniqBy=I2,et.uniqWith=xo,et.unset=K1,et.unzip=Dp,et.unzipWith=k1,et.update=ww,et.updateWith=Zu,et.values=zh,et.valuesIn=Lv,et.without=Am,et.words=Fh,et.wrap=J2,et.xor=Pm,et.xorBy=qf,et.xorWith=X_,et.zip=Z_,et.zipObject=Xf,et.zipObjectDeep=A1,et.zipWith=P1,et.entries=Iv,et.entriesIn=Z1,et.extend=H1,et.extendWith=Wm,Up(et,et),et.add=Bw,et.attempt=sy,et.camelCase=Sw,et.capitalize=Q1,et.ceil=hy,et.clamp=Xm,et.clone=Q2,et.cloneDeep=hv,et.cloneDeepWith=pv,et.cloneWith=uv,et.conformsTo=ew,et.deburr=ey,et.defaultTo=Fv,et.divide=py,et.endsWith=r0,et.eq=ad,et.escape=gu,et.escapeRegExp=ty,et.every=N2,et.find=j2,et.findIndex=Yu,et.findKey=wv,et.findLast=Im,et.findLastIndex=b1,et.findLastKey=mu,et.floor=Ku,et.forEach=ev,et.forEachRight=tv,et.forIn=Tv,et.forInRight=Sv,et.forOwn=Cv,et.forOwnRight=Ev,et.get=Hm,et.gt=tw,et.gte=iw,et.has=Mv,et.hasIn=Bh,et.head=Mm,et.identity=No,et.includes=iv,et.indexOf=T1,et.inRange=J1,et.invoke=q1,et.isArguments=Rh,et.isArray=gr,et.isArrayBuffer=nw,et.isArrayLike=ys,et.isArrayLikeObject=Cs,et.isBoolean=j1,et.isBuffer=ld,et.isDate=Op,et.isElement=rw,et.isEmpty=sw,et.isEqual=e0,et.isEqualWith=ow,et.isError=U1,et.isFinite=t0,et.isFunction=jd,et.isInteger=$1,et.isLength=ns,et.isMap=V1,et.isMatch=fu,et.isMatchWith=Rp,et.isNaN=fv,et.isNative=aw,et.isNil=cw,et.isNull=lw,et.isNumber=mv,et.isObject=ro,et.isObjectLike=bo,et.isPlainObject=i0,et.isRegExp=G1,et.isSafeInteger=dw,et.isSet=gv,et.isString=Um,et.isSymbol=Ka,et.isTypedArray=cd,et.isUndefined=yv,et.isWeakMap=uw,et.isWeakSet=hw,et.join=W_,et.kebabCase=Np,et.last=Lc,et.lastIndexOf=v2,et.lowerCase=Fp,et.lowerFirst=Oc,et.lt=pw,et.lte=W1,et.max=zw,et.maxBy=fy,et.mean=Vv,et.meanBy=rg,et.min=Nw,et.minBy=Fw,et.stubArray=eg,et.stubFalse=uy,et.stubObject=$v,et.stubString=Ow,et.stubTrue=Rw,et.multiply=jw,et.nth=H_,et.noConflict=Pw,et.noop=cy,et.now=Bm,et.pad=Rc,et.padEnd=Cw,et.padStart=Ov,et.parseInt=Ew,et.random=Tw,et.reduce=Om,et.reduceRight=Rm,et.repeat=iy,et.replace=$d,et.result=xw,et.round=Uw,et.runInContext=jt,et.sample=H2,et.size=rv,et.snakeCase=Nh,et.some=Jf,et.sortedIndex=w2,et.sortedIndexBy=T2,et.sortedIndexOf=Hf,et.sortedLastIndex=km,et.sortedLastIndexBy=q_,et.sortedLastIndexOf=Oh,et.startCase=Bv,et.startsWith=Mw,et.subtract=my,et.sum=$w,et.sumBy=h0,et.template=Zm,et.times=tg,et.toFinite=Ud,et.toInteger=Qn,et.toLength=Bp,et.toLower=ny,et.toNumber=Aa,et.toSafeInteger=Gm,et.toString=Es,et.toUpper=jp,et.trim=s0,et.trimEnd=o0,et.trimStart=Km,et.truncate=zv,et.unescape=a0,et.uniqueId=ng,et.upperCase=ry,et.upperFirst=Jm,et.each=ev,et.eachRight=tv,et.first=Mm,Up(et,function(){var y={};return Tt(et,function(A,ae){ai.call(et.prototype,ae)||(y[ae]=A)}),y}(),{chain:!1}),et.VERSION=r,di(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){et[y].placeholder=et}),di(["drop","take"],function(y,A){Jn.prototype[y]=function(ae){ae=ae===n?1:Fs(Qn(ae),0);var Pe=this.__filtered__&&!A?new Jn(this):this.clone();return Pe.__filtered__?Pe.__takeCount__=fs(ae,Pe.__takeCount__):Pe.__views__.push({size:fs(ae,le),type:y+(Pe.__dir__<0?"Right":"")}),Pe},Jn.prototype[y+"Right"]=function(ae){return this.reverse()[y](ae).reverse()}}),di(["filter","map","takeWhile"],function(y,A){var ae=A+1,Pe=ae==m||ae==x;Jn.prototype[y]=function(He){var st=this.clone();return st.__iteratees__.push({iteratee:Xn(He,3),type:ae}),st.__filtered__=st.__filtered__||Pe,st}}),di(["head","last"],function(y,A){var ae="take"+(A?"Right":"");Jn.prototype[y]=function(){return this[ae](1).value()[0]}}),di(["initial","tail"],function(y,A){var ae="drop"+(A?"":"Right");Jn.prototype[y]=function(){return this.__filtered__?new Jn(this):this[ae](1)}}),Jn.prototype.compact=function(){return this.filter(No)},Jn.prototype.find=function(y){return this.filter(y).head()},Jn.prototype.findLast=function(y){return this.reverse().find(y)},Jn.prototype.invokeMap=fr(function(y,A){return typeof y=="function"?new Jn(this):this.map(function(ae){return zi(ae,y,A)})}),Jn.prototype.reject=function(y){return this.filter(Xu(Xn(y)))},Jn.prototype.slice=function(y,A){y=Qn(y);var ae=this;return ae.__filtered__&&(y>0||A<0)?new Jn(ae):(y<0?ae=ae.takeRight(-y):y&&(ae=ae.drop(y)),A!==n&&(A=Qn(A),ae=A<0?ae.dropRight(-A):ae.take(A-y)),ae)},Jn.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},Jn.prototype.toArray=function(){return this.take(le)},Tt(Jn.prototype,function(y,A){var ae=/^(?:filter|find|map|reject)|While$/.test(A),Pe=/^(?:head|last)$/.test(A),He=et[Pe?"take"+(A=="last"?"Right":""):A],st=Pe||/^find/.test(A);He&&(et.prototype[A]=function(){var Ct=this.__wrapped__,Rt=Pe?[1]:arguments,Yt=Ct instanceof Jn,Ai=Rt[0],Ri=Yt||gr(Ct),Vi=function($r){var Yr=He.apply(et,pr([$r],Rt));return Pe&&yn?Yr[0]:Yr};Ri&&ae&&typeof Ai=="function"&&Ai.length!=1&&(Yt=Ri=!1);var yn=this.__chain__,Bn=!!this.__actions__.length,nr=st&&!yn,Dr=Yt&&!Bn;if(!st&&Ri){Ct=Dr?Ct:new Jn(this);var sr=y.apply(Ct,Rt);return sr.__actions__.push({func:qu,args:[Vi],thisArg:n}),new al(sr,yn)}return nr&&Dr?y.apply(this,Rt):(sr=this.thru(Vi),nr?Pe?sr.value()[0]:sr.value():sr)})}),di(["pop","push","shift","sort","splice","unshift"],function(y){var A=it[y],ae=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",Pe=/^(?:pop|shift)$/.test(y);et.prototype[y]=function(){var He=arguments;if(Pe&&!this.__chain__){var st=this.value();return A.apply(gr(st)?st:[],He)}return this[ae](function(Ct){return A.apply(gr(Ct)?Ct:[],He)})}}),Tt(Jn.prototype,function(y,A){var ae=et[A];if(ae){var Pe=ae.name+"";ai.call(su,Pe)||(su[Pe]=[]),su[Pe].push({name:A,func:ae})}}),su[On(n,M).name]=[{name:"wrapper",func:n}],Jn.prototype.clone=Xg,Jn.prototype.reverse=Pf,Jn.prototype.value=Zg,et.prototype.at=L2,et.prototype.chain=D1,et.prototype.commit=O2,et.prototype.next=I1,et.prototype.plant=Dm,et.prototype.reverse=R2,et.prototype.toJSON=et.prototype.valueOf=et.prototype.value=B2,et.prototype.first=et.prototype.head,vr&&(et.prototype[vr]=L1),et},Vo=Ru();de?((de.exports=Vo)._=Vo,X._=Vo):Hs._=Vo}).call(Ra)})(Px,Px.exports);var J6=Px.exports;const UT=uh(J6);var fM={exports:{}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(e){(function(t,n){e.exports=t.document?n(t,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:Ra,function(t,n){var r=[],o=Object.getPrototypeOf,d=r.slice,h=r.flat?function(X){return r.flat.call(X)}:function(X){return r.concat.apply([],X)},s=r.push,b=r.indexOf,R={},J=R.toString,I=R.hasOwnProperty,z=I.toString,Z=z.call(Object),L={},O=function(de){return typeof de=="function"&&typeof de.nodeType!="number"&&typeof de.item!="function"},G=function(de){return de!=null&&de===de.window},M=t.document,S={type:!0,src:!0,nonce:!0,noModule:!0};function P(X,de,xe){xe=xe||M;var Ee,je,Ve=xe.createElement("script");if(Ve.text=X,de)for(Ee in S)je=de[Ee]||de.getAttribute&&de.getAttribute(Ee),je&&Ve.setAttribute(Ee,je);xe.head.appendChild(Ve).parentNode.removeChild(Ve)}function H(X){return X==null?X+"":typeof X=="object"||typeof X=="function"?R[J.call(X)]||"object":typeof X}var U="3.6.3",E=function(X,de){return new E.fn.init(X,de)};E.fn=E.prototype={jquery:U,constructor:E,length:0,toArray:function(){return d.call(this)},get:function(X){return X==null?d.call(this):X<0?this[X+this.length]:this[X]},pushStack:function(X){var de=E.merge(this.constructor(),X);return de.prevObject=this,de},each:function(X){return E.each(this,X)},map:function(X){return this.pushStack(E.map(this,function(de,xe){return X.call(de,xe,de)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(X,de){return(de+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(X,de){return de%2}))},eq:function(X){var de=this.length,xe=+X+(X<0?de:0);return this.pushStack(xe>=0&&xe<de?[this[xe]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:r.sort,splice:r.splice},E.extend=E.fn.extend=function(){var X,de,xe,Ee,je,Ve,Ze=arguments[0]||{},It=1,St=arguments.length,Zt=!1;for(typeof Ze=="boolean"&&(Zt=Ze,Ze=arguments[It]||{},It++),typeof Ze!="object"&&!O(Ze)&&(Ze={}),It===St&&(Ze=this,It--);It<St;It++)if((X=arguments[It])!=null)for(de in X)Ee=X[de],!(de==="__proto__"||Ze===Ee)&&(Zt&&Ee&&(E.isPlainObject(Ee)||(je=Array.isArray(Ee)))?(xe=Ze[de],je&&!Array.isArray(xe)?Ve=[]:!je&&!E.isPlainObject(xe)?Ve={}:Ve=xe,je=!1,Ze[de]=E.extend(Zt,Ve,Ee)):Ee!==void 0&&(Ze[de]=Ee));return Ze},E.extend({expando:"jQuery"+(U+Math.random()).replace(/\D/g,""),isReady:!0,error:function(X){throw new Error(X)},noop:function(){},isPlainObject:function(X){var de,xe;return!X||J.call(X)!=="[object Object]"?!1:(de=o(X),de?(xe=I.call(de,"constructor")&&de.constructor,typeof xe=="function"&&z.call(xe)===Z):!0)},isEmptyObject:function(X){var de;for(de in X)return!1;return!0},globalEval:function(X,de,xe){P(X,{nonce:de&&de.nonce},xe)},each:function(X,de){var xe,Ee=0;if(ie(X))for(xe=X.length;Ee<xe&&de.call(X[Ee],Ee,X[Ee])!==!1;Ee++);else for(Ee in X)if(de.call(X[Ee],Ee,X[Ee])===!1)break;return X},makeArray:function(X,de){var xe=de||[];return X!=null&&(ie(Object(X))?E.merge(xe,typeof X=="string"?[X]:X):s.call(xe,X)),xe},inArray:function(X,de,xe){return de==null?-1:b.call(de,X,xe)},merge:function(X,de){for(var xe=+de.length,Ee=0,je=X.length;Ee<xe;Ee++)X[je++]=de[Ee];return X.length=je,X},grep:function(X,de,xe){for(var Ee,je=[],Ve=0,Ze=X.length,It=!xe;Ve<Ze;Ve++)Ee=!de(X[Ve],Ve),Ee!==It&&je.push(X[Ve]);return je},map:function(X,de,xe){var Ee,je,Ve=0,Ze=[];if(ie(X))for(Ee=X.length;Ve<Ee;Ve++)je=de(X[Ve],Ve,xe),je!=null&&Ze.push(je);else for(Ve in X)je=de(X[Ve],Ve,xe),je!=null&&Ze.push(je);return h(Ze)},guid:1,support:L}),typeof Symbol=="function"&&(E.fn[Symbol.iterator]=r[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(X,de){R["[object "+de+"]"]=de.toLowerCase()});function ie(X){var de=!!X&&"length"in X&&X.length,xe=H(X);return O(X)||G(X)?!1:xe==="array"||de===0||typeof de=="number"&&de>0&&de-1 in X}var te=function(X){var de,xe,Ee,je,Ve,Ze,It,St,Zt,pi,ki,si,di,Yi,qn,pn,ps,Jr,hr,pr="sizzle"+1*new Date,Wn=X.document,Qs=0,mr=0,Qr=$o(),Ga=$o(),Xl=$o(),eo=$o(),ea=function(it,Et){return it===Et&&(ki=!0),0},Zn={}.hasOwnProperty,go=[],ta=go.pop,Bo=go.push,ga=go.push,Zl=go.slice,ol=function(it,Et){for(var Bt=0,xi=it.length;Bt<xi;Bt++)if(it[Bt]===Et)return Bt;return-1},Md="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Fr="[\\x20\\t\\r\\n\\f]",ya="(?:\\\\[\\da-fA-F]{1,6}"+Fr+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Zc="\\["+Fr+"*("+ya+")(?:"+Fr+"*([*^$|!~]?=)"+Fr+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ya+"))|)"+Fr+"*\\]",Kl=":("+ya+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Zc+")*)|.*)\\)|)",zo=new RegExp(Fr+"+","g"),Jl=new RegExp("^"+Fr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fr+"+$","g"),wc=new RegExp("^"+Fr+"*,"+Fr+"*"),nu=new RegExp("^"+Fr+"*([>+~]|"+Fr+")"+Fr+"*"),Ql=new RegExp(Fr+"|>"),ec=new RegExp(Kl),Iu=new RegExp("^"+ya+"$"),tc={ID:new RegExp("^#("+ya+")"),CLASS:new RegExp("^\\.("+ya+")"),TAG:new RegExp("^("+ya+"|[*])"),ATTR:new RegExp("^"+Zc),PSEUDO:new RegExp("^"+Kl),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Fr+"*(even|odd|(([+-]|)(\\d*)n|)"+Fr+"*(?:([+-]|)"+Fr+"*(\\d+)|))"+Fr+"*\\)|)","i"),bool:new RegExp("^(?:"+Md+")$","i"),needsContext:new RegExp("^"+Fr+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Fr+"*((?:-\\d)?\\d*)"+Fr+"*\\)|)(?=[^-]|$)","i")},ru=/HTML$/i,Ea=/^(?:input|select|textarea|button)$/i,Ma=/^h\d$/i,ic=/^[^{]+\{\s*\[native \w/,kd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Tc=/[+~]/,ia=new RegExp("\\\\[\\da-fA-F]{1,6}"+Fr+"?|\\\\([^\\r\\n\\f])","g"),yo=function(it,Et){var Bt="0x"+it.slice(1)-65536;return Et||(Bt<0?String.fromCharCode(Bt+65536):String.fromCharCode(Bt>>10|55296,Bt&1023|56320))},bl=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nc=function(it,Et){return Et?it==="\0"?"�":it.slice(0,-1)+"\\"+it.charCodeAt(it.length-1).toString(16)+" ":"\\"+it},Sc=function(){si()},yh=Kn(function(it){return it.disabled===!0&&it.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{ga.apply(go=Zl.call(Wn.childNodes),Wn.childNodes),go[Wn.childNodes.length].nodeType}catch{ga={apply:go.length?function(Et,Bt){Bo.apply(Et,Zl.call(Bt))}:function(Et,Bt){for(var xi=Et.length,Ut=0;Et[xi++]=Bt[Ut++];);Et.length=xi-1}}}function _r(it,Et,Bt,xi){var Ut,ai,Di,en,Bi,Rn,Fn,Un=Et&&Et.ownerDocument,ir=Et?Et.nodeType:9;if(Bt=Bt||[],typeof it!="string"||!it||ir!==1&&ir!==9&&ir!==11)return Bt;if(!xi&&(si(Et),Et=Et||di,qn)){if(ir!==11&&(Bi=kd.exec(it)))if(Ut=Bi[1]){if(ir===9)if(Di=Et.getElementById(Ut)){if(Di.id===Ut)return Bt.push(Di),Bt}else return Bt;else if(Un&&(Di=Un.getElementById(Ut))&&hr(Et,Di)&&Di.id===Ut)return Bt.push(Di),Bt}else{if(Bi[2])return ga.apply(Bt,Et.getElementsByTagName(it)),Bt;if((Ut=Bi[3])&&xe.getElementsByClassName&&Et.getElementsByClassName)return ga.apply(Bt,Et.getElementsByClassName(Ut)),Bt}if(xe.qsa&&!eo[it+" "]&&(!pn||!pn.test(it))&&(ir!==1||Et.nodeName.toLowerCase()!=="object")){if(Fn=it,Un=Et,ir===1&&(Ql.test(it)||nu.test(it))){for(Un=Tc.test(it)&&vi(Et.parentNode)||Et,(Un!==Et||!xe.scope)&&((en=Et.getAttribute("id"))?en=en.replace(bl,nc):Et.setAttribute("id",en=pr)),Rn=Ze(it),ai=Rn.length;ai--;)Rn[ai]=(en?"#"+en:":scope")+" "+fn(Rn[ai]);Fn=Rn.join(",")}try{if(xe.cssSupportsSelector&&!CSS.supports("selector(:is("+Fn+"))"))throw new Error;return ga.apply(Bt,Un.querySelectorAll(Fn)),Bt}catch{eo(it,!0)}finally{en===pr&&Et.removeAttribute("id")}}}return St(it.replace(Jl,"$1"),Et,Bt,xi)}function $o(){var it=[];function Et(Bt,xi){return it.push(Bt+" ")>Ee.cacheLength&&delete Et[it.shift()],Et[Bt+" "]=xi}return Et}function _o(it){return it[pr]=!0,it}function na(it){var Et=di.createElement("fieldset");try{return!!it(Et)}catch{return!1}finally{Et.parentNode&&Et.parentNode.removeChild(Et),Et=null}}function wl(it,Et){for(var Bt=it.split("|"),xi=Bt.length;xi--;)Ee.attrHandle[Bt[xi]]=Et}function Lu(it,Et){var Bt=Et&&it,xi=Bt&&it.nodeType===1&&Et.nodeType===1&&it.sourceIndex-Et.sourceIndex;if(xi)return xi;if(Bt){for(;Bt=Bt.nextSibling;)if(Bt===Et)return-1}return it?1:-1}function Ou(it){return function(Et){var Bt=Et.nodeName.toLowerCase();return Bt==="input"&&Et.type===it}}function Ru(it){return function(Et){var Bt=Et.nodeName.toLowerCase();return(Bt==="input"||Bt==="button")&&Et.type===it}}function Vo(it){return function(Et){return"form"in Et?Et.parentNode&&Et.disabled===!1?"label"in Et?"label"in Et.parentNode?Et.parentNode.disabled===it:Et.disabled===it:Et.isDisabled===it||Et.isDisabled!==!it&&yh(Et)===it:Et.disabled===it:"label"in Et?Et.disabled===it:!1}}function jt(it){return _o(function(Et){return Et=+Et,_o(function(Bt,xi){for(var Ut,ai=it([],Bt.length,Et),Di=ai.length;Di--;)Bt[Ut=ai[Di]]&&(Bt[Ut]=!(xi[Ut]=Bt[Ut]))})})}function vi(it){return it&&typeof it.getElementsByTagName<"u"&&it}xe=_r.support={},Ve=_r.isXML=function(it){var Et=it&&it.namespaceURI,Bt=it&&(it.ownerDocument||it).documentElement;return!ru.test(Et||Bt&&Bt.nodeName||"HTML")},si=_r.setDocument=function(it){var Et,Bt,xi=it?it.ownerDocument||it:Wn;return xi==di||xi.nodeType!==9||!xi.documentElement||(di=xi,Yi=di.documentElement,qn=!Ve(di),Wn!=di&&(Bt=di.defaultView)&&Bt.top!==Bt&&(Bt.addEventListener?Bt.addEventListener("unload",Sc,!1):Bt.attachEvent&&Bt.attachEvent("onunload",Sc)),xe.scope=na(function(Ut){return Yi.appendChild(Ut).appendChild(di.createElement("div")),typeof Ut.querySelectorAll<"u"&&!Ut.querySelectorAll(":scope fieldset div").length}),xe.cssSupportsSelector=na(function(){return CSS.supports("selector(*)")&&di.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),xe.attributes=na(function(Ut){return Ut.className="i",!Ut.getAttribute("className")}),xe.getElementsByTagName=na(function(Ut){return Ut.appendChild(di.createComment("")),!Ut.getElementsByTagName("*").length}),xe.getElementsByClassName=ic.test(di.getElementsByClassName),xe.getById=na(function(Ut){return Yi.appendChild(Ut).id=pr,!di.getElementsByName||!di.getElementsByName(pr).length}),xe.getById?(Ee.filter.ID=function(Ut){var ai=Ut.replace(ia,yo);return function(Di){return Di.getAttribute("id")===ai}},Ee.find.ID=function(Ut,ai){if(typeof ai.getElementById<"u"&&qn){var Di=ai.getElementById(Ut);return Di?[Di]:[]}}):(Ee.filter.ID=function(Ut){var ai=Ut.replace(ia,yo);return function(Di){var en=typeof Di.getAttributeNode<"u"&&Di.getAttributeNode("id");return en&&en.value===ai}},Ee.find.ID=function(Ut,ai){if(typeof ai.getElementById<"u"&&qn){var Di,en,Bi,Rn=ai.getElementById(Ut);if(Rn){if(Di=Rn.getAttributeNode("id"),Di&&Di.value===Ut)return[Rn];for(Bi=ai.getElementsByName(Ut),en=0;Rn=Bi[en++];)if(Di=Rn.getAttributeNode("id"),Di&&Di.value===Ut)return[Rn]}return[]}}),Ee.find.TAG=xe.getElementsByTagName?function(Ut,ai){if(typeof ai.getElementsByTagName<"u")return ai.getElementsByTagName(Ut);if(xe.qsa)return ai.querySelectorAll(Ut)}:function(Ut,ai){var Di,en=[],Bi=0,Rn=ai.getElementsByTagName(Ut);if(Ut==="*"){for(;Di=Rn[Bi++];)Di.nodeType===1&&en.push(Di);return en}return Rn},Ee.find.CLASS=xe.getElementsByClassName&&function(Ut,ai){if(typeof ai.getElementsByClassName<"u"&&qn)return ai.getElementsByClassName(Ut)},ps=[],pn=[],(xe.qsa=ic.test(di.querySelectorAll))&&(na(function(Ut){var ai;Yi.appendChild(Ut).innerHTML="<a id='"+pr+"'></a><select id='"+pr+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ut.querySelectorAll("[msallowcapture^='']").length&&pn.push("[*^$]="+Fr+`*(?:''|"")`),Ut.querySelectorAll("[selected]").length||pn.push("\\["+Fr+"*(?:value|"+Md+")"),Ut.querySelectorAll("[id~="+pr+"-]").length||pn.push("~="),ai=di.createElement("input"),ai.setAttribute("name",""),Ut.appendChild(ai),Ut.querySelectorAll("[name='']").length||pn.push("\\["+Fr+"*name"+Fr+"*="+Fr+`*(?:''|"")`),Ut.querySelectorAll(":checked").length||pn.push(":checked"),Ut.querySelectorAll("a#"+pr+"+*").length||pn.push(".#.+[+~]"),Ut.querySelectorAll("\\\f"),pn.push("[\\r\\n\\f]")}),na(function(Ut){Ut.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var ai=di.createElement("input");ai.setAttribute("type","hidden"),Ut.appendChild(ai).setAttribute("name","D"),Ut.querySelectorAll("[name=d]").length&&pn.push("name"+Fr+"*[*^$|!~]?="),Ut.querySelectorAll(":enabled").length!==2&&pn.push(":enabled",":disabled"),Yi.appendChild(Ut).disabled=!0,Ut.querySelectorAll(":disabled").length!==2&&pn.push(":enabled",":disabled"),Ut.querySelectorAll("*,:x"),pn.push(",.*:")})),(xe.matchesSelector=ic.test(Jr=Yi.matches||Yi.webkitMatchesSelector||Yi.mozMatchesSelector||Yi.oMatchesSelector||Yi.msMatchesSelector))&&na(function(Ut){xe.disconnectedMatch=Jr.call(Ut,"*"),Jr.call(Ut,"[s!='']:x"),ps.push("!=",Kl)}),xe.cssSupportsSelector||pn.push(":has"),pn=pn.length&&new RegExp(pn.join("|")),ps=ps.length&&new RegExp(ps.join("|")),Et=ic.test(Yi.compareDocumentPosition),hr=Et||ic.test(Yi.contains)?function(Ut,ai){var Di=Ut.nodeType===9&&Ut.documentElement||Ut,en=ai&&ai.parentNode;return Ut===en||!!(en&&en.nodeType===1&&(Di.contains?Di.contains(en):Ut.compareDocumentPosition&&Ut.compareDocumentPosition(en)&16))}:function(Ut,ai){if(ai){for(;ai=ai.parentNode;)if(ai===Ut)return!0}return!1},ea=Et?function(Ut,ai){if(Ut===ai)return ki=!0,0;var Di=!Ut.compareDocumentPosition-!ai.compareDocumentPosition;return Di||(Di=(Ut.ownerDocument||Ut)==(ai.ownerDocument||ai)?Ut.compareDocumentPosition(ai):1,Di&1||!xe.sortDetached&&ai.compareDocumentPosition(Ut)===Di?Ut==di||Ut.ownerDocument==Wn&&hr(Wn,Ut)?-1:ai==di||ai.ownerDocument==Wn&&hr(Wn,ai)?1:pi?ol(pi,Ut)-ol(pi,ai):0:Di&4?-1:1)}:function(Ut,ai){if(Ut===ai)return ki=!0,0;var Di,en=0,Bi=Ut.parentNode,Rn=ai.parentNode,Fn=[Ut],Un=[ai];if(!Bi||!Rn)return Ut==di?-1:ai==di?1:Bi?-1:Rn?1:pi?ol(pi,Ut)-ol(pi,ai):0;if(Bi===Rn)return Lu(Ut,ai);for(Di=Ut;Di=Di.parentNode;)Fn.unshift(Di);for(Di=ai;Di=Di.parentNode;)Un.unshift(Di);for(;Fn[en]===Un[en];)en++;return en?Lu(Fn[en],Un[en]):Fn[en]==Wn?-1:Un[en]==Wn?1:0}),di},_r.matches=function(it,Et){return _r(it,null,null,Et)},_r.matchesSelector=function(it,Et){if(si(it),xe.matchesSelector&&qn&&!eo[Et+" "]&&(!ps||!ps.test(Et))&&(!pn||!pn.test(Et)))try{var Bt=Jr.call(it,Et);if(Bt||xe.disconnectedMatch||it.document&&it.document.nodeType!==11)return Bt}catch{eo(Et,!0)}return _r(Et,di,null,[it]).length>0},_r.contains=function(it,Et){return(it.ownerDocument||it)!=di&&si(it),hr(it,Et)},_r.attr=function(it,Et){(it.ownerDocument||it)!=di&&si(it);var Bt=Ee.attrHandle[Et.toLowerCase()],xi=Bt&&Zn.call(Ee.attrHandle,Et.toLowerCase())?Bt(it,Et,!qn):void 0;return xi!==void 0?xi:xe.attributes||!qn?it.getAttribute(Et):(xi=it.getAttributeNode(Et))&&xi.specified?xi.value:null},_r.escape=function(it){return(it+"").replace(bl,nc)},_r.error=function(it){throw new Error("Syntax error, unrecognized expression: "+it)},_r.uniqueSort=function(it){var Et,Bt=[],xi=0,Ut=0;if(ki=!xe.detectDuplicates,pi=!xe.sortStable&&it.slice(0),it.sort(ea),ki){for(;Et=it[Ut++];)Et===it[Ut]&&(xi=Bt.push(Ut));for(;xi--;)it.splice(Bt[xi],1)}return pi=null,it},je=_r.getText=function(it){var Et,Bt="",xi=0,Ut=it.nodeType;if(Ut){if(Ut===1||Ut===9||Ut===11){if(typeof it.textContent=="string")return it.textContent;for(it=it.firstChild;it;it=it.nextSibling)Bt+=je(it)}else if(Ut===3||Ut===4)return it.nodeValue}else for(;Et=it[xi++];)Bt+=je(Et);return Bt},Ee=_r.selectors={cacheLength:50,createPseudo:_o,match:tc,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(it){return it[1]=it[1].replace(ia,yo),it[3]=(it[3]||it[4]||it[5]||"").replace(ia,yo),it[2]==="~="&&(it[3]=" "+it[3]+" "),it.slice(0,4)},CHILD:function(it){return it[1]=it[1].toLowerCase(),it[1].slice(0,3)==="nth"?(it[3]||_r.error(it[0]),it[4]=+(it[4]?it[5]+(it[6]||1):2*(it[3]==="even"||it[3]==="odd")),it[5]=+(it[7]+it[8]||it[3]==="odd")):it[3]&&_r.error(it[0]),it},PSEUDO:function(it){var Et,Bt=!it[6]&&it[2];return tc.CHILD.test(it[0])?null:(it[3]?it[2]=it[4]||it[5]||"":Bt&&ec.test(Bt)&&(Et=Ze(Bt,!0))&&(Et=Bt.indexOf(")",Bt.length-Et)-Bt.length)&&(it[0]=it[0].slice(0,Et),it[2]=Bt.slice(0,Et)),it.slice(0,3))}},filter:{TAG:function(it){var Et=it.replace(ia,yo).toLowerCase();return it==="*"?function(){return!0}:function(Bt){return Bt.nodeName&&Bt.nodeName.toLowerCase()===Et}},CLASS:function(it){var Et=Qr[it+" "];return Et||(Et=new RegExp("(^|"+Fr+")"+it+"("+Fr+"|$)"))&&Qr(it,function(Bt){return Et.test(typeof Bt.className=="string"&&Bt.className||typeof Bt.getAttribute<"u"&&Bt.getAttribute("class")||"")})},ATTR:function(it,Et,Bt){return function(xi){var Ut=_r.attr(xi,it);return Ut==null?Et==="!=":Et?(Ut+="",Et==="="?Ut===Bt:Et==="!="?Ut!==Bt:Et==="^="?Bt&&Ut.indexOf(Bt)===0:Et==="*="?Bt&&Ut.indexOf(Bt)>-1:Et==="$="?Bt&&Ut.slice(-Bt.length)===Bt:Et==="~="?(" "+Ut.replace(zo," ")+" ").indexOf(Bt)>-1:Et==="|="?Ut===Bt||Ut.slice(0,Bt.length+1)===Bt+"-":!1):!0}},CHILD:function(it,Et,Bt,xi,Ut){var ai=it.slice(0,3)!=="nth",Di=it.slice(-4)!=="last",en=Et==="of-type";return xi===1&&Ut===0?function(Bi){return!!Bi.parentNode}:function(Bi,Rn,Fn){var Un,ir,Tr,In,be,Se,$e=ai!==Di?"nextSibling":"previousSibling",vt=Bi.parentNode,Si=en&&Bi.nodeName.toLowerCase(),Tn=!Fn&&!en,vr=!1;if(vt){if(ai){for(;$e;){for(In=Bi;In=In[$e];)if(en?In.nodeName.toLowerCase()===Si:In.nodeType===1)return!1;Se=$e=it==="only"&&!Se&&"nextSibling"}return!0}if(Se=[Di?vt.firstChild:vt.lastChild],Di&&Tn){for(In=vt,Tr=In[pr]||(In[pr]={}),ir=Tr[In.uniqueID]||(Tr[In.uniqueID]={}),Un=ir[it]||[],be=Un[0]===Qs&&Un[1],vr=be&&Un[2],In=be&&vt.childNodes[be];In=++be&&In&&In[$e]||(vr=be=0)||Se.pop();)if(In.nodeType===1&&++vr&&In===Bi){ir[it]=[Qs,be,vr];break}}else if(Tn&&(In=Bi,Tr=In[pr]||(In[pr]={}),ir=Tr[In.uniqueID]||(Tr[In.uniqueID]={}),Un=ir[it]||[],be=Un[0]===Qs&&Un[1],vr=be),vr===!1)for(;(In=++be&&In&&In[$e]||(vr=be=0)||Se.pop())&&!((en?In.nodeName.toLowerCase()===Si:In.nodeType===1)&&++vr&&(Tn&&(Tr=In[pr]||(In[pr]={}),ir=Tr[In.uniqueID]||(Tr[In.uniqueID]={}),ir[it]=[Qs,vr]),In===Bi)););return vr-=Ut,vr===xi||vr%xi===0&&vr/xi>=0}}},PSEUDO:function(it,Et){var Bt,xi=Ee.pseudos[it]||Ee.setFilters[it.toLowerCase()]||_r.error("unsupported pseudo: "+it);return xi[pr]?xi(Et):xi.length>1?(Bt=[it,it,"",Et],Ee.setFilters.hasOwnProperty(it.toLowerCase())?_o(function(Ut,ai){for(var Di,en=xi(Ut,Et),Bi=en.length;Bi--;)Di=ol(Ut,en[Bi]),Ut[Di]=!(ai[Di]=en[Bi])}):function(Ut){return xi(Ut,0,Bt)}):xi}},pseudos:{not:_o(function(it){var Et=[],Bt=[],xi=It(it.replace(Jl,"$1"));return xi[pr]?_o(function(Ut,ai,Di,en){for(var Bi,Rn=xi(Ut,null,en,[]),Fn=Ut.length;Fn--;)(Bi=Rn[Fn])&&(Ut[Fn]=!(ai[Fn]=Bi))}):function(Ut,ai,Di){return Et[0]=Ut,xi(Et,null,Di,Bt),Et[0]=null,!Bt.pop()}}),has:_o(function(it){return function(Et){return _r(it,Et).length>0}}),contains:_o(function(it){return it=it.replace(ia,yo),function(Et){return(Et.textContent||je(Et)).indexOf(it)>-1}}),lang:_o(function(it){return Iu.test(it||"")||_r.error("unsupported lang: "+it),it=it.replace(ia,yo).toLowerCase(),function(Et){var Bt;do if(Bt=qn?Et.lang:Et.getAttribute("xml:lang")||Et.getAttribute("lang"))return Bt=Bt.toLowerCase(),Bt===it||Bt.indexOf(it+"-")===0;while((Et=Et.parentNode)&&Et.nodeType===1);return!1}}),target:function(it){var Et=X.location&&X.location.hash;return Et&&Et.slice(1)===it.id},root:function(it){return it===Yi},focus:function(it){return it===di.activeElement&&(!di.hasFocus||di.hasFocus())&&!!(it.type||it.href||~it.tabIndex)},enabled:Vo(!1),disabled:Vo(!0),checked:function(it){var Et=it.nodeName.toLowerCase();return Et==="input"&&!!it.checked||Et==="option"&&!!it.selected},selected:function(it){return it.parentNode&&it.parentNode.selectedIndex,it.selected===!0},empty:function(it){for(it=it.firstChild;it;it=it.nextSibling)if(it.nodeType<6)return!1;return!0},parent:function(it){return!Ee.pseudos.empty(it)},header:function(it){return Ma.test(it.nodeName)},input:function(it){return Ea.test(it.nodeName)},button:function(it){var Et=it.nodeName.toLowerCase();return Et==="input"&&it.type==="button"||Et==="button"},text:function(it){var Et;return it.nodeName.toLowerCase()==="input"&&it.type==="text"&&((Et=it.getAttribute("type"))==null||Et.toLowerCase()==="text")},first:jt(function(){return[0]}),last:jt(function(it,Et){return[Et-1]}),eq:jt(function(it,Et,Bt){return[Bt<0?Bt+Et:Bt]}),even:jt(function(it,Et){for(var Bt=0;Bt<Et;Bt+=2)it.push(Bt);return it}),odd:jt(function(it,Et){for(var Bt=1;Bt<Et;Bt+=2)it.push(Bt);return it}),lt:jt(function(it,Et,Bt){for(var xi=Bt<0?Bt+Et:Bt>Et?Et:Bt;--xi>=0;)it.push(xi);return it}),gt:jt(function(it,Et,Bt){for(var xi=Bt<0?Bt+Et:Bt;++xi<Et;)it.push(xi);return it})}},Ee.pseudos.nth=Ee.pseudos.eq;for(de in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ee.pseudos[de]=Ou(de);for(de in{submit:!0,reset:!0})Ee.pseudos[de]=Ru(de);function ui(){}ui.prototype=Ee.filters=Ee.pseudos,Ee.setFilters=new ui,Ze=_r.tokenize=function(it,Et){var Bt,xi,Ut,ai,Di,en,Bi,Rn=Ga[it+" "];if(Rn)return Et?0:Rn.slice(0);for(Di=it,en=[],Bi=Ee.preFilter;Di;){(!Bt||(xi=wc.exec(Di)))&&(xi&&(Di=Di.slice(xi[0].length)||Di),en.push(Ut=[])),Bt=!1,(xi=nu.exec(Di))&&(Bt=xi.shift(),Ut.push({value:Bt,type:xi[0].replace(Jl," ")}),Di=Di.slice(Bt.length));for(ai in Ee.filter)(xi=tc[ai].exec(Di))&&(!Bi[ai]||(xi=Bi[ai](xi)))&&(Bt=xi.shift(),Ut.push({value:Bt,type:ai,matches:xi}),Di=Di.slice(Bt.length));if(!Bt)break}return Et?Di.length:Di?_r.error(it):Ga(it,en).slice(0)};function fn(it){for(var Et=0,Bt=it.length,xi="";Et<Bt;Et++)xi+=it[Et].value;return xi}function Kn(it,Et,Bt){var xi=Et.dir,Ut=Et.next,ai=Ut||xi,Di=Bt&&ai==="parentNode",en=mr++;return Et.first?function(Bi,Rn,Fn){for(;Bi=Bi[xi];)if(Bi.nodeType===1||Di)return it(Bi,Rn,Fn);return!1}:function(Bi,Rn,Fn){var Un,ir,Tr,In=[Qs,en];if(Fn){for(;Bi=Bi[xi];)if((Bi.nodeType===1||Di)&&it(Bi,Rn,Fn))return!0}else for(;Bi=Bi[xi];)if(Bi.nodeType===1||Di)if(Tr=Bi[pr]||(Bi[pr]={}),ir=Tr[Bi.uniqueID]||(Tr[Bi.uniqueID]={}),Ut&&Ut===Bi.nodeName.toLowerCase())Bi=Bi[xi]||Bi;else{if((Un=ir[ai])&&Un[0]===Qs&&Un[1]===en)return In[2]=Un[2];if(ir[ai]=In,In[2]=it(Bi,Rn,Fn))return!0}return!1}}function Or(it){return it.length>1?function(Et,Bt,xi){for(var Ut=it.length;Ut--;)if(!it[Ut](Et,Bt,xi))return!1;return!0}:it[0]}function zs(it,Et,Bt){for(var xi=0,Ut=Et.length;xi<Ut;xi++)_r(it,Et[xi],Bt);return Bt}function jr(it,Et,Bt,xi,Ut){for(var ai,Di=[],en=0,Bi=it.length,Rn=Et!=null;en<Bi;en++)(ai=it[en])&&(!Bt||Bt(ai,xi,Ut))&&(Di.push(ai),Rn&&Et.push(en));return Di}function Cc(it,Et,Bt,xi,Ut,ai){return xi&&!xi[pr]&&(xi=Cc(xi)),Ut&&!Ut[pr]&&(Ut=Cc(Ut,ai)),_o(function(Di,en,Bi,Rn){var Fn,Un,ir,Tr=[],In=[],be=en.length,Se=Di||zs(Et||"*",Bi.nodeType?[Bi]:Bi,[]),$e=it&&(Di||!Et)?jr(Se,Tr,it,Bi,Rn):Se,vt=Bt?Ut||(Di?it:be||xi)?[]:en:$e;if(Bt&&Bt($e,vt,Bi,Rn),xi)for(Fn=jr(vt,In),xi(Fn,[],Bi,Rn),Un=Fn.length;Un--;)(ir=Fn[Un])&&(vt[In[Un]]=!($e[In[Un]]=ir));if(Di){if(Ut||it){if(Ut){for(Fn=[],Un=vt.length;Un--;)(ir=vt[Un])&&Fn.push($e[Un]=ir);Ut(null,vt=[],Fn,Rn)}for(Un=vt.length;Un--;)(ir=vt[Un])&&(Fn=Ut?ol(Di,ir):Tr[Un])>-1&&(Di[Fn]=!(en[Fn]=ir))}}else vt=jr(vt===en?vt.splice(be,vt.length):vt),Ut?Ut(null,en,vt,Rn):ga.apply(en,vt)})}function Ad(it){for(var Et,Bt,xi,Ut=it.length,ai=Ee.relative[it[0].type],Di=ai||Ee.relative[" "],en=ai?1:0,Bi=Kn(function(Un){return Un===Et},Di,!0),Rn=Kn(function(Un){return ol(Et,Un)>-1},Di,!0),Fn=[function(Un,ir,Tr){var In=!ai&&(Tr||ir!==Zt)||((Et=ir).nodeType?Bi(Un,ir,Tr):Rn(Un,ir,Tr));return Et=null,In}];en<Ut;en++)if(Bt=Ee.relative[it[en].type])Fn=[Kn(Or(Fn),Bt)];else{if(Bt=Ee.filter[it[en].type].apply(null,it[en].matches),Bt[pr]){for(xi=++en;xi<Ut&&!Ee.relative[it[xi].type];xi++);return Cc(en>1&&Or(Fn),en>1&&fn(it.slice(0,en-1).concat({value:it[en-2].type===" "?"*":""})).replace(Jl,"$1"),Bt,en<xi&&Ad(it.slice(en,xi)),xi<Ut&&Ad(it=it.slice(xi)),xi<Ut&&fn(it))}Fn.push(Bt)}return Or(Fn)}function Go(it,Et){var Bt=Et.length>0,xi=it.length>0,Ut=function(ai,Di,en,Bi,Rn){var Fn,Un,ir,Tr=0,In="0",be=ai&&[],Se=[],$e=Zt,vt=ai||xi&&Ee.find.TAG("*",Rn),Si=Qs+=$e==null?1:Math.random()||.1,Tn=vt.length;for(Rn&&(Zt=Di==di||Di||Rn);In!==Tn&&(Fn=vt[In])!=null;In++){if(xi&&Fn){for(Un=0,!Di&&Fn.ownerDocument!=di&&(si(Fn),en=!qn);ir=it[Un++];)if(ir(Fn,Di||di,en)){Bi.push(Fn);break}Rn&&(Qs=Si)}Bt&&((Fn=!ir&&Fn)&&Tr--,ai&&be.push(Fn))}if(Tr+=In,Bt&&In!==Tr){for(Un=0;ir=Et[Un++];)ir(be,Se,Di,en);if(ai){if(Tr>0)for(;In--;)be[In]||Se[In]||(Se[In]=ta.call(Bi));Se=jr(Se)}ga.apply(Bi,Se),Rn&&!ai&&Se.length>0&&Tr+Et.length>1&&_r.uniqueSort(Bi)}return Rn&&(Qs=Si,Zt=$e),be};return Bt?_o(Ut):Ut}return It=_r.compile=function(it,Et){var Bt,xi=[],Ut=[],ai=Xl[it+" "];if(!ai){for(Et||(Et=Ze(it)),Bt=Et.length;Bt--;)ai=Ad(Et[Bt]),ai[pr]?xi.push(ai):Ut.push(ai);ai=Xl(it,Go(Ut,xi)),ai.selector=it}return ai},St=_r.select=function(it,Et,Bt,xi){var Ut,ai,Di,en,Bi,Rn=typeof it=="function"&&it,Fn=!xi&&Ze(it=Rn.selector||it);if(Bt=Bt||[],Fn.length===1){if(ai=Fn[0]=Fn[0].slice(0),ai.length>2&&(Di=ai[0]).type==="ID"&&Et.nodeType===9&&qn&&Ee.relative[ai[1].type]){if(Et=(Ee.find.ID(Di.matches[0].replace(ia,yo),Et)||[])[0],Et)Rn&&(Et=Et.parentNode);else return Bt;it=it.slice(ai.shift().value.length)}for(Ut=tc.needsContext.test(it)?0:ai.length;Ut--&&(Di=ai[Ut],!Ee.relative[en=Di.type]);)if((Bi=Ee.find[en])&&(xi=Bi(Di.matches[0].replace(ia,yo),Tc.test(ai[0].type)&&vi(Et.parentNode)||Et))){if(ai.splice(Ut,1),it=xi.length&&fn(ai),!it)return ga.apply(Bt,xi),Bt;break}}return(Rn||It(it,Fn))(xi,Et,!qn,Bt,!Et||Tc.test(it)&&vi(Et.parentNode)||Et),Bt},xe.sortStable=pr.split("").sort(ea).join("")===pr,xe.detectDuplicates=!!ki,si(),xe.sortDetached=na(function(it){return it.compareDocumentPosition(di.createElement("fieldset"))&1}),na(function(it){return it.innerHTML="<a href='#'></a>",it.firstChild.getAttribute("href")==="#"})||wl("type|href|height|width",function(it,Et,Bt){if(!Bt)return it.getAttribute(Et,Et.toLowerCase()==="type"?1:2)}),(!xe.attributes||!na(function(it){return it.innerHTML="<input/>",it.firstChild.setAttribute("value",""),it.firstChild.getAttribute("value")===""}))&&wl("value",function(it,Et,Bt){if(!Bt&&it.nodeName.toLowerCase()==="input")return it.defaultValue}),na(function(it){return it.getAttribute("disabled")==null})||wl(Md,function(it,Et,Bt){var xi;if(!Bt)return it[Et]===!0?Et.toLowerCase():(xi=it.getAttributeNode(Et))&&xi.specified?xi.value:null}),_r}(t);E.find=te,E.expr=te.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=te.uniqueSort,E.text=te.getText,E.isXMLDoc=te.isXML,E.contains=te.contains,E.escapeSelector=te.escape;var $=function(X,de,xe){for(var Ee=[],je=xe!==void 0;(X=X[de])&&X.nodeType!==9;)if(X.nodeType===1){if(je&&E(X).is(xe))break;Ee.push(X)}return Ee},V=function(X,de){for(var xe=[];X;X=X.nextSibling)X.nodeType===1&&X!==de&&xe.push(X);return xe},j=E.expr.match.needsContext;function w(X,de){return X.nodeName&&X.nodeName.toLowerCase()===de.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function m(X,de,xe){return O(de)?E.grep(X,function(Ee,je){return!!de.call(Ee,je,Ee)!==xe}):de.nodeType?E.grep(X,function(Ee){return Ee===de!==xe}):typeof de!="string"?E.grep(X,function(Ee){return b.call(de,Ee)>-1!==xe}):E.filter(de,X,xe)}E.filter=function(X,de,xe){var Ee=de[0];return xe&&(X=":not("+X+")"),de.length===1&&Ee.nodeType===1?E.find.matchesSelector(Ee,X)?[Ee]:[]:E.find.matches(X,E.grep(de,function(je){return je.nodeType===1}))},E.fn.extend({find:function(X){var de,xe,Ee=this.length,je=this;if(typeof X!="string")return this.pushStack(E(X).filter(function(){for(de=0;de<Ee;de++)if(E.contains(je[de],this))return!0}));for(xe=this.pushStack([]),de=0;de<Ee;de++)E.find(X,je[de],xe);return Ee>1?E.uniqueSort(xe):xe},filter:function(X){return this.pushStack(m(this,X||[],!1))},not:function(X){return this.pushStack(m(this,X||[],!0))},is:function(X){return!!m(this,typeof X=="string"&&j.test(X)?E(X):X||[],!1).length}});var g,x=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,k=E.fn.init=function(X,de,xe){var Ee,je;if(!X)return this;if(xe=xe||g,typeof X=="string")if(X[0]==="<"&&X[X.length-1]===">"&&X.length>=3?Ee=[null,X,null]:Ee=x.exec(X),Ee&&(Ee[1]||!de))if(Ee[1]){if(de=de instanceof E?de[0]:de,E.merge(this,E.parseHTML(Ee[1],de&&de.nodeType?de.ownerDocument||de:M,!0)),D.test(Ee[1])&&E.isPlainObject(de))for(Ee in de)O(this[Ee])?this[Ee](de[Ee]):this.attr(Ee,de[Ee]);return this}else return je=M.getElementById(Ee[2]),je&&(this[0]=je,this.length=1),this;else return!de||de.jquery?(de||xe).find(X):this.constructor(de).find(X);else{if(X.nodeType)return this[0]=X,this.length=1,this;if(O(X))return xe.ready!==void 0?xe.ready(X):X(E)}return E.makeArray(X,this)};k.prototype=E.fn,g=E(M);var q=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};E.fn.extend({has:function(X){var de=E(X,this),xe=de.length;return this.filter(function(){for(var Ee=0;Ee<xe;Ee++)if(E.contains(this,de[Ee]))return!0})},closest:function(X,de){var xe,Ee=0,je=this.length,Ve=[],Ze=typeof X!="string"&&E(X);if(!j.test(X)){for(;Ee<je;Ee++)for(xe=this[Ee];xe&&xe!==de;xe=xe.parentNode)if(xe.nodeType<11&&(Ze?Ze.index(xe)>-1:xe.nodeType===1&&E.find.matchesSelector(xe,X))){Ve.push(xe);break}}return this.pushStack(Ve.length>1?E.uniqueSort(Ve):Ve)},index:function(X){return X?typeof X=="string"?b.call(E(X),this[0]):b.call(this,X.jquery?X[0]:X):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(X,de){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(X,de))))},addBack:function(X){return this.add(X==null?this.prevObject:this.prevObject.filter(X))}});function K(X,de){for(;(X=X[de])&&X.nodeType!==1;);return X}E.each({parent:function(X){var de=X.parentNode;return de&&de.nodeType!==11?de:null},parents:function(X){return $(X,"parentNode")},parentsUntil:function(X,de,xe){return $(X,"parentNode",xe)},next:function(X){return K(X,"nextSibling")},prev:function(X){return K(X,"previousSibling")},nextAll:function(X){return $(X,"nextSibling")},prevAll:function(X){return $(X,"previousSibling")},nextUntil:function(X,de,xe){return $(X,"nextSibling",xe)},prevUntil:function(X,de,xe){return $(X,"previousSibling",xe)},siblings:function(X){return V((X.parentNode||{}).firstChild,X)},children:function(X){return V(X.firstChild)},contents:function(X){return X.contentDocument!=null&&o(X.contentDocument)?X.contentDocument:(w(X,"template")&&(X=X.content||X),E.merge([],X.childNodes))}},function(X,de){E.fn[X]=function(xe,Ee){var je=E.map(this,de,xe);return X.slice(-5)!=="Until"&&(Ee=xe),Ee&&typeof Ee=="string"&&(je=E.filter(Ee,je)),this.length>1&&(Y[X]||E.uniqueSort(je),q.test(X)&&je.reverse()),this.pushStack(je)}});var le=/[^\x20\t\r\n\f]+/g;function he(X){var de={};return E.each(X.match(le)||[],function(xe,Ee){de[Ee]=!0}),de}E.Callbacks=function(X){X=typeof X=="string"?he(X):E.extend({},X);var de,xe,Ee,je,Ve=[],Ze=[],It=-1,St=function(){for(je=je||X.once,Ee=de=!0;Ze.length;It=-1)for(xe=Ze.shift();++It<Ve.length;)Ve[It].apply(xe[0],xe[1])===!1&&X.stopOnFalse&&(It=Ve.length,xe=!1);X.memory||(xe=!1),de=!1,je&&(xe?Ve=[]:Ve="")},Zt={add:function(){return Ve&&(xe&&!de&&(It=Ve.length-1,Ze.push(xe)),function pi(ki){E.each(ki,function(si,di){O(di)?(!X.unique||!Zt.has(di))&&Ve.push(di):di&&di.length&&H(di)!=="string"&&pi(di)})}(arguments),xe&&!de&&St()),this},remove:function(){return E.each(arguments,function(pi,ki){for(var si;(si=E.inArray(ki,Ve,si))>-1;)Ve.splice(si,1),si<=It&&It--}),this},has:function(pi){return pi?E.inArray(pi,Ve)>-1:Ve.length>0},empty:function(){return Ve&&(Ve=[]),this},disable:function(){return je=Ze=[],Ve=xe="",this},disabled:function(){return!Ve},lock:function(){return je=Ze=[],!xe&&!de&&(Ve=xe=""),this},locked:function(){return!!je},fireWith:function(pi,ki){return je||(ki=ki||[],ki=[pi,ki.slice?ki.slice():ki],Ze.push(ki),de||St()),this},fire:function(){return Zt.fireWith(this,arguments),this},fired:function(){return!!Ee}};return Zt};function pe(X){return X}function F(X){throw X}function Q(X,de,xe,Ee){var je;try{X&&O(je=X.promise)?je.call(X).done(de).fail(xe):X&&O(je=X.then)?je.call(X,de,xe):de.apply(void 0,[X].slice(Ee))}catch(Ve){xe.apply(void 0,[Ve])}}E.extend({Deferred:function(X){var de=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],xe="pending",Ee={state:function(){return xe},always:function(){return je.done(arguments).fail(arguments),this},catch:function(Ve){return Ee.then(null,Ve)},pipe:function(){var Ve=arguments;return E.Deferred(function(Ze){E.each(de,function(It,St){var Zt=O(Ve[St[4]])&&Ve[St[4]];je[St[1]](function(){var pi=Zt&&Zt.apply(this,arguments);pi&&O(pi.promise)?pi.promise().progress(Ze.notify).done(Ze.resolve).fail(Ze.reject):Ze[St[0]+"With"](this,Zt?[pi]:arguments)})}),Ve=null}).promise()},then:function(Ve,Ze,It){var St=0;function Zt(pi,ki,si,di){return function(){var Yi=this,qn=arguments,pn=function(){var Jr,hr;if(!(pi<St)){if(Jr=si.apply(Yi,qn),Jr===ki.promise())throw new TypeError("Thenable self-resolution");hr=Jr&&(typeof Jr=="object"||typeof Jr=="function")&&Jr.then,O(hr)?di?hr.call(Jr,Zt(St,ki,pe,di),Zt(St,ki,F,di)):(St++,hr.call(Jr,Zt(St,ki,pe,di),Zt(St,ki,F,di),Zt(St,ki,pe,ki.notifyWith))):(si!==pe&&(Yi=void 0,qn=[Jr]),(di||ki.resolveWith)(Yi,qn))}},ps=di?pn:function(){try{pn()}catch(Jr){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(Jr,ps.stackTrace),pi+1>=St&&(si!==F&&(Yi=void 0,qn=[Jr]),ki.rejectWith(Yi,qn))}};pi?ps():(E.Deferred.getStackHook&&(ps.stackTrace=E.Deferred.getStackHook()),t.setTimeout(ps))}}return E.Deferred(function(pi){de[0][3].add(Zt(0,pi,O(It)?It:pe,pi.notifyWith)),de[1][3].add(Zt(0,pi,O(Ve)?Ve:pe)),de[2][3].add(Zt(0,pi,O(Ze)?Ze:F))}).promise()},promise:function(Ve){return Ve!=null?E.extend(Ve,Ee):Ee}},je={};return E.each(de,function(Ve,Ze){var It=Ze[2],St=Ze[5];Ee[Ze[1]]=It.add,St&&It.add(function(){xe=St},de[3-Ve][2].disable,de[3-Ve][3].disable,de[0][2].lock,de[0][3].lock),It.add(Ze[3].fire),je[Ze[0]]=function(){return je[Ze[0]+"With"](this===je?void 0:this,arguments),this},je[Ze[0]+"With"]=It.fireWith}),Ee.promise(je),X&&X.call(je,je),je},when:function(X){var de=arguments.length,xe=de,Ee=Array(xe),je=d.call(arguments),Ve=E.Deferred(),Ze=function(It){return function(St){Ee[It]=this,je[It]=arguments.length>1?d.call(arguments):St,--de||Ve.resolveWith(Ee,je)}};if(de<=1&&(Q(X,Ve.done(Ze(xe)).resolve,Ve.reject,!de),Ve.state()==="pending"||O(je[xe]&&je[xe].then)))return Ve.then();for(;xe--;)Q(je[xe],Ze(xe),Ve.reject);return Ve.promise()}});var ce=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(X,de){t.console&&t.console.warn&&X&&ce.test(X.name)&&t.console.warn("jQuery.Deferred exception: "+X.message,X.stack,de)},E.readyException=function(X){t.setTimeout(function(){throw X})};var ge=E.Deferred();E.fn.ready=function(X){return ge.then(X).catch(function(de){E.readyException(de)}),this},E.extend({isReady:!1,readyWait:1,ready:function(X){(X===!0?--E.readyWait:E.isReady)||(E.isReady=!0,!(X!==!0&&--E.readyWait>0)&&ge.resolveWith(M,[E]))}}),E.ready.then=ge.then;function ke(){M.removeEventListener("DOMContentLoaded",ke),t.removeEventListener("load",ke),E.ready()}M.readyState==="complete"||M.readyState!=="loading"&&!M.documentElement.doScroll?t.setTimeout(E.ready):(M.addEventListener("DOMContentLoaded",ke),t.addEventListener("load",ke));var re=function(X,de,xe,Ee,je,Ve,Ze){var It=0,St=X.length,Zt=xe==null;if(H(xe)==="object"){je=!0;for(It in xe)re(X,de,It,xe[It],!0,Ve,Ze)}else if(Ee!==void 0&&(je=!0,O(Ee)||(Ze=!0),Zt&&(Ze?(de.call(X,Ee),de=null):(Zt=de,de=function(pi,ki,si){return Zt.call(E(pi),si)})),de))for(;It<St;It++)de(X[It],xe,Ze?Ee:Ee.call(X[It],It,de(X[It],xe)));return je?X:Zt?de.call(X):St?de(X[0],xe):Ve},ve=/^-ms-/,_e=/-([a-z])/g;function oe(X,de){return de.toUpperCase()}function ye(X){return X.replace(ve,"ms-").replace(_e,oe)}var Te=function(X){return X.nodeType===1||X.nodeType===9||!+X.nodeType};function Oe(){this.expando=E.expando+Oe.uid++}Oe.uid=1,Oe.prototype={cache:function(X){var de=X[this.expando];return de||(de={},Te(X)&&(X.nodeType?X[this.expando]=de:Object.defineProperty(X,this.expando,{value:de,configurable:!0}))),de},set:function(X,de,xe){var Ee,je=this.cache(X);if(typeof de=="string")je[ye(de)]=xe;else for(Ee in de)je[ye(Ee)]=de[Ee];return je},get:function(X,de){return de===void 0?this.cache(X):X[this.expando]&&X[this.expando][ye(de)]},access:function(X,de,xe){return de===void 0||de&&typeof de=="string"&&xe===void 0?this.get(X,de):(this.set(X,de,xe),xe!==void 0?xe:de)},remove:function(X,de){var xe,Ee=X[this.expando];if(Ee!==void 0){if(de!==void 0)for(Array.isArray(de)?de=de.map(ye):(de=ye(de),de=de in Ee?[de]:de.match(le)||[]),xe=de.length;xe--;)delete Ee[de[xe]];(de===void 0||E.isEmptyObject(Ee))&&(X.nodeType?X[this.expando]=void 0:delete X[this.expando])}},hasData:function(X){var de=X[this.expando];return de!==void 0&&!E.isEmptyObject(de)}};var Le=new Oe,Ue=new Oe,nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Qe=/[A-Z]/g;function ut(X){return X==="true"?!0:X==="false"?!1:X==="null"?null:X===+X+""?+X:nt.test(X)?JSON.parse(X):X}function Me(X,de,xe){var Ee;if(xe===void 0&&X.nodeType===1)if(Ee="data-"+de.replace(Qe,"-$&").toLowerCase(),xe=X.getAttribute(Ee),typeof xe=="string"){try{xe=ut(xe)}catch{}Ue.set(X,de,xe)}else xe=void 0;return xe}E.extend({hasData:function(X){return Ue.hasData(X)||Le.hasData(X)},data:function(X,de,xe){return Ue.access(X,de,xe)},removeData:function(X,de){Ue.remove(X,de)},_data:function(X,de,xe){return Le.access(X,de,xe)},_removeData:function(X,de){Le.remove(X,de)}}),E.fn.extend({data:function(X,de){var xe,Ee,je,Ve=this[0],Ze=Ve&&Ve.attributes;if(X===void 0){if(this.length&&(je=Ue.get(Ve),Ve.nodeType===1&&!Le.get(Ve,"hasDataAttrs"))){for(xe=Ze.length;xe--;)Ze[xe]&&(Ee=Ze[xe].name,Ee.indexOf("data-")===0&&(Ee=ye(Ee.slice(5)),Me(Ve,Ee,je[Ee])));Le.set(Ve,"hasDataAttrs",!0)}return je}return typeof X=="object"?this.each(function(){Ue.set(this,X)}):re(this,function(It){var St;if(Ve&&It===void 0)return St=Ue.get(Ve,X),St!==void 0||(St=Me(Ve,X),St!==void 0)?St:void 0;this.each(function(){Ue.set(this,X,It)})},null,de,arguments.length>1,null,!0)},removeData:function(X){return this.each(function(){Ue.remove(this,X)})}}),E.extend({queue:function(X,de,xe){var Ee;if(X)return de=(de||"fx")+"queue",Ee=Le.get(X,de),xe&&(!Ee||Array.isArray(xe)?Ee=Le.access(X,de,E.makeArray(xe)):Ee.push(xe)),Ee||[]},dequeue:function(X,de){de=de||"fx";var xe=E.queue(X,de),Ee=xe.length,je=xe.shift(),Ve=E._queueHooks(X,de),Ze=function(){E.dequeue(X,de)};je==="inprogress"&&(je=xe.shift(),Ee--),je&&(de==="fx"&&xe.unshift("inprogress"),delete Ve.stop,je.call(X,Ze,Ve)),!Ee&&Ve&&Ve.empty.fire()},_queueHooks:function(X,de){var xe=de+"queueHooks";return Le.get(X,xe)||Le.access(X,xe,{empty:E.Callbacks("once memory").add(function(){Le.remove(X,[de+"queue",xe])})})}}),E.fn.extend({queue:function(X,de){var xe=2;return typeof X!="string"&&(de=X,X="fx",xe--),arguments.length<xe?E.queue(this[0],X):de===void 0?this:this.each(function(){var Ee=E.queue(this,X,de);E._queueHooks(this,X),X==="fx"&&Ee[0]!=="inprogress"&&E.dequeue(this,X)})},dequeue:function(X){return this.each(function(){E.dequeue(this,X)})},clearQueue:function(X){return this.queue(X||"fx",[])},promise:function(X,de){var xe,Ee=1,je=E.Deferred(),Ve=this,Ze=this.length,It=function(){--Ee||je.resolveWith(Ve,[Ve])};for(typeof X!="string"&&(de=X,X=void 0),X=X||"fx";Ze--;)xe=Le.get(Ve[Ze],X+"queueHooks"),xe&&xe.empty&&(Ee++,xe.empty.add(It));return It(),je.promise(de)}});var Re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ne=new RegExp("^(?:([+-])=|)("+Re+")([a-z%]*)$","i"),Xe=["Top","Right","Bottom","Left"],rt=M.documentElement,yt=function(X){return E.contains(X.ownerDocument,X)},$t={composed:!0};rt.getRootNode&&(yt=function(X){return E.contains(X.ownerDocument,X)||X.getRootNode($t)===X.ownerDocument});var Wt=function(X,de){return X=de||X,X.style.display==="none"||X.style.display===""&&yt(X)&&E.css(X,"display")==="none"};function Ci(X,de,xe,Ee){var je,Ve,Ze=20,It=Ee?function(){return Ee.cur()}:function(){return E.css(X,de,"")},St=It(),Zt=xe&&xe[3]||(E.cssNumber[de]?"":"px"),pi=X.nodeType&&(E.cssNumber[de]||Zt!=="px"&&+St)&&Ne.exec(E.css(X,de));if(pi&&pi[3]!==Zt){for(St=St/2,Zt=Zt||pi[3],pi=+St||1;Ze--;)E.style(X,de,pi+Zt),(1-Ve)*(1-(Ve=It()/St||.5))<=0&&(Ze=0),pi=pi/Ve;pi=pi*2,E.style(X,de,pi+Zt),xe=xe||[]}return xe&&(pi=+pi||+St||0,je=xe[1]?pi+(xe[1]+1)*xe[2]:+xe[2],Ee&&(Ee.unit=Zt,Ee.start=pi,Ee.end=je)),je}var ti={};function Mi(X){var de,xe=X.ownerDocument,Ee=X.nodeName,je=ti[Ee];return je||(de=xe.body.appendChild(xe.createElement(Ee)),je=E.css(de,"display"),de.parentNode.removeChild(de),je==="none"&&(je="block"),ti[Ee]=je,je)}function on(X,de){for(var xe,Ee,je=[],Ve=0,Ze=X.length;Ve<Ze;Ve++)Ee=X[Ve],Ee.style&&(xe=Ee.style.display,de?(xe==="none"&&(je[Ve]=Le.get(Ee,"display")||null,je[Ve]||(Ee.style.display="")),Ee.style.display===""&&Wt(Ee)&&(je[Ve]=Mi(Ee))):xe!=="none"&&(je[Ve]="none",Le.set(Ee,"display",xe)));for(Ve=0;Ve<Ze;Ve++)je[Ve]!=null&&(X[Ve].style.display=je[Ve]);return X}E.fn.extend({show:function(){return on(this,!0)},hide:function(){return on(this)},toggle:function(X){return typeof X=="boolean"?X?this.show():this.hide():this.each(function(){Wt(this)?E(this).show():E(this).hide()})}});var ft=/^(?:checkbox|radio)$/i,Nt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,fi=/^$|^module$|\/(?:java|ecma)script/i;(function(){var X=M.createDocumentFragment(),de=X.appendChild(M.createElement("div")),xe=M.createElement("input");xe.setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),de.appendChild(xe),L.checkClone=de.cloneNode(!0).cloneNode(!0).lastChild.checked,de.innerHTML="<textarea>x</textarea>",L.noCloneChecked=!!de.cloneNode(!0).lastChild.defaultValue,de.innerHTML="<option></option>",L.option=!!de.lastChild})();var Ui={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ui.tbody=Ui.tfoot=Ui.colgroup=Ui.caption=Ui.thead,Ui.th=Ui.td,L.option||(Ui.optgroup=Ui.option=[1,"<select multiple='multiple'>","</select>"]);function dn(X,de){var xe;return typeof X.getElementsByTagName<"u"?xe=X.getElementsByTagName(de||"*"):typeof X.querySelectorAll<"u"?xe=X.querySelectorAll(de||"*"):xe=[],de===void 0||de&&w(X,de)?E.merge([X],xe):xe}function Gn(X,de){for(var xe=0,Ee=X.length;xe<Ee;xe++)Le.set(X[xe],"globalEval",!de||Le.get(de[xe],"globalEval"))}var Kr=/<|&#?\w+;/;function ci(X,de,xe,Ee,je){for(var Ve,Ze,It,St,Zt,pi,ki=de.createDocumentFragment(),si=[],di=0,Yi=X.length;di<Yi;di++)if(Ve=X[di],Ve||Ve===0)if(H(Ve)==="object")E.merge(si,Ve.nodeType?[Ve]:Ve);else if(!Kr.test(Ve))si.push(de.createTextNode(Ve));else{for(Ze=Ze||ki.appendChild(de.createElement("div")),It=(Nt.exec(Ve)||["",""])[1].toLowerCase(),St=Ui[It]||Ui._default,Ze.innerHTML=St[1]+E.htmlPrefilter(Ve)+St[2],pi=St[0];pi--;)Ze=Ze.lastChild;E.merge(si,Ze.childNodes),Ze=ki.firstChild,Ze.textContent=""}for(ki.textContent="",di=0;Ve=si[di++];){if(Ee&&E.inArray(Ve,Ee)>-1){je&&je.push(Ve);continue}if(Zt=yt(Ve),Ze=dn(ki.appendChild(Ve),"script"),Zt&&Gn(Ze),xe)for(pi=0;Ve=Ze[pi++];)fi.test(Ve.type||"")&&xe.push(Ve)}return ki}var $i=/^([^.]*)(?:\.(.+)|)/;function Wi(){return!0}function zr(){return!1}function fo(X,de){return X===wn()==(de==="focus")}function wn(){try{return M.activeElement}catch{}}function oo(X,de,xe,Ee,je,Ve){var Ze,It;if(typeof de=="object"){typeof xe!="string"&&(Ee=Ee||xe,xe=void 0);for(It in de)oo(X,It,xe,Ee,de[It],Ve);return X}if(Ee==null&&je==null?(je=xe,Ee=xe=void 0):je==null&&(typeof xe=="string"?(je=Ee,Ee=void 0):(je=Ee,Ee=xe,xe=void 0)),je===!1)je=zr;else if(!je)return X;return Ve===1&&(Ze=je,je=function(St){return E().off(St),Ze.apply(this,arguments)},je.guid=Ze.guid||(Ze.guid=E.guid++)),X.each(function(){E.event.add(this,de,je,Ee,xe)})}E.event={global:{},add:function(X,de,xe,Ee,je){var Ve,Ze,It,St,Zt,pi,ki,si,di,Yi,qn,pn=Le.get(X);if(Te(X))for(xe.handler&&(Ve=xe,xe=Ve.handler,je=Ve.selector),je&&E.find.matchesSelector(rt,je),xe.guid||(xe.guid=E.guid++),(St=pn.events)||(St=pn.events=Object.create(null)),(Ze=pn.handle)||(Ze=pn.handle=function(ps){return typeof E<"u"&&E.event.triggered!==ps.type?E.event.dispatch.apply(X,arguments):void 0}),de=(de||"").match(le)||[""],Zt=de.length;Zt--;)It=$i.exec(de[Zt])||[],di=qn=It[1],Yi=(It[2]||"").split(".").sort(),di&&(ki=E.event.special[di]||{},di=(je?ki.delegateType:ki.bindType)||di,ki=E.event.special[di]||{},pi=E.extend({type:di,origType:qn,data:Ee,handler:xe,guid:xe.guid,selector:je,needsContext:je&&E.expr.match.needsContext.test(je),namespace:Yi.join(".")},Ve),(si=St[di])||(si=St[di]=[],si.delegateCount=0,(!ki.setup||ki.setup.call(X,Ee,Yi,Ze)===!1)&&X.addEventListener&&X.addEventListener(di,Ze)),ki.add&&(ki.add.call(X,pi),pi.handler.guid||(pi.handler.guid=xe.guid)),je?si.splice(si.delegateCount++,0,pi):si.push(pi),E.event.global[di]=!0)},remove:function(X,de,xe,Ee,je){var Ve,Ze,It,St,Zt,pi,ki,si,di,Yi,qn,pn=Le.hasData(X)&&Le.get(X);if(!(!pn||!(St=pn.events))){for(de=(de||"").match(le)||[""],Zt=de.length;Zt--;){if(It=$i.exec(de[Zt])||[],di=qn=It[1],Yi=(It[2]||"").split(".").sort(),!di){for(di in St)E.event.remove(X,di+de[Zt],xe,Ee,!0);continue}for(ki=E.event.special[di]||{},di=(Ee?ki.delegateType:ki.bindType)||di,si=St[di]||[],It=It[2]&&new RegExp("(^|\\.)"+Yi.join("\\.(?:.*\\.|)")+"(\\.|$)"),Ze=Ve=si.length;Ve--;)pi=si[Ve],(je||qn===pi.origType)&&(!xe||xe.guid===pi.guid)&&(!It||It.test(pi.namespace))&&(!Ee||Ee===pi.selector||Ee==="**"&&pi.selector)&&(si.splice(Ve,1),pi.selector&&si.delegateCount--,ki.remove&&ki.remove.call(X,pi));Ze&&!si.length&&((!ki.teardown||ki.teardown.call(X,Yi,pn.handle)===!1)&&E.removeEvent(X,di,pn.handle),delete St[di])}E.isEmptyObject(St)&&Le.remove(X,"handle events")}},dispatch:function(X){var de,xe,Ee,je,Ve,Ze,It=new Array(arguments.length),St=E.event.fix(X),Zt=(Le.get(this,"events")||Object.create(null))[St.type]||[],pi=E.event.special[St.type]||{};for(It[0]=St,de=1;de<arguments.length;de++)It[de]=arguments[de];if(St.delegateTarget=this,!(pi.preDispatch&&pi.preDispatch.call(this,St)===!1)){for(Ze=E.event.handlers.call(this,St,Zt),de=0;(je=Ze[de++])&&!St.isPropagationStopped();)for(St.currentTarget=je.elem,xe=0;(Ve=je.handlers[xe++])&&!St.isImmediatePropagationStopped();)(!St.rnamespace||Ve.namespace===!1||St.rnamespace.test(Ve.namespace))&&(St.handleObj=Ve,St.data=Ve.data,Ee=((E.event.special[Ve.origType]||{}).handle||Ve.handler).apply(je.elem,It),Ee!==void 0&&(St.result=Ee)===!1&&(St.preventDefault(),St.stopPropagation()));return pi.postDispatch&&pi.postDispatch.call(this,St),St.result}},handlers:function(X,de){var xe,Ee,je,Ve,Ze,It=[],St=de.delegateCount,Zt=X.target;if(St&&Zt.nodeType&&!(X.type==="click"&&X.button>=1)){for(;Zt!==this;Zt=Zt.parentNode||this)if(Zt.nodeType===1&&!(X.type==="click"&&Zt.disabled===!0)){for(Ve=[],Ze={},xe=0;xe<St;xe++)Ee=de[xe],je=Ee.selector+" ",Ze[je]===void 0&&(Ze[je]=Ee.needsContext?E(je,this).index(Zt)>-1:E.find(je,this,null,[Zt]).length),Ze[je]&&Ve.push(Ee);Ve.length&&It.push({elem:Zt,handlers:Ve})}}return Zt=this,St<de.length&&It.push({elem:Zt,handlers:de.slice(St)}),It},addProp:function(X,de){Object.defineProperty(E.Event.prototype,X,{enumerable:!0,configurable:!0,get:O(de)?function(){if(this.originalEvent)return de(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[X]},set:function(xe){Object.defineProperty(this,X,{enumerable:!0,configurable:!0,writable:!0,value:xe})}})},fix:function(X){return X[E.expando]?X:new E.Event(X)},special:{load:{noBubble:!0},click:{setup:function(X){var de=this||X;return ft.test(de.type)&&de.click&&w(de,"input")&&Ln(de,"click",Wi),!1},trigger:function(X){var de=this||X;return ft.test(de.type)&&de.click&&w(de,"input")&&Ln(de,"click"),!0},_default:function(X){var de=X.target;return ft.test(de.type)&&de.click&&w(de,"input")&&Le.get(de,"click")||w(de,"a")}},beforeunload:{postDispatch:function(X){X.result!==void 0&&X.originalEvent&&(X.originalEvent.returnValue=X.result)}}}};function Ln(X,de,xe){if(!xe){Le.get(X,de)===void 0&&E.event.add(X,de,Wi);return}Le.set(X,de,!1),E.event.add(X,de,{namespace:!1,handler:function(Ee){var je,Ve,Ze=Le.get(this,de);if(Ee.isTrigger&1&&this[de]){if(Ze.length)(E.event.special[de]||{}).delegateType&&Ee.stopPropagation();else if(Ze=d.call(arguments),Le.set(this,de,Ze),je=xe(this,de),this[de](),Ve=Le.get(this,de),Ze!==Ve||je?Le.set(this,de,!1):Ve={},Ze!==Ve)return Ee.stopImmediatePropagation(),Ee.preventDefault(),Ve&&Ve.value}else Ze.length&&(Le.set(this,de,{value:E.event.trigger(E.extend(Ze[0],E.Event.prototype),Ze.slice(1),this)}),Ee.stopImmediatePropagation())}})}E.removeEvent=function(X,de,xe){X.removeEventListener&&X.removeEventListener(de,xe)},E.Event=function(X,de){if(!(this instanceof E.Event))return new E.Event(X,de);X&&X.type?(this.originalEvent=X,this.type=X.type,this.isDefaultPrevented=X.defaultPrevented||X.defaultPrevented===void 0&&X.returnValue===!1?Wi:zr,this.target=X.target&&X.target.nodeType===3?X.target.parentNode:X.target,this.currentTarget=X.currentTarget,this.relatedTarget=X.relatedTarget):this.type=X,de&&E.extend(this,de),this.timeStamp=X&&X.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:zr,isPropagationStopped:zr,isImmediatePropagationStopped:zr,isSimulated:!1,preventDefault:function(){var X=this.originalEvent;this.isDefaultPrevented=Wi,X&&!this.isSimulated&&X.preventDefault()},stopPropagation:function(){var X=this.originalEvent;this.isPropagationStopped=Wi,X&&!this.isSimulated&&X.stopPropagation()},stopImmediatePropagation:function(){var X=this.originalEvent;this.isImmediatePropagationStopped=Wi,X&&!this.isSimulated&&X.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(X,de){E.event.special[X]={setup:function(){return Ln(this,X,fo),!1},trigger:function(){return Ln(this,X),!0},_default:function(xe){return Le.get(xe.target,X)},delegateType:de}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(X,de){E.event.special[X]={delegateType:de,bindType:de,handle:function(xe){var Ee,je=this,Ve=xe.relatedTarget,Ze=xe.handleObj;return(!Ve||Ve!==je&&!E.contains(je,Ve))&&(xe.type=Ze.origType,Ee=Ze.handler.apply(this,arguments),xe.type=de),Ee}}}),E.fn.extend({on:function(X,de,xe,Ee){return oo(this,X,de,xe,Ee)},one:function(X,de,xe,Ee){return oo(this,X,de,xe,Ee,1)},off:function(X,de,xe){var Ee,je;if(X&&X.preventDefault&&X.handleObj)return Ee=X.handleObj,E(X.delegateTarget).off(Ee.namespace?Ee.origType+"."+Ee.namespace:Ee.origType,Ee.selector,Ee.handler),this;if(typeof X=="object"){for(je in X)this.off(je,de,X[je]);return this}return(de===!1||typeof de=="function")&&(xe=de,de=void 0),xe===!1&&(xe=zr),this.each(function(){E.event.remove(this,X,xe,de)})}});var ja=/<script|<style|<link/i,il=/checked\s*(?:[^=]|=\s*.checked.)/i,ht=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ze(X,de){return w(X,"table")&&w(de.nodeType!==11?de:de.firstChild,"tr")&&E(X).children("tbody")[0]||X}function We(X){return X.type=(X.getAttribute("type")!==null)+"/"+X.type,X}function ct(X){return(X.type||"").slice(0,5)==="true/"?X.type=X.type.slice(5):X.removeAttribute("type"),X}function _t(X,de){var xe,Ee,je,Ve,Ze,It,St;if(de.nodeType===1){if(Le.hasData(X)&&(Ve=Le.get(X),St=Ve.events,St)){Le.remove(de,"handle events");for(je in St)for(xe=0,Ee=St[je].length;xe<Ee;xe++)E.event.add(de,je,St[je][xe])}Ue.hasData(X)&&(Ze=Ue.access(X),It=E.extend({},Ze),Ue.set(de,It))}}function Dt(X,de){var xe=de.nodeName.toLowerCase();xe==="input"&&ft.test(X.type)?de.checked=X.checked:(xe==="input"||xe==="textarea")&&(de.defaultValue=X.defaultValue)}function Ft(X,de,xe,Ee){de=h(de);var je,Ve,Ze,It,St,Zt,pi=0,ki=X.length,si=ki-1,di=de[0],Yi=O(di);if(Yi||ki>1&&typeof di=="string"&&!L.checkClone&&il.test(di))return X.each(function(qn){var pn=X.eq(qn);Yi&&(de[0]=di.call(this,qn,pn.html())),Ft(pn,de,xe,Ee)});if(ki&&(je=ci(de,X[0].ownerDocument,!1,X,Ee),Ve=je.firstChild,je.childNodes.length===1&&(je=Ve),Ve||Ee)){for(Ze=E.map(dn(je,"script"),We),It=Ze.length;pi<ki;pi++)St=je,pi!==si&&(St=E.clone(St,!0,!0),It&&E.merge(Ze,dn(St,"script"))),xe.call(X[pi],St,pi);if(It)for(Zt=Ze[Ze.length-1].ownerDocument,E.map(Ze,ct),pi=0;pi<It;pi++)St=Ze[pi],fi.test(St.type||"")&&!Le.access(St,"globalEval")&&E.contains(Zt,St)&&(St.src&&(St.type||"").toLowerCase()!=="module"?E._evalUrl&&!St.noModule&&E._evalUrl(St.src,{nonce:St.nonce||St.getAttribute("nonce")},Zt):P(St.textContent.replace(ht,""),St,Zt))}return X}function Gt(X,de,xe){for(var Ee,je=de?E.filter(de,X):X,Ve=0;(Ee=je[Ve])!=null;Ve++)!xe&&Ee.nodeType===1&&E.cleanData(dn(Ee)),Ee.parentNode&&(xe&&yt(Ee)&&Gn(dn(Ee,"script")),Ee.parentNode.removeChild(Ee));return X}E.extend({htmlPrefilter:function(X){return X},clone:function(X,de,xe){var Ee,je,Ve,Ze,It=X.cloneNode(!0),St=yt(X);if(!L.noCloneChecked&&(X.nodeType===1||X.nodeType===11)&&!E.isXMLDoc(X))for(Ze=dn(It),Ve=dn(X),Ee=0,je=Ve.length;Ee<je;Ee++)Dt(Ve[Ee],Ze[Ee]);if(de)if(xe)for(Ve=Ve||dn(X),Ze=Ze||dn(It),Ee=0,je=Ve.length;Ee<je;Ee++)_t(Ve[Ee],Ze[Ee]);else _t(X,It);return Ze=dn(It,"script"),Ze.length>0&&Gn(Ze,!St&&dn(X,"script")),It},cleanData:function(X){for(var de,xe,Ee,je=E.event.special,Ve=0;(xe=X[Ve])!==void 0;Ve++)if(Te(xe)){if(de=xe[Le.expando]){if(de.events)for(Ee in de.events)je[Ee]?E.event.remove(xe,Ee):E.removeEvent(xe,Ee,de.handle);xe[Le.expando]=void 0}xe[Ue.expando]&&(xe[Ue.expando]=void 0)}}}),E.fn.extend({detach:function(X){return Gt(this,X,!0)},remove:function(X){return Gt(this,X)},text:function(X){return re(this,function(de){return de===void 0?E.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=de)})},null,X,arguments.length)},append:function(){return Ft(this,arguments,function(X){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var de=ze(this,X);de.appendChild(X)}})},prepend:function(){return Ft(this,arguments,function(X){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var de=ze(this,X);de.insertBefore(X,de.firstChild)}})},before:function(){return Ft(this,arguments,function(X){this.parentNode&&this.parentNode.insertBefore(X,this)})},after:function(){return Ft(this,arguments,function(X){this.parentNode&&this.parentNode.insertBefore(X,this.nextSibling)})},empty:function(){for(var X,de=0;(X=this[de])!=null;de++)X.nodeType===1&&(E.cleanData(dn(X,!1)),X.textContent="");return this},clone:function(X,de){return X=X??!1,de=de??X,this.map(function(){return E.clone(this,X,de)})},html:function(X){return re(this,function(de){var xe=this[0]||{},Ee=0,je=this.length;if(de===void 0&&xe.nodeType===1)return xe.innerHTML;if(typeof de=="string"&&!ja.test(de)&&!Ui[(Nt.exec(de)||["",""])[1].toLowerCase()]){de=E.htmlPrefilter(de);try{for(;Ee<je;Ee++)xe=this[Ee]||{},xe.nodeType===1&&(E.cleanData(dn(xe,!1)),xe.innerHTML=de);xe=0}catch{}}xe&&this.empty().append(de)},null,X,arguments.length)},replaceWith:function(){var X=[];return Ft(this,arguments,function(de){var xe=this.parentNode;E.inArray(this,X)<0&&(E.cleanData(dn(this)),xe&&xe.replaceChild(de,this))},X)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(X,de){E.fn[X]=function(xe){for(var Ee,je=[],Ve=E(xe),Ze=Ve.length-1,It=0;It<=Ze;It++)Ee=It===Ze?this:this.clone(!0),E(Ve[It])[de](Ee),s.apply(je,Ee.get());return this.pushStack(je)}});var Lt=new RegExp("^("+Re+")(?!px)[a-z%]+$","i"),Xt=/^--/,_i=function(X){var de=X.ownerDocument.defaultView;return(!de||!de.opener)&&(de=t),de.getComputedStyle(X)},qi=function(X,de,xe){var Ee,je,Ve={};for(je in de)Ve[je]=X.style[je],X.style[je]=de[je];Ee=xe.call(X);for(je in de)X.style[je]=Ve[je];return Ee},Pi=new RegExp(Xe.join("|"),"i"),Mn="[\\x20\\t\\r\\n\\f]",Cn=new RegExp("^"+Mn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Mn+"+$","g");(function(){function X(){if(Zt){St.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Zt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",rt.appendChild(St).appendChild(Zt);var pi=t.getComputedStyle(Zt);xe=pi.top!=="1%",It=de(pi.marginLeft)===12,Zt.style.right="60%",Ve=de(pi.right)===36,Ee=de(pi.width)===36,Zt.style.position="absolute",je=de(Zt.offsetWidth/3)===12,rt.removeChild(St),Zt=null}}function de(pi){return Math.round(parseFloat(pi))}var xe,Ee,je,Ve,Ze,It,St=M.createElement("div"),Zt=M.createElement("div");Zt.style&&(Zt.style.backgroundClip="content-box",Zt.cloneNode(!0).style.backgroundClip="",L.clearCloneStyle=Zt.style.backgroundClip==="content-box",E.extend(L,{boxSizingReliable:function(){return X(),Ee},pixelBoxStyles:function(){return X(),Ve},pixelPosition:function(){return X(),xe},reliableMarginLeft:function(){return X(),It},scrollboxSize:function(){return X(),je},reliableTrDimensions:function(){var pi,ki,si,di;return Ze==null&&(pi=M.createElement("table"),ki=M.createElement("tr"),si=M.createElement("div"),pi.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ki.style.cssText="border:1px solid",ki.style.height="1px",si.style.height="9px",si.style.display="block",rt.appendChild(pi).appendChild(ki).appendChild(si),di=t.getComputedStyle(ki),Ze=parseInt(di.height,10)+parseInt(di.borderTopWidth,10)+parseInt(di.borderBottomWidth,10)===ki.offsetHeight,rt.removeChild(pi)),Ze}}))})();function un(X,de,xe){var Ee,je,Ve,Ze,It=Xt.test(de),St=X.style;return xe=xe||_i(X),xe&&(Ze=xe.getPropertyValue(de)||xe[de],It&&Ze&&(Ze=Ze.replace(Cn,"$1")||void 0),Ze===""&&!yt(X)&&(Ze=E.style(X,de)),!L.pixelBoxStyles()&&Lt.test(Ze)&&Pi.test(de)&&(Ee=St.width,je=St.minWidth,Ve=St.maxWidth,St.minWidth=St.maxWidth=St.width=Ze,Ze=xe.width,St.width=Ee,St.minWidth=je,St.maxWidth=Ve)),Ze!==void 0?Ze+"":Ze}function Gi(X,de){return{get:function(){if(X()){delete this.get;return}return(this.get=de).apply(this,arguments)}}}var lr=["Webkit","Moz","ms"],kr=M.createElement("div").style,_n={};function Hr(X){for(var de=X[0].toUpperCase()+X.slice(1),xe=lr.length;xe--;)if(X=lr[xe]+de,X in kr)return X}function Lr(X){var de=E.cssProps[X]||_n[X];return de||(X in kr?X:_n[X]=Hr(X)||X)}var Ua=/^(none|table(?!-c[ea]).+)/,$a={position:"absolute",visibility:"hidden",display:"block"},mo={letterSpacing:"0",fontWeight:"400"};function hi(X,de,xe){var Ee=Ne.exec(de);return Ee?Math.max(0,Ee[2]-(xe||0))+(Ee[3]||"px"):de}function hs(X,de,xe,Ee,je,Ve){var Ze=de==="width"?1:0,It=0,St=0;if(xe===(Ee?"border":"content"))return 0;for(;Ze<4;Ze+=2)xe==="margin"&&(St+=E.css(X,xe+Xe[Ze],!0,je)),Ee?(xe==="content"&&(St-=E.css(X,"padding"+Xe[Ze],!0,je)),xe!=="margin"&&(St-=E.css(X,"border"+Xe[Ze]+"Width",!0,je))):(St+=E.css(X,"padding"+Xe[Ze],!0,je),xe!=="padding"?St+=E.css(X,"border"+Xe[Ze]+"Width",!0,je):It+=E.css(X,"border"+Xe[Ze]+"Width",!0,je));return!Ee&&Ve>=0&&(St+=Math.max(0,Math.ceil(X["offset"+de[0].toUpperCase()+de.slice(1)]-Ve-St-It-.5))||0),St}function Ls(X,de,xe){var Ee=_i(X),je=!L.boxSizingReliable()||xe,Ve=je&&E.css(X,"boxSizing",!1,Ee)==="border-box",Ze=Ve,It=un(X,de,Ee),St="offset"+de[0].toUpperCase()+de.slice(1);if(Lt.test(It)){if(!xe)return It;It="auto"}return(!L.boxSizingReliable()&&Ve||!L.reliableTrDimensions()&&w(X,"tr")||It==="auto"||!parseFloat(It)&&E.css(X,"display",!1,Ee)==="inline")&&X.getClientRects().length&&(Ve=E.css(X,"boxSizing",!1,Ee)==="border-box",Ze=St in X,Ze&&(It=X[St])),It=parseFloat(It)||0,It+hs(X,de,xe||(Ve?"border":"content"),Ze,Ee,It)+"px"}E.extend({cssHooks:{opacity:{get:function(X,de){if(de){var xe=un(X,"opacity");return xe===""?"1":xe}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(X,de,xe,Ee){if(!(!X||X.nodeType===3||X.nodeType===8||!X.style)){var je,Ve,Ze,It=ye(de),St=Xt.test(de),Zt=X.style;if(St||(de=Lr(It)),Ze=E.cssHooks[de]||E.cssHooks[It],xe!==void 0){if(Ve=typeof xe,Ve==="string"&&(je=Ne.exec(xe))&&je[1]&&(xe=Ci(X,de,je),Ve="number"),xe==null||xe!==xe)return;Ve==="number"&&!St&&(xe+=je&&je[3]||(E.cssNumber[It]?"":"px")),!L.clearCloneStyle&&xe===""&&de.indexOf("background")===0&&(Zt[de]="inherit"),(!Ze||!("set"in Ze)||(xe=Ze.set(X,xe,Ee))!==void 0)&&(St?Zt.setProperty(de,xe):Zt[de]=xe)}else return Ze&&"get"in Ze&&(je=Ze.get(X,!1,Ee))!==void 0?je:Zt[de]}},css:function(X,de,xe,Ee){var je,Ve,Ze,It=ye(de),St=Xt.test(de);return St||(de=Lr(It)),Ze=E.cssHooks[de]||E.cssHooks[It],Ze&&"get"in Ze&&(je=Ze.get(X,!0,xe)),je===void 0&&(je=un(X,de,Ee)),je==="normal"&&de in mo&&(je=mo[de]),xe===""||xe?(Ve=parseFloat(je),xe===!0||isFinite(Ve)?Ve||0:je):je}}),E.each(["height","width"],function(X,de){E.cssHooks[de]={get:function(xe,Ee,je){if(Ee)return Ua.test(E.css(xe,"display"))&&(!xe.getClientRects().length||!xe.getBoundingClientRect().width)?qi(xe,$a,function(){return Ls(xe,de,je)}):Ls(xe,de,je)},set:function(xe,Ee,je){var Ve,Ze=_i(xe),It=!L.scrollboxSize()&&Ze.position==="absolute",St=It||je,Zt=St&&E.css(xe,"boxSizing",!1,Ze)==="border-box",pi=je?hs(xe,de,je,Zt,Ze):0;return Zt&&It&&(pi-=Math.ceil(xe["offset"+de[0].toUpperCase()+de.slice(1)]-parseFloat(Ze[de])-hs(xe,de,"border",!1,Ze)-.5)),pi&&(Ve=Ne.exec(Ee))&&(Ve[3]||"px")!=="px"&&(xe.style[de]=Ee,Ee=E.css(xe,de)),hi(xe,Ee,pi)}}}),E.cssHooks.marginLeft=Gi(L.reliableMarginLeft,function(X,de){if(de)return(parseFloat(un(X,"marginLeft"))||X.getBoundingClientRect().left-qi(X,{marginLeft:0},function(){return X.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(X,de){E.cssHooks[X+de]={expand:function(xe){for(var Ee=0,je={},Ve=typeof xe=="string"?xe.split(" "):[xe];Ee<4;Ee++)je[X+Xe[Ee]+de]=Ve[Ee]||Ve[Ee-2]||Ve[0];return je}},X!=="margin"&&(E.cssHooks[X+de].set=hi)}),E.fn.extend({css:function(X,de){return re(this,function(xe,Ee,je){var Ve,Ze,It={},St=0;if(Array.isArray(Ee)){for(Ve=_i(xe),Ze=Ee.length;St<Ze;St++)It[Ee[St]]=E.css(xe,Ee[St],!1,Ve);return It}return je!==void 0?E.style(xe,Ee,je):E.css(xe,Ee)},X,de,arguments.length>1)}});function Os(X,de,xe,Ee,je){return new Os.prototype.init(X,de,xe,Ee,je)}E.Tween=Os,Os.prototype={constructor:Os,init:function(X,de,xe,Ee,je,Ve){this.elem=X,this.prop=xe,this.easing=je||E.easing._default,this.options=de,this.start=this.now=this.cur(),this.end=Ee,this.unit=Ve||(E.cssNumber[xe]?"":"px")},cur:function(){var X=Os.propHooks[this.prop];return X&&X.get?X.get(this):Os.propHooks._default.get(this)},run:function(X){var de,xe=Os.propHooks[this.prop];return this.options.duration?this.pos=de=E.easing[this.easing](X,this.options.duration*X,0,1,this.options.duration):this.pos=de=X,this.now=(this.end-this.start)*de+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),xe&&xe.set?xe.set(this):Os.propHooks._default.set(this),this}},Os.prototype.init.prototype=Os.prototype,Os.propHooks={_default:{get:function(X){var de;return X.elem.nodeType!==1||X.elem[X.prop]!=null&&X.elem.style[X.prop]==null?X.elem[X.prop]:(de=E.css(X.elem,X.prop,""),!de||de==="auto"?0:de)},set:function(X){E.fx.step[X.prop]?E.fx.step[X.prop](X):X.elem.nodeType===1&&(E.cssHooks[X.prop]||X.elem.style[Lr(X.prop)]!=null)?E.style(X.elem,X.prop,X.now+X.unit):X.elem[X.prop]=X.now}}},Os.propHooks.scrollTop=Os.propHooks.scrollLeft={set:function(X){X.elem.nodeType&&X.elem.parentNode&&(X.elem[X.prop]=X.now)}},E.easing={linear:function(X){return X},swing:function(X){return .5-Math.cos(X*Math.PI)/2},_default:"swing"},E.fx=Os.prototype.init,E.fx.step={};var xc,ko,Hc=/^(?:toggle|show|hide)$/,tu=/queueHooks$/;function ao(){ko&&(M.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(ao):t.setTimeout(ao,E.fx.interval),E.fx.tick())}function Xi(){return t.setTimeout(function(){xc=void 0}),xc=Date.now()}function tr(X,de){var xe,Ee=0,je={height:X};for(de=de?1:0;Ee<4;Ee+=2-de)xe=Xe[Ee],je["margin"+xe]=je["padding"+xe]=X;return de&&(je.opacity=je.width=X),je}function cr(X,de,xe){for(var Ee,je=(Nn.tweeners[de]||[]).concat(Nn.tweeners["*"]),Ve=0,Ze=je.length;Ve<Ze;Ve++)if(Ee=je[Ve].call(xe,de,X))return Ee}function Jo(X,de,xe){var Ee,je,Ve,Ze,It,St,Zt,pi,ki="width"in de||"height"in de,si=this,di={},Yi=X.style,qn=X.nodeType&&Wt(X),pn=Le.get(X,"fxshow");xe.queue||(Ze=E._queueHooks(X,"fx"),Ze.unqueued==null&&(Ze.unqueued=0,It=Ze.empty.fire,Ze.empty.fire=function(){Ze.unqueued||It()}),Ze.unqueued++,si.always(function(){si.always(function(){Ze.unqueued--,E.queue(X,"fx").length||Ze.empty.fire()})}));for(Ee in de)if(je=de[Ee],Hc.test(je)){if(delete de[Ee],Ve=Ve||je==="toggle",je===(qn?"hide":"show"))if(je==="show"&&pn&&pn[Ee]!==void 0)qn=!0;else continue;di[Ee]=pn&&pn[Ee]||E.style(X,Ee)}if(St=!E.isEmptyObject(de),!(!St&&E.isEmptyObject(di))){ki&&X.nodeType===1&&(xe.overflow=[Yi.overflow,Yi.overflowX,Yi.overflowY],Zt=pn&&pn.display,Zt==null&&(Zt=Le.get(X,"display")),pi=E.css(X,"display"),pi==="none"&&(Zt?pi=Zt:(on([X],!0),Zt=X.style.display||Zt,pi=E.css(X,"display"),on([X]))),(pi==="inline"||pi==="inline-block"&&Zt!=null)&&E.css(X,"float")==="none"&&(St||(si.done(function(){Yi.display=Zt}),Zt==null&&(pi=Yi.display,Zt=pi==="none"?"":pi)),Yi.display="inline-block")),xe.overflow&&(Yi.overflow="hidden",si.always(function(){Yi.overflow=xe.overflow[0],Yi.overflowX=xe.overflow[1],Yi.overflowY=xe.overflow[2]})),St=!1;for(Ee in di)St||(pn?"hidden"in pn&&(qn=pn.hidden):pn=Le.access(X,"fxshow",{display:Zt}),Ve&&(pn.hidden=!qn),qn&&on([X],!0),si.done(function(){qn||on([X]),Le.remove(X,"fxshow");for(Ee in di)E.style(X,Ee,di[Ee])})),St=cr(qn?pn[Ee]:0,Ee,si),Ee in pn||(pn[Ee]=St.start,qn&&(St.end=St.start,St.start=0))}}function Va(X,de){var xe,Ee,je,Ve,Ze;for(xe in X)if(Ee=ye(xe),je=de[Ee],Ve=X[xe],Array.isArray(Ve)&&(je=Ve[1],Ve=X[xe]=Ve[0]),xe!==Ee&&(X[Ee]=Ve,delete X[xe]),Ze=E.cssHooks[Ee],Ze&&"expand"in Ze){Ve=Ze.expand(Ve),delete X[Ee];for(xe in Ve)xe in X||(X[xe]=Ve[xe],de[xe]=je)}else de[Ee]=je}function Nn(X,de,xe){var Ee,je,Ve=0,Ze=Nn.prefilters.length,It=E.Deferred().always(function(){delete St.elem}),St=function(){if(je)return!1;for(var ki=xc||Xi(),si=Math.max(0,Zt.startTime+Zt.duration-ki),di=si/Zt.duration||0,Yi=1-di,qn=0,pn=Zt.tweens.length;qn<pn;qn++)Zt.tweens[qn].run(Yi);return It.notifyWith(X,[Zt,Yi,si]),Yi<1&&pn?si:(pn||It.notifyWith(X,[Zt,1,0]),It.resolveWith(X,[Zt]),!1)},Zt=It.promise({elem:X,props:E.extend({},de),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},xe),originalProperties:de,originalOptions:xe,startTime:xc||Xi(),duration:xe.duration,tweens:[],createTween:function(ki,si){var di=E.Tween(X,Zt.opts,ki,si,Zt.opts.specialEasing[ki]||Zt.opts.easing);return Zt.tweens.push(di),di},stop:function(ki){var si=0,di=ki?Zt.tweens.length:0;if(je)return this;for(je=!0;si<di;si++)Zt.tweens[si].run(1);return ki?(It.notifyWith(X,[Zt,1,0]),It.resolveWith(X,[Zt,ki])):It.rejectWith(X,[Zt,ki]),this}}),pi=Zt.props;for(Va(pi,Zt.opts.specialEasing);Ve<Ze;Ve++)if(Ee=Nn.prefilters[Ve].call(Zt,X,pi,Zt.opts),Ee)return O(Ee.stop)&&(E._queueHooks(Zt.elem,Zt.opts.queue).stop=Ee.stop.bind(Ee)),Ee;return E.map(pi,cr,Zt),O(Zt.opts.start)&&Zt.opts.start.call(X,Zt),Zt.progress(Zt.opts.progress).done(Zt.opts.done,Zt.opts.complete).fail(Zt.opts.fail).always(Zt.opts.always),E.fx.timer(E.extend(St,{elem:X,anim:Zt,queue:Zt.opts.queue})),Zt}E.Animation=E.extend(Nn,{tweeners:{"*":[function(X,de){var xe=this.createTween(X,de);return Ci(xe.elem,X,Ne.exec(de),xe),xe}]},tweener:function(X,de){O(X)?(de=X,X=["*"]):X=X.match(le);for(var xe,Ee=0,je=X.length;Ee<je;Ee++)xe=X[Ee],Nn.tweeners[xe]=Nn.tweeners[xe]||[],Nn.tweeners[xe].unshift(de)},prefilters:[Jo],prefilter:function(X,de){de?Nn.prefilters.unshift(X):Nn.prefilters.push(X)}}),E.speed=function(X,de,xe){var Ee=X&&typeof X=="object"?E.extend({},X):{complete:xe||!xe&&de||O(X)&&X,duration:X,easing:xe&&de||de&&!O(de)&&de};return E.fx.off?Ee.duration=0:typeof Ee.duration!="number"&&(Ee.duration in E.fx.speeds?Ee.duration=E.fx.speeds[Ee.duration]:Ee.duration=E.fx.speeds._default),(Ee.queue==null||Ee.queue===!0)&&(Ee.queue="fx"),Ee.old=Ee.complete,Ee.complete=function(){O(Ee.old)&&Ee.old.call(this),Ee.queue&&E.dequeue(this,Ee.queue)},Ee},E.fn.extend({fadeTo:function(X,de,xe,Ee){return this.filter(Wt).css("opacity",0).show().end().animate({opacity:de},X,xe,Ee)},animate:function(X,de,xe,Ee){var je=E.isEmptyObject(X),Ve=E.speed(de,xe,Ee),Ze=function(){var It=Nn(this,E.extend({},X),Ve);(je||Le.get(this,"finish"))&&It.stop(!0)};return Ze.finish=Ze,je||Ve.queue===!1?this.each(Ze):this.queue(Ve.queue,Ze)},stop:function(X,de,xe){var Ee=function(je){var Ve=je.stop;delete je.stop,Ve(xe)};return typeof X!="string"&&(xe=de,de=X,X=void 0),de&&this.queue(X||"fx",[]),this.each(function(){var je=!0,Ve=X!=null&&X+"queueHooks",Ze=E.timers,It=Le.get(this);if(Ve)It[Ve]&&It[Ve].stop&&Ee(It[Ve]);else for(Ve in It)It[Ve]&&It[Ve].stop&&tu.test(Ve)&&Ee(It[Ve]);for(Ve=Ze.length;Ve--;)Ze[Ve].elem===this&&(X==null||Ze[Ve].queue===X)&&(Ze[Ve].anim.stop(xe),je=!1,Ze.splice(Ve,1));(je||!xe)&&E.dequeue(this,X)})},finish:function(X){return X!==!1&&(X=X||"fx"),this.each(function(){var de,xe=Le.get(this),Ee=xe[X+"queue"],je=xe[X+"queueHooks"],Ve=E.timers,Ze=Ee?Ee.length:0;for(xe.finish=!0,E.queue(this,X,[]),je&&je.stop&&je.stop.call(this,!0),de=Ve.length;de--;)Ve[de].elem===this&&Ve[de].queue===X&&(Ve[de].anim.stop(!0),Ve.splice(de,1));for(de=0;de<Ze;de++)Ee[de]&&Ee[de].finish&&Ee[de].finish.call(this);delete xe.finish})}}),E.each(["toggle","show","hide"],function(X,de){var xe=E.fn[de];E.fn[de]=function(Ee,je,Ve){return Ee==null||typeof Ee=="boolean"?xe.apply(this,arguments):this.animate(tr(de,!0),Ee,je,Ve)}}),E.each({slideDown:tr("show"),slideUp:tr("hide"),slideToggle:tr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(X,de){E.fn[X]=function(xe,Ee,je){return this.animate(de,xe,Ee,je)}}),E.timers=[],E.fx.tick=function(){var X,de=0,xe=E.timers;for(xc=Date.now();de<xe.length;de++)X=xe[de],!X()&&xe[de]===X&&xe.splice(de--,1);xe.length||E.fx.stop(),xc=void 0},E.fx.timer=function(X){E.timers.push(X),E.fx.start()},E.fx.interval=13,E.fx.start=function(){ko||(ko=!0,ao())},E.fx.stop=function(){ko=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(X,de){return X=E.fx&&E.fx.speeds[X]||X,de=de||"fx",this.queue(de,function(xe,Ee){var je=t.setTimeout(xe,X);Ee.stop=function(){t.clearTimeout(je)}})},function(){var X=M.createElement("input"),de=M.createElement("select"),xe=de.appendChild(M.createElement("option"));X.type="checkbox",L.checkOn=X.value!=="",L.optSelected=xe.selected,X=M.createElement("input"),X.value="t",X.type="radio",L.radioValue=X.value==="t"}();var bc,Ca=E.expr.attrHandle;E.fn.extend({attr:function(X,de){return re(this,E.attr,X,de,arguments.length>1)},removeAttr:function(X){return this.each(function(){E.removeAttr(this,X)})}}),E.extend({attr:function(X,de,xe){var Ee,je,Ve=X.nodeType;if(!(Ve===3||Ve===8||Ve===2)){if(typeof X.getAttribute>"u")return E.prop(X,de,xe);if((Ve!==1||!E.isXMLDoc(X))&&(je=E.attrHooks[de.toLowerCase()]||(E.expr.match.bool.test(de)?bc:void 0)),xe!==void 0){if(xe===null){E.removeAttr(X,de);return}return je&&"set"in je&&(Ee=je.set(X,xe,de))!==void 0?Ee:(X.setAttribute(de,xe+""),xe)}return je&&"get"in je&&(Ee=je.get(X,de))!==null?Ee:(Ee=E.find.attr(X,de),Ee??void 0)}},attrHooks:{type:{set:function(X,de){if(!L.radioValue&&de==="radio"&&w(X,"input")){var xe=X.value;return X.setAttribute("type",de),xe&&(X.value=xe),de}}}},removeAttr:function(X,de){var xe,Ee=0,je=de&&de.match(le);if(je&&X.nodeType===1)for(;xe=je[Ee++];)X.removeAttribute(xe)}}),bc={set:function(X,de,xe){return de===!1?E.removeAttr(X,xe):X.setAttribute(xe,xe),xe}},E.each(E.expr.match.bool.source.match(/\w+/g),function(X,de){var xe=Ca[de]||E.find.attr;Ca[de]=function(Ee,je,Ve){var Ze,It,St=je.toLowerCase();return Ve||(It=Ca[St],Ca[St]=Ze,Ze=xe(Ee,je,Ve)!=null?St:null,Ca[St]=It),Ze}});var nl=/^(?:input|select|textarea|button)$/i,Zs=/^(?:a|area)$/i;E.fn.extend({prop:function(X,de){return re(this,E.prop,X,de,arguments.length>1)},removeProp:function(X){return this.each(function(){delete this[E.propFix[X]||X]})}}),E.extend({prop:function(X,de,xe){var Ee,je,Ve=X.nodeType;if(!(Ve===3||Ve===8||Ve===2))return(Ve!==1||!E.isXMLDoc(X))&&(de=E.propFix[de]||de,je=E.propHooks[de]),xe!==void 0?je&&"set"in je&&(Ee=je.set(X,xe,de))!==void 0?Ee:X[de]=xe:je&&"get"in je&&(Ee=je.get(X,de))!==null?Ee:X[de]},propHooks:{tabIndex:{get:function(X){var de=E.find.attr(X,"tabindex");return de?parseInt(de,10):nl.test(X.nodeName)||Zs.test(X.nodeName)&&X.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),L.optSelected||(E.propHooks.selected={get:function(X){var de=X.parentNode;return de&&de.parentNode&&de.parentNode.selectedIndex,null},set:function(X){var de=X.parentNode;de&&(de.selectedIndex,de.parentNode&&de.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this});function Vr(X){var de=X.match(le)||[];return de.join(" ")}function lo(X){return X.getAttribute&&X.getAttribute("class")||""}function Uo(X){return Array.isArray(X)?X:typeof X=="string"?X.match(le)||[]:[]}E.fn.extend({addClass:function(X){var de,xe,Ee,je,Ve,Ze;return O(X)?this.each(function(It){E(this).addClass(X.call(this,It,lo(this)))}):(de=Uo(X),de.length?this.each(function(){if(Ee=lo(this),xe=this.nodeType===1&&" "+Vr(Ee)+" ",xe){for(Ve=0;Ve<de.length;Ve++)je=de[Ve],xe.indexOf(" "+je+" ")<0&&(xe+=je+" ");Ze=Vr(xe),Ee!==Ze&&this.setAttribute("class",Ze)}}):this)},removeClass:function(X){var de,xe,Ee,je,Ve,Ze;return O(X)?this.each(function(It){E(this).removeClass(X.call(this,It,lo(this)))}):arguments.length?(de=Uo(X),de.length?this.each(function(){if(Ee=lo(this),xe=this.nodeType===1&&" "+Vr(Ee)+" ",xe){for(Ve=0;Ve<de.length;Ve++)for(je=de[Ve];xe.indexOf(" "+je+" ")>-1;)xe=xe.replace(" "+je+" "," ");Ze=Vr(xe),Ee!==Ze&&this.setAttribute("class",Ze)}}):this):this.attr("class","")},toggleClass:function(X,de){var xe,Ee,je,Ve,Ze=typeof X,It=Ze==="string"||Array.isArray(X);return O(X)?this.each(function(St){E(this).toggleClass(X.call(this,St,lo(this),de),de)}):typeof de=="boolean"&&It?de?this.addClass(X):this.removeClass(X):(xe=Uo(X),this.each(function(){if(It)for(Ve=E(this),je=0;je<xe.length;je++)Ee=xe[je],Ve.hasClass(Ee)?Ve.removeClass(Ee):Ve.addClass(Ee);else(X===void 0||Ze==="boolean")&&(Ee=lo(this),Ee&&Le.set(this,"__className__",Ee),this.setAttribute&&this.setAttribute("class",Ee||X===!1?"":Le.get(this,"__className__")||""))}))},hasClass:function(X){var de,xe,Ee=0;for(de=" "+X+" ";xe=this[Ee++];)if(xe.nodeType===1&&(" "+Vr(lo(xe))+" ").indexOf(de)>-1)return!0;return!1}});var Gl=/\r/g;E.fn.extend({val:function(X){var de,xe,Ee,je=this[0];return arguments.length?(Ee=O(X),this.each(function(Ve){var Ze;this.nodeType===1&&(Ee?Ze=X.call(this,Ve,E(this).val()):Ze=X,Ze==null?Ze="":typeof Ze=="number"?Ze+="":Array.isArray(Ze)&&(Ze=E.map(Ze,function(It){return It==null?"":It+""})),de=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()],(!de||!("set"in de)||de.set(this,Ze,"value")===void 0)&&(this.value=Ze))})):je?(de=E.valHooks[je.type]||E.valHooks[je.nodeName.toLowerCase()],de&&"get"in de&&(xe=de.get(je,"value"))!==void 0?xe:(xe=je.value,typeof xe=="string"?xe.replace(Gl,""):xe??"")):void 0}}),E.extend({valHooks:{option:{get:function(X){var de=E.find.attr(X,"value");return de??Vr(E.text(X))}},select:{get:function(X){var de,xe,Ee,je=X.options,Ve=X.selectedIndex,Ze=X.type==="select-one",It=Ze?null:[],St=Ze?Ve+1:je.length;for(Ve<0?Ee=St:Ee=Ze?Ve:0;Ee<St;Ee++)if(xe=je[Ee],(xe.selected||Ee===Ve)&&!xe.disabled&&(!xe.parentNode.disabled||!w(xe.parentNode,"optgroup"))){if(de=E(xe).val(),Ze)return de;It.push(de)}return It},set:function(X,de){for(var xe,Ee,je=X.options,Ve=E.makeArray(de),Ze=je.length;Ze--;)Ee=je[Ze],(Ee.selected=E.inArray(E.valHooks.option.get(Ee),Ve)>-1)&&(xe=!0);return xe||(X.selectedIndex=-1),Ve}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(X,de){if(Array.isArray(de))return X.checked=E.inArray(E(X).val(),de)>-1}},L.checkOn||(E.valHooks[this].get=function(X){return X.getAttribute("value")===null?"on":X.value})}),L.focusin="onfocusin"in t;var pa=/^(?:focusinfocus|focusoutblur)$/,yl=function(X){X.stopPropagation()};E.extend(E.event,{trigger:function(X,de,xe,Ee){var je,Ve,Ze,It,St,Zt,pi,ki,si=[xe||M],di=I.call(X,"type")?X.type:X,Yi=I.call(X,"namespace")?X.namespace.split("."):[];if(Ve=ki=Ze=xe=xe||M,!(xe.nodeType===3||xe.nodeType===8)&&!pa.test(di+E.event.triggered)&&(di.indexOf(".")>-1&&(Yi=di.split("."),di=Yi.shift(),Yi.sort()),St=di.indexOf(":")<0&&"on"+di,X=X[E.expando]?X:new E.Event(di,typeof X=="object"&&X),X.isTrigger=Ee?2:3,X.namespace=Yi.join("."),X.rnamespace=X.namespace?new RegExp("(^|\\.)"+Yi.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,X.result=void 0,X.target||(X.target=xe),de=de==null?[X]:E.makeArray(de,[X]),pi=E.event.special[di]||{},!(!Ee&&pi.trigger&&pi.trigger.apply(xe,de)===!1))){if(!Ee&&!pi.noBubble&&!G(xe)){for(It=pi.delegateType||di,pa.test(It+di)||(Ve=Ve.parentNode);Ve;Ve=Ve.parentNode)si.push(Ve),Ze=Ve;Ze===(xe.ownerDocument||M)&&si.push(Ze.defaultView||Ze.parentWindow||t)}for(je=0;(Ve=si[je++])&&!X.isPropagationStopped();)ki=Ve,X.type=je>1?It:pi.bindType||di,Zt=(Le.get(Ve,"events")||Object.create(null))[X.type]&&Le.get(Ve,"handle"),Zt&&Zt.apply(Ve,de),Zt=St&&Ve[St],Zt&&Zt.apply&&Te(Ve)&&(X.result=Zt.apply(Ve,de),X.result===!1&&X.preventDefault());return X.type=di,!Ee&&!X.isDefaultPrevented()&&(!pi._default||pi._default.apply(si.pop(),de)===!1)&&Te(xe)&&St&&O(xe[di])&&!G(xe)&&(Ze=xe[St],Ze&&(xe[St]=null),E.event.triggered=di,X.isPropagationStopped()&&ki.addEventListener(di,yl),xe[di](),X.isPropagationStopped()&&ki.removeEventListener(di,yl),E.event.triggered=void 0,Ze&&(xe[St]=Ze)),X.result}},simulate:function(X,de,xe){var Ee=E.extend(new E.Event,xe,{type:X,isSimulated:!0});E.event.trigger(Ee,null,de)}}),E.fn.extend({trigger:function(X,de){return this.each(function(){E.event.trigger(X,de,this)})},triggerHandler:function(X,de){var xe=this[0];if(xe)return E.event.trigger(X,de,xe,!0)}}),L.focusin||E.each({focus:"focusin",blur:"focusout"},function(X,de){var xe=function(Ee){E.event.simulate(de,Ee.target,E.event.fix(Ee))};E.event.special[de]={setup:function(){var Ee=this.ownerDocument||this.document||this,je=Le.access(Ee,de);je||Ee.addEventListener(X,xe,!0),Le.access(Ee,de,(je||0)+1)},teardown:function(){var Ee=this.ownerDocument||this.document||this,je=Le.access(Ee,de)-1;je?Le.access(Ee,de,je):(Ee.removeEventListener(X,xe,!0),Le.remove(Ee,de))}}});var _l=t.location,rl={guid:Date.now()},vl=/\?/;E.parseXML=function(X){var de,xe;if(!X||typeof X!="string")return null;try{de=new t.DOMParser().parseFromString(X,"text/xml")}catch{}return xe=de&&de.getElementsByTagName("parsererror")[0],(!de||xe)&&E.error("Invalid XML: "+(xe?E.map(xe.childNodes,function(Ee){return Ee.textContent}).join(`
`):X)),de};var Yc=/\[\]$/,qc=/\r?\n/g,Ro=/^(?:submit|button|image|reset|file)$/i,As=/^(?:input|select|textarea|keygen)/i;function Wl(X,de,xe,Ee){var je;if(Array.isArray(de))E.each(de,function(Ve,Ze){xe||Yc.test(X)?Ee(X,Ze):Wl(X+"["+(typeof Ze=="object"&&Ze!=null?Ve:"")+"]",Ze,xe,Ee)});else if(!xe&&H(de)==="object")for(je in de)Wl(X+"["+je+"]",de[je],xe,Ee);else Ee(X,de)}E.param=function(X,de){var xe,Ee=[],je=function(Ve,Ze){var It=O(Ze)?Ze():Ze;Ee[Ee.length]=encodeURIComponent(Ve)+"="+encodeURIComponent(It??"")};if(X==null)return"";if(Array.isArray(X)||X.jquery&&!E.isPlainObject(X))E.each(X,function(){je(this.name,this.value)});else for(xe in X)Wl(xe,X[xe],de,je);return Ee.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var X=E.prop(this,"elements");return X?E.makeArray(X):this}).filter(function(){var X=this.type;return this.name&&!E(this).is(":disabled")&&As.test(this.nodeName)&&!Ro.test(X)&&(this.checked||!ft.test(X))}).map(function(X,de){var xe=E(this).val();return xe==null?null:Array.isArray(xe)?E.map(xe,function(Ee){return{name:de.name,value:Ee.replace(qc,`\r
`)}}):{name:de.name,value:xe.replace(qc,`\r
`)}}).get()}});var sl=/%20/g,Ks=/#.*$/,fa=/([?&])_=[^&]*/,Pu=/^(.*?):[ \t]*([^\r\n]*)$/mg,wd=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ws=/^(?:GET|HEAD)$/,Hl=/^\/\//,Td={},Yl={},Js="*/".concat("*"),xl=M.createElement("a");xl.href=_l.href;function Sd(X){return function(de,xe){typeof de!="string"&&(xe=de,de="*");var Ee,je=0,Ve=de.toLowerCase().match(le)||[];if(O(xe))for(;Ee=Ve[je++];)Ee[0]==="+"?(Ee=Ee.slice(1)||"*",(X[Ee]=X[Ee]||[]).unshift(xe)):(X[Ee]=X[Ee]||[]).push(xe)}}function Pr(X,de,xe,Ee){var je={},Ve=X===Yl;function Ze(It){var St;return je[It]=!0,E.each(X[It]||[],function(Zt,pi){var ki=pi(de,xe,Ee);if(typeof ki=="string"&&!Ve&&!je[ki])return de.dataTypes.unshift(ki),Ze(ki),!1;if(Ve)return!(St=ki)}),St}return Ze(de.dataTypes[0])||!je["*"]&&Ze("*")}function Nr(X,de){var xe,Ee,je=E.ajaxSettings.flatOptions||{};for(xe in de)de[xe]!==void 0&&((je[xe]?X:Ee||(Ee={}))[xe]=de[xe]);return Ee&&E.extend(!0,X,Ee),X}function Cd(X,de,xe){for(var Ee,je,Ve,Ze,It=X.contents,St=X.dataTypes;St[0]==="*";)St.shift(),Ee===void 0&&(Ee=X.mimeType||de.getResponseHeader("Content-Type"));if(Ee){for(je in It)if(It[je]&&It[je].test(Ee)){St.unshift(je);break}}if(St[0]in xe)Ve=St[0];else{for(je in xe){if(!St[0]||X.converters[je+" "+St[0]]){Ve=je;break}Ze||(Ze=je)}Ve=Ve||Ze}if(Ve)return Ve!==St[0]&&St.unshift(Ve),xe[Ve]}function Du(X,de,xe,Ee){var je,Ve,Ze,It,St,Zt={},pi=X.dataTypes.slice();if(pi[1])for(Ze in X.converters)Zt[Ze.toLowerCase()]=X.converters[Ze];for(Ve=pi.shift();Ve;)if(X.responseFields[Ve]&&(xe[X.responseFields[Ve]]=de),!St&&Ee&&X.dataFilter&&(de=X.dataFilter(de,X.dataType)),St=Ve,Ve=pi.shift(),Ve){if(Ve==="*")Ve=St;else if(St!=="*"&&St!==Ve){if(Ze=Zt[St+" "+Ve]||Zt["* "+Ve],!Ze){for(je in Zt)if(It=je.split(" "),It[1]===Ve&&(Ze=Zt[St+" "+It[0]]||Zt["* "+It[0]],Ze)){Ze===!0?Ze=Zt[je]:Zt[je]!==!0&&(Ve=It[0],pi.unshift(It[1]));break}}if(Ze!==!0)if(Ze&&X.throws)de=Ze(de);else try{de=Ze(de)}catch(ki){return{state:"parsererror",error:Ze?ki:"No conversion from "+St+" to "+Ve}}}}return{state:"success",data:de}}E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_l.href,type:"GET",isLocal:wd.test(_l.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Js,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(X,de){return de?Nr(Nr(X,E.ajaxSettings),de):Nr(E.ajaxSettings,X)},ajaxPrefilter:Sd(Td),ajaxTransport:Sd(Yl),ajax:function(X,de){typeof X=="object"&&(de=X,X=void 0),de=de||{};var xe,Ee,je,Ve,Ze,It,St,Zt,pi,ki,si=E.ajaxSetup({},de),di=si.context||si,Yi=si.context&&(di.nodeType||di.jquery)?E(di):E.event,qn=E.Deferred(),pn=E.Callbacks("once memory"),ps=si.statusCode||{},Jr={},hr={},pr="canceled",Wn={readyState:0,getResponseHeader:function(mr){var Qr;if(St){if(!Ve)for(Ve={};Qr=Pu.exec(je);)Ve[Qr[1].toLowerCase()+" "]=(Ve[Qr[1].toLowerCase()+" "]||[]).concat(Qr[2]);Qr=Ve[mr.toLowerCase()+" "]}return Qr==null?null:Qr.join(", ")},getAllResponseHeaders:function(){return St?je:null},setRequestHeader:function(mr,Qr){return St==null&&(mr=hr[mr.toLowerCase()]=hr[mr.toLowerCase()]||mr,Jr[mr]=Qr),this},overrideMimeType:function(mr){return St==null&&(si.mimeType=mr),this},statusCode:function(mr){var Qr;if(mr)if(St)Wn.always(mr[Wn.status]);else for(Qr in mr)ps[Qr]=[ps[Qr],mr[Qr]];return this},abort:function(mr){var Qr=mr||pr;return xe&&xe.abort(Qr),Qs(0,Qr),this}};if(qn.promise(Wn),si.url=((X||si.url||_l.href)+"").replace(Hl,_l.protocol+"//"),si.type=de.method||de.type||si.method||si.type,si.dataTypes=(si.dataType||"*").toLowerCase().match(le)||[""],si.crossDomain==null){It=M.createElement("a");try{It.href=si.url,It.href=It.href,si.crossDomain=xl.protocol+"//"+xl.host!=It.protocol+"//"+It.host}catch{si.crossDomain=!0}}if(si.data&&si.processData&&typeof si.data!="string"&&(si.data=E.param(si.data,si.traditional)),Pr(Td,si,de,Wn),St)return Wn;Zt=E.event&&si.global,Zt&&E.active++===0&&E.event.trigger("ajaxStart"),si.type=si.type.toUpperCase(),si.hasContent=!Ws.test(si.type),Ee=si.url.replace(Ks,""),si.hasContent?si.data&&si.processData&&(si.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(si.data=si.data.replace(sl,"+")):(ki=si.url.slice(Ee.length),si.data&&(si.processData||typeof si.data=="string")&&(Ee+=(vl.test(Ee)?"&":"?")+si.data,delete si.data),si.cache===!1&&(Ee=Ee.replace(fa,"$1"),ki=(vl.test(Ee)?"&":"?")+"_="+rl.guid+++ki),si.url=Ee+ki),si.ifModified&&(E.lastModified[Ee]&&Wn.setRequestHeader("If-Modified-Since",E.lastModified[Ee]),E.etag[Ee]&&Wn.setRequestHeader("If-None-Match",E.etag[Ee])),(si.data&&si.hasContent&&si.contentType!==!1||de.contentType)&&Wn.setRequestHeader("Content-Type",si.contentType),Wn.setRequestHeader("Accept",si.dataTypes[0]&&si.accepts[si.dataTypes[0]]?si.accepts[si.dataTypes[0]]+(si.dataTypes[0]!=="*"?", "+Js+"; q=0.01":""):si.accepts["*"]);for(pi in si.headers)Wn.setRequestHeader(pi,si.headers[pi]);if(si.beforeSend&&(si.beforeSend.call(di,Wn,si)===!1||St))return Wn.abort();if(pr="abort",pn.add(si.complete),Wn.done(si.success),Wn.fail(si.error),xe=Pr(Yl,si,de,Wn),!xe)Qs(-1,"No Transport");else{if(Wn.readyState=1,Zt&&Yi.trigger("ajaxSend",[Wn,si]),St)return Wn;si.async&&si.timeout>0&&(Ze=t.setTimeout(function(){Wn.abort("timeout")},si.timeout));try{St=!1,xe.send(Jr,Qs)}catch(mr){if(St)throw mr;Qs(-1,mr)}}function Qs(mr,Qr,Ga,Xl){var eo,ea,Zn,go,ta,Bo=Qr;St||(St=!0,Ze&&t.clearTimeout(Ze),xe=void 0,je=Xl||"",Wn.readyState=mr>0?4:0,eo=mr>=200&&mr<300||mr===304,Ga&&(go=Cd(si,Wn,Ga)),!eo&&E.inArray("script",si.dataTypes)>-1&&E.inArray("json",si.dataTypes)<0&&(si.converters["text script"]=function(){}),go=Du(si,go,Wn,eo),eo?(si.ifModified&&(ta=Wn.getResponseHeader("Last-Modified"),ta&&(E.lastModified[Ee]=ta),ta=Wn.getResponseHeader("etag"),ta&&(E.etag[Ee]=ta)),mr===204||si.type==="HEAD"?Bo="nocontent":mr===304?Bo="notmodified":(Bo=go.state,ea=go.data,Zn=go.error,eo=!Zn)):(Zn=Bo,(mr||!Bo)&&(Bo="error",mr<0&&(mr=0))),Wn.status=mr,Wn.statusText=(Qr||Bo)+"",eo?qn.resolveWith(di,[ea,Bo,Wn]):qn.rejectWith(di,[Wn,Bo,Zn]),Wn.statusCode(ps),ps=void 0,Zt&&Yi.trigger(eo?"ajaxSuccess":"ajaxError",[Wn,si,eo?ea:Zn]),pn.fireWith(di,[Wn,Bo]),Zt&&(Yi.trigger("ajaxComplete",[Wn,si]),--E.active||E.event.trigger("ajaxStop")))}return Wn},getJSON:function(X,de,xe){return E.get(X,de,xe,"json")},getScript:function(X,de){return E.get(X,void 0,de,"script")}}),E.each(["get","post"],function(X,de){E[de]=function(xe,Ee,je,Ve){return O(Ee)&&(Ve=Ve||je,je=Ee,Ee=void 0),E.ajax(E.extend({url:xe,type:de,dataType:Ve,data:Ee,success:je},E.isPlainObject(xe)&&xe))}}),E.ajaxPrefilter(function(X){var de;for(de in X.headers)de.toLowerCase()==="content-type"&&(X.contentType=X.headers[de]||"")}),E._evalUrl=function(X,de,xe){return E.ajax({url:X,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Ee){E.globalEval(Ee,de,xe)}})},E.fn.extend({wrapAll:function(X){var de;return this[0]&&(O(X)&&(X=X.call(this[0])),de=E(X,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&de.insertBefore(this[0]),de.map(function(){for(var xe=this;xe.firstElementChild;)xe=xe.firstElementChild;return xe}).append(this)),this},wrapInner:function(X){return O(X)?this.each(function(de){E(this).wrapInner(X.call(this,de))}):this.each(function(){var de=E(this),xe=de.contents();xe.length?xe.wrapAll(X):de.append(X)})},wrap:function(X){var de=O(X);return this.each(function(xe){E(this).wrapAll(de?X.call(this,xe):X)})},unwrap:function(X){return this.parent(X).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(X){return!E.expr.pseudos.visible(X)},E.expr.pseudos.visible=function(X){return!!(X.offsetWidth||X.offsetHeight||X.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var iu={0:200,1223:204},ma=E.ajaxSettings.xhr();L.cors=!!ma&&"withCredentials"in ma,L.ajax=ma=!!ma,E.ajaxTransport(function(X){var de,xe;if(L.cors||ma&&!X.crossDomain)return{send:function(Ee,je){var Ve,Ze=X.xhr();if(Ze.open(X.type,X.url,X.async,X.username,X.password),X.xhrFields)for(Ve in X.xhrFields)Ze[Ve]=X.xhrFields[Ve];X.mimeType&&Ze.overrideMimeType&&Ze.overrideMimeType(X.mimeType),!X.crossDomain&&!Ee["X-Requested-With"]&&(Ee["X-Requested-With"]="XMLHttpRequest");for(Ve in Ee)Ze.setRequestHeader(Ve,Ee[Ve]);de=function(It){return function(){de&&(de=xe=Ze.onload=Ze.onerror=Ze.onabort=Ze.ontimeout=Ze.onreadystatechange=null,It==="abort"?Ze.abort():It==="error"?typeof Ze.status!="number"?je(0,"error"):je(Ze.status,Ze.statusText):je(iu[Ze.status]||Ze.status,Ze.statusText,(Ze.responseType||"text")!=="text"||typeof Ze.responseText!="string"?{binary:Ze.response}:{text:Ze.responseText},Ze.getAllResponseHeaders()))}},Ze.onload=de(),xe=Ze.onerror=Ze.ontimeout=de("error"),Ze.onabort!==void 0?Ze.onabort=xe:Ze.onreadystatechange=function(){Ze.readyState===4&&t.setTimeout(function(){de&&xe()})},de=de("abort");try{Ze.send(X.hasContent&&X.data||null)}catch(It){if(de)throw It}},abort:function(){de&&de()}}}),E.ajaxPrefilter(function(X){X.crossDomain&&(X.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(X){return E.globalEval(X),X}}}),E.ajaxPrefilter("script",function(X){X.cache===void 0&&(X.cache=!1),X.crossDomain&&(X.type="GET")}),E.ajaxTransport("script",function(X){if(X.crossDomain||X.scriptAttrs){var de,xe;return{send:function(Ee,je){de=E("<script>").attr(X.scriptAttrs||{}).prop({charset:X.scriptCharset,src:X.url}).on("load error",xe=function(Ve){de.remove(),xe=null,Ve&&je(Ve.type==="error"?404:200,Ve.type)}),M.head.appendChild(de[0])},abort:function(){xe&&xe()}}}});var Xc=[],Ed=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var X=Xc.pop()||E.expando+"_"+rl.guid++;return this[X]=!0,X}}),E.ajaxPrefilter("json jsonp",function(X,de,xe){var Ee,je,Ve,Ze=X.jsonp!==!1&&(Ed.test(X.url)?"url":typeof X.data=="string"&&(X.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ed.test(X.data)&&"data");if(Ze||X.dataTypes[0]==="jsonp")return Ee=X.jsonpCallback=O(X.jsonpCallback)?X.jsonpCallback():X.jsonpCallback,Ze?X[Ze]=X[Ze].replace(Ed,"$1"+Ee):X.jsonp!==!1&&(X.url+=(vl.test(X.url)?"&":"?")+X.jsonp+"="+Ee),X.converters["script json"]=function(){return Ve||E.error(Ee+" was not called"),Ve[0]},X.dataTypes[0]="json",je=t[Ee],t[Ee]=function(){Ve=arguments},xe.always(function(){je===void 0?E(t).removeProp(Ee):t[Ee]=je,X[Ee]&&(X.jsonpCallback=de.jsonpCallback,Xc.push(Ee)),Ve&&O(je)&&je(Ve[0]),Ve=je=void 0}),"script"}),L.createHTMLDocument=function(){var X=M.implementation.createHTMLDocument("").body;return X.innerHTML="<form></form><form></form>",X.childNodes.length===2}(),E.parseHTML=function(X,de,xe){if(typeof X!="string")return[];typeof de=="boolean"&&(xe=de,de=!1);var Ee,je,Ve;return de||(L.createHTMLDocument?(de=M.implementation.createHTMLDocument(""),Ee=de.createElement("base"),Ee.href=M.location.href,de.head.appendChild(Ee)):de=M),je=D.exec(X),Ve=!xe&&[],je?[de.createElement(je[1])]:(je=ci([X],de,Ve),Ve&&Ve.length&&E(Ve).remove(),E.merge([],je.childNodes))},E.fn.load=function(X,de,xe){var Ee,je,Ve,Ze=this,It=X.indexOf(" ");return It>-1&&(Ee=Vr(X.slice(It)),X=X.slice(0,It)),O(de)?(xe=de,de=void 0):de&&typeof de=="object"&&(je="POST"),Ze.length>0&&E.ajax({url:X,type:je||"GET",dataType:"html",data:de}).done(function(St){Ve=arguments,Ze.html(Ee?E("<div>").append(E.parseHTML(St)).find(Ee):St)}).always(xe&&function(St,Zt){Ze.each(function(){xe.apply(this,Ve||[St.responseText,Zt,St])})}),this},E.expr.pseudos.animated=function(X){return E.grep(E.timers,function(de){return X===de.elem}).length},E.offset={setOffset:function(X,de,xe){var Ee,je,Ve,Ze,It,St,Zt,pi=E.css(X,"position"),ki=E(X),si={};pi==="static"&&(X.style.position="relative"),It=ki.offset(),Ve=E.css(X,"top"),St=E.css(X,"left"),Zt=(pi==="absolute"||pi==="fixed")&&(Ve+St).indexOf("auto")>-1,Zt?(Ee=ki.position(),Ze=Ee.top,je=Ee.left):(Ze=parseFloat(Ve)||0,je=parseFloat(St)||0),O(de)&&(de=de.call(X,xe,E.extend({},It))),de.top!=null&&(si.top=de.top-It.top+Ze),de.left!=null&&(si.left=de.left-It.left+je),"using"in de?de.using.call(X,si):ki.css(si)}},E.fn.extend({offset:function(X){if(arguments.length)return X===void 0?this:this.each(function(je){E.offset.setOffset(this,X,je)});var de,xe,Ee=this[0];if(Ee)return Ee.getClientRects().length?(de=Ee.getBoundingClientRect(),xe=Ee.ownerDocument.defaultView,{top:de.top+xe.pageYOffset,left:de.left+xe.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var X,de,xe,Ee=this[0],je={top:0,left:0};if(E.css(Ee,"position")==="fixed")de=Ee.getBoundingClientRect();else{for(de=this.offset(),xe=Ee.ownerDocument,X=Ee.offsetParent||xe.documentElement;X&&(X===xe.body||X===xe.documentElement)&&E.css(X,"position")==="static";)X=X.parentNode;X&&X!==Ee&&X.nodeType===1&&(je=E(X).offset(),je.top+=E.css(X,"borderTopWidth",!0),je.left+=E.css(X,"borderLeftWidth",!0))}return{top:de.top-je.top-E.css(Ee,"marginTop",!0),left:de.left-je.left-E.css(Ee,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var X=this.offsetParent;X&&E.css(X,"position")==="static";)X=X.offsetParent;return X||rt})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(X,de){var xe=de==="pageYOffset";E.fn[X]=function(Ee){return re(this,function(je,Ve,Ze){var It;if(G(je)?It=je:je.nodeType===9&&(It=je.defaultView),Ze===void 0)return It?It[de]:je[Ve];It?It.scrollTo(xe?It.pageXOffset:Ze,xe?Ze:It.pageYOffset):je[Ve]=Ze},X,Ee,arguments.length)}}),E.each(["top","left"],function(X,de){E.cssHooks[de]=Gi(L.pixelPosition,function(xe,Ee){if(Ee)return Ee=un(xe,de),Lt.test(Ee)?E(xe).position()[de]+"px":Ee})}),E.each({Height:"height",Width:"width"},function(X,de){E.each({padding:"inner"+X,content:de,"":"outer"+X},function(xe,Ee){E.fn[Ee]=function(je,Ve){var Ze=arguments.length&&(xe||typeof je!="boolean"),It=xe||(je===!0||Ve===!0?"margin":"border");return re(this,function(St,Zt,pi){var ki;return G(St)?Ee.indexOf("outer")===0?St["inner"+X]:St.document.documentElement["client"+X]:St.nodeType===9?(ki=St.documentElement,Math.max(St.body["scroll"+X],ki["scroll"+X],St.body["offset"+X],ki["offset"+X],ki["client"+X])):pi===void 0?E.css(St,Zt,It):E.style(St,Zt,pi,It)},de,Ze?je:void 0,Ze)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(X,de){E.fn[de]=function(xe){return this.on(de,xe)}}),E.fn.extend({bind:function(X,de,xe){return this.on(X,null,de,xe)},unbind:function(X,de){return this.off(X,null,de)},delegate:function(X,de,xe,Ee){return this.on(de,X,xe,Ee)},undelegate:function(X,de,xe){return arguments.length===1?this.off(X,"**"):this.off(de,X||"**",xe)},hover:function(X,de){return this.mouseenter(X).mouseleave(de||X)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(X,de){E.fn[de]=function(xe,Ee){return arguments.length>0?this.on(de,null,xe,Ee):this.trigger(de)}});var ql=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(X,de){var xe,Ee,je;if(typeof de=="string"&&(xe=X[de],de=X,X=xe),!!O(X))return Ee=d.call(arguments,2),je=function(){return X.apply(de||this,Ee.concat(d.call(arguments)))},je.guid=X.guid=X.guid||E.guid++,je},E.holdReady=function(X){X?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=w,E.isFunction=O,E.isWindow=G,E.camelCase=ye,E.type=H,E.now=Date.now,E.isNumeric=function(X){var de=E.type(X);return(de==="number"||de==="string")&&!isNaN(X-parseFloat(X))},E.trim=function(X){return X==null?"":(X+"").replace(ql,"$1")};var Qo=t.jQuery,Hs=t.$;return E.noConflict=function(X){return t.$===E&&(t.$=Hs),X&&t.jQuery===E&&(t.jQuery=Qo),E},typeof n>"u"&&(t.jQuery=t.$=E),E})})(fM);var Q6=fM.exports;const eP=uh(Q6);function mM(e,t){return function(){return e.apply(t,arguments)}}const{toString:gM}=Object.prototype,{getPrototypeOf:$T}=Object,VT=(e=>t=>{const n=gM.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),lp=e=>(e=e.toLowerCase(),t=>VT(t)===e),ub=e=>t=>typeof t===e,{isArray:Fg}=Array,Vy=ub("undefined");function tP(e){return e!==null&&!Vy(e)&&e.constructor!==null&&!Vy(e.constructor)&&$0(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const yM=lp("ArrayBuffer");function iP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&yM(e.buffer),t}const nP=ub("string"),$0=ub("function"),_M=ub("number"),GT=e=>e!==null&&typeof e=="object",rP=e=>e===!0||e===!1,fx=e=>{if(VT(e)!=="object")return!1;const t=$T(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sP=lp("Date"),oP=lp("File"),aP=lp("Blob"),lP=lp("FileList"),cP=e=>GT(e)&&$0(e.pipe),dP=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||gM.call(e)===t||$0(e.toString)&&e.toString()===t)},uP=lp("URLSearchParams"),hP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function a_(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Fg(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const d=n?Object.getOwnPropertyNames(e):Object.keys(e),h=d.length;let s;for(r=0;r<h;r++)s=d[r],t.call(null,e[s],s,e)}}function vM(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const xM=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),bM=e=>!Vy(e)&&e!==xM;function W3(){const{caseless:e}=bM(this)&&this||{},t={},n=(r,o)=>{const d=e&&vM(t,o)||o;fx(t[d])&&fx(r)?t[d]=W3(t[d],r):fx(r)?t[d]=W3({},r):Fg(r)?t[d]=r.slice():t[d]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&a_(arguments[r],n);return t}const pP=(e,t,n,{allOwnKeys:r}={})=>(a_(t,(o,d)=>{n&&$0(o)?e[d]=mM(o,n):e[d]=o},{allOwnKeys:r}),e),fP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),mP=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},gP=(e,t,n,r)=>{let o,d,h;const s={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),d=o.length;d-- >0;)h=o[d],(!r||r(h,e,t))&&!s[h]&&(t[h]=e[h],s[h]=!0);e=n!==!1&&$T(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},yP=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},_P=e=>{if(!e)return null;if(Fg(e))return e;let t=e.length;if(!_M(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},vP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$T(Uint8Array)),xP=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=r.next())&&!o.done;){const d=o.value;t.call(e,d[0],d[1])}},bP=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},wP=lp("HTMLFormElement"),TP=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),tC=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),SP=lp("RegExp"),wM=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};a_(n,(o,d)=>{t(o,d,e)!==!1&&(r[d]=o)}),Object.defineProperties(e,r)},CP=e=>{wM(e,(t,n)=>{if($0(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if($0(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},EP=(e,t)=>{const n={},r=o=>{o.forEach(d=>{n[d]=!0})};return Fg(e)?r(e):r(String(e).split(t)),n},MP=()=>{},kP=(e,t)=>(e=+e,Number.isFinite(e)?e:t),AP=e=>{const t=new Array(10),n=(r,o)=>{if(GT(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const d=Fg(r)?[]:{};return a_(r,(h,s)=>{const b=n(h,o+1);!Vy(b)&&(d[s]=b)}),t[o]=void 0,d}}return r};return n(e,0)},Ni={isArray:Fg,isArrayBuffer:yM,isBuffer:tP,isFormData:dP,isArrayBufferView:iP,isString:nP,isNumber:_M,isBoolean:rP,isObject:GT,isPlainObject:fx,isUndefined:Vy,isDate:sP,isFile:oP,isBlob:aP,isRegExp:SP,isFunction:$0,isStream:cP,isURLSearchParams:uP,isTypedArray:vP,isFileList:lP,forEach:a_,merge:W3,extend:pP,trim:hP,stripBOM:fP,inherits:mP,toFlatObject:gP,kindOf:VT,kindOfTest:lp,endsWith:yP,toArray:_P,forEachEntry:xP,matchAll:bP,isHTMLForm:wP,hasOwnProperty:tC,hasOwnProp:tC,reduceDescriptors:wM,freezeMethods:CP,toObjectSet:EP,toCamelCase:TP,noop:MP,toFiniteNumber:kP,findKey:vM,global:xM,isContextDefined:bM,toJSONObject:AP};function bs(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}Ni.inherits(bs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ni.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const TM=bs.prototype,SM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{SM[e]={value:e}});Object.defineProperties(bs,SM);Object.defineProperty(TM,"isAxiosError",{value:!0});bs.from=(e,t,n,r,o,d)=>{const h=Object.create(TM);return Ni.toFlatObject(e,h,function(b){return b!==Error.prototype},s=>s!=="isAxiosError"),bs.call(h,e.message,t,n,r,o),h.cause=e,h.name=e.name,d&&Object.assign(h,d),h};var PP=typeof self=="object"?self.FormData:window.FormData;const DP=uh(PP);function H3(e){return Ni.isPlainObject(e)||Ni.isArray(e)}function CM(e){return Ni.endsWith(e,"[]")?e.slice(0,-2):e}function iC(e,t,n){return e?e.concat(t).map(function(o,d){return o=CM(o),!n&&d?"["+o+"]":o}).join(n?".":""):t}function IP(e){return Ni.isArray(e)&&!e.some(H3)}const LP=Ni.toFlatObject(Ni,{},null,function(t){return/^is[A-Z]/.test(t)});function OP(e){return e&&Ni.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function hb(e,t,n){if(!Ni.isObject(e))throw new TypeError("target must be an object");t=t||new(DP||FormData),n=Ni.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,G){return!Ni.isUndefined(G[O])});const r=n.metaTokens,o=n.visitor||J,d=n.dots,h=n.indexes,b=(n.Blob||typeof Blob<"u"&&Blob)&&OP(t);if(!Ni.isFunction(o))throw new TypeError("visitor must be a function");function R(L){if(L===null)return"";if(Ni.isDate(L))return L.toISOString();if(!b&&Ni.isBlob(L))throw new bs("Blob is not supported. Use a Buffer instead.");return Ni.isArrayBuffer(L)||Ni.isTypedArray(L)?b&&typeof Blob=="function"?new Blob([L]):Buffer.from(L):L}function J(L,O,G){let M=L;if(L&&!G&&typeof L=="object"){if(Ni.endsWith(O,"{}"))O=r?O:O.slice(0,-2),L=JSON.stringify(L);else if(Ni.isArray(L)&&IP(L)||Ni.isFileList(L)||Ni.endsWith(O,"[]")&&(M=Ni.toArray(L)))return O=CM(O),M.forEach(function(P,H){!(Ni.isUndefined(P)||P===null)&&t.append(h===!0?iC([O],H,d):h===null?O:O+"[]",R(P))}),!1}return H3(L)?!0:(t.append(iC(G,O,d),R(L)),!1)}const I=[],z=Object.assign(LP,{defaultVisitor:J,convertValue:R,isVisitable:H3});function Z(L,O){if(!Ni.isUndefined(L)){if(I.indexOf(L)!==-1)throw Error("Circular reference detected in "+O.join("."));I.push(L),Ni.forEach(L,function(M,S){(!(Ni.isUndefined(M)||M===null)&&o.call(t,M,Ni.isString(S)?S.trim():S,O,z))===!0&&Z(M,O?O.concat(S):[S])}),I.pop()}}if(!Ni.isObject(e))throw new TypeError("data must be an object");return Z(e),t}function nC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function WT(e,t){this._pairs=[],e&&hb(e,this,t)}const EM=WT.prototype;EM.append=function(t,n){this._pairs.push([t,n])};EM.toString=function(t){const n=t?function(r){return t.call(this,r,nC)}:nC;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function RP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function MM(e,t,n){if(!t)return e;const r=n&&n.encode||RP,o=n&&n.serialize;let d;if(o?d=o(t,n):d=Ni.isURLSearchParams(t)?t.toString():new WT(t,n).toString(r),d){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class BP{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ni.forEach(this.handlers,function(r){r!==null&&t(r)})}}const rC=BP,kM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zP=typeof URLSearchParams<"u"?URLSearchParams:WT,NP=FormData,FP=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),jP=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),oh={isBrowser:!0,classes:{URLSearchParams:zP,FormData:NP,Blob},isStandardBrowserEnv:FP,isStandardBrowserWebWorkerEnv:jP,protocols:["http","https","file","blob","url","data"]};function UP(e,t){return hb(e,new oh.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,d){return oh.isNode&&Ni.isBuffer(n)?(this.append(r,n.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},t))}function $P(e){return Ni.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function VP(e){const t={},n=Object.keys(e);let r;const o=n.length;let d;for(r=0;r<o;r++)d=n[r],t[d]=e[d];return t}function AM(e){function t(n,r,o,d){let h=n[d++];const s=Number.isFinite(+h),b=d>=n.length;return h=!h&&Ni.isArray(o)?o.length:h,b?(Ni.hasOwnProp(o,h)?o[h]=[o[h],r]:o[h]=r,!s):((!o[h]||!Ni.isObject(o[h]))&&(o[h]=[]),t(n,r,o[h],d)&&Ni.isArray(o[h])&&(o[h]=VP(o[h])),!s)}if(Ni.isFormData(e)&&Ni.isFunction(e.entries)){const n={};return Ni.forEachEntry(e,(r,o)=>{t($P(r),o,n,0)}),n}return null}const GP={"Content-Type":void 0};function WP(e,t,n){if(Ni.isString(e))try{return(t||JSON.parse)(e),Ni.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const pb={transitional:kM,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,d=Ni.isObject(t);if(d&&Ni.isHTMLForm(t)&&(t=new FormData(t)),Ni.isFormData(t))return o&&o?JSON.stringify(AM(t)):t;if(Ni.isArrayBuffer(t)||Ni.isBuffer(t)||Ni.isStream(t)||Ni.isFile(t)||Ni.isBlob(t))return t;if(Ni.isArrayBufferView(t))return t.buffer;if(Ni.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(d){if(r.indexOf("application/x-www-form-urlencoded")>-1)return UP(t,this.formSerializer).toString();if((s=Ni.isFileList(t))||r.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return hb(s?{"files[]":t}:t,b&&new b,this.formSerializer)}}return d||o?(n.setContentType("application/json",!1),WP(t)):t}],transformResponse:[function(t){const n=this.transitional||pb.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(t&&Ni.isString(t)&&(r&&!this.responseType||o)){const h=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(s){if(h)throw s.name==="SyntaxError"?bs.from(s,bs.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oh.classes.FormData,Blob:oh.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ni.forEach(["delete","get","head"],function(t){pb.headers[t]={}});Ni.forEach(["post","put","patch"],function(t){pb.headers[t]=Ni.merge(GP)});const HT=pb,HP=Ni.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),YP=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(h){o=h.indexOf(":"),n=h.substring(0,o).trim().toLowerCase(),r=h.substring(o+1).trim(),!(!n||t[n]&&HP[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},sC=Symbol("internals");function xy(e){return e&&String(e).trim().toLowerCase()}function mx(e){return e===!1||e==null?e:Ni.isArray(e)?e.map(mx):String(e)}function qP(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}function XP(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function oC(e,t,n,r){if(Ni.isFunction(r))return r.call(this,t,n);if(Ni.isString(t)){if(Ni.isString(r))return t.indexOf(r)!==-1;if(Ni.isRegExp(r))return r.test(t)}}function ZP(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function KP(e,t){const n=Ni.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,d,h){return this[r].call(this,t,o,d,h)},configurable:!0})})}class fb{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function d(s,b,R){const J=xy(b);if(!J)throw new Error("header name must be a non-empty string");const I=Ni.findKey(o,J);(!I||o[I]===void 0||R===!0||R===void 0&&o[I]!==!1)&&(o[I||b]=mx(s))}const h=(s,b)=>Ni.forEach(s,(R,J)=>d(R,J,b));return Ni.isPlainObject(t)||t instanceof this.constructor?h(t,n):Ni.isString(t)&&(t=t.trim())&&!XP(t)?h(YP(t),n):t!=null&&d(n,t,r),this}get(t,n){if(t=xy(t),t){const r=Ni.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return qP(o);if(Ni.isFunction(n))return n.call(this,o,r);if(Ni.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=xy(t),t){const r=Ni.findKey(this,t);return!!(r&&(!n||oC(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function d(h){if(h=xy(h),h){const s=Ni.findKey(r,h);s&&(!n||oC(r,r[s],s,n))&&(delete r[s],o=!0)}}return Ni.isArray(t)?t.forEach(d):d(t),o}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(t){const n=this,r={};return Ni.forEach(this,(o,d)=>{const h=Ni.findKey(r,d);if(h){n[h]=mx(o),delete n[d];return}const s=t?ZP(d):String(d).trim();s!==d&&delete n[d],n[s]=mx(o),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Ni.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&Ni.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[sC]=this[sC]={accessors:{}}).accessors,o=this.prototype;function d(h){const s=xy(h);r[s]||(KP(o,h),r[s]=!0)}return Ni.isArray(t)?t.forEach(d):d(t),this}}fb.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);Ni.freezeMethods(fb.prototype);Ni.freezeMethods(fb);const tp=fb;function e3(e,t){const n=this||HT,r=t||n,o=tp.from(r.headers);let d=r.data;return Ni.forEach(e,function(s){d=s.call(n,d,o.normalize(),t?t.status:void 0)}),o.normalize(),d}function PM(e){return!!(e&&e.__CANCEL__)}function l_(e,t,n){bs.call(this,e??"canceled",bs.ERR_CANCELED,t,n),this.name="CanceledError"}Ni.inherits(l_,bs,{__CANCEL__:!0});const JP=null;function QP(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new bs("Request failed with status code "+n.status,[bs.ERR_BAD_REQUEST,bs.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const eD=oh.isStandardBrowserEnv?function(){return{write:function(n,r,o,d,h,s){const b=[];b.push(n+"="+encodeURIComponent(r)),Ni.isNumber(o)&&b.push("expires="+new Date(o).toGMTString()),Ni.isString(d)&&b.push("path="+d),Ni.isString(h)&&b.push("domain="+h),s===!0&&b.push("secure"),document.cookie=b.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function tD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function iD(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function DM(e,t){return e&&!tD(t)?iD(e,t):t}const nD=oh.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(d){let h=d;return t&&(n.setAttribute("href",h),h=n.href),n.setAttribute("href",h),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(h){const s=Ni.isString(h)?o(h):h;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}();function rD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function sD(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,d=0,h;return t=t!==void 0?t:1e3,function(b){const R=Date.now(),J=r[d];h||(h=R),n[o]=b,r[o]=R;let I=d,z=0;for(;I!==o;)z+=n[I++],I=I%e;if(o=(o+1)%e,o===d&&(d=(d+1)%e),R-h<t)return;const Z=J&&R-J;return Z?Math.round(z*1e3/Z):void 0}}function aC(e,t){let n=0;const r=sD(50,250);return o=>{const d=o.loaded,h=o.lengthComputable?o.total:void 0,s=d-n,b=r(s),R=d<=h;n=d;const J={loaded:d,total:h,progress:h?d/h:void 0,bytes:s,rate:b||void 0,estimated:b&&h&&R?(h-d)/b:void 0,event:o};J[t?"download":"upload"]=!0,e(J)}}const oD=typeof XMLHttpRequest<"u",aD=oD&&function(e){return new Promise(function(n,r){let o=e.data;const d=tp.from(e.headers).normalize(),h=e.responseType;let s;function b(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}Ni.isFormData(o)&&(oh.isStandardBrowserEnv||oh.isStandardBrowserWebWorkerEnv)&&d.setContentType(!1);let R=new XMLHttpRequest;if(e.auth){const Z=e.auth.username||"",L=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.set("Authorization","Basic "+btoa(Z+":"+L))}const J=DM(e.baseURL,e.url);R.open(e.method.toUpperCase(),MM(J,e.params,e.paramsSerializer),!0),R.timeout=e.timeout;function I(){if(!R)return;const Z=tp.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),O={data:!h||h==="text"||h==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:Z,config:e,request:R};QP(function(M){n(M),b()},function(M){r(M),b()},O),R=null}if("onloadend"in R?R.onloadend=I:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(I)},R.onabort=function(){R&&(r(new bs("Request aborted",bs.ECONNABORTED,e,R)),R=null)},R.onerror=function(){r(new bs("Network Error",bs.ERR_NETWORK,e,R)),R=null},R.ontimeout=function(){let L=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const O=e.transitional||kM;e.timeoutErrorMessage&&(L=e.timeoutErrorMessage),r(new bs(L,O.clarifyTimeoutError?bs.ETIMEDOUT:bs.ECONNABORTED,e,R)),R=null},oh.isStandardBrowserEnv){const Z=(e.withCredentials||nD(J))&&e.xsrfCookieName&&eD.read(e.xsrfCookieName);Z&&d.set(e.xsrfHeaderName,Z)}o===void 0&&d.setContentType(null),"setRequestHeader"in R&&Ni.forEach(d.toJSON(),function(L,O){R.setRequestHeader(O,L)}),Ni.isUndefined(e.withCredentials)||(R.withCredentials=!!e.withCredentials),h&&h!=="json"&&(R.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&R.addEventListener("progress",aC(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&R.upload&&R.upload.addEventListener("progress",aC(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=Z=>{R&&(r(!Z||Z.type?new l_(null,e,R):Z),R.abort(),R=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const z=rD(J);if(z&&oh.protocols.indexOf(z)===-1){r(new bs("Unsupported protocol "+z+":",bs.ERR_BAD_REQUEST,e));return}R.send(o||null)})},gx={http:JP,xhr:aD};Ni.forEach(gx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const lD={getAdapter:e=>{e=Ni.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let o=0;o<t&&(n=e[o],!(r=Ni.isString(n)?gx[n.toLowerCase()]:n));o++);if(!r)throw r===!1?new bs(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Ni.hasOwnProp(gx,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!Ni.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:gx};function t3(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new l_(null,e)}function lC(e){return t3(e),e.headers=tp.from(e.headers),e.data=e3.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),lD.getAdapter(e.adapter||HT.adapter)(e).then(function(r){return t3(e),r.data=e3.call(e,e.transformResponse,r),r.headers=tp.from(r.headers),r},function(r){return PM(r)||(t3(e),r&&r.response&&(r.response.data=e3.call(e,e.transformResponse,r.response),r.response.headers=tp.from(r.response.headers))),Promise.reject(r)})}const cC=e=>e instanceof tp?e.toJSON():e;function Eg(e,t){t=t||{};const n={};function r(R,J,I){return Ni.isPlainObject(R)&&Ni.isPlainObject(J)?Ni.merge.call({caseless:I},R,J):Ni.isPlainObject(J)?Ni.merge({},J):Ni.isArray(J)?J.slice():J}function o(R,J,I){if(Ni.isUndefined(J)){if(!Ni.isUndefined(R))return r(void 0,R,I)}else return r(R,J,I)}function d(R,J){if(!Ni.isUndefined(J))return r(void 0,J)}function h(R,J){if(Ni.isUndefined(J)){if(!Ni.isUndefined(R))return r(void 0,R)}else return r(void 0,J)}function s(R,J,I){if(I in t)return r(R,J);if(I in e)return r(void 0,R)}const b={url:d,method:d,data:d,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:s,headers:(R,J)=>o(cC(R),cC(J),!0)};return Ni.forEach(Object.keys(e).concat(Object.keys(t)),function(J){const I=b[J]||o,z=I(e[J],t[J],J);Ni.isUndefined(z)&&I!==s||(n[J]=z)}),n}const IM="1.2.2",YT={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{YT[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const dC={};YT.transitional=function(t,n,r){function o(d,h){return"[Axios v"+IM+"] Transitional option '"+d+"'"+h+(r?". "+r:"")}return(d,h,s)=>{if(t===!1)throw new bs(o(h," has been removed"+(n?" in "+n:"")),bs.ERR_DEPRECATED);return n&&!dC[h]&&(dC[h]=!0,console.warn(o(h," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(d,h,s):!0}};function cD(e,t,n){if(typeof e!="object")throw new bs("options must be an object",bs.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const d=r[o],h=t[d];if(h){const s=e[d],b=s===void 0||h(s,d,e);if(b!==!0)throw new bs("option "+d+" must be "+b,bs.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new bs("Unknown option "+d,bs.ERR_BAD_OPTION)}}const Y3={assertOptions:cD,validators:YT},Gp=Y3.validators;class Dx{constructor(t){this.defaults=t,this.interceptors={request:new rC,response:new rC}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Eg(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:d}=n;r!==void 0&&Y3.assertOptions(r,{silentJSONParsing:Gp.transitional(Gp.boolean),forcedJSONParsing:Gp.transitional(Gp.boolean),clarifyTimeoutError:Gp.transitional(Gp.boolean)},!1),o!==void 0&&Y3.assertOptions(o,{encode:Gp.function,serialize:Gp.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h;h=d&&Ni.merge(d.common,d[n.method]),h&&Ni.forEach(["delete","get","head","post","put","patch","common"],L=>{delete d[L]}),n.headers=tp.concat(h,d);const s=[];let b=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(n)===!1||(b=b&&O.synchronous,s.unshift(O.fulfilled,O.rejected))});const R=[];this.interceptors.response.forEach(function(O){R.push(O.fulfilled,O.rejected)});let J,I=0,z;if(!b){const L=[lC.bind(this),void 0];for(L.unshift.apply(L,s),L.push.apply(L,R),z=L.length,J=Promise.resolve(n);I<z;)J=J.then(L[I++],L[I++]);return J}z=s.length;let Z=n;for(I=0;I<z;){const L=s[I++],O=s[I++];try{Z=L(Z)}catch(G){O.call(this,G);break}}try{J=lC.call(this,Z)}catch(L){return Promise.reject(L)}for(I=0,z=R.length;I<z;)J=J.then(R[I++],R[I++]);return J}getUri(t){t=Eg(this.defaults,t);const n=DM(t.baseURL,t.url);return MM(n,t.params,t.paramsSerializer)}}Ni.forEach(["delete","get","head","options"],function(t){Dx.prototype[t]=function(n,r){return this.request(Eg(r||{},{method:t,url:n,data:(r||{}).data}))}});Ni.forEach(["post","put","patch"],function(t){function n(r){return function(d,h,s){return this.request(Eg(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:d,data:h}))}}Dx.prototype[t]=n(),Dx.prototype[t+"Form"]=n(!0)});const yx=Dx;class qT{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(d){n=d});const r=this;this.promise.then(o=>{if(!r._listeners)return;let d=r._listeners.length;for(;d-- >0;)r._listeners[d](o);r._listeners=null}),this.promise.then=o=>{let d;const h=new Promise(s=>{r.subscribe(s),d=s}).then(o);return h.cancel=function(){r.unsubscribe(d)},h},t(function(d,h,s){r.reason||(r.reason=new l_(d,h,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new qT(function(o){t=o}),cancel:t}}}const dD=qT;function uD(e){return function(n){return e.apply(null,n)}}function hD(e){return Ni.isObject(e)&&e.isAxiosError===!0}const q3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(q3).forEach(([e,t])=>{q3[t]=e});const pD=q3;function LM(e){const t=new yx(e),n=mM(yx.prototype.request,t);return Ni.extend(n,yx.prototype,t,{allOwnKeys:!0}),Ni.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return LM(Eg(e,o))},n}const Fa=LM(HT);Fa.Axios=yx;Fa.CanceledError=l_;Fa.CancelToken=dD;Fa.isCancel=PM;Fa.VERSION=IM;Fa.toFormData=hb;Fa.AxiosError=bs;Fa.Cancel=Fa.CanceledError;Fa.all=function(t){return Promise.all(t)};Fa.spread=uD;Fa.isAxiosError=hD;Fa.mergeConfig=Eg;Fa.AxiosHeaders=tp;Fa.formToJSON=e=>AM(Ni.isHTMLForm(e)?new FormData(e):e);Fa.HttpStatusCode=pD;Fa.default=Fa;const fD=Fa;window._=UT;window.$=eP;window.axios=fD;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function Gc(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const mD="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",gD=Gc(mD);function el(e){if(An(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Br(r)?OM(r):el(r);if(o)for(const d in o)t[d]=o[d]}return t}else{if(Br(e))return e;if(Ys(e))return e}}const yD=/;(?![^(]*\))/g,_D=/:([^]+)/,vD=/\/\*.*?\*\//gs;function OM(e){const t={};return e.replace(vD,"").split(yD).forEach(n=>{if(n){const r=n.split(_D);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ar(e){let t="";if(Br(e))t=e;else if(An(e))for(let n=0;n<e.length;n++){const r=ar(e[n]);r&&(t+=r+" ")}else if(Ys(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Ta(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Br(t)&&(e.class=ar(t)),n&&(e.style=el(n)),e}const xD="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",bD="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",wD="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",TD=Gc(xD),SD=Gc(bD),CD=Gc(wD),ED="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",MD=Gc(ED);function RM(e){return!!e||e===""}function kD(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=df(e[r],t[r]);return n}function df(e,t){if(e===t)return!0;let n=uC(e),r=uC(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=uf(e),r=uf(t),n||r)return e===t;if(n=An(e),r=An(t),n||r)return n&&r?kD(e,t):!1;if(n=Ys(e),r=Ys(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,d=Object.keys(t).length;if(o!==d)return!1;for(const h in e){const s=e.hasOwnProperty(h),b=t.hasOwnProperty(h);if(s&&!b||!s&&b||!df(e[h],t[h]))return!1}}return String(e)===String(t)}function mb(e,t){return e.findIndex(n=>df(n,t))}const Qi=e=>Br(e)?e:e==null?"":An(e)||Ys(e)&&(e.toString===zM||!wr(e.toString))?JSON.stringify(e,BM,2):String(e),BM=(e,t)=>t&&t.__v_isRef?BM(e,t.value):gg(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:Z0(t)?{[`Set(${t.size})`]:[...t.values()]}:Ys(t)&&!An(t)&&!NM(t)?String(t):t,Gs={},mg=[],gc=()=>{},_x=()=>!1,AD=/^on[^a-z]/,X0=e=>AD.test(e),XT=e=>e.startsWith("onUpdate:"),Ds=Object.assign,ZT=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},PD=Object.prototype.hasOwnProperty,xs=(e,t)=>PD.call(e,t),An=Array.isArray,gg=e=>c_(e)==="[object Map]",Z0=e=>c_(e)==="[object Set]",uC=e=>c_(e)==="[object Date]",wr=e=>typeof e=="function",Br=e=>typeof e=="string",uf=e=>typeof e=="symbol",Ys=e=>e!==null&&typeof e=="object",KT=e=>Ys(e)&&wr(e.then)&&wr(e.catch),zM=Object.prototype.toString,c_=e=>zM.call(e),DD=e=>c_(e).slice(8,-1),NM=e=>c_(e)==="[object Object]",JT=e=>Br(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,L0=Gc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ID=Gc("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),gb=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},LD=/-(\w)/g,tl=gb(e=>e.replace(LD,(t,n)=>n?n.toUpperCase():"")),OD=/\B([A-Z])/g,md=gb(e=>e.replace(OD,"-$1").toLowerCase()),bf=gb(e=>e.charAt(0).toUpperCase()+e.slice(1)),O0=gb(e=>e?`on${bf(e)}`:""),Mg=(e,t)=>!Object.is(e,t),yg=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ix=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},rp=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let hC;const RD=()=>hC||(hC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let dd;class yb{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=dd,!t&&dd&&(this.index=(dd.scopes||(dd.scopes=[])).push(this)-1)}run(t){if(this.active){const n=dd;try{return dd=this,t()}finally{dd=n}}}on(){dd=this}off(){dd=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function FM(e){return new yb(e)}function jM(e,t=dd){t&&t.active&&t.effects.push(e)}function QT(){return dd}function eS(e){dd&&dd.cleanups.push(e)}const tS=e=>{const t=new Set(e);return t.w=0,t.n=0,t},UM=e=>(e.w&hf)>0,$M=e=>(e.n&hf)>0,BD=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=hf},zD=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];UM(o)&&!$M(o)?o.delete(e):t[n++]=o,o.w&=~hf,o.n&=~hf}t.length=n}},X3=new WeakMap;let Dy=0,hf=1;const Z3=30;let _u;const R0=Symbol(""),K3=Symbol("");class jg{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,jM(this,r)}run(){if(!this.active)return this.fn();let t=_u,n=rf;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=_u,_u=this,rf=!0,hf=1<<++Dy,Dy<=Z3?BD(this):pC(this),this.fn()}finally{Dy<=Z3&&zD(this),hf=1<<--Dy,_u=this.parent,rf=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){_u===this?this.deferStop=!0:this.active&&(pC(this),this.onStop&&this.onStop(),this.active=!1)}}function pC(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function VM(e,t){e.effect&&(e=e.effect.fn);const n=new jg(e);t&&(Ds(n,t),t.scope&&jM(n,t.scope)),(!t||!t.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function GM(e){e.effect.stop()}let rf=!0;const WM=[];function Ug(){WM.push(rf),rf=!1}function $g(){const e=WM.pop();rf=e===void 0?!0:e}function yd(e,t,n){if(rf&&_u){let r=X3.get(e);r||X3.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=tS()),HM(o)}}function HM(e,t){let n=!1;Dy<=Z3?$M(e)||(e.n|=hf,n=!UM(e)):n=!e.has(_u),n&&(e.add(_u),_u.deps.push(e))}function sp(e,t,n,r,o,d){const h=X3.get(e);if(!h)return;let s=[];if(t==="clear")s=[...h.values()];else if(n==="length"&&An(e)){const b=rp(r);h.forEach((R,J)=>{(J==="length"||J>=b)&&s.push(R)})}else switch(n!==void 0&&s.push(h.get(n)),t){case"add":An(e)?JT(n)&&s.push(h.get("length")):(s.push(h.get(R0)),gg(e)&&s.push(h.get(K3)));break;case"delete":An(e)||(s.push(h.get(R0)),gg(e)&&s.push(h.get(K3)));break;case"set":gg(e)&&s.push(h.get(R0));break}if(s.length===1)s[0]&&J3(s[0]);else{const b=[];for(const R of s)R&&b.push(...R);J3(tS(b))}}function J3(e,t){const n=An(e)?e:[...e];for(const r of n)r.computed&&fC(r);for(const r of n)r.computed||fC(r)}function fC(e,t){(e!==_u||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const ND=Gc("__proto__,__v_isRef,__isVue"),YM=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(uf)),FD=_b(),jD=_b(!1,!0),UD=_b(!0),$D=_b(!0,!0),mC=VD();function VD(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ds(this);for(let d=0,h=this.length;d<h;d++)yd(r,"get",d+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(ds)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ug();const r=ds(this)[t].apply(this,n);return $g(),r}}),e}function _b(e=!1,t=!1){return function(r,o,d){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&d===(e?t?ek:QM:t?JM:KM).get(r))return r;const h=An(r);if(!e&&h&&xs(mC,o))return Reflect.get(mC,o,d);const s=Reflect.get(r,o,d);return(uf(o)?YM.has(o):ND(o))||(e||yd(r,"get",o),t)?s:ca(s)?h&&JT(o)?s:s.value:Ys(s)?e?bb(s):Eu(s):s}}const GD=qM(),WD=qM(!0);function qM(e=!1){return function(n,r,o,d){let h=n[r];if(pf(h)&&ca(h)&&!ca(o))return!1;if(!e&&(!kg(o)&&!pf(o)&&(h=ds(h),o=ds(o)),!An(n)&&ca(h)&&!ca(o)))return h.value=o,!0;const s=An(n)&&JT(r)?Number(r)<n.length:xs(n,r),b=Reflect.set(n,r,o,d);return n===ds(d)&&(s?Mg(o,h)&&sp(n,"set",r,o):sp(n,"add",r,o)),b}}function HD(e,t){const n=xs(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&sp(e,"delete",t,void 0),r}function YD(e,t){const n=Reflect.has(e,t);return(!uf(t)||!YM.has(t))&&yd(e,"has",t),n}function qD(e){return yd(e,"iterate",An(e)?"length":R0),Reflect.ownKeys(e)}const XM={get:FD,set:GD,deleteProperty:HD,has:YD,ownKeys:qD},ZM={get:UD,set(e,t){return!0},deleteProperty(e,t){return!0}},XD=Ds({},XM,{get:jD,set:WD}),ZD=Ds({},ZM,{get:$D}),iS=e=>e,vb=e=>Reflect.getPrototypeOf(e);function Wv(e,t,n=!1,r=!1){e=e.__v_raw;const o=ds(e),d=ds(t);n||(t!==d&&yd(o,"get",t),yd(o,"get",d));const{has:h}=vb(o),s=r?iS:n?rS:Gy;if(h.call(o,t))return s(e.get(t));if(h.call(o,d))return s(e.get(d));e!==o&&e.get(t)}function Hv(e,t=!1){const n=this.__v_raw,r=ds(n),o=ds(e);return t||(e!==o&&yd(r,"has",e),yd(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Yv(e,t=!1){return e=e.__v_raw,!t&&yd(ds(e),"iterate",R0),Reflect.get(e,"size",e)}function gC(e){e=ds(e);const t=ds(this);return vb(t).has.call(t,e)||(t.add(e),sp(t,"add",e,e)),this}function yC(e,t){t=ds(t);const n=ds(this),{has:r,get:o}=vb(n);let d=r.call(n,e);d||(e=ds(e),d=r.call(n,e));const h=o.call(n,e);return n.set(e,t),d?Mg(t,h)&&sp(n,"set",e,t):sp(n,"add",e,t),this}function _C(e){const t=ds(this),{has:n,get:r}=vb(t);let o=n.call(t,e);o||(e=ds(e),o=n.call(t,e)),r&&r.call(t,e);const d=t.delete(e);return o&&sp(t,"delete",e,void 0),d}function vC(){const e=ds(this),t=e.size!==0,n=e.clear();return t&&sp(e,"clear",void 0,void 0),n}function qv(e,t){return function(r,o){const d=this,h=d.__v_raw,s=ds(h),b=t?iS:e?rS:Gy;return!e&&yd(s,"iterate",R0),h.forEach((R,J)=>r.call(o,b(R),b(J),d))}}function Xv(e,t,n){return function(...r){const o=this.__v_raw,d=ds(o),h=gg(d),s=e==="entries"||e===Symbol.iterator&&h,b=e==="keys"&&h,R=o[e](...r),J=n?iS:t?rS:Gy;return!t&&yd(d,"iterate",b?K3:R0),{next(){const{value:I,done:z}=R.next();return z?{value:I,done:z}:{value:s?[J(I[0]),J(I[1])]:J(I),done:z}},[Symbol.iterator](){return this}}}}function Wp(e){return function(...t){return e==="delete"?!1:this}}function KD(){const e={get(d){return Wv(this,d)},get size(){return Yv(this)},has:Hv,add:gC,set:yC,delete:_C,clear:vC,forEach:qv(!1,!1)},t={get(d){return Wv(this,d,!1,!0)},get size(){return Yv(this)},has:Hv,add:gC,set:yC,delete:_C,clear:vC,forEach:qv(!1,!0)},n={get(d){return Wv(this,d,!0)},get size(){return Yv(this,!0)},has(d){return Hv.call(this,d,!0)},add:Wp("add"),set:Wp("set"),delete:Wp("delete"),clear:Wp("clear"),forEach:qv(!0,!1)},r={get(d){return Wv(this,d,!0,!0)},get size(){return Yv(this,!0)},has(d){return Hv.call(this,d,!0)},add:Wp("add"),set:Wp("set"),delete:Wp("delete"),clear:Wp("clear"),forEach:qv(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{e[d]=Xv(d,!1,!1),n[d]=Xv(d,!0,!1),t[d]=Xv(d,!1,!0),r[d]=Xv(d,!0,!0)}),[e,n,t,r]}const[JD,QD,eI,tI]=KD();function xb(e,t){const n=t?e?tI:eI:e?QD:JD;return(r,o,d)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(xs(n,o)&&o in r?n:r,o,d)}const iI={get:xb(!1,!1)},nI={get:xb(!1,!0)},rI={get:xb(!0,!1)},sI={get:xb(!0,!0)},KM=new WeakMap,JM=new WeakMap,QM=new WeakMap,ek=new WeakMap;function oI(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aI(e){return e.__v_skip||!Object.isExtensible(e)?0:oI(DD(e))}function Eu(e){return pf(e)?e:wb(e,!1,XM,iI,KM)}function nS(e){return wb(e,!1,XD,nI,JM)}function bb(e){return wb(e,!0,ZM,rI,QM)}function tk(e){return wb(e,!0,ZD,sI,ek)}function wb(e,t,n,r,o){if(!Ys(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const d=o.get(e);if(d)return d;const h=aI(e);if(h===0)return e;const s=new Proxy(e,h===2?r:n);return o.set(e,s),s}function sf(e){return pf(e)?sf(e.__v_raw):!!(e&&e.__v_isReactive)}function pf(e){return!!(e&&e.__v_isReadonly)}function kg(e){return!!(e&&e.__v_isShallow)}function Tb(e){return sf(e)||pf(e)}function ds(e){const t=e&&e.__v_raw;return t?ds(t):e}function Sb(e){return Ix(e,"__v_skip",!0),e}const Gy=e=>Ys(e)?Eu(e):e,rS=e=>Ys(e)?bb(e):e;function sS(e){rf&&_u&&(e=ds(e),HM(e.dep||(e.dep=tS())))}function Cb(e,t){e=ds(e),e.dep&&J3(e.dep)}function ca(e){return!!(e&&e.__v_isRef===!0)}function sn(e){return nk(e,!1)}function ik(e){return nk(e,!0)}function nk(e,t){return ca(e)?e:new lI(e,t)}class lI{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ds(t),this._value=n?t:Gy(t)}get value(){return sS(this),this._value}set value(t){const n=this.__v_isShallow||kg(t)||pf(t);t=n?t:ds(t),Mg(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Gy(t),Cb(this))}}function rk(e){Cb(e)}function Ii(e){return ca(e)?e.value:e}const cI={get:(e,t,n)=>Ii(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return ca(o)&&!ca(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function Eb(e){return sf(e)?e:new Proxy(e,cI)}class dI{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>sS(this),()=>Cb(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function sk(e){return new dI(e)}function ok(e){const t=An(e)?new Array(e.length):{};for(const n in e)t[n]=ff(e,n);return t}class uI{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function ff(e,t,n){const r=e[t];return ca(r)?r:new uI(e,t,n)}var ak;class hI{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[ak]=!1,this._dirty=!0,this.effect=new jg(t,()=>{this._dirty||(this._dirty=!0,Cb(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=ds(this);return sS(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}ak="__v_isReadonly";function pI(e,t,n=!1){let r,o;const d=wr(e);return d?(r=e,o=gc):(r=e.get,o=e.set),new hI(r,o,d||!o,n)}function lk(e,...t){}function ch(e,t,n,r){let o;try{o=r?e(...r):e()}catch(d){wf(d,t,n)}return o}function Vc(e,t,n,r){if(wr(e)){const d=ch(e,t,n,r);return d&&KT(d)&&d.catch(h=>{wf(h,t,n)}),d}const o=[];for(let d=0;d<e.length;d++)o.push(Vc(e[d],t,n,r));return o}function wf(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let d=t.parent;const h=t.proxy,s=n;for(;d;){const R=d.ec;if(R){for(let J=0;J<R.length;J++)if(R[J](e,h,s)===!1)return}d=d.parent}const b=t.appContext.config.errorHandler;if(b){ch(b,null,10,[e,h,s]);return}}fI(e,n,o,r)}function fI(e,t,n,r=!0){console.error(e)}let Wy=!1,Q3=!1;const Rl=[];let th=0;const _g=[];let Hh=null,C0=0;const ck=Promise.resolve();let oS=null;function yc(e){const t=oS||ck;return e?t.then(this?e.bind(this):e):t}function mI(e){let t=th+1,n=Rl.length;for(;t<n;){const r=t+n>>>1;Hy(Rl[r])<e?t=r+1:n=r}return t}function Mb(e){(!Rl.length||!Rl.includes(e,Wy&&e.allowRecurse?th+1:th))&&(e.id==null?Rl.push(e):Rl.splice(mI(e.id),0,e),dk())}function dk(){!Wy&&!Q3&&(Q3=!0,oS=ck.then(uk))}function gI(e){const t=Rl.indexOf(e);t>th&&Rl.splice(t,1)}function kb(e){An(e)?_g.push(...e):(!Hh||!Hh.includes(e,e.allowRecurse?C0+1:C0))&&_g.push(e),dk()}function xC(e,t=Wy?th+1:0){for(;t<Rl.length;t++){const n=Rl[t];n&&n.pre&&(Rl.splice(t,1),t--,n())}}function Lx(e){if(_g.length){const t=[...new Set(_g)];if(_g.length=0,Hh){Hh.push(...t);return}for(Hh=t,Hh.sort((n,r)=>Hy(n)-Hy(r)),C0=0;C0<Hh.length;C0++)Hh[C0]();Hh=null,C0=0}}const Hy=e=>e.id==null?1/0:e.id,yI=(e,t)=>{const n=Hy(e)-Hy(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function uk(e){Q3=!1,Wy=!0,Rl.sort(yI);const t=gc;try{for(th=0;th<Rl.length;th++){const n=Rl[th];n&&n.active!==!1&&ch(n,null,14)}}finally{th=0,Rl.length=0,Lx(),Wy=!1,oS=null,(Rl.length||_g.length)&&uk()}}let E0,Zv=[];function aS(e,t){var n,r;E0=e,E0?(E0.enabled=!0,Zv.forEach(({event:o,args:d})=>E0.emit(o,...d)),Zv=[]):typeof window<"u"&&window.HTMLElement&&!(!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(d=>{aS(d,t)}),setTimeout(()=>{E0||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Zv=[])},3e3)):Zv=[]}function _I(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Gs;let o=n;const d=t.startsWith("update:"),h=d&&t.slice(7);if(h&&h in r){const J=`${h==="modelValue"?"model":h}Modifiers`,{number:I,trim:z}=r[J]||Gs;z&&(o=n.map(Z=>Br(Z)?Z.trim():Z)),I&&(o=n.map(rp))}let s,b=r[s=O0(t)]||r[s=O0(tl(t))];!b&&d&&(b=r[s=O0(md(t))]),b&&Vc(b,e,6,o);const R=r[s+"Once"];if(R){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Vc(R,e,6,o)}}function hk(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const d=e.emits;let h={},s=!1;if(!wr(e)){const b=R=>{const J=hk(R,t,!0);J&&(s=!0,Ds(h,J))};!n&&t.mixins.length&&t.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}return!d&&!s?(Ys(e)&&r.set(e,null),null):(An(d)?d.forEach(b=>h[b]=null):Ds(h,d),Ys(e)&&r.set(e,h),h)}function Ab(e,t){return!e||!X0(t)?!1:(t=t.slice(2).replace(/Once$/,""),xs(e,t[0].toLowerCase()+t.slice(1))||xs(e,md(t))||xs(e,t))}let ml=null,Pb=null;function Yy(e){const t=ml;return ml=e,Pb=e&&e.type.__scopeId||null,t}function K0(e){Pb=e}function J0(){Pb=null}const pk=e=>Yn;function Yn(e,t=ml,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&Bx(-1);const d=Yy(t);let h;try{h=e(...o)}finally{Yy(d),r._d&&Bx(1)}return h};return r._n=!0,r._c=!0,r._d=!0,r}function vx(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:d,propsOptions:[h],slots:s,attrs:b,emit:R,render:J,renderCache:I,data:z,setupState:Z,ctx:L,inheritAttrs:O}=e;let G,M;const S=Yy(e);try{if(n.shapeFlag&4){const H=o||r;G=pd(J.call(H,H,I,d,Z,z,L)),M=b}else{const H=t;G=pd(H.length>1?H(d,{attrs:b,slots:s,emit:R}):H(d,null)),M=t.props?b:xI(b)}}catch(H){Ry.length=0,wf(H,e,1),G=cn(gl)}let P=G;if(M&&O!==!1){const H=Object.keys(M),{shapeFlag:U}=P;H.length&&U&7&&(h&&H.some(XT)&&(M=bI(M,h)),P=wu(P,M))}return n.dirs&&(P=wu(P),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),G=P,Yy(S),G}function vI(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(op(r)){if(r.type!==gl||r.children==="v-if"){if(t)return;t=r}}else return}return t}const xI=e=>{let t;for(const n in e)(n==="class"||n==="style"||X0(n))&&((t||(t={}))[n]=e[n]);return t},bI=(e,t)=>{const n={};for(const r in e)(!XT(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function wI(e,t,n){const{props:r,children:o,component:d}=e,{props:h,children:s,patchFlag:b}=t,R=d.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&b>=0){if(b&1024)return!0;if(b&16)return r?bC(r,h,R):!!h;if(b&8){const J=t.dynamicProps;for(let I=0;I<J.length;I++){const z=J[I];if(h[z]!==r[z]&&!Ab(R,z))return!0}}}else return(o||s)&&(!s||!s.$stable)?!0:r===h?!1:r?h?bC(r,h,R):!0:!!h;return!1}function bC(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const d=r[o];if(t[d]!==e[d]&&!Ab(n,d))return!0}return!1}function lS({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const fk=e=>e.__isSuspense,TI={name:"Suspense",__isSuspense:!0,process(e,t,n,r,o,d,h,s,b,R){e==null?SI(t,n,r,o,d,h,s,b,R):CI(e,t,n,r,o,h,s,b,R)},hydrate:EI,create:cS,normalize:MI},mk=TI;function qy(e,t){const n=e.props&&e.props[t];wr(n)&&n()}function SI(e,t,n,r,o,d,h,s,b){const{p:R,o:{createElement:J}}=b,I=J("div"),z=e.suspense=cS(e,o,r,t,I,n,d,h,s,b);R(null,z.pendingBranch=e.ssContent,I,null,r,z,d,h),z.deps>0?(qy(e,"onPending"),qy(e,"onFallback"),R(null,e.ssFallback,t,n,r,null,d,h),vg(z,e.ssFallback)):z.resolve()}function CI(e,t,n,r,o,d,h,s,{p:b,um:R,o:{createElement:J}}){const I=t.suspense=e.suspense;I.vnode=t,t.el=e.el;const z=t.ssContent,Z=t.ssFallback,{activeBranch:L,pendingBranch:O,isInFallback:G,isHydrating:M}=I;if(O)I.pendingBranch=z,ih(z,O)?(b(O,z,I.hiddenContainer,null,o,I,d,h,s),I.deps<=0?I.resolve():G&&(b(L,Z,n,r,o,null,d,h,s),vg(I,Z))):(I.pendingId++,M?(I.isHydrating=!1,I.activeBranch=O):R(O,o,I),I.deps=0,I.effects.length=0,I.hiddenContainer=J("div"),G?(b(null,z,I.hiddenContainer,null,o,I,d,h,s),I.deps<=0?I.resolve():(b(L,Z,n,r,o,null,d,h,s),vg(I,Z))):L&&ih(z,L)?(b(L,z,n,r,o,I,d,h,s),I.resolve(!0)):(b(null,z,I.hiddenContainer,null,o,I,d,h,s),I.deps<=0&&I.resolve()));else if(L&&ih(z,L))b(L,z,n,r,o,I,d,h,s),vg(I,z);else if(qy(t,"onPending"),I.pendingBranch=z,I.pendingId++,b(null,z,I.hiddenContainer,null,o,I,d,h,s),I.deps<=0)I.resolve();else{const{timeout:S,pendingId:P}=I;S>0?setTimeout(()=>{I.pendingId===P&&I.fallback(Z)},S):S===0&&I.fallback(Z)}}function cS(e,t,n,r,o,d,h,s,b,R,J=!1){const{p:I,m:z,um:Z,n:L,o:{parentNode:O,remove:G}}=R,M=rp(e.props&&e.props.timeout),S={vnode:e,parent:t,parentComponent:n,isSVG:h,container:r,hiddenContainer:o,anchor:d,deps:0,pendingId:0,timeout:typeof M=="number"?M:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:J,isUnmounted:!1,effects:[],resolve(P=!1){const{vnode:H,activeBranch:U,pendingBranch:E,pendingId:ie,effects:te,parentComponent:$,container:V}=S;if(S.isHydrating)S.isHydrating=!1;else if(!P){const D=U&&E.transition&&E.transition.mode==="out-in";D&&(U.transition.afterLeave=()=>{ie===S.pendingId&&z(E,V,m,0)});let{anchor:m}=S;U&&(m=L(U),Z(U,$,S,!0)),D||z(E,V,m,0)}vg(S,E),S.pendingBranch=null,S.isInFallback=!1;let j=S.parent,w=!1;for(;j;){if(j.pendingBranch){j.effects.push(...te),w=!0;break}j=j.parent}w||kb(te),S.effects=[],qy(H,"onResolve")},fallback(P){if(!S.pendingBranch)return;const{vnode:H,activeBranch:U,parentComponent:E,container:ie,isSVG:te}=S;qy(H,"onFallback");const $=L(U),V=()=>{S.isInFallback&&(I(null,P,ie,$,E,null,te,s,b),vg(S,P))},j=P.transition&&P.transition.mode==="out-in";j&&(U.transition.afterLeave=V),S.isInFallback=!0,Z(U,E,null,!0),j||V()},move(P,H,U){S.activeBranch&&z(S.activeBranch,P,H,U),S.container=P},next(){return S.activeBranch&&L(S.activeBranch)},registerDep(P,H){const U=!!S.pendingBranch;U&&S.deps++;const E=P.vnode.el;P.asyncDep.catch(ie=>{wf(ie,P,0)}).then(ie=>{if(P.isUnmounted||S.isUnmounted||S.pendingId!==P.suspenseId)return;P.asyncResolved=!0;const{vnode:te}=P;oT(P,ie,!1),E&&(te.el=E);const $=!E&&P.subTree.el;H(P,te,O(E||P.subTree.el),E?null:L(P.subTree),S,h,b),$&&G($),lS(P,te.el),U&&--S.deps===0&&S.resolve()})},unmount(P,H){S.isUnmounted=!0,S.activeBranch&&Z(S.activeBranch,n,P,H),S.pendingBranch&&Z(S.pendingBranch,n,P,H)}};return S}function EI(e,t,n,r,o,d,h,s,b){const R=t.suspense=cS(t,r,n,e.parentNode,document.createElement("div"),null,o,d,h,s,!0),J=b(e,R.pendingBranch=t.ssContent,n,R,d,h);return R.deps===0&&R.resolve(),J}function MI(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=wC(r?n.default:n),e.ssFallback=r?wC(n.fallback):cn(gl)}function wC(e){let t;if(wr(e)){const n=G0&&e._c;n&&(e._d=!1,wt()),e=e(),n&&(e._d=!0,t=Uc,Bk())}return An(e)&&(e=vI(e)),e=pd(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function gk(e,t){t&&t.pendingBranch?An(e)?t.effects.push(...e):t.effects.push(e):kb(e)}function vg(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,o=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=o,lS(r,o))}function Vg(e,t){if(Ba){let n=Ba.provides;const r=Ba.parent&&Ba.parent.provides;r===n&&(n=Ba.provides=Object.create(r)),n[e]=t}}function B0(e,t,n=!1){const r=Ba||ml;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&wr(t)?t.call(r.proxy):t}}function yk(e,t){return d_(e,null,t)}function dS(e,t){return d_(e,null,{flush:"post"})}function _k(e,t){return d_(e,null,{flush:"sync"})}const Kv={};function ha(e,t,n){return d_(e,t,n)}function d_(e,t,{immediate:n,deep:r,flush:o,onTrack:d,onTrigger:h}=Gs){const s=Ba;let b,R=!1,J=!1;if(ca(e)?(b=()=>e.value,R=kg(e)):sf(e)?(b=()=>e,r=!0):An(e)?(J=!0,R=e.some(P=>sf(P)||kg(P)),b=()=>e.map(P=>{if(ca(P))return P.value;if(sf(P))return k0(P);if(wr(P))return ch(P,s,2)})):wr(e)?t?b=()=>ch(e,s,2):b=()=>{if(!(s&&s.isUnmounted))return I&&I(),Vc(e,s,3,[z])}:b=gc,t&&r){const P=b;b=()=>k0(P())}let I,z=P=>{I=M.onStop=()=>{ch(P,s,4)}},Z;if(Ag)if(z=gc,t?n&&Vc(t,s,3,[b(),J?[]:void 0,z]):b(),o==="sync"){const P=PS();Z=P.__watcherHandles||(P.__watcherHandles=[])}else return gc;let L=J?new Array(e.length).fill(Kv):Kv;const O=()=>{if(M.active)if(t){const P=M.run();(r||R||(J?P.some((H,U)=>Mg(H,L[U])):Mg(P,L)))&&(I&&I(),Vc(t,s,3,[P,L===Kv?void 0:J&&L[0]===Kv?[]:L,z]),L=P)}else M.run()};O.allowRecurse=!!t;let G;o==="sync"?G=O:o==="post"?G=()=>fl(O,s&&s.suspense):(O.pre=!0,s&&(O.id=s.uid),G=()=>Mb(O));const M=new jg(b,G);t?n?O():L=M.run():o==="post"?fl(M.run.bind(M),s&&s.suspense):M.run();const S=()=>{M.stop(),s&&s.scope&&ZT(s.scope.effects,M)};return Z&&Z.push(S),S}function kI(e,t,n){const r=this.proxy,o=Br(e)?e.includes(".")?vk(r,e):()=>r[e]:e.bind(r,r);let d;wr(t)?d=t:(d=t.handler,n=t);const h=Ba;yf(this);const s=d_(o,d.bind(r),n);return h?yf(h):af(),s}function vk(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function k0(e,t){if(!Ys(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ca(e))k0(e.value,t);else if(An(e))for(let n=0;n<e.length;n++)k0(e[n],t);else if(Z0(e)||gg(e))e.forEach(n=>{k0(n,t)});else if(NM(e))for(const n in e)k0(e[n],t);return e}function Db(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ko(()=>{e.isMounted=!0}),em(()=>{e.isUnmounting=!0}),e}const Gd=[Function,Array],AI={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Gd,onEnter:Gd,onAfterEnter:Gd,onEnterCancelled:Gd,onBeforeLeave:Gd,onLeave:Gd,onAfterLeave:Gd,onLeaveCancelled:Gd,onBeforeAppear:Gd,onAppear:Gd,onAfterAppear:Gd,onAppearCancelled:Gd},setup(e,{slots:t}){const n=dp(),r=Db();let o;return()=>{const d=t.default&&u_(t.default(),!0);if(!d||!d.length)return;let h=d[0];if(d.length>1){for(const O of d)if(O.type!==gl){h=O;break}}const s=ds(e),{mode:b}=s;if(r.isLeaving)return i3(h);const R=TC(h);if(!R)return i3(h);const J=V0(R,s,r,n);mf(R,J);const I=n.subTree,z=I&&TC(I);let Z=!1;const{getTransitionKey:L}=R.type;if(L){const O=L();o===void 0?o=O:O!==o&&(o=O,Z=!0)}if(z&&z.type!==gl&&(!ih(R,z)||Z)){const O=V0(z,s,r,n);if(mf(z,O),b==="out-in")return r.isLeaving=!0,O.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},i3(h);b==="in-out"&&R.type!==gl&&(O.delayLeave=(G,M,S)=>{const P=xk(r,z);P[String(z.key)]=z,G._leaveCb=()=>{M(),G._leaveCb=void 0,delete J.delayedLeave},J.delayedLeave=S})}return h}}},Ib=AI;function xk(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function V0(e,t,n,r){const{appear:o,mode:d,persisted:h=!1,onBeforeEnter:s,onEnter:b,onAfterEnter:R,onEnterCancelled:J,onBeforeLeave:I,onLeave:z,onAfterLeave:Z,onLeaveCancelled:L,onBeforeAppear:O,onAppear:G,onAfterAppear:M,onAppearCancelled:S}=t,P=String(e.key),H=xk(n,e),U=(te,$)=>{te&&Vc(te,r,9,$)},E=(te,$)=>{const V=$[1];U(te,$),An(te)?te.every(j=>j.length<=1)&&V():te.length<=1&&V()},ie={mode:d,persisted:h,beforeEnter(te){let $=s;if(!n.isMounted)if(o)$=O||s;else return;te._leaveCb&&te._leaveCb(!0);const V=H[P];V&&ih(e,V)&&V.el._leaveCb&&V.el._leaveCb(),U($,[te])},enter(te){let $=b,V=R,j=J;if(!n.isMounted)if(o)$=G||b,V=M||R,j=S||J;else return;let w=!1;const D=te._enterCb=m=>{w||(w=!0,m?U(j,[te]):U(V,[te]),ie.delayedLeave&&ie.delayedLeave(),te._enterCb=void 0)};$?E($,[te,D]):D()},leave(te,$){const V=String(e.key);if(te._enterCb&&te._enterCb(!0),n.isUnmounting)return $();U(I,[te]);let j=!1;const w=te._leaveCb=D=>{j||(j=!0,$(),D?U(L,[te]):U(Z,[te]),te._leaveCb=void 0,H[V]===e&&delete H[V])};H[V]=e,z?E(z,[te,w]):w()},clone(te){return V0(te,t,n,r)}};return ie}function i3(e){if(h_(e))return e=wu(e),e.children=null,e}function TC(e){return h_(e)?e.children?e.children[0]:void 0:e}function mf(e,t){e.shapeFlag&6&&e.component?mf(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function u_(e,t=!1,n){let r=[],o=0;for(let d=0;d<e.length;d++){let h=e[d];const s=n==null?h.key:String(n)+String(h.key!=null?h.key:d);h.type===ln?(h.patchFlag&128&&o++,r=r.concat(u_(h.children,t,s))):(t||h.type!==gl)&&r.push(s!=null?wu(h,{key:s}):h)}if(o>1)for(let d=0;d<r.length;d++)r[d].patchFlag=-2;return r}function vc(e){return wr(e)?{setup:e,name:e.name}:e}const z0=e=>!!e.type.__asyncLoader;function bk(e){wr(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:o=200,timeout:d,suspensible:h=!0,onError:s}=e;let b=null,R,J=0;const I=()=>(J++,b=null,z()),z=()=>{let Z;return b||(Z=b=t().catch(L=>{if(L=L instanceof Error?L:new Error(String(L)),s)return new Promise((O,G)=>{s(L,()=>O(I()),()=>G(L),J+1)});throw L}).then(L=>Z!==b&&b?b:(L&&(L.__esModule||L[Symbol.toStringTag]==="Module")&&(L=L.default),R=L,L)))};return vc({name:"AsyncComponentWrapper",__asyncLoader:z,get __asyncResolved(){return R},setup(){const Z=Ba;if(R)return()=>n3(R,Z);const L=S=>{b=null,wf(S,Z,13,!r)};if(h&&Z.suspense||Ag)return z().then(S=>()=>n3(S,Z)).catch(S=>(L(S),()=>r?cn(r,{error:S}):null));const O=sn(!1),G=sn(),M=sn(!!o);return o&&setTimeout(()=>{M.value=!1},o),d!=null&&setTimeout(()=>{if(!O.value&&!G.value){const S=new Error(`Async component timed out after ${d}ms.`);L(S),G.value=S}},d),z().then(()=>{O.value=!0,Z.parent&&h_(Z.parent.vnode)&&Mb(Z.parent.update)}).catch(S=>{L(S),G.value=S}),()=>{if(O.value&&R)return n3(R,Z);if(G.value&&r)return cn(r,{error:G.value});if(n&&!M.value)return cn(n)}}})}function n3(e,t){const{ref:n,props:r,children:o,ce:d}=t.vnode,h=cn(e,r,o);return h.ref=n,h.ce=d,delete t.vnode.ce,h}const h_=e=>e.type.__isKeepAlive,PI={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=dp(),r=n.ctx;if(!r.renderer)return()=>{const S=t.default&&t.default();return S&&S.length===1?S[0]:S};const o=new Map,d=new Set;let h=null;const s=n.suspense,{renderer:{p:b,m:R,um:J,o:{createElement:I}}}=r,z=I("div");r.activate=(S,P,H,U,E)=>{const ie=S.component;R(S,P,H,0,s),b(ie.vnode,S,P,H,ie,s,U,S.slotScopeIds,E),fl(()=>{ie.isDeactivated=!1,ie.a&&yg(ie.a);const te=S.props&&S.props.onVnodeMounted;te&&Fc(te,ie.parent,S)},s)},r.deactivate=S=>{const P=S.component;R(S,z,null,1,s),fl(()=>{P.da&&yg(P.da);const H=S.props&&S.props.onVnodeUnmounted;H&&Fc(H,P.parent,S),P.isDeactivated=!0},s)};function Z(S){r3(S),J(S,n,s,!0)}function L(S){o.forEach((P,H)=>{const U=lT(P.type);U&&(!S||!S(U))&&O(H)})}function O(S){const P=o.get(S);!h||P.type!==h.type?Z(P):h&&r3(h),o.delete(S),d.delete(S)}ha(()=>[e.include,e.exclude],([S,P])=>{S&&L(H=>Iy(S,H)),P&&L(H=>!Iy(P,H))},{flush:"post",deep:!0});let G=null;const M=()=>{G!=null&&o.set(G,s3(n.subTree))};return Ko(M),Q0(M),em(()=>{o.forEach(S=>{const{subTree:P,suspense:H}=n,U=s3(P);if(S.type===U.type){r3(U);const E=U.component.da;E&&fl(E,H);return}Z(S)})}),()=>{if(G=null,!t.default)return null;const S=t.default(),P=S[0];if(S.length>1)return h=null,S;if(!op(P)||!(P.shapeFlag&4)&&!(P.shapeFlag&128))return h=null,P;let H=s3(P);const U=H.type,E=lT(z0(H)?H.type.__asyncResolved||{}:U),{include:ie,exclude:te,max:$}=e;if(ie&&(!E||!Iy(ie,E))||te&&E&&Iy(te,E))return h=H,P;const V=H.key==null?U:H.key,j=o.get(V);return H.el&&(H=wu(H),P.shapeFlag&128&&(P.ssContent=H)),G=V,j?(H.el=j.el,H.component=j.component,H.transition&&mf(H,H.transition),H.shapeFlag|=512,d.delete(V),d.add(V)):(d.add(V),$&&d.size>parseInt($,10)&&O(d.values().next().value)),H.shapeFlag|=256,h=H,fk(P.type)?P:H}}},wk=PI;function Iy(e,t){return An(e)?e.some(n=>Iy(n,t)):Br(e)?e.split(",").includes(t):e.test?e.test(t):!1}function uS(e,t){Tk(e,"a",t)}function hS(e,t){Tk(e,"da",t)}function Tk(e,t,n=Ba){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Lb(t,r,n),n){let o=n.parent;for(;o&&o.parent;)h_(o.parent.vnode)&&DI(r,t,n,o),o=o.parent}}function DI(e,t,n,r){const o=Lb(t,e,r,!0);hh(()=>{ZT(r[t],o)},n)}function r3(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function s3(e){return e.shapeFlag&128?e.ssContent:e}function Lb(e,t,n=Ba,r=!1){if(n){const o=n[e]||(n[e]=[]),d=t.__weh||(t.__weh=(...h)=>{if(n.isUnmounted)return;Ug(),yf(n);const s=Vc(t,n,e,h);return af(),$g(),s});return r?o.unshift(d):o.push(d),d}}const cp=e=>(t,n=Ba)=>(!Ag||e==="sp")&&Lb(e,(...r)=>t(...r),n),pS=cp("bm"),Ko=cp("m"),p_=cp("bu"),Q0=cp("u"),em=cp("bum"),hh=cp("um"),fS=cp("sp"),mS=cp("rtg"),gS=cp("rtc");function yS(e,t=Ba){Lb("ec",e,t)}function ho(e,t){const n=ml;if(n===null)return e;const r=zb(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let d=0;d<t.length;d++){let[h,s,b,R=Gs]=t[d];h&&(wr(h)&&(h={mounted:h,updated:h}),h.deep&&k0(s),o.push({dir:h,instance:r,value:s,oldValue:void 0,arg:b,modifiers:R}))}return e}function eh(e,t,n,r){const o=e.dirs,d=t&&t.dirs;for(let h=0;h<o.length;h++){const s=o[h];d&&(s.oldValue=d[h].value);let b=s.dir[r];b&&(Ug(),Vc(b,n,8,[e.el,s,e,t]),$g())}}const _S="components",II="directives";function Er(e,t){return vS(_S,e,!0,t)||e}const Sk=Symbol();function Ob(e){return Br(e)?vS(_S,e,!1)||e:e||Sk}function Rb(e){return vS(II,e)}function vS(e,t,n=!0,r=!1){const o=ml||Ba;if(o){const d=o.type;if(e===_S){const s=lT(d,!1);if(s&&(s===t||s===tl(t)||s===bf(tl(t))))return d}const h=SC(o[e]||d[e],t)||SC(o.appContext[e],t);return!h&&r?d:h}}function SC(e,t){return e&&(e[t]||e[tl(t)]||e[bf(tl(t))])}function Mr(e,t,n,r){let o;const d=n&&n[r];if(An(e)||Br(e)){o=new Array(e.length);for(let h=0,s=e.length;h<s;h++)o[h]=t(e[h],h,void 0,d&&d[h])}else if(typeof e=="number"){o=new Array(e);for(let h=0;h<e;h++)o[h]=t(h+1,h,void 0,d&&d[h])}else if(Ys(e))if(e[Symbol.iterator])o=Array.from(e,(h,s)=>t(h,s,void 0,d&&d[s]));else{const h=Object.keys(e);o=new Array(h.length);for(let s=0,b=h.length;s<b;s++){const R=h[s];o[s]=t(e[R],R,s,d&&d[s])}}else o=[];return n&&(n[r]=o),o}function Bl(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(An(r))for(let o=0;o<r.length;o++)e[r[o].name]=r[o].fn;else r&&(e[r.name]=r.key?(...o)=>{const d=r.fn(...o);return d&&(d.key=r.key),d}:r.fn)}return e}function xn(e,t,n={},r,o){if(ml.isCE||ml.parent&&z0(ml.parent)&&ml.parent.isCE)return t!=="default"&&(n.name=t),cn("slot",n,r&&r());let d=e[t];d&&d._c&&(d._d=!1),wt();const h=d&&Ck(d(n)),s=Ir(ln,{key:n.key||h&&h.key||`_${t}`},h||(r?r():[]),h&&e._===1?64:-2);return!o&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),d&&d._c&&(d._d=!0),s}function Ck(e){return e.some(t=>op(t)?!(t.type===gl||t.type===ln&&!Ck(t.children)):!0)?e:null}function Ek(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:O0(r)]=e[r];return n}const eT=e=>e?Uk(e)?zb(e)||e.proxy:eT(e.parent):null,Ly=Ds(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>eT(e.parent),$root:e=>eT(e.root),$emit:e=>e.emit,$options:e=>xS(e),$forceUpdate:e=>e.f||(e.f=()=>Mb(e.update)),$nextTick:e=>e.n||(e.n=yc.bind(e.proxy)),$watch:e=>kI.bind(e)}),o3=(e,t)=>e!==Gs&&!e.__isScriptSetup&&xs(e,t),tT={get({_:e},t){const{ctx:n,setupState:r,data:o,props:d,accessCache:h,type:s,appContext:b}=e;let R;if(t[0]!=="$"){const Z=h[t];if(Z!==void 0)switch(Z){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return d[t]}else{if(o3(r,t))return h[t]=1,r[t];if(o!==Gs&&xs(o,t))return h[t]=2,o[t];if((R=e.propsOptions[0])&&xs(R,t))return h[t]=3,d[t];if(n!==Gs&&xs(n,t))return h[t]=4,n[t];iT&&(h[t]=0)}}const J=Ly[t];let I,z;if(J)return t==="$attrs"&&yd(e,"get",t),J(e);if((I=s.__cssModules)&&(I=I[t]))return I;if(n!==Gs&&xs(n,t))return h[t]=4,n[t];if(z=b.config.globalProperties,xs(z,t))return z[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:d}=e;return o3(o,t)?(o[t]=n,!0):r!==Gs&&xs(r,t)?(r[t]=n,!0):xs(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(d[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:d}},h){let s;return!!n[h]||e!==Gs&&xs(e,h)||o3(t,h)||(s=d[0])&&xs(s,h)||xs(r,h)||xs(Ly,h)||xs(o.config.globalProperties,h)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:xs(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},LI=Ds({},tT,{get(e,t){if(t!==Symbol.unscopables)return tT.get(e,t,e)},has(e,t){return t[0]!=="_"&&!gD(t)}});let iT=!0;function OI(e){const t=xS(e),n=e.proxy,r=e.ctx;iT=!1,t.beforeCreate&&CC(t.beforeCreate,e,"bc");const{data:o,computed:d,methods:h,watch:s,provide:b,inject:R,created:J,beforeMount:I,mounted:z,beforeUpdate:Z,updated:L,activated:O,deactivated:G,beforeDestroy:M,beforeUnmount:S,destroyed:P,unmounted:H,render:U,renderTracked:E,renderTriggered:ie,errorCaptured:te,serverPrefetch:$,expose:V,inheritAttrs:j,components:w,directives:D,filters:m}=t;if(R&&RI(R,r,null,e.appContext.config.unwrapInjectedRef),h)for(const k in h){const q=h[k];wr(q)&&(r[k]=q.bind(n))}if(o){const k=o.call(n,n);Ys(k)&&(e.data=Eu(k))}if(iT=!0,d)for(const k in d){const q=d[k],Y=wr(q)?q.bind(n,n):wr(q.get)?q.get.bind(n,n):gc,K=!wr(q)&&wr(q.set)?q.set.bind(n):gc,le=hn({get:Y,set:K});Object.defineProperty(r,k,{enumerable:!0,configurable:!0,get:()=>le.value,set:he=>le.value=he})}if(s)for(const k in s)Mk(s[k],r,n,k);if(b){const k=wr(b)?b.call(n):b;Reflect.ownKeys(k).forEach(q=>{Vg(q,k[q])})}J&&CC(J,e,"c");function x(k,q){An(q)?q.forEach(Y=>k(Y.bind(n))):q&&k(q.bind(n))}if(x(pS,I),x(Ko,z),x(p_,Z),x(Q0,L),x(uS,O),x(hS,G),x(yS,te),x(gS,E),x(mS,ie),x(em,S),x(hh,H),x(fS,$),An(V))if(V.length){const k=e.exposed||(e.exposed={});V.forEach(q=>{Object.defineProperty(k,q,{get:()=>n[q],set:Y=>n[q]=Y})})}else e.exposed||(e.exposed={});U&&e.render===gc&&(e.render=U),j!=null&&(e.inheritAttrs=j),w&&(e.components=w),D&&(e.directives=D)}function RI(e,t,n=gc,r=!1){An(e)&&(e=nT(e));for(const o in e){const d=e[o];let h;Ys(d)?"default"in d?h=B0(d.from||o,d.default,!0):h=B0(d.from||o):h=B0(d),ca(h)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>h.value,set:s=>h.value=s}):t[o]=h}}function CC(e,t,n){Vc(An(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Mk(e,t,n,r){const o=r.includes(".")?vk(n,r):()=>n[r];if(Br(e)){const d=t[e];wr(d)&&ha(o,d)}else if(wr(e))ha(o,e.bind(n));else if(Ys(e))if(An(e))e.forEach(d=>Mk(d,t,n,r));else{const d=wr(e.handler)?e.handler.bind(n):t[e.handler];wr(d)&&ha(o,d,e)}}function xS(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:d,config:{optionMergeStrategies:h}}=e.appContext,s=d.get(t);let b;return s?b=s:!o.length&&!n&&!r?b=t:(b={},o.length&&o.forEach(R=>Ox(b,R,h,!0)),Ox(b,t,h)),Ys(t)&&d.set(t,b),b}function Ox(e,t,n,r=!1){const{mixins:o,extends:d}=t;d&&Ox(e,d,n,!0),o&&o.forEach(h=>Ox(e,h,n,!0));for(const h in t)if(!(r&&h==="expose")){const s=BI[h]||n&&n[h];e[h]=s?s(e[h],t[h]):t[h]}return e}const BI={data:EC,props:w0,emits:w0,methods:w0,computed:w0,beforeCreate:hc,created:hc,beforeMount:hc,mounted:hc,beforeUpdate:hc,updated:hc,beforeDestroy:hc,beforeUnmount:hc,destroyed:hc,unmounted:hc,activated:hc,deactivated:hc,errorCaptured:hc,serverPrefetch:hc,components:w0,directives:w0,watch:NI,provide:EC,inject:zI};function EC(e,t){return t?e?function(){return Ds(wr(e)?e.call(this,this):e,wr(t)?t.call(this,this):t)}:t:e}function zI(e,t){return w0(nT(e),nT(t))}function nT(e){if(An(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function hc(e,t){return e?[...new Set([].concat(e,t))]:t}function w0(e,t){return e?Ds(Ds(Object.create(null),e),t):t}function NI(e,t){if(!e)return t;if(!t)return e;const n=Ds(Object.create(null),e);for(const r in t)n[r]=hc(e[r],t[r]);return n}function FI(e,t,n,r=!1){const o={},d={};Ix(d,Bb,1),e.propsDefaults=Object.create(null),kk(e,t,o,d);for(const h in e.propsOptions[0])h in o||(o[h]=void 0);n?e.props=r?o:nS(o):e.type.props?e.props=o:e.props=d,e.attrs=d}function jI(e,t,n,r){const{props:o,attrs:d,vnode:{patchFlag:h}}=e,s=ds(o),[b]=e.propsOptions;let R=!1;if((r||h>0)&&!(h&16)){if(h&8){const J=e.vnode.dynamicProps;for(let I=0;I<J.length;I++){let z=J[I];if(Ab(e.emitsOptions,z))continue;const Z=t[z];if(b)if(xs(d,z))Z!==d[z]&&(d[z]=Z,R=!0);else{const L=tl(z);o[L]=rT(b,s,L,Z,e,!1)}else Z!==d[z]&&(d[z]=Z,R=!0)}}}else{kk(e,t,o,d)&&(R=!0);let J;for(const I in s)(!t||!xs(t,I)&&((J=md(I))===I||!xs(t,J)))&&(b?n&&(n[I]!==void 0||n[J]!==void 0)&&(o[I]=rT(b,s,I,void 0,e,!0)):delete o[I]);if(d!==s)for(const I in d)(!t||!xs(t,I))&&(delete d[I],R=!0)}R&&sp(e,"set","$attrs")}function kk(e,t,n,r){const[o,d]=e.propsOptions;let h=!1,s;if(t)for(let b in t){if(L0(b))continue;const R=t[b];let J;o&&xs(o,J=tl(b))?!d||!d.includes(J)?n[J]=R:(s||(s={}))[J]=R:Ab(e.emitsOptions,b)||(!(b in r)||R!==r[b])&&(r[b]=R,h=!0)}if(d){const b=ds(n),R=s||Gs;for(let J=0;J<d.length;J++){const I=d[J];n[I]=rT(o,b,I,R[I],e,!xs(R,I))}}return h}function rT(e,t,n,r,o,d){const h=e[n];if(h!=null){const s=xs(h,"default");if(s&&r===void 0){const b=h.default;if(h.type!==Function&&wr(b)){const{propsDefaults:R}=o;n in R?r=R[n]:(yf(o),r=R[n]=b.call(null,t),af())}else r=b}h[0]&&(d&&!s?r=!1:h[1]&&(r===""||r===md(n))&&(r=!0))}return r}function Ak(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const d=e.props,h={},s=[];let b=!1;if(!wr(e)){const J=I=>{b=!0;const[z,Z]=Ak(I,t,!0);Ds(h,z),Z&&s.push(...Z)};!n&&t.mixins.length&&t.mixins.forEach(J),e.extends&&J(e.extends),e.mixins&&e.mixins.forEach(J)}if(!d&&!b)return Ys(e)&&r.set(e,mg),mg;if(An(d))for(let J=0;J<d.length;J++){const I=tl(d[J]);MC(I)&&(h[I]=Gs)}else if(d)for(const J in d){const I=tl(J);if(MC(I)){const z=d[J],Z=h[I]=An(z)||wr(z)?{type:z}:Object.assign({},z);if(Z){const L=PC(Boolean,Z.type),O=PC(String,Z.type);Z[0]=L>-1,Z[1]=O<0||L<O,(L>-1||xs(Z,"default"))&&s.push(I)}}}const R=[h,s];return Ys(e)&&r.set(e,R),R}function MC(e){return e[0]!=="$"}function kC(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function AC(e,t){return kC(e)===kC(t)}function PC(e,t){return An(t)?t.findIndex(n=>AC(n,e)):wr(t)&&AC(t,e)?0:-1}const Pk=e=>e[0]==="_"||e==="$stable",bS=e=>An(e)?e.map(pd):[pd(e)],UI=(e,t,n)=>{if(t._n)return t;const r=Yn((...o)=>bS(t(...o)),n);return r._c=!1,r},Dk=(e,t,n)=>{const r=e._ctx;for(const o in e){if(Pk(o))continue;const d=e[o];if(wr(d))t[o]=UI(o,d,r);else if(d!=null){const h=bS(d);t[o]=()=>h}}},Ik=(e,t)=>{const n=bS(t);e.slots.default=()=>n},$I=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ds(t),Ix(t,"_",n)):Dk(t,e.slots={})}else e.slots={},t&&Ik(e,t);Ix(e.slots,Bb,1)},VI=(e,t,n)=>{const{vnode:r,slots:o}=e;let d=!0,h=Gs;if(r.shapeFlag&32){const s=t._;s?n&&s===1?d=!1:(Ds(o,t),!n&&s===1&&delete o._):(d=!t.$stable,Dk(t,o)),h=t}else t&&(Ik(e,t),h={default:1});if(d)for(const s in o)!Pk(s)&&!(s in h)&&delete o[s]};function Lk(){return{app:null,config:{isNativeTag:_x,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let GI=0;function WI(e,t){return function(r,o=null){wr(r)||(r=Object.assign({},r)),o!=null&&!Ys(o)&&(o=null);const d=Lk(),h=new Set;let s=!1;const b=d.app={_uid:GI++,_component:r,_props:o,_container:null,_context:d,_instance:null,version:IS,get config(){return d.config},set config(R){},use(R,...J){return h.has(R)||(R&&wr(R.install)?(h.add(R),R.install(b,...J)):wr(R)&&(h.add(R),R(b,...J))),b},mixin(R){return d.mixins.includes(R)||d.mixins.push(R),b},component(R,J){return J?(d.components[R]=J,b):d.components[R]},directive(R,J){return J?(d.directives[R]=J,b):d.directives[R]},mount(R,J,I){if(!s){const z=cn(r,o);return z.appContext=d,J&&t?t(z,R):e(z,R,I),s=!0,b._container=R,R.__vue_app__=b,zb(z.component)||z.component.proxy}},unmount(){s&&(e(null,b._container),delete b._container.__vue_app__)},provide(R,J){return d.provides[R]=J,b}};return b}}function Rx(e,t,n,r,o=!1){if(An(e)){e.forEach((z,Z)=>Rx(z,t&&(An(t)?t[Z]:t),n,r,o));return}if(z0(r)&&!o)return;const d=r.shapeFlag&4?zb(r.component)||r.component.proxy:r.el,h=o?null:d,{i:s,r:b}=e,R=t&&t.r,J=s.refs===Gs?s.refs={}:s.refs,I=s.setupState;if(R!=null&&R!==b&&(Br(R)?(J[R]=null,xs(I,R)&&(I[R]=null)):ca(R)&&(R.value=null)),wr(b))ch(b,s,12,[h,J]);else{const z=Br(b),Z=ca(b);if(z||Z){const L=()=>{if(e.f){const O=z?xs(I,b)?I[b]:J[b]:b.value;o?An(O)&&ZT(O,d):An(O)?O.includes(d)||O.push(d):z?(J[b]=[d],xs(I,b)&&(I[b]=J[b])):(b.value=[d],e.k&&(J[e.k]=b.value))}else z?(J[b]=h,xs(I,b)&&(I[b]=h)):Z&&(b.value=h,e.k&&(J[e.k]=h))};h?(L.id=-1,fl(L,n)):L()}}}let Hp=!1;const Jv=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Qv=e=>e.nodeType===8;function HI(e){const{mt:t,p:n,o:{patchProp:r,createText:o,nextSibling:d,parentNode:h,remove:s,insert:b,createComment:R}}=e,J=(M,S)=>{if(!S.hasChildNodes()){n(null,M,S),Lx(),S._vnode=M;return}Hp=!1,I(S.firstChild,M,null,null,null),Lx(),S._vnode=M,Hp&&console.error("Hydration completed but contains mismatches.")},I=(M,S,P,H,U,E=!1)=>{const ie=Qv(M)&&M.data==="[",te=()=>O(M,S,P,H,U,ie),{type:$,ref:V,shapeFlag:j,patchFlag:w}=S;let D=M.nodeType;S.el=M,w===-2&&(E=!1,S.dynamicChildren=null);let m=null;switch($){case gf:D!==3?S.children===""?(b(S.el=o(""),h(M),M),m=M):m=te():(M.data!==S.children&&(Hp=!0,M.data=S.children),m=d(M));break;case gl:D!==8||ie?m=te():m=d(M);break;case of:if(ie&&(M=d(M),D=M.nodeType),D===1||D===3){m=M;const g=!S.children.length;for(let x=0;x<S.staticCount;x++)g&&(S.children+=m.nodeType===1?m.outerHTML:m.data),x===S.staticCount-1&&(S.anchor=m),m=d(m);return ie?d(m):m}else te();break;case ln:ie?m=L(M,S,P,H,U,E):m=te();break;default:if(j&1)D!==1||S.type.toLowerCase()!==M.tagName.toLowerCase()?m=te():m=z(M,S,P,H,U,E);else if(j&6){S.slotScopeIds=U;const g=h(M);if(t(S,g,null,P,H,Jv(g),E),m=ie?G(M):d(M),m&&Qv(m)&&m.data==="teleport end"&&(m=d(m)),z0(S)){let x;ie?(x=cn(ln),x.anchor=m?m.previousSibling:g.lastChild):x=M.nodeType===3?ws(""):cn("div"),x.el=M,S.component.subTree=x}}else j&64?D!==8?m=te():m=S.type.hydrate(M,S,P,H,U,E,e,Z):j&128&&(m=S.type.hydrate(M,S,P,H,Jv(h(M)),U,E,e,I))}return V!=null&&Rx(V,null,H,S),m},z=(M,S,P,H,U,E)=>{E=E||!!S.dynamicChildren;const{type:ie,props:te,patchFlag:$,shapeFlag:V,dirs:j}=S,w=ie==="input"&&j||ie==="option";if(w||$!==-1){if(j&&eh(S,null,P,"created"),te)if(w||!E||$&48)for(const m in te)(w&&m.endsWith("value")||X0(m)&&!L0(m))&&r(M,m,null,te[m],!1,void 0,P);else te.onClick&&r(M,"onClick",null,te.onClick,!1,void 0,P);let D;if((D=te&&te.onVnodeBeforeMount)&&Fc(D,P,S),j&&eh(S,null,P,"beforeMount"),((D=te&&te.onVnodeMounted)||j)&&gk(()=>{D&&Fc(D,P,S),j&&eh(S,null,P,"mounted")},H),V&16&&!(te&&(te.innerHTML||te.textContent))){let m=Z(M.firstChild,S,M,P,H,U,E);for(;m;){Hp=!0;const g=m;m=m.nextSibling,s(g)}}else V&8&&M.textContent!==S.children&&(Hp=!0,M.textContent=S.children)}return M.nextSibling},Z=(M,S,P,H,U,E,ie)=>{ie=ie||!!S.dynamicChildren;const te=S.children,$=te.length;for(let V=0;V<$;V++){const j=ie?te[V]:te[V]=pd(te[V]);if(M)M=I(M,j,H,U,E,ie);else{if(j.type===gf&&!j.children)continue;Hp=!0,n(null,j,P,null,H,U,Jv(P),E)}}return M},L=(M,S,P,H,U,E)=>{const{slotScopeIds:ie}=S;ie&&(U=U?U.concat(ie):ie);const te=h(M),$=Z(d(M),S,te,P,H,U,E);return $&&Qv($)&&$.data==="]"?d(S.anchor=$):(Hp=!0,b(S.anchor=R("]"),te,$),$)},O=(M,S,P,H,U,E)=>{if(Hp=!0,S.el=null,E){const $=G(M);for(;;){const V=d(M);if(V&&V!==$)s(V);else break}}const ie=d(M),te=h(M);return s(M),n(null,S,te,ie,P,H,Jv(te),U),ie},G=M=>{let S=0;for(;M;)if(M=d(M),M&&Qv(M)&&(M.data==="["&&S++,M.data==="]")){if(S===0)return d(M);S--}return M};return[J,I]}const fl=gk;function wS(e){return Ok(e)}function TS(e){return Ok(e,HI)}function Ok(e,t){const n=RD();n.__VUE__=!0;const{insert:r,remove:o,patchProp:d,createElement:h,createText:s,createComment:b,setText:R,setElementText:J,parentNode:I,nextSibling:z,setScopeId:Z=gc,insertStaticContent:L}=e,O=(oe,ye,Te,Oe=null,Le=null,Ue=null,nt=!1,Qe=null,ut=!!ye.dynamicChildren)=>{if(oe===ye)return;oe&&!ih(oe,ye)&&(Oe=ge(oe),he(oe,Le,Ue,!0),oe=null),ye.patchFlag===-2&&(ut=!1,ye.dynamicChildren=null);const{type:Me,ref:Re,shapeFlag:Ne}=ye;switch(Me){case gf:G(oe,ye,Te,Oe);break;case gl:M(oe,ye,Te,Oe);break;case of:oe==null&&S(ye,Te,Oe,nt);break;case ln:w(oe,ye,Te,Oe,Le,Ue,nt,Qe,ut);break;default:Ne&1?U(oe,ye,Te,Oe,Le,Ue,nt,Qe,ut):Ne&6?D(oe,ye,Te,Oe,Le,Ue,nt,Qe,ut):(Ne&64||Ne&128)&&Me.process(oe,ye,Te,Oe,Le,Ue,nt,Qe,ut,re)}Re!=null&&Le&&Rx(Re,oe&&oe.ref,Ue,ye||oe,!ye)},G=(oe,ye,Te,Oe)=>{if(oe==null)r(ye.el=s(ye.children),Te,Oe);else{const Le=ye.el=oe.el;ye.children!==oe.children&&R(Le,ye.children)}},M=(oe,ye,Te,Oe)=>{oe==null?r(ye.el=b(ye.children||""),Te,Oe):ye.el=oe.el},S=(oe,ye,Te,Oe)=>{[oe.el,oe.anchor]=L(oe.children,ye,Te,Oe,oe.el,oe.anchor)},P=({el:oe,anchor:ye},Te,Oe)=>{let Le;for(;oe&&oe!==ye;)Le=z(oe),r(oe,Te,Oe),oe=Le;r(ye,Te,Oe)},H=({el:oe,anchor:ye})=>{let Te;for(;oe&&oe!==ye;)Te=z(oe),o(oe),oe=Te;o(ye)},U=(oe,ye,Te,Oe,Le,Ue,nt,Qe,ut)=>{nt=nt||ye.type==="svg",oe==null?E(ye,Te,Oe,Le,Ue,nt,Qe,ut):$(oe,ye,Le,Ue,nt,Qe,ut)},E=(oe,ye,Te,Oe,Le,Ue,nt,Qe)=>{let ut,Me;const{type:Re,props:Ne,shapeFlag:Xe,transition:rt,dirs:yt}=oe;if(ut=oe.el=h(oe.type,Ue,Ne&&Ne.is,Ne),Xe&8?J(ut,oe.children):Xe&16&&te(oe.children,ut,null,Oe,Le,Ue&&Re!=="foreignObject",nt,Qe),yt&&eh(oe,null,Oe,"created"),Ne){for(const Wt in Ne)Wt!=="value"&&!L0(Wt)&&d(ut,Wt,null,Ne[Wt],Ue,oe.children,Oe,Le,ce);"value"in Ne&&d(ut,"value",null,Ne.value),(Me=Ne.onVnodeBeforeMount)&&Fc(Me,Oe,oe)}ie(ut,oe,oe.scopeId,nt,Oe),yt&&eh(oe,null,Oe,"beforeMount");const $t=(!Le||Le&&!Le.pendingBranch)&&rt&&!rt.persisted;$t&&rt.beforeEnter(ut),r(ut,ye,Te),((Me=Ne&&Ne.onVnodeMounted)||$t||yt)&&fl(()=>{Me&&Fc(Me,Oe,oe),$t&&rt.enter(ut),yt&&eh(oe,null,Oe,"mounted")},Le)},ie=(oe,ye,Te,Oe,Le)=>{if(Te&&Z(oe,Te),Oe)for(let Ue=0;Ue<Oe.length;Ue++)Z(oe,Oe[Ue]);if(Le){let Ue=Le.subTree;if(ye===Ue){const nt=Le.vnode;ie(oe,nt,nt.scopeId,nt.slotScopeIds,Le.parent)}}},te=(oe,ye,Te,Oe,Le,Ue,nt,Qe,ut=0)=>{for(let Me=ut;Me<oe.length;Me++){const Re=oe[Me]=Qe?Jp(oe[Me]):pd(oe[Me]);O(null,Re,ye,Te,Oe,Le,Ue,nt,Qe)}},$=(oe,ye,Te,Oe,Le,Ue,nt)=>{const Qe=ye.el=oe.el;let{patchFlag:ut,dynamicChildren:Me,dirs:Re}=ye;ut|=oe.patchFlag&16;const Ne=oe.props||Gs,Xe=ye.props||Gs;let rt;Te&&y0(Te,!1),(rt=Xe.onVnodeBeforeUpdate)&&Fc(rt,Te,ye,oe),Re&&eh(ye,oe,Te,"beforeUpdate"),Te&&y0(Te,!0);const yt=Le&&ye.type!=="foreignObject";if(Me?V(oe.dynamicChildren,Me,Qe,Te,Oe,yt,Ue):nt||q(oe,ye,Qe,null,Te,Oe,yt,Ue,!1),ut>0){if(ut&16)j(Qe,ye,Ne,Xe,Te,Oe,Le);else if(ut&2&&Ne.class!==Xe.class&&d(Qe,"class",null,Xe.class,Le),ut&4&&d(Qe,"style",Ne.style,Xe.style,Le),ut&8){const $t=ye.dynamicProps;for(let Wt=0;Wt<$t.length;Wt++){const Ci=$t[Wt],ti=Ne[Ci],Mi=Xe[Ci];(Mi!==ti||Ci==="value")&&d(Qe,Ci,ti,Mi,Le,oe.children,Te,Oe,ce)}}ut&1&&oe.children!==ye.children&&J(Qe,ye.children)}else!nt&&Me==null&&j(Qe,ye,Ne,Xe,Te,Oe,Le);((rt=Xe.onVnodeUpdated)||Re)&&fl(()=>{rt&&Fc(rt,Te,ye,oe),Re&&eh(ye,oe,Te,"updated")},Oe)},V=(oe,ye,Te,Oe,Le,Ue,nt)=>{for(let Qe=0;Qe<ye.length;Qe++){const ut=oe[Qe],Me=ye[Qe],Re=ut.el&&(ut.type===ln||!ih(ut,Me)||ut.shapeFlag&70)?I(ut.el):Te;O(ut,Me,Re,null,Oe,Le,Ue,nt,!0)}},j=(oe,ye,Te,Oe,Le,Ue,nt)=>{if(Te!==Oe){if(Te!==Gs)for(const Qe in Te)!L0(Qe)&&!(Qe in Oe)&&d(oe,Qe,Te[Qe],null,nt,ye.children,Le,Ue,ce);for(const Qe in Oe){if(L0(Qe))continue;const ut=Oe[Qe],Me=Te[Qe];ut!==Me&&Qe!=="value"&&d(oe,Qe,Me,ut,nt,ye.children,Le,Ue,ce)}"value"in Oe&&d(oe,"value",Te.value,Oe.value)}},w=(oe,ye,Te,Oe,Le,Ue,nt,Qe,ut)=>{const Me=ye.el=oe?oe.el:s(""),Re=ye.anchor=oe?oe.anchor:s("");let{patchFlag:Ne,dynamicChildren:Xe,slotScopeIds:rt}=ye;rt&&(Qe=Qe?Qe.concat(rt):rt),oe==null?(r(Me,Te,Oe),r(Re,Te,Oe),te(ye.children,Te,Re,Le,Ue,nt,Qe,ut)):Ne>0&&Ne&64&&Xe&&oe.dynamicChildren?(V(oe.dynamicChildren,Xe,Te,Le,Ue,nt,Qe),(ye.key!=null||Le&&ye===Le.subTree)&&SS(oe,ye,!0)):q(oe,ye,Te,Re,Le,Ue,nt,Qe,ut)},D=(oe,ye,Te,Oe,Le,Ue,nt,Qe,ut)=>{ye.slotScopeIds=Qe,oe==null?ye.shapeFlag&512?Le.ctx.activate(ye,Te,Oe,nt,ut):m(ye,Te,Oe,Le,Ue,nt,ut):g(oe,ye,ut)},m=(oe,ye,Te,Oe,Le,Ue,nt)=>{const Qe=oe.component=jk(oe,Oe,Le);if(h_(oe)&&(Qe.ctx.renderer=re),$k(Qe),Qe.asyncDep){if(Le&&Le.registerDep(Qe,x),!oe.el){const ut=Qe.subTree=cn(gl);M(null,ut,ye,Te)}return}x(Qe,oe,ye,Te,Le,Ue,nt)},g=(oe,ye,Te)=>{const Oe=ye.component=oe.component;if(wI(oe,ye,Te))if(Oe.asyncDep&&!Oe.asyncResolved){k(Oe,ye,Te);return}else Oe.next=ye,gI(Oe.update),Oe.update();else ye.el=oe.el,Oe.vnode=ye},x=(oe,ye,Te,Oe,Le,Ue,nt)=>{const Qe=()=>{if(oe.isMounted){let{next:Re,bu:Ne,u:Xe,parent:rt,vnode:yt}=oe,$t=Re,Wt;y0(oe,!1),Re?(Re.el=yt.el,k(oe,Re,nt)):Re=yt,Ne&&yg(Ne),(Wt=Re.props&&Re.props.onVnodeBeforeUpdate)&&Fc(Wt,rt,Re,yt),y0(oe,!0);const Ci=vx(oe),ti=oe.subTree;oe.subTree=Ci,O(ti,Ci,I(ti.el),ge(ti),oe,Le,Ue),Re.el=Ci.el,$t===null&&lS(oe,Ci.el),Xe&&fl(Xe,Le),(Wt=Re.props&&Re.props.onVnodeUpdated)&&fl(()=>Fc(Wt,rt,Re,yt),Le)}else{let Re;const{el:Ne,props:Xe}=ye,{bm:rt,m:yt,parent:$t}=oe,Wt=z0(ye);if(y0(oe,!1),rt&&yg(rt),!Wt&&(Re=Xe&&Xe.onVnodeBeforeMount)&&Fc(Re,$t,ye),y0(oe,!0),Ne&&_e){const Ci=()=>{oe.subTree=vx(oe),_e(Ne,oe.subTree,oe,Le,null)};Wt?ye.type.__asyncLoader().then(()=>!oe.isUnmounted&&Ci()):Ci()}else{const Ci=oe.subTree=vx(oe);O(null,Ci,Te,Oe,oe,Le,Ue),ye.el=Ci.el}if(yt&&fl(yt,Le),!Wt&&(Re=Xe&&Xe.onVnodeMounted)){const Ci=ye;fl(()=>Fc(Re,$t,Ci),Le)}(ye.shapeFlag&256||$t&&z0($t.vnode)&&$t.vnode.shapeFlag&256)&&oe.a&&fl(oe.a,Le),oe.isMounted=!0,ye=Te=Oe=null}},ut=oe.effect=new jg(Qe,()=>Mb(Me),oe.scope),Me=oe.update=()=>ut.run();Me.id=oe.uid,y0(oe,!0),Me()},k=(oe,ye,Te)=>{ye.component=oe;const Oe=oe.vnode.props;oe.vnode=ye,oe.next=null,jI(oe,ye.props,Oe,Te),VI(oe,ye.children,Te),Ug(),xC(),$g()},q=(oe,ye,Te,Oe,Le,Ue,nt,Qe,ut=!1)=>{const Me=oe&&oe.children,Re=oe?oe.shapeFlag:0,Ne=ye.children,{patchFlag:Xe,shapeFlag:rt}=ye;if(Xe>0){if(Xe&128){K(Me,Ne,Te,Oe,Le,Ue,nt,Qe,ut);return}else if(Xe&256){Y(Me,Ne,Te,Oe,Le,Ue,nt,Qe,ut);return}}rt&8?(Re&16&&ce(Me,Le,Ue),Ne!==Me&&J(Te,Ne)):Re&16?rt&16?K(Me,Ne,Te,Oe,Le,Ue,nt,Qe,ut):ce(Me,Le,Ue,!0):(Re&8&&J(Te,""),rt&16&&te(Ne,Te,Oe,Le,Ue,nt,Qe,ut))},Y=(oe,ye,Te,Oe,Le,Ue,nt,Qe,ut)=>{oe=oe||mg,ye=ye||mg;const Me=oe.length,Re=ye.length,Ne=Math.min(Me,Re);let Xe;for(Xe=0;Xe<Ne;Xe++){const rt=ye[Xe]=ut?Jp(ye[Xe]):pd(ye[Xe]);O(oe[Xe],rt,Te,null,Le,Ue,nt,Qe,ut)}Me>Re?ce(oe,Le,Ue,!0,!1,Ne):te(ye,Te,Oe,Le,Ue,nt,Qe,ut,Ne)},K=(oe,ye,Te,Oe,Le,Ue,nt,Qe,ut)=>{let Me=0;const Re=ye.length;let Ne=oe.length-1,Xe=Re-1;for(;Me<=Ne&&Me<=Xe;){const rt=oe[Me],yt=ye[Me]=ut?Jp(ye[Me]):pd(ye[Me]);if(ih(rt,yt))O(rt,yt,Te,null,Le,Ue,nt,Qe,ut);else break;Me++}for(;Me<=Ne&&Me<=Xe;){const rt=oe[Ne],yt=ye[Xe]=ut?Jp(ye[Xe]):pd(ye[Xe]);if(ih(rt,yt))O(rt,yt,Te,null,Le,Ue,nt,Qe,ut);else break;Ne--,Xe--}if(Me>Ne){if(Me<=Xe){const rt=Xe+1,yt=rt<Re?ye[rt].el:Oe;for(;Me<=Xe;)O(null,ye[Me]=ut?Jp(ye[Me]):pd(ye[Me]),Te,yt,Le,Ue,nt,Qe,ut),Me++}}else if(Me>Xe)for(;Me<=Ne;)he(oe[Me],Le,Ue,!0),Me++;else{const rt=Me,yt=Me,$t=new Map;for(Me=yt;Me<=Xe;Me++){const fi=ye[Me]=ut?Jp(ye[Me]):pd(ye[Me]);fi.key!=null&&$t.set(fi.key,Me)}let Wt,Ci=0;const ti=Xe-yt+1;let Mi=!1,on=0;const ft=new Array(ti);for(Me=0;Me<ti;Me++)ft[Me]=0;for(Me=rt;Me<=Ne;Me++){const fi=oe[Me];if(Ci>=ti){he(fi,Le,Ue,!0);continue}let Ui;if(fi.key!=null)Ui=$t.get(fi.key);else for(Wt=yt;Wt<=Xe;Wt++)if(ft[Wt-yt]===0&&ih(fi,ye[Wt])){Ui=Wt;break}Ui===void 0?he(fi,Le,Ue,!0):(ft[Ui-yt]=Me+1,Ui>=on?on=Ui:Mi=!0,O(fi,ye[Ui],Te,null,Le,Ue,nt,Qe,ut),Ci++)}const Nt=Mi?YI(ft):mg;for(Wt=Nt.length-1,Me=ti-1;Me>=0;Me--){const fi=yt+Me,Ui=ye[fi],dn=fi+1<Re?ye[fi+1].el:Oe;ft[Me]===0?O(null,Ui,Te,dn,Le,Ue,nt,Qe,ut):Mi&&(Wt<0||Me!==Nt[Wt]?le(Ui,Te,dn,2):Wt--)}}},le=(oe,ye,Te,Oe,Le=null)=>{const{el:Ue,type:nt,transition:Qe,children:ut,shapeFlag:Me}=oe;if(Me&6){le(oe.component.subTree,ye,Te,Oe);return}if(Me&128){oe.suspense.move(ye,Te,Oe);return}if(Me&64){nt.move(oe,ye,Te,re);return}if(nt===ln){r(Ue,ye,Te);for(let Ne=0;Ne<ut.length;Ne++)le(ut[Ne],ye,Te,Oe);r(oe.anchor,ye,Te);return}if(nt===of){P(oe,ye,Te);return}if(Oe!==2&&Me&1&&Qe)if(Oe===0)Qe.beforeEnter(Ue),r(Ue,ye,Te),fl(()=>Qe.enter(Ue),Le);else{const{leave:Ne,delayLeave:Xe,afterLeave:rt}=Qe,yt=()=>r(Ue,ye,Te),$t=()=>{Ne(Ue,()=>{yt(),rt&&rt()})};Xe?Xe(Ue,yt,$t):$t()}else r(Ue,ye,Te)},he=(oe,ye,Te,Oe=!1,Le=!1)=>{const{type:Ue,props:nt,ref:Qe,children:ut,dynamicChildren:Me,shapeFlag:Re,patchFlag:Ne,dirs:Xe}=oe;if(Qe!=null&&Rx(Qe,null,Te,oe,!0),Re&256){ye.ctx.deactivate(oe);return}const rt=Re&1&&Xe,yt=!z0(oe);let $t;if(yt&&($t=nt&&nt.onVnodeBeforeUnmount)&&Fc($t,ye,oe),Re&6)Q(oe.component,Te,Oe);else{if(Re&128){oe.suspense.unmount(Te,Oe);return}rt&&eh(oe,null,ye,"beforeUnmount"),Re&64?oe.type.remove(oe,ye,Te,Le,re,Oe):Me&&(Ue!==ln||Ne>0&&Ne&64)?ce(Me,ye,Te,!1,!0):(Ue===ln&&Ne&384||!Le&&Re&16)&&ce(ut,ye,Te),Oe&&pe(oe)}(yt&&($t=nt&&nt.onVnodeUnmounted)||rt)&&fl(()=>{$t&&Fc($t,ye,oe),rt&&eh(oe,null,ye,"unmounted")},Te)},pe=oe=>{const{type:ye,el:Te,anchor:Oe,transition:Le}=oe;if(ye===ln){F(Te,Oe);return}if(ye===of){H(oe);return}const Ue=()=>{o(Te),Le&&!Le.persisted&&Le.afterLeave&&Le.afterLeave()};if(oe.shapeFlag&1&&Le&&!Le.persisted){const{leave:nt,delayLeave:Qe}=Le,ut=()=>nt(Te,Ue);Qe?Qe(oe.el,Ue,ut):ut()}else Ue()},F=(oe,ye)=>{let Te;for(;oe!==ye;)Te=z(oe),o(oe),oe=Te;o(ye)},Q=(oe,ye,Te)=>{const{bum:Oe,scope:Le,update:Ue,subTree:nt,um:Qe}=oe;Oe&&yg(Oe),Le.stop(),Ue&&(Ue.active=!1,he(nt,oe,ye,Te)),Qe&&fl(Qe,ye),fl(()=>{oe.isUnmounted=!0},ye),ye&&ye.pendingBranch&&!ye.isUnmounted&&oe.asyncDep&&!oe.asyncResolved&&oe.suspenseId===ye.pendingId&&(ye.deps--,ye.deps===0&&ye.resolve())},ce=(oe,ye,Te,Oe=!1,Le=!1,Ue=0)=>{for(let nt=Ue;nt<oe.length;nt++)he(oe[nt],ye,Te,Oe,Le)},ge=oe=>oe.shapeFlag&6?ge(oe.component.subTree):oe.shapeFlag&128?oe.suspense.next():z(oe.anchor||oe.el),ke=(oe,ye,Te)=>{oe==null?ye._vnode&&he(ye._vnode,null,null,!0):O(ye._vnode||null,oe,ye,null,null,null,Te),xC(),Lx(),ye._vnode=oe},re={p:O,um:he,m:le,r:pe,mt:m,mc:te,pc:q,pbc:V,n:ge,o:e};let ve,_e;return t&&([ve,_e]=t(re)),{render:ke,hydrate:ve,createApp:WI(ke,ve)}}function y0({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function SS(e,t,n=!1){const r=e.children,o=t.children;if(An(r)&&An(o))for(let d=0;d<r.length;d++){const h=r[d];let s=o[d];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=o[d]=Jp(o[d]),s.el=h.el),n||SS(h,s)),s.type===gf&&(s.el=h.el)}}function YI(e){const t=e.slice(),n=[0];let r,o,d,h,s;const b=e.length;for(r=0;r<b;r++){const R=e[r];if(R!==0){if(o=n[n.length-1],e[o]<R){t[r]=o,n.push(r);continue}for(d=0,h=n.length-1;d<h;)s=d+h>>1,e[n[s]]<R?d=s+1:h=s;R<e[n[d]]&&(d>0&&(t[r]=n[d-1]),n[d]=r)}}for(d=n.length,h=n[d-1];d-- >0;)n[d]=h,h=t[h];return n}const qI=e=>e.__isTeleport,Oy=e=>e&&(e.disabled||e.disabled===""),DC=e=>typeof SVGElement<"u"&&e instanceof SVGElement,sT=(e,t)=>{const n=e&&e.to;return Br(n)?t?t(n):null:n},XI={__isTeleport:!0,process(e,t,n,r,o,d,h,s,b,R){const{mc:J,pc:I,pbc:z,o:{insert:Z,querySelector:L,createText:O,createComment:G}}=R,M=Oy(t.props);let{shapeFlag:S,children:P,dynamicChildren:H}=t;if(e==null){const U=t.el=O(""),E=t.anchor=O("");Z(U,n,r),Z(E,n,r);const ie=t.target=sT(t.props,L),te=t.targetAnchor=O("");ie&&(Z(te,ie),h=h||DC(ie));const $=(V,j)=>{S&16&&J(P,V,j,o,d,h,s,b)};M?$(n,E):ie&&$(ie,te)}else{t.el=e.el;const U=t.anchor=e.anchor,E=t.target=e.target,ie=t.targetAnchor=e.targetAnchor,te=Oy(e.props),$=te?n:E,V=te?U:ie;if(h=h||DC(E),H?(z(e.dynamicChildren,H,$,o,d,h,s),SS(e,t,!0)):b||I(e,t,$,V,o,d,h,s,!1),M)te||ex(t,n,U,R,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=sT(t.props,L);j&&ex(t,j,null,R,0)}else te&&ex(t,E,ie,R,1)}Rk(t)},remove(e,t,n,r,{um:o,o:{remove:d}},h){const{shapeFlag:s,children:b,anchor:R,targetAnchor:J,target:I,props:z}=e;if(I&&d(J),(h||!Oy(z))&&(d(R),s&16))for(let Z=0;Z<b.length;Z++){const L=b[Z];o(L,t,n,!0,!!L.dynamicChildren)}},move:ex,hydrate:ZI};function ex(e,t,n,{o:{insert:r},m:o},d=2){d===0&&r(e.targetAnchor,t,n);const{el:h,anchor:s,shapeFlag:b,children:R,props:J}=e,I=d===2;if(I&&r(h,t,n),(!I||Oy(J))&&b&16)for(let z=0;z<R.length;z++)o(R[z],t,n,2);I&&r(s,t,n)}function ZI(e,t,n,r,o,d,{o:{nextSibling:h,parentNode:s,querySelector:b}},R){const J=t.target=sT(t.props,b);if(J){const I=J._lpa||J.firstChild;if(t.shapeFlag&16)if(Oy(t.props))t.anchor=R(h(e),t,s(e),n,r,o,d),t.targetAnchor=I;else{t.anchor=h(e);let z=I;for(;z;)if(z=h(z),z&&z.nodeType===8&&z.data==="teleport anchor"){t.targetAnchor=z,J._lpa=t.targetAnchor&&h(t.targetAnchor);break}R(I,t,J,n,r,o,d)}Rk(t)}return t.anchor&&h(t.anchor)}const CS=XI;function Rk(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const ln=Symbol(void 0),gf=Symbol(void 0),gl=Symbol(void 0),of=Symbol(void 0),Ry=[];let Uc=null;function wt(e=!1){Ry.push(Uc=e?null:[])}function Bk(){Ry.pop(),Uc=Ry[Ry.length-1]||null}let G0=1;function Bx(e){G0+=e}function zk(e){return e.dynamicChildren=G0>0?Uc||mg:null,Bk(),G0>0&&Uc&&Uc.push(e),e}function Ot(e,t,n,r,o,d){return zk(Ye(e,t,n,r,o,d,!0))}function Ir(e,t,n,r,o){return zk(cn(e,t,n,r,o,!0))}function op(e){return e?e.__v_isVNode===!0:!1}function ih(e,t){return e.type===t.type&&e.key===t.key}function Nk(e){}const Bb="__vInternal",Fk=({key:e})=>e??null,xx=({ref:e,ref_key:t,ref_for:n})=>e!=null?Br(e)||ca(e)||wr(e)?{i:ml,r:e,k:t,f:!!n}:e:null;function Ye(e,t=null,n=null,r=0,o=null,d=e===ln?0:1,h=!1,s=!1){const b={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Fk(t),ref:t&&xx(t),scopeId:Pb,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ml};return s?(ES(b,n),d&128&&e.normalize(b)):n&&(b.shapeFlag|=Br(n)?8:16),G0>0&&!h&&Uc&&(b.patchFlag>0||d&6)&&b.patchFlag!==32&&Uc.push(b),b}const cn=KI;function KI(e,t=null,n=null,r=0,o=null,d=!1){if((!e||e===Sk)&&(e=gl),op(e)){const s=wu(e,t,!0);return n&&ES(s,n),G0>0&&!d&&Uc&&(s.shapeFlag&6?Uc[Uc.indexOf(e)]=s:Uc.push(s)),s.patchFlag|=-2,s}if(iL(e)&&(e=e.__vccOpts),t){t=Ol(t);let{class:s,style:b}=t;s&&!Br(s)&&(t.class=ar(s)),Ys(b)&&(Tb(b)&&!An(b)&&(b=Ds({},b)),t.style=el(b))}const h=Br(e)?1:fk(e)?128:qI(e)?64:Ys(e)?4:wr(e)?2:0;return Ye(e,t,n,r,o,h,d,!0)}function Ol(e){return e?Tb(e)||Bb in e?Ds({},e):e:null}function wu(e,t,n=!1){const{props:r,ref:o,patchFlag:d,children:h}=e,s=t?Yo(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Fk(s),ref:t&&t.ref?n&&o?An(o)?o.concat(xx(t)):[o,xx(t)]:xx(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ln?d===-1?16:d|16:d,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&wu(e.ssContent),ssFallback:e.ssFallback&&wu(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function ws(e=" ",t=0){return cn(gf,null,e,t)}function Mu(e,t){const n=cn(of,null,e);return n.staticCount=t,n}function yi(e="",t=!1){return t?(wt(),Ir(gl,null,e)):cn(gl,null,e)}function pd(e){return e==null||typeof e=="boolean"?cn(gl):An(e)?cn(ln,null,e.slice()):typeof e=="object"?Jp(e):cn(gf,null,String(e))}function Jp(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:wu(e)}function ES(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(An(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),ES(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Bb in t)?t._ctx=ml:o===3&&ml&&(ml.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else wr(t)?(t={default:t,_ctx:ml},n=32):(t=String(t),r&64?(n=16,t=[ws(t)]):n=8);e.children=t,e.shapeFlag|=n}function Yo(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=ar([t.class,r.class]));else if(o==="style")t.style=el([t.style,r.style]);else if(X0(o)){const d=t[o],h=r[o];h&&d!==h&&!(An(d)&&d.includes(h))&&(t[o]=d?[].concat(d,h):h)}else o!==""&&(t[o]=r[o])}return t}function Fc(e,t,n,r=null){Vc(e,t,7,[n,r])}const JI=Lk();let QI=0;function jk(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||JI,d={uid:QI++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new yb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ak(r,o),emitsOptions:hk(r,o),emit:null,emitted:null,propsDefaults:Gs,inheritAttrs:r.inheritAttrs,ctx:Gs,data:Gs,props:Gs,attrs:Gs,slots:Gs,refs:Gs,setupState:Gs,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=t?t.root:d,d.emit=_I.bind(null,d),e.ce&&e.ce(d),d}let Ba=null;const dp=()=>Ba||ml,yf=e=>{Ba=e,e.scope.on()},af=()=>{Ba&&Ba.scope.off(),Ba=null};function Uk(e){return e.vnode.shapeFlag&4}let Ag=!1;function $k(e,t=!1){Ag=t;const{props:n,children:r}=e.vnode,o=Uk(e);FI(e,n,o,t),$I(e,r);const d=o?eL(e,t):void 0;return Ag=!1,d}function eL(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Sb(new Proxy(e.ctx,tT));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?Wk(e):null;yf(e),Ug();const d=ch(r,e,0,[e.props,o]);if($g(),af(),KT(d)){if(d.then(af,af),t)return d.then(h=>{oT(e,h,t)}).catch(h=>{wf(h,e,0)});e.asyncDep=d}else oT(e,d,t)}else Gk(e,t)}function oT(e,t,n){wr(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ys(t)&&(e.setupState=Eb(t)),Gk(e,n)}let zx,aT;function MS(e){zx=e,aT=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,LI))}}const Vk=()=>!zx;function Gk(e,t,n){const r=e.type;if(!e.render){if(!t&&zx&&!r.render){const o=r.template||xS(e).template;if(o){const{isCustomElement:d,compilerOptions:h}=e.appContext.config,{delimiters:s,compilerOptions:b}=r,R=Ds(Ds({isCustomElement:d,delimiters:s},h),b);r.render=zx(o,R)}}e.render=r.render||gc,aT&&aT(e)}yf(e),Ug(),OI(e),$g(),af()}function tL(e){return new Proxy(e.attrs,{get(t,n){return yd(e,"get","$attrs"),t[n]}})}function Wk(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=tL(e))},slots:e.slots,emit:e.emit,expose:t}}function zb(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Eb(Sb(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ly)return Ly[n](e)},has(t,n){return n in t||n in Ly}}))}function lT(e,t=!0){return wr(e)?e.displayName||e.name:e.name||t&&e.__name}function iL(e){return wr(e)&&"__vccOpts"in e}const hn=(e,t)=>pI(e,t,Ag);function Hk(){return null}function Yk(){return null}function qk(e){}function Xk(e,t){return null}function f_(){return Zk().slots}function kS(){return Zk().attrs}function Zk(){const e=dp();return e.setupContext||(e.setupContext=Wk(e))}function Kk(e,t){const n=An(e)?e.reduce((r,o)=>(r[o]={},r),{}):e;for(const r in t){const o=n[r];o?An(o)||wr(o)?n[r]={type:o,default:t[r]}:o.default=t[r]:o===null&&(n[r]={default:t[r]})}return n}function Jk(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function Qk(e){const t=dp();let n=e();return af(),KT(n)&&(n=n.catch(r=>{throw yf(t),r})),[n,()=>yf(t)]}function jc(e,t,n){const r=arguments.length;return r===2?Ys(t)&&!An(t)?op(t)?cn(e,null,[t]):cn(e,t):cn(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&op(n)&&(n=[n]),cn(e,t,n))}const AS=Symbol(""),PS=()=>B0(AS);function eA(){}function tA(e,t,n,r){const o=n[r];if(o&&DS(o,e))return o;const d=t();return d.memo=e.slice(),n[r]=d}function DS(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(Mg(n[r],t[r]))return!1;return G0>0&&Uc&&Uc.push(e),!0}const IS="3.2.45",nL={createComponentInstance:jk,setupComponent:$k,renderComponentRoot:vx,setCurrentRenderingInstance:Yy,isVNode:op,normalizeVNode:pd},iA=nL,nA=null,rA=null,rL="http://www.w3.org/2000/svg",M0=typeof document<"u"?document:null,IC=M0&&M0.createElement("template"),sL={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?M0.createElementNS(rL,e):M0.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>M0.createTextNode(e),createComment:e=>M0.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>M0.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,d){const h=n?n.previousSibling:t.lastChild;if(o&&(o===d||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===d||!(o=o.nextSibling)););else{IC.innerHTML=r?`<svg>${e}</svg>`:e;const s=IC.content;if(r){const b=s.firstChild;for(;b.firstChild;)s.appendChild(b.firstChild);s.removeChild(b)}t.insertBefore(s,n)}return[h?h.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function oL(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function aL(e,t,n){const r=e.style,o=Br(n);if(n&&!o){for(const d in n)cT(r,d,n[d]);if(t&&!Br(t))for(const d in t)n[d]==null&&cT(r,d,"")}else{const d=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=d)}}const LC=/\s*!important$/;function cT(e,t,n){if(An(n))n.forEach(r=>cT(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=lL(e,t);LC.test(n)?e.setProperty(md(r),n.replace(LC,""),"important"):e[r]=n}}const OC=["Webkit","Moz","ms"],a3={};function lL(e,t){const n=a3[t];if(n)return n;let r=tl(t);if(r!=="filter"&&r in e)return a3[t]=r;r=bf(r);for(let o=0;o<OC.length;o++){const d=OC[o]+r;if(d in e)return a3[t]=d}return t}const RC="http://www.w3.org/1999/xlink";function cL(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(RC,t.slice(6,t.length)):e.setAttributeNS(RC,t,n);else{const d=MD(t);n==null||d&&!RM(n)?e.removeAttribute(t):e.setAttribute(t,d?"":n)}}function dL(e,t,n,r,o,d,h){if(t==="innerHTML"||t==="textContent"){r&&h(r,o,d),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const b=n??"";(e.value!==b||e.tagName==="OPTION")&&(e.value=b),n==null&&e.removeAttribute(t);return}let s=!1;if(n===""||n==null){const b=typeof e[t];b==="boolean"?n=RM(n):n==null&&b==="string"?(n="",s=!0):b==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(t)}function qh(e,t,n,r){e.addEventListener(t,n,r)}function uL(e,t,n,r){e.removeEventListener(t,n,r)}function hL(e,t,n,r,o=null){const d=e._vei||(e._vei={}),h=d[t];if(r&&h)h.value=r;else{const[s,b]=pL(t);if(r){const R=d[t]=gL(r,o);qh(e,s,R,b)}else h&&(uL(e,s,h,b),d[t]=void 0)}}const BC=/(?:Once|Passive|Capture)$/;function pL(e){let t;if(BC.test(e)){t={};let r;for(;r=e.match(BC);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):md(e.slice(2)),t]}let l3=0;const fL=Promise.resolve(),mL=()=>l3||(fL.then(()=>l3=0),l3=Date.now());function gL(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Vc(yL(r,n.value),t,5,[r])};return n.value=e,n.attached=mL(),n}function yL(e,t){if(An(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const zC=/^on[a-z]/,_L=(e,t,n,r,o=!1,d,h,s,b)=>{t==="class"?oL(e,r,o):t==="style"?aL(e,n,r):X0(t)?XT(t)||hL(e,t,n,r,h):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):vL(e,t,r,o))?dL(e,t,r,d,h,s,b):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),cL(e,t,r,o))};function vL(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&zC.test(t)&&wr(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||zC.test(t)&&Br(n)?!1:t in e}function LS(e,t){const n=vc(e);class r extends m_{constructor(d){super(n,d,t)}}return r.def=n,r}const sA=e=>LS(e,RS),xL=typeof HTMLElement<"u"?HTMLElement:class{};class m_ extends xL{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,yc(()=>{this._connected||(Nx(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const o of r)this._setAttr(o.attributeName)}).observe(this,{attributes:!0});const t=(r,o=!1)=>{const{props:d,styles:h}=r;let s;if(d&&!An(d))for(const b in d){const R=d[b];(R===Number||R&&R.type===Number)&&(b in this._props&&(this._props[b]=rp(this._props[b])),(s||(s=Object.create(null)))[tl(b)]=!0)}this._numberProps=s,o&&this._resolveProps(r),this._applyStyles(h),this._update()},n=this._def.__asyncLoader;n?n().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,r=An(n)?n:Object.keys(n||{});for(const o of Object.keys(this))o[0]!=="_"&&r.includes(o)&&this._setProp(o,this[o],!0,!1);for(const o of r.map(tl))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(d){this._setProp(o,d)}})}_setAttr(t){let n=this.getAttribute(t);const r=tl(t);this._numberProps&&this._numberProps[r]&&(n=rp(n)),this._setProp(r,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,o=!0){n!==this._props[t]&&(this._props[t]=n,o&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(md(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(md(t),n+""):n||this.removeAttribute(md(t))))}_update(){Nx(this._createVNode(),this.shadowRoot)}_createVNode(){const t=cn(this._def,Ds({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const r=(d,h)=>{this.dispatchEvent(new CustomEvent(d,{detail:h}))};n.emit=(d,...h)=>{r(d,h),md(d)!==d&&r(md(d),h)};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof m_){n.parent=o._instance,n.provides=o._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function oA(e="$style"){{const t=dp();if(!t)return Gs;const n=t.type.__cssModules;if(!n)return Gs;const r=n[e];return r||Gs}}function aA(e){const t=dp();if(!t)return;const n=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(d=>uT(d,o))},r=()=>{const o=e(t.proxy);dT(t.subTree,o),n(o)};dS(r),Ko(()=>{const o=new MutationObserver(r);o.observe(t.subTree.el.parentNode,{childList:!0}),hh(()=>o.disconnect())})}function dT(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{dT(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)uT(e.el,t);else if(e.type===ln)e.children.forEach(n=>dT(n,t));else if(e.type===of){let{el:n,anchor:r}=e;for(;n&&(uT(n,t),n!==r);)n=n.nextSibling}}function uT(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const Yp="transition",by="animation",ku=(e,{slots:t})=>jc(Ib,cA(e),t);ku.displayName="Transition";const lA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},bL=ku.props=Ds({},Ib.props,lA),_0=(e,t=[])=>{An(e)?e.forEach(n=>n(...t)):e&&e(...t)},NC=e=>e?An(e)?e.some(t=>t.length>1):e.length>1:!1;function cA(e){const t={};for(const w in e)w in lA||(t[w]=e[w]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:d=`${n}-enter-from`,enterActiveClass:h=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:b=d,appearActiveClass:R=h,appearToClass:J=s,leaveFromClass:I=`${n}-leave-from`,leaveActiveClass:z=`${n}-leave-active`,leaveToClass:Z=`${n}-leave-to`}=e,L=wL(o),O=L&&L[0],G=L&&L[1],{onBeforeEnter:M,onEnter:S,onEnterCancelled:P,onLeave:H,onLeaveCancelled:U,onBeforeAppear:E=M,onAppear:ie=S,onAppearCancelled:te=P}=t,$=(w,D,m)=>{Kp(w,D?J:s),Kp(w,D?R:h),m&&m()},V=(w,D)=>{w._isLeaving=!1,Kp(w,I),Kp(w,Z),Kp(w,z),D&&D()},j=w=>(D,m)=>{const g=w?ie:S,x=()=>$(D,w,m);_0(g,[D,x]),FC(()=>{Kp(D,w?b:d),Gh(D,w?J:s),NC(g)||jC(D,r,O,x)})};return Ds(t,{onBeforeEnter(w){_0(M,[w]),Gh(w,d),Gh(w,h)},onBeforeAppear(w){_0(E,[w]),Gh(w,b),Gh(w,R)},onEnter:j(!1),onAppear:j(!0),onLeave(w,D){w._isLeaving=!0;const m=()=>V(w,D);Gh(w,I),uA(),Gh(w,z),FC(()=>{w._isLeaving&&(Kp(w,I),Gh(w,Z),NC(H)||jC(w,r,G,m))}),_0(H,[w,m])},onEnterCancelled(w){$(w,!1),_0(P,[w])},onAppearCancelled(w){$(w,!0),_0(te,[w])},onLeaveCancelled(w){V(w),_0(U,[w])}})}function wL(e){if(e==null)return null;if(Ys(e))return[c3(e.enter),c3(e.leave)];{const t=c3(e);return[t,t]}}function c3(e){return rp(e)}function Gh(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Kp(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function FC(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let TL=0;function jC(e,t,n,r){const o=e._endId=++TL,d=()=>{o===e._endId&&r()};if(n)return setTimeout(d,n);const{type:h,timeout:s,propCount:b}=dA(e,t);if(!h)return r();const R=h+"end";let J=0;const I=()=>{e.removeEventListener(R,z),d()},z=Z=>{Z.target===e&&++J>=b&&I()};setTimeout(()=>{J<b&&I()},s+1),e.addEventListener(R,z)}function dA(e,t){const n=window.getComputedStyle(e),r=L=>(n[L]||"").split(", "),o=r(`${Yp}Delay`),d=r(`${Yp}Duration`),h=UC(o,d),s=r(`${by}Delay`),b=r(`${by}Duration`),R=UC(s,b);let J=null,I=0,z=0;t===Yp?h>0&&(J=Yp,I=h,z=d.length):t===by?R>0&&(J=by,I=R,z=b.length):(I=Math.max(h,R),J=I>0?h>R?Yp:by:null,z=J?J===Yp?d.length:b.length:0);const Z=J===Yp&&/\b(transform|all)(,|$)/.test(r(`${Yp}Property`).toString());return{type:J,timeout:I,propCount:z,hasTransform:Z}}function UC(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>$C(n)+$C(e[r])))}function $C(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function uA(){return document.body.offsetHeight}const hA=new WeakMap,pA=new WeakMap,SL={name:"TransitionGroup",props:Ds({},bL,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=dp(),r=Db();let o,d;return Q0(()=>{if(!o.length)return;const h=e.moveClass||`${e.name||"v"}-move`;if(!kL(o[0].el,n.vnode.el,h))return;o.forEach(CL),o.forEach(EL);const s=o.filter(ML);uA(),s.forEach(b=>{const R=b.el,J=R.style;Gh(R,h),J.transform=J.webkitTransform=J.transitionDuration="";const I=R._moveCb=z=>{z&&z.target!==R||(!z||/transform$/.test(z.propertyName))&&(R.removeEventListener("transitionend",I),R._moveCb=null,Kp(R,h))};R.addEventListener("transitionend",I)})}),()=>{const h=ds(e),s=cA(h);let b=h.tag||ln;o=d,d=t.default?u_(t.default()):[];for(let R=0;R<d.length;R++){const J=d[R];J.key!=null&&mf(J,V0(J,s,r,n))}if(o)for(let R=0;R<o.length;R++){const J=o[R];mf(J,V0(J,s,r,n)),hA.set(J,J.el.getBoundingClientRect())}return cn(b,null,d)}}},fA=SL;function CL(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function EL(e){pA.set(e,e.el.getBoundingClientRect())}function ML(e){const t=hA.get(e),n=pA.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const d=e.el.style;return d.transform=d.webkitTransform=`translate(${r}px,${o}px)`,d.transitionDuration="0s",e}}function kL(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(h=>{h.split(/\s+/).forEach(s=>s&&r.classList.remove(s))}),n.split(/\s+/).forEach(h=>h&&r.classList.add(h)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:d}=dA(r);return o.removeChild(r),d}const _f=e=>{const t=e.props["onUpdate:modelValue"]||!1;return An(t)?n=>yg(t,n):t};function AL(e){e.target.composing=!0}function VC(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Tu={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=_f(o);const d=r||o.props&&o.props.type==="number";qh(e,t?"change":"input",h=>{if(h.target.composing)return;let s=e.value;n&&(s=s.trim()),d&&(s=rp(s)),e._assign(s)}),n&&qh(e,"change",()=>{e.value=e.value.trim()}),t||(qh(e,"compositionstart",AL),qh(e,"compositionend",VC),qh(e,"change",VC))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},d){if(e._assign=_f(d),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(o||e.type==="number")&&rp(e.value)===t))return;const h=t??"";e.value!==h&&(e.value=h)}},lf={deep:!0,created(e,t,n){e._assign=_f(n),qh(e,"change",()=>{const r=e._modelValue,o=Pg(e),d=e.checked,h=e._assign;if(An(r)){const s=mb(r,o),b=s!==-1;if(d&&!b)h(r.concat(o));else if(!d&&b){const R=[...r];R.splice(s,1),h(R)}}else if(Z0(r)){const s=new Set(r);d?s.add(o):s.delete(o),h(s)}else h(mA(e,d))})},mounted:GC,beforeUpdate(e,t,n){e._assign=_f(n),GC(e,t,n)}};function GC(e,{value:t,oldValue:n},r){e._modelValue=t,An(t)?e.checked=mb(t,r.props.value)>-1:Z0(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=df(t,mA(e,!0)))}const Nb={created(e,{value:t},n){e.checked=df(t,n.props.value),e._assign=_f(n),qh(e,"change",()=>{e._assign(Pg(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=_f(r),t!==n&&(e.checked=df(t,r.props.value))}},vu={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=Z0(t);qh(e,"change",()=>{const d=Array.prototype.filter.call(e.options,h=>h.selected).map(h=>n?rp(Pg(h)):Pg(h));e._assign(e.multiple?o?new Set(d):d:d[0])}),e._assign=_f(r)},mounted(e,{value:t}){WC(e,t)},beforeUpdate(e,t,n){e._assign=_f(n)},updated(e,{value:t}){WC(e,t)}};function WC(e,t){const n=e.multiple;if(!(n&&!An(t)&&!Z0(t))){for(let r=0,o=e.options.length;r<o;r++){const d=e.options[r],h=Pg(d);if(n)An(t)?d.selected=mb(t,h)>-1:d.selected=t.has(h);else if(df(Pg(d),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Pg(e){return"_value"in e?e._value:e.value}function mA(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const OS={created(e,t,n){tx(e,t,n,null,"created")},mounted(e,t,n){tx(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){tx(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){tx(e,t,n,r,"updated")}};function gA(e,t){switch(e){case"SELECT":return vu;case"TEXTAREA":return Tu;default:switch(t){case"checkbox":return lf;case"radio":return Nb;default:return Tu}}}function tx(e,t,n,r,o){const h=gA(e.tagName,n.props&&n.props.type)[o];h&&h(e,t,n,r)}function PL(){Tu.getSSRProps=({value:e})=>({value:e}),Nb.getSSRProps=({value:e},t)=>{if(t.props&&df(t.props.value,e))return{checked:!0}},lf.getSSRProps=({value:e},t)=>{if(An(e)){if(t.props&&mb(e,t.props.value)>-1)return{checked:!0}}else if(Z0(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},OS.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=gA(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const DL=["ctrl","shift","alt","meta"],IL={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>DL.some(n=>e[`${n}Key`]&&!t.includes(n))},fc=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const d=IL[t[o]];if(d&&d(n,t))return}return e(n,...r)},LL={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},br=(e,t)=>n=>{if(!("key"in n))return;const r=md(n.key);if(t.some(o=>o===r||LL[o]===r))return e(n)},N0={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):wy(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),wy(e,!0),r.enter(e)):r.leave(e,()=>{wy(e,!1)}):wy(e,t))},beforeUnmount(e,{value:t}){wy(e,t)}};function wy(e,t){e.style.display=t?e._vod:"none"}function OL(){N0.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const yA=Ds({patchProp:_L},sL);let By,HC=!1;function _A(){return By||(By=wS(yA))}function vA(){return By=HC?By:TS(yA),HC=!0,By}const Nx=(...e)=>{_A().render(...e)},RS=(...e)=>{vA().hydrate(...e)},BS=(...e)=>{const t=_A().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=bA(r);if(!o)return;const d=t._component;!wr(d)&&!d.render&&!d.template&&(d.template=o.innerHTML),o.innerHTML="";const h=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),h},t},xA=(...e)=>{const t=vA().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=bA(r);if(o)return n(o,!0,o instanceof SVGElement)},t};function bA(e){return Br(e)?document.querySelector(e):e}let YC=!1;const wA=()=>{YC||(YC=!0,PL(),OL())},RL=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Ib,Comment:gl,EffectScope:yb,Fragment:ln,KeepAlive:wk,ReactiveEffect:jg,Static:of,Suspense:mk,Teleport:CS,Text:gf,Transition:ku,TransitionGroup:fA,VueElement:m_,callWithAsyncErrorHandling:Vc,callWithErrorHandling:ch,camelize:tl,capitalize:bf,cloneVNode:wu,compatUtils:rA,computed:hn,createApp:BS,createBlock:Ir,createCommentVNode:yi,createElementBlock:Ot,createElementVNode:Ye,createHydrationRenderer:TS,createPropsRestProxy:Jk,createRenderer:wS,createSSRApp:xA,createSlots:Bl,createStaticVNode:Mu,createTextVNode:ws,createVNode:cn,customRef:sk,defineAsyncComponent:bk,defineComponent:vc,defineCustomElement:LS,defineEmits:Yk,defineExpose:qk,defineProps:Hk,defineSSRCustomElement:sA,get devtools(){return E0},effect:VM,effectScope:FM,getCurrentInstance:dp,getCurrentScope:QT,getTransitionRawChildren:u_,guardReactiveProps:Ol,h:jc,handleError:wf,hydrate:RS,initCustomFormatter:eA,initDirectivesForSSR:wA,inject:B0,isMemoSame:DS,isProxy:Tb,isReactive:sf,isReadonly:pf,isRef:ca,isRuntimeOnly:Vk,isShallow:kg,isVNode:op,markRaw:Sb,mergeDefaults:Kk,mergeProps:Yo,nextTick:yc,normalizeClass:ar,normalizeProps:Ta,normalizeStyle:el,onActivated:uS,onBeforeMount:pS,onBeforeUnmount:em,onBeforeUpdate:p_,onDeactivated:hS,onErrorCaptured:yS,onMounted:Ko,onRenderTracked:gS,onRenderTriggered:mS,onScopeDispose:eS,onServerPrefetch:fS,onUnmounted:hh,onUpdated:Q0,openBlock:wt,popScopeId:J0,provide:Vg,proxyRefs:Eb,pushScopeId:K0,queuePostFlushCb:kb,reactive:Eu,readonly:bb,ref:sn,registerRuntimeCompiler:MS,render:Nx,renderList:Mr,renderSlot:xn,resolveComponent:Er,resolveDirective:Rb,resolveDynamicComponent:Ob,resolveFilter:nA,resolveTransitionHooks:V0,setBlockTracking:Bx,setDevtoolsHook:aS,setTransitionHooks:mf,shallowReactive:nS,shallowReadonly:tk,shallowRef:ik,ssrContextKey:AS,ssrUtils:iA,stop:GM,toDisplayString:Qi,toHandlerKey:O0,toHandlers:Ek,toRaw:ds,toRef:ff,toRefs:ok,transformVNodeArgs:Nk,triggerRef:rk,unref:Ii,useAttrs:kS,useCssModule:oA,useCssVars:aA,useSSRContext:PS,useSlots:f_,useTransitionState:Db,vModelCheckbox:lf,vModelDynamic:OS,vModelRadio:Nb,vModelSelect:vu,vModelText:Tu,vShow:N0,version:IS,warn:lk,watch:ha,watchEffect:yk,watchPostEffect:dS,watchSyncEffect:_k,withAsyncContext:Qk,withCtx:Yn,withDefaults:Xk,withDirectives:ho,withKeys:br,withMemo:tA,withModifiers:fc,withScopeId:pk},Symbol.toStringTag,{value:"Module"}));function zS(e){throw e}function TA(e){}function Lo(e,t,n,r){const o=e,d=new SyntaxError(String(o));return d.code=e,d.loc=t,d}const Xy=Symbol(""),zy=Symbol(""),NS=Symbol(""),Fx=Symbol(""),SA=Symbol(""),W0=Symbol(""),CA=Symbol(""),EA=Symbol(""),FS=Symbol(""),jS=Symbol(""),g_=Symbol(""),US=Symbol(""),MA=Symbol(""),$S=Symbol(""),jx=Symbol(""),VS=Symbol(""),GS=Symbol(""),WS=Symbol(""),HS=Symbol(""),kA=Symbol(""),AA=Symbol(""),Fb=Symbol(""),Ux=Symbol(""),YS=Symbol(""),qS=Symbol(""),Zy=Symbol(""),y_=Symbol(""),XS=Symbol(""),hT=Symbol(""),BL=Symbol(""),pT=Symbol(""),$x=Symbol(""),zL=Symbol(""),NL=Symbol(""),ZS=Symbol(""),FL=Symbol(""),jL=Symbol(""),KS=Symbol(""),PA=Symbol(""),Dg={[Xy]:"Fragment",[zy]:"Teleport",[NS]:"Suspense",[Fx]:"KeepAlive",[SA]:"BaseTransition",[W0]:"openBlock",[CA]:"createBlock",[EA]:"createElementBlock",[FS]:"createVNode",[jS]:"createElementVNode",[g_]:"createCommentVNode",[US]:"createTextVNode",[MA]:"createStaticVNode",[$S]:"resolveComponent",[jx]:"resolveDynamicComponent",[VS]:"resolveDirective",[GS]:"resolveFilter",[WS]:"withDirectives",[HS]:"renderList",[kA]:"renderSlot",[AA]:"createSlots",[Fb]:"toDisplayString",[Ux]:"mergeProps",[YS]:"normalizeClass",[qS]:"normalizeStyle",[Zy]:"normalizeProps",[y_]:"guardReactiveProps",[XS]:"toHandlers",[hT]:"camelize",[BL]:"capitalize",[pT]:"toHandlerKey",[$x]:"setBlockTracking",[zL]:"pushScopeId",[NL]:"popScopeId",[ZS]:"withCtx",[FL]:"unref",[jL]:"isRef",[KS]:"withMemo",[PA]:"isMemoSame"};function UL(e){Object.getOwnPropertySymbols(e).forEach(t=>{Dg[t]=e[t]})}const _d={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function $L(e,t=_d){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function Ky(e,t,n,r,o,d,h,s=!1,b=!1,R=!1,J=_d){return e&&(s?(e.helper(W0),e.helper(Og(e.inSSR,R))):e.helper(Lg(e.inSSR,R)),h&&e.helper(WS)),{type:13,tag:t,props:n,children:r,patchFlag:o,dynamicProps:d,directives:h,isBlock:s,disableTracking:b,isComponent:R,loc:J}}function __(e,t=_d){return{type:17,loc:t,elements:e}}function qd(e,t=_d){return{type:15,loc:t,properties:e}}function Xo(e,t){return{type:16,loc:_d,key:Br(e)?Wr(e,!0):e,value:t}}function Wr(e,t=!1,n=_d,r=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:r}}function bu(e,t=_d){return{type:8,loc:t,children:e}}function Sa(e,t=[],n=_d){return{type:14,loc:n,callee:e,arguments:t}}function Ig(e,t=void 0,n=!1,r=!1,o=_d){return{type:18,params:e,returns:t,newline:n,isSlot:r,loc:o}}function fT(e,t,n,r=!0){return{type:19,test:e,consequent:t,alternate:n,newline:r,loc:_d}}function VL(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:_d}}function GL(e){return{type:21,body:e,loc:_d}}const $c=e=>e.type===4&&e.isStatic,hg=(e,t)=>e===t||e===md(t);function DA(e){if(hg(e,"Teleport"))return zy;if(hg(e,"Suspense"))return NS;if(hg(e,"KeepAlive"))return Fx;if(hg(e,"BaseTransition"))return SA}const WL=/^\d|[^\$\w]/,JS=e=>!WL.test(e),HL=/[A-Za-z_$\xA0-\uFFFF]/,YL=/[\.\?\w$\xA0-\uFFFF]/,qL=/\s+[.[]\s*|\s*[.[]\s+/g,XL=e=>{e=e.trim().replace(qL,h=>h.trim());let t=0,n=[],r=0,o=0,d=null;for(let h=0;h<e.length;h++){const s=e.charAt(h);switch(t){case 0:if(s==="[")n.push(t),t=1,r++;else if(s==="(")n.push(t),t=2,o++;else if(!(h===0?HL:YL).test(s))return!1;break;case 1:s==="'"||s==='"'||s==="`"?(n.push(t),t=3,d=s):s==="["?r++:s==="]"&&(--r||(t=n.pop()));break;case 2:if(s==="'"||s==='"'||s==="`")n.push(t),t=3,d=s;else if(s==="(")o++;else if(s===")"){if(h===e.length-1)return!1;--o||(t=n.pop())}break;case 3:s===d&&(t=n.pop(),d=null);break}}return!r&&!o},IA=XL;function LA(e,t,n){const o={source:e.source.slice(t,t+n),start:Vx(e.start,e.source,t),end:e.end};return n!=null&&(o.end=Vx(e.start,e.source,t+n)),o}function Vx(e,t,n=t.length){return Gx(Ds({},e),t,n)}function Gx(e,t,n=t.length){let r=0,o=-1;for(let d=0;d<n;d++)t.charCodeAt(d)===10&&(r++,o=d);return e.offset+=n,e.line+=r,e.column=o===-1?e.column+n:n-o,e}function Hd(e,t,n=!1){for(let r=0;r<e.props.length;r++){const o=e.props[r];if(o.type===7&&(n||o.exp)&&(Br(t)?o.name===t:t.test(o.name)))return o}}function jb(e,t,n=!1,r=!1){for(let o=0;o<e.props.length;o++){const d=e.props[o];if(d.type===6){if(n)continue;if(d.name===t&&(d.value||r))return d}else if(d.name==="bind"&&(d.exp||r)&&A0(d.arg,t))return d}}function A0(e,t){return!!(e&&$c(e)&&e.content===t)}function ZL(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function d3(e){return e.type===5||e.type===2}function KL(e){return e.type===7&&e.name==="slot"}function Wx(e){return e.type===1&&e.tagType===3}function Hx(e){return e.type===1&&e.tagType===2}function Lg(e,t){return e||t?FS:jS}function Og(e,t){return e||t?CA:EA}const JL=new Set([Zy,y_]);function OA(e,t=[]){if(e&&!Br(e)&&e.type===14){const n=e.callee;if(!Br(n)&&JL.has(n))return OA(e.arguments[0],t.concat(e))}return[e,t]}function Yx(e,t,n){let r,o=e.type===13?e.props:e.arguments[2],d=[],h;if(o&&!Br(o)&&o.type===14){const s=OA(o);o=s[0],d=s[1],h=d[d.length-1]}if(o==null||Br(o))r=qd([t]);else if(o.type===14){const s=o.arguments[0];!Br(s)&&s.type===15?qC(t,s)||s.properties.unshift(t):o.callee===XS?r=Sa(n.helper(Ux),[qd([t]),o]):o.arguments.unshift(qd([t])),!r&&(r=o)}else o.type===15?(qC(t,o)||o.properties.unshift(t),r=o):(r=Sa(n.helper(Ux),[qd([t]),o]),h&&h.callee===y_&&(h=d[d.length-2]));e.type===13?h?h.arguments[0]=r:e.props=r:h?h.arguments[0]=r:e.arguments[2]=r}function qC(e,t){let n=!1;if(e.key.type===4){const r=e.key.content;n=t.properties.some(o=>o.key.type===4&&o.key.content===r)}return n}function Jy(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,r)=>n==="-"?"_":e.charCodeAt(r).toString())}`}function QL(e){return e.type===14&&e.callee===KS?e.arguments[1].returns:e}function QS(e,{helper:t,removeHelper:n,inSSR:r}){e.isBlock||(e.isBlock=!0,n(Lg(r,e.isComponent)),t(W0),t(Og(r,e.isComponent)))}function XC(e,t){const n=t.options?t.options.compatConfig:t.compatConfig,r=n&&n[e];return e==="MODE"?r||3:r}function F0(e,t){const n=XC("MODE",t),r=XC(e,t);return n===3?r===!0:r!==!1}function Qy(e,t,n,...r){return F0(e,t)}const eO=/&(gt|lt|amp|apos|quot);/g,tO={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},ZC={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:_x,isPreTag:_x,isCustomElement:_x,decodeEntities:e=>e.replace(eO,(t,n)=>tO[n]),onError:zS,onWarn:TA,comments:!1};function iO(e,t={}){const n=nO(e,t),r=gd(n);return $L(e5(n,0,[]),Kd(n,r))}function nO(e,t){const n=Ds({},ZC);let r;for(r in t)n[r]=t[r]===void 0?ZC[r]:t[r];return{options:n,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:n.onWarn}}function e5(e,t,n){const r=Ub(n),o=r?r.ns:0,d=[];for(;!hO(e,t,n);){const s=e.source;let b;if(t===0||t===1){if(!e.inVPre&&Nl(s,e.options.delimiters[0]))b=dO(e,t);else if(t===0&&s[0]==="<")if(s.length===1)Vs(e,5,1);else if(s[1]==="!")Nl(s,"<!--")?b=sO(e):Nl(s,"<!DOCTYPE")?b=Ty(e):Nl(s,"<![CDATA[")?o!==0?b=rO(e,n):(Vs(e,1),b=Ty(e)):(Vs(e,11),b=Ty(e));else if(s[1]==="/")if(s.length===2)Vs(e,5,2);else if(s[2]===">"){Vs(e,14,2),Na(e,3);continue}else if(/[a-z]/i.test(s[2])){Vs(e,23),mT(e,1,r);continue}else Vs(e,12,2),b=Ty(e);else/[a-z]/i.test(s[1])?(b=oO(e,n),F0("COMPILER_NATIVE_TEMPLATE",e)&&b&&b.tag==="template"&&!b.props.some(R=>R.type===7&&RA(R.name))&&(b=b.children)):s[1]==="?"?(Vs(e,21,1),b=Ty(e)):Vs(e,12,1)}if(b||(b=uO(e,t)),An(b))for(let R=0;R<b.length;R++)KC(d,b[R]);else KC(d,b)}let h=!1;if(t!==2&&t!==1){const s=e.options.whitespace!=="preserve";for(let b=0;b<d.length;b++){const R=d[b];if(R.type===2)if(e.inPre)R.content=R.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(R.content))s&&(R.content=R.content.replace(/[\t\r\n\f ]+/g," "));else{const J=d[b-1],I=d[b+1];!J||!I||s&&(J.type===3&&I.type===3||J.type===3&&I.type===1||J.type===1&&I.type===3||J.type===1&&I.type===1&&/[\r\n]/.test(R.content))?(h=!0,d[b]=null):R.content=" "}else R.type===3&&!e.options.comments&&(h=!0,d[b]=null)}if(e.inPre&&r&&e.options.isPreTag(r.tag)){const b=d[0];b&&b.type===2&&(b.content=b.content.replace(/^\r?\n/,""))}}return h?d.filter(Boolean):d}function KC(e,t){if(t.type===2){const n=Ub(e);if(n&&n.type===2&&n.loc.end.offset===t.loc.start.offset){n.content+=t.content,n.loc.end=t.loc.end,n.loc.source+=t.loc.source;return}}e.push(t)}function rO(e,t){Na(e,9);const n=e5(e,3,t);return e.source.length===0?Vs(e,6):Na(e,3),n}function sO(e){const t=gd(e);let n;const r=/--(\!)?>/.exec(e.source);if(!r)n=e.source.slice(4),Na(e,e.source.length),Vs(e,7);else{r.index<=3&&Vs(e,0),r[1]&&Vs(e,10),n=e.source.slice(4,r.index);const o=e.source.slice(0,r.index);let d=1,h=0;for(;(h=o.indexOf("<!--",d))!==-1;)Na(e,h-d+1),h+4<o.length&&Vs(e,16),d=h+1;Na(e,r.index+r[0].length-d+1)}return{type:3,content:n,loc:Kd(e,t)}}function Ty(e){const t=gd(e),n=e.source[1]==="?"?1:2;let r;const o=e.source.indexOf(">");return o===-1?(r=e.source.slice(n),Na(e,e.source.length)):(r=e.source.slice(n,o),Na(e,o+1)),{type:3,content:r,loc:Kd(e,t)}}function oO(e,t){const n=e.inPre,r=e.inVPre,o=Ub(t),d=mT(e,0,o),h=e.inPre&&!n,s=e.inVPre&&!r;if(d.isSelfClosing||e.options.isVoidTag(d.tag))return h&&(e.inPre=!1),s&&(e.inVPre=!1),d;t.push(d);const b=e.options.getTextMode(d,o),R=e5(e,b,t);t.pop();{const J=d.props.find(I=>I.type===6&&I.name==="inline-template");if(J&&Qy("COMPILER_INLINE_TEMPLATE",e,J.loc)){const I=Kd(e,d.loc.end);J.value={type:2,content:I.source,loc:I}}}if(d.children=R,gT(e.source,d.tag))mT(e,1,o);else if(Vs(e,24,0,d.loc.start),e.source.length===0&&d.tag.toLowerCase()==="script"){const J=R[0];J&&Nl(J.loc.source,"<!--")&&Vs(e,8)}return d.loc=Kd(e,d.loc.start),h&&(e.inPre=!1),s&&(e.inVPre=!1),d}const RA=Gc("if,else,else-if,for,slot");function mT(e,t,n){const r=gd(e),o=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),d=o[1],h=e.options.getNamespace(d,n);Na(e,o[0].length),e_(e);const s=gd(e),b=e.source;e.options.isPreTag(d)&&(e.inPre=!0);let R=JC(e,t);t===0&&!e.inVPre&&R.some(z=>z.type===7&&z.name==="pre")&&(e.inVPre=!0,Ds(e,s),e.source=b,R=JC(e,t).filter(z=>z.name!=="v-pre"));let J=!1;if(e.source.length===0?Vs(e,9):(J=Nl(e.source,"/>"),t===1&&J&&Vs(e,4),Na(e,J?2:1)),t===1)return;let I=0;return e.inVPre||(d==="slot"?I=2:d==="template"?R.some(z=>z.type===7&&RA(z.name))&&(I=3):aO(d,R,e)&&(I=1)),{type:1,ns:h,tag:d,tagType:I,props:R,isSelfClosing:J,children:[],loc:Kd(e,r),codegenNode:void 0}}function aO(e,t,n){const r=n.options;if(r.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||DA(e)||r.isBuiltInComponent&&r.isBuiltInComponent(e)||r.isNativeTag&&!r.isNativeTag(e))return!0;for(let o=0;o<t.length;o++){const d=t[o];if(d.type===6){if(d.name==="is"&&d.value){if(d.value.content.startsWith("vue:"))return!0;if(Qy("COMPILER_IS_ON_ELEMENT",n,d.loc))return!0}}else{if(d.name==="is")return!0;if(d.name==="bind"&&A0(d.arg,"is")&&Qy("COMPILER_IS_ON_ELEMENT",n,d.loc))return!0}}}function JC(e,t){const n=[],r=new Set;for(;e.source.length>0&&!Nl(e.source,">")&&!Nl(e.source,"/>");){if(Nl(e.source,"/")){Vs(e,22),Na(e,1),e_(e);continue}t===1&&Vs(e,3);const o=lO(e,r);o.type===6&&o.value&&o.name==="class"&&(o.value.content=o.value.content.replace(/\s+/g," ").trim()),t===0&&n.push(o),/^[^\t\r\n\f />]/.test(e.source)&&Vs(e,15),e_(e)}return n}function lO(e,t){const n=gd(e),o=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(o)&&Vs(e,2),t.add(o),o[0]==="="&&Vs(e,19);{const s=/["'<]/g;let b;for(;b=s.exec(o);)Vs(e,17,b.index)}Na(e,o.length);let d;/^[\t\r\n\f ]*=/.test(e.source)&&(e_(e),Na(e,1),e_(e),d=cO(e),d||Vs(e,13));const h=Kd(e,n);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(o)){const s=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(o);let b=Nl(o,"."),R=s[1]||(b||Nl(o,":")?"bind":Nl(o,"@")?"on":"slot"),J;if(s[2]){const z=R==="slot",Z=o.lastIndexOf(s[2]),L=Kd(e,QC(e,n,Z),QC(e,n,Z+s[2].length+(z&&s[3]||"").length));let O=s[2],G=!0;O.startsWith("[")?(G=!1,O.endsWith("]")?O=O.slice(1,O.length-1):(Vs(e,27),O=O.slice(1))):z&&(O+=s[3]||""),J={type:4,content:O,isStatic:G,constType:G?3:0,loc:L}}if(d&&d.isQuoted){const z=d.loc;z.start.offset++,z.start.column++,z.end=Vx(z.start,d.content),z.source=z.source.slice(1,-1)}const I=s[3]?s[3].slice(1).split("."):[];return b&&I.push("prop"),R==="bind"&&J&&I.includes("sync")&&Qy("COMPILER_V_BIND_SYNC",e,h,J.loc.source)&&(R="model",I.splice(I.indexOf("sync"),1)),{type:7,name:R,exp:d&&{type:4,content:d.content,isStatic:!1,constType:0,loc:d.loc},arg:J,modifiers:I,loc:h}}return!e.inVPre&&Nl(o,"v-")&&Vs(e,26),{type:6,name:o,value:d&&{type:2,content:d.content,loc:d.loc},loc:h}}function cO(e){const t=gd(e);let n;const r=e.source[0],o=r==='"'||r==="'";if(o){Na(e,1);const d=e.source.indexOf(r);d===-1?n=Ny(e,e.source.length,4):(n=Ny(e,d,4),Na(e,1))}else{const d=/^[^\t\r\n\f >]+/.exec(e.source);if(!d)return;const h=/["'<=`]/g;let s;for(;s=h.exec(d[0]);)Vs(e,18,s.index);n=Ny(e,d[0].length,4)}return{content:n,isQuoted:o,loc:Kd(e,t)}}function dO(e,t){const[n,r]=e.options.delimiters,o=e.source.indexOf(r,n.length);if(o===-1){Vs(e,25);return}const d=gd(e);Na(e,n.length);const h=gd(e),s=gd(e),b=o-n.length,R=e.source.slice(0,b),J=Ny(e,b,t),I=J.trim(),z=J.indexOf(I);z>0&&Gx(h,R,z);const Z=b-(J.length-I.length-z);return Gx(s,R,Z),Na(e,r.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:I,loc:Kd(e,h,s)},loc:Kd(e,d)}}function uO(e,t){const n=t===3?["]]>"]:["<",e.options.delimiters[0]];let r=e.source.length;for(let h=0;h<n.length;h++){const s=e.source.indexOf(n[h],1);s!==-1&&r>s&&(r=s)}const o=gd(e);return{type:2,content:Ny(e,r,t),loc:Kd(e,o)}}function Ny(e,t,n){const r=e.source.slice(0,t);return Na(e,t),n===2||n===3||!r.includes("&")?r:e.options.decodeEntities(r,n===4)}function gd(e){const{column:t,line:n,offset:r}=e;return{column:t,line:n,offset:r}}function Kd(e,t,n){return n=n||gd(e),{start:t,end:n,source:e.originalSource.slice(t.offset,n.offset)}}function Ub(e){return e[e.length-1]}function Nl(e,t){return e.startsWith(t)}function Na(e,t){const{source:n}=e;Gx(e,n,t),e.source=n.slice(t)}function e_(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&Na(e,t[0].length)}function QC(e,t,n){return Vx(t,e.originalSource.slice(t.offset,n),n)}function Vs(e,t,n,r=gd(e)){n&&(r.offset+=n,r.column+=n),e.options.onError(Lo(t,{start:r,end:r,source:""}))}function hO(e,t,n){const r=e.source;switch(t){case 0:if(Nl(r,"</")){for(let o=n.length-1;o>=0;--o)if(gT(r,n[o].tag))return!0}break;case 1:case 2:{const o=Ub(n);if(o&&gT(r,o.tag))return!0;break}case 3:if(Nl(r,"]]>"))return!0;break}return!r}function gT(e,t){return Nl(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function pO(e,t){bx(e,t,BA(e,e.children[0]))}function BA(e,t){const{children:n}=e;return n.length===1&&t.type===1&&!Hx(t)}function bx(e,t,n=!1){const{children:r}=e,o=r.length;let d=0;for(let h=0;h<r.length;h++){const s=r[h];if(s.type===1&&s.tagType===0){const b=n?0:Xd(s,t);if(b>0){if(b>=2){s.codegenNode.patchFlag="-1",s.codegenNode=t.hoist(s.codegenNode),d++;continue}}else{const R=s.codegenNode;if(R.type===13){const J=jA(R);if((!J||J===512||J===1)&&NA(s,t)>=2){const I=FA(s);I&&(R.props=t.hoist(I))}R.dynamicProps&&(R.dynamicProps=t.hoist(R.dynamicProps))}}}if(s.type===1){const b=s.tagType===1;b&&t.scopes.vSlot++,bx(s,t),b&&t.scopes.vSlot--}else if(s.type===11)bx(s,t,s.children.length===1);else if(s.type===9)for(let b=0;b<s.branches.length;b++)bx(s.branches[b],t,s.branches[b].children.length===1)}d&&t.transformHoist&&t.transformHoist(r,t,e),d&&d===o&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&An(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(__(e.codegenNode.children)))}function Xd(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=n.get(e);if(r!==void 0)return r;const o=e.codegenNode;if(o.type!==13||o.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(jA(o))return n.set(e,0),0;{let s=3;const b=NA(e,t);if(b===0)return n.set(e,0),0;b<s&&(s=b);for(let R=0;R<e.children.length;R++){const J=Xd(e.children[R],t);if(J===0)return n.set(e,0),0;J<s&&(s=J)}if(s>1)for(let R=0;R<e.props.length;R++){const J=e.props[R];if(J.type===7&&J.name==="bind"&&J.exp){const I=Xd(J.exp,t);if(I===0)return n.set(e,0),0;I<s&&(s=I)}}if(o.isBlock){for(let R=0;R<e.props.length;R++)if(e.props[R].type===7)return n.set(e,0),0;t.removeHelper(W0),t.removeHelper(Og(t.inSSR,o.isComponent)),o.isBlock=!1,t.helper(Lg(t.inSSR,o.isComponent))}return n.set(e,s),s}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Xd(e.content,t);case 4:return e.constType;case 8:let h=3;for(let s=0;s<e.children.length;s++){const b=e.children[s];if(Br(b)||uf(b))continue;const R=Xd(b,t);if(R===0)return 0;R<h&&(h=R)}return h;default:return 0}}const fO=new Set([YS,qS,Zy,y_]);function zA(e,t){if(e.type===14&&!Br(e.callee)&&fO.has(e.callee)){const n=e.arguments[0];if(n.type===4)return Xd(n,t);if(n.type===14)return zA(n,t)}return 0}function NA(e,t){let n=3;const r=FA(e);if(r&&r.type===15){const{properties:o}=r;for(let d=0;d<o.length;d++){const{key:h,value:s}=o[d],b=Xd(h,t);if(b===0)return b;b<n&&(n=b);let R;if(s.type===4?R=Xd(s,t):s.type===14?R=zA(s,t):R=0,R===0)return R;R<n&&(n=R)}}return n}function FA(e){const t=e.codegenNode;if(t.type===13)return t.props}function jA(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function mO(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:r=!1,cacheHandlers:o=!1,nodeTransforms:d=[],directiveTransforms:h={},transformHoist:s=null,isBuiltInComponent:b=gc,isCustomElement:R=gc,expressionPlugins:J=[],scopeId:I=null,slotted:z=!0,ssr:Z=!1,inSSR:L=!1,ssrCssVars:O="",bindingMetadata:G=Gs,inline:M=!1,isTS:S=!1,onError:P=zS,onWarn:H=TA,compatConfig:U}){const E=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),ie={selfName:E&&bf(tl(E[1])),prefixIdentifiers:n,hoistStatic:r,cacheHandlers:o,nodeTransforms:d,directiveTransforms:h,transformHoist:s,isBuiltInComponent:b,isCustomElement:R,expressionPlugins:J,scopeId:I,slotted:z,ssr:Z,inSSR:L,ssrCssVars:O,bindingMetadata:G,inline:M,isTS:S,onError:P,onWarn:H,compatConfig:U,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(te){const $=ie.helpers.get(te)||0;return ie.helpers.set(te,$+1),te},removeHelper(te){const $=ie.helpers.get(te);if($){const V=$-1;V?ie.helpers.set(te,V):ie.helpers.delete(te)}},helperString(te){return`_${Dg[ie.helper(te)]}`},replaceNode(te){ie.parent.children[ie.childIndex]=ie.currentNode=te},removeNode(te){const $=ie.parent.children,V=te?$.indexOf(te):ie.currentNode?ie.childIndex:-1;!te||te===ie.currentNode?(ie.currentNode=null,ie.onNodeRemoved()):ie.childIndex>V&&(ie.childIndex--,ie.onNodeRemoved()),ie.parent.children.splice(V,1)},onNodeRemoved:()=>{},addIdentifiers(te){},removeIdentifiers(te){},hoist(te){Br(te)&&(te=Wr(te)),ie.hoists.push(te);const $=Wr(`_hoisted_${ie.hoists.length}`,!1,te.loc,2);return $.hoisted=te,$},cache(te,$=!1){return VL(ie.cached++,te,$)}};return ie.filters=new Set,ie}function gO(e,t){const n=mO(e,t);$b(e,n),t.hoistStatic&&pO(e,n),t.ssr||yO(e,n),e.helpers=[...n.helpers.keys()],e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.filters=[...n.filters]}function yO(e,t){const{helper:n}=t,{children:r}=e;if(r.length===1){const o=r[0];if(BA(e,o)&&o.codegenNode){const d=o.codegenNode;d.type===13&&QS(d,t),e.codegenNode=d}else e.codegenNode=o}else if(r.length>1){let o=64;e.codegenNode=Ky(t,n(Xy),void 0,e.children,o+"",void 0,void 0,!0,void 0,!1)}}function _O(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const o=e.children[n];Br(o)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=r,$b(o,t))}}function $b(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let d=0;d<n.length;d++){const h=n[d](e,t);if(h&&(An(h)?r.push(...h):r.push(h)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(g_);break;case 5:t.ssr||t.helper(Fb);break;case 9:for(let d=0;d<e.branches.length;d++)$b(e.branches[d],t);break;case 10:case 11:case 1:case 0:_O(e,t);break}t.currentNode=e;let o=r.length;for(;o--;)r[o]()}function UA(e,t){const n=Br(e)?r=>r===e:r=>e.test(r);return(r,o)=>{if(r.type===1){const{props:d}=r;if(r.tagType===3&&d.some(KL))return;const h=[];for(let s=0;s<d.length;s++){const b=d[s];if(b.type===7&&n(b.name)){d.splice(s,1),s--;const R=t(r,b,o);R&&h.push(R)}}return h}}}const Vb="/*#__PURE__*/",$A=e=>`${Dg[e]}: _${Dg[e]}`;function vO(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:r=!1,filename:o="template.vue.html",scopeId:d=null,optimizeImports:h=!1,runtimeGlobalName:s="Vue",runtimeModuleName:b="vue",ssrRuntimeModuleName:R="vue/server-renderer",ssr:J=!1,isTS:I=!1,inSSR:z=!1}){const Z={mode:t,prefixIdentifiers:n,sourceMap:r,filename:o,scopeId:d,optimizeImports:h,runtimeGlobalName:s,runtimeModuleName:b,ssrRuntimeModuleName:R,ssr:J,isTS:I,inSSR:z,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(O){return`_${Dg[O]}`},push(O,G){Z.code+=O},indent(){L(++Z.indentLevel)},deindent(O=!1){O?--Z.indentLevel:L(--Z.indentLevel)},newline(){L(Z.indentLevel)}};function L(O){Z.push(`
`+"  ".repeat(O))}return Z}function xO(e,t={}){const n=vO(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:r,push:o,prefixIdentifiers:d,indent:h,deindent:s,newline:b,scopeId:R,ssr:J}=n,I=e.helpers.length>0,z=!d&&r!=="module";bO(e,n);const L=J?"ssrRender":"render",G=(J?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(o(`function ${L}(${G}) {`),h(),z&&(o("with (_ctx) {"),h(),I&&(o(`const { ${e.helpers.map($A).join(", ")} } = _Vue`),o(`
`),b())),e.components.length&&(u3(e.components,"component",n),(e.directives.length||e.temps>0)&&b()),e.directives.length&&(u3(e.directives,"directive",n),e.temps>0&&b()),e.filters&&e.filters.length&&(b(),u3(e.filters,"filter",n),b()),e.temps>0){o("let ");for(let M=0;M<e.temps;M++)o(`${M>0?", ":""}_temp${M}`)}return(e.components.length||e.directives.length||e.temps)&&(o(`
`),b()),J||o("return "),e.codegenNode?Fl(e.codegenNode,n):o("null"),z&&(s(),o("}")),s(),o("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function bO(e,t){const{ssr:n,prefixIdentifiers:r,push:o,newline:d,runtimeModuleName:h,runtimeGlobalName:s,ssrRuntimeModuleName:b}=t,R=s;if(e.helpers.length>0&&(o(`const _Vue = ${R}
`),e.hoists.length)){const J=[FS,jS,g_,US,MA].filter(I=>e.helpers.includes(I)).map($A).join(", ");o(`const { ${J} } = _Vue
`)}wO(e.hoists,t),d(),o("return ")}function u3(e,t,{helper:n,push:r,newline:o,isTS:d}){const h=n(t==="filter"?GS:t==="component"?$S:VS);for(let s=0;s<e.length;s++){let b=e[s];const R=b.endsWith("__self");R&&(b=b.slice(0,-6)),r(`const ${Jy(b,t)} = ${h}(${JSON.stringify(b)}${R?", true":""})${d?"!":""}`),s<e.length-1&&o()}}function wO(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:r,helper:o,scopeId:d,mode:h}=t;r();for(let s=0;s<e.length;s++){const b=e[s];b&&(n(`const _hoisted_${s+1} = `),Fl(b,t),r())}t.pure=!1}function t5(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),v_(e,t,n),n&&t.deindent(),t.push("]")}function v_(e,t,n=!1,r=!0){const{push:o,newline:d}=t;for(let h=0;h<e.length;h++){const s=e[h];Br(s)?o(s):An(s)?t5(s,t):Fl(s,t),h<e.length-1&&(n?(r&&o(","),d()):r&&o(", "))}}function Fl(e,t){if(Br(e)){t.push(e);return}if(uf(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Fl(e.codegenNode,t);break;case 2:TO(e,t);break;case 4:VA(e,t);break;case 5:SO(e,t);break;case 12:Fl(e.codegenNode,t);break;case 8:GA(e,t);break;case 3:EO(e,t);break;case 13:MO(e,t);break;case 14:AO(e,t);break;case 15:PO(e,t);break;case 17:DO(e,t);break;case 18:IO(e,t);break;case 19:LO(e,t);break;case 20:OO(e,t);break;case 21:v_(e.body,t,!0,!1);break}}function TO(e,t){t.push(JSON.stringify(e.content),e)}function VA(e,t){const{content:n,isStatic:r}=e;t.push(r?JSON.stringify(n):n,e)}function SO(e,t){const{push:n,helper:r,pure:o}=t;o&&n(Vb),n(`${r(Fb)}(`),Fl(e.content,t),n(")")}function GA(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];Br(r)?t.push(r):Fl(r,t)}}function CO(e,t){const{push:n}=t;if(e.type===8)n("["),GA(e,t),n("]");else if(e.isStatic){const r=JS(e.content)?e.content:JSON.stringify(e.content);n(r,e)}else n(`[${e.content}]`,e)}function EO(e,t){const{push:n,helper:r,pure:o}=t;o&&n(Vb),n(`${r(g_)}(${JSON.stringify(e.content)})`,e)}function MO(e,t){const{push:n,helper:r,pure:o}=t,{tag:d,props:h,children:s,patchFlag:b,dynamicProps:R,directives:J,isBlock:I,disableTracking:z,isComponent:Z}=e;J&&n(r(WS)+"("),I&&n(`(${r(W0)}(${z?"true":""}), `),o&&n(Vb);const L=I?Og(t.inSSR,Z):Lg(t.inSSR,Z);n(r(L)+"(",e),v_(kO([d,h,s,b,R]),t),n(")"),I&&n(")"),J&&(n(", "),Fl(J,t),n(")"))}function kO(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function AO(e,t){const{push:n,helper:r,pure:o}=t,d=Br(e.callee)?e.callee:r(e.callee);o&&n(Vb),n(d+"(",e),v_(e.arguments,t),n(")")}function PO(e,t){const{push:n,indent:r,deindent:o,newline:d}=t,{properties:h}=e;if(!h.length){n("{}",e);return}const s=h.length>1||!1;n(s?"{":"{ "),s&&r();for(let b=0;b<h.length;b++){const{key:R,value:J}=h[b];CO(R,t),n(": "),Fl(J,t),b<h.length-1&&(n(","),d())}s&&o(),n(s?"}":" }")}function DO(e,t){t5(e.elements,t)}function IO(e,t){const{push:n,indent:r,deindent:o}=t,{params:d,returns:h,body:s,newline:b,isSlot:R}=e;R&&n(`_${Dg[ZS]}(`),n("(",e),An(d)?v_(d,t):d&&Fl(d,t),n(") => "),(b||s)&&(n("{"),r()),h?(b&&n("return "),An(h)?t5(h,t):Fl(h,t)):s&&Fl(s,t),(b||s)&&(o(),n("}")),R&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function LO(e,t){const{test:n,consequent:r,alternate:o,newline:d}=e,{push:h,indent:s,deindent:b,newline:R}=t;if(n.type===4){const I=!JS(n.content);I&&h("("),VA(n,t),I&&h(")")}else h("("),Fl(n,t),h(")");d&&s(),t.indentLevel++,d||h(" "),h("? "),Fl(r,t),t.indentLevel--,d&&R(),d||h(" "),h(": ");const J=o.type===19;J||t.indentLevel++,Fl(o,t),J||t.indentLevel--,d&&b(!0)}function OO(e,t){const{push:n,helper:r,indent:o,deindent:d,newline:h}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(o(),n(`${r($x)}(-1),`),h()),n(`_cache[${e.index}] = `),Fl(e.value,t),e.isVNode&&(n(","),h(),n(`${r($x)}(1),`),h(),n(`_cache[${e.index}]`),d()),n(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const RO=UA(/^(if|else|else-if)$/,(e,t,n)=>BO(e,t,n,(r,o,d)=>{const h=n.parent.children;let s=h.indexOf(r),b=0;for(;s-->=0;){const R=h[s];R&&R.type===9&&(b+=R.branches.length)}return()=>{if(d)r.codegenNode=tE(o,b,n);else{const R=zO(r.codegenNode);R.alternate=tE(o,b+r.branches.length-1,n)}}}));function BO(e,t,n,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const o=t.exp?t.exp.loc:e.loc;n.onError(Lo(28,t.loc)),t.exp=Wr("true",!1,o)}if(t.name==="if"){const o=eE(e,t),d={type:9,loc:e.loc,branches:[o]};if(n.replaceNode(d),r)return r(d,o,!0)}else{const o=n.parent.children;let d=o.indexOf(e);for(;d-->=-1;){const h=o[d];if(h&&h.type===3){n.removeNode(h);continue}if(h&&h.type===2&&!h.content.trim().length){n.removeNode(h);continue}if(h&&h.type===9){t.name==="else-if"&&h.branches[h.branches.length-1].condition===void 0&&n.onError(Lo(30,e.loc)),n.removeNode();const s=eE(e,t);h.branches.push(s);const b=r&&r(h,s,!1);$b(s,n),b&&b(),n.currentNode=null}else n.onError(Lo(30,e.loc));break}}}function eE(e,t){const n=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:n&&!Hd(e,"for")?e.children:[e],userKey:jb(e,"key"),isTemplateIf:n}}function tE(e,t,n){return e.condition?fT(e.condition,iE(e,t,n),Sa(n.helper(g_),['""',"true"])):iE(e,t,n)}function iE(e,t,n){const{helper:r}=n,o=Xo("key",Wr(`${t}`,!1,_d,2)),{children:d}=e,h=d[0];if(d.length!==1||h.type!==1)if(d.length===1&&h.type===11){const b=h.codegenNode;return Yx(b,o,n),b}else{let b=64;return Ky(n,r(Xy),qd([o]),d,b+"",void 0,void 0,!0,!1,!1,e.loc)}else{const b=h.codegenNode,R=QL(b);return R.type===13&&QS(R,n),Yx(R,o,n),b}}function zO(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const NO=UA("for",(e,t,n)=>{const{helper:r,removeHelper:o}=n;return FO(e,t,n,d=>{const h=Sa(r(HS),[d.source]),s=Wx(e),b=Hd(e,"memo"),R=jb(e,"key"),J=R&&(R.type===6?Wr(R.value.content,!0):R.exp),I=R?Xo("key",J):null,z=d.source.type===4&&d.source.constType>0,Z=z?64:R?128:256;return d.codegenNode=Ky(n,r(Xy),void 0,h,Z+"",void 0,void 0,!0,!z,!1,e.loc),()=>{let L;const{children:O}=d,G=O.length!==1||O[0].type!==1,M=Hx(e)?e:s&&e.children.length===1&&Hx(e.children[0])?e.children[0]:null;if(M?(L=M.codegenNode,s&&I&&Yx(L,I,n)):G?L=Ky(n,r(Xy),I?qd([I]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(L=O[0].codegenNode,s&&I&&Yx(L,I,n),L.isBlock!==!z&&(L.isBlock?(o(W0),o(Og(n.inSSR,L.isComponent))):o(Lg(n.inSSR,L.isComponent))),L.isBlock=!z,L.isBlock?(r(W0),r(Og(n.inSSR,L.isComponent))):r(Lg(n.inSSR,L.isComponent))),b){const S=Ig(yT(d.parseResult,[Wr("_cached")]));S.body=GL([bu(["const _memo = (",b.exp,")"]),bu(["if (_cached",...J?[" && _cached.key === ",J]:[],` && ${n.helperString(PA)}(_cached, _memo)) return _cached`]),bu(["const _item = ",L]),Wr("_item.memo = _memo"),Wr("return _item")]),h.arguments.push(S,Wr("_cache"),Wr(String(n.cached++)))}else h.arguments.push(Ig(yT(d.parseResult),L,!0))}})});function FO(e,t,n,r){if(!t.exp){n.onError(Lo(31,t.loc));return}const o=WA(t.exp);if(!o){n.onError(Lo(32,t.loc));return}const{addIdentifiers:d,removeIdentifiers:h,scopes:s}=n,{source:b,value:R,key:J,index:I}=o,z={type:11,loc:t.loc,source:b,valueAlias:R,keyAlias:J,objectIndexAlias:I,parseResult:o,children:Wx(e)?e.children:[e]};n.replaceNode(z),s.vFor++;const Z=r&&r(z);return()=>{s.vFor--,Z&&Z()}}const jO=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,nE=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,UO=/^\(|\)$/g;function WA(e,t){const n=e.loc,r=e.content,o=r.match(jO);if(!o)return;const[,d,h]=o,s={source:ix(n,h.trim(),r.indexOf(h,d.length)),value:void 0,key:void 0,index:void 0};let b=d.trim().replace(UO,"").trim();const R=d.indexOf(b),J=b.match(nE);if(J){b=b.replace(nE,"").trim();const I=J[1].trim();let z;if(I&&(z=r.indexOf(I,R+b.length),s.key=ix(n,I,z)),J[2]){const Z=J[2].trim();Z&&(s.index=ix(n,Z,r.indexOf(Z,s.key?z+I.length:R+b.length)))}}return b&&(s.value=ix(n,b,R)),s}function ix(e,t,n){return Wr(t,!1,LA(e,n,t.length))}function yT({value:e,key:t,index:n},r=[]){return $O([e,t,n,...r])}function $O(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,r)=>n||Wr("_".repeat(r+1),!1))}const rE=Wr("undefined",!1),VO=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=Hd(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},GO=(e,t,n)=>Ig(e,t,!1,!0,t.length?t[0].loc:n);function WO(e,t,n=GO){t.helper(ZS);const{children:r,loc:o}=e,d=[],h=[];let s=t.scopes.vSlot>0||t.scopes.vFor>0;const b=Hd(e,"slot",!0);if(b){const{arg:G,exp:M}=b;G&&!$c(G)&&(s=!0),d.push(Xo(G||Wr("default",!0),n(M,r,o)))}let R=!1,J=!1;const I=[],z=new Set;let Z=0;for(let G=0;G<r.length;G++){const M=r[G];let S;if(!Wx(M)||!(S=Hd(M,"slot",!0))){M.type!==3&&I.push(M);continue}if(b){t.onError(Lo(37,S.loc));break}R=!0;const{children:P,loc:H}=M,{arg:U=Wr("default",!0),exp:E,loc:ie}=S;let te;$c(U)?te=U?U.content:"default":s=!0;const $=n(E,P,H);let V,j,w;if(V=Hd(M,"if"))s=!0,h.push(fT(V.exp,nx(U,$,Z++),rE));else if(j=Hd(M,/^else(-if)?$/,!0)){let D=G,m;for(;D--&&(m=r[D],m.type===3););if(m&&Wx(m)&&Hd(m,"if")){r.splice(G,1),G--;let g=h[h.length-1];for(;g.alternate.type===19;)g=g.alternate;g.alternate=j.exp?fT(j.exp,nx(U,$,Z++),rE):nx(U,$,Z++)}else t.onError(Lo(30,j.loc))}else if(w=Hd(M,"for")){s=!0;const D=w.parseResult||WA(w.exp);D?h.push(Sa(t.helper(HS),[D.source,Ig(yT(D),nx(U,$),!0)])):t.onError(Lo(32,w.loc))}else{if(te){if(z.has(te)){t.onError(Lo(38,ie));continue}z.add(te),te==="default"&&(J=!0)}d.push(Xo(U,$))}}if(!b){const G=(M,S)=>{const P=n(M,S,o);return t.compatConfig&&(P.isNonScopedSlot=!0),Xo("default",P)};R?I.length&&I.some(M=>HA(M))&&(J?t.onError(Lo(39,I[0].loc)):d.push(G(void 0,I))):d.push(G(void 0,r))}const L=s?2:wx(e.children)?3:1;let O=qd(d.concat(Xo("_",Wr(L+"",!1))),o);return h.length&&(O=Sa(t.helper(AA),[O,__(h)])),{slots:O,hasDynamicSlots:s}}function nx(e,t,n){const r=[Xo("name",e),Xo("fn",t)];return n!=null&&r.push(Xo("key",Wr(String(n),!0))),qd(r)}function wx(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||wx(n.children))return!0;break;case 9:if(wx(n.branches))return!0;break;case 10:case 11:if(wx(n.children))return!0;break}}return!1}function HA(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():HA(e.content)}const YA=new WeakMap,HO=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:o}=e,d=e.tagType===1;let h=d?YO(e,t):`"${r}"`;const s=Ys(h)&&h.callee===jx;let b,R,J,I=0,z,Z,L,O=s||h===zy||h===NS||!d&&(r==="svg"||r==="foreignObject");if(o.length>0){const G=qA(e,t,void 0,d,s);b=G.props,I=G.patchFlag,Z=G.dynamicPropNames;const M=G.directives;L=M&&M.length?__(M.map(S=>XO(S,t))):void 0,G.shouldUseBlock&&(O=!0)}if(e.children.length>0)if(h===Fx&&(O=!0,I|=1024),d&&h!==zy&&h!==Fx){const{slots:M,hasDynamicSlots:S}=WO(e,t);R=M,S&&(I|=1024)}else if(e.children.length===1&&h!==zy){const M=e.children[0],S=M.type,P=S===5||S===8;P&&Xd(M,t)===0&&(I|=1),P||S===2?R=M:R=e.children}else R=e.children;I!==0&&(J=String(I),Z&&Z.length&&(z=ZO(Z))),e.codegenNode=Ky(t,h,b,R,J,z,L,!!O,!1,d,e.loc)};function YO(e,t,n=!1){let{tag:r}=e;const o=_T(r),d=jb(e,"is");if(d)if(o||F0("COMPILER_IS_ON_ELEMENT",t)){const b=d.type===6?d.value&&Wr(d.value.content,!0):d.exp;if(b)return Sa(t.helper(jx),[b])}else d.type===6&&d.value.content.startsWith("vue:")&&(r=d.value.content.slice(4));const h=!o&&Hd(e,"is");if(h&&h.exp)return Sa(t.helper(jx),[h.exp]);const s=DA(r)||t.isBuiltInComponent(r);return s?(n||t.helper(s),s):(t.helper($S),t.components.add(r),Jy(r,"component"))}function qA(e,t,n=e.props,r,o,d=!1){const{tag:h,loc:s,children:b}=e;let R=[];const J=[],I=[],z=b.length>0;let Z=!1,L=0,O=!1,G=!1,M=!1,S=!1,P=!1,H=!1;const U=[],E=$=>{R.length&&(J.push(qd(sE(R),s)),R=[]),$&&J.push($)},ie=({key:$,value:V})=>{if($c($)){const j=$.content,w=X0(j);if(w&&(!r||o)&&j.toLowerCase()!=="onclick"&&j!=="onUpdate:modelValue"&&!L0(j)&&(S=!0),w&&L0(j)&&(H=!0),V.type===20||(V.type===4||V.type===8)&&Xd(V,t)>0)return;j==="ref"?O=!0:j==="class"?G=!0:j==="style"?M=!0:j!=="key"&&!U.includes(j)&&U.push(j),r&&(j==="class"||j==="style")&&!U.includes(j)&&U.push(j)}else P=!0};for(let $=0;$<n.length;$++){const V=n[$];if(V.type===6){const{loc:j,name:w,value:D}=V;let m=!0;if(w==="ref"&&(O=!0,t.scopes.vFor>0&&R.push(Xo(Wr("ref_for",!0),Wr("true")))),w==="is"&&(_T(h)||D&&D.content.startsWith("vue:")||F0("COMPILER_IS_ON_ELEMENT",t)))continue;R.push(Xo(Wr(w,!0,LA(j,0,w.length)),Wr(D?D.content:"",m,D?D.loc:j)))}else{const{name:j,arg:w,exp:D,loc:m}=V,g=j==="bind",x=j==="on";if(j==="slot"){r||t.onError(Lo(40,m));continue}if(j==="once"||j==="memo"||j==="is"||g&&A0(w,"is")&&(_T(h)||F0("COMPILER_IS_ON_ELEMENT",t))||x&&d)continue;if((g&&A0(w,"key")||x&&z&&A0(w,"vue:before-update"))&&(Z=!0),g&&A0(w,"ref")&&t.scopes.vFor>0&&R.push(Xo(Wr("ref_for",!0),Wr("true"))),!w&&(g||x)){if(P=!0,D)if(g){if(E(),F0("COMPILER_V_BIND_OBJECT_ORDER",t)){J.unshift(D);continue}J.push(D)}else E({type:14,loc:m,callee:t.helper(XS),arguments:r?[D]:[D,"true"]});else t.onError(Lo(g?34:35,m));continue}const k=t.directiveTransforms[j];if(k){const{props:q,needRuntime:Y}=k(V,e,t);!d&&q.forEach(ie),x&&w&&!$c(w)?E(qd(q,s)):R.push(...q),Y&&(I.push(V),uf(Y)&&YA.set(V,Y))}else ID(j)||(I.push(V),z&&(Z=!0))}}let te;if(J.length?(E(),J.length>1?te=Sa(t.helper(Ux),J,s):te=J[0]):R.length&&(te=qd(sE(R),s)),P?L|=16:(G&&!r&&(L|=2),M&&!r&&(L|=4),U.length&&(L|=8),S&&(L|=32)),!Z&&(L===0||L===32)&&(O||H||I.length>0)&&(L|=512),!t.inSSR&&te)switch(te.type){case 15:let $=-1,V=-1,j=!1;for(let m=0;m<te.properties.length;m++){const g=te.properties[m].key;$c(g)?g.content==="class"?$=m:g.content==="style"&&(V=m):g.isHandlerKey||(j=!0)}const w=te.properties[$],D=te.properties[V];j?te=Sa(t.helper(Zy),[te]):(w&&!$c(w.value)&&(w.value=Sa(t.helper(YS),[w.value])),D&&(M||D.value.type===4&&D.value.content.trim()[0]==="["||D.value.type===17)&&(D.value=Sa(t.helper(qS),[D.value])));break;case 14:break;default:te=Sa(t.helper(Zy),[Sa(t.helper(y_),[te])]);break}return{props:te,directives:I,patchFlag:L,dynamicPropNames:U,shouldUseBlock:Z}}function sE(e){const t=new Map,n=[];for(let r=0;r<e.length;r++){const o=e[r];if(o.key.type===8||!o.key.isStatic){n.push(o);continue}const d=o.key.content,h=t.get(d);h?(d==="style"||d==="class"||X0(d))&&qO(h,o):(t.set(d,o),n.push(o))}return n}function qO(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=__([e.value,t.value],e.loc)}function XO(e,t){const n=[],r=YA.get(e);r?n.push(t.helperString(r)):(t.helper(VS),t.directives.add(e.name),n.push(Jy(e.name,"directive")));const{loc:o}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const d=Wr("true",!1,o);n.push(qd(e.modifiers.map(h=>Xo(h,d)),o))}return __(n,e.loc)}function ZO(e){let t="[";for(let n=0,r=e.length;n<r;n++)t+=JSON.stringify(e[n]),n<r-1&&(t+=", ");return t+"]"}function _T(e){return e==="component"||e==="Component"}const KO=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},JO=/-(\w)/g,oE=KO(e=>e.replace(JO,(t,n)=>n?n.toUpperCase():"")),QO=(e,t)=>{if(Hx(e)){const{children:n,loc:r}=e,{slotName:o,slotProps:d}=e9(e,t),h=[t.prefixIdentifiers?"_ctx.$slots":"$slots",o,"{}","undefined","true"];let s=2;d&&(h[2]=d,s=3),n.length&&(h[3]=Ig([],n,!1,!1,r),s=4),t.scopeId&&!t.slotted&&(s=5),h.splice(s),e.codegenNode=Sa(t.helper(kA),h,r)}};function e9(e,t){let n='"default"',r;const o=[];for(let d=0;d<e.props.length;d++){const h=e.props[d];h.type===6?h.value&&(h.name==="name"?n=JSON.stringify(h.value.content):(h.name=oE(h.name),o.push(h))):h.name==="bind"&&A0(h.arg,"name")?h.exp&&(n=h.exp):(h.name==="bind"&&h.arg&&$c(h.arg)&&(h.arg.content=oE(h.arg.content)),o.push(h))}if(o.length>0){const{props:d,directives:h}=qA(e,t,o,!1,!1);r=d,h.length&&t.onError(Lo(36,h[0].loc))}return{slotName:n,slotProps:r}}const t9=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,XA=(e,t,n,r)=>{const{loc:o,modifiers:d,arg:h}=e;!e.exp&&!d.length&&n.onError(Lo(35,o));let s;if(h.type===4)if(h.isStatic){let I=h.content;I.startsWith("vue:")&&(I=`vnode-${I.slice(4)}`);const z=t.tagType!==0||I.startsWith("vnode")||!/[A-Z]/.test(I)?O0(tl(I)):`on:${I}`;s=Wr(z,!0,h.loc)}else s=bu([`${n.helperString(pT)}(`,h,")"]);else s=h,s.children.unshift(`${n.helperString(pT)}(`),s.children.push(")");let b=e.exp;b&&!b.content.trim()&&(b=void 0);let R=n.cacheHandlers&&!b&&!n.inVOnce;if(b){const I=IA(b.content),z=!(I||t9.test(b.content)),Z=b.content.includes(";");(z||R&&I)&&(b=bu([`${z?"$event":"(...args)"} => ${Z?"{":"("}`,b,Z?"}":")"]))}let J={props:[Xo(s,b||Wr("() => {}",!1,o))]};return r&&(J=r(J)),R&&(J.props[0].value=n.cache(J.props[0].value)),J.props.forEach(I=>I.key.isHandlerKey=!0),J},i9=(e,t,n)=>{const{exp:r,modifiers:o,loc:d}=e,h=e.arg;return h.type!==4?(h.children.unshift("("),h.children.push(') || ""')):h.isStatic||(h.content=`${h.content} || ""`),o.includes("camel")&&(h.type===4?h.isStatic?h.content=tl(h.content):h.content=`${n.helperString(hT)}(${h.content})`:(h.children.unshift(`${n.helperString(hT)}(`),h.children.push(")"))),n.inSSR||(o.includes("prop")&&aE(h,"."),o.includes("attr")&&aE(h,"^")),!r||r.type===4&&!r.content.trim()?(n.onError(Lo(34,d)),{props:[Xo(h,Wr("",!0,d))]}):{props:[Xo(h,r)]}},aE=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},n9=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let r,o=!1;for(let d=0;d<n.length;d++){const h=n[d];if(d3(h)){o=!0;for(let s=d+1;s<n.length;s++){const b=n[s];if(d3(b))r||(r=n[d]=bu([h],h.loc)),r.children.push(" + ",b),n.splice(s,1),s--;else{r=void 0;break}}}}if(!(!o||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(d=>d.type===7&&!t.directiveTransforms[d.name])&&e.tag!=="template")))for(let d=0;d<n.length;d++){const h=n[d];if(d3(h)||h.type===8){const s=[];(h.type!==2||h.content!==" ")&&s.push(h),!t.ssr&&Xd(h,t)===0&&s.push("1"),n[d]={type:12,content:h,loc:h.loc,codegenNode:Sa(t.helper(US),s)}}}}},lE=new WeakSet,r9=(e,t)=>{if(e.type===1&&Hd(e,"once",!0))return lE.has(e)||t.inVOnce?void 0:(lE.add(e),t.inVOnce=!0,t.helper($x),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0))})},ZA=(e,t,n)=>{const{exp:r,arg:o}=e;if(!r)return n.onError(Lo(41,e.loc)),rx();const d=r.loc.source,h=r.type===4?r.content:d,s=n.bindingMetadata[d];if(s==="props"||s==="props-aliased")return n.onError(Lo(44,r.loc)),rx();const b=!1;if(!h.trim()||!IA(h)&&!b)return n.onError(Lo(42,r.loc)),rx();const R=o||Wr("modelValue",!0),J=o?$c(o)?`onUpdate:${o.content}`:bu(['"onUpdate:" + ',o]):"onUpdate:modelValue";let I;const z=n.isTS?"($event: any)":"$event";I=bu([`${z} => ((`,r,") = $event)"]);const Z=[Xo(R,e.exp),Xo(J,I)];if(e.modifiers.length&&t.tagType===1){const L=e.modifiers.map(G=>(JS(G)?G:JSON.stringify(G))+": true").join(", "),O=o?$c(o)?`${o.content}Modifiers`:bu([o,' + "Modifiers"']):"modelModifiers";Z.push(Xo(O,Wr(`{ ${L} }`,!1,e.loc,2)))}return rx(Z)};function rx(e=[]){return{props:e}}const s9=/[\w).+\-_$\]]/,o9=(e,t)=>{F0("COMPILER_FILTER",t)&&(e.type===5&&qx(e.content,t),e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&qx(n.exp,t)}))};function qx(e,t){if(e.type===4)cE(e,t);else for(let n=0;n<e.children.length;n++){const r=e.children[n];typeof r=="object"&&(r.type===4?cE(r,t):r.type===8?qx(e,t):r.type===5&&qx(r.content,t))}}function cE(e,t){const n=e.content;let r=!1,o=!1,d=!1,h=!1,s=0,b=0,R=0,J=0,I,z,Z,L,O=[];for(Z=0;Z<n.length;Z++)if(z=I,I=n.charCodeAt(Z),r)I===39&&z!==92&&(r=!1);else if(o)I===34&&z!==92&&(o=!1);else if(d)I===96&&z!==92&&(d=!1);else if(h)I===47&&z!==92&&(h=!1);else if(I===124&&n.charCodeAt(Z+1)!==124&&n.charCodeAt(Z-1)!==124&&!s&&!b&&!R)L===void 0?(J=Z+1,L=n.slice(0,Z).trim()):G();else{switch(I){case 34:o=!0;break;case 39:r=!0;break;case 96:d=!0;break;case 40:R++;break;case 41:R--;break;case 91:b++;break;case 93:b--;break;case 123:s++;break;case 125:s--;break}if(I===47){let M=Z-1,S;for(;M>=0&&(S=n.charAt(M),S===" ");M--);(!S||!s9.test(S))&&(h=!0)}}L===void 0?L=n.slice(0,Z).trim():J!==0&&G();function G(){O.push(n.slice(J,Z).trim()),J=Z+1}if(O.length){for(Z=0;Z<O.length;Z++)L=a9(L,O[Z],t);e.content=L}}function a9(e,t,n){n.helper(GS);const r=t.indexOf("(");if(r<0)return n.filters.add(t),`${Jy(t,"filter")}(${e})`;{const o=t.slice(0,r),d=t.slice(r+1);return n.filters.add(o),`${Jy(o,"filter")}(${e}${d!==")"?","+d:d}`}}const dE=new WeakSet,l9=(e,t)=>{if(e.type===1){const n=Hd(e,"memo");return!n||dE.has(e)?void 0:(dE.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&QS(r,t),e.codegenNode=Sa(t.helper(KS),[n.exp,Ig(void 0,r),"_cache",String(t.cached++)]))})}};function c9(e){return[[r9,RO,l9,NO,o9,QO,HO,VO,n9],{on:XA,bind:i9,model:ZA}]}function d9(e,t={}){const n=t.onError||zS,r=t.mode==="module";t.prefixIdentifiers===!0?n(Lo(47)):r&&n(Lo(48));const o=!1;t.cacheHandlers&&n(Lo(49)),t.scopeId&&!r&&n(Lo(50));const d=Br(e)?iO(e,t):e,[h,s]=c9();return gO(d,Ds({},t,{prefixIdentifiers:o,nodeTransforms:[...h,...t.nodeTransforms||[]],directiveTransforms:Ds({},s,t.directiveTransforms||{})})),xO(d,Ds({},t,{prefixIdentifiers:o}))}const u9=()=>({props:[]}),KA=Symbol(""),JA=Symbol(""),QA=Symbol(""),e8=Symbol(""),vT=Symbol(""),t8=Symbol(""),i8=Symbol(""),n8=Symbol(""),r8=Symbol(""),s8=Symbol("");UL({[KA]:"vModelRadio",[JA]:"vModelCheckbox",[QA]:"vModelText",[e8]:"vModelSelect",[vT]:"vModelDynamic",[t8]:"withModifiers",[i8]:"withKeys",[n8]:"vShow",[r8]:"Transition",[s8]:"TransitionGroup"});let ag;function h9(e,t=!1){return ag||(ag=document.createElement("div")),t?(ag.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,ag.children[0].getAttribute("foo")):(ag.innerHTML=e,ag.textContent)}const p9=Gc("style,iframe,script,noscript",!0),f9={isVoidTag:CD,isNativeTag:e=>TD(e)||SD(e),isPreTag:e=>e==="pre",decodeEntities:h9,isBuiltInComponent:e=>{if(hg(e,"Transition"))return r8;if(hg(e,"TransitionGroup"))return s8},getNamespace(e,t){let n=t?t.ns:0;if(t&&n===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(n=0);else t&&n===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(n=0);if(n===0){if(e==="svg")return 1;if(e==="math")return 2}return n},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(p9(e))return 2}return 0}},m9=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:Wr("style",!0,t.loc),exp:g9(t.value.content,t.loc),modifiers:[],loc:t.loc})})},g9=(e,t)=>{const n=OM(e);return Wr(JSON.stringify(n),!1,t,3)};function ip(e,t){return Lo(e,t)}const y9=(e,t,n)=>{const{exp:r,loc:o}=e;return r||n.onError(ip(51,o)),t.children.length&&(n.onError(ip(52,o)),t.children.length=0),{props:[Xo(Wr("innerHTML",!0,o),r||Wr("",!0))]}},_9=(e,t,n)=>{const{exp:r,loc:o}=e;return r||n.onError(ip(53,o)),t.children.length&&(n.onError(ip(54,o)),t.children.length=0),{props:[Xo(Wr("textContent",!0),r?Xd(r,n)>0?r:Sa(n.helperString(Fb),[r],o):Wr("",!0))]}},v9=(e,t,n)=>{const r=ZA(e,t,n);if(!r.props.length||t.tagType===1)return r;e.arg&&n.onError(ip(56,e.arg.loc));const{tag:o}=t,d=n.isCustomElement(o);if(o==="input"||o==="textarea"||o==="select"||d){let h=QA,s=!1;if(o==="input"||d){const b=jb(t,"type");if(b){if(b.type===7)h=vT;else if(b.value)switch(b.value.content){case"radio":h=KA;break;case"checkbox":h=JA;break;case"file":s=!0,n.onError(ip(57,e.loc));break}}else ZL(t)&&(h=vT)}else o==="select"&&(h=e8);s||(r.needRuntime=n.helper(h))}else n.onError(ip(55,e.loc));return r.props=r.props.filter(h=>!(h.key.type===4&&h.key.content==="modelValue")),r},x9=Gc("passive,once,capture"),b9=Gc("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),w9=Gc("left,right"),o8=Gc("onkeyup,onkeydown,onkeypress",!0),T9=(e,t,n,r)=>{const o=[],d=[],h=[];for(let s=0;s<t.length;s++){const b=t[s];b==="native"&&Qy("COMPILER_V_ON_NATIVE",n)||x9(b)?h.push(b):w9(b)?$c(e)?o8(e.content)?o.push(b):d.push(b):(o.push(b),d.push(b)):b9(b)?d.push(b):o.push(b)}return{keyModifiers:o,nonKeyModifiers:d,eventOptionModifiers:h}},uE=(e,t)=>$c(e)&&e.content.toLowerCase()==="onclick"?Wr(t,!0):e.type!==4?bu(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,S9=(e,t,n)=>XA(e,t,n,r=>{const{modifiers:o}=e;if(!o.length)return r;let{key:d,value:h}=r.props[0];const{keyModifiers:s,nonKeyModifiers:b,eventOptionModifiers:R}=T9(d,o,n,e.loc);if(b.includes("right")&&(d=uE(d,"onContextmenu")),b.includes("middle")&&(d=uE(d,"onMouseup")),b.length&&(h=Sa(n.helper(t8),[h,JSON.stringify(b)])),s.length&&(!$c(d)||o8(d.content))&&(h=Sa(n.helper(i8),[h,JSON.stringify(s)])),R.length){const J=R.map(bf).join("");d=$c(d)?Wr(`${d.content}${J}`,!0):bu(["(",d,`) + "${J}"`])}return{props:[Xo(d,h)]}}),C9=(e,t,n)=>{const{exp:r,loc:o}=e;return r||n.onError(ip(59,o)),{props:[],needRuntime:n.helper(n8)}},E9=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(t.onError(ip(61,e.loc)),t.removeNode())},M9=[m9],k9={cloak:u9,html:y9,text:_9,model:v9,on:S9,show:C9};function A9(e,t={}){return d9(e,Ds({},f9,t,{nodeTransforms:[E9,...M9,...t.nodeTransforms||[]],directiveTransforms:Ds({},k9,t.directiveTransforms||{}),transformHoist:null}))}const hE=Object.create(null);function a8(e,t){if(!Br(e))if(e.nodeType)e=e.innerHTML;else return gc;const n=e,r=hE[n];if(r)return r;if(e[0]==="#"){const s=document.querySelector(e);e=s?s.innerHTML:""}const o=Ds({hoistStatic:!0,onError:void 0,onWarn:gc},t);!o.isCustomElement&&typeof customElements<"u"&&(o.isCustomElement=s=>!!customElements.get(s));const{code:d}=A9(e,o),h=new Function("Vue",d)(RL);return h._rc=!0,hE[n]=h}MS(a8);const P9=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Ib,Comment:gl,EffectScope:yb,Fragment:ln,KeepAlive:wk,ReactiveEffect:jg,Static:of,Suspense:mk,Teleport:CS,Text:gf,Transition:ku,TransitionGroup:fA,VueElement:m_,callWithAsyncErrorHandling:Vc,callWithErrorHandling:ch,camelize:tl,capitalize:bf,cloneVNode:wu,compatUtils:rA,compile:a8,computed:hn,createApp:BS,createBlock:Ir,createCommentVNode:yi,createElementBlock:Ot,createElementVNode:Ye,createHydrationRenderer:TS,createPropsRestProxy:Jk,createRenderer:wS,createSSRApp:xA,createSlots:Bl,createStaticVNode:Mu,createTextVNode:ws,createVNode:cn,customRef:sk,defineAsyncComponent:bk,defineComponent:vc,defineCustomElement:LS,defineEmits:Yk,defineExpose:qk,defineProps:Hk,defineSSRCustomElement:sA,get devtools(){return E0},effect:VM,effectScope:FM,getCurrentInstance:dp,getCurrentScope:QT,getTransitionRawChildren:u_,guardReactiveProps:Ol,h:jc,handleError:wf,hydrate:RS,initCustomFormatter:eA,initDirectivesForSSR:wA,inject:B0,isMemoSame:DS,isProxy:Tb,isReactive:sf,isReadonly:pf,isRef:ca,isRuntimeOnly:Vk,isShallow:kg,isVNode:op,markRaw:Sb,mergeDefaults:Kk,mergeProps:Yo,nextTick:yc,normalizeClass:ar,normalizeProps:Ta,normalizeStyle:el,onActivated:uS,onBeforeMount:pS,onBeforeUnmount:em,onBeforeUpdate:p_,onDeactivated:hS,onErrorCaptured:yS,onMounted:Ko,onRenderTracked:gS,onRenderTriggered:mS,onScopeDispose:eS,onServerPrefetch:fS,onUnmounted:hh,onUpdated:Q0,openBlock:wt,popScopeId:J0,provide:Vg,proxyRefs:Eb,pushScopeId:K0,queuePostFlushCb:kb,reactive:Eu,readonly:bb,ref:sn,registerRuntimeCompiler:MS,render:Nx,renderList:Mr,renderSlot:xn,resolveComponent:Er,resolveDirective:Rb,resolveDynamicComponent:Ob,resolveFilter:nA,resolveTransitionHooks:V0,setBlockTracking:Bx,setDevtoolsHook:aS,setTransitionHooks:mf,shallowReactive:nS,shallowReadonly:tk,shallowRef:ik,ssrContextKey:AS,ssrUtils:iA,stop:GM,toDisplayString:Qi,toHandlerKey:O0,toHandlers:Ek,toRaw:ds,toRef:ff,toRefs:ok,transformVNodeArgs:Nk,triggerRef:rk,unref:Ii,useAttrs:kS,useCssModule:oA,useCssVars:aA,useSSRContext:PS,useSlots:f_,useTransitionState:Db,vModelCheckbox:lf,vModelDynamic:OS,vModelRadio:Nb,vModelSelect:vu,vModelText:Tu,vShow:N0,version:IS,warn:lk,watch:ha,watchEffect:yk,watchPostEffect:dS,watchSyncEffect:_k,withAsyncContext:Qk,withCtx:Yn,withDefaults:Xk,withDirectives:ho,withKeys:br,withMemo:tA,withModifiers:fc,withScopeId:pk},Symbol.toStringTag,{value:"Module"}));//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var l8;function bn(){return l8.apply(null,arguments)}function D9(e){l8=e}function Su(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function j0(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ms(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function i5(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ms(e,t))return!1;return!0}function Nc(e){return e===void 0}function ap(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function x_(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function c8(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function Qp(e,t){for(var n in t)Ms(t,n)&&(e[n]=t[n]);return Ms(t,"toString")&&(e.toString=t.toString),Ms(t,"valueOf")&&(e.valueOf=t.valueOf),e}function ph(e,t,n,r){return L8(e,t,n,r,!0).utc()}function I9(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Rr(e){return e._pf==null&&(e._pf=I9()),e._pf}var xT;Array.prototype.some?xT=Array.prototype.some:xT=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function n5(e){if(e._isValid==null){var t=Rr(e),n=xT.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function Gb(e){var t=ph(NaN);return e!=null?Qp(Rr(t),e):Rr(t).userInvalidated=!0,t}var pE=bn.momentProperties=[],h3=!1;function r5(e,t){var n,r,o,d=pE.length;if(Nc(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Nc(t._i)||(e._i=t._i),Nc(t._f)||(e._f=t._f),Nc(t._l)||(e._l=t._l),Nc(t._strict)||(e._strict=t._strict),Nc(t._tzm)||(e._tzm=t._tzm),Nc(t._isUTC)||(e._isUTC=t._isUTC),Nc(t._offset)||(e._offset=t._offset),Nc(t._pf)||(e._pf=Rr(t)),Nc(t._locale)||(e._locale=t._locale),d>0)for(n=0;n<d;n++)r=pE[n],o=t[r],Nc(o)||(e[r]=o);return e}function b_(e){r5(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),h3===!1&&(h3=!0,bn.updateOffset(this),h3=!1)}function Cu(e){return e instanceof b_||e!=null&&e._isAMomentObject!=null}function d8(e){bn.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Qd(e,t){var n=!0;return Qp(function(){if(bn.deprecationHandler!=null&&bn.deprecationHandler(null,e),n){var r=[],o,d,h,s=arguments.length;for(d=0;d<s;d++){if(o="",typeof arguments[d]=="object"){o+=`
[`+d+"] ";for(h in arguments[0])Ms(arguments[0],h)&&(o+=h+": "+arguments[0][h]+", ");o=o.slice(0,-2)}else o=arguments[d];r.push(o)}d8(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var fE={};function u8(e,t){bn.deprecationHandler!=null&&bn.deprecationHandler(e,t),fE[e]||(d8(t),fE[e]=!0)}bn.suppressDeprecationWarnings=!1;bn.deprecationHandler=null;function fh(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function L9(e){var t,n;for(n in e)Ms(e,n)&&(t=e[n],fh(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function bT(e,t){var n=Qp({},e),r;for(r in t)Ms(t,r)&&(j0(e[r])&&j0(t[r])?(n[r]={},Qp(n[r],e[r]),Qp(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)Ms(e,r)&&!Ms(t,r)&&j0(e[r])&&(n[r]=Qp({},n[r]));return n}function s5(e){e!=null&&this.set(e)}var wT;Object.keys?wT=Object.keys:wT=function(e){var t,n=[];for(t in e)Ms(e,t)&&n.push(t);return n};var O9={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R9(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return fh(r)?r.call(t,n):r}function dh(e,t,n){var r=""+Math.abs(e),o=t-r.length,d=e>=0;return(d?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var o5=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,sx=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,p3={},xg={};function er(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(xg[e]=o),t&&(xg[t[0]]=function(){return dh(o.apply(this,arguments),t[1],t[2])}),n&&(xg[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function B9(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z9(e){var t=e.match(o5),n,r;for(n=0,r=t.length;n<r;n++)xg[t[n]]?t[n]=xg[t[n]]:t[n]=B9(t[n]);return function(o){var d="",h;for(h=0;h<r;h++)d+=fh(t[h])?t[h].call(o,e):t[h];return d}}function Tx(e,t){return e.isValid()?(t=h8(t,e.localeData()),p3[t]=p3[t]||z9(t),p3[t](e)):e.localeData().invalidDate()}function h8(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(sx.lastIndex=0;n>=0&&sx.test(e);)e=e.replace(sx,r),sx.lastIndex=0,n-=1;return e}var N9={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function F9(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(o5).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var j9="Invalid date";function U9(){return this._invalidDate}var $9="%d",V9=/\d{1,2}/;function G9(e){return this._ordinal.replace("%d",e)}var W9={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function H9(e,t,n,r){var o=this._relativeTime[n];return fh(o)?o(e,t,n,r):o.replace(/%d/i,e)}function Y9(e,t){var n=this._relativeTime[e>0?"future":"past"];return fh(n)?n(t):n.replace(/%s/i,t)}var Fy={};function Ul(e,t){var n=e.toLowerCase();Fy[n]=Fy[n+"s"]=Fy[t]=e}function eu(e){return typeof e=="string"?Fy[e]||Fy[e.toLowerCase()]:void 0}function a5(e){var t={},n,r;for(r in e)Ms(e,r)&&(n=eu(r),n&&(t[n]=e[r]));return t}var p8={};function $l(e,t){p8[e]=t}function q9(e){var t=[],n;for(n in e)Ms(e,n)&&t.push({unit:n,priority:p8[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}function Wb(e){return e%4===0&&e%100!==0||e%400===0}function Yd(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Xr(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Yd(t)),n}function Gg(e,t){return function(n){return n!=null?(f8(this,e,n),bn.updateOffset(this,t),this):Xx(this,e)}}function Xx(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function f8(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Wb(e.year())&&e.month()===1&&e.date()===29?(n=Xr(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Kb(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function X9(e){return e=eu(e),fh(this[e])?this[e]():this}function Z9(e,t){if(typeof e=="object"){e=a5(e);var n=q9(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=eu(e),fh(this[e]))return this[e](t);return this}var m8=/\d/,vd=/\d\d/,g8=/\d{3}/,l5=/\d{4}/,Hb=/[+-]?\d{6}/,Mo=/\d\d?/,y8=/\d\d\d\d?/,_8=/\d\d\d\d\d\d?/,Yb=/\d{1,3}/,c5=/\d{1,4}/,qb=/[+-]?\d{1,6}/,Wg=/\d+/,Xb=/[+-]?\d+/,K9=/Z|[+-]\d\d:?\d\d/gi,Zb=/Z|[+-]\d\d(?::?\d\d)?/gi,J9=/[+-]?\d+(\.\d{1,3})?/,w_=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Zx;Zx={};function Dn(e,t,n){Zx[e]=fh(t)?t:function(r,o){return r&&n?n:t}}function Q9(e,t){return Ms(Zx,e)?Zx[e](t._strict,t._locale):new RegExp(e7(e))}function e7(e){return fd(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,d){return n||r||o||d}))}function fd(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var TT={};function Xs(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),ap(t)&&(r=function(d,h){h[t]=Xr(d)}),o=e.length,n=0;n<o;n++)TT[e[n]]=r}function T_(e,t){Xs(e,function(n,r,o,d){o._w=o._w||{},t(n,o._w,o,d)})}function t7(e,t,n){t!=null&&Ms(TT,e)&&TT[e](t,n._a,n,e)}var jl=0,Kh=1,nh=2,za=3,xu=4,Jh=5,P0=6,i7=7,n7=8;function r7(e,t){return(e%t+t)%t}var la;Array.prototype.indexOf?la=Array.prototype.indexOf:la=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Kb(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=r7(t,12);return e+=(t-n)/12,n===1?Wb(e)?29:28:31-n%7%2}er("M",["MM",2],"Mo",function(){return this.month()+1});er("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});er("MMMM",0,0,function(e){return this.localeData().months(this,e)});Ul("month","M");$l("month",8);Dn("M",Mo);Dn("MM",Mo,vd);Dn("MMM",function(e,t){return t.monthsShortRegex(e)});Dn("MMMM",function(e,t){return t.monthsRegex(e)});Xs(["M","MM"],function(e,t){t[Kh]=Xr(e)-1});Xs(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[Kh]=o:Rr(n).invalidMonth=e});var s7="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),v8="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),x8=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,o7=w_,a7=w_;function l7(e,t){return e?Su(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||x8).test(t)?"format":"standalone"][e.month()]:Su(this._months)?this._months:this._months.standalone}function c7(e,t){return e?Su(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[x8.test(t)?"format":"standalone"][e.month()]:Su(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function d7(e,t,n){var r,o,d,h=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)d=ph([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(d,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(d,"").toLocaleLowerCase();return n?t==="MMM"?(o=la.call(this._shortMonthsParse,h),o!==-1?o:null):(o=la.call(this._longMonthsParse,h),o!==-1?o:null):t==="MMM"?(o=la.call(this._shortMonthsParse,h),o!==-1?o:(o=la.call(this._longMonthsParse,h),o!==-1?o:null)):(o=la.call(this._longMonthsParse,h),o!==-1?o:(o=la.call(this._shortMonthsParse,h),o!==-1?o:null))}function u7(e,t,n){var r,o,d;if(this._monthsParseExact)return d7.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=ph([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(d="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(d.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function b8(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Xr(t);else if(t=e.localeData().monthsParse(t),!ap(t))return e}return n=Math.min(e.date(),Kb(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function w8(e){return e!=null?(b8(this,e),bn.updateOffset(this,!0),this):Xx(this,"Month")}function h7(){return Kb(this.year(),this.month())}function p7(e){return this._monthsParseExact?(Ms(this,"_monthsRegex")||T8.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ms(this,"_monthsShortRegex")||(this._monthsShortRegex=o7),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function f7(e){return this._monthsParseExact?(Ms(this,"_monthsRegex")||T8.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ms(this,"_monthsRegex")||(this._monthsRegex=a7),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function T8(){function e(h,s){return s.length-h.length}var t=[],n=[],r=[],o,d;for(o=0;o<12;o++)d=ph([2e3,o]),t.push(this.monthsShort(d,"")),n.push(this.months(d,"")),r.push(this.months(d,"")),r.push(this.monthsShort(d,""));for(t.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)t[o]=fd(t[o]),n[o]=fd(n[o]);for(o=0;o<24;o++)r[o]=fd(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}er("Y",0,0,function(){var e=this.year();return e<=9999?dh(e,4):"+"+e});er(0,["YY",2],0,function(){return this.year()%100});er(0,["YYYY",4],0,"year");er(0,["YYYYY",5],0,"year");er(0,["YYYYYY",6,!0],0,"year");Ul("year","y");$l("year",1);Dn("Y",Xb);Dn("YY",Mo,vd);Dn("YYYY",c5,l5);Dn("YYYYY",qb,Hb);Dn("YYYYYY",qb,Hb);Xs(["YYYYY","YYYYYY"],jl);Xs("YYYY",function(e,t){t[jl]=e.length===2?bn.parseTwoDigitYear(e):Xr(e)});Xs("YY",function(e,t){t[jl]=bn.parseTwoDigitYear(e)});Xs("Y",function(e,t){t[jl]=parseInt(e,10)});function jy(e){return Wb(e)?366:365}bn.parseTwoDigitYear=function(e){return Xr(e)+(Xr(e)>68?1900:2e3)};var S8=Gg("FullYear",!0);function m7(){return Wb(this.year())}function g7(e,t,n,r,o,d,h){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,o,d,h),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,o,d,h),s}function t_(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Kx(e,t,n){var r=7+t-n,o=(7+t_(e,0,r).getUTCDay()-t)%7;return-o+r-1}function C8(e,t,n,r,o){var d=(7+n-r)%7,h=Kx(e,r,o),s=1+7*(t-1)+d+h,b,R;return s<=0?(b=e-1,R=jy(b)+s):s>jy(e)?(b=e+1,R=s-jy(e)):(b=e,R=s),{year:b,dayOfYear:R}}function i_(e,t,n){var r=Kx(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,d,h;return o<1?(h=e.year()-1,d=o+np(h,t,n)):o>np(e.year(),t,n)?(d=o-np(e.year(),t,n),h=e.year()+1):(h=e.year(),d=o),{week:d,year:h}}function np(e,t,n){var r=Kx(e,t,n),o=Kx(e+1,t,n);return(jy(e)-r+o)/7}er("w",["ww",2],"wo","week");er("W",["WW",2],"Wo","isoWeek");Ul("week","w");Ul("isoWeek","W");$l("week",5);$l("isoWeek",5);Dn("w",Mo);Dn("ww",Mo,vd);Dn("W",Mo);Dn("WW",Mo,vd);T_(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Xr(e)});function y7(e){return i_(e,this._week.dow,this._week.doy).week}var _7={dow:0,doy:6};function v7(){return this._week.dow}function x7(){return this._week.doy}function b7(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function w7(e){var t=i_(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}er("d",0,"do","day");er("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});er("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});er("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});er("e",0,0,"weekday");er("E",0,0,"isoWeekday");Ul("day","d");Ul("weekday","e");Ul("isoWeekday","E");$l("day",11);$l("weekday",11);$l("isoWeekday",11);Dn("d",Mo);Dn("e",Mo);Dn("E",Mo);Dn("dd",function(e,t){return t.weekdaysMinRegex(e)});Dn("ddd",function(e,t){return t.weekdaysShortRegex(e)});Dn("dddd",function(e,t){return t.weekdaysRegex(e)});T_(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:Rr(n).invalidWeekday=e});T_(["d","e","E"],function(e,t,n,r){t[r]=Xr(e)});function T7(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function S7(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function d5(e,t){return e.slice(t,7).concat(e.slice(0,t))}var C7="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),E8="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),E7="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),M7=w_,k7=w_,A7=w_;function P7(e,t){var n=Su(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?d5(n,this._week.dow):e?n[e.day()]:n}function D7(e){return e===!0?d5(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function I7(e){return e===!0?d5(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function L7(e,t,n){var r,o,d,h=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)d=ph([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(d,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(d,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(d,"").toLocaleLowerCase();return n?t==="dddd"?(o=la.call(this._weekdaysParse,h),o!==-1?o:null):t==="ddd"?(o=la.call(this._shortWeekdaysParse,h),o!==-1?o:null):(o=la.call(this._minWeekdaysParse,h),o!==-1?o:null):t==="dddd"?(o=la.call(this._weekdaysParse,h),o!==-1||(o=la.call(this._shortWeekdaysParse,h),o!==-1)?o:(o=la.call(this._minWeekdaysParse,h),o!==-1?o:null)):t==="ddd"?(o=la.call(this._shortWeekdaysParse,h),o!==-1||(o=la.call(this._weekdaysParse,h),o!==-1)?o:(o=la.call(this._minWeekdaysParse,h),o!==-1?o:null)):(o=la.call(this._minWeekdaysParse,h),o!==-1||(o=la.call(this._weekdaysParse,h),o!==-1)?o:(o=la.call(this._shortWeekdaysParse,h),o!==-1?o:null))}function O7(e,t,n){var r,o,d;if(this._weekdaysParseExact)return L7.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=ph([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(d="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(d.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function R7(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=T7(e,this.localeData()),this.add(e-t,"d")):t}function B7(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function z7(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=S7(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function N7(e){return this._weekdaysParseExact?(Ms(this,"_weekdaysRegex")||u5.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ms(this,"_weekdaysRegex")||(this._weekdaysRegex=M7),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function F7(e){return this._weekdaysParseExact?(Ms(this,"_weekdaysRegex")||u5.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ms(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=k7),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function j7(e){return this._weekdaysParseExact?(Ms(this,"_weekdaysRegex")||u5.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ms(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=A7),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function u5(){function e(J,I){return I.length-J.length}var t=[],n=[],r=[],o=[],d,h,s,b,R;for(d=0;d<7;d++)h=ph([2e3,1]).day(d),s=fd(this.weekdaysMin(h,"")),b=fd(this.weekdaysShort(h,"")),R=fd(this.weekdays(h,"")),t.push(s),n.push(b),r.push(R),o.push(s),o.push(b),o.push(R);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function h5(){return this.hours()%12||12}function U7(){return this.hours()||24}er("H",["HH",2],0,"hour");er("h",["hh",2],0,h5);er("k",["kk",2],0,U7);er("hmm",0,0,function(){return""+h5.apply(this)+dh(this.minutes(),2)});er("hmmss",0,0,function(){return""+h5.apply(this)+dh(this.minutes(),2)+dh(this.seconds(),2)});er("Hmm",0,0,function(){return""+this.hours()+dh(this.minutes(),2)});er("Hmmss",0,0,function(){return""+this.hours()+dh(this.minutes(),2)+dh(this.seconds(),2)});function M8(e,t){er(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}M8("a",!0);M8("A",!1);Ul("hour","h");$l("hour",13);function k8(e,t){return t._meridiemParse}Dn("a",k8);Dn("A",k8);Dn("H",Mo);Dn("h",Mo);Dn("k",Mo);Dn("HH",Mo,vd);Dn("hh",Mo,vd);Dn("kk",Mo,vd);Dn("hmm",y8);Dn("hmmss",_8);Dn("Hmm",y8);Dn("Hmmss",_8);Xs(["H","HH"],za);Xs(["k","kk"],function(e,t,n){var r=Xr(e);t[za]=r===24?0:r});Xs(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Xs(["h","hh"],function(e,t,n){t[za]=Xr(e),Rr(n).bigHour=!0});Xs("hmm",function(e,t,n){var r=e.length-2;t[za]=Xr(e.substr(0,r)),t[xu]=Xr(e.substr(r)),Rr(n).bigHour=!0});Xs("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[za]=Xr(e.substr(0,r)),t[xu]=Xr(e.substr(r,2)),t[Jh]=Xr(e.substr(o)),Rr(n).bigHour=!0});Xs("Hmm",function(e,t,n){var r=e.length-2;t[za]=Xr(e.substr(0,r)),t[xu]=Xr(e.substr(r))});Xs("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[za]=Xr(e.substr(0,r)),t[xu]=Xr(e.substr(r,2)),t[Jh]=Xr(e.substr(o))});function $7(e){return(e+"").toLowerCase().charAt(0)==="p"}var V7=/[ap]\.?m?\.?/i,G7=Gg("Hours",!0);function W7(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var A8={calendar:O9,longDateFormat:N9,invalidDate:j9,ordinal:$9,dayOfMonthOrdinalParse:V9,relativeTime:W9,months:s7,monthsShort:v8,week:_7,weekdays:C7,weekdaysMin:E7,weekdaysShort:E8,meridiemParse:V7},Io={},Sy={},n_;function H7(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function mE(e){return e&&e.toLowerCase().replace("_","-")}function Y7(e){for(var t=0,n,r,o,d;t<e.length;){for(d=mE(e[t]).split("-"),n=d.length,r=mE(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=Jb(d.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&H7(d,r)>=n-1)break;n--}t++}return n_}function q7(e){return e.match("^[^/\\\\]*$")!=null}function Jb(e){var t=null,n;if(Io[e]===void 0&&typeof Ax<"u"&&Ax&&Ax.exports&&q7(e))try{t=n_._abbr,n=require,n("./locale/"+e),cf(t)}catch{Io[e]=null}return Io[e]}function cf(e,t){var n;return e&&(Nc(t)?n=up(e):n=p5(e,t),n?n_=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),n_._abbr}function p5(e,t){if(t!==null){var n,r=A8;if(t.abbr=e,Io[e]!=null)u8("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Io[e]._config;else if(t.parentLocale!=null)if(Io[t.parentLocale]!=null)r=Io[t.parentLocale]._config;else if(n=Jb(t.parentLocale),n!=null)r=n._config;else return Sy[t.parentLocale]||(Sy[t.parentLocale]=[]),Sy[t.parentLocale].push({name:e,config:t}),null;return Io[e]=new s5(bT(r,t)),Sy[e]&&Sy[e].forEach(function(o){p5(o.name,o.config)}),cf(e),Io[e]}else return delete Io[e],null}function X7(e,t){if(t!=null){var n,r,o=A8;Io[e]!=null&&Io[e].parentLocale!=null?Io[e].set(bT(Io[e]._config,t)):(r=Jb(e),r!=null&&(o=r._config),t=bT(o,t),r==null&&(t.abbr=e),n=new s5(t),n.parentLocale=Io[e],Io[e]=n),cf(e)}else Io[e]!=null&&(Io[e].parentLocale!=null?(Io[e]=Io[e].parentLocale,e===cf()&&cf(e)):Io[e]!=null&&delete Io[e]);return Io[e]}function up(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return n_;if(!Su(e)){if(t=Jb(e),t)return t;e=[e]}return Y7(e)}function Z7(){return wT(Io)}function f5(e){var t,n=e._a;return n&&Rr(e).overflow===-2&&(t=n[Kh]<0||n[Kh]>11?Kh:n[nh]<1||n[nh]>Kb(n[jl],n[Kh])?nh:n[za]<0||n[za]>24||n[za]===24&&(n[xu]!==0||n[Jh]!==0||n[P0]!==0)?za:n[xu]<0||n[xu]>59?xu:n[Jh]<0||n[Jh]>59?Jh:n[P0]<0||n[P0]>999?P0:-1,Rr(e)._overflowDayOfYear&&(t<jl||t>nh)&&(t=nh),Rr(e)._overflowWeeks&&t===-1&&(t=i7),Rr(e)._overflowWeekday&&t===-1&&(t=n7),Rr(e).overflow=t),e}var K7=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,J7=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Q7=/Z|[+-]\d\d(?::?\d\d)?/,ox=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],f3=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],eR=/^\/?Date\((-?\d+)/i,tR=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,iR={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function P8(e){var t,n,r=e._i,o=K7.exec(r)||J7.exec(r),d,h,s,b,R=ox.length,J=f3.length;if(o){for(Rr(e).iso=!0,t=0,n=R;t<n;t++)if(ox[t][1].exec(o[1])){h=ox[t][0],d=ox[t][2]!==!1;break}if(h==null){e._isValid=!1;return}if(o[3]){for(t=0,n=J;t<n;t++)if(f3[t][1].exec(o[3])){s=(o[2]||" ")+f3[t][0];break}if(s==null){e._isValid=!1;return}}if(!d&&s!=null){e._isValid=!1;return}if(o[4])if(Q7.exec(o[4]))b="Z";else{e._isValid=!1;return}e._f=h+(s||"")+(b||""),g5(e)}else e._isValid=!1}function nR(e,t,n,r,o,d){var h=[rR(e),v8.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return d&&h.push(parseInt(d,10)),h}function rR(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function sR(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function oR(e,t,n){if(e){var r=E8.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return Rr(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function aR(e,t,n){if(e)return iR[e];if(t)return 0;var r=parseInt(n,10),o=r%100,d=(r-o)/100;return d*60+o}function D8(e){var t=tR.exec(sR(e._i)),n;if(t){if(n=nR(t[4],t[3],t[2],t[5],t[6],t[7]),!oR(t[1],n,e))return;e._a=n,e._tzm=aR(t[8],t[9],t[10]),e._d=t_.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Rr(e).rfc2822=!0}else e._isValid=!1}function lR(e){var t=eR.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(P8(e),e._isValid===!1)delete e._isValid;else return;if(D8(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:bn.createFromInputFallback(e)}bn.createFromInputFallback=Qd("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function ug(e,t,n){return e??t??n}function cR(e){var t=new Date(bn.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function m5(e){var t,n,r=[],o,d,h;if(!e._d){for(o=cR(e),e._w&&e._a[nh]==null&&e._a[Kh]==null&&dR(e),e._dayOfYear!=null&&(h=ug(e._a[jl],o[jl]),(e._dayOfYear>jy(h)||e._dayOfYear===0)&&(Rr(e)._overflowDayOfYear=!0),n=t_(h,0,e._dayOfYear),e._a[Kh]=n.getUTCMonth(),e._a[nh]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[za]===24&&e._a[xu]===0&&e._a[Jh]===0&&e._a[P0]===0&&(e._nextDay=!0,e._a[za]=0),e._d=(e._useUTC?t_:g7).apply(null,r),d=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[za]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==d&&(Rr(e).weekdayMismatch=!0)}}function dR(e){var t,n,r,o,d,h,s,b,R;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(d=1,h=4,n=ug(t.GG,e._a[jl],i_(Eo(),1,4).year),r=ug(t.W,1),o=ug(t.E,1),(o<1||o>7)&&(b=!0)):(d=e._locale._week.dow,h=e._locale._week.doy,R=i_(Eo(),d,h),n=ug(t.gg,e._a[jl],R.year),r=ug(t.w,R.week),t.d!=null?(o=t.d,(o<0||o>6)&&(b=!0)):t.e!=null?(o=t.e+d,(t.e<0||t.e>6)&&(b=!0)):o=d),r<1||r>np(n,d,h)?Rr(e)._overflowWeeks=!0:b!=null?Rr(e)._overflowWeekday=!0:(s=C8(n,r,o,d,h),e._a[jl]=s.year,e._dayOfYear=s.dayOfYear)}bn.ISO_8601=function(){};bn.RFC_2822=function(){};function g5(e){if(e._f===bn.ISO_8601){P8(e);return}if(e._f===bn.RFC_2822){D8(e);return}e._a=[],Rr(e).empty=!0;var t=""+e._i,n,r,o,d,h,s=t.length,b=0,R,J;for(o=h8(e._f,e._locale).match(o5)||[],J=o.length,n=0;n<J;n++)d=o[n],r=(t.match(Q9(d,e))||[])[0],r&&(h=t.substr(0,t.indexOf(r)),h.length>0&&Rr(e).unusedInput.push(h),t=t.slice(t.indexOf(r)+r.length),b+=r.length),xg[d]?(r?Rr(e).empty=!1:Rr(e).unusedTokens.push(d),t7(d,r,e)):e._strict&&!r&&Rr(e).unusedTokens.push(d);Rr(e).charsLeftOver=s-b,t.length>0&&Rr(e).unusedInput.push(t),e._a[za]<=12&&Rr(e).bigHour===!0&&e._a[za]>0&&(Rr(e).bigHour=void 0),Rr(e).parsedDateParts=e._a.slice(0),Rr(e).meridiem=e._meridiem,e._a[za]=uR(e._locale,e._a[za],e._meridiem),R=Rr(e).era,R!==null&&(e._a[jl]=e._locale.erasConvertYear(R,e._a[jl])),m5(e),f5(e)}function uR(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function hR(e){var t,n,r,o,d,h,s=!1,b=e._f.length;if(b===0){Rr(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<b;o++)d=0,h=!1,t=r5({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],g5(t),n5(t)&&(h=!0),d+=Rr(t).charsLeftOver,d+=Rr(t).unusedTokens.length*10,Rr(t).score=d,s?d<r&&(r=d,n=t):(r==null||d<r||h)&&(r=d,n=t,h&&(s=!0));Qp(e,n||t)}function pR(e){if(!e._d){var t=a5(e._i),n=t.day===void 0?t.date:t.day;e._a=c8([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),m5(e)}}function fR(e){var t=new b_(f5(I8(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function I8(e){var t=e._i,n=e._f;return e._locale=e._locale||up(e._l),t===null||n===void 0&&t===""?Gb({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Cu(t)?new b_(f5(t)):(x_(t)?e._d=t:Su(n)?hR(e):n?g5(e):mR(e),n5(e)||(e._d=null),e))}function mR(e){var t=e._i;Nc(t)?e._d=new Date(bn.now()):x_(t)?e._d=new Date(t.valueOf()):typeof t=="string"?lR(e):Su(t)?(e._a=c8(t.slice(0),function(n){return parseInt(n,10)}),m5(e)):j0(t)?pR(e):ap(t)?e._d=new Date(t):bn.createFromInputFallback(e)}function L8(e,t,n,r,o){var d={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(j0(e)&&i5(e)||Su(e)&&e.length===0)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=o,d._l=n,d._i=e,d._f=t,d._strict=r,fR(d)}function Eo(e,t,n,r){return L8(e,t,n,r,!1)}var gR=Qd("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Eo.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Gb()}),yR=Qd("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Eo.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Gb()});function O8(e,t){var n,r;if(t.length===1&&Su(t[0])&&(t=t[0]),!t.length)return Eo();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function _R(){var e=[].slice.call(arguments,0);return O8("isBefore",e)}function vR(){var e=[].slice.call(arguments,0);return O8("isAfter",e)}var xR=function(){return Date.now?Date.now():+new Date},Cy=["year","quarter","month","week","day","hour","minute","second","millisecond"];function bR(e){var t,n=!1,r,o=Cy.length;for(t in e)if(Ms(e,t)&&!(la.call(Cy,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[Cy[r]]){if(n)return!1;parseFloat(e[Cy[r]])!==Xr(e[Cy[r]])&&(n=!0)}return!0}function wR(){return this._isValid}function TR(){return Au(NaN)}function Qb(e){var t=a5(e),n=t.year||0,r=t.quarter||0,o=t.month||0,d=t.week||t.isoWeek||0,h=t.day||0,s=t.hour||0,b=t.minute||0,R=t.second||0,J=t.millisecond||0;this._isValid=bR(t),this._milliseconds=+J+R*1e3+b*6e4+s*1e3*60*60,this._days=+h+d*7,this._months=+o+r*3+n*12,this._data={},this._locale=up(),this._bubble()}function Sx(e){return e instanceof Qb}function ST(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function SR(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),d=0,h;for(h=0;h<r;h++)(n&&e[h]!==t[h]||!n&&Xr(e[h])!==Xr(t[h]))&&d++;return d+o}function R8(e,t){er(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+dh(~~(n/60),2)+t+dh(~~n%60,2)})}R8("Z",":");R8("ZZ","");Dn("Z",Zb);Dn("ZZ",Zb);Xs(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=y5(Zb,e)});var CR=/([\+\-]|\d\d)/gi;function y5(e,t){var n=(t||"").match(e),r,o,d;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(CR)||["-",0,0],d=+(o[1]*60)+Xr(o[2]),d===0?0:o[0]==="+"?d:-d)}function _5(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Cu(e)||x_(e)?e.valueOf():Eo(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),bn.updateOffset(n,!1),n):Eo(e).local()}function CT(e){return-Math.round(e._d.getTimezoneOffset())}bn.updateOffset=function(){};function ER(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=y5(Zb,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=CT(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?N8(this,Au(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,bn.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:CT(this)}function MR(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function kR(e){return this.utcOffset(0,e)}function AR(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(CT(this),"m")),this}function PR(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=y5(K9,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function DR(e){return this.isValid()?(e=e?Eo(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function IR(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function LR(){if(!Nc(this._isDSTShifted))return this._isDSTShifted;var e={},t;return r5(e,this),e=I8(e),e._a?(t=e._isUTC?ph(e._a):Eo(e._a),this._isDSTShifted=this.isValid()&&SR(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function OR(){return this.isValid()?!this._isUTC:!1}function RR(){return this.isValid()?this._isUTC:!1}function B8(){return this.isValid()?this._isUTC&&this._offset===0:!1}var BR=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,zR=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Au(e,t){var n=e,r=null,o,d,h;return Sx(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:ap(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=BR.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:Xr(r[nh])*o,h:Xr(r[za])*o,m:Xr(r[xu])*o,s:Xr(r[Jh])*o,ms:Xr(ST(r[P0]*1e3))*o}):(r=zR.exec(e))?(o=r[1]==="-"?-1:1,n={y:v0(r[2],o),M:v0(r[3],o),w:v0(r[4],o),d:v0(r[5],o),h:v0(r[6],o),m:v0(r[7],o),s:v0(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(h=NR(Eo(n.from),Eo(n.to)),n={},n.ms=h.milliseconds,n.M=h.months),d=new Qb(n),Sx(e)&&Ms(e,"_locale")&&(d._locale=e._locale),Sx(e)&&Ms(e,"_isValid")&&(d._isValid=e._isValid),d}Au.fn=Qb.prototype;Au.invalid=TR;function v0(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function gE(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function NR(e,t){var n;return e.isValid()&&t.isValid()?(t=_5(t,e),e.isBefore(t)?n=gE(e,t):(n=gE(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function z8(e,t){return function(n,r){var o,d;return r!==null&&!isNaN(+r)&&(u8(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=n,n=r,r=d),o=Au(n,r),N8(this,o,e),this}}function N8(e,t,n,r){var o=t._milliseconds,d=ST(t._days),h=ST(t._months);e.isValid()&&(r=r??!0,h&&b8(e,Xx(e,"Month")+h*n),d&&f8(e,"Date",Xx(e,"Date")+d*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&bn.updateOffset(e,d||h))}var FR=z8(1,"add"),jR=z8(-1,"subtract");function F8(e){return typeof e=="string"||e instanceof String}function UR(e){return Cu(e)||x_(e)||F8(e)||ap(e)||VR(e)||$R(e)||e===null||e===void 0}function $R(e){var t=j0(e)&&!i5(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,d,h=r.length;for(o=0;o<h;o+=1)d=r[o],n=n||Ms(e,d);return t&&n}function VR(e){var t=Su(e),n=!1;return t&&(n=e.filter(function(r){return!ap(r)&&F8(e)}).length===0),t&&n}function GR(e){var t=j0(e)&&!i5(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,d;for(o=0;o<r.length;o+=1)d=r[o],n=n||Ms(e,d);return t&&n}function WR(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function HR(e,t){arguments.length===1&&(arguments[0]?UR(arguments[0])?(e=arguments[0],t=void 0):GR(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Eo(),r=_5(n,this).startOf("day"),o=bn.calendarFormat(this,r)||"sameElse",d=t&&(fh(t[o])?t[o].call(this,n):t[o]);return this.format(d||this.localeData().calendar(o,this,Eo(n)))}function YR(){return new b_(this)}function qR(e,t){var n=Cu(e)?e:Eo(e);return this.isValid()&&n.isValid()?(t=eu(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function XR(e,t){var n=Cu(e)?e:Eo(e);return this.isValid()&&n.isValid()?(t=eu(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function ZR(e,t,n,r){var o=Cu(e)?e:Eo(e),d=Cu(t)?t:Eo(t);return this.isValid()&&o.isValid()&&d.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(d,n):!this.isAfter(d,n))):!1}function KR(e,t){var n=Cu(e)?e:Eo(e),r;return this.isValid()&&n.isValid()?(t=eu(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function JR(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function QR(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function eB(e,t,n){var r,o,d;if(!this.isValid())return NaN;if(r=_5(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=eu(t),t){case"year":d=Cx(this,r)/12;break;case"month":d=Cx(this,r);break;case"quarter":d=Cx(this,r)/3;break;case"second":d=(this-r)/1e3;break;case"minute":d=(this-r)/6e4;break;case"hour":d=(this-r)/36e5;break;case"day":d=(this-r-o)/864e5;break;case"week":d=(this-r-o)/6048e5;break;default:d=this-r}return n?d:Yd(d)}function Cx(e,t){if(e.date()<t.date())return-Cx(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,d;return t-r<0?(o=e.clone().add(n-1,"months"),d=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),d=(t-r)/(o-r)),-(n+d)||0}bn.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";bn.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function tB(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function iB(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Tx(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):fh(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Tx(n,"Z")):Tx(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function nB(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,d;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",d=t+'[")]',this.format(n+r+o+d)}function rB(e){e||(e=this.isUtc()?bn.defaultFormatUtc:bn.defaultFormat);var t=Tx(this,e);return this.localeData().postformat(t)}function sB(e,t){return this.isValid()&&(Cu(e)&&e.isValid()||Eo(e).isValid())?Au({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function oB(e){return this.from(Eo(),e)}function aB(e,t){return this.isValid()&&(Cu(e)&&e.isValid()||Eo(e).isValid())?Au({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function lB(e){return this.to(Eo(),e)}function j8(e){var t;return e===void 0?this._locale._abbr:(t=up(e),t!=null&&(this._locale=t),this)}var U8=Qd("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function $8(){return this._locale}var Jx=1e3,bg=60*Jx,Qx=60*bg,V8=(365*400+97)*24*Qx;function wg(e,t){return(e%t+t)%t}function G8(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-V8:new Date(e,t,n).valueOf()}function W8(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-V8:Date.UTC(e,t,n)}function cB(e){var t,n;if(e=eu(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?W8:G8,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=wg(t+(this._isUTC?0:this.utcOffset()*bg),Qx);break;case"minute":t=this._d.valueOf(),t-=wg(t,bg);break;case"second":t=this._d.valueOf(),t-=wg(t,Jx);break}return this._d.setTime(t),bn.updateOffset(this,!0),this}function dB(e){var t,n;if(e=eu(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?W8:G8,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Qx-wg(t+(this._isUTC?0:this.utcOffset()*bg),Qx)-1;break;case"minute":t=this._d.valueOf(),t+=bg-wg(t,bg)-1;break;case"second":t=this._d.valueOf(),t+=Jx-wg(t,Jx)-1;break}return this._d.setTime(t),bn.updateOffset(this,!0),this}function uB(){return this._d.valueOf()-(this._offset||0)*6e4}function hB(){return Math.floor(this.valueOf()/1e3)}function pB(){return new Date(this.valueOf())}function fB(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function mB(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function gB(){return this.isValid()?this.toISOString():null}function yB(){return n5(this)}function _B(){return Qp({},Rr(this))}function vB(){return Rr(this).overflow}function xB(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}er("N",0,0,"eraAbbr");er("NN",0,0,"eraAbbr");er("NNN",0,0,"eraAbbr");er("NNNN",0,0,"eraName");er("NNNNN",0,0,"eraNarrow");er("y",["y",1],"yo","eraYear");er("y",["yy",2],0,"eraYear");er("y",["yyy",3],0,"eraYear");er("y",["yyyy",4],0,"eraYear");Dn("N",v5);Dn("NN",v5);Dn("NNN",v5);Dn("NNNN",DB);Dn("NNNNN",IB);Xs(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?Rr(n).era=o:Rr(n).invalidEra=e});Dn("y",Wg);Dn("yy",Wg);Dn("yyy",Wg);Dn("yyyy",Wg);Dn("yo",LB);Xs(["y","yy","yyy","yyyy"],jl);Xs(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[jl]=n._locale.eraYearOrdinalParse(e,o):t[jl]=parseInt(e,10)});function bB(e,t){var n,r,o,d=this._eras||up("en")._eras;for(n=0,r=d.length;n<r;++n){switch(typeof d[n].since){case"string":o=bn(d[n].since).startOf("day"),d[n].since=o.valueOf();break}switch(typeof d[n].until){case"undefined":d[n].until=1/0;break;case"string":o=bn(d[n].until).startOf("day").valueOf(),d[n].until=o.valueOf();break}}return d}function wB(e,t,n){var r,o,d=this.eras(),h,s,b;for(e=e.toUpperCase(),r=0,o=d.length;r<o;++r)if(h=d[r].name.toUpperCase(),s=d[r].abbr.toUpperCase(),b=d[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return d[r];break;case"NNNN":if(h===e)return d[r];break;case"NNNNN":if(b===e)return d[r];break}else if([h,s,b].indexOf(e)>=0)return d[r]}function TB(e,t){var n=e.since<=e.until?1:-1;return t===void 0?bn(e.since).year():bn(e.since).year()+(t-e.offset)*n}function SB(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function CB(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function EB(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function MB(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-bn(o[e].since).year())*n+o[e].offset;return this.year()}function kB(e){return Ms(this,"_erasNameRegex")||x5.call(this),e?this._erasNameRegex:this._erasRegex}function AB(e){return Ms(this,"_erasAbbrRegex")||x5.call(this),e?this._erasAbbrRegex:this._erasRegex}function PB(e){return Ms(this,"_erasNarrowRegex")||x5.call(this),e?this._erasNarrowRegex:this._erasRegex}function v5(e,t){return t.erasAbbrRegex(e)}function DB(e,t){return t.erasNameRegex(e)}function IB(e,t){return t.erasNarrowRegex(e)}function LB(e,t){return t._eraYearOrdinalRegex||Wg}function x5(){var e=[],t=[],n=[],r=[],o,d,h=this.eras();for(o=0,d=h.length;o<d;++o)t.push(fd(h[o].name)),e.push(fd(h[o].abbr)),n.push(fd(h[o].narrow)),r.push(fd(h[o].name)),r.push(fd(h[o].abbr)),r.push(fd(h[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}er(0,["gg",2],0,function(){return this.weekYear()%100});er(0,["GG",2],0,function(){return this.isoWeekYear()%100});function e2(e,t){er(0,[e,e.length],0,t)}e2("gggg","weekYear");e2("ggggg","weekYear");e2("GGGG","isoWeekYear");e2("GGGGG","isoWeekYear");Ul("weekYear","gg");Ul("isoWeekYear","GG");$l("weekYear",1);$l("isoWeekYear",1);Dn("G",Xb);Dn("g",Xb);Dn("GG",Mo,vd);Dn("gg",Mo,vd);Dn("GGGG",c5,l5);Dn("gggg",c5,l5);Dn("GGGGG",qb,Hb);Dn("ggggg",qb,Hb);T_(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Xr(e)});T_(["gg","GG"],function(e,t,n,r){t[r]=bn.parseTwoDigitYear(e)});function OB(e){return H8.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function RB(e){return H8.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function BB(){return np(this.year(),1,4)}function zB(){return np(this.isoWeekYear(),1,4)}function NB(){var e=this.localeData()._week;return np(this.year(),e.dow,e.doy)}function FB(){var e=this.localeData()._week;return np(this.weekYear(),e.dow,e.doy)}function H8(e,t,n,r,o){var d;return e==null?i_(this,r,o).year:(d=np(e,r,o),t>d&&(t=d),jB.call(this,e,t,n,r,o))}function jB(e,t,n,r,o){var d=C8(e,t,n,r,o),h=t_(d.year,0,d.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}er("Q",0,"Qo","quarter");Ul("quarter","Q");$l("quarter",7);Dn("Q",m8);Xs("Q",function(e,t){t[Kh]=(Xr(e)-1)*3});function UB(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}er("D",["DD",2],"Do","date");Ul("date","D");$l("date",9);Dn("D",Mo);Dn("DD",Mo,vd);Dn("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Xs(["D","DD"],nh);Xs("Do",function(e,t){t[nh]=Xr(e.match(Mo)[0])});var Y8=Gg("Date",!0);er("DDD",["DDDD",3],"DDDo","dayOfYear");Ul("dayOfYear","DDD");$l("dayOfYear",4);Dn("DDD",Yb);Dn("DDDD",g8);Xs(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Xr(e)});function $B(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}er("m",["mm",2],0,"minute");Ul("minute","m");$l("minute",14);Dn("m",Mo);Dn("mm",Mo,vd);Xs(["m","mm"],xu);var VB=Gg("Minutes",!1);er("s",["ss",2],0,"second");Ul("second","s");$l("second",15);Dn("s",Mo);Dn("ss",Mo,vd);Xs(["s","ss"],Jh);var GB=Gg("Seconds",!1);er("S",0,0,function(){return~~(this.millisecond()/100)});er(0,["SS",2],0,function(){return~~(this.millisecond()/10)});er(0,["SSS",3],0,"millisecond");er(0,["SSSS",4],0,function(){return this.millisecond()*10});er(0,["SSSSS",5],0,function(){return this.millisecond()*100});er(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});er(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});er(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});er(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ul("millisecond","ms");$l("millisecond",16);Dn("S",Yb,m8);Dn("SS",Yb,vd);Dn("SSS",Yb,g8);var ef,q8;for(ef="SSSS";ef.length<=9;ef+="S")Dn(ef,Wg);function WB(e,t){t[P0]=Xr(("0."+e)*1e3)}for(ef="S";ef.length<=9;ef+="S")Xs(ef,WB);q8=Gg("Milliseconds",!1);er("z",0,0,"zoneAbbr");er("zz",0,0,"zoneName");function HB(){return this._isUTC?"UTC":""}function YB(){return this._isUTC?"Coordinated Universal Time":""}var nn=b_.prototype;nn.add=FR;nn.calendar=HR;nn.clone=YR;nn.diff=eB;nn.endOf=dB;nn.format=rB;nn.from=sB;nn.fromNow=oB;nn.to=aB;nn.toNow=lB;nn.get=X9;nn.invalidAt=vB;nn.isAfter=qR;nn.isBefore=XR;nn.isBetween=ZR;nn.isSame=KR;nn.isSameOrAfter=JR;nn.isSameOrBefore=QR;nn.isValid=yB;nn.lang=U8;nn.locale=j8;nn.localeData=$8;nn.max=yR;nn.min=gR;nn.parsingFlags=_B;nn.set=Z9;nn.startOf=cB;nn.subtract=jR;nn.toArray=fB;nn.toObject=mB;nn.toDate=pB;nn.toISOString=iB;nn.inspect=nB;typeof Symbol<"u"&&Symbol.for!=null&&(nn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});nn.toJSON=gB;nn.toString=tB;nn.unix=hB;nn.valueOf=uB;nn.creationData=xB;nn.eraName=SB;nn.eraNarrow=CB;nn.eraAbbr=EB;nn.eraYear=MB;nn.year=S8;nn.isLeapYear=m7;nn.weekYear=OB;nn.isoWeekYear=RB;nn.quarter=nn.quarters=UB;nn.month=w8;nn.daysInMonth=h7;nn.week=nn.weeks=b7;nn.isoWeek=nn.isoWeeks=w7;nn.weeksInYear=NB;nn.weeksInWeekYear=FB;nn.isoWeeksInYear=BB;nn.isoWeeksInISOWeekYear=zB;nn.date=Y8;nn.day=nn.days=R7;nn.weekday=B7;nn.isoWeekday=z7;nn.dayOfYear=$B;nn.hour=nn.hours=G7;nn.minute=nn.minutes=VB;nn.second=nn.seconds=GB;nn.millisecond=nn.milliseconds=q8;nn.utcOffset=ER;nn.utc=kR;nn.local=AR;nn.parseZone=PR;nn.hasAlignedHourOffset=DR;nn.isDST=IR;nn.isLocal=OR;nn.isUtcOffset=RR;nn.isUtc=B8;nn.isUTC=B8;nn.zoneAbbr=HB;nn.zoneName=YB;nn.dates=Qd("dates accessor is deprecated. Use date instead.",Y8);nn.months=Qd("months accessor is deprecated. Use month instead",w8);nn.years=Qd("years accessor is deprecated. Use year instead",S8);nn.zone=Qd("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",MR);nn.isDSTShifted=Qd("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",LR);function qB(e){return Eo(e*1e3)}function XB(){return Eo.apply(null,arguments).parseZone()}function X8(e){return e}var ks=s5.prototype;ks.calendar=R9;ks.longDateFormat=F9;ks.invalidDate=U9;ks.ordinal=G9;ks.preparse=X8;ks.postformat=X8;ks.relativeTime=H9;ks.pastFuture=Y9;ks.set=L9;ks.eras=bB;ks.erasParse=wB;ks.erasConvertYear=TB;ks.erasAbbrRegex=AB;ks.erasNameRegex=kB;ks.erasNarrowRegex=PB;ks.months=l7;ks.monthsShort=c7;ks.monthsParse=u7;ks.monthsRegex=f7;ks.monthsShortRegex=p7;ks.week=y7;ks.firstDayOfYear=x7;ks.firstDayOfWeek=v7;ks.weekdays=P7;ks.weekdaysMin=I7;ks.weekdaysShort=D7;ks.weekdaysParse=O7;ks.weekdaysRegex=N7;ks.weekdaysShortRegex=F7;ks.weekdaysMinRegex=j7;ks.isPM=$7;ks.meridiem=W7;function eb(e,t,n,r){var o=up(),d=ph().set(r,t);return o[n](d,e)}function Z8(e,t,n){if(ap(e)&&(t=e,e=void 0),e=e||"",t!=null)return eb(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=eb(e,r,n,"month");return o}function b5(e,t,n,r){typeof e=="boolean"?(ap(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,ap(t)&&(n=t,t=void 0),t=t||"");var o=up(),d=e?o._week.dow:0,h,s=[];if(n!=null)return eb(t,(n+d)%7,r,"day");for(h=0;h<7;h++)s[h]=eb(t,(h+d)%7,r,"day");return s}function ZB(e,t){return Z8(e,t,"months")}function KB(e,t){return Z8(e,t,"monthsShort")}function JB(e,t,n){return b5(e,t,n,"weekdays")}function QB(e,t,n){return b5(e,t,n,"weekdaysShort")}function ez(e,t,n){return b5(e,t,n,"weekdaysMin")}cf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Xr(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});bn.lang=Qd("moment.lang is deprecated. Use moment.locale instead.",cf);bn.langData=Qd("moment.langData is deprecated. Use moment.localeData instead.",up);var $h=Math.abs;function tz(){var e=this._data;return this._milliseconds=$h(this._milliseconds),this._days=$h(this._days),this._months=$h(this._months),e.milliseconds=$h(e.milliseconds),e.seconds=$h(e.seconds),e.minutes=$h(e.minutes),e.hours=$h(e.hours),e.months=$h(e.months),e.years=$h(e.years),this}function K8(e,t,n,r){var o=Au(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function iz(e,t){return K8(this,e,t,1)}function nz(e,t){return K8(this,e,t,-1)}function yE(e){return e<0?Math.floor(e):Math.ceil(e)}function rz(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,d,h,s,b;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=yE(ET(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=Yd(e/1e3),r.seconds=o%60,d=Yd(o/60),r.minutes=d%60,h=Yd(d/60),r.hours=h%24,t+=Yd(h/24),b=Yd(J8(t)),n+=b,t-=yE(ET(b)),s=Yd(n/12),n%=12,r.days=t,r.months=n,r.years=s,this}function J8(e){return e*4800/146097}function ET(e){return e*146097/4800}function sz(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=eu(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+J8(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(ET(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function oz(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Xr(this._months/12)*31536e6:NaN}function hp(e){return function(){return this.as(e)}}var az=hp("ms"),lz=hp("s"),cz=hp("m"),dz=hp("h"),uz=hp("d"),hz=hp("w"),pz=hp("M"),fz=hp("Q"),mz=hp("y");function gz(){return Au(this)}function yz(e){return e=eu(e),this.isValid()?this[e+"s"]():NaN}function tm(e){return function(){return this.isValid()?this._data[e]:NaN}}var _z=tm("milliseconds"),vz=tm("seconds"),xz=tm("minutes"),bz=tm("hours"),wz=tm("days"),Tz=tm("months"),Sz=tm("years");function Cz(){return Yd(this.days()/7)}var Yh=Math.round,pg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ez(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function Mz(e,t,n,r){var o=Au(e).abs(),d=Yh(o.as("s")),h=Yh(o.as("m")),s=Yh(o.as("h")),b=Yh(o.as("d")),R=Yh(o.as("M")),J=Yh(o.as("w")),I=Yh(o.as("y")),z=d<=n.ss&&["s",d]||d<n.s&&["ss",d]||h<=1&&["m"]||h<n.m&&["mm",h]||s<=1&&["h"]||s<n.h&&["hh",s]||b<=1&&["d"]||b<n.d&&["dd",b];return n.w!=null&&(z=z||J<=1&&["w"]||J<n.w&&["ww",J]),z=z||R<=1&&["M"]||R<n.M&&["MM",R]||I<=1&&["y"]||["yy",I],z[2]=t,z[3]=+e>0,z[4]=r,Ez.apply(null,z)}function kz(e){return e===void 0?Yh:typeof e=="function"?(Yh=e,!0):!1}function Az(e,t){return pg[e]===void 0?!1:t===void 0?pg[e]:(pg[e]=t,e==="s"&&(pg.ss=t-1),!0)}function Pz(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=pg,o,d;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},pg,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),d=Mz(this,!n,r,o),n&&(d=o.pastFuture(+this,d)),o.postformat(d)}var m3=Math.abs;function lg(e){return(e>0)-(e<0)||+e}function t2(){if(!this.isValid())return this.localeData().invalidDate();var e=m3(this._milliseconds)/1e3,t=m3(this._days),n=m3(this._months),r,o,d,h,s=this.asSeconds(),b,R,J,I;return s?(r=Yd(e/60),o=Yd(r/60),e%=60,r%=60,d=Yd(n/12),n%=12,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",b=s<0?"-":"",R=lg(this._months)!==lg(s)?"-":"",J=lg(this._days)!==lg(s)?"-":"",I=lg(this._milliseconds)!==lg(s)?"-":"",b+"P"+(d?R+d+"Y":"")+(n?R+n+"M":"")+(t?J+t+"D":"")+(o||r||e?"T":"")+(o?I+o+"H":"")+(r?I+r+"M":"")+(e?I+h+"S":"")):"P0D"}var us=Qb.prototype;us.isValid=wR;us.abs=tz;us.add=iz;us.subtract=nz;us.as=sz;us.asMilliseconds=az;us.asSeconds=lz;us.asMinutes=cz;us.asHours=dz;us.asDays=uz;us.asWeeks=hz;us.asMonths=pz;us.asQuarters=fz;us.asYears=mz;us.valueOf=oz;us._bubble=rz;us.clone=gz;us.get=yz;us.milliseconds=_z;us.seconds=vz;us.minutes=xz;us.hours=bz;us.days=wz;us.weeks=Cz;us.months=Tz;us.years=Sz;us.humanize=Pz;us.toISOString=t2;us.toString=t2;us.toJSON=t2;us.locale=j8;us.localeData=$8;us.toIsoString=Qd("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",t2);us.lang=U8;er("X",0,0,"unix");er("x",0,0,"valueOf");Dn("x",Xb);Dn("X",J9);Xs("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Xs("x",function(e,t,n){n._d=new Date(Xr(e))});//! moment.js
bn.version="2.29.4";D9(Eo);bn.fn=nn;bn.min=_R;bn.max=vR;bn.now=xR;bn.utc=ph;bn.unix=qB;bn.months=ZB;bn.isDate=x_;bn.locale=cf;bn.invalid=Gb;bn.duration=Au;bn.isMoment=Cu;bn.weekdays=JB;bn.parseZone=XB;bn.localeData=up;bn.isDuration=Sx;bn.monthsShort=KB;bn.weekdaysMin=ez;bn.defineLocale=p5;bn.updateLocale=X7;bn.locales=Z7;bn.weekdaysShort=QB;bn.normalizeUnits=eu;bn.relativeTimeRounding=kz;bn.relativeTimeThreshold=Az;bn.calendarFormat=WR;bn.prototype=nn;bn.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q8={exports:{}};/*!
* sweetalert2 v11.4.0
* Released under the MIT License.
*/(function(e,t){(function(n,r){e.exports=r()})(qp,function(){const n="SweetAlert2:",r=be=>{const Se=[];for(let $e=0;$e<be.length;$e++)Se.indexOf(be[$e])===-1&&Se.push(be[$e]);return Se},o=be=>be.charAt(0).toUpperCase()+be.slice(1),d=be=>Array.prototype.slice.call(be),h=be=>{console.warn("".concat(n," ").concat(typeof be=="object"?be.join(" "):be))},s=be=>{console.error("".concat(n," ").concat(be))},b=[],R=be=>{b.includes(be)||(b.push(be),h(be))},J=(be,Se)=>{R('"'.concat(be,'" is deprecated and will be removed in the next major release. Please use "').concat(Se,'" instead.'))},I=be=>typeof be=="function"?be():be,z=be=>be&&typeof be.toPromise=="function",Z=be=>z(be)?be.toPromise():Promise.resolve(be),L=be=>be&&Promise.resolve(be)===be,O={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},G=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],M={},S=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],P=be=>Object.prototype.hasOwnProperty.call(O,be),H=be=>G.indexOf(be)!==-1,U=be=>M[be],E=be=>{P(be)||h('Unknown parameter "'.concat(be,'"'))},ie=be=>{S.includes(be)&&h('The parameter "'.concat(be,'" is incompatible with toasts'))},te=be=>{U(be)&&J(be,U(be))},$=be=>{!be.backdrop&&be.allowOutsideClick&&h('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const Se in be)E(Se),be.toast&&ie(Se),te(Se)},V="swal2-",j=be=>{const Se={};for(const $e in be)Se[be[$e]]=V+be[$e];return Se},w=j(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),D=j(["success","warning","info","question","error"]),m=()=>document.body.querySelector(".".concat(w.container)),g=be=>{const Se=m();return Se?Se.querySelector(be):null},x=be=>g(".".concat(be)),k=()=>x(w.popup),q=()=>x(w.icon),Y=()=>x(w.title),K=()=>x(w["html-container"]),le=()=>x(w.image),he=()=>x(w["progress-steps"]),pe=()=>x(w["validation-message"]),F=()=>g(".".concat(w.actions," .").concat(w.confirm)),Q=()=>g(".".concat(w.actions," .").concat(w.deny)),ce=()=>x(w["input-label"]),ge=()=>g(".".concat(w.loader)),ke=()=>g(".".concat(w.actions," .").concat(w.cancel)),re=()=>x(w.actions),ve=()=>x(w.footer),_e=()=>x(w["timer-progress-bar"]),oe=()=>x(w.close),ye=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Te=()=>{const be=d(k().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(($e,vt)=>{const Si=parseInt($e.getAttribute("tabindex")),Tn=parseInt(vt.getAttribute("tabindex"));return Si>Tn?1:Si<Tn?-1:0}),Se=d(k().querySelectorAll(ye)).filter($e=>$e.getAttribute("tabindex")!=="-1");return r(be.concat(Se)).filter($e=>Nt($e))},Oe=()=>!ut(document.body,w["toast-shown"])&&!ut(document.body,w["no-backdrop"]),Le=()=>k()&&ut(k(),w.toast),Ue=()=>k().hasAttribute("data-loading"),nt={previousBodyPadding:null},Qe=(be,Se)=>{if(be.textContent="",Se){const vt=new DOMParser().parseFromString(Se,"text/html");d(vt.querySelector("head").childNodes).forEach(Si=>{be.appendChild(Si)}),d(vt.querySelector("body").childNodes).forEach(Si=>{be.appendChild(Si)})}},ut=(be,Se)=>{if(!Se)return!1;const $e=Se.split(/\s+/);for(let vt=0;vt<$e.length;vt++)if(!be.classList.contains($e[vt]))return!1;return!0},Me=(be,Se)=>{d(be.classList).forEach($e=>{!Object.values(w).includes($e)&&!Object.values(D).includes($e)&&!Object.values(Se.showClass).includes($e)&&be.classList.remove($e)})},Re=(be,Se,$e)=>{if(Me(be,Se),Se.customClass&&Se.customClass[$e]){if(typeof Se.customClass[$e]!="string"&&!Se.customClass[$e].forEach)return h("Invalid type of customClass.".concat($e,'! Expected string or iterable object, got "').concat(typeof Se.customClass[$e],'"'));yt(be,Se.customClass[$e])}},Ne=(be,Se)=>{if(!Se)return null;switch(Se){case"select":case"textarea":case"file":return be.querySelector(".".concat(w.popup," > .").concat(w[Se]));case"checkbox":return be.querySelector(".".concat(w.popup," > .").concat(w.checkbox," input"));case"radio":return be.querySelector(".".concat(w.popup," > .").concat(w.radio," input:checked"))||be.querySelector(".".concat(w.popup," > .").concat(w.radio," input:first-child"));case"range":return be.querySelector(".".concat(w.popup," > .").concat(w.range," input"));default:return be.querySelector(".".concat(w.popup," > .").concat(w.input))}},Xe=be=>{if(be.focus(),be.type!=="file"){const Se=be.value;be.value="",be.value=Se}},rt=(be,Se,$e)=>{!be||!Se||(typeof Se=="string"&&(Se=Se.split(/\s+/).filter(Boolean)),Se.forEach(vt=>{Array.isArray(be)?be.forEach(Si=>{$e?Si.classList.add(vt):Si.classList.remove(vt)}):$e?be.classList.add(vt):be.classList.remove(vt)}))},yt=(be,Se)=>{rt(be,Se,!0)},$t=(be,Se)=>{rt(be,Se,!1)},Wt=(be,Se)=>{const $e=d(be.childNodes);for(let vt=0;vt<$e.length;vt++)if(ut($e[vt],Se))return $e[vt]},Ci=(be,Se,$e)=>{$e==="".concat(parseInt($e))&&($e=parseInt($e)),$e||parseInt($e)===0?be.style[Se]=typeof $e=="number"?"".concat($e,"px"):$e:be.style.removeProperty(Se)},ti=function(be){let Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";be.style.display=Se},Mi=be=>{be.style.display="none"},on=(be,Se,$e,vt)=>{const Si=be.querySelector(Se);Si&&(Si.style[$e]=vt)},ft=(be,Se,$e)=>{Se?ti(be,$e):Mi(be)},Nt=be=>!!(be&&(be.offsetWidth||be.offsetHeight||be.getClientRects().length)),fi=()=>!Nt(F())&&!Nt(Q())&&!Nt(ke()),Ui=be=>be.scrollHeight>be.clientHeight,dn=be=>{const Se=window.getComputedStyle(be),$e=parseFloat(Se.getPropertyValue("animation-duration")||"0"),vt=parseFloat(Se.getPropertyValue("transition-duration")||"0");return $e>0||vt>0},Gn=function(be){let Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const $e=_e();Nt($e)&&(Se&&($e.style.transition="none",$e.style.width="100%"),setTimeout(()=>{$e.style.transition="width ".concat(be/1e3,"s linear"),$e.style.width="0%"},10))},Kr=()=>{const be=_e(),Se=parseInt(window.getComputedStyle(be).width);be.style.removeProperty("transition"),be.style.width="100%";const $e=parseInt(window.getComputedStyle(be).width),vt=Se/$e*100;be.style.removeProperty("transition"),be.style.width="".concat(vt,"%")},ci=()=>typeof window>"u"||typeof document>"u",$i=100,Wi={},zr=()=>{Wi.previousActiveElement&&Wi.previousActiveElement.focus?(Wi.previousActiveElement.focus(),Wi.previousActiveElement=null):document.body&&document.body.focus()},fo=be=>new Promise(Se=>{if(!be)return Se();const $e=window.scrollX,vt=window.scrollY;Wi.restoreFocusTimeout=setTimeout(()=>{zr(),Se()},$i),window.scrollTo($e,vt)}),wn=`
 <div aria-labelledby="`.concat(w.title,'" aria-describedby="').concat(w["html-container"],'" class="').concat(w.popup,`" tabindex="-1">
   <button type="button" class="`).concat(w.close,`"></button>
   <ul class="`).concat(w["progress-steps"],`"></ul>
   <div class="`).concat(w.icon,`"></div>
   <img class="`).concat(w.image,`" />
   <h2 class="`).concat(w.title,'" id="').concat(w.title,`"></h2>
   <div class="`).concat(w["html-container"],'" id="').concat(w["html-container"],`"></div>
   <input class="`).concat(w.input,`" />
   <input type="file" class="`).concat(w.file,`" />
   <div class="`).concat(w.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(w.select,`"></select>
   <div class="`).concat(w.radio,`"></div>
   <label for="`).concat(w.checkbox,'" class="').concat(w.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(w.label,`"></span>
   </label>
   <textarea class="`).concat(w.textarea,`"></textarea>
   <div class="`).concat(w["validation-message"],'" id="').concat(w["validation-message"],`"></div>
   <div class="`).concat(w.actions,`">
     <div class="`).concat(w.loader,`"></div>
     <button type="button" class="`).concat(w.confirm,`"></button>
     <button type="button" class="`).concat(w.deny,`"></button>
     <button type="button" class="`).concat(w.cancel,`"></button>
   </div>
   <div class="`).concat(w.footer,`"></div>
   <div class="`).concat(w["timer-progress-bar-container"],`">
     <div class="`).concat(w["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),oo=()=>{const be=m();return be?(be.remove(),$t([document.documentElement,document.body],[w["no-backdrop"],w["toast-shown"],w["has-column"]]),!0):!1},Ln=()=>{Wi.currentInstance.resetValidationMessage()},ja=()=>{const be=k(),Se=Wt(be,w.input),$e=Wt(be,w.file),vt=be.querySelector(".".concat(w.range," input")),Si=be.querySelector(".".concat(w.range," output")),Tn=Wt(be,w.select),vr=be.querySelector(".".concat(w.checkbox," input")),to=Wt(be,w.textarea);Se.oninput=Ln,$e.onchange=Ln,Tn.onchange=Ln,vr.onchange=Ln,to.oninput=Ln,vt.oninput=()=>{Ln(),Si.value=vt.value},vt.onchange=()=>{Ln(),vt.nextSibling.value=vt.value}},il=be=>typeof be=="string"?document.querySelector(be):be,ht=be=>{const Se=k();Se.setAttribute("role",be.toast?"alert":"dialog"),Se.setAttribute("aria-live",be.toast?"polite":"assertive"),be.toast||Se.setAttribute("aria-modal","true")},ze=be=>{window.getComputedStyle(be).direction==="rtl"&&yt(m(),w.rtl)},We=be=>{const Se=oo();if(ci()){s("SweetAlert2 requires document to initialize");return}const $e=document.createElement("div");$e.className=w.container,Se&&yt($e,w["no-transition"]),Qe($e,wn);const vt=il(be.target);vt.appendChild($e),ht(be),ze(vt),ja()},ct=(be,Se)=>{be instanceof HTMLElement?Se.appendChild(be):typeof be=="object"?_t(be,Se):be&&Qe(Se,be)},_t=(be,Se)=>{be.jquery?Dt(Se,be):Qe(Se,be.toString())},Dt=(be,Se)=>{if(be.textContent="",0 in Se)for(let $e=0;$e in Se;$e++)be.appendChild(Se[$e].cloneNode(!0));else be.appendChild(Se.cloneNode(!0))},Ft=(()=>{if(ci())return!1;const be=document.createElement("div"),Se={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const $e in Se)if(Object.prototype.hasOwnProperty.call(Se,$e)&&typeof be.style[$e]<"u")return Se[$e];return!1})(),Gt=()=>{const be=document.createElement("div");be.className=w["scrollbar-measure"],document.body.appendChild(be);const Se=be.getBoundingClientRect().width-be.clientWidth;return document.body.removeChild(be),Se},Lt=(be,Se)=>{const $e=re(),vt=ge();!Se.showConfirmButton&&!Se.showDenyButton&&!Se.showCancelButton?Mi($e):ti($e),Re($e,Se,"actions"),Xt($e,vt,Se),Qe(vt,Se.loaderHtml),Re(vt,Se,"loader")};function Xt(be,Se,$e){const vt=F(),Si=Q(),Tn=ke();qi(vt,"confirm",$e),qi(Si,"deny",$e),qi(Tn,"cancel",$e),_i(vt,Si,Tn,$e),$e.reverseButtons&&($e.toast?(be.insertBefore(Tn,vt),be.insertBefore(Si,vt)):(be.insertBefore(Tn,Se),be.insertBefore(Si,Se),be.insertBefore(vt,Se)))}function _i(be,Se,$e,vt){if(!vt.buttonsStyling)return $t([be,Se,$e],w.styled);yt([be,Se,$e],w.styled),vt.confirmButtonColor&&(be.style.backgroundColor=vt.confirmButtonColor,yt(be,w["default-outline"])),vt.denyButtonColor&&(Se.style.backgroundColor=vt.denyButtonColor,yt(Se,w["default-outline"])),vt.cancelButtonColor&&($e.style.backgroundColor=vt.cancelButtonColor,yt($e,w["default-outline"]))}function qi(be,Se,$e){ft(be,$e["show".concat(o(Se),"Button")],"inline-block"),Qe(be,$e["".concat(Se,"ButtonText")]),be.setAttribute("aria-label",$e["".concat(Se,"ButtonAriaLabel")]),be.className=w[Se],Re(be,$e,"".concat(Se,"Button")),yt(be,$e["".concat(Se,"ButtonClass")])}function Pi(be,Se){typeof Se=="string"?be.style.background=Se:Se||yt([document.documentElement,document.body],w["no-backdrop"])}function Mn(be,Se){Se in w?yt(be,w[Se]):(h('The "position" parameter is not valid, defaulting to "center"'),yt(be,w.center))}function Cn(be,Se){if(Se&&typeof Se=="string"){const $e="grow-".concat(Se);$e in w&&yt(be,w[$e])}}const un=(be,Se)=>{const $e=m();$e&&(Pi($e,Se.backdrop),Mn($e,Se.position),Cn($e,Se.grow),Re($e,Se,"container"))};var Gi={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const lr=["input","file","range","select","radio","checkbox","textarea"],kr=(be,Se)=>{const $e=k(),vt=Gi.innerParams.get(be),Si=!vt||Se.input!==vt.input;lr.forEach(Tn=>{const vr=w[Tn],to=Wt($e,vr);Lr(Tn,Se.inputAttributes),to.className=vr,Si&&Mi(to)}),Se.input&&(Si&&_n(Se),Ua(Se))},_n=be=>{if(!hs[be.input])return s('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(be.input,'"'));const Se=hi(be.input),$e=hs[be.input](Se,be);ti($e),setTimeout(()=>{Xe($e)})},Hr=be=>{for(let Se=0;Se<be.attributes.length;Se++){const $e=be.attributes[Se].name;["type","value","style"].includes($e)||be.removeAttribute($e)}},Lr=(be,Se)=>{const $e=Ne(k(),be);if($e){Hr($e);for(const vt in Se)$e.setAttribute(vt,Se[vt])}},Ua=be=>{const Se=hi(be.input);be.customClass&&yt(Se,be.customClass.input)},$a=(be,Se)=>{(!be.placeholder||Se.inputPlaceholder)&&(be.placeholder=Se.inputPlaceholder)},mo=(be,Se,$e)=>{if($e.inputLabel){be.id=w.input;const vt=document.createElement("label"),Si=w["input-label"];vt.setAttribute("for",be.id),vt.className=Si,yt(vt,$e.customClass.inputLabel),vt.innerText=$e.inputLabel,Se.insertAdjacentElement("beforebegin",vt)}},hi=be=>{const Se=w[be]?w[be]:w.input;return Wt(k(),Se)},hs={};hs.text=hs.email=hs.password=hs.number=hs.tel=hs.url=(be,Se)=>(typeof Se.inputValue=="string"||typeof Se.inputValue=="number"?be.value=Se.inputValue:L(Se.inputValue)||h('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof Se.inputValue,'"')),mo(be,be,Se),$a(be,Se),be.type=Se.input,be),hs.file=(be,Se)=>(mo(be,be,Se),$a(be,Se),be),hs.range=(be,Se)=>{const $e=be.querySelector("input"),vt=be.querySelector("output");return $e.value=Se.inputValue,$e.type=Se.input,vt.value=Se.inputValue,mo($e,be,Se),be},hs.select=(be,Se)=>{if(be.textContent="",Se.inputPlaceholder){const $e=document.createElement("option");Qe($e,Se.inputPlaceholder),$e.value="",$e.disabled=!0,$e.selected=!0,be.appendChild($e)}return mo(be,be,Se),be},hs.radio=be=>(be.textContent="",be),hs.checkbox=(be,Se)=>{const $e=Ne(k(),"checkbox");$e.value="1",$e.id=w.checkbox,$e.checked=!!Se.inputValue;const vt=be.querySelector("span");return Qe(vt,Se.inputPlaceholder),be},hs.textarea=(be,Se)=>{be.value=Se.inputValue,$a(be,Se),mo(be,be,Se);const $e=vt=>parseInt(window.getComputedStyle(vt).marginLeft)+parseInt(window.getComputedStyle(vt).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const vt=parseInt(window.getComputedStyle(k()).width),Si=()=>{const Tn=be.offsetWidth+$e(be);Tn>vt?k().style.width="".concat(Tn,"px"):k().style.width=null};new MutationObserver(Si).observe(be,{attributes:!0,attributeFilter:["style"]})}}),be};const Ls=(be,Se)=>{const $e=K();Re($e,Se,"htmlContainer"),Se.html?(ct(Se.html,$e),ti($e,"block")):Se.text?($e.textContent=Se.text,ti($e,"block")):Mi($e),kr(be,Se)},Os=(be,Se)=>{const $e=ve();ft($e,Se.footer),Se.footer&&ct(Se.footer,$e),Re($e,Se,"footer")},xc=(be,Se)=>{const $e=oe();Qe($e,Se.closeButtonHtml),Re($e,Se,"closeButton"),ft($e,Se.showCloseButton),$e.setAttribute("aria-label",Se.closeButtonAriaLabel)},ko=(be,Se)=>{const $e=Gi.innerParams.get(be),vt=q();if($e&&Se.icon===$e.icon){tr(vt,Se),Hc(vt,Se);return}if(!Se.icon&&!Se.iconHtml)return Mi(vt);if(Se.icon&&Object.keys(D).indexOf(Se.icon)===-1)return s('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(Se.icon,'"')),Mi(vt);ti(vt),tr(vt,Se),Hc(vt,Se),yt(vt,Se.showClass.icon)},Hc=(be,Se)=>{for(const $e in D)Se.icon!==$e&&$t(be,D[$e]);yt(be,D[Se.icon]),cr(be,Se),tu(),Re(be,Se,"icon")},tu=()=>{const be=k(),Se=window.getComputedStyle(be).getPropertyValue("background-color"),$e=be.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let vt=0;vt<$e.length;vt++)$e[vt].style.backgroundColor=Se},ao=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Xi=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,tr=(be,Se)=>{be.textContent="",Se.iconHtml?Qe(be,Jo(Se.iconHtml)):Se.icon==="success"?Qe(be,ao):Se.icon==="error"?Qe(be,Xi):Qe(be,Jo({question:"?",warning:"!",info:"i"}[Se.icon]))},cr=(be,Se)=>{if(Se.iconColor){be.style.color=Se.iconColor,be.style.borderColor=Se.iconColor;for(const $e of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])on(be,$e,"backgroundColor",Se.iconColor);on(be,".swal2-success-ring","borderColor",Se.iconColor)}},Jo=be=>'<div class="'.concat(w["icon-content"],'">').concat(be,"</div>"),Va=(be,Se)=>{const $e=le();if(!Se.imageUrl)return Mi($e);ti($e,""),$e.setAttribute("src",Se.imageUrl),$e.setAttribute("alt",Se.imageAlt),Ci($e,"width",Se.imageWidth),Ci($e,"height",Se.imageHeight),$e.className=w.image,Re($e,Se,"image")},Nn=be=>{const Se=document.createElement("li");return yt(Se,w["progress-step"]),Qe(Se,be),Se},bc=be=>{const Se=document.createElement("li");return yt(Se,w["progress-step-line"]),be.progressStepsDistance&&(Se.style.width=be.progressStepsDistance),Se},Ca=(be,Se)=>{const $e=he();if(!Se.progressSteps||Se.progressSteps.length===0)return Mi($e);ti($e),$e.textContent="",Se.currentProgressStep>=Se.progressSteps.length&&h("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),Se.progressSteps.forEach((vt,Si)=>{const Tn=Nn(vt);if($e.appendChild(Tn),Si===Se.currentProgressStep&&yt(Tn,w["active-progress-step"]),Si!==Se.progressSteps.length-1){const vr=bc(Se);$e.appendChild(vr)}})},nl=(be,Se)=>{const $e=Y();ft($e,Se.title||Se.titleText,"block"),Se.title&&ct(Se.title,$e),Se.titleText&&($e.innerText=Se.titleText),Re($e,Se,"title")},Zs=(be,Se)=>{const $e=m(),vt=k();Se.toast?(Ci($e,"width",Se.width),vt.style.width="100%",vt.insertBefore(ge(),q())):Ci(vt,"width",Se.width),Ci(vt,"padding",Se.padding),Se.color&&(vt.style.color=Se.color),Se.background&&(vt.style.background=Se.background),Mi(pe()),Vr(vt,Se)},Vr=(be,Se)=>{be.className="".concat(w.popup," ").concat(Nt(be)?Se.showClass.popup:""),Se.toast?(yt([document.documentElement,document.body],w["toast-shown"]),yt(be,w.toast)):yt(be,w.modal),Re(be,Se,"popup"),typeof Se.customClass=="string"&&yt(be,Se.customClass),Se.icon&&yt(be,w["icon-".concat(Se.icon)])},lo=(be,Se)=>{Zs(be,Se),un(be,Se),Ca(be,Se),ko(be,Se),Va(be,Se),nl(be,Se),xc(be,Se),Ls(be,Se),Lt(be,Se),Os(be,Se),typeof Se.didRender=="function"&&Se.didRender(k())},Uo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Gl=()=>{d(document.body.children).forEach(Se=>{Se===m()||Se.contains(m())||(Se.hasAttribute("aria-hidden")&&Se.setAttribute("data-previous-aria-hidden",Se.getAttribute("aria-hidden")),Se.setAttribute("aria-hidden","true"))})},pa=()=>{d(document.body.children).forEach(Se=>{Se.hasAttribute("data-previous-aria-hidden")?(Se.setAttribute("aria-hidden",Se.getAttribute("data-previous-aria-hidden")),Se.removeAttribute("data-previous-aria-hidden")):Se.removeAttribute("aria-hidden")})},yl=["swal-title","swal-html","swal-footer"],_l=be=>{const Se=typeof be.template=="string"?document.querySelector(be.template):be.template;if(!Se)return{};const $e=Se.content;return Wl($e),Object.assign(rl($e),vl($e),Yc($e),qc($e),Ro($e),As($e,yl))},rl=be=>{const Se={};return d(be.querySelectorAll("swal-param")).forEach($e=>{sl($e,["name","value"]);const vt=$e.getAttribute("name"),Si=$e.getAttribute("value");typeof O[vt]=="boolean"&&Si==="false"&&(Se[vt]=!1),typeof O[vt]=="object"&&(Se[vt]=JSON.parse(Si))}),Se},vl=be=>{const Se={};return d(be.querySelectorAll("swal-button")).forEach($e=>{sl($e,["type","color","aria-label"]);const vt=$e.getAttribute("type");Se["".concat(vt,"ButtonText")]=$e.innerHTML,Se["show".concat(o(vt),"Button")]=!0,$e.hasAttribute("color")&&(Se["".concat(vt,"ButtonColor")]=$e.getAttribute("color")),$e.hasAttribute("aria-label")&&(Se["".concat(vt,"ButtonAriaLabel")]=$e.getAttribute("aria-label"))}),Se},Yc=be=>{const Se={},$e=be.querySelector("swal-image");return $e&&(sl($e,["src","width","height","alt"]),$e.hasAttribute("src")&&(Se.imageUrl=$e.getAttribute("src")),$e.hasAttribute("width")&&(Se.imageWidth=$e.getAttribute("width")),$e.hasAttribute("height")&&(Se.imageHeight=$e.getAttribute("height")),$e.hasAttribute("alt")&&(Se.imageAlt=$e.getAttribute("alt"))),Se},qc=be=>{const Se={},$e=be.querySelector("swal-icon");return $e&&(sl($e,["type","color"]),$e.hasAttribute("type")&&(Se.icon=$e.getAttribute("type")),$e.hasAttribute("color")&&(Se.iconColor=$e.getAttribute("color")),Se.iconHtml=$e.innerHTML),Se},Ro=be=>{const Se={},$e=be.querySelector("swal-input");$e&&(sl($e,["type","label","placeholder","value"]),Se.input=$e.getAttribute("type")||"text",$e.hasAttribute("label")&&(Se.inputLabel=$e.getAttribute("label")),$e.hasAttribute("placeholder")&&(Se.inputPlaceholder=$e.getAttribute("placeholder")),$e.hasAttribute("value")&&(Se.inputValue=$e.getAttribute("value")));const vt=be.querySelectorAll("swal-input-option");return vt.length&&(Se.inputOptions={},d(vt).forEach(Si=>{sl(Si,["value"]);const Tn=Si.getAttribute("value"),vr=Si.innerHTML;Se.inputOptions[Tn]=vr})),Se},As=(be,Se)=>{const $e={};for(const vt in Se){const Si=Se[vt],Tn=be.querySelector(Si);Tn&&(sl(Tn,[]),$e[Si.replace(/^swal-/,"")]=Tn.innerHTML.trim())}return $e},Wl=be=>{const Se=yl.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);d(be.children).forEach($e=>{const vt=$e.tagName.toLowerCase();Se.indexOf(vt)===-1&&h("Unrecognized element <".concat(vt,">"))})},sl=(be,Se)=>{d(be.attributes).forEach($e=>{Se.indexOf($e.name)===-1&&h(['Unrecognized attribute "'.concat($e.name,'" on <').concat(be.tagName.toLowerCase(),">."),"".concat(Se.length?"Allowed attributes are: ".concat(Se.join(", ")):"To set the value, use HTML within the element.")])})};var Ks={email:(be,Se)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(be)?Promise.resolve():Promise.resolve(Se||"Invalid email address"),url:(be,Se)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(be)?Promise.resolve():Promise.resolve(Se||"Invalid URL")};function fa(be){be.inputValidator||Object.keys(Ks).forEach(Se=>{be.input===Se&&(be.inputValidator=Ks[Se])})}function Pu(be){(!be.target||typeof be.target=="string"&&!document.querySelector(be.target)||typeof be.target!="string"&&!be.target.appendChild)&&(h('Target parameter is not valid, defaulting to "body"'),be.target="body")}function wd(be){fa(be),be.showLoaderOnConfirm&&!be.preConfirm&&h(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Pu(be),typeof be.title=="string"&&(be.title=be.title.split(`
`).join("<br />")),We(be)}class Ws{constructor(Se,$e){this.callback=Se,this.remaining=$e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(Se){const $e=this.running;return $e&&this.stop(),this.remaining+=Se,$e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Hl=()=>{nt.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(nt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(nt.previousBodyPadding+Gt(),"px"))},Td=()=>{nt.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(nt.previousBodyPadding,"px"),nt.previousBodyPadding=null)},Yl=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!ut(document.body,w.iosfix)){const Se=document.body.scrollTop;document.body.style.top="".concat(Se*-1,"px"),yt(document.body,w.iosfix),xl(),Js()}},Js=()=>{const be=navigator.userAgent,Se=!!be.match(/iPad/i)||!!be.match(/iPhone/i),$e=!!be.match(/WebKit/i);Se&&$e&&!be.match(/CriOS/i)&&k().scrollHeight>window.innerHeight-44&&(m().style.paddingBottom="".concat(44,"px"))},xl=()=>{const be=m();let Se;be.ontouchstart=$e=>{Se=Sd($e)},be.ontouchmove=$e=>{Se&&($e.preventDefault(),$e.stopPropagation())}},Sd=be=>{const Se=be.target,$e=m();return Pr(be)||Nr(be)?!1:Se===$e||!Ui($e)&&Se.tagName!=="INPUT"&&Se.tagName!=="TEXTAREA"&&!(Ui(K())&&K().contains(Se))},Pr=be=>be.touches&&be.touches.length&&be.touches[0].touchType==="stylus",Nr=be=>be.touches&&be.touches.length>1,Cd=()=>{if(ut(document.body,w.iosfix)){const be=parseInt(document.body.style.top,10);$t(document.body,w.iosfix),document.body.style.top="",document.body.scrollTop=be*-1}},Du=10,iu=be=>{const Se=m(),$e=k();typeof be.willOpen=="function"&&be.willOpen($e);const Si=window.getComputedStyle(document.body).overflowY;ql(Se,$e,be),setTimeout(()=>{Xc(Se,$e)},Du),Oe()&&(Ed(Se,be.scrollbarPadding,Si),Gl()),!Le()&&!Wi.previousActiveElement&&(Wi.previousActiveElement=document.activeElement),typeof be.didOpen=="function"&&setTimeout(()=>be.didOpen($e)),$t(Se,w["no-transition"])},ma=be=>{const Se=k();if(be.target!==Se)return;const $e=m();Se.removeEventListener(Ft,ma),$e.style.overflowY="auto"},Xc=(be,Se)=>{Ft&&dn(Se)?(be.style.overflowY="hidden",Se.addEventListener(Ft,ma)):be.style.overflowY="auto"},Ed=(be,Se,$e)=>{Yl(),Se&&$e!=="hidden"&&Hl(),setTimeout(()=>{be.scrollTop=0})},ql=(be,Se,$e)=>{yt(be,$e.showClass.backdrop),Se.style.setProperty("opacity","0","important"),ti(Se,"grid"),setTimeout(()=>{yt(Se,$e.showClass.popup),Se.style.removeProperty("opacity")},Du),yt([document.documentElement,document.body],w.shown),$e.heightAuto&&$e.backdrop&&!$e.toast&&yt([document.documentElement,document.body],w["height-auto"])},Qo=be=>{let Se=k();Se||new In,Se=k();const $e=ge();Le()?Mi(q()):Hs(Se,be),ti($e),Se.setAttribute("data-loading",!0),Se.setAttribute("aria-busy",!0),Se.focus()},Hs=(be,Se)=>{const $e=re(),vt=ge();!Se&&Nt(F())&&(Se=F()),ti($e),Se&&(Mi(Se),vt.setAttribute("data-button-to-replace",Se.className)),vt.parentNode.insertBefore(vt,Se),yt([be,$e],w.loading)},X=(be,Se)=>{Se.input==="select"||Se.input==="radio"?Ve(be,Se):["text","email","number","tel","textarea"].includes(Se.input)&&(z(Se.inputValue)||L(Se.inputValue))&&(Qo(F()),Ze(be,Se))},de=(be,Se)=>{const $e=be.getInput();if(!$e)return null;switch(Se.input){case"checkbox":return xe($e);case"radio":return Ee($e);case"file":return je($e);default:return Se.inputAutoTrim?$e.value.trim():$e.value}},xe=be=>be.checked?1:0,Ee=be=>be.checked?be.value:null,je=be=>be.files.length?be.getAttribute("multiple")!==null?be.files:be.files[0]:null,Ve=(be,Se)=>{const $e=k(),vt=Si=>It[Se.input]($e,St(Si),Se);z(Se.inputOptions)||L(Se.inputOptions)?(Qo(F()),Z(Se.inputOptions).then(Si=>{be.hideLoading(),vt(Si)})):typeof Se.inputOptions=="object"?vt(Se.inputOptions):s("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof Se.inputOptions))},Ze=(be,Se)=>{const $e=be.getInput();Mi($e),Z(Se.inputValue).then(vt=>{$e.value=Se.input==="number"?parseFloat(vt)||0:"".concat(vt),ti($e),$e.focus(),be.hideLoading()}).catch(vt=>{s("Error in inputValue promise: ".concat(vt)),$e.value="",ti($e),$e.focus(),be.hideLoading()})},It={select:(be,Se,$e)=>{const vt=Wt(be,w.select),Si=(Tn,vr,to)=>{const Ns=document.createElement("option");Ns.value=to,Qe(Ns,vr),Ns.selected=Zt(to,$e.inputValue),Tn.appendChild(Ns)};Se.forEach(Tn=>{const vr=Tn[0],to=Tn[1];if(Array.isArray(to)){const Ns=document.createElement("optgroup");Ns.label=vr,Ns.disabled=!1,vt.appendChild(Ns),to.forEach(Tl=>Si(Ns,Tl[1],Tl[0]))}else Si(vt,to,vr)}),vt.focus()},radio:(be,Se,$e)=>{const vt=Wt(be,w.radio);Se.forEach(Tn=>{const vr=Tn[0],to=Tn[1],Ns=document.createElement("input"),Tl=document.createElement("label");Ns.type="radio",Ns.name=w.radio,Ns.value=vr,Zt(vr,$e.inputValue)&&(Ns.checked=!0);const tn=document.createElement("span");Qe(tn,to),tn.className=w.label,Tl.appendChild(Ns),Tl.appendChild(tn),vt.appendChild(Tl)});const Si=vt.querySelectorAll("input");Si.length&&Si[0].focus()}},St=be=>{const Se=[];return typeof Map<"u"&&be instanceof Map?be.forEach(($e,vt)=>{let Si=$e;typeof Si=="object"&&(Si=St(Si)),Se.push([vt,Si])}):Object.keys(be).forEach($e=>{let vt=be[$e];typeof vt=="object"&&(vt=St(vt)),Se.push([$e,vt])}),Se},Zt=(be,Se)=>Se&&Se.toString()===be.toString(),pi=be=>{const Se=Gi.innerParams.get(be);be.disableButtons(),Se.input?di(be,"confirm"):Jr(be,!0)},ki=be=>{const Se=Gi.innerParams.get(be);be.disableButtons(),Se.returnInputValueOnDeny?di(be,"deny"):qn(be,!1)},si=(be,Se)=>{be.disableButtons(),Se(Uo.cancel)},di=(be,Se)=>{const $e=Gi.innerParams.get(be);if(!$e.input)return s('The "input" parameter is needed to be set when using returnInputValueOn'.concat(o(Se)));const vt=de(be,$e);$e.inputValidator?Yi(be,vt,Se):be.getInput().checkValidity()?Se==="deny"?qn(be,vt):Jr(be,vt):(be.enableButtons(),be.showValidationMessage($e.validationMessage))},Yi=(be,Se,$e)=>{const vt=Gi.innerParams.get(be);be.disableInput(),Promise.resolve().then(()=>Z(vt.inputValidator(Se,vt.validationMessage))).then(Tn=>{be.enableButtons(),be.enableInput(),Tn?be.showValidationMessage(Tn):$e==="deny"?qn(be,Se):Jr(be,Se)})},qn=(be,Se)=>{const $e=Gi.innerParams.get(be||void 0);$e.showLoaderOnDeny&&Qo(Q()),$e.preDeny?(Gi.awaitingPromise.set(be||void 0,!0),Promise.resolve().then(()=>Z($e.preDeny(Se,$e.validationMessage))).then(Si=>{Si===!1?be.hideLoading():be.closePopup({isDenied:!0,value:typeof Si>"u"?Se:Si})}).catch(Si=>ps(be||void 0,Si))):be.closePopup({isDenied:!0,value:Se})},pn=(be,Se)=>{be.closePopup({isConfirmed:!0,value:Se})},ps=(be,Se)=>{be.rejectPromise(Se)},Jr=(be,Se)=>{const $e=Gi.innerParams.get(be||void 0);$e.showLoaderOnConfirm&&Qo(),$e.preConfirm?(be.resetValidationMessage(),Gi.awaitingPromise.set(be||void 0,!0),Promise.resolve().then(()=>Z($e.preConfirm(Se,$e.validationMessage))).then(Si=>{Nt(pe())||Si===!1?be.hideLoading():pn(be,typeof Si>"u"?Se:Si)}).catch(Si=>ps(be||void 0,Si))):pn(be,Se)},hr=(be,Se,$e)=>{Gi.innerParams.get(be).toast?pr(be,Se,$e):(mr(Se),Qr(Se),Ga(be,Se,$e))},pr=(be,Se,$e)=>{Se.popup.onclick=()=>{const vt=Gi.innerParams.get(be);vt&&(Wn(vt)||vt.timer||vt.input)||$e(Uo.close)}},Wn=be=>be.showConfirmButton||be.showDenyButton||be.showCancelButton||be.showCloseButton;let Qs=!1;const mr=be=>{be.popup.onmousedown=()=>{be.container.onmouseup=function(Se){be.container.onmouseup=void 0,Se.target===be.container&&(Qs=!0)}}},Qr=be=>{be.container.onmousedown=()=>{be.popup.onmouseup=function(Se){be.popup.onmouseup=void 0,(Se.target===be.popup||be.popup.contains(Se.target))&&(Qs=!0)}}},Ga=(be,Se,$e)=>{Se.container.onclick=vt=>{const Si=Gi.innerParams.get(be);if(Qs){Qs=!1;return}vt.target===Se.container&&I(Si.allowOutsideClick)&&$e(Uo.backdrop)}},Xl=()=>Nt(k()),eo=()=>F()&&F().click(),ea=()=>Q()&&Q().click(),Zn=()=>ke()&&ke().click(),go=(be,Se,$e,vt)=>{Se.keydownTarget&&Se.keydownHandlerAdded&&(Se.keydownTarget.removeEventListener("keydown",Se.keydownHandler,{capture:Se.keydownListenerCapture}),Se.keydownHandlerAdded=!1),$e.toast||(Se.keydownHandler=Si=>Zl(be,Si,vt),Se.keydownTarget=$e.keydownListenerCapture?window:k(),Se.keydownListenerCapture=$e.keydownListenerCapture,Se.keydownTarget.addEventListener("keydown",Se.keydownHandler,{capture:Se.keydownListenerCapture}),Se.keydownHandlerAdded=!0)},ta=(be,Se,$e)=>{const vt=Te();if(vt.length)return Se=Se+$e,Se===vt.length?Se=0:Se===-1&&(Se=vt.length-1),vt[Se].focus();k().focus()},Bo=["ArrowRight","ArrowDown"],ga=["ArrowLeft","ArrowUp"],Zl=(be,Se,$e)=>{const vt=Gi.innerParams.get(be);vt&&(vt.stopKeydownPropagation&&Se.stopPropagation(),Se.key==="Enter"?ol(be,Se,vt):Se.key==="Tab"?Md(Se,vt):[...Bo,...ga].includes(Se.key)?Fr(Se.key):Se.key==="Escape"&&ya(Se,vt,$e))},ol=(be,Se,$e)=>{if(!(!I($e.allowEnterKey)||Se.isComposing)&&Se.target&&be.getInput()&&Se.target.outerHTML===be.getInput().outerHTML){if(["textarea","file"].includes($e.input))return;eo(),Se.preventDefault()}},Md=(be,Se)=>{const $e=be.target,vt=Te();let Si=-1;for(let Tn=0;Tn<vt.length;Tn++)if($e===vt[Tn]){Si=Tn;break}be.shiftKey?ta(Se,Si,-1):ta(Se,Si,1),be.stopPropagation(),be.preventDefault()},Fr=be=>{const Se=F(),$e=Q(),vt=ke();if(![Se,$e,vt].includes(document.activeElement))return;const Si=Bo.includes(be)?"nextElementSibling":"previousElementSibling",Tn=document.activeElement[Si];Tn instanceof HTMLElement&&Tn.focus()},ya=(be,Se,$e)=>{I(Se.allowEscapeKey)&&(be.preventDefault(),$e(Uo.esc))},Zc=be=>typeof be=="object"&&be.jquery,Kl=be=>be instanceof Element||Zc(be),zo=be=>{const Se={};return typeof be[0]=="object"&&!Kl(be[0])?Object.assign(Se,be[0]):["title","html","icon"].forEach(($e,vt)=>{const Si=be[vt];typeof Si=="string"||Kl(Si)?Se[$e]=Si:Si!==void 0&&s("Unexpected type of ".concat($e,'! Expected "string" or "Element", got ').concat(typeof Si))}),Se};function Jl(){const be=this;for(var Se=arguments.length,$e=new Array(Se),vt=0;vt<Se;vt++)$e[vt]=arguments[vt];return new be(...$e)}function wc(be){class Se extends this{_main(vt,Si){return super._main(vt,Object.assign({},be,Si))}}return Se}const nu=()=>Wi.timeout&&Wi.timeout.getTimerLeft(),Ql=()=>{if(Wi.timeout)return Kr(),Wi.timeout.stop()},ec=()=>{if(Wi.timeout){const be=Wi.timeout.start();return Gn(be),be}},Iu=()=>{const be=Wi.timeout;return be&&(be.running?Ql():ec())},tc=be=>{if(Wi.timeout){const Se=Wi.timeout.increase(be);return Gn(Se,!0),Se}},ru=()=>Wi.timeout&&Wi.timeout.isRunning();let Ea=!1;const Ma={};function ic(){let be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Ma[be]=this,Ea||(document.body.addEventListener("click",kd),Ea=!0)}const kd=be=>{for(let Se=be.target;Se&&Se!==document;Se=Se.parentNode)for(const $e in Ma){const vt=Se.getAttribute($e);if(vt){Ma[$e].fire({template:vt});return}}};var Tc=Object.freeze({isValidParameter:P,isUpdatableParameter:H,isDeprecatedParameter:U,argsToParams:zo,isVisible:Xl,clickConfirm:eo,clickDeny:ea,clickCancel:Zn,getContainer:m,getPopup:k,getTitle:Y,getHtmlContainer:K,getImage:le,getIcon:q,getInputLabel:ce,getCloseButton:oe,getActions:re,getConfirmButton:F,getDenyButton:Q,getCancelButton:ke,getLoader:ge,getFooter:ve,getTimerProgressBar:_e,getFocusableElements:Te,getValidationMessage:pe,isLoading:Ue,fire:Jl,mixin:wc,showLoading:Qo,enableLoading:Qo,getTimerLeft:nu,stopTimer:Ql,resumeTimer:ec,toggleTimer:Iu,increaseTimer:tc,isTimerRunning:ru,bindClickHandler:ic});function ia(){const be=Gi.innerParams.get(this);if(!be)return;const Se=Gi.domCache.get(this);Mi(Se.loader),Le()?be.icon&&ti(q()):yo(Se),$t([Se.popup,Se.actions],w.loading),Se.popup.removeAttribute("aria-busy"),Se.popup.removeAttribute("data-loading"),Se.confirmButton.disabled=!1,Se.denyButton.disabled=!1,Se.cancelButton.disabled=!1}const yo=be=>{const Se=be.popup.getElementsByClassName(be.loader.getAttribute("data-button-to-replace"));Se.length?ti(Se[0],"inline-block"):fi()&&Mi(be.actions)};function bl(be){const Se=Gi.innerParams.get(be||this),$e=Gi.domCache.get(be||this);return $e?Ne($e.popup,Se.input):null}var nc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Sc(be,Se,$e,vt){Le()?Vo(be,vt):(fo($e).then(()=>Vo(be,vt)),Wi.keydownTarget.removeEventListener("keydown",Wi.keydownHandler,{capture:Wi.keydownListenerCapture}),Wi.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(Se.setAttribute("style","display:none !important"),Se.removeAttribute("class"),Se.innerHTML=""):Se.remove(),Oe()&&(Td(),Cd(),pa()),yh()}function yh(){$t([document.documentElement,document.body],[w.shown,w["height-auto"],w["no-backdrop"],w["toast-shown"]])}function _r(be){be=Lu(be);const Se=nc.swalPromiseResolve.get(this),$e=_o(this);this.isAwaitingPromise()?be.isDismissed||(wl(this),Se(be)):$e&&Se(be)}function $o(){return!!Gi.awaitingPromise.get(this)}const _o=be=>{const Se=k();if(!Se)return!1;const $e=Gi.innerParams.get(be);if(!$e||ut(Se,$e.hideClass.popup))return!1;$t(Se,$e.showClass.popup),yt(Se,$e.hideClass.popup);const vt=m();return $t(vt,$e.showClass.backdrop),yt(vt,$e.hideClass.backdrop),Ou(be,Se,$e),!0};function na(be){const Se=nc.swalPromiseReject.get(this);wl(this),Se&&Se(be)}const wl=be=>{be.isAwaitingPromise()&&(Gi.awaitingPromise.delete(be),Gi.innerParams.get(be)||be._destroy())},Lu=be=>typeof be>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},be),Ou=(be,Se,$e)=>{const vt=m(),Si=Ft&&dn(Se);typeof $e.willClose=="function"&&$e.willClose(Se),Si?Ru(be,Se,vt,$e.returnFocus,$e.didClose):Sc(be,vt,$e.returnFocus,$e.didClose)},Ru=(be,Se,$e,vt,Si)=>{Wi.swalCloseEventFinishedCallback=Sc.bind(null,be,$e,vt,Si),Se.addEventListener(Ft,function(Tn){Tn.target===Se&&(Wi.swalCloseEventFinishedCallback(),delete Wi.swalCloseEventFinishedCallback)})},Vo=(be,Se)=>{setTimeout(()=>{typeof Se=="function"&&Se.bind(be.params)(),be._destroy()})};function jt(be,Se,$e){const vt=Gi.domCache.get(be);Se.forEach(Si=>{vt[Si].disabled=$e})}function vi(be,Se){if(!be)return!1;if(be.type==="radio"){const vt=be.parentNode.parentNode.querySelectorAll("input");for(let Si=0;Si<vt.length;Si++)vt[Si].disabled=Se}else be.disabled=Se}function ui(){jt(this,["confirmButton","denyButton","cancelButton"],!1)}function fn(){jt(this,["confirmButton","denyButton","cancelButton"],!0)}function Kn(){return vi(this.getInput(),!1)}function Or(){return vi(this.getInput(),!0)}function zs(be){const Se=Gi.domCache.get(this),$e=Gi.innerParams.get(this);Qe(Se.validationMessage,be),Se.validationMessage.className=w["validation-message"],$e.customClass&&$e.customClass.validationMessage&&yt(Se.validationMessage,$e.customClass.validationMessage),ti(Se.validationMessage);const vt=this.getInput();vt&&(vt.setAttribute("aria-invalid",!0),vt.setAttribute("aria-describedby",w["validation-message"]),Xe(vt),yt(vt,w.inputerror))}function jr(){const be=Gi.domCache.get(this);be.validationMessage&&Mi(be.validationMessage);const Se=this.getInput();Se&&(Se.removeAttribute("aria-invalid"),Se.removeAttribute("aria-describedby"),$t(Se,w.inputerror))}function Cc(){return Gi.domCache.get(this).progressSteps}function Ad(be){const Se=k(),$e=Gi.innerParams.get(this);if(!Se||ut(Se,$e.hideClass.popup))return h("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const vt=Go(be),Si=Object.assign({},$e,vt);lo(this,Si),Gi.innerParams.set(this,Si),Object.defineProperties(this,{params:{value:Object.assign({},this.params,be),writable:!1,enumerable:!0}})}const Go=be=>{const Se={};return Object.keys(be).forEach($e=>{H($e)?Se[$e]=be[$e]:h('Invalid parameter to update: "'.concat($e,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))}),Se};function it(){const be=Gi.domCache.get(this),Se=Gi.innerParams.get(this);if(!Se){Bt(this);return}be.popup&&Wi.swalCloseEventFinishedCallback&&(Wi.swalCloseEventFinishedCallback(),delete Wi.swalCloseEventFinishedCallback),Wi.deferDisposalTimer&&(clearTimeout(Wi.deferDisposalTimer),delete Wi.deferDisposalTimer),typeof Se.didDestroy=="function"&&Se.didDestroy(),Et(this)}const Et=be=>{Bt(be),delete be.params,delete Wi.keydownHandler,delete Wi.keydownTarget,delete Wi.currentInstance},Bt=be=>{be.isAwaitingPromise()?(xi(Gi,be),Gi.awaitingPromise.set(be,!0)):(xi(nc,be),xi(Gi,be))},xi=(be,Se)=>{for(const $e in be)be[$e].delete(Se)};var Ut=Object.freeze({hideLoading:ia,disableLoading:ia,getInput:bl,close:_r,isAwaitingPromise:$o,rejectPromise:na,closePopup:_r,closeModal:_r,closeToast:_r,enableButtons:ui,disableButtons:fn,enableInput:Kn,disableInput:Or,showValidationMessage:zs,resetValidationMessage:jr,getProgressSteps:Cc,update:Ad,_destroy:it});let ai;class Di{constructor(){if(typeof window>"u")return;ai=this;for(var Se=arguments.length,$e=new Array(Se),vt=0;vt<Se;vt++)$e[vt]=arguments[vt];const Si=Object.freeze(this.constructor.argsToParams($e));Object.defineProperties(this,{params:{value:Si,writable:!1,enumerable:!0,configurable:!0}});const Tn=this._main(this.params);Gi.promise.set(this,Tn)}_main(Se){let $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$(Object.assign({},$e,Se)),Wi.currentInstance&&(Wi.currentInstance._destroy(),Oe()&&pa()),Wi.currentInstance=this;const vt=Bi(Se,$e);wd(vt),Object.freeze(vt),Wi.timeout&&(Wi.timeout.stop(),delete Wi.timeout),clearTimeout(Wi.restoreFocusTimeout);const Si=Rn(this);return lo(this,vt),Gi.innerParams.set(this,vt),en(this,Si,vt)}then(Se){return Gi.promise.get(this).then(Se)}finally(Se){return Gi.promise.get(this).finally(Se)}}const en=(be,Se,$e)=>new Promise((vt,Si)=>{const Tn=vr=>{be.closePopup({isDismissed:!0,dismiss:vr})};nc.swalPromiseResolve.set(be,vt),nc.swalPromiseReject.set(be,Si),Se.confirmButton.onclick=()=>pi(be),Se.denyButton.onclick=()=>ki(be),Se.cancelButton.onclick=()=>si(be,Tn),Se.closeButton.onclick=()=>Tn(Uo.close),hr(be,Se,Tn),go(be,Wi,$e,Tn),X(be,$e),iu($e),Fn(Wi,$e,Tn),Un(Se,$e),setTimeout(()=>{Se.container.scrollTop=0})}),Bi=(be,Se)=>{const $e=_l(be),vt=Object.assign({},O,Se,$e,be);return vt.showClass=Object.assign({},O.showClass,vt.showClass),vt.hideClass=Object.assign({},O.hideClass,vt.hideClass),vt},Rn=be=>{const Se={popup:k(),container:m(),actions:re(),confirmButton:F(),denyButton:Q(),cancelButton:ke(),loader:ge(),closeButton:oe(),validationMessage:pe(),progressSteps:he()};return Gi.domCache.set(be,Se),Se},Fn=(be,Se,$e)=>{const vt=_e();Mi(vt),Se.timer&&(be.timeout=new Ws(()=>{$e("timer"),delete be.timeout},Se.timer),Se.timerProgressBar&&(ti(vt),Re(vt,Se,"timerProgressBar"),setTimeout(()=>{be.timeout&&be.timeout.running&&Gn(Se.timer)})))},Un=(be,Se)=>{if(!Se.toast){if(!I(Se.allowEnterKey))return Tr();ir(be,Se)||ta(Se,-1,1)}},ir=(be,Se)=>Se.focusDeny&&Nt(be.denyButton)?(be.denyButton.focus(),!0):Se.focusCancel&&Nt(be.cancelButton)?(be.cancelButton.focus(),!0):Se.focusConfirm&&Nt(be.confirmButton)?(be.confirmButton.focus(),!0):!1,Tr=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Object.assign(Di.prototype,Ut),Object.assign(Di,Tc),Object.keys(Ut).forEach(be=>{Di[be]=function(){if(ai)return ai[be](...arguments)}}),Di.DismissReason=Uo,Di.version="11.4.0";const In=Di;return In.default=In,In}),typeof qp<"u"&&qp.Sweetalert2&&(qp.swal=qp.sweetAlert=qp.Swal=qp.SweetAlert=qp.Sweetalert2)})(Q8);var ax=Q8.exports;class Dz{static install(t,n={}){var r;const o=ax.mixin(n),d=function(...h){return o.fire.call(o,...h)};Object.assign(d,ax),Object.keys(ax).filter(h=>typeof ax[h]=="function").forEach(h=>{d[h]=o[h].bind(o)}),(r=t.config)!=null&&r.globalProperties&&!t.config.globalProperties.$swal?(t.config.globalProperties.$swal=d,t.provide("$swal",d)):Object.prototype.hasOwnProperty.call(t,"$swal")||(t.prototype.$swal=d,t.swal=d)}}function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function dr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Hn(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ur(e){Hn(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Jd(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Qh(e,t){Hn(2,arguments);var n=ur(e),r=dr(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function ah(e,t){Hn(2,arguments);var n=ur(e),r=dr(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),d=new Date(n.getTime());d.setMonth(n.getMonth()+r+1,0);var h=d.getDate();return o>=h?d:(n.setFullYear(d.getFullYear(),d.getMonth(),o),n)}function e4(e,t){if(Hn(2,arguments),!t||Jd(t)!=="object")return new Date(NaN);var n=t.years?dr(t.years):0,r=t.months?dr(t.months):0,o=t.weeks?dr(t.weeks):0,d=t.days?dr(t.days):0,h=t.hours?dr(t.hours):0,s=t.minutes?dr(t.minutes):0,b=t.seconds?dr(t.seconds):0,R=ur(e),J=r||n?ah(R,r+n*12):R,I=d||o?Qh(J,d+o*7):J,z=s+h*60,Z=b+z*60,L=Z*1e3,O=new Date(I.getTime()+L);return O}function Iz(e,t){Hn(2,arguments);var n=ur(e).getTime(),r=dr(t);return new Date(n+r)}var Lz={};function mh(){return Lz}function H0(e,t){var n,r,o,d,h,s,b,R;Hn(1,arguments);var J=mh(),I=dr((n=(r=(o=(d=t==null?void 0:t.weekStartsOn)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&o!==void 0?o:J.weekStartsOn)!==null&&r!==void 0?r:(b=J.locale)===null||b===void 0||(R=b.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&n!==void 0?n:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var z=ur(e),Z=z.getDay(),L=(Z<I?7:0)+Z-I;return z.setDate(z.getDate()-L),z.setHours(0,0,0,0),z}function tb(e){return Hn(1,arguments),H0(e,{weekStartsOn:1})}function Oz(e){Hn(1,arguments);var t=ur(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var o=tb(r),d=new Date(0);d.setFullYear(n,0,4),d.setHours(0,0,0,0);var h=tb(d);return t.getTime()>=o.getTime()?n+1:t.getTime()>=h.getTime()?n:n-1}function Rz(e){Hn(1,arguments);var t=Oz(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=tb(n);return r}function ib(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function _E(e){Hn(1,arguments);var t=ur(e);return t.setHours(0,0,0,0),t}var Bz=864e5;function zz(e,t){Hn(2,arguments);var n=_E(e),r=_E(t),o=n.getTime()-ib(n),d=r.getTime()-ib(r);return Math.round((o-d)/Bz)}function t4(e,t){Hn(2,arguments);var n=dr(t);return ah(e,n*12)}var w5=6e4,T5=36e5,Nz=1e3;function i4(e){return Hn(1,arguments),e instanceof Date||Jd(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Uy(e){if(Hn(1,arguments),!i4(e)&&typeof e!="number")return!1;var t=ur(e);return!isNaN(Number(t))}function vE(e,t){var n;Hn(1,arguments);var r=e||{},o=ur(r.start),d=ur(r.end),h=d.getTime();if(!(o.getTime()<=h))throw new RangeError("Invalid interval");var s=[],b=o;b.setHours(0,0,0,0);var R=Number((n=t==null?void 0:t.step)!==null&&n!==void 0?n:1);if(R<1||isNaN(R))throw new RangeError("`options.step` must be a number greater than 1");for(;b.getTime()<=h;)s.push(ur(b)),b.setDate(b.getDate()+R),b.setHours(0,0,0,0);return s}function Fz(e,t){var n,r,o,d,h,s,b,R;Hn(1,arguments);var J=mh(),I=dr((n=(r=(o=(d=t==null?void 0:t.weekStartsOn)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&o!==void 0?o:J.weekStartsOn)!==null&&r!==void 0?r:(b=J.locale)===null||b===void 0||(R=b.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&n!==void 0?n:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var z=ur(e),Z=z.getDay(),L=(Z<I?-7:0)+6-(Z-I);return z.setDate(z.getDate()+L),z.setHours(23,59,59,999),z}function n4(e,t){Hn(2,arguments);var n=dr(t);return Iz(e,-n)}var jz=864e5;function Uz(e){Hn(1,arguments);var t=ur(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/jz)+1}function Rg(e){Hn(1,arguments);var t=1,n=ur(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function r4(e){Hn(1,arguments);var t=ur(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=Rg(r),d=new Date(0);d.setUTCFullYear(n,0,4),d.setUTCHours(0,0,0,0);var h=Rg(d);return t.getTime()>=o.getTime()?n+1:t.getTime()>=h.getTime()?n:n-1}function $z(e){Hn(1,arguments);var t=r4(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Rg(n);return r}var Vz=6048e5;function s4(e){Hn(1,arguments);var t=ur(e),n=Rg(t).getTime()-$z(t).getTime();return Math.round(n/Vz)+1}function Y0(e,t){var n,r,o,d,h,s,b,R;Hn(1,arguments);var J=mh(),I=dr((n=(r=(o=(d=t==null?void 0:t.weekStartsOn)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&o!==void 0?o:J.weekStartsOn)!==null&&r!==void 0?r:(b=J.locale)===null||b===void 0||(R=b.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&n!==void 0?n:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var z=ur(e),Z=z.getUTCDay(),L=(Z<I?7:0)+Z-I;return z.setUTCDate(z.getUTCDate()-L),z.setUTCHours(0,0,0,0),z}function S5(e,t){var n,r,o,d,h,s,b,R;Hn(1,arguments);var J=ur(e),I=J.getUTCFullYear(),z=mh(),Z=dr((n=(r=(o=(d=t==null?void 0:t.firstWeekContainsDate)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:z.firstWeekContainsDate)!==null&&r!==void 0?r:(b=z.locale)===null||b===void 0||(R=b.options)===null||R===void 0?void 0:R.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(Z>=1&&Z<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var L=new Date(0);L.setUTCFullYear(I+1,0,Z),L.setUTCHours(0,0,0,0);var O=Y0(L,t),G=new Date(0);G.setUTCFullYear(I,0,Z),G.setUTCHours(0,0,0,0);var M=Y0(G,t);return J.getTime()>=O.getTime()?I+1:J.getTime()>=M.getTime()?I:I-1}function Gz(e,t){var n,r,o,d,h,s,b,R;Hn(1,arguments);var J=mh(),I=dr((n=(r=(o=(d=t==null?void 0:t.firstWeekContainsDate)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:J.firstWeekContainsDate)!==null&&r!==void 0?r:(b=J.locale)===null||b===void 0||(R=b.options)===null||R===void 0?void 0:R.firstWeekContainsDate)!==null&&n!==void 0?n:1),z=S5(e,t),Z=new Date(0);Z.setUTCFullYear(z,0,I),Z.setUTCHours(0,0,0,0);var L=Y0(Z,t);return L}var Wz=6048e5;function o4(e,t){Hn(1,arguments);var n=ur(e),r=Y0(n,t).getTime()-Gz(n,t).getTime();return Math.round(r/Wz)+1}function Us(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Hz={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return Us(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Us(r+1,2)},d:function(t,n){return Us(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Us(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Us(t.getUTCHours(),n.length)},m:function(t,n){return Us(t.getUTCMinutes(),n.length)},s:function(t,n){return Us(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),d=Math.floor(o*Math.pow(10,r-3));return Us(d,n.length)}};const Xp=Hz;var cg={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yz={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),d=o>0?o:1-o;return r.ordinalNumber(d,{unit:"year"})}return Xp.y(t,n)},Y:function(t,n,r,o){var d=S5(t,o),h=d>0?d:1-d;if(n==="YY"){var s=h%100;return Us(s,2)}return n==="Yo"?r.ordinalNumber(h,{unit:"year"}):Us(h,n.length)},R:function(t,n){var r=r4(t);return Us(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Us(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return Us(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return Us(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return Xp.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return Us(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var d=o4(t,o);return n==="wo"?r.ordinalNumber(d,{unit:"week"}):Us(d,n.length)},I:function(t,n,r){var o=s4(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):Us(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Xp.d(t,n)},D:function(t,n,r){var o=Uz(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):Us(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var d=t.getUTCDay(),h=(d-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(h);case"ee":return Us(h,2);case"eo":return r.ordinalNumber(h,{unit:"day"});case"eee":return r.day(d,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(d,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(d,{width:"short",context:"formatting"});case"eeee":default:return r.day(d,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var d=t.getUTCDay(),h=(d-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(h);case"cc":return Us(h,n.length);case"co":return r.ordinalNumber(h,{unit:"day"});case"ccc":return r.day(d,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(d,{width:"narrow",context:"standalone"});case"cccccc":return r.day(d,{width:"short",context:"standalone"});case"cccc":default:return r.day(d,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),d=o===0?7:o;switch(n){case"i":return String(d);case"ii":return Us(d,n.length);case"io":return r.ordinalNumber(d,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),d=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(d,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(d,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),d;switch(o===12?d=cg.noon:o===0?d=cg.midnight:d=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(d,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(d,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),d;switch(o>=17?d=cg.evening:o>=12?d=cg.afternoon:o>=4?d=cg.morning:d=cg.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(d,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(d,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return Xp.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Xp.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):Us(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):Us(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Xp.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Xp.s(t,n)},S:function(t,n){return Xp.S(t,n)},X:function(t,n,r,o){var d=o._originalDate||t,h=d.getTimezoneOffset();if(h===0)return"Z";switch(n){case"X":return bE(h);case"XXXX":case"XX":return T0(h);case"XXXXX":case"XXX":default:return T0(h,":")}},x:function(t,n,r,o){var d=o._originalDate||t,h=d.getTimezoneOffset();switch(n){case"x":return bE(h);case"xxxx":case"xx":return T0(h);case"xxxxx":case"xxx":default:return T0(h,":")}},O:function(t,n,r,o){var d=o._originalDate||t,h=d.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+xE(h,":");case"OOOO":default:return"GMT"+T0(h,":")}},z:function(t,n,r,o){var d=o._originalDate||t,h=d.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+xE(h,":");case"zzzz":default:return"GMT"+T0(h,":")}},t:function(t,n,r,o){var d=o._originalDate||t,h=Math.floor(d.getTime()/1e3);return Us(h,n.length)},T:function(t,n,r,o){var d=o._originalDate||t,h=d.getTime();return Us(h,n.length)}};function xE(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),d=r%60;if(d===0)return n+String(o);var h=t||"";return n+String(o)+h+Us(d,2)}function bE(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Us(Math.abs(e)/60,2)}return T0(e,t)}function T0(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),d=Us(Math.floor(o/60),2),h=Us(o%60,2);return r+d+n+h}const qz=Yz;var wE=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},a4=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Xz=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],d=r[2];if(!d)return wE(t,n);var h;switch(o){case"P":h=n.dateTime({width:"short"});break;case"PP":h=n.dateTime({width:"medium"});break;case"PPP":h=n.dateTime({width:"long"});break;case"PPPP":default:h=n.dateTime({width:"full"});break}return h.replace("{{date}}",wE(o,n)).replace("{{time}}",a4(d,n))},Zz={p:a4,P:Xz};const MT=Zz;var Kz=["D","DD"],Jz=["YY","YYYY"];function l4(e){return Kz.indexOf(e)!==-1}function c4(e){return Jz.indexOf(e)!==-1}function nb(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Qz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eN=function(t,n,r){var o,d=Qz[t];return typeof d=="string"?o=d:n===1?o=d.one:o=d.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const tN=eN;function g3(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var iN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sN={date:g3({formats:iN,defaultWidth:"full"}),time:g3({formats:nN,defaultWidth:"full"}),dateTime:g3({formats:rN,defaultWidth:"full"})};const oN=sN;var aN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lN=function(t,n,r,o){return aN[t]};const cN=lN;function Ey(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var d=e.defaultFormattingWidth||e.defaultWidth,h=n!=null&&n.width?String(n.width):d;o=e.formattingValues[h]||e.formattingValues[d]}else{var s=e.defaultWidth,b=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[b]||e.values[s]}var R=e.argumentCallback?e.argumentCallback(t):t;return o[R]}}var dN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gN=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},yN={ordinalNumber:gN,era:Ey({values:dN,defaultWidth:"wide"}),quarter:Ey({values:uN,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ey({values:hN,defaultWidth:"wide"}),day:Ey({values:pN,defaultWidth:"wide"}),dayPeriod:Ey({values:fN,defaultWidth:"wide",formattingValues:mN,defaultFormattingWidth:"wide"})};const _N=yN;function My(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],d=t.match(o);if(!d)return null;var h=d[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],b=Array.isArray(s)?xN(s,function(I){return I.test(h)}):vN(s,function(I){return I.test(h)}),R;R=e.valueCallback?e.valueCallback(b):b,R=n.valueCallback?n.valueCallback(R):R;var J=t.slice(h.length);return{value:R,rest:J}}}function vN(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function xN(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function bN(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],d=t.match(e.parsePattern);if(!d)return null;var h=e.valueCallback?e.valueCallback(d[0]):d[0];h=n.valueCallback?n.valueCallback(h):h;var s=t.slice(o.length);return{value:h,rest:s}}}var wN=/^(\d+)(th|st|nd|rd)?/i,TN=/\d+/i,SN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},CN={any:[/^b/i,/^(a|c)/i]},EN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},MN={any:[/1/i,/2/i,/3/i,/4/i]},kN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},AN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},PN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ON={ordinalNumber:bN({matchPattern:wN,parsePattern:TN,valueCallback:function(t){return parseInt(t,10)}}),era:My({matchPatterns:SN,defaultMatchWidth:"wide",parsePatterns:CN,defaultParseWidth:"any"}),quarter:My({matchPatterns:EN,defaultMatchWidth:"wide",parsePatterns:MN,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:My({matchPatterns:kN,defaultMatchWidth:"wide",parsePatterns:AN,defaultParseWidth:"any"}),day:My({matchPatterns:PN,defaultMatchWidth:"wide",parsePatterns:DN,defaultParseWidth:"any"}),dayPeriod:My({matchPatterns:IN,defaultMatchWidth:"any",parsePatterns:LN,defaultParseWidth:"any"})};const RN=ON;var BN={code:"en-US",formatDistance:tN,formatLong:oN,formatRelative:cN,localize:_N,match:RN,options:{weekStartsOn:0,firstWeekContainsDate:1}};const d4=BN;var zN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FN=/^'([^]*?)'?$/,jN=/''/g,UN=/[a-zA-Z]/;function U0(e,t,n){var r,o,d,h,s,b,R,J,I,z,Z,L,O,G,M,S,P,H;Hn(2,arguments);var U=String(t),E=mh(),ie=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:E.locale)!==null&&r!==void 0?r:d4,te=dr((d=(h=(s=(b=n==null?void 0:n.firstWeekContainsDate)!==null&&b!==void 0?b:n==null||(R=n.locale)===null||R===void 0||(J=R.options)===null||J===void 0?void 0:J.firstWeekContainsDate)!==null&&s!==void 0?s:E.firstWeekContainsDate)!==null&&h!==void 0?h:(I=E.locale)===null||I===void 0||(z=I.options)===null||z===void 0?void 0:z.firstWeekContainsDate)!==null&&d!==void 0?d:1);if(!(te>=1&&te<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $=dr((Z=(L=(O=(G=n==null?void 0:n.weekStartsOn)!==null&&G!==void 0?G:n==null||(M=n.locale)===null||M===void 0||(S=M.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&O!==void 0?O:E.weekStartsOn)!==null&&L!==void 0?L:(P=E.locale)===null||P===void 0||(H=P.options)===null||H===void 0?void 0:H.weekStartsOn)!==null&&Z!==void 0?Z:0);if(!($>=0&&$<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ie.localize)throw new RangeError("locale must contain localize property");if(!ie.formatLong)throw new RangeError("locale must contain formatLong property");var V=ur(e);if(!Uy(V))throw new RangeError("Invalid time value");var j=ib(V),w=n4(V,j),D={firstWeekContainsDate:te,weekStartsOn:$,locale:ie,_originalDate:V},m=U.match(NN).map(function(g){var x=g[0];if(x==="p"||x==="P"){var k=MT[x];return k(g,ie.formatLong)}return g}).join("").match(zN).map(function(g){if(g==="''")return"'";var x=g[0];if(x==="'")return $N(g);var k=qz[x];if(k)return!(n!=null&&n.useAdditionalWeekYearTokens)&&c4(g)&&nb(g,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&l4(g)&&nb(g,t,String(e)),k(w,g,ie.localize,D);if(x.match(UN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return g}).join("");return m}function $N(e){var t=e.match(FN);return t?t[1].replace(jN,"'"):e}function VN(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function GN(e){Hn(1,arguments);var t=ur(e),n=t.getDay();return n}function WN(e){Hn(1,arguments);var t=ur(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function Xh(e){Hn(1,arguments);var t=ur(e),n=t.getHours();return n}var HN=6048e5;function YN(e){Hn(1,arguments);var t=ur(e),n=tb(t).getTime()-Rz(t).getTime();return Math.round(n/HN)+1}function Zh(e){Hn(1,arguments);var t=ur(e),n=t.getMinutes();return n}function uo(e){Hn(1,arguments);var t=ur(e),n=t.getMonth();return n}function Bg(e){Hn(1,arguments);var t=ur(e),n=t.getSeconds();return n}function qN(e,t){var n,r,o,d,h,s,b,R;Hn(1,arguments);var J=ur(e),I=J.getFullYear(),z=mh(),Z=dr((n=(r=(o=(d=t==null?void 0:t.firstWeekContainsDate)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:z.firstWeekContainsDate)!==null&&r!==void 0?r:(b=z.locale)===null||b===void 0||(R=b.options)===null||R===void 0?void 0:R.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(Z>=1&&Z<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var L=new Date(0);L.setFullYear(I+1,0,Z),L.setHours(0,0,0,0);var O=H0(L,t),G=new Date(0);G.setFullYear(I,0,Z),G.setHours(0,0,0,0);var M=H0(G,t);return J.getTime()>=O.getTime()?I+1:J.getTime()>=M.getTime()?I:I-1}function XN(e,t){var n,r,o,d,h,s,b,R;Hn(1,arguments);var J=mh(),I=dr((n=(r=(o=(d=t==null?void 0:t.firstWeekContainsDate)!==null&&d!==void 0?d:t==null||(h=t.locale)===null||h===void 0||(s=h.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&o!==void 0?o:J.firstWeekContainsDate)!==null&&r!==void 0?r:(b=J.locale)===null||b===void 0||(R=b.options)===null||R===void 0?void 0:R.firstWeekContainsDate)!==null&&n!==void 0?n:1),z=qN(e,t),Z=new Date(0);Z.setFullYear(z,0,I),Z.setHours(0,0,0,0);var L=H0(Z,t);return L}var ZN=6048e5;function KN(e,t){Hn(1,arguments);var n=ur(e),r=H0(n,t).getTime()-XN(n,t).getTime();return Math.round(r/ZN)+1}function Co(e){return Hn(1,arguments),ur(e).getFullYear()}function r_(e,t){Hn(2,arguments);var n=ur(e),r=ur(t);return n.getTime()>r.getTime()}function s_(e,t){Hn(2,arguments);var n=ur(e),r=ur(t);return n.getTime()<r.getTime()}function D0(e,t){Hn(2,arguments);var n=ur(e),r=ur(t);return n.getTime()===r.getTime()}function TE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JN(e,t){if(e){if(typeof e=="string")return TE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TE(e,t)}}function SE(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=JN(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(R){throw R},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d=!0,h=!1,s;return{s:function(){n=n.call(e)},n:function(){var R=n.next();return d=R.done,R},e:function(R){h=!0,s=R},f:function(){try{!d&&n.return!=null&&n.return()}finally{if(h)throw s}}}}function Pn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kT(e,t){return kT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},kT(e,t)}function Ts(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kT(e,t)}function rb(e){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rb(e)}function QN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function eF(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pn(e)}function Ss(e){var t=QN();return function(){var r=rb(e),o;if(t){var d=rb(this).constructor;o=Reflect.construct(r,arguments,d)}else o=r.apply(this,arguments);return eF(this,o)}}function os(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tF(e,t){if(Jd(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u4(e){var t=tF(e,"string");return Jd(t)==="symbol"?t:String(t)}function CE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u4(r.key),r)}}function as(e,t,n){return t&&CE(e.prototype,t),n&&CE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function En(e,t,n){return t=u4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iF=10,h4=function(){function e(){os(this,e),En(this,"priority",void 0),En(this,"subPriority",0)}return as(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),nF=function(e){Ts(n,e);var t=Ss(n);function n(r,o,d,h,s){var b;return os(this,n),b=t.call(this),b.value=r,b.validateValue=o,b.setValue=d,b.priority=h,s&&(b.subPriority=s),b}return as(n,[{key:"validate",value:function(o,d){return this.validateValue(o,this.value,d)}},{key:"set",value:function(o,d,h){return this.setValue(o,d,this.value,h)}}]),n}(h4),rF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",iF),En(Pn(r),"subPriority",-1),r}return as(n,[{key:"set",value:function(o,d){if(d.timestampIsSet)return o;var h=new Date(0);return h.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),h.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),h}}]),n}(h4),Is=function(){function e(){os(this,e),En(this,"incompatibleTokens",void 0),En(this,"priority",void 0),En(this,"subPriority",void 0)}return as(e,[{key:"run",value:function(n,r,o,d){var h=this.parse(n,r,o,d);return h?{setter:new nF(h.value,this.validate,this.set,this.priority,this.subPriority),rest:h.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),e}(),sF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",140),En(Pn(r),"incompatibleTokens",["R","u","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"G":case"GG":case"GGG":return h.era(o,{width:"abbreviated"})||h.era(o,{width:"narrow"});case"GGGGG":return h.era(o,{width:"narrow"});case"GGGG":default:return h.era(o,{width:"wide"})||h.era(o,{width:"abbreviated"})||h.era(o,{width:"narrow"})}}},{key:"set",value:function(o,d,h){return d.era=h,o.setUTCFullYear(h,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(Is),da={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},rh={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ua(e,t){return e&&{value:t(e.value),rest:e.rest}}function jo(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function sh(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,d=n[3]?parseInt(n[3],10):0,h=n[5]?parseInt(n[5],10):0;return{value:r*(o*T5+d*w5+h*Nz),rest:t.slice(n[0].length)}}function p4(e){return jo(da.anyDigitsSigned,e)}function Zo(e,t){switch(e){case 1:return jo(da.singleDigit,t);case 2:return jo(da.twoDigits,t);case 3:return jo(da.threeDigits,t);case 4:return jo(da.fourDigits,t);default:return jo(new RegExp("^\\d{1,"+e+"}"),t)}}function sb(e,t){switch(e){case 1:return jo(da.singleDigitSigned,t);case 2:return jo(da.twoDigitsSigned,t);case 3:return jo(da.threeDigitsSigned,t);case 4:return jo(da.fourDigitsSigned,t);default:return jo(new RegExp("^-?\\d{1,"+e+"}"),t)}}function C5(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function f4(e,t){var n=t>0,r=n?t:1-t,o;if(r<=50)o=e||100;else{var d=r+50,h=Math.floor(d/100)*100,s=e>=d%100;o=e+h-(s?100:0)}return n?o:1-o}function m4(e){return e%400===0||e%4===0&&e%100!==0}var oF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",130),En(Pn(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){var s=function(R){return{year:R,isTwoDigitYear:d==="yy"}};switch(d){case"y":return ua(Zo(4,o),s);case"yo":return ua(h.ordinalNumber(o,{unit:"year"}),s);default:return ua(Zo(d.length,o),s)}}},{key:"validate",value:function(o,d){return d.isTwoDigitYear||d.year>0}},{key:"set",value:function(o,d,h){var s=o.getUTCFullYear();if(h.isTwoDigitYear){var b=f4(h.year,s);return o.setUTCFullYear(b,0,1),o.setUTCHours(0,0,0,0),o}var R=!("era"in d)||d.era===1?h.year:1-h.year;return o.setUTCFullYear(R,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(Is),aF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",130),En(Pn(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){var s=function(R){return{year:R,isTwoDigitYear:d==="YY"}};switch(d){case"Y":return ua(Zo(4,o),s);case"Yo":return ua(h.ordinalNumber(o,{unit:"year"}),s);default:return ua(Zo(d.length,o),s)}}},{key:"validate",value:function(o,d){return d.isTwoDigitYear||d.year>0}},{key:"set",value:function(o,d,h,s){var b=S5(o,s);if(h.isTwoDigitYear){var R=f4(h.year,b);return o.setUTCFullYear(R,0,s.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Y0(o,s)}var J=!("era"in d)||d.era===1?h.year:1-h.year;return o.setUTCFullYear(J,0,s.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Y0(o,s)}}]),n}(Is),lF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",130),En(Pn(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d){return sb(d==="R"?4:d.length,o)}},{key:"set",value:function(o,d,h){var s=new Date(0);return s.setUTCFullYear(h,0,4),s.setUTCHours(0,0,0,0),Rg(s)}}]),n}(Is),cF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",130),En(Pn(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d){return sb(d==="u"?4:d.length,o)}},{key:"set",value:function(o,d,h){return o.setUTCFullYear(h,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(Is),dF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",120),En(Pn(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"Q":case"QQ":return Zo(d.length,o);case"Qo":return h.ordinalNumber(o,{unit:"quarter"});case"QQQ":return h.quarter(o,{width:"abbreviated",context:"formatting"})||h.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return h.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return h.quarter(o,{width:"wide",context:"formatting"})||h.quarter(o,{width:"abbreviated",context:"formatting"})||h.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,d){return d>=1&&d<=4}},{key:"set",value:function(o,d,h){return o.setUTCMonth((h-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(Is),uF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",120),En(Pn(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"q":case"qq":return Zo(d.length,o);case"qo":return h.ordinalNumber(o,{unit:"quarter"});case"qqq":return h.quarter(o,{width:"abbreviated",context:"standalone"})||h.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return h.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return h.quarter(o,{width:"wide",context:"standalone"})||h.quarter(o,{width:"abbreviated",context:"standalone"})||h.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,d){return d>=1&&d<=4}},{key:"set",value:function(o,d,h){return o.setUTCMonth((h-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(Is),hF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),En(Pn(r),"priority",110),r}return as(n,[{key:"parse",value:function(o,d,h){var s=function(R){return R-1};switch(d){case"M":return ua(jo(da.month,o),s);case"MM":return ua(Zo(2,o),s);case"Mo":return ua(h.ordinalNumber(o,{unit:"month"}),s);case"MMM":return h.month(o,{width:"abbreviated",context:"formatting"})||h.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return h.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return h.month(o,{width:"wide",context:"formatting"})||h.month(o,{width:"abbreviated",context:"formatting"})||h.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,d){return d>=0&&d<=11}},{key:"set",value:function(o,d,h){return o.setUTCMonth(h,1),o.setUTCHours(0,0,0,0),o}}]),n}(Is),pF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",110),En(Pn(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){var s=function(R){return R-1};switch(d){case"L":return ua(jo(da.month,o),s);case"LL":return ua(Zo(2,o),s);case"Lo":return ua(h.ordinalNumber(o,{unit:"month"}),s);case"LLL":return h.month(o,{width:"abbreviated",context:"standalone"})||h.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return h.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return h.month(o,{width:"wide",context:"standalone"})||h.month(o,{width:"abbreviated",context:"standalone"})||h.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,d){return d>=0&&d<=11}},{key:"set",value:function(o,d,h){return o.setUTCMonth(h,1),o.setUTCHours(0,0,0,0),o}}]),n}(Is);function fF(e,t,n){Hn(2,arguments);var r=ur(e),o=dr(t),d=o4(r,n)-o;return r.setUTCDate(r.getUTCDate()-d*7),r}var mF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",100),En(Pn(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"w":return jo(da.week,o);case"wo":return h.ordinalNumber(o,{unit:"week"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=1&&d<=53}},{key:"set",value:function(o,d,h,s){return Y0(fF(o,h,s),s)}}]),n}(Is);function gF(e,t){Hn(2,arguments);var n=ur(e),r=dr(t),o=s4(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var yF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",100),En(Pn(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"I":return jo(da.week,o);case"Io":return h.ordinalNumber(o,{unit:"week"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=1&&d<=53}},{key:"set",value:function(o,d,h){return Rg(gF(o,h))}}]),n}(Is),_F=[31,28,31,30,31,30,31,31,30,31,30,31],vF=[31,29,31,30,31,30,31,31,30,31,30,31],xF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"subPriority",1),En(Pn(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"d":return jo(da.date,o);case"do":return h.ordinalNumber(o,{unit:"date"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){var h=o.getUTCFullYear(),s=m4(h),b=o.getUTCMonth();return s?d>=1&&d<=vF[b]:d>=1&&d<=_F[b]}},{key:"set",value:function(o,d,h){return o.setUTCDate(h),o.setUTCHours(0,0,0,0),o}}]),n}(Is),bF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"subpriority",1),En(Pn(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"D":case"DD":return jo(da.dayOfYear,o);case"Do":return h.ordinalNumber(o,{unit:"date"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){var h=o.getUTCFullYear(),s=m4(h);return s?d>=1&&d<=366:d>=1&&d<=365}},{key:"set",value:function(o,d,h){return o.setUTCMonth(0,h),o.setUTCHours(0,0,0,0),o}}]),n}(Is);function E5(e,t,n){var r,o,d,h,s,b,R,J;Hn(2,arguments);var I=mh(),z=dr((r=(o=(d=(h=n==null?void 0:n.weekStartsOn)!==null&&h!==void 0?h:n==null||(s=n.locale)===null||s===void 0||(b=s.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&d!==void 0?d:I.weekStartsOn)!==null&&o!==void 0?o:(R=I.locale)===null||R===void 0||(J=R.options)===null||J===void 0?void 0:J.weekStartsOn)!==null&&r!==void 0?r:0);if(!(z>=0&&z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Z=ur(e),L=dr(t),O=Z.getUTCDay(),G=L%7,M=(G+7)%7,S=(M<z?7:0)+L-O;return Z.setUTCDate(Z.getUTCDate()+S),Z}var wF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"E":case"EE":case"EEE":return h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return h.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return h.day(o,{width:"wide",context:"formatting"})||h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,d){return d>=0&&d<=6}},{key:"set",value:function(o,d,h,s){return o=E5(o,h,s),o.setUTCHours(0,0,0,0),o}}]),n}(Is),TF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h,s){var b=function(J){var I=Math.floor((J-1)/7)*7;return(J+s.weekStartsOn+6)%7+I};switch(d){case"e":case"ee":return ua(Zo(d.length,o),b);case"eo":return ua(h.ordinalNumber(o,{unit:"day"}),b);case"eee":return h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"eeeee":return h.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return h.day(o,{width:"wide",context:"formatting"})||h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,d){return d>=0&&d<=6}},{key:"set",value:function(o,d,h,s){return o=E5(o,h,s),o.setUTCHours(0,0,0,0),o}}]),n}(Is),SF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h,s){var b=function(J){var I=Math.floor((J-1)/7)*7;return(J+s.weekStartsOn+6)%7+I};switch(d){case"c":case"cc":return ua(Zo(d.length,o),b);case"co":return ua(h.ordinalNumber(o,{unit:"day"}),b);case"ccc":return h.day(o,{width:"abbreviated",context:"standalone"})||h.day(o,{width:"short",context:"standalone"})||h.day(o,{width:"narrow",context:"standalone"});case"ccccc":return h.day(o,{width:"narrow",context:"standalone"});case"cccccc":return h.day(o,{width:"short",context:"standalone"})||h.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return h.day(o,{width:"wide",context:"standalone"})||h.day(o,{width:"abbreviated",context:"standalone"})||h.day(o,{width:"short",context:"standalone"})||h.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,d){return d>=0&&d<=6}},{key:"set",value:function(o,d,h,s){return o=E5(o,h,s),o.setUTCHours(0,0,0,0),o}}]),n}(Is);function CF(e,t){Hn(2,arguments);var n=dr(t);n%7===0&&(n=n-7);var r=1,o=ur(e),d=o.getUTCDay(),h=n%7,s=(h+7)%7,b=(s<r?7:0)+n-d;return o.setUTCDate(o.getUTCDate()+b),o}var EF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",90),En(Pn(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){var s=function(R){return R===0?7:R};switch(d){case"i":case"ii":return Zo(d.length,o);case"io":return h.ordinalNumber(o,{unit:"day"});case"iii":return ua(h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"}),s);case"iiiii":return ua(h.day(o,{width:"narrow",context:"formatting"}),s);case"iiiiii":return ua(h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"}),s);case"iiii":default:return ua(h.day(o,{width:"wide",context:"formatting"})||h.day(o,{width:"abbreviated",context:"formatting"})||h.day(o,{width:"short",context:"formatting"})||h.day(o,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(o,d){return d>=1&&d<=7}},{key:"set",value:function(o,d,h){return o=CF(o,h),o.setUTCHours(0,0,0,0),o}}]),n}(Is),MF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",80),En(Pn(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"a":case"aa":case"aaa":return h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return h.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return h.dayPeriod(o,{width:"wide",context:"formatting"})||h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,d,h){return o.setUTCHours(C5(h),0,0,0),o}}]),n}(Is),kF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",80),En(Pn(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"b":case"bb":case"bbb":return h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return h.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return h.dayPeriod(o,{width:"wide",context:"formatting"})||h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,d,h){return o.setUTCHours(C5(h),0,0,0),o}}]),n}(Is),AF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",80),En(Pn(r),"incompatibleTokens",["a","b","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"B":case"BB":case"BBB":return h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return h.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return h.dayPeriod(o,{width:"wide",context:"formatting"})||h.dayPeriod(o,{width:"abbreviated",context:"formatting"})||h.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,d,h){return o.setUTCHours(C5(h),0,0,0),o}}]),n}(Is),PF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",70),En(Pn(r),"incompatibleTokens",["H","K","k","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"h":return jo(da.hour12h,o);case"ho":return h.ordinalNumber(o,{unit:"hour"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=1&&d<=12}},{key:"set",value:function(o,d,h){var s=o.getUTCHours()>=12;return s&&h<12?o.setUTCHours(h+12,0,0,0):!s&&h===12?o.setUTCHours(0,0,0,0):o.setUTCHours(h,0,0,0),o}}]),n}(Is),DF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",70),En(Pn(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"H":return jo(da.hour23h,o);case"Ho":return h.ordinalNumber(o,{unit:"hour"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=0&&d<=23}},{key:"set",value:function(o,d,h){return o.setUTCHours(h,0,0,0),o}}]),n}(Is),IF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",70),En(Pn(r),"incompatibleTokens",["h","H","k","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"K":return jo(da.hour11h,o);case"Ko":return h.ordinalNumber(o,{unit:"hour"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=0&&d<=11}},{key:"set",value:function(o,d,h){var s=o.getUTCHours()>=12;return s&&h<12?o.setUTCHours(h+12,0,0,0):o.setUTCHours(h,0,0,0),o}}]),n}(Is),LF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",70),En(Pn(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"k":return jo(da.hour24h,o);case"ko":return h.ordinalNumber(o,{unit:"hour"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=1&&d<=24}},{key:"set",value:function(o,d,h){var s=h<=24?h%24:h;return o.setUTCHours(s,0,0,0),o}}]),n}(Is),OF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",60),En(Pn(r),"incompatibleTokens",["t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"m":return jo(da.minute,o);case"mo":return h.ordinalNumber(o,{unit:"minute"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=0&&d<=59}},{key:"set",value:function(o,d,h){return o.setUTCMinutes(h,0,0),o}}]),n}(Is),RF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",50),En(Pn(r),"incompatibleTokens",["t","T"]),r}return as(n,[{key:"parse",value:function(o,d,h){switch(d){case"s":return jo(da.second,o);case"so":return h.ordinalNumber(o,{unit:"second"});default:return Zo(d.length,o)}}},{key:"validate",value:function(o,d){return d>=0&&d<=59}},{key:"set",value:function(o,d,h){return o.setUTCSeconds(h,0),o}}]),n}(Is),BF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",30),En(Pn(r),"incompatibleTokens",["t","T"]),r}return as(n,[{key:"parse",value:function(o,d){var h=function(b){return Math.floor(b*Math.pow(10,-d.length+3))};return ua(Zo(d.length,o),h)}},{key:"set",value:function(o,d,h){return o.setUTCMilliseconds(h),o}}]),n}(Is),zF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",10),En(Pn(r),"incompatibleTokens",["t","T","x"]),r}return as(n,[{key:"parse",value:function(o,d){switch(d){case"X":return sh(rh.basicOptionalMinutes,o);case"XX":return sh(rh.basic,o);case"XXXX":return sh(rh.basicOptionalSeconds,o);case"XXXXX":return sh(rh.extendedOptionalSeconds,o);case"XXX":default:return sh(rh.extended,o)}}},{key:"set",value:function(o,d,h){return d.timestampIsSet?o:new Date(o.getTime()-h)}}]),n}(Is),NF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",10),En(Pn(r),"incompatibleTokens",["t","T","X"]),r}return as(n,[{key:"parse",value:function(o,d){switch(d){case"x":return sh(rh.basicOptionalMinutes,o);case"xx":return sh(rh.basic,o);case"xxxx":return sh(rh.basicOptionalSeconds,o);case"xxxxx":return sh(rh.extendedOptionalSeconds,o);case"xxx":default:return sh(rh.extended,o)}}},{key:"set",value:function(o,d,h){return d.timestampIsSet?o:new Date(o.getTime()-h)}}]),n}(Is),FF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",40),En(Pn(r),"incompatibleTokens","*"),r}return as(n,[{key:"parse",value:function(o){return p4(o)}},{key:"set",value:function(o,d,h){return[new Date(h*1e3),{timestampIsSet:!0}]}}]),n}(Is),jF=function(e){Ts(n,e);var t=Ss(n);function n(){var r;os(this,n);for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return r=t.call.apply(t,[this].concat(d)),En(Pn(r),"priority",20),En(Pn(r),"incompatibleTokens","*"),r}return as(n,[{key:"parse",value:function(o){return p4(o)}},{key:"set",value:function(o,d,h){return[new Date(h),{timestampIsSet:!0}]}}]),n}(Is),UF={G:new sF,y:new oF,Y:new aF,R:new lF,u:new cF,Q:new dF,q:new uF,M:new hF,L:new pF,w:new mF,I:new yF,d:new xF,D:new bF,E:new wF,e:new TF,c:new SF,i:new EF,a:new MF,b:new kF,B:new AF,h:new PF,H:new DF,K:new IF,k:new LF,m:new OF,s:new RF,S:new BF,X:new zF,x:new NF,t:new FF,T:new jF},$F=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GF=/^'([^]*?)'?$/,WF=/''/g,HF=/\S/,YF=/[a-zA-Z]/;function AT(e,t,n,r){var o,d,h,s,b,R,J,I,z,Z,L,O,G,M,S,P,H,U;Hn(3,arguments);var E=String(e),ie=String(t),te=mh(),$=(o=(d=r==null?void 0:r.locale)!==null&&d!==void 0?d:te.locale)!==null&&o!==void 0?o:d4;if(!$.match)throw new RangeError("locale must contain match property");var V=dr((h=(s=(b=(R=r==null?void 0:r.firstWeekContainsDate)!==null&&R!==void 0?R:r==null||(J=r.locale)===null||J===void 0||(I=J.options)===null||I===void 0?void 0:I.firstWeekContainsDate)!==null&&b!==void 0?b:te.firstWeekContainsDate)!==null&&s!==void 0?s:(z=te.locale)===null||z===void 0||(Z=z.options)===null||Z===void 0?void 0:Z.firstWeekContainsDate)!==null&&h!==void 0?h:1);if(!(V>=1&&V<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=dr((L=(O=(G=(M=r==null?void 0:r.weekStartsOn)!==null&&M!==void 0?M:r==null||(S=r.locale)===null||S===void 0||(P=S.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&G!==void 0?G:te.weekStartsOn)!==null&&O!==void 0?O:(H=te.locale)===null||H===void 0||(U=H.options)===null||U===void 0?void 0:U.weekStartsOn)!==null&&L!==void 0?L:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(ie==="")return E===""?ur(n):new Date(NaN);var w={firstWeekContainsDate:V,weekStartsOn:j,locale:$},D=[new rF],m=ie.match(VF).map(function(ke){var re=ke[0];if(re in MT){var ve=MT[re];return ve(ke,$.formatLong)}return ke}).join("").match($F),g=[],x=SE(m),k;try{var q=function(){var re=k.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&c4(re)&&nb(re,ie,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&l4(re)&&nb(re,ie,e);var ve=re[0],_e=UF[ve];if(_e){var oe=_e.incompatibleTokens;if(Array.isArray(oe)){var ye=g.find(function(Oe){return oe.includes(Oe.token)||Oe.token===ve});if(ye)throw new RangeError("The format string mustn't contain `".concat(ye.fullToken,"` and `").concat(re,"` at the same time"))}else if(_e.incompatibleTokens==="*"&&g.length>0)throw new RangeError("The format string mustn't contain `".concat(re,"` and any other token at the same time"));g.push({token:ve,fullToken:re});var Te=_e.run(E,re,$.match,w);if(!Te)return{v:new Date(NaN)};D.push(Te.setter),E=Te.rest}else{if(ve.match(YF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ve+"`");if(re==="''"?re="'":ve==="'"&&(re=qF(re)),E.indexOf(re)===0)E=E.slice(re.length);else return{v:new Date(NaN)}}};for(x.s();!(k=x.n()).done;){var Y=q();if(Jd(Y)==="object")return Y.v}}catch(ke){x.e(ke)}finally{x.f()}if(E.length>0&&HF.test(E))return new Date(NaN);var K=D.map(function(ke){return ke.priority}).sort(function(ke,re){return re-ke}).filter(function(ke,re,ve){return ve.indexOf(ke)===re}).map(function(ke){return D.filter(function(re){return re.priority===ke}).sort(function(re,ve){return ve.subPriority-re.subPriority})}).map(function(ke){return ke[0]}),le=ur(n);if(isNaN(le.getTime()))return new Date(NaN);var he=n4(le,ib(le)),pe={},F=SE(K),Q;try{for(F.s();!(Q=F.n()).done;){var ce=Q.value;if(!ce.validate(he,w))return new Date(NaN);var ge=ce.set(he,pe,w);Array.isArray(ge)?(he=ge[0],VN(pe,ge[1])):he=ge}}catch(ke){F.e(ke)}finally{F.f()}return he}function qF(e){return e.match(GF)[1].replace(WF,"'")}function XF(e,t){Hn(2,arguments);var n=dr(t);return Qh(e,-n)}function ZF(e,t){var n;Hn(1,arguments);var r=dr((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=ej(e),d;if(o.date){var h=tj(o.date,r);d=ij(h.restDateString,h.year)}if(!d||isNaN(d.getTime()))return new Date(NaN);var s=d.getTime(),b=0,R;if(o.time&&(b=nj(o.time),isNaN(b)))return new Date(NaN);if(o.timezone){if(R=rj(o.timezone),isNaN(R))return new Date(NaN)}else{var J=new Date(s+b),I=new Date(0);return I.setFullYear(J.getUTCFullYear(),J.getUTCMonth(),J.getUTCDate()),I.setHours(J.getUTCHours(),J.getUTCMinutes(),J.getUTCSeconds(),J.getUTCMilliseconds()),I}return new Date(s+b+R)}var lx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},KF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,JF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,QF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ej(e){var t={},n=e.split(lx.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],lx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(lx.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=lx.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function tj(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,d=r[2]?parseInt(r[2]):null;return{year:d===null?o:d*100,restDateString:e.slice((r[1]||r[2]).length)}}function ij(e,t){if(t===null)return new Date(NaN);var n=e.match(KF);if(!n)return new Date(NaN);var r=!!n[4],o=ky(n[1]),d=ky(n[2])-1,h=ky(n[3]),s=ky(n[4]),b=ky(n[5])-1;if(r)return cj(t,s,b)?sj(t,s,b):new Date(NaN);var R=new Date(0);return!aj(t,d,h)||!lj(t,o)?new Date(NaN):(R.setUTCFullYear(t,d,Math.max(o,h)),R)}function ky(e){return e?parseInt(e):1}function nj(e){var t=e.match(JF);if(!t)return NaN;var n=y3(t[1]),r=y3(t[2]),o=y3(t[3]);return dj(n,r,o)?n*T5+r*w5+o*1e3:NaN}function y3(e){return e&&parseFloat(e.replace(",","."))||0}function rj(e){if(e==="Z")return 0;var t=e.match(QF);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return uj(r,o)?n*(r*T5+o*w5):NaN}function sj(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,d=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+d),r}var oj=[31,null,31,30,31,30,31,31,30,31,30,31];function g4(e){return e%400===0||e%4===0&&e%100!==0}function aj(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(oj[t]||(g4(e)?29:28))}function lj(e,t){return t>=1&&t<=(g4(e)?366:365)}function cj(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function dj(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function uj(e,t){return t>=0&&t<=59}function fg(e,t){Hn(2,arguments);var n=ur(e),r=dr(t),o=n.getFullYear(),d=n.getDate(),h=new Date(0);h.setFullYear(o,r,15),h.setHours(0,0,0,0);var s=WN(h);return n.setMonth(r,Math.min(d,s)),n}function Qa(e,t){if(Hn(2,arguments),Jd(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=ur(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=fg(n,t.month)),t.date!=null&&n.setDate(dr(t.date)),t.hours!=null&&n.setHours(dr(t.hours)),t.minutes!=null&&n.setMinutes(dr(t.minutes)),t.seconds!=null&&n.setSeconds(dr(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(dr(t.milliseconds)),n)}function y4(e,t){Hn(2,arguments);var n=ur(e),r=dr(t);return n.setHours(r),n}function M5(e,t){Hn(2,arguments);var n=ur(e),r=dr(t);return n.setMilliseconds(r),n}function _4(e,t){Hn(2,arguments);var n=ur(e),r=dr(t);return n.setMinutes(r),n}function v4(e,t){Hn(2,arguments);var n=ur(e),r=dr(t);return n.setSeconds(r),n}function ep(e,t){Hn(2,arguments);var n=ur(e),r=dr(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Tg(e,t){Hn(2,arguments);var n=dr(t);return ah(e,-n)}function hj(e,t){if(Hn(2,arguments),!t||Jd(t)!=="object")return new Date(NaN);var n=t.years?dr(t.years):0,r=t.months?dr(t.months):0,o=t.weeks?dr(t.weeks):0,d=t.days?dr(t.days):0,h=t.hours?dr(t.hours):0,s=t.minutes?dr(t.minutes):0,b=t.seconds?dr(t.seconds):0,R=Tg(e,r+n*12),J=XF(R,d+o*7),I=s+h*60,z=b+I*60,Z=z*1e3,L=new Date(J.getTime()-Z);return L}function pj(e,t){Hn(2,arguments);var n=dr(t);return t4(e,-n)}function i2(){return wt(),Ot("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ye("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Ye("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ye("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ye("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function fj(){return wt(),Ot("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ye("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Ye("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function EE(){return wt(),Ot("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ye("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function ME(){return wt(),Ot("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ye("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function x4(){return wt(),Ot("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ye("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Ye("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function b4(){return wt(),Ot("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ye("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function w4(){return wt(),Ot("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ye("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const kE=(e,t,n,r,o)=>{const d=AT(e,t.slice(0,e.length),new Date);return Uy(d)&&i4(d)?r||o?d:Qa(d,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},mj=(e,t,n,r,o)=>{const d=Array.isArray(n)?n[0]:n;if(typeof t=="string")return kE(e,t,d,r,o);if(Array.isArray(t)){let h=null;for(const s of t)if(h=kE(e,s,d,r,o),h)break;return h}return typeof t=="function"?t(e):null},Hi=e=>e?new Date(e):new Date,gj=(e,t,n)=>{if(t){const o=(e.getMonth()+1).toString().padStart(2,"0"),d=e.getDate().toString().padStart(2,"0"),h=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),b=n?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${o}-${d}T${h}:${s}:${b}.000Z`}const r=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(r).toISOString()},Zd=e=>{let t=Hi(JSON.parse(JSON.stringify(e)));return t=y4(t,0),t=_4(t,0),t=v4(t,0),t=M5(t,0),t},Wd=(e,t,n,r)=>{let o=e?Hi(e):Hi();return(t||t===0)&&(o=y4(o,+t)),(n||n===0)&&(o=_4(o,+n)),(r||r===0)&&(o=v4(o,+r)),M5(o,0)},zl=(e,t)=>!e||!t?!1:s_(Zd(e),Zd(t)),$s=(e,t)=>!e||!t?!1:D0(Zd(e),Zd(t)),mc=(e,t)=>!e||!t?!1:r_(Zd(e),Zd(t)),T4=(e,t,n)=>e&&e[0]&&e[1]?mc(n,e[0])&&zl(n,e[1]):e&&e[0]&&t?mc(n,e[0])&&zl(n,t)||zl(n,e[0])&&mc(n,t):!1,Ay=e=>{const t=Qa(new Date(e),{date:1});return Zd(t)},_3=(e,t,n)=>t&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===t?[r,n]:[r,isNaN(+e[r])?void 0:+e[r]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},cx=e=>({hours:Xh(e),minutes:Zh(e),seconds:Bg(e)}),Py=Eu({menuFocused:!1,shiftKeyInMenu:!1}),S4=()=>{const e=n=>{Py.menuFocused=n},t=n=>{Py.shiftKeyInMenu!==n&&(Py.shiftKeyInMenu=n)};return{control:hn(()=>({shiftKeyInMenu:Py.shiftKeyInMenu,menuFocused:Py.menuFocused})),setMenuFocused:e,setShiftKey:t}};function k5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C4={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(C4);var yj=C4.exports,PT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var o=Number(r);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}e.exports=t.default})(PT,PT.exports);var _j=PT.exports;const vj=k5(_j);var DT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){var o=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return o.setUTCFullYear(r.getFullYear()),r.getTime()-o.getTime()}e.exports=t.default})(DT,DT.exports);var xj=DT.exports;const AE=k5(xj);function bj(e,t){var n=Cj(t);return n.formatToParts?Tj(n,e):Sj(n,e)}var wj={year:0,month:1,day:2,hour:3,minute:4,second:5};function Tj(e,t){try{for(var n=e.formatToParts(t),r=[],o=0;o<n.length;o++){var d=wj[n[o].type];d>=0&&(r[d]=parseInt(n[o].value,10))}return r}catch(h){if(h instanceof RangeError)return[NaN];throw h}}function Sj(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var v3={};function Cj(e){if(!v3[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";v3[e]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return v3[e]}function A5(e,t,n,r,o,d,h){var s=new Date(0);return s.setUTCFullYear(e,t,n),s.setUTCHours(r,o,d,h),s}var PE=36e5,Ej=6e4,x3={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function P5(e,t,n){var r,o;if(!e||(r=x3.timezoneZ.exec(e),r))return 0;var d;if(r=x3.timezoneHH.exec(e),r)return d=parseInt(r[1],10),DE(d)?-(d*PE):NaN;if(r=x3.timezoneHHMM.exec(e),r){d=parseInt(r[1],10);var h=parseInt(r[2],10);return DE(d,h)?(o=Math.abs(d)*PE+h*Ej,d>0?-o:o):NaN}if(Aj(e)){t=new Date(t||Date.now());var s=n?t:Mj(t),b=IT(s,e),R=n?b:kj(t,b,e);return-R}return NaN}function Mj(e){return A5(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function IT(e,t){var n=bj(e,t),r=A5(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),o=e.getTime(),d=o%1e3;return o-=d>=0?d:1e3+d,r-o}function kj(e,t,n){var r=e.getTime(),o=r-t,d=IT(new Date(o),n);if(t===d)return t;o-=d-t;var h=IT(new Date(o),n);return d===h?d:Math.max(d,h)}function DE(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var IE={};function Aj(e){if(IE[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),IE[e]=!0,!0}catch{return!1}}var Pj=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const E4=Pj;var b3=36e5,LE=6e4,Dj=2,pc={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:E4};function LT(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n=t||{},r=n.additionalDigits==null?Dj:vj(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=Ij(e),d=Lj(o.date,r),h=d.year,s=d.restDateString,b=Oj(s,h);if(isNaN(b))return new Date(NaN);if(b){var R=b.getTime(),J=0,I;if(o.time&&(J=Rj(o.time),isNaN(J)))return new Date(NaN);if(o.timeZone||n.timeZone){if(I=P5(o.timeZone||n.timeZone,new Date(R+J)),isNaN(I))return new Date(NaN)}else I=AE(new Date(R+J)),I=AE(new Date(R+J+I));return new Date(R+J+I)}else return new Date(NaN)}function Ij(e){var t={},n=pc.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=pc.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){var o=pc.timeZone.exec(r);o?(t.time=r.replace(o[1],""),t.timeZone=o[1].trim()):t.time=r}return t}function Lj(e,t){var n=pc.YYY[t],r=pc.YYYYY[t],o;if(o=pc.YYYY.exec(e)||r.exec(e),o){var d=o[1];return{year:parseInt(d,10),restDateString:e.slice(d.length)}}if(o=pc.YY.exec(e)||n.exec(e),o){var h=o[1];return{year:parseInt(h,10)*100,restDateString:e.slice(h.length)}}return{year:null}}function Oj(e,t){if(t===null)return null;var n,r,o,d;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(n=pc.MM.exec(e),n)return r=new Date(0),o=parseInt(n[1],10)-1,RE(t,o)?(r.setUTCFullYear(t,o),r):new Date(NaN);if(n=pc.DDD.exec(e),n){r=new Date(0);var h=parseInt(n[1],10);return Nj(t,h)?(r.setUTCFullYear(t,0,h),r):new Date(NaN)}if(n=pc.MMDD.exec(e),n){r=new Date(0),o=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return RE(t,o,s)?(r.setUTCFullYear(t,o,s),r):new Date(NaN)}if(n=pc.Www.exec(e),n)return d=parseInt(n[1],10)-1,BE(t,d)?OE(t,d):new Date(NaN);if(n=pc.WwwD.exec(e),n){d=parseInt(n[1],10)-1;var b=parseInt(n[2],10)-1;return BE(t,d,b)?OE(t,d,b):new Date(NaN)}return null}function Rj(e){var t,n,r;if(t=pc.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),w3(n)?n%24*b3:NaN;if(t=pc.HHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),w3(n,r)?n%24*b3+r*LE:NaN;if(t=pc.HHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return w3(n,r,o)?n%24*b3+r*LE+o*1e3:NaN}return null}function OE(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,d=t*7+n+1-o;return r.setUTCDate(r.getUTCDate()+d),r}var Bj=[31,28,31,30,31,30,31,31,30,31,30,31],zj=[31,29,31,30,31,30,31,31,30,31,30,31];function M4(e){return e%400===0||e%4===0&&e%100!==0}function RE(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var r=M4(e);if(r&&n>zj[t]||!r&&n>Bj[t])return!1}return!0}function Nj(e,t){if(t<1)return!1;var n=M4(e);return!(n&&t>366||!n&&t>365)}function BE(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function w3(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}var OT={exports:{}},RT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,o){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(r[d]=o[d]);return r}e.exports=t.default})(RT,RT.exports);var Fj=RT.exports;(function(e,t){var n=yj.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(Fj);function o(d){return(0,r.default)({},d)}e.exports=t.default})(OT,OT.exports);var jj=OT.exports;const Uj=k5(jj);function $j(e,t,n){var r=LT(e,n),o=P5(t,r,!0),d=new Date(r.getTime()-o),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}function Vj(e,t,n){if(typeof e=="string"&&!e.match(E4)){var r=Uj(n);return r.timeZone=t,LT(e,r)}var o=LT(e,n),d=A5(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()).getTime(),h=P5(t,new Date(d));return new Date(d+h)}const Gj=(e,t=3)=>{const n=[];for(let r=0;r<e.length;r+=t)n.push([e[r],e[r+1],e[r+2]]);return n};function zE(e){return t=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`)).slice(0,2)}function Wj(e){return t=>U0(new Date(`2017-01-0${t}T00:00:00+00:00`),"EEEEEE",{locale:e})}const Hj=(e,t,n)=>{const r=[1,2,3,4,5,6,7];let o;if(e!==null)try{o=r.map(Wj(e))}catch{o=r.map(zE(t))}else o=r.map(zE(t));const d=o.slice(0,n),h=o.slice(n+1,o.length);return[o[n]].concat(...h).concat(...d)},Yj=(e,t)=>{const n=[];for(let r=+e[0];r<=+e[1];r++)n.push({value:+r,text:`${r}`});return t?n.reverse():n},qj=(e,t,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(d=>{const h=d<10?`0${d}`:d;return new Date(`2017-${h}-01T00:00:00+00:00`)});if(e!==null)try{const d=n==="long"?"MMMM":"MMM";return r.map((h,s)=>{const b=U0(h,d,{locale:e});return{text:b.charAt(0).toUpperCase()+b.substring(1),value:s}})}catch{}const o=new Intl.DateTimeFormat(t,{month:n,timeZone:"UTC"});return r.map((d,h)=>{const s=o.format(d);return{text:s.charAt(0).toUpperCase()+s.substring(1),value:h}})},Xj=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],qo=e=>{const t=Ii(e);return t!=null&&t.$el?t==null?void 0:t.$el:t},Zj=e=>Object.assign({type:"dot"},e),k4=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,ob={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},Ll=e=>e,NE=e=>e===0?e:!e||isNaN(+e)?null:+e,Kj=e=>e===0?!0:!!e,FE=e=>e===null,Jj=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},jE=e=>Object.assign({menuAppear:"",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},e),Qj=e=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},e),eU=e=>e===null?0:typeof e=="boolean"?e?2:0:+e>=2?+e:2,tU=(e,t,n)=>e||(typeof n=="string"?n:t),iU=e=>typeof e=="boolean"?e?jE({}):!1:jE(e),nU=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),rU=e=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},e),sU=e=>Object.assign({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0},e),xd=e=>{const t=()=>{if(e.partialRange)return null;throw new Error(ob.prop("partial-range"))},n=hn(()=>({ariaLabels:Qj(e.ariaLabels),textInputOptions:Object.assign(nU(),e.textInputOptions),multiCalendars:eU(e.multiCalendars),previewFormat:tU(e.previewFormat,e.format,d()),filters:rU(e.filters),transitions:iU(e.transitions),startTime:Z(),actionRow:sU(e.actionRow)})),r=pe=>{if(e.range)return pe();throw new Error(ob.prop("range"))},o=()=>{const pe=e.enableSeconds?":ss":"";return e.is24?`HH:mm${pe}`:`hh:mm${pe} aa`},d=()=>e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?o():e.weekPicker?"MM/dd/yyyy":e.yearPicker?"yyyy":e.enableTimePicker?`MM/dd/yyyy, ${o()}`:"MM/dd/yyyy",h=(pe,F)=>{if(typeof e.format=="function")return e.format(pe);const Q=F||d(),ce=e.formatLocale?{locale:e.formatLocale}:void 0;return Array.isArray(pe)?`${U0(pe[0],Q,ce)}${e.modelAuto&&!pe[1]?"":n.value.textInputOptions.rangeSeparator||"-"}${pe[1]?U0(pe[1],Q,ce):""}`:U0(pe,Q,ce)},s=pe=>e.timezone?$j(pe,e.timezone):pe,b=pe=>e.timezone?Vj(pe,e.timezone):pe,R=hn(()=>pe=>{var F;return(F=e.hideNavigation)==null?void 0:F.includes(pe)}),J=pe=>{var F,Q,ce,ge;return Array.isArray(e.allowedDates)&&!((F=e.allowedDates)!=null&&F.length)?!0:(Q=e.arrMapValues)!=null&&Q.allowedDates?!S(pe,e.arrMapValues.allowedDates):(ce=e.allowedDates)!=null&&ce.length?!((ge=e.allowedDates)!=null&&ge.some(ke=>$s(s(Hi(ke)),s(pe)))):!1},I=pe=>{var F;const Q=e.maxDate?mc(s(pe),s(Hi(e.maxDate))):!1,ce=e.minDate?zl(s(pe),s(Hi(e.minDate))):!1,ge=S(pe,(F=e.arrMapValues)!=null&&F.disabledDates?e.arrMapValues.disabledDates:e.disabledDates),ke=n.value.filters.months.map(ye=>+ye).includes(uo(pe)),re=e.disabledWeekDays.length?e.disabledWeekDays.some(ye=>+ye===GN(pe)):!1,ve=J(pe),_e=Co(pe),oe=_e<+e.yearRange[0]||_e>+e.yearRange[1];return!(Q||ce||ge||ke||oe||re||ve)},z=pe=>{const F={hours:Xh(Hi()),minutes:Zh(Hi()),seconds:e.enableSeconds?Bg(Hi()):0};return Object.assign(F,pe)},Z=()=>e.range?e.startTime&&Array.isArray(e.startTime)?[z(e.startTime[0]),z(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?z(e.startTime):null,L=pe=>!I(pe),O=pe=>Array.isArray(pe)?Uy(pe[0])&&(pe[1]?Uy(pe[1]):!0):pe?Uy(pe):!1,G=pe=>pe instanceof Date?pe:ZF(pe),M=pe=>{const F=H0(s(pe),{weekStartsOn:+e.weekStart}),Q=Fz(s(pe),{weekStartsOn:+e.weekStart});return[F,Q]},S=(pe,F)=>pe?F instanceof Map?!!F.get(K(pe)):Array.isArray(F)?F.some(Q=>$s(s(Hi(Q)),s(pe))):F(Hi(JSON.parse(JSON.stringify(pe)))):!0,P=(pe,F,Q)=>{let ce=pe?Hi(pe):Hi();return(F||F===0)&&(ce=fg(ce,F)),Q&&(ce=ep(ce,Q)),ce},H=pe=>Qa(Hi(),cx(pe)),U=pe=>Qa(Hi(),{hours:+pe.hours||0,minutes:+pe.minutes||0,seconds:+pe.seconds||0}),E=(pe,F,Q,ce)=>{if(!pe)return!0;if(ce){const ge=Q==="max"?s_(pe,F):r_(pe,F),ke={seconds:0,milliseconds:0};return ge||D0(Qa(pe,ke),Qa(F,ke))}return Q==="max"?pe.getTime()<=F.getTime():pe.getTime()>=F.getTime()},ie=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,te=pe=>Array.isArray(pe)?[pe[0]?H(pe[0]):null,pe[1]?H(pe[1]):null]:H(pe),$=pe=>{const F=e.maxTime?U(e.maxTime):Hi(e.maxDate);return Array.isArray(pe)?E(pe[0],F,"max",!!e.maxDate)&&E(pe[1],F,"max",!!e.maxDate):E(pe,F,"max",!!e.maxDate)},V=(pe,F)=>{const Q=e.minTime?U(e.minTime):Hi(e.minDate);return Array.isArray(pe)?E(pe[0],Q,"min",!!e.minDate)&&E(pe[1],Q,"min",!!e.minDate)&&F:E(pe,Q,"min",!!e.minDate)&&F},j=pe=>{let F=!0;if(!pe||ie())return!0;const Q=!e.minDate&&!e.maxDate?te(pe):pe;if((e.maxTime||e.maxDate)&&(F=$(Ll(Q))),(e.minTime||e.minDate)&&(F=V(Ll(Q),F)),e.disabledTimes){const ce=Array.isArray(pe)?[cx(pe[0]),pe[1]?cx(pe[1]):void 0]:cx(pe);F=!e.disabledTimes(ce)}return F},w=(pe,F)=>{const Q=Hi(JSON.parse(JSON.stringify(pe))),ce=[];for(let ge=0;ge<7;ge++){const ke=Qh(Q,ge),re=uo(ke)!==F;ce.push({text:e.hideOffsetDates&&re?"":ke.getDate(),value:ke,current:!re,classData:{}})}return ce},D=(pe,F)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[pe==0,!0];case"fair":return[pe==0||F>pe,!0];case"append":return[!1,!1];default:return[!1,!1]}},m=(pe,F)=>{const Q=[],ce=Hi(s(new Date(F,pe))),ge=Hi(s(new Date(F,pe+1,0))),ke=e.weekStart,re=H0(ce,{weekStartsOn:ke}),ve=_e=>{const oe=w(_e,pe);if(Q.push({days:oe}),!Q[Q.length-1].days.some(ye=>$s(Zd(ye.value),Zd(ge)))){const ye=Qh(_e,7);ve(ye)}};if(ve(re),e.sixWeeks&&Q.length<6){const _e=6-Q.length,oe=(ce.getDay()+7-ke)%7,ye=6-(ge.getDay()+7-ke)%7,[Te,Oe]=D(oe,ye);for(let Le=1;Le<=_e;Le++)if(Oe?!!(Le%2)==Te:Te){const Ue=Q[0].days[0],nt=w(Qh(Ue.value,-7),uo(ce));Q.unshift({days:nt})}else{const Ue=Q[Q.length-1],nt=Ue.days[Ue.days.length-1],Qe=w(Qh(nt.value,1),uo(ce));Q.push({days:Qe})}}return Q},g=(pe,F,Q)=>[Qa(Hi(pe),{date:1}),Qa(Hi(),{month:F,year:Q,date:1})],x=(pe,F)=>zl(...g(e.minDate,pe,F))||$s(...g(e.minDate,pe,F)),k=(pe,F)=>mc(...g(e.maxDate,pe,F))||$s(...g(e.maxDate,pe,F)),q=(pe,F,Q)=>{let ce=!1;return e.maxDate&&Q&&k(pe,F)&&(ce=!0),e.minDate&&!Q&&x(pe,F)&&(ce=!0),ce},Y=(pe,F,Q,ce)=>{let ge=!1;return ce?e.minDate&&e.maxDate?ge=q(pe,F,Q):(e.minDate&&x(pe,F)||e.maxDate&&k(pe,F))&&(ge=!0):ge=!0,ge},K=pe=>{const F=Zd(s(Hi(pe))).toISOString(),[Q]=F.split("T");return Q},le=pe=>new Map(pe.map(F=>[K(F),!0])),he=pe=>Array.isArray(pe)&&pe.length>0;return{checkPartialRangeValue:t,checkRangeEnabled:r,getZonedDate:s,getZonedToUtc:b,formatDate:h,getDefaultPattern:d,validateDate:I,getDefaultStartTime:Z,isDisabled:L,isValidDate:O,sanitizeDate:G,getWeekFromDate:M,matchDate:S,setDateMonthOrYear:P,isValidTime:j,getCalendarDays:m,validateMonthYearInRange:Y,validateMaxDate:k,validateMinDate:x,assignDefaultTime:z,mapDatesArrToMap:pe=>{he(e.allowedDates)&&(pe.allowedDates=le(e.allowedDates)),he(e.highlight)&&(pe.highlightedDates=le(e.highlight)),he(e.disabledDates)&&(pe.disabledDates=le(e.disabledDates))},defaults:n,hideNavigationButtons:R}},So=Eu({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),T3=sn(null),dx=sn(!1),S3=sn(!1),C3=sn(!1),E3=sn(!1),uc=sn(0),pl=sn(0),Tf=()=>{const e=hn(()=>dx.value?[...So.selectionGrid,So.actionRow].filter(I=>I.length):S3.value?[...So.timePicker[0],...So.timePicker[1],E3.value?[]:[T3.value],So.actionRow].filter(I=>I.length):C3.value?[...So.monthPicker,So.actionRow]:[So.monthYear,...So.calendar,So.time,So.actionRow].filter(I=>I.length)),t=I=>{uc.value=I?uc.value+1:uc.value-1;let z=null;e.value[pl.value]&&(z=e.value[pl.value][uc.value]),z||(uc.value=I?uc.value-1:uc.value+1)},n=I=>{pl.value===0&&!I||pl.value===e.value.length&&I||(pl.value=I?pl.value+1:pl.value-1,e.value[pl.value]?e.value[pl.value]&&!e.value[pl.value][uc.value]&&uc.value!==0&&(uc.value=e.value[pl.value].length-1):pl.value=I?pl.value-1:pl.value+1)},r=I=>{let z=null;e.value[pl.value]&&(z=e.value[pl.value][uc.value]),z?z.focus({preventScroll:!dx.value}):uc.value=I?uc.value-1:uc.value+1},o=()=>{t(!0),r(!0)},d=()=>{t(!1),r(!1)},h=()=>{n(!1),r(!0)},s=()=>{n(!0),r(!0)},b=(I,z)=>{So[z]=I},R=(I,z)=>{So[z]=I},J=()=>{uc.value=0,pl.value=0};return{buildMatrix:b,buildMultiLevelMatrix:R,setTimePickerBackRef:I=>{T3.value=I},setSelectionGrid:I=>{dx.value=I,J(),I||(So.selectionGrid=[])},setTimePicker:(I,z=!1)=>{S3.value=I,E3.value=z,J(),I||(So.timePicker[0]=[],So.timePicker[1]=[])},setTimePickerElements:(I,z=0)=>{So.timePicker[z]=I},arrowRight:o,arrowLeft:d,arrowUp:h,arrowDown:s,clearArrowNav:()=>{So.monthYear=[],So.calendar=[],So.time=[],So.actionRow=[],So.selectionGrid=[],So.timePicker[0]=[],So.timePicker[1]=[],dx.value=!1,S3.value=!1,E3.value=!1,C3.value=!1,J(),T3.value=null},setMonthPicker:I=>{C3.value=I,J()},refSets:So}},UE=e=>Array.isArray(e),x0=e=>Array.isArray(e),$E=e=>Array.isArray(e)&&e.length===2,oU=(e,t,n,r,o)=>{const{getDefaultStartTime:d,isDisabled:h,sanitizeDate:s,getWeekFromDate:b,setDateMonthOrYear:R,validateMonthYearInRange:J,defaults:I}=xd(e),z=hn({get:()=>e.internalModelValue,set:ft=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",ft)}}),Z=sn([]);ha(z,(ft,Nt)=>{e.range?ie():D0(ft,Nt)||ie()});const L=ff(e,"multiCalendars");ha(L,()=>{Me(0)});const O=sn([{month:uo(Hi()),year:Co(Hi())}]);ha(O,()=>{O.value.forEach((ft,Nt)=>{t("update-month-year",{instance:Nt,month:ft.month,year:ft.year})})},{deep:!0});const G=Eu({hours:e.range?[Xh(Hi()),Xh(Hi())]:Xh(Hi()),minutes:e.range?[Zh(Hi()),Zh(Hi())]:Zh(Hi()),seconds:e.range?[0,0]:0}),M=hn(()=>ft=>O.value[ft]?O.value[ft].month:0),S=hn(()=>ft=>O.value[ft]?O.value[ft].year:0),P=hn(()=>{var ft;return(ft=e.flow)!=null&&ft.length&&!e.partialFlow?o.value===e.flow.length:!0}),H=(ft,Nt,fi)=>{var Ui,dn;O.value[ft]||(O.value[ft]={month:0,year:0}),O.value[ft].month=FE(Nt)?(Ui=O.value[ft])==null?void 0:Ui.month:Nt,O.value[ft].year=FE(fi)?(dn=O.value[ft])==null?void 0:dn.year:fi},U=(ft,Nt)=>{G[ft]=Nt},E=()=>{e.startDate&&(H(0,uo(Hi(e.startDate)),Co(Hi(e.startDate))),I.value.multiCalendars&&Me(0))};Ko(()=>{z.value||(E(),I.value.startTime&&k()),ie(!0),e.focusStartDate&&e.startDate&&E()});const ie=(ft=!1)=>{if(z.value)return Array.isArray(z.value)?(Z.value=z.value,w(ft)):$(z.value,ft);if(e.timePicker)return D();if(e.monthPicker&&!e.range)return m();if(e.yearPicker&&!e.range)return g();if(I.value.multiCalendars&&ft&&!e.startDate)return te(Hi(),ft)},te=(ft,Nt=!1)=>{if((!I.value.multiCalendars||!e.multiStatic||Nt)&&H(0,uo(ft),Co(ft)),I.value.multiCalendars)for(let fi=1;fi<I.value.multiCalendars;fi++){const Ui=Qa(Hi(),{month:M.value(fi-1),year:S.value(fi-1)}),dn=e4(Ui,{months:1});O.value[fi]={month:uo(dn),year:Co(dn)}}},$=(ft,Nt)=>{te(ft),U("hours",Xh(ft)),U("minutes",Zh(ft)),U("seconds",Bg(ft)),I.value.multiCalendars&&Nt&&Y()},V=(ft,Nt)=>{ft[1]&&e.showLastInRange?te(ft[1],Nt):te(ft[0],Nt);const fi=(Ui,dn)=>[Ui(ft[0]),ft[1]?Ui(ft[1]):G[dn][1]];U("hours",fi(Xh,"hours")),U("minutes",fi(Zh,"minutes")),U("seconds",fi(Bg,"seconds"))},j=(ft,Nt)=>{if((e.range||e.weekPicker)&&!e.multiDates)return V(ft,Nt);if(e.multiDates){const fi=ft[ft.length-1];return $(fi,Nt)}},w=ft=>{const Nt=z.value;j(Nt,ft),I.value.multiCalendars&&e.multiCalendarsSolo&&Y()},D=()=>{if(k(),!e.range)z.value=Wd(Hi(),G.hours,G.minutes,x());else{const ft=G.hours,Nt=G.minutes;z.value=[Wd(Hi(),ft[0],Nt[0],x()),Wd(Hi(),ft[1],Nt[1],x(!1))]}},m=()=>{e.multiDates?z.value=[R(Hi(),M.value(0),S.value(0))]:z.value=R(Hi(),M.value(0),S.value(0))},g=()=>{z.value=Hi()},x=(ft=!0)=>e.enableSeconds?Array.isArray(G.seconds)?ft?G.seconds[0]:G.seconds[1]:G.seconds:0,k=()=>{const ft=d();if(ft){const Nt=Array.isArray(ft),fi=Nt?[+ft[0].hours,+ft[1].hours]:+ft.hours,Ui=Nt?[+ft[0].minutes,+ft[1].minutes]:+ft.minutes,dn=Nt?[+ft[0].seconds,+ft[1].seconds]:+ft.seconds;U("hours",fi),U("minutes",Ui),e.enableSeconds&&U("seconds",dn)}},q=()=>Array.isArray(z.value)&&z.value.length?z.value[z.value.length-1]:null,Y=()=>{if(Array.isArray(z.value)&&z.value.length===2){const ft=Hi(Hi(z.value[1]?z.value[1]:ah(z.value[0],1))),[Nt,fi]=[uo(z.value[0]),Co(z.value[0])],[Ui,dn]=[uo(z.value[1]),Co(z.value[1])];(Nt!==Ui||Nt===Ui&&fi!==dn)&&e.multiCalendarsSolo&&H(1,uo(ft),Co(ft))}else z.value&&!Array.isArray(z.value)&&H(0,uo(z.value),Co(z.value))},K=ft=>{const Nt=ah(ft,1);return{month:uo(Nt),year:Co(Nt)}},le=ft=>{const Nt=uo(Hi(ft)),fi=Co(Hi(ft));if(H(0,Nt,fi),I.value.multiCalendars>0)for(let Ui=1;Ui<I.value.multiCalendars;Ui++){const dn=K(Qa(Hi(ft),{year:M.value(Ui-1),month:S.value(Ui-1)}));H(Ui,dn.month,dn.year)}},he=ft=>{if(z.value&&Array.isArray(z.value))if(z.value.some(Nt=>$s(ft,Nt))){const Nt=z.value.filter(fi=>!$s(fi,ft));z.value=Nt.length?Nt:null}else(e.multiDatesLimit&&+e.multiDatesLimit>z.value.length||!e.multiDatesLimit)&&z.value.push(ft);else z.value=[ft]},pe=(ft,Nt)=>{const fi=mc(ft,Nt)?Nt:ft,Ui=mc(Nt,ft)?Nt:ft;return vE({start:fi,end:Ui})},F=(ft,Nt=0)=>{if(Array.isArray(z.value)&&z.value[Nt]){const fi=zz(ft,z.value[Nt]),Ui=pe(z.value[Nt],ft),dn=Ui.length===1?0:Ui.filter(Kr=>h(Kr)).length,Gn=Math.abs(fi)-dn;if(e.minRange&&e.maxRange)return Gn>=+e.minRange&&Gn<=+e.maxRange;if(e.minRange)return Gn>=+e.minRange;if(e.maxRange)return Gn<=+e.maxRange}return!0},Q=ft=>Array.isArray(z.value)&&z.value.length===2?e.fixedStart&&(mc(ft,z.value[0])||$s(ft,z.value[0]))?[z.value[0],ft]:e.fixedEnd&&(zl(ft,z.value[1])||$s(ft,z.value[1]))?[ft,z.value[1]]:(t("invalid-fixed-range",ft),z.value):[],ce=()=>{e.autoApply&&P.value&&t("auto-apply",e.partialFlow)},ge=()=>{e.autoApply&&t("select-date")},ke=ft=>!vE({start:ft[0],end:ft[1]}).some(Nt=>h(Nt)),re=ft=>(z.value=b(Hi(ft.value)),ce()),ve=ft=>{const Nt=Wd(Hi(ft.value),G.hours,G.minutes,x());e.multiDates?he(Nt):z.value=Nt,n(),ce()},_e=()=>{Z.value=z.value?z.value.slice():[],Z.value.length===2&&!(e.fixedStart||e.fixedEnd)&&(Z.value=[])},oe=(ft,Nt)=>{const fi=[Hi(ft.value),Qh(Hi(ft.value),+e.autoRange)];ke(fi)&&(Nt&&le(ft.value),Z.value=fi)},ye=ft=>{Te(ft.value)||!F(ft.value,e.fixedStart?0:1)||(Z.value=Q(Hi(ft.value)))},Te=ft=>e.noDisabledRange?pe(Z.value[0],ft).some(Nt=>h(Nt)):!1,Oe=(ft,Nt)=>{if(_e(),e.autoRange)return oe(ft,Nt);if(e.fixedStart||e.fixedEnd)return ye(ft);Z.value[0]?F(Hi(ft.value))&&!Te(ft.value)&&(zl(Hi(ft.value),Hi(Z.value[0]))?(Z.value.unshift(Hi(ft.value)),t("range-end",Z.value[0])):(Z.value[1]=Hi(ft.value),t("range-end",Z.value[1]))):(Z.value[0]=Hi(ft.value),t("range-start",Z.value[0]))},Le=ft=>{Z.value[ft]=Wd(Z.value[ft],G.hours[ft],G.minutes[ft],x(ft!==1))},Ue=()=>{var ft,Nt;Z.value[0]&&Z.value[1]&&+((ft=Z.value)==null?void 0:ft[0])>+((Nt=Z.value)==null?void 0:Nt[1])&&(Z.value.reverse(),t("range-start",Z.value[0]),t("range-end",Z.value[1]))},nt=()=>{Z.value.length&&(Z.value[0]&&!Z.value[1]?Le(0):(Le(0),Le(1),n()),Ue(),z.value=Z.value.slice(),Z.value[0]&&Z.value[1]&&e.autoApply&&t("auto-apply"),Z.value[0]&&!Z.value[1]&&e.modelAuto&&e.autoApply&&t("auto-apply"))},Qe=(ft,Nt=!1)=>{if(!(h(ft.value)||!ft.current&&e.hideOffsetDates)){if(e.weekPicker)return re(ft);if(!e.range)return ve(ft);x0(G.hours)&&x0(G.minutes)&&!e.multiDates&&(Oe(ft,Nt),nt())}},ut=ft=>{const Nt=ft[0];return e.weekNumbers==="local"?KN(Nt.value,{weekStartsOn:+e.weekStart}):e.weekNumbers==="iso"?YN(Nt.value):typeof e.weekNumbers=="function"?e.weekNumbers(Nt.value):""},Me=ft=>{for(let Nt=ft-1;Nt>=0;Nt--){const fi=Tg(Qa(Hi(),{month:M.value(Nt+1),year:S.value(Nt+1)}),1);H(Nt,uo(fi),Co(fi))}for(let Nt=ft+1;Nt<=I.value.multiCalendars-1;Nt++){const fi=ah(Qa(Hi(),{month:M.value(Nt-1),year:S.value(Nt-1)}),1);H(Nt,uo(fi),Co(fi))}},Re=ft=>R(Hi(),M.value(ft),S.value(ft)),Ne=ft=>Wd(ft,G.hours,G.minutes,x()),Xe=ft=>{he(Re(ft))},rt=(ft,Nt)=>{const fi=e.monthPicker?M.value(ft)!==Nt.month||!Nt.fromNav:S.value(ft)!==Nt.year||!Nt.fromNav;if(H(ft,Nt.month,Nt.year),I.value.multiCalendars&&!e.multiCalendarsSolo&&Me(ft),e.monthPicker||e.yearPicker)if(e.multiDates)fi&&Xe(ft);else if(e.range){if(fi&&F(Re(ft))){let Ui=z.value?z.value.slice():[];Ui.length===2&&Ui[1]!==null&&(Ui=[]),Ui.length?zl(Re(ft),Ui[0])?Ui.unshift(Re(ft)):Ui[1]=Re(ft):Ui=[Re(ft)],z.value=Ui}}else(e.autoApplyMonth||fi)&&(z.value=Re(ft));r(e.multiCalendarsSolo?ft:void 0)},yt=async(ft=!1)=>{if(e.autoApply&&(e.monthPicker||e.yearPicker)){await yc();const Nt=e.monthPicker?ft:!1;e.range?t("auto-apply",Nt||!z.value||z.value.length===1):t("auto-apply",Nt)}n()},$t=(ft,Nt)=>{const fi=Qa(Hi(),{month:M.value(Nt),year:S.value(Nt)}),Ui=ft<0?ah(fi,1):Tg(fi,1);J(uo(Ui),Co(Ui),ft<0,e.preventMinMaxNavigation)&&(H(Nt,uo(Ui),Co(Ui)),I.value.multiCalendars&&!e.multiCalendarsSolo&&Me(Nt),r())},Wt=ft=>{UE(ft)&&UE(z.value)&&x0(G.hours)&&x0(G.minutes)?(ft[0]&&z.value[0]&&(z.value[0]=Wd(ft[0],G.hours[0],G.minutes[0],x())),ft[1]&&z.value[1]&&(z.value[1]=Wd(ft[1],G.hours[1],G.minutes[1],x(!1)))):e.multiDates&&Array.isArray(z.value)?z.value[z.value.length-1]=Ne(ft):!e.range&&!$E(ft)&&(z.value=Ne(ft)),t("time-update")},Ci=(ft,Nt=!0,fi=!1)=>{const Ui=Nt?ft:G.hours,dn=!Nt&&!fi?ft:G.minutes,Gn=fi?ft:G.seconds;if(e.range&&$E(z.value)&&x0(Ui)&&x0(dn)&&x0(Gn)&&!e.disableTimeRangeValidation){const Kr=$i=>Wd(z.value[$i],Ui[$i],dn[$i],Gn[$i]),ci=$i=>M5(z.value[$i],0);if($s(z.value[0],z.value[1])&&(r_(Kr(0),ci(1))||s_(Kr(1),ci(0))))return}if(U("hours",Ui),U("minutes",dn),U("seconds",Gn),z.value)if(e.multiDates){const Kr=q();Kr&&Wt(Kr)}else Wt(z.value);else e.timePicker&&Wt(e.range?[Hi(),Hi()]:Hi());n()},ti=(ft,Nt)=>{e.monthChangeOnScroll&&$t(e.monthChangeOnScroll!=="inverse"?-ft.deltaY:ft.deltaY,Nt)},Mi=(ft,Nt,fi=!1)=>{e.monthChangeOnArrows&&e.vertical===fi&&on(ft,Nt)},on=(ft,Nt)=>{$t(ft==="right"?-1:1,Nt)};return{time:G,month:M,year:S,modelValue:z,calendars:O,monthYearSelect:yt,isDisabled:h,updateTime:Ci,getWeekNum:ut,selectDate:Qe,updateMonthYear:rt,handleScroll:ti,getMarker:ft=>e.markers.find(Nt=>$s(s(ft.value),s(Nt.date))),handleArrow:Mi,handleSwipe:on,selectCurrentDate:()=>{e.range?z.value&&Array.isArray(z.value)&&z.value[0]?z.value=zl(Hi(),z.value[0])?[Hi(),z.value[0]]:[z.value[0],Hi()]:z.value=[Hi()]:z.value=Hi(),ge()},presetDateRange:(ft,Nt)=>{Nt||ft.length&&ft.length<=2&&e.range&&(z.value=ft.map(fi=>Hi(fi)),ge(),e.multiCalendars&&yc().then(()=>ie(!0)))}}},aU=(e,t,n)=>{const r=sn(),{getZonedToUtc:o,getZonedDate:d,formatDate:h,getDefaultPattern:s,checkRangeEnabled:b,checkPartialRangeValue:R,isValidDate:J,setDateMonthOrYear:I,defaults:z}=xd(t),Z=sn(""),L=ff(t,"format");ha(r,()=>{e("internal-model-change",r.value)}),ha(L,()=>{q()});const O=F=>{const Q=F||Hi();return t.modelType?K(Q):{hours:Xh(Q),minutes:Zh(Q),seconds:t.enableSeconds?Bg(Q):0}},G=F=>t.modelType?K(F):{month:uo(F),year:Co(F)},M=F=>Array.isArray(F)?b(()=>[ep(Hi(),F[0]),F[1]?ep(Hi(),F[1]):R()]):ep(Hi(),+F),S=(F,Q)=>(typeof F=="string"||typeof F=="number")&&t.modelType?Y(F):Q,P=F=>Array.isArray(F)?[S(F[0],Wd(null,+F[0].hours,+F[0].minutes,F[0].seconds)),S(F[1],Wd(null,+F[1].hours,+F[1].minutes,F[1].seconds))]:S(F,Wd(null,F.hours,F.minutes,F.seconds)),H=F=>Array.isArray(F)?t.multiDates?F.map(Q=>S(Q,I(null,+Q.month,+Q.year))):b(()=>[S(F[0],I(null,+F[0].month,+F[0].year)),S(F[1],F[1]?I(null,+F[1].month,+F[1].year):R())]):S(F,I(null,+F.month,+F.year)),U=F=>{if(Array.isArray(F))return F.map(Q=>Y(Q));throw new Error(ob.dateArr("multi-dates"))},E=F=>{if(Array.isArray(F))return[Hi(F[0]),Hi(F[1])];throw new Error(ob.dateArr("week-picker"))},ie=F=>t.modelAuto?Array.isArray(F)?[Y(F[0]),Y(F[1])]:t.autoApply?[Y(F)]:[Y(F),null]:Array.isArray(F)?b(()=>[Y(F[0]),F[1]?Y(F[1]):R()]):Y(F),te=()=>{Array.isArray(r.value)&&t.range&&r.value.length===1&&r.value.push(R())},$=()=>{const F=r.value;return[K(F[0]),F[1]?K(F[1]):R()]},V=()=>r.value[1]?$():K(Ll(r.value[0])),j=()=>(r.value||[]).map(F=>K(F)),w=()=>(te(),t.modelAuto?V():t.multiDates?j():Array.isArray(r.value)?b(()=>$()):K(Ll(r.value))),D=F=>F?t.timePicker?P(Ll(F)):t.monthPicker?H(Ll(F)):t.yearPicker?M(Ll(F)):t.multiDates?U(Ll(F)):t.weekPicker?E(Ll(F)):ie(Ll(F)):null,m=F=>{const Q=D(F);J(Ll(Q))?(r.value=Ll(Q),q()):(r.value=null,Z.value="")},g=()=>{var F;const Q=ce=>{var ge;return U0(ce,(ge=z.value.textInputOptions)==null?void 0:ge.format)};return`${Q(r.value[0])} ${(F=z.value.textInputOptions)==null?void 0:F.rangeSeparator} ${r.value[1]?Q(r.value[1]):""}`},x=()=>{var F;return n.value&&r.value?Array.isArray(r.value)?g():U0(r.value,(F=z.value.textInputOptions)==null?void 0:F.format):h(r.value)},k=()=>{var F;return r.value?t.multiDates?r.value.map(Q=>h(Q)).join("; "):t.textInput&&typeof((F=z.value.textInputOptions)==null?void 0:F.format)=="string"?x():h(r.value):""},q=()=>{!t.format||typeof t.format=="string"||t.textInput&&typeof t.textInputOptions.format=="string"?Z.value=k():Z.value=t.format(r.value)},Y=F=>{if(t.utc){const Q=new Date(F);return t.utc==="preserve"?new Date(Q.getTime()+Q.getTimezoneOffset()*6e4):Q}return t.modelType?t.modelType==="date"||t.modelType==="timestamp"?d(new Date(F)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?AT(F,s(),new Date):d(AT(F,t.modelType,new Date)):d(new Date(F))},K=F=>F?t.utc?gj(F,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+o(F):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?h(o(F)):h(o(F),t.modelType):o(F):"",le=F=>{e("update:model-value",F)},he=F=>Array.isArray(r.value)?t.multiDates?r.value.map(Q=>F(Q)):[F(r.value[0]),r.value[1]?F(r.value[1]):R()]:F(Ll(r.value)),pe=F=>le(Ll(he(F)));return{inputValue:Z,internalModelValue:r,checkBeforeEmit:()=>r.value?t.range?t.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:m,formatInputValue:q,emitModelValue:()=>(q(),t.monthPicker?pe(G):t.timePicker?pe(O):t.yearPicker?pe(Co):t.weekPicker?le(r.value):le(w()))}},lU=(e,t)=>{const{validateMonthYearInRange:n,validateMaxDate:r,validateMinDate:o,defaults:d}=xd(e),h=(I,z)=>{let Z=I;return d.value.filters.months.includes(uo(Z))?(Z=z?ah(I,1):Tg(I,1),h(Z,z)):Z},s=(I,z)=>{let Z=I;return d.value.filters.years.includes(Co(Z))?(Z=z?t4(I,1):pj(I,1),s(Z,z)):Z},b=I=>{const z=Qa(new Date,{month:e.month,year:e.year});let Z=I?ah(z,1):Tg(z,1);e.disableYearSelect&&(Z=ep(Z,e.year));let L=uo(Z),O=Co(Z);d.value.filters.months.includes(L)&&(Z=h(Z,I),L=uo(Z),O=Co(Z)),d.value.filters.years.includes(O)&&(Z=s(Z,I),O=Co(Z)),n(L,O,I,e.preventMinMaxNavigation)&&R(L,O)},R=(I,z)=>{t("update-month-year",{month:I,year:z})},J=hn(()=>I=>{if(!e.preventMinMaxNavigation||I&&!e.maxDate||!I&&!e.minDate)return!1;const z=Qa(new Date,{month:e.month,year:e.year}),Z=I?ah(z,1):Tg(z,1),L=[uo(Z),Co(Z)];return I?!r(...L):!o(...L)});return{handleMonthYearChange:b,isDisabled:J,updateMonthYear:R}};var Ex=(e=>(e.center="center",e.left="left",e.right="right",e))(Ex||{});const cU=(e,t,n,r)=>{const o=sn({top:"0",left:"0",transform:"none",opacity:"0"}),d=sn(!1),h=ff(r,"teleportCenter"),s=hn(()=>d.value?"-100%":"0"),b=()=>{R(),o.value.opacity="0"};ha(h,()=>{S()}),Ko(()=>{R()});const R=()=>{const w=qo(t);if(w){const{top:D,left:m,width:g,height:x}=L(w);o.value.top=`${D+x/2}px`,Z(m,g,50)}},J=w=>{if(r.teleport){const D=w.getBoundingClientRect();return{left:D.left+window.scrollX,top:D.top+window.scrollY}}return{top:0,left:0}},I=(w,D)=>{o.value.left=`${w+D}px`,o.value.transform=`translate(-100%, ${s.value})`},z=w=>{o.value.left=`${w}px`,o.value.transform=`translate(0, ${s.value})`},Z=(w,D,m)=>{r.position===Ex.left&&z(w),r.position===Ex.right&&I(w,D),r.position===Ex.center&&(o.value.left=`${w+D/2}px`,o.value.transform=m?`translate(-50%, -${m}%)`:`translate(-50%, ${s.value})`)},L=w=>{const{width:D,height:m}=w.getBoundingClientRect(),{top:g,left:x}=r.altPosition?r.altPosition(w):J(w);return{top:+g,left:+x,width:D,height:m}},O=()=>{const w=qo(t);if(w){const{top:D,left:m,width:g,height:x}=L(w),k=ie();o.value.top=`${D+x/2}px`,Z(m,g,k==="top"?100:0)}},G=()=>{o.value.left="50%",o.value.top="50%",o.value.transform="translate(-50%, -50%)",o.value.position="fixed",delete o.value.opacity},M=()=>{const w=qo(t),{top:D,left:m,transform:g}=r.altPosition(w);o.value={top:`${D}px`,left:`${m}px`,transform:g||""}},S=(w=!0)=>{if(!r.inline)return h.value?G():r.altPosition!==null?M():(w&&n("recalculate-position"),$())},P=({inputEl:w,menuEl:D,left:m,width:g})=>{window.screen.width>768&&Z(m,g),E(w,D)},H=(w,D)=>{const{top:m,left:g,height:x,width:k}=L(w);o.value.top=`${x+m+ +r.offset}px`,d.value=!1,P({inputEl:w,menuEl:D,left:g,width:k})},U=(w,D)=>{const{top:m,left:g,width:x}=L(w);o.value.top=`${m-+r.offset}px`,d.value=!0,P({inputEl:w,menuEl:D,left:g,width:x})},E=(w,D)=>{if(r.autoPosition){const{left:m,width:g}=L(w),{left:x,right:k}=D.getBoundingClientRect();return x<=0?z(m):k>=document.documentElement.clientWidth?I(m,g):Z(m,g)}},ie=()=>{const w=qo(e),D=qo(t);if(w&&D){const{height:m}=w.getBoundingClientRect(),{top:g,height:x}=D.getBoundingClientRect(),k=window.innerHeight-g-x,q=g;return m<=k?"bottom":m>k&&m<=q?"top":k>=q?"bottom":"top"}return"bottom"},te=(w,D)=>ie()==="bottom"?H(w,D):U(w,D),$=()=>{const w=qo(t),D=qo(e);if(w&&D)return r.autoPosition?te(w,D):H(w,D)},V=function(w){if(w){const D=w.scrollHeight>w.clientHeight,m=window.getComputedStyle(w).overflowY.indexOf("hidden")!==-1;return D&&!m}return!0},j=function(w){return!w||w===document.body||w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:V(w)?w:j(w.parentNode)};return{openOnTop:d,menuStyle:o,resetPosition:b,setMenuPosition:S,setInitialPosition:O,getScrollableParent:j}},dg=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar","month-year"]},{name:"arrow-down",use:["time","calendar","month-year"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar"]}],dU=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],uU={all:()=>dg,monthYear:()=>dg.filter(e=>e.use.includes("month-year")),input:()=>dU,timePicker:()=>dg.filter(e=>e.use.includes("time")),action:()=>dg.filter(e=>e.use.includes("action")),calendar:()=>dg.filter(e=>e.use.includes("calendar")),menu:()=>dg.filter(e=>e.use.includes("menu"))},I0=(e,t,n)=>{const r=[];return uU[t]().forEach(o=>{e[o.name]&&r.push(o.name)}),n&&n.length&&n.forEach(o=>{o.slot&&r.push(o.slot)}),r},n2=e=>({transitionName:hn(()=>t=>e&&typeof e!="boolean"?t?e.open:e.close:""),showTransition:!!e}),Sf={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},allowPreventDefault:{type:Boolean,default:!1},closeOnClearValue:{type:Boolean,default:!0},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:Function,default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},autoApplyMonth:{type:Boolean,default:!0}},hU={key:1,class:"dp__input_wrap"},pU=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","onKeydown"],fU={key:2,class:"dp__clear_icon"},mU=vc({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Sf},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(e,{expose:t,emit:n}){const r=e,{getDefaultPattern:o,isValidDate:d,defaults:h,getDefaultStartTime:s,assignDefaultTime:b}=xd(r),R=sn(),J=sn(null),I=sn(!1),z=sn(!1),Z=hn(()=>({dp__pointer:!r.disabled&&!r.readonly&&!r.textInput,dp__disabled:r.disabled,dp__input_readonly:!r.textInput,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:r.state,dp__input_invalid:r.state===!1,dp__input_focus:I.value||r.isMenuOpen,dp__input_reg:!r.textInput,[r.inputClassName]:!!r.inputClassName})),L=()=>{n("set-input-date",null),r.autoApply&&(n("set-empty-date"),R.value=null)},O=j=>{var w;const D=s();return mj(j,((w=h.value.textInputOptions)==null?void 0:w.format)||o(),D||b({}),r.inputValue,z.value)},G=j=>{const{rangeSeparator:w}=h.value.textInputOptions,[D,m]=j.split(`${w}`);if(D){const g=O(D.trim()),x=m?O(m.trim()):null,k=g&&x?[g,x]:[g];R.value=g?k:null}},M=()=>{z.value=!0},S=j=>{if(r.range)G(j);else if(r.multiDates){const w=j.split(";");R.value=w.map(D=>O(D.trim())).filter(D=>D)}else R.value=O(j)},P=j=>{var w,D;const m=typeof j=="string"?j:(w=j.target)==null?void 0:w.value;m!==""?((D=h.value.textInputOptions)!=null&&D.openMenu&&!r.isMenuOpen&&n("open"),S(m),n("set-input-date",R.value)):L(),z.value=!1,n("update:input-value",m)},H=j=>{var w,D;r.textInput?(S(j.target.value),(w=h.value.textInputOptions)!=null&&w.enterSubmit&&d(R.value)&&r.inputValue!==""?(n("set-input-date",R.value,!0),R.value=null):(D=h.value.textInputOptions)!=null&&D.enterSubmit&&r.inputValue===""&&(R.value=null,n("clear"))):ie(j)},U=j=>{var w,D,m;r.textInput&&(w=h.value.textInputOptions)!=null&&w.tabSubmit&&S(j.target.value),(D=h.value.textInputOptions)!=null&&D.tabSubmit&&d(R.value)&&r.inputValue!==""?(n("set-input-date",R.value,!0),R.value=null):(m=h.value.textInputOptions)!=null&&m.tabSubmit&&r.inputValue===""&&(R.value=null,n("clear"))},E=()=>{I.value=!0,n("focus")},ie=j=>{var w;j.preventDefault(),j.stopImmediatePropagation(),j.stopPropagation(),r.textInput&&(w=h.value.textInputOptions)!=null&&w.openMenu&&!r.inlineWithInput?(n("toggle"),h.value.textInputOptions.enterSubmit&&n("select-date")):r.textInput||n("toggle")},te=()=>{n("real-blur"),I.value=!1,(!r.isMenuOpen||r.inline&&r.inlineWithInput)&&n("blur"),r.autoApply&&r.textInput&&R.value&&!r.isMenuOpen&&(n("set-input-date",R.value),n("select-date"),R.value=null)},$=()=>{n("clear")},V=j=>{if(!r.textInput){if(j.code==="Tab")return;j.preventDefault()}};return t({focusInput:()=>{var j;(j=J.value)==null||j.focus({preventScroll:!0})},setParsedDate:j=>{R.value=j}}),(j,w)=>{var D;return wt(),Ot("div",{onClick:ie},[j.$slots.trigger&&!j.$slots["dp-input"]&&!j.inline?xn(j.$slots,"trigger",{key:0}):yi("",!0),!j.$slots.trigger&&(!j.inline||j.inlineWithInput)?(wt(),Ot("div",hU,[j.$slots["dp-input"]&&!j.$slots.trigger&&!j.inline?xn(j.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:P,onEnter:H,onTab:U,onClear:$,onBlur:te,onKeypress:V,onPaste:M}):yi("",!0),j.$slots["dp-input"]?yi("",!0):(wt(),Ot("input",{key:1,ref_key:"inputRef",ref:J,id:j.uid?`dp-input-${j.uid}`:void 0,name:j.name,class:ar(Z.value),inputmode:j.textInput?"text":"none",placeholder:j.placeholder,disabled:j.disabled,readonly:j.readonly,required:j.required,value:e.inputValue,autocomplete:j.autocomplete,"aria-label":(D=Ii(h).ariaLabels)==null?void 0:D.input,onInput:P,onKeydown:[br(H,["enter"]),br(U,["tab"]),V],onBlur:te,onFocus:E,onKeypress:V,onPaste:M},null,42,pU)),Ye("div",{onClick:w[2]||(w[2]=m=>n("toggle"))},[j.$slots["input-icon"]&&!j.hideInputIcon?(wt(),Ot("span",{key:0,class:"dp__input_icon",onClick:w[0]||(w[0]=m=>n("toggle"))},[xn(j.$slots,"input-icon")])):yi("",!0),!j.$slots["input-icon"]&&!j.hideInputIcon&&!j.$slots["dp-input"]?(wt(),Ir(Ii(i2),{key:1,onClick:w[1]||(w[1]=m=>n("toggle")),class:"dp__input_icon dp__input_icons"})):yi("",!0)]),j.$slots["clear-icon"]&&e.inputValue&&j.clearable&&!j.disabled&&!j.readonly?(wt(),Ot("span",fU,[xn(j.$slots,"clear-icon",{clear:$})])):yi("",!0),j.clearable&&!j.$slots["clear-icon"]&&e.inputValue&&!j.disabled&&!j.readonly?(wt(),Ir(Ii(fj),{key:3,class:"dp__clear_icon dp__input_icons",onClick:fc($,["stop","prevent"])},null,8,["onClick"])):yi("",!0)])):yi("",!0)])}}}),gU=["title"],yU={class:"dp__action_buttons"},_U=["onKeydown","disabled"],vU=vc({__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},calendarWidth:{type:Number,default:0},...Sf},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const n=e,{formatDate:r,isValidTime:o,defaults:d}=xd(n),{buildMatrix:h}=Tf(),s=sn(null),b=sn(null);Ko(()=>{n.arrowNavigation&&h([qo(s),qo(b)],"actionRow")});const R=hn(()=>n.range&&!n.partialRange&&n.internalModelValue?n.internalModelValue.length===2:!0),J=hn(()=>!I.value||!z.value||!R.value),I=hn(()=>!n.enableTimePicker||n.ignoreTimeValidation?!0:o(n.internalModelValue)),z=hn(()=>n.monthPicker?n.range&&Array.isArray(n.internalModelValue)?!n.internalModelValue.filter(U=>!P(U)).length:P(n.internalModelValue):!0),Z=()=>{const U=d.value.previewFormat;return n.timePicker||n.monthPicker,U(Ll(n.internalModelValue))},L=()=>{const U=n.internalModelValue;return d.value.multiCalendars>0?`${O(U[0])} - ${O(U[1])}`:[O(U[0]),O(U[1])]},O=U=>r(U,d.value.previewFormat),G=hn(()=>!n.internalModelValue||!n.menuMount?"":typeof d.value.previewFormat=="string"?Array.isArray(n.internalModelValue)?n.internalModelValue.length===2&&n.internalModelValue[1]?L():n.multiDates?n.internalModelValue.map(U=>`${O(U)}`):n.modelAuto?`${O(n.internalModelValue[0])}`:`${O(n.internalModelValue[0])} -`:O(n.internalModelValue):Z()),M=()=>n.multiDates?"; ":" - ",S=hn(()=>Array.isArray(G.value)?G.value.join(M()):G.value),P=U=>{if(!n.monthPicker)return!0;let E=!0;const ie=Hi(Ay(U));if(n.minDate&&n.maxDate){const te=Hi(Ay(n.minDate)),$=Hi(Ay(n.maxDate));return mc(ie,te)&&zl(ie,$)||$s(ie,te)||$s(ie,$)}if(n.minDate){const te=Hi(Ay(n.minDate));E=mc(ie,te)||$s(ie,te)}if(n.maxDate){const te=Hi(Ay(n.maxDate));E=zl(ie,te)||$s(ie,te)}return E},H=()=>{I.value&&z.value&&R.value?t("select-date"):t("invalid-select")};return(U,E)=>(wt(),Ot("div",{class:"dp__action_row",style:el(e.calendarWidth?{width:`${e.calendarWidth}px`}:{})},[U.$slots["action-row"]?xn(U.$slots,"action-row",Ta(Yo({key:0},{internalModelValue:e.internalModelValue,disabled:J.value,selectDate:()=>U.$emit("select-date"),closePicker:()=>U.$emit("close-picker")}))):(wt(),Ot(ln,{key:1},[Ii(d).actionRow.showPreview?(wt(),Ot("div",{key:0,class:"dp__selection_preview",title:S.value},[U.$slots["action-preview"]?xn(U.$slots,"action-preview",{key:0,value:e.internalModelValue}):yi("",!0),U.$slots["action-preview"]?yi("",!0):(wt(),Ot(ln,{key:1},[ws(Qi(S.value),1)],64))],8,gU)):yi("",!0),Ye("div",yU,[U.$slots["action-buttons"]?xn(U.$slots,"action-buttons",{key:0,value:e.internalModelValue}):yi("",!0),U.$slots["action-buttons"]?yi("",!0):(wt(),Ot(ln,{key:1},[!U.inline&&Ii(d).actionRow.showCancel?(wt(),Ot("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:s,class:"dp__action_button dp__action_cancel",onClick:E[0]||(E[0]=ie=>U.$emit("close-picker")),onKeydown:[E[1]||(E[1]=br(ie=>U.$emit("close-picker"),["enter"])),E[2]||(E[2]=br(ie=>U.$emit("close-picker"),["space"]))]},Qi(U.cancelText),545)):yi("",!0),U.showNowButton||Ii(d).actionRow.showNow?(wt(),Ot("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:s,class:"dp__action_button dp__action_cancel",onClick:E[3]||(E[3]=ie=>U.$emit("select-now")),onKeydown:[E[4]||(E[4]=br(ie=>U.$emit("select-now"),["enter"])),E[5]||(E[5]=br(ie=>U.$emit("select-now"),["space"]))]},Qi(U.nowButtonLabel),545)):yi("",!0),Ii(d).actionRow.showSelect?(wt(),Ot("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[br(H,["enter"]),br(H,["space"])],onClick:H,disabled:J.value,ref_key:"selectButtonRef",ref:b},Qi(U.selectText),41,_U)):yi("",!0)],64))])],64))],4))}}),xU=["aria-label"],bU={class:"dp__calendar_header",role:"row"},wU={key:0,class:"dp__calendar_header_item",role:"gridcell"},TU=Ye("div",{class:"dp__calendar_header_separator"},null,-1),SU=["aria-label"],CU={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},EU={class:"dp__cell_inner"},MU=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],kU=vc({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Sf},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:n}){const r=e,{buildMultiLevelMatrix:o}=Tf(),{setDateMonthOrYear:d,defaults:h}=xd(r),s=sn(null),b=sn({bottom:"",left:"",transform:""}),R=sn([]),J=sn(null),I=sn(!0),z=sn(""),Z=sn({startX:0,endX:0,startY:0,endY:0}),L=sn([]),O=sn({left:"50%"}),G=hn(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),M=hn(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):Hj(r.formatLocale,r.locale,+r.weekStart));Ko(()=>{n("mount",{cmp:"calendar",refs:R}),r.noSwipe||J.value&&(J.value.addEventListener("touchstart",w,{passive:!1}),J.value.addEventListener("touchend",D,{passive:!1}),J.value.addEventListener("touchmove",m,{passive:!1})),r.monthChangeOnScroll&&J.value&&J.value.addEventListener("wheel",k,{passive:!1})});const S=q=>q?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",P=(q,Y)=>{if(r.transitions){const K=Zd(d(Hi(),r.month,r.year));z.value=mc(Zd(d(Hi(),q,Y)),K)?h.value.transitions[S(!0)]:h.value.transitions[S(!1)],I.value=!1,yc(()=>{I.value=!0})}},H=hn(()=>({[r.calendarClassName]:!!r.calendarClassName})),U=hn(()=>q=>{const Y=Zj(q);return{dp__marker_dot:Y.type==="dot",dp__marker_line:Y.type==="line"}}),E=hn(()=>q=>$s(q,s.value)),ie=hn(()=>({dp__calendar:!0,dp__calendar_next:h.value.multiCalendars>0&&r.instance!==0})),te=hn(()=>q=>r.hideOffsetDates?q.current:!0),$=hn(()=>r.specificMode?{height:`${r.modeHeight}px`}:void 0),V=async(q,Y,K)=>{var le,he;if(n("set-hover-date",q),(he=(le=q.marker)==null?void 0:le.tooltip)!=null&&he.length){const pe=qo(R.value[Y][K]);if(pe){const{width:F,height:Q}=pe.getBoundingClientRect();s.value=q.value;let ce={left:`${F/2}px`},ge=-50;if(await yc(),L.value[0]){const{left:ke,width:re}=L.value[0].getBoundingClientRect();ke<0&&(ce={left:"0"},ge=0,O.value.left=`${F/2}px`),window.innerWidth<ke+re&&(ce={right:"0"},ge=0,O.value.left=`${re-F/2}px`)}b.value={bottom:`${Q}px`,...ce,transform:`translateX(${ge}%)`},n("tooltip-open",q.marker)}}},j=q=>{s.value&&(s.value=null,b.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),n("tooltip-close",q.marker))},w=q=>{Z.value.startX=q.changedTouches[0].screenX,Z.value.startY=q.changedTouches[0].screenY},D=q=>{Z.value.endX=q.changedTouches[0].screenX,Z.value.endY=q.changedTouches[0].screenY,g()},m=q=>{r.vertical&&!r.inline&&q.preventDefault()},g=()=>{const q=r.vertical?"Y":"X";Math.abs(Z.value[`start${q}`]-Z.value[`end${q}`])>10&&n("handle-swipe",Z.value[`start${q}`]>Z.value[`end${q}`]?"right":"left")},x=(q,Y,K)=>{q&&(Array.isArray(R.value[Y])?R.value[Y][K]=q:R.value[Y]=[q]),r.arrowNavigation&&o(R.value,"calendar")},k=q=>{r.monthChangeOnScroll&&(q.preventDefault(),n("handle-scroll",q))};return t({triggerTransition:P}),(q,Y)=>{var K;return wt(),Ot("div",{class:ar(ie.value)},[Ye("div",{style:el($.value),ref_key:"calendarWrapRef",ref:J,role:"grid",class:ar(H.value),"aria-label":(K=Ii(h).ariaLabels)==null?void 0:K.calendarWrap},[e.specificMode?yi("",!0):(wt(),Ot(ln,{key:0},[Ye("div",bU,[q.weekNumbers?(wt(),Ot("div",wU,Qi(q.weekNumName),1)):yi("",!0),(wt(!0),Ot(ln,null,Mr(M.value,(le,he)=>(wt(),Ot("div",{class:"dp__calendar_header_item",role:"gridcell",key:he},[q.$slots["calendar-header"]?xn(q.$slots,"calendar-header",{key:0,day:le,index:he}):yi("",!0),q.$slots["calendar-header"]?yi("",!0):(wt(),Ot(ln,{key:1},[ws(Qi(le),1)],64))]))),128))]),TU,cn(ku,{name:z.value,css:!!q.transitions},{default:Yn(()=>{var le;return[I.value?(wt(),Ot("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(le=Ii(h).ariaLabels)==null?void 0:le.calendarDays},[(wt(!0),Ot(ln,null,Mr(G.value,(he,pe)=>(wt(),Ot("div",{class:"dp__calendar_row",role:"row",key:pe},[q.weekNumbers?(wt(),Ot("div",CU,[Ye("div",EU,Qi(e.getWeekNum(he.days)),1)])):yi("",!0),(wt(!0),Ot(ln,null,Mr(he.days,(F,Q)=>{var ce,ge,ke;return wt(),Ot("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:re=>x(re,pe,Q),key:Q+pe,"aria-selected":F.classData.dp__active_date||F.classData.dp__range_start||F.classData.dp__range_start,"aria-disabled":F.classData.dp__cell_disabled,"aria-label":(ge=(ce=Ii(h).ariaLabels)==null?void 0:ce.day)==null?void 0:ge.call(ce,F),tabindex:"0",onClick:fc(re=>q.$emit("select-date",F),["stop","prevent"]),onKeydown:[br(re=>q.$emit("select-date",F),["enter"]),br(re=>q.$emit("handle-space",F),["space"])],onMouseenter:re=>V(F,pe,Q),onMouseleave:re=>j(F)},[Ye("div",{class:ar(["dp__cell_inner",F.classData])},[q.$slots.day&&te.value(F)?xn(q.$slots,"day",{key:0,day:+F.text,date:F.value}):yi("",!0),q.$slots.day?yi("",!0):(wt(),Ot(ln,{key:1},[ws(Qi(F.text),1)],64)),F.marker&&te.value(F)?(wt(),Ot(ln,{key:2},[q.$slots.marker?xn(q.$slots,"marker",{key:0,marker:F.marker,day:+F.text,date:F.value}):(wt(),Ot("div",{key:1,class:ar(U.value(F.marker)),style:el(F.marker.color?{backgroundColor:F.marker.color}:{})},null,6))],64)):yi("",!0),E.value(F.value)?(wt(),Ot("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:L,style:el(b.value)},[(ke=F.marker)!=null&&ke.tooltip?(wt(),Ot("div",{key:0,class:"dp__tooltip_content",onClick:Y[0]||(Y[0]=fc(()=>{},["stop"]))},[(wt(!0),Ot(ln,null,Mr(F.marker.tooltip,(re,ve)=>(wt(),Ot("div",{key:ve,class:"dp__tooltip_text"},[q.$slots["marker-tooltip"]?xn(q.$slots,"marker-tooltip",{key:0,tooltip:re,day:F.value}):yi("",!0),q.$slots["marker-tooltip"]?yi("",!0):(wt(),Ot(ln,{key:1},[Ye("div",{class:"dp__tooltip_mark",style:el(re.color?{backgroundColor:re.color}:{})},null,4),Ye("div",null,Qi(re.text),1)],64))]))),128)),Ye("div",{class:"dp__arrow_bottom_tp",style:el(O.value)},null,4)])):yi("",!0)],4)):yi("",!0)],2)],40,MU)}),128))]))),128))],8,SU)):yi("",!0)]}),_:3},8,["name","css"])],64))],14,xU)],2)}}}),AU=["aria-label","aria-disabled"],M3=vc({__name:"ActionIcon",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const n=sn(null);return Ko(()=>t("set-ref",n)),(r,o)=>(wt(),Ot("button",{type:"button",class:"dp__btn dp__month_year_col_nav",onClick:o[0]||(o[0]=d=>r.$emit("activate")),onKeydown:[o[1]||(o[1]=br(fc(d=>r.$emit("activate"),["prevent"]),["enter"])),o[2]||(o[2]=br(fc(d=>r.$emit("activate"),["prevent"]),["space"]))],tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled,ref_key:"elRef",ref:n},[Ye("span",{class:ar(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[xn(r.$slots,"default")],2)],40,AU))}}),PU=["onKeydown"],DU={class:"dp__selection_grid_header"},IU=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],LU=["aria-label","onKeydown"],$y=vc({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},autoApplyMonth:{type:Boolean,default:!1}},emits:["update:model-value","selected","toggle","reset-flow"],setup(e,{expose:t,emit:n}){const r=e,{setSelectionGrid:o,buildMultiLevelMatrix:d,setMonthPicker:h}=Tf(),{hideNavigationButtons:s}=xd(r),b=sn(!1),R=sn(null),J=sn(null),I=sn([]),z=sn(),Z=sn(null),L=sn(0),O=sn(null);p_(()=>{R.value=null}),Ko(()=>{var k;yc().then(()=>$()),M(),G(!0),(k=R.value)==null||k.focus({preventScroll:!0})}),hh(()=>G(!1));const G=k=>{var q;r.arrowNavigation&&((q=r.headerRefs)!=null&&q.length?h(k):o(k))},M=()=>{const k=qo(J);k&&(r.textInput||k.focus({preventScroll:!0}),b.value=k.clientHeight<k.scrollHeight)},S=hn(()=>({dp__overlay:!0})),P=hn(()=>({dp__overlay_col:!0})),H=k=>r.monthPicker&&!r.autoApplyMonth?$s(r.internalModelValue,ep(fg(new Date,k.value),r.year)):r.skipActive?!1:k.value===r.modelValue,U=hn(()=>r.items.map(k=>k.filter(q=>q).map(q=>{var Y,K,le;const he=r.disabledValues.some(F=>F===q.value)||te(q.value),pe=(Y=r.multiModelValue)!=null&&Y.length?(K=r.multiModelValue)==null?void 0:K.some(F=>$s(F,ep(r.monthPicker?fg(new Date,q.value):new Date,r.monthPicker?r.year:q.value))):H(q);return{...q,className:{dp__overlay_cell_active:pe,dp__overlay_cell:!pe,dp__overlay_cell_disabled:he,dp__overlay_cell_active_disabled:he&&pe,dp__overlay_cell_pad:!0,dp__cell_in_between:(le=r.multiModelValue)!=null&&le.length&&r.skipActive?j(q.value):!1}}}))),E=hn(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:b.value,dp__button_bottom:r.autoApply})),ie=hn(()=>{var k,q;return{dp__overlay_container:!0,dp__container_flex:((k=r.items)==null?void 0:k.length)<=6,dp__container_block:((q=r.items)==null?void 0:q.length)>6}}),te=k=>{const q=r.maxValue||r.maxValue===0,Y=r.minValue||r.minValue===0;return!q&&!Y?!1:q&&Y?+k>+r.maxValue||+k<+r.minValue:q?+k>+r.maxValue:Y?+k<+r.minValue:!1},$=()=>{const k=qo(R),q=qo(J),Y=qo(Z),K=qo(O),le=Y?Y.getBoundingClientRect().height:0;q&&(L.value=q.getBoundingClientRect().height-le),k&&K&&(K.scrollTop=k.offsetTop-K.offsetTop-(L.value/2-k.getBoundingClientRect().height)-le)},V=k=>{!r.disabledValues.some(q=>q===k)&&!te(k)&&(n("update:model-value",k),n("selected"))},j=k=>{const q=r.monthPicker?r.year:k;return T4(r.multiModelValue,ep(r.monthPicker?fg(new Date,z.value||0):new Date,r.monthPicker?q:z.value||q),ep(r.monthPicker?fg(new Date,k):new Date,q))},w=()=>{n("toggle"),n("reset-flow")},D=()=>{r.escClose&&w()},m=(k,q,Y,K)=>{k&&(q.value===+r.modelValue&&!r.disabledValues.includes(q.value)&&(R.value=k),r.arrowNavigation&&(Array.isArray(I.value[Y])?I.value[Y][K]=k:I.value[Y]=[k],g()))},g=()=>{var k,q;const Y=(k=r.headerRefs)!=null&&k.length?[r.headerRefs].concat(I.value):I.value.concat([r.skipButtonRef?[]:[Z.value]]);d(Ll(Y),(q=r.headerRefs)!=null&&q.length?"monthPicker":"selectionGrid")},x=k=>{r.arrowNavigation||k.stopImmediatePropagation()};return t({focusGrid:M}),(k,q)=>{var Y;return wt(),Ot("div",{ref_key:"gridWrapRef",ref:J,class:ar(S.value),role:"dialog",tabindex:"0",onKeydown:[br(D,["esc"]),q[0]||(q[0]=br(K=>x(K),["left"])),q[1]||(q[1]=br(K=>x(K),["up"])),q[2]||(q[2]=br(K=>x(K),["down"])),q[3]||(q[3]=br(K=>x(K),["right"]))]},[Ye("div",{class:ar(ie.value),ref_key:"containerRef",ref:O,role:"grid",style:el({height:`${L.value}px`})},[Ye("div",DU,[xn(k.$slots,"header")]),k.$slots.overlay?xn(k.$slots,"overlay",{key:0}):(wt(!0),Ot(ln,{key:1},Mr(U.value,(K,le)=>(wt(),Ot("div",{class:ar(["dp__overlay_row",{dp__flex_row:U.value.length>=3}]),key:le,role:"row"},[(wt(!0),Ot(ln,null,Mr(K,(he,pe)=>(wt(),Ot("div",{role:"gridcell",class:ar(P.value),key:he.value,"aria-selected":he.value===e.modelValue&&!e.disabledValues.includes(he.value),"aria-disabled":he.className.dp__overlay_cell_disabled,ref_for:!0,ref:F=>m(F,he,le,pe),tabindex:"0",onClick:F=>V(he.value),onKeydown:[br(F=>V(he.value),["enter"]),br(F=>V(he.value),["space"])],onMouseover:F=>z.value=he.value},[Ye("div",{class:ar(he.className)},[k.$slots.item?xn(k.$slots,"item",{key:0,item:he}):yi("",!0),k.$slots.item?yi("",!0):(wt(),Ot(ln,{key:1},[ws(Qi(he.text),1)],64))],2)],42,IU))),128))],2))),128))],6),k.$slots["button-icon"]?ho((wt(),Ot("div",{key:0,role:"button","aria-label":(Y=e.ariaLabels)==null?void 0:Y.toggleOverlay,class:ar(E.value),tabindex:"0",ref_key:"toggleButton",ref:Z,onClick:w,onKeydown:[br(w,["enter"]),br(w,["tab"])]},[xn(k.$slots,"button-icon")],42,LU)),[[N0,!Ii(s)(e.type)]]):yi("",!0)],42,PU)}}}),OU=["aria-label"],VE=vc({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(e,{emit:t}){const n=e,{transitionName:r,showTransition:o}=n2(n.transitions),d=sn(null);return Ko(()=>t("set-ref",d)),(h,s)=>(wt(),Ot(ln,null,[Ye("button",{type:"button",class:"dp__btn dp__month_year_select",onClick:s[0]||(s[0]=b=>h.$emit("toggle")),onKeydown:[s[1]||(s[1]=br(fc(b=>h.$emit("toggle"),["prevent"]),["enter"])),s[2]||(s[2]=br(fc(b=>h.$emit("toggle"),["prevent"]),["space"]))],"aria-label":e.ariaLabel,tabindex:"0",ref_key:"elRef",ref:d},[xn(h.$slots,"default")],40,OU),cn(ku,{name:Ii(r)(e.showSelectionGrid),css:Ii(o)},{default:Yn(()=>[e.showSelectionGrid?(wt(),Ir($y,Yo({key:0},{modelValue:e.modelValue,items:e.items,disabledValues:e.disabledValues,minValue:e.minValue,maxValue:e.maxValue,escClose:e.escClose,type:e.type,arrowNavigation:e.arrowNavigation,textInput:e.textInput,autoApply:e.autoApply,ariaLabels:e.ariaLabels,hideNavigation:e.hideNavigation},{"header-refs":[],"onUpdate:modelValue":s[3]||(s[3]=b=>h.$emit("update:model-value",b)),onToggle:s[4]||(s[4]=b=>h.$emit("toggle"))}),Bl({"button-icon":Yn(()=>[h.$slots["calendar-icon"]?xn(h.$slots,"calendar-icon",{key:0}):yi("",!0),h.$slots["calendar-icon"]?yi("",!0):(wt(),Ir(Ii(i2),{key:1}))]),_:2},[h.$slots[e.slotName]?{name:"item",fn:Yn(({item:b})=>[xn(h.$slots,e.slotName,{item:b})]),key:"0"}:void 0,h.$slots[e.overlaySlot]?{name:"overlay",fn:Yn(()=>[xn(h.$slots,e.overlaySlot)]),key:"1"}:void 0,h.$slots[`${e.overlaySlot}-header`]?{name:"header",fn:Yn(()=>[xn(h.$slots,`${e.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):yi("",!0)]),_:3},8,["name","css"])],64))}}),RU={class:"dp__month_year_row"},BU={class:"dp__month_picker_header"},zU=["aria-label"],NU=["aria-label"],FU=["aria-label"],jU=vc({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Sf},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(e,{expose:t,emit:n}){const r=e,{defaults:o}=xd(r),{transitionName:d,showTransition:h}=n2(o.value.transitions),{buildMatrix:s}=Tf(),{handleMonthYearChange:b,isDisabled:R,updateMonthYear:J}=lU(r,n),I=sn(!1),z=sn(!1),Z=sn([null,null,null,null]),L=sn(null),O=sn(null),G=sn(null);Ko(()=>{n("mount")});const M=Q=>({get:()=>r[Q],set:ce=>{const ge=Q==="month"?"year":"month";n("update-month-year",{[Q]:ce,[ge]:r[ge]}),n("month-year-select",Q==="year"),Q==="month"?K(!0):le(!0)}}),S=hn(M("month")),P=hn(M("year")),H=Q=>{const ce=Co(Hi(Q));return r.year===ce},U=hn(()=>r.monthPicker?Array.isArray(r.disabledDates)?r.disabledDates.map(Q=>Hi(Q)).filter(Q=>H(Q)).map(Q=>uo(Q)):[]:[]),E=hn(()=>Q=>{const ce=Q==="month";return{showSelectionGrid:(ce?I:z).value,items:(ce?g:x).value,disabledValues:o.value.filters[ce?"months":"years"].concat(U.value),minValue:(ce?V:te).value,maxValue:(ce?j:$).value,headerRefs:ce&&r.monthPicker?[L.value,O.value,G.value]:[],escClose:r.escClose,transitions:o.value.transitions,ariaLabels:o.value.ariaLabels,textInput:r.textInput,autoApply:r.autoApply,arrowNavigation:r.arrowNavigation,hideNavigation:r.hideNavigation}}),ie=hn(()=>Q=>({month:r.month,year:r.year,items:Q==="month"?r.months:r.years,instance:r.instance,updateMonthYear:J,toggle:Q==="month"?K:le})),te=hn(()=>r.minDate?Co(Hi(r.minDate)):null),$=hn(()=>r.maxDate?Co(Hi(r.maxDate)):null),V=hn(()=>{if(r.minDate&&te.value){if(te.value>r.year)return 12;if(te.value===r.year)return uo(Hi(r.minDate))}return null}),j=hn(()=>r.maxDate&&$.value?$.value<r.year?-1:$.value===r.year?uo(Hi(r.maxDate)):null:null),w=hn(()=>(r.range||r.multiDates)&&r.internalModelValue&&(r.monthPicker||r.yearPicker)?r.internalModelValue:[]),D=Q=>{const ce=[],ge=ke=>ke;for(let ke=0;ke<Q.length;ke+=3){const re=[Q[ke],Q[ke+1],Q[ke+2]];ce.push(ge(re))}return ce},m=hn(()=>r.months.find(ce=>ce.value===r.month)||{text:"",value:0}),g=hn(()=>D(r.months)),x=hn(()=>D(r.years)),k=hn(()=>o.value.multiCalendars?r.multiCalendarsSolo?!0:r.instance===0:!0),q=hn(()=>o.value.multiCalendars?r.multiCalendarsSolo?!0:r.instance===o.value.multiCalendars-1:!0),Y=(Q,ce)=>{ce!==void 0?Q.value=ce:Q.value=!Q.value},K=(Q=!1,ce)=>{he(Q),Y(I,ce),I.value||n("overlay-closed")},le=(Q=!1,ce)=>{he(Q),Y(z,ce),z.value||n("overlay-closed")},he=Q=>{Q||n("reset-flow")},pe=(Q=!1)=>{R.value(Q)||n("update-month-year",{year:Q?r.year+1:r.year-1,month:r.month,fromNav:!0})},F=(Q,ce)=>{r.arrowNavigation&&(Z.value[ce]=qo(Q),s(Z.value,"monthYear"))};return t({toggleMonthPicker:K,toggleYearPicker:le,handleMonthYearChange:b}),(Q,ce)=>{var ge,ke,re,ve,_e;return wt(),Ot("div",RU,[Q.$slots["month-year"]?xn(Q.$slots,"month-year",Ta(Yo({key:0},{month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:Ii(J),handleMonthYearChange:Ii(b),instance:e.instance}))):(wt(),Ot(ln,{key:1},[!Q.monthPicker&&!Q.yearPicker?(wt(),Ot(ln,{key:0},[k.value&&!Q.vertical?(wt(),Ir(M3,{key:0,"aria-label":(ge=Ii(o).ariaLabels)==null?void 0:ge.prevMonth,disabled:Ii(R)(!1),onActivate:ce[0]||(ce[0]=oe=>Ii(b)(!1)),onSetRef:ce[1]||(ce[1]=oe=>F(oe,0))},{default:Yn(()=>[Q.$slots["arrow-left"]?xn(Q.$slots,"arrow-left",{key:0}):yi("",!0),Q.$slots["arrow-left"]?yi("",!0):(wt(),Ir(Ii(EE),{key:1}))]),_:3},8,["aria-label","disabled"])):yi("",!0),Ye("div",{class:ar(["dp__month_year_wrap",{dp__year_disable_select:r.disableYearSelect}])},[cn(VE,Yo({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(ke=Ii(o).ariaLabels)==null?void 0:ke.openMonthsOverlay,modelValue:S.value,"onUpdate:modelValue":ce[2]||(ce[2]=oe=>S.value=oe)},E.value("month"),{onToggle:K,onSetRef:ce[3]||(ce[3]=oe=>F(oe,1))}),Bl({default:Yn(()=>[Q.$slots.month?xn(Q.$slots,"month",Ta(Yo({key:0},m.value))):yi("",!0),Q.$slots.month?yi("",!0):(wt(),Ot(ln,{key:1},[ws(Qi(m.value.text),1)],64))]),_:2},[Q.$slots["calendar-icon"]?{name:"calendar-icon",fn:Yn(()=>[xn(Q.$slots,"calendar-icon")]),key:"0"}:void 0,Q.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:Yn(({item:oe})=>[xn(Q.$slots,"month-overlay-value",{text:oe.text,value:oe.value})]),key:"1"}:void 0,Q.$slots["month-overlay"]?{name:"overlay-month",fn:Yn(()=>[xn(Q.$slots,"month-overlay",Ta(Ol(ie.value("month"))))]),key:"2"}:void 0,Q.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:Yn(()=>[xn(Q.$slots,"month-overlay-header",{toggle:K})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),r.disableYearSelect?yi("",!0):(wt(),Ir(VE,Yo({key:0,type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(re=Ii(o).ariaLabels)==null?void 0:re.openYearsOverlay,modelValue:P.value,"onUpdate:modelValue":ce[4]||(ce[4]=oe=>P.value=oe)},E.value("year"),{onToggle:le,onSetRef:ce[5]||(ce[5]=oe=>F(oe,2))}),Bl({default:Yn(()=>[Q.$slots.year?xn(Q.$slots,"year",{key:0,year:e.year}):yi("",!0),Q.$slots.year?yi("",!0):(wt(),Ot(ln,{key:1},[ws(Qi(e.year),1)],64))]),_:2},[Q.$slots["calendar-icon"]?{name:"calendar-icon",fn:Yn(()=>[xn(Q.$slots,"calendar-icon")]),key:"0"}:void 0,Q.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:Yn(({item:oe})=>[xn(Q.$slots,"year-overlay-value",{text:oe.text,value:oe.value})]),key:"1"}:void 0,Q.$slots["year-overlay"]?{name:"overlay-year",fn:Yn(()=>[xn(Q.$slots,"year-overlay",Ta(Ol(ie.value("year"))))]),key:"2"}:void 0,Q.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:Yn(()=>[xn(Q.$slots,"year-overlay-header",{toggle:le})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]))],2),k.value&&Q.vertical?(wt(),Ir(M3,{key:1,"aria-label":(ve=Ii(o).ariaLabels)==null?void 0:ve.prevMonth,disabled:Ii(R)(!1),onActivate:ce[6]||(ce[6]=oe=>Ii(b)(!1))},{default:Yn(()=>[Q.$slots["arrow-up"]?xn(Q.$slots,"arrow-up",{key:0}):yi("",!0),Q.$slots["arrow-up"]?yi("",!0):(wt(),Ir(Ii(b4),{key:1}))]),_:3},8,["aria-label","disabled"])):yi("",!0),q.value?(wt(),Ir(M3,{key:2,ref:"rightIcon",disabled:Ii(R)(!0),"aria-label":(_e=Ii(o).ariaLabels)==null?void 0:_e.nextMonth,onActivate:ce[7]||(ce[7]=oe=>Ii(b)(!0)),onSetRef:ce[8]||(ce[8]=oe=>F(oe,3))},{default:Yn(()=>[Q.$slots[Q.vertical?"arrow-down":"arrow-right"]?xn(Q.$slots,Q.vertical?"arrow-down":"arrow-right",{key:0}):yi("",!0),Q.$slots[Q.vertical?"arrow-down":"arrow-right"]?yi("",!0):(wt(),Ir(Ob(Q.vertical?Ii(w4):Ii(ME)),{key:1}))]),_:3},8,["disabled","aria-label"])):yi("",!0)],64)):yi("",!0),Q.monthPicker?(wt(),Ir($y,Yo({key:1},E.value("month"),{"skip-active":Q.range,"internal-model-value":e.internalModelValue,year:e.year,"auto-apply-month":Q.autoApplyMonth,"multi-model-value":w.value,"month-picker":"",modelValue:S.value,"onUpdate:modelValue":ce[17]||(ce[17]=oe=>S.value=oe),onToggle:K,onSelected:ce[18]||(ce[18]=oe=>Q.$emit("overlay-closed"))}),Bl({header:Yn(()=>{var oe,ye,Te;return[Ye("div",BU,[Ye("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:L,onClick:ce[9]||(ce[9]=Oe=>pe(!1)),onKeydown:ce[10]||(ce[10]=br(Oe=>pe(!1),["enter"]))},[Ye("div",{class:ar(["dp__inner_nav",{dp__inner_nav_disabled:Ii(R)(!1)}]),role:"button","aria-label":(oe=Ii(o).ariaLabels)==null?void 0:oe.prevMonth},[Q.$slots["arrow-left"]?xn(Q.$slots,"arrow-left",{key:0}):yi("",!0),Q.$slots["arrow-left"]?yi("",!0):(wt(),Ir(Ii(EE),{key:1}))],10,zU)],544),Ye("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:O,"aria-label":(ye=Ii(o).ariaLabels)==null?void 0:ye.openYearsOverlay,tabindex:"0",onClick:ce[11]||(ce[11]=()=>le(!1)),onKeydown:ce[12]||(ce[12]=br(()=>le(!1),["enter"]))},[Q.$slots.year?xn(Q.$slots,"year",{key:0,year:e.year}):yi("",!0),Q.$slots.year?yi("",!0):(wt(),Ot(ln,{key:1},[ws(Qi(e.year),1)],64))],40,NU),Ye("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:G,onClick:ce[13]||(ce[13]=Oe=>pe(!0)),onKeydown:ce[14]||(ce[14]=br(Oe=>pe(!0),["enter"]))},[Ye("div",{class:ar(["dp__inner_nav",{dp__inner_nav_disabled:Ii(R)(!0)}]),role:"button","aria-label":(Te=Ii(o).ariaLabels)==null?void 0:Te.nextMonth},[Q.$slots["arrow-right"]?xn(Q.$slots,"arrow-right",{key:0}):yi("",!0),Q.$slots["arrow-right"]?yi("",!0):(wt(),Ir(Ii(ME),{key:1}))],10,FU)],544)]),cn(ku,{name:Ii(d)(z.value),css:Ii(h)},{default:Yn(()=>[z.value?(wt(),Ir($y,Yo({key:0},E.value("year"),{modelValue:P.value,"onUpdate:modelValue":ce[15]||(ce[15]=Oe=>P.value=Oe),onToggle:le,onSelected:ce[16]||(ce[16]=Oe=>Q.$emit("overlay-closed"))}),Bl({"button-icon":Yn(()=>[Q.$slots["calendar-icon"]?xn(Q.$slots,"calendar-icon",{key:0}):yi("",!0),Q.$slots["calendar-icon"]?yi("",!0):(wt(),Ir(Ii(i2),{key:1}))]),_:2},[Q.$slots["year-overlay-value"]?{name:"item",fn:Yn(({item:Oe})=>[xn(Q.$slots,"year-overlay-value",{text:Oe.text,value:Oe.value})]),key:"0"}:void 0]),1040,["modelValue"])):yi("",!0)]),_:3},8,["name","css"])]}),_:2},[Q.$slots["month-overlay-value"]?{name:"item",fn:Yn(({item:oe})=>[xn(Q.$slots,"month-overlay-value",{text:oe.text,value:oe.value})]),key:"0"}:void 0]),1040,["skip-active","internal-model-value","year","auto-apply-month","multi-model-value","modelValue"])):yi("",!0),Q.yearPicker?(wt(),Ir($y,Yo({key:2},E.value("year"),{modelValue:P.value,"onUpdate:modelValue":ce[19]||(ce[19]=oe=>P.value=oe),"multi-model-value":w.value,"skip-active":Q.range,"skip-button-ref":"","year-picker":"",onToggle:le,onSelected:ce[20]||(ce[20]=oe=>Q.$emit("overlay-closed"))}),Bl({_:2},[Q.$slots["year-overlay-value"]?{name:"item",fn:Yn(({item:oe})=>[xn(Q.$slots,"year-overlay-value",{text:oe.text,value:oe.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):yi("",!0)],64))])}}}),UU={key:0,class:"dp__time_input"},$U=["aria-label","onKeydown","onClick"],VU=Ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),GU=Ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),WU=["aria-label","onKeydown","onClick"],HU=["aria-label","onKeydown","onClick"],YU=Ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),qU=Ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),XU={key:0},ZU=["aria-label","onKeydown"],KU=vc({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Sf},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const r=e,{setTimePickerElements:o,setTimePickerBackRef:d}=Tf(),{defaults:h}=xd(r),{transitionName:s,showTransition:b}=n2(h.value.transitions),R=Eu({hours:!1,minutes:!1,seconds:!1}),J=sn("AM"),I=sn(null),z=sn([]);Ko(()=>{n("mounted")});const Z=Y=>Qa(new Date,{hours:Y.hours,minutes:Y.minutes,seconds:r.enableSeconds?Y.seconds:0,milliseconds:0}),L=hn(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),O=hn(()=>Y=>!te(+r[Y]+ +r[`${Y}Increment`],Y)),G=hn(()=>Y=>!te(+r[Y]-+r[`${Y}Increment`],Y)),M=(Y,K)=>e4(Qa(Hi(),Y),K),S=(Y,K)=>hj(Qa(Hi(),Y),K),P=hn(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),H=hn(()=>{const Y=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return r.enableSeconds?Y.concat([{type:"",separator:!0},{type:"seconds"}]):Y}),U=hn(()=>H.value.filter(Y=>!Y.separator)),E=hn(()=>Y=>{if(Y==="hours"){const K=m(+r.hours);return{text:K<10?`0${K}`:`${K}`,value:K}}return{text:r[Y]<10?`0${r[Y]}`:`${r[Y]}`,value:r[Y]}}),ie=Y=>{const K=r.is24?24:12,le=Y==="hours"?K:60,he=+r[`${Y}GridIncrement`],pe=Y==="hours"&&!r.is24?he:0,F=[];for(let Q=pe;Q<le;Q+=he)F.push({value:Q,text:Q<10?`0${Q}`:`${Q}`});return Y==="hours"&&!r.is24&&F.push({value:0,text:"12"}),Gj(F)},te=(Y,K)=>{const le=r.minTime?Z(_3(r.minTime)):null,he=r.maxTime?Z(_3(r.maxTime)):null,pe=Z(_3(L.value,K,Y));return le&&he?(s_(pe,he)||D0(pe,he))&&(r_(pe,le)||D0(pe,le)):le?r_(pe,le)||D0(pe,le):he?s_(pe,he)||D0(pe,he):!0},$=hn(()=>Y=>ie(Y).flat().filter(K=>Kj(K.value)).map(K=>K.value).filter(K=>!te(K,Y))),V=Y=>r[`no${Y[0].toUpperCase()+Y.slice(1)}Overlay`],j=Y=>{V(Y)||(R[Y]=!R[Y],R[Y]||n("overlay-closed"))},w=Y=>Y==="hours"?Xh:Y==="minutes"?Zh:Bg,D=(Y,K=!0)=>{const le=K?M:S,he=K?+r[`${Y}Increment`]:-+r[`${Y}Increment`];te(+r[Y]+he,Y)&&n(`update:${Y}`,w(Y)(le({[Y]:+r[Y]},{[Y]:+r[`${Y}Increment`]})))},m=Y=>r.is24?Y:(Y>=12?J.value="PM":J.value="AM",Xj(Y)),g=()=>{J.value==="PM"?(J.value="AM",n("update:hours",r.hours-12)):(J.value="PM",n("update:hours",r.hours+12)),n("am-pm-change",J.value)},x=Y=>{R[Y]=!0},k=(Y,K,le)=>{if(Y&&r.arrowNavigation){Array.isArray(z.value[K])?z.value[K][le]=Y:z.value[K]=[Y];const he=z.value.reduce((pe,F)=>F.map((Q,ce)=>[...pe[ce]||[],F[ce]]),[]);d(r.closeTimePickerBtn),I.value&&(he[1]=he[1].concat(I.value)),o(he,r.order)}},q=(Y,K)=>Y==="hours"&&!r.is24?n(`update:${Y}`,J.value==="PM"?K+12:K):n(`update:${Y}`,K);return t({openChildCmp:x}),(Y,K)=>{var le;return Y.disabled?yi("",!0):(wt(),Ot("div",UU,[(wt(!0),Ot(ln,null,Mr(H.value,(he,pe)=>{var F,Q,ce;return wt(),Ot("div",{key:pe,class:ar(P.value)},[he.separator?(wt(),Ot(ln,{key:0},[ws(" : ")],64)):(wt(),Ot(ln,{key:1},[Ye("button",{type:"button",class:ar({dp__btn:!0,dp__inc_dec_button:!r.timePickerInline,dp__inc_dec_button_inline:r.timePickerInline,dp__tp_inline_btn_top:r.timePickerInline,dp__inc_dec_button_disabled:O.value(he.type)}),"aria-label":(F=Ii(h).ariaLabels)==null?void 0:F.incrementValue(he.type),tabindex:"0",onKeydown:[br(ge=>D(he.type),["enter"]),br(ge=>D(he.type),["space"])],onClick:ge=>D(he.type),ref_for:!0,ref:ge=>k(ge,pe,0)},[r.timePickerInline?(wt(),Ot(ln,{key:1},[VU,GU],64)):(wt(),Ot(ln,{key:0},[Y.$slots["arrow-up"]?xn(Y.$slots,"arrow-up",{key:0}):yi("",!0),Y.$slots["arrow-up"]?yi("",!0):(wt(),Ir(Ii(b4),{key:1}))],64))],42,$U),Ye("button",{type:"button","aria-label":(Q=Ii(h).ariaLabels)==null?void 0:Q.openTpOverlay(he.type),class:ar(["dp__btn",V(he.type)?void 0:{dp__time_display:!0,dp__time_display_block:!r.timePickerInline,dp__time_display_inline:r.timePickerInline}]),tabindex:"0",onKeydown:[br(ge=>j(he.type),["enter"]),br(ge=>j(he.type),["space"])],onClick:ge=>j(he.type),ref_for:!0,ref:ge=>k(ge,pe,1)},[Y.$slots[he.type]?xn(Y.$slots,he.type,{key:0,text:E.value(he.type).text,value:E.value(he.type).value}):yi("",!0),Y.$slots[he.type]?yi("",!0):(wt(),Ot(ln,{key:1},[ws(Qi(E.value(he.type).text),1)],64))],42,WU),Ye("button",{type:"button",class:ar({dp__btn:!0,dp__inc_dec_button:!r.timePickerInline,dp__inc_dec_button_inline:r.timePickerInline,dp__tp_inline_btn_bottom:r.timePickerInline,dp__inc_dec_button_disabled:G.value(he.type)}),"aria-label":(ce=Ii(h).ariaLabels)==null?void 0:ce.decrementValue(he.type),tabindex:"0",onKeydown:[br(ge=>D(he.type,!1),["enter"]),br(ge=>D(he.type,!1),["space"])],onClick:ge=>D(he.type,!1),ref_for:!0,ref:ge=>k(ge,pe,2)},[r.timePickerInline?(wt(),Ot(ln,{key:1},[YU,qU],64)):(wt(),Ot(ln,{key:0},[Y.$slots["arrow-down"]?xn(Y.$slots,"arrow-down",{key:0}):yi("",!0),Y.$slots["arrow-down"]?yi("",!0):(wt(),Ir(Ii(w4),{key:1}))],64))],42,HU)],64))],2)}),128)),Y.is24?yi("",!0):(wt(),Ot("div",XU,[Y.$slots["am-pm-button"]?xn(Y.$slots,"am-pm-button",{key:0,toggle:g,value:J.value}):yi("",!0),Y.$slots["am-pm-button"]?yi("",!0):(wt(),Ot("button",{key:1,ref_key:"amPmButton",ref:I,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(le=Ii(h).ariaLabels)==null?void 0:le.amPmButton,tabindex:"0",onClick:g,onKeydown:[br(fc(g,["prevent"]),["enter"]),br(fc(g,["prevent"]),["space"])]},Qi(J.value),41,ZU))])),(wt(!0),Ot(ln,null,Mr(U.value,(he,pe)=>(wt(),Ir(ku,{key:pe,name:Ii(s)(R[he.type]),css:Ii(b)},{default:Yn(()=>[R[he.type]?(wt(),Ir($y,{key:0,items:ie(he.type),"disabled-values":Ii(h).filters.times[he.type].concat($.value(he.type)),"esc-close":Y.escClose,"aria-labels":Ii(h).ariaLabels,"hide-navigation":Y.hideNavigation,"onUpdate:modelValue":F=>q(he.type,F),onSelected:F=>j(he.type),onToggle:F=>j(he.type),onResetFlow:K[0]||(K[0]=F=>Y.$emit("reset-flow")),type:he.type},Bl({"button-icon":Yn(()=>[Y.$slots["clock-icon"]?xn(Y.$slots,"clock-icon",{key:0}):yi("",!0),Y.$slots["clock-icon"]?yi("",!0):(wt(),Ir(Ii(x4),{key:1}))]),_:2},[Y.$slots[`${he.type}-overlay-value`]?{name:"item",fn:Yn(({item:F})=>[xn(Y.$slots,`${he.type}-overlay-value`,{text:F.text,value:F.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):yi("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),JU=["aria-label"],QU=["tabindex"],e$=["aria-label"],t$=vc({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Sf},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const r=e,{buildMatrix:o,setTimePicker:d}=Tf(),h=f_(),{hideNavigationButtons:s,defaults:b}=xd(r),{transitionName:R,showTransition:J}=n2(b.value.transitions),I=sn(null),z=sn(null),Z=sn([]),L=sn(null);Ko(()=>{n("mount"),!r.timePicker&&r.arrowNavigation?o([qo(I.value)],"time"):d(!0,r.timePicker)});const O=hn(()=>r.range&&r.modelAuto?k4(r.internalModelValue):!0),G=sn(!1),M=j=>({hours:Array.isArray(r.hours)?r.hours[j]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[j]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[j]:r.seconds}),S=hn(()=>{const j=[];if(r.range)for(let w=0;w<2;w++)j.push(M(w));else j.push(M(0));return j}),P=(j,w=!1,D="")=>{w||n("reset-flow"),G.value=j,n(j?"overlay-opened":"overlay-closed"),r.arrowNavigation&&d(j),yc(()=>{D!==""&&Z.value[0]&&Z.value[0].openChildCmp(D)})},H=hn(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!r.keepActionRow})),U=I0(h,"timePicker"),E=(j,w,D)=>r.range?w===0?[j,S.value[1][D]]:[S.value[0][D],j]:j,ie=j=>{n("update:hours",j)},te=j=>{n("update:minutes",j)},$=j=>{n("update:seconds",j)},V=()=>{if(L.value){const j=Jj(L.value);j&&j.focus({preventScroll:!0})}};return t({toggleTimePicker:P}),(j,w)=>{var D;return wt(),Ot("div",null,[!j.timePicker&&!j.timePickerInline?ho((wt(),Ot("button",{key:0,type:"button",class:ar(H.value),"aria-label":(D=Ii(b).ariaLabels)==null?void 0:D.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:I,onKeydown:[w[0]||(w[0]=br(m=>P(!0),["enter"])),w[1]||(w[1]=br(m=>P(!0),["space"]))],onClick:w[2]||(w[2]=m=>P(!0))},[j.$slots["clock-icon"]?xn(j.$slots,"clock-icon",{key:0}):yi("",!0),j.$slots["clock-icon"]?yi("",!0):(wt(),Ir(Ii(x4),{key:1}))],42,JU)),[[N0,!Ii(s)("time")]]):yi("",!0),cn(ku,{name:Ii(R)(G.value),css:Ii(J)&&!j.timePickerInline},{default:Yn(()=>{var m;return[G.value||j.timePicker||j.timePickerInline?(wt(),Ot("div",{key:0,class:ar({dp__overlay:!j.timePickerInline}),ref_key:"overlayRef",ref:L,tabindex:j.timePickerInline?void 0:0},[Ye("div",{class:ar(j.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[j.$slots["time-picker-overlay"]?xn(j.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:ie,setMinutes:te,setSeconds:$}):yi("",!0),j.$slots["time-picker-overlay"]?yi("",!0):(wt(),Ot("div",{key:1,class:ar(j.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(wt(!0),Ot(ln,null,Mr(S.value,(g,x)=>ho((wt(),Ir(KU,Yo({key:x},{...j.$props,order:x,hours:g.hours,minutes:g.minutes,seconds:g.seconds,closeTimePickerBtn:z.value,disabled:x===0?j.fixedStart:j.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:Z,"onUpdate:hours":k=>ie(E(k,x,"hours")),"onUpdate:minutes":k=>te(E(k,x,"minutes")),"onUpdate:seconds":k=>$(E(k,x,"seconds")),onMounted:V,onOverlayClosed:V,onAmPmChange:w[3]||(w[3]=k=>j.$emit("am-pm-change",k))}),Bl({_:2},[Mr(Ii(U),(k,q)=>({name:k,fn:Yn(Y=>[xn(j.$slots,k,Ta(Ol(Y)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[N0,x===0?!0:O.value]])),128))],2)),!j.timePicker&&!j.timePickerInline?ho((wt(),Ot("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:z,class:ar(H.value),"aria-label":(m=Ii(b).ariaLabels)==null?void 0:m.closeTimePicker,tabindex:"0",onKeydown:[w[4]||(w[4]=br(g=>P(!1),["enter"])),w[5]||(w[5]=br(g=>P(!1),["space"]))],onClick:w[6]||(w[6]=g=>P(!1))},[j.$slots["calendar-icon"]?xn(j.$slots,"calendar-icon",{key:0}):yi("",!0),j.$slots["calendar-icon"]?yi("",!0):(wt(),Ir(Ii(i2),{key:1}))],42,e$)),[[N0,!Ii(s)("time")]]):yi("",!0)],2)],10,QU)):yi("",!0)]}),_:3},8,["name","css"])])}}}),i$=(e,t)=>{const{isDisabled:n,matchDate:r,getWeekFromDate:o,defaults:d}=xd(t),h=sn(null),s=sn(Hi()),b=Y=>{!Y.current&&t.hideOffsetDates||(h.value=Y.value)},R=()=>{h.value=null},J=Y=>Array.isArray(e.value)&&t.range&&e.value[0]&&h.value?Y?mc(h.value,e.value[0]):zl(h.value,e.value[0]):!0,I=(Y,K)=>{const le=()=>e.value?K?e.value[0]||null:e.value[1]:null,he=e.value&&Array.isArray(e.value)?le():null;return $s(Hi(Y.value),he)},z=Y=>{const K=Array.isArray(e.value)?e.value[0]:null;return Y?!zl(h.value||null,K):!0},Z=(Y,K=!0)=>(t.range||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!Y.current?!1:$s(Hi(Y.value),e.value[K?0:1]):t.range?I(Y,K)&&z(K)||$s(Y.value,Array.isArray(e.value)?e.value[0]:null)&&J(K):!1,L=(Y,K,le)=>Array.isArray(e.value)&&e.value[0]&&e.value.length===1?Y?!1:le?mc(e.value[0],K.value):zl(e.value[0],K.value):!1,O=Y=>!e.value||t.hideOffsetDates&&!Y.current?!1:t.range?t.modelAuto&&Array.isArray(e.value)?$s(Y.value,e.value[0]?e.value[0]:s.value):!1:t.multiDates&&Array.isArray(e.value)?e.value.some(K=>$s(K,Y.value)):$s(Y.value,e.value?e.value:s.value),G=Y=>{if(t.autoRange||t.weekPicker){if(h.value){if(t.hideOffsetDates&&!Y.current)return!1;const K=Qh(h.value,+t.autoRange),le=o(Hi(h.value));return t.weekPicker?$s(le[1],Hi(Y.value)):$s(K,Hi(Y.value))}return!1}return!1},M=Y=>{if(t.autoRange||t.weekPicker){if(h.value){const K=Qh(h.value,+t.autoRange);if(t.hideOffsetDates&&!Y.current)return!1;const le=o(Hi(h.value));return t.weekPicker?mc(Y.value,le[0])&&zl(Y.value,le[1]):mc(Y.value,h.value)&&zl(Y.value,K)}return!1}return!1},S=Y=>{if(t.autoRange||t.weekPicker){if(h.value){if(t.hideOffsetDates&&!Y.current)return!1;const K=o(Hi(h.value));return t.weekPicker?$s(K[0],Y.value):$s(h.value,Y.value)}return!1}return!1},P=Y=>T4(e.value,h.value,Y.value),H=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,U=()=>t.modelAuto?k4(t.internalModelValue):!0,E=Y=>{if(Array.isArray(e.value)&&e.value.length||t.weekPicker)return!1;const K=t.range?!Z(Y)&&!Z(Y,!1):!0;return!n(Y.value)&&!O(Y)&&!(!Y.current&&t.hideOffsetDates)&&K},ie=Y=>t.range?t.modelAuto?H()&&O(Y):!1:O(Y),te=Y=>{var K;return t.highlight?r(Y.value,(K=t.arrMapValues)!=null&&K.highlightedDates?t.arrMapValues.highlightedDates:t.highlight):!1},$=Y=>n(Y.value)&&t.highlightDisabledDays===!1,V=Y=>t.highlightWeekDays&&t.highlightWeekDays.includes(Y.value.getDay()),j=Y=>(t.range||t.weekPicker)&&(!(d.value.multiCalendars>0)||Y.current)&&U()&&!(!Y.current&&t.hideOffsetDates)&&!O(Y)?P(Y):!1,w=Y=>{const{isRangeStart:K,isRangeEnd:le}=g(Y),he=t.range?K||le:!1;return{dp__cell_offset:!Y.current,dp__pointer:!t.disabled&&!(!Y.current&&t.hideOffsetDates)&&!n(Y.value),dp__cell_disabled:n(Y.value),dp__cell_highlight:!$(Y)&&(te(Y)||V(Y))&&!ie(Y)&&!he,dp__cell_highlight_active:!$(Y)&&(te(Y)||V(Y))&&ie(Y),dp__today:!t.noToday&&$s(Y.value,s.value)&&Y.current}},D=Y=>({dp__active_date:ie(Y),dp__date_hover:E(Y)}),m=Y=>({...x(Y),...k(Y),dp__range_between_week:j(Y)&&t.weekPicker}),g=Y=>{const K=d.value.multiCalendars>0?Y.current&&Z(Y)&&U():Z(Y)&&U(),le=d.value.multiCalendars>0?Y.current&&Z(Y,!1)&&U():Z(Y,!1)&&U();return{isRangeStart:K,isRangeEnd:le}},x=Y=>{const{isRangeStart:K,isRangeEnd:le}=g(Y);return{dp__range_start:K,dp__range_end:le,dp__range_between:j(Y)&&!t.weekPicker,dp__date_hover_start:L(E(Y),Y,!0),dp__date_hover_end:L(E(Y),Y,!1)}},k=Y=>({...x(Y),dp__cell_auto_range:M(Y),dp__cell_auto_range_start:S(Y),dp__cell_auto_range_end:G(Y)}),q=Y=>t.range?t.autoRange?k(Y):t.modelAuto?{...D(Y),...x(Y)}:x(Y):t.weekPicker?m(Y):D(Y);return{setHoverDate:b,clearHoverDate:R,getDayClassData:Y=>t.hideOffsetDates&&!Y.current?{}:{...w(Y),...q(Y),[t.dayClass?t.dayClass(Y.value):""]:!0,[t.calendarCellClassName]:!!t.calendarCellClassName}}},n$=["id","onKeydown"],r$={key:0,class:"dp__sidebar_left"},s$={key:1,class:"dp__preset_ranges"},o$=["onClick"],a$={key:2,class:"dp__sidebar_right"},l$={key:3,class:"dp__action_extra"},c$=vc({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},...Sf},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(e,{expose:t,emit:n}){const r=e,o=hn(()=>{const{openOnTop:ci,internalModelValue:$i,arrMapValues:Wi,...zr}=r;return zr}),{setMenuFocused:d,setShiftKey:h,control:s}=S4(),{getCalendarDays:b,defaults:R}=xd(r),J=f_(),I=sn(null),z=Eu({timePicker:!!(!r.enableTimePicker||r.timePicker||r.monthPicker),monthYearInput:!!r.timePicker,calendar:!1}),Z=sn([]),L=sn([]),O=sn(null),G=sn(null),M=sn(0),S=sn(!1),P=sn(0);Ko(()=>{var ci;S.value=!0,!((ci=r.presetRanges)!=null&&ci.length)&&!J["left-sidebar"]&&!J["right-sidebar"]&&(Qe(),window.addEventListener("resize",Qe));const $i=qo(G);if($i&&!r.textInput&&!r.inline&&(d(!0),$()),$i){const Wi=zr=>{r.allowPreventDefault&&zr.preventDefault(),zr.stopImmediatePropagation(),zr.stopPropagation()};$i.addEventListener("pointerdown",Wi),$i.addEventListener("mousedown",Wi)}}),hh(()=>{window.removeEventListener("resize",Qe)});const{arrowRight:H,arrowLeft:U,arrowDown:E,arrowUp:ie}=Tf(),te=ci=>{ci||ci===0?L.value[ci].triggerTransition(m.value(ci),g.value(ci)):L.value.forEach(($i,Wi)=>$i.triggerTransition(m.value(Wi),g.value(Wi)))},$=()=>{const ci=qo(G);ci&&ci.focus({preventScroll:!0})},V=()=>{var ci;(ci=r.flow)!=null&&ci.length&&P.value!==-1&&(P.value+=1,n("flow-step",P.value),fi())},j=()=>{P.value=-1},{calendars:w,modelValue:D,month:m,year:g,time:x,updateTime:k,updateMonthYear:q,selectDate:Y,getWeekNum:K,monthYearSelect:le,handleScroll:he,handleArrow:pe,handleSwipe:F,getMarker:Q,selectCurrentDate:ce,presetDateRange:ge}=oU(r,n,V,te,P),{setHoverDate:ke,clearHoverDate:re,getDayClassData:ve}=i$(D,r),_e={modelValue:D,month:m,year:g,time:x,updateTime:k,updateMonthYear:q,selectDate:Y,presetDateRange:ge,handleMonthYearChange:ci=>{Z.value[0]&&Z.value[0].handleMonthYearChange(ci)}};ha(w,()=>{r.openOnTop&&setTimeout(()=>{n("recalculate-position")},0)},{deep:!0});const oe=I0(J,"calendar"),ye=I0(J,"action"),Te=I0(J,"timePicker"),Oe=I0(J,"monthYear"),Le=hn(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Ue=hn(()=>Yj(r.yearRange,r.reverseYears)),nt=hn(()=>qj(r.formatLocale,r.locale,r.monthNameFormat)),Qe=()=>{const ci=qo(I);ci&&(M.value=ci.getBoundingClientRect().width)},ut=hn(()=>ci=>b(m.value(ci),g.value(ci))),Me=hn(()=>R.value.multiCalendars>0?[...Array(R.value.multiCalendars).keys()]:[0]),Re=hn(()=>ci=>ci===1),Ne=hn(()=>r.monthPicker||r.timePicker||r.yearPicker),Xe=hn(()=>({dp__menu_inner:!0,dp__flex_display:R.value.multiCalendars>0})),rt=hn(()=>({dp__instance_calendar:R.value.multiCalendars>0})),yt=hn(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly})),$t=hn(()=>ci=>Ci(ut,ci)),Wt=hn(()=>({dp__menu:!0,dp__menu_index:!r.inline,dp__relative:r.inline,[r.menuClassName]:!!r.menuClassName})),Ci=(ci,$i)=>ci.value($i).map(Wi=>({...Wi,days:Wi.days.map(zr=>(zr.marker=Q(zr),zr.classData=ve(zr),zr))})),ti=ci=>{ci.stopPropagation(),ci.stopImmediatePropagation()},Mi=()=>{r.escClose&&n("close-picker")},on=(ci,$i=!1)=>{Y(ci,$i),r.spaceConfirm&&n("select-date")},ft=ci=>{var $i;($i=r.flow)!=null&&$i.length&&(z[ci]=!0,Object.keys(z).filter(Wi=>!z[Wi]).length||fi())},Nt=(ci,$i,Wi,zr,...fo)=>{if(r.flow[P.value]===ci){const wn=zr?$i.value[0]:$i.value;wn&&wn[Wi](...fo)}},fi=()=>{Nt("month",Z,"toggleMonthPicker",!0,!0),Nt("year",Z,"toggleYearPicker",!0,!0),Nt("calendar",O,"toggleTimePicker",!1,!1,!0),Nt("time",O,"toggleTimePicker",!1,!0,!0);const ci=r.flow[P.value];(ci==="hours"||ci==="minutes"||ci==="seconds")&&Nt(ci,O,"toggleTimePicker",!1,!0,!0,ci)},Ui=ci=>{if(r.arrowNavigation){if(ci==="up")return ie();if(ci==="down")return E();if(ci==="left")return U();if(ci==="right")return H()}else ci==="left"||ci==="up"?pe("left",0,ci==="up"):pe("right",0,ci==="down")},dn=ci=>{h(ci.shiftKey),!r.disableMonthYearSelect&&ci.code==="Tab"&&ci.target.classList.contains("dp__menu")&&s.value.shiftKeyInMenu&&(ci.preventDefault(),ci.stopImmediatePropagation(),n("close-picker"))},Gn=()=>{$(),n("time-picker-close")},Kr=ci=>{var $i,Wi,zr,fo,wn;($i=O.value)==null||$i.toggleTimePicker(!1,!1),(zr=(Wi=Z.value)==null?void 0:Wi[ci])==null||zr.toggleMonthPicker(!1,!1),(wn=(fo=Z.value)==null?void 0:fo[ci])==null||wn.toggleYearPicker(!1,!1)};return t({updateMonthYear:q,switchView:(ci,$i=0)=>{var Wi,zr,fo,wn,oo;return ci==="month"?(zr=(Wi=Z.value)==null?void 0:Wi[$i])==null?void 0:zr.toggleMonthPicker(!1,!0):ci==="year"?(wn=(fo=Z.value)==null?void 0:fo[$i])==null?void 0:wn.toggleYearPicker(!1,!0):ci==="time"?(oo=O.value)==null?void 0:oo.toggleTimePicker(!0,!1):Kr($i)}}),(ci,$i)=>{var Wi;return wt(),Ir(ku,{appear:"",name:(Wi=Ii(R).transitions)==null?void 0:Wi.menuAppear,css:!!ci.transitions},{default:Yn(()=>{var zr,fo;return[Ye("div",{id:ci.uid?`dp-menu-${ci.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:G,role:"dialog",class:ar(Wt.value),onMouseleave:$i[14]||($i[14]=(...wn)=>Ii(re)&&Ii(re)(...wn)),onClick:ti,onKeydown:[br(Mi,["esc"]),$i[15]||($i[15]=br(fc(wn=>Ui("left"),["prevent"]),["left"])),$i[16]||($i[16]=br(fc(wn=>Ui("up"),["prevent"]),["up"])),$i[17]||($i[17]=br(fc(wn=>Ui("down"),["prevent"]),["down"])),$i[18]||($i[18]=br(fc(wn=>Ui("right"),["prevent"]),["right"])),dn]},[(ci.disabled||ci.readonly)&&ci.inline?(wt(),Ot("div",{key:0,class:ar(yt.value)},null,2)):yi("",!0),!ci.inline&&!ci.teleportCenter?(wt(),Ot("div",{key:1,class:ar(Le.value)},null,2)):yi("",!0),Ye("div",{class:ar({dp__menu_content_wrapper:((zr=ci.presetRanges)==null?void 0:zr.length)||!!ci.$slots["left-sidebar"]||!!ci.$slots["right-sidebar"]})},[ci.$slots["left-sidebar"]?(wt(),Ot("div",r$,[xn(ci.$slots,"left-sidebar",Ta(Ol(_e)))])):yi("",!0),(fo=ci.presetRanges)!=null&&fo.length?(wt(),Ot("div",s$,[(wt(!0),Ot(ln,null,Mr(ci.presetRanges,(wn,oo)=>(wt(),Ot("div",{key:oo,style:el(wn.style||{}),class:"dp__preset_range",onClick:Ln=>Ii(ge)(wn.range,!!wn.slot)},[wn.slot?xn(ci.$slots,wn.slot,{key:0,presetDateRange:Ii(ge),label:wn.label,range:wn.range}):(wt(),Ot(ln,{key:1},[ws(Qi(wn.label),1)],64))],12,o$))),128))])):yi("",!0),Ye("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:I,role:"document"},[Ye("div",{class:ar(Xe.value)},[(wt(!0),Ot(ln,null,Mr(Me.value,(wn,oo)=>(wt(),Ot("div",{key:wn,class:ar(rt.value)},[!ci.disableMonthYearSelect&&!ci.timePicker?(wt(),Ir(jU,Yo({key:0,ref_for:!0,ref:Ln=>{Ln&&(Z.value[oo]=Ln)},months:nt.value,years:Ue.value,month:Ii(m)(wn),year:Ii(g)(wn),instance:wn,"internal-model-value":e.internalModelValue},o.value,{onMount:$i[0]||($i[0]=Ln=>ft("monthYearInput")),onResetFlow:j,onUpdateMonthYear:Ln=>Ii(q)(wn,Ln),onMonthYearSelect:Ii(le),onOverlayClosed:$}),Bl({_:2},[Mr(Ii(Oe),(Ln,ja)=>({name:Ln,fn:Yn(il=>[xn(ci.$slots,Ln,Ta(Ol(il)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):yi("",!0),cn(kU,Yo({ref_for:!0,ref:Ln=>{Ln&&(L.value[oo]=Ln)},"specific-mode":Ne.value,"get-week-num":Ii(K),instance:wn,"mapped-dates":$t.value(wn),month:Ii(m)(wn),year:Ii(g)(wn)},o.value,{onSelectDate:Ln=>Ii(Y)(Ln,!Re.value(wn)),onHandleSpace:Ln=>on(Ln,!Re.value(wn)),onSetHoverDate:$i[1]||($i[1]=Ln=>Ii(ke)(Ln)),onHandleScroll:Ln=>Ii(he)(Ln,wn),onHandleSwipe:Ln=>Ii(F)(Ln,wn),onMount:$i[2]||($i[2]=Ln=>ft("calendar")),onResetFlow:j,onTooltipOpen:$i[3]||($i[3]=Ln=>ci.$emit("tooltip-open",Ln)),onTooltipClose:$i[4]||($i[4]=Ln=>ci.$emit("tooltip-close",Ln))}),Bl({_:2},[Mr(Ii(oe),(Ln,ja)=>({name:Ln,fn:Yn(il=>[xn(ci.$slots,Ln,Ta(Ol({...il})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),Ye("div",null,[ci.$slots["time-picker"]?xn(ci.$slots,"time-picker",Ta(Yo({key:0},{time:Ii(x),updateTime:Ii(k)}))):(wt(),Ot(ln,{key:1},[ci.enableTimePicker&&!ci.monthPicker&&!ci.weekPicker?(wt(),Ir(t$,Yo({key:0,ref_key:"timePickerRef",ref:O,hours:Ii(x).hours,minutes:Ii(x).minutes,seconds:Ii(x).seconds,"internal-model-value":e.internalModelValue},o.value,{onMount:$i[5]||($i[5]=wn=>ft("timePicker")),"onUpdate:hours":$i[6]||($i[6]=wn=>Ii(k)(wn)),"onUpdate:minutes":$i[7]||($i[7]=wn=>Ii(k)(wn,!1)),"onUpdate:seconds":$i[8]||($i[8]=wn=>Ii(k)(wn,!1,!0)),onResetFlow:j,onOverlayClosed:Gn,onOverlayOpened:$i[9]||($i[9]=wn=>ci.$emit("time-picker-open",wn)),onAmPmChange:$i[10]||($i[10]=wn=>ci.$emit("am-pm-change",wn))}),Bl({_:2},[Mr(Ii(Te),(wn,oo)=>({name:wn,fn:Yn(Ln=>[xn(ci.$slots,wn,Ta(Ol(Ln)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):yi("",!0)],64))])],512),ci.$slots["right-sidebar"]?(wt(),Ot("div",a$,[xn(ci.$slots,"right-sidebar",Ta(Ol(_e)))])):yi("",!0),ci.$slots["action-extra"]?(wt(),Ot("div",l$,[ci.$slots["action-extra"]?xn(ci.$slots,"action-extra",{key:0,selectCurrentDate:Ii(ce)}):yi("",!0)])):yi("",!0)],2),!ci.autoApply||ci.keepActionRow?(wt(),Ir(vU,Yo({key:2,"menu-mount":S.value,"calendar-width":M.value,"internal-model-value":e.internalModelValue},o.value,{onClosePicker:$i[11]||($i[11]=wn=>ci.$emit("close-picker")),onSelectDate:$i[12]||($i[12]=wn=>ci.$emit("select-date")),onInvalidSelect:$i[13]||($i[13]=wn=>ci.$emit("invalid-select")),onSelectNow:Ii(ce)}),Bl({_:2},[Mr(Ii(ye),(wn,oo)=>({name:wn,fn:Yn(Ln=>[xn(ci.$slots,wn,Ta(Ol({...Ln})))])}))]),1040,["menu-mount","calendar-width","internal-model-value","onSelectNow"])):yi("",!0)],42,n$)]}),_:3},8,["name","css"])}}}),d$=typeof window<"u"?window:void 0,k3=()=>{},u$=e=>QT()?(eS(e),!0):!1,h$=(e,t,n,r)=>{if(!e)return k3;let o=k3;const d=ha(()=>Ii(e),s=>{o(),s&&(s.addEventListener(t,n,r),o=()=>{s.removeEventListener(t,n,r),o=k3})},{immediate:!0,flush:"post"}),h=()=>{d(),o()};return u$(h),h},p$=(e,t,n,r={})=>{const{window:o=d$,event:d="pointerdown"}=r;return o?h$(o,d,h=>{const s=qo(e),b=qo(t);!s||!b||s===h.target||h.composedPath().includes(s)||h.composedPath().includes(b)||n(h)},{passive:!0}):void 0},f$=vc({__name:"VueDatePicker",props:{...Sf},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(e,{expose:t,emit:n}){const r=e,o=f_(),d=sn(!1),h=ff(r,"modelValue"),s=ff(r,"timezone"),b=sn(null),R=sn(null),J=sn(!1),I=sn(null),z=Eu({disabledDates:null,allowedDates:null,highlightedDates:null}),{setMenuFocused:Z,setShiftKey:L}=S4(),{clearArrowNav:O}=Tf(),{validateDate:G,isValidTime:M,defaults:S,mapDatesArrToMap:P}=xd(r);Ko(()=>{m(r.modelValue),r.inline||(j(I.value).addEventListener("scroll",le),window.addEventListener("resize",he)),r.inline&&(d.value=!0),P(z)}),hh(()=>{if(!r.inline){const Me=j(I.value);Me&&Me.removeEventListener("scroll",le),window.removeEventListener("resize",he)}});const H=I0(o,"all",r.presetRanges),U=I0(o,"input");ha([h,s],()=>{m(h.value)},{deep:!0});const{openOnTop:E,menuStyle:ie,resetPosition:te,setMenuPosition:$,setInitialPosition:V,getScrollableParent:j}=cU(b,R,n,r),{inputValue:w,internalModelValue:D,parseExternalModelValue:m,emitModelValue:g,formatInputValue:x,checkBeforeEmit:k}=aU(n,r,J),q=hn(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:r.inline,dp__flex_display_with_input:r.inlineWithInput})),Y=hn(()=>r.dark?"dp__theme_dark":"dp__theme_light"),K=hn(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:r.inline}:{class:"dp__outer_menu_wrap"}),le=()=>{d.value&&(r.closeOnScroll?_e():$())},he=()=>{d.value&&$()},pe=async()=>{var Me,Re,Ne;!r.disabled&&!r.readonly&&(te(),await yc(),d.value=!0,await yc(),V(),await yc(),$(),delete ie.value.opacity,!((Me=S.value.transitions)!=null&&Me.menuAppear)&&r.transitions&&((Ne=(Re=b.value)==null?void 0:Re.$el)==null||Ne.classList.add("dp__menu_transitioned")),d.value&&n("open"),d.value||ve(),m(r.modelValue))},F=()=>{w.value="",ve(),n("update:model-value",null),n("cleared"),r.closeOnClearValue&&_e()},Q=()=>{const Me=D.value;return!Me||!Array.isArray(Me)&&G(Me)?!0:Array.isArray(Me)?Me.length===2&&G(Me[0])&&G(Me[1])?!0:G(Me[0]):!1},ce=()=>{k()&&Q()?(g(),_e()):n("invalid-select",D.value)},ge=Me=>{ke(),g(),r.closeOnAutoApply&&!Me&&_e()},ke=()=>{R.value&&r.textInput&&R.value.setParsedDate(D.value)},re=(Me=!1)=>{r.autoApply&&M(D.value)&&Q()&&(r.range&&Array.isArray(D.value)?(r.partialRange||D.value.length===2)&&ge(Me):ge(Me))},ve=()=>{r.textInput||(D.value=null)},_e=()=>{r.inline||(d.value&&(d.value=!1,Z(!1),L(!1),O(),n("closed"),V(),w.value&&m(h.value)),ve())},oe=(Me,Re)=>{if(!Me){D.value=null;return}D.value=Me,Re&&(ce(),n("text-submit"))},ye=()=>{r.autoApply&&M(D.value)&&g(),ke()},Te=()=>d.value?_e():pe(),Oe=Me=>{D.value=Me},Le=()=>{r.textInput&&(J.value=!0,x()),n("focus")},Ue=()=>{r.textInput&&(J.value=!1,m(r.modelValue)),n("blur")},nt=Me=>{b.value&&b.value.updateMonthYear(0,{month:NE(Me.month),year:NE(Me.year)})},Qe=Me=>{m(Me||r.modelValue)},ut=(Me,Re)=>{var Ne;(Ne=b.value)==null||Ne.switchView(Me,Re)};return p$(b,R,r.onClickOutside?()=>r.onClickOutside(Q):_e),t({closeMenu:_e,selectDate:ce,clearValue:F,openMenu:pe,onScroll:le,formatInputValue:x,updateInternalModelValue:Oe,setMonthYear:nt,parseModel:Qe,switchView:ut}),(Me,Re)=>(wt(),Ot("div",{class:ar(q.value),ref_key:"pickerWrapperRef",ref:I},[cn(mU,Yo({ref_key:"inputRef",ref:R,"is-menu-open":d.value,"input-value":Ii(w),"onUpdate:inputValue":Re[0]||(Re[0]=Ne=>ca(w)?w.value=Ne:null)},Me.$props,{onClear:F,onOpen:pe,onSetInputDate:oe,onSetEmptyDate:Ii(g),onSelectDate:ce,onToggle:Te,onClose:_e,onFocus:Le,onBlur:Ue,onRealBlur:Re[1]||(Re[1]=Ne=>J.value=!1)}),Bl({_:2},[Mr(Ii(U),(Ne,Xe)=>({name:Ne,fn:Yn(rt=>[xn(Me.$slots,Ne,Ta(Ol(rt)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),d.value?(wt(),Ir(Ob(Me.teleport?CS:"div"),Ta(Yo({key:0},K.value)),{default:Yn(()=>[d.value?(wt(),Ir(c$,Yo({key:0,ref_key:"dpMenuRef",ref:b,class:Y.value,style:Me.inline?void 0:Ii(ie),"open-on-top":Ii(E),"arr-map-values":z},Me.$props,{"internal-model-value":Ii(D),"onUpdate:internalModelValue":Re[2]||(Re[2]=Ne=>ca(D)?D.value=Ne:null),onClosePicker:_e,onSelectDate:ce,onAutoApply:re,onTimeUpdate:ye,onFlowStep:Re[3]||(Re[3]=Ne=>Me.$emit("flow-step",Ne)),onUpdateMonthYear:Re[4]||(Re[4]=Ne=>Me.$emit("update-month-year",Ne)),onInvalidSelect:Re[5]||(Re[5]=Ne=>Me.$emit("invalid-select",Ii(D))),onInvalidFixedRange:Re[6]||(Re[6]=Ne=>Me.$emit("invalid-fixed-range",Ne)),onRecalculatePosition:Ii($),onTooltipOpen:Re[7]||(Re[7]=Ne=>Me.$emit("tooltip-open",Ne)),onTooltipClose:Re[8]||(Re[8]=Ne=>Me.$emit("tooltip-close",Ne)),onTimePickerOpen:Re[9]||(Re[9]=Ne=>Me.$emit("time-picker-open",Ne)),onTimePickerClose:Re[10]||(Re[10]=Ne=>Me.$emit("time-picker-close",Ne)),onAmPmChange:Re[11]||(Re[11]=Ne=>Me.$emit("am-pm-change",Ne)),onRangeStart:Re[12]||(Re[12]=Ne=>Me.$emit("range-start",Ne)),onRangeEnd:Re[13]||(Re[13]=Ne=>Me.$emit("range-end",Ne))}),Bl({_:2},[Mr(Ii(H),(Ne,Xe)=>({name:Ne,fn:Yn(rt=>[xn(Me.$slots,Ne,Ta(Ol({...rt})))])}))]),1040,["class","style","open-on-top","arr-map-values","internal-model-value","onRecalculatePosition"])):yi("",!0)]),_:3},16)):yi("",!0)],2))}}),D5=(()=>{const e=f$;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),m$=Object.freeze(Object.defineProperty({__proto__:null,default:D5},Symbol.toStringTag,{value:"Module"}));Object.entries(m$).forEach(([e,t])=>{e!=="default"&&(D5[e]=t)});var A4={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ra,function(){var n,r,o;function d(s,b){if(!n)n=b;else if(!r)r=b;else{var R="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk); self.onerror = null;",J={};n(J),o=b(J),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(o.workerUrl=window.URL.createObjectURL(new Blob([R],{type:"text/javascript"})))}}d(["exports"],function(s){var b=typeof self<"u"?self:{},R="2.12.0";let J;const I={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(J==null){const a=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{J={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):a}catch{J=a}}return J},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},z={supported:!1,testSupport:function(a){!O&&L&&(G?M(a):Z=a)}};let Z,L,O=!1,G=!1;function M(a){const i=a.createTexture();a.bindTexture(a.TEXTURE_2D,i);try{if(a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,L),a.isContextLost())return;z.supported=!0}catch{}a.deleteTexture(i),O=!0}b.document&&(L=b.document.createElement("img"),L.onload=function(){Z&&M(Z),Z=null,G=!0},L.onerror=function(){O=!0,Z=null},L.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const S="01";var P=H;function H(a,i,l,u){this.cx=3*a,this.bx=3*(l-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(u-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=a,this.p1y=i,this.p2x=l,this.p2y=u}H.prototype={sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,i){if(i===void 0&&(i=1e-6),a<0)return 0;if(a>1)return 1;for(var l=a,u=0;u<8;u++){var f=this.sampleCurveX(l)-a;if(Math.abs(f)<i)return l;var v=this.sampleCurveDerivativeX(l);if(Math.abs(v)<1e-6)break;l-=f/v}var C=0,N=1;for(l=a,u=0;u<20&&(f=this.sampleCurveX(l),!(Math.abs(f-a)<i));u++)a>f?C=l:N=l,l=.5*(N-C)+C;return l},solve:function(a,i){return this.sampleCurveY(this.solveCurveX(a,i))}};var U=E;function E(a,i){this.x=a,this.y=i}E.prototype={clone:function(){return new E(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},multByPoint:function(a){return this.clone()._multByPoint(a)},divByPoint:function(a){return this.clone()._divByPoint(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},rotateAround:function(a,i){return this.clone()._rotateAround(a,i)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var i=a.x-this.x,l=a.y-this.y;return i*i+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,i){return Math.atan2(this.x*i-this.y*a,this.x*a+this.y*i)},_matMult:function(a){var i=a[2]*this.x+a[3]*this.y;return this.x=a[0]*this.x+a[1]*this.y,this.y=i,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_multByPoint:function(a){return this.x*=a.x,this.y*=a.y,this},_divByPoint:function(a){return this.x/=a.x,this.y/=a.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var i=Math.cos(a),l=Math.sin(a),u=l*this.x+i*this.y;return this.x=i*this.x-l*this.y,this.y=u,this},_rotateAround:function(a,i){var l=Math.cos(a),u=Math.sin(a),f=i.y+u*(this.x-i.x)+l*(this.y-i.y);return this.x=i.x+l*(this.x-i.x)-u*(this.y-i.y),this.y=f,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},E.convert=function(a){return a instanceof E?a:Array.isArray(a)?new E(a[0],a[1]):a};const ie=Math.PI/180,te=180/Math.PI;function $(a){return a*ie}function V(a){return a*te}const j=[[0,0],[1,0],[1,1],[0,1]];function w(a){if(a<=0)return 0;if(a>=1)return 1;const i=a*a,l=i*a;return 4*(a<.5?l:3*(a-i)+l-.75)}function D(a,i,l,u){const f=new P(a,i,l,u);return function(v){return f.solve(v)}}const m=D(.25,.1,.25,1);function g(a,i,l){return Math.min(l,Math.max(i,a))}function x(a,i,l){return(l=g((l-a)/(i-a),0,1))*l*(3-2*l)}function k(a,i,l){const u=l-i,f=((a-i)%u+u)%u+i;return f===i?l:f}function q(a,i,l){if(!a.length)return l(null,[]);let u=a.length;const f=new Array(a.length);let v=null;a.forEach((C,N)=>{i(C,(ee,ne)=>{ee&&(v=ee),f[N]=ne,--u==0&&l(v,f)})})}function Y(a){const i=[];for(const l in a)i.push(a[l]);return i}function K(a,...i){for(const l of i)for(const u in l)a[u]=l[u];return a}let le=1;function he(){return le++}function pe(){return function a(i){return i?(i^Math.random()*(16>>i/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,a)}()}function F(a){return a<=1?1:Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function Q(a){return!!a&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(a)}function ce(a,i){a.forEach(l=>{i[l]&&(i[l]=i[l].bind(i))})}function ge(a,i){return a.indexOf(i,a.length-i.length)!==-1}function ke(a,i,l){const u={};for(const f in a)u[f]=i.call(l||this,a[f],f,a);return u}function re(a,i,l){const u={};for(const f in a)i.call(l||this,a[f],f,a)&&(u[f]=a[f]);return u}function ve(a){return Array.isArray(a)?a.map(ve):typeof a=="object"&&a?ke(a,ve):a}const _e={};function oe(a){_e[a]||(typeof console<"u"&&console.warn(a),_e[a]=!0)}function ye(a,i,l){return(l.y-a.y)*(i.x-a.x)>(i.y-a.y)*(l.x-a.x)}function Te(a){let i=0;for(let l,u,f=0,v=a.length,C=v-1;f<v;C=f++)l=a[f],u=a[C],i+=(u.x-l.x)*(l.y+u.y);return i}function Oe(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Le(a){const i={};if(a.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,u,f,v)=>{const C=f||v;return i[u]=!C||C.toLowerCase(),""}),i["max-age"]){const l=parseInt(i["max-age"],10);isNaN(l)?delete i["max-age"]:i["max-age"]=l}return i}let Ue=null;function nt(a){if(Ue==null){const i=a.navigator?a.navigator.userAgent:null;Ue=!!a.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return Ue}function Qe(a){try{const i=b[a];return i.setItem("_mapbox_test_",1),i.removeItem("_mapbox_test_"),!0}catch{return!1}}function ut(a,i){return[a[4*i],a[4*i+1],a[4*i+2],a[4*i+3]]}const Me="mapbox-tiles";let Re,Ne,Xe=500,rt=50;function yt(){try{return b.caches}catch{}}function $t(){yt()&&!Re&&(Re=b.caches.open(Me))}function Wt(a){const i=a.indexOf("?");if(i<0)return a;const l=function(f){const v=f.indexOf("?");return v>0?f.slice(v+1).split("&"):[]}(a),u=l.filter(f=>{const v=f.split("=");return v[0]==="language"||v[0]==="worldview"});return u.length?`${a.slice(0,i)}?${u.join("&")}`:a.slice(0,i)}let Ci=1/0;const ti={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(ti);class Mi extends Error{constructor(i,l,u){l===401&&Wi(u)&&(i+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(i),this.status=l,this.url=u}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const on=Oe()?()=>self.worker&&self.worker.referrer:()=>(b.location.protocol==="blob:"?b.parent:b).location.href,ft=function(a,i){if(!(/^file:/.test(l=a.url)||/^file:/.test(on())&&!/^\w+:/.test(l))){if(b.fetch&&b.Request&&b.AbortController&&b.Request.prototype.hasOwnProperty("signal"))return function(u,f){const v=new b.AbortController,C=new b.Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,referrer:on(),signal:v.signal});let N=!1,ee=!1;const ne=(fe=C.url).indexOf("sku=")>0&&Wi(fe);var fe;u.type==="json"&&C.headers.set("Accept","application/json");const we=(Ie,Be,Ge)=>{if(ee)return;if(Ie&&Ie.message!=="SecurityError"&&oe(Ie),Be&&Ge)return Ce(Be);const Je=Date.now();b.fetch(C).then(gt=>{if(gt.ok){const Mt=ne?gt.clone():null;return Ce(gt,Mt,Je)}return f(new Mi(gt.statusText,gt.status,u.url))}).catch(gt=>{gt.code!==20&&f(new Error(gt.message))})},Ce=(Ie,Be,Ge)=>{(u.type==="arrayBuffer"?Ie.arrayBuffer():u.type==="json"?Ie.json():Ie.text()).then(Je=>{ee||(Be&&Ge&&function(gt,Mt,mt){if($t(),!Re)return;const bt={status:Mt.status,statusText:Mt.statusText,headers:new b.Headers};Mt.headers.forEach((Qt,Jt)=>bt.headers.set(Jt,Qt));const Pt=Le(Mt.headers.get("Cache-Control")||"");if(Pt["no-store"])return;Pt["max-age"]&&bt.headers.set("Expires",new Date(mt+1e3*Pt["max-age"]).toUTCString());const kt=bt.headers.get("Expires");kt&&(new Date(kt).getTime()-mt<42e4||function(Qt,Jt){if(Ne===void 0)try{new Response(new ReadableStream),Ne=!0}catch{Ne=!1}Ne?Jt(Qt.body):Qt.blob().then(Jt)}(Mt,Qt=>{const Jt=new b.Response(Qt,bt);$t(),Re&&Re.then(gi=>gi.put(Wt(gt.url),Jt)).catch(gi=>oe(gi.message))}))}(C,Be,Ge),N=!0,f(null,Je,Ie.headers.get("Cache-Control"),Ie.headers.get("Expires")))}).catch(Je=>{ee||f(new Error(Je.message))})};return ne?function(Ie,Be){if($t(),!Re)return Be(null);const Ge=Wt(Ie.url);Re.then(Je=>{Je.match(Ge).then(gt=>{const Mt=function(mt){if(!mt)return!1;const bt=new Date(mt.headers.get("Expires")||0),Pt=Le(mt.headers.get("Cache-Control")||"");return bt>Date.now()&&!Pt["no-cache"]}(gt);Je.delete(Ge),Mt&&Je.put(Ge,gt.clone()),Be(null,gt,Mt)}).catch(Be)}).catch(Be)}(C,we):we(null,null),{cancel:()=>{ee=!0,N||v.abort()}}}(a,i);if(Oe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",a,i,void 0,!0)}var l;return function(u,f){const v=new b.XMLHttpRequest;v.open(u.method||"GET",u.url,!0),u.type==="arrayBuffer"&&(v.responseType="arraybuffer");for(const C in u.headers)v.setRequestHeader(C,u.headers[C]);return u.type==="json"&&(v.responseType="text",v.setRequestHeader("Accept","application/json")),v.withCredentials=u.credentials==="include",v.onerror=()=>{f(new Error(v.statusText))},v.onload=()=>{if((v.status>=200&&v.status<300||v.status===0)&&v.response!==null){let C=v.response;if(u.type==="json")try{C=JSON.parse(v.response)}catch(N){return f(N)}f(null,C,v.getResponseHeader("Cache-Control"),v.getResponseHeader("Expires"))}else f(new Mi(v.statusText,v.status,u.url))},v.send(u.body),{cancel:()=>v.abort()}}(a,i)},Nt=function(a,i){return ft(K(a,{type:"arrayBuffer"}),i)};function fi(a){const i=b.document.createElement("a");return i.href=a,i.protocol===b.document.location.protocol&&i.host===b.document.location.host}const Ui="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let dn,Gn;dn=[],Gn=0;const Kr=function(a,i){if(z.supported&&(a.headers||(a.headers={}),a.headers.accept="image/webp,*/*"),Gn>=I.MAX_PARALLEL_IMAGE_REQUESTS){const v={requestParameters:a,callback:i,cancelled:!1,cancel(){this.cancelled=!0}};return dn.push(v),v}Gn++;let l=!1;const u=()=>{if(!l)for(l=!0,Gn--;dn.length&&Gn<I.MAX_PARALLEL_IMAGE_REQUESTS;){const v=dn.shift(),{requestParameters:C,callback:N,cancelled:ee}=v;ee||(v.cancel=Kr(C,N).cancel)}},f=Nt(a,(v,C,N,ee)=>{u(),v?i(v):C&&(b.createImageBitmap?function(ne,fe){const we=new b.Blob([new Uint8Array(ne)],{type:"image/png"});b.createImageBitmap(we).then(Ce=>{fe(null,Ce)}).catch(Ce=>{fe(new Error(`Could not load image because of ${Ce.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(C,(ne,fe)=>i(ne,fe,N,ee)):function(ne,fe){const we=new b.Image,Ce=b.URL;we.onload=()=>{fe(null,we),Ce.revokeObjectURL(we.src),we.onload=null,b.requestAnimationFrame(()=>{we.src=Ui})},we.onerror=()=>fe(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Ie=new b.Blob([new Uint8Array(ne)],{type:"image/png"});we.src=ne.byteLength?Ce.createObjectURL(Ie):Ui}(C,(ne,fe)=>i(ne,fe,N,ee)))});return{cancel:()=>{f.cancel(),u()}}},ci="NO_ACCESS_TOKEN";function $i(a){return a.indexOf("mapbox:")===0}function Wi(a){return I.API_URL_REGEX.test(a)}function zr(a){return I.API_CDN_URL_REGEX.test(a)}function fo(a){return I.API_STYLE_REGEX.test(a)&&!wn(a)}function wn(a){return I.API_SPRITE_REGEX.test(a)}const oo=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ln(a){const i=a.match(oo);if(!i)throw new Error("Unable to parse URL object");return{protocol:i[1],authority:i[2],path:i[3]||"/",params:i[4]?i[4].split("&"):[]}}function ja(a){const i=a.params.length?`?${a.params.join("&")}`:"";return`${a.protocol}://${a.authority}${a.path}${i}`}function il(a){if(!a)return null;const i=a.split(".");if(!i||i.length!==3)return null;try{return JSON.parse(decodeURIComponent(b.atob(i[1]).split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class ht{constructor(i){this.type=i,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(i){const l=il(I.ACCESS_TOKEN);let u="";return u=l&&l.u?b.btoa(encodeURIComponent(l.u).replace(/%([0-9A-F]{2})/g,(f,v)=>String.fromCharCode(+("0x"+v)))):I.ACCESS_TOKEN||"",i?`mapbox.eventData.${i}:${u}`:`mapbox.eventData:${u}`}fetchEventData(){const i=Qe("localStorage"),l=this.getStorageKey(),u=this.getStorageKey("uuid");if(i)try{const f=b.localStorage.getItem(l);f&&(this.eventData=JSON.parse(f));const v=b.localStorage.getItem(u);v&&(this.anonId=v)}catch{oe("Unable to read from LocalStorage")}}saveEventData(){const i=Qe("localStorage"),l=this.getStorageKey(),u=this.getStorageKey("uuid");if(i)try{b.localStorage.setItem(u,this.anonId),Object.keys(this.eventData).length>=1&&b.localStorage.setItem(l,JSON.stringify(this.eventData))}catch{oe("Unable to write to LocalStorage")}}processRequests(i){}postEvent(i,l,u,f){if(!I.EVENTS_URL)return;const v=Ln(I.EVENTS_URL);v.params.push(`access_token=${f||I.ACCESS_TOKEN||""}`);const C={event:this.type,created:new Date(i).toISOString()},N=l?K(C,l):C,ee={url:ja(v),headers:{"Content-Type":"text/plain"},body:JSON.stringify([N])};this.pendingRequest=function(ne,fe){return ft(K(ne,{method:"POST"}),fe)}(ee,ne=>{this.pendingRequest=null,u(ne),this.saveEventData(),this.processRequests(f)})}queueRequest(i,l){this.queue.push(i),this.processRequests(l)}}const ze=new class extends ht{constructor(a){super("appUserTurnstile"),this._customAccessToken=a}postTurnstileEvent(a,i){I.EVENTS_URL&&I.ACCESS_TOKEN&&Array.isArray(a)&&a.some(l=>$i(l)||Wi(l))&&this.queueRequest(Date.now(),i)}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const i=il(I.ACCESS_TOKEN),l=i?i.u:I.ACCESS_TOKEN;let u=l!==this.eventData.tokenU;Q(this.anonId)||(this.anonId=pe(),u=!0);const f=this.queue.shift();if(this.eventData.lastSuccess){const v=new Date(this.eventData.lastSuccess),C=new Date(f),N=(f-this.eventData.lastSuccess)/864e5;u=u||N>=1||N<-1||v.getDate()!==C.getDate()}else u=!0;u?this.postEvent(f,{sdkIdentifier:"mapbox-gl-js",sdkVersion:R,skuId:S,"enabled.telemetry":!1,userId:this.anonId},v=>{v||(this.eventData.lastSuccess=f,this.eventData.tokenU=l)},a):this.processRequests()}},We=ze.postTurnstileEvent.bind(ze),ct=new class extends ht{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(a,i,l,u){this.skuToken=i,this.errorCb=u,I.EVENTS_URL&&(l||I.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},l):this.errorCb(new Error(ci)))}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{id:i,timestamp:l}=this.queue.shift();i&&this.success[i]||(this.anonId||this.fetchEventData(),Q(this.anonId)||(this.anonId=pe()),this.postEvent(l,{sdkIdentifier:"mapbox-gl-js",sdkVersion:R,skuId:S,skuToken:this.skuToken,userId:this.anonId},u=>{u?this.errorCb(u):i&&(this.success[i]=!0)},a))}},_t=ct.postMapLoadEvent.bind(ct),Dt=new class extends ht{constructor(){super("gljs.performance")}postPerformanceEvent(a,i){I.EVENTS_URL&&(a||I.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:i},a)}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:i,performanceData:l}=this.queue.shift(),u=function(f){const v=b.performance.getEntriesByType("resource"),C=b.performance.getEntriesByType("mark"),N=function(Ce){const Ie={};if(Ce){for(const Be in Ce)if(Be!=="other")for(const Ge of Ce[Be]){const Je=`${Be}ResolveRangeMin`,gt=`${Be}ResolveRangeMax`,Mt=`${Be}RequestCount`,mt=`${Be}RequestCachedCount`;Ie[Je]=Math.min(Ie[Je]||1/0,Ge.startTime),Ie[gt]=Math.max(Ie[gt]||-1/0,Ge.responseEnd);const bt=Pt=>{Ie[Pt]===void 0&&(Ie[Pt]=0),++Ie[Pt]};Ge.transferSize!==void 0&&Ge.transferSize===0&&bt(mt),bt(Mt)}}return Ie}(function(Ce,Ie){const Be={};if(Ce)for(const Ge of Ce){const Je=Ie(Ge);Be[Je]===void 0&&(Be[Je]=[]),Be[Je].push(Ge)}return Be}(v,Pi)),ee=b.devicePixelRatio,ne=b.navigator.connection||b.navigator.mozConnection||b.navigator.webkitConnection,fe={counters:[],metadata:[],attributes:[]},we=(Ce,Ie,Be)=>{Be!=null&&Ce.push({name:Ie,value:Be.toString()})};for(const Ce in N)we(fe.counters,Ce,N[Ce]);if(f.interactionRange[0]!==1/0&&f.interactionRange[1]!==-1/0&&(we(fe.counters,"interactionRangeMin",f.interactionRange[0]),we(fe.counters,"interactionRangeMax",f.interactionRange[1])),C)for(const Ce of Object.keys(_i)){const Ie=_i[Ce],Be=C.find(Ge=>Ge.name===Ie);Be&&we(fe.counters,Ie,Be.startTime)}return we(fe.counters,"visibilityHidden",f.visibilityHidden),we(fe.attributes,"style",function(Ce){if(Ce)for(const Ie of Ce){const Be=Ie.name.split("?")[0];if(fo(Be)){const Ge=Be.split("/").slice(-2);if(Ge.length===2)return`mapbox://styles/${Ge[0]}/${Ge[1]}`}}}(v)),we(fe.attributes,"terrainEnabled",f.terrainEnabled?"true":"false"),we(fe.attributes,"fogEnabled",f.fogEnabled?"true":"false"),we(fe.attributes,"projection",f.projection),we(fe.attributes,"zoom",f.zoom),we(fe.metadata,"devicePixelRatio",ee),we(fe.metadata,"connectionEffectiveType",ne?ne.effectiveType:void 0),we(fe.metadata,"navigatorUserAgent",b.navigator.userAgent),we(fe.metadata,"screenWidth",b.screen.width),we(fe.metadata,"screenHeight",b.screen.height),we(fe.metadata,"windowWidth",b.innerWidth),we(fe.metadata,"windowHeight",b.innerHeight),we(fe.metadata,"mapWidth",f.width/ee),we(fe.metadata,"mapHeight",f.height/ee),we(fe.metadata,"webglRenderer",f.renderer),we(fe.metadata,"webglVendor",f.vendor),we(fe.metadata,"sdkVersion",R),we(fe.metadata,"sdkIdentifier","mapbox-gl-js"),fe}(l);for(const f of u.metadata);for(const f of u.counters);for(const f of u.attributes);this.postEvent(i,u,()=>{},a)}},Ft=Dt.postPerformanceEvent.bind(Dt),Gt=new class extends ht{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(a,i,l,u){if(!I.API_URL||!I.SESSION_PATH)return;const f=Ln(I.API_URL+I.SESSION_PATH);f.params.push(`sku=${i||""}`),f.params.push(`access_token=${u||I.ACCESS_TOKEN||""}`);const v={url:ja(f),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(C,N){return ft(K(C,{method:"GET"}),N)}(v,C=>{this.pendingRequest=null,l(C),this.saveEventData(),this.processRequests(u)})}getSessionAPI(a,i,l,u){this.skuToken=i,this.errorCb=u,I.SESSION_PATH&&I.API_URL&&(l||I.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},l):this.errorCb(new Error(ci)))}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{id:i,timestamp:l}=this.queue.shift();i&&this.success[i]||this.getSession(l,this.skuToken,u=>{u?this.errorCb(u):i&&(this.success[i]=!0)},a)}},Lt=Gt.getSessionAPI.bind(Gt),Xt=new Set,_i={create:"create",load:"load",fullLoad:"fullLoad"},qi={mark(a){b.performance.mark(a)},measure(a,i,l){b.performance.measure(a,i,l)}};function Pi(a){const i=a.name.split("?")[0];return zr(i)&&i.includes("mapbox-gl.js")?"javascript":zr(i)&&i.includes("mapbox-gl.css")?"css":function(l){return I.API_FONTS_REGEX.test(l)}(i)?"fontRange":wn(i)?"sprite":fo(i)?"style":function(l){return I.API_TILEJSON_REGEX.test(l)}(i)?"tilejson":"other"}const Mn=b.performance;function Cn(a){const i=a?a.url.toString():void 0;return Mn.getEntriesByName(i)}let un,Gi,lr,kr;const _n={now:()=>lr!==void 0?lr:b.performance.now(),setNow(a){lr=a},restoreNow(){lr=void 0},frame(a){const i=b.requestAnimationFrame(a);return{cancel:()=>b.cancelAnimationFrame(i)}},getImageData(a,i=0){const{width:l,height:u}=a;kr||(kr=b.document.createElement("canvas"));const f=kr.getContext("2d",{willReadFrequently:!0});if(!f)throw new Error("failed to create canvas 2d context");return(l>kr.width||u>kr.height)&&(kr.width=l,kr.height=u),f.clearRect(-i,-i,l+2*i,u+2*i),f.drawImage(a,0,0,l,u),f.getImageData(-i,-i,l+2*i,u+2*i)},resolveURL:a=>(un||(un=b.document.createElement("a")),un.href=a,un.href),get devicePixelRatio(){return b.devicePixelRatio},get prefersReducedMotion(){return!!b.matchMedia&&(Gi==null&&(Gi=b.matchMedia("(prefers-reduced-motion: reduce)")),Gi.matches)}};function Hr(a,i,l){l[a]&&l[a].indexOf(i)!==-1||(l[a]=l[a]||[],l[a].push(i))}function Lr(a,i,l){if(l&&l[a]){const u=l[a].indexOf(i);u!==-1&&l[a].splice(u,1)}}class Ua{constructor(i,l={}){K(this,l),this.type=i}}class $a extends Ua{constructor(i,l={}){super("error",K({error:i},l))}}class mo{on(i,l){return this._listeners=this._listeners||{},Hr(i,l,this._listeners),this}off(i,l){return Lr(i,l,this._listeners),Lr(i,l,this._oneTimeListeners),this}once(i,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},Hr(i,l,this._oneTimeListeners),this):new Promise(u=>this.once(i,u))}fire(i,l){typeof i=="string"&&(i=new Ua(i,l||{}));const u=i.type;if(this.listens(u)){i.target=this;const f=this._listeners&&this._listeners[u]?this._listeners[u].slice():[];for(const N of f)N.call(this,i);const v=this._oneTimeListeners&&this._oneTimeListeners[u]?this._oneTimeListeners[u].slice():[];for(const N of v)Lr(u,N,this._oneTimeListeners),N.call(this,i);const C=this._eventedParent;C&&(K(i,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),C.fire(i))}else i instanceof $a&&console.error(i.error);return this}listens(i){return!!(this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i))}setEventedParent(i,l){return this._eventedParent=i,this._eventedParentData=l,this}}var hi=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function hs(a,...i){for(const l of i)for(const u in l)a[u]=l[u];return a}function Ls(a){return a instanceof Number||a instanceof String||a instanceof Boolean?a.valueOf():a}function Os(a){if(Array.isArray(a))return a.map(Os);if(a instanceof Object&&!(a instanceof Number||a instanceof String||a instanceof Boolean)){const i={};for(const l in a)i[l]=Os(a[l]);return i}return Ls(a)}class xc extends Error{constructor(i,l){super(l),this.message=l,this.key=i}}var ko=xc;class Hc{constructor(i,l=[]){this.parent=i,this.bindings={};for(const[u,f]of l)this.bindings[u]=f}concat(i){return new Hc(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}var tu=Hc;const ao={kind:"null"},Xi={kind:"number"},tr={kind:"string"},cr={kind:"boolean"},Jo={kind:"color"},Va={kind:"object"},Nn={kind:"value"},bc={kind:"collator"},Ca={kind:"formatted"},nl={kind:"resolvedImage"};function Zs(a,i){return{kind:"array",itemType:a,N:i}}function Vr(a){if(a.kind==="array"){const i=Vr(a.itemType);return typeof a.N=="number"?`array<${i}, ${a.N}>`:a.itemType.kind==="value"?"array":`array<${i}>`}return a.kind}const lo=[ao,Xi,tr,cr,Jo,Ca,Va,Zs(Nn),nl];function Uo(a,i){if(i.kind==="error")return null;if(a.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!Uo(a.itemType,i.itemType))&&(typeof a.N!="number"||a.N===i.N))return null}else{if(a.kind===i.kind)return null;if(a.kind==="value"){for(const l of lo)if(!Uo(l,i))return null}}return`Expected ${Vr(a)} but found ${Vr(i)} instead.`}function Gl(a,i){return i.some(l=>l.kind===a.kind)}function pa(a,i){return i.some(l=>l==="null"?a===null:l==="array"?Array.isArray(a):l==="object"?a&&!Array.isArray(a)&&typeof a=="object":l===typeof a)}var yl,_l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function rl(a){return(a=Math.round(a))<0?0:a>255?255:a}function vl(a){return rl(a[a.length-1]==="%"?parseFloat(a)/100*255:parseInt(a))}function Yc(a){return(i=a[a.length-1]==="%"?parseFloat(a)/100:parseFloat(a))<0?0:i>1?1:i;var i}function qc(a,i,l){return l<0?l+=1:l>1&&(l-=1),6*l<1?a+(i-a)*l*6:2*l<1?i:3*l<2?a+(i-a)*(2/3-l)*6:a}try{yl={}.parseCSSColor=function(a){var i,l=a.replace(/ /g,"").toLowerCase();if(l in _l)return _l[l].slice();if(l[0]==="#")return l.length===4?(i=parseInt(l.substr(1),16))>=0&&i<=4095?[(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1]:null:l.length===7&&(i=parseInt(l.substr(1),16))>=0&&i<=16777215?[(16711680&i)>>16,(65280&i)>>8,255&i,1]:null;var u=l.indexOf("("),f=l.indexOf(")");if(u!==-1&&f+1===l.length){var v=l.substr(0,u),C=l.substr(u+1,f-(u+1)).split(","),N=1;switch(v){case"rgba":if(C.length!==4)return null;N=Yc(C.pop());case"rgb":return C.length!==3?null:[vl(C[0]),vl(C[1]),vl(C[2]),N];case"hsla":if(C.length!==4)return null;N=Yc(C.pop());case"hsl":if(C.length!==3)return null;var ee=(parseFloat(C[0])%360+360)%360/360,ne=Yc(C[1]),fe=Yc(C[2]),we=fe<=.5?fe*(ne+1):fe+ne-fe*ne,Ce=2*fe-we;return[rl(255*qc(Ce,we,ee+1/3)),rl(255*qc(Ce,we,ee)),rl(255*qc(Ce,we,ee-1/3)),N];default:return null}}return null}}catch{}class Ro{constructor(i,l,u,f=1){this.r=i,this.g=l,this.b=u,this.a=f}static parse(i){if(!i)return;if(i instanceof Ro)return i;if(typeof i!="string")return;const l=yl(i);return l?new Ro(l[0]/255*l[3],l[1]/255*l[3],l[2]/255*l[3],l[3]):void 0}toString(){const[i,l,u,f]=this.toArray();return`rgba(${Math.round(i)},${Math.round(l)},${Math.round(u)},${f})`}toArray(){const{r:i,g:l,b:u,a:f}=this;return f===0?[0,0,0,0]:[255*i/f,255*l/f,255*u/f,f]}toArray01(){const{r:i,g:l,b:u,a:f}=this;return f===0?[0,0,0,0]:[i/f,l/f,u/f,f]}toArray01PremultipliedAlpha(){const{r:i,g:l,b:u,a:f}=this;return[i,l,u,f]}}Ro.black=new Ro(0,0,0,1),Ro.white=new Ro(1,1,1,1),Ro.transparent=new Ro(0,0,0,0),Ro.red=new Ro(1,0,0,1),Ro.blue=new Ro(0,0,1,1);var As=Ro;class Wl{constructor(i,l,u){this.sensitivity=i?l?"variant":"case":l?"accent":"base",this.locale=u,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,l){return this.collator.compare(i,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class sl{constructor(i,l,u,f,v){this.text=i.normalize?i.normalize():i,this.image=l,this.scale=u,this.fontStack=f,this.textColor=v}}class Ks{constructor(i){this.sections=i}static fromString(i){return new Ks([new sl(i,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(i=>i.text.length!==0||i.image&&i.image.name.length!==0)}static factory(i){return i instanceof Ks?i:Ks.fromString(i)}toString(){return this.sections.length===0?"":this.sections.map(i=>i.text).join("")}serialize(){const i=["format"];for(const l of this.sections){if(l.image){i.push(["image",l.image.name]);continue}i.push(l.text);const u={};l.fontStack&&(u["text-font"]=["literal",l.fontStack.split(",")]),l.scale&&(u["font-scale"]=l.scale),l.textColor&&(u["text-color"]=["rgba"].concat(l.textColor.toArray())),i.push(u)}return i}}class fa{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new fa({name:i,available:!1}):null}serialize(){return["image",this.name]}}function Pu(a,i,l,u){return typeof a=="number"&&a>=0&&a<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof l=="number"&&l>=0&&l<=255?u===void 0||typeof u=="number"&&u>=0&&u<=1?null:`Invalid rgba value [${[a,i,l,u].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof u=="number"?[a,i,l,u]:[a,i,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function wd(a){if(a===null||typeof a=="string"||typeof a=="boolean"||typeof a=="number"||a instanceof As||a instanceof Wl||a instanceof Ks||a instanceof fa)return!0;if(Array.isArray(a)){for(const i of a)if(!wd(i))return!1;return!0}if(typeof a=="object"){for(const i in a)if(!wd(a[i]))return!1;return!0}return!1}function Ws(a){if(a===null)return ao;if(typeof a=="string")return tr;if(typeof a=="boolean")return cr;if(typeof a=="number")return Xi;if(a instanceof As)return Jo;if(a instanceof Wl)return bc;if(a instanceof Ks)return Ca;if(a instanceof fa)return nl;if(Array.isArray(a)){const i=a.length;let l;for(const u of a){const f=Ws(u);if(l){if(l===f)continue;l=Nn;break}l=f}return Zs(l||Nn,i)}return Va}function Hl(a){const i=typeof a;return a===null?"":i==="string"||i==="number"||i==="boolean"?String(a):a instanceof As||a instanceof Ks||a instanceof fa?a.toString():JSON.stringify(a)}class Td{constructor(i,l){this.type=i,this.value=l}static parse(i,l){if(i.length!==2)return l.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!wd(i[1]))return l.error("invalid value");const u=i[1];let f=Ws(u);const v=l.expectedType;return f.kind!=="array"||f.N!==0||!v||v.kind!=="array"||typeof v.N=="number"&&v.N!==0||(f=v),new Td(f,u)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof As?["rgba"].concat(this.value.toArray()):this.value instanceof Ks?this.value.serialize():this.value}}var Yl=Td,Js=class{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}};const xl={string:tr,number:Xi,boolean:cr,object:Va};class Sd{constructor(i,l){this.type=i,this.args=l}static parse(i,l){if(i.length<2)return l.error("Expected at least one argument.");let u,f=1;const v=i[0];if(v==="array"){let N,ee;if(i.length>2){const ne=i[1];if(typeof ne!="string"||!(ne in xl)||ne==="object")return l.error('The item type argument of "array" must be one of string, number, boolean',1);N=xl[ne],f++}else N=Nn;if(i.length>3){if(i[2]!==null&&(typeof i[2]!="number"||i[2]<0||i[2]!==Math.floor(i[2])))return l.error('The length argument to "array" must be a positive integer literal',2);ee=i[2],f++}u=Zs(N,ee)}else u=xl[v];const C=[];for(;f<i.length;f++){const N=l.parse(i[f],f,Nn);if(!N)return null;C.push(N)}return new Sd(u,C)}evaluate(i){for(let l=0;l<this.args.length;l++){const u=this.args[l].evaluate(i);if(!Uo(this.type,Ws(u)))return u;if(l===this.args.length-1)throw new Js(`Expected value to be of type ${Vr(this.type)}, but found ${Vr(Ws(u))} instead.`)}return null}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){const i=this.type,l=[i.kind];if(i.kind==="array"){const u=i.itemType;if(u.kind==="string"||u.kind==="number"||u.kind==="boolean"){l.push(u.kind);const f=i.N;(typeof f=="number"||this.args.length>1)&&l.push(f)}}return l.concat(this.args.map(u=>u.serialize()))}}var Pr=Sd;class Nr{constructor(i){this.type=Ca,this.sections=i}static parse(i,l){if(i.length<2)return l.error("Expected at least one argument.");const u=i[1];if(!Array.isArray(u)&&typeof u=="object")return l.error("First argument must be an image or text section.");const f=[];let v=!1;for(let C=1;C<=i.length-1;++C){const N=i[C];if(v&&typeof N=="object"&&!Array.isArray(N)){v=!1;let ee=null;if(N["font-scale"]&&(ee=l.parse(N["font-scale"],1,Xi),!ee))return null;let ne=null;if(N["text-font"]&&(ne=l.parse(N["text-font"],1,Zs(tr)),!ne))return null;let fe=null;if(N["text-color"]&&(fe=l.parse(N["text-color"],1,Jo),!fe))return null;const we=f[f.length-1];we.scale=ee,we.font=ne,we.textColor=fe}else{const ee=l.parse(i[C],1,Nn);if(!ee)return null;const ne=ee.type.kind;if(ne!=="string"&&ne!=="value"&&ne!=="null"&&ne!=="resolvedImage")return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");v=!0,f.push({content:ee,scale:null,font:null,textColor:null})}}return new Nr(f)}evaluate(i){return new Ks(this.sections.map(l=>{const u=l.content.evaluate(i);return Ws(u)===nl?new sl("",u,null,null,null):new sl(Hl(u),null,l.scale?l.scale.evaluate(i):null,l.font?l.font.evaluate(i).join(","):null,l.textColor?l.textColor.evaluate(i):null)}))}eachChild(i){for(const l of this.sections)i(l.content),l.scale&&i(l.scale),l.font&&i(l.font),l.textColor&&i(l.textColor)}outputDefined(){return!1}serialize(){const i=["format"];for(const l of this.sections){i.push(l.content.serialize());const u={};l.scale&&(u["font-scale"]=l.scale.serialize()),l.font&&(u["text-font"]=l.font.serialize()),l.textColor&&(u["text-color"]=l.textColor.serialize()),i.push(u)}return i}}class Cd{constructor(i){this.type=nl,this.input=i}static parse(i,l){if(i.length!==2)return l.error("Expected two arguments.");const u=l.parse(i[1],1,tr);return u?new Cd(u):l.error("No image name provided.")}evaluate(i){const l=this.input.evaluate(i),u=fa.fromString(l);return u&&i.availableImages&&(u.available=i.availableImages.indexOf(l)>-1),u}eachChild(i){i(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Du={"to-boolean":cr,"to-color":Jo,"to-number":Xi,"to-string":tr};class iu{constructor(i,l){this.type=i,this.args=l}static parse(i,l){if(i.length<2)return l.error("Expected at least one argument.");const u=i[0];if((u==="to-boolean"||u==="to-string")&&i.length!==2)return l.error("Expected one argument.");const f=Du[u],v=[];for(let C=1;C<i.length;C++){const N=l.parse(i[C],C,Nn);if(!N)return null;v.push(N)}return new iu(f,v)}evaluate(i){if(this.type.kind==="boolean")return!!this.args[0].evaluate(i);if(this.type.kind==="color"){let l,u;for(const f of this.args){if(l=f.evaluate(i),u=null,l instanceof As)return l;if(typeof l=="string"){const v=i.parseColor(l);if(v)return v}else if(Array.isArray(l)&&(u=l.length<3||l.length>4?`Invalid rbga value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:Pu(l[0],l[1],l[2],l[3]),!u))return new As(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new Js(u||`Could not parse color from value '${typeof l=="string"?l:String(JSON.stringify(l))}'`)}if(this.type.kind==="number"){let l=null;for(const u of this.args){if(l=u.evaluate(i),l===null)return 0;const f=Number(l);if(!isNaN(f))return f}throw new Js(`Could not convert ${JSON.stringify(l)} to number.`)}return this.type.kind==="formatted"?Ks.fromString(Hl(this.args[0].evaluate(i))):this.type.kind==="resolvedImage"?fa.fromString(Hl(this.args[0].evaluate(i))):Hl(this.args[0].evaluate(i))}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Nr([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Cd(this.args[0]).serialize();const i=[`to-${this.type.kind}`];return this.eachChild(l=>{i.push(l.serialize())}),i}}var ma=iu;const Xc=["Unknown","Point","LineString","Polygon"];var Ed=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Xc[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const a=this.featureDistanceData.center,i=this.featureDistanceData.scale,{x:l,y:u}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(l*i-a[0])+this.featureDistanceData.bearing[1]*(u*i-a[1])}return 0}parseColor(a){let i=this._parseColorCache[a];return i||(i=this._parseColorCache[a]=As.parse(a)),i}};class ql{constructor(i,l,u,f){this.name=i,this.type=l,this._evaluate=u,this.args=f}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(i=>i.serialize()))}static parse(i,l){const u=i[0],f=ql.definitions[u];if(!f)return l.error(`Unknown expression "${u}". If you wanted a literal array, use ["literal", [...]].`,0);const v=Array.isArray(f)?f[0]:f.type,C=Array.isArray(f)?[[f[1],f[2]]]:f.overloads,N=C.filter(([ne])=>!Array.isArray(ne)||ne.length===i.length-1);let ee=null;for(const[ne,fe]of N){ee=new Qr(l.registry,l.path,null,l.scope);const we=[];let Ce=!1;for(let Ie=1;Ie<i.length;Ie++){const Be=i[Ie],Ge=Array.isArray(ne)?ne[Ie-1]:ne.type,Je=ee.parse(Be,1+we.length,Ge);if(!Je){Ce=!0;break}we.push(Je)}if(!Ce)if(Array.isArray(ne)&&ne.length!==we.length)ee.error(`Expected ${ne.length} arguments, but found ${we.length} instead.`);else{for(let Ie=0;Ie<we.length;Ie++){const Be=Array.isArray(ne)?ne[Ie]:ne.type,Ge=we[Ie];ee.concat(Ie+1).checkSubtype(Be,Ge.type)}if(ee.errors.length===0)return new ql(u,v,fe,we)}}if(N.length===1)l.errors.push(...ee.errors);else{const ne=(N.length?N:C).map(([we])=>{return Ce=we,Array.isArray(Ce)?`(${Ce.map(Vr).join(", ")})`:`(${Vr(Ce.type)}...)`;var Ce}).join(" | "),fe=[];for(let we=1;we<i.length;we++){const Ce=l.parse(i[we],1+fe.length);if(!Ce)return null;fe.push(Vr(Ce.type))}l.error(`Expected arguments of type ${ne}, but found (${fe.join(", ")}) instead.`)}return null}static register(i,l){ql.definitions=l;for(const u in l)i[u]=ql}}var Qo=ql;class Hs{constructor(i,l,u){this.type=bc,this.locale=u,this.caseSensitive=i,this.diacriticSensitive=l}static parse(i,l){if(i.length!==2)return l.error("Expected one argument.");const u=i[1];if(typeof u!="object"||Array.isArray(u))return l.error("Collator options argument must be an object.");const f=l.parse(u["case-sensitive"]!==void 0&&u["case-sensitive"],1,cr);if(!f)return null;const v=l.parse(u["diacritic-sensitive"]!==void 0&&u["diacritic-sensitive"],1,cr);if(!v)return null;let C=null;return u.locale&&(C=l.parse(u.locale,1,tr),!C)?null:new Hs(f,v,C)}evaluate(i){return new Wl(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}serialize(){const i={};return i["case-sensitive"]=this.caseSensitive.serialize(),i["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(i.locale=this.locale.serialize()),["collator",i]}}const X=8192;function de(a,i){a[0]=Math.min(a[0],i[0]),a[1]=Math.min(a[1],i[1]),a[2]=Math.max(a[2],i[0]),a[3]=Math.max(a[3],i[1])}function xe(a,i){return!(a[0]<=i[0]||a[2]>=i[2]||a[1]<=i[1]||a[3]>=i[3])}function Ee(a,i){const l=(180+a[0])/360,u=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a[1]*Math.PI/360)))/360,f=Math.pow(2,i.z);return[Math.round(l*f*X),Math.round(u*f*X)]}function je(a,i,l){const u=a[0]-i[0],f=a[1]-i[1],v=a[0]-l[0],C=a[1]-l[1];return u*C-v*f==0&&u*v<=0&&f*C<=0}function Ve(a,i){let l=!1;for(let C=0,N=i.length;C<N;C++){const ee=i[C];for(let ne=0,fe=ee.length;ne<fe-1;ne++){if(je(a,ee[ne],ee[ne+1]))return!1;(f=ee[ne])[1]>(u=a)[1]!=(v=ee[ne+1])[1]>u[1]&&u[0]<(v[0]-f[0])*(u[1]-f[1])/(v[1]-f[1])+f[0]&&(l=!l)}}var u,f,v;return l}function Ze(a,i){for(let l=0;l<i.length;l++)if(Ve(a,i[l]))return!0;return!1}function It(a,i,l,u){const f=u[0]-l[0],v=u[1]-l[1],C=(a[0]-l[0])*v-f*(a[1]-l[1]),N=(i[0]-l[0])*v-f*(i[1]-l[1]);return C>0&&N<0||C<0&&N>0}function St(a,i,l){for(const ne of l)for(let fe=0;fe<ne.length-1;++fe)if((N=[(C=ne[fe+1])[0]-(v=ne[fe])[0],C[1]-v[1]])[0]*(ee=[(f=i)[0]-(u=a)[0],f[1]-u[1]])[1]-N[1]*ee[0]!=0&&It(u,f,v,C)&&It(v,C,u,f))return!0;var u,f,v,C,N,ee;return!1}function Zt(a,i){for(let l=0;l<a.length;++l)if(!Ve(a[l],i))return!1;for(let l=0;l<a.length-1;++l)if(St(a[l],a[l+1],i))return!1;return!0}function pi(a,i){for(let l=0;l<i.length;l++)if(Zt(a,i[l]))return!0;return!1}function ki(a,i,l){const u=[];for(let f=0;f<a.length;f++){const v=[];for(let C=0;C<a[f].length;C++){const N=Ee(a[f][C],l);de(i,N),v.push(N)}u.push(v)}return u}function si(a,i,l){const u=[];for(let f=0;f<a.length;f++){const v=ki(a[f],i,l);u.push(v)}return u}function di(a,i,l,u){if(a[0]<l[0]||a[0]>l[2]){const f=.5*u;let v=a[0]-l[0]>f?-u:l[0]-a[0]>f?u:0;v===0&&(v=a[0]-l[2]>f?-u:l[2]-a[0]>f?u:0),a[0]+=v}de(i,a)}function Yi(a,i,l,u){const f=Math.pow(2,u.z)*X,v=[u.x*X,u.y*X],C=[];if(!a)return C;for(const N of a)for(const ee of N){const ne=[ee.x+v[0],ee.y+v[1]];di(ne,i,l,f),C.push(ne)}return C}function qn(a,i,l,u){const f=Math.pow(2,u.z)*X,v=[u.x*X,u.y*X],C=[];if(!a)return C;for(const ee of a){const ne=[];for(const fe of ee){const we=[fe.x+v[0],fe.y+v[1]];de(i,we),ne.push(we)}C.push(ne)}if(i[2]-i[0]<=f/2){(N=i)[0]=N[1]=1/0,N[2]=N[3]=-1/0;for(const ee of C)for(const ne of ee)di(ne,i,l,f)}var N;return C}class pn{constructor(i,l){this.type=cr,this.geojson=i,this.geometries=l}static parse(i,l){if(i.length!==2)return l.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(wd(i[1])){const u=i[1];if(u.type==="FeatureCollection")for(let f=0;f<u.features.length;++f){const v=u.features[f].geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new pn(u,u.features[f].geometry)}else if(u.type==="Feature"){const f=u.geometry.type;if(f==="Polygon"||f==="MultiPolygon")return new pn(u,u.geometry)}else if(u.type==="Polygon"||u.type==="MultiPolygon")return new pn(u,u)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(l,u){const f=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],C=l.canonicalID();if(!C)return!1;if(u.type==="Polygon"){const N=ki(u.coordinates,v,C),ee=Yi(l.geometry(),f,v,C);if(!xe(f,v))return!1;for(const ne of ee)if(!Ve(ne,N))return!1}if(u.type==="MultiPolygon"){const N=si(u.coordinates,v,C),ee=Yi(l.geometry(),f,v,C);if(!xe(f,v))return!1;for(const ne of ee)if(!Ze(ne,N))return!1}return!0}(i,this.geometries);if(i.geometryType()==="LineString")return function(l,u){const f=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],C=l.canonicalID();if(!C)return!1;if(u.type==="Polygon"){const N=ki(u.coordinates,v,C),ee=qn(l.geometry(),f,v,C);if(!xe(f,v))return!1;for(const ne of ee)if(!Zt(ne,N))return!1}if(u.type==="MultiPolygon"){const N=si(u.coordinates,v,C),ee=qn(l.geometry(),f,v,C);if(!xe(f,v))return!1;for(const ne of ee)if(!pi(ne,N))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var ps=pn;function Jr(a){if(a instanceof Qo&&(a.name==="get"&&a.args.length===1||a.name==="feature-state"||a.name==="has"&&a.args.length===1||a.name==="properties"||a.name==="geometry-type"||a.name==="id"||/^filter-/.test(a.name))||a instanceof ps)return!1;let i=!0;return a.eachChild(l=>{i&&!Jr(l)&&(i=!1)}),i}function hr(a){if(a instanceof Qo&&a.name==="feature-state")return!1;let i=!0;return a.eachChild(l=>{i&&!hr(l)&&(i=!1)}),i}function pr(a,i){if(a instanceof Qo&&i.indexOf(a.name)>=0)return!1;let l=!0;return a.eachChild(u=>{l&&!pr(u,i)&&(l=!1)}),l}class Wn{constructor(i,l){this.type=l.type,this.name=i,this.boundExpression=l}static parse(i,l){if(i.length!==2||typeof i[1]!="string")return l.error("'var' expression requires exactly one string literal argument.");const u=i[1];return l.scope.has(u)?new Wn(u,l.scope.get(u)):l.error(`Unknown variable "${u}". Make sure "${u}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Qs=Wn;class mr{constructor(i,l=[],u,f=new tu,v=[]){this.registry=i,this.path=l,this.key=l.map(C=>`[${C}]`).join(""),this.scope=f,this.errors=v,this.expectedType=u}parse(i,l,u,f,v={}){return l?this.concat(l,u,f)._parse(i,v):this._parse(i,v)}_parse(i,l){function u(f,v,C){return C==="assert"?new Pr(v,[f]):C==="coerce"?new ma(v,[f]):f}if(i!==null&&typeof i!="string"&&typeof i!="boolean"&&typeof i!="number"||(i=["literal",i]),Array.isArray(i)){if(i.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const f=i[0];if(typeof f!="string")return this.error(`Expression name must be a string, but found ${typeof f} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const v=this.registry[f];if(v){let C=v.parse(i,this);if(!C)return null;if(this.expectedType){const N=this.expectedType,ee=C.type;if(N.kind!=="string"&&N.kind!=="number"&&N.kind!=="boolean"&&N.kind!=="object"&&N.kind!=="array"||ee.kind!=="value")if(N.kind!=="color"&&N.kind!=="formatted"&&N.kind!=="resolvedImage"||ee.kind!=="value"&&ee.kind!=="string"){if(this.checkSubtype(N,ee))return null}else C=u(C,N,l.typeAnnotation||"coerce");else C=u(C,N,l.typeAnnotation||"assert")}if(!(C instanceof Yl)&&C.type.kind!=="resolvedImage"&&Ga(C)){const N=new Ed;try{C=new Yl(C.type,C.evaluate(N))}catch(ee){return this.error(ee.message),null}}return C}return this.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(i===void 0?"'undefined' value invalid. Use null instead.":typeof i=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,l,u){const f=typeof i=="number"?this.path.concat(i):this.path,v=u?this.scope.concat(u):this.scope;return new mr(this.registry,f,l||null,v,this.errors)}error(i,...l){const u=`${this.key}${l.map(f=>`[${f}]`).join("")}`;this.errors.push(new ko(u,i))}checkSubtype(i,l){const u=Uo(i,l);return u&&this.error(u),u}}var Qr=mr;function Ga(a){if(a instanceof Qs)return Ga(a.boundExpression);if(a instanceof Qo&&a.name==="error"||a instanceof Hs||a instanceof ps)return!1;const i=a instanceof ma||a instanceof Pr;let l=!0;return a.eachChild(u=>{l=i?l&&Ga(u):l&&u instanceof Yl}),!!l&&Jr(a)&&pr(a,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Xl(a,i){const l=a.length-1;let u,f,v=0,C=l,N=0;for(;v<=C;)if(N=Math.floor((v+C)/2),u=a[N],f=a[N+1],u<=i){if(N===l||i<f)return N;v=N+1}else{if(!(u>i))throw new Js("Input is not a number.");C=N-1}return 0}class eo{constructor(i,l,u){this.type=i,this.input=l,this.labels=[],this.outputs=[];for(const[f,v]of u)this.labels.push(f),this.outputs.push(v)}static parse(i,l){if(i.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return l.error("Expected an even number of arguments.");const u=l.parse(i[1],1,Xi);if(!u)return null;const f=[];let v=null;l.expectedType&&l.expectedType.kind!=="value"&&(v=l.expectedType);for(let C=1;C<i.length;C+=2){const N=C===1?-1/0:i[C],ee=i[C+1],ne=C,fe=C+1;if(typeof N!="number")return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ne);if(f.length&&f[f.length-1][0]>=N)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ne);const we=l.parse(ee,fe,v);if(!we)return null;v=v||we.type,f.push([N,we])}return new eo(v,u,f)}evaluate(i){const l=this.labels,u=this.outputs;if(l.length===1)return u[0].evaluate(i);const f=this.input.evaluate(i);if(f<=l[0])return u[0].evaluate(i);const v=l.length;return f>=l[v-1]?u[v-1].evaluate(i):u[Xl(l,f)].evaluate(i)}eachChild(i){i(this.input);for(const l of this.outputs)i(l)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}serialize(){const i=["step",this.input.serialize()];for(let l=0;l<this.labels.length;l++)l>0&&i.push(this.labels[l]),i.push(this.outputs[l].serialize());return i}}var ea=eo;function Zn(a,i,l){return a*(1-l)+i*l}var go=Object.freeze({__proto__:null,number:Zn,color:function(a,i,l){return new As(Zn(a.r,i.r,l),Zn(a.g,i.g,l),Zn(a.b,i.b,l),Zn(a.a,i.a,l))},array:function(a,i,l){return a.map((u,f)=>Zn(u,i[f],l))}});const ta=.95047,Bo=1.08883,ga=4/29,Zl=6/29,ol=3*Zl*Zl,Md=Math.PI/180,Fr=180/Math.PI;function ya(a){return a>.008856451679035631?Math.pow(a,1/3):a/ol+ga}function Zc(a){return a>Zl?a*a*a:ol*(a-ga)}function Kl(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function zo(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Jl(a){const i=zo(a.r),l=zo(a.g),u=zo(a.b),f=ya((.4124564*i+.3575761*l+.1804375*u)/ta),v=ya((.2126729*i+.7151522*l+.072175*u)/1);return{l:116*v-16,a:500*(f-v),b:200*(v-ya((.0193339*i+.119192*l+.9503041*u)/Bo)),alpha:a.a}}function wc(a){let i=(a.l+16)/116,l=isNaN(a.a)?i:i+a.a/500,u=isNaN(a.b)?i:i-a.b/200;return i=1*Zc(i),l=ta*Zc(l),u=Bo*Zc(u),new As(Kl(3.2404542*l-1.5371385*i-.4985314*u),Kl(-.969266*l+1.8760108*i+.041556*u),Kl(.0556434*l-.2040259*i+1.0572252*u),a.alpha)}function nu(a,i,l){const u=i-a;return a+l*(u>180||u<-180?u-360*Math.round(u/360):u)}const Ql={forward:Jl,reverse:wc,interpolate:function(a,i,l){return{l:Zn(a.l,i.l,l),a:Zn(a.a,i.a,l),b:Zn(a.b,i.b,l),alpha:Zn(a.alpha,i.alpha,l)}}},ec={forward:function(a){const{l:i,a:l,b:u}=Jl(a),f=Math.atan2(u,l)*Fr;return{h:f<0?f+360:f,c:Math.sqrt(l*l+u*u),l:i,alpha:a.a}},reverse:function(a){const i=a.h*Md,l=a.c;return wc({l:a.l,a:Math.cos(i)*l,b:Math.sin(i)*l,alpha:a.alpha})},interpolate:function(a,i,l){return{h:nu(a.h,i.h,l),c:Zn(a.c,i.c,l),l:Zn(a.l,i.l,l),alpha:Zn(a.alpha,i.alpha,l)}}};var Iu=Object.freeze({__proto__:null,lab:Ql,hcl:ec});class tc{constructor(i,l,u,f,v){this.type=i,this.operator=l,this.interpolation=u,this.input=f,this.labels=[],this.outputs=[];for(const[C,N]of v)this.labels.push(C),this.outputs.push(N)}static interpolationFactor(i,l,u,f){let v=0;if(i.name==="exponential")v=ru(l,i.base,u,f);else if(i.name==="linear")v=ru(l,1,u,f);else if(i.name==="cubic-bezier"){const C=i.controlPoints;v=new P(C[0],C[1],C[2],C[3]).solve(ru(l,1,u,f))}return v}static parse(i,l){let[u,f,v,...C]=i;if(!Array.isArray(f)||f.length===0)return l.error("Expected an interpolation type expression.",1);if(f[0]==="linear")f={name:"linear"};else if(f[0]==="exponential"){const ne=f[1];if(typeof ne!="number")return l.error("Exponential interpolation requires a numeric base.",1,1);f={name:"exponential",base:ne}}else{if(f[0]!=="cubic-bezier")return l.error(`Unknown interpolation type ${String(f[0])}`,1,0);{const ne=f.slice(1);if(ne.length!==4||ne.some(fe=>typeof fe!="number"||fe<0||fe>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);f={name:"cubic-bezier",controlPoints:ne}}}if(i.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(v=l.parse(v,2,Xi),!v)return null;const N=[];let ee=null;u==="interpolate-hcl"||u==="interpolate-lab"?ee=Jo:l.expectedType&&l.expectedType.kind!=="value"&&(ee=l.expectedType);for(let ne=0;ne<C.length;ne+=2){const fe=C[ne],we=C[ne+1],Ce=ne+3,Ie=ne+4;if(typeof fe!="number")return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ce);if(N.length&&N[N.length-1][0]>=fe)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ce);const Be=l.parse(we,Ie,ee);if(!Be)return null;ee=ee||Be.type,N.push([fe,Be])}return ee.kind==="number"||ee.kind==="color"||ee.kind==="array"&&ee.itemType.kind==="number"&&typeof ee.N=="number"?new tc(ee,u,f,v,N):l.error(`Type ${Vr(ee)} is not interpolatable.`)}evaluate(i){const l=this.labels,u=this.outputs;if(l.length===1)return u[0].evaluate(i);const f=this.input.evaluate(i);if(f<=l[0])return u[0].evaluate(i);const v=l.length;if(f>=l[v-1])return u[v-1].evaluate(i);const C=Xl(l,f),N=tc.interpolationFactor(this.interpolation,f,l[C],l[C+1]),ee=u[C].evaluate(i),ne=u[C+1].evaluate(i);return this.operator==="interpolate"?go[this.type.kind.toLowerCase()](ee,ne,N):this.operator==="interpolate-hcl"?ec.reverse(ec.interpolate(ec.forward(ee),ec.forward(ne),N)):Ql.reverse(Ql.interpolate(Ql.forward(ee),Ql.forward(ne),N))}eachChild(i){i(this.input);for(const l of this.outputs)i(l)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}serialize(){let i;i=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const l=[this.operator,i,this.input.serialize()];for(let u=0;u<this.labels.length;u++)l.push(this.labels[u],this.outputs[u].serialize());return l}}function ru(a,i,l,u){const f=u-l,v=a-l;return f===0?0:i===1?v/f:(Math.pow(i,v)-1)/(Math.pow(i,f)-1)}var Ea=tc;class Ma{constructor(i,l){this.type=i,this.args=l}static parse(i,l){if(i.length<2)return l.error("Expectected at least one argument.");let u=null;const f=l.expectedType;f&&f.kind!=="value"&&(u=f);const v=[];for(const N of i.slice(1)){const ee=l.parse(N,1+v.length,u,void 0,{typeAnnotation:"omit"});if(!ee)return null;u=u||ee.type,v.push(ee)}const C=f&&v.some(N=>Uo(f,N.type));return new Ma(C?Nn:u,v)}evaluate(i){let l,u=null,f=0;for(const v of this.args){if(f++,u=v.evaluate(i),u&&u instanceof fa&&!u.available&&(l||(l=u),u=null,f===this.args.length))return l;if(u!==null)break}return u}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){const i=["coalesce"];return this.eachChild(l=>{i.push(l.serialize())}),i}}var ic=Ma;class kd{constructor(i,l){this.type=l.type,this.bindings=[].concat(i),this.result=l}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const l of this.bindings)i(l[1]);i(this.result)}static parse(i,l){if(i.length<4)return l.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const u=[];for(let v=1;v<i.length-1;v+=2){const C=i[v];if(typeof C!="string")return l.error(`Expected string, but found ${typeof C} instead.`,v);if(/[^a-zA-Z0-9_]/.test(C))return l.error("Variable names must contain only alphanumeric characters or '_'.",v);const N=l.parse(i[v+1],v+1);if(!N)return null;u.push([C,N])}const f=l.parse(i[i.length-1],i.length-1,l.expectedType,u);return f?new kd(u,f):null}outputDefined(){return this.result.outputDefined()}serialize(){const i=["let"];for(const[l,u]of this.bindings)i.push(l,u.serialize());return i.push(this.result.serialize()),i}}var Tc=kd;class ia{constructor(i,l,u){this.type=i,this.index=l,this.input=u}static parse(i,l){if(i.length!==3)return l.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const u=l.parse(i[1],1,Xi),f=l.parse(i[2],2,Zs(l.expectedType||Nn));return u&&f?new ia(f.type.itemType,u,f):null}evaluate(i){const l=this.index.evaluate(i),u=this.input.evaluate(i);if(l<0)throw new Js(`Array index out of bounds: ${l} < 0.`);if(l>=u.length)throw new Js(`Array index out of bounds: ${l} > ${u.length-1}.`);if(l!==Math.floor(l))throw new Js(`Array index must be an integer, but found ${l} instead.`);return u[l]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var yo=ia;class bl{constructor(i,l){this.type=cr,this.needle=i,this.haystack=l}static parse(i,l){if(i.length!==3)return l.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const u=l.parse(i[1],1,Nn),f=l.parse(i[2],2,Nn);return u&&f?Gl(u.type,[cr,tr,Xi,ao,Nn])?new bl(u,f):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Vr(u.type)} instead`):null}evaluate(i){const l=this.needle.evaluate(i),u=this.haystack.evaluate(i);if(u==null)return!1;if(!pa(l,["boolean","string","number","null"]))throw new Js(`Expected first argument to be of type boolean, string, number or null, but found ${Vr(Ws(l))} instead.`);if(!pa(u,["string","array"]))throw new Js(`Expected second argument to be of type array or string, but found ${Vr(Ws(u))} instead.`);return u.indexOf(l)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var nc=bl;class Sc{constructor(i,l,u){this.type=Xi,this.needle=i,this.haystack=l,this.fromIndex=u}static parse(i,l){if(i.length<=2||i.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const u=l.parse(i[1],1,Nn),f=l.parse(i[2],2,Nn);if(!u||!f)return null;if(!Gl(u.type,[cr,tr,Xi,ao,Nn]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Vr(u.type)} instead`);if(i.length===4){const v=l.parse(i[3],3,Xi);return v?new Sc(u,f,v):null}return new Sc(u,f)}evaluate(i){const l=this.needle.evaluate(i),u=this.haystack.evaluate(i);if(!pa(l,["boolean","string","number","null"]))throw new Js(`Expected first argument to be of type boolean, string, number or null, but found ${Vr(Ws(l))} instead.`);if(!pa(u,["string","array"]))throw new Js(`Expected second argument to be of type array or string, but found ${Vr(Ws(u))} instead.`);if(this.fromIndex){const f=this.fromIndex.evaluate(i);return u.indexOf(l,f)}return u.indexOf(l)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const i=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),i]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var yh=Sc;class _r{constructor(i,l,u,f,v,C){this.inputType=i,this.type=l,this.input=u,this.cases=f,this.outputs=v,this.otherwise=C}static parse(i,l){if(i.length<5)return l.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return l.error("Expected an even number of arguments.");let u,f;l.expectedType&&l.expectedType.kind!=="value"&&(f=l.expectedType);const v={},C=[];for(let ne=2;ne<i.length-1;ne+=2){let fe=i[ne];const we=i[ne+1];Array.isArray(fe)||(fe=[fe]);const Ce=l.concat(ne);if(fe.length===0)return Ce.error("Expected at least one branch label.");for(const Be of fe){if(typeof Be!="number"&&typeof Be!="string")return Ce.error("Branch labels must be numbers or strings.");if(typeof Be=="number"&&Math.abs(Be)>Number.MAX_SAFE_INTEGER)return Ce.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Be=="number"&&Math.floor(Be)!==Be)return Ce.error("Numeric branch labels must be integer values.");if(u){if(Ce.checkSubtype(u,Ws(Be)))return null}else u=Ws(Be);if(v[String(Be)]!==void 0)return Ce.error("Branch labels must be unique.");v[String(Be)]=C.length}const Ie=l.parse(we,ne,f);if(!Ie)return null;f=f||Ie.type,C.push(Ie)}const N=l.parse(i[1],1,Nn);if(!N)return null;const ee=l.parse(i[i.length-1],i.length-1,f);return ee?N.type.kind!=="value"&&l.concat(1).checkSubtype(u,N.type)?null:new _r(u,f,N,v,C,ee):null}evaluate(i){const l=this.input.evaluate(i);return(Ws(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}serialize(){const i=["match",this.input.serialize()],l=Object.keys(this.cases).sort(),u=[],f={};for(const C of l){const N=f[this.cases[C]];N===void 0?(f[this.cases[C]]=u.length,u.push([this.cases[C],[C]])):u[N][1].push(C)}const v=C=>this.inputType.kind==="number"?Number(C):C;for(const[C,N]of u)i.push(N.length===1?v(N[0]):N.map(v)),i.push(this.outputs[C].serialize());return i.push(this.otherwise.serialize()),i}}var $o=_r;class _o{constructor(i,l,u){this.type=i,this.branches=l,this.otherwise=u}static parse(i,l){if(i.length<4)return l.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return l.error("Expected an odd number of arguments.");let u;l.expectedType&&l.expectedType.kind!=="value"&&(u=l.expectedType);const f=[];for(let C=1;C<i.length-1;C+=2){const N=l.parse(i[C],C,cr);if(!N)return null;const ee=l.parse(i[C+1],C+1,u);if(!ee)return null;f.push([N,ee]),u=u||ee.type}const v=l.parse(i[i.length-1],i.length-1,u);return v?new _o(u,f,v):null}evaluate(i){for(const[l,u]of this.branches)if(l.evaluate(i))return u.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[l,u]of this.branches)i(l),i(u);i(this.otherwise)}outputDefined(){return this.branches.every(([i,l])=>l.outputDefined())&&this.otherwise.outputDefined()}serialize(){const i=["case"];return this.eachChild(l=>{i.push(l.serialize())}),i}}var na=_o;class wl{constructor(i,l,u,f){this.type=i,this.input=l,this.beginIndex=u,this.endIndex=f}static parse(i,l){if(i.length<=2||i.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const u=l.parse(i[1],1,Nn),f=l.parse(i[2],2,Xi);if(!u||!f)return null;if(!Gl(u.type,[Zs(Nn),tr,Nn]))return l.error(`Expected first argument to be of type array or string, but found ${Vr(u.type)} instead`);if(i.length===4){const v=l.parse(i[3],3,Xi);return v?new wl(u.type,u,f,v):null}return new wl(u.type,u,f)}evaluate(i){const l=this.input.evaluate(i),u=this.beginIndex.evaluate(i);if(!pa(l,["string","array"]))throw new Js(`Expected first argument to be of type array or string, but found ${Vr(Ws(l))} instead.`);if(this.endIndex){const f=this.endIndex.evaluate(i);return l.slice(u,f)}return l.slice(u)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const i=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),i]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Lu=wl;function Ou(a,i){return a==="=="||a==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function Ru(a,i,l,u){return u.compare(i,l)===0}function Vo(a,i,l){const u=a!=="=="&&a!=="!=";return class P4{constructor(v,C,N){this.type=cr,this.lhs=v,this.rhs=C,this.collator=N,this.hasUntypedArgument=v.type.kind==="value"||C.type.kind==="value"}static parse(v,C){if(v.length!==3&&v.length!==4)return C.error("Expected two or three arguments.");const N=v[0];let ee=C.parse(v[1],1,Nn);if(!ee)return null;if(!Ou(N,ee.type))return C.concat(1).error(`"${N}" comparisons are not supported for type '${Vr(ee.type)}'.`);let ne=C.parse(v[2],2,Nn);if(!ne)return null;if(!Ou(N,ne.type))return C.concat(2).error(`"${N}" comparisons are not supported for type '${Vr(ne.type)}'.`);if(ee.type.kind!==ne.type.kind&&ee.type.kind!=="value"&&ne.type.kind!=="value")return C.error(`Cannot compare types '${Vr(ee.type)}' and '${Vr(ne.type)}'.`);u&&(ee.type.kind==="value"&&ne.type.kind!=="value"?ee=new Pr(ne.type,[ee]):ee.type.kind!=="value"&&ne.type.kind==="value"&&(ne=new Pr(ee.type,[ne])));let fe=null;if(v.length===4){if(ee.type.kind!=="string"&&ne.type.kind!=="string"&&ee.type.kind!=="value"&&ne.type.kind!=="value")return C.error("Cannot use collator to compare non-string types.");if(fe=C.parse(v[3],3,bc),!fe)return null}return new P4(ee,ne,fe)}evaluate(v){const C=this.lhs.evaluate(v),N=this.rhs.evaluate(v);if(u&&this.hasUntypedArgument){const ee=Ws(C),ne=Ws(N);if(ee.kind!==ne.kind||ee.kind!=="string"&&ee.kind!=="number")throw new Js(`Expected arguments for "${a}" to be (string, string) or (number, number), but found (${ee.kind}, ${ne.kind}) instead.`)}if(this.collator&&!u&&this.hasUntypedArgument){const ee=Ws(C),ne=Ws(N);if(ee.kind!=="string"||ne.kind!=="string")return i(v,C,N)}return this.collator?l(v,C,N,this.collator.evaluate(v)):i(v,C,N)}eachChild(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)}outputDefined(){return!0}serialize(){const v=[a];return this.eachChild(C=>{v.push(C.serialize())}),v}}}const jt=Vo("==",function(a,i,l){return i===l},Ru),vi=Vo("!=",function(a,i,l){return i!==l},function(a,i,l,u){return!Ru(0,i,l,u)}),ui=Vo("<",function(a,i,l){return i<l},function(a,i,l,u){return u.compare(i,l)<0}),fn=Vo(">",function(a,i,l){return i>l},function(a,i,l,u){return u.compare(i,l)>0}),Kn=Vo("<=",function(a,i,l){return i<=l},function(a,i,l,u){return u.compare(i,l)<=0}),Or=Vo(">=",function(a,i,l){return i>=l},function(a,i,l,u){return u.compare(i,l)>=0});class zs{constructor(i,l,u,f,v,C){this.type=tr,this.number=i,this.locale=l,this.currency=u,this.unit=f,this.minFractionDigits=v,this.maxFractionDigits=C}static parse(i,l){if(i.length!==3)return l.error("Expected two arguments.");const u=l.parse(i[1],1,Xi);if(!u)return null;const f=i[2];if(typeof f!="object"||Array.isArray(f))return l.error("NumberFormat options argument must be an object.");let v=null;if(f.locale&&(v=l.parse(f.locale,1,tr),!v))return null;let C=null;if(f.currency&&(C=l.parse(f.currency,1,tr),!C))return null;let N=null;if(f.unit&&(N=l.parse(f.unit,1,tr),!N))return null;let ee=null;if(f["min-fraction-digits"]&&(ee=l.parse(f["min-fraction-digits"],1,Xi),!ee))return null;let ne=null;return f["max-fraction-digits"]&&(ne=l.parse(f["max-fraction-digits"],1,Xi),!ne)?null:new zs(u,v,C,N,ee,ne)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(i):void 0,unit:this.unit?this.unit.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.unit&&i(this.unit),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const i={};return this.locale&&(i.locale=this.locale.serialize()),this.currency&&(i.currency=this.currency.serialize()),this.unit&&(i.unit=this.unit.serialize()),this.minFractionDigits&&(i["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(i["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),i]}}class jr{constructor(i){this.type=Xi,this.input=i}static parse(i,l){if(i.length!==2)return l.error(`Expected 1 argument, but found ${i.length-1} instead.`);const u=l.parse(i[1],1);return u?u.type.kind!=="array"&&u.type.kind!=="string"&&u.type.kind!=="value"?l.error(`Expected argument of type string or array, but found ${Vr(u.type)} instead.`):new jr(u):null}evaluate(i){const l=this.input.evaluate(i);if(typeof l=="string"||Array.isArray(l))return l.length;throw new Js(`Expected value to be of type string or array, but found ${Vr(Ws(l))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}serialize(){const i=["length"];return this.eachChild(l=>{i.push(l.serialize())}),i}}const Cc={"==":jt,"!=":vi,">":fn,"<":ui,">=":Or,"<=":Kn,array:Pr,at:yo,boolean:Pr,case:na,coalesce:ic,collator:Hs,format:Nr,image:Cd,in:nc,"index-of":yh,interpolate:Ea,"interpolate-hcl":Ea,"interpolate-lab":Ea,length:jr,let:Tc,literal:Yl,match:$o,number:Pr,"number-format":zs,object:Pr,slice:Lu,step:ea,string:Pr,"to-boolean":ma,"to-color":ma,"to-number":ma,"to-string":ma,var:Qs,within:ps};function Ad(a,[i,l,u,f]){i=i.evaluate(a),l=l.evaluate(a),u=u.evaluate(a);const v=f?f.evaluate(a):1,C=Pu(i,l,u,v);if(C)throw new Js(C);return new As(i/255*v,l/255*v,u/255*v,v)}function Go(a,i){return a in i}function it(a,i){const l=i[a];return l===void 0?null:l}function Et(a){return{type:a}}Qo.register(Cc,{error:[{kind:"error"},[tr],(a,[i])=>{throw new Js(i.evaluate(a))}],typeof:[tr,[Nn],(a,[i])=>Vr(Ws(i.evaluate(a)))],"to-rgba":[Zs(Xi,4),[Jo],(a,[i])=>i.evaluate(a).toArray()],rgb:[Jo,[Xi,Xi,Xi],Ad],rgba:[Jo,[Xi,Xi,Xi,Xi],Ad],has:{type:cr,overloads:[[[tr],(a,[i])=>Go(i.evaluate(a),a.properties())],[[tr,Va],(a,[i,l])=>Go(i.evaluate(a),l.evaluate(a))]]},get:{type:Nn,overloads:[[[tr],(a,[i])=>it(i.evaluate(a),a.properties())],[[tr,Va],(a,[i,l])=>it(i.evaluate(a),l.evaluate(a))]]},"feature-state":[Nn,[tr],(a,[i])=>it(i.evaluate(a),a.featureState||{})],properties:[Va,[],a=>a.properties()],"geometry-type":[tr,[],a=>a.geometryType()],id:[Nn,[],a=>a.id()],zoom:[Xi,[],a=>a.globals.zoom],pitch:[Xi,[],a=>a.globals.pitch||0],"distance-from-center":[Xi,[],a=>a.distanceFromCenter()],"heatmap-density":[Xi,[],a=>a.globals.heatmapDensity||0],"line-progress":[Xi,[],a=>a.globals.lineProgress||0],"sky-radial-progress":[Xi,[],a=>a.globals.skyRadialProgress||0],accumulated:[Nn,[],a=>a.globals.accumulated===void 0?null:a.globals.accumulated],"+":[Xi,Et(Xi),(a,i)=>{let l=0;for(const u of i)l+=u.evaluate(a);return l}],"*":[Xi,Et(Xi),(a,i)=>{let l=1;for(const u of i)l*=u.evaluate(a);return l}],"-":{type:Xi,overloads:[[[Xi,Xi],(a,[i,l])=>i.evaluate(a)-l.evaluate(a)],[[Xi],(a,[i])=>-i.evaluate(a)]]},"/":[Xi,[Xi,Xi],(a,[i,l])=>i.evaluate(a)/l.evaluate(a)],"%":[Xi,[Xi,Xi],(a,[i,l])=>i.evaluate(a)%l.evaluate(a)],ln2:[Xi,[],()=>Math.LN2],pi:[Xi,[],()=>Math.PI],e:[Xi,[],()=>Math.E],"^":[Xi,[Xi,Xi],(a,[i,l])=>Math.pow(i.evaluate(a),l.evaluate(a))],sqrt:[Xi,[Xi],(a,[i])=>Math.sqrt(i.evaluate(a))],log10:[Xi,[Xi],(a,[i])=>Math.log(i.evaluate(a))/Math.LN10],ln:[Xi,[Xi],(a,[i])=>Math.log(i.evaluate(a))],log2:[Xi,[Xi],(a,[i])=>Math.log(i.evaluate(a))/Math.LN2],sin:[Xi,[Xi],(a,[i])=>Math.sin(i.evaluate(a))],cos:[Xi,[Xi],(a,[i])=>Math.cos(i.evaluate(a))],tan:[Xi,[Xi],(a,[i])=>Math.tan(i.evaluate(a))],asin:[Xi,[Xi],(a,[i])=>Math.asin(i.evaluate(a))],acos:[Xi,[Xi],(a,[i])=>Math.acos(i.evaluate(a))],atan:[Xi,[Xi],(a,[i])=>Math.atan(i.evaluate(a))],min:[Xi,Et(Xi),(a,i)=>Math.min(...i.map(l=>l.evaluate(a)))],max:[Xi,Et(Xi),(a,i)=>Math.max(...i.map(l=>l.evaluate(a)))],abs:[Xi,[Xi],(a,[i])=>Math.abs(i.evaluate(a))],round:[Xi,[Xi],(a,[i])=>{const l=i.evaluate(a);return l<0?-Math.round(-l):Math.round(l)}],floor:[Xi,[Xi],(a,[i])=>Math.floor(i.evaluate(a))],ceil:[Xi,[Xi],(a,[i])=>Math.ceil(i.evaluate(a))],"filter-==":[cr,[tr,Nn],(a,[i,l])=>a.properties()[i.value]===l.value],"filter-id-==":[cr,[Nn],(a,[i])=>a.id()===i.value],"filter-type-==":[cr,[tr],(a,[i])=>a.geometryType()===i.value],"filter-<":[cr,[tr,Nn],(a,[i,l])=>{const u=a.properties()[i.value],f=l.value;return typeof u==typeof f&&u<f}],"filter-id-<":[cr,[Nn],(a,[i])=>{const l=a.id(),u=i.value;return typeof l==typeof u&&l<u}],"filter->":[cr,[tr,Nn],(a,[i,l])=>{const u=a.properties()[i.value],f=l.value;return typeof u==typeof f&&u>f}],"filter-id->":[cr,[Nn],(a,[i])=>{const l=a.id(),u=i.value;return typeof l==typeof u&&l>u}],"filter-<=":[cr,[tr,Nn],(a,[i,l])=>{const u=a.properties()[i.value],f=l.value;return typeof u==typeof f&&u<=f}],"filter-id-<=":[cr,[Nn],(a,[i])=>{const l=a.id(),u=i.value;return typeof l==typeof u&&l<=u}],"filter->=":[cr,[tr,Nn],(a,[i,l])=>{const u=a.properties()[i.value],f=l.value;return typeof u==typeof f&&u>=f}],"filter-id->=":[cr,[Nn],(a,[i])=>{const l=a.id(),u=i.value;return typeof l==typeof u&&l>=u}],"filter-has":[cr,[Nn],(a,[i])=>i.value in a.properties()],"filter-has-id":[cr,[],a=>a.id()!==null&&a.id()!==void 0],"filter-type-in":[cr,[Zs(tr)],(a,[i])=>i.value.indexOf(a.geometryType())>=0],"filter-id-in":[cr,[Zs(Nn)],(a,[i])=>i.value.indexOf(a.id())>=0],"filter-in-small":[cr,[tr,Zs(Nn)],(a,[i,l])=>l.value.indexOf(a.properties()[i.value])>=0],"filter-in-large":[cr,[tr,Zs(Nn)],(a,[i,l])=>function(u,f,v,C){for(;v<=C;){const N=v+C>>1;if(f[N]===u)return!0;f[N]>u?C=N-1:v=N+1}return!1}(a.properties()[i.value],l.value,0,l.value.length-1)],all:{type:cr,overloads:[[[cr,cr],(a,[i,l])=>i.evaluate(a)&&l.evaluate(a)],[Et(cr),(a,i)=>{for(const l of i)if(!l.evaluate(a))return!1;return!0}]]},any:{type:cr,overloads:[[[cr,cr],(a,[i,l])=>i.evaluate(a)||l.evaluate(a)],[Et(cr),(a,i)=>{for(const l of i)if(l.evaluate(a))return!0;return!1}]]},"!":[cr,[cr],(a,[i])=>!i.evaluate(a)],"is-supported-script":[cr,[tr],(a,[i])=>{const l=a.globals&&a.globals.isSupportedScript;return!l||l(i.evaluate(a))}],upcase:[tr,[tr],(a,[i])=>i.evaluate(a).toUpperCase()],downcase:[tr,[tr],(a,[i])=>i.evaluate(a).toLowerCase()],concat:[tr,Et(Nn),(a,i)=>i.map(l=>Hl(l.evaluate(a))).join("")],"resolved-locale":[tr,[bc],(a,[i])=>i.evaluate(a).resolvedLocale()]});var Bt=Cc;function xi(a){return{result:"success",value:a}}function Ut(a){return{result:"error",value:a}}function ai(a){return a["property-type"]==="data-driven"}function Di(a){return!!a.expression&&a.expression.parameters.indexOf("zoom")>-1}function en(a){return!!a.expression&&a.expression.interpolated}function Bi(a){return a instanceof Number?"number":a instanceof String?"string":a instanceof Boolean?"boolean":Array.isArray(a)?"array":a===null?"null":typeof a}function Rn(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)}function Fn(a){return a}function Un(a,i){const l=i.type==="color",u=a.stops&&typeof a.stops[0][0]=="object",f=u||!(u||a.property!==void 0),v=a.type||(en(i)?"exponential":"interval");if(l&&((a=hs({},a)).stops&&(a.stops=a.stops.map(ne=>[ne[0],As.parse(ne[1])])),a.default=As.parse(a.default?a.default:i.default)),a.colorSpace&&a.colorSpace!=="rgb"&&!Iu[a.colorSpace])throw new Error(`Unknown color space: ${a.colorSpace}`);let C,N,ee;if(v==="exponential")C=be;else if(v==="interval")C=In;else if(v==="categorical"){C=Tr,N=Object.create(null);for(const ne of a.stops)N[ne[0]]=ne[1];ee=typeof a.stops[0][0]}else{if(v!=="identity")throw new Error(`Unknown function type "${v}"`);C=Se}if(u){const ne={},fe=[];for(let Ie=0;Ie<a.stops.length;Ie++){const Be=a.stops[Ie],Ge=Be[0].zoom;ne[Ge]===void 0&&(ne[Ge]={zoom:Ge,type:a.type,property:a.property,default:a.default,stops:[]},fe.push(Ge)),ne[Ge].stops.push([Be[0].value,Be[1]])}const we=[];for(const Ie of fe)we.push([ne[Ie].zoom,Un(ne[Ie],i)]);const Ce={name:"linear"};return{kind:"composite",interpolationType:Ce,interpolationFactor:Ea.interpolationFactor.bind(void 0,Ce),zoomStops:we.map(Ie=>Ie[0]),evaluate:({zoom:Ie},Be)=>be({stops:we,base:a.base},i,Ie).evaluate(Ie,Be)}}if(f){const ne=v==="exponential"?{name:"exponential",base:a.base!==void 0?a.base:1}:null;return{kind:"camera",interpolationType:ne,interpolationFactor:Ea.interpolationFactor.bind(void 0,ne),zoomStops:a.stops.map(fe=>fe[0]),evaluate:({zoom:fe})=>C(a,i,fe,N,ee)}}return{kind:"source",evaluate(ne,fe){const we=fe&&fe.properties?fe.properties[a.property]:void 0;return we===void 0?ir(a.default,i.default):C(a,i,we,N,ee)}}}function ir(a,i,l){return a!==void 0?a:i!==void 0?i:l!==void 0?l:void 0}function Tr(a,i,l,u,f){return ir(typeof l===f?u[l]:void 0,a.default,i.default)}function In(a,i,l){if(Bi(l)!=="number")return ir(a.default,i.default);const u=a.stops.length;if(u===1||l<=a.stops[0][0])return a.stops[0][1];if(l>=a.stops[u-1][0])return a.stops[u-1][1];const f=Xl(a.stops.map(v=>v[0]),l);return a.stops[f][1]}function be(a,i,l){const u=a.base!==void 0?a.base:1;if(Bi(l)!=="number")return ir(a.default,i.default);const f=a.stops.length;if(f===1||l<=a.stops[0][0])return a.stops[0][1];if(l>=a.stops[f-1][0])return a.stops[f-1][1];const v=Xl(a.stops.map(fe=>fe[0]),l),C=function(fe,we,Ce,Ie){const Be=Ie-Ce,Ge=fe-Ce;return Be===0?0:we===1?Ge/Be:(Math.pow(we,Ge)-1)/(Math.pow(we,Be)-1)}(l,u,a.stops[v][0],a.stops[v+1][0]),N=a.stops[v][1],ee=a.stops[v+1][1];let ne=go[i.type]||Fn;if(a.colorSpace&&a.colorSpace!=="rgb"){const fe=Iu[a.colorSpace];ne=(we,Ce)=>fe.reverse(fe.interpolate(fe.forward(we),fe.forward(Ce),C))}return typeof N.evaluate=="function"?{evaluate(...fe){const we=N.evaluate.apply(void 0,fe),Ce=ee.evaluate.apply(void 0,fe);if(we!==void 0&&Ce!==void 0)return ne(we,Ce,C)}}:ne(N,ee,C)}function Se(a,i,l){return i.type==="color"?l=As.parse(l):i.type==="formatted"?l=Ks.fromString(l.toString()):i.type==="resolvedImage"?l=fa.fromString(l.toString()):Bi(l)===i.type||i.type==="enum"&&i.values[l]||(l=void 0),ir(l,a.default,i.default)}class $e{constructor(i,l){this.expression=i,this._warningHistory={},this._evaluator=new Ed,this._defaultValue=l?function(u){return u.type==="color"&&(Rn(u.default)||Array.isArray(u.default))?new As(0,0,0,0):u.type==="color"?As.parse(u.default)||null:u.default===void 0?null:u.default}(l):null,this._enumValues=l&&l.type==="enum"?l.values:null}evaluateWithoutErrorHandling(i,l,u,f,v,C,N,ee){return this._evaluator.globals=i,this._evaluator.feature=l,this._evaluator.featureState=u,this._evaluator.canonical=f||null,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=C,this._evaluator.featureTileCoord=N||null,this._evaluator.featureDistanceData=ee||null,this.expression.evaluate(this._evaluator)}evaluate(i,l,u,f,v,C,N,ee){this._evaluator.globals=i,this._evaluator.feature=l||null,this._evaluator.featureState=u||null,this._evaluator.canonical=f||null,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=C||null,this._evaluator.featureTileCoord=N||null,this._evaluator.featureDistanceData=ee||null;try{const ne=this.expression.evaluate(this._evaluator);if(ne==null||typeof ne=="number"&&ne!=ne)return this._defaultValue;if(this._enumValues&&!(ne in this._enumValues))throw new Js(`Expected value to be one of ${Object.keys(this._enumValues).map(fe=>JSON.stringify(fe)).join(", ")}, but found ${JSON.stringify(ne)} instead.`);return ne}catch(ne){return this._warningHistory[ne.message]||(this._warningHistory[ne.message]=!0,typeof console<"u"&&console.warn(ne.message)),this._defaultValue}}}function vt(a){return Array.isArray(a)&&a.length>0&&typeof a[0]=="string"&&a[0]in Bt}function Si(a,i){const l=new Qr(Bt,[],i?function(f){const v={color:Jo,string:tr,number:Xi,enum:tr,boolean:cr,formatted:Ca,resolvedImage:nl};return f.type==="array"?Zs(v[f.value]||Nn,f.length):v[f.type]}(i):void 0),u=l.parse(a,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return u?xi(new $e(u,i)):Ut(l.errors)}class Tn{constructor(i,l){this.kind=i,this._styleExpression=l,this.isStateDependent=i!=="constant"&&!hr(l.expression)}evaluateWithoutErrorHandling(i,l,u,f,v,C){return this._styleExpression.evaluateWithoutErrorHandling(i,l,u,f,v,C)}evaluate(i,l,u,f,v,C){return this._styleExpression.evaluate(i,l,u,f,v,C)}}class vr{constructor(i,l,u,f){this.kind=i,this.zoomStops=u,this._styleExpression=l,this.isStateDependent=i!=="camera"&&!hr(l.expression),this.interpolationType=f}evaluateWithoutErrorHandling(i,l,u,f,v,C){return this._styleExpression.evaluateWithoutErrorHandling(i,l,u,f,v,C)}evaluate(i,l,u,f,v,C){return this._styleExpression.evaluate(i,l,u,f,v,C)}interpolationFactor(i,l,u){return this.interpolationType?Ea.interpolationFactor(this.interpolationType,i,l,u):0}}function to(a,i){if((a=Si(a,i)).result==="error")return a;const l=a.value.expression,u=Jr(l);if(!u&&!ai(i))return Ut([new ko("","data expressions not supported")]);const f=pr(l,["zoom","pitch","distance-from-center"]);if(!f&&!Di(i))return Ut([new ko("","zoom expressions not supported")]);const v=Tl(l);return v||f?v instanceof ko?Ut([v]):v instanceof Ea&&!en(i)?Ut([new ko("",'"interpolate" expressions cannot be used with this property')]):xi(v?new vr(u?"camera":"composite",a.value,v.labels,v instanceof Ea?v.interpolation:void 0):new Tn(u?"constant":"source",a.value)):Ut([new ko("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Ns{constructor(i,l){this._parameters=i,this._specification=l,hs(this,Un(this._parameters,this._specification))}static deserialize(i){return new Ns(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function Tl(a){let i=null;if(a instanceof Tc)i=Tl(a.result);else if(a instanceof ic){for(const l of a.args)if(i=Tl(l),i)break}else(a instanceof ea||a instanceof Ea)&&a.input instanceof Qo&&a.input.name==="zoom"&&(i=a);return i instanceof ko||a.eachChild(l=>{const u=Tl(l);u instanceof ko?i=u:!i&&u?i=new ko("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&u&&i!==u&&(i=new ko("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}class tn{constructor(i,l,u,f){this.message=(i?`${i}: `:"")+u,f&&(this.identifier=f),l!=null&&l.__line__&&(this.line=l.__line__)}}function Sl(a){const i=a.key,l=a.value,u=a.valueSpec||{},f=a.objectElementValidators||{},v=a.style,C=a.styleSpec;let N=[];const ee=Bi(l);if(ee!=="object")return[new tn(i,l,`object expected, ${ee} found`)];for(const ne in l){const fe=ne.split(".")[0],we=u[fe]||u["*"];let Ce;f[fe]?Ce=f[fe]:u[fe]?Ce=Jn:f["*"]?Ce=f["*"]:u["*"]&&(Ce=Jn),Ce?N=N.concat(Ce({key:(i&&`${i}.`)+ne,value:l[ne],valueSpec:we,style:v,styleSpec:C,object:l,objectKey:ne},l)):N.push(new tn(i,l[ne],`unknown property "${ne}"`))}for(const ne in u)f[ne]||u[ne].required&&u[ne].default===void 0&&l[ne]===void 0&&N.push(new tn(i,l,`missing required property "${ne}"`));return N}function Pd(a){const i=a.value,l=a.valueSpec,u=a.style,f=a.styleSpec,v=a.key,C=a.arrayElementValidator||Jn;if(Bi(i)!=="array")return[new tn(v,i,`array expected, ${Bi(i)} found`)];if(l.length&&i.length!==l.length)return[new tn(v,i,`array length ${l.length} expected, length ${i.length} found`)];if(l["min-length"]&&i.length<l["min-length"])return[new tn(v,i,`array length at least ${l["min-length"]} expected, length ${i.length} found`)];let N={type:l.value,values:l.values,minimum:l.minimum,maximum:l.maximum,function:void 0};f.$version<7&&(N.function=l.function),Bi(l.value)==="object"&&(N=l.value);let ee=[];for(let ne=0;ne<i.length;ne++)ee=ee.concat(C({array:i,arrayIndex:ne,value:i[ne],valueSpec:N,style:u,styleSpec:f,key:`${v}[${ne}]`}));return ee}function _h(a){const i=a.key,l=a.value,u=a.valueSpec;let f=Bi(l);if(f==="number"&&l!=l&&(f="NaN"),f!=="number")return[new tn(i,l,`number expected, ${f} found`)];if("minimum"in u){let v=u.minimum;if(Bi(u.minimum)==="array"&&(v=u.minimum[a.arrayIndex]),l<v)return[new tn(i,l,`${l} is less than the minimum value ${v}`)]}if("maximum"in u){let v=u.maximum;if(Bi(u.maximum)==="array"&&(v=u.maximum[a.arrayIndex]),l>v)return[new tn(i,l,`${l} is greater than the maximum value ${v}`)]}return[]}function pp(a){const i=a.valueSpec,l=Ls(a.value.type);let u,f,v,C={};const N=l!=="categorical"&&a.value.property===void 0,ee=!N,ne=Bi(a.value.stops)==="array"&&Bi(a.value.stops[0])==="array"&&Bi(a.value.stops[0][0])==="object",fe=Sl({key:a.key,value:a.value,valueSpec:a.styleSpec.function,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{stops:function(Ie){if(l==="identity")return[new tn(Ie.key,Ie.value,'identity function may not have a "stops" property')];let Be=[];const Ge=Ie.value;return Be=Be.concat(Pd({key:Ie.key,value:Ge,valueSpec:Ie.valueSpec,style:Ie.style,styleSpec:Ie.styleSpec,arrayElementValidator:we})),Bi(Ge)==="array"&&Ge.length===0&&Be.push(new tn(Ie.key,Ge,"array must have at least one stop")),Be},default:function(Ie){return Jn({key:Ie.key,value:Ie.value,valueSpec:i,style:Ie.style,styleSpec:Ie.styleSpec})}}});return l==="identity"&&N&&fe.push(new tn(a.key,a.value,'missing required property "property"')),l==="identity"||a.value.stops||fe.push(new tn(a.key,a.value,'missing required property "stops"')),l==="exponential"&&a.valueSpec.expression&&!en(a.valueSpec)&&fe.push(new tn(a.key,a.value,"exponential functions not supported")),a.styleSpec.$version>=8&&(ee&&!ai(a.valueSpec)?fe.push(new tn(a.key,a.value,"property functions not supported")):N&&!Di(a.valueSpec)&&fe.push(new tn(a.key,a.value,"zoom functions not supported"))),l!=="categorical"&&!ne||a.value.property!==void 0||fe.push(new tn(a.key,a.value,'"property" property is required')),fe;function we(Ie){let Be=[];const Ge=Ie.value,Je=Ie.key;if(Bi(Ge)!=="array")return[new tn(Je,Ge,`array expected, ${Bi(Ge)} found`)];if(Ge.length!==2)return[new tn(Je,Ge,`array length 2 expected, length ${Ge.length} found`)];if(ne){if(Bi(Ge[0])!=="object")return[new tn(Je,Ge,`object expected, ${Bi(Ge[0])} found`)];if(Ge[0].zoom===void 0)return[new tn(Je,Ge,"object stop key must have zoom")];if(Ge[0].value===void 0)return[new tn(Je,Ge,"object stop key must have value")];const gt=Ls(Ge[0].zoom);if(typeof gt!="number")return[new tn(Je,Ge[0].zoom,"stop zoom values must be numbers")];if(v&&v>gt)return[new tn(Je,Ge[0].zoom,"stop zoom values must appear in ascending order")];gt!==v&&(v=gt,f=void 0,C={}),Be=Be.concat(Sl({key:`${Je}[0]`,value:Ge[0],valueSpec:{zoom:{}},style:Ie.style,styleSpec:Ie.styleSpec,objectElementValidators:{zoom:_h,value:Ce}}))}else Be=Be.concat(Ce({key:`${Je}[0]`,value:Ge[0],valueSpec:{},style:Ie.style,styleSpec:Ie.styleSpec},Ge));return vt(Os(Ge[1]))?Be.concat([new tn(`${Je}[1]`,Ge[1],"expressions are not allowed in function stops.")]):Be.concat(Jn({key:`${Je}[1]`,value:Ge[1],valueSpec:i,style:Ie.style,styleSpec:Ie.styleSpec}))}function Ce(Ie,Be){const Ge=Bi(Ie.value),Je=Ls(Ie.value),gt=Ie.value!==null?Ie.value:Be;if(u){if(Ge!==u)return[new tn(Ie.key,gt,`${Ge} stop domain type must match previous stop domain type ${u}`)]}else u=Ge;if(Ge!=="number"&&Ge!=="string"&&Ge!=="boolean"&&typeof Je!="number"&&typeof Je!="string"&&typeof Je!="boolean")return[new tn(Ie.key,gt,"stop domain value must be a number, string, or boolean")];if(Ge!=="number"&&l!=="categorical"){let Mt=`number expected, ${Ge} found`;return ai(i)&&l===void 0&&(Mt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new tn(Ie.key,gt,Mt)]}return l!=="categorical"||Ge!=="number"||typeof Je=="number"&&isFinite(Je)&&Math.floor(Je)===Je?l!=="categorical"&&Ge==="number"&&typeof Je=="number"&&typeof f=="number"&&f!==void 0&&Je<f?[new tn(Ie.key,gt,"stop domain values must appear in ascending order")]:(f=Je,l==="categorical"&&Je in C?[new tn(Ie.key,gt,"stop domain values must be unique")]:(C[Je]=!0,[])):[new tn(Ie.key,gt,`integer expected, found ${String(Je)}`)]}}function Bu(a){const i=(a.expressionContext==="property"?to:Si)(Os(a.value),a.valueSpec);if(i.result==="error")return i.value.map(u=>new tn(`${a.key}${u.key}`,a.value,u.message));const l=i.value.expression||i.value._styleExpression.expression;if(a.expressionContext==="property"&&a.propertyKey==="text-font"&&!l.outputDefined())return[new tn(a.key,a.value,`Invalid data expression for "${a.propertyKey}". Output values must be contained as literals within the expression.`)];if(a.expressionContext==="property"&&a.propertyType==="layout"&&!hr(l))return[new tn(a.key,a.value,'"feature-state" data expressions are not supported with layout properties.')];if(a.expressionContext==="filter")return Ef(l,a);if(a.expressionContext&&a.expressionContext.indexOf("cluster")===0){if(!pr(l,["zoom","feature-state"]))return[new tn(a.key,a.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(a.expressionContext==="cluster-initial"&&!Jr(l))return[new tn(a.key,a.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ef(a,i){const l=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(i.valueSpec&&i.valueSpec.expression)for(const f of i.valueSpec.expression.parameters)l.delete(f);if(l.size===0)return[];const u=[];return a instanceof Qo&&l.has(a.name)?[new tn(i.key,i.value,`["${a.name}"] expression is not supported in a filter for a ${i.object.type} layer with id: ${i.object.id}`)]:(a.eachChild(f=>{u.push(...Ef(f,i))}),u)}function fp(a){const i=a.key,l=a.value,u=a.valueSpec,f=[];return Array.isArray(u.values)?u.values.indexOf(Ls(l))===-1&&f.push(new tn(i,l,`expected one of [${u.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(u.values).indexOf(Ls(l))===-1&&f.push(new tn(i,l,`expected one of [${Object.keys(u.values).join(", ")}], ${JSON.stringify(l)} found`)),f}function zu(a){if(a===!0||a===!1)return!0;if(!Array.isArray(a)||a.length===0)return!1;switch(a[0]){case"has":return a.length>=2&&a[1]!=="$id"&&a[1]!=="$type";case"in":return a.length>=3&&(typeof a[1]!="string"||Array.isArray(a[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return a.length!==3||Array.isArray(a[1])||Array.isArray(a[2]);case"any":case"all":for(const i of a.slice(1))if(!zu(i)&&typeof i!="boolean")return!1;return!0;default:return!0}}function Fs(a,i="fill"){if(a==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};zu(a)||(a=Ec(a));const l=a;let u=!0;try{u=function(ne){if(!Nu(ne))return ne;let fe=Os(ne);return vh(fe),fe=fs(fe),fe}(l)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(l,null,2)}
        `)}const f=hi[`filter_${i}`],v=Si(u,f);let C=null;if(v.result==="error")throw new Error(v.value.map(ne=>`${ne.key}: ${ne.message}`).join(", "));C=(ne,fe,we)=>v.value.evaluate(ne,fe,{},we);let N=null,ee=null;if(u!==l){const ne=Si(l,f);if(ne.result==="error")throw new Error(ne.value.map(fe=>`${fe.key}: ${fe.message}`).join(", "));N=(fe,we,Ce,Ie,Be)=>ne.value.evaluate(fe,we,{},Ce,void 0,void 0,Ie,Be),ee=!Jr(ne.value.expression)}return{filter:C,dynamicFilter:N||void 0,needGeometry:mp(u),needFeature:!!ee}}function fs(a){if(!Array.isArray(a))return a;const i=function(l){if(rm.has(l[0])){for(let u=1;u<l.length;u++)if(Nu(l[u]))return!0}return l}(a);return i===!0?i:i.map(l=>fs(l))}function vh(a){let i=!1;const l=[];if(a[0]==="case"){for(let u=1;u<a.length-1;u+=2)i=i||Nu(a[u]),l.push(a[u+1]);l.push(a[a.length-1])}else if(a[0]==="match"){i=i||Nu(a[1]);for(let u=2;u<a.length-1;u+=2)l.push(a[u+1]);l.push(a[a.length-1])}else if(a[0]==="step"){i=i||Nu(a[1]);for(let u=1;u<a.length-1;u+=2)l.push(a[u+1])}i&&(a.length=0,a.push("any",...l));for(let u=1;u<a.length;u++)vh(a[u])}function Nu(a){if(!Array.isArray(a))return!1;if((i=a[0])==="pitch"||i==="distance-from-center")return!0;var i;for(let l=1;l<a.length;l++)if(Nu(a[l]))return!0;return!1}const rm=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function qg(a,i){return a<i?-1:a>i?1:0}function mp(a){if(!Array.isArray(a))return!1;if(a[0]==="within")return!0;for(let i=1;i<a.length;i++)if(mp(a[i]))return!0;return!1}function Ec(a){if(!a)return!0;const i=a[0];return a.length<=1?i!=="any":i==="=="?xh(a[1],a[2],"=="):i==="!="?Dd(xh(a[1],a[2],"==")):i==="<"||i===">"||i==="<="||i===">="?xh(a[1],a[2],i):i==="any"?(l=a.slice(1),["any"].concat(l.map(Ec))):i==="all"?["all"].concat(a.slice(1).map(Ec)):i==="none"?["all"].concat(a.slice(1).map(Ec).map(Dd)):i==="in"?Kc(a[1],a.slice(2)):i==="!in"?Dd(Kc(a[1],a.slice(2))):i==="has"?Fu(a[1]):i==="!has"?Dd(Fu(a[1])):i!=="within"||a;var l}function xh(a,i,l){switch(a){case"$type":return[`filter-type-${l}`,i];case"$id":return[`filter-id-${l}`,i];default:return[`filter-${l}`,a,i]}}function Kc(a,i){if(i.length===0)return!1;switch(a){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(l=>typeof l!=typeof i[0])?["filter-in-large",a,["literal",i.sort(qg)]]:["filter-in-small",a,["literal",i]]}}function Fu(a){switch(a){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",a]}}function Dd(a){return["!",a]}function Id(a){return zu(Os(a.value))?Bu(hs({},a,{expressionContext:"filter",valueSpec:a.styleSpec[`filter_${a.layerType||"fill"}`]})):su(a)}function su(a){const i=a.value,l=a.key;if(Bi(i)!=="array")return[new tn(l,i,`array expected, ${Bi(i)} found`)];const u=a.styleSpec;let f,v=[];if(i.length<1)return[new tn(l,i,"filter array must have at least 1 element")];switch(v=v.concat(fp({key:`${l}[0]`,value:i[0],valueSpec:u.filter_operator,style:a.style,styleSpec:a.styleSpec})),Ls(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&Ls(i[1])==="$type"&&v.push(new tn(l,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":i.length!==3&&v.push(new tn(l,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(f=Bi(i[1]),f!=="string"&&v.push(new tn(`${l}[1]`,i[1],`string expected, ${f} found`)));for(let C=2;C<i.length;C++)f=Bi(i[C]),Ls(i[1])==="$type"?v=v.concat(fp({key:`${l}[${C}]`,value:i[C],valueSpec:u.geometry_type,style:a.style,styleSpec:a.styleSpec})):f!=="string"&&f!=="number"&&f!=="boolean"&&v.push(new tn(`${l}[${C}]`,i[C],`string, number, or boolean expected, ${f} found`));break;case"any":case"all":case"none":for(let C=1;C<i.length;C++)v=v.concat(su({key:`${l}[${C}]`,value:i[C],style:a.style,styleSpec:a.styleSpec}));break;case"has":case"!has":f=Bi(i[1]),i.length!==2?v.push(new tn(l,i,`filter array for "${i[0]}" operator must have 2 elements`)):f!=="string"&&v.push(new tn(`${l}[1]`,i[1],`string expected, ${f} found`));break;case"within":f=Bi(i[1]),i.length!==2?v.push(new tn(l,i,`filter array for "${i[0]}" operator must have 2 elements`)):f!=="object"&&v.push(new tn(`${l}[1]`,i[1],`object expected, ${f} found`))}return v}function Mf(a,i){const l=a.key,u=a.style,f=a.styleSpec,v=a.value,C=a.objectKey,N=f[`${i}_${a.layerType}`];if(!N)return[];const ee=C.match(/^(.*)-transition$/);if(i==="paint"&&ee&&N[ee[1]]&&N[ee[1]].transition)return Jn({key:l,value:v,valueSpec:f.transition,style:u,styleSpec:f});const ne=a.valueSpec||N[C];if(!ne)return[new tn(l,v,`unknown property "${C}"`)];let fe;if(Bi(v)==="string"&&ai(ne)&&!ne.tokens&&(fe=/^{([^}]+)}$/.exec(v)))return[new tn(l,v,`"${C}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(fe[1])} }\`.`)];const we=[];return a.layerType==="symbol"&&(C==="text-field"&&u&&!u.glyphs&&we.push(new tn(l,v,'use of "text-field" requires a style "glyphs" property')),C==="text-font"&&Rn(Os(v))&&Ls(v.type)==="identity"&&we.push(new tn(l,v,'"text-font" does not support identity functions'))),we.concat(Jn({key:a.key,value:v,valueSpec:ne,style:u,styleSpec:f,expressionContext:"property",propertyType:i,propertyKey:C}))}function kf(a){return Mf(a,"paint")}function sm(a){return Mf(a,"layout")}function gp(a){let i=[];const l=a.value,u=a.key,f=a.style,v=a.styleSpec;l.type||l.ref||i.push(new tn(u,l,'either "type" or "ref" is required'));let C=Ls(l.type);const N=Ls(l.ref);if(l.id){const ee=Ls(l.id);for(let ne=0;ne<a.arrayIndex;ne++){const fe=f.layers[ne];Ls(fe.id)===ee&&i.push(new tn(u,l.id,`duplicate layer id "${l.id}", previously used at line ${fe.id.__line__}`))}}if("ref"in l){let ee;["type","source","source-layer","filter","layout"].forEach(ne=>{ne in l&&i.push(new tn(u,l[ne],`"${ne}" is prohibited for ref layers`))}),f.layers.forEach(ne=>{Ls(ne.id)===N&&(ee=ne)}),ee?ee.ref?i.push(new tn(u,l.ref,"ref cannot reference another ref layer")):C=Ls(ee.type):typeof N=="string"&&i.push(new tn(u,l.ref,`ref layer "${N}" not found`))}else if(C!=="background"&&C!=="sky")if(l.source){const ee=f.sources&&f.sources[l.source],ne=ee&&Ls(ee.type);ee?ne==="vector"&&C==="raster"?i.push(new tn(u,l.source,`layer "${l.id}" requires a raster source`)):ne==="raster"&&C!=="raster"?i.push(new tn(u,l.source,`layer "${l.id}" requires a vector source`)):ne!=="vector"||l["source-layer"]?ne==="raster-dem"&&C!=="hillshade"?i.push(new tn(u,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):C!=="line"||!l.paint||!l.paint["line-gradient"]&&!l.paint["line-trim-offset"]||ne==="geojson"&&ee.lineMetrics||i.push(new tn(u,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new tn(u,l,`layer "${l.id}" must specify a "source-layer"`)):i.push(new tn(u,l.source,`source "${l.source}" not found`))}else i.push(new tn(u,l,'missing required property "source"'));return i=i.concat(Sl({key:u,value:l,valueSpec:v.layer,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Jn({key:`${u}.type`,value:l.type,valueSpec:v.layer.type,style:a.style,styleSpec:a.styleSpec,object:l,objectKey:"type"}),filter:ee=>Id(hs({layerType:C},ee)),layout:ee=>Sl({layer:l,key:ee.key,value:ee.value,valueSpec:{},style:ee.style,styleSpec:ee.styleSpec,objectElementValidators:{"*":ne=>sm(hs({layerType:C},ne))}}),paint:ee=>Sl({layer:l,key:ee.key,value:ee.value,valueSpec:{},style:ee.style,styleSpec:ee.styleSpec,objectElementValidators:{"*":ne=>kf(hs({layerType:C},ne))}})}})),i}function Jc(a){const i=a.value,l=a.key,u=Bi(i);return u!=="string"?[new tn(l,i,`string expected, ${u} found`)]:[]}const ju={promoteId:function({key:a,value:i}){if(Bi(i)==="string")return Jc({key:a,value:i});{const l=[];for(const u in i)l.push(...Jc({key:`${a}.${u}`,value:i[u]}));return l}}};function Uu(a){const i=a.value,l=a.key,u=a.styleSpec,f=a.style;if(!i.type)return[new tn(l,i,'"type" is required')];const v=Ls(i.type);let C;switch(v){case"vector":case"raster":case"raster-dem":return C=Sl({key:l,value:i,valueSpec:u[`source_${v.replace("-","_")}`],style:a.style,styleSpec:u,objectElementValidators:ju}),C;case"geojson":if(C=Sl({key:l,value:i,valueSpec:u.source_geojson,style:f,styleSpec:u,objectElementValidators:ju}),i.cluster)for(const N in i.clusterProperties){const[ee,ne]=i.clusterProperties[N],fe=typeof ee=="string"?[ee,["accumulated"],["get",N]]:ee;C.push(...Bu({key:`${l}.${N}.map`,value:ne,expressionContext:"cluster-map"})),C.push(...Bu({key:`${l}.${N}.reduce`,value:fe,expressionContext:"cluster-reduce"}))}return C;case"video":return Sl({key:l,value:i,valueSpec:u.source_video,style:f,styleSpec:u});case"image":return Sl({key:l,value:i,valueSpec:u.source_image,style:f,styleSpec:u});case"canvas":return[new tn(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return fp({key:`${l}.type`,value:i.type,valueSpec:{values:Af(u)},style:f,styleSpec:u})}}function Af(a){return a.source.reduce((i,l)=>{const u=a[l];return u.type.type==="enum"&&(i=i.concat(Object.keys(u.type.values))),i},[])}function et(a){const i=a.value,l=a.styleSpec,u=l.light,f=a.style;let v=[];const C=Bi(i);if(i===void 0)return v;if(C!=="object")return v=v.concat([new tn("light",i,`object expected, ${C} found`)]),v;for(const N in i){const ee=N.match(/^(.*)-transition$/);v=v.concat(ee&&u[ee[1]]&&u[ee[1]].transition?Jn({key:N,value:i[N],valueSpec:l.transition,style:f,styleSpec:l}):u[N]?Jn({key:N,value:i[N],valueSpec:u[N],style:f,styleSpec:l}):[new tn(N,i[N],`unknown property "${N}"`)])}return v}function Qc(a){const i=a.value,l=a.key,u=a.style,f=a.styleSpec,v=f.terrain;let C=[];const N=Bi(i);if(i===void 0)return C;if(N!=="object")return C=C.concat([new tn("terrain",i,`object expected, ${N} found`)]),C;for(const ee in i){const ne=ee.match(/^(.*)-transition$/);C=C.concat(ne&&v[ne[1]]&&v[ne[1]].transition?Jn({key:ee,value:i[ee],valueSpec:f.transition,style:u,styleSpec:f}):v[ee]?Jn({key:ee,value:i[ee],valueSpec:v[ee],style:u,styleSpec:f}):[new tn(ee,i[ee],`unknown property "${ee}"`)])}if(i.source){const ee=u.sources&&u.sources[i.source],ne=ee&&Ls(ee.type);ee?ne!=="raster-dem"&&C.push(new tn(l,i.source,`terrain cannot be used with a source of type ${String(ne)}, it only be used with a "raster-dem" source type`)):C.push(new tn(l,i.source,`source "${i.source}" not found`))}else C.push(new tn(l,i,'terrain is missing required property "source"'));return C}function bh(a){const i=a.value,l=a.style,u=a.styleSpec,f=u.fog;let v=[];const C=Bi(i);if(i===void 0)return v;if(C!=="object")return v=v.concat([new tn("fog",i,`object expected, ${C} found`)]),v;for(const N in i){const ee=N.match(/^(.*)-transition$/);v=v.concat(ee&&f[ee[1]]&&f[ee[1]].transition?Jn({key:N,value:i[N],valueSpec:u.transition,style:l,styleSpec:u}):f[N]?Jn({key:N,value:i[N],valueSpec:f[N],style:l,styleSpec:u}):[new tn(N,i[N],`unknown property "${N}"`)])}return v}const al={"*":()=>[],array:Pd,boolean:function(a){const i=a.value,l=a.key,u=Bi(i);return u!=="boolean"?[new tn(l,i,`boolean expected, ${u} found`)]:[]},number:_h,color:function(a){const i=a.key,l=a.value,u=Bi(l);return u!=="string"?[new tn(i,l,`color expected, ${u} found`)]:yl(l)===null?[new tn(i,l,`color expected, "${l}" found`)]:[]},enum:fp,filter:Id,function:pp,layer:gp,object:Sl,source:Uu,light:et,terrain:Qc,fog:bh,string:Jc,formatted:function(a){return Jc(a).length===0?[]:Bu(a)},resolvedImage:function(a){return Jc(a).length===0?[]:Bu(a)},projection:function(a){const i=a.value,l=a.styleSpec,u=l.projection,f=a.style;let v=[];const C=Bi(i);if(C==="object")for(const N in i)v=v.concat(Jn({key:N,value:i[N],valueSpec:u[N],style:f,styleSpec:l}));else C!=="string"&&(v=v.concat([new tn("projection",i,`object or string expected, ${C} found`)]));return v}};function Jn(a){const i=a.value,l=a.valueSpec,u=a.styleSpec;return l.expression&&Rn(Ls(i))?pp(a):l.expression&&vt(Os(i))?Bu(a):l.type&&al[l.type]?al[l.type](a):Sl(hs({},a,{valueSpec:l.type?u[l.type]:l}))}function Xg(a){const i=a.value,l=a.key,u=Jc(a);return u.length||(i.indexOf("{fontstack}")===-1&&u.push(new tn(l,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&u.push(new tn(l,i,'"glyphs" url must include a "{range}" token'))),u}function Pf(a,i=hi){return ed(Jn({key:"",value:a,valueSpec:i.$root,styleSpec:i,style:a,objectElementValidators:{glyphs:Xg,"*":()=>[]}}))}const Zg=a=>ed(kf(a)),ou=a=>ed(sm(a));function ed(a){return a.slice().sort((i,l)=>i.line&&l.line?i.line-l.line:0)}function om(a,i){let l=!1;if(i&&i.length)for(const u of i)a.fire(new $a(new Error(u.message))),l=!0;return l}var $u=Mc;function Mc(a,i,l){var u=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;var f=new Int32Array(this.arrayBuffer);a=f[0],this.d=(i=f[1])+2*(l=f[2]);for(var v=0;v<this.d*this.d;v++){var C=f[3+v],N=f[3+v+1];u.push(C===N?null:f.subarray(C,N))}var ee=f[3+u.length+1];this.keys=f.subarray(f[3+u.length],ee),this.bboxes=f.subarray(ee),this.insert=this._insertReadonly}else{this.d=i+2*l;for(var ne=0;ne<this.d*this.d;ne++)u.push([]);this.keys=[],this.bboxes=[]}this.n=i,this.extent=a,this.padding=l,this.scale=i/a,this.uid=0;var fe=l/i*a;this.min=-fe,this.max=a+fe}Mc.prototype.insert=function(a,i,l,u,f){this._forEachCell(i,l,u,f,this._insertCell,this.uid++),this.keys.push(a),this.bboxes.push(i),this.bboxes.push(l),this.bboxes.push(u),this.bboxes.push(f)},Mc.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Mc.prototype._insertCell=function(a,i,l,u,f,v){this.cells[f].push(v)},Mc.prototype.query=function(a,i,l,u,f){var v=this.min,C=this.max;if(a<=v&&i<=v&&C<=l&&C<=u&&!f)return Array.prototype.slice.call(this.keys);var N=[];return this._forEachCell(a,i,l,u,this._queryCell,N,{},f),N},Mc.prototype._queryCell=function(a,i,l,u,f,v,C,N){var ee=this.cells[f];if(ee!==null)for(var ne=this.keys,fe=this.bboxes,we=0;we<ee.length;we++){var Ce=ee[we];if(C[Ce]===void 0){var Ie=4*Ce;(N?N(fe[Ie+0],fe[Ie+1],fe[Ie+2],fe[Ie+3]):a<=fe[Ie+2]&&i<=fe[Ie+3]&&l>=fe[Ie+0]&&u>=fe[Ie+1])?(C[Ce]=!0,v.push(ne[Ce])):C[Ce]=!1}}},Mc.prototype._forEachCell=function(a,i,l,u,f,v,C,N){for(var ee=this._convertToCellCoord(a),ne=this._convertToCellCoord(i),fe=this._convertToCellCoord(l),we=this._convertToCellCoord(u),Ce=ee;Ce<=fe;Ce++)for(var Ie=ne;Ie<=we;Ie++){var Be=this.d*Ie+Ce;if((!N||N(this._convertFromCellCoord(Ce),this._convertFromCellCoord(Ie),this._convertFromCellCoord(Ce+1),this._convertFromCellCoord(Ie+1)))&&f.call(this,a,i,l,u,Be,v,C,N))return}},Mc.prototype._convertFromCellCoord=function(a){return(a-this.padding)/this.scale},Mc.prototype._convertToCellCoord=function(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))},Mc.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var a=this.cells,i=3+this.cells.length+1+1,l=0,u=0;u<this.cells.length;u++)l+=this.cells[u].length;var f=new Int32Array(i+l+this.keys.length+this.bboxes.length);f[0]=this.extent,f[1]=this.n,f[2]=this.padding;for(var v=i,C=0;C<a.length;C++){var N=a[C];f[3+C]=v,f.set(N,v),v+=N.length}return f[3+a.length]=v,f.set(this.keys,v),f[3+a.length+1]=v+=this.keys.length,f.set(this.bboxes,v),v+=this.bboxes.length,f.buffer};const yp={};function Ji(a,i,l={}){Object.defineProperty(a,"_classRegistryKey",{value:i,writeable:!1}),yp[i]={klass:a,omit:l.omit||[]}}Ji(Object,"Object"),$u.serialize=function(a,i){const l=a.toArrayBuffer();return i&&i.push(l),{buffer:l}},$u.deserialize=function(a){return new $u(a.buffer)},Object.defineProperty($u,"name",{value:"Grid"}),Ji($u,"Grid"),Ji(As,"Color"),Ji(Error,"Error"),Ji(Mi,"AJAXError"),Ji(fa,"ResolvedImage"),Ji(Ns,"StylePropertyFunction"),Ji($e,"StyleExpression",{omit:["_evaluator"]}),Ji(vr,"ZoomDependentExpression"),Ji(Tn,"ZoomConstantExpression"),Ji(Qo,"CompoundExpression",{omit:["_evaluate"]});for(const a in Bt)yp[Bt[a]._classRegistryKey]||Ji(Bt[a],`Expression${a}`);function am(a){return a&&typeof ArrayBuffer<"u"&&(a instanceof ArrayBuffer||a.constructor&&a.constructor.name==="ArrayBuffer")}function lm(a){return b.ImageBitmap&&a instanceof b.ImageBitmap}function Ld(a,i){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp)return a;if(am(a)||lm(a))return i&&i.push(a),a;if(ArrayBuffer.isView(a)){const l=a;return i&&i.push(l.buffer),l}if(a instanceof b.ImageData)return i&&i.push(a.data.buffer),a;if(Array.isArray(a)){const l=[];for(const u of a)l.push(Ld(u,i));return l}if(typeof a=="object"){const l=a.constructor,u=l._classRegistryKey;if(!u)throw new Error(`can't serialize object of unregistered class ${u}`);const f=l.serialize?l.serialize(a,i):{};if(!l.serialize){for(const v in a)a.hasOwnProperty(v)&&(yp[u].omit.indexOf(v)>=0||(f[v]=Ld(a[v],i)));a instanceof Error&&(f.message=a.message)}if(f.$name)throw new Error("$name property is reserved for worker serialization logic.");return u!=="Object"&&(f.$name=u),f}throw new Error("can't serialize object of type "+typeof a)}function wh(a){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp||am(a)||lm(a)||ArrayBuffer.isView(a)||a instanceof b.ImageData)return a;if(Array.isArray(a))return a.map(wh);if(typeof a=="object"){const i=a.$name||"Object",{klass:l}=yp[i];if(!l)throw new Error(`can't deserialize unregistered class ${i}`);if(l.deserialize)return l.deserialize(a);const u=Object.create(l.prototype);for(const f of Object.keys(a))f!=="$name"&&(u[f]=wh(a[f]));return u}throw new Error("can't deserialize object of type "+typeof a)}const Df=a=>a>=1536&&a<=1791,kc=a=>a>=1872&&a<=1919,If=a=>a>=2208&&a<=2303,Lf=a=>a>=11904&&a<=12031,Of=a=>a>=12032&&a<=12255,Rf=a=>a>=12272&&a<=12287,Vu=a=>a>=12288&&a<=12351,rc=a=>a>=12352&&a<=12447,_p=a=>a>=12448&&a<=12543,cm=a=>a>=12544&&a<=12591,ll=a=>a>=12704&&a<=12735,dm=a=>a>=12736&&a<=12783,um=a=>a>=12784&&a<=12799,hm=a=>a>=12800&&a<=13055,pm=a=>a>=13056&&a<=13311,fm=a=>a>=13312&&a<=19903,vp=a=>a>=19968&&a<=40959,Bf=a=>a>=40960&&a<=42127,mm=a=>a>=42128&&a<=42191,zf=a=>a>=44032&&a<=55215,au=a=>a>=63744&&a<=64255,_=a=>a>=64336&&a<=65023,c=a=>a>=65040&&a<=65055,p=a=>a>=65072&&a<=65103,T=a=>a>=65104&&a<=65135,B=a=>a>=65136&&a<=65279,W=a=>a>=65280&&a<=65519;function se(a){for(const i of a)if(De(i.charCodeAt(0)))return!0;return!1}function ue(a){for(const i of a)if(!me(i.charCodeAt(0)))return!1;return!0}function me(a){return!(Df(a)||kc(a)||If(a)||_(a)||B(a))}function De(a){return!(a!==746&&a!==747&&(a<4352||!(ll(a)||cm(a)||p(a)&&!(a>=65097&&a<=65103)||au(a)||pm(a)||Lf(a)||dm(a)||!(!Vu(a)||a>=12296&&a<=12305||a>=12308&&a<=12319||a===12336)||fm(a)||vp(a)||hm(a)||(i=>i>=12592&&i<=12687)(a)||(i=>i>=43360&&i<=43391)(a)||(i=>i>=55216&&i<=55295)(a)||(i=>i>=4352&&i<=4607)(a)||zf(a)||rc(a)||Rf(a)||(i=>i>=12688&&i<=12703)(a)||Of(a)||um(a)||_p(a)&&a!==12540||!(!W(a)||a===65288||a===65289||a===65293||a>=65306&&a<=65310||a===65339||a===65341||a===65343||a>=65371&&a<=65503||a===65507||a>=65512&&a<=65519)||!(!T(a)||a>=65112&&a<=65118||a>=65123&&a<=65126)||(i=>i>=5120&&i<=5759)(a)||(i=>i>=6320&&i<=6399)(a)||c(a)||(i=>i>=19904&&i<=19967)(a)||Bf(a)||mm(a))))}function Ae(a){return!(De(a)||function(i){return!!((l=>l>=128&&l<=255)(i)&&(i===167||i===169||i===174||i===177||i===188||i===189||i===190||i===215||i===247)||(l=>l>=8192&&l<=8303)(i)&&(i===8214||i===8224||i===8225||i===8240||i===8241||i===8251||i===8252||i===8258||i===8263||i===8264||i===8265||i===8273)||(l=>l>=8448&&l<=8527)(i)||(l=>l>=8528&&l<=8591)(i)||(l=>l>=8960&&l<=9215)(i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215)||(l=>l>=9216&&l<=9279)(i)&&i!==9251||(l=>l>=9280&&l<=9311)(i)||(l=>l>=9312&&l<=9471)(i)||(l=>l>=9632&&l<=9727)(i)||(l=>l>=9728&&l<=9983)(i)&&!(i>=9754&&i<=9759)||(l=>l>=11008&&l<=11263)(i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||Vu(i)||_p(i)||(l=>l>=57344&&l<=63743)(i)||p(i)||T(i)||W(i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533)}(a))}function Fe(a){return a>=1424&&a<=2303||_(a)||B(a)}function qe(a,i){return!(!i&&Fe(a)||a>=2304&&a<=3583||a>=3840&&a<=4255||(l=>l>=6016&&l<=6143)(a))}function ot(a){for(const i of a)if(Fe(i.charCodeAt(0)))return!0;return!1}const at="deferred",dt="loading",Ke="loaded";let tt=null,pt="unavailable",lt=null;const xt=function(a){a&&typeof a=="string"&&a.indexOf("NetworkError")>-1&&(pt="error"),tt&&tt(a)};function At(){Tt.fire(new Ua("pluginStateChange",{pluginStatus:pt,pluginURL:lt}))}const Tt=new mo,zt=function(){return pt},ei=function(){if(pt!==at||!lt)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");pt=dt,At(),lt&&Nt({url:lt},a=>{a?xt(a):(pt=Ke,At())})},Kt={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>pt===Ke||Kt.applyArabicShaping!=null,isLoading:()=>pt===dt,setState(a){pt=a.pluginStatus,lt=a.pluginURL},isParsed:()=>Kt.applyArabicShaping!=null&&Kt.processBidirectionalText!=null&&Kt.processStyledBidirectionalText!=null,getPluginURL:()=>lt};class Vt{constructor(i,l){this.zoom=i,l?(this.now=l.now,this.fadeDuration=l.fadeDuration,this.transition=l.transition,this.pitch=l.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(i){return function(l,u){for(const f of l)if(!qe(f.charCodeAt(0),u))return!1;return!0}(i,Kt.isLoaded())}}class Ei{constructor(i,l){this.property=i,this.value=l,this.expression=function(u,f){if(Rn(u))return new Ns(u,f);if(vt(u)){const v=to(u,f);if(v.result==="error")throw new Error(v.value.map(C=>`${C.key}: ${C.message}`).join(", "));return v.value}{let v=u;return typeof u=="string"&&f.type==="color"&&(v=As.parse(u)),{kind:"constant",evaluate:()=>v}}}(l===void 0?i.specification.default:l,i.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(i,l,u){return this.property.possiblyEvaluate(this,i,l,u)}}class qt{constructor(i){this.property=i,this.value=new Ei(i,void 0)}transitioned(i,l){return new ni(this.property,this.value,l,K({},i.transition,this.transition),i.now)}untransitioned(){return new ni(this.property,this.value,null,{},0)}}class mi{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return ve(this._values[i].value.value)}setValue(i,l){this._values.hasOwnProperty(i)||(this._values[i]=new qt(this._values[i].property)),this._values[i].value=new Ei(this._values[i].property,l===null?void 0:ve(l))}getTransition(i){return ve(this._values[i].transition)}setTransition(i,l){this._values.hasOwnProperty(i)||(this._values[i]=new qt(this._values[i].property)),this._values[i].transition=ve(l)||void 0}serialize(){const i={};for(const l of Object.keys(this._values)){const u=this.getValue(l);u!==void 0&&(i[l]=u);const f=this.getTransition(l);f!==void 0&&(i[`${l}-transition`]=f)}return i}transitioned(i,l){const u=new Oi(this._properties);for(const f of Object.keys(this._values))u._values[f]=this._values[f].transitioned(i,l._values[f]);return u}untransitioned(){const i=new Oi(this._properties);for(const l of Object.keys(this._values))i._values[l]=this._values[l].untransitioned();return i}}class ni{constructor(i,l,u,f,v){const C=f.delay||0,N=f.duration||0;v=v||0,this.property=i,this.value=l,this.begin=v+C,this.end=this.begin+N,i.specification.transition&&(f.delay||f.duration)&&(this.prior=u)}possiblyEvaluate(i,l,u){const f=i.now||0,v=this.value.possiblyEvaluate(i,l,u),C=this.prior;if(C){if(f>this.end)return this.prior=null,v;if(this.value.isDataDriven())return this.prior=null,v;if(f<this.begin)return C.possiblyEvaluate(i,l,u);{const N=(f-this.begin)/(this.end-this.begin);return this.property.interpolate(C.possiblyEvaluate(i,l,u),v,w(N))}}return v}}class Oi{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,l,u){const f=new zi(this._properties);for(const v of Object.keys(this._values))f._values[v]=this._values[v].possiblyEvaluate(i,l,u);return f}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class ri{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}getValue(i){return ve(this._values[i].value)}setValue(i,l){this._values[i]=new Ei(this._values[i].property,l===null?void 0:ve(l))}serialize(){const i={};for(const l of Object.keys(this._values)){const u=this.getValue(l);u!==void 0&&(i[l]=u)}return i}possiblyEvaluate(i,l,u){const f=new zi(this._properties);for(const v of Object.keys(this._values))f._values[v]=this._values[v].possiblyEvaluate(i,l,u);return f}}class wi{constructor(i,l,u){this.property=i,this.value=l,this.parameters=u}isConstant(){return this.value.kind==="constant"}constantOr(i){return this.value.kind==="constant"?this.value.value:i}evaluate(i,l,u,f){return this.property.evaluate(this.value,this.parameters,i,l,u,f)}}class zi{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class Ht{constructor(i){this.specification=i}possiblyEvaluate(i,l){return i.expression.evaluate(l)}interpolate(i,l,u){const f=go[this.specification.type];return f?f(i,l,u):i}}class ii{constructor(i,l){this.specification=i,this.overrides=l}possiblyEvaluate(i,l,u,f){return new wi(this,i.expression.kind==="constant"||i.expression.kind==="camera"?{kind:"constant",value:i.expression.evaluate(l,null,{},u,f)}:i.expression,l)}interpolate(i,l,u){if(i.value.kind!=="constant"||l.value.kind!=="constant")return i;if(i.value.value===void 0||l.value.value===void 0)return new wi(this,{kind:"constant",value:void 0},i.parameters);const f=go[this.specification.type];return f?new wi(this,{kind:"constant",value:f(i.value.value,l.value.value,u)},i.parameters):i}evaluate(i,l,u,f,v,C){return i.kind==="constant"?i.value:i.evaluate(l,u,f,v,C)}}class mn{constructor(i){this.specification=i}possiblyEvaluate(i,l,u,f){return!!i.expression.evaluate(l,null,{},u,f)}interpolate(){return!1}}class Sn{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const l=new Vt(0,{});for(const u in i){const f=i[u];f.specification.overridable&&this.overridableProperties.push(u);const v=this.defaultPropertyValues[u]=new Ei(f,void 0),C=this.defaultTransitionablePropertyValues[u]=new qt(f);this.defaultTransitioningPropertyValues[u]=C.untransitioned(),this.defaultPossiblyEvaluatedValues[u]=v.possiblyEvaluate(l)}}}function gn(a,i){return 256*(a=g(Math.floor(a),0,255))+g(Math.floor(i),0,255)}Ji(ii,"DataDrivenProperty"),Ji(Ht,"DataConstantProperty"),Ji(mn,"ColorRampProperty");const jn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class or{constructor(i,l){this._structArray=i,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class kn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,l){return i._trim(),l&&(i.isTransferred=!0,l.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const l=Object.create(this.prototype);return l.arrayBuffer=i.arrayBuffer,l.length=i.length,l.capacity=i.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function an(a,i=1){let l=0,u=0;return{members:a.map(f=>{const v=jn[f.type].BYTES_PER_ELEMENT,C=l=is(l,Math.max(i,v)),N=f.components||1;return u=Math.max(u,v),l+=v*N,{name:f.name,type:f.type,components:N,offset:C}}),size:is(l,Math.max(u,i)),alignment:i}}function is(a,i){return Math.ceil(a/i)*i}class Gr extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l){const u=this.length;return this.resize(u+1),this.emplace(u,i,l)}emplace(i,l,u){const f=2*i;return this.int16[f+0]=l,this.int16[f+1]=u,i}}Gr.prototype.bytesPerElement=4,Ji(Gr,"StructArrayLayout2i4");class rs extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,u){const f=this.length;return this.resize(f+1),this.emplace(f,i,l,u)}emplace(i,l,u,f){const v=3*i;return this.int16[v+0]=l,this.int16[v+1]=u,this.int16[v+2]=f,i}}rs.prototype.bytesPerElement=6,Ji(rs,"StructArrayLayout3i6");class es extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,u,f){const v=this.length;return this.resize(v+1),this.emplace(v,i,l,u,f)}emplace(i,l,u,f,v){const C=4*i;return this.int16[C+0]=l,this.int16[C+1]=u,this.int16[C+2]=f,this.int16[C+3]=v,i}}es.prototype.bytesPerElement=8,Ji(es,"StructArrayLayout4i8");class Wa extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,u,f,v,C,N){const ee=this.length;return this.resize(ee+1),this.emplace(ee,i,l,u,f,v,C,N)}emplace(i,l,u,f,v,C,N,ee){const ne=6*i,fe=12*i,we=3*i;return this.int16[ne+0]=l,this.int16[ne+1]=u,this.uint8[fe+4]=f,this.uint8[fe+5]=v,this.uint8[fe+6]=C,this.uint8[fe+7]=N,this.float32[we+2]=ee,i}}Wa.prototype.bytesPerElement=12,Ji(Wa,"StructArrayLayout2i4ub1f12");class ka extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,u,f){const v=this.length;return this.resize(v+1),this.emplace(v,i,l,u,f)}emplace(i,l,u,f,v){const C=4*i;return this.float32[C+0]=l,this.float32[C+1]=u,this.float32[C+2]=f,this.float32[C+3]=v,i}}ka.prototype.bytesPerElement=16,Ji(ka,"StructArrayLayout4f16");class _a extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,u,f,v){const C=this.length;return this.resize(C+1),this.emplace(C,i,l,u,f,v)}emplace(i,l,u,f,v,C){const N=6*i,ee=3*i;return this.uint16[N+0]=l,this.uint16[N+1]=u,this.uint16[N+2]=f,this.uint16[N+3]=v,this.float32[ee+2]=C,i}}_a.prototype.bytesPerElement=12,Ji(_a,"StructArrayLayout4ui1f12");class sc extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,u,f){const v=this.length;return this.resize(v+1),this.emplace(v,i,l,u,f)}emplace(i,l,u,f,v){const C=4*i;return this.uint16[C+0]=l,this.uint16[C+1]=u,this.uint16[C+2]=f,this.uint16[C+3]=v,i}}sc.prototype.bytesPerElement=8,Ji(sc,"StructArrayLayout4ui8");class ms extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,u,f,v,C){const N=this.length;return this.resize(N+1),this.emplace(N,i,l,u,f,v,C)}emplace(i,l,u,f,v,C,N){const ee=6*i;return this.int16[ee+0]=l,this.int16[ee+1]=u,this.int16[ee+2]=f,this.int16[ee+3]=v,this.int16[ee+4]=C,this.int16[ee+5]=N,i}}ms.prototype.bytesPerElement=12,Ji(ms,"StructArrayLayout6i12");class ts extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,u,f,v,C,N,ee,ne,fe,we,Ce){const Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,i,l,u,f,v,C,N,ee,ne,fe,we,Ce)}emplace(i,l,u,f,v,C,N,ee,ne,fe,we,Ce,Ie){const Be=12*i;return this.int16[Be+0]=l,this.int16[Be+1]=u,this.int16[Be+2]=f,this.int16[Be+3]=v,this.uint16[Be+4]=C,this.uint16[Be+5]=N,this.uint16[Be+6]=ee,this.uint16[Be+7]=ne,this.int16[Be+8]=fe,this.int16[Be+9]=we,this.int16[Be+10]=Ce,this.int16[Be+11]=Ie,i}}ts.prototype.bytesPerElement=24,Ji(ts,"StructArrayLayout4i4ui4i24");class Ur extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,u,f,v,C){const N=this.length;return this.resize(N+1),this.emplace(N,i,l,u,f,v,C)}emplace(i,l,u,f,v,C,N){const ee=10*i,ne=5*i;return this.int16[ee+0]=l,this.int16[ee+1]=u,this.int16[ee+2]=f,this.float32[ne+2]=v,this.float32[ne+3]=C,this.float32[ne+4]=N,i}}Ur.prototype.bytesPerElement=20,Ji(Ur,"StructArrayLayout3i3f20");class no extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const l=this.length;return this.resize(l+1),this.emplace(l,i)}emplace(i,l){return this.uint32[1*i+0]=l,i}}no.prototype.bytesPerElement=4,Ji(no,"StructArrayLayout1ul4");class ra extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,u,f,v,C,N,ee,ne,fe,we,Ce,Ie){const Be=this.length;return this.resize(Be+1),this.emplace(Be,i,l,u,f,v,C,N,ee,ne,fe,we,Ce,Ie)}emplace(i,l,u,f,v,C,N,ee,ne,fe,we,Ce,Ie,Be){const Ge=20*i,Je=10*i;return this.int16[Ge+0]=l,this.int16[Ge+1]=u,this.int16[Ge+2]=f,this.int16[Ge+3]=v,this.int16[Ge+4]=C,this.float32[Je+3]=N,this.float32[Je+4]=ee,this.float32[Je+5]=ne,this.float32[Je+6]=fe,this.int16[Ge+14]=we,this.uint32[Je+8]=Ce,this.uint16[Ge+18]=Ie,this.uint16[Ge+19]=Be,i}}ra.prototype.bytesPerElement=40,Ji(ra,"StructArrayLayout5i4f1i1ul2ui40");class gs extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,u,f,v,C,N){const ee=this.length;return this.resize(ee+1),this.emplace(ee,i,l,u,f,v,C,N)}emplace(i,l,u,f,v,C,N,ee){const ne=8*i;return this.int16[ne+0]=l,this.int16[ne+1]=u,this.int16[ne+2]=f,this.int16[ne+4]=v,this.int16[ne+5]=C,this.int16[ne+6]=N,this.int16[ne+7]=ee,i}}gs.prototype.bytesPerElement=16,Ji(gs,"StructArrayLayout3i2i2i16");class va extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,u,f,v){const C=this.length;return this.resize(C+1),this.emplace(C,i,l,u,f,v)}emplace(i,l,u,f,v,C){const N=4*i,ee=8*i;return this.float32[N+0]=l,this.float32[N+1]=u,this.float32[N+2]=f,this.int16[ee+6]=v,this.int16[ee+7]=C,i}}va.prototype.bytesPerElement=16,Ji(va,"StructArrayLayout2f1f2i16");class Th extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,u,f){const v=this.length;return this.resize(v+1),this.emplace(v,i,l,u,f)}emplace(i,l,u,f,v){const C=12*i,N=3*i;return this.uint8[C+0]=l,this.uint8[C+1]=u,this.float32[N+1]=f,this.float32[N+2]=v,i}}Th.prototype.bytesPerElement=12,Ji(Th,"StructArrayLayout2ub2f12");class oc extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,u){const f=this.length;return this.resize(f+1),this.emplace(f,i,l,u)}emplace(i,l,u,f){const v=3*i;return this.float32[v+0]=l,this.float32[v+1]=u,this.float32[v+2]=f,i}}oc.prototype.bytesPerElement=12,Ji(oc,"StructArrayLayout3f12");class sa extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,u){const f=this.length;return this.resize(f+1),this.emplace(f,i,l,u)}emplace(i,l,u,f){const v=3*i;return this.uint16[v+0]=l,this.uint16[v+1]=u,this.uint16[v+2]=f,i}}sa.prototype.bytesPerElement=6,Ji(sa,"StructArrayLayout3ui6");class Ha extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i,l,u,f,v,C,N,ee,ne,fe,we,Ce,Ie,Be,Ge,Je,gt,Mt,mt,bt,Pt){const kt=this.length;return this.resize(kt+1),this.emplace(kt,i,l,u,f,v,C,N,ee,ne,fe,we,Ce,Ie,Be,Ge,Je,gt,Mt,mt,bt,Pt)}emplace(i,l,u,f,v,C,N,ee,ne,fe,we,Ce,Ie,Be,Ge,Je,gt,Mt,mt,bt,Pt,kt){const Qt=30*i,Jt=15*i,gi=60*i;return this.int16[Qt+0]=l,this.int16[Qt+1]=u,this.int16[Qt+2]=f,this.float32[Jt+2]=v,this.float32[Jt+3]=C,this.uint16[Qt+8]=N,this.uint16[Qt+9]=ee,this.uint32[Jt+5]=ne,this.uint32[Jt+6]=fe,this.uint32[Jt+7]=we,this.uint16[Qt+16]=Ce,this.uint16[Qt+17]=Ie,this.uint16[Qt+18]=Be,this.float32[Jt+10]=Ge,this.float32[Jt+11]=Je,this.uint8[gi+48]=gt,this.uint8[gi+49]=Mt,this.uint8[gi+50]=mt,this.uint32[Jt+13]=bt,this.int16[Qt+28]=Pt,this.uint8[gi+58]=kt,i}}Ha.prototype.bytesPerElement=60,Ji(Ha,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Ac extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i,l,u,f,v,C,N,ee,ne,fe,we,Ce,Ie,Be,Ge,Je,gt,Mt,mt,bt,Pt,kt,Qt,Jt,gi,Fi,oi,bi,Ti,Li){const ji=this.length;return this.resize(ji+1),this.emplace(ji,i,l,u,f,v,C,N,ee,ne,fe,we,Ce,Ie,Be,Ge,Je,gt,Mt,mt,bt,Pt,kt,Qt,Jt,gi,Fi,oi,bi,Ti,Li)}emplace(i,l,u,f,v,C,N,ee,ne,fe,we,Ce,Ie,Be,Ge,Je,gt,Mt,mt,bt,Pt,kt,Qt,Jt,gi,Fi,oi,bi,Ti,Li,ji){const li=38*i,Zi=19*i;return this.int16[li+0]=l,this.int16[li+1]=u,this.int16[li+2]=f,this.float32[Zi+2]=v,this.float32[Zi+3]=C,this.int16[li+8]=N,this.int16[li+9]=ee,this.int16[li+10]=ne,this.int16[li+11]=fe,this.int16[li+12]=we,this.int16[li+13]=Ce,this.uint16[li+14]=Ie,this.uint16[li+15]=Be,this.uint16[li+16]=Ge,this.uint16[li+17]=Je,this.uint16[li+18]=gt,this.uint16[li+19]=Mt,this.uint16[li+20]=mt,this.uint16[li+21]=bt,this.uint16[li+22]=Pt,this.uint16[li+23]=kt,this.uint16[li+24]=Qt,this.uint16[li+25]=Jt,this.uint16[li+26]=gi,this.uint16[li+27]=Fi,this.uint16[li+28]=oi,this.uint32[Zi+15]=bi,this.float32[Zi+16]=Ti,this.float32[Zi+17]=Li,this.float32[Zi+18]=ji,i}}Ac.prototype.bytesPerElement=76,Ji(Ac,"StructArrayLayout3i2f6i15ui1ul3f76");class Cl extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const l=this.length;return this.resize(l+1),this.emplace(l,i)}emplace(i,l){return this.float32[1*i+0]=l,i}}Cl.prototype.bytesPerElement=4,Ji(Cl,"StructArrayLayout1f4");class fr extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,u,f,v){const C=this.length;return this.resize(C+1),this.emplace(C,i,l,u,f,v)}emplace(i,l,u,f,v,C){const N=5*i;return this.float32[N+0]=l,this.float32[N+1]=u,this.float32[N+2]=f,this.float32[N+3]=v,this.float32[N+4]=C,i}}fr.prototype.bytesPerElement=20,Ji(fr,"StructArrayLayout5f20");class Gu extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,u,f){const v=this.length;return this.resize(v+1),this.emplace(v,i,l,u,f)}emplace(i,l,u,f,v){const C=6*i;return this.uint32[3*i+0]=l,this.uint16[C+2]=u,this.uint16[C+3]=f,this.uint16[C+4]=v,i}}Gu.prototype.bytesPerElement=12,Ji(Gu,"StructArrayLayout1ul3ui12");class Pc extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l){const u=this.length;return this.resize(u+1),this.emplace(u,i,l)}emplace(i,l,u){const f=2*i;return this.uint16[f+0]=l,this.uint16[f+1]=u,i}}Pc.prototype.bytesPerElement=4,Ji(Pc,"StructArrayLayout2ui4");class lu extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const l=this.length;return this.resize(l+1),this.emplace(l,i)}emplace(i,l){return this.uint16[1*i+0]=l,i}}lu.prototype.bytesPerElement=2,Ji(lu,"StructArrayLayout1ui2");class Nf extends kn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l){const u=this.length;return this.resize(u+1),this.emplace(u,i,l)}emplace(i,l,u){const f=2*i;return this.float32[f+0]=l,this.float32[f+1]=u,i}}Nf.prototype.bytesPerElement=8,Ji(Nf,"StructArrayLayout2f8");class S_ extends or{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}S_.prototype.size=40;class Kg extends ra{get(i){return new S_(this,i)}}Ji(Kg,"CollisionBoxArray");class ac extends or{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(i){this._structArray.uint8[this._pos1+49]=i}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(i){this._structArray.uint8[this._pos1+50]=i}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(i){this._structArray.uint32[this._pos4+13]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(i){this._structArray.uint8[this._pos1+58]=i}}ac.prototype.size=60;class C_ extends Ha{get(i){return new ac(this,i)}}Ji(C_,"PlacedSymbolArray");class Ff extends or{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(i){this._structArray.uint32[this._pos4+15]=i}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Ff.prototype.size=76;class gm extends Ac{get(i){return new Ff(this,i)}}Ji(gm,"SymbolInstanceArray");class Jg extends Cl{getoffsetX(i){return this.float32[1*i+0]}}Ji(Jg,"GlyphOffsetArray");class Qg extends Gr{getx(i){return this.int16[2*i+0]}gety(i){return this.int16[2*i+1]}}Ji(Qg,"SymbolLineVertexArray");class El extends or{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}El.prototype.size=12;class cu extends Gu{get(i){return new El(this,i)}}Ji(cu,"FeatureIndexArray");class ym extends Pc{geta_centroid_pos0(i){return this.uint16[2*i+0]}geta_centroid_pos1(i){return this.uint16[2*i+1]}}Ji(ym,"FillExtrusionCentroidArray");const E_=an([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),_m=an([{name:"a_dash",components:4,type:"Uint16"}]);var Sh={exports:{}},vm={exports:{}};vm.exports=function(a,i){var l,u,f,v,C,N,ee,ne;for(u=a.length-(l=3&a.length),f=i,C=3432918353,N=461845907,ne=0;ne<u;)ee=255&a.charCodeAt(ne)|(255&a.charCodeAt(++ne))<<8|(255&a.charCodeAt(++ne))<<16|(255&a.charCodeAt(++ne))<<24,++ne,f=27492+(65535&(v=5*(65535&(f=(f^=ee=(65535&(ee=(ee=(65535&ee)*C+(((ee>>>16)*C&65535)<<16)&4294967295)<<15|ee>>>17))*N+(((ee>>>16)*N&65535)<<16)&4294967295)<<13|f>>>19))+((5*(f>>>16)&65535)<<16)&4294967295))+((58964+(v>>>16)&65535)<<16);switch(ee=0,l){case 3:ee^=(255&a.charCodeAt(ne+2))<<16;case 2:ee^=(255&a.charCodeAt(ne+1))<<8;case 1:f^=ee=(65535&(ee=(ee=(65535&(ee^=255&a.charCodeAt(ne)))*C+(((ee>>>16)*C&65535)<<16)&4294967295)<<15|ee>>>17))*N+(((ee>>>16)*N&65535)<<16)&4294967295}return f^=a.length,f=2246822507*(65535&(f^=f>>>16))+((2246822507*(f>>>16)&65535)<<16)&4294967295,f=3266489909*(65535&(f^=f>>>13))+((3266489909*(f>>>16)&65535)<<16)&4294967295,(f^=f>>>16)>>>0};var e1={exports:{}};e1.exports=function(a,i){for(var l,u=a.length,f=i^u,v=0;u>=4;)l=1540483477*(65535&(l=255&a.charCodeAt(v)|(255&a.charCodeAt(++v))<<8|(255&a.charCodeAt(++v))<<16|(255&a.charCodeAt(++v))<<24))+((1540483477*(l>>>16)&65535)<<16),f=1540483477*(65535&f)+((1540483477*(f>>>16)&65535)<<16)^(l=1540483477*(65535&(l^=l>>>24))+((1540483477*(l>>>16)&65535)<<16)),u-=4,++v;switch(u){case 3:f^=(255&a.charCodeAt(v+2))<<16;case 2:f^=(255&a.charCodeAt(v+1))<<8;case 1:f=1540483477*(65535&(f^=255&a.charCodeAt(v)))+((1540483477*(f>>>16)&65535)<<16)}return f=1540483477*(65535&(f^=f>>>13))+((1540483477*(f>>>16)&65535)<<16),(f^=f>>>15)>>>0};var xm=vm.exports,t1=e1.exports;Sh.exports=xm,Sh.exports.murmur3=xm,Sh.exports.murmur2=t1;class td{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,l,u,f){this.ids.push(M_(i)),this.positions.push(l,u,f)}getPositions(i){const l=M_(i);let u=0,f=this.ids.length-1;for(;u<f;){const C=u+f>>1;this.ids[C]>=l?f=C:u=C+1}const v=[];for(;this.ids[u]===l;)v.push({index:this.positions[3*u],start:this.positions[3*u+1],end:this.positions[3*u+2]}),u++;return v}static serialize(i,l){const u=new Float64Array(i.ids),f=new Uint32Array(i.positions);return Od(u,f,0,u.length-1),l&&l.push(u.buffer,f.buffer),{ids:u,positions:f}}static deserialize(i){const l=new td;return l.ids=i.ids,l.positions=i.positions,l.indexed=!0,l}}function M_(a){const i=+a;return!isNaN(i)&&Number.MIN_SAFE_INTEGER<=i&&i<=Number.MAX_SAFE_INTEGER?i:Sh.exports(String(a))}function Od(a,i,l,u){for(;l<u;){const f=a[l+u>>1];let v=l-1,C=u+1;for(;;){do v++;while(a[v]<f);do C--;while(a[C]>f);if(v>=C)break;jf(a,v,C),jf(i,3*v,3*C),jf(i,3*v+1,3*C+1),jf(i,3*v+2,3*C+2)}C-l<u-C?(Od(a,i,l,C),l=C+1):(Od(a,i,C+1,u),u=C)}}function jf(a,i,l){const u=a[i];a[i]=a[l],a[l]=u}Ji(td,"FeaturePositionMap");class Rd{constructor(i){this.gl=i.gl,this.initialized=!1}fetchUniformLocation(i,l){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(i,l),this.initialized=!0),!!this.location}}class xp extends Rd{constructor(i){super(i),this.current=0}set(i,l,u){this.fetchUniformLocation(i,l)&&this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))}}class k_ extends Rd{constructor(i){super(i),this.current=[0,0,0,0]}set(i,l,u){this.fetchUniformLocation(i,l)&&(u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3])))}}class A_ extends Rd{constructor(i){super(i),this.current=As.transparent}set(i,l,u){this.fetchUniformLocation(i,l)&&(u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a)))}}const c2=new Float32Array(16),P_=new Float32Array(9),D_=new Float32Array(4);function i1(a){return[gn(255*a.r,255*a.g),gn(255*a.b,255*a.a)]}class bp{constructor(i,l,u){this.value=i,this.uniformNames=l.map(f=>`u_${f}`),this.type=u}setUniform(i,l,u,f,v){l.set(i,v,f.constantOr(this.value))}getBinding(i,l){return this.type==="color"?new A_(i):new xp(i)}}class Ch{constructor(i,l){this.uniformNames=l.map(u=>`u_${u}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(i){this.pixelRatio=i.pixelRatio||1,this.pattern=i.tl.concat(i.br)}setUniform(i,l,u,f,v){const C=v==="u_pattern"||v==="u_dash"?this.pattern:v==="u_pixel_ratio"?this.pixelRatio:null;C&&l.set(i,v,C)}getBinding(i,l){return l==="u_pattern"||l==="u_dash"?new k_(i):new xp(i)}}class Ao{constructor(i,l,u,f){this.expression=i,this.type=u,this.maxValue=0,this.paintVertexAttributes=l.map(v=>({name:`a_${v}`,type:"Float32",components:u==="color"?2:1,offset:0})),this.paintVertexArray=new f}populatePaintArray(i,l,u,f,v,C){const N=this.paintVertexArray.length,ee=this.expression.evaluate(new Vt(0),l,{},v,f,C);this.paintVertexArray.resize(i),this._setPaintValue(N,i,ee)}updatePaintArray(i,l,u,f,v){const C=this.expression.evaluate({zoom:0},u,f,void 0,v);this._setPaintValue(i,l,C)}_setPaintValue(i,l,u){if(this.type==="color"){const f=i1(u);for(let v=i;v<l;v++)this.paintVertexArray.emplace(v,f[0],f[1])}else{for(let f=i;f<l;f++)this.paintVertexArray.emplace(f,u);this.maxValue=Math.max(this.maxValue,Math.abs(u))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Wo{constructor(i,l,u,f,v,C){this.expression=i,this.uniformNames=l.map(N=>`u_${N}_t`),this.type=u,this.useIntegerZoom=f,this.zoom=v,this.maxValue=0,this.paintVertexAttributes=l.map(N=>({name:`a_${N}`,type:"Float32",components:u==="color"?4:2,offset:0})),this.paintVertexArray=new C}populatePaintArray(i,l,u,f,v,C){const N=this.expression.evaluate(new Vt(this.zoom),l,{},v,f,C),ee=this.expression.evaluate(new Vt(this.zoom+1),l,{},v,f,C),ne=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(ne,i,N,ee)}updatePaintArray(i,l,u,f,v){const C=this.expression.evaluate({zoom:this.zoom},u,f,void 0,v),N=this.expression.evaluate({zoom:this.zoom+1},u,f,void 0,v);this._setPaintValue(i,l,C,N)}_setPaintValue(i,l,u,f){if(this.type==="color"){const v=i1(u),C=i1(f);for(let N=i;N<l;N++)this.paintVertexArray.emplace(N,v[0],v[1],C[0],C[1])}else{for(let v=i;v<l;v++)this.paintVertexArray.emplace(v,u,f);this.maxValue=Math.max(this.maxValue,Math.abs(u),Math.abs(f))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,l,u,f,v){const C=this.useIntegerZoom?Math.floor(u.zoom):u.zoom,N=g(this.expression.interpolationFactor(C,this.zoom,this.zoom+1),0,1);l.set(i,v,N)}getBinding(i,l){return new xp(i)}}class Wu{constructor(i,l,u,f,v){this.expression=i,this.layerId=v,this.paintVertexAttributes=(u==="array"?_m:E_).members;for(let C=0;C<l.length;++C);this.paintVertexArray=new f}populatePaintArray(i,l,u){const f=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValues(f,i,l.patterns&&l.patterns[this.layerId],u)}updatePaintArray(i,l,u,f,v,C){this._setPaintValues(i,l,u.patterns&&u.patterns[this.layerId],C)}_setPaintValues(i,l,u,f){if(!f||!u)return;const v=f[u];if(!v)return;const{tl:C,br:N,pixelRatio:ee}=v;for(let ne=i;ne<l;ne++)this.paintVertexArray.emplace(ne,C[0],C[1],N[0],N[1],ee)}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Hu{constructor(i,l,u=()=>!0){this.binders={},this._buffers=[];const f=[];for(const v in i.paint._values){if(!u(v))continue;const C=i.paint.get(v);if(!(C instanceof wi&&ai(C.property.specification)))continue;const N=I_(v,i.type),ee=C.value,ne=C.property.specification.type,fe=C.property.useIntegerZoom,we=v==="line-dasharray"||v.endsWith("pattern"),Ce=v==="line-dasharray"&&i.layout.get("line-cap").value.kind!=="constant";if(ee.kind!=="constant"||Ce)if(ee.kind==="source"||Ce||we){const Ie=n1(v,ne,"source");this.binders[v]=we?new Wu(ee,N,ne,Ie,i.id):new Ao(ee,N,ne,Ie),f.push(`/a_${v}`)}else{const Ie=n1(v,ne,"composite");this.binders[v]=new Wo(ee,N,ne,fe,l,Ie),f.push(`/z_${v}`)}else this.binders[v]=we?new Ch(ee.value,N):new bp(ee.value,N,ne),f.push(`/u_${v}`)}this.cacheKey=f.sort().join("")}getMaxValue(i){const l=this.binders[i];return l instanceof Ao||l instanceof Wo?l.maxValue:0}populatePaintArrays(i,l,u,f,v,C){for(const N in this.binders){const ee=this.binders[N];(ee instanceof Ao||ee instanceof Wo||ee instanceof Wu)&&ee.populatePaintArray(i,l,u,f,v,C)}}setConstantPatternPositions(i){for(const l in this.binders){const u=this.binders[l];u instanceof Ch&&u.setConstantPatternPositions(i)}}updatePaintArrays(i,l,u,f,v,C){let N=!1;for(const ee in i){const ne=l.getPositions(ee);for(const fe of ne){const we=u.feature(fe.index);for(const Ce in this.binders){const Ie=this.binders[Ce];if((Ie instanceof Ao||Ie instanceof Wo||Ie instanceof Wu)&&Ie.expression.isStateDependent===!0){const Be=f.paint.get(Ce);Ie.expression=Be.value,Ie.updatePaintArray(fe.start,fe.end,we,i[ee],v,C),N=!0}}}}return N}defines(){const i=[];for(const l in this.binders){const u=this.binders[l];(u instanceof bp||u instanceof Ch)&&i.push(...u.uniformNames.map(f=>`#define HAS_UNIFORM_${f}`))}return i}getBinderAttributes(){const i=[];for(const l in this.binders){const u=this.binders[l];if(u instanceof Ao||u instanceof Wo||u instanceof Wu)for(let f=0;f<u.paintVertexAttributes.length;f++)i.push(u.paintVertexAttributes[f].name)}return i}getBinderUniforms(){const i=[];for(const l in this.binders){const u=this.binders[l];if(u instanceof bp||u instanceof Ch||u instanceof Wo)for(const f of u.uniformNames)i.push(f)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i){const l=[];for(const u in this.binders){const f=this.binders[u];if(f instanceof bp||f instanceof Ch||f instanceof Wo)for(const v of f.uniformNames)l.push({name:v,property:u,binding:f.getBinding(i,v)})}return l}setUniforms(i,l,u,f,v){for(const{name:C,property:N,binding:ee}of u)this.binders[N].setUniform(i,ee,v,f.get(N),C)}updatePaintBuffers(){this._buffers=[];for(const i in this.binders){const l=this.binders[i];(l instanceof Ao||l instanceof Wo||l instanceof Wu)&&l.paintVertexBuffer&&this._buffers.push(l.paintVertexBuffer)}}upload(i){for(const l in this.binders){const u=this.binders[l];(u instanceof Ao||u instanceof Wo||u instanceof Wu)&&u.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const l=this.binders[i];(l instanceof Ao||l instanceof Wo||l instanceof Wu)&&l.destroy()}}}class Bd{constructor(i,l,u=()=>!0){this.programConfigurations={};for(const f of i)this.programConfigurations[f.id]=new Hu(f,l,u);this.needsUpload=!1,this._featureMap=new td,this._bufferOffset=0}populatePaintArrays(i,l,u,f,v,C,N){for(const ee in this.programConfigurations)this.programConfigurations[ee].populatePaintArrays(i,l,f,v,C,N);l.id!==void 0&&this._featureMap.add(l.id,u,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,l,u,f,v){for(const C of u)this.needsUpload=this.programConfigurations[C.id].updatePaintArrays(i,this._featureMap,l,C,f,v)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const l in this.programConfigurations)this.programConfigurations[l].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}const wp={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function I_(a,i){return wp[a]||[a.replace(`${i}-`,"").replace(/-/g,"_")]}const L_={"line-pattern":{source:_a,composite:_a},"fill-pattern":{source:_a,composite:_a},"fill-extrusion-pattern":{source:_a,composite:_a},"line-dasharray":{source:sc,composite:sc}},d2={color:{source:Nf,composite:ka},number:{source:Cl,composite:Nf}};function n1(a,i,l){const u=L_[a];return u&&u[l]||d2[i][l]}Ji(bp,"ConstantBinder"),Ji(Ch,"PatternConstantBinder"),Ji(Ao,"SourceExpressionBinder"),Ji(Wu,"PatternCompositeBinder"),Ji(Wo,"CompositeExpressionBinder"),Ji(Hu,"ProgramConfiguration",{omit:["_buffers"]}),Ji(Bd,"ProgramConfigurationSet");const du="-transition";class cl extends mo{constructor(i,l){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,i.type!=="custom"&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&i.type!=="sky"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),l.layout&&(this._unevaluatedLayout=new ri(l.layout)),l.paint)){this._transitionablePaint=new mi(l.paint);for(const u in i.paint)this.setPaintProperty(u,i.paint[u],{validate:!1});for(const u in i.layout)this.setLayoutProperty(u,i.layout[u],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new zi(l.paint)}}getLayoutProperty(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,l,u={}){l!=null&&this._validate(ou,`layers.${this.id}.layout.${i}`,i,l,u)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,l):this.visibility=l)}getPaintProperty(i){return ge(i,du)?this._transitionablePaint.getTransition(i.slice(0,-du.length)):this._transitionablePaint.getValue(i)}setPaintProperty(i,l,u={}){if(l!=null&&this._validate(Zg,`layers.${this.id}.paint.${i}`,i,l,u))return!1;if(ge(i,du))return this._transitionablePaint.setTransition(i.slice(0,-du.length),l||void 0),!1;{const f=this._transitionablePaint._values[i],v=f.value.isDataDriven(),C=f.value;this._transitionablePaint.setValue(i,l),this._handleSpecialPaintPropertyUpdate(i);const N=this._transitionablePaint._values[i].value,ee=N.isDataDriven(),ne=ge(i,"pattern")||i==="line-dasharray";return ee||v||ne||this._handleOverridablePaintPropertyUpdate(i,C,N)}}_handleSpecialPaintPropertyUpdate(i){}getProgramIds(){return null}getProgramConfiguration(i){return null}_handleOverridablePaintPropertyUpdate(i,l,u){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,l){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,l)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),re(i,(l,u)=>!(l===void 0||u==="layout"&&!Object.keys(l).length||u==="paint"&&!Object.keys(l).length))}_validate(i,l,u,f,v={}){return(!v||v.validate!==!1)&&om(this,i.call(Pf,{key:l,layerType:this.type,objectKey:u,value:f,styleSpec:hi,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const l=this.paint.get(i);if(l instanceof wi&&ai(l.property.specification)&&(l.value.kind==="source"||l.value.kind==="composite")&&l.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Fs(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const u2=an([{name:"a_pos",components:2,type:"Int16"}],4),O_=an([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class vo{constructor(i=[]){this.segments=i}prepareSegment(i,l,u,f){let v=this.segments[this.segments.length-1];return i>vo.MAX_VERTEX_ARRAY_LENGTH&&oe(`Max vertices per segment is ${vo.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!v||v.vertexLength+i>vo.MAX_VERTEX_ARRAY_LENGTH||v.sortKey!==f)&&(v={vertexOffset:l.length,primitiveOffset:u.length,vertexLength:0,primitiveLength:0},f!==void 0&&(v.sortKey=f),this.segments.push(v)),v}get(){return this.segments}destroy(){for(const i of this.segments)for(const l in i.vaos)i.vaos[l].destroy()}static simpleSegment(i,l,u,f){return new vo([{vertexOffset:i,primitiveOffset:l,vertexLength:u,primitiveLength:f,vaos:{},sortKey:0}])}}vo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ji(vo,"SegmentVector");var On=8192;class uu{constructor(i,l){i&&(l?this.setSouthWest(i).setNorthEast(l):i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1]))}setNorthEast(i){return this._ne=i instanceof Ar?new Ar(i.lng,i.lat):Ar.convert(i),this}setSouthWest(i){return this._sw=i instanceof Ar?new Ar(i.lng,i.lat):Ar.convert(i),this}extend(i){const l=this._sw,u=this._ne;let f,v;if(i instanceof Ar)f=i,v=i;else{if(!(i instanceof uu))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(uu.convert(i)):this.extend(Ar.convert(i)):typeof i=="object"&&i!==null&&i.hasOwnProperty("lat")&&i.hasOwnProperty("lon")?this.extend(Ar.convert(i)):this;if(f=i._sw,v=i._ne,!f||!v)return this}return l||u?(l.lng=Math.min(f.lng,l.lng),l.lat=Math.min(f.lat,l.lat),u.lng=Math.max(v.lng,u.lng),u.lat=Math.max(v.lat,u.lat)):(this._sw=new Ar(f.lng,f.lat),this._ne=new Ar(v.lng,v.lat)),this}getCenter(){return new Ar((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Ar(this.getWest(),this.getNorth())}getSouthEast(){return new Ar(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:l,lat:u}=Ar.convert(i);let f=this._sw.lng<=l&&l<=this._ne.lng;return this._sw.lng>this._ne.lng&&(f=this._sw.lng>=l&&l>=this._ne.lng),this._sw.lat<=u&&u<=this._ne.lat&&f}static convert(i){return!i||i instanceof uu?i:new uu(i)}}const Eh=63710088e-1;class Ar{constructor(i,l){if(isNaN(i)||isNaN(l))throw new Error(`Invalid LngLat object: (${i}, ${l})`);if(this.lng=+i,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Ar(k(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const l=Math.PI/180,u=this.lat*l,f=i.lat*l,v=Math.sin(u)*Math.sin(f)+Math.cos(u)*Math.cos(f)*Math.cos((i.lng-this.lng)*l);return Eh*Math.acos(Math.min(v,1))}toBounds(i=0){const l=360*i/40075017,u=l/Math.cos(Math.PI/180*this.lat);return new uu(new Ar(this.lng-u,this.lat-l),new Ar(this.lng+u,this.lat+l))}static convert(i){if(i instanceof Ar)return i;if(Array.isArray(i)&&(i.length===2||i.length===3))return new Ar(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&typeof i=="object"&&i!==null)return new Ar(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Uf=2*Math.PI*Eh;function r1(a){return Uf*Math.cos(a*Math.PI/180)}function id(a){return(180+a)/360}function lc(a){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a*Math.PI/360)))/360}function cc(a,i){return a/r1(i)}function dl(a){return 360*a-180}function xa(a){return 360/Math.PI*Math.atan(Math.exp((180-360*a)*Math.PI/180))-90}function s1(a,i){return a*r1(xa(i))}const ba=85.051129;function o1(a){return 1/Math.cos(a*Math.PI/180)}class Mh{constructor(i,l,u=0){this.x=+i,this.y=+l,this.z=+u}static fromLngLat(i,l=0){const u=Ar.convert(i);return new Mh(id(u.lng),lc(u.lat),cc(l,u.lat))}toLngLat(){return new Ar(dl(this.x),xa(this.y))}toAltitude(){return s1(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Uf*o1(xa(this.y))}}function a1(a,i,l,u,f,v,C,N,ee){const ne=(i+u)/2,fe=(l+f)/2,we=new U(ne,fe);N(we),function(Ce,Ie,Be,Ge,Je,gt){const Mt=Be-Je,mt=Ge-gt;return Math.abs((Ge-Ie)*Mt-(Be-Ce)*mt)/Math.hypot(Mt,mt)}(we.x,we.y,v.x,v.y,C.x,C.y)>=ee?(a1(a,i,l,ne,fe,v,we,N,ee),a1(a,ne,fe,u,f,we,C,N,ee)):a.push(C)}function l1(a,i,l){let u=a[0],f=u.x,v=u.y;i(u);const C=[u];for(let N=1;N<a.length;N++){const ee=a[N],{x:ne,y:fe}=ee;i(ee),a1(C,f,v,ne,fe,u,ee,i,l),f=ne,v=fe,u=ee}return C}function c1(a,i,l,u){if(u(i,l)){const f=i.add(l)._mult(.5);c1(a,i,f,u),c1(a,f,l,u)}else a.push(l)}function h2(a,i){let l=a[0];const u=[l];for(let f=1;f<a.length;f++){const v=a[f];c1(u,l,v,i),l=v}return u}const nd=Math.pow(2,14)-1,bm=-nd-1;function d1(a,i){const l=Math.round(a.x*i),u=Math.round(a.y*i);return a.x=g(l,bm,nd),a.y=g(u,bm,nd),(l<a.x||l>a.x+1||u<a.y||u>a.y+1)&&oe("Geometry exceeds allowed extent, reduce your vector tile buffer size"),a}function rd(a,i,l){const u=a.loadGeometry(),f=a.extent,v=On/f;if(i&&l&&l.projection.isReprojectedInTileSpace){const C=1<<i.z,{scale:N,x:ee,y:ne,projection:fe}=l,we=Ce=>{const Ie=dl((i.x+Ce.x/f)/C),Be=xa((i.y+Ce.y/f)/C),Ge=fe.project(Ie,Be);Ce.x=(Ge.x*N-ee)*f,Ce.y=(Ge.y*N-ne)*f};for(let Ce=0;Ce<u.length;Ce++)if(a.type!==1)u[Ce]=l1(u[Ce],we,1);else{const Ie=[];for(const Be of u[Ce])Be.x<0||Be.x>=f||Be.y<0||Be.y>=f||(we(Be),Ie.push(Be));u[Ce]=Ie}}for(const C of u)for(const N of C)d1(N,v);return u}function zd(a,i){return{type:a.type,id:a.id,properties:a.properties,geometry:i?rd(a):[]}}function hu(a,i,l,u,f){a.emplaceBack(2*i+(u+1)/2,2*l+(f+1)/2)}function Xn(a,i,l){a.emplaceBack(i.x,i.y,i.z,l[0]*16384,l[1]*16384,l[2]*16384)}class Tp{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.hasPattern=!1,this.projection=i.projection,this.layoutVertexArray=new Gr,this.indexArray=new sa,this.segments=new vo,this.programConfigurations=new Bd(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(i,l,u,f){const v=this.layers[0],C=[];let N=null;v.type==="circle"&&(N=v.layout.get("circle-sort-key"));for(const{feature:ne,id:fe,index:we,sourceLayerIndex:Ce}of i){const Ie=this.layers[0]._featureFilter.needGeometry,Be=zd(ne,Ie);if(!this.layers[0]._featureFilter.filter(new Vt(this.zoom),Be,u))continue;const Ge=N?N.evaluate(Be,{},u):void 0,Je={id:fe,properties:ne.properties,type:ne.type,sourceLayerIndex:Ce,index:we,geometry:Ie?Be.geometry:rd(ne,u,f),patterns:{},sortKey:Ge};C.push(Je)}N&&C.sort((ne,fe)=>ne.sortKey-fe.sortKey);let ee=null;f.projection.name==="globe"&&(this.globeExtVertexArray=new ms,ee=f.projection);for(const ne of C){const{geometry:fe,index:we,sourceLayerIndex:Ce}=ne,Ie=i[we].feature;this.addFeature(ne,fe,we,l.availableImages,u,ee),l.featureIndex.insert(Ie,fe,we,Ce,this.index)}}update(i,l,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,u2.members),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=i.createVertexBuffer(this.globeExtVertexArray,O_.members))),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(i,l,u,f,v,C){for(const N of l)for(const ee of N){const ne=ee.x,fe=ee.y;if(ne<0||ne>=On||fe<0||fe>=On)continue;if(C){const Ie=C.projectTilePoint(ne,fe,v),Be=C.upVector(v,ne,fe),Ge=this.globeExtVertexArray;Xn(Ge,Ie,Be),Xn(Ge,Ie,Be),Xn(Ge,Ie,Be),Xn(Ge,Ie,Be)}const we=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),Ce=we.vertexLength;hu(this.layoutVertexArray,ne,fe,-1,-1),hu(this.layoutVertexArray,ne,fe,1,-1),hu(this.layoutVertexArray,ne,fe,1,1),hu(this.layoutVertexArray,ne,fe,-1,1),this.indexArray.emplaceBack(Ce,Ce+1,Ce+2),this.indexArray.emplaceBack(Ce,Ce+2,Ce+3),we.vertexLength+=4,we.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,u,{},f,v)}}function wm(a,i){for(let l=0;l<a.length;l++)if(Ah(i,a[l]))return!0;for(let l=0;l<i.length;l++)if(Ah(a,i[l]))return!0;return!!Tm(a,i)}function kh(a,i,l){return!!Ah(a,i)||!!h1(i,a,l)}function R_(a,i){if(a.length===1)return p1(i,a[0]);for(let l=0;l<i.length;l++){const u=i[l];for(let f=0;f<u.length;f++)if(Ah(a,u[f]))return!0}for(let l=0;l<a.length;l++)if(p1(i,a[l]))return!0;for(let l=0;l<i.length;l++)if(Tm(a,i[l]))return!0;return!1}function u1(a,i,l){if(a.length>1){if(Tm(a,i))return!0;for(let u=0;u<i.length;u++)if(h1(i[u],a,l))return!0}for(let u=0;u<a.length;u++)if(h1(a[u],i,l))return!0;return!1}function Tm(a,i){if(a.length===0||i.length===0)return!1;for(let l=0;l<a.length-1;l++){const u=a[l],f=a[l+1];for(let v=0;v<i.length-1;v++)if(Ya(u,f,i[v],i[v+1]))return!0}return!1}function Ya(a,i,l,u){return ye(a,l,u)!==ye(i,l,u)&&ye(a,i,l)!==ye(a,i,u)}function h1(a,i,l){const u=l*l;if(i.length===1)return a.distSqr(i[0])<u;for(let f=1;f<i.length;f++)if(B_(a,i[f-1],i[f])<u)return!0;return!1}function B_(a,i,l){const u=i.distSqr(l);if(u===0)return a.distSqr(i);const f=((a.x-i.x)*(l.x-i.x)+(a.y-i.y)*(l.y-i.y))/u;return a.distSqr(f<0?i:f>1?l:l.sub(i)._mult(f)._add(i))}function p1(a,i){let l,u,f,v=!1;for(let C=0;C<a.length;C++){l=a[C];for(let N=0,ee=l.length-1;N<l.length;ee=N++)u=l[N],f=l[ee],u.y>i.y!=f.y>i.y&&i.x<(f.x-u.x)*(i.y-u.y)/(f.y-u.y)+u.x&&(v=!v)}return v}function Ah(a,i){let l=!1;for(let u=0,f=a.length-1;u<a.length;f=u++){const v=a[u],C=a[f];v.y>i.y!=C.y>i.y&&i.x<(C.x-v.x)*(i.y-v.y)/(C.y-v.y)+v.x&&(l=!l)}return l}function f1(a,i,l,u,f){for(const C of a)if(i<=C.x&&l<=C.y&&u>=C.x&&f>=C.y)return!0;const v=[new U(i,l),new U(i,f),new U(u,f),new U(u,l)];if(a.length>2){for(const C of v)if(Ah(a,C))return!0}for(let C=0;C<a.length-1;C++)if(p2(a[C],a[C+1],v))return!0;return!1}function p2(a,i,l){const u=l[0],f=l[2];if(a.x<u.x&&i.x<u.x||a.x>f.x&&i.x>f.x||a.y<u.y&&i.y<u.y||a.y>f.y&&i.y>f.y)return!1;const v=ye(a,i,l[0]);return v!==ye(a,i,l[1])||v!==ye(a,i,l[2])||v!==ye(a,i,l[3])}function Sp(a,i,l){const u=i.paint.get(a).value;return u.kind==="constant"?u.value:l.programConfigurations.get(i.id).getMaxValue(a)}function Sm(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function Nd(a,i,l,u,f){if(!i[0]&&!i[1])return a;const v=U.convert(i)._mult(f);l==="viewport"&&v._rotate(-u);const C=[];for(let N=0;N<a.length;N++)C.push(a[N].sub(v));return C}function qa(a,i,l,u){const f=U.convert(a)._mult(u);return i==="viewport"&&f._rotate(-l),f}Ji(Tp,"CircleBucket",{omit:["layers"]});const m1=new Sn({"circle-sort-key":new ii(hi.layout_circle["circle-sort-key"])});var f2={paint:new Sn({"circle-radius":new ii(hi.paint_circle["circle-radius"]),"circle-color":new ii(hi.paint_circle["circle-color"]),"circle-blur":new ii(hi.paint_circle["circle-blur"]),"circle-opacity":new ii(hi.paint_circle["circle-opacity"]),"circle-translate":new Ht(hi.paint_circle["circle-translate"]),"circle-translate-anchor":new Ht(hi.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ht(hi.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ht(hi.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ii(hi.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ii(hi.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ii(hi.paint_circle["circle-stroke-opacity"])}),layout:m1},Cp=1e-6,Ml=typeof Float32Array<"u"?Float32Array:Array;function z_(){var a=new Ml(9);return Ml!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0),a[0]=1,a[4]=1,a[8]=1,a}function Ep(a,i,l){var u=i[0],f=i[1],v=i[2],C=i[3],N=i[4],ee=i[5],ne=i[6],fe=i[7],we=i[8],Ce=l[0],Ie=l[1],Be=l[2],Ge=l[3],Je=l[4],gt=l[5],Mt=l[6],mt=l[7],bt=l[8];return a[0]=Ce*u+Ie*C+Be*ne,a[1]=Ce*f+Ie*N+Be*fe,a[2]=Ce*v+Ie*ee+Be*we,a[3]=Ge*u+Je*C+gt*ne,a[4]=Ge*f+Je*N+gt*fe,a[5]=Ge*v+Je*ee+gt*we,a[6]=Mt*u+mt*C+bt*ne,a[7]=Mt*f+mt*N+bt*fe,a[8]=Mt*v+mt*ee+bt*we,a}function Dc(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function Cm(a,i){var l=i[0],u=i[1],f=i[2],v=i[3],C=i[4],N=i[5],ee=i[6],ne=i[7],fe=i[8],we=i[9],Ce=i[10],Ie=i[11],Be=i[12],Ge=i[13],Je=i[14],gt=i[15],Mt=l*N-u*C,mt=l*ee-f*C,bt=l*ne-v*C,Pt=u*ee-f*N,kt=u*ne-v*N,Qt=f*ne-v*ee,Jt=fe*Ge-we*Be,gi=fe*Je-Ce*Be,Fi=fe*gt-Ie*Be,oi=we*Je-Ce*Ge,bi=we*gt-Ie*Ge,Ti=Ce*gt-Ie*Je,Li=Mt*Ti-mt*bi+bt*oi+Pt*Fi-kt*gi+Qt*Jt;return Li?(a[0]=(N*Ti-ee*bi+ne*oi)*(Li=1/Li),a[1]=(f*bi-u*Ti-v*oi)*Li,a[2]=(Ge*Qt-Je*kt+gt*Pt)*Li,a[3]=(Ce*kt-we*Qt-Ie*Pt)*Li,a[4]=(ee*Fi-C*Ti-ne*gi)*Li,a[5]=(l*Ti-f*Fi+v*gi)*Li,a[6]=(Je*bt-Be*Qt-gt*mt)*Li,a[7]=(fe*Qt-Ce*bt+Ie*mt)*Li,a[8]=(C*bi-N*Fi+ne*Jt)*Li,a[9]=(u*Fi-l*bi-v*Jt)*Li,a[10]=(Be*kt-Ge*bt+gt*Mt)*Li,a[11]=(we*bt-fe*kt-Ie*Mt)*Li,a[12]=(N*gi-C*oi-ee*Jt)*Li,a[13]=(l*oi-u*gi+f*Jt)*Li,a[14]=(Ge*mt-Be*Pt-Je*Mt)*Li,a[15]=(fe*Pt-we*mt+Ce*Mt)*Li,a):null}function Ph(a,i,l){var u=i[0],f=i[1],v=i[2],C=i[3],N=i[4],ee=i[5],ne=i[6],fe=i[7],we=i[8],Ce=i[9],Ie=i[10],Be=i[11],Ge=i[12],Je=i[13],gt=i[14],Mt=i[15],mt=l[0],bt=l[1],Pt=l[2],kt=l[3];return a[0]=mt*u+bt*N+Pt*we+kt*Ge,a[1]=mt*f+bt*ee+Pt*Ce+kt*Je,a[2]=mt*v+bt*ne+Pt*Ie+kt*gt,a[3]=mt*C+bt*fe+Pt*Be+kt*Mt,a[4]=(mt=l[4])*u+(bt=l[5])*N+(Pt=l[6])*we+(kt=l[7])*Ge,a[5]=mt*f+bt*ee+Pt*Ce+kt*Je,a[6]=mt*v+bt*ne+Pt*Ie+kt*gt,a[7]=mt*C+bt*fe+Pt*Be+kt*Mt,a[8]=(mt=l[8])*u+(bt=l[9])*N+(Pt=l[10])*we+(kt=l[11])*Ge,a[9]=mt*f+bt*ee+Pt*Ce+kt*Je,a[10]=mt*v+bt*ne+Pt*Ie+kt*gt,a[11]=mt*C+bt*fe+Pt*Be+kt*Mt,a[12]=(mt=l[12])*u+(bt=l[13])*N+(Pt=l[14])*we+(kt=l[15])*Ge,a[13]=mt*f+bt*ee+Pt*Ce+kt*Je,a[14]=mt*v+bt*ne+Pt*Ie+kt*gt,a[15]=mt*C+bt*fe+Pt*Be+kt*Mt,a}function $f(a,i,l){var u,f,v,C,N,ee,ne,fe,we,Ce,Ie,Be,Ge=l[0],Je=l[1],gt=l[2];return i===a?(a[12]=i[0]*Ge+i[4]*Je+i[8]*gt+i[12],a[13]=i[1]*Ge+i[5]*Je+i[9]*gt+i[13],a[14]=i[2]*Ge+i[6]*Je+i[10]*gt+i[14],a[15]=i[3]*Ge+i[7]*Je+i[11]*gt+i[15]):(f=i[1],v=i[2],C=i[3],N=i[4],ee=i[5],ne=i[6],fe=i[7],we=i[8],Ce=i[9],Ie=i[10],Be=i[11],a[0]=u=i[0],a[1]=f,a[2]=v,a[3]=C,a[4]=N,a[5]=ee,a[6]=ne,a[7]=fe,a[8]=we,a[9]=Ce,a[10]=Ie,a[11]=Be,a[12]=u*Ge+N*Je+we*gt+i[12],a[13]=f*Ge+ee*Je+Ce*gt+i[13],a[14]=v*Ge+ne*Je+Ie*gt+i[14],a[15]=C*Ge+fe*Je+Be*gt+i[15]),a}function Dh(a,i,l){var u=l[0],f=l[1],v=l[2];return a[0]=i[0]*u,a[1]=i[1]*u,a[2]=i[2]*u,a[3]=i[3]*u,a[4]=i[4]*f,a[5]=i[5]*f,a[6]=i[6]*f,a[7]=i[7]*f,a[8]=i[8]*v,a[9]=i[9]*v,a[10]=i[10]*v,a[11]=i[11]*v,a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15],a}function g1(a,i,l){var u=Math.sin(l),f=Math.cos(l),v=i[4],C=i[5],N=i[6],ee=i[7],ne=i[8],fe=i[9],we=i[10],Ce=i[11];return i!==a&&(a[0]=i[0],a[1]=i[1],a[2]=i[2],a[3]=i[3],a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15]),a[4]=v*f+ne*u,a[5]=C*f+fe*u,a[6]=N*f+we*u,a[7]=ee*f+Ce*u,a[8]=ne*f-v*u,a[9]=fe*f-C*u,a[10]=we*f-N*u,a[11]=Ce*f-ee*u,a}function Vf(a,i,l){var u=Math.sin(l),f=Math.cos(l),v=i[0],C=i[1],N=i[2],ee=i[3],ne=i[8],fe=i[9],we=i[10],Ce=i[11];return i!==a&&(a[4]=i[4],a[5]=i[5],a[6]=i[6],a[7]=i[7],a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15]),a[0]=v*f-ne*u,a[1]=C*f-fe*u,a[2]=N*f-we*u,a[3]=ee*f-Ce*u,a[8]=v*u+ne*f,a[9]=C*u+fe*f,a[10]=N*u+we*f,a[11]=ee*u+Ce*f,a}function y1(a,i){return a[0]=i[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=i[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=i[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function N_(a,i,l){var u,f,v,C=l[0],N=l[1],ee=l[2],ne=Math.hypot(C,N,ee);return ne<Cp?null:(C*=ne=1/ne,N*=ne,ee*=ne,u=Math.sin(i),f=Math.cos(i),a[0]=C*C*(v=1-f)+f,a[1]=N*C*v+ee*u,a[2]=ee*C*v-N*u,a[3]=0,a[4]=C*N*v-ee*u,a[5]=N*N*v+f,a[6]=ee*N*v+C*u,a[7]=0,a[8]=C*ee*v+N*u,a[9]=N*ee*v-C*u,a[10]=ee*ee*v+f,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}Math.hypot||(Math.hypot=function(){for(var a=0,i=arguments.length;i--;)a+=arguments[i]*arguments[i];return Math.sqrt(a)});var _1=Ph;function Em(){var a=new Ml(3);return Ml!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a}function Mp(a){var i=new Ml(3);return i[0]=a[0],i[1]=a[1],i[2]=a[2],i}function Ih(a){return Math.hypot(a[0],a[1],a[2])}function Lh(a,i,l){var u=new Ml(3);return u[0]=a,u[1]=i,u[2]=l,u}function Fd(a,i,l){return a[0]=i[0]+l[0],a[1]=i[1]+l[1],a[2]=i[2]+l[2],a}function kp(a,i,l){return a[0]=i[0]-l[0],a[1]=i[1]-l[1],a[2]=i[2]-l[2],a}function v1(a,i,l){return a[0]=i[0]*l[0],a[1]=i[1]*l[1],a[2]=i[2]*l[2],a}function kl(a,i,l){return a[0]=Math.min(i[0],l[0]),a[1]=Math.min(i[1],l[1]),a[2]=Math.min(i[2],l[2]),a}function sd(a,i,l){return a[0]=Math.max(i[0],l[0]),a[1]=Math.max(i[1],l[1]),a[2]=Math.max(i[2],l[2]),a}function dc(a,i,l){return a[0]=i[0]*l,a[1]=i[1]*l,a[2]=i[2]*l,a}function Ap(a,i,l,u){return a[0]=i[0]+l[0]*u,a[1]=i[1]+l[1]*u,a[2]=i[2]+l[2]*u,a}function Xa(a,i){var l=i[0],u=i[1],f=i[2],v=l*l+u*u+f*f;return v>0&&(v=1/Math.sqrt(v)),a[0]=i[0]*v,a[1]=i[1]*v,a[2]=i[2]*v,a}function Ic(a,i){return a[0]*i[0]+a[1]*i[1]+a[2]*i[2]}function x1(a,i,l){var u=i[0],f=i[1],v=i[2],C=l[0],N=l[1],ee=l[2];return a[0]=f*ee-v*N,a[1]=v*C-u*ee,a[2]=u*N-f*C,a}function co(a,i,l){var u=i[0],f=i[1],v=i[2],C=l[3]*u+l[7]*f+l[11]*v+l[15];return a[0]=(l[0]*u+l[4]*f+l[8]*v+l[12])/(C=C||1),a[1]=(l[1]*u+l[5]*f+l[9]*v+l[13])/C,a[2]=(l[2]*u+l[6]*f+l[10]*v+l[14])/C,a}function F_(a,i,l){var u=l[0],f=l[1],v=l[2],C=i[0],N=i[1],ee=i[2],ne=f*ee-v*N,fe=v*C-u*ee,we=u*N-f*C,Ce=f*we-v*fe,Ie=v*ne-u*we,Be=u*fe-f*ne,Ge=2*l[3];return fe*=Ge,we*=Ge,Ie*=2,Be*=2,a[0]=C+(ne*=Ge)+(Ce*=2),a[1]=N+fe+Ie,a[2]=ee+we+Be,a}var Gf,od=kp,m2=v1,g2=Ih;function j_(a,i,l){return a[0]=i[0]*l,a[1]=i[1]*l,a[2]=i[2]*l,a[3]=i[3]*l,a}function U_(a,i){var l=i[0],u=i[1],f=i[2],v=i[3],C=l*l+u*u+f*f+v*v;return C>0&&(C=1/Math.sqrt(C)),a[0]=l*C,a[1]=u*C,a[2]=f*C,a[3]=v*C,a}function Yu(a,i,l){var u=i[0],f=i[1],v=i[2],C=i[3];return a[0]=l[0]*u+l[4]*f+l[8]*v+l[12]*C,a[1]=l[1]*u+l[5]*f+l[9]*v+l[13]*C,a[2]=l[2]*u+l[6]*f+l[10]*v+l[14]*C,a[3]=l[3]*u+l[7]*f+l[11]*v+l[15]*C,a}function b1(){var a=new Ml(4);return Ml!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a[3]=1,a}function w1(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a}function $_(a,i,l){l*=.5;var u=i[0],f=i[1],v=i[2],C=i[3],N=Math.sin(l),ee=Math.cos(l);return a[0]=u*ee+C*N,a[1]=f*ee+v*N,a[2]=v*ee-f*N,a[3]=C*ee-u*N,a}function V_(a,i,l){l*=.5;var u=i[0],f=i[1],v=i[2],C=i[3],N=Math.sin(l),ee=Math.cos(l);return a[0]=u*ee-v*N,a[1]=f*ee+C*N,a[2]=v*ee+u*N,a[3]=C*ee-f*N,a}Em(),Gf=new Ml(4),Ml!=Float32Array&&(Gf[0]=0,Gf[1]=0,Gf[2]=0,Gf[3]=0);var y2=U_;Em(),Lh(1,0,0),Lh(0,1,0),b1(),b1(),z_();class Mm{constructor(i,l){this.pos=i,this.dir=l}intersectsPlane(i,l,u){const f=Ic(l,this.dir);if(Math.abs(f)<1e-6)return!1;const v=((i[0]-this.pos[0])*l[0]+(i[1]-this.pos[1])*l[1]+(i[2]-this.pos[2])*l[2])/f;return u[0]=this.pos[0]+this.dir[0]*v,u[1]=this.pos[1]+this.dir[1]*v,u[2]=this.pos[2]+this.dir[2]*v,!0}closestPointOnSphere(i,l,u){if(function(Ie,Be){var Ge=Ie[0],Je=Ie[1],gt=Ie[2],Mt=Be[0],mt=Be[1],bt=Be[2];return Math.abs(Ge-Mt)<=Cp*Math.max(1,Math.abs(Ge),Math.abs(Mt))&&Math.abs(Je-mt)<=Cp*Math.max(1,Math.abs(Je),Math.abs(mt))&&Math.abs(gt-bt)<=Cp*Math.max(1,Math.abs(gt),Math.abs(bt))}(this.pos,i)||l===0)return u[0]=u[1]=u[2]=0,!1;const[f,v,C]=this.dir,N=this.pos[0]-i[0],ee=this.pos[1]-i[1],ne=this.pos[2]-i[2],fe=f*f+v*v+C*C,we=2*(N*f+ee*v+ne*C),Ce=we*we-4*fe*(N*N+ee*ee+ne*ne-l*l);if(Ce<0){const Ie=Math.max(-we/2,0),Be=N+f*Ie,Ge=ee+v*Ie,Je=ne+C*Ie,gt=Math.hypot(Be,Ge,Je);return u[0]=Be*l/gt,u[1]=Ge*l/gt,u[2]=Je*l/gt,!1}{const Ie=(-we-Math.sqrt(Ce))/(2*fe);if(Ie<0){const Be=Math.hypot(N,ee,ne);return u[0]=N*l/Be,u[1]=ee*l/Be,u[2]=ne*l/Be,!1}return u[0]=N+f*Ie,u[1]=ee+v*Ie,u[2]=ne+C*Ie,!0}}}class T1{constructor(i,l,u,f,v){this.TL=i,this.TR=l,this.BR=u,this.BL=f,this.horizon=v}static fromInvProjectionMatrix(i,l,u){const f=[-1,1,1],v=[1,1,1],C=[1,-1,1],N=[-1,-1,1],ee=co(f,f,i),ne=co(v,v,i),fe=co(C,C,i),we=co(N,N,i);return new T1(ee,ne,fe,we,l/u)}}class S1{constructor(i,l){this.points=i,this.planes=l}static fromInvProjectionMatrix(i,l,u,f){const v=Math.pow(2,u),C=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(ee=>{const ne=Yu([],ee,i),fe=1/ne[3]/l*v;return function(we,Ce,Ie){return we[0]=Ce[0]*Ie[0],we[1]=Ce[1]*Ie[1],we[2]=Ce[2]*Ie[2],we[3]=Ce[3]*Ie[3],we}(ne,ne,[fe,fe,f?1/ne[3]:fe,fe])}),N=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(ee=>{const ne=Xa([],x1([],od([],C[ee[0]],C[ee[1]]),od([],C[ee[2]],C[ee[1]]))),fe=-Ic(ne,C[ee[1]]);return ne.concat(fe)});return new S1(C,N)}}class Za{static fromPoints(i){const l=[1/0,1/0,1/0],u=[-1/0,-1/0,-1/0];for(const f of i)kl(l,l,f),sd(u,u,f);return new Za(l,u)}static applyTransform(i,l){const u=i.getCorners();for(let f=0;f<u.length;++f)co(u[f],u[f],l);return Za.fromPoints(u)}constructor(i,l){this.min=i,this.max=l,this.center=dc([],Fd([],this.min,this.max),.5)}quadrant(i){const l=[i%2==0,i<2],u=Mp(this.min),f=Mp(this.max);for(let v=0;v<l.length;v++)u[v]=l[v]?this.min[v]:this.center[v],f[v]=l[v]?this.center[v]:this.max[v];return f[2]=this.max[2],new Za(u,f)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}distanceZ(i){return Math.max(Math.min(this.max[2],i[2]),this.min[2])-i[2]}getCorners(){const i=this.min,l=this.max;return[[i[0],i[1],i[2]],[l[0],i[1],i[2]],[l[0],l[1],i[2]],[i[0],l[1],i[2]],[i[0],i[1],l[2]],[l[0],i[1],l[2]],[l[0],l[1],l[2]],[i[0],l[1],l[2]]]}intersects(i){const l=this.getCorners();let u=!0;for(let f=0;f<i.planes.length;f++){const v=i.planes[f];let C=0;for(let N=0;N<l.length;N++)C+=Ic(v,l[N])+v[3]>=0;if(C===0)return 0;C!==l.length&&(u=!1)}if(u)return 2;for(let f=0;f<3;f++){let v=Number.MAX_VALUE,C=-Number.MAX_VALUE;for(let N=0;N<i.points.length;N++){const ee=i.points[N][f]-this.min[f];v=Math.min(v,ee),C=Math.max(C,ee)}if(C<0||v>this.max[f]-this.min[f])return 0}return 1}}function G_(a,i,l,u,f,v,C,N,ee){if(v&&a.queryGeometry.isAboveHorizon)return!1;v&&(ee*=a.pixelToTileUnitsFactor);const ne=a.tileID.canonical,fe=l.projection.upVectorScale(ne,l.center.lat,l.worldSize).metersToTile;for(const we of i)for(const Ce of we){const Ie=Ce.add(N),Be=f&&l.elevation?l.elevation.exaggeration()*f.getElevationAt(Ie.x,Ie.y,!0):0,Ge=l.projection.projectTilePoint(Ie.x,Ie.y,ne);if(Be>0){const mt=l.projection.upVector(ne,Ie.x,Ie.y);Ge.x+=mt[0]*fe*Be,Ge.y+=mt[1]*fe*Be,Ge.z+=mt[2]*fe*Be}const Je=v?Ie:_2(Ge.x,Ge.y,Ge.z,u),gt=v?a.tilespaceRays.map(mt=>v2(mt,Be)):a.queryGeometry.screenGeometry,Mt=Yu([],[Ge.x,Ge.y,Ge.z,1],u);if(!C&&v?ee*=Mt[3]/l.cameraToCenterDistance:C&&!v&&(ee*=l.cameraToCenterDistance/Mt[3]),v){const mt=xa((Ce.y/On+ne.y)/(1<<ne.z));ee/=l.projection.pixelsPerMeter(mt,1)/cc(1,mt)}if(kh(gt,Je,ee))return!0}return!1}function _2(a,i,l,u){const f=Yu([],[a,i,l,1],u);return new U(f[0]/f[3],f[1]/f[3])}const W_=Lh(0,0,0),Lc=Lh(0,0,1);function v2(a,i){const l=Em();return W_[2]=i,a.intersectsPlane(W_,Lc,l),new U(l[0],l[1])}class H_ extends Tp{}function Y_(a,{width:i,height:l},u,f){if(f){if(f instanceof Uint8ClampedArray)f=new Uint8Array(f.buffer);else if(f.length!==i*l*u)throw new RangeError("mismatched image size")}else f=new Uint8Array(i*l*u);return a.width=i,a.height=l,a.data=f,a}function C1(a,i,l){const{width:u,height:f}=i;u===a.width&&f===a.height||(E1(a,i,{x:0,y:0},{x:0,y:0},{width:Math.min(a.width,u),height:Math.min(a.height,f)},l),a.width=u,a.height=f,a.data=i.data)}function E1(a,i,l,u,f,v){if(f.width===0||f.height===0)return i;if(f.width>a.width||f.height>a.height||l.x>a.width-f.width||l.y>a.height-f.height)throw new RangeError("out of range source coordinates for image copy");if(f.width>i.width||f.height>i.height||u.x>i.width-f.width||u.y>i.height-f.height)throw new RangeError("out of range destination coordinates for image copy");const C=a.data,N=i.data;for(let ee=0;ee<f.height;ee++){const ne=((l.y+ee)*a.width+l.x)*v,fe=((u.y+ee)*i.width+u.x)*v;for(let we=0;we<f.width*v;we++)N[fe+we]=C[ne+we]}return i}Ji(H_,"HeatmapBucket",{omit:["layers"]});class pu{constructor(i,l){Y_(this,i,1,l)}resize(i){C1(this,new pu(i),1)}clone(){return new pu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,l,u,f,v){E1(i,l,u,f,v,1)}}class Al{constructor(i,l){Y_(this,i,4,l)}resize(i){C1(this,new Al(i),4)}replace(i,l){l?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new Al({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,l,u,f,v){E1(i,l,u,f,v,4)}}Ji(pu,"AlphaImage"),Ji(Al,"RGBAImage");var x2={paint:new Sn({"heatmap-radius":new ii(hi.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ii(hi.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ht(hi.paint_heatmap["heatmap-intensity"]),"heatmap-color":new mn(hi.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ht(hi.paint_heatmap["heatmap-opacity"])})};function Wf(a){const i={},l=a.resolution||256,u=a.clips?a.clips.length:1,f=a.image||new Al({width:l,height:u}),v=(C,N,ee)=>{i[a.evaluationKey]=ee;const ne=a.expression.evaluate(i);f.data[C+N+0]=Math.floor(255*ne.r/ne.a),f.data[C+N+1]=Math.floor(255*ne.g/ne.a),f.data[C+N+2]=Math.floor(255*ne.b/ne.a),f.data[C+N+3]=Math.floor(255*ne.a)};if(a.clips)for(let C=0,N=0;C<u;++C,N+=4*l)for(let ee=0,ne=0;ee<l;ee++,ne+=4){const fe=ee/(l-1),{start:we,end:Ce}=a.clips[C];v(N,ne,we*(1-fe)+Ce*fe)}else for(let C=0,N=0;C<l;C++,N+=4)v(0,N,C/(l-1));return f}var b2={paint:new Sn({"hillshade-illumination-direction":new Ht(hi.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ht(hi.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ht(hi.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ht(hi.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ht(hi.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ht(hi.paint_hillshade["hillshade-accent-color"])})};const w2=an([{name:"a_pos",components:2,type:"Int16"}],4),{members:T2}=w2;var Hf={exports:{}};function km(a,i,l){l=l||2;var u,f,v,C,N,ee,ne,fe=i&&i.length,we=fe?i[0]*l:a.length,Ce=q_(a,0,we,l,!0),Ie=[];if(!Ce||Ce.next===Ce.prev)return Ie;if(fe&&(Ce=function(Ge,Je,gt,Mt){var mt,bt,Pt,kt=[];for(mt=0,bt=Je.length;mt<bt;mt++)(Pt=q_(Ge,Je[mt]*Mt,mt<bt-1?Je[mt+1]*Mt:Ge.length,Mt,!1))===Pt.next&&(Pt.steiner=!0),kt.push(D2(Pt));for(kt.sort(k2),mt=0;mt<kt.length;mt++)gt=A2(kt[mt],gt);return gt}(a,i,Ce,l)),a.length>80*l){u=v=a[0],f=C=a[1];for(var Be=l;Be<we;Be+=l)(N=a[Be])<u&&(u=N),(ee=a[Be+1])<f&&(f=ee),N>v&&(v=N),ee>C&&(C=ee);ne=(ne=Math.max(v-u,C-f))!==0?32767/ne:0}return Yf(Ce,Ie,l,u,f,ne,0),Ie}function q_(a,i,l,u,f){var v,C;if(f===P1(a,i,l,u)>0)for(v=i;v<l;v+=u)C=Z_(v,a[v],a[v+1],C);else for(v=l-u;v>=i;v-=u)C=Z_(v,a[v],a[v+1],C);return C&&Dp(C,C.next)&&(Xf(C),C=C.next),C}function Oh(a,i){if(!a)return a;i||(i=a);var l,u=a;do if(l=!1,u.steiner||!Dp(u,u.next)&&xo(u.prev,u,u.next)!==0)u=u.next;else{if(Xf(u),(u=i=u.prev)===u.next)break;l=!0}while(l||u!==i);return i}function Yf(a,i,l,u,f,v,C){if(a){!C&&v&&function(fe,we,Ce,Ie){var Be=fe;do Be.z===0&&(Be.z=M1(Be.x,Be.y,we,Ce,Ie)),Be.prevZ=Be.prev,Be.nextZ=Be.next,Be=Be.next;while(Be!==fe);Be.prevZ.nextZ=null,Be.prevZ=null,function(Ge){var Je,gt,Mt,mt,bt,Pt,kt,Qt,Jt=1;do{for(gt=Ge,Ge=null,bt=null,Pt=0;gt;){for(Pt++,Mt=gt,kt=0,Je=0;Je<Jt&&(kt++,Mt=Mt.nextZ);Je++);for(Qt=Jt;kt>0||Qt>0&&Mt;)kt!==0&&(Qt===0||!Mt||gt.z<=Mt.z)?(mt=gt,gt=gt.nextZ,kt--):(mt=Mt,Mt=Mt.nextZ,Qt--),bt?bt.nextZ=mt:Ge=mt,mt.prevZ=bt,bt=mt;gt=Mt}bt.nextZ=null,Jt*=2}while(Pt>1)}(Be)}(a,u,f,v);for(var N,ee,ne=a;a.prev!==a.next;)if(N=a.prev,ee=a.next,v?C2(a,u,f,v):S2(a))i.push(N.i/l|0),i.push(a.i/l|0),i.push(ee.i/l|0),Xf(a),a=ee.next,ne=ee.next;else if((a=ee)===ne){C?C===1?Yf(a=E2(Oh(a),i,l),i,l,u,f,v,2):C===2&&M2(a,i,l,u,f,v):Yf(Oh(a),i,l,u,f,v,1);break}}}function S2(a){var i=a.prev,l=a,u=a.next;if(xo(i,l,u)>=0)return!1;for(var f=i.x,v=l.x,C=u.x,N=i.y,ee=l.y,ne=u.y,fe=f<v?f<C?f:C:v<C?v:C,we=N<ee?N<ne?N:ne:ee<ne?ee:ne,Ce=f>v?f>C?f:C:v>C?v:C,Ie=N>ee?N>ne?N:ne:ee>ne?ee:ne,Be=u.next;Be!==i;){if(Be.x>=fe&&Be.x<=Ce&&Be.y>=we&&Be.y<=Ie&&Pp(f,N,v,ee,C,ne,Be.x,Be.y)&&xo(Be.prev,Be,Be.next)>=0)return!1;Be=Be.next}return!0}function C2(a,i,l,u){var f=a.prev,v=a,C=a.next;if(xo(f,v,C)>=0)return!1;for(var N=f.x,ee=v.x,ne=C.x,fe=f.y,we=v.y,Ce=C.y,Ie=N<ee?N<ne?N:ne:ee<ne?ee:ne,Be=fe<we?fe<Ce?fe:Ce:we<Ce?we:Ce,Ge=N>ee?N>ne?N:ne:ee>ne?ee:ne,Je=fe>we?fe>Ce?fe:Ce:we>Ce?we:Ce,gt=M1(Ie,Be,i,l,u),Mt=M1(Ge,Je,i,l,u),mt=a.prevZ,bt=a.nextZ;mt&&mt.z>=gt&&bt&&bt.z<=Mt;){if(mt.x>=Ie&&mt.x<=Ge&&mt.y>=Be&&mt.y<=Je&&mt!==f&&mt!==C&&Pp(N,fe,ee,we,ne,Ce,mt.x,mt.y)&&xo(mt.prev,mt,mt.next)>=0||(mt=mt.prevZ,bt.x>=Ie&&bt.x<=Ge&&bt.y>=Be&&bt.y<=Je&&bt!==f&&bt!==C&&Pp(N,fe,ee,we,ne,Ce,bt.x,bt.y)&&xo(bt.prev,bt,bt.next)>=0))return!1;bt=bt.nextZ}for(;mt&&mt.z>=gt;){if(mt.x>=Ie&&mt.x<=Ge&&mt.y>=Be&&mt.y<=Je&&mt!==f&&mt!==C&&Pp(N,fe,ee,we,ne,Ce,mt.x,mt.y)&&xo(mt.prev,mt,mt.next)>=0)return!1;mt=mt.prevZ}for(;bt&&bt.z<=Mt;){if(bt.x>=Ie&&bt.x<=Ge&&bt.y>=Be&&bt.y<=Je&&bt!==f&&bt!==C&&Pp(N,fe,ee,we,ne,Ce,bt.x,bt.y)&&xo(bt.prev,bt,bt.next)>=0)return!1;bt=bt.nextZ}return!0}function E2(a,i,l){var u=a;do{var f=u.prev,v=u.next.next;!Dp(f,v)&&k1(f,u,u.next,v)&&qf(f,v)&&qf(v,f)&&(i.push(f.i/l|0),i.push(u.i/l|0),i.push(v.i/l|0),Xf(u),Xf(u.next),u=a=v),u=u.next}while(u!==a);return Oh(u)}function M2(a,i,l,u,f,v){var C=a;do{for(var N=C.next.next;N!==C.prev;){if(C.i!==N.i&&I2(C,N)){var ee=X_(C,N);return C=Oh(C,C.next),ee=Oh(ee,ee.next),Yf(C,i,l,u,f,v,0),void Yf(ee,i,l,u,f,v,0)}N=N.next}C=C.next}while(C!==a)}function k2(a,i){return a.x-i.x}function A2(a,i){var l=function(f,v){var C,N=v,ee=f.x,ne=f.y,fe=-1/0;do{if(ne<=N.y&&ne>=N.next.y&&N.next.y!==N.y){var we=N.x+(ne-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(we<=ee&&we>fe&&(fe=we,C=N.x<N.next.x?N:N.next,we===ee))return C}N=N.next}while(N!==v);if(!C)return null;var Ce,Ie=C,Be=C.x,Ge=C.y,Je=1/0;N=C;do ee>=N.x&&N.x>=Be&&ee!==N.x&&Pp(ne<Ge?ee:fe,ne,Be,Ge,ne<Ge?fe:ee,ne,N.x,N.y)&&(Ce=Math.abs(ne-N.y)/(ee-N.x),qf(N,f)&&(Ce<Je||Ce===Je&&(N.x>C.x||N.x===C.x&&P2(C,N)))&&(C=N,Je=Ce)),N=N.next;while(N!==Ie);return C}(a,i);if(!l)return i;var u=X_(l,a);return Oh(u,u.next),Oh(l,l.next)}function P2(a,i){return xo(a.prev,a,i.prev)<0&&xo(i.next,a,a.next)<0}function M1(a,i,l,u,f){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-l)*f|0)|a<<8))|a<<4))|a<<2))|a<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-u)*f|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function D2(a){var i=a,l=a;do(i.x<l.x||i.x===l.x&&i.y<l.y)&&(l=i),i=i.next;while(i!==a);return l}function Pp(a,i,l,u,f,v,C,N){return(f-C)*(i-N)>=(a-C)*(v-N)&&(a-C)*(u-N)>=(l-C)*(i-N)&&(l-C)*(v-N)>=(f-C)*(u-N)}function I2(a,i){return a.next.i!==i.i&&a.prev.i!==i.i&&!function(l,u){var f=l;do{if(f.i!==l.i&&f.next.i!==l.i&&f.i!==u.i&&f.next.i!==u.i&&k1(f,f.next,l,u))return!0;f=f.next}while(f!==l);return!1}(a,i)&&(qf(a,i)&&qf(i,a)&&function(l,u){var f=l,v=!1,C=(l.x+u.x)/2,N=(l.y+u.y)/2;do f.y>N!=f.next.y>N&&f.next.y!==f.y&&C<(f.next.x-f.x)*(N-f.y)/(f.next.y-f.y)+f.x&&(v=!v),f=f.next;while(f!==l);return v}(a,i)&&(xo(a.prev,a,i.prev)||xo(a,i.prev,i))||Dp(a,i)&&xo(a.prev,a,a.next)>0&&xo(i.prev,i,i.next)>0)}function xo(a,i,l){return(i.y-a.y)*(l.x-i.x)-(i.x-a.x)*(l.y-i.y)}function Dp(a,i){return a.x===i.x&&a.y===i.y}function k1(a,i,l,u){var f=Pm(xo(a,i,l)),v=Pm(xo(a,i,u)),C=Pm(xo(l,u,a)),N=Pm(xo(l,u,i));return f!==v&&C!==N||!(f!==0||!Am(a,l,i))||!(v!==0||!Am(a,u,i))||!(C!==0||!Am(l,a,u))||!(N!==0||!Am(l,i,u))}function Am(a,i,l){return i.x<=Math.max(a.x,l.x)&&i.x>=Math.min(a.x,l.x)&&i.y<=Math.max(a.y,l.y)&&i.y>=Math.min(a.y,l.y)}function Pm(a){return a>0?1:a<0?-1:0}function qf(a,i){return xo(a.prev,a,a.next)<0?xo(a,i,a.next)>=0&&xo(a,a.prev,i)>=0:xo(a,i,a.prev)<0||xo(a,a.next,i)<0}function X_(a,i){var l=new A1(a.i,a.x,a.y),u=new A1(i.i,i.x,i.y),f=a.next,v=i.prev;return a.next=i,i.prev=a,l.next=f,f.prev=l,u.next=l,l.prev=u,v.next=u,u.prev=v,u}function Z_(a,i,l,u){var f=new A1(a,i,l);return u?(f.next=u.next,f.prev=u,u.next.prev=f,u.next=f):(f.prev=f,f.next=f),f}function Xf(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function A1(a,i,l){this.i=a,this.x=i,this.y=l,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P1(a,i,l,u){for(var f=0,v=i,C=l-u;v<l;v+=u)f+=(a[C]-a[v])*(a[v+1]+a[C+1]),C=v;return f}function K_(a,i,l,u,f){J_(a,i,l||0,u||a.length-1,f||L2)}function J_(a,i,l,u,f){for(;u>l;){if(u-l>600){var v=u-l+1,C=i-l+1,N=Math.log(v),ee=.5*Math.exp(2*N/3),ne=.5*Math.sqrt(N*ee*(v-ee)/v)*(C-v/2<0?-1:1);J_(a,i,Math.max(l,Math.floor(i-C*ee/v+ne)),Math.min(u,Math.floor(i+(v-C)*ee/v+ne)),f)}var fe=a[i],we=l,Ce=u;for(qu(a,l,i),f(a[u],fe)>0&&qu(a,l,u);we<Ce;){for(qu(a,we,Ce),we++,Ce--;f(a[we],fe)<0;)we++;for(;f(a[Ce],fe)>0;)Ce--}f(a[l],fe)===0?qu(a,l,Ce):qu(a,++Ce,u),Ce<=i&&(l=Ce+1),i<=Ce&&(u=Ce-1)}}function qu(a,i,l){var u=a[i];a[i]=a[l],a[l]=u}function L2(a,i){return a<i?-1:a>i?1:0}function D1(a,i){const l=a.length;if(l<=1)return[a];const u=[];let f,v;for(let C=0;C<l;C++){const N=Te(a[C]);N!==0&&(a[C].area=Math.abs(N),v===void 0&&(v=N<0),v===N<0?(f&&u.push(f),f=[a[C]]):f.push(a[C]))}if(f&&u.push(f),i>1)for(let C=0;C<u.length;C++)u[C].length<=i||(K_(u[C],i,1,u[C].length-1,O2),u[C]=u[C].slice(0,i));return u}function O2(a,i){return i.area-a.area}function I1(a,i,l){const u=l.patternDependencies;let f=!1;for(const v of i){const C=v.paint.get(`${a}-pattern`);C.isConstant()||(f=!0);const N=C.constantOr(null);N&&(f=!0,u[N]=!0)}return f}function L1(a,i,l,u,f){const v=f.patternDependencies;for(const C of i){const N=C.paint.get(`${a}-pattern`).value;if(N.kind!=="constant"){let ee=N.evaluate({zoom:u},l,{},f.availableImages);ee=ee&&ee.name?ee.name:ee,v[ee]=!0,l.patterns[C.id]=ee}}return l}Hf.exports=km,Hf.exports.default=km,km.deviation=function(a,i,l,u){var f=i&&i.length,v=Math.abs(P1(a,0,f?i[0]*l:a.length,l));if(f)for(var C=0,N=i.length;C<N;C++)v-=Math.abs(P1(a,i[C]*l,C<N-1?i[C+1]*l:a.length,l));var ee=0;for(C=0;C<u.length;C+=3){var ne=u[C]*l,fe=u[C+1]*l,we=u[C+2]*l;ee+=Math.abs((a[ne]-a[we])*(a[fe+1]-a[ne+1])-(a[ne]-a[fe])*(a[we+1]-a[ne+1]))}return v===0&&ee===0?0:Math.abs((ee-v)/v)},km.flatten=function(a){for(var i=a[0][0].length,l={vertices:[],holes:[],dimensions:i},u=0,f=0;f<a.length;f++){for(var v=0;v<a[f].length;v++)for(var C=0;C<i;C++)l.vertices.push(a[f][v][C]);f>0&&l.holes.push(u+=a[f-1].length)}return l};class Dm{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Gr,this.indexArray=new sa,this.indexArray2=new Pc,this.programConfigurations=new Bd(i.layers,i.zoom),this.segments=new vo,this.segments2=new vo,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.projection=i.projection}populate(i,l,u,f){this.hasPattern=I1("fill",this.layers,l);const v=this.layers[0].layout.get("fill-sort-key"),C=[];for(const{feature:N,id:ee,index:ne,sourceLayerIndex:fe}of i){const we=this.layers[0]._featureFilter.needGeometry,Ce=zd(N,we);if(!this.layers[0]._featureFilter.filter(new Vt(this.zoom),Ce,u))continue;const Ie=v?v.evaluate(Ce,{},u,l.availableImages):void 0,Be={id:ee,properties:N.properties,type:N.type,sourceLayerIndex:fe,index:ne,geometry:we?Ce.geometry:rd(N,u,f),patterns:{},sortKey:Ie};C.push(Be)}v&&C.sort((N,ee)=>N.sortKey-ee.sortKey);for(const N of C){const{geometry:ee,index:ne,sourceLayerIndex:fe}=N;if(this.hasPattern){const we=L1("fill",this.layers,N,this.zoom,l);this.patternFeatures.push(we)}else this.addFeature(N,ee,ne,u,{},l.availableImages);l.featureIndex.insert(i[ne].feature,ee,ne,fe,this.index)}}update(i,l,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,u,f)}addFeatures(i,l,u,f,v){for(const C of this.patternFeatures)this.addFeature(C,C.geometry,C.index,l,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,T2),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,l,u,f,v,C=[]){for(const N of D1(l,500)){let ee=0;for(const Be of N)ee+=Be.length;const ne=this.segments.prepareSegment(ee,this.layoutVertexArray,this.indexArray),fe=ne.vertexLength,we=[],Ce=[];for(const Be of N){if(Be.length===0)continue;Be!==N[0]&&Ce.push(we.length/2);const Ge=this.segments2.prepareSegment(Be.length,this.layoutVertexArray,this.indexArray2),Je=Ge.vertexLength;this.layoutVertexArray.emplaceBack(Be[0].x,Be[0].y),this.indexArray2.emplaceBack(Je+Be.length-1,Je),we.push(Be[0].x),we.push(Be[0].y);for(let gt=1;gt<Be.length;gt++)this.layoutVertexArray.emplaceBack(Be[gt].x,Be[gt].y),this.indexArray2.emplaceBack(Je+gt-1,Je+gt),we.push(Be[gt].x),we.push(Be[gt].y);Ge.vertexLength+=Be.length,Ge.primitiveLength+=Be.length}const Ie=Hf.exports(we,Ce);for(let Be=0;Be<Ie.length;Be+=3)this.indexArray.emplaceBack(fe+Ie[Be],fe+Ie[Be+1],fe+Ie[Be+2]);ne.vertexLength+=ee,ne.primitiveLength+=Ie.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,u,v,C,f)}}Ji(Dm,"FillBucket",{omit:["layers","patternFeatures"]});const R2=new Sn({"fill-sort-key":new ii(hi.layout_fill["fill-sort-key"])});var B2={paint:new Sn({"fill-antialias":new Ht(hi.paint_fill["fill-antialias"]),"fill-opacity":new ii(hi.paint_fill["fill-opacity"]),"fill-color":new ii(hi.paint_fill["fill-color"]),"fill-outline-color":new ii(hi.paint_fill["fill-outline-color"]),"fill-translate":new Ht(hi.paint_fill["fill-translate"]),"fill-translate-anchor":new Ht(hi.paint_fill["fill-translate-anchor"]),"fill-pattern":new ii(hi.paint_fill["fill-pattern"])}),layout:R2};const z2=an([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),N2=an([{name:"a_centroid_pos",components:2,type:"Uint16"}]),F2=an([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:j2}=z2;var Im={},U2=U,Q_=Ip;function Ip(a,i,l,u,f){this.properties={},this.extent=l,this.type=0,this._pbf=a,this._geometry=-1,this._keys=u,this._values=f,a.readFields(ev,this,i)}function ev(a,i,l){a==1?i.id=l.readVarint():a==2?function(u,f){for(var v=u.readVarint()+u.pos;u.pos<v;){var C=f._keys[u.readVarint()],N=f._values[u.readVarint()];f.properties[C]=N}}(l,i):a==3?i.type=l.readVarint():a==4&&(i._geometry=l.pos)}function tv(a){for(var i,l,u=0,f=0,v=a.length,C=v-1;f<v;C=f++)u+=((l=a[C]).x-(i=a[f]).x)*(i.y+l.y);return u}Ip.types=["Unknown","Point","LineString","Polygon"],Ip.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;for(var i,l=a.readVarint()+a.pos,u=1,f=0,v=0,C=0,N=[];a.pos<l;){if(f<=0){var ee=a.readVarint();u=7&ee,f=ee>>3}if(f--,u===1||u===2)v+=a.readSVarint(),C+=a.readSVarint(),u===1&&(i&&N.push(i),i=[]),i.push(new U2(v,C));else{if(u!==7)throw new Error("unknown command "+u);i&&i.push(i[0].clone())}}return i&&N.push(i),N},Ip.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;for(var i=a.readVarint()+a.pos,l=1,u=0,f=0,v=0,C=1/0,N=-1/0,ee=1/0,ne=-1/0;a.pos<i;){if(u<=0){var fe=a.readVarint();l=7&fe,u=fe>>3}if(u--,l===1||l===2)(f+=a.readSVarint())<C&&(C=f),f>N&&(N=f),(v+=a.readSVarint())<ee&&(ee=v),v>ne&&(ne=v);else if(l!==7)throw new Error("unknown command "+l)}return[C,ee,N,ne]},Ip.prototype.toGeoJSON=function(a,i,l){var u,f,v=this.extent*Math.pow(2,l),C=this.extent*a,N=this.extent*i,ee=this.loadGeometry(),ne=Ip.types[this.type];function fe(Ie){for(var Be=0;Be<Ie.length;Be++){var Ge=Ie[Be];Ie[Be]=[360*(Ge.x+C)/v-180,360/Math.PI*Math.atan(Math.exp((180-360*(Ge.y+N)/v)*Math.PI/180))-90]}}switch(this.type){case 1:var we=[];for(u=0;u<ee.length;u++)we[u]=ee[u][0];fe(ee=we);break;case 2:for(u=0;u<ee.length;u++)fe(ee[u]);break;case 3:for(ee=function(Ie){var Be=Ie.length;if(Be<=1)return[Ie];for(var Ge,Je,gt=[],Mt=0;Mt<Be;Mt++){var mt=tv(Ie[Mt]);mt!==0&&(Je===void 0&&(Je=mt<0),Je===mt<0?(Ge&&gt.push(Ge),Ge=[Ie[Mt]]):Ge.push(Ie[Mt]))}return Ge&&gt.push(Ge),gt}(ee),u=0;u<ee.length;u++)for(f=0;f<ee[u].length;f++)fe(ee[u][f])}ee.length===1?ee=ee[0]:ne="Multi"+ne;var Ce={type:"Feature",geometry:{type:ne,coordinates:ee},properties:this.properties};return"id"in this&&(Ce.id=this.id),Ce};var $2=Q_,iv=nv;function nv(a,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=a,this._keys=[],this._values=[],this._features=[],a.readFields(V2,this,i),this.length=this._features.length}function V2(a,i,l){a===15?i.version=l.readVarint():a===1?i.name=l.readString():a===5?i.extent=l.readVarint():a===2?i._features.push(l.pos):a===3?i._keys.push(l.readString()):a===4&&i._values.push(function(u){for(var f=null,v=u.readVarint()+u.pos;u.pos<v;){var C=u.readVarint()>>3;f=C===1?u.readString():C===2?u.readFloat():C===3?u.readDouble():C===4?u.readVarint64():C===5?u.readVarint():C===6?u.readSVarint():C===7?u.readBoolean():null}return f}(l))}nv.prototype.feature=function(a){if(a<0||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];var i=this._pbf.readVarint()+this._pbf.pos;return new $2(this._pbf,i,this.extent,this._keys,this._values)};var Lm=iv;function G2(a,i,l){if(a===3){var u=new Lm(l,l.readVarint()+l.pos);u.length&&(i[u.name]=u)}}var O1=Im.VectorTile=function(a,i){this.layers=a.readFields(G2,{},i)},Om=Im.VectorTileFeature=Q_;function Rm(a,i,l,u){const f=[],v=u===0?(C,N,ee,ne,fe,we)=>{C.push(new U(we,ee+(we-N)/(ne-N)*(fe-ee)))}:(C,N,ee,ne,fe,we)=>{C.push(new U(N+(we-ee)/(fe-ee)*(ne-N),we))};for(const C of a){const N=[];for(const ee of C){if(ee.length<=2)continue;const ne=[];for(let Ce=0;Ce<ee.length-1;Ce++){const Ie=ee[Ce].x,Be=ee[Ce].y,Ge=ee[Ce+1].x,Je=ee[Ce+1].y,gt=u===0?Ie:Be,Mt=u===0?Ge:Je;gt<i?Mt>i&&v(ne,Ie,Be,Ge,Je,i):gt>l?Mt<l&&v(ne,Ie,Be,Ge,Je,l):ne.push(ee[Ce]),Mt<i&&gt>=i&&v(ne,Ie,Be,Ge,Je,i),Mt>l&&gt<=l&&v(ne,Ie,Be,Ge,Je,l)}let fe=ee[ee.length-1];const we=u===0?fe.x:fe.y;we>=i&&we<=l&&ne.push(fe),ne.length&&(fe=ne[ne.length-1],ne[0].x===fe.x&&ne[0].y===fe.y||ne.push(ne[0]),N.push(ne))}N.length&&f.push(N)}return f}Im.VectorTileLayer=iv;const W2=Om.types,H2=Math.pow(2,13);function Zf(a,i,l,u,f,v,C,N){a.emplaceBack((i<<1)+C,(l<<1)+v,(Math.floor(u*H2)<<1)+f,Math.round(N))}function Kf(a,i,l){a.emplaceBack(i.x,i.y,i.z,l[0]*16384,l[1]*16384,l[2]*16384)}class rv{constructor(){this.acc=new U(0,0),this.polyCount=[]}startRing(i){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new U(i.x,i.y),this.max=new U(i.x,i.y))}append(i,l){this.currentPolyCount.edges++,this.acc._add(i);const u=this.min,f=this.max;i.x<u.x?u.x=i.x:i.x>f.x&&(f.x=i.x),i.y<u.y?u.y=i.y:i.y>f.y&&(f.y=i.y),((i.x===0||i.x===On)&&i.x===l.x)!=((i.y===0||i.y===On)&&i.y===l.y)&&this.processBorderOverlap(i,l),l.x<0!=i.x<0&&this.addBorderIntersection(0,Zn(l.y,i.y,(0-l.x)/(i.x-l.x))),l.x>On!=i.x>On&&this.addBorderIntersection(1,Zn(l.y,i.y,(On-l.x)/(i.x-l.x))),l.y<0!=i.y<0&&this.addBorderIntersection(2,Zn(l.x,i.x,(0-l.y)/(i.y-l.y))),l.y>On!=i.y>On&&this.addBorderIntersection(3,Zn(l.x,i.x,(On-l.y)/(i.y-l.y)))}addBorderIntersection(i,l){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const u=this.borders[i];l<u[0]&&(u[0]=l),l>u[1]&&(u[1]=l)}processBorderOverlap(i,l){if(i.x===l.x){if(i.y===l.y)return;const u=i.x===0?0:1;this.addBorderIntersection(u,l.y),this.addBorderIntersection(u,i.y)}else{const u=i.y===0?2:3;this.addBorderIntersection(u,l.x),this.addBorderIntersection(u,i.x)}}centroid(){const i=this.polyCount.reduce((l,u)=>l+u.edges,0);return i!==0?this.acc.div(i)._round():new U(0,0)}span(){return new U(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((i,l)=>i+ +(l[0]!==Number.MAX_VALUE),0)}}class Jf{constructor(i){this.zoom=i.zoom,this.canonical=i.canonical,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=i.projection,this.layoutVertexArray=new es,this.centroidVertexArray=new ym,this.indexArray=new sa,this.programConfigurations=new Bd(i.layers,i.zoom),this.segments=new vo,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.enableTerrain=i.enableTerrain}populate(i,l,u,f){this.features=[],this.hasPattern=I1("fill-extrusion",this.layers,l),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(v){const C=Math.exp(Math.PI*(1-v.y/(1<<v.z)*2));return 80150034*C/(C*C+1)/On/(1<<v.z)}(u),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:v,id:C,index:N,sourceLayerIndex:ee}of i){const ne=this.layers[0]._featureFilter.needGeometry,fe=zd(v,ne);if(!this.layers[0]._featureFilter.filter(new Vt(this.zoom),fe,u))continue;const we={id:C,sourceLayerIndex:ee,index:N,geometry:ne?fe.geometry:rd(v,u,f),properties:v.properties,type:v.type,patterns:{}},Ce=this.layoutVertexArray.length;this.hasPattern?this.features.push(L1("fill-extrusion",this.layers,we,this.zoom,l)):this.addFeature(we,we.geometry,N,u,{},l.availableImages,f),l.featureIndex.insert(v,we.geometry,N,ee,this.index,Ce)}this.sortBorders()}addFeatures(i,l,u,f,v){for(const C of this.features){const{geometry:N}=C;this.addFeature(C,N,C.index,l,u,f,v)}this.sortBorders()}update(i,l,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,j2),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=i.createVertexBuffer(this.layoutVertexExtArray,F2.members,!0))),this.programConfigurations.upload(i),this.uploaded=!0}uploadCentroid(i){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,N2.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,l,u,f,v,C,N){const ee=[new U(0,0),new U(On,On)],ne=N.projection,fe=ne.name==="globe",we=this.enableTerrain&&!fe?new rv:null,Ce=W2[i.type]==="Polygon";fe&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new ms);const Ie=D1(l,500);for(let gt=Ie.length-1;gt>=0;gt--){const Mt=Ie[gt];(Mt.length===0||(Be=Mt[0]).every(mt=>mt.x<=0)||Be.every(mt=>mt.x>=On)||Be.every(mt=>mt.y<=0)||Be.every(mt=>mt.y>=On))&&Ie.splice(gt,1)}var Be;let Ge;if(fe)Ge=N1(Ie,ee,f);else{Ge=[];for(const gt of Ie)Ge.push({polygon:gt,bounds:ee})}const Je=Ce?this.edgeRadius:0;for(const{polygon:gt,bounds:Mt}of Ge){let mt=0,bt=0;for(const kt of gt)Ce&&!kt[0].equals(kt[kt.length-1])&&kt.push(kt[0]),bt+=Ce?kt.length-1:kt.length;const Pt=this.segments.prepareSegment((Ce?5:4)*bt,this.layoutVertexArray,this.indexArray);if(Ce){const kt=[],Qt=[];mt=Pt.vertexLength;for(const gi of gt){let Fi,oi;gi.length&&gi!==gt[0]&&Qt.push(kt.length/2),Fi=gi[1].sub(gi[0])._perp()._unit();for(let bi=1;bi<gi.length;bi++){const Ti=gi[bi],Li=gi[bi===gi.length-1?1:bi+1];let{x:ji,y:li}=Ti;if(Je){oi=Li.sub(Ti)._perp()._unit();const Zi=Fi.add(oi)._unit(),zn=Je*Math.min(4,1/(Fi.x*Zi.x+Fi.y*Zi.y));ji+=zn*Zi.x,li+=zn*Zi.y,Fi=oi}Zf(this.layoutVertexArray,ji,li,0,0,1,1,0),Pt.vertexLength++,kt.push(Ti.x,Ti.y),fe&&Kf(this.layoutVertexExtArray,ne.projectTilePoint(ji,li,f),ne.upVector(f,ji,li))}}const Jt=Hf.exports(kt,Qt);for(let gi=0;gi<Jt.length;gi+=3)this.indexArray.emplaceBack(mt+Jt[gi],mt+Jt[gi+2],mt+Jt[gi+1]),Pt.primitiveLength++}for(const kt of gt){we&&kt.length&&we.startRing(kt[0]);let Qt,Jt,gi,Fi=kt.length>4&&B1(kt[kt.length-2],kt[0],kt[1]),oi=Je?Bm(kt[kt.length-2],kt[0],kt[1],Je):0;Jt=kt[1].sub(kt[0])._perp()._unit();let bi=!0;for(let Ti=1,Li=0;Ti<kt.length;Ti++){let ji=kt[Ti-1],li=kt[Ti];const Zi=kt[Ti===kt.length-1?1:Ti+1];if(we&&Ce&&we.currentPolyCount.top++,R1(li,ji,Mt)){Je&&(Jt=Zi.sub(li)._perp()._unit(),bi=!bi);continue}we&&we.append(li,ji);const zn=li.sub(ji)._perp(),rn=zn.x/(Math.abs(zn.x)+Math.abs(zn.y)),vn=zn.y>0?1:0,Ki=ji.dist(li);if(Li+Ki>32768&&(Li=0),Je){gi=Zi.sub(li)._perp()._unit();let yr=ov(ji,li,Zi,sv(Jt,gi),Je);isNaN(yr)&&(yr=0);const Vn=li.sub(ji)._unit();ji=ji.add(Vn.mult(oi))._round(),li=li.add(Vn.mult(-yr))._round(),oi=yr,Jt=gi}const $n=Pt.vertexLength,Sr=kt.length>4&&B1(ji,li,Zi);let xr=zm(Li,Fi,bi);if(Zf(this.layoutVertexArray,ji.x,ji.y,rn,vn,0,0,xr),Zf(this.layoutVertexArray,ji.x,ji.y,rn,vn,0,1,xr),Li+=Ki,xr=zm(Li,Sr,!bi),Fi=Sr,Zf(this.layoutVertexArray,li.x,li.y,rn,vn,0,0,xr),Zf(this.layoutVertexArray,li.x,li.y,rn,vn,0,1,xr),Pt.vertexLength+=4,this.indexArray.emplaceBack($n+0,$n+1,$n+2),this.indexArray.emplaceBack($n+1,$n+3,$n+2),Pt.primitiveLength+=2,Je){const yr=mt+(Ti===1?kt.length-2:Ti-2),Vn=Ti===1?mt:yr+1;if(this.indexArray.emplaceBack($n+1,yr,$n+3),this.indexArray.emplaceBack(yr,Vn,$n+3),Pt.primitiveLength+=2,Qt===void 0&&(Qt=$n),!R1(Zi,kt[Ti],Mt)){const ls=Ti===kt.length-1?Qt:Pt.vertexLength;this.indexArray.emplaceBack($n+2,$n+3,ls),this.indexArray.emplaceBack($n+3,ls+1,ls),this.indexArray.emplaceBack($n+3,Vn,ls+1),Pt.primitiveLength+=3}bi=!bi}if(fe){const yr=this.layoutVertexExtArray,Vn=ne.projectTilePoint(ji.x,ji.y,f),ls=ne.projectTilePoint(li.x,li.y,f),rr=ne.upVector(f,ji.x,ji.y),Cr=ne.upVector(f,li.x,li.y);Kf(yr,Vn,rr),Kf(yr,Vn,rr),Kf(yr,ls,Cr),Kf(yr,ls,Cr)}}Ce&&(mt+=kt.length-1)}}if(we&&we.polyCount.length>0){if(we.borders){we.vertexArrayOffset=this.centroidVertexArray.length;const gt=we.borders,Mt=this.featuresOnBorder.push(we)-1;for(let mt=0;mt<4;mt++)gt[mt][0]!==Number.MAX_VALUE&&this.borders[mt].push(Mt)}this.encodeCentroid(we.borders?void 0:we.centroid(),we)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,u,v,C,f)}sortBorders(){for(let i=0;i<4;i++)this.borders[i].sort((l,u)=>this.featuresOnBorder[l].borders[i][0]-this.featuresOnBorder[u].borders[i][0])}encodeCentroid(i,l,u=!0){let f,v;if(i)if(i.y!==0){const N=l.span()._mult(this.tileToMeter);f=(Math.max(i.x,1)<<3)+Math.min(7,Math.round(N.x/10)),v=(Math.max(i.y,1)<<3)+Math.min(7,Math.round(N.y/10))}else f=Math.ceil(7*(i.x+450)),v=0;else f=0,v=+u;let C=u?this.centroidVertexArray.length:l.vertexArrayOffset;for(const N of l.polyCount){u&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*N.edges+N.top);for(let ee=0;ee<N.top;ee++)this.centroidVertexArray.emplace(C++,f,v);for(let ee=0;ee<2*N.edges;ee++)this.centroidVertexArray.emplace(C++,0,v),this.centroidVertexArray.emplace(C++,f,v)}}}function sv(a,i){const l=a.add(i)._unit();return a.x*l.x+a.y*l.y}function Bm(a,i,l,u){const f=i.sub(a)._perp()._unit(),v=l.sub(i)._perp()._unit();return ov(a,i,l,sv(f,v),u)}function ov(a,i,l,u,f){const v=Math.sqrt(1-u*u);return Math.min(a.dist(i)/3,i.dist(l)/3,f*v/u)}function R1(a,i,l){return a.x<l[0].x&&i.x<l[0].x||a.x>l[1].x&&i.x>l[1].x||a.y<l[0].y&&i.y<l[0].y||a.y>l[1].y&&i.y>l[1].y}function B1(a,i,l){if(a.x<0||a.x>=On||i.x<0||i.x>=On||l.x<0||l.x>=On)return!1;const u=l.sub(i),f=u.perp(),v=a.sub(i);return(u.x*v.x+u.y*v.y)/Math.sqrt((u.x*u.x+u.y*u.y)*(v.x*v.x+v.y*v.y))>-.866&&f.x*v.x+f.y*v.y<0}function zm(a,i,l){const u=i?2|a:-3&a;return l?1|u:-2&u}function z1(){const a=Math.PI/32,i=Math.tan(a),l=Eh;return l*Math.sqrt(1+2*i*i)-l}function N1(a,i,l){const u=1<<l.z,f=dl(l.x/u),v=dl((l.x+1)/u),C=xa(l.y/u),N=xa((l.y+1)/u);return function(ee,ne,fe,we,Ce=0,Ie){const Be=[];if(!ee.length||!fe||!we)return Be;const Ge=(kt,Qt)=>{for(const Jt of kt)Be.push({polygon:Jt,bounds:Qt})},Je=Math.ceil(Math.log2(fe)),gt=Math.ceil(Math.log2(we)),Mt=Je-gt,mt=[];for(let kt=0;kt<Math.abs(Mt);kt++)mt.push(Mt>0?0:1);for(let kt=0;kt<Math.min(Je,gt);kt++)mt.push(0),mt.push(1);let bt=ee;if(bt=Rm(bt,ne[0].y-Ce,ne[1].y+Ce,1),bt=Rm(bt,ne[0].x-Ce,ne[1].x+Ce,0),!bt.length)return Be;const Pt=[];for(mt.length?Pt.push({polygons:bt,bounds:ne,depth:0}):Ge(bt,ne);Pt.length;){const kt=Pt.pop(),Qt=kt.depth,Jt=mt[Qt],gi=kt.bounds[0],Fi=kt.bounds[1],oi=Jt===0?gi.x:gi.y,bi=Jt===0?Fi.x:Fi.y,Ti=Ie?Ie(Jt,oi,bi):.5*(oi+bi),Li=Rm(kt.polygons,oi-Ce,Ti+Ce,Jt),ji=Rm(kt.polygons,Ti-Ce,bi+Ce,Jt);if(Li.length){const li=[gi,new U(Jt===0?Ti:Fi.x,Jt===1?Ti:Fi.y)];mt.length>Qt+1?Pt.push({polygons:Li,bounds:li,depth:Qt+1}):Ge(Li,li)}if(ji.length){const li=[new U(Jt===0?Ti:gi.x,Jt===1?Ti:gi.y),Fi];mt.length>Qt+1?Pt.push({polygons:ji,bounds:li,depth:Qt+1}):Ge(ji,li)}}return Be}(a,i,Math.ceil((v-f)/11.25),Math.ceil((C-N)/11.25),1,(ee,ne,fe)=>{if(ee===0)return .5*(ne+fe);{const we=xa((l.y+ne/On)/u);return(lc(.5*(xa((l.y+fe/On)/u)+we))*u-l.y)*On}})}Ji(Jf,"FillExtrusionBucket",{omit:["layers","features"]}),Ji(rv,"PartMetadata");const av=new Sn({"fill-extrusion-edge-radius":new Ht(hi["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var lv={paint:new Sn({"fill-extrusion-opacity":new Ht(hi["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ii(hi["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ht(hi["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ht(hi["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ii(hi["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ii(hi["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ii(hi["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ht(hi["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Ht(hi["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Ht(hi["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:av};function cv(a,i,l){var u=2*Math.PI*6378137/256/Math.pow(2,l);return[a*u-2*Math.PI*6378137/2,i*u-2*Math.PI*6378137/2]}class Nm{constructor(i,l,u){this.z=i,this.x=l,this.y=u,this.key=Xu(0,i,i,l,u)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,l){const u=function(v,C,N){var ee=cv(256*v,256*(C=Math.pow(2,N)-C-1),N),ne=cv(256*(v+1),256*(C+1),N);return ee[0]+","+ee[1]+","+ne[0]+","+ne[1]}(this.x,this.y,this.z),f=function(v,C,N){let ee,ne="";for(let fe=v;fe>0;fe--)ee=1<<fe-1,ne+=(C&ee?1:0)+(N&ee?2:0);return ne}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(l==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",f).replace("{bbox-epsg-3857}",u)}toString(){return`${this.z}/${this.x}/${this.y}`}}class dv{constructor(i,l){this.wrap=i,this.canonical=l,this.key=Xu(i,l.z,l.z,l.x,l.y)}}class oa{constructor(i,l,u,f,v){this.overscaledZ=i,this.wrap=l,this.canonical=new Nm(u,+f,+v),this.key=l===0&&i===u?this.canonical.key:Xu(l,i,u,f,v)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){const l=this.canonical.z-i;return i>this.canonical.z?new oa(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new oa(i,this.wrap,i,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(i,l=!0){if(this.overscaledZ===i&&l)return this.key;if(i>this.canonical.z)return Xu(this.wrap*+l,i,this.canonical.z,this.canonical.x,this.canonical.y);{const u=this.canonical.z-i;return Xu(this.wrap*+l,i,i,this.canonical.x>>u,this.canonical.y>>u)}}isChildOf(i){if(i.wrap!==this.wrap)return!1;const l=this.canonical.z-i.canonical.z;return i.overscaledZ===0||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>l&&i.canonical.y===this.canonical.y>>l}children(i){if(this.overscaledZ>=i)return[new oa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const l=this.canonical.z+1,u=2*this.canonical.x,f=2*this.canonical.y;return[new oa(l,this.wrap,l,u,f),new oa(l,this.wrap,l,u+1,f),new oa(l,this.wrap,l,u,f+1),new oa(l,this.wrap,l,u+1,f+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new oa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new oa(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new dv(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Xu(a,i,l,u,f){const v=1<<Math.min(l,22);let C=v*(f%v)+u%v;return a&&l<22&&(C+=v*v*((a<0?-2*a-1:2*a)%(1<<2*(22-l)))),16*(32*C+l)+(i-l)}Ji(Nm,"CanonicalTileID"),Ji(oa,"OverscaledTileID",{omit:["projMatrix"]});class Lp extends U{constructor(i,l,u){super(i,l),this.z=u}}function Qf(a,i){return a.x*i.x+a.y*i.y}function Fm(a,i){if(a.length===1){let l=0;const u=i[l++];let f;for(;!f||u.equals(f);)if(f=i[l++],!f)return 1/0;for(;l<i.length;l++){const v=i[l],C=a[0],N=f.sub(u),ee=v.sub(u),ne=C.sub(u),fe=Qf(N,N),we=Qf(N,ee),Ce=Qf(ee,ee),Ie=Qf(ne,N),Be=Qf(ne,ee),Ge=fe*Ce-we*we,Je=(Ce*Ie-we*Be)/Ge,gt=(fe*Be-we*Ie)/Ge,Mt=u.z*(1-Je-gt)+f.z*Je+v.z*gt;if(isFinite(Mt))return Mt}return 1/0}{let l=1/0;for(const u of i)l=Math.min(l,u.z);return l}}function F1(a,i,l,u,f,v,C,N){const ee=C*f.getElevationAt(a,i,!0,!0),ne=v[0]!==0,fe=ne?v[1]===0?C*(v[0]/7-450):C*function(we,Ce,Ie){const Be=Math.floor(Ce[0]/8),Ge=Math.floor(Ce[1]/8),Je=10*(Ce[0]-8*Be),gt=10*(Ce[1]-8*Ge),Mt=we.getElevationAt(Be,Ge,!0,!0),mt=we.getMeterToDEM(Ie),bt=Math.floor(.5*(Je*mt-1)),Pt=Math.floor(.5*(gt*mt-1)),kt=we.tileCoordToPixel(Be,Ge),Qt=2*bt+1,Jt=2*Pt+1,gi=function(ji,li,Zi,zn,rn){return[ji.getElevationAtPixel(li,Zi,!0),ji.getElevationAtPixel(li+rn,Zi,!0),ji.getElevationAtPixel(li,Zi+rn,!0),ji.getElevationAtPixel(li+zn,Zi+rn,!0)]}(we,kt.x-bt,kt.y-Pt,Qt,Jt),Fi=Math.abs(gi[0]-gi[1]),oi=Math.abs(gi[2]-gi[3]),bi=Math.abs(gi[0]-gi[2])+Math.abs(gi[1]-gi[3]),Ti=Math.min(.25,.5*mt*(Fi+oi)/Qt),Li=Math.min(.25,.5*mt*bi/Jt);return Mt+Math.max(Ti*Je,Li*gt)}(f,v,N):ee;return{base:ee+(l===0)?-1:l,top:ne?Math.max(fe+u,ee+l+2):ee+u}}const Y2=an([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:q2}=Y2,X2=an([{name:"a_packed",components:4,type:"Float32"}]),{members:Z2}=X2,K2=Om.types,J2=Math.cos(Math.PI/180*37.5);class jm{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.projection=i.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new Wa,this.layoutVertexArray2=new ka,this.indexArray=new sa,this.programConfigurations=new Bd(i.layers,i.zoom),this.segments=new vo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(i,l,u,f){this.hasPattern=I1("line",this.layers,l);const v=this.layers[0].layout.get("line-sort-key"),C=[];for(const{feature:fe,id:we,index:Ce,sourceLayerIndex:Ie}of i){const Be=this.layers[0]._featureFilter.needGeometry,Ge=zd(fe,Be);if(!this.layers[0]._featureFilter.filter(new Vt(this.zoom),Ge,u))continue;const Je=v?v.evaluate(Ge,{},u):void 0,gt={id:we,properties:fe.properties,type:fe.type,sourceLayerIndex:Ie,index:Ce,geometry:Be?Ge.geometry:rd(fe,u,f),patterns:{},sortKey:Je};C.push(gt)}v&&C.sort((fe,we)=>fe.sortKey-we.sortKey);const{lineAtlas:N,featureIndex:ee}=l,ne=this.addConstantDashes(N);for(const fe of C){const{geometry:we,index:Ce,sourceLayerIndex:Ie}=fe;if(ne&&this.addFeatureDashes(fe,N),this.hasPattern){const Be=L1("line",this.layers,fe,this.zoom,l);this.patternFeatures.push(Be)}else this.addFeature(fe,we,Ce,u,N.positions,l.availableImages);ee.insert(i[Ce].feature,we,Ce,Ie,this.index)}}addConstantDashes(i){let l=!1;for(const u of this.layers){const f=u.paint.get("line-dasharray").value,v=u.layout.get("line-cap").value;if(f.kind!=="constant"||v.kind!=="constant")l=!0;else{const C=v.value,N=f.value;if(!N)continue;i.addDash(N,C)}}return l}addFeatureDashes(i,l){const u=this.zoom;for(const f of this.layers){const v=f.paint.get("line-dasharray").value,C=f.layout.get("line-cap").value;if(v.kind==="constant"&&C.kind==="constant")continue;let N,ee;if(v.kind==="constant"){if(N=v.value,!N)continue}else N=v.evaluate({zoom:u},i);ee=C.kind==="constant"?C.value:C.evaluate({zoom:u},i),l.addDash(N,ee),i.patterns[f.id]=l.getKey(N,ee)}}update(i,l,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,u,f)}addFeatures(i,l,u,f,v){for(const C of this.patternFeatures)this.addFeature(C,C.geometry,C.index,l,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,Z2)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,q2),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&i.properties.hasOwnProperty("mapbox_clip_start")&&i.properties.hasOwnProperty("mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,l,u,f,v,C){const N=this.layers[0].layout,ee=N.get("line-join").evaluate(i,{}),ne=N.get("line-cap").evaluate(i,{}),fe=N.get("line-miter-limit"),we=N.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const Ce of l)this.addLine(Ce,i,ee,ne,fe,we);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,u,v,C,f)}addLine(i,l,u,f,v,C){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let gt=0;gt<i.length-1;gt++)this.totalDistance+=i[gt].dist(i[gt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const N=K2[l.type]==="Polygon";let ee=i.length;for(;ee>=2&&i[ee-1].equals(i[ee-2]);)ee--;let ne=0;for(;ne<ee-1&&i[ne].equals(i[ne+1]);)ne++;if(ee<(N?3:2))return;u==="bevel"&&(v=1.05);const fe=this.overscaling<=16?122880/(512*this.overscaling):0,we=this.segments.prepareSegment(10*ee,this.layoutVertexArray,this.indexArray);let Ce,Ie,Be,Ge,Je;this.e1=this.e2=-1,N&&(Ce=i[ee-2],Je=i[ne].sub(Ce)._unit()._perp());for(let gt=ne;gt<ee;gt++){if(Be=gt===ee-1?N?i[ne+1]:void 0:i[gt+1],Be&&i[gt].equals(Be))continue;Je&&(Ge=Je),Ce&&(Ie=Ce),Ce=i[gt],Je=Be?Be.sub(Ce)._unit()._perp():Ge,Ge=Ge||Je;let Mt=Ge.add(Je);Mt.x===0&&Mt.y===0||Mt._unit();const mt=Ge.x*Je.x+Ge.y*Je.y,bt=Mt.x*Je.x+Mt.y*Je.y,Pt=bt!==0?1/bt:1/0,kt=2*Math.sqrt(2-2*bt),Qt=bt<J2&&Ie&&Be,Jt=Ge.x*Je.y-Ge.y*Je.x>0;if(Qt&&gt>ne){const oi=Ce.dist(Ie);if(oi>2*fe){const bi=Ce.sub(Ce.sub(Ie)._mult(fe/oi)._round());this.updateDistance(Ie,bi),this.addCurrentVertex(bi,Ge,0,0,we),Ie=bi}}const gi=Ie&&Be;let Fi=gi?u:N?"butt":f;if(gi&&Fi==="round"&&(Pt<C?Fi="miter":Pt<=2&&(Fi="fakeround")),Fi==="miter"&&Pt>v&&(Fi="bevel"),Fi==="bevel"&&(Pt>2&&(Fi="flipbevel"),Pt<v&&(Fi="miter")),Ie&&this.updateDistance(Ie,Ce),Fi==="miter")Mt._mult(Pt),this.addCurrentVertex(Ce,Mt,0,0,we);else if(Fi==="flipbevel"){if(Pt>100)Mt=Je.mult(-1);else{const oi=Pt*Ge.add(Je).mag()/Ge.sub(Je).mag();Mt._perp()._mult(oi*(Jt?-1:1))}this.addCurrentVertex(Ce,Mt,0,0,we),this.addCurrentVertex(Ce,Mt.mult(-1),0,0,we)}else if(Fi==="bevel"||Fi==="fakeround"){const oi=-Math.sqrt(Pt*Pt-1),bi=Jt?oi:0,Ti=Jt?0:oi;if(Ie&&this.addCurrentVertex(Ce,Ge,bi,Ti,we),Fi==="fakeround"){const Li=Math.round(180*kt/Math.PI/20);for(let ji=1;ji<Li;ji++){let li=ji/Li;if(li!==.5){const zn=li-.5;li+=li*zn*(li-1)*((1.0904+mt*(mt*(3.55645-1.43519*mt)-3.2452))*zn*zn+(.848013+mt*(.215638*mt-1.06021)))}const Zi=Je.sub(Ge)._mult(li)._add(Ge)._unit()._mult(Jt?-1:1);this.addHalfVertex(Ce,Zi.x,Zi.y,!1,Jt,0,we)}}Be&&this.addCurrentVertex(Ce,Je,-bi,-Ti,we)}else if(Fi==="butt")this.addCurrentVertex(Ce,Mt,0,0,we);else if(Fi==="square"){const oi=Ie?1:-1;Ie||this.addCurrentVertex(Ce,Mt,oi,oi,we),this.addCurrentVertex(Ce,Mt,0,0,we),Ie&&this.addCurrentVertex(Ce,Mt,oi,oi,we)}else Fi==="round"&&(Ie&&(this.addCurrentVertex(Ce,Ge,0,0,we),this.addCurrentVertex(Ce,Ge,1,1,we,!0)),Be&&(this.addCurrentVertex(Ce,Je,-1,-1,we,!0),this.addCurrentVertex(Ce,Je,0,0,we)));if(Qt&&gt<ee-1){const oi=Ce.dist(Be);if(oi>2*fe){const bi=Ce.add(Be.sub(Ce)._mult(fe/oi)._round());this.updateDistance(Ce,bi),this.addCurrentVertex(bi,Je,0,0,we),Ce=bi}}}}addCurrentVertex(i,l,u,f,v,C=!1){const N=l.y*f-l.x,ee=-l.y-l.x*f;this.addHalfVertex(i,l.x+l.y*u,l.y-l.x*u,C,!1,u,v),this.addHalfVertex(i,N,ee,C,!0,-f,v)}addHalfVertex({x:i,y:l},u,f,v,C,N,ee){this.layoutVertexArray.emplaceBack((i<<1)+(v?1:0),(l<<1)+(C?1:0),Math.round(63*u)+128,Math.round(63*f)+128,1+(N===0?0:N<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const ne=ee.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,ne),ee.primitiveLength++),C?this.e2=ne:this.e1=ne}updateScaledDistance(){if(this.lineClips){const i=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=i*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(i,l){this.distance+=i.dist(l),this.updateScaledDistance()}}Ji(jm,"LineBucket",{omit:["layers","patternFeatures"]});const Q2=new Sn({"line-cap":new ii(hi.layout_line["line-cap"]),"line-join":new ii(hi.layout_line["line-join"]),"line-miter-limit":new Ht(hi.layout_line["line-miter-limit"]),"line-round-limit":new Ht(hi.layout_line["line-round-limit"]),"line-sort-key":new ii(hi.layout_line["line-sort-key"])});var uv={paint:new Sn({"line-opacity":new ii(hi.paint_line["line-opacity"]),"line-color":new ii(hi.paint_line["line-color"]),"line-translate":new Ht(hi.paint_line["line-translate"]),"line-translate-anchor":new Ht(hi.paint_line["line-translate-anchor"]),"line-width":new ii(hi.paint_line["line-width"]),"line-gap-width":new ii(hi.paint_line["line-gap-width"]),"line-offset":new ii(hi.paint_line["line-offset"]),"line-blur":new ii(hi.paint_line["line-blur"]),"line-dasharray":new ii(hi.paint_line["line-dasharray"]),"line-pattern":new ii(hi.paint_line["line-pattern"]),"line-gradient":new mn(hi.paint_line["line-gradient"]),"line-trim-offset":new Ht(hi.paint_line["line-trim-offset"])}),layout:Q2};const hv=new class extends ii{possiblyEvaluate(a,i){return i=new Vt(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,transition:i.transition}),super.possiblyEvaluate(a,i)}evaluate(a,i,l,u){return i=K({},i,{zoom:Math.floor(i.zoom)}),super.evaluate(a,i,l,u)}}(uv.paint.properties["line-width"].specification);function pv(a,i){return i>0?i+2*a:a}hv.useIntegerZoom=!0;const ew=an([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),ad=an([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),tw=an([{name:"a_projected_pos",components:4,type:"Float32"}],4);an([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const iw=an([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Rh=an([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);an([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const gr=an([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),nw=an([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);an([{name:"triangle",components:3,type:"Uint16"}]),an([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),an([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),an([{type:"Float32",name:"offsetX"}]),an([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var ys=24;const Cs=128;function j1(a,i){const{expression:l}=i;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new Vt(a+1))};if(l.kind==="source")return{kind:"source"};{const{zoomStops:u,interpolationType:f}=l;let v=0;for(;v<u.length&&u[v]<=a;)v++;v=Math.max(0,v-1);let C=v;for(;C<u.length&&u[C]<a+1;)C++;C=Math.min(u.length-1,C);const N=u[v],ee=u[C];return l.kind==="composite"?{kind:"composite",minZoom:N,maxZoom:ee,interpolationType:f}:{kind:"camera",minZoom:N,maxZoom:ee,minSize:l.evaluate(new Vt(N)),maxSize:l.evaluate(new Vt(ee)),interpolationType:f}}}function ld(a,{uSize:i,uSizeT:l},{lowerSize:u,upperSize:f}){return a.kind==="source"?u/Cs:a.kind==="composite"?Zn(u/Cs,f/Cs,l):i}function Op(a,i){let l=0,u=0;if(a.kind==="constant")u=a.layoutSize;else if(a.kind!=="source"){const{interpolationType:f,minZoom:v,maxZoom:C}=a,N=f?g(Ea.interpolationFactor(f,i,v,C),0,1):0;a.kind==="camera"?u=Zn(a.minSize,a.maxSize,N):l=N}return{uSizeT:l,uSize:u}}var rw=Object.freeze({__proto__:null,getSizeData:j1,evaluateSizeForFeature:ld,evaluateSizeForZoom:Op,SIZE_PACK_FACTOR:Cs});function sw(a,i,l){return a.sections.forEach(u=>{u.text=function(f,v,C){const N=v.layout.get("text-transform").evaluate(C,{});return N==="uppercase"?f=f.toLocaleUpperCase():N==="lowercase"&&(f=f.toLocaleLowerCase()),Kt.applyArabicShaping&&(f=Kt.applyArabicShaping(f)),f}(u.text,i,l)}),a}const e0={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function ow(a){return a==="︶"||a==="﹈"||a==="︸"||a==="﹄"||a==="﹂"||a==="︾"||a==="︼"||a==="︺"||a==="︘"||a==="﹀"||a==="︐"||a==="︓"||a==="︔"||a==="｀"||a==="￣"||a==="︑"||a==="︒"}function U1(a){return a==="︵"||a==="﹇"||a==="︷"||a==="﹃"||a==="﹁"||a==="︽"||a==="︻"||a==="︹"||a==="︗"||a==="︿"}var t0=ns,jd=function(a,i,l,u,f){var v,C,N=8*f-u-1,ee=(1<<N)-1,ne=ee>>1,fe=-7,we=l?f-1:0,Ce=l?-1:1,Ie=a[i+we];for(we+=Ce,v=Ie&(1<<-fe)-1,Ie>>=-fe,fe+=N;fe>0;v=256*v+a[i+we],we+=Ce,fe-=8);for(C=v&(1<<-fe)-1,v>>=-fe,fe+=u;fe>0;C=256*C+a[i+we],we+=Ce,fe-=8);if(v===0)v=1-ne;else{if(v===ee)return C?NaN:1/0*(Ie?-1:1);C+=Math.pow(2,u),v-=ne}return(Ie?-1:1)*C*Math.pow(2,v-u)},$1=function(a,i,l,u,f,v){var C,N,ee,ne=8*v-f-1,fe=(1<<ne)-1,we=fe>>1,Ce=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ie=u?0:v-1,Be=u?1:-1,Ge=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(N=isNaN(i)?1:0,C=fe):(C=Math.floor(Math.log(i)/Math.LN2),i*(ee=Math.pow(2,-C))<1&&(C--,ee*=2),(i+=C+we>=1?Ce/ee:Ce*Math.pow(2,1-we))*ee>=2&&(C++,ee/=2),C+we>=fe?(N=0,C=fe):C+we>=1?(N=(i*ee-1)*Math.pow(2,f),C+=we):(N=i*Math.pow(2,we-1)*Math.pow(2,f),C=0));f>=8;a[l+Ie]=255&N,Ie+=Be,N/=256,f-=8);for(C=C<<f|N,ne+=f;ne>0;a[l+Ie]=255&C,Ie+=Be,C/=256,ne-=8);a[l+Ie-Be]|=128*Ge};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function ns(a){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.pos=0,this.type=0,this.length=this.buf.length}ns.Varint=0,ns.Fixed64=1,ns.Bytes=2,ns.Fixed32=5;var ro=4294967296,bo=1/ro,V1=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function fu(a){return a.type===ns.Bytes?a.readVarint()+a.pos:a.pos+1}function Rp(a,i,l){return l?4294967296*i+(a>>>0):4294967296*(i>>>0)+(a>>>0)}function fv(a,i,l){var u=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));l.realloc(u);for(var f=l.pos-1;f>=a;f--)l.buf[f+u]=l.buf[f]}function aw(a,i){for(var l=0;l<a.length;l++)i.writeVarint(a[l])}function lw(a,i){for(var l=0;l<a.length;l++)i.writeSVarint(a[l])}function cw(a,i){for(var l=0;l<a.length;l++)i.writeFloat(a[l])}function mv(a,i){for(var l=0;l<a.length;l++)i.writeDouble(a[l])}function i0(a,i){for(var l=0;l<a.length;l++)i.writeBoolean(a[l])}function G1(a,i){for(var l=0;l<a.length;l++)i.writeFixed32(a[l])}function dw(a,i){for(var l=0;l<a.length;l++)i.writeSFixed32(a[l])}function gv(a,i){for(var l=0;l<a.length;l++)i.writeFixed64(a[l])}function Um(a,i){for(var l=0;l<a.length;l++)i.writeSFixed64(a[l])}function Ka(a,i){return(a[i]|a[i+1]<<8|a[i+2]<<16)+16777216*a[i+3]}function cd(a,i,l){a[l]=i,a[l+1]=i>>>8,a[l+2]=i>>>16,a[l+3]=i>>>24}function yv(a,i){return(a[i]|a[i+1]<<8|a[i+2]<<16)+(a[i+3]<<24)}function uw(a,i,l){i.glyphs=[],a===1&&l.readMessage(hw,i)}function hw(a,i,l){if(a===3){const{id:u,bitmap:f,width:v,height:C,left:N,top:ee,advance:ne}=l.readMessage(pw,{});i.glyphs.push({id:u,bitmap:new pu({width:v+6,height:C+6},f),metrics:{width:v,height:C,left:N,top:ee,advance:ne}})}else a===4?i.ascender=l.readSVarint():a===5&&(i.descender=l.readSVarint())}function pw(a,i,l){a===1?i.id=l.readVarint():a===2?i.bitmap=l.readBytes():a===3?i.width=l.readVarint():a===4?i.height=l.readVarint():a===5?i.left=l.readSVarint():a===6?i.top=l.readSVarint():a===7&&(i.advance=l.readVarint())}function W1(a){let i=0,l=0;for(const C of a)i+=C.w*C.h,l=Math.max(l,C.w);a.sort((C,N)=>N.h-C.h);const u=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),l),h:1/0}];let f=0,v=0;for(const C of a)for(let N=u.length-1;N>=0;N--){const ee=u[N];if(!(C.w>ee.w||C.h>ee.h)){if(C.x=ee.x,C.y=ee.y,v=Math.max(v,C.y+C.h),f=Math.max(f,C.x+C.w),C.w===ee.w&&C.h===ee.h){const ne=u.pop();N<u.length&&(u[N]=ne)}else C.h===ee.h?(ee.x+=C.w,ee.w-=C.w):C.w===ee.w?(ee.y+=C.h,ee.h-=C.h):(u.push({x:ee.x+C.w,y:ee.y,w:ee.w-C.w,h:C.h}),ee.y+=C.h,ee.h-=C.h);break}}return{w:f,h:v,fill:i/(f*v)||0}}ns.prototype={destroy:function(){this.buf=null},readFields:function(a,i,l){for(l=l||this.length;this.pos<l;){var u=this.readVarint(),f=u>>3,v=this.pos;this.type=7&u,a(f,i,this),this.pos===v&&this.skip(u)}return i},readMessage:function(a,i){return this.readFields(a,i,this.readVarint()+this.pos)},readFixed32:function(){var a=Ka(this.buf,this.pos);return this.pos+=4,a},readSFixed32:function(){var a=yv(this.buf,this.pos);return this.pos+=4,a},readFixed64:function(){var a=Ka(this.buf,this.pos)+Ka(this.buf,this.pos+4)*ro;return this.pos+=8,a},readSFixed64:function(){var a=Ka(this.buf,this.pos)+yv(this.buf,this.pos+4)*ro;return this.pos+=8,a},readFloat:function(){var a=jd(this.buf,this.pos,!0,23,4);return this.pos+=4,a},readDouble:function(){var a=jd(this.buf,this.pos,!0,52,8);return this.pos+=8,a},readVarint:function(a){var i,l,u=this.buf;return i=127&(l=u[this.pos++]),l<128?i:(i|=(127&(l=u[this.pos++]))<<7,l<128?i:(i|=(127&(l=u[this.pos++]))<<14,l<128?i:(i|=(127&(l=u[this.pos++]))<<21,l<128?i:function(f,v,C){var N,ee,ne=C.buf;if(N=(112&(ee=ne[C.pos++]))>>4,ee<128||(N|=(127&(ee=ne[C.pos++]))<<3,ee<128)||(N|=(127&(ee=ne[C.pos++]))<<10,ee<128)||(N|=(127&(ee=ne[C.pos++]))<<17,ee<128)||(N|=(127&(ee=ne[C.pos++]))<<24,ee<128)||(N|=(1&(ee=ne[C.pos++]))<<31,ee<128))return Rp(f,N,v);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(l=u[this.pos]))<<28,a,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var a=this.readVarint();return a%2==1?(a+1)/-2:a/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var a=this.readVarint()+this.pos,i=this.pos;return this.pos=a,a-i>=12&&V1?function(l,u,f){return V1.decode(l.subarray(u,f))}(this.buf,i,a):function(l,u,f){for(var v="",C=u;C<f;){var N,ee,ne,fe=l[C],we=null,Ce=fe>239?4:fe>223?3:fe>191?2:1;if(C+Ce>f)break;Ce===1?fe<128&&(we=fe):Ce===2?(192&(N=l[C+1]))==128&&(we=(31&fe)<<6|63&N)<=127&&(we=null):Ce===3?(ee=l[C+2],(192&(N=l[C+1]))==128&&(192&ee)==128&&((we=(15&fe)<<12|(63&N)<<6|63&ee)<=2047||we>=55296&&we<=57343)&&(we=null)):Ce===4&&(ee=l[C+2],ne=l[C+3],(192&(N=l[C+1]))==128&&(192&ee)==128&&(192&ne)==128&&((we=(15&fe)<<18|(63&N)<<12|(63&ee)<<6|63&ne)<=65535||we>=1114112)&&(we=null)),we===null?(we=65533,Ce=1):we>65535&&(we-=65536,v+=String.fromCharCode(we>>>10&1023|55296),we=56320|1023&we),v+=String.fromCharCode(we),C+=Ce}return v}(this.buf,i,a)},readBytes:function(){var a=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,a);return this.pos=a,i},readPackedVarint:function(a,i){if(this.type!==ns.Bytes)return a.push(this.readVarint(i));var l=fu(this);for(a=a||[];this.pos<l;)a.push(this.readVarint(i));return a},readPackedSVarint:function(a){if(this.type!==ns.Bytes)return a.push(this.readSVarint());var i=fu(this);for(a=a||[];this.pos<i;)a.push(this.readSVarint());return a},readPackedBoolean:function(a){if(this.type!==ns.Bytes)return a.push(this.readBoolean());var i=fu(this);for(a=a||[];this.pos<i;)a.push(this.readBoolean());return a},readPackedFloat:function(a){if(this.type!==ns.Bytes)return a.push(this.readFloat());var i=fu(this);for(a=a||[];this.pos<i;)a.push(this.readFloat());return a},readPackedDouble:function(a){if(this.type!==ns.Bytes)return a.push(this.readDouble());var i=fu(this);for(a=a||[];this.pos<i;)a.push(this.readDouble());return a},readPackedFixed32:function(a){if(this.type!==ns.Bytes)return a.push(this.readFixed32());var i=fu(this);for(a=a||[];this.pos<i;)a.push(this.readFixed32());return a},readPackedSFixed32:function(a){if(this.type!==ns.Bytes)return a.push(this.readSFixed32());var i=fu(this);for(a=a||[];this.pos<i;)a.push(this.readSFixed32());return a},readPackedFixed64:function(a){if(this.type!==ns.Bytes)return a.push(this.readFixed64());var i=fu(this);for(a=a||[];this.pos<i;)a.push(this.readFixed64());return a},readPackedSFixed64:function(a){if(this.type!==ns.Bytes)return a.push(this.readSFixed64());var i=fu(this);for(a=a||[];this.pos<i;)a.push(this.readSFixed64());return a},skip:function(a){var i=7&a;if(i===ns.Varint)for(;this.buf[this.pos++]>127;);else if(i===ns.Bytes)this.pos=this.readVarint()+this.pos;else if(i===ns.Fixed32)this.pos+=4;else{if(i!==ns.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(a,i){this.writeVarint(a<<3|i)},realloc:function(a){for(var i=this.length||16;i<this.pos+a;)i*=2;if(i!==this.length){var l=new Uint8Array(i);l.set(this.buf),this.buf=l,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(a){this.realloc(4),cd(this.buf,a,this.pos),this.pos+=4},writeSFixed32:function(a){this.realloc(4),cd(this.buf,a,this.pos),this.pos+=4},writeFixed64:function(a){this.realloc(8),cd(this.buf,-1&a,this.pos),cd(this.buf,Math.floor(a*bo),this.pos+4),this.pos+=8},writeSFixed64:function(a){this.realloc(8),cd(this.buf,-1&a,this.pos),cd(this.buf,Math.floor(a*bo),this.pos+4),this.pos+=8},writeVarint:function(a){(a=+a||0)>268435455||a<0?function(i,l){var u,f;if(i>=0?(u=i%4294967296|0,f=i/4294967296|0):(f=~(-i/4294967296),4294967295^(u=~(-i%4294967296))?u=u+1|0:(u=0,f=f+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),function(v,C,N){N.buf[N.pos++]=127&v|128,v>>>=7,N.buf[N.pos++]=127&v|128,v>>>=7,N.buf[N.pos++]=127&v|128,v>>>=7,N.buf[N.pos++]=127&v|128,N.buf[N.pos]=127&(v>>>=7)}(u,0,l),function(v,C){var N=(7&v)<<4;C.buf[C.pos++]|=N|((v>>>=3)?128:0),v&&(C.buf[C.pos++]=127&v|((v>>>=7)?128:0),v&&(C.buf[C.pos++]=127&v|((v>>>=7)?128:0),v&&(C.buf[C.pos++]=127&v|((v>>>=7)?128:0),v&&(C.buf[C.pos++]=127&v|((v>>>=7)?128:0),v&&(C.buf[C.pos++]=127&v)))))}(f,l)}(a,this):(this.realloc(4),this.buf[this.pos++]=127&a|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=a>>>7&127))))},writeSVarint:function(a){this.writeVarint(a<0?2*-a-1:2*a)},writeBoolean:function(a){this.writeVarint(!!a)},writeString:function(a){a=String(a),this.realloc(4*a.length),this.pos++;var i=this.pos;this.pos=function(u,f,v){for(var C,N,ee=0;ee<f.length;ee++){if((C=f.charCodeAt(ee))>55295&&C<57344){if(!N){C>56319||ee+1===f.length?(u[v++]=239,u[v++]=191,u[v++]=189):N=C;continue}if(C<56320){u[v++]=239,u[v++]=191,u[v++]=189,N=C;continue}C=N-55296<<10|C-56320|65536,N=null}else N&&(u[v++]=239,u[v++]=191,u[v++]=189,N=null);C<128?u[v++]=C:(C<2048?u[v++]=C>>6|192:(C<65536?u[v++]=C>>12|224:(u[v++]=C>>18|240,u[v++]=C>>12&63|128),u[v++]=C>>6&63|128),u[v++]=63&C|128)}return v}(this.buf,a,this.pos);var l=this.pos-i;l>=128&&fv(i,l,this),this.pos=i-1,this.writeVarint(l),this.pos+=l},writeFloat:function(a){this.realloc(4),$1(this.buf,a,this.pos,!0,23,4),this.pos+=4},writeDouble:function(a){this.realloc(8),$1(this.buf,a,this.pos,!0,52,8),this.pos+=8},writeBytes:function(a){var i=a.length;this.writeVarint(i),this.realloc(i);for(var l=0;l<i;l++)this.buf[this.pos++]=a[l]},writeRawMessage:function(a,i){this.pos++;var l=this.pos;a(i,this);var u=this.pos-l;u>=128&&fv(l,u,this),this.pos=l-1,this.writeVarint(u),this.pos+=u},writeMessage:function(a,i,l){this.writeTag(a,ns.Bytes),this.writeRawMessage(i,l)},writePackedVarint:function(a,i){i.length&&this.writeMessage(a,aw,i)},writePackedSVarint:function(a,i){i.length&&this.writeMessage(a,lw,i)},writePackedBoolean:function(a,i){i.length&&this.writeMessage(a,i0,i)},writePackedFloat:function(a,i){i.length&&this.writeMessage(a,cw,i)},writePackedDouble:function(a,i){i.length&&this.writeMessage(a,mv,i)},writePackedFixed32:function(a,i){i.length&&this.writeMessage(a,G1,i)},writePackedSFixed32:function(a,i){i.length&&this.writeMessage(a,dw,i)},writePackedFixed64:function(a,i){i.length&&this.writeMessage(a,gv,i)},writePackedSFixed64:function(a,i){i.length&&this.writeMessage(a,Um,i)},writeBytesField:function(a,i){this.writeTag(a,ns.Bytes),this.writeBytes(i)},writeFixed32Field:function(a,i){this.writeTag(a,ns.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(a,i){this.writeTag(a,ns.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(a,i){this.writeTag(a,ns.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(a,i){this.writeTag(a,ns.Fixed64),this.writeSFixed64(i)},writeVarintField:function(a,i){this.writeTag(a,ns.Varint),this.writeVarint(i)},writeSVarintField:function(a,i){this.writeTag(a,ns.Varint),this.writeSVarint(i)},writeStringField:function(a,i){this.writeTag(a,ns.Bytes),this.writeString(i)},writeFloatField:function(a,i){this.writeTag(a,ns.Fixed32),this.writeFloat(i)},writeDoubleField:function(a,i){this.writeTag(a,ns.Fixed64),this.writeDouble(i)},writeBooleanField:function(a,i){this.writeVarintField(a,!!i)}};class $m{constructor(i,{pixelRatio:l,version:u,stretchX:f,stretchY:v,content:C}){this.paddedRect=i,this.pixelRatio=l,this.stretchX=f,this.stretchY=v,this.content=C,this.version=u}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Ud{constructor(i,l){const u={},f={};this.haveRenderCallbacks=[];const v=[];this.addImages(i,u,v),this.addImages(l,f,v);const{w:C,h:N}=W1(v),ee=new Al({width:C||1,height:N||1});for(const ne in i){const fe=i[ne],we=u[ne].paddedRect;Al.copy(fe.data,ee,{x:0,y:0},{x:we.x+1,y:we.y+1},fe.data)}for(const ne in l){const fe=l[ne],we=f[ne].paddedRect,Ce=we.x+1,Ie=we.y+1,Be=fe.data.width,Ge=fe.data.height;Al.copy(fe.data,ee,{x:0,y:0},{x:Ce,y:Ie},fe.data),Al.copy(fe.data,ee,{x:0,y:Ge-1},{x:Ce,y:Ie-1},{width:Be,height:1}),Al.copy(fe.data,ee,{x:0,y:0},{x:Ce,y:Ie+Ge},{width:Be,height:1}),Al.copy(fe.data,ee,{x:Be-1,y:0},{x:Ce-1,y:Ie},{width:1,height:Ge}),Al.copy(fe.data,ee,{x:0,y:0},{x:Ce+Be,y:Ie},{width:1,height:Ge})}this.image=ee,this.iconPositions=u,this.patternPositions=f}addImages(i,l,u){for(const f in i){const v=i[f],C={x:0,y:0,w:v.data.width+2,h:v.data.height+2};u.push(C),l[f]=new $m(C,v),v.hasRenderCallback&&this.haveRenderCallbacks.push(f)}}patchUpdatedImages(i,l){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(u=>i.hasImage(u)),i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const u in i.updatedImages)this.patchUpdatedImage(this.iconPositions[u],i.getImage(u),l),this.patchUpdatedImage(this.patternPositions[u],i.getImage(u),l)}patchUpdatedImage(i,l,u){if(!i||!l||i.version===l.version)return;i.version=l.version;const[f,v]=i.tl;u.update(l.data,void 0,{x:f,y:v})}}Ji($m,"ImagePosition"),Ji(Ud,"ImageAtlas");const Qn={horizontal:1,vertical:2,horizontalOnly:3};class Bp{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,l){const u=new Bp;return u.scale=i||1,u.fontStack=l,u}static forImage(i){const l=new Bp;return l.imageName=i,l}}class Aa{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,l){const u=new Aa;for(let f=0;f<i.sections.length;f++){const v=i.sections[f];v.image?u.addImageSection(v):u.addTextSection(v,l)}return u}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSections(){return this.sections}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(i){this.text=function(l,u){let f="";for(let v=0;v<l.length;v++){const C=l.charCodeAt(v+1)||null,N=l.charCodeAt(v-1)||null;f+=!u&&(C&&Ae(C)&&!e0[l[v+1]]||N&&Ae(N)&&!e0[l[v-1]])||!e0[l[v]]?l[v]:e0[l[v]]}return f}(this.text,i)}trim(){let i=0;for(let u=0;u<this.text.length&&Gm[this.text.charCodeAt(u)];u++)i++;let l=this.text.length;for(let u=this.text.length-1;u>=0&&u>=i&&Gm[this.text.charCodeAt(u)];u--)l--;this.text=this.text.substring(i,l),this.sectionIndex=this.sectionIndex.slice(i,l)}substring(i,l){const u=new Aa;return u.text=this.text.substring(i,l),u.sectionIndex=this.sectionIndex.slice(i,l),u.sections=this.sections,u}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,l)=>Math.max(i,this.sections[l].scale),0)}addTextSection(i,l){this.text+=i.text,this.sections.push(Bp.forText(i.scale,i.fontStack||l));const u=this.sections.length-1;for(let f=0;f<i.text.length;++f)this.sectionIndex.push(u)}addImageSection(i){const l=i.image?i.image.name:"";if(l.length===0)return void oe("Can't add FormattedSection with an empty image.");const u=this.getNextImageSectionCharCode();u?(this.text+=String.fromCharCode(u),this.sections.push(Bp.forImage(l)),this.sectionIndex.push(this.sections.length-1)):oe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Vm(a,i,l,u,f,v,C,N,ee,ne,fe,we,Ce,Ie,Be){const Ge=Aa.fromFeature(a,f);we===Qn.vertical&&Ge.verticalizePunctuation(Ce);let Je=[];const gt=function(kt,Qt,Jt,gi,Fi,oi){if(!kt)return[];const bi=[],Ti=function(Zi,zn,rn,vn,Ki,$n){let Sr=0;for(let xr=0;xr<Zi.length();xr++){const yr=Zi.getSection(xr);Sr+=_v(Zi.getCharCode(xr),yr,vn,Ki,zn,$n)}return Sr/Math.max(1,Math.ceil(Sr/rn))}(kt,Qt,Jt,gi,Fi,oi),Li=kt.text.indexOf("​")>=0;let ji=0;for(let Zi=0;Zi<kt.length();Zi++){const zn=kt.getSection(Zi),rn=kt.getCharCode(Zi);if(Gm[rn]||(ji+=_v(rn,zn,gi,Fi,Qt,oi)),Zi<kt.length()-1){const vn=!((li=rn)<11904||!(ll(li)||cm(li)||p(li)||au(li)||pm(li)||Lf(li)||dm(li)||Vu(li)||fm(li)||vp(li)||hm(li)||W(li)||rc(li)||Rf(li)||Of(li)||um(li)||_p(li)||c(li)||mm(li)||Bf(li)));(Es[rn]||vn||zn.imageName)&&bi.push(vv(Zi+1,ji,Ti,bi,Wm(rn,kt.getCharCode(Zi+1),vn&&Li),!1))}}var li;return xv(vv(kt.length(),ji,Ti,bi,0,!0))}(Ge,ne,v,i,u,Ie),{processBidirectionalText:Mt,processStyledBidirectionalText:mt}=Kt;if(Mt&&Ge.sections.length===1){const kt=Mt(Ge.toString(),gt);for(const Qt of kt){const Jt=new Aa;Jt.text=Qt,Jt.sections=Ge.sections;for(let gi=0;gi<Qt.length;gi++)Jt.sectionIndex.push(0);Je.push(Jt)}}else if(mt){const kt=mt(Ge.text,Ge.sectionIndex,gt);for(const Qt of kt){const Jt=new Aa;Jt.text=Qt[0],Jt.sectionIndex=Qt[1],Jt.sections=Ge.sections,Je.push(Jt)}}else Je=function(kt,Qt){const Jt=[],gi=kt.text;let Fi=0;for(const oi of Qt)Jt.push(kt.substring(Fi,oi)),Fi=oi;return Fi<gi.length&&Jt.push(kt.substring(Fi,gi.length)),Jt}(Ge,gt);const bt=[],Pt={positionedLines:bt,text:Ge.toString(),top:fe[1],bottom:fe[1],left:fe[0],right:fe[0],writingMode:we,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(kt,Qt,Jt,gi,Fi,oi,bi,Ti,Li,ji,li,Zi){let zn=0,rn=0,vn=0;const Ki=Ti==="right"?1:Ti==="left"?0:.5;let $n=!1;for(const rr of Fi){const Cr=rr.getSections();for(const _s of Cr){if(_s.imageName)continue;const Rs=Qt[_s.fontStack];if(Rs&&($n=Rs.ascender!==void 0&&Rs.descender!==void 0,!$n))break}if(!$n)break}let Sr=0;for(const rr of Fi){rr.trim();const Cr=rr.getMaxScale(),_s=(Cr-1)*ys,Rs={positionedGlyphs:[],lineOffset:0};kt.positionedLines[Sr]=Rs;const Ps=Rs.positionedGlyphs;let Bs=0;if(!rr.length()){rn+=oi,++Sr;continue}let js=0,To=0;for(let cs=0;cs<rr.length();cs++){const Ho=rr.getSection(cs),Fo=rr.getSectionIndex(cs),qr=rr.getCharCode(cs);let so=Ho.scale,aa=null,vs=null,Do=null,hl=ys,Da=0;const Ia=!(Li===Qn.horizontal||!li&&!De(qr)||li&&(Gm[qr]||(xr=qr,Df(xr)||kc(xr)||If(xr)||_(xr)||B(xr))));if(Ho.imageName){const Il=gi[Ho.imageName];if(!Il)continue;Do=Ho.imageName,kt.iconsInText=kt.iconsInText||!0,vs=Il.paddedRect;const La=Il.displaySize;so=so*ys/Zi,aa={width:La[0],height:La[1],left:1,top:-3,advance:Ia?La[1]:La[0],localGlyph:!1},Da=$n?-aa.height*so:Cr*ys-17-La[1]*so,hl=aa.advance;const Uh=(Ia?La[0]:La[1])*so-ys*Cr;Uh>0&&Uh>Bs&&(Bs=Uh)}else{const Il=Jt[Ho.fontStack];if(!Il)continue;Il[qr]&&(vs=Il[qr]);const La=Qt[Ho.fontStack];if(!La)continue;const Uh=La.glyphs[qr];if(!Uh)continue;if(aa=Uh.metrics,hl=qr!==8203?ys:0,$n){const og=La.ascender!==void 0?Math.abs(La.ascender):0,yy=La.descender!==void 0?Math.abs(La.descender):0,_y=(og+yy)*so;js<_y&&(js=_y,To=(og-yy)/2*so),Da=-og*so}else Da=(Cr-so)*ys-17}Ia?(kt.verticalizable=!0,Ps.push({glyph:qr,imageName:Do,x:zn,y:rn+Da,vertical:Ia,scale:so,localGlyph:aa.localGlyph,fontStack:Ho.fontStack,sectionIndex:Fo,metrics:aa,rect:vs}),zn+=hl*so+ji):(Ps.push({glyph:qr,imageName:Do,x:zn,y:rn+Da,vertical:Ia,scale:so,localGlyph:aa.localGlyph,fontStack:Ho.fontStack,sectionIndex:Fo,metrics:aa,rect:vs}),zn+=aa.advance*so+ji)}Ps.length!==0&&(vn=Math.max(zn-ji,vn),$n?bv(Ps,Ki,Bs,To,oi*Cr/2):bv(Ps,Ki,Bs,0,oi/2)),zn=0;const Pa=oi*Cr+Bs;Rs.lineOffset=Math.max(Bs,_s),rn+=Pa,++Sr}var xr;const yr=rn,{horizontalAlign:Vn,verticalAlign:ls}=Y1(bi);(function(rr,Cr,_s,Rs,Ps,Bs){const js=(Cr-_s)*Ps,To=-Bs*Rs;for(const Pa of rr)for(const cs of Pa.positionedGlyphs)cs.x+=js,cs.y+=To})(kt.positionedLines,Ki,Vn,ls,vn,yr),kt.top+=-ls*yr,kt.bottom=kt.top+yr,kt.left+=-Vn*vn,kt.right=kt.left+vn,kt.hasBaseline=$n}(Pt,i,l,u,Je,C,N,ee,we,ne,Ce,Be),!function(kt){for(const Qt of kt)if(Qt.positionedGlyphs.length!==0)return!1;return!0}(bt)&&Pt}const Gm={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Es={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function _v(a,i,l,u,f,v){if(i.imageName){const C=u[i.imageName];return C?C.displaySize[0]*i.scale*ys/v+f:0}{const C=l[i.fontStack],N=C&&C.glyphs[a];return N?N.metrics.advance*i.scale+f:0}}function H1(a,i,l,u){const f=Math.pow(a-i,2);return u?a<i?f/2:2*f:f+Math.abs(l)*l}function Wm(a,i,l){let u=0;return a===10&&(u-=1e4),l&&(u+=150),a!==40&&a!==65288||(u+=50),i!==41&&i!==65289||(u+=50),u}function vv(a,i,l,u,f,v){let C=null,N=H1(i,l,f,v);for(const ee of u){const ne=H1(i-ee.x,l,f,v)+ee.badness;ne<=N&&(C=ee,N=ne)}return{index:a,x:i,priorBreak:C,badness:N}}function xv(a){return a?xv(a.priorBreak).concat(a.index):[]}function Y1(a){let i=.5,l=.5;switch(a){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(a){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:i,verticalAlign:l}}function bv(a,i,l,u,f){if(!(i||l||u||f))return;const v=a.length-1,C=a[v],N=(C.x+C.metrics.advance*C.scale)*i;for(let ee=0;ee<=v;ee++)a[ee].x-=N,a[ee].y+=l+u+f}function fw(a,i,l){const{horizontalAlign:u,verticalAlign:f}=Y1(l),v=i[0]-a.displaySize[0]*u,C=i[1]-a.displaySize[1]*f;return{image:a,top:C,bottom:C+a.displaySize[1],left:v,right:v+a.displaySize[0]}}function wv(a,i,l,u,f,v){const C=a.image;let N;if(C.content){const Je=C.content,gt=C.pixelRatio||1;N=[Je[0]/gt,Je[1]/gt,C.displaySize[0]-Je[2]/gt,C.displaySize[1]-Je[3]/gt]}const ee=i.left*v,ne=i.right*v;let fe,we,Ce,Ie;l==="width"||l==="both"?(Ie=f[0]+ee-u[3],we=f[0]+ne+u[1]):(Ie=f[0]+(ee+ne-C.displaySize[0])/2,we=Ie+C.displaySize[0]);const Be=i.top*v,Ge=i.bottom*v;return l==="height"||l==="both"?(fe=f[1]+Be-u[0],Ce=f[1]+Ge+u[2]):(fe=f[1]+(Be+Ge-C.displaySize[1])/2,Ce=fe+C.displaySize[1]),{image:C,top:fe,right:we,bottom:Ce,left:Ie,collisionPadding:N}}class mu extends U{constructor(i,l,u,f,v){super(i,l),this.angle=f,this.z=u,v!==void 0&&(this.segment=v)}clone(){return new mu(this.x,this.y,this.z,this.angle,this.segment)}}function Tv(a,i,l,u,f){if(i.segment===void 0)return!0;let v=i,C=i.segment+1,N=0;for(;N>-l/2;){if(C--,C<0)return!1;N-=a[C].dist(v),v=a[C]}N+=a[C].dist(a[C+1]),C++;const ee=[];let ne=0;for(;N<l/2;){const fe=a[C],we=a[C+1];if(!we)return!1;let Ce=a[C-1].angleTo(fe)-fe.angleTo(we);for(Ce=Math.abs((Ce+3*Math.PI)%(2*Math.PI)-Math.PI),ee.push({distance:N,angleDelta:Ce}),ne+=Ce;N-ee[0].distance>u;)ne-=ee.shift().angleDelta;if(ne>f)return!1;C++,N+=fe.dist(we)}return!0}function Sv(a){let i=0;for(let l=0;l<a.length-1;l++)i+=a[l].dist(a[l+1]);return i}function Cv(a,i,l){return a?.6*i*l:0}function Ev(a,i){return Math.max(a?a.right-a.left:0,i?i.right-i.left:0)}function mw(a,i,l,u,f,v){const C=Cv(l,f,v),N=Ev(l,u)*v;let ee=0;const ne=Sv(a)/2;for(let fe=0;fe<a.length-1;fe++){const we=a[fe],Ce=a[fe+1],Ie=we.dist(Ce);if(ee+Ie>ne){const Be=(ne-ee)/Ie,Ge=Zn(we.x,Ce.x,Be),Je=Zn(we.y,Ce.y,Be),gt=new mu(Ge,Je,0,Ce.angleTo(we),fe);return!C||Tv(a,gt,N,C,i)?gt:void 0}ee+=Ie}}function gw(a,i,l,u,f,v,C,N,ee){const ne=Cv(u,v,C),fe=Ev(u,f),we=fe*C,Ce=a[0].x===0||a[0].x===ee||a[0].y===0||a[0].y===ee;return i-we<i/4&&(i=we+i/4),Hm(a,Ce?i/2*N%i:(fe/2+2*v)*C*N%i,i,ne,l,we,Ce,!1,ee)}function Hm(a,i,l,u,f,v,C,N,ee){const ne=v/2,fe=Sv(a);let we=0,Ce=i-l,Ie=[];for(let Be=0;Be<a.length-1;Be++){const Ge=a[Be],Je=a[Be+1],gt=Ge.dist(Je),Mt=Je.angleTo(Ge);for(;Ce+l<we+gt;){Ce+=l;const mt=(Ce-we)/gt,bt=Zn(Ge.x,Je.x,mt),Pt=Zn(Ge.y,Je.y,mt);if(bt>=0&&bt<ee&&Pt>=0&&Pt<ee&&Ce-ne>=0&&Ce+ne<=fe){const kt=new mu(bt,Pt,0,Mt,Be);kt._round(),u&&!Tv(a,kt,v,u,f)||Ie.push(kt)}}we+=gt}return N||Ie.length||C||(Ie=Hm(a,we/2,l,u,f,v,C,!0,ee)),Ie}function Mv(a,i,l,u,f){const v=[];for(let C=0;C<a.length;C++){const N=a[C];let ee;for(let ne=0;ne<N.length-1;ne++){let fe=N[ne],we=N[ne+1];fe.x<i&&we.x<i||(fe.x<i?fe=new U(i,fe.y+(i-fe.x)/(we.x-fe.x)*(we.y-fe.y))._round():we.x<i&&(we=new U(i,fe.y+(i-fe.x)/(we.x-fe.x)*(we.y-fe.y))._round()),fe.y<l&&we.y<l||(fe.y<l?fe=new U(fe.x+(l-fe.y)/(we.y-fe.y)*(we.x-fe.x),l)._round():we.y<l&&(we=new U(fe.x+(l-fe.y)/(we.y-fe.y)*(we.x-fe.x),l)._round()),fe.x>=u&&we.x>=u||(fe.x>=u?fe=new U(u,fe.y+(u-fe.x)/(we.x-fe.x)*(we.y-fe.y))._round():we.x>=u&&(we=new U(u,fe.y+(u-fe.x)/(we.x-fe.x)*(we.y-fe.y))._round()),fe.y>=f&&we.y>=f||(fe.y>=f?fe=new U(fe.x+(f-fe.y)/(we.y-fe.y)*(we.x-fe.x),f)._round():we.y>=f&&(we=new U(fe.x+(f-fe.y)/(we.y-fe.y)*(we.x-fe.x),f)._round()),ee&&fe.equals(ee[ee.length-1])||(ee=[fe],v.push(ee)),ee.push(we)))))}}return v}Ji(mu,"Anchor");const Bh=1e20;function kv(a,i,l,u,f,v,C,N,ee){for(let ne=i;ne<i+u;ne++)Av(a,l*v+ne,v,f,C,N,ee);for(let ne=l;ne<l+f;ne++)Av(a,ne*v+i,1,u,C,N,ee)}function Av(a,i,l,u,f,v,C){v[0]=0,C[0]=-Bh,C[1]=Bh,f[0]=a[i];for(let N=1,ee=0,ne=0;N<u;N++){f[N]=a[i+N*l];const fe=N*N;do{const we=v[ee];ne=(f[N]-f[we]+fe-we*we)/(N-we)/2}while(ne<=C[ee]&&--ee>-1);ee++,v[ee]=N,C[ee]=ne,C[ee+1]=Bh}for(let N=0,ee=0;N<u;N++){for(;C[ee+1]<N;)ee++;const ne=v[ee],fe=N-ne;a[i+N*l]=f[ne]+fe*fe}}const q1={none:0,ideographs:1,all:2};class wo{constructor(i,l,u){this.requestManager=i,this.localGlyphMode=l,this.localFontFamily=u,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(i){this.url=i}getGlyphs(i,l){const u=[];for(const f in i)for(const v of i[f])u.push({stack:f,id:v});q(u,({stack:f,id:v},C)=>{let N=this.entries[f];N||(N=this.entries[f]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let ee=N.glyphs[v];if(ee!==void 0)return void C(null,{stack:f,id:v,glyph:ee});if(ee=this._tinySDF(N,f,v),ee)return N.glyphs[v]=ee,void C(null,{stack:f,id:v,glyph:ee});const ne=Math.floor(v/256);if(256*ne>65535)return void C(new Error("glyphs > 65535 not supported"));if(N.ranges[ne])return void C(null,{stack:f,id:v,glyph:ee});let fe=N.requests[ne];fe||(fe=N.requests[ne]=[],wo.loadGlyphRange(f,ne,this.url,this.requestManager,(we,Ce)=>{if(Ce){N.ascender=Ce.ascender,N.descender=Ce.descender;for(const Ie in Ce.glyphs)this._doesCharSupportLocalGlyph(+Ie)||(N.glyphs[+Ie]=Ce.glyphs[+Ie]);N.ranges[ne]=!0}for(const Ie of fe)Ie(we,Ce);delete N.requests[ne]})),fe.push((we,Ce)=>{we?C(we):Ce&&C(null,{stack:f,id:v,glyph:Ce.glyphs[v]||null})})},(f,v)=>{if(f)l(f);else if(v){const C={};for(const{stack:N,id:ee,glyph:ne}of v)C[N]===void 0&&(C[N]={}),C[N].glyphs===void 0&&(C[N].glyphs={}),C[N].glyphs[ee]=ne&&{id:ne.id,bitmap:ne.bitmap.clone(),metrics:ne.metrics},C[N].ascender=this.entries[N].ascender,C[N].descender=this.entries[N].descender;l(null,C)}})}_doesCharSupportLocalGlyph(i){return this.localGlyphMode!==q1.none&&(this.localGlyphMode===q1.all?!!this.localFontFamily:!!this.localFontFamily&&(vp(i)||zf(i)||rc(i)||_p(i)||Vu(i)))}_tinySDF(i,l,u){const f=this.localFontFamily;if(!f||!this._doesCharSupportLocalGlyph(u))return;let v=i.tinySDF;if(!v){let Ge="400";/bold/i.test(l)?Ge="900":/medium/i.test(l)?Ge="500":/light/i.test(l)&&(Ge="200"),v=i.tinySDF=new wo.TinySDF({fontFamily:f,fontWeight:Ge,fontSize:48,buffer:6,radius:16}),v.fontWeight=Ge}if(this.localGlyphs[v.fontWeight][u])return this.localGlyphs[v.fontWeight][u];const C=String.fromCharCode(u),{data:N,width:ee,height:ne,glyphWidth:fe,glyphHeight:we,glyphLeft:Ce,glyphTop:Ie,glyphAdvance:Be}=v.draw(C);return this.localGlyphs[v.fontWeight][u]={id:u,bitmap:new pu({width:ee,height:ne},N),metrics:{width:fe/2,height:we/2,left:Ce/2,top:Ie/2-27,advance:Be/2,localGlyph:!0}}}}function ul(a,i,l,u){const f=[],v=a.image,C=v.pixelRatio,N=v.paddedRect.w-2,ee=v.paddedRect.h-2,ne=a.right-a.left,fe=a.bottom-a.top,we=v.stretchX||[[0,N]],Ce=v.stretchY||[[0,ee]],Ie=(oi,bi)=>oi+bi[1]-bi[0],Be=we.reduce(Ie,0),Ge=Ce.reduce(Ie,0),Je=N-Be,gt=ee-Ge;let Mt=0,mt=Be,bt=0,Pt=Ge,kt=0,Qt=Je,Jt=0,gi=gt;if(v.content&&u){const oi=v.content;Mt=Ym(we,0,oi[0]),bt=Ym(Ce,0,oi[1]),mt=Ym(we,oi[0],oi[2]),Pt=Ym(Ce,oi[1],oi[3]),kt=oi[0]-Mt,Jt=oi[1]-bt,Qt=oi[2]-oi[0]-mt,gi=oi[3]-oi[1]-Pt}const Fi=(oi,bi,Ti,Li)=>{const ji=qm(oi.stretch-Mt,mt,ne,a.left),li=n0(oi.fixed-kt,Qt,oi.stretch,Be),Zi=qm(bi.stretch-bt,Pt,fe,a.top),zn=n0(bi.fixed-Jt,gi,bi.stretch,Ge),rn=qm(Ti.stretch-Mt,mt,ne,a.left),vn=n0(Ti.fixed-kt,Qt,Ti.stretch,Be),Ki=qm(Li.stretch-bt,Pt,fe,a.top),$n=n0(Li.fixed-Jt,gi,Li.stretch,Ge),Sr=new U(ji,Zi),xr=new U(rn,Zi),yr=new U(rn,Ki),Vn=new U(ji,Ki),ls=new U(li/C,zn/C),rr=new U(vn/C,$n/C),Cr=i*Math.PI/180;if(Cr){const Ps=Math.sin(Cr),Bs=Math.cos(Cr),js=[Bs,-Ps,Ps,Bs];Sr._matMult(js),xr._matMult(js),Vn._matMult(js),yr._matMult(js)}const _s=oi.stretch+oi.fixed,Rs=bi.stretch+bi.fixed;return{tl:Sr,tr:xr,bl:Vn,br:yr,tex:{x:v.paddedRect.x+1+_s,y:v.paddedRect.y+1+Rs,w:Ti.stretch+Ti.fixed-_s,h:Li.stretch+Li.fixed-Rs},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ls,pixelOffsetBR:rr,minFontScaleX:Qt/C/ne,minFontScaleY:gi/C/fe,isSDF:l}};if(u&&(v.stretchX||v.stretchY)){const oi=Pv(we,Je,Be),bi=Pv(Ce,gt,Ge);for(let Ti=0;Ti<oi.length-1;Ti++){const Li=oi[Ti],ji=oi[Ti+1];for(let li=0;li<bi.length-1;li++)f.push(Fi(Li,bi[li],ji,bi[li+1]))}}else f.push(Fi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:N+1},{fixed:0,stretch:ee+1}));return f}function Ym(a,i,l){let u=0;for(const f of a)u+=Math.max(i,Math.min(l,f[1]))-Math.max(i,Math.min(l,f[0]));return u}function Pv(a,i,l){const u=[{fixed:-1,stretch:0}];for(const[f,v]of a){const C=u[u.length-1];u.push({fixed:f-C.stretch,stretch:C.stretch}),u.push({fixed:f-C.stretch,stretch:C.stretch+(v-f)})}return u.push({fixed:i+1,stretch:l}),u}function qm(a,i,l,u){return a/i*l+u}function n0(a,i,l,u){return a-i*l/u}function yw(a,i,l,u){const f=i+a.positionedLines[u].lineOffset;return u===0?l+f/2:l+(f+(i+a.positionedLines[u-1].lineOffset))/2}wo.loadGlyphRange=function(a,i,l,u,f){const v=256*i,C=v+255,N=u.transformRequest(u.normalizeGlyphsURL(l).replace("{fontstack}",a).replace("{range}",`${v}-${C}`),ti.Glyphs);Nt(N,(ee,ne)=>{if(ee)f(ee);else if(ne){const fe={},we=function(Ce){return new t0(Ce).readFields(uw,{})}(ne);for(const Ce of we.glyphs)fe[Ce.id]=Ce;f(null,{glyphs:fe,ascender:we.ascender,descender:we.descender})}})},wo.TinySDF=class{constructor({fontSize:a=24,buffer:i=3,radius:l=8,cutoff:u=.25,fontFamily:f="sans-serif",fontWeight:v="normal",fontStyle:C="normal"}={}){this.buffer=i,this.cutoff=u,this.radius=l;const N=this.size=a+4*i,ee=this._createCanvas(N),ne=this.ctx=ee.getContext("2d",{willReadFrequently:!0});ne.font=`${C} ${v} ${a}px ${f}`,ne.textBaseline="alphabetic",ne.textAlign="left",ne.fillStyle="black",this.gridOuter=new Float64Array(N*N),this.gridInner=new Float64Array(N*N),this.f=new Float64Array(N),this.z=new Float64Array(N+1),this.v=new Uint16Array(N)}_createCanvas(a){const i=document.createElement("canvas");return i.width=i.height=a,i}draw(a){const{width:i,actualBoundingBoxAscent:l,actualBoundingBoxDescent:u,actualBoundingBoxLeft:f,actualBoundingBoxRight:v}=this.ctx.measureText(a),C=Math.ceil(l),N=Math.min(this.size-this.buffer,Math.ceil(v-f)),ee=Math.min(this.size-this.buffer,C+Math.ceil(u)),ne=N+2*this.buffer,fe=ee+2*this.buffer,we=Math.max(ne*fe,0),Ce=new Uint8ClampedArray(we),Ie={data:Ce,width:ne,height:fe,glyphWidth:N,glyphHeight:ee,glyphTop:C,glyphLeft:0,glyphAdvance:i};if(N===0||ee===0)return Ie;const{ctx:Be,buffer:Ge,gridInner:Je,gridOuter:gt}=this;Be.clearRect(Ge,Ge,N,ee),Be.fillText(a,Ge,Ge+C);const Mt=Be.getImageData(Ge,Ge,N,ee);gt.fill(Bh,0,we),Je.fill(0,0,we);for(let mt=0;mt<ee;mt++)for(let bt=0;bt<N;bt++){const Pt=Mt.data[4*(mt*N+bt)+3]/255;if(Pt===0)continue;const kt=(mt+Ge)*ne+bt+Ge;if(Pt===1)gt[kt]=0,Je[kt]=Bh;else{const Qt=.5-Pt;gt[kt]=Qt>0?Qt*Qt:0,Je[kt]=Qt<0?Qt*Qt:0}}kv(gt,0,0,ne,fe,ne,this.f,this.v,this.z),kv(Je,Ge,Ge,N,ee,ne,this.f,this.v,this.z);for(let mt=0;mt<we;mt++){const bt=Math.sqrt(gt[mt])-Math.sqrt(Je[mt]);Ce[mt]=Math.round(255-255*(bt/this.radius+this.cutoff))}return Ie}};class _w{constructor(i=[],l=vw){if(this.data=i,this.length=this.data.length,this.compare=l,this.length>0)for(let u=(this.length>>1)-1;u>=0;u--)this._down(u)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const i=this.data[0],l=this.data.pop();return this.length--,this.length>0&&(this.data[0]=l,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:l,compare:u}=this,f=l[i];for(;i>0;){const v=i-1>>1,C=l[v];if(u(f,C)>=0)break;l[i]=C,i=v}l[i]=f}_down(i){const{data:l,compare:u}=this,f=this.length>>1,v=l[i];for(;i<f;){let C=1+(i<<1),N=l[C];const ee=C+1;if(ee<this.length&&u(l[ee],N)<0&&(C=ee,N=l[ee]),u(N,v)>=0)break;l[i]=N,i=C}l[i]=v}}function vw(a,i){return a<i?-1:a>i?1:0}function Dv(a,i=1,l=!1){let u=1/0,f=1/0,v=-1/0,C=-1/0;const N=a[0];for(let Ie=0;Ie<N.length;Ie++){const Be=N[Ie];(!Ie||Be.x<u)&&(u=Be.x),(!Ie||Be.y<f)&&(f=Be.y),(!Ie||Be.x>v)&&(v=Be.x),(!Ie||Be.y>C)&&(C=Be.y)}const ee=Math.min(v-u,C-f);let ne=ee/2;const fe=new _w([],xw);if(ee===0)return new U(u,f);for(let Ie=u;Ie<v;Ie+=ee)for(let Be=f;Be<C;Be+=ee)fe.push(new zp(Ie+ne,Be+ne,ne,a));let we=function(Ie){let Be=0,Ge=0,Je=0;const gt=Ie[0];for(let Mt=0,mt=gt.length,bt=mt-1;Mt<mt;bt=Mt++){const Pt=gt[Mt],kt=gt[bt],Qt=Pt.x*kt.y-kt.x*Pt.y;Ge+=(Pt.x+kt.x)*Qt,Je+=(Pt.y+kt.y)*Qt,Be+=3*Qt}return new zp(Ge/Be,Je/Be,0,Ie)}(a),Ce=fe.length;for(;fe.length;){const Ie=fe.pop();(Ie.d>we.d||!we.d)&&(we=Ie,l&&console.log("found best %d after %d probes",Math.round(1e4*Ie.d)/1e4,Ce)),Ie.max-we.d<=i||(ne=Ie.h/2,fe.push(new zp(Ie.p.x-ne,Ie.p.y-ne,ne,a)),fe.push(new zp(Ie.p.x+ne,Ie.p.y-ne,ne,a)),fe.push(new zp(Ie.p.x-ne,Ie.p.y+ne,ne,a)),fe.push(new zp(Ie.p.x+ne,Ie.p.y+ne,ne,a)),Ce+=4)}return l&&(console.log(`num probes: ${Ce}`),console.log(`best distance: ${we.d}`)),we.p}function xw(a,i){return i.max-a.max}function zp(a,i,l,u){this.p=new U(a,i),this.h=l,this.d=function(f,v){let C=!1,N=1/0;for(let ee=0;ee<v.length;ee++){const ne=v[ee];for(let fe=0,we=ne.length,Ce=we-1;fe<we;Ce=fe++){const Ie=ne[fe],Be=ne[Ce];Ie.y>f.y!=Be.y>f.y&&f.x<(Be.x-Ie.x)*(f.y-Ie.y)/(Be.y-Ie.y)+Ie.x&&(C=!C),N=Math.min(N,B_(f,Ie,Be))}}return(C?1:-1)*Math.sqrt(N)}(this.p,u),this.max=this.d+this.h*Math.SQRT2}const X1=Number.POSITIVE_INFINITY,Iv=Math.sqrt(2);function Z1(a,[i,l]){let u=0,f=0;if(l===X1){i<0&&(i=0);const v=i/Iv;switch(a){case"top-right":case"top-left":f=v-7;break;case"bottom-right":case"bottom-left":f=7-v;break;case"bottom":f=7-i;break;case"top":f=i-7}switch(a){case"top-right":case"bottom-right":u=-v;break;case"top-left":case"bottom-left":u=v;break;case"left":u=i;break;case"right":u=-i}}else{switch(i=Math.abs(i),l=Math.abs(l),a){case"top-right":case"top-left":case"top":f=l-7;break;case"bottom-right":case"bottom-left":case"bottom":f=7-l}switch(a){case"top-right":case"bottom-right":case"right":u=-i;break;case"top-left":case"bottom-left":case"left":u=i}}return[u,f]}function bw(a,i,l,u,f,v,C,N,ee,ne){a.createArrays(),a.tilePixelRatio=On/(512*a.overscaling),a.compareText={},a.iconsNeedLinear=!1;const fe=a.layers[0].layout,we=a.layers[0]._unevaluatedLayout._values,Ce={};if(a.textSizeData.kind==="composite"){const{minZoom:Ge,maxZoom:Je}=a.textSizeData;Ce.compositeTextSizes=[we["text-size"].possiblyEvaluate(new Vt(Ge),N),we["text-size"].possiblyEvaluate(new Vt(Je),N)]}if(a.iconSizeData.kind==="composite"){const{minZoom:Ge,maxZoom:Je}=a.iconSizeData;Ce.compositeIconSizes=[we["icon-size"].possiblyEvaluate(new Vt(Ge),N),we["icon-size"].possiblyEvaluate(new Vt(Je),N)]}Ce.layoutTextSize=we["text-size"].possiblyEvaluate(new Vt(ee+1),N),Ce.layoutIconSize=we["icon-size"].possiblyEvaluate(new Vt(ee+1),N),Ce.textMaxSize=we["text-size"].possiblyEvaluate(new Vt(18),N);const Ie=fe.get("text-rotation-alignment")==="map"&&fe.get("symbol-placement")!=="point",Be=fe.get("text-size");for(const Ge of a.features){const Je=fe.get("text-font").evaluate(Ge,{},N).join(","),gt=Be.evaluate(Ge,{},N),Mt=Ce.layoutTextSize.evaluate(Ge,{},N),mt=(Ce.layoutIconSize.evaluate(Ge,{},N),{horizontal:{},vertical:void 0}),bt=Ge.text;let Pt,kt=[0,0];if(bt){const gi=bt.toString(),Fi=fe.get("text-letter-spacing").evaluate(Ge,{},N)*ys,oi=fe.get("text-line-height").evaluate(Ge,{},N)*ys,bi=ue(gi)?Fi:0,Ti=fe.get("text-anchor").evaluate(Ge,{},N),Li=fe.get("text-variable-anchor");if(!Li){const rn=fe.get("text-radial-offset").evaluate(Ge,{},N);kt=rn?Z1(Ti,[rn*ys,X1]):fe.get("text-offset").evaluate(Ge,{},N).map(vn=>vn*ys)}let ji=Ie?"center":fe.get("text-justify").evaluate(Ge,{},N);const li=fe.get("symbol-placement")==="point",Zi=li?fe.get("text-max-width").evaluate(Ge,{},N)*ys:1/0,zn=rn=>{a.allowVerticalPlacement&&se(gi)&&(mt.vertical=Vm(bt,i,l,f,Je,Zi,oi,Ti,rn,bi,kt,Qn.vertical,!0,Mt,gt))};if(!Ie&&Li){const rn=ji==="auto"?Li.map(Ki=>K1(Ki)):[ji];let vn=!1;for(let Ki=0;Ki<rn.length;Ki++){const $n=rn[Ki];if(!mt.horizontal[$n])if(vn)mt.horizontal[$n]=mt.horizontal[0];else{const Sr=Vm(bt,i,l,f,Je,Zi,oi,"center",$n,bi,kt,Qn.horizontal,!1,Mt,gt);Sr&&(mt.horizontal[$n]=Sr,vn=Sr.positionedLines.length===1)}}zn("left")}else{if(ji==="auto"&&(ji=K1(Ti)),li||fe.get("text-writing-mode").indexOf("horizontal")>=0||!se(gi)){const rn=Vm(bt,i,l,f,Je,Zi,oi,Ti,ji,bi,kt,Qn.horizontal,!1,Mt,gt);rn&&(mt.horizontal[ji]=rn)}zn(li?"left":ji)}}let Qt=!1;if(Ge.icon&&Ge.icon.name){const gi=u[Ge.icon.name];gi&&(Pt=fw(f[Ge.icon.name],fe.get("icon-offset").evaluate(Ge,{},N),fe.get("icon-anchor").evaluate(Ge,{},N)),Qt=gi.sdf,a.sdfIcons===void 0?a.sdfIcons=gi.sdf:a.sdfIcons!==gi.sdf&&oe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(gi.pixelRatio!==a.pixelRatio||fe.get("icon-rotate").constantOr(1)!==0)&&(a.iconsNeedLinear=!0))}const Jt=Lv(mt.horizontal)||mt.vertical;a.iconsInText||(a.iconsInText=!!Jt&&Jt.iconsInText),(Jt||Pt)&&ww(a,Ge,mt,Pt,u,Ce,Mt,0,kt,Qt,C,N,ne)}v&&a.generateCollisionDebugBuffers(ee,a.collisionBoxArray)}function K1(a){switch(a){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function ww(a,i,l,u,f,v,C,N,ee,ne,fe,we,Ce){let Ie=v.textMaxSize.evaluate(i,{},we);Ie===void 0&&(Ie=C);const Be=a.layers[0].layout,Ge=Be.get("icon-offset").evaluate(i,{},we),Je=Lv(l.horizontal)||l.vertical,gt=Ce.name==="globe",Mt=C/24,mt=a.tilePixelRatio*Ie/24,bt=(bi=a.overscaling,a.zoom>18&&bi>2&&(bi>>=1),Math.max(On/(512*bi),1)*Be.get("symbol-spacing")),Pt=Be.get("text-padding")*a.tilePixelRatio,kt=Be.get("icon-padding")*a.tilePixelRatio,Qt=$(Be.get("text-max-angle")),Jt=Be.get("text-rotation-alignment")==="map"&&Be.get("symbol-placement")!=="point",gi=Be.get("icon-rotation-alignment")==="map"&&Be.get("symbol-placement")!=="point",Fi=Be.get("symbol-placement"),oi=bt/2;var bi;const Ti=Be.get("icon-text-fit");let Li;u&&Ti!=="none"&&(a.allowVerticalPlacement&&l.vertical&&(Li=wv(u,l.vertical,Ti,Be.get("icon-text-fit-padding"),Ge,Mt)),Je&&(u=wv(u,Je,Ti,Be.get("icon-text-fit-padding"),Ge,Mt)));const ji=(li,Zi,zn)=>{if(Zi.x<0||Zi.x>=On||Zi.y<0||Zi.y>=On)return;let rn=null;if(gt){const{x:vn,y:Ki,z:$n}=Ce.projectTilePoint(Zi.x,Zi.y,zn);rn={anchor:new mu(vn,Ki,$n,0,void 0),up:Ce.upVector(zn,Zi.x,Zi.y)}}(function(vn,Ki,$n,Sr,xr,yr,Vn,ls,rr,Cr,_s,Rs,Ps,Bs,js,To,Pa,cs,Ho,Fo,qr,so,aa,vs,Do){const hl=vn.addToLineVertexArray(Ki,Sr);let Da,Ia,Il,La,Uh,og,yy,_y=0,Z5=0,K5=0,J5=0,qw=-1,Xw=-1;const Qu={};let Q5=Sh.exports("");const m0=$n?$n.anchor:Ki;let Zw=0,Kw=0;if(rr._unevaluatedLayout.getValue("text-radial-offset")===void 0?[Zw,Kw]=rr.layout.get("text-offset").evaluate(qr,{},Do).map(Bc=>Bc*ys):(Zw=rr.layout.get("text-radial-offset").evaluate(qr,{},Do)*ys,Kw=X1),vn.allowVerticalPlacement&&xr.vertical){const Bc=xr.vertical;if(js)og=J1(Bc),ls&&(yy=J1(ls));else{const zc=rr.layout.get("text-rotate").evaluate(qr,{},Do)+90;Il=Xm(Cr,m0,Ki,_s,Rs,Ps,Bc,Bs,zc,To),ls&&(La=Xm(Cr,m0,Ki,_s,Rs,Ps,ls,cs,zc))}}if(yr){const Bc=rr.layout.get("icon-rotate").evaluate(qr,{},Do),zc=rr.layout.get("icon-text-fit")!=="none",vy=ul(yr,Bc,aa,zc),Qw=ls?ul(ls,Bc,aa,zc):void 0;Ia=Xm(Cr,m0,Ki,_s,Rs,Ps,yr,cs,Bc),_y=4*vy.length;const eC=vn.iconSizeData;let g0=null;eC.kind==="source"?(g0=[Cs*rr.layout.get("icon-size").evaluate(qr,{},Do)],g0[0]>Zu&&oe(`${vn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):eC.kind==="composite"&&(g0=[Cs*so.compositeIconSizes[0].evaluate(qr,{},Do),Cs*so.compositeIconSizes[1].evaluate(qr,{},Do)],(g0[0]>Zu||g0[1]>Zu)&&oe(`${vn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),vn.addSymbols(vn.icon,vy,g0,Fo,Ho,qr,!1,$n,Ki,hl.lineStartIndex,hl.lineLength,-1,vs,Do),qw=vn.icon.placedSymbolArray.length-1,Qw&&(Z5=4*Qw.length,vn.addSymbols(vn.icon,Qw,g0,Fo,Ho,qr,Qn.vertical,$n,Ki,hl.lineStartIndex,hl.lineLength,-1,vs,Do),Xw=vn.icon.placedSymbolArray.length-1)}for(const Bc in xr.horizontal){const zc=xr.horizontal[Bc];Da||(Q5=Sh.exports(zc.text),js?Uh=J1(zc):Da=Xm(Cr,m0,Ki,_s,Rs,Ps,zc,Bs,rr.layout.get("text-rotate").evaluate(qr,{},Do),To));const vy=zc.positionedLines.length===1;if(K5+=zh(vn,$n,Ki,zc,Vn,rr,js,qr,To,hl,xr.vertical?Qn.horizontal:Qn.horizontalOnly,vy?Object.keys(xr.horizontal):[Bc],Qu,qw,so,vs,Do),vy)break}xr.vertical&&(J5+=zh(vn,$n,Ki,xr.vertical,Vn,rr,js,qr,To,hl,Qn.vertical,["vertical"],Qu,Xw,so,vs,Do));let Vp=-1;const Jw=(Bc,zc)=>Bc?Math.max(Bc,zc):zc;Vp=Jw(Uh,Vp),Vp=Jw(og,Vp),Vp=Jw(yy,Vp);const Z6=Vp>-1?1:0;vn.glyphOffsetArray.length>=Ku.MAX_GLYPHS&&oe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),qr.sortKey!==void 0&&vn.addToSortKeyRanges(vn.symbolInstances.length,qr.sortKey),vn.symbolInstances.emplaceBack(m0.x,m0.y,m0.z,Ki.x,Ki.y,Qu.right>=0?Qu.right:-1,Qu.center>=0?Qu.center:-1,Qu.left>=0?Qu.left:-1,Qu.vertical>=0?Qu.vertical:-1,qw,Xw,Q5,Da!==void 0?Da:vn.collisionBoxArray.length,Da!==void 0?Da+1:vn.collisionBoxArray.length,Il!==void 0?Il:vn.collisionBoxArray.length,Il!==void 0?Il+1:vn.collisionBoxArray.length,Ia!==void 0?Ia:vn.collisionBoxArray.length,Ia!==void 0?Ia+1:vn.collisionBoxArray.length,La||vn.collisionBoxArray.length,La?La+1:vn.collisionBoxArray.length,_s,K5,J5,_y,Z5,Z6,0,Zw,Kw,Vp)})(a,Zi,rn,li,l,u,f,Li,a.layers[0],a.collisionBoxArray,i.index,i.sourceLayerIndex,a.index,Pt,Jt,ee,0,kt,gi,Ge,i,v,ne,fe,we)};if(Fi==="line")for(const li of Mv(i.geometry,0,0,On,On)){const Zi=gw(li,bt,Qt,l.vertical||Je,u,24,mt,a.overscaling,On);for(const zn of Zi){const rn=Je;rn&&Tw(a,rn.text,oi,zn)||ji(li,zn,we)}}else if(Fi==="line-center"){for(const li of i.geometry)if(li.length>1){const Zi=mw(li,Qt,l.vertical||Je,u,24,mt);Zi&&ji(li,Zi,we)}}else if(i.type==="Polygon")for(const li of D1(i.geometry,0)){const Zi=Dv(li,16);ji(li[0],new mu(Zi.x,Zi.y,0,0,void 0),we)}else if(i.type==="LineString")for(const li of i.geometry)ji(li,new mu(li[0].x,li[0].y,0,0,void 0),we);else if(i.type==="Point")for(const li of i.geometry)for(const Zi of li)ji([Zi],new mu(Zi.x,Zi.y,0,0,void 0),we)}const Zu=32640;function zh(a,i,l,u,f,v,C,N,ee,ne,fe,we,Ce,Ie,Be,Ge,Je){const gt=function(bt,Pt,kt,Qt,Jt,gi,Fi,oi){const bi=[];if(Pt.positionedLines.length===0)return bi;const Ti=Qt.layout.get("text-rotate").evaluate(gi,{})*Math.PI/180,Li=function(rn){const vn=rn[0],Ki=rn[1],$n=vn*Ki;return $n>0?[vn,-Ki]:$n<0?[-vn,Ki]:vn===0?[Ki,vn]:[Ki,-vn]}(kt);let ji=Math.abs(Pt.top-Pt.bottom);for(const rn of Pt.positionedLines)ji-=rn.lineOffset;const li=Pt.positionedLines.length,Zi=ji/li;let zn=Pt.top-kt[1];for(let rn=0;rn<li;++rn){const vn=Pt.positionedLines[rn];zn=yw(Pt,Zi,zn,rn);for(const Ki of vn.positionedGlyphs){if(!Ki.rect)continue;const $n=Ki.rect||{};let Sr=4,xr=!0,yr=1,Vn=0;if(Ki.imageName){const vs=Fi[Ki.imageName];if(!vs)continue;if(vs.sdf){oe("SDF images are not supported in formatted text and will be ignored.");continue}xr=!1,yr=vs.pixelRatio,Sr=1/yr}const ls=(Jt||oi)&&Ki.vertical,rr=Ki.metrics.advance*Ki.scale/2,Cr=Ki.metrics,_s=Ki.rect;if(_s===null)continue;oi&&Pt.verticalizable&&(Vn=Ki.imageName?rr-Ki.metrics.width*Ki.scale/2:0);const Rs=Jt?[Ki.x+rr,Ki.y]:[0,0];let Ps=[0,0],Bs=[0,0],js=!1;Jt||(ls?(Bs=[Ki.x+rr+Li[0],Ki.y+Li[1]-Vn],js=!0):Ps=[Ki.x+rr+kt[0],Ki.y+kt[1]-Vn]);const To=_s.w*Ki.scale/(yr*(Ki.localGlyph?2:1)),Pa=_s.h*Ki.scale/(yr*(Ki.localGlyph?2:1));let cs,Ho,Fo,qr;if(ls){const vs=Ki.y-zn,Do=new U(-rr,rr-vs),hl=-Math.PI/2,Da=new U(...Bs);cs=new U(-rr+Ps[0],Ps[1]),cs._rotateAround(hl,Do)._add(Da),cs.x+=-vs+rr,cs.y-=(Cr.left-Sr)*Ki.scale;const Ia=Ki.imageName?Cr.advance*Ki.scale:ys*Ki.scale,Il=String.fromCharCode(Ki.glyph);ow(Il)?cs.x+=(1-Sr)*Ki.scale:U1(Il)?cs.x+=Ia-Cr.height*Ki.scale+(-Sr-1)*Ki.scale:cs.x+=Ki.imageName||Cr.width+2*Sr===_s.w&&Cr.height+2*Sr===_s.h?(Ia-Pa)/2:(Ia-(Cr.height+2*Sr)*Ki.scale)/2,Ho=new U(cs.x,cs.y-To),Fo=new U(cs.x+Pa,cs.y),qr=new U(cs.x+Pa,cs.y-To)}else{const vs=(Cr.left-Sr)*Ki.scale-rr+Ps[0],Do=(-Cr.top-Sr)*Ki.scale+Ps[1],hl=vs+To,Da=Do+Pa;cs=new U(vs,Do),Ho=new U(hl,Do),Fo=new U(vs,Da),qr=new U(hl,Da)}if(Ti){let vs;vs=Jt?new U(0,0):js?new U(Li[0],Li[1]):new U(kt[0],kt[1]),cs._rotateAround(Ti,vs),Ho._rotateAround(Ti,vs),Fo._rotateAround(Ti,vs),qr._rotateAround(Ti,vs)}const so=new U(0,0),aa=new U(0,0);bi.push({tl:cs,tr:Ho,bl:Fo,br:qr,tex:$n,writingMode:Pt.writingMode,glyphOffset:Rs,sectionIndex:Ki.sectionIndex,isSDF:xr,pixelOffsetTL:so,pixelOffsetBR:aa,minFontScaleX:0,minFontScaleY:0})}}return bi}(0,u,ee,v,C,N,f,a.allowVerticalPlacement),Mt=a.textSizeData;let mt=null;Mt.kind==="source"?(mt=[Cs*v.layout.get("text-size").evaluate(N,{},Je)],mt[0]>Zu&&oe(`${a.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):Mt.kind==="composite"&&(mt=[Cs*Be.compositeTextSizes[0].evaluate(N,{},Je),Cs*Be.compositeTextSizes[1].evaluate(N,{},Je)],(mt[0]>Zu||mt[1]>Zu)&&oe(`${a.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),a.addSymbols(a.text,gt,mt,ee,C,N,fe,i,l,ne.lineStartIndex,ne.lineLength,Ie,Ge,Je);for(const bt of we)Ce[bt]=a.text.placedSymbolArray.length-1;return 4*gt.length}function Lv(a){for(const i in a)return a[i];return null}function Xm(a,i,l,u,f,v,C,N,ee,ne){let fe=C.top,we=C.bottom,Ce=C.left,Ie=C.right;const Be=C.collisionPadding;if(Be&&(Ce-=Be[0],fe-=Be[1],Ie+=Be[2],we+=Be[3]),ee){const Ge=new U(Ce,fe),Je=new U(Ie,fe),gt=new U(Ce,we),Mt=new U(Ie,we),mt=$(ee);let bt=new U(0,0);ne&&(bt=new U(ne[0],ne[1])),Ge._rotateAround(mt,bt),Je._rotateAround(mt,bt),gt._rotateAround(mt,bt),Mt._rotateAround(mt,bt),Ce=Math.min(Ge.x,Je.x,gt.x,Mt.x),Ie=Math.max(Ge.x,Je.x,gt.x,Mt.x),fe=Math.min(Ge.y,Je.y,gt.y,Mt.y),we=Math.max(Ge.y,Je.y,gt.y,Mt.y)}return a.emplaceBack(i.x,i.y,i.z,l.x,l.y,Ce,fe,Ie,we,N,u,f,v),a.length-1}function J1(a){a.collisionPadding&&(a.top-=a.collisionPadding[1],a.bottom+=a.collisionPadding[3]);const i=a.bottom-a.top;return i>0?Math.max(10,i):null}function Tw(a,i,l,u){const f=a.compareText;if(i in f){const v=f[i];for(let C=v.length-1;C>=0;C--)if(u.dist(v[C])<l)return!0}else f[i]=[];return f[i].push(u),!1}const Sw=an([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Q1}=Sw,ey=an([{name:"a_pos_3",components:3,type:"Int16"}]);var r0=an([{name:"a_pos",type:"Int16",components:2}]);const gu=On/Math.PI/2,ty=2*cc(1,0)*gu*Math.PI,Np=64,Fp=[Np,32,16],Oc=-gu,Rc=gu,Cw=[new Za([Oc,Oc,Oc],[Rc,Rc,Rc]),new Za([Oc,Oc,Oc],[0,0,Rc]),new Za([0,Oc,Oc],[Rc,0,Rc]),new Za([Oc,0,Oc],[0,Rc,Rc]),new Za([0,0,Oc],[Rc,Rc,Rc])];function Ov(a,i,l,u=!0){const f=dc([],a._camera.position,a.worldSize),v=[i,l,1,1];Yu(v,v,a.pixelMatrixInverse),j_(v,v,1/v[3]);const C=Xa([],od([],v,f)),N=a.globeMatrix,ee=[N[12],N[13],N[14]],ne=od([],ee,f),fe=Ih(ne),we=Xa([],ne),Ce=a.worldSize/(2*Math.PI),Ie=Ic(we,C),Be=Math.asin(Ce/fe);if(Be<Math.acos(Ie)){if(!u)return null;const Fi=[],oi=[];dc(Fi,C,fe/Ie),Xa(oi,od(oi,Fi,ne)),Xa(C,Fd(C,ne,dc(C,oi,Math.tan(Be)*fe)))}const Ge=[];new Mm(f,C).closestPointOnSphere(ee,Ce,Ge);const Je=Xa([],ut(N,0)),gt=Xa([],ut(N,1)),Mt=Xa([],ut(N,2)),mt=Ic(Je,Ge),bt=Ic(gt,Ge),Pt=Ic(Mt,Ge),kt=V(Math.asin(-bt/Ce));let Qt=V(Math.atan2(mt,Pt));Qt=a.center.lng+function(Fi,oi){const bi=(oi-Fi+180)%360-180;return bi<-180?bi+360:bi}(a.center.lng,Qt);const Jt=id(Qt),gi=g(lc(kt),0,1);return new Mh(Jt,gi)}class Ew{constructor(i,l,u){this.a=od([],i,u),this.b=od([],l,u),this.center=u;const f=Xa([],this.a),v=Xa([],this.b);this.angle=Math.acos(Ic(f,v))}}function iy(a,i){if(a.angle===0)return null;let l;return l=a.a[i]===0?1/a.angle*.5*Math.PI:1/a.angle*Math.atan(a.b[i]/a.a[i]/Math.sin(a.angle)-1/Math.tan(a.angle)),l<0||l>1?null:function(u,f,v,C){const N=Math.sin(v);return u*(Math.sin((1-C)*v)/N)+f*(Math.sin(C*v)/N)}(a.a[i],a.b[i],a.angle,g(l,0,1))+a.center[i]}function $d(a){if(a.z<=1)return Cw[a.z+2*a.y+a.x];const i=ny(Zm(a));return Za.fromPoints(i)}function Nh(a,i,l){return dc(a,a,1-l),Ap(a,a,i,l)}function Rv(a,i){const l=Fh(i.zoom);if(l===0)return $d(a);const u=Zm(a),f=ny(u),v=id(u.getWest())*i.worldSize,C=id(u.getEast())*i.worldSize,N=lc(u.getNorth())*i.worldSize,ee=lc(u.getSouth())*i.worldSize,ne=[v,N,0],fe=[C,N,0],we=[v,ee,0],Ce=[C,ee,0],Ie=Cm([],i.globeMatrix);return co(ne,ne,Ie),co(fe,fe,Ie),co(we,we,Ie),co(Ce,Ce,Ie),f[0]=Nh(f[0],we,l),f[1]=Nh(f[1],Ce,l),f[2]=Nh(f[2],fe,l),f[3]=Nh(f[3],ne,l),Za.fromPoints(f)}function Bv(a,i,l){for(const u of a)co(u,u,i),dc(u,u,l)}function Mw(a,i,l){const u=i/a.worldSize,f=a.globeMatrix;if(l.z<=1){const Jt=$d(l).getCorners();return Bv(Jt,f,u),Za.fromPoints(Jt)}const v=Zm(l),C=ny(v);Bv(C,f,u);const N=Number.MAX_VALUE,ee=[-N,-N,-N],ne=[N,N,N];if(v.contains(a.center)){for(const Fi of C)kl(ne,ne,Fi),sd(ee,ee,Fi);ee[2]=0;const Jt=a.point,gi=[Jt.x*u,Jt.y*u,0];return kl(ne,ne,gi),sd(ee,ee,gi),new Za(ne,ee)}const fe=[f[12]*u,f[13]*u,f[14]*u],we=v.getCenter(),Ce=g(a.center.lat,-85.051129,ba),Ie=g(we.lat,-85.051129,ba),Be=id(a.center.lng),Ge=lc(Ce);let Je=Be-id(we.lng);const gt=Ge-lc(Ie);Je>.5?Je-=1:Je<-.5&&(Je+=1);let Mt=0;Math.abs(Je)>Math.abs(gt)?Mt=Je>=0?1:3:(Mt=gt>=0?0:2,Ap(fe,fe,[f[4]*u,f[5]*u,f[6]*u],-Math.sin($(gt>=0?v.getSouth():v.getNorth()))*gu));const mt=C[Mt],bt=C[(Mt+1)%4],Pt=new Ew(mt,bt,fe),kt=[iy(Pt,0)||mt[0],iy(Pt,1)||mt[1],iy(Pt,2)||mt[2]],Qt=Fh(a.zoom);if(Qt>0){const Jt=function({x:Fi,y:oi,z:bi},Ti,Li,ji,li){const Zi=1/(1<<bi);let zn=Fi*Zi,rn=zn+Zi,vn=oi*Zi,Ki=vn+Zi,$n=0;const Sr=(zn+rn)/2-ji;return Sr>.5?$n=-1:Sr<-.5&&($n=1),zn=((zn+$n)*Ti-(ji*=Ti))*Li+ji,rn=((rn+$n)*Ti-ji)*Li+ji,vn=(vn*Ti-(li*=Ti))*Li+li,Ki=(Ki*Ti-li)*Li+li,[[zn,Ki,0],[rn,Ki,0],[rn,vn,0],[zn,vn,0]]}(l,i,a._pixelsPerMercatorPixel,Be,Ge);for(let Fi=0;Fi<C.length;Fi++)Nh(C[Fi],Jt[Fi],Qt);const gi=Fd([],Jt[Mt],Jt[(Mt+1)%4]);dc(gi,gi,.5),Nh(kt,gi,Qt)}for(const Jt of C)kl(ne,ne,Jt),sd(ee,ee,Jt);return ne[2]=Math.min(mt[2],bt[2]),kl(ne,ne,kt),sd(ee,ee,kt),new Za(ne,ee)}function Zm({x:a,y:i,z:l}){const u=1/(1<<l),f=new Ar(dl(a*u),xa((i+1)*u)),v=new Ar(dl((a+1)*u),xa(i*u));return new uu(f,v)}function ny(a){const i=$(a.getNorth()),l=$(a.getSouth()),u=Math.cos(i),f=Math.cos(l),v=Math.sin(i),C=Math.sin(l),N=a.getWest(),ee=a.getEast();return[jp(f,C,N),jp(f,C,ee),jp(u,v,ee),jp(u,v,N)]}function jp(a,i,l,u=gu){return l=$(l),[a*Math.sin(l)*u,-i*u,a*Math.cos(l)*u]}function s0(a,i,l){return jp(Math.cos($(a)),Math.sin($(a)),i,l)}function o0(a,i,l,u){const f=1<<l.z,v=(a/On+l.x)/f;return s0(xa((i/On+l.y)/f),dl(v),u)}function Km({min:a,max:i}){return 16383/Math.max(i[0]-a[0],i[1]-a[1],i[2]-a[2])}const zv=new Float64Array(16);function a0(a){const i=Km(a),l=y1(zv,[i,i,i]);return $f(l,l,((u=[])[0]=-(f=a.min)[0],u[1]=-f[1],u[2]=-f[2],u));var u,f}function ry(a){const i=(u=a.min,(l=zv)[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=u[0],l[13]=u[1],l[14]=u[2],l[15]=1,l);var l,u;const f=1/Km(a);return Dh(i,i,[f,f,f])}function Jm(a,i,l,u,f){const v=function(ee){const ne=On/(2*Math.PI);return ee/(2*Math.PI)/ne}(l),C=[a,i,-l/(2*Math.PI)],N=Dc(new Float64Array(16));return $f(N,N,C),Dh(N,N,[v,v,v]),g1(N,N,$(-f)),Vf(N,N,$(-u)),N}function Fh(a){return x(5,6,a)}function sy(a,i){const l=s0(i.lat,i.lng),u=function(Be){const Ge=s0(Be._center.lat,Be._center.lng);let Je=x1([],Lh(0,1,0),Ge);const gt=N_([],-Be.angle,Ge);Je=co(Je,Je,gt),N_(gt,-Be._pitch,Je);const Mt=Xa([],Ge);return dc(Mt,Mt,Be.cameraToCenterDistance/Be.pixelsPerMeter*ty),co(Mt,Mt,gt),Fd([],Ge,Mt)}(a);return C=(f=kp([],u,l))[0],N=f[1],ee=f[2],ne=(v=l)[0],fe=v[1],we=v[2],Ie=(Ce=Math.sqrt(C*C+N*N+ee*ee)*Math.sqrt(ne*ne+fe*fe+we*we))&&Ic(f,v)/Ce,Math.acos(Math.min(Math.max(Ie,-1),1));var f,v,C,N,ee,ne,fe,we,Ce,Ie}function oy(a,i){return sy(a,i)>Math.PI/2*1.01}const Nv=$(85),kw=Math.cos(Nv),ay=Math.sin(Nv);function Fv(a,i){const l=a.fovAboveCenter,u=a.elevation?a.elevation.getMinElevationBelowMSL()*i:0,f=(a._camera.position[2]*a.worldSize-u)/Math.cos(a._pitch),v=Math.sin(l)*f/Math.sin(Math.max(Math.PI/2-a._pitch-l,.01)),C=Math.sin(a._pitch)*v+f;return Math.min(1.01*C,f*(1/a._horizonShift))}function jh(a,i){if(!i.isReprojectedInTileSpace)return{scale:1<<a.z,x:a.x,y:a.y,x2:a.x+1,y2:a.y+1,projection:i};const l=Math.pow(2,-a.z),u=a.x*l,f=(a.x+1)*l,v=a.y*l,C=(a.y+1)*l,N=dl(u),ee=dl(f),ne=xa(v),fe=xa(C),we=i.project(N,ne),Ce=i.project(ee,ne),Ie=i.project(ee,fe),Be=i.project(N,fe);let Ge=Math.min(we.x,Ce.x,Ie.x,Be.x),Je=Math.min(we.y,Ce.y,Ie.y,Be.y),gt=Math.max(we.x,Ce.x,Ie.x,Be.x),Mt=Math.max(we.y,Ce.y,Ie.y,Be.y);const mt=l/16;function bt(kt,Qt,Jt,gi,Fi,oi){const bi=(Jt+Fi)/2,Ti=(gi+oi)/2,Li=i.project(dl(bi),xa(Ti)),ji=Math.max(0,Ge-Li.x,Je-Li.y,Li.x-gt,Li.y-Mt);Ge=Math.min(Ge,Li.x),gt=Math.max(gt,Li.x),Je=Math.min(Je,Li.y),Mt=Math.max(Mt,Li.y),ji>mt&&(bt(kt,Li,Jt,gi,bi,Ti),bt(Li,Qt,bi,Ti,Fi,oi))}bt(we,Ce,u,v,f,v),bt(Ce,Ie,f,v,f,C),bt(Ie,Be,f,C,u,C),bt(Be,we,u,C,u,v),Ge-=mt,Je-=mt,gt+=mt,Mt+=mt;const Pt=1/Math.max(gt-Ge,Mt-Je);return{scale:Pt,x:Ge*Pt,y:Je*Pt,x2:gt*Pt,y2:Mt*Pt,projection:i}}const Aw=Dc(new Float32Array(16));class No{constructor(i){this.spec=i,this.name=i.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(i,l){return{x:0,y:0,z:0}}unproject(i,l){return new Ar(0,0)}projectTilePoint(i,l,u){return{x:i,y:l,z:0}}locationPoint(i,l,u=!0){return i._coordinatePoint(i.locationCoordinate(l),u)}pixelsPerMeter(i,l){return cc(1,i)*l}pixelSpaceConversion(i,l,u){return 1}farthestPixelDistance(i){return Fv(i,i.pixelsPerMeter)}pointCoordinate(i,l,u,f){const v=i.horizonLineFromTop(!1),C=new U(l,Math.max(v,u));return i.rayIntersectionCoordinate(i.pointRayIntersection(C,f))}pointCoordinate3D(i,l,u){const f=new U(l,u);if(i.elevation)return i.elevation.pointCoordinate(f);{const v=this.pointCoordinate(i,f.x,f.y,0);return[v.x,v.y,v.z]}}isPointAboveHorizon(i,l){if(i.elevation)return!this.pointCoordinate3D(i,l.x,l.y);const u=i.horizonLineFromTop();return l.y<u}createInversionMatrix(i,l){return Aw}createTileMatrix(i,l,u){let f,v,C;const N=u.canonical,ee=Dc(new Float64Array(16));if(this.isReprojectedInTileSpace){const ne=jh(N,this);f=1,v=ne.x+u.wrap*ne.scale,C=ne.y,Dh(ee,ee,[f/ne.scale,f/ne.scale,i.pixelsPerMeter/l])}else f=l/i.zoomScale(N.z),v=(N.x+Math.pow(2,N.z)*u.wrap)*f,C=N.y*f;return $f(ee,ee,[v,C,0]),Dh(ee,ee,[f/On,f/On,1]),ee}upVector(i,l,u){return[0,0,1]}upVectorScale(i,l,u){return{metersToTile:1}}}class ly extends No{constructor(i){super(i),this.range=[4,7],this.center=i.center||[-96,37.5];const[l,u]=this.parallels=i.parallels||[29.5,45.5],f=Math.sin($(l));this.n=(f+Math.sin($(u)))/2,this.c=1+f*(2*this.n-f),this.r0=Math.sqrt(this.c)/this.n}project(i,l){const{n:u,c:f,r0:v}=this,C=$(i-this.center[0]),N=$(l),ee=Math.sqrt(f-2*u*Math.sin(N))/u;return{x:ee*Math.sin(C*u),y:ee*Math.cos(C*u)-v,z:0}}unproject(i,l){const{n:u,c:f,r0:v}=this,C=v+l;let N=Math.atan2(i,Math.abs(C))*Math.sign(C);C*u<0&&(N-=Math.PI*Math.sign(i)*Math.sign(C));const ee=$(this.center[0])*u;N=k(N,-Math.PI-ee,Math.PI-ee);const ne=g(V(N/u)+this.center[0],-180,180),fe=Math.asin(g((f-(i*i+C*C)*u*u)/(2*u),-1,1)),we=g(V(fe),-85.051129,ba);return new Ar(ne,we)}}const l0=1.340264,c0=-.081106,d0=893e-6,u0=.003796,Up=Math.sqrt(3)/2;class Pw extends No{project(i,l){l=l/180*Math.PI,i=i/180*Math.PI;const u=Math.asin(Up*Math.sin(l)),f=u*u,v=f*f*f;return{x:.5*(i*Math.cos(u)/(Up*(l0+3*c0*f+v*(7*d0+9*u0*f)))/Math.PI+.5),y:1-.5*(u*(l0+c0*f+v*(d0+u0*f))/Math.PI+1),z:0}}unproject(i,l){i=(2*i-.5)*Math.PI;let u=l=(2*(1-l)-1)*Math.PI,f=u*u,v=f*f*f;for(let fe,we,Ce,Ie=0;Ie<12&&(we=u*(l0+c0*f+v*(d0+u0*f))-l,Ce=l0+3*c0*f+v*(7*d0+9*u0*f),fe=we/Ce,u=g(u-fe,-Math.PI/3,Math.PI/3),f=u*u,v=f*f*f,!(Math.abs(fe)<1e-12));++Ie);const C=Up*i*(l0+3*c0*f+v*(7*d0+9*u0*f))/Math.cos(u),N=Math.asin(Math.sin(u)/Up),ee=g(180*C/Math.PI,-180,180),ne=g(180*N/Math.PI,-85.051129,ba);return new Ar(ee,ne)}}class cy extends No{constructor(i){super(i),this.wrap=!0,this.supportsWorldCopies=!0}project(i,l){return{x:.5+i/360,y:.5-l/360,z:0}}unproject(i,l){const u=360*(i-.5),f=g(360*(.5-l),-85.051129,ba);return new Ar(u,f)}}const $p=Math.PI/2;function Qm(a){return Math.tan(($p+a)/2)}class Dw extends No{constructor(i){super(i),this.center=i.center||[0,30];const[l,u]=this.parallels=i.parallels||[30,30];let f=$(l),v=$(u);this.southernCenter=f+v<0,this.southernCenter&&(f=-f,v=-v);const C=Math.cos(f),N=Qm(f);this.n=f===v?Math.sin(f):Math.log(C/Math.cos(v))/Math.log(Qm(v)/N),this.f=C*Math.pow(Qm(f),this.n)/this.n}project(i,l){l=$(l),this.southernCenter&&(l=-l),i=$(i-this.center[0]);const u=1e-6,{n:f,f:v}=this;v>0?l<-$p+u&&(l=-$p+u):l>$p-u&&(l=$p-u);const C=v/Math.pow(Qm(l),f);let N=C*Math.sin(f*i),ee=v-C*Math.cos(f*i);return N=.5*(N/Math.PI+.5),ee=.5*(ee/Math.PI+.5),{x:N,y:this.southernCenter?ee:1-ee,z:0}}unproject(i,l){i=(2*i-.5)*Math.PI,this.southernCenter&&(l=1-l),l=(2*(1-l)-.5)*Math.PI;const{n:u,f}=this,v=f-l,C=Math.sign(v),N=Math.sign(u)*Math.sqrt(i*i+v*v);let ee=Math.atan2(i,Math.abs(v))*C;v*u<0&&(ee-=Math.PI*Math.sign(i)*C);const ne=g(V(ee/u)+this.center[0],-180,180),fe=g(V(2*Math.atan(Math.pow(f/N,1/u))-$p),-85.051129,ba);return new Ar(ne,this.southernCenter?-fe:fe)}}class jv extends No{constructor(i){super(i),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(i,l){return{x:id(i),y:lc(l),z:0}}unproject(i,l){const u=dl(i),f=xa(l);return new Ar(u,f)}}const dy=$(ba);class Iw extends No{project(i,l){const u=(l=$(l))*l,f=u*u;return{x:.5*((i=$(i))*(.8707-.131979*u+f*(f*(.003971*u-.001529*f)-.013791))/Math.PI+.5),y:1-.5*(l*(1.007226+u*(.015085+f*(.028874*u-.044475-.005916*f)))/Math.PI+1),z:0}}unproject(i,l){i=(2*i-.5)*Math.PI;let u=l=(2*(1-l)-1)*Math.PI,f=25,v=0,C=u*u;do{C=u*u;const ne=C*C;v=(u*(1.007226+C*(.015085+ne*(.028874*C-.044475-.005916*ne)))-l)/(1.007226+C*(.045255+ne*(.259866*C-.311325-.005916*11*ne))),u=g(u-v,-dy,dy)}while(Math.abs(v)>1e-6&&--f>0);C=u*u;const N=g(V(i/(.8707+C*(C*(C*C*C*(.003971-.001529*C)-.013791)-.131979))),-180,180),ee=V(u);return new Ar(N,ee)}}const Uv=$(ba);class Lw extends No{project(i,l){l=$(l),i=$(i);const u=Math.cos(l),f=2/Math.PI,v=Math.acos(u*Math.cos(i/2)),C=Math.sin(v)/v,N=.5*(i*f+2*u*Math.sin(i/2)/C)||0,ee=.5*(l+Math.sin(l)/C)||0;return{x:.5*(N/Math.PI+.5),y:1-.5*(ee/Math.PI+1),z:0}}unproject(i,l){let u=i=(2*i-.5)*Math.PI,f=l=(2*(1-l)-1)*Math.PI,v=25;const C=1e-6;let N=0,ee=0;do{const ne=Math.cos(f),fe=Math.sin(f),we=2*fe*ne,Ce=fe*fe,Ie=ne*ne,Be=Math.cos(u/2),Ge=Math.sin(u/2),Je=2*Be*Ge,gt=Ge*Ge,Mt=1-Ie*Be*Be,mt=Mt?1/Mt:0,bt=Mt?Math.acos(ne*Be)*Math.sqrt(1/Mt):0,Pt=.5*(2*bt*ne*Ge+2*u/Math.PI)-i,kt=.5*(bt*fe+f)-l,Qt=.5*mt*(Ie*gt+bt*ne*Be*Ce)+1/Math.PI,Jt=mt*(Je*we/4-bt*fe*Ge),gi=.125*mt*(we*Ge-bt*fe*Ie*Je),Fi=.5*mt*(Ce*Be+bt*gt*ne)+.5,oi=Jt*gi-Fi*Qt;N=(kt*Jt-Pt*Fi)/oi,ee=(Pt*gi-kt*Qt)/oi,u=g(u-N,-Math.PI,Math.PI),f=g(f-ee,-Uv,Uv)}while((Math.abs(N)>C||Math.abs(ee)>C)&&--v>0);return new Ar(V(u),V(f))}}class eg extends No{constructor(i){super(i),this.center=i.center||[0,0],this.parallels=i.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos($(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(i,l){const{scale:u,cosPhi:f}=this;return{x:$(i)*f*u+.5,y:-Math.sin($(l))/f*u+.5,z:0}}unproject(i,l){const{scale:u,cosPhi:f}=this,v=-(l-.5)/u,C=g(V((i-.5)/u)/f,-180,180),N=Math.asin(g(v*f,-1,1)),ee=g(V(N),-85.051129,ba);return new Ar(C,ee)}}class uy extends jv{constructor(i){super(i),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(i,l,u){const f=o0(i,l,u);return co(f,f,a0($d(u))),{x:f[0],y:f[1],z:f[2]}}locationPoint(i,l){const u=s0(l.lat,l.lng),f=Xa([],u),v=i.elevation?i.elevation.getAtPointOrZero(i.locationCoordinate(l),i._centerAltitude):i._centerAltitude;Ap(u,u,f,cc(1,0)*On*v);const C=Dc(new Float64Array(16));return Ph(C,i.pixelMatrix,i.globeMatrix),co(u,u,C),new U(u[0],u[1])}pixelsPerMeter(i,l){return cc(1,0)*l}pixelSpaceConversion(i,l,u){const f=cc(1,i)*l,v=Zn(cc(1,45)*l,f,u);return this.pixelsPerMeter(i,l)/v}createTileMatrix(i,l,u){const f=ry($d(u.canonical));return Ph(new Float64Array(16),i.globeMatrix,f)}createInversionMatrix(i,l){const{center:u}=i,f=a0($d(l));return Vf(f,f,$(u.lng)),g1(f,f,$(u.lat)),Dh(f,f,[i._pixelsPerMercatorPixel,i._pixelsPerMercatorPixel,1]),Float32Array.from(f)}pointCoordinate(i,l,u,f){return Ov(i,l,u,!0)||new Mh(0,0)}pointCoordinate3D(i,l,u){const f=this.pointCoordinate(i,l,u,0);return[f.x,f.y,f.z]}isPointAboveHorizon(i,l){return!Ov(i,l.x,l.y,!1)}farthestPixelDistance(i){const l=function(f,v){const C=f.cameraToCenterDistance,N=f._centerAltitude*v,ee=f._camera,ne=f._camera.forward(),fe=Fd([],dc([],ne,-C),[0,0,N]),we=f.worldSize/(2*Math.PI),Ce=[0,0,-we],Ie=f.width/f.height,Be=Math.tan(f.fovAboveCenter),Ge=dc([],ee.up(),Be),Je=dc([],ee.right(),Be*Ie),gt=Xa([],Fd([],Fd([],ne,Ge),Je)),Mt=[];let mt;if(new Mm(fe,gt).closestPointOnSphere(Ce,we,Mt)){const bt=Fd([],Mt,Ce),Pt=od([],bt,fe);mt=Math.cos(f.fovAboveCenter)*Ih(Pt)}else{const bt=od([],fe,Ce),Pt=od([],Ce,fe);Xa(Pt,Pt);const kt=Ih(bt)-we;mt=Math.sqrt(kt*(kt+2*we));const Qt=Math.acos(mt/(we+kt))-Math.acos(Ic(ne,Pt));mt*=Math.cos(Qt)}return 1.01*mt}(i,this.pixelsPerMeter(i.center.lat,i.worldSize)),u=Fh(i.zoom);if(u>0){const f=Fv(i,cc(1,i.center.lat)*i.worldSize),v=i.worldSize/(2*Math.PI),C=Math.max(i.width,i.height)/i.worldSize*Math.PI;return Zn(l,f+v*(1-Math.cos(C)),Math.pow(u,10))}return l}upVector(i,l,u){return o0(l,u,i,1)}upVectorScale(i){return{metersToTile:ty*Km($d(i))}}}function $v(a){const i=a.parallels,l=!!i&&Math.abs(i[0]+i[1])<.01;switch(a.name){case"mercator":return new jv(a);case"equirectangular":return new cy(a);case"naturalEarth":return new Iw(a);case"equalEarth":return new Pw(a);case"winkelTripel":return new Lw(a);case"albers":return l?new eg(a):new ly(a);case"lambertConformalConic":return l?new eg(a):new Dw(a);case"globe":return new uy(a)}throw new Error(`Invalid projection name: ${a.name}`)}const Ow=Om.types,Rw=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function tg(a,i,l,u,f,v,C,N,ee,ne,fe,we,Ce){const Ie=N?Math.min(Zu,Math.round(N[0])):0,Be=N?Math.min(Zu,Math.round(N[1])):0;a.emplaceBack(i,l,Math.round(32*u),Math.round(32*f),v,C,(Ie<<1)+(ee?1:0),Be,16*ne,16*fe,256*we,256*Ce)}function ig(a,i,l,u,f,v,C){a.emplaceBack(i,l,u,f,v,C)}function ng(a,i,l,u,f){a.emplaceBack(i,l,u,f),a.emplaceBack(i,l,u,f),a.emplaceBack(i,l,u,f),a.emplaceBack(i,l,u,f)}function Bw(a){for(const i of a.sections)if(ot(i.text))return!0;return!1}class hy{constructor(i){this.layoutVertexArray=new ts,this.indexArray=new sa,this.programConfigurations=i,this.segments=new vo,this.dynamicLayoutVertexArray=new ka,this.opacityVertexArray=new no,this.placedSymbolArray=new C_,this.globeExtVertexArray=new Ur}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(i,l,u,f){this.isEmpty()||(u&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,ew.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,tw.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,Rw,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=i.createVertexBuffer(this.globeExtVertexArray,ad.members,!0)),this.opacityVertexBuffer.itemSize=1),(u||f)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Ji(hy,"SymbolBuffers");class py{constructor(i,l,u){this.layoutVertexArray=new i,this.layoutAttributes=l,this.indexArray=new u,this.segments=new vo,this.collisionVertexArray=new Th,this.collisionVertexArrayExt=new oc}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,iw.members,!0),this.collisionVertexBufferExt=i.createVertexBuffer(this.collisionVertexArrayExt,Rh.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Ji(py,"CollisionBuffers");class Ku{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(C=>C.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Dc([]),this.placementViewportMatrix=Dc([]);const l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=j1(this.zoom,l["text-size"]),this.iconSizeData=j1(this.zoom,l["icon-size"]);const u=this.layers[0].layout,f=u.get("symbol-sort-key"),v=u.get("symbol-z-order");this.canOverlap=u.get("text-allow-overlap")||u.get("icon-allow-overlap")||u.get("text-ignore-placement")||u.get("icon-ignore-placement"),this.sortFeaturesByKey=v!=="viewport-y"&&f.constantOr(1)!==void 0,this.sortFeaturesByY=(v==="viewport-y"||v==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=u.get("text-writing-mode").map(C=>Qn[C]),this.stateDependentLayerIds=this.layers.filter(C=>C.isStateDependent()).map(C=>C.id),this.sourceID=i.sourceID,this.projection=i.projection}createArrays(){this.text=new hy(new Bd(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new hy(new Bd(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new Jg,this.lineVertexArray=new Qg,this.symbolInstances=new gm}calculateGlyphDependencies(i,l,u,f,v){for(let C=0;C<i.length;C++)if(l[i.charCodeAt(C)]=!0,f&&v){const N=e0[i.charAt(C)];N&&(l[N.charCodeAt(0)]=!0)}}populate(i,l,u,f){const v=this.layers[0],C=v.layout,N=this.projection.name==="globe",ee=C.get("text-font"),ne=C.get("text-field"),fe=C.get("icon-image"),we=(ne.value.kind!=="constant"||ne.value.value instanceof Ks&&!ne.value.value.isEmpty()||ne.value.value.toString().length>0)&&(ee.value.kind!=="constant"||ee.value.value.length>0),Ce=fe.value.kind!=="constant"||!!fe.value.value||Object.keys(fe.parameters).length>0,Ie=C.get("symbol-sort-key");if(this.features=[],!we&&!Ce)return;const Be=l.iconDependencies,Ge=l.glyphDependencies,Je=l.availableImages,gt=new Vt(this.zoom);for(const{feature:Mt,id:mt,index:bt,sourceLayerIndex:Pt}of i){const kt=v._featureFilter.needGeometry,Qt=zd(Mt,kt);if(!v._featureFilter.filter(gt,Qt,u))continue;if(kt||(Qt.geometry=rd(Mt,u,f)),N&&Mt.type!==1&&u.z<=5){const oi=Qt.geometry,bi=.98078528056,Ti=(Li,ji)=>Ic(o0(Li.x,Li.y,u,1),o0(ji.x,ji.y,u,1))<bi;for(let Li=0;Li<oi.length;Li++)oi[Li]=h2(oi[Li],Ti)}let Jt,gi;if(we){const oi=v.getValueAndResolveTokens("text-field",Qt,u,Je),bi=Ks.factory(oi);Bw(bi)&&(this.hasRTLText=!0),(!this.hasRTLText||zt()==="unavailable"||this.hasRTLText&&Kt.isParsed())&&(Jt=sw(bi,v,Qt))}if(Ce){const oi=v.getValueAndResolveTokens("icon-image",Qt,u,Je);gi=oi instanceof fa?oi:fa.fromString(oi)}if(!Jt&&!gi)continue;const Fi=this.sortFeaturesByKey?Ie.evaluate(Qt,{},u):void 0;if(this.features.push({id:mt,text:Jt,icon:gi,index:bt,sourceLayerIndex:Pt,geometry:Qt.geometry,properties:Mt.properties,type:Ow[Mt.type],sortKey:Fi}),gi&&(Be[gi.name]=!0),Jt){const oi=ee.evaluate(Qt,{},u).join(","),bi=C.get("text-rotation-alignment")==="map"&&C.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Qn.vertical)>=0;for(const Ti of Jt.sections)if(Ti.image)Be[Ti.image.name]=!0;else{const Li=se(Jt.toString()),ji=Ti.fontStack||oi,li=Ge[ji]=Ge[ji]||{};this.calculateGlyphDependencies(Ti.text,li,bi,this.allowVerticalPlacement,Li)}}}C.get("symbol-placement")==="line"&&(this.features=function(Mt){const mt={},bt={},Pt=[];let kt=0;function Qt(oi){Pt.push(Mt[oi]),kt++}function Jt(oi,bi,Ti){const Li=bt[oi];return delete bt[oi],bt[bi]=Li,Pt[Li].geometry[0].pop(),Pt[Li].geometry[0]=Pt[Li].geometry[0].concat(Ti[0]),Li}function gi(oi,bi,Ti){const Li=mt[bi];return delete mt[bi],mt[oi]=Li,Pt[Li].geometry[0].shift(),Pt[Li].geometry[0]=Ti[0].concat(Pt[Li].geometry[0]),Li}function Fi(oi,bi,Ti){const Li=Ti?bi[0][bi[0].length-1]:bi[0][0];return`${oi}:${Li.x}:${Li.y}`}for(let oi=0;oi<Mt.length;oi++){const bi=Mt[oi],Ti=bi.geometry,Li=bi.text?bi.text.toString():null;if(!Li){Qt(oi);continue}const ji=Fi(Li,Ti),li=Fi(Li,Ti,!0);if(ji in bt&&li in mt&&bt[ji]!==mt[li]){const Zi=gi(ji,li,Ti),zn=Jt(ji,li,Pt[Zi].geometry);delete mt[ji],delete bt[li],bt[Fi(Li,Pt[zn].geometry,!0)]=zn,Pt[Zi].geometry=null}else ji in bt?Jt(ji,li,Ti):li in mt?gi(ji,li,Ti):(Qt(oi),mt[ji]=kt-1,bt[li]=kt-1)}return Pt.filter(oi=>oi.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Mt,mt)=>Mt.sortKey-mt.sortKey)}update(i,l,u,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,l,this.layers,u,f),this.icon.programConfigurations.updatePaintArrays(i,l,this.layers,u,f))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=$v(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,l){const u=this.lineVertexArray.length;if(i.segment!==void 0)for(const{x:f,y:v}of l)this.lineVertexArray.emplaceBack(f,v);return{lineStartIndex:u,lineLength:this.lineVertexArray.length-u}}addSymbols(i,l,u,f,v,C,N,ee,ne,fe,we,Ce,Ie,Be){const Ge=i.indexArray,Je=i.layoutVertexArray,gt=i.globeExtVertexArray,Mt=i.segments.prepareSegment(4*l.length,Je,Ge,this.canOverlap?C.sortKey:void 0),mt=this.glyphOffsetArray.length,bt=Mt.vertexLength,Pt=this.allowVerticalPlacement&&N===Qn.vertical?Math.PI/2:0,kt=C.text&&C.text.sections;for(let Jt=0;Jt<l.length;Jt++){const{tl:gi,tr:Fi,bl:oi,br:bi,tex:Ti,pixelOffsetTL:Li,pixelOffsetBR:ji,minFontScaleX:li,minFontScaleY:Zi,glyphOffset:zn,isSDF:rn,sectionIndex:vn}=l[Jt],Ki=Mt.vertexLength,$n=zn[1];if(tg(Je,ne.x,ne.y,gi.x,$n+gi.y,Ti.x,Ti.y,u,rn,Li.x,Li.y,li,Zi),tg(Je,ne.x,ne.y,Fi.x,$n+Fi.y,Ti.x+Ti.w,Ti.y,u,rn,ji.x,Li.y,li,Zi),tg(Je,ne.x,ne.y,oi.x,$n+oi.y,Ti.x,Ti.y+Ti.h,u,rn,Li.x,ji.y,li,Zi),tg(Je,ne.x,ne.y,bi.x,$n+bi.y,Ti.x+Ti.w,Ti.y+Ti.h,u,rn,ji.x,ji.y,li,Zi),ee){const{x:Sr,y:xr,z:yr}=ee.anchor,[Vn,ls,rr]=ee.up;ig(gt,Sr,xr,yr,Vn,ls,rr),ig(gt,Sr,xr,yr,Vn,ls,rr),ig(gt,Sr,xr,yr,Vn,ls,rr),ig(gt,Sr,xr,yr,Vn,ls,rr),ng(i.dynamicLayoutVertexArray,Sr,xr,yr,Pt)}else ng(i.dynamicLayoutVertexArray,ne.x,ne.y,ne.z,Pt);Ge.emplaceBack(Ki,Ki+1,Ki+2),Ge.emplaceBack(Ki+1,Ki+2,Ki+3),Mt.vertexLength+=4,Mt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(zn[0]),Jt!==l.length-1&&vn===l[Jt+1].sectionIndex||i.programConfigurations.populatePaintArrays(Je.length,C,C.index,{},Ie,Be,kt&&kt[vn])}const Qt=ee?ee.anchor:ne;i.placedSymbolArray.emplaceBack(Qt.x,Qt.y,Qt.z,ne.x,ne.y,mt,this.glyphOffsetArray.length-mt,bt,fe,we,ne.segment,u?u[0]:0,u?u[1]:0,f[0],f[1],N,0,!1,0,Ce,0)}_commitLayoutVertex(i,l,u,f,v,C,N){i.emplaceBack(l,u,f,v,C,Math.round(N.x),Math.round(N.y))}_addCollisionDebugVertices(i,l,u,f,v,C,N){const ee=u.segments.prepareSegment(4,u.layoutVertexArray,u.indexArray),ne=ee.vertexLength,fe=N.tileAnchorX,we=N.tileAnchorY;for(let Ie=0;Ie<4;Ie++)u.collisionVertexArray.emplaceBack(0,0,0,0);u.collisionVertexArrayExt.emplaceBack(l,-i.padding,-i.padding),u.collisionVertexArrayExt.emplaceBack(l,i.padding,-i.padding),u.collisionVertexArrayExt.emplaceBack(l,i.padding,i.padding),u.collisionVertexArrayExt.emplaceBack(l,-i.padding,i.padding),this._commitLayoutVertex(u.layoutVertexArray,f,v,C,fe,we,new U(i.x1,i.y1)),this._commitLayoutVertex(u.layoutVertexArray,f,v,C,fe,we,new U(i.x2,i.y1)),this._commitLayoutVertex(u.layoutVertexArray,f,v,C,fe,we,new U(i.x2,i.y2)),this._commitLayoutVertex(u.layoutVertexArray,f,v,C,fe,we,new U(i.x1,i.y2)),ee.vertexLength+=4;const Ce=u.indexArray;Ce.emplaceBack(ne,ne+1),Ce.emplaceBack(ne+1,ne+2),Ce.emplaceBack(ne+2,ne+3),Ce.emplaceBack(ne+3,ne),ee.primitiveLength+=4}_addTextDebugCollisionBoxes(i,l,u,f,v,C){for(let N=f;N<v;N++){const ee=u.get(N),ne=this.getSymbolInstanceTextSize(i,C,l,N);this._addCollisionDebugVertices(ee,ne,this.textCollisionBox,ee.projectedAnchorX,ee.projectedAnchorY,ee.projectedAnchorZ,C)}}_addIconDebugCollisionBoxes(i,l,u,f,v,C){for(let N=f;N<v;N++){const ee=u.get(N),ne=this.getSymbolInstanceIconSize(i,l,C.placedIconSymbolIndex);this._addCollisionDebugVertices(ee,ne,this.iconCollisionBox,ee.projectedAnchorX,ee.projectedAnchorY,ee.projectedAnchorZ,C)}}generateCollisionDebugBuffers(i,l){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new py(gs,gr.members,Pc),this.iconCollisionBox=new py(gs,gr.members,Pc);const u=Op(this.iconSizeData,i),f=Op(this.textSizeData,i);for(let v=0;v<this.symbolInstances.length;v++){const C=this.symbolInstances.get(v);this._addTextDebugCollisionBoxes(f,i,l,C.textBoxStartIndex,C.textBoxEndIndex,C),this._addTextDebugCollisionBoxes(f,i,l,C.verticalTextBoxStartIndex,C.verticalTextBoxEndIndex,C),this._addIconDebugCollisionBoxes(u,i,l,C.iconBoxStartIndex,C.iconBoxEndIndex,C),this._addIconDebugCollisionBoxes(u,i,l,C.verticalIconBoxStartIndex,C.verticalIconBoxEndIndex,C)}}getSymbolInstanceTextSize(i,l,u,f){const v=this.text.placedSymbolArray.get(l.rightJustifiedTextSymbolIndex>=0?l.rightJustifiedTextSymbolIndex:l.centerJustifiedTextSymbolIndex>=0?l.centerJustifiedTextSymbolIndex:l.leftJustifiedTextSymbolIndex>=0?l.leftJustifiedTextSymbolIndex:l.verticalPlacedTextSymbolIndex>=0?l.verticalPlacedTextSymbolIndex:f),C=ld(this.textSizeData,i,v)/ys;return this.tilePixelRatio*C}getSymbolInstanceIconSize(i,l,u){const f=this.icon.placedSymbolArray.get(u),v=ld(this.iconSizeData,i,f);return this.tilePixelRatio*v}_commitDebugCollisionVertexUpdate(i,l,u){i.emplaceBack(l,-u,-u),i.emplaceBack(l,u,-u),i.emplaceBack(l,u,u),i.emplaceBack(l,-u,u)}_updateTextDebugCollisionBoxes(i,l,u,f,v,C){for(let N=f;N<v;N++){const ee=u.get(N),ne=this.getSymbolInstanceTextSize(i,C,l,N);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,ne,ee.padding)}}_updateIconDebugCollisionBoxes(i,l,u,f,v,C){for(let N=f;N<v;N++){const ee=u.get(N),ne=this.getSymbolInstanceIconSize(i,l,C);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,ne,ee.padding)}}updateCollisionDebugBuffers(i,l){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const u=Op(this.iconSizeData,i),f=Op(this.textSizeData,i);for(let v=0;v<this.symbolInstances.length;v++){const C=this.symbolInstances.get(v);this._updateTextDebugCollisionBoxes(f,i,l,C.textBoxStartIndex,C.textBoxEndIndex,C),this._updateTextDebugCollisionBoxes(f,i,l,C.verticalTextBoxStartIndex,C.verticalTextBoxEndIndex,C),this._updateIconDebugCollisionBoxes(u,i,l,C.iconBoxStartIndex,C.iconBoxEndIndex,C.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(u,i,l,C.verticalIconBoxStartIndex,C.verticalIconBoxEndIndex,C.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(i,l,u,f,v,C,N,ee,ne){const fe={};if(l<u){const{x1:we,y1:Ce,x2:Ie,y2:Be,padding:Ge,projectedAnchorX:Je,projectedAnchorY:gt,projectedAnchorZ:Mt,tileAnchorX:mt,tileAnchorY:bt,featureIndex:Pt}=i.get(l);fe.textBox={x1:we,y1:Ce,x2:Ie,y2:Be,padding:Ge,projectedAnchorX:Je,projectedAnchorY:gt,projectedAnchorZ:Mt,tileAnchorX:mt,tileAnchorY:bt},fe.textFeatureIndex=Pt}if(f<v){const{x1:we,y1:Ce,x2:Ie,y2:Be,padding:Ge,projectedAnchorX:Je,projectedAnchorY:gt,projectedAnchorZ:Mt,tileAnchorX:mt,tileAnchorY:bt,featureIndex:Pt}=i.get(f);fe.verticalTextBox={x1:we,y1:Ce,x2:Ie,y2:Be,padding:Ge,projectedAnchorX:Je,projectedAnchorY:gt,projectedAnchorZ:Mt,tileAnchorX:mt,tileAnchorY:bt},fe.verticalTextFeatureIndex=Pt}if(C<N){const{x1:we,y1:Ce,x2:Ie,y2:Be,padding:Ge,projectedAnchorX:Je,projectedAnchorY:gt,projectedAnchorZ:Mt,tileAnchorX:mt,tileAnchorY:bt,featureIndex:Pt}=i.get(C);fe.iconBox={x1:we,y1:Ce,x2:Ie,y2:Be,padding:Ge,projectedAnchorX:Je,projectedAnchorY:gt,projectedAnchorZ:Mt,tileAnchorX:mt,tileAnchorY:bt},fe.iconFeatureIndex=Pt}if(ee<ne){const{x1:we,y1:Ce,x2:Ie,y2:Be,padding:Ge,projectedAnchorX:Je,projectedAnchorY:gt,projectedAnchorZ:Mt,tileAnchorX:mt,tileAnchorY:bt,featureIndex:Pt}=i.get(ee);fe.verticalIconBox={x1:we,y1:Ce,x2:Ie,y2:Be,padding:Ge,projectedAnchorX:Je,projectedAnchorY:gt,projectedAnchorZ:Mt,tileAnchorX:mt,tileAnchorY:bt},fe.verticalIconFeatureIndex=Pt}return fe}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){const u=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,u.textBoxStartIndex,u.textBoxEndIndex,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,l){const u=i.placedSymbolArray.get(l),f=u.vertexStartIndex+4*u.numGlyphs;for(let v=u.vertexStartIndex;v<f;v+=4)i.indexArray.emplaceBack(v,v+1,v+2),i.indexArray.emplaceBack(v+1,v+2,v+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const l=Math.sin(i),u=Math.cos(i),f=[],v=[],C=[];for(let N=0;N<this.symbolInstances.length;++N){C.push(N);const ee=this.symbolInstances.get(N);f.push(0|Math.round(l*ee.tileAnchorX+u*ee.tileAnchorY)),v.push(ee.featureIndex)}return C.sort((N,ee)=>f[N]-f[ee]||v[ee]-v[N]),C}addToSortKeyRanges(i,l){const u=this.sortKeyRanges[this.sortKeyRanges.length-1];u&&u.sortKey===l?u.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const l of this.symbolInstanceIndexes){const u=this.symbolInstances.get(l);this.featureSortOrder.push(u.featureIndex);const{rightJustifiedTextSymbolIndex:f,centerJustifiedTextSymbolIndex:v,leftJustifiedTextSymbolIndex:C,verticalPlacedTextSymbolIndex:N,placedIconSymbolIndex:ee,verticalPlacedIconSymbolIndex:ne}=u;f>=0&&this.addIndicesForPlacedSymbol(this.text,f),v>=0&&v!==f&&this.addIndicesForPlacedSymbol(this.text,v),C>=0&&C!==v&&C!==f&&this.addIndicesForPlacedSymbol(this.text,C),N>=0&&this.addIndicesForPlacedSymbol(this.text,N),ee>=0&&this.addIndicesForPlacedSymbol(this.icon,ee),ne>=0&&this.addIndicesForPlacedSymbol(this.icon,ne)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Ji(Ku,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Ku.MAX_GLYPHS=65535,Ku.addDynamicAttributes=ng;const zw=new Sn({"symbol-placement":new Ht(hi.layout_symbol["symbol-placement"]),"symbol-spacing":new Ht(hi.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ht(hi.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ii(hi.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ht(hi.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ht(hi.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Ht(hi.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ht(hi.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ht(hi.layout_symbol["icon-rotation-alignment"]),"icon-size":new ii(hi.layout_symbol["icon-size"]),"icon-text-fit":new Ht(hi.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ht(hi.layout_symbol["icon-text-fit-padding"]),"icon-image":new ii(hi.layout_symbol["icon-image"]),"icon-rotate":new ii(hi.layout_symbol["icon-rotate"]),"icon-padding":new Ht(hi.layout_symbol["icon-padding"]),"icon-keep-upright":new Ht(hi.layout_symbol["icon-keep-upright"]),"icon-offset":new ii(hi.layout_symbol["icon-offset"]),"icon-anchor":new ii(hi.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ht(hi.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ht(hi.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ht(hi.layout_symbol["text-rotation-alignment"]),"text-field":new ii(hi.layout_symbol["text-field"]),"text-font":new ii(hi.layout_symbol["text-font"]),"text-size":new ii(hi.layout_symbol["text-size"]),"text-max-width":new ii(hi.layout_symbol["text-max-width"]),"text-line-height":new ii(hi.layout_symbol["text-line-height"]),"text-letter-spacing":new ii(hi.layout_symbol["text-letter-spacing"]),"text-justify":new ii(hi.layout_symbol["text-justify"]),"text-radial-offset":new ii(hi.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ht(hi.layout_symbol["text-variable-anchor"]),"text-anchor":new ii(hi.layout_symbol["text-anchor"]),"text-max-angle":new Ht(hi.layout_symbol["text-max-angle"]),"text-writing-mode":new Ht(hi.layout_symbol["text-writing-mode"]),"text-rotate":new ii(hi.layout_symbol["text-rotate"]),"text-padding":new Ht(hi.layout_symbol["text-padding"]),"text-keep-upright":new Ht(hi.layout_symbol["text-keep-upright"]),"text-transform":new ii(hi.layout_symbol["text-transform"]),"text-offset":new ii(hi.layout_symbol["text-offset"]),"text-allow-overlap":new Ht(hi.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Ht(hi.layout_symbol["text-ignore-placement"]),"text-optional":new Ht(hi.layout_symbol["text-optional"])});var fy={paint:new Sn({"icon-opacity":new ii(hi.paint_symbol["icon-opacity"]),"icon-color":new ii(hi.paint_symbol["icon-color"]),"icon-halo-color":new ii(hi.paint_symbol["icon-halo-color"]),"icon-halo-width":new ii(hi.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ii(hi.paint_symbol["icon-halo-blur"]),"icon-translate":new Ht(hi.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ht(hi.paint_symbol["icon-translate-anchor"]),"text-opacity":new ii(hi.paint_symbol["text-opacity"]),"text-color":new ii(hi.paint_symbol["text-color"],{runtimeType:Jo,getOverride:a=>a.textColor,hasOverride:a=>!!a.textColor}),"text-halo-color":new ii(hi.paint_symbol["text-halo-color"]),"text-halo-width":new ii(hi.paint_symbol["text-halo-width"]),"text-halo-blur":new ii(hi.paint_symbol["text-halo-blur"]),"text-translate":new Ht(hi.paint_symbol["text-translate"]),"text-translate-anchor":new Ht(hi.paint_symbol["text-translate-anchor"])}),layout:zw};class Vv{constructor(i){this.type=i.property.overrides?i.property.overrides.runtimeType:ao,this.defaultValue=i}evaluate(i){if(i.formattedSection){const l=this.defaultValue.property.overrides;if(l&&l.hasOverride(i.formattedSection))return l.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ji(Vv,"FormatSectionOverride",{omit:["defaultValue"]});class rg extends cl{constructor(i){super(i,fy)}recalculate(i,l){super.recalculate(i,l),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const u=this.layout.get("text-writing-mode");if(u){const f=[];for(const v of u)f.indexOf(v)<0&&f.push(v);this.layout._values["text-writing-mode"]=f}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(i,l,u,f){const v=this.layout.get(i).evaluate(l,{},u,f),C=this._unevaluatedLayout._values[i];return C.isDataDriven()||vt(C.value)||!v?v:function(N,ee){return ee.replace(/{([^{}]+)}/g,(ne,fe)=>fe in N?String(N[fe]):"")}(l.properties,v)}createBucket(i){return new Ku(i)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const i of fy.paint.overridableProperties){if(!rg.hasPaintOverride(this.layout,i))continue;const l=this.paint.get(i),u=new Vv(l),f=new $e(u,l.property.specification);let v=null;v=l.value.kind==="constant"||l.value.kind==="source"?new Tn("source",f):new vr("composite",f,l.value.zoomStops,l.value._interpolationType),this.paint._values[i]=new wi(l.property,v,l.parameters)}}_handleOverridablePaintPropertyUpdate(i,l,u){return!(!this.layout||l.isDataDriven()||u.isDataDriven())&&rg.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,l){const u=i.get("text-field"),f=fy.paint.properties[l];let v=!1;const C=N=>{for(const ee of N)if(f.overrides&&f.overrides.hasOverride(ee))return void(v=!0)};if(u.value.kind==="constant"&&u.value.value instanceof Ks)C(u.value.value.sections);else if(u.value.kind==="source"){const N=ne=>{v||(ne instanceof Yl&&Ws(ne.value)===Ca?C(ne.value.sections):ne instanceof Nr?C(ne.sections):ne.eachChild(N))},ee=u.value;ee._styleExpression&&N(ee._styleExpression.expression)}return v}getProgramConfiguration(i){return new Hu(this,i)}}var Nw={paint:new Sn({"background-color":new Ht(hi.paint_background["background-color"]),"background-pattern":new Ht(hi.paint_background["background-pattern"]),"background-opacity":new Ht(hi.paint_background["background-opacity"])})},Fw={paint:new Sn({"raster-opacity":new Ht(hi.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ht(hi.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ht(hi.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ht(hi.paint_raster["raster-brightness-max"]),"raster-saturation":new Ht(hi.paint_raster["raster-saturation"]),"raster-contrast":new Ht(hi.paint_raster["raster-contrast"]),"raster-resampling":new Ht(hi.paint_raster["raster-resampling"]),"raster-fade-duration":new Ht(hi.paint_raster["raster-fade-duration"])})};class jw extends cl{constructor(i){super(i,{}),this.implementation=i}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(i){this.implementation.onAdd&&this.implementation.onAdd(i,i.painter.context.gl)}onRemove(i){this.implementation.onRemove&&this.implementation.onRemove(i,i.painter.context.gl)}}var Uw={paint:new Sn({"sky-type":new Ht(hi.paint_sky["sky-type"]),"sky-atmosphere-sun":new Ht(hi.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Ht(hi.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Ht(hi.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Ht(hi.paint_sky["sky-gradient-radius"]),"sky-gradient":new mn(hi.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Ht(hi.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Ht(hi.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Ht(hi.paint_sky["sky-opacity"])})};function my(a,i,l){const u=[0,0,1],f=w1([]);return V_(f,f,l?-$(a)+Math.PI:$(a)),$_(f,f,-$(i)),F_(u,u,f),Xa(u,u)}const $w={circle:class extends cl{constructor(a){super(a,f2)}createBucket(a){return new Tp(a)}queryRadius(a){const i=a;return Sp("circle-radius",this,i)+Sp("circle-stroke-width",this,i)+Sm(this.paint.get("circle-translate"))}queryIntersectsFeature(a,i,l,u,f,v,C,N){const ee=qa(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),v.angle,a.pixelToTileUnitsFactor),ne=this.paint.get("circle-radius").evaluate(i,l)+this.paint.get("circle-stroke-width").evaluate(i,l);return G_(a,u,v,C,N,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",ee,ne)}getProgramIds(){return["circle"]}getProgramConfiguration(a){return new Hu(this,a)}},heatmap:class extends cl{createBucket(a){return new H_(a)}constructor(a){super(a,x2),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Wf({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(a){return Sp("heatmap-radius",this,a)}queryIntersectsFeature(a,i,l,u,f,v,C,N){const ee=this.paint.get("heatmap-radius").evaluate(i,l);return G_(a,u,v,C,N,!0,!0,new U(0,0),ee)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(a){return new Hu(this,a)}},hillshade:class extends cl{constructor(a){super(a,b2)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends cl{constructor(a){super(a,B2)}getProgramIds(){const a=this.paint.get("fill-pattern"),i=a&&a.constantOr(1),l=[i?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&l.push(i&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),l}getProgramConfiguration(a){return new Hu(this,a)}recalculate(a,i){super.recalculate(a,i);const l=this.paint._values["fill-outline-color"];l.value.kind==="constant"&&l.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new Dm(a)}queryRadius(){return Sm(this.paint.get("fill-translate"))}queryIntersectsFeature(a,i,l,u,f,v){return!a.queryGeometry.isAboveHorizon&&R_(Nd(a.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),v.angle,a.pixelToTileUnitsFactor),u)}isTileClipped(){return!0}},"fill-extrusion":class extends cl{constructor(a){super(a,lv)}createBucket(a){return new Jf(a)}queryRadius(){return Sm(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(a){return new Hu(this,a)}queryIntersectsFeature(a,i,l,u,f,v,C,N,ee){const ne=qa(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),v.angle,a.pixelToTileUnitsFactor),fe=this.paint.get("fill-extrusion-height").evaluate(i,l),we=this.paint.get("fill-extrusion-base").evaluate(i,l),Ce=[0,0],Ie=N&&v.elevation,Be=v.elevation?v.elevation.exaggeration():1,Ge=a.tile.getBucket(this);if(Ie&&Ge instanceof Jf){const bt=Ge.centroidVertexArray,Pt=ee+1;Pt<bt.length&&(Ce[0]=bt.geta_centroid_pos0(Pt),Ce[1]=bt.geta_centroid_pos1(Pt))}if(Ce[0]===0&&Ce[1]===1)return!1;v.projection.name==="globe"&&(u=N1([u],[new U(0,0),new U(On,On)],a.tileID.canonical).map(bt=>bt.polygon).flat());const Je=Ie?N:null,[gt,Mt]=function(bt,Pt,kt,Qt,Jt,gi,Fi,oi,bi,Ti,Li){return bt.projection.name==="globe"?function(ji,li,Zi,zn,rn,vn,Ki,$n,Sr,xr,yr){const Vn=[],ls=[],rr=ji.projection.upVectorScale(yr,ji.center.lat,ji.worldSize).metersToTile,Cr=[0,0,0,1],_s=[0,0,0,1],Rs=(Bs,js,To,Pa)=>{Bs[0]=js,Bs[1]=To,Bs[2]=Pa,Bs[3]=1},Ps=z1();Zi>0&&(Zi+=Ps),zn+=Ps;for(const Bs of li){const js=[],To=[];for(const Pa of Bs){const cs=Pa.x+rn.x,Ho=Pa.y+rn.y,Fo=ji.projection.projectTilePoint(cs,Ho,yr),qr=ji.projection.upVector(yr,Pa.x,Pa.y);let so=Zi,aa=zn;if(Ki){const vs=F1(cs,Ho,Zi,zn,Ki,$n,Sr,xr);so+=vs.base,aa+=vs.top}Zi!==0?Rs(Cr,Fo.x+qr[0]*rr*so,Fo.y+qr[1]*rr*so,Fo.z+qr[2]*rr*so):Rs(Cr,Fo.x,Fo.y,Fo.z),Rs(_s,Fo.x+qr[0]*rr*aa,Fo.y+qr[1]*rr*aa,Fo.z+qr[2]*rr*aa),co(Cr,Cr,vn),co(_s,_s,vn),js.push(new Lp(Cr[0],Cr[1],Cr[2])),To.push(new Lp(_s[0],_s[1],_s[2]))}Vn.push(js),ls.push(To)}return[Vn,ls]}(bt,Pt,kt,Qt,Jt,gi,Fi,oi,bi,Ti,Li):Fi?function(ji,li,Zi,zn,rn,vn,Ki,$n,Sr){const xr=[],yr=[],Vn=[0,0,0,1];for(const ls of ji){const rr=[],Cr=[];for(const _s of ls){const Rs=_s.x+zn.x,Ps=_s.y+zn.y,Bs=F1(Rs,Ps,li,Zi,vn,Ki,$n,Sr);Vn[0]=Rs,Vn[1]=Ps,Vn[2]=Bs.base,Vn[3]=1,Yu(Vn,Vn,rn),Vn[3]=Math.max(Vn[3],1e-5);const js=new Lp(Vn[0]/Vn[3],Vn[1]/Vn[3],Vn[2]/Vn[3]);Vn[0]=Rs,Vn[1]=Ps,Vn[2]=Bs.top,Vn[3]=1,Yu(Vn,Vn,rn),Vn[3]=Math.max(Vn[3],1e-5);const To=new Lp(Vn[0]/Vn[3],Vn[1]/Vn[3],Vn[2]/Vn[3]);rr.push(js),Cr.push(To)}xr.push(rr),yr.push(Cr)}return[xr,yr]}(Pt,kt,Qt,Jt,gi,Fi,oi,bi,Ti):function(ji,li,Zi,zn,rn){const vn=[],Ki=[],$n=rn[8]*li,Sr=rn[9]*li,xr=rn[10]*li,yr=rn[11]*li,Vn=rn[8]*Zi,ls=rn[9]*Zi,rr=rn[10]*Zi,Cr=rn[11]*Zi;for(const _s of ji){const Rs=[],Ps=[];for(const Bs of _s){const js=Bs.x+zn.x,To=Bs.y+zn.y,Pa=rn[0]*js+rn[4]*To+rn[12],cs=rn[1]*js+rn[5]*To+rn[13],Ho=rn[2]*js+rn[6]*To+rn[14],Fo=rn[3]*js+rn[7]*To+rn[15],qr=Pa+$n,so=cs+Sr,aa=Ho+xr,vs=Math.max(Fo+yr,1e-5),Do=Pa+Vn,hl=cs+ls,Da=Ho+rr,Ia=Math.max(Fo+Cr,1e-5);Rs.push(new Lp(qr/vs,so/vs,aa/vs)),Ps.push(new Lp(Do/Ia,hl/Ia,Da/Ia))}vn.push(Rs),Ki.push(Ps)}return[vn,Ki]}(Pt,kt,Qt,Jt,gi)}(v,u,we,fe,ne,C,Je,Ce,Be,v.center.lat,a.tileID.canonical),mt=a.queryGeometry;return function(bt,Pt,kt){let Qt=1/0;R_(kt,Pt)&&(Qt=Fm(kt,Pt[0]));for(let Jt=0;Jt<Pt.length;Jt++){const gi=Pt[Jt],Fi=bt[Jt];for(let oi=0;oi<gi.length-1;oi++){const bi=gi[oi],Ti=[bi,gi[oi+1],Fi[oi+1],Fi[oi],bi];wm(kt,Ti)&&(Qt=Math.min(Qt,Fm(kt,Ti)))}}return Qt!==1/0&&Qt}(gt,Mt,mt.isPointQuery()?mt.screenBounds:mt.screenGeometry)}},line:class extends cl{constructor(a){super(a,uv),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(a){if(a==="line-gradient"){const i=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=i._styleExpression&&i._styleExpression.expression instanceof ea,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(a,i){super.recalculate(a,i),this.paint._values["line-floorwidth"]=hv.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new jm(a)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(a){return new Hu(this,a)}queryRadius(a){const i=a,l=pv(Sp("line-width",this,i),Sp("line-gap-width",this,i)),u=Sp("line-offset",this,i);return l/2+Math.abs(u)+Sm(this.paint.get("line-translate"))}queryIntersectsFeature(a,i,l,u,f,v){if(a.queryGeometry.isAboveHorizon)return!1;const C=Nd(a.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),v.angle,a.pixelToTileUnitsFactor),N=a.pixelToTileUnitsFactor/2*pv(this.paint.get("line-width").evaluate(i,l),this.paint.get("line-gap-width").evaluate(i,l)),ee=this.paint.get("line-offset").evaluate(i,l);return ee&&(u=function(ne,fe){const we=[],Ce=new U(0,0);for(let Ie=0;Ie<ne.length;Ie++){const Be=ne[Ie],Ge=[];for(let Je=0;Je<Be.length;Je++){const gt=Be[Je-1],Mt=Be[Je],mt=Be[Je+1],bt=Je===0?Ce:Mt.sub(gt)._unit()._perp(),Pt=Je===Be.length-1?Ce:mt.sub(Mt)._unit()._perp(),kt=bt._add(Pt)._unit();kt._mult(1/(kt.x*Pt.x+kt.y*Pt.y)),Ge.push(kt._mult(fe)._add(Mt))}we.push(Ge)}return we}(u,ee*a.pixelToTileUnitsFactor)),function(ne,fe,we){for(let Ce=0;Ce<fe.length;Ce++){const Ie=fe[Ce];if(ne.length>=3){for(let Be=0;Be<Ie.length;Be++)if(Ah(ne,Ie[Be]))return!0}if(u1(ne,Ie,we))return!0}return!1}(C,u,N)}isTileClipped(){return!0}},symbol:rg,background:class extends cl{constructor(a){super(a,Nw)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends cl{constructor(a){super(a,Fw)}getProgramIds(){return["raster"]}},sky:class extends cl{constructor(a){super(a,Uw),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="sky-gradient"?this._updateColorRamp():a!=="sky-atmosphere-sun"&&a!=="sky-atmosphere-halo-color"&&a!=="sky-atmosphere-color"&&a!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Wf({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(a){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const i=a.style.light.properties.get("position");return this._lightPosition.azimuthal!==i.azimuthal||this._lightPosition.polar!==i.polar}return!1}getCenter(a,i){if(this.paint.get("sky-type")==="atmosphere"){const u=this.paint.get("sky-atmosphere-sun"),f=!u,v=a.style.light,C=v.properties.get("position");return f&&v.properties.get("anchor")==="viewport"&&oe("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),f?my(C.azimuthal,90-C.polar,i):my(u[0],90-u[1],i)}const l=this.paint.get("sky-gradient-center");return my(l[0],90-l[1],i)}is3D(){return!1}isSky(){return!0}markSkyboxValid(a){this._skyboxInvalidated=!1,this._lightPosition=a.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const a=this.paint.get("sky-type");return a==="atmosphere"?["skyboxCapture","skybox"]:a==="gradient"?["skyboxGradient"]:null}}};class h0{constructor(i,l,u,f){this.context=i,this.format=u,this.texture=i.gl.createTexture(),this.update(l,f)}update(i,l,u){const{width:f,height:v}=i,{context:C}=this,{gl:N}=C,{HTMLImageElement:ee,HTMLCanvasElement:ne,HTMLVideoElement:fe,ImageData:we,ImageBitmap:Ce}=b;if(N.bindTexture(N.TEXTURE_2D,this.texture),C.pixelStoreUnpackFlipY.set(!1),C.pixelStoreUnpack.set(1),C.pixelStoreUnpackPremultiplyAlpha.set(this.format===N.RGBA&&(!l||l.premultiply!==!1)),u||this.size&&this.size[0]===f&&this.size[1]===v){const{x:Ie,y:Be}=u||{x:0,y:0};i instanceof ee||i instanceof ne||i instanceof fe||i instanceof we||Ce&&i instanceof Ce?N.texSubImage2D(N.TEXTURE_2D,0,Ie,Be,N.RGBA,N.UNSIGNED_BYTE,i):N.texSubImage2D(N.TEXTURE_2D,0,Ie,Be,f,v,N.RGBA,N.UNSIGNED_BYTE,i.data)}else this.size=[f,v],i instanceof ee||i instanceof ne||i instanceof fe||i instanceof we||Ce&&i instanceof Ce?N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,N.UNSIGNED_BYTE,i):N.texImage2D(N.TEXTURE_2D,0,this.format,f,v,0,this.format,N.UNSIGNED_BYTE,i.data);this.useMipmap=!!(l&&l.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&N.generateMipmap(N.TEXTURE_2D)}bind(i,l){const{context:u}=this,{gl:f}=u;f.bindTexture(f.TEXTURE_2D,this.texture),i!==this.filter&&(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,i),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,this.useMipmap?i===f.NEAREST?f.NEAREST_MIPMAP_NEAREST:f.LINEAR_MIPMAP_NEAREST:i),this.filter=i),l!==this.wrap&&(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,l),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,l),this.wrap=l)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}class y{constructor(i){this._callback=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class A{constructor(){this.tasks={},this.taskQueue=[],ce(["process"],this),this.invoker=new y(this.process),this.nextId=0}add(i,l){const u=this.nextId++,f=function({type:v,isSymbolTile:C,zoom:N}){return N=N||0,v==="message"?0:v!=="maybePrepare"||C?v!=="parseTile"||C?v==="parseTile"&&C?300-N:v==="maybePrepare"&&C?400-N:500:200-N:100-N}(l);if(f===0){Oe();try{i()}finally{}return{cancel:()=>{}}}return this.tasks[u]={fn:i,metadata:l,priority:f,id:u},this.taskQueue.push(u),this.invoker.trigger(),{cancel:()=>{delete this.tasks[u]}}}process(){Oe();try{if(this.taskQueue=this.taskQueue.filter(u=>!!this.tasks[u]),!this.taskQueue.length)return;const i=this.pick();if(i===null)return;const l=this.tasks[i];if(delete this.tasks[i],this.taskQueue.length&&this.invoker.trigger(),!l)return;l.fn()}finally{}}pick(){let i=null,l=1/0;for(let f=0;f<this.taskQueue.length;f++){const v=this.tasks[this.taskQueue[f]];v.priority<l&&(l=v.priority,i=f)}if(i===null)return null;const u=this.taskQueue[i];return this.taskQueue.splice(i,1),u}remove(){this.invoker.remove()}}class ae{constructor(i){this._stringToNumber={},this._numberToString=[];for(let l=0;l<i.length;l++){const u=i[l];this._stringToNumber[u]=l,this._numberToString[l]=u}}encode(i){return this._stringToNumber[i]}decode(i){return this._numberToString[i]}}const Pe=["tile","layer","source","sourceLayer","state"];class He{constructor(i,l,u,f,v){this.type="Feature",this._vectorTileFeature=i,this._z=l,this._x=u,this._y=f,this.properties=i.properties,this.id=v}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(i.id=this.id);for(const l of Pe)this[l]!==void 0&&(i[l]=this[l]);return i}}const st=32,Ct=33,Rt=new Uint16Array(8184);for(let a=0;a<2046;a++){let i=a+2,l=0,u=0,f=0,v=0,C=0,N=0;for(1&i?f=v=C=st:l=u=N=st;(i>>=1)>1;){const ne=l+f>>1,fe=u+v>>1;1&i?(f=l,v=u,l=C,u=N):(l=f,u=v,f=C,v=N),C=ne,N=fe}const ee=4*a;Rt[ee+0]=l,Rt[ee+1]=u,Rt[ee+2]=f,Rt[ee+3]=v}const Yt=new Uint16Array(2178),Ai=new Uint8Array(1089),Ri=new Uint16Array(1089);function Vi(a){return a===0?-.03125:a===32?.03125:0}var yn=an([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const Bn={type:2,extent:On,loadGeometry:()=>[[new U(0,0),new U(8193,0),new U(8193,8193),new U(0,8193),new U(0,0)]]};class nr{constructor(i,l,u,f,v){this.tileID=i,this.uid=he(),this.uses=0,this.tileSize=l,this.tileZoom=u,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=v,this.expiredRequestCount=0,this.state="loading",f&&f.transform&&(this.projection=f.transform.projection)}registerFadeDuration(i){const l=i+this.timeAdded;l<_n.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=jh(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(i,l,u){if(this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(f,v){const C={};if(!v)return C;for(const N of f){const ee=N.layerIds.map(ne=>v.getLayer(ne)).filter(Boolean);if(ee.length!==0){N.layers=ee,N.stateDependentLayerIds&&(N.stateDependentLayers=N.stateDependentLayerIds.map(ne=>ee.filter(fe=>fe.id===ne)[0]));for(const ne of ee)C[ne.id]=N}}return C}(i.buckets,l.style),this.hasSymbolBuckets=!1;for(const f in this.buckets){const v=this.buckets[f];if(v instanceof Ku){if(this.hasSymbolBuckets=!0,!u)break;v.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const f in this.buckets){const v=this.buckets[f];if(v instanceof Ku&&v.hasRTLText){this.hasRTLText=!0,Kt.isLoading()||Kt.isLoaded()||zt()!=="deferred"||ei();break}}this.queryPadding=0;for(const f in this.buckets){const v=this.buckets[f];this.queryPadding=Math.max(this.queryPadding,l.style.getLayer(f).queryRadius(v))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage),i.lineAtlas&&(this.lineAtlas=i.lineAtlas)}else this.collisionBoxArray=new Kg}unloadVectorData(){if(this.hasData()){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(i){return this.buckets[i.id]}upload(i){for(const u in this.buckets){const f=this.buckets[u];f.uploadPending()&&f.upload(i)}const l=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new h0(i,this.imageAtlas.image,l.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new h0(i,this.glyphAtlasImage,l.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new h0(i,this.lineAtlas.image,l.ALPHA),this.lineAtlas.uploaded=!0)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,l,u,f,v,C,N,ee){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:f,pixelPosMatrix:N,transform:C,params:v,tileTransform:this.tileTransform},i,l,u):{}}querySourceFeatures(i,l){const u=this.latestFeatureIndex;if(!u||!u.rawTileData)return;const f=u.loadVTLayers(),v=l?l.sourceLayer:"",C=f._geojsonTileLayer||f[v];if(!C)return;const N=Fs(l&&l.filter),{z:ee,x:ne,y:fe}=this.tileID.canonical,we={z:ee,x:ne,y:fe};for(let Ce=0;Ce<C.length;Ce++){const Ie=C.feature(Ce);if(N.needGeometry){const Je=zd(Ie,!0);if(!N.filter(new Vt(this.tileID.overscaledZ),Je,this.tileID.canonical))continue}else if(!N.filter(new Vt(this.tileID.overscaledZ),Ie))continue;const Be=u.getId(Ie,v),Ge=new He(Ie,ee,ne,fe,Be);Ge.tile=we,i.push(Ge)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const l=this.expirationTime;if(i.cacheControl){const u=Le(i.cacheControl);u["max-age"]&&(this.expirationTime=Date.now()+1e3*u["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const u=Date.now();let f=!1;if(this.expirationTime>u)f=!1;else if(l)if(this.expirationTime<l)f=!0;else{const v=this.expirationTime-l;v?this.expirationTime=u+Math.max(v,3e4):f=!0}else f=!0;f?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,l){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0||!l)return;const u=this.latestFeatureIndex.loadVTLayers(),f=l.style.listImages();for(const v in this.buckets){if(!l.style.hasLayer(v))continue;const C=this.buckets[v],N=C.layers[0].sourceLayer||"_geojsonTileLayer",ee=u[N],ne=i[N];if(!ee||!ne||Object.keys(ne).length===0)continue;if(C.update(ne,ee,f,this.imageAtlas&&this.imageAtlas.patternPositions||{}),C instanceof jm||C instanceof Dm){const we=l.style._getSourceCache(C.layers[0].source);l._terrain&&l._terrain.enabled&&we&&C.programConfigurations.needsUpload&&l._terrain._clearRenderCacheForTile(we.id,this.tileID)}const fe=l&&l.style&&l.style.getLayer(v);fe&&(this.queryPadding=Math.max(this.queryPadding,fe.queryRadius(C)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<_n.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=_n.now()+i}setTexture(i,l){const u=l.context,f=u.gl;this.texture=this.texture||l.getTileTexture(i.width),this.texture?this.texture.update(i,{useMipmap:!0}):(this.texture=new h0(u,i,f.RGBA,{useMipmap:!0}),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),u.extTextureFilterAnisotropic&&f.texParameterf(f.TEXTURE_2D,u.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,u.extTextureFilterAnisotropicMax))}setDependencies(i,l){const u={};for(const f of l)u[f]=!0;this.dependencies[i]=u}hasDependency(i,l){for(const u of i){const f=this.dependencies[u];if(f){for(const v of l)if(f[v])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(i,l){if(!l||l.name==="mercator"||this._tileDebugBuffer)return;const u=rd(Bn,this.tileID.canonical,this.tileTransform)[0],f=new Gr,v=new lu;for(let C=0;C<u.length;C++){const{x:N,y:ee}=u[C];f.emplaceBack(N,ee),v.emplaceBack(C)}v.emplaceBack(0),this._tileDebugIndexBuffer=i.createIndexBuffer(v),this._tileDebugBuffer=i.createVertexBuffer(f,r0.members),this._tileDebugSegments=vo.simpleSegment(0,0,f.length,v.length)}_makeTileBoundsBuffers(i,l){if(this._tileBoundsBuffer||!l||l.name==="mercator")return;const u=rd(Bn,this.tileID.canonical,this.tileTransform)[0];let f,v;if(this.isRaster){const C=function(N,ee){const ne=jh(N,ee),fe=Math.pow(2,N.z);for(let Je=0;Je<Ct;Je++)for(let gt=0;gt<Ct;gt++){const Mt=dl((N.x+(gt+Vi(gt))/st)/fe),mt=xa((N.y+(Je+Vi(Je))/st)/fe),bt=ee.project(Mt,mt),Pt=Je*Ct+gt;Yt[2*Pt+0]=Math.round((bt.x*ne.scale-ne.x)*On),Yt[2*Pt+1]=Math.round((bt.y*ne.scale-ne.y)*On)}Ai.fill(0),Ri.fill(0);for(let Je=2045;Je>=0;Je--){const gt=4*Je,Mt=Rt[gt+0],mt=Rt[gt+1],bt=Rt[gt+2],Pt=Rt[gt+3],kt=Mt+bt>>1,Qt=mt+Pt>>1,Jt=kt+Qt-mt,gi=Qt+Mt-kt,Fi=mt*Ct+Mt,oi=Pt*Ct+bt,bi=Qt*Ct+kt,Ti=Math.hypot((Yt[2*Fi+0]+Yt[2*oi+0])/2-Yt[2*bi+0],(Yt[2*Fi+1]+Yt[2*oi+1])/2-Yt[2*bi+1])>=16;if(Ai[bi]=Ai[bi]||(Ti?1:0),Je<1022){const Li=(mt+gi>>1)*Ct+(Mt+Jt>>1),ji=(Pt+gi>>1)*Ct+(bt+Jt>>1);Ai[bi]=Ai[bi]||Ai[Li]||Ai[ji]}}const we=new es,Ce=new sa;let Ie=0;function Be(Je,gt){const Mt=gt*Ct+Je;return Ri[Mt]===0&&(we.emplaceBack(Yt[2*Mt+0],Yt[2*Mt+1],Je*On/st,gt*On/st),Ri[Mt]=++Ie),Ri[Mt]-1}function Ge(Je,gt,Mt,mt,bt,Pt){const kt=Je+Mt>>1,Qt=gt+mt>>1;if(Math.abs(Je-bt)+Math.abs(gt-Pt)>1&&Ai[Qt*Ct+kt])Ge(bt,Pt,Je,gt,kt,Qt),Ge(Mt,mt,bt,Pt,kt,Qt);else{const Jt=Be(Je,gt),gi=Be(Mt,mt),Fi=Be(bt,Pt);Ce.emplaceBack(Jt,gi,Fi)}}return Ge(0,0,st,st,st,0),Ge(st,st,0,0,0,st),{vertices:we,indices:Ce}}(this.tileID.canonical,l);f=C.vertices,v=C.indices}else{f=new es,v=new sa;for(const{x:N,y:ee}of u)f.emplaceBack(N,ee,0,0);const C=Hf.exports(f.int16,void 0,4);for(let N=0;N<C.length;N+=3)v.emplaceBack(C[N],C[N+1],C[N+2])}this._tileBoundsBuffer=i.createVertexBuffer(f,yn.members),this._tileBoundsIndexBuffer=i.createIndexBuffer(v),this._tileBoundsSegments=vo.simpleSegment(0,0,f.length,v.length)}_makeGlobeTileDebugBuffers(i,l){const u=l.projection;if(!u||u.name!=="globe"||l.freezeTileCoverage)return;const f=this.tileID.canonical,v=a0(Rv(f,l)),C=Fh(l.zoom);let N;C>0&&(N=Cm(new Float64Array(16),l.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(i,f,l,v,N,C),this._makeGlobeTileDebugTextBuffer(i,f,l,v,N,C)}_globePoint(i,l,u,f,v,C,N){let ee=o0(i,l,u);if(C){const ne=1<<u.z,fe=id(f.center.lng),we=lc(f.center.lat),Ce=(u.x+.5)/ne-fe;let Ie=0;Ce>.5?Ie=-1:Ce<-.5&&(Ie=1);let Be=(i/On+u.x)/ne+Ie,Ge=(l/On+u.y)/ne;Be=(Be-fe)*f._pixelsPerMercatorPixel+fe,Ge=(Ge-we)*f._pixelsPerMercatorPixel+we;const Je=[Be*f.worldSize,Ge*f.worldSize,0];co(Je,Je,C),ee=Nh(ee,Je,N)}return co(ee,ee,v)}_makeGlobeTileDebugBorderBuffer(i,l,u,f,v,C){const N=new Gr,ee=new lu,ne=new rs,fe=(Ce,Ie,Be,Ge,Je)=>{const gt=(Be-Ce)/(Je-1),Mt=(Ge-Ie)/(Je-1),mt=N.length;for(let bt=0;bt<Je;bt++){const Pt=Ce+bt*gt,kt=Ie+bt*Mt;N.emplaceBack(Pt,kt);const Qt=this._globePoint(Pt,kt,l,u,f,v,C);ne.emplaceBack(Qt[0],Qt[1],Qt[2]),ee.emplaceBack(mt+bt)}},we=On;fe(0,0,we,0,16),fe(we,0,we,we,16),fe(we,we,0,we,16),fe(0,we,0,0,16),this._tileDebugIndexBuffer=i.createIndexBuffer(ee),this._tileDebugBuffer=i.createVertexBuffer(N,r0.members),this._globeTileDebugBorderBuffer=i.createVertexBuffer(ne,ey.members),this._tileDebugSegments=vo.simpleSegment(0,0,N.length,ee.length)}_makeGlobeTileDebugTextBuffer(i,l,u,f,v,C){const N=new Gr,ee=new sa,ne=new rs,fe=25;ee.reserve(32),N.reserve(fe),ne.reserve(fe);const we=(Ce,Ie)=>fe*Ce+Ie;for(let Ce=0;Ce<fe;Ce++){const Ie=2048*Ce;for(let Be=0;Be<fe;Be++){const Ge=2048*Be;N.emplaceBack(Ge,Ie);const Je=this._globePoint(Ge,Ie,l,u,f,v,C);ne.emplaceBack(Je[0],Je[1],Je[2])}}for(let Ce=0;Ce<4;Ce++)for(let Ie=0;Ie<4;Ie++){const Be=we(Ce,Ie),Ge=we(Ce,Ie+1),Je=we(Ce+1,Ie),gt=we(Ce+1,Ie+1);ee.emplaceBack(Be,Ge,Je),ee.emplaceBack(Je,Ge,gt)}this._tileDebugTextIndexBuffer=i.createIndexBuffer(ee),this._tileDebugTextBuffer=i.createVertexBuffer(N,r0.members),this._globeTileDebugTextBuffer=i.createVertexBuffer(ne,ey.members),this._tileDebugTextSegments=vo.simpleSegment(0,0,fe,32)}}class Dr{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,l,u){const f=String(l);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][f]=this.stateChanges[i][f]||{},K(this.stateChanges[i][f],u),this.deletedStates[i]===null){this.deletedStates[i]={};for(const v in this.state[i])v!==f&&(this.deletedStates[i][v]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][f]===null){this.deletedStates[i][f]={};for(const v in this.state[i][f])u[v]||(this.deletedStates[i][f][v]=null)}else for(const v in u)this.deletedStates[i]&&this.deletedStates[i][f]&&this.deletedStates[i][f][v]===null&&delete this.deletedStates[i][f][v]}removeFeatureState(i,l,u){if(this.deletedStates[i]===null)return;const f=String(l);if(this.deletedStates[i]=this.deletedStates[i]||{},u&&l!==void 0)this.deletedStates[i][f]!==null&&(this.deletedStates[i][f]=this.deletedStates[i][f]||{},this.deletedStates[i][f][u]=null);else if(l!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][f])for(u in this.deletedStates[i][f]={},this.stateChanges[i][f])this.deletedStates[i][f][u]=null;else this.deletedStates[i][f]=null;else this.deletedStates[i]=null}getState(i,l){const u=String(l),f=K({},(this.state[i]||{})[u],(this.stateChanges[i]||{})[u]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const v=this.deletedStates[i][l];if(v===null)return{};for(const C in v)delete f[C]}return f}initializeTileState(i,l){i.setFeatureState(this.state,l)}coalesceChanges(i,l){const u={};for(const f in this.stateChanges){this.state[f]=this.state[f]||{};const v={};for(const C in this.stateChanges[f])this.state[f][C]||(this.state[f][C]={}),K(this.state[f][C],this.stateChanges[f][C]),v[C]=this.state[f][C];u[f]=v}for(const f in this.deletedStates){this.state[f]=this.state[f]||{};const v={};if(this.deletedStates[f]===null)for(const C in this.state[f])v[C]={},this.state[f][C]={};else for(const C in this.deletedStates[f]){if(this.deletedStates[f][C]===null)this.state[f][C]={};else for(const N of Object.keys(this.deletedStates[f][C]))delete this.state[f][C][N];v[C]=this.state[f][C]}u[f]=u[f]||{},K(u[f],v)}if(this.stateChanges={},this.deletedStates={},Object.keys(u).length!==0)for(const f in i)i[f].setFeatureState(u,l)}}class sr{constructor(i){this.size=i,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(i,l){const u=this.toIdx(i,l);return{min:this.minimums[u],max:this.maximums[u]}}isLeaf(i,l){return this.leaves[this.toIdx(i,l)]}toIdx(i,l){return l*this.size+i}}function $r(a,i,l,u){let f=0,v=Number.MAX_VALUE;for(let C=0;C<3;C++)if(Math.abs(u[C])<1e-15){if(l[C]<a[C]||l[C]>i[C])return null}else{const N=1/u[C];let ee=(a[C]-l[C])*N,ne=(i[C]-l[C])*N;if(ee>ne){const fe=ee;ee=ne,ne=fe}if(ee>f&&(f=ee),ne<v&&(v=ne),f>v)return null}return f}function Yr(a,i,l,u,f,v,C,N,ee,ne,fe){const we=u-a,Ce=f-i,Ie=v-l,Be=C-a,Ge=N-i,Je=ee-l,gt=fe[1]*Je-fe[2]*Ge,Mt=fe[2]*Be-fe[0]*Je,mt=fe[0]*Ge-fe[1]*Be,bt=we*gt+Ce*Mt+Ie*mt;if(Math.abs(bt)<1e-15)return null;const Pt=1/bt,kt=ne[0]-a,Qt=ne[1]-i,Jt=ne[2]-l,gi=(kt*gt+Qt*Mt+Jt*mt)*Pt;if(gi<0||gi>1)return null;const Fi=Qt*Ie-Jt*Ce,oi=Jt*we-kt*Ie,bi=kt*Ce-Qt*we,Ti=(fe[0]*Fi+fe[1]*oi+fe[2]*bi)*Pt;return Ti<0||gi+Ti>1?null:(Be*Fi+Ge*oi+Je*bi)*Pt}function Pl(a,i,l){return(a-i)/(l-i)}function Ja(a,i,l,u,f,v,C,N,ee){const ne=1<<l,fe=v-u,we=C-f,Ce=(a+1)/ne*fe+u,Ie=(i+0)/ne*we+f,Be=(i+1)/ne*we+f;N[0]=(a+0)/ne*fe+u,N[1]=Ie,ee[0]=Ce,ee[1]=Be}class Dl{constructor(i){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=i,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const l=function(v){const C=Math.ceil(Math.log2(v.dim/8)),N=[];let ee=Math.ceil(Math.pow(2,C));const ne=1/ee,fe=(Ie,Be,Ge,Je,gt)=>{const Mt=Je?1:0,mt=(Ie+1)*Ge-Mt,bt=Be*Ge,Pt=(Be+1)*Ge-Mt;gt[0]=Ie*Ge,gt[1]=bt,gt[2]=mt,gt[3]=Pt};let we=new sr(ee);const Ce=[];for(let Ie=0;Ie<ee*ee;Ie++){fe(Ie%ee,Math.floor(Ie/ee),ne,!1,Ce);const Be=wa(Ce[0],Ce[1],v),Ge=wa(Ce[2],Ce[1],v),Je=wa(Ce[2],Ce[3],v),gt=wa(Ce[0],Ce[3],v);we.minimums.push(Math.min(Be,Ge,Je,gt)),we.maximums.push(Math.max(Be,Ge,Je,gt)),we.leaves.push(1)}for(N.push(we),ee/=2;ee>=1;ee/=2){const Ie=N[N.length-1];we=new sr(ee);for(let Be=0;Be<ee*ee;Be++){fe(Be%ee,Math.floor(Be/ee),2,!0,Ce);const Ge=Ie.getElevation(Ce[0],Ce[1]),Je=Ie.getElevation(Ce[2],Ce[1]),gt=Ie.getElevation(Ce[2],Ce[3]),Mt=Ie.getElevation(Ce[0],Ce[3]),mt=Ie.isLeaf(Ce[0],Ce[1]),bt=Ie.isLeaf(Ce[2],Ce[1]),Pt=Ie.isLeaf(Ce[2],Ce[3]),kt=Ie.isLeaf(Ce[0],Ce[3]),Qt=Math.min(Ge.min,Je.min,gt.min,Mt.min),Jt=Math.max(Ge.max,Je.max,gt.max,Mt.max),gi=mt&&bt&&Pt&&kt;we.maximums.push(Jt),we.minimums.push(Qt),we.leaves.push(Jt-Qt<=5&&gi?1:0)}N.push(we)}return N}(this.dem),u=l.length-1,f=l[u];this._addNode(f.minimums[0],f.maximums[0],f.leaves[0]),this._construct(l,0,0,u,0)}raycastRoot(i,l,u,f,v,C,N=1){return $r([i,l,-100],[u,f,this.maximums[0]*N],v,C)}raycast(i,l,u,f,v,C,N=1){if(!this.nodeCount)return null;const ee=this.raycastRoot(i,l,u,f,v,C,N);if(ee==null)return null;const ne=[],fe=[],we=[],Ce=[],Ie=[{idx:0,t:ee,nodex:0,nodey:0,depth:0}];for(;Ie.length>0;){const{idx:Be,t:Ge,nodex:Je,nodey:gt,depth:Mt}=Ie.pop();if(this.leaves[Be]){Ja(Je,gt,Mt,i,l,u,f,we,Ce);const bt=1<<Mt,Pt=(Je+0)/bt,kt=(Je+1)/bt,Qt=(gt+0)/bt,Jt=(gt+1)/bt,gi=wa(Pt,Qt,this.dem)*N,Fi=wa(kt,Qt,this.dem)*N,oi=wa(kt,Jt,this.dem)*N,bi=wa(Pt,Jt,this.dem)*N,Ti=Yr(we[0],we[1],gi,Ce[0],we[1],Fi,Ce[0],Ce[1],oi,v,C),Li=Yr(Ce[0],Ce[1],oi,we[0],Ce[1],bi,we[0],we[1],gi,v,C),ji=Math.min(Ti!==null?Ti:Number.MAX_VALUE,Li!==null?Li:Number.MAX_VALUE);if(ji!==Number.MAX_VALUE)return ji;{const li=Ap([],v,C,Ge);if(Po(gi,Fi,bi,oi,Pl(li[0],we[0],Ce[0]),Pl(li[1],we[1],Ce[1]))>=li[2])return Ge}continue}let mt=0;for(let bt=0;bt<this._siblingOffset.length;bt++){Ja((Je<<1)+this._siblingOffset[bt][0],(gt<<1)+this._siblingOffset[bt][1],Mt+1,i,l,u,f,we,Ce),we[2]=-100,Ce[2]=this.maximums[this.childOffsets[Be]+bt]*N;const Pt=$r(we,Ce,v,C);if(Pt!=null){const kt=Pt;ne[bt]=kt;let Qt=!1;for(let Jt=0;Jt<mt&&!Qt;Jt++)kt>=ne[fe[Jt]]&&(fe.splice(Jt,0,bt),Qt=!0);Qt||(fe[mt]=bt),mt++}}for(let bt=0;bt<mt;bt++){const Pt=fe[bt];Ie.push({idx:this.childOffsets[Be]+Pt,t:ne[Pt],nodex:(Je<<1)+this._siblingOffset[Pt][0],nodey:(gt<<1)+this._siblingOffset[Pt][1],depth:Mt+1})}}return null}_addNode(i,l,u){return this.minimums.push(i),this.maximums.push(l),this.leaves.push(u),this.childOffsets.push(0),this.nodeCount++}_construct(i,l,u,f,v){if(i[f].isLeaf(l,u)===1)return;this.childOffsets[v]||(this.childOffsets[v]=this.nodeCount);const C=f-1,N=i[C];let ee=0,ne=0;for(let fe=0;fe<this._siblingOffset.length;fe++){const we=2*l+this._siblingOffset[fe][0],Ce=2*u+this._siblingOffset[fe][1],Ie=N.getElevation(we,Ce),Be=N.isLeaf(we,Ce),Ge=this._addNode(Ie.min,Ie.max,Be);Be&&(ee|=1<<fe),ne||(ne=Ge)}for(let fe=0;fe<this._siblingOffset.length;fe++)ee&1<<fe||this._construct(i,2*l+this._siblingOffset[fe][0],2*u+this._siblingOffset[fe][1],C,ne+fe)}}function Po(a,i,l,u,f,v){return Zn(Zn(a,l,v),Zn(i,u,v),f)}function wa(a,i,l){const u=l.dim,f=g(a*u-.5,0,u-1),v=g(i*u-.5,0,u-1),C=Math.floor(f),N=Math.floor(v),ee=Math.min(C+1,u-1),ne=Math.min(N+1,u-1);return Po(l.get(C,N),l.get(ee,N),l.get(C,ne),l.get(ee,ne),f-C,v-N)}const Vd={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class p0{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(i,l,u,f=!1,v=!1){if(this.uid=i,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(u&&u!=="mapbox"&&u!=="terrarium")return oe(`"${u}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=l.height;const C=this.dim=l.height-2,N=new Uint32Array(l.data.buffer);if(this.pixels=new Uint8Array(l.data.buffer),this.encoding=u||"mapbox",this.borderReady=f,!f){for(let ee=0;ee<C;ee++)N[this._idx(-1,ee)]=N[this._idx(0,ee)],N[this._idx(C,ee)]=N[this._idx(C-1,ee)],N[this._idx(ee,-1)]=N[this._idx(ee,0)],N[this._idx(ee,C)]=N[this._idx(ee,C-1)];N[this._idx(-1,-1)]=N[this._idx(0,0)],N[this._idx(C,-1)]=N[this._idx(C-1,0)],N[this._idx(-1,C)]=N[this._idx(0,C-1)],N[this._idx(C,C)]=N[this._idx(C-1,C-1)],v&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Dl(this)}get(i,l,u=!1){u&&(i=g(i,-1,this.dim),l=g(l,-1,this.dim));const f=4*this._idx(i,l);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[f],this.pixels[f+1],this.pixels[f+2])}static getUnpackVector(i){return Vd[i]}get unpackVector(){return Vd[this.encoding]}_idx(i,l){if(i<-1||i>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(i+1)}_unpackMapbox(i,l,u){return(256*i*256+256*l+u)/10-1e4}_unpackTerrarium(i,l,u){return 256*i+l+u/256-32768}static pack(i,l){const u=[0,0,0,0],f=p0.getUnpackVector(l);let v=Math.floor((i+f[3])/f[2]);return u[2]=v%256,v=Math.floor(v/256),u[1]=v%256,v=Math.floor(v/256),u[0]=v,u}getPixels(){return new Al({width:this.stride,height:this.stride},this.pixels)}backfillBorder(i,l,u){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let f=l*this.dim,v=l*this.dim+this.dim,C=u*this.dim,N=u*this.dim+this.dim;switch(l){case-1:f=v-1;break;case 1:v=f+1}switch(u){case-1:C=N-1;break;case 1:N=C+1}const ee=-l*this.dim,ne=-u*this.dim;for(let fe=C;fe<N;fe++)for(let we=f;we<v;we++){const Ce=4*this._idx(we,fe),Ie=4*this._idx(we+ee,fe+ne);this.pixels[Ce+0]=i.pixels[Ie+0],this.pixels[Ce+1]=i.pixels[Ie+1],this.pixels[Ce+2]=i.pixels[Ie+2],this.pixels[Ce+3]=i.pixels[Ie+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Ji(p0,"DEMData"),Ji(Dl,"DemMinMaxQuadTree",{omit:["dem"]});class Y6{constructor(i,l){this.max=i,this.onRemove=l,this.reset()}reset(){for(const i in this.data)for(const l of this.data[i])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(i,l,u){const f=i.wrapped().key;this.data[f]===void 0&&(this.data[f]=[]);const v={value:l,timeout:void 0};if(u!==void 0&&(v.timeout=setTimeout(()=>{this.remove(i,v)},u)),this.data[f].push(v),this.order.push(f),this.order.length>this.max){const C=this._getAndRemoveByKey(this.order[0]);C&&this.onRemove(C)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const l=this.data[i].shift();return l.timeout&&clearTimeout(l.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),l.value}getByKey(i){const l=this.data[i];return l?l[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,l){if(!this.has(i))return this;const u=i.wrapped().key,f=l===void 0?0:this.data[u].indexOf(l),v=this.data[u][f];return this.data[u].splice(f,1),v.timeout&&clearTimeout(v.timeout),this.data[u].length===0&&delete this.data[u],this.onRemove(v.value),this.order.splice(this.order.indexOf(u),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(i){const l=[];for(const u in this.data)for(const f of this.data[u])i(f.value)||l.push(f);for(const u of l)this.remove(u.value.tileID,u)}}class sg{constructor(i,l,u){this.func=i,this.mask=l,this.range=u}}sg.ReadOnly=!1,sg.ReadWrite=!0,sg.disabled=new sg(519,sg.ReadOnly,[0,1]);const Vw=7680;class Gw{constructor(i,l,u,f,v,C){this.test=i,this.ref=l,this.mask=u,this.fail=f,this.depthFail=v,this.pass=C}}Gw.disabled=new Gw({func:519,mask:0},0,0,Vw,Vw,Vw);class Ju{constructor(i,l,u){this.blendFunction=i,this.blendColor=l,this.mask=u}}Ju.Replace=[1,0],Ju.disabled=new Ju(Ju.Replace,As.transparent,[!1,!1,!1,!1]),Ju.unblended=new Ju(Ju.Replace,As.transparent,[!0,!0,!0,!0]),Ju.alphaBlended=new Ju([1,771],As.transparent,[!0,!0,!0,!0]);const Ww=1029,Hw=2305;class yu{constructor(i,l,u){this.enable=i,this.mode=l,this.frontFace=u}}yu.disabled=new yu(!1,Ww,Hw),yu.backCCW=new yu(!0,Ww,Hw),yu.backCW=new yu(!0,Ww,2304),yu.frontCW=new yu(!0,1028,2304),yu.frontCCW=new yu(!0,1028,Hw);class f0 extends mo{constructor(i,l,u){super(),this.id=i,this._onlySymbols=u,l.on("data",f=>{f.dataType==="source"&&f.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&f.dataType==="source"&&f.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),l.on("error",()=>{this._sourceErrored=!0}),this._source=l,this._tiles={},this._cache=new Y6(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Dr,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(i){this.map=i,this._minTileCacheSize=this._minTileCacheSize===void 0&&i?i._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&i?i._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const i in this._tiles){const l=this._tiles[i];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(i,l){return i.isSymbolTile=this._onlySymbols,this._source.loadTile(i,l)}_unloadTile(i){if(this._source.unloadTile)return this._source.unloadTile(i,()=>{})}_abortTile(i){if(this._source.abortTile)return this._source.abortTile(i,()=>{})}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const u=this._tiles[l];u.upload(i),u.prepare(this.map.style.imageManager)}}getIds(){return Y(this._tiles).map(i=>i.tileID).sort($5).map(i=>i.key)}getRenderableIds(i){const l=[];for(const u in this._tiles)this._isIdRenderable(+u,i)&&l.push(this._tiles[u]);return i?l.sort((u,f)=>{const v=u.tileID,C=f.tileID,N=new U(v.canonical.x,v.canonical.y)._rotate(this.transform.angle),ee=new U(C.canonical.x,C.canonical.y)._rotate(this.transform.angle);return v.overscaledZ-C.overscaledZ||ee.y-N.y||ee.x-N.x}).map(u=>u.tileID.key):l.map(u=>u.tileID).sort($5).map(u=>u.key)}hasRenderableParent(i){const l=this.findLoadedParent(i,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(i,l){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(l||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)this._tiles[i].state!=="errored"&&this._reloadTile(+i,"reloading")}}_reloadTile(i,l){const u=this._tiles[i];u&&(u.state!=="loading"&&(u.state=l),this._loadTile(u,this._tileLoaded.bind(this,u,i,l)))}_tileLoaded(i,l,u,f){if(f)if(i.state="errored",f.status!==404)this._source.fire(new $a(f,{tile:i}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const v=this.map.painter.terrain;this.update(this.transform,v.getScaledDemTileSize(),!0),v.resetTileLookupCache(this.id)}else this.update(this.transform);else i.timeAdded=_n.now(),u==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(l,i),this._source.type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),this._source.fire(new Ua("data",{dataType:"source",tile:i,coord:i.tileID,sourceCacheId:this.id}))}_backfillDEM(i){const l=this.getRenderableIds();for(let f=0;f<l.length;f++){const v=l[f];if(i.neighboringTiles&&i.neighboringTiles[v]){const C=this.getTileByID(v);u(i,C),u(C,i)}}function u(f,v){if(!f.dem||f.dem.borderReady)return;f.needsHillshadePrepare=!0,f.needsDEMTextureUpload=!0;let C=v.tileID.canonical.x-f.tileID.canonical.x;const N=v.tileID.canonical.y-f.tileID.canonical.y,ee=Math.pow(2,f.tileID.canonical.z),ne=v.tileID.key;C===0&&N===0||Math.abs(N)>1||(Math.abs(C)>1&&(Math.abs(C+ee)===1?C+=ee:Math.abs(C-ee)===1&&(C-=ee)),v.dem&&f.dem&&(f.dem.backfillBorder(v.dem,C,N),f.neighboringTiles&&f.neighboringTiles[ne]&&(f.neighboringTiles[ne].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,l,u,f){for(const v in this._tiles){let C=this._tiles[v];if(f[v]||!C.hasData()||C.tileID.overscaledZ<=l||C.tileID.overscaledZ>u)continue;let N=C.tileID;for(;C&&C.tileID.overscaledZ>l+1;){const ne=C.tileID.scaledTo(C.tileID.overscaledZ-1);C=this._tiles[ne.key],C&&C.hasData()&&(N=ne)}let ee=N;for(;ee.overscaledZ>l;)if(ee=ee.scaledTo(ee.overscaledZ-1),i[ee.key]){f[N.key]=N;break}}}findLoadedParent(i,l){if(i.key in this._loadedParentTiles){const u=this._loadedParentTiles[i.key];return u&&u.tileID.overscaledZ>=l?u:null}for(let u=i.overscaledZ-1;u>=l;u--){const f=i.scaledTo(u),v=this._getLoadedTile(f);if(v)return v}}_getLoadedTile(i){const l=this._tiles[i.key];return l&&l.hasData()?l:this._cache.getByKey(this._source.reparseOverscaled?i.wrapped().key:i.canonical.key)}updateCacheSize(i,l){l=l||this._source.tileSize;const u=Math.ceil(i.width/l)+1,f=Math.ceil(i.height/l)+1,v=Math.floor(u*f*5),C=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,v):v,N=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,C):C;this._cache.setMaxSize(N)}handleWrapJump(i){const l=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,l){const u={};for(const f in this._tiles){const v=this._tiles[f];v.tileID=v.tileID.unwrapTo(v.tileID.wrap+l),u[v.tileID.key]=v}this._tiles=u;for(const f in this._timers)clearTimeout(this._timers[f]),delete this._timers[f];for(const f in this._tiles)this._setTileReloadTimer(+f,this._tiles[f])}}update(i,l,u){if(this.transform=i,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!u)return;let f;this.updateCacheSize(i,l),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?f=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(N=>new oa(N.canonical.z,N.wrap,N.canonical.z,N.canonical.x,N.canonical.y)):(f=i.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!u,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(f=f.filter(N=>this._source.hasTile(N)))):f=[];const v=this._updateRetainedTiles(f);if(V5(this._source.type)&&f.length!==0){const N={},ee={},ne=Object.keys(v);for(const we of ne){const Ce=v[we],Ie=this._tiles[we];if(!Ie||Ie.fadeEndTime&&Ie.fadeEndTime<=_n.now())continue;const Be=this.findLoadedParent(Ce,Math.max(Ce.overscaledZ-f0.maxOverzooming,this._source.minzoom));Be&&(this._addTile(Be.tileID),N[Be.tileID.key]=Be.tileID),ee[we]=Ce}const fe=f[f.length-1].overscaledZ;for(const we in this._tiles){const Ce=this._tiles[we];if(v[we]||!Ce.hasData())continue;let Ie=Ce.tileID;for(;Ie.overscaledZ>fe;){Ie=Ie.scaledTo(Ie.overscaledZ-1);const Be=this._tiles[Ie.key];if(Be&&Be.hasData()&&ee[Ie.key]){v[we]=Ce.tileID;break}}}for(const we in N)v[we]||(this._coveredTiles[we]=!0,v[we]=N[we])}for(const N in v)this._tiles[N].clearFadeHold();const C=function(N,ee){const ne=[];for(const fe in N)fe in ee||ne.push(fe);return ne}(this._tiles,v);for(const N of C){const ee=this._tiles[N];ee.hasSymbolBuckets&&!ee.holdingForFade()?ee.setHoldDuration(this.map._fadeDuration):ee.hasSymbolBuckets&&!ee.symbolFadeFinished()||this._removeTile(+N)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(+i)}_updateRetainedTiles(i){const l={};if(i.length===0)return l;const u={},f=i.reduce((ne,fe)=>Math.min(ne,fe.overscaledZ),1/0),v=i[0].overscaledZ,C=Math.max(v-f0.maxOverzooming,this._source.minzoom),N=Math.max(v+f0.maxUnderzooming,this._source.minzoom),ee={};for(const ne of i){const fe=this._addTile(ne);l[ne.key]=ne,fe.hasData()||f<this._source.maxzoom&&(ee[ne.key]=ne)}this._retainLoadedChildren(ee,f,N,l);for(const ne of i){let fe=this._tiles[ne.key];if(fe.hasData())continue;if(ne.canonical.z>=this._source.maxzoom){const Ce=ne.children(this._source.maxzoom)[0],Ie=this.getTile(Ce);if(Ie&&Ie.hasData()){l[Ce.key]=Ce;continue}}else{const Ce=ne.children(this._source.maxzoom);if(l[Ce[0].key]&&l[Ce[1].key]&&l[Ce[2].key]&&l[Ce[3].key])continue}let we=fe.wasRequested();for(let Ce=ne.overscaledZ-1;Ce>=C;--Ce){const Ie=ne.scaledTo(Ce);if(u[Ie.key]||(u[Ie.key]=!0,fe=this.getTile(Ie),!fe&&we&&(fe=this._addTile(Ie)),fe&&(l[Ie.key]=Ie,we=fe.wasRequested(),fe.hasData())))break}}return l}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const l=[];let u,f=this._tiles[i].tileID;for(;f.overscaledZ>0;){if(f.key in this._loadedParentTiles){u=this._loadedParentTiles[f.key];break}l.push(f.key);const v=f.scaledTo(f.overscaledZ-1);if(u=this._getLoadedTile(v),u)break;f=v}for(const v of l)this._loadedParentTiles[v]=u}}_addTile(i){let l=this._tiles[i.key];if(l)return l;l=this._cache.getAndRemove(i),l&&(this._setTileReloadTimer(i.key,l),l.tileID=i,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,l)));const u=!!l;if(!u){const f=this.map?this.map.painter:null;l=new nr(i,this._source.tileSize*i.overscaleFactor(),this.transform.tileZoom,f,this._isRaster),this._loadTile(l,this._tileLoaded.bind(this,l,i.key,l.state))}return l?(l.uses++,this._tiles[i.key]=l,u||this._source.fire(new Ua("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l):null}_setTileReloadTimer(i,l){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const u=l.getExpiryTimeout();u&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},u))}_removeTile(i){const l=this._tiles[i];l&&(l.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),l.uses>0||(l.hasData()&&l.state!=="reloading"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(+i);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(i,l,u){const f=[],v=this.transform;if(!v)return f;const C=v.projection.name==="globe",N=id(v.center.lng);for(const ee in this._tiles){const ne=this._tiles[ee];if(u&&ne.clearQueryDebugViz(),ne.holdingForFade())continue;let fe;if(C){const we=ne.tileID.canonical;if(we.z===0){const Ce=[Math.abs(g(N,...gy(we,-1))-N),Math.abs(g(N,...gy(we,1))-N)];fe=[0,2*Ce.indexOf(Math.min(...Ce))-1]}else{const Ce=[Math.abs(g(N,...gy(we,-1))-N),Math.abs(g(N,...gy(we,0))-N),Math.abs(g(N,...gy(we,1))-N)];fe=[Ce.indexOf(Math.min(...Ce))-1]}}else fe=[0];for(const we of fe){const Ce=i.containsTile(ne,v,l,we);Ce&&f.push(Ce)}}return f}getVisibleCoordinates(i){const l=this.getRenderableIds(i).map(u=>this._tiles[u].tileID);for(const u of l)u.projMatrix=this.transform.calculateProjMatrix(u.toUnwrapped());return l}hasTransition(){if(this._source.hasTransition())return!0;if(V5(this._source.type))for(const i in this._tiles){const l=this._tiles[i];if(l.fadeEndTime!==void 0&&l.fadeEndTime>=_n.now())return!0}return!1}setFeatureState(i,l,u){this._state.updateState(i=i||"_geojsonTileLayer",l,u)}removeFeatureState(i,l,u){this._state.removeFeatureState(i=i||"_geojsonTileLayer",l,u)}getFeatureState(i,l){return this._state.getState(i=i||"_geojsonTileLayer",l)}setDependencies(i,l,u){const f=this._tiles[i];f&&f.setDependencies(l,u)}reloadTilesForDependencies(i,l){for(const u in this._tiles)this._tiles[u].hasDependency(i,l)&&this._reloadTile(+u,"reloading");this._cache.filter(u=>!u.hasDependency(i,l))}_preloadTiles(i,l){const u=new Map,f=Array.isArray(i)?i:[i],v=this.map.painter.terrain,C=this.usedForTerrain&&v?v.getScaledDemTileSize():this._source.tileSize;for(const N of f){const ee=N.coveringTiles({tileSize:C,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const ne of ee)u.set(ne.key,ne);this.usedForTerrain&&N.updateElevation(!1)}q(Array.from(u.values()),(N,ee)=>{const ne=new nr(N,this._source.tileSize*N.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(ne,fe=>{this._source.type==="raster-dem"&&ne.dem&&this._backfillDEM(ne),ee(fe,ne)})},l)}}function $5(a,i){const l=Math.abs(2*a.wrap)-+(a.wrap<0),u=Math.abs(2*i.wrap)-+(i.wrap<0);return a.overscaledZ-i.overscaledZ||u-l||i.canonical.y-a.canonical.y||i.canonical.x-a.canonical.x}function V5(a){return a==="raster"||a==="image"||a==="video"||a==="custom"}function gy(a,i){const l=1<<a.z;return[a.x/l+i,(a.x+1)/l+i]}f0.maxOverzooming=10,f0.maxUnderzooming=3;class Gv{constructor(i,l,u){this._demTile=i,this._dem=this._demTile.dem,this._scale=l,this._offset=u}static create(i,l,u){const f=u||i.findDEMTileFor(l);if(!f||!f.dem)return;const v=f.dem,C=f.tileID,N=1<<l.canonical.z-C.canonical.z;return new Gv(f,f.tileSize/On/N,[(l.canonical.x/N-C.canonical.x)*v.dim,(l.canonical.y/N-C.canonical.y)*v.dim])}tileCoordToPixel(i,l){const u=l*this._scale+this._offset[1],f=Math.floor(i*this._scale+this._offset[0]),v=Math.floor(u);return new U(f,v)}getElevationAt(i,l,u,f){const v=i*this._scale+this._offset[0],C=l*this._scale+this._offset[1],N=Math.floor(v),ee=Math.floor(C),ne=this._dem;return f=!!f,u?Zn(Zn(ne.get(N,ee,f),ne.get(N,ee+1,f),C-ee),Zn(ne.get(N+1,ee,f),ne.get(N+1,ee+1,f),C-ee),v-N):ne.get(N,ee,f)}getElevationAtPixel(i,l,u){return this._dem.get(i,l,!!u)}getMeterToDEM(i){return(1<<this._demTile.tileID.canonical.z)*cc(1,i)*this._dem.stride}}class G5{constructor(i,l){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new $u(On,16,0),this.featureIndexArray=new cu,this.promoteId=l}insert(i,l,u,f,v,C=0){const N=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(u,f,v,C);const ee=this.grid;for(let ne=0;ne<l.length;ne++){const fe=l[ne],we=[1/0,1/0,-1/0,-1/0];for(let Ce=0;Ce<fe.length;Ce++){const Ie=fe[Ce];we[0]=Math.min(we[0],Ie.x),we[1]=Math.min(we[1],Ie.y),we[2]=Math.max(we[2],Ie.x),we[3]=Math.max(we[3],Ie.y)}we[0]<On&&we[1]<On&&we[2]>=0&&we[3]>=0&&ee.insert(N,we[0],we[1],we[2],we[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new O1(new t0(this.rawTileData)).layers,this.sourceLayerCoder=new ae(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const i in this.vtLayers)this.vtFeatures[i]=[]}return this.vtLayers}query(i,l,u,f){this.loadVTLayers();const v=i.params||{},C=Fs(v.filter),N=i.tileResult,ee=i.transform,ne=N.bufferedTilespaceBounds,fe=this.grid.query(ne.min.x,ne.min.y,ne.max.x,ne.max.y,(Be,Ge,Je,gt)=>f1(N.bufferedTilespaceGeometry,Be,Ge,Je,gt));fe.sort(q6);let we=null;ee.elevation&&fe.length>0&&(we=Gv.create(ee.elevation,this.tileID));const Ce={};let Ie;for(let Be=0;Be<fe.length;Be++){const Ge=fe[Be];if(Ge===Ie)continue;Ie=Ge;const Je=this.featureIndexArray.get(Ge);let gt=null;this.loadMatchingFeature(Ce,Je,C,v.layers,v.availableImages,l,u,f,(Mt,mt,bt,Pt=0)=>(gt||(gt=rd(Mt,this.tileID.canonical,i.tileTransform)),mt.queryIntersectsFeature(N,Mt,bt,gt,this.z,i.transform,i.pixelPosMatrix,we,Pt)))}return Ce}loadMatchingFeature(i,l,u,f,v,C,N,ee,ne){const{featureIndex:fe,bucketIndex:we,sourceLayerIndex:Ce,layoutVertexArrayOffset:Ie}=l,Be=this.bucketLayerIDs[we];if(f&&!function(Mt,mt){for(let bt=0;bt<Mt.length;bt++)if(mt.indexOf(Mt[bt])>=0)return!0;return!1}(f,Be))return;const Ge=this.sourceLayerCoder.decode(Ce),Je=this.vtLayers[Ge].feature(fe);if(u.needGeometry){const Mt=zd(Je,!0);if(!u.filter(new Vt(this.tileID.overscaledZ),Mt,this.tileID.canonical))return}else if(!u.filter(new Vt(this.tileID.overscaledZ),Je))return;const gt=this.getId(Je,Ge);for(let Mt=0;Mt<Be.length;Mt++){const mt=Be[Mt];if(f&&f.indexOf(mt)<0)continue;const bt=C[mt];if(!bt)continue;let Pt={};gt!==void 0&&ee&&(Pt=ee.getState(bt.sourceLayer||"_geojsonTileLayer",gt));const kt=K({},N[mt]);kt.paint=W5(kt.paint,bt.paint,Je,Pt,v),kt.layout=W5(kt.layout,bt.layout,Je,Pt,v);const Qt=!ne||ne(Je,bt,Pt,Ie);if(!Qt)continue;const Jt=new He(Je,this.z,this.x,this.y,gt);Jt.layer=kt;let gi=i[mt];gi===void 0&&(gi=i[mt]=[]),gi.push({featureIndex:fe,feature:Jt,intersectionZ:Qt})}}lookupSymbolFeatures(i,l,u,f,v,C,N,ee){const ne={};this.loadVTLayers();const fe=Fs(v);for(const we of i)this.loadMatchingFeature(ne,{bucketIndex:u,sourceLayerIndex:f,featureIndex:we,layoutVertexArrayOffset:0},fe,C,N,ee,l);return ne}loadFeature(i){const{featureIndex:l,sourceLayerIndex:u}=i;this.loadVTLayers();const f=this.sourceLayerCoder.decode(u),v=this.vtFeatures[f];if(v[l])return v[l];const C=this.vtLayers[f].feature(l);return v[l]=C,C}hasLayer(i){for(const l of this.bucketLayerIDs)for(const u of l)if(i===u)return!0;return!1}getId(i,l){let u=i.id;if(this.promoteId){const f=typeof this.promoteId=="string"?this.promoteId:this.promoteId[l];f!=null&&(u=i.properties[f]),typeof u=="boolean"&&(u=Number(u))}return u}}function W5(a,i,l,u,f){return ke(a,(v,C)=>{const N=i instanceof zi?i.get(C):null;return N&&N.evaluate?N.evaluate(l,u,f):N})}function q6(a,i){return i-a}Ji(G5,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class H5{constructor(i,l){this.width=i,this.height=l,this.nextRow=0,this.image=new pu({width:i,height:l}),this.positions={},this.uploaded=!1}getDash(i,l){const u=this.getKey(i,l);return this.positions[u]}trim(){const i=this.width,l=this.height=F(this.nextRow);this.image.resize({width:i,height:l})}getKey(i,l){return i.join(",")+l}getDashRanges(i,l,u){const f=[];let v=i.length%2==1?-i[i.length-1]*u:0,C=i[0]*u,N=!0;f.push({left:v,right:C,isDash:N,zeroLength:i[0]===0});let ee=i[0];for(let ne=1;ne<i.length;ne++){N=!N;const fe=i[ne];v=ee*u,ee+=fe,C=ee*u,f.push({left:v,right:C,isDash:N,zeroLength:fe===0})}return f}addRoundDash(i,l,u){const f=l/2;for(let v=-u;v<=u;v++){const C=this.width*(this.nextRow+u+v);let N=0,ee=i[N];for(let ne=0;ne<this.width;ne++){ne/ee.right>1&&(ee=i[++N]);const fe=Math.abs(ne-ee.left),we=Math.abs(ne-ee.right),Ce=Math.min(fe,we);let Ie;const Be=v/u*(f+1);if(ee.isDash){const Ge=f-Math.abs(Be);Ie=Math.sqrt(Ce*Ce+Ge*Ge)}else Ie=f-Math.sqrt(Ce*Ce+Be*Be);this.image.data[C+ne]=Math.max(0,Math.min(255,Ie+128))}}}addRegularDash(i,l){for(let ee=i.length-1;ee>=0;--ee){const ne=i[ee],fe=i[ee+1];ne.zeroLength?i.splice(ee,1):fe&&fe.isDash===ne.isDash&&(fe.left=ne.left,i.splice(ee,1))}const u=i[0],f=i[i.length-1];u.isDash===f.isDash&&(u.left=f.left-this.width,f.right=u.right+this.width);const v=this.width*this.nextRow;let C=0,N=i[C];for(let ee=0;ee<this.width;ee++){ee/N.right>1&&(N=i[++C]);const ne=Math.abs(ee-N.left),fe=Math.abs(ee-N.right),we=Math.min(ne,fe);this.image.data[v+ee]=Math.max(0,Math.min(255,(N.isDash?we:-we)+l+128))}}addDash(i,l){const u=this.getKey(i,l);if(this.positions[u])return this.positions[u];const f=l==="round",v=f?7:0,C=2*v+1;if(this.nextRow+C>this.height)return oe("LineAtlas out of space"),null;i.length===0&&i.push(1);let N=0;for(let fe=0;fe<i.length;fe++)i[fe]<0&&(oe("Negative value is found in line dasharray, replacing values with 0"),i[fe]=0),N+=i[fe];if(N!==0){const fe=this.width/N,we=this.getDashRanges(i,this.width,fe);f?this.addRoundDash(we,fe,v):this.addRegularDash(we,l==="square"?.5*fe:0)}const ee=this.nextRow+v;this.nextRow+=C;const ne={tl:[ee,v],br:[N,0]};return this.positions[u]=ne,ne}}Ji(H5,"LineAtlas");class Y5{constructor(i){const l={},u=[];for(const N in i){const ee=i[N],ne=l[N]={};for(const fe in ee.glyphs){const we=ee.glyphs[+fe];if(!we||we.bitmap.width===0||we.bitmap.height===0)continue;const Ce=we.metrics.localGlyph?2:1,Ie={x:0,y:0,w:we.bitmap.width+2*Ce,h:we.bitmap.height+2*Ce};u.push(Ie),ne[fe]=Ie}}const{w:f,h:v}=W1(u),C=new pu({width:f||1,height:v||1});for(const N in i){const ee=i[N];for(const ne in ee.glyphs){const fe=ee.glyphs[+ne];if(!fe||fe.bitmap.width===0||fe.bitmap.height===0)continue;const we=l[N][ne],Ce=fe.metrics.localGlyph?2:1;pu.copy(fe.bitmap,C,{x:0,y:0},{x:we.x+Ce,y:we.y+Ce},fe.bitmap)}}this.image=C,this.positions=l}}Ji(Y5,"GlyphAtlas");class X6{constructor(i){this.tileID=new oa(i.tileID.overscaledZ,i.tileID.wrap,i.tileID.canonical.z,i.tileID.canonical.x,i.tileID.canonical.y),this.tileZoom=i.tileZoom,this.uid=i.uid,this.zoom=i.zoom,this.canonical=i.tileID.canonical,this.pixelRatio=i.pixelRatio,this.tileSize=i.tileSize,this.source=i.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=i.showCollisionBoxes,this.collectResourceTiming=!!i.collectResourceTiming,this.returnDependencies=!!i.returnDependencies,this.promoteId=i.promoteId,this.enableTerrain=!!i.enableTerrain,this.isSymbolTile=i.isSymbolTile,this.tileTransform=jh(i.tileID.canonical,i.projection),this.projection=i.projection}parse(i,l,u,f,v){this.status="parsing",this.data=i,this.collisionBoxArray=new Kg;const C=new ae(Object.keys(i.layers).sort()),N=new G5(this.tileID,this.promoteId);N.bucketLayerIDs=[];const ee={},ne=new H5(256,256),fe={featureIndex:N,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:ne,availableImages:u},we=l.familiesBySource[this.source];for(const Pt in we){const kt=i.layers[Pt];if(!kt)continue;let Qt=!1,Jt=!1;for(const oi of we[Pt])oi[0].type==="symbol"?Qt=!0:Jt=!0;if(this.isSymbolTile===!0&&!Qt||this.isSymbolTile===!1&&!Jt)continue;kt.version===1&&oe(`Vector tile source "${this.source}" layer "${Pt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const gi=C.encode(Pt),Fi=[];for(let oi=0;oi<kt.length;oi++){const bi=kt.feature(oi),Ti=N.getId(bi,Pt);Fi.push({feature:bi,id:Ti,index:oi,sourceLayerIndex:gi})}for(const oi of we[Pt]){const bi=oi[0];this.isSymbolTile!==void 0&&bi.type==="symbol"!==this.isSymbolTile||bi.minzoom&&this.zoom<Math.floor(bi.minzoom)||bi.maxzoom&&this.zoom>=bi.maxzoom||bi.visibility!=="none"&&(Yw(oi,this.zoom,u),(ee[bi.id]=bi.createBucket({index:N.bucketLayerIDs.length,layers:oi,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:gi,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:u})).populate(Fi,fe,this.tileID.canonical,this.tileTransform),N.bucketLayerIDs.push(oi.map(Ti=>Ti.id)))}}let Ce,Ie,Be,Ge;ne.trim();const Je={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},gt=ke(fe.glyphDependencies,Pt=>Object.keys(Pt).map(Number));Object.keys(gt).length?f.send("getGlyphs",{uid:this.uid,stacks:gt},(Pt,kt)=>{Ce||(Ce=Pt,Ie=kt,bt.call(this))},void 0,!1,Je):Ie={};const Mt=Object.keys(fe.iconDependencies);Mt.length?f.send("getImages",{icons:Mt,source:this.source,tileID:this.tileID,type:"icons"},(Pt,kt)=>{Ce||(Ce=Pt,Be=kt,bt.call(this))},void 0,!1,Je):Be={};const mt=Object.keys(fe.patternDependencies);function bt(){if(Ce)return v(Ce);if(Ie&&Be&&Ge){const Pt=new Y5(Ie),kt=new Ud(Be,Ge);for(const Qt in ee){const Jt=ee[Qt];Jt instanceof Ku?(Yw(Jt.layers,this.zoom,u),bw(Jt,Ie,Pt.positions,Be,kt.iconPositions,this.showCollisionBoxes,u,this.tileID.canonical,this.tileZoom,this.projection)):Jt.hasPattern&&(Jt instanceof jm||Jt instanceof Dm||Jt instanceof Jf)&&(Yw(Jt.layers,this.zoom,u),Jt.addFeatures(fe,this.tileID.canonical,kt.patternPositions,u,this.tileTransform))}this.status="done",v(null,{buckets:Y(ee).filter(Qt=>!Qt.isEmpty()),featureIndex:N,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Pt.image,lineAtlas:ne,imageAtlas:kt,glyphMap:this.returnDependencies?Ie:null,iconMap:this.returnDependencies?Be:null,glyphPositions:this.returnDependencies?Pt.positions:null})}}mt.length?f.send("getImages",{icons:mt,source:this.source,tileID:this.tileID,type:"patterns"},(Pt,kt)=>{Ce||(Ce=Pt,Ge=kt,bt.call(this))},void 0,!1,Je):Ge={},bt.call(this)}}function Yw(a,i,l){const u=new Vt(i);for(const f of a)f.recalculate(u,l)}class q5{constructor(i){this.entries={},this.scheduler=i}request(i,l,u,f){const v=this.entries[i]=this.entries[i]||{callbacks:[]};if(v.result){const[C,N]=v.result;return this.scheduler?this.scheduler.add(()=>{f(C,N)},l):f(C,N),()=>{}}return v.callbacks.push(f),v.cancel||(v.cancel=u((C,N)=>{v.result=[C,N];for(const ee of v.callbacks)this.scheduler?this.scheduler.add(()=>{ee(C,N)},l):ee(C,N);setTimeout(()=>delete this.entries[i],3e3)})),()=>{v.result||(v.callbacks=v.callbacks.filter(C=>C!==f),v.callbacks.length||(v.cancel(),delete this.entries[i]))}}}function X5(a,i,l){const u=JSON.stringify(a.request);return a.data&&(this.deduped.entries[u]={result:[null,a.data]}),this.deduped.request(u,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom},f=>{const v=Nt(a.request,(C,N,ee,ne)=>{C?f(C):N&&f(null,{vectorTile:l?void 0:new O1(new t0(N)),rawData:N,cacheControl:ee,expires:ne})});return()=>{v.cancel(),f()}},i)}s.ARRAY_TYPE=Ml,s.AUTH_ERR_MSG=ci,s.Aabb=Za,s.Actor=class{constructor(a,i,l){this.target=a,this.parent=i,this.mapId=l,this.callbacks={},this.cancelCallbacks={},ce(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Oe()?a:b,this.scheduler=new A}send(a,i,l,u,f=!1,v){const C=Math.round(1e18*Math.random()).toString(36).substring(0,10);l&&(l.metadata=v,this.callbacks[C]=l);const N=nt(this.globalScope)?void 0:[];return this.target.postMessage({id:C,type:a,hasCallback:!!l,targetMapId:u,mustQueue:f,sourceMapId:this.mapId,data:Ld(i,N)},N),{cancel:()=>{l&&delete this.callbacks[C],this.target.postMessage({id:C,type:"<cancel>",targetMapId:u,sourceMapId:this.mapId})}}}receive(a){const i=a.data,l=i.id;if(l&&(!i.targetMapId||this.mapId===i.targetMapId))if(i.type==="<cancel>"){const u=this.cancelCallbacks[l];delete this.cancelCallbacks[l],u&&u.cancel()}else if(i.mustQueue||Oe()){const u=this.callbacks[l];this.cancelCallbacks[l]=this.scheduler.add(()=>this.processTask(l,i),u&&u.metadata||{type:"message"})}else this.processTask(l,i)}processTask(a,i){if(i.type==="<response>"){const l=this.callbacks[a];delete this.callbacks[a],l&&(i.error?l(wh(i.error)):l(null,wh(i.data)))}else{const l=nt(this.globalScope)?void 0:[],u=i.hasCallback?(v,C)=>{delete this.cancelCallbacks[a],this.target.postMessage({id:a,type:"<response>",sourceMapId:this.mapId,error:v?Ld(v):null,data:Ld(C,l)},l)}:v=>{},f=wh(i.data);if(this.parent[i.type])this.parent[i.type](i.sourceMapId,f,u);else if(this.parent.getWorkerSource){const v=i.type.split(".");this.parent.getWorkerSource(i.sourceMapId,v[0],f.source)[v[1]](f,u)}else u(new Error(`Could not find function ${i.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},s.CanonicalTileID=Nm,s.Color=As,s.ColorMode=Ju,s.CullFaceMode=yu,s.DEMData=p0,s.DataConstantProperty=Ht,s.DedupedRequest=q5,s.DepthMode=sg,s.EXTENT=On,s.Elevation=class{isDataAvailableAtPoint(a){const i=this._source();if(this.isUsingMockSource()||!i||a.y<0||a.y>1)return!1;const l=i.getSource().maxzoom,u=1<<l,f=Math.floor(a.x),v=Math.floor((a.x-f)*u),C=Math.floor(a.y*u),N=this.findDEMTileFor(new oa(l,f,l,v,C));return!(!N||!N.dem)}getAtPointOrZero(a,i=0){return this.getAtPoint(a,i)||0}getAtPoint(a,i,l=!0){if(this.isUsingMockSource())return null;i==null&&(i=null);const u=this._source();if(!u||a.y<0||a.y>1)return i;const f=u.getSource().maxzoom,v=1<<f,C=Math.floor(a.x),N=a.x-C,ee=new oa(f,C,f,Math.floor(N*v),Math.floor(a.y*v)),ne=this.findDEMTileFor(ee);if(!ne||!ne.dem)return i;const fe=ne.dem,we=1<<ne.tileID.canonical.z,Ce=(N*we-ne.tileID.canonical.x)*fe.dim,Ie=(a.y*we-ne.tileID.canonical.y)*fe.dim,Be=Math.floor(Ce),Ge=Math.floor(Ie);return(l?this.exaggeration():1)*Zn(Zn(fe.get(Be,Ge),fe.get(Be,Ge+1),Ie-Ge),Zn(fe.get(Be+1,Ge),fe.get(Be+1,Ge+1),Ie-Ge),Ce-Be)}getAtTileOffset(a,i,l){const u=1<<a.canonical.z;return this.getAtPointOrZero(new Mh(a.wrap+(a.canonical.x+i/On)/u,(a.canonical.y+l/On)/u))}getAtTileOffsetFunc(a,i,l,u){return f=>{const v=this.getAtTileOffset(a,f.x,f.y),C=u.upVector(a.canonical,f.x,f.y);return dc(C,C,v*u.upVectorScale(a.canonical,i,l).metersToTile),C}}getForTilePoints(a,i,l,u){if(this.isUsingMockSource())return!1;const f=Gv.create(this,a,u);return!!f&&(i.forEach(v=>{v[2]=this.exaggeration()*f.getElevationAt(v[0],v[1],l)}),!0)}getMinMaxForTile(a){if(this.isUsingMockSource())return null;const i=this.findDEMTileFor(a);if(!i||!i.dem)return null;const l=i.dem.tree,u=i.tileID,f=1<<a.canonical.z-u.canonical.z;let v=a.canonical.x/f-u.canonical.x,C=a.canonical.y/f-u.canonical.y,N=0;for(let ee=0;ee<a.canonical.z-u.canonical.z&&!l.leaves[N];ee++){v*=2,C*=2;const ne=2*Math.floor(C)+Math.floor(v);N=l.childOffsets[N]+ne,v%=1,C%=1}return{min:this.exaggeration()*l.minimums[N],max:this.exaggeration()*l.maximums[N]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(a,i,l){throw new Error("Pure virtual method called.")}pointCoordinate(a){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(a){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},s.ErrorEvent=$a,s.EvaluationParameters=Vt,s.Event=Ua,s.Evented=mo,s.FillExtrusionBucket=Jf,s.Frustum=S1,s.FrustumCorners=T1,s.GLOBE_METERS_TO_ECEF=ty,s.GLOBE_RADIUS=gu,s.GLOBE_SCALE_MATCH_LATITUDE=45,s.GLOBE_ZOOM_THRESHOLD_MAX=6,s.GLOBE_ZOOM_THRESHOLD_MIN=5,s.GlobeSharedBuffers=class{constructor(a){this._createGrid(a),this._createPoles(a)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const a of this._poleSegments)a.destroy();for(const a of this._gridSegments)a.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const a of this._wireframeSegments)a.destroy()}}_createGrid(a){const i=new Gr,l=new sa,u=65;for(let f=0;f<u;f++)for(let v=0;v<u;v++)i.emplaceBack(v,f);this._gridSegments=[];for(let f=0,v=0;f<Fp.length;f++){const C=Fp[f];for(let ee=0;ee<C;ee++)for(let ne=0;ne<64;ne++){const fe=ee*u+ne;l.emplaceBack(fe+1,fe,fe+u),l.emplaceBack(fe+u,fe+u+1,fe+1)}const N=64*C*2;this._gridSegments.push(vo.simpleSegment(0,v,(C+1)*u,N)),v+=N}this._gridBuffer=a.createVertexBuffer(i,r0.members),this._gridIndexBuffer=a.createIndexBuffer(l,!0)}_createPoles(a){const i=new sa;for(let f=0;f<=Np;f++)i.emplaceBack(0,f+1,f+2);this._poleIndexBuffer=a.createIndexBuffer(i,!0);const l=new fr,u=new fr;this._poleSegments=[];for(let f=0,v=0;f<5;f++){const C=360/(1<<f);l.emplaceBack(0,-gu,0,.5,0),u.emplaceBack(0,-gu,0,.5,1);for(let N=0;N<=Np;N++){const ee=N/Np,ne=Zn(0,C,ee),[fe,we,Ce]=jp(kw,ay,ne,gu);l.emplaceBack(fe,we,Ce,ee,0),u.emplaceBack(fe,we,Ce,ee,1)}this._poleSegments.push(vo.simpleSegment(v,0,66,64)),v+=66}this._poleNorthVertexBuffer=a.createVertexBuffer(l,Q1,!1),this._poleSouthVertexBuffer=a.createVertexBuffer(u,Q1,!1)}getGridBuffers(a){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[a]]}getPoleBuffers(a){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[a]]}getWirefameBuffers(a,i){if(!this._wireframeSegments){const l=new Pc,u=Np,f=u+1;this._wireframeSegments=[];for(let v=0,C=0;v<Fp.length;v++){const N=Fp[v];for(let ne=0;ne<N;ne++)for(let fe=0;fe<u;fe++){const we=ne*f+fe;l.emplaceBack(we,we+1),l.emplaceBack(we,we+f),l.emplaceBack(we,we+f+1)}const ee=N*u*3;this._wireframeSegments.push(vo.simpleSegment(0,C,(N+1)*f,ee)),C+=ee}this._wireframeIndexBuffer=a.createIndexBuffer(l)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[i]]}},s.GlyphManager=wo,s.ImagePosition=$m,s.LivePerformanceUtils=qi,s.LngLat=Ar,s.LngLatBounds=uu,s.LocalGlyphMode=q1,s.MAX_MERCATOR_LATITUDE=ba,s.MercatorCoordinate=Mh,s.ONE_EM=ys,s.OverscaledTileID=oa,s.PerformanceMarkers=_i,s.Properties=Sn,s.RGBAImage=Al,s.Ray=Mm,s.RequestManager=class{constructor(a,i,l){this._transformRequestFn=a,this._customAccessToken=i,this._silenceAuthErrors=!!l,this._createSkuToken()}_createSkuToken(){const a=function(){let i="";for(let l=0;l<10;l++)i+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",S,i].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=a.token,this._skuTokenExpiresAt=a.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(a,i){return this._transformRequestFn&&this._transformRequestFn(a,i)||{url:a}}normalizeStyleURL(a,i){if(!$i(a))return a;const l=Ln(a);return l.path=`/styles/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||i)}normalizeGlyphsURL(a,i){if(!$i(a))return a;const l=Ln(a);return l.path=`/fonts/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||i)}normalizeSourceURL(a,i,l,u){if(!$i(a))return a;const f=Ln(a);return f.path=`/v4/${f.authority}.json`,f.params.push("secure"),l&&f.params.push(`language=${l}`),u&&f.params.push(`worldview=${u}`),this._makeAPIURL(f,this._customAccessToken||i)}normalizeSpriteURL(a,i,l,u){const f=Ln(a);return $i(a)?(f.path=`/styles/v1${f.path}/sprite${i}${l}`,this._makeAPIURL(f,this._customAccessToken||u)):(f.path+=`${i}${l}`,ja(f))}normalizeTileURL(a,i,l){if(this._isSkuTokenExpired()&&this._createSkuToken(),a&&!$i(a))return a;const u=Ln(a);u.path=u.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${i||l&&u.authority!=="raster"&&l===512?"@2x":""}${z.supported?".webp":"$1"}`),u.authority==="raster"?u.path=`/${I.RASTER_URL_PREFIX}${u.path}`:(u.path=u.path.replace(/^.+\/v4\//,"/"),u.path=`/${I.TILE_URL_VERSION}${u.path}`);const f=this._customAccessToken||function(v){for(const C of v){const N=C.match(/^access_token=(.*)$/);if(N)return N[1]}return null}(u.params)||I.ACCESS_TOKEN;return I.REQUIRE_ACCESS_TOKEN&&f&&this._skuToken&&u.params.push(`sku=${this._skuToken}`),this._makeAPIURL(u,f)}canonicalizeTileURL(a,i){const l=Ln(a);if(!l.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!l.path.match(/\.[\w]+$/))return a;let u="mapbox://";l.path.match(/^\/raster\/v1\//)?u+=`raster/${l.path.replace(`/${I.RASTER_URL_PREFIX}/`,"")}`:u+=`tiles/${l.path.replace(`/${I.TILE_URL_VERSION}/`,"")}`;let f=l.params;return i&&(f=f.filter(v=>!v.match(/^access_token=/))),f.length&&(u+=`?${f.join("&")}`),u}canonicalizeTileset(a,i){const l=!!i&&$i(i),u=[];for(const f of a.tiles||[])Wi(f)?u.push(this.canonicalizeTileURL(f,l)):u.push(f);return u}_makeAPIURL(a,i){const l="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",u=Ln(I.API_URL);if(a.protocol=u.protocol,a.authority=u.authority,a.protocol==="http"){const f=a.params.indexOf("secure");f>=0&&a.params.splice(f,1)}if(u.path!=="/"&&(a.path=`${u.path}${a.path}`),!I.REQUIRE_ACCESS_TOKEN)return ja(a);if(i=i||I.ACCESS_TOKEN,!this._silenceAuthErrors){if(!i)throw new Error(`An API access token is required to use Mapbox GL. ${l}`);if(i[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${l}`)}return a.params=a.params.filter(f=>f.indexOf("access_token")===-1),a.params.push(`access_token=${i||""}`),ja(a)}},s.ResourceType=ti,s.SegmentVector=vo,s.SourceCache=f0,s.StencilMode=Gw,s.StructArrayLayout1ui2=lu,s.StructArrayLayout2f1f2i16=va,s.StructArrayLayout2i4=Gr,s.StructArrayLayout2ui4=Pc,s.StructArrayLayout3f12=oc,s.StructArrayLayout3ui6=sa,s.StructArrayLayout4i8=es,s.StructArrayLayout5f20=fr,s.Texture=h0,s.Tile=nr,s.Transitionable=mi,s.Uniform1f=xp,s.Uniform1i=class extends Rd{constructor(a){super(a),this.current=0}set(a,i,l){this.fetchUniformLocation(a,i)&&this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},s.Uniform2f=class extends Rd{constructor(a){super(a),this.current=[0,0]}set(a,i,l){this.fetchUniformLocation(a,i)&&(l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1])))}},s.Uniform3f=class extends Rd{constructor(a){super(a),this.current=[0,0,0]}set(a,i,l){this.fetchUniformLocation(a,i)&&(l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2])))}},s.Uniform4f=k_,s.UniformColor=A_,s.UniformMatrix2f=class extends Rd{constructor(a){super(a),this.current=D_}set(a,i,l){if(this.fetchUniformLocation(a,i)){for(let u=0;u<4;u++)if(l[u]!==this.current[u]){this.current=l,this.gl.uniformMatrix2fv(this.location,!1,l);break}}}},s.UniformMatrix3f=class extends Rd{constructor(a){super(a),this.current=P_}set(a,i,l){if(this.fetchUniformLocation(a,i)){for(let u=0;u<9;u++)if(l[u]!==this.current[u]){this.current=l,this.gl.uniformMatrix3fv(this.location,!1,l);break}}}},s.UniformMatrix4f=class extends Rd{constructor(a){super(a),this.current=c2}set(a,i,l){if(this.fetchUniformLocation(a,i)){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let u=1;u<16;u++)if(l[u]!==this.current[u]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}}},s.UnwrappedTileID=dv,s.ValidationError=tn,s.VectorTileFeature=Om,s.VectorTileWorkerSource=class extends mo{constructor(a,i,l,u,f){super(),this.actor=a,this.layerIndex=i,this.availableImages=l,this.loadVectorData=f||X5,this.loading={},this.loaded={},this.deduped=new q5(a.scheduler),this.isSpriteLoaded=u,this.scheduler=a.scheduler}loadTile(a,i){const l=a.uid,u=a&&a.request,f=u&&u.collectResourceTiming,v=this.loading[l]=new X6(a);v.abort=this.loadVectorData(a,(C,N)=>{const ee=!this.loading[l];if(delete this.loading[l],ee||C||!N)return v.status="done",ee||(this.loaded[l]=v),i(C);const ne=N.rawData,fe={};N.expires&&(fe.expires=N.expires),N.cacheControl&&(fe.cacheControl=N.cacheControl),v.vectorTile=N.vectorTile||new O1(new t0(ne));const we=()=>{v.parse(v.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ce,Ie)=>{if(Ce||!Ie)return i(Ce);const Be={};if(f){const Ge=Cn(u);Ge.length>0&&(Be.resourceTiming=JSON.parse(JSON.stringify(Ge)))}i(null,K({rawTileData:ne.slice(0)},Ie,fe,Be))})};this.isSpriteLoaded?we():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(we,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom}):we()}),this.loaded=this.loaded||{},this.loaded[l]=v})}reloadTile(a,i){const l=this.loaded,u=a.uid,f=this;if(l&&l[u]){const v=l[u];v.showCollisionBoxes=a.showCollisionBoxes,v.enableTerrain=!!a.enableTerrain,v.projection=a.projection,v.tileTransform=jh(a.tileID.canonical,a.projection);const C=(N,ee)=>{const ne=v.reloadCallback;ne&&(delete v.reloadCallback,v.parse(v.vectorTile,f.layerIndex,this.availableImages,f.actor,ne)),i(N,ee)};v.status==="parsing"?v.reloadCallback=C:v.status==="done"&&(v.vectorTile?v.parse(v.vectorTile,this.layerIndex,this.availableImages,this.actor,C):C())}}abortTile(a,i){const l=a.uid,u=this.loading[l];u&&(u.abort&&u.abort(),delete this.loading[l]),i()}removeTile(a,i){const l=this.loaded,u=a.uid;l&&l[u]&&delete l[u],i()}},s.WritingMode=Qn,s.add=Fd,s.addDynamicAttributes=ng,s.adjoint=function(a,i){var l=i[0],u=i[1],f=i[2],v=i[3],C=i[4],N=i[5],ee=i[6],ne=i[7],fe=i[8];return a[0]=C*fe-N*ne,a[1]=f*ne-u*fe,a[2]=u*N-f*C,a[3]=N*ee-v*fe,a[4]=l*fe-f*ee,a[5]=f*v-l*N,a[6]=v*ne-C*ee,a[7]=u*ee-l*ne,a[8]=l*C-u*v,a},s.asyncAll=q,s.bezier=D,s.bindAll=ce,s.boundsAttributes=yn,s.bufferConvexPolygon=function(a,i){const l=[];for(let u=0;u<a.length;u++){const f=k(u-1,-1,a.length-1),v=k(u+1,-1,a.length-1),C=a[u],N=a[v],ee=a[f].sub(C).unit(),ne=N.sub(C).unit(),fe=ne.angleWithSep(ee.x,ee.y),we=ee.add(ne).unit().mult(-1*i/Math.sin(fe/2));l.push(C.add(we))}return l},s.cacheEntryPossiblyAdded=function(a){Ci++,Ci>rt&&(a.getActor().send("enforceCacheSizeLimit",Xe),Ci=0)},s.calculateGlobeLabelMatrix=function(a,i){const{x:l,y:u}=a.point,f=Jm(l,u,a.worldSize/a._pixelsPerMercatorPixel,0,0);return Ph(f,f,ry($d(i)))},s.calculateGlobeMatrix=function(a){const{x:i,y:l}=a.point,{lng:u,lat:f}=a._center;return Jm(i,l,a.worldSize,u,f)},s.calculateGlobeMercatorMatrix=function(a){const i=a.pixelsPerMeter,l=i/cc(1,a.center.lat),u=Dc(new Float64Array(16));return $f(u,u,[a.point.x,a.point.y,0]),Dh(u,u,[l,l,i]),Float32Array.from(u)},s.circumferenceAtLatitude=r1,s.clamp=g,s.clearTileCache=function(a){if(!yt())return;const i=b.caches.delete(Me);a&&i.catch(a).then(()=>a())},s.clipLine=Mv,s.clone=function(a){var i=new Ml(16);return i[0]=a[0],i[1]=a[1],i[2]=a[2],i[3]=a[3],i[4]=a[4],i[5]=a[5],i[6]=a[6],i[7]=a[7],i[8]=a[8],i[9]=a[9],i[10]=a[10],i[11]=a[11],i[12]=a[12],i[13]=a[13],i[14]=a[14],i[15]=a[15],i},s.clone$1=ve,s.collisionCircleLayout=nw,s.config=I,s.conjugate=function(a,i){return a[0]=-i[0],a[1]=-i[1],a[2]=-i[2],a[3]=i[3],a},s.create=function(){var a=new Ml(16);return Ml!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a},s.create$1=z_,s.createExpression=Si,s.createLayout=an,s.createStyleLayer=function(a){return a.type==="custom"?new jw(a):new $w[a.type](a)},s.cross=x1,s.degToRad=$,s.distance=function(a,i){return Math.hypot(i[0]-a[0],i[1]-a[1],i[2]-a[2])},s.div=function(a,i,l){return a[0]=i[0]/l[0],a[1]=i[1]/l[1],a[2]=i[2]/l[2],a},s.dot=Ic,s.earthRadius=Eh,s.ease=m,s.easeCubicInOut=w,s.ecefToLatLng=function([a,i,l]){const u=Math.hypot(a,i,l),f=Math.atan2(a,l),v=.5*Math.PI-Math.acos(-i/u);return new Ar(V(f),V(v))},s.emitValidationErrors=om,s.endsWith=ge,s.enforceCacheSizeLimit=function(a){$t(),Re&&Re.then(i=>{i.keys().then(l=>{for(let u=0;u<l.length-a;u++)i.delete(l[u])})})},s.evaluateSizeForFeature=ld,s.evaluateSizeForZoom=Op,s.evaluateVariableOffset=Z1,s.evented=Tt,s.exactEquals=function(a,i){return a[0]===i[0]&&a[1]===i[1]&&a[2]===i[2]&&a[3]===i[3]},s.exactEquals$1=function(a,i){return a[0]===i[0]&&a[1]===i[1]&&a[2]===i[2]},s.exported=_n,s.exported$1=z,s.extend=K,s.extend$1=hs,s.fillExtrusionHeightLift=z1,s.filterObject=re,s.fromMat4=function(a,i){return a[0]=i[0],a[1]=i[1],a[2]=i[2],a[3]=i[4],a[4]=i[5],a[5]=i[6],a[6]=i[8],a[7]=i[9],a[8]=i[10],a},s.fromQuat=function(a,i){var l=i[0],u=i[1],f=i[2],v=i[3],C=l+l,N=u+u,ee=f+f,ne=l*C,fe=u*C,we=u*N,Ce=f*C,Ie=f*N,Be=f*ee,Ge=v*C,Je=v*N,gt=v*ee;return a[0]=1-we-Be,a[1]=fe+gt,a[2]=Ce-Je,a[3]=0,a[4]=fe-gt,a[5]=1-ne-Be,a[6]=Ie+Ge,a[7]=0,a[8]=Ce+Je,a[9]=Ie-Ge,a[10]=1-ne-we,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},s.fromRotation=function(a,i){var l=Math.sin(i),u=Math.cos(i);return a[0]=u,a[1]=l,a[2]=0,a[3]=-l,a[4]=u,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},s.fromScaling=y1,s.furthestTileCorner=function(a){const i=Math.round((a+45+360)%360/90)%4;return j[i]},s.getAABBPointSquareDist=function(a,i,l){let u=0;for(let f=0;f<2;++f){const v=l?l[f]:0;a[f]>v&&(u+=(a[f]-v)*(a[f]-v)),i[f]<v&&(u+=(v-i[f])*(v-i[f]))}return u},s.getAnchorAlignment=Y1,s.getAnchorJustification=K1,s.getBounds=function(a){let i=1/0,l=1/0,u=-1/0,f=-1/0;for(const v of a)i=Math.min(i,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),f=Math.max(f,v.y);return{min:new U(i,l),max:new U(u,f)}},s.getColumn=ut,s.getGridMatrix=function(a,i,l,u){const f=i.getNorth(),v=i.getSouth(),C=i.getWest(),N=i.getEast(),ee=1<<a.z,ne=N-C,fe=f-v,we=ne/Np,Ce=-fe/Fp[l],Ie=[0,we,0,Ce,0,0,f,C,0];if(a.z>0){const Be=180/u;Ep(Ie,Ie,[Be/ne+1,0,0,0,Be/fe+1,0,-.5*Be/we,.5*Be/Ce,1])}return Ie[2]=ee,Ie[5]=a.x,Ie[8]=a.y,Ie},s.getImage=Kr,s.getJSON=function(a,i){return ft(K(a,{type:"json"}),i)},s.getLatitudinalLod=function(a){const i=80.051129;a=g(a,-80.051129,i)/i*90;const l=Math.pow(Math.abs(Math.sin($(a))),3);return Math.round(l*(Fp.length-1))},s.getMapSessionAPI=Lt,s.getPerformanceMeasurement=Cn,s.getProjection=$v,s.getRTLTextPluginStatus=zt,s.getReferrer=on,s.getTilePoint=function(a,{x:i,y:l},u=0){return new U(((i-u)*a.scale-a.x)*On,(l*a.scale-a.y)*On)},s.getTileVec3=function(a,i,l=0){return Lh(((i.x-l)*a.scale-a.x)*On,(i.y*a.scale-a.y)*On,s1(i.z,i.y))},s.getVideo=function(a,i){const l=b.document.createElement("video");l.muted=!0,l.onloadstart=function(){i(null,l)};for(let u=0;u<a.length;u++){const f=b.document.createElement("source");fi(a[u])||(l.crossOrigin="Anonymous"),f.src=a[u],l.appendChild(f)}return{cancel:()=>{}}},s.globeCenterToScreenPoint=function(a){const i=[0,0,0],l=Dc(new Float64Array(16));return Ph(l,a.pixelMatrix,a.globeMatrix),co(i,i,l),new U(i[0],i[1])},s.globeDenormalizeECEF=ry,s.globeECEFOrigin=function(a,i){const l=[0,0,0];return co(l,l,a0($d(i.canonical))),co(l,l,a),l},s.globeNormalizeECEF=a0,s.globePixelsToTileUnits=function(a,i){return On/(512*Math.pow(2,a))*Km($d(i))},s.globePoleMatrixForTile=function(a,i,l){const u=Dc(new Float64Array(16)),f=(i/(1<<a)-.5)*Math.PI*2;return Vf(u,l.globeMatrix,f),Float32Array.from(u)},s.globeTileBounds=$d,s.globeTiltAtLngLat=sy,s.globeToMercatorTransition=Fh,s.globeUseCustomAntiAliasing=function(a,i,l){const u=Fh(l.zoom),f=a.style.map._antialias,v=!!i.extStandardDerivatives,C=i.extStandardDerivativesForceOff||a.terrain&&a.terrain.exaggeration()>0;return u===0&&!f&&!C&&v},s.identity=Dc,s.identity$1=w1,s.invert=Cm,s.isFullscreen=function(){return!!b.document.fullscreenElement||!!b.document.webkitFullscreenElement},s.isLngLatBehindGlobe=oy,s.isMapAuthenticated=function(a){return Xt.has(a)},s.isMapboxURL=$i,s.isSafariWithAntialiasingBug=function(a){const i=a.navigator?a.navigator.userAgent:null;return!!nt(a)&&i&&(i.match("Version/15.4")||i.match("Version/15.5")||i.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},s.latFromMercatorY=xa,s.latLngToECEF=s0,s.len=g2,s.length=Ih,s.length$1=function(a){return Math.hypot(a[0],a[1],a[2],a[3])},s.lngFromMercatorX=dl,s.loadVectorTile=X5,s.makeRequest=ft,s.mapValue=function(a,i,l,u,f){return g((a-i)/(l-i)*(f-u)+u,u,f)},s.mercatorScale=o1,s.mercatorXfromLng=id,s.mercatorYfromLat=lc,s.mercatorZfromAltitude=cc,s.mul=_1,s.mul$1=m2,s.multiply=Ph,s.multiply$1=Ep,s.multiply$2=v1,s.nextPowerOfTwo=F,s.normalize=Xa,s.normalize$1=y2,s.normalize$2=U_,s.number=Zn,s.ortho=function(a,i,l,u,f,v,C){var N=1/(i-l),ee=1/(u-f),ne=1/(v-C);return a[0]=-2*N,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*ee,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*ne,a[11]=0,a[12]=(i+l)*N,a[13]=(f+u)*ee,a[14]=(C+v)*ne,a[15]=1,a},s.pbf=t0,s.perspective=function(a,i,l,u,f){var v,C=1/Math.tan(i/2);return a[0]=C/l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=C,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,f!=null&&f!==1/0?(a[10]=(f+u)*(v=1/(u-f)),a[14]=2*f*u*v):(a[10]=-1,a[14]=-2*u),a},s.pick=function(a,i){const l={};for(let u=0;u<i.length;u++){const f=i[u];f in a&&(l[f]=a[f])}return l},s.plugin=Kt,s.pointGeometry=U,s.polesInViewport=function(a){const i=Dc(new Float64Array(16));Ph(i,a.pixelMatrix,a.globeMatrix);const l=[0,Oc,0],u=[0,Rc,0];return co(l,l,i),co(u,u,i),[l[0]>0&&l[0]<=a.width&&l[1]>0&&l[1]<=a.height&&!oy(a,new Ar(a.center.lat,90)),u[0]>0&&u[0]<=a.width&&u[1]>0&&u[1]<=a.height&&!oy(a,new Ar(a.center.lat,-90))]},s.polygonContainsPoint=Ah,s.polygonIntersectsBox=f1,s.polygonIntersectsPolygon=wm,s.polygonizeBounds=function(a,i,l=0,u=!0){const f=new U(l,l),v=a.sub(f),C=i.add(f),N=[v,new U(C.x,v.y),C,new U(v.x,C.y)];return u&&N.push(v.clone()),N},s.posAttributes=r0,s.postMapLoadEvent=_t,s.postPerformanceEvent=Ft,s.postTurnstileEvent=We,s.potpack=W1,s.prevPowerOfTwo=function(a){return a<=1?1:Math.pow(2,Math.floor(Math.log(a)/Math.LN2))},s.radToDeg=V,s.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],s.registerForPluginStateChange=function(a){return a({pluginStatus:pt,pluginURL:lt}),Tt.on("pluginStateChange",a),a},s.removeAuthState=function(a){Xt.delete(a)},s.renderColorRamp=Wf,s.resample=l1,s.rotateX=g1,s.rotateX$1=$_,s.rotateY=Vf,s.rotateY$1=V_,s.rotateZ=function(a,i,l){var u=Math.sin(l),f=Math.cos(l),v=i[0],C=i[1],N=i[2],ee=i[3],ne=i[4],fe=i[5],we=i[6],Ce=i[7];return i!==a&&(a[8]=i[8],a[9]=i[9],a[10]=i[10],a[11]=i[11],a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15]),a[0]=v*f+ne*u,a[1]=C*f+fe*u,a[2]=N*f+we*u,a[3]=ee*f+Ce*u,a[4]=ne*f-v*u,a[5]=fe*f-C*u,a[6]=we*f-N*u,a[7]=Ce*f-ee*u,a},s.rotateZ$1=function(a,i,l){l*=.5;var u=i[0],f=i[1],v=i[2],C=i[3],N=Math.sin(l),ee=Math.cos(l);return a[0]=u*ee+f*N,a[1]=f*ee-u*N,a[2]=v*ee+C*N,a[3]=C*ee-v*N,a},s.scale=Dh,s.scale$1=j_,s.scale$2=dc,s.scaleAndAdd=Ap,s.set=function(a,i,l,u){return a[0]=i,a[1]=l,a[2]=u,a},s.setCacheLimits=function(a,i){Xe=a,rt=i},s.setColumn=function(a,i,l){a[4*i+0]=l[0],a[4*i+1]=l[1],a[4*i+2]=l[2],a[4*i+3]=l[3]},s.setRTLTextPlugin=function(a,i,l=!1){if(pt===at||pt===dt||pt===Ke)throw new Error("setRTLTextPlugin cannot be called multiple times.");lt=_n.resolveURL(a),pt=at,tt=i,At(),l||ei()},s.smoothstep=x,s.spec=hi,s.squaredLength=function(a){var i=a[0],l=a[1],u=a[2];return i*i+l*l+u*u},s.storeAuthState=function(a,i){i?Xt.add(a):Xt.delete(a)},s.sub=od,s.subtract=kp,s.symbolSize=rw,s.tileAABB=function(a,i,l,u,f,v,C,N,ee){if(ee.name==="globe")return Mw(a,i,new Nm(l,u,f));const ne=jh({z:l,x:u,y:f},ee);return new Za([(v+ne.x/ne.scale)*i,i*(ne.y/ne.scale),C],[(v+ne.x2/ne.scale)*i,i*(ne.y2/ne.scale),N])},s.tileCornersToBounds=Zm,s.tileTransform=jh,s.transformMat3=function(a,i,l){var u=i[0],f=i[1],v=i[2];return a[0]=u*l[0]+f*l[3]+v*l[6],a[1]=u*l[1]+f*l[4]+v*l[7],a[2]=u*l[2]+f*l[5]+v*l[8],a},s.transformMat4=co,s.transformMat4$1=Yu,s.transformQuat=F_,s.transitionTileAABBinECEF=Rv,s.translate=$f,s.transpose=function(a,i){if(a===i){var l=i[1],u=i[2],f=i[5];a[1]=i[3],a[2]=i[6],a[3]=l,a[5]=i[7],a[6]=u,a[7]=f}else a[0]=i[0],a[1]=i[3],a[2]=i[6],a[3]=i[1],a[4]=i[4],a[5]=i[7],a[6]=i[2],a[7]=i[5],a[8]=i[8];return a},s.triggerPluginCompletionEvent=xt,s.uniqueId=he,s.updateGlobeVertexNormal=function(a,i,l,u,f){const v=5*i+2;a.float32[v+0]=l,a.float32[v+1]=u,a.float32[v+2]=f},s.validateCustomStyleLayer=function(a){const i=[],l=a.id;return l===void 0&&i.push({message:`layers.${l}: missing required property "id"`}),a.render===void 0&&i.push({message:`layers.${l}: missing required method "render"`}),a.renderingMode&&a.renderingMode!=="2d"&&a.renderingMode!=="3d"&&i.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),i},s.validateFilter=a=>ed(Id(a)),s.validateFog=a=>ed(bh(a)),s.validateLayer=a=>ed(gp(a)),s.validateLight=a=>ed(et(a)),s.validateSource=a=>ed(Uu(a)),s.validateStyle=Pf,s.validateTerrain=a=>ed(Qc(a)),s.values=Y,s.vectorTile=Im,s.version=R,s.warnOnce=oe,s.window=b,s.wrap=k}),d(["./shared"],function(s){function b(ht){if(typeof ht=="number"||typeof ht=="boolean"||typeof ht=="string"||ht==null)return JSON.stringify(ht);if(Array.isArray(ht)){let We="[";for(const ct of ht)We+=`${b(ct)},`;return`${We}]`}let ze="{";for(const We of Object.keys(ht).sort())ze+=`${We}:${b(ht[We])},`;return`${ze}}`}function R(ht){let ze="";for(const We of s.refProperties)ze+=`/${b(ht[We])}`;return ze}class J{constructor(ze){this.keyCache={},ze&&this.replace(ze)}replace(ze){this._layerConfigs={},this._layers={},this.update(ze,[])}update(ze,We){for(const _t of ze)this._layerConfigs[_t.id]=_t,(this._layers[_t.id]=s.createStyleLayer(_t)).compileFilter(),this.keyCache[_t.id]&&delete this.keyCache[_t.id];for(const _t of We)delete this.keyCache[_t],delete this._layerConfigs[_t],delete this._layers[_t];this.familiesBySource={};const ct=function(_t,Dt){const Ft={};for(let Lt=0;Lt<_t.length;Lt++){const Xt=Dt&&Dt[_t[Lt].id]||R(_t[Lt]);Dt&&(Dt[_t[Lt].id]=Xt);let _i=Ft[Xt];_i||(_i=Ft[Xt]=[]),_i.push(_t[Lt])}const Gt=[];for(const Lt in Ft)Gt.push(Ft[Lt]);return Gt}(s.values(this._layerConfigs),this.keyCache);for(const _t of ct){const Dt=_t.map(qi=>this._layers[qi.id]),Ft=Dt[0];if(Ft.visibility==="none")continue;const Gt=Ft.source||"";let Lt=this.familiesBySource[Gt];Lt||(Lt=this.familiesBySource[Gt]={});const Xt=Ft.sourceLayer||"_geojsonTileLayer";let _i=Lt[Xt];_i||(_i=Lt[Xt]=[]),_i.push(Dt)}}}class I{loadTile(ze,We){const{uid:ct,encoding:_t,rawImageData:Dt,padding:Ft,buildQuadTree:Gt}=ze,Lt=s.window.ImageBitmap&&Dt instanceof s.window.ImageBitmap?this.getImageData(Dt,Ft):Dt;We(null,new s.DEMData(ct,Lt,_t,Ft<1,Gt))}getImageData(ze,We){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(ze.width,ze.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=ze.width,this.offscreenCanvas.height=ze.height,this.offscreenCanvasContext.drawImage(ze,0,0,ze.width,ze.height);const ct=this.offscreenCanvasContext.getImageData(-We,-We,ze.width+2*We,ze.height+2*We);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),ct}}var z=function ht(ze,We){var ct,_t=ze&&ze.type;if(_t==="FeatureCollection")for(ct=0;ct<ze.features.length;ct++)ht(ze.features[ct],We);else if(_t==="GeometryCollection")for(ct=0;ct<ze.geometries.length;ct++)ht(ze.geometries[ct],We);else if(_t==="Feature")ht(ze.geometry,We);else if(_t==="Polygon")Z(ze.coordinates,We);else if(_t==="MultiPolygon")for(ct=0;ct<ze.coordinates.length;ct++)Z(ze.coordinates[ct],We);return ze};function Z(ht,ze){if(ht.length!==0){L(ht[0],ze);for(var We=1;We<ht.length;We++)L(ht[We],!ze)}}function L(ht,ze){for(var We=0,ct=0,_t=0,Dt=ht.length,Ft=Dt-1;_t<Dt;Ft=_t++){var Gt=(ht[_t][0]-ht[Ft][0])*(ht[Ft][1]+ht[_t][1]),Lt=We+Gt;ct+=Math.abs(We)>=Math.abs(Gt)?We-Lt+Gt:Gt-Lt+We,We=Lt}We+ct>=0!=!!ze&&ht.reverse()}const O=s.VectorTileFeature.prototype.toGeoJSON;class G{constructor(ze){this._feature=ze,this.extent=s.EXTENT,this.type=ze.type,this.properties=ze.tags,"id"in ze&&!isNaN(ze.id)&&(this.id=parseInt(ze.id,10))}loadGeometry(){if(this._feature.type===1){const ze=[];for(const We of this._feature.geometry)ze.push([new s.pointGeometry(We[0],We[1])]);return ze}{const ze=[];for(const We of this._feature.geometry){const ct=[];for(const _t of We)ct.push(new s.pointGeometry(_t[0],_t[1]));ze.push(ct)}return ze}}toGeoJSON(ze,We,ct){return O.call(this,ze,We,ct)}}class M{constructor(ze){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=ze.length,this._features=ze}feature(ze){return new G(this._features[ze])}}var S={exports:{}},P=s.pointGeometry,H=s.vectorTile.VectorTileFeature,U=E;function E(ht,ze){this.options=ze||{},this.features=ht,this.length=ht.length}function ie(ht,ze){this.id=typeof ht.id=="number"?ht.id:void 0,this.type=ht.type,this.rawGeometry=ht.type===1?[ht.geometry]:ht.geometry,this.properties=ht.tags,this.extent=ze||4096}E.prototype.feature=function(ht){return new ie(this.features[ht],this.options.extent)},ie.prototype.loadGeometry=function(){var ht=this.rawGeometry;this.geometry=[];for(var ze=0;ze<ht.length;ze++){for(var We=ht[ze],ct=[],_t=0;_t<We.length;_t++)ct.push(new P(We[_t][0],We[_t][1]));this.geometry.push(ct)}return this.geometry},ie.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ht=this.geometry,ze=1/0,We=-1/0,ct=1/0,_t=-1/0,Dt=0;Dt<ht.length;Dt++)for(var Ft=ht[Dt],Gt=0;Gt<Ft.length;Gt++){var Lt=Ft[Gt];ze=Math.min(ze,Lt.x),We=Math.max(We,Lt.x),ct=Math.min(ct,Lt.y),_t=Math.max(_t,Lt.y)}return[ze,ct,We,_t]},ie.prototype.toGeoJSON=H.prototype.toGeoJSON;var te=s.pbf,$=U;function V(ht){var ze=new te;return function(We,ct){for(var _t in We.layers)ct.writeMessage(3,j,We.layers[_t])}(ht,ze),ze.finish()}function j(ht,ze){var We;ze.writeVarintField(15,ht.version||1),ze.writeStringField(1,ht.name||""),ze.writeVarintField(5,ht.extent||4096);var ct={keys:[],values:[],keycache:{},valuecache:{}};for(We=0;We<ht.length;We++)ct.feature=ht.feature(We),ze.writeMessage(2,w,ct);var _t=ct.keys;for(We=0;We<_t.length;We++)ze.writeStringField(3,_t[We]);var Dt=ct.values;for(We=0;We<Dt.length;We++)ze.writeMessage(4,k,Dt[We])}function w(ht,ze){var We=ht.feature;We.id!==void 0&&ze.writeVarintField(1,We.id),ze.writeMessage(2,D,ht),ze.writeVarintField(3,We.type),ze.writeMessage(4,x,We)}function D(ht,ze){var We=ht.feature,ct=ht.keys,_t=ht.values,Dt=ht.keycache,Ft=ht.valuecache;for(var Gt in We.properties){var Lt=We.properties[Gt],Xt=Dt[Gt];if(Lt!==null){Xt===void 0&&(ct.push(Gt),Dt[Gt]=Xt=ct.length-1),ze.writeVarint(Xt);var _i=typeof Lt;_i!=="string"&&_i!=="boolean"&&_i!=="number"&&(Lt=JSON.stringify(Lt));var qi=_i+":"+Lt,Pi=Ft[qi];Pi===void 0&&(_t.push(Lt),Ft[qi]=Pi=_t.length-1),ze.writeVarint(Pi)}}}function m(ht,ze){return(ze<<3)+(7&ht)}function g(ht){return ht<<1^ht>>31}function x(ht,ze){for(var We=ht.loadGeometry(),ct=ht.type,_t=0,Dt=0,Ft=We.length,Gt=0;Gt<Ft;Gt++){var Lt=We[Gt],Xt=1;ct===1&&(Xt=Lt.length),ze.writeVarint(m(1,Xt));for(var _i=ct===3?Lt.length-1:Lt.length,qi=0;qi<_i;qi++){qi===1&&ct!==1&&ze.writeVarint(m(2,_i-1));var Pi=Lt[qi].x-_t,Mn=Lt[qi].y-Dt;ze.writeVarint(g(Pi)),ze.writeVarint(g(Mn)),_t+=Pi,Dt+=Mn}ct===3&&ze.writeVarint(m(7,1))}}function k(ht,ze){var We=typeof ht;We==="string"?ze.writeStringField(1,ht):We==="boolean"?ze.writeBooleanField(7,ht):We==="number"&&(ht%1!=0?ze.writeDoubleField(3,ht):ht<0?ze.writeSVarintField(6,ht):ze.writeVarintField(5,ht))}function q(ht,ze,We,ct,_t,Dt){if(_t-ct<=We)return;const Ft=ct+_t>>1;Y(ht,ze,Ft,ct,_t,Dt%2),q(ht,ze,We,ct,Ft-1,Dt+1),q(ht,ze,We,Ft+1,_t,Dt+1)}function Y(ht,ze,We,ct,_t,Dt){for(;_t>ct;){if(_t-ct>600){const Xt=_t-ct+1,_i=We-ct+1,qi=Math.log(Xt),Pi=.5*Math.exp(2*qi/3),Mn=.5*Math.sqrt(qi*Pi*(Xt-Pi)/Xt)*(_i-Xt/2<0?-1:1);Y(ht,ze,We,Math.max(ct,Math.floor(We-_i*Pi/Xt+Mn)),Math.min(_t,Math.floor(We+(Xt-_i)*Pi/Xt+Mn)),Dt)}const Ft=ze[2*We+Dt];let Gt=ct,Lt=_t;for(K(ht,ze,ct,We),ze[2*_t+Dt]>Ft&&K(ht,ze,ct,_t);Gt<Lt;){for(K(ht,ze,Gt,Lt),Gt++,Lt--;ze[2*Gt+Dt]<Ft;)Gt++;for(;ze[2*Lt+Dt]>Ft;)Lt--}ze[2*ct+Dt]===Ft?K(ht,ze,ct,Lt):(Lt++,K(ht,ze,Lt,_t)),Lt<=We&&(ct=Lt+1),We<=Lt&&(_t=Lt-1)}}function K(ht,ze,We,ct){le(ht,We,ct),le(ze,2*We,2*ct),le(ze,2*We+1,2*ct+1)}function le(ht,ze,We){const ct=ht[ze];ht[ze]=ht[We],ht[We]=ct}function he(ht,ze,We,ct){const _t=ht-We,Dt=ze-ct;return _t*_t+Dt*Dt}S.exports=V,S.exports.fromVectorTileJs=V,S.exports.fromGeojsonVt=function(ht,ze){ze=ze||{};var We={};for(var ct in ht)We[ct]=new $(ht[ct].features,ze),We[ct].name=ct,We[ct].version=ze.version,We[ct].extent=ze.extent;return V({layers:We})},S.exports.GeoJSONWrapper=$;const pe=ht=>ht[0],F=ht=>ht[1];class Q{constructor(ze,We=pe,ct=F,_t=64,Dt=Float64Array){this.nodeSize=_t,this.points=ze;const Ft=ze.length<65536?Uint16Array:Uint32Array,Gt=this.ids=new Ft(ze.length),Lt=this.coords=new Dt(2*ze.length);for(let Xt=0;Xt<ze.length;Xt++)Gt[Xt]=Xt,Lt[2*Xt]=We(ze[Xt]),Lt[2*Xt+1]=ct(ze[Xt]);q(Gt,Lt,_t,0,Gt.length-1,0)}range(ze,We,ct,_t){return function(Dt,Ft,Gt,Lt,Xt,_i,qi){const Pi=[0,Dt.length-1,0],Mn=[];let Cn,un;for(;Pi.length;){const Gi=Pi.pop(),lr=Pi.pop(),kr=Pi.pop();if(lr-kr<=qi){for(let Lr=kr;Lr<=lr;Lr++)Cn=Ft[2*Lr],un=Ft[2*Lr+1],Cn>=Gt&&Cn<=Xt&&un>=Lt&&un<=_i&&Mn.push(Dt[Lr]);continue}const _n=Math.floor((kr+lr)/2);Cn=Ft[2*_n],un=Ft[2*_n+1],Cn>=Gt&&Cn<=Xt&&un>=Lt&&un<=_i&&Mn.push(Dt[_n]);const Hr=(Gi+1)%2;(Gi===0?Gt<=Cn:Lt<=un)&&(Pi.push(kr),Pi.push(_n-1),Pi.push(Hr)),(Gi===0?Xt>=Cn:_i>=un)&&(Pi.push(_n+1),Pi.push(lr),Pi.push(Hr))}return Mn}(this.ids,this.coords,ze,We,ct,_t,this.nodeSize)}within(ze,We,ct){return function(_t,Dt,Ft,Gt,Lt,Xt){const _i=[0,_t.length-1,0],qi=[],Pi=Lt*Lt;for(;_i.length;){const Mn=_i.pop(),Cn=_i.pop(),un=_i.pop();if(Cn-un<=Xt){for(let Hr=un;Hr<=Cn;Hr++)he(Dt[2*Hr],Dt[2*Hr+1],Ft,Gt)<=Pi&&qi.push(_t[Hr]);continue}const Gi=Math.floor((un+Cn)/2),lr=Dt[2*Gi],kr=Dt[2*Gi+1];he(lr,kr,Ft,Gt)<=Pi&&qi.push(_t[Gi]);const _n=(Mn+1)%2;(Mn===0?Ft-Lt<=lr:Gt-Lt<=kr)&&(_i.push(un),_i.push(Gi-1),_i.push(_n)),(Mn===0?Ft+Lt>=lr:Gt+Lt>=kr)&&(_i.push(Gi+1),_i.push(Cn),_i.push(_n))}return qi}(this.ids,this.coords,ze,We,ct,this.nodeSize)}}const ce={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ht=>ht},ge=Math.fround||(ke=new Float32Array(1),ht=>(ke[0]=+ht,ke[0]));var ke;class re{constructor(ze){this.options=Ue(Object.create(ce),ze),this.trees=new Array(this.options.maxZoom+1)}load(ze){const{log:We,minZoom:ct,maxZoom:_t,nodeSize:Dt}=this.options;We&&console.time("total time");const Ft=`prepare ${ze.length} points`;We&&console.time(Ft),this.points=ze;let Gt=[];for(let Lt=0;Lt<ze.length;Lt++)ze[Lt].geometry&&Gt.push(_e(ze[Lt],Lt));this.trees[_t+1]=new Q(Gt,nt,Qe,Dt,Float32Array),We&&console.timeEnd(Ft);for(let Lt=_t;Lt>=ct;Lt--){const Xt=+Date.now();Gt=this._cluster(Gt,Lt),this.trees[Lt]=new Q(Gt,nt,Qe,Dt,Float32Array),We&&console.log("z%d: %d clusters in %dms",Lt,Gt.length,+Date.now()-Xt)}return We&&console.timeEnd("total time"),this}getClusters(ze,We){let ct=((ze[0]+180)%360+360)%360-180;const _t=Math.max(-90,Math.min(90,ze[1]));let Dt=ze[2]===180?180:((ze[2]+180)%360+360)%360-180;const Ft=Math.max(-90,Math.min(90,ze[3]));if(ze[2]-ze[0]>=360)ct=-180,Dt=180;else if(ct>Dt){const _i=this.getClusters([ct,_t,180,Ft],We),qi=this.getClusters([-180,_t,Dt,Ft],We);return _i.concat(qi)}const Gt=this.trees[this._limitZoom(We)],Lt=Gt.range(Te(ct),Oe(Ft),Te(Dt),Oe(_t)),Xt=[];for(const _i of Lt){const qi=Gt.points[_i];Xt.push(qi.numPoints?oe(qi):this.points[qi.index])}return Xt}getChildren(ze){const We=this._getOriginId(ze),ct=this._getOriginZoom(ze),_t="No cluster with the specified id.",Dt=this.trees[ct];if(!Dt)throw new Error(_t);const Ft=Dt.points[We];if(!Ft)throw new Error(_t);const Gt=this.options.radius/(this.options.extent*Math.pow(2,ct-1)),Lt=Dt.within(Ft.x,Ft.y,Gt),Xt=[];for(const _i of Lt){const qi=Dt.points[_i];qi.parentId===ze&&Xt.push(qi.numPoints?oe(qi):this.points[qi.index])}if(Xt.length===0)throw new Error(_t);return Xt}getLeaves(ze,We,ct){const _t=[];return this._appendLeaves(_t,ze,We=We||10,ct=ct||0,0),_t}getTile(ze,We,ct){const _t=this.trees[this._limitZoom(ze)],Dt=Math.pow(2,ze),{extent:Ft,radius:Gt}=this.options,Lt=Gt/Ft,Xt=(ct-Lt)/Dt,_i=(ct+1+Lt)/Dt,qi={features:[]};return this._addTileFeatures(_t.range((We-Lt)/Dt,Xt,(We+1+Lt)/Dt,_i),_t.points,We,ct,Dt,qi),We===0&&this._addTileFeatures(_t.range(1-Lt/Dt,Xt,1,_i),_t.points,Dt,ct,Dt,qi),We===Dt-1&&this._addTileFeatures(_t.range(0,Xt,Lt/Dt,_i),_t.points,-1,ct,Dt,qi),qi.features.length?qi:null}getClusterExpansionZoom(ze){let We=this._getOriginZoom(ze)-1;for(;We<=this.options.maxZoom;){const ct=this.getChildren(ze);if(We++,ct.length!==1)break;ze=ct[0].properties.cluster_id}return We}_appendLeaves(ze,We,ct,_t,Dt){const Ft=this.getChildren(We);for(const Gt of Ft){const Lt=Gt.properties;if(Lt&&Lt.cluster?Dt+Lt.point_count<=_t?Dt+=Lt.point_count:Dt=this._appendLeaves(ze,Lt.cluster_id,ct,_t,Dt):Dt<_t?Dt++:ze.push(Gt),ze.length===ct)break}return Dt}_addTileFeatures(ze,We,ct,_t,Dt,Ft){for(const Gt of ze){const Lt=We[Gt],Xt=Lt.numPoints;let _i,qi,Pi;if(Xt)_i=ye(Lt),qi=Lt.x,Pi=Lt.y;else{const un=this.points[Lt.index];_i=un.properties,qi=Te(un.geometry.coordinates[0]),Pi=Oe(un.geometry.coordinates[1])}const Mn={type:1,geometry:[[Math.round(this.options.extent*(qi*Dt-ct)),Math.round(this.options.extent*(Pi*Dt-_t))]],tags:_i};let Cn;Xt?Cn=Lt.id:this.options.generateId?Cn=Lt.index:this.points[Lt.index].id&&(Cn=this.points[Lt.index].id),Cn!==void 0&&(Mn.id=Cn),Ft.features.push(Mn)}}_limitZoom(ze){return Math.max(this.options.minZoom,Math.min(Math.floor(+ze),this.options.maxZoom+1))}_cluster(ze,We){const ct=[],{radius:_t,extent:Dt,reduce:Ft,minPoints:Gt}=this.options,Lt=_t/(Dt*Math.pow(2,We));for(let Xt=0;Xt<ze.length;Xt++){const _i=ze[Xt];if(_i.zoom<=We)continue;_i.zoom=We;const qi=this.trees[We+1],Pi=qi.within(_i.x,_i.y,Lt),Mn=_i.numPoints||1;let Cn=Mn;for(const un of Pi){const Gi=qi.points[un];Gi.zoom>We&&(Cn+=Gi.numPoints||1)}if(Cn>Mn&&Cn>=Gt){let un=_i.x*Mn,Gi=_i.y*Mn,lr=Ft&&Mn>1?this._map(_i,!0):null;const kr=(Xt<<5)+(We+1)+this.points.length;for(const _n of Pi){const Hr=qi.points[_n];if(Hr.zoom<=We)continue;Hr.zoom=We;const Lr=Hr.numPoints||1;un+=Hr.x*Lr,Gi+=Hr.y*Lr,Hr.parentId=kr,Ft&&(lr||(lr=this._map(_i,!0)),Ft(lr,this._map(Hr)))}_i.parentId=kr,ct.push(ve(un/Cn,Gi/Cn,kr,Cn,lr))}else if(ct.push(_i),Cn>1)for(const un of Pi){const Gi=qi.points[un];Gi.zoom<=We||(Gi.zoom=We,ct.push(Gi))}}return ct}_getOriginId(ze){return ze-this.points.length>>5}_getOriginZoom(ze){return(ze-this.points.length)%32}_map(ze,We){if(ze.numPoints)return We?Ue({},ze.properties):ze.properties;const ct=this.points[ze.index].properties,_t=this.options.map(ct);return We&&_t===ct?Ue({},_t):_t}}function ve(ht,ze,We,ct,_t){return{x:ge(ht),y:ge(ze),zoom:1/0,id:We,parentId:-1,numPoints:ct,properties:_t}}function _e(ht,ze){const[We,ct]=ht.geometry.coordinates;return{x:ge(Te(We)),y:ge(Oe(ct)),zoom:1/0,index:ze,parentId:-1}}function oe(ht){return{type:"Feature",id:ht.id,properties:ye(ht),geometry:{type:"Point",coordinates:[(ze=ht.x,360*(ze-.5)),Le(ht.y)]}};var ze}function ye(ht){const ze=ht.numPoints,We=ze>=1e4?`${Math.round(ze/1e3)}k`:ze>=1e3?Math.round(ze/100)/10+"k":ze;return Ue(Ue({},ht.properties),{cluster:!0,cluster_id:ht.id,point_count:ze,point_count_abbreviated:We})}function Te(ht){return ht/360+.5}function Oe(ht){const ze=Math.sin(ht*Math.PI/180),We=.5-.25*Math.log((1+ze)/(1-ze))/Math.PI;return We<0?0:We>1?1:We}function Le(ht){const ze=(180-360*ht)*Math.PI/180;return 360*Math.atan(Math.exp(ze))/Math.PI-90}function Ue(ht,ze){for(const We in ze)ht[We]=ze[We];return ht}function nt(ht){return ht.x}function Qe(ht){return ht.y}function ut(ht,ze,We,ct){for(var _t,Dt=ct,Ft=We-ze>>1,Gt=We-ze,Lt=ht[ze],Xt=ht[ze+1],_i=ht[We],qi=ht[We+1],Pi=ze+3;Pi<We;Pi+=3){var Mn=Me(ht[Pi],ht[Pi+1],Lt,Xt,_i,qi);if(Mn>Dt)_t=Pi,Dt=Mn;else if(Mn===Dt){var Cn=Math.abs(Pi-Ft);Cn<Gt&&(_t=Pi,Gt=Cn)}}Dt>ct&&(_t-ze>3&&ut(ht,ze,_t,ct),ht[_t+2]=Dt,We-_t>3&&ut(ht,_t,We,ct))}function Me(ht,ze,We,ct,_t,Dt){var Ft=_t-We,Gt=Dt-ct;if(Ft!==0||Gt!==0){var Lt=((ht-We)*Ft+(ze-ct)*Gt)/(Ft*Ft+Gt*Gt);Lt>1?(We=_t,ct=Dt):Lt>0&&(We+=Ft*Lt,ct+=Gt*Lt)}return(Ft=ht-We)*Ft+(Gt=ze-ct)*Gt}function Re(ht,ze,We,ct){var _t={id:ht===void 0?null:ht,type:ze,geometry:We,tags:ct,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Dt){var Ft=Dt.geometry,Gt=Dt.type;if(Gt==="Point"||Gt==="MultiPoint"||Gt==="LineString")Ne(Dt,Ft);else if(Gt==="Polygon"||Gt==="MultiLineString")for(var Lt=0;Lt<Ft.length;Lt++)Ne(Dt,Ft[Lt]);else if(Gt==="MultiPolygon")for(Lt=0;Lt<Ft.length;Lt++)for(var Xt=0;Xt<Ft[Lt].length;Xt++)Ne(Dt,Ft[Lt][Xt])}(_t),_t}function Ne(ht,ze){for(var We=0;We<ze.length;We+=3)ht.minX=Math.min(ht.minX,ze[We]),ht.minY=Math.min(ht.minY,ze[We+1]),ht.maxX=Math.max(ht.maxX,ze[We]),ht.maxY=Math.max(ht.maxY,ze[We+1])}function Xe(ht,ze,We,ct){if(ze.geometry){var _t=ze.geometry.coordinates,Dt=ze.geometry.type,Ft=Math.pow(We.tolerance/((1<<We.maxZoom)*We.extent),2),Gt=[],Lt=ze.id;if(We.promoteId?Lt=ze.properties[We.promoteId]:We.generateId&&(Lt=ct||0),Dt==="Point")rt(_t,Gt);else if(Dt==="MultiPoint")for(var Xt=0;Xt<_t.length;Xt++)rt(_t[Xt],Gt);else if(Dt==="LineString")yt(_t,Gt,Ft,!1);else if(Dt==="MultiLineString"){if(We.lineMetrics){for(Xt=0;Xt<_t.length;Xt++)yt(_t[Xt],Gt=[],Ft,!1),ht.push(Re(Lt,"LineString",Gt,ze.properties));return}$t(_t,Gt,Ft,!1)}else if(Dt==="Polygon")$t(_t,Gt,Ft,!0);else{if(Dt!=="MultiPolygon"){if(Dt==="GeometryCollection"){for(Xt=0;Xt<ze.geometry.geometries.length;Xt++)Xe(ht,{id:Lt,geometry:ze.geometry.geometries[Xt],properties:ze.properties},We,ct);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Xt=0;Xt<_t.length;Xt++){var _i=[];$t(_t[Xt],_i,Ft,!0),Gt.push(_i)}}ht.push(Re(Lt,Dt,Gt,ze.properties))}}function rt(ht,ze){ze.push(Wt(ht[0])),ze.push(Ci(ht[1])),ze.push(0)}function yt(ht,ze,We,ct){for(var _t,Dt,Ft=0,Gt=0;Gt<ht.length;Gt++){var Lt=Wt(ht[Gt][0]),Xt=Ci(ht[Gt][1]);ze.push(Lt),ze.push(Xt),ze.push(0),Gt>0&&(Ft+=ct?(_t*Xt-Lt*Dt)/2:Math.sqrt(Math.pow(Lt-_t,2)+Math.pow(Xt-Dt,2))),_t=Lt,Dt=Xt}var _i=ze.length-3;ze[2]=1,ut(ze,0,_i,We),ze[_i+2]=1,ze.size=Math.abs(Ft),ze.start=0,ze.end=ze.size}function $t(ht,ze,We,ct){for(var _t=0;_t<ht.length;_t++){var Dt=[];yt(ht[_t],Dt,We,ct),ze.push(Dt)}}function Wt(ht){return ht/360+.5}function Ci(ht){var ze=Math.sin(ht*Math.PI/180),We=.5-.25*Math.log((1+ze)/(1-ze))/Math.PI;return We<0?0:We>1?1:We}function ti(ht,ze,We,ct,_t,Dt,Ft,Gt){if(ct/=ze,Dt>=(We/=ze)&&Ft<ct)return ht;if(Ft<We||Dt>=ct)return null;for(var Lt=[],Xt=0;Xt<ht.length;Xt++){var _i=ht[Xt],qi=_i.geometry,Pi=_i.type,Mn=_t===0?_i.minX:_i.minY,Cn=_t===0?_i.maxX:_i.maxY;if(Mn>=We&&Cn<ct)Lt.push(_i);else if(!(Cn<We||Mn>=ct)){var un=[];if(Pi==="Point"||Pi==="MultiPoint")Mi(qi,un,We,ct,_t);else if(Pi==="LineString")on(qi,un,We,ct,_t,!1,Gt.lineMetrics);else if(Pi==="MultiLineString")Nt(qi,un,We,ct,_t,!1);else if(Pi==="Polygon")Nt(qi,un,We,ct,_t,!0);else if(Pi==="MultiPolygon")for(var Gi=0;Gi<qi.length;Gi++){var lr=[];Nt(qi[Gi],lr,We,ct,_t,!0),lr.length&&un.push(lr)}if(un.length){if(Gt.lineMetrics&&Pi==="LineString"){for(Gi=0;Gi<un.length;Gi++)Lt.push(Re(_i.id,Pi,un[Gi],_i.tags));continue}Pi!=="LineString"&&Pi!=="MultiLineString"||(un.length===1?(Pi="LineString",un=un[0]):Pi="MultiLineString"),Pi!=="Point"&&Pi!=="MultiPoint"||(Pi=un.length===3?"Point":"MultiPoint"),Lt.push(Re(_i.id,Pi,un,_i.tags))}}}return Lt.length?Lt:null}function Mi(ht,ze,We,ct,_t){for(var Dt=0;Dt<ht.length;Dt+=3){var Ft=ht[Dt+_t];Ft>=We&&Ft<=ct&&(ze.push(ht[Dt]),ze.push(ht[Dt+1]),ze.push(ht[Dt+2]))}}function on(ht,ze,We,ct,_t,Dt,Ft){for(var Gt,Lt,Xt=ft(ht),_i=_t===0?Ui:dn,qi=ht.start,Pi=0;Pi<ht.length-3;Pi+=3){var Mn=ht[Pi],Cn=ht[Pi+1],un=ht[Pi+2],Gi=ht[Pi+3],lr=ht[Pi+4],kr=_t===0?Mn:Cn,_n=_t===0?Gi:lr,Hr=!1;Ft&&(Gt=Math.sqrt(Math.pow(Mn-Gi,2)+Math.pow(Cn-lr,2))),kr<We?_n>We&&(Lt=_i(Xt,Mn,Cn,Gi,lr,We),Ft&&(Xt.start=qi+Gt*Lt)):kr>ct?_n<ct&&(Lt=_i(Xt,Mn,Cn,Gi,lr,ct),Ft&&(Xt.start=qi+Gt*Lt)):fi(Xt,Mn,Cn,un),_n<We&&kr>=We&&(Lt=_i(Xt,Mn,Cn,Gi,lr,We),Hr=!0),_n>ct&&kr<=ct&&(Lt=_i(Xt,Mn,Cn,Gi,lr,ct),Hr=!0),!Dt&&Hr&&(Ft&&(Xt.end=qi+Gt*Lt),ze.push(Xt),Xt=ft(ht)),Ft&&(qi+=Gt)}var Lr=ht.length-3;Mn=ht[Lr],Cn=ht[Lr+1],un=ht[Lr+2],(kr=_t===0?Mn:Cn)>=We&&kr<=ct&&fi(Xt,Mn,Cn,un),Lr=Xt.length-3,Dt&&Lr>=3&&(Xt[Lr]!==Xt[0]||Xt[Lr+1]!==Xt[1])&&fi(Xt,Xt[0],Xt[1],Xt[2]),Xt.length&&ze.push(Xt)}function ft(ht){var ze=[];return ze.size=ht.size,ze.start=ht.start,ze.end=ht.end,ze}function Nt(ht,ze,We,ct,_t,Dt){for(var Ft=0;Ft<ht.length;Ft++)on(ht[Ft],ze,We,ct,_t,Dt,!1)}function fi(ht,ze,We,ct){ht.push(ze),ht.push(We),ht.push(ct)}function Ui(ht,ze,We,ct,_t,Dt){var Ft=(Dt-ze)/(ct-ze);return ht.push(Dt),ht.push(We+(_t-We)*Ft),ht.push(1),Ft}function dn(ht,ze,We,ct,_t,Dt){var Ft=(Dt-We)/(_t-We);return ht.push(ze+(ct-ze)*Ft),ht.push(Dt),ht.push(1),Ft}function Gn(ht,ze){for(var We=[],ct=0;ct<ht.length;ct++){var _t,Dt=ht[ct],Ft=Dt.type;if(Ft==="Point"||Ft==="MultiPoint"||Ft==="LineString")_t=Kr(Dt.geometry,ze);else if(Ft==="MultiLineString"||Ft==="Polygon"){_t=[];for(var Gt=0;Gt<Dt.geometry.length;Gt++)_t.push(Kr(Dt.geometry[Gt],ze))}else if(Ft==="MultiPolygon")for(_t=[],Gt=0;Gt<Dt.geometry.length;Gt++){for(var Lt=[],Xt=0;Xt<Dt.geometry[Gt].length;Xt++)Lt.push(Kr(Dt.geometry[Gt][Xt],ze));_t.push(Lt)}We.push(Re(Dt.id,Ft,_t,Dt.tags))}return We}function Kr(ht,ze){var We=[];We.size=ht.size,ht.start!==void 0&&(We.start=ht.start,We.end=ht.end);for(var ct=0;ct<ht.length;ct+=3)We.push(ht[ct]+ze,ht[ct+1],ht[ct+2]);return We}function ci(ht,ze){if(ht.transformed)return ht;var We,ct,_t,Dt=1<<ht.z,Ft=ht.x,Gt=ht.y;for(We=0;We<ht.features.length;We++){var Lt=ht.features[We],Xt=Lt.geometry,_i=Lt.type;if(Lt.geometry=[],_i===1)for(ct=0;ct<Xt.length;ct+=2)Lt.geometry.push($i(Xt[ct],Xt[ct+1],ze,Dt,Ft,Gt));else for(ct=0;ct<Xt.length;ct++){var qi=[];for(_t=0;_t<Xt[ct].length;_t+=2)qi.push($i(Xt[ct][_t],Xt[ct][_t+1],ze,Dt,Ft,Gt));Lt.geometry.push(qi)}}return ht.transformed=!0,ht}function $i(ht,ze,We,ct,_t,Dt){return[Math.round(We*(ht*ct-_t)),Math.round(We*(ze*ct-Dt))]}function Wi(ht,ze,We,ct,_t){for(var Dt=ze===_t.maxZoom?0:_t.tolerance/((1<<ze)*_t.extent),Ft={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:We,y:ct,z:ze,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Gt=0;Gt<ht.length;Gt++){Ft.numFeatures++,zr(Ft,ht[Gt],Dt,_t);var Lt=ht[Gt].minX,Xt=ht[Gt].minY,_i=ht[Gt].maxX,qi=ht[Gt].maxY;Lt<Ft.minX&&(Ft.minX=Lt),Xt<Ft.minY&&(Ft.minY=Xt),_i>Ft.maxX&&(Ft.maxX=_i),qi>Ft.maxY&&(Ft.maxY=qi)}return Ft}function zr(ht,ze,We,ct){var _t=ze.geometry,Dt=ze.type,Ft=[];if(Dt==="Point"||Dt==="MultiPoint")for(var Gt=0;Gt<_t.length;Gt+=3)Ft.push(_t[Gt]),Ft.push(_t[Gt+1]),ht.numPoints++,ht.numSimplified++;else if(Dt==="LineString")fo(Ft,_t,ht,We,!1,!1);else if(Dt==="MultiLineString"||Dt==="Polygon")for(Gt=0;Gt<_t.length;Gt++)fo(Ft,_t[Gt],ht,We,Dt==="Polygon",Gt===0);else if(Dt==="MultiPolygon")for(var Lt=0;Lt<_t.length;Lt++){var Xt=_t[Lt];for(Gt=0;Gt<Xt.length;Gt++)fo(Ft,Xt[Gt],ht,We,!0,Gt===0)}if(Ft.length){var _i=ze.tags||null;if(Dt==="LineString"&&ct.lineMetrics){for(var qi in _i={},ze.tags)_i[qi]=ze.tags[qi];_i.mapbox_clip_start=_t.start/_t.size,_i.mapbox_clip_end=_t.end/_t.size}var Pi={geometry:Ft,type:Dt==="Polygon"||Dt==="MultiPolygon"?3:Dt==="LineString"||Dt==="MultiLineString"?2:1,tags:_i};ze.id!==null&&(Pi.id=ze.id),ht.features.push(Pi)}}function fo(ht,ze,We,ct,_t,Dt){var Ft=ct*ct;if(ct>0&&ze.size<(_t?Ft:ct))We.numPoints+=ze.length/3;else{for(var Gt=[],Lt=0;Lt<ze.length;Lt+=3)(ct===0||ze[Lt+2]>Ft)&&(We.numSimplified++,Gt.push(ze[Lt]),Gt.push(ze[Lt+1])),We.numPoints++;_t&&function(Xt,_i){for(var qi=0,Pi=0,Mn=Xt.length,Cn=Mn-2;Pi<Mn;Cn=Pi,Pi+=2)qi+=(Xt[Pi]-Xt[Cn])*(Xt[Pi+1]+Xt[Cn+1]);if(qi>0===_i)for(Pi=0,Mn=Xt.length;Pi<Mn/2;Pi+=2){var un=Xt[Pi],Gi=Xt[Pi+1];Xt[Pi]=Xt[Mn-2-Pi],Xt[Pi+1]=Xt[Mn-1-Pi],Xt[Mn-2-Pi]=un,Xt[Mn-1-Pi]=Gi}}(Gt,Dt),ht.push(Gt)}}function wn(ht,ze){var We=(ze=this.options=function(_t,Dt){for(var Ft in Dt)_t[Ft]=Dt[Ft];return _t}(Object.create(this.options),ze)).debug;if(We&&console.time("preprocess data"),ze.maxZoom<0||ze.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ze.promoteId&&ze.generateId)throw new Error("promoteId and generateId cannot be used together.");var ct=function(_t,Dt){var Ft=[];if(_t.type==="FeatureCollection")for(var Gt=0;Gt<_t.features.length;Gt++)Xe(Ft,_t.features[Gt],Dt,Gt);else Xe(Ft,_t.type==="Feature"?_t:{geometry:_t},Dt);return Ft}(ht,ze);this.tiles={},this.tileCoords=[],We&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ze.indexMaxZoom,ze.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ct=function(_t,Dt){var Ft=Dt.buffer/Dt.extent,Gt=_t,Lt=ti(_t,1,-1-Ft,Ft,0,-1,2,Dt),Xt=ti(_t,1,1-Ft,2+Ft,0,-1,2,Dt);return(Lt||Xt)&&(Gt=ti(_t,1,-Ft,1+Ft,0,-1,2,Dt)||[],Lt&&(Gt=Gn(Lt,1).concat(Gt)),Xt&&(Gt=Gt.concat(Gn(Xt,-1)))),Gt}(ct,ze),ct.length&&this.splitTile(ct,0,0,0),We&&(ct.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function oo(ht,ze,We){return 32*((1<<ht)*We+ze)+ht}function Ln(ht,ze){const We=ht.tileID.canonical;if(!this._geoJSONIndex)return ze(null,null);const ct=this._geoJSONIndex.getTile(We.z,We.x,We.y);if(!ct)return ze(null,null);const _t=new M(ct.features);let Dt=S.exports(_t);Dt.byteOffset===0&&Dt.byteLength===Dt.buffer.byteLength||(Dt=new Uint8Array(Dt)),ze(null,{vectorTile:_t,rawData:Dt.buffer})}wn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},wn.prototype.splitTile=function(ht,ze,We,ct,_t,Dt,Ft){for(var Gt=[ht,ze,We,ct],Lt=this.options,Xt=Lt.debug;Gt.length;){ct=Gt.pop(),We=Gt.pop(),ze=Gt.pop(),ht=Gt.pop();var _i=1<<ze,qi=oo(ze,We,ct),Pi=this.tiles[qi];if(!Pi&&(Xt>1&&console.time("creation"),Pi=this.tiles[qi]=Wi(ht,ze,We,ct,Lt),this.tileCoords.push({z:ze,x:We,y:ct}),Xt)){Xt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ze,We,ct,Pi.numFeatures,Pi.numPoints,Pi.numSimplified),console.timeEnd("creation"));var Mn="z"+ze;this.stats[Mn]=(this.stats[Mn]||0)+1,this.total++}if(Pi.source=ht,_t){if(ze===Lt.maxZoom||ze===_t)continue;var Cn=1<<_t-ze;if(We!==Math.floor(Dt/Cn)||ct!==Math.floor(Ft/Cn))continue}else if(ze===Lt.indexMaxZoom||Pi.numPoints<=Lt.indexMaxPoints)continue;if(Pi.source=null,ht.length!==0){Xt>1&&console.time("clipping");var un,Gi,lr,kr,_n,Hr,Lr=.5*Lt.buffer/Lt.extent,Ua=.5-Lr,$a=.5+Lr,mo=1+Lr;un=Gi=lr=kr=null,_n=ti(ht,_i,We-Lr,We+$a,0,Pi.minX,Pi.maxX,Lt),Hr=ti(ht,_i,We+Ua,We+mo,0,Pi.minX,Pi.maxX,Lt),ht=null,_n&&(un=ti(_n,_i,ct-Lr,ct+$a,1,Pi.minY,Pi.maxY,Lt),Gi=ti(_n,_i,ct+Ua,ct+mo,1,Pi.minY,Pi.maxY,Lt),_n=null),Hr&&(lr=ti(Hr,_i,ct-Lr,ct+$a,1,Pi.minY,Pi.maxY,Lt),kr=ti(Hr,_i,ct+Ua,ct+mo,1,Pi.minY,Pi.maxY,Lt),Hr=null),Xt>1&&console.timeEnd("clipping"),Gt.push(un||[],ze+1,2*We,2*ct),Gt.push(Gi||[],ze+1,2*We,2*ct+1),Gt.push(lr||[],ze+1,2*We+1,2*ct),Gt.push(kr||[],ze+1,2*We+1,2*ct+1)}}},wn.prototype.getTile=function(ht,ze,We){var ct=this.options,_t=ct.extent,Dt=ct.debug;if(ht<0||ht>24)return null;var Ft=1<<ht,Gt=oo(ht,ze=(ze%Ft+Ft)%Ft,We);if(this.tiles[Gt])return ci(this.tiles[Gt],_t);Dt>1&&console.log("drilling down to z%d-%d-%d",ht,ze,We);for(var Lt,Xt=ht,_i=ze,qi=We;!Lt&&Xt>0;)Xt--,_i=Math.floor(_i/2),qi=Math.floor(qi/2),Lt=this.tiles[oo(Xt,_i,qi)];return Lt&&Lt.source?(Dt>1&&console.log("found parent tile z%d-%d-%d",Xt,_i,qi),Dt>1&&console.time("drilling down"),this.splitTile(Lt.source,Xt,_i,qi,ht,ze,We),Dt>1&&console.timeEnd("drilling down"),this.tiles[Gt]?ci(this.tiles[Gt],_t):null):null};class ja extends s.VectorTileWorkerSource{constructor(ze,We,ct,_t,Dt){super(ze,We,ct,_t,Ln),Dt&&(this.loadGeoJSON=Dt)}loadData(ze,We){const ct=ze&&ze.request,_t=ct&&ct.collectResourceTiming;this.loadGeoJSON(ze,(Dt,Ft)=>{if(Dt||!Ft)return We(Dt);if(typeof Ft!="object")return We(new Error(`Input data given to '${ze.source}' is not a valid GeoJSON object.`));{z(Ft,!0);try{if(ze.filter){const Lt=s.createExpression(ze.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Lt.result==="error")throw new Error(Lt.value.map(_i=>`${_i.key}: ${_i.message}`).join(", "));Ft={type:"FeatureCollection",features:Ft.features.filter(_i=>Lt.value.evaluate({zoom:0},_i))}}this._geoJSONIndex=ze.cluster?new re(function({superclusterOptions:Lt,clusterProperties:Xt}){if(!Xt||!Lt)return Lt;const _i={},qi={},Pi={accumulated:null,zoom:0},Mn={properties:null},Cn=Object.keys(Xt);for(const un of Cn){const[Gi,lr]=Xt[un],kr=s.createExpression(lr),_n=s.createExpression(typeof Gi=="string"?[Gi,["accumulated"],["get",un]]:Gi);_i[un]=kr.value,qi[un]=_n.value}return Lt.map=un=>{Mn.properties=un;const Gi={};for(const lr of Cn)Gi[lr]=_i[lr].evaluate(Pi,Mn);return Gi},Lt.reduce=(un,Gi)=>{Mn.properties=Gi;for(const lr of Cn)Pi.accumulated=un[lr],un[lr]=qi[lr].evaluate(Pi,Mn)},Lt}(ze)).load(Ft.features):function(Lt,Xt){return new wn(Lt,Xt)}(Ft,ze.geojsonVtOptions)}catch(Lt){return We(Lt)}this.loaded={};const Gt={};if(_t){const Lt=s.getPerformanceMeasurement(ct);Lt&&(Gt.resourceTiming={},Gt.resourceTiming[ze.source]=JSON.parse(JSON.stringify(Lt)))}We(null,Gt)}})}reloadTile(ze,We){const ct=this.loaded;return ct&&ct[ze.uid]?super.reloadTile(ze,We):this.loadTile(ze,We)}loadGeoJSON(ze,We){if(ze.request)s.getJSON(ze.request,We);else{if(typeof ze.data!="string")return We(new Error(`Input data given to '${ze.source}' is not a valid GeoJSON object.`));try{return We(null,JSON.parse(ze.data))}catch{return We(new Error(`Input data given to '${ze.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(ze,We){try{We(null,this._geoJSONIndex.getClusterExpansionZoom(ze.clusterId))}catch(ct){We(ct)}}getClusterChildren(ze,We){try{We(null,this._geoJSONIndex.getChildren(ze.clusterId))}catch(ct){We(ct)}}getClusterLeaves(ze,We){try{We(null,this._geoJSONIndex.getLeaves(ze.clusterId,ze.limit,ze.offset))}catch(ct){We(ct)}}}class il{constructor(ze){this.self=ze,this.actor=new s.Actor(ze,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=s.getProjection({name:"mercator"}),this.workerSourceTypes={vector:s.VectorTileWorkerSource,geojson:ja},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(We,ct)=>{if(this.workerSourceTypes[We])throw new Error(`Worker source with name "${We}" already registered.`);this.workerSourceTypes[We]=ct},this.self.registerRTLTextPlugin=We=>{if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=We.applyArabicShaping,s.plugin.processBidirectionalText=We.processBidirectionalText,s.plugin.processStyledBidirectionalText=We.processStyledBidirectionalText}}clearCaches(ze,We,ct){delete this.layerIndexes[ze],delete this.availableImages[ze],delete this.workerSources[ze],delete this.demWorkerSources[ze],ct()}checkIfReady(ze,We,ct){ct()}setReferrer(ze,We){this.referrer=We}spriteLoaded(ze,We){this.isSpriteLoaded[ze]=We;for(const ct in this.workerSources[ze]){const _t=this.workerSources[ze][ct];for(const Dt in _t)_t[Dt]instanceof s.VectorTileWorkerSource&&(_t[Dt].isSpriteLoaded=We,_t[Dt].fire(new s.Event("isSpriteLoaded")))}}setImages(ze,We,ct){this.availableImages[ze]=We;for(const _t in this.workerSources[ze]){const Dt=this.workerSources[ze][_t];for(const Ft in Dt)Dt[Ft].availableImages=We}ct()}enableTerrain(ze,We,ct){this.terrain=We,ct()}setProjection(ze,We){this.projections[ze]=s.getProjection(We)}setLayers(ze,We,ct){this.getLayerIndex(ze).replace(We),ct()}updateLayers(ze,We,ct){this.getLayerIndex(ze).update(We.layers,We.removedIds),ct()}loadTile(ze,We,ct){const _t=this.enableTerrain?s.extend({enableTerrain:this.terrain},We):We;_t.projection=this.projections[ze]||this.defaultProjection,this.getWorkerSource(ze,We.type,We.source).loadTile(_t,ct)}loadDEMTile(ze,We,ct){const _t=this.enableTerrain?s.extend({buildQuadTree:this.terrain},We):We;this.getDEMWorkerSource(ze,We.source).loadTile(_t,ct)}reloadTile(ze,We,ct){const _t=this.enableTerrain?s.extend({enableTerrain:this.terrain},We):We;_t.projection=this.projections[ze]||this.defaultProjection,this.getWorkerSource(ze,We.type,We.source).reloadTile(_t,ct)}abortTile(ze,We,ct){this.getWorkerSource(ze,We.type,We.source).abortTile(We,ct)}removeTile(ze,We,ct){this.getWorkerSource(ze,We.type,We.source).removeTile(We,ct)}removeSource(ze,We,ct){if(!this.workerSources[ze]||!this.workerSources[ze][We.type]||!this.workerSources[ze][We.type][We.source])return;const _t=this.workerSources[ze][We.type][We.source];delete this.workerSources[ze][We.type][We.source],_t.removeSource!==void 0?_t.removeSource(We,ct):ct()}loadWorkerSource(ze,We,ct){try{this.self.importScripts(We.url),ct()}catch(_t){ct(_t.toString())}}syncRTLPluginState(ze,We,ct){try{s.plugin.setState(We);const _t=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&_t!=null){this.self.importScripts(_t);const Dt=s.plugin.isParsed();ct(Dt?void 0:new Error(`RTL Text Plugin failed to import scripts from ${_t}`),Dt)}}catch(_t){ct(_t.toString())}}getAvailableImages(ze){let We=this.availableImages[ze];return We||(We=[]),We}getLayerIndex(ze){let We=this.layerIndexes[ze];return We||(We=this.layerIndexes[ze]=new J),We}getWorkerSource(ze,We,ct){if(this.workerSources[ze]||(this.workerSources[ze]={}),this.workerSources[ze][We]||(this.workerSources[ze][We]={}),!this.workerSources[ze][We][ct]){const _t={send:(Dt,Ft,Gt,Lt,Xt,_i)=>{this.actor.send(Dt,Ft,Gt,ze,Xt,_i)},scheduler:this.actor.scheduler};this.workerSources[ze][We][ct]=new this.workerSourceTypes[We](_t,this.getLayerIndex(ze),this.getAvailableImages(ze),this.isSpriteLoaded[ze])}return this.workerSources[ze][We][ct]}getDEMWorkerSource(ze,We){return this.demWorkerSources[ze]||(this.demWorkerSources[ze]={}),this.demWorkerSources[ze][We]||(this.demWorkerSources[ze][We]=new I),this.demWorkerSources[ze][We]}enforceCacheSizeLimit(ze,We){s.enforceCacheSizeLimit(We)}getWorkerPerformanceMetrics(ze,We,ct){ct(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new il(self)),il}),d(["./shared"],function(s){function b(_,c){if(Array.isArray(_)){if(!Array.isArray(c)||_.length!==c.length)return!1;for(let p=0;p<_.length;p++)if(!b(_[p],c[p]))return!1;return!0}if(typeof _=="object"&&_!==null&&c!==null){if(typeof c!="object"||Object.keys(_).length!==Object.keys(c).length)return!1;for(const p in _)if(!b(_[p],c[p]))return!1;return!0}return _===c}var R=J;function J(_){return!function(c){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var T,B,W=new Blob([""],{type:"text/javascript"}),se=URL.createObjectURL(W);try{B=new Worker(se),T=!0}catch{T=!1}return B&&B.terminate(),URL.revokeObjectURL(se),T}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var T=document.createElement("canvas");T.width=T.height=1;var B=T.getContext("2d");if(!B)return!1;var W=B.getImageData(0,0,1,1);return W&&W.width===T.width}()?(I[p=c&&c.failIfMajorPerformanceCaveat]===void 0&&(I[p]=function(T){var B,W=function(se){var ue=document.createElement("canvas"),me=Object.create(J.webGLContextAttributes);return me.failIfMajorPerformanceCaveat=se,ue.getContext("webgl",me)||ue.getContext("experimental-webgl",me)}(T);if(!W)return!1;try{B=W.createShader(W.VERTEX_SHADER)}catch{return!1}return!(!B||W.isContextLost())&&(W.shaderSource(B,"void main() {}"),W.compileShader(B),W.getShaderParameter(B,W.COMPILE_STATUS)===!0)}(p)),I[p]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var p}(_)}var I={};function z(_,c,p){const T=s.window.document.createElement(_);return c!==void 0&&(T.className=c),p&&p.appendChild(T),T}function Z(_,c,p){const T=s.window.document.createElementNS("http://www.w3.org/2000/svg",_);for(const B of Object.keys(c))T.setAttributeNS(null,B,c[B]);return p&&p.appendChild(T),T}J.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const L=s.window.document&&s.window.document.documentElement.style,O=L&&L.userSelect!==void 0?"userSelect":"WebkitUserSelect";let G;function M(){L&&O&&(G=L[O],L[O]="none")}function S(){L&&O&&(L[O]=G)}function P(_){_.preventDefault(),_.stopPropagation(),s.window.removeEventListener("click",P,!0)}function H(){s.window.addEventListener("click",P,!0),s.window.setTimeout(()=>{s.window.removeEventListener("click",P,!0)},0)}function U(_,c){const p=_.getBoundingClientRect();return te(_,p,c)}function E(_,c){const p=_.getBoundingClientRect(),T=[];for(let B=0;B<c.length;B++)T.push(te(_,p,c[B]));return T}function ie(_){return s.window.InstallTrigger!==void 0&&_.button===2&&_.ctrlKey&&s.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:_.button}function te(_,c,p){const T=_.offsetWidth===c.width?1:_.offsetWidth/c.width;return new s.pointGeometry((p.clientX-c.left)*T,(p.clientY-c.top)*T)}function $(_,c){var p=c[0],T=c[1],B=c[2],W=c[3],se=p*W-B*T;return se?(_[0]=W*(se=1/se),_[1]=-T*se,_[2]=-B*se,_[3]=p*se,_):null}function V(_){const{userImage:c}=_;return!!(c&&c.render&&c.render())&&(_.data.replace(new Uint8Array(c.data.buffer)),!0)}class j extends s.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:p,callback:T}of this.requestors)this._notify(p,T);this.requestors=[]}}hasImage(c){return!!this.getImage(c)}getImage(c){return this.images[c]}addImage(c,p){this._validate(c,p)&&(this.images[c]=p)}_validate(c,p){let T=!0;return this._validateStretch(p.stretchX,p.data&&p.data.width)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "stretchX" value`))),T=!1),this._validateStretch(p.stretchY,p.data&&p.data.height)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "stretchY" value`))),T=!1),this._validateContent(p.content,p)||(this.fire(new s.ErrorEvent(new Error(`Image "${c}" has invalid "content" value`))),T=!1),T}_validateStretch(c,p){if(!c)return!0;let T=0;for(const B of c){if(B[0]<T||B[1]<B[0]||p<B[1])return!1;T=B[1]}return!0}_validateContent(c,p){return!(c&&(c.length!==4||c[0]<0||p.data.width<c[0]||c[1]<0||p.data.height<c[1]||c[2]<0||p.data.width<c[2]||c[3]<0||p.data.height<c[3]||c[2]<c[0]||c[3]<c[1]))}updateImage(c,p){p.version=this.images[c].version+1,this.images[c]=p,this.updatedImages[c]=!0}removeImage(c){const p=this.images[c];delete this.images[c],delete this.patterns[c],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,p){let T=!0;if(!this.isLoaded())for(const B of c)this.images[B]||(T=!1);this.isLoaded()||T?this._notify(c,p):this.requestors.push({ids:c,callback:p})}_notify(c,p){const T={};for(const B of c){this.images[B]||this.fire(new s.Event("styleimagemissing",{id:B}));const W=this.images[B];W?T[B]={data:W.data.clone(),pixelRatio:W.pixelRatio,sdf:W.sdf,version:W.version,stretchX:W.stretchX,stretchY:W.stretchY,content:W.content,hasRenderCallback:!!(W.userImage&&W.userImage.render)}:s.warnOnce(`Image "${B}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,T)}getPixelSize(){const{width:c,height:p}=this.atlasImage;return{width:c,height:p}}getPattern(c){const p=this.patterns[c],T=this.getImage(c);if(!T)return null;if(p&&p.position.version===T.version)return p.position;if(p)p.position.version=T.version;else{const B={w:T.data.width+2,h:T.data.height+2,x:0,y:0},W=new s.ImagePosition(B,T);this.patterns[c]={bin:B,position:W}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const p=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.Texture(c,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const W in this.patterns)c.push(this.patterns[W].bin);const{w:p,h:T}=s.potpack(c),B=this.atlasImage;B.resize({width:p||1,height:T||1});for(const W in this.patterns){const{bin:se}=this.patterns[W],ue=se.x+1,me=se.y+1,De=this.images[W].data,Ae=De.width,Fe=De.height;s.RGBAImage.copy(De,B,{x:0,y:0},{x:ue,y:me},{width:Ae,height:Fe}),s.RGBAImage.copy(De,B,{x:0,y:Fe-1},{x:ue,y:me-1},{width:Ae,height:1}),s.RGBAImage.copy(De,B,{x:0,y:0},{x:ue,y:me+Fe},{width:Ae,height:1}),s.RGBAImage.copy(De,B,{x:Ae-1,y:0},{x:ue-1,y:me},{width:1,height:Fe}),s.RGBAImage.copy(De,B,{x:0,y:0},{x:ue+Ae,y:me},{width:1,height:Fe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const p of c){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const T=this.images[p];V(T)&&this.updateImage(p,T)}}}const w=new s.Properties({anchor:new s.DataConstantProperty(s.spec.light.anchor),position:new class{constructor(){this.specification=s.spec.light.position}possiblyEvaluate(_,c){return function([p,T,B]){const W=s.degToRad(T+90),se=s.degToRad(B);return{x:p*Math.cos(W)*Math.sin(se),y:p*Math.sin(W)*Math.sin(se),z:p*Math.cos(se),azimuthal:T,polar:B}}(_.expression.evaluate(c))}interpolate(_,c,p){return{x:s.number(_.x,c.x,p),y:s.number(_.y,c.y,p),z:s.number(_.z,c.z,p),azimuthal:s.number(_.azimuthal,c.azimuthal,p),polar:s.number(_.polar,c.polar,p)}}},color:new s.DataConstantProperty(s.spec.light.color),intensity:new s.DataConstantProperty(s.spec.light.intensity)}),D="-transition";class m extends s.Evented{constructor(c){super(),this._transitionable=new s.Transitionable(w),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,p={}){if(!this._validate(s.validateLight,c,p))for(const T in c){const B=c[T];s.endsWith(T,D)?this._transitionable.setTransition(T.slice(0,-D.length),B):this._transitionable.setValue(T,B)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,T){return(!T||T.validate!==!1)&&s.emitValidationErrors(this,c.call(s.validateStyle,s.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}const g=new s.Properties({source:new s.DataConstantProperty(s.spec.terrain.source),exaggeration:new s.DataConstantProperty(s.spec.terrain.exaggeration)}),x="-transition";class k extends s.Evented{constructor(c,p){super(),this._transitionable=new s.Transitionable(g),this.set(c),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=p}get(){return this._transitionable.serialize()}set(c){for(const p in c){const T=c[p];s.endsWith(p,x)?this._transitionable.setTransition(p.slice(0,-x.length),T):this._transitionable.setValue(p,T)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}}function q(_,c,p,T){const B=s.smoothstep(45,65,p),[W,se]=Y(_,T),ue=s.length(c);let me=1-Math.min(1,Math.exp((ue-W)/(se-W)*-6));return me*=me*me,me=Math.min(1,1.00747*me),me*B*_.alpha}function Y(_,c){const p=.5/Math.tan(.5*c);return[_.range[0]+p,_.range[1]+p]}const K=new s.Properties({range:new s.DataConstantProperty(s.spec.fog.range),color:new s.DataConstantProperty(s.spec.fog.color),"high-color":new s.DataConstantProperty(s.spec.fog["high-color"]),"space-color":new s.DataConstantProperty(s.spec.fog["space-color"]),"horizon-blend":new s.DataConstantProperty(s.spec.fog["horizon-blend"]),"star-intensity":new s.DataConstantProperty(s.spec.fog["star-intensity"])}),le="-transition";class he extends s.Evented{constructor(c,p){super(),this._transitionable=new s.Transitionable(K),this.set(c),this._transitioning=this._transitionable.untransitioned(),this._transform=p}get state(){const c=this._transform,p=c.projection.name==="globe",T=s.globeToMercatorTransition(c.zoom),B=this.properties.get("range"),W=[.5,3];return{range:p?[s.number(W[0],B[0],T),s.number(W[1],B[1],T)]:B,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(c,p={}){if(!this._validate(s.validateFog,c,p)){for(const T of Object.keys(s.spec.fog))c&&c[T]===void 0&&(c[T]=s.spec.fog[T].default);for(const T in c){const B=c[T];s.endsWith(T,le)?this._transitionable.setTransition(T.slice(0,-le.length),B):this._transitionable.setValue(T,B)}}}getOpacity(c){if(!this._transform.projection.supportsFog)return 0;const p=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:s.smoothstep(45,65,c))*p.a}getOpacityAtLatLng(c,p){return this._transform.projection.supportsFog?function(T,B,W){const se=s.MercatorCoordinate.fromLngLat(B),ue=W.elevation?W.elevation.getAtPointOrZero(se):0,me=[se.x,se.y,ue];return s.transformMat4(me,me,W.mercatorFogMatrix),q(T,me,W.pitch,W._fov)}(this.state,c,p):0}getFovAdjustedRange(c){return this._transform.projection.supportsFog?Y(this.state,c):[0,1]}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,T){return(!T||T.validate!==!1)&&s.emitValidationErrors(this,c.call(s.validateStyle,s.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}class pe{constructor(c,p){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=s.uniqueId();const T=this.workerPool.acquire(this.id);for(let B=0;B<T.length;B++){const W=new pe.Actor(T[B],p,this.id);W.name=`Worker ${B}`,this.actors.push(W)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(c,p,T){s.asyncAll(this.actors,(B,W)=>{B.send(c,p,W)},T=T||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(c=>{c.remove()}),this.actors=[],this.workerPool.release(this.id)}}function F(_,c,p){return c*(s.EXTENT/(_.tileSize*Math.pow(2,p-_.tileID.overscaledZ)))}pe.Actor=s.Actor;class Q{constructor(c,p,T,B){this.screenBounds=c,this.cameraPoint=p,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=T,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,B)}static createFromScreenPoints(c,p){let T,B;if(c instanceof s.pointGeometry||typeof c[0]=="number"){const W=s.pointGeometry.convert(c);T=[W],B=p.isPointAboveHorizon(W)}else{const W=s.pointGeometry.convert(c[0]),se=s.pointGeometry.convert(c[1]);T=[W,se],B=s.polygonizeBounds(W,se).every(ue=>p.isPointAboveHorizon(ue))}return new Q(T,p.getCameraPoint(),B,p)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(c){return s.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],c)}bufferedCameraGeometry(c){const p=this.screenBounds[0],T=this.screenBounds.length===1?this.screenBounds[0].add(new s.pointGeometry(1,1)):this.screenBounds[1],B=s.polygonizeBounds(p,T,0,!1);return this.cameraPoint.y>T.y&&(this.cameraPoint.x>p.x&&this.cameraPoint.x<T.x?B.splice(3,0,this.cameraPoint):this.cameraPoint.x>=T.x?B[2]=this.cameraPoint:this.cameraPoint.x<=p.x&&(B[3]=this.cameraPoint)),s.bufferConvexPolygon(B,c)}bufferedCameraGeometryGlobe(c){const p=this.screenBounds[0],T=this.screenBounds.length===1?this.screenBounds[0].add(new s.pointGeometry(1,1)):this.screenBounds[1],B=s.polygonizeBounds(p,T,c),W=this.cameraPoint.clone();switch(3*((W.y>p.y)+(W.y>T.y))+((W.x>p.x)+(W.x>T.x))){case 0:B[0]=W,B[4]=W.clone();break;case 1:B.splice(1,0,W);break;case 2:B[1]=W;break;case 3:B.splice(4,0,W);break;case 5:B.splice(2,0,W);break;case 6:B[3]=W;break;case 7:B.splice(3,0,W);break;case 8:B[2]=W}return B}containsTile(c,p,T,B=0){const W=c.queryPadding/p._pixelsPerMercatorPixel+1,se=T?this._bufferedCameraMercator(W,p):this._bufferedScreenMercator(W,p);let ue=c.tileID.wrap+(se.unwrapped?B:0);const me=se.polygon.map(Ke=>s.getTilePoint(c.tileTransform,Ke,ue));if(!s.polygonIntersectsBox(me,0,0,s.EXTENT,s.EXTENT))return;ue=c.tileID.wrap+(this.screenGeometryMercator.unwrapped?B:0);const De=this.screenGeometryMercator.polygon.map(Ke=>s.getTileVec3(c.tileTransform,Ke,ue)),Ae=De.map(Ke=>new s.pointGeometry(Ke[0],Ke[1])),Fe=p.getFreeCameraOptions().position||new s.MercatorCoordinate(0,0,0),qe=s.getTileVec3(c.tileTransform,Fe,ue),ot=De.map(Ke=>{const tt=s.sub(Ke,Ke,qe);return s.normalize(tt,tt),new s.Ray(qe,tt)}),at=F(c,1,p.zoom)*p._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:Ae,tilespaceRays:ot,bufferedTilespaceGeometry:me,bufferedTilespaceBounds:(dt=s.getBounds(me),dt.min.x=s.clamp(dt.min.x,0,s.EXTENT),dt.min.y=s.clamp(dt.min.y,0,s.EXTENT),dt.max.x=s.clamp(dt.max.x,0,s.EXTENT),dt.max.y=s.clamp(dt.max.y,0,s.EXTENT),dt),tile:c,tileID:c.tileID,pixelToTileUnitsFactor:at};var dt}_bufferedScreenMercator(c,p){const T=ke(c);if(this._screenRaycastCache[T])return this._screenRaycastCache[T];{let B;return B=p.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(c),p):{polygon:this.bufferedScreenGeometry(c).map(W=>p.pointCoordinate3D(W)),unwrapped:!0},this._screenRaycastCache[T]=B,B}}_bufferedCameraMercator(c,p){const T=ke(c);if(this._cameraRaycastCache[T])return this._cameraRaycastCache[T];{let B;return B=p.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(c),p):{polygon:this.bufferedCameraGeometry(c).map(W=>p.pointCoordinate3D(W)),unwrapped:!0},this._cameraRaycastCache[T]=B,B}}_projectAndResample(c,p){const T=function(W,se){const ue=s.multiply([],se.pixelMatrix,se.globeMatrix),me=[0,-s.GLOBE_RADIUS,0,1],De=[0,s.GLOBE_RADIUS,0,1],Ae=[0,0,0,1];s.transformMat4$1(me,me,ue),s.transformMat4$1(De,De,ue),s.transformMat4$1(Ae,Ae,ue);const Fe=new s.pointGeometry(me[0]/me[3],me[1]/me[3]),qe=new s.pointGeometry(De[0]/De[3],De[1]/De[3]),ot=s.polygonContainsPoint(W,Fe)&&me[3]<Ae[3],at=s.polygonContainsPoint(W,qe)&&De[3]<Ae[3];if(!ot&&!at)return null;const dt=function(zt,ei,Kt){for(let Vt=1;Vt<zt.length;Vt++){const Ei=ge(ei.pointCoordinate3D(zt[Vt-1]).x),qt=ge(ei.pointCoordinate3D(zt[Vt]).x);if(Kt<0){if(Ei<qt)return{idx:Vt,t:-Ei/(qt-1-Ei)}}else if(qt<Ei)return{idx:Vt,t:(1-Ei)/(qt+1-Ei)}}return null}(W,se,ot?-1:1);if(!dt)return null;const{idx:Ke,t:tt}=dt;let pt=Ke>1?ce(W.slice(0,Ke),se):[],lt=Ke<W.length?ce(W.slice(Ke),se):[];pt=pt.map(zt=>new s.pointGeometry(ge(zt.x),zt.y)),lt=lt.map(zt=>new s.pointGeometry(ge(zt.x),zt.y));const xt=[...pt];xt.length===0&&xt.push(lt[lt.length-1]);const At=s.number(xt[xt.length-1].y,(lt.length===0?pt[0]:lt[0]).y,tt);let Tt;return Tt=ot?[new s.pointGeometry(0,At),new s.pointGeometry(0,0),new s.pointGeometry(1,0),new s.pointGeometry(1,At)]:[new s.pointGeometry(1,At),new s.pointGeometry(1,1),new s.pointGeometry(0,1),new s.pointGeometry(0,At)],xt.push(...Tt),lt.length===0?xt.push(pt[0]):xt.push(...lt),{polygon:xt.map(zt=>new s.MercatorCoordinate(zt.x,zt.y)),unwrapped:!1}}(c,p);if(T)return T;const B=function(W,se){let ue=!1,me=-1/0,De=0;for(let Fe=0;Fe<W.length-1;Fe++)W[Fe].x>me&&(me=W[Fe].x,De=Fe);for(let Fe=0;Fe<W.length-1;Fe++){const qe=(De+Fe)%(W.length-1),ot=W[qe],at=W[qe+1];Math.abs(ot.x-at.x)>.5&&(ot.x<at.x?(ot.x+=1,qe===0&&(W[W.length-1].x+=1)):(at.x+=1,qe+1===W.length-1&&(W[0].x+=1)),ue=!0)}const Ae=s.mercatorXfromLng(se.center.lng);return ue&&Ae<Math.abs(Ae-1)&&W.forEach(Fe=>{Fe.x-=1}),{polygon:W,unwrapped:ue}}(ce(c,p).map(W=>new s.pointGeometry(ge(W.x),W.y)),p);return{polygon:B.polygon.map(W=>new s.MercatorCoordinate(W.x,W.y)),unwrapped:B.unwrapped}}}function ce(_,c){return s.resample(_,p=>{const T=c.pointCoordinate3D(p);p.x=T.x,p.y=T.y},1/256)}function ge(_){return _<0?1+_%1:_%1}function ke(_){return 100*_|0}function re(_,c,p,T,B){const W=function(se,ue){if(se)return B(se);if(ue){_.url&&ue.tiles&&_.tiles&&delete _.tiles;const me=s.pick(s.extend(ue,_),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ue.vector_layers&&(me.vectorLayers=ue.vector_layers,me.vectorLayerIds=me.vectorLayers.map(De=>De.id)),me.tiles=c.canonicalizeTileset(me,_.url),B(null,me)}};return _.url?s.getJSON(c.transformRequest(c.normalizeSourceURL(_.url,null,p,T),s.ResourceType.Source),W):s.exported.frame(()=>W(null,_))}class ve{constructor(c,p,T){this.bounds=s.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=T||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const p=Math.pow(2,c.z),T=Math.floor(s.mercatorXfromLng(this.bounds.getWest())*p),B=Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*p),W=Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*p),se=Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*p);return c.x>=T&&c.x<W&&c.y>=B&&c.y<se}}class _e{constructor(c,p,T){this.context=c;const B=c.gl;this.buffer=B.createBuffer(),this.dynamicDraw=!!T,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),B.bufferData(B.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?B.DYNAMIC_DRAW:B.STATIC_DRAW),this.dynamicDraw||p.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const oe={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class ye{constructor(c,p,T,B){this.length=p.length,this.attributes=T,this.itemSize=p.bytesPerElement,this.dynamicDraw=B,this.context=c;const W=c.gl;this.buffer=W.createBuffer(),c.bindVertexBuffer.set(this.buffer),W.bufferData(W.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?W.DYNAMIC_DRAW:W.STATIC_DRAW),this.dynamicDraw||p.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,p){for(let T=0;T<this.attributes.length;T++){const B=p.attributes[this.attributes[T].name];B!==void 0&&c.enableVertexAttribArray(B)}}setVertexAttribPointers(c,p,T){for(let B=0;B<this.attributes.length;B++){const W=this.attributes[B],se=p.attributes[W.name];se!==void 0&&c.vertexAttribPointer(se,W.components,c[oe[W.type]],!1,this.itemSize,W.offset+this.itemSize*(T||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Te{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Oe extends Te{getDefault(){return s.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Le extends Te{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class Ue extends Te{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class nt extends Te{getDefault(){return[!0,!0,!0,!0]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Qe extends Te{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class ut extends Te{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class Me extends Te{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const p=this.current;(c.func!==p.func||c.ref!==p.ref||c.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class Re extends Te{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class Ne extends Te{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=c,this.dirty=!1}}class Xe extends Te{getDefault(){return[0,1]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class rt extends Te{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=c,this.dirty=!1}}class yt extends Te{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class $t extends Te{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.BLEND):p.disable(p.BLEND),this.current=c,this.dirty=!1}}class Wt extends Te{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class Ci extends Te{getDefault(){return s.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class ti extends Te{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class Mi extends Te{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=c,this.dirty=!1}}class on extends Te{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class ft extends Te{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class Nt extends Te{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class fi extends Te{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class Ui extends Te{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class dn extends Te{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class Gn extends Te{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Kr extends Te{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class ci extends Te{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class $i extends Te{getDefault(){return null}set(c){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Wi extends Te{constructor(c){super(c),this.vao=c.extVertexArrayObject}getDefault(){return null}set(c){this.vao&&(c!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(c),this.current=c,this.dirty=!1)}}class zr extends Te{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class fo extends Te{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class wn extends Te{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class oo extends Te{constructor(c,p){super(c),this.context=c,this.parent=p}getDefault(){return null}}class Ln extends oo{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class ja extends oo{attachment(){return this.gl.DEPTH_ATTACHMENT}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,this.attachment(),p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class il extends ja{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class ht{constructor(c,p,T,B){this.context=c,this.width=p,this.height=T;const W=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new Ln(c,W),B&&(this.depthAttachment=new ja(c,W))}destroy(){const c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){const T=this.depthAttachment.get();T&&c.deleteRenderbuffer(T)}c.deleteFramebuffer(this.framebuffer)}}class ze{constructor(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Oe(this),this.clearDepth=new Le(this),this.clearStencil=new Ue(this),this.colorMask=new nt(this),this.depthMask=new Qe(this),this.stencilMask=new ut(this),this.stencilFunc=new Me(this),this.stencilOp=new Re(this),this.stencilTest=new Ne(this),this.depthRange=new Xe(this),this.depthTest=new rt(this),this.depthFunc=new yt(this),this.blend=new $t(this),this.blendFunc=new Wt(this),this.blendColor=new Ci(this),this.blendEquation=new ti(this),this.cullFace=new Mi(this),this.cullFaceSide=new on(this),this.frontFace=new ft(this),this.program=new Nt(this),this.activeTexture=new fi(this),this.viewport=new Ui(this),this.bindFramebuffer=new dn(this),this.bindRenderbuffer=new Gn(this),this.bindTexture=new Kr(this),this.bindVertexBuffer=new ci(this),this.bindElementBuffer=new $i(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Wi(this),this.pixelStoreUnpack=new zr(this),this.pixelStoreUnpackPremultiplyAlpha=new fo(this),this.pixelStoreUnpackFlipY=new wn(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=c.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=c.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=c.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=c.getExtension("OES_standard_derivatives"),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,p){return new _e(this,c,p)}createVertexBuffer(c,p,T){return new ye(this,c,p,T)}createRenderbuffer(c,p,T){const B=this.gl,W=B.createRenderbuffer();return this.bindRenderbuffer.set(W),B.renderbufferStorage(B.RENDERBUFFER,c,p,T),this.bindRenderbuffer.set(null),W}createFramebuffer(c,p,T){return new ht(this,c,p,T)}clear({color:c,depth:p,stencil:T}){const B=this.gl;let W=0;c&&(W|=B.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(W|=B.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),T!==void 0&&(W|=B.STENCIL_BUFFER_BIT,this.clearStencil.set(T),this.stencilMask.set(255)),B.clear(W)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){b(c.blendFunction,s.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class We extends s.Evented{constructor(c,p,T,B){super(),this.id=c,this.dispatcher=T,this.setEventedParent(B),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},p),s.extend(this,s.pick(p,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=re(this._options,this.map._requestManager,null,null,(c,p)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new s.ErrorEvent(c)):p&&(s.extend(this,p),p.bounds&&(this.tileBounds=new ve(p.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(p.tiles),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return s.extend({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,p){const T=s.exported.devicePixelRatio>=2,B=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme),T,this.tileSize);c.request=s.getImage(this.map._requestManager.transformRequest(B,s.ResourceType.Tile),(W,se,ue,me)=>(delete c.request,c.aborted?(c.state="unloaded",p(null)):W?(c.state="errored",p(W)):se?(this.map._refreshExpiredTiles&&c.setExpiryData({cacheControl:ue,expires:me}),c.setTexture(se,this.map.painter),c.state="loaded",s.cacheEntryPossiblyAdded(this.dispatcher),void p(null)):p(null)))}static loadTileData(c,p,T){c.setTexture(p,T)}static unloadTileData(c,p){c.texture&&p.saveTileTexture(c.texture)}abortTile(c,p){c.request&&(c.request.cancel(),delete c.request),p()}unloadTile(c,p){c.texture&&this.map.painter.saveTileTexture(c.texture),p()}hasTransition(){return!1}}let ct;function _t(_,c,p,T,B,W,se,ue){const me=[_,p,B,c,T,W,1,1,1],De=[se,ue,1],Ae=s.adjoint([],me),[Fe,qe,ot]=s.transformMat3(De,De,s.transpose(Ae,Ae));return s.multiply$1(me,[Fe,0,0,0,qe,0,0,0,ot],me)}class Dt extends s.Evented{constructor(c,p,T,B){super(),this.id=c,this.dispatcher=T,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(B),this.options=p,this._dirty=!1}load(c,p){this._loaded=p||!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),(T,B)=>{if(this._imageRequest=null,this._loaded=!0,T)this.fire(new s.ErrorEvent(T));else if(B){const{HTMLImageElement:W}=s.window;this.image=B instanceof W?s.exported.getImageData(B):B,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,c&&(this.coordinates=c),this._finishLoading()}})}loaded(){return this._loaded}updateImage(c){return this.image&&c.url?(this._imageRequest&&c.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=c.url,this.load(c.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(c){this.coordinates=c,this._boundsArray=void 0;const p=c.map(s.MercatorCoordinate.fromLngLat);return this.tileID=function(T){let B=1/0,W=1/0,se=-1/0,ue=-1/0;for(const Fe of T)B=Math.min(B,Fe.x),W=Math.min(W,Fe.y),se=Math.max(se,Fe.x),ue=Math.max(ue,Fe.y);const me=Math.max(se-B,ue-W),De=Math.max(0,Math.floor(-Math.log(me)/Math.LN2)),Ae=Math.pow(2,De);return new s.CanonicalTileID(De,Math.floor((B+se)/2*Ae),Math.floor((W+ue)/2*Ae))}(p),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(c){for(const me in this.tiles){const De=this.tiles[me];De.state!=="loaded"&&(De.state="loaded",De.texture=this.texture)}if(this._boundsArray)return;const p=s.tileTransform(this.tileID,this.map.transform.projection),[T,B,W,se]=this.coordinates.map(me=>{const De=p.projection.project(me[0],me[1]);return s.getTilePoint(p,De)._round()});this.perspectiveTransform=function(me,De,Ae,Fe,qe,ot,at,dt,Ke,tt){const pt=_t(0,0,me,0,0,De,me,De),lt=_t(Ae,Fe,qe,ot,at,dt,Ke,tt);return s.multiply$1(lt,s.adjoint(pt,pt),lt),[lt[6]/lt[8]*me/s.EXTENT,lt[7]/lt[8]*De/s.EXTENT]}(this.width,this.height,T.x,T.y,B.x,B.y,se.x,se.y,W.x,W.y);const ue=this._boundsArray=new s.StructArrayLayout4i8;ue.emplaceBack(T.x,T.y,0,0),ue.emplaceBack(B.x,B.y,s.EXTENT,0),ue.emplaceBack(se.x,se.y,0,s.EXTENT),ue.emplaceBack(W.x,W.y,s.EXTENT,s.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=c.createVertexBuffer(ue,s.boundsAttributes.members),this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const c=this.map.painter.context,p=c.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new s.Texture(c,this.image,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(c)}loadTile(c,p){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},p(null)):(c.state="errored",p(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Ft={vector:class extends s.Evented{constructor(_,c,p,T){if(super(),this.id=_,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(c,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},c),this._collectResourceTiming=c.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(T),this._tileWorkers={},this._deduped=new s.DedupedRequest}load(_){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"}));const c=Array.isArray(this.map._language)?this.map._language.join():this.map._language,p=this.map._worldview;this._tileJSONRequest=re(this._options,this.map._requestManager,c,p,(T,B)=>{this._tileJSONRequest=null,this._loaded=!0,T?(c&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${c}`),p&&p.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${p}`),this.fire(new s.ErrorEvent(T))):B&&(s.extend(this,B),B.bounds&&(this.tileBounds=new ve(B.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(B.tiles,this.map._requestManager._customAccessToken),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))),_&&_(T)})}loaded(){return this._loaded}hasTile(_){return!this.tileBounds||this.tileBounds.contains(_.canonical)}onAdd(_){this.map=_,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const _=this.map.style._getSourceCaches(this.id);for(const c of _)c.clearTiles()})}setSourceProperty(_){_(),this.reload()}setTiles(_){return this._options.tiles=_,this.reload(),this}setUrl(_){return this.url=_,this._options.url=_,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return s.extend({},this._options)}loadTile(_,c){const p=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme)),T={request:this.map._requestManager.transformRequest(p,s.ResourceType.Tile),data:void 0,uid:_.uid,tileID:_.tileID,tileZoom:_.tileZoom,zoom:_.tileID.overscaledZ,tileSize:this.tileSize*_.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:_.isSymbolTile};if(T.request.collectResourceTiming=this._collectResourceTiming,_.actor&&_.state!=="expired")_.state==="loading"?_.reloadCallback=c:_.request=_.actor.send("reloadTile",T,B.bind(this));else if(_.actor=this._tileWorkers[p]=this._tileWorkers[p]||this.dispatcher.getActor(),this.dispatcher.ready)_.request=_.actor.send("loadTile",T,B.bind(this),void 0,!0);else{const W=s.loadVectorTile.call({deduped:this._deduped},T,(se,ue)=>{se||!ue?B.call(this,se):(T.data={cacheControl:ue.cacheControl,expires:ue.expires,rawData:ue.rawData.slice(0)},_.actor&&_.actor.send("loadTile",T,B.bind(this),void 0,!0))},!0);_.request={cancel:W}}function B(W,se){return delete _.request,_.aborted?c(null):W&&W.status!==404?c(W):(se&&se.resourceTiming&&(_.resourceTiming=se.resourceTiming),this.map._refreshExpiredTiles&&se&&_.setExpiryData(se),_.loadVectorData(se,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),c(null),void(_.reloadCallback&&(this.loadTile(_,_.reloadCallback),_.reloadCallback=null)))}}abortTile(_){_.request&&(_.request.cancel(),delete _.request),_.actor&&_.actor.send("abortTile",{uid:_.uid,type:this.type,source:this.id})}unloadTile(_){_.unloadVectorData(),_.actor&&_.actor.send("removeTile",{uid:_.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:We,"raster-dem":class extends We{constructor(_,c,p,T){super(_,c,p,T),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox"}loadTile(_,c){const p=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function T(B,W){B&&(_.state="errored",c(B)),W&&(_.dem=W,_.dem.onDeserialize(),_.needsHillshadePrepare=!0,_.needsDEMTextureUpload=!0,_.state="loaded",c(null))}_.request=s.getImage(this.map._requestManager.transformRequest(p,s.ResourceType.Tile),(function(B,W,se,ue){if(delete _.request,_.aborted)_.state="unloaded",c(null);else if(B)_.state="errored",c(B);else if(W){this.map._refreshExpiredTiles&&_.setExpiryData({cacheControl:se,expires:ue});const me=s.window.ImageBitmap&&W instanceof s.window.ImageBitmap&&(ct==null&&(ct=s.window.OffscreenCanvas&&new s.window.OffscreenCanvas(1,1).getContext("2d")&&typeof s.window.createImageBitmap=="function"),ct),De=1-(W.width-s.prevPowerOfTwo(W.width))/2;De<1||_.neighboringTiles||(_.neighboringTiles=this._getNeighboringTiles(_.tileID));const Ae=me?W:s.exported.getImageData(W,De),Fe={uid:_.uid,coord:_.tileID,source:this.id,rawImageData:Ae,encoding:this.encoding,padding:De};_.actor&&_.state!=="expired"||(_.actor=this.dispatcher.getActor(),_.actor.send("loadDEMTile",Fe,T.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(_){const c=_.canonical,p=Math.pow(2,c.z),T=(c.x-1+p)%p,B=c.x===0?_.wrap-1:_.wrap,W=(c.x+1+p)%p,se=c.x+1===p?_.wrap+1:_.wrap,ue={};return ue[new s.OverscaledTileID(_.overscaledZ,B,c.z,T,c.y).key]={backfilled:!1},ue[new s.OverscaledTileID(_.overscaledZ,se,c.z,W,c.y).key]={backfilled:!1},c.y>0&&(ue[new s.OverscaledTileID(_.overscaledZ,B,c.z,T,c.y-1).key]={backfilled:!1},ue[new s.OverscaledTileID(_.overscaledZ,_.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},ue[new s.OverscaledTileID(_.overscaledZ,se,c.z,W,c.y-1).key]={backfilled:!1}),c.y+1<p&&(ue[new s.OverscaledTileID(_.overscaledZ,B,c.z,T,c.y+1).key]={backfilled:!1},ue[new s.OverscaledTileID(_.overscaledZ,_.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},ue[new s.OverscaledTileID(_.overscaledZ,se,c.z,W,c.y+1).key]={backfilled:!1}),ue}unloadTile(_){_.demTexture&&this.map.painter.saveTileTexture(_.demTexture),_.fbo&&(_.fbo.destroy(),delete _.fbo),_.dem&&delete _.dem,delete _.neighboringTiles,_.state="unloaded"}},geojson:class extends s.Evented{constructor(_,c,p,T){super(),this.id=_,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=p.getActor(),this.setEventedParent(T),this._data=c.data,this._options=s.extend({},c),this._collectResourceTiming=c.collectResourceTiming,c.maxzoom!==void 0&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId;const B=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:(c.buffer!==void 0?c.buffer:128)*B,tolerance:(c.tolerance!==void 0?c.tolerance:.375)*B,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:c.clusterMaxZoom!==void 0?c.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,c.clusterMinPoints||2),extent:s.EXTENT,radius:(c.clusterRadius!==void 0?c.clusterRadius:50)*B,log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter},c.workerOptions)}onAdd(_){this.map=_,this.setData(this._data)}setData(_){return this._data=_,this._updateWorkerData(),this}getClusterExpansionZoom(_,c){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:_,source:this.id},c),this}getClusterChildren(_,c){return this.actor.send("geojson.getClusterChildren",{clusterId:_,source:this.id},c),this}getClusterLeaves(_,c,p,T){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:_,limit:c,offset:p},T),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new s.Event("dataloading",{dataType:"source"})),this._loaded=!1;const _=s.extend({},this.workerOptions),c=this._data;typeof c=="string"?(_.request=this.map._requestManager.transformRequest(s.exported.resolveURL(c),s.ResourceType.Source),_.request.collectResourceTiming=this._collectResourceTiming):_.data=JSON.stringify(c),this._pendingLoad=this.actor.send(`${this.type}.loadData`,_,(p,T)=>{if(this._loaded=!0,this._pendingLoad=null,p)this.fire(new s.ErrorEvent(p));else{const B={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&T&&T.resourceTiming&&T.resourceTiming[this.id]&&(B.resourceTiming=T.resourceTiming[this.id]),this.fire(new s.Event("data",B)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(_,c){const p=_.actor?"reloadTile":"loadTile";_.actor=this.actor,_.request=this.actor.send(p,{type:this.type,uid:_.uid,tileID:_.tileID,tileZoom:_.tileZoom,zoom:_.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(T,B)=>(delete _.request,_.unloadVectorData(),_.aborted?c(null):T?c(T):(_.loadVectorData(B,this.map.painter,p==="reloadTile"),c(null))),void 0,p==="loadTile")}abortTile(_){_.request&&(_.request.cancel(),delete _.request),_.aborted=!0}unloadTile(_){_.unloadVectorData(),this.actor.send("removeTile",{uid:_.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return s.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Dt{constructor(_,c,p,T){super(_,c,p,T),this.roundZoom=!0,this.type="video",this.options=c}load(){this._loaded=!1;const _=this.options;this.urls=[];for(const c of _.urls)this.urls.push(this.map._requestManager.transformRequest(c,s.ResourceType.Source).url);s.getVideo(this.urls,(c,p)=>{this._loaded=!0,c?this.fire(new s.ErrorEvent(c)):p&&(this.video=p,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(_){if(this.video){const c=this.video.seekable;_<c.start(0)||_>c.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))):this.video.currentTime=_}}getVideo(){return this.video}onAdd(_){this.map||(this.map=_,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const _=this.map.painter.context,c=_.gl;this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new s.Texture(_,this.video,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(_)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Dt,canvas:class extends Dt{constructor(_,c,p,T){super(_,c,p,T),c.coordinates?Array.isArray(c.coordinates)&&c.coordinates.length===4&&!c.coordinates.some(B=>!Array.isArray(B)||B.length!==2||B.some(W=>typeof W!="number"))||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'missing required property "coordinates"'))),c.animate&&typeof c.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'optional "animate" property must be a boolean value'))),c.canvas?typeof c.canvas=="string"||c.canvas instanceof s.window.HTMLCanvasElement||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${_}`,null,'missing required property "canvas"'))),this.options=c,this.animate=c.animate===void 0||c.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof s.window.HTMLCanvasElement?this.options.canvas:s.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(_){this.map=_,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let _=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,_=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,_=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const c=this.map.painter.context;this.texture?(_||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new s.Texture(c,this.canvas,c.gl.RGBA,{premultiply:!0}),this._prepareData(c)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const _ of[this.canvas.width,this.canvas.height])if(isNaN(_)||_<=0)return!0;return!1}},custom:class extends s.Evented{constructor(_,c,p,T){super(),this.id=_,this.type="custom",this._dataType="raster",this._dispatcher=p,this._implementation=c,this.setEventedParent(T),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new s.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new s.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new ve(this._implementation.bounds,this.minzoom,this.maxzoom)),c.update=this._update.bind(this),c.clearTiles=this._clearTiles.bind(this),c.coveringTiles=this._coveringTiles.bind(this),s.extend(this,s.pick(c,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return s.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(_){this._map=_,this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(_),this.load()}onRemove(_){this._implementation.onRemove&&this._implementation.onRemove(_)}hasTile(_){if(this._implementation.hasTile){const{x:c,y:p,z:T}=_.canonical;return this._implementation.hasTile({x:c,y:p,z:T})}return!this.tileBounds||this.tileBounds.contains(_.canonical)}loadTile(_,c){const{x:p,y:T,z:B}=_.tileID.canonical,W=new s.window.AbortController;_.request=Promise.resolve(this._implementation.loadTile({x:p,y:T,z:B},{signal:W.signal})).then((function(se){return delete _.request,_.aborted?(_.state="unloaded",c(null)):se===void 0?(_.state="errored",c(null)):se===null?(this.loadTileData(_,{width:this.tileSize,height:this.tileSize,data:null}),_.state="loaded",c(null)):function(ue){return ue instanceof s.window.ImageData||ue instanceof s.window.HTMLCanvasElement||ue instanceof s.window.ImageBitmap||ue instanceof s.window.HTMLImageElement}(se)?(this.loadTileData(_,se),_.state="loaded",void c(null)):(_.state="errored",c(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(se=>{se.code!==20&&(_.state="errored",c(se))}),_.request.cancel=()=>W.abort()}loadTileData(_,c){We.loadTileData(_,c,this._map.painter)}unloadTileData(_){We.unloadTileData(_,this._map.painter)}unloadTile(_,c){if(this.unloadTileData(_),this._implementation.unloadTile){const{x:p,y:T,z:B}=_.tileID.canonical;this._implementation.unloadTile({x:p,y:T,z:B})}c()}abortTile(_,c){_.request&&_.request.cancel&&(_.request.cancel(),delete _.request),c()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(_=>({x:_.canonical.x,y:_.canonical.y,z:_.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Gt=function(_,c,p,T){const B=new Ft[c.type](_,c,p,T);if(B.id!==_)throw new Error(`Expected Source id to be ${_} instead of ${B.id}`);return s.bindAll(["load","abort","unload","serialize","prepare"],B),B};function Lt(_,c){const p=s.identity([]);return s.scale(p,p,[.5*_.width,.5*-_.height,1]),s.translate(p,p,[1,-1,0]),s.multiply(p,p,_.calculateProjMatrix(c.toUnwrapped())),Float32Array.from(p)}function Xt(_,c,p,T,B,W,se,ue=!1){const me=_.tilesIn(T,se,ue);me.sort(qi);const De=[];for(const Fe of me)De.push({wrappedTileID:Fe.tile.tileID.wrapped().key,queryResults:Fe.tile.queryRenderedFeatures(c,p,_._state,Fe,B,W,Lt(_.transform,Fe.tile.tileID),ue)});const Ae=function(Fe){const qe={},ot={};for(const at of Fe){const dt=at.queryResults,Ke=at.wrappedTileID,tt=ot[Ke]=ot[Ke]||{};for(const pt in dt){const lt=dt[pt],xt=tt[pt]=tt[pt]||{},At=qe[pt]=qe[pt]||[];for(const Tt of lt)xt[Tt.featureIndex]||(xt[Tt.featureIndex]=!0,At.push(Tt))}}return qe}(De);for(const Fe in Ae)Ae[Fe].forEach(qe=>{const ot=qe.feature,at=ot.layer;at&&at.type!=="background"&&at.type!=="sky"&&(ot.source=at.source,at["source-layer"]&&(ot.sourceLayer=at["source-layer"]),ot.state=ot.id!==void 0?_.getFeatureState(at["source-layer"],ot.id):{})});return Ae}function _i(_,c){const p=_.getRenderableIds().map(W=>_.getTileByID(W)),T=[],B={};for(let W=0;W<p.length;W++){const se=p[W],ue=se.tileID.canonical.key;B[ue]||(B[ue]=!0,se.querySourceFeatures(T,c))}return T}function qi(_,c){const p=_.tileID,T=c.tileID;return p.overscaledZ-T.overscaledZ||p.canonical.y-T.canonical.y||p.wrap-T.wrap||p.canonical.x-T.canonical.x}function Pi(){return au.workerClass!=null?new au.workerClass:new s.window.Worker(au.workerUrl)}const Mn="mapboxgl_preloaded_worker_pool";class Cn{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<Cn.workerCount;)this.workers.push(new Pi);return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Mn]}numActive(){return Object.keys(this.active).length}}let un;function Gi(){return un||(un=new Cn),un}function lr(_,c){const p={};for(const T in _)T!=="ref"&&(p[T]=_[T]);return s.refProperties.forEach(T=>{T in c&&(p[T]=c[T])}),p}function kr(_){_=_.slice();const c=Object.create(null);for(let p=0;p<_.length;p++)c[_[p].id]=_[p];for(let p=0;p<_.length;p++)"ref"in _[p]&&(_[p]=lr(_[p],c[_[p].ref]));return _}Cn.workerCount=2;const _n={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Hr(_,c,p){p.push({command:_n.addSource,args:[_,c[_]]})}function Lr(_,c,p){c.push({command:_n.removeSource,args:[_]}),p[_]=!0}function Ua(_,c,p,T){Lr(_,p,T),Hr(_,c,p)}function $a(_,c,p){let T;for(T in _[p])if(_[p].hasOwnProperty(T)&&T!=="data"&&!b(_[p][T],c[p][T]))return!1;for(T in c[p])if(c[p].hasOwnProperty(T)&&T!=="data"&&!b(_[p][T],c[p][T]))return!1;return!0}function mo(_,c,p,T,B,W){let se;for(se in c=c||{},_=_||{})_.hasOwnProperty(se)&&(b(_[se],c[se])||p.push({command:W,args:[T,se,c[se],B]}));for(se in c)c.hasOwnProperty(se)&&!_.hasOwnProperty(se)&&(b(_[se],c[se])||p.push({command:W,args:[T,se,c[se],B]}))}function hi(_){return _.id}function hs(_,c){return _[c.id]=c,_}class Ls{constructor(c,p){this.reset(c,p)}reset(c,p){this.points=c||[],this._distances=[0];for(let T=1;T<this.points.length;T++)this._distances[T]=this._distances[T-1]+this.points[T].dist(this.points[T-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=s.clamp(c,0,1);let p=1,T=this._distances[p];const B=c*this.paddedLength+this.padding;for(;T<B&&p<this._distances.length;)T=this._distances[++p];const W=p-1,se=this._distances[W],ue=T-se,me=ue>0?(B-se)/ue:0;return this.points[W].mult(1-me).add(this.points[p].mult(me))}}class Os{constructor(c,p,T){const B=this.boxCells=[],W=this.circleCells=[];this.xCellCount=Math.ceil(c/T),this.yCellCount=Math.ceil(p/T);for(let se=0;se<this.xCellCount*this.yCellCount;se++)B.push([]),W.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,p,T,B,W){this._forEachCell(p,T,B,W,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(T),this.bboxes.push(B),this.bboxes.push(W)}insertCircle(c,p,T,B){this._forEachCell(p-B,T-B,p+B,T+B,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(T),this.circles.push(B)}_insertBoxCell(c,p,T,B,W,se){this.boxCells[W].push(se)}_insertCircleCell(c,p,T,B,W,se){this.circleCells[W].push(se)}_query(c,p,T,B,W,se){if(T<0||c>this.width||B<0||p>this.height)return!W&&[];const ue=[];if(c<=0&&p<=0&&this.width<=T&&this.height<=B){if(W)return!0;for(let me=0;me<this.boxKeys.length;me++)ue.push({key:this.boxKeys[me],x1:this.bboxes[4*me],y1:this.bboxes[4*me+1],x2:this.bboxes[4*me+2],y2:this.bboxes[4*me+3]});for(let me=0;me<this.circleKeys.length;me++){const De=this.circles[3*me],Ae=this.circles[3*me+1],Fe=this.circles[3*me+2];ue.push({key:this.circleKeys[me],x1:De-Fe,y1:Ae-Fe,x2:De+Fe,y2:Ae+Fe})}return se?ue.filter(se):ue}return this._forEachCell(c,p,T,B,this._queryCell,ue,{hitTest:W,seenUids:{box:{},circle:{}}},se),W?ue.length>0:ue}_queryCircle(c,p,T,B,W){const se=c-T,ue=c+T,me=p-T,De=p+T;if(ue<0||se>this.width||De<0||me>this.height)return!B&&[];const Ae=[];return this._forEachCell(se,me,ue,De,this._queryCellCircle,Ae,{hitTest:B,circle:{x:c,y:p,radius:T},seenUids:{box:{},circle:{}}},W),B?Ae.length>0:Ae}query(c,p,T,B,W){return this._query(c,p,T,B,!1,W)}hitTest(c,p,T,B,W){return this._query(c,p,T,B,!0,W)}hitTestCircle(c,p,T,B){return this._queryCircle(c,p,T,!0,B)}_queryCell(c,p,T,B,W,se,ue,me){const De=ue.seenUids,Ae=this.boxCells[W];if(Ae!==null){const qe=this.bboxes;for(const ot of Ae)if(!De.box[ot]){De.box[ot]=!0;const at=4*ot;if(c<=qe[at+2]&&p<=qe[at+3]&&T>=qe[at+0]&&B>=qe[at+1]&&(!me||me(this.boxKeys[ot]))){if(ue.hitTest)return se.push(!0),!0;se.push({key:this.boxKeys[ot],x1:qe[at],y1:qe[at+1],x2:qe[at+2],y2:qe[at+3]})}}}const Fe=this.circleCells[W];if(Fe!==null){const qe=this.circles;for(const ot of Fe)if(!De.circle[ot]){De.circle[ot]=!0;const at=3*ot;if(this._circleAndRectCollide(qe[at],qe[at+1],qe[at+2],c,p,T,B)&&(!me||me(this.circleKeys[ot]))){if(ue.hitTest)return se.push(!0),!0;{const dt=qe[at],Ke=qe[at+1],tt=qe[at+2];se.push({key:this.circleKeys[ot],x1:dt-tt,y1:Ke-tt,x2:dt+tt,y2:Ke+tt})}}}}}_queryCellCircle(c,p,T,B,W,se,ue,me){const De=ue.circle,Ae=ue.seenUids,Fe=this.boxCells[W];if(Fe!==null){const ot=this.bboxes;for(const at of Fe)if(!Ae.box[at]){Ae.box[at]=!0;const dt=4*at;if(this._circleAndRectCollide(De.x,De.y,De.radius,ot[dt+0],ot[dt+1],ot[dt+2],ot[dt+3])&&(!me||me(this.boxKeys[at])))return se.push(!0),!0}}const qe=this.circleCells[W];if(qe!==null){const ot=this.circles;for(const at of qe)if(!Ae.circle[at]){Ae.circle[at]=!0;const dt=3*at;if(this._circlesCollide(ot[dt],ot[dt+1],ot[dt+2],De.x,De.y,De.radius)&&(!me||me(this.circleKeys[at])))return se.push(!0),!0}}}_forEachCell(c,p,T,B,W,se,ue,me){const De=this._convertToXCellCoord(c),Ae=this._convertToYCellCoord(p),Fe=this._convertToXCellCoord(T),qe=this._convertToYCellCoord(B);for(let ot=De;ot<=Fe;ot++)for(let at=Ae;at<=qe;at++)if(W.call(this,c,p,T,B,this.xCellCount*at+ot,se,ue,me))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,p,T,B,W,se){const ue=B-c,me=W-p,De=T+se;return De*De>ue*ue+me*me}_circleAndRectCollide(c,p,T,B,W,se,ue){const me=(se-B)/2,De=Math.abs(c-(B+me));if(De>me+T)return!1;const Ae=(ue-W)/2,Fe=Math.abs(p-(W+Ae));if(Fe>Ae+T)return!1;if(De<=me||Fe<=Ae)return!0;const qe=De-me,ot=Fe-Ae;return qe*qe+ot*ot<=T*T}}const xc=Math.tan(85*Math.PI/180);function ko(_,c,p,T,B,W,se){const ue=s.create();if(p)if(W.name==="globe"){const me=s.calculateGlobeLabelMatrix(B,c);s.multiply(ue,ue,me)}else{const me=$([],se);ue[0]=me[0],ue[1]=me[1],ue[4]=me[2],ue[5]=me[3],T||s.rotateZ(ue,ue,B.angle)}else s.multiply(ue,B.labelPlaneMatrix,_);return ue}function Hc(_,c,p,T,B,W,se){const ue=ko(_,c,p,T,B,W,se);return W.name==="globe"&&p||(ue[2]=ue[6]=ue[10]=ue[14]=0),ue}function tu(_,c,p,T,B,W,se){if(p){if(W.name==="globe"){const ue=ko(_,c,p,T,B,W,se);return s.invert(ue,ue),s.multiply(ue,_,ue),ue}{const ue=s.clone(_),me=s.identity([]);return me[0]=se[0],me[1]=se[1],me[4]=se[2],me[5]=se[3],s.multiply(ue,ue,me),T||s.rotateZ(ue,ue,-B.angle),ue}}return B.glCoordMatrix}function ao(_,c,p,T){const B=[_,c,p,1];p?s.transformMat4$1(B,B,T):Vr(B,B,T);const W=B[3];return B[0]/=W,B[1]/=W,B[2]/=W,B}function Xi(_,c){return Math.min(.5+_/c*.5,1.5)}function tr(_,c){const p=_[0]/_[3],T=_[1]/_[3];return p>=-c[0]&&p<=c[0]&&T>=-c[1]&&T<=c[1]}function cr(_,c,p,T,B,W,se,ue,me,De){const Ae=p.transform,Fe=T?_.textSizeData:_.iconSizeData,qe=s.evaluateSizeForZoom(Fe,p.transform.zoom),ot=Ae.projection.name==="globe",at=[256/p.width*2+1,256/p.height*2+1],dt=T?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;dt.clear();let Ke=null;ot&&(Ke=T?_.text.globeExtVertexArray:_.icon.globeExtVertexArray);const tt=_.lineVertexArray,pt=T?_.text.placedSymbolArray:_.icon.placedSymbolArray,lt=p.transform.width/p.transform.height;let xt,At=!1;for(let Tt=0;Tt<pt.length;Tt++){const zt=pt.get(Tt),{numGlyphs:ei,writingMode:Kt}=zt;if(Kt!==s.WritingMode.vertical||At||xt===s.WritingMode.horizontal||(At=!0),xt=Kt,(zt.hidden||Kt===s.WritingMode.vertical)&&!At){Zs(ei,dt);continue}At=!1;const Vt=new s.pointGeometry(zt.tileAnchorX,zt.tileAnchorY);let{x:Ei,y:qt,z:mi}=Ae.projection.projectTilePoint(Vt.x,Vt.y,De.canonical);if(me){const[Sn,gn,jn]=me(Vt);Ei+=Sn,qt+=gn,mi+=jn}const ni=[Ei,qt,mi,1];if(s.transformMat4$1(ni,ni,c),!tr(ni,at)){Zs(ei,dt);continue}const Oi=Xi(p.transform.cameraToCenterDistance,ni[3]),ri=s.evaluateSizeForFeature(Fe,qe,zt),wi=se?ri/Oi:ri*Oi,zi=ao(Ei,qt,mi,B);if(zi[3]<=0){Zs(ei,dt);continue}let Ht={};const ii=se?null:me,mn=Nn(zt,wi,!1,ue,c,B,W,_.glyphOffsetArray,tt,dt,Ke,zi,Vt,Ht,lt,ii,Ae.projection,De,se);At=mn.useVertical,ii&&mn.needsFlipping&&(Ht={}),(mn.notEnoughRoom||At||mn.needsFlipping&&Nn(zt,wi,!0,ue,c,B,W,_.glyphOffsetArray,tt,dt,Ke,zi,Vt,Ht,lt,ii,Ae.projection,De,se).notEnoughRoom)&&Zs(ei,dt)}T?(_.text.dynamicLayoutVertexBuffer.updateData(dt),Ke&&_.text.globeExtVertexBuffer.updateData(Ke)):(_.icon.dynamicLayoutVertexBuffer.updateData(dt),Ke&&_.icon.globeExtVertexBuffer.updateData(Ke))}function Jo(_,c,p,T,B,W,se,ue,me,De,Ae,Fe,qe,ot,at,dt){const{lineStartIndex:Ke,glyphStartIndex:tt,segment:pt}=ue,lt=tt+ue.numGlyphs,xt=Ke+ue.lineLength,At=c.getoffsetX(tt),Tt=c.getoffsetX(lt-1),zt=nl(_*At,p,T,B,W,se,pt,Ke,xt,me,De,Ae,Fe,qe,!0,ot,at,dt);if(!zt)return null;const ei=nl(_*Tt,p,T,B,W,se,pt,Ke,xt,me,De,Ae,Fe,qe,!0,ot,at,dt);return ei?{first:zt,last:ei}:null}function Va(_,c,p,T){return _===s.WritingMode.horizontal&&Math.abs(T)>Math.abs(p)?{useVertical:!0}:_===s.WritingMode.vertical?T>0?{needsFlipping:!0}:null:c!==0&&function(B,W){return B===0||Math.abs(W/B)>xc}(p,T)?c===1?{needsFlipping:!0}:null:p<0?{needsFlipping:!0}:null}function Nn(_,c,p,T,B,W,se,ue,me,De,Ae,Fe,qe,ot,at,dt,Ke,tt,pt){const lt=c/24,xt=_.lineOffsetX*lt,At=_.lineOffsetY*lt,{lineStartIndex:Tt,glyphStartIndex:zt,numGlyphs:ei,segment:Kt,writingMode:Vt,flipState:Ei}=_,qt=Tt+_.lineLength,mi=ni=>{if(Ae){const[zi,Ht,ii]=ni.up,mn=De.length;s.updateGlobeVertexNormal(Ae,mn+0,zi,Ht,ii),s.updateGlobeVertexNormal(Ae,mn+1,zi,Ht,ii),s.updateGlobeVertexNormal(Ae,mn+2,zi,Ht,ii),s.updateGlobeVertexNormal(Ae,mn+3,zi,Ht,ii)}const[Oi,ri,wi]=ni.point;s.addDynamicAttributes(De,Oi,ri,wi,ni.angle)};if(ei>1){const ni=Jo(lt,ue,xt,At,p,Fe,qe,_,me,W,ot,dt,!1,Ke,tt,pt);if(!ni)return{notEnoughRoom:!0};if(T&&!p){let[Oi,ri,wi]=ni.first.point,[zi,Ht,ii]=ni.last.point;[Oi,ri]=ao(Oi,ri,wi,se),[zi,Ht]=ao(zi,Ht,ii,se);const mn=Va(Vt,Ei,(zi-Oi)*at,Ht-ri);if(_.flipState=mn&&mn.needsFlipping?1:2,mn)return mn}mi(ni.first);for(let Oi=zt+1;Oi<zt+ei-1;Oi++){const ri=nl(lt*ue.getoffsetX(Oi),xt,At,p,Fe,qe,Kt,Tt,qt,me,W,ot,dt,!1,!1,Ke,tt,pt);if(!ri)return De.length-=4*(Oi-zt),{notEnoughRoom:!0};mi(ri)}mi(ni.last)}else{if(T&&!p){const Oi=ao(qe.x,qe.y,0,B),ri=Tt+Kt+1,wi=new s.pointGeometry(me.getx(ri),me.gety(ri)),zi=ao(wi.x,wi.y,0,B),Ht=zi[3]>0?zi:Ca(qe,wi,Oi,1,B,void 0,Ke,tt.canonical),ii=Va(Vt,Ei,(Ht[0]-Oi[0])*at,Ht[1]-Oi[1]);if(_.flipState=ii&&ii.needsFlipping?1:2,ii)return ii}const ni=nl(lt*ue.getoffsetX(zt),xt,At,p,Fe,qe,Kt,Tt,qt,me,W,ot,dt,!1,!1,Ke,tt,pt);if(!ni)return{notEnoughRoom:!0};mi(ni)}return{}}function bc(_,c,p,T,B){const{x:W,y:se,z:ue}=T.projectTilePoint(_.x,_.y,c);if(!B)return ao(W,se,ue,p);const[me,De,Ae]=B(_);return ao(W+me,se+De,ue+Ae,p)}function Ca(_,c,p,T,B,W,se,ue){const me=bc(_.sub(c)._unit()._add(_),ue,B,se,W);return s.sub(me,p,me),s.normalize(me,me),s.scaleAndAdd(me,p,me,T)}function nl(_,c,p,T,B,W,se,ue,me,De,Ae,Fe,qe,ot,at,dt,Ke,tt){const pt=T?_-c:_+c;let lt=pt>0?1:-1,xt=0;T&&(lt*=-1,xt=Math.PI),lt<0&&(xt+=Math.PI);let At=ue+se+(lt>0?0:1)|0,Tt=B,zt=B,ei=0,Kt=0;const Vt=Math.abs(pt),Ei=[],qt=[];let mi=W,ni=mi;const Oi=()=>Ca(ni,mi,zt,Vt-ei+1,Ae,qe,dt,Ke.canonical);for(;ei+Kt<=Vt;){if(At+=lt,At<ue||At>=me)return null;if(zt=Tt,ni=mi,Ei.push(zt),ot&&qt.push(ni),mi=new s.pointGeometry(De.getx(At),De.gety(At)),Tt=Fe[At],!Tt){const jn=bc(mi,Ke.canonical,Ae,dt,qe);Tt=jn[3]>0?Fe[At]=jn:Oi()}ei+=Kt,Kt=s.distance(zt,Tt)}at&&qe&&(Fe[At]&&(Tt=Oi(),Kt=s.distance(zt,Tt)),Fe[At]=Tt);const ri=(Vt-ei)/Kt,wi=mi.sub(ni)._mult(ri)._add(ni),zi=s.sub([],Tt,zt),Ht=s.scaleAndAdd([],zt,zi,ri);let ii=[0,0,1],mn=zi[0],Sn=zi[1];if(tt&&(ii=dt.upVector(Ke.canonical,wi.x,wi.y),ii[0]!==0||ii[1]!==0||ii[2]!==1)){const jn=[ii[2],0,-ii[0]],or=s.cross([],ii,jn);s.normalize(jn,jn),s.normalize(or,or),mn=s.dot(zi,jn),Sn=s.dot(zi,or)}if(p){const jn=s.cross([],ii,zi);s.normalize(jn,jn),s.scaleAndAdd(Ht,Ht,jn,p*lt)}const gn=xt+Math.atan2(Sn,mn);return Ei.push(Ht),ot&&qt.push(wi),{point:Ht,angle:gn,path:Ei,tilePath:qt,up:ii}}function Zs(_,c){const p=c.length,T=p+4*_;c.resize(T),c.float32.fill(-1/0,4*p,4*T)}function Vr(_,c,p){const T=c[0],B=c[1];return _[0]=p[0]*T+p[4]*B+p[12],_[1]=p[1]*T+p[5]*B+p[13],_[3]=p[3]*T+p[7]*B+p[15],_}const lo=100;class Uo{constructor(c,p,T=new Os(c.width+200,c.height+200,25),B=new Os(c.width+200,c.height+200,25)){this.transform=c,this.grid=T,this.ignoredGrid=B,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+lo,this.screenBottomBoundary=c.height+lo,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.fogState=p}placeCollisionBox(c,p,T,B,W,se,ue,me){let De=T.projectedAnchorX,Ae=T.projectedAnchorY,Fe=T.projectedAnchorZ;const qe=T.elevation,ot=T.tileID,at=c.getProjection();if(qe&&ot){const[Tt,zt,ei]=at.upVector(ot.canonical,T.tileAnchorX,T.tileAnchorY),Kt=at.upVectorScale(ot.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;De+=Tt*qe*Kt,Ae+=zt*qe*Kt,Fe+=ei*qe*Kt}const dt=this.projectAndGetPerspectiveRatio(ue,De,Ae,Fe,T.tileID,at.name==="globe"||!!qe||this.transform.pitch>0,at),Ke=se*dt.perspectiveRatio,tt=(T.x1*p+B.x-T.padding)*Ke+dt.point.x,pt=(T.y1*p+B.y-T.padding)*Ke+dt.point.y,lt=(T.x2*p+B.x+T.padding)*Ke+dt.point.x,xt=(T.y2*p+B.y+T.padding)*Ke+dt.point.y,At=dt.perspectiveRatio<=.55||dt.occluded;return!this.isInsideGrid(tt,pt,lt,xt)||!W&&this.grid.hitTest(tt,pt,lt,xt,me)||At?{box:[],offscreen:!1,occluded:dt.occluded}:{box:[tt,pt,lt,xt],offscreen:this.isOffscreen(tt,pt,lt,xt),occluded:!1}}placeCollisionCircles(c,p,T,B,W,se,ue,me,De,Ae,Fe,qe,ot,at,dt){const Ke=[],tt=this.transform.elevation,pt=c.getProjection(),lt=tt?tt.getAtTileOffsetFunc(dt,this.transform.center.lat,this.transform.worldSize,pt):null,xt=new s.pointGeometry(T.tileAnchorX,T.tileAnchorY);let{x:At,y:Tt,z:zt}=pt.projectTilePoint(xt.x,xt.y,dt.canonical);if(lt){const[wi,zi,Ht]=lt(xt);At+=wi,Tt+=zi,zt+=Ht}const ei=pt.name==="globe",Kt=this.projectAndGetPerspectiveRatio(ue,At,Tt,zt,dt,ei||!!tt||this.transform.pitch>0,pt),{perspectiveRatio:Vt}=Kt,Ei=(Fe?se/Vt:se*Vt)/s.ONE_EM,qt=ao(At,Tt,zt,me),mi=Kt.signedDistanceFromCamera>0?Jo(Ei,W,T.lineOffsetX*Ei,T.lineOffsetY*Ei,!1,qt,xt,T,B,me,{},tt&&!Fe?lt:null,Fe&&!!tt,pt,dt,Fe):null;let ni=!1,Oi=!1,ri=!0;if(mi&&!Kt.occluded){const wi=.5*ot*Vt+at,zi=new s.pointGeometry(-100,-100),Ht=new s.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),ii=new Ls,{first:mn,last:Sn}=mi,gn=mn.path.length;let jn=[];for(let an=gn-1;an>=1;an--)jn.push(mn.path[an]);for(let an=1;an<Sn.path.length;an++)jn.push(Sn.path[an]);const or=2.5*wi;De&&(jn=jn.map(([an,is,Gr],rs)=>(lt&&!ei&&(Gr=lt(rs<gn-1?mn.tilePath[gn-1-rs]:Sn.tilePath[rs-gn+2])[2]),ao(an,is,Gr,De))),jn.some(an=>an[3]<=0)&&(jn=[]));let kn=[];if(jn.length>0){let an=1/0,is=-1/0,Gr=1/0,rs=-1/0;for(const es of jn)an=Math.min(an,es[0]),Gr=Math.min(Gr,es[1]),is=Math.max(is,es[0]),rs=Math.max(rs,es[1]);is>=zi.x&&an<=Ht.x&&rs>=zi.y&&Gr<=Ht.y&&(kn=[jn.map(es=>new s.pointGeometry(es[0],es[1]))],(an<zi.x||is>Ht.x||Gr<zi.y||rs>Ht.y)&&(kn=s.clipLine(kn,zi.x,zi.y,Ht.x,Ht.y)))}for(const an of kn){ii.reset(an,.25*wi);let is=0;is=ii.length<=.5*wi?1:Math.ceil(ii.paddedLength/or)+1;for(let Gr=0;Gr<is;Gr++){const rs=Gr/Math.max(is-1,1),es=ii.lerp(rs),Wa=es.x+lo,ka=es.y+lo;Ke.push(Wa,ka,wi,0);const _a=Wa-wi,sc=ka-wi,ms=Wa+wi,ts=ka+wi;if(ri=ri&&this.isOffscreen(_a,sc,ms,ts),Oi=Oi||this.isInsideGrid(_a,sc,ms,ts),!p&&this.grid.hitTestCircle(Wa,ka,wi,qe)&&(ni=!0,!Ae))return{circles:[],offscreen:!1,collisionDetected:ni,occluded:!1}}}}return{circles:!Ae&&ni||!Oi?[]:Ke,offscreen:ri,collisionDetected:ni,occluded:Kt.occluded}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let T=1/0,B=1/0,W=-1/0,se=-1/0;for(const Ae of c){const Fe=new s.pointGeometry(Ae.x+lo,Ae.y+lo);T=Math.min(T,Fe.x),B=Math.min(B,Fe.y),W=Math.max(W,Fe.x),se=Math.max(se,Fe.y),p.push(Fe)}const ue=this.grid.query(T,B,W,se).concat(this.ignoredGrid.query(T,B,W,se)),me={},De={};for(const Ae of ue){const Fe=Ae.key;if(me[Fe.bucketInstanceId]===void 0&&(me[Fe.bucketInstanceId]={}),me[Fe.bucketInstanceId][Fe.featureIndex])continue;const qe=[new s.pointGeometry(Ae.x1,Ae.y1),new s.pointGeometry(Ae.x2,Ae.y1),new s.pointGeometry(Ae.x2,Ae.y2),new s.pointGeometry(Ae.x1,Ae.y2)];s.polygonIntersectsPolygon(p,qe)&&(me[Fe.bucketInstanceId][Fe.featureIndex]=!0,De[Fe.bucketInstanceId]===void 0&&(De[Fe.bucketInstanceId]=[]),De[Fe.bucketInstanceId].push(Fe.featureIndex))}return De}insertCollisionBox(c,p,T,B,W){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:T,featureIndex:B,collisionGroupID:W},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,p,T,B,W){const se=p?this.ignoredGrid:this.grid,ue={bucketInstanceId:T,featureIndex:B,collisionGroupID:W};for(let me=0;me<c.length;me+=4)se.insertCircle(ue,c[me],c[me+1],c[me+2])}projectAndGetPerspectiveRatio(c,p,T,B,W,se,ue){const me=[p,T,B,1];let De=!1;if(B||this.transform.pitch>0){s.transformMat4$1(me,me,c);const Fe=ue.name==="globe";this.fogState&&W&&!Fe&&(De=function(ot,at,dt,Ke,tt,pt){const lt=pt.calculateFogTileMatrix(tt),xt=[at,dt,Ke];return s.transformMat4(xt,xt,lt),q(ot,xt,pt.pitch,pt._fov)}(this.fogState,p,T,B,W.toUnwrapped(),this.transform)>.9)}else Vr(me,me,c);const Ae=me[3];return{point:new s.pointGeometry((me[0]/Ae+1)/2*this.transform.width+lo,(-me[1]/Ae+1)/2*this.transform.height+lo),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(ue)/Ae*.5,1.5),signedDistanceFromCamera:Ae,occluded:se&&me[2]>Ae||De}}isOffscreen(c,p,T,B){return T<lo||c>=this.screenRightBoundary||B<lo||p>this.screenBottomBoundary}isInsideGrid(c,p,T,B){return T>=0&&c<this.gridRightBoundary&&B>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const c=s.identity([]);return s.translate(c,c,[-100,-100,0]),c}}function Gl(_,c,p){const T=c.createTileMatrix(_,_.worldSize,p.toUnwrapped());return s.multiply(new Float32Array(16),_.projMatrix,T)}function pa(_,c,p){if(c.projection.name===p.projection.name)return _.projMatrix;const T=p.clone();return T.setProjection(c.projection),Gl(T,c.getProjection(),_)}function yl(_,c,p){return c.name===p.projection.name?_.projMatrix:Gl(p,c,_)}class _l{constructor(c,p,T,B){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):B&&T?1:0,this.placed=T}isHidden(){return this.opacity===0&&!this.placed}}class rl{constructor(c,p,T,B,W,se=!1){this.text=new _l(c?c.text:null,p,T,W),this.icon=new _l(c?c.icon:null,p,B,W),this.clipped=se}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class vl{constructor(c,p,T,B=!1){this.text=c,this.icon=p,this.skipFade=T,this.clipped=B}}class Yc{constructor(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]}}class qc{constructor(c,p,T,B,W){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=T,this.bucketIndex=B,this.tileID=W}}class Ro{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:T=>T.collisionGroupID===p}}return this.collisionGroups[c]}}function As(_,c,p,T,B){const{horizontalAlign:W,verticalAlign:se}=s.getAnchorAlignment(_),ue=-(W-.5)*c,me=-(se-.5)*p,De=s.evaluateVariableOffset(_,T);return new s.pointGeometry(ue+De[0]*B,me+De[1]*B)}function Wl(_,c,p,T,B){const W=new s.pointGeometry(_,c);return p&&W._rotate(T?B:-B),W}class sl{constructor(c,p,T,B,W){this.transform=c.clone(),this.projection=c.projection.name,this.collisionIndex=new Uo(this.transform,W),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=p,this.retainedQueryData={},this.collisionGroups=new Ro(T),this.collisionCircleArrays={},this.prevPlacement=B,B&&(B.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,p,T,B){const W=T.getBucket(p),se=T.latestFeatureIndex;if(!W||!se||p.id!==W.layerIds[0])return;const ue=W.layers[0].layout,me=T.collisionBoxArray,De=Math.pow(2,this.transform.zoom-T.tileID.overscaledZ),Ae=T.tileSize/s.EXTENT,Fe=T.tileID.toUnwrapped();this.transform.setProjection(W.projection);const qe=(ot=T.tileID,at=W.getProjection(),dt=this.transform,at.name===this.projection?dt.calculateProjMatrix(ot.toUnwrapped()):Gl(dt,at,ot));var ot,at,dt;const Ke=ue.get("text-pitch-alignment")==="map",tt=ue.get("text-rotation-alignment")==="map";p.compileFilter();const pt=p.dynamicFilter(),lt=p.dynamicFilterNeedsFeature(),xt=this.transform.calculatePixelsToTileUnitsMatrix(T),At=Hc(qe,T.tileID.canonical,Ke,tt,this.transform,W.getProjection(),xt);let Tt=null;if(Ke){const Kt=tu(qe,T.tileID.canonical,Ke,tt,this.transform,W.getProjection(),xt);Tt=s.multiply([],this.transform.labelPlaneMatrix,Kt)}let zt=null;pt&&T.latestFeatureIndex&&(zt={unwrappedTileID:Fe,dynamicFilter:pt,dynamicFilterNeedsFeature:lt,featureIndex:T.latestFeatureIndex}),this.retainedQueryData[W.bucketInstanceId]=new qc(W.bucketInstanceId,se,W.sourceLayerIndex,W.index,T.tileID);const ei={bucket:W,layout:ue,posMatrix:qe,textLabelPlaneMatrix:At,labelToScreenMatrix:Tt,clippingData:zt,scale:De,textPixelRatio:Ae,holdingForFade:T.holdingForFade(),collisionBoxArray:me,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(W.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:s.evaluateSizeForZoom(W.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(W.sourceID)};if(B)for(const Kt of W.sortKeyRanges){const{sortKey:Vt,symbolInstanceStart:Ei,symbolInstanceEnd:qt}=Kt;c.push({sortKey:Vt,symbolInstanceStart:Ei,symbolInstanceEnd:qt,parameters:ei})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:W.symbolInstances.length,parameters:ei})}attemptAnchorPlacement(c,p,T,B,W,se,ue,me,De,Ae,Fe,qe,ot,at,dt,Ke,tt,pt){const{textOffset0:lt,textOffset1:xt,crossTileID:At}=qe,Tt=[lt,xt],zt=As(c,T,B,Tt,W),ei=this.collisionIndex.placeCollisionBox(at,W,p,Wl(zt.x,zt.y,se,ue,this.transform.angle),Fe,me,De,Ae.predicate);if(Ke){const Kt=at.getSymbolInstanceIconSize(pt,this.transform.zoom,qe.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(at,Kt,Ke,Wl(zt.x,zt.y,se,ue,this.transform.angle),Fe,me,De,Ae.predicate).box.length===0)return}if(ei.box.length>0){let Kt;return this.prevPlacement&&this.prevPlacement.variableOffsets[At]&&this.prevPlacement.placements[At]&&this.prevPlacement.placements[At].text&&(Kt=this.prevPlacement.variableOffsets[At].anchor),this.variableOffsets[At]={textOffset:Tt,width:T,height:B,anchor:c,textScale:W,prevAnchor:Kt},this.markUsedJustification(at,c,qe,dt),at.allowVerticalPlacement&&(this.markUsedOrientation(at,dt,qe),this.placedOrientations[At]=dt),{shift:zt,placedGlyphBoxes:ei}}}placeLayerBucketPart(c,p,T,B){const{bucket:W,layout:se,posMatrix:ue,textLabelPlaneMatrix:me,labelToScreenMatrix:De,clippingData:Ae,textPixelRatio:Fe,holdingForFade:qe,collisionBoxArray:ot,partiallyEvaluatedTextSize:at,partiallyEvaluatedIconSize:dt,collisionGroup:Ke}=c.parameters,tt=se.get("text-optional"),pt=se.get("icon-optional"),lt=se.get("text-allow-overlap"),xt=se.get("icon-allow-overlap"),At=se.get("text-rotation-alignment")==="map",Tt=se.get("text-pitch-alignment")==="map",zt=se.get("icon-text-fit")!=="none",ei=se.get("symbol-z-order")==="viewport-y";this.transform.setProjection(W.projection);let Kt=lt&&(xt||!W.hasIconData()||pt),Vt=xt&&(lt||!W.hasTextData()||tt);!W.collisionArrays&&ot&&W.deserializeCollisionBoxes(ot),T&&B&&W.updateCollisionDebugBuffers(this.transform.zoom,ot);const Ei=(qt,mi,ni)=>{const{crossTileID:Oi,numVerticalGlyphVertices:ri}=qt;if(Ae){const ms={zoom:this.transform.zoom,pitch:this.transform.pitch};let ts=null;if(Ae.dynamicFilterNeedsFeature){const Ur=this.retainedQueryData[W.bucketInstanceId];ts=Ae.featureIndex.loadFeature({featureIndex:qt.featureIndex,bucketIndex:Ur.bucketIndex,sourceLayerIndex:Ur.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,Ae.dynamicFilter)(ms,ts,this.retainedQueryData[W.bucketInstanceId].tileID.canonical,new s.pointGeometry(qt.tileAnchorX,qt.tileAnchorY),this.transform.calculateDistanceTileData(Ae.unwrappedTileID)))return this.placements[Oi]=new vl(!1,!1,!1,!0),void(p[Oi]=!0)}if(p[Oi])return;if(qe)return void(this.placements[Oi]=new vl(!1,!1,!1));let wi=!1,zi=!1,Ht=!0,ii=!1,mn=!1,Sn=null,gn={box:null,offscreen:null,occluded:null},jn={box:null,offscreen:null,occluded:null},or=null,kn=null,an=null,is=0,Gr=0,rs=0;ni.textFeatureIndex?is=ni.textFeatureIndex:qt.useRuntimeCollisionCircles&&(is=qt.featureIndex),ni.verticalTextFeatureIndex&&(Gr=ni.verticalTextFeatureIndex);const es=ms=>{ms.tileID=this.retainedQueryData[W.bucketInstanceId].tileID;const ts=this.transform.elevation;(ts||ms.elevation)&&(ms.elevation=ts?ts.getAtTileOffset(ms.tileID,ms.tileAnchorX,ms.tileAnchorY):0)},Wa=ni.textBox;if(Wa){es(Wa);const ms=Ur=>{let no=s.WritingMode.horizontal;if(W.allowVerticalPlacement&&!Ur&&this.prevPlacement){const ra=this.prevPlacement.placedOrientations[Oi];ra&&(this.placedOrientations[Oi]=ra,no=ra,this.markUsedOrientation(W,no,qt))}return no},ts=(Ur,no)=>{if(W.allowVerticalPlacement&&ri>0&&ni.verticalTextBox){for(const ra of W.writingModes)if(ra===s.WritingMode.vertical?(gn=no(),jn=gn):gn=Ur(),gn&&gn.box&&gn.box.length)break}else gn=Ur()};if(se.get("text-variable-anchor")){let Ur=se.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Oi]){const gs=this.prevPlacement.variableOffsets[Oi];Ur.indexOf(gs.anchor)>0&&(Ur=Ur.filter(va=>va!==gs.anchor),Ur.unshift(gs.anchor))}const no=(gs,va,Th)=>{const oc=W.getSymbolInstanceTextSize(at,qt,this.transform.zoom,mi),sa=(gs.x2-gs.x1)*oc+2*gs.padding,Ha=(gs.y2-gs.y1)*oc+2*gs.padding,Ac=zt&&!xt?va:null;Ac&&es(Ac);let Cl={box:[],offscreen:!1,occluded:!1};const fr=lt?2*Ur.length:Ur.length;for(let Gu=0;Gu<fr;++Gu){const Pc=this.attemptAnchorPlacement(Ur[Gu%Ur.length],gs,sa,Ha,oc,At,Tt,Fe,ue,Ke,Gu>=Ur.length,qt,mi,W,Th,Ac,at,dt);if(Pc&&(Cl=Pc.placedGlyphBoxes,Cl&&Cl.box&&Cl.box.length)){wi=!0,Sn=Pc.shift;break}}return Cl};ts(()=>no(Wa,ni.iconBox,s.WritingMode.horizontal),()=>{const gs=ni.verticalTextBox;return gs&&es(gs),W.allowVerticalPlacement&&!(gn&&gn.box&&gn.box.length)&&ri>0&&gs?no(gs,ni.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),gn&&(wi=gn.box,Ht=gn.offscreen,ii=gn.occluded);const ra=ms(gn&&gn.box);if(!wi&&this.prevPlacement){const gs=this.prevPlacement.variableOffsets[Oi];gs&&(this.variableOffsets[Oi]=gs,this.markUsedJustification(W,gs.anchor,qt,ra))}}else{const Ur=(no,ra)=>{const gs=W.getSymbolInstanceTextSize(at,qt,this.transform.zoom,mi),va=this.collisionIndex.placeCollisionBox(W,gs,no,new s.pointGeometry(0,0),lt,Fe,ue,Ke.predicate);return va&&va.box&&va.box.length&&(this.markUsedOrientation(W,ra,qt),this.placedOrientations[Oi]=ra),va};ts(()=>Ur(Wa,s.WritingMode.horizontal),()=>{const no=ni.verticalTextBox;return W.allowVerticalPlacement&&ri>0&&no?(es(no),Ur(no,s.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),ms(gn&&gn.box&&gn.box.length)}}if(or=gn,wi=or&&or.box&&or.box.length>0,Ht=or&&or.offscreen,ii=or&&or.occluded,qt.useRuntimeCollisionCircles){const ms=W.text.placedSymbolArray.get(qt.centerJustifiedTextSymbolIndex>=0?qt.centerJustifiedTextSymbolIndex:qt.verticalPlacedTextSymbolIndex),ts=s.evaluateSizeForFeature(W.textSizeData,at,ms),Ur=se.get("text-padding");kn=this.collisionIndex.placeCollisionCircles(W,lt,ms,W.lineVertexArray,W.glyphOffsetArray,ts,ue,me,De,T,Tt,Ke.predicate,qt.collisionCircleDiameter*ts/s.ONE_EM,Ur,this.retainedQueryData[W.bucketInstanceId].tileID),wi=lt||kn.circles.length>0&&!kn.collisionDetected,Ht=Ht&&kn.offscreen,ii=kn.occluded}if(ni.iconFeatureIndex&&(rs=ni.iconFeatureIndex),ni.iconBox){const ms=ts=>{es(ts);const Ur=zt&&Sn?Wl(Sn.x,Sn.y,At,Tt,this.transform.angle):new s.pointGeometry(0,0),no=W.getSymbolInstanceIconSize(dt,this.transform.zoom,qt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(W,no,ts,Ur,xt,Fe,ue,Ke.predicate)};jn&&jn.box&&jn.box.length&&ni.verticalIconBox?(an=ms(ni.verticalIconBox),zi=an.box.length>0):(an=ms(ni.iconBox),zi=an.box.length>0),Ht=Ht&&an.offscreen,mn=an.occluded}const ka=tt||qt.numHorizontalGlyphVertices===0&&ri===0,_a=pt||qt.numIconVertices===0;if(ka||_a?_a?ka||(zi=zi&&wi):wi=zi&&wi:zi=wi=zi&&wi,wi&&or&&or.box&&this.collisionIndex.insertCollisionBox(or.box,se.get("text-ignore-placement"),W.bucketInstanceId,jn&&jn.box&&Gr?Gr:is,Ke.ID),zi&&an&&this.collisionIndex.insertCollisionBox(an.box,se.get("icon-ignore-placement"),W.bucketInstanceId,rs,Ke.ID),kn&&(wi&&this.collisionIndex.insertCollisionCircles(kn.circles,se.get("text-ignore-placement"),W.bucketInstanceId,is,Ke.ID),T)){const ms=W.bucketInstanceId;let ts=this.collisionCircleArrays[ms];ts===void 0&&(ts=this.collisionCircleArrays[ms]=new Yc);for(let Ur=0;Ur<kn.circles.length;Ur+=4)ts.circles.push(kn.circles[Ur+0]),ts.circles.push(kn.circles[Ur+1]),ts.circles.push(kn.circles[Ur+2]),ts.circles.push(kn.collisionDetected?1:0)}const sc=W.projection.name!=="globe";Kt=Kt&&(sc||!ii),Vt=Vt&&(sc||!mn),this.placements[Oi]=new vl(wi||Kt,zi||Vt,Ht||W.justReloaded),p[Oi]=!0};if(ei){const qt=W.getSortedSymbolIndexes(this.transform.angle);for(let mi=qt.length-1;mi>=0;--mi){const ni=qt[mi];Ei(W.symbolInstances.get(ni),ni,W.collisionArrays[ni])}}else for(let qt=c.symbolInstanceStart;qt<c.symbolInstanceEnd;qt++)Ei(W.symbolInstances.get(qt),qt,W.collisionArrays[qt]);if(T&&W.bucketInstanceId in this.collisionCircleArrays){const qt=this.collisionCircleArrays[W.bucketInstanceId];s.invert(qt.invProjMatrix,ue),qt.viewportMatrix=this.collisionIndex.getViewportMatrix()}W.justReloaded=!1}markUsedJustification(c,p,T,B){const{leftJustifiedTextSymbolIndex:W,centerJustifiedTextSymbolIndex:se,rightJustifiedTextSymbolIndex:ue,verticalPlacedTextSymbolIndex:me,crossTileID:De}=T,Ae=s.getAnchorJustification(p),Fe=B===s.WritingMode.vertical?me:Ae==="left"?W:Ae==="center"?se:Ae==="right"?ue:-1;W>=0&&(c.text.placedSymbolArray.get(W).crossTileID=Fe>=0&&W!==Fe?0:De),se>=0&&(c.text.placedSymbolArray.get(se).crossTileID=Fe>=0&&se!==Fe?0:De),ue>=0&&(c.text.placedSymbolArray.get(ue).crossTileID=Fe>=0&&ue!==Fe?0:De),me>=0&&(c.text.placedSymbolArray.get(me).crossTileID=Fe>=0&&me!==Fe?0:De)}markUsedOrientation(c,p,T){const B=p===s.WritingMode.horizontal||p===s.WritingMode.horizontalOnly?p:0,W=p===s.WritingMode.vertical?p:0,{leftJustifiedTextSymbolIndex:se,centerJustifiedTextSymbolIndex:ue,rightJustifiedTextSymbolIndex:me,verticalPlacedTextSymbolIndex:De}=T,Ae=c.text.placedSymbolArray;se>=0&&(Ae.get(se).placedOrientation=B),ue>=0&&(Ae.get(ue).placedOrientation=B),me>=0&&(Ae.get(me).placedOrientation=B),De>=0&&(Ae.get(De).placedOrientation=W)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let T=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const B=p?p.symbolFadeChange(c):1,W=p?p.opacities:{},se=p?p.variableOffsets:{},ue=p?p.placedOrientations:{};for(const me in this.placements){const De=this.placements[me],Ae=W[me];Ae?(this.opacities[me]=new rl(Ae,B,De.text,De.icon,null,De.clipped),T=T||De.text!==Ae.text.placed||De.icon!==Ae.icon.placed):(this.opacities[me]=new rl(null,B,De.text,De.icon,De.skipFade,De.clipped),T=T||De.text||De.icon)}for(const me in W){const De=W[me];if(!this.opacities[me]){const Ae=new rl(De,B,!1,!1);Ae.isHidden()||(this.opacities[me]=Ae,T=T||De.text.placed||De.icon.placed)}}for(const me in se)this.variableOffsets[me]||!this.opacities[me]||this.opacities[me].isHidden()||(this.variableOffsets[me]=se[me]);for(const me in ue)this.placedOrientations[me]||!this.opacities[me]||this.opacities[me].isHidden()||(this.placedOrientations[me]=ue[me]);T?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)}updateLayerOpacities(c,p){const T={};for(const B of p){const W=B.getBucket(c);W&&B.latestFeatureIndex&&c.id===W.layerIds[0]&&this.updateBucketOpacities(W,T,B.collisionBoxArray)}}updateBucketOpacities(c,p,T){c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const B=c.layers[0].layout,W=!!c.layers[0].dynamicFilter(),se=new rl(null,0,!1,!1,!0),ue=B.get("text-allow-overlap"),me=B.get("icon-allow-overlap"),De=B.get("text-variable-anchor"),Ae=B.get("text-rotation-alignment")==="map",Fe=B.get("text-pitch-alignment")==="map",qe=B.get("icon-text-fit")!=="none",ot=new rl(null,0,ue&&(me||!c.hasIconData()||B.get("icon-optional")),me&&(ue||!c.hasTextData()||B.get("text-optional")),!0);!c.collisionArrays&&T&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(T);const at=(Ke,tt,pt)=>{for(let lt=0;lt<tt/4;lt++)Ke.opacityVertexArray.emplaceBack(pt)};let dt=0;for(let Ke=0;Ke<c.symbolInstances.length;Ke++){const tt=c.symbolInstances.get(Ke),{numHorizontalGlyphVertices:pt,numVerticalGlyphVertices:lt,crossTileID:xt,numIconVertices:At}=tt;let Tt=this.opacities[xt];p[xt]?Tt=se:Tt||(Tt=ot,this.opacities[xt]=Tt),p[xt]=!0;const zt=pt>0||lt>0,ei=At>0,Kt=this.placedOrientations[xt],Vt=Kt===s.WritingMode.vertical,Ei=Kt===s.WritingMode.horizontal||Kt===s.WritingMode.horizontalOnly;if(!zt&&!ei||Tt.isHidden()||dt++,zt){const qt=Js(Tt.text);at(c.text,pt,Vt?xl:qt),at(c.text,lt,Ei?xl:qt);const mi=Tt.text.isHidden(),{leftJustifiedTextSymbolIndex:ni,centerJustifiedTextSymbolIndex:Oi,rightJustifiedTextSymbolIndex:ri,verticalPlacedTextSymbolIndex:wi}=tt,zi=c.text.placedSymbolArray,Ht=mi||Vt?1:0;ni>=0&&(zi.get(ni).hidden=Ht),Oi>=0&&(zi.get(Oi).hidden=Ht),ri>=0&&(zi.get(ri).hidden=Ht),wi>=0&&(zi.get(wi).hidden=mi||Ei?1:0);const ii=this.variableOffsets[xt];ii&&this.markUsedJustification(c,ii.anchor,tt,Kt);const mn=this.placedOrientations[xt];mn&&(this.markUsedJustification(c,"left",tt,mn),this.markUsedOrientation(c,mn,tt))}if(ei){const qt=Js(Tt.icon),{placedIconSymbolIndex:mi,verticalPlacedIconSymbolIndex:ni}=tt,Oi=c.icon.placedSymbolArray,ri=Tt.icon.isHidden()?1:0;mi>=0&&(at(c.icon,At,Vt?xl:qt),Oi.get(mi).hidden=ri),ni>=0&&(at(c.icon,tt.numVerticalIconVertices,Ei?xl:qt),Oi.get(ni).hidden=ri)}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const qt=c.collisionArrays[Ke];if(qt){let mi=new s.pointGeometry(0,0),ni=!0;if(qt.textBox||qt.verticalTextBox){if(De){const ri=this.variableOffsets[xt];ri?(mi=As(ri.anchor,ri.width,ri.height,ri.textOffset,ri.textScale),Ae&&mi._rotate(Fe?this.transform.angle:-this.transform.angle)):ni=!1}W&&(ni=!Tt.clipped),qt.textBox&&Ks(c.textCollisionBox.collisionVertexArray,Tt.text.placed,!ni||Vt,mi.x,mi.y),qt.verticalTextBox&&Ks(c.textCollisionBox.collisionVertexArray,Tt.text.placed,!ni||Ei,mi.x,mi.y)}const Oi=ni&&!!(!Ei&&qt.verticalIconBox);qt.iconBox&&Ks(c.iconCollisionBox.collisionVertexArray,Tt.icon.placed,Oi,qe?mi.x:0,qe?mi.y:0),qt.verticalIconBox&&Ks(c.iconCollisionBox.collisionVertexArray,Tt.icon.placed,!Oi,qe?mi.x:0,qe?mi.y:0)}}}if(c.fullyClipped=dt===0,c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){const Ke=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=Ke.invProjMatrix,c.placementViewportMatrix=Ke.viewportMatrix,c.collisionCircleArray=Ke.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,p){const T=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*T>c}setStale(){this.stale=!0}}function Ks(_,c,p,T,B){_.emplaceBack(c?1:0,p?1:0,T||0,B||0),_.emplaceBack(c?1:0,p?1:0,T||0,B||0),_.emplaceBack(c?1:0,p?1:0,T||0,B||0),_.emplaceBack(c?1:0,p?1:0,T||0,B||0)}const fa=Math.pow(2,25),Pu=Math.pow(2,24),wd=Math.pow(2,17),Ws=Math.pow(2,16),Hl=Math.pow(2,9),Td=Math.pow(2,8),Yl=Math.pow(2,1);function Js(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const c=_.placed?1:0,p=Math.floor(127*_.opacity);return p*fa+c*Pu+p*wd+c*Ws+p*Hl+c*Td+p*Yl+c}const xl=0;class Sd{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&c.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,p,T,B,W){const se=this._bucketParts;for(;this._currentTileIndex<c.length;)if(p.getBucketParts(se,B,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,W())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,se.sort((ue,me)=>ue.sortKey-me.sortKey));this._currentPartIndex<se.length;){const ue=se[this._currentPartIndex];if(p.placeLayerBucketPart(ue,this._seenCrossTileIDs,T,ue.symbolInstanceStart===0),this._currentPartIndex++,W())return!0}return!1}}class Pr{constructor(c,p,T,B,W,se,ue,me){this.placement=new sl(c,W,se,ue,me),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=T,this._showCollisionBoxes=B,this._done=!1}isDone(){return this._done}continuePlacement(c,p,T){const B=s.exported.now(),W=()=>{const se=s.exported.now()-B;return!this._forceFullPlacement&&se>2};for(;this._currentPlacementIndex>=0;){const se=p[c[this._currentPlacementIndex]],ue=this.placement.collisionIndex.transform.zoom;if(se.type==="symbol"&&(!se.minzoom||se.minzoom<=ue)&&(!se.maxzoom||se.maxzoom>ue)){if(this._inProgressLayer||(this._inProgressLayer=new Sd(se)),this._inProgressLayer.continuePlacement(T[se.source],this.placement,this._showCollisionBoxes,se,W))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const Nr=512/s.EXTENT/2;class Cd{constructor(c,p,T){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=T;for(let B=0;B<p.length;B++){const W=p.get(B),se=W.key;this.indexedSymbolInstances[se]||(this.indexedSymbolInstances[se]=[]),this.indexedSymbolInstances[se].push({crossTileID:W.crossTileID,coord:this.getScaledCoordinates(W,c)})}}getScaledCoordinates(c,p){const T=Nr/Math.pow(2,p.canonical.z-this.tileID.canonical.z);return{x:Math.floor((p.canonical.x*s.EXTENT+c.tileAnchorX)*T),y:Math.floor((p.canonical.y*s.EXTENT+c.tileAnchorY)*T)}}findMatches(c,p,T){const B=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let W=0;W<c.length;W++){const se=c.get(W);if(se.crossTileID)continue;const ue=this.indexedSymbolInstances[se.key];if(!ue)continue;const me=this.getScaledCoordinates(se,p);for(const De of ue)if(Math.abs(De.coord.x-me.x)<=B&&Math.abs(De.coord.y-me.y)<=B&&!T[De.crossTileID]){T[De.crossTileID]=!0,se.crossTileID=De.crossTileID;break}}}}class Du{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class iu{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const p=Math.round((c-this.lng)/360);if(p!==0)for(const T in this.indexes){const B=this.indexes[T],W={};for(const se in B){const ue=B[se];ue.tileID=ue.tileID.unwrapTo(ue.tileID.wrap+p),W[ue.tileID.key]=ue}this.indexes[T]=W}this.lng=c}addBucket(c,p,T){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let W=0;W<p.symbolInstances.length;W++)p.symbolInstances.get(W).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const B=this.usedCrossTileIDs[c.overscaledZ];for(const W in this.indexes){const se=this.indexes[W];if(Number(W)>c.overscaledZ)for(const ue in se){const me=se[ue];me.tileID.isChildOf(c)&&me.findMatches(p.symbolInstances,c,B)}else{const ue=se[c.scaledTo(Number(W)).key];ue&&ue.findMatches(p.symbolInstances,c,B)}}for(let W=0;W<p.symbolInstances.length;W++){const se=p.symbolInstances.get(W);se.crossTileID||(se.crossTileID=T.generate(),B[se.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Cd(c,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(c,p){for(const T in p.indexedSymbolInstances)for(const B of p.indexedSymbolInstances[T])delete this.usedCrossTileIDs[c][B.crossTileID]}removeStaleBuckets(c){let p=!1;for(const T in this.indexes){const B=this.indexes[T];for(const W in B)c[B[W].bucketInstanceId]||(this.removeBucketCrossTileIDs(T,B[W]),delete B[W],p=!0)}return p}}class ma{constructor(){this.layerIndexes={},this.crossTileIDs=new Du,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,p,T,B){let W=this.layerIndexes[c.id];W===void 0&&(W=this.layerIndexes[c.id]=new iu);let se=!1;const ue={};B.name!=="globe"&&W.handleWrapJump(T);for(const me of p){const De=me.getBucket(c);De&&c.id===De.layerIds[0]&&(De.bucketInstanceId||(De.bucketInstanceId=++this.maxBucketInstanceId),W.addBucket(me.tileID,De,this.crossTileIDs)&&(se=!0),ue[De.bucketInstanceId]=!0)}return W.removeStaleBuckets(ue)&&(se=!0),se}pruneUnusedLayers(c){const p={};c.forEach(T=>{p[T]=!0});for(const T in this.layerIndexes)p[T]||delete this.layerIndexes[T]}}const Xc=(_,c)=>s.emitValidationErrors(_,c&&c.filter(p=>p.identifier!=="source.canvas")),Ed=s.pick(_n,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),ql=s.pick(_n,["setCenter","setZoom","setBearing","setPitch"]),Qo={version:8,layers:[],sources:{}},Hs={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class X extends s.Evented{constructor(c,p={}){super(),this.map=c,this.dispatcher=new pe(Gi(),this),this.imageManager=new j,this.imageManager.setEventedParent(this),this.glyphManager=new s.GlyphManager(c._requestManager,p.localFontFamily?s.LocalGlyphMode.all:p.localIdeographFontFamily?s.LocalGlyphMode.ideographs:s.LocalGlyphMode.none,p.localFontFamily||p.localIdeographFontFamily),this.crossTileSymbolIndex=new ma,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());const T=this;this._rtlTextPluginCallback=X.registerForPluginStateChange(B=>{T.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:B.pluginStatus,pluginURL:B.pluginURL},(W,se)=>{if(s.triggerPluginCompletionEvent(W),se&&se.every(ue=>ue))for(const ue in T._sourceCaches){const me=T._sourceCaches[ue],De=me.getSource().type;De!=="vector"&&De!=="geojson"||me.reload()}})}),this.on("data",B=>{if(B.dataType!=="source"||B.sourceDataType!=="metadata")return;const W=this.getSource(B.sourceId);if(W&&W.vectorLayerIds)for(const se in this._layers){const ue=this._layers[se];ue.source===W.id&&this._validateLayer(ue)}})}loadURL(c,p={}){this.fire(new s.Event("dataloading",{dataType:"style"}));const T=typeof p.validate=="boolean"?p.validate:!s.isMapboxURL(c);c=this.map._requestManager.normalizeStyleURL(c,p.accessToken);const B=this.map._requestManager.transformRequest(c,s.ResourceType.Style);this._request=s.getJSON(B,(W,se)=>{this._request=null,W?this.fire(new s.ErrorEvent(W)):se&&this._load(se,T)})}loadJSON(c,p={}){this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.exported.frame(()=>{this._request=null,this._load(c,p.validate!==!1)})}loadEmpty(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(Qo,!1)}_updateLayerCount(c,p){const T=p?1:-1;c.is3D()&&(this._num3DLayers+=T),c.type==="circle"&&(this._numCircleLayers+=T),c.type==="symbol"&&(this._numSymbolLayers+=T)}_load(c,p){if(p&&Xc(this,s.validateStyle(c)))return;this._loaded=!0,this.stylesheet=s.clone$1(c),this._updateMapProjection();for(const B in c.sources)this.addSource(B,c.sources[B],{validate:!1});this._changed=!1,c.sprite?this._loadSprite(c.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(c.glyphs);const T=kr(this.stylesheet.layers);this._order=T.map(B=>B.id),this._layers={},this._serializedLayers={};for(let B of T)B=s.createStyleLayer(B),B.setEventedParent(this,{layer:{id:B.id}}),this._layers[B.id]=B,this._serializedLayers[B.id]=B.serialize(),this._updateLayerCount(B,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new m(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(c){c?this.stylesheet.projection=c:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(c){this._spriteRequest=function(p,T,B){let W,se,ue;const me=s.exported.devicePixelRatio>1?"@2x":"";let De=s.getJSON(T.transformRequest(T.normalizeSpriteURL(p,me,".json"),s.ResourceType.SpriteJSON),(qe,ot)=>{De=null,ue||(ue=qe,W=ot,Fe())}),Ae=s.getImage(T.transformRequest(T.normalizeSpriteURL(p,me,".png"),s.ResourceType.SpriteImage),(qe,ot)=>{Ae=null,ue||(ue=qe,se=ot,Fe())});function Fe(){if(ue)B(ue);else if(W&&se){const qe=s.exported.getImageData(se),ot={};for(const at in W){const{width:dt,height:Ke,x:tt,y:pt,sdf:lt,pixelRatio:xt,stretchX:At,stretchY:Tt,content:zt}=W[at],ei=new s.RGBAImage({width:dt,height:Ke});s.RGBAImage.copy(qe,ei,{x:tt,y:pt},{x:0,y:0},{width:dt,height:Ke}),ot[at]={data:ei,pixelRatio:xt,sdf:lt,stretchX:At,stretchY:Tt,content:zt}}B(null,ot)}}return{cancel(){De&&(De.cancel(),De=null),Ae&&(Ae.cancel(),Ae=null)}}}(c,this.map._requestManager,(p,T)=>{if(this._spriteRequest=null,p)this.fire(new s.ErrorEvent(p));else if(T)for(const B in T)this.imageManager.addImage(B,T[B]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new s.Event("data",{dataType:"style"}))})}_validateLayer(c){const p=this.getSource(c.source);if(!p)return;const T=c.sourceLayer;T&&(p.type==="geojson"||p.vectorLayerIds&&p.vectorLayerIds.indexOf(T)===-1)&&this.fire(new s.ErrorEvent(new Error(`Source layer "${T}" does not exist on source "${p.id}" as specified by style layer "${c.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this._sourceCaches)if(!this._sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(c){const p=[];for(const T of c){const B=this._layers[T];B.type!=="custom"&&p.push(B.serialize())}return p}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const c in this._sourceCaches)if(this._sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(c){return!!this.terrain&&Hs[c.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(c){if(!this._loaded)return;const p=this._changed;if(this._changed){const B=Object.keys(this._updatedLayers),W=Object.keys(this._removedLayers);(B.length||W.length)&&this._updateWorkerLayers(B,W);for(const se in this._updatedSources){const ue=this._updatedSources[se];ue==="reload"?this._reloadSource(se):ue==="clear"&&this._clearSource(se)}this._updateTilesForChangedImages();for(const se in this._updatedPaintProps)this._layers[se].updateTransitions(c);this.light.updateTransitions(c),this.fog&&this.fog.updateTransitions(c),this._resetUpdates()}const T={};for(const B in this._sourceCaches){const W=this._sourceCaches[B];T[B]=W.used,W.used=!1}for(const B of this._order){const W=this._layers[B];if(W.recalculate(c,this._availableImages),!W.isHidden(c.zoom)){const ue=this._getLayerSourceCache(W);ue&&(ue.used=!0)}const se=this.map.painter;if(se){const ue=W.getProgramIds();if(!ue)continue;const me=W.getProgramConfiguration(c.zoom);for(const De of ue)se.useProgram(De,me)}}for(const B in T){const W=this._sourceCaches[B];T[B]!==W.used&&W.getSource().fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:W.getSource().id}))}this.light.recalculate(c),this.terrain&&this.terrain.recalculate(c),this.fog&&this.fog.recalculate(c),this.z=c.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),p&&this.fire(new s.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const p in this._sourceCaches)this._sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateWorkerLayers(c,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(c),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(c){if(this._checkLoaded(),Xc(this,s.validateStyle(c)))return!1;(c=s.clone$1(c)).layers=kr(c.layers);const p=function(B,W){if(!B)return[{command:_n.setStyle,args:[W]}];let se=[];try{if(!b(B.version,W.version))return[{command:_n.setStyle,args:[W]}];b(B.center,W.center)||se.push({command:_n.setCenter,args:[W.center]}),b(B.zoom,W.zoom)||se.push({command:_n.setZoom,args:[W.zoom]}),b(B.bearing,W.bearing)||se.push({command:_n.setBearing,args:[W.bearing]}),b(B.pitch,W.pitch)||se.push({command:_n.setPitch,args:[W.pitch]}),b(B.sprite,W.sprite)||se.push({command:_n.setSprite,args:[W.sprite]}),b(B.glyphs,W.glyphs)||se.push({command:_n.setGlyphs,args:[W.glyphs]}),b(B.transition,W.transition)||se.push({command:_n.setTransition,args:[W.transition]}),b(B.light,W.light)||se.push({command:_n.setLight,args:[W.light]}),b(B.fog,W.fog)||se.push({command:_n.setFog,args:[W.fog]}),b(B.projection,W.projection)||se.push({command:_n.setProjection,args:[W.projection]});const ue={},me=[];(function(Fe,qe,ot,at){let dt;for(dt in qe=qe||{},Fe=Fe||{})Fe.hasOwnProperty(dt)&&(qe.hasOwnProperty(dt)||Lr(dt,ot,at));for(dt in qe)qe.hasOwnProperty(dt)&&(Fe.hasOwnProperty(dt)?b(Fe[dt],qe[dt])||(Fe[dt].type==="geojson"&&qe[dt].type==="geojson"&&$a(Fe,qe,dt)?ot.push({command:_n.setGeoJSONSourceData,args:[dt,qe[dt].data]}):Ua(dt,qe,ot,at)):Hr(dt,qe,ot))})(B.sources,W.sources,me,ue);const De=[];B.layers&&B.layers.forEach(Fe=>{Fe.source&&ue[Fe.source]?se.push({command:_n.removeLayer,args:[Fe.id]}):De.push(Fe)});let Ae=B.terrain;Ae&&ue[Ae.source]&&(se.push({command:_n.setTerrain,args:[void 0]}),Ae=void 0),se=se.concat(me),b(Ae,W.terrain)||se.push({command:_n.setTerrain,args:[W.terrain]}),function(Fe,qe,ot){qe=qe||[];const at=(Fe=Fe||[]).map(hi),dt=qe.map(hi),Ke=Fe.reduce(hs,{}),tt=qe.reduce(hs,{}),pt=at.slice(),lt=Object.create(null);let xt,At,Tt,zt,ei,Kt,Vt;for(xt=0,At=0;xt<at.length;xt++)Tt=at[xt],tt.hasOwnProperty(Tt)?At++:(ot.push({command:_n.removeLayer,args:[Tt]}),pt.splice(pt.indexOf(Tt,At),1));for(xt=0,At=0;xt<dt.length;xt++)Tt=dt[dt.length-1-xt],pt[pt.length-1-xt]!==Tt&&(Ke.hasOwnProperty(Tt)?(ot.push({command:_n.removeLayer,args:[Tt]}),pt.splice(pt.lastIndexOf(Tt,pt.length-At),1)):At++,Kt=pt[pt.length-xt],ot.push({command:_n.addLayer,args:[tt[Tt],Kt]}),pt.splice(pt.length-xt,0,Tt),lt[Tt]=!0);for(xt=0;xt<dt.length;xt++)if(Tt=dt[xt],zt=Ke[Tt],ei=tt[Tt],!lt[Tt]&&!b(zt,ei))if(b(zt.source,ei.source)&&b(zt["source-layer"],ei["source-layer"])&&b(zt.type,ei.type)){for(Vt in mo(zt.layout,ei.layout,ot,Tt,null,_n.setLayoutProperty),mo(zt.paint,ei.paint,ot,Tt,null,_n.setPaintProperty),b(zt.filter,ei.filter)||ot.push({command:_n.setFilter,args:[Tt,ei.filter]}),b(zt.minzoom,ei.minzoom)&&b(zt.maxzoom,ei.maxzoom)||ot.push({command:_n.setLayerZoomRange,args:[Tt,ei.minzoom,ei.maxzoom]}),zt)zt.hasOwnProperty(Vt)&&Vt!=="layout"&&Vt!=="paint"&&Vt!=="filter"&&Vt!=="metadata"&&Vt!=="minzoom"&&Vt!=="maxzoom"&&(Vt.indexOf("paint.")===0?mo(zt[Vt],ei[Vt],ot,Tt,Vt.slice(6),_n.setPaintProperty):b(zt[Vt],ei[Vt])||ot.push({command:_n.setLayerProperty,args:[Tt,Vt,ei[Vt]]}));for(Vt in ei)ei.hasOwnProperty(Vt)&&!zt.hasOwnProperty(Vt)&&Vt!=="layout"&&Vt!=="paint"&&Vt!=="filter"&&Vt!=="metadata"&&Vt!=="minzoom"&&Vt!=="maxzoom"&&(Vt.indexOf("paint.")===0?mo(zt[Vt],ei[Vt],ot,Tt,Vt.slice(6),_n.setPaintProperty):b(zt[Vt],ei[Vt])||ot.push({command:_n.setLayerProperty,args:[Tt,Vt,ei[Vt]]}))}else ot.push({command:_n.removeLayer,args:[Tt]}),Kt=pt[pt.lastIndexOf(Tt)+1],ot.push({command:_n.addLayer,args:[ei,Kt]})}(De,W.layers,se)}catch(ue){console.warn("Unable to compute style diff:",ue),se=[{command:_n.setStyle,args:[W]}]}return se}(this.serialize(),c).filter(B=>!(B.command in ql));if(p.length===0)return!1;const T=p.filter(B=>!(B.command in Ed));if(T.length>0)throw new Error(`Unimplemented: ${T.map(B=>B.command).join(", ")}.`);return p.forEach(B=>{B.command!=="setTransition"&&B.command!=="setProjection"&&this[B.command].apply(this,B.args)}),this.stylesheet=c,this._updateMapProjection(),!0}addImage(c,p){return this.getImage(c)?this.fire(new s.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(c,p),this._afterImageUpdated(c),this)}updateImage(c,p){this.imageManager.updateImage(c,p)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){return this.getImage(c)?(this.imageManager.removeImage(c),this._afterImageUpdated(c),this):this.fire(new s.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(c,p,T={}){if(this._checkLoaded(),this.getSource(c)!==void 0)throw new Error("There is already a source with this ID");if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(s.validateSource,`sources.${c}`,p,null,T))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const B=Gt(c,p,this.dispatcher,this);B.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(c),source:B.serialize(),sourceId:c}));const W=se=>{const ue=(se?"symbol:":"other:")+c,me=this._sourceCaches[ue]=new s.SourceCache(ue,B,se);(se?this._symbolSourceCaches:this._otherSourceCaches)[c]=me,me.style=this,me.onAdd(this.map)};W(!1),p.type!=="vector"&&p.type!=="geojson"||W(!0),B.onAdd&&B.onAdd(this.map),this._changed=!0}removeSource(c){this._checkLoaded();const p=this.getSource(c);if(!p)throw new Error("There is no source with this ID");for(const B in this._layers)if(this._layers[B].source===c)return this.fire(new s.ErrorEvent(new Error(`Source "${c}" cannot be removed while layer "${B}" is using it.`)));if(this.terrain&&this.terrain.get().source===c)return this.fire(new s.ErrorEvent(new Error(`Source "${c}" cannot be removed while terrain is using it.`)));const T=this._getSourceCaches(c);for(const B of T)delete this._sourceCaches[B.id],delete this._updatedSources[B.id],B.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:B.getSource().id})),B.setEventedParent(null),B.clearTiles();return delete this._otherSourceCaches[c],delete this._symbolSourceCaches[c],p.setEventedParent(null),p.onRemove&&p.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(c,p){this._checkLoaded(),this.getSource(c).setData(p),this._changed=!0}getSource(c){const p=this._getSourceCache(c);return p&&p.getSource()}_getSources(){const c=[];for(const p in this._otherSourceCaches){const T=this._getSourceCache(p);T&&c.push(T.getSource())}return c}addLayer(c,p,T={}){this._checkLoaded();const B=c.id;if(this.getLayer(B))return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${B}" already exists on this map`)));let W;if(c.type==="custom"){if(Xc(this,s.validateCustomStyleLayer(c)))return;W=s.createStyleLayer(c)}else{if(typeof c.source=="object"&&(this.addSource(B,c.source),c=s.clone$1(c),c=s.extend(c,{source:B})),this._validate(s.validateLayer,`layers.${B}`,c,{arrayIndex:-1},T))return;W=s.createStyleLayer(c),this._validateLayer(W),W.setEventedParent(this,{layer:{id:B}}),this._serializedLayers[W.id]=W.serialize(),this._updateLayerCount(W,!0)}const se=p?this._order.indexOf(p):this._order.length;if(p&&se===-1)return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${p}" does not exist on this map.`)));this._order.splice(se,0,B),this._layerOrderChanged=!0,this._layers[B]=W;const ue=this._getLayerSourceCache(W);if(this._removedLayers[B]&&W.source&&ue&&W.type!=="custom"){const me=this._removedLayers[B];delete this._removedLayers[B],me.type!==W.type?this._updatedSources[W.source]="clear":(this._updatedSources[W.source]="reload",ue.pause())}this._updateLayer(W),W.onAdd&&W.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(c,p){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===p)return;const T=this._order.indexOf(c);this._order.splice(T,1);const B=p?this._order.indexOf(p):this._order.length;p&&B===-1?this.fire(new s.ErrorEvent(new Error(`Layer with id "${p}" does not exist on this map.`))):(this._order.splice(B,0,c),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(c){this._checkLoaded();const p=this._layers[c];if(!p)return void this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be removed.`)));p.setEventedParent(null),this._updateLayerCount(p,!1);const T=this._order.indexOf(c);this._order.splice(T,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=p,delete this._layers[c],delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],p.onRemove&&p.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(c){return this._layers[c]}hasLayer(c){return c in this._layers}hasLayerType(c){for(const p in this._layers)if(this._layers[p].type===c)return!0;return!1}setLayerZoomRange(c,p,T){this._checkLoaded();const B=this.getLayer(c);B?B.minzoom===p&&B.maxzoom===T||(p!=null&&(B.minzoom=p),T!=null&&(B.maxzoom=T),this._updateLayer(B)):this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(c,p,T={}){this._checkLoaded();const B=this.getLayer(c);if(B){if(!b(B.filter,p))return p==null?(B.filter=void 0,void this._updateLayer(B)):void(this._validate(s.validateFilter,`layers.${B.id}.filter`,p,{layerType:B.type},T)||(B.filter=s.clone$1(p),this._updateLayer(B)))}else this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be filtered.`)))}getFilter(c){const p=this.getLayer(c);return p&&s.clone$1(p.filter)}setLayoutProperty(c,p,T,B={}){this._checkLoaded();const W=this.getLayer(c);W?b(W.getLayoutProperty(p),T)||(W.setLayoutProperty(p,T,B),this._updateLayer(W)):this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(c,p){const T=this.getLayer(c);if(T)return T.getLayoutProperty(p);this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style.`)))}setPaintProperty(c,p,T,B={}){this._checkLoaded();const W=this.getLayer(c);W?b(W.getPaintProperty(p),T)||(W.setPaintProperty(p,T,B)&&this._updateLayer(W),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new s.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(c,p){const T=this.getLayer(c);return T&&T.getPaintProperty(p)}setFeatureState(c,p){this._checkLoaded();const T=c.source,B=c.sourceLayer,W=this.getSource(T);if(!W)return void this.fire(new s.ErrorEvent(new Error(`The source '${T}' does not exist in the map's style.`)));const se=W.type;if(se==="geojson"&&B)return void this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(se==="vector"&&!B)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));c.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided.")));const ue=this._getSourceCaches(T);for(const me of ue)me.setFeatureState(B,c.id,p)}removeFeatureState(c,p){this._checkLoaded();const T=c.source,B=this.getSource(T);if(!B)return void this.fire(new s.ErrorEvent(new Error(`The source '${T}' does not exist in the map's style.`)));const W=B.type,se=W==="vector"?c.sourceLayer:void 0;if(W==="vector"&&!se)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(p&&typeof c.id!="string"&&typeof c.id!="number")return void this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const ue=this._getSourceCaches(T);for(const me of ue)me.removeFeatureState(se,c.id,p)}getFeatureState(c){this._checkLoaded();const p=c.source,T=c.sourceLayer,B=this.getSource(p);if(B){if(B.type!=="vector"||T)return c.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(p)[0].getFeatureState(T,c.id);this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new s.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const c={};for(const p in this._sourceCaches){const T=this._sourceCaches[p].getSource();c[T.id]||(c[T.id]=T.serialize())}return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:c,layers:this._serializeLayers(this._order)},p=>p!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0;const p=this._getLayerSourceCache(c);c.source&&!this._updatedSources[c.source]&&p&&p.getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",p.pause()),this._changed=!0,c.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(c){const p=se=>this._layers[se].type==="fill-extrusion",T={},B=[];for(let se=this._order.length-1;se>=0;se--){const ue=this._order[se];if(p(ue)){T[ue]=se;for(const me of c){const De=me[ue];if(De)for(const Ae of De)B.push(Ae)}}}B.sort((se,ue)=>ue.intersectionZ-se.intersectionZ);const W=[];for(let se=this._order.length-1;se>=0;se--){const ue=this._order[se];if(p(ue))for(let me=B.length-1;me>=0;me--){const De=B[me].feature;if(T[De.layer.id]<se)break;W.push(De),B.pop()}else for(const me of c){const De=me[ue];if(De)for(const Ae of De)W.push(Ae.feature)}}return W}queryRenderedFeatures(c,p,T){p&&p.filter&&this._validate(s.validateFilter,"queryRenderedFeatures.filter",p.filter,null,p);const B={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const me of p.layers){const De=this._layers[me];if(!De)return this.fire(new s.ErrorEvent(new Error(`The layer '${me}' does not exist in the map's style and cannot be queried for features.`))),[];B[De.source]=!0}}const W=[];p.availableImages=this._availableImages;const se=p&&p.layers?p.layers.some(me=>{const De=this.getLayer(me);return De&&De.is3D()}):this.has3DLayers(),ue=Q.createFromScreenPoints(c,T);for(const me in this._sourceCaches){const De=this._sourceCaches[me].getSource().id;p.layers&&!B[De]||W.push(Xt(this._sourceCaches[me],this._layers,this._serializedLayers,ue,p,T,se,!!this.map._showQueryGeometry))}return this.placement&&W.push(function(me,De,Ae,Fe,qe,ot,at){const dt={},Ke=ot.queryRenderedSymbols(Fe),tt=[];for(const pt of Object.keys(Ke).map(Number))tt.push(at[pt]);tt.sort(qi);for(const pt of tt){const lt=pt.featureIndex.lookupSymbolFeatures(Ke[pt.bucketInstanceId],De,pt.bucketIndex,pt.sourceLayerIndex,qe.filter,qe.layers,qe.availableImages,me);for(const xt in lt){const At=dt[xt]=dt[xt]||[],Tt=lt[xt];Tt.sort((zt,ei)=>{const Kt=pt.featureSortOrder;if(Kt){const Vt=Kt.indexOf(zt.featureIndex);return Kt.indexOf(ei.featureIndex)-Vt}return ei.featureIndex-zt.featureIndex});for(const zt of Tt)At.push(zt)}}for(const pt in dt)dt[pt].forEach(lt=>{const xt=lt.feature,At=Ae(me[pt]).getFeatureState(xt.layer["source-layer"],xt.id);xt.source=xt.layer.source,xt.layer["source-layer"]&&(xt.sourceLayer=xt.layer["source-layer"]),xt.state=At});return dt}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),ue.screenGeometry,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(W)}querySourceFeatures(c,p){p&&p.filter&&this._validate(s.validateFilter,"querySourceFeatures.filter",p.filter,null,p);const T=this._getSourceCaches(c);let B=[];for(const W of T)B=B.concat(_i(W,p));return B}addSourceType(c,p,T){return X.getSourceType(c)?T(new Error(`A source type called "${c}" already exists.`)):(X.setSourceType(c,p),p.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:p.workerSourceURL},T):T(null,null))}getLight(){return this.light.getLight()}setLight(c,p={}){this._checkLoaded();const T=this.light.getLight();let B=!1;for(const se in c)if(!b(c[se],T[se])){B=!0;break}if(!B)return;const W=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(c,p),this.light.updateTransitions(W)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(c,p=1){if(this._checkLoaded(),!c)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(p===1){if(typeof c.source=="object"){const T="terrain-dem-src";this.addSource(T,c.source),c=s.clone$1(c),c=s.extend(c,{source:T})}if(this._validate(s.validateTerrain,"terrain",c))return}if(!this.terrain||this.terrain&&p!==this.terrain.drapeRenderMode)this._createTerrain(c,p);else{const T=this.terrain,B=T.get();for(const W of Object.keys(s.spec.terrain))!c.hasOwnProperty(W)&&s.spec.terrain[W].default&&(c[W]=s.spec.terrain[W].default);for(const W in c)if(!b(c[W],B[W])){T.set(c),this.stylesheet.terrain=c;const se=this._setTransitionParameters({duration:0});T.updateTransitions(se);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(c){const p=this.fog=new he(c,this.map.transform);this.stylesheet.fog=c;const T=this._setTransitionParameters({duration:0});p.updateTransitions(T)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const c of this.map._markers)c._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(c){if(this._checkLoaded(),!c)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const p=this.fog,T=p.get();Object.keys(c).length===0&&p.set(c);for(const B in c)if(!b(c[B],T[B])){p.set(c),this.stylesheet.fog=c;const W=this._setTransitionParameters({duration:0});p.updateTransitions(W);break}}else this._createFog(c);this._markersNeedUpdate=!0}_setTransitionParameters(c){return{now:s.exported.now(),transition:s.extend(c,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const c=this._order.filter(T=>this.isLayerDraped(this._layers[T])),p=this._order.filter(T=>!this.isLayerDraped(this._layers[T]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...c),this._drapedFirstOrder.push(...p)}_createTerrain(c,p){const T=this.terrain=new k(c,p);this.stylesheet.terrain=c,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const B=this._setTransitionParameters({duration:0});T.updateTransitions(B)}_force3DLayerUpdate(){for(const c in this._layers){const p=this._layers[c];p.type==="fill-extrusion"&&this._updateLayer(p)}}_forceSymbolLayerUpdate(){for(const c in this._layers){const p=this._layers[c];p.type==="symbol"&&this._updateLayer(p)}}_validate(c,p,T,B,W={}){return(!W||W.validate!==!1)&&Xc(this,c.call(s.validateStyle,s.extend({key:p,style:this.serialize(),value:T,styleSpec:s.spec},B)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const c in this._layers)this._layers[c].setEventedParent(null);for(const c in this._sourceCaches)this._sourceCaches[c].clearTiles(),this._sourceCaches[c].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(c){const p=this._getSourceCaches(c);for(const T of p)T.clearTiles()}_reloadSource(c){const p=this._getSourceCaches(c);for(const T of p)T.resume(),T.reload()}_reloadSources(){for(const c of this._getSources())c.reload&&c.reload()}_updateSources(c){for(const p in this._sourceCaches)this._sourceCaches[p].update(c)}_generateCollisionBoxes(){for(const c in this._sourceCaches){const p=this._sourceCaches[c];p.resume(),p.reload()}}_updatePlacement(c,p,T,B,W=!1){let se=!1,ue=!1;const me={};for(const De of this._order){const Ae=this._layers[De];if(Ae.type!=="symbol")continue;if(!me[Ae.source]){const qe=this._getLayerSourceCache(Ae);if(!qe)continue;me[Ae.source]=qe.getRenderableIds(!0).map(ot=>qe.getTileByID(ot)).sort((ot,at)=>at.tileID.overscaledZ-ot.tileID.overscaledZ||(ot.tileID.isLessThan(at.tileID)?-1:1))}const Fe=this.crossTileSymbolIndex.addLayer(Ae,me[Ae.source],c.center.lng,c.projection);se=se||Fe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),W=W||this._layerOrderChanged||T===0,this._layerOrderChanged&&this.fire(new s.Event("neworder")),(W||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.exported.now(),c.zoom))&&(this.pauseablePlacement=new Pr(c,this._order,W,p,T,B,this.placement,this.fog&&c.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,me),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.exported.now()),ue=!0),se&&this.pauseablePlacement.placement.setStale()),ue||se)for(const De of this._order){const Ae=this._layers[De];Ae.type==="symbol"&&this.placement.updateLayerOpacities(Ae,me[Ae.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.exported.now())}_releaseSymbolFadeTiles(){for(const c in this._sourceCaches)this._sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,p,T){this.imageManager.getImages(p.icons,T),this._updateTilesForChangedImages();const B=W=>{W&&W.setDependencies(p.tileID.key,p.type,p.icons)};B(this._otherSourceCaches[p.source]),B(this._symbolSourceCaches[p.source])}getGlyphs(c,p,T){this.glyphManager.getGlyphs(p.stacks,T)}getResource(c,p,T){return s.makeRequest(p,T)}_getSourceCache(c){return this._otherSourceCaches[c]}_getLayerSourceCache(c){return c.type==="symbol"?this._symbolSourceCaches[c.source]:this._otherSourceCaches[c.source]}_getSourceCaches(c){const p=[];return this._otherSourceCaches[c]&&p.push(this._otherSourceCaches[c]),this._symbolSourceCaches[c]&&p.push(this._symbolSourceCaches[c]),p}_isSourceCacheLoaded(c){const p=this._getSourceCaches(c);return p.length===0?(this.fire(new s.ErrorEvent(new Error(`There is no source with ID '${c}'`))),!1):p.every(T=>T.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}X.getSourceType=function(_){return Ft[_]},X.setSourceType=function(_,c){Ft[_]=c},X.registerForPluginStateChange=s.registerForPluginStateChange;var de=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,xe="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Ee=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,je=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Ve=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let Ze={},It={};const St=[];di(de,St),di(Ee,St),di(je,St),di(Ve,St),Ze=Yi("",Ee),It=Yi(Ve,je);const Zt=Yi(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),pi=de,ki=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var si={background:Yi(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Yi(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Yi(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Yi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Yi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Yi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Yi("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Yi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Yi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Yi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Yi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Yi(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Yi(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Yi(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Yi(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Yi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Yi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Yi(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Yi(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Yi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Yi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Yi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Yi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Yi(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Yi(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Yi(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,xe),skyboxGradient:Yi(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,xe),skyboxCapture:Yi(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Yi(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Yi(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function di(_,c){const p=_.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let T of p)if(T=T.trim(),T[0]==="#"&&T.includes("if")&&!T.includes("endif")){T=T.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const B=T.split(" ");for(const W of B)c.includes(W)||c.push(W)}}function Yi(_,c){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,T=c.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),B={},W=[...St];return di(_,W),di(c,W),{fragmentSource:_=_.replace(p,(se,ue,me,De,Ae)=>(B[Ae]=!0,ue==="define"?`
#ifndef HAS_UNIFORM_u_${Ae}
varying ${me} ${De} ${Ae};
#else
uniform ${me} ${De} u_${Ae};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Ae}
    ${me} ${De} ${Ae} = u_${Ae};
#endif
`)),vertexSource:c=c.replace(p,(se,ue,me,De,Ae)=>{const Fe=De==="float"?"vec2":"vec4",qe=Ae.match(/color/)?"color":Fe;return B[Ae]?ue==="define"?`
#ifndef HAS_UNIFORM_u_${Ae}
uniform lowp float u_${Ae}_t;
attribute ${me} ${Fe} a_${Ae};
varying ${me} ${De} ${Ae};
#else
uniform ${me} ${De} u_${Ae};
#endif
`:qe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ae}
    ${Ae} = a_${Ae};
#else
    ${me} ${De} ${Ae} = u_${Ae};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ae}
    ${Ae} = unpack_mix_${qe}(a_${Ae}, u_${Ae}_t);
#else
    ${me} ${De} ${Ae} = u_${Ae};
#endif
`:ue==="define"?`
#ifndef HAS_UNIFORM_u_${Ae}
uniform lowp float u_${Ae}_t;
attribute ${me} ${Fe} a_${Ae};
#else
uniform ${me} ${De} u_${Ae};
#endif
`:qe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ae}
    ${me} ${De} ${Ae} = a_${Ae};
#else
    ${me} ${De} ${Ae} = u_${Ae};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ae}
    ${me} ${De} ${Ae} = unpack_mix_${qe}(a_${Ae}, u_${Ae}_t);
#else
    ${me} ${De} ${Ae} = u_${Ae};
#endif
`}),staticAttributes:T,usedDefines:W}}class qn{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(c,p,T,B,W,se,ue){this.context=c;let me=this.boundPaintVertexBuffers.length!==B.length;for(let Ae=0;!me&&Ae<B.length;Ae++)this.boundPaintVertexBuffers[Ae]!==B[Ae]&&(me=!0);let De=this.boundDynamicVertexBuffers.length!==ue.length;for(let Ae=0;!De&&Ae<ue.length;Ae++)this.boundDynamicVertexBuffers[Ae]!==ue[Ae]&&(De=!0);if(!c.extVertexArrayObject||!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==T||me||De||this.boundIndexBuffer!==W||this.boundVertexOffset!==se)this.freshBind(p,T,B,W,se,ue);else{c.bindVertexArrayOES.set(this.vao);for(const Ae of ue)Ae&&Ae.bind();W&&W.dynamicDraw&&W.bind()}}freshBind(c,p,T,B,W,se){let ue;const me=c.numAttributes,De=this.context,Ae=De.gl;if(De.extVertexArrayObject)this.vao&&this.destroy(),this.vao=De.extVertexArrayObject.createVertexArrayOES(),De.bindVertexArrayOES.set(this.vao),ue=0,this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=T,this.boundIndexBuffer=B,this.boundVertexOffset=W,this.boundDynamicVertexBuffers=se;else{ue=De.currentNumAttributes||0;for(let Fe=me;Fe<ue;Fe++)Ae.disableVertexAttribArray(Fe)}p.enableAttributes(Ae,c),p.bind(),p.setVertexAttribPointers(Ae,c,W);for(const Fe of T)Fe.enableAttributes(Ae,c),Fe.bind(),Fe.setVertexAttribPointers(Ae,c,W);for(const Fe of se)Fe&&(Fe.enableAttributes(Ae,c),Fe.bind(),Fe.setVertexAttribPointers(Ae,c,W));B&&B.bind(),De.currentNumAttributes=me}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function pn(_,c){const p=Math.pow(2,c.canonical.z),T=c.canonical.y;return[new s.MercatorCoordinate(0,T/p).toLngLat().lat,new s.MercatorCoordinate(0,(T+1)/p).toLngLat().lat]}function ps(_,c,p,T,B,W,se){const ue=_.context,me=ue.gl,De=p.fbo;if(!De)return;_.prepareDrawTile();const Ae=_.useProgram("hillshade");ue.activeTexture.set(me.TEXTURE0),me.bindTexture(me.TEXTURE_2D,De.colorAttachment.get());const Fe=((dt,Ke,tt,pt)=>{const lt=tt.paint.get("hillshade-shadow-color"),xt=tt.paint.get("hillshade-highlight-color"),At=tt.paint.get("hillshade-accent-color");let Tt=tt.paint.get("hillshade-illumination-direction")*(Math.PI/180);tt.paint.get("hillshade-illumination-anchor")==="viewport"&&(Tt-=dt.transform.angle);const zt=!dt.options.moving;return{u_matrix:pt||dt.transform.calculateProjMatrix(Ke.tileID.toUnwrapped(),zt),u_image:0,u_latrange:pn(0,Ke.tileID),u_light:[tt.paint.get("hillshade-exaggeration"),Tt],u_shadow:lt,u_highlight:xt,u_accent:At}})(_,p,T,_.terrain?c.projMatrix:null);_.prepareDrawProgram(ue,Ae,c.toUnwrapped());const{tileBoundsBuffer:qe,tileBoundsIndexBuffer:ot,tileBoundsSegments:at}=_.getTileBoundsBuffers(p);Ae.draw(ue,me.TRIANGLES,B,W,se,s.CullFaceMode.disabled,Fe,T.id,qe,ot,at)}function Jr(_,c,p){if(!c.needsDEMTextureUpload)return;const T=_.context,B=T.gl;T.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||_.getTileTexture(p.stride);const W=p.getPixels();c.demTexture?c.demTexture.update(W,{premultiply:!1}):c.demTexture=new s.Texture(T,W,B.RGBA,{premultiply:!1}),c.needsDEMTextureUpload=!1}function hr(_,c,p,T,B,W){const se=_.context,ue=se.gl;if(!c.dem)return;const me=c.dem;if(se.activeTexture.set(ue.TEXTURE1),Jr(_,c,me),!c.demTexture)return;c.demTexture.bind(ue.NEAREST,ue.CLAMP_TO_EDGE);const De=me.dim;se.activeTexture.set(ue.TEXTURE0);let Ae=c.fbo;if(!Ae){const at=new s.Texture(se,{width:De,height:De,data:null},ue.RGBA);at.bind(ue.LINEAR,ue.CLAMP_TO_EDGE),Ae=c.fbo=se.createFramebuffer(De,De,!0),Ae.colorAttachment.set(at.texture)}se.bindFramebuffer.set(Ae.framebuffer),se.viewport.set([0,0,De,De]);const{tileBoundsBuffer:Fe,tileBoundsIndexBuffer:qe,tileBoundsSegments:ot}=_.getMercatorTileBoundsBuffers();_.useProgram("hillshadePrepare").draw(se,ue.TRIANGLES,T,B,W,s.CullFaceMode.disabled,((at,dt)=>{const Ke=dt.stride,tt=s.create();return s.ortho(tt,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(tt,tt,[0,-s.EXTENT,0]),{u_matrix:tt,u_image:1,u_dimension:[Ke,Ke],u_zoom:at.overscaledZ,u_unpack:dt.unpackVector}})(c.tileID,me),p.id,Fe,qe,ot),c.needsHillshadePrepare=!1}const pr=_=>({u_matrix:new s.UniformMatrix4f(_),u_image0:new s.Uniform1i(_),u_skirt_height:new s.Uniform1f(_)}),Wn=(_,c)=>({u_matrix:_,u_image0:0,u_skirt_height:c}),Qs=(_,c,p,T,B,W,se,ue,me,De,Ae,Fe,qe,ot)=>({u_proj_matrix:Float32Array.from(_),u_globe_matrix:c,u_normalize_matrix:Float32Array.from(T),u_merc_matrix:p,u_zoom_transition:B,u_merc_center:W,u_image0:0,u_frustum_tl:se,u_frustum_tr:ue,u_frustum_br:me,u_frustum_bl:De,u_globe_pos:Ae,u_globe_radius:Fe,u_viewport:qe,u_grid_matrix:ot?Float32Array.from(ot):new Float32Array(9)});function mr(_,c){return _!=null&&c!=null&&!(!_.hasData()||!c.hasData())&&_.demTexture!=null&&c.demTexture!=null&&_.tileID.key!==c.tileID.key}const Qr=new class{constructor(){this.operations={}}newMorphing(_,c,p,T,B){if(_ in this.operations){const W=this.operations[_];W.to.tileID.key!==p.tileID.key&&(W.queued=p)}else this.operations[_]={startTime:T,phase:0,duration:B,from:c,to:p,queued:null}}getMorphValuesForProxy(_){if(!(_ in this.operations))return null;const c=this.operations[_];return{from:c.from,to:c.to,phase:c.phase}}update(_){for(const c in this.operations){const p=this.operations[c];for(p.phase=(_-p.startTime)/p.duration;p.phase>=1||!this._validOp(p);)if(!this._nextOp(p,_)){delete this.operations[c];break}}}_nextOp(_,c){return!!_.queued&&(_.from=_.to,_.to=_.queued,_.queued=null,_.phase=0,_.startTime=c,!0)}_validOp(_){return _.from.hasData()&&_.to.hasData()}},Ga={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Xl(_,c){const p=1<<_.z;return!c&&(_.x===0||_.x===p-1)||_.y===0||_.y===p-1}const eo=_=>({u_matrix:_});function ea(_,c,p,T,B){if(B>0){const W=s.exported.now(),se=(W-_.timeAdded)/B,ue=c?(W-c.timeAdded)/B:-1,me=p.getSource(),De=T.coveringZoomLevel({tileSize:me.tileSize,roundZoom:me.roundZoom}),Ae=!c||Math.abs(c.tileID.overscaledZ-De)>Math.abs(_.tileID.overscaledZ-De),Fe=Ae&&_.refreshedUponExpiration?1:s.clamp(Ae?se:1-ue,0,1);return _.refreshedUponExpiration&&se>=1&&(_.refreshedUponExpiration=!1),c?{opacity:1,mix:1-Fe}:{opacity:Fe,mix:0}}return{opacity:1,mix:0}}class Zn extends s.SourceCache{constructor(c){const p={type:"raster-dem",maxzoom:c.transform.maxZoom},T=new pe(Gi(),null),B=Gt("mock-dem",p,T,c.style);super("mock-dem",B,!1),B.setEventedParent(this),this._sourceLoaded=!0}_loadTile(c,p){c.state="loaded",p(null)}}class go extends s.SourceCache{constructor(c){const p=Gt("proxy",{type:"geojson",maxzoom:c.transform.maxZoom},new pe(Gi(),null),c.style);super("proxy",p,!1),p.setEventedParent(this),this.map=this.getSource().map=c,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(c,p,T){if(c.freezeTileCoverage)return;this.transform=c;const B=c.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((W,se)=>{if(W[se.key]="",!this._tiles[se.key]){const ue=new s.Tile(se,this._source.tileSize*se.overscaleFactor(),c.tileZoom);ue.state="loaded",this._tiles[se.key]=ue}return W},{});for(const W in this._tiles)W in B||(this.freeFBO(W),this._tiles[W].unloadVectorData(),delete this._tiles[W])}freeFBO(c){const p=this.proxyCachedFBO[c];if(p!==void 0){const T=Object.values(p);this.renderCachePool.push(...T),delete this.proxyCachedFBO[c]}}deallocRenderCache(){this.renderCache.forEach(c=>c.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class ta extends s.OverscaledTileID{constructor(c,p,T){super(c.overscaledZ,c.wrap,c.canonical.z,c.canonical.x,c.canonical.y),this.proxyTileKey=p,this.projMatrix=T}}class Bo extends s.Elevation{constructor(c,p){super(),this.painter=c,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[T,B,W]=function(me){const De=new s.StructArrayLayout4i8,Ae=new s.StructArrayLayout3ui6,Fe=131;De.reserve(17161),Ae.reserve(33800);const qe=s.EXTENT/128,ot=s.EXTENT+qe/2,at=ot+qe;for(let Ke=-qe;Ke<at;Ke+=qe)for(let tt=-qe;tt<at;tt+=qe){const pt=tt<0||tt>ot||Ke<0||Ke>ot?24575:0,lt=s.clamp(Math.round(tt),0,s.EXTENT),xt=s.clamp(Math.round(Ke),0,s.EXTENT);De.emplaceBack(lt+pt,xt,lt,xt)}const dt=(Ke,tt)=>{const pt=tt*Fe+Ke;Ae.emplaceBack(pt+1,pt,pt+Fe),Ae.emplaceBack(pt+Fe,pt+Fe+1,pt+1)};for(let Ke=1;Ke<129;Ke++)for(let tt=1;tt<129;tt++)dt(tt,Ke);return[0,129].forEach(Ke=>{for(let tt=0;tt<130;tt++)dt(tt,Ke),dt(Ke,tt)}),[De,Ae,32768]}(),se=c.context;this.gridBuffer=se.createVertexBuffer(T,s.boundsAttributes.members),this.gridIndexBuffer=se.createIndexBuffer(B),this.gridSegments=s.SegmentVector.simpleSegment(0,0,T.length,B.length),this.gridNoSkirtSegments=s.SegmentVector.simpleSegment(0,0,T.length,W),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new go(p.map),this.orthoMatrix=s.create(),s.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,s.EXTENT,0,s.EXTENT,0,1);const ue=se.gl;this._overlapStencilMode=new s.StencilMode({func:ue.GEQUAL,mask:255},0,255,ue.KEEP,ue.KEEP,ue.REPLACE),this._previousZoom=c.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=p,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Zn(p.map)}set style(c){c.on("data",this._onStyleDataEvent.bind(this)),c.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=c,this._checkRenderCacheEfficiency()}update(c,p,T){if(c&&c.terrain){this._style!==c&&(this.style=c),this.enabled=!0;const B=c.terrain.properties;this.sourceCache=c.terrain.drapeRenderMode===0?this._mockSourceCache:c._getSourceCache(B.get("source")),this._exaggeration=B.get("exaggeration");const W=()=>{this.sourceCache.used&&s.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const se=this.getScaledDemTileSize();this.sourceCache.update(p,se,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,W(),this._initializing=!0),W(),p.updateElevation(!0,T),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(p),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(c){this._findCoveringTileCache[c]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const c=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||c.efficiency!==100&&s.warnOnce(`Terrain render cache efficiency is not optimal (${c.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${c.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(c){c.coord&&c.dataType==="source"?this._clearRenderCacheForTile(c.sourceCacheId,c.coord):c.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const c in this._style._sourceCaches)this._style._sourceCaches[c].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(c=>c.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const c=2*this.proxySourceCache.getSource().tileSize;return[c,c]}set useVertexMorphing(c){this._useVertexMorphing=c}updateTileBinding(c){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const p=this.proxySourceCache,T=this.painter.transform;this._initializing&&(this._initializing=T._centerAltitude===0&&this.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(T.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const B=this.proxyCoords=p.getIds().map(me=>{const De=p.getTileByID(me).tileID;return De.projMatrix=T.calculateProjMatrix(De.toUnwrapped()),De});(function(me,De){const Ae=De.transform.pointCoordinate(De.transform.getCameraPoint()),Fe=new s.pointGeometry(Ae.x,Ae.y);me.sort((qe,ot)=>{if(ot.overscaledZ-qe.overscaledZ)return ot.overscaledZ-qe.overscaledZ;const at=new s.pointGeometry(qe.canonical.x+(1<<qe.canonical.z)*qe.wrap,qe.canonical.y),dt=new s.pointGeometry(ot.canonical.x+(1<<ot.canonical.z)*ot.wrap,ot.canonical.y),Ke=Fe.mult(1<<qe.canonical.z);return Ke.x-=.5,Ke.y-=.5,Ke.distSqr(at)-Ke.distSqr(dt)})})(B,this.painter),this._previousZoom=T.zoom;const W=this.proxyToSource||{};this.proxyToSource={},B.forEach(me=>{this.proxyToSource[me.key]={}}),this.terrainTileForTile={};const se=this._style._sourceCaches;for(const me in se){const De=se[me];if(!De.used||(De!==this.sourceCache&&this.resetTileLookupCache(De.id),this._setupProxiedCoordsForOrtho(De,c[me],W),De.usedForTerrain))continue;const Ae=c[me];De.getSource().reparseOverscaled&&this._assignTerrainTiles(Ae)}this.proxiedCoords[p.id]=B.map(me=>new ta(me,me.key,this.orthoMatrix)),this._assignTerrainTiles(B),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(W),this.renderingToTexture=!1,this._updateTimestamp=s.exported.now();const ue={};this._visibleDemTiles=[];for(const me of this.proxyCoords){const De=this.terrainTileForTile[me.key];if(!De)continue;const Ae=De.tileID.key;Ae in ue||(this._visibleDemTiles.push(De),ue[Ae]=Ae)}}_assignTerrainTiles(c){this._initializing||c.forEach(p=>{if(this.terrainTileForTile[p.key])return;const T=this._findTileCoveringTileID(p,this.sourceCache);T&&(this.terrainTileForTile[p.key]=T)})}_prepareDEMTextures(){const c=this.painter.context,p=c.gl;for(const T in this.terrainTileForTile){const B=this.terrainTileForTile[T],W=B.dem;!W||B.demTexture&&!B.needsDEMTextureUpload||(c.activeTexture.set(p.TEXTURE1),Jr(this.painter,B,W))}}_prepareDemTileUniforms(c,p,T,B){if(!p||p.demTexture==null)return!1;const W=c.tileID.canonical,se=Math.pow(2,p.tileID.canonical.z-W.z),ue=B||"";return T[`u_dem_tl${ue}`]=[W.x*se%1,W.y*se%1],T[`u_dem_scale${ue}`]=se,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const c=this.painter.context,p=c.gl;if(!this._emptyDepthBufferTexture){const T=new s.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new s.Texture(c,T,p.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let c=0;const p=this._visibleDemTiles.reduce((T,B)=>{if(!B.dem)return T;const W=B.dem.tree.minimums[0];return W>0&&c++,T+W},0);return c?p/c:0}_updateEmptyDEMTexture(){const c=this.painter.context,p=c.gl;c.activeTexture.set(p.TEXTURE2);const T=this._getLoadedAreaMinimum(),B=new s.RGBAImage({width:1,height:1},new Uint8Array(s.DEMData.pack(T,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let W=this._emptyDEMTexture;return W?W.update(B,{premultiply:!1}):W=this._emptyDEMTexture=new s.Texture(c,B,p.RGBA,{premultiply:!1}),W}setupElevationDraw(c,p,T){const B=this.painter.context,W=B.gl,se=(ue=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:s.DEMData.getUnpackVector(ue),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var ue;se.u_dem_size=this.sourceCache.getSource().tileSize,se.u_exaggeration=this.exaggeration();let me=null,De=null,Ae=1;if(T&&T.morphing&&this._useVertexMorphing){const Fe=T.morphing.srcDemTile,qe=T.morphing.dstDemTile;Ae=T.morphing.phase,Fe&&qe&&(this._prepareDemTileUniforms(c,Fe,se,"_prev")&&(De=Fe),this._prepareDemTileUniforms(c,qe,se)&&(me=qe))}if(De&&me?(B.activeTexture.set(W.TEXTURE2),me.demTexture.bind(W.NEAREST,W.CLAMP_TO_EDGE,W.NEAREST),B.activeTexture.set(W.TEXTURE4),De.demTexture.bind(W.NEAREST,W.CLAMP_TO_EDGE,W.NEAREST),se.u_dem_lerp=Ae):(me=this.terrainTileForTile[c.tileID.key],B.activeTexture.set(W.TEXTURE2),(this._prepareDemTileUniforms(c,me,se)?me.demTexture:this.emptyDEMTexture).bind(W.NEAREST,W.CLAMP_TO_EDGE)),B.activeTexture.set(W.TEXTURE3),T&&T.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(W.NEAREST,W.CLAMP_TO_EDGE),this._depthFBO&&(se.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(W.NEAREST,W.CLAMP_TO_EDGE),se.u_depth_size_inv=[1,1]),T&&T.useMeterToDem&&me){const Fe=(1<<me.tileID.canonical.z)*s.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;se.u_meter_to_dem=Fe}if(T&&T.labelPlaneMatrixInv&&(se.u_label_plane_matrix_inv=T.labelPlaneMatrixInv),p.setTerrainUniformValues(B,se),this.painter.transform.projection.name==="globe"){const Fe=this.globeUniformValues(this.painter.transform,c.tileID.canonical,T&&T.useDenormalizedUpVectorScale);p.setGlobeUniformValues(B,Fe)}}globeUniformValues(c,p,T){const B=c.projection;return{u_tile_tl_up:B.upVector(p,0,0),u_tile_tr_up:B.upVector(p,s.EXTENT,0),u_tile_br_up:B.upVector(p,s.EXTENT,s.EXTENT),u_tile_bl_up:B.upVector(p,0,s.EXTENT),u_tile_up_scale:T?s.GLOBE_METERS_TO_ECEF:B.upVectorScale(p,c.center.lat,c.worldSize).metersToTile}}renderToBackBuffer(c){const p=this.painter,T=this.painter.context;c.length!==0&&(T.bindFramebuffer.set(null),T.viewport.set([0,0,p.width,p.height]),p.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(B,W,se,ue,me){if(B.transform.projection.name==="globe")(function(De,Ae,Fe,qe,ot){const at=De.context,dt=at.gl;let Ke,tt;const pt=De.options.showTerrainWireframe?2:0,lt=De.transform,xt=s.globeUseCustomAntiAliasing(De,at,lt),At=(Oi,ri)=>{if(tt===Oi)return;const wi=[Ga[Oi],"PROJECTION_GLOBE_VIEW"];xt&&wi.push("CUSTOM_ANTIALIASING"),ri&&wi.push(Ga[pt]),Ke=De.useProgram("globeRaster",null,wi),tt=Oi},Tt=De.colorModeForRenderPass(),zt=new s.DepthMode(dt.LEQUAL,s.DepthMode.ReadWrite,De.depthRangeFor3D);Qr.update(ot);const ei=s.calculateGlobeMercatorMatrix(lt),Kt=[s.mercatorXfromLng(lt.center.lng),s.mercatorYfromLat(lt.center.lat)],Vt=pt?[!1,!0]:[!1],Ei=De.globeSharedBuffers,qt=[lt.width*s.exported.devicePixelRatio,lt.height*s.exported.devicePixelRatio],mi=Float32Array.from(lt.globeMatrix),ni={useDenormalizedUpVectorScale:!0};if(Vt.forEach(Oi=>{tt=-1;const ri=Oi?dt.LINES:dt.TRIANGLES;for(const wi of qe){const zi=Fe.getTile(wi),Ht=s.StencilMode.disabled,ii=Ae.prevTerrainTileForTile[wi.key],mn=Ae.terrainTileForTile[wi.key];mr(ii,mn)&&Qr.newMorphing(wi.key,ii,mn,ot,250),at.activeTexture.set(dt.TEXTURE0),zi.texture.bind(dt.LINEAR,dt.CLAMP_TO_EDGE);const Sn=Qr.getMorphValuesForProxy(wi.key),gn=Sn?1:0;Sn&&s.extend$1(ni,{morphing:{srcDemTile:Sn.from,dstDemTile:Sn.to,phase:s.easeCubicInOut(Sn.phase)}});const jn=s.tileCornersToBounds(wi.canonical),or=s.getLatitudinalLod(jn.getCenter().lat),kn=s.getGridMatrix(wi.canonical,jn,or,lt.worldSize/lt._pixelsPerMercatorPixel),an=s.globeNormalizeECEF(s.globeTileBounds(wi.canonical)),is=Qs(lt.projMatrix,mi,ei,an,s.globeToMercatorTransition(lt.zoom),Kt,lt.frustumCorners.TL,lt.frustumCorners.TR,lt.frustumCorners.BR,lt.frustumCorners.BL,lt.globeCenterInViewSpace,lt.globeRadius,qt,kn);if(At(gn,Oi),Ae.setupElevationDraw(zi,Ke,ni),De.prepareDrawProgram(at,Ke,wi.toUnwrapped()),Ei){const[Gr,rs,es]=Oi?Ei.getWirefameBuffers(De.context,or):Ei.getGridBuffers(or);Ke.draw(at,ri,zt,Ht,Tt,s.CullFaceMode.backCCW,is,"globe_raster",Gr,rs,es)}}}),Ei){const Oi=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];xt&&Oi.push("CUSTOM_ANTIALIASING"),Ke=De.useProgram("globeRaster",null,Oi);for(const ri of qe){const{x:wi,y:zi,z:Ht}=ri.canonical,ii=zi===0,mn=zi===(1<<Ht)-1,[Sn,gn,jn,or]=Ei.getPoleBuffers(Ht);if(or&&(ii||mn)){const kn=Fe.getTile(ri);at.activeTexture.set(dt.TEXTURE0),kn.texture.bind(dt.LINEAR,dt.CLAMP_TO_EDGE);let an=s.globePoleMatrixForTile(Ht,wi,lt);const is=s.globeNormalizeECEF(s.globeTileBounds(ri.canonical)),Gr=(rs,es)=>rs.draw(at,dt.TRIANGLES,zt,s.StencilMode.disabled,Tt,s.CullFaceMode.disabled,Qs(lt.projMatrix,an,an,is,0,Kt,lt.frustumCorners.TL,lt.frustumCorners.TR,lt.frustumCorners.BR,lt.frustumCorners.BL,lt.globeCenterInViewSpace,lt.globeRadius,qt),"globe_pole_raster",es,jn,or);Ae.setupElevationDraw(kn,Ke,ni),De.prepareDrawProgram(at,Ke,ri.toUnwrapped()),ii&&Gr(Ke,Sn),mn&&(an=s.scale(s.create(),an,[1,-1,1]),Gr(Ke,gn))}}}})(B,W,se,ue,me);else{const De=B.context,Ae=De.gl;let Fe,qe;const ot=B.options.showTerrainWireframe?2:0,at=(lt,xt)=>{if(qe===lt)return;const At=[Ga[lt]];xt&&At.push(Ga[ot]),Fe=B.useProgram("terrainRaster",null,At),qe=lt},dt=B.colorModeForRenderPass(),Ke=new s.DepthMode(Ae.LEQUAL,s.DepthMode.ReadWrite,B.depthRangeFor3D);Qr.update(me);const tt=B.transform,pt=6*Math.pow(1.5,22-tt.zoom)*W.exaggeration();(ot?[!1,!0]:[!1]).forEach(lt=>{qe=-1;const xt=lt?Ae.LINES:Ae.TRIANGLES,[At,Tt]=lt?W.getWirefameBuffer():[W.gridIndexBuffer,W.gridSegments];for(const zt of ue){const ei=se.getTile(zt),Kt=s.StencilMode.disabled,Vt=W.prevTerrainTileForTile[zt.key],Ei=W.terrainTileForTile[zt.key];mr(Vt,Ei)&&Qr.newMorphing(zt.key,Vt,Ei,me,250),De.activeTexture.set(Ae.TEXTURE0),ei.texture.bind(Ae.LINEAR,Ae.CLAMP_TO_EDGE,Ae.LINEAR_MIPMAP_NEAREST);const qt=Qr.getMorphValuesForProxy(zt.key),mi=qt?1:0;let ni;qt&&(ni={morphing:{srcDemTile:qt.from,dstDemTile:qt.to,phase:s.easeCubicInOut(qt.phase)}});const Oi=Wn(zt.projMatrix,Xl(zt.canonical,tt.renderWorldCopies)?pt/10:pt);at(mi,lt),W.setupElevationDraw(ei,Fe,ni),B.prepareDrawProgram(De,Fe,zt.toUnwrapped()),Fe.draw(De,xt,Ke,Kt,dt,s.CullFaceMode.backCCW,Oi,"terrain_raster",W.gridBuffer,At,Tt)}})}}(p,this,this.proxySourceCache,c,this._updateTimestamp),this.renderingToTexture=!0,p.gpuTimingDeferredRenderEnd(),c.splice(0,c.length))}renderBatch(c){if(this._drapedRenderBatches.length===0)return c+1;this.renderingToTexture=!0;const p=this.painter,T=this.painter.context,B=this.proxySourceCache,W=this.proxiedCoords[B.id],se=this._drapedRenderBatches.shift(),ue=[],me=p.style.order;let De=0;for(const Ae of W){const Fe=B.getTileByID(Ae.proxyTileKey),qe=B.proxyCachedFBO[Ae.key]?B.proxyCachedFBO[Ae.key][c]:void 0,ot=qe!==void 0?B.renderCache[qe]:this.pool[De++],at=qe!==void 0;if(Fe.texture=ot.tex,at&&!ot.dirty){ue.push(Fe.tileID);continue}let dt;T.bindFramebuffer.set(ot.fb.framebuffer),this.renderedToTile=!1,ot.dirty&&(T.clear({color:s.Color.transparent,stencil:0}),ot.dirty=!1);for(let Ke=se.start;Ke<=se.end;++Ke){const tt=p.style._layers[me[Ke]];if(tt.isHidden(p.transform.zoom))continue;const pt=p.style._getLayerSourceCache(tt),lt=pt?this.proxyToSource[Ae.key][pt.id]:[Ae];if(!lt)continue;const xt=lt;T.viewport.set([0,0,ot.fb.width,ot.fb.height]),dt!==(pt?pt.id:null)&&(this._setupStencil(ot,lt,tt,pt),dt=pt?pt.id:null),p.renderLayer(p,pt,tt,xt)}this.renderedToTile?(ot.dirty=!0,ue.push(Fe.tileID)):at||--De,De===5&&(De=0,this.renderToBackBuffer(ue))}return this.renderToBackBuffer(ue),this.renderingToTexture=!1,T.bindFramebuffer.set(null),T.viewport.set([0,0,p.width,p.height]),se.end+1}postRender(){}renderCacheEfficiency(c){const p=c.order.length;if(p===0)return{efficiency:100};let T,B=0,W=0,se=!1;for(let ue=0;ue<p;++ue){const me=c._layers[c.order[ue]];this._style.isLayerDraped(me)?(se&&++B,++W):se||(se=!0,T=me.id)}return W===0?{efficiency:100}:{efficiency:100*(1-B/W),firstUndrapedLayer:T}}getMinElevationBelowMSL(){let c=0;return this._visibleDemTiles.filter(p=>p.dem).forEach(p=>{c=Math.min(c,p.dem.tree.minimums[0])}),c===0?c:(c-30)*this._exaggeration}raycast(c,p,T){if(!this._visibleDemTiles)return null;const B=this._visibleDemTiles.filter(W=>W.dem).map(W=>{const se=W.tileID,ue=1<<se.overscaledZ,{x:me,y:De}=se.canonical,Ae=me/ue,Fe=(me+1)/ue,qe=De/ue,ot=(De+1)/ue;return{minx:Ae,miny:qe,maxx:Fe,maxy:ot,t:W.dem.tree.raycastRoot(Ae,qe,Fe,ot,c,p,T),tile:W}});B.sort((W,se)=>(W.t!==null?W.t:Number.MAX_VALUE)-(se.t!==null?se.t:Number.MAX_VALUE));for(const W of B){if(W.t==null)return null;const se=W.tile.dem.tree.raycast(W.minx,W.miny,W.maxx,W.maxy,c,p,T);if(se!=null)return se}return null}_createFBO(){const c=this.painter.context,p=c.gl,T=this.drapeBufferSize;c.activeTexture.set(p.TEXTURE0);const B=new s.Texture(c,{width:T[0],height:T[1],data:null},p.RGBA);B.bind(p.LINEAR,p.CLAMP_TO_EDGE);const W=c.createFramebuffer(T[0],T[1],!1);return W.colorAttachment.set(B.texture),W.depthAttachment=new il(c,W.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=c.createRenderbuffer(c.gl.DEPTH_STENCIL,T[0],T[1]),this._stencilRef=0,W.depthAttachment.set(this._sharedDepthStencil),c.clear({stencil:0})):W.depthAttachment.set(this._sharedDepthStencil),c.extTextureFilterAnisotropic&&!c.extTextureFilterAnisotropicForceOff&&p.texParameterf(p.TEXTURE_2D,c.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,c.extTextureFilterAnisotropicMax),{fb:W,tex:B,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const c in this._style._sourceCaches)if(this._style._sourceCaches[c].hasTransition())return!0;return this._style.order.some(c=>{const p=this._style._layers[c],T=p.isHidden(this.painter.transform.zoom);return p.type!=="custom"&&!T&&p.hasTransition()})}_clearRasterFadeFromRenderCache(){let c=!1;for(const p in this._style._sourceCaches)if(this._style._sourceCaches[p]._source instanceof We){c=!0;break}if(c)for(let p=0;p<this._style.order.length;++p){const T=this._style._layers[this._style.order[p]],B=T.isHidden(this.painter.transform.zoom),W=this._style._getLayerSourceCache(T);if(T.type!=="raster"||B||!W)continue;const se=T.paint.get("raster-fade-duration");for(const ue of this.proxyCoords){const me=this.proxyToSource[ue.key][W.id];if(me)for(const De of me){const Ae=ea(W.getTile(De),W.findLoadedParent(De,0),W,this.painter.transform,se);(Ae.opacity!==1||Ae.mix!==0)&&this._clearRenderCacheForTile(W.id,De)}}}}_setupDrapedRenderBatches(){const c=this._style.order,p=c.length;if(p===0)return;const T=[];let B,W=0,se=this._style._layers[c[W]];for(;!this._style.isLayerDraped(se)&&se.isHidden(this.painter.transform.zoom)&&++W<p;)se=this._style._layers[c[W]];for(;W<p;++W){const ue=this._style._layers[c[W]];ue.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(ue)?B===void 0&&(B=W):B!==void 0&&(T.push({start:B,end:W-1}),B=void 0))}B!==void 0&&T.push({start:B,end:W-1}),this._drapedRenderBatches=T}_setupRenderCache(c){const p=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,p.renderCache.length>p.renderCachePool.length){const se=Object.values(p.proxyCachedFBO);p.proxyCachedFBO={};for(let ue=0;ue<se.length;++ue){const me=Object.values(se[ue]);p.renderCachePool.push(...me)}}return}this._clearRasterFadeFromRenderCache();const T=this.proxyCoords,B=this._tilesDirty;for(let se=T.length-1;se>=0;se--){const ue=T[se];if(p.getTileByID(ue.key),p.proxyCachedFBO[ue.key]!==void 0){const me=c[ue.key],De=this.proxyToSource[ue.key];let Ae=0;for(const Fe in De){const qe=De[Fe],ot=me[Fe];if(!ot||ot.length!==qe.length||qe.some((at,dt)=>at!==ot[dt]||B[Fe]&&B[Fe].hasOwnProperty(at.key))){Ae=-1;break}++Ae}for(const Fe in p.proxyCachedFBO[ue.key])p.renderCache[p.proxyCachedFBO[ue.key][Fe]].dirty=Ae<0||Ae!==Object.values(me).length}}const W=[...this._drapedRenderBatches];W.sort((se,ue)=>ue.end-ue.start-(se.end-se.start));for(const se of W)for(const ue of T){if(p.proxyCachedFBO[ue.key])continue;let me=p.renderCachePool.pop();me===void 0&&p.renderCache.length<50&&(me=p.renderCache.length,p.renderCache.push(this._createFBO())),me!==void 0&&(p.proxyCachedFBO[ue.key]={},p.proxyCachedFBO[ue.key][se.start]=me,p.renderCache[me].dirty=!0)}this._tilesDirty={}}_setupStencil(c,p,T,B){if(!B||!this._sourceTilesOverlap[B.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const W=this.painter.context,se=W.gl;if(p.length<=1)return void(this._overlapStencilType=!1);let ue;if(T.isTileClipped())ue=p.length,this._overlapStencilMode.test={func:se.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(p[0].overscaledZ>p[p.length-1].overscaledZ))return void(this._overlapStencilType=!1);ue=1,this._overlapStencilMode.test={func:se.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+ue>255&&(W.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=ue,this._overlapStencilMode.ref=this._stencilRef,T.isTileClipped()&&this._renderTileClippingMasks(p,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(c){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[c.key]),this._overlapStencilMode):s.StencilMode.disabled}_renderTileClippingMasks(c,p){const T=this.painter,B=this.painter.context,W=B.gl;T._tileClippingMaskIDs={},B.setColorMode(s.ColorMode.disabled),B.setDepthMode(s.DepthMode.disabled);const se=T.useProgram("clippingMask");for(const ue of c){const me=T._tileClippingMaskIDs[ue.key]=--p;se.draw(B,W.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:W.ALWAYS,mask:0},me,255,W.KEEP,W.KEEP,W.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,eo(ue.projMatrix),"$clipping",T.tileExtentBuffer,T.quadTriangleIndexBuffer,T.tileExtentSegments)}}pointCoordinate(c){const p=this.painter.transform;if(c.x<0||c.x>p.width||c.y<0||c.y>p.height)return null;const T=[c.x,c.y,1,1];s.transformMat4$1(T,T,p.pixelMatrixInverse),s.scale$1(T,T,1/T[3]),T[0]/=p.worldSize,T[1]/=p.worldSize;const B=p._camera.position,W=s.mercatorZfromAltitude(1,p.center.lat),se=[B[0],B[1],B[2]/W,0],ue=s.subtract([],T.slice(0,3),se);s.normalize(ue,ue);const me=this.raycast(se,ue,this._exaggeration);return me!==null&&me?(s.scaleAndAdd(se,se,ue,me),se[3]=se[2],se[2]*=W,se):null}drawDepth(){const c=this.painter,p=c.context,T=this.proxySourceCache,B=Math.ceil(c.width),W=Math.ceil(c.height);if(!this._depthFBO||this._depthFBO.width===B&&this._depthFBO.height===W||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const se=p.gl,ue=p.createFramebuffer(B,W,!0);p.activeTexture.set(se.TEXTURE0);const me=new s.Texture(p,{width:B,height:W,data:null},se.RGBA);me.bind(se.NEAREST,se.CLAMP_TO_EDGE),ue.colorAttachment.set(me.texture);const De=p.createRenderbuffer(p.gl.DEPTH_COMPONENT16,B,W);ue.depthAttachment.set(De),this._depthFBO=ue,this._depthTexture=me}p.bindFramebuffer.set(this._depthFBO.framebuffer),p.viewport.set([0,0,B,W]),function(se,ue,me,De){if(se.transform.projection.name==="globe")return;const Ae=se.context,Fe=Ae.gl;Ae.clear({depth:1});const qe=se.useProgram("terrainDepth"),ot=new s.DepthMode(Fe.LESS,s.DepthMode.ReadWrite,se.depthRangeFor3D);for(const at of De){const dt=me.getTile(at),Ke=Wn(at.projMatrix,0);ue.setupElevationDraw(dt,qe),qe.draw(Ae,Fe.TRIANGLES,ot,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.backCCW,Ke,"terrain_depth",ue.gridBuffer,ue.gridIndexBuffer,ue.gridNoSkirtSegments)}}(c,this,T,this.proxyCoords)}_setupProxiedCoordsForOrtho(c,p,T){if(c.getSource()instanceof Dt)return this._setupProxiedCoordsForImageSource(c,p,T);this._findCoveringTileCache[c.id]=this._findCoveringTileCache[c.id]||{};const B=this.proxiedCoords[c.id]=[],W=this.proxyCoords;for(let ue=0;ue<W.length;ue++){const me=W[ue],De=this._findTileCoveringTileID(me,c);if(De){const Ae=this._createProxiedId(me,De,T[me.key]&&T[me.key][c.id]);B.push(Ae),this.proxyToSource[me.key][c.id]=[Ae]}}let se=!1;for(let ue=0;ue<p.length;ue++){const me=c.getTile(p[ue]);if(!me||!me.hasData())continue;const De=this._findTileCoveringTileID(me.tileID,this.proxySourceCache);if(De&&De.tileID.canonical.z!==me.tileID.canonical.z){const Ae=this.proxyToSource[De.tileID.key][c.id],Fe=this._createProxiedId(De.tileID,me,T[De.tileID.key]&&T[De.tileID.key][c.id]);Ae?Ae.splice(Ae.length-1,0,Fe):this.proxyToSource[De.tileID.key][c.id]=[Fe],B.push(Fe),se=!0}}this._sourceTilesOverlap[c.id]=se}_setupProxiedCoordsForImageSource(c,p,T){if(!c.getSource().loaded())return;const B=this.proxiedCoords[c.id]=[],W=this.proxyCoords,se=c.getSource(),ue=new s.pointGeometry(se.tileID.x,se.tileID.y)._div(1<<se.tileID.z),me=se.coordinates.map(s.MercatorCoordinate.fromLngLat).reduce((Ae,Fe)=>(Ae.min.x=Math.min(Ae.min.x,Fe.x-ue.x),Ae.min.y=Math.min(Ae.min.y,Fe.y-ue.y),Ae.max.x=Math.max(Ae.max.x,Fe.x-ue.x),Ae.max.y=Math.max(Ae.max.y,Fe.y-ue.y),Ae),{min:new s.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new s.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),De=(Ae,Fe)=>{const qe=Ae.wrap+Ae.canonical.x/(1<<Ae.canonical.z),ot=Ae.canonical.y/(1<<Ae.canonical.z),at=s.EXTENT/(1<<Ae.canonical.z),dt=Fe.wrap+Fe.canonical.x/(1<<Fe.canonical.z),Ke=Fe.canonical.y/(1<<Fe.canonical.z);return qe+at<dt+me.min.x||qe>dt+me.max.x||ot+at<Ke+me.min.y||ot>Ke+me.max.y};for(let Ae=0;Ae<W.length;Ae++){const Fe=W[Ae];for(let qe=0;qe<p.length;qe++){const ot=c.getTile(p[qe]);if(!ot||!ot.hasData()||De(Fe,ot.tileID))continue;const at=this._createProxiedId(Fe,ot,T[Fe.key]&&T[Fe.key][c.id]),dt=this.proxyToSource[Fe.key][c.id];dt?dt.push(at):this.proxyToSource[Fe.key][c.id]=[at],B.push(at)}}}_createProxiedId(c,p,T){let B=this.orthoMatrix;if(T){const W=T.find(se=>se.key===p.tileID.key);if(W)return W}if(p.tileID.key!==c.key){const W=c.canonical.z-p.tileID.canonical.z;let se,ue,me;B=s.create();const De=p.tileID.wrap-c.wrap<<c.overscaledZ;W>0?(se=s.EXTENT>>W,ue=se*((p.tileID.canonical.x<<W)-c.canonical.x+De),me=se*((p.tileID.canonical.y<<W)-c.canonical.y)):(se=s.EXTENT<<-W,ue=s.EXTENT*(p.tileID.canonical.x-(c.canonical.x+De<<-W)),me=s.EXTENT*(p.tileID.canonical.y-(c.canonical.y<<-W))),s.ortho(B,0,se,0,se,0,1),s.translate(B,B,[ue,me,0])}return new ta(p.tileID,c.key,B)}_findTileCoveringTileID(c,p){let T=p.getTile(c);if(T&&T.hasData())return T;const B=this._findCoveringTileCache[p.id],W=B[c.key];if(T=W?p.getTileByID(W):null,T&&T.hasData()||W===null)return T;let se=T?T.tileID:c,ue=se.overscaledZ;const me=p.getSource().minzoom,De=[];if(!W){const Fe=p.getSource().maxzoom;if(c.canonical.z>=Fe){const qe=c.canonical.z-Fe;p.getSource().reparseOverscaled?(ue=Math.max(c.canonical.z+2,p.transform.tileZoom),se=new s.OverscaledTileID(ue,c.wrap,Fe,c.canonical.x>>qe,c.canonical.y>>qe)):qe!==0&&(ue=Fe,se=new s.OverscaledTileID(ue,c.wrap,Fe,c.canonical.x>>qe,c.canonical.y>>qe))}se.key!==c.key&&(De.push(se.key),T=p.getTile(se))}const Ae=Fe=>{De.forEach(qe=>{B[qe]=Fe}),De.length=0};for(ue-=1;ue>=me&&(!T||!T.hasData());ue--){T&&Ae(T.tileID.key);const Fe=se.calculateScaledKey(ue);if(T=p.getTileByID(Fe),T&&T.hasData())break;const qe=B[Fe];if(qe===null)break;qe===void 0?De.push(Fe):T=p.getTileByID(qe)}return Ae(T?T.tileID.key:null),T&&T.hasData()?T:null}findDEMTileFor(c){return this.enabled?this._findTileCoveringTileID(c,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(c,p){let T=this._tilesDirty[c];T||(T=this._tilesDirty[c]={}),T[p.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const c=function(p){let T=0;const B=new s.StructArrayLayout2ui4,W=131;for(let se=1;se<129;se++){for(let ue=1;ue<129;ue++)T=se*W+ue,B.emplaceBack(T,T+1),B.emplaceBack(T,T+W),B.emplaceBack(T+1,T+W),se===128&&B.emplaceBack(T+W,T+W+1);B.emplaceBack(T+1,T+1+W)}return B}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(c),this.wireframeSegments=s.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,c.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class ga{static cacheKey(c,p,T,B){let W=`${p}${B?B.cacheKey:""}`;for(const se of T)c.usedDefines.includes(se)&&(W+=`/${se}`);return W}constructor(c,p,T,B,W,se){const ue=c.gl;this.program=ue.createProgram();const me=function(Ke){const tt=[];for(let pt=0;pt<Ke.length;pt++){if(Ke[pt]===null)continue;const lt=Ke[pt].split(" ");tt.push(lt.pop())}return tt}(T.staticAttributes),De=B?B.getBinderAttributes():[],Ae=me.concat(De);let Fe=B?B.defines():[];Fe=Fe.concat(se.map(Ke=>`#define ${Ke}`));const qe=Fe.concat(c.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(ki):ki,ki,pi,Zt.fragmentSource,It.fragmentSource,T.fragmentSource).join(`
`),ot=Fe.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,pi,Zt.vertexSource,It.vertexSource,Ze.vertexSource,T.vertexSource).join(`
`),at=ue.createShader(ue.FRAGMENT_SHADER);if(ue.isContextLost())return void(this.failedToCreate=!0);ue.shaderSource(at,qe),ue.compileShader(at),ue.attachShader(this.program,at);const dt=ue.createShader(ue.VERTEX_SHADER);if(ue.isContextLost())this.failedToCreate=!0;else{ue.shaderSource(dt,ot),ue.compileShader(dt),ue.attachShader(this.program,dt),this.attributes={},this.numAttributes=Ae.length;for(let Ke=0;Ke<this.numAttributes;Ke++)Ae[Ke]&&(ue.bindAttribLocation(this.program,Ke,Ae[Ke]),this.attributes[Ae[Ke]]=Ke);ue.linkProgram(this.program),ue.deleteShader(dt),ue.deleteShader(at),this.fixedUniforms=W(c),this.binderUniforms=B?B.getUniforms(c):[],se.includes("TERRAIN")&&(this.terrainUniforms=(Ke=>({u_dem:new s.Uniform1i(Ke),u_dem_prev:new s.Uniform1i(Ke),u_dem_unpack:new s.Uniform4f(Ke),u_dem_tl:new s.Uniform2f(Ke),u_dem_scale:new s.Uniform1f(Ke),u_dem_tl_prev:new s.Uniform2f(Ke),u_dem_scale_prev:new s.Uniform1f(Ke),u_dem_size:new s.Uniform1f(Ke),u_dem_lerp:new s.Uniform1f(Ke),u_exaggeration:new s.Uniform1f(Ke),u_depth:new s.Uniform1i(Ke),u_depth_size_inv:new s.Uniform2f(Ke),u_meter_to_dem:new s.Uniform1f(Ke),u_label_plane_matrix_inv:new s.UniformMatrix4f(Ke)}))(c)),se.includes("GLOBE")&&(this.globeUniforms=(Ke=>({u_tile_tl_up:new s.Uniform3f(Ke),u_tile_tr_up:new s.Uniform3f(Ke),u_tile_br_up:new s.Uniform3f(Ke),u_tile_bl_up:new s.Uniform3f(Ke),u_tile_up_scale:new s.Uniform1f(Ke)}))(c)),se.includes("FOG")&&(this.fogUniforms=(Ke=>({u_fog_matrix:new s.UniformMatrix4f(Ke),u_fog_range:new s.Uniform2f(Ke),u_fog_color:new s.Uniform4f(Ke),u_fog_horizon_blend:new s.Uniform1f(Ke),u_fog_temporal_offset:new s.Uniform1f(Ke),u_frustum_tl:new s.Uniform3f(Ke),u_frustum_tr:new s.Uniform3f(Ke),u_frustum_br:new s.Uniform3f(Ke),u_frustum_bl:new s.Uniform3f(Ke),u_globe_pos:new s.Uniform3f(Ke),u_globe_radius:new s.Uniform1f(Ke),u_globe_transition:new s.Uniform1f(Ke),u_is_globe:new s.Uniform1i(Ke),u_viewport:new s.Uniform2f(Ke)}))(c))}}setTerrainUniformValues(c,p){if(!this.terrainUniforms)return;const T=this.terrainUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const B in p)T[B]&&T[B].set(this.program,B,p[B])}}setGlobeUniformValues(c,p){if(!this.globeUniforms)return;const T=this.globeUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const B in p)T[B]&&T[B].set(this.program,B,p[B])}}setFogUniformValues(c,p){if(!this.fogUniforms)return;const T=this.fogUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const B in p)T[B].set(this.program,B,p[B])}}draw(c,p,T,B,W,se,ue,me,De,Ae,Fe,qe,ot,at,dt){const Ke=c.gl;if(this.failedToCreate)return;c.program.set(this.program),c.setDepthMode(T),c.setStencilMode(B),c.setColorMode(W),c.setCullFace(se);for(const pt of Object.keys(this.fixedUniforms))this.fixedUniforms[pt].set(this.program,pt,ue[pt]);at&&at.setUniforms(this.program,c,this.binderUniforms,qe,{zoom:ot});const tt={[Ke.LINES]:2,[Ke.TRIANGLES]:3,[Ke.LINE_STRIP]:1}[p];for(const pt of Fe.get()){const lt=pt.vaos||(pt.vaos={});(lt[me]||(lt[me]=new qn)).bind(c,this,De,at?at.getPaintVertexBuffers():[],Ae,pt.vertexOffset,dt||[]),Ke.drawElements(p,pt.primitiveLength*tt,Ke.UNSIGNED_SHORT,pt.primitiveOffset*tt*2)}}}function Zl(_,c){const p=Math.pow(2,c.tileID.overscaledZ),T=c.tileSize*Math.pow(2,_.transform.tileZoom)/p,B=T*(c.tileID.canonical.x+c.tileID.wrap*p),W=T*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture.size,u_tile_units_to_pixels:1/F(c,1,_.transform.tileZoom),u_pixel_coord_upper:[B>>16,W>>16],u_pixel_coord_lower:[65535&B,65535&W]}}const ol=s.create(),Md=(_,c,p,T,B,W,se,ue,me,De,Ae)=>{const Fe=c.style.light,qe=Fe.properties.get("position"),ot=[qe.x,qe.y,qe.z],at=s.create$1();Fe.properties.get("anchor")==="viewport"&&(s.fromRotation(at,-c.transform.angle),s.transformMat3(ot,ot,at));const dt=Fe.properties.get("color"),Ke=c.transform,tt={u_matrix:_,u_lightpos:ot,u_lightintensity:Fe.properties.get("intensity"),u_lightcolor:[dt.r,dt.g,dt.b],u_vertical_gradient:+p,u_opacity:T,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:ol,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:B,u_edge_radius:W};return Ke.projection.name==="globe"&&(tt.u_tile_id=[se.canonical.x,se.canonical.y,1<<se.canonical.z],tt.u_zoom_transition=me,tt.u_inv_rot_matrix=Ae,tt.u_merc_center=De,tt.u_up_dir=Ke.projection.upVector(new s.CanonicalTileID(0,0,0),De[0]*s.EXTENT,De[1]*s.EXTENT),tt.u_height_lift=ue),tt},Fr=(_,c,p,T,B,W,se,ue,me,De,Ae,Fe)=>{const qe=Md(_,c,p,T,B,W,se,me,De,Ae,Fe),ot={u_height_factor:-Math.pow(2,se.overscaledZ)/ue.tileSize/8};return s.extend(qe,Zl(c,ue),ot)},ya=_=>({u_matrix:_}),Zc=(_,c,p)=>s.extend(ya(_),Zl(c,p)),Kl=(_,c)=>({u_matrix:_,u_world:c}),zo=(_,c,p,T)=>s.extend(Zc(_,c,p),{u_world:T}),Jl=s.create(),wc=(_,c,p,T,B,W)=>{const se=_.transform,ue=se.projection.name==="globe";let me;if(W.paint.get("circle-pitch-alignment")==="map")if(ue){const Ae=s.globePixelsToTileUnits(se.zoom,c.canonical)*se._pixelsPerMercatorPixel;me=Float32Array.from([Ae,0,0,Ae])}else me=se.calculatePixelsToTileUnitsMatrix(p);else me=new Float32Array([se.pixelsToGLUnits[0],0,0,se.pixelsToGLUnits[1]]);const De={u_camera_to_center_distance:se.cameraToCenterDistance,u_matrix:_.translatePosMatrix(c.projMatrix,p,W.paint.get("circle-translate"),W.paint.get("circle-translate-anchor")),u_device_pixel_ratio:s.exported.devicePixelRatio,u_extrude_scale:me,u_inv_rot_matrix:Jl,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(ue){De.u_inv_rot_matrix=T,De.u_merc_center=B,De.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],De.u_zoom_transition=s.globeToMercatorTransition(se.zoom);const Ae=B[0]*s.EXTENT,Fe=B[1]*s.EXTENT;De.u_up_dir=se.projection.upVector(new s.CanonicalTileID(0,0,0),Ae,Fe)}return De},nu=_=>{const c=[];return _.paint.get("circle-pitch-alignment")==="map"&&c.push("PITCH_WITH_MAP"),_.paint.get("circle-pitch-scale")==="map"&&c.push("SCALE_WITH_MAP"),c},Ql=(_,c,p,T)=>{const B=s.EXTENT/p.tileSize;return{u_matrix:_,u_camera_to_center_distance:c.getCameraToCenterDistance(T),u_extrude_scale:[c.pixelsToGLUnits[0]/B,c.pixelsToGLUnits[1]/B]}},ec=(_,c,p=1)=>({u_matrix:_,u_color:c,u_overlay:0,u_overlay_scale:p}),Iu=s.create(),tc=(_,c,p,T,B,W,se)=>{const ue=_.transform,me=ue.projection.name==="globe",De=me?s.globePixelsToTileUnits(ue.zoom,c.canonical)*ue._pixelsPerMercatorPixel:F(p,1,W),Ae={u_matrix:c.projMatrix,u_extrude_scale:De,u_intensity:se,u_inv_rot_matrix:Iu,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(me){Ae.u_inv_rot_matrix=T,Ae.u_merc_center=B,Ae.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],Ae.u_zoom_transition=s.globeToMercatorTransition(ue.zoom);const Fe=B[0]*s.EXTENT,qe=B[1]*s.EXTENT;Ae.u_up_dir=ue.projection.upVector(new s.CanonicalTileID(0,0,0),Fe,qe)}return Ae},ru=(_,c,p,T,B,W,se)=>{const ue=_.transform,me=ue.calculatePixelsToTileUnitsMatrix(c);return{u_matrix:ic(_,c,p,T),u_pixels_to_tile_units:me,u_device_pixel_ratio:W,u_units_to_pixels:[1/ue.pixelsToGLUnits[0],1/ue.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:B,u_texsize:kd(p)?c.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Ma(c,_.transform),u_alpha_discard_threshold:0,u_trim_offset:se}},Ea=(_,c,p,T,B)=>{const W=_.transform;return{u_matrix:ic(_,c,p,T),u_texsize:c.imageAtlasTexture.size,u_pixels_to_tile_units:W.calculatePixelsToTileUnitsMatrix(c),u_device_pixel_ratio:B,u_image:0,u_tile_units_to_pixels:Ma(c,W),u_units_to_pixels:[1/W.pixelsToGLUnits[0],1/W.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Ma(_,c){return 1/F(_,1,c.tileZoom)}function ic(_,c,p,T){return _.translatePosMatrix(T||c.tileID.projMatrix,c,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}function kd(_){const c=_.paint.get("line-dasharray").value;return c.value||c.kind!=="constant"}const Tc=(_,c,p,T,B,W)=>{return{u_matrix:_,u_tl_parent:c,u_scale_parent:p,u_fade_t:T.mix,u_opacity:T.opacity*B.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:B.paint.get("raster-brightness-min"),u_brightness_high:B.paint.get("raster-brightness-max"),u_saturation_factor:(ue=B.paint.get("raster-saturation"),ue>0?1-1/(1.001-ue):-ue),u_contrast_factor:(se=B.paint.get("raster-contrast"),se>0?1/(1-se):1+se),u_spin_weights:ia(B.paint.get("raster-hue-rotate")),u_perspective_transform:W};var se,ue};function ia(_){_*=Math.PI/180;const c=Math.sin(_),p=Math.cos(_);return[(2*p+1)/3,(-Math.sqrt(3)*c-p+1)/3,(Math.sqrt(3)*c-p+1)/3]}const yo=s.create(),bl=(_,c,p,T,B,W,se,ue,me,De,Ae,Fe,qe,ot,at,dt)=>{const Ke=B.transform,tt={u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:Ke.cameraToCenterDistance,u_rotate_symbol:+p,u_aspect_ratio:Ke.width/Ke.height,u_fade_change:B.options.fadeDuration?B.symbolFadeChange:1,u_matrix:W,u_label_plane_matrix:se,u_coord_matrix:ue,u_is_text:+me,u_pitch_with_map:+T,u_texsize:De,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:yo,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:yo,u_up_vector:[0,-1,0]};return dt.name==="globe"&&(tt.u_tile_id=[Ae.canonical.x,Ae.canonical.y,1<<Ae.canonical.z],tt.u_zoom_transition=Fe,tt.u_inv_rot_matrix=ot,tt.u_merc_center=qe,tt.u_camera_forward=Ke._camera.forward(),tt.u_ecef_origin=s.globeECEFOrigin(Ke.globeMatrix,Ae.toUnwrapped()),tt.u_tile_matrix=Float32Array.from(Ke.globeMatrix),tt.u_up_vector=at),tt},nc=(_,c,p,T,B,W,se,ue,me,De,Ae,Fe,qe,ot,at,dt,Ke)=>s.extend(bl(_,c,p,T,B,W,se,ue,me,De,Fe,qe,ot,at,dt,Ke),{u_gamma_scale:T?B.transform.cameraToCenterDistance*Math.cos(B.terrain?0:B.transform._pitch):1,u_device_pixel_ratio:s.exported.devicePixelRatio,u_is_halo:+Ae}),Sc=(_,c,p,T,B,W,se,ue,me,De,Ae,Fe,qe,ot,at,dt)=>s.extend(nc(_,c,p,T,B,W,se,ue,!0,me,!0,Ae,Fe,qe,ot,at,dt),{u_texsize_icon:De,u_texture_icon:1}),yh=(_,c,p)=>({u_matrix:_,u_opacity:c,u_color:p}),_r=(_,c,p,T,B)=>s.extend(function(W,se,ue){const me=se.imageManager.getPattern(W.toString()),{width:De,height:Ae}=se.imageManager.getPixelSize(),Fe=Math.pow(2,ue.tileID.overscaledZ),qe=ue.tileSize*Math.pow(2,se.transform.tileZoom)/Fe,ot=qe*(ue.tileID.canonical.x+ue.tileID.wrap*Fe),at=qe*ue.tileID.canonical.y;return{u_image:0,u_pattern_tl:me.tl,u_pattern_br:me.br,u_texsize:[De,Ae],u_pattern_size:me.displaySize,u_tile_units_to_pixels:1/F(ue,1,se.transform.tileZoom),u_pixel_coord_upper:[ot>>16,at>>16],u_pixel_coord_lower:[65535&ot,65535&at]}}(T,p,B),{u_matrix:_,u_opacity:c}),$o={fillExtrusion:_=>({u_matrix:new s.UniformMatrix4f(_),u_lightpos:new s.Uniform3f(_),u_lightintensity:new s.Uniform1f(_),u_lightcolor:new s.Uniform3f(_),u_vertical_gradient:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_),u_edge_radius:new s.Uniform1f(_),u_ao:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_up_dir:new s.Uniform3f(_),u_height_lift:new s.Uniform1f(_)}),fillExtrusionPattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_lightpos:new s.Uniform3f(_),u_lightintensity:new s.Uniform1f(_),u_lightcolor:new s.Uniform3f(_),u_vertical_gradient:new s.Uniform1f(_),u_height_factor:new s.Uniform1f(_),u_edge_radius:new s.Uniform1f(_),u_ao:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_up_dir:new s.Uniform3f(_),u_height_lift:new s.Uniform1f(_),u_image:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_)}),fill:_=>({u_matrix:new s.UniformMatrix4f(_)}),fillPattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_image:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_)}),fillOutline:_=>({u_matrix:new s.UniformMatrix4f(_),u_world:new s.Uniform2f(_)}),fillOutlinePattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_world:new s.Uniform2f(_),u_image:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_)}),circle:_=>({u_camera_to_center_distance:new s.Uniform1f(_),u_extrude_scale:new s.UniformMatrix2f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_up_dir:new s.Uniform3f(_)}),collisionBox:_=>({u_matrix:new s.UniformMatrix4f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_extrude_scale:new s.Uniform2f(_)}),collisionCircle:_=>({u_matrix:new s.UniformMatrix4f(_),u_inv_matrix:new s.UniformMatrix4f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_viewport_size:new s.Uniform2f(_)}),debug:_=>({u_color:new s.UniformColor(_),u_matrix:new s.UniformMatrix4f(_),u_overlay:new s.Uniform1i(_),u_overlay_scale:new s.Uniform1f(_)}),clippingMask:_=>({u_matrix:new s.UniformMatrix4f(_)}),heatmap:_=>({u_extrude_scale:new s.Uniform1f(_),u_intensity:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_up_dir:new s.Uniform3f(_)}),heatmapTexture:_=>({u_image:new s.Uniform1i(_),u_color_ramp:new s.Uniform1i(_),u_opacity:new s.Uniform1f(_)}),hillshade:_=>({u_matrix:new s.UniformMatrix4f(_),u_image:new s.Uniform1i(_),u_latrange:new s.Uniform2f(_),u_light:new s.Uniform2f(_),u_shadow:new s.UniformColor(_),u_highlight:new s.UniformColor(_),u_accent:new s.UniformColor(_)}),hillshadePrepare:_=>({u_matrix:new s.UniformMatrix4f(_),u_image:new s.Uniform1i(_),u_dimension:new s.Uniform2f(_),u_zoom:new s.Uniform1f(_),u_unpack:new s.Uniform4f(_)}),line:_=>({u_matrix:new s.UniformMatrix4f(_),u_pixels_to_tile_units:new s.UniformMatrix2f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_units_to_pixels:new s.Uniform2f(_),u_dash_image:new s.Uniform1i(_),u_gradient_image:new s.Uniform1i(_),u_image_height:new s.Uniform1f(_),u_texsize:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_),u_alpha_discard_threshold:new s.Uniform1f(_),u_trim_offset:new s.Uniform2f(_)}),linePattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_texsize:new s.Uniform2f(_),u_pixels_to_tile_units:new s.UniformMatrix2f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_image:new s.Uniform1i(_),u_units_to_pixels:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_),u_alpha_discard_threshold:new s.Uniform1f(_)}),raster:_=>({u_matrix:new s.UniformMatrix4f(_),u_tl_parent:new s.Uniform2f(_),u_scale_parent:new s.Uniform1f(_),u_fade_t:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_),u_image0:new s.Uniform1i(_),u_image1:new s.Uniform1i(_),u_brightness_low:new s.Uniform1f(_),u_brightness_high:new s.Uniform1f(_),u_saturation_factor:new s.Uniform1f(_),u_contrast_factor:new s.Uniform1f(_),u_spin_weights:new s.Uniform3f(_),u_perspective_transform:new s.Uniform2f(_)}),symbolIcon:_=>({u_is_size_zoom_constant:new s.Uniform1i(_),u_is_size_feature_constant:new s.Uniform1i(_),u_size_t:new s.Uniform1f(_),u_size:new s.Uniform1f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_rotate_symbol:new s.Uniform1i(_),u_aspect_ratio:new s.Uniform1f(_),u_fade_change:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_label_plane_matrix:new s.UniformMatrix4f(_),u_coord_matrix:new s.UniformMatrix4f(_),u_is_text:new s.Uniform1i(_),u_pitch_with_map:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_camera_forward:new s.Uniform3f(_),u_tile_matrix:new s.UniformMatrix4f(_),u_up_vector:new s.Uniform3f(_),u_ecef_origin:new s.Uniform3f(_),u_texture:new s.Uniform1i(_)}),symbolSDF:_=>({u_is_size_zoom_constant:new s.Uniform1i(_),u_is_size_feature_constant:new s.Uniform1i(_),u_size_t:new s.Uniform1f(_),u_size:new s.Uniform1f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_rotate_symbol:new s.Uniform1i(_),u_aspect_ratio:new s.Uniform1f(_),u_fade_change:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_label_plane_matrix:new s.UniformMatrix4f(_),u_coord_matrix:new s.UniformMatrix4f(_),u_is_text:new s.Uniform1i(_),u_pitch_with_map:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_texture:new s.Uniform1i(_),u_gamma_scale:new s.Uniform1f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_tile_id:new s.Uniform3f(_),u_zoom_transition:new s.Uniform1f(_),u_inv_rot_matrix:new s.UniformMatrix4f(_),u_merc_center:new s.Uniform2f(_),u_camera_forward:new s.Uniform3f(_),u_tile_matrix:new s.UniformMatrix4f(_),u_up_vector:new s.Uniform3f(_),u_ecef_origin:new s.Uniform3f(_),u_is_halo:new s.Uniform1i(_)}),symbolTextAndIcon:_=>({u_is_size_zoom_constant:new s.Uniform1i(_),u_is_size_feature_constant:new s.Uniform1i(_),u_size_t:new s.Uniform1f(_),u_size:new s.Uniform1f(_),u_camera_to_center_distance:new s.Uniform1f(_),u_rotate_symbol:new s.Uniform1i(_),u_aspect_ratio:new s.Uniform1f(_),u_fade_change:new s.Uniform1f(_),u_matrix:new s.UniformMatrix4f(_),u_label_plane_matrix:new s.UniformMatrix4f(_),u_coord_matrix:new s.UniformMatrix4f(_),u_is_text:new s.Uniform1i(_),u_pitch_with_map:new s.Uniform1i(_),u_texsize:new s.Uniform2f(_),u_texsize_icon:new s.Uniform2f(_),u_texture:new s.Uniform1i(_),u_texture_icon:new s.Uniform1i(_),u_gamma_scale:new s.Uniform1f(_),u_device_pixel_ratio:new s.Uniform1f(_),u_is_halo:new s.Uniform1i(_)}),background:_=>({u_matrix:new s.UniformMatrix4f(_),u_opacity:new s.Uniform1f(_),u_color:new s.UniformColor(_)}),backgroundPattern:_=>({u_matrix:new s.UniformMatrix4f(_),u_opacity:new s.Uniform1f(_),u_image:new s.Uniform1i(_),u_pattern_tl:new s.Uniform2f(_),u_pattern_br:new s.Uniform2f(_),u_texsize:new s.Uniform2f(_),u_pattern_size:new s.Uniform2f(_),u_pixel_coord_upper:new s.Uniform2f(_),u_pixel_coord_lower:new s.Uniform2f(_),u_tile_units_to_pixels:new s.Uniform1f(_)}),terrainRaster:pr,terrainDepth:pr,skybox:_=>({u_matrix:new s.UniformMatrix4f(_),u_sun_direction:new s.Uniform3f(_),u_cubemap:new s.Uniform1i(_),u_opacity:new s.Uniform1f(_),u_temporal_offset:new s.Uniform1f(_)}),skyboxGradient:_=>({u_matrix:new s.UniformMatrix4f(_),u_color_ramp:new s.Uniform1i(_),u_center_direction:new s.Uniform3f(_),u_radius:new s.Uniform1f(_),u_opacity:new s.Uniform1f(_),u_temporal_offset:new s.Uniform1f(_)}),skyboxCapture:_=>({u_matrix_3f:new s.UniformMatrix3f(_),u_sun_direction:new s.Uniform3f(_),u_sun_intensity:new s.Uniform1f(_),u_color_tint_r:new s.Uniform4f(_),u_color_tint_m:new s.Uniform4f(_),u_luminance:new s.Uniform1f(_)}),globeRaster:_=>({u_proj_matrix:new s.UniformMatrix4f(_),u_globe_matrix:new s.UniformMatrix4f(_),u_normalize_matrix:new s.UniformMatrix4f(_),u_merc_matrix:new s.UniformMatrix4f(_),u_zoom_transition:new s.Uniform1f(_),u_merc_center:new s.Uniform2f(_),u_image0:new s.Uniform1i(_),u_grid_matrix:new s.UniformMatrix3f(_),u_frustum_tl:new s.Uniform3f(_),u_frustum_tr:new s.Uniform3f(_),u_frustum_br:new s.Uniform3f(_),u_frustum_bl:new s.Uniform3f(_),u_globe_pos:new s.Uniform3f(_),u_globe_radius:new s.Uniform1f(_),u_viewport:new s.Uniform2f(_)}),globeAtmosphere:_=>({u_frustum_tl:new s.Uniform3f(_),u_frustum_tr:new s.Uniform3f(_),u_frustum_br:new s.Uniform3f(_),u_frustum_bl:new s.Uniform3f(_),u_horizon:new s.Uniform1f(_),u_transition:new s.Uniform1f(_),u_fadeout_range:new s.Uniform1f(_),u_color:new s.Uniform4f(_),u_high_color:new s.Uniform4f(_),u_space_color:new s.Uniform4f(_),u_star_intensity:new s.Uniform1f(_),u_star_density:new s.Uniform1f(_),u_star_size:new s.Uniform1f(_),u_temporal_offset:new s.Uniform1f(_),u_horizon_angle:new s.Uniform1f(_),u_rotation_matrix:new s.UniformMatrix4f(_)})};let _o;function na(_,c,p,T,B,W,se){const ue=_.context,me=ue.gl,De=_.transform,Ae=_.useProgram("collisionBox"),Fe=[];let qe=0,ot=0;for(let xt=0;xt<T.length;xt++){const At=T[xt],Tt=c.getTile(At),zt=Tt.getBucket(p);if(!zt)continue;const ei=pa(At,zt,De);let Kt=ei;B[0]===0&&B[1]===0||(Kt=_.translatePosMatrix(ei,Tt,B,W));const Vt=se?zt.textCollisionBox:zt.iconCollisionBox,Ei=zt.collisionCircleArray;if(Ei.length>0){const qt=s.create(),mi=Kt;s.mul(qt,zt.placementInvProjMatrix,De.glCoordMatrix),s.mul(qt,qt,zt.placementViewportMatrix),Fe.push({circleArray:Ei,circleOffset:ot,transform:mi,invTransform:qt,projection:zt.getProjection()}),qe+=Ei.length/4,ot=qe}Vt&&(_.terrain&&_.terrain.setupElevationDraw(Tt,Ae),Ae.draw(ue,me.LINES,s.DepthMode.disabled,s.StencilMode.disabled,_.colorModeForRenderPass(),s.CullFaceMode.disabled,Ql(Kt,De,Tt,zt.getProjection()),p.id,Vt.layoutVertexBuffer,Vt.indexBuffer,Vt.segments,null,De.zoom,null,[Vt.collisionVertexBuffer,Vt.collisionVertexBufferExt]))}if(!se||!Fe.length)return;const at=_.useProgram("collisionCircle"),dt=new s.StructArrayLayout2f1f2i16;dt.resize(4*qe),dt._trim();let Ke=0;for(const xt of Fe)for(let At=0;At<xt.circleArray.length/4;At++){const Tt=4*At,zt=xt.circleArray[Tt+0],ei=xt.circleArray[Tt+1],Kt=xt.circleArray[Tt+2],Vt=xt.circleArray[Tt+3];dt.emplace(Ke++,zt,ei,Kt,Vt,0),dt.emplace(Ke++,zt,ei,Kt,Vt,1),dt.emplace(Ke++,zt,ei,Kt,Vt,2),dt.emplace(Ke++,zt,ei,Kt,Vt,3)}(!_o||_o.length<2*qe)&&(_o=function(xt){const At=2*xt,Tt=new s.StructArrayLayout3ui6;Tt.resize(At),Tt._trim();for(let zt=0;zt<At;zt++){const ei=6*zt;Tt.uint16[ei+0]=4*zt+0,Tt.uint16[ei+1]=4*zt+1,Tt.uint16[ei+2]=4*zt+2,Tt.uint16[ei+3]=4*zt+2,Tt.uint16[ei+4]=4*zt+3,Tt.uint16[ei+5]=4*zt+0}return Tt}(qe));const tt=ue.createIndexBuffer(_o,!0),pt=ue.createVertexBuffer(dt,s.collisionCircleLayout.members,!0);for(const xt of Fe){const At={u_matrix:xt.transform,u_inv_matrix:xt.invTransform,u_camera_to_center_distance:(lt=De).getCameraToCenterDistance(xt.projection),u_viewport_size:[lt.width,lt.height]};at.draw(ue,me.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,_.colorModeForRenderPass(),s.CullFaceMode.disabled,At,p.id,pt,tt,s.SegmentVector.simpleSegment(0,2*xt.circleOffset,xt.circleArray.length,xt.circleArray.length/2),null,De.zoom)}var lt;pt.destroy(),tt.destroy()}const wl=s.create();function Lu({width:_,height:c,anchor:p,textOffset:T,textScale:B},W){const{horizontalAlign:se,verticalAlign:ue}=s.getAnchorAlignment(p),me=-(se-.5)*_,De=-(ue-.5)*c,Ae=s.evaluateVariableOffset(p,T);return new s.pointGeometry((me/B+Ae[0])*W,(De/B+Ae[1])*W)}function Ou(_,c,p,T,B,W,se,ue,me,De,Ae){const Fe=_.text.placedSymbolArray,qe=_.text.dynamicLayoutVertexArray,ot=_.icon.dynamicLayoutVertexArray,at={},dt=_.getProjection(),Ke=yl(ue,dt,W),tt=W.elevation,pt=dt.upVectorScale(ue.canonical,W.center.lat,W.worldSize).metersToTile;qe.clear();for(let lt=0;lt<Fe.length;lt++){const xt=Fe.get(lt),{tileAnchorX:At,tileAnchorY:Tt,numGlyphs:zt}=xt,ei=_.allowVerticalPlacement&&!xt.placedOrientation,Kt=xt.hidden||!xt.crossTileID||ei?null:T[xt.crossTileID];if(Kt){let Vt=0,Ei=0,qt=0;if(tt){const mn=tt?tt.getAtTileOffset(ue,At,Tt):0,[Sn,gn,jn]=dt.upVector(ue.canonical,At,Tt);Vt=mn*Sn*pt,Ei=mn*gn*pt,qt=mn*jn*pt}let[mi,ni,Oi,ri]=ao(xt.projectedAnchorX+Vt,xt.projectedAnchorY+Ei,xt.projectedAnchorZ+qt,p?Ke:se);const wi=Xi(W.getCameraToCenterDistance(dt),ri);let zi=B.evaluateSizeForFeature(_.textSizeData,De,xt)*wi/s.ONE_EM;p&&(zi*=_.tilePixelRatio/me);const Ht=Lu(Kt,zi);p?({x:mi,y:ni,z:Oi}=dt.projectTilePoint(At+Ht.x,Tt+Ht.y,ue.canonical),[mi,ni,Oi]=ao(mi+Vt,ni+Ei,Oi+qt,se)):(c&&Ht._rotate(-W.angle),mi+=Ht.x,ni+=Ht.y,Oi=0);const ii=_.allowVerticalPlacement&&xt.placedOrientation===s.WritingMode.vertical?Math.PI/2:0;for(let mn=0;mn<zt;mn++)s.addDynamicAttributes(qe,mi,ni,Oi,ii);Ae&&xt.associatedIconIndex>=0&&(at[xt.associatedIconIndex]={x:mi,y:ni,z:Oi,angle:ii})}else Zs(zt,qe)}if(Ae){ot.clear();const lt=_.icon.placedSymbolArray;for(let xt=0;xt<lt.length;xt++){const At=lt.get(xt),{numGlyphs:Tt}=At,zt=at[xt];if(At.hidden||!zt)Zs(Tt,ot);else{const{x:ei,y:Kt,z:Vt,angle:Ei}=zt;for(let qt=0;qt<Tt;qt++)s.addDynamicAttributes(ot,ei,Kt,Vt,Ei)}}_.icon.dynamicLayoutVertexBuffer.updateData(ot)}_.text.dynamicLayoutVertexBuffer.updateData(qe)}function Ru(_,c,p){return p.iconsInText&&c?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function Vo(_,c,p,T,B,W,se,ue,me,De,Ae,Fe){const qe=_.context,ot=qe.gl,at=_.transform,dt=ue==="map",Ke=me==="map",tt=dt&&p.layout.get("symbol-placement")!=="point",pt=dt&&!Ke&&!tt,lt=p.layout.get("symbol-sort-key").constantOr(1)!==void 0;let xt=!1;const At=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),Tt=[s.mercatorXfromLng(at.center.lng),s.mercatorYfromLat(at.center.lat)],zt=p.layout.get("text-variable-anchor"),ei=at.projection.name==="globe",Kt=[],Vt=[0,-1,0];let Ei=Vt;!ei&&!at.mercatorFromTransition||dt||(Ei=function(qt){const mi=qt._camera.getWorldToCamera(qt.worldSize,1),ni=s.multiply([],mi,qt.globeMatrix);s.invert(ni,ni);const Oi=[0,0,0],ri=[0,1,0,0];return s.transformMat4$1(ri,ri,ni),Oi[0]=ri[0],Oi[1]=ri[1],Oi[2]=ri[2],s.normalize(Oi,Oi),Oi}(at));for(const qt of T){const mi=c.getTile(qt),ni=mi.getBucket(p);if(!ni||ni.projection.name==="mercator"&&ei)continue;const Oi=B?ni.text:ni.icon;if(!Oi||ni.fullyClipped||!Oi.segments.get().length)continue;const ri=Oi.programConfigurations.get(p.id),wi=B||ni.sdfIcons,zi=B?ni.textSizeData:ni.iconSizeData,Ht=Ke||at.pitch!==0,ii=s.evaluateSizeForZoom(zi,at.zoom);let mn,Sn,gn,jn,or=[0,0],kn=null;if(B){if(Sn=mi.glyphAtlasTexture,gn=ot.LINEAR,mn=mi.glyphAtlasTexture.size,ni.iconsInText){or=mi.imageAtlasTexture.size,kn=mi.imageAtlasTexture;const Ha=zi.kind==="composite"||zi.kind==="camera";jn=Ht||_.options.rotating||_.options.zooming||Ha?ot.LINEAR:ot.NEAREST}}else{const Ha=p.layout.get("icon-size").constantOr(0)!==1||ni.iconsNeedLinear;Sn=mi.imageAtlasTexture,gn=wi||_.options.rotating||_.options.zooming||Ha||Ht?ot.LINEAR:ot.NEAREST,mn=mi.imageAtlasTexture.size}const an=ni.projection.name==="globe",is=an?Ei:Vt,Gr=an?s.globeToMercatorTransition(at.zoom):0,rs=yl(qt,ni.getProjection(),at),es=at.calculatePixelsToTileUnitsMatrix(mi),Wa=ko(rs,mi.tileID.canonical,Ke,dt,at,ni.getProjection(),es),ka=_.terrain&&Ke&&tt?s.invert(s.create(),Wa):wl,_a=tu(rs,mi.tileID.canonical,Ke,dt,at,ni.getProjection(),es),sc=zt&&ni.hasTextData(),ms=p.layout.get("icon-text-fit")!=="none"&&sc&&ni.hasIconData();if(tt){const Ha=at.elevation,Ac=Ha?Ha.getAtTileOffsetFunc(qt,at.center.lat,at.worldSize,ni.getProjection()):null,Cl=Hc(rs,mi.tileID.canonical,Ke,dt,at,ni.getProjection(),es);cr(ni,rs,_,B,Cl,_a,Ke,De,Ac,qt)}const ts=tt||B&&zt||ms,Ur=_.translatePosMatrix(rs,mi,W,se),no=ts?wl:Wa,ra=_.translatePosMatrix(_a,mi,W,se,!0),gs=ni.getProjection().createInversionMatrix(at,qt.canonical),va=[];_.terrainRenderModeElevated()&&Ke&&va.push("PITCH_WITH_MAP_TERRAIN"),an&&va.push("PROJECTION_GLOBE_VIEW"),ts&&va.push("PROJECTED_POS_ON_VIEWPORT");const Th=wi&&p.paint.get(B?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let oc;oc=wi?ni.iconsInText?Sc(zi.kind,ii,pt,Ke,_,Ur,no,ra,mn,or,qt,Gr,Tt,gs,is,ni.getProjection()):nc(zi.kind,ii,pt,Ke,_,Ur,no,ra,B,mn,!0,qt,Gr,Tt,gs,is,ni.getProjection()):bl(zi.kind,ii,pt,Ke,_,Ur,no,ra,B,mn,qt,Gr,Tt,gs,is,ni.getProjection());const sa={program:_.useProgram(Ru(wi,B,ni),ri,va),buffers:Oi,uniformValues:oc,atlasTexture:Sn,atlasTextureIcon:kn,atlasInterpolation:gn,atlasInterpolationIcon:jn,isSDF:wi,hasHalo:Th,tile:mi,labelPlaneMatrixInv:ka};if(lt&&ni.canOverlap){xt=!0;const Ha=Oi.segments.get();for(const Ac of Ha)Kt.push({segments:new s.SegmentVector([Ac]),sortKey:Ac.sortKey,state:sa})}else Kt.push({segments:Oi.segments,sortKey:0,state:sa})}xt&&Kt.sort((qt,mi)=>qt.sortKey-mi.sortKey);for(const qt of Kt){const mi=qt.state;if(_.terrain&&_.terrain.setupElevationDraw(mi.tile,mi.program,{useDepthForOcclusion:!ei,labelPlaneMatrixInv:mi.labelPlaneMatrixInv}),qe.activeTexture.set(ot.TEXTURE0),mi.atlasTexture.bind(mi.atlasInterpolation,ot.CLAMP_TO_EDGE),mi.atlasTextureIcon&&(qe.activeTexture.set(ot.TEXTURE1),mi.atlasTextureIcon&&mi.atlasTextureIcon.bind(mi.atlasInterpolationIcon,ot.CLAMP_TO_EDGE)),mi.isSDF){const ni=mi.uniformValues;mi.hasHalo&&(ni.u_is_halo=1,jt(mi.buffers,qt.segments,p,_,mi.program,At,Ae,Fe,ni)),ni.u_is_halo=0}jt(mi.buffers,qt.segments,p,_,mi.program,At,Ae,Fe,mi.uniformValues)}}function jt(_,c,p,T,B,W,se,ue,me){const De=T.context,Ae=[_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer,_.globeExtVertexBuffer];B.draw(De,De.gl.TRIANGLES,W,se,ue,s.CullFaceMode.disabled,me,p.id,_.layoutVertexBuffer,_.indexBuffer,c,p.paint,T.transform.zoom,_.programConfigurations.get(p.id),Ae)}function vi(_,c,p,T,B,W,se){const ue=_.context.gl,me=p.paint.get("fill-pattern"),De=me&&me.constantOr(1);let Ae,Fe,qe,ot,at;se?(Fe=De&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ae=ue.LINES):(Fe=De?"fillPattern":"fill",Ae=ue.TRIANGLES);for(const dt of T){const Ke=c.getTile(dt);if(De&&!Ke.patternsLoaded())continue;const tt=Ke.getBucket(p);if(!tt)continue;_.prepareDrawTile();const pt=tt.programConfigurations.get(p.id),lt=_.useProgram(Fe,pt);De&&(_.context.activeTexture.set(ue.TEXTURE0),Ke.imageAtlasTexture.bind(ue.LINEAR,ue.CLAMP_TO_EDGE),pt.updatePaintBuffers());const xt=me.constantOr(null);if(xt&&Ke.imageAtlas){const Tt=Ke.imageAtlas.patternPositions[xt.toString()];Tt&&pt.setConstantPatternPositions(Tt)}const At=_.translatePosMatrix(dt.projMatrix,Ke,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(se){ot=tt.indexBuffer2,at=tt.segments2;const Tt=_.terrain&&_.terrain.renderingToTexture?_.terrain.drapeBufferSize:[ue.drawingBufferWidth,ue.drawingBufferHeight];qe=Fe==="fillOutlinePattern"&&De?zo(At,_,Ke,Tt):Kl(At,Tt)}else ot=tt.indexBuffer,at=tt.segments,qe=De?Zc(At,_,Ke):ya(At);_.prepareDrawProgram(_.context,lt,dt.toUnwrapped()),lt.draw(_.context,Ae,B,_.stencilModeForClipping(dt),W,s.CullFaceMode.disabled,qe,p.id,tt.layoutVertexBuffer,ot,at,p.paint,_.transform.zoom,pt)}}function ui(_,c,p,T,B,W,se){const ue=_.context,me=ue.gl,De=_.transform,Ae=p.paint.get("fill-extrusion-pattern"),Fe=Ae.constantOr(1),qe=p.paint.get("fill-extrusion-opacity"),ot=[p.paint.get("fill-extrusion-ambient-occlusion-intensity"),p.paint.get("fill-extrusion-ambient-occlusion-radius")],at=p.layout.get("fill-extrusion-edge-radius"),dt=De.projection.name==="globe"?s.fillExtrusionHeightLift():0,Ke=De.projection.name==="globe",tt=Ke?s.globeToMercatorTransition(De.zoom):0,pt=[s.mercatorXfromLng(De.center.lng),s.mercatorYfromLat(De.center.lat)],lt=[];Ke&&(lt.push("PROJECTION_GLOBE_VIEW"),_.style.terrainSetForDrapingOnly()&&lt.push("TERRAIN")),ot[0]>0&&lt.push("FAUX_AO");for(const xt of T){const At=c.getTile(xt),Tt=At.getBucket(p);if(!Tt||Tt.projection.name!==De.projection.name)continue;const zt=Tt.programConfigurations.get(p.id),ei=_.useProgram(Fe?"fillExtrusionPattern":"fillExtrusion",zt,lt);if(_.terrain){const Oi=_.terrain;if(_.style.terrainSetForDrapingOnly())Oi.setupElevationDraw(At,ei,{useMeterToDem:!0});else{if(!Tt.enableTerrain)continue;if(Oi.setupElevationDraw(At,ei,{useMeterToDem:!0}),fn(ue,c,xt,Tt,p,Oi),!Tt.centroidVertexBuffer){const ri=ei.attributes.a_centroid_pos;ri!==void 0&&me.vertexAttrib2f(ri,0,0)}}}Fe&&(_.context.activeTexture.set(me.TEXTURE0),At.imageAtlasTexture.bind(me.LINEAR,me.CLAMP_TO_EDGE),zt.updatePaintBuffers());const Kt=Ae.constantOr(null);if(Kt&&At.imageAtlas){const Oi=At.imageAtlas.patternPositions[Kt.toString()];Oi&&zt.setConstantPatternPositions(Oi)}const Vt=_.translatePosMatrix(xt.projMatrix,At,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Ei=De.projection.createInversionMatrix(De,xt.canonical),qt=p.paint.get("fill-extrusion-vertical-gradient"),mi=Fe?Fr(Vt,_,qt,qe,ot,at,xt,At,dt,tt,pt,Ei):Md(Vt,_,qt,qe,ot,at,xt,dt,tt,pt,Ei);_.prepareDrawProgram(ue,ei,xt.toUnwrapped());const ni=[];_.terrain&&ni.push(Tt.centroidVertexBuffer),Ke&&ni.push(Tt.layoutVertexExtBuffer),ei.draw(ue,ue.gl.TRIANGLES,B,W,se,s.CullFaceMode.backCCW,mi,p.id,Tt.layoutVertexBuffer,Tt.indexBuffer,Tt.segments,p.paint,_.transform.zoom,zt,ni)}}function fn(_,c,p,T,B,W){const se=[tt=>{let pt=tt.canonical.x-1,lt=tt.wrap;return pt<0&&(pt=(1<<tt.canonical.z)-1,lt--),new s.OverscaledTileID(tt.overscaledZ,lt,tt.canonical.z,pt,tt.canonical.y)},tt=>{let pt=tt.canonical.x+1,lt=tt.wrap;return pt===1<<tt.canonical.z&&(pt=0,lt++),new s.OverscaledTileID(tt.overscaledZ,lt,tt.canonical.z,pt,tt.canonical.y)},tt=>new s.OverscaledTileID(tt.overscaledZ,tt.wrap,tt.canonical.z,tt.canonical.x,(tt.canonical.y===0?1<<tt.canonical.z:tt.canonical.y)-1),tt=>new s.OverscaledTileID(tt.overscaledZ,tt.wrap,tt.canonical.z,tt.canonical.x,tt.canonical.y===(1<<tt.canonical.z)-1?0:tt.canonical.y+1)],ue=tt=>{const pt=c.getSource().minzoom,lt=At=>{const Tt=c.getTileByID(At);if(Tt&&Tt.hasData())return Tt.getBucket(B)},xt=[0,-1,1];for(const At of xt){if(tt.overscaledZ+At<pt)continue;const Tt=lt(tt.calculateScaledKey(tt.overscaledZ+At));if(Tt)return Tt}},me=[0,0,0],De=(tt,pt)=>(me[0]=Math.min(tt.min.y,pt.min.y),me[1]=Math.max(tt.max.y,pt.max.y),me[2]=s.EXTENT-pt.min.x>tt.max.x?pt.min.x-s.EXTENT:tt.max.x,me),Ae=(tt,pt)=>(me[0]=Math.min(tt.min.x,pt.min.x),me[1]=Math.max(tt.max.x,pt.max.x),me[2]=s.EXTENT-pt.min.y>tt.max.y?pt.min.y-s.EXTENT:tt.max.y,me),Fe=[(tt,pt)=>De(tt,pt),(tt,pt)=>De(pt,tt),(tt,pt)=>Ae(tt,pt),(tt,pt)=>Ae(pt,tt)],qe=new s.pointGeometry(0,0);let ot,at,dt;const Ke=(tt,pt,lt,xt,At)=>{const Tt=[[xt?lt:tt,xt?tt:lt,0],[xt?lt:pt,xt?pt:lt,0]],zt=At<0?s.EXTENT+At:At,ei=[xt?zt:(tt+pt)/2,xt?(tt+pt)/2:zt,0];return lt===0&&At<0||lt!==0&&At>0?W.getForTilePoints(dt,[ei],!0,at):Tt.push(ei),W.getForTilePoints(p,Tt,!0,ot),Math.max(Tt[0][2],Tt[1][2],ei[2])/W.exaggeration()};for(let tt=0;tt<4;tt++){const pt=(tt<2?1:5)-tt,lt=T.borders[tt];if(lt.length===0)continue;const xt=dt=se[tt](p),At=ue(xt);if(!(At&&At instanceof s.FillExtrusionBucket&&At.enableTerrain)||T.borderDoneWithNeighborZ[tt]===At.canonical.z&&At.borderDoneWithNeighborZ[pt]===T.canonical.z||(at=W.findDEMTileFor(xt),!at||!at.dem))continue;if(!ot){const Kt=W.findDEMTileFor(p);if(!Kt||!Kt.dem)return;ot=Kt}const Tt=At.borders[pt];let zt=0;const ei=At.borderDoneWithNeighborZ[pt]!==T.canonical.z;if(T.canonical.z===At.canonical.z){for(let Kt=0;Kt<lt.length;Kt++){const Vt=T.featuresOnBorder[lt[Kt]],Ei=Vt.borders[tt];let qt;for(;zt<Tt.length&&(qt=At.featuresOnBorder[Tt[zt]],!(qt.borders[pt][1]>Ei[0]+3));)ei&&At.encodeCentroid(void 0,qt,!1),zt++;if(qt&&zt<Tt.length){const mi=zt;let ni=0;for(;!(qt.borders[pt][0]>Ei[1]-3)&&(ni++,++zt!==Tt.length);)qt=At.featuresOnBorder[Tt[zt]];if(qt=At.featuresOnBorder[Tt[mi]],Vt.intersectsCount()>1||qt.intersectsCount()>1||ni!==1){ni!==1&&(zt=mi),T.encodeCentroid(void 0,Vt,!1),ei&&At.encodeCentroid(void 0,qt,!1);continue}const Oi=Fe[tt](Vt,qt),ri=tt%2?s.EXTENT-1:0;qe.x=Ke(Oi[0],Math.min(s.EXTENT-1,Oi[1]),ri,tt<2,Oi[2]),qe.y=0,T.encodeCentroid(qe,Vt,!1),ei&&At.encodeCentroid(qe,qt,!1)}else T.encodeCentroid(void 0,Vt,!1)}T.borderDoneWithNeighborZ[tt]=At.canonical.z,T.needsCentroidUpdate=!0,ei&&(At.borderDoneWithNeighborZ[pt]=T.canonical.z,At.needsCentroidUpdate=!0)}else{for(const Kt of lt)T.encodeCentroid(void 0,T.featuresOnBorder[Kt],!1);if(ei){for(const Kt of Tt)At.encodeCentroid(void 0,At.featuresOnBorder[Kt],!1);At.borderDoneWithNeighborZ[pt]=T.canonical.z,At.needsCentroidUpdate=!0}T.borderDoneWithNeighborZ[tt]=At.canonical.z,T.needsCentroidUpdate=!0}}(T.needsCentroidUpdate||!T.centroidVertexBuffer&&T.centroidVertexArray.length!==0)&&T.uploadCentroid(_)}const Kn=new s.Color(1,0,0,1),Or=new s.Color(0,1,0,1),zs=new s.Color(0,0,1,1),jr=new s.Color(1,0,1,1),Cc=new s.Color(0,1,1,1);function Ad(_,c,p){const T=_.context,B=_.transform,W=T.gl,se=B.projection.name==="globe",ue=se?["PROJECTION_GLOBE_VIEW"]:null;let me=p.projMatrix;if(se&&s.globeToMercatorTransition(B.zoom)>0){const Vt=s.transitionTileAABBinECEF(p.canonical,B),Ei=s.globeDenormalizeECEF(Vt);me=s.multiply(new Float32Array(16),B.globeMatrix,Ei),s.multiply(me,B.projMatrix,me)}const De=_.useProgram("debug",null,ue),Ae=c.getTileByID(p.key);_.terrain&&_.terrain.setupElevationDraw(Ae,De);const Fe=s.DepthMode.disabled,qe=s.StencilMode.disabled,ot=_.colorModeForRenderPass(),at="$debug";T.activeTexture.set(W.TEXTURE0),_.emptyTexture.bind(W.LINEAR,W.CLAMP_TO_EDGE),se?Ae._makeGlobeTileDebugBuffers(_.context,B):Ae._makeDebugTileBoundsBuffers(_.context,B.projection);const dt=Ae._tileDebugBuffer||_.debugBuffer,Ke=Ae._tileDebugIndexBuffer||_.debugIndexBuffer,tt=Ae._tileDebugSegments||_.debugSegments;De.draw(T,W.LINE_STRIP,Fe,qe,ot,s.CullFaceMode.disabled,ec(me,s.Color.red),at,dt,Ke,tt,null,null,null,[Ae._globeTileDebugBorderBuffer]);const pt=Ae.latestRawTileData,lt=Math.floor((pt&&pt.byteLength||0)/1024),xt=c.getTile(p).tileSize,At=512/Math.min(xt,512)*(p.overscaledZ/B.zoom)*.5;let Tt=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(Tt+=` => ${p.overscaledZ}`),Tt+=` ${lt}kb`,function(Vt,Ei){Vt.initDebugOverlayCanvas();const qt=Vt.debugOverlayCanvas,mi=Vt.context.gl,ni=Vt.debugOverlayCanvas.getContext("2d");ni.clearRect(0,0,qt.width,qt.height),ni.shadowColor="white",ni.shadowBlur=2,ni.lineWidth=1.5,ni.strokeStyle="white",ni.textBaseline="top",ni.font="bold 36px Open Sans, sans-serif",ni.fillText(Ei,5,5),ni.strokeText(Ei,5,5),Vt.debugOverlayTexture.update(qt),Vt.debugOverlayTexture.bind(mi.LINEAR,mi.CLAMP_TO_EDGE)}(_,Tt);const zt=Ae._tileDebugTextBuffer||_.debugBuffer,ei=Ae._tileDebugTextIndexBuffer||_.quadTriangleIndexBuffer,Kt=Ae._tileDebugTextSegments||_.debugSegments;De.draw(T,W.TRIANGLES,Fe,qe,s.ColorMode.alphaBlended,s.CullFaceMode.disabled,ec(me,s.Color.transparent,At),at,zt,ei,Kt,null,null,null,[Ae._globeTileDebugTextBuffer])}function Go(_,c,p,T){Et(_,0,c+p/2,_.transform.width,p,T)}function it(_,c,p,T){Et(_,c-p/2,0,p,_.transform.height,T)}function Et(_,c,p,T,B,W){const se=_.context,ue=se.gl;ue.enable(ue.SCISSOR_TEST),ue.scissor(c*s.exported.devicePixelRatio,p*s.exported.devicePixelRatio,T*s.exported.devicePixelRatio,B*s.exported.devicePixelRatio),se.clear({color:W}),ue.disable(ue.SCISSOR_TEST)}const Bt=s.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:xi}=Bt;function Ut(_,c,p,T){_.emplaceBack(c,p,T)}class ai{constructor(c){this.vertexArray=new s.StructArrayLayout3f12,this.indices=new s.StructArrayLayout3ui6,Ut(this.vertexArray,-1,-1,1),Ut(this.vertexArray,1,-1,1),Ut(this.vertexArray,-1,1,1),Ut(this.vertexArray,1,1,1),Ut(this.vertexArray,-1,-1,-1),Ut(this.vertexArray,1,-1,-1),Ut(this.vertexArray,-1,1,-1),Ut(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=c.createVertexBuffer(this.vertexArray,xi),this.indexBuffer=c.createIndexBuffer(this.indices),this.segment=s.SegmentVector.simpleSegment(0,0,36,12)}}function Di(_,c,p,T,B,W){const se=_.gl,ue=c.paint.get("sky-atmosphere-color"),me=c.paint.get("sky-atmosphere-halo-color"),De=c.paint.get("sky-atmosphere-sun-intensity"),Ae=((Fe,qe,ot,at,dt)=>({u_matrix_3f:Fe,u_sun_direction:qe,u_sun_intensity:ot,u_color_tint_r:[at.r,at.g,at.b,at.a],u_color_tint_m:[dt.r,dt.g,dt.b,dt.a],u_luminance:5e-5}))(s.fromMat4(s.create$1(),T),B,De,ue,me);se.framebufferTexture2D(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_CUBE_MAP_POSITIVE_X+W,c.skyboxTexture,0),p.draw(_,se.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.frontCW,Ae,"skyboxCapture",c.skyboxGeometry.vertexBuffer,c.skyboxGeometry.indexBuffer,c.skyboxGeometry.segment)}const en=s.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Bi{constructor(c){const p=new s.StructArrayLayout5f20;p.emplaceBack(-1,1,1,0,0),p.emplaceBack(1,1,1,1,0),p.emplaceBack(1,-1,1,1,1),p.emplaceBack(-1,-1,1,0,1);const T=new s.StructArrayLayout3ui6;T.emplaceBack(0,1,2),T.emplaceBack(2,3,0),this.vertexBuffer=c.createVertexBuffer(p,en.members),this.indexBuffer=c.createIndexBuffer(T),this.segments=s.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Rn={symbol:function(_,c,p,T,B){if(_.renderPass!=="translucent")return;const W=s.StencilMode.disabled,se=_.colorModeForRenderPass();p.layout.get("text-variable-anchor")&&function(ue,me,De,Ae,Fe,qe,ot){const at=me.transform,dt=Fe==="map",Ke=qe==="map";for(const tt of ue){const pt=Ae.getTile(tt),lt=pt.getBucket(De);if(!lt||!lt.text||!lt.text.segments.get().length)continue;const xt=s.evaluateSizeForZoom(lt.textSizeData,at.zoom),At=yl(tt,lt.getProjection(),at),Tt=at.calculatePixelsToTileUnitsMatrix(pt),zt=ko(At,pt.tileID.canonical,Ke,dt,at,lt.getProjection(),Tt),ei=De.layout.get("icon-text-fit")!=="none"&&lt.hasIconData();if(xt){const Kt=Math.pow(2,at.zoom-pt.tileID.overscaledZ);Ou(lt,dt,Ke,ot,s.symbolSize,at,zt,tt,Kt,xt,ei)}}}(T,_,p,c,p.layout.get("text-rotation-alignment"),p.layout.get("text-pitch-alignment"),B),p.paint.get("icon-opacity").constantOr(1)!==0&&Vo(_,c,p,T,!1,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),p.layout.get("icon-rotation-alignment"),p.layout.get("icon-pitch-alignment"),p.layout.get("icon-keep-upright"),W,se),p.paint.get("text-opacity").constantOr(1)!==0&&Vo(_,c,p,T,!0,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),p.layout.get("text-rotation-alignment"),p.layout.get("text-pitch-alignment"),p.layout.get("text-keep-upright"),W,se),c.map.showCollisionBoxes&&(na(_,c,p,T,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),!0),na(_,c,p,T,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),!1))},circle:function(_,c,p,T){if(_.renderPass!=="translucent")return;const B=p.paint.get("circle-opacity"),W=p.paint.get("circle-stroke-width"),se=p.paint.get("circle-stroke-opacity"),ue=p.layout.get("circle-sort-key").constantOr(1)!==void 0;if(B.constantOr(1)===0&&(W.constantOr(1)===0||se.constantOr(1)===0))return;const me=_.context,De=me.gl,Ae=_.transform,Fe=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),qe=s.StencilMode.disabled,ot=_.colorModeForRenderPass(),at=Ae.projection.name==="globe",dt=[s.mercatorXfromLng(Ae.center.lng),s.mercatorYfromLat(Ae.center.lat)],Ke=[];for(let pt=0;pt<T.length;pt++){const lt=T[pt],xt=c.getTile(lt),At=xt.getBucket(p);if(!At||At.projection.name!==Ae.projection.name)continue;const Tt=At.programConfigurations.get(p.id),zt=nu(p);at&&zt.push("PROJECTION_GLOBE_VIEW");const ei=_.useProgram("circle",Tt,zt),Kt=At.layoutVertexBuffer,Vt=At.globeExtVertexBuffer,Ei=At.indexBuffer,qt=Ae.projection.createInversionMatrix(Ae,lt.canonical),mi={programConfiguration:Tt,program:ei,layoutVertexBuffer:Kt,globeExtVertexBuffer:Vt,indexBuffer:Ei,uniformValues:wc(_,lt,xt,qt,dt,p),tile:xt};if(ue){const ni=At.segments.get();for(const Oi of ni)Ke.push({segments:new s.SegmentVector([Oi]),sortKey:Oi.sortKey,state:mi})}else Ke.push({segments:At.segments,sortKey:0,state:mi})}ue&&Ke.sort((pt,lt)=>pt.sortKey-lt.sortKey);const tt={useDepthForOcclusion:!at};for(const pt of Ke){const{programConfiguration:lt,program:xt,layoutVertexBuffer:At,globeExtVertexBuffer:Tt,indexBuffer:zt,uniformValues:ei,tile:Kt}=pt.state,Vt=pt.segments;_.terrain&&_.terrain.setupElevationDraw(Kt,xt,tt),_.prepareDrawProgram(me,xt,Kt.tileID.toUnwrapped()),xt.draw(me,De.TRIANGLES,Fe,qe,ot,s.CullFaceMode.disabled,ei,p.id,At,zt,Vt,p.paint,Ae.zoom,lt,[Tt])}},heatmap:function(_,c,p,T){if(p.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const B=_.context,W=B.gl,se=s.StencilMode.disabled,ue=new s.ColorMode([W.ONE,W.ONE],s.Color.transparent,[!0,!0,!0,!0]);(function(ot,at,dt,Ke){const tt=ot.gl,pt=at.width*Ke,lt=at.height*Ke;ot.activeTexture.set(tt.TEXTURE1),ot.viewport.set([0,0,pt,lt]);let xt=dt.heatmapFbo;if(!xt||xt&&(xt.width!==pt||xt.height!==lt)){xt&&xt.destroy();const At=tt.createTexture();tt.bindTexture(tt.TEXTURE_2D,At),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_S,tt.CLAMP_TO_EDGE),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_T,tt.CLAMP_TO_EDGE),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MIN_FILTER,tt.LINEAR),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MAG_FILTER,tt.LINEAR),xt=dt.heatmapFbo=ot.createFramebuffer(pt,lt,!1),function(Tt,zt,ei,Kt,Vt,Ei){const qt=Tt.gl;qt.texImage2D(qt.TEXTURE_2D,0,qt.RGBA,Vt,Ei,0,qt.RGBA,Tt.extRenderToTextureHalfFloat?Tt.extTextureHalfFloat.HALF_FLOAT_OES:qt.UNSIGNED_BYTE,null),Kt.colorAttachment.set(ei)}(ot,0,At,xt,pt,lt)}else tt.bindTexture(tt.TEXTURE_2D,xt.colorAttachment.get()),ot.bindFramebuffer.set(xt.framebuffer)})(B,_,p,_.transform.projection.name==="globe"?.5:.25),B.clear({color:s.Color.transparent});const me=_.transform,De=me.projection.name==="globe",Ae=De?["PROJECTION_GLOBE_VIEW"]:null,Fe=De?s.CullFaceMode.frontCCW:s.CullFaceMode.disabled,qe=[s.mercatorXfromLng(me.center.lng),s.mercatorYfromLat(me.center.lat)];for(let ot=0;ot<T.length;ot++){const at=T[ot];if(c.hasRenderableParent(at))continue;const dt=c.getTile(at),Ke=dt.getBucket(p);if(!Ke||Ke.projection.name!==me.projection.name)continue;const tt=Ke.programConfigurations.get(p.id),pt=_.useProgram("heatmap",tt,Ae),{zoom:lt}=_.transform;_.terrain&&_.terrain.setupElevationDraw(dt,pt),_.prepareDrawProgram(B,pt,at.toUnwrapped());const xt=me.projection.createInversionMatrix(me,at.canonical);pt.draw(B,W.TRIANGLES,s.DepthMode.disabled,se,ue,Fe,tc(_,at,dt,xt,qe,lt,p.paint.get("heatmap-intensity")),p.id,Ke.layoutVertexBuffer,Ke.indexBuffer,Ke.segments,p.paint,_.transform.zoom,tt,De?[Ke.globeExtVertexBuffer]:null)}B.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function(B,W){const se=B.context,ue=se.gl,me=W.heatmapFbo;if(!me)return;se.activeTexture.set(ue.TEXTURE0),ue.bindTexture(ue.TEXTURE_2D,me.colorAttachment.get()),se.activeTexture.set(ue.TEXTURE1);let De=W.colorRampTexture;De||(De=W.colorRampTexture=new s.Texture(se,W.colorRamp,ue.RGBA)),De.bind(ue.LINEAR,ue.CLAMP_TO_EDGE),B.useProgram("heatmapTexture").draw(se,ue.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,B.colorModeForRenderPass(),s.CullFaceMode.disabled,((Ae,Fe,qe,ot)=>({u_image:0,u_color_ramp:1,u_opacity:Fe.paint.get("heatmap-opacity")}))(0,W),W.id,B.viewportBuffer,B.quadTriangleIndexBuffer,B.viewportSegments,W.paint,B.transform.zoom)}(_,p))},line:function(_,c,p,T){if(_.renderPass!=="translucent")return;const B=p.paint.get("line-opacity"),W=p.paint.get("line-width");if(B.constantOr(1)===0||W.constantOr(1)===0)return;const se=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),ue=_.colorModeForRenderPass(),me=_.terrain&&_.terrain.renderingToTexture?1:s.exported.devicePixelRatio,De=p.paint.get("line-dasharray"),Ae=De.constantOr(1),Fe=p.layout.get("line-cap"),qe=p.paint.get("line-pattern"),ot=qe.constantOr(1),at=p.paint.get("line-gradient"),dt=ot?"linePattern":"line",Ke=_.context,tt=Ke.gl,pt=(xt=>{const At=[];kd(xt)&&At.push("RENDER_LINE_DASH"),xt.paint.get("line-gradient")&&At.push("RENDER_LINE_GRADIENT");const Tt=xt.paint.get("line-trim-offset");Tt[0]===0&&Tt[1]===0||At.push("RENDER_LINE_TRIM_OFFSET");const zt=xt.paint.get("line-pattern").constantOr(1),ei=xt.paint.get("line-opacity").constantOr(1)!==1;return!zt&&ei&&At.push("RENDER_LINE_ALPHA_DISCARD"),At})(p);let lt=pt.includes("RENDER_LINE_ALPHA_DISCARD");_.terrain&&_.terrain.clipOrMaskOverlapStencilType()&&(lt=!1);for(const xt of T){const At=c.getTile(xt);if(ot&&!At.patternsLoaded())continue;const Tt=At.getBucket(p);if(!Tt)continue;_.prepareDrawTile();const zt=Tt.programConfigurations.get(p.id),ei=_.useProgram(dt,zt,pt),Kt=qe.constantOr(null);if(Kt&&At.imageAtlas){const wi=At.imageAtlas.patternPositions[Kt.toString()];wi&&zt.setConstantPatternPositions(wi)}const Vt=De.constantOr(null),Ei=Fe.constantOr(null);if(!ot&&Vt&&Ei&&At.lineAtlas){const wi=At.lineAtlas.getDash(Vt,Ei);wi&&zt.setConstantPatternPositions(wi)}let[qt,mi]=p.paint.get("line-trim-offset");(Ei==="round"||Ei==="square")&&qt!==mi&&(qt===0&&(qt-=1),mi===1&&(mi+=1));const ni=_.terrain?xt.projMatrix:null,Oi=ot?Ea(_,At,p,ni,me):ru(_,At,p,ni,Tt.lineClipsArray.length,me,[qt,mi]);if(at){const wi=Tt.gradients[p.id];let zi=wi.texture;if(p.gradientVersion!==wi.version){let Ht=256;if(p.stepInterpolant){const ii=c.getSource().maxzoom,mn=xt.canonical.z===ii?Math.ceil(1<<_.transform.maxZoom-xt.canonical.z):1;Ht=s.clamp(s.nextPowerOfTwo(Tt.maxLineLength/s.EXTENT*1024*mn),256,Ke.maxTextureSize)}wi.gradient=s.renderColorRamp({expression:p.gradientExpression(),evaluationKey:"lineProgress",resolution:Ht,image:wi.gradient||void 0,clips:Tt.lineClipsArray}),wi.texture?wi.texture.update(wi.gradient):wi.texture=new s.Texture(Ke,wi.gradient,tt.RGBA),wi.version=p.gradientVersion,zi=wi.texture}Ke.activeTexture.set(tt.TEXTURE1),zi.bind(p.stepInterpolant?tt.NEAREST:tt.LINEAR,tt.CLAMP_TO_EDGE)}Ae&&(Ke.activeTexture.set(tt.TEXTURE0),At.lineAtlasTexture.bind(tt.LINEAR,tt.REPEAT),zt.updatePaintBuffers()),ot&&(Ke.activeTexture.set(tt.TEXTURE0),At.imageAtlasTexture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE),zt.updatePaintBuffers()),_.prepareDrawProgram(Ke,ei,xt.toUnwrapped());const ri=wi=>{ei.draw(Ke,tt.TRIANGLES,se,wi,ue,s.CullFaceMode.disabled,Oi,p.id,Tt.layoutVertexBuffer,Tt.indexBuffer,Tt.segments,p.paint,_.transform.zoom,zt,[Tt.layoutVertexBuffer2])};if(lt){const wi=_.stencilModeForClipping(xt).ref;wi===0&&_.terrain&&Ke.clear({stencil:0});const zi={func:tt.EQUAL,mask:255};Oi.u_alpha_discard_threshold=.8,ri(new s.StencilMode(zi,wi,255,tt.KEEP,tt.KEEP,tt.INVERT)),Oi.u_alpha_discard_threshold=0,ri(new s.StencilMode(zi,wi,255,tt.KEEP,tt.KEEP,tt.KEEP))}else ri(_.stencilModeForClipping(xt))}lt&&(_.resetStencilClippingMasks(),_.terrain&&Ke.clear({stencil:0}))},fill:function(_,c,p,T){const B=p.paint.get("fill-color"),W=p.paint.get("fill-opacity");if(W.constantOr(1)===0)return;const se=_.colorModeForRenderPass(),ue=p.paint.get("fill-pattern"),me=_.opaquePassEnabledForLayer()&&!ue.constantOr(1)&&B.constantOr(s.Color.transparent).a===1&&W.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===me){const De=_.depthModeForSublayer(1,_.renderPass==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly);vi(_,c,p,T,De,se,!1)}if(_.renderPass==="translucent"&&p.paint.get("fill-antialias")){const De=_.depthModeForSublayer(p.getPaintProperty("fill-outline-color")?2:0,s.DepthMode.ReadOnly);vi(_,c,p,T,De,se,!0)}},"fill-extrusion":function(_,c,p,T){const B=p.paint.get("fill-extrusion-opacity");if(B!==0&&_.renderPass==="translucent"){const W=new s.DepthMode(_.context.gl.LEQUAL,s.DepthMode.ReadWrite,_.depthRangeFor3D);if(B!==1||p.paint.get("fill-extrusion-pattern").constantOr(1))ui(_,c,p,T,W,s.StencilMode.disabled,s.ColorMode.disabled),ui(_,c,p,T,W,_.stencilModeFor3D(),_.colorModeForRenderPass()),_.resetStencilClippingMasks();else{const se=_.colorModeForRenderPass();ui(_,c,p,T,W,s.StencilMode.disabled,se)}}},hillshade:function(_,c,p,T){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;const B=_.context,W=_.depthModeForSublayer(0,s.DepthMode.ReadOnly),se=_.colorModeForRenderPass(),ue=_.terrain&&_.terrain.renderingToTexture,[me,De]=_.renderPass!=="translucent"||ue?[{},T]:_.stencilConfigForOverlap(T);for(const Ae of De){const Fe=c.getTile(Ae);if(Fe.needsHillshadePrepare&&_.renderPass==="offscreen")hr(_,Fe,p,W,s.StencilMode.disabled,se);else if(_.renderPass==="translucent"){const qe=ue&&_.terrain?_.terrain.stencilModeForRTTOverlap(Ae):me[Ae.overscaledZ];ps(_,Ae,Fe,p,W,qe,se)}}B.viewport.set([0,0,_.width,_.height]),_.resetStencilClippingMasks()},raster:function(_,c,p,T,B,W){if(_.renderPass!=="translucent"||p.paint.get("raster-opacity")===0||!T.length)return;const se=_.context,ue=se.gl,me=c.getSource(),De=_.useProgram("raster"),Ae=_.colorModeForRenderPass(),Fe=_.terrain&&_.terrain.renderingToTexture,[qe,ot]=me instanceof Dt||Fe?[{},T]:_.stencilConfigForOverlap(T),at=ot[ot.length-1].overscaledZ,dt=!_.options.moving;for(const Ke of ot){const tt=Fe?s.DepthMode.disabled:_.depthModeForSublayer(Ke.overscaledZ-at,p.paint.get("raster-opacity")===1?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly,ue.LESS),pt=Ke.toUnwrapped(),lt=c.getTile(Ke);if(Fe&&(!lt||!lt.hasData()))continue;const xt=Fe?Ke.projMatrix:_.transform.calculateProjMatrix(pt,dt),At=_.terrain&&Fe?_.terrain.stencilModeForRTTOverlap(Ke):qe[Ke.overscaledZ],Tt=W?0:p.paint.get("raster-fade-duration");lt.registerFadeDuration(Tt);const zt=c.findLoadedParent(Ke,0),ei=ea(lt,zt,c,_.transform,Tt);let Kt,Vt;_.terrain&&_.terrain.prepareDrawTile();const Ei=p.paint.get("raster-resampling")==="nearest"?ue.NEAREST:ue.LINEAR;se.activeTexture.set(ue.TEXTURE0),lt.texture.bind(Ei,ue.CLAMP_TO_EDGE),se.activeTexture.set(ue.TEXTURE1),zt?(zt.texture.bind(Ei,ue.CLAMP_TO_EDGE),Kt=Math.pow(2,zt.tileID.overscaledZ-lt.tileID.overscaledZ),Vt=[lt.tileID.canonical.x*Kt%1,lt.tileID.canonical.y*Kt%1]):lt.texture.bind(Ei,ue.CLAMP_TO_EDGE);const qt=Tc(xt,Vt||[0,0],Kt||1,ei,p,me instanceof Dt?me.perspectiveTransform:[0,0]);if(_.prepareDrawProgram(se,De,pt),me instanceof Dt)me.boundsBuffer&&me.boundsSegments&&De.draw(se,ue.TRIANGLES,tt,s.StencilMode.disabled,Ae,s.CullFaceMode.disabled,qt,p.id,me.boundsBuffer,_.quadTriangleIndexBuffer,me.boundsSegments);else{const{tileBoundsBuffer:mi,tileBoundsIndexBuffer:ni,tileBoundsSegments:Oi}=_.getTileBoundsBuffers(lt);De.draw(se,ue.TRIANGLES,tt,At,Ae,s.CullFaceMode.disabled,qt,p.id,mi,ni,Oi)}}_.resetStencilClippingMasks()},background:function(_,c,p,T){const B=p.paint.get("background-color"),W=p.paint.get("background-opacity");if(W===0)return;const se=_.context,ue=se.gl,me=_.transform,De=me.tileSize,Ae=p.paint.get("background-pattern");if(_.isPatternMissing(Ae))return;const Fe=!Ae&&B.a===1&&W===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==Fe)return;const qe=s.StencilMode.disabled,ot=_.depthModeForSublayer(0,Fe==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly),at=_.colorModeForRenderPass(),dt=_.useProgram(Ae?"backgroundPattern":"background");let Ke,tt=T;tt||(Ke=_.getBackgroundTiles(),tt=Object.values(Ke).map(pt=>pt.tileID)),Ae&&(se.activeTexture.set(ue.TEXTURE0),_.imageManager.bind(_.context));for(const pt of tt){const lt=pt.toUnwrapped(),xt=T?pt.projMatrix:_.transform.calculateProjMatrix(lt);_.prepareDrawTile();const At=c?c.getTile(pt):Ke?Ke[pt.key]:new s.Tile(pt,De,me.zoom,_),Tt=Ae?_r(xt,W,_,Ae,{tileID:pt,tileSize:De}):yh(xt,W,B);_.prepareDrawProgram(se,dt,lt);const{tileBoundsBuffer:zt,tileBoundsIndexBuffer:ei,tileBoundsSegments:Kt}=_.getTileBoundsBuffers(At);dt.draw(se,ue.TRIANGLES,ot,qe,at,s.CullFaceMode.disabled,Tt,p.id,zt,ei,Kt)}},sky:function(_,c,p){const T=_.transform,B=T.projection.name==="mercator"||T.projection.name==="globe"?1:s.smoothstep(7,8,T.zoom),W=p.paint.get("sky-opacity")*B;if(W===0)return;const se=_.context,ue=p.paint.get("sky-type"),me=new s.DepthMode(se.gl.LEQUAL,s.DepthMode.ReadOnly,[0,1]),De=_.frameCounter/1e3%1;ue==="atmosphere"?_.renderPass==="offscreen"?p.needsSkyboxCapture(_)&&(function(Ae,Fe,qe,ot){const at=Ae.context,dt=at.gl;let Ke=Fe.skyboxFbo;if(!Ke){Ke=Fe.skyboxFbo=at.createFramebuffer(32,32,!1),Fe.skyboxGeometry=new ai(at),Fe.skyboxTexture=at.gl.createTexture(),dt.bindTexture(dt.TEXTURE_CUBE_MAP,Fe.skyboxTexture),dt.texParameteri(dt.TEXTURE_CUBE_MAP,dt.TEXTURE_WRAP_S,dt.CLAMP_TO_EDGE),dt.texParameteri(dt.TEXTURE_CUBE_MAP,dt.TEXTURE_WRAP_T,dt.CLAMP_TO_EDGE),dt.texParameteri(dt.TEXTURE_CUBE_MAP,dt.TEXTURE_MIN_FILTER,dt.LINEAR),dt.texParameteri(dt.TEXTURE_CUBE_MAP,dt.TEXTURE_MAG_FILTER,dt.LINEAR);for(let xt=0;xt<6;++xt)dt.texImage2D(dt.TEXTURE_CUBE_MAP_POSITIVE_X+xt,0,dt.RGBA,32,32,0,dt.RGBA,dt.UNSIGNED_BYTE,null)}at.bindFramebuffer.set(Ke.framebuffer),at.viewport.set([0,0,32,32]);const tt=Fe.getCenter(Ae,!0),pt=Ae.useProgram("skyboxCapture"),lt=new Float64Array(16);s.identity(lt),s.rotateY(lt,lt,.5*-Math.PI),Di(at,Fe,pt,lt,tt,0),s.identity(lt),s.rotateY(lt,lt,.5*Math.PI),Di(at,Fe,pt,lt,tt,1),s.identity(lt),s.rotateX(lt,lt,.5*-Math.PI),Di(at,Fe,pt,lt,tt,2),s.identity(lt),s.rotateX(lt,lt,.5*Math.PI),Di(at,Fe,pt,lt,tt,3),s.identity(lt),Di(at,Fe,pt,lt,tt,4),s.identity(lt),s.rotateY(lt,lt,Math.PI),Di(at,Fe,pt,lt,tt,5),at.viewport.set([0,0,Ae.width,Ae.height])}(_,p),p.markSkyboxValid(_)):_.renderPass==="sky"&&function(Ae,Fe,qe,ot,at){const dt=Ae.context,Ke=dt.gl,tt=Ae.transform,pt=Ae.useProgram("skybox");dt.activeTexture.set(Ke.TEXTURE0),Ke.bindTexture(Ke.TEXTURE_CUBE_MAP,Fe.skyboxTexture);const lt=((xt,At,Tt,zt,ei)=>({u_matrix:xt,u_sun_direction:At,u_cubemap:0,u_opacity:zt,u_temporal_offset:ei}))(tt.skyboxMatrix,Fe.getCenter(Ae,!1),0,ot,at);Ae.prepareDrawProgram(dt,pt),pt.draw(dt,Ke.TRIANGLES,qe,s.StencilMode.disabled,Ae.colorModeForRenderPass(),s.CullFaceMode.backCW,lt,"skybox",Fe.skyboxGeometry.vertexBuffer,Fe.skyboxGeometry.indexBuffer,Fe.skyboxGeometry.segment)}(_,p,me,W,De):ue==="gradient"&&_.renderPass==="sky"&&function(Ae,Fe,qe,ot,at){const dt=Ae.context,Ke=dt.gl,tt=Ae.transform,pt=Ae.useProgram("skyboxGradient");Fe.skyboxGeometry||(Fe.skyboxGeometry=new ai(dt)),dt.activeTexture.set(Ke.TEXTURE0);let lt=Fe.colorRampTexture;lt||(lt=Fe.colorRampTexture=new s.Texture(dt,Fe.colorRamp,Ke.RGBA)),lt.bind(Ke.LINEAR,Ke.CLAMP_TO_EDGE);const xt=((At,Tt,zt,ei,Kt)=>({u_matrix:At,u_color_ramp:0,u_center_direction:Tt,u_radius:s.degToRad(zt),u_opacity:ei,u_temporal_offset:Kt}))(tt.skyboxMatrix,Fe.getCenter(Ae,!1),Fe.paint.get("sky-gradient-radius"),ot,at);Ae.prepareDrawProgram(dt,pt),pt.draw(dt,Ke.TRIANGLES,qe,s.StencilMode.disabled,Ae.colorModeForRenderPass(),s.CullFaceMode.backCW,xt,"skyboxGradient",Fe.skyboxGeometry.vertexBuffer,Fe.skyboxGeometry.indexBuffer,Fe.skyboxGeometry.segment)}(_,p,me,W,De)},debug:function(_,c,p){for(let T=0;T<p.length;T++)Ad(_,c,p[T])},custom:function(_,c,p){const T=_.context,B=p.implementation;if(_.transform.projection.unsupportedLayers&&_.transform.projection.unsupportedLayers.includes("custom"))s.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(_.renderPass==="offscreen"){const W=B.prerender;W&&(_.setCustomLayerDefaults(),T.setColorMode(_.colorModeForRenderPass()),W.call(B,T.gl,_.transform.customLayerMatrix()),T.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),T.setColorMode(_.colorModeForRenderPass()),T.setStencilMode(s.StencilMode.disabled);const W=B.renderingMode==="3d"?new s.DepthMode(_.context.gl.LEQUAL,s.DepthMode.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,s.DepthMode.ReadOnly);T.setDepthMode(W),B.render(T.gl,_.transform.customLayerMatrix()),T.setDirty(),_.setBaseState(),T.bindFramebuffer.set(null)}}};class Fn{constructor(c,p){this.context=new ze(c),this.transform=p,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=s.SourceCache.maxUnderzooming+s.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ma,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(c,p){const T=!!c&&!!c.terrain&&this.transform.projection.supportsTerrain;if(!(T||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Bo(this,c));const B=this._terrain;this.transform.elevation=T?B:null,B.update(c,this.transform,p)}_updateFog(c){const p=c.fog;if(!p||this.transform.projection.name==="globe"||p.getOpacity(this.transform.pitch)<1||p.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[T,B]=p.getFovAdjustedRange(this.transform._fov);if(T>B)return void(this.transform.fogCullDistSq=null);const W=T+.78*(B-T);this.transform.fogCullDistSq=W*W}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(c,p){if(this.width=c*s.exported.devicePixelRatio,this.height=p*s.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const T of this.style.order)this.style._layers[T].resize()}setup(){const c=this.context,p=new s.StructArrayLayout2i4;p.emplaceBack(0,0),p.emplaceBack(s.EXTENT,0),p.emplaceBack(0,s.EXTENT),p.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(p,s.posAttributes.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);const T=new s.StructArrayLayout2i4;T.emplaceBack(0,0),T.emplaceBack(s.EXTENT,0),T.emplaceBack(0,s.EXTENT),T.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=c.createVertexBuffer(T,s.posAttributes.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);const B=new s.StructArrayLayout2i4;B.emplaceBack(-1,-1),B.emplaceBack(1,-1),B.emplaceBack(-1,1),B.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(B,s.posAttributes.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);const W=new s.StructArrayLayout4i8;W.emplaceBack(0,0,0,0),W.emplaceBack(s.EXTENT,0,s.EXTENT,0),W.emplaceBack(0,s.EXTENT,0,s.EXTENT),W.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.mercatorBoundsBuffer=c.createVertexBuffer(W,s.boundsAttributes.members),this.mercatorBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);const se=new s.StructArrayLayout3ui6;se.emplaceBack(0,1,2),se.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(se);const ue=new s.StructArrayLayout1ui2;for(const De of[0,1,3,2,0])ue.emplaceBack(De);this.debugIndexBuffer=c.createIndexBuffer(ue),this.emptyTexture=new s.Texture(c,new s.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),c.gl.RGBA),this.identityMat=s.create();const me=this.context.gl;this.stencilClearMode=new s.StencilMode({func:me.ALWAYS,mask:0},0,255,me.ZERO,me.ZERO,me.ZERO),this.loadTimeStamps.push(s.window.performance.now()),this.atmosphereBuffer=new Bi(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(c){return c._makeTileBoundsBuffers(this.context,this.transform.projection),c._tileBoundsBuffer?{tileBoundsBuffer:c._tileBoundsBuffer,tileBoundsIndexBuffer:c._tileBoundsIndexBuffer,tileBoundsSegments:c._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(c,p.TRIANGLES,s.DepthMode.disabled,this.stencilClearMode,s.ColorMode.disabled,s.CullFaceMode.disabled,eo(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(c,p,T){if(!p||this.currentStencilSource===p.id||!c.isTileClipped()||!T||T.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let ue=!1;for(const me of T)if(this._tileClippingMaskIDs[me.key]===void 0){ue=!0;break}if(!ue)return}this.currentStencilSource=p.id;const B=this.context,W=B.gl;this.nextStencilID+T.length>256&&this.clearStencil(),B.setColorMode(s.ColorMode.disabled),B.setDepthMode(s.DepthMode.disabled);const se=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const ue of T){const me=p.getTile(ue),De=this._tileClippingMaskIDs[ue.key]=this.nextStencilID++,{tileBoundsBuffer:Ae,tileBoundsIndexBuffer:Fe,tileBoundsSegments:qe}=this.getTileBoundsBuffers(me);se.draw(B,W.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:W.ALWAYS,mask:0},De,255,W.KEEP,W.KEEP,W.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,eo(ue.projMatrix),"$clipping",Ae,Fe,qe)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,p=this.context.gl;return new s.StencilMode({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(c){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(c);const p=this.context.gl;return new s.StencilMode({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(c){const p=this.context.gl,T=c.sort((se,ue)=>ue.overscaledZ-se.overscaledZ),B=T[T.length-1].overscaledZ,W=T[0].overscaledZ-B+1;if(W>1){this.currentStencilSource=void 0,this.nextStencilID+W>256&&this.clearStencil();const se={};for(let ue=0;ue<W;ue++)se[ue+B]=new s.StencilMode({func:p.GEQUAL,mask:255},ue+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=W,[se,T]}return[{[B]:s.StencilMode.disabled},T]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new s.ColorMode([c.CONSTANT_COLOR,c.ONE],new s.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?s.ColorMode.unblended:s.ColorMode.alphaBlended}depthModeForSublayer(c,p,T){if(!this.opaquePassEnabledForLayer())return s.DepthMode.disabled;const B=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new s.DepthMode(T||this.context.gl.LEQUAL,p,[B,B])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,p){this.style=c,this.options=p,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(s.exported.now()),this.imageManager.beginFrame();const T=this.style.order,B=this.style._sourceCaches;for(const me in B){const De=B[me];De.used&&De.prepare(this.context)}const W={},se={},ue={};for(const me in B){const De=B[me];W[me]=De.getVisibleCoordinates(),se[me]=W[me].slice().reverse(),ue[me]=De.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let me=0;me<T.length;me++)if(this.style._layers[T[me]].is3D()){this.opaquePassCutoff=me;break}if(this.terrain&&(this.terrain.updateTileBinding(ue),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new s.GlobeSharedBuffers(this.context)),s.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const me of T){const De=this.style._layers[me],Ae=c._getLayerSourceCache(De);if(!De.hasOffscreenPass()||De.isHidden(this.transform.zoom))continue;const Fe=Ae?se[Ae.id]:void 0;(De.type==="custom"||De.isSky()||Fe&&Fe.length)&&this.renderLayer(this,Ae,De,Fe)}if(this.depthRangeFor3D=[0,1-(c.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:p.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=T.length-1;this.currentLayer>=0;this.currentLayer--){const me=this.style._layers[T[this.currentLayer]],De=c._getLayerSourceCache(me);if(me.isSky())continue;const Ae=De?se[De.id]:void 0;this._renderTileClippingMasks(me,De,Ae),this.renderLayer(this,De,me,Ae)}if(this.style.fog&&this.transform.projection.supportsFog&&function(me,De){const Ae=me.context,Fe=Ae.gl,qe=me.transform,ot=new s.DepthMode(Fe.LEQUAL,s.DepthMode.ReadOnly,[0,1]),at=me.useProgram("globeAtmosphere",null,qe.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),dt=s.globeToMercatorTransition(qe.zoom),Ke=De.properties.get("color").toArray01(),tt=De.properties.get("high-color").toArray01(),pt=De.properties.get("space-color").toArray01PremultipliedAlpha(),lt=s.identity$1([]);s.rotateY$1(lt,lt,-s.degToRad(qe._center.lng)),s.rotateX$1(lt,lt,s.degToRad(qe._center.lat)),s.rotateZ$1(lt,lt,qe.angle),s.rotateX$1(lt,lt,-qe._pitch);const xt=s.fromQuat(new Float32Array(16),lt),At=s.mapValue(De.properties.get("star-intensity"),0,1,0,.25),Tt=5e-4,zt=s.mapValue(De.properties.get("horizon-blend"),0,1,Tt,.25),ei=s.globeUseCustomAntiAliasing(me,Ae,qe)&&zt===Tt?qe.worldSize/(2*Math.PI*1.025)-1:qe.globeRadius,Kt=me.frameCounter/1e3%1,Vt=s.length(qe.globeCenterInViewSpace),Ei=Math.sqrt(Math.pow(Vt,2)-Math.pow(ei,2)),qt=Math.acos(Ei/Vt),mi=((Oi,ri,wi,zi,Ht,ii,mn,Sn,gn,jn,or,kn,an,is)=>({u_frustum_tl:Oi,u_frustum_tr:ri,u_frustum_br:wi,u_frustum_bl:zi,u_horizon:Ht,u_transition:ii,u_fadeout_range:mn,u_color:Sn,u_high_color:gn,u_space_color:jn,u_star_intensity:or,u_star_size:5*s.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:kn,u_horizon_angle:an,u_rotation_matrix:is}))(qe.frustumCorners.TL,qe.frustumCorners.TR,qe.frustumCorners.BR,qe.frustumCorners.BL,qe.frustumCorners.horizon,dt,zt,Ke,tt,pt,At,Kt,qt,xt);me.prepareDrawProgram(Ae,at);const ni=me.atmosphereBuffer;ni&&at.draw(Ae,Fe.TRIANGLES,ot,s.StencilMode.disabled,s.ColorMode.alphaBlended,s.CullFaceMode.backCW,mi,"skybox",ni.vertexBuffer,ni.indexBuffer,ni.segments)}(this,this.style.fog),this.renderPass="sky",(s.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<T.length;this.currentLayer++){const me=this.style._layers[T[this.currentLayer]],De=c._getLayerSourceCache(me);me.isSky()&&this.renderLayer(this,De,me,De?se[De.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<T.length;){const me=this.style._layers[T[this.currentLayer]],De=c._getLayerSourceCache(me);if(me.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(me)){if(me.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const Ae=De?(me.type==="symbol"?ue:se)[De.id]:void 0;this._renderTileClippingMasks(me,De,De?W[De.id]:void 0),this.renderLayer(this,De,me,Ae),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let me=null;s.values(this.style._layers).forEach(De=>{const Ae=c._getLayerSourceCache(De);Ae&&!De.isHidden(this.transform.zoom)&&(!me||me.getSource().maxzoom<Ae.getSource().maxzoom)&&(me=Ae)}),me&&this.options.showTileBoundaries&&Rn.debug(this,me,me.getVisibleCoordinates())}this.options.showPadding&&function(me){const De=me.transform.padding;Go(me,me.transform.height-(De.top||0),3,Kn),Go(me,De.bottom||0,3,Or),it(me,De.left||0,3,zs),it(me,me.transform.width-(De.right||0),3,jr);const Ae=me.transform.centerPoint;(function(Fe,qe,ot,at){Et(Fe,qe-1,ot-10,2,20,at),Et(Fe,qe-10,ot-1,20,2,at)})(me,Ae.x,me.transform.height-Ae.y,Cc)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(s.window.performance.now()),this.saveCanvasCopy())}}renderLayer(c,p,T,B){T.isHidden(this.transform.zoom)||(T.type==="background"||T.type==="sky"||T.type==="custom"||B&&B.length)&&(this.id=T.id,this.gpuTimingStart(T),c.transform.projection.unsupportedLayers&&c.transform.projection.unsupportedLayers.includes(T.type)||Rn[T.type](c,p,T,B,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(c){if(!this.options.gpuTiming)return;const p=this.context.extTimerQuery;let T=this.gpuTimers[c.id];T||(T=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:p.createQueryEXT()}),T.calls++,p.beginQueryEXT(p.TIME_ELAPSED_EXT,T.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const c=this.context.extTimerQuery,p=c.createQueryEXT();this.deferredRenderGpuTimeQueries.push(p),c.beginQueryEXT(c.TIME_ELAPSED_EXT,p)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}collectGpuTimers(){const c=this.gpuTimers;return this.gpuTimers={},c}collectDeferredRenderGpuQueries(){const c=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],c}queryGpuTimers(c){const p={};for(const T in c){const B=c[T],W=this.context.extTimerQuery,se=W.getQueryObjectEXT(B.query,W.QUERY_RESULT_EXT)/1e6;W.deleteQueryEXT(B.query),p[T]=se}return p}queryGpuTimeDeferredRender(c){if(!this.options.gpuTimingDeferredRender)return 0;const p=this.context.extTimerQuery;let T=0;for(const B of c)T+=p.getQueryObjectEXT(B,p.QUERY_RESULT_EXT)/1e6,p.deleteQueryEXT(B);return T}translatePosMatrix(c,p,T,B,W){if(!T[0]&&!T[1])return c;const se=W?B==="map"?this.transform.angle:0:B==="viewport"?-this.transform.angle:0;if(se){const De=Math.sin(se),Ae=Math.cos(se);T=[T[0]*Ae-T[1]*De,T[0]*De+T[1]*Ae]}const ue=[W?T[0]:F(p,T[0],this.transform.zoom),W?T[1]:F(p,T[1],this.transform.zoom),0],me=new Float32Array(16);return s.translate(me,c,ue),me}saveTileTexture(c){const p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const p=this._tileTextures[c];return p&&p.length>0?p.pop():null}isPatternMissing(c){return c===null||c!==void 0&&!this.imageManager.getPattern(c.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const c=this.terrain&&this.terrain.renderingToTexture,p=this.terrain&&this.terrain.exaggeration()===0,T=this.style&&this.style.fog,B=[];return this.terrainRenderModeElevated()&&B.push("TERRAIN"),this.transform.projection.name==="globe"&&B.push("GLOBE"),p&&B.push("ZERO_EXAGGERATION"),T&&!c&&T.getOpacity(this.transform.pitch)!==0&&B.push("FOG"),c&&B.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&B.push("OVERDRAW_INSPECTOR"),B}useProgram(c,p,T){this.cache=this.cache||{};const B=T||[],W=this.currentGlobalDefines().concat(B),se=ga.cacheKey(si[c],c,W,p);return this.cache[se]||(this.cache[se]=new ga(this.context,c,si[c],p,$o[c],W)),this.cache[se]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=s.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new s.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(c,p,T){if(this.terrain&&this.terrain.renderingToTexture)return;const B=this.style.fog;if(B){const W=B.getOpacity(this.transform.pitch),se=((ue,me,De,Ae,Fe,qe,ot,at,dt,Ke,tt)=>{const pt=ue.transform,lt=me.properties.get("color").toArray01();lt[3]=Ae;const xt=ue.frameCounter/1e3%1;return{u_fog_matrix:De?pt.calculateFogTileMatrix(De):ue.identityMat,u_fog_range:me.getFovAdjustedRange(pt._fov),u_fog_color:lt,u_fog_horizon_blend:me.properties.get("horizon-blend"),u_fog_temporal_offset:xt,u_frustum_tl:Fe,u_frustum_tr:qe,u_frustum_br:ot,u_frustum_bl:at,u_globe_pos:dt,u_globe_radius:Ke,u_viewport:tt,u_globe_transition:s.globeToMercatorTransition(pt.zoom),u_is_globe:+(pt.projection.name==="globe")}})(this,B,T,W,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*s.exported.devicePixelRatio,this.transform.height*s.exported.devicePixelRatio]);p.setFogUniformValues(c,se)}}setTileLoadedFlag(c){this.tileLoaded=c}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const c=this.context.gl,p=c.createTexture();return c.bindTexture(c.TEXTURE_2D,p),c.copyTexImage2D(c.TEXTURE_2D,0,c.RGBA,0,0,c.drawingBufferWidth,c.drawingBufferHeight,0),p}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const c=this.style&&this.style.fog;return!!c&&c.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const c=this._backgroundTiles,p=this._backgroundTiles={},T=this.transform.coveringTiles({tileSize:512});for(const B of T)p[B.key]=c[B.key]||new s.Tile(B,512,this.transform.tileZoom,this);return p}clearBackgroundTiles(){this._backgroundTiles={}}}class Un{constructor(c=0,p=0,T=0,B=0){if(isNaN(c)||c<0||isNaN(p)||p<0||isNaN(T)||T<0||isNaN(B)||B<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=T,this.right=B}interpolate(c,p,T){return p.top!=null&&c.top!=null&&(this.top=s.number(c.top,p.top,T)),p.bottom!=null&&c.bottom!=null&&(this.bottom=s.number(c.bottom,p.bottom,T)),p.left!=null&&c.left!=null&&(this.left=s.number(c.left,p.left,T)),p.right!=null&&c.right!=null&&(this.right=s.number(c.right,p.right,T)),this}getCenter(c,p){const T=s.clamp((this.left+c-this.right)/2,0,c),B=s.clamp((this.top+p-this.bottom)/2,0,p);return new s.pointGeometry(T,B)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new Un(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function ir(_,c){const p=s.getColumn(_,3);s.fromQuat(_,c),s.setColumn(_,3,p)}function Tr(_,c){const p=s.identity$1([]);return s.rotateZ$1(p,p,-c),s.rotateX$1(p,p,-_),p}function In(_,c){const p=[_[0],_[1],0],T=[c[0],c[1],0];if(s.length(p)>=1e-15){const se=s.normalize([],p);s.scale$2(T,se,s.dot(T,se)),c[0]=T[0],c[1]=T[1]}const B=s.cross([],c,_);if(s.len(B)<1e-15)return null;const W=Math.atan2(-B[1],B[0]);return Tr(Math.atan2(Math.sqrt(_[0]*_[0]+_[1]*_[1]),-_[2]),W)}class be{constructor(c,p){this.position=c,this.orientation=p}get position(){return this._position}set position(c){if(c){const p=c instanceof s.MercatorCoordinate?c:new s.MercatorCoordinate(c[0],c[1],c[2]);this._renderWorldCopies&&(p.x=s.wrap(p.x,0,1)),this._position=p}else this._position=null}lookAtPoint(c,p){if(this.orientation=null,!this.position)return;const T=this._elevation?this._elevation.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(c)):0,B=this.position,W=s.MercatorCoordinate.fromLngLat(c,T),se=[W.x-B.x,W.y-B.y,W.z-B.z];p||(p=[0,0,1]),p[2]=Math.abs(p[2]),this.orientation=In(se,p)}setPitchBearing(c,p){this.orientation=Tr(s.degToRad(c),s.degToRad(-p))}}class Se{constructor(c,p){this._transform=s.identity([]),this.orientation=p,this.position=c}get mercatorPosition(){const c=this.position;return new s.MercatorCoordinate(c[0],c[1],c[2])}get position(){const c=s.getColumn(this._transform,3);return[c[0],c[1],c[2]]}set position(c){var p;c&&s.setColumn(this._transform,3,[(p=c)[0],p[1],p[2],1])}get orientation(){return this._orientation}set orientation(c){this._orientation=c||s.identity$1([]),c&&ir(this._transform,this._orientation)}getPitchBearing(){const c=this.forward(),p=this.right();return{bearing:Math.atan2(-p[1],p[0]),pitch:Math.atan2(Math.sqrt(c[0]*c[0]+c[1]*c[1]),-c[2])}}setPitchBearing(c,p){this._orientation=Tr(c,p),ir(this._transform,this._orientation)}forward(){const c=s.getColumn(this._transform,2);return[-c[0],-c[1],-c[2]]}up(){const c=s.getColumn(this._transform,1);return[-c[0],-c[1],-c[2]]}right(){const c=s.getColumn(this._transform,0);return[c[0],c[1],c[2]]}getCameraToWorld(c,p){const T=new Float64Array(16);return s.invert(T,this.getWorldToCamera(c,p)),T}getWorldToCameraPosition(c,p,T){const B=this.position;s.scale$2(B,B,-c);const W=new Float64Array(16);return s.fromScaling(W,[T,T,T]),s.translate(W,W,B),W[10]*=p,W}getWorldToCamera(c,p){const T=new Float64Array(16),B=new Float64Array(4),W=this.position;return s.conjugate(B,this._orientation),s.scale$2(W,W,-c),s.fromQuat(T,B),s.translate(T,T,W),T[1]*=-1,T[5]*=-1,T[9]*=-1,T[13]*=-1,T[8]*=p,T[9]*=p,T[10]*=p,T[11]*=p,T}getCameraToClipPerspective(c,p,T,B){const W=new Float64Array(16);return s.perspective(W,c,p,T,B),W}getDistanceToElevation(c,p=!1){const T=c===0?0:s.mercatorZfromAltitude(c,p?s.latFromMercatorY(this.position[1]):this.position[1]),B=this.forward();return(T-this.position[2])/B[2]}clone(){return new Se([...this.position],[...this.orientation])}}function $e(_,c){const p=Si(_.projection,_.zoom,_.width,_.height),T=function(W,se,ue,me,De){const Ae=new s.LngLat(ue.lng-180*Tn,ue.lat),Fe=new s.LngLat(ue.lng+180*Tn,ue.lat),qe=W.project(Ae.lng,Ae.lat),ot=W.project(Fe.lng,Fe.lat),at=-Math.atan2(ot.y-qe.y,ot.x-qe.x),dt=s.MercatorCoordinate.fromLngLat(ue);dt.y=s.clamp(dt.y,-.999975,.999975);const Ke=dt.toLngLat(),tt=W.project(Ke.lng,Ke.lat),pt=s.MercatorCoordinate.fromLngLat(Ke);pt.x+=Tn;const lt=pt.toLngLat(),xt=W.project(lt.lng,lt.lat),At=to(xt.x-tt.x,xt.y-tt.y,at),Tt=s.MercatorCoordinate.fromLngLat(Ke);Tt.y+=Tn;const zt=Tt.toLngLat(),ei=W.project(zt.lng,zt.lat),Kt=to(ei.x-tt.x,ei.y-tt.y,at),Vt=Math.abs(At.x)/Math.abs(Kt.y),Ei=s.identity([]);s.rotateZ(Ei,Ei,-at*(1-(De?0:me)));const qt=s.identity([]);return s.scale(qt,qt,[1,1-(1-Vt)*me,1]),qt[4]=-Kt.x/Kt.y*me,s.rotateZ(qt,qt,at),s.multiply(qt,Ei,qt),qt}(_.projection,0,_.center,p,c),B=vt(_);return s.scale(T,T,[B,B,1]),T}function vt(_){const c=_.projection,p=Si(_.projection,_.zoom,_.width,_.height),T=vr(c,_.center),B=vr(c,s.LngLat.convert(c.center));return Math.pow(2,T*p+(1-p)*B)}function Si(_,c,p,T,B=1/0){const W=_.range;if(!W)return 0;const se=Math.min(B,Math.max(p,T)),ue=Math.log(se/1024)/Math.LN2;return s.smoothstep(W[0]+ue,W[1]+ue,c)}const Tn=1/4e4;function vr(_,c){const p=s.clamp(c.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),T=new s.LngLat(c.lng-180*Tn,p),B=new s.LngLat(c.lng+180*Tn,p),W=_.project(T.lng,p),se=_.project(B.lng,p),ue=s.MercatorCoordinate.fromLngLat(T),me=s.MercatorCoordinate.fromLngLat(B),De=se.x-W.x,Ae=se.y-W.y,Fe=me.x-ue.x,qe=me.y-ue.y,ot=Math.sqrt((Fe*Fe+qe*qe)/(De*De+Ae*Ae));return Math.log(ot)/Math.LN2}function to(_,c,p){const T=Math.cos(p),B=Math.sin(p);return{x:_*T-c*B,y:_*B+c*T}}class Ns{constructor(c,p,T,B,W,se,ue){this.tileSize=512,this._renderWorldCopies=W===void 0||W,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=T??0,this._maxPitch=B??60,this.setProjection(se),this.setMaxBounds(ue),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Un,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Se,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const c=new Ns(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return c._elevation=this._elevation,c._centerAltitude=this._centerAltitude,c._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,c.tileSize=this.tileSize,c.mercatorFromTransition=this.mercatorFromTransition,c.width=this.width,c.height=this.height,c.cameraElevationReference=this.cameraElevationReference,c._center=this._center,c._setZoom(this.zoom),c._seaLevelZoom=this._seaLevelZoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._nearZ=this._nearZ,c._farZ=this._farZ,c._averageElevation=this._averageElevation,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._camera=this._camera.clone(),c._calcMatrices(),c.freezeTileCoverage=this.freezeTileCoverage,c.frustumCorners=this.frustumCorners,c}get elevation(){return this._elevation}set elevation(c){this._elevation!==c&&(this._elevation=c,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(c,p=!1){const T=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||T)&&this._updateCameraOnTerrain(),(c||T)&&this._constrainCamera(p),this._calcMatrices()}getProjection(){return s.pick(this.projection,["name","center","parallels"])}setProjection(c){this.projectionOptions=c||{name:"mercator"};const p=this.projection?this.getProjection():void 0;this.projection=s.getProjection(this.projectionOptions);const T=!b(p,this.getProjection());return T&&this._calcMatrices(),this.mercatorFromTransition=!1,T}setMercatorFromTransition(){const c=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=s.getProjection({name:"mercator"});const p=c!==this.projection.name;return p&&this._calcMatrices(),p}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get cameraWorldSize(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return s.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.pointGeometry(this.width,this.height)}get bearing(){return s.wrap(this.rotation,-180,180)}set bearing(c){this.rotation=c}get rotation(){return-this.angle/Math.PI*180}set rotation(c){const p=-c*Math.PI/180;var T;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=(T=new s.ARRAY_TYPE(4),s.ARRAY_TYPE!=Float32Array&&(T[1]=0,T[2]=0),T[0]=1,T[3]=1,T),function(B,W,se){var ue=W[0],me=W[1],De=W[2],Ae=W[3],Fe=Math.sin(se),qe=Math.cos(se);B[0]=ue*qe+De*Fe,B[1]=me*qe+Ae*Fe,B[2]=ue*-Fe+De*qe,B[3]=me*-Fe+Ae*qe}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const p=s.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const c=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/c)}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=s.degToRad(c),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(c){this._averageElevation=c,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(c){const p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._setZoom(p),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(c){this._zoom=c,this.scale=this.zoomScale(c),this.tileZoom=Math.floor(c),this.zoomFraction=c-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const c=this._elevation;this._centerAltitude=c.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=c.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const c=this._elevation,p=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],T=this.horizonLineFromTop();let B=0,W=0;for(let se=0;se<p.length;se++){const ue=new s.pointGeometry(p[se][0]*this.width,T+p[se][1]*(this.height-T)),me=c.pointCoordinate(ue);if(!me)continue;const De=1/Math.hypot(me[0]-this._camera.position[0],me[1]-this._camera.position[1]);B+=me[3]*De,W+=De}return W===0?NaN:B/W}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const c=this._seaLevelZoom,p=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),T=this.pixelsPerMeter/this.worldSize*p,B=this._mercatorZfromZoom(c),W=this._mercatorZfromZoom(this._maxZoom),se=Math.max(B-T,W);this._setZoom(this._zoomFromMercatorZ(se))}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}computeZoomRelativeTo(c){const p=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,c.toAltitude()));let T;T=c.z<this._camera.position[2]?[p.x,p.y,p.z]:[c.x,c.y,c.z];const B=s.length(s.sub([],this._camera.position,T));return s.clamp(this._zoomFromMercatorZ(B),this._minZoom,this._maxZoom)}setFreeCameraOptions(c){if(!this.height||!c.position&&!c.orientation)return;this._updateCameraState();let p=!1;if(c.orientation&&!s.exactEquals(c.orientation,this._camera.orientation)&&(p=this._setCameraOrientation(c.orientation)),c.position){const T=[c.position.x,c.position.y,c.position.z];s.exactEquals$1(T,this._camera.position)||(this._setCameraPosition(T),p=!0)}p&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const c=this._camera.position,p=new be;return p.position=new s.MercatorCoordinate(c[0],c[1],c[2]),p.orientation=this._camera.orientation,p._elevation=this.elevation,p._renderWorldCopies=this.renderWorldCopies,p}_setCameraOrientation(c){if(!s.length$1(c))return!1;s.normalize$1(c,c);const p=s.transformQuat([],[0,0,-1],c),T=s.transformQuat([],[0,-1,0],c);if(T[2]<0)return!1;const B=In(p,T);return!!B&&(this._camera.orientation=B,!0)}_setCameraPosition(c){const p=this.zoomScale(this.minZoom)*this.tileSize,T=this.zoomScale(this.maxZoom)*this.tileSize,B=this.cameraToCenterDistance;c[2]=s.clamp(c[2],B/T,B/p),this._camera.position=c}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,p,T){this._unmodified=!1,this._edgeInsets.interpolate(c,p,T),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(c){const p=[new s.UnwrappedTileID(0,c)];if(this.renderWorldCopies){const T=this.pointCoordinate(new s.pointGeometry(0,0)),B=this.pointCoordinate(new s.pointGeometry(this.width,0)),W=this.pointCoordinate(new s.pointGeometry(this.width,this.height)),se=this.pointCoordinate(new s.pointGeometry(0,this.height)),ue=Math.floor(Math.min(T.x,B.x,W.x,se.x)),me=Math.floor(Math.max(T.x,B.x,W.x,se.x)),De=1;for(let Ae=ue-De;Ae<=me+De;Ae++)Ae!==0&&p.push(new s.UnwrappedTileID(Ae,c))}return p}coveringTiles(c){let p=this.coveringZoomLevel(c);const T=p,B=this.elevation&&!c.isTerrainDEM,W=this.projection.name==="mercator";if(c.minzoom!==void 0&&p<c.minzoom)return[];c.maxzoom!==void 0&&p>c.maxzoom&&(p=c.maxzoom);const se=this.locationCoordinate(this.center),ue=this.center.lat,me=1<<p,De=[me*se.x,me*se.y,0],Ae=this.projection.name==="globe",Fe=!Ae,qe=s.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,p,Fe),ot=Ae?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),at=me*s.mercatorZfromAltitude(1,this.center.lat),dt=this._camera.position[2]/s.mercatorZfromAltitude(1,this.center.lat),Ke=[me*ot.x,me*ot.y,dt*(Fe?1:at)],tt=this.cameraToCenterDistance/c.tileSize*(c.roundZoom?1:.502),pt=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?p:0,lt=c.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,xt=c.isTerrainDEM?-lt:this._elevation?this._elevation.getMinElevationBelowMSL():0,At=this.projection.isReprojectedInTileSpace?vt(this):1,Tt=ri=>{const zi=new s.MercatorCoordinate(ri.x+25e-6,ri.y,ri.z),Ht=new s.MercatorCoordinate(ri.x,ri.y+25e-6,ri.z),ii=ri.toLngLat(),mn=zi.toLngLat(),Sn=Ht.toLngLat(),gn=this.locationCoordinate(ii),jn=this.locationCoordinate(mn),or=this.locationCoordinate(Sn),kn=Math.hypot(jn.x-gn.x,jn.y-gn.y),an=Math.hypot(or.x-gn.x,or.y-gn.y);return Math.sqrt(kn*an)*At/25e-6},zt=ri=>{const wi=lt,zi=xt;return{aabb:s.tileAABB(this,me,0,0,0,ri,zi,wi,this.projection),zoom:0,x:0,y:0,minZ:zi,maxZ:wi,wrap:ri,fullyVisible:!1}},ei=[];let Kt=[];const Vt=p,Ei=c.reparseOverscaled?T:p,qt=ri=>ri*ri,mi=qt((dt-this._centerAltitude)*at),ni=ri=>{if(!this._elevation||!ri.tileID||!W)return;const wi=this._elevation.getMinMaxForTile(ri.tileID),zi=ri.aabb;wi?(zi.min[2]=wi.min,zi.max[2]=wi.max,zi.center[2]=(zi.min[2]+zi.max[2])/2):(ri.shouldSplit=Oi(ri),ri.shouldSplit||(zi.min[2]=zi.max[2]=zi.center[2]=this._centerAltitude))},Oi=ri=>{if(ri.zoom<pt)return!0;if(ri.zoom===Vt)return!1;if(ri.shouldSplit!=null)return ri.shouldSplit;const wi=ri.aabb.distanceX(Ke),zi=ri.aabb.distanceY(Ke);let Ht=mi,ii=1;if(Ae){Ht=qt(ri.aabb.distanceZ(Ke));const gn=Math.pow(2,ri.zoom),jn=s.latFromMercatorY((ri.y+1)/gn),or=s.latFromMercatorY(ri.y/gn),kn=Math.min(Math.max(ue,jn),or),an=s.circumferenceAtLatitude(kn)/s.circumferenceAtLatitude(ue);if(ii=kn===ue?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,an/this._mercatorScaleRatio),this.zoom<=s.GLOBE_ZOOM_THRESHOLD_MIN&&ri.zoom===Vt-1&&an>=.9)return!0}else if(B&&(Ht=qt(ri.aabb.distanceZ(Ke)*at)),this.projection.isReprojectedInTileSpace&&T<=5){const gn=Math.pow(2,ri.zoom),jn=Tt(new s.MercatorCoordinate((ri.x+.5)/gn,(ri.y+.5)/gn));ii=jn>.85?1:jn}const mn=wi*wi+zi*zi+Ht,Sn=qt((1<<Vt-ri.zoom)*tt*ii*((gn,jn)=>{if(jn*qt(.707)<gn)return 1;const or=Math.sqrt(jn/gn);return or/(1.4144271570014144+(Math.pow(1.1,or-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Ht,mi),mn));return mn<Sn};if(this.renderWorldCopies)for(let ri=1;ri<=3;ri++)ei.push(zt(-ri)),ei.push(zt(ri));for(ei.push(zt(0));ei.length>0;){const ri=ei.pop(),wi=ri.x,zi=ri.y;let Ht=ri.fullyVisible;if(!Ht){const ii=ri.aabb.intersects(qe);if(ii===0)continue;Ht=ii===2}if(ri.zoom!==Vt&&Oi(ri))for(let ii=0;ii<4;ii++){const mn=(wi<<1)+ii%2,Sn=(zi<<1)+(ii>>1),gn={aabb:W?ri.aabb.quadrant(ii):s.tileAABB(this,me,ri.zoom+1,mn,Sn,ri.wrap,ri.minZ,ri.maxZ,this.projection),zoom:ri.zoom+1,x:mn,y:Sn,wrap:ri.wrap,fullyVisible:Ht,tileID:void 0,shouldSplit:void 0,minZ:ri.minZ,maxZ:ri.maxZ};B&&!Ae&&(gn.tileID=new s.OverscaledTileID(ri.zoom+1===Vt?Ei:ri.zoom+1,ri.wrap,ri.zoom+1,mn,Sn),ni(gn)),ei.push(gn)}else{const ii=ri.zoom===Vt?Ei:ri.zoom;if(c.minzoom&&c.minzoom>ii)continue;const mn=De[0]-(.5+wi+(ri.wrap<<ri.zoom))*(1<<p-ri.zoom),Sn=De[1]-.5-zi,gn=ri.tileID?ri.tileID:new s.OverscaledTileID(ii,ri.wrap,ri.zoom,wi,zi);Kt.push({tileID:gn,distanceSq:mn*mn+Sn*Sn})}}if(this.fogCullDistSq){const ri=this.fogCullDistSq,wi=this.horizonLineFromTop();Kt=Kt.filter(zi=>{const Ht=[0,0,0,1],ii=[s.EXTENT,s.EXTENT,0,1],mn=this.calculateFogTileMatrix(zi.tileID.toUnwrapped());s.transformMat4$1(Ht,Ht,mn),s.transformMat4$1(ii,ii,mn);const Sn=s.getAABBPointSquareDist(Ht,ii);if(Sn===0)return!0;let gn=!1;const jn=this._elevation;if(jn&&Sn>ri&&wi!==0){const or=this.calculateProjMatrix(zi.tileID.toUnwrapped());let kn;c.isTerrainDEM||(kn=jn.getMinMaxForTile(zi.tileID)),kn||(kn={min:xt,max:lt});const an=s.furthestTileCorner(this.rotation),is=[an[0]*s.EXTENT,an[1]*s.EXTENT,kn.max];s.transformMat4(is,is,or),gn=(1-is[1])*this.height*.5<wi}return Sn<ri||gn})}return Kt.sort((ri,wi)=>ri.distanceSq-wi.distanceSq).map(ri=>ri.tileID)}resize(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const p=s.clamp(c.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),T=this.projection.project(c.lng,p);return new s.pointGeometry(T.x*this.worldSize,T.y*this.worldSize)}unproject(c){return this.projection.unproject(c.x/this.worldSize,c.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(c,p){let T,B;const W=this.centerPoint;if(this.projection.name==="globe"){const ue=this.worldSize;T=(p.x-W.x)/ue,B=(p.y-W.y)/ue}else{const ue=this.pointCoordinate(p),me=this.pointCoordinate(W);T=ue.x-me.x,B=ue.y-me.y}const se=this.locationCoordinate(c);this.setLocation(new s.MercatorCoordinate(se.x-T,se.y-B))}setLocation(c){this.center=this.coordinateLocation(c),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(c){return this.projection.locationPoint(this,c)}locationPoint3D(c){return this.projection.locationPoint(this,c,!0)}pointLocation(c){return this.coordinateLocation(this.pointCoordinate(c))}pointLocation3D(c){return this.coordinateLocation(this.pointCoordinate3D(c))}locationCoordinate(c,p){const T=p?s.mercatorZfromAltitude(p,c.lat):void 0,B=this.projection.project(c.lng,c.lat);return new s.MercatorCoordinate(B.x,B.y,T)}coordinateLocation(c){return this.projection.unproject(c.x,c.y)}pointRayIntersection(c,p){const T=p??this._centerAltitude,B=[c.x,c.y,0,1],W=[c.x,c.y,1,1];s.transformMat4$1(B,B,this.pixelMatrixInverse),s.transformMat4$1(W,W,this.pixelMatrixInverse);const se=W[3];s.scale$1(B,B,1/B[3]),s.scale$1(W,W,1/se);const ue=B[2],me=W[2];return{p0:B,p1:W,t:ue===me?0:(T-ue)/(me-ue)}}screenPointToMercatorRay(c){const p=[c.x,c.y,0,1],T=[c.x,c.y,1,1];return s.transformMat4$1(p,p,this.pixelMatrixInverse),s.transformMat4$1(T,T,this.pixelMatrixInverse),s.scale$1(p,p,1/p[3]),s.scale$1(T,T,1/T[3]),p[2]=s.mercatorZfromAltitude(p[2],this._center.lat)*this.worldSize,T[2]=s.mercatorZfromAltitude(T[2],this._center.lat)*this.worldSize,s.scale$1(p,p,1/this.worldSize),s.scale$1(T,T,1/this.worldSize),new s.Ray([p[0],p[1],p[2]],s.normalize([],s.sub([],T,p)))}rayIntersectionCoordinate(c){const{p0:p,p1:T,t:B}=c,W=s.mercatorZfromAltitude(p[2],this._center.lat),se=s.mercatorZfromAltitude(T[2],this._center.lat);return new s.MercatorCoordinate(s.number(p[0],T[0],B)/this.worldSize,s.number(p[1],T[1],B)/this.worldSize,s.number(W,se,B))}pointCoordinate(c,p=this._centerAltitude){return this.projection.pointCoordinate(this,c.x,c.y,p)}pointCoordinate3D(c){if(!this.elevation)return this.pointCoordinate(c);let p=this.projection.pointCoordinate3D(this,c.x,c.y);if(p)return new s.MercatorCoordinate(p[0],p[1],p[2]);let T=0,B=this.horizonLineFromTop();if(c.y>B)return this.pointCoordinate(c);const W=.02*B,se=c.clone();for(let ue=0;ue<10&&B-T>W;ue++){se.y=s.number(T,B,.66);const me=this.projection.pointCoordinate3D(this,se.x,se.y);me?(B=se.y,p=me):T=se.y}return p?new s.MercatorCoordinate(p[0],p[1],p[2]):this.pointCoordinate(c)}isPointAboveHorizon(c){return this.projection.isPointAboveHorizon(this,c)}_coordinatePoint(c,p){const T=p&&this.elevation?this.elevation.getAtPointOrZero(c,this._centerAltitude):this._centerAltitude,B=[c.x*this.worldSize,c.y*this.worldSize,T+c.toAltitude(),1];return s.transformMat4$1(B,B,this.pixelMatrix),B[3]>0?new s.pointGeometry(B[0]/B[3],B[1]/B[3]):new s.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:c,left:p}=this._edgeInsets,T=this.height-this._edgeInsets.bottom,B=this.width-this._edgeInsets.right,W=this.pointCoordinate3D(new s.pointGeometry(p,c)),se=this.pointCoordinate3D(new s.pointGeometry(B,c)),ue=this.pointCoordinate3D(new s.pointGeometry(B,T)),me=this.pointCoordinate3D(new s.pointGeometry(p,T));let De=Math.min(W.x,me.x),Ae=Math.max(se.x,ue.x),Fe=Math.min(W.y,se.y),qe=Math.max(me.y,ue.y);const ot=Math.pow(2,-this.zoom)/16,at=(Tt,zt,ei,Kt)=>{const Vt=(Tt+ei)/2,Ei=(zt+Kt)/2,qt=new s.pointGeometry(Vt,Ei),mi=this.pointCoordinate3D(qt),ni=Math.max(0,De-mi.x,Fe-mi.y,mi.x-Ae,mi.y-qe);De=Math.min(De,mi.x),Ae=Math.max(Ae,mi.x),Fe=Math.min(Fe,mi.y),qe=Math.max(qe,mi.y),ni>ot&&(at(Tt,zt,Vt,Ei),at(Vt,Ei,ei,Kt))};at(p,c,B,c),at(B,c,B,T),at(B,T,p,T),at(p,T,p,c);const[dt,Ke]=s.polesInViewport(this),tt=dt||Ke,pt=dt?90:s.latFromMercatorY(Fe),lt=tt?180:s.lngFromMercatorX(Ae),xt=Ke?-90:s.latFromMercatorY(qe),At=tt?-180:s.lngFromMercatorX(De);return new s.LngLatBounds(new s.LngLat(At,xt),new s.LngLat(lt,pt))}_getBounds(c,p){if(this.projection.name==="globe")return this._getGlobeBounds();const T=new s.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),B=new s.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),W=new s.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),se=new s.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let ue=this.pointCoordinate(T,c),me=this.pointCoordinate(B,c);const De=this.pointCoordinate(W,p),Ae=this.pointCoordinate(se,p),Fe=(qe,ot)=>(ot.y-qe.y)/(ot.x-qe.x);return ue.y>1&&me.y>=0?ue=new s.MercatorCoordinate((1-Ae.y)/Fe(Ae,ue)+Ae.x,1):ue.y<0&&me.y<=1&&(ue=new s.MercatorCoordinate(-Ae.y/Fe(Ae,ue)+Ae.x,0)),me.y>1&&ue.y>=0?me=new s.MercatorCoordinate((1-De.y)/Fe(De,me)+De.x,1):me.y<0&&ue.y<=1&&(me=new s.MercatorCoordinate(-De.y/Fe(De,me)+De.x,0)),new s.LngLatBounds().extend(this.coordinateLocation(ue)).extend(this.coordinateLocation(me)).extend(this.coordinateLocation(Ae)).extend(this.coordinateLocation(De))}_getBounds3D(){const c=this.elevation;if(!c.visibleDemTiles.length||c.isUsingMockSource())return this._getBounds(0,0);const p=c.visibleDemTiles.reduce((T,B)=>{if(B.dem){const W=B.dem.tree;T.min=Math.min(T.min,W.minimums[0]),T.max=Math.max(T.max,W.maximums[0])}return T},{min:Number.MAX_VALUE,max:0});return this._getBounds(p.min*c.exaggeration(),p.max*c.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(c=!0){const p=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,T=this.height/2-p*(1-this._horizonShift);return c?Math.max(0,T):T}getMaxBounds(){return this.maxBounds}setMaxBounds(c){this.maxBounds=c,this.minLat=-s.MAX_MERCATOR_LATITUDE,this.maxLat=s.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,c&&(this.minLat=c.getSouth(),this.maxLat=c.getNorth(),this.minLng=c.getWest(),this.maxLng=c.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=s.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=s.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=s.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=s.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(c,p){return this.projection.createTileMatrix(this,p,c)}calculateDistanceTileData(c){const p=c.key,T=this._distanceTileDataCache;if(T[p])return T[p];const B=c.canonical,W=1/this.height,se=this.cameraWorldSize,ue=se/this.zoomScale(B.z),me=(B.x+Math.pow(2,B.z)*c.wrap)*ue,De=B.y*ue,Ae=this.point;Ae.x*=se/this.worldSize,Ae.y*=se/this.worldSize;const Fe=this.angle,qe=Math.sin(-Fe),ot=-Math.cos(-Fe);return T[p]={bearing:[qe,ot],center:[(Ae.x-me)*W,(Ae.y-De)*W],scale:ue/s.EXTENT*W},T[p]}calculateFogTileMatrix(c){const p=c.key,T=this._fogTileMatrixCache;if(T[p])return T[p];const B=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,c);return s.multiply(B,this.worldToFogMatrix,B),T[p]=new Float32Array(B),T[p]}calculateProjMatrix(c,p=!1){const T=c.key,B=p?this._alignedProjMatrixCache:this._projMatrixCache;if(B[T])return B[T];const W=this.calculatePosMatrix(c,this.worldSize);return s.multiply(W,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:p?this.alignedProjMatrix:this.projMatrix,W),B[T]=new Float32Array(W),B[T]}calculatePixelsToTileUnitsMatrix(c){const p=c.tileID.key,T=this._pixelsToTileUnitsCache;if(T[p])return T[p];const B=function(W,se){const{scale:ue}=W.tileTransform,me=ue*s.EXTENT/(W.tileSize*Math.pow(2,se.zoom-W.tileID.overscaledZ+W.tileID.canonical.z));return De=new Float32Array(4),qe=(Ae=se.inverseAdjustmentMatrix)[1],ot=Ae[2],at=Ae[3],Ke=(Fe=[me,me])[1],De[0]=Ae[0]*(dt=Fe[0]),De[1]=qe*dt,De[2]=ot*Ke,De[3]=at*Ke,De;var De,Ae,Fe,qe,ot,at,dt,Ke}(c,this);return T[p]=B,T[p]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const c=this._elevation;this._updateCameraState();const p=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,T=this._computeCameraPosition(p),B=this._camera.forward(),W=s.mercatorZfromAltitude(1,this._center.lat);T[2]/=W,B[2]/=W,s.normalize(B,B);const se=c.raycast(T,B,c.exaggeration());if(se){const ue=s.scaleAndAdd([],T,B,se),me=new s.MercatorCoordinate(ue[0],ue[1],s.mercatorZfromAltitude(ue[2],s.latFromMercatorY(ue[1]))),De=(me.z+s.length([me.x-T[0],me.y-T[1],me.z-T[2]*W]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(De),this._centerAltitude=me.toAltitude(),this._center=this.coordinateLocation(me),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(c=!1){if(!this._elevation)return;const p=this._elevation,T=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,B=this._computeCameraPosition(T),W=p.getAtPointOrZero(new s.MercatorCoordinate(...B)),se=this.pixelsPerMeter/this.worldSize*W,ue=this._minimumHeightOverTerrain(),me=B[2]-se;if(me<=ue)if(me<0||c){const De=this.locationCoordinate(this._center,this._centerAltitude),Ae=[B[0],B[1],De.z-B[2]],Fe=s.length(Ae);Ae[2]-=(ue-me)/this._pixelsPerMercatorPixel;const qe=s.length(Ae);if(qe===0)return;s.scale$2(Ae,Ae,Fe/qe*this._pixelsPerMercatorPixel),this._camera.position=[B[0],B[1],De.z*this._pixelsPerMercatorPixel-Ae[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const c=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||c){const qe=this.center;return qe.lat=s.clamp(qe.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!c)&&(qe.lng=s.clamp(qe.lng,this.minLng,this.maxLng)),this.center=qe,void(this._constraining=!1)}const p=this._unmodified,{x:T,y:B}=this.point;let W=0,se=T,ue=B;const me=this.width/2,De=this.height/2,Ae=this.worldMinY*this.scale,Fe=this.worldMaxY*this.scale;if(B-De<Ae&&(ue=Ae+De),B+De>Fe&&(ue=Fe-De),Fe-Ae<this.height&&(W=Math.max(W,this.height/(Fe-Ae)),ue=(Fe+Ae)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const qe=this.worldMinX*this.scale,ot=this.worldMaxX*this.scale,at=this.worldSize/2-(qe+ot)/2;se=(T+at+this.worldSize)%this.worldSize-at,se-me<qe&&(se=qe+me),se+me>ot&&(se=ot-me),ot-qe<this.width&&(W=Math.max(W,this.width/(ot-qe)),se=(ot+qe)/2)}se===T&&ue===B||(this.center=this.unproject(new s.pointGeometry(se,ue))),W&&(this.zoom+=this.scaleZoom(W)),this._constrainCamera(),this._unmodified=p,this._constraining=!1}_minZoomForBounds(){let c=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(c=Math.max(c,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),c}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,p=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=s.mercatorZfromAltitude(1,this.center.lat)/s.mercatorZfromAltitude(1,s.GLOBE_SCALE_MATCH_LATITUDE));const T=Si(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,T),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const B=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?p:1),W=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);W[8]=2*-c.x/this.width,W[9]=2*c.y/this.height;let se=s.mul([],W,B);if(this.projection.isReprojectedInTileSpace){const At=this.locationCoordinate(this.center),Tt=s.identity([]);s.translate(Tt,Tt,[At.x*this.worldSize,At.y*this.worldSize,0]),s.multiply(Tt,Tt,$e(this)),s.translate(Tt,Tt,[-At.x*this.worldSize,-At.y*this.worldSize,0]),s.multiply(se,se,Tt),this.inverseAdjustmentMatrix=function(zt){const ei=$e(zt,!0);return $([],[ei[0],ei[1],ei[4],ei[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=s.scale([],se,[this.worldSize,this.worldSize,this.worldSize/p,1]),this.projMatrix=se,this.invProjMatrix=s.invert(new Float64Array(16),this.projMatrix);const ue=s.invert([],W);this.frustumCorners=s.FrustumCorners.fromInvProjectionMatrix(ue,this.horizonLineFromTop(),this.height);const me=new Float32Array(16);s.identity(me),s.scale(me,me,[1,-1,1]),s.rotateX(me,me,this._pitch),s.rotateZ(me,me,this.angle);const De=s.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),Ae=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;De[8]=2*-c.x/this.width,De[9]=2*(c.y+Ae)/this.height,this.skyboxMatrix=s.multiply(me,De,me);const Fe=this.point,qe=Fe.x,ot=Fe.y,at=this.width%2/2,dt=this.height%2/2,Ke=Math.cos(this.angle),tt=Math.sin(this.angle),pt=qe-Math.round(qe)+Ke*at+tt*dt,lt=ot-Math.round(ot)+Ke*dt+tt*at,xt=new Float64Array(se);if(s.translate(xt,xt,[pt>.5?pt-1:pt,lt>.5?lt-1:lt,0]),this.alignedProjMatrix=xt,se=s.create(),s.scale(se,se,[this.width/2,-this.height/2,1]),s.translate(se,se,[1,-1,0]),this.labelPlaneMatrix=se,se=s.create(),s.scale(se,se,[1,-1,1]),s.translate(se,se,[-1,-1,0]),s.scale(se,se,[2/this.width,2/this.height,1]),this.glCoordMatrix=se,this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},se=s.invert(new Float64Array(16),this.pixelMatrix),!se)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=se,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=s.calculateGlobeMatrix(this);const At=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=s.transformMat4(At,At,B),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=se;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const c=this.cameraWorldSizeForFog,p=this.cameraPixelsPerMeter,T=this._camera.position,B=1/this.height/this._pixelsPerMercatorPixel,W=[c,c,p];s.scale$2(W,W,B),s.scale$2(T,T,-1),s.multiply$2(T,T,W);const se=s.create();s.translate(se,se,T),s.scale(se,se,W),this.mercatorFogMatrix=se,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(c,p,B)}_computeCameraPosition(c){const p=(c=c||this.pixelsPerMeter)/this.pixelsPerMeter,T=this._camera.forward(),B=this.point,W=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*p-c/this.worldSize*this._centerAltitude;return[B.x/this.worldSize-T[0]*W,B.y/this.worldSize-T[1]*W,c/this.worldSize*this._centerAltitude-T[2]*W]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(c){const p=this._maxCameraBoundsDistance()*Math.cos(this._pitch),T=this._camera.position[2],B=c[2];let W=1;this.projection.wrap&&(this.center=this.center.wrap()),B>0&&(W=Math.min((p-T)/B,1)),this._camera.position=s.scaleAndAdd([],this._camera.position,c,W),this._updateStateFromCamera()}_updateStateFromCamera(){const c=this._camera.position,p=this._camera.forward(),{pitch:T,bearing:B}=this._camera.getPitchBearing(),W=s.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,se=this._mercatorZfromZoom(this._maxZoom)*Math.cos(s.degToRad(this._maxPitch)),ue=Math.max((c[2]-W)/Math.cos(T),se),me=this._zoomFromMercatorZ(ue);s.scaleAndAdd(c,c,p,ue),this._pitch=s.clamp(T,s.degToRad(this.minPitch),s.degToRad(this.maxPitch)),this.angle=s.wrap(B,-Math.PI,Math.PI),this._setZoom(s.clamp(me,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new s.MercatorCoordinate(c[0],c[1],c[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(c){return Math.pow(2,c)*this.tileSize}_mercatorZfromZoom(c){return this.cameraToCenterDistance/this._worldSizeFromZoom(c)}_minimumHeightOverTerrain(){const c=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(c)}_zoomFromMercatorZ(c){return this.scaleZoom(this.cameraToCenterDistance/(c*this.tileSize))}zoomFromMercatorZAdjusted(c){const p=se=>{const ue=this.getCameraToCenterDistance(this.projection,se);return this.scaleZoom(ue/(c*this.tileSize))};let T,B=p(this.zoom),W=Math.abs(B-p(B));for(;T!==W;)B=p(B),T=W,W=Math.abs(B-p(B));return B}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(s.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(c,p){const T=Math.min(c.x,p.x),B=Math.max(c.x,p.x),W=Math.min(c.y,p.y),se=Math.max(c.y,p.y);if(W<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const ue=[new s.pointGeometry(T,W),new s.pointGeometry(B,se),new s.pointGeometry(T,se),new s.pointGeometry(B,W)],me=this.renderWorldCopies?-3:0,De=this.renderWorldCopies?4:1;for(const Ae of ue){const Fe=this.pointRayIntersection(Ae);if(Fe.t<0)return!0;const qe=this.rayIntersectionCoordinate(Fe);if(qe.x<me||qe.y<0||qe.x>De||qe.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+s.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new s.pointGeometry(0,0),new s.pointGeometry(this.width,this.height))}zoomDeltaToMovement(c,p){const T=s.length(s.sub([],this._camera.position,c)),B=this._zoomFromMercatorZ(T)+p;return T-this._mercatorZfromZoom(B)}getCameraPoint(){if(this.projection.name==="globe"){const c=function([p,T,B],W){const se=[p,T,B,1];s.transformMat4$1(se,se,W);const ue=se[3]=Math.max(se[3],1e-6);return se[0]/=ue,se[1]/=ue,se[2]/=ue,se}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new s.pointGeometry(c[0],c[1])}{const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.pointGeometry(0,c))}}getCameraToCenterDistance(c,p=this.zoom){const T=Si(c,p,this.width,this.height,1024),B=c.pixelSpaceConversion(this.center.lat,this.worldSize,T);return .5/Math.tan(.5*this._fov)*this.height*B}getWorldToCameraMatrix(){const c=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&s.multiply(c,c,this.globeMatrix),c}}function Tl(_,c){let p=!1,T=null;const B=()=>{T=null,p&&(_(),T=setTimeout(B,c),p=!1)};return()=>(p=!0,T||B(),T)}class tn{constructor(c){this._hashName=c&&encodeURIComponent(c),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Tl(this._updateHashUnthrottled.bind(this),300)}addTo(c){return this._map=c,s.window.addEventListener("hashchange",this._onHashChange,!1),c.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),s.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const c=this._map;if(!c)return"";const p=Sl(c);if(this._hashName){const T=this._hashName;let B=!1;const W=s.window.location.hash.slice(1).split("&").map(se=>{const ue=se.split("=")[0];return ue===T?(B=!0,`${ue}=${p}`):se}).filter(se=>se);return B||W.push(`${T}=${p}`),`#${W.join("&")}`}return`#${p}`}_getCurrentHash(){const c=s.window.location.hash.replace("#","");if(this._hashName){let p;return c.split("&").map(T=>T.split("=")).forEach(T=>{T[0]===this._hashName&&(p=T)}),(p&&p[1]||"").split("/")}return c.split("/")}_onHashChange(){const c=this._map;if(!c)return!1;const p=this._getCurrentHash();if(p.length>=3&&!p.some(T=>isNaN(T))){const T=c.dragRotate.isEnabled()&&c.touchZoomRotate.isEnabled()?+(p[3]||0):c.getBearing();return c.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:T,pitch:+(p[4]||0)}),!0}return!1}_updateHashUnthrottled(){const c=s.window.location.href.replace(/(#.+)?$/,this.getHashString());s.window.history.replaceState(s.window.history.state,null,c)}}function Sl(_,c){const p=_.getCenter(),T=Math.round(100*_.getZoom())/100,B=Math.ceil((T*Math.LN2+Math.log(512/360/.5))/Math.LN10),W=Math.pow(10,B),se=Math.round(p.lng*W)/W,ue=Math.round(p.lat*W)/W,me=_.getBearing(),De=_.getPitch();let Ae=c?`/${se}/${ue}/${T}`:`${T}/${ue}/${se}`;return(me||De)&&(Ae+="/"+Math.round(10*me)/10),De&&(Ae+=`/${Math.round(De)}`),Ae}const Pd={linearity:.3,easing:s.bezier(0,0,.3,1)},_h=s.extend({deceleration:2500,maxSpeed:1400},Pd),pp=s.extend({deceleration:20,maxSpeed:1400},Pd),Bu=s.extend({deceleration:1e3,maxSpeed:360},Pd),Ef=s.extend({deceleration:1e3,maxSpeed:90},Pd);class fp{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.exported.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,p=s.exported.now();for(;c.length>0&&p-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new s.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:W}of this._inertiaBuffer)p.zoom+=W.zoomDelta||0,p.bearing+=W.bearingDelta||0,p.pitch+=W.pitchDelta||0,W.panDelta&&p.pan._add(W.panDelta),W.around&&(p.around=W.around),W.pinchAround&&(p.pinchAround=W.pinchAround);const T=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,B={};if(p.pan.mag()){const W=Fs(p.pan.mag(),T,s.extend({},_h,c||{}));B.offset=p.pan.mult(W.amount/p.pan.mag()),B.center=this._map.transform.center,zu(B,W)}if(p.zoom){const W=Fs(p.zoom,T,pp);B.zoom=this._map.transform.zoom+W.amount,zu(B,W)}if(p.bearing){const W=Fs(p.bearing,T,Bu);B.bearing=this._map.transform.bearing+s.clamp(W.amount,-179,179),zu(B,W)}if(p.pitch){const W=Fs(p.pitch,T,Ef);B.pitch=this._map.transform.pitch+W.amount,zu(B,W)}if(B.zoom||B.bearing){const W=p.pinchAround===void 0?p.around:p.pinchAround;B.around=W?this._map.unproject(W):this._map.getCenter()}return this.clear(),B.noMoveStart=!0,B}}function zu(_,c){(!_.duration||_.duration<c.duration)&&(_.duration=c.duration,_.easing=c.easing)}function Fs(_,c,p){const{maxSpeed:T,linearity:B,deceleration:W}=p,se=s.clamp(_*B/(c/1e3),-T,T),ue=Math.abs(se)/(W*B);return{easing:p.easing,duration:1e3*ue,amount:se*(ue/2)}}class fs extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,T,B={}){const W=U(p.getCanvasContainer(),T),se=p.unproject(W);super(c,s.extend({point:W,lngLat:se,originalEvent:T},B)),this._defaultPrevented=!1,this.target=p}}class vh extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,T){const B=c==="touchend"?T.changedTouches:T.touches,W=E(p.getCanvasContainer(),B),se=W.map(me=>p.unproject(me)),ue=W.reduce((me,De,Ae,Fe)=>me.add(De.div(Fe.length)),new s.pointGeometry(0,0));super(c,{points:W,point:ue,lngLats:se,lngLat:p.unproject(ue),originalEvent:T}),this._defaultPrevented=!1}}class Nu extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,T){super(c,{originalEvent:T}),this._defaultPrevented=!1}}class rm{constructor(c,p){this._map=c,this._clickTolerance=p.clickTolerance}reset(){this._mousedownPos=void 0}wheel(c){return this._firePreventable(new Nu(c.type,this._map,c))}mousedown(c,p){return this._mousedownPos=p,this._firePreventable(new fs(c.type,this._map,c))}mouseup(c){this._map.fire(new fs(c.type,this._map,c))}preclick(c){const p=s.extend({},c);p.type="preclick",this._map.fire(new fs(p.type,this._map,p))}click(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||(this.preclick(c),this._map.fire(new fs(c.type,this._map,c)))}dblclick(c){return this._firePreventable(new fs(c.type,this._map,c))}mouseover(c){this._map.fire(new fs(c.type,this._map,c))}mouseout(c){this._map.fire(new fs(c.type,this._map,c))}touchstart(c){return this._firePreventable(new vh(c.type,this._map,c))}touchmove(c){this._map.fire(new vh(c.type,this._map,c))}touchend(c){this._map.fire(new vh(c.type,this._map,c))}touchcancel(c){this._map.fire(new vh(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class qg{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(c){this._map.fire(new fs(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new fs("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new fs(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class mp{constructor(c,p){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(M(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(c,p){if(!this._active)return;const T=p,B=this._startPos,W=this._lastPos;if(!B||!W||W.equals(T)||!this._box&&T.dist(B)<this._clickTolerance)return;this._lastPos=T,this._box||(this._box=z("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));const se=Math.min(B.x,T.x),ue=Math.max(B.x,T.x),me=Math.min(B.y,T.y),De=Math.max(B.y,T.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${se}px,${me}px)`,this._box.style.width=ue-se+"px",this._box.style.height=De-me+"px")})}mouseupWindow(c,p){if(!this._active)return;const T=this._startPos,B=p;if(T&&c.button===0){if(this.reset(),H(),T.x!==B.x||T.y!==B.y)return this._map.fire(new s.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:W=>W.fitScreenCoordinates(T,B,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",c)}}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),S(),delete this._startPos,delete this._lastPos}_fireEvent(c,p){return this._map.fire(new s.Event(c,{originalEvent:p}))}}function Ec(_,c){const p={};for(let T=0;T<_.length;T++)p[_[T].identifier]=c[T];return p}class xh{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(c,p,T){(this.centroid||T.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=c.timeStamp),T.length===this.numTouches&&(this.centroid=function(B){const W=new s.pointGeometry(0,0);for(const se of B)W._add(se);return W.div(B.length)}(p),this.touches=Ec(T,p)))}touchmove(c,p,T){if(this.aborted||!this.centroid)return;const B=Ec(T,p);for(const W in this.touches){const se=this.touches[W],ue=B[W];(!ue||ue.dist(se)>30)&&(this.aborted=!0)}}touchend(c,p,T){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),T.length===0){const B=!this.aborted&&this.centroid;if(this.reset(),B)return B}}}class Kc{constructor(c){this.singleTap=new xh(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(c,p,T){this.singleTap.touchstart(c,p,T)}touchmove(c,p,T){this.singleTap.touchmove(c,p,T)}touchend(c,p,T){const B=this.singleTap.touchend(c,p,T);if(B){const W=c.timeStamp-this.lastTime<500,se=!this.lastTap||this.lastTap.dist(B)<30;if(W&&se||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=B,this.count===this.numTaps)return this.reset(),B}}}class Fu{constructor(){this._zoomIn=new Kc({numTouches:1,numTaps:2}),this._zoomOut=new Kc({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,p,T){this._zoomIn.touchstart(c,p,T),this._zoomOut.touchstart(c,p,T)}touchmove(c,p,T){this._zoomIn.touchmove(c,p,T),this._zoomOut.touchmove(c,p,T)}touchend(c,p,T){const B=this._zoomIn.touchend(c,p,T),W=this._zoomOut.touchend(c,p,T);return B?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:se=>se.easeTo({duration:300,zoom:se.getZoom()+1,around:se.unproject(B)},{originalEvent:c})}):W?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:se=>se.easeTo({duration:300,zoom:se.getZoom()-1,around:se.unproject(W)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Dd={0:1,2:2};class Id{constructor(c){this.reset(),this._clickTolerance=c.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(c,p){return!1}_move(c,p){return{}}mousedown(c,p){if(this._lastPoint)return;const T=ie(c);this._correctButton(c,T)&&(this._lastPoint=p,this._eventButton=T)}mousemoveWindow(c,p){const T=this._lastPoint;if(T){if(c.preventDefault(),this._eventButton!=null&&function(B,W){const se=Dd[W];return B.buttons===void 0||(B.buttons&se)!==se}(c,this._eventButton))this.reset();else if(this._moved||!(p.dist(T)<this._clickTolerance))return this._moved=!0,this._lastPoint=p,this._move(T,p)}}mouseupWindow(c){this._lastPoint&&ie(c)===this._eventButton&&(this._moved&&H(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class su extends Id{mousedown(c,p){super.mousedown(c,p),this._lastPoint&&(this._active=!0)}_correctButton(c,p){return p===0&&!c.ctrlKey}_move(c,p){return{around:p,panDelta:p.sub(c)}}}class Mf extends Id{_correctButton(c,p){return p===0&&c.ctrlKey||p===2}_move(c,p){const T=.8*(p.x-c.x);if(T)return this._active=!0,{bearingDelta:T}}contextmenu(c){c.preventDefault()}}class kf extends Id{_correctButton(c,p){return p===0&&c.ctrlKey||p===2}_move(c,p){const T=-.5*(p.y-c.y);if(T)return this._active=!0,{pitchDelta:T}}contextmenu(c){c.preventDefault()}}class sm{constructor(c,p){this._map=c,this._el=c.getCanvasContainer(),this._minTouches=1,this._clickTolerance=p.clickTolerance||1,this.reset(),s.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new s.pointGeometry(0,0)}touchstart(c,p,T){return this._calculateTransform(c,p,T)}touchmove(c,p,T){if(this._active&&!(T.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(T.length===1&&!s.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return c.cancelable&&c.preventDefault(),this._calculateTransform(c,p,T)}}touchend(c,p,T){this._calculateTransform(c,p,T),this._active&&T.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,p,T){T.length>0&&(this._active=!0);const B=Ec(T,p),W=new s.pointGeometry(0,0),se=new s.pointGeometry(0,0);let ue=0;for(const De in B){const Ae=B[De],Fe=this._touches[De];Fe&&(W._add(Ae),se._add(Ae.sub(Fe)),ue++,B[De]=Ae)}if(this._touches=B,ue<this._minTouches||!se.mag())return;const me=se.div(ue);return this._sum._add(me),this._sum.mag()<this._clickTolerance?void 0:{around:W.div(ue),panDelta:me}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=z("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class gp{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(c){}_move(c,p,T){return{}}touchstart(c,p,T){this._firstTwoTouches||T.length<2||(this._firstTwoTouches=[T[0].identifier,T[1].identifier],this._start([p[0],p[1]]))}touchmove(c,p,T){const B=this._firstTwoTouches;if(!B)return;c.preventDefault();const[W,se]=B,ue=Jc(T,p,W),me=Jc(T,p,se);if(!ue||!me)return;const De=this._aroundCenter?null:ue.add(me).div(2);return this._move([ue,me],De,c)}touchend(c,p,T){if(!this._firstTwoTouches)return;const[B,W]=this._firstTwoTouches,se=Jc(T,p,B),ue=Jc(T,p,W);se&&ue||(this._active&&H(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Jc(_,c,p){for(let T=0;T<_.length;T++)if(_[T].identifier===p)return c[T]}function ju(_,c){return Math.log(_/c)/Math.LN2}class Uu extends gp{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,p){const T=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(ju(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ju(this._distance,T),pinchAround:p}}}function Af(_,c){return 180*_.angleWith(c)/Math.PI}class et extends gp{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,p){const T=this._vector;if(this._vector=c[0].sub(c[1]),T&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Af(this._vector,T),pinchAround:p}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const p=25/(Math.PI*this._minDiameter)*360,T=this._startVector;if(!T)return!1;const B=Af(c,T);return Math.abs(B)<p}}function Qc(_){return Math.abs(_.y)>Math.abs(_.x)}class bh extends gp{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(c){this._lastPoints=c,Qc(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,p,T){const B=this._lastPoints;if(!B)return;const W=c[0].sub(B[0]),se=c[1].sub(B[1]);return this._map._cooperativeGestures&&!s.isFullscreen()&&T.touches.length<3||(this._valid=this.gestureBeginsVertically(W,se,T.timeStamp),!this._valid)?void 0:(this._lastPoints=c,this._active=!0,{pitchDelta:(W.y+se.y)/2*-.5})}gestureBeginsVertically(c,p,T){if(this._valid!==void 0)return this._valid;const B=c.mag()>=2,W=p.mag()>=2;if(!B&&!W)return;if(!B||!W)return this._firstMove==null&&(this._firstMove=T),T-this._firstMove<100&&void 0;const se=c.y>0==p.y>0;return Qc(c)&&Qc(p)&&se}}const al={panStep:100,bearingStep:15,pitchStep:10};class Jn{constructor(){const c=al;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let p=0,T=0,B=0,W=0,se=0;switch(c.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:c.shiftKey?T=-1:(c.preventDefault(),W=-1);break;case 39:c.shiftKey?T=1:(c.preventDefault(),W=1);break;case 38:c.shiftKey?B=1:(c.preventDefault(),se=-1);break;case 40:c.shiftKey?B=-1:(c.preventDefault(),se=1);break;default:return}return this._rotationDisabled&&(T=0,B=0),{cameraAnimation:ue=>{const me=ue.getZoom();ue.easeTo({duration:300,easeId:"keyboardHandler",easing:Xg,zoom:p?Math.round(me)+p*(c.shiftKey?2:1):me,bearing:ue.getBearing()+T*this._bearingStep,pitch:ue.getPitch()+B*this._pitchStep,offset:[-W*this._panStep,-se*this._panStep],center:ue.getCenter()},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Xg(_){return _*(2-_)}const Pf=4.000244140625;class Zg{constructor(c,p){this._map=c,this._el=c.getCanvasContainer(),this._handler=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,s.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(c.ctrlKey||c.metaKey||this.isZooming()||s.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let p=c.deltaMode===s.window.WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const T=s.exported.now(),B=T-(this._lastWheelEventTime||0);this._lastWheelEventTime=T,p!==0&&p%Pf==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":B>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(B*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}_onTimeout(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=U(this._el,c);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:p,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._map.transform;this._type==="wheel"&&c.projection.wrap&&(c._center.lng>=180||c._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const p=()=>c._terrainEnabled()&&this._aroundCoord?c.computeZoomRelativeTo(this._aroundCoord):c.zoom;if(this._delta!==0){const me=this._type==="wheel"&&Math.abs(this._delta)>Pf?this._wheelZoomRate:this._defaultZoomRate;let De=2/(1+Math.exp(-Math.abs(this._delta*me)));this._delta<0&&De!==0&&(De=1/De);const Ae=p(),Fe=Math.pow(2,Ae),qe=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):Fe;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(qe*De))),this._type==="wheel"&&(this._startZoom=Ae,this._easing=this._smoothOutEasing(200)),this._delta=0}const T=typeof this._targetZoom=="number"?this._targetZoom:p(),B=this._startZoom,W=this._easing;let se,ue=!1;if(this._type==="wheel"&&B&&W){const me=Math.min((s.exported.now()-this._lastWheelEventTime)/200,1),De=W(me);se=s.number(B,T,De),me<1?this._frameId||(this._frameId=!0):ue=!0}else se=T,ue=!0;return this._active=!0,ue&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!ue,zoomDelta:se-p(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let p=s.ease;if(this._prevEase){const T=this._prevEase,B=(s.exported.now()-T.start)/T.duration,W=T.easing(B+.01)-T.easing(B),se=.27/Math.sqrt(W*W+1e-4)*.01,ue=Math.sqrt(.0729-se*se);p=s.bezier(se,ue,.25,1)}return this._prevEase={start:s.exported.now(),duration:c,easing:p},p}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=z("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(s.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class ou{constructor(c,p){this._clickZoom=c,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ed{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(c,p){return c.preventDefault(),{cameraAnimation:T=>{T.easeTo({duration:300,zoom:T.getZoom()+(c.shiftKey?-1:1),around:T.unproject(p)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class om{constructor(){this._tap=new Kc({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(c,p,T){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?T.length>0&&(this._swipePoint=p[0],this._swipeTouch=T[0].identifier):this._tap.touchstart(c,p,T))}touchmove(c,p,T){if(this._tapTime){if(this._swipePoint){if(T[0].identifier!==this._swipeTouch)return;const B=p[0],W=B.y-this._swipePoint.y;return this._swipePoint=B,c.preventDefault(),this._active=!0,{zoomDelta:W/128}}}else this._tap.touchmove(c,p,T)}touchend(c,p,T){this._tapTime?this._swipePoint&&T.length===0&&this.reset():this._tap.touchend(c,p,T)&&(this._tapTime=c.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class $u{constructor(c,p,T){this._el=c,this._mousePan=p,this._touchPan=T}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Mc{constructor(c,p,T){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=T}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class yp{constructor(c,p,T,B){this._el=c,this._touchZoom=p,this._touchRotate=T,this._tapDragZoom=B,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ji=_=>_.zoom||_.drag||_.pitch||_.rotate;class am extends s.Event{}class lm{constructor(){this.constants=[1,1,.01],this.radius=0}setup(c,p){const T=s.sub([],p,c);this.radius=s.length(T[2]<0?s.div([],T,this.constants):[T[0],T[1],0])}projectRay(c){s.div(c,c,this.constants),s.normalize(c,c),s.mul$1(c,c,this.constants);const p=s.scale$2([],c,this.radius);if(p[2]>0){const T=s.scale$2([],[0,0,1],s.dot(p,[0,0,1])),B=s.scale$2([],s.normalize([],[p[0],p[1],0]),this.radius),W=s.add([],p,s.scale$2([],s.sub([],s.add([],B,T),p),2));p[0]=W[0],p[1]=W[1]}return p}}function Ld(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class wh{constructor(c,p){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fp(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new lm,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(p),s.bindAll(["handleEvent","handleWindowEvent"],this);const T=this._el;this._listeners=[[T,"touchstart",{passive:!0}],[T,"touchmove",{passive:!1}],[T,"touchend",void 0],[T,"touchcancel",void 0],[T,"mousedown",void 0],[T,"mousemove",void 0],[T,"mouseup",void 0],[s.window.document,"mousemove",{capture:!0}],[s.window.document,"mouseup",void 0],[T,"mouseover",void 0],[T,"mouseout",void 0],[T,"dblclick",void 0],[T,"click",void 0],[T,"keydown",{capture:!1}],[T,"keyup",void 0],[T,"wheel",{passive:!1}],[T,"contextmenu",void 0],[s.window,"blur",void 0]];for(const[B,W,se]of this._listeners)B.addEventListener(W,B===s.window.document?this.handleWindowEvent:this.handleEvent,se)}destroy(){for(const[c,p,T]of this._listeners)c.removeEventListener(p,c===s.window.document?this.handleWindowEvent:this.handleEvent,T)}_addDefaultHandlers(c){const p=this._map,T=p.getCanvasContainer();this._add("mapEvent",new rm(p,c));const B=p.boxZoom=new mp(p,c);this._add("boxZoom",B);const W=new Fu,se=new ed;p.doubleClickZoom=new ou(se,W),this._add("tapZoom",W),this._add("clickZoom",se);const ue=new om;this._add("tapDragZoom",ue);const me=p.touchPitch=new bh(p);this._add("touchPitch",me);const De=new Mf(c),Ae=new kf(c);p.dragRotate=new Mc(c,De,Ae),this._add("mouseRotate",De,["mousePitch"]),this._add("mousePitch",Ae,["mouseRotate"]);const Fe=new su(c),qe=new sm(p,c);p.dragPan=new $u(T,Fe,qe),this._add("mousePan",Fe),this._add("touchPan",qe,["touchZoom","touchRotate"]);const ot=new et,at=new Uu;p.touchZoomRotate=new yp(T,at,ot,ue),this._add("touchRotate",ot,["touchPan","touchZoom"]),this._add("touchZoom",at,["touchPan","touchRotate"]),this._add("blockableMapEvent",new qg(p));const dt=p.scrollZoom=new Zg(p,this);this._add("scrollZoom",dt,["mousePan"]);const Ke=p.keyboard=new Jn;this._add("keyboard",Ke);for(const tt of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])c.interactive&&c[tt]&&p[tt].enable(c[tt])}_add(c,p,T){this._handlers.push({handlerName:c,handler:p,allowed:T}),this._handlersById[c]=p}stop(c){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ji(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(c,p,T){for(const B in c)if(B!==T&&(!p||p.indexOf(B)<0))return!0;return!1}handleWindowEvent(c){this.handleEvent(c,`${c.type}Window`)}_getMapTouches(c){const p=[];for(const T of c)this._el.contains(T.target)&&p.push(T);return p}handleEvent(c,p){this._updatingCamera=!0;const T=c.type==="renderFrame",B=T?void 0:c,W={needsRenderFrame:!1},se={},ue={},me=c.touches?this._getMapTouches(c.touches):void 0,De=me?E(this._el,me):T?void 0:U(this._el,c);for(const{handlerName:qe,handler:ot,allowed:at}of this._handlers){if(!ot.isEnabled())continue;let dt;this._blockedByActive(ue,at,qe)?ot.reset():ot[p||c.type]&&(dt=ot[p||c.type](c,De,me),this.mergeHandlerResult(W,se,dt,qe,B),dt&&dt.needsRenderFrame&&this._triggerRenderFrame()),(dt||ot.isActive())&&(ue[qe]=ot)}const Ae={};for(const qe in this._previousActiveHandlers)ue[qe]||(Ae[qe]=B);this._previousActiveHandlers=ue,(Object.keys(Ae).length||Ld(W))&&(this._changes.push([W,se,Ae]),this._triggerRenderFrame()),(Object.keys(ue).length||Ld(W))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Fe}=W;Fe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Fe(this._map))}mergeHandlerResult(c,p,T,B,W){if(!T)return;s.extend(c,T);const se={handlerName:B,originalEvent:T.originalEvent||W};T.zoomDelta!==void 0&&(p.zoom=se),T.panDelta!==void 0&&(p.drag=se),T.pitchDelta!==void 0&&(p.pitch=se),T.bearingDelta!==void 0&&(p.rotate=se)}_applyChanges(){const c={},p={},T={};for(const[B,W,se]of this._changes)B.panDelta&&(c.panDelta=(c.panDelta||new s.pointGeometry(0,0))._add(B.panDelta)),B.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+B.zoomDelta),B.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+B.bearingDelta),B.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+B.pitchDelta),B.around!==void 0&&(c.around=B.around),B.aroundCoord!==void 0&&(c.aroundCoord=B.aroundCoord),B.pinchAround!==void 0&&(c.pinchAround=B.pinchAround),B.noInertia&&(c.noInertia=B.noInertia),s.extend(p,W),s.extend(T,se);this._updateMapTransform(c,p,T),this._changes=[]}_updateMapTransform(c,p,T){const B=this._map,W=B.transform,se=pt=>[pt.x,pt.y,pt.z];if((pt=>{const lt=this._eventsInProgress.drag;return lt&&!this._handlersById[lt.handlerName].isActive()})()&&!Ld(c)){const pt=W.zoom;W.cameraElevationReference="sea",W.recenterOnTerrain(),W.cameraElevationReference="ground",pt!==W.zoom&&this._map._update(!0)}if(W._isCameraConstrained&&B._stop(!0),!Ld(c))return void this._fireEvents(p,T,!0);let{panDelta:ue,zoomDelta:me,bearingDelta:De,pitchDelta:Ae,around:Fe,aroundCoord:qe,pinchAround:ot}=c;W._isCameraConstrained&&(me>0&&(me=0),W._isCameraConstrained=!1),ot!==void 0&&(Fe=ot),(pt=>p.drag&&!this._eventsInProgress.drag)()&&Fe&&(this._dragOrigin=se(W.pointCoordinate3D(Fe)),this._trackingEllipsoid.setup(W._camera.position,this._dragOrigin)),W.cameraElevationReference="sea",B._stop(!0),Fe=Fe||B.transform.centerPoint,De&&(W.bearing+=De),Ae&&(W.pitch+=Ae),W._updateCameraState();const at=[0,0,0];if(ue)if(W.projection.name==="mercator"){const pt=this._trackingEllipsoid.projectRay(W.screenPointToMercatorRay(Fe).dir),lt=this._trackingEllipsoid.projectRay(W.screenPointToMercatorRay(Fe.sub(ue)).dir);at[0]=lt[0]-pt[0],at[1]=lt[1]-pt[1]}else{const pt=W.pointCoordinate(Fe);if(W.projection.name==="globe"){ue=ue.rotate(-W.angle);const lt=W._pixelsPerMercatorPixel/W.worldSize;at[0]=-ue.x*s.mercatorScale(s.latFromMercatorY(pt.y))*lt,at[1]=-ue.y*s.mercatorScale(W.center.lat)*lt}else{const lt=W.pointCoordinate(Fe.sub(ue));pt&&lt&&(at[0]=lt.x-pt.x,at[1]=lt.y-pt.y)}}const dt=W.zoom,Ke=[0,0,0];if(me){const pt=se(qe||W.pointCoordinate3D(Fe)),lt={dir:s.normalize([],s.sub([],pt,W._camera.position))};if(lt.dir[2]<0){const xt=W.zoomDeltaToMovement(pt,me);s.scale$2(Ke,lt.dir,xt)}}const tt=s.add(at,at,Ke);W._translateCameraConstrained(tt),me&&Math.abs(W.zoom-dt)>1e-4&&W.recenterOnTerrain(),W.cameraElevationReference="ground",this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,T,!0)}_fireEvents(c,p,T){const B=Ji(this._eventsInProgress),W=Ji(c),se={};for(const Ae in c){const{originalEvent:Fe}=c[Ae];this._eventsInProgress[Ae]||(se[`${Ae}start`]=Fe),this._eventsInProgress[Ae]=c[Ae]}!B&&W&&this._fireEvent("movestart",W.originalEvent);for(const Ae in se)this._fireEvent(Ae,se[Ae]);W&&this._fireEvent("move",W.originalEvent);for(const Ae in c){const{originalEvent:Fe}=c[Ae];this._fireEvent(Ae,Fe)}const ue={};let me;for(const Ae in this._eventsInProgress){const{handlerName:Fe,originalEvent:qe}=this._eventsInProgress[Ae];this._handlersById[Fe].isActive()||(delete this._eventsInProgress[Ae],me=p[Fe]||qe,ue[`${Ae}end`]=me)}for(const Ae in ue)this._fireEvent(Ae,ue[Ae]);const De=Ji(this._eventsInProgress);if(T&&(B||W)&&!De){this._updatingCamera=!0;const Ae=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Fe=qe=>qe!==0&&-this._bearingSnap<qe&&qe<this._bearingSnap;Ae?(Fe(Ae.bearing||this._map.getBearing())&&(Ae.bearing=0),this._map.easeTo(Ae,{originalEvent:me})):(this._map.fire(new s.Event("moveend",{originalEvent:me})),Fe(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(c,p){this._map.fire(new s.Event(c,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{this._frameId=void 0,this.handleEvent(new am("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Df="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class kc extends s.Evented{constructor(c,p){super(),this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=p.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}getCenter(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(c,p){return this.jumpTo({center:c},p)}panBy(c,p,T){return c=s.pointGeometry.convert(c).mult(-1),this.panTo(this.transform.center,s.extend({offset:c},p),T)}panTo(c,p,T){return this.easeTo(s.extend({center:c},p),T)}getZoom(){return this.transform.zoom}setZoom(c,p){return this.jumpTo({zoom:c},p),this}zoomTo(c,p,T){return this.easeTo(s.extend({zoom:c},p),T)}zoomIn(c,p){return this.zoomTo(this.getZoom()+1,c,p),this}zoomOut(c,p){return this.zoomTo(this.getZoom()-1,c,p),this}getBearing(){return this.transform.bearing}setBearing(c,p){return this.jumpTo({bearing:c},p),this}getPadding(){return this.transform.padding}setPadding(c,p){return this.jumpTo({padding:c},p),this}rotateTo(c,p,T){return this.easeTo(s.extend({bearing:c},p),T)}resetNorth(c,p){return this.rotateTo(0,s.extend({duration:1e3},c),p),this}resetNorthPitch(c,p){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},c),p),this}snapToNorth(c,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,p):this}getPitch(){return this.transform.pitch}setPitch(c,p){return this.jumpTo({pitch:c},p),this}cameraForBounds(c,p){c=s.LngLatBounds.convert(c);const T=p&&p.bearing||0,B=p&&p.pitch||0,W=c.getNorthWest(),se=c.getSouthEast();return this._cameraForBounds(this.transform,W,se,T,B,p)}_extendCameraOptions(c){const p={top:0,bottom:0,right:0,left:0};if(typeof(c=s.extend({padding:p,offset:[0,0],maxZoom:this.transform.maxZoom},c)).padding=="number"){const T=c.padding;c.padding={top:T,bottom:T,right:T,left:T}}return c.padding=s.extend(p,c.padding),c}_minimumAABBFrustumDistance(c,p){const T=p.max[0]-p.min[0],B=p.max[1]-p.min[1];return T/B>c.aspect?T/(2*Math.tan(.5*c.fovX)*c.aspect):B/(2*Math.tan(.5*c.fovY)*c.aspect)}_cameraForBoundsOnGlobe(c,p,T,B,W,se){const ue=c.clone(),me=this._extendCameraOptions(se);ue.bearing=B,ue.pitch=W;const De=s.LngLat.convert(p),Ae=s.LngLat.convert(T),Fe=.5*(De.lat+Ae.lat),qe=.5*(De.lng+Ae.lng),ot=s.latLngToECEF(Fe,qe),at=s.normalize([],ot),dt=s.normalize([],s.cross([],at,[0,1,0])),Ke=s.cross([],dt,at),tt=[dt[0],dt[1],dt[2],0,Ke[0],Ke[1],Ke[2],0,at[0],at[1],at[2],0,0,0,0,1],pt=[ot,s.latLngToECEF(De.lat,De.lng),s.latLngToECEF(Ae.lat,De.lng),s.latLngToECEF(Ae.lat,Ae.lng),s.latLngToECEF(De.lat,Ae.lng),s.latLngToECEF(Fe,De.lng),s.latLngToECEF(Fe,Ae.lng),s.latLngToECEF(De.lat,qe),s.latLngToECEF(Ae.lat,qe)];let lt=s.Aabb.fromPoints(pt.map(Ht=>[s.dot(dt,Ht),s.dot(Ke,Ht),s.dot(at,Ht)]));const xt=s.transformMat4([],lt.center,tt);s.squaredLength(xt)===0&&s.set(xt,0,0,1),s.normalize(xt,xt),s.scale$2(xt,xt,s.GLOBE_RADIUS),ue.center=s.ecefToLatLng(xt);const At=ue.getWorldToCameraMatrix(),Tt=s.invert(new Float64Array(16),At);lt=s.Aabb.applyTransform(lt,s.multiply([],At,tt)),s.transformMat4(xt,xt,At);const zt=.5*(lt.max[2]-lt.min[2]),ei=this._minimumAABBFrustumDistance(ue,lt),Kt=s.scale$2([],[0,0,1],zt),Vt=s.add(Kt,xt,Kt),Ei=ei+(ue.pitch===0?0:s.distance(xt,Vt)),qt=ue.globeCenterInViewSpace,mi=s.sub([],xt,[qt[0],qt[1],qt[2]]);s.normalize(mi,mi),s.scale$2(mi,mi,Ei);const ni=s.add([],xt,mi);s.transformMat4(ni,ni,Tt);const Oi=s.earthRadius/s.GLOBE_RADIUS,ri=s.length(ni),wi=s.mercatorZfromAltitude(ri*Oi-s.earthRadius,0),zi=Math.min(ue.zoomFromMercatorZAdjusted(wi),me.maxZoom);return zi>.5*(s.GLOBE_ZOOM_THRESHOLD_MIN+s.GLOBE_ZOOM_THRESHOLD_MAX)?(ue.setProjection({name:"mercator"}),ue.zoom=zi,this._cameraForBounds(ue,p,T,B,W,se)):{center:ue.center,zoom:zi,bearing:B,pitch:W}}queryTerrainElevation(c,p){const T=this.transform.elevation;return T?(p=s.extend({},{exaggerated:!0},p),T.getAtPoint(s.MercatorCoordinate.fromLngLat(c),null,p.exaggerated)):null}_cameraForBounds(c,p,T,B,W,se){if(c.projection.name==="globe")return this._cameraForBoundsOnGlobe(c,p,T,B,W,se);const ue=c.clone(),me=this._extendCameraOptions(se),De=ue.padding;ue.bearing=B,ue.pitch=W;const Ae=s.LngLat.convert(p),Fe=s.LngLat.convert(T),qe=new s.LngLat(Ae.lng,Fe.lat),ot=new s.LngLat(Fe.lng,Ae.lat),at=ue.project(Ae),dt=ue.project(Fe),Ke=this.queryTerrainElevation(Ae),tt=this.queryTerrainElevation(Fe),pt=this.queryTerrainElevation(qe),lt=this.queryTerrainElevation(ot),xt=[[at.x,at.y,Math.min(Ke||0,tt||0,pt||0,lt||0)],[dt.x,dt.y,Math.max(Ke||0,tt||0,pt||0,lt||0)]];let At=s.Aabb.fromPoints(xt);const Tt=ue.getWorldToCameraMatrix(),zt=s.invert(new Float64Array(16),Tt);At=s.Aabb.applyTransform(At,Tt);const ei=s.sub([],At.max,At.min),Kt=De.left||0,Vt=De.right||0,Ei=De.bottom||0,qt=De.top||0,{left:mi,right:ni,top:Oi,bottom:ri}=me.padding,wi=.5*(Kt+Vt),zi=.5*(qt+Ei),Ht=Math.min(ue.scaleZoom(ue.scale*Math.min((ue.width-(Kt+Vt+mi+ni))/ei[0],(ue.height-(Ei+qt+ri+Oi))/ei[1])),me.maxZoom),ii=ue.scale/ue.zoomScale(Ht);At=new s.Aabb([At.min[0]-(mi+wi)*ii,At.min[1]-(ri+zi)*ii,At.min[2]],[At.max[0]+(ni+wi)*ii,At.max[1]+(Oi+zi)*ii,At.max[2]]);const mn=.5*ei[2],Sn=this._minimumAABBFrustumDistance(ue,At),gn=[0,0,1,0];s.transformMat4$1(gn,gn,Tt),s.normalize$2(gn,gn);const jn=s.scale$2([],gn,Sn+mn),or=s.add([],At.center,jn),kn=(typeof me.offset.x=="number"&&typeof me.offset.y=="number"?new s.pointGeometry(me.offset.x,me.offset.y):s.pointGeometry.convert(me.offset)).rotate(-s.degToRad(B));At.center[0]-=kn.x*ii,At.center[1]+=kn.y*ii,s.transformMat4(At.center,At.center,zt),s.transformMat4(or,or,zt);const an=[At.center[0],At.center[1],or[2]*ue.pixelsPerMeter];s.scale$2(an,an,1/ue.worldSize);const is=s.lngFromMercatorX(an[0]),Gr=s.latFromMercatorY(an[1]),rs=Math.min(ue._zoomFromMercatorZ(an[2]),me.maxZoom),es=new s.LngLat(is,Gr);return ue.mercatorFromTransition&&rs<.5*(s.GLOBE_ZOOM_THRESHOLD_MIN+s.GLOBE_ZOOM_THRESHOLD_MAX)?(ue.setProjection({name:"globe"}),ue.zoom=rs,this._cameraForBounds(ue,p,T,B,W,se)):{center:es,zoom:rs,bearing:B,pitch:W}}fitBounds(c,p,T){const B=this.cameraForBounds(c,p);return this._fitInternal(B,p,T)}fitScreenCoordinates(c,p,T,B,W){const se=s.pointGeometry.convert(c),ue=s.pointGeometry.convert(p),me=new s.pointGeometry(Math.min(se.x,ue.x),Math.min(se.y,ue.y)),De=new s.pointGeometry(Math.max(se.x,ue.x),Math.max(se.y,ue.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(se,ue))return this;const Ae=this.transform.pointLocation3D(me),Fe=this.transform.pointLocation3D(De),qe=this.transform.pointLocation3D(new s.pointGeometry(me.x,De.y)),ot=this.transform.pointLocation3D(new s.pointGeometry(De.x,me.y)),at=[Math.min(Ae.lng,Fe.lng,qe.lng,ot.lng),Math.min(Ae.lat,Fe.lat,qe.lat,ot.lat)],dt=[Math.max(Ae.lng,Fe.lng,qe.lng,ot.lng),Math.max(Ae.lat,Fe.lat,qe.lat,ot.lat)],Ke=B&&B.pitch?B.pitch:this.getPitch(),tt=this._cameraForBounds(this.transform,at,dt,T,Ke,B);return this._fitInternal(tt,B,W)}_fitInternal(c,p,T){return c?(delete(p=s.extend(c,p)).padding,p.linear?this.easeTo(p,T):this.flyTo(p,T)):this}jumpTo(c,p){this.stop();const T=c.preloadOnly?this.transform.clone():this.transform;let B=!1,W=!1,se=!1;return"zoom"in c&&T.zoom!==+c.zoom&&(B=!0,T.zoom=+c.zoom),c.center!==void 0&&(T.center=s.LngLat.convert(c.center)),"bearing"in c&&T.bearing!==+c.bearing&&(W=!0,T.bearing=+c.bearing),"pitch"in c&&T.pitch!==+c.pitch&&(se=!0,T.pitch=+c.pitch),c.padding==null||T.isPaddingEqual(c.padding)||(T.padding=c.padding),c.preloadOnly?(this._preloadTiles(T),this):(this.fire(new s.Event("movestart",p)).fire(new s.Event("move",p)),B&&this.fire(new s.Event("zoomstart",p)).fire(new s.Event("zoom",p)).fire(new s.Event("zoomend",p)),W&&this.fire(new s.Event("rotatestart",p)).fire(new s.Event("rotate",p)).fire(new s.Event("rotateend",p)),se&&this.fire(new s.Event("pitchstart",p)).fire(new s.Event("pitch",p)).fire(new s.Event("pitchend",p)),this.fire(new s.Event("moveend",p)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||s.warnOnce(Df),this.transform.getFreeCameraOptions()}setFreeCameraOptions(c,p){const T=this.transform;if(!T.projection.supportsFreeCamera)return s.warnOnce(Df),this;this.stop();const B=T.zoom,W=T.pitch,se=T.bearing;T.setFreeCameraOptions(c);const ue=B!==T.zoom,me=W!==T.pitch,De=se!==T.bearing;return this.fire(new s.Event("movestart",p)).fire(new s.Event("move",p)),ue&&this.fire(new s.Event("zoomstart",p)).fire(new s.Event("zoom",p)).fire(new s.Event("zoomend",p)),De&&this.fire(new s.Event("rotatestart",p)).fire(new s.Event("rotate",p)).fire(new s.Event("rotateend",p)),me&&this.fire(new s.Event("pitchstart",p)).fire(new s.Event("pitch",p)).fire(new s.Event("pitchend",p)),this.fire(new s.Event("moveend",p)),this}easeTo(c,p){this._stop(!1,c.easeId),((c=s.extend({offset:[0,0],duration:500,easing:s.ease},c)).animate===!1||!c.essential&&s.exported.prefersReducedMotion)&&(c.duration=0);const T=this.transform,B=this.getZoom(),W=this.getBearing(),se=this.getPitch(),ue=this.getPadding(),me="zoom"in c?+c.zoom:B,De="bearing"in c?this._normalizeBearing(c.bearing,W):W,Ae="pitch"in c?+c.pitch:se,Fe="padding"in c?c.padding:T.padding,qe=s.pointGeometry.convert(c.offset);let ot,at,dt;if(T.projection.name==="globe"){const Kt=s.MercatorCoordinate.fromLngLat(T.center),Vt=qe.rotate(-T.angle);Kt.x+=Vt.x/T.worldSize,Kt.y+=Vt.y/T.worldSize;const Ei=Kt.toLngLat(),qt=s.LngLat.convert(c.center||Ei);this._normalizeCenter(qt),ot=T.centerPoint.add(Vt),at=new s.pointGeometry(Kt.x,Kt.y).mult(T.worldSize),dt=new s.pointGeometry(s.mercatorXfromLng(qt.lng),s.mercatorYfromLat(qt.lat)).mult(T.worldSize).sub(at)}else{ot=T.centerPoint.add(qe);const Kt=T.pointLocation(ot),Vt=s.LngLat.convert(c.center||Kt);this._normalizeCenter(Vt),at=T.project(Kt),dt=T.project(Vt).sub(at)}const Ke=T.zoomScale(me-B);let tt,pt;c.around&&(tt=s.LngLat.convert(c.around),pt=T.locationPoint(tt));const lt=this._zooming||me!==B,xt=this._rotating||W!==De,At=this._pitching||Ae!==se,Tt=!T.isPaddingEqual(Fe),zt=Kt=>Vt=>{if(lt&&(Kt.zoom=s.number(B,me,Vt)),xt&&(Kt.bearing=s.number(W,De,Vt)),At&&(Kt.pitch=s.number(se,Ae,Vt)),Tt&&(Kt.interpolatePadding(ue,Fe,Vt),ot=Kt.centerPoint.add(qe)),tt)Kt.setLocationAtPoint(tt,pt);else{const Ei=Kt.zoomScale(Kt.zoom-B),qt=me>B?Math.min(2,Ke):Math.max(.5,Ke),mi=Math.pow(qt,1-Vt),ni=Kt.unproject(at.add(dt.mult(Vt*mi)).mult(Ei));Kt.setLocationAtPoint(Kt.renderWorldCopies?ni.wrap():ni,ot)}return c.preloadOnly||this._fireMoveEvents(p),Kt};if(c.preloadOnly){const Kt=this._emulate(zt,c.duration,T);return this._preloadTiles(Kt),this}const ei={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=lt,this._rotating=xt,this._pitching=At,this._padding=Tt,this._easeId=c.easeId,this._prepareEase(p,c.noMoveStart,ei),this._ease(zt(T),Kt=>{T.recenterOnTerrain(),this._afterEase(p,Kt)},c),this}_prepareEase(c,p,T={}){this._moving=!0,this.transform.cameraElevationReference="sea",p||T.moving||this.fire(new s.Event("movestart",c)),this._zooming&&!T.zooming&&this.fire(new s.Event("zoomstart",c)),this._rotating&&!T.rotating&&this.fire(new s.Event("rotatestart",c)),this._pitching&&!T.pitching&&this.fire(new s.Event("pitchstart",c))}_fireMoveEvents(c){this.fire(new s.Event("move",c)),this._zooming&&this.fire(new s.Event("zoom",c)),this._rotating&&this.fire(new s.Event("rotate",c)),this._pitching&&this.fire(new s.Event("pitch",c))}_afterEase(c,p){if(this._easeId&&p&&this._easeId===p)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const T=this._zooming,B=this._rotating,W=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,T&&this.fire(new s.Event("zoomend",c)),B&&this.fire(new s.Event("rotateend",c)),W&&this.fire(new s.Event("pitchend",c)),this.fire(new s.Event("moveend",c))}flyTo(c,p){if(!c.essential&&s.exported.prefersReducedMotion){const Ht=s.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ht,p)}this.stop(),c=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},c);const T=this.transform,B=this.getZoom(),W=this.getBearing(),se=this.getPitch(),ue=this.getPadding(),me="zoom"in c?s.clamp(+c.zoom,T.minZoom,T.maxZoom):B,De="bearing"in c?this._normalizeBearing(c.bearing,W):W,Ae="pitch"in c?+c.pitch:se,Fe="padding"in c?c.padding:T.padding,qe=T.zoomScale(me-B),ot=s.pointGeometry.convert(c.offset);let at=T.centerPoint.add(ot);const dt=T.pointLocation(at),Ke=s.LngLat.convert(c.center||dt);this._normalizeCenter(Ke);const tt=T.project(dt),pt=T.project(Ke).sub(tt);let lt=c.curve;const xt=Math.max(T.width,T.height),At=xt/qe,Tt=pt.mag();if("minZoom"in c){const Ht=s.clamp(Math.min(c.minZoom,B,me),T.minZoom,T.maxZoom),ii=xt/T.zoomScale(Ht-B);lt=Math.sqrt(ii/Tt*2)}const zt=lt*lt;function ei(Ht){const ii=(At*At-xt*xt+(Ht?-1:1)*zt*zt*Tt*Tt)/(2*(Ht?At:xt)*zt*Tt);return Math.log(Math.sqrt(ii*ii+1)-ii)}function Kt(Ht){return(Math.exp(Ht)-Math.exp(-Ht))/2}function Vt(Ht){return(Math.exp(Ht)+Math.exp(-Ht))/2}const Ei=ei(0);let qt=function(Ht){return Vt(Ei)/Vt(Ei+lt*Ht)},mi=function(Ht){return xt*((Vt(Ei)*(Kt(ii=Ei+lt*Ht)/Vt(ii))-Kt(Ei))/zt)/Tt;var ii},ni=(ei(1)-Ei)/lt;if(Math.abs(Tt)<1e-6||!isFinite(ni)){if(Math.abs(xt-At)<1e-6)return this.easeTo(c,p);const Ht=At<xt?-1:1;ni=Math.abs(Math.log(At/xt))/lt,mi=function(){return 0},qt=function(ii){return Math.exp(Ht*lt*ii)}}c.duration="duration"in c?+c.duration:1e3*ni/("screenSpeed"in c?+c.screenSpeed/lt:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0);const Oi=W!==De,ri=Ae!==se,wi=!T.isPaddingEqual(Fe),zi=Ht=>ii=>{const mn=ii*ni,Sn=1/qt(mn);Ht.zoom=ii===1?me:B+Ht.scaleZoom(Sn),Oi&&(Ht.bearing=s.number(W,De,ii)),ri&&(Ht.pitch=s.number(se,Ae,ii)),wi&&(Ht.interpolatePadding(ue,Fe,ii),at=Ht.centerPoint.add(ot));const gn=ii===1?Ke:Ht.unproject(tt.add(pt.mult(mi(mn))).mult(Sn));return Ht.setLocationAtPoint(Ht.renderWorldCopies?gn.wrap():gn,at),Ht._updateCameraOnTerrain(),c.preloadOnly||this._fireMoveEvents(p),Ht};if(c.preloadOnly){const Ht=this._emulate(zi,c.duration,T);return this._preloadTiles(Ht),this}return this._zooming=!0,this._rotating=Oi,this._pitching=ri,this._padding=wi,this._prepareEase(p,!1),this._ease(zi(T),()=>this._afterEase(p),c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const T=this._onEaseEnd;this._onEaseEnd=void 0,T.call(this,p)}if(!c){const T=this.handlers;T&&T.stop(!1)}return this}_ease(c,p,T){T.animate===!1||T.duration===0?(c(1),p()):(this._easeStart=s.exported.now(),this._easeOptions=T,this._onEaseFrame=c,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const c=Math.min((s.exported.now()-this._easeStart)/this._easeOptions.duration,1),p=this._onEaseFrame;p&&p(this._easeOptions.easing(c)),c<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(c,p){c=s.wrap(c,-180,180);const T=Math.abs(c-p);return Math.abs(c-360-p)<T&&(c-=360),Math.abs(c+360-p)<T&&(c+=360),c}_normalizeCenter(c){const p=this.transform;if(!p.renderWorldCopies||p.maxBounds)return;const T=c.lng-p.center.lng;c.lng+=T>180?-360:T<-180?360:0}_emulate(c,p,T){const B=Math.ceil(15*p/1e3),W=[],se=c(T.clone());for(let ue=0;ue<=B;ue++){const me=se(ue/B);W.push(me.clone())}return W}}class If{constructor(c={}){this.options=c,s.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(c){const p=this.options&&this.options.compact;return this._map=c,this._container=z("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=z("button","mapboxgl-ctrl-attrib-button",this._container),z("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=z("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),p&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),p===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(c,p){const T=this._map._getUIString(`AttributionControl.${p}`);c.setAttribute("aria-label",T),c.removeAttribute("title"),c.firstElementChild&&c.firstElementChild.setAttribute("title",T)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));const p=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||s.config.ACCESS_TOKEN}];if(c){const T=p.reduce((B,W,se)=>(W.value&&(B+=`${W.key}=${W.value}${se<p.length-1?"&":""}`),B),"?");c.href=`${s.config.FEEDBACK_URL}/${T}#${Sl(this._map,!0)}`,c.rel="noopener nofollow",this._setElementTitle(c,"MapFeedback")}}_updateData(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let c=[];if(this._map.style.stylesheet){const B=this._map.style.stylesheet;this.styleOwner=B.owner,this.styleId=B.id}const p=this._map.style._sourceCaches;for(const B in p){const W=p[B];if(W.used){const se=W.getSource();se.attribution&&c.indexOf(se.attribution)<0&&c.push(se.attribution)}}c.sort((B,W)=>B.length-W.length),c=c.filter((B,W)=>{for(let se=W+1;se<c.length;se++)if(c[se].indexOf(B)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=[...this.options.customAttribution,...c]:c.unshift(this.options.customAttribution));const T=c.join(" | ");T!==this._attribHTML&&(this._attribHTML=T,c.length?(this._innerContainer.innerHTML=T,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Lf{constructor(){s.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(c){this._map=c,this._container=z("div","mapboxgl-ctrl");const p=z("a","mapboxgl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://www.mapbox.com/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(c){c&&c.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const c=this._map.style._sourceCaches;if(Object.entries(c).length===0)return!0;for(const p in c){const T=c[p].getSource();if(T.hasOwnProperty("mapbox_logo")&&!T.mapbox_logo)return!1}return!0}_updateCompact(){const c=this._container.children;if(c.length){const p=c[0];this._map.getCanvasContainer().offsetWidth<250?p.classList.add("mapboxgl-compact"):p.classList.remove("mapboxgl-compact")}}}class Of{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p}remove(c){const p=this._currentlyRunning,T=p?this._queue.concat(p):this._queue;for(const B of T)if(B.id===c)return void(B.cancelled=!0)}run(c=0){const p=this._currentlyRunning=this._queue;this._queue=[];for(const T of p)if(!T.cancelled&&(T.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Rf(_,c,p){if(_=new s.LngLat(_.lng,_.lat),c){const T=new s.LngLat(_.lng-360,_.lat),B=new s.LngLat(_.lng+360,_.lat),W=360*Math.ceil(Math.abs(_.lng-p.center.lng)/360),se=p.locationPoint(_).distSqr(c),ue=c.x<0||c.y<0||c.x>p.width||c.y>p.height;p.locationPoint(T).distSqr(c)<se&&(ue||Math.abs(T.lng-p.center.lng)<W)?_=T:p.locationPoint(B).distSqr(c)<se&&(ue||Math.abs(B.lng-p.center.lng)<W)&&(_=B)}for(;Math.abs(_.lng-p.center.lng)>180;){const T=p.locationPoint(_);if(T.x>=0&&T.y>=0&&T.x<=p.width&&T.y<=p.height)break;_.lng>p.center.lng?_.lng-=360:_.lng+=360}return _}const Vu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class rc extends s.Evented{constructor(c,p){if(super(),(c instanceof s.window.HTMLElement||p)&&(c=s.extend({element:c},p)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=c&&c.occludedOpacity||.2,c&&c.element)this._element=c.element,this._offset=s.pointGeometry.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=z("div");const B=41,W=27,se=Z("svg",{display:"block",height:B*this._scale+"px",width:W*this._scale+"px",viewBox:`0 0 ${W} ${B}`},this._element),ue=Z("radialGradient",{id:"shadowGradient"},Z("defs",{},se));Z("stop",{offset:"10%","stop-opacity":.4},ue),Z("stop",{offset:"100%","stop-opacity":.05},ue),Z("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},se),Z("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},se),Z("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},se),Z("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},se),this._offset=s.pointGeometry.convert(c&&c.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",B=>{B.preventDefault()}),this._element.addEventListener("mousedown",B=>{B.preventDefault()});const T=this._element.classList;for(const B in Vu)T.remove(`mapboxgl-marker-anchor-${B}`);T.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(c){return c===this._map||(this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._updateMoving),c.on("moveend",this._update),c.on("remove",this._clearFadeTimer),c._addMarker(this),this.setDraggable(this._draggable),this._update(),c.on("click",this._onMapClick)),this}remove(){const c=this._map;return c&&(c.off("click",this._onMapClick),c.off("move",this._updateMoving),c.off("moveend",this._update),c.off("mousedown",this._addDragHandler),c.off("touchstart",this._addDragHandler),c.off("mouseup",this._onUp),c.off("touchend",this._onUp),c.off("mousemove",this._onMove),c.off("touchmove",this._onMove),c.off("remove",this._clearFadeTimer),c._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=s.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const B=Math.sqrt(Math.pow(13.5,2)/2);c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[B,-1*(38.1-13.5+B)],"bottom-right":[-B,-1*(38.1-13.5+B)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,c._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(c){const p=c.code,T=c.charCode||c.keyCode;p!=="Space"&&p!=="Enter"&&T!==32&&T!==13||this.togglePopup()}_onMapClick(c){const p=c.originalEvent.target,T=this._element;this._popup&&(p===T||T.contains(p))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?(c.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(c.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const c=this._map,p=this._pos;if(!c||!p)return!1;const T=c.unproject(p),B=c.getFreeCameraOptions();if(!B.position)return!1;const W=B.position.toLngLat();return W.distanceTo(T)<.9*W.distanceTo(this._lngLat)}_evaluateOpacity(){const c=this._map;if(!c)return;const p=this._pos;if(!p||p.x<0||p.x>c.transform.width||p.y<0||p.y>c.transform.height)return void this._clearFadeTimer();const T=c.unproject(p);let B;c._showingGlobe()&&s.isLngLatBehindGlobe(c.transform,this._lngLat)?B=0:(B=1-c._queryFogOpacity(T),c.transform._terrainEnabled()&&c.getTerrain()&&this._behindTerrain()&&(B*=this._occludedOpacity)),this._element.style.opacity=`${B}`,this._element.style.pointerEvents=B>0?"auto":"none",this._popup&&this._popup._setOpacity(B),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const c=this._pos;if(!c||!this._map)return;const p=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${c.x}px,${c.y}px)
            ${Vu[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${p.x}px,${p.y}px)
        `}_calculateXYTransform(){const c=this._pos,p=this._map,T=this.getPitchAlignment();if(!p||!c||T!=="map")return"";if(!p._showingGlobe()){const me=p.getPitch();return me?`rotateX(${me}deg)`:""}const B=s.radToDeg(s.globeTiltAtLngLat(p.transform,this._lngLat)),W=c.sub(s.globeCenterToScreenPoint(p.transform)),se=Math.abs(W.x)+Math.abs(W.y);if(se===0)return"";const ue=B/se;return`rotateX(${-W.y*ue}deg) rotateY(${W.x*ue}deg)`}_calculateZTransform(){const c=this._pos,p=this._map;if(!p||!c)return"";let T=0;const B=this.getRotationAlignment();if(B==="map")if(p._showingGlobe()){const W=p.project(new s.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),se=p.project(new s.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(W);T=s.radToDeg(Math.atan2(se.y,se.x))-90}else T=-p.getBearing();else if(B==="horizon"){const W=s.smoothstep(4,6,p.getZoom()),se=s.globeCenterToScreenPoint(p.transform);se.y+=W*p.transform.height;const ue=c.sub(se),me=s.radToDeg(Math.atan2(ue.y,ue.x));T=(me>90?me-270:me+90)*(1-W)}return T+=this._rotation,T?`rotateZ(${T}deg)`:""}_update(c){s.window.cancelAnimationFrame(this._updateFrameId);const p=this._map;p&&(p.transform.renderWorldCopies&&(this._lngLat=Rf(this._lngLat,this._pos,p.transform)),this._pos=p.project(this._lngLat),c===!0?this._updateFrameId=s.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),p._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(p._showingGlobe()||p.getTerrain()||p.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(c){return this._offset=s.pointGeometry.convert(c),this._update(),this}_onMove(c){const p=this._map;if(!p)return;const T=this._pointerdownPos,B=this._positionDelta;if(T&&B){if(!this._isDragging){const W=this._clickTolerance||p._clickTolerance;if(c.point.dist(T)<W)return;this._isDragging=!0}this._pos=c.point.sub(B),this._lngLat=p.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const c=this._map;c&&(c.off("mousemove",this._onMove),c.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"}_addDragHandler(c){const p=this._map,T=this._pos;p&&T&&this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(T),this._pointerdownPos=c.point,this._state="pending",p.on("mousemove",this._onMove),p.on("touchmove",this._onMove),p.once("mouseup",this._onUp),p.once("touchend",this._onUp))}setDraggable(c){this._draggable=!!c;const p=this._map;return p&&(c?(p.on("mousedown",this._addDragHandler),p.on("touchstart",this._addDragHandler)):(p.off("mousedown",this._addDragHandler),p.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(c){return this._occludedOpacity=c||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const _p={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},cm=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function ll(_=new s.pointGeometry(0,0),c="bottom"){if(typeof _=="number"){const p=Math.round(Math.sqrt(.5*Math.pow(_,2)));switch(c){case"top":return new s.pointGeometry(0,_);case"top-left":return new s.pointGeometry(p,p);case"top-right":return new s.pointGeometry(-p,p);case"bottom":return new s.pointGeometry(0,-_);case"bottom-left":return new s.pointGeometry(p,-p);case"bottom-right":return new s.pointGeometry(-p,-p);case"left":return new s.pointGeometry(_,0);case"right":return new s.pointGeometry(-_,0)}return new s.pointGeometry(0,0)}return _ instanceof s.pointGeometry||Array.isArray(_)?s.pointGeometry.convert(_):s.pointGeometry.convert(_[c]||[0,0])}class dm{constructor(c){this.jumpTo(c)}getValue(c){if(c<=this._startTime)return this._start;if(c>=this._endTime)return this._end;const p=s.easeCubicInOut((c-this._startTime)/(this._endTime-this._startTime));return this._start*(1-p)+this._end*p}isEasing(c){return c>=this._startTime&&c<=this._endTime}jumpTo(c){this._startTime=-1/0,this._endTime=-1/0,this._start=c,this._end=c}easeTo(c,p,T){this._start=this.getValue(p),this._end=c,this._startTime=p,this._endTime=p+T}}const um={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},hm={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},pm={showCompass:!0,showZoom:!0,visualizePitch:!1};class fm{constructor(c,p,T=!1){this._clickTolerance=10,this.element=p,this.mouseRotate=new Mf({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,T&&(this.mousePitch=new kf({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),p.addEventListener("mousedown",this.mousedown),p.addEventListener("touchstart",this.touchstart,{passive:!1}),p.addEventListener("touchmove",this.touchmove),p.addEventListener("touchend",this.touchend),p.addEventListener("touchcancel",this.reset)}down(c,p){this.mouseRotate.mousedown(c,p),this.mousePitch&&this.mousePitch.mousedown(c,p),M()}move(c,p){const T=this.map,B=this.mouseRotate.mousemoveWindow(c,p),W=B&&B.bearingDelta;if(W&&T.setBearing(T.getBearing()+W),this.mousePitch){const se=this.mousePitch.mousemoveWindow(c,p),ue=se&&se.pitchDelta;ue&&T.setPitch(T.getPitch()+ue)}}off(){const c=this.element;c.removeEventListener("mousedown",this.mousedown),c.removeEventListener("touchstart",this.touchstart,{passive:!1}),c.removeEventListener("touchmove",this.touchmove),c.removeEventListener("touchend",this.touchend),c.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){S(),s.window.removeEventListener("mousemove",this.mousemove),s.window.removeEventListener("mouseup",this.mouseup)}mousedown(c){this.down(s.extend({},c,{ctrlKey:!0,preventDefault:()=>c.preventDefault()}),U(this.element,c)),s.window.addEventListener("mousemove",this.mousemove),s.window.addEventListener("mouseup",this.mouseup)}mousemove(c){this.move(c,U(this.element,c))}mouseup(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()}touchstart(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=E(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>c.preventDefault()},this._startPos))}touchmove(c){c.targetTouches.length!==1?this.reset():(this._lastPos=E(this.element,c.targetTouches)[0],this.move({preventDefault:()=>c.preventDefault()},this._lastPos))}touchend(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const vp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Bf={maxWidth:100,unit:"metric"};function mm(_,c,p){const T=zf(c),B=T/c,W={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[p];this._map._requestDomTask(()=>{this._container.style.width=_*B+"px",this._container.innerHTML=`${T}&nbsp;${W}`})}function zf(_){const c=Math.pow(10,`${Math.floor(_)}`.length-1);let p=_/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:p>=1?1:function(T){const B=Math.pow(10,Math.ceil(-Math.log(T)/Math.LN10));return Math.round(T*B)/B}(p),c*p}const au={version:s.version,supported:R,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:class extends kc{constructor(_){if(s.LivePerformanceUtils.mark(s.PerformanceMarkers.create),(_=s.extend({},hm,_)).minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(_.antialias&&s.isSafariWithAntialiasingBug(s.window)&&(_.antialias=!1,s.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Ns(_.minZoom,_.maxZoom,_.minPitch,_.maxPitch,_.renderWorldCopies),_),this._interactive=_.interactive,this._minTileCacheSize=_.minTileCacheSize,this._maxTileCacheSize=_.maxTileCacheSize,this._failIfMajorPerformanceCaveat=_.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_.preserveDrawingBuffer,this._antialias=_.antialias,this._trackResize=_.trackResize,this._bearingSnap=_.bearingSnap,this._refreshExpiredTiles=_.refreshExpiredTiles,this._fadeDuration=_.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=_.crossSourceCollisions,this._collectResourceTiming=_.collectResourceTiming,this._optimizeForTerrain=_.optimizeForTerrain,this._language=this._parseLanguage(_.language),this._worldview=_.worldview,this._renderTaskQueue=new Of,this._domRenderTaskQueue=new Of,this._controls=[],this._markers=[],this._popups=[],this._mapId=s.uniqueId(),this._locale=s.extend({},um,_.locale),this._clickTolerance=_.clickTolerance,this._cooperativeGestures=_.cooperativeGestures,this._performanceMetricsCollection=_.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new dm(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new s.RequestManager(_.transformRequest,_.accessToken,_.testMode),this._silenceAuthErrors=!!_.testMode,typeof _.container=="string"){if(this._container=s.window.document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof s.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(this._container.childNodes.length>0&&s.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),_.maxBounds&&this.setMaxBounds(_.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),s.window!==void 0&&(s.window.addEventListener("online",this._onWindowOnline,!1),s.window.addEventListener("resize",this._onWindowResize,!1),s.window.addEventListener("orientationchange",this._onWindowResize,!1),s.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),s.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new wh(this,_),this._localFontFamily=_.localFontFamily,this._localIdeographFontFamily=_.localIdeographFontFamily,_.style&&this.setStyle(_.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),_.projection&&this.setProjection(_.projection),this._hash=_.hash&&new tn(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,s.extend({},_.fitBoundsOptions,{duration:0})))),this.resize(),_.attributionControl&&this.addControl(new If({customAttribution:_.customAttribution})),this._logoControl=new Lf,this.addControl(this._logoControl,_.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new s.Event(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new s.Event(`${c.dataType}dataloading`,c))})}_getMapId(){return this._mapId}addControl(_,c){if(c===void 0&&(c=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=_.onAdd(this);this._controls.push(_);const T=this._controlPositions[c];return c.indexOf("bottom")!==-1?T.insertBefore(p,T.firstChild):T.appendChild(p),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(_);return c>-1&&this._controls.splice(c,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(_){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const c=!this._moving;return c&&this.fire(new s.Event("movestart",_)).fire(new s.Event("move",_)),this.fire(new s.Event("resize",_)),c&&this.fire(new s.Event("moveend",_)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(_){return this.transform.setMaxBounds(s.LngLatBounds.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_?this.setZoom(_):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_?this.setZoom(_):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_?this.setPitch(_):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_?this.setPitch(_):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(_){return _==="auto"?s.window.navigator.language:Array.isArray(_)?_.length===0?void 0:_.map(c=>c==="auto"?s.window.navigator.language:c):_}setLanguage(_){const c=this._parseLanguage(_);if(!this.style||c===this._language)return this;this._language=c,this.style._reloadSources();for(const p of this._controls)p._setLanguage&&p._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(_){return this.style&&_!==this._worldview?(this._worldview=_,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(_){return this._lazyInitEmptyStyle(),_?typeof _=="string"&&(_={name:_}):_=null,this._useExplicitProjection=!!_,this._prioritizeAndUpdateProjection(_,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const _=this.transform,c=_.projection.name;let p;c==="globe"&&_.zoom>=s.GLOBE_ZOOM_THRESHOLD_MAX?(_.setMercatorFromTransition(),p=!0):c==="mercator"&&_.zoom<s.GLOBE_ZOOM_THRESHOLD_MAX&&(_.setProjection({name:"globe"}),p=!0),p&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(_,c){return this._updateProjection(_||c||{name:"mercator"})}_updateProjection(_){let c;if(c=_.name==="globe"&&this.transform.zoom>=s.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(_),this.style.applyProjectionUpdate(),c){this.painter.clearBackgroundTiles();for(const p in this.style._sourceCaches)this.style._sourceCaches[p].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(_){return this.transform.locationPoint3D(s.LngLat.convert(_))}unproject(_){return this.transform.pointLocation3D(s.pointGeometry.convert(_))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(_,c,p){if(_==="mouseenter"||_==="mouseover"){let T=!1;const B=se=>{const ue=c.filter(De=>this.getLayer(De)),me=ue.length?this.queryRenderedFeatures(se.point,{layers:ue}):[];me.length?T||(T=!0,p.call(this,new fs(_,this,se.originalEvent,{features:me}))):T=!1},W=()=>{T=!1};return{layers:new Set(c),listener:p,delegates:{mousemove:B,mouseout:W}}}if(_==="mouseleave"||_==="mouseout"){let T=!1;const B=se=>{const ue=c.filter(me=>this.getLayer(me));(ue.length?this.queryRenderedFeatures(se.point,{layers:ue}):[]).length?T=!0:T&&(T=!1,p.call(this,new fs(_,this,se.originalEvent)))},W=se=>{T&&(T=!1,p.call(this,new fs(_,this,se.originalEvent)))};return{layers:new Set(c),listener:p,delegates:{mousemove:B,mouseout:W}}}{const T=B=>{const W=c.filter(ue=>this.getLayer(ue)),se=W.length?this.queryRenderedFeatures(B.point,{layers:W}):[];se.length&&(B.features=se,p.call(this,B),delete B.features)};return{layers:new Set(c),listener:p,delegates:{[_]:T}}}}on(_,c,p){if(p===void 0)return super.on(_,c);Array.isArray(c)||(c=[c]);const T=this._createDelegatedListener(_,c,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(T);for(const B in T.delegates)this.on(B,T.delegates[B]);return this}once(_,c,p){if(p===void 0)return super.once(_,c);Array.isArray(c)||(c=[c]);const T=this._createDelegatedListener(_,c,p);for(const B in T.delegates)this.once(B,T.delegates[B]);return this}off(_,c,p){if(p===void 0)return super.off(_,c);c=new Set(Array.isArray(c)?c:[c]);const T=(W,se)=>{if(W.size!==se.size)return!1;for(const ue of W)if(!se.has(ue))return!1;return!0},B=this._delegatedListeners?this._delegatedListeners[_]:void 0;return B&&(W=>{for(let se=0;se<W.length;se++){const ue=W[se];if(ue.listener===p&&T(ue.layers,c)){for(const me in ue.delegates)this.off(me,ue.delegates[me]);return W.splice(se,1),this}}})(B),this}queryRenderedFeatures(_,c){return this.style?(c!==void 0||_===void 0||_ instanceof s.pointGeometry||Array.isArray(_)||(c=_,_=void 0),this.style.queryRenderedFeatures(_=_||[[0,0],[this.transform.width,this.transform.height]],c=c||{},this.transform)):[]}querySourceFeatures(_,c){return this.style.querySourceFeatures(_,c)}setStyle(_,c){return(c=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&c.localFontFamily===this._localFontFamily&&this.style&&_?(this._diffStyle(_,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._localFontFamily=c.localFontFamily,this._updateStyle(_,c))}_getUIString(_){const c=this._locale[_];if(c==null)throw new Error(`Missing UI string '${_}'`);return c}_updateStyle(_,c){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),_&&(this.style=new X(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_):this.style.loadJSON(_)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new X(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,c){if(typeof _=="string"){const p=this._requestManager.normalizeStyleURL(_),T=this._requestManager.transformRequest(p,s.ResourceType.Style);s.getJSON(T,(B,W)=>{B?this.fire(new s.ErrorEvent(B)):W&&this._updateDiff(W,c)})}else typeof _=="object"&&this._updateDiff(_,c)}_updateDiff(_,c){try{this.style.setState(_)&&this._update(!0)}catch(p){s.warnOnce(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(_,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(s.warnOnce("There is no style added to the map."),!1)}addSource(_,c){return this._lazyInitEmptyStyle(),this.style.addSource(_,c),this._update(!0)}isSourceLoaded(_){return!!this.style&&this.style._isSourceCacheLoaded(_)}areTilesLoaded(){const _=this.style&&this.style._sourceCaches;for(const c in _){const p=_[c]._tiles;for(const T in p){const B=p[T];if(B.state!=="loaded"&&B.state!=="errored")return!1}}return!0}addSourceType(_,c,p){this._lazyInitEmptyStyle(),this.style.addSourceType(_,c,p)}removeSource(_){return this.style.removeSource(_),this._updateTerrain(),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,c,{pixelRatio:p=1,sdf:T=!1,stretchX:B,stretchY:W,content:se}={}){if(this._lazyInitEmptyStyle(),c instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&c instanceof s.window.ImageBitmap){const{width:ue,height:me,data:De}=s.exported.getImageData(c);this.style.addImage(_,{data:new s.RGBAImage({width:ue,height:me},De),pixelRatio:p,stretchX:B,stretchY:W,content:se,sdf:T,version:0})}else if(c.width===void 0||c.height===void 0)this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:ue,height:me}=c,De=c;this.style.addImage(_,{data:new s.RGBAImage({width:ue,height:me},new Uint8Array(De.data)),pixelRatio:p,stretchX:B,stretchY:W,content:se,sdf:T,version:0,userImage:De}),De.onAdd&&De.onAdd(this,_)}}updateImage(_,c){const p=this.style.getImage(_);if(!p)return void this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const T=c instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&c instanceof s.window.ImageBitmap?s.exported.getImageData(c):c,{width:B,height:W}=T;B!==void 0&&W!==void 0?B===p.data.width&&W===p.data.height?(p.data.replace(T.data,!(c instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&c instanceof s.window.ImageBitmap)),this.style.updateImage(_,p)):this.fire(new s.ErrorEvent(new Error(`The width and height of the updated image (${B}, ${W})
                must be that same as the previous version of the image
                (${p.data.width}, ${p.data.height})`))):this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_,c){s.getImage(this._requestManager.transformRequest(_,s.ResourceType.Image),(p,T)=>{c(p,T instanceof s.window.HTMLImageElement?s.exported.getImageData(T):T)})}listImages(){return this.style.listImages()}addLayer(_,c){return this._lazyInitEmptyStyle(),this.style.addLayer(_,c),this._update(!0)}moveLayer(_,c){return this.style.moveLayer(_,c),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}setLayerZoomRange(_,c,p){return this.style.setLayerZoomRange(_,c,p),this._update(!0)}setFilter(_,c,p={}){return this.style.setFilter(_,c,p),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,c,p,T={}){return this.style.setPaintProperty(_,c,p,T),this._update(!0)}getPaintProperty(_,c){return this.style.getPaintProperty(_,c)}setLayoutProperty(_,c,p,T={}){return this.style.setLayoutProperty(_,c,p,T),this._update(!0)}getLayoutProperty(_,c){return this.style.getLayoutProperty(_,c)}setLight(_,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,c),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(_){return this._lazyInitEmptyStyle(),!_&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(_),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(_){return this._lazyInitEmptyStyle(),this.style.setFog(_),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(_){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(s.LngLat.convert(_),this.transform):0}setFeatureState(_,c){return this.style.setFeatureState(_,c),this._update()}removeFeatureState(_,c){return this.style.removeFeatureState(_,c),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}_updateContainerDimensions(){if(!this._container)return;const _=this._container.getBoundingClientRect().width||400,c=this._container.getBoundingClientRect().height||300;let p,T,B,W=this._container;for(;W&&(!T||!B);){const se=s.window.getComputedStyle(W).transform;se&&se!=="none"&&(p=se.match(/matrix.*\((.+)\)/)[1].split(", "),p[0]&&p[0]!=="0"&&p[0]!=="1"&&(T=p[0]),p[3]&&p[3]!=="0"&&p[3]!=="1"&&(B=p[3])),W=W.parentElement}this._containerWidth=T?Math.abs(_/T):_,this._containerHeight=B?Math.abs(c/B):c}_detectMissingCSS(){s.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&s.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const _=this._container;_.classList.add("mapboxgl-map"),(this._missingCSSCanary=z("div","mapboxgl-canary",_)).style.visibility="hidden",this._detectMissingCSS();const c=this._canvasContainer=z("div","mapboxgl-canvas-container",_);this._interactive&&c.classList.add("mapboxgl-interactive"),this._canvas=z("canvas","mapboxgl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const p=this._controlContainer=z("div","mapboxgl-control-container",_),T=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(B=>{T[B]=z("div",`mapboxgl-ctrl-${B}`,p)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_,c){const p=s.exported.devicePixelRatio||1;this._canvas.width=p*Math.ceil(_),this._canvas.height=p*Math.ceil(c),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${c}px`}_addMarker(_){this._markers.push(_)}_removeMarker(_){const c=this._markers.indexOf(_);c!==-1&&this._markers.splice(c,1)}_addPopup(_){this._popups.push(_)}_removePopup(_){const c=this._popups.indexOf(_);c!==-1&&this._popups.splice(c,1)}_setupPainter(){const _=s.extend({},R.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),c=this._canvas.getContext("webgl",_)||this._canvas.getContext("experimental-webgl",_);c?(s.storeAuthState(c,!0),this.painter=new Fn(c,this.transform),this.on("data",p=>{p.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),s.exported$1.testSupport(c)):this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(_){_.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:_}))}_contextRestored(_){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:_}))}_onMapScroll(_){if(_.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_requestDomTask(_){!this.loaded()||this.loaded()&&!this.isMoving()?_():this._domRenderTaskQueue.add(_)}_render(_){let c;const p=this.painter.context.extTimerQuery,T=s.exported.now();if(this.listens("gpu-timing-frame")&&(c=p.createQueryEXT(),p.beginQueryEXT(p.TIME_ELAPSED_EXT,c)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],s.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],s.window.performance.now())),this._renderTaskQueue.run(_),this._domRenderTaskQueue.run(_),this._removed)return;this._updateProjectionTransition();const B=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const ue=this.transform.zoom,me=this.transform.pitch,De=s.exported.now(),Ae=new s.EvaluationParameters(ue,{now:De,fadeDuration:B,pitch:me,transition:this.style.getTransition()});this.style.update(Ae)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let W=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),W=this._updateAverageElevation(T),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):W=this._updateAverageElevation(T),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,B,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:B,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new s.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),c){const ue=s.exported.now()-T;p.endQueryEXT(p.TIME_ELAPSED_EXT,c),setTimeout(()=>{const me=p.getQueryObjectEXT(c,p.QUERY_RESULT_EXT)/1e6;p.deleteQueryEXT(c),this.fire(new s.Event("gpu-timing-frame",{cpuTime:ue,gpuTime:me})),s.window.performance.mark("frame-gpu",{startTime:T,detail:{gpuTime:me}})},50)}if(this.listens("gpu-timing-layer")){const ue=this.painter.collectGpuTimers();setTimeout(()=>{const me=this.painter.queryGpuTimers(ue);this.fire(new s.Event("gpu-timing-layer",{layerTimes:me}))},50)}if(this.listens("gpu-timing-deferred-render")){const ue=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const me=this.painter.queryGpuTimeDeferredRender(ue);this.fire(new s.Event("gpu-timing-deferred-render",{gpuTime:me}))},50)}const se=this._sourcesDirty||this._styleDirty||this._placementDirty||W;if(se||this._repaint)this.triggerRepaint();else{const ue=!this.isMoving()&&this.loaded();if(ue&&(W=this._updateAverageElevation(T,!0)),W)this.triggerRepaint();else if(this._triggerFrame(!1),ue&&(this.fire(new s.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const me=this._calculateSpeedIndex();this.fire(new s.Event("speedindexcompleted",{speedIndex:me})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||se||(this._fullyLoaded=!0,s.LivePerformanceUtils.mark(s.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&s.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(_){for(const c of this._markers)_&&!this.getRenderWorldCopies()&&(c._lngLat=c._lngLat.wrap()),c._update();for(const c of this._popups)!_||this.getRenderWorldCopies()||c._trackPointer||(c._lngLat=c._lngLat.wrap()),c._update()}_updateAverageElevation(_,c=!1){const p=T=>(this.transform.averageElevation=T,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&p(0);if((c||_-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(_)){const T=this.transform.averageElevation;let B=this.transform.sampleAverageElevation(),W=!1;this.transform.elevation&&(W=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(B)?B=0:this._averageElevationLastSampledAt=_;const se=Math.abs(T-B);if(se>1){if(this._isInitialLoad||W)return this._averageElevation.jumpTo(B),p(B);this._averageElevation.easeTo(B,_,300)}else if(se>1e-4)return this._averageElevation.jumpTo(B),p(B)}return!!this._averageElevation.isEasing(_)&&p(this._averageElevation.getValue(_))}_authenticate(){s.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,_=>{if(_&&(_.message===s.AUTH_ERR_MSG||_.status===401)){const c=this.painter.context.gl;s.storeAuthState(c,!1),this._logoControl instanceof Lf&&this._logoControl._updateLogo(),c&&c.clear(c.DEPTH_BUFFER_BIT|c.COLOR_BUFFER_BIT|c.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new s.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),s.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const _=this._isDragging();this.painter.updateTerrain(this.style,_)}_calculateSpeedIndex(){const _=this.painter.canvasCopy(),c=this.painter.getCanvasCopiesAndTimestamps();c.timeStamps.push(performance.now());const p=this.painter.context.gl,T=p.createFramebuffer();function B(W){p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,W,0);const se=new Uint8Array(p.drawingBufferWidth*p.drawingBufferHeight*4);return p.readPixels(0,0,p.drawingBufferWidth,p.drawingBufferHeight,p.RGBA,p.UNSIGNED_BYTE,se),se}return p.bindFramebuffer(p.FRAMEBUFFER,T),this._canvasPixelComparison(B(_),c.canvasCopies.map(B),c.timeStamps)}_canvasPixelComparison(_,c,p){let T=p[1]-p[0];const B=_.length/4;for(let W=0;W<c.length;W++){const se=c[W];let ue=0;for(let me=0;me<se.length;me+=4)se[me]===_[me]&&se[me+1]===_[me+1]&&se[me+2]===_[me+2]&&se[me+3]===_[me+3]&&(ue+=1);T+=(p[W+2]-p[W+1])*(1-ue/B)}return T}remove(){this._hash&&this._hash.remove();for(const c of this._controls)c.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),s.window!==void 0&&(s.window.removeEventListener("resize",this._onWindowResize,!1),s.window.removeEventListener("orientationchange",this._onWindowResize,!1),s.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),s.window.removeEventListener("online",this._onWindowOnline,!1),s.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const _=this.painter.context.gl.getExtension("WEBGL_lose_context");_&&_.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),s.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new s.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(_){this._renderNextFrame=this._renderNextFrame||_,this.style&&!this._frame&&(this._frame=s.exported.frame(c=>{const p=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,p&&this._render(c)}))}_preloadTiles(_){const c=this.style?Object.values(this.style._sourceCaches):[];return s.asyncAll(c,(p,T)=>p._preloadTiles(_,T),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(_){this._trackResize&&this.resize({originalEvent:_})._update()}_onVisibilityChange(){s.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(_){this._showTerrainWireframe!==_&&(this._showTerrainWireframe=_,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(_){this._speedIndexTiming!==_&&(this._speedIndexTiming=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(_){this._showTileAABBs!==_&&(this._showTileAABBs=_,_&&this._update())}_setCacheLimits(_,c){s.setCacheLimits(_,c)}get version(){return s.version}},NavigationControl:class{constructor(_){this.options=s.extend({},pm,_),this._container=z("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",c=>{this._map&&this._map.zoomIn({},{originalEvent:c})}),z("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",c=>{this._map&&this._map.zoomOut({},{originalEvent:c})}),z("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",c=>{const p=this._map;p&&(this.options.visualizePitch?p.resetNorthPitch({},{originalEvent:c}):p.resetNorth({},{originalEvent:c}))}),this._compassIcon=z("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const _=this._map;if(!_)return;const c=_.getZoom(),p=c===_.getMaxZoom(),T=c===_.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=T,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",T.toString())}_rotateCompassArrow(){const _=this._map;if(!_)return;const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(_.transform.pitch*(Math.PI/180)),.5)}) rotateX(${_.transform.pitch}deg) rotateZ(${_.transform.angle*(180/Math.PI)}deg)`:`rotate(${_.transform.angle*(180/Math.PI)}deg)`;_._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=c)})}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),_.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&_.on("pitch",this._rotateCompassArrow),_.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new fm(_,this._compass,this.options.visualizePitch)),this._container}onRemove(){const _=this._map;_&&(this._container.remove(),this.options.showZoom&&_.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&_.off("pitch",this._rotateCompassArrow),_.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(_,c){const p=z("button",_,this._container);return p.type="button",p.addEventListener("click",c),p}_setButtonTitle(_,c){if(!this._map)return;const p=this._map._getUIString(`NavigationControl.${c}`);_.setAttribute("aria-label",p),_.firstElementChild&&_.firstElementChild.setAttribute("title",p)}},GeolocateControl:class extends s.Evented{constructor(_){super(),this.options=s.extend({geolocation:s.window.navigator.geolocation},vp,_),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Tl(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(_){return this._map=_,this._container=z("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(_){const c=(p=!!this.options.geolocation)=>{this._supportsGeolocation=p,_(p)};this._supportsGeolocation!==void 0?_(this._supportsGeolocation):s.window.navigator.permissions!==void 0?s.window.navigator.permissions.query({name:"geolocation"}).then(p=>c(p.state!=="denied")).catch(()=>c()):c()}_isOutOfMapMaxBounds(_){const c=this._map.getMaxBounds(),p=_.coords;return!!c&&(p.longitude<c.getWest()||p.longitude>c.getEast()||p.latitude<c.getSouth()||p.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(_){if(this._map){if(this._isOutOfMapMaxBounds(_))return this._setErrorState(),this.fire(new s.Event("outofmaxbounds",_)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=_,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(_),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(_),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",_)),this._finish()}}_updateCamera(_){const c=new s.LngLat(_.coords.longitude,_.coords.latitude),p=_.coords.accuracy,T=this._map.getBearing(),B=s.extend({bearing:T},this.options.fitBoundsOptions);this._map.fitBounds(c.toBounds(p),B,{geolocateSource:!0})}_updateMarker(_){if(_){const c=new s.LngLat(_.coords.longitude,_.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=_.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const _=this._map.transform,c=s.mercatorZfromAltitude(1,_._center.lat)*_.worldSize,p=Math.ceil(2*this._accuracy*c);this._circleElement.style.width=`${p}px`,this._circleElement.style.height=`${p}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(_){if(this._map){if(this.options.trackUserLocation)if(_.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(_.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",_)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(_){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",c=>c.preventDefault()),this._geolocateButton=z("button","mapboxgl-ctrl-geolocate",this._container),z("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",_===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}else{const c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=z("div","mapboxgl-user-location"),this._dotElement.appendChild(z("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(z("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new rc({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=z("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new rc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{c.geolocateSource||this._watchState!=="ACTIVE_LOCK"||c.originalEvent&&c.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new s.Event("trackuserlocationend")))})}}_onDeviceOrientation(_){this._userLocationDotMarker&&(_.webkitCompassHeading?this._heading=_.webkitCompassHeading:_.absolute===!0&&(this._heading=-1*_.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(_={maximumAge:6e5,timeout:0},this._noTimeout=!0):(_=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,_),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const _=()=>{s.window.addEventListener("ondeviceorientationabsolute"in s.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};s.window.DeviceMotionEvent!==void 0&&typeof s.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(c=>{c==="granted"&&_()}).catch(console.error):_()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),s.window.removeEventListener("deviceorientation",this._onDeviceOrientation),s.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:If,ScaleControl:class{constructor(_){this.options=s.extend({},Bf,_),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=mm.bind(this)),s.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const _=this.options.maxWidth||100,c=this._map,p=c._containerHeight/2,T=c._containerWidth/2-_/2,B=c.unproject([T,p]),W=c.unproject([T+_,p]),se=B.distanceTo(W);if(this.options.unit==="imperial"){const ue=3.2808*se;ue>5280?this._setScale(_,ue/5280,"mile"):this._setScale(_,ue,"foot")}else this.options.unit==="nautical"?this._setScale(_,se/1852,"nautical-mile"):se>=1e3?this._setScale(_,se/1e3,"kilometer"):this._setScale(_,se,"meter")}_setScale(_,c,p){const T=zf(c),B=T/c;this._map._requestDomTask(()=>{this._container.style.width=_*B+"px",this._container.innerHTML=p!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:p}).format(T):`${T}&nbsp;nm`})}onAdd(_){return this._map=_,this._language=_.getLanguage(),this._container=z("div","mapboxgl-ctrl mapboxgl-ctrl-scale",_.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(_){this._language=_,this._update()}setUnit(_){this.options.unit=_,this._update()}},FullscreenControl:class{constructor(_){this._fullscreen=!1,_&&_.container&&(_.container instanceof s.window.HTMLElement?this._container=_.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in s.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in s.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=z("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,s.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!s.window.document.fullscreenEnabled&&!s.window.document.webkitFullscreenEnabled)}_setupUI(){const _=this._fullscreenButton=z("button","mapboxgl-ctrl-fullscreen",this._controlContainer);z("span","mapboxgl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),s.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",_)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(s.window.document.fullscreenElement||s.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?s.window.document.exitFullscreen?s.window.document.exitFullscreen():s.window.document.webkitCancelFullScreen&&s.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends s.Evented{constructor(_){super(),this.options=s.extend(Object.create(_p),_),s.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(_&&_.className?_.className.trim().split(/\s+/):[])}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&_.on("preclick",this._onClose),this.options.closeOnMove&&_.on("move",this._onClose),_.on("remove",this.remove),this._update(),_._addPopup(this),this._focusFirstElement(),this._trackPointer?(_.on("mousemove",this._onMouseEvent),_.on("mouseup",this._onMouseEvent),_._canvasContainer.classList.add("mapboxgl-track-pointer")):_.on("move",this._update),this.fire(new s.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const _=this._map;return _&&(_.off("move",this._update),_.off("move",this._onClose),_.off("preclick",this._onClose),_.off("click",this._onClose),_.off("remove",this.remove),_.off("mousemove",this._onMouseEvent),_.off("mouseup",this._onMouseEvent),_.off("drag",this._onMouseEvent),_._canvasContainer&&_._canvasContainer.classList.remove("mapboxgl-track-pointer"),_._removePopup(this),this._map=void 0),this.fire(new s.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(_){this._lngLat=s.LngLat.convert(_),this._pos=null,this._trackPointer=!1,this._update();const c=this._map;return c&&(c.on("move",this._update),c.off("mousemove",this._onMouseEvent),c._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const _=this._map;return _&&(_.off("move",this._update),_.on("mousemove",this._onMouseEvent),_.on("drag",this._onMouseEvent),_._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(s.window.document.createTextNode(_))}setHTML(_){const c=s.window.document.createDocumentFragment(),p=s.window.document.createElement("body");let T;for(p.innerHTML=_;T=p.firstChild,T;)c.appendChild(T);return this.setDOMContent(c)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){let c=this._content;if(c)for(;c.hasChildNodes();)c.firstChild&&c.removeChild(c.firstChild);else c=this._content=z("div","mapboxgl-popup-content",this._container||void 0);if(c.appendChild(_),this.options.closeButton){const p=this._closeButton=z("button","mapboxgl-popup-close-button",c);p.type="button",p.setAttribute("aria-label","Close popup"),p.setAttribute("aria-hidden","true"),p.innerHTML="&#215;",p.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(_){return this._classList.add(_),this._updateClassList(),this}removeClassName(_){return this._classList.delete(_),this._updateClassList(),this}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){let c;return this._classList.delete(_)?c=!1:(this._classList.add(_),c=!0),this._updateClassList(),c}_onMouseEvent(_){this._update(_.point)}_getAnchor(_){if(this.options.anchor)return this.options.anchor;const c=this._map,p=this._container,T=this._pos;if(!c||!p||!T)return"bottom";const B=p.offsetWidth,W=p.offsetHeight,se=T.x<B/2,ue=T.x>c.transform.width-B/2;if(T.y+_<W)return se?"top-left":ue?"top-right":"top";if(T.y>c.transform.height-W){if(se)return"bottom-left";if(ue)return"bottom-right"}return se?"left":ue?"right":"bottom"}_updateClassList(){const _=this._container;if(!_)return;const c=[...this._classList];c.push("mapboxgl-popup"),this._anchor&&c.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&c.push("mapboxgl-popup-track-pointer"),_.className=c.join(" ")}_update(_){const c=this._map,p=this._content;if(!c||!this._lngLat&&!this._trackPointer||!p)return;let T=this._container;if(T||(T=this._container=z("div","mapboxgl-popup",c.getContainer()),this._tip=z("div","mapboxgl-popup-tip",T),T.appendChild(p)),this.options.maxWidth&&T.style.maxWidth!==this.options.maxWidth&&(T.style.maxWidth=this.options.maxWidth),c.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Rf(this._lngLat,this._pos,c.transform)),!this._trackPointer||_){const B=this._pos=this._trackPointer&&_?_:c.project(this._lngLat),W=ll(this.options.offset),se=this._anchor=this._getAnchor(W.y),ue=ll(this.options.offset,se),me=B.add(ue).round();c._requestDomTask(()=>{this._container&&se&&(this._container.style.transform=`${Vu[se]} translate(${me.x}px,${me.y}px)`)})}if(!this._marker&&c._showingGlobe()){const B=s.isLngLatBehindGlobe(c.transform,this._lngLat)?0:1;this._setOpacity(B)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(cm);_&&_.focus()}_onClose(){this.remove()}_setOpacity(_){this._container&&(this._container.style.opacity=`${_}`),this._content&&(this._content.style.pointerEvents=_?"auto":"none")}},Marker:rc,Style:X,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.pointGeometry,MercatorCoordinate:s.MercatorCoordinate,FreeCameraOptions:be,Evented:s.Evented,config:s.config,prewarm:function(){Gi().acquire(Mn)},clearPrewarmedResources:function(){const _=un;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(Mn),un=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return s.config.ACCESS_TOKEN},set accessToken(_){s.config.ACCESS_TOKEN=_},get baseApiUrl(){return s.config.API_URL},set baseApiUrl(_){s.config.API_URL=_},get workerCount(){return Cn.workerCount},set workerCount(_){Cn.workerCount=_},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(_){s.config.MAX_PARALLEL_IMAGE_REQUESTS=_},clearStorage(_){s.clearTileCache(_)},workerUrl:"",workerClass:null,setNow:s.exported.setNow,restoreNow:s.exported.restoreNow};return au});var h=o;return h})})(A4);var g$=A4.exports;const _c=uh(g$);var Hg=_$,y$=Object.prototype.hasOwnProperty;function _$(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)y$.call(n,r)&&(e[r]=n[r])}return e}var D4={exports:{}};(function(e,t){(function(){var n={};e.exports=n,n.simpleFilter=function(r,o){return o.filter(function(d){return n.test(r,d)})},n.test=function(r,o){return n.match(r,o)!==null},n.match=function(r,o,d){d=d||{};var h=0,s=[],b=o.length,R=0,J=0,I=d.pre||"",z=d.post||"",Z=d.caseSensitive&&o||o.toLowerCase(),L;r=d.caseSensitive&&r||r.toLowerCase();for(var O=0;O<b;O++)L=o[O],Z[O]===r[h]?(L=I+L+z,h+=1,J+=1+J):J=0,R+=J,s[s.length]=L;return h===r.length?(R=Z===r?1/0:R,{rendered:s.join(""),score:R}):null},n.filter=function(r,o,d){return!o||o.length===0?[]:typeof r!="string"?o:(d=d||{},o.reduce(function(h,s,b,R){var J=s;d.extract&&(J=d.extract(s));var I=n.match(r,J,d);return I!=null&&(h[h.length]={string:I.rendered,score:I.score,index:b,original:s}),h},[]).sort(function(h,s){var b=s.score-h.score;return b||h.index-s.index}))}})()})(D4);var v$=D4.exports,Wc=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};Wc.prototype.show=function(){this.element.style.display="block"};Wc.prototype.hide=function(){this.element.style.display="none"};Wc.prototype.add=function(e){this.items.push(e)};Wc.prototype.clear=function(){this.items=[],this.active=0};Wc.prototype.isEmpty=function(){return!this.items.length};Wc.prototype.isVisible=function(){return this.element.style.display==="block"};Wc.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};Wc.prototype.drawItem=function(e,t){var n=document.createElement("li"),r=document.createElement("a");t&&(n.className+=" active"),r.innerHTML=e.string,n.appendChild(r),this.element.appendChild(n),n.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),n.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))};Wc.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};Wc.prototype.move=function(e){this.active=e,this.draw()};Wc.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};Wc.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};Wc.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()};var x$=Wc,b$=Hg,w$=v$,T$=x$,Vl=function(e,t,n){return n=n||{},this.options=b$({minLength:2,limit:5,filter:!0,hideOnBlur:!0},n),this.el=e,this.data=t||[],this.list=new T$(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(r){this.handleKeyUp(r.keyCode)}).bind(this),!1),this.el.addEventListener("keydown",(function(r){this.handleKeyDown(r)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(r){this.handlePaste(r)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};Vl.prototype.handleKeyUp=function(e){e===40||e===38||e===27||e===13||e===9||this.handleInputChange(this.el.value)};Vl.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};Vl.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};Vl.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}};Vl.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(t){for(var n=0;n<t.length&&(this.list.add(t[n]),n!==this.options.limit-1);n++);this.list.draw()}).bind(this))};Vl.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};Vl.prototype.update=function(e){this.data=e,this.handleKeyUp()};Vl.prototype.clear=function(){this.data=[],this.list.clear()};Vl.prototype.normalize=function(e){return e=e.toLowerCase(),e};Vl.prototype.match=function(e,t){return e.indexOf(t)>-1};Vl.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")};Vl.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:(function(r){return this.getItemValue(r)}).bind(this)},n;this.options.filter?(n=w$.filter(this.query,this.data,t),n=n.map((function(r){return{original:r.original,string:this.render(r.original,r.string)}}).bind(this))):n=this.data.map((function(r){var o=this.render(r);return{original:r,string:o}}).bind(this)),e(n)};Vl.prototype.getItemValue=function(e){return e};Vl.prototype.render=function(e,t){if(t)return t;for(var n=e.original?this.getItemValue(e.original):this.getItemValue(e),r=this.normalize(n),o=r.lastIndexOf(this.query);o>-1;){var d=o+this.query.length;n=n.slice(0,o)+"<strong>"+n.slice(o,d)+"</strong>"+n.slice(d),o=r.slice(0,o).lastIndexOf(this.query)}return n};Vl.prototype.renderError=function(e){this.list.drawError(e)};var S$=Vl,I4=S$,C$=I4;typeof window<"u"&&(window.Suggestions=I4);var E$="Expected a function",GE=0/0,M$="[object Symbol]",k$=/^\s+|\s+$/g,A$=/^[-+]0x[0-9a-f]+$/i,P$=/^0b[01]+$/i,D$=/^0o[0-7]+$/i,I$=parseInt,L$=typeof Ra=="object"&&Ra&&Ra.Object===Object&&Ra,O$=typeof self=="object"&&self&&self.Object===Object&&self,R$=L$||O$||Function("return this")(),B$=Object.prototype,z$=B$.toString,N$=Math.max,F$=Math.min,A3=function(){return R$.Date.now()};function j$(e,t,n){var r,o,d,h,s,b,R=0,J=!1,I=!1,z=!0;if(typeof e!="function")throw new TypeError(E$);t=WE(t)||0,BT(n)&&(J=!!n.leading,I="maxWait"in n,d=I?N$(WE(n.maxWait)||0,t):d,z="trailing"in n?!!n.trailing:z);function Z(E){var ie=r,te=o;return r=o=void 0,R=E,h=e.apply(te,ie),h}function L(E){return R=E,s=setTimeout(M,t),J?Z(E):h}function O(E){var ie=E-b,te=E-R,$=t-ie;return I?F$($,d-te):$}function G(E){var ie=E-b,te=E-R;return b===void 0||ie>=t||ie<0||I&&te>=d}function M(){var E=A3();if(G(E))return S(E);s=setTimeout(M,O(E))}function S(E){return s=void 0,z&&r?Z(E):(r=o=void 0,h)}function P(){s!==void 0&&clearTimeout(s),R=0,r=b=o=s=void 0}function H(){return s===void 0?h:S(A3())}function U(){var E=A3(),ie=G(E);if(r=arguments,o=this,b=E,ie){if(s===void 0)return L(b);if(I)return s=setTimeout(M,t),Z(b)}return s===void 0&&(s=setTimeout(M,t)),h}return U.cancel=P,U.flush=H,U}function BT(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function U$(e){return!!e&&typeof e=="object"}function $$(e){return typeof e=="symbol"||U$(e)&&z$.call(e)==M$}function WE(e){if(typeof e=="number")return e;if($$(e))return GE;if(BT(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=BT(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(k$,"");var n=P$.test(e);return n||D$.test(e)?I$(e.slice(2),n?2:8):A$.test(e)?GE:+e}var V$=j$,I5={exports:{}},Sg=typeof Reflect=="object"?Reflect:null,HE=Sg&&typeof Sg.apply=="function"?Sg.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Mx;Sg&&typeof Sg.ownKeys=="function"?Mx=Sg.ownKeys:Object.getOwnPropertySymbols?Mx=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Mx=function(t){return Object.getOwnPropertyNames(t)};function G$(e){console&&console.warn&&console.warn(e)}var L4=Number.isNaN||function(t){return t!==t};function qs(){qs.init.call(this)}I5.exports=qs;I5.exports.once=q$;qs.EventEmitter=qs;qs.prototype._events=void 0;qs.prototype._eventsCount=0;qs.prototype._maxListeners=void 0;var YE=10;function r2(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(qs,"defaultMaxListeners",{enumerable:!0,get:function(){return YE},set:function(e){if(typeof e!="number"||e<0||L4(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");YE=e}});qs.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};qs.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||L4(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function O4(e){return e._maxListeners===void 0?qs.defaultMaxListeners:e._maxListeners}qs.prototype.getMaxListeners=function(){return O4(this)};qs.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var o=t==="error",d=this._events;if(d!==void 0)o=o&&d.error===void 0;else if(!o)return!1;if(o){var h;if(n.length>0&&(h=n[0]),h instanceof Error)throw h;var s=new Error("Unhandled error."+(h?" ("+h.message+")":""));throw s.context=h,s}var b=d[t];if(b===void 0)return!1;if(typeof b=="function")HE(b,this,n);else for(var R=b.length,J=F4(b,R),r=0;r<R;++r)HE(J[r],this,n);return!0};function R4(e,t,n,r){var o,d,h;if(r2(n),d=e._events,d===void 0?(d=e._events=Object.create(null),e._eventsCount=0):(d.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),d=e._events),h=d[t]),h===void 0)h=d[t]=n,++e._eventsCount;else if(typeof h=="function"?h=d[t]=r?[n,h]:[h,n]:r?h.unshift(n):h.push(n),o=O4(e),o>0&&h.length>o&&!h.warned){h.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+h.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=h.length,G$(s)}return e}qs.prototype.addListener=function(t,n){return R4(this,t,n,!1)};qs.prototype.on=qs.prototype.addListener;qs.prototype.prependListener=function(t,n){return R4(this,t,n,!0)};function W$(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function B4(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=W$.bind(r);return o.listener=n,r.wrapFn=o,o}qs.prototype.once=function(t,n){return r2(n),this.on(t,B4(this,t,n)),this};qs.prototype.prependOnceListener=function(t,n){return r2(n),this.prependListener(t,B4(this,t,n)),this};qs.prototype.removeListener=function(t,n){var r,o,d,h,s;if(r2(n),o=this._events,o===void 0)return this;if(r=o[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(d=-1,h=r.length-1;h>=0;h--)if(r[h]===n||r[h].listener===n){s=r[h].listener,d=h;break}if(d<0)return this;d===0?r.shift():H$(r,d),r.length===1&&(o[t]=r[0]),o.removeListener!==void 0&&this.emit("removeListener",t,s||n)}return this};qs.prototype.off=qs.prototype.removeListener;qs.prototype.removeAllListeners=function(t){var n,r,o;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var d=Object.keys(r),h;for(o=0;o<d.length;++o)h=d[o],h!=="removeListener"&&this.removeAllListeners(h);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(o=n.length-1;o>=0;o--)this.removeListener(t,n[o]);return this};function z4(e,t,n){var r=e._events;if(r===void 0)return[];var o=r[t];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?Y$(o):F4(o,o.length)}qs.prototype.listeners=function(t){return z4(this,t,!0)};qs.prototype.rawListeners=function(t){return z4(this,t,!1)};qs.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):N4.call(e,t)};qs.prototype.listenerCount=N4;function N4(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}qs.prototype.eventNames=function(){return this._eventsCount>0?Mx(this._events):[]};function F4(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function H$(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Y$(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function q$(e,t){return new Promise(function(n,r){function o(h){e.removeListener(t,d),r(h)}function d(){typeof e.removeListener=="function"&&e.removeListener("error",o),n([].slice.call(arguments))}j4(e,t,d,{once:!0}),t!=="error"&&X$(e,o,{once:!0})})}function X$(e,t,n){typeof e.on=="function"&&j4(e,"error",t,n)}function j4(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function o(d){r.once&&e.removeEventListener(t,o),n(d)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Z$=I5.exports,K$={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}};function J$(e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}function Q$(e){var t=e.match(/<?([^>]*)>(.*)/);if(!t)return null;var n=t[1],r=t[2].split(";"),o=null,d=r.reduce(function(h,s){var b=J$(s);return b?b.key==="rel"?(o||(o=b.value),h):(h[b.key]=b.value,h):h},{});return o?{url:n,rel:o,params:d}:null}function eV(e){return e?e.split(/,\s*</).reduce(function(t,n){var r=Q$(n);if(!r)return t;var o=r.rel.split(/\s+/);return o.forEach(function(d){t[d]||(t[d]={url:r.url,params:r.params})}),t},{}):{}}var tV=eV,iV=tV;function L5(e,t){this.request=e,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch{this.body=t.body}this.links=iV(this.headers.link)}L5.prototype.hasNextPage=function(){return!!this.links.next};L5.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};var nV=L5,s2={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"},qE=s2;function rV(e){var t=e.type||qE.ERROR_HTTP,n;if(e.body)try{n=JSON.parse(e.body)}catch{n=e.body}else n=null;var r=e.message||null;r||(typeof n=="string"?r=n:n&&typeof n.message=="string"?r=n.message:t===qE.ERROR_REQUEST_ABORTED&&(r="Request aborted")),this.message=r,this.type=t,this.statusCode=e.statusCode||null,this.request=e.request,this.body=n}var sV=rV;function oV(e){var t=e.indexOf(":"),n=e.substring(0,t).trim().toLowerCase(),r=e.substring(t+1).trim();return{name:n,value:r}}function aV(e){var t={};return e&&e.trim().split(/[\r|\n]+/).forEach(function(n){var r=oV(n);t[r.name]=r.value}),t}var lV=aV,cV=nV,XE=sV,P3=s2,dV=lV,ab={};function uV(e){var t=ab[e.id];t&&(t.abort(),delete ab[e.id])}function hV(e,t){return new cV(e,{body:t.response,headers:dV(t.getAllResponseHeaders()),statusCode:t.status})}function ZE(e){var t=e.total,n=e.loaded,r=100*n/t;return{total:t,transferred:n,percent:r}}function U4(e,t){return new Promise(function(n,r){t.onprogress=function(h){e.emitter.emit(P3.EVENT_PROGRESS_DOWNLOAD,ZE(h))};var o=e.file;o&&(t.upload.onprogress=function(h){e.emitter.emit(P3.EVENT_PROGRESS_UPLOAD,ZE(h))}),t.onerror=function(h){r(h)},t.onabort=function(){var h=new XE({request:e,type:P3.ERROR_REQUEST_ABORTED});r(h)},t.onload=function(){if(delete ab[e.id],t.status<200||t.status>=400){var h=new XE({request:e,body:t.response,statusCode:t.status});r(h);return}n(t)};var d=e.body;typeof d=="string"?t.send(d):d?t.send(JSON.stringify(d)):o?t.send(o):t.send(),ab[e.id]=t}).then(function(n){return hV(e,n)})}function $4(e,t){var n=e.url(t),r=new window.XMLHttpRequest;return r.open(e.method,n),Object.keys(e.headers).forEach(function(o){r.setRequestHeader(o,e.headers[o])}),r}function pV(e){return Promise.resolve().then(function(){var t=$4(e,e.client.accessToken);return U4(e,t)})}var fV={browserAbort:uV,sendRequestXhr:U4,browserSend:pV,createRequestXhr:$4},lb={exports:{}};/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */lb.exports;(function(e,t){(function(n){var r=t,o=e&&e.exports==r&&e,d=typeof Ra=="object"&&Ra;(d.global===d||d.window===d)&&(n=d);var h=function(L){this.message=L};h.prototype=new Error,h.prototype.name="InvalidCharacterError";var s=function(L){throw new h(L)},b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=/[\t\n\f\r ]/g,J=function(L){L=String(L).replace(R,"");var O=L.length;O%4==0&&(L=L.replace(/==?$/,""),O=L.length),(O%4==1||/[^+a-zA-Z0-9/]/.test(L))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var G=0,M,S,P="",H=-1;++H<O;)S=b.indexOf(L.charAt(H)),M=G%4?M*64+S:S,G++%4&&(P+=String.fromCharCode(255&M>>(-2*G&6)));return P},I=function(L){L=String(L),/[^\0-\xFF]/.test(L)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var O=L.length%3,G="",M=-1,S,P,H,U,E=L.length-O;++M<E;)S=L.charCodeAt(M)<<16,P=L.charCodeAt(++M)<<8,H=L.charCodeAt(++M),U=S+P+H,G+=b.charAt(U>>18&63)+b.charAt(U>>12&63)+b.charAt(U>>6&63)+b.charAt(U&63);return O==2?(S=L.charCodeAt(M)<<8,P=L.charCodeAt(++M),U=S+P,G+=b.charAt(U>>10)+b.charAt(U>>4&63)+b.charAt(U<<2&63)+"="):O==1&&(U=L.charCodeAt(M),G+=b.charAt(U>>2)+b.charAt(U<<4&63)+"=="),G},z={encode:I,decode:J,version:"0.1.0"};if(r&&!r.nodeType)if(o)o.exports=z;else for(var Z in z)z.hasOwnProperty(Z)&&(r[Z]=z[Z]);else n.base64=z})(Ra)})(lb,lb.exports);var mV=lb.exports,gV=mV,D3={};function yV(e){if(D3[e])return D3[e];var t=e.split("."),n=t[0],r=t[1];if(!r)throw new Error("Invalid token");var o=_V(r),d={usage:n,user:o.u};return b0(o,"a")&&(d.authorization=o.a),b0(o,"exp")&&(d.expires=o.exp*1e3),b0(o,"iat")&&(d.created=o.iat*1e3),b0(o,"scopes")&&(d.scopes=o.scopes),b0(o,"client")&&(d.client=o.client),b0(o,"ll")&&(d.lastLogin=o.ll),b0(o,"iu")&&(d.impersonator=o.iu),D3[e]=d,d}function _V(e){try{return JSON.parse(gV.decode(e))}catch{throw new Error("Invalid token")}}function b0(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var V4=yV,G4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(b,R,J){this.fn=b,this.context=R,this.once=J||!1}function d(b,R,J,I,z){if(typeof J!="function")throw new TypeError("The listener must be a function");var Z=new o(J,I||b,z),L=n?n+R:R;return b._events[L]?b._events[L].fn?b._events[L]=[b._events[L],Z]:b._events[L].push(Z):(b._events[L]=Z,b._eventsCount++),b}function h(b,R){--b._eventsCount===0?b._events=new r:delete b._events[R]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var R=[],J,I;if(this._eventsCount===0)return R;for(I in J=this._events)t.call(J,I)&&R.push(n?I.slice(1):I);return Object.getOwnPropertySymbols?R.concat(Object.getOwnPropertySymbols(J)):R},s.prototype.listeners=function(R){var J=n?n+R:R,I=this._events[J];if(!I)return[];if(I.fn)return[I.fn];for(var z=0,Z=I.length,L=new Array(Z);z<Z;z++)L[z]=I[z].fn;return L},s.prototype.listenerCount=function(R){var J=n?n+R:R,I=this._events[J];return I?I.fn?1:I.length:0},s.prototype.emit=function(R,J,I,z,Z,L){var O=n?n+R:R;if(!this._events[O])return!1;var G=this._events[O],M=arguments.length,S,P;if(G.fn){switch(G.once&&this.removeListener(R,G.fn,void 0,!0),M){case 1:return G.fn.call(G.context),!0;case 2:return G.fn.call(G.context,J),!0;case 3:return G.fn.call(G.context,J,I),!0;case 4:return G.fn.call(G.context,J,I,z),!0;case 5:return G.fn.call(G.context,J,I,z,Z),!0;case 6:return G.fn.call(G.context,J,I,z,Z,L),!0}for(P=1,S=new Array(M-1);P<M;P++)S[P-1]=arguments[P];G.fn.apply(G.context,S)}else{var H=G.length,U;for(P=0;P<H;P++)switch(G[P].once&&this.removeListener(R,G[P].fn,void 0,!0),M){case 1:G[P].fn.call(G[P].context);break;case 2:G[P].fn.call(G[P].context,J);break;case 3:G[P].fn.call(G[P].context,J,I);break;case 4:G[P].fn.call(G[P].context,J,I,z);break;default:if(!S)for(U=1,S=new Array(M-1);U<M;U++)S[U-1]=arguments[U];G[P].fn.apply(G[P].context,S)}}return!0},s.prototype.on=function(R,J,I){return d(this,R,J,I,!1)},s.prototype.once=function(R,J,I){return d(this,R,J,I,!0)},s.prototype.removeListener=function(R,J,I,z){var Z=n?n+R:R;if(!this._events[Z])return this;if(!J)return h(this,Z),this;var L=this._events[Z];if(L.fn)L.fn===J&&(!z||L.once)&&(!I||L.context===I)&&h(this,Z);else{for(var O=0,G=[],M=L.length;O<M;O++)(L[O].fn!==J||z&&!L[O].once||I&&L[O].context!==I)&&G.push(L[O]);G.length?this._events[Z]=G.length===1?G[0]:G:h(this,Z)}return this},s.prototype.removeAllListeners=function(R){var J;return R?(J=n?n+R:R,this._events[J]&&h(this,J)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(G4);var vV=G4.exports;function xV(e){return e.map(encodeURIComponent).join(",")}function W4(e){return Array.isArray(e)?xV(e):encodeURIComponent(String(e))}function H4(e,t,n){if(n===!1||n===null)return e;var r=/\?/.test(e)?"&":"?",o=encodeURIComponent(t);return n!==void 0&&n!==""&&n!==!0&&(o+="="+W4(n)),""+e+r+o}function bV(e,t){if(!t)return e;var n=e;return Object.keys(t).forEach(function(r){var o=t[r];o!==void 0&&(Array.isArray(o)&&(o=o.filter(function(d){return d!=null}).join(",")),n=H4(n,r,o))}),n}function wV(e,t){if(!t||e.slice(0,4)==="http")return e;var n=e[0]==="/"?"":"/";return""+t.replace(/\/$/,"")+n+e}function TV(e,t){return t?e.replace(/\/:([a-zA-Z0-9]+)/g,function(n,r){var o=t[r];if(o===void 0)throw new Error("Unspecified route parameter "+r);var d=W4(o);return"/"+d}):e}var SV={appendQueryObject:bV,appendQueryParam:H4,prependOrigin:wV,interpolateRouteParams:TV},CV=V4,O5=Hg,EV=vV,ux=SV,KE=s2,MV=1;function vf(e,t){if(!e)throw new Error("MapiRequest requires a client");if(!t||!t.path||!t.method)throw new Error("MapiRequest requires an options object with path and method properties");var n={};t.body&&(n["content-type"]="application/json");var r=O5(n,t.headers),o=Object.keys(r).reduce(function(d,h){return d[h.toLowerCase()]=r[h],d},{});this.id=MV++,this._options=t,this.emitter=new EV,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=t.path,this.method=t.method,this.origin=t.origin||e.origin,this.query=t.query||{},this.params=t.params||{},this.body=t.body||null,this.file=t.file||null,this.encoding=t.encoding||"utf8",this.sendFileAs=t.sendFileAs||null,this.headers=o}vf.prototype.url=function(t){var n=ux.prependOrigin(this.path,this.origin);n=ux.appendQueryObject(n,this.query);var r=this.params,o=t??this.client.accessToken;if(o){n=ux.appendQueryParam(n,"access_token",o);var d=CV(o).user;r=O5({ownerId:d},r)}return n=ux.interpolateRouteParams(n,r),n};vf.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then(function(n){return t.response=n,t.emitter.emit(KE.EVENT_RESPONSE,n),n},function(n){throw t.error=n,t.emitter.emit(KE.EVENT_ERROR,n),n})};vf.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))};vf.prototype.eachPage=function(t){var n=this;function r(h){function s(){delete n._nextPageRequest;var b=h.nextPage();b&&(n._nextPageRequest=b,d(b))}t(null,h,s)}function o(h){t(h,null,function(){})}function d(h){h.send().then(r,o)}d(this)};vf.prototype.clone=function(){return this._extend()};vf.prototype._extend=function(t){var n=O5(this._options,t);return new vf(this.client,n)};var kV=vf,AV=V4,PV=kV,DV=s2;function Y4(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");AV(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||DV.API_ORIGIN}Y4.prototype.createRequest=function(t){return new PV(this,t)};var q4=Y4,X4=fV,Z4=q4;function zg(e){Z4.call(this,e)}zg.prototype=Object.create(Z4.prototype);zg.prototype.constructor=zg;zg.prototype.sendRequest=X4.browserSend;zg.prototype.abortRequest=X4.browserAbort;function IV(e){return new zg(e)}var K4=IV,LV=K4,OV=LV,RV=Object.prototype.toString,BV=function(e){var t;return RV.call(e)==="[object Object]"&&(t=Object.getPrototypeOf(e),t===null||t===Object.getPrototypeOf({}))},zV=BV,NV=Hg,J4="value",I3=`
  `,po={};po.assert=function(e,t){return t=t||{},function(n){var r=xf(e,n);if(r){var o=R5(r,t);throw t.apiName&&(o=t.apiName+": "+o),new Error(o)}}};po.shape=function(t){var n=$V(t);return function(o){var d=xf(po.plainObject,o);if(d)return d;for(var h,s,b=[],R=0;R<n.length;R++)h=n[R].key,s=n[R].value,d=xf(s,o[h]),d&&b.push([h].concat(d));return b.length<2?b[0]:function(J){b=b.map(function(Z){var L=Z[0],O=R5(Z,J).split(`
`).join(I3);return"- "+L+": "+O});var I=J.path.join("."),z=I===J4?"":" of "+I;return"The following properties"+z+" have invalid values:"+I3+b.join(I3)}}};po.strictShape=function(t){var n=po.shape(t);return function(o){var d=n(o);if(d)return d;var h=Object.keys(o).reduce(function(s,b){return t[b]===void 0&&s.push(b),s},[]);if(h.length!==0)return function(){return"The following keys are invalid: "+h.join(", ")}}};po.arrayOf=function(t){return Q4(t)};po.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return Q4(t)};function Q4(e){var t=Array.isArray(e),n=function(r){return t?e[r]:e};return function(o){var d=xf(po.plainArray,o);if(d)return d;if(t&&o.length!==e.length)return"an array with "+e.length+" items";for(var h=0;h<o.length;h++)if(d=xf(n(h),o[h]),d)return[h].concat(d)}}po.required=function(t){function n(r){return r==null?function(o){return e6(o,t6(o.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return n.__required=!0,n};po.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(r){var o=t.map(function(d){return xf(d,r)}).filter(Boolean);if(o.length===t.length)return o.every(function(d){return d.length===1&&typeof d[0]=="string"})?FV(o.map(function(d){return d[0]})):o.reduce(function(d,h){return h.length>d.length?h:d})}};po.equal=function(t){return function(r){if(r!==t)return JSON.stringify(t)}};po.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),n=t.map(function(r){return po.equal(r)});return po.oneOfType.apply(this,n)};po.range=function(t){var n=t[0],r=t[1];return function(d){var h=xf(po.number,d);if(h||d<n||d>r)return"number between "+n+" & "+r+" (inclusive)"}};po.any=function(){};po.boolean=function(t){if(typeof t!="boolean")return"boolean"};po.number=function(t){if(typeof t!="number")return"number"};po.plainArray=function(t){if(!Array.isArray(t))return"array"};po.plainObject=function(t){if(!zV(t))return"object"};po.string=function(t){if(typeof t!="string")return"string"};po.func=function(t){if(typeof t!="function")return"function"};function xf(e,t){if(!(t==null&&!e.hasOwnProperty("__required"))){var n=e(t);if(n)return Array.isArray(n)?n:[n]}}function R5(e,t){var n=e.length,r=e[n-1],o=e.slice(0,n-1);return o.length===0&&(o=[J4]),t=NV(t,{path:o}),typeof r=="function"?r(t):e6(t,jV(r))}function FV(e){return e.length<2?e[0]:e.length===2?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e.slice(-1)}function jV(e){return"must be "+UV(e)+"."}function UV(e){return/^an? /.test(e)?e:/^[aeiou]/i.test(e)?"an "+e:/^[a-z]/i.test(e)?"a "+e:e}function e6(e,t){var n=t6(e.path),r=e.path.join(".")+" "+t,o=n?"Item at position ":"";return o+r}function t6(e){return typeof e[e.length-1]=="number"||typeof e[0]=="number"}function $V(e){return Object.keys(e||{}).map(function(t){return{key:t,value:e[t]}})}po.validate=xf;po.processMessage=R5;var VV=po,GV=Hg,Cg=VV;function WV(e){if(typeof window<"u")return e instanceof Ra.Blob||e instanceof Ra.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof e=="string"||e.pipe!==void 0))return"Filename or Readable stream"}function HV(e,t){return Cg.assert(Cg.strictShape(e),t)}function YV(e){var t="date";if(typeof e=="boolean")return t;try{var n=new Date(e);if(n.getTime&&isNaN(n.getTime()))return t}catch{return t}}function qV(e){return Cg.tuple(Cg.number,Cg.number)(e)}var XV=GV(Cg,{file:WV,date:YV,coordinates:qV,assertShape:HV});function ZV(e,t){var n=function(r,o){return t.indexOf(r)!==-1&&o!==void 0};return typeof t=="function"&&(n=t),Object.keys(e).filter(function(r){return n(r,e[r])}).reduce(function(r,o){return r[o]=e[o],r},{})}var KV=ZV;function JV(e,t){return Object.keys(e).reduce(function(n,r){return n[r]=t(r,e[r]),n},{})}var QV=JV,eG=QV;function tG(e){return eG(e,function(t,n){return typeof n=="boolean"?JSON.stringify(n):n})}var iG=tG,nG=q4,rG=K4;function sG(e){return function(t){var n;nG.prototype.isPrototypeOf(t)?n=t:n=rG(t);var r=Object.create(e);return r.client=n,r}}var oG=sG,i6=Hg,ss=XV,cb=KV,n6=iG,aG=oG,B5={},r6=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];B5.forwardGeocode=function(e){ss.assertShape({query:ss.required(ss.string),mode:ss.oneOf("mapbox.places","mapbox.places-permanent"),countries:ss.arrayOf(ss.string),proximity:ss.oneOf(ss.coordinates,"ip"),types:ss.arrayOf(ss.oneOf(r6)),autocomplete:ss.boolean,bbox:ss.arrayOf(ss.number),limit:ss.number,language:ss.arrayOf(ss.string),routing:ss.boolean,fuzzyMatch:ss.boolean,worldview:ss.string})(e),e.mode=e.mode||"mapbox.places";var t=n6(i6({country:e.countries},cb(e,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:cb(e,["mode","query"]),query:t})};B5.reverseGeocode=function(e){ss.assertShape({query:ss.required(ss.coordinates),mode:ss.oneOf("mapbox.places","mapbox.places-permanent"),countries:ss.arrayOf(ss.string),types:ss.arrayOf(ss.oneOf(r6)),bbox:ss.arrayOf(ss.number),limit:ss.number,language:ss.arrayOf(ss.string),reverseMode:ss.oneOf("distance","score"),routing:ss.boolean,worldview:ss.string})(e),e.mode=e.mode||"mapbox.places";var t=n6(i6({country:e.countries},cb(e,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:cb(e,["mode","query"]),query:t})};var lG=aG(B5);let cG="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",s6=e=>crypto.getRandomValues(new Uint8Array(e)),o6=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(d=t)=>{let h="";for(;;){let s=n(o),b=o;for(;b--;)if(h+=e[s[b]&r]||"",h.length===d)return h}}},dG=(e,t=21)=>o6(e,t,s6),uG=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const hG=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:dG,customRandom:o6,nanoid:uG,random:s6,urlAlphabet:cG},Symbol.toStringTag,{value:"Module"})),pG=pM(hG);var fG=pG.nanoid;function a6(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}a6.prototype={select:function(e,t){var n=this.getSelectedIndex(e,t),r=this.getEventPayload("search.select",t);if(r.resultIndex=n,r.resultPlaceName=e.place_name,r.resultId=e.id,!(n===this.lastSentIndex&&r.queryString===this.lastSentInput||n==-1)&&(this.lastSentIndex=n,this.lastSentInput=r.queryString,!!r.queryString))return this.push(r)},start:function(e){var t=this.getEventPayload("search.start",e);if(t.queryString)return this.push(t)},keyevent:function(e,t){if(e.key&&!(e.metaKey||[9,27,37,39,13,38,40].indexOf(e.keyCode)!==-1)){var n=this.getEventPayload("search.keystroke",t);if(n.lastAction=e.key,!!n.queryString)return this.push(n)}},send:function(e,t){if(!this.enableEventLogging)return t?t():void 0;var n=this.getRequestOptions(e);this.request(n,(function(r){if(r)return this.handleError(r,t);if(t)return t()}).bind(this))},getRequestOptions:function(e){Array.isArray(e)||(e=[e]);var t={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return t},getEventPayload:function(e,t){var n;t.options.proximity?typeof t.options.proximity=="object"?n=[t.options.proximity.longitude,t.options.proximity.latitude]:t.options.proximity==="ip"?n=[999,999]:n=t.options.proximity:n=null;var r=t._map?t._map.getZoom():void 0,o={event:e,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:t.options.autocomplete,fuzzyMatch:t.options.fuzzyMatch,proximity:n,limit:t.options.limit,routing:t.options.routing,worldview:t.options.worldview,mapZoom:r,keyboardLocale:this.locale};return e==="search.select"?o.queryString=t.inputString:e!="search.select"&&t._inputEl?o.queryString=t._inputEl.value:o.queryString=t.inputString,o},request:function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(this.readyState==4)return this.status==204?t(null):t(this.statusText)},n.open(e.method,e.host+"/"+e.path,!0);for(var r in e.headers){var o=e.headers[r];n.setRequestHeader(r,o)}n.send(e.body)},handleError:function(e,t){if(t)return t(e)},generateSessionID:function(){return fG()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,t){if(t._typeahead){var n=t._typeahead.data,r=e.id,o=n.map(function(h){return h.id}),d=o.indexOf(r);return d}},shouldEnableLogging:function(e){return!(e.enableEventLogging===!1||e.origin&&e.origin!=="https://api.mapbox.com"||e.localGeocoder||e.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,t){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}};var mG=a6,gG={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"},yG={placeholder:gG},l6={exports:{}};(function(e){(function(t,n,r){e.exports?e.exports=r():t[n]=r()})(Ra,"subtag",function(){var t="",n=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function r(b){return b.match(n)||[]}function o(b){return r(b).filter(function(R,J){return R&&J})}function d(b){return b=r(b),{language:b[1]||t,extlang:b[2]||t,script:b[3]||t,region:b[4]||t}}function h(b,R,J){Object.defineProperty(b,R,{value:J,enumerable:!0})}function s(b,R,J){function I(z){return r(z)[b]||t}h(I,"pattern",R),h(d,J,I)}return s(1,/^[a-zA-Z]{2,3}$/,"language"),s(2,/^[a-zA-Z]{3}$/,"extlang"),s(3,/^[a-zA-Z]{4}$/,"script"),s(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),h(d,"split",o),d})})(l6);var _G=l6.exports;function c6(){}c6.prototype={isSupport:function(){return!!window.navigator.geolocation},getCurrentPosition:function(){const e={enableHighAccuracy:!0};return new Promise(function(t,n){window.navigator.geolocation.getCurrentPosition(t,n,e)})}};var vG=c6;function xG(e,t){const n=d6(e),r=["address","street","place","country"];var o;if(typeof t=="function")return t(n);const d=r.indexOf(t);return d===-1?o=r:o=r.slice(d),o.reduce(function(h,s){return n[s]?(h!==""&&(h=h+", "),h+n[s]):h},"")}function d6(e){const t=e.address||"",n=e.text||"",r=e.place_name||"",d={address:r.split(",")[0],houseNumber:t,street:n,placeName:r};return e.context.forEach(function(h){const s=h.id.split(".")[0];d[s]=h.text}),d}const bG=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;var wG={transformFeatureToGeolocationText:xG,getAddressInfo:d6,REVERSE_GEOCODE_COORD_RGX:bG},TG=C$,SG=V$,S0=Hg,CG=Z$.EventEmitter,JE=K$,L3=OV,O3=lG,EG=mG,MG=yG,kG=_G,AG=vG,QE=wG;const Zp={FORWARD:0,LOCAL:1,REVERSE:2};function PG(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function u6(e){this._eventEmitter=new CG,this.options=S0({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new AG}u6.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(e){return e.place_name},render:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"}},addTo:function(e){function t(n,r){if(!document.body.contains(r))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const o=n.onAdd();r.appendChild(o)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){const n=document.querySelectorAll(e);if(n.length===0)throw new Error("Element ",e,"not found.");if(n.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,n[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=O3(L3({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new EG(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var n=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",SG(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",(function(R){this.eventManager.keyevent(R,this)}).bind(this));var r=document.createElement("div");r.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var o=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(o),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),r.appendChild(this._clearEl),r.appendChild(this._loadingEl),t.appendChild(n),t.appendChild(this._inputEl),t.appendChild(r),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var d=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(d),r.appendChild(this._geolocateEl),this._showGeolocateButton()}var h=this._typeahead=new TG(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),h.getItemValue=this.options.getItemValue;var s=h.list.draw,b=this._footerNode=PG();return h.list.draw=function(){s.call(this),b.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),b.addEventListener("mouseup",(function(){this.selectingListItem=!1}).bind(this)),this.element.appendChild(b)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),t},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then((function(e){this._hideLoadingIcon();const t={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(t),this._fly(t),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(t),this._showClearButton(),this.fresh=!1;const n={limit:1,language:[this.options.language],query:t.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){const r=t.geometry.coordinates[0]+","+t.geometry.coordinates[1];this._setInputValue(r),this._eventEmitter.emit("result",{result:t})}else this.geocoderService.reverseGeocode(n).send().then((function(r){const o=r.body.features[0];if(o){const d=QE.transformFeatureToGeolocationText(o,this.options.addressAccuracy);this._setInputValue(d),o.user_coordinates=t.geometry.coordinates,this._eventEmitter.emit("result",{result:o})}else this._eventEmitter.emit("result",{result:{user_coordinates:t.geometry.coordinates}})}).bind(this))}).bind(this)).catch((function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}).bind(this))},createIcon:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),n.setAttribute("viewBox","0 0 18 18"),n.setAttribute("xml:space","preserve"),n.setAttribute("width",18),n.setAttribute("height",18),n.innerHTML=t,n},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout((function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}).bind(this),1)},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this._geocode(t)},_onKeyDown:function(e){var t=27,n=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var r=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,o=r?r.value:"";if(!o)return this.fresh=!0,e.keyCode!==n&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(e.metaKey||[n,t,37,39,13,38,40].indexOf(e.keyCode)!==-1)&&r.value.length>=this.options.minLength&&this._geocode(r.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var t;if(e.properties&&JE[e.properties.short_code])t=S0({},this.options.flyTo),this._map&&this._map.fitBounds(JE[e.properties.short_code].bbox,t);else if(e.bbox){var n=e.bbox;t=S0({},this.options.flyTo),this._map&&this._map.fitBounds([[n[0],n[1]],[n[2],n[3]]],t)}else{var r={zoom:this.options.zoom};t=S0({},r,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}},_requestType:function(e,t){var n;return e.localGeocoderOnly?n=Zp.LOCAL:e.reverseGeocode&&QE.REVERSE_GEOCODE_COORD_RGX.test(t)?n=Zp.REVERSE:n=Zp.FORWARD,n},_setupConfig:function(e,t){const n=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],r=/[\s,]+/;var o=this,d=n.reduce(function(s,b){if(o.options[b]===void 0||o.options[b]===null)return s;["countries","types","language"].indexOf(b)>-1?s[b]=o.options[b].split(r):s[b]=o.options[b];const R=typeof o.options[b].longitude=="number"&&typeof o.options[b].latitude=="number";if(b==="proximity"&&R){const J=o.options[b].longitude,I=o.options[b].latitude;s[b]=[J,I]}return s},{});switch(e){case Zp.REVERSE:{var h=t.split(r).map(function(s){return parseFloat(s,10)});o.options.flipCoordinates||h.reverse(),d.types&&d.types[0],d=S0(d,{query:h,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(s){s in d&&delete d[s]})}break;case Zp.FORWARD:{const s=t.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(s)&&(t=t.replace(/,/g," ")),d=S0(d,{query:t})}break}return d},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});const t=this._requestType(this.options,e),n=this._setupConfig(t,e);var r;switch(t){case Zp.LOCAL:r=Promise.resolve();break;case Zp.FORWARD:r=this.geocoderService.forwardGeocode(n).send();break;case Zp.REVERSE:r=this.geocoderService.reverseGeocode(n).send();break}var o=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],d=[],h=null;return r.catch((function(s){h=s}).bind(this)).then((function(s){this._hideLoadingIcon();var b={};return s?s.statusCode=="200"&&(b=s.body,b.request=s.request,b.headers=s.headers):b={type:"FeatureCollection",features:[]},b.config=n,this.fresh&&(this.eventManager.start(this),this.fresh=!1),b.features=b.features?o.concat(b.features):o,this.options.externalGeocoder?(d=this.options.externalGeocoder(e,b.features)||Promise.resolve([]),d.then(function(R){return b.features=b.features?R.concat(b.features):R,b},function(){return b})):b}).bind(this)).then((function(s){if(h)throw h;this.options.filter&&s.features.length&&(s.features=s.features.filter(this.options.filter)),s.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",s),this._typeahead.update(s.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",s))}).bind(this)).catch((function(s){this._hideLoadingIcon(),this._hideAttribution(),o.length&&this.options.localGeocoder||d.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(o)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:o}),this._eventEmitter.emit("error",{error:s})}).bind(this)),r},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var t=this;e.relatedTarget&&t._clear(e)},_onQueryResult:function(e){var t=e.body;if(t.features.length){var n=t.features[0];this._typeahead.selected=n,this._inputEl.value=n.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderLocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderUserDeniedGeolocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=kG.language(e),n=MG.placeholder[t];if(n)return n}return"Search"},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this._geocode(e),this},setProximity:function(e,t=!0){return this.options.proximity=e,t&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=O3(L3({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=O3(L3({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var t={color:"#4668F2"},n=S0({},t,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(n),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this.eventManager.remove(),this}};var DG=u6;const IG=uh(DG);function LG(){return{map:B0("mapbox-map")}}var R3=new Map,OG=/onMb([A-Z])(.+)/;function RG(e){return R3.has(e)||R3.set(e,e.replace(OG,(t,n,r)=>n.toLowerCase()+r)),R3.get(e)}function h6(e,t,n=[],r=null){const o=kS(),d=hn(()=>Object.entries(o).filter(([R,J])=>R.startsWith("on")&&typeof J=="function").map(([R])=>R)),h=new Map;function s(R){Array.isArray(R)&&R.forEach(J=>{const I=h.get(J);typeof I=="function"&&I()})}function b(R){Array.isArray(R)&&R.forEach(J=>{const I=RG(J);if(!n.includes(I))return;const z=(...Z)=>{e(`mb-${I}`,...Z)};r?(Ii(t).on(I,r,z),h.set(J,()=>{Ii(t).off(I,r,z)})):(Ii(t).on(I,z),h.set(J,()=>{Ii(t).off(I,z)}))})}ha(d,(R,J)=>{const I=Array.isArray(R)?(J??[]).filter(Z=>!R.includes(Z)):J??[],z=Array.isArray(J)?(R??[]).filter(Z=>!J.includes(Z)):R??[];if(Ii(t))s(I),b(z);else{const Z=ha(t,L=>{L&&(s(I),b(z),Z())})}},{immediate:!0})}function BG(e){return e.charAt(0).toUpperCase()+e.slice(1)}function p6(e,t,n){function r(o){Object.keys(e).filter(d=>e[d]!==void 0&&e[d]!==null).forEach(d=>{var h,s;const b=d==="mapStyle"?"setStyle":`set${BG(d)}`,R=typeof o[b]=="function",J=typeof n[d]>"u"||"bind"in n[d]?(s=(h=n[d])==null?void 0:h.bind)!=null?s:!1:!0;if(!R||!J)return;const{type:I}=e[d],z={deep:I===Object||Array.isArray(I)&&I.includes(Object)};ha(()=>e[d],Z=>{o[b](Z)},z)})}if(Ii(t))r(Ii(t));else{const o=ha(t,d=>{d&&(r(d),o())})}}function zG(e,{propsConfig:t,props:n,emit:r,events:o=[]}){const{map:d}=LG(),h=sn();return Array.isArray(o)&&o.length&&h6(r,h,o),typeof t<"u"&&p6(n,h,t),ha(()=>n.position,s=>{Ii(d)&&Ii(d).removeControl(Ii(h)).addControl(Ii(h),s)}),Ko(async()=>{const s=new e(n);Ii(d)&&Ii(d).addControl(s,n.position),await yc(),h.value=s}),hh(()=>{Ii(h)&&Ii(d)&&Ii(d).removeControl(Ii(h))}),{control:h,map:d}}var f6=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};if(!_c)throw new Error("mapboxgl is not installed.");if(!IG)throw new Error("MapboxGeocoder is not installed.");var NG={key:0},FG={key:1};if(!_c)throw new Error("mapboxgl is not installed.");var{LngLatBounds:eM,LngLat:jG}=_c,tM={accessToken:{type:String,default:"no-token"},container:{type:[typeof HTMLElement<"u"&&HTMLElement,String],default:void 0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:22},minPitch:{type:Number,default:0},maxPitch:{type:Number,default:60},mapStyle:{type:[Object,String],required:!0},hash:{type:Boolean,default:!1},interactive:{type:Boolean,default:!0},bearingSnap:{type:Number,default:7},pitchWithRotate:{type:Boolean,default:!0},clickTolerance:{type:Number,default:3},attributionControl:{type:Boolean,default:!0},customAttribution:{type:[String,Array],default:null},logoPosition:{type:String,default:"bottom-left"},failIfMajorPerformanceCaveat:{type:Boolean,default:!1},preserveDrawingBuffer:{type:Boolean,default:!1},antialias:{type:Boolean,default:!1},refreshExpiredTiles:{type:Boolean,default:!0},maxBounds:{type:[eM,Array],default:void 0},scrollZoom:{type:[Boolean,Object],default:!0},boxZoom:{type:Boolean,default:!0},dragRotate:{type:Boolean,default:!0},dragPan:{type:[Boolean,Object],default:!0},keyboard:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},touchZoomRotate:{type:[Boolean,Object],default:!0},trackResize:{type:Boolean,default:!0},center:{type:[jG,Array,Object],default:()=>[0,0]},zoom:{type:Number,default:0},bearing:{type:Number,default:0},pitch:{type:Number,default:0},bounds:{type:[eM,Array],default:void 0},fitBoundsOptions:{type:Object,default:null},renderWorldCopies:{type:Boolean,default:!0},maxTileCacheSize:{type:Number,default:null},localIdeographFontFamily:{type:String,default:"sans-serif"},transformRequest:{type:Function,default:null},collectResourceTiming:{type:Boolean,default:!1},fadeDuration:{type:Number,default:300},crossSourceCollisions:{type:Boolean,default:!0}},UG=["boxzoomcancel","boxzoomend","boxzoomstart","click","contextmenu","data","dataloading","dblclick","drag","dragend","dragstart","error","idle","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","move","moveend","movestart","pitch","pitchend","pitchstart","remove","render","resize","rotate","rotateend","rotatestart","sourcedata","sourcedataloading","styledata","styledataloading","styleimagemissing","touchcancel","touchend","touchmove","touchstart","webglcontextlost","webglcontextrestored","wheel","zoom","zoomend","zoomstart"],$G={inheritAttrs:!1},VG=Object.assign($G,{__name:"MapboxMap",props:tM,setup(e,{expose:t,emit:n}){const r=e,o=sn();Vg("mapbox-map",o);const d=sn(),h=sn(!1),s=hn(()=>{const{accessToken:b,mapStyle:R,...J}=r;return!J.container&&d.value&&(J.container=d.value),{style:R,...J}});return h6(n,o,UG),p6(r,o,tM),Ko(()=>{_c.accessToken=r.accessToken,o.value=new _c.Map(s.value),o.value.on("load",()=>{h.value=!0}),n("mb-created",o.value);const b=new ResizeObserver(()=>{o.value.resize()});b.observe(s.value.container),hh(()=>{b.disconnect(),o.value.remove()})}),t({map:o}),(b,R)=>(wt(),Ot(ln,null,[Ye("div",Yo({ref_key:"root",ref:d},b.$attrs),null,16),h.value?(wt(),Ot("div",NG,[xn(b.$slots,"default")])):(wt(),Ot("div",FG,[xn(b.$slots,"loader")]))],64))}}),o2=f6(VG,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxMap.vue"]]);if(!_c)throw new Error("mapboxgl is not installed.");var iM={showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:{type:Boolean,default:!1},position:{type:String,default:"top-right",bind:!1}},GG={__name:"MapboxNavigationControl",props:iM,setup(e,{expose:t}){const n=e,{NavigationControl:r}=_c,{control:o}=zG(r,{props:n,propsConfig:iM});return t({control:o}),(d,h)=>(wt(),Ot("div"))}},a2=f6(GG,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxNavigationControl.vue"]]);const Zr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},WG={props:{fleets:Array},data(){return{isExpand:!1,keyword:""}},methods:{searchExpand(){this.isExpand=!this.isExpand;let e=this.$refs.searchBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="40px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},search(){this.keyword.length>=2&&!this.isExpand&&this.searchExpand(),this.keyword.length==0&&this.isExpand&&this.searchExpand()},selected(e){this.$emit("selected",e)}},computed:{filters(){return this.fleets.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase()))}}},HG={class:"ships-list position-absolute",ref:"cSearch"},YG={class:"card",style:{height:"100%"}},qG={class:"card-header search"},XG={action:"#",method:"get",style:{width:"100%"}},ZG={class:"input-icon"},KG=Mu('<span class="input-icon-addon"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg></span>',1),JG={class:"card-actions btn-actions"},QG={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},eW=Ye("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),tW=Ye("polyline",{points:"15 6 9 12 15 18"},null,-1),iW=[eW,tW],nW={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},rW=Ye("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),sW=Ye("polyline",{points:"6 9 12 15 18 9"},null,-1),oW=[rW,sW],aW={class:"card-body card-body-scrollable card-body-scrollable-shadow search-body",ref:"searchBody"},lW={class:"divide-y pointer"},cW=["onClick"],dW={class:"row"},uW=Ye("div",{class:"col-auto"},[Ye("span",{class:"avatar",style:{"background-image":"url('')"}})],-1),hW={class:"col p-0"},pW={class:"text-truncate"},fW={class:"text-muted text-sm"},mW={key:0,class:"col-auto"},gW=Ye("div",{class:"badge bg-success"},null,-1),yW=Ye("span",{class:"text-xs ml-1"},"Online",-1),_W={class:"text-xs"},vW={key:1,class:"col-auto"},xW=Ye("div",{class:"badge bg-danger"},null,-1),bW=Ye("span",{class:"text-xs ml-1"},"Offline",-1),wW={class:"text-xs"};function TW(e,t,n,r,o,d){return wt(),Ot("div",HG,[Ye("div",YG,[Ye("div",qG,[Ye("form",XG,[Ye("div",ZG,[KG,ho(Ye("input",{type:"text",onKeyup:t[0]||(t[0]=(...h)=>d.search&&d.search(...h)),"onUpdate:modelValue":t[1]||(t[1]=h=>o.keyword=h),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[Tu,o.keyword]])])]),Ye("div",JG,[Ye("a",{href:"#",class:"btn-action",onClick:t[2]||(t[2]=(...h)=>d.searchExpand&&d.searchExpand(...h))},[o.isExpand?yi("",!0):(wt(),Ot("svg",QG,iW)),o.isExpand?(wt(),Ot("svg",nW,oW)):yi("",!0)])])]),Ye("div",aW,[Ye("div",lW,[(wt(!0),Ot(ln,null,Mr(d.filters,h=>(wt(),Ot("div",{key:h.id,onClick:s=>d.selected(h)},[Ye("div",dW,[uW,Ye("div",hW,[Ye("div",pW,Qi(h.name),1),Ye("div",fW,Qi(h.imo_number),1)]),h.connected?(wt(),Ot("div",mW,[gW,yW,Ye("div",_W,Qi(e.$filters.dateformat(h.last_connection,"DD/MM HH:mm")),1)])):yi("",!0),h.connected?yi("",!0):(wt(),Ot("div",vW,[xW,bW,Ye("div",wW,Qi(e.$filters.dateformat(h.last_connection,"DD/MM HH:mm")),1)]))])],8,cW))),128))])],512)])],512)}const m6=Zr(WG,[["render",TW]]),SW={data(){return{isExpand:!0,notifications:[{id:1,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:2,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:3,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:4,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:5,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:6,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:7,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:8,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},Yg=e=>(K0("data-v-cbda607e"),e=e(),J0(),e),CW={class:"ships-notification",ref:"cSearch"},EW={class:"card",style:{height:"100%"}},MW={class:"card-header search"},kW=Yg(()=>Ye("h4",{class:"card-title"}," Active Notifications ",-1)),AW={class:"card-actions btn-actions"},PW={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},DW=Yg(()=>Ye("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),IW=Yg(()=>Ye("polyline",{points:"15 6 9 12 15 18"},null,-1)),LW=[DW,IW],OW={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},RW=Yg(()=>Ye("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),BW=Yg(()=>Ye("polyline",{points:"6 9 12 15 18 9"},null,-1)),zW=[RW,BW],NW={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},FW={class:"divide-y"},jW=Mu('<div class="notif-status" data-v-cbda607e><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/alarm.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Alarm</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/volume.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>4</span></div><div data-v-cbda607e>Warning</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/caution.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Caution</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/info-blue.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Info</div></div></div>',1),UW={class:"row"},$W=Yg(()=>Ye("div",{class:"col-auto"},[Ye("img",{src:"img/icons/caution.png",alt:"",width:"20"})],-1)),VW={class:"col"},GW={class:"fw-bold"},WW={class:"text-sm"};function HW(e,t,n,r,o,d){return wt(),Ot("div",CW,[Ye("div",EW,[Ye("div",MW,[kW,Ye("div",AW,[Ye("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...h)=>d.notifExpand&&d.notifExpand(...h))},[o.isExpand?yi("",!0):(wt(),Ot("svg",PW,LW)),o.isExpand?(wt(),Ot("svg",OW,zW)):yi("",!0)])])]),Ye("div",NW,[Ye("div",FW,[jW,(wt(!0),Ot(ln,null,Mr(o.notifications,h=>(wt(),Ot("div",{key:h.id,class:"py-2 border-bottom border-white"},[Ye("div",UW,[$W,Ye("div",VW,[Ye("div",GW,Qi(h.title),1),ws(" "+Qi(h.desc)+" ",1),Ye("div",WW,Qi(h.date),1)])])]))),128))])],512)])],512)}const g6=Zr(SW,[["render",HW],["__scopeId","data-v-cbda607e"]]),YW={},qW={class:"ships-records"},XW=Mu('<div class="card" data-v-b06cef02><div class="card-header" data-v-b06cef02><div class="text-center" data-v-b06cef02><img src="img/singapore.png" alt="" data-v-b06cef02><div class="text-white" data-v-b06cef02>PRO</div></div><div class="w-100 d-flex align-items-start justify-content-between" data-v-b06cef02><div class="card-title" data-v-b06cef02><div data-v-b06cef02>Widuri</div><small class="text-white" data-v-b06cef02>Fleet II</small></div><div class="card-status" data-v-b06cef02><div class="status-box bg-online" data-v-b06cef02></div><div class="text-white" data-v-b06cef02>Online</div></div></div></div><div class="card-body" data-v-b06cef02><div data-v-b06cef02>under way using engine</div><div class="d-flex align-items-center justify-content-between" data-v-b06cef02><div data-v-b06cef02>ATD 27/5</div><div data-v-b06cef02>ETA 10/6</div></div><div class="d-flex align-items-center justify-content-between mb-3" data-v-b06cef02><div data-v-b06cef02>Singapura</div><div data-v-b06cef02>Jakarta</div></div><div class="ships-route-ltr" data-v-b06cef02></div></div></div>',1),ZW=[XW];function KW(e,t,n,r,o,d){return wt(),Ot("div",qW,ZW)}const y6=Zr(YW,[["render",KW],["__scopeId","data-v-b06cef02"]]),JW={},QW={class:"ships-navigations"},eH=Mu('<div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div><div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div>',2),tH=[eH];function iH(e,t,n,r,o,d){return wt(),Ot("div",QW,tH)}const _6=Zr(JW,[["render",iH],["__scopeId","data-v-23fc79b0"]]),nH={},rH={class:"ships-camera"},sH=Mu('<a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Front View</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a><a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Bridge</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a>',2),oH=[sH];function aH(e,t,n,r,o,d){return wt(),Ot("div",rH,oH)}const v6=Zr(nH,[["render",aH],["__scopeId","data-v-34ce2568"]]),lH={data(){return{isExpand:!0,parameter:[{id:1,title:"SPEED THROUGH WATER",value:"13.8",format:"KNOTS"},{id:2,title:"SPEED OVER GROUND",value:"14.9",format:"KNOTS"},{id:3,title:"ME SHAFT POWER",value:"4852",format:"KW"},{id:4,title:"ME RPM",value:"95",format:"RPM"},{id:5,title:"ME FO",value:"26.5",format:"FO"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},Cf=e=>(K0("data-v-82e529c6"),e=e(),J0(),e),cH={class:"ships-parameter",ref:"cSearch"},dH={class:"card",style:{height:"100%"}},uH={class:"card-header search"},hH=Cf(()=>Ye("h4",{class:"card-title"}," KEY PARAMETER ",-1)),pH={class:"card-actions btn-actions"},fH={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},mH=Cf(()=>Ye("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),gH=Cf(()=>Ye("polyline",{points:"15 6 9 12 15 18"},null,-1)),yH=[mH,gH],_H={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},vH=Cf(()=>Ye("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),xH=Cf(()=>Ye("polyline",{points:"6 9 12 15 18 9"},null,-1)),bH=[vH,xH],wH={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},TH={class:"divide-y"},SH=Cf(()=>Ye("ul",{class:"nav nav-pills nav-justified",id:"pills-tab",role:"tablist"},[Ye("li",{class:"nav-item",role:"presentation"},[Ye("button",{class:"nav-link justify-content-center active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"DAILY AVG")]),Ye("li",{class:"nav-item",role:"presentation"},[Ye("button",{class:"nav-link justify-content-center",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"PRESENT VALUES")])],-1)),CH={class:"tab-content",id:"pills-tabContent"},EH={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},MH={class:"row align-items-center"},kH={class:"col-6"},AH={class:"fw-bold"},PH={class:"col-6 text-center"},DH={class:"fw-normal"},IH={class:"text-sm"},LH=Cf(()=>Ye("div",{class:"py-2 border-bottom border-white"},[Ye("div",{class:"row align-items-center"},[Ye("div",{class:"col-12"},[Ye("div",{class:""},"NOTE: Daily average is calculated at 12 PM UTC")])])],-1)),OH=Cf(()=>Ye("div",{class:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"}," ... ",-1));function RH(e,t,n,r,o,d){return wt(),Ot("div",cH,[Ye("div",dH,[Ye("div",uH,[hH,Ye("div",pH,[Ye("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...h)=>d.notifExpand&&d.notifExpand(...h))},[o.isExpand?yi("",!0):(wt(),Ot("svg",fH,yH)),o.isExpand?(wt(),Ot("svg",_H,bH)):yi("",!0)])])]),Ye("div",wH,[Ye("div",TH,[SH,Ye("div",CH,[Ye("div",EH,[(wt(!0),Ot(ln,null,Mr(o.parameter,h=>(wt(),Ot("div",{key:h.id,class:"py-2 border-bottom border-white"},[Ye("div",MH,[Ye("div",kH,[Ye("div",AH,Qi(h.title),1)]),Ye("div",PH,[Ye("h2",DH,Qi(h.value),1),Ye("div",IH,Qi(h.format),1)])])]))),128)),LH]),OH])])],512)])],512)}const x6=Zr(lH,[["render",RH],["__scopeId","data-v-82e529c6"]]);var BH=["second","minute","hour","day","week","month","year"];function zH(e,t){if(t===0)return["just now","right now"];var n=BH[Math.floor(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]}var NH=["秒","分钟","小时","天","周","个月","年"];function FH(e,t){if(t===0)return["刚刚","片刻后"];var n=NH[~~(t/2)];return[e+" "+n+"前",e+" "+n+"后"]}var zT={},b6=function(e,t){zT[e]=t},jH=function(e){return zT[e]||zT.en_US},B3=[60,60,24,7,365/7/12,12];function nM(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function UH(e,t){var n=e<0?1:0;e=Math.abs(e);for(var r=e,o=0;e>=B3[o]&&o<B3.length;o++)e/=B3[o];return e=Math.floor(e),o*=2,e>(o===0?9:1)&&(o+=1),t(e,o,r)[n].replace("%s",e.toString())}function $H(e,t){var n=t?nM(t):new Date;return(+n-+nM(e))/1e3}var Ng=function(e,t,n){var r=$H(e,n&&n.relativeDate);return UH(r,jH(t))};b6("en_US",zH);b6("zh_CN",FH);const VH="/build/assets/blue-a47985d3.png",GH="/build/assets/green-342241e2.png",WH="/build/assets/red-f4bfe255.png";window.mapboxgl=_c;const HH={components:{"x-search":m6,"x-notification":g6,"x-records":y6,"x-navigation":_6,"x-camera":v6,"x-parameter":x6,MapboxMap:o2,MapboxNavigationControl:a2},data(){return{weatherKey:"dfc256782db426c6a8d3b8daaefa5b33",weathers:[],icons:{ballast:VH,laden:GH,at_port:WH},map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null,fleet:null,showSideInfo:!1,fleets_point:{type:"FeatureCollection",features:[]}}},mounted(){this.timer=setInterval(()=>{this.refreshData()},5*1e3),this.map.loadImage(this.icons.ballast,(e,t)=>{if(e)throw e;this.map.addImage("ship-blue",t)}),this.map.loadImage(this.icons.at_port,(e,t)=>{if(e)throw e;this.map.addImage("ship-red",t)}),this.map.loadImage(this.icons.laden,(e,t)=>{if(e)throw e;this.map.addImage("ship-green",t)}),this.popup=new _c.Popup({closeButton:!0,closeOnClick:!1})},methods:{async fetchData(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,this.fleets_point.features=[],e.forEach(t=>{if(t.navigation){let n="ship-blue";t.fleet_status=="at_port"?n="ship-red":t.fleet_status=="laden"&&(n="ship-green"),this.fleets_point.features.push({type:"Feature",geometry:{type:"Point",coordinates:[t.navigation.lng,t.navigation.lat]},properties:{scale:1,id:t.id,heading:t.navigation.heading,name:t.name,image:t.image,status:t.fleet_status,icon:n,sog:t.navigation.sog,cog:t.navigation.cog,last_update:Ng(t.last_connection)}})}})},async loaded(){await this.fetchData(),this.buildLayer()},async refreshData(){await this.fetchData();let e=await this.map.getSource("ship-position");e&&e.setData(this.fleets_point)},buildLayer(){let e=this;this.map.addSource("ship-position",{type:"geojson",data:this.fleets_point}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-position",layout:{"icon-image":["get","icon"],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.12,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const t=new _c.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","ship-position",n=>{let r=n.features[0].properties.id;e.showInfo(r)}),this.map.on("mouseenter","ship-position",n=>{e.map.getCanvas().style.cursor="pointer";const r=n.features[0].geometry.coordinates.slice(),o=`<b>${n.features[0].properties.name} [ID]</b> at ${n.features[0].properties.sog} <b>kn</b> / ${n.features[0].properties.cog}&deg;<br>last update: <b>${n.features[0].properties.last_update}</b>`;for(;Math.abs(n.lngLat.lng-r[0])>180;)r[0]+=n.lngLat.lng>r[0]?360:-360;t.setLngLat(r).setHTML(o).addTo(e.map)}),this.map.on("mouseleave","ship-position",()=>{e.map.getCanvas().style.cursor="",t.remove()})},async buildWeathers(){const d=[];for(let R=0;R<10;R++)for(let J=0;J<10;J++)d.push({lat:-80+R*(80- -80)/10,lng:-180+J*(180- -180)/10,val:0,wind:{},weather:{}});const h="https://api.openweathermap.org/data/2.5/weather?units=metric&lat=",s=d.map(R=>h+R.lat+"&lon="+R.lng+"&appid="+this.weatherKey),b=await Promise.all(s.map(async R=>(await fetch(R)).text()));d.forEach((R,J)=>{let I=JSON.parse(b[J]);R.val=I.main.temp,R.wind=I.wind,R.weather=I.weather[0]}),this.weathers=d},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const n=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Ng(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(n).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},showInfo(e){let t=this.fleets.findIndex(function(n){return n.id===e});t>=0&&(this.fleet=this.fleets[t],this.showSideInfo=!0)},buildTrack(e){console.log(e)}}},YH={class:"position-relative"},qH={class:"pointer-info",ref:"pointerInfo"};function XH(e,t,n,r,o,d){const h=Er("x-search"),s=Er("fleet-side-info"),b=Er("MapboxNavigationControl"),R=Er("MapboxMap");return wt(),Ot("div",YH,[cn(h,{fleets:o.fleets,onSelected:d.findFleet},null,8,["fleets","onSelected"]),o.fleet?(wt(),Ir(s,{key:0,fleet:o.fleet,display:o.showSideInfo,onClose:t[0]||(t[0]=J=>o.showSideInfo=!1),onHistory:d.buildTrack},null,8,["fleet","display","onHistory"])):yi("",!0),Ye("div",qH,null,512),cn(R,{onMbCreated:t[1]||(t[1]=J=>o.map=J),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:o.center,zoom:o.zoom},{default:Yn(()=>[cn(b,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])])}const ZH=Zr(HH,[["render",XH]]),z5="/build/assets/ship-c94d8078.png",KH=[{time:1673037001e3,id:"c78219c1-d81e-4d33-8984-e39fa3710bfa",ship_id:1,terminal_time:"2023-01-06 20:30:01",lat:-6.009818,lng:106.900525,wind_speed:17.4,wind_direction:21,heading:249.1,distance:88548.42,depth:-12,cog:282.6,sog:0,created_at:"2023-01-07 08:06:28",updated_at:"2023-01-07 08:06:28"},{time:1673037901e3,id:"ee8ec98d-526d-46bf-9d00-ec50433fafb3",ship_id:1,terminal_time:"2023-01-06 20:45:01",lat:-6.009707,lng:106.900482,wind_speed:19.6,wind_direction:15.4,heading:242.9,distance:88548.43,depth:-12.1,cog:358.3,sog:0,created_at:"2023-01-07 08:07:15",updated_at:"2023-01-07 08:07:15"},{time:1673038801e3,id:"22cab800-8d22-44fb-abc1-f5fafd1947a3",ship_id:1,terminal_time:"2023-01-06 21:00:01",lat:-6.00976,lng:106.90053,wind_speed:17.1,wind_direction:16.8,heading:247,distance:88548.44,depth:-12.3,cog:285.2,sog:.1,created_at:"2023-01-07 08:07:02",updated_at:"2023-01-07 08:07:02"},{time:1673039701e3,id:"ee9bb42d-3fac-455b-8140-e032fc3abdcc",ship_id:1,terminal_time:"2023-01-06 21:15:01",lat:-6.0098,lng:106.900533,wind_speed:16.5,wind_direction:19.6,heading:247.1,distance:88548.45,depth:-12.1,cog:208.1,sog:.1,created_at:"2023-01-07 08:06:48",updated_at:"2023-01-07 08:06:48"},{time:1673040601e3,id:"9bf240fd-0767-4f62-94c9-91a4ef95f0cd",ship_id:1,terminal_time:"2023-01-06 21:30:01",lat:-6.009815,lng:106.900515,wind_speed:18.8,wind_direction:21,heading:248,distance:88548.46,depth:-12.1,cog:192.2,sog:0,created_at:"2023-01-07 08:06:43",updated_at:"2023-01-07 08:06:43"},{time:1673041501e3,id:"f4b05071-bc72-44fd-b58b-63e43e69112b",ship_id:1,terminal_time:"2023-01-06 21:45:01",lat:-6.00981,lng:106.900533,wind_speed:18.8,wind_direction:19.6,heading:0,distance:0,depth:-12.1,cog:79.9,sog:0,created_at:"2023-01-07 08:07:29",updated_at:"2023-01-07 08:07:29"},{time:1673042401e3,id:"2d2f89d4-18d5-4ac9-b08b-949a44cad43a",ship_id:1,terminal_time:"2023-01-06 22:00:01",lat:-6.009765,lng:106.900487,wind_speed:15.1,wind_direction:16.8,heading:0,distance:0,depth:-12.1,cog:11.7,sog:0,created_at:"2023-01-07 08:08:00",updated_at:"2023-01-07 08:08:00"},{time:1673043301e3,id:"e79b359c-6eb7-41e3-a526-c4c06282e62a",ship_id:1,terminal_time:"2023-01-06 22:15:01",lat:-6.009688,lng:106.900457,wind_speed:18.6,wind_direction:11.2,heading:242.7,distance:88548.47,depth:-12.1,cog:121.2,sog:0,created_at:"2023-01-07 08:07:47",updated_at:"2023-01-07 08:07:47"},{time:1673044201e3,id:"2750d1e6-4e3c-4946-a145-3e66185627ef",ship_id:1,terminal_time:"2023-01-06 22:30:01",lat:-6.009655,lng:106.900433,wind_speed:14.7,wind_direction:12.5,heading:242.4,distance:88548.48,depth:-12.1,cog:185.9,sog:.1,created_at:"2023-01-07 08:07:40",updated_at:"2023-01-07 08:07:40"},{time:1673045101e3,id:"85d26971-e86f-4f16-8fa5-bc711fcb9b91",ship_id:1,terminal_time:"2023-01-06 22:45:01",lat:-6.0096,lng:106.900403,wind_speed:13.2,wind_direction:11.2,heading:239.6,distance:88548.48,depth:-12.1,cog:180.1,sog:0,created_at:"2023-01-07 08:08:22",updated_at:"2023-01-07 08:08:22"},{time:1673046001e3,id:"06fa9922-e8d6-41c9-886e-e5295949399c",ship_id:1,terminal_time:"2023-01-06 23:00:01",lat:-16.056667,lng:116.8825,wind_speed:16.3,wind_direction:16.8,heading:241.5,distance:88548.49,depth:-12.1,cog:0,sog:0,created_at:"2023-01-07 08:08:11",updated_at:"2023-01-07 08:08:11"},{time:1673046901e3,id:"557403a0-0bc2-42f1-9a07-646c8d66822e",ship_id:1,terminal_time:"2023-01-06 23:15:01",lat:-6.009613,lng:106.900427,wind_speed:18.6,wind_direction:16.8,heading:240.7,distance:88548.49,depth:-12.3,cog:.9,sog:0,created_at:"2023-01-07 08:08:10",updated_at:"2023-01-07 08:08:10"},{time:1673047801e3,id:"bb7144ef-0827-4d3d-9c7b-b0bb7881f441",ship_id:1,terminal_time:"2023-01-06 23:30:01",lat:-6.009658,lng:106.900407,wind_speed:14.1,wind_direction:21,heading:0,distance:0,depth:-12.3,cog:192.5,sog:0,created_at:"2023-01-07 08:07:55",updated_at:"2023-01-07 08:07:55"},{time:1673048701e3,id:"8df2a863-e7d4-4c66-ab22-310f7ac661f2",ship_id:1,terminal_time:"2023-01-06 23:45:01",lat:-6.009732,lng:106.900458,wind_speed:15.7,wind_direction:21,heading:244.8,distance:88548.49,depth:-12.3,cog:152.6,sog:0,created_at:"2023-01-07 08:08:26",updated_at:"2023-01-07 08:08:26"},{time:1673049601e3,id:"e7d31596-5cc9-4fab-850b-c892908430b8",ship_id:1,terminal_time:"2023-01-07 00:00:01",lat:-6.009775,lng:106.900575,wind_speed:19.8,wind_direction:21,heading:250.9,distance:88548.5,depth:-12.3,cog:178.6,sog:.1,created_at:"2023-01-07 08:08:38",updated_at:"2023-01-07 08:08:38"},{time:1673050503e3,id:"1ae1dd53-7f4b-48cb-9aa3-af6f97274fdb",ship_id:1,terminal_time:"2023-01-07 00:15:03",lat:-6.010635,lng:106.898792,wind_speed:21.1,wind_direction:33.6,heading:236.2,distance:88548.61,depth:-12.3,cog:236.1,sog:2.5,created_at:"2023-01-07 08:09:21",updated_at:"2023-01-07 08:09:21"},{time:1673051403e3,id:"c12a6b0d-c9db-4451-a7c5-6f13c29e0954",ship_id:1,terminal_time:"2023-01-07 00:30:03",lat:-6.030335,lng:106.886345,wind_speed:19.8,wind_direction:54.9,heading:195.2,distance:88550.03,depth:-10.6,cog:193.8,sog:7.1,created_at:"2023-01-07 08:08:47",updated_at:"2023-01-07 08:08:47"},{time:1673052303e3,id:"c5971d9c-2c92-4736-950d-6734e6b305cd",ship_id:1,terminal_time:"2023-01-07 00:45:03",lat:-6.059783,lng:106.883237,wind_speed:19.6,wind_direction:67.5,heading:185.4,distance:88551.81,depth:-9.3,cog:182.4,sog:6.5,created_at:"2023-01-07 08:09:35",updated_at:"2023-01-07 08:09:35"},{time:1673053308e3,id:"bd9913a5-6be1-4c3b-89d1-938a9cf2f382",ship_id:1,terminal_time:"2023-01-07 01:01:48",lat:-6.08938,lng:106.883468,wind_speed:16.3,wind_direction:78.7,heading:0,distance:0,depth:-9,cog:161.9,sog:8.8,created_at:"2023-01-07 08:09:28",updated_at:"2023-01-07 08:09:28"},{time:1673054103e3,id:"aac0a1a7-cf35-4a7c-bdff-faef950524be",ship_id:1,terminal_time:"2023-01-07 01:15:03",lat:-6.095888,lng:106.902867,wind_speed:7.9,wind_direction:168.9,heading:0,distance:0,depth:-8.5,cog:97.1,sog:4.1,created_at:"2023-01-07 08:09:07",updated_at:"2023-01-07 08:09:07"},{time:1673055003e3,id:"db38b400-18fe-4637-84bc-441c4333900c",ship_id:1,terminal_time:"2023-01-07 01:30:03",lat:-6.100858,lng:106.906243,wind_speed:6.2,wind_direction:259,heading:0,distance:0,depth:-6,cog:181,sog:1,created_at:"2023-01-07 08:09:40",updated_at:"2023-01-07 08:09:40"},{time:1673055903e3,id:"52f58367-b5da-4516-99ac-401425b6889a",ship_id:1,terminal_time:"2023-01-07 01:45:03",lat:-6.101412,lng:106.90592,wind_speed:7.7,wind_direction:270.3,heading:0,distance:88555.15,depth:-2.1,cog:209.8,sog:0,created_at:"2023-01-07 08:09:32",updated_at:"2023-01-07 08:09:32"},{time:1673056803e3,id:"f8144029-2e71-4a9f-a077-871b58532749",ship_id:1,terminal_time:"2023-01-07 02:00:03",lat:-6.101405,lng:106.905882,wind_speed:3.3,wind_direction:280,heading:0,distance:88555.16,depth:-2.1,cog:349.2,sog:0,created_at:"2023-01-07 08:09:31",updated_at:"2023-01-07 08:09:31"},{time:1673057703e3,id:"03be7e48-aa1c-4ffb-8c39-402c203a283e",ship_id:1,terminal_time:"2023-01-07 02:15:03",lat:-6.101395,lng:106.905868,wind_speed:8.1,wind_direction:281.5,heading:359.9,distance:88555.18,depth:-2.1,cog:328.8,sog:.1,created_at:"2023-01-07 08:10:05",updated_at:"2023-01-07 08:10:05"},{time:1673058603e3,id:"fa44cb0f-6f3d-4e8d-b2b5-6540c952f48b",ship_id:1,terminal_time:"2023-01-07 02:30:03",lat:-6.101392,lng:106.90591,wind_speed:11,wind_direction:259,heading:359.9,distance:88555.18,depth:-2.1,cog:302,sog:0,created_at:"2023-01-07 08:10:07",updated_at:"2023-01-07 08:10:07"},{time:1673059503e3,id:"75810f78-b08f-42b1-a508-ee1b5d13c9e5",ship_id:1,terminal_time:"2023-01-07 02:45:03",lat:-6.101392,lng:106.90587,wind_speed:11,wind_direction:274.5,heading:359.7,distance:88555.19,depth:-2.1,cog:336.9,sog:.1,created_at:"2023-01-07 08:10:09",updated_at:"2023-01-07 08:10:09"},{time:1673060403e3,id:"b8076a15-7e98-4b6b-af9b-0261c6d1ce26",ship_id:1,terminal_time:"2023-01-07 03:00:03",lat:-6.101413,lng:106.905907,wind_speed:9.3,wind_direction:267.4,heading:359.5,distance:88555.2,depth:-2.1,cog:327.9,sog:0,created_at:"2023-01-07 08:09:38",updated_at:"2023-01-07 08:09:38"},{time:1673061303e3,id:"32656a8d-db24-44cc-af81-a149b2fa4e1f",ship_id:1,terminal_time:"2023-01-07 03:15:03",lat:-6.101405,lng:106.905922,wind_speed:8.5,wind_direction:270.3,heading:359.3,distance:88555.2,depth:-5.5,cog:34.4,sog:.1,created_at:"2023-01-07 08:10:40",updated_at:"2023-01-07 08:10:40"},{time:1673062203e3,id:"3e3fcfcf-19d1-4d33-857a-f68b14328338",ship_id:1,terminal_time:"2023-01-07 03:30:03",lat:-6.101402,lng:106.905877,wind_speed:6.2,wind_direction:268.8,heading:359.5,distance:88555.2,depth:-2.1,cog:292.1,sog:0,created_at:"2023-01-07 08:10:33",updated_at:"2023-01-07 08:10:33"},{time:1673063103e3,id:"1c4697c3-b6e6-4eb4-b165-94d5d36d3aa1",ship_id:1,terminal_time:"2023-01-07 03:45:03",lat:-6.10142,lng:106.905858,wind_speed:5.2,wind_direction:264.5,heading:359.7,distance:88555.2,depth:-2.1,cog:129.7,sog:0,created_at:"2023-01-07 08:10:44",updated_at:"2023-01-07 08:10:44"},{time:1673064003e3,id:"ba69338a-3d22-4a08-bb11-d3f886eb6c9b",ship_id:1,terminal_time:"2023-01-07 04:00:03",lat:-6.101392,lng:106.905878,wind_speed:5.6,wind_direction:264.5,heading:359.8,distance:88555.2,depth:-2.3,cog:233.4,sog:0,created_at:"2023-01-07 08:10:39",updated_at:"2023-01-07 08:10:39"},{time:1673064903e3,id:"bd930a40-a514-4c87-8044-e8633e1c1c52",ship_id:1,terminal_time:"2023-01-07 04:15:03",lat:-6.101395,lng:106.905902,wind_speed:6.4,wind_direction:252,heading:359.7,distance:88555.2,depth:0,cog:274.4,sog:0,created_at:"2023-01-07 08:11:40",updated_at:"2023-01-07 08:11:40"},{time:1673065803e3,id:"6544c411-e0b0-40bb-bf1e-efd22c3a2595",ship_id:1,terminal_time:"2023-01-07 04:30:03",lat:-6.101398,lng:106.905932,wind_speed:5.4,wind_direction:252,heading:359.7,distance:88555.2,depth:-2.5,cog:276.2,sog:0,created_at:"2023-01-07 08:11:26",updated_at:"2023-01-07 08:11:26"},{time:1673066703e3,id:"02b25b22-4c20-48a6-a3ad-5944f017c3b9",ship_id:1,terminal_time:"2023-01-07 04:45:03",lat:-6.101387,lng:106.9059,wind_speed:9.3,wind_direction:257.5,heading:0,distance:0,depth:-2.5,cog:163.2,sog:0,created_at:"2023-01-07 08:10:53",updated_at:"2023-01-07 08:10:53"},{time:1673067608e3,id:"523c3936-bffc-4662-9879-e3dff459febf",ship_id:1,terminal_time:"2023-01-07 05:00:08",lat:-6.101402,lng:106.905932,wind_speed:3.6,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.5,cog:195.8,sog:0,created_at:"2023-01-07 08:11:05",updated_at:"2023-01-07 08:11:05"},{time:1673068503e3,id:"ccdee8cd-a739-471e-9dfc-0aa08c034f7a",ship_id:1,terminal_time:"2023-01-07 05:15:03",lat:-6.101402,lng:106.905907,wind_speed:6,wind_direction:257.5,heading:359.6,distance:88555.21,depth:-6.1,cog:162.3,sog:0,created_at:"2023-01-07 08:10:45",updated_at:"2023-01-07 08:10:45"},{time:1673069403e3,id:"d3d4589c-77e7-48fc-b418-c5957dae636d",ship_id:1,terminal_time:"2023-01-07 05:30:03",lat:-6.101398,lng:106.905877,wind_speed:7.7,wind_direction:263.1,heading:359.6,distance:88555.21,depth:-6,cog:295.8,sog:0,created_at:"2023-01-07 08:11:06",updated_at:"2023-01-07 08:11:06"},{time:1673070303e3,id:"9285db16-04b0-4d1a-812e-94fe03b78b0d",ship_id:1,terminal_time:"2023-01-07 05:45:03",lat:-6.101412,lng:106.90585,wind_speed:9.3,wind_direction:274.5,heading:359.6,distance:88555.21,depth:-2.6,cog:268.8,sog:0,created_at:"2023-01-07 08:11:37",updated_at:"2023-01-07 08:11:37"},{time:1673071203e3,id:"4cb25dd1-23a6-4a37-81de-b46cc1e8df0b",ship_id:1,terminal_time:"2023-01-07 06:00:03",lat:-6.101398,lng:106.905858,wind_speed:5.6,wind_direction:268.8,heading:359.6,distance:88555.21,depth:-2.8,cog:327.7,sog:0,created_at:"2023-01-07 08:12:02",updated_at:"2023-01-07 08:12:02"},{time:1673072103e3,id:"6ebeea29-07ba-4384-8f78-c0244a1a85e8",ship_id:1,terminal_time:"2023-01-07 06:15:03",lat:-6.101398,lng:106.905865,wind_speed:6,wind_direction:268.8,heading:0,distance:0,depth:-2.8,cog:324.2,sog:0,created_at:"2023-01-07 08:11:27",updated_at:"2023-01-07 08:11:27"},{time:1673073003e3,id:"de3806a1-9032-426c-84dc-93a8c6d7c31d",ship_id:1,terminal_time:"2023-01-07 06:30:03",lat:-6.101413,lng:106.905873,wind_speed:3.6,wind_direction:256.1,heading:359.7,distance:88555.21,depth:-2.8,cog:5.8,sog:0,created_at:"2023-01-07 08:12:23",updated_at:"2023-01-07 08:12:23"},{time:1673073903e3,id:"65707fec-2ee3-473e-beeb-9b2e845a36ca",ship_id:1,terminal_time:"2023-01-07 06:45:03",lat:-6.101433,lng:106.905833,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.8,cog:304.6,sog:0,created_at:"2023-01-07 08:12:19",updated_at:"2023-01-07 08:12:19"},{time:1673074803e3,id:"6fa32b36-f399-4d56-8fa7-bea17b414006",ship_id:1,terminal_time:"2023-01-07 07:00:03",lat:-6.101392,lng:106.905888,wind_speed:3.4,wind_direction:246.3,heading:0,distance:0,depth:-2.8,cog:93.1,sog:0,created_at:"2023-01-07 08:12:40",updated_at:"2023-01-07 08:12:40"},{time:1673075703e3,id:"67ff30a8-02ef-41c0-bd19-463ebbd32668",ship_id:1,terminal_time:"2023-01-07 07:15:03",lat:-6.101408,lng:106.905885,wind_speed:7.5,wind_direction:229.4,heading:359.7,distance:88555.21,depth:-2.8,cog:197,sog:0,created_at:"2023-01-07 08:12:42",updated_at:"2023-01-07 08:12:42"},{time:1673094603e3,id:"3f01785d-ea13-49f9-b6ae-419329c8f20a",ship_id:1,terminal_time:"2023-01-07 12:30:03",lat:-6.101452,lng:106.905917,wind_speed:14.7,wind_direction:347.6,heading:0,distance:0,depth:-3.1,cog:35.3,sog:0,created_at:"2023-01-08 08:13:52",updated_at:"2023-01-08 08:13:52"},{time:1673095503e3,id:"317256ef-d958-4792-ac19-0af4678f296f",ship_id:1,terminal_time:"2023-01-07 12:45:03",lat:-6.101427,lng:106.905863,wind_speed:14.9,wind_direction:315.3,heading:359.7,distance:88555.22,depth:-3,cog:35.3,sog:0,created_at:"2023-01-08 08:24:39",updated_at:"2023-01-08 08:24:39"},{time:1673096403e3,id:"01638351-e630-4d24-a1b3-dc902b3abd82",ship_id:1,terminal_time:"2023-01-07 13:00:03",lat:-6.10141,lng:106.905895,wind_speed:17.3,wind_direction:326.5,heading:359.7,distance:88555.22,depth:-3,cog:91.4,sog:0,created_at:"2023-01-08 08:20:11",updated_at:"2023-01-08 08:20:11"},{time:1673097303e3,id:"70c8224a-27c3-469d-9482-f3b2e98f4bee",ship_id:1,terminal_time:"2023-01-07 13:15:03",lat:-6.101365,lng:106.905885,wind_speed:13.9,wind_direction:342,heading:359.7,distance:88555.22,depth:-3,cog:153.7,sog:0,created_at:"2023-01-08 08:07:44",updated_at:"2023-01-08 08:07:44"},{time:1673098203e3,id:"54be4b76-e5c1-4af2-b06a-d08e68ca8e6d",ship_id:1,terminal_time:"2023-01-07 13:30:03",lat:-6.101402,lng:106.905883,wind_speed:8.3,wind_direction:309.6,heading:359.9,distance:88555.22,depth:-2.8,cog:103.8,sog:0,created_at:"2023-01-08 08:05:41",updated_at:"2023-01-08 08:05:41"},{time:1673099103e3,id:"f45be026-3f21-4763-9f2e-599cfd772936",ship_id:1,terminal_time:"2023-01-07 13:45:03",lat:-6.101387,lng:106.90587,wind_speed:7.1,wind_direction:336.4,heading:359.6,distance:88555.22,depth:-3,cog:22,sog:0,created_at:"2023-01-08 08:25:15",updated_at:"2023-01-08 08:25:15"},{time:1673100003e3,id:"dda32aec-7c91-4a18-bc02-c6f8b1d47700",ship_id:1,terminal_time:"2023-01-07 14:00:03",lat:-6.101395,lng:106.905882,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-2.8,cog:57.4,sog:0,created_at:"2023-01-08 08:08:16",updated_at:"2023-01-08 08:08:16"},{time:1673100903e3,id:"b22e0b57-db66-4fe8-8773-39a691c334f9",ship_id:1,terminal_time:"2023-01-07 14:15:03",lat:-6.101398,lng:106.905873,wind_speed:8.3,wind_direction:350.5,heading:359.6,distance:88555.22,depth:-2.8,cog:37.9,sog:0,created_at:"2023-01-08 08:21:48",updated_at:"2023-01-08 08:21:48"},{time:1673101803e3,id:"4cb687f7-6740-478a-b9d8-7c415359678f",ship_id:1,terminal_time:"2023-01-07 14:30:03",lat:-6.101415,lng:106.90584,wind_speed:7.1,wind_direction:334.9,heading:359.7,distance:88555.23,depth:-2.8,cog:335.3,sog:0,created_at:"2023-01-08 08:14:53",updated_at:"2023-01-08 08:14:53"},{time:1673102703e3,id:"31d66256-54fa-4245-874b-a971ded2ac22",ship_id:1,terminal_time:"2023-01-07 14:45:03",lat:-6.10138,lng:106.905867,wind_speed:14.9,wind_direction:337.8,heading:359.7,distance:88555.23,depth:-2.8,cog:27.8,sog:0,created_at:"2023-01-08 08:03:26",updated_at:"2023-01-08 08:03:26"},{time:1673103603e3,id:"6e9c3626-321a-4c87-adb4-5e285a43cdf7",ship_id:1,terminal_time:"2023-01-07 15:00:03",lat:-6.101413,lng:106.905813,wind_speed:9.3,wind_direction:315.3,heading:359.6,distance:88555.24,depth:-2.6,cog:326.6,sog:.1,created_at:"2023-01-08 08:01:50",updated_at:"2023-01-08 08:01:50"},{time:1673104503e3,id:"dabbcbd4-70dc-48a7-9bf6-6a791bf70bf0",ship_id:1,terminal_time:"2023-01-07 15:15:03",lat:-6.101362,lng:106.905902,wind_speed:8.5,wind_direction:315.3,heading:359.6,distance:88555.25,depth:-2.6,cog:286.2,sog:0,created_at:"2023-01-08 08:14:31",updated_at:"2023-01-08 08:14:31"},{time:1673105403e3,id:"9ce52c58-26fe-4b79-acf6-efd91d7c3dea",ship_id:1,terminal_time:"2023-01-07 15:30:03",lat:-6.101402,lng:106.905895,wind_speed:8.7,wind_direction:290,heading:359.6,distance:88555.25,depth:-2.5,cog:39.8,sog:0,created_at:"2023-01-08 08:06:38",updated_at:"2023-01-08 08:06:38"},{time:1673106303e3,id:"fab10037-7bec-4b1b-a448-af671c2e5a09",ship_id:1,terminal_time:"2023-01-07 15:45:03",lat:-6.101377,lng:106.905907,wind_speed:9.1,wind_direction:302.5,heading:359.6,distance:88555.25,depth:-2.5,cog:11.5,sog:0,created_at:"2023-01-08 08:26:36",updated_at:"2023-01-08 08:26:36"},{time:1673107203e3,id:"72c4e9f4-b126-4cd5-af12-72d225bcc777",ship_id:1,terminal_time:"2023-01-07 16:00:03",lat:-6.101407,lng:106.90585,wind_speed:16.5,wind_direction:261,heading:359.5,distance:88555.26,depth:-2.5,cog:227.4,sog:0,created_at:"2023-01-08 08:29:59",updated_at:"2023-01-08 08:29:59"},{time:1673108103e3,id:"4dda9ef7-b131-499c-abb6-90d31b833212",ship_id:1,terminal_time:"2023-01-07 16:15:03",lat:-6.101415,lng:106.905928,wind_speed:7.7,wind_direction:274.5,heading:359.7,distance:88555.26,depth:-2.5,cog:276.8,sog:0,created_at:"2023-01-08 08:35:23",updated_at:"2023-01-08 08:35:23"},{time:1673109003e3,id:"eb055a93-284e-490c-b241-fc286a5245cb",ship_id:1,terminal_time:"2023-01-07 16:30:03",lat:-6.101398,lng:106.905935,wind_speed:18.4,wind_direction:281.5,heading:359.5,distance:88555.26,depth:-2.5,cog:150.5,sog:.1,created_at:"2023-01-08 08:19:17",updated_at:"2023-01-08 08:19:17"},{time:1673109903e3,id:"70fe1092-70d1-4e3e-9e6a-880e95753afe",ship_id:1,terminal_time:"2023-01-07 16:45:03",lat:-6.101348,lng:106.905867,wind_speed:12.8,wind_direction:244.9,heading:359.6,distance:88555.27,depth:-2.3,cog:354.6,sog:0,created_at:"2023-01-08 08:39:36",updated_at:"2023-01-08 08:39:36"},{time:1673110803e3,id:"256314cb-dc49-4a3d-bfc0-33982995e693",ship_id:1,terminal_time:"2023-01-07 17:00:03",lat:-6.101383,lng:106.905903,wind_speed:12,wind_direction:291.4,heading:359.6,distance:88555.27,depth:-2.5,cog:354.6,sog:0,created_at:"2023-01-08 08:12:53",updated_at:"2023-01-08 08:12:53"},{time:1673111703e3,id:"3cec9ede-f851-4440-95b3-e72f237da615",ship_id:1,terminal_time:"2023-01-07 17:15:03",lat:-6.101377,lng:106.905882,wind_speed:9.9,wind_direction:292.8,heading:359.6,distance:88555.27,depth:-2.5,cog:311.3,sog:0,created_at:"2023-01-08 08:18:20",updated_at:"2023-01-08 08:18:20"},{time:1673112893e3,id:"da145ee1-2387-4054-9190-cfd1c2e5f63c",ship_id:1,terminal_time:"2023-01-07 17:34:53",lat:-6.101393,lng:106.905928,wind_speed:13.6,wind_direction:257.1,heading:359.6,distance:88555.27,depth:-2.5,cog:278.9,sog:0,created_at:"2023-01-08 08:26:11",updated_at:"2023-01-08 08:26:11"},{time:1673113508e3,id:"25b0fe9e-9b29-4029-a7db-9138ef1c0173",ship_id:1,terminal_time:"2023-01-07 17:45:08",lat:-6.101463,lng:106.90597,wind_speed:14.3,wind_direction:263.1,heading:359.6,distance:88555.27,depth:-2.5,cog:350.3,sog:.1,created_at:"2023-01-08 08:06:11",updated_at:"2023-01-08 08:06:11"},{time:1673114403e3,id:"d85ae345-eb3f-420f-ae10-c8f0c078fb2d",ship_id:1,terminal_time:"2023-01-07 18:00:03",lat:-6.101395,lng:106.90591,wind_speed:15.3,wind_direction:246.3,heading:359.6,distance:88555.28,depth:-2.5,cog:8.3,sog:0,created_at:"2023-01-08 08:21:44",updated_at:"2023-01-08 08:21:44"},{time:1673115303e3,id:"388136b9-939e-4016-bb94-69e2165428e2",ship_id:1,terminal_time:"2023-01-07 18:15:03",lat:-6.101417,lng:106.905957,wind_speed:11,wind_direction:237,heading:359.7,distance:88555.28,depth:-2.5,cog:320.6,sog:0,created_at:"2023-01-08 08:27:27",updated_at:"2023-01-08 08:27:27"},{time:1673116203e3,id:"718bb2e9-5a2a-47c8-9899-3f613b300f13",ship_id:1,terminal_time:"2023-01-07 18:30:03",lat:-6.1014230000000005,lng:106.90596,wind_speed:10.1,wind_direction:252,heading:359.7,distance:88555.28,depth:-2.5,cog:262,sog:.3,created_at:"2023-01-08 08:35:15",updated_at:"2023-01-08 08:35:15"},{time:1673117103e3,id:"58662b8e-afe4-4e8d-9d81-e92fd5bd6de1",ship_id:1,terminal_time:"2023-01-07 18:45:03",lat:-6.101337,lng:106.905935,wind_speed:16.7,wind_direction:259,heading:359.6,distance:88555.28,depth:-2.5,cog:265.6,sog:0,created_at:"2023-01-08 08:24:32",updated_at:"2023-01-08 08:24:32"},{time:1673118003e3,id:"9dcc2e7d-fc6a-4026-8452-732e033d633d",ship_id:1,terminal_time:"2023-01-07 19:00:03",lat:-6.101408,lng:106.905923,wind_speed:12.6,wind_direction:270.4,heading:0,distance:0,depth:-2.5,cog:251.1,sog:.1,created_at:"2023-01-08 08:31:10",updated_at:"2023-01-08 08:31:10"},{time:1673118903e3,id:"d77f77c6-11e3-4d58-8a75-767aacbdee1c",ship_id:1,terminal_time:"2023-01-07 19:15:03",lat:-6.101403,lng:106.905935,wind_speed:9.3,wind_direction:274.5,heading:359.7,distance:88555.28,depth:-2.5,cog:242.4,sog:.1,created_at:"2023-01-08 08:32:39",updated_at:"2023-01-08 08:32:39"},{time:1673119803e3,id:"8676ff37-9bd6-4f53-8ba7-7eaad2bd126b",ship_id:1,terminal_time:"2023-01-07 19:30:03",lat:-6.101392,lng:106.905928,wind_speed:15.3,wind_direction:247.7,heading:359.7,distance:88555.28,depth:-2.5,cog:252.7,sog:0,created_at:"2023-01-08 08:34:35",updated_at:"2023-01-08 08:34:35"},{time:1673120703e3,id:"5a10a4d6-445d-4387-9c6a-e002b768b83b",ship_id:1,terminal_time:"2023-01-07 19:45:03",lat:-6.101385,lng:106.905918,wind_speed:9.1,wind_direction:259,heading:359.7,distance:88555.29,depth:-2.5,cog:142.2,sog:0,created_at:"2023-01-08 08:31:06",updated_at:"2023-01-08 08:31:06"},{time:1673121603e3,id:"b43588b1-8bee-476f-ba71-4ee6dc1af694",ship_id:1,terminal_time:"2023-01-07 20:00:03",lat:-6.101337,lng:106.90589,wind_speed:9.9,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-6,cog:205.2,sog:0,created_at:"2023-01-08 08:47:20",updated_at:"2023-01-08 08:47:20"},{time:1673122503e3,id:"6ef2d5ef-f541-4f4e-98b6-8369ed0998fb",ship_id:1,terminal_time:"2023-01-07 20:15:03",lat:-6.101357,lng:106.90591,wind_speed:9.1,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-2.5,cog:133.2,sog:0,created_at:"2023-01-08 08:45:51",updated_at:"2023-01-08 08:45:51"},{time:1673123403e3,id:"9ac81b12-4d78-42fa-926f-0e27f16a6abe",ship_id:1,terminal_time:"2023-01-07 20:30:03",lat:-6.101347,lng:106.905885,wind_speed:11.2,wind_direction:268.8,heading:359.7,distance:88555.29,depth:-2.5,cog:129.4,sog:0,created_at:"2023-01-08 08:43:43",updated_at:"2023-01-08 08:43:43"},{time:1673124303e3,id:"9c3c0c72-7ede-45ce-8cd0-45f46d05cf4f",ship_id:1,terminal_time:"2023-01-07 20:45:03",lat:-6.101392,lng:106.905992,wind_speed:9.9,wind_direction:280,heading:359.7,distance:88555.29,depth:-2.5,cog:269.2,sog:0,created_at:"2023-01-08 08:42:24",updated_at:"2023-01-08 08:42:24"},{time:1673125203e3,id:"180ab6f9-b46b-4175-9c0c-cfbd47d75a75",ship_id:1,terminal_time:"2023-01-07 21:00:03",lat:-6.10138,lng:106.905928,wind_speed:6.2,wind_direction:259,heading:359.6,distance:88555.29,depth:-2.5,cog:273,sog:.1,created_at:"2023-01-08 08:44:15",updated_at:"2023-01-08 08:44:15"},{time:1673126103e3,id:"aca79290-d836-4f81-b20c-db5c3d1c9ed5",ship_id:1,terminal_time:"2023-01-07 21:15:03",lat:-6.101395,lng:106.905888,wind_speed:8.5,wind_direction:270.3,heading:359.7,distance:88555.29,depth:-5.5,cog:284.7,sog:0,created_at:"2023-01-08 08:44:39",updated_at:"2023-01-08 08:44:39"},{time:1673127003e3,id:"3d37da9b-e78d-4c94-9628-2f75dfacd975",ship_id:1,terminal_time:"2023-01-07 21:30:03",lat:-6.10136,lng:106.905928,wind_speed:7.1,wind_direction:291.4,heading:359.7,distance:88555.29,depth:-2.5,cog:288.6,sog:0,created_at:"2023-01-08 08:43:59",updated_at:"2023-01-08 08:43:59"},{time:1673127903e3,id:"c85fc3eb-6766-4f04-b655-698bee2b112a",ship_id:1,terminal_time:"2023-01-07 21:45:03",lat:-6.101362,lng:106.905857,wind_speed:6.9,wind_direction:257.5,heading:359.8,distance:88555.29,depth:-2.3,cog:157.1,sog:0,created_at:"2023-01-08 08:48:25",updated_at:"2023-01-08 08:48:25"},{time:1673128803e3,id:"e0371ba8-d853-4a52-b612-ef2dd4db6f02",ship_id:1,terminal_time:"2023-01-07 22:00:03",lat:-6.101388,lng:106.905863,wind_speed:9.9,wind_direction:248,heading:359.6,distance:88555.29,depth:-2.5,cog:157.1,sog:0,created_at:"2023-01-08 08:46:57",updated_at:"2023-01-08 08:46:57"},{time:1673129703e3,id:"6aabe75f-fedb-42af-8440-6af78469558d",ship_id:1,terminal_time:"2023-01-07 22:15:03",lat:-6.101375,lng:106.905928,wind_speed:6.9,wind_direction:287.1,heading:359.7,distance:88555.29,depth:-2.3,cog:216.5,sog:0,created_at:"2023-01-08 08:54:20",updated_at:"2023-01-08 08:54:20"},{time:1673130603e3,id:"4068d565-7aa1-427b-8727-8edb9c691ecc",ship_id:1,terminal_time:"2023-01-07 22:30:03",lat:-6.101373,lng:106.905895,wind_speed:7.9,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:205.4,sog:0,created_at:"2023-01-08 08:51:59",updated_at:"2023-01-08 08:51:59"},{time:1673131503e3,id:"701364de-f35b-4f45-b2f2-65f53ffe574a",ship_id:1,terminal_time:"2023-01-07 22:45:03",lat:-6.101392,lng:106.905898,wind_speed:12.4,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:222.7,sog:0,created_at:"2023-01-08 08:48:51",updated_at:"2023-01-08 08:48:51"},{time:1673132403e3,id:"658bd145-0a61-4c2d-94fb-1bf054a3264c",ship_id:1,terminal_time:"2023-01-07 23:00:03",lat:-6.101363,lng:106.905863,wind_speed:7.9,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:129.2,sog:0,created_at:"2023-01-08 08:48:31",updated_at:"2023-01-08 08:48:31"},{time:1673133303e3,id:"58f92089-82d0-4bd5-9832-04677dc76be5",ship_id:1,terminal_time:"2023-01-07 23:15:03",lat:-6.101358,lng:106.905842,wind_speed:8.7,wind_direction:294.1,heading:359.7,distance:88555.29,depth:-2.5,cog:128.4,sog:0,created_at:"2023-01-08 08:55:51",updated_at:"2023-01-08 08:55:51"},{time:1673134203e3,id:"4736fadb-7f73-40fa-a2de-b9fa0a792b3e",ship_id:1,terminal_time:"2023-01-07 23:30:03",lat:-6.101348,lng:106.905888,wind_speed:10.6,wind_direction:297,heading:359.6,distance:88555.29,depth:-2.5,cog:344,sog:0,created_at:"2023-01-08 08:59:25",updated_at:"2023-01-08 08:59:25"},{time:1673135178e3,id:"bf83dfc7-4cb9-4b55-965a-1452ed8e111e",ship_id:1,terminal_time:"2023-01-07 23:46:18",lat:-6.101382,lng:106.905902,wind_speed:10.8,wind_direction:281.6,heading:359.7,distance:88555.29,depth:-5.6,cog:32.8,sog:0,created_at:"2023-01-08 08:58:17",updated_at:"2023-01-08 08:58:17"},{time:1673136003e3,id:"1e9d6cbb-3da5-46c2-8c1d-7c43e9e347d7",ship_id:1,terminal_time:"2023-01-08 00:00:03",lat:-6.10139,lng:106.905845,wind_speed:6.9,wind_direction:270.3,heading:0,distance:0,depth:-5.8,cog:57.4,sog:0,created_at:"2023-01-08 08:54:51",updated_at:"2023-01-08 08:54:51"},{time:1673136904e3,id:"9a56f8c9-a895-41ed-88cb-c63672950f2c",ship_id:1,terminal_time:"2023-01-08 00:15:04",lat:-6.101378,lng:106.905893,wind_speed:6.8,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:336.6,sog:0,created_at:"2023-01-08 08:58:04",updated_at:"2023-01-08 08:58:04"},{time:1673137804e3,id:"71adab84-32a5-43f8-9a16-44dd7cdf4c02",ship_id:1,terminal_time:"2023-01-08 00:30:04",lat:-6.101417,lng:106.905875,wind_speed:2.5,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-2.5,cog:80.7,sog:0,created_at:"2023-01-08 08:56:16",updated_at:"2023-01-08 08:56:16"},{time:1673138704e3,id:"2b4e0681-bca8-423e-968c-9cbb94911ade",ship_id:1,terminal_time:"2023-01-08 00:45:04",lat:-6.101407,lng:106.905868,wind_speed:6.6,wind_direction:270.3,heading:359.5,distance:88555.29,depth:-2.5,cog:281.8,sog:0,created_at:"2023-01-08 09:02:07",updated_at:"2023-01-08 09:02:07"},{time:1673139604e3,id:"a5757655-280b-4850-9423-55cce4abb3d4",ship_id:1,terminal_time:"2023-01-08 01:00:04",lat:-6.101452,lng:106.905895,wind_speed:8.7,wind_direction:302.5,heading:359.6,distance:88555.29,depth:-2.5,cog:159.5,sog:0,created_at:"2023-01-08 09:02:50",updated_at:"2023-01-08 09:02:50"},{time:1673140504e3,id:"38de4f6b-61c5-490a-a785-9c11f352809e",ship_id:1,terminal_time:"2023-01-08 01:15:04",lat:-6.101402,lng:106.905898,wind_speed:7.9,wind_direction:292.8,heading:359.8,distance:88555.29,depth:-2.5,cog:171.7,sog:0,created_at:"2023-01-08 09:05:18",updated_at:"2023-01-08 09:05:18"},{time:1673141404e3,id:"0a1776c1-1425-41e8-91b9-367b23512d33",ship_id:1,terminal_time:"2023-01-08 01:30:04",lat:-6.101413,lng:106.905882,wind_speed:5.6,wind_direction:297,heading:359.7,distance:88555.29,depth:-2.5,cog:149.7,sog:.2,created_at:"2023-01-08 09:02:30",updated_at:"2023-01-08 09:02:30"},{time:1673142304e3,id:"25822b6e-cc26-4120-a534-707fae66297d",ship_id:1,terminal_time:"2023-01-08 01:45:04",lat:-6.101383,lng:106.905855,wind_speed:3.8,wind_direction:291.4,heading:359.7,distance:88555.3,depth:-2.5,cog:211.1,sog:0,created_at:"2023-01-08 09:05:11",updated_at:"2023-01-08 09:05:11"},{time:1673143204e3,id:"e6ba87a3-cf19-4484-886d-ed8a0850dd54",ship_id:1,terminal_time:"2023-01-08 02:00:04",lat:-6.101395,lng:106.905888,wind_speed:6.4,wind_direction:268.8,heading:359.8,distance:88555.31,depth:-2.5,cog:342.7,sog:.1,created_at:"2023-01-08 09:04:03",updated_at:"2023-01-08 09:04:03"},{time:1673144104e3,id:"828812ff-8977-46cf-8927-bec2687ff712",ship_id:1,terminal_time:"2023-01-08 02:15:04",lat:-6.101372,lng:106.905882,wind_speed:3.8,wind_direction:268.8,heading:359.8,distance:88555.33,depth:-2.6,cog:297.3,sog:.1,created_at:"2023-01-08 09:13:33",updated_at:"2023-01-08 09:13:33"},{time:1673145004e3,id:"25389b81-dc4a-46e8-ad1c-1660eb03a08f",ship_id:1,terminal_time:"2023-01-08 02:30:04",lat:-6.101395,lng:106.905907,wind_speed:7.5,wind_direction:264.5,heading:359.8,distance:88555.33,depth:-2.6,cog:315.1,sog:0,created_at:"2023-01-08 09:06:48",updated_at:"2023-01-08 09:06:48"},{time:1673145904e3,id:"0047c054-acbc-4a29-9ccd-52ba001da3a7",ship_id:1,terminal_time:"2023-01-08 02:45:04",lat:-6.101398,lng:106.905878,wind_speed:6.6,wind_direction:264.5,heading:0,distance:0,depth:-2.6,cog:336.3,sog:0,created_at:"2023-01-08 09:11:48",updated_at:"2023-01-08 09:11:48"},{time:1673146804e3,id:"829090c9-17ba-4477-8592-deb4da86dc63",ship_id:1,terminal_time:"2023-01-08 03:00:04",lat:-6.101402,lng:106.905895,wind_speed:5.4,wind_direction:264.5,heading:359.7,distance:88555.35,depth:-2.6,cog:17.1,sog:0,created_at:"2023-01-08 09:06:28",updated_at:"2023-01-08 09:06:28"},{time:1673147709e3,id:"1098eec6-77fe-4726-9e36-eea8a0a47b48",ship_id:1,terminal_time:"2023-01-08 03:15:09",lat:-6.101387,lng:106.905917,wind_speed:6.2,wind_direction:260.4,heading:359.7,distance:88555.35,depth:-2.6,cog:23.6,sog:0,created_at:"2023-01-08 09:09:10",updated_at:"2023-01-08 09:09:10"},{time:1673148604e3,id:"04d539ed-3c9f-49ed-aec5-3d4926391e7e",ship_id:1,terminal_time:"2023-01-08 03:30:04",lat:-6.101397,lng:106.90589,wind_speed:6.8,wind_direction:260.4,heading:359.7,distance:88555.36,depth:-2.6,cog:65.8,sog:0,created_at:"2023-01-08 09:15:33",updated_at:"2023-01-08 09:15:33"},{time:1673149504e3,id:"e5e010fd-95da-4dfb-a12f-ef9f733b8165",ship_id:1,terminal_time:"2023-01-08 03:45:04",lat:-6.101377,lng:106.905885,wind_speed:5.6,wind_direction:274.5,heading:359.6,distance:88555.36,depth:-2.6,cog:67.7,sog:0,created_at:"2023-01-08 09:10:57",updated_at:"2023-01-08 09:10:57"},{time:1673150404e3,id:"dcfe2cd6-711d-461f-90f7-4bf6c4a1b9ee",ship_id:1,terminal_time:"2023-01-08 04:00:04",lat:-6.101388,lng:106.905938,wind_speed:2.5,wind_direction:274.5,heading:359.5,distance:88555.36,depth:-2.6,cog:223,sog:.1,created_at:"2023-01-08 09:14:36",updated_at:"2023-01-08 09:14:36"},{time:1673151304e3,id:"ddf54501-6fbc-456e-bf5a-c79e016e9b00",ship_id:1,terminal_time:"2023-01-08 04:15:04",lat:-6.101403,lng:106.905913,wind_speed:6.4,wind_direction:280,heading:359.7,distance:88555.36,depth:-2.8,cog:188.7,sog:.1,created_at:"2023-01-08 09:21:25",updated_at:"2023-01-08 09:21:25"},{time:1673152204e3,id:"081423ac-f636-4f7a-9daf-5f4dab29c404",ship_id:1,terminal_time:"2023-01-08 04:30:04",lat:-6.101418,lng:106.90596,wind_speed:9.3,wind_direction:287.1,heading:0,distance:0,depth:-2.8,cog:159.5,sog:0,created_at:"2023-01-08 09:15:25",updated_at:"2023-01-08 09:15:25"},{time:1673153104e3,id:"c45710ce-5dc1-4757-ab7a-4d938442da15",ship_id:1,terminal_time:"2023-01-08 04:45:04",lat:-6.101403,lng:106.905892,wind_speed:8.1,wind_direction:274.5,heading:359.8,distance:88555.36,depth:-2.8,cog:125.5,sog:0,created_at:"2023-01-08 09:19:12",updated_at:"2023-01-08 09:19:12"},{time:1673154004e3,id:"15229013-0e45-4bf3-9949-1ea58fc0908a",ship_id:1,terminal_time:"2023-01-08 05:00:04",lat:-6.101338,lng:106.905882,wind_speed:9.1,wind_direction:259,heading:359.9,distance:88555.36,depth:-2.6,cog:136.1,sog:0,created_at:"2023-01-08 09:20:01",updated_at:"2023-01-08 09:20:01"},{time:1673154904e3,id:"d27c1b20-889b-4499-ba40-6e6c614178f8",ship_id:1,terminal_time:"2023-01-08 05:15:04",lat:-6.101348,lng:106.905915,wind_speed:10.1,wind_direction:257.5,heading:359.8,distance:88555.36,depth:-2.8,cog:151.6,sog:.1,created_at:"2023-01-08 09:23:27",updated_at:"2023-01-08 09:23:27"},{time:1673155804e3,id:"9a444a98-e7df-4f70-975d-85d5d62e290f",ship_id:1,terminal_time:"2023-01-08 05:30:04",lat:-6.101363,lng:106.905898,wind_speed:6.9,wind_direction:259,heading:359.7,distance:88555.36,depth:-2.8,cog:33.5,sog:0,created_at:"2023-01-08 09:21:23",updated_at:"2023-01-08 09:21:23"},{time:1673156704e3,id:"fc24c51c-214a-4d78-be5a-4c1c26802e09",ship_id:1,terminal_time:"2023-01-08 05:45:04",lat:-6.101373,lng:106.90589,wind_speed:9.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-2.8,cog:325.1,sog:0,created_at:"2023-01-08 09:25:36",updated_at:"2023-01-08 09:25:36"},{time:1673157604e3,id:"32c80507-1d8e-4091-9311-50e25e285dae",ship_id:1,terminal_time:"2023-01-08 06:00:04",lat:-6.101387,lng:106.905902,wind_speed:13.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:329.3,sog:0,created_at:"2023-01-08 09:24:42",updated_at:"2023-01-08 09:24:42"},{time:1673158504e3,id:"ae9d8d04-f8b0-4358-bd9c-d9972e370315",ship_id:1,terminal_time:"2023-01-08 06:15:04",lat:-6.10138,lng:106.905895,wind_speed:6.8,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:248.9,sog:0,created_at:"2023-01-08 09:26:04",updated_at:"2023-01-08 09:26:04"},{time:1673159404e3,id:"c0502c55-c023-4042-9af3-bd285c098a35",ship_id:1,terminal_time:"2023-01-08 06:30:04",lat:-6.101373,lng:106.905888,wind_speed:14.1,wind_direction:270.9,heading:359.6,distance:88555.36,depth:-3,cog:292.9,sog:0,created_at:"2023-01-08 09:21:20",updated_at:"2023-01-08 09:21:20"},{time:1673160304e3,id:"034a249c-02ba-437a-8aac-456cab629385",ship_id:1,terminal_time:"2023-01-08 06:45:04",lat:-6.101378,lng:106.90591,wind_speed:11.4,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:23:12",updated_at:"2023-01-08 09:23:12"},{time:1673161204e3,id:"54e8bfab-005b-4826-8206-a37b4decfd0b",ship_id:1,terminal_time:"2023-01-08 07:00:04",lat:-6.101373,lng:106.905887,wind_speed:8.5,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:27:00",updated_at:"2023-01-08 09:27:00"},{time:1673162104e3,id:"a8f38c56-ba61-4de6-80d1-3ea034df630a",ship_id:1,terminal_time:"2023-01-08 07:15:04",lat:-6.101405,lng:106.90589,wind_speed:12.4,wind_direction:242.1,heading:359.7,distance:88555.36,depth:-3,cog:167.3,sog:0,created_at:"2023-01-08 09:31:10",updated_at:"2023-01-08 09:31:10"},{time:1673163004e3,id:"1d43c613-abc9-4209-bfb3-9d54ecc33748",ship_id:1,terminal_time:"2023-01-08 07:30:04",lat:-6.10138,lng:106.905852,wind_speed:15.5,wind_direction:229.4,heading:0,distance:0,depth:0,cog:4.1,sog:0,created_at:"2023-01-08 09:28:35",updated_at:"2023-01-08 09:28:35"},{time:1673163904e3,id:"58b7809e-b846-4fba-b046-e7a1c2f3f84c",ship_id:1,terminal_time:"2023-01-08 07:45:04",lat:-6.101412,lng:106.905907,wind_speed:6.6,wind_direction:245.6,heading:359.8,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:46",updated_at:"2023-01-08 09:31:46"},{time:1673164809e3,id:"4ef617d0-0adb-40ea-bad4-e57322f78fe8",ship_id:1,terminal_time:"2023-01-08 08:00:09",lat:-6.101433,lng:106.905895,wind_speed:7.9,wind_direction:292.8,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:36",updated_at:"2023-01-08 09:31:36"},{time:1673165704e3,id:"384723ff-16ea-4a47-bd1b-987a84141b3e",ship_id:1,terminal_time:"2023-01-08 08:15:04",lat:-6.101402,lng:106.905893,wind_speed:9.7,wind_direction:247.7,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:34:02",updated_at:"2023-01-08 09:34:02"},{time:1673166604e3,id:"4a0c6afb-a827-4d1b-b943-57faa3c5ccb7",ship_id:1,terminal_time:"2023-01-08 08:30:04",lat:-6.1014230000000005,lng:106.905875,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:242.5,sog:0,created_at:"2023-01-08 09:35:08",updated_at:"2023-01-08 09:35:08"},{time:1673167504e3,id:"4c434111-7470-469b-82a2-10a66585fbe7",ship_id:1,terminal_time:"2023-01-08 08:45:04",lat:-6.101393,lng:106.905873,wind_speed:9.7,wind_direction:259,heading:359.6,distance:88555.36,depth:-3.3,cog:73.3,sog:0,created_at:"2023-01-08 09:36:15",updated_at:"2023-01-08 09:36:15"},{time:1673168404e3,id:"64a1f0ab-872f-4c4a-8e98-84e8f7f2aa2b",ship_id:1,terminal_time:"2023-01-08 09:00:04",lat:-6.101383,lng:106.905898,wind_speed:8.3,wind_direction:267.4,heading:359.6,distance:88555.36,depth:-3.3,cog:91.6,sog:.1,created_at:"2023-01-08 09:37:22",updated_at:"2023-01-08 09:37:22"},{time:1673169304e3,id:"15eb000c-e49a-4288-b9ba-29120dd16bbc",ship_id:1,terminal_time:"2023-01-08 09:15:04",lat:-6.101392,lng:106.905832,wind_speed:13.6,wind_direction:315.8,heading:359.7,distance:88555.36,depth:-3.3,cog:104.3,sog:0,created_at:"2023-01-08 09:38:28",updated_at:"2023-01-08 09:38:28"},{time:1673170204e3,id:"5013bfeb-e3b7-40fe-956e-67d86ef062fc",ship_id:1,terminal_time:"2023-01-08 09:30:04",lat:-6.10143,lng:106.905883,wind_speed:10.1,wind_direction:291.4,heading:359.8,distance:88555.36,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:39:35",updated_at:"2023-01-08 09:39:35"},{time:1673171104e3,id:"c42441d4-6121-4fd5-a94e-40e8a5538f88",ship_id:1,terminal_time:"2023-01-08 09:45:04",lat:-6.101408,lng:106.9059,wind_speed:6.8,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:45:06",updated_at:"2023-01-08 09:45:06"},{time:1673172004e3,id:"b88f901e-4b17-4f4d-950a-3bbe7040bfe9",ship_id:1,terminal_time:"2023-01-08 10:00:04",lat:-6.101438,lng:106.905878,wind_speed:7.3,wind_direction:282.8,heading:359.8,distance:88555.36,depth:-3.3,cog:116.3,sog:0,created_at:"2023-01-08 10:00:07",updated_at:"2023-01-08 10:00:07"},{time:1673172904e3,id:"ebab5955-d934-4330-9ccd-5d8d1496b18c",ship_id:1,terminal_time:"2023-01-08 10:15:04",lat:-6.101392,lng:106.905872,wind_speed:11.4,wind_direction:335,heading:359.7,distance:88555.36,depth:-3.3,cog:269.6,sog:0,created_at:"2023-01-08 10:15:06",updated_at:"2023-01-08 10:15:06"},{time:1673173804e3,id:"9f29317b-07a0-4caf-b754-11930dd5bd44",ship_id:1,terminal_time:"2023-01-08 10:30:04",lat:-6.101372,lng:106.905888,wind_speed:6.4,wind_direction:332.1,heading:359.7,distance:88555.36,depth:-3.3,cog:157.9,sog:0,created_at:"2023-01-08 10:30:06",updated_at:"2023-01-08 10:30:06"},{time:1673174704e3,id:"962a2be6-5432-402b-9958-84252f281c30",ship_id:1,terminal_time:"2023-01-08 10:45:04",lat:-6.101405,lng:106.905885,wind_speed:10.3,wind_direction:336.4,heading:0,distance:0,depth:-3.3,cog:272.5,sog:0,created_at:"2023-01-08 10:45:05",updated_at:"2023-01-08 10:45:05"},{time:1673175604e3,id:"ce56291e-c8e3-440f-92e0-921395a84182",ship_id:1,terminal_time:"2023-01-08 11:00:04",lat:-6.10143,lng:106.905957,wind_speed:11.6,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:104.1,sog:0,created_at:"2023-01-08 11:00:06",updated_at:"2023-01-08 11:00:06"},{time:1673176504e3,id:"b25e30f7-bd69-432d-af8c-a46b5423e161",ship_id:1,terminal_time:"2023-01-08 11:15:04",lat:-6.101388,lng:106.905873,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:312.3,sog:0,created_at:"2023-01-08 11:15:06",updated_at:"2023-01-08 11:15:06"},{time:1673177404e3,id:"0ccfc4ba-378e-4ad6-a4db-6b35d30a1a23",ship_id:1,terminal_time:"2023-01-08 11:30:04",lat:-6.101405,lng:106.905895,wind_speed:7.9,wind_direction:319.5,heading:359.7,distance:88555.37,depth:-3.3,cog:83.1,sog:.1,created_at:"2023-01-08 11:30:06",updated_at:"2023-01-08 11:30:06"},{time:1673178304e3,id:"b458b825-fbb6-40f4-b251-c347a72a39ab",ship_id:1,terminal_time:"2023-01-08 11:45:04",lat:-6.101403,lng:106.905887,wind_speed:9.5,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:75.4,sog:0,created_at:"2023-01-08 11:45:05",updated_at:"2023-01-08 11:45:05"},{time:1673179204e3,id:"25575159-9a0f-4a66-a7d0-20aea87d0feb",ship_id:1,terminal_time:"2023-01-08 12:00:04",lat:-6.101412,lng:106.905878,wind_speed:8.5,wind_direction:343.6,heading:359.6,distance:88555.37,depth:-3.3,cog:67,sog:0,created_at:"2023-01-08 12:00:06",updated_at:"2023-01-08 12:00:06"},{time:1673180104e3,id:"a3bdb7f9-22b7-4e38-b981-ff099e82bfb6",ship_id:1,terminal_time:"2023-01-08 12:15:04",lat:-6.101407,lng:106.90585,wind_speed:13.8,wind_direction:349,heading:359.6,distance:88555.37,depth:-3.3,cog:36.2,sog:0,created_at:"2023-01-09 08:01:28",updated_at:"2023-01-09 08:01:28"},{time:1673181004e3,id:"468f0650-9d89-4a66-a334-a4fac77e4728",ship_id:1,terminal_time:"2023-01-08 12:30:04",lat:-6.101405,lng:106.905903,wind_speed:19.4,wind_direction:281.5,heading:359.6,distance:88555.37,depth:-3.3,cog:282.7,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673181904e3,id:"03deb747-2062-4451-bd06-e9432e1f2596",ship_id:1,terminal_time:"2023-01-08 12:45:04",lat:-6.10138,lng:106.905892,wind_speed:14.5,wind_direction:287.1,heading:359.6,distance:88555.38,depth:-3.3,cog:308.6,sog:0,created_at:"2023-01-09 08:02:16",updated_at:"2023-01-09 08:02:16"},{time:1673182804e3,id:"d195359b-cc5d-4733-9a4a-c450f7ecdda8",ship_id:1,terminal_time:"2023-01-08 13:00:04",lat:-6.101337,lng:106.905855,wind_speed:12.2,wind_direction:291.4,heading:359.7,distance:88555.38,depth:-3.1,cog:137.7,sog:0,created_at:"2023-01-09 08:02:58",updated_at:"2023-01-09 08:02:58"},{time:1673183704e3,id:"46707f11-6637-4097-9f27-85c91102848f",ship_id:1,terminal_time:"2023-01-08 13:15:04",lat:-6.101385,lng:106.905878,wind_speed:11,wind_direction:281.5,heading:359.6,distance:88555.38,depth:-3.1,cog:153.4,sog:0,created_at:"2023-01-09 08:03:38",updated_at:"2023-01-09 08:03:38"},{time:1673184604e3,id:"44555a10-55f3-451d-8279-71fd68a98ddd",ship_id:1,terminal_time:"2023-01-08 13:30:04",lat:-6.101418,lng:106.905922,wind_speed:20,wind_direction:281.5,heading:359.7,distance:88555.38,depth:-3.1,cog:131.7,sog:0,created_at:"2023-01-09 08:01:25",updated_at:"2023-01-09 08:01:25"},{time:1673185504e3,id:"6f43d2f1-2e54-4989-a2b6-7b411249f2a8",ship_id:1,terminal_time:"2023-01-08 13:45:04",lat:-6.101397,lng:106.90586,wind_speed:15.7,wind_direction:298.3,heading:359.7,distance:88555.38,depth:-3.1,cog:51.2,sog:0,created_at:"2023-01-09 08:03:28",updated_at:"2023-01-09 08:03:28"},{time:1673186404e3,id:"e21e47e0-7761-45fc-aa87-dc06fb2b621c",ship_id:1,terminal_time:"2023-01-08 14:00:04",lat:-6.101392,lng:106.905875,wind_speed:9.5,wind_direction:297,heading:359.6,distance:88555.38,depth:-3,cog:80.4,sog:0,created_at:"2023-01-09 08:02:10",updated_at:"2023-01-09 08:02:10"},{time:1673187304e3,id:"dbf363e6-e9e5-4e72-95d5-fed707eab8c4",ship_id:1,terminal_time:"2023-01-08 14:15:04",lat:-6.101355,lng:106.905872,wind_speed:10.3,wind_direction:332.1,heading:359.8,distance:88555.38,depth:-2.8,cog:289.8,sog:0,created_at:"2023-01-09 08:04:34",updated_at:"2023-01-09 08:04:34"},{time:1673188204e3,id:"12b53920-e835-4c42-8ab7-ec8061a9ba5c",ship_id:1,terminal_time:"2023-01-08 14:30:04",lat:-6.101383,lng:106.90588,wind_speed:7.3,wind_direction:280,heading:359.8,distance:88555.38,depth:-2.8,cog:26.9,sog:0,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673189104e3,id:"c5c563a3-fe51-4dab-bcae-351d28e5f4de",ship_id:1,terminal_time:"2023-01-08 14:45:04",lat:-6.101362,lng:106.905937,wind_speed:13.8,wind_direction:304,heading:359.7,distance:88555.39,depth:-2.8,cog:310.4,sog:.1,created_at:"2023-01-09 08:01:04",updated_at:"2023-01-09 08:01:04"},{time:1673190004e3,id:"3d7b3cbb-14a0-4a8f-93d0-9cf906bc7355",ship_id:1,terminal_time:"2023-01-08 15:00:04",lat:-6.101373,lng:106.905875,wind_speed:5.2,wind_direction:309.6,heading:359.7,distance:88555.4,depth:-2.8,cog:11.5,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673190904e3,id:"9bd54cb5-0df6-4220-852a-e9ff92994333",ship_id:1,terminal_time:"2023-01-08 15:15:04",lat:-6.10139,lng:106.9059,wind_speed:9.7,wind_direction:319.5,heading:359.7,distance:88555.4,depth:-2.8,cog:310.4,sog:0,created_at:"2023-01-09 08:01:20",updated_at:"2023-01-09 08:01:20"},{time:1673191804e3,id:"1039c335-c4fe-4407-9d86-0e0e6f3801d7",ship_id:1,terminal_time:"2023-01-08 15:30:04",lat:-6.101395,lng:106.905902,wind_speed:5,wind_direction:304,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673192704e3,id:"2a373c7d-78e5-475d-b34b-0236fd987dbb",ship_id:1,terminal_time:"2023-01-08 15:45:04",lat:-6.101373,lng:106.905892,wind_speed:8.1,wind_direction:246.3,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:02:09",updated_at:"2023-01-09 08:02:09"},{time:1673193609e3,id:"27afb88f-711d-446a-80c1-5db6f4d652e8",ship_id:1,terminal_time:"2023-01-08 16:00:09",lat:-6.101383,lng:106.905923,wind_speed:16.7,wind_direction:267.4,heading:359.8,distance:88555.4,depth:-2.6,cog:274.8,sog:0,created_at:"2023-01-09 08:01:34",updated_at:"2023-01-09 08:01:34"},{time:1673194504e3,id:"7a688f79-a052-4162-98a4-93fbeec24b60",ship_id:1,terminal_time:"2023-01-08 16:15:04",lat:-6.101367,lng:106.90591,wind_speed:11.4,wind_direction:291.4,heading:359.6,distance:88555.41,depth:-2.6,cog:177.3,sog:.1,created_at:"2023-01-09 08:01:27",updated_at:"2023-01-09 08:01:27"},{time:1673195404e3,id:"1c77e367-adf9-4b24-9e28-1614417c0043",ship_id:1,terminal_time:"2023-01-08 16:30:04",lat:-6.101337,lng:106.90587,wind_speed:10.8,wind_direction:280,heading:359.6,distance:88555.42,depth:-2.6,cog:163.2,sog:0,created_at:"2023-01-09 08:02:53",updated_at:"2023-01-09 08:02:53"},{time:1673196304e3,id:"47c8015f-f5e4-44eb-af39-6631ab095c14",ship_id:1,terminal_time:"2023-01-08 16:45:04",lat:-6.101367,lng:106.905915,wind_speed:6.6,wind_direction:280,heading:359.8,distance:88555.42,depth:-2.6,cog:359.3,sog:0,created_at:"2023-01-09 08:01:48",updated_at:"2023-01-09 08:01:48"},{time:1673197204e3,id:"d0e28486-e7bc-4ac1-a4d8-0bbb6d72aee3",ship_id:1,terminal_time:"2023-01-08 17:00:04",lat:-6.101365,lng:106.905892,wind_speed:6.9,wind_direction:267.4,heading:359.8,distance:88555.42,depth:-2.6,cog:282.7,sog:0,created_at:"2023-01-09 08:05:29",updated_at:"2023-01-09 08:05:29"},{time:1673198104e3,id:"5791dc42-ed81-48a4-b540-b452a5633205",ship_id:1,terminal_time:"2023-01-08 17:15:04",lat:-6.101408,lng:106.905945,wind_speed:9.5,wind_direction:257.5,heading:0,distance:0,depth:-2.6,cog:300.4,sog:0,created_at:"2023-01-09 08:04:45",updated_at:"2023-01-09 08:04:45"},{time:1673199004e3,id:"603a0afa-1ca2-45d2-a9b6-0745a5e33b11",ship_id:1,terminal_time:"2023-01-08 17:30:04",lat:-6.10137,lng:106.905992,wind_speed:9.1,wind_direction:249.1,heading:359.5,distance:88555.42,depth:-2.5,cog:302.2,sog:0,created_at:"2023-01-09 08:03:51",updated_at:"2023-01-09 08:03:51"},{time:1673199904e3,id:"ab249c72-fe0b-4b61-aadb-60e506340e0a",ship_id:1,terminal_time:"2023-01-08 17:45:04",lat:-6.101405,lng:106.905933,wind_speed:8.5,wind_direction:247.7,heading:359.5,distance:88555.42,depth:-2.5,cog:346.1,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673200804e3,id:"ad719767-8da7-4530-af3a-e3d833d92178",ship_id:1,terminal_time:"2023-01-08 18:00:04",lat:-6.101377,lng:106.905882,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-2.5,cog:10.1,sog:0,created_at:"2023-01-09 08:01:03",updated_at:"2023-01-09 08:01:03"},{time:1673207354e3,id:"63c9d130-6bb7-4318-b5f2-675e7faf0e4c",ship_id:1,terminal_time:"2023-01-08 19:49:14",lat:-6.101343,lng:106.905863,wind_speed:7.9,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:159,sog:0,created_at:"2023-01-09 08:03:14",updated_at:"2023-01-09 08:03:14"},{time:1673208004e3,id:"3bf8de17-ebbb-4fcb-b854-a96a429acecb",ship_id:1,terminal_time:"2023-01-08 20:00:04",lat:-6.101333,lng:106.905857,wind_speed:9.9,wind_direction:235.1,heading:359.7,distance:88555.43,depth:-2.6,cog:83.4,sog:0,created_at:"2023-01-09 08:04:33",updated_at:"2023-01-09 08:04:33"},{time:1673208904e3,id:"fb4f8778-7bcb-40f3-956a-b79108ad31b2",ship_id:1,terminal_time:"2023-01-08 20:15:04",lat:-6.101393,lng:106.905902,wind_speed:7.5,wind_direction:252,heading:359.7,distance:88555.43,depth:-6,cog:131.2,sog:0,created_at:"2023-01-09 08:05:16",updated_at:"2023-01-09 08:05:16"},{time:1673209804e3,id:"5242adab-8959-40a5-8978-635cea013f84",ship_id:1,terminal_time:"2023-01-08 20:30:04",lat:-6.101357,lng:106.905868,wind_speed:5.6,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.5,cog:274.3,sog:0,created_at:"2023-01-09 08:00:56",updated_at:"2023-01-09 08:00:56"},{time:1673210704e3,id:"0c83a2c4-2bcd-476e-ac3b-460d1b25f858",ship_id:1,terminal_time:"2023-01-08 20:45:04",lat:-6.101342,lng:106.905882,wind_speed:7.5,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:267.2,sog:0,created_at:"2023-01-09 08:02:36",updated_at:"2023-01-09 08:02:36"},{time:1673211604e3,id:"458708de-a317-4292-a57f-1117f5f9f56d",ship_id:1,terminal_time:"2023-01-08 21:00:04",lat:-6.101388,lng:106.905948,wind_speed:12.2,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:271.1,sog:0,created_at:"2023-01-09 08:05:06",updated_at:"2023-01-09 08:05:06"},{time:1673212504e3,id:"67504e3d-78c5-491b-ab2f-ead7b531eab7",ship_id:1,terminal_time:"2023-01-08 21:15:04",lat:-6.1014420000000005,lng:106.905875,wind_speed:9.5,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:273.1,sog:.1,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673213404e3,id:"029c42f5-7b81-4393-94ab-d99385dd210e",ship_id:1,terminal_time:"2023-01-08 21:30:04",lat:-6.101397,lng:106.905873,wind_speed:9.1,wind_direction:280,heading:359.7,distance:88555.44,depth:-2.6,cog:278.6,sog:.1,created_at:"2023-01-09 08:05:28",updated_at:"2023-01-09 08:05:28"},{time:1673214304e3,id:"68b68fd8-c24d-4c82-8066-e3d469f5edbe",ship_id:1,terminal_time:"2023-01-08 21:45:04",lat:-6.101372,lng:106.905917,wind_speed:8.3,wind_direction:242.1,heading:359.8,distance:88555.44,depth:-6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:13",updated_at:"2023-01-09 08:05:13"},{time:1673215204e3,id:"361ce47f-0c08-47bb-967f-d1db1b9a05c3",ship_id:1,terminal_time:"2023-01-08 22:00:04",lat:-6.10138,lng:106.905898,wind_speed:16.7,wind_direction:248.3,heading:359.6,distance:88555.44,depth:-2.6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:04",updated_at:"2023-01-09 08:05:04"},{time:1673216104e3,id:"3ea2af9a-a3fc-420e-b179-53b02aa87e39",ship_id:1,terminal_time:"2023-01-08 22:15:04",lat:-6.10142,lng:106.90588,wind_speed:7.9,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.1,cog:213.1,sog:0,created_at:"2023-01-09 08:05:49",updated_at:"2023-01-09 08:05:49"},{time:1673217004e3,id:"1cb11726-d0ad-4402-a975-0af78f5631b4",ship_id:1,terminal_time:"2023-01-08 22:30:04",lat:-6.101388,lng:106.905885,wind_speed:17.1,wind_direction:247.7,heading:359.8,distance:88555.44,depth:-6,cog:221.4,sog:0,created_at:"2023-01-09 08:06:08",updated_at:"2023-01-09 08:06:08"},{time:1673217904e3,id:"892a3800-b287-4c33-913e-0683528e0431",ship_id:1,terminal_time:"2023-01-08 22:45:04",lat:-6.101377,lng:106.905895,wind_speed:11.4,wind_direction:249.1,heading:359.7,distance:88555.44,depth:-2.6,cog:103.9,sog:0,created_at:"2023-01-09 08:06:00",updated_at:"2023-01-09 08:06:00"},{time:1673218804e3,id:"6f3b1990-857c-4d00-b25a-0434a0cc2c8d",ship_id:1,terminal_time:"2023-01-08 23:00:04",lat:-6.101413,lng:106.90589,wind_speed:10.4,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.5,cog:131.5,sog:0,created_at:"2023-01-09 08:05:56",updated_at:"2023-01-09 08:05:56"},{time:1673219704e3,id:"f988100e-1c17-4430-ad7d-d42c5f9101cb",ship_id:1,terminal_time:"2023-01-08 23:15:04",lat:-6.101383,lng:106.905863,wind_speed:11.2,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:9.7,sog:0,created_at:"2023-01-09 08:06:57",updated_at:"2023-01-09 08:06:57"},{time:1673220604e3,id:"f9bfd7d8-0ed7-4e7c-9dd8-33793538967e",ship_id:1,terminal_time:"2023-01-08 23:30:04",lat:-6.101388,lng:106.905893,wind_speed:7.3,wind_direction:252,heading:359.7,distance:88555.44,depth:-6.3,cog:189.1,sog:.1,created_at:"2023-01-09 08:06:40",updated_at:"2023-01-09 08:06:40"},{time:1673221504e3,id:"d81f2408-511b-43f5-bc66-b9f8f3d84aea",ship_id:1,terminal_time:"2023-01-08 23:45:04",lat:-6.1014230000000005,lng:106.905862,wind_speed:11.2,wind_direction:246.3,heading:359.7,distance:88555.44,depth:-2.6,cog:195.3,sog:.1,created_at:"2023-01-09 08:06:41",updated_at:"2023-01-09 08:06:41"},{time:1673222404e3,id:"d1ae49e1-c912-4626-a700-c644a64c58ca",ship_id:1,terminal_time:"2023-01-09 00:00:04",lat:-6.101397,lng:106.905872,wind_speed:15.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.5,cog:57.8,sog:0,created_at:"2023-01-09 08:06:43",updated_at:"2023-01-09 08:06:43"},{time:1673223301e3,id:"30c254de-ca32-4ae0-9bbe-50a124f42fb5",ship_id:1,terminal_time:"2023-01-09 00:15:01",lat:-6.101368,lng:106.905878,wind_speed:12,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.1,cog:64.2,sog:0,created_at:"2023-01-09 08:07:06",updated_at:"2023-01-09 08:07:06"},{time:1673224201e3,id:"ce816a40-630c-48fa-abf2-50e2d743ecee",ship_id:1,terminal_time:"2023-01-09 00:30:01",lat:-6.101373,lng:106.905888,wind_speed:12.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:-2.8,cog:59.9,sog:0,created_at:"2023-01-09 08:07:38",updated_at:"2023-01-09 08:07:38"},{time:1673225101e3,id:"873c1631-7c9a-4a1d-b124-3879b28dd758",ship_id:1,terminal_time:"2023-01-09 00:45:01",lat:-6.101432,lng:106.905888,wind_speed:11.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:0,cog:222.4,sog:0,created_at:"2023-01-09 08:07:00",updated_at:"2023-01-09 08:07:00"},{time:1673226001e3,id:"53704def-9137-4944-8a3a-b36330fc1fb7",ship_id:1,terminal_time:"2023-01-09 01:00:01",lat:-6.1014420000000005,lng:106.905897,wind_speed:7.5,wind_direction:247.7,heading:359.7,distance:88555.44,depth:-6.1,cog:168.1,sog:0,created_at:"2023-01-09 08:06:44",updated_at:"2023-01-09 08:06:44"},{time:1673226901e3,id:"4c58ab98-4589-4979-82a3-2d5349e2d6d2",ship_id:1,terminal_time:"2023-01-09 01:15:01",lat:-6.101377,lng:106.905895,wind_speed:9.7,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:128.8,sog:0,created_at:"2023-01-09 08:07:55",updated_at:"2023-01-09 08:07:55"},{time:1673227801e3,id:"f53589c2-2628-4822-9efe-e9d5f6f97006",ship_id:1,terminal_time:"2023-01-09 01:30:01",lat:-6.101372,lng:106.905907,wind_speed:11,wind_direction:235.1,heading:359.7,distance:88555.44,depth:-2.8,cog:169.3,sog:0,created_at:"2023-01-09 08:07:52",updated_at:"2023-01-09 08:07:52"},{time:1673228701e3,id:"bbd3afac-671c-491d-9a53-a913b265f3a6",ship_id:1,terminal_time:"2023-01-09 01:45:01",lat:-6.101395,lng:106.905885,wind_speed:10.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:0,cog:336.2,sog:.1,created_at:"2023-01-09 08:07:54",updated_at:"2023-01-09 08:07:54"},{time:1673229626e3,id:"677d4da2-f2e4-4785-a282-e26977f5ff59",ship_id:1,terminal_time:"2023-01-09 02:00:26",lat:-6.101397,lng:106.905892,wind_speed:8.1,wind_direction:253.4,heading:359.8,distance:88555.46,depth:-6.3,cog:344.2,sog:.1,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673230501e3,id:"6d6e995c-7f59-4690-9ba0-6bdde399168a",ship_id:1,terminal_time:"2023-01-09 02:15:01",lat:-6.10142,lng:106.90591,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.47,depth:-2.8,cog:64.8,sog:0,created_at:"2023-01-09 08:08:12",updated_at:"2023-01-09 08:08:12"},{time:1673231401e3,id:"0be9f717-f25a-490d-bcae-34fa65d89a27",ship_id:1,terminal_time:"2023-01-09 02:30:01",lat:-6.1014,lng:106.905907,wind_speed:6.9,wind_direction:235.1,heading:359.6,distance:88555.48,depth:-2.8,cog:350.3,sog:0,created_at:"2023-01-09 08:08:21",updated_at:"2023-01-09 08:08:21"},{time:1673232301e3,id:"b89c57ee-02ec-4c81-a463-3ab63eea35d4",ship_id:1,terminal_time:"2023-01-09 02:45:01",lat:-6.10141,lng:106.905907,wind_speed:7.1,wind_direction:281.5,heading:359.7,distance:88555.49,depth:0,cog:340.6,sog:0,created_at:"2023-01-09 08:08:13",updated_at:"2023-01-09 08:08:13"},{time:1673233201e3,id:"a3fba678-1575-4c94-8040-8e2bb4f35c29",ship_id:1,terminal_time:"2023-01-09 03:00:01",lat:-6.101398,lng:106.905902,wind_speed:11,wind_direction:246.3,heading:359.6,distance:88555.49,depth:-6.6,cog:302,sog:0,created_at:"2023-01-09 08:09:06",updated_at:"2023-01-09 08:09:06"},{time:1673234101e3,id:"4d903123-c967-4aba-be64-4bfa45d2e9e2",ship_id:1,terminal_time:"2023-01-09 03:15:01",lat:-6.10139,lng:106.905878,wind_speed:7.7,wind_direction:259,heading:359.6,distance:88555.49,depth:-6.5,cog:314.3,sog:0,created_at:"2023-01-09 08:08:14",updated_at:"2023-01-09 08:08:14"},{time:1673235001e3,id:"1d4da80d-e1b4-46f3-b844-89cc8683bf40",ship_id:1,terminal_time:"2023-01-09 03:30:01",lat:-6.10141,lng:106.905928,wind_speed:6.2,wind_direction:247.7,heading:359.7,distance:88555.5,depth:0,cog:132.4,sog:0,created_at:"2023-01-09 08:08:53",updated_at:"2023-01-09 08:08:53"},{time:1673235901e3,id:"e71cde87-3b60-447e-b2e7-ba313276631d",ship_id:1,terminal_time:"2023-01-09 03:45:01",lat:-6.101413,lng:106.90591,wind_speed:7.7,wind_direction:252,heading:359.8,distance:88555.5,depth:0,cog:209.2,sog:0,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673236801e3,id:"f5446243-0920-43f1-b55b-e1e7745911d7",ship_id:1,terminal_time:"2023-01-09 04:00:01",lat:-6.1013269999999995,lng:106.90594,wind_speed:7.1,wind_direction:257.5,heading:359.9,distance:88555.5,depth:-7.1,cog:206.1,sog:.1,created_at:"2023-01-09 08:08:58",updated_at:"2023-01-09 08:08:58"},{time:1673237701e3,id:"93eedeac-7e8c-4b16-8181-ccaa306bc5fd",ship_id:1,terminal_time:"2023-01-09 04:15:01",lat:-6.101417,lng:106.90591,wind_speed:8.1,wind_direction:264.5,heading:359.8,distance:88555.5,depth:-7,cog:278.5,sog:0,created_at:"2023-01-09 08:09:03",updated_at:"2023-01-09 08:09:03"},{time:1673238601e3,id:"5ea3a677-6e78-4773-a9e5-c6f4c365cfa1",ship_id:1,terminal_time:"2023-01-09 04:30:01",lat:-6.101412,lng:106.905892,wind_speed:9.5,wind_direction:249.1,heading:359.8,distance:88555.5,depth:-6.8,cog:161.2,sog:.1,created_at:"2023-01-09 08:09:01",updated_at:"2023-01-09 08:09:01"},{time:1673239501e3,id:"5c8c5a2a-ed74-4185-bef6-92c28a9fdf4e",ship_id:1,terminal_time:"2023-01-09 04:45:01",lat:-6.101433,lng:106.905898,wind_speed:6.9,wind_direction:246.3,heading:0,distance:0,depth:-3.1,cog:73.5,sog:0,created_at:"2023-01-09 08:08:43",updated_at:"2023-01-09 08:08:43"},{time:1673240401e3,id:"4c79c190-421c-4140-841f-2591d3cdafff",ship_id:1,terminal_time:"2023-01-09 05:00:01",lat:-6.10142,lng:106.905925,wind_speed:9.7,wind_direction:242.1,heading:359.8,distance:88555.5,depth:-3.1,cog:125.4,sog:0,created_at:"2023-01-09 08:09:52",updated_at:"2023-01-09 08:09:52"},{time:1673241301e3,id:"c259fb8e-9a36-4dfc-bc0a-68cd1a49a286",ship_id:1,terminal_time:"2023-01-09 05:15:01",lat:-6.101342,lng:106.905905,wind_speed:5.2,wind_direction:240.7,heading:359.8,distance:88555.5,depth:-7.1,cog:159.2,sog:0,created_at:"2023-01-09 08:10:04",updated_at:"2023-01-09 08:10:04"},{time:1673242201e3,id:"27226360-f285-47ad-94b4-61ad2013e144",ship_id:1,terminal_time:"2023-01-09 05:30:01",lat:-6.101395,lng:106.905882,wind_speed:6.4,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-3.3,cog:250.3,sog:0,created_at:"2023-01-09 08:10:13",updated_at:"2023-01-09 08:10:13"},{time:1673243101e3,id:"2da1e4fe-f5f0-4895-b5fa-c4e50ec472d0",ship_id:1,terminal_time:"2023-01-09 05:45:01",lat:-6.101352,lng:106.905885,wind_speed:9.7,wind_direction:240.7,heading:359.7,distance:88555.5,depth:-3.5,cog:225.4,sog:0,created_at:"2023-01-09 08:10:15",updated_at:"2023-01-09 08:10:15"},{time:1673244001e3,id:"e101776c-0d25-4862-be01-60bdcd5c14e5",ship_id:1,terminal_time:"2023-01-09 06:00:01",lat:-6.101385,lng:106.905892,wind_speed:10.6,wind_direction:246.3,heading:359.6,distance:88555.5,depth:-3.5,cog:326.1,sog:0,created_at:"2023-01-09 08:10:03",updated_at:"2023-01-09 08:10:03"},{time:1673244901e3,id:"a9941a2b-e575-408e-a7bb-dacd988e6d96",ship_id:1,terminal_time:"2023-01-09 06:15:01",lat:-6.101383,lng:106.905903,wind_speed:7.1,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.5,cog:256.6,sog:0,created_at:"2023-01-09 08:10:10",updated_at:"2023-01-09 08:10:10"},{time:1673245801e3,id:"a1187bf0-abe9-4353-82a3-d4fd442c22e3",ship_id:1,terminal_time:"2023-01-09 06:30:01",lat:-6.101395,lng:106.905883,wind_speed:7.7,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.6,cog:215.4,sog:0,created_at:"2023-01-09 08:09:40",updated_at:"2023-01-09 08:09:40"},{time:1673246701e3,id:"c3d8f1fb-1911-4887-b3ce-949bd243f6c1",ship_id:1,terminal_time:"2023-01-09 06:45:01",lat:-6.101395,lng:106.90591,wind_speed:9.9,wind_direction:252,heading:359.8,distance:88555.5,depth:-3.8,cog:125.3,sog:0,created_at:"2023-01-09 08:10:36",updated_at:"2023-01-09 08:10:36"},{time:1673247601e3,id:"6d3fb6e4-4b62-422c-bd75-5562e48a058d",ship_id:1,terminal_time:"2023-01-09 07:00:01",lat:-6.101393,lng:106.905862,wind_speed:7.5,wind_direction:252,heading:359.9,distance:88555.5,depth:-3.8,cog:64.2,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673248501e3,id:"6c8d24c2-f12c-4698-a829-a0632f019df1",ship_id:1,terminal_time:"2023-01-09 07:15:01",lat:-6.101393,lng:106.905878,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.5,depth:-4,cog:64.5,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673249401e3,id:"519acfef-d197-4cfa-afa7-4e6e5e4b8737",ship_id:1,terminal_time:"2023-01-09 07:30:01",lat:-6.101377,lng:106.905885,wind_speed:6.6,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:41",updated_at:"2023-01-09 08:10:41"},{time:1673250301e3,id:"aa8fe1a7-57d9-445d-8f18-3f22b1a409c6",ship_id:1,terminal_time:"2023-01-09 07:45:01",lat:-6.101395,lng:106.905893,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:11:09",updated_at:"2023-01-09 08:11:09"},{time:1673251201e3,id:"5d87fb41-c0a5-49b5-aabc-e16448ec0db7",ship_id:1,terminal_time:"2023-01-09 08:00:01",lat:-6.101405,lng:106.905888,wind_speed:6,wind_direction:265.9,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:51",updated_at:"2023-01-09 08:10:51"},{time:1673257766e3,id:"59f2dd21-3619-4d39-a699-a444c5f5039c",ship_id:1,terminal_time:"2023-01-09 09:49:26",lat:-6.10138,lng:106.905813,wind_speed:14.1,wind_direction:302.5,heading:359.8,distance:88555.5,depth:-4.1,cog:132.4,sog:0,created_at:"2023-01-10 08:00:06",updated_at:"2023-01-10 08:00:06"},{time:1673258401e3,id:"6b431693-2664-44b6-8518-5ab07bbf0c85",ship_id:1,terminal_time:"2023-01-09 10:00:01",lat:-6.101373,lng:106.9059,wind_speed:14.1,wind_direction:282.9,heading:359.8,distance:88555.5,depth:-4.1,cog:115.2,sog:0,created_at:"2023-01-10 08:02:29",updated_at:"2023-01-10 08:02:29"},{time:1673259301e3,id:"40fb792e-7a2e-4697-a25b-e79c2d2fdbc6",ship_id:1,terminal_time:"2023-01-09 10:15:01",lat:-6.10135,lng:106.905885,wind_speed:7.1,wind_direction:332.1,heading:359.9,distance:88555.5,depth:-4.3,cog:144.6,sog:0,created_at:"2023-01-10 08:01:40",updated_at:"2023-01-10 08:01:40"},{time:1673260201e3,id:"354963f0-7e7e-4ea0-97ae-5e69a9a932c9",ship_id:1,terminal_time:"2023-01-09 10:30:01",lat:-6.101405,lng:106.90586,wind_speed:12.6,wind_direction:292.8,heading:359.8,distance:88555.5,depth:-4.3,cog:105.8,sog:0,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673261101e3,id:"5bbbf421-2adb-4fd3-81a0-b0cade6e5e67",ship_id:1,terminal_time:"2023-01-09 10:45:01",lat:-6.101395,lng:106.905892,wind_speed:9.5,wind_direction:297,heading:359.8,distance:88555.5,depth:-4.3,cog:214.9,sog:0,created_at:"2023-01-10 08:05:43",updated_at:"2023-01-10 08:05:43"},{time:1673262001e3,id:"630c5619-2b52-4cbb-93bf-85c73cae98ae",ship_id:1,terminal_time:"2023-01-09 11:00:01",lat:-6.101408,lng:106.905882,wind_speed:6.6,wind_direction:297,heading:0,distance:0,depth:-4.3,cog:99.6,sog:0,created_at:"2023-01-10 08:02:39",updated_at:"2023-01-10 08:02:39"},{time:1673262901e3,id:"b403636b-8619-4d42-9cb4-6c4166a1b9b3",ship_id:1,terminal_time:"2023-01-09 11:15:01",lat:-6.101393,lng:106.90587,wind_speed:5,wind_direction:311.5,heading:359.8,distance:88555.5,depth:-4.3,cog:93.5,sog:0,created_at:"2023-01-10 08:04:42",updated_at:"2023-01-10 08:04:42"},{time:1673263806e3,id:"5f165c7e-e6b7-44c1-a482-567e62bc4017",ship_id:1,terminal_time:"2023-01-09 11:30:06",lat:-6.1014,lng:106.905877,wind_speed:15.1,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:73.4,sog:0,created_at:"2023-01-10 08:02:10",updated_at:"2023-01-10 08:02:10"},{time:1673264701e3,id:"bd2a40ce-8f23-43e0-8272-8f201c185ec8",ship_id:1,terminal_time:"2023-01-09 11:45:01",lat:-6.101388,lng:106.905907,wind_speed:16.3,wind_direction:337.8,heading:359.9,distance:88555.51,depth:-4.1,cog:61.2,sog:0,created_at:"2023-01-10 08:05:49",updated_at:"2023-01-10 08:05:49"},{time:1673265601e3,id:"c24f89d3-7780-4ffc-a265-5b6d2f72f073",ship_id:1,terminal_time:"2023-01-09 12:00:01",lat:-6.1014,lng:106.905888,wind_speed:14.7,wind_direction:342,heading:359.8,distance:88555.51,depth:-4.1,cog:67.8,sog:0,created_at:"2023-01-10 08:03:23",updated_at:"2023-01-10 08:03:23"},{time:1673266501e3,id:"13982c0e-988a-46c5-bec8-355b5f7dc5ca",ship_id:1,terminal_time:"2023-01-09 12:15:01",lat:-6.101408,lng:106.905903,wind_speed:7.1,wind_direction:315.3,heading:359.8,distance:88555.51,depth:-4.1,cog:36.9,sog:0,created_at:"2023-01-10 08:02:34",updated_at:"2023-01-10 08:02:34"},{time:1673267401e3,id:"d0beec20-b06e-4fc7-ad00-6f35454bb257",ship_id:1,terminal_time:"2023-01-09 12:30:01",lat:-6.10138,lng:106.905855,wind_speed:11.2,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:37.8,sog:0,created_at:"2023-01-10 08:01:57",updated_at:"2023-01-10 08:01:57"},{time:1673268301e3,id:"98379784-93de-4f27-b326-467bfef4b682",ship_id:1,terminal_time:"2023-01-09 12:45:01",lat:-6.101353,lng:106.905848,wind_speed:12.6,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:90.6,sog:0,created_at:"2023-01-10 08:05:23",updated_at:"2023-01-10 08:05:23"},{time:1673269201e3,id:"05ff55cd-da21-40f7-83dd-131e0587880e",ship_id:1,terminal_time:"2023-01-09 13:00:01",lat:-6.101385,lng:106.905875,wind_speed:12.2,wind_direction:342,heading:359.7,distance:88555.51,depth:-4,cog:96.8,sog:.1,created_at:"2023-01-10 08:01:45",updated_at:"2023-01-10 08:01:45"},{time:1673270101e3,id:"f7cc3f27-2367-4a6d-a4c2-db1154e9e00f",ship_id:1,terminal_time:"2023-01-09 13:15:01",lat:-6.101383,lng:106.905865,wind_speed:14.5,wind_direction:337.8,heading:359.7,distance:88555.51,depth:-4,cog:150.1,sog:.1,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673271001e3,id:"f662f7f2-d4d5-449f-873a-bcdfc3a00d51",ship_id:1,terminal_time:"2023-01-09 13:30:01",lat:-6.101357,lng:106.905865,wind_speed:12.8,wind_direction:337.8,heading:359.7,distance:88555.52,depth:-4,cog:321.4,sog:0,created_at:"2023-01-10 08:02:28",updated_at:"2023-01-10 08:02:28"},{time:1673271901e3,id:"89151d87-e6ce-4678-a3ef-8544ce5f573f",ship_id:1,terminal_time:"2023-01-09 13:45:01",lat:-6.101363,lng:106.905908,wind_speed:14.7,wind_direction:337.8,heading:359.6,distance:88555.52,depth:-4,cog:66.8,sog:0,created_at:"2023-01-10 08:04:30",updated_at:"2023-01-10 08:04:30"},{time:1673272801e3,id:"03f8f7d6-97b0-4dd5-be91-36f792a1a625",ship_id:1,terminal_time:"2023-01-09 14:00:01",lat:-6.101427,lng:106.905857,wind_speed:13,wind_direction:332.1,heading:.4,distance:88555.52,depth:-4,cog:287.6,sog:0,created_at:"2023-01-10 08:03:02",updated_at:"2023-01-10 08:03:02"},{time:1673273701e3,id:"a1f01e80-907b-4720-aaa7-aa073ffd06af",ship_id:1,terminal_time:"2023-01-09 14:15:01",lat:-6.095707,lng:106.89818,wind_speed:26.6,wind_direction:45,heading:276.6,distance:88556.26,depth:-11.3,cog:274.8,sog:6.6,created_at:"2023-01-10 08:01:52",updated_at:"2023-01-10 08:01:52"},{time:1673274601e3,id:"615a0d2a-2428-4c59-a170-a77f1278abfc",ship_id:1,terminal_time:"2023-01-09 14:30:01",lat:-6.079302,lng:106.881568,wind_speed:26.2,wind_direction:349,heading:355.1,distance:88557.85,depth:-10.8,cog:357.4,sog:7.3,created_at:"2023-01-10 08:01:54",updated_at:"2023-01-10 08:01:54"},{time:1673275501e3,id:"8a83141d-bf01-41b2-a27c-8b01697b30c7",ship_id:1,terminal_time:"2023-01-09 14:45:01",lat:-6.03759,lng:106.880487,wind_speed:28.9,wind_direction:0,heading:350.6,distance:88560.36,depth:-12.5,cog:353.9,sog:10.4,created_at:"2023-01-10 08:03:06",updated_at:"2023-01-10 08:03:06"},{time:1673276401e3,id:"f8617d50-8583-4cef-a0dd-29468fbc2d90",ship_id:1,terminal_time:"2023-01-09 15:00:01",lat:-5.98431,lng:106.873388,wind_speed:29.7,wind_direction:9.7,heading:330.3,distance:88563.54,depth:-16.6,cog:338.3,sog:12.5,created_at:"2023-01-10 08:03:19",updated_at:"2023-01-10 08:03:19"},{time:1673277301e3,id:"966ade39-66eb-4749-99b5-72528c7217e9",ship_id:1,terminal_time:"2023-01-09 15:15:01",lat:-5.961758,lng:106.82729,wind_speed:29.3,wind_direction:16.8,heading:312.6,distance:88566.7,depth:-19,cog:312.1,sog:13.2,created_at:"2023-01-10 08:02:20",updated_at:"2023-01-10 08:02:20"},{time:1673278201e3,id:"7531c730-0f9f-498f-85e9-d9704b5e56c3",ship_id:1,terminal_time:"2023-01-09 15:30:01",lat:-5.931025,lng:106.78072,wind_speed:28.1,wind_direction:21,heading:310.9,distance:88570,depth:-22.5,cog:312.1,sog:13.4,created_at:"2023-01-10 08:04:54",updated_at:"2023-01-10 08:04:54"},{time:1673279101e3,id:"0f5e09a8-fa21-4745-b847-90fe597eae7b",ship_id:1,terminal_time:"2023-01-09 15:45:01",lat:-14.161667,lng:116.66,wind_speed:27.2,wind_direction:32.3,heading:308,distance:88573.33,depth:-30.5,cog:0,sog:0,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673280121e3,id:"b0c02cd1-d141-4cc5-b9f3-469c2154f3b2",ship_id:1,terminal_time:"2023-01-09 16:02:01",lat:-5.854772,lng:106.68859,wind_speed:23.7,wind_direction:33.6,heading:304.1,distance:88577.22,depth:-27.8,cog:305.1,sog:13.5,created_at:"2023-01-10 08:06:17",updated_at:"2023-01-10 08:06:17"},{time:1673280901e3,id:"60d837ed-22c2-4b7e-954a-8ed76765bb6b",ship_id:1,terminal_time:"2023-01-09 16:15:01",lat:-5.828417,lng:106.647598,wind_speed:19.2,wind_direction:54.9,heading:267.9,distance:88580.13,depth:-45.3,cog:273.5,sog:12.4,created_at:"2023-01-10 08:04:40",updated_at:"2023-01-10 08:04:40"},{time:1673281801e3,id:"5e868bf7-9f25-4361-9d84-88ccdcadc5bd",ship_id:1,terminal_time:"2023-01-09 16:30:01",lat:-5.833347,lng:106.590948,wind_speed:20.4,wind_direction:43.6,heading:263.3,distance:88583.55,depth:-70.6,cog:263.3,sog:13.8,created_at:"2023-01-10 08:03:21",updated_at:"2023-01-10 08:03:21"},{time:1673282701e3,id:"290d63d9-e0da-419c-880b-2ff176353be8",ship_id:1,terminal_time:"2023-01-09 16:45:01",lat:-5.83681,lng:106.533245,wind_speed:19.2,wind_direction:49.1,heading:269.3,distance:88586.99,depth:-83.3,cog:270,sog:13.8,created_at:"2023-01-10 08:04:36",updated_at:"2023-01-10 08:04:36"},{time:1673283601e3,id:"74437480-2eee-4b7d-bdec-bf2c3f57793e",ship_id:1,terminal_time:"2023-01-09 17:00:01",lat:-5.836503,lng:106.475305,wind_speed:20.4,wind_direction:49.1,heading:264.9,distance:88590.47,depth:-48.5,cog:266.8,sog:13.9,created_at:"2023-01-10 08:05:08",updated_at:"2023-01-10 08:05:08"},{time:1673284501e3,id:"a12b6836-7207-4ed4-b124-4d651273bb02",ship_id:1,terminal_time:"2023-01-09 17:15:01",lat:-5.845467,lng:106.417943,wind_speed:20.4,wind_direction:43.6,heading:267.7,distance:88593.93,depth:-51.6,cog:265.6,sog:14,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673285401e3,id:"09588182-8517-4089-9f19-f6dfe3842699",ship_id:1,terminal_time:"2023-01-09 17:30:01",lat:-5.841642,lng:106.35981,wind_speed:21.3,wind_direction:33.6,heading:0,distance:0,depth:-27.1,cog:274.8,sog:14.1,created_at:"2023-01-10 08:05:40",updated_at:"2023-01-10 08:05:40"},{time:1673286301e3,id:"878bec49-a145-488f-ae6a-22e20f985adb",ship_id:1,terminal_time:"2023-01-09 17:45:01",lat:-5.838773,lng:106.300968,wind_speed:24.4,wind_direction:26.7,heading:269.9,distance:88600.96,depth:-32.6,cog:270.7,sog:14.2,created_at:"2023-01-10 08:04:41",updated_at:"2023-01-10 08:04:41"},{time:1673287201e3,id:"e479c84e-0867-465c-8999-5e588a85eea7",ship_id:1,terminal_time:"2023-01-09 18:00:01",lat:-5.837823,lng:106.239917,wind_speed:27.4,wind_direction:4.2,heading:270,distance:88604.52,depth:-23.8,cog:271.2,sog:14.3,created_at:"2023-01-10 08:05:14",updated_at:"2023-01-10 08:05:14"},{time:1673288101e3,id:"c65ffd03-8a74-4926-bed4-8610fa7e81a0",ship_id:1,terminal_time:"2023-01-09 18:15:01",lat:-5.838808,lng:106.181588,wind_speed:25,wind_direction:9.7,heading:264.9,distance:88608.11,depth:-28.1,cog:0,sog:0,created_at:"2023-01-10 08:06:48",updated_at:"2023-01-10 08:06:48"},{time:1673289001e3,id:"1c8548ab-cb0d-4bdb-9f57-195a3c362744",ship_id:1,terminal_time:"2023-01-09 18:30:01",lat:-5.841168,lng:106.120507,wind_speed:25,wind_direction:4.2,heading:268.9,distance:88611.69,depth:-38.3,cog:269.4,sog:14.3,created_at:"2023-01-10 08:06:38",updated_at:"2023-01-10 08:06:38"},{time:1673289901e3,id:"9205bfd4-683a-4325-8b29-103eb842219b",ship_id:1,terminal_time:"2023-01-09 18:45:01",lat:-5.8411,lng:106.061022,wind_speed:28.9,wind_direction:0,heading:269.1,distance:88615.22,depth:-50.3,cog:270.3,sog:14.2,created_at:"2023-01-10 08:06:30",updated_at:"2023-01-10 08:06:30"},{time:1673290801e3,id:"911bece6-7e5c-40f0-b0da-cf35b3eb7067",ship_id:1,terminal_time:"2023-01-09 19:00:01",lat:-5.854877,lng:106.006268,wind_speed:30.7,wind_direction:21,heading:225.6,distance:88618.76,depth:-74.5,cog:229.1,sog:14.3,created_at:"2023-01-10 08:07:24",updated_at:"2023-01-10 08:07:24"},{time:1673291701e3,id:"7fefd3ea-5a95-4eaf-a4ef-ec5bbb15390a",ship_id:1,terminal_time:"2023-01-09 19:15:01",lat:-5.897932,lng:105.964727,wind_speed:28.5,wind_direction:21,heading:224.8,distance:88622.34,depth:-37.1,cog:224.5,sog:14.2,created_at:"2023-01-10 08:07:04",updated_at:"2023-01-10 08:07:04"},{time:1673292601e3,id:"05a6f60e-0ee4-4d48-9f0c-6823f391ff6d",ship_id:1,terminal_time:"2023-01-09 19:30:01",lat:-5.94169,lng:105.92583,wind_speed:31.8,wind_direction:26.7,heading:221.9,distance:88625.93,depth:-38.1,cog:222.4,sog:13.9,created_at:"2023-01-10 08:05:52",updated_at:"2023-01-10 08:05:52"},{time:1673293501e3,id:"3582ee5f-9c1c-447c-a1c2-ad23d1fcdc4c",ship_id:1,terminal_time:"2023-01-09 19:45:01",lat:-5.985892,lng:105.888712,wind_speed:30.7,wind_direction:32.3,heading:215.3,distance:88629.38,depth:-50.8,cog:216.3,sog:14.2,created_at:"2023-01-10 08:05:36",updated_at:"2023-01-10 08:05:36"},{time:1673294401e3,id:"bae337b8-cf2c-4345-83f1-51a534c4756a",ship_id:1,terminal_time:"2023-01-09 20:00:01",lat:-6.007143,lng:105.844002,wind_speed:27.9,wind_direction:353.3,heading:291,distance:88632.81,depth:-84.1,cog:292.2,sog:13.7,created_at:"2023-01-10 08:08:12",updated_at:"2023-01-10 08:08:12"},{time:1673295301e3,id:"2bfe50aa-406d-420d-baba-3647f540a6db",ship_id:1,terminal_time:"2023-01-09 20:15:01",lat:-5.982978,lng:105.794872,wind_speed:28.5,wind_direction:0,heading:287.8,distance:88636.11,depth:-52,cog:293.4,sog:12.5,created_at:"2023-01-10 08:08:05",updated_at:"2023-01-10 08:08:05"},{time:1673296201e3,id:"226c6298-b20f-4d61-8d46-d20d9a16f764",ship_id:1,terminal_time:"2023-01-09 20:30:01",lat:-5.970388,lng:105.742705,wind_speed:31.8,wind_direction:4.2,heading:280,distance:88639.31,depth:-89.5,cog:282.8,sog:13.6,created_at:"2023-01-10 08:07:55",updated_at:"2023-01-10 08:07:55"},{time:1673297101e3,id:"0b3a3d1b-e2cd-412d-8949-052b468ac363",ship_id:1,terminal_time:"2023-01-09 20:45:01",lat:-5.952805,lng:105.689012,wind_speed:30.9,wind_direction:4.2,heading:288.7,distance:88642.69,depth:-66.1,cog:291,sog:13.4,created_at:"2023-01-10 08:06:29",updated_at:"2023-01-10 08:06:29"},{time:1673298001e3,id:"e5dc3b25-3498-4336-b51f-65360056bb47",ship_id:1,terminal_time:"2023-01-09 21:00:01",lat:-5.93262,lng:105.638005,wind_speed:32,wind_direction:4.2,heading:289,distance:88645.98,depth:-29.5,cog:291.5,sog:12.9,created_at:"2023-01-10 08:07:36",updated_at:"2023-01-10 08:07:36"},{time:1673298901e3,id:"97af2e02-a337-477c-b476-f8cc1f0f39bd",ship_id:1,terminal_time:"2023-01-09 21:15:01",lat:-5.918415,lng:105.586073,wind_speed:33,wind_direction:9.2,heading:274.4,distance:88649.16,depth:-20,cog:275.9,sog:12.5,created_at:"2023-01-10 08:06:55",updated_at:"2023-01-10 08:06:55"},{time:1673299801e3,id:"3f6e7fb8-8ed6-4139-af72-762e9a783f03",ship_id:1,terminal_time:"2023-01-09 21:30:01",lat:-5.913357,lng:105.534142,wind_speed:33.2,wind_direction:9.7,heading:272.1,distance:88652.27,depth:-36.3,cog:275.1,sog:12.2,created_at:"2023-01-10 08:06:51",updated_at:"2023-01-10 08:06:51"},{time:1673300701e3,id:"039c9a38-7354-41ae-a67f-1a28cc9ac563",ship_id:1,terminal_time:"2023-01-09 21:45:01",lat:-5.909802,lng:105.487677,wind_speed:31.6,wind_direction:4.2,heading:280.1,distance:88655.08,depth:-35.1,cog:281.9,sog:11.4,created_at:"2023-01-10 08:07:31",updated_at:"2023-01-10 08:07:31"},{time:1673301601e3,id:"c21c6af2-1b26-41e9-b6ef-1f8d76e84096",ship_id:1,terminal_time:"2023-01-09 22:00:01",lat:-5.902202,lng:105.43825,wind_speed:32.2,wind_direction:4.2,heading:0,distance:0,depth:-28.1,cog:278,sog:12.2,created_at:"2023-01-10 08:07:20",updated_at:"2023-01-10 08:07:20"},{time:1673302501e3,id:"6187beed-2f55-4f6c-ac4d-870ba4151a2b",ship_id:1,terminal_time:"2023-01-09 22:15:01",lat:-5.894857,lng:105.38688,wind_speed:33.6,wind_direction:7.5,heading:275.2,distance:88661.16,depth:-50.5,cog:279.6,sog:12.5,created_at:"2023-01-10 08:08:14",updated_at:"2023-01-10 08:08:14"},{time:1673303401e3,id:"d2860a82-a25f-4c3b-aaf3-db903c6c079d",ship_id:1,terminal_time:"2023-01-09 22:30:01",lat:-5.88575,lng:105.334428,wind_speed:37.7,wind_direction:4.2,heading:278.6,distance:88664.41,depth:-78.6,cog:282.5,sog:12.7,created_at:"2023-01-10 08:08:58",updated_at:"2023-01-10 08:08:58"},{time:1673304301e3,id:"bc8a41e1-d425-400a-afb9-2d64d783a252",ship_id:1,terminal_time:"2023-01-09 22:45:01",lat:-5.874368,lng:105.282648,wind_speed:34.4,wind_direction:9.7,heading:280.7,distance:88667.58,depth:-95.8,cog:284,sog:12.9,created_at:"2023-01-10 08:08:50",updated_at:"2023-01-10 08:08:50"},{time:1673305201e3,id:"2210ba63-e4e5-46bb-a238-f60a7ff5f63e",ship_id:1,terminal_time:"2023-01-09 23:00:01",lat:-5.862632,lng:105.230625,wind_speed:33.6,wind_direction:19,heading:281.1,distance:88670.78,depth:-105,cog:280.9,sog:12.6,created_at:"2023-01-10 08:08:39",updated_at:"2023-01-10 08:08:39"},{time:1673306101e3,id:"42f528f7-c57d-46a6-b362-95020790eb63",ship_id:1,terminal_time:"2023-01-09 23:15:01",lat:-5.850693,lng:105.178738,wind_speed:34.2,wind_direction:21,heading:283,distance:88673.97,depth:-120,cog:284.6,sog:12.8,created_at:"2023-01-10 08:09:21",updated_at:"2023-01-10 08:09:21"},{time:1673307001e3,id:"5e0ba177-15a5-4845-a33f-2b9be3696f90",ship_id:1,terminal_time:"2023-01-09 23:30:01",lat:-5.836418,lng:105.127365,wind_speed:37.3,wind_direction:16.8,heading:285.3,distance:88677.14,depth:-200,cog:290.4,sog:12.6,created_at:"2023-01-10 08:08:57",updated_at:"2023-01-10 08:08:57"},{time:1673307901e3,id:"74e77432-2815-4913-8e48-42a55e173eda",ship_id:1,terminal_time:"2023-01-09 23:45:01",lat:-5.821302,lng:105.076055,wind_speed:32.6,wind_direction:19.6,heading:285,distance:88680.34,depth:-206,cog:282.4,sog:12.7,created_at:"2023-01-10 08:08:36",updated_at:"2023-01-10 08:08:36"},{time:1673308801e3,id:"733111ca-d0a6-4cd2-a3c3-25a09999a0cc",ship_id:1,terminal_time:"2023-01-10 00:00:01",lat:-5.800392,lng:105.027445,wind_speed:28.7,wind_direction:9.7,heading:300.1,distance:88683.55,depth:-200.6,cog:302.4,sog:12.9,created_at:"2023-01-10 08:09:31",updated_at:"2023-01-10 08:09:31"},{time:1673309703e3,id:"f06e33ca-2719-4b1f-8f9d-3187c3f75fac",ship_id:1,terminal_time:"2023-01-10 00:15:03",lat:-5.7731770000000004,lng:104.980798,wind_speed:28.9,wind_direction:9.7,heading:297.3,distance:88686.7,depth:-202.3,cog:297,sog:12.5,created_at:"2023-01-10 08:10:07",updated_at:"2023-01-10 08:10:07"},{time:1673310603e3,id:"c856de4d-7236-4d94-9e85-c9fedbc48708",ship_id:1,terminal_time:"2023-01-10 00:30:03",lat:-5.747583,lng:104.93485,wind_speed:28.7,wind_direction:11.2,heading:296.8,distance:88689.82,depth:-198.3,cog:300,sog:12.6,created_at:"2023-01-10 08:10:05",updated_at:"2023-01-10 08:10:05"},{time:1673311503e3,id:"cd8a0d81-f531-4582-b2fb-e948ed042a0b",ship_id:1,terminal_time:"2023-01-10 00:45:03",lat:-5.720978,lng:104.889258,wind_speed:31.6,wind_direction:8.4,heading:298.9,distance:88692.97,depth:-77,cog:300.9,sog:12.5,created_at:"2023-01-10 08:09:46",updated_at:"2023-01-10 08:09:46"},{time:1673312403e3,id:"4dba530d-bc76-4355-ab28-1340d9ac5be7",ship_id:1,terminal_time:"2023-01-10 01:00:03",lat:-5.69468,lng:104.843363,wind_speed:27.2,wind_direction:11.2,heading:296.8,distance:88696.15,depth:-59.3,cog:299.2,sog:12.8,created_at:"2023-01-10 08:09:28",updated_at:"2023-01-10 08:09:28"},{time:1673313303e3,id:"325aec11-c392-479b-9d0d-41cbbd1feff8",ship_id:1,terminal_time:"2023-01-10 01:15:03",lat:-5.668635,lng:104.795995,wind_speed:25.4,wind_direction:16.8,heading:303.1,distance:88699.36,depth:-81.6,cog:305.2,sog:13.1,created_at:"2023-01-10 08:10:20",updated_at:"2023-01-10 08:10:20"},{time:1673314203e3,id:"b06943c5-9cd6-4fad-8ebe-f5449d7bffcc",ship_id:1,terminal_time:"2023-01-10 01:30:03",lat:-5.637213,lng:104.750302,wind_speed:25.4,wind_direction:16.8,heading:302.1,distance:88702.77,depth:-159.3,cog:302.6,sog:13.6,created_at:"2023-01-10 08:10:11",updated_at:"2023-01-10 08:10:11"},{time:1673315103e3,id:"9222b191-091c-4065-a00a-754b7a702ec9",ship_id:1,terminal_time:"2023-01-10 01:45:03",lat:-5.606022,lng:104.702637,wind_speed:24.1,wind_direction:12.5,heading:300.2,distance:88706.13,depth:-184.6,cog:302.6,sog:13.8,created_at:"2023-01-10 08:10:19",updated_at:"2023-01-10 08:10:19"},{time:1673316003e3,id:"352b8845-bef7-409c-a3e0-cf0aadac3054",ship_id:1,terminal_time:"2023-01-10 02:00:03",lat:-5.5799579999999995,lng:104.65319,wind_speed:21.1,wind_direction:16.8,heading:295.9,distance:88709.53,depth:-84.6,cog:296,sog:13.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673316903e3,id:"329d6a2d-92b7-4284-a981-79ccaf315c9c",ship_id:1,terminal_time:"2023-01-10 02:15:03",lat:-5.562793,lng:104.609362,wind_speed:18.2,wind_direction:19.6,heading:300.2,distance:88712.38,depth:-42.6,cog:307.4,sog:8.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673317803e3,id:"232ce1d3-f960-42b9-80f6-306f115e0844",ship_id:1,terminal_time:"2023-01-10 02:30:03",lat:-13.866667,lng:111.266667,wind_speed:15.9,wind_direction:19.6,heading:305.2,distance:88714.17,depth:-36,cog:0,sog:0,created_at:"2023-01-10 08:10:32",updated_at:"2023-01-10 08:10:32"},{time:1673318703e3,id:"06e72ee8-b924-4aca-b288-407b083f57f5",ship_id:1,terminal_time:"2023-01-10 02:45:03",lat:-5.5387,lng:104.573278,wind_speed:7.1,wind_direction:21,heading:333.4,distance:88715.01,depth:-31.3,cog:286.4,sog:.5,created_at:"2023-01-10 08:10:31",updated_at:"2023-01-10 08:10:31"},{time:1673319603e3,id:"96979015-3293-432b-acdb-18a40130c80d",ship_id:1,terminal_time:"2023-01-10 03:00:03",lat:-5.538557,lng:104.572997,wind_speed:4.8,wind_direction:11.2,heading:34,distance:88715.04,depth:-31,cog:104.3,sog:.1,created_at:"2023-01-10 08:10:58",updated_at:"2023-01-10 08:10:58"},{time:1673320503e3,id:"311160b5-f9c6-4799-ad43-d85555c84374",ship_id:1,terminal_time:"2023-01-10 03:15:03",lat:-5.538512,lng:104.573348,wind_speed:2.5,wind_direction:11.2,heading:322.4,distance:88715.04,depth:-31,cog:349.1,sog:.1,created_at:"2023-01-10 08:10:55",updated_at:"2023-01-10 08:10:55"},{time:1673321403e3,id:"73f5a73d-8652-4de0-a492-7e4d2da8a5e4",ship_id:1,terminal_time:"2023-01-10 03:30:03",lat:-5.538447,lng:104.573578,wind_speed:2.7,wind_direction:11.2,heading:311.9,distance:88715.05,depth:-31,cog:124.7,sog:0,created_at:"2023-01-10 08:11:31",updated_at:"2023-01-10 08:11:31"},{time:1673322303e3,id:"d0d88b43-dbf4-4712-b6e6-2ba40ee6cbe7",ship_id:1,terminal_time:"2023-01-10 03:45:03",lat:-5.5383569999999995,lng:104.573628,wind_speed:2.9,wind_direction:11.2,heading:306.3,distance:88715.06,depth:-31,cog:216.8,sog:.1,created_at:"2023-01-10 08:11:02",updated_at:"2023-01-10 08:11:02"},{time:1673323203e3,id:"108e11e3-a7fa-41b3-af81-0cca33e8ff4c",ship_id:1,terminal_time:"2023-01-10 04:00:03",lat:-5.538393,lng:104.573665,wind_speed:4.8,wind_direction:11.2,heading:306.8,distance:88715.07,depth:-31,cog:232.3,sog:0,created_at:"2023-01-10 08:11:43",updated_at:"2023-01-10 08:11:43"},{time:1673324103e3,id:"bd89b9b2-c51f-4cc4-8ef2-932d74a5a249",ship_id:1,terminal_time:"2023-01-10 04:15:03",lat:-5.538438,lng:104.573587,wind_speed:5,wind_direction:11.2,heading:312.8,distance:88715.08,depth:-31,cog:169,sog:.1,created_at:"2023-01-10 08:11:37",updated_at:"2023-01-10 08:11:37"},{time:1673325003e3,id:"78ae1344-a9e9-44ff-b1f4-0c24f28e8fd4",ship_id:1,terminal_time:"2023-01-10 04:30:03",lat:-5.538348,lng:104.5736,wind_speed:5.6,wind_direction:11.2,heading:310.3,distance:88715.08,depth:-31,cog:80.3,sog:0,created_at:"2023-01-10 08:11:34",updated_at:"2023-01-10 08:11:34"},{time:1673325903e3,id:"a3aed659-572b-4b7c-abbe-b6691c723542",ship_id:1,terminal_time:"2023-01-10 04:45:03",lat:-5.538425,lng:104.573628,wind_speed:5.4,wind_direction:11.2,heading:310.7,distance:88715.08,depth:-31,cog:249.5,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673326803e3,id:"8c399c42-218f-43da-b0aa-06ac26cd8f12",ship_id:1,terminal_time:"2023-01-10 05:00:03",lat:-5.538432,lng:104.573612,wind_speed:6,wind_direction:11.2,heading:311.6,distance:88715.09,depth:-31,cog:246.8,sog:0,created_at:"2023-01-10 08:12:42",updated_at:"2023-01-10 08:12:42"},{time:1673327703e3,id:"27a493f7-b14d-40e8-8f51-878ed652d553",ship_id:1,terminal_time:"2023-01-10 05:15:03",lat:-5.538348,lng:104.573678,wind_speed:7.9,wind_direction:11.2,heading:304.8,distance:88715.09,depth:-31,cog:251.7,sog:0,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673328603e3,id:"f54bb566-292e-490c-883f-df6d70b3841b",ship_id:1,terminal_time:"2023-01-10 05:30:03",lat:-5.538438,lng:104.57369,wind_speed:6.2,wind_direction:11.2,heading:307.8,distance:88715.09,depth:-31.3,cog:246.1,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673329503e3,id:"31775419-f67f-4db4-a57d-40ae80fb1fee",ship_id:1,terminal_time:"2023-01-10 05:45:03",lat:-5.5385349999999995,lng:104.573568,wind_speed:7.7,wind_direction:11.2,heading:315.1,distance:88715.1,depth:-31.3,cog:246.9,sog:0,created_at:"2023-01-10 08:12:07",updated_at:"2023-01-10 08:12:07"},{time:1673330403e3,id:"2aa1b843-cd65-401d-ad7b-b8c474060a3b",ship_id:1,terminal_time:"2023-01-10 06:00:03",lat:-5.538448,lng:104.573675,wind_speed:6.9,wind_direction:11.2,heading:309.7,distance:88715.1,depth:-31.3,cog:337.6,sog:.1,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673331303e3,id:"8f037bb3-2b98-4249-ae83-9bb727b265b0",ship_id:1,terminal_time:"2023-01-10 06:15:03",lat:-5.538453,lng:104.573677,wind_speed:6.6,wind_direction:11.2,heading:306.4,distance:88715.11,depth:-31.3,cog:223.5,sog:.1,created_at:"2023-01-10 08:13:02",updated_at:"2023-01-10 08:13:02"},{time:1673332203e3,id:"bb7e96d9-62c3-4ce3-b7bf-c5d7c72c9df1",ship_id:1,terminal_time:"2023-01-10 06:30:03",lat:-5.53864,lng:104.573363,wind_speed:8.3,wind_direction:11.2,heading:3,distance:88715.12,depth:-31.6,cog:0,sog:0,created_at:"2023-01-10 08:13:13",updated_at:"2023-01-10 08:13:13"},{time:1673333103e3,id:"cac4d244-d1fb-4d6a-92ac-bdbe7da18de9",ship_id:1,terminal_time:"2023-01-10 06:45:03",lat:-5.53888,lng:104.573258,wind_speed:7.5,wind_direction:11.2,heading:334.3,distance:88715.12,depth:-31.6,cog:96.5,sog:.1,created_at:"2023-01-10 08:12:49",updated_at:"2023-01-10 08:12:49"},{time:1673334003e3,id:"ef0d6a02-a51d-43d6-ae22-41c8f4263f47",ship_id:1,terminal_time:"2023-01-10 07:00:03",lat:-5.538878,lng:104.573242,wind_speed:6.2,wind_direction:11.2,heading:336.8,distance:88715.12,depth:-31.6,cog:86.3,sog:0,created_at:"2023-01-10 08:12:40",updated_at:"2023-01-10 08:12:40"},{time:1673334903e3,id:"c8300c89-faab-4152-8194-a46bb0b19e3a",ship_id:1,terminal_time:"2023-01-10 07:15:03",lat:-5.538762,lng:104.573413,wind_speed:4.6,wind_direction:11.2,heading:322.3,distance:88715.12,depth:-31.6,cog:358.1,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673335803e3,id:"5ef47cf2-3be4-4288-b43d-2dfb23367dbd",ship_id:1,terminal_time:"2023-01-10 07:30:03",lat:-5.538867,lng:104.573397,wind_speed:5,wind_direction:11.2,heading:326.8,distance:88715.12,depth:-31.6,cog:229,sog:0,created_at:"2023-01-10 08:13:25",updated_at:"2023-01-10 08:13:25"},{time:1673336703e3,id:"c28bf5e0-d94c-4f83-8bfd-8cd79550a629",ship_id:1,terminal_time:"2023-01-10 07:45:03",lat:-5.538897,lng:104.573083,wind_speed:5.4,wind_direction:11.2,heading:341.4,distance:88715.13,depth:-32,cog:251.6,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673337608e3,id:"8170db59-e578-4892-80c4-85355054b0d1",ship_id:1,terminal_time:"2023-01-10 08:00:08",lat:-5.538908,lng:104.572883,wind_speed:3.6,wind_direction:11.2,heading:351.4,distance:88715.14,depth:-32,cog:316.1,sog:0,created_at:"2023-01-10 08:13:38",updated_at:"2023-01-10 08:13:38"},{time:1673338503e3,id:"32200fd0-ad31-4afc-86c6-0eae8d39b303",ship_id:1,terminal_time:"2023-01-10 08:15:03",lat:-5.538917,lng:104.572915,wind_speed:3.8,wind_direction:11.2,heading:351.1,distance:88715.14,depth:-32,cog:324.3,sog:0,created_at:"2023-01-10 08:15:05",updated_at:"2023-01-10 08:15:05"},{time:1673339403e3,id:"c3f39b55-e63f-47d2-9aeb-e7a3c11e6b6c",ship_id:1,terminal_time:"2023-01-10 08:30:03",lat:-5.538923,lng:104.572508,wind_speed:2.7,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:292.2,sog:.2,created_at:"2023-01-10 08:30:05",updated_at:"2023-01-10 08:30:05"},{time:1673340303e3,id:"0f1d7c32-e1b4-4223-813c-3bcb9ff99519",ship_id:1,terminal_time:"2023-01-10 08:45:03",lat:-5.538778,lng:104.5725,wind_speed:2.9,wind_direction:11.2,heading:13,distance:88715.16,depth:-33,cog:110.6,sog:.1,created_at:"2023-01-10 08:45:05",updated_at:"2023-01-10 08:45:05"},{time:1673341203e3,id:"514696b1-d5c1-4d56-ac70-c12912248928",ship_id:1,terminal_time:"2023-01-10 09:00:03",lat:-5.538873,lng:104.572512,wind_speed:2.1,wind_direction:11.2,heading:9.6,distance:88715.17,depth:-32,cog:61.8,sog:0,created_at:"2023-01-10 09:00:05",updated_at:"2023-01-10 09:00:05"},{time:1673342103e3,id:"bb13fd39-bf15-4e3f-9f37-7ba8e070e27b",ship_id:1,terminal_time:"2023-01-10 09:15:03",lat:-5.538902,lng:104.572612,wind_speed:.3,wind_direction:11.2,heading:1.6,distance:88715.18,depth:-32,cog:209.1,sog:0,created_at:"2023-01-10 09:15:06",updated_at:"2023-01-10 09:15:06"},{time:1673343003e3,id:"52799df0-4dda-42e4-ae26-5f9ecb2e1f35",ship_id:1,terminal_time:"2023-01-10 09:30:03",lat:-5.53877,lng:104.572458,wind_speed:.7,wind_direction:11.2,heading:13,distance:88715.19,depth:-31.6,cog:274.9,sog:0,created_at:"2023-01-10 09:30:04",updated_at:"2023-01-10 09:30:04"},{time:1673343903e3,id:"582eb540-8281-4f06-be77-4f020238e88e",ship_id:1,terminal_time:"2023-01-10 09:45:03",lat:-5.538838,lng:104.572397,wind_speed:.3,wind_direction:11.2,heading:17.9,distance:88715.2,depth:-32,cog:98.3,sog:0,created_at:"2023-01-10 09:45:04",updated_at:"2023-01-10 09:45:04"},{time:1673344803e3,id:"d018284e-96bc-40a5-afdf-706261c83173",ship_id:1,terminal_time:"2023-01-10 10:00:03",lat:-5.538725,lng:104.572233,wind_speed:1.7,wind_direction:11.2,heading:26,distance:88715.22,depth:-32,cog:289.9,sog:.2,created_at:"2023-01-10 10:00:05",updated_at:"2023-01-10 10:00:05"},{time:1673345703e3,id:"c7e76799-9152-4732-b4a8-78b81f78ecbb",ship_id:1,terminal_time:"2023-01-10 10:15:03",lat:-5.538707,lng:104.572228,wind_speed:1.5,wind_direction:11.2,heading:28.8,distance:88715.23,depth:-32,cog:295.6,sog:0,created_at:"2023-01-10 10:15:06",updated_at:"2023-01-10 10:15:06"},{time:1673346603e3,id:"5aa686e9-1f35-4d75-94e0-4b24e6575a96",ship_id:1,terminal_time:"2023-01-10 10:30:03",lat:-5.538782,lng:104.572288,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:115,sog:0,created_at:"2023-01-10 10:30:06",updated_at:"2023-01-10 10:30:06"},{time:1673347503e3,id:"4980bff8-4764-4dad-81cb-0f47d3ebeddc",ship_id:1,terminal_time:"2023-01-10 10:45:03",lat:-5.538625,lng:104.572078,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:306.6,sog:.1,created_at:"2023-01-11 08:19:01",updated_at:"2023-01-11 08:19:01"},{time:1673348403e3,id:"04b85d97-df61-4c7c-9ca5-fadbac1226ee",ship_id:1,terminal_time:"2023-01-10 11:00:03",lat:-5.538578,lng:104.572077,wind_speed:2.7,wind_direction:11.2,heading:40.3,distance:88715.28,depth:-33,cog:99.9,sog:.1,created_at:"2023-01-11 08:09:51",updated_at:"2023-01-11 08:09:51"},{time:1673349303e3,id:"a246a336-7d32-4004-9c36-0669444bfb5f",ship_id:1,terminal_time:"2023-01-10 11:15:03",lat:-5.538568,lng:104.57207,wind_speed:3.3,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:307.3,sog:.1,created_at:"2023-01-11 08:59:53",updated_at:"2023-01-11 08:59:53"},{time:1673350203e3,id:"7a34bddb-396b-42bc-8b79-427c5236a76f",ship_id:1,terminal_time:"2023-01-10 11:30:03",lat:-5.538305,lng:104.57185,wind_speed:6.8,wind_direction:88.6,heading:59.8,distance:88715.33,depth:-31.6,cog:9.6,sog:.1,created_at:"2023-01-11 09:18:11",updated_at:"2023-01-11 09:18:11"},{time:1673351103e3,id:"d9220e3e-bbc0-4395-bf55-bf94ebcd524d",ship_id:1,terminal_time:"2023-01-10 11:45:03",lat:-5.537692,lng:104.571797,wind_speed:9.7,wind_direction:116.8,heading:95.5,distance:88715.36,depth:-31.6,cog:26,sog:.3,created_at:"2023-01-11 08:23:10",updated_at:"2023-01-11 08:23:10"},{time:1673352003e3,id:"8a8a13ef-e698-438c-930f-49ec0bb09f63",ship_id:1,terminal_time:"2023-01-10 12:00:03",lat:-5.537127,lng:104.571998,wind_speed:11.2,wind_direction:109.8,heading:122.7,distance:88715.36,depth:-31.6,cog:26.7,sog:.3,created_at:"2023-01-11 09:34:41",updated_at:"2023-01-11 09:34:41"},{time:1673352903e3,id:"229984b5-6b7d-4e00-9a08-4206488dca9d",ship_id:1,terminal_time:"2023-01-10 12:15:03",lat:-5.536328,lng:104.573425,wind_speed:14.9,wind_direction:56.3,heading:188.4,distance:88715.37,depth:-31,cog:121.6,sog:.5,created_at:"2023-01-11 08:16:13",updated_at:"2023-01-11 08:16:13"},{time:1673353803e3,id:"6a965009-1ee6-44b6-9d4a-a8749a1c4dd8",ship_id:1,terminal_time:"2023-01-10 12:30:03",lat:-5.536405,lng:104.573513,wind_speed:17.6,wind_direction:54.9,heading:199.6,distance:88715.39,depth:-31,cog:328,sog:.3,created_at:"2023-01-11 10:05:28",updated_at:"2023-01-11 10:05:28"},{time:1673354703e3,id:"13b5ce26-e32d-45b6-9906-297e9012334b",ship_id:1,terminal_time:"2023-01-10 12:45:03",lat:-5.536357,lng:104.573753,wind_speed:19.2,wind_direction:43.6,heading:197.7,distance:88715.4,depth:-30.6,cog:289.1,sog:.2,created_at:"2023-01-11 08:18:32",updated_at:"2023-01-11 08:18:32"},{time:1673355603e3,id:"ecda7f05-7d69-4f20-bcb7-310ce62047a6",ship_id:1,terminal_time:"2023-01-10 13:00:03",lat:-5.536677,lng:104.574085,wind_speed:20.4,wind_direction:43.6,heading:215.3,distance:88715.42,depth:-31,cog:95.7,sog:.1,created_at:"2023-01-11 08:16:09",updated_at:"2023-01-11 08:16:09"},{time:1673356503e3,id:"67d9e2e8-6850-45c7-a608-0f6f3750adf7",ship_id:1,terminal_time:"2023-01-10 13:15:03",lat:-5.536792,lng:104.574192,wind_speed:15.9,wind_direction:33.6,heading:225.5,distance:88715.43,depth:-31.3,cog:209.7,sog:.1,created_at:"2023-01-11 09:28:23",updated_at:"2023-01-11 09:28:23"},{time:1673357403e3,id:"7c6d8e6c-0652-4c08-9c17-13466996bfa9",ship_id:1,terminal_time:"2023-01-10 13:30:03",lat:-5.536822,lng:104.574207,wind_speed:14.1,wind_direction:32.3,heading:224.4,distance:88715.45,depth:-31,cog:109.6,sog:.1,created_at:"2023-01-11 08:01:23",updated_at:"2023-01-11 08:01:23"},{time:1673358303e3,id:"f71a5fe4-a992-470c-87d5-901a98539cd8",ship_id:1,terminal_time:"2023-01-10 13:45:03",lat:-5.536855,lng:104.574237,wind_speed:11.6,wind_direction:50.6,heading:220.9,distance:88715.47,depth:-31,cog:99.8,sog:.1,created_at:"2023-01-11 08:59:38",updated_at:"2023-01-11 08:59:38"},{time:1673359203e3,id:"bdb096b3-a7b1-479a-bef5-ea8f3b003506",ship_id:1,terminal_time:"2023-01-10 14:00:03",lat:-5.537295,lng:104.574445,wind_speed:15.5,wind_direction:21,heading:249.2,distance:88715.48,depth:-31,cog:132.1,sog:.1,created_at:"2023-01-11 08:44:42",updated_at:"2023-01-11 08:44:42"},{time:1673360103e3,id:"19bccdc4-4e82-4152-b765-cba9d3cdc2fb",ship_id:1,terminal_time:"2023-01-10 14:15:03",lat:-5.537357,lng:104.574448,wind_speed:20.9,wind_direction:15.4,heading:253.6,distance:88715.49,depth:-31,cog:25,sog:.1,created_at:"2023-01-11 09:05:09",updated_at:"2023-01-11 09:05:09"},{time:1673361003e3,id:"9545fd94-a3ad-4016-bbd4-072cc971b7b4",ship_id:1,terminal_time:"2023-01-10 14:30:03",lat:-5.537183,lng:104.574422,wind_speed:15.3,wind_direction:21,heading:243.8,distance:88715.51,depth:-31,cog:317.2,sog:.2,created_at:"2023-01-11 08:05:43",updated_at:"2023-01-11 08:05:43"},{time:1673361903e3,id:"775ad8f3-7486-4dda-8b7b-a41720291bd7",ship_id:1,terminal_time:"2023-01-10 14:45:03",lat:-5.537147,lng:104.574497,wind_speed:20,wind_direction:11.2,heading:243.4,distance:88715.53,depth:-31,cog:18.5,sog:.1,created_at:"2023-01-11 08:54:04",updated_at:"2023-01-11 08:54:04"},{time:1673362803e3,id:"83abeb04-acff-403c-9cc5-7fb61c8448d9",ship_id:1,terminal_time:"2023-01-10 15:00:03",lat:-5.537225,lng:104.574413,wind_speed:14.5,wind_direction:21,heading:243.4,distance:88715.56,depth:-31,cog:321.2,sog:.1,created_at:"2023-01-11 09:13:01",updated_at:"2023-01-11 09:13:01"},{time:1673363703e3,id:"acaa3bc0-f391-4ec9-8168-4d6ebc980f12",ship_id:1,terminal_time:"2023-01-10 15:15:03",lat:-5.537107,lng:104.574492,wind_speed:19,wind_direction:9.7,heading:243.3,distance:88715.58,depth:-31,cog:319.3,sog:.2,created_at:"2023-01-11 10:25:25",updated_at:"2023-01-11 10:25:25"},{time:1673364603e3,id:"83580a71-bc32-40ba-a819-59e1591bae49",ship_id:1,terminal_time:"2023-01-10 15:30:03",lat:-5.537295,lng:104.574417,wind_speed:18.8,wind_direction:26.7,heading:237.1,distance:88715.61,depth:-31,cog:72.7,sog:.2,created_at:"2023-01-11 08:24:04",updated_at:"2023-01-11 08:24:04"},{time:1673365503e3,id:"d107598f-b613-40ad-80e8-f021392d01a3",ship_id:1,terminal_time:"2023-01-10 15:45:03",lat:-5.53849,lng:104.561972,wind_speed:19.2,wind_direction:8.4,heading:266.7,distance:88716.39,depth:-35.6,cog:265.4,sog:2.8,created_at:"2023-01-11 09:19:29",updated_at:"2023-01-11 09:19:29"},{time:1673366403e3,id:"859441a4-aad6-4ebd-aa8e-4a8578c5526d",ship_id:1,terminal_time:"2023-01-10 16:00:03",lat:-5.541455,lng:104.560142,wind_speed:10.8,wind_direction:0,heading:260.5,distance:88716.58,depth:-41.3,cog:93.6,sog:.4,created_at:"2023-01-11 09:56:23",updated_at:"2023-01-11 09:56:23"},{time:1673367303e3,id:"28c5590a-1222-4129-b1f8-464f4a1ab33d",ship_id:1,terminal_time:"2023-01-10 16:15:03",lat:-5.542728,lng:104.560063,wind_speed:15.9,wind_direction:315.3,heading:0,distance:0,depth:-42,cog:203.9,sog:.3,created_at:"2023-01-11 08:16:55",updated_at:"2023-01-11 08:16:55"},{time:1673368203e3,id:"9331e12a-800b-44a4-8481-ef5423926243",ship_id:1,terminal_time:"2023-01-10 16:30:03",lat:-5.54335,lng:104.559467,wind_speed:14.7,wind_direction:336.4,heading:316.8,distance:88716.61,depth:-42,cog:326.5,sog:.1,created_at:"2023-01-11 09:02:06",updated_at:"2023-01-11 09:02:06"},{time:1673369413e3,id:"b6c2fdc4-0a36-412f-97b3-e19f5f1b754e",ship_id:1,terminal_time:"2023-01-10 16:50:13",lat:-5.54225,lng:104.560177,wind_speed:7.9,wind_direction:16.8,heading:280.8,distance:88716.63,depth:-41.6,cog:348.4,sog:.2,created_at:"2023-01-11 08:36:51",updated_at:"2023-01-11 08:36:51"},{time:1673370003e3,id:"88544c71-07ec-47a3-9425-83443bf1543f",ship_id:1,terminal_time:"2023-01-10 17:00:03",lat:-5.541955,lng:104.560087,wind_speed:12,wind_direction:9.7,heading:270.3,distance:88716.64,depth:-41.6,cog:5.6,sog:.2,created_at:"2023-01-11 09:17:54",updated_at:"2023-01-11 09:17:54"},{time:1673370903e3,id:"0439c29f-90b9-48cc-bec9-af020ee12223",ship_id:1,terminal_time:"2023-01-10 17:15:03",lat:-5.54169,lng:104.560058,wind_speed:8.1,wind_direction:32.3,heading:260.5,distance:88716.65,depth:-41.6,cog:309,sog:.2,created_at:"2023-01-11 10:17:44",updated_at:"2023-01-11 10:17:44"},{time:1673371803e3,id:"5d8047ae-778e-4dae-b543-c5d312c91b89",ship_id:1,terminal_time:"2023-01-10 17:30:03",lat:-5.541797,lng:104.560018,wind_speed:10.4,wind_direction:43.6,heading:258.3,distance:88716.67,depth:-42,cog:106.2,sog:.2,created_at:"2023-01-11 09:22:34",updated_at:"2023-01-11 09:22:34"},{time:1673372703e3,id:"90fec783-94f4-4620-879e-cfd5bf0f9b98",ship_id:1,terminal_time:"2023-01-10 17:45:03",lat:-5.542028,lng:104.560158,wind_speed:7.7,wind_direction:32.3,heading:273,distance:88716.67,depth:-41.6,cog:229.3,sog:.1,created_at:"2023-01-11 09:13:40",updated_at:"2023-01-11 09:13:40"},{time:1673373603e3,id:"925227d5-1685-4efc-8d4d-07ee45b665cb",ship_id:1,terminal_time:"2023-01-10 18:00:03",lat:-5.542407,lng:104.559988,wind_speed:4.6,wind_direction:49.1,heading:282.2,distance:88716.68,depth:-42,cog:194,sog:.1,created_at:"2023-01-11 09:36:51",updated_at:"2023-01-11 09:36:51"},{time:1673374503e3,id:"2c1746d2-52ed-4878-96e6-c5bcb5e15f57",ship_id:1,terminal_time:"2023-01-10 18:15:03",lat:-5.542953,lng:104.559968,wind_speed:4.8,wind_direction:45,heading:303.8,distance:88716.69,depth:-42.3,cog:184.6,sog:.1,created_at:"2023-01-11 09:53:35",updated_at:"2023-01-11 09:53:35"},{time:1673375403e3,id:"458bc847-49b8-4103-b441-5b85070c4a26",ship_id:1,terminal_time:"2023-01-10 18:30:03",lat:-5.54319,lng:104.559698,wind_speed:8.1,wind_direction:26.7,heading:317.6,distance:88716.71,depth:-42.3,cog:259,sog:.2,created_at:"2023-01-11 10:41:12",updated_at:"2023-01-11 10:41:12"},{time:1673376303e3,id:"7a04d24c-562e-4260-8524-122266d76b5d",ship_id:1,terminal_time:"2023-01-10 18:45:03",lat:-5.543392,lng:104.559572,wind_speed:6.8,wind_direction:353.3,heading:326.9,distance:88716.71,depth:-42.3,cog:198.2,sog:.1,created_at:"2023-01-11 10:01:54",updated_at:"2023-01-11 10:01:54"},{time:1673377203e3,id:"4914b017-1b9f-4f4b-a291-d9b6bf8ecccd",ship_id:1,terminal_time:"2023-01-10 19:00:03",lat:-5.54358,lng:104.559465,wind_speed:4.2,wind_direction:359,heading:335.6,distance:88716.71,depth:-42.6,cog:264.1,sog:.1,created_at:"2023-01-11 10:59:54",updated_at:"2023-01-11 10:59:54"},{time:1673378108e3,id:"b76818db-b6a8-430f-a64e-55aacb30bd1e",ship_id:1,terminal_time:"2023-01-10 19:15:08",lat:-5.54346,lng:104.559573,wind_speed:9.3,wind_direction:282.9,heading:336.1,distance:88716.71,depth:-42.6,cog:86,sog:.2,created_at:"2023-01-11 10:54:48",updated_at:"2023-01-11 10:54:48"},{time:1673379003e3,id:"b72a0185-3cac-4028-be33-d0d9cf496a5b",ship_id:1,terminal_time:"2023-01-10 19:30:03",lat:-5.5430150000000005,lng:104.559922,wind_speed:7.3,wind_direction:325.1,heading:311.5,distance:88716.72,depth:-42.3,cog:21.5,sog:.1,created_at:"2023-01-11 10:48:56",updated_at:"2023-01-11 10:48:56"},{time:1673379903e3,id:"00de7ba1-da7b-4f09-b03d-b1e05711ac14",ship_id:1,terminal_time:"2023-01-10 19:45:03",lat:-5.542545,lng:104.560115,wind_speed:7.9,wind_direction:354.6,heading:294.8,distance:88716.73,depth:-42.3,cog:19.6,sog:0,created_at:"2023-01-11 10:06:49",updated_at:"2023-01-11 10:06:49"},{time:1673380803e3,id:"bb4f09cd-d3ea-4bd7-8b43-631d7492bd52",ship_id:1,terminal_time:"2023-01-10 20:00:03",lat:-5.542382,lng:104.560208,wind_speed:12,wind_direction:347.6,heading:289,distance:88716.74,depth:-42.3,cog:354.6,sog:.1,created_at:"2023-01-11 10:02:10",updated_at:"2023-01-11 10:02:10"},{time:1673381703e3,id:"3214b99f-8371-483a-b938-aa3c97e21d86",ship_id:1,terminal_time:"2023-01-10 20:15:03",lat:-5.541937,lng:104.560167,wind_speed:10.4,wind_direction:359,heading:274,distance:88716.75,depth:-42.3,cog:354.7,sog:.1,created_at:"2023-01-11 10:43:38",updated_at:"2023-01-11 10:43:38"},{time:1673382603e3,id:"4ac048c2-864d-4e5c-b5d3-f9bf5206d98e",ship_id:1,terminal_time:"2023-01-10 20:30:03",lat:-5.541728,lng:104.560092,wind_speed:8.1,wind_direction:354.6,heading:267.6,distance:88716.75,depth:-42.3,cog:222.1,sog:0,created_at:"2023-01-11 11:15:05",updated_at:"2023-01-11 11:15:05"},{time:1673383503e3,id:"8149de7d-77d9-48e1-a53d-b6433e2f73d2",ship_id:1,terminal_time:"2023-01-10 20:45:03",lat:-5.541787,lng:104.56018,wind_speed:4.6,wind_direction:9.7,heading:265.9,distance:88716.76,depth:-42.3,cog:317,sog:.1,created_at:"2023-01-11 10:35:19",updated_at:"2023-01-11 10:35:19"},{time:1673384403e3,id:"2923b743-662d-4062-b187-ceeae60b90df",ship_id:1,terminal_time:"2023-01-10 21:00:03",lat:-5.541892,lng:104.55998,wind_speed:5.6,wind_direction:9.7,heading:268,distance:88716.78,depth:-42.3,cog:194,sog:.1,created_at:"2023-01-11 10:29:27",updated_at:"2023-01-11 10:29:27"},{time:1673385303e3,id:"6c1036d6-44a0-425b-8658-9db0c3ed493d",ship_id:1,terminal_time:"2023-01-10 21:15:03",lat:-5.542145,lng:104.56009,wind_speed:4,wind_direction:21,heading:277.4,distance:88716.79,depth:-42.6,cog:260.7,sog:.1,created_at:"2023-01-11 11:25:52",updated_at:"2023-01-11 11:25:52"},{time:1673386203e3,id:"6368e190-3bdc-4221-bff8-71d5bb0a3ca7",ship_id:1,terminal_time:"2023-01-10 21:30:03",lat:-5.542302,lng:104.560052,wind_speed:6.2,wind_direction:11.7,heading:285.8,distance:88716.79,depth:-42.6,cog:164.1,sog:0,created_at:"2023-01-11 11:21:34",updated_at:"2023-01-11 11:21:34"},{time:1673387103e3,id:"fc0088a3-893d-4fe4-bfe7-30679fbca91e",ship_id:1,terminal_time:"2023-01-10 21:45:03",lat:-5.542138,lng:104.560253,wind_speed:10.3,wind_direction:336.4,heading:286,distance:88716.8,depth:-42.3,cog:14.8,sog:.2,created_at:"2023-01-11 11:19:10",updated_at:"2023-01-11 11:19:10"},{time:1673388003e3,id:"71be65de-7a90-43dd-81c8-39b9fef2c290",ship_id:1,terminal_time:"2023-01-10 22:00:03",lat:-5.54161,lng:104.559828,wind_speed:2.7,wind_direction:336.4,heading:262.8,distance:88716.82,depth:-42,cog:266.4,sog:.1,created_at:"2023-01-11 10:57:14",updated_at:"2023-01-11 10:57:14"},{time:1673388908e3,id:"e42797d0-df06-4807-ab76-c37418dcfe02",ship_id:1,terminal_time:"2023-01-10 22:15:08",lat:-5.541503,lng:104.55974,wind_speed:6.6,wind_direction:336.4,heading:252.5,distance:88716.83,depth:-42,cog:14.8,sog:.1,created_at:"2023-01-11 11:11:30",updated_at:"2023-01-11 11:11:30"},{time:1673389803e3,id:"eee442cb-4b9b-47a6-9d4d-b678c812444b",ship_id:1,terminal_time:"2023-01-10 22:30:03",lat:-5.54109,lng:104.560015,wind_speed:12,wind_direction:16.8,heading:246.5,distance:88716.84,depth:-41.6,cog:347.3,sog:.1,created_at:"2023-01-11 11:10:12",updated_at:"2023-01-11 11:10:12"},{time:1673390703e3,id:"e4a937de-d12c-4530-90a5-f64aa8f75f72",ship_id:1,terminal_time:"2023-01-10 22:45:03",lat:-5.541293,lng:104.559667,wind_speed:2.7,wind_direction:43.6,heading:245.7,distance:88716.86,depth:-42,cog:209.6,sog:.1,created_at:"2023-01-11 11:04:22",updated_at:"2023-01-11 11:04:22"},{time:1673391698e3,id:"68a3ef72-960a-4387-8aa6-5b66611fe0a2",ship_id:1,terminal_time:"2023-01-10 23:01:38",lat:-5.541548,lng:104.559765,wind_speed:3.4,wind_direction:49.1,heading:0,distance:0,depth:-41.6,cog:134.3,sog:.1,created_at:"2023-01-11 11:39:16",updated_at:"2023-01-11 11:39:16"},{time:1673392503e3,id:"089eb567-2b29-41e9-9781-9030e190f220",ship_id:1,terminal_time:"2023-01-10 23:15:03",lat:-5.54197,lng:104.560077,wind_speed:4.2,wind_direction:56.3,heading:271.4,distance:88716.87,depth:-42,cog:164.7,sog:.2,created_at:"2023-01-11 11:30:13",updated_at:"2023-01-11 11:30:13"},{time:1673393403e3,id:"63129a87-03cc-4ede-ba2d-91ee71078d8a",ship_id:1,terminal_time:"2023-01-10 23:30:03",lat:-5.542198,lng:104.5601,wind_speed:2.3,wind_direction:43.5,heading:286,distance:88716.87,depth:-42,cog:207.2,sog:.1,created_at:"2023-01-11 11:43:42",updated_at:"2023-01-11 11:43:42"},{time:1673394303e3,id:"4aaecec9-7db3-489d-9e3f-9027a0451a1d",ship_id:1,terminal_time:"2023-01-10 23:45:03",lat:-5.542232,lng:104.56008,wind_speed:2.5,wind_direction:357.5,heading:289.4,distance:88716.87,depth:-42,cog:172.7,sog:.1,created_at:"2023-01-11 11:30:30",updated_at:"2023-01-11 11:30:30"},{time:1673395203e3,id:"5e443c1f-a779-458b-923d-d79b8bdb2950",ship_id:1,terminal_time:"2023-01-11 00:00:03",lat:-5.542575,lng:104.559993,wind_speed:4.2,wind_direction:49.1,heading:295.9,distance:88716.87,depth:-42,cog:178.8,sog:.1,created_at:"2023-01-11 11:20:30",updated_at:"2023-01-11 11:20:30"},{time:1673478415e3,id:"3a27a298-8266-41ea-83c2-1fa693ef93a8",ship_id:1,terminal_time:"2023-01-11 23:06:55",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:.1,created_at:"2023-01-12 08:00:07",updated_at:"2023-01-12 08:00:07"},{time:1673482021e3,id:"301c2657-23af-4610-8577-1267f195a1c7",ship_id:1,terminal_time:"2023-01-12 00:07:01",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:0,created_at:"2023-01-12 08:00:10",updated_at:"2023-01-12 08:00:10"},{time:1673482501e3,id:"ffe5c699-e3bc-4273-a0ff-33499003b397",ship_id:1,terminal_time:"2023-01-12 00:15:01",lat:-5.919605,lng:106.00021,wind_speed:12.8,wind_direction:212.5,heading:31.1,distance:88812.61,depth:-4,cog:295.9,sog:0,created_at:"2023-01-12 08:01:25",updated_at:"2023-01-12 08:01:25"},{time:1673483401e3,id:"95be2e54-e93e-4fe2-a470-028106f4827b",ship_id:1,terminal_time:"2023-01-12 00:30:01",lat:-5.919602,lng:106.000222,wind_speed:15.1,wind_direction:219.6,heading:31,distance:88812.61,depth:-4,cog:107.8,sog:0,created_at:"2023-01-12 08:00:38",updated_at:"2023-01-12 08:00:38"},{time:1673484301e3,id:"62eb058f-ab11-46fc-8990-a9da9a055cae",ship_id:1,terminal_time:"2023-01-12 00:45:01",lat:-5.91959,lng:106.00022,wind_speed:19.6,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-4,cog:126.6,sog:0,created_at:"2023-01-12 08:02:17",updated_at:"2023-01-12 08:02:17"},{time:1673485201e3,id:"db170fcf-5c04-48b1-8b3e-1ea1a747de17",ship_id:1,terminal_time:"2023-01-12 01:00:01",lat:-5.919602,lng:106.000213,wind_speed:14.1,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-3.6,cog:121.9,sog:0,created_at:"2023-01-12 08:03:00",updated_at:"2023-01-12 08:03:00"},{time:1673486101e3,id:"53202233-3f20-46fc-b124-4e5b880022cc",ship_id:1,terminal_time:"2023-01-12 01:15:01",lat:-5.919595,lng:106.00023,wind_speed:20.4,wind_direction:204,heading:31.2,distance:88812.61,depth:-3.6,cog:137,sog:.1,created_at:"2023-01-12 08:03:40",updated_at:"2023-01-12 08:03:40"},{time:1673487001e3,id:"f2ad03cf-9317-4535-884b-21401f965fa1",ship_id:1,terminal_time:"2023-01-12 01:30:01",lat:-5.91957,lng:106.000213,wind_speed:16.1,wind_direction:206.9,heading:31.6,distance:88812.62,depth:-3.6,cog:312.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673487901e3,id:"1717eafe-2674-4fab-ac02-c130433596ce",ship_id:1,terminal_time:"2023-01-12 01:45:01",lat:-5.919583,lng:106.000232,wind_speed:16.9,wind_direction:208.3,heading:31.3,distance:88812.62,depth:-3.6,cog:280.3,sog:.1,created_at:"2023-01-12 08:00:28",updated_at:"2023-01-12 08:00:28"},{time:1673488801e3,id:"a257ae15-7b7d-4982-9e0a-7d65c7724a0b",ship_id:1,terminal_time:"2023-01-12 02:00:01",lat:-5.919518,lng:106.000213,wind_speed:19.2,wind_direction:213.9,heading:30.9,distance:88812.62,depth:-3.6,cog:303.5,sog:0,created_at:"2023-01-12 08:02:13",updated_at:"2023-01-12 08:02:13"},{time:1673489701e3,id:"e16c56d6-2d75-447e-9552-8e9dc5c89d17",ship_id:1,terminal_time:"2023-01-12 02:15:01",lat:-5.919577,lng:106.000232,wind_speed:20,wind_direction:212.5,heading:31.1,distance:88812.63,depth:-3.6,cog:310.5,sog:.1,created_at:"2023-01-12 08:01:35",updated_at:"2023-01-12 08:01:35"},{time:1673490601e3,id:"f19c3f20-ab29-457b-939a-1b258e8f55ad",ship_id:1,terminal_time:"2023-01-12 02:30:01",lat:-5.919567,lng:106.000248,wind_speed:19,wind_direction:212.1,heading:31.2,distance:88812.64,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:00:48",updated_at:"2023-01-12 08:00:48"},{time:1673491501e3,id:"36399975-75a1-4ae4-9944-fe85dc14f62b",ship_id:1,terminal_time:"2023-01-12 02:45:01",lat:-5.919593,lng:106.000235,wind_speed:14.9,wind_direction:202.7,heading:31.2,distance:88812.65,depth:-3.3,cog:331.5,sog:.1,created_at:"2023-01-12 08:02:40",updated_at:"2023-01-12 08:02:40"},{time:1673492401e3,id:"85c19f34-0992-4c6f-b7dc-db0b624a306b",ship_id:1,terminal_time:"2023-01-12 03:00:01",lat:-5.919592,lng:106.00023,wind_speed:17.6,wind_direction:209.2,heading:31.2,distance:88812.66,depth:-3.3,cog:99.6,sog:0,created_at:"2023-01-12 08:03:12",updated_at:"2023-01-12 08:03:12"},{time:1673493301e3,id:"c778fd18-b2e6-4009-9e52-6cb03b3fa5f9",ship_id:1,terminal_time:"2023-01-12 03:15:01",lat:-5.919595,lng:106.00021,wind_speed:18.4,wind_direction:206.9,heading:31.1,distance:88812.67,depth:-3.3,cog:304.7,sog:.1,created_at:"2023-01-12 08:03:47",updated_at:"2023-01-12 08:03:47"},{time:1673494201e3,id:"6475c752-084a-474b-83f3-ed822b2ccb81",ship_id:1,terminal_time:"2023-01-12 03:30:01",lat:-5.919612,lng:106.000213,wind_speed:17.6,wind_direction:213.9,heading:31,distance:88812.68,depth:-3.3,cog:294.5,sog:.1,created_at:"2023-01-12 08:01:24",updated_at:"2023-01-12 08:01:24"},{time:1673495101e3,id:"a56d58a7-c4ba-4709-923b-545fd0a68e23",ship_id:1,terminal_time:"2023-01-12 03:45:01",lat:-5.919602,lng:106.000232,wind_speed:17.4,wind_direction:201.2,heading:31.3,distance:88812.68,depth:-3.3,cog:257.4,sog:0,created_at:"2023-01-12 08:04:20",updated_at:"2023-01-12 08:04:20"},{time:1673496001e3,id:"cac79e4a-e15d-4f75-9273-d5e24645053e",ship_id:1,terminal_time:"2023-01-12 04:00:01",lat:-5.919602,lng:106.000252,wind_speed:15.3,wind_direction:213.9,heading:0,distance:0,depth:-3.3,cog:307.2,sog:.1,created_at:"2023-01-12 08:04:10",updated_at:"2023-01-12 08:04:10"},{time:1673496901e3,id:"3dfb8e71-93a9-4d4f-8965-013575f61a35",ship_id:1,terminal_time:"2023-01-12 04:15:01",lat:-5.919607,lng:106.000238,wind_speed:20.2,wind_direction:206.7,heading:31.3,distance:88812.68,depth:-3.3,cog:150.8,sog:.1,created_at:"2023-01-12 08:04:45",updated_at:"2023-01-12 08:04:45"},{time:1673497801e3,id:"0f7d7540-fe75-45e0-9a30-635c7128b620",ship_id:1,terminal_time:"2023-01-12 04:30:01",lat:-5.919607,lng:106.000257,wind_speed:15.9,wind_direction:206.9,heading:31,distance:88812.68,depth:-3.3,cog:149.1,sog:0,created_at:"2023-01-12 08:02:03",updated_at:"2023-01-12 08:02:03"},{time:1673498701e3,id:"f21a660b-dcfa-4b13-9856-215ab031fb29",ship_id:1,terminal_time:"2023-01-12 04:45:01",lat:-5.919532,lng:106.000253,wind_speed:18,wind_direction:206.9,heading:0,distance:0,depth:-3.3,cog:196,sog:0,created_at:"2023-01-12 08:03:57",updated_at:"2023-01-12 08:03:57"},{time:1673499601e3,id:"67284bea-ac4f-4fcb-be3d-67fb96501e12",ship_id:1,terminal_time:"2023-01-12 05:00:01",lat:-5.919563,lng:106.000252,wind_speed:12.8,wind_direction:206.9,heading:31.1,distance:88812.69,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:02:05",updated_at:"2023-01-12 08:02:05"},{time:1673500501e3,id:"903255da-a46b-4560-be6f-54121a35e9d4",ship_id:1,terminal_time:"2023-01-12 05:15:01",lat:-5.919592,lng:106.00022,wind_speed:14.7,wind_direction:208.3,heading:31.2,distance:88812.69,depth:-3.3,cog:317.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673501401e3,id:"d15302d5-c880-455f-8e84-b63f78532405",ship_id:1,terminal_time:"2023-01-12 05:30:01",lat:-5.919553,lng:106.000257,wind_speed:14.1,wind_direction:206.9,heading:31.3,distance:88812.69,depth:-3.3,cog:85.3,sog:0,created_at:"2023-01-12 08:00:36",updated_at:"2023-01-12 08:00:36"},{time:1673502301e3,id:"6964957b-d44f-4ccd-9711-139c0f5321a6",ship_id:1,terminal_time:"2023-01-12 05:45:01",lat:-5.919598,lng:106.000232,wind_speed:12.4,wind_direction:213.9,heading:31,distance:88812.7,depth:-3.3,cog:71.8,sog:0,created_at:"2023-01-12 08:02:19",updated_at:"2023-01-12 08:02:19"},{time:1673503261e3,id:"9e325986-7d1b-4135-ba31-922a70ec7621",ship_id:1,terminal_time:"2023-01-12 06:01:01",lat:-5.919563,lng:106.000245,wind_speed:16.9,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:45.2,sog:0,created_at:"2023-01-12 08:04:33",updated_at:"2023-01-12 08:04:33"},{time:1673504101e3,id:"91e1667b-13ee-4042-b227-58b06be13ccd",ship_id:1,terminal_time:"2023-01-12 06:15:01",lat:-5.919573,lng:106.00022,wind_speed:6.6,wind_direction:213.9,heading:31.3,distance:88812.7,depth:-3.3,cog:144.5,sog:0,created_at:"2023-01-12 08:01:32",updated_at:"2023-01-12 08:01:32"},{time:1673505006e3,id:"8fbb2278-d875-4905-87a7-36e16bdc5d08",ship_id:1,terminal_time:"2023-01-12 06:30:06",lat:-5.919547,lng:106.00019,wind_speed:14.1,wind_direction:219.6,heading:31.1,distance:88812.7,depth:-3.3,cog:129.1,sog:0,created_at:"2023-01-12 08:03:24",updated_at:"2023-01-12 08:03:24"},{time:1673505901e3,id:"6dd47699-6d9e-4f4e-b03f-b3c7c179d628",ship_id:1,terminal_time:"2023-01-12 06:45:01",lat:-5.919567,lng:106.000218,wind_speed:11.2,wind_direction:206.9,heading:31.2,distance:88812.7,depth:-3.3,cog:302.6,sog:0,created_at:"2023-01-12 08:04:14",updated_at:"2023-01-12 08:04:14"},{time:1673506801e3,id:"e6b66228-a386-4585-8b24-beb353ada5df",ship_id:1,terminal_time:"2023-01-12 07:00:01",lat:-5.919573,lng:106.000242,wind_speed:13.8,wind_direction:212.5,heading:31.2,distance:88812.7,depth:-3.3,cog:130,sog:0,created_at:"2023-01-12 08:03:33",updated_at:"2023-01-12 08:03:33"},{time:1673507701e3,id:"87faa350-6df1-4360-a4a2-280d812558f8",ship_id:1,terminal_time:"2023-01-12 07:15:01",lat:-5.919583,lng:106.000195,wind_speed:11.2,wind_direction:201.2,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:04:40",updated_at:"2023-01-12 08:04:40"},{time:1673508601e3,id:"9e3f7764-a732-42a0-94c3-1c0493a43105",ship_id:1,terminal_time:"2023-01-12 07:30:01",lat:-5.919588,lng:106.000215,wind_speed:11,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.3,cog:125.7,sog:0,created_at:"2023-01-12 08:04:34",updated_at:"2023-01-12 08:04:34"},{time:1673509501e3,id:"c0d5821b-d4a0-469d-a793-634ffbcb381f",ship_id:1,terminal_time:"2023-01-12 07:45:01",lat:-5.919593,lng:106.000222,wind_speed:16.1,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:03:50",updated_at:"2023-01-12 08:03:50"},{time:1673510406e3,id:"5bcbfbf1-6af1-45d4-9e4f-3f756ee3de58",ship_id:1,terminal_time:"2023-01-12 08:00:06",lat:-5.9196,lng:106.000238,wind_speed:10.8,wind_direction:215.4,heading:31,distance:88812.7,depth:-3.3,cog:117.8,sog:.1,created_at:"2023-01-12 08:04:56",updated_at:"2023-01-12 08:04:56"},{time:1673511301e3,id:"7d090cd0-aba9-42b6-bbe9-1f253ee7093b",ship_id:1,terminal_time:"2023-01-12 08:15:01",lat:-5.919602,lng:106.000217,wind_speed:12.2,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.6,cog:92.7,sog:.1,created_at:"2023-01-12 08:15:05",updated_at:"2023-01-12 08:15:05"},{time:1673512201e3,id:"fc753b87-6977-4e80-b90b-05dc877e04c3",ship_id:1,terminal_time:"2023-01-12 08:30:01",lat:-5.919598,lng:106.000233,wind_speed:15.5,wind_direction:215.4,heading:31.1,distance:88812.71,depth:-3.6,cog:134.1,sog:0,created_at:"2023-01-12 08:30:04",updated_at:"2023-01-12 08:30:04"},{time:1673513101e3,id:"15468c4d-66ad-44c5-8692-70c97eca048f",ship_id:1,terminal_time:"2023-01-12 08:45:01",lat:-5.919635,lng:106.00023,wind_speed:13.8,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:105.9,sog:.1,created_at:"2023-01-12 08:45:04",updated_at:"2023-01-12 08:45:04"},{time:1673514001e3,id:"ebc3bf69-1d1f-495a-b4a4-9c32c0ed598d",ship_id:1,terminal_time:"2023-01-12 09:00:01",lat:-5.919602,lng:106.000208,wind_speed:15.5,wind_direction:212,heading:31.2,distance:88812.71,depth:-3.6,cog:112.4,sog:0,created_at:"2023-01-12 09:00:04",updated_at:"2023-01-12 09:00:04"},{time:1673514901e3,id:"545fefd0-b1bb-4e36-a7d3-c0c35e2dc06a",ship_id:1,terminal_time:"2023-01-12 09:15:01",lat:-5.919617,lng:106.000203,wind_speed:11.6,wind_direction:223.8,heading:31.33,distance:88812.71,depth:-3.6,cog:121.1,sog:0,created_at:"2023-01-12 09:15:04",updated_at:"2023-01-12 09:15:04"},{time:1673515801e3,id:"f45537e7-c24d-43d4-a111-c331f0185270",ship_id:1,terminal_time:"2023-01-12 09:30:01",lat:-5.919602,lng:106.000202,wind_speed:11.4,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:120.6,sog:0,created_at:"2023-01-12 09:30:05",updated_at:"2023-01-12 09:30:05"},{time:1673516706e3,id:"d927f6f3-c47e-4066-948b-8c47ce169ddd",ship_id:1,terminal_time:"2023-01-12 09:45:06",lat:-5.919607,lng:106.0002,wind_speed:11.8,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:281.2,sog:0,created_at:"2023-01-12 09:45:11",updated_at:"2023-01-12 09:45:11"},{time:1673517601e3,id:"6f2b17a6-fc9e-4272-b263-9372835e5cb7",ship_id:1,terminal_time:"2023-01-12 10:00:01",lat:-5.919583,lng:106.000217,wind_speed:13.2,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:122.7,sog:0,created_at:"2023-01-12 10:00:05",updated_at:"2023-01-12 10:00:05"},{time:1673518501e3,id:"8037d2bb-f96b-4bdc-8e1a-6cc0234defce",ship_id:1,terminal_time:"2023-01-12 10:15:01",lat:-5.919593,lng:106.000227,wind_speed:10.8,wind_direction:225.2,heading:31.2,distance:88812.71,depth:-3.6,cog:107.9,sog:0,created_at:"2023-01-12 10:15:05",updated_at:"2023-01-12 10:15:05"},{time:1673519401e3,id:"59efc70a-dfcf-475b-a578-d472d4b63f41",ship_id:1,terminal_time:"2023-01-12 10:30:01",lat:-5.91962,lng:106.000227,wind_speed:12.8,wind_direction:235.1,heading:0,distance:0,depth:-3.6,cog:127.3,sog:0,created_at:"2023-01-12 10:30:05",updated_at:"2023-01-12 10:30:05"},{time:1673520301e3,id:"14107e27-17a4-4f72-8bf5-b4ba6866475b",ship_id:1,terminal_time:"2023-01-12 10:45:01",lat:-5.919598,lng:106.000215,wind_speed:6.9,wind_direction:241.7,heading:31.2,distance:88812.72,depth:-3.6,cog:142.3,sog:0,created_at:"2023-01-12 10:45:05",updated_at:"2023-01-12 10:45:05"},{time:1673521201e3,id:"55f2910a-c9a9-400f-99ec-17d9ea4260ab",ship_id:1,terminal_time:"2023-01-12 11:00:01",lat:-5.919615,lng:106.000205,wind_speed:14.3,wind_direction:235.1,heading:31.2,distance:88812.72,depth:-3.6,cog:309,sog:0,created_at:"2023-01-12 11:00:05",updated_at:"2023-01-12 11:00:05"},{time:1673522101e3,id:"554cb944-60be-4c64-baf9-0244229277f5",ship_id:1,terminal_time:"2023-01-12 11:15:01",lat:-5.919627,lng:106.000208,wind_speed:12.4,wind_direction:237.5,heading:31,distance:88812.72,depth:-3.6,cog:63,sog:.1,created_at:"2023-01-12 11:15:05",updated_at:"2023-01-12 11:15:05"},{time:1673523001e3,id:"d0a7e914-9d36-4e3a-b078-429af76e139a",ship_id:1,terminal_time:"2023-01-12 11:30:01",lat:-5.919625,lng:106.000183,wind_speed:12.4,wind_direction:247.7,heading:31.3,distance:88812.74,depth:-3.6,cog:64.3,sog:.1,created_at:"2023-01-12 11:30:05",updated_at:"2023-01-12 11:30:05"},{time:1673523901e3,id:"3578112f-5993-44fc-9bcb-484ae892cb83",ship_id:1,terminal_time:"2023-01-12 11:45:01",lat:-5.91961,lng:106.00022,wind_speed:13.8,wind_direction:247.7,heading:31.2,distance:88812.75,depth:-3.6,cog:47.8,sog:.1,created_at:"2023-01-12 11:45:05",updated_at:"2023-01-12 11:45:05"},{time:1673524801e3,id:"63045459-e38d-4517-88ec-0e16f915455c",ship_id:1,terminal_time:"2023-01-12 12:00:01",lat:-5.919587,lng:106.000218,wind_speed:9.1,wind_direction:247.7,heading:31.1,distance:88812.76,depth:-3.6,cog:102.5,sog:.1,created_at:"2023-01-12 12:00:05",updated_at:"2023-01-12 12:00:05"},{time:1673525701e3,id:"8f235d26-eba0-4cf1-b387-1bbe467f5880",ship_id:1,terminal_time:"2023-01-12 12:15:01",lat:-5.919615,lng:106.000227,wind_speed:11.6,wind_direction:242.1,heading:31.1,distance:88812.77,depth:-3.6,cog:311.4,sog:0,created_at:"2023-01-12 12:15:02",updated_at:"2023-01-12 12:15:02"},{time:1673526601e3,id:"3a964569-c108-42ad-a009-fcbb362b6a7f",ship_id:1,terminal_time:"2023-01-12 12:30:01",lat:-5.91958,lng:106.000207,wind_speed:5.8,wind_direction:229.4,heading:31.2,distance:88812.77,depth:-3.3,cog:110.9,sog:.1,created_at:"2023-01-12 12:30:04",updated_at:"2023-01-12 12:30:04"},{time:1673527501e3,id:"6751b37a-cee9-487f-bb0f-011ea80d9cb4",ship_id:1,terminal_time:"2023-01-12 12:45:01",lat:-5.919628,lng:106.000247,wind_speed:7.9,wind_direction:206.9,heading:31.3,distance:88812.78,depth:-3.3,cog:293.2,sog:0,created_at:"2023-01-12 12:45:04",updated_at:"2023-01-12 12:45:04"},{time:1673528401e3,id:"9a2e95f6-e2a6-4136-a8a0-f05c56caf90e",ship_id:1,terminal_time:"2023-01-12 13:00:01",lat:-5.919595,lng:106.000223,wind_speed:9.7,wind_direction:223.8,heading:0,distance:0,depth:-3.3,cog:139,sog:.2,created_at:"2023-01-12 13:00:04",updated_at:"2023-01-12 13:00:04"},{time:1673529301e3,id:"7ecb61ef-4188-47ff-8bf4-6efd86f72928",ship_id:1,terminal_time:"2023-01-12 13:15:01",lat:-5.91958,lng:106.000175,wind_speed:7.3,wind_direction:237.9,heading:0,distance:0,depth:-3.3,cog:131.9,sog:0,created_at:"2023-01-12 13:15:04",updated_at:"2023-01-12 13:15:04"},{time:1673530201e3,id:"43466e7e-0a51-42ee-81ce-5bcb8067a0a0",ship_id:1,terminal_time:"2023-01-12 13:30:01",lat:-5.919583,lng:106.00021,wind_speed:8.7,wind_direction:219.6,heading:31.2,distance:88812.78,depth:-3.3,cog:114,sog:.1,created_at:"2023-01-12 13:30:04",updated_at:"2023-01-12 13:30:04"},{time:1673531101e3,id:"297a2025-c5ef-40bd-b16e-59dba6360dae",ship_id:1,terminal_time:"2023-01-12 13:45:01",lat:-5.919592,lng:106.000177,wind_speed:5.2,wind_direction:233.7,heading:31.1,distance:88812.78,depth:-3.3,cog:101.6,sog:0,created_at:"2023-01-12 13:45:04",updated_at:"2023-01-12 13:45:04"},{time:1673532001e3,id:"4d3b3fed-521a-4c4b-be34-bc1c12554aca",ship_id:1,terminal_time:"2023-01-12 14:00:01",lat:-5.919585,lng:106.000207,wind_speed:5.6,wind_direction:236.5,heading:31.3,distance:88812.79,depth:-3.3,cog:337.4,sog:0,created_at:"2023-01-12 14:00:04",updated_at:"2023-01-12 14:00:04"},{time:1673532901e3,id:"4d4f1774-36c0-419e-ba3a-b02fddf2626f",ship_id:1,terminal_time:"2023-01-12 14:15:01",lat:-5.919595,lng:106.000158,wind_speed:4.6,wind_direction:260.4,heading:31.2,distance:88812.79,depth:-3.3,cog:324.5,sog:0,created_at:"2023-01-12 14:15:04",updated_at:"2023-01-12 14:15:04"},{time:1673533801e3,id:"1698b5e0-d4ac-49ad-b810-49e9601d3853",ship_id:1,terminal_time:"2023-01-12 14:30:01",lat:-5.919583,lng:106.000225,wind_speed:4.6,wind_direction:256.1,heading:31.2,distance:88812.8,depth:-3.3,cog:322.1,sog:.1,created_at:"2023-01-12 14:30:04",updated_at:"2023-01-12 14:30:04"},{time:1673534701e3,id:"ad9fb6e4-5f14-4125-9e71-167e7c866606",ship_id:1,terminal_time:"2023-01-12 14:45:01",lat:-5.919595,lng:106.000203,wind_speed:6.8,wind_direction:233.7,heading:31.2,distance:88812.8,depth:-3,cog:95.3,sog:.1,created_at:"2023-01-12 14:45:04",updated_at:"2023-01-12 14:45:04"},{time:1673535601e3,id:"1fe7fc3b-36f4-404f-be9f-7b043d160fd3",ship_id:1,terminal_time:"2023-01-12 15:00:01",lat:-5.919605,lng:106.000208,wind_speed:8.3,wind_direction:252,heading:31.3,distance:88812.81,depth:-3,cog:332,sog:.1,created_at:"2023-01-12 15:00:05",updated_at:"2023-01-12 15:00:05"},{time:1673536501e3,id:"e70637eb-6415-42ce-9e73-20ef8a56d9b5",ship_id:1,terminal_time:"2023-01-12 15:15:01",lat:-5.919622,lng:106.000213,wind_speed:8.5,wind_direction:252,heading:31.5,distance:88812.81,depth:-3,cog:307.5,sog:0,created_at:"2023-01-12 15:15:05",updated_at:"2023-01-12 15:15:05"},{time:1673537401e3,id:"89cddc9c-a742-45c5-a8cb-95af58326154",ship_id:1,terminal_time:"2023-01-12 15:30:01",lat:-5.919613,lng:106.000245,wind_speed:6.4,wind_direction:247.7,heading:31.5,distance:88812.82,depth:-3,cog:180.8,sog:.1,created_at:"2023-01-12 15:30:05",updated_at:"2023-01-12 15:30:05"},{time:1673538301e3,id:"7eeb6682-f01b-4920-be65-5e0b691cda91",ship_id:1,terminal_time:"2023-01-12 15:45:01",lat:-5.918417,lng:105.999612,wind_speed:10.4,wind_direction:337.8,heading:291.7,distance:88812.88,depth:-3.3,cog:310.4,sog:2.1,created_at:"2023-01-12 15:45:05",updated_at:"2023-01-12 15:45:05"},{time:1673539201e3,id:"bca7ec47-e760-471e-bcd9-5a8aa2355046",ship_id:1,terminal_time:"2023-01-12 16:00:01",lat:-5.898973,lng:105.987732,wind_speed:18.2,wind_direction:324.5,heading:340.2,distance:88814.27,depth:-39,cog:332.8,sog:9.2,created_at:"2023-01-12 16:00:05",updated_at:"2023-01-12 16:00:05"},{time:1673540101e3,id:"6d1f8f41-c708-4913-9f3b-796181bd67ba",ship_id:1,terminal_time:"2023-01-12 16:15:01",lat:-5.868212,lng:106.003383,wind_speed:3.6,wind_direction:226.2,heading:60.3,distance:88816.54,depth:-55.6,cog:61.7,sog:11.4,created_at:"2023-01-12 16:15:02",updated_at:"2023-01-12 16:15:02"},{time:1673541001e3,id:"ffddd40d-2fb5-470b-935f-1f998984761a",ship_id:1,terminal_time:"2023-01-12 16:30:01",lat:-5.8487729999999996,lng:106.049228,wind_speed:5.8,wind_direction:157.5,heading:70.4,distance:88819.53,depth:-47,cog:70,sog:12.2,created_at:"2023-01-12 16:30:05",updated_at:"2023-01-12 16:30:05"},{time:1673541901e3,id:"225b2709-e620-4f1f-89f5-d761ea9a27f8",ship_id:1,terminal_time:"2023-01-12 16:45:01",lat:-5.834948,lng:106.097917,wind_speed:6.4,wind_direction:157.5,heading:80.2,distance:88822.55,depth:-31.6,cog:81.1,sog:12.2,created_at:"2023-01-12 16:45:05",updated_at:"2023-01-12 16:45:05"},{time:1673542801e3,id:"98589ed9-2a54-44e0-94d2-9b377e3c67c6",ship_id:1,terminal_time:"2023-01-12 17:00:01",lat:-5.832885,lng:106.14986,wind_speed:4,wind_direction:144.5,heading:99,distance:88825.66,depth:-28.6,cog:102.2,sog:12.8,created_at:"2023-01-12 17:00:05",updated_at:"2023-01-12 17:00:05"},{time:1673543701e3,id:"7fa7bf3b-acdb-4707-8e81-6860424af4b9",ship_id:1,terminal_time:"2023-01-12 17:15:01",lat:-5.838525,lng:106.20245,wind_speed:2.9,wind_direction:161.9,heading:89.2,distance:88828.85,depth:-22.6,cog:91.4,sog:12.7,created_at:"2023-01-12 17:15:05",updated_at:"2023-01-12 17:15:05"},{time:1673544601e3,id:"79865b86-826b-4cb0-bd95-1a88728a32ee",ship_id:1,terminal_time:"2023-01-12 17:30:01",lat:-5.839608,lng:106.25531,wind_speed:1.7,wind_direction:194.7,heading:88.8,distance:88831.98,depth:-23,cog:90.5,sog:12.7,created_at:"2023-01-12 17:30:03",updated_at:"2023-01-12 17:30:03"},{time:1673545501e3,id:"bcf27b90-6ee8-4dc4-91cd-4b5ab1188d9a",ship_id:1,terminal_time:"2023-01-12 17:45:01",lat:-5.83994,lng:106.30857,wind_speed:2.5,wind_direction:99.8,heading:89,distance:88835.27,depth:-31.6,cog:91.2,sog:13,created_at:"2023-01-12 17:45:03",updated_at:"2023-01-12 17:45:03"},{time:1673546401e3,id:"24294d87-37c8-401c-8120-3f6412ebbd31",ship_id:1,terminal_time:"2023-01-12 18:00:01",lat:-5.841293,lng:106.363258,wind_speed:3.6,wind_direction:54.9,heading:86.3,distance:88838.55,depth:-28.6,cog:88.1,sog:13.1,created_at:"2023-01-12 18:00:03",updated_at:"2023-01-12 18:00:03"},{time:1673547301e3,id:"1b983cb5-a7a5-4259-a3ed-68ba7093343e",ship_id:1,terminal_time:"2023-01-12 18:15:01",lat:-5.838722,lng:106.418933,wind_speed:7.3,wind_direction:56.3,heading:90.1,distance:88841.85,depth:-49.3,cog:90.8,sog:13.2,created_at:"2023-01-12 18:15:03",updated_at:"2023-01-12 18:15:03"},{time:1673548201e3,id:"15c3c6db-50aa-4a57-9238-2319a66b67aa",ship_id:1,terminal_time:"2023-01-12 18:30:01",lat:-5.83975,lng:106.47494,wind_speed:9.3,wind_direction:54.9,heading:89.9,distance:88845.21,depth:-45.6,cog:90.7,sog:13.5,created_at:"2023-01-13 08:01:29",updated_at:"2023-01-13 08:01:29"},{time:1673549101e3,id:"06e2801a-9747-4c80-9786-b47a946f07dd",ship_id:1,terminal_time:"2023-01-12 18:45:01",lat:-5.840233,lng:106.531412,wind_speed:9.9,wind_direction:65.2,heading:92.3,distance:88848.59,depth:-77.6,cog:94,sog:13.5,created_at:"2023-01-13 08:03:23",updated_at:"2023-01-13 08:03:23"},{time:1673550001e3,id:"69056518-ad05-4299-9844-8cdfaed1b01c",ship_id:1,terminal_time:"2023-01-12 19:00:01",lat:-5.837537,lng:106.585833,wind_speed:10.4,wind_direction:16.8,heading:77.9,distance:88851.84,depth:-70.6,cog:78.2,sog:13,created_at:"2023-01-13 08:02:35",updated_at:"2023-01-13 08:02:35"},{time:1673550901e3,id:"17bc32d5-5b7b-4c30-b1df-b7e55e45806b",ship_id:1,terminal_time:"2023-01-12 19:15:01",lat:-5.830312,lng:106.640343,wind_speed:13,wind_direction:21,heading:87.4,distance:88855.12,depth:-39,cog:86.4,sog:13.2,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673551801e3,id:"f7476f04-656a-4e72-8e6c-57b0d831c5f5",ship_id:1,terminal_time:"2023-01-12 19:30:01",lat:-5.853542,lng:106.689242,wind_speed:13.2,wind_direction:21,heading:126.5,distance:88858.39,depth:-27,cog:128.5,sog:13.2,created_at:"2023-01-13 08:05:16",updated_at:"2023-01-13 08:05:16"},{time:1673552701e3,id:"88b9ecc4-9964-43d8-b6a4-aed13a07495c",ship_id:1,terminal_time:"2023-01-12 19:45:01",lat:-5.889747,lng:106.731723,wind_speed:18,wind_direction:12.5,heading:129.7,distance:88861.73,depth:-29,cog:131.9,sog:13.4,created_at:"2023-01-13 08:02:30",updated_at:"2023-01-13 08:02:30"},{time:1673553601e3,id:"26848018-c9ac-4503-838d-ae857206e20b",ship_id:1,terminal_time:"2023-01-12 20:00:01",lat:-5.927122,lng:106.772935,wind_speed:18.8,wind_direction:7.9,heading:130.5,distance:88865.07,depth:-21.6,cog:132.8,sog:13.3,created_at:"2023-01-13 08:01:15",updated_at:"2023-01-13 08:01:15"},{time:1673554501e3,id:"2e692d80-82f5-4549-91d5-8a2ed3fb2e12",ship_id:1,terminal_time:"2023-01-12 20:15:01",lat:-5.960285,lng:106.81634,wind_speed:17.4,wind_direction:9.7,heading:112.2,distance:88868.34,depth:-17.3,cog:114.9,sog:13.1,created_at:"2023-01-13 08:03:01",updated_at:"2023-01-13 08:03:01"},{time:1673555401e3,id:"aca95c12-4858-4cf9-94d3-a4f8e4de5aef",ship_id:1,terminal_time:"2023-01-12 20:30:01",lat:-5.983137,lng:106.859937,wind_speed:11.8,wind_direction:0,heading:130.3,distance:88871.33,depth:-15.3,cog:131.8,sog:9.7,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673556301e3,id:"8b09c8fe-2ea4-494c-a5fb-dd2a24bf7270",ship_id:1,terminal_time:"2023-01-12 20:45:01",lat:-6.000398,lng:106.883002,wind_speed:7.9,wind_direction:1.4,heading:115.3,distance:88873.1,depth:-13.6,cog:118.2,sog:4.3,created_at:"2023-01-13 08:00:56",updated_at:"2023-01-13 08:00:56"},{time:1673557201e3,id:"284ce5ee-e703-4d6d-b114-c1df32919fd1",ship_id:1,terminal_time:"2023-01-12 21:00:01",lat:-6.00611,lng:106.893912,wind_speed:6,wind_direction:349,heading:106.4,distance:88873.88,depth:-13,cog:142.3,sog:.3,created_at:"2023-01-13 08:02:49",updated_at:"2023-01-13 08:02:49"},{time:1673558101e3,id:"45ad13f2-7559-4927-89c6-6f3c198a88b2",ship_id:1,terminal_time:"2023-01-12 21:15:01",lat:-6.007525,lng:106.893923,wind_speed:6.6,wind_direction:12.5,heading:3,distance:88873.88,depth:-13,cog:126.7,sog:.2,created_at:"2023-01-13 08:02:41",updated_at:"2023-01-13 08:02:41"},{time:1673559001e3,id:"a4a1e14d-14ab-43f6-9535-4fa2a9d49ae4",ship_id:1,terminal_time:"2023-01-12 21:30:01",lat:-6.00759,lng:106.894172,wind_speed:5.4,wind_direction:30.9,heading:25.3,distance:88873.89,depth:-13,cog:173.5,sog:.1,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673559901e3,id:"02e22b70-2f1d-4ec5-be13-4924c441d425",ship_id:1,terminal_time:"2023-01-12 21:45:01",lat:-6.007575,lng:106.894195,wind_speed:7.3,wind_direction:32.3,heading:25.6,distance:88873.9,depth:-12.6,cog:225,sog:.1,created_at:"2023-01-13 08:03:11",updated_at:"2023-01-13 08:03:11"},{time:1673560801e3,id:"714b40ab-6959-4c7d-89d9-dbb4bb70e57c",ship_id:1,terminal_time:"2023-01-12 22:00:01",lat:-6.007612,lng:106.894137,wind_speed:5.8,wind_direction:33.6,heading:25,distance:88873.9,depth:-12.6,cog:168.2,sog:0,created_at:"2023-01-13 08:02:28",updated_at:"2023-01-13 08:02:28"},{time:1673561701e3,id:"8076bd11-03d4-4552-b96d-89e5d0255292",ship_id:1,terminal_time:"2023-01-12 22:15:01",lat:-6.007583,lng:106.894055,wind_speed:7.3,wind_direction:43.6,heading:29.2,distance:88873.9,depth:-13,cog:316.5,sog:.1,created_at:"2023-01-13 08:02:17",updated_at:"2023-01-13 08:02:17"},{time:1673562601e3,id:"d34040f5-d539-420c-bb97-d96c16081c94",ship_id:1,terminal_time:"2023-01-12 22:30:01",lat:-6.007425,lng:106.89391,wind_speed:5.6,wind_direction:43.6,heading:44.4,distance:88873.9,depth:-13,cog:126.5,sog:.1,created_at:"2023-01-13 08:03:38",updated_at:"2023-01-13 08:03:38"},{time:1673563501e3,id:"564f8c5e-2634-4ec9-9f48-e0af89ff5564",ship_id:1,terminal_time:"2023-01-12 22:45:01",lat:-6.007598,lng:106.894127,wind_speed:4.6,wind_direction:43.6,heading:27.2,distance:88873.9,depth:-13,cog:34.5,sog:0,created_at:"2023-01-13 08:04:15",updated_at:"2023-01-13 08:04:15"},{time:1673564401e3,id:"4926d7e4-dbc0-4a31-8d0a-6a052ff27bc0",ship_id:1,terminal_time:"2023-01-12 23:00:01",lat:-6.007682,lng:106.894268,wind_speed:5.6,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:155.9,sog:0,created_at:"2023-01-13 08:03:58",updated_at:"2023-01-13 08:03:58"},{time:1673565301e3,id:"433693fd-81e1-4395-a29d-8eb5bb82c236",ship_id:1,terminal_time:"2023-01-12 23:15:01",lat:-6.007708,lng:106.894337,wind_speed:4.8,wind_direction:43.6,heading:14.8,distance:88873.9,depth:-13,cog:189.5,sog:0,created_at:"2023-01-13 08:03:48",updated_at:"2023-01-13 08:03:48"},{time:1673566201e3,id:"3bd7e61b-1373-4345-867a-dfe285746a32",ship_id:1,terminal_time:"2023-01-12 23:30:01",lat:-6.007645,lng:106.894262,wind_speed:3.4,wind_direction:43.6,heading:19.3,distance:88873.9,depth:-13,cog:200.6,sog:.1,created_at:"2023-01-13 08:05:28",updated_at:"2023-01-13 08:05:28"},{time:1673567101e3,id:"09b7824a-9980-4c9d-bf99-87e65e80069b",ship_id:1,terminal_time:"2023-01-12 23:45:01",lat:-6.007677,lng:106.8943,wind_speed:2.1,wind_direction:43.6,heading:16.6,distance:88873.9,depth:-13,cog:44.7,sog:0,created_at:"2023-01-13 08:04:21",updated_at:"2023-01-13 08:04:21"},{time:1673568001e3,id:"b38d3696-7f77-459c-863f-91445f63f3e9",ship_id:1,terminal_time:"2023-01-13 00:00:01",lat:-6.007713,lng:106.894375,wind_speed:3.1,wind_direction:43.6,heading:15.4,distance:88873.9,depth:-13,cog:108.7,sog:.1,created_at:"2023-01-13 08:01:36",updated_at:"2023-01-13 08:01:36"},{time:1673568903e3,id:"b55f2d04-80e5-45c3-8479-13897d8db096",ship_id:1,terminal_time:"2023-01-13 00:15:03",lat:-6.007727,lng:106.894435,wind_speed:2.7,wind_direction:43.6,heading:11.8,distance:88873.9,depth:-13,cog:68.7,sog:0,created_at:"2023-01-13 08:03:55",updated_at:"2023-01-13 08:03:55"},{time:1673570168e3,id:"bc973d32-96ff-4d4b-83fa-fdc69ab666a4",ship_id:1,terminal_time:"2023-01-13 00:36:08",lat:-6.00772,lng:106.894325,wind_speed:2.7,wind_direction:43.6,heading:17.2,distance:88873.9,depth:-13,cog:224.5,sog:0,created_at:"2023-01-13 08:01:47",updated_at:"2023-01-13 08:01:47"},{time:1673570703e3,id:"51065554-9c2a-4ead-9c62-cdd44d475009",ship_id:1,terminal_time:"2023-01-13 00:45:03",lat:-6.007642,lng:106.894265,wind_speed:3.3,wind_direction:43.6,heading:20.1,distance:88873.9,depth:-13,cog:237,sog:0,created_at:"2023-01-13 08:02:52",updated_at:"2023-01-13 08:02:52"},{time:1673571603e3,id:"f1dbff35-e7f7-4963-a643-80e87b251c8c",ship_id:1,terminal_time:"2023-01-13 01:00:03",lat:-6.0076,lng:106.894155,wind_speed:4.2,wind_direction:43.6,heading:25.4,distance:88873.91,depth:-13,cog:177.2,sog:0,created_at:"2023-01-13 08:05:07",updated_at:"2023-01-13 08:05:07"},{time:1673572503e3,id:"606bf160-10bf-4454-95c1-6abb21d4a9a8",ship_id:1,terminal_time:"2023-01-13 01:15:03",lat:-6.007512,lng:106.894067,wind_speed:4,wind_direction:43.6,heading:33,distance:88873.91,depth:-13,cog:204.5,sog:0,created_at:"2023-01-13 08:04:55",updated_at:"2023-01-13 08:04:55"},{time:1673573403e3,id:"46a99db5-3b12-4141-949d-a7f4f69451c9",ship_id:1,terminal_time:"2023-01-13 01:30:03",lat:-6.007512,lng:106.894075,wind_speed:1.7,wind_direction:43.6,heading:34.6,distance:88873.91,depth:-13,cog:110.9,sog:.1,created_at:"2023-01-13 08:04:51",updated_at:"2023-01-13 08:04:51"},{time:1673574303e3,id:"ab8768f7-f2c0-4c28-ba76-68c4d848ee1b",ship_id:1,terminal_time:"2023-01-13 01:45:03",lat:-6.0075,lng:106.894193,wind_speed:1.9,wind_direction:43.6,heading:32.2,distance:88873.91,depth:-13,cog:300.5,sog:.1,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673575203e3,id:"6a14e9fa-b7ad-4ec4-9f66-fa4f814c54af",ship_id:1,terminal_time:"2023-01-13 02:00:03",lat:-6.007582,lng:106.894147,wind_speed:2.5,wind_direction:43.6,heading:29.3,distance:88873.92,depth:-13,cog:319.4,sog:0,created_at:"2023-01-13 08:05:13",updated_at:"2023-01-13 08:05:13"},{time:1673576103e3,id:"456740b7-62b5-4f33-b4c0-1dc7d824d0bb",ship_id:1,terminal_time:"2023-01-13 02:15:03",lat:-6.007527,lng:106.8941,wind_speed:2.7,wind_direction:43.6,heading:32.7,distance:88873.92,depth:-13.3,cog:336.3,sog:0,created_at:"2023-01-13 08:05:57",updated_at:"2023-01-13 08:05:57"},{time:1673577003e3,id:"9f03eb81-f440-4e94-a55f-ab45fcc7b6c0",ship_id:1,terminal_time:"2023-01-13 02:30:03",lat:-6.007453,lng:106.894015,wind_speed:2.5,wind_direction:43.6,heading:39.1,distance:88873.93,depth:-13.3,cog:345.7,sog:.1,created_at:"2023-01-13 08:05:39",updated_at:"2023-01-13 08:05:39"},{time:1673577903e3,id:"e4f82def-000e-40af-915a-fa2b0c177b50",ship_id:1,terminal_time:"2023-01-13 02:45:03",lat:-6.007433,lng:106.893978,wind_speed:2.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:303.2,sog:0,created_at:"2023-01-13 08:06:18",updated_at:"2023-01-13 08:06:18"},{time:1673578803e3,id:"54b75262-94fb-4782-987c-ccbefeebec92",ship_id:1,terminal_time:"2023-01-13 03:00:03",lat:-6.00737,lng:106.893908,wind_speed:3.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:348.7,sog:0,created_at:"2023-01-13 08:06:12",updated_at:"2023-01-13 08:06:12"},{time:1673579703e3,id:"fa539bb4-a28e-469c-9a4e-9a3d0c486050",ship_id:1,terminal_time:"2023-01-13 03:15:03",lat:-6.007335,lng:106.893948,wind_speed:2.7,wind_direction:45,heading:49.7,distance:88873.94,depth:-13.3,cog:137.5,sog:.1,created_at:"2023-01-13 08:06:05",updated_at:"2023-01-13 08:06:05"},{time:1673580603e3,id:"539a72f1-ac08-46d9-b981-d2b0ad986548",ship_id:1,terminal_time:"2023-01-13 03:30:03",lat:-6.007343,lng:106.893923,wind_speed:2.3,wind_direction:45,heading:46.6,distance:88873.94,depth:-13,cog:284,sog:.1,created_at:"2023-01-13 08:05:52",updated_at:"2023-01-13 08:05:52"},{time:1673581503e3,id:"4df156c5-a460-4977-8551-b187446e5412",ship_id:1,terminal_time:"2023-01-13 03:45:03",lat:-6.007297,lng:106.893842,wind_speed:3.4,wind_direction:45,heading:47.7,distance:88873.94,depth:-13,cog:168.1,sog:0,created_at:"2023-01-13 08:05:54",updated_at:"2023-01-13 08:05:54"},{time:1673582403e3,id:"a403298f-42d3-4529-b018-1af317d27868",ship_id:1,terminal_time:"2023-01-13 04:00:03",lat:-6.007198,lng:106.893723,wind_speed:2.5,wind_direction:45,heading:56.1,distance:88873.94,depth:-13.3,cog:178.4,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673583303e3,id:"dd731f40-8d09-4757-827b-9d4f1d4651e1",ship_id:1,terminal_time:"2023-01-13 04:15:03",lat:-6.007137,lng:106.893783,wind_speed:2.7,wind_direction:45,heading:58.1,distance:88873.94,depth:-13,cog:161.9,sog:0,created_at:"2023-01-13 08:07:09",updated_at:"2023-01-13 08:07:09"},{time:1673584203e3,id:"4108b2ac-c7e2-49e9-bef8-1aeb96d7d1da",ship_id:1,terminal_time:"2023-01-13 04:30:03",lat:-6.007167,lng:106.893807,wind_speed:2.5,wind_direction:45,heading:59.3,distance:88873.94,depth:-13,cog:52.2,sog:0,created_at:"2023-01-13 08:06:59",updated_at:"2023-01-13 08:06:59"},{time:1673585108e3,id:"cc3220d1-e43b-4f9e-8a0e-2f416fff3d82",ship_id:1,terminal_time:"2023-01-13 04:45:08",lat:-6.0070879999999995,lng:106.893705,wind_speed:2.3,wind_direction:45,heading:60.4,distance:88873.94,depth:-13,cog:336.7,sog:.1,created_at:"2023-01-13 08:06:48",updated_at:"2023-01-13 08:06:48"},{time:1673586003e3,id:"82f940ea-8953-425e-86b3-7899a04cc3d8",ship_id:1,terminal_time:"2023-01-13 05:00:03",lat:-6.006982,lng:106.893693,wind_speed:1.9,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:265.2,sog:0,created_at:"2023-01-13 08:07:32",updated_at:"2023-01-13 08:07:32"},{time:1673586903e3,id:"ad2c1c63-d614-4095-8d40-e96424f5a6d7",ship_id:1,terminal_time:"2023-01-13 05:15:03",lat:-6.007068,lng:106.893725,wind_speed:.9,wind_direction:45,heading:61.6,distance:88873.94,depth:-13.3,cog:232.5,sog:.1,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673587803e3,id:"e44c9ea1-fe7c-4076-8e00-c146f79d9ff1",ship_id:1,terminal_time:"2023-01-13 05:30:03",lat:-6.007113,lng:106.8937,wind_speed:.7,wind_direction:45,heading:57.9,distance:88873.94,depth:-13.3,cog:273.7,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673588703e3,id:"11fabb10-51d2-4b18-8c3e-8d5f30e0c604",ship_id:1,terminal_time:"2023-01-13 05:45:03",lat:-6.00707,lng:106.893708,wind_speed:0,wind_direction:45,heading:59.9,distance:88873.94,depth:-13,cog:179.4,sog:.1,created_at:"2023-01-13 08:07:45",updated_at:"2023-01-13 08:07:45"},{time:1673589603e3,id:"3d8e63b1-ef49-4faa-8668-2064fc7691b9",ship_id:1,terminal_time:"2023-01-13 06:00:03",lat:-6.007005,lng:106.893697,wind_speed:1.7,wind_direction:45,heading:61,distance:88873.94,depth:-13,cog:224.6,sog:0,created_at:"2023-01-13 08:08:35",updated_at:"2023-01-13 08:08:35"},{time:1673590503e3,id:"abedede7-fcef-4a6a-821c-96caff5b51dd",ship_id:1,terminal_time:"2023-01-13 06:15:03",lat:-6.007067,lng:106.893657,wind_speed:1.7,wind_direction:45,heading:56.4,distance:88873.94,depth:-13.3,cog:299.4,sog:0,created_at:"2023-01-13 08:08:07",updated_at:"2023-01-13 08:08:07"},{time:1673591403e3,id:"b51194a8-99a4-4d32-83a4-d5fbfaaa4d2b",ship_id:1,terminal_time:"2023-01-13 06:30:03",lat:-6.006965,lng:106.893667,wind_speed:2.1,wind_direction:45,heading:62.6,distance:88873.94,depth:-13.3,cog:139.2,sog:0,created_at:"2023-01-13 08:08:23",updated_at:"2023-01-13 08:08:23"},{time:1673592518e3,id:"b209dcbe-8749-41d2-b84b-c1258b5ab981",ship_id:1,terminal_time:"2023-01-13 06:48:38",lat:-6.006987,lng:106.893667,wind_speed:2.3,wind_direction:45,heading:66.4,distance:88873.94,depth:-13.3,cog:318.9,sog:0,created_at:"2023-01-13 08:08:09",updated_at:"2023-01-13 08:08:09"},{time:1673593203e3,id:"32347284-3eae-468f-bee0-b65b0ec6fc1e",ship_id:1,terminal_time:"2023-01-13 07:00:03",lat:-6.007023,lng:106.893678,wind_speed:2.7,wind_direction:45,heading:62.5,distance:88873.95,depth:-13.3,cog:111.2,sog:0,created_at:"2023-01-13 08:07:41",updated_at:"2023-01-13 08:07:41"},{time:1673594103e3,id:"d96b7d8b-3fd1-4062-a8fb-81b177ca4b7e",ship_id:1,terminal_time:"2023-01-13 07:15:03",lat:-6.007138,lng:106.89375,wind_speed:2.5,wind_direction:45,heading:62.4,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:24",updated_at:"2023-01-13 08:08:24"},{time:1673595003e3,id:"fb3aea68-d3b4-4a82-8246-b492385b9b9b",ship_id:1,terminal_time:"2023-01-13 07:30:03",lat:-6.006977,lng:106.893747,wind_speed:2.7,wind_direction:45,heading:66.3,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:37",updated_at:"2023-01-13 08:08:37"},{time:1673595903e3,id:"4b32822b-aad7-4b21-b989-0f1651010609",ship_id:1,terminal_time:"2023-01-13 07:45:03",lat:-6.00699,lng:106.89368,wind_speed:2.3,wind_direction:45,heading:68.2,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:55",updated_at:"2023-01-13 08:08:55"},{time:1673596808e3,id:"5e31ea31-de98-4291-b5ed-bc79c4642d2e",ship_id:1,terminal_time:"2023-01-13 08:00:08",lat:-6.006908,lng:106.89369,wind_speed:2.1,wind_direction:45,heading:72.3,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:48",updated_at:"2023-01-13 08:08:48"},{time:1673597703e3,id:"1f625245-9ea7-4f96-9bf2-627e75f1ea29",ship_id:1,terminal_time:"2023-01-13 08:15:03",lat:-6.006837,lng:106.893615,wind_speed:2.3,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:3.7,sog:0,created_at:"2023-01-13 08:15:07",updated_at:"2023-01-13 08:15:07"},{time:1673598603e3,id:"f2ecdf0b-2cd9-40ce-ad89-0a8d73cad5c1",ship_id:1,terminal_time:"2023-01-13 08:30:03",lat:-6.006838,lng:106.893623,wind_speed:2.1,wind_direction:45,heading:75,distance:88873.95,depth:-13.3,cog:135.5,sog:0,created_at:"2023-01-13 08:30:07",updated_at:"2023-01-13 08:30:07"},{time:1673599503e3,id:"8327765d-9bf8-4fc4-8584-95359d3bbbb0",ship_id:1,terminal_time:"2023-01-13 08:45:03",lat:-6.006812,lng:106.893627,wind_speed:3.4,wind_direction:45,heading:75.5,distance:88873.95,depth:-13.3,cog:89.4,sog:0,created_at:"2023-01-13 08:45:04",updated_at:"2023-01-13 08:45:04"},{time:1673600403e3,id:"f5eb5331-437b-4c35-a486-84a8fa9d5644",ship_id:1,terminal_time:"2023-01-13 09:00:03",lat:-6.006815,lng:106.893662,wind_speed:3.6,wind_direction:45,heading:75.4,distance:88873.96,depth:-13.3,cog:94.9,sog:0,created_at:"2023-01-13 09:00:05",updated_at:"2023-01-13 09:00:05"},{time:1673601303e3,id:"2a247c20-bd73-4d19-8dab-7a2254a80a62",ship_id:1,terminal_time:"2023-01-13 09:15:03",lat:-6.006802,lng:106.893608,wind_speed:5.2,wind_direction:45,heading:75.8,distance:88873.96,depth:-13.3,cog:92.2,sog:0,created_at:"2023-01-13 09:15:05",updated_at:"2023-01-13 09:15:05"},{time:1673602203e3,id:"6153d12f-d552-4ab9-bba7-9e250f663945",ship_id:1,terminal_time:"2023-01-13 09:30:03",lat:-6.006802,lng:106.893643,wind_speed:4.2,wind_direction:45,heading:76.9,distance:88873.96,depth:-13.3,cog:141.9,sog:0,created_at:"2023-01-13 09:30:06",updated_at:"2023-01-13 09:30:06"},{time:1673603103e3,id:"2f1058ed-c8da-4364-aab6-dc9645e1fde8",ship_id:1,terminal_time:"2023-01-13 09:45:03",lat:-6.006837,lng:106.893597,wind_speed:3.8,wind_direction:45,heading:72.8,distance:88873.96,depth:-13.3,cog:110.7,sog:0,created_at:"2023-01-13 09:45:06",updated_at:"2023-01-13 09:45:06"},{time:1673604003e3,id:"cc41dd89-f978-4edf-9ada-4667dbff60ce",ship_id:1,terminal_time:"2023-01-13 10:00:03",lat:-6.00683,lng:106.893597,wind_speed:3.6,wind_direction:45,heading:72.1,distance:88873.96,depth:-13.3,cog:135.3,sog:0,created_at:"2023-01-13 10:00:06",updated_at:"2023-01-13 10:00:06"},{time:1673604903e3,id:"396bffaa-c79e-49d7-bdf1-f426896bb87c",ship_id:1,terminal_time:"2023-01-13 10:15:03",lat:-6.00688,lng:106.89365,wind_speed:3.1,wind_direction:45,heading:70.9,distance:88873.96,depth:-13.3,cog:180.2,sog:.1,created_at:"2023-01-13 10:15:07",updated_at:"2023-01-13 10:15:07"},{time:1673605803e3,id:"d946fc22-50aa-4fcd-bd7c-b44f44547a46",ship_id:1,terminal_time:"2023-01-13 10:30:03",lat:-6.007095,lng:106.89367,wind_speed:3.3,wind_direction:45,heading:58.8,distance:88873.96,depth:-13.3,cog:157.1,sog:0,created_at:"2023-01-13 10:30:04",updated_at:"2023-01-13 10:30:04"},{time:1673606703e3,id:"580132f9-3c14-4d3c-9b66-d0ff9ec812f0",ship_id:1,terminal_time:"2023-01-13 10:45:03",lat:-6.007132,lng:106.893745,wind_speed:5.4,wind_direction:26.7,heading:53.2,distance:88873.96,depth:-13.3,cog:144.9,sog:0,created_at:"2023-01-13 10:45:05",updated_at:"2023-01-13 10:45:05"},{time:1673607603e3,id:"2a0785ea-942c-42cd-ad88-e982f8495a39",ship_id:1,terminal_time:"2023-01-13 11:00:03",lat:-6.007203,lng:106.893752,wind_speed:4.2,wind_direction:26.7,heading:0,distance:0,depth:-13.3,cog:260.4,sog:0,created_at:"2023-01-13 11:00:05",updated_at:"2023-01-13 11:00:05"},{time:1673608503e3,id:"b1840bc7-7b81-44b4-a120-b50cb7ed9631",ship_id:1,terminal_time:"2023-01-13 11:15:03",lat:-6.007423,lng:106.893847,wind_speed:5.6,wind_direction:26.7,heading:39,distance:88873.97,depth:-13.6,cog:90.2,sog:.1,created_at:"2023-01-13 11:15:05",updated_at:"2023-01-13 11:15:05"},{time:1673609403e3,id:"257a0ae0-3c67-4484-900c-ee1149e2541d",ship_id:1,terminal_time:"2023-01-13 11:30:03",lat:-6.007583,lng:106.89401,wind_speed:5,wind_direction:26.7,heading:27.7,distance:88873.98,depth:-13.3,cog:110.5,sog:.1,created_at:"2023-01-13 11:30:06",updated_at:"2023-01-13 11:30:06"},{time:1673610303e3,id:"0e80a0e4-2c6c-441f-8364-26416a9ce1dd",ship_id:1,terminal_time:"2023-01-13 11:45:03",lat:-6.0076730000000005,lng:106.89419,wind_speed:7.3,wind_direction:26.7,heading:18.3,distance:88873.99,depth:-13.3,cog:93.9,sog:0,created_at:"2023-01-13 11:45:06",updated_at:"2023-01-13 11:45:06"},{time:1673611203e3,id:"11866d32-1040-4bdb-b7bf-190db9704e3c",ship_id:1,terminal_time:"2023-01-13 12:00:03",lat:-6.00775,lng:106.894325,wind_speed:7.1,wind_direction:26.7,heading:13.3,distance:88873.99,depth:-13.3,cog:102.4,sog:0,created_at:"2023-01-13 12:00:07",updated_at:"2023-01-13 12:00:07"}],JH={components:{MapboxMap:o2,MapboxNavigationControl:a2},data(){return{map:null,current:[],items:[],potition:!1}},methods:{async loaded(){let e=this,t={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},n={type:"FeatureCollection",features:[]};KH.forEach((d,h)=>{this.current&&this.calcCrow(this.current[1],this.current[0],d.lat,d.lng)>20||(t.geometry.coordinates.push([d.lng,d.lat]),n.features.push({type:"Feature",properties:{cog:d.cog,sog:d.sog,time:d.terminal_time,lat:d.lat,lng:d.lng,heading:d.heading},geometry:{type:"Point",coordinates:[d.lng,d.lat]}}),this.current=[d.lng,d.lat],this.items.push(d))}),this.map.addSource("route",{type:"geojson",data:t}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),e.map.addSource("points",{type:"geojson",data:n}),e.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const r=new _c.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",d=>{let h=d.features[0].properties;this.positionShip(h)}),this.map.on("mouseenter","points",d=>{e.map.getCanvas().style.cursor="pointer";const h=d.features[0].geometry.coordinates.slice(),s=`<b>Lat : ${d.features[0].properties.lat} | Lng: ${d.features[0].properties.lng}</b> at ${d.features[0].properties.sog} <b>kn</b> / ${d.features[0].properties.cog}&deg;<br>time: <b>${d.features[0].properties.time}</b>`;for(;Math.abs(d.lngLat.lng-h[0])>180;)h[0]+=d.lngLat.lng>h[0]?360:-360;r.setLngLat(h).setHTML(s).addTo(e.map)}),this.map.on("mouseleave","points",()=>{e.map.getCanvas().style.cursor="",r.remove()}),this.map.loadImage(z5,(d,h)=>{if(d)throw d;e.map.addImage("ship-icon",h)});let o=this.items[this.items.length-1];this.positionShip({heading:o.heading,lng:o.lng,lat:o.lat})},toPotition(e){this.positionShip(e)},positionShip(e){this.potition&&(this.map.removeLayer("ship-point"),this.map.removeSource("ship-point")),this.map.addSource("ship-point",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{scale:1,heading:e.heading}}]}}),this.map.addLayer({id:"ship-point",type:"symbol",source:"ship-point",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.potition=!0},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},calcCrow(s,t,b,r){var o=6371,d=this.toRad(b-s),h=this.toRad(r-t),s=this.toRad(s),b=this.toRad(b),R=Math.sin(d/2)*Math.sin(d/2)+Math.sin(h/2)*Math.sin(h/2)*Math.cos(s)*Math.cos(b),J=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R)),I=o*J;return I},toRad(e){return e*Math.PI/180}}},QH={class:"row g-0"},eY={class:"col-9"},tY={class:"position-relative"},iY={class:"pointer-info",ref:"pointerInfo"},nY={class:"col-3"},rY=Mu('<header class="navbar navbar-expand-md navbar-dark bg-primary d-print-none"><div class="container-xl"><ul class="navbar-nav"><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 6l16 0"></path><path d="M4 12l16 0"></path><path d="M4 18l16 0"></path></svg></span></a></li><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sailboat" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M2 20a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1"></path><path d="M4 18l-1 -3h18l-1 3"></path><path d="M11 12h7l-7 -9v9"></path><path d="M8 7l-2 5"></path></svg></span> Voyage </a></li></ul></div></header>',1),sY={class:"information"},oY={class:"histories"},aY={class:"table card-table table-vcenter text-nowrap datatable table-fixed text-small"},lY=Ye("thead",null,[Ye("tr",null,[Ye("th",null,"Time"),Ye("th",null,"Lon"),Ye("th",null,"Lat"),Ye("th",null,"Speed")])],-1),cY=["onClick"];function dY(e,t,n,r,o,d){const h=Er("MapboxNavigationControl"),s=Er("MapboxMap");return wt(),Ot("div",QH,[Ye("div",eY,[Ye("div",tY,[Ye("div",iY,null,512),cn(s,{onMbCreated:t[0]||(t[0]=b=>o.map=b),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[105.987732,-5.898973],zoom:7},{default:Yn(()=>[cn(h,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center"])])]),Ye("div",nY,[rY,Ye("div",sY,[Ye("div",oY,[Ye("table",aY,[lY,Ye("tbody",null,[(wt(!0),Ot(ln,null,Mr(o.items,b=>(wt(),Ot("tr",{key:b.id,onClick:R=>d.toPotition(b),class:"pointer"},[Ye("td",null,Qi(e.$filters.dateformat(b.terminal_time)),1),Ye("td",null,Qi(e.$filters.str_limit(b.lng,7))+"°",1),Ye("td",null,Qi(e.$filters.str_limit(b.lat,6))+"°",1),Ye("td",null,Qi(b.sog),1)],8,cY))),128))])])])])])])}const uY=Zr(JH,[["render",dY]]),hY={components:{MapboxMap:o2,MapboxNavigationControl:a2},props:{fleet:Object,style:Object,sidebar:Boolean},data(){return{map:null,current:[],timer:null,popup:new _c.Popup({closeButton:!0,closeOnClick:!1}),histories:[]}},mounted(){this.map.loadImage(z5,(e,t)=>{if(e)throw e;this.map.addImage("ship-icon",t)})},methods:{setHistory(e){this.histories=e;let t=this;this.current.length>0&&this.map.getLayer("route")!=="undefined"&&this.map.getLayer("points")!=="undefined"&&(this.map.removeLayer("route"),this.map.removeSource("route"),this.map.removeLayer("points"),this.map.removeSource("points"));let n={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},r={type:"FeatureCollection",features:[]};this.histories.forEach((s,b)=>{n.geometry.coordinates.push([s.lng,s.lat]),r.features.push({type:"Feature",properties:{cog:s.cog,sog:s.sog,time:s.terminal_time,lat:s.lat,lng:s.lng,heading:s.heading},geometry:{type:"Point",coordinates:[s.lng,s.lat]}}),this.current=[s.lng,s.lat]}),this.map.addSource("route",{type:"geojson",data:n}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),this.map.addSource("points",{type:"geojson",data:r}),this.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const o=new _c.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",s=>{let b=s.features[0].properties;this.positionShip(b)}),this.map.on("mouseenter","points",s=>{t.map.getCanvas().style.cursor="pointer";const b=s.features[0].geometry.coordinates.slice(),R=`<b>Lat : ${s.features[0].properties.lat} | Lng: ${s.features[0].properties.lng}</b> at ${s.features[0].properties.sog} <b>kn</b> / ${s.features[0].properties.cog}&deg;<br>time: <b>${s.features[0].properties.time}</b>`;for(;Math.abs(s.lngLat.lng-b[0])>180;)b[0]+=s.lngLat.lng>b[0]?360:-360;o.setLngLat(b).setHTML(R).addTo(t.map)}),this.map.on("mouseleave","points",()=>{t.map.getCanvas().style.cursor="",o.remove()});let d=this.histories[this.histories.length-1],h=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:d});this.positionShip(h)},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},loaded(){this.positionShip(this.fleet)},toPotition(e){let t=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:e});this.positionShip(t)},positionShip(e){if(!e.navigation)return;typeof this.map.getLayer("ship-position")<"u"&&this.map.removeLayer("ship-position").removeSource("ship-points"),this.map.addSource("ship-points",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:Ng(e.navigation.terminal_time)}}]}}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-points",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.popup.remove();const n=`<b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Ng(e.navigation.updated_at)}</b>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(n).addTo(this.map)}}},pY={class:"position-relative overflow-hidden"},fY={class:"pointer-info",ref:"pointerInfo"};function mY(e,t,n,r,o,d){const h=Er("map-voyage"),s=Er("MapboxNavigationControl"),b=Er("MapboxMap");return wt(),Ot("div",pY,[cn(h,{fleet:n.fleet,onHistory:d.setHistory,onSelected:d.toPotition,display:n.sidebar},null,8,["fleet","onHistory","onSelected","display"]),Ye("div",fY,null,512),cn(b,{onMbCreated:t[0]||(t[0]=R=>o.map=R),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:el(n.style),"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[n.fleet.navigation.lng,n.fleet.navigation.lat],zoom:7},{default:Yn(()=>[cn(s,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","style","center"])])}const gY=Zr(hY,[["render",mY]]),yY={props:{fleet:Object,display:Boolean},data(){return{params:{from:null,to:null,interval:900},histories:[]}},methods:{async fetchData(){this.histories=[],(await axios.get(`/api/fleet/${this.fleet.id}/nav/histories`,{params:this.params}).then(t=>t.data)).forEach(t=>{t.lat==0&&t.lng==0||this.histories.push(t)}),this.$emit("history",this.histories)},toggleText(){this.display=!this.display},selected(e){this.$emit("selected",e)}}},_Y={class:"voyage-section"},vY={key:0,class:"card voyage-card"},xY={class:"card-header justify-content-between"},bY=["src"],wY=Ye("h5",{class:"fw-normal m-0"},"Voyage",-1),TY={class:"card-body"},SY=Ye("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[Ye("li",{class:"nav-item",role:"presentation"},[Ye("button",{class:"nav-link justify-content-center active",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"TRACK")]),Ye("li",{class:"nav-item",role:"presentation"},[Ye("button",{class:"nav-link justify-content-center",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),CY={class:"tab-content",id:"pills-tabContent"},EY={class:"tab-pane fade show active",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"},MY={class:"mb-4"},kY={class:"form-group mb-3"},AY=Ye("label",{for:"startDateInput"},"Start Date",-1),PY={class:"form-group mb-3"},DY=Ye("label",{for:"endDateInput"},"End Date",-1),IY=Ye("h6",{class:"text-primary"},"GENERATE REPORT",-1),LY={class:"table text-sm"},OY=Ye("thead",null,[Ye("tr",null,[Ye("th",{scope:"col"},"Time"),Ye("th",{scope:"col"},"Lon"),Ye("th",{scope:"col"},"Lat"),Ye("th",{scope:"col"},"Speed")])],-1),RY=["onClick"],BY={scope:"row"},zY=Ye("div",{class:"tab-pane fade",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},null,-1),NY=["src"];function FY(e,t,n,r,o,d){return wt(),Ot("div",_Y,[n.display?(wt(),Ot("div",vY,[Ye("div",xY,[Ye("button",{onClick:t[0]||(t[0]=h=>n.display=!n.display),class:"btn btn-link bg-transparent p-0"},[Ye("img",{src:"/img/icons/close-fill.png",alt:""},null,8,bY)]),wY]),Ye("div",TY,[SY,Ye("div",CY,[Ye("div",EY,[Ye("div",MY,[Ye("div",kY,[AY,ho(Ye("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=h=>o.params.from=h),class:"form-control",id:"startDateInput"},null,512),[[Tu,o.params.from]])]),Ye("div",PY,[DY,ho(Ye("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=h=>o.params.to=h),class:"form-control",id:"endDateInput"},null,512),[[Tu,o.params.to]])]),Ye("button",{onClick:t[3]||(t[3]=(...h)=>d.fetchData&&d.fetchData(...h)),class:"btn btn-outline-primary w-100"},"SHOW")]),IY,Ye("table",LY,[OY,Ye("tbody",null,[(wt(!0),Ot(ln,null,Mr(o.histories,h=>(wt(),Ot("tr",{onClick:s=>d.selected(h),key:h.id},[Ye("td",BY,Qi(e.$filters.dateformat(h.terminal_time,"DD/MM/YY HH:mm")),1),Ye("td",null,Qi(h.lng.toFixed(2))+"°",1),Ye("td",null,Qi(h.lat.toFixed(2))+"°",1),Ye("td",null,Qi(h.sog),1)],8,RY))),128))])])]),zY])])])):yi("",!0),Ye("button",{onClick:t[4]||(t[4]=h=>n.display=!n.display),class:"btn btn-light btn-open"},[Ye("img",{src:"/img/icons/location-circle.png",alt:""},null,8,NY),ws(" Show fleet Track ")])])}const jY=Zr(yY,[["render",FY]]),UY={},$Y={class:"ships-cctv"},VY=Mu('<div class="card" data-v-3e327a0d><div class="card-header" data-v-3e327a0d><div class="card-title" data-v-3e327a0d><div data-v-3e327a0d>Bridge</div></div><div class="card-status" data-v-3e327a0d><a href="#" data-v-3e327a0d><img src="img/icons/fullscreen.png" alt="" data-v-3e327a0d> Fullscreen </a><a href="#" data-v-3e327a0d> Esc to exit </a></div></div><div class="card-body" data-v-3e327a0d><img src="img/image-1.png" alt="" class="w-100" data-v-3e327a0d></div></div>',1),GY=[VY];function WY(e,t,n,r,o,d){return wt(),Ot("div",$Y,GY)}const HY=Zr(UY,[["render",WY],["__scopeId","data-v-3e327a0d"]]),YY={components:{"x-search":m6,"x-notification":g6,"x-records":y6,"x-navigation":_6,"x-camera":v6,"x-parameter":x6,"x-cctv":HY,MapboxMap:o2,MapboxNavigationControl:a2},data(){return{map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null}},mounted(){this.timer=setInterval(()=>{this.loaded()},15*1e3),this.map.loadImage(z5,(e,t)=>{if(e)throw e;this.map.addImage("ship",t)}),this.popup=new _c.Popup({closeButton:!0,closeOnClick:!1})},methods:{async loaded(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,e.forEach(t=>{this.positionShip(t)})},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const n=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Ng(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(n).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},positionShip(e){if(!e.navigation)return;let t=this;typeof this.map.getLayer(`ship-positions-${e.id}`)<"u"&&this.map.removeLayer(`ship-positions-${e.id}`).removeSource(`ship-positions-${e.id}`),this.map.addSource(`ship-positions-${e.id}`,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:Ng(e.navigation.updated_at)}}]}}),this.map.addLayer({id:`ship-positions-${e.id}`,type:"symbol",source:`ship-positions-${e.id}`,layout:{"icon-image":"ship","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const r=new _c.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click",`ship-positions-${e.id}`,o=>{let d=o.features[0].properties.id;location.href=`/fleet/${d}`}),this.map.on("mouseenter",`ship-positions-${e.id}`,o=>{t.map.getCanvas().style.cursor="pointer";const d=o.features[0].geometry.coordinates.slice(),h=`<b>${o.features[0].properties.name} [ID]</b> at ${o.features[0].properties.sog} <b>kn</b> / ${o.features[0].properties.cog}&deg;<br>last update: <b>${o.features[0].properties.last_update}</b>`;for(;Math.abs(o.lngLat.lng-d[0])>180;)d[0]+=o.lngLat.lng>d[0]?360:-360;r.setLngLat(d).setHTML(h).addTo(t.map)}),this.map.on("mouseleave",`ship-positions-${e.id}`,()=>{t.map.getCanvas().style.cursor="",r.remove()})}}},qY={class:"position-relative"};function XY(e,t,n,r,o,d){const h=Er("x-records"),s=Er("x-navigation"),b=Er("x-camera"),R=Er("x-notification"),J=Er("x-parameter"),I=Er("x-cctv"),z=Er("MapboxNavigationControl"),Z=Er("MapboxMap");return wt(),Ot("div",qY,[cn(h),cn(s),cn(b),cn(R),cn(J),cn(I),cn(Z,{onMbCreated:t[0]||(t[0]=L=>o.map=L),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 0px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:o.center,zoom:o.zoom},{default:Yn(()=>[cn(z,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])])}const ZY=Zr(YY,[["render",XY]]);function rM(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function N5(e={},t={}){Object.keys(t).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:rM(t[n])&&rM(e[n])&&Object.keys(t[n]).length>0&&N5(e[n],t[n])})}const w6={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function im(){const e=typeof document<"u"?document:{};return N5(e,w6),e}const KY={document:w6,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function bd(){const e=typeof window<"u"?window:{};return N5(e,KY),e}function JY(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function NT(e,t=0){return setTimeout(e,t)}function db(){return Date.now()}function QY(e){const t=bd();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function eq(e,t="x"){const n=bd();let r,o,d;const h=QY(e);return n.WebKitCSSMatrix?(o=h.transform||h.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(s=>s.replace(",",".")).join(", ")),d=new n.WebKitCSSMatrix(o==="none"?"":o)):(d=h.MozTransform||h.OTransform||h.MsTransform||h.msTransform||h.transform||h.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=d.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?o=d.m41:r.length===16?o=parseFloat(r[12]):o=parseFloat(r[4])),t==="y"&&(n.WebKitCSSMatrix?o=d.m42:r.length===16?o=parseFloat(r[13]):o=parseFloat(r[5])),o||0}function hx(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function tq(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function ud(...e){const t=Object(e[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<e.length;r+=1){const o=e[r];if(o!=null&&!tq(o)){const d=Object.keys(Object(o)).filter(h=>n.indexOf(h)<0);for(let h=0,s=d.length;h<s;h+=1){const b=d[h],R=Object.getOwnPropertyDescriptor(o,b);R!==void 0&&R.enumerable&&(hx(t[b])&&hx(o[b])?o[b].__swiper__?t[b]=o[b]:ud(t[b],o[b]):!hx(t[b])&&hx(o[b])?(t[b]={},o[b].__swiper__?t[b]=o[b]:ud(t[b],o[b])):t[b]=o[b])}}}return t}function px(e,t,n){e.style.setProperty(t,n)}function T6({swiper:e,targetPosition:t,side:n}){const r=bd(),o=-e.translate;let d=null,h;const s=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const b=t>o?"next":"prev",R=(I,z)=>b==="next"&&I>=z||b==="prev"&&I<=z,J=()=>{h=new Date().getTime(),d===null&&(d=h);const I=Math.max(Math.min((h-d)/s,1),0),z=.5-Math.cos(I*Math.PI)/2;let Z=o+z*(t-o);if(R(Z,t)&&(Z=t),e.wrapperEl.scrollTo({[n]:Z}),R(Z,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:Z})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(J)};J()}function lh(e,t=""){return[...e.children].filter(n=>n.matches(t))}function F5(e,t=[]){const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:[t]),n}function iq(e,t){const n=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function nq(e,t){const n=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function tf(e,t){return bd().getComputedStyle(e,null).getPropertyValue(t)}function FT(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function rq(e,t){const n=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}function sM(e,t,n){const r=bd();return n?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}let z3;function sq(){const e=bd(),t=im();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function S6(){return z3||(z3=sq()),z3}let N3;function oq({userAgent:e}={}){const t=S6(),n=bd(),r=n.navigator.platform,o=e||n.navigator.userAgent,d={ios:!1,android:!1},h=n.screen.width,s=n.screen.height,b=o.match(/(Android);?[\s\/]+([\d.]+)?/);let R=o.match(/(iPad).*OS\s([\d_]+)/);const J=o.match(/(iPod)(.*OS\s([\d_]+))?/),I=!R&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),z=r==="Win32";let Z=r==="MacIntel";const L=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!R&&Z&&t.touch&&L.indexOf(`${h}x${s}`)>=0&&(R=o.match(/(Version)\/([\d.]+)/),R||(R=[0,1,"13_0_0"]),Z=!1),b&&!z&&(d.os="android",d.android=!0),(R||I||J)&&(d.os="ios",d.ios=!0),d}function aq(e={}){return N3||(N3=oq(e)),N3}let F3;function lq(){const e=bd();let t=!1;function n(){const r=e.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}if(n()){const r=String(e.navigator.userAgent);if(r.includes("Version/")){const[o,d]=r.split("Version/")[1].split(" ")[0].split(".").map(h=>Number(h));t=o<16||o===16&&d<2}}return{isSafari:t||n(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function cq(){return F3||(F3=lq()),F3}function dq({swiper:e,on:t,emit:n}){const r=bd();let o=null,d=null;const h=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},s=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(J=>{d=r.requestAnimationFrame(()=>{const{width:I,height:z}=e;let Z=I,L=z;J.forEach(({contentBoxSize:O,contentRect:G,target:M})=>{M&&M!==e.el||(Z=G?G.width:(O[0]||O).inlineSize,L=G?G.height:(O[0]||O).blockSize)}),(Z!==I||L!==z)&&h()})}),o.observe(e.el))},b=()=>{d&&r.cancelAnimationFrame(d),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},R=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){s();return}r.addEventListener("resize",h),r.addEventListener("orientationchange",R)}),t("destroy",()=>{b(),r.removeEventListener("resize",h),r.removeEventListener("orientationchange",R)})}function uq({swiper:e,extendParams:t,on:n,emit:r}){const o=[],d=bd(),h=(R,J={})=>{const I=d.MutationObserver||d.WebkitMutationObserver,z=new I(Z=>{if(e.__preventObserver__)return;if(Z.length===1){r("observerUpdate",Z[0]);return}const L=function(){r("observerUpdate",Z[0])};d.requestAnimationFrame?d.requestAnimationFrame(L):d.setTimeout(L,0)});z.observe(R,{attributes:typeof J.attributes>"u"?!0:J.attributes,childList:typeof J.childList>"u"?!0:J.childList,characterData:typeof J.characterData>"u"?!0:J.characterData}),o.push(z)},s=()=>{if(e.params.observer){if(e.params.observeParents){const R=rq(e.el);for(let J=0;J<R.length;J+=1)h(R[J])}h(e.el,{childList:e.params.observeSlideChildren}),h(e.wrapperEl,{attributes:!1})}},b=()=>{o.forEach(R=>{R.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",s),n("destroy",b)}const hq={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const o=n?"unshift":"push";return e.split(" ").forEach(d=>{r.eventsListeners[d]||(r.eventsListeners[d]=[]),r.eventsListeners[d][o](t)}),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;function o(...d){r.off(e,o),o.__emitterProxy&&delete o.__emitterProxy,t.apply(r,d)}return o.__emitterProxy=t,r.on(e,o,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(r=>{typeof t>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((o,d)=>{(o===t||o.__emitterProxy&&o.__emitterProxy===t)&&n.eventsListeners[r].splice(d,1)})}),n},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let n,r,o;return typeof e[0]=="string"||Array.isArray(e[0])?(n=e[0],r=e.slice(1,e.length),o=t):(n=e[0].events,r=e[0].data,o=e[0].context||t),r.unshift(o),(Array.isArray(n)?n:n.split(" ")).forEach(h=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(s=>{s.apply(o,[h,...r])}),t.eventsListeners&&t.eventsListeners[h]&&t.eventsListeners[h].forEach(s=>{s.apply(o,r)})}),t}};function pq(){const e=this;let t,n;const r=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=r.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=r.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(tf(r,"padding-left")||0,10)-parseInt(tf(r,"padding-right")||0,10),n=n-parseInt(tf(r,"padding-top")||0,10)-parseInt(tf(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function fq(){const e=this;function t(j){return e.isHorizontal()?j:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[j]}function n(j,w){return parseFloat(j.getPropertyValue(t(w))||0)}const r=e.params,{wrapperEl:o,slidesEl:d,size:h,rtlTranslate:s,wrongRTL:b}=e,R=e.virtual&&r.virtual.enabled,J=R?e.virtual.slides.length:e.slides.length,I=lh(d,`.${e.params.slideClass}, swiper-slide`),z=R?e.virtual.slides.length:I.length;let Z=[];const L=[],O=[];let G=r.slidesOffsetBefore;typeof G=="function"&&(G=r.slidesOffsetBefore.call(e));let M=r.slidesOffsetAfter;typeof M=="function"&&(M=r.slidesOffsetAfter.call(e));const S=e.snapGrid.length,P=e.slidesGrid.length;let H=r.spaceBetween,U=-G,E=0,ie=0;if(typeof h>"u")return;typeof H=="string"&&H.indexOf("%")>=0?H=parseFloat(H.replace("%",""))/100*h:typeof H=="string"&&(H=parseFloat(H)),e.virtualSize=-H,I.forEach(j=>{s?j.style.marginLeft="":j.style.marginRight="",j.style.marginBottom="",j.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(px(o,"--swiper-centered-offset-before",""),px(o,"--swiper-centered-offset-after",""));const te=r.grid&&r.grid.rows>1&&e.grid;te&&e.grid.initSlides(z);let $;const V=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(j=>typeof r.breakpoints[j].slidesPerView<"u").length>0;for(let j=0;j<z;j+=1){$=0;let w;if(I[j]&&(w=I[j]),te&&e.grid.updateSlide(j,w,z,t),!(I[j]&&tf(w,"display")==="none")){if(r.slidesPerView==="auto"){V&&(I[j].style[t("width")]="");const D=getComputedStyle(w),m=w.style.transform,g=w.style.webkitTransform;if(m&&(w.style.transform="none"),g&&(w.style.webkitTransform="none"),r.roundLengths)$=e.isHorizontal()?sM(w,"width",!0):sM(w,"height",!0);else{const x=n(D,"width"),k=n(D,"padding-left"),q=n(D,"padding-right"),Y=n(D,"margin-left"),K=n(D,"margin-right"),le=D.getPropertyValue("box-sizing");if(le&&le==="border-box")$=x+Y+K;else{const{clientWidth:he,offsetWidth:pe}=w;$=x+k+q+Y+K+(pe-he)}}m&&(w.style.transform=m),g&&(w.style.webkitTransform=g),r.roundLengths&&($=Math.floor($))}else $=(h-(r.slidesPerView-1)*H)/r.slidesPerView,r.roundLengths&&($=Math.floor($)),I[j]&&(I[j].style[t("width")]=`${$}px`);I[j]&&(I[j].swiperSlideSize=$),O.push($),r.centeredSlides?(U=U+$/2+E/2+H,E===0&&j!==0&&(U=U-h/2-H),j===0&&(U=U-h/2-H),Math.abs(U)<1/1e3&&(U=0),r.roundLengths&&(U=Math.floor(U)),ie%r.slidesPerGroup===0&&Z.push(U),L.push(U)):(r.roundLengths&&(U=Math.floor(U)),(ie-Math.min(e.params.slidesPerGroupSkip,ie))%e.params.slidesPerGroup===0&&Z.push(U),L.push(U),U=U+$+H),e.virtualSize+=$+H,E=$,ie+=1}}if(e.virtualSize=Math.max(e.virtualSize,h)+M,s&&b&&(r.effect==="slide"||r.effect==="coverflow")&&(o.style.width=`${e.virtualSize+H}px`),r.setWrapperSize&&(o.style[t("width")]=`${e.virtualSize+H}px`),te&&e.grid.updateWrapperSize($,Z,t),!r.centeredSlides){const j=[];for(let w=0;w<Z.length;w+=1){let D=Z[w];r.roundLengths&&(D=Math.floor(D)),Z[w]<=e.virtualSize-h&&j.push(D)}Z=j,Math.floor(e.virtualSize-h)-Math.floor(Z[Z.length-1])>1&&Z.push(e.virtualSize-h)}if(R&&r.loop){const j=O[0]+H;if(r.slidesPerGroup>1){const w=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),D=j*r.slidesPerGroup;for(let m=0;m<w;m+=1)Z.push(Z[Z.length-1]+D)}for(let w=0;w<e.virtual.slidesBefore+e.virtual.slidesAfter;w+=1)r.slidesPerGroup===1&&Z.push(Z[Z.length-1]+j),L.push(L[L.length-1]+j),e.virtualSize+=j}if(Z.length===0&&(Z=[0]),H!==0){const j=e.isHorizontal()&&s?"marginLeft":t("marginRight");I.filter((w,D)=>!r.cssMode||r.loop?!0:D!==I.length-1).forEach(w=>{w.style[j]=`${H}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let j=0;O.forEach(D=>{j+=D+(H||0)}),j-=H;const w=j-h;Z=Z.map(D=>D<0?-G:D>w?w+M:D)}if(r.centerInsufficientSlides){let j=0;if(O.forEach(w=>{j+=w+(H||0)}),j-=H,j<h){const w=(h-j)/2;Z.forEach((D,m)=>{Z[m]=D-w}),L.forEach((D,m)=>{L[m]=D+w})}}if(Object.assign(e,{slides:I,snapGrid:Z,slidesGrid:L,slidesSizesGrid:O}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){px(o,"--swiper-centered-offset-before",`${-Z[0]}px`),px(o,"--swiper-centered-offset-after",`${e.size/2-O[O.length-1]/2}px`);const j=-e.snapGrid[0],w=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(D=>D+j),e.slidesGrid=e.slidesGrid.map(D=>D+w)}if(z!==J&&e.emit("slidesLengthChange"),Z.length!==S&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),L.length!==P&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!R&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const j=`${r.containerModifierClass}backface-hidden`,w=e.el.classList.contains(j);z<=r.maxBackfaceHiddenSlides?w||e.el.classList.add(j):w&&e.el.classList.remove(j)}}function mq(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let o=0,d;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const h=s=>r?t.slides[t.getSlideIndexByData(s)]:t.slides[s];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(s=>{n.push(s)});else for(d=0;d<Math.ceil(t.params.slidesPerView);d+=1){const s=t.activeIndex+d;if(s>t.slides.length&&!r)break;n.push(h(s))}else n.push(h(t.activeIndex));for(d=0;d<n.length;d+=1)if(typeof n[d]<"u"){const s=n[d].offsetHeight;o=s>o?s:o}(o||o===0)&&(t.wrapperEl.style.height=`${o}px`)}function gq(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n-e.cssOverflowAdjustment()}function yq(e=this&&this.translate||0){const t=this,n=t.params,{slides:r,rtlTranslate:o,snapGrid:d}=t;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let h=-e;o&&(h=e),r.forEach(b=>{b.classList.remove(n.slideVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let s=n.spaceBetween;typeof s=="string"&&s.indexOf("%")>=0?s=parseFloat(s.replace("%",""))/100*t.size:typeof s=="string"&&(s=parseFloat(s));for(let b=0;b<r.length;b+=1){const R=r[b];let J=R.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(J-=r[0].swiperSlideOffset);const I=(h+(n.centeredSlides?t.minTranslate():0)-J)/(R.swiperSlideSize+s),z=(h-d[0]+(n.centeredSlides?t.minTranslate():0)-J)/(R.swiperSlideSize+s),Z=-(h-J),L=Z+t.slidesSizesGrid[b];(Z>=0&&Z<t.size-1||L>1&&L<=t.size||Z<=0&&L>=t.size)&&(t.visibleSlides.push(R),t.visibleSlidesIndexes.push(b),r[b].classList.add(n.slideVisibleClass)),R.progress=o?-I:I,R.originalProgress=o?-z:z}}function _q(e){const t=this;if(typeof e>"u"){const J=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*J||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:o,isBeginning:d,isEnd:h,progressLoop:s}=t;const b=d,R=h;if(r===0)o=0,d=!0,h=!0;else{o=(e-t.minTranslate())/r;const J=Math.abs(e-t.minTranslate())<1,I=Math.abs(e-t.maxTranslate())<1;d=J||o<=0,h=I||o>=1,J&&(o=0),I&&(o=1)}if(n.loop){const J=t.getSlideIndexByData(0),I=t.getSlideIndexByData(t.slides.length-1),z=t.slidesGrid[J],Z=t.slidesGrid[I],L=t.slidesGrid[t.slidesGrid.length-1],O=Math.abs(e);O>=z?s=(O-z)/L:s=(O+L-Z)/L,s>1&&(s-=1)}Object.assign(t,{progress:o,progressLoop:s,isBeginning:d,isEnd:h}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),d&&!b&&t.emit("reachBeginning toEdge"),h&&!R&&t.emit("reachEnd toEdge"),(b&&!d||R&&!h)&&t.emit("fromEdge"),t.emit("progress",o)}function vq(){const e=this,{slides:t,params:n,slidesEl:r,activeIndex:o}=e,d=e.virtual&&n.virtual.enabled,h=b=>lh(r,`.${n.slideClass}${b}, swiper-slide${b}`)[0];t.forEach(b=>{b.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let s;if(d)if(n.loop){let b=o-e.virtual.slidesBefore;b<0&&(b=e.virtual.slides.length+b),b>=e.virtual.slides.length&&(b-=e.virtual.slides.length),s=h(`[data-swiper-slide-index="${b}"]`)}else s=h(`[data-swiper-slide-index="${o}"]`);else s=t[o];if(s){s.classList.add(n.slideActiveClass);let b=nq(s,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!b&&(b=t[0]),b&&b.classList.add(n.slideNextClass);let R=iq(s,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!R===0&&(R=t[t.length-1]),R&&R.classList.add(n.slidePrevClass)}e.emitSlidesClasses()}const kx=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,r=t.closest(n());if(r){const o=r.querySelector(`.${e.params.lazyPreloaderClass}`);o&&o.remove()}},oM=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},jT=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const r=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),o=e.activeIndex,d=o+r-1;if(e.params.rewind)for(let h=o-t;h<=d+t;h+=1){const s=(h%n+n)%n;s!==o&&s>d&&oM(e,s)}else for(let h=Math.max(d-t,0);h<=Math.min(d+t,n-1);h+=1)h!==o&&h>d&&oM(e,h)};function xq(e){const{slidesGrid:t,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;let o;for(let d=0;d<t.length;d+=1)typeof t[d+1]<"u"?r>=t[d]&&r<t[d+1]-(t[d+1]-t[d])/2?o=d:r>=t[d]&&r<t[d+1]&&(o=d+1):r>=t[d]&&(o=d);return n.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function bq(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:o,activeIndex:d,realIndex:h,snapIndex:s}=t;let b=e,R;const J=z=>{let Z=z-t.virtual.slidesBefore;return Z<0&&(Z=t.virtual.slides.length+Z),Z>=t.virtual.slides.length&&(Z-=t.virtual.slides.length),Z};if(typeof b>"u"&&(b=xq(t)),r.indexOf(n)>=0)R=r.indexOf(n);else{const z=Math.min(o.slidesPerGroupSkip,b);R=z+Math.floor((b-z)/o.slidesPerGroup)}if(R>=r.length&&(R=r.length-1),b===d){R!==s&&(t.snapIndex=R,t.emit("snapIndexChange")),t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=J(b));return}let I;t.virtual&&o.virtual.enabled&&o.loop?I=J(b):t.slides[b]?I=parseInt(t.slides[b].getAttribute("data-swiper-slide-index")||b,10):I=b,Object.assign(t,{previousSnapIndex:s,snapIndex:R,previousRealIndex:h,realIndex:I,previousIndex:d,activeIndex:b}),t.initialized&&jT(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),h!==I&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")}function wq(e){const t=this,n=t.params,r=e.closest(`.${n.slideClass}, swiper-slide`);let o=!1,d;if(r){for(let h=0;h<t.slides.length;h+=1)if(t.slides[h]===r){o=!0,d=h;break}}if(r&&o)t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=d;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}n.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}const Tq={updateSize:pq,updateSlides:fq,updateAutoHeight:mq,updateSlidesOffset:gq,updateSlidesProgress:yq,updateProgress:_q,updateSlidesClasses:vq,updateActiveIndex:bq,updateClickedSlide:wq};function Sq(e=this.isHorizontal()?"x":"y"){const t=this,{params:n,rtlTranslate:r,translate:o,wrapperEl:d}=t;if(n.virtualTranslate)return r?-o:o;if(n.cssMode)return o;let h=eq(d,e);return h+=t.cssOverflowAdjustment(),r&&(h=-h),h||0}function Cq(e,t){const n=this,{rtlTranslate:r,params:o,wrapperEl:d,progress:h}=n;let s=0,b=0;const R=0;n.isHorizontal()?s=r?-e:e:b=e,o.roundLengths&&(s=Math.floor(s),b=Math.floor(b)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?s:b,o.cssMode?d[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-s:-b:o.virtualTranslate||(n.isHorizontal()?s-=n.cssOverflowAdjustment():b-=n.cssOverflowAdjustment(),d.style.transform=`translate3d(${s}px, ${b}px, ${R}px)`);let J;const I=n.maxTranslate()-n.minTranslate();I===0?J=0:J=(e-n.minTranslate())/I,J!==h&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function Eq(){return-this.snapGrid[0]}function Mq(){return-this.snapGrid[this.snapGrid.length-1]}function kq(e=0,t=this.params.speed,n=!0,r=!0,o){const d=this,{params:h,wrapperEl:s}=d;if(d.animating&&h.preventInteractionOnTransition)return!1;const b=d.minTranslate(),R=d.maxTranslate();let J;if(r&&e>b?J=b:r&&e<R?J=R:J=e,d.updateProgress(J),h.cssMode){const I=d.isHorizontal();if(t===0)s[I?"scrollLeft":"scrollTop"]=-J;else{if(!d.support.smoothScroll)return T6({swiper:d,targetPosition:-J,side:I?"left":"top"}),!0;s.scrollTo({[I?"left":"top"]:-J,behavior:"smooth"})}return!0}return t===0?(d.setTransition(0),d.setTranslate(J),n&&(d.emit("beforeTransitionStart",t,o),d.emit("transitionEnd"))):(d.setTransition(t),d.setTranslate(J),n&&(d.emit("beforeTransitionStart",t,o),d.emit("transitionStart")),d.animating||(d.animating=!0,d.onTranslateToWrapperTransitionEnd||(d.onTranslateToWrapperTransitionEnd=function(z){!d||d.destroyed||z.target===this&&(d.wrapperEl.removeEventListener("transitionend",d.onTranslateToWrapperTransitionEnd),d.onTranslateToWrapperTransitionEnd=null,delete d.onTranslateToWrapperTransitionEnd,n&&d.emit("transitionEnd"))}),d.wrapperEl.addEventListener("transitionend",d.onTranslateToWrapperTransitionEnd))),!0}const Aq={getTranslate:Sq,setTranslate:Cq,minTranslate:Eq,maxTranslate:Mq,translateTo:kq};function Pq(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`),n.emit("setTransition",e,t)}function C6({swiper:e,runCallbacks:t,direction:n,step:r}){const{activeIndex:o,previousIndex:d}=e;let h=n;if(h||(o>d?h="next":o<d?h="prev":h="reset"),e.emit(`transition${r}`),t&&o!==d){if(h==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),h==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function Dq(e=!0,t){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),C6({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function Iq(e=!0,t){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),C6({swiper:n,runCallbacks:e,direction:t,step:"End"}))}const Lq={setTransition:Pq,transitionStart:Dq,transitionEnd:Iq};function Oq(e=0,t=this.params.speed,n=!0,r,o){typeof e=="string"&&(e=parseInt(e,10));const d=this;let h=e;h<0&&(h=0);const{params:s,snapGrid:b,slidesGrid:R,previousIndex:J,activeIndex:I,rtlTranslate:z,wrapperEl:Z,enabled:L}=d;if(d.animating&&s.preventInteractionOnTransition||!L&&!r&&!o)return!1;const O=Math.min(d.params.slidesPerGroupSkip,h);let G=O+Math.floor((h-O)/d.params.slidesPerGroup);G>=b.length&&(G=b.length-1);const M=-b[G];if(s.normalizeSlideIndex)for(let P=0;P<R.length;P+=1){const H=-Math.floor(M*100),U=Math.floor(R[P]*100),E=Math.floor(R[P+1]*100);typeof R[P+1]<"u"?H>=U&&H<E-(E-U)/2?h=P:H>=U&&H<E&&(h=P+1):H>=U&&(h=P)}if(d.initialized&&h!==I&&(!d.allowSlideNext&&M<d.translate&&M<d.minTranslate()||!d.allowSlidePrev&&M>d.translate&&M>d.maxTranslate()&&(I||0)!==h))return!1;h!==(J||0)&&n&&d.emit("beforeSlideChangeStart"),d.updateProgress(M);let S;if(h>I?S="next":h<I?S="prev":S="reset",z&&-M===d.translate||!z&&M===d.translate)return d.updateActiveIndex(h),s.autoHeight&&d.updateAutoHeight(),d.updateSlidesClasses(),s.effect!=="slide"&&d.setTranslate(M),S!=="reset"&&(d.transitionStart(n,S),d.transitionEnd(n,S)),!1;if(s.cssMode){const P=d.isHorizontal(),H=z?M:-M;if(t===0){const U=d.virtual&&d.params.virtual.enabled;U&&(d.wrapperEl.style.scrollSnapType="none",d._immediateVirtual=!0),U&&!d._cssModeVirtualInitialSet&&d.params.initialSlide>0?(d._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{Z[P?"scrollLeft":"scrollTop"]=H})):Z[P?"scrollLeft":"scrollTop"]=H,U&&requestAnimationFrame(()=>{d.wrapperEl.style.scrollSnapType="",d._immediateVirtual=!1})}else{if(!d.support.smoothScroll)return T6({swiper:d,targetPosition:H,side:P?"left":"top"}),!0;Z.scrollTo({[P?"left":"top"]:H,behavior:"smooth"})}return!0}return d.setTransition(t),d.setTranslate(M),d.updateActiveIndex(h),d.updateSlidesClasses(),d.emit("beforeTransitionStart",t,r),d.transitionStart(n,S),t===0?d.transitionEnd(n,S):d.animating||(d.animating=!0,d.onSlideToWrapperTransitionEnd||(d.onSlideToWrapperTransitionEnd=function(H){!d||d.destroyed||H.target===this&&(d.wrapperEl.removeEventListener("transitionend",d.onSlideToWrapperTransitionEnd),d.onSlideToWrapperTransitionEnd=null,delete d.onSlideToWrapperTransitionEnd,d.transitionEnd(n,S))}),d.wrapperEl.addEventListener("transitionend",d.onSlideToWrapperTransitionEnd)),!0}function Rq(e=0,t=this.params.speed,n=!0,r){typeof e=="string"&&(e=parseInt(e,10));const o=this;let d=e;return o.params.loop&&(o.virtual&&o.params.virtual.enabled?d=d+o.virtual.slidesBefore:d=o.getSlideIndexByData(d)),o.slideTo(d,t,n,r)}function Bq(e=this.params.speed,t=!0,n){const r=this,{enabled:o,params:d,animating:h}=r;if(!o)return r;let s=d.slidesPerGroup;d.slidesPerView==="auto"&&d.slidesPerGroup===1&&d.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));const b=r.activeIndex<d.slidesPerGroupSkip?1:s,R=r.virtual&&d.virtual.enabled;if(d.loop){if(h&&!R&&d.loopPreventsSliding)return!1;r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft}return d.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+b,e,t,n)}function zq(e=this.params.speed,t=!0,n){const r=this,{params:o,snapGrid:d,slidesGrid:h,rtlTranslate:s,enabled:b,animating:R}=r;if(!b)return r;const J=r.virtual&&o.virtual.enabled;if(o.loop){if(R&&!J&&o.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const I=s?r.translate:-r.translate;function z(M){return M<0?-Math.floor(Math.abs(M)):Math.floor(M)}const Z=z(I),L=d.map(M=>z(M));let O=d[L.indexOf(Z)-1];if(typeof O>"u"&&o.cssMode){let M;d.forEach((S,P)=>{Z>=S&&(M=P)}),typeof M<"u"&&(O=d[M>0?M-1:M])}let G=0;if(typeof O<"u"&&(G=h.indexOf(O),G<0&&(G=r.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(G=G-r.slidesPerViewDynamic("previous",!0)+1,G=Math.max(G,0))),o.rewind&&r.isBeginning){const M=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(M,e,t,n)}return r.slideTo(G,e,t,n)}function Nq(e=this.params.speed,t=!0,n){const r=this;return r.slideTo(r.activeIndex,e,t,n)}function Fq(e=this.params.speed,t=!0,n,r=.5){const o=this;let d=o.activeIndex;const h=Math.min(o.params.slidesPerGroupSkip,d),s=h+Math.floor((d-h)/o.params.slidesPerGroup),b=o.rtlTranslate?o.translate:-o.translate;if(b>=o.snapGrid[s]){const R=o.snapGrid[s],J=o.snapGrid[s+1];b-R>(J-R)*r&&(d+=o.params.slidesPerGroup)}else{const R=o.snapGrid[s-1],J=o.snapGrid[s];b-R<=(J-R)*r&&(d-=o.params.slidesPerGroup)}return d=Math.max(d,0),d=Math.min(d,o.slidesGrid.length-1),o.slideTo(d,e,t,n)}function jq(){const e=this,{params:t,slidesEl:n}=e,r=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let o=e.clickedIndex,d;const h=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;d=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?o<e.loopedSlides-r/2||o>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),o=e.getSlideIndex(lh(n,`${h}[data-swiper-slide-index="${d}"]`)[0]),NT(()=>{e.slideTo(o)})):e.slideTo(o):o>e.slides.length-r?(e.loopFix(),o=e.getSlideIndex(lh(n,`${h}[data-swiper-slide-index="${d}"]`)[0]),NT(()=>{e.slideTo(o)})):e.slideTo(o)}else e.slideTo(o)}const Uq={slideTo:Oq,slideToLoop:Rq,slideNext:Bq,slidePrev:zq,slideReset:Nq,slideToClosest:Fq,slideToClickedSlide:jq};function $q(e){const t=this,{params:n,slidesEl:r}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;lh(r,`.${n.slideClass}, swiper-slide`).forEach((d,h)=>{d.setAttribute("data-swiper-slide-index",h)}),t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"})}function Vq({slideRealIndex:e,slideTo:t=!0,direction:n,setTranslate:r,activeSlideIndex:o,byController:d,byMousewheel:h}={}){const s=this;if(!s.params.loop)return;s.emit("beforeLoopFix");const{slides:b,allowSlidePrev:R,allowSlideNext:J,slidesEl:I,params:z}=s;if(s.allowSlidePrev=!0,s.allowSlideNext=!0,s.virtual&&z.virtual.enabled){t&&(!z.centeredSlides&&s.snapIndex===0?s.slideTo(s.virtual.slides.length,0,!1,!0):z.centeredSlides&&s.snapIndex<z.slidesPerView?s.slideTo(s.virtual.slides.length+s.snapIndex,0,!1,!0):s.snapIndex===s.snapGrid.length-1&&s.slideTo(s.virtual.slidesBefore,0,!1,!0)),s.allowSlidePrev=R,s.allowSlideNext=J,s.emit("loopFix");return}const Z=z.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(z.slidesPerView,10));let L=z.loopedSlides||Z;L%z.slidesPerGroup!==0&&(L+=z.slidesPerGroup-L%z.slidesPerGroup),s.loopedSlides=L;const O=[],G=[];let M=s.activeIndex;typeof o>"u"?o=s.getSlideIndex(s.slides.filter(E=>E.classList.contains(z.slideActiveClass))[0]):M=o;const S=n==="next"||!n,P=n==="prev"||!n;let H=0,U=0;if(o<L){H=Math.max(L-o,z.slidesPerGroup);for(let E=0;E<L-o;E+=1){const ie=E-Math.floor(E/b.length)*b.length;O.push(b.length-ie-1)}}else if(o>s.slides.length-L*2){U=Math.max(o-(s.slides.length-L*2),z.slidesPerGroup);for(let E=0;E<U;E+=1){const ie=E-Math.floor(E/b.length)*b.length;G.push(ie)}}if(P&&O.forEach(E=>{s.slides[E].swiperLoopMoveDOM=!0,I.prepend(s.slides[E]),s.slides[E].swiperLoopMoveDOM=!1}),S&&G.forEach(E=>{s.slides[E].swiperLoopMoveDOM=!0,I.append(s.slides[E]),s.slides[E].swiperLoopMoveDOM=!1}),s.recalcSlides(),z.slidesPerView==="auto"&&s.updateSlides(),z.watchSlidesProgress&&s.updateSlidesOffset(),t){if(O.length>0&&P)if(typeof e>"u"){const E=s.slidesGrid[M],te=s.slidesGrid[M+H]-E;h?s.setTranslate(s.translate-te):(s.slideTo(M+H,0,!1,!0),r&&(s.touches[s.isHorizontal()?"startX":"startY"]+=te))}else r&&s.slideToLoop(e,0,!1,!0);else if(G.length>0&&S)if(typeof e>"u"){const E=s.slidesGrid[M],te=s.slidesGrid[M-U]-E;h?s.setTranslate(s.translate-te):(s.slideTo(M-U,0,!1,!0),r&&(s.touches[s.isHorizontal()?"startX":"startY"]+=te))}else s.slideToLoop(e,0,!1,!0)}if(s.allowSlidePrev=R,s.allowSlideNext=J,s.controller&&s.controller.control&&!d){const E={slideRealIndex:e,slideTo:!1,direction:n,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(s.controller.control)?s.controller.control.forEach(ie=>{!ie.destroyed&&ie.params.loop&&ie.loopFix(E)}):s.controller.control instanceof s.constructor&&s.controller.control.params.loop&&s.controller.control.loopFix(E)}s.emit("loopFix")}function Gq(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach(o=>{const d=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;r[d]=o}),e.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),r.forEach(o=>{n.append(o)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}const Wq={loopCreate:$q,loopFix:Vq,loopDestroy:Gq};function Hq(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function Yq(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}const qq={setGrabCursor:Hq,unsetGrabCursor:Yq};function Xq(e,t=this){function n(r){if(!r||r===im()||r===bd())return null;r.assignedSlot&&(r=r.assignedSlot);const o=r.closest(e);return!o&&!r.getRootNode?null:o||n(r.getRootNode().host)}return n(t)}function Zq(e){const t=this,n=im(),r=bd(),o=t.touchEventsData;o.evCache.push(e);const{params:d,touches:h,enabled:s}=t;if(!s||!d.simulateTouch&&e.pointerType==="mouse"||t.animating&&d.preventInteractionOnTransition)return;!t.animating&&d.cssMode&&d.loop&&t.loopFix();let b=e;b.originalEvent&&(b=b.originalEvent);let R=b.target;if(d.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(R)||"which"in b&&b.which===3||"button"in b&&b.button>0||o.isTouched&&o.isMoved)return;const J=!!d.noSwipingClass&&d.noSwipingClass!=="",I=e.composedPath?e.composedPath():e.path;J&&b.target&&b.target.shadowRoot&&I&&(R=I[0]);const z=d.noSwipingSelector?d.noSwipingSelector:`.${d.noSwipingClass}`,Z=!!(b.target&&b.target.shadowRoot);if(d.noSwiping&&(Z?Xq(z,R):R.closest(z))){t.allowClick=!0;return}if(d.swipeHandler&&!R.closest(d.swipeHandler))return;h.currentX=b.pageX,h.currentY=b.pageY;const L=h.currentX,O=h.currentY,G=d.edgeSwipeDetection||d.iOSEdgeSwipeDetection,M=d.edgeSwipeThreshold||d.iOSEdgeSwipeThreshold;if(G&&(L<=M||L>=r.innerWidth-M))if(G==="prevent")e.preventDefault();else return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),h.startX=L,h.startY=O,o.touchStartTime=db(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,d.threshold>0&&(o.allowThresholdMove=!1);let S=!0;R.matches(o.focusableElements)&&(S=!1,R.nodeName==="SELECT"&&(o.isTouched=!1)),n.activeElement&&n.activeElement.matches(o.focusableElements)&&n.activeElement!==R&&n.activeElement.blur();const P=S&&t.allowTouchMove&&d.touchStartPreventDefault;(d.touchStartForcePreventDefault||P)&&!R.isContentEditable&&b.preventDefault(),t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!d.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",b)}function Kq(e){const t=im(),n=this,r=n.touchEventsData,{params:o,touches:d,rtlTranslate:h,enabled:s}=n;if(!s||!o.simulateTouch&&e.pointerType==="mouse")return;let b=e;if(b.originalEvent&&(b=b.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",b);return}const R=r.evCache.findIndex(E=>E.pointerId===b.pointerId);R>=0&&(r.evCache[R]=b);const J=r.evCache.length>1?r.evCache[0]:b,I=J.pageX,z=J.pageY;if(b.preventedByNestedSwiper){d.startX=I,d.startY=z;return}if(!n.allowTouchMove){b.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(d,{startX:I,startY:z,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:I,currentY:z}),r.touchStartTime=db());return}if(o.touchReleaseOnEdges&&!o.loop){if(n.isVertical()){if(z<d.startY&&n.translate<=n.maxTranslate()||z>d.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(I<d.startX&&n.translate<=n.maxTranslate()||I>d.startX&&n.translate>=n.minTranslate())return}if(t.activeElement&&b.target===t.activeElement&&b.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",b),b.targetTouches&&b.targetTouches.length>1)return;d.currentX=I,d.currentY=z;const Z=d.currentX-d.startX,L=d.currentY-d.startY;if(n.params.threshold&&Math.sqrt(Z**2+L**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let E;n.isHorizontal()&&d.currentY===d.startY||n.isVertical()&&d.currentX===d.startX?r.isScrolling=!1:Z*Z+L*L>=25&&(E=Math.atan2(Math.abs(L),Math.abs(Z))*180/Math.PI,r.isScrolling=n.isHorizontal()?E>o.touchAngle:90-E>o.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",b),typeof r.startMoving>"u"&&(d.currentX!==d.startX||d.currentY!==d.startY)&&(r.startMoving=!0),r.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&r.evCache.length>1){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!o.cssMode&&b.cancelable&&b.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&b.stopPropagation();let O=n.isHorizontal()?Z:L,G=n.isHorizontal()?d.currentX-d.previousX:d.currentY-d.previousY;o.oneWayMovement&&(O=Math.abs(O)*(h?1:-1),G=Math.abs(G)*(h?1:-1)),d.diff=O,O*=o.touchRatio,h&&(O=-O,G=-G);const M=n.touchesDirection;n.swipeDirection=O>0?"prev":"next",n.touchesDirection=G>0?"prev":"next";const S=n.params.loop&&!o.cssMode;if(!r.isMoved){if(S&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(E)}r.allowMomentumBounce=!1,o.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",b)}let P;r.isMoved&&M!==n.touchesDirection&&S&&Math.abs(O)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),P=!0),n.emit("sliderMove",b),r.isMoved=!0,r.currentTranslate=O+r.startTranslate;let H=!0,U=o.resistanceRatio;if(o.touchReleaseOnEdges&&(U=0),O>0?(S&&!P&&r.currentTranslate>(o.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(H=!1,o.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+O)**U))):O<0&&(S&&!P&&r.currentTranslate<(o.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(o.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(H=!1,o.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-O)**U))),H&&(b.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),o.threshold>0)if(Math.abs(O)>o.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,d.startX=d.currentX,d.startY=d.currentY,r.currentTranslate=r.startTranslate,d.diff=n.isHorizontal()?d.currentX-d.startX:d.currentY-d.startY;return}}else{r.currentTranslate=r.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&n.freeMode||o.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&o.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Jq(e){const t=this,n=t.touchEventsData,r=n.evCache.findIndex(P=>P.pointerId===e.pointerId);if(r>=0&&n.evCache.splice(r,1),["pointercancel","pointerout","pointerleave"].includes(e.type)&&!(e.type==="pointercancel"&&(t.browser.isSafari||t.browser.isWebView)))return;const{params:o,touches:d,rtlTranslate:h,slidesGrid:s,enabled:b}=t;if(!b||!o.simulateTouch&&e.pointerType==="mouse")return;let R=e;if(R.originalEvent&&(R=R.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",R),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const J=db(),I=J-n.touchStartTime;if(t.allowClick){const P=R.path||R.composedPath&&R.composedPath();t.updateClickedSlide(P&&P[0]||R.target),t.emit("tap click",R),I<300&&J-n.lastClickTime<300&&t.emit("doubleTap doubleClick",R)}if(n.lastClickTime=db(),NT(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||d.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let z;if(o.followFinger?z=h?t.translate:-t.translate:z=-n.currentTranslate,o.cssMode)return;if(t.params.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:z});return}let Z=0,L=t.slidesSizesGrid[0];for(let P=0;P<s.length;P+=P<o.slidesPerGroupSkip?1:o.slidesPerGroup){const H=P<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof s[P+H]<"u"?z>=s[P]&&z<s[P+H]&&(Z=P,L=s[P+H]-s[P]):z>=s[P]&&(Z=P,L=s[s.length-1]-s[s.length-2])}let O=null,G=null;o.rewind&&(t.isBeginning?G=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(O=0));const M=(z-s[Z])/L,S=Z<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(I>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(M>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?O:Z+S):t.slideTo(Z)),t.swipeDirection==="prev"&&(M>1-o.longSwipesRatio?t.slideTo(Z+S):G!==null&&M<0&&Math.abs(M)>o.longSwipesRatio?t.slideTo(G):t.slideTo(Z))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(R.target===t.navigation.nextEl||R.target===t.navigation.prevEl)?R.target===t.navigation.nextEl?t.slideTo(Z+S):t.slideTo(Z):(t.swipeDirection==="next"&&t.slideTo(O!==null?O:Z+S),t.swipeDirection==="prev"&&t.slideTo(G!==null?G:Z))}}function aM(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:o,snapGrid:d}=e,h=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const s=h&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!s?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!h?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=o,e.allowSlideNext=r,e.params.watchOverflow&&d!==e.snapGrid&&e.checkOverflow()}function Qq(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function eX(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let o;const d=e.maxTranslate()-e.minTranslate();d===0?o=0:o=(e.translate-e.minTranslate())/d,o!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function tX(e){const t=this;kx(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}let lM=!1;function iX(){}const E6=(e,t)=>{const n=im(),{params:r,el:o,wrapperEl:d,device:h}=e,s=!!r.nested,b=t==="on"?"addEventListener":"removeEventListener",R=t;o[b]("pointerdown",e.onTouchStart,{passive:!1}),n[b]("pointermove",e.onTouchMove,{passive:!1,capture:s}),n[b]("pointerup",e.onTouchEnd,{passive:!0}),n[b]("pointercancel",e.onTouchEnd,{passive:!0}),n[b]("pointerout",e.onTouchEnd,{passive:!0}),n[b]("pointerleave",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&o[b]("click",e.onClick,!0),r.cssMode&&d[b]("scroll",e.onScroll),r.updateOnWindowResize?e[R](h.ios||h.android?"resize orientationchange observerUpdate":"resize observerUpdate",aM,!0):e[R]("observerUpdate",aM,!0),o[b]("load",e.onLoad,{capture:!0})};function nX(){const e=this,t=im(),{params:n}=e;e.onTouchStart=Zq.bind(e),e.onTouchMove=Kq.bind(e),e.onTouchEnd=Jq.bind(e),n.cssMode&&(e.onScroll=eX.bind(e)),e.onClick=Qq.bind(e),e.onLoad=tX.bind(e),lM||(t.addEventListener("touchstart",iX),lM=!0),E6(e,"on")}function rX(){E6(this,"off")}const sX={attachEvents:nX,detachEvents:rX},cM=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function oX(){const e=this,{realIndex:t,initialized:n,params:r,el:o}=e,d=r.breakpoints;if(!d||d&&Object.keys(d).length===0)return;const h=e.getBreakpoint(d,e.params.breakpointsBase,e.el);if(!h||e.currentBreakpoint===h)return;const b=(h in d?d[h]:void 0)||e.originalParams,R=cM(e,r),J=cM(e,b),I=r.enabled;R&&!J?(o.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!R&&J&&(o.classList.add(`${r.containerModifierClass}grid`),(b.grid.fill&&b.grid.fill==="column"||!b.grid.fill&&r.grid.fill==="column")&&o.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(O=>{const G=r[O]&&r[O].enabled,M=b[O]&&b[O].enabled;G&&!M&&e[O].disable(),!G&&M&&e[O].enable()});const z=b.direction&&b.direction!==r.direction,Z=r.loop&&(b.slidesPerView!==r.slidesPerView||z);z&&n&&e.changeDirection(),ud(e.params,b);const L=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),I&&!L?e.disable():!I&&L&&e.enable(),e.currentBreakpoint=h,e.emit("_beforeBreakpoint",b),Z&&n&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",b)}function aX(e,t="window",n){if(!e||t==="container"&&!n)return;let r=!1;const o=bd(),d=t==="window"?o.innerHeight:n.clientHeight,h=Object.keys(e).map(s=>{if(typeof s=="string"&&s.indexOf("@")===0){const b=parseFloat(s.substr(1));return{value:d*b,point:s}}return{value:s,point:s}});h.sort((s,b)=>parseInt(s.value,10)-parseInt(b.value,10));for(let s=0;s<h.length;s+=1){const{point:b,value:R}=h[s];t==="window"?o.matchMedia(`(min-width: ${R}px)`).matches&&(r=b):R<=n.clientWidth&&(r=b)}return r||"max"}const lX={setBreakpoint:oX,getBreakpoint:aX};function cX(e,t){const n=[];return e.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(o=>{r[o]&&n.push(t+o)}):typeof r=="string"&&n.push(t+r)}),n}function dX(){const e=this,{classNames:t,params:n,rtl:r,el:o,device:d}=e,h=cX(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:d.android},{ios:d.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...h),o.classList.add(...t),e.emitContainerClasses()}function uX(){const e=this,{el:t,classNames:n}=e;t.classList.remove(...n),e.emitContainerClasses()}const hX={addClasses:dX,removeClasses:uX};function pX(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const o=e.slides.length-1,d=e.slidesGrid[o]+e.slidesSizesGrid[o]+r*2;e.isLocked=e.size>d}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}const fX={checkOverflow:pX},dM={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function mX(e,t){return function(r={}){const o=Object.keys(r)[0],d=r[o];if(typeof d!="object"||d===null){ud(t,r);return}if(["navigation","pagination","scrollbar"].indexOf(o)>=0&&e[o]===!0&&(e[o]={auto:!0}),!(o in e&&"enabled"in d)){ud(t,r);return}e[o]===!0&&(e[o]={enabled:!0}),typeof e[o]=="object"&&!("enabled"in e[o])&&(e[o].enabled=!0),e[o]||(e[o]={enabled:!1}),ud(t,r)}}const j3={eventsEmitter:hq,update:Tq,translate:Aq,transition:Lq,slide:Uq,loop:Wq,grabCursor:qq,events:sX,breakpoints:lX,checkOverflow:fX,classes:hX},U3={};let o_=class Wh{constructor(...t){let n,r;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?r=t[0]:[n,r]=t,r||(r={}),r=ud({},r),n&&!r.el&&(r.el=n);const o=im();if(r.el&&typeof r.el=="string"&&o.querySelectorAll(r.el).length>1){const b=[];return o.querySelectorAll(r.el).forEach(R=>{const J=ud({},r,{el:R});b.push(new Wh(J))}),b}const d=this;d.__swiper__=!0,d.support=S6(),d.device=aq({userAgent:r.userAgent}),d.browser=cq(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],r.modules&&Array.isArray(r.modules)&&d.modules.push(...r.modules);const h={};d.modules.forEach(b=>{b({params:r,swiper:d,extendParams:mX(r,h),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const s=ud({},dM,h);return d.params=ud({},s,U3,r),d.originalParams=ud({},d.params),d.passedParams=ud({},r),d.params&&d.params.on&&Object.keys(d.params.on).forEach(b=>{d.on(b,d.params.on[b])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getSlideIndex(t){const{slidesEl:n,params:r}=this,o=lh(n,`.${r.slideClass}, swiper-slide`),d=FT(o[0]);return FT(t)-d}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:n,params:r}=t;t.slides=lh(n,`.${r.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const r=this;t=Math.min(Math.max(t,0),1);const o=r.minTranslate(),h=(r.maxTranslate()-o)*t+o;r.translateTo(h,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(r=>{const o=t.getSlideClasses(r);n.push({slideEl:r,classNames:o}),t.emit("_slideClass",r,o)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t="current",n=!1){const r=this,{params:o,slides:d,slidesGrid:h,slidesSizesGrid:s,size:b,activeIndex:R}=r;let J=1;if(o.centeredSlides){let I=d[R].swiperSlideSize,z;for(let Z=R+1;Z<d.length;Z+=1)d[Z]&&!z&&(I+=d[Z].swiperSlideSize,J+=1,I>b&&(z=!0));for(let Z=R-1;Z>=0;Z-=1)d[Z]&&!z&&(I+=d[Z].swiperSlideSize,J+=1,I>b&&(z=!0))}else if(t==="current")for(let I=R+1;I<d.length;I+=1)(n?h[I]+s[I]-h[R]<b:h[I]-h[R]<b)&&(J+=1);else for(let I=R-1;I>=0;I-=1)h[R]-h[I]<b&&(J+=1);return J}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:r}=t;r.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(h=>{h.complete&&kx(t,h)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function o(){const h=t.rtlTranslate?t.translate*-1:t.translate,s=Math.min(Math.max(h,t.maxTranslate()),t.minTranslate());t.setTranslate(s),t.updateActiveIndex(),t.updateSlidesClasses()}let d;if(t.params.freeMode&&t.params.freeMode.enabled)o(),t.params.autoHeight&&t.updateAutoHeight();else{if((t.params.slidesPerView==="auto"||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides){const h=t.virtual&&t.params.virtual.enabled?t.virtual.slides:t.slides;d=t.slideTo(h.length-1,0,!1,!0)}else d=t.slideTo(t.activeIndex,0,!1,!0);d||o()}r.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n=!0){const r=this,o=r.params.direction;return t||(t=o==="horizontal"?"vertical":"horizontal"),t===o||t!=="horizontal"&&t!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${o}`),r.el.classList.add(`${r.params.containerModifierClass}${t}`),r.emitContainerClasses(),r.params.direction=t,r.slides.forEach(d=>{t==="vertical"?d.style.width="":d.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let r=t||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.shadowEl&&(n.isElement=!0);const o=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let h=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(o()):lh(r,o())[0])();return!h&&n.params.createElements&&(h=F5("div",n.params.wrapperClass),r.append(h),lh(r,`.${n.params.slideClass}`).forEach(s=>{h.append(s)})),Object.assign(n,{el:r,wrapperEl:h,slidesEl:n.isElement?r:h,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||tf(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||tf(r,"direction")==="rtl"),wrongRTL:tf(h,"display")==="-webkit-box"}),!0}init(t){const n=this;return n.initialized||n.mount(t)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete?kx(n,o):o.addEventListener("load",d=>{kx(n,d.target)})}),jT(n),n.initialized=!0,jT(n),n.emit("init"),n.emit("afterInit")),n}destroy(t=!0,n=!0){const r=this,{params:o,el:d,wrapperEl:h,slides:s}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),o.loop&&r.loopDestroy(),n&&(r.removeClasses(),d.removeAttribute("style"),h.removeAttribute("style"),s&&s.length&&s.forEach(b=>{b.classList.remove(o.slideVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),b.removeAttribute("style"),b.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(b=>{r.off(b)}),t!==!1&&(r.el.swiper=null,JY(r)),r.destroyed=!0),null}static extendDefaults(t){ud(U3,t)}static get extendedDefaults(){return U3}static get defaults(){return dM}static installModule(t){Wh.prototype.__modules__||(Wh.prototype.__modules__=[]);const n=Wh.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>Wh.installModule(n)),Wh):(Wh.installModule(t),Wh)}};Object.keys(j3).forEach(e=>{Object.keys(j3[e]).forEach(t=>{o_.prototype[t]=j3[e][t]})});o_.use([dq,uq]);function gX(e,t,n,r){return e.params.createElements&&Object.keys(r).forEach(o=>{if(!n[o]&&n.auto===!0){let d=lh(e.el,`.${r[o]}`)[0];d||(d=F5("div",r[o]),d.className=r[o],e.el.append(d)),n[o]=d,t[o]=d}}),n}function yX({swiper:e,extendParams:t,on:n,emit:r}){t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const o=L=>(Array.isArray(L)||(L=[L].filter(O=>!!O)),L);function d(L){let O;return L&&typeof L=="string"&&e.isElement&&(O=e.el.shadowRoot.querySelector(L),O)?O:(L&&(typeof L=="string"&&(O=[...document.querySelectorAll(L)]),e.params.uniqueNavElements&&typeof L=="string"&&O.length>1&&e.el.querySelectorAll(L).length===1&&(O=e.el.querySelector(L))),L&&!O?L:O)}function h(L,O){const G=e.params.navigation;L=o(L),L.forEach(M=>{M&&(M.classList[O?"add":"remove"](...G.disabledClass.split(" ")),M.tagName==="BUTTON"&&(M.disabled=O),e.params.watchOverflow&&e.enabled&&M.classList[e.isLocked?"add":"remove"](G.lockClass))})}function s(){const{nextEl:L,prevEl:O}=e.navigation;if(e.params.loop){h(O,!1),h(L,!1);return}h(O,e.isBeginning&&!e.params.rewind),h(L,e.isEnd&&!e.params.rewind)}function b(L){L.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function R(L){L.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function J(){const L=e.params.navigation;if(e.params.navigation=gX(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(L.nextEl||L.prevEl))return;let O=d(L.nextEl),G=d(L.prevEl);Object.assign(e.navigation,{nextEl:O,prevEl:G}),O=o(O),G=o(G);const M=(S,P)=>{S&&S.addEventListener("click",P==="next"?R:b),!e.enabled&&S&&S.classList.add(...L.lockClass.split(" "))};O.forEach(S=>M(S,"next")),G.forEach(S=>M(S,"prev"))}function I(){let{nextEl:L,prevEl:O}=e.navigation;L=o(L),O=o(O);const G=(M,S)=>{M.removeEventListener("click",S==="next"?R:b),M.classList.remove(...e.params.navigation.disabledClass.split(" "))};L.forEach(M=>G(M,"next")),O.forEach(M=>G(M,"prev"))}n("init",()=>{e.params.navigation.enabled===!1?Z():(J(),s())}),n("toEdge fromEdge lock unlock",()=>{s()}),n("destroy",()=>{I()}),n("enable disable",()=>{let{nextEl:L,prevEl:O}=e.navigation;L=o(L),O=o(O),[...L,...O].filter(G=>!!G).forEach(G=>G.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),n("click",(L,O)=>{let{nextEl:G,prevEl:M}=e.navigation;G=o(G),M=o(M);const S=O.target;if(e.params.navigation.hideOnClick&&!M.includes(S)&&!G.includes(S)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===S||e.pagination.el.contains(S)))return;let P;G.length?P=G[0].classList.contains(e.params.navigation.hiddenClass):M.length&&(P=M[0].classList.contains(e.params.navigation.hiddenClass)),r(P===!0?"navigationShow":"navigationHide"),[...G,...M].filter(H=>!!H).forEach(H=>H.classList.toggle(e.params.navigation.hiddenClass))}});const z=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),J(),s()},Z=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),I()};Object.assign(e.navigation,{enable:z,disable:Z,update:s,init:J,destroy:I})}function $3(e=""){return`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function _X({swiper:e,extendParams:t,on:n}){t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let r=null;function o(D){const m=r;m.length!==0&&(m.innerHTML="",m.innerHTML=D)}const d=D=>(Array.isArray(D)||(D=[D].filter(m=>!!m)),D);function h(D=16){const m=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(D).replace(/x/g,m)}function s(D){D=d(D),D.forEach(m=>{m.setAttribute("tabIndex","0")})}function b(D){D=d(D),D.forEach(m=>{m.setAttribute("tabIndex","-1")})}function R(D,m){D=d(D),D.forEach(g=>{g.setAttribute("role",m)})}function J(D,m){D=d(D),D.forEach(g=>{g.setAttribute("aria-roledescription",m)})}function I(D,m){D=d(D),D.forEach(g=>{g.setAttribute("aria-controls",m)})}function z(D,m){D=d(D),D.forEach(g=>{g.setAttribute("aria-label",m)})}function Z(D,m){D=d(D),D.forEach(g=>{g.setAttribute("id",m)})}function L(D,m){D=d(D),D.forEach(g=>{g.setAttribute("aria-live",m)})}function O(D){D=d(D),D.forEach(m=>{m.setAttribute("aria-disabled",!0)})}function G(D){D=d(D),D.forEach(m=>{m.setAttribute("aria-disabled",!1)})}function M(D){if(D.keyCode!==13&&D.keyCode!==32)return;const m=e.params.a11y,g=D.target;e.pagination&&e.pagination.el&&(g===e.pagination.el||e.pagination.el.contains(D.target))&&!D.target.matches($3(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&g===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?o(m.lastSlideMessage):o(m.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&g===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?o(m.firstSlideMessage):o(m.prevSlideMessage)),e.pagination&&g.matches($3(e.params.pagination.bulletClass))&&g.click())}function S(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:D,prevEl:m}=e.navigation;m&&(e.isBeginning?(O(m),b(m)):(G(m),s(m))),D&&(e.isEnd?(O(D),b(D)):(G(D),s(D)))}function P(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function H(){return P()&&e.params.pagination.clickable}function U(){const D=e.params.a11y;P()&&e.pagination.bullets.forEach(m=>{e.params.pagination.clickable&&(s(m),e.params.pagination.renderBullet||(R(m,"button"),z(m,D.paginationBulletMessage.replace(/\{\{index\}\}/,FT(m)+1)))),m.matches($3(e.params.pagination.bulletActiveClass))?m.setAttribute("aria-current","true"):m.removeAttribute("aria-current")})}const E=(D,m,g)=>{s(D),D.tagName!=="BUTTON"&&(R(D,"button"),D.addEventListener("keydown",M)),z(D,g),I(D,m)},ie=()=>{e.a11y.clicked=!0},te=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},$=D=>{if(e.a11y.clicked)return;const m=D.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!m||!e.slides.includes(m))return;const g=e.slides.indexOf(m)===e.activeIndex,x=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(m);g||x||D.sourceCapabilities&&D.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(m),0))},V=()=>{const D=e.params.a11y;D.itemRoleDescriptionMessage&&J(e.slides,D.itemRoleDescriptionMessage),D.slideRole&&R(e.slides,D.slideRole);const m=e.slides.length;D.slideLabelMessage&&e.slides.forEach((g,x)=>{const k=e.params.loop?parseInt(g.getAttribute("data-swiper-slide-index"),10):x,q=D.slideLabelMessage.replace(/\{\{index\}\}/,k+1).replace(/\{\{slidesLength\}\}/,m);z(g,q)})},j=()=>{const D=e.params.a11y;e.isElement?e.el.shadowEl.append(r):e.el.append(r);const m=e.el;D.containerRoleDescriptionMessage&&J(m,D.containerRoleDescriptionMessage),D.containerMessage&&z(m,D.containerMessage);const g=e.wrapperEl,x=D.id||g.getAttribute("id")||`swiper-wrapper-${h(16)}`,k=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";Z(g,x),L(g,k),V();let{nextEl:q,prevEl:Y}=e.navigation?e.navigation:{};q=d(q),Y=d(Y),q&&q.forEach(K=>E(K,x,D.nextSlideMessage)),Y&&Y.forEach(K=>E(K,x,D.prevSlideMessage)),H()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(le=>{le.addEventListener("keydown",M)}),e.el.addEventListener("focus",$,!0),e.el.addEventListener("pointerdown",ie,!0),e.el.addEventListener("pointerup",te,!0)};function w(){r&&r.remove();let{nextEl:D,prevEl:m}=e.navigation?e.navigation:{};D=d(D),m=d(m),D&&D.forEach(g=>g.removeEventListener("keydown",M)),m&&m.forEach(g=>g.removeEventListener("keydown",M)),H()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(x=>{x.removeEventListener("keydown",M)}),e.el.removeEventListener("focus",$,!0),e.el.removeEventListener("pointerdown",ie,!0),e.el.removeEventListener("pointerup",te,!0)}n("beforeInit",()=>{r=F5("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),n("afterInit",()=>{e.params.a11y.enabled&&j()}),n("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&V()}),n("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&S()}),n("paginationUpdate",()=>{e.params.a11y.enabled&&U()}),n("destroy",()=>{e.params.a11y.enabled&&w()})}function q0(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function nf(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof e[r]>"u"?e[r]=t[r]:q0(t[r])&&q0(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:nf(e[r],t[r]):e[r]=t[r]})}function M6(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function k6(e={}){return e.pagination&&typeof e.pagination.el>"u"}function A6(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function P6(e=""){const t=e.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return t.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function vX(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}const D6=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function uM(e={},t=!0){const n={on:{}},r={},o={};nf(n,o_.defaults),nf(n,o_.extendedDefaults),n._emitClasses=!0,n.init=!1;const d={},h=D6.map(b=>b.replace(/_/,"")),s=Object.assign({},e);return Object.keys(s).forEach(b=>{typeof e[b]>"u"||(h.indexOf(b)>=0?q0(e[b])?(n[b]={},o[b]={},nf(n[b],e[b]),nf(o[b],e[b])):(n[b]=e[b],o[b]=e[b]):b.search(/on[A-Z]/)===0&&typeof e[b]=="function"?t?r[`${b[2].toLowerCase()}${b.substr(3)}`]=e[b]:n.on[`${b[2].toLowerCase()}${b.substr(3)}`]=e[b]:d[b]=e[b])}),["navigation","pagination","scrollbar"].forEach(b=>{n[b]===!0&&(n[b]={}),n[b]===!1&&delete n[b]}),{params:n,passedParams:o,rest:d,events:r}}function xX({el:e,nextEl:t,prevEl:n,paginationEl:r,scrollbarEl:o,swiper:d},h){M6(h)&&t&&n&&(d.params.navigation.nextEl=t,d.originalParams.navigation.nextEl=t,d.params.navigation.prevEl=n,d.originalParams.navigation.prevEl=n),k6(h)&&r&&(d.params.pagination.el=r,d.originalParams.pagination.el=r),A6(h)&&o&&(d.params.scrollbar.el=o,d.originalParams.scrollbar.el=o),d.init(e)}function bX(e,t,n,r,o){const d=[];if(!t)return d;const h=b=>{d.indexOf(b)<0&&d.push(b)};if(n&&r){const b=r.map(o),R=n.map(o);b.join("")!==R.join("")&&h("children"),r.length!==n.length&&h("children")}return D6.filter(b=>b[0]==="_").map(b=>b.replace(/_/,"")).forEach(b=>{if(b in e&&b in t)if(q0(e[b])&&q0(t[b])){const R=Object.keys(e[b]),J=Object.keys(t[b]);R.length!==J.length?h(b):(R.forEach(I=>{e[b][I]!==t[b][I]&&h(b)}),J.forEach(I=>{e[b][I]!==t[b][I]&&h(b)}))}else e[b]!==t[b]&&h(b)}),d}function V3(e,t,n){e===void 0&&(e={});const r=[],o={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},d=(h,s)=>{Array.isArray(h)&&h.forEach(b=>{const R=typeof b.type=="symbol";s==="default"&&(s="container-end"),R&&b.children?d(b.children,s):b.type&&(b.type.name==="SwiperSlide"||b.type.name==="AsyncComponentWrapper")?r.push(b):o[s]&&o[s].push(b)})};return Object.keys(e).forEach(h=>{if(typeof e[h]!="function")return;const s=e[h]();d(s,h)}),n.value=t.value,t.value=r,{slides:r,slots:o}}function wX({swiper:e,slides:t,passedParams:n,changedParams:r,nextEl:o,prevEl:d,scrollbarEl:h,paginationEl:s}){const b=r.filter(te=>te!=="children"&&te!=="direction"&&te!=="wrapperClass"),{params:R,pagination:J,navigation:I,scrollbar:z,virtual:Z,thumbs:L}=e;let O,G,M,S,P,H,U,E;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&R.thumbs&&!R.thumbs.swiper&&(O=!0),r.includes("controller")&&n.controller&&n.controller.control&&R.controller&&!R.controller.control&&(G=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||s)&&(R.pagination||R.pagination===!1)&&J&&!J.el&&(M=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||h)&&(R.scrollbar||R.scrollbar===!1)&&z&&!z.el&&(S=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||d)&&(n.navigation.nextEl||o)&&(R.navigation||R.navigation===!1)&&I&&!I.prevEl&&!I.nextEl&&(P=!0);const ie=te=>{e[te]&&(e[te].destroy(),te==="navigation"?(e.isElement&&(e[te].prevEl.remove(),e[te].nextEl.remove()),R[te].prevEl=void 0,R[te].nextEl=void 0,e[te].prevEl=void 0,e[te].nextEl=void 0):(e.isElement&&e[te].el.remove(),R[te].el=void 0,e[te].el=void 0))};r.includes("loop")&&e.isElement&&(R.loop&&!n.loop?H=!0:!R.loop&&n.loop?U=!0:E=!0),b.forEach(te=>{if(q0(R[te])&&q0(n[te]))nf(R[te],n[te]),(te==="navigation"||te==="pagination"||te==="scrollbar")&&"enabled"in n[te]&&!n[te].enabled&&ie(te);else{const $=n[te];($===!0||$===!1)&&(te==="navigation"||te==="pagination"||te==="scrollbar")?$===!1&&ie(te):R[te]=n[te]}}),b.includes("controller")&&!G&&e.controller&&e.controller.control&&R.controller&&R.controller.control&&(e.controller.control=R.controller.control),r.includes("children")&&t&&Z&&R.virtual.enabled&&(Z.slides=t,Z.update(!0)),r.includes("children")&&t&&R.loop&&(E=!0),O&&L.init()&&L.update(!0),G&&(e.controller.control=R.controller.control),M&&(e.isElement&&(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-pagination"),e.el.shadowEl.appendChild(s)),s&&(R.pagination.el=s),J.init(),J.render(),J.update()),S&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),e.el.shadowEl.appendChild(h)),h&&(R.scrollbar.el=h),z.init(),z.updateSize(),z.setTranslate()),P&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),e.el.shadowEl.appendChild(o)),(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-button-prev"),e.el.shadowEl.appendChild(d))),o&&(R.navigation.nextEl=o),d&&(R.navigation.prevEl=d),I.init(),I.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&e.changeDirection(n.direction,!1),(H||E)&&e.loopDestroy(),(U||E)&&e.loopCreate(),e.update()}function TX(e,t,n){if(!n)return null;const r=J=>{let I=J;return J<0?I=t.length+J:I>=t.length&&(I=I-t.length),I},o=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:d,to:h}=n,s=e.value.params.loop?-t.length:0,b=e.value.params.loop?t.length*2:t.length,R=[];for(let J=s;J<b;J+=1)J>=d&&J<=h&&R.push(t[r(J)]);return R.map(J=>(J.props||(J.props={}),J.props.style||(J.props.style={}),J.props.swiperRef=e,J.props.style=o,jc(J.type,{...J.props},J.children)))}const SX=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},CX={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,t){let{slots:n,emit:r}=t;const{tag:o,wrapperTag:d}=e,h=sn("swiper"),s=sn(null),b=sn(!1),R=sn(!1),J=sn(null),I=sn(null),z=sn(null),Z={value:[]},L={value:[]},O=sn(null),G=sn(null),M=sn(null),S=sn(null),{params:P,passedParams:H}=uM(e,!1);V3(n,Z,L),z.value=H,L.value=Z.value;const U=()=>{V3(n,Z,L),b.value=!0};P.onAny=function(te){for(var $=arguments.length,V=new Array($>1?$-1:0),j=1;j<$;j++)V[j-1]=arguments[j];r(te,...V)},Object.assign(P.on,{_beforeBreakpoint:U,_containerClasses(te,$){h.value=$}});const E={...P};if(delete E.wrapperClass,I.value=new o_(E),I.value.virtual&&I.value.params.virtual.enabled){I.value.virtual.slides=Z.value;const te={cache:!1,slides:Z.value,renderExternal:$=>{s.value=$},renderExternalUpdate:!1};nf(I.value.params.virtual,te),nf(I.value.originalParams.virtual,te)}Q0(()=>{!R.value&&I.value&&(I.value.emitSlidesClasses(),R.value=!0);const{passedParams:te}=uM(e,!1),$=bX(te,z.value,Z.value,L.value,V=>V.props&&V.props.key);z.value=te,($.length||b.value)&&I.value&&!I.value.destroyed&&wX({swiper:I.value,slides:Z.value,passedParams:te,changedParams:$,nextEl:O.value,prevEl:G.value,scrollbarEl:S.value,paginationEl:M.value}),b.value=!1}),Vg("swiper",I),ha(s,()=>{yc(()=>{SX(I.value)})}),Ko(()=>{J.value&&(xX({el:J.value,nextEl:O.value,prevEl:G.value,paginationEl:M.value,scrollbarEl:S.value,swiper:I.value},P),r("swiper",I.value))}),em(()=>{I.value&&!I.value.destroyed&&I.value.destroy(!0,!1)});function ie(te){return P.virtual?TX(I,te,s.value):(te.forEach(($,V)=>{$.props||($.props={}),$.props.swiperRef=I,$.props.swiperSlideIndex=V}),te)}return()=>{const{slides:te,slots:$}=V3(n,Z,L);return jc(o,{ref:J,class:P6(h.value)},[$["container-start"],jc(d,{class:vX(P.wrapperClass)},[$["wrapper-start"],ie(te),$["wrapper-end"]]),M6(e)&&[jc("div",{ref:G,class:"swiper-button-prev"}),jc("div",{ref:O,class:"swiper-button-next"})],A6(e)&&jc("div",{ref:S,class:"swiper-scrollbar"}),k6(e)&&jc("div",{ref:M,class:"swiper-pagination"}),$["container-end"]])}}},EX={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:n}=t,r=!1;const{swiperRef:o}=e,d=sn(null),h=sn("swiper-slide"),s=sn(!1);function b(I,z,Z){z===d.value&&(h.value=Z)}Ko(()=>{!o||!o.value||(o.value.on("_slideClass",b),r=!0)}),p_(()=>{r||!o||!o.value||(o.value.on("_slideClass",b),r=!0)}),Q0(()=>{!d.value||!o||!o.value||(typeof e.swiperSlideIndex<"u"&&(d.value.swiperSlideIndex=e.swiperSlideIndex),o.value.destroyed&&h.value!=="swiper-slide"&&(h.value="swiper-slide"))}),em(()=>{!o||!o.value||o.value.off("_slideClass",b)});const R=hn(()=>({isActive:h.value.indexOf("swiper-slide-active")>=0,isVisible:h.value.indexOf("swiper-slide-visible")>=0,isPrev:h.value.indexOf("swiper-slide-prev")>=0,isNext:h.value.indexOf("swiper-slide-next")>=0}));Vg("swiperSlide",R);const J=()=>{s.value=!0};return()=>jc(e.tag,{class:P6(`${h.value}`),ref:d,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&o&&o.value&&o.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:J},e.zoom?jc("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[n.default&&n.default(R.value),e.lazy&&!s.value&&jc("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(R.value),e.lazy&&!s.value&&jc("div",{class:"swiper-lazy-preloader"})])}},MX={props:{fleet:Object,active:String},components:{Swiper:CX,SwiperSlide:EX},setup(){return{auto:!0,onSwiper:n=>{},onSlideChange:()=>{},modules:[yX,_X]}}},kX={class:"swiper-button-prev"},AX=["src"],PX=["href"],DX=["href"],IX=["href"],LX=["href"],OX=["href"],RX=["href"],BX={class:"swiper-button-next"},zX=["src"];function NX(e,t,n,r,o,d){const h=Er("swiper-slide"),s=Er("swiper");return wt(),Ir(s,{"slides-per-view":"auto","space-between":0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},onSwiper:r.onSwiper,onSlideChange:r.onSlideChange},{default:Yn(()=>[Ye("div",kX,[Ye("img",{src:"/img/icons/chevron-prev.png",alt:""},null,8,AX)]),cn(h,null,{default:Yn(()=>[Ye("a",{href:`/fleet/${n.fleet.id}`,class:ar(["submenu-item",{active:n.active=="info"}])},"NAVIGASI",10,PX)]),_:1}),cn(h,null,{default:Yn(()=>[Ye("a",{href:`/fleet/${n.fleet.id}/engine`,class:ar(["submenu-item",{active:n.active=="engine"}])},"ENGINE",10,DX)]),_:1}),cn(h,null,{default:Yn(()=>[Ye("a",{href:`/fleet/${n.fleet.id}/cargo`,class:ar(["submenu-item",{active:n.active=="cargo"}])},"CARGO",10,IX)]),_:1}),cn(h,null,{default:Yn(()=>[Ye("a",{href:`/fleet/${n.fleet.id}/bunker`,class:ar(["submenu-item",{active:n.active=="bunker"}])},"BUNKER TANK",10,LX)]),_:1}),cn(h,null,{default:Yn(()=>[Ye("a",{href:`/fleet/${n.fleet.id}/balast`,class:ar(["submenu-item",{active:n.active=="balast"}])},"BALAST TANK",10,OX)]),_:1}),cn(h,null,{default:Yn(()=>[Ye("a",{href:`/fleet/${n.fleet.id}/alarms`,class:ar(["submenu-item",{active:n.active=="alarms"}])},"ALARM",10,RX)]),_:1}),Ye("div",BX,[Ye("img",{src:"/img/icons/chevron-next.png",alt:""},null,8,zX)])]),_:1},8,["navigation","onSwiper","onSlideChange"])}const FX=Zr(MX,[["render",NX]]);var I6={exports:{}},G3={exports:{}},hM;function L6(){return hM||(hM=1,function(e){(function(t,n){e.exports?(n.default=n,e.exports=t.document?n(t):n):(t.Highcharts&&t.Highcharts.error(16,!0),t.Highcharts=n(t))})(typeof window<"u"?window:Ra,function(t){function n(o,d,h,s){o.hasOwnProperty(d)||(o[d]=s.apply(null,h),typeof CustomEvent=="function"&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:d,module:o[d]}})))}var r={};return n(r,"Core/Globals.js",[],function(){var o;return function(d){d.SVG_NS="http://www.w3.org/2000/svg",d.product="Highcharts",d.version="11.0.1",d.win=typeof t<"u"?t:{},d.doc=d.win.document,d.svg=d.doc&&d.doc.createElementNS&&!!d.doc.createElementNS(d.SVG_NS,"svg").createSVGRect,d.userAgent=d.win.navigator&&d.win.navigator.userAgent||"",d.isChrome=d.userAgent.indexOf("Chrome")!==-1,d.isFirefox=d.userAgent.indexOf("Firefox")!==-1,d.isMS=/(edge|msie|trident)/i.test(d.userAgent)&&!d.win.opera,d.isSafari=!d.isChrome&&d.userAgent.indexOf("Safari")!==-1,d.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(d.userAgent),d.isWebKit=d.userAgent.indexOf("AppleWebKit")!==-1,d.deg2rad=2*Math.PI/360,d.hasBidiBug=d.isFirefox&&4>parseInt(d.userAgent.split("Firefox/")[1],10),d.hasTouch=!!d.win.TouchEvent,d.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],d.noop=function(){},d.supportsPassiveEvents=function(){let h=!1;if(!d.isMS){const s=Object.defineProperty({},"passive",{get:function(){h=!0}});d.win.addEventListener&&d.win.removeEventListener&&(d.win.addEventListener("testPassive",d.noop,s),d.win.removeEventListener("testPassive",d.noop,s))}return h}(),d.charts=[],d.dateFormats={},d.seriesTypes={},d.symbolSizes={},d.chartCount=0}(o||(o={})),o}),n(r,"Core/Utilities.js",[r["Core/Globals.js"]],function(o){function d(g,x,k,q){const Y=x?"Highcharts error":"Highcharts warning";g===32&&(g=`${Y}: Deprecated member`);const K=Z(g);let le=K?`${Y} #${g}: www.highcharts.com/errors/${g}/`:g.toString();if(typeof q<"u"){let he="";K&&(le+="?"),E(q,function(pe,F){he+=`
 - ${F}: ${pe}`,K&&(le+=encodeURI(F)+"="+encodeURI(pe))}),le+=he}te(o,"displayError",{chart:k,code:g,message:le,params:q},function(){if(x)throw Error(le);j.console&&d.messages.indexOf(le)===-1&&console.warn(le)}),d.messages.push(le)}function h(g,x){const k={};return E(g,function(q,Y){J(g[Y],!0)&&!g.nodeType&&x[Y]?(q=h(g[Y],x[Y]),Object.keys(q).length&&(k[Y]=q)):(J(g[Y])||g[Y]!==x[Y]||Y in g&&!(Y in x))&&(k[Y]=g[Y])}),k}function s(g,x){return parseInt(g,x||10)}function b(g){return typeof g=="string"}function R(g){return g=Object.prototype.toString.call(g),g==="[object Array]"||g==="[object Array Iterator]"}function J(g,x){return!!g&&typeof g=="object"&&(!x||!R(g))}function I(g){return J(g)&&typeof g.nodeType=="number"}function z(g){const x=g&&g.constructor;return!(!J(g,!0)||I(g)||!x||!x.name||x.name==="Object")}function Z(g){return typeof g=="number"&&!isNaN(g)&&1/0>g&&-1/0<g}function L(g){return typeof g<"u"&&g!==null}function O(g,x,k){const q=b(x)&&!L(k);let Y;const K=(le,he)=>{L(le)?g.setAttribute(he,le):q?(Y=g.getAttribute(he))||he!=="class"||(Y=g.getAttribute(he+"Name")):g.removeAttribute(he)};return b(x)?K(k,x):E(x,K),Y}function G(g,x){let k;g||(g={});for(k in x)g[k]=x[k];return g}function M(){const g=arguments,x=g.length;for(let k=0;k<x;k++){const q=g[k];if(typeof q<"u"&&q!==null)return q}}function S(g,x){o.isMS&&!o.svg&&x&&L(x.opacity)&&(x.filter=`alpha(opacity=${100*x.opacity})`),G(g.style,x)}function P(g){return Math.pow(10,Math.floor(Math.log(g)/Math.LN10))}function H(g,x){return 1e14<g?g:parseFloat(g.toPrecision(x||14))}function U(g,x,k){let q;return x==="width"?(x=Math.min(g.offsetWidth,g.scrollWidth),k=g.getBoundingClientRect&&g.getBoundingClientRect().width,k<x&&k>=x-1&&(x=Math.floor(k)),Math.max(0,x-(U(g,"padding-left",!0)||0)-(U(g,"padding-right",!0)||0))):x==="height"?Math.max(0,Math.min(g.offsetHeight,g.scrollHeight)-(U(g,"padding-top",!0)||0)-(U(g,"padding-bottom",!0)||0)):((g=j.getComputedStyle(g,void 0))&&(q=g.getPropertyValue(x),M(k,x!=="opacity")&&(q=s(q))),q)}function E(g,x,k){for(const q in g)Object.hasOwnProperty.call(g,q)&&x.call(k||g[q],g[q],q,g)}function ie(g,x,k){function q(le,he){const pe=g.removeEventListener;pe&&pe.call(g,le,he,!1)}function Y(le){let he,pe;g.nodeName&&(x?(he={},he[x]=!0):he=le,E(he,function(F,Q){if(le[Q])for(pe=le[Q].length;pe--;)q(Q,le[Q][pe].fn)}))}var K=typeof g=="function"&&g.prototype||g;if(Object.hasOwnProperty.call(K,"hcEvents")){const le=K.hcEvents;x?(K=le[x]||[],k?(le[x]=K.filter(function(he){return k!==he.fn}),q(x,k)):(Y(le),le[x]=[])):(Y(le),delete K.hcEvents)}}function te(g,x,k,q){if(k=k||{},V.createEvent&&(g.dispatchEvent||g.fireEvent&&g!==o)){var Y=V.createEvent("Events");Y.initEvent(x,!0,!0),k=G(Y,k),g.dispatchEvent?g.dispatchEvent(k):g.fireEvent(x,k)}else if(g.hcEvents){k.target||G(k,{preventDefault:function(){k.defaultPrevented=!0},target:g,type:x}),Y=[];let K=g,le=!1;for(;K.hcEvents;)Object.hasOwnProperty.call(K,"hcEvents")&&K.hcEvents[x]&&(Y.length&&(le=!0),Y.unshift.apply(Y,K.hcEvents[x])),K=Object.getPrototypeOf(K);le&&Y.sort((he,pe)=>he.order-pe.order),Y.forEach(he=>{he.fn.call(g,k)===!1&&k.preventDefault()})}q&&!k.defaultPrevented&&q.call(g,k)}const{charts:$,doc:V,win:j}=o;(d||(d={})).messages=[],Math.easeInOutSine=function(g){return-.5*(Math.cos(Math.PI*g)-1)};var w=Array.prototype.find?function(g,x){return g.find(x)}:function(g,x){let k;const q=g.length;for(k=0;k<q;k++)if(x(g[k],k))return g[k]};E({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(g,x){o[x]=function(k){return d(32,!1,void 0,{[`Highcharts.${x}`]:`use Array.${g}`}),Array.prototype[g].apply(k,[].slice.call(arguments,1))}});let D;const m=function(){const g=Math.random().toString(36).substring(2,9)+"-";let x=0;return function(){return"highcharts-"+(D?"":g)+x++}}();return j.jQuery&&(j.jQuery.fn.highcharts=function(){const g=[].slice.call(arguments);if(this[0])return g[0]?(new o[b(g[0])?g.shift():"Chart"](this[0],g[0],g[1]),this):$[O(this[0],"data-highcharts-chart")]}),w={addEvent:function(g,x,k,q={}){var Y=typeof g=="function"&&g.prototype||g;Object.hasOwnProperty.call(Y,"hcEvents")||(Y.hcEvents={}),Y=Y.hcEvents,o.Point&&g instanceof o.Point&&g.series&&g.series.chart&&(g.series.chart.runTrackerClick=!0);const K=g.addEventListener;return K&&K.call(g,x,k,o.supportsPassiveEvents?{passive:q.passive===void 0?x.indexOf("touch")!==-1:q.passive,capture:!1}:!1),Y[x]||(Y[x]=[]),Y[x].push({fn:k,order:typeof q.order=="number"?q.order:1/0}),Y[x].sort((le,he)=>le.order-he.order),function(){ie(g,x,k)}},arrayMax:function(g){let x=g.length,k=g[0];for(;x--;)g[x]>k&&(k=g[x]);return k},arrayMin:function(g){let x=g.length,k=g[0];for(;x--;)g[x]<k&&(k=g[x]);return k},attr:O,clamp:function(g,x,k){return g>x?g<k?g:k:x},cleanRecursively:h,clearTimeout:function(g){L(g)&&clearTimeout(g)},correctFloat:H,createElement:function(g,x,k,q,Y){return g=V.createElement(g),x&&G(g,x),Y&&S(g,{padding:"0",border:"none",margin:"0"}),k&&S(g,k),q&&q.appendChild(g),g},css:S,defined:L,destroyObjectProperties:function(g,x){E(g,function(k,q){k&&k!==x&&k.destroy&&k.destroy(),delete g[q]})},discardElement:function(g){g&&g.parentElement&&g.parentElement.removeChild(g)},erase:function(g,x){let k=g.length;for(;k--;)if(g[k]===x){g.splice(k,1);break}},error:d,extend:G,extendClass:function(g,x){const k=function(){};return k.prototype=new g,G(k.prototype,x),k},find:w,fireEvent:te,getMagnitude:P,getNestedProperty:function(g,x){for(g=g.split(".");g.length&&L(x);){const k=g.shift();if(typeof k>"u"||k==="__proto__"||(x=x[k],!L(x)||typeof x=="function"||typeof x.nodeType=="number"||x===j))return}return x},getStyle:U,inArray:function(g,x,k){return d(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),x.indexOf(g,k)},isArray:R,isClass:z,isDOMElement:I,isFunction:function(g){return typeof g=="function"},isNumber:Z,isObject:J,isString:b,keys:function(g){return d(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(g)},merge:function(){let g,x=arguments,k={};const q=function(K,le){return typeof K!="object"&&(K={}),E(le,function(he,pe){pe!=="__proto__"&&pe!=="constructor"&&(!J(he,!0)||z(he)||I(he)?K[pe]=le[pe]:K[pe]=q(K[pe]||{},he))}),K};x[0]===!0&&(k=x[1],x=Array.prototype.slice.call(x,2));const Y=x.length;for(g=0;g<Y;g++)k=q(k,x[g]);return k},normalizeTickInterval:function(g,x,k,q,Y){let K=g;k=M(k,P(g));const le=g/k;for(x||(x=Y?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],q===!1&&(k===1?x=x.filter(function(he){return he%1===0}):.1>=k&&(x=[1/k]))),q=0;q<x.length&&(K=x[q],!(Y&&K*k>=g||!Y&&le<=(x[q]+(x[q+1]||x[q]))/2));q++);return K=H(K*k,-Math.round(Math.log(.001)/Math.LN10))},objectEach:E,offset:function(g){const x=V.documentElement;return g=g.parentElement||g.parentNode?g.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:g.top+(j.pageYOffset||x.scrollTop)-(x.clientTop||0),left:g.left+(j.pageXOffset||x.scrollLeft)-(x.clientLeft||0),width:g.width,height:g.height}},pad:function(g,x,k){return Array((x||2)+1-String(g).replace("-","").length).join(k||"0")+g},pick:M,pInt:s,pushUnique:function(g,x){return 0>g.indexOf(x)&&!!g.push(x)},relativeLength:function(g,x,k){return/%$/.test(g)?x*parseFloat(g)/100+(k||0):parseFloat(g)},removeEvent:ie,splat:function(g){return R(g)?g:[g]},stableSort:function(g,x){const k=g.length;let q,Y;for(Y=0;Y<k;Y++)g[Y].safeI=Y;for(g.sort(function(K,le){return q=x(K,le),q===0?K.safeI-le.safeI:q}),Y=0;Y<k;Y++)delete g[Y].safeI},syncTimeout:function(g,x,k){return 0<x?setTimeout(g,x,k):(g.call(0,k),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:m,useSerialIds:function(g){return D=M(g,D)},wrap:function(g,x,k){const q=g[x];g[x]=function(){const Y=arguments,K=this;return k.apply(this,[function(){return q.apply(K,arguments.length?arguments:Y)}].concat([].slice.call(arguments)))}}},w}),n(r,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),n(r,"Core/Color/Color.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d){const{isNumber:h,merge:s,pInt:b}=d;class R{static parse(I){return I?new R(I):R.None}constructor(I){this.rgba=[NaN,NaN,NaN,NaN],this.input=I;const z=o.Color;if(z&&z!==R)return new z(I);this.init(I)}init(I){let z,Z;if(typeof I=="object"&&typeof I.stops<"u")this.stops=I.stops.map(G=>new R(G[1]));else if(typeof I=="string"){if(this.input=I=R.names[I.toLowerCase()]||I,I.charAt(0)==="#"){var L=I.length,O=parseInt(I.substr(1),16);L===7?z=[(O&16711680)>>16,(O&65280)>>8,O&255,1]:L===4&&(z=[(O&3840)>>4|(O&3840)>>8,(O&240)>>4|O&240,(O&15)<<4|O&15,1])}if(!z)for(O=R.parsers.length;O--&&!z;)Z=R.parsers[O],(L=Z.regex.exec(I))&&(z=Z.parse(L))}z&&(this.rgba=z)}get(I){const z=this.input,Z=this.rgba;if(typeof z=="object"&&typeof this.stops<"u"){const L=s(z);return L.stops=[].slice.call(L.stops),this.stops.forEach((O,G)=>{L.stops[G]=[L.stops[G][0],O.get(I)]}),L}return Z&&h(Z[0])?I==="rgb"||!I&&Z[3]===1?"rgb("+Z[0]+","+Z[1]+","+Z[2]+")":I==="a"?`${Z[3]}`:"rgba("+Z.join(",")+")":z}brighten(I){const z=this.rgba;if(this.stops)this.stops.forEach(function(Z){Z.brighten(I)});else if(h(I)&&I!==0)for(let Z=0;3>Z;Z++)z[Z]+=b(255*I),0>z[Z]&&(z[Z]=0),255<z[Z]&&(z[Z]=255);return this}setOpacity(I){return this.rgba[3]=I,this}tweenTo(I,z){const Z=this.rgba,L=I.rgba;return!h(Z[0])||!h(L[0])?I.input||"none":(I=L[3]!==1||Z[3]!==1,(I?"rgba(":"rgb(")+Math.round(L[0]+(Z[0]-L[0])*(1-z))+","+Math.round(L[1]+(Z[1]-L[1])*(1-z))+","+Math.round(L[2]+(Z[2]-L[2])*(1-z))+(I?","+(L[3]+(Z[3]-L[3])*(1-z)):"")+")")}}return R.names={white:"#ffffff",black:"#000000"},R.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(J){return[b(J[1]),b(J[2]),b(J[3]),parseFloat(J[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(J){return[b(J[1]),b(J[2]),b(J[3]),1]}}],R.None=new R(""),R}),n(r,"Core/Color/Palettes.js",[],function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}}),n(r,"Core/Time.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d){const{win:h}=o,{defined:s,error:b,extend:R,isObject:J,merge:I,objectEach:z,pad:Z,pick:L,splat:O,timeUnits:G}=d,M=o.isSafari&&h.Intl&&h.Intl.DateTimeFormat.prototype.formatRange,S=o.isSafari&&h.Intl&&!h.Intl.DateTimeFormat.prototype.formatRange;class P{constructor(U){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=h.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(U)}get(U,E){if(this.variableTimezone||this.timezoneOffset){const ie=E.getTime(),te=ie-this.getTimezoneOffset(E);return E.setTime(te),U=E["getUTC"+U](),E.setTime(ie),U}return this.useUTC?E["getUTC"+U]():E["get"+U]()}set(U,E,ie){if(this.variableTimezone||this.timezoneOffset){if(U==="Milliseconds"||U==="Seconds"||U==="Minutes"&&this.getTimezoneOffset(E)%36e5===0)return E["setUTC"+U](ie);var te=this.getTimezoneOffset(E);return te=E.getTime()-te,E.setTime(te),E["setUTC"+U](ie),U=this.getTimezoneOffset(E),te=E.getTime()+U,E.setTime(te)}return this.useUTC||M&&U==="FullYear"?E["setUTC"+U](ie):E["set"+U](ie)}update(U={}){const E=L(U.useUTC,!0);this.options=U=I(!0,this.options,U),this.Date=U.Date||h.Date||Date,this.timezoneOffset=(this.useUTC=E)&&U.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=E&&!(!U.getTimezoneOffset&&!U.timezone)}makeTime(U,E,ie,te,$,V){let j,w,D;return this.useUTC?(j=this.Date.UTC.apply(0,arguments),w=this.getTimezoneOffset(j),j+=w,D=this.getTimezoneOffset(j),w!==D?j+=D-w:w-36e5!==this.getTimezoneOffset(j-36e5)||S||(j-=36e5)):j=new this.Date(U,E,L(ie,1),L(te,0),L($,0),L(V,0)).getTime(),j}timezoneOffsetFunction(){const U=this,E=this.options,ie=E.getTimezoneOffset,te=E.moment||h.moment;if(!this.useUTC)return function($){return 6e4*new Date($.toString()).getTimezoneOffset()};if(E.timezone){if(te)return function($){return 6e4*-te.tz($,E.timezone).utcOffset()};b(25)}return this.useUTC&&ie?function($){return 6e4*ie($.valueOf())}:function(){return 6e4*(U.timezoneOffset||0)}}dateFormat(U,E,ie){if(!s(E)||isNaN(E))return o.defaultOptions.lang&&o.defaultOptions.lang.invalidDate||"";U=L(U,"%Y-%m-%d %H:%M:%S");const te=this;var $=new this.Date(E);const V=this.get("Hours",$),j=this.get("Day",$),w=this.get("Date",$),D=this.get("Month",$),m=this.get("FullYear",$),g=o.defaultOptions.lang,x=g&&g.weekdays,k=g&&g.shortWeekdays;return $=R({a:k?k[j]:x[j].substr(0,3),A:x[j],d:Z(w),e:Z(w,2," "),w:j,b:g.shortMonths[D],B:g.months[D],m:Z(D+1),o:D+1,y:m.toString().substr(2,2),Y:m,H:Z(V),k:V,I:Z(V%12||12),l:V%12||12,M:Z(this.get("Minutes",$)),p:12>V?"AM":"PM",P:12>V?"am":"pm",S:Z($.getSeconds()),L:Z(Math.floor(E%1e3),3)},o.dateFormats),z($,function(q,Y){for(;U.indexOf("%"+Y)!==-1;)U=U.replace("%"+Y,typeof q=="function"?q.call(te,E):q)}),ie?U.substr(0,1).toUpperCase()+U.substr(1):U}resolveDTLFormat(U){return J(U,!0)?U:(U=O(U),{main:U[0],from:U[1],to:U[2]})}getTimeTicks(U,E,ie,te){const $=this,V=[],j={};var w=new $.Date(E);const D=U.unitRange,m=U.count||1;let g;if(te=L(te,1),s(E)){if($.set("Milliseconds",w,D>=G.second?0:m*Math.floor($.get("Milliseconds",w)/m)),D>=G.second&&$.set("Seconds",w,D>=G.minute?0:m*Math.floor($.get("Seconds",w)/m)),D>=G.minute&&$.set("Minutes",w,D>=G.hour?0:m*Math.floor($.get("Minutes",w)/m)),D>=G.hour&&$.set("Hours",w,D>=G.day?0:m*Math.floor($.get("Hours",w)/m)),D>=G.day&&$.set("Date",w,D>=G.month?1:Math.max(1,m*Math.floor($.get("Date",w)/m))),D>=G.month){$.set("Month",w,D>=G.year?0:m*Math.floor($.get("Month",w)/m));var x=$.get("FullYear",w)}D>=G.year&&$.set("FullYear",w,x-x%m),D===G.week&&(x=$.get("Day",w),$.set("Date",w,$.get("Date",w)-x+te+(x<te?-7:0))),x=$.get("FullYear",w),te=$.get("Month",w);const k=$.get("Date",w),q=$.get("Hours",w);for(E=w.getTime(),!$.variableTimezone&&$.useUTC||!s(ie)||(g=ie-E>4*G.month||$.getTimezoneOffset(E)!==$.getTimezoneOffset(ie)),E=w.getTime(),w=1;E<ie;)V.push(E),E=D===G.year?$.makeTime(x+w*m,0):D===G.month?$.makeTime(x,te+w*m):!g||D!==G.day&&D!==G.week?g&&D===G.hour&&1<m?$.makeTime(x,te,k,q+w*m):E+D*m:$.makeTime(x,te,k+w*m*(D===G.day?1:7)),w++;V.push(E),D<=G.hour&&1e4>V.length&&V.forEach(function(Y){Y%18e5===0&&$.dateFormat("%H%M%S%L",Y)==="000000000"&&(j[Y]="day")})}return V.info=R(U,{higherRanks:j,totalRange:D*m}),V}getDateFormat(U,E,ie,te){const $=this.dateFormat("%m-%d %H:%M:%S.%L",E),V={millisecond:15,second:12,minute:9,hour:6,day:3};let j,w="millisecond";for(j in G){if(U===G.week&&+this.dateFormat("%w",E)===ie&&$.substr(6)==="00:00:00.000"){j="week";break}if(G[j]>U){j=w;break}if(V[j]&&$.substr(V[j])!=="01-01 00:00:00.000".substr(V[j]))break;j!=="week"&&(w=j)}return this.resolveDTLFormat(te[j]).main}}return P}),n(r,"Core/Defaults.js",[r["Core/Chart/ChartDefaults.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Color/Palettes.js"],r["Core/Time.js"],r["Core/Utilities.js"]],function(o,d,h,s,b,R){const{isTouchDevice:J,svg:I}=h,{merge:z}=R,Z={colors:s.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:o,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:I,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:J?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};Z.chart.styledMode=!1;const L=new b(Z.time);return o={defaultOptions:Z,defaultTime:L,getOptions:function(){return Z},setOptions:function(O){return z(!0,Z,O),(O.time||O.global)&&(h.time?h.time.update(z(Z.global,Z.time,O.global,O.time)):h.time=L),Z}},o}),n(r,"Core/Animation/Fx.js",[r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d,h){const{parse:s}=o,{win:b}=d,{isNumber:R,objectEach:J}=h;class I{constructor(Z,L,O){this.pos=NaN,this.options=L,this.elem=Z,this.prop=O}dSetter(){var Z=this.paths;const L=Z&&Z[0];Z=Z&&Z[1];const O=this.now||0;let G=[];if(O!==1&&L&&Z)if(L.length===Z.length&&1>O)for(let M=0;M<Z.length;M++){const S=L[M],P=Z[M],H=[];for(let U=0;U<P.length;U++){const E=S[U],ie=P[U];R(E)&&R(ie)&&(P[0]!=="A"||U!==4&&U!==5)?H[U]=E+O*(ie-E):H[U]=ie}G.push(H)}else G=Z;else G=this.toD||[];this.elem.attr("d",G,void 0,!0)}update(){const Z=this.elem,L=this.prop,O=this.now,G=this.options.step;this[L+"Setter"]?this[L+"Setter"]():Z.attr?Z.element&&Z.attr(L,O,null,!0):Z.style[L]=O+this.unit,G&&G.call(Z,O,this)}run(Z,L,O){const G=this,M=G.options,S=function(U){return S.stopped?!1:G.step(U)},P=b.requestAnimationFrame||function(U){setTimeout(U,13)},H=function(){for(let U=0;U<I.timers.length;U++)I.timers[U]()||I.timers.splice(U--,1);I.timers.length&&P(H)};Z!==L||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=Z,this.end=L,this.unit=O,this.now=this.start,this.pos=0,S.elem=this.elem,S.prop=this.prop,S()&&I.timers.push(S)===1&&P(H)):(delete M.curAnim[this.prop],M.complete&&Object.keys(M.curAnim).length===0&&M.complete.call(this.elem))}step(Z){const L=+new Date,O=this.options,G=this.elem,M=O.complete,S=O.duration,P=O.curAnim;let H;return G.attr&&!G.element?Z=!1:Z||L>=S+this.startTime?(this.now=this.end,this.pos=1,this.update(),H=P[this.prop]=!0,J(P,function(U){U!==!0&&(H=!1)}),H&&M&&M.call(G),Z=!1):(this.pos=O.easing((L-this.startTime)/S),this.now=this.start+(this.end-this.start)*this.pos,this.update(),Z=!0),Z}initPath(Z,L,O){function G($,V){for(;$.length<ie;){var j=$[0];const w=V[ie-$.length];w&&j[0]==="M"&&($[0]=w[0]==="C"?["C",j[1],j[2],j[1],j[2],j[1],j[2]]:["L",j[1],j[2]]),$.unshift(j),H&&(j=$.pop(),$.push($[$.length-1],j))}}function M($,V){for(;$.length<ie;)if(V=$[Math.floor($.length/U)-1].slice(),V[0]==="C"&&(V[1]=V[5],V[2]=V[6]),H){const j=$[Math.floor($.length/U)].slice();$.splice($.length/2,0,V,j)}else $.push(V)}const S=Z.startX,P=Z.endX;O=O.slice();const H=Z.isArea,U=H?2:1;let E,ie,te;if(L=L&&L.slice(),!L)return[O,O];if(S&&P&&P.length){for(Z=0;Z<S.length;Z++)if(S[Z]===P[0]){E=Z;break}else if(S[0]===P[P.length-S.length+Z]){E=Z,te=!0;break}else if(S[S.length-1]===P[P.length-S.length+Z]){E=S.length-Z;break}typeof E>"u"&&(L=[])}return L.length&&R(E)&&(ie=O.length+E*U,te?(G(L,O),M(O,L)):(G(O,L),M(L,O))),[L,O]}fillSetter(){I.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,s(this.start).tweenTo(s(this.end),this.pos),void 0,!0)}}return I.timers=[],I}),n(r,"Core/Animation/AnimationUtilities.js",[r["Core/Animation/Fx.js"],r["Core/Utilities.js"]],function(o,d){function h(G){return z(G)?Z({duration:500,defer:0},G):{duration:G?500:0,defer:0}}function s(G,M){let S=o.timers.length;for(;S--;)o.timers[S].elem!==G||M&&M!==o.timers[S].prop||(o.timers[S].stopped=!0)}const{defined:b,getStyle:R,isArray:J,isNumber:I,isObject:z,merge:Z,objectEach:L,pick:O}=d;return{animate:function(G,M,S){let P,H="",U,E,ie;z(S)||(ie=arguments,S={duration:ie[2],easing:ie[3],complete:ie[4]}),I(S.duration)||(S.duration=400),S.easing=typeof S.easing=="function"?S.easing:Math[S.easing]||Math.easeInOutSine,S.curAnim=Z(M),L(M,function(te,$){s(G,$),E=new o(G,S,$),U=void 0,$==="d"&&J(M.d)?(E.paths=E.initPath(G,G.pathArray,M.d),E.toD=M.d,P=0,U=1):G.attr?P=G.attr($):(P=parseFloat(R(G,$))||0,$!=="opacity"&&(H="px")),U||(U=te),typeof U=="string"&&U.match("px")&&(U=U.replace(/px/g,"")),E.run(P,U,H)})},animObject:h,getDeferredAnimation:function(G,M,S){const P=h(M);let H=0,U=0;return(S?[S]:G.series).forEach(E=>{E=h(E.options.animation),H=M&&b(M.defer)?P.defer:Math.max(H,E.duration+E.defer),U=Math.min(P.duration,E.duration)}),G.renderer.forExport&&(H=0),{defer:Math.max(0,H-U),duration:Math.min(H,U)}},setAnimation:function(G,M){M.renderer.globalAnimation=O(G,M.options.chart.animation,!0)},stop:s}}),n(r,"Core/Renderer/HTML/AST.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d){const{SVG_NS:h,win:s}=o,{attr:b,createElement:R,css:J,error:I,isFunction:z,isString:Z,objectEach:L,splat:O}=d;({trustedTypes:d}=s);const G=d&&z(d.createPolicy)&&d.createPolicy("highcharts",{createHTML:H=>H});d=G?G.createHTML(""):"";try{var M=!!new DOMParser().parseFromString(d,"text/html")}catch{M=!1}const S=M;class P{static filterUserAttributes(U){return L(U,(E,ie)=>{let te=!0;P.allowedAttributes.indexOf(ie)===-1&&(te=!1),["background","dynsrc","href","lowsrc","src"].indexOf(ie)!==-1&&(te=Z(E)&&P.allowedReferences.some($=>E.indexOf($)===0)),te||(I(33,!1,void 0,{"Invalid attribute in config":`${ie}`}),delete U[ie]),Z(E)&&U[ie]&&(U[ie]=E.replace(/</g,"&lt;"))}),U}static parseStyle(U){return U.split(";").reduce((E,ie)=>{ie=ie.split(":").map($=>$.trim());const te=ie.shift();return te&&ie.length&&(E[te.replace(/-([a-z])/g,$=>$[1].toUpperCase())]=ie.join(":")),E},{})}static setElementHTML(U,E){U.innerHTML=P.emptyHTML,E&&new P(E).addToDOM(U)}constructor(U){this.nodes=typeof U=="string"?this.parseMarkup(U):U}addToDOM(U){function E(ie,te){let $;return O(ie).forEach(function(V){var j=V.tagName;const w=V.textContent?o.doc.createTextNode(V.textContent):void 0,D=P.bypassHTMLFiltering;let m;if(j)if(j==="#text")m=w;else if(P.allowedTags.indexOf(j)!==-1||D){j=o.doc.createElementNS(j==="svg"?h:te.namespaceURI||h,j);const g=V.attributes||{};L(V,function(x,k){k!=="tagName"&&k!=="attributes"&&k!=="children"&&k!=="style"&&k!=="textContent"&&(g[k]=x)}),b(j,D?g:P.filterUserAttributes(g)),V.style&&J(j,V.style),w&&j.appendChild(w),E(V.children||[],j),m=j}else I(33,!1,void 0,{"Invalid tagName in config":j});m&&te.appendChild(m),$=m}),$}return E(this.nodes,U)}parseMarkup(U){const E=[];if(U=U.trim().replace(/ style=(["'])/g," data-style=$1"),S)U=new DOMParser().parseFromString(G?G.createHTML(U):U,"text/html");else{const te=R("div");te.innerHTML=U,U={body:te}}const ie=(te,$)=>{var V=te.nodeName.toLowerCase();const j={tagName:V};if(V==="#text"&&(j.textContent=te.textContent||""),V=te.attributes){const w={};[].forEach.call(V,D=>{D.name==="data-style"?j.style=P.parseStyle(D.value):w[D.name]=D.value}),j.attributes=w}if(te.childNodes.length){const w=[];[].forEach.call(te.childNodes,D=>{ie(D,w)}),w.length&&(j.children=w)}$.push(j)};return[].forEach.call(U.body.childNodes,te=>ie(te,E)),E}}return P.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),P.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),P.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),P.emptyHTML=d,P.bypassHTMLFiltering=!1,P}),n(r,"Core/FormatUtilities.js",[r["Core/Defaults.js"],r["Core/Utilities.js"]],function(o,d){function h(Z,L,O,G){Z=+Z||0,L=+L;const M=s.lang;var S=(Z.toString().split(".")[1]||"").split("e")[0].length;const P=Z.toString().split("e"),H=L;if(L===-1)L=Math.min(S,20);else if(!J(L))L=2;else if(L&&P[1]&&0>P[1]){var U=L+ +P[1];0<=U?(P[0]=(+P[0]).toExponential(U).split("e")[0],L=U):(P[0]=P[0].split(".")[0]||0,Z=20>L?(P[0]*Math.pow(10,P[1])).toFixed(L):0,P[1]=0)}U=(Math.abs(P[1]?P[0]:Z)+Math.pow(10,-Math.max(L,S)-1)).toFixed(L),S=String(z(U));const E=3<S.length?S.length%3:0;return O=I(O,M.decimalPoint),G=I(G,M.thousandsSep),Z=(0>Z?"-":"")+(E?S.substr(0,E)+G:""),Z=0>+P[1]&&!H?"0":Z+S.substr(E).replace(/(\d{3})(?=\d)/g,"$1"+G),L&&(Z+=O+U.slice(-L)),P[1]&&+Z!=0&&(Z+="e"+P[1]),Z}const{defaultOptions:s,defaultTime:b}=o,{getNestedProperty:R,isNumber:J,pick:I,pInt:z}=d;return{dateFormat:function(Z,L,O){return b.dateFormat(Z,L,O)},format:function(Z,L,O){var G="{";let M=!1,S;const P=/f$/,H=/\.([0-9])/,U=s.lang,E=O&&O.time||b;O=O&&O.numberFormatter||h;const ie=[];for(;Z&&(S=Z.indexOf(G),S!==-1);){var te=Z.slice(0,S);if(M){if(te=te.split(":"),G=R(te.shift()||"",L),te.length&&typeof G=="number")if(te=te.join(":"),P.test(te)){const $=parseInt((te.match(H)||["","-1"])[1],10);G!==null&&(G=O(G,$,U.decimalPoint,-1<te.indexOf(",")?U.thousandsSep:""))}else G=E.dateFormat(te,G);ie.push(G)}else ie.push(te);Z=Z.slice(S+1),G=(M=!M)?"}":"{"}return ie.push(Z),ie.join("")},numberFormat:h}}),n(r,"Core/Renderer/RendererUtilities.js",[r["Core/Utilities.js"]],function(o){const{clamp:d,pick:h,stableSort:s}=o;var b;return function(R){function J(I,z,Z){const L=I;var O=L.reducedLen||z,G=(E,ie)=>(ie.rank||0)-(E.rank||0);const M=(E,ie)=>E.target-ie.target;let S,P=!0,H=[],U=0;for(S=I.length;S--;)U+=I[S].size;if(U>O){for(s(I,G),U=S=0;U<=O;)U+=I[S].size,S++;H=I.splice(S-1,I.length)}for(s(I,M),I=I.map(E=>({size:E.size,targets:[E.target],align:h(E.align,.5)}));P;){for(S=I.length;S--;)O=I[S],G=(Math.min.apply(0,O.targets)+Math.max.apply(0,O.targets))/2,O.pos=d(G-O.size*O.align,0,z-O.size);for(S=I.length,P=!1;S--;)0<S&&I[S-1].pos+I[S-1].size>I[S].pos&&(I[S-1].size+=I[S].size,I[S-1].targets=I[S-1].targets.concat(I[S].targets),I[S-1].align=.5,I[S-1].pos+I[S-1].size>z&&(I[S-1].pos=z-I[S-1].size),I.splice(S,1),P=!0)}return L.push.apply(L,H),S=0,I.some(E=>{let ie=0;return(E.targets||[]).some(()=>(L[S].pos=E.pos+ie,typeof Z<"u"&&Math.abs(L[S].pos-L[S].target)>Z?(L.slice(0,S+1).forEach(te=>delete te.pos),L.reducedLen=(L.reducedLen||z)-.1*z,L.reducedLen>.1*z&&J(L,z,Z),!0):(ie+=L[S].size,S++,!1)))}),s(L,M),L}R.distribute=J}(b||(b={})),b}),n(r,"Core/Renderer/SVG/SVGElement.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d,h,s){const{animate:b,animObject:R,stop:J}=o,{deg2rad:I,doc:z,svg:Z,SVG_NS:L,win:O}=h,{addEvent:G,attr:M,createElement:S,css:P,defined:H,erase:U,extend:E,fireEvent:ie,isArray:te,isFunction:$,isObject:V,isString:j,merge:w,objectEach:D,pick:m,pInt:g,syncTimeout:x,uniqueKey:k}=s;class q{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=L}_defaultGetter(K){return K=m(this[K+"Value"],this[K],this.element?this.element.getAttribute(K):null,0),/^[\-0-9\.]+$/.test(K)&&(K=parseFloat(K)),K}_defaultSetter(K,le,he){he.setAttribute(le,K)}add(K){const le=this.renderer,he=this.element;let pe;return K&&(this.parentGroup=K),typeof this.textStr<"u"&&this.element.nodeName==="text"&&le.buildText(this),this.added=!0,(!K||K.handleZ||this.zIndex)&&(pe=this.zIndexSetter()),pe||(K?K.element:le.box).appendChild(he),this.onAdd&&this.onAdd(),this}addClass(K,le){const he=le?"":this.attr("class")||"";return K=(K||"").split(/ /g).reduce(function(pe,F){return he.indexOf(F)===-1&&pe.push(F),pe},he?[he]:[]).join(" "),K!==he&&this.attr("class",K),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(K,le,he){const pe={};var F=this.renderer,Q=F.alignedObjects,ce;let ge,ke;K?(this.alignOptions=K,this.alignByTranslate=le,(!he||j(he))&&(this.alignTo=ce=he||"renderer",U(Q,this),Q.push(this),he=void 0)):(K=this.alignOptions,le=this.alignByTranslate,ce=this.alignTo),he=m(he,F[ce],ce==="scrollablePlotBox"?F.plotBox:void 0,F),ce=K.align;const re=K.verticalAlign;return F=(he.x||0)+(K.x||0),Q=(he.y||0)+(K.y||0),ce==="right"?ge=1:ce==="center"&&(ge=2),ge&&(F+=(he.width-(K.width||0))/ge),pe[le?"translateX":"x"]=Math.round(F),re==="bottom"?ke=1:re==="middle"&&(ke=2),ke&&(Q+=(he.height-(K.height||0))/ke),pe[le?"translateY":"y"]=Math.round(Q),this[this.placed?"animate":"attr"](pe),this.placed=!0,this.alignAttr=pe,this}alignSetter(K){const le={left:"start",center:"middle",right:"end"};le[K]&&(this.alignValue=K,this.element.setAttribute("text-anchor",le[K]))}animate(K,le,he){const pe=R(m(le,this.renderer.globalAnimation,!0));return le=pe.defer,z.hidden&&(pe.duration=0),pe.duration!==0?(he&&(pe.complete=he),x(()=>{this.element&&b(this,K,pe)},le)):(this.attr(K,void 0,he||pe.complete),D(K,function(F,Q){pe.step&&pe.step.call(this,F,{prop:Q,pos:1,elem:this})},this)),this}applyTextOutline(K){const le=this.element;K.indexOf("contrast")!==-1&&(K=K.replace(/contrast/g,this.renderer.getContrast(le.style.fill)));var he=K.split(" ");if(K=he[he.length-1],(he=he[0])&&he!=="none"&&h.svg){this.fakeTS=!0,he=he.replace(/(^[\d\.]+)(.*?)$/g,function(Q,ce,ge){return 2*Number(ce)+ge}),this.removeTextOutline();const pe=z.createElementNS(L,"tspan");M(pe,{class:"highcharts-text-outline",fill:K,stroke:K,"stroke-width":he,"stroke-linejoin":"round"}),K=le.querySelector("textPath")||le,[].forEach.call(K.childNodes,Q=>{const ce=Q.cloneNode(!0);ce.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(ge=>ce.removeAttribute(ge)),pe.appendChild(ce)});let F=0;[].forEach.call(K.querySelectorAll("text tspan"),Q=>{F+=Number(Q.getAttribute("dy"))}),he=z.createElementNS(L,"tspan"),he.textContent="​",M(he,{x:Number(le.getAttribute("x")),dy:-F}),pe.appendChild(he),K.insertBefore(pe,K.firstChild)}}attr(K,le,he,pe){const F=this.element,Q=q.symbolCustomAttribs;let ce,ge,ke=this,re,ve;return typeof K=="string"&&typeof le<"u"&&(ce=K,K={},K[ce]=le),typeof K=="string"?ke=(this[K+"Getter"]||this._defaultGetter).call(this,K,F):(D(K,function(_e,oe){re=!1,pe||J(this,oe),this.symbolName&&Q.indexOf(oe)!==-1&&(ge||(this.symbolAttr(K),ge=!0),re=!0),!this.rotation||oe!=="x"&&oe!=="y"||(this.doTransform=!0),re||(ve=this[oe+"Setter"]||this._defaultSetter,ve.call(this,_e,oe,F))},this),this.afterSetters()),he&&he.call(this),ke}clip(K){return this.attr("clip-path",K?"url("+this.renderer.url+"#"+K.id+")":"none")}crisp(K,le){le=le||K.strokeWidth||0;const he=Math.round(le)%2/2;return K.x=Math.floor(K.x||this.x||0)+he,K.y=Math.floor(K.y||this.y||0)+he,K.width=Math.floor((K.width||this.width||0)-2*he),K.height=Math.floor((K.height||this.height||0)-2*he),H(K.strokeWidth)&&(K.strokeWidth=le),K}complexColor(K,le,he){const pe=this.renderer;let F,Q,ce,ge,ke,re,ve,_e,oe,ye,Te=[],Oe;ie(this.renderer,"complexColor",{args:arguments},function(){if(K.radialGradient?Q="radialGradient":K.linearGradient&&(Q="linearGradient"),Q){if(ce=K[Q],ke=pe.gradients,re=K.stops,oe=he.radialReference,te(ce)&&(K[Q]=ce={x1:ce[0],y1:ce[1],x2:ce[2],y2:ce[3],gradientUnits:"userSpaceOnUse"}),Q==="radialGradient"&&oe&&!H(ce.gradientUnits)&&(ge=ce,ce=w(ce,pe.getRadialAttr(oe,ge),{gradientUnits:"userSpaceOnUse"})),D(ce,function(Le,Ue){Ue!=="id"&&Te.push(Ue,Le)}),D(re,function(Le){Te.push(Le)}),Te=Te.join(","),ke[Te])ye=ke[Te].attr("id");else{ce.id=ye=k();const Le=ke[Te]=pe.createElement(Q).attr(ce).add(pe.defs);Le.radAttr=ge,Le.stops=[],re.forEach(function(Ue){Ue[1].indexOf("rgba")===0?(F=d.parse(Ue[1]),ve=F.get("rgb"),_e=F.get("a")):(ve=Ue[1],_e=1),Ue=pe.createElement("stop").attr({offset:Ue[0],"stop-color":ve,"stop-opacity":_e}).add(Le),Le.stops.push(Ue)})}Oe="url("+pe.url+"#"+ye+")",he.setAttribute(le,Oe),he.gradient=Te,K.toString=function(){return Oe}}})}css(K){const le=this.styles,he={},pe=this.element;let F,Q=!le;if(K.color&&(K.fill=K.color),le&&D(K,function(ce,ge){le&&le[ge]!==ce&&(he[ge]=ce,Q=!0)}),Q){le&&(K=E(le,he)),K.width===null||K.width==="auto"?delete this.textWidth:pe.nodeName.toLowerCase()==="text"&&K.width&&(F=this.textWidth=g(K.width)),this.styles=K,F&&!Z&&this.renderer.forExport&&delete K.width;const ce=w(K);pe.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(ge=>ce&&delete ce[ge]),P(pe,ce)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),K.textOutline&&this.applyTextOutline(K.textOutline)),this}dashstyleSetter(K){let le=this["stroke-width"];if(le==="inherit"&&(le=1),K=K&&K.toLowerCase()){const he=K.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(K=he.length;K--;)he[K]=""+g(he[K])*m(le,NaN);K=he.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",K)}}destroy(){const K=this;var le=K.element||{};const he=K.renderer;var pe=le.ownerSVGElement;let F=le.nodeName==="SPAN"&&K.parentGroup||void 0;if(le.onclick=le.onmouseout=le.onmouseover=le.onmousemove=le.point=null,J(K),K.clipPath&&pe){const Q=K.clipPath;[].forEach.call(pe.querySelectorAll("[clip-path],[CLIP-PATH]"),function(ce){-1<ce.getAttribute("clip-path").indexOf(Q.element.id)&&ce.removeAttribute("clip-path")}),K.clipPath=Q.destroy()}if(K.stops){for(pe=0;pe<K.stops.length;pe++)K.stops[pe].destroy();K.stops.length=0,K.stops=void 0}for(K.safeRemoveChild(le);F&&F.div&&F.div.childNodes.length===0;)le=F.parentGroup,K.safeRemoveChild(F.div),delete F.div,F=le;K.alignTo&&U(he.alignedObjects,K),D(K,function(Q,ce){K[ce]&&K[ce].parentGroup===K&&K[ce].destroy&&K[ce].destroy(),delete K[ce]})}dSetter(K,le,he){te(K)&&(typeof K[0]=="string"&&(K=this.renderer.pathToSegments(K)),this.pathArray=K,K=K.reduce((pe,F,Q)=>F&&F.join?(Q?pe+" ":"")+F.join(" "):(F||"").toString(),"")),/(NaN| {2}|^$)/.test(K)&&(K="M 0 0"),this[le]!==K&&(he.setAttribute(le,K),this[le]=K)}fadeOut(K){const le=this;le.animate({opacity:0},{duration:m(K,150),complete:function(){le.hide()}})}fillSetter(K,le,he){typeof K=="string"?he.setAttribute(le,K):K&&this.complexColor(K,le,he)}getBBox(K,le){const{alignValue:he,element:pe,renderer:F,styles:Q,textStr:ce}=this,{cache:ge,cacheKeys:ke}=F;var re=pe.namespaceURI===this.SVG_NS;le=m(le,this.rotation,0);var ve=F.styledMode?pe&&q.prototype.getStyle.call(pe,"font-size"):Q&&Q.fontSize;let _e,oe;if(H(ce)&&(oe=ce.toString(),oe.indexOf("<")===-1&&(oe=oe.replace(/[0-9]/g,"0")),oe+=["",F.rootFontSize,ve,le,this.textWidth,he,Q&&Q.textOverflow,Q&&Q.fontWeight].join()),oe&&!K&&(_e=ge[oe]),!_e){if(re||F.forExport){try{var ye=this.fakeTS&&function(nt){const Qe=pe.querySelector(".highcharts-text-outline");Qe&&P(Qe,{display:nt})};$(ye)&&ye("none"),_e=pe.getBBox?E({},pe.getBBox()):{width:pe.offsetWidth,height:pe.offsetHeight,x:0,y:0},$(ye)&&ye("")}catch{}(!_e||0>_e.width)&&(_e={x:0,y:0,width:0,height:0})}else _e=this.htmlGetBBox();if(ye=_e.width,K=_e.height,re&&(_e.height=K={"11px,17":14,"13px,20":16}[`${ve||""},${Math.round(K)}`]||K),le){re=Number(pe.getAttribute("y")||0)-_e.y,ve={right:1,center:.5}[he||0]||0;var Te=le*I,Oe=(le-90)*I,Le=ye*Math.cos(Te);le=ye*Math.sin(Te);var Ue=Math.cos(Oe);Te=Math.sin(Oe),ye=_e.x+ve*(ye-Le)+re*Ue,Oe=ye+Le,Ue=Oe-K*Ue,Le=Ue-Le,re=_e.y+re-ve*le+re*Te,ve=re+le,K=ve-K*Te,le=K-le,_e.x=Math.min(ye,Oe,Ue,Le),_e.y=Math.min(re,ve,K,le),_e.width=Math.max(ye,Oe,Ue,Le)-_e.x,_e.height=Math.max(re,ve,K,le)-_e.y}}if(oe&&(ce===""||0<_e.height)){for(;250<ke.length;)delete ge[ke.shift()];ge[oe]||ke.push(oe),ge[oe]=_e}return _e}getStyle(K){return O.getComputedStyle(this.element||this,"").getPropertyValue(K)}hasClass(K){return(""+this.attr("class")).split(" ").indexOf(K)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(K,le){this.element=le==="span"?S(le):z.createElementNS(this.SVG_NS,le),this.renderer=K,ie(this,"afterInit")}on(K,le){const{onEvents:he}=this;return he[K]&&he[K](),he[K]=G(this.element,K,le),this}opacitySetter(K,le,he){this.opacity=K=Number(Number(K).toFixed(3)),he.setAttribute(le,K)}removeClass(K){return this.attr("class",(""+this.attr("class")).replace(j(K)?new RegExp(`(^| )${K}( |$)`):K," ").replace(/ +/g," ").trim())}removeTextOutline(){const K=this.element.querySelector("tspan.highcharts-text-outline");K&&this.safeRemoveChild(K)}safeRemoveChild(K){const le=K.parentNode;le&&le.removeChild(K)}setRadialReference(K){const le=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=K,le&&le.radAttr&&le.animate(this.renderer.getRadialAttr(K,le.radAttr)),this}setTextPath(K,le){le=w(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},le);const he=this.renderer.url,pe=this.text||this,F=pe.textPath,{attributes:Q,enabled:ce}=le;return K=K||F&&F.path,F&&F.undo(),K&&ce?(le=G(pe,"afterModifyTree",ge=>{if(K&&ce){let re=K.attr("id");re||K.attr("id",re=k());var ke={x:0,y:0};H(Q.dx)&&(ke.dx=Q.dx,delete Q.dx),H(Q.dy)&&(ke.dy=Q.dy,delete Q.dy),pe.attr(ke),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),ke=ge.nodes.slice(0),ge.nodes.length=0,ge.nodes[0]={tagName:"textPath",attributes:E(Q,{"text-anchor":Q.textAnchor,href:`${he}#${re}`}),children:ke}}}),pe.textPath={path:K,undo:le}):(pe.attr({dx:0,dy:0}),delete pe.textPath),this.added&&(pe.textCache="",this.renderer.buildText(pe)),this}shadow(K){var le;const{renderer:he}=this,pe=w(((le=this.parentGroup)===null||le===void 0?void 0:le.rotation)===90?{offsetX:-1,offsetY:-1}:{},V(K)?K:{});return le=he.shadowDefinition(pe),this.attr({filter:K?`url(${he.url}#${le})`:"none"})}show(K=!0){return this.attr({visibility:K?"inherit":"visible"})}"stroke-widthSetter"(K,le,he){this[le]=K,he.setAttribute(le,K)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const K=this.getStyle("stroke-width");let le=0,he;return K.indexOf("px")===K.length-2?le=g(K):K!==""&&(he=z.createElementNS(L,"rect"),M(he,{width:K,"stroke-width":0}),this.element.parentNode.appendChild(he),le=he.getBBox().width,he.parentNode.removeChild(he)),le}symbolAttr(K){const le=this;q.symbolCustomAttribs.forEach(function(he){le[he]=m(K[he],le[he])}),le.attr({d:le.renderer.symbols[le.symbolName](le.x,le.y,le.width,le.height,le)})}textSetter(K){K!==this.textStr&&(delete this.textPxLength,this.textStr=K,this.added&&this.renderer.buildText(this))}titleSetter(K){const le=this.element,he=le.getElementsByTagName("title")[0]||z.createElementNS(this.SVG_NS,"title");le.insertBefore?le.insertBefore(he,le.firstChild):le.appendChild(he),he.textContent=String(m(K,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const K=this.element;return K.parentNode.appendChild(K),this}translate(K,le){return this.attr({translateX:K,translateY:le})}updateTransform(){const{element:K,matrix:le,rotation:he=0,scaleX:pe,scaleY:F,translateX:Q=0,translateY:ce=0}=this,ge=["translate("+Q+","+ce+")"];H(le)&&ge.push("matrix("+le.join(",")+")"),he&&ge.push("rotate("+he+" "+m(this.rotationOriginX,K.getAttribute("x"),0)+" "+m(this.rotationOriginY,K.getAttribute("y")||0)+")"),(H(pe)||H(F))&&ge.push("scale("+m(pe,1)+" "+m(F,1)+")"),ge.length&&!(this.text||this).textPath&&K.setAttribute("transform",ge.join(" "))}visibilitySetter(K,le,he){K==="inherit"?he.removeAttribute(le):this[le]!==K&&he.setAttribute(le,K),this[le]=K}xGetter(K){return this.element.nodeName==="circle"&&(K==="x"?K="cx":K==="y"&&(K="cy")),this._defaultGetter(K)}zIndexSetter(K,le){var he=this.renderer,pe=this.parentGroup;const F=(pe||he).element||he.box,Q=this.element;he=F===he.box;let ce=!1,ge;var ke=this.added;let re;if(H(K)?(Q.setAttribute("data-z-index",K),K=+K,this[le]===K&&(ke=!1)):H(this[le])&&Q.removeAttribute("data-z-index"),this[le]=K,ke){for((K=this.zIndex)&&pe&&(pe.handleZ=!0),le=F.childNodes,re=le.length-1;0<=re&&!ce;re--)pe=le[re],ke=pe.getAttribute("data-z-index"),ge=!H(ke),pe!==Q&&(0>K&&ge&&!he&&!re?(F.insertBefore(Q,le[re]),ce=!0):(g(ke)<=K||ge&&(!H(K)||0<=K))&&(F.insertBefore(Q,le[re+1]),ce=!0));ce||(F.insertBefore(Q,le[he?3:0]),ce=!0)}return ce}}return q.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),q.prototype.strokeSetter=q.prototype.fillSetter,q.prototype.yGetter=q.prototype.xGetter,q.prototype.matrixSetter=q.prototype.rotationOriginXSetter=q.prototype.rotationOriginYSetter=q.prototype.rotationSetter=q.prototype.scaleXSetter=q.prototype.scaleYSetter=q.prototype.translateXSetter=q.prototype.translateYSetter=q.prototype.verticalAlignSetter=function(Y,K){this[K]=Y,this.doTransform=!0},q}),n(r,"Core/Renderer/RendererRegistry.js",[r["Core/Globals.js"]],function(o){var d;return function(h){h.rendererTypes={};let s;h.getRendererType=function(b=s){return h.rendererTypes[b]||h.rendererTypes[s]},h.registerRendererType=function(b,R,J){h.rendererTypes[b]=R,(!s||J)&&(s=b,o.Renderer=R)}}(d||(d={})),d}),n(r,"Core/Renderer/SVG/SVGLabel.js",[r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(o,d){const{defined:h,extend:s,isNumber:b,merge:R,pick:J,removeEvent:I}=d;class z extends o{constructor(L,O,G,M,S,P,H,U,E,ie){super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(L,"g"),this.textStr=O,this.x=G,this.y=M,this.anchorX=P,this.anchorY=H,this.baseline=E,this.className=ie,this.addClass(ie==="button"?"highcharts-no-tooltip":"highcharts-label"),ie&&this.addClass("highcharts-"+ie),this.text=L.text(void 0,0,0,U).attr({zIndex:1});let te;typeof S=="string"&&((te=/^url\((.*?)\)$/.test(S))||this.renderer.symbols[S])&&(this.symbolKey=S),this.bBox=z.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=L.styledMode||te,this.deferredAttr={},this.alignFactor=0}alignSetter(L){L={left:0,center:.5,right:1}[L],L!==this.alignFactor&&(this.alignFactor=L,this.bBox&&b(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(L,O){this.anchorX=L,this.boxAttr(O,Math.round(L)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(L,O){this.anchorY=L,this.boxAttr(O,L-this.ySetting)}boxAttr(L,O){this.box?this.box.attr(L,O):this.deferredAttr[L]=O}css(L){if(L){const O={};L=R(L),z.textProps.forEach(G=>{typeof L[G]<"u"&&(O[G]=L[G],delete L[G])}),this.text.css(O),"fontSize"in O||"fontWeight"in O?this.updateTextPadding():("width"in O||"textOverflow"in O)&&this.updateBoxSize()}return o.prototype.css.call(this,L)}destroy(){I(this.element,"mouseenter"),I(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),o.prototype.destroy.call(this)}fillSetter(L,O){L&&(this.needsBox=!0),this.fill=L,this.boxAttr(O,L)}getBBox(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();const L=this.padding,O=J(this.paddingLeft,L);return{width:this.width,height:this.height,x:this.bBox.x-O,y:this.bBox.y-L}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(L){this.heightSetting=L}onAdd(){this.text.add(this),this.attr({text:J(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&h(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(L,O){b(L)?L!==this[O]&&(this[O]=L,this.updateTextPadding()):this[O]=void 0}rSetter(L,O){this.boxAttr(O,L)}strokeSetter(L,O){this.stroke=L,this.boxAttr(O,L)}"stroke-widthSetter"(L,O){L&&(this.needsBox=!0),this["stroke-width"]=L,this.boxAttr(O,L)}"text-alignSetter"(L){this.textAlign=L}textSetter(L){typeof L<"u"&&this.text.attr({text:L}),this.updateTextPadding()}updateBoxSize(){var L=this.text;const O={},G=this.padding,M=this.bBox=b(this.widthSetting)&&b(this.heightSetting)&&!this.textAlign||!h(L.textStr)?z.emptyBBox:L.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||M.height||0)+2*G;const S=this.renderer.fontMetrics(L);this.baselineOffset=G+Math.min((this.text.firstLineMetrics||S).b,M.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-S.h)/2),this.needsBox&&!L.textPath&&(this.box||(L=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),L.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),L.add(this)),L=this.getCrispAdjust(),O.x=L,O.y=(this.baseline?-this.baselineOffset:0)+L,O.width=Math.round(this.width),O.height=Math.round(this.height),this.box.attr(s(O,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const L=this.text;if(!L.textPath){this.updateBoxSize();const O=this.baseline?0:this.baselineOffset;let G=J(this.paddingLeft,this.padding);h(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(G+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(G!==L.x||O!==L.y)&&(L.attr("x",G),L.hasBoxWidthChanged&&(this.bBox=L.getBBox(!0)),typeof O<"u"&&L.attr("y",O)),L.x=G,L.y=O}}widthSetter(L){this.widthSetting=b(L)?L:void 0}getPaddedWidth(){var L=this.padding;const O=J(this.paddingLeft,L);return L=J(this.paddingRight,L),(this.widthSetting||this.bBox.width||0)+O+L}xSetter(L){this.x=L,this.alignFactor&&(L-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(L),this.attr("translateX",this.xSetting)}ySetter(L){this.ySetting=this.y=Math.round(L),this.attr("translateY",this.ySetting)}}return z.emptyBBox={width:0,height:0,x:0,y:0},z.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),z}),n(r,"Core/Renderer/SVG/Symbols.js",[r["Core/Utilities.js"]],function(o){function d(I,z,Z,L,O){const G=[];if(O){const M=O.start||0,S=J(O.r,Z);Z=J(O.r,L||Z),L=(O.end||0)-.001;const P=O.innerR,H=J(O.open,.001>Math.abs((O.end||0)-M-2*Math.PI)),U=Math.cos(M),E=Math.sin(M),ie=Math.cos(L),te=Math.sin(L),$=J(O.longArc,.001>L-M-Math.PI?0:1);let V=["A",S,Z,0,$,J(O.clockwise,1),I+S*ie,z+Z*te];V.params={start:M,end:L,cx:I,cy:z},G.push(["M",I+S*U,z+Z*E],V),b(P)&&(V=["A",P,P,0,$,b(O.clockwise)?1-O.clockwise:0,I+P*U,z+P*E],V.params={start:L,end:M,cx:I,cy:z},G.push(H?["M",I+P*ie,z+P*te]:["L",I+P*ie,z+P*te],V)),H||G.push(["Z"])}return G}function h(I,z,Z,L,O){return O&&O.r?s(I,z,Z,L,O):[["M",I,z],["L",I+Z,z],["L",I+Z,z+L],["L",I,z+L],["Z"]]}function s(I,z,Z,L,O){return O=(O==null?void 0:O.r)||0,[["M",I+O,z],["L",I+Z-O,z],["A",O,O,0,0,1,I+Z,z+O],["L",I+Z,z+L-O],["A",O,O,0,0,1,I+Z-O,z+L],["L",I+O,z+L],["A",O,O,0,0,1,I,z+L-O],["L",I,z+O],["A",O,O,0,0,1,I+O,z],["Z"]]}const{defined:b,isNumber:R,pick:J}=o;return{arc:d,callout:function(I,z,Z,L,O){const G=Math.min(O&&O.r||0,Z,L),M=G+6,S=O&&O.anchorX;O=O&&O.anchorY||0;const P=s(I,z,Z,L,{r:G});return R(S)&&(I+S>=Z?O>z+M&&O<z+L-M?P.splice(3,1,["L",I+Z,O-6],["L",I+Z+6,O],["L",I+Z,O+6],["L",I+Z,z+L-G]):P.splice(3,1,["L",I+Z,L/2],["L",S,O],["L",I+Z,L/2],["L",I+Z,z+L-G]):0>=I+S?O>z+M&&O<z+L-M?P.splice(7,1,["L",I,O+6],["L",I-6,O],["L",I,O-6],["L",I,z+G]):P.splice(7,1,["L",I,L/2],["L",S,O],["L",I,L/2],["L",I,z+G]):O&&O>L&&S>I+M&&S<I+Z-M?P.splice(5,1,["L",S+6,z+L],["L",S,z+L+6],["L",S-6,z+L],["L",I+G,z+L]):O&&0>O&&S>I+M&&S<I+Z-M&&P.splice(1,1,["L",S-6,z],["L",S,z-6],["L",S+6,z],["L",Z-G,z])),P},circle:function(I,z,Z,L){return d(I+Z/2,z+L/2,Z/2,L/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(I,z,Z,L){return[["M",I+Z/2,z],["L",I+Z,z+L/2],["L",I+Z/2,z+L],["L",I,z+L/2],["Z"]]},rect:h,roundedRect:s,square:h,triangle:function(I,z,Z,L){return[["M",I+Z/2,z],["L",I+Z,z+L],["L",I,z+L],["Z"]]},"triangle-down":function(I,z,Z,L){return[["M",I,z],["L",I+Z,z],["L",I+Z/2,z+L],["Z"]]}}}),n(r,"Core/Renderer/SVG/TextBuilder.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d,h){const{doc:s,SVG_NS:b,win:R}=d,{attr:J,extend:I,fireEvent:z,isString:Z,objectEach:L,pick:O}=h;class G{constructor(S){const P=S.styles;this.renderer=S.renderer,this.svgElement=S,this.width=S.textWidth,this.textLineHeight=P&&P.lineHeight,this.textOutline=P&&P.textOutline,this.ellipsis=!(!P||P.textOverflow!=="ellipsis"),this.noWrap=!(!P||P.whiteSpace!=="nowrap")}buildSVG(){const S=this.svgElement,P=S.element;var H=S.renderer,U=O(S.textStr,"").toString();const E=U.indexOf("<")!==-1,ie=P.childNodes;H=!S.added&&H.box;const te=/<br.*?>/g;var $=[U,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,S.getStyle("font-size"),this.width].join();if($!==S.textCache){for(S.textCache=$,delete S.actualWidth,$=ie.length;$--;)P.removeChild(ie[$]);E||this.ellipsis||this.width||S.textPath||U.indexOf(" ")!==-1&&(!this.noWrap||te.test(U))?U!==""&&(H&&H.appendChild(P),U=new o(U),this.modifyTree(U.nodes),U.addToDOM(P),this.modifyDOM(),this.ellipsis&&(P.textContent||"").indexOf("…")!==-1&&S.attr("title",this.unescapeEntities(S.textStr||"",["&lt;","&gt;"])),H&&H.removeChild(P)):P.appendChild(s.createTextNode(this.unescapeEntities(U))),Z(this.textOutline)&&S.applyTextOutline&&S.applyTextOutline(this.textOutline)}}modifyDOM(){const S=this.svgElement,P=J(S.element,"x");S.firstLineMetrics=void 0;let H;for(;(H=S.element.firstChild)&&/^[\s\u200B]*$/.test(H.textContent||" ");)S.element.removeChild(H);[].forEach.call(S.element.querySelectorAll("tspan.highcharts-br"),(te,$)=>{te.nextSibling&&te.previousSibling&&($===0&&te.previousSibling.nodeType===1&&(S.firstLineMetrics=S.renderer.fontMetrics(te.previousSibling)),J(te,{dy:this.getLineHeight(te.nextSibling),x:P}))});const U=this.width||0;if(U){var E=(te,$)=>{var V=te.textContent||"";const j=V.replace(/([^\^])-/g,"$1- ").split(" ");var w=!this.noWrap&&(1<j.length||1<S.element.childNodes.length);const D=this.getLineHeight($);let m=0,g=S.actualWidth;if(this.ellipsis)V&&this.truncate(te,V,void 0,0,Math.max(0,U-.8*D),(x,k)=>x.substring(0,k)+"…");else if(w){for(V=[],w=[];$.firstChild&&$.firstChild!==te;)w.push($.firstChild),$.removeChild($.firstChild);for(;j.length;)j.length&&!this.noWrap&&0<m&&(V.push(te.textContent||""),te.textContent=j.join(" ").replace(/- /g,"-")),this.truncate(te,void 0,j,m===0&&g||0,U,(x,k)=>j.slice(0,k).join(" ").replace(/- /g,"-")),g=S.actualWidth,m++;w.forEach(x=>{$.insertBefore(x,te)}),V.forEach(x=>{$.insertBefore(s.createTextNode(x),te),x=s.createElementNS(b,"tspan"),x.textContent="​",J(x,{dy:D,x:P}),$.insertBefore(x,te)})}},ie=te=>{[].slice.call(te.childNodes).forEach($=>{$.nodeType===R.Node.TEXT_NODE?E($,te):($.className.baseVal.indexOf("highcharts-br")!==-1&&(S.actualWidth=0),ie($))})};ie(S.element)}}getLineHeight(S){return S=S.nodeType===R.Node.TEXT_NODE?S.parentElement:S,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(S||this.svgElement.element).h}modifyTree(S){const P=(H,U)=>{const{attributes:E={},children:ie,style:te={},tagName:$}=H,V=this.renderer.styledMode;$==="b"||$==="strong"?V?E.class="highcharts-strong":te.fontWeight="bold":($==="i"||$==="em")&&(V?E.class="highcharts-emphasized":te.fontStyle="italic"),te&&te.color&&(te.fill=te.color),$==="br"?(E.class="highcharts-br",H.textContent="​",(U=S[U+1])&&U.textContent&&(U.textContent=U.textContent.replace(/^ +/gm,""))):$==="a"&&ie&&ie.some(j=>j.tagName==="#text")&&(H.children=[{children:ie,tagName:"tspan"}]),$!=="#text"&&$!=="a"&&(H.tagName="tspan"),I(H,{attributes:E,style:te}),ie&&ie.filter(j=>j.tagName!=="#text").forEach(P)};S.forEach(P),z(this.svgElement,"afterModifyTree",{nodes:S})}truncate(S,P,H,U,E,ie){const te=this.svgElement,{rotation:$}=te,V=[];let j=H?1:0,w=(P||H||"").length,D=w,m,g;const x=function(k,q){if(k=q||k,(q=S.parentNode)&&typeof V[k]>"u"&&q.getSubStringLength)try{V[k]=U+q.getSubStringLength(0,H?k+1:k)}catch{}return V[k]};if(te.rotation=0,g=x(S.textContent.length),U+g>E){for(;j<=w;)D=Math.ceil((j+w)/2),H&&(m=ie(H,D)),g=x(D,m&&m.length-1),j===w?j=w+1:g>E?w=D-1:j=D;w===0?S.textContent="":P&&w===P.length-1||(S.textContent=m||ie(P||H,D))}H&&H.splice(0,D),te.actualWidth=g,te.rotation=$}unescapeEntities(S,P){return L(this.renderer.escapes,function(H,U){P&&P.indexOf(H)!==-1||(S=S.toString().replace(new RegExp(H,"g"),U))}),S}}return G}),n(r,"Core/Renderer/SVG/SVGRenderer.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGLabel.js"],r["Core/Renderer/SVG/Symbols.js"],r["Core/Renderer/SVG/TextBuilder.js"],r["Core/Utilities.js"]],function(o,d,h,s,b,R,J,I,z){const{charts:Z,deg2rad:L,doc:O,isFirefox:G,isMS:M,isWebKit:S,noop:P,SVG_NS:H,symbolSizes:U,win:E}=h,{addEvent:ie,attr:te,createElement:$,css:V,defined:j,destroyObjectProperties:w,extend:D,isArray:m,isNumber:g,isObject:x,isString:k,merge:q,pick:Y,pInt:K,uniqueKey:le}=z;let he;class pe{constructor(Q,ce,ge,ke,re,ve,_e){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(Q,ce,ge,ke,re,ve,_e)}init(Q,ce,ge,ke,re,ve,_e){const oe=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ye=oe.element;_e||oe.css(this.getStyle(ke)),Q.appendChild(ye),te(Q,"dir","ltr"),Q.innerHTML.indexOf("xmlns")===-1&&te(ye,"xmlns",this.SVG_NS),this.box=ye,this.boxWrapper=oe,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(O.createTextNode("Created with Highcharts 11.0.1")),this.defs=this.createElement("defs").add(),this.allowHTML=ve,this.forExport=re,this.styledMode=_e,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=oe.getStyle("font-size"),this.setSize(ce,ge,!1);let Te;G&&Q.getBoundingClientRect&&(ce=function(){V(Q,{left:0,top:0}),Te=Q.getBoundingClientRect(),V(Q,{left:Math.ceil(Te.left)-Te.left+"px",top:Math.ceil(Te.top)-Te.top+"px"})},ce(),this.unSubPixelFix=ie(E,"resize",ce))}definition(Q){return new o([Q]).addToDOM(this.defs.element)}getReferenceURL(){if((G||S)&&O.getElementsByTagName("base").length){if(!j(he)){var Q=le();Q=new o([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:Q},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${Q})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(O.body),V(Q,{position:"fixed",top:0,left:0,zIndex:9e5});const ce=O.elementFromPoint(6,6);he=(ce&&ce.id)==="hitme",O.body.removeChild(Q)}if(he)return E.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(Q){return this.style=D({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},Q)}setStyle(Q){this.boxWrapper.css(this.getStyle(Q))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const Q=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),w(this.gradients||{}),this.gradients=null,this.defs=Q.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(Q){const ce=new this.Element;return ce.init(this,Q),ce}getRadialAttr(Q,ce){return{cx:Q[0]-Q[2]/2+(ce.cx||0)*Q[2],cy:Q[1]-Q[2]/2+(ce.cy||0)*Q[2],r:(ce.r||0)*Q[2]}}shadowDefinition(Q){const ce=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(Q).map(ke=>Q[ke])].join("-").replace(/[^a-z0-9\-]/g,""),ge=q({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},Q);return this.defs.element.querySelector(`#${ce}`)||this.definition({tagName:"filter",attributes:{id:ce},children:[{tagName:"feDropShadow",attributes:{dx:ge.offsetX,dy:ge.offsetY,"flood-color":ge.color,"flood-opacity":Math.min(5*ge.opacity,1),stdDeviation:ge.width/2}}]}),ce}buildText(Q){new I(Q).buildSVG()}getContrast(Q){return Q=d.parse(Q).rgba.map(ce=>(ce/=255,.03928>=ce?ce/12.92:Math.pow((ce+.055)/1.055,2.4))),Q=.2126*Q[0]+.7152*Q[1]+.0722*Q[2],1.05/(Q+.05)>(Q+.05)/.05?"#FFFFFF":"#000000"}button(Q,ce,ge,ke,re={},ve,_e,oe,ye,Te){const Oe=this.label(Q,ce,ge,ye,void 0,void 0,Te,void 0,"button"),Le=this.styledMode;Q=re.states||{};let Ue=0;re=q(re),delete re.states;const nt=q({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},re.style);delete re.style;let Qe=o.filterUserAttributes(re);Oe.attr(q({padding:8,r:2},Qe));let ut,Me,Re;return Le||(Qe=q({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},Qe),ve=q(Qe,{fill:"#e6e6e6"},o.filterUserAttributes(ve||Q.hover||{})),ut=ve.style,delete ve.style,_e=q(Qe,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},o.filterUserAttributes(_e||Q.select||{})),Me=_e.style,delete _e.style,oe=q(Qe,{style:{color:"#cccccc"}},o.filterUserAttributes(oe||Q.disabled||{})),Re=oe.style,delete oe.style),ie(Oe.element,M?"mouseover":"mouseenter",function(){Ue!==3&&Oe.setState(1)}),ie(Oe.element,M?"mouseout":"mouseleave",function(){Ue!==3&&Oe.setState(Ue)}),Oe.setState=function(Ne){Ne!==1&&(Oe.state=Ue=Ne),Oe.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Ne||0]),Le||(Oe.attr([Qe,ve,_e,oe][Ne||0]),Ne=[nt,ut,Me,Re][Ne||0],x(Ne)&&Oe.css(Ne))},Le||(Oe.attr(Qe).css(D({cursor:"default"},nt)),Te&&Oe.text.css({pointerEvents:"none"})),Oe.on("touchstart",Ne=>Ne.stopPropagation()).on("click",function(Ne){Ue!==3&&ke.call(Oe,Ne)})}crispLine(Q,ce,ge="round"){const ke=Q[0],re=Q[1];return j(ke[1])&&ke[1]===re[1]&&(ke[1]=re[1]=Math[ge](ke[1])-ce%2/2),j(ke[2])&&ke[2]===re[2]&&(ke[2]=re[2]=Math[ge](ke[2])+ce%2/2),Q}path(Q){const ce=this.styledMode?{}:{fill:"none"};return m(Q)?ce.d=Q:x(Q)&&D(ce,Q),this.createElement("path").attr(ce)}circle(Q,ce,ge){return Q=x(Q)?Q:typeof Q>"u"?{}:{x:Q,y:ce,r:ge},ce=this.createElement("circle"),ce.xSetter=ce.ySetter=function(ke,re,ve){ve.setAttribute("c"+re,ke)},ce.attr(Q)}arc(Q,ce,ge,ke,re,ve){return x(Q)?(ke=Q,ce=ke.y,ge=ke.r,Q=ke.x):ke={innerR:ke,start:re,end:ve},Q=this.symbol("arc",Q,ce,ge,ge,ke),Q.r=ge,Q}rect(Q,ce,ge,ke,re,ve){Q=x(Q)?Q:typeof Q>"u"?{}:{x:Q,y:ce,r:re,width:Math.max(ge||0,0),height:Math.max(ke||0,0)};const _e=this.createElement("rect");return this.styledMode||(typeof ve<"u"&&(Q["stroke-width"]=ve,D(Q,_e.crisp(Q))),Q.fill="none"),_e.rSetter=function(oe,ye,Te){_e.r=oe,te(Te,{rx:oe,ry:oe})},_e.rGetter=function(){return _e.r||0},_e.attr(Q)}roundedRect(Q){return this.symbol("roundedRect").attr(Q)}setSize(Q,ce,ge){this.width=Q,this.height=ce,this.boxWrapper.animate({width:Q,height:ce},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Y(ge,!0)?void 0:0}),this.alignElements()}g(Q){const ce=this.createElement("g");return Q?ce.attr({class:"highcharts-"+Q}):ce}image(Q,ce,ge,ke,re,ve){const _e={preserveAspectRatio:"none"},oe=function(Te,Oe){Te.setAttributeNS?Te.setAttributeNS("http://www.w3.org/1999/xlink","href",Oe):Te.setAttribute("hc-svg-href",Oe)};g(ce)&&(_e.x=ce),g(ge)&&(_e.y=ge),g(ke)&&(_e.width=ke),g(re)&&(_e.height=re);const ye=this.createElement("image").attr(_e);return ce=function(Te){oe(ye.element,Q),ve.call(ye,Te)},ve?(oe(ye.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),ge=new E.Image,ie(ge,"load",ce),ge.src=Q,ge.complete&&ce({})):oe(ye.element,Q),ye}symbol(Q,ce,ge,ke,re,ve){const _e=this,oe=/^url\((.*?)\)$/,ye=oe.test(Q),Te=!ye&&(this.symbols[Q]?Q:"circle"),Oe=Te&&this.symbols[Te];let Le,Ue,nt,Qe;if(Oe)typeof ce=="number"&&(Ue=Oe.call(this.symbols,Math.round(ce||0),Math.round(ge||0),ke||0,re||0,ve)),Le=this.path(Ue),_e.styledMode||Le.attr("fill","none"),D(Le,{symbolName:Te||void 0,x:ce,y:ge,width:ke,height:re}),ve&&D(Le,ve);else if(ye){nt=Q.match(oe)[1];const ut=Le=this.image(nt);ut.imgwidth=Y(ve&&ve.width,U[nt]&&U[nt].width),ut.imgheight=Y(ve&&ve.height,U[nt]&&U[nt].height),Qe=Me=>Me.attr({width:Me.width,height:Me.height}),["width","height"].forEach(function(Me){ut[Me+"Setter"]=function(Re,Ne){this[Ne]=Re;const{alignByTranslate:Xe,element:rt,width:yt,height:$t,imgwidth:Wt,imgheight:Ci}=this;if(Re=this["img"+Ne],j(Re)){let ti=1;ve&&ve.backgroundSize==="within"&&yt&&$t?(ti=Math.min(yt/Wt,$t/Ci),te(rt,{width:Math.round(Wt*ti),height:Math.round(Ci*ti)})):rt&&rt.setAttribute(Ne,Re),Xe||this.translate(((yt||0)-Wt*ti)/2,(($t||0)-Ci*ti)/2)}}}),j(ce)&&ut.attr({x:ce,y:ge}),ut.isImg=!0,j(ut.imgwidth)&&j(ut.imgheight)?Qe(ut):(ut.attr({width:0,height:0}),$("img",{onload:function(){const Me=Z[_e.chartIndex];this.width===0&&(V(this,{position:"absolute",top:"-999em"}),O.body.appendChild(this)),U[nt]={width:this.width,height:this.height},ut.imgwidth=this.width,ut.imgheight=this.height,ut.element&&Qe(ut),this.parentNode&&this.parentNode.removeChild(this),_e.imgCount--,!_e.imgCount&&Me&&!Me.hasLoaded&&Me.onload()},src:nt}),this.imgCount++)}return Le}clipRect(Q,ce,ge,ke){const re=le()+"-",ve=this.createElement("clipPath").attr({id:re}).add(this.defs);return Q=this.rect(Q,ce,ge,ke,0).add(ve),Q.id=re,Q.clipPath=ve,Q.count=0,Q}text(Q,ce,ge,ke){const re={};return ke&&(this.allowHTML||!this.forExport)?this.html(Q,ce,ge):(re.x=Math.round(ce||0),ge&&(re.y=Math.round(ge)),j(Q)&&(re.text=Q),Q=this.createElement("text").attr(re),(!ke||this.forExport&&!this.allowHTML)&&(Q.xSetter=function(ve,_e,oe){const ye=oe.getElementsByTagName("tspan"),Te=oe.getAttribute(_e);for(let Oe=0,Le;Oe<ye.length;Oe++)Le=ye[Oe],Le.getAttribute(_e)===Te&&Le.setAttribute(_e,ve);oe.setAttribute(_e,ve)}),Q)}fontMetrics(Q){Q=K(b.prototype.getStyle.call(Q,"font-size")||0);const ce=24>Q?Q+3:Math.round(1.2*Q);return{h:ce,b:Math.round(.8*ce),f:Q}}rotCorr(Q,ce,ge){let ke=Q;return ce&&ge&&(ke=Math.max(ke*Math.cos(ce*L),4)),{x:-Q/3*Math.sin(ce*L),y:ke}}pathToSegments(Q){const ce=[],ge=[],ke={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let re=0;re<Q.length;re++)k(ge[0])&&g(Q[re])&&ge.length===ke[ge[0].toUpperCase()]&&Q.splice(re,0,ge[0].replace("M","L").replace("m","l")),typeof Q[re]=="string"&&(ge.length&&ce.push(ge.slice(0)),ge.length=0),ge.push(Q[re]);return ce.push(ge.slice(0)),ce}label(Q,ce,ge,ke,re,ve,_e,oe,ye){return new R(this,Q,ce,ge,ke,re,ve,_e,oe,ye)}alignElements(){this.alignedObjects.forEach(Q=>Q.align())}}return D(pe.prototype,{Element:b,SVG_NS:H,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:J,draw:P}),s.registerRendererType("svg",pe,!0),pe}),n(r,"Core/Renderer/HTML/HTMLElement.js",[r["Core/Globals.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(o,d,h){const{isFirefox:s,isMS:b,isWebKit:R,win:J}=o,{css:I,defined:z,extend:Z,pick:L,pInt:O}=h,G=[];class M extends d{static compose(P){if(h.pushUnique(G,P)){const H=M.prototype,U=P.prototype;U.getSpanCorrection=H.getSpanCorrection,U.htmlCss=H.htmlCss,U.htmlGetBBox=H.htmlGetBBox,U.htmlUpdateTransform=H.htmlUpdateTransform,U.setSpanRotation=H.setSpanRotation}return P}getSpanCorrection(P,H,U){this.xCorr=-P*U,this.yCorr=-H}htmlCss(P){const H=this.element.tagName==="SPAN"&&P&&"width"in P,U=L(H&&P.width,void 0);let E;return H&&(delete P.width,this.textWidth=U,E=!0),P&&P.textOverflow==="ellipsis"&&(P.whiteSpace="nowrap",P.overflow="hidden"),this.styles=Z(this.styles,P),I(this.element,P),E&&this.htmlUpdateTransform(),this}htmlGetBBox(){const P=this.element;return{x:P.offsetLeft,y:P.offsetTop,width:P.offsetWidth,height:P.offsetHeight}}htmlUpdateTransform(){if(this.added){var P=this.renderer,H=this.element,U=this.x||0,E=this.y||0,ie=this.textAlign||"left",te={left:0,center:.5,right:1}[ie],$=this.styles,V=$&&$.whiteSpace;if(I(H,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),H.tagName==="SPAN"){$=this.rotation;const w=this.textWidth&&O(this.textWidth),D=[$,ie,H.innerHTML,this.textWidth,this.textAlign].join();let m=!1;if(w!==this.oldTextWidth){if(this.textPxLength)var j=this.textPxLength;else I(H,{width:"",whiteSpace:V||"nowrap"}),j=H.offsetWidth;(w>this.oldTextWidth||j>w)&&(/[ \-]/.test(H.textContent||H.innerText)||H.style.textOverflow==="ellipsis")&&(I(H,{width:j>w||$?w+"px":"auto",display:"block",whiteSpace:V||"normal"}),this.oldTextWidth=w,m=!0)}this.hasBoxWidthChanged=m,D!==this.cTT&&(P=P.fontMetrics(H).b,!z($)||$===(this.oldRotation||0)&&ie===this.oldAlign||this.setSpanRotation($,te,P),this.getSpanCorrection(!z($)&&this.textPxLength||H.offsetWidth,P,te,$,ie)),I(H,{left:U+(this.xCorr||0)+"px",top:E+(this.yCorr||0)+"px"}),this.cTT=D,this.oldRotation=$,this.oldAlign=ie}}else this.alignOnAdd=!0}setSpanRotation(P,H,U){const E={},ie=b&&!/Edge/.test(J.navigator.userAgent)?"-ms-transform":R?"-webkit-transform":s?"MozTransform":J.opera?"-o-transform":void 0;ie&&(E[ie]=E.transform="rotate("+P+"deg)",E[ie+(s?"Origin":"-origin")]=E.transformOrigin=100*H+"% "+U+"px",I(this.element,E))}}return M}),n(r,"Core/Renderer/HTML/HTMLRenderer.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Utilities.js"]],function(o,d,h,s){const{attr:b,createElement:R,extend:J,pick:I}=s,z=[];class Z extends h{static compose(O){return s.pushUnique(z,O)&&(O.prototype.html=Z.prototype.html),O}html(O,G,M){const S=this.createElement("span"),P=S.element,H=S.renderer,U=function(E,ie){["opacity","visibility"].forEach(function(te){E[te+"Setter"]=function($,V,j){const w=E.div?E.div.style:ie;d.prototype[te+"Setter"].call(this,$,V,j),w&&(w[V]=$)}}),E.addedSetters=!0};return S.textSetter=function(E){E!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,o.setElementHTML(this.element,I(E,"")),this.textStr=E,S.doTransform=!0)},U(S,S.element.style),S.xSetter=S.ySetter=S.alignSetter=S.rotationSetter=function(E,ie){ie==="align"?S.alignValue=S.textAlign=E:S[ie]=E,S.doTransform=!0},S.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},S.attr({text:O,x:Math.round(G),y:Math.round(M)}).css({position:"absolute"}),H.styledMode||S.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),P.style.whiteSpace="nowrap",S.css=S.htmlCss,S.add=function(E){const ie=H.box.parentNode,te=[];let $;if(this.parentGroup=E){if($=E.div,!$){for(;E;)te.push(E),E=E.parentGroup;te.reverse().forEach(function(V){function j(g,x){V[x]=g,x==="translateX"?m.left=g+"px":m.top=g+"px",V.doTransform=!0}const w=b(V.element,"class"),D=V.styles||{};$=V.div=V.div||R("div",w?{className:w}:void 0,{position:"absolute",left:(V.translateX||0)+"px",top:(V.translateY||0)+"px",display:V.display,opacity:V.opacity,visibility:V.visibility},$||ie);const m=$.style;J(V,{classSetter:function(g){return function(x){this.element.setAttribute("class",x),g.className=x}}($),css:function(g){return S.css.call(V,g),["cursor","pointerEvents"].forEach(x=>{g[x]&&(m[x]=g[x])}),V},on:function(){return te[0].div&&S.on.apply({element:te[0].div,onEvents:V.onEvents},arguments),V},translateXSetter:j,translateYSetter:j}),V.addedSetters||U(V),V.css(D)})}}else $=ie;return $.appendChild(P),S.added=!0,S.alignOnAdd&&S.htmlUpdateTransform(),S},S}}return Z}),n(r,"Core/Axis/AxisDefaults.js",[],function(){var o;return function(d){d.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},d.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:h}=this.axis.chart;return h(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},d.defaultLeftAxisOptions={title:{rotation:270}},d.defaultRightAxisOptions={title:{rotation:90}},d.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},d.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(o||(o={})),o}),n(r,"Core/Foundation.js",[r["Core/Utilities.js"]],function(o){const{addEvent:d,isFunction:h,objectEach:s,removeEvent:b}=o;var R;return function(J){J.registerEventOptions=function(I,z){I.eventOptions=I.eventOptions||{},s(z.events,function(Z,L){I.eventOptions[L]!==Z&&(I.eventOptions[L]&&(b(I,L,I.eventOptions[L]),delete I.eventOptions[L]),h(Z)&&(I.eventOptions[L]=Z,d(I,L,Z,{order:0})))})}}(R||(R={})),R}),n(r,"Core/Axis/Tick.js",[r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d,h){const{deg2rad:s}=d,{clamp:b,correctFloat:R,defined:J,destroyObjectProperties:I,extend:z,fireEvent:Z,isNumber:L,merge:O,objectEach:G,pick:M}=h;class S{constructor(H,U,E,ie,te){this.isNewLabel=this.isNew=!0,this.axis=H,this.pos=U,this.type=E||"",this.parameters=te||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Z(this,"init"),E||ie||this.addLabel()}addLabel(){const H=this,U=H.axis;var E=U.options;const ie=U.chart;var te=U.categories;const $=U.logarithmic,V=U.names,j=H.pos,w=M(H.options&&H.options.labels,E.labels);var D=U.tickPositions;const m=j===D[0],g=j===D[D.length-1],x=(!w.step||w.step===1)&&U.tickInterval===1;D=D.info;let k=H.label,q,Y,K;te=this.parameters.category||(te?M(te[j],V[j],j):j),$&&L(te)&&(te=R($.lin2log(te))),U.dateTime&&(D?(Y=ie.time.resolveDTLFormat(E.dateTimeLabelFormats[!E.grid&&D.higherRanks[j]||D.unitName]),q=Y.main):L(te)&&(q=U.dateTime.getXDateFormat(te,E.dateTimeLabelFormats||{}))),H.isFirst=m,H.isLast=g;const le={axis:U,chart:ie,dateTimeLabelFormat:q,isFirst:m,isLast:g,pos:j,tick:H,tickPositionInfo:D,value:te};Z(this,"labelFormat",le);const he=F=>w.formatter?w.formatter.call(F,F):w.format?(F.text=U.defaultLabelFormatter.call(F,F),o.format(w.format,F,ie)):U.defaultLabelFormatter.call(F,F);E=he.call(le,le);const pe=Y&&Y.list;H.shortenLabel=pe?function(){for(K=0;K<pe.length;K++)if(z(le,{dateTimeLabelFormat:pe[K]}),k.attr({text:he.call(le,le)}),k.getBBox().width<U.getSlotWidth(H)-2*w.padding)return;k.attr({text:""})}:void 0,x&&U._addedPlotLB&&H.moveLabel(E,w),J(k)||H.movedLabel?k&&k.textStr!==E&&!x&&(!k.textWidth||w.style.width||k.styles.width||k.css({width:null}),k.attr({text:E}),k.textPxLength=k.getBBox().width):(H.label=k=H.createLabel({x:0,y:0},E,w),H.rotation=0)}createLabel(H,U,E){const ie=this.axis,te=ie.chart;return(H=J(U)&&E.enabled?te.renderer.text(U,H.x,H.y,E.useHTML).add(ie.labelGroup):null)&&(te.styledMode||H.css(O(E.style)),H.textPxLength=H.getBBox().width),H}destroy(){I(this,this.axis)}getPosition(H,U,E,ie){const te=this.axis,$=te.chart,V=ie&&$.oldChartHeight||$.chartHeight;return H={x:H?R(te.translate(U+E,void 0,void 0,ie)+te.transB):te.left+te.offset+(te.opposite?(ie&&$.oldChartWidth||$.chartWidth)-te.right-te.left:0),y:H?V-te.bottom+te.offset-(te.opposite?te.height:0):R(V-te.translate(U+E,void 0,void 0,ie)-te.transB)},H.y=b(H.y,-1e5,1e5),Z(this,"afterGetPosition",{pos:H}),H}getLabelPosition(H,U,E,ie,te,$,V,j){const w=this.axis,D=w.transA,m=w.isLinked&&w.linkedParent?w.linkedParent.reversed:w.reversed,g=w.staggerLines,x=w.tickRotCorr||{x:0,y:0},k=ie||w.reserveSpaceDefault?0:-w.labelOffset*(w.labelAlign==="center"?.5:1),q=te.distance,Y={};return E=w.side===0?E.rotation?-q:-E.getBBox().height:w.side===2?x.y+q:Math.cos(E.rotation*s)*(x.y-E.getBBox(!1,0).height/2),J(te.y)&&(E=w.side===0&&w.horiz?te.y+E:te.y),H=H+M(te.x,[0,1,0,-1][w.side]*q)+k+x.x-($&&ie?$*D*(m?-1:1):0),U=U+E-($&&!ie?$*D*(m?1:-1):0),g&&(ie=V/(j||1)%g,w.opposite&&(ie=g-ie-1),U+=w.labelOffset/g*ie),Y.x=H,Y.y=Math.round(U),Z(this,"afterGetLabelPosition",{pos:Y,tickmarkOffset:$,index:V}),Y}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(H,U,E,ie,te,$){return $.crispLine([["M",H,U],["L",H+(te?0:-E),U+(te?E:0)]],ie)}handleOverflow(H){const U=this.axis,E=U.options.labels,ie=H.x;var te=U.chart.chartWidth,$=U.chart.spacing;const V=M(U.labelLeft,Math.min(U.pos,$[3]));$=M(U.labelRight,Math.max(U.isRadial?0:U.pos+U.len,te-$[1]));const j=this.label,w=this.rotation,D={left:0,center:.5,right:1}[U.labelAlign||j.attr("align")],m=j.getBBox().width,g=U.getSlotWidth(this),x={};let k=g,q=1,Y;w||E.overflow!=="justify"?0>w&&ie-D*m<V?Y=Math.round(ie/Math.cos(w*s)-V):0<w&&ie+D*m>$&&(Y=Math.round((te-ie)/Math.cos(w*s))):(te=ie+(1-D)*m,ie-D*m<V?k=H.x+k*(1-D)-V:te>$&&(k=$-H.x+k*D,q=-1),k=Math.min(g,k),k<g&&U.labelAlign==="center"&&(H.x+=q*(g-k-D*(g-Math.min(m,k)))),(m>k||U.autoRotation&&(j.styles||{}).width)&&(Y=k)),Y&&(this.shortenLabel?this.shortenLabel():(x.width=Math.floor(Y)+"px",(E.style||{}).textOverflow||(x.textOverflow="ellipsis"),j.css(x)))}moveLabel(H,U){const E=this;var ie=E.label;const te=E.axis;let $=!1;ie&&ie.textStr===H?(E.movedLabel=ie,$=!0,delete E.label):G(te.ticks,function(V){$||V.isNew||V===E||!V.label||V.label.textStr!==H||(E.movedLabel=V.label,$=!0,V.labelPos=E.movedLabel.xy,delete V.label)}),$||!E.labelPos&&!ie||(ie=E.labelPos||ie.xy,E.movedLabel=E.createLabel(ie,H,U),E.movedLabel&&E.movedLabel.attr({opacity:0}))}render(H,U,E){var ie=this.axis,te=ie.horiz,$=this.pos,V=M(this.tickmarkOffset,ie.tickmarkOffset);$=this.getPosition(te,$,V,U),V=$.x;const j=$.y;ie=te&&V===ie.pos+ie.len||!te&&j===ie.pos?-1:1,te=M(E,this.label&&this.label.newOpacity,1),E=M(E,1),this.isActive=!0,this.renderGridLine(U,E,ie),this.renderMark($,E,ie),this.renderLabel($,U,te,H),this.isNew=!1,Z(this,"afterRender")}renderGridLine(H,U,E){const ie=this.axis,te=ie.options,$={},V=this.pos,j=this.type,w=M(this.tickmarkOffset,ie.tickmarkOffset),D=ie.chart.renderer;let m=this.gridLine,g=te.gridLineWidth,x=te.gridLineColor,k=te.gridLineDashStyle;this.type==="minor"&&(g=te.minorGridLineWidth,x=te.minorGridLineColor,k=te.minorGridLineDashStyle),m||(ie.chart.styledMode||($.stroke=x,$["stroke-width"]=g||0,$.dashstyle=k),j||($.zIndex=1),H&&(U=0),this.gridLine=m=D.path().attr($).addClass("highcharts-"+(j?j+"-":"")+"grid-line").add(ie.gridGroup)),m&&(E=ie.getPlotLinePath({value:V+w,lineWidth:m.strokeWidth()*E,force:"pass",old:H,acrossPanes:!1}))&&m[H||this.isNew?"attr":"animate"]({d:E,opacity:U})}renderMark(H,U,E){const ie=this.axis;var te=ie.options;const $=ie.chart.renderer,V=this.type,j=ie.tickSize(V?V+"Tick":"tick"),w=H.x;H=H.y;const D=M(te[V!=="minor"?"tickWidth":"minorTickWidth"],!V&&ie.isXAxis?1:0);te=te[V!=="minor"?"tickColor":"minorTickColor"];let m=this.mark;const g=!m;j&&(ie.opposite&&(j[0]=-j[0]),m||(this.mark=m=$.path().addClass("highcharts-"+(V?V+"-":"")+"tick").add(ie.axisGroup),ie.chart.styledMode||m.attr({stroke:te,"stroke-width":D})),m[g?"attr":"animate"]({d:this.getMarkPath(w,H,j[0],m.strokeWidth()*E,ie.horiz,$),opacity:U}))}renderLabel(H,U,E,ie){var te=this.axis;const $=te.horiz,V=te.options,j=this.label,w=V.labels,D=w.step;te=M(this.tickmarkOffset,te.tickmarkOffset);const m=H.x;H=H.y;let g=!0;j&&L(m)&&(j.xy=H=this.getLabelPosition(m,H,j,$,w,te,ie,D),this.isFirst&&!this.isLast&&!V.showFirstLabel||this.isLast&&!this.isFirst&&!V.showLastLabel?g=!1:!$||w.step||w.rotation||U||E===0||this.handleOverflow(H),D&&ie%D&&(g=!1),g&&L(H.y)?(H.opacity=E,j[this.isNewLabel?"attr":"animate"](H).show(!0),this.isNewLabel=!1):(j.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const H=this.label,U=this.axis;H&&!this.isNew&&(H.animate({opacity:0},void 0,H.destroy),delete this.label),U.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}return S}),n(r,"Core/Axis/Axis.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/AxisDefaults.js"],r["Core/Color/Color.js"],r["Core/Defaults.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Axis/Tick.js"],r["Core/Utilities.js"]],function(o,d,h,s,b,R,J,I){const{animObject:z}=o,{defaultOptions:Z}=s,{registerEventOptions:L}=b,{deg2rad:O}=R,{arrayMax:G,arrayMin:M,clamp:S,correctFloat:P,defined:H,destroyObjectProperties:U,erase:E,error:ie,extend:te,fireEvent:$,isArray:V,isNumber:j,isString:w,merge:D,normalizeTickInterval:m,objectEach:g,pick:x,relativeLength:k,removeEvent:q,splat:Y,syncTimeout:K}=I,le=(pe,F)=>m(F,void 0,void 0,x(pe.options.allowDecimals,.5>F||pe.tickAmount!==void 0),!!pe.tickAmount);class he{constructor(F,Q){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(F,Q)}init(F,Q){const ce=Q.isX;this.chart=F,this.horiz=F.inverted&&!this.isZAxis?!ce:ce,this.isXAxis=ce,this.coll=this.coll||(ce?"xAxis":"yAxis"),$(this,"init",{userOptions:Q}),this.opposite=x(Q.opposite,this.opposite),this.side=x(Q.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(Q);const ge=this.options,ke=ge.labels,re=ge.type;this.userOptions=Q,this.minPixelPadding=0,this.reversed=x(ge.reversed,this.reversed),this.visible=ge.visible,this.zoomEnabled=ge.zoomEnabled,this.hasNames=re==="category"||ge.categories===!0,this.categories=ge.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=H(ge.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=ge.minRange||ge.maxZoom,this.range=ge.range,this.offset=ge.offset||0,this.min=this.max=null,Q=x(ge.crosshair,Y(F.options.tooltip.crosshairs)[ce?0:1]),this.crosshair=Q===!0?{}:Q,F.axes.indexOf(this)===-1&&(ce?F.axes.splice(F.xAxis.length,0,this):F.axes.push(this),F[this.coll].push(this)),this.series=this.series||[],F.inverted&&!this.isZAxis&&ce&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=j(ke.rotation)?ke.rotation:void 0,L(this,ge),$(this,"afterInit")}setOptions(F){this.options=D(d.defaultXAxisOptions,this.coll==="yAxis"&&d.defaultYAxisOptions,[d.defaultTopAxisOptions,d.defaultRightAxisOptions,d.defaultBottomAxisOptions,d.defaultLeftAxisOptions][this.side],D(Z[this.coll],F)),$(this,"afterSetOptions",{userOptions:F})}defaultLabelFormatter(F){var Q=this.axis;({numberFormatter:F}=this.chart);const ce=j(this.value)?this.value:NaN,ge=Q.chart.time,ke=this.dateTimeLabelFormat;var re=Z.lang;const ve=re.numericSymbols;re=re.numericSymbolMagnitude||1e3;const _e=Q.logarithmic?Math.abs(ce):Q.tickInterval;let oe=ve&&ve.length,ye;if(Q.categories)ye=`${this.value}`;else if(ke)ye=ge.dateFormat(ke,ce);else if(oe&&1e3<=_e)for(;oe--&&typeof ye>"u";)Q=Math.pow(re,oe+1),_e>=Q&&10*ce%Q===0&&ve[oe]!==null&&ce!==0&&(ye=F(ce/Q,-1)+ve[oe]);return typeof ye>"u"&&(ye=1e4<=Math.abs(ce)?F(ce,-1):F(ce,-1,void 0,"")),ye}getSeriesExtremes(){const F=this,Q=F.chart;let ce;$(this,"getSeriesExtremes",null,function(){F.hasVisibleSeries=!1,F.dataMin=F.dataMax=F.threshold=null,F.softThreshold=!F.isXAxis,F.series.forEach(function(ge){if(ge.visible||!Q.options.chart.ignoreHiddenSeries){var ke=ge.options;let re=ke.threshold,ve,_e;F.hasVisibleSeries=!0,F.positiveValuesOnly&&0>=re&&(re=null),F.isXAxis?(ke=ge.xData)&&ke.length&&(ke=F.logarithmic?ke.filter(oe=>0<oe):ke,ce=ge.getXExtremes(ke),ve=ce.min,_e=ce.max,j(ve)||ve instanceof Date||(ke=ke.filter(j),ce=ge.getXExtremes(ke),ve=ce.min,_e=ce.max),ke.length&&(F.dataMin=Math.min(x(F.dataMin,ve),ve),F.dataMax=Math.max(x(F.dataMax,_e),_e))):(ge=ge.applyExtremes(),j(ge.dataMin)&&(ve=ge.dataMin,F.dataMin=Math.min(x(F.dataMin,ve),ve)),j(ge.dataMax)&&(_e=ge.dataMax,F.dataMax=Math.max(x(F.dataMax,_e),_e)),H(re)&&(F.threshold=re),(!ke.softThreshold||F.positiveValuesOnly)&&(F.softThreshold=!1))}})}),$(this,"afterGetSeriesExtremes")}translate(F,Q,ce,ge,ke,re){const ve=this.linkedParent||this,_e=ge&&ve.old?ve.old.min:ve.min;if(!j(_e))return NaN;const oe=ve.minPixelPadding;ke=(ve.isOrdinal||ve.brokenAxis&&ve.brokenAxis.hasBreaks||ve.logarithmic&&ke)&&ve.lin2val;let ye=1,Te=0;return ge=ge&&ve.old?ve.old.transA:ve.transA,ge||(ge=ve.transA),ce&&(ye*=-1,Te=ve.len),ve.reversed&&(ye*=-1,Te-=ye*(ve.sector||ve.len)),Q?(re=(F*ye+Te-oe)/ge+_e,ke&&(re=ve.lin2val(re))):(ke&&(F=ve.val2lin(F)),F=ye*(F-_e)*ge,re=(ve.isRadial?F:P(F))+Te+ye*oe+(j(re)?ge*re:0)),re}toPixels(F,Q){return this.translate(F,!1,!this.horiz,void 0,!0)+(Q?0:this.pos)}toValue(F,Q){return this.translate(F-(Q?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(F){function Q(Ne,Xe,rt){return Ue!=="pass"&&(Ne<Xe||Ne>rt)&&(Ue?Ne=S(Ne,Xe,rt):Re=!0),Ne}const ce=this,ge=ce.chart,ke=ce.left,re=ce.top,ve=F.old,_e=F.value,oe=F.lineWidth,ye=ve&&ge.oldChartHeight||ge.chartHeight,Te=ve&&ge.oldChartWidth||ge.chartWidth,Oe=ce.transB;let Le=F.translatedValue,Ue=F.force,nt,Qe,ut,Me,Re;return F={value:_e,lineWidth:oe,old:ve,force:Ue,acrossPanes:F.acrossPanes,translatedValue:Le},$(this,"getPlotLinePath",F,function(Ne){Le=x(Le,ce.translate(_e,void 0,void 0,ve)),Le=S(Le,-1e5,1e5),nt=ut=Math.round(Le+Oe),Qe=Me=Math.round(ye-Le-Oe),j(Le)?ce.horiz?(Qe=re,Me=ye-ce.bottom,nt=ut=Q(nt,ke,ke+ce.width)):(nt=ke,ut=Te-ce.right,Qe=Me=Q(Qe,re,re+ce.height)):(Re=!0,Ue=!1),Ne.path=Re&&!Ue?null:ge.renderer.crispLine([["M",nt,Qe],["L",ut,Me]],oe||1)}),F.path}getLinearTickPositions(F,Q,ce){const ge=P(Math.floor(Q/F)*F);ce=P(Math.ceil(ce/F)*F);const ke=[];let re,ve;if(P(ge+F)===ge&&(ve=20),this.single)return[Q];for(Q=ge;Q<=ce&&(ke.push(Q),Q=P(Q+F,ve),Q!==re);)re=Q;return ke}getMinorTickInterval(){const F=this.options;return F.minorTicks===!0?x(F.minorTickInterval,"auto"):F.minorTicks===!1?null:F.minorTickInterval}getMinorTickPositions(){var F=this.options;const Q=this.tickPositions,ce=this.minorTickInterval;var ge=this.pointRangePadding||0;const ke=this.min-ge;ge=this.max+ge;const re=ge-ke;let ve=[];if(re&&re/ce<this.len/3){const _e=this.logarithmic;if(_e)this.paddedTicks.forEach(function(oe,ye,Te){ye&&ve.push.apply(ve,_e.getLogTickPositions(ce,Te[ye-1],Te[ye],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")ve=ve.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(ce),ke,ge,F.startOfWeek));else for(F=ke+(Q[0]-ke)%ce;F<=ge&&F!==ve[0];F+=ce)ve.push(F)}return ve.length!==0&&this.trimTicks(ve),ve}adjustForMinRange(){const F=this.options,Q=this.logarithmic;let ce=this.min;var ge=this.max;let ke,re=0,ve,_e,oe,ye,Te;if(this.isXAxis&&typeof this.minRange>"u"&&!Q&&(H(F.min)||H(F.max)||H(F.floor)||H(F.ceiling)?this.minRange=null:(this.series.forEach(function(Le){if(oe=Le.xData,ye=Le.xIncrement?1:oe.length-1,1<oe.length)for(ve=ye;0<ve;ve--)_e=oe[ve]-oe[ve-1],(!re||_e<re)&&(re=_e)}),this.minRange=Math.min(5*re,this.dataMax-this.dataMin))),ge-ce<this.minRange){ke=this.dataMax-this.dataMin>=this.minRange,Te=this.minRange;var Oe=(Te-ge+ce)/2;Oe=[ce-Oe,x(F.min,ce-Oe)],ke&&(Oe[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),ce=G(Oe),ge=[ce+Te,x(F.max,ce+Te)],ke&&(ge[2]=Q?Q.log2lin(this.dataMax):this.dataMax),ge=M(ge),ge-ce<Te&&(Oe[0]=ge-Te,Oe[1]=x(F.min,ge-Te),ce=G(Oe))}this.min=ce,this.max=ge}getClosest(){let F;return this.categories?F=1:this.series.forEach(function(Q){const ce=Q.closestPointRange,ge=Q.visible||!Q.chart.options.chart.ignoreHiddenSeries;!Q.noSharedTooltip&&H(ce)&&ge&&(F=H(F)?Math.min(F,ce):ce)}),F}nameToX(F){const Q=V(this.options.categories),ce=Q?this.categories:this.names;let ge=F.options.x,ke;return F.series.requireSorting=!1,H(ge)||(ge=this.options.uniqueNames&&ce?Q?ce.indexOf(F.name):x(ce.keys[F.name],-1):F.series.autoIncrement()),ge===-1?!Q&&ce&&(ke=ce.length):ke=ge,typeof ke<"u"?(this.names[ke]=F.name,this.names.keys[F.name]=ke):F.x&&(ke=F.x),ke}updateNames(){const F=this,Q=this.names;0<Q.length&&(Object.keys(Q.keys).forEach(function(ce){delete Q.keys[ce]}),Q.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(ce){ce.xIncrement=null,(!ce.points||ce.isDirtyData)&&(F.max=Math.max(F.max,ce.xData.length-1),ce.processData(),ce.generatePoints()),ce.data.forEach(function(ge,ke){let re;ge&&ge.options&&typeof ge.name<"u"&&(re=F.nameToX(ge),typeof re<"u"&&re!==ge.x&&(ge.x=re,ce.xData[ke]=re))})}))}setAxisTranslation(){const F=this,Q=F.max-F.min;var ce=F.linkedParent;const ge=!!F.categories,ke=F.isXAxis;let re=F.axisPointRange||0,ve,_e=0,oe=0,ye=F.transA;(ke||ge||re)&&(ve=F.getClosest(),ce?(_e=ce.minPointOffset,oe=ce.pointRangePadding):F.series.forEach(function(Te){const Oe=ge?1:ke?x(Te.options.pointRange,ve,0):F.axisPointRange||0,Le=Te.options.pointPlacement;re=Math.max(re,Oe),(!F.single||ge)&&(Te=Te.is("xrange")?!ke:ke,_e=Math.max(_e,Te&&w(Le)?0:Oe/2),oe=Math.max(oe,Te&&Le==="on"?0:Oe))}),ce=F.ordinal&&F.ordinal.slope&&ve?F.ordinal.slope/ve:1,F.minPointOffset=_e*=ce,F.pointRangePadding=oe*=ce,F.pointRange=Math.min(re,F.single&&ge?1:Q),ke&&(F.closestPointRange=ve)),F.translationSlope=F.transA=ye=F.staticScale||F.len/(Q+oe||1),F.transB=F.horiz?F.left:F.bottom,F.minPixelPadding=ye*_e,$(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(F){var Q=this.chart;const ce=this.logarithmic,ge=this.options,ke=this.isXAxis,re=this.isLinked,ve=ge.tickPixelInterval,_e=this.categories,oe=this.softThreshold;let ye=ge.maxPadding,Te=ge.minPadding,Oe=j(ge.tickInterval)&&0<=ge.tickInterval?ge.tickInterval:void 0,Le=j(this.threshold)?this.threshold:null,Ue,nt,Qe;if(this.dateTime||_e||re||this.getTickAmount(),nt=x(this.userMin,ge.min),Qe=x(this.userMax,ge.max),re){this.linkedParent=Q[this.coll][ge.linkedTo];var ut=this.linkedParent.getExtremes();this.min=x(ut.min,ut.dataMin),this.max=x(ut.max,ut.dataMax),ge.type!==this.linkedParent.options.type&&ie(11,1,Q)}else oe&&H(Le)&&(this.dataMin>=Le?(ut=Le,Te=0):this.dataMax<=Le&&(Ue=Le,ye=0)),this.min=x(nt,ut,this.dataMin),this.max=x(Qe,Ue,this.dataMax);if(ce&&(this.positiveValuesOnly&&!F&&0>=Math.min(this.min,x(this.dataMin,this.min))&&ie(10,1,Q),this.min=P(ce.log2lin(this.min),16),this.max=P(ce.log2lin(this.max),16)),this.range&&H(this.max)&&(this.userMin=this.min=nt=Math.max(this.dataMin,this.minFromRange()),this.userMax=Qe=this.max,this.range=null),$(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(_e||this.axisPointRange||this.stacking&&this.stacking.usePercentage||re)&&H(this.min)&&H(this.max)&&(Q=this.max-this.min)&&(!H(nt)&&Te&&(this.min-=Q*Te),!H(Qe)&&ye&&(this.max+=Q*ye)),j(this.userMin)||(j(ge.softMin)&&ge.softMin<this.min&&(this.min=nt=ge.softMin),j(ge.floor)&&(this.min=Math.max(this.min,ge.floor))),j(this.userMax)||(j(ge.softMax)&&ge.softMax>this.max&&(this.max=Qe=ge.softMax),j(ge.ceiling)&&(this.max=Math.min(this.max,ge.ceiling))),oe&&H(this.dataMin)&&(Le=Le||0,!H(nt)&&this.min<Le&&this.dataMin>=Le?this.min=this.options.minRange?Math.min(Le,this.max-this.minRange):Le:!H(Qe)&&this.max>Le&&this.dataMax<=Le&&(this.max=this.options.minRange?Math.max(Le,this.min+this.minRange):Le)),j(this.min)&&j(this.max)&&!this.chart.polar&&this.min>this.max&&(H(this.options.min)?this.max=this.min:H(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:re&&this.linkedParent&&!Oe&&ve===this.linkedParent.options.tickPixelInterval?Oe=this.linkedParent.tickInterval:x(Oe,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,_e?1:(this.max-this.min)*ve/Math.max(this.len,ve)),ke&&!F){const Me=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(Re){Re.forceCrop=Re.forceCropping&&Re.forceCropping(),Re.processData(Me)}),$(this,"postProcessData",{hasExtremesChanged:Me})}this.setAxisTranslation(),$(this,"initialAxisTranslation"),this.pointRange&&!Oe&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),F=x(ge.minTickInterval,this.dateTime&&!this.series.some(Me=>Me.noSharedTooltip)?this.closestPointRange:0),!Oe&&this.tickInterval<F&&(this.tickInterval=F),this.dateTime||this.logarithmic||Oe||(this.tickInterval=le(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var F=this.options;const Q=F.tickPositions,ce=F.tickPositioner;var ge=this.getMinorTickInterval(),ke=this.hasVerticalPanning(),re=this.coll==="colorAxis";const ve=(re||!ke)&&F.startOnTick;ke=(re||!ke)&&F.endOnTick,re=[];let _e;if(this.tickmarkOffset=this.categories&&F.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=ge==="auto"&&this.tickInterval?this.tickInterval/F.minorTicksPerMajor:ge,this.single=this.min===this.max&&H(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||F.allowDecimals!==!1),Q)re=Q.slice();else if(j(this.min)&&j(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)re=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,F.units),this.min,this.max,F.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)re=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(ge=F=this.tickInterval;ge<=2*F&&(re=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&re.length>this.tickAmount);)this.tickInterval=le(this,ge*=1.1);else re=[this.min,this.max],ie(19,!1,this.chart);re.length>this.len&&(re=[re[0],re[re.length-1]],re[0]===re[1]&&(re.length=1)),ce&&(this.tickPositions=re,(_e=ce.apply(this,[this.min,this.max]))&&(re=_e))}this.tickPositions=re,this.paddedTicks=re.slice(0),this.trimTicks(re,ve,ke),!this.isLinked&&j(this.min)&&j(this.max)&&(this.single&&2>re.length&&!this.categories&&!this.series.some(oe=>oe.is("heatmap")&&oe.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),Q||_e||this.adjustTickAmount()),$(this,"afterSetTickPositions")}trimTicks(F,Q,ce){const ge=F[0],ke=F[F.length-1],re=!this.isOrdinal&&this.minPointOffset||0;if($(this,"trimTicks"),!this.isLinked){if(Q&&ge!==-1/0)this.min=ge;else for(;this.min-re>F[0];)F.shift();if(ce)this.max=ke;else for(;this.max+re<F[F.length-1];)F.pop();F.length===0&&H(ge)&&!this.options.tickPositions&&F.push((ke+ge)/2)}}alignToOthers(){const F=this,Q=[this],ce=F.options,ge=this.coll==="yAxis"&&this.chart.options.chart.alignThresholds,ke=[];let re;if(F.thresholdAlignment=void 0,(this.chart.options.chart.alignTicks!==!1&&ce.alignTicks||ge)&&ce.startOnTick!==!1&&ce.endOnTick!==!1&&!F.logarithmic){const ve=oe=>{const{horiz:ye,options:Te}=oe;return[ye?Te.left:Te.top,Te.width,Te.height,Te.pane].join()},_e=ve(this);this.chart[this.coll].forEach(function(oe){const{series:ye}=oe;ye.length&&ye.some(Te=>Te.visible)&&oe!==F&&ve(oe)===_e&&(re=!0,Q.push(oe))})}if(re&&ge){Q.forEach(_e=>{_e=_e.getThresholdAlignment(F),j(_e)&&ke.push(_e)});const ve=1<ke.length?ke.reduce((_e,oe)=>_e+oe,0)/ke.length:void 0;Q.forEach(_e=>{_e.thresholdAlignment=ve})}return re}getThresholdAlignment(F){if((!j(this.dataMin)||this!==F&&this.series.some(Q=>Q.isDirty||Q.isDirtyData))&&this.getSeriesExtremes(),j(this.threshold))return F=S((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(F=1-F),F}getTickAmount(){const F=this.options,Q=F.tickPixelInterval;let ce=F.tickAmount;!H(F.tickInterval)&&!ce&&this.len<Q&&!this.isRadial&&!this.logarithmic&&F.startOnTick&&F.endOnTick&&(ce=2),!ce&&this.alignToOthers()&&(ce=Math.ceil(this.len/Q)+1),4>ce&&(this.finalTickAmt=ce,ce=5),this.tickAmount=ce}adjustTickAmount(){const F=this,{finalTickAmt:Q,max:ce,min:ge,options:ke,tickPositions:re,tickAmount:ve,thresholdAlignment:_e}=F,oe=re&&re.length;var ye=x(F.threshold,F.softThreshold?0:null),Te=F.tickInterval;let Oe;if(j(_e)&&(Oe=.5>_e?Math.ceil(_e*(ve-1)):Math.floor(_e*(ve-1)),ke.reversed&&(Oe=ve-1-Oe)),F.hasData()&&j(ge)&&j(ce)){const Le=()=>{F.transA*=(oe-1)/(ve-1),F.min=ke.startOnTick?re[0]:Math.min(ge,re[0]),F.max=ke.endOnTick?re[re.length-1]:Math.max(ce,re[re.length-1])};if(j(Oe)&&j(F.threshold)){for(;re[Oe]!==ye||re.length!==ve||re[0]>ge||re[re.length-1]<ce;){for(re.length=0,re.push(F.threshold);re.length<ve;)re[Oe]===void 0||re[Oe]>F.threshold?re.unshift(P(re[0]-Te)):re.push(P(re[re.length-1]+Te));if(Te>8*F.tickInterval)break;Te*=2}Le()}else if(oe<ve){for(;re.length<ve;)re.length%2||ge===ye?re.push(P(re[re.length-1]+Te)):re.unshift(P(re[0]-Te));Le()}if(H(Q)){for(Te=ye=re.length;Te--;)(Q===3&&Te%2===1||2>=Q&&0<Te&&Te<ye-1)&&re.splice(Te,1);F.finalTickAmt=void 0}}}setScale(){let F=!1,Q=!1;this.series.forEach(function(ge){F=F||ge.isDirtyData||ge.isDirty,Q=Q||ge.xAxis&&ge.xAxis.isDirty||!1}),this.setAxisSize();const ce=this.len!==(this.old&&this.old.len);ce||F||Q||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=ce||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),F&&this.panningState&&(this.panningState.isDirty=!0),$(this,"afterSetScale")}setExtremes(F,Q,ce,ge,ke){const re=this,ve=re.chart;ce=x(ce,!0),re.series.forEach(function(_e){delete _e.kdTree}),ke=te(ke,{min:F,max:Q}),$(re,"setExtremes",ke,function(){re.userMin=F,re.userMax=Q,re.eventArgs=ke,ce&&ve.redraw(ge)})}zoom(F,Q){const ce=this,ge=this.dataMin,ke=this.dataMax,re=this.options,ve=Math.min(ge,x(re.min,ge)),_e=Math.max(ke,x(re.max,ke));return F={newMin:F,newMax:Q},$(this,"zoom",F,function(oe){let ye=oe.newMin,Te=oe.newMax;(ye!==ce.min||Te!==ce.max)&&(ce.allowZoomOutside||(H(ge)&&(ye<ve&&(ye=ve),ye>_e&&(ye=_e)),H(ke)&&(Te<ve&&(Te=ve),Te>_e&&(Te=_e))),ce.displayBtn=typeof ye<"u"||typeof Te<"u",ce.setExtremes(ye,Te,!1,void 0,{trigger:"zoom"})),oe.zoomed=!0}),F.zoomed}setAxisSize(){const F=this.chart;var Q=this.options;const ce=Q.offsets||[0,0,0,0],ge=this.horiz,ke=this.width=Math.round(k(x(Q.width,F.plotWidth-ce[3]+ce[1]),F.plotWidth)),re=this.height=Math.round(k(x(Q.height,F.plotHeight-ce[0]+ce[2]),F.plotHeight)),ve=this.top=Math.round(k(x(Q.top,F.plotTop+ce[0]),F.plotHeight,F.plotTop));Q=this.left=Math.round(k(x(Q.left,F.plotLeft+ce[3]),F.plotWidth,F.plotLeft)),this.bottom=F.chartHeight-re-ve,this.right=F.chartWidth-ke-Q,this.len=Math.max(ge?ke:re,0),this.pos=ge?Q:ve}getExtremes(){const F=this.logarithmic;return{min:F?P(F.lin2log(this.min)):this.min,max:F?P(F.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(F){var Q=this.logarithmic;const ce=Q?Q.lin2log(this.min):this.min;return Q=Q?Q.lin2log(this.max):this.max,F===null||F===-1/0?F=ce:F===1/0?F=Q:ce>F?F=ce:Q<F&&(F=Q),this.translate(F,0,1,0,1)}autoLabelAlign(F){const Q=(x(F,0)-90*this.side+720)%360;return F={align:"center"},$(this,"autoLabelAlign",F,function(ce){15<Q&&165>Q?ce.align="right":195<Q&&345>Q&&(ce.align="left")}),F.align}tickSize(F){const Q=this.options,ce=x(Q[F==="tick"?"tickWidth":"minorTickWidth"],F==="tick"&&this.isXAxis&&!this.categories?1:0);let ge=Q[F==="tick"?"tickLength":"minorTickLength"],ke;return ce&&ge&&(Q[F+"Position"]==="inside"&&(ge=-ge),ke=[ge,ce]),F={tickSize:ke},$(this,"afterTickSize",F),F.tickSize}labelMetrics(){const F=this.chart.renderer;var Q=this.ticks;return Q=Q[Object.keys(Q)[0]]||{},this.chart.renderer.fontMetrics(Q.label||Q.movedLabel||F.box)}unsquish(){const F=this.options.labels;var Q=this.horiz;const ce=this.tickInterval,ge=this.len/(((this.categories?1:0)+this.max-this.min)/ce),ke=F.rotation,re=.75*this.labelMetrics().h,ve=Math.max(this.max-this.min,0),_e=function(Le){let Ue=Le/(ge||1);return Ue=1<Ue?Math.ceil(Ue):1,Ue*ce>ve&&Le!==1/0&&ge!==1/0&&ve&&(Ue=Math.ceil(ve/ce)),P(Ue*ce)};let oe=ce,ye,Te=Number.MAX_VALUE,Oe;if(Q){if(F.staggerLines||(j(ke)?Oe=[ke]:ge<F.autoRotationLimit&&(Oe=F.autoRotation)),Oe){let Le;for(const Ue of Oe)(Ue===ke||Ue&&-90<=Ue&&90>=Ue)&&(Q=_e(Math.abs(re/Math.sin(O*Ue))),Le=Q+Math.abs(Ue/360),Le<Te&&(Te=Le,ye=Ue,oe=Q))}}else oe=_e(re);return this.autoRotation=Oe,this.labelRotation=x(ye,j(ke)?ke:0),F.step?ce:oe}getSlotWidth(F){const Q=this.chart,ce=this.horiz,ge=this.options.labels,ke=Math.max(this.tickPositions.length-(this.categories?0:1),1),re=Q.margin[3];if(F&&j(F.slotWidth))return F.slotWidth;if(ce&&2>ge.step)return ge.rotation?0:(this.staggerLines||1)*this.len/ke;if(!ce){if(F=ge.style.width,F!==void 0)return parseInt(String(F),10);if(re)return re-Q.spacing[3]}return .33*Q.chartWidth}renderUnsquish(){const F=this.chart,Q=F.renderer,ce=this.tickPositions,ge=this.ticks,ke=this.options.labels,re=ke.style,ve=this.horiz,_e=this.getSlotWidth();var oe=Math.max(1,Math.round(_e-2*ke.padding));const ye={},Te=this.labelMetrics(),Oe=re.textOverflow;let Le,Ue,nt=0;if(w(ke.rotation)||(ye.rotation=ke.rotation||0),ce.forEach(function(ut){ut=ge[ut],ut.movedLabel&&ut.replaceMovedLabel(),ut&&ut.label&&ut.label.textPxLength>nt&&(nt=ut.label.textPxLength)}),this.maxLabelLength=nt,this.autoRotation)nt>oe&&nt>Te.h?ye.rotation=this.labelRotation:this.labelRotation=0;else if(_e&&(Le=oe,!Oe))for(Ue="clip",oe=ce.length;!ve&&oe--;){var Qe=ce[oe];(Qe=ge[Qe].label)&&(Qe.styles&&Qe.styles.textOverflow==="ellipsis"?Qe.css({textOverflow:"clip"}):Qe.textPxLength>_e&&Qe.css({width:_e+"px"}),Qe.getBBox().height>this.len/ce.length-(Te.h-Te.f)&&(Qe.specificTextOverflow="ellipsis"))}ye.rotation&&(Le=nt>.5*F.chartHeight?.33*F.chartHeight:nt,Oe||(Ue="ellipsis")),(this.labelAlign=ke.align||this.autoLabelAlign(this.labelRotation))&&(ye.align=this.labelAlign),ce.forEach(function(ut){const Me=(ut=ge[ut])&&ut.label,Re=re.width,Ne={};Me&&(Me.attr(ye),ut.shortenLabel?ut.shortenLabel():Le&&!Re&&re.whiteSpace!=="nowrap"&&(Le<Me.textPxLength||Me.element.tagName==="SPAN")?(Ne.width=Le+"px",Oe||(Ne.textOverflow=Me.specificTextOverflow||Ue),Me.css(Ne)):Me.styles&&Me.styles.width&&!Ne.width&&!Re&&Me.css({width:null}),delete Me.specificTextOverflow,ut.rotation=ye.rotation)},this),this.tickRotCorr=Q.rotCorr(Te.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(F){return F.hasData()})||this.options.showEmpty&&H(this.min)&&H(this.max)}addTitle(F){const Q=this.chart.renderer,ce=this.horiz,ge=this.opposite,ke=this.options.title,re=this.chart.styledMode;let ve;this.axisTitle||((ve=ke.textAlign)||(ve=(ce?{low:"left",middle:"center",high:"right"}:{low:ge?"right":"left",middle:"center",high:ge?"left":"right"})[ke.align]),this.axisTitle=Q.text(ke.text||"",0,0,ke.useHTML).attr({zIndex:7,rotation:ke.rotation,align:ve}).addClass("highcharts-axis-title"),re||this.axisTitle.css(D(ke.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),re||ke.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[F?"show":"hide"](F)}generateTick(F){const Q=this.ticks;Q[F]?Q[F].addLabel():Q[F]=new J(this,F)}getOffset(){const F=this,{chart:Q,horiz:ce,options:ge,side:ke,ticks:re,tickPositions:ve,coll:_e,axisParent:oe}=F,ye=Q.renderer,Te=Q.inverted&&!F.isZAxis?[1,0,3,2][ke]:ke;var Oe=F.hasData();const Le=ge.title;var Ue=ge.labels;const nt=j(ge.crossing);var Qe=Q.axisOffset;const ut=Q.clipOffset,Me=[-1,1,1,-1][ke],Re=ge.className;let Ne,Xe=0,rt;var yt=0;let $t=0;if(F.showAxis=Ne=Oe||ge.showEmpty,F.staggerLines=F.horiz&&Ue.staggerLines||void 0,!F.axisGroup){const Wt=(Ci,ti,Mi)=>ye.g(Ci).attr({zIndex:Mi}).addClass(`highcharts-${_e.toLowerCase()}${ti} `+(this.isRadial?`highcharts-radial-axis${ti} `:"")+(Re||"")).add(oe);F.gridGroup=Wt("grid","-grid",ge.gridZIndex),F.axisGroup=Wt("axis","",ge.zIndex),F.labelGroup=Wt("axis-labels","-labels",Ue.zIndex)}Oe||F.isLinked?(ve.forEach(function(Wt){F.generateTick(Wt)}),F.renderUnsquish(),F.reserveSpaceDefault=ke===0||ke===2||{1:"left",3:"right"}[ke]===F.labelAlign,x(Ue.reserveSpace,nt?!1:null,F.labelAlign==="center"?!0:null,F.reserveSpaceDefault)&&ve.forEach(function(Wt){$t=Math.max(re[Wt].getLabelSize(),$t)}),F.staggerLines&&($t*=F.staggerLines),F.labelOffset=$t*(F.opposite?-1:1)):g(re,function(Wt,Ci){Wt.destroy(),delete re[Ci]}),Le&&Le.text&&Le.enabled!==!1&&(F.addTitle(Ne),Ne&&!nt&&Le.reserveSpace!==!1&&(F.titleOffset=Xe=F.axisTitle.getBBox()[ce?"height":"width"],rt=Le.offset,yt=H(rt)?0:x(Le.margin,ce?5:10))),F.renderLine(),F.offset=Me*x(ge.offset,Qe[ke]?Qe[ke]+(ge.margin||0):0),F.tickRotCorr=F.tickRotCorr||{x:0,y:0},Oe=ke===0?-F.labelMetrics().h:ke===2?F.tickRotCorr.y:0,yt=Math.abs($t)+yt,$t&&(yt=yt-Oe+Me*(ce?x(Ue.y,F.tickRotCorr.y+Me*Ue.distance):x(Ue.x,Me*Ue.distance))),F.axisTitleMargin=x(rt,yt),F.getMaxLabelDimensions&&(F.maxLabelDimensions=F.getMaxLabelDimensions(re,ve)),_e!=="colorAxis"&&(Ue=this.tickSize("tick"),Qe[ke]=Math.max(Qe[ke],(F.axisTitleMargin||0)+Xe+Me*F.offset,yt,ve&&ve.length&&Ue?Ue[0]+Me*F.offset:0),Qe=!F.axisLine||ge.offset?0:2*Math.floor(F.axisLine.strokeWidth()/2),ut[Te]=Math.max(ut[Te],Qe)),$(this,"afterGetOffset")}getLinePath(F){const Q=this.chart,ce=this.opposite;var ge=this.offset;const ke=this.horiz,re=this.left+(ce?this.width:0)+ge;return ge=Q.chartHeight-this.bottom-(ce?this.height:0)+ge,ce&&(F*=-1),Q.renderer.crispLine([["M",ke?this.left:re,ke?ge:this.top],["L",ke?Q.chartWidth-this.right:re,ke?ge:Q.chartHeight-this.bottom]],F)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(F){var Q=this.horiz,ce=this.left;const ge=this.top;var ke=this.len;const re=this.options.title,ve=Q?ce:ge,_e=this.opposite,oe=this.offset,ye=re.x,Te=re.y,Oe=this.chart.renderer.fontMetrics(F);return F=F?Math.max(F.getBBox(!1,0).height-Oe.h-1,0):0,ke={low:ve+(Q?0:ke),middle:ve+ke/2,high:ve+(Q?ke:0)}[re.align],ce=(Q?ge+this.height:ce)+(Q?1:-1)*(_e?-1:1)*(this.axisTitleMargin||0)+[-F,F,Oe.f,-F][this.side],Q={x:Q?ke+ye:ce+(_e?this.width:0)+oe+ye,y:Q?ce+Te-(_e?this.height:0)+oe:ke+Te},$(this,"afterGetTitlePosition",{titlePosition:Q}),Q}renderMinorTick(F,Q){const ce=this.minorTicks;ce[F]||(ce[F]=new J(this,F,"minor")),Q&&ce[F].isNew&&ce[F].render(null,!0),ce[F].render(null,!1,1)}renderTick(F,Q,ce){const ge=this.ticks;(!this.isLinked||F>=this.min&&F<=this.max||this.grid&&this.grid.isColumn)&&(ge[F]||(ge[F]=new J(this,F)),ce&&ge[F].isNew&&ge[F].render(Q,!0,-1),ge[F].render(Q))}render(){const F=this,Q=F.chart,ce=F.logarithmic,ge=F.options,ke=F.isLinked,re=F.tickPositions,ve=F.axisTitle,_e=F.ticks,oe=F.minorTicks,ye=F.alternateBands,Te=ge.stackLabels,Oe=ge.alternateGridColor,Le=ge.crossing,Ue=F.tickmarkOffset,nt=F.axisLine,Qe=F.showAxis,ut=z(Q.renderer.globalAnimation);let Me,Re;if(F.labelEdge.length=0,F.overlap=!1,[_e,oe,ye].forEach(function(Ne){g(Ne,function(Xe){Xe.isActive=!1})}),j(Le)){const Ne=this.isXAxis?Q.yAxis[0]:Q.xAxis[0],Xe=[1,-1,-1,1][this.side];Ne&&(this.offset=Xe*Ne.toPixels(Le,!0))}if(F.hasData()||ke){const Ne=F.chart.hasRendered&&F.old&&j(F.old.min);F.minorTickInterval&&!F.categories&&F.getMinorTickPositions().forEach(function(Xe){F.renderMinorTick(Xe,Ne)}),re.length&&(re.forEach(function(Xe,rt){F.renderTick(Xe,rt,Ne)}),Ue&&(F.min===0||F.single)&&(_e[-1]||(_e[-1]=new J(F,-1,null,!0)),_e[-1].render(-1))),Oe&&re.forEach(function(Xe,rt){Re=typeof re[rt+1]<"u"?re[rt+1]+Ue:F.max-Ue,rt%2===0&&Xe<F.max&&Re<=F.max+(Q.polar?-Ue:Ue)&&(ye[Xe]||(ye[Xe]=new R.PlotLineOrBand(F)),Me=Xe+Ue,ye[Xe].options={from:ce?ce.lin2log(Me):Me,to:ce?ce.lin2log(Re):Re,color:Oe,className:"highcharts-alternate-grid"},ye[Xe].render(),ye[Xe].isActive=!0)}),F._addedPlotLB||(F._addedPlotLB=!0,(ge.plotLines||[]).concat(ge.plotBands||[]).forEach(function(Xe){F.addPlotBandOrLine(Xe)}))}[_e,oe,ye].forEach(function(Ne){const Xe=[],rt=ut.duration;g(Ne,function(yt,$t){yt.isActive||(yt.render($t,!1,0),yt.isActive=!1,Xe.push($t))}),K(function(){let yt=Xe.length;for(;yt--;)Ne[Xe[yt]]&&!Ne[Xe[yt]].isActive&&(Ne[Xe[yt]].destroy(),delete Ne[Xe[yt]])},Ne!==ye&&Q.hasRendered&&rt?rt:0)}),nt&&(nt[nt.isPlaced?"animate":"attr"]({d:this.getLinePath(nt.strokeWidth())}),nt.isPlaced=!0,nt[Qe?"show":"hide"](Qe)),ve&&Qe&&(ve[ve.isNew?"attr":"animate"](F.getTitlePosition(ve)),ve.isNew=!1),Te&&Te.enabled&&F.stacking&&F.stacking.renderStackTotals(),F.old={len:F.len,max:F.max,min:F.min,transA:F.transA,userMax:F.userMax,userMin:F.userMin},F.isDirty=!1,$(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(F){F.render()})),this.series.forEach(function(F){F.isDirty=!0})}getKeepProps(){return this.keepProps||he.keepProps}destroy(F){const Q=this,ce=Q.plotLinesAndBands,ge=this.eventOptions;if($(this,"destroy",{keepEvents:F}),F||q(Q),[Q.ticks,Q.minorTicks,Q.alternateBands].forEach(function(ke){U(ke)}),ce)for(F=ce.length;F--;)ce[F].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(ke){Q[ke]&&(Q[ke]=Q[ke].destroy())});for(const ke in Q.plotLinesAndBandsGroups)Q.plotLinesAndBandsGroups[ke]=Q.plotLinesAndBandsGroups[ke].destroy();g(Q,function(ke,re){Q.getKeepProps().indexOf(re)===-1&&delete Q[re]}),this.eventOptions=ge}drawCrosshair(F,Q){const ce=this.crosshair;var ge=x(ce&&ce.snap,!0);const ke=this.chart;let re,ve=this.cross;if($(this,"drawCrosshair",{e:F,point:Q}),F||(F=this.cross&&this.cross.e),ce&&(H(Q)||!ge)!==!1){if(ge?H(Q)&&(re=x(this.coll!=="colorAxis"?Q.crosshairPos:null,this.isXAxis?Q.plotX:this.len-Q.plotY)):re=F&&(this.horiz?F.chartX-this.pos:this.len-F.chartY+this.pos),H(re)){var _e={value:Q&&(this.isXAxis?Q.x:x(Q.stackY,Q.y)),translatedValue:re};ke.polar&&te(_e,{isCrosshair:!0,chartX:F&&F.chartX,chartY:F&&F.chartY,point:Q}),_e=this.getPlotLinePath(_e)||null}if(!H(_e)){this.hideCrosshair();return}ge=this.categories&&!this.isRadial,ve||(this.cross=ve=ke.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(ge?"category ":"thin ")+(ce.className||"")).attr({zIndex:x(ce.zIndex,2)}).add(),ke.styledMode||(ve.attr({stroke:ce.color||(ge?h.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":x(ce.width,1)}).css({"pointer-events":"none"}),ce.dashStyle&&ve.attr({dashstyle:ce.dashStyle}))),ve.show().attr({d:_e}),ge&&!ce.width&&ve.attr({"stroke-width":this.transA}),this.cross.e=F}else this.hideCrosshair();$(this,"afterDrawCrosshair",{e:F,point:Q})}hideCrosshair(){this.cross&&this.cross.hide(),$(this,"afterHideCrosshair")}hasVerticalPanning(){const F=this.chart.options.chart.panning;return!!(F&&F.enabled&&/y/.test(F.type))}update(F,Q){const ce=this.chart;F=D(this.userOptions,F),this.destroy(!0),this.init(ce,F),ce.isDirtyBox=!0,x(Q,!0)&&ce.redraw()}remove(F){const Q=this.chart,ce=this.coll,ge=this.series;let ke=ge.length;for(;ke--;)ge[ke]&&ge[ke].remove(!1);E(Q.axes,this),E(Q[ce],this),Q[ce].forEach(function(re,ve){re.options.index=re.userOptions.index=ve}),this.destroy(),Q.isDirtyBox=!0,x(F,!0)&&Q.redraw()}setTitle(F,Q){this.update({title:F},Q)}setCategories(F,Q){this.update({categories:F},Q)}}return he.defaultOptions=d.defaultXAxisOptions,he.keepProps="extKey hcEvents names series userMax userMin".split(" "),he}),n(r,"Core/Axis/DateTimeAxis.js",[r["Core/Utilities.js"]],function(o){const{addEvent:d,getMagnitude:h,normalizeTickInterval:s,timeUnits:b}=o;var R;return function(J){function I(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function z(O){O.userOptions.type!=="datetime"?this.dateTime=void 0:this.dateTime||(this.dateTime=new L(this))}const Z=[];J.compose=function(O){return o.pushUnique(Z,O)&&(O.keepProps.push("dateTime"),O.prototype.getTimeTicks=I,d(O,"init",z)),O};class L{constructor(G){this.axis=G}normalizeTimeTickInterval(G,M){const S=M||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];M=S[S.length-1];let P=b[M[0]],H=M[1],U;for(U=0;U<S.length&&(M=S[U],P=b[M[0]],H=M[1],!(S[U+1]&&G<=(P*H[H.length-1]+b[S[U+1][0]])/2));U++);return P===b.year&&G<5*P&&(H=[1,2,5]),G=s(G/P,H,M[0]==="year"?Math.max(h(G/P),1):1),{unitRange:P,count:G,unitName:M[0]}}getXDateFormat(G,M){const{axis:S}=this,P=S.chart.time;return S.closestPointRange?P.getDateFormat(S.closestPointRange,G,S.options.startOfWeek,M)||P.resolveDTLFormat(M.year).main:P.resolveDTLFormat(M.day).main}}J.Additions=L}(R||(R={})),R}),n(r,"Core/Axis/LogarithmicAxis.js",[r["Core/Utilities.js"]],function(o){const{addEvent:d,normalizeTickInterval:h,pick:s}=o;var b;return function(R){function J(L){let O=this.logarithmic;L.userOptions.type!=="logarithmic"?this.logarithmic=void 0:O||(this.logarithmic=new Z(this))}function I(){const L=this.logarithmic;L&&(this.lin2val=function(O){return L.lin2log(O)},this.val2lin=function(O){return L.log2lin(O)})}const z=[];R.compose=function(L){return o.pushUnique(z,L)&&(L.keepProps.push("logarithmic"),d(L,"init",J),d(L,"afterInit",I)),L};class Z{constructor(O){this.axis=O}getLogTickPositions(O,G,M,S){const P=this.axis;var H=P.len,U=P.options;let E=[];if(S||(this.minorAutoInterval=void 0),.5<=O)O=Math.round(O),E=P.getLinearTickPositions(O,G,M);else if(.08<=O){U=Math.floor(G);let ie,te,$,V,j;for(H=.3<O?[1,2,4]:.15<O?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];U<M+1&&!j;U++)for(te=H.length,ie=0;ie<te&&!j;ie++)$=this.log2lin(this.lin2log(U)*H[ie]),$>G&&(!S||V<=M)&&typeof V<"u"&&E.push(V),V>M&&(j=!0),V=$}else G=this.lin2log(G),M=this.lin2log(M),O=S?P.getMinorTickInterval():U.tickInterval,O=s(O==="auto"?null:O,this.minorAutoInterval,U.tickPixelInterval/(S?5:1)*(M-G)/((S?H/P.tickPositions.length:H)||1)),O=h(O),E=P.getLinearTickPositions(O,G,M).map(this.log2lin),S||(this.minorAutoInterval=O/5);return S||(P.tickInterval=O),E}lin2log(O){return Math.pow(10,O)}log2lin(O){return Math.log(O)/Math.LN10}}R.Additions=Z}(b||(b={})),b}),n(r,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[r["Core/Utilities.js"]],function(o){const{erase:d,extend:h,isNumber:s}=o;var b;return function(R){function J(P){return this.addPlotBandOrLine(P,"plotBands")}function I(P,H){const U=this.userOptions;let E=new S(this,P);if(this.visible&&(E=E.render()),E){if(this._addedPlotLB||(this._addedPlotLB=!0,(U.plotLines||[]).concat(U.plotBands||[]).forEach(ie=>{this.addPlotBandOrLine(ie)})),H){const ie=U[H]||[];ie.push(P),U[H]=ie}this.plotLinesAndBands.push(E)}return E}function z(P){return this.addPlotBandOrLine(P,"plotLines")}function Z(P,H,U=this.options){const E=this.getPlotLinePath({value:H,force:!0,acrossPanes:U.acrossPanes}),ie=[],te=this.horiz;H=!s(this.min)||!s(this.max)||P<this.min&&H<this.min||P>this.max&&H>this.max,P=this.getPlotLinePath({value:P,force:!0,acrossPanes:U.acrossPanes}),U=1;let $;if(P&&E)for(H&&($=P.toString()===E.toString(),U=0),H=0;H<P.length;H+=2){const V=P[H],j=P[H+1],w=E[H],D=E[H+1];V[0]!=="M"&&V[0]!=="L"||j[0]!=="M"&&j[0]!=="L"||w[0]!=="M"&&w[0]!=="L"||D[0]!=="M"&&D[0]!=="L"||(te&&w[1]===V[1]?(w[1]+=U,D[1]+=U):te||w[2]!==V[2]||(w[2]+=U,D[2]+=U),ie.push(["M",V[1],V[2]],["L",j[1],j[2]],["L",D[1],D[2]],["L",w[1],w[2]],["Z"])),ie.isFlat=$}return ie}function L(P){this.removePlotBandOrLine(P)}function O(P){const H=this.plotLinesAndBands,U=this.options,E=this.userOptions;if(H){let ie=H.length;for(;ie--;)H[ie].id===P&&H[ie].destroy();[U.plotLines||[],E.plotLines||[],U.plotBands||[],E.plotBands||[]].forEach(function(te){for(ie=te.length;ie--;)(te[ie]||{}).id===P&&d(te,te[ie])})}}function G(P){this.removePlotBandOrLine(P)}const M=[];let S;R.compose=function(P,H){return S||(S=P),o.pushUnique(M,H)&&h(H.prototype,{addPlotBand:J,addPlotLine:z,addPlotBandOrLine:I,getPlotBandPath:Z,removePlotBand:L,removePlotLine:G,removePlotBandOrLine:O}),H}}(b||(b={})),b}),n(r,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[r["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],r["Core/Utilities.js"]],function(o,d){const{arrayMax:h,arrayMin:s,defined:b,destroyObjectProperties:R,erase:J,fireEvent:I,merge:z,objectEach:Z,pick:L}=d;class O{static compose(M){return o.compose(O,M)}constructor(M,S){this.axis=M,S&&(this.options=S,this.id=S.id)}render(){I(this,"render");const M=this,S=M.axis,P=S.horiz;var H=S.logarithmic;const U=M.options,E=U.color,ie=L(U.zIndex,0),te=U.events,$={},V=S.chart.renderer;let j=U.label,w=M.label,D=U.to,m=U.from,g=U.value,x=M.svgElem;var k=[];const q=b(m)&&b(D);k=b(g);const Y=!x,K={class:"highcharts-plot-"+(q?"band ":"line ")+(U.className||"")};let le=q?"bands":"lines";if(H&&(m=H.log2lin(m),D=H.log2lin(D),g=H.log2lin(g)),S.chart.styledMode||(k?(K.stroke=E||"#999999",K["stroke-width"]=L(U.width,1),U.dashStyle&&(K.dashstyle=U.dashStyle)):q&&(K.fill=E||"#e6e9ff",U.borderWidth&&(K.stroke=U.borderColor,K["stroke-width"]=U.borderWidth))),$.zIndex=ie,le+="-"+ie,(H=S.plotLinesAndBandsGroups[le])||(S.plotLinesAndBandsGroups[le]=H=V.g("plot-"+le).attr($).add()),Y&&(M.svgElem=x=V.path().attr(K).add(H)),k)k=S.getPlotLinePath({value:g,lineWidth:x.strokeWidth(),acrossPanes:U.acrossPanes});else if(q)k=S.getPlotBandPath(m,D,U);else return;return!M.eventsAdded&&te&&(Z(te,function(he,pe){x.on(pe,function(F){te[pe].apply(M,[F])})}),M.eventsAdded=!0),(Y||!x.d)&&k&&k.length?x.attr({d:k}):x&&(k?(x.show(),x.animate({d:k})):x.d&&(x.hide(),w&&(M.label=w=w.destroy()))),j&&(b(j.text)||b(j.formatter))&&k&&k.length&&0<S.width&&0<S.height&&!k.isFlat?(j=z({align:P&&q&&"center",x:P?!q&&4:10,verticalAlign:!P&&q&&"middle",y:P?q?16:10:q?6:-4,rotation:P&&!q&&90},j),this.renderLabel(j,k,q,ie)):w&&w.hide(),M}renderLabel(M,S,P,H){const U=this.axis;var E=U.chart.renderer;let ie=this.label;ie||(this.label=ie=E.text(this.getLabelText(M),0,0,M.useHTML).attr({align:M.textAlign||M.align,rotation:M.rotation,class:"highcharts-plot-"+(P?"band":"line")+"-label "+(M.className||""),zIndex:H}).add(),U.chart.styledMode||ie.css(z({fontSize:"0.8em",textOverflow:"ellipsis"},M.style))),H=S.xBounds||[S[0][1],S[1][1],P?S[2][1]:S[0][1]],S=S.yBounds||[S[0][2],S[1][2],P?S[2][2]:S[0][2]],P=s(H),E=s(S),ie.align(M,!1,{x:P,y:E,width:h(H)-P,height:h(S)-E}),ie.alignValue&&ie.alignValue!=="left"||(M=M.clip?U.width:U.chart.chartWidth,ie.css({width:(ie.rotation===90?U.height-(ie.alignAttr.y-U.top):M-(ie.alignAttr.x-U.left))+"px"})),ie.show(!0)}getLabelText(M){return b(M.formatter)?M.formatter.call(this):M.text}destroy(){J(this.axis.plotLinesAndBands,this),delete this.axis,R(this)}}return O}),n(r,"Core/Tooltip.js",[r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(o,d,h,s,b){const{format:R}=o,{doc:J,isSafari:I}=d,{distribute:z}=h,{addEvent:Z,clamp:L,css:O,discardElement:G,extend:M,fireEvent:S,isArray:P,isNumber:H,isString:U,merge:E,pick:ie,splat:te,syncTimeout:$}=b;class V{constructor(w,D){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=w,this.init(w,D)}bodyFormatter(w){return w.map(function(D){const m=D.series.tooltipOptions;return(m[(D.point.formatPrefix||"point")+"Formatter"]||D.point.tooltipFormatter).call(D.point,m[(D.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(w){this.chart.series.forEach(function(D){const m=D&&D.tt;m&&(!m.isActive||w?D.tt=m.destroy():m.isActive=!1)})}defaultFormatter(w){const D=this.points||te(this);let m;return m=[w.tooltipFooterHeaderFormatter(D[0])],m=m.concat(w.bodyFormatter(D)),m.push(w.tooltipFooterHeaderFormatter(D[0],!0)),m}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),G(this.container)),b.clearTimeout(this.hideTimer),b.clearTimeout(this.tooltipTimeout)}getAnchor(w,D){var m=this.chart;const g=m.pointer,x=m.inverted,k=m.plotTop;if(m=m.plotLeft,w=te(w),w[0].series&&w[0].series.yAxis&&!w[0].series.yAxis.options.reversedStacks&&(w=w.slice().reverse()),this.followPointer&&D)typeof D.chartX>"u"&&(D=g.normalize(D)),w=[D.chartX-m,D.chartY-k];else if(w[0].tooltipPos)w=w[0].tooltipPos;else{let q=0,Y=0;w.forEach(function(K){(K=K.pos(!0))&&(q+=K[0],Y+=K[1])}),q/=w.length,Y/=w.length,this.shared&&1<w.length&&D&&(x?q=D.chartX:Y=D.chartY),w=[q-m,Y-k]}return w.map(Math.round)}getClassName(w,D,m){const g=w.series,x=g.options;return[this.options.className,"highcharts-label",m&&"highcharts-tooltip-header",D?"highcharts-tooltip-box":"highcharts-tooltip",!m&&"highcharts-color-"+ie(w.colorIndex,g.colorIndex),x&&x.className].filter(U).join(" ")}getLabel(){const w=this,D=this.chart.styledMode,m=this.options,g=this.split&&this.allowShared,x=m.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let k,q=this.chart.renderer;if(this.label){var Y=!this.label.hasClass("highcharts-label");(!g&&Y||g&&!Y)&&this.destroy()}if(!this.label){if(this.outside){Y=this.chart.options.chart.style;const K=s.getRendererType();this.container=k=d.doc.createElement("div"),k.className="highcharts-tooltip-container",O(k,{position:"absolute",top:"1px",pointerEvents:x,zIndex:Math.max(this.options.style.zIndex||0,(Y&&Y.zIndex||0)+3)}),d.doc.body.appendChild(k),this.renderer=q=new K(k,0,0,Y,void 0,void 0,q.styledMode)}if(g?this.label=q.g("tooltip"):(this.label=q.label("",0,0,m.shape,void 0,void 0,m.useHTML,void 0,"tooltip").attr({padding:m.padding,r:m.borderRadius}),D||this.label.attr({fill:m.backgroundColor,"stroke-width":m.borderWidth||0}).css(m.style).css({pointerEvents:x})),w.outside){const K=this.label,{xSetter:le,ySetter:he}=K;K.xSetter=function(pe){le.call(K,w.distance),k.style.left=pe+"px"},K.ySetter=function(pe){he.call(K,w.distance),k.style.top=pe+"px"}}this.label.attr({zIndex:8}).shadow(m.shadow).add()}return this.label}getPlayingField(){const{body:w,documentElement:D}=J,{chart:m,distance:g,outside:x}=this;return{width:x?Math.max(w.scrollWidth,D.scrollWidth,w.offsetWidth,D.offsetWidth,D.clientWidth)-2*g:m.chartWidth,height:x?Math.max(w.scrollHeight,D.scrollHeight,w.offsetHeight,D.offsetHeight,D.clientHeight):m.chartHeight}}getPosition(w,D,m){const g=this.chart,x=this.distance,k={},q=g.inverted&&m.h||0,Y=this.outside;var K=this.getPlayingField();const le=K.width,he=K.height,pe=g.pointer.getChartPosition();K=oe=>{const ye=oe==="x";return[oe,ye?le:he,ye?w:D].concat(Y?[ye?w*pe.scaleX:D*pe.scaleY,ye?pe.left-x+(m.plotX+g.plotLeft)*pe.scaleX:pe.top-x+(m.plotY+g.plotTop)*pe.scaleY,0,ye?le:he]:[ye?w:D,ye?m.plotX+g.plotLeft:m.plotY+g.plotTop,ye?g.plotLeft:g.plotTop,ye?g.plotLeft+g.plotWidth:g.plotTop+g.plotHeight])};let F=K("y"),Q=K("x"),ce;K=!!m.negative,!g.polar&&g.hoverSeries&&g.hoverSeries.yAxis&&g.hoverSeries.yAxis.reversed&&(K=!K);const ge=!this.followPointer&&ie(m.ttBelow,!g.inverted===K),ke=function(oe,ye,Te,Oe,Le,Ue,nt){const Qe=Y?oe==="y"?x*pe.scaleY:x*pe.scaleX:x,ut=(Te-Oe)/2,Me=Oe<Le-x,Re=Le+x+Oe<ye,Ne=Le-Qe-Te+ut;if(Le=Le+Qe-ut,ge&&Re)k[oe]=Le;else if(!ge&&Me)k[oe]=Ne;else if(Me)k[oe]=Math.min(nt-Oe,0>Ne-q?Ne:Ne-q);else if(Re)k[oe]=Math.max(Ue,Le+q+Te>ye?Le:Le+q);else return!1},re=function(oe,ye,Te,Oe,Le){let Ue;return Le<x||Le>ye-x?Ue=!1:k[oe]=Le<Te/2?1:Le>ye-Oe/2?ye-Oe-2:Le-Te/2,Ue},ve=function(oe){const ye=F;F=Q,Q=ye,ce=oe},_e=function(){ke.apply(0,F)!==!1?re.apply(0,Q)!==!1||ce||(ve(!0),_e()):ce?k.x=k.y=0:(ve(!0),_e())};return(g.inverted||1<this.len)&&ve(),_e(),k}hide(w){const D=this;b.clearTimeout(this.hideTimer),w=ie(w,this.options.hideDelay),this.isHidden||(this.hideTimer=$(function(){D.getLabel().fadeOut(w&&void 0),D.isHidden=!0},w))}init(w,D){this.chart=w,this.options=D,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=D.split&&!w.inverted&&!w.polar,this.shared=D.shared||this.split,this.outside=ie(D.outside,!(!w.scrollablePixelsX&&!w.scrollablePixelsY))}shouldStickOnContact(w){return!(this.followPointer||!this.options.stickOnContact||w&&!this.chart.pointer.inClass(w.target,"highcharts-tooltip"))}move(w,D,m,g){const x=this,k=x.now,q=x.options.animation!==!1&&!x.isHidden&&(1<Math.abs(w-k.x)||1<Math.abs(D-k.y)),Y=x.followPointer||1<x.len;M(k,{x:q?(2*k.x+w)/3:w,y:q?(k.y+D)/2:D,anchorX:Y?void 0:q?(2*k.anchorX+m)/3:m,anchorY:Y?void 0:q?(k.anchorY+g)/2:g}),x.getLabel().attr(k),x.drawTracker(),q&&(b.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){x&&x.move(w,D,m,g)},32))}refresh(w,D){const m=this.chart,g=this.options,x=m.pointer,k=te(w),q=k[0],Y=[];var K=g.formatter||this.defaultFormatter,le=this.shared;const he=m.styledMode;let pe={};if(g.enabled&&q.series){b.clearTimeout(this.hideTimer),this.allowShared=!(!P(w)&&w.series&&w.series.noSharedTooltip),this.followPointer=!this.split&&q.series.tooltipOptions.followPointer,w=this.getAnchor(w,D);var F=w[0],Q=w[1];if(le&&this.allowShared?(x.applyInactiveState(k),k.forEach(function(ce){ce.setState("hover"),Y.push(ce.getLabelConfig())}),pe={x:q.category,y:q.y},pe.points=Y):pe=q.getLabelConfig(),this.len=Y.length,K=K.call(pe,this),le=q.series,this.distance=ie(le.tooltipOptions.distance,16),K===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(K,k);else{let ce=F,ge=Q;if(D&&x.isDirectTouch&&(ce=D.chartX-m.plotLeft,ge=D.chartY-m.plotTop),m.polar||le.options.clip===!1||k.some(ke=>x.isDirectTouch||ke.series.shouldShowTooltip(ce,ge)))D=this.getLabel(),g.style.width&&!he||D.css({width:(this.outside?this.getPlayingField():m.spacingBox).width+"px"}),D.attr({text:K&&K.join?K.join(""):K}),D.addClass(this.getClassName(q),!0),he||D.attr({stroke:g.borderColor||q.color||le.color||"#666666"}),this.updatePosition({plotX:F,plotY:Q,negative:q.negative,ttBelow:q.ttBelow,h:w[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}S(this,"refresh")}}renderSplit(w,D){function m(rt,yt,$t,Wt,Ci=!0){return $t?(yt=Te?0:Qe,rt=L(rt-Wt/2,_e.left,_e.right-Wt-(g.outside?Oe:0))):(yt-=Ue,rt=Ci?rt-Wt-ke:rt+ke,rt=L(rt,Ci?rt:_e.left,_e.right)),{x:rt,y:yt}}const g=this,{chart:x,chart:{chartWidth:k,chartHeight:q,plotHeight:Y,plotLeft:K,plotTop:le,pointer:he,scrollablePixelsY:pe=0,scrollablePixelsX:F,scrollingContainer:{scrollLeft:Q,scrollTop:ce}={scrollLeft:0,scrollTop:0},styledMode:ge},distance:ke,options:re,options:{positioner:ve}}=g,_e=g.outside&&typeof F!="number"?J.documentElement.getBoundingClientRect():{left:Q,right:Q+k,top:ce,bottom:ce+q},oe=g.getLabel(),ye=this.renderer||x.renderer,Te=!(!x.xAxis[0]||!x.xAxis[0].opposite),{left:Oe,top:Le}=he.getChartPosition();let Ue=le+ce,nt=0,Qe=Y-pe;U(w)&&(w=[!1,w]),w=w.slice(0,D.length+1).reduce(function(rt,yt,$t){if(yt!==!1&&yt!==""){$t=D[$t-1]||{isHeader:!0,plotX:D[0].plotX,plotY:Y,series:{}};const ft=$t.isHeader;var Wt=ft?g:$t.series,Ci;{var ti=$t;yt=yt.toString();var Mi=Wt.tt;const{isHeader:Ui,series:dn}=ti;Mi||(Mi={padding:re.padding,r:re.borderRadius},ge||(Mi.fill=re.backgroundColor,Mi["stroke-width"]=(Ci=re.borderWidth)!==null&&Ci!==void 0?Ci:1),Mi=ye.label("",0,0,re[Ui?"headerShape":"shape"],void 0,void 0,re.useHTML).addClass(g.getClassName(ti,!0,Ui)).attr(Mi).add(oe)),Mi.isActive=!0,Mi.attr({text:yt}),ge||Mi.css(re.style).attr({stroke:re.borderColor||ti.color||dn.color||"#333333"}),Ci=Mi}Ci=Wt.tt=Ci,ti=Ci.getBBox(),Wt=ti.width+Ci.strokeWidth(),ft&&(nt=ti.height,Qe+=nt,Te&&(Ue-=nt));{const{isHeader:Ui,plotX:dn=0,plotY:Gn=0,series:Kr}=$t;if(Ui){yt=K+dn;var on=le+Y/2}else{const{xAxis:ci,yAxis:$i}=Kr;yt=ci.pos+L(dn,-ke,ci.len+ke),Kr.shouldShowTooltip(0,$i.pos-le+Gn,{ignoreX:!0})&&(on=$i.pos+Gn)}yt=L(yt,_e.left-ke,_e.right+ke),on={anchorX:yt,anchorY:on}}const{anchorX:Nt,anchorY:fi}=on;typeof fi=="number"?(on=ti.height+1,ti=ve?ve.call(g,Wt,on,$t):m(Nt,fi,ft,Wt),rt.push({align:ve?0:void 0,anchorX:Nt,anchorY:fi,boxWidth:Wt,point:$t,rank:ie(ti.rank,ft?1:0),size:on,target:ti.y,tt:Ci,x:ti.x})):Ci.isActive=!1}return rt},[]),!ve&&w.some(rt=>{var{outside:yt}=g;return yt=(yt?Oe:0)+rt.anchorX,yt<_e.left&&yt+rt.boxWidth<_e.right?!0:yt<Oe-_e.left+rt.boxWidth&&_e.right-yt>yt})&&(w=w.map(rt=>{const{x:yt,y:$t}=m(rt.anchorX,rt.anchorY,rt.point.isHeader,rt.boxWidth,!1);return M(rt,{target:$t,x:yt})})),g.cleanSplit(),z(w,Qe);var ut=Oe,Me=Oe;w.forEach(function(rt){const{x:yt,boxWidth:$t,isHeader:Wt}=rt;Wt||(g.outside&&Oe+yt<ut&&(ut=Oe+yt),!Wt&&g.outside&&ut+$t>Me&&(Me=Oe+yt))}),w.forEach(function(rt){const{x:yt,anchorX:$t,anchorY:Wt,pos:Ci,point:{isHeader:ti}}=rt,Mi={visibility:typeof Ci>"u"?"hidden":"inherit",x:yt,y:(Ci||0)+Ue,anchorX:$t,anchorY:Wt};if(g.outside&&yt<$t){const on=Oe-ut;0<on&&(ti||(Mi.x=yt+on,Mi.anchorX=$t+on),ti&&(Mi.x=(Me-ut)/2,Mi.anchorX=$t+on))}rt.tt.attr(Mi)});const{container:Re,outside:Ne,renderer:Xe}=g;if(Ne&&Re&&Xe){const{width:rt,height:yt,x:$t,y:Wt}=oe.getBBox();Xe.setSize(rt+$t,yt+Wt,!1),Re.style.left=ut+"px",Re.style.top=Le+"px"}I&&oe.attr({opacity:oe.opacity===1?.999:1})}drawTracker(){if(this.shouldStickOnContact()){var w=this.chart,D=this.label,m=this.shared?w.hoverPoints:w.hoverPoint;if(D&&m){var g={x:0,y:0,width:0,height:0};m=this.getAnchor(m);var x=D.getBBox();m[0]+=w.plotLeft-D.translateX,m[1]+=w.plotTop-D.translateY,g.x=Math.min(0,m[0]),g.y=Math.min(0,m[1]),g.width=0>m[0]?Math.max(Math.abs(m[0]),x.width-m[0]):Math.max(Math.abs(m[0]),x.width),g.height=0>m[1]?Math.max(Math.abs(m[1]),x.height-Math.abs(m[1])):Math.max(Math.abs(m[1]),x.height),this.tracker?this.tracker.attr(g):(this.tracker=D.renderer.rect(g).addClass("highcharts-tracker").add(D),w.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(w){return w.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(w,D){const m=w.series,g=m.tooltipOptions;var x=m.xAxis;const k=x&&x.dateTime;x={isFooter:D,labelConfig:w};let q=g.xDateFormat,Y=g[D?"footerFormat":"headerFormat"];return S(this,"headerFormatter",x,function(K){k&&!q&&H(w.key)&&(q=k.getXDateFormat(w.key,g.dateTimeLabelFormats)),k&&q&&(w.point&&w.point.tooltipDateKeys||["key"]).forEach(function(le){Y=Y.replace("{point."+le+"}","{point."+le+":"+q+"}")}),m.chart.styledMode&&(Y=this.styledModeFormat(Y)),K.text=R(Y,{point:w,series:m},this.chart)}),x.text}update(w){this.destroy(),E(!0,this.chart.options.tooltip.userOptions,w),this.init(this.chart,E(!0,this.options,w))}updatePosition(w){const{chart:D,distance:m,options:g}=this;var x=D.pointer;const k=this.getLabel(),{left:q,top:Y,scaleX:K,scaleY:le}=x.getChartPosition();x=(g.positioner||this.getPosition).call(this,k.width,k.height,w);let he=(w.plotX||0)+D.plotLeft;w=(w.plotY||0)+D.plotTop;let pe;this.outside&&(g.positioner&&(x.x+=q-m,x.y+=Y-m),pe=(g.borderWidth||0)+2*m,this.renderer.setSize(k.width+pe,k.height+pe,!1),(K!==1||le!==1)&&(O(this.container,{transform:`scale(${K}, ${le})`}),he*=K,w*=le),he+=q-x.x,w+=Y-x.y),this.move(Math.round(x.x),Math.round(x.y||0),he,w)}}return function(j){const w=[];j.compose=function(D){b.pushUnique(w,D)&&Z(D,"afterInit",function(){const m=this.chart;m.options.tooltip&&(m.tooltip=new j(m,m.options.tooltip))})}}(V||(V={})),V}),n(r,"Core/Series/Point.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Animation/AnimationUtilities.js"],r["Core/Defaults.js"],r["Core/FormatUtilities.js"],r["Core/Utilities.js"]],function(o,d,h,s,b){const{animObject:R}=d,{defaultOptions:J}=h,{format:I}=s,{addEvent:z,defined:Z,erase:L,extend:O,fireEvent:G,getNestedProperty:M,isArray:S,isFunction:P,isNumber:H,isObject:U,merge:E,objectEach:ie,pick:te,syncTimeout:$,removeEvent:V,uniqueKey:j}=b;class w{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const m=this,g={x:m.startXPos,opacity:0},x=m.getGraphicalProps();x.singular.forEach(function(k){m[k]=m[k].animate(k==="dataLabel"?{x:m[k].startXPos,y:m[k].startYPos,opacity:0}:g)}),x.plural.forEach(function(k){m[k].forEach(function(q){q.element&&q.animate(O({x:m.startXPos},q.startYPos?{x:q.startXPos,y:q.startYPos}:{}))})})}applyOptions(m,g){const x=this.series,k=x.options.pointValKey||x.pointValKey;return m=w.prototype.optionsToObject.call(this,m),O(this,m),this.options=this.options?O(this.options,m):m,m.group&&delete this.group,m.dataLabels&&delete this.dataLabels,k&&(this.y=w.prototype.getNestedProperty.call(this,k)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof g>"u"&&x.xAxis&&x.xAxis.hasNames&&(this.x=x.xAxis.nameToX(this)),typeof this.x>"u"&&x?this.x=typeof g>"u"?x.autoIncrement():g:H(m.x)&&x.options.relativeXValue&&(this.x=x.autoIncrement(m.x)),this}destroy(){if(!this.destroyed){const g=this;var m=g.series;const x=m.chart;m=m.options.dataSorting;const k=x.hoverPoints,q=R(g.series.chart.renderer.globalAnimation),Y=()=>{(g.graphic||g.graphics||g.dataLabel||g.dataLabels)&&(V(g),g.destroyElements());for(const K in g)delete g[K]};g.legendItem&&x.legend.destroyItem(g),k&&(g.setState(),L(k,g),k.length||(x.hoverPoints=null)),g===x.hoverPoint&&g.onMouseOut(),m&&m.enabled?(this.animateBeforeDestroy(),$(Y,q.duration)):Y(),x.pointCount--}this.destroyed=!0}destroyElements(m){const g=this;m=g.getGraphicalProps(m),m.singular.forEach(function(x){g[x]=g[x].destroy()}),m.plural.forEach(function(x){g[x].forEach(function(k){k&&k.element&&k.destroy()}),delete g[x]})}firePointEvent(m,g,x){const k=this,q=this.series.options;(q.point.events[m]||k.options&&k.options.events&&k.options.events[m])&&k.importEvents(),m==="click"&&q.allowPointSelect&&(x=function(Y){k.select&&k.select(null,Y.ctrlKey||Y.metaKey||Y.shiftKey)}),G(k,m,g,x)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(m){const g=this,x=[],k={singular:[],plural:[]};let q,Y;for(m=m||{graphic:1,dataLabel:1},m.graphic&&x.push("graphic"),m.dataLabel&&x.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),Y=x.length;Y--;)q=x[Y],g[q]&&k.singular.push(q);return["graphic","dataLabel","connector"].forEach(function(K){const le=K+"s";m[K]&&g[le]&&k.plural.push(le)}),k}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(m){if(m)return m.indexOf("custom.")===0?M(m,this.options):this[m]}getZone(){var m=this.series;const g=m.zones;m=m.zoneAxis||"y";let x,k=0;for(x=g[k];this[m]>=x.value;)x=g[++k];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=x&&x.color&&!this.options.color?x.color:this.nonZonedColor,x}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(m,g,x){return this.series=m,this.applyOptions(g,x),this.id=Z(this.id)?this.id:j(),this.resolveColor(),m.chart.pointCount++,G(this,"afterInit"),this}isValid(){return this.x!==null&&H(this.y)}optionsToObject(m){var g=this.series;const x=g.options.keys,k=x||g.pointArrayMap||["y"],q=k.length;let Y={},K=0,le=0;if(H(m)||m===null)Y[k[0]]=m;else if(S(m))for(!x&&m.length>q&&(g=typeof m[0],g==="string"?Y.name=m[0]:g==="number"&&(Y.x=m[0]),K++);le<q;)x&&typeof m[K]>"u"||(0<k[le].indexOf(".")?w.prototype.setNestedProperty(Y,m[K],k[le]):Y[k[le]]=m[K]),K++,le++;else typeof m=="object"&&(Y=m,m.dataLabels&&(g._hasPointLabels=!0),m.marker&&(g._hasPointMarkers=!0));return Y}pos(m,g=this.plotY){if(!this.destroyed){const{plotX:x,series:k}=this,{chart:q,xAxis:Y,yAxis:K}=k;let le=0,he=0;if(H(x)&&H(g))return m&&(le=Y?Y.pos:q.plotLeft,he=K?K.pos:q.plotTop),q.inverted&&Y&&K?[K.len-g+he,Y.len-x+le]:[x+le,g+he]}}resolveColor(){const m=this.series;var g=m.chart.styledMode;let x;var k=m.chart.options.chart.colorCount;delete this.nonZonedColor,m.options.colorByPoint?(g||(k=m.options.colors||m.chart.options.colors,x=k[m.colorCounter],k=k.length),g=m.colorCounter,m.colorCounter++,m.colorCounter===k&&(m.colorCounter=0)):(g||(x=m.color),g=m.colorIndex),this.colorIndex=te(this.options.colorIndex,g),this.color=te(this.options.color,x)}setNestedProperty(m,g,x){return x.split(".").reduce(function(k,q,Y,K){return k[q]=K.length-1===Y?g:U(k[q],!0)?k[q]:{},k[q]},m),m}shouldDraw(){return!this.isNull}tooltipFormatter(m){const g=this.series,x=g.tooltipOptions,k=te(x.valueDecimals,""),q=x.valuePrefix||"",Y=x.valueSuffix||"";return g.chart.styledMode&&(m=g.chart.tooltip.styledModeFormat(m)),(g.pointArrayMap||["y"]).forEach(function(K){K="{point."+K,(q||Y)&&(m=m.replace(RegExp(K+"}","g"),q+K+"}"+Y)),m=m.replace(RegExp(K+"}","g"),K+":,."+k+"f}")}),I(m,{point:this,series:this.series},g.chart)}update(m,g,x,k){function q(){Y.applyOptions(m);var Q=le&&Y.hasMockGraphic;Q=Y.y===null?!Q:Q,le&&Q&&(Y.graphic=le.destroy(),delete Y.hasMockGraphic),U(m,!0)&&(le&&le.element&&m&&m.marker&&typeof m.marker.symbol<"u"&&(Y.graphic=le.destroy()),m&&m.dataLabels&&Y.dataLabel&&(Y.dataLabel=Y.dataLabel.destroy()),Y.connector&&(Y.connector=Y.connector.destroy())),F=Y.index,K.updateParallelArrays(Y,F),pe.data[F]=U(pe.data[F],!0)||U(m,!0)?Y.options:te(m,pe.data[F]),K.isDirty=K.isDirtyData=!0,!K.fixedBox&&K.hasCartesianSeries&&(he.isDirtyBox=!0),pe.legendType==="point"&&(he.isDirtyLegend=!0),g&&he.redraw(x)}const Y=this,K=Y.series,le=Y.graphic,he=K.chart,pe=K.options;let F;g=te(g,!0),k===!1?q():Y.firePointEvent("update",{options:m},q)}remove(m,g){this.series.removePoint(this.series.data.indexOf(this),m,g)}select(m,g){const x=this,k=x.series,q=k.chart;this.selectedStaging=m=te(m,!x.selected),x.firePointEvent(m?"select":"unselect",{accumulate:g},function(){x.selected=x.options.selected=m,k.options.data[k.data.indexOf(x)]=x.options,x.setState(m&&"select"),g||q.getSelectedPoints().forEach(function(Y){const K=Y.series;Y.selected&&Y!==x&&(Y.selected=Y.options.selected=!1,K.options.data[K.data.indexOf(Y)]=Y.options,Y.setState(q.hoverPoints&&K.options.inactiveOtherPoints?"inactive":""),Y.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(m){const g=this.series.chart,x=g.pointer;m=m?x.normalize(m):x.getChartCoordinatesFromPoint(this,g.inverted),x.runPointActions(m,this)}onMouseOut(){const m=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(m.hoverPoints||[]).forEach(function(g){g.setState()}),m.hoverPoints=m.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const m=this,g=E(m.series.options.point,m.options).events;m.events=g,ie(g,function(x,k){P(x)&&z(m,k,x)}),this.hasImportedEvents=!0}}setState(m,g){const x=this.series;var k=this.state,q=x.options.states[m||"normal"]||{},Y=J.plotOptions[x.type].marker&&x.options.marker;const K=Y&&Y.enabled===!1,le=Y&&Y.states&&Y.states[m||"normal"]||{},he=le.enabled===!1,pe=this.marker||{},F=x.chart,Q=Y&&x.markerAttribs;let ce=x.halo;var ge;let ke;var re=x.stateMarkerGraphic;if(m=m||"",!(m===this.state&&!g||this.selected&&m!=="select"||q.enabled===!1||m&&(he||K&&le.enabled===!1)||m&&pe.states&&pe.states[m]&&pe.states[m].enabled===!1)){if(this.state=m,Q&&(ge=x.markerAttribs(this,m)),this.graphic&&!this.hasMockGraphic){if(k&&this.graphic.removeClass("highcharts-point-"+k),m&&this.graphic.addClass("highcharts-point-"+m),!F.styledMode){k=x.pointAttribs(this,m),ke=te(F.options.chart.animation,q.animation);const ve=k.opacity;x.options.inactiveOtherPoints&&H(ve)&&((this.dataLabels||[]).forEach(function(_e){_e&&!_e.hasClass("highcharts-data-label-hidden")&&_e.animate({opacity:ve},ke)}),this.connector&&this.connector.animate({opacity:ve},ke)),this.graphic.animate(k,ke)}ge&&this.graphic.animate(ge,te(F.options.chart.animation,le.animation,Y.animation)),re&&re.hide()}else m&&le&&(Y=pe.symbol||x.symbol,re&&re.currentSymbol!==Y&&(re=re.destroy()),ge&&(re?re[g?"animate":"attr"]({x:ge.x,y:ge.y}):Y&&(x.stateMarkerGraphic=re=F.renderer.symbol(Y,ge.x,ge.y,ge.width,ge.height).add(x.markerGroup),re.currentSymbol=Y)),!F.styledMode&&re&&this.state!=="inactive"&&re.attr(x.pointAttribs(this,m))),re&&(re[m&&this.isInside?"show":"hide"](),re.element.point=this,re.addClass(this.getClassName(),!0));q=q.halo,ge=(re=this.graphic||re)&&re.visibility||"inherit",q&&q.size&&re&&ge!=="hidden"&&!this.isCluster?(ce||(x.halo=ce=F.renderer.path().add(re.parentGroup)),ce.show()[g?"animate":"attr"]({d:this.haloPath(q.size)}),ce.attr({class:"highcharts-halo highcharts-color-"+te(this.colorIndex,x.colorIndex)+(this.className?" "+this.className:""),visibility:ge,zIndex:-1}),ce.point=this,F.styledMode||ce.attr(O({fill:this.color||x.color,"fill-opacity":q.opacity},o.filterUserAttributes(q.attributes||{})))):ce&&ce.point&&ce.point.haloPath&&ce.animate({d:ce.point.haloPath(0)},null,ce.hide),G(this,"afterSetState",{state:m})}}haloPath(m){const g=this.pos();return g?this.series.chart.renderer.symbols.circle(Math.floor(g[0])-m,g[1]-m,2*m,2*m):[]}}return w}),n(r,"Core/Pointer.js",[r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(o,d,h){const{parse:s}=o,{charts:b,noop:R}=d,{addEvent:J,attr:I,css:z,defined:Z,extend:L,find:O,fireEvent:G,isNumber:M,isObject:S,objectEach:P,offset:H,pick:U,splat:E}=h;class ie{constructor($,V){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=$,this.hasDragged=!1,this.options=V,this.init($,V)}applyInactiveState($){let V=[],j;($||[]).forEach(function(w){j=w.series,V.push(j),j.linkedParent&&V.push(j.linkedParent),j.linkedSeries&&(V=V.concat(j.linkedSeries)),j.navigatorSeries&&V.push(j.navigatorSeries)}),this.chart.series.forEach(function(w){V.indexOf(w)===-1?w.setState("inactive",!0):w.options.inactiveOtherPoints&&w.setAllPointsToState("inactive")})}destroy(){const $=this;this.eventsToUnbind.forEach(V=>V()),this.eventsToUnbind=[],d.chartCount||(ie.unbindDocumentMouseUp&&(ie.unbindDocumentMouseUp=ie.unbindDocumentMouseUp()),ie.unbindDocumentTouchEnd&&(ie.unbindDocumentTouchEnd=ie.unbindDocumentTouchEnd())),clearInterval($.tooltipTimeout),P($,function(V,j){$[j]=void 0})}getSelectionMarkerAttrs($,V){const j={args:{chartX:$,chartY:V},attrs:{},shapeType:"rect"};return G(this,"getSelectionMarkerAttrs",j,w=>{const{chart:D,mouseDownX:m=0,mouseDownY:g=0,zoomHor:x,zoomVert:k}=this;w=w.attrs;let q;w.x=D.plotLeft,w.y=D.plotTop,w.width=x?1:D.plotWidth,w.height=k?1:D.plotHeight,x&&(q=$-m,w.width=Math.abs(q),w.x=(0<q?0:q)+m),k&&(q=V-g,w.height=Math.abs(q),w.y=(0<q?0:q)+g)}),j}drag($){const V=this.chart,j=V.options.chart;var w=V.plotLeft;const D=V.plotTop,m=V.plotWidth,g=V.plotHeight,x=this.mouseDownX||0,k=this.mouseDownY||0,q=S(j.panning)?j.panning&&j.panning.enabled:j.panning,Y=j.panKey&&$[j.panKey+"Key"];let K=$.chartX,le=$.chartY,he=this.selectionMarker;if((!he||!he.touch)&&(K<w?K=w:K>w+m&&(K=w+m),le<D?le=D:le>D+g&&(le=D+g),this.hasDragged=Math.sqrt(Math.pow(x-K,2)+Math.pow(k-le,2)),10<this.hasDragged)){w=V.isInsidePlot(x-w,k-D,{visiblePlotOnly:!0});const{shapeType:pe,attrs:F}=this.getSelectionMarkerAttrs(K,le);!V.hasCartesianSeries&&!V.mapView||!this.zoomX&&!this.zoomY||!w||Y||he||(this.selectionMarker=he=V.renderer[pe](),he.attr({class:"highcharts-selection-marker",zIndex:7}).add(),V.styledMode||he.attr({fill:j.selectionMarkerFill||s("#334eff").setOpacity(.25).get()})),he&&he.attr(F),w&&!he&&q&&V.pan($,j.panning)}}dragStart($){const V=this.chart;V.mouseIsDown=$.type,V.cancelClick=!1,V.mouseDownX=this.mouseDownX=$.chartX,V.mouseDownY=this.mouseDownY=$.chartY}getSelectionBox($){const V={args:{marker:$},result:{}};return G(this,"getSelectionBox",V,j=>{j.result={x:$.attr?+$.attr("x"):$.x,y:$.attr?+$.attr("y"):$.y,width:$.attr?$.attr("width"):$.width,height:$.attr?$.attr("height"):$.height}}),V.result}drop($){const V=this,j=this.chart,w=this.hasPinched;if(this.selectionMarker){const{x:D,y:m,width:g,height:x}=this.getSelectionBox(this.selectionMarker),k={originalEvent:$,xAxis:[],yAxis:[],x:D,y:m,width:g,height:x};let q=!!j.mapView;(this.hasDragged||w)&&(j.axes.forEach(function(Y){if(Y.zoomEnabled&&Z(Y.min)&&(w||V[{xAxis:"zoomX",yAxis:"zoomY"}[Y.coll]])&&M(D)&&M(m)&&M(g)&&M(x)){var K=Y.horiz;const le=$.type==="touchend"?Y.minPixelPadding:0,he=Y.toValue((K?D:m)+le);K=Y.toValue((K?D+g:m+x)-le),k[Y.coll].push({axis:Y,min:Math.min(he,K),max:Math.max(he,K)}),q=!0}}),q&&G(j,"selection",k,function(Y){j.zoom(L(Y,w?{animation:!1}:null))})),M(j.index)&&(this.selectionMarker=this.selectionMarker.destroy()),w&&this.scaleGroups()}j&&M(j.index)&&(z(j.container,{cursor:j._cursor}),j.cancelClick=10<this.hasDragged,j.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint($,V,j){let w;return $.forEach(function(D){var m=!(D.noSharedTooltip&&V)&&0>D.options.findNearestPointBy.indexOf("y");if(D=D.searchPoint(j,m),(m=S(D,!0)&&D.series)&&!(m=!S(w,!0))){{m=w.distX-D.distX;const g=w.dist-D.dist,x=(D.series.group&&D.series.group.zIndex)-(w.series.group&&w.series.group.zIndex);m=m!==0&&V?m:g!==0?g:x!==0?x:w.series.index>D.series.index?-1:1}m=0<m}m&&(w=D)}),w}getChartCoordinatesFromPoint($,V){var j=$.series;const w=j.xAxis;j=j.yAxis;const D=$.shapeArgs;if(w&&j){let m=U($.clientX,$.plotX),g=$.plotY||0;return $.isNode&&D&&M(D.x)&&M(D.y)&&(m=D.x,g=D.y),V?{chartX:j.len+j.pos-g,chartY:w.len+w.pos-m}:{chartX:m+w.pos,chartY:g+j.pos}}if(D&&D.x&&D.y)return{chartX:D.x,chartY:D.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:$}=this.chart;const V=H($);this.chartPosition={left:V.left,top:V.top,scaleX:1,scaleY:1};const j=$.offsetWidth;return $=$.offsetHeight,2<j&&2<$&&(this.chartPosition.scaleX=V.width/j,this.chartPosition.scaleY=V.height/$),this.chartPosition}getCoordinates($){const V={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(j){V[j.isXAxis?"xAxis":"yAxis"].push({axis:j,value:j.toValue($[j.horiz?"chartX":"chartY"])})}),V}getHoverData($,V,j,w,D,m){const g=[];w=!(!w||!$);const x=function(K){return K.visible&&!(!D&&K.directTouch)&&U(K.options.enableMouseTracking,!0)};let k,q={chartX:m?m.chartX:void 0,chartY:m?m.chartY:void 0,shared:D};G(this,"beforeGetHoverData",q),k=V&&!V.stickyTracking?[V]:j.filter(K=>K.stickyTracking&&(q.filter||x)(K));const Y=w||!m?$:this.findNearestKDPoint(k,D,m);return V=Y&&Y.series,Y&&(D&&!V.noSharedTooltip?(k=j.filter(function(K){return q.filter?q.filter(K):x(K)&&!K.noSharedTooltip}),k.forEach(function(K){let le=O(K.points,function(he){return he.x===Y.x&&!he.isNull});S(le)&&(K.boosted&&K.boost&&(le=K.boost.getPoint(le)),g.push(le))})):g.push(Y)),q={hoverPoint:Y},G(this,"afterGetHoverData",q),{hoverPoint:q.hoverPoint,hoverSeries:V,hoverPoints:g}}getPointFromEvent($){$=$.target;let V;for(;$&&!V;)V=$.point,$=$.parentNode;return V}onTrackerMouseOut($){$=$.relatedTarget;const V=this.chart.hoverSeries;this.isDirectTouch=!1,!V||!$||V.stickyTracking||this.inClass($,"highcharts-tooltip")||this.inClass($,"highcharts-series-"+V.index)&&this.inClass($,"highcharts-tracker")||V.onMouseOut()}inClass($,V){let j;for(;$;){if(j=I($,"class")){if(j.indexOf(V)!==-1)return!0;if(j.indexOf("highcharts-container")!==-1)return!1}$=$.parentElement}}init($,V){this.options=V,this.chart=$,this.runChartClick=!(!V.chart.events||!V.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),G(this,"afterInit")}normalize($,V){var j=$.touches,w=j?j.length?j.item(0):U(j.changedTouches,$.changedTouches)[0]:$;return V||(V=this.getChartPosition()),j=w.pageX-V.left,w=w.pageY-V.top,j/=V.scaleX,w/=V.scaleY,L($,{chartX:Math.round(j),chartY:Math.round(w)})}onContainerClick($){const V=this.chart,j=V.hoverPoint;$=this.normalize($);const w=V.plotLeft,D=V.plotTop;V.cancelClick||(j&&this.inClass($.target,"highcharts-tracker")?(G(j.series,"click",L($,{point:j})),V.hoverPoint&&j.firePointEvent("click",$)):(L($,this.getCoordinates($)),V.isInsidePlot($.chartX-w,$.chartY-D,{visiblePlotOnly:!0})&&G(V,"click",$)))}onContainerMouseDown($){const V=(($.buttons||$.button)&1)===1;$=this.normalize($),d.isFirefox&&$.button!==0&&this.onContainerMouseMove($),(typeof $.button>"u"||V)&&(this.zoomOption($),V&&$.preventDefault&&$.preventDefault(),this.dragStart($))}onContainerMouseLeave($){const V=b[U(ie.hoverChartIndex,-1)];$=this.normalize($),V&&$.relatedTarget&&!this.inClass($.relatedTarget,"highcharts-tooltip")&&(V.pointer.reset(),V.pointer.chartPosition=void 0)}onContainerMouseEnter($){delete this.chartPosition}onContainerMouseMove($){const V=this.chart,j=V.tooltip;$=this.normalize($),this.setHoverChartIndex(),(V.mouseIsDown==="mousedown"||this.touchSelect($))&&this.drag($),V.openMenu||!this.inClass($.target,"highcharts-tracker")&&!V.isInsidePlot($.chartX-V.plotLeft,$.chartY-V.plotTop,{visiblePlotOnly:!0})||j&&j.shouldStickOnContact($)||(this.inClass($.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions($))}onDocumentTouchEnd($){const V=b[U(ie.hoverChartIndex,-1)];V&&V.pointer.drop($)}onContainerTouchMove($){this.touchSelect($)?this.onContainerMouseMove($):this.touch($)}onContainerTouchStart($){this.touchSelect($)?this.onContainerMouseDown($):(this.zoomOption($),this.touch($,!0))}onDocumentMouseMove($){const V=this.chart,j=V.tooltip,w=this.chartPosition;$=this.normalize($,w),!w||V.isInsidePlot($.chartX-V.plotLeft,$.chartY-V.plotTop,{visiblePlotOnly:!0})||j&&j.shouldStickOnContact($)||this.inClass($.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp($){const V=b[U(ie.hoverChartIndex,-1)];V&&V.pointer.drop($)}pinch($){const V=this,j=V.chart,w=V.pinchDown,D=$.touches||[],m=D.length,g=V.lastValidTouch,x=V.hasZoom,k={},q=m===1&&(V.inClass($.target,"highcharts-tracker")&&j.runTrackerClick||V.runChartClick),Y={};var K=V.chart.tooltip;K=m===1&&U(K&&K.options.followTouchMove,!0);let le=V.selectionMarker;1<m?V.initiated=!0:K&&(V.initiated=!1),x&&V.initiated&&!q&&$.cancelable!==!1&&$.preventDefault(),[].map.call(D,function(he){return V.normalize(he)}),$.type==="touchstart"?([].forEach.call(D,function(he,pe){w[pe]={chartX:he.chartX,chartY:he.chartY}}),g.x=[w[0].chartX,w[1]&&w[1].chartX],g.y=[w[0].chartY,w[1]&&w[1].chartY],j.axes.forEach(function(he){if(he.zoomEnabled){const pe=j.bounds[he.horiz?"h":"v"],F=he.minPixelPadding,Q=he.toPixels(Math.min(U(he.options.min,he.dataMin),he.dataMin)),ce=he.toPixels(Math.max(U(he.options.max,he.dataMax),he.dataMax)),ge=Math.max(Q,ce);pe.min=Math.min(he.pos,Math.min(Q,ce)-F),pe.max=Math.max(he.pos+he.len,ge+F)}}),V.res=!0):K?this.runPointActions(V.normalize($)):w.length&&(G(j,"touchpan",{originalEvent:$},()=>{le||(V.selectionMarker=le=L({destroy:R,touch:!0},j.plotBox)),V.pinchTranslate(w,D,k,le,Y,g),V.hasPinched=x,V.scaleGroups(k,Y)}),V.res&&(V.res=!1,this.reset(!1,0)))}pinchTranslate($,V,j,w,D,m){this.zoomHor&&this.pinchTranslateDirection(!0,$,V,j,w,D,m),this.zoomVert&&this.pinchTranslateDirection(!1,$,V,j,w,D,m)}pinchTranslateDirection($,V,j,w,D,m,g,x){const k=this.chart,q=$?"x":"y",Y=$?"X":"Y",K="chart"+Y,le=$?"width":"height",he=k["plot"+($?"Left":"Top")],pe=k.inverted,F=k.bounds[$?"h":"v"],Q=V.length===1,ce=V[0][K],ge=!Q&&V[1][K];V=function(){typeof oe=="number"&&20<Math.abs(ce-ge)&&(ve=x||Math.abs(_e-oe)/Math.abs(ce-ge)),re=(he-_e)/ve+ce,ke=k["plot"+($?"Width":"Height")]/ve};let ke,re,ve=x||1,_e=j[0][K],oe=!Q&&j[1][K],ye;V(),j=re,j<F.min?(j=F.min,ye=!0):j+ke>F.max&&(j=F.max-ke,ye=!0),ye?(_e-=.8*(_e-g[q][0]),typeof oe=="number"&&(oe-=.8*(oe-g[q][1])),V()):g[q]=[_e,oe],pe||(m[q]=re-he,m[le]=ke),m=pe?1/ve:ve,D[le]=ke,D[q]=j,w[pe?$?"scaleY":"scaleX":"scale"+Y]=ve,w["translate"+Y]=m*he+(_e-m*ce)}reset($,V){const j=this.chart,w=j.hoverSeries,D=j.hoverPoint,m=j.hoverPoints,g=j.tooltip,x=g&&g.shared?m:D;$&&x&&E(x).forEach(function(k){k.series.isCartesian&&typeof k.plotX>"u"&&($=!1)}),$?g&&x&&E(x).length&&(g.refresh(x),g.shared&&m?m.forEach(function(k){k.setState(k.state,!0),k.series.isCartesian&&(k.series.xAxis.crosshair&&k.series.xAxis.drawCrosshair(null,k),k.series.yAxis.crosshair&&k.series.yAxis.drawCrosshair(null,k))}):D&&(D.setState(D.state,!0),j.axes.forEach(function(k){k.crosshair&&D.series[k.coll]===k&&k.drawCrosshair(null,D)}))):(D&&D.onMouseOut(),m&&m.forEach(function(k){k.setState()}),w&&w.onMouseOut(),g&&g.hide(V),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),j.axes.forEach(function(k){k.hideCrosshair()}),this.hoverX=j.hoverPoints=j.hoverPoint=null)}runPointActions($,V,j){const w=this.chart,D=w.tooltip&&w.tooltip.options.enabled?w.tooltip:void 0,m=D?D.shared:!1;let g=V||w.hoverPoint,x=g&&g.series||w.hoverSeries;V=this.getHoverData(g,x,w.series,(!$||$.type!=="touchmove")&&(!!V||x&&x.directTouch&&this.isDirectTouch),m,$),g=V.hoverPoint,x=V.hoverSeries;const k=V.hoverPoints;V=x&&x.tooltipOptions.followPointer&&!x.tooltipOptions.split;const q=m&&x&&!x.noSharedTooltip;if(g&&(j||g!==w.hoverPoint||D&&D.isHidden)){if((w.hoverPoints||[]).forEach(function(Y){k.indexOf(Y)===-1&&Y.setState()}),w.hoverSeries!==x&&x.onMouseOver(),this.applyInactiveState(k),(k||[]).forEach(function(Y){Y.setState("hover")}),w.hoverPoint&&w.hoverPoint.firePointEvent("mouseOut"),!g.series)return;w.hoverPoints=k,w.hoverPoint=g,g.firePointEvent("mouseOver",void 0,()=>{D&&g&&D.refresh(q?k:g,$)})}else V&&D&&!D.isHidden&&(j=D.getAnchor([{}],$),w.isInsidePlot(j[0],j[1],{visiblePlotOnly:!0})&&D.updatePosition({plotX:j[0],plotY:j[1]}));this.unDocMouseMove||(this.unDocMouseMove=J(w.container.ownerDocument,"mousemove",function(Y){const K=b[ie.hoverChartIndex];K&&K.pointer.onDocumentMouseMove(Y)}),this.eventsToUnbind.push(this.unDocMouseMove)),w.axes.forEach(function(Y){const K=U((Y.crosshair||{}).snap,!0);let le;K&&((le=w.hoverPoint)&&le.series[Y.coll]===Y||(le=O(k,he=>he.series&&he.series[Y.coll]===Y))),le||!K?Y.drawCrosshair($,le):Y.hideCrosshair()})}scaleGroups($,V){const j=this.chart;j.series.forEach(function(w){const D=$||w.getPlotBox();w.group&&(w.xAxis&&w.xAxis.zoomEnabled||j.mapView)&&(w.group.attr(D),w.markerGroup&&(w.markerGroup.attr(D),w.markerGroup.clip(V?j.clipRect:null)),w.dataLabelsGroup&&w.dataLabelsGroup.attr(D))}),j.clipRect.attr(V||j.clipBox)}setDOMEvents(){const $=this.chart.container,V=$.ownerDocument;$.onmousedown=this.onContainerMouseDown.bind(this),$.onmousemove=this.onContainerMouseMove.bind(this),$.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(J($,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(J($,"mouseleave",this.onContainerMouseLeave.bind(this))),ie.unbindDocumentMouseUp||(ie.unbindDocumentMouseUp=J(V,"mouseup",this.onDocumentMouseUp.bind(this)));let j=this.chart.renderTo.parentElement;for(;j&&j.tagName!=="BODY";)this.eventsToUnbind.push(J(j,"scroll",()=>{delete this.chartPosition})),j=j.parentElement;d.hasTouch&&(this.eventsToUnbind.push(J($,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(J($,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),ie.unbindDocumentTouchEnd||(ie.unbindDocumentTouchEnd=J(V,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const $=this.chart,V=d.charts[U(ie.hoverChartIndex,-1)];V&&V!==$&&V.pointer.onContainerMouseLeave({relatedTarget:$.container}),V&&V.mouseIsDown||(ie.hoverChartIndex=$.index)}touch($,V){const j=this.chart;let w;this.setHoverChartIndex(),$.touches.length===1?($=this.normalize($),j.isInsidePlot($.chartX-j.plotLeft,$.chartY-j.plotTop,{visiblePlotOnly:!0})&&!j.openMenu?(V&&this.runPointActions($),$.type==="touchmove"&&(V=this.pinchDown,w=V[0]?4<=Math.sqrt(Math.pow(V[0].chartX-$.chartX,2)+Math.pow(V[0].chartY-$.chartY,2)):!1),U(w,!0)&&this.pinch($)):V&&this.reset()):$.touches.length===2&&this.pinch($)}touchSelect($){return!(!this.chart.options.chart.zooming.singleTouch||!$.touches||$.touches.length!==1)}zoomOption($){var V=this.chart,j=V.options.chart;V=V.inverted;let w=j.zooming.type||"";/touch/.test($.type)&&(w=U(j.zooming.pinchType,w)),this.zoomX=$=/x/.test(w),this.zoomY=j=/y/.test(w),this.zoomHor=$&&!V||j&&V,this.zoomVert=j&&!V||$&&V,this.hasZoom=$||j}}return function(te){const $=[],V=[];te.compose=function(j){h.pushUnique(V,j)&&J(j,"beforeRender",function(){this.pointer=new te(this,this.options)})},te.dissolve=function(){for(let j=0,w=$.length;j<w;++j)$[j]();$.length=0}}(ie||(ie={})),ie}),n(r,"Core/Legend/Legend.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/FormatUtilities.js"],r["Core/Globals.js"],r["Core/Series/Point.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Utilities.js"]],function(o,d,h,s,b,R){const{animObject:J,setAnimation:I}=o,{format:z}=d,{marginNames:Z}=h,{distribute:L}=b,{addEvent:O,createElement:G,css:M,defined:S,discardElement:P,find:H,fireEvent:U,isNumber:E,merge:ie,pick:te,relativeLength:$,stableSort:V,syncTimeout:j}=R;class w{constructor(m,g){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=m,this.init(m,g)}init(m,g){this.chart=m,this.setOptions(g),g.enabled&&(this.render(),O(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),O(this.chart,"render",()=>{this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(m){const g=te(m.padding,8);this.options=m,this.chart.styledMode||(this.itemStyle=m.itemStyle,this.itemHiddenStyle=ie(this.itemStyle,m.itemHiddenStyle)),this.itemMarginTop=m.itemMarginTop,this.itemMarginBottom=m.itemMarginBottom,this.padding=g,this.initialItemY=g-5,this.symbolWidth=te(m.symbolWidth,16),this.pages=[],this.proximate=m.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(m,g){const x=this.chart;this.setOptions(ie(!0,this.options,m)),this.destroy(),x.isDirtyLegend=x.isDirtyBox=!0,te(g,!0)&&x.redraw(),U(this,"afterUpdate")}colorizeItem(m,g){const{group:x,label:k,line:q,symbol:Y}=m.legendItem||{};if(x&&x[g?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var K=this.options;const le=this.itemHiddenStyle.color;K=g?K.itemStyle.color:le;const he=g&&m.color||le,pe=m.options&&m.options.marker;let F={fill:he};k&&k.css({fill:K}),q&&q.attr({stroke:he}),Y&&(pe&&Y.isMarker&&(F=m.pointAttribs(),g||(F.stroke=F.fill=le)),Y.attr(F))}U(this,"afterColorizeItem",{item:m,visible:g})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(m){const{group:g,x=0,y:k=0}=m.legendItem||{};var q=this.options,Y=q.symbolPadding;const K=!q.rtl;q=m.checkbox,g&&g.element&&(Y={translateX:K?x:this.legendWidth-x-2*Y-4,translateY:k},g[S(g.translateY)?"animate":"attr"](Y,void 0,()=>{U(this,"afterPositionItem",{item:m})})),q&&(q.x=x,q.y=k)}destroyItem(m){const g=m.checkbox,x=m.legendItem||{};for(const k of["group","label","line","symbol"])x[k]&&(x[k]=x[k].destroy());g&&P(g),m.legendItem=void 0}destroy(){for(const m of this.getAllItems())this.destroyItem(m);for(const m of"clipRect up down pager nav box title group".split(" "))this[m]&&(this[m]=this[m].destroy());this.display=null}positionCheckboxes(){const m=this.group&&this.group.alignAttr,g=this.clipHeight||this.legendHeight,x=this.titleHeight;let k;m&&(k=m.translateY,this.allItems.forEach(function(q){const Y=q.checkbox;let K;Y&&(K=k+x+Y.y+(this.scrollOffset||0)+3,M(Y,{left:m.translateX+q.checkboxOffset+Y.x-20+"px",top:K+"px",display:this.proximate||K>k-6&&K<k+g-6?"":"none"}))},this))}renderTitle(){var m=this.options;const g=this.padding,x=m.title;let k=0;x.text&&(this.title||(this.title=this.chart.renderer.label(x.text,g-3,g-4,void 0,void 0,void 0,m.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(x.style),this.title.add(this.group)),x.width||this.title.css({width:this.maxLegendWidth+"px"}),m=this.title.getBBox(),k=m.height,this.offsetWidth=m.width,this.contentGroup.attr({translateY:k})),this.titleHeight=k}setText(m){const g=this.options;m.legendItem.label.attr({text:g.labelFormat?z(g.labelFormat,m,this.chart):g.labelFormatter.call(m)})}renderItem(m){const g=m.legendItem=m.legendItem||{};var x=this.chart,k=x.renderer;const q=this.options,Y=this.symbolWidth,K=q.symbolPadding||0,le=this.itemStyle,he=this.itemHiddenStyle,pe=q.layout==="horizontal"?te(q.itemDistance,20):0,F=!q.rtl,Q=!m.series,ce=!Q&&m.series.drawLegendSymbol?m.series:m;var ge=ce.options;const ke=this.createCheckboxForItem&&ge&&ge.showCheckbox,re=q.useHTML,ve=m.options.className;let _e=g.label;ge=Y+K+pe+(ke?20:0),_e||(g.group=k.g("legend-item").addClass("highcharts-"+ce.type+"-series highcharts-color-"+m.colorIndex+(ve?" "+ve:"")+(Q?" highcharts-series-"+m.index:"")).attr({zIndex:1}).add(this.scrollGroup),g.label=_e=k.text("",F?Y+K:-K,this.baseline||0,re),x.styledMode||_e.css(ie(m.visible?le:he)),_e.attr({align:F?"left":"right",zIndex:2}).add(g.group),this.baseline||(this.fontMetrics=k.fontMetrics(_e),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,_e.attr("y",this.baseline),this.symbolHeight=te(q.symbolHeight,this.fontMetrics.f),q.squareSymbol&&(this.symbolWidth=te(q.symbolWidth,Math.max(this.symbolHeight,16)),ge=this.symbolWidth+K+pe+(ke?20:0),F&&_e.attr("x",this.symbolWidth+K))),ce.drawLegendSymbol(this,m),this.setItemEvents&&this.setItemEvents(m,_e,re)),ke&&!m.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(m),this.colorizeItem(m,m.visible),!x.styledMode&&le.width||_e.css({width:(q.itemWidth||this.widthOption||x.spacingBox.width)-ge+"px"}),this.setText(m),x=_e.getBBox(),k=this.fontMetrics&&this.fontMetrics.h||0,m.itemWidth=m.checkboxOffset=q.itemWidth||g.labelWidth||x.width+ge,this.maxItemWidth=Math.max(this.maxItemWidth,m.itemWidth),this.totalItemWidth+=m.itemWidth,this.itemHeight=m.itemHeight=Math.round(g.labelHeight||(x.height>1.5*k?x.height:k))}layoutItem(m){var g=this.options;const x=this.padding,k=g.layout==="horizontal",q=m.itemHeight,Y=this.itemMarginBottom,K=this.itemMarginTop,le=k?te(g.itemDistance,20):0,he=this.maxLegendWidth;g=g.alignColumns&&this.totalItemWidth>he?this.maxItemWidth:m.itemWidth;const pe=m.legendItem||{};k&&this.itemX-x+g>he&&(this.itemX=x,this.lastLineHeight&&(this.itemY+=K+this.lastLineHeight+Y),this.lastLineHeight=0),this.lastItemY=K+this.itemY+Y,this.lastLineHeight=Math.max(q,this.lastLineHeight),pe.x=this.itemX,pe.y=this.itemY,k?this.itemX+=g:(this.itemY+=K+q+Y,this.lastLineHeight=q),this.offsetWidth=this.widthOption||Math.max((k?this.itemX-x-(m.checkbox?0:le):g)+x,this.offsetWidth)}getAllItems(){let m=[];return this.chart.series.forEach(function(g){const x=g&&g.options;g&&te(x.showInLegend,S(x.linkedTo)?!1:void 0,!0)&&(m=m.concat((g.legendItem||{}).labels||(x.legendType==="point"?g.data:g)))}),U(this,"afterGetAllItems",{allItems:m}),m}getAlignment(){const m=this.options;return this.proximate?m.align.charAt(0)+"tv":m.floating?"":m.align.charAt(0)+m.verticalAlign.charAt(0)+m.layout.charAt(0)}adjustMargins(m,g){const x=this.chart,k=this.options,q=this.getAlignment();q&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(Y,K){Y.test(q)&&!S(m[K])&&(x[Z[K]]=Math.max(x[Z[K]],x.legend[(K+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][K]*k[K%2?"x":"y"]+te(k.margin,12)+g[K]+(x.titleOffset[K]||0)))})}proximatePositions(){const m=this.chart,g=[],x=this.options.align==="left";this.allItems.forEach(function(q){var Y,K=x;let le;q.yAxis&&(q.xAxis.options.reversed&&(K=!K),q.points&&(Y=H(K?q.points:q.points.slice(0).reverse(),function(he){return E(he.plotY)})),K=this.itemMarginTop+q.legendItem.label.getBBox().height+this.itemMarginBottom,le=q.yAxis.top-m.plotTop,q.visible?(Y=Y?Y.plotY:q.yAxis.height,Y+=le-.3*K):Y=le+q.yAxis.height,g.push({target:Y,size:K,item:q}))},this);let k;for(const q of L(g,m.plotHeight))k=q.item.legendItem||{},E(q.pos)&&(k.y=m.plotTop-m.spacing[0]+q.pos)}render(){const m=this.chart,g=m.renderer,x=this.options,k=this.padding;var q=this.getAllItems();let Y,K=this.group,le=this.box;this.itemX=k,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=$(x.width,m.spacingBox.width-k);var he=m.spacingBox.width-2*k-x.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(he/=2),this.maxLegendWidth=this.widthOption||he,K||(this.group=K=g.g("legend").addClass(x.className||"").attr({zIndex:7}).add(),this.contentGroup=g.g().attr({zIndex:1}).add(K),this.scrollGroup=g.g().add(this.contentGroup)),this.renderTitle(),V(q,(pe,F)=>(pe.options&&pe.options.legendIndex||0)-(F.options&&F.options.legendIndex||0)),x.reversed&&q.reverse(),this.allItems=q,this.display=he=!!q.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,q.forEach(this.renderItem,this),q.forEach(this.layoutItem,this),q=(this.widthOption||this.offsetWidth)+k,Y=this.lastItemY+this.lastLineHeight+this.titleHeight,Y=this.handleOverflow(Y),Y+=k,le||(this.box=le=g.rect().addClass("highcharts-legend-box").attr({r:x.borderRadius}).add(K)),m.styledMode||le.attr({stroke:x.borderColor,"stroke-width":x.borderWidth||0,fill:x.backgroundColor||"none"}).shadow(x.shadow),0<q&&0<Y&&le[le.placed?"animate":"attr"](le.crisp.call({},{x:0,y:0,width:q,height:Y},le.strokeWidth())),K[he?"show":"hide"](),m.styledMode&&K.getStyle("display")==="none"&&(q=Y=0),this.legendWidth=q,this.legendHeight=Y,he&&this.align(),this.proximate||this.positionItems(),U(this,"afterRender")}align(m=this.chart.spacingBox){const g=this.chart,x=this.options;let k=m.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<g.titleOffset[0]?k+=g.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<g.titleOffset[2]&&(k-=g.titleOffset[2]),k!==m.y&&(m=ie(m,{y:k})),g.hasRendered||(this.group.placed=!1),this.group.align(ie(x,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":x.verticalAlign}),!0,m)}handleOverflow(m){const g=this,x=this.chart,k=x.renderer,q=this.options;var Y=q.y;const K=q.verticalAlign==="top",le=this.padding,he=q.maxHeight,pe=q.navigation,F=te(pe.animation,!0),Q=pe.arrowSize||12,ce=this.pages,ge=this.allItems,ke=function(Oe){typeof Oe=="number"?Te.attr({height:Oe}):Te&&(g.clipRect=Te.destroy(),g.contentGroup.clip()),g.contentGroup.div&&(g.contentGroup.div.style.clip=Oe?"rect("+le+"px,9999px,"+(le+Oe)+"px,0)":"auto")},re=function(Oe){return g[Oe]=k.circle(0,0,1.3*Q).translate(Q/2,Q/2).add(ye),x.styledMode||g[Oe].attr("fill","rgba(0,0,0,0.0001)"),g[Oe]};let ve,_e,oe;Y=x.spacingBox.height+(K?-Y:Y)-le;let ye=this.nav,Te=this.clipRect;return q.layout!=="horizontal"||q.verticalAlign==="middle"||q.floating||(Y/=2),he&&(Y=Math.min(Y,he)),ce.length=0,m&&0<Y&&m>Y&&pe.enabled!==!1?(this.clipHeight=ve=Math.max(Y-20-this.titleHeight-le,0),this.currentPage=te(this.currentPage,1),this.fullHeight=m,ge.forEach((Oe,Le)=>{oe=Oe.legendItem||{},Oe=oe.y||0;const Ue=Math.round(oe.label.getBBox().height);let nt=ce.length;(!nt||Oe-ce[nt-1]>ve&&(_e||Oe)!==ce[nt-1])&&(ce.push(_e||Oe),nt++),oe.pageIx=nt-1,_e&&((ge[Le-1].legendItem||{}).pageIx=nt-1),Le===ge.length-1&&Oe+Ue-ce[nt-1]>ve&&Oe>ce[nt-1]&&(ce.push(Oe),oe.pageIx=nt),Oe!==_e&&(_e=Oe)}),Te||(Te=g.clipRect=k.clipRect(0,le-2,9999,0),g.contentGroup.clip(Te)),ke(ve),ye||(this.nav=ye=k.g().attr({zIndex:1}).add(this.group),this.up=k.symbol("triangle",0,0,Q,Q).add(ye),re("upTracker").on("click",function(){g.scroll(-1,F)}),this.pager=k.text("",15,10).addClass("highcharts-legend-navigation"),!x.styledMode&&pe.style&&this.pager.css(pe.style),this.pager.add(ye),this.down=k.symbol("triangle-down",0,0,Q,Q).add(ye),re("downTracker").on("click",function(){g.scroll(1,F)})),g.scroll(0),m=Y):ye&&(ke(),this.nav=ye.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),m}scroll(m,g){const x=this.chart,k=this.pages,q=k.length,Y=this.clipHeight,K=this.options.navigation,le=this.pager,he=this.padding;let pe=this.currentPage+m;pe>q&&(pe=q),0<pe&&(typeof g<"u"&&I(g,x),this.nav.attr({translateX:he,translateY:Y+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(F){F.attr({class:pe===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),le.attr({text:pe+"/"+q}),[this.down,this.downTracker].forEach(function(F){F.attr({x:18+this.pager.getBBox().width,class:pe===q?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),x.styledMode||(this.up.attr({fill:pe===1?K.inactiveColor:K.activeColor}),this.upTracker.css({cursor:pe===1?"default":"pointer"}),this.down.attr({fill:pe===q?K.inactiveColor:K.activeColor}),this.downTracker.css({cursor:pe===q?"default":"pointer"})),this.scrollOffset=-k[pe-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=pe,this.positionCheckboxes(),m=J(te(g,x.renderer.globalAnimation,!0)),j(()=>{U(this,"afterScroll",{currentPage:pe})},m.duration))}setItemEvents(m,g,x){const k=this,q=m.legendItem||{},Y=k.chart.renderer.boxWrapper,K=m instanceof s,le="highcharts-legend-"+(K?"point":"series")+"-active",he=k.chart.styledMode;x=x?[g,q.symbol]:[q.group];const pe=F=>{k.allItems.forEach(Q=>{m!==Q&&[Q].concat(Q.linkedSeries||[]).forEach(ce=>{ce.setState(F,!K)})})};for(const F of x)F&&F.on("mouseover",function(){m.visible&&pe("inactive"),m.setState("hover"),m.visible&&Y.addClass(le),he||g.css(k.options.itemHoverStyle)}).on("mouseout",function(){k.chart.styledMode||g.css(ie(m.visible?k.itemStyle:k.itemHiddenStyle)),pe(""),Y.removeClass(le),m.setState()}).on("click",function(Q){const ce=function(){m.setVisible&&m.setVisible(),pe(m.visible?"inactive":"")};Y.removeClass(le),Q={browserEvent:Q},m.firePointEvent?m.firePointEvent("legendItemClick",Q,ce):U(m,"legendItemClick",Q,ce)})}createCheckboxForItem(m){m.checkbox=G("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:m.selected,defaultChecked:m.selected},this.options.itemCheckboxStyle,this.chart.container),O(m.checkbox,"click",function(g){U(m.series||m,"checkboxClick",{checked:g.target.checked,item:m},function(){m.select()})})}}return function(D){const m=[];D.compose=function(g){R.pushUnique(m,g)&&O(g,"beforeMargins",function(){this.legend=new D(this,this.options.legend)})}}(w||(w={})),w}),n(r,"Core/Series/SeriesRegistry.js",[r["Core/Globals.js"],r["Core/Defaults.js"],r["Core/Series/Point.js"],r["Core/Utilities.js"]],function(o,d,h,s){const{defaultOptions:b}=d,{extendClass:R,merge:J}=s;var I;return function(z){function Z(L,O){const G=b.plotOptions||{},M=O.defaultOptions,S=O.prototype;S.type=L,S.pointClass||(S.pointClass=h),M&&(G[L]=M),z.seriesTypes[L]=O}z.seriesTypes=o.seriesTypes,z.registerSeriesType=Z,z.seriesType=function(L,O,G,M,S){const P=b.plotOptions||{};return O=O||"",P[L]=J(P[O],G),Z(L,R(z.seriesTypes[O]||function(){},M)),z.seriesTypes[L].prototype.type=L,S&&(z.seriesTypes[L].prototype.pointClass=R(h,S)),z.seriesTypes[L]}}(I||(I={})),I}),n(r,"Core/Chart/Chart.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Defaults.js"],r["Core/FormatUtilities.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Time.js"],r["Core/Utilities.js"],r["Core/Renderer/HTML/AST.js"]],function(o,d,h,s,b,R,J,I,z,Z,L,O){const{animate:G,animObject:M,setAnimation:S}=o,{defaultOptions:P,defaultTime:H}=h,{numberFormat:U}=s,{registerEventOptions:E}=b,{charts:ie,doc:te,marginNames:$,svg:V,win:j}=R,{seriesTypes:w}=I,{addEvent:D,attr:m,cleanRecursively:g,createElement:x,css:k,defined:q,discardElement:Y,erase:K,error:le,extend:he,find:pe,fireEvent:F,getStyle:Q,isArray:ce,isNumber:ge,isObject:ke,isString:re,merge:ve,objectEach:_e,pick:oe,pInt:ye,relativeLength:Te,removeEvent:Oe,splat:Le,syncTimeout:Ue,uniqueKey:nt}=L;class Qe{static chart(Me,Re,Ne){return new Qe(Me,Re,Ne)}constructor(Me,Re,Ne){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(Me,Re,Ne)}getArgs(Me,Re,Ne){re(Me)||Me.nodeName?(this.renderTo=Me,this.init(Re,Ne)):this.init(Me,Re)}init(Me,Re){const Ne=Me.plotOptions||{};F(this,"init",{args:arguments},function(){const Xe=ve(P,Me),rt=Xe.chart;_e(Xe.plotOptions,function($t,Wt){ke($t)&&($t.tooltip=Ne[Wt]&&ve(Ne[Wt].tooltip)||void 0)}),Xe.tooltip.userOptions=Me.chart&&Me.chart.forExport&&Me.tooltip.userOptions||Me.tooltip,this.userOptions=Me,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=Re,this.isResizing=0;const yt=rt.zooming=rt.zooming||{};Me.chart&&!Me.chart.zooming&&(yt.resetButton=rt.resetZoomButton),yt.key=oe(yt.key,rt.zoomKey),yt.pinchType=oe(yt.pinchType,rt.pinchType),yt.singleTouch=oe(yt.singleTouch,rt.zoomBySingleTouch),yt.type=oe(yt.type,rt.zoomType),this.options=Xe,this.axes=[],this.series=[],this.time=Me.time&&Object.keys(Me.time).length?new Z(Me.time):R.time,this.numberFormatter=rt.numberFormatter||U,this.styledMode=rt.styledMode,this.hasCartesianSeries=rt.showAxes,this.index=ie.length,ie.push(this),R.chartCount++,E(this,rt),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,F(this,"afterInit"),this.firstRender()})}initSeries(Me){var Re=this.options.chart;Re=Me.type||Re.type;const Ne=w[Re];return Ne||le(17,!0,this,{missingModuleFor:Re}),Re=new Ne,typeof Re.init=="function"&&Re.init(this,Me),Re}setSeriesData(){this.getSeriesOrderByLinks().forEach(function(Me){Me.points||Me.data||!Me.enabledDataSorting||Me.setData(Me.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(Me,Re){return Me.linkedSeries.length||Re.linkedSeries.length?Re.linkedSeries.length-Me.linkedSeries.length:0})}orderSeries(Me){const Re=this.series;for(let Ne=Me||0,Xe=Re.length;Ne<Xe;++Ne)Re[Ne]&&(Re[Ne].index=Ne,Re[Ne].name=Re[Ne].getName())}isInsidePlot(Me,Re,Ne={}){const{inverted:Xe,plotBox:rt,plotLeft:yt,plotTop:$t,scrollablePlotBox:Wt}=this;var Ci=0;let ti=0;Ne.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:Ci,scrollTop:ti}=this.scrollingContainer);const Mi=Ne.series,on=Ne.visiblePlotOnly&&Wt||rt;var ft=Ne.inverted?Re:Me;if(Re=Ne.inverted?Me:Re,Me={x:ft,y:Re,isInsidePlot:!0,options:Ne},!Ne.ignoreX){const Nt=Mi&&(Xe&&!this.polar?Mi.yAxis:Mi.xAxis)||{pos:yt,len:1/0};ft=Ne.paneCoordinates?Nt.pos+ft:yt+ft,ft>=Math.max(Ci+yt,Nt.pos)&&ft<=Math.min(Ci+yt+on.width,Nt.pos+Nt.len)||(Me.isInsidePlot=!1)}return!Ne.ignoreY&&Me.isInsidePlot&&(Ci=!Xe&&Ne.axis&&!Ne.axis.isXAxis&&Ne.axis||Mi&&(Xe?Mi.xAxis:Mi.yAxis)||{pos:$t,len:1/0},Ne=Ne.paneCoordinates?Ci.pos+Re:$t+Re,Ne>=Math.max(ti+$t,Ci.pos)&&Ne<=Math.min(ti+$t+on.height,Ci.pos+Ci.len)||(Me.isInsidePlot=!1)),F(this,"afterIsInsidePlot",Me),Me.isInsidePlot}redraw(Me){F(this,"beforeRedraw");const Re=this.hasCartesianSeries?this.axes:this.colorAxis||[],Ne=this.series,Xe=this.pointer,rt=this.legend,yt=this.userOptions.legend,$t=this.renderer,Wt=$t.isHidden(),Ci=[];let ti,Mi,on=this.isDirtyBox,ft=this.isDirtyLegend,Nt;for($t.rootFontSize=$t.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),S(this.hasRendered?Me:!1,this),Wt&&this.temporaryDisplay(),this.layOutTitles(),Me=Ne.length;Me--;)if(Nt=Ne[Me],(Nt.options.stacking||Nt.options.centerInCategory)&&(Mi=!0,Nt.isDirty)){ti=!0;break}if(ti)for(Me=Ne.length;Me--;)Nt=Ne[Me],Nt.options.stacking&&(Nt.isDirty=!0);Ne.forEach(function(fi){fi.isDirty&&(fi.options.legendType==="point"?(typeof fi.updateTotals=="function"&&fi.updateTotals(),ft=!0):yt&&(yt.labelFormatter||yt.labelFormat)&&(ft=!0)),fi.isDirtyData&&F(fi,"updatedData")}),ft&&rt&&rt.options.enabled&&(rt.render(),this.isDirtyLegend=!1),Mi&&this.getStacks(),Re.forEach(function(fi){fi.updateNames(),fi.setScale()}),this.getMargins(),Re.forEach(function(fi){fi.isDirty&&(on=!0)}),Re.forEach(function(fi){const Ui=fi.min+","+fi.max;fi.extKey!==Ui&&(fi.extKey=Ui,Ci.push(function(){F(fi,"afterSetExtremes",he(fi.eventArgs,fi.getExtremes())),delete fi.eventArgs})),(on||Mi)&&fi.redraw()}),on&&this.drawChartBox(),F(this,"predraw"),Ne.forEach(function(fi){(on||fi.isDirty)&&fi.visible&&fi.redraw(),fi.isDirtyData=!1}),Xe&&Xe.reset(!0),$t.draw(),F(this,"redraw"),F(this,"render"),Wt&&this.temporaryDisplay(!0),Ci.forEach(function(fi){fi.call()})}get(Me){function Re(rt){return rt.id===Me||rt.options&&rt.options.id===Me}const Ne=this.series;let Xe=pe(this.axes,Re)||pe(this.series,Re);for(let rt=0;!Xe&&rt<Ne.length;rt++)Xe=pe(Ne[rt].points||[],Re);return Xe}getAxes(){const Me=this;var Re=this.options;const Ne=Re.xAxis=Le(Re.xAxis||{});Re=Re.yAxis=Le(Re.yAxis||{}),F(this,"getAxes"),Ne.forEach(function(Xe,rt){Xe.index=rt,Xe.isX=!0}),Re.forEach(function(Xe,rt){Xe.index=rt}),Ne.concat(Re).forEach(function(Xe){new d(Me,Xe)}),F(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((Me,Re)=>(Re.getPointsCollection().forEach(Ne=>{oe(Ne.selectedStaging,Ne.selected)&&Me.push(Ne)}),Me),[])}getSelectedSeries(){return this.series.filter(function(Me){return Me.selected})}setTitle(Me,Re,Ne){this.applyDescription("title",Me),this.applyDescription("subtitle",Re),this.applyDescription("caption",void 0),this.layOutTitles(Ne)}applyDescription(Me,Re){const Ne=this;var Xe=Me==="title"?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};Xe=this.options[Me]=ve(!this.styledMode&&{style:Xe},this.options[Me],Re);let rt=this[Me];rt&&Re&&(this[Me]=rt=rt.destroy()),Xe&&!rt&&(rt=this.renderer.text(Xe.text,0,0,Xe.useHTML).attr({align:Xe.align,class:"highcharts-"+Me,zIndex:Xe.zIndex||4}).add(),rt.update=function(yt){Ne[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[Me]](yt)},this.styledMode||rt.css(Xe.style),this[Me]=rt)}layOutTitles(Me){const Re=[0,0,0],Ne=this.renderer,Xe=this.spacingBox;["title","subtitle","caption"].forEach(function(yt){const $t=this[yt],Wt=this.options[yt],Ci=Wt.verticalAlign||"top";if(yt=yt==="title"?Ci==="top"?-3:0:Ci==="top"?Re[0]+2:0,$t){$t.css({width:(Wt.width||Xe.width+(Wt.widthAdjust||0))+"px"});const ti=Ne.fontMetrics($t).b,Mi=Math.round($t.getBBox(Wt.useHTML).height);$t.align(he({y:Ci==="bottom"?ti:yt+ti,height:Mi},Wt),!1,"spacingBox"),Wt.floating||(Ci==="top"?Re[0]=Math.ceil(Re[0]+Mi):Ci==="bottom"&&(Re[2]=Math.ceil(Re[2]+Mi)))}},this),Re[0]&&(this.options.title.verticalAlign||"top")==="top"&&(Re[0]+=this.options.title.margin),Re[2]&&this.options.caption.verticalAlign==="bottom"&&(Re[2]+=this.options.caption.margin);const rt=!this.titleOffset||this.titleOffset.join(",")!==Re.join(",");this.titleOffset=Re,F(this,"afterLayOutTitles"),!this.isDirtyBox&&rt&&(this.isDirtyBox=this.isDirtyLegend=rt,this.hasRendered&&oe(Me,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:Q(this.renderTo,"width",!0)||0,height:Q(this.renderTo,"height",!0)||0}}getChartSize(){var Me=this.options.chart;const Re=Me.width;Me=Me.height;const Ne=this.getContainerBox();this.chartWidth=Math.max(0,Re||Ne.width||600),this.chartHeight=Math.max(0,Te(Me,this.chartWidth)||(1<Ne.height?Ne.height:400)),this.containerBox=Ne}temporaryDisplay(Me){let Re=this.renderTo;if(Me)for(;Re&&Re.style;)Re.hcOrigStyle&&(k(Re,Re.hcOrigStyle),delete Re.hcOrigStyle),Re.hcOrigDetached&&(te.body.removeChild(Re),Re.hcOrigDetached=!1),Re=Re.parentNode;else for(;Re&&Re.style&&(te.body.contains(Re)||Re.parentNode||(Re.hcOrigDetached=!0,te.body.appendChild(Re)),(Q(Re,"display",!1)==="none"||Re.hcOricDetached)&&(Re.hcOrigStyle={display:Re.style.display,height:Re.style.height,overflow:Re.style.overflow},Me={display:"block",overflow:"hidden"},Re!==this.renderTo&&(Me.height=0),k(Re,Me),Re.offsetWidth||Re.style.setProperty("display","block","important")),Re=Re.parentNode,Re!==te.body););}setClassName(Me){this.container.className="highcharts-container "+(Me||"")}getContainer(){const Me=this.options,Re=Me.chart;var Ne=nt();let Xe,rt=this.renderTo;rt||(this.renderTo=rt=Re.renderTo),re(rt)&&(this.renderTo=rt=te.getElementById(rt)),rt||le(13,!0,this);var yt=ye(m(rt,"data-highcharts-chart"));ge(yt)&&ie[yt]&&ie[yt].hasRendered&&ie[yt].destroy(),m(rt,"data-highcharts-chart",this.index),rt.innerHTML=O.emptyHTML,Re.skipClone||rt.offsetWidth||this.temporaryDisplay(),this.getChartSize(),yt=this.chartWidth;const $t=this.chartHeight;if(k(rt,{overflow:"hidden"}),this.styledMode||(Xe=he({position:"relative",overflow:"hidden",width:yt+"px",height:$t+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},Re.style||{})),this.container=Ne=x("div",{id:Ne},Xe,rt),this._cursor=Ne.style.cursor,this.renderer=new(Re.renderer||!V?J.getRendererType(Re.renderer):z)(Ne,yt,$t,void 0,Re.forExport,Me.exporting&&Me.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),S(void 0,this),this.setClassName(Re.className),this.styledMode)for(const Wt in Me.defs)this.renderer.definition(Me.defs[Wt]);else this.renderer.setStyle(Re.style);this.renderer.chartIndex=this.index,F(this,"afterGetContainer")}getMargins(Me){const{spacing:Re,margin:Ne,titleOffset:Xe}=this;this.resetMargins(),Xe[0]&&!q(Ne[0])&&(this.plotTop=Math.max(this.plotTop,Xe[0]+Re[0])),Xe[2]&&!q(Ne[2])&&(this.marginBottom=Math.max(this.marginBottom,Xe[2]+Re[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(Ne,Re),F(this,"getMargins"),Me||this.getAxisMargins()}getAxisMargins(){const Me=this,Re=Me.axisOffset=[0,0,0,0],Ne=Me.colorAxis,Xe=Me.margin,rt=function(yt){yt.forEach(function($t){$t.visible&&$t.getOffset()})};Me.hasCartesianSeries?rt(Me.axes):Ne&&Ne.length&&rt(Ne),$.forEach(function(yt,$t){q(Xe[$t])||(Me[yt]+=Re[$t])}),Me.setChartSize()}reflow(Me){const Re=this;var Ne=Re.options.chart;Ne=q(Ne.width)&&q(Ne.height);const Xe=Re.containerBox,rt=Re.getContainerBox();delete Re.pointer.chartPosition,!Ne&&!Re.isPrinting&&Xe&&rt.width&&((rt.width!==Xe.width||rt.height!==Xe.height)&&(L.clearTimeout(Re.reflowTimeout),Re.reflowTimeout=Ue(function(){Re.container&&Re.setSize(void 0,void 0,!1)},Me?100:0)),Re.containerBox=rt)}setReflow(){const Me=this;var Re=Ne=>{var Xe;!((Xe=Me.options)===null||Xe===void 0)&&Xe.chart.reflow&&Me.hasLoaded&&Me.reflow(Ne)};typeof ResizeObserver=="function"?new ResizeObserver(Re).observe(Me.renderTo):(Re=D(j,"resize",Re),D(this,"destroy",Re))}setSize(Me,Re,Ne){const Xe=this,rt=Xe.renderer;Xe.isResizing+=1,S(Ne,Xe),Ne=rt.globalAnimation,Xe.oldChartHeight=Xe.chartHeight,Xe.oldChartWidth=Xe.chartWidth,typeof Me<"u"&&(Xe.options.chart.width=Me),typeof Re<"u"&&(Xe.options.chart.height=Re),Xe.getChartSize(),Xe.styledMode||(Ne?G:k)(Xe.container,{width:Xe.chartWidth+"px",height:Xe.chartHeight+"px"},Ne),Xe.setChartSize(!0),rt.setSize(Xe.chartWidth,Xe.chartHeight,Ne),Xe.axes.forEach(function(yt){yt.isDirty=!0,yt.setScale()}),Xe.isDirtyLegend=!0,Xe.isDirtyBox=!0,Xe.layOutTitles(),Xe.getMargins(),Xe.redraw(Ne),Xe.oldChartHeight=null,F(Xe,"resize"),Ue(function(){Xe&&F(Xe,"endResize",null,function(){--Xe.isResizing})},M(Ne).duration)}setChartSize(Me){var Re=this.inverted;const Ne=this.renderer;var Xe=this.chartWidth,rt=this.chartHeight;const yt=this.options.chart,$t=this.spacing,Wt=this.clipOffset;let Ci,ti,Mi,on;this.plotLeft=Ci=Math.round(this.plotLeft),this.plotTop=ti=Math.round(this.plotTop),this.plotWidth=Mi=Math.max(0,Math.round(Xe-Ci-this.marginRight)),this.plotHeight=on=Math.max(0,Math.round(rt-ti-this.marginBottom)),this.plotSizeX=Re?on:Mi,this.plotSizeY=Re?Mi:on,this.plotBorderWidth=yt.plotBorderWidth||0,this.spacingBox=Ne.spacingBox={x:$t[3],y:$t[0],width:Xe-$t[3]-$t[1],height:rt-$t[0]-$t[2]},this.plotBox=Ne.plotBox={x:Ci,y:ti,width:Mi,height:on},Re=2*Math.floor(this.plotBorderWidth/2),Xe=Math.ceil(Math.max(Re,Wt[3])/2),rt=Math.ceil(Math.max(Re,Wt[0])/2),this.clipBox={x:Xe,y:rt,width:Math.floor(this.plotSizeX-Math.max(Re,Wt[1])/2-Xe),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Re,Wt[2])/2-rt))},Me||(this.axes.forEach(function(ft){ft.setAxisSize(),ft.setAxisTranslation()}),Ne.alignElements()),F(this,"afterSetChartSize",{skipAxes:Me})}resetMargins(){F(this,"resetMargins");const Me=this,Re=Me.options.chart;["margin","spacing"].forEach(function(Ne){const Xe=Re[Ne],rt=ke(Xe)?Xe:[Xe,Xe,Xe,Xe];["Top","Right","Bottom","Left"].forEach(function(yt,$t){Me[Ne][$t]=oe(Re[Ne+yt],rt[$t])})}),$.forEach(function(Ne,Xe){Me[Ne]=oe(Me.margin[Xe],Me.spacing[Xe])}),Me.axisOffset=[0,0,0,0],Me.clipOffset=[0,0,0,0]}drawChartBox(){const Me=this.options.chart,Re=this.renderer,Ne=this.chartWidth,Xe=this.chartHeight,rt=this.styledMode,yt=this.plotBGImage;var $t=Me.backgroundColor;const Wt=Me.plotBackgroundColor,Ci=Me.plotBackgroundImage,ti=this.plotLeft,Mi=this.plotTop,on=this.plotWidth,ft=this.plotHeight,Nt=this.plotBox,fi=this.clipRect,Ui=this.clipBox;let dn=this.chartBackground,Gn=this.plotBackground,Kr=this.plotBorder,ci,$i,Wi="animate";dn||(this.chartBackground=dn=Re.rect().addClass("highcharts-background").add(),Wi="attr"),rt?ci=$i=dn.strokeWidth():(ci=Me.borderWidth||0,$i=ci+(Me.shadow?8:0),$t={fill:$t||"none"},(ci||dn["stroke-width"])&&($t.stroke=Me.borderColor,$t["stroke-width"]=ci),dn.attr($t).shadow(Me.shadow)),dn[Wi]({x:$i/2,y:$i/2,width:Ne-$i-ci%2,height:Xe-$i-ci%2,r:Me.borderRadius}),Wi="animate",Gn||(Wi="attr",this.plotBackground=Gn=Re.rect().addClass("highcharts-plot-background").add()),Gn[Wi](Nt),rt||(Gn.attr({fill:Wt||"none"}).shadow(Me.plotShadow),Ci&&(yt?(Ci!==yt.attr("href")&&yt.attr("href",Ci),yt.animate(Nt)):this.plotBGImage=Re.image(Ci,ti,Mi,on,ft).add())),fi?fi.animate({width:Ui.width,height:Ui.height}):this.clipRect=Re.clipRect(Ui),Wi="animate",Kr||(Wi="attr",this.plotBorder=Kr=Re.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),rt||Kr.attr({stroke:Me.plotBorderColor,"stroke-width":Me.plotBorderWidth||0,fill:"none"}),Kr[Wi](Kr.crisp({x:ti,y:Mi,width:on,height:ft},-Kr.strokeWidth())),this.isDirtyBox=!1,F(this,"afterDrawChartBox")}propFromSeries(){const Me=this,Re=Me.options.chart,Ne=Me.options.series;let Xe,rt,yt;["inverted","angular","polar"].forEach(function($t){for(rt=w[Re.type],yt=Re[$t]||rt&&rt.prototype[$t],Xe=Ne&&Ne.length;!yt&&Xe--;)(rt=w[Ne[Xe].type])&&rt.prototype[$t]&&(yt=!0);Me[$t]=yt})}linkSeries(Me){const Re=this,Ne=Re.series;Ne.forEach(function(Xe){Xe.linkedSeries.length=0}),Ne.forEach(function(Xe){let rt=Xe.options.linkedTo;re(rt)&&(rt=rt===":previous"?Re.series[Xe.index-1]:Re.get(rt))&&rt.linkedParent!==Xe&&(rt.linkedSeries.push(Xe),Xe.linkedParent=rt,rt.enabledDataSorting&&Xe.setDataSortingOptions(),Xe.visible=oe(Xe.options.visible,rt.options.visible,Xe.visible))}),F(this,"afterLinkSeries",{isUpdating:Me})}renderSeries(){this.series.forEach(function(Me){Me.translate(),Me.render()})}render(){const Me=this.axes,Re=this.colorAxis,Ne=this.renderer,Xe=function(ti){ti.forEach(function(Mi){Mi.visible&&Mi.render()})};let rt=0;this.setTitle(),F(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const yt=this.plotWidth;Me.some(function(ti){if(ti.horiz&&ti.visible&&ti.options.labels.enabled&&ti.series.length)return rt=21,!0});const $t=this.plotHeight=Math.max(this.plotHeight-rt,0);Me.forEach(function(ti){ti.setScale()}),this.getAxisMargins();const Wt=1.1<yt/this.plotWidth,Ci=1.05<$t/this.plotHeight;(Wt||Ci)&&(Me.forEach(function(ti){(ti.horiz&&Wt||!ti.horiz&&Ci)&&ti.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?Xe(Me):Re&&Re.length&&Xe(Re),this.seriesGroup||(this.seriesGroup=Ne.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(Me){const Re=this,Ne=ve(!0,this.options.credits,Me);Ne.enabled&&!this.credits&&(this.credits=this.renderer.text(Ne.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){Ne.href&&(j.location.href=Ne.href)}).attr({align:Ne.position.align,zIndex:8}),Re.styledMode||this.credits.css(Ne.style),this.credits.add().align(Ne.position),this.credits.update=function(Xe){Re.credits=Re.credits.destroy(),Re.addCredits(Xe)})}destroy(){const Me=this,Re=Me.axes,Ne=Me.series,Xe=Me.container,rt=Xe&&Xe.parentNode;let yt;for(F(Me,"destroy"),Me.renderer.forExport?K(ie,Me):ie[Me.index]=void 0,R.chartCount--,Me.renderTo.removeAttribute("data-highcharts-chart"),Oe(Me),yt=Re.length;yt--;)Re[yt]=Re[yt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),yt=Ne.length;yt--;)Ne[yt]=Ne[yt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function($t){const Wt=Me[$t];Wt&&Wt.destroy&&(Me[$t]=Wt.destroy())}),Xe&&(Xe.innerHTML=O.emptyHTML,Oe(Xe),rt&&Y(Xe)),_e(Me,function($t,Wt){delete Me[Wt]})}firstRender(){const Me=this,Re=Me.options;Me.getContainer(),Me.resetMargins(),Me.setChartSize(),Me.propFromSeries(),Me.getAxes(),(ce(Re.series)?Re.series:[]).forEach(function(Ne){Me.initSeries(Ne)}),Me.linkSeries(),Me.setSeriesData(),F(Me,"beforeRender"),Me.render(),Me.pointer.getChartPosition(),!Me.renderer.imgCount&&!Me.hasLoaded&&Me.onload(),Me.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(Me){Me&&typeof this.index<"u"&&Me.apply(this,[this])},this),F(this,"load"),F(this,"render"),q(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:Me,title:Re}=this;Me&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(Re&&Re.element.textContent||"").replace(/</g,"&lt;")}),Me.accessibility&&Me.accessibility.enabled===!1||le('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(Me,Re,Ne){const Xe=this;let rt;return Me&&(Re=oe(Re,!0),F(Xe,"addSeries",{options:Me},function(){rt=Xe.initSeries(Me),Xe.isDirtyLegend=!0,Xe.linkSeries(),rt.enabledDataSorting&&rt.setData(Me.data,!1),F(Xe,"afterAddSeries",{series:rt}),Re&&Xe.redraw(Ne)})),rt}addAxis(Me,Re,Ne,Xe){return this.createAxis(Re?"xAxis":"yAxis",{axis:Me,redraw:Ne,animation:Xe})}addColorAxis(Me,Re,Ne){return this.createAxis("colorAxis",{axis:Me,redraw:Re,animation:Ne})}createAxis(Me,Re){return Me=new d(this,ve(Re.axis,{index:this[Me].length,isX:Me==="xAxis"})),oe(Re.redraw,!0)&&this.redraw(Re.animation),Me}showLoading(Me){const Re=this,Ne=Re.options,Xe=Ne.loading,rt=function(){yt&&k(yt,{left:Re.plotLeft+"px",top:Re.plotTop+"px",width:Re.plotWidth+"px",height:Re.plotHeight+"px"})};let yt=Re.loadingDiv,$t=Re.loadingSpan;yt||(Re.loadingDiv=yt=x("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Re.container)),$t||(Re.loadingSpan=$t=x("span",{className:"highcharts-loading-inner"},null,yt),D(Re,"redraw",rt)),yt.className="highcharts-loading",O.setElementHTML($t,oe(Me,Ne.lang.loading,"")),Re.styledMode||(k(yt,he(Xe.style,{zIndex:10})),k($t,Xe.labelStyle),Re.loadingShown||(k(yt,{opacity:0,display:""}),G(yt,{opacity:Xe.style.opacity||.5},{duration:Xe.showDuration||0}))),Re.loadingShown=!0,rt()}hideLoading(){const Me=this.options,Re=this.loadingDiv;Re&&(Re.className="highcharts-loading highcharts-loading-hidden",this.styledMode||G(Re,{opacity:0},{duration:Me.loading.hideDuration||100,complete:function(){k(Re,{display:"none"})}})),this.loadingShown=!1}update(Me,Re,Ne,Xe){const rt=this,yt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},$t=Me.isResponsiveOptions,Wt=[];let Ci,ti;F(rt,"update",{options:Me}),$t||rt.setResponsive(!1,!0),Me=g(Me,rt.options),rt.userOptions=ve(rt.userOptions,Me);var Mi=Me.chart;if(Mi){if(ve(!0,rt.options.chart,Mi),"className"in Mi&&rt.setClassName(Mi.className),"inverted"in Mi||"polar"in Mi||"type"in Mi){rt.propFromSeries();var on=!0}"alignTicks"in Mi&&(on=!0),"events"in Mi&&E(this,Mi),_e(Mi,function(ft,Nt){rt.propsRequireUpdateSeries.indexOf("chart."+Nt)!==-1&&(Ci=!0),rt.propsRequireDirtyBox.indexOf(Nt)!==-1&&(rt.isDirtyBox=!0),rt.propsRequireReflow.indexOf(Nt)!==-1&&($t?rt.isDirtyBox=!0:ti=!0)}),!rt.styledMode&&Mi.style&&rt.renderer.setStyle(rt.options.chart.style||{})}!rt.styledMode&&Me.colors&&(this.options.colors=Me.colors),Me.time&&(this.time===H&&(this.time=new Z(Me.time)),ve(!0,rt.options.time,Me.time)),_e(Me,function(ft,Nt){rt[Nt]&&typeof rt[Nt].update=="function"?rt[Nt].update(ft,!1):typeof rt[yt[Nt]]=="function"?rt[yt[Nt]](ft):Nt!=="colors"&&rt.collectionsWithUpdate.indexOf(Nt)===-1&&ve(!0,rt.options[Nt],Me[Nt]),Nt!=="chart"&&rt.propsRequireUpdateSeries.indexOf(Nt)!==-1&&(Ci=!0)}),this.collectionsWithUpdate.forEach(function(ft){let Nt;Me[ft]&&(Nt=[],rt[ft].forEach(function(fi,Ui){fi.options.isInternal||Nt.push(oe(fi.options.index,Ui))}),Le(Me[ft]).forEach(function(fi,Ui){const dn=q(fi.id);let Gn;dn&&(Gn=rt.get(fi.id)),!Gn&&rt[ft]&&(Gn=rt[ft][Nt?Nt[Ui]:Ui])&&dn&&q(Gn.options.id)&&(Gn=void 0),Gn&&Gn.coll===ft&&(Gn.update(fi,!1),Ne&&(Gn.touched=!0)),!Gn&&Ne&&rt.collectionsWithInit[ft]&&(rt.collectionsWithInit[ft][0].apply(rt,[fi].concat(rt.collectionsWithInit[ft][1]||[]).concat([!1])).touched=!0)}),Ne&&rt[ft].forEach(function(fi){fi.touched||fi.options.isInternal?delete fi.touched:Wt.push(fi)}))}),Wt.forEach(function(ft){ft.chart&&ft.remove&&ft.remove(!1)}),on&&rt.axes.forEach(function(ft){ft.update({},!1)}),Ci&&rt.getSeriesOrderByLinks().forEach(function(ft){ft.chart&&ft.update({},!1)},this),on=Mi&&Mi.width,Mi=Mi&&(re(Mi.height)?Te(Mi.height,on||rt.chartWidth):Mi.height),ti||ge(on)&&on!==rt.chartWidth||ge(Mi)&&Mi!==rt.chartHeight?rt.setSize(on,Mi,Xe):oe(Re,!0)&&rt.redraw(Xe),F(rt,"afterUpdate",{options:Me,redraw:Re,animation:Xe})}setSubtitle(Me,Re){this.applyDescription("subtitle",Me),this.layOutTitles(Re)}setCaption(Me,Re){this.applyDescription("caption",Me),this.layOutTitles(Re)}showResetZoom(){function Me(){Re.zoomOut()}const Re=this,Ne=P.lang,Xe=Re.options.chart.zooming.resetButton,rt=Xe.theme,yt=Xe.relativeTo==="chart"||Xe.relativeTo==="spacingBox"?null:"scrollablePlotBox";F(this,"beforeShowResetZoom",null,function(){Re.resetZoomButton=Re.renderer.button(Ne.resetZoom,null,null,Me,rt).attr({align:Xe.position.align,title:Ne.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(Xe.position,!1,yt)}),F(this,"afterShowResetZoom")}zoomOut(){F(this,"selection",{resetSelection:!0},this.zoom)}zoom(Me){const Re=this,Ne=Re.pointer;let Xe=!1,rt;!Me||Me.resetSelection?(Re.axes.forEach(function($t){rt=$t.zoom()}),Ne.initiated=!1):Me.xAxis.concat(Me.yAxis).forEach(function($t){const Wt=$t.axis;(Ne[Wt.isXAxis?"zoomX":"zoomY"]&&q(Ne.mouseDownX)&&q(Ne.mouseDownY)&&Re.isInsidePlot(Ne.mouseDownX-Re.plotLeft,Ne.mouseDownY-Re.plotTop,{axis:Wt})||!q(Re.inverted?Ne.mouseDownX:Ne.mouseDownY))&&(rt=Wt.zoom($t.min,$t.max),Wt.displayBtn&&(Xe=!0))});const yt=Re.resetZoomButton;Xe&&!yt?Re.showResetZoom():!Xe&&ke(yt)&&(Re.resetZoomButton=yt.destroy()),rt&&Re.redraw(oe(Re.options.chart.animation,Me&&Me.animation,100>Re.pointCount))}pan(Me,Re){const Ne=this,Xe=Ne.hoverPoints;Re=typeof Re=="object"?Re:{enabled:Re,type:"x"};const rt=Ne.options.chart;rt&&rt.panning&&(rt.panning=Re);const yt=Re.type;let $t;F(this,"pan",{originalEvent:Me},function(){Xe&&Xe.forEach(function(ti){ti.setState()});let Wt=Ne.xAxis;yt==="xy"?Wt=Wt.concat(Ne.yAxis):yt==="y"&&(Wt=Ne.yAxis);const Ci={};Wt.forEach(function(ti){if(ti.options.panningEnabled&&!ti.options.isInternal){var Mi=ti.horiz,on=Me[Mi?"chartX":"chartY"];Mi=Mi?"mouseDownX":"mouseDownY";var ft=Ne[Mi],Nt=ti.minPointOffset||0,fi=ti.reversed&&!Ne.inverted||!ti.reversed&&Ne.inverted?-1:1,Ui=ti.getExtremes(),dn=ti.toValue(ft-on,!0)+Nt*fi,Gn=ti.toValue(ft+ti.len-on,!0)-(Nt*fi||ti.isXAxis&&ti.pointRangePadding||0),Kr=Gn<dn;fi=ti.hasVerticalPanning(),ft=Kr?Gn:dn,dn=Kr?dn:Gn;var ci=ti.panningState;!fi||ti.isXAxis||ci&&!ci.isDirty||ti.series.forEach(function($i){var Wi=$i.getProcessedData(!0);Wi=$i.getExtremes(Wi.yData,!0),ci||(ci={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),ge(Wi.dataMin)&&ge(Wi.dataMax)&&(ci.startMin=Math.min(oe($i.options.threshold,1/0),Wi.dataMin,ci.startMin),ci.startMax=Math.max(oe($i.options.threshold,-1/0),Wi.dataMax,ci.startMax))}),fi=Math.min(oe(ci&&ci.startMin,Ui.dataMin),Nt?Ui.min:ti.toValue(ti.toPixels(Ui.min)-ti.minPixelPadding)),Gn=Math.max(oe(ci&&ci.startMax,Ui.dataMax),Nt?Ui.max:ti.toValue(ti.toPixels(Ui.max)+ti.minPixelPadding)),ti.panningState=ci,ti.isOrdinal||(Nt=fi-ft,0<Nt&&(dn+=Nt,ft=fi),Nt=dn-Gn,0<Nt&&(dn=Gn,ft-=Nt),ti.series.length&&ft!==Ui.min&&dn!==Ui.max&&ft>=fi&&dn<=Gn&&(ti.setExtremes(ft,dn,!1,!1,{trigger:"pan"}),!Ne.resetZoomButton&&ft!==fi&&dn!==Gn&&yt.match("y")&&(Ne.showResetZoom(),ti.displayBtn=!1),$t=!0),Ci[Mi]=on)}}),_e(Ci,(ti,Mi)=>{Ne[Mi]=ti}),$t&&Ne.redraw(!1),k(Ne.container,{cursor:"move"})})}}return he(Qe.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Qe.prototype.addAxis,[!0]],yAxis:[Qe.prototype.addAxis,[!1]],series:[Qe.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),Qe}),n(r,"Core/Legend/LegendSymbol.js",[r["Core/Utilities.js"]],function(o){const{extend:d,merge:h,pick:s}=o;var b;return function(R){R.lineMarker=function(J,I){I=this.legendItem=this.legendItem||{};var z=this.options;const Z=J.symbolWidth,L=J.symbolHeight,O=L/2,G=this.chart.renderer,M=I.group;J=J.baseline-Math.round(.3*J.fontMetrics.b);let S={},P=z.marker,H=0;this.chart.styledMode||(S={"stroke-width":Math.min(z.lineWidth||0,24)},z.dashStyle?S.dashstyle=z.dashStyle:z.linecap!=="square"&&(S["stroke-linecap"]="round")),I.line=G.path().addClass("highcharts-graph").attr(S).add(M),S["stroke-linecap"]&&(H=Math.min(I.line.strokeWidth(),Z)/2),Z&&I.line.attr({d:[["M",H,J],["L",Z-H,J]]}),P&&P.enabled!==!1&&Z&&(z=Math.min(s(P.radius,O),O),this.symbol.indexOf("url")===0&&(P=h(P,{width:L,height:L}),z=0),I.symbol=I=G.symbol(this.symbol,Z/2-z,J-z,2*z,2*z,d({context:"legend"},P)).addClass("highcharts-point").add(M),I.isMarker=!0)},R.rectangle=function(J,I){I=I.legendItem||{};const z=J.symbolHeight,Z=J.options.squareSymbol;I.symbol=this.chart.renderer.rect(Z?(J.symbolWidth-z)/2:0,J.baseline-z+1,Z?z:J.symbolWidth,z,s(J.options.symbolRadius,z/2)).addClass("highcharts-point").attr({zIndex:3}).add(I.group)}}(b||(b={})),b}),n(r,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:o}=this.series.chart;return typeof this.y!="number"?"":o(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),n(r,"Core/Series/Series.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Defaults.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Legend/LegendSymbol.js"],r["Core/Series/Point.js"],r["Core/Series/SeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(o,d,h,s,b,R,J,I,z,Z){const{animObject:L,setAnimation:O}=o,{defaultOptions:G}=d,{registerEventOptions:M}=h,{hasTouch:S,svg:P,win:H}=s,{seriesTypes:U}=I,{arrayMax:E,arrayMin:ie,clamp:te,cleanRecursively:$,correctFloat:V,defined:j,erase:w,error:D,extend:m,find:g,fireEvent:x,getNestedProperty:k,isArray:q,isNumber:Y,isString:K,merge:le,objectEach:he,pick:pe,removeEvent:F,splat:Q,syncTimeout:ce}=Z;class ge{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(re,ve){x(this,"init",{options:ve});const _e=this,oe=re.series;this.eventsToUnbind=[],_e.chart=re,_e.options=_e.setOptions(ve),ve=_e.options,_e.linkedSeries=[],_e.bindAxes(),m(_e,{name:ve.name,state:"",visible:ve.visible!==!1,selected:ve.selected===!0}),M(this,ve);const ye=ve.events;(ye&&ye.click||ve.point&&ve.point.events&&ve.point.events.click||ve.allowPointSelect)&&(re.runTrackerClick=!0),_e.getColor(),_e.getSymbol(),_e.parallelArrays.forEach(function(Oe){_e[Oe+"Data"]||(_e[Oe+"Data"]=[])}),_e.isCartesian&&(re.hasCartesianSeries=!0);let Te;oe.length&&(Te=oe[oe.length-1]),_e._i=pe(Te&&Te._i,-1)+1,_e.opacity=_e.options.opacity,re.orderSeries(this.insert(oe)),ve.dataSorting&&ve.dataSorting.enabled?_e.setDataSortingOptions():_e.points||_e.data||_e.setData(ve.data,!1),x(this,"afterInit")}is(re){return U[re]&&this instanceof U[re]}insert(re){const ve=this.options.index;let _e;if(Y(ve)){for(_e=re.length;_e--;)if(ve>=pe(re[_e].options.index,re[_e]._i)){re.splice(_e+1,0,this);break}_e===-1&&re.unshift(this),_e+=1}else re.push(this);return pe(_e,re.length-1)}bindAxes(){const re=this,ve=re.options,_e=re.chart;let oe;x(this,"bindAxes",null,function(){(re.axisTypes||[]).forEach(function(ye){let Te=0;_e[ye].forEach(function(Oe){oe=Oe.options,(ve[ye]===Te&&!oe.isInternal||typeof ve[ye]<"u"&&ve[ye]===oe.id||typeof ve[ye]>"u"&&oe.index===0)&&(re.insert(Oe.series),re[ye]=Oe,Oe.isDirty=!0),oe.isInternal||Te++}),re[ye]||re.optionalAxis===ye||D(18,!0,_e)})}),x(this,"afterBindAxes")}updateParallelArrays(re,ve,_e){const oe=re.series,ye=Y(ve)?function(Te){const Oe=Te==="y"&&oe.toYData?oe.toYData(re):re[Te];oe[Te+"Data"][ve]=Oe}:function(Te){Array.prototype[ve].apply(oe[Te+"Data"],_e)};oe.parallelArrays.forEach(ye)}hasData(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length}autoIncrement(re){var ve=this.options;const _e=ve.pointIntervalUnit,oe=ve.relativeXValue,ye=this.chart.time;let Te=this.xIncrement,Oe;return Te=pe(Te,ve.pointStart,0),this.pointInterval=Oe=pe(this.pointInterval,ve.pointInterval,1),oe&&Y(re)&&(Oe*=re),_e&&(ve=new ye.Date(Te),_e==="day"?ye.set("Date",ve,ye.get("Date",ve)+Oe):_e==="month"?ye.set("Month",ve,ye.get("Month",ve)+Oe):_e==="year"&&ye.set("FullYear",ve,ye.get("FullYear",ve)+Oe),Oe=ve.getTime()-Te),oe&&Y(re)?Te+Oe:(this.xIncrement=Te+Oe,Te)}setDataSortingOptions(){const re=this.options;m(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),j(re.pointRange)||(re.pointRange=1)}setOptions(re){var ve=this.chart,_e=ve.options,oe=_e.plotOptions,ye=ve.userOptions||{};re=le(re),ve=ve.styledMode;const Te={plotOptions:oe,userOptions:re};x(this,"setOptions",Te);const Oe=Te.plotOptions[this.type],Le=ye.plotOptions||{};return this.userOptions=Te.userOptions,ye=le(Oe,oe.series,ye.plotOptions&&ye.plotOptions[this.type],re),this.tooltipOptions=le(G.tooltip,G.plotOptions.series&&G.plotOptions.series.tooltip,G.plotOptions[this.type].tooltip,_e.tooltip.userOptions,oe.series&&oe.series.tooltip,oe[this.type].tooltip,re.tooltip),this.stickyTracking=pe(re.stickyTracking,Le[this.type]&&Le[this.type].stickyTracking,Le.series&&Le.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:ye.stickyTracking),Oe.marker===null&&delete ye.marker,this.zoneAxis=ye.zoneAxis,oe=this.zones=(ye.zones||[]).slice(),!ye.negativeColor&&!ye.negativeFillColor||ye.zones||(_e={value:ye[this.zoneAxis+"Threshold"]||ye.threshold||0,className:"highcharts-negative"},ve||(_e.color=ye.negativeColor,_e.fillColor=ye.negativeFillColor),oe.push(_e)),oe.length&&j(oe[oe.length-1].value)&&oe.push(ve?{}:{color:this.color,fillColor:this.fillColor}),x(this,"afterSetOptions",{options:ye}),ye}getName(){return pe(this.options.name,"Series "+(this.index+1))}getCyclic(re,ve,_e){const oe=this.chart,ye=this.userOptions,Te=re+"Index",Oe=re+"Counter",Le=_e?_e.length:pe(oe.options.chart[re+"Count"],oe[re+"Count"]);if(!ve){var Ue=pe(ye[Te],ye["_"+Te]);j(Ue)||(oe.series.length||(oe[Oe]=0),ye["_"+Te]=Ue=oe[Oe]%Le,oe[Oe]+=1),_e&&(ve=_e[Ue])}typeof Ue<"u"&&(this[Te]=Ue),this[re]=ve}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||G.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(re,ve){const _e=re.id,oe=re.x,ye=this.points;var Te=this.options.dataSorting,Oe;let Le,Ue;if(_e)Te=this.chart.get(_e),Te instanceof R&&(Oe=Te);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Oe=nt=>!nt.touched&&nt.index===re.index,Te&&Te.matchByName?Oe=nt=>!nt.touched&&nt.name===re.name:this.options.relativeXValue&&(Oe=nt=>!nt.touched&&nt.options.x===re.x),Oe=g(ye,Oe),!Oe))return;return Oe&&(Ue=Oe&&Oe.index,typeof Ue<"u"&&(Le=!0)),typeof Ue>"u"&&Y(oe)&&(Ue=this.xData.indexOf(oe,ve)),Ue!==-1&&typeof Ue<"u"&&this.cropped&&(Ue=Ue>=this.cropStart?Ue-this.cropStart:Ue),!Le&&Y(Ue)&&ye[Ue]&&ye[Ue].touched&&(Ue=void 0),Ue}updateData(re,ve){const _e=this.options,oe=_e.dataSorting,ye=this.points,Te=[],Oe=this.requireSorting,Le=re.length===ye.length;let Ue,nt,Qe,ut=!0;if(this.xIncrement=null,re.forEach(function(Me,Re){var Ne=j(Me)&&this.pointClass.prototype.optionsToObject.call({series:this},Me)||{};const Xe=Ne.x;Ne.id||Y(Xe)?(Ne=this.findPointIndex(Ne,Qe),Ne===-1||typeof Ne>"u"?Te.push(Me):ye[Ne]&&Me!==_e.data[Ne]?(ye[Ne].update(Me,!1,null,!1),ye[Ne].touched=!0,Oe&&(Qe=Ne+1)):ye[Ne]&&(ye[Ne].touched=!0),(!Le||Re!==Ne||oe&&oe.enabled||this.hasDerivedData)&&(Ue=!0)):Te.push(Me)},this),Ue)for(re=ye.length;re--;)(nt=ye[re])&&!nt.touched&&nt.remove&&nt.remove(!1,ve);else!Le||oe&&oe.enabled?ut=!1:(re.forEach(function(Me,Re){Me===ye[Re].y||ye[Re].destroyed||ye[Re].update(Me,!1,null,!1)}),Te.length=0);return ye.forEach(function(Me){Me&&(Me.touched=!1)}),ut?(Te.forEach(function(Me){this.addPoint(Me,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=E(this.xData),this.autoIncrement()),!0):!1}setData(re,ve=!0,_e,oe){var ye;const Te=this,Oe=Te.points,Le=Oe&&Oe.length||0,Ue=Te.options,nt=Te.chart,Qe=Ue.dataSorting,ut=Te.xAxis,Me=Ue.turboThreshold,Re=this.xData,Ne=this.yData;var Xe=Te.pointArrayMap;Xe=Xe&&Xe.length;const rt=Ue.keys;let yt,$t=0,Wt=1,Ci=null;if(!nt.options.chart.allowMutatingData){Ue.data&&delete Te.options.data,Te.userOptions.data&&delete Te.userOptions.data;var ti=le(!0,re)}if(re=ti||re||[],ti=re.length,Qe&&Qe.enabled&&(re=this.sortData(re)),nt.options.chart.allowMutatingData&&oe!==!1&&ti&&Le&&!Te.cropped&&!Te.hasGroupedData&&Te.visible&&!Te.boosted&&(yt=this.updateData(re,_e)),!yt){if(Te.xIncrement=null,Te.colorCounter=0,this.parallelArrays.forEach(function(Mi){Te[Mi+"Data"].length=0}),Me&&ti>Me)if(Ci=Te.getFirstValidPoint(re),Y(Ci))for(_e=0;_e<ti;_e++)Re[_e]=this.autoIncrement(),Ne[_e]=re[_e];else if(q(Ci))if(Xe)if(Ci.length===Xe)for(_e=0;_e<ti;_e++)Re[_e]=this.autoIncrement(),Ne[_e]=re[_e];else for(_e=0;_e<ti;_e++)oe=re[_e],Re[_e]=oe[0],Ne[_e]=oe.slice(1,Xe+1);else if(rt&&($t=rt.indexOf("x"),Wt=rt.indexOf("y"),$t=0<=$t?$t:0,Wt=0<=Wt?Wt:1),Ci.length===1&&(Wt=0),$t===Wt)for(_e=0;_e<ti;_e++)Re[_e]=this.autoIncrement(),Ne[_e]=re[_e][Wt];else for(_e=0;_e<ti;_e++)oe=re[_e],Re[_e]=oe[$t],Ne[_e]=oe[Wt];else D(12,!1,nt);else for(_e=0;_e<ti;_e++)oe={series:Te},Te.pointClass.prototype.applyOptions.apply(oe,[re[_e]]),Te.updateParallelArrays(oe,_e);for(Ne&&K(Ne[0])&&D(14,!0,nt),Te.data=[],Te.options.data=Te.userOptions.data=re,_e=Le;_e--;)(ye=Oe[_e])===null||ye===void 0||ye.destroy();ut&&(ut.minRange=ut.userMinRange),Te.isDirty=nt.isDirtyBox=!0,Te.isDirtyData=!!Oe,_e=!1}Ue.legendType==="point"&&(this.processData(),this.generatePoints()),ve&&nt.redraw(_e)}sortData(re){const ve=this,_e=ve.options.dataSorting.sortKey||"y",oe=function(ye,Te){return j(Te)&&ye.pointClass.prototype.optionsToObject.call({series:ye},Te)||{}};return re.forEach(function(ye,Te){re[Te]=oe(ve,ye),re[Te].index=Te},this),re.concat().sort((ye,Te)=>(ye=k(_e,ye),Te=k(_e,Te),Te<ye?-1:Te>ye?1:0)).forEach(function(ye,Te){ye.x=Te},this),ve.linkedSeries&&ve.linkedSeries.forEach(function(ye){const Te=ye.options,Oe=Te.data;Te.dataSorting&&Te.dataSorting.enabled||!Oe||(Oe.forEach(function(Le,Ue){Oe[Ue]=oe(ye,Le),re[Ue]&&(Oe[Ue].x=re[Ue].x,Oe[Ue].index=Ue)}),ye.setData(Oe,!1))}),re}getProcessedData(re){var ve=this.xAxis,_e=this.options,oe=_e.cropThreshold;const ye=re||this.getExtremesFromAll||_e.getExtremesFromAll,Te=this.isCartesian;re=ve&&ve.val2lin,_e=!(!ve||!ve.logarithmic);let Oe=0,Le,Ue,nt,Qe=this.xData,ut=this.yData,Me=this.requireSorting;var Re=!1;const Ne=Qe.length;if(ve&&(Re=ve.getExtremes(),Ue=Re.min,nt=Re.max,Re=!(!ve.categories||ve.names.length)),Te&&this.sorted&&!ye&&(!oe||Ne>oe||this.forceCrop)){if(Qe[Ne-1]<Ue||Qe[0]>nt)Qe=[],ut=[];else if(this.yData&&(Qe[0]<Ue||Qe[Ne-1]>nt)){var Xe=this.cropData(this.xData,this.yData,Ue,nt);Qe=Xe.xData,ut=Xe.yData,Oe=Xe.start,Xe=!0}}for(oe=Qe.length||1;--oe;)ve=_e?re(Qe[oe])-re(Qe[oe-1]):Qe[oe]-Qe[oe-1],0<ve&&(typeof Le>"u"||ve<Le)?Le=ve:0>ve&&Me&&!Re&&(D(15,!1,this.chart),Me=!1);return{xData:Qe,yData:ut,cropped:Xe,cropStart:Oe,closestPointRange:Le}}processData(re){const ve=this.xAxis;if(this.isCartesian&&!this.isDirty&&!ve.isDirty&&!this.yAxis.isDirty&&!re)return!1;re=this.getProcessedData(),this.cropped=re.cropped,this.cropStart=re.cropStart,this.processedXData=re.xData,this.processedYData=re.yData,this.closestPointRange=this.basePointRange=re.closestPointRange,x(this,"afterProcessData")}cropData(re,ve,_e,oe,ye){const Te=re.length;let Oe,Le=0,Ue=Te;for(ye=pe(ye,this.cropShoulder),Oe=0;Oe<Te;Oe++)if(re[Oe]>=_e){Le=Math.max(0,Oe-ye);break}for(_e=Oe;_e<Te;_e++)if(re[_e]>oe){Ue=_e+ye;break}return{xData:re.slice(Le,Ue),yData:ve.slice(Le,Ue),start:Le,end:Ue}}generatePoints(){var re=this.options;const ve=this.processedData||re.data,_e=this.processedXData,oe=this.processedYData,ye=this.pointClass,Te=_e.length,Oe=this.cropStart||0,Le=this.hasGroupedData,Ue=re.keys,nt=[];re=re.dataGrouping&&re.dataGrouping.groupAll?Oe:0;let Qe,ut,Me,Re=this.data;if(!Re&&!Le){var Ne=[];Ne.length=ve.length,Re=this.data=Ne}for(Ue&&Le&&(this.options.keys=!1),Me=0;Me<Te;Me++)Ne=Oe+Me,Le?(ut=new ye().init(this,[_e[Me]].concat(Q(oe[Me]))),ut.dataGroup=this.groupMap[re+Me],ut.dataGroup.options&&(ut.options=ut.dataGroup.options,m(ut,ut.dataGroup.options),delete ut.dataLabels)):(ut=Re[Ne])||typeof ve[Ne]>"u"||(Re[Ne]=ut=new ye().init(this,ve[Ne],_e[Me])),ut&&(ut.index=Le?re+Me:Ne,nt[Me]=ut);if(this.options.keys=Ue,Re&&(Te!==(Qe=Re.length)||Le))for(Me=0;Me<Qe;Me++)Me!==Oe||Le||(Me+=Te),Re[Me]&&(Re[Me].destroyElements(),Re[Me].plotX=void 0);this.data=Re,this.points=nt,x(this,"afterGeneratePoints")}getXExtremes(re){return{min:ie(re),max:E(re)}}getExtremes(re,ve){const _e=this.xAxis;var oe=this.yAxis;const ye=this.processedXData||this.xData,Te=[],Oe=this.requireSorting?this.cropShoulder:0;oe=oe?oe.positiveValuesOnly:!1;let Le,Ue=0,nt=0,Qe=0;re=re||this.stackedYData||this.processedYData||[];const ut=re.length;if(_e){var Me=_e.getExtremes();Ue=Me.min,nt=Me.max}for(Le=0;Le<ut;Le++){var Re=ye[Le];Me=re[Le];var Ne=(Y(Me)||q(Me))&&(Me.length||0<Me||!oe);if(Re=ve||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!_e||(ye[Le+Oe]||Re)>=Ue&&(ye[Le-Oe]||Re)<=nt,Ne&&Re)if(Ne=Me.length)for(;Ne--;)Y(Me[Ne])&&(Te[Qe++]=Me[Ne]);else Te[Qe++]=Me}return re={activeYData:Te,dataMin:ie(Te),dataMax:E(Te)},x(this,"afterGetExtremes",{dataExtremes:re}),re}applyExtremes(){const re=this.getExtremes();return this.dataMin=re.dataMin,this.dataMax=re.dataMax,re}getFirstValidPoint(re){const ve=re.length;let _e=0,oe=null;for(;oe===null&&_e<ve;)oe=re[_e],_e++;return oe}translate(){var re;this.processedXData||this.processData(),this.generatePoints();const ve=this.options,_e=ve.stacking,oe=this.xAxis,ye=oe.categories,Te=this.enabledDataSorting,Oe=this.yAxis,Le=this.points,Ue=Le.length,nt=this.pointPlacementToXValue(),Qe=!!nt,ut=ve.threshold,Me=ve.startFromThreshold?ut:0,Re=this.zoneAxis||"y";let Ne,Xe,rt,yt,$t=Number.MAX_VALUE;for(Ne=0;Ne<Ue;Ne++){const Wt=Le[Ne],Ci=Wt.x;let ti,Mi,on=Wt.y,ft=Wt.low;const Nt=_e&&((re=Oe.stacking)===null||re===void 0?void 0:re.stacks[(this.negStacks&&on<(Me?0:ut)?"-":"")+this.stackKey]);Xe=oe.translate(Ci,!1,!1,!1,!0,nt),Wt.plotX=Y(Xe)?V(te(Xe,-1e5,1e5)):void 0,_e&&this.visible&&Nt&&Nt[Ci]&&(yt=this.getStackIndicator(yt,Ci,this.index),!Wt.isNull&&yt.key&&(ti=Nt[Ci],Mi=ti.points[yt.key]),ti&&q(Mi)&&(ft=Mi[0],on=Mi[1],ft===Me&&yt.key===Nt[Ci].base&&(ft=pe(Y(ut)?ut:Oe.min)),Oe.positiveValuesOnly&&j(ft)&&0>=ft&&(ft=void 0),Wt.total=Wt.stackTotal=pe(ti.total),Wt.percentage=j(Wt.y)&&ti.total?Wt.y/ti.total*100:void 0,Wt.stackY=on,this.irregularWidths||ti.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Wt.yBottom=j(ft)?te(Oe.translate(ft,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(on=this.dataModify.modifyValue(on,Ne));let fi;Y(on)&&Wt.plotX!==void 0&&(fi=Oe.translate(on,!1,!0,!1,!0),fi=Y(fi)?te(fi,-1e5,1e5):void 0),Wt.plotY=fi,Wt.isInside=this.isPointInside(Wt),Wt.clientX=Qe?V(oe.translate(Ci,!1,!1,!1,!0,nt)):Xe,Wt.negative=Wt[Re]<(ve[Re+"Threshold"]||ut||0),Wt.category=pe(ye&&ye[Wt.x],Wt.x),Wt.isNull||Wt.visible===!1||(typeof rt<"u"&&($t=Math.min($t,Math.abs(Xe-rt))),rt=Xe),Wt.zone=this.zones.length?Wt.getZone():void 0,!Wt.graphic&&this.group&&Te&&(Wt.isNew=!0)}this.closestPointRangePx=$t,x(this,"afterTranslate")}getValidPoints(re,ve,_e){const oe=this.chart;return(re||this.points||[]).filter(function(ye){const{plotX:Te,plotY:Oe}=ye;return!_e&&(ye.isNull||!Y(Oe))||ve&&!oe.isInsidePlot(Te,Oe,{inverted:oe.inverted})?!1:ye.visible!==!1})}getClipBox(){const{chart:re,xAxis:ve,yAxis:_e}=this,oe=le(re.clipBox);return ve&&ve.len!==re.plotSizeX&&(oe.width=ve.len),_e&&_e.len!==re.plotSizeY&&(oe.height=_e.len),oe}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:re,group:ve,markerGroup:_e}=this,oe=re.sharedClips,ye=re.renderer,Te=this.getClipBox(),Oe=this.getSharedClipKey();let Le=oe[Oe];Le?Le.animate(Te):oe[Oe]=Le=ye.clipRect(Te),ve&&ve.clip(this.options.clip===!1?void 0:Le),_e&&_e.clip()}animate(re){const{chart:ve,group:_e,markerGroup:oe}=this,ye=ve.inverted;var Te=L(this.options.animation),Oe=[this.getSharedClipKey(),Te.duration,Te.easing,Te.defer].join();let Le=ve.sharedClips[Oe],Ue=ve.sharedClips[Oe+"m"];if(re&&_e)Te=this.getClipBox(),Le?Le.attr("height",Te.height):(Te.width=0,ye&&(Te.x=ve.plotHeight),Le=ve.renderer.clipRect(Te),ve.sharedClips[Oe]=Le,Ue=ve.renderer.clipRect({x:-99,y:-99,width:ye?ve.plotWidth+199:99,height:ye?99:ve.plotHeight+199}),ve.sharedClips[Oe+"m"]=Ue),_e.clip(Le),oe&&oe.clip(Ue);else if(Le&&!Le.hasClass("highcharts-animating")){Oe=this.getClipBox();const nt=Te.step;oe&&oe.element.childNodes.length&&(Te.step=function(Qe,ut){nt&&nt.apply(ut,arguments),ut.prop==="width"&&Ue&&Ue.element&&Ue.attr(ye?"height":"width",Qe+99)}),Le.addClass("highcharts-animating").animate(Oe,Te)}}afterAnimate(){this.setClip(),he(this.chart.sharedClips,(re,ve,_e)=>{re&&!this.chart.container.querySelector(`[clip-path="url(#${re.id})"]`)&&(re.destroy(),delete _e[ve])}),this.finishedAnimating=!0,x(this,"afterAnimate")}drawPoints(re=this.points){const ve=this.chart,_e=ve.styledMode,{colorAxis:oe,options:ye}=this,Te=ye.marker,Oe=this[this.specialGroup||"markerGroup"],Le=this.xAxis,Ue=pe(Te.enabled,!Le||Le.isRadial?!0:null,this.closestPointRangePx>=Te.enabledThreshold*Te.radius);let nt,Qe,ut,Me,Re,Ne;if(Te.enabled!==!1||this._hasPointMarkers)for(nt=0;nt<re.length;nt++){Qe=re[nt],Me=(ut=Qe.graphic)?"animate":"attr";var Xe=Qe.marker||{};if(Re=!!Qe.marker,(Ue&&typeof Xe.enabled>"u"||Xe.enabled)&&!Qe.isNull&&Qe.visible!==!1){const rt=pe(Xe.symbol,this.symbol,"rect");Ne=this.markerAttribs(Qe,Qe.selected&&"select"),this.enabledDataSorting&&(Qe.startXPos=Le.reversed?-(Ne.width||0):Le.width);const yt=Qe.isInside!==!1;!ut&&yt&&(0<(Ne.width||0)||Qe.hasImage)&&(Qe.graphic=ut=ve.renderer.symbol(rt,Ne.x,Ne.y,Ne.width,Ne.height,Re?Xe:Te).add(Oe),this.enabledDataSorting&&ve.hasRendered&&(ut.attr({x:Qe.startXPos}),Me="animate")),ut&&Me==="animate"&&ut[yt?"show":"hide"](yt).animate(Ne),ut&&(Xe=this.pointAttribs(Qe,_e||!Qe.selected?void 0:"select"),_e?oe&&ut.css({fill:Xe.fill}):ut[Me](Xe)),ut&&ut.addClass(Qe.getClassName(),!0)}else ut&&(Qe.graphic=ut.destroy())}}markerAttribs(re,ve){const _e=this.options;var oe=_e.marker;const ye=re.marker||{},Te=ye.symbol||oe.symbol,Oe={};let Le=pe(ye.radius,oe&&oe.radius);return ve&&(oe=oe.states[ve],ve=ye.states&&ye.states[ve],Le=pe(ve&&ve.radius,oe&&oe.radius,Le&&Le+(oe&&oe.radiusPlus||0))),re.hasImage=Te&&Te.indexOf("url")===0,re.hasImage&&(Le=0),re=re.pos(),Y(Le)&&re&&(Oe.x=re[0]-Le,Oe.y=re[1]-Le,_e.crisp&&(Oe.x=Math.floor(Oe.x))),Le&&(Oe.width=Oe.height=2*Le),Oe}pointAttribs(re,ve){var _e=this.options.marker,oe=re&&re.options;const ye=oe&&oe.marker||{};var Te=oe&&oe.color,Oe=re&&re.color;const Le=re&&re.zone&&re.zone.color;let Ue=this.color;return re=pe(ye.lineWidth,_e.lineWidth),oe=1,Ue=Te||Le||Oe||Ue,Te=ye.fillColor||_e.fillColor||Ue,Oe=ye.lineColor||_e.lineColor||Ue,ve=ve||"normal",_e=_e.states[ve]||{},ve=ye.states&&ye.states[ve]||{},re=pe(ve.lineWidth,_e.lineWidth,re+pe(ve.lineWidthPlus,_e.lineWidthPlus,0)),Te=ve.fillColor||_e.fillColor||Te,Oe=ve.lineColor||_e.lineColor||Oe,oe=pe(ve.opacity,_e.opacity,oe),{stroke:Oe,"stroke-width":re,fill:Te,opacity:oe}}destroy(re){const ve=this,_e=ve.chart,oe=/AppleWebKit\/533/.test(H.navigator.userAgent),ye=ve.data||[];let Te,Oe,Le,Ue;for(x(ve,"destroy",{keepEventsForUpdate:re}),this.removeEvents(re),(ve.axisTypes||[]).forEach(function(nt){(Ue=ve[nt])&&Ue.series&&(w(Ue.series,ve),Ue.isDirty=Ue.forceRedraw=!0)}),ve.legendItem&&ve.chart.legend.destroyItem(ve),Oe=ye.length;Oe--;)(Le=ye[Oe])&&Le.destroy&&Le.destroy();ve.clips&&ve.clips.forEach(nt=>nt.destroy()),Z.clearTimeout(ve.animationTimeout),he(ve,function(nt,Qe){nt instanceof z&&!nt.survive&&(Te=oe&&Qe==="group"?"hide":"destroy",nt[Te]())}),_e.hoverSeries===ve&&(_e.hoverSeries=void 0),w(_e.series,ve),_e.orderSeries(),he(ve,function(nt,Qe){re&&Qe==="hcEvents"||delete ve[Qe]})}applyZones(){const re=this,ve=this.chart,_e=ve.renderer,oe=this.zones,ye=this.clips||[],Te=this.graph,Oe=this.area,Le=Math.max(ve.plotWidth,ve.plotHeight),Ue=this[(this.zoneAxis||"y")+"Axis"],nt=ve.inverted;let Qe,ut,Me,Re,Ne,Xe,rt,yt,$t,Wt,Ci,ti=!1;oe.length&&(Te||Oe)&&Ue&&typeof Ue.min<"u"?(Ne=Ue.reversed,Xe=Ue.horiz,Te&&!this.showLine&&Te.hide(),Oe&&Oe.hide(),Re=Ue.getExtremes(),oe.forEach(function(Mi,on){Qe=Ne?Xe?ve.plotWidth:0:Xe?0:Ue.toPixels(Re.min)||0,Qe=te(pe(ut,Qe),0,Le),ut=te(Math.round(Ue.toPixels(pe(Mi.value,Re.max),!0)||0),0,Le),ti&&(Qe=ut=Ue.toPixels(Re.max)),rt=Math.abs(Qe-ut),yt=Math.min(Qe,ut),$t=Math.max(Qe,ut),Ue.isXAxis?(Me={x:nt?$t:yt,y:0,width:rt,height:Le},Xe||(Me.x=ve.plotHeight-Me.x)):(Me={x:0,y:nt?$t:yt,width:Le,height:rt},Xe&&(Me.y=ve.plotWidth-Me.y)),ye[on]?ye[on].animate(Me):ye[on]=_e.clipRect(Me),Wt=re["zone-area-"+on],Ci=re["zone-graph-"+on],Te&&Ci&&Ci.clip(ye[on]),Oe&&Wt&&Wt.clip(ye[on]),ti=Mi.value>Re.max,re.resetZones&&ut===0&&(ut=void 0)}),this.clips=ye):re.visible&&(Te&&Te.show(),Oe&&Oe.show())}plotGroup(re,ve,_e,oe,ye){let Te=this[re];const Oe=!Te;return _e={visibility:_e,zIndex:oe||.1},typeof this.opacity>"u"||this.chart.styledMode||this.state==="inactive"||(_e.opacity=this.opacity),Oe&&(this[re]=Te=this.chart.renderer.g().add(ye)),Te.addClass("highcharts-"+ve+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(j(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(Te.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),Te.attr(_e)[Oe?"attr":"animate"](this.getPlotBox(ve)),Te}getPlotBox(re){let ve=this.xAxis,_e=this.yAxis;const oe=this.chart;return re=oe.inverted&&!oe.polar&&ve&&this.invertible!==!1&&re==="series",oe.inverted&&(ve=_e,_e=this.xAxis),{translateX:ve?ve.left:oe.plotLeft,translateY:_e?_e.top:oe.plotTop,rotation:re?90:0,rotationOriginX:re?(ve.len-_e.len)/2:0,rotationOriginY:re?(ve.len+_e.len)/2:0,scaleX:re?-1:1,scaleY:1}}removeEvents(re){re||F(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(ve){ve()}),this.eventsToUnbind.length=0)}render(){const re=this;var ve=re.chart;const _e=re.options,oe=L(_e.animation),ye=re.visible?"inherit":"hidden",Te=_e.zIndex,Oe=re.hasRendered;ve=ve.seriesGroup;let Le=re.finishedAnimating?0:oe.duration;x(this,"render"),re.plotGroup("group","series",ye,Te,ve),re.markerGroup=re.plotGroup("markerGroup","markers",ye,Te,ve),_e.clip!==!1&&re.setClip(),re.animate&&Le&&re.animate(!0),re.drawGraph&&(re.drawGraph(),re.applyZones()),re.visible&&re.drawPoints(),re.drawDataLabels&&re.drawDataLabels(),re.redrawPoints&&re.redrawPoints(),re.drawTracker&&re.options.enableMouseTracking!==!1&&re.drawTracker(),re.animate&&Le&&re.animate(),Oe||(Le&&oe.defer&&(Le+=oe.defer),re.animationTimeout=ce(function(){re.afterAnimate()},Le||0)),re.isDirty=!1,re.hasRendered=!0,x(re,"afterRender")}redraw(){const re=this.isDirty||this.isDirtyData;this.translate(),this.render(),re&&delete this.kdTree}searchPoint(re,ve){const _e=this.xAxis,oe=this.yAxis,ye=this.chart.inverted;return this.searchKDTree({clientX:ye?_e.len-re.chartY+_e.pos:re.chartX-_e.pos,plotY:ye?oe.len-re.chartX+oe.pos:re.chartY-oe.pos},ve,re)}buildKDTree(re){function ve(ye,Te,Oe){var Le=ye&&ye.length;let Ue;if(Le)return Ue=_e.kdAxisArray[Te%Oe],ye.sort(function(nt,Qe){return nt[Ue]-Qe[Ue]}),Le=Math.floor(Le/2),{point:ye[Le],left:ve(ye.slice(0,Le),Te+1,Oe),right:ve(ye.slice(Le+1),Te+1,Oe)}}this.buildingKdTree=!0;const _e=this,oe=-1<_e.options.findNearestPointBy.indexOf("y")?2:1;delete _e.kdTree,ce(function(){_e.kdTree=ve(_e.getValidPoints(null,!_e.directTouch),oe,oe),_e.buildingKdTree=!1},_e.options.kdNow||re&&re.type==="touchstart"?0:1)}searchKDTree(re,ve,_e){function oe(Ue,nt,Qe,ut){const Me=nt.point;var Re=ye.kdAxisArray[Qe%ut];let Ne=Me;var Xe=j(Ue[Te])&&j(Me[Te])?Math.pow(Ue[Te]-Me[Te],2):null,rt=j(Ue[Oe])&&j(Me[Oe])?Math.pow(Ue[Oe]-Me[Oe],2):null;return rt=(Xe||0)+(rt||0),Me.dist=j(rt)?Math.sqrt(rt):Number.MAX_VALUE,Me.distX=j(Xe)?Math.sqrt(Xe):Number.MAX_VALUE,Re=Ue[Re]-Me[Re],rt=0>Re?"left":"right",Xe=0>Re?"right":"left",nt[rt]&&(rt=oe(Ue,nt[rt],Qe+1,ut),Ne=rt[Le]<Ne[Le]?rt:Me),nt[Xe]&&Math.sqrt(Re*Re)<Ne[Le]&&(Ue=oe(Ue,nt[Xe],Qe+1,ut),Ne=Ue[Le]<Ne[Le]?Ue:Ne),Ne}const ye=this,Te=this.kdAxisArray[0],Oe=this.kdAxisArray[1],Le=ve?"distX":"dist";if(ve=-1<ye.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(_e),this.kdTree)return oe(re,this.kdTree,ve,ve)}pointPlacementToXValue(){const{options:{pointPlacement:re,pointRange:ve},xAxis:_e}=this;let oe=re;return oe==="between"&&(oe=_e.reversed?-.5:.5),Y(oe)?oe*(ve||_e.pointRange):0}isPointInside(re){const{chart:ve,xAxis:_e,yAxis:oe}=this;return typeof re.plotY<"u"&&typeof re.plotX<"u"&&0<=re.plotY&&re.plotY<=(oe?oe.len:ve.plotHeight)&&0<=re.plotX&&re.plotX<=(_e?_e.len:ve.plotWidth)}drawTracker(){const re=this,ve=re.options,_e=ve.trackByArea,oe=[].concat(_e?re.areaPath:re.graphPath),ye=re.chart,Te=ye.pointer,Oe=ye.renderer,Le=ye.options.tooltip.snap,Ue=re.tracker,nt=function(ut){ye.hoverSeries!==re&&re.onMouseOver()},Qe="rgba(192,192,192,"+(P?1e-4:.002)+")";Ue?Ue.attr({d:oe}):re.graph&&(re.tracker=Oe.path(oe).attr({visibility:re.visible?"inherit":"hidden",zIndex:2}).addClass(_e?"highcharts-tracker-area":"highcharts-tracker-line").add(re.group),ye.styledMode||re.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:Qe,fill:_e?Qe:"none","stroke-width":re.graph.strokeWidth()+(_e?0:2*Le)}),[re.tracker,re.markerGroup,re.dataLabelsGroup].forEach(function(ut){ut&&(ut.addClass("highcharts-tracker").on("mouseover",nt).on("mouseout",function(Me){Te.onTrackerMouseOut(Me)}),ve.cursor&&!ye.styledMode&&ut.css({cursor:ve.cursor}),S)&&ut.on("touchstart",nt)})),x(this,"afterDrawTracker")}addPoint(re,ve,_e,oe,ye){const Te=this.options,Oe=this.data,Le=this.chart;var Ue=this.xAxis;Ue=Ue&&Ue.hasNames&&Ue.names;const nt=Te.data,Qe=this.xData;let ut,Me;ve=pe(ve,!0);const Re={series:this};this.pointClass.prototype.applyOptions.apply(Re,[re]);const Ne=Re.x;if(Me=Qe.length,this.requireSorting&&Ne<Qe[Me-1])for(ut=!0;Me&&Qe[Me-1]>Ne;)Me--;this.updateParallelArrays(Re,"splice",[Me,0,0]),this.updateParallelArrays(Re,Me),Ue&&Re.name&&(Ue[Ne]=Re.name),nt.splice(Me,0,re),(ut||this.processedData)&&(this.data.splice(Me,0,null),this.processData()),Te.legendType==="point"&&this.generatePoints(),_e&&(Oe[0]&&Oe[0].remove?Oe[0].remove(!1):(Oe.shift(),this.updateParallelArrays(Re,"shift"),nt.shift())),ye!==!1&&x(this,"addPoint",{point:Re}),this.isDirtyData=this.isDirty=!0,ve&&Le.redraw(oe)}removePoint(re,ve,_e){const oe=this,ye=oe.data,Te=ye[re],Oe=oe.points,Le=oe.chart,Ue=function(){Oe&&Oe.length===ye.length&&Oe.splice(re,1),ye.splice(re,1),oe.options.data.splice(re,1),oe.updateParallelArrays(Te||{series:oe},"splice",[re,1]),Te&&Te.destroy(),oe.isDirty=!0,oe.isDirtyData=!0,ve&&Le.redraw()};O(_e,Le),ve=pe(ve,!0),Te?Te.firePointEvent("remove",null,Ue):Ue()}remove(re,ve,_e,oe){function ye(){Te.destroy(oe),Oe.isDirtyLegend=Oe.isDirtyBox=!0,Oe.linkSeries(oe),pe(re,!0)&&Oe.redraw(ve)}const Te=this,Oe=Te.chart;_e!==!1?x(Te,"remove",null,ye):ye()}update(re,ve){re=$(re,this.userOptions),x(this,"update",{options:re});const _e=this,oe=_e.chart;var ye=_e.userOptions;const Te=_e.initialType||_e.type;var Oe=oe.options.plotOptions;const Le=U[Te].prototype;var Ue=_e.finishedAnimating&&{animation:!1};const nt={};let Qe,ut=["eventOptions","navigatorSeries","baseSeries"],Me=re.type||ye.type||oe.options.chart.type;const Re=!(this.hasDerivedData||Me&&Me!==this.type||typeof re.pointStart<"u"||typeof re.pointInterval<"u"||typeof re.relativeXValue<"u"||re.joinBy||re.mapData||_e.hasOptionChanged("dataGrouping")||_e.hasOptionChanged("pointStart")||_e.hasOptionChanged("pointInterval")||_e.hasOptionChanged("pointIntervalUnit")||_e.hasOptionChanged("keys"));if(Me=Me||Te,Re&&(ut.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),re.visible!==!1&&ut.push("area","graph"),_e.parallelArrays.forEach(function(Ne){ut.push(Ne+"Data")}),re.data&&(re.dataSorting&&m(_e.options.dataSorting,re.dataSorting),this.setData(re.data,!1))),re=le(ye,Ue,{index:typeof ye.index>"u"?_e.index:ye.index,pointStart:pe(Oe&&Oe.series&&Oe.series.pointStart,ye.pointStart,_e.xData[0])},!Re&&{data:_e.options.data},re),Re&&re.data&&(re.data=_e.options.data),ut=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(ut),ut.forEach(function(Ne){ut[Ne]=_e[Ne],delete _e[Ne]}),Oe=!1,U[Me]){if(Oe=Me!==_e.type,_e.remove(!1,!1,!1,!0),Oe)if(Object.setPrototypeOf)Object.setPrototypeOf(_e,U[Me].prototype);else{Ue=Object.hasOwnProperty.call(_e,"hcEvents")&&_e.hcEvents;for(Qe in Le)_e[Qe]=void 0;m(_e,U[Me].prototype),Ue?_e.hcEvents=Ue:delete _e.hcEvents}}else D(17,!0,oe,{missingModuleFor:Me});if(ut.forEach(function(Ne){_e[Ne]=ut[Ne]}),_e.init(oe,re),Re&&this.points){if(re=_e.options,re.visible===!1)nt.graphic=1,nt.dataLabel=1;else if(!_e._hasPointLabels){const{marker:Ne,dataLabels:Xe}=re;ye=ye.marker||{},!Ne||Ne.enabled!==!1&&ye.symbol===Ne.symbol&&ye.height===Ne.height&&ye.width===Ne.width||(nt.graphic=1),Xe&&Xe.enabled===!1&&(nt.dataLabel=1)}for(const Ne of this.points)Ne&&Ne.series&&(Ne.resolveColor(),Object.keys(nt).length&&Ne.destroyElements(nt),re.showInLegend===!1&&Ne.legendItem&&oe.legend.destroyItem(Ne))}_e.initialType=Te,oe.linkSeries(),Oe&&_e.linkedSeries.length&&(_e.isDirtyData=!0),x(this,"afterUpdate"),pe(ve,!0)&&oe.redraw(Re?void 0:!1)}setName(re){this.name=this.options.name=this.userOptions.name=re,this.chart.isDirtyLegend=!0}hasOptionChanged(re){const ve=this.options[re],_e=this.chart.options.plotOptions,oe=this.userOptions[re];return oe?ve!==oe:ve!==pe(_e&&_e[this.type]&&_e[this.type][re],_e&&_e.series&&_e.series[re],ve)}onMouseOver(){const re=this.chart,ve=re.hoverSeries;re.pointer.setHoverChartIndex(),ve&&ve!==this&&ve.onMouseOut(),this.options.events.mouseOver&&x(this,"mouseOver"),this.setState("hover"),re.hoverSeries=this}onMouseOut(){const re=this.options,ve=this.chart,_e=ve.tooltip,oe=ve.hoverPoint;ve.hoverSeries=null,oe&&oe.onMouseOut(),this&&re.events.mouseOut&&x(this,"mouseOut"),!_e||this.stickyTracking||_e.shared&&!this.noSharedTooltip||_e.hide(),ve.series.forEach(function(ye){ye.setState("",!0)})}setState(re,ve){const _e=this;var oe=_e.options;const ye=_e.graph,Te=oe.inactiveOtherPoints,Oe=oe.states,Le=pe(Oe[re||"normal"]&&Oe[re||"normal"].animation,_e.chart.options.chart.animation);let Ue=oe.lineWidth,nt=0,Qe=oe.opacity;if(re=re||"",_e.state!==re&&([_e.group,_e.markerGroup,_e.dataLabelsGroup].forEach(function(ut){ut&&(_e.state&&ut.removeClass("highcharts-series-"+_e.state),re&&ut.addClass("highcharts-series-"+re))}),_e.state=re,!_e.chart.styledMode)){if(Oe[re]&&Oe[re].enabled===!1)return;if(re&&(Ue=Oe[re].lineWidth||Ue+(Oe[re].lineWidthPlus||0),Qe=pe(Oe[re].opacity,Qe)),ye&&!ye.dashstyle&&Y(Ue))for(oe={"stroke-width":Ue},ye.animate(oe,Le);_e["zone-graph-"+nt];)_e["zone-graph-"+nt].animate(oe,Le),nt+=1;Te||[_e.group,_e.markerGroup,_e.dataLabelsGroup,_e.labelBySeries].forEach(function(ut){ut&&ut.animate({opacity:Qe},Le)})}ve&&Te&&_e.points&&_e.setAllPointsToState(re||void 0)}setAllPointsToState(re){this.points.forEach(function(ve){ve.setState&&ve.setState(re)})}setVisible(re,ve){const _e=this,oe=_e.chart,ye=oe.options.chart.ignoreHiddenSeries,Te=_e.visible,Oe=(_e.visible=re=_e.options.visible=_e.userOptions.visible=typeof re>"u"?!Te:re)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(Le){_e[Le]&&_e[Le][Oe]()}),(oe.hoverSeries===_e||(oe.hoverPoint&&oe.hoverPoint.series)===_e)&&_e.onMouseOut(),_e.legendItem&&oe.legend.colorizeItem(_e,re),_e.isDirty=!0,_e.options.stacking&&oe.series.forEach(function(Le){Le.options.stacking&&Le.visible&&(Le.isDirty=!0)}),_e.linkedSeries.forEach(function(Le){Le.setVisible(re,!1)}),ye&&(oe.isDirtyBox=!0),x(_e,Oe),ve!==!1&&oe.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(re){this.selected=re=this.options.selected=typeof re>"u"?!this.selected:re,this.checkbox&&(this.checkbox.checked=re),x(this,re?"select":"unselect")}shouldShowTooltip(re,ve,_e={}){return _e.series=this,_e.visiblePlotOnly=!0,this.chart.isInsidePlot(re,ve,_e)}drawLegendSymbol(re,ve){var _e;(_e=b[this.options.legendSymbol||"rectangle"])===null||_e===void 0||_e.call(this,re,ve)}}return ge.defaultOptions=J,ge.types=I.seriesTypes,ge.registerType=I.registerSeriesType,m(ge.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:R,requireSorting:!0,sorted:!0}),I.series=ge,ge}),n(r,"Extensions/ScrollablePlotArea.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Chart/Chart.js"],r["Core/Series/Series.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(o,d,h,s,b,R){const{stop:J}=o,{addEvent:I,createElement:z,defined:Z,merge:L,pick:O}=R;I(h,"afterSetChartSize",function(G){var M=this.options.chart.scrollablePlotArea,S=M&&M.minWidth;M=M&&M.minHeight;let P;this.renderer.forExport||(S?(this.scrollablePixelsX=S=Math.max(0,S-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=L(this.plotBox),this.plotBox.width=this.plotWidth+=S,this.inverted?this.clipBox.height+=S:this.clipBox.width+=S,P={1:{name:"right",value:S}}):M&&(this.scrollablePixelsY=S=Math.max(0,M-this.chartHeight),Z(S)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=L(this.plotBox),this.plotBox.height=this.plotHeight+=S,this.inverted?this.clipBox.width+=S:this.clipBox.height+=S,P={2:{name:"bottom",value:S}})),P&&!G.skipAxes&&this.axes.forEach(function(H){P[H.side]?H.getPlotLinePath=function(){let U=P[H.side].name,E=this[U],ie;return this[U]=E-P[H.side].value,ie=d.prototype.getPlotLinePath.apply(this,arguments),this[U]=E,ie}:(H.setAxisSize(),H.setAxisTranslation())}))}),I(h,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),h.prototype.setUpScrolling=function(){const G={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(G.overflowX="auto"),this.scrollablePixelsY&&(G.overflowY="auto"),this.scrollingParent=z("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=z("div",{className:"highcharts-scrolling"},G,this.scrollingParent);let M;I(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(M=this.hoverPoint),this.pointer.runPointActions(void 0,M,!0))}),this.innerContainer=z("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},h.prototype.moveFixedElements=function(){let G=this.container,M=this.fixedRenderer,S=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),P;this.scrollablePixelsX&&!this.inverted?P=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?P=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(P=".highcharts-yaxis"),P&&S.push(`${P}:not(.highcharts-radial-axis)`,`${P}-labels:not(.highcharts-radial-axis-labels)`),S.forEach(function(H){[].forEach.call(G.querySelectorAll(H),function(U){(U.namespaceURI===M.SVG_NS?M.box:M.box.parentNode).appendChild(U),U.style.pointerEvents="auto"})})},h.prototype.applyFixed=function(){var G=!this.fixedDiv,M=this.options.chart,S=M.scrollablePlotArea,P=b.getRendererType();G?(this.fixedDiv=z("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(M.style&&M.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=M=new P(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=M.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":O(S.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),I(this,"afterShowResetZoom",this.moveFixedElements),I(this,"afterApplyDrilldown",this.moveFixedElements),I(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||G)&&(this.scrollableDirty=!1,this.moveFixedElements()),M=this.chartWidth+(this.scrollablePixelsX||0),P=this.chartHeight+(this.scrollablePixelsY||0),J(this.container),this.container.style.width=M+"px",this.container.style.height=P+"px",this.renderer.boxWrapper.attr({width:M,height:P,viewBox:[0,0,M,P].join(" ")}),this.chartBackground.attr({width:M,height:P}),this.scrollingContainer.style.height=this.chartHeight+"px",G&&(S.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*S.scrollPositionX),S.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*S.scrollPositionY)),P=this.axisOffset,G=this.plotTop-P[0]-1,S=this.plotLeft-P[3]-1,M=this.plotTop+this.plotHeight+P[2]+1,P=this.plotLeft+this.plotWidth+P[1]+1;let H=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),U=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);G=this.scrollablePixelsX?[["M",0,G],["L",this.plotLeft-1,G],["L",this.plotLeft-1,M],["L",0,M],["Z"],["M",H,G],["L",this.chartWidth,G],["L",this.chartWidth,M],["L",H,M],["Z"]]:this.scrollablePixelsY?[["M",S,0],["L",S,this.plotTop-1],["L",P,this.plotTop-1],["L",P,0],["Z"],["M",S,U],["L",S,this.chartHeight],["L",P,this.chartHeight],["L",P,U],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:G})},I(d,"afterInit",function(){this.chart.scrollableDirty=!0}),I(s,"show",function(){this.chart.scrollableDirty=!0})}),n(r,"Core/Axis/Stacking/StackItem.js",[r["Core/FormatUtilities.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{format:s}=o,{series:b}=d,{destroyObjectProperties:R,fireEvent:J,isNumber:I,pick:z}=h;class Z{constructor(O,G,M,S,P){const H=O.chart.inverted,U=O.reversed;this.axis=O,O=this.isNegative=!!M!=!!U,this.options=G=G||{},this.x=S,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=P,this.rightCliff=this.leftCliff=0,this.alignOptions={align:G.align||(H?O?"left":"right":"center"),verticalAlign:G.verticalAlign||(H?"middle":O?"bottom":"top"),y:G.y,x:G.x},this.textAlign=G.textAlign||(H?O?"right":"left":"center")}destroy(){R(this,this.axis)}render(O){const G=this.axis.chart,M=this.options;var S=M.format;S=S?s(S,this,G):M.formatter.call(this),this.label?this.label.attr({text:S,visibility:"hidden"}):(this.label=G.renderer.label(S,null,void 0,M.shape,void 0,void 0,M.useHTML,!1,"stack-labels"),S={r:M.borderRadius||0,text:S,padding:z(M.padding,5),visibility:"hidden"},G.styledMode||(S.fill=M.backgroundColor,S.stroke=M.borderColor,S["stroke-width"]=M.borderWidth,this.label.css(M.style||{})),this.label.attr(S),this.label.added||this.label.add(O)),this.label.labelrank=G.plotSizeY,J(this,"afterRender")}setOffset(O,G,M,S,P,H){const{alignOptions:U,axis:E,label:ie,options:te,textAlign:$}=this,V=E.chart;M=this.getStackBox({xOffset:O,width:G,boxBottom:M,boxTop:S,defaultX:P,xAxis:H});var{verticalAlign:j}=U;if(ie&&M){S=ie.getBBox(),P=ie.padding,H=z(te.overflow,"justify")==="justify",U.x=te.x||0,U.y=te.y||0;const{x:w,y:D}=this.adjustStackPosition({labelBox:S,verticalAlign:j,textAlign:$});M.x-=w,M.y-=D,ie.align(U,!1,M),(j=V.isInsidePlot(ie.alignAttr.x+U.x+w,ie.alignAttr.y+U.y+D))||(H=!1),H&&b.prototype.justifyDataLabel.call(E,ie,U,ie.alignAttr,S,M),ie.attr({x:ie.alignAttr.x,y:ie.alignAttr.y,rotation:te.rotation,rotationOriginX:S.width/2,rotationOriginY:S.height/2}),z(!H&&te.crop,!0)&&(j=I(ie.x)&&I(ie.y)&&V.isInsidePlot(ie.x-P+ie.width,ie.y)&&V.isInsidePlot(ie.x+P,ie.y)),ie[j?"show":"hide"]()}J(this,"afterSetOffset",{xOffset:O,width:G})}adjustStackPosition({labelBox:O,verticalAlign:G,textAlign:M}){const S={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:O.width/2+O.width/2*S[M],y:O.height/2*S[G]}}getStackBox(O){var G=this.axis;const M=G.chart,{boxTop:S,defaultX:P,xOffset:H,width:U,boxBottom:E}=O;var ie=G.stacking.usePercentage?100:z(S,this.total,0);ie=G.toPixels(ie),O=O.xAxis||M.xAxis[0];const te=z(P,O.translate(this.x))+H;G=G.toPixels(E||I(G.min)&&G.logarithmic&&G.logarithmic.lin2log(G.min)||0),G=Math.abs(ie-G);const $=this.isNegative;return M.inverted?{x:($?ie:ie-G)-M.plotLeft,y:O.height-te-U,width:G,height:U}:{x:te+O.transB-M.plotLeft,y:($?ie-G:ie)-M.plotTop,width:U,height:G}}}return Z}),n(r,"Core/Axis/Stacking/StackingAxis.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Axis/Stacking/StackItem.js"],r["Core/Utilities.js"]],function(o,d,h,s,b){function R(){const m=this,g=m.inverted;m.yAxis.forEach(x=>{x.stacking&&x.stacking.stacks&&x.hasVisibleSeries&&(x.stacking.oldStacks=x.stacking.stacks)}),m.series.forEach(x=>{const k=x.xAxis&&x.xAxis.options||{};!x.options.stacking||x.visible!==!0&&m.options.chart.ignoreHiddenSeries!==!1||(x.stackKey=[x.type,j(x.options.stack,""),g?k.top:k.left,g?k.height:k.width].join())})}function J(){const m=this.stacking;if(m){var g=m.stacks;V(g,function(x,k){E(x),g[k]=null}),m&&m.stackTotalGroup&&m.stackTotalGroup.destroy()}}function I(){this.coll!=="yAxis"||this.stacking||(this.stacking=new w(this))}function z(m,g,x,k){return!U(m)||m.x!==g||k&&m.stackKey!==k?m={x:g,index:0,key:k,stackKey:k}:m.index++,m.key=[x,g,m.index].join(),m}function Z(){const m=this,g=m.stackKey,x=m.yAxis.stacking.stacks,k=m.processedXData,q=m[m.options.stacking+"Stacker"];let Y;q&&[g,"-"+g].forEach(K=>{let le=k.length,he;for(;le--;){var pe=k[le];Y=m.getStackIndicator(Y,pe,m.index,K),(he=(pe=x[K]&&x[K][pe])&&pe.points[Y.key])&&q.call(m,he,pe,le)}})}function L(m,g,x){g=g.total?100/g.total:0,m[0]=H(m[0]*g),m[1]=H(m[1]*g),this.stackedYData[x]=m[1]}function O(){const m=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?S.setStackedPoints.call(this,"group"):m&&V(m.stacks,(g,x)=>{x.slice(-5)==="group"&&(V(g,k=>k.destroy()),delete m.stacks[x])})}function G(m){var g=this.chart;const x=m||this.options.stacking;if(x&&(this.visible===!0||g.options.chart.ignoreHiddenSeries===!1)){var k=this.processedXData,q=this.processedYData,Y=[],K=q.length,le=this.options,he=le.threshold,pe=j(le.startFromThreshold&&he,0);le=le.stack,m=m?`${this.type},${x}`:this.stackKey;var F="-"+m,Q=this.negStacks;g=x==="group"?g.yAxis[0]:this.yAxis;var ce=g.stacking.stacks,ge=g.stacking.oldStacks,ke,re;for(g.stacking.stacksTouched+=1,re=0;re<K;re++){var ve=k[re],_e=q[re],oe=this.getStackIndicator(oe,ve,this.index),ye=oe.key,Te=(ke=Q&&_e<(pe?0:he))?F:m;ce[Te]||(ce[Te]={}),ce[Te][ve]||(ge[Te]&&ge[Te][ve]?(ce[Te][ve]=ge[Te][ve],ce[Te][ve].total=null):ce[Te][ve]=new s(g,g.options.stackLabels,!!ke,ve,le)),Te=ce[Te][ve],_e!==null?(Te.points[ye]=Te.points[this.index]=[j(Te.cumulative,pe)],U(Te.cumulative)||(Te.base=ye),Te.touched=g.stacking.stacksTouched,0<oe.index&&this.singleStacks===!1&&(Te.points[ye][0]=Te.points[this.index+","+ve+",0"][0])):Te.points[ye]=Te.points[this.index]=null,x==="percent"?(ke=ke?m:F,Q&&ce[ke]&&ce[ke][ve]?(ke=ce[ke][ve],Te.total=ke.total=Math.max(ke.total,Te.total)+Math.abs(_e)||0):Te.total=H(Te.total+(Math.abs(_e)||0))):x==="group"?(te(_e)&&(_e=_e[0]),_e!==null&&(Te.total=(Te.total||0)+1)):Te.total=H(Te.total+(_e||0)),Te.cumulative=x==="group"?(Te.total||1)-1:H(j(Te.cumulative,pe)+(_e||0)),_e!==null&&(Te.points[ye].push(Te.cumulative),Y[re]=Te.cumulative,Te.hasValidPoints=!0)}x==="percent"&&(g.stacking.usePercentage=!0),x!=="group"&&(this.stackedYData=Y),g.stacking.oldStacks={}}}const{getDeferredAnimation:M}=o,{series:{prototype:S}}=h,{addEvent:P,correctFloat:H,defined:U,destroyObjectProperties:E,fireEvent:ie,isArray:te,isNumber:$,objectEach:V,pick:j}=b;class w{constructor(g){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=g}buildStacks(){const g=this.axis,x=g.series,k=g.options.reversedStacks,q=x.length;let Y,K;for(this.usePercentage=!1,K=q;K--;)Y=x[k?K:q-K-1],Y.setStackedPoints(),Y.setGroupedPoints();for(K=0;K<q;K++)x[K].modifyStacks();ie(g,"afterBuildStacks")}cleanStacks(){let g;this.oldStacks&&(g=this.stacks=this.oldStacks),V(g,function(x){V(x,function(k){k.cumulative=k.total})})}resetStacks(){V(this.stacks,g=>{V(g,(x,k)=>{$(x.touched)&&x.touched<this.stacksTouched?(x.destroy(),delete g[k]):(x.total=null,x.cumulative=null)})})}renderStackTotals(){var g=this.axis;const x=g.chart,k=x.renderer,q=this.stacks;g=M(x,g.options.stackLabels&&g.options.stackLabels.animation||!1);const Y=this.stackTotalGroup=this.stackTotalGroup||k.g("stack-labels").attr({zIndex:6,opacity:0}).add();Y.translate(x.plotLeft,x.plotTop),V(q,function(K){V(K,function(le){le.render(Y)})}),Y.animate({opacity:1},g)}}var D;return function(m){const g=[];m.compose=function(x,k,q){b.pushUnique(g,x)&&(P(x,"init",I),P(x,"destroy",J)),b.pushUnique(g,k)&&(k.prototype.getStacks=R),b.pushUnique(g,q)&&(x=q.prototype,x.getStackIndicator=z,x.modifyStacks=Z,x.percentStacker=L,x.setGroupedPoints=O,x.setStackedPoints=G)}}(D||(D={})),D}),n(r,"Series/Line/LineSeries.js",[r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{defined:s,merge:b}=h;class R extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const I=this,z=this.options,Z=(this.gappedPath||this.getGraphPath).call(this),L=this.chart.styledMode;let O=[["graph","highcharts-graph"]];L||O[0].push(z.lineColor||this.color||"#cccccc",z.dashStyle),O=I.getZonesGraphs(O),O.forEach(function(G,M){var S=G[0];let P=I[S];const H=P?"animate":"attr";P?(P.endX=I.preventGraphAnimation?null:Z.xMap,P.animate({d:Z})):Z.length&&(I[S]=P=I.chart.renderer.path(Z).addClass(G[1]).attr({zIndex:1}).add(I.group)),P&&!L&&(S={stroke:G[2],"stroke-width":z.lineWidth||0,fill:I.fillGraph&&I.color||"none"},G[3]?S.dashstyle=G[3]:z.linecap!=="square"&&(S["stroke-linecap"]=S["stroke-linejoin"]="round"),P[H](S).shadow(2>M&&z.shadow)),P&&(P.startX=Z.xMap,P.isArea=Z.isArea)})}getGraphPath(I,z,Z){const L=this,O=L.options,G=[],M=[];let S,P=O.step;I=I||L.points;const H=I.reversed;return H&&I.reverse(),(P={right:1,center:2}[P]||P&&3)&&H&&(P=4-P),I=this.getValidPoints(I,!1,!(O.connectNulls&&!z&&!Z)),I.forEach(function(U,E){const ie=U.plotX,te=U.plotY,$=I[E-1],V=U.isNull||typeof te!="number";(U.leftCliff||$&&$.rightCliff)&&!Z&&(S=!0),V&&!s(z)&&0<E?S=!O.connectNulls:V&&!z?S=!0:(E===0||S?E=[["M",U.plotX,U.plotY]]:L.getPointSpline?E=[L.getPointSpline(I,U,E)]:P?(E=P===1?[["L",$.plotX,te]]:P===2?[["L",($.plotX+ie)/2,$.plotY],["L",($.plotX+ie)/2,te]]:[["L",ie,$.plotY]],E.push(["L",ie,te])):E=[["L",ie,te]],M.push(U.x),P&&(M.push(U.x),P===2&&M.push(U.x)),G.push.apply(G,E),S=!1)}),G.xMap=M,L.graphPath=G}getZonesGraphs(I){return this.zones.forEach(function(z,Z){Z=["zone-graph-"+Z,"highcharts-graph highcharts-zone-graph-"+Z+" "+(z.className||"")],this.chart.styledMode||Z.push(z.color||this.color,z.dashStyle||this.options.dashStyle),I.push(Z)},this),I}}return R.defaultOptions=b(o.defaultOptions,{legendSymbol:"lineMarker"}),d.registerSeriesType("line",R),R}),n(r,"Series/Area/AreaSeries.js",[r["Core/Color/Color.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{parse:s}=o,{seriesTypes:{line:b}}=d,{extend:R,merge:J,objectEach:I,pick:z}=h;class Z extends b{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const O=this,G=this.areaPath,M=this.options,S=[["area","highcharts-area",this.color,M.fillColor]];this.zones.forEach(function(P,H){S.push(["zone-area-"+H,"highcharts-area highcharts-zone-area-"+H+" "+P.className,P.color||O.color,P.fillColor||M.fillColor])}),S.forEach(function(P){const H=P[0],U={};let E=O[H];const ie=E?"animate":"attr";E?(E.endX=O.preventGraphAnimation?null:G.xMap,E.animate({d:G})):(U.zIndex=0,E=O[H]=O.chart.renderer.path(G).addClass(P[1]).add(O.group),E.isArea=!0),O.chart.styledMode||(U.fill=z(P[3],s(P[2]).setOpacity(z(M.fillOpacity,.75)).get())),E[ie](U),E.startX=G.xMap,E.shiftUnit=M.step?2:1})}getGraphPath(O){var G=b.prototype.getGraphPath,M=this.options;const S=M.stacking,P=this.yAxis,H=[],U=[],E=this.index,ie=P.stacking.stacks[this.stackKey],te=M.threshold,$=Math.round(P.getThreshold(M.threshold));M=z(M.connectNulls,S==="percent");var V=function(m,g,x){var k=O[m];m=S&&ie[k.x].points[E];const q=k[x+"Null"]||0;x=k[x+"Cliff"]||0;let Y,K;k=!0,x||q?(Y=(q?m[0]:m[1])+x,K=m[0]+x,k=!!q):!S&&O[g]&&O[g].isNull&&(Y=K=te),typeof Y<"u"&&(U.push({plotX:j,plotY:Y===null?$:P.getThreshold(Y),isNull:k,isCliff:!0}),H.push({plotX:j,plotY:K===null?$:P.getThreshold(K),doCurve:!1}))};let j;O=O||this.points,S&&(O=this.getStackPoints(O));for(let m=0,g=O.length;m<g;++m){S||(O[m].leftCliff=O[m].rightCliff=O[m].leftNull=O[m].rightNull=void 0);var w=O[m].isNull;j=z(O[m].rectPlotX,O[m].plotX);var D=S?z(O[m].yBottom,$):$;(!w||M)&&(M||V(m,m-1,"left"),w&&!S&&M||(U.push(O[m]),H.push({x:m,plotX:j,plotY:D})),M||V(m,m+1,"right"))}return V=G.call(this,U,!0,!0),H.reversed=!0,w=G.call(this,H,!0,!0),(D=w[0])&&D[0]==="M"&&(w[0]=["L",D[1],D[2]]),w=V.concat(w),w.length&&w.push(["Z"]),G=G.call(this,U,!1,M),w.xMap=V.xMap,this.areaPath=w,G}getStackPoints(O){const G=this,M=[],S=[],P=this.xAxis,H=this.yAxis,U=H.stacking.stacks[this.stackKey],E={},ie=H.series,te=ie.length,$=H.options.reversedStacks?1:-1,V=ie.indexOf(G);if(O=O||this.points,this.options.stacking){for(let w=0;w<O.length;w++)O[w].leftNull=O[w].rightNull=void 0,E[O[w].x]=O[w];I(U,function(w,D){w.total!==null&&S.push(D)}),S.sort(function(w,D){return w-D});const j=ie.map(w=>w.visible);S.forEach(function(w,D){let m=0,g,x;if(E[w]&&!E[w].isNull)M.push(E[w]),[-1,1].forEach(function(k){const q=k===1?"rightNull":"leftNull",Y=U[S[D+k]];let K=0;if(Y){let le=V;for(;0<=le&&le<te;){const he=ie[le].index;g=Y.points[he],g||(he===G.index?E[w][q]=!0:j[le]&&(x=U[w].points[he])&&(K-=x[1]-x[0])),le+=$}}E[w][k===1?"rightCliff":"leftCliff"]=K});else{let k=V;for(;0<=k&&k<te;){if(g=U[w].points[ie[k].index]){m=g[1];break}k+=$}m=z(m,0),m=H.translate(m,0,1,0,1),M.push({isNull:!0,plotX:P.translate(w,0,0,0,1),x:w,plotY:m,yBottom:m})}})}return M}}return Z.defaultOptions=J(b.defaultOptions,{threshold:0,legendSymbol:"rectangle"}),R(Z.prototype,{singleStacks:!1}),d.registerSeriesType("area",Z),Z}),n(r,"Series/Spline/SplineSeries.js",[r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d){const{line:h}=o.seriesTypes,{merge:s,pick:b}=d;class R extends h{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(I,z,Z){const L=z.plotX||0,O=z.plotY||0,G=I[Z-1];Z=I[Z+1];let M,S,P;if(G&&!G.isNull&&G.doCurve!==!1&&!z.isCliff&&Z&&!Z.isNull&&Z.doCurve!==!1&&!z.isCliff){I=G.plotY||0;var H=Z.plotX||0;Z=Z.plotY||0;let U=0;M=(1.5*L+(G.plotX||0))/2.5,S=(1.5*O+I)/2.5,H=(1.5*L+H)/2.5,P=(1.5*O+Z)/2.5,H!==M&&(U=(P-S)*(H-L)/(H-M)+O-P),S+=U,P+=U,S>I&&S>O?(S=Math.max(I,O),P=2*O-S):S<I&&S<O&&(S=Math.min(I,O),P=2*O-S),P>Z&&P>O?(P=Math.max(Z,O),S=2*O-P):P<Z&&P<O&&(P=Math.min(Z,O),S=2*O-P),z.rightContX=H,z.rightContY=P}return z=["C",b(G.rightContX,G.plotX,0),b(G.rightContY,G.plotY,0),b(M,L,0),b(S,O,0),L,O],G.rightContX=G.rightContY=void 0,z}}return R.defaultOptions=s(h.defaultOptions),o.registerSeriesType("spline",R),R}),n(r,"Series/AreaSpline/AreaSplineSeries.js",[r["Series/Spline/SplineSeries.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{area:s,area:{prototype:b}}=d.seriesTypes,{extend:R,merge:J}=h;class I extends o{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return I.defaultOptions=J(o.defaultOptions,s.defaultOptions),R(I.prototype,{getGraphPath:b.getGraphPath,getStackPoints:b.getStackPoints,drawGraph:b.drawGraph}),d.registerSeriesType("areaspline",I),I}),n(r,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),n(r,"Series/Column/ColumnSeries.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Color/Color.js"],r["Series/Column/ColumnSeriesDefaults.js"],r["Core/Globals.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h,s,b,R,J){const{animObject:I}=o,{parse:z}=d,{hasTouch:Z,noop:L}=s,{clamp:O,defined:G,extend:M,fireEvent:S,isArray:P,isNumber:H,merge:U,pick:E,objectEach:ie}=J;class te extends b{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(V){const j=this,w=this.yAxis,D=w.pos,m=j.options,g=this.chart.inverted,x={},k=g?"translateX":"translateY";let q;V?(x.scaleY=.001,V=O(w.toPixels(m.threshold),D,D+w.len),g?x.translateX=V-w.len:x.translateY=V,j.clipBox&&j.setClip(),j.group.attr(x)):(q=Number(j.group.attr(k)),j.group.animate({scaleY:1},M(I(j.options.animation),{step:function(Y,K){j.group&&(x[k]=q+K.pos*(D-q),j.group.attr(x))}})))}init(V,j){super.init.apply(this,arguments);const w=this;V=w.chart,V.hasRendered&&V.series.forEach(function(D){D.type===w.type&&(D.isDirty=!0)})}getColumnMetrics(){const V=this;var j=V.options;const w=V.xAxis,D=V.yAxis;var m=w.options.reversedStacks;m=w.reversed&&!m||!w.reversed&&m;const g={};let x,k=0;j.grouping===!1?k=1:V.chart.series.forEach(function(le){const he=le.yAxis,pe=le.options;let F;le.type!==V.type||!le.visible&&V.chart.options.chart.ignoreHiddenSeries||D.len!==he.len||D.pos!==he.pos||(pe.stacking&&pe.stacking!=="group"?(x=le.stackKey,typeof g[x]>"u"&&(g[x]=k++),F=g[x]):pe.grouping!==!1&&(F=k++),le.columnIndex=F)});const q=Math.min(Math.abs(w.transA)*(w.ordinal&&w.ordinal.slope||j.pointRange||w.closestPointRange||w.tickInterval||1),w.len),Y=q*j.groupPadding,K=(q-2*Y)/(k||1);return j=Math.min(j.maxPointWidth||w.len,E(j.pointWidth,K*(1-2*j.pointPadding))),V.columnMetrics={width:j,offset:(K-j)/2+(Y+((V.columnIndex||0)+(m?1:0))*K-q/2)*(m?-1:1),paddedWidth:K,columnCount:k},V.columnMetrics}crispCol(V,j,w,D){var m=this.borderWidth,g=-(m%2?.5:0);return m=m%2?.5:1,this.options.crisp&&(w=Math.round(V+w)+g,V=Math.round(V)+g,w-=V),D=Math.round(j+D)+m,g=.5>=Math.abs(j)&&.5<D,j=Math.round(j)+m,D-=j,g&&D&&(--j,D+=1),{x:V,y:j,width:w,height:D}}adjustForMissingColumns(V,j,w,D){const m=this.options.stacking;if(!w.isNull&&1<D.columnCount){const g=this.yAxis.options.reversedStacks;let x=0,k=g?0:-D.columnCount;ie(this.yAxis.stacking&&this.yAxis.stacking.stacks,q=>{if(typeof w.x=="number"){const Y=q[w.x.toString()];Y&&(q=Y.points[this.index],m?(q&&(x=k),Y.hasValidPoints&&(g?k++:k--)):P(q)&&(q=Object.keys(Y.points).filter(K=>!K.match(",")&&Y.points[K]&&1<Y.points[K].length).map(parseFloat).sort((K,le)=>le-K),x=q.indexOf(this.index),k=q.length))}}),V=(w.plotX||0)+((k-1)*D.paddedWidth+j)/2-j-x*D.paddedWidth}return V}translate(){const V=this,j=V.chart,w=V.options;var D=V.dense=2>V.closestPointRange*V.xAxis.transA;D=V.borderWidth=E(w.borderWidth,D?0:1);const m=V.xAxis,g=V.yAxis,x=w.threshold,k=E(w.minPointLength,5),q=V.getColumnMetrics(),Y=q.width,K=V.pointXOffset=q.offset,le=V.dataMin,he=V.dataMax;let pe=V.barW=Math.max(Y,1+2*D),F=V.translatedThreshold=g.getThreshold(x);j.inverted&&(F-=.5),w.pointPadding&&(pe=Math.ceil(pe)),b.prototype.translate.apply(V),V.points.forEach(function(Q){const ce=E(Q.yBottom,F);var ge=999+Math.abs(ce),ke=Q.plotX||0;ge=O(Q.plotY,-ge,g.len+ge);let re=Math.min(ge,ce),ve=Math.max(ge,ce)-re,_e=Y,oe=ke+K,ye=pe;k&&Math.abs(ve)<k&&(ve=k,ke=!g.reversed&&!Q.negative||g.reversed&&Q.negative,H(x)&&H(he)&&Q.y===x&&he<=x&&(g.min||0)<x&&(le!==he||(g.max||0)<=x)&&(ke=!ke),re=Math.abs(re-F)>k?ce-k:F-(ke?k:0)),G(Q.options.pointWidth)&&(_e=ye=Math.ceil(Q.options.pointWidth),oe-=Math.round((_e-Y)/2)),w.centerInCategory&&(oe=V.adjustForMissingColumns(oe,_e,Q,q)),Q.barX=oe,Q.pointWidth=_e,Q.tooltipPos=j.inverted?[O(g.len+g.pos-j.plotLeft-ge,g.pos-j.plotLeft,g.len+g.pos-j.plotLeft),m.len+m.pos-j.plotTop-oe-ye/2,ve]:[m.left-j.plotLeft+oe+ye/2,O(ge+g.pos-j.plotTop,g.pos-j.plotTop,g.len+g.pos-j.plotTop),ve],Q.shapeType=V.pointClass.prototype.shapeType||"roundedRect",Q.shapeArgs=V.crispCol(oe,Q.isNull?F:re,ye,Q.isNull?0:ve)}),S(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(V,j){const w=this.options;var D=this.pointAttrToOptions||{},m=D.stroke||"borderColor";const g=D["stroke-width"]||"borderWidth";let x,k=V&&V.color||this.color,q=V&&V[m]||w[m]||k;D=V&&V.options.dashStyle||w.dashStyle;let Y=V&&V[g]||w[g]||this[g]||0,K=E(V&&V.opacity,w.opacity,1);return V&&this.zones.length&&(x=V.getZone(),k=V.options.color||x&&(x.color||V.nonZonedColor)||this.color,x&&(q=x.borderColor||q,D=x.dashStyle||D,Y=x.borderWidth||Y)),j&&V&&(V=U(w.states[j],V.options.states&&V.options.states[j]||{}),j=V.brightness,k=V.color||typeof j<"u"&&z(k).brighten(V.brightness).get()||k,q=V[m]||q,Y=V[g]||Y,D=V.dashStyle||D,K=E(V.opacity,K)),m={fill:k,stroke:q,"stroke-width":Y,opacity:K},D&&(m.dashstyle=D),m}drawPoints(V=this.points){const j=this,w=this.chart,D=j.options,m=w.renderer,g=D.animationLimit||250;let x;V.forEach(function(k){let q=k.graphic,Y=!!q,K=q&&w.pointCount<g?"animate":"attr";H(k.plotY)&&k.y!==null?(x=k.shapeArgs,q&&k.hasNewShapeType()&&(q=q.destroy()),j.enabledDataSorting&&(k.startXPos=j.xAxis.reversed?-(x&&x.width||0):j.xAxis.width),q||(k.graphic=q=m[k.shapeType](x).add(k.group||j.group))&&j.enabledDataSorting&&w.hasRendered&&w.pointCount<g&&(q.attr({x:k.startXPos}),Y=!0,K="animate"),q&&Y&&q[K](U(x)),w.styledMode||q[K](j.pointAttribs(k,k.selected&&"select")).shadow(k.allowShadow!==!1&&D.shadow),q&&(q.addClass(k.getClassName(),!0),q.attr({visibility:k.visible?"inherit":"hidden"}))):q&&(k.graphic=q.destroy())})}drawTracker(V=this.points){const j=this,w=j.chart,D=w.pointer,m=function(x){const k=D.getPointFromEvent(x);typeof k<"u"&&(D.isDirectTouch=!0,k.onMouseOver(x))};let g;V.forEach(function(x){g=P(x.dataLabels)?x.dataLabels:x.dataLabel?[x.dataLabel]:[],x.graphic&&(x.graphic.element.point=x),g.forEach(function(k){k.div?k.div.point=x:k.element.point=x})}),j._hasTracking||(j.trackerGroups.forEach(function(x){j[x]&&(j[x].addClass("highcharts-tracker").on("mouseover",m).on("mouseout",function(k){D.onTrackerMouseOut(k)}),Z&&j[x].on("touchstart",m),!w.styledMode&&j.options.cursor&&j[x].css({cursor:j.options.cursor}))}),j._hasTracking=!0),S(this,"afterDrawTracker")}remove(){const V=this,j=V.chart;j.hasRendered&&j.series.forEach(function(w){w.type===V.type&&(w.isDirty=!0)}),b.prototype.remove.apply(V,arguments)}}return te.defaultOptions=U(b.defaultOptions,h),M(te.prototype,{cropShoulder:0,directTouch:!0,getSymbol:L,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),R.registerSeriesType("column",te),te}),n(r,"Core/Series/DataLabel.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/FormatUtilities.js"],r["Core/Utilities.js"]],function(o,d,h){const{getDeferredAnimation:s}=o,{format:b}=d,{defined:R,extend:J,fireEvent:I,isArray:z,isString:Z,merge:L,objectEach:O,pick:G,splat:M}=h;var S;return function(P){function H(D,m,g,x,k){const q=this.chart;var Y=this.isCartesian&&q.inverted;const K=this.enabledDataSorting;var le=D.plotX,he=D.plotY;const pe=g.rotation;var F=g.align;he=R(le)&&R(he)&&q.isInsidePlot(le,Math.round(he),{inverted:Y,paneCoordinates:!0,series:this});let Q=G(g.overflow,K?"none":"justify")==="justify";if(Y=this.visible&&D.visible!==!1&&R(le)&&(D.series.forceDL||K&&!Q||he||G(g.inside,!!this.options.stacking)&&x&&q.isInsidePlot(le,Y?x.x+1:x.y+x.height-1,{inverted:Y,paneCoordinates:!0,series:this})),le=D.pos(),Y&&le){pe&&m.attr({align:F}),F=m.getBBox(!0);var ce=[0,0],ge=q.renderer.fontMetrics(m).b;if(x=J({x:le[0],y:Math.round(le[1]),width:0,height:0},x),J(g,{width:F.width,height:F.height}),pe?(Q=!1,ce=q.renderer.rotCorr(ge,pe),ge={x:x.x+(g.x||0)+x.width/2+ce.x,y:x.y+(g.y||0)+{top:0,middle:.5,bottom:1}[g.verticalAlign]*x.height},ce=[F.x-Number(m.attr("x")),F.y-Number(m.attr("y"))],K&&this.xAxis&&!Q&&this.setDataLabelStartPos(D,m,k,he,ge),m[k?"attr":"animate"](ge)):(K&&this.xAxis&&!Q&&this.setDataLabelStartPos(D,m,k,he,x),m.align(g,void 0,x),ge=m.alignAttr),Q&&0<=x.height)this.justifyDataLabel(m,g,ge,F,x,k);else if(G(g.crop,!0)){let{x:ke,y:re}=ge;ke+=ce[0],re+=ce[1],Y=q.isInsidePlot(ke,re,{paneCoordinates:!0,series:this})&&q.isInsidePlot(ke+F.width,re+F.height,{paneCoordinates:!0,series:this})}g.shape&&!pe&&m[k?"attr":"animate"]({anchorX:le[0],anchorY:le[1]})}k&&K&&(m.placed=!1),Y||K&&!Q?m.show():(m.hide(),m.placed=!1)}function U(D,m){var g=m.filter;return g?(m=g.operator,D=D[g.property],g=g.value,m===">"&&D>g||m==="<"&&D<g||m===">="&&D>=g||m==="<="&&D<=g||m==="=="&&D==g||m==="==="&&D===g):!0}function E(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function ie(D){const m=this.hasRendered||0,g=this.initDataLabelsGroup().attr({opacity:+m});return!m&&g&&(this.visible&&g.show(),this.options.animation?g.animate({opacity:1},D):g.attr({opacity:1})),g}function te(D=this.points){const m=this,g=m.chart,x=m.options,k=g.renderer,{backgroundColor:q,plotBackgroundColor:Y}=g.options.chart,K=k.getContrast(Z(Y)&&Y||Z(q)&&q||"#000000");let le=x.dataLabels,he,pe;var F=M(le)[0];const Q=F.animation;F=F.defer?s(g,Q,m):{defer:0,duration:0},le=V(V(g.options.plotOptions&&g.options.plotOptions.series&&g.options.plotOptions.series.dataLabels,g.options.plotOptions&&g.options.plotOptions[m.type]&&g.options.plotOptions[m.type].dataLabels),le),I(this,"drawDataLabels"),(z(le)||le.enabled||m._hasPointLabels)&&(pe=this.initDataLabels(F),D.forEach(ce=>{he=M(V(le,ce.dlOptions||ce.options&&ce.options.dataLabels)),he.forEach((ge,ke)=>{const re=ge.enabled&&(!ce.isNull||ce.dataLabelOnNull)&&U(ce,ge),ve=ce.connectors?ce.connectors[ke]:ce.connector;let _e,oe,ye=ce.dataLabels?ce.dataLabels[ke]:ce.dataLabel,Te=!ye;const Oe=G(ge.distance,ce.labelDistance);if(re){var Le=ce.getLabelConfig(),Ue=G(ge[ce.formatPrefix+"Format"],ge.format);if(Le=R(Ue)?b(Ue,Le,g):(ge[ce.formatPrefix+"Formatter"]||ge.formatter).call(Le,ge),Ue=ge.style,_e=ge.rotation,g.styledMode||(Ue.color=G(ge.color,Ue.color,m.color,"#000000"),Ue.color==="contrast"?(ce.contrastColor=k.getContrast(ce.color||m.color),Ue.color=!R(Oe)&&ge.inside||0>Oe||x.stacking?ce.contrastColor:K):delete ce.contrastColor,x.cursor&&(Ue.cursor=x.cursor)),oe={r:ge.borderRadius||0,rotation:_e,padding:ge.padding,zIndex:1},!g.styledMode){const{backgroundColor:nt,borderColor:Qe}=ge;oe.fill=nt==="auto"?ce.color:nt,oe.stroke=Qe==="auto"?ce.color:Qe,oe["stroke-width"]=ge.borderWidth}O(oe,function(nt,Qe){typeof nt>"u"&&delete oe[Qe]})}!ye||re&&R(Le)&&!!ye.div==!!ge.useHTML&&(ye.rotation&&ge.rotation||ye.rotation===ge.rotation)||(Te=!0,ce.dataLabel=ye=ce.dataLabel&&ce.dataLabel.destroy(),ce.dataLabels&&(ce.dataLabels.length===1?delete ce.dataLabels:delete ce.dataLabels[ke]),ke||delete ce.dataLabel,ve&&(ce.connector=ce.connector.destroy(),ce.connectors&&(ce.connectors.length===1?delete ce.connectors:delete ce.connectors[ke]))),re&&R(Le)?(ye?oe.text=Le:(ce.dataLabels=ce.dataLabels||[],ye=ce.dataLabels[ke]=_e?k.text(Le,0,0,ge.useHTML).addClass("highcharts-data-label"):k.label(Le,0,0,ge.shape,null,null,ge.useHTML,null,"data-label"),ke||(ce.dataLabel=ye),ye.addClass(" highcharts-data-label-color-"+ce.colorIndex+" "+(ge.className||"")+(ge.useHTML?" highcharts-tracker":""))),ye.options=ge,ye.attr(oe),g.styledMode||ye.css(Ue).shadow(ge.shadow),(ke=ge[ce.formatPrefix+"TextPath"]||ge.textPath)&&!ge.useHTML&&(ye.setTextPath(ce.getDataLabelPath&&ce.getDataLabelPath(ye)||ce.graphic,ke),ce.dataLabelPath&&!ke.enabled&&(ce.dataLabelPath=ce.dataLabelPath.destroy())),ye.added||ye.add(pe),m.alignDataLabel(ce,ye,ge,null,Te)):ye&&ye.hide()})})),I(this,"afterDrawDataLabels")}function $(D,m,g,x,k,q){const Y=this.chart,K=m.align,le=m.verticalAlign,he=D.box?0:D.padding||0;let{x:pe=0,y:F=0}=m,Q,ce;return Q=(g.x||0)+he,0>Q&&(K==="right"&&0<=pe?(m.align="left",m.inside=!0):pe-=Q,ce=!0),Q=(g.x||0)+x.width-he,Q>Y.plotWidth&&(K==="left"&&0>=pe?(m.align="right",m.inside=!0):pe+=Y.plotWidth-Q,ce=!0),Q=g.y+he,0>Q&&(le==="bottom"&&0<=F?(m.verticalAlign="top",m.inside=!0):F-=Q,ce=!0),Q=(g.y||0)+x.height-he,Q>Y.plotHeight&&(le==="top"&&0>=F?(m.verticalAlign="bottom",m.inside=!0):F+=Y.plotHeight-Q,ce=!0),ce&&(m.x=pe,m.y=F,D.placed=!q,D.align(m,void 0,k)),ce}function V(D,m){let g=[],x;if(z(D)&&!z(m))g=D.map(function(k){return L(k,m)});else if(z(m)&&!z(D))g=m.map(function(k){return L(D,k)});else if(z(D)||z(m))for(x=Math.max(D.length,m.length);x--;)g[x]=L(D[x],m[x]);else g=L(D,m);return g}function j(D,m,g,x,k){const q=this.chart,Y=q.inverted,K=this.xAxis,le=K.reversed,he=Y?m.height/2:m.width/2;D=(D=D.pointWidth)?D/2:0,m.startXPos=Y?k.x:le?-he-D:K.width-he+D,m.startYPos=Y?le?this.yAxis.height-he+D:-he-D:k.y,x?m.visibility==="hidden"&&(m.show(),m.attr({opacity:0}).animate({opacity:1})):m.attr({opacity:1}).animate({opacity:0},void 0,m.hide),q.hasRendered&&(g&&m.attr({x:m.startXPos,y:m.startYPos}),m.placed=!0)}const w=[];P.compose=function(D){h.pushUnique(w,D)&&(D=D.prototype,D.initDataLabelsGroup=E,D.initDataLabels=ie,D.alignDataLabel=H,D.drawDataLabels=te,D.justifyDataLabel=$,D.setDataLabelStartPos=j)}}(S||(S={})),S}),n(r,"Series/Column/ColumnDataLabel.js",[r["Core/Series/DataLabel.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{series:s}=d,{merge:b,pick:R}=h;var J;return function(I){function z(L,O,G,M,S){let P=this.chart.inverted;var H=L.series;let U=(H.xAxis?H.xAxis.len:this.chart.plotSizeX)||0;H=(H.yAxis?H.yAxis.len:this.chart.plotSizeY)||0;var E=L.dlBox||L.shapeArgs;let ie=R(L.below,L.plotY>R(this.translatedThreshold,H)),te=R(G.inside,!!this.options.stacking);E&&(M=b(E),0>M.y&&(M.height+=M.y,M.y=0),E=M.y+M.height-H,0<E&&E<M.height&&(M.height-=E),P&&(M={x:H-M.y-M.height,y:U-M.x-M.width,width:M.height,height:M.width}),te||(P?(M.x+=ie?0:M.width,M.width=0):(M.y+=ie?M.height:0,M.height=0))),G.align=R(G.align,!P||te?"center":ie?"right":"left"),G.verticalAlign=R(G.verticalAlign,P||te?"middle":ie?"top":"bottom"),s.prototype.alignDataLabel.call(this,L,O,G,M,S),G.inside&&L.contrastColor&&O.css({color:L.contrastColor})}const Z=[];I.compose=function(L){o.compose(s),h.pushUnique(Z,L)&&(L.prototype.alignDataLabel=z)}}(J||(J={})),J}),n(r,"Series/Bar/BarSeries.js",[r["Series/Column/ColumnSeries.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{extend:s,merge:b}=h;class R extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return R.defaultOptions=b(o.defaultOptions,{}),s(R.prototype,{inverted:!0}),d.registerSeriesType("bar",R),R}),n(r,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),n(r,"Series/Scatter/ScatterSeries.js",[r["Series/Scatter/ScatterSeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h){const{column:s,line:b}=d.seriesTypes,{addEvent:R,extend:J,merge:I}=h;class z extends b{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const L=this,O=this.options.jitter,G=this.points.length;O&&this.points.forEach(function(M,S){["x","y"].forEach(function(P,H){let U="plot"+P.toUpperCase(),E,ie;if(O[P]&&!M.isNull){var te=L[P+"Axis"];ie=O[P]*te.transA,te&&!te.isLog&&(E=Math.max(0,M[U]-ie),te=Math.min(te.len,M[U]+ie),H=1e4*Math.sin(S+H*G),H-=Math.floor(H),M[U]=E+(te-E)*H,P==="x"&&(M.clientX=M.plotX))}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return z.defaultOptions=I(b.defaultOptions,o),J(z.prototype,{drawTracker:s.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),R(z,"afterTranslate",function(){this.applyJitter()}),d.registerSeriesType("scatter",z),z}),n(r,"Series/CenteredUtilities.js",[r["Core/Globals.js"],r["Core/Series/Series.js"],r["Core/Utilities.js"]],function(o,d,h){const{deg2rad:s}=o,{fireEvent:b,isNumber:R,pick:J,relativeLength:I}=h;var z;return function(Z){Z.getCenter=function(){var L=this.options,O=this.chart;const G=2*(L.slicedOffset||0),M=O.plotWidth-2*G,S=O.plotHeight-2*G;var P=L.center;const H=Math.min(M,S),U=L.thickness;var E=L.size;let ie=L.innerSize||0;for(typeof E=="string"&&(E=parseFloat(E)),typeof ie=="string"&&(ie=parseFloat(ie)),L=[J(P[0],"50%"),J(P[1],"50%"),J(E&&0>E?void 0:L.size,"100%"),J(ie&&0>ie?void 0:L.innerSize||0,"0%")],!O.angular||this instanceof d||(L[3]=0),P=0;4>P;++P)E=L[P],O=2>P||P===2&&/%$/.test(E),L[P]=I(E,[M,S,H,L[2]][P])+(O?G:0);return L[3]>L[2]&&(L[3]=L[2]),R(U)&&2*U<L[2]&&0<U&&(L[3]=L[2]-2*U),b(this,"afterGetCenter",{positions:L}),L},Z.getStartAndEndRadians=function(L,O){return L=R(L)?L:0,O=R(O)&&O>L&&360>O-L?O:L+360,{start:s*(L+-90),end:s*(O+-90)}}}(z||(z={})),z}),n(r,"Series/Pie/PiePoint.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Series/Point.js"],r["Core/Utilities.js"]],function(o,d,h){const{setAnimation:s}=o,{addEvent:b,defined:R,extend:J,isNumber:I,pick:z,relativeLength:Z}=h;class L extends d{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const G=this.labelPosition,M=this.series.options.dataLabels,S=this.connectorShapes;let P=M.connectorShape;return S[P]&&(P=S[P]),P.call(this,{x:G.computed.x,y:G.computed.y,alignment:G.alignment},G.connectorPosition,M)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(G){const M=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(M.x,M.y,M.r+G,M.r+G,{innerR:M.r-1,start:M.start,end:M.end,borderRadius:M.borderRadius})}init(){super.init.apply(this,arguments),this.name=z(this.name,"Slice");const G=M=>{this.slice(M.type==="select")};return b(this,"select",G),b(this,"unselect",G),this}isValid(){return I(this.y)&&0<=this.y}setVisible(G,M){const S=this.series,P=S.chart,H=S.options.ignoreHiddenPoint;M=z(M,H),G!==this.visible&&(this.visible=this.options.visible=G=typeof G>"u"?!this.visible:G,S.options.data[S.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach(U=>{this[U]&&this[U][G?"show":"hide"](G)}),this.legendItem&&P.legend.colorizeItem(this,G),G||this.state!=="hover"||this.setState(""),H&&(S.isDirty=!0),M&&P.redraw())}slice(G,M,S){const P=this.series;s(S,P.chart),z(M,!0),this.sliced=this.options.sliced=R(G)?G:!this.sliced,P.options.data[P.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return J(L.prototype,{connectorShapes:{fixedOffset:function(O,G,M){const S=G.breakAt;return G=G.touchingSliceAt,[["M",O.x,O.y],M.softConnector?["C",O.x+(O.alignment==="left"?-5:5),O.y,2*S.x-G.x,2*S.y-G.y,S.x,S.y]:["L",S.x,S.y],["L",G.x,G.y]]},straight:function(O,G){return G=G.touchingSliceAt,[["M",O.x,O.y],["L",G.x,G.y]]},crookedLine:function(O,G,M){const{breakAt:S,touchingSliceAt:P}=G;({series:G}=this);const[H,U,E]=G.center,ie=E/2,te=G.chart.plotWidth,$=G.chart.plotLeft;G=O.alignment==="left";const{x:V,y:j}=O;return M.crookDistance?(O=Z(M.crookDistance,1),O=G?H+ie+(te+$-H-ie)*(1-O):$+(H-ie)*O):O=H+(U-j)*Math.tan((this.angle||0)-Math.PI/2),M=[["M",V,j]],(G?O<=V&&O>=S.x:O>=V&&O<=S.x)&&M.push(["L",O,j]),M.push(["L",S.x,S.y],["L",P.x,P.y]),M}}}),L}),n(r,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),n(r,"Series/Pie/PieSeries.js",[r["Series/CenteredUtilities.js"],r["Series/Column/ColumnSeries.js"],r["Core/Globals.js"],r["Series/Pie/PiePoint.js"],r["Series/Pie/PieSeriesDefaults.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/Symbols.js"],r["Core/Utilities.js"]],function(o,d,h,s,b,R,J,I,z){const{getStartAndEndRadians:Z}=o;({noop:h}=h);const{clamp:L,extend:O,fireEvent:G,merge:M,pick:S,relativeLength:P}=z;class H extends R{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(E){const ie=this,te=ie.points,$=ie.startAngleRad;E||te.forEach(function(V){const j=V.graphic,w=V.shapeArgs;j&&w&&(j.attr({r:S(V.startR,ie.center&&ie.center[3]/2),start:$,end:$}),j.animate({r:w.r,start:w.start,end:w.end},ie.options.animation))})}drawEmpty(){const E=this.startAngleRad,ie=this.endAngleRad,te=this.options;let $,V;this.total===0&&this.center?($=this.center[0],V=this.center[1],this.graph||(this.graph=this.chart.renderer.arc($,V,this.center[1]/2,0,E,ie).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:I.arc($,V,this.center[2]/2,0,{start:E,end:ie,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":te.borderWidth,fill:te.fillColor||"none",stroke:te.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const E=this.chart.renderer;this.points.forEach(function(ie){ie.graphic&&ie.hasNewShapeType()&&(ie.graphic=ie.graphic.destroy()),ie.graphic||(ie.graphic=E[ie.shapeType](ie.shapeArgs).add(ie.series.group),ie.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(E,ie,te){const $=this.center,V=this.radii?this.radii[te.index]||0:$[2]/2;return E=Math.asin(L((E-$[1])/(V+te.labelDistance),-1,1)),$[0]+(ie?-1:1)*Math.cos(E)*(V+te.labelDistance)+(0<te.labelDistance?(ie?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const E=this,ie=E.chart;let te,$,V,j;this.drawEmpty(),E.group&&!ie.styledMode&&E.group.shadow(E.options.shadow),E.points.forEach(function(w){const D={};$=w.graphic,!w.isNull&&$?(j=w.shapeArgs,te=w.getTranslate(),ie.styledMode||(V=E.pointAttribs(w,w.selected&&"select")),w.delayedRendering?($.setRadialReference(E.center).attr(j).attr(te),ie.styledMode||$.attr(V).attr({"stroke-linejoin":"round"}),w.delayedRendering=!1):($.setRadialReference(E.center),ie.styledMode||M(!0,D,V),M(!0,D,j,te),$.animate(D)),$.attr({visibility:w.visible?"inherit":"hidden"}),$.addClass(w.getClassName(),!0)):$&&(w.graphic=$.destroy())})}sortByAngle(E,ie){E.sort(function(te,$){return typeof te.angle<"u"&&($.angle-te.angle)*ie})}translate(E){G(this,"translate"),this.generatePoints();var ie=this.options;const te=ie.slicedOffset,$=te+(ie.borderWidth||0);var V=Z(ie.startAngle,ie.endAngle);const j=this.startAngleRad=V.start;V=(this.endAngleRad=V.end)-j;const w=this.points,D=ie.dataLabels.distance;ie=ie.ignoreHiddenPoint;const m=w.length;let g,x,k,q=0;for(E||(this.center=E=this.getCenter()),x=0;x<m;x++){k=w[x];var Y=j+q*V;!k.isValid()||ie&&!k.visible||(q+=k.percentage/100);var K=j+q*V,le={x:E[0],y:E[1],r:E[2]/2,innerR:E[3]/2,start:Math.round(1e3*Y)/1e3,end:Math.round(1e3*K)/1e3};k.shapeType="arc",k.shapeArgs=le,k.labelDistance=S(k.options.dataLabels&&k.options.dataLabels.distance,D),k.labelDistance=P(k.labelDistance,le.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,k.labelDistance),K=(K+Y)/2,K>1.5*Math.PI?K-=2*Math.PI:K<-Math.PI/2&&(K+=2*Math.PI),k.slicedTranslation={translateX:Math.round(Math.cos(K)*te),translateY:Math.round(Math.sin(K)*te)},le=Math.cos(K)*E[2]/2,g=Math.sin(K)*E[2]/2,k.tooltipPos=[E[0]+.7*le,E[1]+.7*g],k.half=K<-Math.PI/2||K>Math.PI/2?1:0,k.angle=K,Y=Math.min($,k.labelDistance/5),k.labelPosition={natural:{x:E[0]+le+Math.cos(K)*k.labelDistance,y:E[1]+g+Math.sin(K)*k.labelDistance},computed:{},alignment:0>k.labelDistance?"center":k.half?"right":"left",connectorPosition:{breakAt:{x:E[0]+le+Math.cos(K)*Y,y:E[1]+g+Math.sin(K)*Y},touchingSliceAt:{x:E[0]+le,y:E[1]+g}}}}G(this,"afterTranslate")}updateTotals(){const E=this.points,ie=E.length,te=this.options.ignoreHiddenPoint;let $,V,j=0;for($=0;$<ie;$++)V=E[$],!V.isValid()||te&&!V.visible||(j+=V.y);for(this.total=j,$=0;$<ie;$++)V=E[$],V.percentage=0<j&&(V.visible||!te)?V.y/j*100:0,V.total=j}}return H.defaultOptions=M(R.defaultOptions,b),O(H.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:d.prototype.drawTracker,getCenter:o.getCenter,getSymbol:h,isCartesian:!1,noSharedTooltip:!0,pointAttribs:d.prototype.pointAttribs,pointClass:s,requireSorting:!1,searchPoint:h,trackerGroups:["group","dataLabelsGroup"]}),J.registerSeriesType("pie",H),H}),n(r,"Series/Pie/PieDataLabel.js",[r["Core/Series/DataLabel.js"],r["Core/Globals.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(o,d,h,s,b){const{noop:R}=d,{distribute:J}=h,{series:I}=s,{arrayMax:z,clamp:Z,defined:L,merge:O,pick:G,relativeLength:M}=b;var S;return function(P){function H(){const $=this,V=$.data,j=$.chart,w=$.options.dataLabels||{},D=w.connectorPadding,m=j.plotWidth,g=j.plotHeight,x=j.plotLeft,k=Math.round(j.chartWidth/3),q=$.center,Y=q[2]/2,K=q[1],le=[[],[]],he=[0,0,0,0],pe=$.dataLabelPositioners;let F,Q,ce,ge,ke,re,ve,_e,oe,ye,Te,Oe;$.visible&&(w.enabled||$._hasPointLabels)&&(V.forEach(function(Le){Le.dataLabel&&Le.visible&&Le.dataLabel.shortened&&(Le.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Le.dataLabel.shortened=!1)}),I.prototype.drawDataLabels.apply($),V.forEach(function(Le){Le.dataLabel&&(Le.visible?(le[Le.half].push(Le),Le.dataLabel._pos=null,!L(w.style.width)&&!L(Le.options.dataLabels&&Le.options.dataLabels.style&&Le.options.dataLabels.style.width)&&Le.dataLabel.getBBox().width>k&&(Le.dataLabel.css({width:Math.round(.7*k)+"px"}),Le.dataLabel.shortened=!0)):(Le.dataLabel=Le.dataLabel.destroy(),Le.dataLabels&&Le.dataLabels.length===1&&delete Le.dataLabels))}),le.forEach((Le,Ue)=>{const nt=Le.length,Qe=[];let ut,Me=0;if(nt){if($.sortByAngle(Le,Ue-.5),0<$.maxLabelDistance){var Re=Math.max(0,K-Y-$.maxLabelDistance);ut=Math.min(K+Y+$.maxLabelDistance,j.plotHeight),Le.forEach(function(Ne){0<Ne.labelDistance&&Ne.dataLabel&&(Ne.top=Math.max(0,K-Y-Ne.labelDistance),Ne.bottom=Math.min(K+Y+Ne.labelDistance,j.plotHeight),Me=Ne.dataLabel.getBBox().height||21,Ne.distributeBox={target:Ne.labelPosition.natural.y-Ne.top+Me/2,size:Me,rank:Ne.y},Qe.push(Ne.distributeBox))}),Re=ut+Me-Re,J(Qe,Re,Re/5)}for(Te=0;Te<nt;Te++){if(F=Le[Te],re=F.labelPosition,ge=F.dataLabel,ye=F.visible===!1?"hidden":"inherit",oe=Re=re.natural.y,Qe&&L(F.distributeBox)&&(typeof F.distributeBox.pos>"u"?ye="hidden":(ve=F.distributeBox.size,oe=pe.radialDistributionY(F))),delete F.positionIndex,w.justify)_e=pe.justify(F,Y,q);else switch(w.alignTo){case"connectors":_e=pe.alignToConnectors(Le,Ue,m,x);break;case"plotEdges":_e=pe.alignToPlotEdges(ge,Ue,m,x);break;default:_e=pe.radialDistributionX($,F,oe,Re)}ge._attr={visibility:ye,align:re.alignment},Oe=F.options.dataLabels||{},ge._pos={x:_e+G(Oe.x,w.x)+({left:D,right:-D}[re.alignment]||0),y:oe+G(Oe.y,w.y)-ge.getBBox().height/2},re&&(re.computed.x=_e,re.computed.y=oe),G(w.crop,!0)&&(ke=ge.getBBox().width,Re=null,_e-ke<D&&Ue===1?(Re=Math.round(ke-_e+D),he[3]=Math.max(Re,he[3])):_e+ke>m-D&&Ue===0&&(Re=Math.round(_e+ke-m+D),he[1]=Math.max(Re,he[1])),0>oe-ve/2?he[0]=Math.max(Math.round(-oe+ve/2),he[0]):oe+ve/2>g&&(he[2]=Math.max(Math.round(oe+ve/2-g),he[2])),ge.sideOverflow=Re)}}}),z(he)===0||this.verifyDataLabelOverflow(he))&&(this.placeDataLabels(),this.points.forEach(function(Le){if(Oe=O(w,Le.options.dataLabels),Q=G(Oe.connectorWidth,1)){let Ue;ce=Le.connector,(ge=Le.dataLabel)&&ge._pos&&Le.visible&&0<Le.labelDistance?(ye=ge._attr.visibility,(Ue=!ce)&&(Le.connector=ce=j.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Le.colorIndex+(Le.className?" "+Le.className:"")).add($.dataLabelsGroup),j.styledMode||ce.attr({"stroke-width":Q,stroke:Oe.connectorColor||Le.color||"#666666"})),ce[Ue?"attr":"animate"]({d:Le.getConnectorPath()}),ce.attr("visibility",ye)):ce&&(Le.connector=ce.destroy())}}))}function U(){this.points.forEach(function($){let V=$.dataLabel,j;V&&$.visible&&((j=V._pos)?(V.sideOverflow&&(V._attr.width=Math.max(V.getBBox().width-V.sideOverflow,0),V.css({width:V._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),V.shortened=!0),V.attr(V._attr),V[V.moved?"animate":"attr"](j),V.moved=!0):V&&V.attr({y:-9999})),delete $.distributeBox},this)}function E($){let V=this.center,j=this.options,w=j.center,D=j.minSize||80,m,g=j.size!==null;return g||(w[0]!==null?m=Math.max(V[2]-Math.max($[1],$[3]),D):(m=Math.max(V[2]-$[1]-$[3],D),V[0]+=($[3]-$[1])/2),w[1]!==null?m=Z(m,D,V[2]-Math.max($[0],$[2])):(m=Z(m,D,V[2]-$[0]-$[2]),V[1]+=($[0]-$[2])/2),m<V[2]?(V[2]=m,V[3]=Math.min(j.thickness?Math.max(0,m-2*j.thickness):Math.max(0,M(j.innerSize||0,m)),m),this.translate(V),this.drawDataLabels&&this.drawDataLabels()):g=!0),g}const ie=[],te={radialDistributionY:function($){return $.top+$.distributeBox.pos},radialDistributionX:function($,V,j,w){return $.getX(j<V.top+2||j>V.bottom-2?w:j,V.half,V)},justify:function($,V,j){return j[0]+($.half?-1:1)*(V+$.labelDistance)},alignToPlotEdges:function($,V,j,w){return $=$.getBBox().width,V?$+w:j-$-w},alignToConnectors:function($,V,j,w){let D=0,m;return $.forEach(function(g){m=g.dataLabel.getBBox().width,m>D&&(D=m)}),V?D+w:j-D-w}};P.compose=function($){o.compose(I),b.pushUnique(ie,$)&&($=$.prototype,$.dataLabelPositioners=te,$.alignDataLabel=R,$.drawDataLabels=H,$.placeDataLabels=U,$.verifyDataLabelOverflow=E)}}(S||(S={})),S}),n(r,"Extensions/OverlappingDataLabels.js",[r["Core/Chart/Chart.js"],r["Core/Utilities.js"]],function(o,d){function h(Z,L){let O,G=!1;return Z&&(O=Z.newOpacity,Z.oldOpacity!==O&&(Z.alignAttr&&Z.placed?(Z[O?"removeClass":"addClass"]("highcharts-data-label-hidden"),G=!0,Z.alignAttr.opacity=O,Z[Z.isOld?"animate":"attr"](Z.alignAttr,null,function(){L.styledMode||Z.css({pointerEvents:O?"auto":"none"})}),b(L,"afterHideOverlappingLabel")):Z.attr({opacity:O})),Z.isOld=!0),G}const{addEvent:s,fireEvent:b,isArray:R,isNumber:J,objectEach:I,pick:z}=d;s(o,"render",function(){let Z=this,L=[];(this.labelCollectors||[]).forEach(function(O){L=L.concat(O())}),(this.yAxis||[]).forEach(function(O){O.stacking&&O.options.stackLabels&&!O.options.stackLabels.allowOverlap&&I(O.stacking.stacks,function(G){I(G,function(M){M.label&&L.push(M.label)})})}),(this.series||[]).forEach(function(O){var G=O.options.dataLabels;O.visible&&(G.enabled!==!1||O._hasPointLabels)&&(G=M=>M.forEach(S=>{S.visible&&(R(S.dataLabels)?S.dataLabels:S.dataLabel?[S.dataLabel]:[]).forEach(function(P){const H=P.options;P.labelrank=z(H.labelrank,S.labelrank,S.shapeArgs&&S.shapeArgs.height),H.allowOverlap?(P.oldOpacity=P.opacity,P.newOpacity=1,h(P,Z)):L.push(P)})}),G(O.nodes||[]),G(O.points))}),this.hideOverlappingLabels(L)}),o.prototype.hideOverlappingLabels=function(Z){let L=this,O=Z.length,G=L.renderer;var M;let S,P,H,U,E=!1;var ie=function(te){let $,V;var j;let w=te.box?0:te.padding||0,D=j=0,m,g;if(te&&(!te.alignAttr||te.placed))return $=te.alignAttr||{x:te.attr("x"),y:te.attr("y")},V=te.parentGroup,te.width||(j=te.getBBox(),te.width=j.width,te.height=j.height,j=G.fontMetrics(te.element).h),m=te.width-2*w,(g={left:"0",center:"0.5",right:"1"}[te.alignValue])?D=+g*m:J(te.x)&&Math.round(te.x)!==te.translateX&&(D=te.x-te.translateX),{x:$.x+(V.translateX||0)+w-(D||0),y:$.y+(V.translateY||0)+w-j,width:te.width-2*w,height:te.height-2*w}};for(S=0;S<O;S++)(M=Z[S])&&(M.oldOpacity=M.opacity,M.newOpacity=1,M.absoluteBox=ie(M));for(Z.sort(function(te,$){return($.labelrank||0)-(te.labelrank||0)}),S=0;S<O;S++)for(H=(ie=Z[S])&&ie.absoluteBox,M=S+1;M<O;++M)U=(P=Z[M])&&P.absoluteBox,!H||!U||ie===P||ie.newOpacity===0||P.newOpacity===0||ie.visibility==="hidden"||P.visibility==="hidden"||U.x>=H.x+H.width||U.x+U.width<=H.x||U.y>=H.y+H.height||U.y+U.height<=H.y||((ie.labelrank<P.labelrank?ie:P).newOpacity=0);Z.forEach(function(te){h(te,L)&&(E=!0)}),E&&b(L,"afterHideAllOverlappingLabels")}}),n(r,"Extensions/BorderRadius.js",[r["Core/Defaults.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Utilities.js"]],function(o,d,h,s,b,R){const{defaultOptions:J}=o;({seriesTypes:o}=h);const{addEvent:I,extend:z,isObject:Z,merge:L,relativeLength:O}=R,G={radius:0,scope:"stack",where:void 0},M=(S,P)=>(Z(S)||(S={radius:S||0}),L(G,P,S));if(s.symbolCustomAttribs.indexOf("borderRadius")===-1){s.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const S=b.prototype.symbols.arc;b.prototype.symbols.arc=function(H,U,E,ie,te={}){H=S(H,U,E,ie,te);const{innerR:$=0,r:V=E,start:j=0,end:w=0}=te;if(te.open||!te.borderRadius)return H;for(E=w-j,U=Math.sin(E/2),te=Math.max(Math.min(O(te.borderRadius||0,V-$),(V-$)/2,V*U/(1+U)),0),E=Math.min(te,E/Math.PI*2*$),U=H.length-1;U--;){let Y,K,le;ie=H;var D=U,m=1<U?E:te,g=ie[D],x=ie[D+1];if(x[0]==="Z"&&(x=ie[0]),g[0]!=="M"&&g[0]!=="L"||x[0]!=="A"?g[0]!=="A"||x[0]!=="M"&&x[0]!=="L"||(le=x,K=g):(le=g,K=x,Y=!0),le&&K&&K.params){g=K[1];var k=K[5];x=K.params;const{start:he,end:pe,cx:F,cy:Q}=x;var q=k?g-m:g+m;const ce=q?Math.asin(m/q):0;k=k?ce:-ce,q*=Math.cos(ce),Y?(x.start=he+k,le[1]=F+q*Math.cos(he),le[2]=Q+q*Math.sin(he),ie.splice(D+1,0,["A",m,m,0,0,1,F+g*Math.cos(x.start),Q+g*Math.sin(x.start)])):(x.end=pe-k,K[6]=F+g*Math.cos(x.end),K[7]=Q+g*Math.sin(x.end),ie.splice(D+1,0,["A",m,m,0,0,1,F+q*Math.cos(pe),Q+q*Math.sin(pe)])),K[4]=Math.abs(x.end-x.start)<Math.PI?0:1}}return H};const P=b.prototype.symbols.roundedRect;b.prototype.symbols.roundedRect=function(H,U,E,ie,te={}){const $=P(H,U,E,ie,te),{r:V=0,brBoxHeight:j=ie,brBoxY:w=U}=te;var D=U-w,m=w+j-(U+ie);te=-.1<D-V?0:V;const g=-.1<m-V?0:V;var x=Math.max(te&&D,0);const k=Math.max(g&&m,0);m=[H+te,U],D=[H+E-te,U];const q=[H+E,U+te],Y=[H+E,U+ie-g],K=[H+E-g,U+ie],le=[H+g,U+ie],he=[H,U+ie-g],pe=[H,U+te];if(x){const F=Math.sqrt(Math.pow(te,2)-Math.pow(te-x,2));m[0]-=F,D[0]+=F,q[1]=pe[1]=U+te-x}return ie<te-x&&(x=Math.sqrt(Math.pow(te,2)-Math.pow(te-x-ie,2)),q[0]=Y[0]=H+E-te+x,K[0]=Math.min(q[0],K[0]),le[0]=Math.max(Y[0],le[0]),he[0]=pe[0]=H+te-x,q[1]=pe[1]=U+ie),k&&(x=Math.sqrt(Math.pow(g,2)-Math.pow(g-k,2)),K[0]+=x,le[0]-=x,Y[1]=he[1]=U+ie-g+k),ie<g-k&&(ie=Math.sqrt(Math.pow(g,2)-Math.pow(g-k-ie,2)),q[0]=Y[0]=H+E-g+ie,D[0]=Math.min(q[0],D[0]),m[0]=Math.max(Y[0],m[0]),he[0]=pe[0]=H+g-ie,Y[1]=he[1]=U),$.length=0,$.push(["M",...m],["L",...D],["A",te,te,0,0,1,...q],["L",...Y],["A",g,g,0,0,1,...K],["L",...le],["A",g,g,0,0,1,...he],["L",...pe],["A",te,te,0,0,1,...m],["Z"]),$},I(o.pie,"afterTranslate",function(){const H=M(this.options.borderRadius);for(const U of this.points){const E=U.shapeArgs;E&&(E.borderRadius=O(H.radius,(E.r||0)-(E.innerR||0)))}}),I(d,"afterColumnTranslate",function(){var H,U;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:$,yAxis:V}=this,j=$.stacking==="percent";var E=(U=(H=J.plotOptions)===null||H===void 0?void 0:H[this.type])===null||U===void 0?void 0:U.borderRadius;H=M($.borderRadius,Z(E)?E:{}),U=V.options.reversed;for(const w of this.points)if({shapeArgs:E}=w,w.shapeType==="roundedRect"&&E){const{width:D=0,height:m=0,y:g=0}=E;var ie=g,te=m;H.scope==="stack"&&w.stackTotal&&(ie=V.translate(j?100:w.stackTotal,!1,!0,!1,!0),te=V.translate($.threshold||0,!1,!0,!1,!0),te=this.crispCol(0,Math.min(ie,te),0,Math.abs(ie-te)),ie=te.y,te=te.height);const x=(w.negative?-1:1)*(U?-1:1)===-1;let k=H.where;!k&&this.is("waterfall")&&Math.abs((w.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(k="all"),k||(k="end");const q=Math.min(O(H.radius,D),D/2,k==="all"?m/2:1/0)||0;k==="end"&&(x&&(ie-=q),te+=q),z(E,{brBoxHeight:te,brBoxY:ie,r:q})}}},{order:9})}return d={optionsToObject:M},d}),n(r,"Core/Responsive.js",[r["Core/Utilities.js"]],function(o){const{extend:d,find:h,isArray:s,isObject:b,merge:R,objectEach:J,pick:I,splat:z,uniqueKey:Z}=o;var L;return function(O){function G(H){function U(te,$,V,j){let w;J(te,function(D,m){if(!j&&-1<E.collectionsWithUpdate.indexOf(m)&&$[m])for(D=z(D),V[m]=[],w=0;w<Math.max(D.length,$[m].length);w++)$[m][w]&&(D[w]===void 0?V[m][w]=$[m][w]:(V[m][w]={},U(D[w],$[m][w],V[m][w],j+1)));else b(D)?(V[m]=s(D)?[]:{},U(D,$[m]||{},V[m],j+1)):V[m]=typeof $[m]>"u"?null:$[m]})}const E=this,ie={};return U(H,this.options,ie,0),ie}function M(H,U){const E=H.condition;(E.callback||function(){return this.chartWidth<=I(E.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=I(E.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=I(E.minWidth,0)&&this.chartHeight>=I(E.minHeight,0)}).call(this)&&U.push(H._id)}function S(H,U){const E=this.options.responsive;var ie=this.currentResponsive;let te=[];!U&&E&&E.rules&&E.rules.forEach($=>{typeof $._id>"u"&&($._id=Z()),this.matchResponsiveRule($,te)},this),U=R(...te.map($=>h((E||{}).rules||[],V=>V._id===$)).map($=>$&&$.chartOptions)),U.isResponsiveOptions=!0,te=te.toString()||void 0,te!==(ie&&ie.ruleIds)&&(ie&&this.update(ie.undoOptions,H,!0),te?(ie=this.currentOptions(U),ie.isResponsiveOptions=!0,this.currentResponsive={ruleIds:te,mergedOptions:U,undoOptions:ie},this.update(U,H,!0)):this.currentResponsive=void 0)}const P=[];O.compose=function(H){return o.pushUnique(P,H)&&d(H.prototype,{currentOptions:G,matchResponsiveRule:M,setResponsive:S}),H}}(L||(L={})),L}),n(r,"masters/highcharts.src.js",[r["Core/Globals.js"],r["Core/Utilities.js"],r["Core/Defaults.js"],r["Core/Animation/Fx.js"],r["Core/Animation/AnimationUtilities.js"],r["Core/Renderer/HTML/AST.js"],r["Core/FormatUtilities.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Renderer/HTML/HTMLElement.js"],r["Core/Renderer/HTML/HTMLRenderer.js"],r["Core/Axis/Axis.js"],r["Core/Axis/DateTimeAxis.js"],r["Core/Axis/LogarithmicAxis.js"],r["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],r["Core/Axis/Tick.js"],r["Core/Tooltip.js"],r["Core/Series/Point.js"],r["Core/Pointer.js"],r["Core/Legend/Legend.js"],r["Core/Chart/Chart.js"],r["Core/Axis/Stacking/StackingAxis.js"],r["Core/Axis/Stacking/StackItem.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Series/Column/ColumnSeries.js"],r["Series/Column/ColumnDataLabel.js"],r["Series/Pie/PieSeries.js"],r["Series/Pie/PieDataLabel.js"],r["Core/Series/DataLabel.js"],r["Core/Responsive.js"],r["Core/Color/Color.js"],r["Core/Time.js"]],function(o,d,h,s,b,R,J,I,z,Z,L,O,G,M,S,P,H,U,E,ie,te,$,V,j,w,D,m,g,x,k,q,Y,K,le){return o.animate=b.animate,o.animObject=b.animObject,o.getDeferredAnimation=b.getDeferredAnimation,o.setAnimation=b.setAnimation,o.stop=b.stop,o.timers=s.timers,o.AST=R,o.Axis=G,o.Chart=$,o.chart=$.chart,o.Fx=s,o.Legend=te,o.PlotLineOrBand=P,o.Point=E,o.Pointer=ie,o.Series=w,o.StackItem=j,o.SVGElement=z,o.SVGRenderer=Z,o.Tick=H,o.Time=le,o.Tooltip=U,o.Color=K,o.color=K.parse,O.compose(Z),L.compose(z),ie.compose($),te.compose($),o.defaultOptions=h.defaultOptions,o.getOptions=h.getOptions,o.time=h.defaultTime,o.setOptions=h.setOptions,o.dateFormat=J.dateFormat,o.format=J.format,o.numberFormat=J.numberFormat,o.addEvent=d.addEvent,o.arrayMax=d.arrayMax,o.arrayMin=d.arrayMin,o.attr=d.attr,o.clearTimeout=d.clearTimeout,o.correctFloat=d.correctFloat,o.createElement=d.createElement,o.css=d.css,o.defined=d.defined,o.destroyObjectProperties=d.destroyObjectProperties,o.discardElement=d.discardElement,o.distribute=I.distribute,o.erase=d.erase,o.error=d.error,o.extend=d.extend,o.extendClass=d.extendClass,o.find=d.find,o.fireEvent=d.fireEvent,o.getMagnitude=d.getMagnitude,o.getStyle=d.getStyle,o.inArray=d.inArray,o.isArray=d.isArray,o.isClass=d.isClass,o.isDOMElement=d.isDOMElement,o.isFunction=d.isFunction,o.isNumber=d.isNumber,o.isObject=d.isObject,o.isString=d.isString,o.keys=d.keys,o.merge=d.merge,o.normalizeTickInterval=d.normalizeTickInterval,o.objectEach=d.objectEach,o.offset=d.offset,o.pad=d.pad,o.pick=d.pick,o.pInt=d.pInt,o.relativeLength=d.relativeLength,o.removeEvent=d.removeEvent,o.seriesType=D.seriesType,o.splat=d.splat,o.stableSort=d.stableSort,o.syncTimeout=d.syncTimeout,o.timeUnits=d.timeUnits,o.uniqueKey=d.uniqueKey,o.useSerialIds=d.useSerialIds,o.wrap=d.wrap,g.compose(m),q.compose(w),M.compose(G),S.compose(G),k.compose(x),P.compose(G),Y.compose($),V.compose(G,$,w),U.compose(ie),o}),r["masters/highcharts.src.js"]._modules=r,r["masters/highcharts.src.js"]})}(G3)),G3.exports}const jX=pM(P9);(function(e,t){(function(n,r){e.exports=r(L6(),jX)})(window,function(n,r){return h={},o.m=d=[function(s,b){s.exports=n},function(s,b){s.exports=r},function(s,J,R){R.r(J),R.d(J,"Chart",function(){return H}),R.d(J,"default",function(){return U});var J=R(0),I=R.n(J);function z(E,ie){return function te($,V,j){function w(D,m){!I.a.isObject(D,!j)||I.a.isClass(D)||I.a.isDOMElement(D)?$[m]=V[m]:$[m]=te($[m]||I.a.isArray(D)?[]:{},D,j)}return I.a.isArray(V)?V.forEach(w):I.a.objectEach(V,w),$}({},E,ie)}var Z=R(1);function L(E){return function(ie){if(Array.isArray(ie))return O(ie)}(E)||function(ie){if(typeof Symbol<"u"&&ie[Symbol.iterator]!=null||ie["@@iterator"]!=null)return Array.from(ie)}(E)||function(ie,te){if(ie){if(typeof ie=="string")return O(ie,te);var $=Object.prototype.toString.call(ie).slice(8,-1);return($=$==="Object"&&ie.constructor?ie.constructor.name:$)==="Map"||$==="Set"?Array.from(ie):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?O(ie,te):void 0}}(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function O(E,ie){(ie==null||ie>E.length)&&(ie=E.length);for(var te=0,$=new Array(ie);te<ie;te++)$[te]=E[te];return $}function G(E,ie){var te,$=Object.keys(E);return Object.getOwnPropertySymbols&&(te=Object.getOwnPropertySymbols(E),ie&&(te=te.filter(function(V){return Object.getOwnPropertyDescriptor(E,V).enumerable})),$.push.apply($,te)),$}function M(E){for(var ie=1;ie<arguments.length;ie++){var te=arguments[ie]!=null?arguments[ie]:{};ie%2?G(Object(te),!0).forEach(function($){var V,j;V=E,$=te[j=$],j in V?Object.defineProperty(V,j,{value:$,enumerable:!0,configurable:!0,writable:!0}):V[j]=$}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(te)):G(Object(te)).forEach(function($){Object.defineProperty(E,$,Object.getOwnPropertyDescriptor(te,$))})}return E}function S(){this.chart&&this.chart.destroy()}var P=function(E,ie){return ie=ie.split(".")[0]<3?{render:function(te){return te("div",{ref:"chart"})},beforeDestroy:S}:{render:function(){return Object(Z.h)("div",{ref:"chart"})},beforeUnmount:S},M({template:'<div ref="chart"></div>',props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}},watch:{options:{handler:function(te){var $;($=this.chart).update.apply($,[z(te,this.deepCopyOnUpdate)].concat(L(this.updateArgs)))},deep:!0}},mounted:function(){var te=this.highcharts||E;this.options&&te[this.constructorType]?this.chart=te[this.constructorType](this.$refs.chart,z(this.options,!0),this.callback||null):this.options?console.warn("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}},ie)},H=P(I.a,Z.version||R.n(Z).a.version);function U(E){var ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};E.component(ie.tagName||"highcharts",P(ie.highcharts||I.a,E.version))}}],o.c=h,o.d=function(s,b,R){o.o(s,b)||Object.defineProperty(s,b,{enumerable:!0,get:R})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,b){if(1&b&&(s=o(s)),8&b||4&b&&typeof s=="object"&&s&&s.__esModule)return s;var R=Object.create(null);if(o.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:s}),2&b&&typeof s!="string")for(var J in s)o.d(R,J,(function(I){return s[I]}).bind(null,J));return R},o.n=function(s){var b=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(b,"a",b),b},o.o=function(s,b){return Object.prototype.hasOwnProperty.call(s,b)},o.p="",o(o.s=2);function o(s){if(h[s])return h[s].exports;var b=h[s]={i:s,l:!1,exports:{}};return d[s].call(b.exports,b,b.exports,o),b.l=!0,b.exports}var d,h})})(I6);var nm=I6.exports,UX=L6();const hd=uh(UX);var O6={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function n(r,o,d,h){r.hasOwnProperty(o)||(r[o]=h.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:r[o]}})))}t=t?t._modules:{},n(t,"Extensions/Pane.js",[t["Core/Chart/Chart.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){function b(M,S,P,H,U){let E=!0;const ie=P[0],te=P[1],$=Math.sqrt(Math.pow(M-ie,2)+Math.pow(S-te,2));return I(H)&&I(U)&&(M=Math.atan2(J(S-te,8),J(M-ie,8)),U!==H&&(E=H>U?M>=H&&M<=Math.PI||M<=U&&M>=-Math.PI:M>=H&&M<=J(U,8))),$<=Math.ceil(P[2]/2)&&E}const{addEvent:R,correctFloat:J,defined:I,extend:z,merge:Z,pick:L,splat:O}=s;r.prototype.collectionsWithUpdate.push("pane");class G{constructor(S,P){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(S,P)}init(S,P){this.chart=P,this.background=[],P.pane.push(this),this.setOptions(S)}setOptions(S){this.options=Z(this.defaultOptions,this.chart.angular?{background:{}}:void 0,S)}render(){var S=this.options;let P=this.options.background;var H=this.chart.renderer;if(this.group||(this.group=H.g("pane-group").attr({zIndex:S.zIndex||0}).add()),this.updateCenter(),P)for(P=O(P),S=Math.max(P.length,this.background.length||0),H=0;H<S;H++)P[H]&&this.axis?this.renderBackground(Z(this.defaultBackgroundOptions,P[H]),H):this.background[H]&&(this.background[H]=this.background[H].destroy(),this.background.splice(H,1))}renderBackground(S,P){let H="animate",U={class:"highcharts-pane "+(S.className||"")};this.chart.styledMode||z(U,{fill:S.backgroundColor,stroke:S.borderColor,"stroke-width":S.borderWidth}),this.background[P]||(this.background[P]=this.chart.renderer.path().add(this.group),H="attr"),this.background[P][H]({d:this.axis.getPlotBandPath(S.from,S.to,S)}).attr(U)}updateCenter(S){this.center=(S||this.axis||{}).center=o.getCenter.call(this)}update(S,P){Z(!0,this.options,S),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(H){H.pane===this&&(H.pane=null,H.update({},P))},this)}}return r.prototype.getHoverPane=function(M){const S=this;let P;return M&&S.pane.forEach(H=>{b(M.chartX-S.plotLeft,M.chartY-S.plotTop,H.center)&&(P=H)}),P},R(r,"afterIsInsidePlot",function(M){this.polar&&(M.options.inverted&&([M.x,M.y]=[M.y,M.x]),M.isInsidePlot=this.pane.some(S=>b(M.x,M.y,S.center,S.axis&&S.axis.normalizedStartAngleRad,S.axis&&S.axis.normalizedEndAngleRad)))}),R(h,"beforeGetHoverData",function(M){const S=this.chart;S.polar?(S.hoverPane=S.getHoverPane(M),M.filter=function(P){return P.visible&&!(!M.shared&&P.directTouch)&&L(P.options.enableMouseTracking,!0)&&(!S.hoverPane||P.xAxis.pane===S.hoverPane)}):S.hoverPane=void 0}),R(h,"afterGetHoverData",function(M){const S=this.chart;M.hoverPoint&&M.hoverPoint.plotX&&M.hoverPoint.plotY&&S.hoverPane&&!b(M.hoverPoint.plotX,M.hoverPoint.plotY,S.hoverPane.center)&&(M.hoverPoint=void 0)}),d.Pane=G,d.Pane}),n(t,"Series/AreaRange/AreaRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o){const{area:{prototype:{pointClass:d,pointClass:{prototype:h}}}}=r.seriesTypes,{defined:s,isNumber:b}=o;class R extends d{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const I=this.state,z=this.series,Z=z.chart.polar;s(this.plotHigh)||(this.plotHigh=z.yAxis.toPixels(this.high,!0)),s(this.plotLow)||(this.plotLow=this.plotY=z.yAxis.toPixels(this.low,!0)),z.stateMarkerGraphic&&(z.lowerStateMarkerGraphic=z.stateMarkerGraphic,z.stateMarkerGraphic=z.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,Z&&b(this.plotHighX)&&(this.plotX=this.plotHighX),h.setState.apply(this,arguments),this.state=I,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],Z&&b(this.plotLowX)&&(this.plotX=this.plotLowX),z.stateMarkerGraphic&&(z.upperStateMarkerGraphic=z.stateMarkerGraphic,z.stateMarkerGraphic=z.lowerStateMarkerGraphic,z.lowerStateMarkerGraphic=void 0),h.setState.apply(this,arguments)}haloPath(){const I=this.series.chart.polar;let z=[];return this.plotY=this.plotLow,I&&b(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(z=h.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,I&&b(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(z=z.concat(h.haloPath.apply(this,arguments))),z}isValid(){return b(this.low)&&b(this.high)}}return R}),n(t,"Series/AreaRange/AreaRangeSeries.js",[t["Series/AreaRange/AreaRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){({noop:o}=o);const{area:s,area:{prototype:b},column:{prototype:R}}=d.seriesTypes,{addEvent:J,defined:I,extend:z,isArray:Z,isNumber:L,pick:O,merge:G}=h;class M extends s{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(P){return[P.low,P.high]}highToXY(P){const H=this.chart,U=this.xAxis.postTranslate(P.rectPlotX||0,this.yAxis.len-(P.plotHigh||0));P.plotHighX=U.x-H.plotLeft,P.plotHigh=U.y-H.plotTop,P.plotLowX=P.plotX}getGraphPath(P){var H=[],U=[];const E=b.getGraphPath;var ie=this.options;const te=this.chart.polar,$=te&&ie.connectEnds!==!1,V=ie.connectNulls;let j,w,D,m=ie.step;for(P=P||this.points,j=P.length;j--;){w=P[j];const g=te?{plotX:w.rectPlotX,plotY:w.yBottom,doCurve:!1}:{plotX:w.plotX,plotY:w.plotY,doCurve:!1};w.isNull||$||V||P[j+1]&&!P[j+1].isNull||U.push(g),D={polarPlotY:w.polarPlotY,rectPlotX:w.rectPlotX,yBottom:w.yBottom,plotX:O(w.plotHighX,w.plotX),plotY:w.plotHigh,isNull:w.isNull},U.push(D),H.push(D),w.isNull||$||V||P[j-1]&&!P[j-1].isNull||U.push(g)}return P=E.call(this,P),m&&(m===!0&&(m="left"),ie.step={left:"right",center:"center",right:"left"}[m]),H=E.call(this,H),U=E.call(this,U),ie.step=m,ie=[].concat(P,H),!this.chart.polar&&U[0]&&U[0][0]==="M"&&(U[0]=["L",U[0][1],U[0][2]]),this.graphPath=ie,this.areaPath=P.concat(U),ie.isArea=!0,ie.xMap=P.xMap,this.areaPath.xMap=P.xMap,ie}drawDataLabels(){const P=this.points,H=P.length,U=[],E=this.options.dataLabels,ie=this.chart.inverted;let te,$,V,j,w;if(E){if(Z(E)?(j=E[0]||{enabled:!1},w=E[1]||{enabled:!1}):(j=z({},E),j.x=E.xHigh,j.y=E.yHigh,w=z({},E),w.x=E.xLow,w.y=E.yLow),j.enabled||this._hasPointLabels){for(te=H;te--;)if($=P[te]){const{plotHigh:D=0,plotLow:m=0}=$;V=j.inside?D<m:D>m,$.y=$.high,$._plotY=$.plotY,$.plotY=D,U[te]=$.dataLabel,$.dataLabel=$.dataLabelUpper,$.below=V,ie?j.align||(j.align=V?"right":"left"):j.verticalAlign||(j.verticalAlign=V?"top":"bottom")}for(this.options.dataLabels=j,b.drawDataLabels&&b.drawDataLabels.apply(this,arguments),te=H;te--;)($=P[te])&&($.dataLabelUpper=$.dataLabel,$.dataLabel=U[te],delete $.dataLabels,$.y=$.low,$.plotY=$._plotY)}if(w.enabled||this._hasPointLabels){for(te=H;te--;)if($=P[te]){const{plotHigh:D=0,plotLow:m=0}=$;V=w.inside?D<m:D>m,$.below=!V,ie?w.align||(w.align=V?"left":"right"):w.verticalAlign||(w.verticalAlign=V?"bottom":"top")}this.options.dataLabels=w,b.drawDataLabels&&b.drawDataLabels.apply(this,arguments)}if(j.enabled)for(te=H;te--;)($=P[te])&&($.dataLabels=[$.dataLabelUpper,$.dataLabel].filter(function(D){return!!D}));this.options.dataLabels=E}}alignDataLabel(){R.alignDataLabel.apply(this,arguments)}drawPoints(){const P=this.points.length;let H,U;for(b.drawPoints.apply(this,arguments),H=0;H<P;)U=this.points[H],U.graphics=U.graphics||[],U.origProps={plotY:U.plotY,plotX:U.plotX,isInside:U.isInside,negative:U.negative,zone:U.zone,y:U.y},(U.graphic||U.graphics[0])&&(U.graphics[0]=U.graphic),U.graphic=U.graphics[1],U.plotY=U.plotHigh,I(U.plotHighX)&&(U.plotX=U.plotHighX),U.y=O(U.high,U.origProps.y),U.negative=U.y<(this.options.threshold||0),this.zones.length&&(U.zone=U.getZone()),this.chart.polar||(U.isInside=U.isTopInside=typeof U.plotY<"u"&&0<=U.plotY&&U.plotY<=this.yAxis.len&&0<=U.plotX&&U.plotX<=this.xAxis.len),H++;for(b.drawPoints.apply(this,arguments),H=0;H<P;)U=this.points[H],U.graphics=U.graphics||[],(U.graphic||U.graphics[1])&&(U.graphics[1]=U.graphic),U.graphic=U.graphics[0],U.origProps&&(z(U,U.origProps),delete U.origProps),H++}}return M.defaultOptions=G(s.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),J(M,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(S=>{const P=S.high,H=S.plotY;S.isNull?S.plotY=void 0:(S.plotLow=H,S.plotHigh=L(P)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(P):P,!1,!0,void 0,!0):void 0,this.dataModify&&(S.yBottom=S.plotHigh))})},{order:0}),J(M,"afterTranslate",function(){this.points.forEach(S=>{if(this.chart.polar)this.highToXY(S),S.plotLow=S.plotY,S.tooltipPos=[((S.plotHighX||0)+(S.plotLowX||0))/2,((S.plotHigh||0)+(S.plotLow||0))/2];else{const P=S.pos(!1,S.plotLow),H=S.pos(!1,S.plotHigh);P&&H&&(P[0]=(P[0]+H[0])/2,P[1]=(P[1]+H[1])/2),S.tooltipPos=P}})},{order:3}),z(M.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:r,pointValKey:"low",setStackedPoints:o}),d.registerSeriesType("arearange",M),M}),n(t,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[t["Series/AreaRange/AreaRangeSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d){const{spline:{prototype:h}}=o.seriesTypes,{merge:s,extend:b}=d;class R extends r{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return R.defaultOptions=s(r.defaultOptions),b(R.prototype,{getPointSpline:h.getPointSpline}),o.registerSeriesType("areasplinerange",R),R}),n(t,"Series/BoxPlot/BoxPlotSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){({noop:o}=o);const{extend:s,merge:b,pick:R}=h;class J extends r{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const z=this.yAxis,Z=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(L){Z.forEach(function(O){L[O]!==null&&(L[O+"Plot"]=z.translate(L[O],0,1,0,1))}),L.plotHigh=L.highPlot})}drawPoints(){let z=this,Z=z.options,L=z.chart,O=L.renderer,G,M,S,P,H,U,E=0,ie,te,$,V,j=z.doQuartiles!==!1,w,D=z.options.whiskerLength;z.points.forEach(function(m){var g=m.graphic;let x=g?"animate":"attr",k=m.shapeArgs,q={},Y={},K={},le={},he=m.color||z.color;typeof m.plotY<"u"&&(ie=Math.round(k.width),te=Math.floor(k.x),$=te+ie,V=Math.round(ie/2),G=Math.floor(j?m.q1Plot:m.lowPlot),M=Math.floor(j?m.q3Plot:m.lowPlot),S=Math.floor(m.highPlot),P=Math.floor(m.lowPlot),g||(m.graphic=g=O.g("point").add(z.group),m.stem=O.path().addClass("highcharts-boxplot-stem").add(g),D&&(m.whiskers=O.path().addClass("highcharts-boxplot-whisker").add(g)),j&&(m.box=O.path(void 0).addClass("highcharts-boxplot-box").add(g)),m.medianShape=O.path(void 0).addClass("highcharts-boxplot-median").add(g)),L.styledMode||(Y.stroke=m.stemColor||Z.stemColor||he,Y["stroke-width"]=R(m.stemWidth,Z.stemWidth,Z.lineWidth),Y.dashstyle=m.stemDashStyle||Z.stemDashStyle||Z.dashStyle,m.stem.attr(Y),D&&(K.stroke=m.whiskerColor||Z.whiskerColor||he,K["stroke-width"]=R(m.whiskerWidth,Z.whiskerWidth,Z.lineWidth),K.dashstyle=m.whiskerDashStyle||Z.whiskerDashStyle||Z.dashStyle,m.whiskers.attr(K)),j&&(q.fill=m.fillColor||Z.fillColor||he,q.stroke=Z.lineColor||he,q["stroke-width"]=Z.lineWidth||0,q.dashstyle=m.boxDashStyle||Z.boxDashStyle||Z.dashStyle,m.box.attr(q)),le.stroke=m.medianColor||Z.medianColor||he,le["stroke-width"]=R(m.medianWidth,Z.medianWidth,Z.lineWidth),le.dashstyle=m.medianDashStyle||Z.medianDashStyle||Z.dashStyle,m.medianShape.attr(le)),U=m.stem.strokeWidth()%2/2,E=te+V+U,g=[["M",E,M],["L",E,S],["M",E,G],["L",E,P]],m.stem[x]({d:g}),j&&(U=m.box.strokeWidth()%2/2,G=Math.floor(G)+U,M=Math.floor(M)+U,te+=U,$+=U,g=[["M",te,M],["L",te,G],["L",$,G],["L",$,M],["L",te,M],["Z"]],m.box[x]({d:g})),D&&(U=m.whiskers.strokeWidth()%2/2,S+=U,P+=U,w=/%$/.test(D)?V*parseFloat(D)/100:D/2,g=[["M",E-w,S],["L",E+w,S],["M",E-w,P],["L",E+w,P]],m.whiskers[x]({d:g})),H=Math.round(m.medianPlot),U=m.medianShape.strokeWidth()%2/2,H+=U,g=[["M",te,H],["L",$,H]],m.medianShape[x]({d:g}))})}toYData(z){return[z.low,z.q1,z.median,z.q3,z.high]}}return J.defaultOptions=b(r.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),s(J.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:o,setStackedPoints:o}),d.registerSeriesType("boxplot",J),J}),n(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),n(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o,d,h){const{parse:s}=r,{noop:b}=d,{arrayMax:R,arrayMin:J,isNumber:I,merge:z,pick:Z,stableSort:L}=h;class O{constructor(M,S){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=b,this.init(M,S)}init(M,S){this.options=M,this.visible=!0,this.chart=S.chart,this.legend=S}addToLegend(M){M.splice(this.options.legendIndex,0,this)}drawLegendSymbol(M){const S=Z(M.options.itemDistance,20),P=this.legendItem||{},H=this.options;var U=H.ranges,E=H.connectorDistance;if(U&&U.length&&I(U[0].value)){L(U,function(te,$){return $.value-te.value}),this.ranges=U,this.setOptions(),this.render(),M=this.getMaxLabelSize();var ie=this.ranges[0].radius;U=2*ie,E=E-ie+M.width,E=0<E?E:0,this.maxLabel=M,this.movementX=H.labels.align==="left"?E:0,P.labelWidth=U+E+S,P.labelHeight=U+M.height/2}else M.options.bubbleLegend.autoRanges=!0}setOptions(){const M=this.ranges,S=this.options,P=this.chart.series[S.seriesIndex],H=this.legend.baseline,U={zIndex:S.zIndex,"stroke-width":S.borderWidth},E={zIndex:S.zIndex,"stroke-width":S.connectorWidth},ie={align:this.legend.options.rtl||S.labels.align==="left"?"right":"left",zIndex:S.zIndex},te=P.options.marker.fillOpacity,$=this.chart.styledMode;M.forEach(function(V,j){$||(U.stroke=Z(V.borderColor,S.borderColor,P.color),U.fill=Z(V.color,S.color,te!==1?s(P.color).setOpacity(te).get("rgba"):P.color),E.stroke=Z(V.connectorColor,S.connectorColor,P.color)),M[j].radius=this.getRangeRadius(V.value),M[j]=z(M[j],{center:M[0].radius-M[j].radius+H}),$||z(!0,M[j],{bubbleAttribs:z(U),connectorAttribs:z(E),labelAttribs:ie})},this)}getRangeRadius(M){const S=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,S.ranges[S.ranges.length-1].value,S.ranges[0].value,S.minSize,S.maxSize,M)}render(){const M=this.legendItem||{},S=this.chart.renderer,P=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),M.symbol=S.g("bubble-legend"),M.label=S.g("bubble-legend-item"),M.symbol.translateX=0,M.symbol.translateY=0,M.symbol.add(M.label),M.label.add(M.group);for(const H of this.ranges)H.value>=P&&this.renderRange(H);this.hideOverlappingLabels()}renderRange(M){var S=this.options;const P=S.labels;var H=this.chart;const U=H.series[S.seriesIndex],E=H.renderer,ie=this.symbols;H=ie.labels;const te=M.center,$=Math.abs(M.radius);var V=S.connectorDistance||0;const j=P.align,w=S.connectorWidth,D=this.ranges[0].radius||0,m=te-$-S.borderWidth/2+w/2,g=E.styledMode;V=this.legend.options.rtl||j==="left"?-V:V,j==="center"&&(V=0,S.connectorDistance=0,M.labelAttribs.align="center"),ie.bubbleItems.push(E.circle(D,te+((m%1?1:.5)-(w%2?0:.5)),$).attr(g?{}:M.bubbleAttribs).addClass((g?"highcharts-color-"+U.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(S.className||"")).add(this.legendItem.symbol)),ie.connectors.push(E.path(E.crispLine([["M",D,m],["L",D+V,m]],S.connectorWidth)).attr(g?{}:M.connectorAttribs).addClass((g?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(S.connectorClassName||"")).add(this.legendItem.symbol)),M=E.text(this.formatLabel(M)).attr(g?{}:M.labelAttribs).css(g?{}:P.style).addClass("highcharts-bubble-legend-labels "+(S.labels.className||"")).add(this.legendItem.symbol),S={x:D+V+S.labels.x,y:m+S.labels.y+.4*M.getBBox().height},M.attr(S),H.push(M),M.placed=!0,M.alignAttr=S}getMaxLabelSize(){let M,S;return this.symbols.labels.forEach(function(P){S=P.getBBox(!0),M=M?S.width>M.width?S:M:S}),M||{}}formatLabel(M){var S=this.options;const P=S.labels.formatter;S=S.labels.format;const{numberFormatter:H}=this.chart;return S?o.format(S,M):P?P.call(M):H(M.value,1)}hideOverlappingLabels(){const M=this.chart,S=this.symbols;!this.options.labels.allowOverlap&&S&&(M.hideOverlappingLabels(S.labels),S.labels.forEach(function(P,H){P.newOpacity?P.newOpacity!==P.oldOpacity&&S.connectors[H].show():S.connectors[H].hide()}))}getRanges(){const M=this.legend.bubbleLegend,S=M.options.ranges;let P,H,U=Number.MAX_VALUE,E=-Number.MAX_VALUE;return M.chart.series.forEach(function(ie){ie.isBubble&&!ie.ignoreSeries&&(H=ie.zData.filter(I),H.length&&(U=Z(ie.options.zMin,Math.min(U,Math.max(J(H),ie.options.displayNegative===!1?ie.options.zThreshold:-Number.MAX_VALUE))),E=Z(ie.options.zMax,Math.max(E,R(H)))))}),P=U===E?[{value:E}]:[{value:U},{value:(U+E)/2},{value:E,autoRanges:!0}],S.length&&S[0].radius&&P.reverse(),P.forEach(function(ie,te){S&&S[te]&&(P[te]=z(S[te],ie))}),P}predictBubbleSizes(){var M=this.chart,S=M.legend.options,P=S.floating;const H=(S=S.layout==="horizontal")?M.legend.lastLineHeight:0,U=M.plotSizeX,E=M.plotSizeY;var ie=M.series[this.options.seriesIndex],te=ie.getPxExtremes();M=Math.ceil(te.minPxSize),te=Math.ceil(te.maxPxSize);const $=Math.min(E,U);return ie=ie.options.maxSize,P||!/%$/.test(ie)?P=te:(ie=parseFloat(ie),P=($+H)*ie/100/(ie/100+1),(S&&E-P>=U||!S&&U-P>=E)&&(P=te)),[M,Math.ceil(P)]}updateRanges(M,S){const P=this.legend.options.bubbleLegend;P.minSize=M,P.maxSize=S,P.ranges=this.getRanges()}correctSizes(){const M=this.legend,S=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(S.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,S.maxPxSize),M.render())}}return O}),n(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],function(r,o,d,h){function s(S,P,H){const U=this.legend;var E=0<=b(this);let ie,te;U&&U.options.enabled&&U.bubbleLegend&&U.options.bubbleLegend.autoRanges&&E?(ie=U.bubbleLegend.options,E=U.bubbleLegend.predictBubbleSizes(),U.bubbleLegend.updateRanges(E[0],E[1]),ie.placed||(U.group.placed=!1,U.allItems.forEach($=>{te=$.legendItem||{},te.group&&(te.group.translateY=null)})),U.render(),this.getMargins(),this.axes.forEach(function($){$.visible&&$.render(),ie.placed||($.setScale(),$.updateNames(),O($.ticks,function(V){V.isNew=!0,V.isNewLabel=!0}))}),ie.placed=!0,this.getMargins(),S.call(this,P,H),U.bubbleLegend.correctSizes(),z(U,R(U))):(S.call(this,P,H),U&&U.options.enabled&&U.bubbleLegend&&(U.render(),z(U,R(U))))}function b(S){S=S.series;let P=0;for(;P<S.length;){if(S[P]&&S[P].isBubble&&S[P].visible&&S[P].zData.length)return P;P++}return-1}function R(S){S=S.allItems;const P=[],H=S.length;let U,E,ie=0;for(E=0;E<H;E++){var te=S[E].legendItem||{};if(U=(S[E+1]||{}).legendItem||{},te.labelHeight&&(S[E].itemHeight=te.labelHeight),S[E]===S[H-1]||te.y!==U.y){for(P.push({height:0}),te=P[P.length-1],ie;ie<=E;ie++)S[ie].itemHeight>te.height&&(te.height=S[ie].itemHeight);te.step=E}}return P}function J(S){const P=this.bubbleLegend,H=this.options,U=H.bubbleLegend,E=b(this.chart);P&&P.ranges&&P.ranges.length&&(U.ranges.length&&(U.autoRanges=!!U.ranges[0].autoRanges),this.destroyItem(P)),0<=E&&H.enabled&&U.enabled&&(U.seriesIndex=E,this.bubbleLegend=new o(U,this),this.bubbleLegend.addToLegend(S.allItems))}function I(S){if(S.defaultPrevented)return!1;var P=this.chart;S=this.visible;const H=this.chart.legend;H&&H.bubbleLegend&&(this.visible=!S,this.ignoreSeries=S,P=0<=b(P),H.bubbleLegend.visible!==P&&(H.update({bubbleLegend:{enabled:P}}),H.bubbleLegend.visible=P),this.visible=S)}function z(S,P){const H=S.options.rtl;let U,E,ie,te,$=0;S.allItems.forEach((V,j)=>{te=V.legendItem||{},te.group&&(U=te.group.translateX||0,E=te.y||0,((ie=V.movementX)||H&&V.ranges)&&(ie=H?U-V.options.maxSize/2:U+ie,te.group.attr({translateX:ie})),j>P[$].step&&$++,te.group.attr({translateY:Math.round(E+P[$].height/2)}),te.y=E+P[$].height/2)})}const{setOptions:Z}=d,{addEvent:L,objectEach:O,wrap:G}=h,M=[];return{compose:function(S,P,H){h.pushUnique(M,S)&&(Z({legend:{bubbleLegend:r}}),G(S.prototype,"drawChartBox",s)),h.pushUnique(M,P)&&L(P,"afterGetAllItems",J),h.pushUnique(M,H)&&L(H,"legendItemClick",I)}}}),n(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d){({seriesTypes:{scatter:{prototype:{pointClass:o}}}}=o),{extend:d}=d;class h extends o{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(b){return r.prototype.haloPath.call(this,b===0?0:(this.marker&&this.marker.radius||0)+b)}}return d(h.prototype,{ttBelow:!1}),h}),n(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,b){function R(){const te=this.len,$=this.chart,V=this.isXAxis,j=V?"xData":"yData",w=this.min,D=this.max-w;let m=0,g=te,x=te/D,k;this.series.forEach(q=>{if(q.bubblePadding&&(q.visible||!$.options.chart.ignoreHiddenSeries)){k=this.allowZoomOutside=!0;const Y=q[j];if(V&&((q.onPoint||q).getRadii(0,0,q),q.onPoint&&(q.radii=q.onPoint.radii)),0<D){let K=Y.length;for(;K--;)if(P(Y[K])&&this.dataMin<=Y[K]&&Y[K]<=this.max){const le=q.radii&&q.radii[K]||0;m=Math.min((Y[K]-w)*x-le,m),g=Math.max((Y[K]-w)*x+le,g)}}}}),k&&0<D&&!this.logarithmic&&(g-=te,x*=(te+Math.max(0,m)-Math.min(g,te))/te,[["min","userMin",m],["max","userMax",g]].forEach(q=>{typeof U(this.options[q[0]],this[q[1]])>"u"&&(this[q[0]]+=q[2]/x)}))}const{parse:J}=d;({noop:d}=h);const{series:I,seriesTypes:{column:{prototype:z},scatter:Z}}=s,{addEvent:L,arrayMax:O,arrayMin:G,clamp:M,extend:S,isNumber:P,merge:H,pick:U}=b,E=[];class ie extends Z{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose($,V,j,w){r.compose(V,j,w),b.pushUnique(E,$)&&($.prototype.beforePadding=R)}animate($){!$&&this.points.length<this.options.animationLimit&&this.points.forEach(function(V){const{graphic:j}=V;j&&j.width&&(this.hasRendered||j.attr({x:V.plotX,y:V.plotY,width:1,height:1}),j.animate(this.markerAttribs(V),this.options.animation))},this)}getRadii(){const $=this.zData,V=this.yData,j=[];let w,D,m,g=this.chart.bubbleZExtremes;const{minPxSize:x,maxPxSize:k}=this.getPxExtremes();if(!g){let q=Number.MAX_VALUE,Y=-Number.MAX_VALUE,K;this.chart.series.forEach(le=>{le.bubblePadding&&(le.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(le=(le.onPoint||le).getZExtremes())&&(q=Math.min(U(q,le.zMin),le.zMin),Y=Math.max(U(Y,le.zMax),le.zMax),K=!0)}),K?(g={zMin:q,zMax:Y},this.chart.bubbleZExtremes=g):g={zMin:0,zMax:0}}for(D=0,w=$.length;D<w;D++)m=$[D],j.push(this.getRadius(g.zMin,g.zMax,x,k,m,V&&V[D]));this.radii=j}getRadius($,V,j,w,D,m){const g=this.options,x=g.sizeBy!=="width",k=g.zThreshold;let q=V-$,Y=.5;if(m===null||D===null)return null;if(P(D)){if(g.sizeByAbsoluteValue&&(D=Math.abs(D-k),q=Math.max(V-k,Math.abs($-k)),$=0),D<$)return j/2-1;0<q&&(Y=(D-$)/q)}return x&&0<=Y&&(Y=Math.sqrt(Y)),Math.ceil(j+Y*(w-j))/2}hasData(){return!!this.processedXData.length}pointAttribs($,V){const j=this.options.marker.fillOpacity;return $=I.prototype.pointAttribs.call(this,$,V),j!==1&&($.fill=J($.fill).setOpacity(j).get("rgba")),$}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:$,radii:V}=this,{minPxSize:j}=this.getPxExtremes();let w=$.length;for(;w--;){const D=$[w],m=V?V[w]:0;P(m)&&m>=j/2?(D.marker=S(D.marker,{radius:m,width:2*m,height:2*m}),D.dlBox={x:D.plotX-m,y:D.plotY-m,width:2*m,height:2*m}):(D.shapeArgs=D.plotY=D.dlBox=void 0,D.isInside=!1)}}getPxExtremes(){const $=Math.min(this.chart.plotWidth,this.chart.plotHeight);var V=w=>{let D;return typeof w=="string"&&(D=/%$/.test(w),w=parseInt(w,10)),D?$*w/100:w};const j=V(U(this.options.minSize,8));return V=Math.max(V(U(this.options.maxSize,"20%")),j),{minPxSize:j,maxPxSize:V}}getZExtremes(){var $=this.options;const V=(this.zData||[]).filter(P);if(V.length){const j=U($.zMin,M(G(V),$.displayNegative===!1?$.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if($=U($.zMax,O(V)),P(j)&&P($))return{zMin:j,zMax:$}}}}return ie.defaultOptions=H(Z.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:te}=this.series.chart,{z:$}=this.point;return P($)?te($,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),S(ie.prototype,{alignDataLabel:z.alignDataLabel,applyZones:d,bubblePadding:!0,buildKDTree:d,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:o,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),L(ie,"updatedData",te=>{delete te.target.chart.bubbleZExtremes}),L(ie,"remove",te=>{delete te.target.chart.bubbleZExtremes}),s.registerSeriesType("bubble",ie),ie}),n(t,"Series/ColumnRange/ColumnRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o){const{seriesTypes:{column:{prototype:{pointClass:{prototype:d}}},arearange:{prototype:{pointClass:h}}}}=r,{extend:s,isNumber:b}=o;class R extends h{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return b(this.low)}}return s(R.prototype,{setState:d.setState}),R}),n(t,"Series/ColumnRange/ColumnRangeSeries.js",[t["Series/ColumnRange/ColumnRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){({noop:o}=o);const{seriesTypes:{arearange:s,column:b,column:{prototype:R}}}=d,{addEvent:J,clamp:I,extend:z,isNumber:Z,merge:L,pick:O}=h;class G extends s{setOptions(){return L(!0,arguments[0],{stacking:void 0}),s.prototype.setOptions.apply(this,arguments)}translate(){return R.translate.apply(this)}pointAttribs(){return R.pointAttribs.apply(this,arguments)}translate3dPoints(){return R.translate3dPoints.apply(this,arguments)}translate3dShapes(){return R.translate3dShapes.apply(this,arguments)}}return G.defaultOptions=L(b.defaultOptions,s.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),J(G,"afterColumnTranslate",function(){const M=this.yAxis,S=this.xAxis,P=S.startAngleRad,H=this.chart,U=this.xAxis.isRadial,E=Math.max(H.chartWidth,H.chartHeight)+999;let ie,te,$,V;this.points.forEach(j=>{const w=j.shapeArgs||{},D=this.options.minPointLength,m=j.plotY,g=M.translate(j.high,0,1,0,1);if(Z(g)&&Z(m))if(j.plotHigh=I(g,-E,E),j.plotLow=I(m,-E,E),V=j.plotHigh,ie=O(j.rectPlotY,j.plotY)-j.plotHigh,Math.abs(ie)<D?(te=D-ie,ie+=te,V-=te/2):0>ie&&(ie*=-1,V-=ie),U&&this.polar)$=j.barX+P,j.shapeType="arc",j.shapeArgs=this.polar.arc(V+ie,V,$,$+j.pointWidth);else{w.height=ie,w.y=V;const{x=0,width:k=0}=w;j.shapeArgs=L(j.shapeArgs,this.crispCol(x,V,k,ie)),j.tooltipPos=H.inverted?[M.len+M.pos-H.plotLeft-V-ie/2,S.len+S.pos-H.plotTop-x-k/2,ie]:[S.left-H.plotLeft+x+k/2,M.pos-H.plotTop+V+ie/2,ie]}})},{order:5}),z(G.prototype,{directTouch:!0,pointClass:r,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:R.adjustForMissingColumns,animate:R.animate,crispCol:R.crispCol,drawGraph:o,drawPoints:R.drawPoints,getSymbol:o,drawTracker:R.drawTracker,getColumnMetrics:R.getColumnMetrics}),d.registerSeriesType("columnrange",G),G}),n(t,"Series/ColumnPyramid/ColumnPyramidSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d){const{prototype:h}=r,{clamp:s,merge:b,pick:R}=d;class J extends r{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let z=this,Z=z.chart,L=z.options;var O=z.dense=2>z.closestPointRange*z.xAxis.transA;O=z.borderWidth=R(L.borderWidth,O?0:1);let G=z.yAxis,M=L.threshold,S=z.translatedThreshold=G.getThreshold(M),P=R(L.minPointLength,5),H=z.getColumnMetrics(),U=H.width,E=z.barW=Math.max(U,1+2*O),ie=z.pointXOffset=H.offset;Z.inverted&&(S-=.5),L.pointPadding&&(E=Math.ceil(E)),h.translate.apply(z),z.points.forEach(function(te){var $=R(te.yBottom,S),V=999+Math.abs($),j=s(te.plotY,-V,G.len+V);V=te.plotX+ie;let w=E/2,D=Math.min(j,$);$=Math.max(j,$)-D;var m;let g,x;te.barX=V,te.pointWidth=U,te.tooltipPos=Z.inverted?[G.len+G.pos-Z.plotLeft-j,z.xAxis.len-V-w,$]:[V+w,j+G.pos-Z.plotTop,$],j=M+(te.total||te.y),L.stacking==="percent"&&(j=M+(0>te.y)?-100:100),j=G.toPixels(j,!0);var k=(m=Z.plotHeight-j-(Z.plotHeight-S))?w*(D-j)/m:0,q=m?w*(D+$-j)/m:0;m=V-k+w,k=V+k+w;var Y=V+q+w;q=V-q+w,g=D-P,x=D+$,0>te.y&&(g=D,x=D+$+P),Z.inverted&&(Y=G.width-D,m=j-(G.width-S),k=w*(j-Y)/m,q=w*(j-(Y-$))/m,m=V+w+k,k=m-2*k,Y=V-q+w,q=V+q+w,g=D,x=D+$-P,0>te.y&&(x=D+$+P)),te.shapeType="path",te.shapeArgs={x:m,y:g,width:k-m,height:$,d:[["M",m,g],["L",k,g],["L",Y,x],["L",q,x],["Z"]]}})}}return J.defaultOptions=b(r.defaultOptions,{}),o.registerSeriesType("columnpyramid",J),J}),n(t,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),n(t,"Series/ErrorBar/ErrorBarSeries.js",[t["Series/BoxPlot/BoxPlotSeries.js"],t["Series/Column/ColumnSeries.js"],t["Series/ErrorBar/ErrorBarSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){const{arearange:b}=h.seriesTypes,{addEvent:R,merge:J,extend:I}=s;class z extends r{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||o.prototype.getColumnMetrics.call(this)}drawDataLabels(){const L=this.pointValKey;b&&(b.prototype.drawDataLabels.call(this),this.data.forEach(function(O){O.y=O[L]}))}toYData(L){return[L.low,L.high]}}return z.defaultOptions=J(r.defaultOptions,d),R(z,"afterTranslate",function(){this.points.forEach(Z=>{Z.plotLow=Z.plotY})},{order:0}),I(z.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),h.registerSeriesType("errorbar",z),z}),n(t,"Series/Gauge/GaugePoint.js",[t["Core/Series/SeriesRegistry.js"]],function(r){({series:{prototype:{pointClass:r}}}=r);class o extends r{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(h){this.state=h}}return o}),n(t,"Series/Gauge/GaugeSeries.js",[t["Series/Gauge/GaugePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){({noop:o}=o);const{series:s,seriesTypes:{column:b}}=d,{clamp:R,isNumber:J,extend:I,merge:z,pick:Z,pInt:L,defined:O}=h;class G extends s{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const S=this.yAxis,P=this.options,H=S.center;this.generatePoints(),this.points.forEach(U=>{const E=z(P.dial,U.dial),ie=L(E.radius)*H[2]/200,te=L(E.baseLength)*ie/100,$=L(E.rearLength)*ie/100,V=E.baseWidth,j=E.topWidth;let w=P.overshoot,D=S.startAngleRad+S.translate(U.y,void 0,void 0,void 0,!0);(J(w)||P.wrap===!1)&&(w=J(w)?w/180*Math.PI:0,D=R(D,S.startAngleRad-w,S.endAngleRad+w)),D=180*D/Math.PI,U.shapeType="path",U.shapeArgs={d:E.path||[["M",-$,-V/2],["L",te,-V/2],["L",ie,-j/2],["L",ie,j/2],["L",te,V/2],["L",-$,V/2],["Z"]],translateX:H[0],translateY:H[1],rotation:D},U.plotX=H[0],U.plotY=H[1],O(U.y)&&S.max-S.min&&(U.percentage=(U.y-S.min)/(S.max-S.min)*100)})}drawPoints(){const S=this,P=S.chart,H=S.yAxis.center,U=S.pivot,E=S.options,ie=E.pivot,te=P.renderer;S.points.forEach($=>{const V=$.graphic,j=$.shapeArgs,w=j.d,D=z(E.dial,$.dial);V?(V.animate(j),j.d=w):$.graphic=te[$.shapeType](j).addClass("highcharts-dial").add(S.group),P.styledMode||$.graphic[V?"animate":"attr"]({stroke:D.borderColor,"stroke-width":D.borderWidth,fill:D.backgroundColor})}),U?U.animate({translateX:H[0],translateY:H[1]}):ie&&(S.pivot=te.circle(0,0,ie.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(H[0],H[1]).add(S.group),P.styledMode||S.pivot.attr({fill:ie.backgroundColor,stroke:ie.borderColor,"stroke-width":ie.borderWidth}))}animate(S){const P=this;S||P.points.forEach(H=>{const U=H.graphic;U&&(U.attr({rotation:180*P.yAxis.startAngleRad/Math.PI}),U.animate({rotation:H.shapeArgs.rotation},P.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),s.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(S,P){s.prototype.setData.call(this,S,!1),this.processData(),this.generatePoints(),Z(P,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return G.defaultOptions=z(s.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),I(G.prototype,{angular:!0,directTouch:!0,drawGraph:o,drawTracker:b.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:r,trackerGroups:["group","dataLabelsGroup"]}),d.registerSeriesType("gauge",G),G}),n(t,"Series/DragNodesComposition.js",[t["Core/Utilities.js"]],function(r){function o(){const s=this;let b,R,J;s.container&&(b=d(s.container,"mousedown",I=>{const z=s.hoverPoint;z&&z.series&&z.series.hasDraggableNodes&&z.series.options.draggable&&(z.series.onMouseDown(z,I),R=d(s.container,"mousemove",Z=>z&&z.series&&z.series.onMouseMove(z,Z)),J=d(s.container.ownerDocument,"mouseup",Z=>(R(),J(),z&&z.series&&z.series.onMouseUp(z,Z))))})),d(s,"destroy",function(){b()})}const{addEvent:d}=r,h=[];return{compose:function(s){r.pushUnique(h,s)&&d(s,"load",o)},onMouseDown:function(s,b){b=this.chart.pointer.normalize(b),s.fixedPosition={chartX:b.chartX,chartY:b.chartY,plotX:s.plotX,plotY:s.plotY},s.inDragMode=!0},onMouseMove:function(s,b){if(s.fixedPosition&&s.inDragMode){const I=this.chart;b=I.pointer.normalize(b);var R=s.fixedPosition.chartX-b.chartX,J=s.fixedPosition.chartY-b.chartY;b=I.graphLayoutsLookup,(5<Math.abs(R)||5<Math.abs(J))&&(R=s.fixedPosition.plotX-R,J=s.fixedPosition.plotY-J,I.isInsidePlot(R,J)&&(s.plotX=R,s.plotY=J,s.hasDragged=!0,this.redrawHalo(s),b.forEach(z=>{z.restartSimulation()})))}},onMouseUp:function(s,b){s.fixedPosition&&(s.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),s.inDragMode=s.hasDragged=!1,this.options.fixedDraggable||delete s.fixedPosition)},redrawHalo:function(s){s&&this.halo&&this.halo.attr({d:s.haloPath(this.options.states.hover.halo.size)})}}}),n(t,"Series/GraphLayoutComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Utilities.js"]],function(r,o){function d(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(z=>{z.updateSimulation()}),this.redraw())}function h(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(z=>{z.updateSimulation(!1)}),this.redraw())}function s(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(z=>{z.stop()})}function b(){let z,Z=!1;const L=O=>{O.maxIterations--&&isFinite(O.temperature)&&!O.isStable()&&!O.enableSimulation&&(O.beforeStep&&O.beforeStep(),O.step(),z=!1,Z=!0)};if(this.graphLayoutsLookup){for(R(!1,this),this.graphLayoutsLookup.forEach(O=>O.start());!z;)z=!0,this.graphLayoutsLookup.forEach(L);Z&&this.series.forEach(O=>{O&&O.layout&&O.render()})}}const{setAnimation:R}=r,{addEvent:J}=o,I=[];return{compose:function(z){o.pushUnique(I,z)&&(J(z,"afterPrint",d),J(z,"beforePrint",h),J(z,"predraw",s),J(z,"render",b))},integrations:{},layouts:{}}}),n(t,"Series/PackedBubble/PackedBubblePoint.js",[t["Core/Chart/Chart.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"]],function(r,o,d){({seriesTypes:{bubble:{prototype:{pointClass:d}}}}=d);class h extends d{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),o.prototype.destroy.apply(this,arguments)}firePointEvent(){const b=this.series.options;if(this.isParentNode&&b.parentNode){const R=b.allowPointSelect;b.allowPointSelect=b.parentNode.allowPointSelect,o.prototype.firePointEvent.apply(this,arguments),b.allowPointSelect=R}else o.prototype.firePointEvent.apply(this,arguments)}select(){const b=this.series.chart;this.isParentNode?(b.getSelectedPoints=b.getSelectedParentNodes,o.prototype.select.apply(this,arguments),b.getSelectedPoints=r.prototype.getSelectedPoints):o.prototype.select.apply(this,arguments)}}return h}),n(t,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[t["Core/Utilities.js"]],function(r){const{isNumber:o}=r;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:d}=this.series.chart,{value:h}=this.point;return o(h)?d(h,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),n(t,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(r,o,d){const h=r.getMass(),s=-d.x*o*this.diffTemperature;o=-d.y*o*this.diffTemperature,r.fromNode.fixedPosition||(r.fromNode.plotX-=s*h.fromNode/r.fromNode.degree,r.fromNode.plotY-=o*h.fromNode/r.fromNode.degree),r.toNode.fixedPosition||(r.toNode.plotX+=s*h.toNode/r.toNode.degree,r.toNode.plotY+=o*h.toNode/r.toNode.degree)},attractiveForceFunction:function(r,o){return(o-r)/r},barycenter:function(){let r=this.options.gravitationalConstant,o=this.barycenter.xFactor,d=this.barycenter.yFactor;o=(o-(this.box.left+this.box.width)/2)*r,d=(d-(this.box.top+this.box.height)/2)*r,this.nodes.forEach(function(h){h.fixedPosition||(h.plotX-=o/h.mass/h.degree,h.plotY-=d/h.mass/h.degree)})},getK:function(r){return Math.pow(r.box.width*r.box.height/r.nodes.length,.5)},integrate:function(r,o){var d=-r.options.friction;let h=r.options.maxSpeed,s=(o.plotX+o.dispX-o.prevX)*d;d*=o.plotY+o.dispY-o.prevY;var b=Math.abs;let R=b(s)/(s||1);b=b(d)/(d||1),s=R*Math.min(h,Math.abs(s)),d=b*Math.min(h,Math.abs(d)),o.prevX=o.plotX+o.dispX,o.prevY=o.plotY+o.dispY,o.plotX+=s,o.plotY+=d,o.temperature=r.vectorLength({x:s,y:d})},repulsive:function(r,o,d){o=o*this.diffTemperature/r.mass/r.degree,r.fixedPosition||(r.plotX+=d.x*o,r.plotY+=d.y*o)},repulsiveForceFunction:function(r,o){return(o-r)/r*(o>r?1:0)}}}),n(t,"Series/PackedBubble/PackedBubbleIntegration.js",[t["Core/Globals.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(r,o){return{noop:r}=r,{barycenter:function(){const d=this.options.gravitationalConstant,h=this.box,s=this.nodes;let b,R;for(const J of s)this.options.splitSeries&&!J.isParentNode?(b=J.series.parentNode.plotX,R=J.series.parentNode.plotY):(b=h.width/2,R=h.height/2),J.fixedPosition||(J.plotX-=(J.plotX-b)*d/(J.mass*Math.sqrt(s.length)),J.plotY-=(J.plotY-R)*d/(J.mass*Math.sqrt(s.length)))},getK:r,integrate:o.integrate,repulsive:function(d,h,s,b){const R=h*this.diffTemperature/d.mass/d.degree;h=s.x*R,s=s.y*R,d.fixedPosition||(d.plotX+=h,d.plotY+=s),b.fixedPosition||(b.plotX-=h,b.plotY-=s)},repulsiveForceFunction:function(d,h,s,b){return Math.min(d,(s.marker.radius+b.marker.radius)/2)}}}),n(t,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(r,o,d,h){const s=r.getMass(),b=d.x/h*o;o*=d.y/h,r.fromNode.fixedPosition||(r.fromNode.dispX-=b*s.fromNode/r.fromNode.degree,r.fromNode.dispY-=o*s.fromNode/r.fromNode.degree),r.toNode.fixedPosition||(r.toNode.dispX+=b*s.toNode/r.toNode.degree,r.toNode.dispY+=o*s.toNode/r.toNode.degree)},attractiveForceFunction:function(r,o){return r*r/o},barycenter:function(){const r=this.options.gravitationalConstant,o=this.barycenter.xFactor,d=this.barycenter.yFactor;this.nodes.forEach(function(h){if(!h.fixedPosition){var s=h.getDegree();s*=1+s/2,h.dispX+=(o-h.plotX)*r*s/h.degree,h.dispY+=(d-h.plotY)*r*s/h.degree}})},getK:function(r){return Math.pow(r.box.width*r.box.height/r.nodes.length,.3)},integrate:function(r,o){let d;o.dispX+=o.dispX*r.options.friction,o.dispY+=o.dispY*r.options.friction,d=o.temperature=r.vectorLength({x:o.dispX,y:o.dispY}),d!==0&&(o.plotX+=o.dispX/d*Math.min(Math.abs(o.dispX),r.temperature),o.plotY+=o.dispY/d*Math.min(Math.abs(o.dispY),r.temperature))},repulsive:function(r,o,d,h){r.dispX+=d.x/h*o/r.degree,r.dispY+=d.y/h*o/r.degree},repulsiveForceFunction:function(r,o){return o*o/r}}}),n(t,"Series/Networkgraph/QuadTreeNode.js",[],function(){class r{constructor(d){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=d,this.boxSize=Math.min(d.width,d.height)}divideBox(){const d=this.box.width/2,h=this.box.height/2;this.nodes[0]=new r({left:this.box.left,top:this.box.top,width:d,height:h}),this.nodes[1]=new r({left:this.box.left+d,top:this.box.top,width:d,height:h}),this.nodes[2]=new r({left:this.box.left+d,top:this.box.top+h,width:d,height:h}),this.nodes[3]=new r({left:this.box.left,top:this.box.top+h,width:d,height:h})}getBoxPosition(d){const h=d.plotY<this.box.top+this.box.height/2;return d.plotX<this.box.left+this.box.width/2?h?0:3:h?1:2}insert(d,h){this.isInternal?this.nodes[this.getBoxPosition(d)].insert(d,h-1):(this.isEmpty=!1,this.body?h?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,h-1),this.body=!0),this.nodes[this.getBoxPosition(d)].insert(d,h-1)):(h=new r({top:d.plotX||NaN,left:d.plotY||NaN,width:.1,height:.1}),h.body=d,h.isInternal=!1,this.nodes.push(h)):(this.isInternal=!1,this.body=d))}updateMassAndCenter(){let d=0,h=0,s=0;if(this.isInternal){for(const b of this.nodes)b.isEmpty||(d+=b.mass,h+=b.plotX*b.mass,s+=b.plotY*b.mass);h/=d,s/=d}else this.body&&(d=this.body.mass,h=this.body.plotX,s=this.body.plotY);this.mass=d,this.plotX=h,this.plotY=s}}return r}),n(t,"Series/Networkgraph/QuadTree.js",[t["Series/Networkgraph/QuadTreeNode.js"]],function(r){class o{constructor(h,s,b,R){this.box={left:h,top:s,width:b,height:R},this.maxDepth=25,this.root=new r(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(h){h.updateMassAndCenter()})}insertNodes(h){for(const s of h)this.root.insert(s,this.maxDepth)}visitNodeRecursive(h,s,b){let R;if(h||(h=this.root),h===this.root&&s&&(R=s(h)),R!==!1){for(const J of h.nodes){if(J.isInternal){if(s&&(R=s(J)),R===!1)continue;this.visitNodeRecursive(J,s,b)}else J.body&&s&&s(J.body);b&&b(J)}h===this.root&&b&&b(h)}}}return o}),n(t,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[t["Series/Networkgraph/EulerIntegration.js"],t["Core/Globals.js"],t["Series/GraphLayoutComposition.js"],t["Series/Networkgraph/QuadTree.js"],t["Core/Utilities.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(r,o,d,h,s,b){const{win:R}=o,{clamp:J,defined:I,isFunction:z,fireEvent:Z,pick:L}=s;class O{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(M){d.compose(M),d.integrations.euler=r,d.integrations.verlet=b,d.layouts["reingold-fruchterman"]=O}init(M){this.options=M,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=d.integrations[M.integration],this.enableSimulation=M.enableSimulation,this.attractiveForce=L(M.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=L(M.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=M.approximation}updateSimulation(M){this.enableSimulation=L(M,this.options.enableSimulation)}start(){const M=this.series,S=this.options;this.currentStep=0,this.forces=M[0]&&M[0].forces||[],this.chart=M[0]&&M[0].chart,this.initialRendering&&(this.initPositions(),M.forEach(function(P){P.finishedAnimating=!0,P.render()})),this.setK(),this.resetSimulation(S),this.enableSimulation&&this.step()}step(){const M=this.series;this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const S of this.forces||[])this[S+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const S of M)S.chart&&S.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&R.cancelAnimationFrame(this.simulation),this.simulation=R.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(S=>{Z(S,"afterSimulation")}))}}stop(){this.simulation&&R.cancelAnimationFrame(this.simulation)}setArea(M,S,P,H){this.box={left:M,top:S,width:P,height:H}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(M,S){for(const P of M)S.indexOf(P)===-1&&S.push(P)}removeElementFromCollection(M,S){M=S.indexOf(M),M!==-1&&S.splice(M,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(M){this.maxIterations=L(M,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(M){this.initialRendering=M}createQuadTree(){this.quadTree=new h(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const M=this.options.initialPositions;if(z(M)){M.call(this);for(const S of this.nodes)I(S.prevX)||(S.prevX=S.plotX),I(S.prevY)||(S.prevY=S.plotY),S.dispX=0,S.dispY=0}else M==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const M=this.box;var S=this.nodes;const P=2*Math.PI/(S.length+1),H=S.filter(function($){return $.linksTo.length===0}),U={},E=this.options.initialPositionRadius,ie=$=>{for(const V of $.linksFrom||[])U[V.toNode.id]||(U[V.toNode.id]=!0,te.push(V.toNode),ie(V.toNode))};let te=[];for(const $ of H)te.push($),ie($);if(te.length)for(const $ of S)te.indexOf($)===-1&&te.push($);else te=S;for(let $=0,V=te.length;$<V;++$)S=te[$],S.plotX=S.prevX=L(S.plotX,M.width/2+E*Math.cos($*P)),S.plotY=S.prevY=L(S.plotY,M.height/2+E*Math.sin($*P)),S.dispX=0,S.dispY=0}setRandomPositions(){const M=this.box,S=this.nodes,P=S.length+1,H=E=>(E=E*E/Math.PI,E-=Math.floor(E));let U;for(let E=0,ie=S.length;E<ie;++E)U=S[E],U.plotX=U.prevX=L(U.plotX,M.width*H(E)),U.plotY=U.prevY=L(U.plotY,M.height*H(P+E)),U.dispX=0,U.dispY=0}force(M,...S){this.integration[M].apply(this,S)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let M=0,S=0,P=0;for(const H of this.nodes)S+=H.plotX*H.mass,P+=H.plotY*H.mass,M+=H.mass;return this.barycenter={x:S,y:P,xFactor:S/M,yFactor:P/M}}barnesHutApproximation(M,S){const P=this.getDistXY(M,S),H=this.vectorLength(P);let U,E;return M!==S&&H!==0&&(S.isInternal?S.boxSize/H<this.options.theta&&H!==0?(E=this.repulsiveForce(H,this.k),this.force("repulsive",M,E*S.mass,P,H),U=!1):U=!0:(E=this.repulsiveForce(H,this.k),this.force("repulsive",M,E*S.mass,P,H))),U}repulsiveForces(){if(this.approximation==="barnes-hut")for(const M of this.nodes)this.quadTree.visitNodeRecursive(null,S=>this.barnesHutApproximation(M,S));else{let M,S,P;for(const H of this.nodes)for(const U of this.nodes)H===U||H.fixedPosition||(P=this.getDistXY(H,U),S=this.vectorLength(P),S!==0&&(M=this.repulsiveForce(S,this.k),this.force("repulsive",H,M*U.mass,P,S)))}}attractiveForces(){let M,S,P;for(const H of this.links)H.fromNode&&H.toNode&&(M=this.getDistXY(H.fromNode,H.toNode),S=this.vectorLength(M),S!==0&&(P=this.attractiveForce(S,this.k),this.force("attractive",H,P,M,S)))}applyLimits(){const M=this.nodes;for(const S of M){if(S.fixedPosition)break;this.integration.integrate(this,S),this.applyLimitBox(S,this.box),S.dispX=0,S.dispY=0}}applyLimitBox(M,S){const P=M.radius;M.plotX=J(M.plotX,S.left+P,S.width-P),M.plotY=J(M.plotY,S.top+P,S.height-P)}coolDown(M,S,P){return M-S*P}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let M=0;for(const S of this.nodes)M+=S.temperature;return M}vectorLength(M){return Math.sqrt(M.x*M.x+M.y*M.y)}getDistR(M,S){return M=this.getDistXY(M,S),this.vectorLength(M)}getDistXY(M,S){const P=M.plotX-S.plotX;return M=M.plotY-S.plotY,{x:P,y:M,absX:Math.abs(P),absY:Math.abs(M)}}}return O}),n(t,"Series/PackedBubble/PackedBubbleLayout.js",[t["Series/GraphLayoutComposition.js"],t["Series/PackedBubble/PackedBubbleIntegration.js"],t["Series/Networkgraph/ReingoldFruchtermanLayout.js"],t["Core/Utilities.js"]],function(r,o,d,h){function s(){const Z=[];return this.series.forEach(L=>{L.parentNode&&L.parentNode.selected&&Z.push(L.parentNode)}),Z}function b(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:R,pick:J}=h,I=[];class z extends d{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(L){d.compose(L),r.integrations.packedbubble=o,r.layouts.packedbubble=z,h.pushUnique(I,L)&&(R(L,"beforeRedraw",b),L.prototype.getSelectedParentNodes=s)}beforeStep(){this.options.marker&&this.series.forEach(L=>{L&&L.calculateParentRadius()})}isStable(){const L=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>L||0>=this.temperature}setCircularPositions(){const L=this.box;var O=this.nodes;const G=2*Math.PI/(O.length+1),M=this.options.initialPositionRadius;let S,P=0;for(const H of O)this.options.splitSeries&&!H.isParentNode?(O=H.series.parentNode.plotX,S=H.series.parentNode.plotY):(O=L.width/2,S=L.height/2),H.plotX=H.prevX=J(H.plotX,O+M*Math.cos(H.index||P*G)),H.plotY=H.prevY=J(H.plotY,S+M*Math.sin(H.index||P*G)),H.dispX=0,H.dispY=0,P++}repulsiveForces(){const L=this,O=L.options.bubblePadding;let G,M,S;L.nodes.forEach(P=>{P.degree=P.mass,P.neighbours=0,L.nodes.forEach(H=>{G=0,P===H||P.fixedPosition||!L.options.seriesInteraction&&P.series!==H.series||(S=L.getDistXY(P,H),M=L.vectorLength(S)-(P.marker.radius+H.marker.radius+O),0>M&&(P.degree+=.01,P.neighbours++,G=L.repulsiveForce(-M/Math.sqrt(P.neighbours),L.k,P,H)),L.force("repulsive",P,G*H.mass,S,H,M))})})}applyLimitBox(L,O){let G,M;this.options.splitSeries&&!L.isParentNode&&this.options.parentNodeLimit&&(G=this.getDistXY(L,L.series.parentNode),M=L.series.parentNodeRadius-L.marker.radius-this.vectorLength(G),0>M&&M>-2*L.marker.radius&&(L.plotX-=.01*G.x,L.plotY-=.01*G.y)),super.applyLimitBox(L,O)}}return r.layouts.packedbubble=z}),n(t,"Series/SimulationSeriesUtilities.js",[t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(r,o){const{syncTimeout:d}=r,{animObject:h}=o;return{initDataLabels:function(){const s=this.options.dataLabels;if(!this.dataLabelsGroup){const b=this.initDataLabelsGroup();return!this.chart.styledMode&&(s!=null&&s.style)&&b.css(s.style),b.attr({opacity:0}),this.visible&&b.show(),b}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var s;const b=this.options.dataLabels;b!=null&&b.defer&&(!((s=this.options.layoutAlgorithm)===null||s===void 0)&&s.enableSimulation)?d(()=>{this.deferDataLabels=!1},b?h(b.animation).defer:0):this.deferDataLabels=!1}}}),n(t,"Series/PackedBubble/PackedBubbleSeries.js",[t["Core/Color/Color.js"],t["Series/DragNodesComposition.js"],t["Series/GraphLayoutComposition.js"],t["Core/Globals.js"],t["Series/PackedBubble/PackedBubblePoint.js"],t["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],t["Series/PackedBubble/PackedBubbleLayout.js"],t["Core/Series/SeriesRegistry.js"],t["Series/SimulationSeriesUtilities.js"],t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(r,o,d,h,s,b,R,J,I,z,Z){const{parse:L}=r;({noop:r}=h);const{series:{prototype:O},seriesTypes:{bubble:G}}=J,{initDataLabels:M,initDataLabelsDefer:S}=I,{addEvent:P,clamp:H,defined:U,extend:E,fireEvent:ie,isArray:te,isNumber:$,merge:V,pick:j}=z;class w extends G{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(m,g,x,k){G.compose(m,g,x,k),o.compose(g),R.compose(g)}accumulateAllPoints(){const m=this.chart,g=[];let x;for(const k of m.series)if(k.is("packedbubble")&&k.visible||!m.options.chart.ignoreHiddenSeries){x=k.yData||[];for(let q=0;q<x.length;q++)g.push([null,null,x[q],k.index,q,{id:q,marker:{radius:0}}])}return g}addLayout(){const m=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},g=m.type||"packedbubble",x=this.chart.options.chart;let k=this.chart.graphLayoutsStorage,q=this.chart.graphLayoutsLookup,Y;k||(this.chart.graphLayoutsStorage=k={},this.chart.graphLayoutsLookup=q=[]),Y=k[g],Y||(m.enableSimulation=U(x.forExport)?!x.forExport:m.enableSimulation,k[g]=Y=new d.layouts[g],Y.init(m),q.splice(Y.index,0,Y)),this.layout=Y,this.points.forEach(K=>{K.mass=2,K.degree=1,K.collisionNmb=1}),Y.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),Y.addElementsToCollection([this],Y.series),Y.addElementsToCollection(this.points,Y.nodes)}addSeriesLayout(){var m=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const g=m.type||"packedbubble",x=this.chart.graphLayoutsStorage,k=this.chart.graphLayoutsLookup;m=V(m,m.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let q=x[g+"-series"];q||(x[g+"-series"]=q=new d.layouts[g],q.init(m),k.splice(q.index,0,q)),this.parentNodeLayout=q,this.createParentNodes()}calculateParentRadius(){const m=this.seriesBox();this.parentNodeRadius=H(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,m?Math.max(Math.sqrt(Math.pow(m.width,2)+Math.pow(m.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let m=this.options.zMin,g=this.options.zMax,x=1/0,k=-1/0;return m&&g?[m,g]:(this.chart.series.forEach(q=>{q.yData.forEach(Y=>{U(Y)&&(Y>k&&(k=Y),Y<x&&(x=Y))})}),m=j(m,x),g=j(g,k),[m,g])}checkOverlap(m,g){const x=m[0]-g[0],k=m[1]-g[1];return-.001>Math.sqrt(x*x+k*k)-Math.abs(m[2]+g[2])}createParentNodes(){const m=this.pointClass,g=this.chart,x=this.parentNodeLayout,k=this.layout.options;let q,Y=this.parentNode,K={radius:this.parentNodeRadius,lineColor:this.color,fillColor:L(this.color).brighten(.4).get()};k.parentNodeOptions&&(K=V(k.parentNodeOptions.marker||{},K)),this.parentNodeMass=0,this.points.forEach(le=>{this.parentNodeMass+=Math.PI*Math.pow(le.marker.radius,2)}),this.calculateParentRadius(),x.nodes.forEach(le=>{le.seriesIndex===this.index&&(q=!0)}),x.setArea(0,0,g.plotWidth,g.plotHeight),q||(Y||(Y=new m().init(this,{mass:this.parentNodeRadius/2,marker:K,dataLabels:{inside:!1},states:{normal:{marker:K},hover:{marker:K}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(Y.plotX=this.parentNode.plotX,Y.plotY=this.parentNode.plotY),this.parentNode=Y,x.addElementsToCollection([this],x.series),x.addElementsToCollection([Y],x.nodes))}deferLayout(){const m=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),m.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(m=>{m.removeElementFromCollection(this,m.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),O.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(O.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",O.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(this.layout&&this.layout.options.splitSeries){var m=this.chart,g=this.layout.options.parentNodeOptions.marker;g={fill:g.fillColor||L(this.color).brighten(.4).get(),opacity:g.fillOpacity,stroke:g.lineColor||this.color,"stroke-width":j(g.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,m.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var x=V({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},g);this.parentNode.graphic||(this.graph=this.parentNode.graphic=m.renderer.symbol(g.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(x)}}drawTracker(){const m=this.parentNode;let g;super.drawTracker(),m&&(g=te(m.dataLabels)?m.dataLabels:m.dataLabel?[m.dataLabel]:[],m.graphic&&(m.graphic.element.point=m),g.forEach(x=>{x.div?x.div.point=m:x.element.point=m}))}getPointRadius(){const m=this.chart,g=this.options,x=g.useSimulation,k=Math.min(m.plotWidth,m.plotHeight),q={},Y=[],K=m.allDataPoints||[],le=K.length;let he,pe,F,Q;["minSize","maxSize"].forEach(ge=>{const ke=parseInt(g[ge],10),re=/%$/.test(g[ge]);q[ge]=re?k*ke/100:ke*Math.sqrt(le)}),m.minRadius=he=q.minSize/Math.sqrt(le),m.maxRadius=pe=q.maxSize/Math.sqrt(le);const ce=x?this.calculateZExtremes():[he,pe];K.forEach((ge,ke)=>{F=x?H(ge[2],ce[0],ce[1]):ge[2],Q=this.getRadius(ce[0],ce[1],he,pe,F),Q===0&&(Q=null),K[ke][2]=Q,Y.push(Q)}),this.radii=Y}init(){return O.init.apply(this,arguments),S.call(this),this.eventsToUnbind.push(P(this,"updatedData",function(){this.chart.series.forEach(m=>{m.type===this.type&&(m.isDirty=!0)},this)})),this}onMouseUp(m){const g=m;if(g.fixedPosition&&!g.removed){const x=this.layout,k=this.parentNodeLayout;let q,Y;k&&x.options.dragBetweenSeries&&k.nodes.forEach(K=>{g&&g.marker&&K!==g.series.parentNode&&(q=x.getDistXY(g,K),Y=x.vectorLength(q)-K.marker.radius-g.marker.radius,0>Y&&(K.series.addPoint(V(g.options,{plotX:g.plotX,plotY:g.plotY}),!1),x.removeElementFromCollection(g,x.nodes),g.remove()))}),o.onMouseUp.apply(this,arguments)}}placeBubbles(m){const g=this.checkOverlap,x=this.positionBubble,k=[];let q=1,Y=0,K=0;var le=[];let he;if(m=m.sort((pe,F)=>F[2]-pe[2]),m.length){if(k.push([[0,0,m[0][2],m[0][3],m[0][4]]]),1<m.length)for(k.push([[0,0-m[1][2]-m[0][2],m[1][2],m[1][3],m[1][4]]]),he=2;he<m.length;he++)m[he][2]=m[he][2]||1,le=x(k[q][Y],k[q-1][K],m[he]),g(le,k[q][0])?(k.push([]),K=0,k[q+1].push(x(k[q][Y],k[q][0],m[he])),q++,Y=0):1<q&&k[q-1][K+1]&&g(le,k[q-1][K+1])?(K++,k[q].push(x(k[q][Y],k[q-1][K],m[he])),Y++):(Y++,k[q].push(le));this.chart.stages=k,this.chart.rawPositions=[].concat.apply([],k),this.resizeRadius(),le=this.chart.rawPositions}return le}pointAttribs(m,g){var x=this.options;let k=x.marker;return m&&m.isParentNode&&x.layoutAlgorithm&&x.layoutAlgorithm.parentNodeOptions&&(k=x.layoutAlgorithm.parentNodeOptions.marker),x=k.fillOpacity,m=O.pointAttribs.call(this,m,g),x!==1&&(m["fill-opacity"]=x),m}positionBubble(m,g,x){var k=Math.sqrt,q=Math.asin,Y=Math.acos;const K=Math.pow,le=Math.abs;return k=k(K(m[0]-g[0],2)+K(m[1]-g[1],2)),Y=Y((K(k,2)+K(x[2]+g[2],2)-K(x[2]+m[2],2))/(2*(x[2]+g[2])*k)),q=q(le(m[0]-g[0])/k),m=(0>m[1]-g[1]?0:Math.PI)+Y+q*(0>(m[0]-g[0])*(m[1]-g[1])?1:-1),[g[0]+(g[2]+x[2])*Math.sin(m),g[1]-(g[2]+x[2])*Math.cos(m),x[2],x[3],x[4]]}render(){const m=[];O.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(g=>{te(g.dataLabels)&&g.dataLabels.forEach(x=>{m.push(x)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(m))}resizeRadius(){const m=this.chart,g=m.rawPositions;var x=Math.min,k=Math.max;const q=m.plotLeft,Y=m.plotTop,K=m.plotHeight,le=m.plotWidth;let he,pe,F,Q,ce;he=F=Number.POSITIVE_INFINITY,pe=Q=Number.NEGATIVE_INFINITY;for(const ge of g)ce=ge[2],he=x(he,ge[0]-ce),pe=k(pe,ge[0]+ce),F=x(F,ge[1]-ce),Q=k(Q,ge[1]+ce);if(k=[pe-he,Q-F],x=x.apply([],[(le-q)/k[0],(K-Y)/k[1]]),1e-10<Math.abs(x-1)){for(const ge of g)ge[2]*=x;this.placeBubbles(g)}else m.diffY=K/2+Y-F-(Q-F)/2,m.diffX=le/2+q-he-(pe-he)/2}seriesBox(){const m=this.chart,g=Math.max,x=Math.min,k=[m.plotLeft,m.plotLeft+m.plotWidth,m.plotTop,m.plotTop+m.plotHeight];let q;return this.data.forEach(Y=>{U(Y.plotX)&&U(Y.plotY)&&Y.marker.radius&&(q=Y.marker.radius,k[0]=x(k[0],Y.plotX-q),k[1]=g(k[1],Y.plotX+q),k[2]=x(k[2],Y.plotY-q),k[3]=g(k[3],Y.plotY+q))}),$(k.width/k.height)?k:null}setVisible(){const m=this;O.setVisible.apply(m,arguments),m.parentNodeLayout&&m.graph?m.visible?(m.graph.show(),m.parentNode.dataLabel&&m.parentNode.dataLabel.show()):(m.graph.hide(),m.parentNodeLayout.removeElementFromCollection(m.parentNode,m.parentNodeLayout.nodes),m.parentNode.dataLabel&&m.parentNode.dataLabel.hide()):m.layout&&(m.visible?m.layout.addElementsToCollection(m.points,m.layout.nodes):m.points.forEach(g=>{m.layout.removeElementFromCollection(g,m.layout.nodes)}))}translate(){const m=this.chart,g=this.data,x=this.index,k=this.options.useSimulation;let q;if(this.processedXData=this.xData,this.generatePoints(),U(m.allDataPoints)||(m.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),k)var Y=m.allDataPoints;else Y=this.placeBubbles(m.allDataPoints),this.options.draggable=!1;for(const K of Y)K[3]===x&&(Y=g[K[4]],q=j(K[2],void 0),k||(Y.plotX=K[0]-m.plotLeft+m.diffX,Y.plotY=K[1]-m.plotTop+m.diffY),$(q)&&(Y.marker=E(Y.marker,{radius:q,width:2*q,height:2*q}),Y.radius=q));k&&this.deferLayout(),ie(this,"afterTranslate")}}return w.defaultOptions=V(G.defaultOptions,b),E(w.prototype,{pointClass:s,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:M,alignDataLabel:O.alignDataLabel,indexateNodes:r,onMouseDown:o.onMouseDown,onMouseMove:o.onMouseMove,redrawHalo:o.redrawHalo,searchPoint:r}),J.registerSeriesType("packedbubble",w),w}),n(t,"Series/Polygon/PolygonSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d){({noop:r}=r);const{series:h,seriesTypes:{area:s,line:b,scatter:R}}=o,{extend:J,merge:I}=d;class z extends R{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let L=b.prototype.getGraphPath.call(this),O=L.length+1;for(;O--;)(O===L.length||L[O][0]==="M")&&0<O&&L.splice(O,0,["Z"]);return this.areaPath=L}drawGraph(){this.options.fillColor=this.color,s.prototype.drawGraph.call(this)}}return z.defaultOptions=I(R.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),J(z.prototype,{type:"polygon",drawTracker:h.prototype.drawTracker,setStackedPoints:r}),o.registerSeriesType("polygon",z),z}),n(t,"Core/Axis/WaterfallAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:d,objectEach:h}=o;var s;return function(b){function R(){const L=this.waterfall.stacks;L&&(L.changed=!1,delete L.alreadyChanged)}function J(){const L=this.options.stackLabels;L&&L.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function I(){let L=this.axes,O=this.series,G=O.length;for(;G--;)O[G].options.stacking&&(L.forEach(function(M){M.isXAxis||(M.waterfall.stacks.changed=!0)}),G=0)}function z(){this.waterfall||(this.waterfall=new Z(this))}class Z{constructor(O){this.axis=O,this.stacks={changed:!1}}renderStackTotals(){const O=this.axis,G=O.waterfall.stacks,M=O.stacking&&O.stacking.stackTotalGroup,S=new r(O,O.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=S,M&&h(G,function(P){h(P,function(H,U){S.total=H.stackTotal,S.x=+U,H.label&&(S.label=H.label),r.prototype.render.call(S,M),H.label=S.label,delete S.label})}),S.total=null}}b.Composition=Z,b.compose=function(L,O){d(L,"init",z),d(L,"afterBuildStacks",R),d(L,"afterRender",J),d(O,"beforeRedraw",I)}}(s||(s={})),s}),n(t,"Series/Waterfall/WaterfallPoint.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(r,o,d){const{isNumber:h}=d;class s extends r.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let R=o.prototype.getClassName.call(this);return this.isSum?R+=" highcharts-sum":this.isIntermediateSum&&(R+=" highcharts-intermediate-sum"),R}isValid(){return h(this.y)||this.isSum||!!this.isIntermediateSum}}return s}),n(t,"Series/Waterfall/WaterfallSeries.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Axis/WaterfallAxis.js"],t["Series/Waterfall/WaterfallPoint.js"]],function(r,o,d,h,s,b){const{seriesTypes:{column:R,line:J}}=d,{addEvent:I,arrayMax:z,arrayMin:Z,correctFloat:L,extend:O,isNumber:G,merge:M,objectEach:S,pick:P}=h;class H extends R{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){R.prototype.generatePoints.apply(this);for(let E=0,ie=this.points.length;E<ie;E++){const te=this.points[E],$=this.processedYData[E];G($)&&(te.isIntermediateSum||te.isSum)&&(te.y=L($))}}processData(E){let ie=this.options,te=this.yData,$=ie.data,V,j=te.length,w=ie.threshold||0,D,m,g,x,k,q;for(q=m=D=g=x=0;q<j;q++)k=te[q],V=$&&$[q]?$[q]:{},k==="sum"||V.isSum?te[q]=L(m):k==="intermediateSum"||V.isIntermediateSum?(te[q]=L(D),D=0):(m+=k,D+=k),g=Math.min(m,g),x=Math.max(m,x);super.processData.call(this,E),ie.stacking||(this.dataMin=g+w,this.dataMax=x)}toYData(E){return E.isSum?"sum":E.isIntermediateSum?"intermediateSum":E.y}updateParallelArrays(E,ie){super.updateParallelArrays.call(this,E,ie),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(E,ie){const te=this.options.upColor;return te&&!E.options.color&&G(E.y)&&(E.color=0<E.y?te:void 0),E=R.prototype.pointAttribs.call(this,E,ie),delete E.dashstyle,E}getGraphPath(){return[["M",0,0]]}getCrispPath(){let E=this.data.filter(q=>G(q.y)),ie=this.yAxis,te=E.length,$=Math.round(this.graph.strokeWidth())%2/2,V=Math.round(this.borderWidth)%2/2,j=this.xAxis.reversed,w=this.yAxis.reversed,D=this.options.stacking,m=[];for(let q=1;q<te;q++){if(!this.options.connectNulls&&!G(this.data[E[q].index-1].y))continue;var g=E[q].box,x=E[q-1];const Y=x.y||0,K=E[q-1].box;if(!g||!K)continue;var k=ie.waterfall.stacks[this.stackKey];const le=0<Y?-K.height:0;k&&K&&g&&(k=k[q-1],x=D?Math.round(ie.translate(k.connectorThreshold,!1,!0,!1,!0)+(w?le:0))-$:K.y+x.minPointLengthOffset+V-$,m.push(["M",(K.x||0)+(j?0:K.width||0),x],["L",(g.x||0)+(j&&g.width||0),x])),K&&m.length&&(!D&&0>Y&&!w||0<Y&&w)&&((g=m[m.length-2])&&typeof g[2]=="number"&&(g[2]+=K.height||0),(g=m[m.length-1])&&typeof g[2]=="number"&&(g[2]+=K.height||0))}return m}drawGraph(){J.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function E(ce,ge,ke,re){if(g){if(Y)for(ke;ke<Y;ke++)g.stackState[ke]+=re;else g.stackState[0]=ce,Y=g.stackState.length;g.stackState.push(g.stackState[Y-1]+ge)}}let ie=this.options,te=this.yAxis.waterfall.stacks,$=ie.threshold||0,V=$,j=V,w=this.stackKey,D=this.xData,m=D.length,g,x,k,q,Y,K,le,he;var pe;let F;if(this.yAxis.stacking.usePercentage=!1,x=k=q=V,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(F=te.changed,(pe=te.alreadyChanged)&&0>pe.indexOf(w)&&(F=!0),te[w]||(te[w]={}),pe=te[w])for(let ce=0;ce<m;ce++){var Q=D[ce];(!pe[Q]||F)&&(pe[Q]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:F&&pe[Q]?pe[Q].label:void 0}),g=pe[Q],he=this.yData[ce],0<=he?g.posTotal+=he:g.negTotal+=he,le=ie.data[ce],Q=g.absolutePos=g.posTotal,K=g.absoluteNeg=g.negTotal,g.stackTotal=Q+K,Y=g.stackState.length,le&&le.isIntermediateSum?(E(q,k,0,q),q=k,k=$,V^=j,j^=V,V^=j):le&&le.isSum?(E($,x,Y,0),V=$):(E(V,he,0,x),le&&(x+=he,k+=he)),g.stateIndex++,g.threshold=V,V+=g.stackTotal}te.changed=!1,te.alreadyChanged||(te.alreadyChanged=[]),te.alreadyChanged.push(w)}}getExtremes(){let E=this.options.stacking,ie,te;if(E){var $=this.yAxis;return $=$.waterfall.stacks,ie=this.stackedYNeg=[],te=this.stackedYPos=[],E==="overlap"?S($[this.stackKey],function(V){ie.push(Z(V.stackState)),te.push(z(V.stackState))}):S($[this.stackKey],function(V){ie.push(V.negTotal+V.threshold),te.push(V.posTotal+V.threshold)}),{dataMin:Z(ie),dataMax:z(te)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return H.defaultOptions=M(R.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),I(H,"afterColumnTranslate",function(){const{options:U,points:E,yAxis:ie}=this,te=P(U.minPointLength,5),$=te/2,V=U.threshold||0,j=U.stacking,w=ie.waterfall.stacks[this.stackKey];let D=V,m=V;for(let Y=0;Y<E.length;Y++){const K=E[Y];var g=this.processedYData[Y];const le=O({x:0,y:0,width:0,height:0},K.shapeArgs||{});K.box=le;var x=[0,g],k=K.y||0;if(j){if(w){if(x=w[Y],j==="overlap"){var q=x.stackState[x.stateIndex--];q=0<=k?q:q-k,Object.hasOwnProperty.call(x,"absolutePos")&&delete x.absolutePos,Object.hasOwnProperty.call(x,"absoluteNeg")&&delete x.absoluteNeg}else 0<=k?(q=x.threshold+x.posTotal,x.posTotal-=k):(q=x.threshold+x.negTotal,x.negTotal-=k,q-=k),!x.posTotal&&G(x.absolutePos)&&Object.hasOwnProperty.call(x,"absolutePos")&&(x.posTotal=x.absolutePos,delete x.absolutePos),!x.negTotal&&G(x.absoluteNeg)&&Object.hasOwnProperty.call(x,"absoluteNeg")&&(x.negTotal=x.absoluteNeg,delete x.absoluteNeg);K.isSum||(x.connectorThreshold=x.threshold+x.stackTotal),ie.reversed?g=0<=k?q-k:q+k:(g=q,q-=k),K.below=g<=V,le.y=ie.translate(g,!1,!0,!1,!0),le.height=Math.abs(le.y-ie.translate(q,!1,!0,!1,!0)),(q=ie.waterfall.dummyStackItem)&&(q.x=Y,q.label=w[Y].label,q.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[Y],this.stackedYPos[Y],void 0,this.xAxis))}}else q=Math.max(m,m+k)+x[0],le.y=ie.translate(q,!1,!0,!1,!0),K.isSum?(le.y=ie.translate(x[1],!1,!0,!1,!0),le.height=Math.min(ie.translate(x[0],!1,!0,!1,!0),ie.len)-le.y,K.below=x[1]<=V):K.isIntermediateSum?(0<=k?(g=x[1]+D,q=D):(g=D,q=x[1]+D),ie.reversed&&(g^=q,q^=g,g^=q),le.y=ie.translate(g,!1,!0,!1,!0),le.height=Math.abs(le.y-Math.min(ie.translate(q,!1,!0,!1,!0),ie.len)),D+=x[1],K.below=g<=V):(le.height=0<g?ie.translate(m,!1,!0,!1,!0)-le.y:ie.translate(m,!1,!0,!1,!0)-ie.translate(m-g,!1,!0,!1,!0),m+=g,K.below=m<V),0>le.height&&(le.y+=le.height,le.height*=-1);K.plotY=le.y=Math.round(le.y||0)-this.borderWidth%2/2,le.height=Math.max(Math.round(le.height||0),.001),K.yBottom=le.y+le.height,le.height<=te&&!K.isNull?(le.height=te,le.y-=$,K.plotY=le.y,K.minPointLengthOffset=0>k?-$:$):(K.isNull&&(le.width=0),K.minPointLengthOffset=0),k=K.plotY+(K.negative?le.height:0),K.below&&(K.plotY+=le.height),K.tooltipPos&&(this.chart.inverted?K.tooltipPos[0]=ie.len-k:K.tooltipPos[1]=k),K.isInside=this.isPointInside(K),M(!0,K.shapeArgs,le)}},{order:2}),O(H.prototype,{getZonesGraphs:J.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:b}),d.registerSeriesType("waterfall",H),s.compose(r,o),H}),n(t,"Core/Axis/RadialAxis.js",[t["Core/Axis/AxisDefaults.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o,d,h){const{defaultOptions:s}=o,{noop:b}=d,{addEvent:R,correctFloat:J,defined:I,extend:z,fireEvent:Z,merge:L,pick:O,relativeLength:G,wrap:M}=h;var S;return function(P){function H(){this.autoConnect=this.isCircular&&typeof O(this.userMax,this.options.max)>"u"&&J(this.endAngleRad-this.startAngleRad)===J(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function U(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(oe=>this.ticks[oe]&&this.ticks[oe].label).filter(oe=>!!oe)}}function E(){return b}function ie(oe,ye,Te){const Oe=this.pane.center;let Le=oe.value,Ue;if(this.isCircular){if(I(Le))oe.point&&(nt=oe.point.shapeArgs||{},nt.start&&(Le=this.chart.inverted?this.translate(oe.point.rectPlotY,!0):oe.point.x));else{var nt=oe.chartX||0;Ue=oe.chartY||0,Le=this.translate(Math.atan2(Ue-Te,nt-ye)-this.startAngleRad,!0)}oe=this.getPosition(Le),nt=oe.x,Ue=oe.y}else I(Le)||(nt=oe.chartX,Ue=oe.chartY),I(nt)&&I(Ue)&&(Te=Oe[1]+this.chart.plotTop,Le=this.translate(Math.min(Math.sqrt(Math.pow(nt-ye,2)+Math.pow(Ue-Te,2)),Oe[2]/2)-Oe[3]/2,!0));return[Le,nt||0,Ue||0]}function te(oe,ye,Te){oe=this.pane.center;const Oe=this.chart,Le=this.left||0,Ue=this.top||0;let nt=O(ye,oe[2]/2-this.offset);return typeof Te>"u"&&(Te=this.horiz?0:this.center&&-this.center[3]/2),Te&&(nt+=Te),this.isCircular||typeof ye<"u"?(ye=this.chart.renderer.symbols.arc(Le+oe[0],Ue+oe[1],nt,nt,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),ye.xBounds=[Le+oe[0]],ye.yBounds=[Ue+oe[1]-nt]):(ye=this.postTranslate(this.angleRad,nt),ye=[["M",this.center[0]+Oe.plotLeft,this.center[1]+Oe.plotTop],["L",ye.x,ye.y]]),ye}function $(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function V(oe,ye,Te){const Oe=this.chart;var Le=Wt=>{if(typeof Wt=="string"){let Ci=parseInt(Wt,10);return Ne.test(Wt)&&(Ci=Ci*Qe/100),Ci}return Wt};const Ue=this.center;var nt=this.startAngleRad;const Qe=Ue[2]/2;var ut=Math.min(this.offset,0),Me=this.left||0;const Re=this.top||0,Ne=/%$/;var Xe=this.isCircular;let rt,yt=O(Le(Te.outerRadius),Qe),$t=Le(Te.innerRadius);return Le=O(Le(Te.thickness),10),this.options.gridLineInterpolation==="polygon"?ut=this.getPlotLinePath({value:oe}).concat(this.getPlotLinePath({value:ye,reverse:!0})):(oe=Math.max(oe,this.min),ye=Math.min(ye,this.max),oe=this.translate(oe),ye=this.translate(ye),Xe||(yt=oe||0,$t=ye||0),Te.shape!=="circle"&&Xe?(Te=nt+(oe||0),nt+=ye||0):(Te=-Math.PI/2,nt=1.5*Math.PI,rt=!0),yt-=ut,ut=Oe.renderer.symbols.arc(Me+Ue[0],Re+Ue[1],yt,yt,{start:Math.min(Te,nt),end:Math.max(Te,nt),innerR:O($t,yt-(Le-ut)),open:rt}),Xe&&(Xe=(nt+Te)/2,Me=Me+Ue[0]+Ue[2]/2*Math.cos(Xe),ut.xBounds=Xe>-Math.PI/2&&Xe<Math.PI/2?[Me,Oe.plotWidth]:[0,Me],ut.yBounds=[Re+Ue[1]+Ue[2]/2*Math.sin(Xe)],ut.yBounds[0]+=Xe>-Math.PI&&0>Xe||Xe>Math.PI?-10:10)),ut}function j(oe){var ye=this.pane.center,Te=this.chart;const Oe=Te.inverted;var Le=oe.reverse,Ue=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const nt=Ue.innerRadius||"0%",Qe=Ue.outerRadius||"100%";var ut=ye[0]+Te.plotLeft,Me=ye[1]+Te.plotTop;const Re=this.height,Ne=oe.isCrosshair;Ue=ye[3]/2;var Xe=oe.value;let rt;var yt=this.getPosition(Xe);let $t=yt.x;if(yt=yt.y,Ne&&(yt=this.getCrosshairPosition(oe,ut,Me),Xe=yt[0],$t=yt[1],yt=yt[2]),this.isCircular)Xe=Math.sqrt(Math.pow($t-ut,2)+Math.pow(yt-Me,2)),Le=typeof nt=="string"?G(nt,1):nt/Xe,Te=typeof Qe=="string"?G(Qe,1):Qe/Xe,ye&&Ue&&(Ue/=Xe,Le<Ue&&(Le=Ue),Te<Ue&&(Te=Ue)),ye=[["M",ut+Le*($t-ut),Me-Le*(Me-yt)],["L",$t-(1-Te)*($t-ut),yt+(1-Te)*(Me-yt)]];else if((Xe=this.translate(Xe))&&(0>Xe||Xe>Re)&&(Xe=0),this.options.gridLineInterpolation==="circle")ye=this.getLinePath(0,Xe,Ue);else if(ye=[],Te[Oe?"yAxis":"xAxis"].forEach(Wt=>{Wt.pane===this.pane&&(rt=Wt)}),rt)for(ut=rt.tickPositions,rt.autoConnect&&(ut=ut.concat([ut[0]])),Le&&(ut=ut.slice().reverse()),Xe&&(Xe+=Ue),Me=0;Me<ut.length;Me++)Ue=rt.getPosition(ut[Me],Xe),ye.push(Me?["L",Ue.x,Ue.y]:["M",Ue.x,Ue.y]);return ye}function w(oe,ye){return oe=this.translate(oe),this.postTranslate(this.isCircular?oe:this.angleRad,O(this.isCircular?ye:0>oe?0:oe,this.center[2]/2)-this.offset)}function D(){const oe=this.center,ye=this.chart,Te=this.options.title;return{x:ye.plotLeft+oe[0]+(Te.x||0),y:ye.plotTop+oe[1]-{high:.5,middle:.25,low:0}[Te.align]*oe[2]+(Te.y||0)}}function m(oe){oe.beforeSetTickPositions=H,oe.createLabelCollector=U,oe.getCrosshairPosition=ie,oe.getLinePath=te,oe.getOffset=$,oe.getPlotBandPath=V,oe.getPlotLinePath=j,oe.getPosition=w,oe.getTitlePosition=D,oe.postTranslate=he,oe.setAxisSize=F,oe.setAxisTranslation=Q,oe.setOptions=ce}function g(){var oe=this.chart,ye=this.options,Te=this.pane,Oe=Te&&Te.options;oe.angular&&this.isXAxis||!Te||!oe.angular&&!oe.polar||(oe=2*Math.PI,Te=(O(Oe.startAngle,0)-90)*Math.PI/180,Oe=(O(Oe.endAngle,O(Oe.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(ye.angle||0)*Math.PI/180,this.startAngleRad=Te,this.endAngleRad=Oe,this.offset=ye.offset||0,ye=(Te%oe+oe)%oe,Oe=(Oe%oe+oe)%oe,ye>Math.PI&&(ye-=oe),Oe>Math.PI&&(Oe-=oe),this.normalizedStartAngleRad=ye,this.normalizedEndAngleRad=Oe)}function x(oe){this.isRadial&&(oe.align=void 0,oe.preventDefault())}function k(){if(this.chart&&this.chart.labelCollectors){const oe=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=oe&&this.chart.labelCollectors.splice(oe,1)}}function q(oe){const ye=this.chart,Te=ye.inverted,Oe=ye.angular,Le=ye.polar,Ue=this.isXAxis,nt=this.coll,Qe=Oe&&Ue;oe=oe.userOptions.pane||0,oe=this.pane=ye.pane&&ye.pane[oe];let ut;nt==="colorAxis"?this.isRadial=!1:(Oe?(Qe?(this.isHidden=!0,this.createLabelCollector=E,this.getOffset=b,this.render=this.redraw=pe,this.setTitle=this.setCategories=this.setScale=b):m(this),(ut=!Ue)&&(this.defaultPolarOptions=ve)):Le&&(m(this),this.defaultPolarOptions=(ut=this.horiz)?re:L(nt==="xAxis"?r.defaultXAxisOptions:r.defaultYAxisOptions,_e),Te&&nt==="yAxis"&&(this.defaultPolarOptions.stackLabels=r.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),Oe||Le?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&ye.labelCollectors.push(this.labelCollector)):this.isRadial=!1,oe&&ut&&(oe.axis=this),this.isCircular=ut)}function Y(){this.isRadial&&this.beforeSetTickPositions()}function K(oe){const ye=this.label;if(ye){var Te=this.axis,Oe=ye.getBBox(),Le=Te.options.labels,Ue=(Te.translate(this.pos)+Te.startAngleRad+Math.PI/2)/Math.PI*180%360,nt=Math.round(Ue),Qe=I(Le.y)?0:.3*-Oe.height,ut=Le.y,Me=20,Re=Le.align,Ne="end",Xe=0>nt?nt+360:nt,rt=Xe,yt=0,$t=0;if(Te.isRadial){var Wt=Te.getPosition(this.pos,Te.center[2]/2+G(O(Le.distance,-25),Te.center[2]/2,-Te.center[2]/2));Le.rotation==="auto"?ye.attr({rotation:Ue}):I(ut)||(ut=Te.chart.renderer.fontMetrics(ye).b-Oe.height/2),I(Re)||(Te.isCircular?(Oe.width>Te.len*Te.tickInterval/(Te.max-Te.min)&&(Me=0),Re=Ue>Me&&Ue<180-Me?"left":Ue>180+Me&&Ue<360-Me?"right":"center"):Re="center",ye.attr({align:Re})),Re==="auto"&&Te.tickPositions.length===2&&Te.isCircular&&(90<Xe&&180>Xe?Xe=180-Xe:270<Xe&&360>=Xe&&(Xe=540-Xe),180<rt&&360>=rt&&(rt=360-rt),(Te.pane.options.startAngle===nt||Te.pane.options.startAngle===nt+360||Te.pane.options.startAngle===nt-360)&&(Ne="start"),Re=-90<=nt&&90>=nt||-360<=nt&&-270>=nt||270<=nt&&360>=nt?Ne==="start"?"right":"left":Ne==="start"?"left":"right",70<rt&&110>rt&&(Re="center"),15>Xe||180<=Xe&&195>Xe?yt=.3*Oe.height:15<=Xe&&35>=Xe?yt=Ne==="start"?0:.75*Oe.height:195<=Xe&&215>=Xe?yt=Ne==="start"?.75*Oe.height:0:35<Xe&&90>=Xe?yt=Ne==="start"?.25*-Oe.height:Oe.height:215<Xe&&270>=Xe&&(yt=Ne==="start"?Oe.height:.25*-Oe.height),15>rt?$t=Ne==="start"?.15*-Oe.height:.15*Oe.height:165<rt&&180>=rt&&($t=Ne==="start"?.15*Oe.height:.15*-Oe.height),ye.attr({align:Re}),ye.translate($t,yt+Qe)),oe.pos.x=Wt.x+(Le.x||0),oe.pos.y=Wt.y+(ut||0)}}}function le(oe){this.axis.getPosition&&z(oe.pos,this.axis.getPosition(this.pos))}function he(oe,ye){const Te=this.chart,Oe=this.center;return oe=this.startAngleRad+oe,{x:Te.plotLeft+Oe[0]+Math.cos(oe)*ye,y:Te.plotTop+Oe[1]+Math.sin(oe)*ye}}function pe(){this.isDirty=!1}function F(){let oe,ye;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),oe=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(ye=this.postTranslate(this.angleRad,oe[3]/2),oe[0]=ye.x-this.chart.plotLeft,oe[1]=ye.y-this.chart.plotTop),this.len=this.width=this.height=(oe[2]-oe[3])*O(this.sector,1)/2)}function Q(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function ce(oe){oe=this.options=L(this.constructor.defaultOptions,this.defaultPolarOptions,s[this.coll],oe),oe.plotBands||(oe.plotBands=[]),Z(this,"afterSetOptions")}function ge(oe,ye,Te,Oe,Le,Ue,nt){const Qe=this.axis;return Qe.isRadial?(oe=Qe.getPosition(this.pos,Qe.center[2]/2+Oe),ye=["M",ye,Te,"L",oe.x,oe.y]):ye=oe.call(this,ye,Te,Oe,Le,Ue,nt),ye}const ke=[],re={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},ve={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},_e={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};P.compose=function(oe,ye){return h.pushUnique(ke,oe)&&(R(oe,"afterInit",g),R(oe,"autoLabelAlign",x),R(oe,"destroy",k),R(oe,"init",q),R(oe,"initialAxisTranslation",Y)),h.pushUnique(ke,ye)&&(R(ye,"afterGetLabelPosition",K),R(ye,"afterGetPosition",le),M(ye.prototype,"getMarkPath",ge)),oe}}(S||(S={})),S}),n(t,"Series/PolarComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Extensions/Pane.js"],t["Core/Axis/RadialAxis.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,b){function R(F,Q,ce,ge){var ke=ge?1:0,re=0<=Q&&Q<=F.length-1?Q:0>Q?F.length-1+Q:0;Q=0>re-1?F.length-(1+ke):re-1;var ve=F[Q];ke=F[re+1>F.length-1?ke:re+1];var _e=ve.plotY,oe=ke.plotX,ye=ke.plotY;ke=F[re].plotX,re=F[re].plotY,ve=(1.5*ke+ve.plotX)/2.5,_e=(1.5*re+_e)/2.5,oe=(1.5*ke+oe)/2.5;var Te=(1.5*re+ye)/2.5;ye=Math.sqrt(Math.pow(ve-ke,2)+Math.pow(_e-re,2));const Oe=Math.sqrt(Math.pow(oe-ke,2)+Math.pow(Te-re,2));return ve=Math.atan2(_e-re,ve-ke),Te=Math.PI/2+(ve+Math.atan2(Te-re,oe-ke))/2,Math.abs(ve-Te)>Math.PI/2&&(Te-=Math.PI),ve=ke+Math.cos(Te)*ye,_e=re+Math.sin(Te)*ye,oe=ke+Math.cos(Math.PI+Te)*Oe,Te=re+Math.sin(Math.PI+Te)*Oe,ke={rightContX:oe,rightContY:Te,leftContX:ve,leftContY:_e,plotX:ke,plotY:re},ce&&(ke.prevPointCont=R(F,Q,!1,ge)),ke}function J(){(this.pane||[]).forEach(F=>{F.render()})}function I(F){const Q=F.args[0].xAxis,ce=F.args[0].yAxis;F=F.args[0].chart,Q&&ce&&(ce.gridLineInterpolation==="polygon"?(Q.startOnTick=!0,Q.endOnTick=!0):Q.gridLineInterpolation==="polygon"&&F.inverted&&(ce.startOnTick=!0,ce.endOnTick=!0))}function z(){this.pane||(this.pane=[]),this.options.pane=Y(this.options.pane),this.options.pane.forEach(F=>{new h(F,this)},this)}function Z(F){var Q=F.args.marker,ce=this.chart.xAxis[0],ge=this.chart.yAxis[0],ke=this.chart.inverted;const re=ke?ge:ce;if(ce=ke?ce:ge,this.chart.polar){F.preventDefault(),ge=(Q.attr?Q.attr("start"):Q.start)-re.startAngleRad,ke=Q.attr?Q.attr("r"):Q.r;let ve=(Q.attr?Q.attr("end"):Q.end)-re.startAngleRad;Q=Q.attr?Q.attr("innerR"):Q.innerR,F.result.x=ge+re.pos,F.result.width=ve-ge,F.result.y=ce.len+ce.pos-Q,F.result.height=Q-ke}}function L(F){var Q=this.chart;if(Q.polar&&Q.hoverPane&&Q.hoverPane.axis){F.preventDefault();var ce=Q.hoverPane.center,ge=this.mouseDownX||0;const Ue=this.mouseDownY||0;var ke=F.args.chartY;const nt=F.args.chartX;var re=2*Math.PI,ve=Q.hoverPane.axis.startAngleRad,_e=Q.hoverPane.axis.endAngleRad,oe=Q.inverted?Q.xAxis[0]:Q.yAxis[0];const Qe={};var ye="arc";if(Qe.x=ce[0]+Q.plotLeft,Qe.y=ce[1]+Q.plotTop,this.zoomHor){var Te=0<ve?_e-ve:Math.abs(ve)+Math.abs(_e),Oe=Math.atan2(Ue-Q.plotTop-ce[1],ge-Q.plotLeft-ce[0])-ve,Le=Math.atan2(ke-Q.plotTop-ce[1],nt-Q.plotLeft-ce[0])-ve;if(Qe.r=ce[2]/2,Qe.innerR=ce[3]/2,0>=Oe&&(Oe+=re),0>=Le&&(Le+=re),Le<Oe&&(Le=[Oe,Oe=Le][0]),Te<re&&ve+Le>_e+(re-Te)/2&&(Le=Oe,Oe=0>=ve?ve:0),re=Qe.start=Math.max(Oe+ve,ve),Te=Qe.end=Math.min(Le+ve,_e),oe.options.gridLineInterpolation==="polygon"){if(ye=Q.hoverPane.axis,Le=re-ye.startAngleRad+ye.pos,Oe=Te-re,re=oe.getPlotLinePath({value:oe.max}),Te=ye.toValue(Le),Le=ye.toValue(Le+Oe),Te<ye.getExtremes().min){const{min:ut,max:Me}=ye.getExtremes();Te=Me-(ut-Te)}if(Le<ye.getExtremes().min){const{min:ut,max:Me}=ye.getExtremes();Le=Me-(ut-Le)}Le<Te&&(Le=[Te,Te=Le][0]),re=S(re,Te,Le,ye),re.push(["L",ce[0]+Q.plotLeft,Q.plotTop+ce[1]]),Qe.d=re,ye="path"}}this.zoomVert&&(Le=Q.inverted?Q.xAxis[0]:Q.yAxis[0],ge=Math.sqrt(Math.pow(ge-Q.plotLeft-ce[0],2)+Math.pow(Ue-Q.plotTop-ce[1],2)),ke=Math.sqrt(Math.pow(nt-Q.plotLeft-ce[0],2)+Math.pow(ke-Q.plotTop-ce[1],2)),ke<ge&&(ge=[ke,ke=ge][0]),ke>ce[2]/2&&(ke=ce[2]/2),ge<ce[3]/2&&(ge=ce[3]/2),this.zoomHor||(Qe.start=ve,Qe.end=_e),Qe.r=ke,Qe.innerR=ge,Le.options.gridLineInterpolation==="polygon"&&(ce=Le.toValue(Le.len+Le.pos-ge),ve=Le.toValue(Le.len+Le.pos-ke),ce=Le.getPlotLinePath({value:ve}).concat(Le.getPlotLinePath({value:ce,reverse:!0})),Qe.d=ce,ye="path")),this.zoomHor&&this.zoomVert&&oe.options.gridLineInterpolation==="polygon"&&(ce=Q.hoverPane.axis,oe=Qe.start||0,ve=oe-ce.startAngleRad+ce.pos,_e=(Qe.end||0)-oe,oe=ce.toValue(ve),ce=ce.toValue(ve+_e),Qe.d instanceof Array&&(ve=Qe.d.slice(0,Qe.d.length/2),_e=Qe.d.slice(Qe.d.length/2,Qe.d.length),_e=[..._e].reverse(),Q=Q.hoverPane.axis,ve=S(ve,oe,ce,Q),(_e=S(_e,oe,ce,Q))&&(_e[0][0]="L"),_e=[..._e].reverse(),Qe.d=ve.concat(_e),ye="path")),F.attrs=Qe,F.shapeType=ye}}function O(){const F=this.chart;F.polar&&(this.polar=new pe(this),F.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function G(){if(this.chart.polar&&this.xAxis){const{xAxis:F,yAxis:Q}=this,ce=this.chart;(this.kdByAngle=ce.tooltip&&ce.tooltip.shared)?this.searchPoint=M:this.options.findNearestPointBy="xy";const ge=this.points;let ke=ge.length;for(;ke--;)this.is("column")||this.is("columnrange")||this.polar.toXY(ge[ke]),ce.hasParallelCoordinates||this.yAxis.reversed||(k(ge[ke].y,Number.MIN_VALUE)<Q.min||ge[ke].x<F.min||ge[ke].x>F.max?(ge[ke].isNull=!0,ge[ke].plotY=NaN):ge[ke].isNull=ge[ke].isValid&&!ge[ke].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(w(this,"afterRender",function(){if(ce.polar){var re=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:re[0],y:re[1],r:re[2]/2,innerR:re[3]/2});else{{var ve=ce.renderer,_e=re[0],oe=re[1],ye=re[2]/2,Te=re[3]/2;re=K();const Oe=ve.createElement("clipPath").attr({id:re}).add(ve.defs);ve=Te?ve.arc(_e,oe,ye,Te,0,2*Math.PI).add(Oe):ve.circle(_e,oe,ye).add(Oe),ve.id=re,ve.clipPath=Oe}this.clipCircle=ve}this.group.clip(this.clipCircle),this.setClip=o.noop}})))}}function M(F){const Q=this.chart;var ce=this.xAxis;return ce=ce.pane&&ce.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(F.chartX-(ce&&ce[0]||0)-Q.plotLeft,F.chartY-(ce&&ce[1]||0)-Q.plotTop)})}function S(F,Q,ce,ge){const ke=ge.tickInterval;ge=ge.tickPositions;let re=m(ge,_e=>_e>=ce),ve=m([...ge].reverse(),_e=>_e<=Q);return D(re)||(re=ge[ge.length-1]),D(ve)||(ve=ge[0],re+=ke,F[0][0]="L",F.unshift(F[F.length-3])),F=F.slice(ge.indexOf(ve),ge.indexOf(re)+1),F[0][0]="M",F}function P(F,Q){return m(this.pane||[],function(ce){return ce.options.id===Q})||F.call(this,Q)}function H(F,Q,ce,ge,ke,re){const ve=this.chart;var _e=k(ge.inside,!!this.options.stacking);ve.polar?(F=Q.rectPlotX/Math.PI*180,ve.inverted?(this.forceDL=ve.isInsidePlot(Q.plotX,Q.plotY),_e&&Q.shapeArgs?(_e=Q.shapeArgs,_e=this.yAxis.postTranslate(((_e.start||0)+(_e.end||0))/2-this.xAxis.startAngleRad,Q.barX+Q.pointWidth/2),ke=x(ke,{x:_e.x-ve.plotLeft,y:_e.y-ve.plotTop})):Q.tooltipPos&&(ke=x(ke,{x:Q.tooltipPos[0],y:Q.tooltipPos[1]})),ge.align=k(ge.align,"center"),ge.verticalAlign=k(ge.verticalAlign,"middle")):(ge.align===null&&(ge.align=20<F&&160>F?"left":200<F&&340>F?"right":"center"),ge.verticalAlign===null&&(ge.verticalAlign=45>F||315<F?"bottom":135<F&&225>F?"top":"middle")),d.prototype.alignDataLabel.call(this,Q,ce,ge,ke,re),this.isRadialBar&&Q.shapeArgs&&Q.shapeArgs.start===Q.shapeArgs.end?ce.hide():ce.show()):F.call(this,Q,ce,ge,ke,re)}function U(){const F=this.options,Q=F.stacking,ce=this.chart;var ge=this.xAxis;const ke=this.yAxis,re=ke.reversed,ve=ke.center,_e=ge.startAngleRad,oe=ge.endAngleRad-_e;let ye=0,Te,Oe,Le,Ue=0;var nt=0;if(ge.isRadial){ge=this.points,Te=ge.length,Oe=ke.translate(ke.min),Le=ke.translate(ke.max);var Qe=F.threshold||0;for(ce.inverted&&g(Qe)&&(ye=ke.translate(Qe),D(ye)&&(0>ye?ye=0:ye>oe&&(ye=oe),this.translatedThreshold=ye+_e));Te--;){Qe=ge[Te];var ut=Qe.barX,Me=Qe.x,Re=Qe.y;if(Qe.shapeType="arc",ce.inverted){Qe.plotY=ke.translate(Re),Q&&ke.stacking?(Re=ke.stacking.stacks[(0>Re?"-":"")+this.stackKey],this.visible&&Re&&Re[Me]&&!Qe.isNull&&(nt=Re[Me].points[this.getStackIndicator(void 0,Me,this.index).key],Ue=ke.translate(nt[0]),nt=ke.translate(nt[1]),D(Ue)&&(Ue=b.clamp(Ue,0,oe)))):(Ue=ye,nt=Qe.plotY),Ue>nt&&(nt=[Ue,Ue=nt][0]),re?nt>Oe?nt=Oe:Ue<Le?Ue=Le:(Ue>Oe||nt<Le)&&(Ue=nt=oe):Ue<Oe?Ue=Oe:nt>Le?nt=Le:(nt<Oe||Ue>Le)&&(Ue=nt=0),ke.min>ke.max&&(Ue=nt=re?oe:0),Ue+=_e,nt+=_e,ve&&(Qe.barX=ut+=ve[3]/2),Me=Math.max(ut,0),Re=Math.max(ut+Qe.pointWidth,0);var Ne=F.borderRadius;Ne=q((typeof Ne=="object"?Ne.radius:Ne)||0,Re-Me),Qe.shapeArgs={x:ve[0],y:ve[1],r:Re,innerR:Me,start:Ue,end:nt,borderRadius:Ne},Qe.opacity=Ue===nt?0:void 0,Qe.plotY=(D(this.translatedThreshold)&&(Ue<this.translatedThreshold?Ue:nt))-_e}else Ue=ut+_e,Qe.shapeArgs=this.polar.arc(Qe.yBottom,Qe.plotY,Ue,Ue+Qe.pointWidth),Qe.shapeArgs.borderRadius=0;this.polar.toXY(Qe),ce.inverted?(ut=ke.postTranslate(Qe.rectPlotY,ut+Qe.pointWidth/2),Qe.tooltipPos=[ut.x-ce.plotLeft,ut.y-ce.plotTop]):Qe.tooltipPos=[Qe.plotX,Qe.plotY],ve&&(Qe.ttBelow=Qe.plotY>ve[1])}}}function E(F,Q){const ce=this;let ge;if(this.chart.polar){Q=Q||this.points;for(let re=0;re<Q.length;re++)if(!Q[re].isNull){var ke=re;break}this.options.connectEnds!==!1&&typeof ke<"u"&&(this.connectEnds=!0,Q.splice(Q.length,0,Q[ke]),ge=!0),Q.forEach(re=>{typeof re.polarPlotY>"u"&&ce.polar.toXY(re)})}return ke=F.apply(this,[].slice.call(arguments,1)),ge&&Q.pop(),ke}function ie(F,Q){const ce=this.chart;let ge={xAxis:[],yAxis:[]};return ce.polar?ce.axes.forEach(ke=>{if(ke.coll!=="colorAxis"){var re=ke.isXAxis,ve=ke.center,_e=Q.chartX-ve[0]-ce.plotLeft;ve=Q.chartY-ve[1]-ce.plotTop,ge[re?"xAxis":"yAxis"].push({axis:ke,value:ke.translate(re?Math.PI-Math.atan2(_e,ve):Math.sqrt(Math.pow(_e,2)+Math.pow(ve,2)),!0)})}}):ge=F.call(this,Q),ge}function te(F,Q){this.chart.polar||F.call(this,Q)}function $(F,Q){const ce=this,ge=this.chart,ke=this.group,re=this.markerGroup,ve=this.xAxis&&this.xAxis.center,_e=ge.plotLeft,oe=ge.plotTop;let ye=this.options.animation,Te,Oe,Le,Ue,nt;ge.polar?ce.isRadialBar?Q||(ce.startAngleRad=k(ce.translatedThreshold,ce.xAxis.startAngleRad),o.seriesTypes.pie.prototype.animate.call(ce,Q)):(ye=j(ye),ce.is("column")?Q||(Te=ve[3]/2,ce.points.forEach(Qe=>{Oe=Qe.graphic,Ue=(Le=Qe.shapeArgs)&&Le.r,nt=Le&&Le.innerR,Oe&&Le&&(Oe.attr({r:Te,innerR:Te}),Oe.animate({r:Ue,innerR:nt},ce.options.animation))})):Q?(F={translateX:ve[0]+_e,translateY:ve[1]+oe,scaleX:.001,scaleY:.001},ke.attr(F),re&&re.attr(F)):(F={translateX:_e,translateY:oe,scaleX:1,scaleY:1},ke.animate(F,ye),re&&re.animate(F,ye))):F.call(this,Q)}function V(F,Q,ce,ge){return this.chart.polar?ge?(F=R(Q,ge,!0,this.connectEnds),Q=F.prevPointCont&&F.prevPointCont.rightContX,ce=F.prevPointCont&&F.prevPointCont.rightContY,F=["C",g(Q)?Q:F.plotX,g(ce)?ce:F.plotY,g(F.leftContX)?F.leftContX:F.plotX,g(F.leftContY)?F.leftContY:F.plotY,F.plotX,F.plotY]):F=["M",ce.plotX,ce.plotY]:F=F.call(this,Q,ce,ge),F}const{animObject:j}=r,{addEvent:w,defined:D,find:m,isNumber:g,merge:x,pick:k,relativeLength:q,splat:Y,uniqueKey:K,wrap:le}=b,he=[];class pe{static compose(Q,ce,ge,ke,re,ve,_e,oe,ye){s.compose(Q,re),b.pushUnique(he,ce)&&(w(ce,"afterDrawChartBox",J),w(ce,"getAxes",z),w(ce,"init",I),le(ce.prototype,"get",P)),b.pushUnique(he,ge)&&(Q=ge.prototype,le(Q,"getCoordinates",ie),le(Q,"pinch",te),w(ge,"getSelectionMarkerAttrs",L),w(ge,"getSelectionBox",Z)),b.pushUnique(he,ke)&&(w(ke,"afterInit",O),w(ke,"afterTranslate",G,{order:2}),w(ke,"afterColumnTranslate",U,{order:4}),le(ke.prototype,"animate",$)),_e&&b.pushUnique(he,_e)&&(ge=_e.prototype,le(ge,"alignDataLabel",H),le(ge,"animate",$)),oe&&b.pushUnique(he,oe)&&le(oe.prototype,"getGraphPath",E),ye&&b.pushUnique(he,ye)&&(oe=ye.prototype,le(oe,"getPointSpline",V),ve&&b.pushUnique(he,ve)&&(ve.prototype.getPointSpline=oe.getPointSpline))}constructor(Q){this.series=Q}arc(Q,ce,ge,ke){const re=this.series,ve=re.xAxis.center,_e=re.yAxis.len,oe=ve[3]/2;return ce=_e-ce+oe,Q=_e-k(Q,_e)+oe,re.yAxis.reversed&&(0>ce&&(ce=oe),0>Q&&(Q=oe)),{x:ve[0],y:ve[1],r:ce,innerR:Q,start:ge,end:ke}}toXY(Q){var ce=this.series;const ge=ce.chart,ke=ce.xAxis;var re=ce.yAxis;const ve=Q.plotX,_e=ge.inverted,oe=Q.y;let ye=Q.plotY,Te=_e?ve:re.len-ye;_e&&ce&&!ce.isRadialBar&&(Q.plotY=ye=g(oe)?re.translate(oe):0),Q.rectPlotX=ve,Q.rectPlotY=ye,re.center&&(Te+=re.center[3]/2),g(ye)&&(re=_e?re.postTranslate(ye,Te):ke.postTranslate(ve,Te),Q.plotX=Q.polarPlotX=re.x-ge.plotLeft,Q.plotY=Q.polarPlotY=re.y-ge.plotTop),ce.kdByAngle?(ce=(ve/Math.PI*180+ke.pane.options.startAngle)%360,0>ce&&(ce+=360),Q.clientX=ce):Q.clientX=Q.plotX}}return pe}),n(t,"masters/highcharts-more.src.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Bubble/BubbleSeries.js"],t["Series/PackedBubble/PackedBubbleSeries.js"],t["Series/PolarComposition.js"]],function(r,o,d,h,s){d.compose(r.Axis,r.Chart,r.Legend,r.Series),h.compose(r.Axis,r.Chart,r.Legend,r.Series),s.compose(r.Axis,r.Chart,r.Pointer,r.Series,r.Tick,o.seriesTypes.areasplinerange,o.seriesTypes.column,o.seriesTypes.line,o.seriesTypes.spline)})})})(O6);var $X=O6.exports;const R6=uh($X);R6(hd);const VX={components:{highcharts:nm.Chart},methods:{chartCallback(e){e.renderer.forExport||setInterval(function(){var t=e.series[0].points[0],n,r=Math.round((Math.random()-.5)*20);n=t.y+r,(n<0||n>200)&&(n=t.y-r),t.update(n)},3e3)}},data(){return{fuelOptions:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{useHTML:!0,text:"<img src='https://cdn-icons-png.flaticon.com/512/710/710296.png' height='18px' alt='' />",y:180},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#FFF"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#fff",tickPixelInterval:32,tickWidth:5,tickPosition:"inside",tickLength:20,tickColor:"#0A2647",labels:{step:16,distance:10,enabled:!1},title:{text:"",y:20},plotBands:[{from:0,to:4,color:"#0A2647"},{from:4,to:8,color:"#0A2647"},{from:8,to:12,color:"#0A2647"},{from:12,to:16,color:"#0A2647"},{from:16,to:20,color:"#0A2647"},{from:20,to:24,color:"#0A2647"},{from:24,to:28,color:"#0A2647"},{from:28,to:32,color:"#0A2647"}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]}}}},gh=e=>(K0("data-v-7c7fa323"),e=e(),J0(),e),GX={class:"row"},WX={class:"col position-relative"},HX=gh(()=>Ye("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HFO (KL)",-1)),YX=gh(()=>Ye("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"15.08 KL",-1)),qX={class:"col position-relative"},XX=gh(()=>Ye("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total LS HFO (KL)",-1)),ZX=gh(()=>Ye("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.94",-1)),KX={class:"col position-relative"},JX=gh(()=>Ye("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total MDO (KL)",-1)),QX=gh(()=>Ye("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"1.22",-1)),eZ={class:"col position-relative"},tZ=gh(()=>Ye("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HSD (KL)",-1)),iZ=gh(()=>Ye("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.01",-1)),nZ={class:"col position-relative"},rZ=gh(()=>Ye("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total (KL)",-1)),sZ=gh(()=>Ye("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"21.25",-1));function oZ(e,t,n,r,o,d){const h=Er("highcharts");return wt(),Ot("div",GX,[Ye("div",WX,[cn(h,{options:o.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),HX,YX]),Ye("div",qX,[cn(h,{options:o.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),XX,ZX]),Ye("div",KX,[cn(h,{options:o.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),JX,QX]),Ye("div",eZ,[cn(h,{options:o.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),tZ,iZ]),Ye("div",nZ,[cn(h,{options:o.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),rZ,sZ])])}const aZ=Zr(VX,[["render",oZ],["__scopeId","data-v-7c7fa323"]]);var B6={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function n(r,o,d,h){r.hasOwnProperty(o)||(r[o]=h.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:r[o]}})))}t=t?t._modules:{},n(t,"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:d,find:h,fireEvent:s,isArray:b,isNumber:R,pick:J}=o;var I;return function(z){function Z(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function L(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function O(){const ie=this.brokenAxis;if(ie&&ie.hasBreaks){const te=this.tickPositions,$=this.tickPositions.info,V=[];for(let j=0;j<te.length;j++)ie.isInAnyBreak(te[j])||V.push(te[j]);this.tickPositions=V,this.tickPositions.info=$}}function G(){this.brokenAxis||(this.brokenAxis=new E(this))}function M(){const{isDirty:ie,options:{connectNulls:te},points:$,xAxis:V,yAxis:j}=this;if(ie){let w=$.length;for(;w--;){const D=$[w],m=!(D.y===null&&te===!1)&&(V&&V.brokenAxis&&V.brokenAxis.isInAnyBreak(D.x,!0)||j&&j.brokenAxis&&j.brokenAxis.isInAnyBreak(D.y,!0));D.visible=m?!1:D.options.visible!==!1}}}function S(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,J(this.pointArrayMap,["y"]))}function P(ie,te){const $=this,V=$.points;let j,w,D,m;if(ie&&ie.brokenAxis&&ie.brokenAxis.hasBreaks){const g=ie.brokenAxis;te.forEach(function(x){j=g&&g.breakArray||[],w=ie.isXAxis?ie.min:J($.options.threshold,ie.min),V.forEach(function(k){m=J(k["stack"+x.toUpperCase()],k[x]),j.forEach(function(q){R(w)&&R(m)&&(D=!1,w<q.from&&m>q.to||w>q.from&&m<q.from?D="pointBreak":(w<q.from&&m>q.from&&m<q.to||w>q.from&&m>q.to&&m<q.from)&&(D="pointInBreak"),D&&s(ie,D,{point:k,brk:q}))})})})}}function H(){var ie=this.currentDataGrouping,te=ie&&ie.gapSize;ie=this.points.slice();const $=this.yAxis;let V=this.options.gapSize,j=ie.length-1;var w;if(V&&0<j)for(this.options.gapUnit!=="value"&&(V*=this.basePointRange),te&&te>V&&te>=this.basePointRange&&(V=te);j--;)w&&w.visible!==!1||(w=ie[j+1]),te=ie[j],w.visible!==!1&&te.visible!==!1&&(w.x-te.x>V&&(w=(te.x+w.x)/2,ie.splice(j+1,0,{isNull:!0,x:w}),$.stacking&&this.options.stacking&&(w=$.stacking.stacks[this.stackKey][w]=new r($,$.options.stackLabels,!1,w,this.stack),w.total=0)),w=te);return this.getGraphPath(ie)}const U=[];z.compose=function(ie,te){if(o.pushUnique(U,ie)&&(ie.keepProps.push("brokenAxis"),d(ie,"init",G),d(ie,"afterInit",Z),d(ie,"afterSetTickPositions",O),d(ie,"afterSetOptions",L)),o.pushUnique(U,te)){const $=te.prototype;$.drawBreaks=P,$.gappedPath=H,d(te,"afterGeneratePoints",M),d(te,"afterRender",S)}return ie};class E{static isInBreak(te,$){const V=te.repeat||1/0,j=te.from,w=te.to-te.from;return $=$>=j?($-j)%V:V-(j-$)%V,te.inclusive?$<=w:$<w&&$!==0}static lin2Val(te){var $=this.brokenAxis;if($=$&&$.breakArray,!$||!R(te))return te;let V,j;for(j=0;j<$.length&&(V=$[j],!(V.from>=te));j++)(V.to<te||E.isInBreak(V,te))&&(te+=V.len);return te}static val2Lin(te){var $=this.brokenAxis;if($=$&&$.breakArray,!$||!R(te))return te;let V=te,j,w;for(w=0;w<$.length;w++)if(j=$[w],j.to<=te)V-=j.len;else{if(j.from>=te)break;if(E.isInBreak(j,te)){V-=te-j.from;break}}return V}constructor(te){this.hasBreaks=!1,this.axis=te}findBreakAt(te,$){return h($,function(V){return V.from<te&&te<V.to})}isInAnyBreak(te,$){const V=this.axis,j=V.options.breaks||[];let w=j.length,D,m,g;if(w&&R(te)){for(;w--;)E.isInBreak(j[w],te)&&(D=!0,m||(m=J(j[w].showPoints,!V.isXAxis)));g=D&&$?D&&!m:D}return g}setBreaks(te,$){const V=this,j=V.axis,w=b(te)&&!!te.length;j.isDirty=V.hasBreaks!==w,V.hasBreaks=w,j.options.breaks=j.userOptions.breaks=te,j.forceRedraw=!0,j.series.forEach(function(D){D.isDirty=!0}),w||j.val2lin!==E.val2Lin||(delete j.val2lin,delete j.lin2val),w&&(j.userOptions.ordinal=!1,j.lin2val=E.lin2Val,j.val2lin=E.val2Lin,j.setExtremes=function(D,m,g,x,k){if(V.hasBreaks){const q=this.options.breaks||[];let Y;for(;Y=V.findBreakAt(D,q);)D=Y.to;for(;Y=V.findBreakAt(m,q);)m=Y.from;m<D&&(m=D)}j.constructor.prototype.setExtremes.call(this,D,m,g,x,k)},j.setAxisTranslation=function(){if(j.constructor.prototype.setAxisTranslation.call(this),V.unitLength=void 0,V.hasBreaks){const D=j.options.breaks||[],m=[],g=[],x=J(j.pointRangePadding,0);let k=0,q,Y,K=j.userMin||j.min,le=j.userMax||j.max,he,pe;D.forEach(function(F){Y=F.repeat||1/0,R(K)&&R(le)&&(E.isInBreak(F,K)&&(K+=F.to%Y-K%Y),E.isInBreak(F,le)&&(le-=le%Y-F.from%Y))}),D.forEach(function(F){if(he=F.from,Y=F.repeat||1/0,R(K)&&R(le)){for(;he-Y>K;)he-=Y;for(;he<K;)he+=Y;for(pe=he;pe<le;pe+=Y)m.push({value:pe,move:"in"}),m.push({value:pe+F.to-F.from,move:"out",size:F.breakSize})}}),m.sort(function(F,Q){return F.value===Q.value?(F.move==="in"?0:1)-(Q.move==="in"?0:1):F.value-Q.value}),q=0,he=K,m.forEach(function(F){q+=F.move==="in"?1:-1,q===1&&F.move==="in"&&(he=F.value),q===0&&R(he)&&(g.push({from:he,to:F.value,len:F.value-he-(F.size||0)}),k+=F.value-he-(F.size||0))}),V.breakArray=g,R(K)&&R(le)&&R(j.min)&&(V.unitLength=le-K-k+x,s(j,"afterBreaks"),j.staticScale?j.transA=j.staticScale:V.unitLength&&(j.transA*=(le-j.min+x)/V.unitLength),x&&(j.minPixelPadding=j.transA*(j.minPointOffset||0)),j.min=K,j.max=le)}}),J($,!0)&&j.chart.redraw()}}z.Additions=E}(I||(I={})),I}),n(t,"masters/modules/broken-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/BrokenAxis.js"]],function(r,o){o.compose(r.Axis,r.Series)}),n(t,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),n(t,"Extensions/DataGrouping/ApproximationDefaults.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Core/Utilities.js"]],function(r,o){function d(z){const Z=z.length;return z=h(z),I(z)&&Z&&(z=R(z/Z)),z}function h(z){let Z=z.length,L;if(!Z&&z.hasNulls)L=null;else if(Z)for(L=0;Z--;)L+=z[Z];return L}const{arrayMax:s,arrayMin:b,correctFloat:R,extend:J,isNumber:I}=o;return o={average:d,averages:function(){const z=[];return[].forEach.call(arguments,function(Z){z.push(d(Z))}),typeof z[0]>"u"?void 0:z},close:function(z){return z.length?z[z.length-1]:z.hasNulls?null:void 0},high:function(z){return z.length?s(z):z.hasNulls?null:void 0},hlc:function(z,Z,L){if(z=r.high(z),Z=r.low(Z),L=r.close(L),I(z)||I(Z)||I(L))return[z,Z,L]},low:function(z){return z.length?b(z):z.hasNulls?null:void 0},ohlc:function(z,Z,L,O){if(z=r.open(z),Z=r.high(Z),L=r.low(L),O=r.close(O),I(z)||I(Z)||I(L)||I(O))return[z,Z,L,O]},open:function(z){return z.length?z[0]:z.hasNulls?null:void 0},range:function(z,Z){if(z=r.low(z),Z=r.high(Z),I(z)||I(Z))return[z,Z];if(z===null&&Z===null)return null},sum:h},J(r,o),o}),n(t,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),n(t,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Utilities.js"]],function(r,o){function d(O){const G=this,M=G.series;M.forEach(function(S){S.groupPixelWidth=void 0}),M.forEach(function(S){S.groupPixelWidth=G.getGroupPixelWidth&&G.getGroupPixelWidth(),S.groupPixelWidth&&(S.hasProcessed=!0),S.applyGrouping(!!O.hasExtremesChanged)})}function h(){const O=this.series;let G=O.length,M=0,S=!1,P,H;for(;G--;)(H=O[G].options.dataGrouping)&&(M=Math.max(M,z(H.groupPixelWidth,r.common.groupPixelWidth)),P=(O[G].processedXData||O[G].data).length,(O[G].groupPixelWidth||P>this.chart.plotSizeX/M||P&&H.forced)&&(S=!0));return S?M:0}function s(){this.series.forEach(function(O){O.hasProcessed=!1})}function b(O,G){let M;if(G=z(G,!0),O||(O={forced:!1,units:null}),this instanceof L)for(M=this.series.length;M--;)this.series[M].update({dataGrouping:O},!1);else this.chart.options.series.forEach(function(S){S.dataGrouping=typeof O=="boolean"?O:I(O,S.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),G&&this.chart.redraw()}const{addEvent:R,extend:J,merge:I,pick:z}=o,Z=[];let L;return{compose:function(O){L=O,o.pushUnique(Z,O)&&(R(O,"afterSetScale",s),R(O,"postProcessData",d),J(O.prototype,{applyGrouping:d,getGroupPixelWidth:h,setDataGrouping:b}))}}}),n(t,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,b){function R($){var V=this.chart,j=this.options.dataGrouping,w=this.allowDG!==!1&&j&&E(j.enabled,V.options.isStock),D=this.visible||!V.options.chart.ignoreHiddenSeries;const m=this.currentDataGrouping;var g=!1;if(w&&!this.requireSorting&&(this.requireSorting=g=!0),$=!!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!$)||!w,g&&(this.requireSorting=!1),!$){this.destroyGroupedData(),$=j.groupAll?this.xData:this.processedXData,w=j.groupAll?this.yData:this.processedYData;var x=V.plotSizeX;g=this.xAxis;var k=g.options.ordinal,q=this.groupPixelWidth,Y;let ce;if(q&&$&&$.length&&x){this.isDirty=ce=!0,this.points=null;var K=g.getExtremes(),le=K.min;K=K.max,k=k&&g.ordinal&&g.ordinal.getGroupIntervalFactor(le,K,this)||1,x=g.getTimeTicks(d.Additions.prototype.normalizeTimeTickInterval(q*(K-le)/x*k,j.units||o.units),Math.min(le,$[0]),Math.max(K,$[$.length-1]),g.options.startOfWeek,$,this.closestPointRange),q=O.groupData.apply(this,[$,w,x,j.approximation]),$=q.groupedXData,w=q.groupedYData,k=0,j&&j.smoothed&&$.length&&(j.firstAnchor="firstPoint",j.anchor="middle",j.lastAnchor="lastPoint",S(32,!1,V,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),V=$;var he=K,pe=this.options.dataGrouping;if(K=this.currentDataGrouping&&this.currentDataGrouping.gapSize,pe&&this.xData&&K&&this.groupMap){le=V.length-1;var F=pe.anchor;const ge=E(pe.firstAnchor,F);if(pe=E(pe.lastAnchor,F),F&&F!=="start"){var Q=K*{middle:.5,end:1}[F];for(F=V.length-1;F--&&0<F;)V[F]+=Q}ge&&ge!=="start"&&this.xData[0]>=V[0]&&(F=this.groupMap[0].start,Q=this.groupMap[0].length,H(F)&&H(Q)&&(Y=F+(Q-1)),V[0]={middle:V[0]+.5*K,end:V[0]+K,firstPoint:this.xData[0],lastPoint:Y&&this.xData[Y]}[ge]),pe&&pe!=="start"&&K&&V[le]>=he-K&&(Y=this.groupMap[this.groupMap.length-1].start,V[le]={middle:V[le]+.5*K,end:V[le]+K,firstPoint:Y&&this.xData[Y],lastPoint:this.xData[this.xData.length-1]}[pe])}for(Y=1;Y<x.length;Y++)x.info.segmentStarts&&x.info.segmentStarts.indexOf(Y)!==-1||(k=Math.max(x[Y]-x[Y-1],k));K=x.info,K.gapSize=k,this.closestPointRange=x.info.totalRange,this.groupMap=q.groupMap,D&&(D=g,Y=$,M(Y[0])&&H(D.min)&&H(D.dataMin)&&Y[0]<D.min&&((!M(D.options.min)&&D.min<=D.dataMin||D.min===D.dataMin)&&(D.min=Math.min(Y[0],D.min)),D.dataMin=Math.min(Y[0],D.dataMin)),M(Y[Y.length-1])&&H(D.max)&&H(D.dataMax)&&Y[Y.length-1]>D.max&&((!M(D.options.max)&&H(D.dataMax)&&D.max>=D.dataMax||D.max===D.dataMax)&&(D.max=Math.max(Y[Y.length-1],D.max)),D.dataMax=Math.max(Y[Y.length-1],D.dataMax))),j.groupAll&&(this.allGroupedData=w,j=this.cropData($,w,g.min,g.max,1),$=j.xData,w=j.yData,this.cropStart=j.start),this.processedXData=$,this.processedYData=w}else this.groupMap=null;this.hasGroupedData=ce,this.currentDataGrouping=K,this.preventGraphAnimation=(m&&m.totalRange)!==(K&&K.totalRange)}}function J(){this.groupedData&&(this.groupedData.forEach(function($,V){$&&(this.groupedData[V]=$.destroy?$.destroy():null)},this),this.groupedData.length=0)}function I(){ie.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function z(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function Z($,V,j,w){const D=this,m=D.data,g=D.options&&D.options.data,x=[],k=[],q=[],Y=$.length,K=!!V,le=[],he=D.pointArrayMap,pe=he&&he.length,F=["x"].concat(he||["y"]),Q=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let ce=0,ge=0;if(w=typeof w=="function"?w:w&&r[w]?r[w]:r[D.getDGApproximation&&D.getDGApproximation()||"average"],pe)for(var ke=he.length;ke--;)le.push([]);else le.push([]);ke=pe||1;for(let _e=0;_e<=Y;_e++)if(!($[_e]<j[0])){for(;typeof j[ce+1]<"u"&&$[_e]>=j[ce+1]||_e===Y;){var re=j[ce];D.dataGroupInfo={start:Q?ge:D.cropStart+ge,length:le[0].length};var ve=w.apply(D,le);for(D.pointClass&&!M(D.dataGroupInfo.options)&&(D.dataGroupInfo.options=U(D.pointClass.prototype.optionsToObject.call({series:D},D.options.data[D.cropStart+ge])),F.forEach(function(oe){delete D.dataGroupInfo.options[oe]})),typeof ve<"u"&&(x.push(re),k.push(ve),q.push(D.dataGroupInfo)),ge=_e,re=0;re<ke;re++)le[re].length=0,le[re].hasNulls=!1;if(ce+=1,_e===Y)break}if(_e===Y)break;if(he){re=D.options.dataGrouping&&D.options.dataGrouping.groupAll?_e:D.cropStart+_e,re=m&&m[re]||D.pointClass.prototype.applyOptions.apply({series:D},[g[re]]);for(let oe=0;oe<pe;oe++)ve=re[he[oe]],H(ve)?le[oe].push(ve):ve===null&&(le[oe].hasNulls=!0)}else re=K?V[_e]:null,H(re)?le[0].push(re):re===null&&(le[0].hasNulls=!0)}return{groupedXData:x,groupedYData:k,groupMap:q}}function L($){$=$.options;const V=this.type,j=this.chart.options.plotOptions,w=this.useCommonDataGrouping&&o.common,D=o.seriesSpecific;let m=h.defaultOptions.plotOptions[V].dataGrouping;if(j&&(D[V]||w)){const g=this.chart.rangeSelector;m||(m=U(o.common,D[V])),$.dataGrouping=U(w,m,j.series&&j.series.dataGrouping,j[V].dataGrouping,this.userOptions.dataGrouping,!$.isInternal&&g&&H(g.selected)&&g.buttonOptions[g.selected].dataGrouping)}}const{series:{prototype:O}}=s,{addEvent:G,defined:M,error:S,extend:P,isNumber:H,merge:U,pick:E}=b,ie=O.generatePoints,te=[];return{compose:function($){const V=$.prototype.pointClass;b.pushUnique(te,V)&&G(V,"update",function(){if(this.dataGroup)return S(24,!1,this.series.chart),!1}),b.pushUnique(te,$)&&(G($,"afterSetOptions",L),G($,"destroy",J),P($.prototype,{applyGrouping:R,destroyGroupedData:J,generatePoints:I,getDGApproximation:z,groupData:Z}))},groupData:Z}}),n(t,"Extensions/DataGrouping/DataGrouping.js",[t["Extensions/DataGrouping/DataGroupingAxisComposition.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){function b(L){const O=this.chart,G=O.time,M=L.labelConfig,S=M.series;var P=S.tooltipOptions,H=S.options.dataGrouping;const U=S.xAxis;var E=P.xDateFormat;let ie,te,$=P[L.isFooter?"footerFormat":"headerFormat"];U&&U.options.type==="datetime"&&H&&z(M.key)&&(te=S.currentDataGrouping,H=H.dateTimeLabelFormats||o.common.dateTimeLabelFormats,te?(P=H[te.unitName],te.count===1?E=P[0]:(E=P[1],ie=P[2])):!E&&H&&U.dateTime&&(E=U.dateTime.getXDateFormat(M.x,P.dateTimeLabelFormats)),E=G.dateFormat(E,M.key),ie&&(E+=G.dateFormat(ie,M.key+te.totalRange-1)),S.chart.styledMode&&($=this.styledModeFormat($)),L.text=R($,{point:I(M.point,{key:E}),series:S},O),L.preventDefault())}const{format:R}=h,{addEvent:J,extend:I,isNumber:z}=s,Z=[];return h={compose:function(L,O,G){r.compose(L),d.compose(O),G&&s.pushUnique(Z,G)&&J(G,"headerFormatter",b)},groupData:d.groupData},h}),n(t,"masters/modules/datagrouping.src.js",[t["Core/Globals.js"],t["Extensions/DataGrouping/ApproximationDefaults.js"],t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGrouping.js"]],function(r,o,d,h){r.dataGrouping={approximationDefaults:o,approximations:d},h.compose(r.Axis,r.Series,r.Tooltip)}),n(t,"Series/DataModifyComposition.js",[t["Core/Axis/Axis.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(r,o,d,h){const{prototype:{tooltipFormatter:s}}=o,{addEvent:b,arrayMax:R,arrayMin:J,correctFloat:I,defined:z,isArray:Z,isNumber:L,isString:O,pick:G}=h;var M;return function(S){function P(m,g,x){this.isXAxis||(this.series.forEach(function(k){m==="compare"&&typeof g!="boolean"?k.setCompare(g,!1):m!=="cumulative"||O(g)||k.setCumulative(g,!1)}),G(x,!0)&&this.chart.redraw())}function H(m){const g=this,{numberFormatter:x}=g.series.chart,k=function(q){m=m.replace("{point."+q+"}",(0<g[q]&&q==="change"?"+":"")+x(g[q],G(g.series.tooltipOptions.changeDecimals,2)))};return z(g.change)&&k("change"),z(g.cumulativeSum)&&k("cumulativeSum"),s.apply(this,[m])}function U(){const m=this.options.compare;let g;(m==="percent"||m==="value"||this.options.cumulative)&&(g=new D(this),m==="percent"||m==="value"?g.initCompare(m):g.initCumulative()),this.dataModify=g}function E(m){m=m.dataExtremes;const g=m.activeYData;if(this.dataModify&&m){let x;this.options.compare?x=[this.dataModify.modifyValue(m.dataMin),this.dataModify.modifyValue(m.dataMax)]:this.options.cumulative&&Z(g)&&2<=g.length&&(x=D.getCumulativeExtremes(g)),x&&(m.dataMin=J(x),m.dataMax=R(x))}}function ie(m,g){this.options.compare=this.userOptions.compare=m,this.update({},G(g,!0)),!this.dataModify||m!=="value"&&m!=="percent"?this.points.forEach(x=>{delete x.change}):this.dataModify.initCompare(m)}function te(){if(this.xAxis&&this.processedYData&&this.dataModify){const m=this.processedXData,g=this.processedYData,x=g.length,k=this.options.compareStart===!0?0:1;let q=-1,Y;for(this.pointArrayMap&&(q=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),Y=0;Y<x-k;Y++){const K=g[Y]&&-1<q?g[Y][q]:g[Y];if(L(K)&&K!==0&&m[Y+k]>=(this.xAxis.min||0)){this.dataModify.compareValue=K;break}}}}function $(m,g){this.setModifier("compare",m,g)}function V(m,g){m=G(m,!1),this.options.cumulative=this.userOptions.cumulative=m,this.update({},G(g,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(x=>{delete x.cumulativeSum})}function j(m,g){this.setModifier("cumulative",m,g)}const w=[];S.compose=function(m,g,x){if(h.pushUnique(w,m)){const k=m.prototype;k.setCompare=ie,k.setCumulative=V,b(m,"afterInit",U),b(m,"afterGetExtremes",E),b(m,"afterProcessData",te)}return h.pushUnique(w,g)&&(g=g.prototype,g.setCompare=$,g.setModifier=P,g.setCumulative=j),h.pushUnique(w,x)&&(x.prototype.tooltipFormatter=H),m};class D{constructor(g){this.series=g}modifyValue(){return 0}static getCumulativeExtremes(g){let x=1/0,k=-1/0;return g.reduce((q,Y)=>(Y=q+Y,x=Math.min(x,Y,q),k=Math.max(k,Y,q),Y)),[x,k]}initCompare(g){this.modifyValue=function(x,k){x===null&&(x=0);const q=this.compareValue;return typeof x<"u"&&typeof q<"u"?(x=g==="value"?x-q:x/q*100-(this.series.options.compareBase===100?0:100),typeof k<"u"&&(k=this.series.points[k])&&(k.change=x),x):0}}initCumulative(){this.modifyValue=function(g,x){if(g===null&&(g=0),g!==void 0&&x!==void 0){const k=0<x?this.series.points[x-1]:null;return k&&k.cumulativeSum&&(g=I(k.cumulativeSum+g)),(x=this.series.points[x])&&(x.cumulativeSum=g),g}return 0}}}S.Additions=D}(M||(M={})),M}),n(t,"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o){function d(){this.navigatorAxis||(this.navigatorAxis=new L(this))}function h(O){var G=this.chart.options,M=G.navigator;const S=this.navigatorAxis,P=G.chart.zooming.pinchType,H=G.rangeSelector;G=G.chart.zooming.type,this.isXAxis&&(M&&M.enabled||H&&H.enabled)&&(G==="y"?O.zoomed=!1:(!s&&G==="xy"||s&&P==="xy")&&this.options.range&&(M=S.previousZoom,J(O.newMin)?S.previousZoom=[this.min,this.max]:M&&(O.newMin=M[0],O.newMax=M[1],S.previousZoom=void 0))),typeof O.zoomed<"u"&&O.preventDefault()}const{isTouchDevice:s}=r,{addEvent:b,correctFloat:R,defined:J,isNumber:I,pick:z}=o,Z=[];class L{static compose(G){o.pushUnique(Z,G)&&(G.keepProps.push("navigatorAxis"),b(G,"init",d),b(G,"zoom",h))}constructor(G){this.axis=G}destroy(){this.axis=void 0}toFixedRange(G,M,S,P){var H=this.axis,U=H.chart;G=z(S,H.translate(G,!0,!H.horiz)),M=z(P,H.translate(M,!0,!H.horiz)),U=U&&U.fixedRange,H=(H.pointRange||0)/2;const E=U&&(M-G)/U;return J(S)||(G=R(G+H)),J(P)||(M=R(M-H)),.7<E&&1.3>E&&(P?G=M-U:M=G+U),I(G)&&I(M)||(G=M=void 0),{min:G,max:M}}}return L}),n(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],function(r,o){return{parse:r}=r,{seriesTypes:o}=o,o={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:r("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof o.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}},o}),n(t,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(r,o,d,h,s={}){return r=s.width?s.width/2:d,o=Math.round(r/3)+.5,h=s.height||h,[["M",-r-1,.5],["L",r,.5],["L",r,h+.5],["L",-r-1,h+.5],["L",-r-1,.5],["M",-o,4],["L",-o,h-3],["M",o-1,4],["L",o-1,h-3]]}}}),n(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,b,R){function J(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function I(){var w;const D=this.legend,m=this.navigator;let g,x,k;if(m){g=D&&D.options,x=m.xAxis,k=m.yAxis;const{scrollbarHeight:q,scrollButtonSize:Y}=m;this.inverted?(m.left=m.opposite?this.chartWidth-q-m.height:this.spacing[3]+q,m.top=this.plotTop+Y):(m.left=$(x.left,this.plotLeft+Y),m.top=m.navigatorOptions.top||this.chartHeight-m.height-q-(((w=this.scrollbar)===null||w===void 0?void 0:w.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(g&&g.verticalAlign==="bottom"&&g.layout!=="proximate"&&g.enabled&&!g.floating?D.legendHeight+$(g.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),x&&k&&(this.inverted?x.options.left=k.options.left=m.left:x.options.top=k.options.top=m.top,x.setAxisSize(),k.setAxisSize())}}function z(w){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new j(this),$(w.redraw,!0)&&this.redraw(w.animation))}function Z(){const w=this.options;(w.navigator.enabled||w.scrollbar.enabled)&&(this.scroller=this.navigator=new j(this))}function L(){const w=this.options,D=w.navigator,m=w.rangeSelector;if((D&&D.enabled||m&&m.enabled)&&(!H&&w.chart.zooming.type==="x"||H&&w.chart.zooming.pinchType==="x"))return!1}function O(w){const D=w.navigator;D&&w.xAxis[0]&&(w=w.xAxis[0].getExtremes(),D.render(w.min,w.max))}function G(w){const D=w.options.navigator||{},m=w.options.scrollbar||{};this.navigator||this.scroller||!D.enabled&&!m.enabled||(te(!0,this.options.navigator,D),te(!0,this.options.scrollbar,m),delete w.options.navigator,delete w.options.scrollbar)}function M(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}const{defaultOptions:S,setOptions:P}=r,{isTouchDevice:H}=o,{getRendererType:U}=b,{addEvent:E,extend:ie,merge:te,pick:$}=R,V=[];let j;return{compose:function(w,D,m,g){d.compose(w),j=m,R.pushUnique(V,D)&&(D.prototype.callbacks.push(O),E(D,"afterAddSeries",J),E(D,"afterSetChartSize",I),E(D,"afterUpdate",z),E(D,"beforeRender",Z),E(D,"beforeShowResetZoom",L),E(D,"update",G)),R.pushUnique(V,g)&&E(g,"afterUpdate",M),R.pushUnique(V,U)&&ie(U().prototype.symbols,s),R.pushUnique(V,P)&&ie(S,{navigator:h})}}}),n(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Utilities.js"]],function(r){const{addEvent:o,defined:d,pick:h}=r,s=[];class b{static compose(J,I){if(!r.pushUnique(s,J))return J;const z=Z=>{const L=h(Z.options&&Z.options.min,Z.min),O=h(Z.options&&Z.options.max,Z.max);return{axisMin:L,axisMax:O,scrollMin:d(Z.dataMin)?Math.min(L,Z.min,Z.dataMin,h(Z.threshold,1/0)):L,scrollMax:d(Z.dataMax)?Math.max(O,Z.max,Z.dataMax,h(Z.threshold,-1/0)):O}};return o(J,"afterInit",function(){const Z=this;Z.options&&Z.options.scrollbar&&Z.options.scrollbar.enabled&&(Z.options.scrollbar.vertical=!Z.horiz,Z.options.startOnTick=Z.options.endOnTick=!1,Z.scrollbar=new I(Z.chart.renderer,Z.options.scrollbar,Z.chart),o(Z.scrollbar,"changed",function(L){let{axisMin:O,axisMax:G,scrollMin:M,scrollMax:S}=z(Z);var P=S-M;let H;d(O)&&d(G)&&(Z.horiz&&!Z.reversed||!Z.horiz&&Z.reversed?(H=M+P*this.to,P=M+P*this.from):(H=M+P*(1-this.from),P=M+P*(1-this.to)),this.shouldUpdateExtremes(L.DOMType)?Z.setExtremes(P,H,!0,L.DOMType==="mousemove"||L.DOMType==="touchmove"?!1:void 0,L):this.setRange(this.from,this.to))}))}),o(J,"afterRender",function(){let{scrollMin:Z,scrollMax:L}=z(this),O=this.scrollbar;var G=this.axisTitleMargin+(this.titleOffset||0),M=this.chart.scrollbarsOffsets;let S=this.options.margin||0;O&&(this.horiz?(this.opposite||(M[1]+=G),O.position(this.left,this.top+this.height+2+M[1]-(this.opposite?S:0),this.width,this.height),this.opposite||(M[1]+=S),G=1):(this.opposite&&(M[0]+=G),O.position(O.options.opposite?this.left+this.width+2+M[0]-(this.opposite?0:S):this.opposite?0:S,this.top,this.width,this.height),this.opposite&&(M[0]+=S),G=0),M[G]+=O.size+(O.options.margin||0),isNaN(Z)||isNaN(L)||!d(this.min)||!d(this.max)||this.min===this.max?O.setRange(0,1):(M=(this.min-Z)/(L-Z),G=(this.max-Z)/(L-Z),this.horiz&&!this.reversed||!this.horiz&&this.reversed?O.setRange(M,G):O.setRange(1-G,1-M)))}),o(J,"afterGetOffset",function(){const Z=this.scrollbar;var L=Z&&!Z.options.opposite;L=this.horiz?2:L?3:1,Z&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[L]+=Z.size+(Z.options.margin||0))}),J}}return b}),n(t,"Stock/Scrollbar/ScrollbarDefaults.js",[t["Core/Globals.js"]],function(r){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),n(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){const{defaultOptions:b}=r,{addEvent:R,correctFloat:J,defined:I,destroyObjectProperties:z,fireEvent:Z,merge:L,pick:O,removeEvent:G}=s;class M{static compose(P){d.compose(P,M)}static swapXY(P,H){return H&&P.forEach(U=>{const E=U.length;let ie;for(let te=0;te<E;te+=2)ie=U[te+1],typeof ie=="number"&&(U[te+1]=U[te+2],U[te+2]=ie)}),P}constructor(P,H,U){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(P,H,U)}addEvents(){var P=this.options.inverted?[1,0]:[0,1];const H=this.scrollbarButtons,U=this.scrollbarGroup.element,E=this.track.element,ie=this.mouseDownHandler.bind(this),te=this.mouseMoveHandler.bind(this),$=this.mouseUpHandler.bind(this);P=[[H[P[0]].element,"click",this.buttonToMinClick.bind(this)],[H[P[1]].element,"click",this.buttonToMaxClick.bind(this)],[E,"click",this.trackClick.bind(this)],[U,"mousedown",ie],[U.ownerDocument,"mousemove",te],[U.ownerDocument,"mouseup",$]],o.hasTouch&&P.push([U,"touchstart",ie],[U.ownerDocument,"touchmove",te],[U.ownerDocument,"touchend",$]),P.forEach(function(V){R.apply(null,V)}),this._events=P}buttonToMaxClick(P){const H=(this.to-this.from)*O(this.options.step,.2);this.updatePosition(this.from+H,this.to+H),Z(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}buttonToMinClick(P){const H=J(this.to-this.from)*O(this.options.step,.2);this.updatePosition(J(this.from-H),J(this.to-H)),Z(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}cursorToScrollbarPosition(P){var H=this.options;return H=H.minWidth>this.calculatedWidth?H.minWidth:0,{chartX:(P.chartX-this.x-this.xOffset)/(this.barWidth-H),chartY:(P.chartY-this.y-this.yOffset)/(this.barWidth-H)}}destroy(){const P=this,H=P.chart.scroller;P.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(U){P[U]&&P[U].destroy&&(P[U]=P[U].destroy())}),H&&P===H.scrollbar&&(H.scrollbar=null,z(H.scrollbarButtons))}drawScrollbarButton(P){const H=this.renderer,U=this.scrollbarButtons,E=this.options,ie=this.size;var te=H.g().add(this.group);U.push(te),E.buttonsEnabled&&(te=H.rect().addClass("highcharts-scrollbar-button").add(te),this.chart.styledMode||te.attr({stroke:E.buttonBorderColor,"stroke-width":E.buttonBorderWidth,fill:E.buttonBackgroundColor}),te.attr(te.crisp({x:-.5,y:-.5,width:ie+1,height:ie+1,r:E.buttonBorderRadius},te.strokeWidth())),P=H.path(M.swapXY([["M",ie/2+(P?-1:1),ie/2-3],["L",ie/2+(P?-1:1),ie/2+3],["L",ie/2+(P?2:-2),ie/2]],E.vertical)).addClass("highcharts-scrollbar-arrow").add(U[P]),this.chart.styledMode||P.attr({fill:E.buttonArrowColor}))}init(P,H,U){this.scrollbarButtons=[],this.renderer=P,this.userOptions=H,this.options=L(h,b.scrollbar,H),this.options.margin=O(this.options.margin,10),this.chart=U,this.size=O(this.options.size,this.options.height),H.enabled&&(this.render(),this.addEvents())}mouseDownHandler(P){P=this.chart.pointer.normalize(P),P=this.cursorToScrollbarPosition(P),this.chartX=P.chartX,this.chartY=P.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(P){var H=this.chart.pointer.normalize(P),U=this.options.vertical?"chartY":"chartX";const E=this.initPositions||[];!this.grabbedCenter||P.touches&&P.touches[0][U]===0||(H=this.cursorToScrollbarPosition(H)[U],U=this[U],U=H-U,this.hasDragged=!0,this.updatePosition(E[0]+U,E[1]+U),this.hasDragged&&Z(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:P.type,DOMEvent:P}))}mouseUpHandler(P){this.hasDragged&&Z(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:P.type,DOMEvent:P}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(P,H,U,E){const{buttonsEnabled:ie,margin:te=0,vertical:$}=this.options,V=this.rendered?"animate":"attr";let j=E,w=0;this.group.show(),this.x=P,this.y=H+this.trackBorderWidth,this.width=U,this.height=E,this.xOffset=j,this.yOffset=w,$?(this.width=this.yOffset=U=this.size,this.xOffset=j=0,this.yOffset=w=ie?this.size:0,this.barWidth=E-(ie?2*U:0),this.x=P+=te):(this.height=E=this.size,this.xOffset=j=ie?this.size:0,this.barWidth=U-(ie?2*E:0),this.y+=te),this.group[V]({translateX:P,translateY:this.y}),this.track[V]({width:U,height:E}),this.scrollbarButtons[1][V]({translateX:$?0:U-j,translateY:$?E-w:0})}removeEvents(){this._events.forEach(function(P){G.apply(null,P)}),this._events.length=0}render(){const P=this.renderer,H=this.options,U=this.size,E=this.chart.styledMode,ie=P.g("scrollbar").attr({zIndex:H.zIndex}).hide().add();this.group=ie,this.track=P.rect().addClass("highcharts-scrollbar-track").attr({r:H.trackBorderRadius||0,height:U,width:U}).add(ie),E||this.track.attr({fill:H.trackBackgroundColor,stroke:H.trackBorderColor,"stroke-width":H.trackBorderWidth});const te=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-te%2/2,y:-te%2/2}),this.scrollbarGroup=P.g().add(ie),this.scrollbar=P.rect().addClass("highcharts-scrollbar-thumb").attr({height:U-te,width:U-te,r:H.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=P.path(M.swapXY([["M",-3,U/4],["L",-3,2*U/3],["M",0,U/4],["L",0,2*U/3],["M",3,U/4],["L",3,2*U/3]],H.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),E||(this.scrollbar.attr({fill:H.barBackgroundColor,stroke:H.barBorderColor,"stroke-width":H.barBorderWidth}),this.scrollbarRifles.attr({stroke:H.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(P,H){const U=this.options,E=U.vertical;var ie=U.minWidth,te=this.barWidth;const $=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(I(te)){var V=te*Math.min(H,1);P=Math.max(P,0);var j=Math.ceil(te*P);this.calculatedWidth=V=J(V-j),V<ie&&(j=(te-ie+V)*P,V=ie),ie=Math.floor(j+this.xOffset+this.yOffset),te=V/2-.5,this.from=P,this.to=H,E?(this.scrollbarGroup[$]({translateY:ie}),this.scrollbar[$]({height:V}),this.scrollbarRifles[$]({translateY:te}),this.scrollbarTop=ie,this.scrollbarLeft=0):(this.scrollbarGroup[$]({translateX:ie}),this.scrollbar[$]({width:V}),this.scrollbarRifles[$]({translateX:te}),this.scrollbarLeft=ie,this.scrollbarTop=0),12>=V?this.scrollbarRifles.hide():this.scrollbarRifles.show(),U.showFull===!1&&(0>=P&&1<=H?this.group.hide():this.group.show()),this.rendered=!0}}shouldUpdateExtremes(P){return O(this.options.liveRedraw,o.svg&&!o.isTouchDevice&&!this.chart.boosted)||P==="mouseup"||P==="touchend"||!I(P)}trackClick(P){const H=this.chart.pointer.normalize(P),U=this.to-this.from,E=this.y+this.scrollbarTop,ie=this.x+this.scrollbarLeft;this.options.vertical&&H.chartY>E||!this.options.vertical&&H.chartX>ie?this.updatePosition(this.from+U,this.to+U):this.updatePosition(this.from-U,this.to-U),Z(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:P})}update(P){this.destroy(),this.init(this.chart.renderer,L(!0,this.options,P),this.chart)}updatePosition(P,H){1<H&&(P=J(1-J(H-P)),H=1),0>P&&(H=J(H-P),P=0),this.from=P,this.to=H}}return M.defaultOptions=h,b.scrollbar=L(!0,M.defaultOptions,b.scrollbar),M}),n(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,b,R){function J(D,...m){if(m=[].filter.call(m,ie),m.length)return Math[D].apply(0,m)}const{defaultOptions:I}=o,{hasTouch:z,isTouchDevice:Z}=d,{addEvent:L,clamp:O,correctFloat:G,defined:M,destroyObjectProperties:S,erase:P,extend:H,find:U,isArray:E,isNumber:ie,merge:te,pick:$,removeEvent:V,splat:j}=R;class w{static compose(m,g,x){s.compose(m,g,w,x)}constructor(m){this.rendered=this.range=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.scrollbarHeight=0,this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.scrollButtonSize=void 0,this.init(m)}drawHandle(m,g,x,k){const q=this.navigatorOptions.handles.height;this.handles[g][k](x?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(m,10)+.5-q)}:{translateX:Math.round(this.left+parseInt(m,10)),translateY:Math.round(this.top+this.height/2-q/2-1)})}drawOutline(m,g,x,k){const q=this.navigatorOptions.maskInside;var Y=this.outline.strokeWidth();const K=Y/2;var le=Y%2/2;const he=this.scrollButtonSize,pe=this.size,F=this.top;Y=this.height;const Q=F-K,ce=F+Y;let ge=this.left;x?(x=F+g+le,g=F+m+le,le=[["M",ge+Y,F-he-le],["L",ge+Y,x],["L",ge,x],["M",ge,g],["L",ge+Y,g],["L",ge+Y,F+pe+he]],q&&le.push(["M",ge+Y,x-K],["L",ge+Y,g+K])):(ge-=he,m+=ge+he-le,g+=ge+he-le,le=[["M",ge,Q],["L",m,Q],["L",m,ce],["M",g,ce],["L",g,Q],["L",ge+pe+2*he,F+K]],q&&le.push(["M",m-K,Q],["L",g+K,Q])),this.outline[k]({d:le})}drawMasks(m,g,x,k){const q=this.left,Y=this.top,K=this.height;let le,he,pe,F;x?(pe=[q,q,q],F=[Y,Y+m,Y+g],he=[K,K,K],le=[m,g-m,this.size-g]):(pe=[q,q+m,q+g],F=[Y,Y,Y],he=[m,g-m,this.size-g],le=[K,K,K]),this.shades.forEach((Q,ce)=>{Q[k]({x:pe[ce],y:F[ce],width:he[ce],height:le[ce]})})}renderElements(){const m=this,g=m.navigatorOptions,x=g.maskInside,k=m.chart,q=k.renderer,Y={cursor:k.inverted?"ns-resize":"ew-resize"},K=m.navigatorGroup=q.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!x,x,!x].forEach((le,he)=>{const pe=q.rect().addClass("highcharts-navigator-mask"+(he===1?"-inside":"-outside")).add(K);k.styledMode||(pe.attr({fill:le?g.maskFill:"rgba(0,0,0,0)"}),he===1&&pe.css(Y)),m.shades[he]=pe}),m.outline=q.path().addClass("highcharts-navigator-outline").add(K),k.styledMode||m.outline.attr({"stroke-width":g.outlineWidth,stroke:g.outlineColor}),g.handles&&g.handles.enabled){const le=g.handles,{height:he,width:pe}=le;[0,1].forEach(F=>{m.handles[F]=q.symbol(le.symbols[F],-pe/2-1,0,pe,he,le),k.inverted&&m.handles[F].attr({rotation:90,rotationOriginX:Math.floor(-pe/2),rotationOriginY:(he+pe)/2}),m.handles[F].attr({zIndex:7-F}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][F]).add(K),k.styledMode||m.handles[F].attr({fill:le.backgroundColor,stroke:le.borderColor,"stroke-width":le.lineWidth}).css(Y)})}}update(m){(this.series||[]).forEach(g=>{g.baseSeries&&delete g.baseSeries.navigatorSeries}),this.destroy(),te(!0,this.chart.options.navigator,m),this.init(this.chart)}render(m,g,x,k){var q=this.chart;const Y=this.xAxis,K=Y.pointRange||0;var le=Y.navigatorAxis.fake?q.xAxis[0]:Y;const he=this.navigatorEnabled;var pe=this.rendered,F=q.inverted;const Q=q.xAxis[0].minRange,ce=q.xAxis[0].options.maxRange,ge=this.scrollButtonSize;let ke=this.scrollbarHeight,re;if(!this.hasDragged||M(x)){if(m=G(m-K/2),g=G(g+K/2),!ie(m)||!ie(g))if(pe)x=0,k=$(Y.width,le.width);else return;this.left=$(Y.left,q.plotLeft+ge+(F?q.plotWidth:0));var ve=this.size=re=$(Y.len,(F?q.plotHeight:q.plotWidth)-2*ge);q=F?ke:re+2*ge,x=$(x,Y.toPixels(m,!0)),k=$(k,Y.toPixels(g,!0)),ie(x)&&Math.abs(x)!==1/0||(x=0,k=q),m=Y.toValue(x,!0),g=Y.toValue(k,!0);var _e=Math.abs(G(g-m));_e<Q?this.grabbedLeft?x=Y.toPixels(g-Q-K,!0):this.grabbedRight&&(k=Y.toPixels(m+Q+K,!0)):M(ce)&&G(_e-K)>ce&&(this.grabbedLeft?x=Y.toPixels(g-ce-K,!0):this.grabbedRight&&(k=Y.toPixels(m+ce+K,!0))),this.zoomedMax=O(Math.max(x,k),0,ve),this.zoomedMin=O(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(x,k),0,ve),this.range=this.zoomedMax-this.zoomedMin,ve=Math.round(this.zoomedMax),x=Math.round(this.zoomedMin),he&&(this.navigatorGroup.attr({visibility:"inherit"}),pe=pe&&!this.hasDragged?"animate":"attr",this.drawMasks(x,ve,F,pe),this.drawOutline(x,ve,F,pe),this.navigatorOptions.handles.enabled&&(this.drawHandle(x,0,F,pe),this.drawHandle(ve,1,F,pe))),this.scrollbar&&(F?(F=this.top-ge,le=this.left-ke+(he||!le.opposite?0:(le.titleOffset||0)+le.axisTitleMargin),ke=re+2*ge):(F=this.top+(he?this.height:-ke),le=this.left-ge),this.scrollbar.position(le,F,q,ke),this.scrollbar.setRange(this.zoomedMin/(re||1),this.zoomedMax/(re||1))),this.rendered=!0}}addMouseEvents(){const m=this,g=m.chart,x=g.container;let k=[],q,Y;m.mouseMoveHandler=q=function(K){m.onMouseMove(K)},m.mouseUpHandler=Y=function(K){m.onMouseUp(K)},k=m.getPartsEvents("mousedown"),k.push(L(g.renderTo,"mousemove",q),L(x.ownerDocument,"mouseup",Y)),z&&(k.push(L(g.renderTo,"touchmove",q),L(x.ownerDocument,"touchend",Y)),k.concat(m.getPartsEvents("touchstart"))),m.eventsToUnbind=k,m.series&&m.series[0]&&k.push(L(m.series[0].xAxis,"foundExtremes",function(){g.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(m){const g=this,x=[];return["shades","handles"].forEach(function(k){g[k].forEach(function(q,Y){x.push(L(q.element,m,function(K){g[k+"Mousedown"](K,Y)}))})}),x}shadesMousedown(m,g){m=this.chart.pointer.normalize(m);const x=this.chart,k=this.xAxis,q=this.zoomedMin,Y=this.size,K=this.range;let le=this.left,he=m.chartX,pe,F;x.inverted&&(he=m.chartY,le=this.top),g===1?(this.grabbedCenter=he,this.fixedWidth=K,this.dragOffset=he-q):(m=he-le-K/2,g===0?m=Math.max(0,m):g===2&&m+K>=Y&&(m=Y-K,this.reversedExtremes?(m-=K,F=this.getUnionExtremes().dataMin):pe=this.getUnionExtremes().dataMax),m!==q&&(this.fixedWidth=K,g=k.navigatorAxis.toFixedRange(m,m+K,F,pe),M(g.min)&&x.xAxis[0].setExtremes(Math.min(g.min,g.max),Math.max(g.min,g.max),!0,null,{trigger:"navigator"})))}handlesMousedown(m,g){this.chart.pointer.normalize(m),m=this.chart;const x=m.xAxis[0],k=this.reversedExtremes;g===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=k?x.min:x.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=k?x.max:x.min),m.fixedRange=null}onMouseMove(m){const g=this;var x=g.chart;const k=g.navigatorSize,q=g.range,Y=g.dragOffset,K=x.inverted;let le=g.left;m.touches&&m.touches[0].pageX===0||(m=x.pointer.normalize(m),x=m.chartX,K&&(le=g.top,x=m.chartY),g.grabbedLeft?(g.hasDragged=!0,g.render(0,0,x-le,g.otherHandlePos)):g.grabbedRight?(g.hasDragged=!0,g.render(0,0,g.otherHandlePos,x-le)):g.grabbedCenter&&(g.hasDragged=!0,x<Y?x=Y:x>k+Y-q&&(x=k+Y-q),g.render(0,0,x-Y,x-Y+q)),g.hasDragged&&g.scrollbar&&$(g.scrollbar.options.liveRedraw,!Z&&!this.chart.boosted)&&(m.DOMType=m.type,setTimeout(function(){g.onMouseUp(m)},0)))}onMouseUp(m){var g=this.chart,x=this.xAxis,k=this.scrollbar;const q=m.DOMEvent||m,Y=g.inverted,K=this.rendered&&!this.hasDragged?"animate":"attr";let le,he;(!this.hasDragged||k&&k.hasDragged)&&m.trigger!=="scrollbar"||(k=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?le=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(he=this.fixedExtreme),this.zoomedMax===this.size&&(he=this.reversedExtremes?k.dataMin:k.dataMax),this.zoomedMin===0&&(le=this.reversedExtremes?k.dataMax:k.dataMin),x=x.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,le,he),M(x.min)&&g.xAxis[0].setExtremes(Math.min(x.min,x.max),Math.max(x.min,x.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:q})),m.DOMType!=="mousemove"&&m.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&ie(this.zoomedMin)&&ie(this.zoomedMax)&&(g=Math.round(this.zoomedMin),m=Math.round(this.zoomedMax),this.shades&&this.drawMasks(g,m,Y,K),this.outline&&this.drawOutline(g,m,Y,K),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(g,0,Y,K),this.drawHandle(m,1,Y,K)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(m){m()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const m=this.baseSeries||[];this.navigatorEnabled&&m[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&m.forEach(function(g){V(g,"updatedData",this.updatedDataHandler)},this),m[0].xAxis&&V(m[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(m){var g=m.options,x=g.navigator||{},k=x.enabled,q=g.scrollbar||{},Y=q.enabled;g=k&&x.height||0;var K=Y&&q.height||0;const le=q.buttonsEnabled&&K||0;this.handles=[],this.shades=[],this.chart=m,this.setBaseSeries(),this.height=g,this.scrollbarHeight=K,this.scrollButtonSize=le,this.scrollbarEnabled=Y,this.navigatorEnabled=k,this.navigatorOptions=x,this.scrollbarOptions=q,this.opposite=$(x.opposite,!(k||!m.inverted));const he=this;k=he.baseSeries,q=m.xAxis.length,Y=m.yAxis.length,K=k&&k[0]&&k[0].xAxis||m.xAxis[0]||{options:{}},m.isDirtyBox=!0,he.navigatorEnabled?(he.xAxis=new r(m,te({breaks:K.options.breaks,ordinal:K.options.ordinal},x.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:q,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},m.inverted?{offsets:[le,0,-le,0],width:g}:{offsets:[0,-le,0,le],height:g})),he.yAxis=new r(m,te(x.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:Y,isInternal:!0,reversed:$(x.yAxis&&x.yAxis.reversed,m.yAxis[0]&&m.yAxis[0].reversed,!1),zoomEnabled:!1},m.inverted?{width:g}:{height:g})),k||x.series.data?he.updateNavigatorSeries(!1):m.series.length===0&&(he.unbindRedraw=L(m,"beforeRedraw",function(){0<m.series.length&&!he.series&&(he.setBaseSeries(),he.unbindRedraw())})),he.reversedExtremes=m.inverted&&!he.xAxis.reversed||!m.inverted&&he.xAxis.reversed,he.renderElements(),he.addMouseEvents()):(he.xAxis={chart:m,navigatorAxis:{fake:!0},translate:function(pe,F){var Q=m.xAxis[0];const ce=Q.getExtremes(),ge=Q.len-2*le,ke=J("min",Q.options.min,ce.dataMin);return Q=J("max",Q.options.max,ce.dataMax)-ke,F?pe*Q/ge+ke:ge*(pe-ke)/Q},toPixels:function(pe){return this.translate(pe)},toValue:function(pe){return this.translate(pe,!0)}},he.xAxis.navigatorAxis.axis=he.xAxis,he.xAxis.navigatorAxis.toFixedRange=h.prototype.toFixedRange.bind(he.xAxis.navigatorAxis)),m.options.scrollbar.enabled&&(x=te(m.options.scrollbar,{vertical:m.inverted}),!ie(x.margin)&&he.navigatorEnabled&&(x.margin=m.inverted?-3:3),m.scrollbar=he.scrollbar=new b(m.renderer,x,m),L(he.scrollbar,"changed",function(pe){var F=he.size;const Q=F*this.to;F*=this.from,he.hasDragged=he.scrollbar.hasDragged,he.render(0,0,F,Q),this.shouldUpdateExtremes(pe.DOMType)&&setTimeout(function(){he.onMouseUp(pe)})})),he.addBaseSeriesEvents(),he.addChartEvents()}getUnionExtremes(m){const g=this.chart.xAxis[0],x=this.xAxis,k=x.options,q=g.options;let Y;return m&&g.dataMin===null||(Y={dataMin:$(k&&k.min,J("min",q.min,g.dataMin,x.dataMin,x.min)),dataMax:$(k&&k.max,J("max",q.max,g.dataMax,x.dataMax,x.max))}),Y}setBaseSeries(m,g){const x=this.chart,k=this.baseSeries=[];m=m||x.options&&x.options.navigator.baseSeries||(x.series.length?U(x.series,q=>!q.options.isInternal).index:0),(x.series||[]).forEach((q,Y)=>{q.options.isInternal||!q.options.showInNavigator&&(Y!==m&&q.options.id!==m||q.options.showInNavigator===!1)||k.push(q)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,g)}updateNavigatorSeries(m,g){const x=this,k=x.chart,q=x.baseSeries,Y={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},K=x.series=(x.series||[]).filter(Q=>{const ce=Q.baseSeries;return 0>q.indexOf(ce)?(ce&&(V(ce,"updatedData",x.updatedDataHandler),delete ce.navigatorSeries),Q.chart&&Q.destroy(),!1):!0});let le,he,pe=x.navigatorOptions.series,F;q&&q.length&&q.forEach(Q=>{const ce=Q.navigatorSeries;var ge=H({color:Q.color,visible:Q.visible},E(pe)?I.navigator.series:pe);ce&&x.navigatorOptions.adaptToUpdatedData===!1||(Y.name="Navigator "+q.length,le=Q.options||{},F=le.navigatorOptions||{},ge.dataLabels=j(ge.dataLabels),he=te(le,Y,ge,F),he.pointRange=$(ge.pointRange,F.pointRange,I.plotOptions[he.type||"line"].pointRange),ge=F.data||ge.data,x.hasNavigatorData=x.hasNavigatorData||!!ge,he.data=ge||le.data&&le.data.slice(0),ce&&ce.options?ce.update(he,g):(Q.navigatorSeries=k.initSeries(he),Q.navigatorSeries.baseSeries=Q,K.push(Q.navigatorSeries)))}),(pe.data&&(!q||!q.length)||E(pe))&&(x.hasNavigatorData=!1,pe=j(pe),pe.forEach((Q,ce)=>{Y.name="Navigator "+(K.length+1),he=te(I.navigator.series,{color:k.series[ce]&&!k.series[ce].options.isInternal&&k.series[ce].color||k.options.colors[ce]||k.options.colors[0]},Y,Q),he.data=Q.data,he.data&&(x.hasNavigatorData=!0,K.push(k.initSeries(he)))})),m&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const m=this,g=m.baseSeries||[];g[0]&&g[0].xAxis&&g[0].eventsToUnbind.push(L(g[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),g.forEach(x=>{x.eventsToUnbind.push(L(x,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),x.eventsToUnbind.push(L(x,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&x.xAxis&&x.eventsToUnbind.push(L(x,"updatedData",this.updatedDataHandler)),x.eventsToUnbind.push(L(x,"remove",function(){this.navigatorSeries&&(P(m.series,this.navigatorSeries),M(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(m){return this.baseSeries.reduce(function(g,x){return Math.min(g,x.xData&&x.xData.length?x.xData[0]:g)},m)}modifyNavigatorAxisExtremes(){const m=this.xAxis;if(typeof m.getExtremes<"u"){const g=this.getUnionExtremes(!0);!g||g.dataMin===m.min&&g.dataMax===m.max||(m.min=g.dataMin,m.max=g.dataMax)}}modifyBaseAxisExtremes(){const m=this.chart.navigator;var g=this.getExtremes();const x=g.dataMin,k=g.dataMax;g=g.max-g.min;const q=m.stickToMin,Y=m.stickToMax,K=$(this.options.overscroll,0),le=m.series&&m.series[0],he=!!this.setExtremes;let pe,F;this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton"||(q&&(F=x,pe=F+g),Y&&(pe=k+K,q||(F=Math.max(x,pe-g,m.getBaseSeriesMin(le&&le.xData?le.xData[0]:-Number.MAX_VALUE)))),he&&(q||Y)&&ie(F)&&(this.min=this.userMin=F,this.max=this.userMax=pe)),m.stickToMin=m.stickToMax=null}updatedDataHandler(){const m=this.chart.navigator,g=this.navigatorSeries;m.stickToMax=$(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,m.reversedExtremes?Math.round(m.zoomedMin)===0:Math.round(m.zoomedMax)>=Math.round(m.size)),m.stickToMin=m.shouldStickToMin(this,m),g&&!m.hasNavigatorData&&(g.options.pointStart=this.xData[0],g.setData(this.options.data,!1,null,!1))}shouldStickToMin(m,g){g=g.getBaseSeriesMin(m.xData[0]);var x=m.xAxis;m=x.max;const k=x.min;return x=x.options.range,ie(m)&&ie(k)?x&&0<m-g?m-g<x:k<=g:!1}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(L(this.chart,"redraw",function(){const m=this.navigator,g=m&&(m.baseSeries&&m.baseSeries[0]&&m.baseSeries[0].xAxis||this.xAxis[0]);g&&m.render(g.min,g.max)}),L(this.chart,"getMargins",function(){let m=this.navigator,g=m.opposite?"plotTop":"marginBottom";this.inverted&&(g=m.opposite?"marginRight":"plotLeft"),this[g]=(this[g]||0)+(m.navigatorEnabled||!this.inverted?m.height+m.scrollbarHeight:0)+m.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(P(this.chart.xAxis,this.xAxis),P(this.chart.axes,this.xAxis)),this.yAxis&&(P(this.chart.yAxis,this.yAxis),P(this.chart.axes,this.yAxis)),(this.series||[]).forEach(m=>{m.destroy&&m.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(m=>{this[m]&&this[m].destroy&&this[m].destroy(),this[m]=null}),[this.handles].forEach(m=>{S(m)})}}return w}),n(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),n(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(r,o,d){function h(){const V=this.range,j=V.type,w=this.max,D=this.chart.time,m=function(q,Y){const K=j==="year"?"FullYear":"Month",le=new D.Date(q),he=D.get(K,le);return D.set(K,le,he+Y),he===D.get(K,le)&&D.set("Date",le,0),le.getTime()-q};let g,x;H(V)?(g=w-V,x=V):V&&(g=w+m(w,-(V.count||1)),this.chart&&(this.chart.fixedRange=w-g));const k=E(this.dataMin,Number.MIN_VALUE);return H(g)||(g=k),g<=k&&(g=k,typeof x>"u"&&(x=m(g,V.count)),this.newMax=Math.min(g+x,E(this.dataMax,Number.MAX_VALUE))),H(w)?!H(V)&&V&&V._offsetMin&&(g+=V._offsetMin):g=void 0,g}function s(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new $(this))}function b(){var V=this.axes;const j=this.rangeSelector;j&&(H(j.deferredYTDClick)&&(j.clickButton(j.deferredYTDClick),delete j.deferredYTDClick),V.forEach(w=>{w.updateNames(),w.setScale()}),this.getAxisMargins(),j.render(),V=j.options.verticalAlign,j.options.floating||(V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0)))}function R(V){let j,w,D,m;const g=V.rangeSelector,x=()=>{g&&(j=V.xAxis[0].getExtremes(),w=V.legend,m=g&&g.options.verticalAlign,H(j.min)&&g.render(j.min,j.max),w.display&&m==="top"&&m===w.options.verticalAlign&&(D=U(V.spacingBox),D.y=w.options.layout==="vertical"?V.plotTop:D.y+g.getHeight(),w.group.placed=!1,w.align(D)))};g&&(P(ie,k=>k[0]===V)||ie.push([V,[G(V.xAxis[0],"afterSetExtremes",function(k){g&&g.render(k.min,k.max)}),G(V,"redraw",x)]]),x())}function J(){for(let V=0,j=ie.length;V<j;++V){const w=ie[V];if(w[0]===this){w[1].forEach(D=>D()),ie.splice(V,1);break}}}function I(){var V=this.rangeSelector;V&&(V=V.getHeight(),this.extraTopMargin&&(this.plotTop+=V),this.extraBottomMargin&&(this.marginBottom+=V))}function z(){var V=this.rangeSelector;V&&!V.options.floating&&(V.render(),V=V.options.verticalAlign,V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0))}function Z(V){var j=V.options.rangeSelector;V=this.extraBottomMargin;const w=this.extraTopMargin;let D=this.rangeSelector;j&&j.enabled&&!M(D)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=D=new $(this)),this.extraTopMargin=this.extraBottomMargin=!1,D&&(R(this),j=j&&j.verticalAlign||D.options&&D.options.verticalAlign,D.options.floating||(j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==V||this.extraTopMargin!==w)&&(this.isDirtyBox=!0)}const{defaultOptions:L,setOptions:O}=r,{addEvent:G,defined:M,extend:S,find:P,isNumber:H,merge:U,pick:E}=d,ie=[],te=[];let $;return{compose:function(V,j,w){$=w,d.pushUnique(te,V)&&(V.prototype.minFromRange=h),d.pushUnique(te,j)&&(G(j,"afterGetContainer",s),G(j,"beforeRender",b),G(j,"destroy",J),G(j,"getMargins",I),G(j,"render",z),G(j,"update",Z),j.prototype.callbacks.push(R)),d.pushUnique(te,O)&&(S(L,{rangeSelector:o.rangeSelector}),S(L.lang,o.lang))}}}),n(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,b){function R(j){if(j.indexOf("%L")!==-1)return"text";const w="aAdewbBmoyY".split("").some(m=>j.indexOf("%"+m)!==-1),D="HkIlMS".split("").some(m=>j.indexOf("%"+m)!==-1);return w&&D?"datetime-local":w?"date":D?"time":"text"}const{defaultOptions:J}=o,{addEvent:I,createElement:z,css:Z,defined:L,destroyObjectProperties:O,discardElement:G,extend:M,fireEvent:S,isNumber:P,merge:H,objectEach:U,pad:E,pick:ie,pInt:te,splat:$}=b;class V{static compose(w,D){h.compose(w,D,V)}constructor(w){this.buttons=void 0,this.buttonOptions=V.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=w,this.init(w)}clickButton(w,D){const m=this.chart,g=this.buttonOptions[w],x=m.xAxis[0];var k=m.scroller&&m.scroller.getUnionExtremes()||x||{},q=g.type;const Y=g.dataGrouping;let K=k.dataMin,le=k.dataMax,he,pe=x&&Math.round(Math.min(x.max,ie(le,x.max))),F;k=g._range;let Q,ce,ge,ke=!0;if(K!==null&&le!==null){if(m.fixedRange=k,this.setSelected(w),Y&&(this.forcedDataGrouping=!0,r.prototype.setDataGrouping.call(x||{chart:this.chart},Y,!1),this.frozenStates=g.preserveDataGrouping),q==="month"||q==="year")x?(q={range:g,max:pe,chart:m,dataMin:K,dataMax:le},he=x.minFromRange.call(q),P(q.newMax)&&(pe=q.newMax),ke=!1):k=g;else if(k)he=Math.max(pe-k,K),pe=Math.min(he+k,le),ke=!1;else if(q==="ytd")if(x)(typeof le>"u"||typeof K>"u")&&(K=Number.MAX_VALUE,le=Number.MIN_VALUE,m.series.forEach(re=>{(re=re.xData)&&(K=Math.min(re[0],K),le=Math.max(re[re.length-1],le))}),D=!1),q=this.getYTDExtremes(le,K,m.time.useUTC),he=Q=q.min,pe=q.max;else{this.deferredYTDClick=w;return}else q==="all"&&x&&(m.navigator&&m.navigator.baseSeries[0]&&(m.navigator.baseSeries[0].xAxis.options.range=void 0),he=K,pe=le);ke&&g._offsetMin&&L(he)&&(he+=g._offsetMin),g._offsetMax&&L(pe)&&(pe+=g._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=w+1),x?x.setExtremes(he,pe,ie(D,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:g}):(F=$(m.options.xAxis)[0],ge=F.range,F.range=k,ce=F.min,F.min=Q,I(m,"load",function(){F.range=ge,F.min=ce})),S(this,"afterBtnClick")}}setSelected(w){this.selected=this.options.selected=w}init(w){const D=this,m=w.options.rangeSelector,g=m.buttons||D.defaultButtons.slice(),x=m.selected,k=function(){const q=D.minInput,Y=D.maxInput;q&&q.blur&&S(q,"blur"),Y&&Y.blur&&S(Y,"blur")};D.chart=w,D.options=m,D.buttons=[],D.buttonOptions=g,this.eventsToUnbind=[],this.eventsToUnbind.push(I(w.container,"mousedown",k)),this.eventsToUnbind.push(I(w,"resize",k)),g.forEach(D.computeButtonRange),typeof x<"u"&&g[x]&&this.clickButton(x,!1),this.eventsToUnbind.push(I(w,"load",function(){w.xAxis&&w.xAxis[0]&&I(w.xAxis[0],"setExtremes",function(q){this.max-this.min!==w.fixedRange&&q.trigger!=="rangeSelectorButton"&&q.trigger!=="updatedData"&&D.forcedDataGrouping&&!D.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const w=this;var D=this.chart;const m=this.dropdown,g=D.xAxis[0],x=Math.round(g.max-g.min),k=!g.hasVisibleSeries,q=D.scroller&&D.scroller.getUnionExtremes()||g,Y=q.dataMin,K=q.dataMax;D=w.getYTDExtremes(K,Y,D.time.useUTC);const le=D.min,he=D.max,pe=w.selected,F=w.options.allButtonsEnabled,Q=w.buttons;let ce=P(pe);w.buttonOptions.forEach((ge,ke)=>{var re=ge._range,ve=ge.type,_e=ge.count||1;const oe=Q[ke],ye=ge._offsetMax-ge._offsetMin,Te=ke===pe,Oe=re>K-Y,Le=re<g.minRange;ge=0;let Ue=!1,nt=!1;re=re===x,(ve==="month"||ve==="year")&&x+36e5>=864e5*{month:28,year:365}[ve]*_e-ye&&x-36e5<=864e5*{month:31,year:366}[ve]*_e+ye?re=!0:ve==="ytd"?(re=he-le+ye===x,Ue=!Te):ve==="all"&&(re=g.max-g.min>=K-Y,nt=!Te&&ce&&re),ve=!F&&(Oe||Le||nt||k),_e=Te&&re||re&&!ce&&!Ue||Te&&w.frozenStates,ve?ge=3:_e&&(ce=!0,ge=2),oe.state!==ge&&(oe.setState(ge),m&&(m.options[ke+1].disabled=ve,ge===2&&(m.selectedIndex=ke+1)),ge===0&&pe===ke&&w.setSelected())})}computeButtonRange(w){const D=w.type,m=w.count||1,g={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};g[D]?w._range=g[D]*m:(D==="month"||D==="year")&&(w._range=864e5*{month:30,year:365}[D]*m),w._offsetMin=ie(w.offsetMin,0),w._offsetMax=ie(w.offsetMax,0),w._range+=w._offsetMax-w._offsetMin}getInputValue(w){w=w==="min"?this.minInput:this.maxInput;const D=this.chart.options.rangeSelector,m=this.chart.time;return w?(w.type==="text"&&D.inputDateParser||this.defaultInputDateParser)(w.value,m.useUTC,m):0}setInputValue(w,D){const m=this.options,g=this.chart.time,x=w==="min"?this.minInput:this.maxInput;if(w=w==="min"?this.minDateBox:this.maxDateBox,x){var k=x.getAttribute("data-hc-time");k=L(k)?Number(k):void 0,L(D)&&(L(k)&&x.setAttribute("data-hc-time-previous",k),x.setAttribute("data-hc-time",D),k=D),x.value=g.dateFormat(this.inputTypeFormats[x.type]||m.inputEditDateFormat,k),w&&w.attr({text:g.dateFormat(m.inputDateFormat,k)})}}setInputExtremes(w,D,m){if(w=w==="min"?this.minInput:this.maxInput){const g=this.inputTypeFormats[w.type],x=this.chart.time;g&&(D=x.dateFormat(g,D),w.min!==D&&(w.min=D),m=x.dateFormat(g,m),w.max!==m&&(w.max=m))}}showInput(w){const D=w==="min"?this.minDateBox:this.maxDateBox;if((w=w==="min"?this.minInput:this.maxInput)&&D&&this.inputGroup){const m=w.type==="text",{translateX:g,translateY:x}=this.inputGroup,{inputBoxWidth:k}=this.options;Z(w,{width:m?D.width+(k?-2:20)+"px":"auto",height:D.height-2+"px",border:"2px solid silver"}),m&&k?Z(w,{left:g+D.x+"px",top:x+"px"}):Z(w,{left:Math.min(Math.round(D.x+g-(w.offsetWidth-D.width)/2),this.chart.chartWidth-w.offsetWidth)+"px",top:x-(w.offsetHeight-D.height)/2+"px"})}}hideInput(w){(w=w==="min"?this.minInput:this.maxInput)&&Z(w,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(w,D,m){var g=w.split("/").join("-").split(" ").join("T");if(g.indexOf("T")===-1&&(g+="T00:00"),D)g+="Z";else{var x;(x=d.isSafari)&&(x=g,x=!(6<x.length&&(x.lastIndexOf("-")===x.length-6||x.lastIndexOf("+")===x.length-6))),x&&(x=new Date(g).getTimezoneOffset()/60,g+=0>=x?`+${E(-x)}:00`:`-${E(x)}:00`)}return g=Date.parse(g),P(g)||(w=w.split("-"),g=Date.UTC(te(w[0]),te(w[1])-1,te(w[2]))),m&&D&&P(g)&&(g+=m.getTimezoneOffset(g)),g}drawInput(w){function D(){const{maxInput:Q,minInput:ce}=k,ge=m.xAxis[0];var ke=m.scroller&&m.scroller.xAxis?m.scroller.xAxis:ge;const re=ke.dataMin;ke=ke.dataMax;let ve=k.getInputValue(w);ve!==Number(pe.getAttribute("data-hc-time-previous"))&&P(ve)&&(pe.setAttribute("data-hc-time-previous",ve),le&&Q&&P(re)?ve>Number(Q.getAttribute("data-hc-time"))?ve=void 0:ve<re&&(ve=re):ce&&P(ke)&&(ve<Number(ce.getAttribute("data-hc-time"))?ve=void 0:ve>ke&&(ve=ke)),typeof ve<"u"&&ge.setExtremes(le?ve:ge.min,le?ge.max:ve,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:m,div:g,inputGroup:x}=this,k=this,q=m.renderer.style||{};var Y=m.renderer;const K=m.options.rangeSelector,le=w==="min";var he=J.lang[le?"rangeSelectorFrom":"rangeSelectorTo"]||"";he=Y.label(he,0).addClass("highcharts-range-label").attr({padding:he?2:0,height:he?K.inputBoxHeight:0}).add(x),Y=Y.label("",0).addClass("highcharts-range-input").attr({padding:2,width:K.inputBoxWidth,height:K.inputBoxHeight,"text-align":"center"}).on("click",function(){k.showInput(w),k[w+"Input"].focus()}),m.styledMode||Y.attr({stroke:K.inputBoxBorderColor,"stroke-width":1}),Y.add(x);const pe=z("input",{name:w,className:"highcharts-range-selector"},void 0,g);pe.setAttribute("type",R(K.inputDateFormat||"%e %b %Y")),m.styledMode||(he.css(H(q,K.labelStyle)),Y.css(H({color:"#333333"},q,K.inputStyle)),Z(pe,M({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:q.fontSize,fontFamily:q.fontFamily,top:"-9999em"},K.inputStyle))),pe.onfocus=()=>{k.showInput(w)},pe.onblur=()=>{pe===d.doc.activeElement&&D(),k.hideInput(w),k.setInputValue(w),pe.blur()};let F=!1;return pe.onchange=()=>{F||(D(),k.hideInput(w),pe.blur())},pe.onkeypress=Q=>{Q.keyCode===13&&D()},pe.onkeydown=Q=>{F=!0,Q.keyCode!==38&&Q.keyCode!==40||D()},pe.onkeyup=()=>{F=!1},{dateBox:Y,input:pe,label:he}}getPosition(){var w=this.chart;const D=w.options.rangeSelector;return w=D.verticalAlign==="top"?w.plotTop-w.axisOffset[0]:0,{buttonTop:w+D.buttonPosition.y,inputTop:w+D.inputPosition.y-10}}getYTDExtremes(w,D,m){const g=this.chart.time;var x=new g.Date(w);const k=g.get("FullYear",x);return m=m?g.Date.UTC(k,0,1):+new g.Date(k,0,1),D=Math.max(D,m),x=x.getTime(),{max:Math.min(w||x,x),min:D}}render(w,D){var m=this.chart,g=m.renderer;const x=m.container;var k=m.options;const q=k.rangeSelector,Y=ie(k.chart.style&&k.chart.style.zIndex,0)+1;if(k=q.inputEnabled,q.enabled!==!1){if(this.rendered||(this.group=g.g("range-selector-group").attr({zIndex:7}).add(),this.div=z("div",void 0,{position:"relative",height:0,zIndex:Y}),this.buttonOptions.length&&this.renderButtons(),x.parentNode&&x.parentNode.insertBefore(this.div,x),k&&(this.inputGroup=g.g("input-group").add(this.group),g=this.drawInput("min"),this.minDateBox=g.dateBox,this.minLabel=g.label,this.minInput=g.input,g=this.drawInput("max"),this.maxDateBox=g.dateBox,this.maxLabel=g.label,this.maxInput=g.input)),k&&(this.setInputValue("min",w),this.setInputValue("max",D),w=m.scroller&&m.scroller.getUnionExtremes()||m.xAxis[0]||{},L(w.dataMin)&&L(w.dataMax)&&(m=m.xAxis[0].minRange||0,this.setInputExtremes("min",w.dataMin,Math.min(w.dataMax,this.getInputValue("max"))-m),this.setInputExtremes("max",Math.max(w.dataMin,this.getInputValue("min"))+m,w.dataMax)),this.inputGroup)){let K=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(le=>{if(le){const{width:he}=le.getBBox();he&&(le.attr({x:K}),K+=he+q.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:w,chart:D,options:m}=this,g=J.lang,x=D.renderer,k=H(m.buttonTheme),q=k&&k.states,Y=k.width||28;delete k.width,delete k.states,this.buttonGroup=x.g("range-selector-buttons").add(this.group);const K=this.dropdown=z("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);I(K,"touchstart",()=>{K.style.fontSize="16px"}),[[d.isMS?"mouseover":"mouseenter"],[d.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([le,he])=>{I(K,le,()=>{const pe=w[this.currentButtonIndex()];pe&&S(pe.element,he||le)})}),this.zoomText=x.label(g&&g.rangeSelectorZoom||"",0).attr({padding:m.buttonTheme.padding,height:m.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(m.labelStyle),k["stroke-width"]=ie(k["stroke-width"],0)),z("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,K),this.buttonOptions.forEach((le,he)=>{z("option",{textContent:le.title||le.text},void 0,K),w[he]=x.button(le.text,0,0,pe=>{const F=le.events&&le.events.click;let Q;F&&(Q=F.call(le,pe)),Q!==!1&&this.clickButton(he),this.isActive=!0},k,q&&q.hover,q&&q.select,q&&q.disabled).attr({"text-align":"center",width:Y}).add(this.buttonGroup),le.title&&w[he].attr("title",le.title)})}alignElements(){const{buttonGroup:w,buttons:D,chart:m,group:g,inputGroup:x,options:k,zoomText:q}=this;var Y=m.options;const K=Y.exporting&&Y.exporting.enabled!==!1&&Y.navigation&&Y.navigation.buttonOptions,{buttonPosition:le,inputPosition:he,verticalAlign:pe}=k;Y=(ge,ke)=>K&&this.titleCollision(m)&&pe==="top"&&ke.align==="right"&&ke.y-ge.getBBox().height-12<(K.y||0)+(K.height||0)+m.spacing[0]?-40:0;var F=m.plotLeft;if(g&&le&&he){var Q=le.x-m.spacing[3];if(w){if(this.positionButtons(),!this.initialButtonGroupWidth){let ve=0;q&&(ve+=q.getBBox().width+5),D.forEach((_e,oe)=>{ve+=_e.width,oe!==D.length-1&&(ve+=k.buttonSpacing)}),this.initialButtonGroupWidth=ve}F-=m.spacing[3],this.updateButtonStates();var ce=Y(w,le);this.alignButtonGroup(ce),g.placed=w.placed=m.hasLoaded}ce=0,x&&(ce=Y(x,he),he.align==="left"?Q=F:he.align==="right"&&(Q=-Math.max(m.axisOffset[1],-ce)),x.align({y:he.y,width:x.getBBox().width,align:he.align,x:he.x+Q-2},!0,m.spacingBox),x.placed=m.hasLoaded),this.handleCollision(ce),g.align({verticalAlign:pe},!0,m.spacingBox),Y=g.alignAttr.translateY,F=g.getBBox().height+20,Q=0,pe==="bottom"&&(Q=(Q=m.legend&&m.legend.options)&&Q.verticalAlign==="bottom"&&Q.enabled&&!Q.floating?m.legend.legendHeight+ie(Q.margin,10):0,F=F+Q-20,Q=Y-F-(k.floating?0:k.y)-(m.titleOffset?m.titleOffset[2]:0)-10),pe==="top"?(k.floating&&(Q=0),m.titleOffset&&m.titleOffset[0]&&(Q=m.titleOffset[0]),Q+=m.margin[0]-m.spacing[0]||0):pe==="middle"&&(he.y===le.y?Q=Y:(he.y||le.y)&&(Q=0>he.y||0>le.y?Q-Math.min(he.y,le.y):Y-F)),g.translate(k.x,k.y+Math.floor(Q));const{minInput:ge,maxInput:ke,dropdown:re}=this;k.inputEnabled&&ge&&ke&&(ge.style.marginTop=g.translateY+"px",ke.style.marginTop=g.translateY+"px"),re&&(re.style.marginTop=g.translateY+"px")}}alignButtonGroup(w,D){const{chart:m,options:g,buttonGroup:x}=this,{buttonPosition:k}=g,q=m.plotLeft-m.spacing[3];let Y=k.x-m.spacing[3];k.align==="right"?Y+=w-q:k.align==="center"&&(Y-=q/2),x&&x.align({y:k.y,width:ie(D,this.initialButtonGroupWidth),align:k.align,x:Y},!0,m.spacingBox)}positionButtons(){const{buttons:w,chart:D,options:m,zoomText:g}=this,x=D.hasLoaded?"animate":"attr",{buttonPosition:k}=m,q=D.plotLeft;let Y=q;g&&g.visibility!=="hidden"&&(g[x]({x:ie(q+k.x,q)}),Y+=k.x+g.getBBox().width+5);for(let K=0,le=this.buttonOptions.length;K<le;++K)w[K].visibility!=="hidden"?(w[K][x]({x:Y}),Y+=w[K].width+m.buttonSpacing):w[K][x]({x:q})}handleCollision(w){const{chart:D,buttonGroup:m,inputGroup:g}=this,{buttonPosition:x,dropdown:k,inputPosition:q}=this.options,Y=()=>{let he=0;return this.buttons.forEach(pe=>{pe=pe.getBBox(),pe.width>he&&(he=pe.width)}),he},K=he=>{if(g&&m){const pe=g.alignAttr.translateX+g.alignOptions.x-w+g.getBBox().x+2,F=g.alignOptions.width,Q=m.alignAttr.translateX+m.getBBox().x;return Q+he>pe&&pe+F>Q&&x.y<q.y+g.getBBox().height}return!1},le=()=>{g&&m&&g.attr({translateX:g.alignAttr.translateX+(D.axisOffset[1]>=-w?0:-w),translateY:g.alignAttr.translateY+m.getBBox().height+10})};if(m){if(k==="always"){this.collapseButtons(w),K(Y())&&le();return}k==="never"&&this.expandButtons()}g&&m?q.align===x.align||K(this.initialButtonGroupWidth+20)?k==="responsive"?(this.collapseButtons(w),K(Y())&&le()):le():k==="responsive"&&this.expandButtons():m&&k==="responsive"&&(this.initialButtonGroupWidth>D.plotWidth?this.collapseButtons(w):this.expandButtons())}collapseButtons(w){const{buttons:D,buttonOptions:m,chart:g,dropdown:x,options:k,zoomText:q}=this,Y=g.userOptions.rangeSelector&&g.userOptions.rangeSelector.buttonTheme||{},K=pe=>({text:pe?`${pe} ▾`:"▾",width:"auto",paddingLeft:ie(k.buttonTheme.paddingLeft,Y.padding,8),paddingRight:ie(k.buttonTheme.paddingRight,Y.padding,8)});q&&q.hide();let le=!1;m.forEach((pe,F)=>{F=D[F],F.state!==2?F.hide():(F.show(),F.attr(K(pe.text)),le=!0)}),le||(x&&(x.selectedIndex=0),D[0].show(),D[0].attr(K(this.zoomText&&this.zoomText.textStr)));const{align:he}=k.buttonPosition;this.positionButtons(),he!=="right"&&he!=="center"||this.alignButtonGroup(w,D[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:w,buttonOptions:D,options:m,zoomText:g}=this;this.hideDropdown(),g&&g.show(),D.forEach((x,k)=>{k=w[k],k.show(),k.attr({text:x.text,width:m.buttonTheme.width||28,paddingLeft:ie(m.buttonTheme.paddingLeft,"unset"),paddingRight:ie(m.buttonTheme.paddingRight,"unset")}),2>k.state&&k.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:w}=this;return w&&0<w.selectedIndex?w.selectedIndex-1:0}showDropdown(){const{buttonGroup:w,buttons:D,chart:m,dropdown:g}=this;if(w&&g){const{translateX:x,translateY:k}=w,q=D[this.currentButtonIndex()].getBBox();Z(g,{left:m.plotLeft+x+"px",top:k+.5+"px",width:q.width+"px",height:q.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:w}=this;w&&(Z(w,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var w=this.options,D=this.group;const m=w.y,g=w.buttonPosition.y,x=w.inputPosition.y;return w.height?w.height:(this.alignElements(),w=D?D.getBBox(!0).height+13+m:0,D=Math.min(x,g),(0>x&&0>g||0<x&&0<g)&&(w+=Math.abs(D)),w)}titleCollision(w){return!(w.options.title.text||w.options.subtitle.text)}update(w){const D=this.chart;H(!0,D.options.rangeSelector,w),this.destroy(),this.init(D),this.render()}destroy(){const w=this,D=w.minInput,m=w.maxInput;w.eventsToUnbind&&(w.eventsToUnbind.forEach(g=>g()),w.eventsToUnbind=void 0),O(w.buttons),D&&(D.onfocus=D.onblur=D.onchange=null),m&&(m.onfocus=m.onblur=m.onchange=null),U(w,function(g,x){g&&x!=="chart"&&(g instanceof s?g.destroy():g instanceof window.HTMLElement&&G(g)),g!==V.prototype[x]&&(w[x]=null)},this)}}return M(V.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),V}),n(t,"Core/Axis/OrdinalAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(r,o,d,h){const{addEvent:s,correctFloat:b,css:R,defined:J,error:I,pick:z,timeUnits:Z}=h,L=[];var O;return function(G){function M(D,m,g,x,k=[],q=0,Y){const K={},le=this.options.tickPixelInterval;var he=this.chart.time,pe=[],F;let Q,ce;var ge=0;let ke=[],re=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!k||3>k.length||typeof m>"u")return he.getTimeTicks.apply(he,arguments);const ve=k.length;for(F=0;F<ve;F++){if(ce=F&&k[F-1]>g,k[F]<m&&(ge=F),F===ve-1||k[F+1]-k[F]>5*q||ce){if(k[F]>re){for(Q=he.getTimeTicks(D,k[ge],k[F],x);Q.length&&Q[0]<=re;)Q.shift();Q.length&&(re=Q[Q.length-1]),pe.push(ke.length),ke=ke.concat(Q)}ge=F+1}if(ce)break}if(Q){if(k=Q.info,Y&&k.unitRange<=Z.hour){for(F=ke.length-1,ge=1;ge<F;ge++)if(he.dateFormat("%d",ke[ge])!==he.dateFormat("%d",ke[ge-1])){K[ke[ge]]="day";var _e=!0}_e&&(K[ke[0]]="day"),k.higherRanks=K}k.segmentStarts=pe,ke.info=k}else I(12,!1,this.chart);if(Y&&J(le)){ge=ke.length,he=[],_e=[];let oe;for(F=ge;F--;)pe=this.translate(ke[F]),oe&&(_e[F]=oe-pe),he[F]=oe=pe;for(_e.sort(),_e=_e[Math.floor(_e.length/2)],_e<.6*le&&(_e=null),F=ke[ge-1]>g?ge-1:ge,oe=void 0;F--;)pe=he[F],ge=Math.abs(oe-pe),oe&&ge<.8*le&&(_e===null||ge<.8*_e)?(K[ke[F]]&&!K[ke[F+1]]?(ge=F+1,oe=pe):ge=F,ke.splice(ge,1)):oe=pe}return ke}function S(D){const m=this.ordinal.positions;if(!m)return D;let g=m.length-1,x;return 0>D?D=m[0]:D>g?D=m[g]:(g=Math.floor(D),x=D-g),typeof x<"u"&&typeof m[g]<"u"?m[g]+(x?x*(m[g+1]-m[g]):0):D}function P(D){var m=this.ordinal,g=m.positions;if(!g)return D;var x=(D-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<x&&x<this.left+this.len||(m.extendedOrdinalPositions||(m.extendedOrdinalPositions=m.getExtendedPositions()),g=m.extendedOrdinalPositions),g&&g.length){if(D=m.getIndexOfPoint(x,g),m=b(D%1),0<=D&&D<g.length-1)return g[Math.floor(D)]+m*(g[Math.ceil(D)]-g[Math.floor(D)]);m=g.length,x=g[0],g=g[m-1];const k=(g-x)/(m-1);return 0>D?x+k*D:g+k*(D-m)}return D}function H(D,m){const g=G.Additions.findIndexOf(D,m,!0);return D[g]===m?g:g+(m-D[g])/(D[g+1]-D[g])}function U(){this.ordinal||(this.ordinal=new G.Additions(this))}function E(){this.isXAxis&&J(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&this.eventArgs.trigger!=="navigator")&&(this.max+=this.options.overscroll,!this.isInternal&&J(this.userMin)&&(this.min+=this.options.overscroll))}function ie(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function te(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function $(D){const m=this.xAxis[0],g=m.options.overscroll,x=D.originalEvent.chartX,k=this.options.chart.panning;let q=!1;if(k&&k.type!=="y"&&m.options.ordinal&&m.series.length){var Y=this.mouseDownX;const pe=m.getExtremes(),F=pe.dataMax,Q=pe.min,ce=pe.max;var K=this.hoverPoints,le=m.closestPointRange||m.ordinal&&m.ordinal.overscrollPointsRange;Y=(Y-x)/(m.translationSlope*(m.ordinal.slope||le)),le=m.ordinal.getExtendedPositions();var he={ordinal:{positions:le,extendedOrdinalPositions:le}};le=m.index2val;const ge=m.val2lin;let ke;he.ordinal.positions?1<Math.abs(Y)&&(K&&K.forEach(function(re){re.setState()}),0>Y?(K=he,ke=m.ordinal.positions?m:he):(K=m.ordinal.positions?m:he,ke=he),he=ke.ordinal.positions,F>he[he.length-1]&&he.push(F),this.fixedRange=ce-Q,Y=m.navigatorAxis.toFixedRange(void 0,void 0,le.apply(K,[ge.apply(K,[Q,!0])+Y]),le.apply(ke,[ge.apply(ke,[ce,!0])+Y])),Y.min>=Math.min(pe.dataMin,Q)&&Y.max<=Math.max(F,ce)+g&&m.setExtremes(Y.min,Y.max,!0,!1,{trigger:"pan"}),this.mouseDownX=x,R(this.container,{cursor:"move"})):q=!0}else q=!0;q||k&&/y/.test(k.type)?g&&(m.max=m.dataMax+g):D.preventDefault()}function V(){const D=this.xAxis;D&&D.options.ordinal&&(delete D.ordinal.index,delete D.ordinal.extendedOrdinalPositions)}function j(D,m){const g=this.ordinal;var x=g.positions;let k=g.slope,q=g.extendedOrdinalPositions;if(!x)return D;var Y=x.length;if(x[0]<=D&&x[Y-1]>=D)D=H(x,D);else{if(q||(q=g.getExtendedPositions&&g.getExtendedPositions(),g.extendedOrdinalPositions=q),!q||!q.length)return D;Y=q.length,k||(k=(q[Y-1]-q[0])/Y),x=H(q,x[0]),D=D>=q[0]&&D<=q[Y-1]?H(q,D)-x:D<q[0]?-x-(q[0]-D)/k:(D-q[Y-1])/k+Y-x}return m?D:k*(D||0)+g.offset}G.compose=function(D,m,g){if(h.pushUnique(L,D)){const x=D.prototype;x.getTimeTicks=M,x.index2val=S,x.lin2val=P,x.val2lin=j,x.ordinal2lin=x.val2lin,s(D,"afterInit",U),s(D,"foundExtremes",E),s(D,"afterSetScale",ie),s(D,"initialAxisTranslation",te)}return h.pushUnique(L,g)&&s(g,"pan",$),h.pushUnique(L,m)&&s(m,"updatedData",V),D};class w{constructor(m){this.index={},this.axis=m}beforeSetTickPositions(){const m=this.axis,g=m.ordinal;var x=m.getExtremes();const k=x.min;var q=x.max;const Y=m.isXAxis&&!!m.options.breaks;x=m.options.ordinal;const K=m.chart.options.chart.ignoreHiddenSeries;let le,he;var pe;let F=[],Q=Number.MAX_VALUE,ce=!1,ge=!1,ke=!1;if(x||Y){let ve=0;if(m.series.forEach(function(_e,oe){if(he=[],0<oe&&_e.options.id!=="highcharts-navigator-series"&&1<_e.processedXData.length&&(ge=ve!==_e.processedXData[1]-_e.processedXData[0]),ve=_e.processedXData[1]-_e.processedXData[0],_e.boosted&&(ke=_e.boosted),!(K&&_e.visible===!1||_e.takeOrdinalPosition===!1&&!Y)&&(F=F.concat(_e.processedXData),le=F.length,F.sort(function(ye,Te){return ye-Te}),Q=Math.min(Q,z(_e.closestPointRange,Q)),le)){for(oe=0;oe<le-1;)F[oe]!==F[oe+1]&&he.push(F[oe+1]),oe++;he[0]!==F[0]&&he.unshift(F[0]),F=he}}),ge&&ke&&(F.pop(),F.shift()),le=F.length,2<le){var re=F[1]-F[0];for(pe=le-1;pe--&&!ce;)F[pe+1]-F[pe]!==re&&(ce=!0);!m.options.keepOrdinalPadding&&(F[0]-k>re||q-F[F.length-1]>re)&&(ce=!0)}else m.options.overscroll&&(le===2?Q=F[1]-F[0]:le===1?(Q=m.options.overscroll,F=[F[0],F[0]+Q]):Q=g.overscrollPointsRange);ce||m.forceOrdinal?(m.options.overscroll&&(g.overscrollPointsRange=Q,F=F.concat(g.getOverscrollPositions())),g.positions=F,re=m.ordinal2lin(Math.max(k,F[0]),!0),pe=Math.max(m.ordinal2lin(Math.min(q,F[F.length-1]),!0),1),g.slope=q=(q-k)/(pe-re),g.offset=k-re*q):(g.overscrollPointsRange=z(m.closestPointRange,g.overscrollPointsRange),g.positions=m.ordinal.slope=g.offset=void 0)}m.isOrdinal=x&&ce,g.groupIntervalFactor=null}static findIndexOf(m,g,x){let k=0,q=m.length-1,Y;for(;k<q;)Y=Math.ceil((k+q)/2),m[Y]<=g?k=Y:q=Y-1;return m[k]===g||x?k:-1}getExtendedPositions(){const m=this,g=m.axis,x=g.constructor.prototype,k=g.chart,q=g.series[0].currentDataGrouping,Y=q?q.count+q.unitName:"raw",K=g.options.overscroll,le=g.getExtremes();let he,pe,F=m.index;return F||(F=m.index={}),F[Y]||(he={series:[],chart:k,forceOrdinal:!1,getExtremes:function(){return{min:le.dataMin,max:le.dataMax+K}},getGroupPixelWidth:x.getGroupPixelWidth,getTimeTicks:x.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:x.ordinal2lin,getIndexOfPoint:x.getIndexOfPoint,val2lin:x.val2lin},he.ordinal.axis=he,g.series.forEach(function(Q){pe={xAxis:he,xData:Q.xData.slice(),chart:k,destroyGroupedData:o.noop,getProcessedData:d.prototype.getProcessedData,applyGrouping:d.prototype.applyGrouping},pe.xData=pe.xData.concat(m.getOverscrollPositions()),pe.options={dataGrouping:q?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[q.unitName,[q.count]]]}:{enabled:!1}},he.series.push(pe),Q.processData.apply(pe)}),pe.closestPointRange!==pe.basePointRange&&pe.currentDataGrouping&&(he.forceOrdinal=!0),g.ordinal.beforeSetTickPositions.apply({axis:he}),F[Y]=he.ordinal.positions),F[Y]}getGroupIntervalFactor(m,g,x){x=x.processedXData;const k=x.length;var q=[],Y=this.groupIntervalFactor;if(!Y){for(Y=0;Y<k-1;Y++)q[Y]=x[Y+1]-x[Y];q.sort(function(K,le){return K-le}),q=q[Math.floor(k/2)],m=Math.max(m,x[0]),g=Math.min(g,x[k-1]),this.groupIntervalFactor=Y=k*q/(g-m)}return Y}getIndexOfPoint(m,g){const x=this.axis,k=this.positions?this.positions[0]:0;let q=x.series[0].points&&x.series[0].points[0]&&x.series[0].points[0].plotX||x.minPixelPadding;return 1<x.series.length&&x.series.forEach(function(Y){Y.points&&J(Y.points[0])&&J(Y.points[0].plotX)&&Y.points[0].plotX<q&&Y.points[0].plotX>=z(x.min,-1/0)&&(q=Y.points[0].plotX)}),m=(m-q)/(x.translationSlope*(this.slope||x.closestPointRange||this.overscrollPointsRange)),w.findIndexOf(g,k)+m}getOverscrollPositions(){const m=this.axis,g=m.options.overscroll,x=this.overscrollPointsRange,k=[];let q=m.dataMax;if(J(x))for(;q<=m.dataMax+g;)q+=x,k.push(q);return k}postProcessTickInterval(m){const g=this.axis,x=this.slope;return x?g.options.breaks?g.closestPointRange||m:m/(x/g.closestPointRange):m}}G.Additions=w}(O||(O={})),O}),n(t,"Series/HLC/HLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(r){({column:{prototype:{pointClass:r}}}=r.seriesTypes);class o extends r{constructor(){super(...arguments),this.series=this.plotClose=this.options=this.low=this.high=this.close=void 0}}return o}),n(t,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),n(t,"Series/HLC/HLCSeries.js",[t["Series/HLC/HLCPoint.js"],t["Series/HLC/HLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){const{column:s}=d.seriesTypes,{extend:b,merge:R}=h;class J extends s{constructor(){super(...arguments),this.yData=this.points=this.options=this.data=void 0}extendStem(z,Z,L){const O=z[0];z=z[1],typeof O[2]=="number"&&(O[2]=Math.max(L+Z,O[2])),typeof z[2]=="number"&&(z[2]=Math.min(L-Z,z[2]))}getPointPath(z,Z){Z=Z.strokeWidth();const L=z.series,O=Z%2/2,G=Math.round(z.plotX)-O,M=Math.round(z.shapeArgs.width/2),S=[["M",G,Math.round(z.yBottom)],["L",G,Math.round(z.plotHigh)]];return z.close!==null&&(z=Math.round(z.plotClose)+O,S.push(["M",G,z],["L",G+M,z]),L.extendStem(S,Z/2,z)),S}drawSinglePoint(z){var Z=z.series;const L=Z.chart;let O=z.graphic;typeof z.plotY<"u"&&(O||(z.graphic=O=L.renderer.path().add(Z.group)),L.styledMode||O.attr(Z.pointAttribs(z,z.selected&&"select")),Z=Z.getPointPath(z,O),O[O?"animate":"attr"]({d:Z}).addClass(z.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(z,Z){return z=super.pointAttribs.call(this,z,Z),delete z.fill,z}toYData(z){return[z.high,z.low,z.close]}translate(){const z=this,Z=z.yAxis,L=this.pointArrayMap&&this.pointArrayMap.slice()||[],O=L.map(G=>`plot${G.charAt(0).toUpperCase()+G.slice(1)}`);O.push("yBottom"),L.push("low"),super.translate.apply(z),z.points.forEach(function(G){L.forEach(function(M,S){M=G[M],M!==null&&(z.dataModify&&(M=z.dataModify.modifyValue(M)),G[O[S]]=Z.toPixels(M,!0))}),G.tooltipPos[1]=G.plotHigh+Z.pos-z.chart.plotTop})}}return J.defaultOptions=R(s.defaultOptions,o),b(J.prototype,{pointClass:r,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),d.registerSeriesType("hlc",J),J}),n(t,"Series/OHLC/OHLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(r){({seriesTypes:{hlc:r}}=r);class o extends r.prototype.pointClass{constructor(){super(...arguments),this.series=this.plotOpen=this.options=this.open=void 0}getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.resolveUpColor()}getZone(){const h=super.getZone();return this.resolveUpColor(),h}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}return o}),n(t,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),n(t,"Series/OHLC/OHLCSeries.js",[t["Series/OHLC/OHLCPoint.js"],t["Series/OHLC/OHLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){function s(O){O=O.options;const G=O.dataGrouping;G&&O.useOhlcData&&O.id!=="highcharts-navigator-series"&&(G.approximation="ohlc")}function b(O){O=O.options,O.useOhlcData&&O.id!=="highcharts-navigator-series"&&I(this,{pointValKey:L.prototype.pointValKey,pointArrayMap:L.prototype.pointArrayMap,toYData:L.prototype.toYData})}const{seriesTypes:{hlc:R}}=d,{addEvent:J,extend:I,merge:z}=h,Z=[];class L extends R{constructor(){super(...arguments),this.points=this.options=this.data=void 0}static compose(G,...M){h.pushUnique(Z,G)&&(J(G,"afterSetOptions",s),J(G,"init",b))}getPointPath(G,M){const S=super.getPointPath(G,M);M=M.strokeWidth();const P=M%2/2,H=Math.round(G.plotX)-P,U=Math.round(G.shapeArgs.width/2);return G.open!==null&&(G=Math.round(G.plotOpen)+P,S.push(["M",H,G],["L",H-U,G]),super.extendStem(S,M/2,G)),S}pointAttribs(G,M){M=super.pointAttribs.call(this,G,M);const S=this.options;return delete M.fill,!G.options.color&&S.upColor&&G.open<G.close&&(M.stroke=S.upColor),M}toYData(G){return[G.open,G.high,G.low,G.close]}}return L.defaultOptions=z(R.defaultOptions,o),I(L.prototype,{pointClass:r,pointArrayMap:["open","high","low","close"]}),d.registerSeriesType("ohlc",L),L}),n(t,"Series/Candlestick/CandlestickSeriesDefaults.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],function(r,o){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),n(t,"Series/Candlestick/CandlestickSeries.js",[t["Series/Candlestick/CandlestickSeriesDefaults.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o,d,h){({defaultOptions:o}=o);const{column:s,ohlc:b}=d.seriesTypes;({merge:h}=h);class R extends b{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(I,z){const Z=s.prototype.pointAttribs.call(this,I,z),L=this.options,O=I.open<I.close,G=L.lineColor||this.color,M=I.color||this.color;return Z["stroke-width"]=L.lineWidth,Z.fill=I.options.color||O&&L.upColor||M,Z.stroke=I.options.lineColor||O&&L.upLineColor||G,z&&(I=L.states[z],Z.fill=I.color||Z.fill,Z.stroke=I.lineColor||Z.stroke,Z["stroke-width"]=I.lineWidth||Z["stroke-width"]),Z}drawPoints(){var I=this.points;const z=this.chart,Z=this.yAxis.reversed;for(const M of I){I=M.graphic;var L=void 0,O=void 0;let S,P;var G=void 0;let H,U;const E=!I;typeof M.plotY<"u"&&(I||(M.graphic=I=z.renderer.path().add(this.group)),this.chart.styledMode||I.attr(this.pointAttribs(M,M.selected&&"select")).shadow(this.options.shadow),G=I.strokeWidth()%2/2,H=Math.round(M.plotX)-G,L=M.plotOpen,O=M.plotClose,S=Math.min(L,O),L=Math.max(L,O),U=Math.round(M.shapeArgs.width/2),O=Z?L!==M.yBottom:Math.round(S)!==Math.round(M.plotHigh),P=Z?Math.round(S)!==Math.round(M.plotHigh):L!==M.yBottom,S=Math.round(S)+G,L=Math.round(L)+G,G=[],G.push(["M",H-U,L],["L",H-U,S],["L",H+U,S],["L",H+U,L],["Z"],["M",H,S],["L",H,O?Math.round(Z?M.yBottom:M.plotHigh):S],["M",H,L],["L",H,P?Math.round(Z?M.plotHigh:M.yBottom):L]),I[E?"attr":"animate"]({d:G}).addClass(M.getClassName(),!0))}}}return R.defaultOptions=h(b.defaultOptions,o.plotOptions,{tooltip:b.defaultOptions.tooltip},r),d.registerSeriesType("candlestick",R),R}),n(t,"Series/Flags/FlagsPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,o){({column:{prototype:{pointClass:r}}}=r.seriesTypes);const{isNumber:d}=o;class h extends r{constructor(){super(...arguments),this.series=this.options=void 0,this.ttBelow=!1}isValid(){return d(this.y)||typeof this.y>"u"}hasNewShapeType(){const b=this.options.shape||this.series.options.shape;return this.graphic&&b&&b!==this.graphic.symbolKey}}return h}),n(t,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),n(t,"Series/Flags/FlagsSymbols.js",[t["Core/Renderer/RendererRegistry.js"]],function(r){var o;return function(d){function h(R,J,I,z,Z){const L=Z&&Z.anchorX||R;Z=Z&&Z.anchorY||J;const O=this.circle(L-1,Z-1,2,2);return O.push(["M",L,Z],["L",R,J+z],["L",R,J],["L",R+I,J],["L",R+I,J+z],["L",R,J+z],["Z"]),O}function s(R,J){R[J+"pin"]=function(I,z,Z,L,O){const G=O&&O.anchorX;O=O&&O.anchorY;let M;if(J==="circle"&&L>Z&&(I-=Math.round((L-Z)/2),Z=L),M=R[J](I,z,Z,L),G&&O){let S=G;J==="circle"?S=I+Z/2:(I=M[0],Z=M[1],I[0]==="M"&&Z[0]==="L"&&(S=(I[1]+Z[1])/2)),M.push(["M",S,z>O?z:z+L],["L",G,O]),M=M.concat(R.circle(G-1,O-1,2,2))}return M}}const b=[];d.compose=function(R){b.indexOf(R)===-1&&(b.push(R),R=R.prototype.symbols,R.flag=h,s(R,"circle"),s(R,"square")),R=r.getRendererType(),b.indexOf(R)&&b.push(R)}}(o||(o={})),o}),n(t,"Series/OnSeriesComposition.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(r,o,d){const{prototype:h}=r,{prototype:s}=o,{defined:b,stableSort:R}=d;var J;return function(I){function z(O){return s.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,O)}function Z(){h.translate.apply(this);const O=this;var G=O.options,M=O.chart;const S=O.points;var P=G.onSeries;const H=(P=P&&M.get(P))&&P.options.step,U=P&&P.points,E=M.inverted,ie=O.xAxis,te=O.yAxis;M=S.length-1;let $;G=G.onKey||"y";let V=U&&U.length,j=0,w,D,m,g;if(P&&P.visible&&V){j=(P.pointXOffset||0)+(P.barW||0)/2;var x=P.currentDataGrouping;for(D=U[V-1].x+(x?x.totalRange:0),R(S,(k,q)=>k.x-q.x),G="plot"+G[0].toUpperCase()+G.substr(1);V--&&S[M]&&(w=U[V],x=S[M],x.y=w.y,!(w.x<=x.x&&typeof w[G]<"u"&&(x.x<=D&&(x.plotY=w[G],w.x<x.x&&!H&&(m=U[V+1])&&typeof m[G]<"u"&&(g=(x.x-w.x)/(m.x-w.x),x.plotY+=g*(m[G]-w[G]),x.y+=g*(m.y-w.y))),M--,V++,0>M))););}S.forEach((k,q)=>{let Y;k.plotX+=j,(typeof k.plotY>"u"||E)&&(0<=k.plotX&&k.plotX<=ie.len?E?(k.plotY=ie.translate(k.x,0,1,0,1),k.plotX=b(k.y)?te.translate(k.y,0,0,0,1):0):k.plotY=(ie.opposite?0:O.yAxis.len)+ie.offset:k.shapeArgs={}),($=S[q-1])&&$.plotX===k.plotX&&(typeof $.stackIndex>"u"&&($.stackIndex=0),Y=$.stackIndex+1),k.stackIndex=Y}),this.onSeries=P}const L=[];I.compose=function(O){if(d.pushUnique(L,O)){const G=O.prototype;G.getPlotBox=z,G.translate=Z}return O},I.getPlotBox=z,I.translate=Z}(J||(J={})),J}),n(t,"Series/Flags/FlagsSeries.js",[t["Series/Flags/FlagsPoint.js"],t["Series/Flags/FlagsSeriesDefaults.js"],t["Series/Flags/FlagsSymbols.js"],t["Core/Globals.js"],t["Series/OnSeriesComposition.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,b,R,J,I){({noop:h}=h);const{distribute:z}=b,{series:Z,seriesTypes:{column:L}}=R,{addEvent:O,defined:G,extend:M,merge:S,objectEach:P,wrap:H}=I;class U extends L{constructor(){super(...arguments),this.points=this.options=this.data=void 0}animate(ie){ie&&this.setClip()}drawPoints(){var ie=this.points,te=this.chart;const $=te.renderer,V=te.inverted,j=this.options,w=j.y,D=this.yAxis,m={},g=[];let x,k,q,Y,K,le,he;for(q=ie.length;q--;){Y=ie[q],le=(V?Y.plotY:Y.plotX)>this.xAxis.len,x=Y.plotX;var pe=Y.stackIndex,F=Y.options.shape||j.shape;k=Y.plotY,typeof k<"u"&&(k=Y.plotY+w-(typeof pe<"u"&&pe*j.stackDistance)),Y.anchorX=pe?void 0:Y.plotX,K=pe?void 0:Y.plotY,he=F!=="flag",pe=Y.graphic,typeof k<"u"&&0<=x&&!le?(pe&&Y.hasNewShapeType()&&(pe=pe.destroy()),pe||(pe=Y.graphic=$.label("",null,null,F,null,null,j.useHTML).addClass("highcharts-point").add(this.markerGroup),Y.graphic.div&&(Y.graphic.div.point=Y),pe.isNew=!0),pe.attr({align:he?"center":"left",width:j.width,height:j.height,"text-align":j.textAlign}),te.styledMode||pe.attr(this.pointAttribs(Y)).css(S(j.style,Y.style)).shadow(j.shadow),0<x&&(x-=pe.strokeWidth()%2),F={y:k,anchorY:K},j.allowOverlapX&&(F.x=x,F.anchorX=Y.anchorX),pe.attr({text:Y.options.title||j.title||"A"})[pe.isNew?"attr":"animate"](F),j.allowOverlapX||(m[Y.plotX]?m[Y.plotX].size=Math.max(m[Y.plotX].size,pe.width):m[Y.plotX]={align:he?.5:0,size:pe.width,target:x,anchorX:x}),Y.tooltipPos=[x,k+D.pos-te.plotTop]):pe&&(Y.graphic=pe.destroy())}if(!j.allowOverlapX){let Q=100;P(m,function(ce){ce.plotX=ce.anchorX,g.push(ce),Q=Math.max(ce.size,Q)}),z(g,V?D.len:this.xAxis.len,Q);for(const ce of ie)te=ce.plotX,(te=(ie=ce.graphic)&&m[te])&&ie&&(G(te.pos)?ie[ie.isNew?"attr":"animate"]({x:te.pos+(te.align||0)*te.size,anchorX:ce.anchorX}).show().isNew=!1:ie.hide().isNew=!0)}j.useHTML&&this.markerGroup&&H(this.markerGroup,"on",function(Q){return J.prototype.on.apply(Q.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){const ie=this.points;super.drawTracker();for(const te of ie){const $=te.graphic;$&&(te.unbindMouseOver&&te.unbindMouseOver(),te.unbindMouseOver=O($.element,"mouseover",function(){0<te.stackIndex&&!te.raised&&(te._y=$.y,$.attr({y:te._y-8}),te.raised=!0);for(const V of ie)V!==te&&V.raised&&V.graphic&&(V.graphic.attr({y:V._y}),V.raised=!1)}))}}pointAttribs(ie,te){const $=this.options,V=ie&&ie.color||this.color;let j=$.lineColor,w=ie&&ie.lineWidth;return ie=ie&&ie.fillColor||$.fillColor,te&&(ie=$.states[te].fillColor,j=$.states[te].lineColor,w=$.states[te].lineWidth),{fill:ie||V,stroke:j||V,"stroke-width":w||$.lineWidth||0}}setClip(){Z.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return U.compose=d.compose,U.defaultOptions=S(L.defaultOptions,o),s.compose(U),M(U.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:r,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:h,init:Z.prototype.init}),R.registerSeriesType("flags",U),U}),n(t,"Core/Chart/StockChart.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Defaults.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,b,R,J,I,z){function Z(w,D){return w==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:w==="yAxis"?{labels:{y:-2},opposite:$(D.opposite,!0),showLastLabel:!(!D.categories&&D.type!=="category"),title:{text:null}}:{}}function L(w,D){return w==="xAxis"?(w={type:"datetime",categories:void 0},$(D.navigator&&D.navigator.enabled,s.enabled,!0)&&(w.startOnTick=!1,w.endOnTick=!1),w):{}}const{format:O}=d,{getOptions:G}=h,{addEvent:M,clamp:S,defined:P,extend:H,find:U,isNumber:E,isString:ie,merge:te,pick:$,splat:V}=z;class j extends o{init(D,m){const g=G(),x=D.xAxis,k=D.yAxis;var q=$(D.navigator&&D.navigator.enabled,s.enabled,!0);D.xAxis=D.yAxis=void 0,q=te({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:q},scrollbar:{enabled:$(R.enabled,!0)},rangeSelector:{enabled:$(b.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:$(g.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},D,{isStock:!0}),D.xAxis=x,D.yAxis=k,q.xAxis=V(D.xAxis||{}).map(function(Y,K){return te(Z("xAxis",Y),g.xAxis,g.xAxis&&g.xAxis[K],Y,L("xAxis",D))}),q.yAxis=V(D.yAxis||{}).map(function(Y,K){return te(Z("yAxis",Y),g.yAxis,g.yAxis&&g.yAxis[K],Y)}),super.init(q,m)}createAxis(D,m){return m.axis=te(Z(D,m.axis),m.axis,L(D,this.userOptions)),super.createAxis(D,m)}}return function(w){w.stockChart=function(D,m,g){return new w(D,m,g)}}(j||(j={})),M(J,"setOptions",function(w){let D;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?D={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(D={marker:{enabled:!1,radius:2}}),D&&(w.plotOptions[this.type]=te(w.plotOptions[this.type],D)))}),M(r,"autoLabelAlign",function(w){const{chart:D,options:m}=this,g=D._labelPanes=D._labelPanes||{},x=m.labels;if(D.options.isStock&&this.coll==="yAxis"){const k=m.top+","+m.height;!g[k]&&x.enabled&&(x.distance===15&&this.side===1&&(x.distance=0),typeof x.align>"u"&&(x.align="right"),g[k]=this,w.align="right",w.preventDefault())}}),M(r,"destroy",function(){const w=this.chart,D=this.options&&this.options.top+","+this.options.height;D&&w._labelPanes&&w._labelPanes[D]===this&&delete w._labelPanes[D]}),M(r,"getPlotLinePath",function(w){function D(oe){const ye=oe==="xAxis"?"yAxis":"xAxis";return oe=m.options[ye],E(oe)?[x[ye][oe]]:ie(oe)?[x.get(oe)]:g.map(function(Te){return Te[ye]})}let m=this,g=this.isLinked&&!this.series?this.linkedParent.series:this.series,x=m.chart,k=x.renderer,q=m.left,Y=m.top,K,le,he,pe,F=[],Q=[],ce,ge,ke=w.translatedValue,re=w.value,ve=w.force,_e;(x.options.isStock&&w.acrossPanes!==!1&&m.coll==="xAxis"||m.coll==="yAxis")&&(w.preventDefault(),Q=D(m.coll),ce=m.isXAxis?x.yAxis:x.xAxis,ce.forEach(function(oe){if(!P(oe.options.id)||oe.options.id.indexOf("navigator")===-1){var ye=oe.isXAxis?"yAxis":"xAxis";ye=P(oe.options[ye])?x[ye][oe.options[ye]]:x[ye][0],m===ye&&Q.push(oe)}}),ge=Q.length?[]:[m.isXAxis?x.yAxis[0]:x.xAxis[0]],Q.forEach(function(oe){ge.indexOf(oe)!==-1||U(ge,function(ye){return ye.pos===oe.pos&&ye.len===oe.len})||ge.push(oe)}),_e=$(ke,m.translate(re,void 0,void 0,w.old)),E(_e)&&(m.horiz?ge.forEach(function(oe){let ye;le=oe.pos,pe=le+oe.len,K=he=Math.round(_e+m.transB),ve!=="pass"&&(K<q||K>q+m.width)&&(ve?K=he=S(K,q,q+m.width):ye=!0),ye||F.push(["M",K,le],["L",he,pe])}):ge.forEach(function(oe){let ye;K=oe.pos,he=K+oe.len,le=pe=Math.round(Y+m.height-_e),ve!=="pass"&&(le<Y||le>Y+m.height)&&(ve?le=pe=S(le,Y,Y+m.height):ye=!0),ye||F.push(["M",K,le],["L",he,pe])})),w.path=0<F.length?k.crispPolyLine(F,w.lineWidth||1):null)}),I.prototype.crispPolyLine=function(w,D){for(let m=0;m<w.length;m+=2){const g=w[m],x=w[m+1];g[1]===x[1]&&(g[1]=x[1]=Math.round(g[1])-D%2/2),g[2]===x[2]&&(g[2]=x[2]=Math.round(g[2])+D%2/2)}return w},M(r,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),M(r,"afterDrawCrosshair",function(w){var D,m;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&E(this.min)&&E(this.max)){var g=this.chart,x=this.logarithmic,k=this.crosshair.label,q=this.horiz,Y=this.opposite,K=this.left,le=this.top,he=this.width,pe=this.crossLabel,F=k.format,Q="",ce=this.options.tickPosition==="inside",ge=this.crosshair.snap!==!1,ke=0,re=w.e||this.cross&&this.cross.e;w=w.point;var ve=this.min,_e=this.max;x&&(ve=x.lin2log(ve),_e=x.lin2log(_e)),x=q?"center":Y?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center",pe||(pe=this.crossLabel=g.renderer.label("",0,void 0,k.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(w&&w.series?w.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:k.align||x,padding:$(k.padding,8),r:$(k.borderRadius,3),zIndex:2}).add(this.labelGroup),g.styledMode||pe.attr({fill:k.backgroundColor||w&&w.series&&w.series.color||"#666666",stroke:k.borderColor||"","stroke-width":k.borderWidth||0}).css(H({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},k.style||{}))),q?(he=ge?(w.plotX||0)+K:re.chartX,le+=Y?0:this.height):(he=K+this.offset+(Y?he:0),le=ge?(w.plotY||0)+le:re.chartY),F||k.formatter||(this.dateTime&&(Q="%b %d, %Y"),F="{value"+(Q?":"+Q:"")+"}"),Q=ge?this.isXAxis?w.x:w.y:this.toValue(q?re.chartX:re.chartY),ge=w&&w.series?w.series.isPointInside(w):E(Q)&&Q>ve&&Q<_e,re="",F?re=O(F,{value:Q},g):k.formatter&&E(Q)&&(re=k.formatter.call(this,Q)),pe.attr({text:re,x:he,y:le,visibility:ge?"inherit":"hidden"}),k=pe.getBBox(),!E(pe.x)||q||Y||(he=pe.x-k.width/2),E(pe.y)&&(q?(ce&&!Y||!ce&&Y)&&(le=pe.y-k.height):le=pe.y-k.height/2),q?(D=K-k.x,m=K+this.width-k.x):(D=this.labelAlign==="left"?K:0,m=this.labelAlign==="right"?K+this.width:g.chartWidth),pe.translateX<D&&(ke=D-pe.translateX),pe.translateX+k.width>=m&&(ke=-(pe.translateX+k.width-m)),pe.attr({x:he+ke,y:le,anchorX:q?he:this.opposite?0:g.chartWidth,anchorY:q?this.opposite?g.chartHeight:0:le+k.height/2})}}),J.prototype.forceCropping=function(){const w=this.chart,D=this.options.dataGrouping;return this.allowDG!==!1&&D&&$(D.enabled,w.options.isStock)},M(o,"update",function(w){w=w.options,"scrollbar"in w&&this.navigator&&(te(!0,this.options.scrollbar,w.scrollbar),this.navigator.update({}),delete w.scrollbar)}),j}),n(t,"masters/modules/stock.src.js",[t["Core/Globals.js"],t["Series/DataModifyComposition.js"],t["Stock/Navigator/Navigator.js"],t["Stock/RangeSelector/RangeSelector.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Axis/OrdinalAxis.js"],t["Series/OHLC/OHLCSeries.js"],t["Series/Flags/FlagsSeries.js"],t["Core/Chart/StockChart.js"]],function(r,o,d,h,s,b,R,J,I){r.Navigator=d,r.RangeSelector=h,r.Scrollbar=s,r.StockChart=r.stockChart=I.stockChart,o.compose(r.Series,r.Axis,r.Point),J.compose(r.Renderer),d.compose(r.Axis,r.Chart,r.Series),R.compose(r.Series),b.compose(r.Axis,r.Series,r.Chart),h.compose(r.Axis,r.Chart),s.compose(r.Axis)})})})(B6);var lZ=B6.exports;const cZ=uh(lZ);cZ(hd);const dZ={name:"graph",components:{Chart:nm.Chart},data(){return{chartOptions:{chart:{zoomType:"xy"},title:{text:"",align:""},subtitle:{text:"",align:""},xAxis:[{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],crosshair:!0}],yAxis:[{labels:{format:"{value}°C",style:{color:hd.getOptions().colors[2]}},title:{text:"Temperature",style:{color:hd.getOptions().colors[2]}},opposite:!0},{gridLineWidth:0,title:{text:"Rainfall",style:{color:hd.getOptions().colors[0]}},labels:{format:"{value} mm",style:{color:hd.getOptions().colors[0]}}},{gridLineWidth:0,title:{text:"Sea-Level Pressure",style:{color:hd.getOptions().colors[1]}},labels:{format:"{value} mb",style:{color:hd.getOptions().colors[1]}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:80,verticalAlign:"top",y:55,floating:!0,backgroundColor:hd.defaultOptions.legend.backgroundColor||"rgba(255,255,255,0.25)"},series:[{name:"Rainfall",type:"column",yAxis:1,data:[49.9,71.5,106.4,129.2,144,176,135.6,148.5,216.4,194.1,95.6,54.4],tooltip:{valueSuffix:" mm"}},{name:"Sea-Level Pressure",type:"spline",yAxis:2,data:[1016,1016,1015.9,1015.5,1012.3,1009.5,1009.6,1010.2,1013.1,1016.9,1018.2,1016.7],marker:{enabled:!1},dashStyle:"shortdot",tooltip:{valueSuffix:" mb"}},{name:"Temperature",type:"spline",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6],tooltip:{valueSuffix:" °C"}}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{floating:!1,layout:"horizontal",align:"center",verticalAlign:"bottom",x:0,y:0},yAxis:[{labels:{align:"right",x:0,y:-6},showLastLabel:!1},{labels:{align:"left",x:0,y:-6},showLastLabel:!1},{visible:!1}]}}]}}}}};function uZ(e,t,n,r,o,d){const h=Er("Chart");return wt(),Ir(h,{options:o.chartOptions,constructorType:"stockChart"},null,8,["options"])}const hZ=Zr(dZ,[["render",uZ]]);var z6={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function n(r,o,d,h){r.hasOwnProperty(o)||(r[o]=h.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:r[o]}})))}t=t?t._modules:{},n(t,"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o){function d(I){if(typeof b.MouseEvent=="function")return new b.MouseEvent(I.type,I);if(s.createEvent){const z=s.createEvent("MouseEvent");if(z.initMouseEvent)return z.initMouseEvent(I.type,I.bubbles,I.cancelable,I.view||b,I.detail,I.screenX,I.screenY,I.clientX,I.clientY,I.ctrlKey,I.altKey,I.shiftKey,I.metaKey,I.button,I.relatedTarget),z}return h(I.type)}function h(I,z,Z){return z=z||{x:0,y:0},typeof b.MouseEvent=="function"?new b.MouseEvent(I,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:Z||J,view:b,detail:I==="click"?1:0,screenX:z.x,screenY:z.y,clientX:z.x,clientY:z.y}):s.createEvent&&(Z=s.createEvent("MouseEvent"),Z.initMouseEvent)?(Z.initMouseEvent(I,!0,!0,b,I==="click"?1:0,z.x,z.y,z.x,z.y,!1,!1,!1,!1,0,null),Z):{type:I}}const{doc:s,win:b}=r,{css:R}=o,J=b.EventTarget&&new b.EventTarget||"none";return{addClass:function(I,z){I.classList?I.classList.add(z):0>I.className.indexOf(z)&&(I.className+=" "+z)},cloneMouseEvent:d,cloneTouchEvent:function(I){var z=Z=>{const L=[];for(let O=0;O<Z.length;++O){const G=Z.item(O);G&&L.push(G)}return L};return typeof b.TouchEvent=="function"?(z=new b.TouchEvent(I.type,{touches:z(I.touches),targetTouches:z(I.targetTouches),changedTouches:z(I.changedTouches),ctrlKey:I.ctrlKey,shiftKey:I.shiftKey,altKey:I.altKey,metaKey:I.metaKey,bubbles:I.bubbles,cancelable:I.cancelable,composed:I.composed,detail:I.detail,view:I.view}),I.defaultPrevented&&z.preventDefault(),z):(z=d(I),z.touches=I.touches,z.changedTouches=I.changedTouches,z.targetTouches=I.targetTouches,z)},escapeStringForHTML:function(I){return I.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(I){return s.getElementById(I)},getFakeMouseEvent:h,getHeadingTagNameForElement:function(I){const z=L=>(L=parseInt(L.slice(1),10),"h"+Math.min(6,L+1)),Z=L=>{var O;e:{for(O=L;O=O.previousSibling;){const G=O.tagName||"";if(/H[1-6]/.test(G)){O=G;break e}}O=""}return O?z(O):(L=L.parentElement,L?(O=L.tagName,/H[1-6]/.test(O)?z(O):Z(L)):"p")};return Z(I)},removeChildNodes:function(I){for(;I.lastChild;)I.removeChild(I.lastChild)},removeClass:function(I,z){I.classList?I.classList.remove(z):I.className=I.className.replace(new RegExp(z,"g"),"")},removeElement:function(I){I&&I.parentNode&&I.parentNode.removeChild(I)},reverseChildNodes:function(I){let z=I.childNodes.length;for(;z--;)I.appendChild(I.childNodes[z])},simulatedEventTarget:J,stripHTMLTagsFromString:function(I){return typeof I=="string"?I.replace(/<\/?[^>]+(>|$)/g,""):I},visuallyHideElement:function(I){R(I,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),n(t,"Accessibility/A11yI18n.js",[t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(r,o){const{format:d}=r,{getNestedProperty:h,pick:s}=o;var b;return function(R){function J(L,O){var G=L.indexOf("#each("),M=L.indexOf("#plural("),S=L.indexOf("[");const P=L.indexOf("]");if(-1<G){S=L.slice(G).indexOf(")")+G;var H=L.substring(0,G);if(M=L.substring(S+1),S=L.substring(G+6,S).split(","),G=Number(S[1]),L="",O=h(S[0],O))for(G=isNaN(G)?O.length:G,G=0>G?O.length+G:Math.min(G,O.length),S=0;S<G;++S)L+=H+O[S]+M;return L.length?L:""}if(-1<M){switch(H=L.slice(M).indexOf(")")+M,L=L.substring(M+8,H).split(","),Number(h(L[0],O))){case 0:L=s(L[4],L[1]);break;case 1:L=s(L[2],L[1]);break;case 2:L=s(L[3],L[1]);break;default:L=L[1]}return L?(O=L,O=O.trim&&O.trim()||O.replace(/^\s+|\s+$/g,"")):O="",O}return-1<S?(M=L.substring(0,S),L=Number(L.substring(S+1,P)),O=h(M,O),!isNaN(L)&&O&&(0>L?(H=O[O.length+L],typeof H>"u"&&(H=O[0])):(H=O[L],typeof H>"u"&&(H=O[O.length-1]))),typeof H<"u"?H:""):"{"+L+"}"}function I(L,O,G){const M=(E,ie)=>{E=E.slice(ie||0);const te=E.indexOf("{"),$=E.indexOf("}");if(-1<te&&$>te)return{statement:E.substring(te+1,$),begin:ie+te+1,end:ie+$}},S=[];let P,H,U=0;do P=M(L,U),H=L.substring(U,P&&P.begin-1),H.length&&S.push({value:H,type:"constant"}),P&&S.push({value:P.statement,type:"statement"}),U=P?P.end+1:U+1;while(P);return S.forEach(E=>{E.type==="statement"&&(E.value=J(E.value,O))}),d(S.reduce((E,ie)=>E+ie.value,""),O,G)}function z(L,O){L=L.split(".");let G=this.options.lang,M=0;for(;M<L.length;++M)G=G&&G[L[M]];return typeof G=="string"?I(G,O,this):""}const Z=[];R.compose=function(L){return o.pushUnique(Z,L)&&(L.prototype.langFormat=z),L},R.i18nFormat=I}(b||(b={})),b}),n(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,d){function h(M,S){const P=S.type,H=M.hcEvents;z.createEvent&&(M.dispatchEvent||M.fireEvent)?M.dispatchEvent?M.dispatchEvent(S):M.fireEvent(P,S):H&&H[P]?G(M,P,S):M.element&&h(M.element,S)}function s(M){const S=M.chart,P={};let H="Seconds";P.Seconds=((M.dataMax||M.max||0)-(M.dataMin||M.min||0))/1e3,P.Minutes=P.Seconds/60,P.Hours=P.Minutes/60,P.Days=P.Hours/24,["Minutes","Hours","Days"].forEach(function(E){2<P[E]&&(H=E)});const U=P[H].toFixed(H!=="Seconds"&&H!=="Minutes"?1:0);return S.langFormat("accessibility.axis.timeRange"+H,{chart:S,axis:M,range:U.replace(".0","")})}function b(M){const S=M.chart;var P=S.options;const H=P&&P.accessibility&&P.accessibility.screenReaderSection.axisRangeDateFormat||"",U={min:M.dataMin||M.min||0,max:M.dataMax||M.max||0};return P=function(E){return M.dateTime?S.time.dateFormat(H,U[E]):U[E].toString()},S.langFormat("accessibility.axis.rangeFromTo",{chart:S,axis:M,rangeFrom:P("min"),rangeTo:P("max")})}function R(M){if(M.points&&M.points.length)return(M=O(M.points,S=>!!S.graphic))&&M.graphic&&M.graphic.element}function J(M){const S=R(M);return S&&S.parentNode||M.graph&&M.graph.element||M.group&&M.group.element}function I(M,S){S.setAttribute("aria-hidden",!1),S!==M.renderTo&&S.parentNode&&S.parentNode!==z.body&&(Array.prototype.forEach.call(S.parentNode.childNodes,function(P){P.hasAttribute("aria-hidden")||P.setAttribute("aria-hidden",!0)}),I(M,S.parentNode))}const{doc:z}=r,{stripHTMLTagsFromString:Z}=o,{defined:L,find:O,fireEvent:G}=d;return{fireEventOnWrappedOrUnwrappedElement:h,getChartTitle:function(M){return Z(M.options.title.text||M.langFormat("accessibility.defaultChartTitle",{chart:M}))},getAxisDescription:function(M){return M&&(M.userOptions&&M.userOptions.accessibility&&M.userOptions.accessibility.description||M.axisTitle&&M.axisTitle.textStr||M.options.id||M.categories&&"categories"||M.dateTime&&"Time"||"values")},getAxisRangeDescription:function(M){var S=M.options||{};return S.accessibility&&typeof S.accessibility.rangeDescription<"u"?S.accessibility.rangeDescription:M.categories?(S=M.chart,M=M.dataMax&&M.dataMin?S.langFormat("accessibility.axis.rangeCategories",{chart:S,axis:M,numCategories:M.dataMax-M.dataMin+1}):"",M):!M.dateTime||M.min!==0&&M.dataMin!==0?b(M):s(M)},getPointFromXY:function(M,S,P){let H=M.length,U;for(;H--;)if(U=O(M[H].points||[],function(E){return E.x===S&&E.y===P}))return U},getSeriesFirstPointElement:R,getSeriesFromName:function(M,S){return S?(M.series||[]).filter(function(P){return P.name===S}):M.series},getSeriesA11yElement:J,unhideChartElementFromAT:I,hideSeriesFromAT:function(M){(M=J(M))&&M.setAttribute("aria-hidden",!0)},scrollToPoint:function(M){var S=M.series.xAxis,P=M.series.yAxis;const H=S&&S.scrollbar?S:P;if((S=H&&H.scrollbar)&&L(S.to)&&L(S.from)){if(P=S.to-S.from,L(H.dataMin)&&L(H.dataMax)){var U=H.toPixels(H.dataMin),E=H.toPixels(H.dataMax);M=(H.toPixels(M[H.coll==="xAxis"?"x":"y"]||0)-U)/(E-U)}else M=0;S.updatePosition(M-P/2,M+P/2),G(S,"changed",{from:S.from,to:S.to,trigger:"scrollbar",DOMEvent:null})}}}}),n(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o){const{doc:d}=r,{removeElement:h}=o;class s{constructor(){this.elements=[]}createElement(){const R=d.createElement.apply(d,arguments);return this.elements.push(R),R}destroyCreatedElements(){this.elements.forEach(function(R){h(R)}),this.elements=[]}}return s}),n(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:d}=o;class h{constructor(){this.eventRemovers=[]}addEvent(){const b=d.apply(r,arguments);return this.eventRemovers.push(b),b}removeAddedEvents(){this.eventRemovers.forEach(b=>b()),this.eventRemovers=[]}}return h}),n(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){const{fireEventOnWrappedOrUnwrappedElement:b}=r,{getFakeMouseEvent:R}=h;({extend:r}=s);class J{constructor(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}initBase(z,Z){this.chart=z,this.eventProvider=new d,this.domElementProvider=new o,this.proxyProvider=Z,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(z,Z,L,O){return this.eventProvider.addEvent(z,Z,L,O)}createElement(z,Z){return this.domElementProvider.createElement(z,Z)}fakeClickEvent(z){const Z=R("click");b(z,Z)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return r(J.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),J}),n(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],function(r){const{find:o}=r;class d{constructor(s,b){this.chart=s,this.keyCodeMap=b.keyCodeMap||[],this.validate=b.validate,this.init=b.init,this.terminate=b.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(s){const b=s.which||s.keyCode;let R=this.response.noHandler;const J=o(this.keyCodeMap,function(I){return-1<I[0].indexOf(b)});return J?R=J[1].call(this,b,s):b===9&&(R=this.response[s.shiftKey?"prev":"next"]),R}}return d}),n(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,d,h,s){const{unhideChartElementFromAT:b,getChartTitle:R}=d,{doc:J}=h,{stripHTMLTagsFromString:I}=s;class z extends r{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const L=this.chart,O="highcharts-title-"+L.index,G=I(L.langFormat("accessibility.svgContainerTitle",{chartTitle:R(L)}));if(G.length){const M=this.svgTitleElement=this.svgTitleElement||J.createElementNS("http://www.w3.org/2000/svg","title");M.textContent=G,M.id=O,L.renderTo.insertBefore(M,L.renderTo.firstChild)}}setSVGContainerLabel(){const L=this.chart,O=L.langFormat("accessibility.svgContainerLabel",{chartTitle:R(L)});L.renderer.box&&O.length&&L.renderer.box.setAttribute("aria-label",O)}setGraphicContainerAttrs(){const L=this.chart,O=L.langFormat("accessibility.graphicContainerLabel",{chartTitle:R(L)});O.length&&L.container.setAttribute("aria-label",O)}setRenderToAttrs(){const L=this.chart,O=L.options.accessibility.landmarkVerbosity!=="disabled",G=L.langFormat("accessibility.chartContainerLabel",{title:R(L),chart:L});G&&(L.renderTo.setAttribute("role",O?"region":"group"),L.renderTo.setAttribute("aria-label",G))}makeCreditsAccessible(){const L=this.chart,O=L.credits;O&&(O.textStr&&O.element.setAttribute("aria-label",L.langFormat("accessibility.credits",{creditsStr:I(O.textStr)})),b(L,O.element))}getKeyboardNavigation(){const L=this.chart;return new o(L,{keyCodeMap:[],validate:function(){return!0},init:function(){const O=L.accessibility;O&&O.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}return z}),n(t,"Accessibility/FocusBorder.js",[t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Utilities.js"]],function(r,o){const{addEvent:d,pick:h}=o;var s;return function(b){function R(){const S=this.focusElement,P=this.options.accessibility.keyboardNavigation.focusBorder;S&&(S.removeFocusBorder(),P.enabled&&S.addFocusBorder(P.margin,{stroke:P.style.color,strokeWidth:P.style.lineWidth,r:P.style.borderRadius}))}function J(S,P){const H=this.options.accessibility.keyboardNavigation.focusBorder;(P=P||S.element)&&P.focus&&(P.hcEvents&&P.hcEvents.focusin||d(P,"focusin",function(){}),P.focus(),H.hideBrowserFocusOutline&&(P.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=S,this.renderFocusBorder()}function I(S){if(!S.focusBorderDestroyHook){var P=S.destroy;S.destroy=function(){return S.focusBorder&&S.focusBorder.destroy&&S.focusBorder.destroy(),P.apply(S,arguments)},S.focusBorderDestroyHook=P}}function z(S,P){this.focusBorder&&this.removeFocusBorder();const H=this.getBBox(),U=h(S,3),E=this.parentGroup;var ie=this.scaleX||E&&E.scaleX,te=this.scaleY||E&&E.scaleY;ie=(ie?!te:te)?Math.abs(ie||te||1):(Math.abs(ie||1)+Math.abs(te||1))/2,H.x+=this.translateX?this.translateX:0,H.y+=this.translateY?this.translateY:0,te=H.x-U;let $=H.y-U,V=H.width+2*U,j=H.height+2*U;var w=this instanceof r;if(this.element.nodeName==="text"||w){const g=!!this.rotation;if(w)var D={x:g?1:0,y:0};else{var m=D=0;this.attr("text-anchor")==="middle"?D=m=.5:this.rotation?D=.25:m=.75,D={x:D,y:m}}m=+this.attr("x");const x=+this.attr("y");isNaN(m)||(te=m-H.width*D.x-U),isNaN(x)||($=x-H.height*D.y-U),w&&g&&(w=V,V=j,j=w,isNaN(m)||(te=m-H.height*D.x-U),isNaN(x)||($=x-H.width*D.y-U))}this.focusBorder=this.renderer.rect(te,$,V,j,parseInt((P&&P.r||0).toString(),10)/ie).addClass("highcharts-focus-border").attr({zIndex:99}).add(E),this.renderer.styledMode||this.focusBorder.attr({stroke:P&&P.stroke,"stroke-width":(P&&P.strokeWidth||0)/ie}),Z(this,S,P),I(this)}function Z(S,...P){S.focusBorderUpdateHooks||(S.focusBorderUpdateHooks={},M.forEach(H=>{H+="Setter";const U=S[H]||S._defaultSetter;S.focusBorderUpdateHooks[H]=U,S[H]=function(){const E=U.apply(S,arguments);return S.addFocusBorder.apply(S,P),E}}))}function L(){O(this),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}function O(S){S.focusBorderUpdateHooks&&(Object.keys(S.focusBorderUpdateHooks).forEach(P=>{const H=S.focusBorderUpdateHooks[P];H===S._defaultSetter?delete S[P]:S[P]=H}),delete S.focusBorderUpdateHooks)}const G=[],M="x y transform width height r d stroke-width".split(" ");b.compose=function(S,P){o.pushUnique(G,S)&&(S=S.prototype,S.renderFocusBorder=R,S.setFocusToElement=J),o.pushUnique(G,P)&&(P=P.prototype,P.addFocusBorder=z,P.removeFocusBorder=L)}}(s||(s={})),s}),n(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){const{doc:b}=d,{addClass:R,visuallyHideElement:J}=h,{attr:I}=s;class z{constructor(L,O){this.chart=L,this.domElementProvider=new o,this.announceRegion=this.addAnnounceRegion(O)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(L){r.setElementHTML(this.announceRegion,L),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=r.emptyHTML,delete this.clearAnnouncementRegionTimer},1e3)}addAnnounceRegion(L){const O=this.chart.announcerContainer||this.createAnnouncerContainer(),G=this.domElementProvider.createElement("div");return I(G,{"aria-hidden":!1,"aria-live":L}),this.chart.styledMode?R(G,"highcharts-visually-hidden"):J(G),O.appendChild(G),G}createAnnouncerContainer(){const L=this.chart,O=b.createElement("div");return I(O,{"aria-hidden":!1,class:"highcharts-announcer-container"}),O.style.position="relative",L.renderTo.insertBefore(O,L.renderTo.firstChild),L.announcerContainer=O}}return z}),n(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],function(r){function o(J){return(J.annotations||[]).reduce((I,z)=>(z.options&&z.options.visible!==!1&&(I=I.concat(z.labels)),I),[])}function d(J){return J.options&&J.options.accessibility&&J.options.accessibility.description||J.graphic&&J.graphic.text&&J.graphic.text.textStr||""}function h(J){var I=J.options&&J.options.accessibility&&J.options.accessibility.description;if(I)return I;I=J.chart;const z=d(J),Z=J.points.filter(G=>!!G.graphic).map(G=>{const M=G.accessibility&&G.accessibility.valueDescription||G.graphic&&G.graphic.element&&G.graphic.element.getAttribute("aria-label")||"";return G=G&&G.series.name||"",(G?G+", ":"")+"data point "+M}).filter(G=>!!G),L=Z.length,O="accessibility.screenReaderSection.annotations.description"+(1<L?"MultiplePoints":L?"SinglePoint":"NoPoints");return J={annotationText:z,annotation:J,numPoints:L,annotationPoint:Z[0],additionalAnnotationPoints:Z.slice(1)},I.langFormat(O,J)}function s(J){return o(J).map(I=>(I=b(R(h(I))))?`<li>${I}</li>`:"")}const{escapeStringForHTML:b,stripHTMLTagsFromString:R}=r;return{getAnnotationsInfoHTML:function(J){const I=J.annotations;return I&&I.length?`<ul style="list-style-type: none">${s(J).join(" ")}</ul>`:""},getAnnotationLabelDescription:h,getAnnotationListItems:s,getPointAnnotationTexts:function(J){const I=o(J.series.chart).filter(z=>-1<z.points.indexOf(J));return I.length?I.map(z=>`${d(z)}`):[]}}}),n(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,b,R,J,I,z){function Z(D,m){var g=m[0],x=D.series&&D.series[0]||{};if(x={numSeries:D.series.length,numPoints:x.points&&x.points.length,chart:D,mapTitle:D.mapView&&D.mapView.geoMap&&D.mapView.geoMap.title},!g)return D.langFormat("accessibility.chartTypes.emptyChart",x);if(g==="map")return x.mapTitle?D.langFormat("accessibility.chartTypes.mapTypeDescription",x):D.langFormat("accessibility.chartTypes.unknownMap",x);if(1<D.types.length)return D.langFormat("accessibility.chartTypes.combinationChart",x);{m=m[0],g=D.langFormat("accessibility.seriesTypeDescriptions."+m,x);const k=D.series&&2>D.series.length?"Single":"Multiple";D=(D.langFormat("accessibility.chartTypes."+m+k,x)||D.langFormat("accessibility.chartTypes.default"+k,x))+(g?" "+g:"")}return D}const{getAnnotationsInfoHTML:L}=h,{getAxisDescription:O,getAxisRangeDescription:G,getChartTitle:M,unhideChartElementFromAT:S}=b,{format:P}=R,{doc:H}=J,{addClass:U,getElement:E,getHeadingTagNameForElement:ie,stripHTMLTagsFromString:te,visuallyHideElement:$}=I,{attr:V,pick:j}=z;class w extends o{constructor(){super(...arguments),this.announcer=void 0,this.screenReaderSections={}}init(){const m=this.chart,g=this;this.initRegionsDefinitions(),this.addEvent(m,"aftergetTableAST",function(x){g.onDataTableCreated(x)}),this.addEvent(m,"afterViewData",function(x){x.wasHidden&&(g.dataTableDiv=x.element,setTimeout(function(){g.focusDataTable()},300))}),this.announcer=new d(m,"assertive")}initRegionsDefinitions(){const m=this;this.screenReaderSections={before:{element:null,buildContent:function(g){const x=g.options.accessibility.screenReaderSection.beforeChartFormatter;return x?x(g):m.defaultBeforeChartFormatter(g)},insertIntoDOM:function(g,x){x.renderTo.insertBefore(g,x.renderTo.firstChild)},afterInserted:function(){typeof m.sonifyButtonId<"u"&&m.initSonifyButton(m.sonifyButtonId),typeof m.dataTableButtonId<"u"&&m.initDataTableButton(m.dataTableButtonId)}},after:{element:null,buildContent:function(g){const x=g.options.accessibility.screenReaderSection.afterChartFormatter;return x?x(g):m.defaultAfterChartFormatter()},insertIntoDOM:function(g,x){x.renderTo.insertBefore(g,x.container.nextSibling)},afterInserted:function(){m.chart.accessibility&&m.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){const m=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(g){m.updateScreenReaderSection(g)})}getLinkedDescriptionElement(){var m=this.chart.options.accessibility.linkedDescription;if(m){if(typeof m!="string")return m;if(m=P(m,this.chart),m=H.querySelectorAll(m),m.length===1)return m[0]}}setLinkedDescriptionAttrs(){const m=this.linkedDescriptionElement;m&&(m.setAttribute("aria-hidden","true"),U(m,"highcharts-linked-description"))}updateScreenReaderSection(m){const g=this.chart,x=this.screenReaderSections[m],k=x.buildContent(g),q=x.element=x.element||this.createElement("div"),Y=q.firstChild||this.createElement("div");k?(this.setScreenReaderSectionAttribs(q,m),s.setElementHTML(Y,k),q.appendChild(Y),x.insertIntoDOM(q,g),g.styledMode?U(Y,"highcharts-visually-hidden"):$(Y),S(g,Y),x.afterInserted&&x.afterInserted()):(q.parentNode&&q.parentNode.removeChild(q),x.element=null)}setScreenReaderSectionAttribs(m,g){const x=this.chart,k=x.langFormat("accessibility.screenReaderSection."+g+"RegionLabel",{chart:x,chartTitle:M(x)});V(m,{id:`highcharts-screen-reader-region-${g}-${x.index}`,"aria-label":k||void 0}),m.style.position="relative",k&&m.setAttribute("role",x.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){var m=this.chart;const g=m.options.accessibility.screenReaderSection.beforeChartFormat;if(!g)return"";var x=this.getAxesDescription();const k=m.sonify&&m.options.sonification&&m.options.sonification.enabled,q="highcharts-a11y-sonify-data-btn-"+m.index,Y="hc-linkto-highcharts-data-table-"+m.index,K=L(m),le=m.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:m});return x={headingTagName:ie(m.renderTo),chartTitle:M(m),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:x.xAxis,yAxisDescription:x.yAxis,playAsSoundButton:k?this.getSonifyButtonText(q):"",viewTableButton:m.getCSV?this.getDataTableButtonText(Y):"",annotationsTitle:K?le:"",annotationsList:K},m=r.i18nFormat(g,x,m),this.dataTableButtonId=Y,this.sonifyButtonId=q,m.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}defaultAfterChartFormatter(){const m=this.chart,g=m.options.accessibility.screenReaderSection.afterChartFormat;if(!g)return"";const x={endOfChartMarker:this.getEndOfChartMarkerText()};return r.i18nFormat(g,x,m).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}getLinkedDescription(){const m=this.linkedDescriptionElement;return te(m&&m.innerHTML||"")}getLongdescText(){const m=this.chart.options;var g=m.caption;g=g&&g.text;const x=this.getLinkedDescription();return m.accessibility.description||x||g||""}getTypeDescriptionText(){const m=this.chart;return m.types?m.options.accessibility.typeDescription||Z(m,m.types):""}getDataTableButtonText(m){var g=this.chart;return g=g.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:g,chartTitle:M(g)}),'<button id="'+m+'">'+g+"</button>"}getSonifyButtonText(m){var g=this.chart;return g.options.sonification&&g.options.sonification.enabled===!1?"":(g=g.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:g,chartTitle:M(g)}),'<button id="'+m+'">'+g+"</button>")}getSubtitleText(){const m=this.chart.options.subtitle;return te(m&&m.text||"")}getEndOfChartMarkerText(){const m=this.chart,g=m.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:m});return'<div id="highcharts-end-of-chart-marker-'+m.index+'">'+g+"</div>"}onDataTableCreated(m){const g=this.chart;if(g.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");const x=m.tree.attributes||{};x.tabindex=-1,x.summary=g.langFormat("accessibility.table.tableSummary",{chart:g}),m.tree.attributes=x}}focusDataTable(){var m=this.dataTableDiv;(m=m&&m.getElementsByTagName("table")[0])&&m.focus&&m.focus()}initSonifyButton(m){const g=this.sonifyButton=E(m),x=this.chart,k=q=>{g&&(g.setAttribute("aria-hidden","true"),g.setAttribute("aria-label","")),q.preventDefault(),q.stopPropagation(),q=x.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:x}),this.announcer.announce(q),setTimeout(()=>{g&&(g.removeAttribute("aria-hidden"),g.removeAttribute("aria-label")),x.sonify&&x.sonify()},1e3)};g&&x&&(g.setAttribute("tabindex",-1),g.onclick=function(q){(x.options.accessibility&&x.options.accessibility.screenReaderSection.onPlayAsSoundClick||k).call(this,q,x)})}initDataTableButton(m){const g=this.viewDataTableButton=E(m),x=this.chart;m=m.replace("hc-linkto-",""),g&&(V(g,{tabindex:-1,"aria-expanded":!!E(m)}),g.onclick=x.options.accessibility.screenReaderSection.onViewDataTableClick||function(){x.viewData()})}getAxesDescription(){const m=this.chart;var g=function(Y,K){return Y=m[Y],1<Y.length||Y[0]&&j(Y[0].options.accessibility&&Y[0].options.accessibility.enabled,K)},x=!!m.types&&0>m.types.indexOf("map")&&0>m.types.indexOf("treemap")&&0>m.types.indexOf("tilemap");const k=!!m.hasCartesianSeries,q=g("xAxis",!m.angular&&k&&x);return g=g("yAxis",k&&x),x={},q&&(x.xAxis=this.getAxisDescriptionText("xAxis")),g&&(x.yAxis=this.getAxisDescriptionText("yAxis")),x}getAxisDescriptionText(m){const g=this.chart,x=g[m];return g.langFormat("accessibility.axis."+m+"Description"+(1<x.length?"Plural":"Singular"),{chart:g,names:x.map(function(k){return O(k)}),ranges:x.map(function(k){return G(k)}),numAxes:x.length})}destroy(){this.announcer&&this.announcer.destroy()}}return w}),n(t,"Accessibility/Components/MenuComponent.js",[t["Core/Chart/Chart.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,d,h,s,b){const{attr:R}=o,{getChartTitle:J,unhideChartElementFromAT:I}=s,{getFakeMouseEvent:z}=b;class Z extends d{init(){const O=this.chart,G=this;this.addEvent(O,"exportMenuShown",function(){G.onMenuShown()}),this.addEvent(O,"exportMenuHidden",function(){G.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){const O=this.chart.exportContextMenu;O&&O.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){const O=this.chart,G=O.exportContextMenu;G&&(this.addAccessibleContextMenuAttribs(),I(O,G)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(O){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",O)}onChartRender(){const O=this.chart,G=O.focusElement,M=O.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&G&&G===O.exportingGroup&&(G.focusBorder?O.setFocusToElement(G,this.exportButtonProxy.buttonElement):M&&M.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){const O=this.chart,G=this.proxyProvider,M=O.exportSVGElements&&O.exportSVGElements[0];{var S=O.options.exporting;const P=O.exportSVGElements&&O.exportSVGElements[0];S=!!(S&&S.enabled!==!1&&S.accessibility&&S.accessibility.enabled&&P&&P.element)}S&&M&&(this.exportButtonProxy=G.addProxyElement("chartMenu",{click:M},{"aria-label":O.langFormat("accessibility.exporting.menuButtonLabel",{chart:O,chartTitle:J(O)}),"aria-expanded":!1,title:O.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")}addAccessibleContextMenuAttribs(){const O=this.chart;var G=O.exportDivElements;G&&G.length&&(G.forEach(M=>{M&&(M.tagName!=="LI"||M.children&&M.children.length?M.setAttribute("aria-hidden","true"):M.setAttribute("tabindex",-1))}),(G=G[0]&&G[0].parentNode)&&R(G,{"aria-hidden":void 0,"aria-label":O.langFormat("accessibility.exporting.chartMenuLabel",{chart:O}),role:"list"}))}getKeyboardNavigation(){const O=this.keyCodes,G=this.chart,M=this;return new h(G,{keyCodeMap:[[[O.left,O.up],function(){return M.onKbdPrevious(this)}],[[O.right,O.down],function(){return M.onKbdNext(this)}],[[O.enter,O.space],function(){return M.onKbdClick(this)}]],validate:function(){return!!G.exporting&&G.options.exporting.enabled!==!1&&G.options.exporting.accessibility.enabled!==!1},init:function(){const S=M.exportButtonProxy,P=M.chart.exportingGroup;S&&P&&G.setFocusToElement(P,S.buttonElement)},terminate:function(){G.hideExportMenu()}})}onKbdPrevious(O){const G=this.chart,M=G.options.accessibility;O=O.response;let S=G.highlightedExportItemIx||0;for(;S--;)if(G.highlightExportItem(S))return O.success;return M.keyboardNavigation.wrapAround?(G.highlightLastExportItem(),O.success):O.prev}onKbdNext(O){const G=this.chart,M=G.options.accessibility;O=O.response;for(let S=(G.highlightedExportItemIx||0)+1;S<G.exportDivElements.length;++S)if(G.highlightExportItem(S))return O.success;return M.keyboardNavigation.wrapAround?(G.highlightExportItem(0),O.success):O.next}onKbdClick(O){const G=this.chart,M=G.exportDivElements[G.highlightedExportItemIx],S=(G.exportSVGElements&&G.exportSVGElements[0]).element;return G.openMenu?this.fakeClickEvent(M):(this.fakeClickEvent(S),G.highlightExportItem(0)),O.response.success}}return function(L){function O(){var H=this.exportSVGElements&&this.exportSVGElements[0];H&&(H=H.element,H.onclick)&&H.onclick(z("click"))}function G(){const H=this.exportDivElements;H&&this.exportContextMenu&&this.openMenu&&(H.forEach(U=>{U&&U.className==="highcharts-menu-item"&&U.onmouseout&&U.onmouseout(z("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function M(H){const U=this.exportDivElements&&this.exportDivElements[H],E=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(U&&U.tagName==="LI"&&(!U.children||!U.children.length)){const ie=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return U.focus&&ie&&U.focus(),E&&E.onmouseout&&E.onmouseout(z("mouseout")),U.onmouseover&&U.onmouseover(z("mouseover")),this.highlightedExportItemIx=H,!0}return!1}function S(){if(this.exportDivElements){let H=this.exportDivElements.length;for(;H--;)if(this.highlightExportItem(H))return!0}return!1}const P=[];L.compose=function(H){o.pushUnique(P,H)&&(H=r.prototype,H.hideExportMenu=G,H.highlightExportItem=M,H.highlightLastExportItem=S,H.showExportMenu=O)}}(Z||(Z={})),Z}),n(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,d,h,s){const{doc:b,win:R}=r,{addEvent:J,fireEvent:I}=d,{getElement:z,simulatedEventTarget:Z}=s;class L{constructor(G,M){this.components=this.chart=void 0,this.currentModuleIx=NaN,this.exitAnchor=this.eventProvider=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(G,M)}init(G,M){const S=this.eventProvider=new h;this.chart=G,this.components=M,this.modules=[],this.currentModuleIx=0,this.update(),S.addEvent(this.tabindexContainer,"keydown",P=>this.onKeydown(P)),S.addEvent(this.tabindexContainer,"focus",P=>this.onFocus(P)),["mouseup","touchend"].forEach(P=>S.addEvent(b,P,H=>this.onMouseUp(H))),["mousedown","touchstart"].forEach(P=>S.addEvent(G.renderTo,P,()=>{this.isClickingChart=!0}))}update(G){var M=this.chart.options.accessibility;M=M&&M.keyboardNavigation;const S=this.components;this.updateContainerTabindex(),M&&M.enabled&&G&&G.length?(this.modules=G.reduce(function(P,H){return H=S[H].getKeyboardNavigation(),P.concat(H)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){const G=z(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),G?(this.makeElementAnExitAnchor(G),this.exitAnchor=G):this.createExitAnchor()}move(G){var M=this.modules&&this.modules[this.currentModuleIx];if(M&&M.terminate&&M.terminate(G),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=G,M=this.modules&&this.modules[this.currentModuleIx]){if(M.validate&&!M.validate())return this.move(G);if(M.init)return M.init(G),!0}return this.currentModuleIx=0,this.exiting=!0,0<G?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(G){var M=this.chart;G=G.relatedTarget&&M.container.contains(G.relatedTarget),!(M=(M=M.options.accessibility)&&M.keyboardNavigation)||!M.enabled||this.exiting||this.tabbingInBackwards||this.isClickingChart||G||(G=this.getFirstValidModuleIx(),G!==null&&(this.currentModuleIx=G,this.modules[G].init(1))),this.exiting=!1}onMouseUp(G){if(delete this.isClickingChart,!this.keyboardReset&&G.relatedTarget!==Z){const M=this.chart;G.target&&M.container.contains(G.target)||((G=this.modules&&this.modules[this.currentModuleIx||0])&&G.terminate&&G.terminate(),this.currentModuleIx=0),M.focusElement&&(M.focusElement.removeFocusBorder(),delete M.focusElement),this.keyboardReset=!0}}onKeydown(G){G=G||R.event;const M=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let S;if(this.exiting=this.keyboardReset=!1,M){const P=M.run(G);P===M.response.success?S=!0:P===M.response.prev?S=this.move(-1):P===M.response.next&&(S=this.move(1)),S&&(G.preventDefault(),G.stopPropagation())}}updateContainerTabindex(){var G=this.chart.options.accessibility;G=G&&G.keyboardNavigation,G=!(G&&G.enabled===!1);const M=this.chart;var S=M.container;M.renderTo.hasAttribute("tabindex")&&(S.removeAttribute("tabindex"),S=M.renderTo),this.tabindexContainer=S;const P=S.getAttribute("tabindex");G&&!P?S.setAttribute("tabindex","0"):G||M.container.removeAttribute("tabindex")}createExitAnchor(){const G=this.chart,M=this.exitAnchor=b.createElement("div");G.renderTo.appendChild(M),this.makeElementAnExitAnchor(M)}makeElementAnExitAnchor(G){const M=this.tabindexContainer.getAttribute("tabindex")||0;G.setAttribute("class","highcharts-exit-anchor"),G.setAttribute("tabindex",M),G.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(G)}removeExitAnchor(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)}addExitAnchorEventsToEl(G){const M=this.chart,S=this;this.eventProvider.addEvent(G,"focus",function(P){P=P||R.event;const H=!(P.relatedTarget&&M.container.contains(P.relatedTarget)||S.exiting);M.focusElement&&delete M.focusElement,H?(S.tabbingInBackwards=!0,S.tabindexContainer.focus(),delete S.tabbingInBackwards,P.preventDefault(),S.modules&&S.modules.length&&(S.currentModuleIx=S.modules.length-1,(P=S.modules[S.currentModuleIx])&&P.validate&&!P.validate()?S.move(-1):P&&P.init(-1))):S.exiting=!1})}getFirstValidModuleIx(){const G=this.modules.length;for(let M=0;M<G;++M){const S=this.modules[M];if(!S.validate||S.validate())return M}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(O){function G(){const P=this;I(this,"dismissPopupContent",{},function(){P.tooltip&&P.tooltip.hide(0),P.hideExportMenu()})}function M(P){(P.which||P.keyCode)===27&&r.charts&&r.charts.forEach(H=>{H&&H.dismissPopupContent&&H.dismissPopupContent()})}const S=[];O.compose=function(P){return o.compose(P),d.pushUnique(S,P)&&(P.prototype.dismissPopupContent=G),d.pushUnique(S,b)&&J(b,"keydown",M),P}}(L||(L={})),L}),n(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,d,h,s,b,R,J){function I($){const V=$.legend&&$.legend.allItems,j=$.options.legend.accessibility||{};return $=$.colorAxis&&$.colorAxis.some(w=>!w.dataClasses||!w.dataClasses.length),!(!V||!V.length||$||j.enabled===!1)}function z($,V){const j=V.legendItem||{};V.setState($?"hover":"",!0);for(const w of["group","label","symbol"])(V=(V=j[w])&&V.element||V)&&G(V,$?"mouseover":"mouseout")}const{animObject:Z}=r,{doc:L}=o,{addEvent:O,fireEvent:G,isNumber:M,pick:S,syncTimeout:P}=h,{getChartTitle:H}=R,{stripHTMLTagsFromString:U,addClass:E,removeClass:ie}=J;class te extends s{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){const V=this;this.recreateProxies(),this.addEvent(d,"afterScroll",function(){this.chart===V.chart&&(V.proxyProvider.updateGroupProxyElementPositions("legend"),V.updateLegendItemProxyVisibility(),-1<V.highlightedLegendItemIx&&this.chart.highlightLegendItem(V.highlightedLegendItemIx))}),this.addEvent(d,"afterPositionItem",function(j){this.chart===V.chart&&this.chart.renderer&&V.updateProxyPositionForItem(j.item)}),this.addEvent(d,"afterRender",function(){this.chart===V.chart&&this.chart.renderer&&V.recreateProxies()&&P(()=>V.proxyProvider.updateGroupProxyElementPositions("legend"),Z(S(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){const V=this.chart,j=V.legend,w=j.currentPage||1,D=j.clipHeight||0;let m;(j.allItems||[]).forEach(g=>{if(g.a11yProxyElement){var x=j.pages&&j.pages.length;const q=g.a11yProxyElement.element;var k=!1;m=g.legendItem||{},x&&(g=m.pageIx||0,x=m.y||0,k=m.label?Math.round(m.label.getBBox().height):0,k=x+k-j.pages[g]>D||g!==w-1),k?V.styledMode?E(q,"highcharts-a11y-invisible"):q.style.visibility="hidden":(ie(q,"highcharts-a11y-invisible"),q.style.visibility="")}})}onChartRender(){I(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(V){const j=this.chart;var w=j.legend;V=(w.currentPage||1)+V;var D=w.pages||[];if(0<V&&V<=D.length){D=0;for(const m of w.allItems)((m.legendItem||{}).pageIx||0)+1===V&&(w=j.highlightLegendItem(D))&&(this.highlightedLegendItemIx=D),++D}}updateProxyPositionForItem(V){V.a11yProxyElement&&V.a11yProxyElement.refreshPosition()}recreateProxies(){var V=L.activeElement;const j=this.proxyGroup;return V=V&&j&&j.contains(V),this.removeProxies(),I(this.chart)?(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),V&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0):!1}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){var V=this.chart;const j=U((V.legend&&V.legend.options.title&&V.legend.options.title.text||"").replace(/<br ?\/?>/g," "));V=V.langFormat("accessibility.legend.legendLabel"+(j?"":"NoTitle"),{chart:V,legendTitle:j,chartTitle:H(V)}),this.proxyProvider.updateGroupAttrs("legend",{"aria-label":V})}addLegendProxyGroup(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null})}proxyLegendItems(){const V=this;let j;((this.chart.legend||{}).allItems||[]).forEach(w=>{j=w.legendItem||{},j.label&&j.label.element&&V.proxyLegendItem(w)})}proxyLegendItem(V){const j=V.legendItem||{};if(j.label&&j.group){var w=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:U(V.name),item:V});V.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:j.label,visual:(j.group.div?j.label:j.group).element},{tabindex:-1,"aria-pressed":V.visible,"aria-label":w})}}getKeyboardNavigation(){const V=this.keyCodes,j=this,w=this.chart;return new b(w,{keyCodeMap:[[[V.left,V.right,V.up,V.down],function(D){return j.onKbdArrowKey(this,D)}],[[V.enter,V.space],function(){return j.onKbdClick(this)}],[[V.pageDown,V.pageUp],function(D){return j.highlightAdjacentLegendPage(D===V.pageDown?1:-1),this.response.success}]],validate:function(){return j.shouldHaveLegendNavigation()},init:function(){w.highlightLegendItem(0),j.highlightedLegendItemIx=0},terminate:function(){j.highlightedLegendItemIx=-1,w.legend.allItems.forEach(D=>z(!1,D))}})}onKbdArrowKey(V,j){const w=this.keyCodes,D=V.response,m=this.chart,g=m.options.accessibility,x=m.legend.allItems.length;return j=j===w.left||j===w.up?-1:1,m.highlightLegendItem(this.highlightedLegendItemIx+j)?(this.highlightedLegendItemIx+=j,D.success):(1<x&&g.keyboardNavigation.wrapAround&&V.init(j),D.success)}onKbdClick(V){const j=this.chart.legend.allItems[this.highlightedLegendItemIx];return j&&j.a11yProxyElement&&j.a11yProxyElement.click(),V.response.success}shouldHaveLegendNavigation(){if(!I(this.chart))return!1;const V=this.chart,j=(V.options.legend||{}).accessibility||{};return!!(V.legend.display&&j.keyboardNavigation&&j.keyboardNavigation.enabled)}}return function($){function V(D){var m=this.legend.allItems,g=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx;const x=m[D];var k=x.legendItem||{};return x?(M(g)&&m[g]&&z(!1,m[g]),m=this.legend,D=(m.allItems[D].legendItem||{}).pageIx,g=m.currentPage,typeof D<"u"&&D+1!==g&&m.scroll(1+D-g),k=k.label,D=x.a11yProxyElement&&x.a11yProxyElement.buttonElement,k&&k.element&&D&&this.setFocusToElement(k,D),z(!0,x),!0):!1}function j(D){const m=D.item;this.chart.options.accessibility.enabled&&m&&m.a11yProxyElement&&m.a11yProxyElement.buttonElement.setAttribute("aria-pressed",D.visible?"true":"false")}const w=[];$.compose=function(D,m){h.pushUnique(w,D)&&(D.prototype.highlightLegendItem=V),h.pushUnique(w,m)&&O(m,"afterColorizeItem",j)}}(te||(te={})),te}),n(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){function b(x){const k=x.index;return x.series&&x.series.data&&g(k)&&w(x.series.data,function(q){return!!(q&&typeof q.index<"u"&&q.index>k&&q.graphic&&q.graphic.element)})||null}function R(x){const k=x.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(k!==!1&&x.points&&x.points.length>=k)}function J(x){const k=x.options.accessibility||{};return!R(x)&&!k.exposeAsGroupOnly}function I(x){const k=x.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!x.points||!(x.points.length<k.pointNavigationEnabledThreshold||k.pointNavigationEnabledThreshold===!1))}function z(x,k){var q=x.series,Y=q.chart;x=Y.options.accessibility.point||{};const K=q.options.accessibility&&q.options.accessibility.point||{};return q=q.tooltipOptions||{},Y=Y.options.lang,D(k)?$(k,K.valueDecimals||x.valueDecimals||q.valueDecimals||-1,Y.decimalPoint,Y.accessibility.thousandsSep||Y.thousandsSep):k}function Z(x){const k=(x.options.accessibility||{}).description;return k&&x.chart.langFormat("accessibility.series.description",{description:k,series:x})||""}function L(x,k){return x.chart.langFormat("accessibility.series."+k+"Description",{name:H(x[k]),series:x})}function O(x,k,q){const Y=k||"",K=q||"";return x.series.pointArrayMap.reduce(function(le,he){{const pe=z(x,m(x[he],x.options[he]));he=pe!==void 0?he+": "+Y+pe+K:pe}return he?le+(le.length?", ":"")+he:le},"")}function G(x){var k=x.series,q=1<k.chart.series.length||k.options.name,Y=x.series,K=Y.chart,le=Y.options.accessibility;if(le=le&&le.point&&le.point.valueDescriptionFormat||K.options.accessibility.point.valueDescriptionFormat,Y=m(Y.xAxis&&Y.xAxis.options.accessibility&&Y.xAxis.options.accessibility.enabled,!K.angular&&Y.type!=="flowmap"),Y){var he=x.series,pe=he.chart,F=he.options.accessibility&&he.options.accessibility.point||{},Q=pe.options.accessibility.point||{};(he=he.xAxis&&he.xAxis.dateTime)?(he=he.getXDateFormat(x.x||0,pe.options.tooltip.dateTimeLabelFormats),F=F.dateFormatter&&F.dateFormatter(x)||Q.dateFormatter&&Q.dateFormatter(x)||F.dateFormat||Q.dateFormat||he,pe=pe.time.dateFormat(F,x.x||0,void 0)):pe=void 0,F=(x.series.xAxis||{}).categories&&g(x.category)&&(""+x.category).replace("<br/>"," "),Q=g(x.id)&&0>(""+x.id).indexOf("highcharts-"),he="x, "+x.x,pe=x.name||pe||F||(Q?x.id:he)}else pe="";F=pe,pe=g(x.index)?x.index+1:"";{Q=x.series;var ce=Q.chart.options.accessibility.point||{},ge=Q.chart.options.accessibility&&Q.chart.options.accessibility.point||{};const ke=Q.tooltipOptions||{};he=ge.valuePrefix||ce.valuePrefix||ke.valuePrefix||"",ce=ge.valueSuffix||ce.valueSuffix||ke.valueSuffix||"",ge=z(x,x[typeof x.value<"u"?"value":"y"]),Q=x.isNull?Q.chart.langFormat("accessibility.series.nullPointValue",{point:x}):Q.pointArrayMap?O(x,he,ce):he+ge+ce}return K=te(le,{point:x,index:pe,xDescription:F,value:Q,separator:Y?", ":""},K),le=(le=x.options&&x.options.accessibility&&x.options.accessibility.description)?" "+le:"",k=q?" "+k.name+".":"",q=x.series.chart,Y=P(x),pe={point:x,annotations:Y},q=Y.length?q.langFormat("accessibility.series.pointAnnotationsDescription",pe):"",x.accessibility=x.accessibility||{},x.accessibility.valueDescription=K,K+le+k+(q?" "+q:"")}function M(x){const k=J(x),q=I(x),Y=x.chart.options.accessibility.point.describeNull;(k||q)&&x.points.forEach(K=>{var le;if(!(le=K.graphic&&K.graphic.element)){var he=K.series;if(le=he&&he.chart,he=he&&he.is("sunburst"),le=le&&le.options.accessibility.point.describeNull,le=K.isNull&&!he&&le){he=K.series;var pe=b(K);he=(le=pe&&pe.graphic)?le.parentGroup:he.graph||he.group,pe=pe?{x:m(K.plotX,pe.plotX,0),y:m(K.plotY,pe.plotY,0)}:{x:m(K.plotX,0),y:m(K.plotY,0)},pe=K.series.chart.renderer.rect(pe.x,pe.y,1,1),pe.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),he&&he.element?(K.graphic=pe,K.hasMockGraphic=!0,pe.add(he),he.element.insertBefore(pe.element,le?le.element:null),le=pe.element):le=void 0}}he=K.options&&K.options.accessibility&&K.options.accessibility.enabled===!1,le&&(K.isNull&&!Y?le.setAttribute("aria-hidden",!0):(le.setAttribute("tabindex","-1"),x.chart.styledMode||(le.style.outline="none"),k&&!he?(pe=K.series,he=pe.chart.options.accessibility.point||{},pe=pe.options.accessibility&&pe.options.accessibility.point||{},K=j(pe.descriptionFormatter&&pe.descriptionFormatter(K)||he.descriptionFormatter&&he.descriptionFormatter(K)||G(K)),le.setAttribute("role","img"),le.setAttribute("aria-label",K)):le.setAttribute("aria-hidden",!0)))})}function S(x){const k=x.chart;var q=k.types||[];const Y=Z(x);var K=function(Q){return k[Q]&&1<k[Q].length&&x[Q]};const le=x.index+1;var he=L(x,"xAxis");const pe=L(x,"yAxis");var F={seriesNumber:le,series:x,chart:k};return q=1<q.length?"Combination":"",F=k.langFormat("accessibility.series.summary."+x.type+q,F)||k.langFormat("accessibility.series.summary.default"+q,F),K=(K("yAxis")?" "+pe+".":"")+(K("xAxis")?" "+he+".":""),he=m(x.options.accessibility&&x.options.accessibility.descriptionFormat,k.options.accessibility.series.descriptionFormat,""),te(he,{seriesDescription:F,authorDescription:Y?" "+Y:"",axisDescription:K,series:x,chart:k,seriesNumber:le},void 0)}const{getPointAnnotationTexts:P}=r,{getAxisDescription:H,getSeriesFirstPointElement:U,getSeriesA11yElement:E,unhideChartElementFromAT:ie}=o,{format:te,numberFormat:$}=d,{reverseChildNodes:V,stripHTMLTagsFromString:j}=h,{find:w,isNumber:D,pick:m,defined:g}=s;return{defaultPointDescriptionFormatter:G,defaultSeriesDescriptionFormatter:S,describeSeries:function(x){var k=x.chart,q=U(x);const Y=E(x);var K=k.is3d&&k.is3d();if(Y){Y.lastChild!==q||K||V(Y),M(x),ie(k,Y);{K=x.chart,k=K.options.chart,q=1<K.series.length,K=K.options.accessibility.series.describeSingleSeries;const le=(x.options.accessibility||{}).exposeAsGroupOnly;k=!(k.options3d&&k.options3d.enabled&&q)&&(q||K||le||R(x))}k?(k=x.chart.options.accessibility,q=k.landmarkVerbosity,(x.options.accessibility||{}).exposeAsGroupOnly?Y.setAttribute("role","img"):q==="all"?Y.setAttribute("role","region"):Y.setAttribute("role","group"),Y.setAttribute("tabindex","-1"),x.chart.styledMode||(Y.style.outline="none"),Y.setAttribute("aria-label",j(k.series.descriptionFormatter&&k.series.descriptionFormatter(x)||S(x)))):Y.removeAttribute("aria-label")}}}}),n(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(r,o,d,h,s,b){function R(M){const S=M.series.data.filter(P=>M.x===P.x&&M.y===P.y);return S.length===1?S[0]:M}function J(M,S){const P=(M||[]).concat(S||[]).reduce((H,U)=>(H[U.name+U.index]=U,H),{});return Object.keys(P).map(H=>P[H])}const{addEvent:I,defined:z}=o,{getChartTitle:Z}=h,{defaultPointDescriptionFormatter:L,defaultSeriesDescriptionFormatter:O}=b;class G{constructor(S){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=S}init(){const S=this.chart,P=S.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new s,this.announcer=new d(S,P),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){const S=this,P=this.chart,H=this.eventProvider;H.addEvent(P,"afterApplyDrilldown",function(){S.lastAnnouncementTime=0}),H.addEvent(P,"afterAddSeries",function(U){S.onSeriesAdded(U.series)}),H.addEvent(P,"redraw",function(){S.announceDirtyData()})}onSeriesAdded(S){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[S.name+S.index]=S,this.dirty.newSeries=z(this.dirty.newSeries)?void 0:S)}announceDirtyData(){const S=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){let P=this.dirty.newPoint;P&&(P=R(P)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(H=>S.dirty.allSeries[H]),this.dirty.newSeries,P),this.dirty={allSeries:{}}}}queueAnnouncement(S,P,H){var U=this.chart.options.accessibility.announceNewData;if(U.enabled){const E=+new Date;U=Math.max(0,U.minAnnounceInterval-(E-this.lastAnnouncementTime)),S=J(this.queuedAnnouncement&&this.queuedAnnouncement.series,S),(P=this.buildAnnouncementMessage(S,P,H))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:E,message:P,series:S},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},U))}}buildAnnouncementMessage(S,P,H){const U=this.chart;var E=U.options.accessibility.announceNewData;return E.announcementFormatter&&(S=E.announcementFormatter(S,P,H),S!==!1)?S.length?S:null:(S=r.charts&&1<r.charts.length?"Multiple":"Single",S=P?"newSeriesAnnounce"+S:H?"newPointAnnounce"+S:"newDataAnnounce",E=Z(U),U.langFormat("accessibility.announceNewData."+S,{chartTitle:E,seriesDesc:P?O(P):null,pointDesc:H?L(H):null,point:H,series:P}))}}return function(M){function S(H){const U=this.chart,E=this.newDataAnnouncer;E&&E.chart===U&&U.options.accessibility.announceNewData.enabled&&(E.dirty.newPoint=z(E.dirty.newPoint)?void 0:H.point)}function P(){const H=this.chart,U=this.newDataAnnouncer;U&&U.chart===H&&H.options.accessibility.announceNewData.enabled&&(U.dirty.hasDirty=!0,U.dirty.allSeries[this.name+this.index]=this)}M.composedMembers=[],M.compose=function(H){o.pushUnique(M.composedMembers,H)&&(I(H,"addPoint",S),I(H,"updatedData",P))}}(G||(G={})),G}),n(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(r,o,d,h,s){const{doc:b}=r,{attr:R,css:J,merge:I}=o,{fireEventOnWrappedOrUnwrappedElement:z}=h,{cloneMouseEvent:Z,cloneTouchEvent:L,getFakeMouseEvent:O,removeElement:G}=s;class M{constructor(P,H,U,E){this.chart=P,this.target=H,this.groupType=U,U=U==="ul",this.eventProvider=new d;const ie=U?b.createElement("li"):null,te=this.buttonElement=b.createElement("button");P.styledMode||this.hideButtonVisually(te),ie?(U&&!P.styledMode&&(ie.style.listStyle="none"),ie.appendChild(te),this.element=ie):this.element=te,this.updateTarget(H,E)}click(){var P=this.getTargetPosition();P.x+=P.width/2,P.y+=P.height/2,P=O("click",P),z(this.target.click,P)}updateTarget(P,H){this.target=P,this.updateCSSClassName();const U=H||{};Object.keys(U).forEach(E=>{U[E]===null&&delete U[E]}),R(this.buttonElement,I({"aria-label":this.getTargetAttr(P.click,"aria-label")},U)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,P.click),this.refreshPosition()}refreshPosition(){const P=this.getTargetPosition();J(this.buttonElement,{width:(P.width||1)+"px",height:(P.height||1)+"px",left:(Math.round(P.x)||0)+"px",top:(Math.round(P.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),G(this.element)}updateCSSClassName(){var P=this.chart.legend;P=P.group&&P.group.div,P=-1<(P&&P.className||"").indexOf("highcharts-no-tooltip");const H=-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip");this.buttonElement.className=P||H?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"}addProxyEventsToButton(P,H){"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(U=>{const E=U.indexOf("touch")===0;this.eventProvider.addEvent(P,U,ie=>{const te=E?L(ie):Z(ie);H&&z(H,te),ie.stopPropagation(),E||ie.preventDefault()},{passive:!1})})}hideButtonVisually(P){J(P,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){var P=this.target.click;if(P=P.element?P.element:P,P=this.target.visual||P,this.chart.renderTo&&P&&P.getBoundingClientRect){P=P.getBoundingClientRect();const H=this.chart.pointer.getChartPosition();return{x:(P.left-H.left)/H.scaleX,y:(P.top-H.top)/H.scaleY,width:P.right/H.scaleX-P.left/H.scaleX,height:P.bottom/H.scaleY-P.top/H.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(P,H){return P.element?P.element.getAttribute(H):P.getAttribute(H)}}return M}),n(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],function(r,o,d,h,s,b){const{doc:R}=r,{attr:J,css:I}=o,{unhideChartElementFromAT:z}=d,{removeElement:Z,removeChildNodes:L}=s;class O{constructor(M){this.chart=M,this.domElementProvider=new h,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(M,S,P){const H=this.groups[M];if(!H)throw Error("ProxyProvider.addProxyElement: Invalid group key "+M);return M=new b(this.chart,S,H.type,P),H.proxyContainerElement.appendChild(M.element),H.proxyElements.push(M),M}addGroup(M,S,P){var H=this.groups[M];if(H)return H.groupElement;H=this.domElementProvider.createElement(S);let U;return P&&P.role&&S!=="div"?(U=this.domElementProvider.createElement("div"),U.appendChild(H)):U=H,U.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+M.replace(/\W/g,"-"),this.groups[M]={proxyContainerElement:H,groupElement:U,type:S,proxyElements:[]},J(U,P||{}),S==="ul"&&H.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(U),this.updateGroupOrder(this.groupOrder),U}updateGroupAttrs(M,S){const P=this.groups[M];if(!P)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+M);J(P.groupElement,S)}updateGroupOrder(M){if(this.groupOrder=M.slice(),!this.isDOMOrderGroupOrder()){var S=M.indexOf("series"),P=-1<S?M.slice(0,S):M,H=-1<S?M.slice(S+1):[];M=R.activeElement,["before","after"].forEach(U=>{const E=this[U==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];U=U==="before"?P:H,L(E),U.forEach(ie=>{(ie=this.groups[ie])&&E.appendChild(ie.groupElement)})}),(this.beforeChartProxyPosContainer.contains(M)||this.afterChartProxyPosContainer.contains(M))&&M&&M.focus&&M.focus()}}clearGroup(M){const S=this.groups[M];if(!S)throw Error("ProxyProvider.clearGroup: Invalid group key "+M);L(S.proxyContainerElement)}removeGroup(M){const S=this.groups[M];S&&(Z(S.groupElement),delete this.groups[M])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(M){(M=this.groups[M])&&M.proxyElements.forEach(S=>S.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(M){const S=this.domElementProvider.createElement("div");return S.setAttribute("aria-hidden","false"),S.className="highcharts-a11y-proxy-container"+(M?"-"+M:""),I(S,{top:"0",left:"0"}),this.chart.styledMode||(S.style.whiteSpace="nowrap",S.style.position="absolute"),S}getCurrentGroupOrderInDOM(){const M=H=>{const U=Object.keys(this.groups);let E=U.length;for(;E--;){const ie=U[E],te=this.groups[ie];if(te&&H===te.groupElement)return ie}};var S=H=>{const U=[];H=H.children;for(let E=0;E<H.length;++E){const ie=M(H[E]);ie&&U.push(ie)}return U};const P=S(this.beforeChartProxyPosContainer);return S=S(this.afterChartProxyPosContainer),P.push("series"),P.concat(S)}isDOMOrderGroupOrder(){const M=this.getCurrentGroupOrderInDOM(),S=this.groupOrder.filter(H=>H==="series"||!!this.groups[H]);let P=M.length;if(P!==S.length)return!1;for(;P--;)if(M[P]!==S[P])return!1;return!0}updatePosContainerPositions(){const M=this.chart;if(!M.renderer.forExport){var S=M.renderer.box;M.container.insertBefore(this.afterChartProxyPosContainer,S.nextSibling),M.container.insertBefore(this.beforeChartProxyPosContainer,S),z(this.chart,this.afterChartProxyPosContainer),z(this.chart,this.beforeChartProxyPosContainer)}}}return O}),n(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),n(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(r,o,d){function h(){const V=this.range,j=V.type,w=this.max,D=this.chart.time,m=function(q,Y){const K=j==="year"?"FullYear":"Month",le=new D.Date(q),he=D.get(K,le);return D.set(K,le,he+Y),he===D.get(K,le)&&D.set("Date",le,0),le.getTime()-q};let g,x;H(V)?(g=w-V,x=V):V&&(g=w+m(w,-(V.count||1)),this.chart&&(this.chart.fixedRange=w-g));const k=E(this.dataMin,Number.MIN_VALUE);return H(g)||(g=k),g<=k&&(g=k,typeof x>"u"&&(x=m(g,V.count)),this.newMax=Math.min(g+x,E(this.dataMax,Number.MAX_VALUE))),H(w)?!H(V)&&V&&V._offsetMin&&(g+=V._offsetMin):g=void 0,g}function s(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new $(this))}function b(){var V=this.axes;const j=this.rangeSelector;j&&(H(j.deferredYTDClick)&&(j.clickButton(j.deferredYTDClick),delete j.deferredYTDClick),V.forEach(w=>{w.updateNames(),w.setScale()}),this.getAxisMargins(),j.render(),V=j.options.verticalAlign,j.options.floating||(V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0)))}function R(V){let j,w,D,m;const g=V.rangeSelector,x=()=>{g&&(j=V.xAxis[0].getExtremes(),w=V.legend,m=g&&g.options.verticalAlign,H(j.min)&&g.render(j.min,j.max),w.display&&m==="top"&&m===w.options.verticalAlign&&(D=U(V.spacingBox),D.y=w.options.layout==="vertical"?V.plotTop:D.y+g.getHeight(),w.group.placed=!1,w.align(D)))};g&&(P(ie,k=>k[0]===V)||ie.push([V,[G(V.xAxis[0],"afterSetExtremes",function(k){g&&g.render(k.min,k.max)}),G(V,"redraw",x)]]),x())}function J(){for(let V=0,j=ie.length;V<j;++V){const w=ie[V];if(w[0]===this){w[1].forEach(D=>D()),ie.splice(V,1);break}}}function I(){var V=this.rangeSelector;V&&(V=V.getHeight(),this.extraTopMargin&&(this.plotTop+=V),this.extraBottomMargin&&(this.marginBottom+=V))}function z(){var V=this.rangeSelector;V&&!V.options.floating&&(V.render(),V=V.options.verticalAlign,V==="bottom"?this.extraBottomMargin=!0:V!=="middle"&&(this.extraTopMargin=!0))}function Z(V){var j=V.options.rangeSelector;V=this.extraBottomMargin;const w=this.extraTopMargin;let D=this.rangeSelector;j&&j.enabled&&!M(D)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=D=new $(this)),this.extraTopMargin=this.extraBottomMargin=!1,D&&(R(this),j=j&&j.verticalAlign||D.options&&D.options.verticalAlign,D.options.floating||(j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==V||this.extraTopMargin!==w)&&(this.isDirtyBox=!0)}const{defaultOptions:L,setOptions:O}=r,{addEvent:G,defined:M,extend:S,find:P,isNumber:H,merge:U,pick:E}=d,ie=[],te=[];let $;return{compose:function(V,j,w){$=w,d.pushUnique(te,V)&&(V.prototype.minFromRange=h),d.pushUnique(te,j)&&(G(j,"afterGetContainer",s),G(j,"beforeRender",b),G(j,"destroy",J),G(j,"getMargins",I),G(j,"render",z),G(j,"update",Z),j.prototype.callbacks.push(R)),d.pushUnique(te,O)&&(S(L,{rangeSelector:o.rangeSelector}),S(L.lang,o.lang))}}}),n(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,b){function R(j){if(j.indexOf("%L")!==-1)return"text";const w="aAdewbBmoyY".split("").some(m=>j.indexOf("%"+m)!==-1),D="HkIlMS".split("").some(m=>j.indexOf("%"+m)!==-1);return w&&D?"datetime-local":w?"date":D?"time":"text"}const{defaultOptions:J}=o,{addEvent:I,createElement:z,css:Z,defined:L,destroyObjectProperties:O,discardElement:G,extend:M,fireEvent:S,isNumber:P,merge:H,objectEach:U,pad:E,pick:ie,pInt:te,splat:$}=b;class V{static compose(w,D){h.compose(w,D,V)}constructor(w){this.buttons=void 0,this.buttonOptions=V.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=w,this.init(w)}clickButton(w,D){const m=this.chart,g=this.buttonOptions[w],x=m.xAxis[0];var k=m.scroller&&m.scroller.getUnionExtremes()||x||{},q=g.type;const Y=g.dataGrouping;let K=k.dataMin,le=k.dataMax,he,pe=x&&Math.round(Math.min(x.max,ie(le,x.max))),F;k=g._range;let Q,ce,ge,ke=!0;if(K!==null&&le!==null){if(m.fixedRange=k,this.setSelected(w),Y&&(this.forcedDataGrouping=!0,r.prototype.setDataGrouping.call(x||{chart:this.chart},Y,!1),this.frozenStates=g.preserveDataGrouping),q==="month"||q==="year")x?(q={range:g,max:pe,chart:m,dataMin:K,dataMax:le},he=x.minFromRange.call(q),P(q.newMax)&&(pe=q.newMax),ke=!1):k=g;else if(k)he=Math.max(pe-k,K),pe=Math.min(he+k,le),ke=!1;else if(q==="ytd")if(x)(typeof le>"u"||typeof K>"u")&&(K=Number.MAX_VALUE,le=Number.MIN_VALUE,m.series.forEach(re=>{(re=re.xData)&&(K=Math.min(re[0],K),le=Math.max(re[re.length-1],le))}),D=!1),q=this.getYTDExtremes(le,K,m.time.useUTC),he=Q=q.min,pe=q.max;else{this.deferredYTDClick=w;return}else q==="all"&&x&&(m.navigator&&m.navigator.baseSeries[0]&&(m.navigator.baseSeries[0].xAxis.options.range=void 0),he=K,pe=le);ke&&g._offsetMin&&L(he)&&(he+=g._offsetMin),g._offsetMax&&L(pe)&&(pe+=g._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=w+1),x?x.setExtremes(he,pe,ie(D,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:g}):(F=$(m.options.xAxis)[0],ge=F.range,F.range=k,ce=F.min,F.min=Q,I(m,"load",function(){F.range=ge,F.min=ce})),S(this,"afterBtnClick")}}setSelected(w){this.selected=this.options.selected=w}init(w){const D=this,m=w.options.rangeSelector,g=m.buttons||D.defaultButtons.slice(),x=m.selected,k=function(){const q=D.minInput,Y=D.maxInput;q&&q.blur&&S(q,"blur"),Y&&Y.blur&&S(Y,"blur")};D.chart=w,D.options=m,D.buttons=[],D.buttonOptions=g,this.eventsToUnbind=[],this.eventsToUnbind.push(I(w.container,"mousedown",k)),this.eventsToUnbind.push(I(w,"resize",k)),g.forEach(D.computeButtonRange),typeof x<"u"&&g[x]&&this.clickButton(x,!1),this.eventsToUnbind.push(I(w,"load",function(){w.xAxis&&w.xAxis[0]&&I(w.xAxis[0],"setExtremes",function(q){this.max-this.min!==w.fixedRange&&q.trigger!=="rangeSelectorButton"&&q.trigger!=="updatedData"&&D.forcedDataGrouping&&!D.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const w=this;var D=this.chart;const m=this.dropdown,g=D.xAxis[0],x=Math.round(g.max-g.min),k=!g.hasVisibleSeries,q=D.scroller&&D.scroller.getUnionExtremes()||g,Y=q.dataMin,K=q.dataMax;D=w.getYTDExtremes(K,Y,D.time.useUTC);const le=D.min,he=D.max,pe=w.selected,F=w.options.allButtonsEnabled,Q=w.buttons;let ce=P(pe);w.buttonOptions.forEach((ge,ke)=>{var re=ge._range,ve=ge.type,_e=ge.count||1;const oe=Q[ke],ye=ge._offsetMax-ge._offsetMin,Te=ke===pe,Oe=re>K-Y,Le=re<g.minRange;ge=0;let Ue=!1,nt=!1;re=re===x,(ve==="month"||ve==="year")&&x+36e5>=864e5*{month:28,year:365}[ve]*_e-ye&&x-36e5<=864e5*{month:31,year:366}[ve]*_e+ye?re=!0:ve==="ytd"?(re=he-le+ye===x,Ue=!Te):ve==="all"&&(re=g.max-g.min>=K-Y,nt=!Te&&ce&&re),ve=!F&&(Oe||Le||nt||k),_e=Te&&re||re&&!ce&&!Ue||Te&&w.frozenStates,ve?ge=3:_e&&(ce=!0,ge=2),oe.state!==ge&&(oe.setState(ge),m&&(m.options[ke+1].disabled=ve,ge===2&&(m.selectedIndex=ke+1)),ge===0&&pe===ke&&w.setSelected())})}computeButtonRange(w){const D=w.type,m=w.count||1,g={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};g[D]?w._range=g[D]*m:(D==="month"||D==="year")&&(w._range=864e5*{month:30,year:365}[D]*m),w._offsetMin=ie(w.offsetMin,0),w._offsetMax=ie(w.offsetMax,0),w._range+=w._offsetMax-w._offsetMin}getInputValue(w){w=w==="min"?this.minInput:this.maxInput;const D=this.chart.options.rangeSelector,m=this.chart.time;return w?(w.type==="text"&&D.inputDateParser||this.defaultInputDateParser)(w.value,m.useUTC,m):0}setInputValue(w,D){const m=this.options,g=this.chart.time,x=w==="min"?this.minInput:this.maxInput;if(w=w==="min"?this.minDateBox:this.maxDateBox,x){var k=x.getAttribute("data-hc-time");k=L(k)?Number(k):void 0,L(D)&&(L(k)&&x.setAttribute("data-hc-time-previous",k),x.setAttribute("data-hc-time",D),k=D),x.value=g.dateFormat(this.inputTypeFormats[x.type]||m.inputEditDateFormat,k),w&&w.attr({text:g.dateFormat(m.inputDateFormat,k)})}}setInputExtremes(w,D,m){if(w=w==="min"?this.minInput:this.maxInput){const g=this.inputTypeFormats[w.type],x=this.chart.time;g&&(D=x.dateFormat(g,D),w.min!==D&&(w.min=D),m=x.dateFormat(g,m),w.max!==m&&(w.max=m))}}showInput(w){const D=w==="min"?this.minDateBox:this.maxDateBox;if((w=w==="min"?this.minInput:this.maxInput)&&D&&this.inputGroup){const m=w.type==="text",{translateX:g,translateY:x}=this.inputGroup,{inputBoxWidth:k}=this.options;Z(w,{width:m?D.width+(k?-2:20)+"px":"auto",height:D.height-2+"px",border:"2px solid silver"}),m&&k?Z(w,{left:g+D.x+"px",top:x+"px"}):Z(w,{left:Math.min(Math.round(D.x+g-(w.offsetWidth-D.width)/2),this.chart.chartWidth-w.offsetWidth)+"px",top:x-(w.offsetHeight-D.height)/2+"px"})}}hideInput(w){(w=w==="min"?this.minInput:this.maxInput)&&Z(w,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(w,D,m){var g=w.split("/").join("-").split(" ").join("T");if(g.indexOf("T")===-1&&(g+="T00:00"),D)g+="Z";else{var x;(x=d.isSafari)&&(x=g,x=!(6<x.length&&(x.lastIndexOf("-")===x.length-6||x.lastIndexOf("+")===x.length-6))),x&&(x=new Date(g).getTimezoneOffset()/60,g+=0>=x?`+${E(-x)}:00`:`-${E(x)}:00`)}return g=Date.parse(g),P(g)||(w=w.split("-"),g=Date.UTC(te(w[0]),te(w[1])-1,te(w[2]))),m&&D&&P(g)&&(g+=m.getTimezoneOffset(g)),g}drawInput(w){function D(){const{maxInput:Q,minInput:ce}=k,ge=m.xAxis[0];var ke=m.scroller&&m.scroller.xAxis?m.scroller.xAxis:ge;const re=ke.dataMin;ke=ke.dataMax;let ve=k.getInputValue(w);ve!==Number(pe.getAttribute("data-hc-time-previous"))&&P(ve)&&(pe.setAttribute("data-hc-time-previous",ve),le&&Q&&P(re)?ve>Number(Q.getAttribute("data-hc-time"))?ve=void 0:ve<re&&(ve=re):ce&&P(ke)&&(ve<Number(ce.getAttribute("data-hc-time"))?ve=void 0:ve>ke&&(ve=ke)),typeof ve<"u"&&ge.setExtremes(le?ve:ge.min,le?ge.max:ve,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:m,div:g,inputGroup:x}=this,k=this,q=m.renderer.style||{};var Y=m.renderer;const K=m.options.rangeSelector,le=w==="min";var he=J.lang[le?"rangeSelectorFrom":"rangeSelectorTo"]||"";he=Y.label(he,0).addClass("highcharts-range-label").attr({padding:he?2:0,height:he?K.inputBoxHeight:0}).add(x),Y=Y.label("",0).addClass("highcharts-range-input").attr({padding:2,width:K.inputBoxWidth,height:K.inputBoxHeight,"text-align":"center"}).on("click",function(){k.showInput(w),k[w+"Input"].focus()}),m.styledMode||Y.attr({stroke:K.inputBoxBorderColor,"stroke-width":1}),Y.add(x);const pe=z("input",{name:w,className:"highcharts-range-selector"},void 0,g);pe.setAttribute("type",R(K.inputDateFormat||"%e %b %Y")),m.styledMode||(he.css(H(q,K.labelStyle)),Y.css(H({color:"#333333"},q,K.inputStyle)),Z(pe,M({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:q.fontSize,fontFamily:q.fontFamily,top:"-9999em"},K.inputStyle))),pe.onfocus=()=>{k.showInput(w)},pe.onblur=()=>{pe===d.doc.activeElement&&D(),k.hideInput(w),k.setInputValue(w),pe.blur()};let F=!1;return pe.onchange=()=>{F||(D(),k.hideInput(w),pe.blur())},pe.onkeypress=Q=>{Q.keyCode===13&&D()},pe.onkeydown=Q=>{F=!0,Q.keyCode!==38&&Q.keyCode!==40||D()},pe.onkeyup=()=>{F=!1},{dateBox:Y,input:pe,label:he}}getPosition(){var w=this.chart;const D=w.options.rangeSelector;return w=D.verticalAlign==="top"?w.plotTop-w.axisOffset[0]:0,{buttonTop:w+D.buttonPosition.y,inputTop:w+D.inputPosition.y-10}}getYTDExtremes(w,D,m){const g=this.chart.time;var x=new g.Date(w);const k=g.get("FullYear",x);return m=m?g.Date.UTC(k,0,1):+new g.Date(k,0,1),D=Math.max(D,m),x=x.getTime(),{max:Math.min(w||x,x),min:D}}render(w,D){var m=this.chart,g=m.renderer;const x=m.container;var k=m.options;const q=k.rangeSelector,Y=ie(k.chart.style&&k.chart.style.zIndex,0)+1;if(k=q.inputEnabled,q.enabled!==!1){if(this.rendered||(this.group=g.g("range-selector-group").attr({zIndex:7}).add(),this.div=z("div",void 0,{position:"relative",height:0,zIndex:Y}),this.buttonOptions.length&&this.renderButtons(),x.parentNode&&x.parentNode.insertBefore(this.div,x),k&&(this.inputGroup=g.g("input-group").add(this.group),g=this.drawInput("min"),this.minDateBox=g.dateBox,this.minLabel=g.label,this.minInput=g.input,g=this.drawInput("max"),this.maxDateBox=g.dateBox,this.maxLabel=g.label,this.maxInput=g.input)),k&&(this.setInputValue("min",w),this.setInputValue("max",D),w=m.scroller&&m.scroller.getUnionExtremes()||m.xAxis[0]||{},L(w.dataMin)&&L(w.dataMax)&&(m=m.xAxis[0].minRange||0,this.setInputExtremes("min",w.dataMin,Math.min(w.dataMax,this.getInputValue("max"))-m),this.setInputExtremes("max",Math.max(w.dataMin,this.getInputValue("min"))+m,w.dataMax)),this.inputGroup)){let K=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(le=>{if(le){const{width:he}=le.getBBox();he&&(le.attr({x:K}),K+=he+q.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:w,chart:D,options:m}=this,g=J.lang,x=D.renderer,k=H(m.buttonTheme),q=k&&k.states,Y=k.width||28;delete k.width,delete k.states,this.buttonGroup=x.g("range-selector-buttons").add(this.group);const K=this.dropdown=z("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);I(K,"touchstart",()=>{K.style.fontSize="16px"}),[[d.isMS?"mouseover":"mouseenter"],[d.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([le,he])=>{I(K,le,()=>{const pe=w[this.currentButtonIndex()];pe&&S(pe.element,he||le)})}),this.zoomText=x.label(g&&g.rangeSelectorZoom||"",0).attr({padding:m.buttonTheme.padding,height:m.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(m.labelStyle),k["stroke-width"]=ie(k["stroke-width"],0)),z("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,K),this.buttonOptions.forEach((le,he)=>{z("option",{textContent:le.title||le.text},void 0,K),w[he]=x.button(le.text,0,0,pe=>{const F=le.events&&le.events.click;let Q;F&&(Q=F.call(le,pe)),Q!==!1&&this.clickButton(he),this.isActive=!0},k,q&&q.hover,q&&q.select,q&&q.disabled).attr({"text-align":"center",width:Y}).add(this.buttonGroup),le.title&&w[he].attr("title",le.title)})}alignElements(){const{buttonGroup:w,buttons:D,chart:m,group:g,inputGroup:x,options:k,zoomText:q}=this;var Y=m.options;const K=Y.exporting&&Y.exporting.enabled!==!1&&Y.navigation&&Y.navigation.buttonOptions,{buttonPosition:le,inputPosition:he,verticalAlign:pe}=k;Y=(ge,ke)=>K&&this.titleCollision(m)&&pe==="top"&&ke.align==="right"&&ke.y-ge.getBBox().height-12<(K.y||0)+(K.height||0)+m.spacing[0]?-40:0;var F=m.plotLeft;if(g&&le&&he){var Q=le.x-m.spacing[3];if(w){if(this.positionButtons(),!this.initialButtonGroupWidth){let ve=0;q&&(ve+=q.getBBox().width+5),D.forEach((_e,oe)=>{ve+=_e.width,oe!==D.length-1&&(ve+=k.buttonSpacing)}),this.initialButtonGroupWidth=ve}F-=m.spacing[3],this.updateButtonStates();var ce=Y(w,le);this.alignButtonGroup(ce),g.placed=w.placed=m.hasLoaded}ce=0,x&&(ce=Y(x,he),he.align==="left"?Q=F:he.align==="right"&&(Q=-Math.max(m.axisOffset[1],-ce)),x.align({y:he.y,width:x.getBBox().width,align:he.align,x:he.x+Q-2},!0,m.spacingBox),x.placed=m.hasLoaded),this.handleCollision(ce),g.align({verticalAlign:pe},!0,m.spacingBox),Y=g.alignAttr.translateY,F=g.getBBox().height+20,Q=0,pe==="bottom"&&(Q=(Q=m.legend&&m.legend.options)&&Q.verticalAlign==="bottom"&&Q.enabled&&!Q.floating?m.legend.legendHeight+ie(Q.margin,10):0,F=F+Q-20,Q=Y-F-(k.floating?0:k.y)-(m.titleOffset?m.titleOffset[2]:0)-10),pe==="top"?(k.floating&&(Q=0),m.titleOffset&&m.titleOffset[0]&&(Q=m.titleOffset[0]),Q+=m.margin[0]-m.spacing[0]||0):pe==="middle"&&(he.y===le.y?Q=Y:(he.y||le.y)&&(Q=0>he.y||0>le.y?Q-Math.min(he.y,le.y):Y-F)),g.translate(k.x,k.y+Math.floor(Q));const{minInput:ge,maxInput:ke,dropdown:re}=this;k.inputEnabled&&ge&&ke&&(ge.style.marginTop=g.translateY+"px",ke.style.marginTop=g.translateY+"px"),re&&(re.style.marginTop=g.translateY+"px")}}alignButtonGroup(w,D){const{chart:m,options:g,buttonGroup:x}=this,{buttonPosition:k}=g,q=m.plotLeft-m.spacing[3];let Y=k.x-m.spacing[3];k.align==="right"?Y+=w-q:k.align==="center"&&(Y-=q/2),x&&x.align({y:k.y,width:ie(D,this.initialButtonGroupWidth),align:k.align,x:Y},!0,m.spacingBox)}positionButtons(){const{buttons:w,chart:D,options:m,zoomText:g}=this,x=D.hasLoaded?"animate":"attr",{buttonPosition:k}=m,q=D.plotLeft;let Y=q;g&&g.visibility!=="hidden"&&(g[x]({x:ie(q+k.x,q)}),Y+=k.x+g.getBBox().width+5);for(let K=0,le=this.buttonOptions.length;K<le;++K)w[K].visibility!=="hidden"?(w[K][x]({x:Y}),Y+=w[K].width+m.buttonSpacing):w[K][x]({x:q})}handleCollision(w){const{chart:D,buttonGroup:m,inputGroup:g}=this,{buttonPosition:x,dropdown:k,inputPosition:q}=this.options,Y=()=>{let he=0;return this.buttons.forEach(pe=>{pe=pe.getBBox(),pe.width>he&&(he=pe.width)}),he},K=he=>{if(g&&m){const pe=g.alignAttr.translateX+g.alignOptions.x-w+g.getBBox().x+2,F=g.alignOptions.width,Q=m.alignAttr.translateX+m.getBBox().x;return Q+he>pe&&pe+F>Q&&x.y<q.y+g.getBBox().height}return!1},le=()=>{g&&m&&g.attr({translateX:g.alignAttr.translateX+(D.axisOffset[1]>=-w?0:-w),translateY:g.alignAttr.translateY+m.getBBox().height+10})};if(m){if(k==="always"){this.collapseButtons(w),K(Y())&&le();return}k==="never"&&this.expandButtons()}g&&m?q.align===x.align||K(this.initialButtonGroupWidth+20)?k==="responsive"?(this.collapseButtons(w),K(Y())&&le()):le():k==="responsive"&&this.expandButtons():m&&k==="responsive"&&(this.initialButtonGroupWidth>D.plotWidth?this.collapseButtons(w):this.expandButtons())}collapseButtons(w){const{buttons:D,buttonOptions:m,chart:g,dropdown:x,options:k,zoomText:q}=this,Y=g.userOptions.rangeSelector&&g.userOptions.rangeSelector.buttonTheme||{},K=pe=>({text:pe?`${pe} ▾`:"▾",width:"auto",paddingLeft:ie(k.buttonTheme.paddingLeft,Y.padding,8),paddingRight:ie(k.buttonTheme.paddingRight,Y.padding,8)});q&&q.hide();let le=!1;m.forEach((pe,F)=>{F=D[F],F.state!==2?F.hide():(F.show(),F.attr(K(pe.text)),le=!0)}),le||(x&&(x.selectedIndex=0),D[0].show(),D[0].attr(K(this.zoomText&&this.zoomText.textStr)));const{align:he}=k.buttonPosition;this.positionButtons(),he!=="right"&&he!=="center"||this.alignButtonGroup(w,D[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:w,buttonOptions:D,options:m,zoomText:g}=this;this.hideDropdown(),g&&g.show(),D.forEach((x,k)=>{k=w[k],k.show(),k.attr({text:x.text,width:m.buttonTheme.width||28,paddingLeft:ie(m.buttonTheme.paddingLeft,"unset"),paddingRight:ie(m.buttonTheme.paddingRight,"unset")}),2>k.state&&k.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:w}=this;return w&&0<w.selectedIndex?w.selectedIndex-1:0}showDropdown(){const{buttonGroup:w,buttons:D,chart:m,dropdown:g}=this;if(w&&g){const{translateX:x,translateY:k}=w,q=D[this.currentButtonIndex()].getBBox();Z(g,{left:m.plotLeft+x+"px",top:k+.5+"px",width:q.width+"px",height:q.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:w}=this;w&&(Z(w,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var w=this.options,D=this.group;const m=w.y,g=w.buttonPosition.y,x=w.inputPosition.y;return w.height?w.height:(this.alignElements(),w=D?D.getBBox(!0).height+13+m:0,D=Math.min(x,g),(0>x&&0>g||0<x&&0<g)&&(w+=Math.abs(D)),w)}titleCollision(w){return!(w.options.title.text||w.options.subtitle.text)}update(w){const D=this.chart;H(!0,D.options.rangeSelector,w),this.destroy(),this.init(D),this.render()}destroy(){const w=this,D=w.minInput,m=w.maxInput;w.eventsToUnbind&&(w.eventsToUnbind.forEach(g=>g()),w.eventsToUnbind=void 0),O(w.buttons),D&&(D.onfocus=D.onblur=D.onchange=null),m&&(m.onfocus=m.onblur=m.onchange=null),U(w,function(g,x){g&&x!=="chart"&&(g instanceof s?g.destroy():g instanceof window.HTMLElement&&G(g)),g!==V.prototype[x]&&(w[x]=null)},this)}}return M(V.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),V}),n(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Stock/RangeSelector/RangeSelector.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(r,o,d,h,s,b){const{unhideChartElementFromAT:R,getAxisRangeDescription:J}=d,{addEvent:I,attr:z}=b;class Z extends o{constructor(){super(...arguments),this.announcer=void 0}init(){this.announcer=new h(this.chart,"polite")}onChartUpdate(){const O=this.chart,G=this,M=O.rangeSelector;M&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),M.buttons&&M.buttons.length&&M.buttons.forEach(S=>{G.setRangeButtonAttrs(S)}),M.maxInput&&M.minInput&&["minInput","maxInput"].forEach(function(S,P){(S=M[S])&&(R(O,S),G.setRangeInputAttrs(S,"accessibility.rangeSelector."+(P?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){const O=this.chart,G=O.rangeSelector,M=G&&G.dropdown,S=G&&G.buttons||[];G&&G.hasVisibleDropdown&&M?(R(O,M),S.forEach(P=>P.element.setAttribute("aria-hidden",!0))):(M&&M.setAttribute("aria-hidden",!0),S.forEach(P=>R(O,P.element)))}setDropdownAttrs(){var O=this.chart;const G=O.rangeSelector&&O.rangeSelector.dropdown;G&&(O=O.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:O.options.lang.rangeSelectorZoom}),G.setAttribute("aria-label",O),G.setAttribute("tabindex",-1))}setRangeButtonAttrs(O){z(O.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(O,G){const M=this.chart;z(O,{tabindex:-1,"aria-label":M.langFormat(G,{chart:M})})}onButtonNavKbdArrowKey(O,G){const M=O.response,S=this.keyCodes,P=this.chart,H=P.options.accessibility.keyboardNavigation.wrapAround;return G=G===S.left||G===S.up?-1:1,P.highlightRangeSelectorButton(P.highlightedRangeSelectorItemIx+G)?M.success:H?(O.init(G),M.success):M[0<G?"next":"prev"]}onButtonNavKbdClick(O){O=O.response;const G=this.chart;return G.oldRangeSelectorItemState!==3&&this.fakeClickEvent(G.rangeSelector.buttons[G.highlightedRangeSelectorItemIx].element),O.success}onAfterBtnClick(){var O=this.chart;const G=J(O.xAxis[0]);(O=O.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:O,axisRangeDescription:G}))&&this.announcer.announce(O)}onInputKbdMove(O){const G=this.chart;var M=G.rangeSelector;const S=G.highlightedInputRangeIx=(G.highlightedInputRangeIx||0)+O;if(1<S||0>S){if(G.accessibility)return G.accessibility.keyboardNavigation.exiting=!0,G.accessibility.keyboardNavigation.tabindexContainer.focus(),G.accessibility.keyboardNavigation.move(O)}else M&&(O=M[S?"maxDateBox":"minDateBox"],M=M[S?"maxInput":"minInput"],O&&M&&G.setFocusToElement(O,M));return!0}onInputNavInit(O){const G=this;var M=this.chart;const S=0<O?0:1;var P=M.rangeSelector;const H=P&&P[S?"maxDateBox":"minDateBox"];if(O=P&&P.minInput,P=P&&P.maxInput,M.highlightedInputRangeIx=S,H&&O&&P){M.setFocusToElement(H,S?P:O),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),M=ie=>{(ie.which||ie.keyCode)===this.keyCodes.tab&&G.onInputKbdMove(ie.shiftKey?-1:1)&&(ie.preventDefault(),ie.stopPropagation())};const U=I(O,"keydown",M),E=I(P,"keydown",M);this.removeInputKeydownHandler=()=>{U(),E()}}}onInputNavTerminate(){const O=this.chart.rangeSelector||{};O.maxInput&&O.hideInput("max"),O.minInput&&O.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){const O=this.chart,G=O.rangeSelector,M=G&&G.dropdown;G&&M&&(O.setFocusToElement(G.buttonGroup,M),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=I(M,"keydown",S=>{const P=O.accessibility;(S.which||S.keyCode)===this.keyCodes.tab&&(S.preventDefault(),S.stopPropagation(),P&&(P.keyboardNavigation.tabindexContainer.focus(),P.keyboardNavigation.move(S.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){const O=this.chart,G=this.keyCodes,M=this;return new s(O,{keyCodeMap:[[[G.left,G.right,G.up,G.down],function(S){return M.onButtonNavKbdArrowKey(this,S)}],[[G.enter,G.space],function(){return M.onButtonNavKbdClick(this)}]],validate:function(){return!!(O.rangeSelector&&O.rangeSelector.buttons&&O.rangeSelector.buttons.length)},init:function(S){var P=O.rangeSelector;P&&P.hasVisibleDropdown?M.initDropdownNav():P&&(P=P.buttons.length-1,O.highlightRangeSelectorButton(0<S?0:P))},terminate:function(){M.removeDropdownKeydownHandler&&(M.removeDropdownKeydownHandler(),delete M.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){const O=this.chart,G=this;return new s(O,{keyCodeMap:[],validate:function(){return!!(O.rangeSelector&&O.rangeSelector.inputGroup&&O.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&O.options.rangeSelector.inputEnabled!==!1&&O.rangeSelector.minInput&&O.rangeSelector.maxInput)},init:function(M){G.onInputNavInit(M)},terminate:function(){G.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(L){function O(S){const P=this.rangeSelector&&this.rangeSelector.buttons||[],H=this.highlightedRangeSelectorItemIx,U=this.rangeSelector&&this.rangeSelector.selected;return typeof H<"u"&&P[H]&&H!==U&&P[H].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=S,P[S]?(this.setFocusToElement(P[S].box,P[S].element),S!==U&&(this.oldRangeSelectorItemState=P[S].state,P[S].setState(1)),!0):!1}function G(){const S=this.chart.accessibility;if(S&&S.components.rangeSelector)return S.components.rangeSelector.onAfterBtnClick()}const M=[];L.compose=function(S,P){b.pushUnique(M,S)&&(S.prototype.highlightRangeSelectorButton=O),b.pushUnique(M,P)&&I(r,"afterBtnClick",G)}}(Z||(Z={})),Z}),n(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Utilities.js"]],function(r){const{addEvent:o,merge:d}=r;var h;return function(s){function b(L){d(!0,L,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function R(L){return L.marker.states&&L.marker.states.normal&&L.marker.states.normal.opacity}function J(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(L=>{L.graphic&&(L.graphic[L.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),L.graphic[L.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function I(L){this.resetA11yMarkerOptions=d(L.options.marker||{},this.userOptions.marker||{})}function z(){var L=this.options,O=(this.options.accessibility&&this.options.accessibility.enabled)!==!1;if((O=this.chart.options.accessibility.enabled&&O)&&(O=this.chart.options.accessibility,O=this.points.length<O.series.pointDescriptionEnabledThreshold||O.series.pointDescriptionEnabledThreshold===!1),O){if(L.marker&&L.marker.enabled===!1&&(this.a11yMarkersForced=!0,b(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(L=this.points.length;L--;){O=this.points[L];const M=O.options;var G=O.hasForcedA11yMarker;delete O.hasForcedA11yMarker,M.marker&&(G=G&&R(M)===0,M.marker.enabled&&!G?(d(!0,M.marker,{states:{normal:{opacity:R(M)||1}}}),O.hasForcedA11yMarker=!1):M.marker.enabled===!1&&(b(M),O.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(L=this.resetA11yMarkerOptions)&&this.update({marker:{enabled:L.enabled,states:{normal:{opacity:L.states&&L.states.normal&&L.states.normal.opacity}}}}),delete this.resetA11yMarkerOptions)}const Z=[];s.compose=function(L){r.pushUnique(Z,L)&&(o(L,"afterSetOptions",I),o(L,"render",z),o(L,"afterRender",J))}}(h||(h={})),h}),n(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(r,o,d,h,s,b,R,J){function I($){const V=$.index,j=$.series.points;let w=j.length;if(j[V]!==$){for(;w--;)if(j[w]===$)return w}else return V}function z($){const V=$.chart.options.accessibility.keyboardNavigation.seriesNavigation,j=$.options.accessibility||{},w=j.keyboardNavigation;return w&&w.enabled===!1||j.enabled===!1||$.options.enableMouseTracking===!1||!$.visible||V.pointNavigationEnabledThreshold&&V.pointNavigationEnabledThreshold<=$.points.length}function Z($){const V=$.series.chart.options.accessibility,j=$.options.accessibility&&$.options.accessibility.enabled===!1;return $.isNull&&V.keyboardNavigation.seriesNavigation.skipNullPoints||$.visible===!1||$.isInside===!1||j||z($.series)}function L($){$=$.series||[];const V=$.length;for(let w=0;w<V;++w)if(!z($[w])){e:{var j=$[w].points||[];const D=j.length;for(let m=0;m<D;++m)if(!Z(j[m])){j=j[m];break e}j=null}if(j)return j}return null}function O($){let V=$.series.length,j=!1;for(;V--&&($.highlightedPoint=$.series[V].points[$.series[V].points.length-1],!(j=$.series[V].highlightNextValidPoint())););return j}function G($){return delete $.highlightedPoint,($=L($))?$.highlight():!1}const{seriesTypes:M}=d,{doc:S}=h,{defined:P,fireEvent:H}=s,{getPointFromXY:U,getSeriesFromName:E,scrollToPoint:ie}=J;class te{constructor(V,j){this.keyCodes=j,this.chart=V}init(){const V=this,j=this.chart,w=this.eventProvider=new R;w.addEvent(o,"destroy",function(){return V.onSeriesDestroy(this)}),w.addEvent(j,"afterApplyDrilldown",function(){{const D=L(this);D&&D.highlight(!1)}}),w.addEvent(j,"drilldown",function(D){D=D.point;const m=D.series;V.lastDrilledDownPoint={x:D.x,y:D.y,seriesName:m?m.name:""}}),w.addEvent(j,"drillupall",function(){setTimeout(function(){V.onDrillupAll()},10)}),w.addEvent(r,"afterSetState",function(){const D=this.graphic&&this.graphic.element,m=S.activeElement;var g=m&&m.getAttribute("class");g=g&&-1<g.indexOf("highcharts-a11y-proxy-button"),j.highlightedPoint===this&&m!==D&&!g&&D&&D.focus&&D.focus()})}onDrillupAll(){const V=this.lastDrilledDownPoint,j=this.chart,w=V&&E(j,V.seriesName);let D;V&&w&&P(V.x)&&P(V.y)&&(D=U(w,V.x,V.y)),D=D||L(j),j.container&&j.container.focus(),D&&D.highlight&&D.highlight(!1)}getKeyboardNavigationHandler(){const V=this,j=this.keyCodes,w=this.chart,D=w.inverted;return new b(w,{keyCodeMap:[[D?[j.up,j.down]:[j.left,j.right],function(m){return V.onKbdSideways(this,m)}],[D?[j.left,j.right]:[j.up,j.down],function(m){return V.onKbdVertical(this,m)}],[[j.enter,j.space],function(m,g){return(m=w.highlightedPoint)&&(g.point=m,H(m.series,"click",g),m.firePointEvent("click")),this.response.success}],[[j.home],function(){return G(w),this.response.success}],[[j.end],function(){return O(w),this.response.success}],[[j.pageDown,j.pageUp],function(m){return w.highlightAdjacentSeries(m===j.pageDown),this.response.success}]],init:function(){return V.onHandlerInit(this)},validate:function(){return!!L(w)},terminate:function(){return V.onHandlerTerminate()}})}onKbdSideways(V,j){const w=this.keyCodes;return this.attemptHighlightAdjacentPoint(V,j===w.right||j===w.down)}onHandlerInit(V){const j=this.chart;return j.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&j.highlightedPoint?j.highlightedPoint.highlight():G(j),V.response.success}onKbdVertical(V,j){const w=this.chart;var D=this.keyCodes;return j=j===D.down||j===D.right,D=w.options.accessibility.keyboardNavigation.seriesNavigation,D.mode&&D.mode==="serialize"?this.attemptHighlightAdjacentPoint(V,j):(w[w.highlightedPoint&&w.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](j),V.response.success)}onHandlerTerminate(){const V=this.chart,j=V.options.accessibility.keyboardNavigation;V.tooltip&&V.tooltip.hide(0);const w=V.highlightedPoint&&V.highlightedPoint.series;w&&w.onMouseOut&&w.onMouseOut(),V.highlightedPoint&&V.highlightedPoint.onMouseOut&&V.highlightedPoint.onMouseOut(),j.seriesNavigation.rememberPointFocus||delete V.highlightedPoint}attemptHighlightAdjacentPoint(V,j){const w=this.chart,D=w.options.accessibility.keyboardNavigation.wrapAround;return w.highlightAdjacentPoint(j)||D&&(j?G(w):O(w))?V.response.success:V.response[j?"next":"prev"]}onSeriesDestroy(V){const j=this.chart;j.highlightedPoint&&j.highlightedPoint.series===V&&(delete j.highlightedPoint,j.focusElement&&j.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function($){function V(k){var q=this.series;const Y=this.highlightedPoint;var K=Y&&I(Y)||0;const le=Y&&Y.series.points||[];var he=this.series&&this.series[this.series.length-1];if(he=he&&he.points&&he.points[he.points.length-1],!q[0]||!q[0].points)return!1;if(Y){if(q=q[Y.series.index+(k?1:-1)],K=le[K+(k?1:-1)],!K&&q&&(K=q.points[k?0:q.points.length-1]),!K)return!1}else K=k?q[0].points[0]:he;return Z(K)?(q=K.series,z(q)?this.highlightedPoint=k?q.points[q.points.length-1]:q.points[0]:this.highlightedPoint=K,this.highlightAdjacentPoint(k)):K.highlight()}function j(k){const q=this.highlightedPoint;let Y=1/0,K;return!P(q.plotX)||!P(q.plotY)?!1:(this.series.forEach(le=>{z(le)||le.points.forEach(he=>{if(P(he.plotY)&&P(he.plotX)&&he!==q){var pe=he.plotY-q.plotY,F=Math.abs(he.plotX-q.plotX);F=Math.abs(pe)*Math.abs(pe)+F*F*4,le.yAxis&&le.yAxis.reversed&&(pe*=-1),!(0>=pe&&k||0<=pe&&!k||5>F||Z(he))&&F<Y&&(Y=F,K=he)}})}),K?K.highlight():!1)}function w(k){const q=this.highlightedPoint;var Y=this.series&&this.series[this.series.length-1],K=Y&&Y.points&&Y.points[Y.points.length-1];return this.highlightedPoint?(Y=this.series[q.series.index+(k?-1:1)],!Y||(K=D(q,Y,4),!K)?!1:z(Y)?(K.highlight(),k=this.highlightAdjacentSeries(k),k||(q.highlight(),!1)):(K.highlight(),K.series.highlightNextValidPoint())):(Y=k?this.series&&this.series[0]:Y,(K=k?Y&&Y.points&&Y.points[0]:K)?K.highlight():!1)}function D(k,q,Y,K){let le=1/0,he,pe=q.points.length;const F=ce=>!(P(ce.plotX)&&P(ce.plotY));if(!F(k)){for(;pe--;){var Q=q.points[pe];F(Q)||(Q=(k.plotX-Q.plotX)*(k.plotX-Q.plotX)*(Y||1)+(k.plotY-Q.plotY)*(k.plotY-Q.plotY)*(K||1),Q<le&&(le=Q,he=pe))}return P(he)?q.points[he]:void 0}}function m(k=!0){const q=this.series.chart;return!this.isNull&&k?this.onMouseOver():q.tooltip&&q.tooltip.hide(0),ie(this),this.graphic&&(q.setFocusToElement(this.graphic),!k&&q.focusElement&&q.focusElement.removeFocusBorder()),q.highlightedPoint=this,this}function g(){var k=this.chart.highlightedPoint,q=(k&&k.series)===this?I(k):0;k=this.points;const Y=k.length;if(k&&Y){for(let K=q;K<Y;++K)if(!Z(k[K]))return k[K].highlight();for(;0<=q;--q)if(!Z(k[q]))return k[q].highlight()}return!1}const x=[];$.compose=function(k,q,Y){s.pushUnique(x,k)&&(k=k.prototype,k.highlightAdjacentPoint=V,k.highlightAdjacentPointVertical=j,k.highlightAdjacentSeries=w),s.pushUnique(x,q)&&(q.prototype.highlight=m),s.pushUnique(x,Y)&&(q=Y.prototype,q.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(K=>{M[K]&&(M[K].prototype.keyboardMoveVertical=!1)}),q.highlightNextValidPoint=g)}}(te||(te={})),te}),n(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(r,o,d,h,s,b){const{hideSeriesFromAT:R}=o,{describeSeries:J}=s;class I extends r{static compose(Z,L,O){h.compose(O),d.compose(O),b.compose(Z,L,O)}init(){this.newDataAnnouncer=new h(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new b(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const Z=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===Z.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(Z){Z.labelBySeries&&Z.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(Z){(Z.options.accessibility&&Z.options.accessibility.enabled)!==!1&&Z.visible?J(Z):R(Z)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}return I}),n(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(r,o,d,h,s){const{unhideChartElementFromAT:b}=o,{getFakeMouseEvent:R}=d,{attr:J,pick:I}=s;class z extends r{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){const L=this,O=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(G=>{L.addEvent(O,G,function(){L.updateProxyOverlays()})})}onChartUpdate(){const L=this.chart,O=this;L.mapNavigation&&L.mapNavigation.navButtons.forEach((G,M)=>{b(L,G.element),O.setMapNavButtonAttrs(G.element,"accessibility.zoom.mapZoom"+(M?"Out":"In"))})}setMapNavButtonAttrs(L,O){const G=this.chart;O=G.langFormat(O,{chart:G}),J(L,{tabindex:-1,role:"button","aria-label":O})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const L=this.chart;this.proxyProvider.clearGroup("zoom"),L.resetZoomButton&&this.createZoomProxyButton(L.resetZoomButton,"resetZoomProxyButton",L.langFormat("accessibility.zoom.resetZoomButton",{chart:L})),L.drillUpButton&&L.breadcrumbs&&L.breadcrumbs.list&&this.createZoomProxyButton(L.drillUpButton,"drillUpProxyButton",L.langFormat("accessibility.drillUpButton",{chart:L,buttonText:L.breadcrumbs.getButtonText(L.breadcrumbs.list[L.breadcrumbs.list.length-1])}))}createZoomProxyButton(L,O,G){this[O]=this.proxyProvider.addProxyElement("zoom",{click:L},{"aria-label":G,tabindex:-1})}getMapZoomNavigation(){const L=this.keyCodes,O=this.chart,G=this;return new h(O,{keyCodeMap:[[[L.up,L.down,L.left,L.right],function(M){return G.onMapKbdArrow(this,M)}],[[L.tab],function(M,S){return G.onMapKbdTab(this,S)}],[[L.space,L.enter],function(){return G.onMapKbdClick(this)}]],validate:function(){return!!(O.mapView&&O.mapNavigation&&O.mapNavigation.navButtons.length)},init:function(M){return G.onMapNavInit(M)}})}onMapKbdArrow(L,O){var G=this.chart,M=this.keyCodes;const S=G.container;var P=O===M.up||O===M.down;return O=(P?G.plotHeight:G.plotWidth)/10*(O===M.left||O===M.up?1:-1),M=10*Math.random(),G={x:S.offsetLeft+G.plotLeft+G.plotWidth/2+M,y:S.offsetTop+G.plotTop+G.plotHeight/2+M},P=P?{x:G.x,y:G.y+O}:{x:G.x+O,y:G.y},[R("mousedown",G),R("mousemove",P),R("mouseup",P)].forEach(H=>S.dispatchEvent(H)),L.response.success}onMapKbdTab(L,O){const G=this.chart;L=L.response;const M=(O=O.shiftKey)&&!this.focusedMapNavButtonIx||!O&&this.focusedMapNavButtonIx;return G.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),M?(G.mapView&&G.mapView.zoomBy(),L[O?"prev":"next"]):(this.focusedMapNavButtonIx+=O?-1:1,O=G.mapNavigation.navButtons[this.focusedMapNavButtonIx],G.setFocusToElement(O.box,O.element),O.setState(2),L.success)}onMapKbdClick(L){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),L.response.success}onMapNavInit(L){const O=this.chart;var G=O.mapNavigation.navButtons[0];const M=O.mapNavigation.navButtons[1];G=0<L?G:M,O.setFocusToElement(G.box,G.element),G.setState(2),this.focusedMapNavButtonIx=0<L?0:1}simpleButtonNavigation(L,O,G){const M=this.keyCodes,S=this,P=this.chart;return new h(P,{keyCodeMap:[[[M.tab,M.up,M.down,M.left,M.right],function(H,U){return this.response[H===M.tab&&U.shiftKey||H===M.left||H===M.up?"prev":"next"]}],[[M.space,M.enter],function(){const H=G(this,P);return I(H,this.response.success)}]],validate:function(){return P[L]&&P[L].box&&S[O].buttonElement},init:function(){P.setFocusToElement(P[L].box,S[O].buttonElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(L,O){O.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(L,O){return O.drillUp(),L.response.prev}),this.getMapZoomNavigation()]}}return z}),n(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],function(r){const{doc:o,isMS:d,win:h}=r;return{isHighContrastModeActive:function(){var s=/(Edg)/.test(h.navigator.userAgent);if(h.matchMedia&&s)return h.matchMedia("(-ms-high-contrast: active)").matches;if(d&&h.getComputedStyle){s=o.createElement("div"),s.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",o.body.appendChild(s);const b=(s.currentStyle||h.getComputedStyle(s)).backgroundImage;return o.body.removeChild(s),b==="none"}return h.matchMedia&&h.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(s){s.highContrastModeActive=!0;const b=s.options.accessibility.highContrastTheme;s.update(b,!1),s.series.forEach(function(R){const J=b.plotOptions[R.type]||{};R.update({color:J.color||"windowText",colors:[J.color||"windowText"],borderColor:J.borderColor||"window"}),R.points.forEach(function(I){I.options&&I.options.color&&I.update({color:J.color||"windowText",borderColor:J.borderColor||"window"},!1)})}),s.redraw()}}}),n(t,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),n(t,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}}),n(t,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}}),n(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],function(r){function o(I,z,Z){let L,O=0;for(;O<z.length-1;++O)L=z[O],I=I[L]=J(I[L],{});I[z[z.length-1]]=Z}function d(I,z,Z,L){function O(S,P){return P.reduce(function(H,U){return H[U]},S)}const G=O(I.options,z),M=O(I.options,Z);Object.keys(L).forEach(function(S){const P=G[S];typeof P<"u"&&(o(M,L[S],P),R(32,!1,I,{[z.join(".")+"."+S]:Z.join(".")+"."+L[S].join(".")}))})}function h(I){const z=I.options.chart,Z=I.options.accessibility||{};["description","typeDescription"].forEach(function(L){z[L]&&(Z[L]=z[L],R(32,!1,I,{[`chart.${L}`]:`use accessibility.${L}`}))})}function s(I){I.axes.forEach(function(z){(z=z.options)&&z.description&&(z.accessibility=z.accessibility||{},z.accessibility.description=z.description,R(32,!1,I,{"axis.description":"use axis.accessibility.description"}))})}function b(I){const z={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};I.series.forEach(function(Z){Object.keys(z).forEach(function(L){let O=Z.options[L];L==="accessibility.pointDescriptionFormatter"&&(O=Z.options.accessibility&&Z.options.accessibility.pointDescriptionFormatter),typeof O<"u"&&(o(Z.options,z[L],L==="skipKeyboardNavigation"?!O:O),R(32,!1,I,{[`series.${L}`]:"series."+z[L].join(".")}))})})}const{error:R,pick:J}=r;return function(I){h(I),s(I),I.series&&b(I),d(I,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),d(I,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),d(I,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),n(t,"Accessibility/Accessibility.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/A11yDefaults.js"],t["Accessibility/Options/LangDefaults.js"],t["Accessibility/Options/DeprecatedOptions.js"]],function(r,o,d,h,s,b,R,J,I,z,Z,L,O,G,M,S,P,H,U,E,ie){({defaultOptions:r}=r);const{doc:te}=o,{addEvent:$,extend:V,fireEvent:j,merge:w}=d,{removeElement:D}=h;class m{constructor(x){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0,this.init(x)}init(x){this.chart=x,te.addEventListener?(ie(x),this.proxyProvider=new O(this.chart),this.initComponents(),this.keyboardNavigation=new I(x,this.components)):(this.zombie=!0,this.components={},x.renderTo.setAttribute("aria-hidden",!0))}initComponents(){const x=this.chart,k=this.proxyProvider,q=x.options.accessibility;this.components={container:new b,infoRegions:new J,legend:new z,chartMenu:new Z,rangeSelector:new G,series:new M,zoom:new S},q.customComponents&&V(this.components,q.customComponents);const Y=this.components;this.getComponentOrder().forEach(function(K){Y[K].initBase(x,k),Y[K].init()})}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);const x=Object.keys(this.components).filter(k=>k!=="series");return["series"].concat(x)}update(){const x=this.components,k=this.chart;var q=k.options.accessibility;j(k,"beforeA11yUpdate"),k.types=this.getChartTypes(),q=q.keyboardNavigation.order,this.proxyProvider.updateGroupOrder(q),this.getComponentOrder().forEach(function(Y){x[Y].onChartUpdate(),j(k,"afterA11yComponentUpdate",{name:Y,component:x[Y]})}),this.keyboardNavigation.update(q),!k.highContrastModeActive&&P.isHighContrastModeActive()&&P.setHighContrastTheme(k),j(k,"afterA11yUpdate",{accessibility:this})}destroy(){const x=this.chart||{},k=this.components;Object.keys(k).forEach(function(q){k[q].destroy(),k[q].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),x.announcerContainer&&D(x.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),x.renderTo&&x.renderTo.setAttribute("aria-hidden",!0),x.focusElement&&x.focusElement.removeFocusBorder()}getChartTypes(){const x={};return this.chart.series.forEach(function(k){x[k.type]=1}),Object.keys(x)}}return function(g){function x(){this.accessibility&&this.accessibility.destroy()}function k(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());const he=this.accessibility;he&&!he.zombie&&(he.proxyProvider.updateProxyElementPositions(),he.getComponentOrder().forEach(function(pe){he.components[pe].onChartRender()}))}function q(he){(he=he.options.accessibility)&&(he.customComponents&&(this.options.accessibility.customComponents=he.customComponents,delete he.customComponents),w(!0,this.options.accessibility,he),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function Y(){let he=this.accessibility;const pe=this.options.accessibility;pe&&pe.enabled?he&&!he.zombie?he.update():(this.accessibility=he=new g(this),!he.zombie&&he.update()):he?(he.destroy&&he.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function K(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}const le=[];g.i18nFormat=s.i18nFormat,g.compose=function(he,pe,F,Q,ce,ge){I.compose(he),L.compose(Q),z.compose(he,pe),Z.compose(he),M.compose(he,F,Q),s.compose(he),R.compose(he,ce),ge&&G.compose(he,ge),d.pushUnique(le,he)&&(he.prototype.updateA11yEnabled=Y,$(he,"destroy",x),$(he,"render",k),$(he,"update",q),["addSeries","init"].forEach(ke=>{$(he,ke,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(ke=>{$(he,ke,function(){const re=this.accessibility;re&&!re.zombie&&re.update()})})),d.pushUnique(le,F)&&$(F,"update",K),d.pushUnique(le,Q)&&["update","updatedData","remove"].forEach(ke=>{$(Q,ke,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})})}}(m||(m={})),w(!0,r,U,{accessibility:{highContrastTheme:H},lang:E}),m}),n(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(r,o,d,h,s,b,R){r.i18nFormat=o.i18nFormat,r.A11yChartUtilities=h,r.A11yHTMLUtilities=s,r.AccessibilityComponent=d,r.KeyboardNavigationHandler=b,r.SeriesAccessibilityDescriber=R,o.compose(r.Chart,r.Legend,r.Point,r.Series,r.SVGElement,r.RangeSelector)})})})(z6);var pZ=z6.exports;const j5=uh(pZ);j5(hd);const fZ={name:"spline",components:{Chart:nm.Chart},data(){return{chartOptions:{chart:{type:"spline",scrollablePlotArea:{minWidth:600,scrollPositionX:1}},title:{text:"Wind speed during two days",align:"left"},subtitle:{text:"13th & 14th of June, 2022 at two locations in Vik i Sogn, Norway",align:"left"},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{title:{text:"Wind speed (m/s)"},minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotBands:[{from:.3,to:1.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Light air",style:{color:"#606060"}}},{from:1.5,to:3.3,color:"rgba(0, 0, 0, 0)",label:{text:"Light breeze",style:{color:"#606060"}}},{from:3.3,to:5.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Gentle breeze",style:{color:"#606060"}}},{from:5.5,to:8,color:"rgba(0, 0, 0, 0)",label:{text:"Moderate breeze",style:{color:"#606060"}}},{from:8,to:11,color:"rgba(68, 170, 213, 0.1)",label:{text:"Fresh breeze",style:{color:"#606060"}}},{from:11,to:14,color:"rgba(0, 0, 0, 0)",label:{text:"Strong breeze",style:{color:"#606060"}}},{from:14,to:15,color:"rgba(68, 170, 213, 0.1)",label:{text:"High wind",style:{color:"#606060"}}}]},tooltip:{valueSuffix:" m/s"},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1},pointInterval:36e5,pointStart:Date.UTC(2022,5,13,0,0,0)}},series:[{name:"Hestavollane",data:[4.5,5.1,4.4,3.7,4.2,3.7,4.3,4,5,4.9,4.8,4.6,3.9,3.8,2.7,3.1,2.6,3.3,3.8,4.1,1,1.9,3.2,3.8,4.2]},{name:"Vik",data:[.1,.1,.1,.2,.4,.4,.3,.4,.1,0,.2,.3,0,0,0,0,0,.1,.1,.1,0,.1,0,0,0]}],navigation:{menuItemStyle:{fontSize:"10px"}}}}}};function mZ(e,t,n,r,o,d){const h=Er("Chart");return wt(),Ir(h,{options:o.chartOptions,constructorType:"stockChart"},null,8,["options"])}const gZ=Zr(fZ,[["render",mZ]]);R6(hd);const yZ={components:{highcharts:nm.Chart},props:{min:{type:Number,default:0},max:{type:Number,default:32},value:{type:Number,default:0},title:String},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:this.min,max:this.max,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:this.title,y:150},plotBands:[{from:0,to:this.max/8,color:"#576D7E",thickness:40},{from:this.max/8,to:this.max/8*2,color:"#34485C",thickness:40},{from:this.max/8*2,to:this.max/8*3,color:"#60C5B8",thickness:40},{from:this.max/8*3,to:this.max/8*4,color:"#25B39E",thickness:40},{from:this.max/8*4,to:this.max/8*5,color:"#FCD062",thickness:40},{from:this.max/8*5,to:this.max/8*6,color:"#F8B84E",thickness:40},{from:this.max/8*6,to:this.max/8*7,color:"#F17F53",thickness:40},{from:this.max/8*7,to:this.max/8*8,color:"#F05542",thickness:40}]}],series:[{name:this.title,data:[this.value],tooltip:{valueSuffix:" "}}]}}},methods:{},watch:{value:function(e,t){this.options.series[0].data=[e]}}};function _Z(e,t,n,r,o,d){const h=Er("highcharts");return wt(),Ot("div",null,[cn(h,{options:o.options},null,8,["options"])])}const vZ=Zr(yZ,[["render",_Z]]),xZ={props:{value:Number,title:String},components:{highcharts:nm.Chart},watch:{value:function(e,t){this.options.series[0].data=[e]}},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:0,endAngle:360,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{title:{text:this.title},min:1,max:360,lineColor:"#333",offset:-20,tickInterval:30,labels:{step:1,distance:5,rotation:"auto"}}],series:[{name:this.title,yAxis:0,data:[this.value],dial:{radius:"88%",baseWidth:10,baseLength:"0%",rearLength:0,borderWidth:1,borderColor:"#9A0000",backgroundColor:"#CC0000"},tooltip:{valueSuffix:"°"}}]}}}};function bZ(e,t,n,r,o,d){const h=Er("highcharts");return wt(),Ot("div",null,[cn(h,{options:o.options},null,8,["options"])])}const N6=Zr(xZ,[["render",bZ]]),wZ={props:{url:String,fleet:Object},components:{SpeedoMeter:vZ,Compass:N6},methods:{scaleBeafort(e){let t="";return e<=1?t="Calm":e>1&&e<3.9?t="Light Air":e>4&&e<6.9?t="Light Breeze":e>7&&e<10.9?t="Gentle breeze":e>11&&e<16.9?t="Moderate breeze":e>17&&e<21.9?t="Fresh breeze":e>22&&e<27.9?t="Strong breeze":e>28&&e<33.9?t="High wind":e>34&&e<40.9?t="Gale":e>41&&e<47.9?t="Strong/severe gale":e>48&&e<55.9?t="Storm":e>56&&e<63.9?t="Violent storm":t="Hurricane force",t}}},TZ={class:"row"},SZ={class:"col-3"},CZ={class:"col-3"},EZ={class:"col-3"},MZ={class:"col-3"};function kZ(e,t,n,r,o,d){const h=Er("speedo-meter"),s=Er("compass");return wt(),Ot("div",TZ,[Ye("div",SZ,[cn(h,{value:n.fleet.navigation.sog,max:32,title:"Speed (knot)"},null,8,["value"])]),Ye("div",CZ,[cn(s,{value:n.fleet.navigation.cog,title:"Course (°)"},null,8,["value"])]),Ye("div",EZ,[cn(h,{value:n.fleet.navigation.wind_speed,max:80,title:d.scaleBeafort(n.fleet.navigation.wind_speed)},null,8,["value","title"])]),Ye("div",MZ,[cn(s,{value:n.fleet.navigation.wind_direction,title:"Wind Direction"},null,8,["value"])])])}const AZ=Zr(wZ,[["render",kZ]]),PZ={components:{FleetSpeedometer:AZ},props:{url:String},data(){return{fleet:null}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(e=>e.data)}}},DZ={key:0},IZ={class:"container"},LZ={class:"row"},OZ={class:"col-12"},RZ=Ye("div",{class:"table-title"},[Ye("h6",null,"Navigation information")],-1),BZ={class:"table table-sm"},zZ=Ye("th",{scope:"row"},"•",-1),NZ=Ye("td",null,"Updated at",-1),FZ={class:"text-end"},jZ=Ye("th",{scope:"row"},"•",-1),UZ=Ye("td",null,"Coordinate",-1),$Z={class:"text-end"},VZ=Ye("th",{scope:"row"},"•",-1),GZ=Ye("td",null,"Heading",-1),WZ={class:"text-end"},HZ=Ye("th",{scope:"row"},"•",-1),YZ=Ye("td",null,"Course / COG",-1),qZ={class:"text-end"},XZ=Ye("th",{scope:"row"},"•",-1),ZZ=Ye("td",null,"Speed / SOG",-1),KZ={class:"text-end"},JZ=Ye("th",{scope:"row"},"•",-1),QZ=Ye("td",null,"Depth",-1),eK={class:"text-end"},tK=Ye("th",{scope:"row"},"•",-1),iK=Ye("td",null,"Wind Speed",-1),nK={class:"text-end"},rK=Ye("th",{scope:"row"},"•",-1),sK=Ye("td",null,"Wind Direction",-1),oK={class:"text-end"},aK=Ye("th",{scope:"row"},"•",-1),lK=Ye("td",null,"Travel Distance",-1),cK={class:"text-end"},dK=Ye("th",{scope:"row"},"•",-1),uK=Ye("td",null,"Total Travel Distance",-1),hK={class:"text-end"};function pK(e,t,n,r,o,d){const h=Er("fleet-speedometer");return o.fleet?(wt(),Ot("div",DZ,[cn(h,{fleet:o.fleet},null,8,["fleet"]),Ye("div",IZ,[Ye("div",LZ,[Ye("div",OZ,[RZ,Ye("table",BZ,[Ye("tbody",null,[Ye("tr",null,[zZ,NZ,Ye("td",FZ,Qi(o.fleet.last_connection),1)]),Ye("tr",null,[jZ,UZ,Ye("td",$Z,Qi(o.fleet.navigation.lat.toFixed(5))+" "+Qi(o.fleet.navigation.lat_dir)+", "+Qi(o.fleet.navigation.lng.toFixed(5))+" "+Qi(o.fleet.navigation.lng_dir),1)]),Ye("tr",null,[VZ,GZ,Ye("td",WZ,Qi(o.fleet.navigation.heading)+" °",1)]),Ye("tr",null,[HZ,YZ,Ye("td",qZ,Qi(o.fleet.navigation.cog)+" °",1)]),Ye("tr",null,[XZ,ZZ,Ye("td",KZ,Qi(o.fleet.navigation.sog)+" knot",1)]),Ye("tr",null,[JZ,QZ,Ye("td",eK,Qi(o.fleet.navigation.depth)+" meter",1)]),Ye("tr",null,[tK,iK,Ye("td",nK,Qi(o.fleet.navigation.wind_speed)+" knot",1)]),Ye("tr",null,[rK,sK,Ye("td",oK,Qi(o.fleet.navigation.wind_direction)+" °",1)]),Ye("tr",null,[aK,lK,Ye("td",cK,Qi(o.fleet.navigation.distance)+" NM",1)]),Ye("tr",null,[dK,uK,Ye("td",hK,Qi(o.fleet.navigation.total_distance)+" NM",1)])])])])])])])):yi("",!0)}const fK=Zr(PZ,[["render",pK]]),mK={props:{min:Number,max:Number,value:Number,normal:Number,danger:Number},data(){return{}},computed:{percentage(){return this.value/this.max*100},color(){let e="bg-success",t=this.value/this.max*100;return t>this.normal&&t<this.danger?e="bg-warning":t>this.danger&&(e="bg-danger"),e}}},gK={class:"progress"};function yK(e,t,n,r,o,d){return wt(),Ot("div",gK,[Ye("div",{class:ar(["progress-bar",d.color]),style:el({width:`${d.percentage}%`}),role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"},null,6)])}const _K=Zr(mK,[["render",yK]]),vK={components:{"progress-bar":_K},props:{fleet:Object,display:Boolean},data(){return{}},methods:{toggleText(){this.display=!this.display}}},xK={class:"voyage-section"},bK={key:0,class:"card voyage-card"},wK={class:"card-header justify-content-between"},TK=["src"],SK=Ye("h5",{class:"fw-normal m-0"},"Fleet Information",-1),CK={class:"card-body"},EK=Ye("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[Ye("li",{class:"nav-item",role:"presentation"},[Ye("button",{class:"nav-link justify-content-left active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),MK={class:"tab-content",id:"pills-tabContent"},kK={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},AK={class:"m12"},PK=Ye("div",{class:"st21"},"Name",-1),DK={class:"st22"},IK=["href"],LK=Ye("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),OK={class:"m12"},RK=Ye("div",{class:"st21"},"IMO Number",-1),BK={class:"st22"},zK={class:"m12"},NK=Ye("div",{class:"st21"},"Last Update",-1),FK={class:"st22"},jK={class:"m12"},UK=Ye("div",{class:"st21"},"Last Coordinates",-1),$K={class:"st22"},VK=["href"],GK=Ye("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),WK={key:0,class:"m12"},HK=Ye("div",{class:"st21"},"At Port",-1),YK={class:"st22"},qK=Mu('<div class="m12"><div class="st21">Origin</div><div class="st22"></div></div><div class="m12"><div class="st21">Destination</div><div class="st22"></div></div><div class="m12"><div class="st21">ETA</div><div class="st22"></div></div><br>',4),XK=Ye("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[Ye("li",{class:"nav-item",role:"presentation"},[Ye("button",{class:"nav-link justify-content-left active",id:"pills-main-engine-tab","data-bs-toggle":"pill","data-bs-target":"#pills-main-engine",type:"button",role:"tab","aria-controls":"pills-main-engine","aria-selected":"true"},"Main Engine")]),Ye("li",{class:"nav-item",role:"presentation"},[Ye("button",{class:"nav-link justify-content-center",id:"pills-pump-tab","data-bs-toggle":"pill","data-bs-target":"#pills-pump",type:"button",role:"tab","aria-controls":"pills-pump","aria-selected":"false"},"Pump Status")])],-1),ZK={class:"tab-content",id:"pills-tabContent"},KK={class:"tab-pane fade show active",id:"pills-main-engine",role:"tabpanel","aria-labelledby":"pills-main-engine-tab"},JK=Ye("div",{class:"tt01"},"Main Engine Latest Status",-1),QK={class:"st21"},eJ={key:0},tJ=["innerHTML"],iJ={key:1},nJ={class:"st22"},rJ={class:"tab-pane",id:"pills-pump",role:"tabpanel","aria-labelledby":"pills-pump-tab"},sJ=Ye("div",{class:"tt01"},"Cargo/Ballast/Stripping/Vacuum Pump",-1),oJ={class:"st21"},aJ={key:0},lJ=["innerHTML"],cJ={key:1},dJ={class:"st22"};function uJ(e,t,n,r,o,d){const h=Er("progress-bar");return wt(),Ot("div",xK,[n.display?(wt(),Ot("div",bK,[Ye("div",wK,[Ye("button",{onClick:t[0]||(t[0]=s=>e.$emit("close",!0)),class:"btn btn-link bg-transparent p-0"},[Ye("img",{src:"/img/icons/close-fill.png",alt:""},null,8,TK)]),SK]),Ye("div",CK,[EK,Ye("div",MK,[Ye("div",kK,[Ye("div",AK,[PK,Ye("div",DK,[Ye("a",{href:`/fleet/${n.fleet.id}`,class:"d-flex align-items-center"},[ws(Qi(n.fleet.name)+" ",1),LK],8,IK)])]),Ye("div",OK,[RK,Ye("div",BK,Qi(n.fleet.imo_number),1)]),Ye("div",zK,[NK,Ye("div",FK,Qi(e.$filters.dateformat(n.fleet.last_connection))+" WIB",1)]),Ye("div",jK,[UK,Ye("div",$K,[Ye("a",{href:`/fleet/${n.fleet.id}/track`,class:"d-flex align-items-center"},[ws(Qi(n.fleet.navigation.lat.toFixed(4))+" "+Qi(n.fleet.navigation.lat_dir)+", "+Qi(n.fleet.navigation.lng.toFixed(4))+" "+Qi(n.fleet.navigation.lng_dir)+" ",1),GK],8,VK)])]),n.fleet.fleet_status=="at_port"?(wt(),Ot("div",WK,[HK,Ye("div",YK,Qi(n.fleet.last_port),1)])):yi("",!0),qK,XK,Ye("div",ZK,[Ye("div",KK,[JK,(wt(!0),Ot(ln,null,Mr(n.fleet.engine_info,(s,b)=>(wt(),Ot("div",{class:"m13",key:b},[Ye("div",QK,[ws(Qi(s.title)+" ",1),s.value>0?(wt(),Ot("span",eJ,[ws(Qi(e.$filters.number(s.value))+" ",1),Ye("span",{innerHTML:s.unit},null,8,tJ)])):yi("",!0),ws(),s.value==0?(wt(),Ot("span",iJ,"OFF")):yi("",!0)]),Ye("div",nJ,[cn(h,{min:s.min,warning:s.warning,danger:s.danger,max:s.max,value:s.value},null,8,["min","warning","danger","max","value"])])]))),128))]),Ye("div",rJ,[sJ,(wt(!0),Ot(ln,null,Mr(n.fleet.cargo_pump_info,(s,b)=>(wt(),Ot("div",{class:"m13",key:b},[Ye("div",oJ,[ws(Qi(s.title)+" ",1),s.value>0?(wt(),Ot("span",aJ,[ws(Qi(e.$filters.number(s.value))+" ",1),Ye("span",{innerHTML:s.unit},null,8,lJ)])):yi("",!0),ws(),s.value==0?(wt(),Ot("span",cJ,"OFF")):yi("",!0)]),Ye("div",dJ,[cn(h,{min:s.min,normal:s.normal,danger:s.danger,max:s.max,value:s.value},null,8,["min","normal","danger","max","value"])])]))),128))])])])])])])):yi("",!0)])}const hJ=Zr(vK,[["render",uJ]]),pJ={name:"ChartSvg",props:{path:String,svgData:Object,height:Number},data(){return{scadavis:null,tags:[]}},async mounted(){await this.init(),Object.keys(this.svgData).forEach(e=>{this.setValue(e,this.svgData[e])})},created(){window.addEventListener("resize",this.resize)},destroyed(){window.removeEventListener("resize",this.resize)},watch:{svgData:function(e,t){let n=this;Object.keys(e).forEach(r=>{n.setValue(r,e[r])})}},methods:{async init(){this.scadavis=await scadavisInit({container:"scada-svg",svgurl:this.path}),this.scadavis.enableTools(!1,!0),this.scadavis.hideWatermark(),this.tags=this.scadavis.getTagsList().split(","),this.tags.forEach(e=>{this.scadavis.setValue(e,0)}),this.resize()},resize(){this.scadavis.zoomToOriginal();let e=this.$refs.cnsvg;this.scadavis.zoomTo(1*(e.clientWidth<e.clientHeight?e.clientWidth/600:e.clientHeight/600))},setValue(e,t){this.scadavis&&this.scadavis.setValue(e,t)}}};function fJ(e,t,n,r,o,d){return wt(),Ot("div",null,[Ye("div",{id:"scada-svg",class:"scada",ref:"cnsvg",style:el({height:this.height+"px"})},null,4)])}const l2=Zr(pJ,[["render",fJ]]),mJ={props:{url:String},components:{ChartSvg:l2},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(n=>{t.includes(n)||(this.data[n+"_bar"]=e[n]*1e3)})}}}},gJ={key:0},yJ={class:"container"},_J={class:"row"},vJ={class:"col-12"};function xJ(e,t,n,r,o,d){const h=Er("chart-svg");return o.fleet?(wt(),Ot("div",gJ,[Ye("div",yJ,[Ye("div",_J,[Ye("div",vJ,[cn(h,{path:"/svg/cargo_bargraph.svg",svgData:o.data,height:550},null,8,["svgData"])])])])])):yi("",!0)}const bJ=Zr(mJ,[["render",xJ]]),wJ={props:{url:String},components:{ChartSvg:l2},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(n=>{t.includes(n)||(this.data[n+"_bar"]=e[n]*1e3)}),this.data.fleet_name=this.fleet.name}}}},TJ={key:0},SJ={class:"container"},CJ={class:"row"},EJ={class:"col-12"};function MJ(e,t,n,r,o,d){const h=Er("chart-svg");return o.fleet?(wt(),Ot("div",TJ,[Ye("div",SJ,[Ye("div",CJ,[Ye("div",EJ,[cn(h,{path:"/svg/bunker_bargraph.svg",svgData:o.data,height:550},null,8,["svgData"])])])])])):yi("",!0)}const kJ=Zr(wJ,[["render",MJ]]),AJ={props:{url:String},components:{ChartSvg:l2},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(n=>{t.includes(n)||(this.data[n+"_bar"]=e[n]*1e3)}),this.data.fleet_name=this.fleet.name}}}},PJ={key:0},DJ={class:"container"},IJ={class:"row"},LJ={class:"col-12"};function OJ(e,t,n,r,o,d){const h=Er("chart-svg");return o.fleet?(wt(),Ot("div",PJ,[Ye("div",DJ,[Ye("div",IJ,[Ye("div",LJ,[cn(h,{path:"/svg/water_ballast_bargraph.svg",svgData:o.data,height:550},null,8,["svgData"])])])])])):yi("",!0)}const RJ=Zr(AJ,[["render",OJ]]),BJ={props:{url:String},components:{ChartSvg:l2},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.engine;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(n=>{t.includes(n)||(this.data[n+"_bar"]=e[n]*1e3)}),this.data.fleet_name=this.fleet.name}}}};function zJ(e,t,n,r,o,d){const h=Er("chart-svg");return wt(),Ot("div",null,[cn(h,{path:"/svg/engine-2.svg",svgData:o.data,height:550},null,8,["svgData"])])}const NJ=Zr(BJ,[["render",zJ]]),FJ={name:"UserPermission",props:{url:String},data(){return{permissions:[],checked:[],user_id:null}},mounted(){this.loadRole(),this.loadData()},methods:{async loadData(){let{data:e}=await axios.get(this.url);this.user_id=e.data.id,this.checked=e.data.permissions},async loadRole(){let{data:e}=await axios.get("/master/permission/json");this.permissions=e.data},async assignTo(){this.user_id&&(await axios.post(`/master/user/${this.user_id}/update-permission`,{permission:this.checked}),window.$vmapp.$refs.vuetable.getData())}}},jJ={class:"form-group mb-3"},UJ=Ye("label",null,"Permissions",-1),$J={class:"checkbox"},VJ={class:"ui-check"},GJ=["value"],WJ=Ye("i",{class:"dark-white"},null,-1),HJ={class:"float-end"};function YJ(e,t,n,r,o,d){return wt(),Ot("div",null,[Ye("div",jJ,[UJ,(wt(!0),Ot(ln,null,Mr(o.permissions,h=>(wt(),Ot("div",$J,[Ye("label",VJ,[ho(Ye("input",{type:"checkbox",value:h.name,"onUpdate:modelValue":t[0]||(t[0]=s=>o.checked=s)},null,8,GJ),[[lf,o.checked]]),WJ,ws(" "+Qi(h.name),1)])]))),256))]),Ye("div",HJ,[Ye("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...h)=>d.assignTo&&d.assignTo(...h))},"Assign Permissions")])])}const qJ=Zr(FJ,[["render",YJ]]),XJ={props:{title:String,url:String,fields:Array,show:Boolean,fleet:Object},data(){return{data:{}}},mounted(){this.fields.forEach(e=>{this.data[e.field]=null}),this.fleet&&(this.data.fleet_id=this.fleet.fleetId,this.data.group=this.fleet.group)},methods:{async save(){let e=await axios.post(this.url,this.data).then(t=>t.data);e.error?this.$emit("saved",!1):this.$emit("saved",e)}}},ZJ={class:"modal-dialog modal-dialog-centered",role:"document"},KJ={class:"modal-content"},JJ={class:"modal-header"},QJ={class:"modal-title"},eQ={class:"modal-body"},tQ={key:0,class:"mb-2"},iQ={class:"form-label"},nQ=["onUpdate:modelValue"],rQ=["value"],sQ={key:1,class:"mb-2"},oQ={class:"form-label"},aQ=["onUpdate:modelValue"],lQ={class:"modal-footer"};function cQ(e,t,n,r,o,d){return wt(),Ot("div",{class:ar(["modal modal-blur fade",{show:n.show}]),style:el({display:n.show?"block":"none"}),id:"modal-team",tabindex:"-1",role:"dialog","aria-hidden":"true"},[Ye("div",ZJ,[Ye("div",KJ,[Ye("div",JJ,[Ye("h5",QJ,Qi(n.title),1),Ye("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=h=>n.show=!1)})]),Ye("div",eQ,[(wt(!0),Ot(ln,null,Mr(n.fields,(h,s)=>(wt(),Ot(ln,{key:s},[h.editType=="select"?(wt(),Ot("div",tQ,[Ye("label",iQ,Qi(h.name),1),ho(Ye("select",{"onUpdate:modelValue":b=>o.data[h.field]=b,class:"form-select"},[(wt(!0),Ot(ln,null,Mr(h.options,(b,R)=>(wt(),Ot("option",{value:b,key:R},Qi(b),9,rQ))),128))],8,nQ),[[vu,o.data[h.field]]])])):(wt(),Ot("div",sQ,[Ye("label",oQ,Qi(h.name),1),ho(Ye("input",{type:"text",class:"form-control","onUpdate:modelValue":b=>o.data[h.field]=b},null,8,aQ),[[Tu,o.data[h.field]]])]))],64))),128))]),Ye("div",lQ,[Ye("button",{onClick:t[1]||(t[1]=h=>n.show=!1),type:"button",class:"btn me-auto","data-bs-dismiss":"modal"},"Close"),Ye("button",{onClick:t[2]||(t[2]=(...h)=>d.save&&d.save(...h)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Add")])])])],6)}const dQ=Zr(XJ,[["render",cQ]]),uQ={components:{FormModal:dQ},props:{columns:Array,data:Array,editUrl:String,delUrl:String,fleet:Object},data(){return{formShow:!1,items:[]}},mounted(){this.data.forEach(e=>this.items.push(e)),this.items=this.items.map(e=>({...e,isEdit:!1}))},methods:{saved(e){e.isEdit=!1,this.items.push(e),this.formShow=!1},editRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit},async saveRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit,await axios.post(this.editUrl,e)},isFieldSlot(e){return!!this.$slots[e]},del(e,t){let n=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&(axios.delete(n.delUrl+"/"+e.id),n.items.splice(t,1),n.$swal("Deleted!","Your file has been deleted.","success"))})}}},hQ={class:"action-edit"},pQ={class:"table-responsive"},fQ={class:"table table-vcenter card-table"},mQ=Ye("th",null,"No",-1),gQ=Ye("th",null,null,-1),yQ=["onUpdate:modelValue"],_Q=["value"],vQ=["onUpdate:modelValue"],xQ=["innerHTML"],bQ={key:1},wQ=["onClick"],TQ=["onClick"],SQ=["onClick"];function CQ(e,t,n,r,o,d){const h=Er("form-modal");return wt(),Ot(ln,null,[cn(h,{fields:n.columns,title:"Add Data",url:n.editUrl,show:o.formShow,fleet:n.fleet,onSaved:d.saved},null,8,["fields","url","show","fleet","onSaved"]),Ye("div",hQ,[Ye("button",{type:"button",class:"btn btn-info",onClick:t[0]||(t[0]=s=>o.formShow=!0)},"Add Data")]),Ye("div",pQ,[Ye("table",fQ,[Ye("thead",null,[Ye("tr",null,[mQ,(wt(!0),Ot(ln,null,Mr(n.columns,(s,b)=>(wt(),Ot("th",{key:b},Qi(s.name),1))),128)),gQ])]),Ye("tbody",null,[(wt(!0),Ot(ln,null,Mr(o.items,(s,b)=>(wt(),Ot("tr",{key:s.id},[Ye("td",null,Qi(1+b),1),(wt(!0),Ot(ln,null,Mr(n.columns,(R,J)=>(wt(),Ot("td",{key:J},[d.isFieldSlot(R.field)?xn(e.$slots,R.field,{key:0,rowData:s,rowIndex:b,rowField:R}):R.editType=="select"&&s.isEdit?ho((wt(),Ot("select",{key:1,"onUpdate:modelValue":I=>o.items[b][R.field]=I,class:"form-select"},[(wt(!0),Ot(ln,null,Mr(R.options,(I,z)=>(wt(),Ot("option",{value:I,key:z},Qi(I),9,_Q))),128))],8,yQ)),[[vu,o.items[b][R.field]]]):s.isEdit?ho((wt(),Ot("input",{key:2,type:"text",class:"form-control","onUpdate:modelValue":I=>o.items[b][R.field]=I},null,8,vQ)),[[Tu,o.items[b][R.field]]]):(wt(),Ot(ln,{key:3},[R.isHtml?(wt(),Ot("span",{key:0,innerHTML:s[R.field]},null,8,xQ)):(wt(),Ot("span",bQ,Qi(s[R.field]),1))],64))]))),128)),Ye("td",null,[s.isEdit?yi("",!0):(wt(),Ot("a",{key:0,href:"#",onClick:R=>d.editRowHandler(s,b)},"Edit",8,wQ)),s.isEdit?(wt(),Ot("a",{key:1,href:"#",onClick:R=>d.saveRowHandler(s,b)},"Done",8,TQ)):yi("",!0),ws(" | "),Ye("a",{href:"#",onClick:R=>d.del(s,b)},"Delete",8,SQ)])]))),128))])])])],64)}const EQ=Zr(uQ,[["render",CQ]]),F6=["#2f7ed8","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a","#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1","#0d233a"];var j6={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ra,function(){var n="__v-click-outside",r=typeof window<"u",o=typeof navigator<"u",d=r&&("ontouchstart"in window||o&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],h=function(J){var I=J.event,z=J.handler;(0,J.middleware)(I)&&z(I)},s=function(J,I){var z=function(S){var P=typeof S=="function";if(!P&&typeof S!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:P?S:S.handler,middleware:S.middleware||function(H){return H},events:S.events||d,isActive:S.isActive!==!1,detectIframe:S.detectIframe!==!1,capture:!!S.capture}}(I.value),Z=z.handler,L=z.middleware,O=z.detectIframe,G=z.capture;if(z.isActive){if(J[n]=z.events.map(function(S){return{event:S,srcTarget:document.documentElement,handler:function(P){return function(H){var U=H.el,E=H.event,ie=H.handler,te=H.middleware,$=E.path||E.composedPath&&E.composedPath();($?$.indexOf(U)<0:!U.contains(E.target))&&h({event:E,handler:ie,middleware:te})}({el:J,event:P,handler:Z,middleware:L})},capture:G}}),O){var M={event:"blur",srcTarget:window,handler:function(S){return function(P){var H=P.el,U=P.event,E=P.handler,ie=P.middleware;setTimeout(function(){var te=document.activeElement;te&&te.tagName==="IFRAME"&&!H.contains(te)&&h({event:U,handler:E,middleware:ie})},0)}({el:J,event:S,handler:Z,middleware:L})},capture:G};J[n]=[].concat(J[n],[M])}J[n].forEach(function(S){var P=S.event,H=S.srcTarget,U=S.handler;return setTimeout(function(){J[n]&&H.addEventListener(P,U,G)},0)})}},b=function(J){(J[n]||[]).forEach(function(I){return I.srcTarget.removeEventListener(I.event,I.handler,I.capture)}),delete J[n]},R=r?{beforeMount:s,updated:function(J,I){var z=I.value,Z=I.oldValue;JSON.stringify(z)!==JSON.stringify(Z)&&(b(J),s(J,{value:z}))},unmounted:b}:{};return{install:function(J){J.directive("click-outside",R)},directive:R}})})(j6);var MQ=j6.exports;const kQ=uh(MQ),AQ={props:{options:Array,type:{type:String,default:"select"},default:{type:Array,default:()=>[]}},data(){return{show:!1,selected:[]}},methods:{showDropdown(){this.show=!this.show},hide(){this.show=!1},groupBy(e,t){return e.reduce((n,r,o)=>{var d;return(n[d=t(r,o,e)]||(n[d]=[])).push(r),n},{})}},computed:{groups(){return this.options[0].hasOwnProperty("group")?this.groupBy(this.options,e=>e.group):this.options},selectAll:{get(){return this.options?this.selected.length==this.options.length:!1},set(e){e?this.selected=this.options:this.selected=[]}}},watch:{selected(e){this.$emit("checked",e)},default(e){this.selected=e}},directives:{clickOutside:kQ.directive}},PQ={class:"dd"},DQ={id:"list1",class:"dropdown-check-list",tabindex:"100"},IQ=Mu('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-adjustments-horizontal" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 6l8 0"></path><path d="M16 6l4 0"></path><path d="M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 12l2 0"></path><path d="M10 12l10 0"></path><path d="M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 18l11 0"></path><path d="M19 18l1 0"></path></svg>',1),LQ=[IQ],OQ={key:2,class:"items"},RQ={class:"bb"},BQ={for:"check-all"},zQ={key:0},NQ=["id","value"],FQ=["for"],jQ={key:1},UQ=["id","value"],$Q=["for"];function VQ(e,t,n,r,o,d){const h=Rb("click-outside");return ho((wt(),Ot("div",PQ,[Ye("div",DQ,[n.type=="select"?(wt(),Ot("span",{key:0,class:"anchor form-control",onClick:t[0]||(t[0]=(...s)=>d.showDropdown&&d.showDropdown(...s))}," Select Parameter ")):yi("",!0),n.type=="icon"?(wt(),Ot("span",{key:1,class:"icon",onClick:t[1]||(t[1]=(...s)=>d.showDropdown&&d.showDropdown(...s))},LQ)):yi("",!0),o.show?(wt(),Ot("ul",OQ,[Ye("li",RQ,[Ye("div",null,[ho(Ye("input",{id:"check-all",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=s=>d.selectAll=s)},null,512),[[lf,d.selectAll]]),Ye("label",BQ,[d.selectAll?(wt(),Ot(ln,{key:1},[ws("Uncheck All")],64)):(wt(),Ot(ln,{key:0},[ws("Check All")],64))])])]),(wt(!0),Ot(ln,null,Mr(d.groups,(s,b)=>(wt(),Ot("li",{key:b},[Array.isArray(s)?(wt(),Ot("div",zQ,[Ye("span",null,Qi(b),1),(wt(!0),Ot(ln,null,Mr(s,(R,J)=>(wt(),Ot("div",{key:J},[ho(Ye("input",{type:"checkbox",id:J,value:R,"onUpdate:modelValue":t[3]||(t[3]=I=>o.selected=I)},null,8,NQ),[[lf,o.selected]]),Ye("label",{for:J},Qi(R.text),9,FQ)]))),128))])):yi("",!0),Array.isArray(s)?yi("",!0):(wt(),Ot("div",jQ,[ho(Ye("input",{type:"checkbox",id:b,value:s,"onUpdate:modelValue":t[4]||(t[4]=R=>o.selected=R)},null,8,UQ),[[lf,o.selected]]),Ye("label",{for:b},Qi(s.text),9,$Q)]))]))),128))])):yi("",!0)])])),[[h,d.hide]])}const U6=Zr(AQ,[["render",VQ]]),Oa=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(r,o,d,h){if(arguments.length===1&&WQ(r)==="string"&&!/\d/.test(r)&&(o=r,r=void 0),r=r||new Date,r instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");o=String(Oa.masks[o]||o||Oa.masks.default);var s=o.slice(0,4);(s==="UTC:"||s==="GMT:")&&(o=o.slice(4),d=!0,s==="GMT:"&&(h=!0));var b=d?"getUTC":"get",R=r[b+"Date"](),J=r[b+"Day"](),I=r[b+"Month"](),z=r[b+"FullYear"](),Z=r[b+"Hours"](),L=r[b+"Minutes"](),O=r[b+"Seconds"](),G=r[b+"Milliseconds"](),M=d?0:r.getTimezoneOffset(),S=$6(r),P=GQ(r),H={d:R,dd:Vh(R),ddd:Oa.i18n.dayNames[J],dddd:Oa.i18n.dayNames[J+7],m:I+1,mm:Vh(I+1),mmm:Oa.i18n.monthNames[I],mmmm:Oa.i18n.monthNames[I+12],yy:String(z).slice(2),yyyy:z,h:Z%12||12,hh:Vh(Z%12||12),H:Z,HH:Vh(Z),M:L,MM:Vh(L),s:O,ss:Vh(O),l:Vh(G,3),L:Vh(Math.round(G/10)),t:Z<12?Oa.i18n.timeNames[0]:Oa.i18n.timeNames[1],tt:Z<12?Oa.i18n.timeNames[2]:Oa.i18n.timeNames[3],T:Z<12?Oa.i18n.timeNames[4]:Oa.i18n.timeNames[5],TT:Z<12?Oa.i18n.timeNames[6]:Oa.i18n.timeNames[7],Z:h?"GMT":d?"UTC":(String(r).match(t)||[""]).pop().replace(n,""),o:(M>0?"-":"+")+Vh(Math.floor(Math.abs(M)/60)*100+Math.abs(M)%60,4),S:["th","st","nd","rd"][R%10>3?0:(R%100-R%10!=10)*R%10],W:S,N:P};return o.replace(e,function(U){return U in H?H[U]:U.slice(1,U.length-1)})}}();Oa.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};Oa.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function Vh(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function $6(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var o=(t-n)/(864e5*7);return 1+Math.floor(o)}function GQ(e){var t=e.getDay();return t===0&&(t=7),t}function WQ(e){return e===null?"null":e===void 0?"undefined":typeof e!="object"?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}const V6={isSame:(e,t,n)=>{let r=new Date(e),o=new Date(t);return n==="date"&&(r.setHours(0,0,0,0),o.setHours(0,0,0,0)),r.getTime()===o.getTime()},daysInMonth:(e,t)=>new Date(e,t,0).getDate(),weekNumber:e=>$6(e),format:(e,t)=>Oa(e,t),nextMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()+1),t},prevMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()-1),t},validateDateRange:(e,t,n)=>{let r=new Date(n),o=new Date(t);return n&&e.getTime()>r.getTime()?r:t&&e.getTime()<o.getTime()?o:e},localeData:e=>({...{direction:"ltr",format:"mm/dd/yyyy",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:Oa.i18n.dayNames.slice(0,7).map(n=>n.substring(0,2)),monthNames:Oa.i18n.monthNames.slice(0,12),firstDay:0},...e}),yearMonth:e=>{let t=e.getMonth()+1;return e.getFullYear()+(t<10?"0":"")+t},isValidDate:e=>e instanceof Date&&!isNaN(e)},U5={props:{dateUtil:{type:[Object,String],default:"native"}},created(){this.$dateUtil=V6}},HQ={mixins:[U5],name:"calendar",props:{monthDate:Date,localeData:Object,start:Date,end:Date,minDate:Date,maxDate:Date,showDropdowns:{type:Boolean,default:!1},showWeekNumbers:{type:Boolean,default:!1},dateFormat:{type:Function,default:null}},data(){let e=this.monthDate||this.start||new Date;return{currentMonthDate:e,year_text:e.getFullYear()}},methods:{prevMonthClick(){this.changeMonthDate(this.$dateUtil.prevMonth(this.currentMonthDate))},nextMonthClick(){this.changeMonthDate(this.$dateUtil.nextMonth(this.currentMonthDate))},changeMonthDate(e,t=!0){let n=this.$dateUtil.yearMonth(this.currentMonthDate);this.currentMonthDate=this.$dateUtil.validateDateRange(e,this.minDate,this.maxDate),t&&n!==this.$dateUtil.yearMonth(this.currentMonthDate)&&this.$emit("change-month",{month:this.currentMonthDate.getMonth()+1,year:this.currentMonthDate.getFullYear()}),this.checkYear()},dayClass(e){let t=new Date(e);t.setHours(0,0,0,0);let n=new Date(this.start);n.setHours(0,0,0,0);let r=new Date(this.end);r.setHours(0,0,0,0);let o={off:e.getMonth()+1!==this.month,weekend:e.getDay()===6||e.getDay()===0,today:t.setHours(0,0,0,0)==new Date().setHours(0,0,0,0),active:t.setHours(0,0,0,0)==new Date(this.start).setHours(0,0,0,0)||t.setHours(0,0,0,0)==new Date(this.end).setHours(0,0,0,0),"in-range":t>=n&&t<=r,"start-date":t.getTime()===n.getTime(),"end-date":t.getTime()===r.getTime(),disabled:this.minDate&&t.getTime()<this.minDate.getTime()||this.maxDate&&t.getTime()>this.maxDate.getTime()};return this.dateFormat?this.dateFormat(o,e):o},checkYear(){this.$refs.yearSelect!==document.activeElement&&this.$nextTick(()=>{this.year_text=this.monthDate.getFullYear()})}},computed:{monthName(){return this.locale.monthNames[this.currentMonthDate.getMonth()]},year:{get(){return this.year_text},set(e){this.year_text=e;let t=this.$dateUtil.validateDateRange(new Date(e,this.month,1),this.minDate,this.maxDate);this.$dateUtil.isValidDate(t)&&this.$emit("change-month",{month:t.getMonth(),year:t.getFullYear()})}},month:{get(){return this.currentMonthDate.getMonth()+1},set(e){let t=this.$dateUtil.validateDateRange(new Date(this.year,e-1,1),this.minDate,this.maxDate);this.$emit("change-month",{month:t.getMonth()+1,year:t.getFullYear()})}},calendar(){let e=this.month,t=this.currentMonthDate.getFullYear(),n=new Date(t,e-1,1),r=this.$dateUtil.prevMonth(n).getMonth()+1,o=this.$dateUtil.prevMonth(n).getFullYear(),d=new Date(o,e-1,0).getDate(),h=n.getDay(),s=[];for(let J=0;J<6;J++)s[J]=[];let b=d-h+this.locale.firstDay+1;b>d&&(b-=7),h===this.locale.firstDay&&(b=d-6);let R=new Date(o,r-1,b,12,0,0);for(let J=0,I=0,z=0;J<6*7;J++,I++,R.setDate(R.getDate()+1))J>0&&I%7===0&&(I=0,z++),s[z][I]=new Date(R.getTime());return s},months(){let e=this.locale.monthNames.map((t,n)=>({label:t,value:n}));if(this.maxDate&&this.minDate){let t=this.maxDate.getFullYear()-this.minDate.getFullYear();if(t<2){let n=[];if(t<1)for(let r=this.minDate.getMonth();r<=this.maxDate.getMonth();r++)n.push(r);else{for(let r=0;r<=this.maxDate.getMonth();r++)n.push(r);for(let r=this.minDate.getMonth();r<12;r++)n.push(r)}if(n.length>0)return e.filter(r=>n.find(o=>r.value===o)>-1)}}return e},locale(){return this.$dateUtil.localeData(this.localeData)}},watch:{monthDate(e){this.currentMonthDate.getTime()!==e.getTime()&&this.changeMonthDate(e,!1)}}},G6=e=>(K0("data-v-66e2a2e7"),e=e(),J0(),e),YQ={class:"table-condensed"},qQ=G6(()=>Ye("span",null,null,-1)),XQ=[qQ],ZQ=["colspan"],KQ={class:"row mx-1"},JQ=["value"],QQ=["colspan"],eee=G6(()=>Ye("span",null,null,-1)),tee=[eee],iee={key:0,class:"week"},nee={key:0,class:"week"},ree=["onClick","onMouseover"];function see(e,t,n,r,o,d){return wt(),Ot("table",YQ,[Ye("thead",null,[Ye("tr",null,[Ye("th",{class:"prev available",onClick:t[0]||(t[0]=(...h)=>d.prevMonthClick&&d.prevMonthClick(...h)),tabindex:"0"},XQ),n.showDropdowns?(wt(),Ot("th",{key:0,colspan:n.showWeekNumbers?6:5,class:"month"},[Ye("div",KQ,[ho(Ye("select",{"onUpdate:modelValue":t[1]||(t[1]=h=>d.month=h),class:"monthselect col"},[(wt(!0),Ot(ln,null,Mr(d.months,h=>(wt(),Ot("option",{key:h.value,value:h.value+1},Qi(h.label),9,JQ))),128))],512),[[vu,d.month]]),ho(Ye("input",{ref:"yearSelect",type:"number","onUpdate:modelValue":t[2]||(t[2]=h=>d.year=h),onBlur:t[3]||(t[3]=(...h)=>d.checkYear&&d.checkYear(...h)),class:"yearselect col"},null,544),[[Tu,d.year]])])],8,ZQ)):(wt(),Ot("th",{key:1,colspan:n.showWeekNumbers?6:5,class:"month"},Qi(d.monthName)+" "+Qi(d.year),9,QQ)),Ye("th",{class:"next available",onClick:t[4]||(t[4]=(...h)=>d.nextMonthClick&&d.nextMonthClick(...h)),tabindex:"0"},tee)])]),Ye("tbody",null,[Ye("tr",null,[n.showWeekNumbers?(wt(),Ot("th",iee,Qi(d.locale.weekLabel),1)):yi("",!0),(wt(!0),Ot(ln,null,Mr(d.locale.daysOfWeek,h=>(wt(),Ot("th",{key:h},Qi(h),1))),128))]),(wt(!0),Ot(ln,null,Mr(d.calendar,(h,s)=>(wt(),Ot("tr",{key:s},[n.showWeekNumbers&&(s%7||s===0)?(wt(),Ot("td",nee,Qi(e.$dateUtil.weekNumber(h[0])),1)):yi("",!0),(wt(!0),Ot(ln,null,Mr(h,(b,R)=>(wt(),Ot("td",{class:ar(d.dayClass(b)),onClick:J=>e.$emit("dateClick",b),onMouseover:J=>e.$emit("hoverDate",b),key:R},[xn(e.$slots,"date-slot",{date:b},()=>[ws(Qi(b.getDate()),1)],!0)],42,ree))),128))]))),128))])])}const oee=Zr(HQ,[["render",see],["__scopeId","data-v-66e2a2e7"]]),aee={props:{miniuteIncrement:{type:Number,default:5},hour24:{type:Boolean,default:!0},secondPicker:{type:Boolean,default:!1},currentTime:{default(){return new Date}},readonly:{type:Boolean,default:!1}},data(){let e=this.currentTime?this.currentTime:new Date,t=e.getHours();return{hour:this.hour24?t:t%12||12,minute:e.getMinutes()-e.getMinutes()%this.miniuteIncrement,second:e.getSeconds(),ampm:t<12?"AM":"PM"}},computed:{hours(){let e=[],t=this.hour24?24:12;for(let n=0;n<t;n++)e.push(this.hour24?n:n+1);return e},minutes(){let e=[],t=60;for(let n=0;n<t;n=n+this.miniuteIncrement)e.push(n);return e}},watch:{hour(){this.onChange()},minute(){this.onChange()},second(){this.onChange()},ampm(){this.onChange()}},methods:{formatNumber:e=>e<10?"0"+e.toString():e.toString(),getHour(){return this.hour24?this.hour:this.hour===12?this.ampm==="AM"?0:12:this.hour+(this.ampm==="PM"?12:0)},onChange(){this.$emit("update",{hours:this.getHour(),minutes:this.minute,seconds:this.second})}}},lee={class:"calendar-time"},cee=["disabled"],dee=["value"],uee=["disabled"],hee=["value"],pee=["disabled"],fee=["value"],mee=["disabled"],gee=Ye("option",{value:"AM"},"AM",-1),yee=Ye("option",{value:"PM"},"PM",-1),_ee=[gee,yee];function vee(e,t,n,r,o,d){return wt(),Ot("div",lee,[ho(Ye("select",{"onUpdate:modelValue":t[0]||(t[0]=h=>o.hour=h),class:"hourselect form-control mr-1",disabled:n.readonly},[(wt(!0),Ot(ln,null,Mr(d.hours,h=>(wt(),Ot("option",{key:h,value:h},Qi(d.formatNumber(h)),9,dee))),128))],8,cee),[[vu,o.hour]]),ws(" :"),ho(Ye("select",{"onUpdate:modelValue":t[1]||(t[1]=h=>o.minute=h),class:"minuteselect form-control ml-1",disabled:n.readonly},[(wt(!0),Ot(ln,null,Mr(d.minutes,h=>(wt(),Ot("option",{key:h,value:h},Qi(d.formatNumber(h)),9,hee))),128))],8,uee),[[vu,o.minute]]),n.secondPicker?(wt(),Ot(ln,{key:0},[ws(" :"),ho(Ye("select",{"onUpdate:modelValue":t[2]||(t[2]=h=>o.second=h),class:"secondselect form-control ml-1",disabled:n.readonly},[(wt(),Ot(ln,null,Mr(60,h=>Ye("option",{key:h-1,value:h-1},Qi(d.formatNumber(h-1)),9,fee)),64))],8,pee),[[vu,o.second]])],64)):yi("",!0),n.hour24?yi("",!0):ho((wt(),Ot("select",{key:1,"onUpdate:modelValue":t[3]||(t[3]=h=>o.ampm=h),class:"ampmselect",disabled:n.readonly},_ee,8,mee)),[[vu,o.ampm]])])}const xee=Zr(aee,[["render",vee]]),bee={mixins:[U5],props:{ranges:Object,selected:Object,localeData:Object,alwaysShowCalendars:Boolean},data(){return{customRangeActive:!1}},methods:{clickRange(e){this.customRangeActive=!1,this.$emit("clickRange",e)},clickCustomRange(){this.customRangeActive=!0,this.$emit("showCustomRange")},range_class(e){return{active:e.selected===!0}}},computed:{listedRanges(){return this.ranges?Object.keys(this.ranges).map(e=>({label:e,value:this.ranges[e],selected:this.$dateUtil.isSame(this.selected.startDate,this.ranges[e][0])&&this.$dateUtil.isSame(this.selected.endDate,this.ranges[e][1])})):!1},selectedRange(){return this.listedRanges.find(e=>e.selected===!0)},showCustomRangeLabel(){return!this.alwaysShowCalendars}}},wee={class:"ranges"},Tee={key:0},See=["onClick","data-range-key"];function Cee(e,t,n,r,o,d){return wt(),Ot("div",wee,[n.ranges?(wt(),Ot("ul",Tee,[(wt(!0),Ot(ln,null,Mr(d.listedRanges,h=>(wt(),Ot("li",{onClick:s=>d.clickRange(h.value),"data-range-key":h.label,key:h.label,class:ar(d.range_class(h)),tabindex:"0"},Qi(h.label),11,See))),128)),d.showCustomRangeLabel?(wt(),Ot("li",{key:0,class:ar({active:o.customRangeActive||!d.selectedRange}),onClick:t[0]||(t[0]=(...h)=>d.clickCustomRange&&d.clickCustomRange(...h)),tabindex:"0"},Qi(n.localeData.customRangeLabel),3)):yi("",!0)])):yi("",!0)])}const Eee=Zr(bee,[["render",Cee]]),Mee={mounted(e,{instance:t}){if(t.appendToBody){const{height:n,top:r,left:o,width:d,right:h}=t.$refs.toggle.getBoundingClientRect();e.unbindPosition=t.calculatePosition(e,t,{width:d,top:window.scrollY+r+n,left:window.scrollX+o,right:h}),document.body.appendChild(e)}else t.$el.appendChild(e)},unmounted(e,{instance:t}){t.appendToBody&&(e.unbindPosition&&typeof e.unbindPosition=="function"&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}},kee={inheritAttrs:!1,components:{Calendar:oee,CalendarTime:xee,CalendarRanges:Eee},mixins:[U5],directives:{appendToBody:Mee},emits:["update:modelValue","toggle","hoverDate","startSelection","select","change-month","finishSelection"],props:{modelValue:{type:Object},minDate:{type:[String,Date],default(){return null}},maxDate:{type:[String,Date],default(){return null}},showWeekNumbers:{type:Boolean,default:!1},linkedCalendars:{type:Boolean,default:!0},singleDatePicker:{type:[Boolean,String],default:!1},showDropdowns:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},timePickerIncrement:{type:Number,default:5},timePicker24Hour:{type:Boolean,default:!0},timePickerSeconds:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},localeData:{type:Object,default(){return{}}},dateRange:{type:[Object],default:null,required:!0},ranges:{type:[Object,Boolean],default(){let e=new Date;e.setHours(0,0,0,0);let t=new Date;t.setHours(11,59,59,999);let n=new Date;n.setDate(e.getDate()-1),n.setHours(0,0,0,0);let r=new Date;r.setDate(e.getDate()-1),r.setHours(11,59,59,999);let o=new Date(e.getFullYear(),e.getMonth(),1),d=new Date(e.getFullYear(),e.getMonth()+1,0,11,59,59,999);return{Today:[e,t],Yesterday:[n,r],"This month":[o,d],"This year":[new Date(e.getFullYear(),0,1),new Date(e.getFullYear(),11,31,11,59,59,999)],"Last month":[new Date(e.getFullYear(),e.getMonth()-1,1),new Date(e.getFullYear(),e.getMonth(),0,11,59,59,999)]}}},opens:{type:String,default:"center"},dateFormat:Function,alwaysShowCalendars:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},controlContainerClass:{type:[Object,String],default:"form-control reportrange-text"},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(e,t,{width:n,top:r,left:o,right:d}){t.opens==="center"?e.style.left=o+n/2+"px":t.opens==="left"?e.style.right=window.innerWidth-d+"px":t.opens==="right"&&(e.style.left=o+"px"),e.style.top=r+"px"}},closeOnEsc:{type:Boolean,default:!0},readonly:{type:Boolean}},data(){const e=V6;let t={locale:e.localeData({...this.localeData})},n=this.dateRange.startDate||null,r=this.dateRange.endDate||null;if(t.monthDate=n?new Date(n):new Date,t.nextMonthDate=e.nextMonth(t.monthDate),t.start=n?new Date(n):null,this.singleDatePicker&&this.singleDatePicker!=="range"?t.end=t.start:t.end=r?new Date(r):null,t.in_selection=!1,t.open=!1,t.showCustomRangeCalendars=!1,t.locale.firstDay!==0){let o=t.locale.firstDay,d=[...t.locale.daysOfWeek];for(;o>0;)d.push(d.shift()),o--;t.locale.daysOfWeek=d}return t},methods:{dateFormatFn(e,t){let n=new Date(t);n.setHours(0,0,0,0);let r=new Date(this.start);r.setHours(0,0,0,0);let o=new Date(this.end);return o.setHours(0,0,0,0),e["in-range"]=n>=r&&n<=o,this.dateFormat?this.dateFormat(e,t):e},changeLeftMonth(e){let t=new Date(e.year,e.month-1,1);this.monthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.monthDate)>=this.$dateUtil.yearMonth(this.nextMonthDate))&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(t),this.minDate,this.maxDate),(!this.singleDatePicker||this.singleDatePicker==="range")&&this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(this.monthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,0)},changeRightMonth(e){let t=new Date(e.year,e.month-1,1);this.nextMonthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.nextMonthDate)<=this.$dateUtil.yearMonth(this.monthDate))&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(t),this.minDate,this.maxDate),this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(this.nextMonthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,1)},normalizeDatetime(e,t){let n=new Date(e);return this.timePicker&&t&&(n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),n.setSeconds(t.getSeconds()),n.setMilliseconds(t.getMilliseconds())),n},dateClick(e){if(this.readonly)return!1;this.in_selection?(this.in_selection=!1,this.end=this.normalizeDatetime(e,this.end),this.end<this.start&&(this.in_selection=!0,this.start=this.normalizeDatetime(e,this.start),this.$emit("startSelection",this.start)),this.in_selection||(this.$emit("finishSelection",this.end),this.onSelect(),this.autoApply&&this.clickedApply())):(this.start=this.normalizeDatetime(e,this.start),this.end=this.normalizeDatetime(e,this.end),!this.singleDatePicker||this.singleDatePicker==="range"?(this.in_selection=!0,this.$emit("startSelection",this.start)):(this.onSelect(),this.autoApply&&this.clickedApply()))},hoverDate(e){if(this.readonly)return!1;let t=this.normalizeDatetime(e,this.end);this.in_selection&&t>=this.start&&(this.end=t),this.$emit("hoverDate",e)},onClickPicker(){this.disabled||this.togglePicker(null,!0)},togglePicker(e,t){typeof e=="boolean"?this.open=e:this.open=!this.open,t===!0&&this.$emit("toggle",this.open,this.togglePicker)},clickedApply(){this.togglePicker(!1,!0),this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},clickCancel(){if(this.open){let e=this.dateRange.startDate,t=this.dateRange.endDate;this.start=e?new Date(e):null,this.end=t?new Date(t):null,this.in_selection=!1,this.togglePicker(!1,!0)}},onSelect(){this.$emit("select",{startDate:this.start,endDate:this.end})},clickAway(e){e&&e.target&&!this.$el.contains(e.target)&&this.$refs.dropdown&&!this.$refs.dropdown.contains(e.target)&&this.clickCancel()},clickRange(e){this.in_selection=!1,this.$dateUtil.isValidDate(e[0])&&this.$dateUtil.isValidDate(e[1])?(this.start=this.$dateUtil.validateDateRange(new Date(e[0]),this.minDate,this.maxDate),this.end=this.$dateUtil.validateDateRange(new Date(e[1]),this.minDate,this.maxDate),this.changeLeftMonth({month:this.start.getMonth()+1,year:this.start.getFullYear()}),this.linkedCalendars===!1&&this.changeRightMonth({month:this.end.getMonth()+1,year:this.end.getFullYear()})):(this.start=null,this.end=null),this.onSelect(),this.autoApply&&this.clickedApply()},onUpdateStartTime(e){let t=new Date(this.start);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.start=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},onUpdateEndTime(e){let t=new Date(this.end);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.end=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.end})},handleEscape(e){this.open&&e.keyCode===27&&this.closeOnEsc&&this.clickCancel()}},computed:{showRanges(){return this.ranges!==!1&&!this.readonly},showCalendars(){return this.alwaysShowCalendars||this.showCustomRangeCalendars},startText(){return this.start===null?"":this.$dateUtil.format(this.start,this.locale.format)},endText(){return this.end===null?"":this.$dateUtil.format(this.end,this.locale.format)},rangeText(){let e=this.startText;return(!this.singleDatePicker||this.singleDatePicker==="range")&&(e+=this.locale.separator+this.endText),e},min(){return this.minDate?new Date(this.minDate):null},max(){return this.maxDate?new Date(this.maxDate):null},pickerStyles(){return{"show-calendar":this.open||this.opens==="inline","show-ranges":this.showRanges,"show-weeknumbers":this.showWeekNumbers,single:this.singleDatePicker,["opens"+this.opens]:!0,linked:this.linkedCalendars,"hide-calendars":!this.showCalendars}},isClear(){return!this.dateRange.startDate||!this.dateRange.endDate},isDirty(){let e=new Date(this.dateRange.startDate),t=new Date(this.dateRange.endDate);return!this.isClear&&(this.start.getTime()!==e.getTime()||this.end.getTime()!==t.getTime())}},watch:{minDate(){let e=this.$dateUtil.validateDateRange(this.monthDate,this.minDate||new Date,this.maxDate);this.changeLeftMonth({year:e.getFullYear(),month:e.getMonth()+1})},maxDate(){let e=this.$dateUtil.validateDateRange(this.nextMonthDate,this.minDate,this.maxDate||new Date);this.changeRightMonth({year:e.getFullYear(),month:e.getMonth()+1})},"dateRange.startDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.start=e&&!this.isClear&&this.$dateUtil.isValidDate(new Date(e))?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},"dateRange.endDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.end=e&&!this.isClear?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},open:{handler(e){typeof document=="object"&&this.$nextTick(()=>{e?document.body.addEventListener("click",this.clickAway):document.body.removeEventListener("click",this.clickAway),e?document.addEventListener("keydown",this.handleEscape):document.removeEventListener("keydown",this.handleEscape),!this.alwaysShowCalendars&&this.ranges&&(this.showCustomRangeCalendars=!Object.keys(this.ranges).find(t=>this.$dateUtil.isSame(this.start,this.ranges[t][0],"date")&&this.$dateUtil.isSame(this.end,this.ranges[t][1],"date")))})},immediate:!0}}},W6=e=>(K0("data-v-577c3804"),e=e(),J0(),e),Aee=W6(()=>Ye("i",{class:"glyphicon glyphicon-calendar fa fa-calendar"},null,-1)),Pee=W6(()=>Ye("b",{class:"caret"},null,-1)),Dee={class:"calendars"},Iee={key:1,class:"calendars-container"},Lee={class:"calendar-table"},Oee={key:0,class:"drp-calendar col right"},Ree={class:"calendar-table"},Bee={key:0,class:"drp-buttons"},zee={key:0,class:"drp-selected"},Nee=["disabled"];function Fee(e,t,n,r,o,d){const h=Er("calendar-ranges"),s=Er("calendar"),b=Er("calendar-time"),R=Rb("append-to-body");return wt(),Ot("div",{class:ar(["vue-daterange-picker",{inline:n.opens==="inline"}])},[Ye("div",{class:ar(n.controlContainerClass),onClick:t[0]||(t[0]=(...J)=>d.onClickPicker&&d.onClickPicker(...J)),ref:"toggle"},[xn(e.$slots,"input",{startDate:e.start,endDate:e.end,ranges:n.ranges,rangeText:d.rangeText},()=>[Aee,ws("  "),Ye("span",null,Qi(d.rangeText),1),Pee],!0)],2),cn(ku,{name:"slide-fade",mode:"out-in"},{default:Yn(()=>[e.open||n.opens==="inline"?ho((wt(),Ot("div",{key:0,class:ar(["daterangepicker ltr",d.pickerStyles]),ref:"dropdown"},[xn(e.$slots,"header",{rangeText:d.rangeText,locale:e.locale,clickCancel:d.clickCancel,clickApply:d.clickedApply,in_selection:e.in_selection,autoApply:n.autoApply},void 0,!0),Ye("div",Dee,[d.showRanges?xn(e.$slots,"ranges",{key:0,startDate:e.start,endDate:e.end,ranges:n.ranges,clickRange:d.clickRange},()=>[cn(h,{onClickRange:d.clickRange,onShowCustomRange:t[1]||(t[1]=J=>e.showCustomRangeCalendars=!0),"always-show-calendars":n.alwaysShowCalendars,"locale-data":e.locale,ranges:n.ranges,selected:{startDate:e.start,endDate:e.end}},null,8,["onClickRange","always-show-calendars","locale-data","ranges","selected"])],!0):yi("",!0),d.showCalendars?(wt(),Ot("div",Iee,[Ye("div",{class:ar(["drp-calendar col left",{single:n.singleDatePicker}])},[yi("",!0),Ye("div",Lee,[cn(s,{monthDate:e.monthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:d.min,maxDate:d.max,"show-dropdowns":n.showDropdowns,onChangeMonth:d.changeLeftMonth,"date-format":d.dateFormatFn,onDateClick:d.dateClick,onHoverDate:d.hoverDate,showWeekNumbers:n.showWeekNumbers},{default:Yn(()=>[xn(e.$slots,"date",Ta(Ol(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),n.timePicker&&e.start?(wt(),Ir(b,{key:1,onUpdate:d.onUpdateStartTime,"miniute-increment":n.timePickerIncrement,hour24:n.timePicker24Hour,"second-picker":n.timePickerSeconds,"current-time":e.start,readonly:n.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):yi("",!0)],2),n.singleDatePicker?yi("",!0):(wt(),Ot("div",Oee,[yi("",!0),Ye("div",Ree,[cn(s,{monthDate:e.nextMonthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:d.min,maxDate:d.max,"show-dropdowns":n.showDropdowns,onChangeMonth:d.changeRightMonth,"date-format":d.dateFormatFn,onDateClick:d.dateClick,onHoverDate:d.hoverDate,showWeekNumbers:n.showWeekNumbers},{default:Yn(()=>[xn(e.$slots,"date",Ta(Ol(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),n.timePicker&&e.end?(wt(),Ir(b,{key:1,onUpdate:d.onUpdateEndTime,"miniute-increment":n.timePickerIncrement,hour24:n.timePicker24Hour,"second-picker":n.timePickerSeconds,"current-time":e.end,readonly:n.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):yi("",!0)]))])):yi("",!0)]),xn(e.$slots,"footer",{rangeText:d.rangeText,locale:e.locale,clickCancel:d.clickCancel,clickApply:d.clickedApply,in_selection:e.in_selection,autoApply:n.autoApply},()=>[n.autoApply?yi("",!0):(wt(),Ot("div",Bee,[d.showCalendars?(wt(),Ot("span",zee,Qi(d.rangeText),1)):yi("",!0),n.readonly?yi("",!0):(wt(),Ot("button",{key:1,class:"cancelBtn btn btn-sm btn-secondary",type:"button",onClick:t[2]||(t[2]=(...J)=>d.clickCancel&&d.clickCancel(...J))},Qi(e.locale.cancelLabel),1)),n.readonly?yi("",!0):(wt(),Ot("button",{key:2,class:"applyBtn btn btn-sm btn-success",disabled:e.in_selection,type:"button",onClick:t[3]||(t[3]=(...J)=>d.clickedApply&&d.clickedApply(...J))},Qi(e.locale.applyLabel),9,Nee))]))],!0)],2)),[[R]]):yi("",!0)]),_:3})],2)}const jee=Zr(kee,[["render",Fee],["__scopeId","data-v-577c3804"]]),Uee={name:"DateRange",components:{DateRangePicker:jee},data(){return{dateRange:{startDate:new Date,endDate:new Date},locale:{direction:"ltr",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:bn.weekdaysMin(),monthNames:bn.monthsShort(),firstDay:1}}},methods:{updatePicker(e){this.$emit("selected",e)}}};function $ee(e,t,n,r,o,d){const h=Er("date-range-picker");return wt(),Ir(h,{ref:"picker",modelValue:o.dateRange,"onUpdate:modelValue":t[0]||(t[0]=s=>o.dateRange=s),dateRange:o.dateRange,"locale-data":o.locale,timePicker:"",timePicker24Hour:"",onUpdate:d.updatePicker,onSelect:d.updatePicker},{input:Yn(s=>[ws(Qi(e.$filters.dateformat(s.startDate))+" - "+Qi(e.$filters.dateformat(s.endDate)),1)]),_:1},8,["modelValue","dateRange","locale-data","onUpdate","onSelect"])}const H6=Zr(Uee,[["render",$ee]]);j5(hd);const Vee={components:{Chart:nm.Chart,DateRange:H6,DropdownSelect:U6},props:{url:String,title:String,columns:Array},data(){return{params:{from:new Date(new Date().setDate(new Date().getDate()-1)),to:new Date,interval:60},defColumns:[],items:this.columns,options:{chart:{type:"spline",zooming:{type:"x"}},time:{useUTC:!1},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}},mounted(){this.defColumns=UT.sampleSize(this.columns,5)},methods:{selected(e){this.items=e,this.showChart()},async showChart(){this.$refs.chart.chart.showLoading();let e=[],t=[],n=[];this.items.forEach((o,d)=>{let h=F6[d];t[d]={title:{text:o.text,style:{color:h,fontSize:"10px"}},lineColor:h,labels:{style:{color:h},align:"left",x:14},lineWidth:1,opposite:!0},o.range&&(t[d].min=o.range[0],t[d].max=o.range[1]),e[d]={id:o.data,row:o.data,yAxis:d,type:o.type?o.type:"spline",name:o.text,color:h,lineWidth:1,data:[]},n[d]=o.data}),this.options.series=e,this.options.yAxis=t,this.params.select=n,(await axios.get(this.url,{params:this.params}).then(o=>o.data)).forEach(o=>{let d=o.unix_time;this.options.series.forEach((h,s)=>{let b=o[h.row];this.options.series[s].data.push([d,b])})}),this.$refs.chart.chart.hideLoading()}}},Gee={class:"row"},Wee={class:"col-12"},Hee={class:"table-title mb-4 mt-2"},Yee={class:"row justify-content-end"},qee={class:"col-6"},Xee={class:"col-6"},Zee={class:"d-flex align-items-center justify-content-end gap-1"},Kee=Ye("option",{value:"5"},"5m",-1),Jee=Ye("option",{value:"30"},"30m",-1),Qee=Ye("option",{value:"60"},"1 H",-1),ete=Ye("option",{value:"1440"},"1 D",-1),tte=[Kee,Jee,Qee,ete];function ite(e,t,n,r,o,d){const h=Er("dropdown-select"),s=Er("VueDatePicker"),b=Er("Chart");return wt(),Ot("div",Gee,[Ye("div",Wee,[Ye("div",Hee,[Ye("h6",null,Qi(n.title),1)]),Ye("div",Yee,[Ye("div",qee,[cn(h,{options:n.columns,onChecked:d.selected,default:o.defColumns},null,8,["options","onChecked","default"])]),Ye("div",Xee,[Ye("div",Zee,[cn(s,{modelValue:o.params.from,"onUpdate:modelValue":t[0]||(t[0]=R=>o.params.from=R)},null,8,["modelValue"]),cn(s,{modelValue:o.params.to,"onUpdate:modelValue":t[1]||(t[1]=R=>o.params.to=R)},null,8,["modelValue"]),ho(Ye("select",{class:"form-control w-5 bordered","onUpdate:modelValue":t[2]||(t[2]=R=>o.params.interval=R)},tte,512),[[vu,o.params.interval]]),Ye("button",{onClick:t[3]||(t[3]=(...R)=>d.showChart&&d.showChart(...R)),class:"btn btn-primary"},"SHOW")])])]),cn(b,{ref:"chart",options:o.options,constructorType:"stockChart"},null,8,["options"])])])}const nte=Zr(Vee,[["render",ite]]);j5(hd);const rte={components:{Chart:nm.Chart,DateRange:H6,DropdownSelect:U6},props:{url:String,title:String,columns:Array,socketConfig:Object,fleet:Object},data(){return{socket:null,connected:!1,defColumns:[],params:{},items:this.columns,options:{chart:{type:"spline"},time:{useUTC:!1},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}},async mounted(){this.socket=io(this.socketConfig.url,{transports:["websocket"]}),this.socket.on("connect",()=>this.connected=!0),this.socket.on("disconnect",()=>this.connected=!1),this.socket.emit("subscribe",`fleet-${this.fleet.id}`),this.socket.on(this.socketConfig.event,this.onMessage),this.defColumns=await UT.sampleSize(this.columns,3),await this.showChart()},methods:{selected(e){this.items=e,this.showChart()},onMessage(e){let t=JSON.parse(e.toString()),n=parseInt(new Date(t.terminal_time).getTime().toFixed(0));this.options.series[index].data.shift(),this.options.series.forEach((r,o)=>{let d=t[r.row];this.options.series[o].data.push([n,d])})},async showChart(){this.$refs.chart.chart.showLoading();let e=[],t=[],n=[];this.items.forEach((o,d)=>{let h=F6[d];t[d]={title:{text:o.text,style:{color:h,fontSize:"10px"}},lineColor:h,labels:{style:{color:h},align:"left",x:14},lineWidth:1,opposite:!0},o.range&&(t[d].min=o.range[0],t[d].max=o.range[1]),e[d]={id:o.data,row:o.data,yAxis:d,type:o.type?o.type:"spline",name:o.text,color:h,lineWidth:1,data:[]},n[d]=o.data}),this.options.series=e,this.options.yAxis=t,this.params.select=n,(await axios.get(this.url).then(o=>o.data)).forEach(o=>{let d=parseInt(new Date(o.terminal_time).getTime().toFixed(0));this.options.series.forEach((h,s)=>{let b=o.data[h.row];this.options.series[s].data.push([d,b])})}),this.$refs.chart.chart.hideLoading()}}},ste={class:"row"},ote={class:"col-12"},ate={class:"table-title mb-4 mt-2"},lte={class:"row justify-content-end"},cte={class:"col-12"};function dte(e,t,n,r,o,d){const h=Er("dropdown-select"),s=Er("Chart");return wt(),Ot("div",ste,[Ye("div",ote,[Ye("div",ate,[Ye("h6",null,Qi(n.title),1)]),Ye("div",lte,[Ye("div",cte,[cn(h,{options:n.columns,onChecked:d.selected,default:o.defColumns},null,8,["options","onChecked","default"])])]),cn(s,{ref:"chart",options:o.options,constructorType:"stockChart"},null,8,["options"])])])}const ute=Zr(rte,[["render",dte]]),Oo=BS({});Oo.use(Dz);Oo.component("VueDatePicker",D5);Oo.component("map-dashboard",ZH);Oo.component("map-history",uY);Oo.component("map-default",gY);Oo.component("map-voyage",jY);Oo.component("map-bridge",ZY);Oo.component("slider-submenu",FX);Oo.component("charts-fuel",aZ);Oo.component("charts-graph",hZ);Oo.component("charts-spline",gZ);Oo.component("fleet-information",fK);Oo.component("fleet-side-info",hJ);Oo.component("fleet-cargo",bJ);Oo.component("fleet-bunker",kJ);Oo.component("fleet-ballast",RJ);Oo.component("compass",N6);Oo.component("engine-type-s",NJ);Oo.component("user-permission",qJ);Oo.component("table-editable",EQ);Oo.component("trend-view",nte);Oo.component("trend-live",ute);Oo.config.globalProperties.$filters={dateformat(e,t="DD/MM/YYYY HH:mm"){return bn(e,"YYYY-MM-DD HH:mm:ss").format(t)},str_limit(e,t=7){return e.toString().substring(0,t)},textFormat(e){return e.toLowerCase().capitalize()},number(e){let t=Number.parseFloat(e).toFixed(2);return Number.parseFloat(t).toLocaleString()}};Oo.mount("#app")});export default hte();
