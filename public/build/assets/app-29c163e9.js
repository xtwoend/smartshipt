var QA=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import"./tabler.esm-17eb6a54.js";import"./popper-528ebbd5.js";var OZ=QA((FZ,hv)=>{var ta=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function L5(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var c=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,c.get?c:{enumerable:!0,get:function(){return e[a]}})}),s}var dv={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */dv.exports;(function(e,t){(function(){var s,a="4.17.21",c=200,d="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",m="Expected a function",n="Invalid `variable` option passed into `_.template`",S="__lodash_hash_undefined__",z=500,Z="__lodash_placeholder__",O=1,H=2,q=4,L=1,R=2,$=1,M=2,E=4,k=8,V=16,G=32,C=64,te=128,Q=256,N=512,j=30,W="...",w=800,D=16,f=1,g=2,x=3,P=1/0,Y=9007199254740991,ee=17976931348623157e292,K=0/0,he=4294967295,ge=he-1,Ee=he>>>1,J=[["ary",te],["bind",$],["bindKey",M],["curry",k],["curryRight",V],["flip",N],["partial",G],["partialRight",C],["rearg",Q]],oe="[object Arguments]",ce="[object Array]",pe="[object AsyncFunction]",Ce="[object Boolean]",ne="[object Date]",ye="[object DOMException]",_e="[object Error]",ae="[object Function]",me="[object GeneratorFunction]",we="[object Map]",Re="[object Number]",Le="[object Null]",Ge="[object Object]",rt="[object Promise]",Qe="[object Proxy]",qe="[object RegExp]",Te="[object Set]",Oe="[object String]",ze="[object Symbol]",Xe="[object Undefined]",Je="[object WeakMap]",pt="[object WeakSet]",bt="[object ArrayBuffer]",It="[object DataView]",ui="[object Float32Array]",Ht="[object Float64Array]",di="[object Int8Array]",Ui="[object Int16Array]",zi="[object Int32Array]",Ei="[object Uint8Array]",Di="[object Uint8ClampedArray]",dn="[object Uint16Array]",Sn="[object Uint32Array]",Zn=/\b__p \+= '';/g,kr=/\b(__p \+=) '' \+/g,ms=/(__e\(.*?\)|\b__t\)) \+\n'';/g,zs=/&(?:amp|lt|gt|quot|#39);/g,tn=/[&<>"']/g,xa=RegExp(zs.source),Ol=RegExp(tn.source),al=/<%-([\s\S]+?)%>/g,Oa=/<%([\s\S]+?)%>/g,_r=/<%=([\s\S]+?)%>/g,Ra=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lc=/^\w*$/,ut=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fe=/[\\^$.*+?()[\]{}|]/g,We=RegExp(Fe.source),ht=/^\s+/,_t=/\s/,Pt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nt=/\{\n\/\* \[wrapped with (.+)\] \*/,Vt=/,? & /,Lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qt=/[()=,{}\[\]\/\s]/,mi=/\\(\\)?/g,Vi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ci=/\w*$/,gn=/^[-+]0x[0-9a-f]+$/i,mn=/^0b[01]+$/i,nn=/^\[object .+?Constructor\]$/,Ni=/^0o[0-7]+$/i,qn=/^(?:0|[1-9]\d*)$/,ds=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,cn=/($^)/,ks=/['\n\r\u2028\u2029\\]/g,gs="\\ud800-\\udfff",aa="\\u0300-\\u036f",la="\\ufe20-\\ufe2f",Vr="\\u20d0-\\u20ff",ci=aa+la+Vr,Ys="\\u2700-\\u27bf",pr="a-z\\xdf-\\xf6\\xf8-\\xff",fr="\\xac\\xb1\\xd7\\xf7",Rl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",to="\\u2000-\\u206f",cc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gh="A-Z\\xc0-\\xd6\\xd8-\\xde",Nr="\\ufe0e\\ufe0f",$i=fr+Rl+to+cc,Un="['’]",Xn="["+gs+"]",xo="["+$i+"]",ca="["+ci+"]",Mn="\\d+",Bl="["+Ys+"]",$o="["+pr+"]",ba="[^"+gs+$i+Mn+Ys+pr+gh+"]",Pr="\\ud83c[\\udffb-\\udfff]",Cs="(?:"+ca+"|"+Pr+")",jr="[^"+gs+"]",po="(?:\\ud83c[\\udde6-\\uddff]){2}",ll="[\\ud800-\\udbff][\\udc00-\\udfff]",Io="["+gh+"]",Ba="\\u200d",za="(?:"+$o+"|"+ba+")",wa="(?:"+Io+"|"+ba+")",Fa="(?:"+Un+"(?:d|ll|m|re|s|t|ve))?",hc="(?:"+Un+"(?:D|LL|M|RE|S|T|VE))?",dc=Cs+"?",ao="["+Nr+"]?",cr="(?:"+Ba+"(?:"+[jr,po,ll].join("|")+")"+ao+dc+")*",cl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Sa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Dr=ao+dc+cr,Lo="(?:"+[Bl,po,ll].join("|")+")"+Dr,Gh="(?:"+[jr+ca+"?",ca,po,ll,Xn].join("|")+")",Fc=RegExp(Un,"g"),Tr=RegExp(ca,"g"),hl=RegExp(Pr+"(?="+Pr+")|"+Gh+Dr,"g"),Nc=RegExp([Io+"?"+$o+"+"+Fa+"(?="+[xo,Io,"$"].join("|")+")",wa+"+"+hc+"(?="+[xo,Io+za,"$"].join("|")+")",Io+"?"+za+"+"+Fa,Io+"+"+hc,Sa,cl,Mn,Lo].join("|"),"g"),dl=RegExp("["+Ba+gs+ci+Nr+"]"),Ir=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Na=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jc=-1,ps={};ps[ui]=ps[Ht]=ps[di]=ps[Ui]=ps[zi]=ps[Ei]=ps[Di]=ps[dn]=ps[Sn]=!0,ps[oe]=ps[ce]=ps[bt]=ps[Ce]=ps[It]=ps[ne]=ps[_e]=ps[ae]=ps[we]=ps[Re]=ps[Ge]=ps[qe]=ps[Te]=ps[Oe]=ps[Je]=!1;var bs={};bs[oe]=bs[ce]=bs[bt]=bs[It]=bs[Ce]=bs[ne]=bs[ui]=bs[Ht]=bs[di]=bs[Ui]=bs[zi]=bs[we]=bs[Re]=bs[Ge]=bs[qe]=bs[Te]=bs[Oe]=bs[ze]=bs[Ei]=bs[Di]=bs[dn]=bs[Sn]=!0,bs[_e]=bs[ae]=bs[Je]=!1;var Uc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Vh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_h={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Oo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},uc=parseFloat,Gc=parseInt,ul=typeof ta=="object"&&ta&&ta.Object===Object&&ta,bo=typeof self=="object"&&self&&self.Object===Object&&self,Er=ul||bo||Function("return this")(),U=t&&!t.nodeType&&t,le=U&&!0&&e&&!e.nodeType&&e,ve=le&&le.exports===U,Ae=ve&&ul.process,Ue=function(){try{var jt=le&&le.require&&le.require("util").types;return jt||Ae&&Ae.binding&&Ae.binding("util")}catch{}}(),$e=Ue&&Ue.isArrayBuffer,Ke=Ue&&Ue.isDate,Dt=Ue&&Ue.isMap,St=Ue&&Ue.isRegExp,Xt=Ue&&Ue.isSet,hi=Ue&&Ue.isTypedArray;function Si(jt,gi,li){switch(li.length){case 0:return jt.call(gi);case 1:return jt.call(gi,li[0]);case 2:return jt.call(gi,li[0],li[1]);case 3:return jt.call(gi,li[0],li[1],li[2])}return jt.apply(gi,li)}function ni(jt,gi,li,rn){for(var zn=-1,_s=jt==null?0:jt.length;++zn<_s;){var yr=jt[zn];gi(rn,yr,li(yr),jt)}return rn}function ai(jt,gi){for(var li=-1,rn=jt==null?0:jt.length;++li<rn&&gi(jt[li],li,jt)!==!1;);return jt}function Gi(jt,gi){for(var li=jt==null?0:jt.length;li--&&gi(jt[li],li,jt)!==!1;);return jt}function On(jt,gi){for(var li=-1,rn=jt==null?0:jt.length;++li<rn;)if(!gi(jt[li],li,jt))return!1;return!0}function sn(jt,gi){for(var li=-1,rn=jt==null?0:jt.length,zn=0,_s=[];++li<rn;){var yr=jt[li];gi(yr,li,jt)&&(_s[zn++]=yr)}return _s}function qs(jt,gi){var li=jt==null?0:jt.length;return!!li&&Bn(jt,gi,0)>-1}function Ls(jt,gi,li){for(var rn=-1,zn=jt==null?0:jt.length;++rn<zn;)if(li(gi,jt[rn]))return!0;return!1}function Jn(jt,gi){for(var li=-1,rn=jt==null?0:jt.length,zn=Array(rn);++li<rn;)zn[li]=gi(jt[li],li,jt);return zn}function Qn(jt,gi){for(var li=-1,rn=gi.length,zn=jt.length;++li<rn;)jt[zn+li]=gi[li];return jt}function Ln(jt,gi,li,rn){var zn=-1,_s=jt==null?0:jt.length;for(rn&&_s&&(li=jt[++zn]);++zn<_s;)li=gi(li,jt[zn],zn,jt);return li}function Lr(jt,gi,li,rn){var zn=jt==null?0:jt.length;for(rn&&zn&&(li=jt[--zn]);zn--;)li=gi(li,jt[zn],zn,jt);return li}function ts(jt,gi){for(var li=-1,rn=jt==null?0:jt.length;++li<rn;)if(gi(jt[li],li,jt))return!0;return!1}var Os=Ro("length");function ha(jt){return jt.split("")}function pl(jt){return jt.match(Lt)||[]}function Or(jt,gi,li){var rn;return li(jt,function(zn,_s,yr){if(gi(zn,_s,yr))return rn=_s,!1}),rn}function wo(jt,gi,li,rn){for(var zn=jt.length,_s=li+(rn?1:-1);rn?_s--:++_s<zn;)if(gi(jt[_s],_s,jt))return _s;return-1}function Bn(jt,gi,li){return gi===gi?Nl(jt,gi,li):wo(jt,So,li)}function $r(jt,gi,li,rn){for(var zn=li-1,_s=jt.length;++zn<_s;)if(rn(jt[zn],gi))return zn;return-1}function So(jt){return jt!==jt}function lo(jt,gi){var li=jt==null?0:jt.length;return li?ws(jt,gi)/li:K}function Ro(jt){return function(gi){return gi==null?s:gi[jt]}}function fl(jt){return function(gi){return jt==null?s:jt[gi]}}function Ta(jt,gi,li,rn,zn){return zn(jt,function(_s,yr,Ss){li=rn?(rn=!1,_s):gi(li,_s,yr,Ss)}),li}function Vc(jt,gi){var li=jt.length;for(jt.sort(gi);li--;)jt[li]=jt[li].value;return jt}function ws(jt,gi){for(var li,rn=-1,zn=jt.length;++rn<zn;){var _s=gi(jt[rn]);_s!==s&&(li=li===s?_s:li+_s)}return li}function Bo(jt,gi){for(var li=-1,rn=Array(jt);++li<jt;)rn[li]=gi(li);return rn}function pc(jt,gi){return Jn(gi,function(li){return[li,jt[li]]})}function ml(jt){return jt&&jt.slice(0,Wr(jt)+1).replace(ht,"")}function co(jt){return function(gi){return jt(gi)}}function gl(jt,gi){return Jn(gi,function(li){return jt[li]})}function zl(jt,gi){return jt.has(gi)}function yh(jt,gi){for(var li=-1,rn=jt.length;++li<rn&&Bn(gi,jt[li],0)>-1;);return li}function _l(jt,gi){for(var li=jt.length;li--&&Bn(gi,jt[li],0)>-1;);return li}function yl(jt,gi){for(var li=jt.length,rn=0;li--;)jt[li]===gi&&++rn;return rn}var $h=fl(Uc),vl=fl(Vh);function vh(jt){return"\\"+Oo[jt]}function Ho(jt,gi){return jt==null?s:jt[gi]}function Wo(jt){return dl.test(jt)}function xl(jt){return Ir.test(jt)}function $c(jt){for(var gi,li=[];!(gi=jt.next()).done;)li.push(gi.value);return li}function Fl(jt){var gi=-1,li=Array(jt.size);return jt.forEach(function(rn,zn){li[++gi]=[zn,rn]}),li}function To(jt,gi){return function(li){return jt(gi(li))}}function Hr(jt,gi){for(var li=-1,rn=jt.length,zn=0,_s=[];++li<rn;){var yr=jt[li];(yr===gi||yr===Z)&&(jt[li]=Z,_s[zn++]=li)}return _s}function ja(jt){var gi=-1,li=Array(jt.size);return jt.forEach(function(rn){li[++gi]=rn}),li}function bl(jt){var gi=-1,li=Array(jt.size);return jt.forEach(function(rn){li[++gi]=[rn,rn]}),li}function Nl(jt,gi,li){for(var rn=li-1,zn=jt.length;++rn<zn;)if(jt[rn]===gi)return rn;return-1}function Ed(jt,gi,li){for(var rn=li+1;rn--;)if(jt[rn]===gi)return rn;return rn}function ss(jt){return Wo(jt)?Ua(jt):Os(jt)}function fo(jt){return Wo(jt)?Hh(jt):ha(jt)}function Wr(jt){for(var gi=jt.length;gi--&&_t.test(jt.charAt(gi)););return gi}var Eo=fl(_h);function Ua(jt){for(var gi=hl.lastIndex=0;hl.test(jt);)++gi;return gi}function Hh(jt){return jt.match(hl)||[]}function Wh(jt){return jt.match(Nc)||[]}var Yh=function jt(gi){gi=gi==null?Er:mo.defaults(Er.Object(),gi,mo.pick(Er,Na));var li=gi.Array,rn=gi.Date,zn=gi.Error,_s=gi.Function,yr=gi.Math,Ss=gi.Object,jl=gi.RegExp,Hc=gi.String,go=gi.TypeError,st=li.prototype,Et=_s.prototype,Bt=Ss.prototype,_i=gi["__core-js_shared__"],Ut=Et.toString,ri=Bt.hasOwnProperty,Mi=0,qi=function(){var _=/[^.]+$/.exec(_i&&_i.keys&&_i.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),Ii=Bt.toString,Tn=Ut.call(Ss),An=Er._,Pn=jl("^"+Ut.call(ri).replace(Fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gn=ve?gi.Buffer:s,ls=gi.Symbol,bn=gi.Uint8Array,xe=Gn?Gn.allocUnsafe:s,Se=To(Ss.getPrototypeOf,Ss),Ve=Ss.create,yt=Bt.propertyIsEnumerable,bi=st.splice,un=ls?ls.isConcatSpreadable:s,rs=ls?ls.iterator:s,Rr=ls?ls.toStringTag:s,vr=function(){try{var _=Bd(Ss,"defineProperty");return _({},"",{}),_}catch{}}(),Ga=gi.clearTimeout!==Er.clearTimeout&&gi.clearTimeout,Xi=rn&&rn.now!==Er.Date.now&&rn.now,Va=gi.setTimeout!==Er.setTimeout&&gi.setTimeout,Wc=yr.ceil,Cd=yr.floor,bu=Ss.getOwnPropertySymbols,qh=Gn?Gn.isBuffer:s,Ap=gi.isFinite,wu=st.join,Xh=To(Ss.keys,Ss),xr=yr.max,Xs=yr.min,Md=rn.now,Zh=gi.parseInt,Jf=yr.random,Fm=st.reverse,Su=Bd(gi,"DataView"),Ul=Bd(gi,"Map"),Ad=Bd(gi,"Promise"),fc=Bd(gi,"Set"),Kh=Bd(gi,"WeakMap"),Yc=Bd(Ss,"create"),qc=Kh&&new Kh,xh={},kp=wc(Su),Pp=wc(Ul),Qf=wc(Ad),Tu=wc(fc),mc=wc(Kh),Jh=ls?ls.prototype:s,Qh=Jh?Jh.valueOf:s,Dp=Jh?Jh.toString:s;function it(_){if(Xr(_)&&!is(_)&&!(_ instanceof Fn)){if(_ instanceof Ea)return _;if(ri.call(_,"__wrapped__"))return zu(_)}return new Ea(_)}var gc=function(){function _(){}return function(A){if(!zr(A))return{};if(Ve)return Ve(A);_.prototype=A;var re=new _;return _.prototype=s,re}}();function kd(){}function Ea(_,A){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!A,this.__index__=0,this.__values__=s}it.templateSettings={escape:al,evaluate:Oa,interpolate:_r,variable:"",imports:{_:it}},it.prototype=kd.prototype,it.prototype.constructor=it,Ea.prototype=gc(kd.prototype),Ea.prototype.constructor=Ea;function Fn(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=he,this.__views__=[]}function Nm(){var _=new Fn(this.__wrapped__);return _.__actions__=io(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=io(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=io(this.__views__),_}function Ip(){if(this.__filtered__){var _=new Fn(this);_.__dir__=-1,_.__filtered__=!0}else _=this.clone(),_.__dir__*=-1;return _}function jm(){var _=this.__wrapped__.value(),A=this.__dir__,re=is(_),Pe=A<0,Ye=re?_.length:0,ot=ig(0,Ye,this.__views__),Tt=ot.start,Rt=ot.end,Wt=Rt-Tt,Ti=Pe?Rt:Tt-1,Pi=this.__iteratees__,Fi=Pi.length,ln=0,En=Xs(Wt,this.__takeCount__);if(!re||!Pe&&Ye==Wt&&En==Wt)return Id(_,this.__actions__);var Vn=[];e:for(;Wt--&&ln<En;){Ti+=A;for(var fs=-1,Hn=_[Ti];++fs<Fi;){var Es=Pi[fs],Ps=Es.iteratee,Xa=Es.type,ya=Ps(Hn);if(Xa==g)Hn=ya;else if(!ya){if(Xa==f)continue e;break e}}Vn[ln++]=Hn}return Vn}Fn.prototype=gc(kd.prototype),Fn.prototype.constructor=Fn;function bh(_){var A=-1,re=_==null?0:_.length;for(this.clear();++A<re;){var Pe=_[A];this.set(Pe[0],Pe[1])}}function _c(){this.__data__=Yc?Yc(null):{},this.size=0}function e0(_){var A=this.has(_)&&delete this.__data__[_];return this.size-=A?1:0,A}function ed(_){var A=this.__data__;if(Yc){var re=A[_];return re===S?s:re}return ri.call(A,_)?A[_]:s}function Gl(_){var A=this.__data__;return Yc?A[_]!==s:ri.call(A,_)}function Eu(_,A){var re=this.__data__;return this.size+=this.has(_)?0:1,re[_]=Yc&&A===s?S:A,this}bh.prototype.clear=_c,bh.prototype.delete=e0,bh.prototype.get=ed,bh.prototype.has=Gl,bh.prototype.set=Eu;function Yi(_){var A=-1,re=_==null?0:_.length;for(this.clear();++A<re;){var Pe=_[A];this.set(Pe[0],Pe[1])}}function t0(){this.__data__=[],this.size=0}function i0(_){var A=this.__data__,re=l(A,_);if(re<0)return!1;var Pe=A.length-1;return re==Pe?A.pop():bi.call(A,re,1),--this.size,!0}function Xc(_){var A=this.__data__,re=l(A,_);return re<0?s:A[re][1]}function Pd(_){return l(this.__data__,_)>-1}function Lp(_,A){var re=this.__data__,Pe=l(re,_);return Pe<0?(++this.size,re.push([_,A])):re[Pe][1]=A,this}Yi.prototype.clear=t0,Yi.prototype.delete=i0,Yi.prototype.get=Xc,Yi.prototype.has=Pd,Yi.prototype.set=Lp;function Vl(_){var A=-1,re=_==null?0:_.length;for(this.clear();++A<re;){var Pe=_[A];this.set(Pe[0],Pe[1])}}function Op(){this.size=0,this.__data__={hash:new bh,map:new(Ul||Yi),string:new bh}}function Rp(_){var A=Du(this,_).delete(_);return this.size-=A?1:0,A}function Bp(_){return Du(this,_).get(_)}function zp(_){return Du(this,_).has(_)}function td(_,A){var re=Du(this,_),Pe=re.size;return re.set(_,A),this.size+=re.size==Pe?0:1,this}Vl.prototype.clear=Op,Vl.prototype.delete=Rp,Vl.prototype.get=Bp,Vl.prototype.has=zp,Vl.prototype.set=td;function wl(_){var A=-1,re=_==null?0:_.length;for(this.__data__=new Vl;++A<re;)this.add(_[A])}function Cu(_){return this.__data__.set(_,S),this}function n0(_){return this.__data__.has(_)}wl.prototype.add=wl.prototype.push=Cu,wl.prototype.has=n0;function Ca(_){var A=this.__data__=new Yi(_);this.size=A.size}function s0(){this.__data__=new Yi,this.size=0}function r0(_){var A=this.__data__,re=A.delete(_);return this.size=A.size,re}function o0(_){return this.__data__.get(_)}function a0(_){return this.__data__.has(_)}function l0(_,A){var re=this.__data__;if(re instanceof Yi){var Pe=re.__data__;if(!Ul||Pe.length<c-1)return Pe.push([_,A]),this.size=++re.size,this;re=this.__data__=new Vl(Pe)}return re.set(_,A),this.size=re.size,this}Ca.prototype.clear=s0,Ca.prototype.delete=r0,Ca.prototype.get=o0,Ca.prototype.has=a0,Ca.prototype.set=l0;function Mu(_,A){var re=is(_),Pe=!re&&Vd(_),Ye=!re&&!Pe&&Ec(_),ot=!re&&!Pe&&!Ye&&Cc(_),Tt=re||Pe||Ye||ot,Rt=Tt?Bo(_.length,Hc):[],Wt=Rt.length;for(var Ti in _)(A||ri.call(_,Ti))&&!(Tt&&(Ti=="length"||Ye&&(Ti=="offset"||Ti=="parent")||ot&&(Ti=="buffer"||Ti=="byteLength"||Ti=="byteOffset")||eh(Ti,Wt)))&&Rt.push(Ti);return Rt}function Fp(_){var A=_.length;return A?_[ua(0,A-1)]:s}function c0(_,A){return Bu(io(_),de(A,0,_.length))}function Np(_){return Bu(io(_))}function wh(_,A,re){(re!==s&&!Tc(_[A],re)||re===s&&!(A in _))&&F(_,A,re)}function y(_,A,re){var Pe=_[A];(!(ri.call(_,A)&&Tc(Pe,re))||re===s&&!(A in _))&&F(_,A,re)}function l(_,A){for(var re=_.length;re--;)if(Tc(_[re][0],A))return re;return-1}function u(_,A,re,Pe){return at(_,function(Ye,ot,Tt){A(Pe,Ye,re(Ye),Tt)}),Pe}function b(_,A){return _&&_o(A,Zr(A),_)}function I(_,A){return _&&_o(A,ka(A),_)}function F(_,A,re){A=="__proto__"&&vr?vr(_,A,{configurable:!0,enumerable:!0,value:re,writable:!0}):_[A]=re}function se(_,A){for(var re=-1,Pe=A.length,Ye=li(Pe),ot=_==null;++re<Pe;)Ye[re]=ot?s:j0(_,A[re]);return Ye}function de(_,A,re){return _===_&&(re!==s&&(_=_<=re?_:re),A!==s&&(_=_>=A?_:A)),_}function fe(_,A,re,Pe,Ye,ot){var Tt,Rt=A&O,Wt=A&H,Ti=A&q;if(re&&(Tt=Ye?re(_,Pe,Ye,ot):re(_)),Tt!==s)return Tt;if(!zr(_))return _;var Pi=is(_);if(Pi){if(Tt=zd(_),!Rt)return io(_,Tt)}else{var Fi=pa(_),ln=Fi==ae||Fi==me;if(Ec(_))return Kc(_,Rt);if(Fi==Ge||Fi==oe||ln&&!Ye){if(Tt=Wt||ln?{}:sg(_),!Rt)return Wt?sd(_,I(Tt,_)):nd(_,b(Tt,_))}else{if(!bs[Fi])return Ye?_:{};Tt=Nx(_,Fi,Rt)}}ot||(ot=new Ca);var En=ot.get(_);if(En)return En;ot.set(_,Tt),ty(_)?_.forEach(function(Hn){Tt.add(fe(Hn,A,re,Hn,_,ot))}):Lg(_)&&_.forEach(function(Hn,Es){Tt.set(Es,fe(Hn,A,re,Es,_,ot))});var Vn=Ti?Wt?eg:m0:Wt?ka:Zr,fs=Pi?s:Vn(_);return ai(fs||_,function(Hn,Es){fs&&(Es=Hn,Hn=_[Es]),y(Tt,Es,fe(Hn,A,re,Es,_,ot))}),Tt}function De(_){var A=Zr(_);return function(re){return ke(re,_,A)}}function ke(_,A,re){var Pe=re.length;if(_==null)return!Pe;for(_=Ss(_);Pe--;){var Ye=re[Pe],ot=A[Ye],Tt=_[Ye];if(Tt===s&&!(Ye in _)||!ot(Tt))return!1}return!0}function Ne(_,A,re){if(typeof _!="function")throw new go(m);return Ru(function(){_.apply(s,re)},A)}function Ze(_,A,re,Pe){var Ye=-1,ot=qs,Tt=!0,Rt=_.length,Wt=[],Ti=A.length;if(!Rt)return Wt;re&&(A=Jn(A,co(re))),Pe?(ot=Ls,Tt=!1):A.length>=c&&(ot=zl,Tt=!1,A=new wl(A));e:for(;++Ye<Rt;){var Pi=_[Ye],Fi=re==null?Pi:re(Pi);if(Pi=Pe||Pi!==0?Pi:0,Tt&&Fi===Fi){for(var ln=Ti;ln--;)if(A[ln]===Fi)continue e;Wt.push(Pi)}else ot(A,Fi,Pe)||Wt.push(Pi)}return Wt}var at=__(wt),lt=__(zt,!0);function dt(_,A){var re=!0;return at(_,function(Pe,Ye,ot){return re=!!A(Pe,Ye,ot),re}),re}function et(_,A,re){for(var Pe=-1,Ye=_.length;++Pe<Ye;){var ot=_[Pe],Tt=A(ot);if(Tt!=null&&(Rt===s?Tt===Tt&&!_a(Tt):re(Tt,Rt)))var Rt=Tt,Wt=ot}return Wt}function nt(_,A,re,Pe){var Ye=_.length;for(re=Nn(re),re<0&&(re=-re>Ye?0:Ye+re),Pe=Pe===s||Pe>Ye?Ye:Nn(Pe),Pe<0&&(Pe+=Ye),Pe=re>Pe?0:$u(Pe);re<Pe;)_[re++]=A;return _}function ft(_,A){var re=[];return at(_,function(Pe,Ye,ot){A(Pe,Ye,ot)&&re.push(Pe)}),re}function ct(_,A,re,Pe,Ye){var ot=-1,Tt=_.length;for(re||(re=y0),Ye||(Ye=[]);++ot<Tt;){var Rt=_[ot];A>0&&re(Rt)?A>1?ct(Rt,A-1,re,Pe,Ye):Qn(Ye,Rt):Pe||(Ye[Ye.length]=Rt)}return Ye}var vt=y_(),At=y_(!0);function wt(_,A){return _&&vt(_,A,Zr)}function zt(_,A){return _&&At(_,A,Zr)}function Qt(_,A){return sn(A,function(re){return ih(_[re])})}function Zt(_,A){A=yc(A,_);for(var re=0,Pe=A.length;_!=null&&re<Pe;)_=_[Ya(A[re++])];return re&&re==Pe?_:s}function Gt(_,A,re){var Pe=A(_);return is(_)?Pe:Qn(Pe,re(_))}function wi(_){return _==null?_===s?Xe:Le:Rr&&Rr in Ss(_)?x_(_):og(_)}function Yt(_,A){return _>A}function pi(_,A){return _!=null&&ri.call(_,A)}function ti(_,A){return _!=null&&A in Ss(_)}function ki(_,A,re){return _>=Xs(A,re)&&_<xr(A,re)}function ii(_,A,re){for(var Pe=re?Ls:qs,Ye=_[0].length,ot=_.length,Tt=ot,Rt=li(ot),Wt=1/0,Ti=[];Tt--;){var Pi=_[Tt];Tt&&A&&(Pi=Jn(Pi,co(A))),Wt=Xs(Pi.length,Wt),Rt[Tt]=!re&&(A||Ye>=120&&Pi.length>=120)?new wl(Tt&&Pi):s}Pi=_[0];var Fi=-1,ln=Rt[0];e:for(;++Fi<Ye&&Ti.length<Wt;){var En=Pi[Fi],Vn=A?A(En):En;if(En=re||En!==0?En:0,!(ln?zl(ln,Vn):Pe(Ti,Vn,re))){for(Tt=ot;--Tt;){var fs=Rt[Tt];if(!(fs?zl(fs,Vn):Pe(_[Tt],Vn,re)))continue e}ln&&ln.push(Vn),Ti.push(En)}}return Ti}function vi(_,A,re,Pe){return wt(_,function(Ye,ot,Tt){A(Pe,re(Ye),ot,Tt)}),Pe}function Li(_,A,re){A=yc(A,_),_=ag(_,A);var Pe=_==null?_:_[Ya(ql(A))];return Pe==null?s:Si(Pe,_,re)}function $t(_){return Xr(_)&&wi(_)==oe}function ei(_){return Xr(_)&&wi(_)==bt}function on(_){return Xr(_)&&wi(_)==ne}function pn(_,A,re,Pe,Ye){return _===A?!0:_==null||A==null||!Xr(_)&&!Xr(A)?_!==_&&A!==A:an(_,A,re,Pe,pn,Ye)}function an(_,A,re,Pe,Ye,ot){var Tt=is(_),Rt=is(A),Wt=Tt?ce:pa(_),Ti=Rt?ce:pa(A);Wt=Wt==oe?Ge:Wt,Ti=Ti==oe?Ge:Ti;var Pi=Wt==Ge,Fi=Ti==Ge,ln=Wt==Ti;if(ln&&Ec(_)){if(!Ec(A))return!1;Tt=!0,Pi=!1}if(ln&&!Pi)return ot||(ot=new Ca),Tt||Cc(_)?Jm(_,A,re,Pe,Ye,ot):Qm(_,A,Wt,re,Pe,Ye,ot);if(!(re&L)){var En=Pi&&ri.call(_,"__wrapped__"),Vn=Fi&&ri.call(A,"__wrapped__");if(En||Vn){var fs=En?_.value():_,Hn=Vn?A.value():A;return ot||(ot=new Ca),Ye(fs,Hn,re,Pe,ot)}}return ln?(ot||(ot=new Ca),Fx(_,A,re,Pe,Ye,ot)):!1}function kn(_){return Xr(_)&&pa(_)==we}function Wn(_,A,re,Pe){var Ye=re.length,ot=Ye,Tt=!Pe;if(_==null)return!ot;for(_=Ss(_);Ye--;){var Rt=re[Ye];if(Tt&&Rt[2]?Rt[1]!==_[Rt[0]]:!(Rt[0]in _))return!1}for(;++Ye<ot;){Rt=re[Ye];var Wt=Rt[0],Ti=_[Wt],Pi=Rt[1];if(Tt&&Rt[2]){if(Ti===s&&!(Wt in _))return!1}else{var Fi=new Ca;if(Pe)var ln=Pe(Ti,Pi,Wt,_,A,Fi);if(!(ln===s?pn(Pi,Ti,L|R,Pe,Fi):ln))return!1}}return!0}function _n(_){if(!zr(_)||Wa(_))return!1;var A=ih(_)?Pn:nn;return A.test(wc(_))}function Ji(_){return Xr(_)&&wi(_)==qe}function Fs(_){return Xr(_)&&pa(_)==Te}function Ms(_){return Xr(_)&&Ns(_.length)&&!!ps[wi(_)]}function js(_){return typeof _=="function"?_:_==null?ho:typeof _=="object"?is(_)?Zs(_[0],_[1]):Sl(_):e1(_)}function Rs(_){if(!Ou(_))return Xh(_);var A=[];for(var re in Ss(_))ri.call(_,re)&&re!="constructor"&&A.push(re);return A}function da(_){if(!zr(_))return Nd(_);var A=Ou(_),re=[];for(var Pe in _)Pe=="constructor"&&(A||!ri.call(_,Pe))||re.push(Pe);return re}function Yo(_,A){return _<A}function zo(_,A){var re=-1,Pe=Js(_)?li(_.length):[];return at(_,function(Ye,ot,Tt){Pe[++re]=A(Ye,ot,Tt)}),Pe}function Sl(_){var A=g0(_);return A.length==1&&A[0][2]?v0(A[0][0],A[0][1]):function(re){return re===_||Wn(re,_,A)}}function Zs(_,A){return rg(_)&&Wl(A)?v0(Ya(_),A):function(re){var Pe=j0(re,_);return Pe===s&&Pe===A?$d(re,_):pn(A,Pe,L|R)}}function Bs(_,A,re,Pe,Ye){_!==A&&vt(A,function(ot,Tt){if(Ye||(Ye=new Ca),zr(ot))Ts(_,A,Tt,re,Bs,Pe,Ye);else{var Rt=Pe?Pe(lg(_,Tt),ot,Tt+"",_,A,Ye):s;Rt===s&&(Rt=ot),wh(_,Tt,Rt)}},ka)}function Ts(_,A,re,Pe,Ye,ot,Tt){var Rt=lg(_,re),Wt=lg(A,re),Ti=Tt.get(Wt);if(Ti){wh(_,re,Ti);return}var Pi=ot?ot(Rt,Wt,re+"",_,A,Tt):s,Fi=Pi===s;if(Fi){var ln=is(Wt),En=!ln&&Ec(Wt),Vn=!ln&&!En&&Cc(Wt);Pi=Wt,ln||En||Vn?is(Rt)?Pi=Rt:nr(Rt)?Pi=io(Rt):En?(Fi=!1,Pi=Kc(Wt,!0)):Vn?(Fi=!1,Pi=m_(Wt,!0)):Pi=[]:rf(Wt)||Vd(Wt)?(Pi=Rt,Vd(Rt)?Pi=z0(Rt):(!zr(Rt)||ih(Rt))&&(Pi=sg(Wt))):Fi=!1}Fi&&(Tt.set(Wt,Pi),Ye(Pi,Wt,Pe,ot,Tt),Tt.delete(Wt)),wh(_,re,Pi)}function Br(_,A){var re=_.length;if(re)return A+=A<0?re:0,eh(A,re)?_[A]:s}function Co(_,A,re){A.length?A=Jn(A,function(ot){return is(ot)?function(Tt){return Zt(Tt,ot.length===1?ot[0]:ot)}:ot}):A=[ho];var Pe=-1;A=Jn(A,co(Rn()));var Ye=zo(_,function(ot,Tt,Rt){var Wt=Jn(A,function(Ti){return Ti(ot)});return{criteria:Wt,index:++Pe,value:ot}});return Vc(Ye,function(ot,Tt){return Wm(ot,Tt,re)})}function Ks(_,A){return Fo(_,A,function(re,Pe){return $d(_,Pe)})}function Fo(_,A,re){for(var Pe=-1,Ye=A.length,ot={};++Pe<Ye;){var Tt=A[Pe],Rt=Zt(_,Tt);re(Rt,Tt)&&Sh(ot,yc(Tt,_),Rt)}return ot}function Dd(_){return function(A){return Zt(A,_)}}function Tl(_,A,re,Pe){var Ye=Pe?$r:Bn,ot=-1,Tt=A.length,Rt=_;for(_===A&&(A=io(A)),re&&(Rt=Jn(_,co(re)));++ot<Tt;)for(var Wt=0,Ti=A[ot],Pi=re?re(Ti):Ti;(Wt=Ye(Rt,Pi,Wt,Pe))>-1;)Rt!==_&&bi.call(Rt,Wt,1),bi.call(_,Wt,1);return _}function Mo(_,A){for(var re=_?A.length:0,Pe=re-1;re--;){var Ye=A[re];if(re==Pe||Ye!==ot){var ot=Ye;eh(Ye)?bi.call(_,Ye,1):d0(_,Ye)}}return _}function ua(_,A){return _+Cd(Jf()*(A-_+1))}function $l(_,A,re,Pe){for(var Ye=-1,ot=xr(Wc((A-_)/(re||1)),0),Tt=li(ot);ot--;)Tt[Pe?ot:++Ye]=_,_+=re;return Tt}function $a(_,A){var re="";if(!_||A<1||A>Y)return re;do A%2&&(re+=_),A=Cd(A/2),A&&(_+=_);while(A);return re}function es(_,A){return jd(Hp(_,A,ho),_+"")}function id(_){return Fp(Hd(_))}function Hl(_,A){var re=Hd(_);return Bu(re,de(A,0,re.length))}function Sh(_,A,re,Pe){if(!zr(_))return _;A=yc(A,_);for(var Ye=-1,ot=A.length,Tt=ot-1,Rt=_;Rt!=null&&++Ye<ot;){var Wt=Ya(A[Ye]),Ti=re;if(Wt==="__proto__"||Wt==="constructor"||Wt==="prototype")return _;if(Ye!=Tt){var Pi=Rt[Wt];Ti=Pe?Pe(Pi,Wt,Rt):s,Ti===s&&(Ti=zr(Pi)?Pi:eh(A[Ye+1])?[]:{})}y(Rt,Wt,Ti),Rt=Rt[Wt]}return _}var jp=qc?function(_,A){return qc.set(_,A),_}:ho,c_=vr?function(_,A){return vr(_,"toString",{configurable:!0,enumerable:!1,value:Kg(A),writable:!0})}:ho;function Um(_){return Bu(Hd(_))}function El(_,A,re){var Pe=-1,Ye=_.length;A<0&&(A=-A>Ye?0:Ye+A),re=re>Ye?Ye:re,re<0&&(re+=Ye),Ye=A>re?0:re-A>>>0,A>>>=0;for(var ot=li(Ye);++Pe<Ye;)ot[Pe]=_[Pe+A];return ot}function h_(_,A){var re;return at(_,function(Pe,Ye,ot){return re=A(Pe,Ye,ot),!re}),!!re}function Up(_,A,re){var Pe=0,Ye=_==null?Pe:_.length;if(typeof A=="number"&&A===A&&Ye<=Ee){for(;Pe<Ye;){var ot=Pe+Ye>>>1,Tt=_[ot];Tt!==null&&!_a(Tt)&&(re?Tt<=A:Tt<A)?Pe=ot+1:Ye=ot}return Ye}return h0(_,A,ho,re)}function h0(_,A,re,Pe){var Ye=0,ot=_==null?0:_.length;if(ot===0)return 0;A=re(A);for(var Tt=A!==A,Rt=A===null,Wt=_a(A),Ti=A===s;Ye<ot;){var Pi=Cd((Ye+ot)/2),Fi=re(_[Pi]),ln=Fi!==s,En=Fi===null,Vn=Fi===Fi,fs=_a(Fi);if(Tt)var Hn=Pe||Vn;else Ti?Hn=Vn&&(Pe||ln):Rt?Hn=Vn&&ln&&(Pe||!En):Wt?Hn=Vn&&ln&&!En&&(Pe||!fs):En||fs?Hn=!1:Hn=Pe?Fi<=A:Fi<A;Hn?Ye=Pi+1:ot=Pi}return Xs(ot,ge)}function Gm(_,A){for(var re=-1,Pe=_.length,Ye=0,ot=[];++re<Pe;){var Tt=_[re],Rt=A?A(Tt):Tt;if(!re||!Tc(Rt,Wt)){var Wt=Rt;ot[Ye++]=Tt===0?0:Tt}}return ot}function Vm(_){return typeof _=="number"?_:_a(_)?K:+_}function Ha(_){if(typeof _=="string")return _;if(is(_))return Jn(_,Ha)+"";if(_a(_))return Dp?Dp.call(_):"";var A=_+"";return A=="0"&&1/_==-P?"-0":A}function Th(_,A,re){var Pe=-1,Ye=qs,ot=_.length,Tt=!0,Rt=[],Wt=Rt;if(re)Tt=!1,Ye=Ls;else if(ot>=c){var Ti=A?null:No(_);if(Ti)return ja(Ti);Tt=!1,Ye=zl,Wt=new wl}else Wt=A?[]:Rt;e:for(;++Pe<ot;){var Pi=_[Pe],Fi=A?A(Pi):Pi;if(Pi=re||Pi!==0?Pi:0,Tt&&Fi===Fi){for(var ln=Wt.length;ln--;)if(Wt[ln]===Fi)continue e;A&&Wt.push(Fi),Rt.push(Pi)}else Ye(Wt,Fi,re)||(Wt!==Rt&&Wt.push(Fi),Rt.push(Pi))}return Rt}function d0(_,A){return A=yc(A,_),_=ag(_,A),_==null||delete _[Ya(ql(A))]}function d_(_,A,re,Pe){return Sh(_,A,re(Zt(_,A)),Pe)}function u0(_,A,re,Pe){for(var Ye=_.length,ot=Pe?Ye:-1;(Pe?ot--:++ot<Ye)&&A(_[ot],ot,_););return re?El(_,Pe?0:ot,Pe?ot+1:Ye):El(_,Pe?ot+1:0,Pe?Ye:ot)}function Id(_,A){var re=_;return re instanceof Fn&&(re=re.value()),Ln(A,function(Pe,Ye){return Ye.func.apply(Ye.thisArg,Qn([Pe],Ye.args))},re)}function p0(_,A,re){var Pe=_.length;if(Pe<2)return Pe?Th(_[0]):[];for(var Ye=-1,ot=li(Pe);++Ye<Pe;)for(var Tt=_[Ye],Rt=-1;++Rt<Pe;)Rt!=Ye&&(ot[Ye]=Ze(ot[Ye]||Tt,_[Rt],A,re));return Th(ct(ot,1),A,re)}function $m(_,A,re){for(var Pe=-1,Ye=_.length,ot=A.length,Tt={};++Pe<Ye;){var Rt=Pe<ot?A[Pe]:s;re(Tt,_[Pe],Rt)}return Tt}function f0(_){return nr(_)?_:[]}function Hm(_){return typeof _=="function"?_:ho}function yc(_,A){return is(_)?_:rg(_,A)?[_]:cg(sr(_))}var u_=es;function Zc(_,A,re){var Pe=_.length;return re=re===s?Pe:re,!A&&re>=Pe?_:El(_,A,re)}var Gp=Ga||function(_){return Er.clearTimeout(_)};function Kc(_,A){if(A)return _.slice();var re=_.length,Pe=xe?xe(re):new _.constructor(re);return _.copy(Pe),Pe}function Au(_){var A=new _.constructor(_.byteLength);return new bn(A).set(new bn(_)),A}function p_(_,A){var re=A?Au(_.buffer):_.buffer;return new _.constructor(re,_.byteOffset,_.byteLength)}function f_(_){var A=new _.constructor(_.source,Ci.exec(_));return A.lastIndex=_.lastIndex,A}function Rx(_){return Qh?Ss(Qh.call(_)):{}}function m_(_,A){var re=A?Au(_.buffer):_.buffer;return new _.constructor(re,_.byteOffset,_.length)}function g_(_,A){if(_!==A){var re=_!==s,Pe=_===null,Ye=_===_,ot=_a(_),Tt=A!==s,Rt=A===null,Wt=A===A,Ti=_a(A);if(!Rt&&!Ti&&!ot&&_>A||ot&&Tt&&Wt&&!Rt&&!Ti||Pe&&Tt&&Wt||!re&&Wt||!Ye)return 1;if(!Pe&&!ot&&!Ti&&_<A||Ti&&re&&Ye&&!Pe&&!ot||Rt&&re&&Ye||!Tt&&Ye||!Wt)return-1}return 0}function Wm(_,A,re){for(var Pe=-1,Ye=_.criteria,ot=A.criteria,Tt=Ye.length,Rt=re.length;++Pe<Tt;){var Wt=g_(Ye[Pe],ot[Pe]);if(Wt){if(Pe>=Rt)return Wt;var Ti=re[Pe];return Wt*(Ti=="desc"?-1:1)}}return _.index-A.index}function ku(_,A,re,Pe){for(var Ye=-1,ot=_.length,Tt=re.length,Rt=-1,Wt=A.length,Ti=xr(ot-Tt,0),Pi=li(Wt+Ti),Fi=!Pe;++Rt<Wt;)Pi[Rt]=A[Rt];for(;++Ye<Tt;)(Fi||Ye<ot)&&(Pi[re[Ye]]=_[Ye]);for(;Ti--;)Pi[Rt++]=_[Ye++];return Pi}function Ld(_,A,re,Pe){for(var Ye=-1,ot=_.length,Tt=-1,Rt=re.length,Wt=-1,Ti=A.length,Pi=xr(ot-Rt,0),Fi=li(Pi+Ti),ln=!Pe;++Ye<Pi;)Fi[Ye]=_[Ye];for(var En=Ye;++Wt<Ti;)Fi[En+Wt]=A[Wt];for(;++Tt<Rt;)(ln||Ye<ot)&&(Fi[En+re[Tt]]=_[Ye++]);return Fi}function io(_,A){var re=-1,Pe=_.length;for(A||(A=li(Pe));++re<Pe;)A[re]=_[re];return A}function _o(_,A,re,Pe){var Ye=!re;re||(re={});for(var ot=-1,Tt=A.length;++ot<Tt;){var Rt=A[ot],Wt=Pe?Pe(re[Rt],_[Rt],Rt,re,_):s;Wt===s&&(Wt=_[Rt]),Ye?F(re,Rt,Wt):y(re,Rt,Wt)}return re}function nd(_,A){return _o(_,tg(_),A)}function sd(_,A){return _o(_,_0(_),A)}function Jc(_,A){return function(re,Pe){var Ye=is(re)?ni:u,ot=A?A():{};return Ye(re,_,Rn(Pe,2),ot)}}function Pu(_){return es(function(A,re){var Pe=-1,Ye=re.length,ot=Ye>1?re[Ye-1]:s,Tt=Ye>2?re[2]:s;for(ot=_.length>3&&typeof ot=="function"?(Ye--,ot):s,Tt&&fa(re[0],re[1],Tt)&&(ot=Ye<3?s:ot,Ye=1),A=Ss(A);++Pe<Ye;){var Rt=re[Pe];Rt&&_(A,Rt,Pe,ot)}return A})}function __(_,A){return function(re,Pe){if(re==null)return re;if(!Js(re))return _(re,Pe);for(var Ye=re.length,ot=A?Ye:-1,Tt=Ss(re);(A?ot--:++ot<Ye)&&Pe(Tt[ot],ot,Tt)!==!1;);return re}}function y_(_){return function(A,re,Pe){for(var Ye=-1,ot=Ss(A),Tt=Pe(A),Rt=Tt.length;Rt--;){var Wt=Tt[_?Rt:++Ye];if(re(ot[Wt],Wt,ot)===!1)break}return A}}function Bx(_,A,re){var Pe=A&$,Ye=Ma(_);function ot(){var Tt=this&&this!==Er&&this instanceof ot?Ye:_;return Tt.apply(Pe?re:this,arguments)}return ot}function Ym(_){return function(A){A=sr(A);var re=Wo(A)?fo(A):s,Pe=re?re[0]:A.charAt(0),Ye=re?Zc(re,1).join(""):A.slice(1);return Pe[_]()+Ye}}function Eh(_){return function(A){return Ln(Yd($g(A).replace(Fc,"")),_,"")}}function Ma(_){return function(){var A=arguments;switch(A.length){case 0:return new _;case 1:return new _(A[0]);case 2:return new _(A[0],A[1]);case 3:return new _(A[0],A[1],A[2]);case 4:return new _(A[0],A[1],A[2],A[3]);case 5:return new _(A[0],A[1],A[2],A[3],A[4]);case 6:return new _(A[0],A[1],A[2],A[3],A[4],A[5]);case 7:return new _(A[0],A[1],A[2],A[3],A[4],A[5],A[6])}var re=gc(_.prototype),Pe=_.apply(re,A);return zr(Pe)?Pe:re}}function zx(_,A,re){var Pe=Ma(_);function Ye(){for(var ot=arguments.length,Tt=li(ot),Rt=ot,Wt=Mh(Ye);Rt--;)Tt[Rt]=arguments[Rt];var Ti=ot<3&&Tt[0]!==Wt&&Tt[ot-1]!==Wt?[]:Hr(Tt,Wt);if(ot-=Ti.length,ot<re)return Ml(_,A,wn,Ye.placeholder,s,Tt,Ti,s,s,re-ot);var Pi=this&&this!==Er&&this instanceof Ye?Pe:_;return Si(Pi,this,Tt)}return Ye}function v_(_){return function(A,re,Pe){var Ye=Ss(A);if(!Js(A)){var ot=Rn(re,3);A=Zr(A),re=function(Rt){return ot(Ye[Rt],Rt,Ye)}}var Tt=_(A,re,Pe);return Tt>-1?Ye[ot?A[Tt]:Tt]:s}}function Yr(_){return xc(function(A){var re=A.length,Pe=re,Ye=Ea.prototype.thru;for(_&&A.reverse();Pe--;){var ot=A[Pe];if(typeof ot!="function")throw new go(m);if(Ye&&!Tt&&Qc(ot)=="wrapper")var Tt=new Ea([],!0)}for(Pe=Tt?Pe:re;++Pe<re;){ot=A[Pe];var Rt=Qc(ot),Wt=Rt=="wrapper"?bc(ot):s;Wt&&Lu(Wt[0])&&Wt[1]==(te|k|G|Q)&&!Wt[4].length&&Wt[9]==1?Tt=Tt[Qc(Wt[0])].apply(Tt,Wt[3]):Tt=ot.length==1&&Lu(ot)?Tt[Rt]():Tt.thru(ot)}return function(){var Ti=arguments,Pi=Ti[0];if(Tt&&Ti.length==1&&is(Pi))return Tt.plant(Pi).value();for(var Fi=0,ln=re?A[Fi].apply(this,Ti):Pi;++Fi<re;)ln=A[Fi].call(this,ln);return ln}})}function wn(_,A,re,Pe,Ye,ot,Tt,Rt,Wt,Ti){var Pi=A&te,Fi=A&$,ln=A&M,En=A&(k|V),Vn=A&N,fs=ln?s:Ma(_);function Hn(){for(var Es=arguments.length,Ps=li(Es),Xa=Es;Xa--;)Ps[Xa]=arguments[Xa];if(En)var ya=Mh(Hn),Za=yl(Ps,ya);if(Pe&&(Ps=ku(Ps,Pe,Ye,En)),ot&&(Ps=Ld(Ps,ot,Tt,En)),Es-=Za,En&&Es<Ti){var no=Hr(Ps,ya);return Ml(_,A,wn,Hn.placeholder,re,Ps,no,Rt,Wt,Ti-Es)}var Uo=Fi?re:this,rh=ln?Uo[_]:_;return Es=Ps.length,Rt?Ps=S_(Ps,Rt):Vn&&Es>1&&Ps.reverse(),Pi&&Wt<Es&&(Ps.length=Wt),this&&this!==Er&&this instanceof Hn&&(rh=fs||Ma(rh)),rh.apply(Uo,Ps)}return Hn}function Ch(_,A){return function(re,Pe){return vi(re,_,A(Pe),{})}}function Od(_,A){return function(re,Pe){var Ye;if(re===s&&Pe===s)return A;if(re!==s&&(Ye=re),Pe!==s){if(Ye===s)return Pe;typeof re=="string"||typeof Pe=="string"?(re=Ha(re),Pe=Ha(Pe)):(re=Vm(re),Pe=Vm(Pe)),Ye=_(re,Pe)}return Ye}}function us(_){return xc(function(A){return A=Jn(A,co(Rn())),es(function(re){var Pe=this;return _(A,function(Ye){return Si(Ye,Pe,re)})})})}function Vp(_,A){A=A===s?" ":Ha(A);var re=A.length;if(re<2)return re?$a(A,_):A;var Pe=$a(A,Wc(_/ss(A)));return Wo(A)?Zc(fo(Pe),0,_).join(""):Pe.slice(0,_)}function qm(_,A,re,Pe){var Ye=A&$,ot=Ma(_);function Tt(){for(var Rt=-1,Wt=arguments.length,Ti=-1,Pi=Pe.length,Fi=li(Pi+Wt),ln=this&&this!==Er&&this instanceof Tt?ot:_;++Ti<Pi;)Fi[Ti]=Pe[Ti];for(;Wt--;)Fi[Ti++]=arguments[++Rt];return Si(ln,Ye?re:this,Fi)}return Tt}function vc(_){return function(A,re,Pe){return Pe&&typeof Pe!="number"&&fa(A,re,Pe)&&(re=Pe=s),A=nh(A),re===s?(re=A,A=0):re=nh(re),Pe=Pe===s?A<re?1:-1:nh(Pe),$l(A,re,Pe,_)}}function Cl(_){return function(A,re){return typeof A=="string"&&typeof re=="string"||(A=qo(A),re=qo(re)),_(A,re)}}function Ml(_,A,re,Pe,Ye,ot,Tt,Rt,Wt,Ti){var Pi=A&k,Fi=Pi?Tt:s,ln=Pi?s:Tt,En=Pi?ot:s,Vn=Pi?s:ot;A|=Pi?G:C,A&=~(Pi?C:G),A&E||(A&=~($|M));var fs=[_,A,Ye,En,Fi,Vn,ln,Rt,Wt,Ti],Hn=re.apply(s,fs);return Lu(_)&&x0(Hn,fs),Hn.placeholder=Pe,Ud(Hn,_,A)}function Aa(_){var A=yr[_];return function(re,Pe){if(re=qo(re),Pe=Pe==null?0:Xs(Nn(Pe),292),Pe&&Ap(re)){var Ye=(sr(re)+"e").split("e"),ot=A(Ye[0]+"e"+(+Ye[1]+Pe));return Ye=(sr(ot)+"e").split("e"),+(Ye[0]+"e"+(+Ye[1]-Pe))}return A(re)}}var No=fc&&1/ja(new fc([,-0]))[1]==P?function(_){return new fc(_)}:Qg;function Xm(_){return function(A){var re=pa(A);return re==we?Fl(A):re==Te?bl(A):pc(A,_(A))}}function jo(_,A,re,Pe,Ye,ot,Tt,Rt){var Wt=A&M;if(!Wt&&typeof _!="function")throw new go(m);var Ti=Pe?Pe.length:0;if(Ti||(A&=~(G|C),Pe=Ye=s),Tt=Tt===s?Tt:xr(Nn(Tt),0),Rt=Rt===s?Rt:Nn(Rt),Ti-=Ye?Ye.length:0,A&C){var Pi=Pe,Fi=Ye;Pe=Ye=s}var ln=Wt?s:bc(_),En=[_,A,re,Pe,Ye,Pi,Fi,ot,Tt,Rt];if(ln&&$p(En,ln),_=En[0],A=En[1],re=En[2],Pe=En[3],Ye=En[4],Rt=En[9]=En[9]===s?Wt?0:_.length:xr(En[9]-Ti,0),!Rt&&A&(k|V)&&(A&=~(k|V)),!A||A==$)var Vn=Bx(_,A,re);else A==k||A==V?Vn=zx(_,A,Rt):(A==G||A==($|G))&&!Ye.length?Vn=qm(_,A,re,Pe):Vn=wn.apply(s,En);var fs=ln?jp:x0;return Ud(fs(Vn,En),_,A)}function Zm(_,A,re,Pe){return _===s||Tc(_,Bt[re])&&!ri.call(Pe,re)?A:_}function Rd(_,A,re,Pe,Ye,ot){return zr(_)&&zr(A)&&(ot.set(A,_),Bs(_,A,s,Rd,ot),ot.delete(A)),_}function Km(_){return rf(_)?s:_}function Jm(_,A,re,Pe,Ye,ot){var Tt=re&L,Rt=_.length,Wt=A.length;if(Rt!=Wt&&!(Tt&&Wt>Rt))return!1;var Ti=ot.get(_),Pi=ot.get(A);if(Ti&&Pi)return Ti==A&&Pi==_;var Fi=-1,ln=!0,En=re&R?new wl:s;for(ot.set(_,A),ot.set(A,_);++Fi<Rt;){var Vn=_[Fi],fs=A[Fi];if(Pe)var Hn=Tt?Pe(fs,Vn,Fi,A,_,ot):Pe(Vn,fs,Fi,_,A,ot);if(Hn!==s){if(Hn)continue;ln=!1;break}if(En){if(!ts(A,function(Es,Ps){if(!zl(En,Ps)&&(Vn===Es||Ye(Vn,Es,re,Pe,ot)))return En.push(Ps)})){ln=!1;break}}else if(!(Vn===fs||Ye(Vn,fs,re,Pe,ot))){ln=!1;break}}return ot.delete(_),ot.delete(A),ln}function Qm(_,A,re,Pe,Ye,ot,Tt){switch(re){case It:if(_.byteLength!=A.byteLength||_.byteOffset!=A.byteOffset)return!1;_=_.buffer,A=A.buffer;case bt:return!(_.byteLength!=A.byteLength||!ot(new bn(_),new bn(A)));case Ce:case ne:case Re:return Tc(+_,+A);case _e:return _.name==A.name&&_.message==A.message;case qe:case Oe:return _==A+"";case we:var Rt=Fl;case Te:var Wt=Pe&L;if(Rt||(Rt=ja),_.size!=A.size&&!Wt)return!1;var Ti=Tt.get(_);if(Ti)return Ti==A;Pe|=R,Tt.set(_,A);var Pi=Jm(Rt(_),Rt(A),Pe,Ye,ot,Tt);return Tt.delete(_),Pi;case ze:if(Qh)return Qh.call(_)==Qh.call(A)}return!1}function Fx(_,A,re,Pe,Ye,ot){var Tt=re&L,Rt=m0(_),Wt=Rt.length,Ti=m0(A),Pi=Ti.length;if(Wt!=Pi&&!Tt)return!1;for(var Fi=Wt;Fi--;){var ln=Rt[Fi];if(!(Tt?ln in A:ri.call(A,ln)))return!1}var En=ot.get(_),Vn=ot.get(A);if(En&&Vn)return En==A&&Vn==_;var fs=!0;ot.set(_,A),ot.set(A,_);for(var Hn=Tt;++Fi<Wt;){ln=Rt[Fi];var Es=_[ln],Ps=A[ln];if(Pe)var Xa=Tt?Pe(Ps,Es,ln,A,_,ot):Pe(Es,Ps,ln,_,A,ot);if(!(Xa===s?Es===Ps||Ye(Es,Ps,re,Pe,ot):Xa)){fs=!1;break}Hn||(Hn=ln=="constructor")}if(fs&&!Hn){var ya=_.constructor,Za=A.constructor;ya!=Za&&"constructor"in _&&"constructor"in A&&!(typeof ya=="function"&&ya instanceof ya&&typeof Za=="function"&&Za instanceof Za)&&(fs=!1)}return ot.delete(_),ot.delete(A),fs}function xc(_){return jd(Hp(_,s,ug),_+"")}function m0(_){return Gt(_,Zr,tg)}function eg(_){return Gt(_,ka,_0)}var bc=qc?function(_){return qc.get(_)}:Qg;function Qc(_){for(var A=_.name+"",re=xh[A],Pe=ri.call(xh,A)?re.length:0;Pe--;){var Ye=re[Pe],ot=Ye.func;if(ot==null||ot==_)return Ye.name}return A}function Mh(_){var A=ri.call(it,"placeholder")?it:_;return A.placeholder}function Rn(){var _=it.iteratee||Jg;return _=_===Jg?js:_,arguments.length?_(arguments[0],arguments[1]):_}function Du(_,A){var re=_.__data__;return jx(A)?re[typeof A=="string"?"string":"hash"]:re.map}function g0(_){for(var A=Zr(_),re=A.length;re--;){var Pe=A[re],Ye=_[Pe];A[re]=[Pe,Ye,Wl(Ye)]}return A}function Bd(_,A){var re=Ho(_,A);return _n(re)?re:s}function x_(_){var A=ri.call(_,Rr),re=_[Rr];try{_[Rr]=s;var Pe=!0}catch{}var Ye=Ii.call(_);return Pe&&(A?_[Rr]=re:delete _[Rr]),Ye}var tg=bu?function(_){return _==null?[]:(_=Ss(_),sn(bu(_),function(A){return yt.call(_,A)}))}:q0,_0=bu?function(_){for(var A=[];_;)Qn(A,tg(_)),_=Se(_);return A}:q0,pa=wi;(Su&&pa(new Su(new ArrayBuffer(1)))!=It||Ul&&pa(new Ul)!=we||Ad&&pa(Ad.resolve())!=rt||fc&&pa(new fc)!=Te||Kh&&pa(new Kh)!=Je)&&(pa=function(_){var A=wi(_),re=A==Ge?_.constructor:s,Pe=re?wc(re):"";if(Pe)switch(Pe){case kp:return It;case Pp:return we;case Qf:return rt;case Tu:return Te;case mc:return Je}return A});function ig(_,A,re){for(var Pe=-1,Ye=re.length;++Pe<Ye;){var ot=re[Pe],Tt=ot.size;switch(ot.type){case"drop":_+=Tt;break;case"dropRight":A-=Tt;break;case"take":A=Xs(A,_+Tt);break;case"takeRight":_=xr(_,A-Tt);break}}return{start:_,end:A}}function b_(_){var A=_.match(Nt);return A?A[1].split(Vt):[]}function ng(_,A,re){A=yc(A,_);for(var Pe=-1,Ye=A.length,ot=!1;++Pe<Ye;){var Tt=Ya(A[Pe]);if(!(ot=_!=null&&re(_,Tt)))break;_=_[Tt]}return ot||++Pe!=Ye?ot:(Ye=_==null?0:_.length,!!Ye&&Ns(Ye)&&eh(Tt,Ye)&&(is(_)||Vd(_)))}function zd(_){var A=_.length,re=new _.constructor(A);return A&&typeof _[0]=="string"&&ri.call(_,"index")&&(re.index=_.index,re.input=_.input),re}function sg(_){return typeof _.constructor=="function"&&!Ou(_)?gc(Se(_)):{}}function Nx(_,A,re){var Pe=_.constructor;switch(A){case bt:return Au(_);case Ce:case ne:return new Pe(+_);case It:return p_(_,re);case ui:case Ht:case di:case Ui:case zi:case Ei:case Di:case dn:case Sn:return m_(_,re);case we:return new Pe;case Re:case Oe:return new Pe(_);case qe:return f_(_);case Te:return new Pe;case ze:return Rx(_)}}function Iu(_,A){var re=A.length;if(!re)return _;var Pe=re-1;return A[Pe]=(re>1?"& ":"")+A[Pe],A=A.join(re>2?", ":" "),_.replace(Pt,`{
/* [wrapped with `+A+`] */
`)}function y0(_){return is(_)||Vd(_)||!!(un&&_&&_[un])}function eh(_,A){var re=typeof _;return A=A??Y,!!A&&(re=="number"||re!="symbol"&&qn.test(_))&&_>-1&&_%1==0&&_<A}function fa(_,A,re){if(!zr(re))return!1;var Pe=typeof A;return(Pe=="number"?Js(re)&&eh(A,re.length):Pe=="string"&&A in re)?Tc(re[A],_):!1}function rg(_,A){if(is(_))return!1;var re=typeof _;return re=="number"||re=="symbol"||re=="boolean"||_==null||_a(_)?!0:lc.test(_)||!Ra.test(_)||A!=null&&_ in Ss(A)}function jx(_){var A=typeof _;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?_!=="__proto__":_===null}function Lu(_){var A=Qc(_),re=it[A];if(typeof re!="function"||!(A in Fn.prototype))return!1;if(_===re)return!0;var Pe=bc(re);return!!Pe&&_===Pe[0]}function Wa(_){return!!qi&&qi in _}var w_=_i?ih:t1;function Ou(_){var A=_&&_.constructor,re=typeof A=="function"&&A.prototype||Bt;return _===re}function Wl(_){return _===_&&!zr(_)}function v0(_,A){return function(re){return re==null?!1:re[_]===A&&(A!==s||_ in Ss(re))}}function Fd(_){var A=Ao(_,function(Pe){return re.size===z&&re.clear(),Pe}),re=A.cache;return A}function $p(_,A){var re=_[1],Pe=A[1],Ye=re|Pe,ot=Ye<($|M|te),Tt=Pe==te&&re==k||Pe==te&&re==Q&&_[7].length<=A[8]||Pe==(te|Q)&&A[7].length<=A[8]&&re==k;if(!(ot||Tt))return _;Pe&$&&(_[2]=A[2],Ye|=re&$?0:E);var Rt=A[3];if(Rt){var Wt=_[3];_[3]=Wt?ku(Wt,Rt,A[4]):Rt,_[4]=Wt?Hr(_[3],Z):A[4]}return Rt=A[5],Rt&&(Wt=_[5],_[5]=Wt?Ld(Wt,Rt,A[6]):Rt,_[6]=Wt?Hr(_[5],Z):A[6]),Rt=A[7],Rt&&(_[7]=Rt),Pe&te&&(_[8]=_[8]==null?A[8]:Xs(_[8],A[8])),_[9]==null&&(_[9]=A[9]),_[0]=A[0],_[1]=Ye,_}function Nd(_){var A=[];if(_!=null)for(var re in Ss(_))A.push(re);return A}function og(_){return Ii.call(_)}function Hp(_,A,re){return A=xr(A===s?_.length-1:A,0),function(){for(var Pe=arguments,Ye=-1,ot=xr(Pe.length-A,0),Tt=li(ot);++Ye<ot;)Tt[Ye]=Pe[A+Ye];Ye=-1;for(var Rt=li(A+1);++Ye<A;)Rt[Ye]=Pe[Ye];return Rt[A]=re(Tt),Si(_,this,Rt)}}function ag(_,A){return A.length<2?_:Zt(_,El(A,0,-1))}function S_(_,A){for(var re=_.length,Pe=Xs(A.length,re),Ye=io(_);Pe--;){var ot=A[Pe];_[Pe]=eh(ot,re)?Ye[ot]:s}return _}function lg(_,A){if(!(A==="constructor"&&typeof _[A]=="function")&&A!="__proto__")return _[A]}var x0=th(jp),Ru=Va||function(_,A){return Er.setTimeout(_,A)},jd=th(c_);function Ud(_,A,re){var Pe=A+"";return jd(_,Iu(Pe,Al(b_(Pe),re)))}function th(_){var A=0,re=0;return function(){var Pe=Md(),Ye=D-(Pe-re);if(re=Pe,Ye>0){if(++A>=w)return arguments[0]}else A=0;return _.apply(s,arguments)}}function Bu(_,A){var re=-1,Pe=_.length,Ye=Pe-1;for(A=A===s?Pe:A;++re<A;){var ot=ua(re,Ye),Tt=_[ot];_[ot]=_[re],_[re]=Tt}return _.length=A,_}var cg=Fd(function(_){var A=[];return _.charCodeAt(0)===46&&A.push(""),_.replace(ut,function(re,Pe,Ye,ot){A.push(Ye?ot.replace(mi,"$1"):Pe||re)}),A});function Ya(_){if(typeof _=="string"||_a(_))return _;var A=_+"";return A=="0"&&1/_==-P?"-0":A}function wc(_){if(_!=null){try{return Ut.call(_)}catch{}try{return _+""}catch{}}return""}function Al(_,A){return ai(J,function(re){var Pe="_."+re[0];A&re[1]&&!qs(_,Pe)&&_.push(Pe)}),_.sort()}function zu(_){if(_ instanceof Fn)return _.clone();var A=new Ea(_.__wrapped__,_.__chain__);return A.__actions__=io(_.__actions__),A.__index__=_.__index__,A.__values__=_.__values__,A}function ma(_,A,re){(re?fa(_,A,re):A===s)?A=1:A=xr(Nn(A),0);var Pe=_==null?0:_.length;if(!Pe||A<1)return[];for(var Ye=0,ot=0,Tt=li(Wc(Pe/A));Ye<Pe;)Tt[ot++]=El(_,Ye,Ye+=A);return Tt}function Yl(_){for(var A=-1,re=_==null?0:_.length,Pe=0,Ye=[];++A<re;){var ot=_[A];ot&&(Ye[Pe++]=ot)}return Ye}function hg(){var _=arguments.length;if(!_)return[];for(var A=li(_-1),re=arguments[0],Pe=_;Pe--;)A[Pe-1]=arguments[Pe];return Qn(is(re)?io(re):[re],ct(A,1))}var Ur=es(function(_,A){return nr(_)?Ze(_,ct(A,1,nr,!0)):[]}),T_=es(function(_,A){var re=ql(A);return nr(re)&&(re=s),nr(_)?Ze(_,ct(A,1,nr,!0),Rn(re,2)):[]}),Wp=es(function(_,A){var re=ql(A);return nr(re)&&(re=s),nr(_)?Ze(_,ct(A,1,nr,!0),s,re):[]});function Sc(_,A,re){var Pe=_==null?0:_.length;return Pe?(A=re||A===s?1:Nn(A),El(_,A<0?0:A,Pe)):[]}function Ux(_,A,re){var Pe=_==null?0:_.length;return Pe?(A=re||A===s?1:Nn(A),A=Pe-A,El(_,0,A<0?0:A)):[]}function Gx(_,A){return _&&_.length?u0(_,Rn(A,3),!0,!0):[]}function E_(_,A){return _&&_.length?u0(_,Rn(A,3),!0):[]}function C_(_,A,re,Pe){var Ye=_==null?0:_.length;return Ye?(re&&typeof re!="number"&&fa(_,A,re)&&(re=0,Pe=Ye),nt(_,A,re,Pe)):[]}function rd(_,A,re){var Pe=_==null?0:_.length;if(!Pe)return-1;var Ye=re==null?0:Nn(re);return Ye<0&&(Ye=xr(Pe+Ye,0)),wo(_,Rn(A,3),Ye)}function dg(_,A,re){var Pe=_==null?0:_.length;if(!Pe)return-1;var Ye=Pe-1;return re!==s&&(Ye=Nn(re),Ye=re<0?xr(Pe+Ye,0):Xs(Ye,Pe-1)),wo(_,Rn(A,3),Ye,!0)}function ug(_){var A=_==null?0:_.length;return A?ct(_,1):[]}function M_(_){var A=_==null?0:_.length;return A?ct(_,P):[]}function A_(_,A){var re=_==null?0:_.length;return re?(A=A===s?1:Nn(A),ct(_,A)):[]}function Vx(_){for(var A=-1,re=_==null?0:_.length,Pe={};++A<re;){var Ye=_[A];Pe[Ye[0]]=Ye[1]}return Pe}function b0(_){return _&&_.length?_[0]:s}function pg(_,A,re){var Pe=_==null?0:_.length;if(!Pe)return-1;var Ye=re==null?0:Nn(re);return Ye<0&&(Ye=xr(Pe+Ye,0)),Bn(_,A,Ye)}function fg(_){var A=_==null?0:_.length;return A?El(_,0,-1):[]}var ga=es(function(_){var A=Jn(_,f0);return A.length&&A[0]===_[0]?ii(A):[]}),k_=es(function(_){var A=ql(_),re=Jn(_,f0);return A===ql(re)?A=s:re.pop(),re.length&&re[0]===_[0]?ii(re,Rn(A,2)):[]}),$x=es(function(_){var A=ql(_),re=Jn(_,f0);return A=typeof A=="function"?A:s,A&&re.pop(),re.length&&re[0]===_[0]?ii(re,s,A):[]});function P_(_,A){return _==null?"":wu.call(_,A)}function ql(_){var A=_==null?0:_.length;return A?_[A-1]:s}function Hx(_,A,re){var Pe=_==null?0:_.length;if(!Pe)return-1;var Ye=Pe;return re!==s&&(Ye=Nn(re),Ye=Ye<0?xr(Pe+Ye,0):Xs(Ye,Pe-1)),A===A?Ed(_,A,Ye):wo(_,So,Ye,!0)}function D_(_,A){return _&&_.length?Br(_,Nn(A)):s}var I_=es(mg);function mg(_,A){return _&&_.length&&A&&A.length?Tl(_,A):_}function gg(_,A,re){return _&&_.length&&A&&A.length?Tl(_,A,Rn(re,2)):_}function Ah(_,A,re){return _&&_.length&&A&&A.length?Tl(_,A,s,re):_}var qa=xc(function(_,A){var re=_==null?0:_.length,Pe=se(_,A);return Mo(_,Jn(A,function(Ye){return eh(Ye,re)?+Ye:Ye}).sort(g_)),Pe});function Wx(_,A){var re=[];if(!(_&&_.length))return re;var Pe=-1,Ye=[],ot=_.length;for(A=Rn(A,3);++Pe<ot;){var Tt=_[Pe];A(Tt,Pe,_)&&(re.push(Tt),Ye.push(Pe))}return Mo(_,Ye),re}function Yp(_){return _==null?_:Fm.call(_)}function Yx(_,A,re){var Pe=_==null?0:_.length;return Pe?(re&&typeof re!="number"&&fa(_,A,re)?(A=0,re=Pe):(A=A==null?0:Nn(A),re=re===s?Pe:Nn(re)),El(_,A,re)):[]}function qx(_,A){return Up(_,A)}function Xx(_,A,re){return h0(_,A,Rn(re,2))}function qp(_,A){var re=_==null?0:_.length;if(re){var Pe=Up(_,A);if(Pe<re&&Tc(_[Pe],A))return Pe}return-1}function w0(_,A){return Up(_,A,!0)}function L_(_,A,re){return h0(_,A,Rn(re,2),!0)}function Gd(_,A){var re=_==null?0:_.length;if(re){var Pe=Up(_,A,!0)-1;if(Tc(_[Pe],A))return Pe}return-1}function Xp(_){return _&&_.length?Gm(_):[]}function Zx(_,A){return _&&_.length?Gm(_,Rn(A,2)):[]}function Kx(_){var A=_==null?0:_.length;return A?El(_,1,A):[]}function Jx(_,A,re){return _&&_.length?(A=re||A===s?1:Nn(A),El(_,0,A<0?0:A)):[]}function Qx(_,A,re){var Pe=_==null?0:_.length;return Pe?(A=re||A===s?1:Nn(A),A=Pe-A,El(_,A<0?0:A,Pe)):[]}function eb(_,A){return _&&_.length?u0(_,Rn(A,3),!1,!0):[]}function tb(_,A){return _&&_.length?u0(_,Rn(A,3)):[]}var ib=es(function(_){return Th(ct(_,1,nr,!0))}),_g=es(function(_){var A=ql(_);return nr(A)&&(A=s),Th(ct(_,1,nr,!0),Rn(A,2))}),nb=es(function(_){var A=ql(_);return A=typeof A=="function"?A:s,Th(ct(_,1,nr,!0),s,A)});function Fu(_){return _&&_.length?Th(_):[]}function sb(_,A){return _&&_.length?Th(_,Rn(A,2)):[]}function qr(_,A){return A=typeof A=="function"?A:s,_&&_.length?Th(_,s,A):[]}function Nu(_){if(!(_&&_.length))return[];var A=0;return _=sn(_,function(re){if(nr(re))return A=xr(re.length,A),!0}),Bo(A,function(re){return Jn(_,Ro(re))})}function yg(_,A){if(!(_&&_.length))return[];var re=Nu(_);return A==null?re:Jn(re,function(Pe){return Si(A,s,Pe)})}var S0=es(function(_,A){return nr(_)?Ze(_,A):[]}),T0=es(function(_){return p0(sn(_,nr))}),Zp=es(function(_){var A=ql(_);return nr(A)&&(A=s),p0(sn(_,nr),Rn(A,2))}),O_=es(function(_){var A=ql(_);return A=typeof A=="function"?A:s,p0(sn(_,nr),s,A)}),R_=es(Nu);function Kp(_,A){return $m(_||[],A||[],y)}function vg(_,A){return $m(_||[],A||[],Sh)}var xg=es(function(_){var A=_.length,re=A>1?_[A-1]:s;return re=typeof re=="function"?(_.pop(),re):s,yg(_,re)});function B_(_){var A=it(_);return A.__chain__=!0,A}function z_(_,A){return A(_),_}function od(_,A){return A(_)}var rb=xc(function(_){var A=_.length,re=A?_[0]:0,Pe=this.__wrapped__,Ye=function(ot){return se(ot,_)};return A>1||this.__actions__.length||!(Pe instanceof Fn)||!eh(re)?this.thru(Ye):(Pe=Pe.slice(re,+re+(A?1:0)),Pe.__actions__.push({func:od,args:[Ye],thisArg:s}),new Ea(Pe,this.__chain__).thru(function(ot){return A&&!ot.length&&ot.push(s),ot}))});function bg(){return B_(this)}function ob(){return new Ea(this.value(),this.__chain__)}function wg(){this.__values__===s&&(this.__values__=B0(this.value()));var _=this.__index__>=this.__values__.length,A=_?s:this.__values__[this.__index__++];return{done:_,value:A}}function Sg(){return this}function E0(_){for(var A,re=this;re instanceof kd;){var Pe=zu(re);Pe.__index__=0,Pe.__values__=s,A?Ye.__wrapped__=Pe:A=Pe;var Ye=Pe;re=re.__wrapped__}return Ye.__wrapped__=_,A}function ab(){var _=this.__wrapped__;if(_ instanceof Fn){var A=_;return this.__actions__.length&&(A=new Fn(this)),A=A.reverse(),A.__actions__.push({func:od,args:[Yp],thisArg:s}),new Ea(A,this.__chain__)}return this.thru(Yp)}function lb(){return Id(this.__wrapped__,this.__actions__)}var cb=Jc(function(_,A,re){ri.call(_,re)?++_[re]:F(_,re,1)});function hb(_,A,re){var Pe=is(_)?On:dt;return re&&fa(_,A,re)&&(A=s),Pe(_,Rn(A,3))}function db(_,A){var re=is(_)?sn:ft;return re(_,Rn(A,3))}var ub=v_(rd),C0=v_(dg);function pb(_,A){return ct(M0(_,A),1)}function F_(_,A){return ct(M0(_,A),P)}function ju(_,A,re){return re=re===s?1:Nn(re),ct(M0(_,A),re)}function N_(_,A){var re=is(_)?ai:at;return re(_,Rn(A,3))}function j_(_,A){var re=is(_)?Gi:lt;return re(_,Rn(A,3))}var fb=Jc(function(_,A,re){ri.call(_,re)?_[re].push(A):F(_,re,[A])});function U_(_,A,re,Pe){_=Js(_)?_:Hd(_),re=re&&!Pe?Nn(re):0;var Ye=_.length;return re<0&&(re=xr(Ye+re,0)),R0(_)?re<=Ye&&_.indexOf(A,re)>-1:!!Ye&&Bn(_,A,re)>-1}var G_=es(function(_,A,re){var Pe=-1,Ye=typeof A=="function",ot=Js(_)?li(_.length):[];return at(_,function(Tt){ot[++Pe]=Ye?Si(A,Tt,re):Li(Tt,A,re)}),ot}),mb=Jc(function(_,A,re){F(_,re,A)});function M0(_,A){var re=is(_)?Jn:zo;return re(_,Rn(A,3))}function gb(_,A,re,Pe){return _==null?[]:(is(A)||(A=A==null?[]:[A]),re=Pe?s:re,is(re)||(re=re==null?[]:[re]),Co(_,A,re))}var Tg=Jc(function(_,A,re){_[re?0:1].push(A)},function(){return[[],[]]});function A0(_,A,re){var Pe=is(_)?Ln:Ta,Ye=arguments.length<3;return Pe(_,Rn(A,4),re,Ye,at)}function k0(_,A,re){var Pe=is(_)?Lr:Ta,Ye=arguments.length<3;return Pe(_,Rn(A,4),re,Ye,lt)}function _b(_,A){var re=is(_)?sn:ft;return re(_,ad(Rn(A,3)))}function yb(_){var A=is(_)?Fp:id;return A(_)}function Jp(_,A,re){(re?fa(_,A,re):A===s)?A=1:A=Nn(A);var Pe=is(_)?c0:Hl;return Pe(_,A)}function Qp(_){var A=is(_)?Np:Um;return A(_)}function V_(_){if(_==null)return 0;if(Js(_))return R0(_)?ss(_):_.length;var A=pa(_);return A==we||A==Te?_.size:Rs(_).length}function ef(_,A,re){var Pe=is(_)?ts:h_;return re&&fa(_,A,re)&&(A=s),Pe(_,Rn(A,3))}var $_=es(function(_,A){if(_==null)return[];var re=A.length;return re>1&&fa(_,A[0],A[1])?A=[]:re>2&&fa(A[0],A[1],A[2])&&(A=[A[0]]),Co(_,ct(A,1),[])}),P0=Xi||function(){return Er.Date.now()};function H_(_,A){if(typeof A!="function")throw new go(m);return _=Nn(_),function(){if(--_<1)return A.apply(this,arguments)}}function Eg(_,A,re){return A=re?s:A,A=_&&A==null?_.length:A,jo(_,te,s,s,s,s,A)}function Cg(_,A){var re;if(typeof A!="function")throw new go(m);return _=Nn(_),function(){return--_>0&&(re=A.apply(this,arguments)),_<=1&&(A=s),re}}var D0=es(function(_,A,re){var Pe=$;if(re.length){var Ye=Hr(re,Mh(D0));Pe|=G}return jo(_,Pe,A,re,Ye)}),Mg=es(function(_,A,re){var Pe=$|M;if(re.length){var Ye=Hr(re,Mh(Mg));Pe|=G}return jo(A,Pe,_,re,Ye)});function Ag(_,A,re){A=re?s:A;var Pe=jo(_,k,s,s,s,s,s,A);return Pe.placeholder=Ag.placeholder,Pe}function W_(_,A,re){A=re?s:A;var Pe=jo(_,V,s,s,s,s,s,A);return Pe.placeholder=W_.placeholder,Pe}function Y_(_,A,re){var Pe,Ye,ot,Tt,Rt,Wt,Ti=0,Pi=!1,Fi=!1,ln=!0;if(typeof _!="function")throw new go(m);A=qo(A)||0,zr(re)&&(Pi=!!re.leading,Fi="maxWait"in re,ot=Fi?xr(qo(re.maxWait)||0,A):ot,ln="trailing"in re?!!re.trailing:ln);function En(no){var Uo=Pe,rh=Ye;return Pe=Ye=s,Ti=no,Tt=_.apply(rh,Uo),Tt}function Vn(no){return Ti=no,Rt=Ru(Es,A),Pi?En(no):Tt}function fs(no){var Uo=no-Wt,rh=no-Ti,gf=A-Uo;return Fi?Xs(gf,ot-rh):gf}function Hn(no){var Uo=no-Wt,rh=no-Ti;return Wt===s||Uo>=A||Uo<0||Fi&&rh>=ot}function Es(){var no=P0();if(Hn(no))return Ps(no);Rt=Ru(Es,fs(no))}function Ps(no){return Rt=s,ln&&Pe?En(no):(Pe=Ye=s,Tt)}function Xa(){Rt!==s&&Gp(Rt),Ti=0,Pe=Wt=Ye=Rt=s}function ya(){return Rt===s?Tt:Ps(P0())}function Za(){var no=P0(),Uo=Hn(no);if(Pe=arguments,Ye=this,Wt=no,Uo){if(Rt===s)return Vn(Wt);if(Fi)return Gp(Rt),Rt=Ru(Es,A),En(Wt)}return Rt===s&&(Rt=Ru(Es,A)),Tt}return Za.cancel=Xa,Za.flush=ya,Za}var q_=es(function(_,A){return Ne(_,1,A)}),I0=es(function(_,A,re){return Ne(_,qo(A)||0,re)});function X_(_){return jo(_,N)}function Ao(_,A){if(typeof _!="function"||A!=null&&typeof A!="function")throw new go(m);var re=function(){var Pe=arguments,Ye=A?A.apply(this,Pe):Pe[0],ot=re.cache;if(ot.has(Ye))return ot.get(Ye);var Tt=_.apply(this,Pe);return re.cache=ot.set(Ye,Tt)||ot,Tt};return re.cache=new(Ao.Cache||Vl),re}Ao.Cache=Vl;function ad(_){if(typeof _!="function")throw new go(m);return function(){var A=arguments;switch(A.length){case 0:return!_.call(this);case 1:return!_.call(this,A[0]);case 2:return!_.call(this,A[0],A[1]);case 3:return!_.call(this,A[0],A[1],A[2])}return!_.apply(this,A)}}function Uu(_){return Cg(2,_)}var tf=u_(function(_,A){A=A.length==1&&is(A[0])?Jn(A[0],co(Rn())):Jn(ct(A,1),co(Rn()));var re=A.length;return es(function(Pe){for(var Ye=-1,ot=Xs(Pe.length,re);++Ye<ot;)Pe[Ye]=A[Ye].call(this,Pe[Ye]);return Si(_,this,Pe)})}),L0=es(function(_,A){var re=Hr(A,Mh(L0));return jo(_,G,s,A,re)}),kg=es(function(_,A){var re=Hr(A,Mh(kg));return jo(_,C,s,A,re)}),vb=xc(function(_,A){return jo(_,Q,s,s,s,A)});function xb(_,A){if(typeof _!="function")throw new go(m);return A=A===s?A:Nn(A),es(_,A)}function bb(_,A){if(typeof _!="function")throw new go(m);return A=A==null?0:xr(Nn(A),0),es(function(re){var Pe=re[A],Ye=Zc(re,0,A);return Pe&&Qn(Ye,Pe),Si(_,this,Ye)})}function wb(_,A,re){var Pe=!0,Ye=!0;if(typeof _!="function")throw new go(m);return zr(re)&&(Pe="leading"in re?!!re.leading:Pe,Ye="trailing"in re?!!re.trailing:Ye),Y_(_,A,{leading:Pe,maxWait:A,trailing:Ye})}function Sb(_){return Eg(_,1)}function Tb(_,A){return L0(Hm(A),_)}function O0(){if(!arguments.length)return[];var _=arguments[0];return is(_)?_:[_]}function Eb(_){return fe(_,q)}function Z_(_,A){return A=typeof A=="function"?A:s,fe(_,q,A)}function K_(_){return fe(_,O|q)}function J_(_,A){return A=typeof A=="function"?A:s,fe(_,O|q,A)}function Cb(_,A){return A==null||ke(_,A,Zr(A))}function Tc(_,A){return _===A||_!==_&&A!==A}var Mb=Cl(Yt),Ab=Cl(function(_,A){return _>=A}),Vd=$t(function(){return arguments}())?$t:function(_){return Xr(_)&&ri.call(_,"callee")&&!yt.call(_,"callee")},is=li.isArray,kb=$e?co($e):ei;function Js(_){return _!=null&&Ns(_.length)&&!ih(_)}function nr(_){return Xr(_)&&Js(_)}function Pg(_){return _===!0||_===!1||Xr(_)&&wi(_)==Ce}var Ec=qh||t1,Gu=Ke?co(Ke):on;function Pb(_){return Xr(_)&&_.nodeType===1&&!rf(_)}function Db(_){if(_==null)return!0;if(Js(_)&&(is(_)||typeof _=="string"||typeof _.splice=="function"||Ec(_)||Cc(_)||Vd(_)))return!_.length;var A=pa(_);if(A==we||A==Te)return!_.size;if(Ou(_))return!Rs(_).length;for(var re in _)if(ri.call(_,re))return!1;return!0}function nf(_,A){return pn(_,A)}function Ib(_,A,re){re=typeof re=="function"?re:s;var Pe=re?re(_,A):s;return Pe===s?pn(_,A,s,re):!!Pe}function Dg(_){if(!Xr(_))return!1;var A=wi(_);return A==_e||A==ye||typeof _.message=="string"&&typeof _.name=="string"&&!rf(_)}function sf(_){return typeof _=="number"&&Ap(_)}function ih(_){if(!zr(_))return!1;var A=wi(_);return A==ae||A==me||A==pe||A==Qe}function Ig(_){return typeof _=="number"&&_==Nn(_)}function Ns(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=Y}function zr(_){var A=typeof _;return _!=null&&(A=="object"||A=="function")}function Xr(_){return _!=null&&typeof _=="object"}var Lg=Dt?co(Dt):kn;function kh(_,A){return _===A||Wn(_,A,g0(A))}function Vu(_,A,re){return re=typeof re=="function"?re:s,Wn(_,A,g0(A),re)}function Q_(_){return ey(_)&&_!=+_}function Lb(_){if(w_(_))throw new zn(d);return _n(_)}function Ob(_){return _===null}function Rb(_){return _==null}function ey(_){return typeof _=="number"||Xr(_)&&wi(_)==Re}function rf(_){if(!Xr(_)||wi(_)!=Ge)return!1;var A=Se(_);if(A===null)return!0;var re=ri.call(A,"constructor")&&A.constructor;return typeof re=="function"&&re instanceof re&&Ut.call(re)==Tn}var Og=St?co(St):Ji;function Bb(_){return Ig(_)&&_>=-Y&&_<=Y}var ty=Xt?co(Xt):Fs;function R0(_){return typeof _=="string"||!is(_)&&Xr(_)&&wi(_)==Oe}function _a(_){return typeof _=="symbol"||Xr(_)&&wi(_)==ze}var Cc=hi?co(hi):Ms;function iy(_){return _===s}function zb(_){return Xr(_)&&pa(_)==Je}function Fb(_){return Xr(_)&&wi(_)==pt}var Nb=Cl(Yo),Rg=Cl(function(_,A){return _<=A});function B0(_){if(!_)return[];if(Js(_))return R0(_)?fo(_):io(_);if(rs&&_[rs])return $c(_[rs]());var A=pa(_),re=A==we?Fl:A==Te?ja:Hd;return re(_)}function nh(_){if(!_)return _===0?_:0;if(_=qo(_),_===P||_===-P){var A=_<0?-1:1;return A*ee}return _===_?_:0}function Nn(_){var A=nh(_),re=A%1;return A===A?re?A-re:A:0}function $u(_){return _?de(Nn(_),0,he):0}function qo(_){if(typeof _=="number")return _;if(_a(_))return K;if(zr(_)){var A=typeof _.valueOf=="function"?_.valueOf():_;_=zr(A)?A+"":A}if(typeof _!="string")return _===0?_:+_;_=ml(_);var re=mn.test(_);return re||Ni.test(_)?Gc(_.slice(2),re?2:8):gn.test(_)?K:+_}function z0(_){return _o(_,ka(_))}function F0(_){return _?de(Nn(_),-Y,Y):_===0?_:0}function sr(_){return _==null?"":Ha(_)}var ny=Pu(function(_,A){if(Ou(A)||Js(A)){_o(A,Zr(A),_);return}for(var re in A)ri.call(A,re)&&y(_,re,A[re])}),Bg=Pu(function(_,A){_o(A,ka(A),_)}),N0=Pu(function(_,A,re,Pe){_o(A,ka(A),_,Pe)}),sy=Pu(function(_,A,re,Pe){_o(A,Zr(A),_,Pe)}),ry=xc(se);function zg(_,A){var re=gc(_);return A==null?re:b(re,A)}var oy=es(function(_,A){_=Ss(_);var re=-1,Pe=A.length,Ye=Pe>2?A[2]:s;for(Ye&&fa(A[0],A[1],Ye)&&(Pe=1);++re<Pe;)for(var ot=A[re],Tt=ka(ot),Rt=-1,Wt=Tt.length;++Rt<Wt;){var Ti=Tt[Rt],Pi=_[Ti];(Pi===s||Tc(Pi,Bt[Ti])&&!ri.call(_,Ti))&&(_[Ti]=ot[Ti])}return _}),jb=es(function(_){return _.push(s,Rd),Si(of,s,_)});function ay(_,A){return Or(_,Rn(A,3),wt)}function Ph(_,A){return Or(_,Rn(A,3),zt)}function ly(_,A){return _==null?_:vt(_,Rn(A,3),ka)}function cy(_,A){return _==null?_:At(_,Rn(A,3),ka)}function hy(_,A){return _&&wt(_,Rn(A,3))}function dy(_,A){return _&&zt(_,Rn(A,3))}function Ub(_){return _==null?[]:Qt(_,Zr(_))}function Gb(_){return _==null?[]:Qt(_,ka(_))}function j0(_,A,re){var Pe=_==null?s:Zt(_,A);return Pe===s?re:Pe}function uy(_,A){return _!=null&&ng(_,A,pi)}function $d(_,A){return _!=null&&ng(_,A,ti)}var py=Ch(function(_,A,re){A!=null&&typeof A.toString!="function"&&(A=Ii.call(A)),_[A]=re},Kg(ho)),fy=Ch(function(_,A,re){A!=null&&typeof A.toString!="function"&&(A=Ii.call(A)),ri.call(_,A)?_[A].push(re):_[A]=[re]},Rn),Fg=es(Li);function Zr(_){return Js(_)?Mu(_):Rs(_)}function ka(_){return Js(_)?Mu(_,!0):da(_)}function U0(_,A){var re={};return A=Rn(A,3),wt(_,function(Pe,Ye,ot){F(re,A(Pe,Ye,ot),Pe)}),re}function my(_,A){var re={};return A=Rn(A,3),wt(_,function(Pe,Ye,ot){F(re,Ye,A(Pe,Ye,ot))}),re}var G0=Pu(function(_,A,re){Bs(_,A,re)}),of=Pu(function(_,A,re,Pe){Bs(_,A,re,Pe)}),Vb=xc(function(_,A){var re={};if(_==null)return re;var Pe=!1;A=Jn(A,function(ot){return ot=yc(ot,_),Pe||(Pe=ot.length>1),ot}),_o(_,eg(_),re),Pe&&(re=fe(re,O|H|q,Km));for(var Ye=A.length;Ye--;)d0(re,A[Ye]);return re});function $b(_,A){return gy(_,ad(Rn(A)))}var Hb=xc(function(_,A){return _==null?{}:Ks(_,A)});function gy(_,A){if(_==null)return{};var re=Jn(eg(_),function(Pe){return[Pe]});return A=Rn(A),Fo(_,re,function(Pe,Ye){return A(Pe,Ye[0])})}function Wb(_,A,re){A=yc(A,_);var Pe=-1,Ye=A.length;for(Ye||(Ye=1,_=s);++Pe<Ye;){var ot=_==null?s:_[Ya(A[Pe])];ot===s&&(Pe=Ye,ot=re),_=ih(ot)?ot.call(_):ot}return _}function Hu(_,A,re){return _==null?_:Sh(_,A,re)}function Ng(_,A,re,Pe){return Pe=typeof Pe=="function"?Pe:s,_==null?_:Sh(_,A,re,Pe)}var _y=Xm(Zr),jg=Xm(ka);function Yb(_,A,re){var Pe=is(_),Ye=Pe||Ec(_)||Cc(_);if(A=Rn(A,4),re==null){var ot=_&&_.constructor;Ye?re=Pe?new ot:[]:zr(_)?re=ih(ot)?gc(Se(_)):{}:re={}}return(Ye?ai:wt)(_,function(Tt,Rt,Wt){return A(re,Tt,Rt,Wt)}),re}function Ug(_,A){return _==null?!0:d0(_,A)}function qb(_,A,re){return _==null?_:d_(_,A,Hm(re))}function ld(_,A,re,Pe){return Pe=typeof Pe=="function"?Pe:s,_==null?_:d_(_,A,Hm(re),Pe)}function Hd(_){return _==null?[]:gl(_,Zr(_))}function yy(_){return _==null?[]:gl(_,ka(_))}function V0(_,A,re){return re===s&&(re=A,A=s),re!==s&&(re=qo(re),re=re===re?re:0),A!==s&&(A=qo(A),A=A===A?A:0),de(qo(_),A,re)}function Gg(_,A,re){return A=nh(A),re===s?(re=A,A=0):re=nh(re),_=qo(_),ki(_,A,re)}function Xb(_,A,re){if(re&&typeof re!="boolean"&&fa(_,A,re)&&(A=re=s),re===s&&(typeof A=="boolean"?(re=A,A=s):typeof _=="boolean"&&(re=_,_=s)),_===s&&A===s?(_=0,A=1):(_=nh(_),A===s?(A=_,_=0):A=nh(A)),_>A){var Pe=_;_=A,A=Pe}if(re||_%1||A%1){var Ye=Jf();return Xs(_+Ye*(A-_+uc("1e-"+((Ye+"").length-1))),A)}return ua(_,A)}var Zb=Eh(function(_,A,re){return A=A.toLowerCase(),_+(re?Vg(A):A)});function Vg(_){return W0(sr(_).toLowerCase())}function $g(_){return _=sr(_),_&&_.replace(ds,$h).replace(Tr,"")}function af(_,A,re){_=sr(_),A=Ha(A);var Pe=_.length;re=re===s?Pe:de(Nn(re),0,Pe);var Ye=re;return re-=A.length,re>=0&&_.slice(re,Ye)==A}function Dh(_){return _=sr(_),_&&Ol.test(_)?_.replace(tn,vl):_}function Hg(_){return _=sr(_),_&&We.test(_)?_.replace(Fe,"\\$&"):_}var Wu=Eh(function(_,A,re){return _+(re?"-":"")+A.toLowerCase()}),Yu=Eh(function(_,A,re){return _+(re?" ":"")+A.toLowerCase()}),Xl=Ym("toLowerCase");function Zl(_,A,re){_=sr(_),A=Nn(A);var Pe=A?ss(_):0;if(!A||Pe>=A)return _;var Ye=(A-Pe)/2;return Vp(Cd(Ye),re)+_+Vp(Wc(Ye),re)}function Kb(_,A,re){_=sr(_),A=Nn(A);var Pe=A?ss(_):0;return A&&Pe<A?_+Vp(A-Pe,re):_}function vy(_,A,re){_=sr(_),A=Nn(A);var Pe=A?ss(_):0;return A&&Pe<A?Vp(A-Pe,re)+_:_}function Jb(_,A,re){return re||A==null?A=0:A&&(A=+A),Zh(sr(_).replace(ht,""),A||0)}function Wg(_,A,re){return(re?fa(_,A,re):A===s)?A=1:A=Nn(A),$a(sr(_),A)}function sh(){var _=arguments,A=sr(_[0]);return _.length<3?A:A.replace(_[1],_[2])}var Wd=Eh(function(_,A,re){return _+(re?"_":"")+A.toLowerCase()});function xy(_,A,re){return re&&typeof re!="number"&&fa(_,A,re)&&(A=re=s),re=re===s?he:re>>>0,re?(_=sr(_),_&&(typeof A=="string"||A!=null&&!Og(A))&&(A=Ha(A),!A&&Wo(_))?Zc(fo(_),0,re):_.split(A,re)):[]}var by=Eh(function(_,A,re){return _+(re?" ":"")+W0(A)});function Qb(_,A,re){return _=sr(_),re=re==null?0:de(Nn(re),0,_.length),A=Ha(A),_.slice(re,re+A.length)==A}function $0(_,A,re){var Pe=it.templateSettings;re&&fa(_,A,re)&&(A=s),_=sr(_),A=N0({},A,Pe,Zm);var Ye=N0({},A.imports,Pe.imports,Zm),ot=Zr(Ye),Tt=gl(Ye,ot),Rt,Wt,Ti=0,Pi=A.interpolate||cn,Fi="__p += '",ln=jl((A.escape||cn).source+"|"+Pi.source+"|"+(Pi===_r?Vi:cn).source+"|"+(A.evaluate||cn).source+"|$","g"),En="//# sourceURL="+(ri.call(A,"sourceURL")?(A.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jc+"]")+`
`;_.replace(ln,function(Hn,Es,Ps,Xa,ya,Za){return Ps||(Ps=Xa),Fi+=_.slice(Ti,Za).replace(ks,vh),Es&&(Rt=!0,Fi+=`' +
__e(`+Es+`) +
'`),ya&&(Wt=!0,Fi+=`';
`+ya+`;
__p += '`),Ps&&(Fi+=`' +
((__t = (`+Ps+`)) == null ? '' : __t) +
'`),Ti=Za+Hn.length,Hn}),Fi+=`';
`;var Vn=ri.call(A,"variable")&&A.variable;if(!Vn)Fi=`with (obj) {
`+Fi+`
}
`;else if(qt.test(Vn))throw new zn(n);Fi=(Wt?Fi.replace(Zn,""):Fi).replace(kr,"$1").replace(ms,"$1;"),Fi="function("+(Vn||"obj")+`) {
`+(Vn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Rt?", __e = _.escape":"")+(Wt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Fi+`return __p
}`;var fs=Xg(function(){return _s(ot,En+"return "+Fi).apply(s,Tt)});if(fs.source=Fi,Dg(fs))throw fs;return fs}function Yg(_){return sr(_).toLowerCase()}function qu(_){return sr(_).toUpperCase()}function lf(_,A,re){if(_=sr(_),_&&(re||A===s))return ml(_);if(!_||!(A=Ha(A)))return _;var Pe=fo(_),Ye=fo(A),ot=yh(Pe,Ye),Tt=_l(Pe,Ye)+1;return Zc(Pe,ot,Tt).join("")}function cf(_,A,re){if(_=sr(_),_&&(re||A===s))return _.slice(0,Wr(_)+1);if(!_||!(A=Ha(A)))return _;var Pe=fo(_),Ye=_l(Pe,fo(A))+1;return Zc(Pe,0,Ye).join("")}function H0(_,A,re){if(_=sr(_),_&&(re||A===s))return _.replace(ht,"");if(!_||!(A=Ha(A)))return _;var Pe=fo(_),Ye=yh(Pe,fo(A));return Zc(Pe,Ye).join("")}function wy(_,A){var re=j,Pe=W;if(zr(A)){var Ye="separator"in A?A.separator:Ye;re="length"in A?Nn(A.length):re,Pe="omission"in A?Ha(A.omission):Pe}_=sr(_);var ot=_.length;if(Wo(_)){var Tt=fo(_);ot=Tt.length}if(re>=ot)return _;var Rt=re-ss(Pe);if(Rt<1)return Pe;var Wt=Tt?Zc(Tt,0,Rt).join(""):_.slice(0,Rt);if(Ye===s)return Wt+Pe;if(Tt&&(Rt+=Wt.length-Rt),Og(Ye)){if(_.slice(Rt).search(Ye)){var Ti,Pi=Wt;for(Ye.global||(Ye=jl(Ye.source,sr(Ci.exec(Ye))+"g")),Ye.lastIndex=0;Ti=Ye.exec(Pi);)var Fi=Ti.index;Wt=Wt.slice(0,Fi===s?Rt:Fi)}}else if(_.indexOf(Ha(Ye),Rt)!=Rt){var ln=Wt.lastIndexOf(Ye);ln>-1&&(Wt=Wt.slice(0,ln))}return Wt+Pe}function hf(_){return _=sr(_),_&&xa.test(_)?_.replace(zs,Eo):_}var qg=Eh(function(_,A,re){return _+(re?" ":"")+A.toUpperCase()}),W0=Ym("toUpperCase");function Yd(_,A,re){return _=sr(_),A=re?s:A,A===s?xl(_)?Wh(_):pl(_):_.match(A)||[]}var Xg=es(function(_,A){try{return Si(_,s,A)}catch(re){return Dg(re)?re:new zn(re)}}),Zg=xc(function(_,A){return ai(A,function(re){re=Ya(re),F(_,re,D0(_[re],_))}),_});function Sy(_){var A=_==null?0:_.length,re=Rn();return _=A?Jn(_,function(Pe){if(typeof Pe[1]!="function")throw new go(m);return[re(Pe[0]),Pe[1]]}):[],es(function(Pe){for(var Ye=-1;++Ye<A;){var ot=_[Ye];if(Si(ot[0],this,Pe))return Si(ot[1],this,Pe)}})}function e2(_){return De(fe(_,O))}function Kg(_){return function(){return _}}function Ty(_,A){return _==null||_!==_?A:_}var qd=Yr(),t2=Yr(!0);function ho(_){return _}function Jg(_){return js(typeof _=="function"?_:fe(_,O))}function df(_){return Sl(fe(_,O))}function uf(_,A){return Zs(_,fe(A,O))}var pf=es(function(_,A){return function(re){return Li(re,_,A)}}),ff=es(function(_,A){return function(re){return Li(_,re,A)}});function Xu(_,A,re){var Pe=Zr(A),Ye=Qt(A,Pe);re==null&&!(zr(A)&&(Ye.length||!Pe.length))&&(re=A,A=_,_=this,Ye=Qt(A,Zr(A)));var ot=!(zr(re)&&"chain"in re)||!!re.chain,Tt=ih(_);return ai(Ye,function(Rt){var Wt=A[Rt];_[Rt]=Wt,Tt&&(_.prototype[Rt]=function(){var Ti=this.__chain__;if(ot||Ti){var Pi=_(this.__wrapped__),Fi=Pi.__actions__=io(this.__actions__);return Fi.push({func:Wt,args:arguments,thisArg:_}),Pi.__chain__=Ti,Pi}return Wt.apply(_,Qn([this.value()],arguments))})}),_}function i2(){return Er._===this&&(Er._=An),this}function Qg(){}function Zu(_){return _=Nn(_),es(function(A){return Br(A,_)})}var Y0=us(Jn),n2=us(On),Ey=us(ts);function e1(_){return rg(_)?Ro(Ya(_)):Dd(_)}function s2(_){return function(A){return _==null?s:Zt(_,A)}}var Cy=vc(),r2=vc(!0);function q0(){return[]}function t1(){return!1}function My(){return{}}function o2(){return""}function a2(){return!0}function X0(_,A){if(_=Nn(_),_<1||_>Y)return[];var re=he,Pe=Xs(_,he);A=Rn(A),_-=he;for(var Ye=Bo(Pe,A);++re<_;)A(re);return Ye}function Z0(_){return is(_)?Jn(_,Ya):_a(_)?[_]:io(cg(sr(_)))}function K0(_){var A=++Mi;return sr(_)+A}var l2=Od(function(_,A){return _+A},0),i1=Aa("ceil"),n1=Od(function(_,A){return _/A},1),cd=Aa("floor");function c2(_){return _&&_.length?et(_,ho,Yt):s}function s1(_,A){return _&&_.length?et(_,Rn(A,2),Yt):s}function Ay(_){return lo(_,ho)}function J0(_,A){return lo(_,Rn(A,2))}function h2(_){return _&&_.length?et(_,ho,Yo):s}function d2(_,A){return _&&_.length?et(_,Rn(A,2),Yo):s}var u2=Od(function(_,A){return _*A},1),p2=Aa("round"),r1=Od(function(_,A){return _-A},0);function f2(_){return _&&_.length?ws(_,ho):0}function mf(_,A){return _&&_.length?ws(_,Rn(A,2)):0}return it.after=H_,it.ary=Eg,it.assign=ny,it.assignIn=Bg,it.assignInWith=N0,it.assignWith=sy,it.at=ry,it.before=Cg,it.bind=D0,it.bindAll=Zg,it.bindKey=Mg,it.castArray=O0,it.chain=B_,it.chunk=ma,it.compact=Yl,it.concat=hg,it.cond=Sy,it.conforms=e2,it.constant=Kg,it.countBy=cb,it.create=zg,it.curry=Ag,it.curryRight=W_,it.debounce=Y_,it.defaults=oy,it.defaultsDeep=jb,it.defer=q_,it.delay=I0,it.difference=Ur,it.differenceBy=T_,it.differenceWith=Wp,it.drop=Sc,it.dropRight=Ux,it.dropRightWhile=Gx,it.dropWhile=E_,it.fill=C_,it.filter=db,it.flatMap=pb,it.flatMapDeep=F_,it.flatMapDepth=ju,it.flatten=ug,it.flattenDeep=M_,it.flattenDepth=A_,it.flip=X_,it.flow=qd,it.flowRight=t2,it.fromPairs=Vx,it.functions=Ub,it.functionsIn=Gb,it.groupBy=fb,it.initial=fg,it.intersection=ga,it.intersectionBy=k_,it.intersectionWith=$x,it.invert=py,it.invertBy=fy,it.invokeMap=G_,it.iteratee=Jg,it.keyBy=mb,it.keys=Zr,it.keysIn=ka,it.map=M0,it.mapKeys=U0,it.mapValues=my,it.matches=df,it.matchesProperty=uf,it.memoize=Ao,it.merge=G0,it.mergeWith=of,it.method=pf,it.methodOf=ff,it.mixin=Xu,it.negate=ad,it.nthArg=Zu,it.omit=Vb,it.omitBy=$b,it.once=Uu,it.orderBy=gb,it.over=Y0,it.overArgs=tf,it.overEvery=n2,it.overSome=Ey,it.partial=L0,it.partialRight=kg,it.partition=Tg,it.pick=Hb,it.pickBy=gy,it.property=e1,it.propertyOf=s2,it.pull=I_,it.pullAll=mg,it.pullAllBy=gg,it.pullAllWith=Ah,it.pullAt=qa,it.range=Cy,it.rangeRight=r2,it.rearg=vb,it.reject=_b,it.remove=Wx,it.rest=xb,it.reverse=Yp,it.sampleSize=Jp,it.set=Hu,it.setWith=Ng,it.shuffle=Qp,it.slice=Yx,it.sortBy=$_,it.sortedUniq=Xp,it.sortedUniqBy=Zx,it.split=xy,it.spread=bb,it.tail=Kx,it.take=Jx,it.takeRight=Qx,it.takeRightWhile=eb,it.takeWhile=tb,it.tap=z_,it.throttle=wb,it.thru=od,it.toArray=B0,it.toPairs=_y,it.toPairsIn=jg,it.toPath=Z0,it.toPlainObject=z0,it.transform=Yb,it.unary=Sb,it.union=ib,it.unionBy=_g,it.unionWith=nb,it.uniq=Fu,it.uniqBy=sb,it.uniqWith=qr,it.unset=Ug,it.unzip=Nu,it.unzipWith=yg,it.update=qb,it.updateWith=ld,it.values=Hd,it.valuesIn=yy,it.without=S0,it.words=Yd,it.wrap=Tb,it.xor=T0,it.xorBy=Zp,it.xorWith=O_,it.zip=R_,it.zipObject=Kp,it.zipObjectDeep=vg,it.zipWith=xg,it.entries=_y,it.entriesIn=jg,it.extend=Bg,it.extendWith=N0,Xu(it,it),it.add=l2,it.attempt=Xg,it.camelCase=Zb,it.capitalize=Vg,it.ceil=i1,it.clamp=V0,it.clone=Eb,it.cloneDeep=K_,it.cloneDeepWith=J_,it.cloneWith=Z_,it.conformsTo=Cb,it.deburr=$g,it.defaultTo=Ty,it.divide=n1,it.endsWith=af,it.eq=Tc,it.escape=Dh,it.escapeRegExp=Hg,it.every=hb,it.find=ub,it.findIndex=rd,it.findKey=ay,it.findLast=C0,it.findLastIndex=dg,it.findLastKey=Ph,it.floor=cd,it.forEach=N_,it.forEachRight=j_,it.forIn=ly,it.forInRight=cy,it.forOwn=hy,it.forOwnRight=dy,it.get=j0,it.gt=Mb,it.gte=Ab,it.has=uy,it.hasIn=$d,it.head=b0,it.identity=ho,it.includes=U_,it.indexOf=pg,it.inRange=Gg,it.invoke=Fg,it.isArguments=Vd,it.isArray=is,it.isArrayBuffer=kb,it.isArrayLike=Js,it.isArrayLikeObject=nr,it.isBoolean=Pg,it.isBuffer=Ec,it.isDate=Gu,it.isElement=Pb,it.isEmpty=Db,it.isEqual=nf,it.isEqualWith=Ib,it.isError=Dg,it.isFinite=sf,it.isFunction=ih,it.isInteger=Ig,it.isLength=Ns,it.isMap=Lg,it.isMatch=kh,it.isMatchWith=Vu,it.isNaN=Q_,it.isNative=Lb,it.isNil=Rb,it.isNull=Ob,it.isNumber=ey,it.isObject=zr,it.isObjectLike=Xr,it.isPlainObject=rf,it.isRegExp=Og,it.isSafeInteger=Bb,it.isSet=ty,it.isString=R0,it.isSymbol=_a,it.isTypedArray=Cc,it.isUndefined=iy,it.isWeakMap=zb,it.isWeakSet=Fb,it.join=P_,it.kebabCase=Wu,it.last=ql,it.lastIndexOf=Hx,it.lowerCase=Yu,it.lowerFirst=Xl,it.lt=Nb,it.lte=Rg,it.max=c2,it.maxBy=s1,it.mean=Ay,it.meanBy=J0,it.min=h2,it.minBy=d2,it.stubArray=q0,it.stubFalse=t1,it.stubObject=My,it.stubString=o2,it.stubTrue=a2,it.multiply=u2,it.nth=D_,it.noConflict=i2,it.noop=Qg,it.now=P0,it.pad=Zl,it.padEnd=Kb,it.padStart=vy,it.parseInt=Jb,it.random=Xb,it.reduce=A0,it.reduceRight=k0,it.repeat=Wg,it.replace=sh,it.result=Wb,it.round=p2,it.runInContext=jt,it.sample=yb,it.size=V_,it.snakeCase=Wd,it.some=ef,it.sortedIndex=qx,it.sortedIndexBy=Xx,it.sortedIndexOf=qp,it.sortedLastIndex=w0,it.sortedLastIndexBy=L_,it.sortedLastIndexOf=Gd,it.startCase=by,it.startsWith=Qb,it.subtract=r1,it.sum=f2,it.sumBy=mf,it.template=$0,it.times=X0,it.toFinite=nh,it.toInteger=Nn,it.toLength=$u,it.toLower=Yg,it.toNumber=qo,it.toSafeInteger=F0,it.toString=sr,it.toUpper=qu,it.trim=lf,it.trimEnd=cf,it.trimStart=H0,it.truncate=wy,it.unescape=hf,it.uniqueId=K0,it.upperCase=qg,it.upperFirst=W0,it.each=N_,it.eachRight=j_,it.first=b0,Xu(it,function(){var _={};return wt(it,function(A,re){ri.call(it.prototype,re)||(_[re]=A)}),_}(),{chain:!1}),it.VERSION=a,ai(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){it[_].placeholder=it}),ai(["drop","take"],function(_,A){Fn.prototype[_]=function(re){re=re===s?1:xr(Nn(re),0);var Pe=this.__filtered__&&!A?new Fn(this):this.clone();return Pe.__filtered__?Pe.__takeCount__=Xs(re,Pe.__takeCount__):Pe.__views__.push({size:Xs(re,he),type:_+(Pe.__dir__<0?"Right":"")}),Pe},Fn.prototype[_+"Right"]=function(re){return this.reverse()[_](re).reverse()}}),ai(["filter","map","takeWhile"],function(_,A){var re=A+1,Pe=re==f||re==x;Fn.prototype[_]=function(Ye){var ot=this.clone();return ot.__iteratees__.push({iteratee:Rn(Ye,3),type:re}),ot.__filtered__=ot.__filtered__||Pe,ot}}),ai(["head","last"],function(_,A){var re="take"+(A?"Right":"");Fn.prototype[_]=function(){return this[re](1).value()[0]}}),ai(["initial","tail"],function(_,A){var re="drop"+(A?"":"Right");Fn.prototype[_]=function(){return this.__filtered__?new Fn(this):this[re](1)}}),Fn.prototype.compact=function(){return this.filter(ho)},Fn.prototype.find=function(_){return this.filter(_).head()},Fn.prototype.findLast=function(_){return this.reverse().find(_)},Fn.prototype.invokeMap=es(function(_,A){return typeof _=="function"?new Fn(this):this.map(function(re){return Li(re,_,A)})}),Fn.prototype.reject=function(_){return this.filter(ad(Rn(_)))},Fn.prototype.slice=function(_,A){_=Nn(_);var re=this;return re.__filtered__&&(_>0||A<0)?new Fn(re):(_<0?re=re.takeRight(-_):_&&(re=re.drop(_)),A!==s&&(A=Nn(A),re=A<0?re.dropRight(-A):re.take(A-_)),re)},Fn.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},Fn.prototype.toArray=function(){return this.take(he)},wt(Fn.prototype,function(_,A){var re=/^(?:filter|find|map|reject)|While$/.test(A),Pe=/^(?:head|last)$/.test(A),Ye=it[Pe?"take"+(A=="last"?"Right":""):A],ot=Pe||/^find/.test(A);Ye&&(it.prototype[A]=function(){var Tt=this.__wrapped__,Rt=Pe?[1]:arguments,Wt=Tt instanceof Fn,Ti=Rt[0],Pi=Wt||is(Tt),Fi=function(Es){var Ps=Ye.apply(it,Qn([Es],Rt));return Pe&&ln?Ps[0]:Ps};Pi&&re&&typeof Ti=="function"&&Ti.length!=1&&(Wt=Pi=!1);var ln=this.__chain__,En=!!this.__actions__.length,Vn=ot&&!ln,fs=Wt&&!En;if(!ot&&Pi){Tt=fs?Tt:new Fn(this);var Hn=_.apply(Tt,Rt);return Hn.__actions__.push({func:od,args:[Fi],thisArg:s}),new Ea(Hn,ln)}return Vn&&fs?_.apply(this,Rt):(Hn=this.thru(Fi),Vn?Pe?Hn.value()[0]:Hn.value():Hn)})}),ai(["pop","push","shift","sort","splice","unshift"],function(_){var A=st[_],re=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",Pe=/^(?:pop|shift)$/.test(_);it.prototype[_]=function(){var Ye=arguments;if(Pe&&!this.__chain__){var ot=this.value();return A.apply(is(ot)?ot:[],Ye)}return this[re](function(Tt){return A.apply(is(Tt)?Tt:[],Ye)})}}),wt(Fn.prototype,function(_,A){var re=it[A];if(re){var Pe=re.name+"";ri.call(xh,Pe)||(xh[Pe]=[]),xh[Pe].push({name:A,func:re})}}),xh[wn(s,M).name]=[{name:"wrapper",func:s}],Fn.prototype.clone=Nm,Fn.prototype.reverse=Ip,Fn.prototype.value=jm,it.prototype.at=rb,it.prototype.chain=bg,it.prototype.commit=ob,it.prototype.next=wg,it.prototype.plant=E0,it.prototype.reverse=ab,it.prototype.toJSON=it.prototype.valueOf=it.prototype.value=lb,it.prototype.first=it.prototype.head,rs&&(it.prototype[rs]=Sg),it},mo=Yh();le?((le.exports=mo)._=mo,U._=mo):Er._=mo}).call(ta)})(dv,dv.exports);var ek=dv.exports;const Uv=uh(ek);var O5={exports:{}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(e){(function(t,s){e.exports=t.document?s(t,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return s(a)}})(typeof window<"u"?window:ta,function(t,s){var a=[],c=Object.getPrototypeOf,d=a.slice,m=a.flat?function(U){return a.flat.call(U)}:function(U){return a.concat.apply([],U)},n=a.push,S=a.indexOf,z={},Z=z.toString,O=z.hasOwnProperty,H=O.toString,q=H.call(Object),L={},R=function(le){return typeof le=="function"&&typeof le.nodeType!="number"&&typeof le.item!="function"},$=function(le){return le!=null&&le===le.window},M=t.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function k(U,le,ve){ve=ve||M;var Ae,Ue,$e=ve.createElement("script");if($e.text=U,le)for(Ae in E)Ue=le[Ae]||le.getAttribute&&le.getAttribute(Ae),Ue&&$e.setAttribute(Ae,Ue);ve.head.appendChild($e).parentNode.removeChild($e)}function V(U){return U==null?U+"":typeof U=="object"||typeof U=="function"?z[Z.call(U)]||"object":typeof U}var G="3.6.3",C=function(U,le){return new C.fn.init(U,le)};C.fn=C.prototype={jquery:G,constructor:C,length:0,toArray:function(){return d.call(this)},get:function(U){return U==null?d.call(this):U<0?this[U+this.length]:this[U]},pushStack:function(U){var le=C.merge(this.constructor(),U);return le.prevObject=this,le},each:function(U){return C.each(this,U)},map:function(U){return this.pushStack(C.map(this,function(le,ve){return U.call(le,ve,le)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(U,le){return(le+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(U,le){return le%2}))},eq:function(U){var le=this.length,ve=+U+(U<0?le:0);return this.pushStack(ve>=0&&ve<le?[this[ve]]:[])},end:function(){return this.prevObject||this.constructor()},push:n,sort:a.sort,splice:a.splice},C.extend=C.fn.extend=function(){var U,le,ve,Ae,Ue,$e,Ke=arguments[0]||{},Dt=1,St=arguments.length,Xt=!1;for(typeof Ke=="boolean"&&(Xt=Ke,Ke=arguments[Dt]||{},Dt++),typeof Ke!="object"&&!R(Ke)&&(Ke={}),Dt===St&&(Ke=this,Dt--);Dt<St;Dt++)if((U=arguments[Dt])!=null)for(le in U)Ae=U[le],!(le==="__proto__"||Ke===Ae)&&(Xt&&Ae&&(C.isPlainObject(Ae)||(Ue=Array.isArray(Ae)))?(ve=Ke[le],Ue&&!Array.isArray(ve)?$e=[]:!Ue&&!C.isPlainObject(ve)?$e={}:$e=ve,Ue=!1,Ke[le]=C.extend(Xt,$e,Ae)):Ae!==void 0&&(Ke[le]=Ae));return Ke},C.extend({expando:"jQuery"+(G+Math.random()).replace(/\D/g,""),isReady:!0,error:function(U){throw new Error(U)},noop:function(){},isPlainObject:function(U){var le,ve;return!U||Z.call(U)!=="[object Object]"?!1:(le=c(U),le?(ve=O.call(le,"constructor")&&le.constructor,typeof ve=="function"&&H.call(ve)===q):!0)},isEmptyObject:function(U){var le;for(le in U)return!1;return!0},globalEval:function(U,le,ve){k(U,{nonce:le&&le.nonce},ve)},each:function(U,le){var ve,Ae=0;if(te(U))for(ve=U.length;Ae<ve&&le.call(U[Ae],Ae,U[Ae])!==!1;Ae++);else for(Ae in U)if(le.call(U[Ae],Ae,U[Ae])===!1)break;return U},makeArray:function(U,le){var ve=le||[];return U!=null&&(te(Object(U))?C.merge(ve,typeof U=="string"?[U]:U):n.call(ve,U)),ve},inArray:function(U,le,ve){return le==null?-1:S.call(le,U,ve)},merge:function(U,le){for(var ve=+le.length,Ae=0,Ue=U.length;Ae<ve;Ae++)U[Ue++]=le[Ae];return U.length=Ue,U},grep:function(U,le,ve){for(var Ae,Ue=[],$e=0,Ke=U.length,Dt=!ve;$e<Ke;$e++)Ae=!le(U[$e],$e),Ae!==Dt&&Ue.push(U[$e]);return Ue},map:function(U,le,ve){var Ae,Ue,$e=0,Ke=[];if(te(U))for(Ae=U.length;$e<Ae;$e++)Ue=le(U[$e],$e,ve),Ue!=null&&Ke.push(Ue);else for($e in U)Ue=le(U[$e],$e,ve),Ue!=null&&Ke.push(Ue);return m(Ke)},guid:1,support:L}),typeof Symbol=="function"&&(C.fn[Symbol.iterator]=a[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(U,le){z["[object "+le+"]"]=le.toLowerCase()});function te(U){var le=!!U&&"length"in U&&U.length,ve=V(U);return R(U)||$(U)?!1:ve==="array"||le===0||typeof le=="number"&&le>0&&le-1 in U}var Q=function(U){var le,ve,Ae,Ue,$e,Ke,Dt,St,Xt,hi,Si,ni,ai,Gi,On,sn,qs,Ls,Jn,Qn="sizzle"+1*new Date,Ln=U.document,Lr=0,ts=0,Os=fo(),ha=fo(),pl=fo(),Or=fo(),wo=function(st,Et){return st===Et&&(Si=!0),0},Bn={}.hasOwnProperty,$r=[],So=$r.pop,lo=$r.push,Ro=$r.push,fl=$r.slice,Ta=function(st,Et){for(var Bt=0,_i=st.length;Bt<_i;Bt++)if(st[Bt]===Et)return Bt;return-1},Vc="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ws="[\\x20\\t\\r\\n\\f]",Bo="(?:\\\\[\\da-fA-F]{1,6}"+ws+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",pc="\\["+ws+"*("+Bo+")(?:"+ws+"*([*^$|!~]?=)"+ws+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Bo+"))|)"+ws+"*\\]",ml=":("+Bo+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+pc+")*)|.*)\\)|)",co=new RegExp(ws+"+","g"),gl=new RegExp("^"+ws+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ws+"+$","g"),zl=new RegExp("^"+ws+"*,"+ws+"*"),yh=new RegExp("^"+ws+"*([>+~]|"+ws+")"+ws+"*"),_l=new RegExp(ws+"|>"),yl=new RegExp(ml),$h=new RegExp("^"+Bo+"$"),vl={ID:new RegExp("^#("+Bo+")"),CLASS:new RegExp("^\\.("+Bo+")"),TAG:new RegExp("^("+Bo+"|[*])"),ATTR:new RegExp("^"+pc),PSEUDO:new RegExp("^"+ml),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ws+"*(even|odd|(([+-]|)(\\d*)n|)"+ws+"*(?:([+-]|)"+ws+"*(\\d+)|))"+ws+"*\\)|)","i"),bool:new RegExp("^(?:"+Vc+")$","i"),needsContext:new RegExp("^"+ws+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ws+"*((?:-\\d)?\\d*)"+ws+"*\\)|)(?=[^-]|$)","i")},vh=/HTML$/i,Ho=/^(?:input|select|textarea|button)$/i,Wo=/^h\d$/i,xl=/^[^{]+\{\s*\[native \w/,$c=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Fl=/[+~]/,To=new RegExp("\\\\[\\da-fA-F]{1,6}"+ws+"?|\\\\([^\\r\\n\\f])","g"),Hr=function(st,Et){var Bt="0x"+st.slice(1)-65536;return Et||(Bt<0?String.fromCharCode(Bt+65536):String.fromCharCode(Bt>>10|55296,Bt&1023|56320))},ja=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,bl=function(st,Et){return Et?st==="\0"?"�":st.slice(0,-1)+"\\"+st.charCodeAt(st.length-1).toString(16)+" ":"\\"+st},Nl=function(){ni()},Ed=zn(function(st){return st.disabled===!0&&st.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Ro.apply($r=fl.call(Ln.childNodes),Ln.childNodes),$r[Ln.childNodes.length].nodeType}catch{Ro={apply:$r.length?function(Et,Bt){lo.apply(Et,fl.call(Bt))}:function(Et,Bt){for(var _i=Et.length,Ut=0;Et[_i++]=Bt[Ut++];);Et.length=_i-1}}}function ss(st,Et,Bt,_i){var Ut,ri,Mi,qi,Ii,Tn,An,Pn=Et&&Et.ownerDocument,Gn=Et?Et.nodeType:9;if(Bt=Bt||[],typeof st!="string"||!st||Gn!==1&&Gn!==9&&Gn!==11)return Bt;if(!_i&&(ni(Et),Et=Et||ai,On)){if(Gn!==11&&(Ii=$c.exec(st)))if(Ut=Ii[1]){if(Gn===9)if(Mi=Et.getElementById(Ut)){if(Mi.id===Ut)return Bt.push(Mi),Bt}else return Bt;else if(Pn&&(Mi=Pn.getElementById(Ut))&&Jn(Et,Mi)&&Mi.id===Ut)return Bt.push(Mi),Bt}else{if(Ii[2])return Ro.apply(Bt,Et.getElementsByTagName(st)),Bt;if((Ut=Ii[3])&&ve.getElementsByClassName&&Et.getElementsByClassName)return Ro.apply(Bt,Et.getElementsByClassName(Ut)),Bt}if(ve.qsa&&!Or[st+" "]&&(!sn||!sn.test(st))&&(Gn!==1||Et.nodeName.toLowerCase()!=="object")){if(An=st,Pn=Et,Gn===1&&(_l.test(st)||yh.test(st))){for(Pn=Fl.test(st)&&gi(Et.parentNode)||Et,(Pn!==Et||!ve.scope)&&((qi=Et.getAttribute("id"))?qi=qi.replace(ja,bl):Et.setAttribute("id",qi=Qn)),Tn=Ke(st),ri=Tn.length;ri--;)Tn[ri]=(qi?"#"+qi:":scope")+" "+rn(Tn[ri]);An=Tn.join(",")}try{if(ve.cssSupportsSelector&&!CSS.supports("selector(:is("+An+"))"))throw new Error;return Ro.apply(Bt,Pn.querySelectorAll(An)),Bt}catch{Or(st,!0)}finally{qi===Qn&&Et.removeAttribute("id")}}}return St(st.replace(gl,"$1"),Et,Bt,_i)}function fo(){var st=[];function Et(Bt,_i){return st.push(Bt+" ")>Ae.cacheLength&&delete Et[st.shift()],Et[Bt+" "]=_i}return Et}function Wr(st){return st[Qn]=!0,st}function Eo(st){var Et=ai.createElement("fieldset");try{return!!st(Et)}catch{return!1}finally{Et.parentNode&&Et.parentNode.removeChild(Et),Et=null}}function Ua(st,Et){for(var Bt=st.split("|"),_i=Bt.length;_i--;)Ae.attrHandle[Bt[_i]]=Et}function Hh(st,Et){var Bt=Et&&st,_i=Bt&&st.nodeType===1&&Et.nodeType===1&&st.sourceIndex-Et.sourceIndex;if(_i)return _i;if(Bt){for(;Bt=Bt.nextSibling;)if(Bt===Et)return-1}return st?1:-1}function Wh(st){return function(Et){var Bt=Et.nodeName.toLowerCase();return Bt==="input"&&Et.type===st}}function Yh(st){return function(Et){var Bt=Et.nodeName.toLowerCase();return(Bt==="input"||Bt==="button")&&Et.type===st}}function mo(st){return function(Et){return"form"in Et?Et.parentNode&&Et.disabled===!1?"label"in Et?"label"in Et.parentNode?Et.parentNode.disabled===st:Et.disabled===st:Et.isDisabled===st||Et.isDisabled!==!st&&Ed(Et)===st:Et.disabled===st:"label"in Et?Et.disabled===st:!1}}function jt(st){return Wr(function(Et){return Et=+Et,Wr(function(Bt,_i){for(var Ut,ri=st([],Bt.length,Et),Mi=ri.length;Mi--;)Bt[Ut=ri[Mi]]&&(Bt[Ut]=!(_i[Ut]=Bt[Ut]))})})}function gi(st){return st&&typeof st.getElementsByTagName<"u"&&st}ve=ss.support={},$e=ss.isXML=function(st){var Et=st&&st.namespaceURI,Bt=st&&(st.ownerDocument||st).documentElement;return!vh.test(Et||Bt&&Bt.nodeName||"HTML")},ni=ss.setDocument=function(st){var Et,Bt,_i=st?st.ownerDocument||st:Ln;return _i==ai||_i.nodeType!==9||!_i.documentElement||(ai=_i,Gi=ai.documentElement,On=!$e(ai),Ln!=ai&&(Bt=ai.defaultView)&&Bt.top!==Bt&&(Bt.addEventListener?Bt.addEventListener("unload",Nl,!1):Bt.attachEvent&&Bt.attachEvent("onunload",Nl)),ve.scope=Eo(function(Ut){return Gi.appendChild(Ut).appendChild(ai.createElement("div")),typeof Ut.querySelectorAll<"u"&&!Ut.querySelectorAll(":scope fieldset div").length}),ve.cssSupportsSelector=Eo(function(){return CSS.supports("selector(*)")&&ai.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),ve.attributes=Eo(function(Ut){return Ut.className="i",!Ut.getAttribute("className")}),ve.getElementsByTagName=Eo(function(Ut){return Ut.appendChild(ai.createComment("")),!Ut.getElementsByTagName("*").length}),ve.getElementsByClassName=xl.test(ai.getElementsByClassName),ve.getById=Eo(function(Ut){return Gi.appendChild(Ut).id=Qn,!ai.getElementsByName||!ai.getElementsByName(Qn).length}),ve.getById?(Ae.filter.ID=function(Ut){var ri=Ut.replace(To,Hr);return function(Mi){return Mi.getAttribute("id")===ri}},Ae.find.ID=function(Ut,ri){if(typeof ri.getElementById<"u"&&On){var Mi=ri.getElementById(Ut);return Mi?[Mi]:[]}}):(Ae.filter.ID=function(Ut){var ri=Ut.replace(To,Hr);return function(Mi){var qi=typeof Mi.getAttributeNode<"u"&&Mi.getAttributeNode("id");return qi&&qi.value===ri}},Ae.find.ID=function(Ut,ri){if(typeof ri.getElementById<"u"&&On){var Mi,qi,Ii,Tn=ri.getElementById(Ut);if(Tn){if(Mi=Tn.getAttributeNode("id"),Mi&&Mi.value===Ut)return[Tn];for(Ii=ri.getElementsByName(Ut),qi=0;Tn=Ii[qi++];)if(Mi=Tn.getAttributeNode("id"),Mi&&Mi.value===Ut)return[Tn]}return[]}}),Ae.find.TAG=ve.getElementsByTagName?function(Ut,ri){if(typeof ri.getElementsByTagName<"u")return ri.getElementsByTagName(Ut);if(ve.qsa)return ri.querySelectorAll(Ut)}:function(Ut,ri){var Mi,qi=[],Ii=0,Tn=ri.getElementsByTagName(Ut);if(Ut==="*"){for(;Mi=Tn[Ii++];)Mi.nodeType===1&&qi.push(Mi);return qi}return Tn},Ae.find.CLASS=ve.getElementsByClassName&&function(Ut,ri){if(typeof ri.getElementsByClassName<"u"&&On)return ri.getElementsByClassName(Ut)},qs=[],sn=[],(ve.qsa=xl.test(ai.querySelectorAll))&&(Eo(function(Ut){var ri;Gi.appendChild(Ut).innerHTML="<a id='"+Qn+"'></a><select id='"+Qn+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ut.querySelectorAll("[msallowcapture^='']").length&&sn.push("[*^$]="+ws+`*(?:''|"")`),Ut.querySelectorAll("[selected]").length||sn.push("\\["+ws+"*(?:value|"+Vc+")"),Ut.querySelectorAll("[id~="+Qn+"-]").length||sn.push("~="),ri=ai.createElement("input"),ri.setAttribute("name",""),Ut.appendChild(ri),Ut.querySelectorAll("[name='']").length||sn.push("\\["+ws+"*name"+ws+"*="+ws+`*(?:''|"")`),Ut.querySelectorAll(":checked").length||sn.push(":checked"),Ut.querySelectorAll("a#"+Qn+"+*").length||sn.push(".#.+[+~]"),Ut.querySelectorAll("\\\f"),sn.push("[\\r\\n\\f]")}),Eo(function(Ut){Ut.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var ri=ai.createElement("input");ri.setAttribute("type","hidden"),Ut.appendChild(ri).setAttribute("name","D"),Ut.querySelectorAll("[name=d]").length&&sn.push("name"+ws+"*[*^$|!~]?="),Ut.querySelectorAll(":enabled").length!==2&&sn.push(":enabled",":disabled"),Gi.appendChild(Ut).disabled=!0,Ut.querySelectorAll(":disabled").length!==2&&sn.push(":enabled",":disabled"),Ut.querySelectorAll("*,:x"),sn.push(",.*:")})),(ve.matchesSelector=xl.test(Ls=Gi.matches||Gi.webkitMatchesSelector||Gi.mozMatchesSelector||Gi.oMatchesSelector||Gi.msMatchesSelector))&&Eo(function(Ut){ve.disconnectedMatch=Ls.call(Ut,"*"),Ls.call(Ut,"[s!='']:x"),qs.push("!=",ml)}),ve.cssSupportsSelector||sn.push(":has"),sn=sn.length&&new RegExp(sn.join("|")),qs=qs.length&&new RegExp(qs.join("|")),Et=xl.test(Gi.compareDocumentPosition),Jn=Et||xl.test(Gi.contains)?function(Ut,ri){var Mi=Ut.nodeType===9&&Ut.documentElement||Ut,qi=ri&&ri.parentNode;return Ut===qi||!!(qi&&qi.nodeType===1&&(Mi.contains?Mi.contains(qi):Ut.compareDocumentPosition&&Ut.compareDocumentPosition(qi)&16))}:function(Ut,ri){if(ri){for(;ri=ri.parentNode;)if(ri===Ut)return!0}return!1},wo=Et?function(Ut,ri){if(Ut===ri)return Si=!0,0;var Mi=!Ut.compareDocumentPosition-!ri.compareDocumentPosition;return Mi||(Mi=(Ut.ownerDocument||Ut)==(ri.ownerDocument||ri)?Ut.compareDocumentPosition(ri):1,Mi&1||!ve.sortDetached&&ri.compareDocumentPosition(Ut)===Mi?Ut==ai||Ut.ownerDocument==Ln&&Jn(Ln,Ut)?-1:ri==ai||ri.ownerDocument==Ln&&Jn(Ln,ri)?1:hi?Ta(hi,Ut)-Ta(hi,ri):0:Mi&4?-1:1)}:function(Ut,ri){if(Ut===ri)return Si=!0,0;var Mi,qi=0,Ii=Ut.parentNode,Tn=ri.parentNode,An=[Ut],Pn=[ri];if(!Ii||!Tn)return Ut==ai?-1:ri==ai?1:Ii?-1:Tn?1:hi?Ta(hi,Ut)-Ta(hi,ri):0;if(Ii===Tn)return Hh(Ut,ri);for(Mi=Ut;Mi=Mi.parentNode;)An.unshift(Mi);for(Mi=ri;Mi=Mi.parentNode;)Pn.unshift(Mi);for(;An[qi]===Pn[qi];)qi++;return qi?Hh(An[qi],Pn[qi]):An[qi]==Ln?-1:Pn[qi]==Ln?1:0}),ai},ss.matches=function(st,Et){return ss(st,null,null,Et)},ss.matchesSelector=function(st,Et){if(ni(st),ve.matchesSelector&&On&&!Or[Et+" "]&&(!qs||!qs.test(Et))&&(!sn||!sn.test(Et)))try{var Bt=Ls.call(st,Et);if(Bt||ve.disconnectedMatch||st.document&&st.document.nodeType!==11)return Bt}catch{Or(Et,!0)}return ss(Et,ai,null,[st]).length>0},ss.contains=function(st,Et){return(st.ownerDocument||st)!=ai&&ni(st),Jn(st,Et)},ss.attr=function(st,Et){(st.ownerDocument||st)!=ai&&ni(st);var Bt=Ae.attrHandle[Et.toLowerCase()],_i=Bt&&Bn.call(Ae.attrHandle,Et.toLowerCase())?Bt(st,Et,!On):void 0;return _i!==void 0?_i:ve.attributes||!On?st.getAttribute(Et):(_i=st.getAttributeNode(Et))&&_i.specified?_i.value:null},ss.escape=function(st){return(st+"").replace(ja,bl)},ss.error=function(st){throw new Error("Syntax error, unrecognized expression: "+st)},ss.uniqueSort=function(st){var Et,Bt=[],_i=0,Ut=0;if(Si=!ve.detectDuplicates,hi=!ve.sortStable&&st.slice(0),st.sort(wo),Si){for(;Et=st[Ut++];)Et===st[Ut]&&(_i=Bt.push(Ut));for(;_i--;)st.splice(Bt[_i],1)}return hi=null,st},Ue=ss.getText=function(st){var Et,Bt="",_i=0,Ut=st.nodeType;if(Ut){if(Ut===1||Ut===9||Ut===11){if(typeof st.textContent=="string")return st.textContent;for(st=st.firstChild;st;st=st.nextSibling)Bt+=Ue(st)}else if(Ut===3||Ut===4)return st.nodeValue}else for(;Et=st[_i++];)Bt+=Ue(Et);return Bt},Ae=ss.selectors={cacheLength:50,createPseudo:Wr,match:vl,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(st){return st[1]=st[1].replace(To,Hr),st[3]=(st[3]||st[4]||st[5]||"").replace(To,Hr),st[2]==="~="&&(st[3]=" "+st[3]+" "),st.slice(0,4)},CHILD:function(st){return st[1]=st[1].toLowerCase(),st[1].slice(0,3)==="nth"?(st[3]||ss.error(st[0]),st[4]=+(st[4]?st[5]+(st[6]||1):2*(st[3]==="even"||st[3]==="odd")),st[5]=+(st[7]+st[8]||st[3]==="odd")):st[3]&&ss.error(st[0]),st},PSEUDO:function(st){var Et,Bt=!st[6]&&st[2];return vl.CHILD.test(st[0])?null:(st[3]?st[2]=st[4]||st[5]||"":Bt&&yl.test(Bt)&&(Et=Ke(Bt,!0))&&(Et=Bt.indexOf(")",Bt.length-Et)-Bt.length)&&(st[0]=st[0].slice(0,Et),st[2]=Bt.slice(0,Et)),st.slice(0,3))}},filter:{TAG:function(st){var Et=st.replace(To,Hr).toLowerCase();return st==="*"?function(){return!0}:function(Bt){return Bt.nodeName&&Bt.nodeName.toLowerCase()===Et}},CLASS:function(st){var Et=Os[st+" "];return Et||(Et=new RegExp("(^|"+ws+")"+st+"("+ws+"|$)"))&&Os(st,function(Bt){return Et.test(typeof Bt.className=="string"&&Bt.className||typeof Bt.getAttribute<"u"&&Bt.getAttribute("class")||"")})},ATTR:function(st,Et,Bt){return function(_i){var Ut=ss.attr(_i,st);return Ut==null?Et==="!=":Et?(Ut+="",Et==="="?Ut===Bt:Et==="!="?Ut!==Bt:Et==="^="?Bt&&Ut.indexOf(Bt)===0:Et==="*="?Bt&&Ut.indexOf(Bt)>-1:Et==="$="?Bt&&Ut.slice(-Bt.length)===Bt:Et==="~="?(" "+Ut.replace(co," ")+" ").indexOf(Bt)>-1:Et==="|="?Ut===Bt||Ut.slice(0,Bt.length+1)===Bt+"-":!1):!0}},CHILD:function(st,Et,Bt,_i,Ut){var ri=st.slice(0,3)!=="nth",Mi=st.slice(-4)!=="last",qi=Et==="of-type";return _i===1&&Ut===0?function(Ii){return!!Ii.parentNode}:function(Ii,Tn,An){var Pn,Gn,ls,bn,xe,Se,Ve=ri!==Mi?"nextSibling":"previousSibling",yt=Ii.parentNode,bi=qi&&Ii.nodeName.toLowerCase(),un=!An&&!qi,rs=!1;if(yt){if(ri){for(;Ve;){for(bn=Ii;bn=bn[Ve];)if(qi?bn.nodeName.toLowerCase()===bi:bn.nodeType===1)return!1;Se=Ve=st==="only"&&!Se&&"nextSibling"}return!0}if(Se=[Mi?yt.firstChild:yt.lastChild],Mi&&un){for(bn=yt,ls=bn[Qn]||(bn[Qn]={}),Gn=ls[bn.uniqueID]||(ls[bn.uniqueID]={}),Pn=Gn[st]||[],xe=Pn[0]===Lr&&Pn[1],rs=xe&&Pn[2],bn=xe&&yt.childNodes[xe];bn=++xe&&bn&&bn[Ve]||(rs=xe=0)||Se.pop();)if(bn.nodeType===1&&++rs&&bn===Ii){Gn[st]=[Lr,xe,rs];break}}else if(un&&(bn=Ii,ls=bn[Qn]||(bn[Qn]={}),Gn=ls[bn.uniqueID]||(ls[bn.uniqueID]={}),Pn=Gn[st]||[],xe=Pn[0]===Lr&&Pn[1],rs=xe),rs===!1)for(;(bn=++xe&&bn&&bn[Ve]||(rs=xe=0)||Se.pop())&&!((qi?bn.nodeName.toLowerCase()===bi:bn.nodeType===1)&&++rs&&(un&&(ls=bn[Qn]||(bn[Qn]={}),Gn=ls[bn.uniqueID]||(ls[bn.uniqueID]={}),Gn[st]=[Lr,rs]),bn===Ii)););return rs-=Ut,rs===_i||rs%_i===0&&rs/_i>=0}}},PSEUDO:function(st,Et){var Bt,_i=Ae.pseudos[st]||Ae.setFilters[st.toLowerCase()]||ss.error("unsupported pseudo: "+st);return _i[Qn]?_i(Et):_i.length>1?(Bt=[st,st,"",Et],Ae.setFilters.hasOwnProperty(st.toLowerCase())?Wr(function(Ut,ri){for(var Mi,qi=_i(Ut,Et),Ii=qi.length;Ii--;)Mi=Ta(Ut,qi[Ii]),Ut[Mi]=!(ri[Mi]=qi[Ii])}):function(Ut){return _i(Ut,0,Bt)}):_i}},pseudos:{not:Wr(function(st){var Et=[],Bt=[],_i=Dt(st.replace(gl,"$1"));return _i[Qn]?Wr(function(Ut,ri,Mi,qi){for(var Ii,Tn=_i(Ut,null,qi,[]),An=Ut.length;An--;)(Ii=Tn[An])&&(Ut[An]=!(ri[An]=Ii))}):function(Ut,ri,Mi){return Et[0]=Ut,_i(Et,null,Mi,Bt),Et[0]=null,!Bt.pop()}}),has:Wr(function(st){return function(Et){return ss(st,Et).length>0}}),contains:Wr(function(st){return st=st.replace(To,Hr),function(Et){return(Et.textContent||Ue(Et)).indexOf(st)>-1}}),lang:Wr(function(st){return $h.test(st||"")||ss.error("unsupported lang: "+st),st=st.replace(To,Hr).toLowerCase(),function(Et){var Bt;do if(Bt=On?Et.lang:Et.getAttribute("xml:lang")||Et.getAttribute("lang"))return Bt=Bt.toLowerCase(),Bt===st||Bt.indexOf(st+"-")===0;while((Et=Et.parentNode)&&Et.nodeType===1);return!1}}),target:function(st){var Et=U.location&&U.location.hash;return Et&&Et.slice(1)===st.id},root:function(st){return st===Gi},focus:function(st){return st===ai.activeElement&&(!ai.hasFocus||ai.hasFocus())&&!!(st.type||st.href||~st.tabIndex)},enabled:mo(!1),disabled:mo(!0),checked:function(st){var Et=st.nodeName.toLowerCase();return Et==="input"&&!!st.checked||Et==="option"&&!!st.selected},selected:function(st){return st.parentNode&&st.parentNode.selectedIndex,st.selected===!0},empty:function(st){for(st=st.firstChild;st;st=st.nextSibling)if(st.nodeType<6)return!1;return!0},parent:function(st){return!Ae.pseudos.empty(st)},header:function(st){return Wo.test(st.nodeName)},input:function(st){return Ho.test(st.nodeName)},button:function(st){var Et=st.nodeName.toLowerCase();return Et==="input"&&st.type==="button"||Et==="button"},text:function(st){var Et;return st.nodeName.toLowerCase()==="input"&&st.type==="text"&&((Et=st.getAttribute("type"))==null||Et.toLowerCase()==="text")},first:jt(function(){return[0]}),last:jt(function(st,Et){return[Et-1]}),eq:jt(function(st,Et,Bt){return[Bt<0?Bt+Et:Bt]}),even:jt(function(st,Et){for(var Bt=0;Bt<Et;Bt+=2)st.push(Bt);return st}),odd:jt(function(st,Et){for(var Bt=1;Bt<Et;Bt+=2)st.push(Bt);return st}),lt:jt(function(st,Et,Bt){for(var _i=Bt<0?Bt+Et:Bt>Et?Et:Bt;--_i>=0;)st.push(_i);return st}),gt:jt(function(st,Et,Bt){for(var _i=Bt<0?Bt+Et:Bt;++_i<Et;)st.push(_i);return st})}},Ae.pseudos.nth=Ae.pseudos.eq;for(le in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ae.pseudos[le]=Wh(le);for(le in{submit:!0,reset:!0})Ae.pseudos[le]=Yh(le);function li(){}li.prototype=Ae.filters=Ae.pseudos,Ae.setFilters=new li,Ke=ss.tokenize=function(st,Et){var Bt,_i,Ut,ri,Mi,qi,Ii,Tn=ha[st+" "];if(Tn)return Et?0:Tn.slice(0);for(Mi=st,qi=[],Ii=Ae.preFilter;Mi;){(!Bt||(_i=zl.exec(Mi)))&&(_i&&(Mi=Mi.slice(_i[0].length)||Mi),qi.push(Ut=[])),Bt=!1,(_i=yh.exec(Mi))&&(Bt=_i.shift(),Ut.push({value:Bt,type:_i[0].replace(gl," ")}),Mi=Mi.slice(Bt.length));for(ri in Ae.filter)(_i=vl[ri].exec(Mi))&&(!Ii[ri]||(_i=Ii[ri](_i)))&&(Bt=_i.shift(),Ut.push({value:Bt,type:ri,matches:_i}),Mi=Mi.slice(Bt.length));if(!Bt)break}return Et?Mi.length:Mi?ss.error(st):ha(st,qi).slice(0)};function rn(st){for(var Et=0,Bt=st.length,_i="";Et<Bt;Et++)_i+=st[Et].value;return _i}function zn(st,Et,Bt){var _i=Et.dir,Ut=Et.next,ri=Ut||_i,Mi=Bt&&ri==="parentNode",qi=ts++;return Et.first?function(Ii,Tn,An){for(;Ii=Ii[_i];)if(Ii.nodeType===1||Mi)return st(Ii,Tn,An);return!1}:function(Ii,Tn,An){var Pn,Gn,ls,bn=[Lr,qi];if(An){for(;Ii=Ii[_i];)if((Ii.nodeType===1||Mi)&&st(Ii,Tn,An))return!0}else for(;Ii=Ii[_i];)if(Ii.nodeType===1||Mi)if(ls=Ii[Qn]||(Ii[Qn]={}),Gn=ls[Ii.uniqueID]||(ls[Ii.uniqueID]={}),Ut&&Ut===Ii.nodeName.toLowerCase())Ii=Ii[_i]||Ii;else{if((Pn=Gn[ri])&&Pn[0]===Lr&&Pn[1]===qi)return bn[2]=Pn[2];if(Gn[ri]=bn,bn[2]=st(Ii,Tn,An))return!0}return!1}}function _s(st){return st.length>1?function(Et,Bt,_i){for(var Ut=st.length;Ut--;)if(!st[Ut](Et,Bt,_i))return!1;return!0}:st[0]}function yr(st,Et,Bt){for(var _i=0,Ut=Et.length;_i<Ut;_i++)ss(st,Et[_i],Bt);return Bt}function Ss(st,Et,Bt,_i,Ut){for(var ri,Mi=[],qi=0,Ii=st.length,Tn=Et!=null;qi<Ii;qi++)(ri=st[qi])&&(!Bt||Bt(ri,_i,Ut))&&(Mi.push(ri),Tn&&Et.push(qi));return Mi}function jl(st,Et,Bt,_i,Ut,ri){return _i&&!_i[Qn]&&(_i=jl(_i)),Ut&&!Ut[Qn]&&(Ut=jl(Ut,ri)),Wr(function(Mi,qi,Ii,Tn){var An,Pn,Gn,ls=[],bn=[],xe=qi.length,Se=Mi||yr(Et||"*",Ii.nodeType?[Ii]:Ii,[]),Ve=st&&(Mi||!Et)?Ss(Se,ls,st,Ii,Tn):Se,yt=Bt?Ut||(Mi?st:xe||_i)?[]:qi:Ve;if(Bt&&Bt(Ve,yt,Ii,Tn),_i)for(An=Ss(yt,bn),_i(An,[],Ii,Tn),Pn=An.length;Pn--;)(Gn=An[Pn])&&(yt[bn[Pn]]=!(Ve[bn[Pn]]=Gn));if(Mi){if(Ut||st){if(Ut){for(An=[],Pn=yt.length;Pn--;)(Gn=yt[Pn])&&An.push(Ve[Pn]=Gn);Ut(null,yt=[],An,Tn)}for(Pn=yt.length;Pn--;)(Gn=yt[Pn])&&(An=Ut?Ta(Mi,Gn):ls[Pn])>-1&&(Mi[An]=!(qi[An]=Gn))}}else yt=Ss(yt===qi?yt.splice(xe,yt.length):yt),Ut?Ut(null,qi,yt,Tn):Ro.apply(qi,yt)})}function Hc(st){for(var Et,Bt,_i,Ut=st.length,ri=Ae.relative[st[0].type],Mi=ri||Ae.relative[" "],qi=ri?1:0,Ii=zn(function(Pn){return Pn===Et},Mi,!0),Tn=zn(function(Pn){return Ta(Et,Pn)>-1},Mi,!0),An=[function(Pn,Gn,ls){var bn=!ri&&(ls||Gn!==Xt)||((Et=Gn).nodeType?Ii(Pn,Gn,ls):Tn(Pn,Gn,ls));return Et=null,bn}];qi<Ut;qi++)if(Bt=Ae.relative[st[qi].type])An=[zn(_s(An),Bt)];else{if(Bt=Ae.filter[st[qi].type].apply(null,st[qi].matches),Bt[Qn]){for(_i=++qi;_i<Ut&&!Ae.relative[st[_i].type];_i++);return jl(qi>1&&_s(An),qi>1&&rn(st.slice(0,qi-1).concat({value:st[qi-2].type===" "?"*":""})).replace(gl,"$1"),Bt,qi<_i&&Hc(st.slice(qi,_i)),_i<Ut&&Hc(st=st.slice(_i)),_i<Ut&&rn(st))}An.push(Bt)}return _s(An)}function go(st,Et){var Bt=Et.length>0,_i=st.length>0,Ut=function(ri,Mi,qi,Ii,Tn){var An,Pn,Gn,ls=0,bn="0",xe=ri&&[],Se=[],Ve=Xt,yt=ri||_i&&Ae.find.TAG("*",Tn),bi=Lr+=Ve==null?1:Math.random()||.1,un=yt.length;for(Tn&&(Xt=Mi==ai||Mi||Tn);bn!==un&&(An=yt[bn])!=null;bn++){if(_i&&An){for(Pn=0,!Mi&&An.ownerDocument!=ai&&(ni(An),qi=!On);Gn=st[Pn++];)if(Gn(An,Mi||ai,qi)){Ii.push(An);break}Tn&&(Lr=bi)}Bt&&((An=!Gn&&An)&&ls--,ri&&xe.push(An))}if(ls+=bn,Bt&&bn!==ls){for(Pn=0;Gn=Et[Pn++];)Gn(xe,Se,Mi,qi);if(ri){if(ls>0)for(;bn--;)xe[bn]||Se[bn]||(Se[bn]=So.call(Ii));Se=Ss(Se)}Ro.apply(Ii,Se),Tn&&!ri&&Se.length>0&&ls+Et.length>1&&ss.uniqueSort(Ii)}return Tn&&(Lr=bi,Xt=Ve),xe};return Bt?Wr(Ut):Ut}return Dt=ss.compile=function(st,Et){var Bt,_i=[],Ut=[],ri=pl[st+" "];if(!ri){for(Et||(Et=Ke(st)),Bt=Et.length;Bt--;)ri=Hc(Et[Bt]),ri[Qn]?_i.push(ri):Ut.push(ri);ri=pl(st,go(Ut,_i)),ri.selector=st}return ri},St=ss.select=function(st,Et,Bt,_i){var Ut,ri,Mi,qi,Ii,Tn=typeof st=="function"&&st,An=!_i&&Ke(st=Tn.selector||st);if(Bt=Bt||[],An.length===1){if(ri=An[0]=An[0].slice(0),ri.length>2&&(Mi=ri[0]).type==="ID"&&Et.nodeType===9&&On&&Ae.relative[ri[1].type]){if(Et=(Ae.find.ID(Mi.matches[0].replace(To,Hr),Et)||[])[0],Et)Tn&&(Et=Et.parentNode);else return Bt;st=st.slice(ri.shift().value.length)}for(Ut=vl.needsContext.test(st)?0:ri.length;Ut--&&(Mi=ri[Ut],!Ae.relative[qi=Mi.type]);)if((Ii=Ae.find[qi])&&(_i=Ii(Mi.matches[0].replace(To,Hr),Fl.test(ri[0].type)&&gi(Et.parentNode)||Et))){if(ri.splice(Ut,1),st=_i.length&&rn(ri),!st)return Ro.apply(Bt,_i),Bt;break}}return(Tn||Dt(st,An))(_i,Et,!On,Bt,!Et||Fl.test(st)&&gi(Et.parentNode)||Et),Bt},ve.sortStable=Qn.split("").sort(wo).join("")===Qn,ve.detectDuplicates=!!Si,ni(),ve.sortDetached=Eo(function(st){return st.compareDocumentPosition(ai.createElement("fieldset"))&1}),Eo(function(st){return st.innerHTML="<a href='#'></a>",st.firstChild.getAttribute("href")==="#"})||Ua("type|href|height|width",function(st,Et,Bt){if(!Bt)return st.getAttribute(Et,Et.toLowerCase()==="type"?1:2)}),(!ve.attributes||!Eo(function(st){return st.innerHTML="<input/>",st.firstChild.setAttribute("value",""),st.firstChild.getAttribute("value")===""}))&&Ua("value",function(st,Et,Bt){if(!Bt&&st.nodeName.toLowerCase()==="input")return st.defaultValue}),Eo(function(st){return st.getAttribute("disabled")==null})||Ua(Vc,function(st,Et,Bt){var _i;if(!Bt)return st[Et]===!0?Et.toLowerCase():(_i=st.getAttributeNode(Et))&&_i.specified?_i.value:null}),ss}(t);C.find=Q,C.expr=Q.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=Q.uniqueSort,C.text=Q.getText,C.isXMLDoc=Q.isXML,C.contains=Q.contains,C.escapeSelector=Q.escape;var N=function(U,le,ve){for(var Ae=[],Ue=ve!==void 0;(U=U[le])&&U.nodeType!==9;)if(U.nodeType===1){if(Ue&&C(U).is(ve))break;Ae.push(U)}return Ae},j=function(U,le){for(var ve=[];U;U=U.nextSibling)U.nodeType===1&&U!==le&&ve.push(U);return ve},W=C.expr.match.needsContext;function w(U,le){return U.nodeName&&U.nodeName.toLowerCase()===le.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function f(U,le,ve){return R(le)?C.grep(U,function(Ae,Ue){return!!le.call(Ae,Ue,Ae)!==ve}):le.nodeType?C.grep(U,function(Ae){return Ae===le!==ve}):typeof le!="string"?C.grep(U,function(Ae){return S.call(le,Ae)>-1!==ve}):C.filter(le,U,ve)}C.filter=function(U,le,ve){var Ae=le[0];return ve&&(U=":not("+U+")"),le.length===1&&Ae.nodeType===1?C.find.matchesSelector(Ae,U)?[Ae]:[]:C.find.matches(U,C.grep(le,function(Ue){return Ue.nodeType===1}))},C.fn.extend({find:function(U){var le,ve,Ae=this.length,Ue=this;if(typeof U!="string")return this.pushStack(C(U).filter(function(){for(le=0;le<Ae;le++)if(C.contains(Ue[le],this))return!0}));for(ve=this.pushStack([]),le=0;le<Ae;le++)C.find(U,Ue[le],ve);return Ae>1?C.uniqueSort(ve):ve},filter:function(U){return this.pushStack(f(this,U||[],!1))},not:function(U){return this.pushStack(f(this,U||[],!0))},is:function(U){return!!f(this,typeof U=="string"&&W.test(U)?C(U):U||[],!1).length}});var g,x=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,P=C.fn.init=function(U,le,ve){var Ae,Ue;if(!U)return this;if(ve=ve||g,typeof U=="string")if(U[0]==="<"&&U[U.length-1]===">"&&U.length>=3?Ae=[null,U,null]:Ae=x.exec(U),Ae&&(Ae[1]||!le))if(Ae[1]){if(le=le instanceof C?le[0]:le,C.merge(this,C.parseHTML(Ae[1],le&&le.nodeType?le.ownerDocument||le:M,!0)),D.test(Ae[1])&&C.isPlainObject(le))for(Ae in le)R(this[Ae])?this[Ae](le[Ae]):this.attr(Ae,le[Ae]);return this}else return Ue=M.getElementById(Ae[2]),Ue&&(this[0]=Ue,this.length=1),this;else return!le||le.jquery?(le||ve).find(U):this.constructor(le).find(U);else{if(U.nodeType)return this[0]=U,this.length=1,this;if(R(U))return ve.ready!==void 0?ve.ready(U):U(C)}return C.makeArray(U,this)};P.prototype=C.fn,g=C(M);var Y=/^(?:parents|prev(?:Until|All))/,ee={children:!0,contents:!0,next:!0,prev:!0};C.fn.extend({has:function(U){var le=C(U,this),ve=le.length;return this.filter(function(){for(var Ae=0;Ae<ve;Ae++)if(C.contains(this,le[Ae]))return!0})},closest:function(U,le){var ve,Ae=0,Ue=this.length,$e=[],Ke=typeof U!="string"&&C(U);if(!W.test(U)){for(;Ae<Ue;Ae++)for(ve=this[Ae];ve&&ve!==le;ve=ve.parentNode)if(ve.nodeType<11&&(Ke?Ke.index(ve)>-1:ve.nodeType===1&&C.find.matchesSelector(ve,U))){$e.push(ve);break}}return this.pushStack($e.length>1?C.uniqueSort($e):$e)},index:function(U){return U?typeof U=="string"?S.call(C(U),this[0]):S.call(this,U.jquery?U[0]:U):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(U,le){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(U,le))))},addBack:function(U){return this.add(U==null?this.prevObject:this.prevObject.filter(U))}});function K(U,le){for(;(U=U[le])&&U.nodeType!==1;);return U}C.each({parent:function(U){var le=U.parentNode;return le&&le.nodeType!==11?le:null},parents:function(U){return N(U,"parentNode")},parentsUntil:function(U,le,ve){return N(U,"parentNode",ve)},next:function(U){return K(U,"nextSibling")},prev:function(U){return K(U,"previousSibling")},nextAll:function(U){return N(U,"nextSibling")},prevAll:function(U){return N(U,"previousSibling")},nextUntil:function(U,le,ve){return N(U,"nextSibling",ve)},prevUntil:function(U,le,ve){return N(U,"previousSibling",ve)},siblings:function(U){return j((U.parentNode||{}).firstChild,U)},children:function(U){return j(U.firstChild)},contents:function(U){return U.contentDocument!=null&&c(U.contentDocument)?U.contentDocument:(w(U,"template")&&(U=U.content||U),C.merge([],U.childNodes))}},function(U,le){C.fn[U]=function(ve,Ae){var Ue=C.map(this,le,ve);return U.slice(-5)!=="Until"&&(Ae=ve),Ae&&typeof Ae=="string"&&(Ue=C.filter(Ae,Ue)),this.length>1&&(ee[U]||C.uniqueSort(Ue),Y.test(U)&&Ue.reverse()),this.pushStack(Ue)}});var he=/[^\x20\t\r\n\f]+/g;function ge(U){var le={};return C.each(U.match(he)||[],function(ve,Ae){le[Ae]=!0}),le}C.Callbacks=function(U){U=typeof U=="string"?ge(U):C.extend({},U);var le,ve,Ae,Ue,$e=[],Ke=[],Dt=-1,St=function(){for(Ue=Ue||U.once,Ae=le=!0;Ke.length;Dt=-1)for(ve=Ke.shift();++Dt<$e.length;)$e[Dt].apply(ve[0],ve[1])===!1&&U.stopOnFalse&&(Dt=$e.length,ve=!1);U.memory||(ve=!1),le=!1,Ue&&(ve?$e=[]:$e="")},Xt={add:function(){return $e&&(ve&&!le&&(Dt=$e.length-1,Ke.push(ve)),function hi(Si){C.each(Si,function(ni,ai){R(ai)?(!U.unique||!Xt.has(ai))&&$e.push(ai):ai&&ai.length&&V(ai)!=="string"&&hi(ai)})}(arguments),ve&&!le&&St()),this},remove:function(){return C.each(arguments,function(hi,Si){for(var ni;(ni=C.inArray(Si,$e,ni))>-1;)$e.splice(ni,1),ni<=Dt&&Dt--}),this},has:function(hi){return hi?C.inArray(hi,$e)>-1:$e.length>0},empty:function(){return $e&&($e=[]),this},disable:function(){return Ue=Ke=[],$e=ve="",this},disabled:function(){return!$e},lock:function(){return Ue=Ke=[],!ve&&!le&&($e=ve=""),this},locked:function(){return!!Ue},fireWith:function(hi,Si){return Ue||(Si=Si||[],Si=[hi,Si.slice?Si.slice():Si],Ke.push(Si),le||St()),this},fire:function(){return Xt.fireWith(this,arguments),this},fired:function(){return!!Ae}};return Xt};function Ee(U){return U}function J(U){throw U}function oe(U,le,ve,Ae){var Ue;try{U&&R(Ue=U.promise)?Ue.call(U).done(le).fail(ve):U&&R(Ue=U.then)?Ue.call(U,le,ve):le.apply(void 0,[U].slice(Ae))}catch($e){ve.apply(void 0,[$e])}}C.extend({Deferred:function(U){var le=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],ve="pending",Ae={state:function(){return ve},always:function(){return Ue.done(arguments).fail(arguments),this},catch:function($e){return Ae.then(null,$e)},pipe:function(){var $e=arguments;return C.Deferred(function(Ke){C.each(le,function(Dt,St){var Xt=R($e[St[4]])&&$e[St[4]];Ue[St[1]](function(){var hi=Xt&&Xt.apply(this,arguments);hi&&R(hi.promise)?hi.promise().progress(Ke.notify).done(Ke.resolve).fail(Ke.reject):Ke[St[0]+"With"](this,Xt?[hi]:arguments)})}),$e=null}).promise()},then:function($e,Ke,Dt){var St=0;function Xt(hi,Si,ni,ai){return function(){var Gi=this,On=arguments,sn=function(){var Ls,Jn;if(!(hi<St)){if(Ls=ni.apply(Gi,On),Ls===Si.promise())throw new TypeError("Thenable self-resolution");Jn=Ls&&(typeof Ls=="object"||typeof Ls=="function")&&Ls.then,R(Jn)?ai?Jn.call(Ls,Xt(St,Si,Ee,ai),Xt(St,Si,J,ai)):(St++,Jn.call(Ls,Xt(St,Si,Ee,ai),Xt(St,Si,J,ai),Xt(St,Si,Ee,Si.notifyWith))):(ni!==Ee&&(Gi=void 0,On=[Ls]),(ai||Si.resolveWith)(Gi,On))}},qs=ai?sn:function(){try{sn()}catch(Ls){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(Ls,qs.stackTrace),hi+1>=St&&(ni!==J&&(Gi=void 0,On=[Ls]),Si.rejectWith(Gi,On))}};hi?qs():(C.Deferred.getStackHook&&(qs.stackTrace=C.Deferred.getStackHook()),t.setTimeout(qs))}}return C.Deferred(function(hi){le[0][3].add(Xt(0,hi,R(Dt)?Dt:Ee,hi.notifyWith)),le[1][3].add(Xt(0,hi,R($e)?$e:Ee)),le[2][3].add(Xt(0,hi,R(Ke)?Ke:J))}).promise()},promise:function($e){return $e!=null?C.extend($e,Ae):Ae}},Ue={};return C.each(le,function($e,Ke){var Dt=Ke[2],St=Ke[5];Ae[Ke[1]]=Dt.add,St&&Dt.add(function(){ve=St},le[3-$e][2].disable,le[3-$e][3].disable,le[0][2].lock,le[0][3].lock),Dt.add(Ke[3].fire),Ue[Ke[0]]=function(){return Ue[Ke[0]+"With"](this===Ue?void 0:this,arguments),this},Ue[Ke[0]+"With"]=Dt.fireWith}),Ae.promise(Ue),U&&U.call(Ue,Ue),Ue},when:function(U){var le=arguments.length,ve=le,Ae=Array(ve),Ue=d.call(arguments),$e=C.Deferred(),Ke=function(Dt){return function(St){Ae[Dt]=this,Ue[Dt]=arguments.length>1?d.call(arguments):St,--le||$e.resolveWith(Ae,Ue)}};if(le<=1&&(oe(U,$e.done(Ke(ve)).resolve,$e.reject,!le),$e.state()==="pending"||R(Ue[ve]&&Ue[ve].then)))return $e.then();for(;ve--;)oe(Ue[ve],Ke(ve),$e.reject);return $e.promise()}});var ce=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(U,le){t.console&&t.console.warn&&U&&ce.test(U.name)&&t.console.warn("jQuery.Deferred exception: "+U.message,U.stack,le)},C.readyException=function(U){t.setTimeout(function(){throw U})};var pe=C.Deferred();C.fn.ready=function(U){return pe.then(U).catch(function(le){C.readyException(le)}),this},C.extend({isReady:!1,readyWait:1,ready:function(U){(U===!0?--C.readyWait:C.isReady)||(C.isReady=!0,!(U!==!0&&--C.readyWait>0)&&pe.resolveWith(M,[C]))}}),C.ready.then=pe.then;function Ce(){M.removeEventListener("DOMContentLoaded",Ce),t.removeEventListener("load",Ce),C.ready()}M.readyState==="complete"||M.readyState!=="loading"&&!M.documentElement.doScroll?t.setTimeout(C.ready):(M.addEventListener("DOMContentLoaded",Ce),t.addEventListener("load",Ce));var ne=function(U,le,ve,Ae,Ue,$e,Ke){var Dt=0,St=U.length,Xt=ve==null;if(V(ve)==="object"){Ue=!0;for(Dt in ve)ne(U,le,Dt,ve[Dt],!0,$e,Ke)}else if(Ae!==void 0&&(Ue=!0,R(Ae)||(Ke=!0),Xt&&(Ke?(le.call(U,Ae),le=null):(Xt=le,le=function(hi,Si,ni){return Xt.call(C(hi),ni)})),le))for(;Dt<St;Dt++)le(U[Dt],ve,Ke?Ae:Ae.call(U[Dt],Dt,le(U[Dt],ve)));return Ue?U:Xt?le.call(U):St?le(U[0],ve):$e},ye=/^-ms-/,_e=/-([a-z])/g;function ae(U,le){return le.toUpperCase()}function me(U){return U.replace(ye,"ms-").replace(_e,ae)}var we=function(U){return U.nodeType===1||U.nodeType===9||!+U.nodeType};function Re(){this.expando=C.expando+Re.uid++}Re.uid=1,Re.prototype={cache:function(U){var le=U[this.expando];return le||(le={},we(U)&&(U.nodeType?U[this.expando]=le:Object.defineProperty(U,this.expando,{value:le,configurable:!0}))),le},set:function(U,le,ve){var Ae,Ue=this.cache(U);if(typeof le=="string")Ue[me(le)]=ve;else for(Ae in le)Ue[me(Ae)]=le[Ae];return Ue},get:function(U,le){return le===void 0?this.cache(U):U[this.expando]&&U[this.expando][me(le)]},access:function(U,le,ve){return le===void 0||le&&typeof le=="string"&&ve===void 0?this.get(U,le):(this.set(U,le,ve),ve!==void 0?ve:le)},remove:function(U,le){var ve,Ae=U[this.expando];if(Ae!==void 0){if(le!==void 0)for(Array.isArray(le)?le=le.map(me):(le=me(le),le=le in Ae?[le]:le.match(he)||[]),ve=le.length;ve--;)delete Ae[le[ve]];(le===void 0||C.isEmptyObject(Ae))&&(U.nodeType?U[this.expando]=void 0:delete U[this.expando])}},hasData:function(U){var le=U[this.expando];return le!==void 0&&!C.isEmptyObject(le)}};var Le=new Re,Ge=new Re,rt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Qe=/[A-Z]/g;function qe(U){return U==="true"?!0:U==="false"?!1:U==="null"?null:U===+U+""?+U:rt.test(U)?JSON.parse(U):U}function Te(U,le,ve){var Ae;if(ve===void 0&&U.nodeType===1)if(Ae="data-"+le.replace(Qe,"-$&").toLowerCase(),ve=U.getAttribute(Ae),typeof ve=="string"){try{ve=qe(ve)}catch{}Ge.set(U,le,ve)}else ve=void 0;return ve}C.extend({hasData:function(U){return Ge.hasData(U)||Le.hasData(U)},data:function(U,le,ve){return Ge.access(U,le,ve)},removeData:function(U,le){Ge.remove(U,le)},_data:function(U,le,ve){return Le.access(U,le,ve)},_removeData:function(U,le){Le.remove(U,le)}}),C.fn.extend({data:function(U,le){var ve,Ae,Ue,$e=this[0],Ke=$e&&$e.attributes;if(U===void 0){if(this.length&&(Ue=Ge.get($e),$e.nodeType===1&&!Le.get($e,"hasDataAttrs"))){for(ve=Ke.length;ve--;)Ke[ve]&&(Ae=Ke[ve].name,Ae.indexOf("data-")===0&&(Ae=me(Ae.slice(5)),Te($e,Ae,Ue[Ae])));Le.set($e,"hasDataAttrs",!0)}return Ue}return typeof U=="object"?this.each(function(){Ge.set(this,U)}):ne(this,function(Dt){var St;if($e&&Dt===void 0)return St=Ge.get($e,U),St!==void 0||(St=Te($e,U),St!==void 0)?St:void 0;this.each(function(){Ge.set(this,U,Dt)})},null,le,arguments.length>1,null,!0)},removeData:function(U){return this.each(function(){Ge.remove(this,U)})}}),C.extend({queue:function(U,le,ve){var Ae;if(U)return le=(le||"fx")+"queue",Ae=Le.get(U,le),ve&&(!Ae||Array.isArray(ve)?Ae=Le.access(U,le,C.makeArray(ve)):Ae.push(ve)),Ae||[]},dequeue:function(U,le){le=le||"fx";var ve=C.queue(U,le),Ae=ve.length,Ue=ve.shift(),$e=C._queueHooks(U,le),Ke=function(){C.dequeue(U,le)};Ue==="inprogress"&&(Ue=ve.shift(),Ae--),Ue&&(le==="fx"&&ve.unshift("inprogress"),delete $e.stop,Ue.call(U,Ke,$e)),!Ae&&$e&&$e.empty.fire()},_queueHooks:function(U,le){var ve=le+"queueHooks";return Le.get(U,ve)||Le.access(U,ve,{empty:C.Callbacks("once memory").add(function(){Le.remove(U,[le+"queue",ve])})})}}),C.fn.extend({queue:function(U,le){var ve=2;return typeof U!="string"&&(le=U,U="fx",ve--),arguments.length<ve?C.queue(this[0],U):le===void 0?this:this.each(function(){var Ae=C.queue(this,U,le);C._queueHooks(this,U),U==="fx"&&Ae[0]!=="inprogress"&&C.dequeue(this,U)})},dequeue:function(U){return this.each(function(){C.dequeue(this,U)})},clearQueue:function(U){return this.queue(U||"fx",[])},promise:function(U,le){var ve,Ae=1,Ue=C.Deferred(),$e=this,Ke=this.length,Dt=function(){--Ae||Ue.resolveWith($e,[$e])};for(typeof U!="string"&&(le=U,U=void 0),U=U||"fx";Ke--;)ve=Le.get($e[Ke],U+"queueHooks"),ve&&ve.empty&&(Ae++,ve.empty.add(Dt));return Dt(),Ue.promise(le)}});var Oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ze=new RegExp("^(?:([+-])=|)("+Oe+")([a-z%]*)$","i"),Xe=["Top","Right","Bottom","Left"],Je=M.documentElement,pt=function(U){return C.contains(U.ownerDocument,U)},bt={composed:!0};Je.getRootNode&&(pt=function(U){return C.contains(U.ownerDocument,U)||U.getRootNode(bt)===U.ownerDocument});var It=function(U,le){return U=le||U,U.style.display==="none"||U.style.display===""&&pt(U)&&C.css(U,"display")==="none"};function ui(U,le,ve,Ae){var Ue,$e,Ke=20,Dt=Ae?function(){return Ae.cur()}:function(){return C.css(U,le,"")},St=Dt(),Xt=ve&&ve[3]||(C.cssNumber[le]?"":"px"),hi=U.nodeType&&(C.cssNumber[le]||Xt!=="px"&&+St)&&ze.exec(C.css(U,le));if(hi&&hi[3]!==Xt){for(St=St/2,Xt=Xt||hi[3],hi=+St||1;Ke--;)C.style(U,le,hi+Xt),(1-$e)*(1-($e=Dt()/St||.5))<=0&&(Ke=0),hi=hi/$e;hi=hi*2,C.style(U,le,hi+Xt),ve=ve||[]}return ve&&(hi=+hi||+St||0,Ue=ve[1]?hi+(ve[1]+1)*ve[2]:+ve[2],Ae&&(Ae.unit=Xt,Ae.start=hi,Ae.end=Ue)),Ue}var Ht={};function di(U){var le,ve=U.ownerDocument,Ae=U.nodeName,Ue=Ht[Ae];return Ue||(le=ve.body.appendChild(ve.createElement(Ae)),Ue=C.css(le,"display"),le.parentNode.removeChild(le),Ue==="none"&&(Ue="block"),Ht[Ae]=Ue,Ue)}function Ui(U,le){for(var ve,Ae,Ue=[],$e=0,Ke=U.length;$e<Ke;$e++)Ae=U[$e],Ae.style&&(ve=Ae.style.display,le?(ve==="none"&&(Ue[$e]=Le.get(Ae,"display")||null,Ue[$e]||(Ae.style.display="")),Ae.style.display===""&&It(Ae)&&(Ue[$e]=di(Ae))):ve!=="none"&&(Ue[$e]="none",Le.set(Ae,"display",ve)));for($e=0;$e<Ke;$e++)Ue[$e]!=null&&(U[$e].style.display=Ue[$e]);return U}C.fn.extend({show:function(){return Ui(this,!0)},hide:function(){return Ui(this)},toggle:function(U){return typeof U=="boolean"?U?this.show():this.hide():this.each(function(){It(this)?C(this).show():C(this).hide()})}});var zi=/^(?:checkbox|radio)$/i,Ei=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Di=/^$|^module$|\/(?:java|ecma)script/i;(function(){var U=M.createDocumentFragment(),le=U.appendChild(M.createElement("div")),ve=M.createElement("input");ve.setAttribute("type","radio"),ve.setAttribute("checked","checked"),ve.setAttribute("name","t"),le.appendChild(ve),L.checkClone=le.cloneNode(!0).cloneNode(!0).lastChild.checked,le.innerHTML="<textarea>x</textarea>",L.noCloneChecked=!!le.cloneNode(!0).lastChild.defaultValue,le.innerHTML="<option></option>",L.option=!!le.lastChild})();var dn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};dn.tbody=dn.tfoot=dn.colgroup=dn.caption=dn.thead,dn.th=dn.td,L.option||(dn.optgroup=dn.option=[1,"<select multiple='multiple'>","</select>"]);function Sn(U,le){var ve;return typeof U.getElementsByTagName<"u"?ve=U.getElementsByTagName(le||"*"):typeof U.querySelectorAll<"u"?ve=U.querySelectorAll(le||"*"):ve=[],le===void 0||le&&w(U,le)?C.merge([U],ve):ve}function Zn(U,le){for(var ve=0,Ae=U.length;ve<Ae;ve++)Le.set(U[ve],"globalEval",!le||Le.get(le[ve],"globalEval"))}var kr=/<|&#?\w+;/;function ms(U,le,ve,Ae,Ue){for(var $e,Ke,Dt,St,Xt,hi,Si=le.createDocumentFragment(),ni=[],ai=0,Gi=U.length;ai<Gi;ai++)if($e=U[ai],$e||$e===0)if(V($e)==="object")C.merge(ni,$e.nodeType?[$e]:$e);else if(!kr.test($e))ni.push(le.createTextNode($e));else{for(Ke=Ke||Si.appendChild(le.createElement("div")),Dt=(Ei.exec($e)||["",""])[1].toLowerCase(),St=dn[Dt]||dn._default,Ke.innerHTML=St[1]+C.htmlPrefilter($e)+St[2],hi=St[0];hi--;)Ke=Ke.lastChild;C.merge(ni,Ke.childNodes),Ke=Si.firstChild,Ke.textContent=""}for(Si.textContent="",ai=0;$e=ni[ai++];){if(Ae&&C.inArray($e,Ae)>-1){Ue&&Ue.push($e);continue}if(Xt=pt($e),Ke=Sn(Si.appendChild($e),"script"),Xt&&Zn(Ke),ve)for(hi=0;$e=Ke[hi++];)Di.test($e.type||"")&&ve.push($e)}return Si}var zs=/^([^.]*)(?:\.(.+)|)/;function tn(){return!0}function xa(){return!1}function Ol(U,le){return U===al()==(le==="focus")}function al(){try{return M.activeElement}catch{}}function Oa(U,le,ve,Ae,Ue,$e){var Ke,Dt;if(typeof le=="object"){typeof ve!="string"&&(Ae=Ae||ve,ve=void 0);for(Dt in le)Oa(U,Dt,ve,Ae,le[Dt],$e);return U}if(Ae==null&&Ue==null?(Ue=ve,Ae=ve=void 0):Ue==null&&(typeof ve=="string"?(Ue=Ae,Ae=void 0):(Ue=Ae,Ae=ve,ve=void 0)),Ue===!1)Ue=xa;else if(!Ue)return U;return $e===1&&(Ke=Ue,Ue=function(St){return C().off(St),Ke.apply(this,arguments)},Ue.guid=Ke.guid||(Ke.guid=C.guid++)),U.each(function(){C.event.add(this,le,Ue,Ae,ve)})}C.event={global:{},add:function(U,le,ve,Ae,Ue){var $e,Ke,Dt,St,Xt,hi,Si,ni,ai,Gi,On,sn=Le.get(U);if(we(U))for(ve.handler&&($e=ve,ve=$e.handler,Ue=$e.selector),Ue&&C.find.matchesSelector(Je,Ue),ve.guid||(ve.guid=C.guid++),(St=sn.events)||(St=sn.events=Object.create(null)),(Ke=sn.handle)||(Ke=sn.handle=function(qs){return typeof C<"u"&&C.event.triggered!==qs.type?C.event.dispatch.apply(U,arguments):void 0}),le=(le||"").match(he)||[""],Xt=le.length;Xt--;)Dt=zs.exec(le[Xt])||[],ai=On=Dt[1],Gi=(Dt[2]||"").split(".").sort(),ai&&(Si=C.event.special[ai]||{},ai=(Ue?Si.delegateType:Si.bindType)||ai,Si=C.event.special[ai]||{},hi=C.extend({type:ai,origType:On,data:Ae,handler:ve,guid:ve.guid,selector:Ue,needsContext:Ue&&C.expr.match.needsContext.test(Ue),namespace:Gi.join(".")},$e),(ni=St[ai])||(ni=St[ai]=[],ni.delegateCount=0,(!Si.setup||Si.setup.call(U,Ae,Gi,Ke)===!1)&&U.addEventListener&&U.addEventListener(ai,Ke)),Si.add&&(Si.add.call(U,hi),hi.handler.guid||(hi.handler.guid=ve.guid)),Ue?ni.splice(ni.delegateCount++,0,hi):ni.push(hi),C.event.global[ai]=!0)},remove:function(U,le,ve,Ae,Ue){var $e,Ke,Dt,St,Xt,hi,Si,ni,ai,Gi,On,sn=Le.hasData(U)&&Le.get(U);if(!(!sn||!(St=sn.events))){for(le=(le||"").match(he)||[""],Xt=le.length;Xt--;){if(Dt=zs.exec(le[Xt])||[],ai=On=Dt[1],Gi=(Dt[2]||"").split(".").sort(),!ai){for(ai in St)C.event.remove(U,ai+le[Xt],ve,Ae,!0);continue}for(Si=C.event.special[ai]||{},ai=(Ae?Si.delegateType:Si.bindType)||ai,ni=St[ai]||[],Dt=Dt[2]&&new RegExp("(^|\\.)"+Gi.join("\\.(?:.*\\.|)")+"(\\.|$)"),Ke=$e=ni.length;$e--;)hi=ni[$e],(Ue||On===hi.origType)&&(!ve||ve.guid===hi.guid)&&(!Dt||Dt.test(hi.namespace))&&(!Ae||Ae===hi.selector||Ae==="**"&&hi.selector)&&(ni.splice($e,1),hi.selector&&ni.delegateCount--,Si.remove&&Si.remove.call(U,hi));Ke&&!ni.length&&((!Si.teardown||Si.teardown.call(U,Gi,sn.handle)===!1)&&C.removeEvent(U,ai,sn.handle),delete St[ai])}C.isEmptyObject(St)&&Le.remove(U,"handle events")}},dispatch:function(U){var le,ve,Ae,Ue,$e,Ke,Dt=new Array(arguments.length),St=C.event.fix(U),Xt=(Le.get(this,"events")||Object.create(null))[St.type]||[],hi=C.event.special[St.type]||{};for(Dt[0]=St,le=1;le<arguments.length;le++)Dt[le]=arguments[le];if(St.delegateTarget=this,!(hi.preDispatch&&hi.preDispatch.call(this,St)===!1)){for(Ke=C.event.handlers.call(this,St,Xt),le=0;(Ue=Ke[le++])&&!St.isPropagationStopped();)for(St.currentTarget=Ue.elem,ve=0;($e=Ue.handlers[ve++])&&!St.isImmediatePropagationStopped();)(!St.rnamespace||$e.namespace===!1||St.rnamespace.test($e.namespace))&&(St.handleObj=$e,St.data=$e.data,Ae=((C.event.special[$e.origType]||{}).handle||$e.handler).apply(Ue.elem,Dt),Ae!==void 0&&(St.result=Ae)===!1&&(St.preventDefault(),St.stopPropagation()));return hi.postDispatch&&hi.postDispatch.call(this,St),St.result}},handlers:function(U,le){var ve,Ae,Ue,$e,Ke,Dt=[],St=le.delegateCount,Xt=U.target;if(St&&Xt.nodeType&&!(U.type==="click"&&U.button>=1)){for(;Xt!==this;Xt=Xt.parentNode||this)if(Xt.nodeType===1&&!(U.type==="click"&&Xt.disabled===!0)){for($e=[],Ke={},ve=0;ve<St;ve++)Ae=le[ve],Ue=Ae.selector+" ",Ke[Ue]===void 0&&(Ke[Ue]=Ae.needsContext?C(Ue,this).index(Xt)>-1:C.find(Ue,this,null,[Xt]).length),Ke[Ue]&&$e.push(Ae);$e.length&&Dt.push({elem:Xt,handlers:$e})}}return Xt=this,St<le.length&&Dt.push({elem:Xt,handlers:le.slice(St)}),Dt},addProp:function(U,le){Object.defineProperty(C.Event.prototype,U,{enumerable:!0,configurable:!0,get:R(le)?function(){if(this.originalEvent)return le(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[U]},set:function(ve){Object.defineProperty(this,U,{enumerable:!0,configurable:!0,writable:!0,value:ve})}})},fix:function(U){return U[C.expando]?U:new C.Event(U)},special:{load:{noBubble:!0},click:{setup:function(U){var le=this||U;return zi.test(le.type)&&le.click&&w(le,"input")&&_r(le,"click",tn),!1},trigger:function(U){var le=this||U;return zi.test(le.type)&&le.click&&w(le,"input")&&_r(le,"click"),!0},_default:function(U){var le=U.target;return zi.test(le.type)&&le.click&&w(le,"input")&&Le.get(le,"click")||w(le,"a")}},beforeunload:{postDispatch:function(U){U.result!==void 0&&U.originalEvent&&(U.originalEvent.returnValue=U.result)}}}};function _r(U,le,ve){if(!ve){Le.get(U,le)===void 0&&C.event.add(U,le,tn);return}Le.set(U,le,!1),C.event.add(U,le,{namespace:!1,handler:function(Ae){var Ue,$e,Ke=Le.get(this,le);if(Ae.isTrigger&1&&this[le]){if(Ke.length)(C.event.special[le]||{}).delegateType&&Ae.stopPropagation();else if(Ke=d.call(arguments),Le.set(this,le,Ke),Ue=ve(this,le),this[le](),$e=Le.get(this,le),Ke!==$e||Ue?Le.set(this,le,!1):$e={},Ke!==$e)return Ae.stopImmediatePropagation(),Ae.preventDefault(),$e&&$e.value}else Ke.length&&(Le.set(this,le,{value:C.event.trigger(C.extend(Ke[0],C.Event.prototype),Ke.slice(1),this)}),Ae.stopImmediatePropagation())}})}C.removeEvent=function(U,le,ve){U.removeEventListener&&U.removeEventListener(le,ve)},C.Event=function(U,le){if(!(this instanceof C.Event))return new C.Event(U,le);U&&U.type?(this.originalEvent=U,this.type=U.type,this.isDefaultPrevented=U.defaultPrevented||U.defaultPrevented===void 0&&U.returnValue===!1?tn:xa,this.target=U.target&&U.target.nodeType===3?U.target.parentNode:U.target,this.currentTarget=U.currentTarget,this.relatedTarget=U.relatedTarget):this.type=U,le&&C.extend(this,le),this.timeStamp=U&&U.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:xa,isPropagationStopped:xa,isImmediatePropagationStopped:xa,isSimulated:!1,preventDefault:function(){var U=this.originalEvent;this.isDefaultPrevented=tn,U&&!this.isSimulated&&U.preventDefault()},stopPropagation:function(){var U=this.originalEvent;this.isPropagationStopped=tn,U&&!this.isSimulated&&U.stopPropagation()},stopImmediatePropagation:function(){var U=this.originalEvent;this.isImmediatePropagationStopped=tn,U&&!this.isSimulated&&U.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(U,le){C.event.special[U]={setup:function(){return _r(this,U,Ol),!1},trigger:function(){return _r(this,U),!0},_default:function(ve){return Le.get(ve.target,U)},delegateType:le}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(U,le){C.event.special[U]={delegateType:le,bindType:le,handle:function(ve){var Ae,Ue=this,$e=ve.relatedTarget,Ke=ve.handleObj;return(!$e||$e!==Ue&&!C.contains(Ue,$e))&&(ve.type=Ke.origType,Ae=Ke.handler.apply(this,arguments),ve.type=le),Ae}}}),C.fn.extend({on:function(U,le,ve,Ae){return Oa(this,U,le,ve,Ae)},one:function(U,le,ve,Ae){return Oa(this,U,le,ve,Ae,1)},off:function(U,le,ve){var Ae,Ue;if(U&&U.preventDefault&&U.handleObj)return Ae=U.handleObj,C(U.delegateTarget).off(Ae.namespace?Ae.origType+"."+Ae.namespace:Ae.origType,Ae.selector,Ae.handler),this;if(typeof U=="object"){for(Ue in U)this.off(Ue,le,U[Ue]);return this}return(le===!1||typeof le=="function")&&(ve=le,le=void 0),ve===!1&&(ve=xa),this.each(function(){C.event.remove(this,U,ve,le)})}});var Ra=/<script|<style|<link/i,lc=/checked\s*(?:[^=]|=\s*.checked.)/i,ut=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Fe(U,le){return w(U,"table")&&w(le.nodeType!==11?le:le.firstChild,"tr")&&C(U).children("tbody")[0]||U}function We(U){return U.type=(U.getAttribute("type")!==null)+"/"+U.type,U}function ht(U){return(U.type||"").slice(0,5)==="true/"?U.type=U.type.slice(5):U.removeAttribute("type"),U}function _t(U,le){var ve,Ae,Ue,$e,Ke,Dt,St;if(le.nodeType===1){if(Le.hasData(U)&&($e=Le.get(U),St=$e.events,St)){Le.remove(le,"handle events");for(Ue in St)for(ve=0,Ae=St[Ue].length;ve<Ae;ve++)C.event.add(le,Ue,St[Ue][ve])}Ge.hasData(U)&&(Ke=Ge.access(U),Dt=C.extend({},Ke),Ge.set(le,Dt))}}function Pt(U,le){var ve=le.nodeName.toLowerCase();ve==="input"&&zi.test(U.type)?le.checked=U.checked:(ve==="input"||ve==="textarea")&&(le.defaultValue=U.defaultValue)}function Nt(U,le,ve,Ae){le=m(le);var Ue,$e,Ke,Dt,St,Xt,hi=0,Si=U.length,ni=Si-1,ai=le[0],Gi=R(ai);if(Gi||Si>1&&typeof ai=="string"&&!L.checkClone&&lc.test(ai))return U.each(function(On){var sn=U.eq(On);Gi&&(le[0]=ai.call(this,On,sn.html())),Nt(sn,le,ve,Ae)});if(Si&&(Ue=ms(le,U[0].ownerDocument,!1,U,Ae),$e=Ue.firstChild,Ue.childNodes.length===1&&(Ue=$e),$e||Ae)){for(Ke=C.map(Sn(Ue,"script"),We),Dt=Ke.length;hi<Si;hi++)St=Ue,hi!==ni&&(St=C.clone(St,!0,!0),Dt&&C.merge(Ke,Sn(St,"script"))),ve.call(U[hi],St,hi);if(Dt)for(Xt=Ke[Ke.length-1].ownerDocument,C.map(Ke,ht),hi=0;hi<Dt;hi++)St=Ke[hi],Di.test(St.type||"")&&!Le.access(St,"globalEval")&&C.contains(Xt,St)&&(St.src&&(St.type||"").toLowerCase()!=="module"?C._evalUrl&&!St.noModule&&C._evalUrl(St.src,{nonce:St.nonce||St.getAttribute("nonce")},Xt):k(St.textContent.replace(ut,""),St,Xt))}return U}function Vt(U,le,ve){for(var Ae,Ue=le?C.filter(le,U):U,$e=0;(Ae=Ue[$e])!=null;$e++)!ve&&Ae.nodeType===1&&C.cleanData(Sn(Ae)),Ae.parentNode&&(ve&&pt(Ae)&&Zn(Sn(Ae,"script")),Ae.parentNode.removeChild(Ae));return U}C.extend({htmlPrefilter:function(U){return U},clone:function(U,le,ve){var Ae,Ue,$e,Ke,Dt=U.cloneNode(!0),St=pt(U);if(!L.noCloneChecked&&(U.nodeType===1||U.nodeType===11)&&!C.isXMLDoc(U))for(Ke=Sn(Dt),$e=Sn(U),Ae=0,Ue=$e.length;Ae<Ue;Ae++)Pt($e[Ae],Ke[Ae]);if(le)if(ve)for($e=$e||Sn(U),Ke=Ke||Sn(Dt),Ae=0,Ue=$e.length;Ae<Ue;Ae++)_t($e[Ae],Ke[Ae]);else _t(U,Dt);return Ke=Sn(Dt,"script"),Ke.length>0&&Zn(Ke,!St&&Sn(U,"script")),Dt},cleanData:function(U){for(var le,ve,Ae,Ue=C.event.special,$e=0;(ve=U[$e])!==void 0;$e++)if(we(ve)){if(le=ve[Le.expando]){if(le.events)for(Ae in le.events)Ue[Ae]?C.event.remove(ve,Ae):C.removeEvent(ve,Ae,le.handle);ve[Le.expando]=void 0}ve[Ge.expando]&&(ve[Ge.expando]=void 0)}}}),C.fn.extend({detach:function(U){return Vt(this,U,!0)},remove:function(U){return Vt(this,U)},text:function(U){return ne(this,function(le){return le===void 0?C.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=le)})},null,U,arguments.length)},append:function(){return Nt(this,arguments,function(U){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var le=Fe(this,U);le.appendChild(U)}})},prepend:function(){return Nt(this,arguments,function(U){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var le=Fe(this,U);le.insertBefore(U,le.firstChild)}})},before:function(){return Nt(this,arguments,function(U){this.parentNode&&this.parentNode.insertBefore(U,this)})},after:function(){return Nt(this,arguments,function(U){this.parentNode&&this.parentNode.insertBefore(U,this.nextSibling)})},empty:function(){for(var U,le=0;(U=this[le])!=null;le++)U.nodeType===1&&(C.cleanData(Sn(U,!1)),U.textContent="");return this},clone:function(U,le){return U=U??!1,le=le??U,this.map(function(){return C.clone(this,U,le)})},html:function(U){return ne(this,function(le){var ve=this[0]||{},Ae=0,Ue=this.length;if(le===void 0&&ve.nodeType===1)return ve.innerHTML;if(typeof le=="string"&&!Ra.test(le)&&!dn[(Ei.exec(le)||["",""])[1].toLowerCase()]){le=C.htmlPrefilter(le);try{for(;Ae<Ue;Ae++)ve=this[Ae]||{},ve.nodeType===1&&(C.cleanData(Sn(ve,!1)),ve.innerHTML=le);ve=0}catch{}}ve&&this.empty().append(le)},null,U,arguments.length)},replaceWith:function(){var U=[];return Nt(this,arguments,function(le){var ve=this.parentNode;C.inArray(this,U)<0&&(C.cleanData(Sn(this)),ve&&ve.replaceChild(le,this))},U)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(U,le){C.fn[U]=function(ve){for(var Ae,Ue=[],$e=C(ve),Ke=$e.length-1,Dt=0;Dt<=Ke;Dt++)Ae=Dt===Ke?this:this.clone(!0),C($e[Dt])[le](Ae),n.apply(Ue,Ae.get());return this.pushStack(Ue)}});var Lt=new RegExp("^("+Oe+")(?!px)[a-z%]+$","i"),qt=/^--/,mi=function(U){var le=U.ownerDocument.defaultView;return(!le||!le.opener)&&(le=t),le.getComputedStyle(U)},Vi=function(U,le,ve){var Ae,Ue,$e={};for(Ue in le)$e[Ue]=U.style[Ue],U.style[Ue]=le[Ue];Ae=ve.call(U);for(Ue in le)U.style[Ue]=$e[Ue];return Ae},Ci=new RegExp(Xe.join("|"),"i"),gn="[\\x20\\t\\r\\n\\f]",mn=new RegExp("^"+gn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+gn+"+$","g");(function(){function U(){if(Xt){St.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Xt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Je.appendChild(St).appendChild(Xt);var hi=t.getComputedStyle(Xt);ve=hi.top!=="1%",Dt=le(hi.marginLeft)===12,Xt.style.right="60%",$e=le(hi.right)===36,Ae=le(hi.width)===36,Xt.style.position="absolute",Ue=le(Xt.offsetWidth/3)===12,Je.removeChild(St),Xt=null}}function le(hi){return Math.round(parseFloat(hi))}var ve,Ae,Ue,$e,Ke,Dt,St=M.createElement("div"),Xt=M.createElement("div");Xt.style&&(Xt.style.backgroundClip="content-box",Xt.cloneNode(!0).style.backgroundClip="",L.clearCloneStyle=Xt.style.backgroundClip==="content-box",C.extend(L,{boxSizingReliable:function(){return U(),Ae},pixelBoxStyles:function(){return U(),$e},pixelPosition:function(){return U(),ve},reliableMarginLeft:function(){return U(),Dt},scrollboxSize:function(){return U(),Ue},reliableTrDimensions:function(){var hi,Si,ni,ai;return Ke==null&&(hi=M.createElement("table"),Si=M.createElement("tr"),ni=M.createElement("div"),hi.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Si.style.cssText="border:1px solid",Si.style.height="1px",ni.style.height="9px",ni.style.display="block",Je.appendChild(hi).appendChild(Si).appendChild(ni),ai=t.getComputedStyle(Si),Ke=parseInt(ai.height,10)+parseInt(ai.borderTopWidth,10)+parseInt(ai.borderBottomWidth,10)===Si.offsetHeight,Je.removeChild(hi)),Ke}}))})();function nn(U,le,ve){var Ae,Ue,$e,Ke,Dt=qt.test(le),St=U.style;return ve=ve||mi(U),ve&&(Ke=ve.getPropertyValue(le)||ve[le],Dt&&Ke&&(Ke=Ke.replace(mn,"$1")||void 0),Ke===""&&!pt(U)&&(Ke=C.style(U,le)),!L.pixelBoxStyles()&&Lt.test(Ke)&&Ci.test(le)&&(Ae=St.width,Ue=St.minWidth,$e=St.maxWidth,St.minWidth=St.maxWidth=St.width=Ke,Ke=ve.width,St.width=Ae,St.minWidth=Ue,St.maxWidth=$e)),Ke!==void 0?Ke+"":Ke}function Ni(U,le){return{get:function(){if(U()){delete this.get;return}return(this.get=le).apply(this,arguments)}}}var qn=["Webkit","Moz","ms"],ds=M.createElement("div").style,cn={};function ks(U){for(var le=U[0].toUpperCase()+U.slice(1),ve=qn.length;ve--;)if(U=qn[ve]+le,U in ds)return U}function gs(U){var le=C.cssProps[U]||cn[U];return le||(U in ds?U:cn[U]=ks(U)||U)}var aa=/^(none|table(?!-c[ea]).+)/,la={position:"absolute",visibility:"hidden",display:"block"},Vr={letterSpacing:"0",fontWeight:"400"};function ci(U,le,ve){var Ae=ze.exec(le);return Ae?Math.max(0,Ae[2]-(ve||0))+(Ae[3]||"px"):le}function Ys(U,le,ve,Ae,Ue,$e){var Ke=le==="width"?1:0,Dt=0,St=0;if(ve===(Ae?"border":"content"))return 0;for(;Ke<4;Ke+=2)ve==="margin"&&(St+=C.css(U,ve+Xe[Ke],!0,Ue)),Ae?(ve==="content"&&(St-=C.css(U,"padding"+Xe[Ke],!0,Ue)),ve!=="margin"&&(St-=C.css(U,"border"+Xe[Ke]+"Width",!0,Ue))):(St+=C.css(U,"padding"+Xe[Ke],!0,Ue),ve!=="padding"?St+=C.css(U,"border"+Xe[Ke]+"Width",!0,Ue):Dt+=C.css(U,"border"+Xe[Ke]+"Width",!0,Ue));return!Ae&&$e>=0&&(St+=Math.max(0,Math.ceil(U["offset"+le[0].toUpperCase()+le.slice(1)]-$e-St-Dt-.5))||0),St}function pr(U,le,ve){var Ae=mi(U),Ue=!L.boxSizingReliable()||ve,$e=Ue&&C.css(U,"boxSizing",!1,Ae)==="border-box",Ke=$e,Dt=nn(U,le,Ae),St="offset"+le[0].toUpperCase()+le.slice(1);if(Lt.test(Dt)){if(!ve)return Dt;Dt="auto"}return(!L.boxSizingReliable()&&$e||!L.reliableTrDimensions()&&w(U,"tr")||Dt==="auto"||!parseFloat(Dt)&&C.css(U,"display",!1,Ae)==="inline")&&U.getClientRects().length&&($e=C.css(U,"boxSizing",!1,Ae)==="border-box",Ke=St in U,Ke&&(Dt=U[St])),Dt=parseFloat(Dt)||0,Dt+Ys(U,le,ve||($e?"border":"content"),Ke,Ae,Dt)+"px"}C.extend({cssHooks:{opacity:{get:function(U,le){if(le){var ve=nn(U,"opacity");return ve===""?"1":ve}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(U,le,ve,Ae){if(!(!U||U.nodeType===3||U.nodeType===8||!U.style)){var Ue,$e,Ke,Dt=me(le),St=qt.test(le),Xt=U.style;if(St||(le=gs(Dt)),Ke=C.cssHooks[le]||C.cssHooks[Dt],ve!==void 0){if($e=typeof ve,$e==="string"&&(Ue=ze.exec(ve))&&Ue[1]&&(ve=ui(U,le,Ue),$e="number"),ve==null||ve!==ve)return;$e==="number"&&!St&&(ve+=Ue&&Ue[3]||(C.cssNumber[Dt]?"":"px")),!L.clearCloneStyle&&ve===""&&le.indexOf("background")===0&&(Xt[le]="inherit"),(!Ke||!("set"in Ke)||(ve=Ke.set(U,ve,Ae))!==void 0)&&(St?Xt.setProperty(le,ve):Xt[le]=ve)}else return Ke&&"get"in Ke&&(Ue=Ke.get(U,!1,Ae))!==void 0?Ue:Xt[le]}},css:function(U,le,ve,Ae){var Ue,$e,Ke,Dt=me(le),St=qt.test(le);return St||(le=gs(Dt)),Ke=C.cssHooks[le]||C.cssHooks[Dt],Ke&&"get"in Ke&&(Ue=Ke.get(U,!0,ve)),Ue===void 0&&(Ue=nn(U,le,Ae)),Ue==="normal"&&le in Vr&&(Ue=Vr[le]),ve===""||ve?($e=parseFloat(Ue),ve===!0||isFinite($e)?$e||0:Ue):Ue}}),C.each(["height","width"],function(U,le){C.cssHooks[le]={get:function(ve,Ae,Ue){if(Ae)return aa.test(C.css(ve,"display"))&&(!ve.getClientRects().length||!ve.getBoundingClientRect().width)?Vi(ve,la,function(){return pr(ve,le,Ue)}):pr(ve,le,Ue)},set:function(ve,Ae,Ue){var $e,Ke=mi(ve),Dt=!L.scrollboxSize()&&Ke.position==="absolute",St=Dt||Ue,Xt=St&&C.css(ve,"boxSizing",!1,Ke)==="border-box",hi=Ue?Ys(ve,le,Ue,Xt,Ke):0;return Xt&&Dt&&(hi-=Math.ceil(ve["offset"+le[0].toUpperCase()+le.slice(1)]-parseFloat(Ke[le])-Ys(ve,le,"border",!1,Ke)-.5)),hi&&($e=ze.exec(Ae))&&($e[3]||"px")!=="px"&&(ve.style[le]=Ae,Ae=C.css(ve,le)),ci(ve,Ae,hi)}}}),C.cssHooks.marginLeft=Ni(L.reliableMarginLeft,function(U,le){if(le)return(parseFloat(nn(U,"marginLeft"))||U.getBoundingClientRect().left-Vi(U,{marginLeft:0},function(){return U.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(U,le){C.cssHooks[U+le]={expand:function(ve){for(var Ae=0,Ue={},$e=typeof ve=="string"?ve.split(" "):[ve];Ae<4;Ae++)Ue[U+Xe[Ae]+le]=$e[Ae]||$e[Ae-2]||$e[0];return Ue}},U!=="margin"&&(C.cssHooks[U+le].set=ci)}),C.fn.extend({css:function(U,le){return ne(this,function(ve,Ae,Ue){var $e,Ke,Dt={},St=0;if(Array.isArray(Ae)){for($e=mi(ve),Ke=Ae.length;St<Ke;St++)Dt[Ae[St]]=C.css(ve,Ae[St],!1,$e);return Dt}return Ue!==void 0?C.style(ve,Ae,Ue):C.css(ve,Ae)},U,le,arguments.length>1)}});function fr(U,le,ve,Ae,Ue){return new fr.prototype.init(U,le,ve,Ae,Ue)}C.Tween=fr,fr.prototype={constructor:fr,init:function(U,le,ve,Ae,Ue,$e){this.elem=U,this.prop=ve,this.easing=Ue||C.easing._default,this.options=le,this.start=this.now=this.cur(),this.end=Ae,this.unit=$e||(C.cssNumber[ve]?"":"px")},cur:function(){var U=fr.propHooks[this.prop];return U&&U.get?U.get(this):fr.propHooks._default.get(this)},run:function(U){var le,ve=fr.propHooks[this.prop];return this.options.duration?this.pos=le=C.easing[this.easing](U,this.options.duration*U,0,1,this.options.duration):this.pos=le=U,this.now=(this.end-this.start)*le+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),ve&&ve.set?ve.set(this):fr.propHooks._default.set(this),this}},fr.prototype.init.prototype=fr.prototype,fr.propHooks={_default:{get:function(U){var le;return U.elem.nodeType!==1||U.elem[U.prop]!=null&&U.elem.style[U.prop]==null?U.elem[U.prop]:(le=C.css(U.elem,U.prop,""),!le||le==="auto"?0:le)},set:function(U){C.fx.step[U.prop]?C.fx.step[U.prop](U):U.elem.nodeType===1&&(C.cssHooks[U.prop]||U.elem.style[gs(U.prop)]!=null)?C.style(U.elem,U.prop,U.now+U.unit):U.elem[U.prop]=U.now}}},fr.propHooks.scrollTop=fr.propHooks.scrollLeft={set:function(U){U.elem.nodeType&&U.elem.parentNode&&(U.elem[U.prop]=U.now)}},C.easing={linear:function(U){return U},swing:function(U){return .5-Math.cos(U*Math.PI)/2},_default:"swing"},C.fx=fr.prototype.init,C.fx.step={};var Rl,to,cc=/^(?:toggle|show|hide)$/,gh=/queueHooks$/;function Nr(){to&&(M.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Nr):t.setTimeout(Nr,C.fx.interval),C.fx.tick())}function $i(){return t.setTimeout(function(){Rl=void 0}),Rl=Date.now()}function Un(U,le){var ve,Ae=0,Ue={height:U};for(le=le?1:0;Ae<4;Ae+=2-le)ve=Xe[Ae],Ue["margin"+ve]=Ue["padding"+ve]=U;return le&&(Ue.opacity=Ue.width=U),Ue}function Xn(U,le,ve){for(var Ae,Ue=(Mn.tweeners[le]||[]).concat(Mn.tweeners["*"]),$e=0,Ke=Ue.length;$e<Ke;$e++)if(Ae=Ue[$e].call(ve,le,U))return Ae}function xo(U,le,ve){var Ae,Ue,$e,Ke,Dt,St,Xt,hi,Si="width"in le||"height"in le,ni=this,ai={},Gi=U.style,On=U.nodeType&&It(U),sn=Le.get(U,"fxshow");ve.queue||(Ke=C._queueHooks(U,"fx"),Ke.unqueued==null&&(Ke.unqueued=0,Dt=Ke.empty.fire,Ke.empty.fire=function(){Ke.unqueued||Dt()}),Ke.unqueued++,ni.always(function(){ni.always(function(){Ke.unqueued--,C.queue(U,"fx").length||Ke.empty.fire()})}));for(Ae in le)if(Ue=le[Ae],cc.test(Ue)){if(delete le[Ae],$e=$e||Ue==="toggle",Ue===(On?"hide":"show"))if(Ue==="show"&&sn&&sn[Ae]!==void 0)On=!0;else continue;ai[Ae]=sn&&sn[Ae]||C.style(U,Ae)}if(St=!C.isEmptyObject(le),!(!St&&C.isEmptyObject(ai))){Si&&U.nodeType===1&&(ve.overflow=[Gi.overflow,Gi.overflowX,Gi.overflowY],Xt=sn&&sn.display,Xt==null&&(Xt=Le.get(U,"display")),hi=C.css(U,"display"),hi==="none"&&(Xt?hi=Xt:(Ui([U],!0),Xt=U.style.display||Xt,hi=C.css(U,"display"),Ui([U]))),(hi==="inline"||hi==="inline-block"&&Xt!=null)&&C.css(U,"float")==="none"&&(St||(ni.done(function(){Gi.display=Xt}),Xt==null&&(hi=Gi.display,Xt=hi==="none"?"":hi)),Gi.display="inline-block")),ve.overflow&&(Gi.overflow="hidden",ni.always(function(){Gi.overflow=ve.overflow[0],Gi.overflowX=ve.overflow[1],Gi.overflowY=ve.overflow[2]})),St=!1;for(Ae in ai)St||(sn?"hidden"in sn&&(On=sn.hidden):sn=Le.access(U,"fxshow",{display:Xt}),$e&&(sn.hidden=!On),On&&Ui([U],!0),ni.done(function(){On||Ui([U]),Le.remove(U,"fxshow");for(Ae in ai)C.style(U,Ae,ai[Ae])})),St=Xn(On?sn[Ae]:0,Ae,ni),Ae in sn||(sn[Ae]=St.start,On&&(St.end=St.start,St.start=0))}}function ca(U,le){var ve,Ae,Ue,$e,Ke;for(ve in U)if(Ae=me(ve),Ue=le[Ae],$e=U[ve],Array.isArray($e)&&(Ue=$e[1],$e=U[ve]=$e[0]),ve!==Ae&&(U[Ae]=$e,delete U[ve]),Ke=C.cssHooks[Ae],Ke&&"expand"in Ke){$e=Ke.expand($e),delete U[Ae];for(ve in $e)ve in U||(U[ve]=$e[ve],le[ve]=Ue)}else le[Ae]=Ue}function Mn(U,le,ve){var Ae,Ue,$e=0,Ke=Mn.prefilters.length,Dt=C.Deferred().always(function(){delete St.elem}),St=function(){if(Ue)return!1;for(var Si=Rl||$i(),ni=Math.max(0,Xt.startTime+Xt.duration-Si),ai=ni/Xt.duration||0,Gi=1-ai,On=0,sn=Xt.tweens.length;On<sn;On++)Xt.tweens[On].run(Gi);return Dt.notifyWith(U,[Xt,Gi,ni]),Gi<1&&sn?ni:(sn||Dt.notifyWith(U,[Xt,1,0]),Dt.resolveWith(U,[Xt]),!1)},Xt=Dt.promise({elem:U,props:C.extend({},le),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},ve),originalProperties:le,originalOptions:ve,startTime:Rl||$i(),duration:ve.duration,tweens:[],createTween:function(Si,ni){var ai=C.Tween(U,Xt.opts,Si,ni,Xt.opts.specialEasing[Si]||Xt.opts.easing);return Xt.tweens.push(ai),ai},stop:function(Si){var ni=0,ai=Si?Xt.tweens.length:0;if(Ue)return this;for(Ue=!0;ni<ai;ni++)Xt.tweens[ni].run(1);return Si?(Dt.notifyWith(U,[Xt,1,0]),Dt.resolveWith(U,[Xt,Si])):Dt.rejectWith(U,[Xt,Si]),this}}),hi=Xt.props;for(ca(hi,Xt.opts.specialEasing);$e<Ke;$e++)if(Ae=Mn.prefilters[$e].call(Xt,U,hi,Xt.opts),Ae)return R(Ae.stop)&&(C._queueHooks(Xt.elem,Xt.opts.queue).stop=Ae.stop.bind(Ae)),Ae;return C.map(hi,Xn,Xt),R(Xt.opts.start)&&Xt.opts.start.call(U,Xt),Xt.progress(Xt.opts.progress).done(Xt.opts.done,Xt.opts.complete).fail(Xt.opts.fail).always(Xt.opts.always),C.fx.timer(C.extend(St,{elem:U,anim:Xt,queue:Xt.opts.queue})),Xt}C.Animation=C.extend(Mn,{tweeners:{"*":[function(U,le){var ve=this.createTween(U,le);return ui(ve.elem,U,ze.exec(le),ve),ve}]},tweener:function(U,le){R(U)?(le=U,U=["*"]):U=U.match(he);for(var ve,Ae=0,Ue=U.length;Ae<Ue;Ae++)ve=U[Ae],Mn.tweeners[ve]=Mn.tweeners[ve]||[],Mn.tweeners[ve].unshift(le)},prefilters:[xo],prefilter:function(U,le){le?Mn.prefilters.unshift(U):Mn.prefilters.push(U)}}),C.speed=function(U,le,ve){var Ae=U&&typeof U=="object"?C.extend({},U):{complete:ve||!ve&&le||R(U)&&U,duration:U,easing:ve&&le||le&&!R(le)&&le};return C.fx.off?Ae.duration=0:typeof Ae.duration!="number"&&(Ae.duration in C.fx.speeds?Ae.duration=C.fx.speeds[Ae.duration]:Ae.duration=C.fx.speeds._default),(Ae.queue==null||Ae.queue===!0)&&(Ae.queue="fx"),Ae.old=Ae.complete,Ae.complete=function(){R(Ae.old)&&Ae.old.call(this),Ae.queue&&C.dequeue(this,Ae.queue)},Ae},C.fn.extend({fadeTo:function(U,le,ve,Ae){return this.filter(It).css("opacity",0).show().end().animate({opacity:le},U,ve,Ae)},animate:function(U,le,ve,Ae){var Ue=C.isEmptyObject(U),$e=C.speed(le,ve,Ae),Ke=function(){var Dt=Mn(this,C.extend({},U),$e);(Ue||Le.get(this,"finish"))&&Dt.stop(!0)};return Ke.finish=Ke,Ue||$e.queue===!1?this.each(Ke):this.queue($e.queue,Ke)},stop:function(U,le,ve){var Ae=function(Ue){var $e=Ue.stop;delete Ue.stop,$e(ve)};return typeof U!="string"&&(ve=le,le=U,U=void 0),le&&this.queue(U||"fx",[]),this.each(function(){var Ue=!0,$e=U!=null&&U+"queueHooks",Ke=C.timers,Dt=Le.get(this);if($e)Dt[$e]&&Dt[$e].stop&&Ae(Dt[$e]);else for($e in Dt)Dt[$e]&&Dt[$e].stop&&gh.test($e)&&Ae(Dt[$e]);for($e=Ke.length;$e--;)Ke[$e].elem===this&&(U==null||Ke[$e].queue===U)&&(Ke[$e].anim.stop(ve),Ue=!1,Ke.splice($e,1));(Ue||!ve)&&C.dequeue(this,U)})},finish:function(U){return U!==!1&&(U=U||"fx"),this.each(function(){var le,ve=Le.get(this),Ae=ve[U+"queue"],Ue=ve[U+"queueHooks"],$e=C.timers,Ke=Ae?Ae.length:0;for(ve.finish=!0,C.queue(this,U,[]),Ue&&Ue.stop&&Ue.stop.call(this,!0),le=$e.length;le--;)$e[le].elem===this&&$e[le].queue===U&&($e[le].anim.stop(!0),$e.splice(le,1));for(le=0;le<Ke;le++)Ae[le]&&Ae[le].finish&&Ae[le].finish.call(this);delete ve.finish})}}),C.each(["toggle","show","hide"],function(U,le){var ve=C.fn[le];C.fn[le]=function(Ae,Ue,$e){return Ae==null||typeof Ae=="boolean"?ve.apply(this,arguments):this.animate(Un(le,!0),Ae,Ue,$e)}}),C.each({slideDown:Un("show"),slideUp:Un("hide"),slideToggle:Un("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(U,le){C.fn[U]=function(ve,Ae,Ue){return this.animate(le,ve,Ae,Ue)}}),C.timers=[],C.fx.tick=function(){var U,le=0,ve=C.timers;for(Rl=Date.now();le<ve.length;le++)U=ve[le],!U()&&ve[le]===U&&ve.splice(le--,1);ve.length||C.fx.stop(),Rl=void 0},C.fx.timer=function(U){C.timers.push(U),C.fx.start()},C.fx.interval=13,C.fx.start=function(){to||(to=!0,Nr())},C.fx.stop=function(){to=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(U,le){return U=C.fx&&C.fx.speeds[U]||U,le=le||"fx",this.queue(le,function(ve,Ae){var Ue=t.setTimeout(ve,U);Ae.stop=function(){t.clearTimeout(Ue)}})},function(){var U=M.createElement("input"),le=M.createElement("select"),ve=le.appendChild(M.createElement("option"));U.type="checkbox",L.checkOn=U.value!=="",L.optSelected=ve.selected,U=M.createElement("input"),U.value="t",U.type="radio",L.radioValue=U.value==="t"}();var Bl,$o=C.expr.attrHandle;C.fn.extend({attr:function(U,le){return ne(this,C.attr,U,le,arguments.length>1)},removeAttr:function(U){return this.each(function(){C.removeAttr(this,U)})}}),C.extend({attr:function(U,le,ve){var Ae,Ue,$e=U.nodeType;if(!($e===3||$e===8||$e===2)){if(typeof U.getAttribute>"u")return C.prop(U,le,ve);if(($e!==1||!C.isXMLDoc(U))&&(Ue=C.attrHooks[le.toLowerCase()]||(C.expr.match.bool.test(le)?Bl:void 0)),ve!==void 0){if(ve===null){C.removeAttr(U,le);return}return Ue&&"set"in Ue&&(Ae=Ue.set(U,ve,le))!==void 0?Ae:(U.setAttribute(le,ve+""),ve)}return Ue&&"get"in Ue&&(Ae=Ue.get(U,le))!==null?Ae:(Ae=C.find.attr(U,le),Ae??void 0)}},attrHooks:{type:{set:function(U,le){if(!L.radioValue&&le==="radio"&&w(U,"input")){var ve=U.value;return U.setAttribute("type",le),ve&&(U.value=ve),le}}}},removeAttr:function(U,le){var ve,Ae=0,Ue=le&&le.match(he);if(Ue&&U.nodeType===1)for(;ve=Ue[Ae++];)U.removeAttribute(ve)}}),Bl={set:function(U,le,ve){return le===!1?C.removeAttr(U,ve):U.setAttribute(ve,ve),ve}},C.each(C.expr.match.bool.source.match(/\w+/g),function(U,le){var ve=$o[le]||C.find.attr;$o[le]=function(Ae,Ue,$e){var Ke,Dt,St=Ue.toLowerCase();return $e||(Dt=$o[St],$o[St]=Ke,Ke=ve(Ae,Ue,$e)!=null?St:null,$o[St]=Dt),Ke}});var ba=/^(?:input|select|textarea|button)$/i,Pr=/^(?:a|area)$/i;C.fn.extend({prop:function(U,le){return ne(this,C.prop,U,le,arguments.length>1)},removeProp:function(U){return this.each(function(){delete this[C.propFix[U]||U]})}}),C.extend({prop:function(U,le,ve){var Ae,Ue,$e=U.nodeType;if(!($e===3||$e===8||$e===2))return($e!==1||!C.isXMLDoc(U))&&(le=C.propFix[le]||le,Ue=C.propHooks[le]),ve!==void 0?Ue&&"set"in Ue&&(Ae=Ue.set(U,ve,le))!==void 0?Ae:U[le]=ve:Ue&&"get"in Ue&&(Ae=Ue.get(U,le))!==null?Ae:U[le]},propHooks:{tabIndex:{get:function(U){var le=C.find.attr(U,"tabindex");return le?parseInt(le,10):ba.test(U.nodeName)||Pr.test(U.nodeName)&&U.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),L.optSelected||(C.propHooks.selected={get:function(U){var le=U.parentNode;return le&&le.parentNode&&le.parentNode.selectedIndex,null},set:function(U){var le=U.parentNode;le&&(le.selectedIndex,le.parentNode&&le.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this});function Cs(U){var le=U.match(he)||[];return le.join(" ")}function jr(U){return U.getAttribute&&U.getAttribute("class")||""}function po(U){return Array.isArray(U)?U:typeof U=="string"?U.match(he)||[]:[]}C.fn.extend({addClass:function(U){var le,ve,Ae,Ue,$e,Ke;return R(U)?this.each(function(Dt){C(this).addClass(U.call(this,Dt,jr(this)))}):(le=po(U),le.length?this.each(function(){if(Ae=jr(this),ve=this.nodeType===1&&" "+Cs(Ae)+" ",ve){for($e=0;$e<le.length;$e++)Ue=le[$e],ve.indexOf(" "+Ue+" ")<0&&(ve+=Ue+" ");Ke=Cs(ve),Ae!==Ke&&this.setAttribute("class",Ke)}}):this)},removeClass:function(U){var le,ve,Ae,Ue,$e,Ke;return R(U)?this.each(function(Dt){C(this).removeClass(U.call(this,Dt,jr(this)))}):arguments.length?(le=po(U),le.length?this.each(function(){if(Ae=jr(this),ve=this.nodeType===1&&" "+Cs(Ae)+" ",ve){for($e=0;$e<le.length;$e++)for(Ue=le[$e];ve.indexOf(" "+Ue+" ")>-1;)ve=ve.replace(" "+Ue+" "," ");Ke=Cs(ve),Ae!==Ke&&this.setAttribute("class",Ke)}}):this):this.attr("class","")},toggleClass:function(U,le){var ve,Ae,Ue,$e,Ke=typeof U,Dt=Ke==="string"||Array.isArray(U);return R(U)?this.each(function(St){C(this).toggleClass(U.call(this,St,jr(this),le),le)}):typeof le=="boolean"&&Dt?le?this.addClass(U):this.removeClass(U):(ve=po(U),this.each(function(){if(Dt)for($e=C(this),Ue=0;Ue<ve.length;Ue++)Ae=ve[Ue],$e.hasClass(Ae)?$e.removeClass(Ae):$e.addClass(Ae);else(U===void 0||Ke==="boolean")&&(Ae=jr(this),Ae&&Le.set(this,"__className__",Ae),this.setAttribute&&this.setAttribute("class",Ae||U===!1?"":Le.get(this,"__className__")||""))}))},hasClass:function(U){var le,ve,Ae=0;for(le=" "+U+" ";ve=this[Ae++];)if(ve.nodeType===1&&(" "+Cs(jr(ve))+" ").indexOf(le)>-1)return!0;return!1}});var ll=/\r/g;C.fn.extend({val:function(U){var le,ve,Ae,Ue=this[0];return arguments.length?(Ae=R(U),this.each(function($e){var Ke;this.nodeType===1&&(Ae?Ke=U.call(this,$e,C(this).val()):Ke=U,Ke==null?Ke="":typeof Ke=="number"?Ke+="":Array.isArray(Ke)&&(Ke=C.map(Ke,function(Dt){return Dt==null?"":Dt+""})),le=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()],(!le||!("set"in le)||le.set(this,Ke,"value")===void 0)&&(this.value=Ke))})):Ue?(le=C.valHooks[Ue.type]||C.valHooks[Ue.nodeName.toLowerCase()],le&&"get"in le&&(ve=le.get(Ue,"value"))!==void 0?ve:(ve=Ue.value,typeof ve=="string"?ve.replace(ll,""):ve??"")):void 0}}),C.extend({valHooks:{option:{get:function(U){var le=C.find.attr(U,"value");return le??Cs(C.text(U))}},select:{get:function(U){var le,ve,Ae,Ue=U.options,$e=U.selectedIndex,Ke=U.type==="select-one",Dt=Ke?null:[],St=Ke?$e+1:Ue.length;for($e<0?Ae=St:Ae=Ke?$e:0;Ae<St;Ae++)if(ve=Ue[Ae],(ve.selected||Ae===$e)&&!ve.disabled&&(!ve.parentNode.disabled||!w(ve.parentNode,"optgroup"))){if(le=C(ve).val(),Ke)return le;Dt.push(le)}return Dt},set:function(U,le){for(var ve,Ae,Ue=U.options,$e=C.makeArray(le),Ke=Ue.length;Ke--;)Ae=Ue[Ke],(Ae.selected=C.inArray(C.valHooks.option.get(Ae),$e)>-1)&&(ve=!0);return ve||(U.selectedIndex=-1),$e}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(U,le){if(Array.isArray(le))return U.checked=C.inArray(C(U).val(),le)>-1}},L.checkOn||(C.valHooks[this].get=function(U){return U.getAttribute("value")===null?"on":U.value})}),L.focusin="onfocusin"in t;var Io=/^(?:focusinfocus|focusoutblur)$/,Ba=function(U){U.stopPropagation()};C.extend(C.event,{trigger:function(U,le,ve,Ae){var Ue,$e,Ke,Dt,St,Xt,hi,Si,ni=[ve||M],ai=O.call(U,"type")?U.type:U,Gi=O.call(U,"namespace")?U.namespace.split("."):[];if($e=Si=Ke=ve=ve||M,!(ve.nodeType===3||ve.nodeType===8)&&!Io.test(ai+C.event.triggered)&&(ai.indexOf(".")>-1&&(Gi=ai.split("."),ai=Gi.shift(),Gi.sort()),St=ai.indexOf(":")<0&&"on"+ai,U=U[C.expando]?U:new C.Event(ai,typeof U=="object"&&U),U.isTrigger=Ae?2:3,U.namespace=Gi.join("."),U.rnamespace=U.namespace?new RegExp("(^|\\.)"+Gi.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,U.result=void 0,U.target||(U.target=ve),le=le==null?[U]:C.makeArray(le,[U]),hi=C.event.special[ai]||{},!(!Ae&&hi.trigger&&hi.trigger.apply(ve,le)===!1))){if(!Ae&&!hi.noBubble&&!$(ve)){for(Dt=hi.delegateType||ai,Io.test(Dt+ai)||($e=$e.parentNode);$e;$e=$e.parentNode)ni.push($e),Ke=$e;Ke===(ve.ownerDocument||M)&&ni.push(Ke.defaultView||Ke.parentWindow||t)}for(Ue=0;($e=ni[Ue++])&&!U.isPropagationStopped();)Si=$e,U.type=Ue>1?Dt:hi.bindType||ai,Xt=(Le.get($e,"events")||Object.create(null))[U.type]&&Le.get($e,"handle"),Xt&&Xt.apply($e,le),Xt=St&&$e[St],Xt&&Xt.apply&&we($e)&&(U.result=Xt.apply($e,le),U.result===!1&&U.preventDefault());return U.type=ai,!Ae&&!U.isDefaultPrevented()&&(!hi._default||hi._default.apply(ni.pop(),le)===!1)&&we(ve)&&St&&R(ve[ai])&&!$(ve)&&(Ke=ve[St],Ke&&(ve[St]=null),C.event.triggered=ai,U.isPropagationStopped()&&Si.addEventListener(ai,Ba),ve[ai](),U.isPropagationStopped()&&Si.removeEventListener(ai,Ba),C.event.triggered=void 0,Ke&&(ve[St]=Ke)),U.result}},simulate:function(U,le,ve){var Ae=C.extend(new C.Event,ve,{type:U,isSimulated:!0});C.event.trigger(Ae,null,le)}}),C.fn.extend({trigger:function(U,le){return this.each(function(){C.event.trigger(U,le,this)})},triggerHandler:function(U,le){var ve=this[0];if(ve)return C.event.trigger(U,le,ve,!0)}}),L.focusin||C.each({focus:"focusin",blur:"focusout"},function(U,le){var ve=function(Ae){C.event.simulate(le,Ae.target,C.event.fix(Ae))};C.event.special[le]={setup:function(){var Ae=this.ownerDocument||this.document||this,Ue=Le.access(Ae,le);Ue||Ae.addEventListener(U,ve,!0),Le.access(Ae,le,(Ue||0)+1)},teardown:function(){var Ae=this.ownerDocument||this.document||this,Ue=Le.access(Ae,le)-1;Ue?Le.access(Ae,le,Ue):(Ae.removeEventListener(U,ve,!0),Le.remove(Ae,le))}}});var za=t.location,wa={guid:Date.now()},Fa=/\?/;C.parseXML=function(U){var le,ve;if(!U||typeof U!="string")return null;try{le=new t.DOMParser().parseFromString(U,"text/xml")}catch{}return ve=le&&le.getElementsByTagName("parsererror")[0],(!le||ve)&&C.error("Invalid XML: "+(ve?C.map(ve.childNodes,function(Ae){return Ae.textContent}).join(`
`):U)),le};var hc=/\[\]$/,dc=/\r?\n/g,ao=/^(?:submit|button|image|reset|file)$/i,cr=/^(?:input|select|textarea|keygen)/i;function cl(U,le,ve,Ae){var Ue;if(Array.isArray(le))C.each(le,function($e,Ke){ve||hc.test(U)?Ae(U,Ke):cl(U+"["+(typeof Ke=="object"&&Ke!=null?$e:"")+"]",Ke,ve,Ae)});else if(!ve&&V(le)==="object")for(Ue in le)cl(U+"["+Ue+"]",le[Ue],ve,Ae);else Ae(U,le)}C.param=function(U,le){var ve,Ae=[],Ue=function($e,Ke){var Dt=R(Ke)?Ke():Ke;Ae[Ae.length]=encodeURIComponent($e)+"="+encodeURIComponent(Dt??"")};if(U==null)return"";if(Array.isArray(U)||U.jquery&&!C.isPlainObject(U))C.each(U,function(){Ue(this.name,this.value)});else for(ve in U)cl(ve,U[ve],le,Ue);return Ae.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var U=C.prop(this,"elements");return U?C.makeArray(U):this}).filter(function(){var U=this.type;return this.name&&!C(this).is(":disabled")&&cr.test(this.nodeName)&&!ao.test(U)&&(this.checked||!zi.test(U))}).map(function(U,le){var ve=C(this).val();return ve==null?null:Array.isArray(ve)?C.map(ve,function(Ae){return{name:le.name,value:Ae.replace(dc,`\r
`)}}):{name:le.name,value:ve.replace(dc,`\r
`)}}).get()}});var Sa=/%20/g,Dr=/#.*$/,Lo=/([?&])_=[^&]*/,Gh=/^(.*?):[ \t]*([^\r\n]*)$/mg,Fc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tr=/^(?:GET|HEAD)$/,hl=/^\/\//,Nc={},dl={},Ir="*/".concat("*"),Na=M.createElement("a");Na.href=za.href;function jc(U){return function(le,ve){typeof le!="string"&&(ve=le,le="*");var Ae,Ue=0,$e=le.toLowerCase().match(he)||[];if(R(ve))for(;Ae=$e[Ue++];)Ae[0]==="+"?(Ae=Ae.slice(1)||"*",(U[Ae]=U[Ae]||[]).unshift(ve)):(U[Ae]=U[Ae]||[]).push(ve)}}function ps(U,le,ve,Ae){var Ue={},$e=U===dl;function Ke(Dt){var St;return Ue[Dt]=!0,C.each(U[Dt]||[],function(Xt,hi){var Si=hi(le,ve,Ae);if(typeof Si=="string"&&!$e&&!Ue[Si])return le.dataTypes.unshift(Si),Ke(Si),!1;if($e)return!(St=Si)}),St}return Ke(le.dataTypes[0])||!Ue["*"]&&Ke("*")}function bs(U,le){var ve,Ae,Ue=C.ajaxSettings.flatOptions||{};for(ve in le)le[ve]!==void 0&&((Ue[ve]?U:Ae||(Ae={}))[ve]=le[ve]);return Ae&&C.extend(!0,U,Ae),U}function Uc(U,le,ve){for(var Ae,Ue,$e,Ke,Dt=U.contents,St=U.dataTypes;St[0]==="*";)St.shift(),Ae===void 0&&(Ae=U.mimeType||le.getResponseHeader("Content-Type"));if(Ae){for(Ue in Dt)if(Dt[Ue]&&Dt[Ue].test(Ae)){St.unshift(Ue);break}}if(St[0]in ve)$e=St[0];else{for(Ue in ve){if(!St[0]||U.converters[Ue+" "+St[0]]){$e=Ue;break}Ke||(Ke=Ue)}$e=$e||Ke}if($e)return $e!==St[0]&&St.unshift($e),ve[$e]}function Vh(U,le,ve,Ae){var Ue,$e,Ke,Dt,St,Xt={},hi=U.dataTypes.slice();if(hi[1])for(Ke in U.converters)Xt[Ke.toLowerCase()]=U.converters[Ke];for($e=hi.shift();$e;)if(U.responseFields[$e]&&(ve[U.responseFields[$e]]=le),!St&&Ae&&U.dataFilter&&(le=U.dataFilter(le,U.dataType)),St=$e,$e=hi.shift(),$e){if($e==="*")$e=St;else if(St!=="*"&&St!==$e){if(Ke=Xt[St+" "+$e]||Xt["* "+$e],!Ke){for(Ue in Xt)if(Dt=Ue.split(" "),Dt[1]===$e&&(Ke=Xt[St+" "+Dt[0]]||Xt["* "+Dt[0]],Ke)){Ke===!0?Ke=Xt[Ue]:Xt[Ue]!==!0&&($e=Dt[0],hi.unshift(Dt[1]));break}}if(Ke!==!0)if(Ke&&U.throws)le=Ke(le);else try{le=Ke(le)}catch(Si){return{state:"parsererror",error:Ke?Si:"No conversion from "+St+" to "+$e}}}}return{state:"success",data:le}}C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:za.href,type:"GET",isLocal:Fc.test(za.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ir,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(U,le){return le?bs(bs(U,C.ajaxSettings),le):bs(C.ajaxSettings,U)},ajaxPrefilter:jc(Nc),ajaxTransport:jc(dl),ajax:function(U,le){typeof U=="object"&&(le=U,U=void 0),le=le||{};var ve,Ae,Ue,$e,Ke,Dt,St,Xt,hi,Si,ni=C.ajaxSetup({},le),ai=ni.context||ni,Gi=ni.context&&(ai.nodeType||ai.jquery)?C(ai):C.event,On=C.Deferred(),sn=C.Callbacks("once memory"),qs=ni.statusCode||{},Ls={},Jn={},Qn="canceled",Ln={readyState:0,getResponseHeader:function(ts){var Os;if(St){if(!$e)for($e={};Os=Gh.exec(Ue);)$e[Os[1].toLowerCase()+" "]=($e[Os[1].toLowerCase()+" "]||[]).concat(Os[2]);Os=$e[ts.toLowerCase()+" "]}return Os==null?null:Os.join(", ")},getAllResponseHeaders:function(){return St?Ue:null},setRequestHeader:function(ts,Os){return St==null&&(ts=Jn[ts.toLowerCase()]=Jn[ts.toLowerCase()]||ts,Ls[ts]=Os),this},overrideMimeType:function(ts){return St==null&&(ni.mimeType=ts),this},statusCode:function(ts){var Os;if(ts)if(St)Ln.always(ts[Ln.status]);else for(Os in ts)qs[Os]=[qs[Os],ts[Os]];return this},abort:function(ts){var Os=ts||Qn;return ve&&ve.abort(Os),Lr(0,Os),this}};if(On.promise(Ln),ni.url=((U||ni.url||za.href)+"").replace(hl,za.protocol+"//"),ni.type=le.method||le.type||ni.method||ni.type,ni.dataTypes=(ni.dataType||"*").toLowerCase().match(he)||[""],ni.crossDomain==null){Dt=M.createElement("a");try{Dt.href=ni.url,Dt.href=Dt.href,ni.crossDomain=Na.protocol+"//"+Na.host!=Dt.protocol+"//"+Dt.host}catch{ni.crossDomain=!0}}if(ni.data&&ni.processData&&typeof ni.data!="string"&&(ni.data=C.param(ni.data,ni.traditional)),ps(Nc,ni,le,Ln),St)return Ln;Xt=C.event&&ni.global,Xt&&C.active++===0&&C.event.trigger("ajaxStart"),ni.type=ni.type.toUpperCase(),ni.hasContent=!Tr.test(ni.type),Ae=ni.url.replace(Dr,""),ni.hasContent?ni.data&&ni.processData&&(ni.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ni.data=ni.data.replace(Sa,"+")):(Si=ni.url.slice(Ae.length),ni.data&&(ni.processData||typeof ni.data=="string")&&(Ae+=(Fa.test(Ae)?"&":"?")+ni.data,delete ni.data),ni.cache===!1&&(Ae=Ae.replace(Lo,"$1"),Si=(Fa.test(Ae)?"&":"?")+"_="+wa.guid+++Si),ni.url=Ae+Si),ni.ifModified&&(C.lastModified[Ae]&&Ln.setRequestHeader("If-Modified-Since",C.lastModified[Ae]),C.etag[Ae]&&Ln.setRequestHeader("If-None-Match",C.etag[Ae])),(ni.data&&ni.hasContent&&ni.contentType!==!1||le.contentType)&&Ln.setRequestHeader("Content-Type",ni.contentType),Ln.setRequestHeader("Accept",ni.dataTypes[0]&&ni.accepts[ni.dataTypes[0]]?ni.accepts[ni.dataTypes[0]]+(ni.dataTypes[0]!=="*"?", "+Ir+"; q=0.01":""):ni.accepts["*"]);for(hi in ni.headers)Ln.setRequestHeader(hi,ni.headers[hi]);if(ni.beforeSend&&(ni.beforeSend.call(ai,Ln,ni)===!1||St))return Ln.abort();if(Qn="abort",sn.add(ni.complete),Ln.done(ni.success),Ln.fail(ni.error),ve=ps(dl,ni,le,Ln),!ve)Lr(-1,"No Transport");else{if(Ln.readyState=1,Xt&&Gi.trigger("ajaxSend",[Ln,ni]),St)return Ln;ni.async&&ni.timeout>0&&(Ke=t.setTimeout(function(){Ln.abort("timeout")},ni.timeout));try{St=!1,ve.send(Ls,Lr)}catch(ts){if(St)throw ts;Lr(-1,ts)}}function Lr(ts,Os,ha,pl){var Or,wo,Bn,$r,So,lo=Os;St||(St=!0,Ke&&t.clearTimeout(Ke),ve=void 0,Ue=pl||"",Ln.readyState=ts>0?4:0,Or=ts>=200&&ts<300||ts===304,ha&&($r=Uc(ni,Ln,ha)),!Or&&C.inArray("script",ni.dataTypes)>-1&&C.inArray("json",ni.dataTypes)<0&&(ni.converters["text script"]=function(){}),$r=Vh(ni,$r,Ln,Or),Or?(ni.ifModified&&(So=Ln.getResponseHeader("Last-Modified"),So&&(C.lastModified[Ae]=So),So=Ln.getResponseHeader("etag"),So&&(C.etag[Ae]=So)),ts===204||ni.type==="HEAD"?lo="nocontent":ts===304?lo="notmodified":(lo=$r.state,wo=$r.data,Bn=$r.error,Or=!Bn)):(Bn=lo,(ts||!lo)&&(lo="error",ts<0&&(ts=0))),Ln.status=ts,Ln.statusText=(Os||lo)+"",Or?On.resolveWith(ai,[wo,lo,Ln]):On.rejectWith(ai,[Ln,lo,Bn]),Ln.statusCode(qs),qs=void 0,Xt&&Gi.trigger(Or?"ajaxSuccess":"ajaxError",[Ln,ni,Or?wo:Bn]),sn.fireWith(ai,[Ln,lo]),Xt&&(Gi.trigger("ajaxComplete",[Ln,ni]),--C.active||C.event.trigger("ajaxStop")))}return Ln},getJSON:function(U,le,ve){return C.get(U,le,ve,"json")},getScript:function(U,le){return C.get(U,void 0,le,"script")}}),C.each(["get","post"],function(U,le){C[le]=function(ve,Ae,Ue,$e){return R(Ae)&&($e=$e||Ue,Ue=Ae,Ae=void 0),C.ajax(C.extend({url:ve,type:le,dataType:$e,data:Ae,success:Ue},C.isPlainObject(ve)&&ve))}}),C.ajaxPrefilter(function(U){var le;for(le in U.headers)le.toLowerCase()==="content-type"&&(U.contentType=U.headers[le]||"")}),C._evalUrl=function(U,le,ve){return C.ajax({url:U,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Ae){C.globalEval(Ae,le,ve)}})},C.fn.extend({wrapAll:function(U){var le;return this[0]&&(R(U)&&(U=U.call(this[0])),le=C(U,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&le.insertBefore(this[0]),le.map(function(){for(var ve=this;ve.firstElementChild;)ve=ve.firstElementChild;return ve}).append(this)),this},wrapInner:function(U){return R(U)?this.each(function(le){C(this).wrapInner(U.call(this,le))}):this.each(function(){var le=C(this),ve=le.contents();ve.length?ve.wrapAll(U):le.append(U)})},wrap:function(U){var le=R(U);return this.each(function(ve){C(this).wrapAll(le?U.call(this,ve):U)})},unwrap:function(U){return this.parent(U).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(U){return!C.expr.pseudos.visible(U)},C.expr.pseudos.visible=function(U){return!!(U.offsetWidth||U.offsetHeight||U.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var _h={0:200,1223:204},Oo=C.ajaxSettings.xhr();L.cors=!!Oo&&"withCredentials"in Oo,L.ajax=Oo=!!Oo,C.ajaxTransport(function(U){var le,ve;if(L.cors||Oo&&!U.crossDomain)return{send:function(Ae,Ue){var $e,Ke=U.xhr();if(Ke.open(U.type,U.url,U.async,U.username,U.password),U.xhrFields)for($e in U.xhrFields)Ke[$e]=U.xhrFields[$e];U.mimeType&&Ke.overrideMimeType&&Ke.overrideMimeType(U.mimeType),!U.crossDomain&&!Ae["X-Requested-With"]&&(Ae["X-Requested-With"]="XMLHttpRequest");for($e in Ae)Ke.setRequestHeader($e,Ae[$e]);le=function(Dt){return function(){le&&(le=ve=Ke.onload=Ke.onerror=Ke.onabort=Ke.ontimeout=Ke.onreadystatechange=null,Dt==="abort"?Ke.abort():Dt==="error"?typeof Ke.status!="number"?Ue(0,"error"):Ue(Ke.status,Ke.statusText):Ue(_h[Ke.status]||Ke.status,Ke.statusText,(Ke.responseType||"text")!=="text"||typeof Ke.responseText!="string"?{binary:Ke.response}:{text:Ke.responseText},Ke.getAllResponseHeaders()))}},Ke.onload=le(),ve=Ke.onerror=Ke.ontimeout=le("error"),Ke.onabort!==void 0?Ke.onabort=ve:Ke.onreadystatechange=function(){Ke.readyState===4&&t.setTimeout(function(){le&&ve()})},le=le("abort");try{Ke.send(U.hasContent&&U.data||null)}catch(Dt){if(le)throw Dt}},abort:function(){le&&le()}}}),C.ajaxPrefilter(function(U){U.crossDomain&&(U.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(U){return C.globalEval(U),U}}}),C.ajaxPrefilter("script",function(U){U.cache===void 0&&(U.cache=!1),U.crossDomain&&(U.type="GET")}),C.ajaxTransport("script",function(U){if(U.crossDomain||U.scriptAttrs){var le,ve;return{send:function(Ae,Ue){le=C("<script>").attr(U.scriptAttrs||{}).prop({charset:U.scriptCharset,src:U.url}).on("load error",ve=function($e){le.remove(),ve=null,$e&&Ue($e.type==="error"?404:200,$e.type)}),M.head.appendChild(le[0])},abort:function(){ve&&ve()}}}});var uc=[],Gc=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var U=uc.pop()||C.expando+"_"+wa.guid++;return this[U]=!0,U}}),C.ajaxPrefilter("json jsonp",function(U,le,ve){var Ae,Ue,$e,Ke=U.jsonp!==!1&&(Gc.test(U.url)?"url":typeof U.data=="string"&&(U.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Gc.test(U.data)&&"data");if(Ke||U.dataTypes[0]==="jsonp")return Ae=U.jsonpCallback=R(U.jsonpCallback)?U.jsonpCallback():U.jsonpCallback,Ke?U[Ke]=U[Ke].replace(Gc,"$1"+Ae):U.jsonp!==!1&&(U.url+=(Fa.test(U.url)?"&":"?")+U.jsonp+"="+Ae),U.converters["script json"]=function(){return $e||C.error(Ae+" was not called"),$e[0]},U.dataTypes[0]="json",Ue=t[Ae],t[Ae]=function(){$e=arguments},ve.always(function(){Ue===void 0?C(t).removeProp(Ae):t[Ae]=Ue,U[Ae]&&(U.jsonpCallback=le.jsonpCallback,uc.push(Ae)),$e&&R(Ue)&&Ue($e[0]),$e=Ue=void 0}),"script"}),L.createHTMLDocument=function(){var U=M.implementation.createHTMLDocument("").body;return U.innerHTML="<form></form><form></form>",U.childNodes.length===2}(),C.parseHTML=function(U,le,ve){if(typeof U!="string")return[];typeof le=="boolean"&&(ve=le,le=!1);var Ae,Ue,$e;return le||(L.createHTMLDocument?(le=M.implementation.createHTMLDocument(""),Ae=le.createElement("base"),Ae.href=M.location.href,le.head.appendChild(Ae)):le=M),Ue=D.exec(U),$e=!ve&&[],Ue?[le.createElement(Ue[1])]:(Ue=ms([U],le,$e),$e&&$e.length&&C($e).remove(),C.merge([],Ue.childNodes))},C.fn.load=function(U,le,ve){var Ae,Ue,$e,Ke=this,Dt=U.indexOf(" ");return Dt>-1&&(Ae=Cs(U.slice(Dt)),U=U.slice(0,Dt)),R(le)?(ve=le,le=void 0):le&&typeof le=="object"&&(Ue="POST"),Ke.length>0&&C.ajax({url:U,type:Ue||"GET",dataType:"html",data:le}).done(function(St){$e=arguments,Ke.html(Ae?C("<div>").append(C.parseHTML(St)).find(Ae):St)}).always(ve&&function(St,Xt){Ke.each(function(){ve.apply(this,$e||[St.responseText,Xt,St])})}),this},C.expr.pseudos.animated=function(U){return C.grep(C.timers,function(le){return U===le.elem}).length},C.offset={setOffset:function(U,le,ve){var Ae,Ue,$e,Ke,Dt,St,Xt,hi=C.css(U,"position"),Si=C(U),ni={};hi==="static"&&(U.style.position="relative"),Dt=Si.offset(),$e=C.css(U,"top"),St=C.css(U,"left"),Xt=(hi==="absolute"||hi==="fixed")&&($e+St).indexOf("auto")>-1,Xt?(Ae=Si.position(),Ke=Ae.top,Ue=Ae.left):(Ke=parseFloat($e)||0,Ue=parseFloat(St)||0),R(le)&&(le=le.call(U,ve,C.extend({},Dt))),le.top!=null&&(ni.top=le.top-Dt.top+Ke),le.left!=null&&(ni.left=le.left-Dt.left+Ue),"using"in le?le.using.call(U,ni):Si.css(ni)}},C.fn.extend({offset:function(U){if(arguments.length)return U===void 0?this:this.each(function(Ue){C.offset.setOffset(this,U,Ue)});var le,ve,Ae=this[0];if(Ae)return Ae.getClientRects().length?(le=Ae.getBoundingClientRect(),ve=Ae.ownerDocument.defaultView,{top:le.top+ve.pageYOffset,left:le.left+ve.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var U,le,ve,Ae=this[0],Ue={top:0,left:0};if(C.css(Ae,"position")==="fixed")le=Ae.getBoundingClientRect();else{for(le=this.offset(),ve=Ae.ownerDocument,U=Ae.offsetParent||ve.documentElement;U&&(U===ve.body||U===ve.documentElement)&&C.css(U,"position")==="static";)U=U.parentNode;U&&U!==Ae&&U.nodeType===1&&(Ue=C(U).offset(),Ue.top+=C.css(U,"borderTopWidth",!0),Ue.left+=C.css(U,"borderLeftWidth",!0))}return{top:le.top-Ue.top-C.css(Ae,"marginTop",!0),left:le.left-Ue.left-C.css(Ae,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var U=this.offsetParent;U&&C.css(U,"position")==="static";)U=U.offsetParent;return U||Je})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(U,le){var ve=le==="pageYOffset";C.fn[U]=function(Ae){return ne(this,function(Ue,$e,Ke){var Dt;if($(Ue)?Dt=Ue:Ue.nodeType===9&&(Dt=Ue.defaultView),Ke===void 0)return Dt?Dt[le]:Ue[$e];Dt?Dt.scrollTo(ve?Dt.pageXOffset:Ke,ve?Ke:Dt.pageYOffset):Ue[$e]=Ke},U,Ae,arguments.length)}}),C.each(["top","left"],function(U,le){C.cssHooks[le]=Ni(L.pixelPosition,function(ve,Ae){if(Ae)return Ae=nn(ve,le),Lt.test(Ae)?C(ve).position()[le]+"px":Ae})}),C.each({Height:"height",Width:"width"},function(U,le){C.each({padding:"inner"+U,content:le,"":"outer"+U},function(ve,Ae){C.fn[Ae]=function(Ue,$e){var Ke=arguments.length&&(ve||typeof Ue!="boolean"),Dt=ve||(Ue===!0||$e===!0?"margin":"border");return ne(this,function(St,Xt,hi){var Si;return $(St)?Ae.indexOf("outer")===0?St["inner"+U]:St.document.documentElement["client"+U]:St.nodeType===9?(Si=St.documentElement,Math.max(St.body["scroll"+U],Si["scroll"+U],St.body["offset"+U],Si["offset"+U],Si["client"+U])):hi===void 0?C.css(St,Xt,Dt):C.style(St,Xt,hi,Dt)},le,Ke?Ue:void 0,Ke)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(U,le){C.fn[le]=function(ve){return this.on(le,ve)}}),C.fn.extend({bind:function(U,le,ve){return this.on(U,null,le,ve)},unbind:function(U,le){return this.off(U,null,le)},delegate:function(U,le,ve,Ae){return this.on(le,U,ve,Ae)},undelegate:function(U,le,ve){return arguments.length===1?this.off(U,"**"):this.off(le,U||"**",ve)},hover:function(U,le){return this.mouseenter(U).mouseleave(le||U)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(U,le){C.fn[le]=function(ve,Ae){return arguments.length>0?this.on(le,null,ve,Ae):this.trigger(le)}});var ul=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;C.proxy=function(U,le){var ve,Ae,Ue;if(typeof le=="string"&&(ve=U[le],le=U,U=ve),!!R(U))return Ae=d.call(arguments,2),Ue=function(){return U.apply(le||this,Ae.concat(d.call(arguments)))},Ue.guid=U.guid=U.guid||C.guid++,Ue},C.holdReady=function(U){U?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=w,C.isFunction=R,C.isWindow=$,C.camelCase=me,C.type=V,C.now=Date.now,C.isNumeric=function(U){var le=C.type(U);return(le==="number"||le==="string")&&!isNaN(U-parseFloat(U))},C.trim=function(U){return U==null?"":(U+"").replace(ul,"$1")};var bo=t.jQuery,Er=t.$;return C.noConflict=function(U){return t.$===C&&(t.$=Er),U&&t.jQuery===C&&(t.jQuery=bo),C},typeof s>"u"&&(t.jQuery=t.$=C),C})})(O5);var tk=O5.exports;const ik=uh(tk);function R5(e,t){return function(){return e.apply(t,arguments)}}const{toString:B5}=Object.prototype,{getPrototypeOf:$w}=Object,Hw=(e=>t=>{const s=B5.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),pu=e=>(e=e.toLowerCase(),t=>Hw(t)===e),Gv=e=>t=>typeof t===e,{isArray:Mm}=Array,C1=Gv("undefined");function nk(e){return e!==null&&!C1(e)&&e.constructor!==null&&!C1(e.constructor)&&Nf(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const z5=pu("ArrayBuffer");function sk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&z5(e.buffer),t}const rk=Gv("string"),Nf=Gv("function"),F5=Gv("number"),Ww=e=>e!==null&&typeof e=="object",ok=e=>e===!0||e===!1,Zy=e=>{if(Hw(e)!=="object")return!1;const t=$w(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ak=pu("Date"),lk=pu("File"),ck=pu("Blob"),hk=pu("FileList"),dk=e=>Ww(e)&&Nf(e.pipe),uk=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||B5.call(e)===t||Nf(e.toString)&&e.toString()===t)},pk=pu("URLSearchParams"),fk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function V1(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,c;if(typeof e!="object"&&(e=[e]),Mm(e))for(a=0,c=e.length;a<c;a++)t.call(null,e[a],a,e);else{const d=s?Object.getOwnPropertyNames(e):Object.keys(e),m=d.length;let n;for(a=0;a<m;a++)n=d[a],t.call(null,e[n],n,e)}}function N5(e,t){t=t.toLowerCase();const s=Object.keys(e);let a=s.length,c;for(;a-- >0;)if(c=s[a],t===c.toLowerCase())return c;return null}const j5=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),U5=e=>!C1(e)&&e!==j5;function nw(){const{caseless:e}=U5(this)&&this||{},t={},s=(a,c)=>{const d=e&&N5(t,c)||c;Zy(t[d])&&Zy(a)?t[d]=nw(t[d],a):Zy(a)?t[d]=nw({},a):Mm(a)?t[d]=a.slice():t[d]=a};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&V1(arguments[a],s);return t}const mk=(e,t,s,{allOwnKeys:a}={})=>(V1(t,(c,d)=>{s&&Nf(c)?e[d]=R5(c,s):e[d]=c},{allOwnKeys:a}),e),gk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_k=(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},yk=(e,t,s,a)=>{let c,d,m;const n={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)m=c[d],(!a||a(m,e,t))&&!n[m]&&(t[m]=e[m],n[m]=!0);e=s!==!1&&$w(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},vk=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return a!==-1&&a===s},xk=e=>{if(!e)return null;if(Mm(e))return e;let t=e.length;if(!F5(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},bk=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$w(Uint8Array)),wk=(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let c;for(;(c=a.next())&&!c.done;){const d=c.value;t.call(e,d[0],d[1])}},Sk=(e,t)=>{let s;const a=[];for(;(s=e.exec(t))!==null;)a.push(s);return a},Tk=pu("HTMLFormElement"),Ek=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(s,a,c){return a.toUpperCase()+c}),YS=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Ck=pu("RegExp"),G5=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};V1(s,(c,d)=>{t(c,d,e)!==!1&&(a[d]=c)}),Object.defineProperties(e,a)},Mk=e=>{G5(e,(t,s)=>{if(Nf(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(Nf(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Ak=(e,t)=>{const s={},a=c=>{c.forEach(d=>{s[d]=!0})};return Mm(e)?a(e):a(String(e).split(t)),s},kk=()=>{},Pk=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Dk=e=>{const t=new Array(10),s=(a,c)=>{if(Ww(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[c]=a;const d=Mm(a)?[]:{};return V1(a,(m,n)=>{const S=s(m,c+1);!C1(S)&&(d[n]=S)}),t[c]=void 0,d}}return a};return s(e,0)},Oi={isArray:Mm,isArrayBuffer:z5,isBuffer:nk,isFormData:uk,isArrayBufferView:sk,isString:rk,isNumber:F5,isBoolean:ok,isObject:Ww,isPlainObject:Zy,isUndefined:C1,isDate:ak,isFile:lk,isBlob:ck,isRegExp:Ck,isFunction:Nf,isStream:dk,isURLSearchParams:pk,isTypedArray:bk,isFileList:hk,forEach:V1,merge:nw,extend:mk,trim:fk,stripBOM:gk,inherits:_k,toFlatObject:yk,kindOf:Hw,kindOfTest:pu,endsWith:vk,toArray:xk,forEachEntry:wk,matchAll:Sk,isHTMLForm:Tk,hasOwnProperty:YS,hasOwnProp:YS,reduceDescriptors:G5,freezeMethods:Mk,toObjectSet:Ak,toCamelCase:Ek,noop:kk,toFiniteNumber:Pk,findKey:N5,global:j5,isContextDefined:U5,toJSONObject:Dk};function ir(e,t,s,a,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),c&&(this.response=c)}Oi.inherits(ir,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oi.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const V5=ir.prototype,$5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$5[e]={value:e}});Object.defineProperties(ir,$5);Object.defineProperty(V5,"isAxiosError",{value:!0});ir.from=(e,t,s,a,c,d)=>{const m=Object.create(V5);return Oi.toFlatObject(e,m,function(S){return S!==Error.prototype},n=>n!=="isAxiosError"),ir.call(m,e.message,t,s,a,c),m.cause=e,m.name=e.name,d&&Object.assign(m,d),m};var Ik=typeof self=="object"?self.FormData:window.FormData;const Lk=uh(Ik);function sw(e){return Oi.isPlainObject(e)||Oi.isArray(e)}function H5(e){return Oi.endsWith(e,"[]")?e.slice(0,-2):e}function qS(e,t,s){return e?e.concat(t).map(function(c,d){return c=H5(c),!s&&d?"["+c+"]":c}).join(s?".":""):t}function Ok(e){return Oi.isArray(e)&&!e.some(sw)}const Rk=Oi.toFlatObject(Oi,{},null,function(t){return/^is[A-Z]/.test(t)});function Bk(e){return e&&Oi.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function Vv(e,t,s){if(!Oi.isObject(e))throw new TypeError("target must be an object");t=t||new(Lk||FormData),s=Oi.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,$){return!Oi.isUndefined($[R])});const a=s.metaTokens,c=s.visitor||Z,d=s.dots,m=s.indexes,S=(s.Blob||typeof Blob<"u"&&Blob)&&Bk(t);if(!Oi.isFunction(c))throw new TypeError("visitor must be a function");function z(L){if(L===null)return"";if(Oi.isDate(L))return L.toISOString();if(!S&&Oi.isBlob(L))throw new ir("Blob is not supported. Use a Buffer instead.");return Oi.isArrayBuffer(L)||Oi.isTypedArray(L)?S&&typeof Blob=="function"?new Blob([L]):Buffer.from(L):L}function Z(L,R,$){let M=L;if(L&&!$&&typeof L=="object"){if(Oi.endsWith(R,"{}"))R=a?R:R.slice(0,-2),L=JSON.stringify(L);else if(Oi.isArray(L)&&Ok(L)||Oi.isFileList(L)||Oi.endsWith(R,"[]")&&(M=Oi.toArray(L)))return R=H5(R),M.forEach(function(k,V){!(Oi.isUndefined(k)||k===null)&&t.append(m===!0?qS([R],V,d):m===null?R:R+"[]",z(k))}),!1}return sw(L)?!0:(t.append(qS($,R,d),z(L)),!1)}const O=[],H=Object.assign(Rk,{defaultVisitor:Z,convertValue:z,isVisitable:sw});function q(L,R){if(!Oi.isUndefined(L)){if(O.indexOf(L)!==-1)throw Error("Circular reference detected in "+R.join("."));O.push(L),Oi.forEach(L,function(M,E){(!(Oi.isUndefined(M)||M===null)&&c.call(t,M,Oi.isString(E)?E.trim():E,R,H))===!0&&q(M,R?R.concat(E):[E])}),O.pop()}}if(!Oi.isObject(e))throw new TypeError("data must be an object");return q(e),t}function XS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Yw(e,t){this._pairs=[],e&&Vv(e,this,t)}const W5=Yw.prototype;W5.append=function(t,s){this._pairs.push([t,s])};W5.toString=function(t){const s=t?function(a){return t.call(this,a,XS)}:XS;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function zk(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Y5(e,t,s){if(!t)return e;const a=s&&s.encode||zk,c=s&&s.serialize;let d;if(c?d=c(t,s):d=Oi.isURLSearchParams(t)?t.toString():new Yw(t,s).toString(a),d){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class Fk{constructor(){this.handlers=[]}use(t,s,a){return this.handlers.push({fulfilled:t,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Oi.forEach(this.handlers,function(a){a!==null&&t(a)})}}const ZS=Fk,q5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Nk=typeof URLSearchParams<"u"?URLSearchParams:Yw,jk=FormData,Uk=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Gk=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),_d={isBrowser:!0,classes:{URLSearchParams:Nk,FormData:jk,Blob},isStandardBrowserEnv:Uk,isStandardBrowserWebWorkerEnv:Gk,protocols:["http","https","file","blob","url","data"]};function Vk(e,t){return Vv(e,new _d.classes.URLSearchParams,Object.assign({visitor:function(s,a,c,d){return _d.isNode&&Oi.isBuffer(s)?(this.append(a,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},t))}function $k(e){return Oi.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Hk(e){const t={},s=Object.keys(e);let a;const c=s.length;let d;for(a=0;a<c;a++)d=s[a],t[d]=e[d];return t}function X5(e){function t(s,a,c,d){let m=s[d++];const n=Number.isFinite(+m),S=d>=s.length;return m=!m&&Oi.isArray(c)?c.length:m,S?(Oi.hasOwnProp(c,m)?c[m]=[c[m],a]:c[m]=a,!n):((!c[m]||!Oi.isObject(c[m]))&&(c[m]=[]),t(s,a,c[m],d)&&Oi.isArray(c[m])&&(c[m]=Hk(c[m])),!n)}if(Oi.isFormData(e)&&Oi.isFunction(e.entries)){const s={};return Oi.forEachEntry(e,(a,c)=>{t($k(a),c,s,0)}),s}return null}const Wk={"Content-Type":void 0};function Yk(e,t,s){if(Oi.isString(e))try{return(t||JSON.parse)(e),Oi.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const $v={transitional:q5,adapter:["xhr","http"],transformRequest:[function(t,s){const a=s.getContentType()||"",c=a.indexOf("application/json")>-1,d=Oi.isObject(t);if(d&&Oi.isHTMLForm(t)&&(t=new FormData(t)),Oi.isFormData(t))return c&&c?JSON.stringify(X5(t)):t;if(Oi.isArrayBuffer(t)||Oi.isBuffer(t)||Oi.isStream(t)||Oi.isFile(t)||Oi.isBlob(t))return t;if(Oi.isArrayBufferView(t))return t.buffer;if(Oi.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let n;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Vk(t,this.formSerializer).toString();if((n=Oi.isFileList(t))||a.indexOf("multipart/form-data")>-1){const S=this.env&&this.env.FormData;return Vv(n?{"files[]":t}:t,S&&new S,this.formSerializer)}}return d||c?(s.setContentType("application/json",!1),Yk(t)):t}],transformResponse:[function(t){const s=this.transitional||$v.transitional,a=s&&s.forcedJSONParsing,c=this.responseType==="json";if(t&&Oi.isString(t)&&(a&&!this.responseType||c)){const m=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(n){if(m)throw n.name==="SyntaxError"?ir.from(n,ir.ERR_BAD_RESPONSE,this,null,this.response):n}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_d.classes.FormData,Blob:_d.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Oi.forEach(["delete","get","head"],function(t){$v.headers[t]={}});Oi.forEach(["post","put","patch"],function(t){$v.headers[t]=Oi.merge(Wk)});const qw=$v,qk=Oi.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xk=e=>{const t={};let s,a,c;return e&&e.split(`
`).forEach(function(m){c=m.indexOf(":"),s=m.substring(0,c).trim().toLowerCase(),a=m.substring(c+1).trim(),!(!s||t[s]&&qk[s])&&(s==="set-cookie"?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)}),t},KS=Symbol("internals");function h1(e){return e&&String(e).trim().toLowerCase()}function Ky(e){return e===!1||e==null?e:Oi.isArray(e)?e.map(Ky):String(e)}function Zk(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}function Kk(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function JS(e,t,s,a){if(Oi.isFunction(a))return a.call(this,t,s);if(Oi.isString(t)){if(Oi.isString(a))return t.indexOf(a)!==-1;if(Oi.isRegExp(a))return a.test(t)}}function Jk(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,a)=>s.toUpperCase()+a)}function Qk(e,t){const s=Oi.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(c,d,m){return this[a].call(this,t,c,d,m)},configurable:!0})})}class Hv{constructor(t){t&&this.set(t)}set(t,s,a){const c=this;function d(n,S,z){const Z=h1(S);if(!Z)throw new Error("header name must be a non-empty string");const O=Oi.findKey(c,Z);(!O||c[O]===void 0||z===!0||z===void 0&&c[O]!==!1)&&(c[O||S]=Ky(n))}const m=(n,S)=>Oi.forEach(n,(z,Z)=>d(z,Z,S));return Oi.isPlainObject(t)||t instanceof this.constructor?m(t,s):Oi.isString(t)&&(t=t.trim())&&!Kk(t)?m(Xk(t),s):t!=null&&d(s,t,a),this}get(t,s){if(t=h1(t),t){const a=Oi.findKey(this,t);if(a){const c=this[a];if(!s)return c;if(s===!0)return Zk(c);if(Oi.isFunction(s))return s.call(this,c,a);if(Oi.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=h1(t),t){const a=Oi.findKey(this,t);return!!(a&&(!s||JS(this,this[a],a,s)))}return!1}delete(t,s){const a=this;let c=!1;function d(m){if(m=h1(m),m){const n=Oi.findKey(a,m);n&&(!s||JS(a,a[n],n,s))&&(delete a[n],c=!0)}}return Oi.isArray(t)?t.forEach(d):d(t),c}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(t){const s=this,a={};return Oi.forEach(this,(c,d)=>{const m=Oi.findKey(a,d);if(m){s[m]=Ky(c),delete s[d];return}const n=t?Jk(d):String(d).trim();n!==d&&delete s[d],s[n]=Ky(c),a[n]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return Oi.forEach(this,(a,c)=>{a!=null&&a!==!1&&(s[c]=t&&Oi.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const a=new this(t);return s.forEach(c=>a.set(c)),a}static accessor(t){const a=(this[KS]=this[KS]={accessors:{}}).accessors,c=this.prototype;function d(m){const n=h1(m);a[n]||(Qk(c,m),a[n]=!0)}return Oi.isArray(t)?t.forEach(d):d(t),this}}Hv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);Oi.freezeMethods(Hv.prototype);Oi.freezeMethods(Hv);const ru=Hv;function C2(e,t){const s=this||qw,a=t||s,c=ru.from(a.headers);let d=a.data;return Oi.forEach(e,function(n){d=n.call(s,d,c.normalize(),t?t.status:void 0)}),c.normalize(),d}function Z5(e){return!!(e&&e.__CANCEL__)}function $1(e,t,s){ir.call(this,e??"canceled",ir.ERR_CANCELED,t,s),this.name="CanceledError"}Oi.inherits($1,ir,{__CANCEL__:!0});const e4=null;function t4(e,t,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):t(new ir("Request failed with status code "+s.status,[ir.ERR_BAD_REQUEST,ir.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const i4=_d.isStandardBrowserEnv?function(){return{write:function(s,a,c,d,m,n){const S=[];S.push(s+"="+encodeURIComponent(a)),Oi.isNumber(c)&&S.push("expires="+new Date(c).toGMTString()),Oi.isString(d)&&S.push("path="+d),Oi.isString(m)&&S.push("domain="+m),n===!0&&S.push("secure"),document.cookie=S.join("; ")},read:function(s){const a=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function n4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function s4(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function K5(e,t){return e&&!n4(t)?s4(e,t):t}const r4=_d.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let a;function c(d){let m=d;return t&&(s.setAttribute("href",m),m=s.href),s.setAttribute("href",m),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return a=c(window.location.href),function(m){const n=Oi.isString(m)?c(m):m;return n.protocol===a.protocol&&n.host===a.host}}():function(){return function(){return!0}}();function o4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function a4(e,t){e=e||10;const s=new Array(e),a=new Array(e);let c=0,d=0,m;return t=t!==void 0?t:1e3,function(S){const z=Date.now(),Z=a[d];m||(m=z),s[c]=S,a[c]=z;let O=d,H=0;for(;O!==c;)H+=s[O++],O=O%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),z-m<t)return;const q=Z&&z-Z;return q?Math.round(H*1e3/q):void 0}}function QS(e,t){let s=0;const a=a4(50,250);return c=>{const d=c.loaded,m=c.lengthComputable?c.total:void 0,n=d-s,S=a(n),z=d<=m;s=d;const Z={loaded:d,total:m,progress:m?d/m:void 0,bytes:n,rate:S||void 0,estimated:S&&m&&z?(m-d)/S:void 0,event:c};Z[t?"download":"upload"]=!0,e(Z)}}const l4=typeof XMLHttpRequest<"u",c4=l4&&function(e){return new Promise(function(s,a){let c=e.data;const d=ru.from(e.headers).normalize(),m=e.responseType;let n;function S(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}Oi.isFormData(c)&&(_d.isStandardBrowserEnv||_d.isStandardBrowserWebWorkerEnv)&&d.setContentType(!1);let z=new XMLHttpRequest;if(e.auth){const q=e.auth.username||"",L=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.set("Authorization","Basic "+btoa(q+":"+L))}const Z=K5(e.baseURL,e.url);z.open(e.method.toUpperCase(),Y5(Z,e.params,e.paramsSerializer),!0),z.timeout=e.timeout;function O(){if(!z)return;const q=ru.from("getAllResponseHeaders"in z&&z.getAllResponseHeaders()),R={data:!m||m==="text"||m==="json"?z.responseText:z.response,status:z.status,statusText:z.statusText,headers:q,config:e,request:z};t4(function(M){s(M),S()},function(M){a(M),S()},R),z=null}if("onloadend"in z?z.onloadend=O:z.onreadystatechange=function(){!z||z.readyState!==4||z.status===0&&!(z.responseURL&&z.responseURL.indexOf("file:")===0)||setTimeout(O)},z.onabort=function(){z&&(a(new ir("Request aborted",ir.ECONNABORTED,e,z)),z=null)},z.onerror=function(){a(new ir("Network Error",ir.ERR_NETWORK,e,z)),z=null},z.ontimeout=function(){let L=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const R=e.transitional||q5;e.timeoutErrorMessage&&(L=e.timeoutErrorMessage),a(new ir(L,R.clarifyTimeoutError?ir.ETIMEDOUT:ir.ECONNABORTED,e,z)),z=null},_d.isStandardBrowserEnv){const q=(e.withCredentials||r4(Z))&&e.xsrfCookieName&&i4.read(e.xsrfCookieName);q&&d.set(e.xsrfHeaderName,q)}c===void 0&&d.setContentType(null),"setRequestHeader"in z&&Oi.forEach(d.toJSON(),function(L,R){z.setRequestHeader(R,L)}),Oi.isUndefined(e.withCredentials)||(z.withCredentials=!!e.withCredentials),m&&m!=="json"&&(z.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&z.addEventListener("progress",QS(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&z.upload&&z.upload.addEventListener("progress",QS(e.onUploadProgress)),(e.cancelToken||e.signal)&&(n=q=>{z&&(a(!q||q.type?new $1(null,e,z):q),z.abort(),z=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n)));const H=o4(Z);if(H&&_d.protocols.indexOf(H)===-1){a(new ir("Unsupported protocol "+H+":",ir.ERR_BAD_REQUEST,e));return}z.send(c||null)})},Jy={http:e4,xhr:c4};Oi.forEach(Jy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const h4={getAdapter:e=>{e=Oi.isArray(e)?e:[e];const{length:t}=e;let s,a;for(let c=0;c<t&&(s=e[c],!(a=Oi.isString(s)?Jy[s.toLowerCase()]:s));c++);if(!a)throw a===!1?new ir(`Adapter ${s} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Oi.hasOwnProp(Jy,s)?`Adapter '${s}' is not available in the build`:`Unknown adapter '${s}'`);if(!Oi.isFunction(a))throw new TypeError("adapter is not a function");return a},adapters:Jy};function M2(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $1(null,e)}function eT(e){return M2(e),e.headers=ru.from(e.headers),e.data=C2.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),h4.getAdapter(e.adapter||qw.adapter)(e).then(function(a){return M2(e),a.data=C2.call(e,e.transformResponse,a),a.headers=ru.from(a.headers),a},function(a){return Z5(a)||(M2(e),a&&a.response&&(a.response.data=C2.call(e,e.transformResponse,a.response),a.response.headers=ru.from(a.response.headers))),Promise.reject(a)})}const tT=e=>e instanceof ru?e.toJSON():e;function gm(e,t){t=t||{};const s={};function a(z,Z,O){return Oi.isPlainObject(z)&&Oi.isPlainObject(Z)?Oi.merge.call({caseless:O},z,Z):Oi.isPlainObject(Z)?Oi.merge({},Z):Oi.isArray(Z)?Z.slice():Z}function c(z,Z,O){if(Oi.isUndefined(Z)){if(!Oi.isUndefined(z))return a(void 0,z,O)}else return a(z,Z,O)}function d(z,Z){if(!Oi.isUndefined(Z))return a(void 0,Z)}function m(z,Z){if(Oi.isUndefined(Z)){if(!Oi.isUndefined(z))return a(void 0,z)}else return a(void 0,Z)}function n(z,Z,O){if(O in t)return a(z,Z);if(O in e)return a(void 0,z)}const S={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:n,headers:(z,Z)=>c(tT(z),tT(Z),!0)};return Oi.forEach(Object.keys(e).concat(Object.keys(t)),function(Z){const O=S[Z]||c,H=O(e[Z],t[Z],Z);Oi.isUndefined(H)&&O!==n||(s[Z]=H)}),s}const J5="1.2.2",Xw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xw[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const iT={};Xw.transitional=function(t,s,a){function c(d,m){return"[Axios v"+J5+"] Transitional option '"+d+"'"+m+(a?". "+a:"")}return(d,m,n)=>{if(t===!1)throw new ir(c(m," has been removed"+(s?" in "+s:"")),ir.ERR_DEPRECATED);return s&&!iT[m]&&(iT[m]=!0,console.warn(c(m," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(d,m,n):!0}};function d4(e,t,s){if(typeof e!="object")throw new ir("options must be an object",ir.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let c=a.length;for(;c-- >0;){const d=a[c],m=t[d];if(m){const n=e[d],S=n===void 0||m(n,d,e);if(S!==!0)throw new ir("option "+d+" must be "+S,ir.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ir("Unknown option "+d,ir.ERR_BAD_OPTION)}}const rw={assertOptions:d4,validators:Xw},Ju=rw.validators;class uv{constructor(t){this.defaults=t,this.interceptors={request:new ZS,response:new ZS}}request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=gm(this.defaults,s);const{transitional:a,paramsSerializer:c,headers:d}=s;a!==void 0&&rw.assertOptions(a,{silentJSONParsing:Ju.transitional(Ju.boolean),forcedJSONParsing:Ju.transitional(Ju.boolean),clarifyTimeoutError:Ju.transitional(Ju.boolean)},!1),c!==void 0&&rw.assertOptions(c,{encode:Ju.function,serialize:Ju.function},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let m;m=d&&Oi.merge(d.common,d[s.method]),m&&Oi.forEach(["delete","get","head","post","put","patch","common"],L=>{delete d[L]}),s.headers=ru.concat(m,d);const n=[];let S=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(s)===!1||(S=S&&R.synchronous,n.unshift(R.fulfilled,R.rejected))});const z=[];this.interceptors.response.forEach(function(R){z.push(R.fulfilled,R.rejected)});let Z,O=0,H;if(!S){const L=[eT.bind(this),void 0];for(L.unshift.apply(L,n),L.push.apply(L,z),H=L.length,Z=Promise.resolve(s);O<H;)Z=Z.then(L[O++],L[O++]);return Z}H=n.length;let q=s;for(O=0;O<H;){const L=n[O++],R=n[O++];try{q=L(q)}catch($){R.call(this,$);break}}try{Z=eT.call(this,q)}catch(L){return Promise.reject(L)}for(O=0,H=z.length;O<H;)Z=Z.then(z[O++],z[O++]);return Z}getUri(t){t=gm(this.defaults,t);const s=K5(t.baseURL,t.url);return Y5(s,t.params,t.paramsSerializer)}}Oi.forEach(["delete","get","head","options"],function(t){uv.prototype[t]=function(s,a){return this.request(gm(a||{},{method:t,url:s,data:(a||{}).data}))}});Oi.forEach(["post","put","patch"],function(t){function s(a){return function(d,m,n){return this.request(gm(n||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}uv.prototype[t]=s(),uv.prototype[t+"Form"]=s(!0)});const Qy=uv;class Zw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const a=this;this.promise.then(c=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](c);a._listeners=null}),this.promise.then=c=>{let d;const m=new Promise(n=>{a.subscribe(n),d=n}).then(c);return m.cancel=function(){a.unsubscribe(d)},m},t(function(d,m,n){a.reason||(a.reason=new $1(d,m,n),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}static source(){let t;return{token:new Zw(function(c){t=c}),cancel:t}}}const u4=Zw;function p4(e){return function(s){return e.apply(null,s)}}function f4(e){return Oi.isObject(e)&&e.isAxiosError===!0}const ow={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ow).forEach(([e,t])=>{ow[t]=e});const m4=ow;function Q5(e){const t=new Qy(e),s=R5(Qy.prototype.request,t);return Oi.extend(s,Qy.prototype,t,{allOwnKeys:!0}),Oi.extend(s,t,null,{allOwnKeys:!0}),s.create=function(c){return Q5(gm(e,c))},s}const oa=Q5(qw);oa.Axios=Qy;oa.CanceledError=$1;oa.CancelToken=u4;oa.isCancel=Z5;oa.VERSION=J5;oa.toFormData=Vv;oa.AxiosError=ir;oa.Cancel=oa.CanceledError;oa.all=function(t){return Promise.all(t)};oa.spread=p4;oa.isAxiosError=f4;oa.mergeConfig=gm;oa.AxiosHeaders=ru;oa.formToJSON=e=>X5(Oi.isHTMLForm(e)?new FormData(e):e);oa.HttpStatusCode=m4;oa.default=oa;const g4=oa;window._=Uv;window.$=ik;window.axios=g4;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function oc(e,t){const s=Object.create(null),a=e.split(",");for(let c=0;c<a.length;c++)s[a[c]]=!0;return t?c=>!!s[c.toLowerCase()]:c=>!!s[c]}const _4="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",y4=oc(_4);function Dl(e){if(vn(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],c=xs(a)?eE(a):Dl(a);if(c)for(const d in c)t[d]=c[d]}return t}else{if(xs(e))return e;if(Cr(e))return e}}const v4=/;(?![^(]*\))/g,x4=/:([^]+)/,b4=/\/\*.*?\*\//gs;function eE(e){const t={};return e.replace(b4,"").split(v4).forEach(s=>{if(s){const a=s.split(x4);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Gs(e){let t="";if(xs(e))t=e;else if(vn(e))for(let s=0;s<e.length;s++){const a=Gs(e[s]);a&&(t+=a+" ")}else if(Cr(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}function pv(e){if(!e)return null;let{class:t,style:s}=e;return t&&!xs(t)&&(e.class=Gs(t)),s&&(e.style=Dl(s)),e}const w4="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",S4="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",T4="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",E4=oc(w4),C4=oc(S4),M4=oc(T4),A4="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",k4=oc(A4);function tE(e){return!!e||e===""}function P4(e,t){if(e.length!==t.length)return!1;let s=!0;for(let a=0;s&&a<e.length;a++)s=mp(e[a],t[a]);return s}function mp(e,t){if(e===t)return!0;let s=nT(e),a=nT(t);if(s||a)return s&&a?e.getTime()===t.getTime():!1;if(s=gp(e),a=gp(t),s||a)return e===t;if(s=vn(e),a=vn(t),s||a)return s&&a?P4(e,t):!1;if(s=Cr(e),a=Cr(t),s||a){if(!s||!a)return!1;const c=Object.keys(e).length,d=Object.keys(t).length;if(c!==d)return!1;for(const m in e){const n=e.hasOwnProperty(m),S=t.hasOwnProperty(m);if(n&&!S||!n&&S||!mp(e[m],t[m]))return!1}}return String(e)===String(t)}function Wv(e,t){return e.findIndex(s=>mp(s,t))}const ji=e=>xs(e)?e:e==null?"":vn(e)||Cr(e)&&(e.toString===nE||!as(e.toString))?JSON.stringify(e,iE,2):String(e),iE=(e,t)=>t&&t.__v_isRef?iE(e,t.value):am(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,c])=>(s[`${a} =>`]=c,s),{})}:Hf(t)?{[`Set(${t.size})`]:[...t.values()]}:Cr(t)&&!vn(t)&&!sE(t)?String(t):t,Sr={},om=[],Ll=()=>{},ev=()=>!1,D4=/^on[^a-z]/,$f=e=>D4.test(e),Kw=e=>e.startsWith("onUpdate:"),ur=Object.assign,Jw=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},I4=Object.prototype.hasOwnProperty,tr=(e,t)=>I4.call(e,t),vn=Array.isArray,am=e=>H1(e)==="[object Map]",Hf=e=>H1(e)==="[object Set]",nT=e=>H1(e)==="[object Date]",as=e=>typeof e=="function",xs=e=>typeof e=="string",gp=e=>typeof e=="symbol",Cr=e=>e!==null&&typeof e=="object",Qw=e=>Cr(e)&&as(e.then)&&as(e.catch),nE=Object.prototype.toString,H1=e=>nE.call(e),L4=e=>H1(e).slice(8,-1),sE=e=>H1(e)==="[object Object]",e3=e=>xs(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,If=oc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),O4=oc("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Yv=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},R4=/-(\w)/g,va=Yv(e=>e.replace(R4,(t,s)=>s?s.toUpperCase():"")),B4=/\B([A-Z])/g,Ic=Yv(e=>e.replace(B4,"-$1").toLowerCase()),Ep=Yv(e=>e.charAt(0).toUpperCase()+e.slice(1)),Lf=Yv(e=>e?`on${Ep(e)}`:""),_m=(e,t)=>!Object.is(e,t),lm=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},fv=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},cu=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let sT;const z4=()=>sT||(sT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Mc;class qv{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Mc,!t&&Mc&&(this.index=(Mc.scopes||(Mc.scopes=[])).push(this)-1)}run(t){if(this.active){const s=Mc;try{return Mc=this,t()}finally{Mc=s}}}on(){Mc=this}off(){Mc=this.parent}stop(t){if(this.active){let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.scopes)for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0,this.active=!1}}}function rE(e){return new qv(e)}function oE(e,t=Mc){t&&t.active&&t.effects.push(e)}function aE(){return Mc}function lE(e){Mc&&Mc.cleanups.push(e)}const t3=e=>{const t=new Set(e);return t.w=0,t.n=0,t},cE=e=>(e.w&_p)>0,hE=e=>(e.n&_p)>0,F4=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=_p},N4=e=>{const{deps:t}=e;if(t.length){let s=0;for(let a=0;a<t.length;a++){const c=t[a];cE(c)&&!hE(c)?c.delete(e):t[s++]=c,c.w&=~_p,c.n&=~_p}t.length=s}},aw=new WeakMap;let g1=0,_p=1;const lw=30;let Lh;const Of=Symbol(""),cw=Symbol("");class Am{constructor(t,s=null,a){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,oE(this,a)}run(){if(!this.active)return this.fn();let t=Lh,s=hp;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Lh,Lh=this,hp=!0,_p=1<<++g1,g1<=lw?F4(this):rT(this),this.fn()}finally{g1<=lw&&N4(this),_p=1<<--g1,Lh=this.parent,hp=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Lh===this?this.deferStop=!0:this.active&&(rT(this),this.onStop&&this.onStop(),this.active=!1)}}function rT(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}function dE(e,t){e.effect&&(e=e.effect.fn);const s=new Am(e);t&&(ur(s,t),t.scope&&oE(s,t.scope)),(!t||!t.lazy)&&s.run();const a=s.run.bind(s);return a.effect=s,a}function uE(e){e.effect.stop()}let hp=!0;const pE=[];function km(){pE.push(hp),hp=!1}function Pm(){const e=pE.pop();hp=e===void 0?!0:e}function Oc(e,t,s){if(hp&&Lh){let a=aw.get(e);a||aw.set(e,a=new Map);let c=a.get(s);c||a.set(s,c=t3()),fE(c)}}function fE(e,t){let s=!1;g1<=lw?hE(e)||(e.n|=_p,s=!cE(e)):s=!e.has(Lh),s&&(e.add(Lh),Lh.deps.push(e))}function hu(e,t,s,a,c,d){const m=aw.get(e);if(!m)return;let n=[];if(t==="clear")n=[...m.values()];else if(s==="length"&&vn(e)){const S=cu(a);m.forEach((z,Z)=>{(Z==="length"||Z>=S)&&n.push(z)})}else switch(s!==void 0&&n.push(m.get(s)),t){case"add":vn(e)?e3(s)&&n.push(m.get("length")):(n.push(m.get(Of)),am(e)&&n.push(m.get(cw)));break;case"delete":vn(e)||(n.push(m.get(Of)),am(e)&&n.push(m.get(cw)));break;case"set":am(e)&&n.push(m.get(Of));break}if(n.length===1)n[0]&&hw(n[0]);else{const S=[];for(const z of n)z&&S.push(...z);hw(t3(S))}}function hw(e,t){const s=vn(e)?e:[...e];for(const a of s)a.computed&&oT(a);for(const a of s)a.computed||oT(a)}function oT(e,t){(e!==Lh||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const j4=oc("__proto__,__v_isRef,__isVue"),mE=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(gp)),U4=Xv(),G4=Xv(!1,!0),V4=Xv(!0),$4=Xv(!0,!0),aT=H4();function H4(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const a=Hs(this);for(let d=0,m=this.length;d<m;d++)Oc(a,"get",d+"");const c=a[t](...s);return c===-1||c===!1?a[t](...s.map(Hs)):c}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){km();const a=Hs(this)[t].apply(this,s);return Pm(),a}}),e}function Xv(e=!1,t=!1){return function(a,c,d){if(c==="__v_isReactive")return!e;if(c==="__v_isReadonly")return e;if(c==="__v_isShallow")return t;if(c==="__v_raw"&&d===(e?t?wE:bE:t?xE:vE).get(a))return a;const m=vn(a);if(!e&&m&&tr(aT,c))return Reflect.get(aT,c,d);const n=Reflect.get(a,c,d);return(gp(c)?mE.has(c):j4(c))||(e||Oc(a,"get",c),t)?n:na(n)?m&&e3(c)?n:n.value:Cr(n)?e?Jv(n):Dm(n):n}}const W4=gE(),Y4=gE(!0);function gE(e=!1){return function(s,a,c,d){let m=s[a];if(yp(m)&&na(m)&&!na(c))return!1;if(!e&&(!ym(c)&&!yp(c)&&(m=Hs(m),c=Hs(c)),!vn(s)&&na(m)&&!na(c)))return m.value=c,!0;const n=vn(s)&&e3(a)?Number(a)<s.length:tr(s,a),S=Reflect.set(s,a,c,d);return s===Hs(d)&&(n?_m(c,m)&&hu(s,"set",a,c):hu(s,"add",a,c)),S}}function q4(e,t){const s=tr(e,t);e[t];const a=Reflect.deleteProperty(e,t);return a&&s&&hu(e,"delete",t,void 0),a}function X4(e,t){const s=Reflect.has(e,t);return(!gp(t)||!mE.has(t))&&Oc(e,"has",t),s}function Z4(e){return Oc(e,"iterate",vn(e)?"length":Of),Reflect.ownKeys(e)}const _E={get:U4,set:W4,deleteProperty:q4,has:X4,ownKeys:Z4},yE={get:V4,set(e,t){return!0},deleteProperty(e,t){return!0}},K4=ur({},_E,{get:G4,set:Y4}),J4=ur({},yE,{get:$4}),i3=e=>e,Zv=e=>Reflect.getPrototypeOf(e);function Py(e,t,s=!1,a=!1){e=e.__v_raw;const c=Hs(e),d=Hs(t);s||(t!==d&&Oc(c,"get",t),Oc(c,"get",d));const{has:m}=Zv(c),n=a?i3:s?s3:M1;if(m.call(c,t))return n(e.get(t));if(m.call(c,d))return n(e.get(d));e!==c&&e.get(t)}function Dy(e,t=!1){const s=this.__v_raw,a=Hs(s),c=Hs(e);return t||(e!==c&&Oc(a,"has",e),Oc(a,"has",c)),e===c?s.has(e):s.has(e)||s.has(c)}function Iy(e,t=!1){return e=e.__v_raw,!t&&Oc(Hs(e),"iterate",Of),Reflect.get(e,"size",e)}function lT(e){e=Hs(e);const t=Hs(this);return Zv(t).has.call(t,e)||(t.add(e),hu(t,"add",e,e)),this}function cT(e,t){t=Hs(t);const s=Hs(this),{has:a,get:c}=Zv(s);let d=a.call(s,e);d||(e=Hs(e),d=a.call(s,e));const m=c.call(s,e);return s.set(e,t),d?_m(t,m)&&hu(s,"set",e,t):hu(s,"add",e,t),this}function hT(e){const t=Hs(this),{has:s,get:a}=Zv(t);let c=s.call(t,e);c||(e=Hs(e),c=s.call(t,e)),a&&a.call(t,e);const d=t.delete(e);return c&&hu(t,"delete",e,void 0),d}function dT(){const e=Hs(this),t=e.size!==0,s=e.clear();return t&&hu(e,"clear",void 0,void 0),s}function Ly(e,t){return function(a,c){const d=this,m=d.__v_raw,n=Hs(m),S=t?i3:e?s3:M1;return!e&&Oc(n,"iterate",Of),m.forEach((z,Z)=>a.call(c,S(z),S(Z),d))}}function Oy(e,t,s){return function(...a){const c=this.__v_raw,d=Hs(c),m=am(d),n=e==="entries"||e===Symbol.iterator&&m,S=e==="keys"&&m,z=c[e](...a),Z=s?i3:t?s3:M1;return!t&&Oc(d,"iterate",S?cw:Of),{next(){const{value:O,done:H}=z.next();return H?{value:O,done:H}:{value:n?[Z(O[0]),Z(O[1])]:Z(O),done:H}},[Symbol.iterator](){return this}}}}function Qu(e){return function(...t){return e==="delete"?!1:this}}function Q4(){const e={get(d){return Py(this,d)},get size(){return Iy(this)},has:Dy,add:lT,set:cT,delete:hT,clear:dT,forEach:Ly(!1,!1)},t={get(d){return Py(this,d,!1,!0)},get size(){return Iy(this)},has:Dy,add:lT,set:cT,delete:hT,clear:dT,forEach:Ly(!1,!0)},s={get(d){return Py(this,d,!0)},get size(){return Iy(this,!0)},has(d){return Dy.call(this,d,!0)},add:Qu("add"),set:Qu("set"),delete:Qu("delete"),clear:Qu("clear"),forEach:Ly(!0,!1)},a={get(d){return Py(this,d,!0,!0)},get size(){return Iy(this,!0)},has(d){return Dy.call(this,d,!0)},add:Qu("add"),set:Qu("set"),delete:Qu("delete"),clear:Qu("clear"),forEach:Ly(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{e[d]=Oy(d,!1,!1),s[d]=Oy(d,!0,!1),t[d]=Oy(d,!1,!0),a[d]=Oy(d,!0,!0)}),[e,s,t,a]}const[e6,t6,i6,n6]=Q4();function Kv(e,t){const s=t?e?n6:i6:e?t6:e6;return(a,c,d)=>c==="__v_isReactive"?!e:c==="__v_isReadonly"?e:c==="__v_raw"?a:Reflect.get(tr(s,c)&&c in a?s:a,c,d)}const s6={get:Kv(!1,!1)},r6={get:Kv(!1,!0)},o6={get:Kv(!0,!1)},a6={get:Kv(!0,!0)},vE=new WeakMap,xE=new WeakMap,bE=new WeakMap,wE=new WeakMap;function l6(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function c6(e){return e.__v_skip||!Object.isExtensible(e)?0:l6(L4(e))}function Dm(e){return yp(e)?e:Qv(e,!1,_E,s6,vE)}function n3(e){return Qv(e,!1,K4,r6,xE)}function Jv(e){return Qv(e,!0,yE,o6,bE)}function SE(e){return Qv(e,!0,J4,a6,wE)}function Qv(e,t,s,a,c){if(!Cr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const d=c.get(e);if(d)return d;const m=c6(e);if(m===0)return e;const n=new Proxy(e,m===2?a:s);return c.set(e,n),n}function dp(e){return yp(e)?dp(e.__v_raw):!!(e&&e.__v_isReactive)}function yp(e){return!!(e&&e.__v_isReadonly)}function ym(e){return!!(e&&e.__v_isShallow)}function ex(e){return dp(e)||yp(e)}function Hs(e){const t=e&&e.__v_raw;return t?Hs(t):e}function tx(e){return fv(e,"__v_skip",!0),e}const M1=e=>Cr(e)?Dm(e):e,s3=e=>Cr(e)?Jv(e):e;function r3(e){hp&&Lh&&(e=Hs(e),fE(e.dep||(e.dep=t3())))}function ix(e,t){e=Hs(e),e.dep&&hw(e.dep)}function na(e){return!!(e&&e.__v_isRef===!0)}function dr(e){return EE(e,!1)}function TE(e){return EE(e,!0)}function EE(e,t){return na(e)?e:new h6(e,t)}class h6{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:Hs(t),this._value=s?t:M1(t)}get value(){return r3(this),this._value}set value(t){const s=this.__v_isShallow||ym(t)||yp(t);t=s?t:Hs(t),_m(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:M1(t),ix(this))}}function CE(e){ix(e)}function Go(e){return na(e)?e.value:e}const d6={get:(e,t,s)=>Go(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const c=e[t];return na(c)&&!na(s)?(c.value=s,!0):Reflect.set(e,t,s,a)}};function nx(e){return dp(e)?e:new Proxy(e,d6)}class u6{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:s,set:a}=t(()=>r3(this),()=>ix(this));this._get=s,this._set=a}get value(){return this._get()}set value(t){this._set(t)}}function ME(e){return new u6(e)}function AE(e){const t=vn(e)?new Array(e.length):{};for(const s in e)t[s]=o3(e,s);return t}class p6{constructor(t,s,a){this._object=t,this._key=s,this._defaultValue=a,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function o3(e,t,s){const a=e[t];return na(a)?a:new p6(e,t,s)}var kE;class f6{constructor(t,s,a,c){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[kE]=!1,this._dirty=!0,this.effect=new Am(t,()=>{this._dirty||(this._dirty=!0,ix(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!c,this.__v_isReadonly=a}get value(){const t=Hs(this);return r3(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}kE="__v_isReadonly";function m6(e,t,s=!1){let a,c;const d=as(e);return d?(a=e,c=Ll):(a=e.get,c=e.set),new f6(a,c,d||!c,s)}function PE(e,...t){}function xd(e,t,s,a){let c;try{c=a?e(...a):e()}catch(d){Cp(d,t,s)}return c}function rc(e,t,s,a){if(as(e)){const d=xd(e,t,s,a);return d&&Qw(d)&&d.catch(m=>{Cp(m,t,s)}),d}const c=[];for(let d=0;d<e.length;d++)c.push(rc(e[d],t,s,a));return c}function Cp(e,t,s,a=!0){const c=t?t.vnode:null;if(t){let d=t.parent;const m=t.proxy,n=s;for(;d;){const z=d.ec;if(z){for(let Z=0;Z<z.length;Z++)if(z[Z](e,m,n)===!1)return}d=d.parent}const S=t.appContext.config.errorHandler;if(S){xd(S,null,10,[e,m,n]);return}}g6(e,s,c,a)}function g6(e,t,s,a=!0){console.error(e)}let A1=!1,dw=!1;const Ja=[];let fd=0;const cm=[];let eu=null,Cf=0;const DE=Promise.resolve();let a3=null;function yd(e){const t=a3||DE;return e?t.then(this?e.bind(this):e):t}function _6(e){let t=fd+1,s=Ja.length;for(;t<s;){const a=t+s>>>1;k1(Ja[a])<e?t=a+1:s=a}return t}function sx(e){(!Ja.length||!Ja.includes(e,A1&&e.allowRecurse?fd+1:fd))&&(e.id==null?Ja.push(e):Ja.splice(_6(e.id),0,e),IE())}function IE(){!A1&&!dw&&(dw=!0,a3=DE.then(LE))}function y6(e){const t=Ja.indexOf(e);t>fd&&Ja.splice(t,1)}function rx(e){vn(e)?cm.push(...e):(!eu||!eu.includes(e,e.allowRecurse?Cf+1:Cf))&&cm.push(e),IE()}function uT(e,t=A1?fd+1:0){for(;t<Ja.length;t++){const s=Ja[t];s&&s.pre&&(Ja.splice(t,1),t--,s())}}function mv(e){if(cm.length){const t=[...new Set(cm)];if(cm.length=0,eu){eu.push(...t);return}for(eu=t,eu.sort((s,a)=>k1(s)-k1(a)),Cf=0;Cf<eu.length;Cf++)eu[Cf]();eu=null,Cf=0}}const k1=e=>e.id==null?1/0:e.id,v6=(e,t)=>{const s=k1(e)-k1(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function LE(e){dw=!1,A1=!0,Ja.sort(v6);const t=Ll;try{for(fd=0;fd<Ja.length;fd++){const s=Ja[fd];s&&s.active!==!1&&xd(s,null,14)}}finally{fd=0,Ja.length=0,mv(),A1=!1,a3=null,(Ja.length||cm.length)&&LE()}}let Mf,Ry=[];function l3(e,t){var s,a;Mf=e,Mf?(Mf.enabled=!0,Ry.forEach(({event:c,args:d})=>Mf.emit(c,...d)),Ry=[]):typeof window<"u"&&window.HTMLElement&&!(!((a=(s=window.navigator)===null||s===void 0?void 0:s.userAgent)===null||a===void 0)&&a.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(d=>{l3(d,t)}),setTimeout(()=>{Mf||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Ry=[])},3e3)):Ry=[]}function x6(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||Sr;let c=s;const d=t.startsWith("update:"),m=d&&t.slice(7);if(m&&m in a){const Z=`${m==="modelValue"?"model":m}Modifiers`,{number:O,trim:H}=a[Z]||Sr;H&&(c=s.map(q=>xs(q)?q.trim():q)),O&&(c=s.map(cu))}let n,S=a[n=Lf(t)]||a[n=Lf(va(t))];!S&&d&&(S=a[n=Lf(Ic(t))]),S&&rc(S,e,6,c);const z=a[n+"Once"];if(z){if(!e.emitted)e.emitted={};else if(e.emitted[n])return;e.emitted[n]=!0,rc(z,e,6,c)}}function OE(e,t,s=!1){const a=t.emitsCache,c=a.get(e);if(c!==void 0)return c;const d=e.emits;let m={},n=!1;if(!as(e)){const S=z=>{const Z=OE(z,t,!0);Z&&(n=!0,ur(m,Z))};!s&&t.mixins.length&&t.mixins.forEach(S),e.extends&&S(e.extends),e.mixins&&e.mixins.forEach(S)}return!d&&!n?(Cr(e)&&a.set(e,null),null):(vn(d)?d.forEach(S=>m[S]=null):ur(m,d),Cr(e)&&a.set(e,m),m)}function ox(e,t){return!e||!$f(t)?!1:(t=t.slice(2).replace(/Once$/,""),tr(e,t[0].toLowerCase()+t.slice(1))||tr(e,Ic(t))||tr(e,t))}let Ia=null,ax=null;function P1(e){const t=Ia;return Ia=e,ax=e&&e.type.__scopeId||null,t}function fu(e){ax=e}function mu(){ax=null}const RE=e=>Do;function Do(e,t=Ia,s){if(!t||e._n)return e;const a=(...c)=>{a._d&&yv(-1);const d=P1(t);let m;try{m=e(...c)}finally{P1(d),a._d&&yv(1)}return m};return a._n=!0,a._c=!0,a._d=!0,a}function tv(e){const{type:t,vnode:s,proxy:a,withProxy:c,props:d,propsOptions:[m],slots:n,attrs:S,emit:z,render:Z,renderCache:O,data:H,setupState:q,ctx:L,inheritAttrs:R}=e;let $,M;const E=P1(e);try{if(s.shapeFlag&4){const V=c||a;$=Pc(Z.call(V,V,O,d,q,H,L)),M=S}else{const V=t;$=Pc(V.length>1?V(d,{attrs:S,slots:n,emit:z}):V(d,null)),M=t.props?S:w6(S)}}catch(V){x1.length=0,Cp(V,e,1),$=Qi(La)}let k=$;if(M&&R!==!1){const V=Object.keys(M),{shapeFlag:G}=k;V.length&&G&7&&(m&&V.some(Kw)&&(M=S6(M,m)),k=zh(k,M))}return s.dirs&&(k=zh(k),k.dirs=k.dirs?k.dirs.concat(s.dirs):s.dirs),s.transition&&(k.transition=s.transition),$=k,P1(E),$}function b6(e){let t;for(let s=0;s<e.length;s++){const a=e[s];if(du(a)){if(a.type!==La||a.children==="v-if"){if(t)return;t=a}}else return}return t}const w6=e=>{let t;for(const s in e)(s==="class"||s==="style"||$f(s))&&((t||(t={}))[s]=e[s]);return t},S6=(e,t)=>{const s={};for(const a in e)(!Kw(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function T6(e,t,s){const{props:a,children:c,component:d}=e,{props:m,children:n,patchFlag:S}=t,z=d.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&S>=0){if(S&1024)return!0;if(S&16)return a?pT(a,m,z):!!m;if(S&8){const Z=t.dynamicProps;for(let O=0;O<Z.length;O++){const H=Z[O];if(m[H]!==a[H]&&!ox(z,H))return!0}}}else return(c||n)&&(!n||!n.$stable)?!0:a===m?!1:a?m?pT(a,m,z):!0:!!m;return!1}function pT(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let c=0;c<a.length;c++){const d=a[c];if(t[d]!==e[d]&&!ox(s,d))return!0}return!1}function c3({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const BE=e=>e.__isSuspense,E6={name:"Suspense",__isSuspense:!0,process(e,t,s,a,c,d,m,n,S,z){e==null?C6(t,s,a,c,d,m,n,S,z):M6(e,t,s,a,c,m,n,S,z)},hydrate:A6,create:h3,normalize:k6},zE=E6;function D1(e,t){const s=e.props&&e.props[t];as(s)&&s()}function C6(e,t,s,a,c,d,m,n,S){const{p:z,o:{createElement:Z}}=S,O=Z("div"),H=e.suspense=h3(e,c,a,t,O,s,d,m,n,S);z(null,H.pendingBranch=e.ssContent,O,null,a,H,d,m),H.deps>0?(D1(e,"onPending"),D1(e,"onFallback"),z(null,e.ssFallback,t,s,a,null,d,m),hm(H,e.ssFallback)):H.resolve()}function M6(e,t,s,a,c,d,m,n,{p:S,um:z,o:{createElement:Z}}){const O=t.suspense=e.suspense;O.vnode=t,t.el=e.el;const H=t.ssContent,q=t.ssFallback,{activeBranch:L,pendingBranch:R,isInFallback:$,isHydrating:M}=O;if(R)O.pendingBranch=H,md(H,R)?(S(R,H,O.hiddenContainer,null,c,O,d,m,n),O.deps<=0?O.resolve():$&&(S(L,q,s,a,c,null,d,m,n),hm(O,q))):(O.pendingId++,M?(O.isHydrating=!1,O.activeBranch=R):z(R,c,O),O.deps=0,O.effects.length=0,O.hiddenContainer=Z("div"),$?(S(null,H,O.hiddenContainer,null,c,O,d,m,n),O.deps<=0?O.resolve():(S(L,q,s,a,c,null,d,m,n),hm(O,q))):L&&md(H,L)?(S(L,H,s,a,c,O,d,m,n),O.resolve(!0)):(S(null,H,O.hiddenContainer,null,c,O,d,m,n),O.deps<=0&&O.resolve()));else if(L&&md(H,L))S(L,H,s,a,c,O,d,m,n),hm(O,H);else if(D1(t,"onPending"),O.pendingBranch=H,O.pendingId++,S(null,H,O.hiddenContainer,null,c,O,d,m,n),O.deps<=0)O.resolve();else{const{timeout:E,pendingId:k}=O;E>0?setTimeout(()=>{O.pendingId===k&&O.fallback(q)},E):E===0&&O.fallback(q)}}function h3(e,t,s,a,c,d,m,n,S,z,Z=!1){const{p:O,m:H,um:q,n:L,o:{parentNode:R,remove:$}}=z,M=cu(e.props&&e.props.timeout),E={vnode:e,parent:t,parentComponent:s,isSVG:m,container:a,hiddenContainer:c,anchor:d,deps:0,pendingId:0,timeout:typeof M=="number"?M:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:Z,isUnmounted:!1,effects:[],resolve(k=!1){const{vnode:V,activeBranch:G,pendingBranch:C,pendingId:te,effects:Q,parentComponent:N,container:j}=E;if(E.isHydrating)E.isHydrating=!1;else if(!k){const D=G&&C.transition&&C.transition.mode==="out-in";D&&(G.transition.afterLeave=()=>{te===E.pendingId&&H(C,j,f,0)});let{anchor:f}=E;G&&(f=L(G),q(G,N,E,!0)),D||H(C,j,f,0)}hm(E,C),E.pendingBranch=null,E.isInFallback=!1;let W=E.parent,w=!1;for(;W;){if(W.pendingBranch){W.effects.push(...Q),w=!0;break}W=W.parent}w||rx(Q),E.effects=[],D1(V,"onResolve")},fallback(k){if(!E.pendingBranch)return;const{vnode:V,activeBranch:G,parentComponent:C,container:te,isSVG:Q}=E;D1(V,"onFallback");const N=L(G),j=()=>{E.isInFallback&&(O(null,k,te,N,C,null,Q,n,S),hm(E,k))},W=k.transition&&k.transition.mode==="out-in";W&&(G.transition.afterLeave=j),E.isInFallback=!0,q(G,C,null,!0),W||j()},move(k,V,G){E.activeBranch&&H(E.activeBranch,k,V,G),E.container=k},next(){return E.activeBranch&&L(E.activeBranch)},registerDep(k,V){const G=!!E.pendingBranch;G&&E.deps++;const C=k.vnode.el;k.asyncDep.catch(te=>{Cp(te,k,0)}).then(te=>{if(k.isUnmounted||E.isUnmounted||E.pendingId!==k.suspenseId)return;k.asyncResolved=!0;const{vnode:Q}=k;yw(k,te,!1),C&&(Q.el=C);const N=!C&&k.subTree.el;V(k,Q,R(C||k.subTree.el),C?null:L(k.subTree),E,m,S),N&&$(N),c3(k,Q.el),G&&--E.deps===0&&E.resolve()})},unmount(k,V){E.isUnmounted=!0,E.activeBranch&&q(E.activeBranch,s,k,V),E.pendingBranch&&q(E.pendingBranch,s,k,V)}};return E}function A6(e,t,s,a,c,d,m,n,S){const z=t.suspense=h3(t,a,s,e.parentNode,document.createElement("div"),null,c,d,m,n,!0),Z=S(e,z.pendingBranch=t.ssContent,s,z,d,m);return z.deps===0&&z.resolve(),Z}function k6(e){const{shapeFlag:t,children:s}=e,a=t&32;e.ssContent=fT(a?s.default:s),e.ssFallback=a?fT(s.fallback):Qi(La)}function fT(e){let t;if(as(e)){const s=Uf&&e._c;s&&(e._d=!1,Ot()),e=e(),s&&(e._d=!0,t=nc,aC())}return vn(e)&&(e=b6(e)),e=Pc(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(s=>s!==e)),e}function FE(e,t){t&&t.pendingBranch?vn(e)?t.effects.push(...e):t.effects.push(e):rx(e)}function hm(e,t){e.activeBranch=t;const{vnode:s,parentComponent:a}=e,c=s.el=t.el;a&&a.subTree===s&&(a.vnode.el=c,c3(a,c))}function Im(e,t){if(ia){let s=ia.provides;const a=ia.parent&&ia.parent.provides;a===s&&(s=ia.provides=Object.create(a)),s[e]=t}}function Rf(e,t,s=!1){const a=ia||Ia;if(a){const c=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(c&&e in c)return c[e];if(arguments.length>1)return s&&as(t)?t.call(a.proxy):t}}function NE(e,t){return W1(e,null,t)}function d3(e,t){return W1(e,null,{flush:"post"})}function jE(e,t){return W1(e,null,{flush:"sync"})}const By={};function ea(e,t,s){return W1(e,t,s)}function W1(e,t,{immediate:s,deep:a,flush:c,onTrack:d,onTrigger:m}=Sr){const n=ia;let S,z=!1,Z=!1;if(na(e)?(S=()=>e.value,z=ym(e)):dp(e)?(S=()=>e,a=!0):vn(e)?(Z=!0,z=e.some(k=>dp(k)||ym(k)),S=()=>e.map(k=>{if(na(k))return k.value;if(dp(k))return kf(k);if(as(k))return xd(k,n,2)})):as(e)?t?S=()=>xd(e,n,2):S=()=>{if(!(n&&n.isUnmounted))return O&&O(),rc(e,n,3,[H])}:S=Ll,t&&a){const k=S;S=()=>kf(k())}let O,H=k=>{O=M.onStop=()=>{xd(k,n,4)}},q;if(vm)if(H=Ll,t?s&&rc(t,n,3,[S(),Z?[]:void 0,H]):S(),c==="sync"){const k=P3();q=k.__watcherHandles||(k.__watcherHandles=[])}else return Ll;let L=Z?new Array(e.length).fill(By):By;const R=()=>{if(M.active)if(t){const k=M.run();(a||z||(Z?k.some((V,G)=>_m(V,L[G])):_m(k,L)))&&(O&&O(),rc(t,n,3,[k,L===By?void 0:Z&&L[0]===By?[]:L,H]),L=k)}else M.run()};R.allowRecurse=!!t;let $;c==="sync"?$=R:c==="post"?$=()=>Da(R,n&&n.suspense):(R.pre=!0,n&&(R.id=n.uid),$=()=>sx(R));const M=new Am(S,$);t?s?R():L=M.run():c==="post"?Da(M.run.bind(M),n&&n.suspense):M.run();const E=()=>{M.stop(),n&&n.scope&&Jw(n.scope.effects,M)};return q&&q.push(E),E}function P6(e,t,s){const a=this.proxy,c=xs(e)?e.includes(".")?UE(a,e):()=>a[e]:e.bind(a,a);let d;as(t)?d=t:(d=t.handler,s=t);const m=ia;bp(this);const n=W1(c,d.bind(a),s);return m?bp(m):pp(),n}function UE(e,t){const s=t.split(".");return()=>{let a=e;for(let c=0;c<s.length&&a;c++)a=a[s[c]];return a}}function kf(e,t){if(!Cr(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),na(e))kf(e.value,t);else if(vn(e))for(let s=0;s<e.length;s++)kf(e[s],t);else if(Hf(e)||am(e))e.forEach(s=>{kf(s,t)});else if(sE(e))for(const s in e)kf(e[s],t);return e}function lx(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return jh(()=>{e.isMounted=!0}),Yf(()=>{e.isUnmounting=!0}),e}const oh=[Function,Array],D6={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:oh,onEnter:oh,onAfterEnter:oh,onEnterCancelled:oh,onBeforeLeave:oh,onLeave:oh,onAfterLeave:oh,onLeaveCancelled:oh,onBeforeAppear:oh,onAppear:oh,onAfterAppear:oh,onAppearCancelled:oh},setup(e,{slots:t}){const s=_u(),a=lx();let c;return()=>{const d=t.default&&Y1(t.default(),!0);if(!d||!d.length)return;let m=d[0];if(d.length>1){for(const R of d)if(R.type!==La){m=R;break}}const n=Hs(e),{mode:S}=n;if(a.isLeaving)return A2(m);const z=mT(m);if(!z)return A2(m);const Z=jf(z,n,a,s);vp(z,Z);const O=s.subTree,H=O&&mT(O);let q=!1;const{getTransitionKey:L}=z.type;if(L){const R=L();c===void 0?c=R:R!==c&&(c=R,q=!0)}if(H&&H.type!==La&&(!md(z,H)||q)){const R=jf(H,n,a,s);if(vp(H,R),S==="out-in")return a.isLeaving=!0,R.afterLeave=()=>{a.isLeaving=!1,s.update.active!==!1&&s.update()},A2(m);S==="in-out"&&z.type!==La&&(R.delayLeave=($,M,E)=>{const k=GE(a,H);k[String(H.key)]=H,$._leaveCb=()=>{M(),$._leaveCb=void 0,delete Z.delayedLeave},Z.delayedLeave=E})}return m}}},cx=D6;function GE(e,t){const{leavingVNodes:s}=e;let a=s.get(t.type);return a||(a=Object.create(null),s.set(t.type,a)),a}function jf(e,t,s,a){const{appear:c,mode:d,persisted:m=!1,onBeforeEnter:n,onEnter:S,onAfterEnter:z,onEnterCancelled:Z,onBeforeLeave:O,onLeave:H,onAfterLeave:q,onLeaveCancelled:L,onBeforeAppear:R,onAppear:$,onAfterAppear:M,onAppearCancelled:E}=t,k=String(e.key),V=GE(s,e),G=(Q,N)=>{Q&&rc(Q,a,9,N)},C=(Q,N)=>{const j=N[1];G(Q,N),vn(Q)?Q.every(W=>W.length<=1)&&j():Q.length<=1&&j()},te={mode:d,persisted:m,beforeEnter(Q){let N=n;if(!s.isMounted)if(c)N=R||n;else return;Q._leaveCb&&Q._leaveCb(!0);const j=V[k];j&&md(e,j)&&j.el._leaveCb&&j.el._leaveCb(),G(N,[Q])},enter(Q){let N=S,j=z,W=Z;if(!s.isMounted)if(c)N=$||S,j=M||z,W=E||Z;else return;let w=!1;const D=Q._enterCb=f=>{w||(w=!0,f?G(W,[Q]):G(j,[Q]),te.delayedLeave&&te.delayedLeave(),Q._enterCb=void 0)};N?C(N,[Q,D]):D()},leave(Q,N){const j=String(e.key);if(Q._enterCb&&Q._enterCb(!0),s.isUnmounting)return N();G(O,[Q]);let W=!1;const w=Q._leaveCb=D=>{W||(W=!0,N(),D?G(L,[Q]):G(q,[Q]),Q._leaveCb=void 0,V[j]===e&&delete V[j])};V[j]=e,H?C(H,[Q,w]):w()},clone(Q){return jf(Q,t,s,a)}};return te}function A2(e){if(X1(e))return e=zh(e),e.children=null,e}function mT(e){return X1(e)?e.children?e.children[0]:void 0:e}function vp(e,t){e.shapeFlag&6&&e.component?vp(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Y1(e,t=!1,s){let a=[],c=0;for(let d=0;d<e.length;d++){let m=e[d];const n=s==null?m.key:String(s)+String(m.key!=null?m.key:d);m.type===fn?(m.patchFlag&128&&c++,a=a.concat(Y1(m.children,t,n))):(t||m.type!==La)&&a.push(n!=null?zh(m,{key:n}):m)}if(c>1)for(let d=0;d<a.length;d++)a[d].patchFlag=-2;return a}function q1(e){return as(e)?{setup:e,name:e.name}:e}const Bf=e=>!!e.type.__asyncLoader;function VE(e){as(e)&&(e={loader:e});const{loader:t,loadingComponent:s,errorComponent:a,delay:c=200,timeout:d,suspensible:m=!0,onError:n}=e;let S=null,z,Z=0;const O=()=>(Z++,S=null,H()),H=()=>{let q;return S||(q=S=t().catch(L=>{if(L=L instanceof Error?L:new Error(String(L)),n)return new Promise((R,$)=>{n(L,()=>R(O()),()=>$(L),Z+1)});throw L}).then(L=>q!==S&&S?S:(L&&(L.__esModule||L[Symbol.toStringTag]==="Module")&&(L=L.default),z=L,L)))};return q1({name:"AsyncComponentWrapper",__asyncLoader:H,get __asyncResolved(){return z},setup(){const q=ia;if(z)return()=>k2(z,q);const L=E=>{S=null,Cp(E,q,13,!a)};if(m&&q.suspense||vm)return H().then(E=>()=>k2(E,q)).catch(E=>(L(E),()=>a?Qi(a,{error:E}):null));const R=dr(!1),$=dr(),M=dr(!!c);return c&&setTimeout(()=>{M.value=!1},c),d!=null&&setTimeout(()=>{if(!R.value&&!$.value){const E=new Error(`Async component timed out after ${d}ms.`);L(E),$.value=E}},d),H().then(()=>{R.value=!0,q.parent&&X1(q.parent.vnode)&&sx(q.parent.update)}).catch(E=>{L(E),$.value=E}),()=>{if(R.value&&z)return k2(z,q);if($.value&&a)return Qi(a,{error:$.value});if(s&&!M.value)return Qi(s)}}})}function k2(e,t){const{ref:s,props:a,children:c,ce:d}=t.vnode,m=Qi(e,a,c);return m.ref=s,m.ce=d,delete t.vnode.ce,m}const X1=e=>e.type.__isKeepAlive,I6={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const s=_u(),a=s.ctx;if(!a.renderer)return()=>{const E=t.default&&t.default();return E&&E.length===1?E[0]:E};const c=new Map,d=new Set;let m=null;const n=s.suspense,{renderer:{p:S,m:z,um:Z,o:{createElement:O}}}=a,H=O("div");a.activate=(E,k,V,G,C)=>{const te=E.component;z(E,k,V,0,n),S(te.vnode,E,k,V,te,n,G,E.slotScopeIds,C),Da(()=>{te.isDeactivated=!1,te.a&&lm(te.a);const Q=E.props&&E.props.onVnodeMounted;Q&&ec(Q,te.parent,E)},n)},a.deactivate=E=>{const k=E.component;z(E,H,null,1,n),Da(()=>{k.da&&lm(k.da);const V=E.props&&E.props.onVnodeUnmounted;V&&ec(V,k.parent,E),k.isDeactivated=!0},n)};function q(E){P2(E),Z(E,s,n,!0)}function L(E){c.forEach((k,V)=>{const G=xw(k.type);G&&(!E||!E(G))&&R(V)})}function R(E){const k=c.get(E);!m||k.type!==m.type?q(k):m&&P2(m),c.delete(E),d.delete(E)}ea(()=>[e.include,e.exclude],([E,k])=>{E&&L(V=>_1(E,V)),k&&L(V=>!_1(k,V))},{flush:"post",deep:!0});let $=null;const M=()=>{$!=null&&c.set($,D2(s.subTree))};return jh(M),Wf(M),Yf(()=>{c.forEach(E=>{const{subTree:k,suspense:V}=s,G=D2(k);if(E.type===G.type){P2(G);const C=G.component.da;C&&Da(C,V);return}q(E)})}),()=>{if($=null,!t.default)return null;const E=t.default(),k=E[0];if(E.length>1)return m=null,E;if(!du(k)||!(k.shapeFlag&4)&&!(k.shapeFlag&128))return m=null,k;let V=D2(k);const G=V.type,C=xw(Bf(V)?V.type.__asyncResolved||{}:G),{include:te,exclude:Q,max:N}=e;if(te&&(!C||!_1(te,C))||Q&&C&&_1(Q,C))return m=V,k;const j=V.key==null?G:V.key,W=c.get(j);return V.el&&(V=zh(V),k.shapeFlag&128&&(k.ssContent=V)),$=j,W?(V.el=W.el,V.component=W.component,V.transition&&vp(V,V.transition),V.shapeFlag|=512,d.delete(j),d.add(j)):(d.add(j),N&&d.size>parseInt(N,10)&&R(d.values().next().value)),V.shapeFlag|=256,m=V,BE(k.type)?k:V}}},$E=I6;function _1(e,t){return vn(e)?e.some(s=>_1(s,t)):xs(e)?e.split(",").includes(t):e.test?e.test(t):!1}function u3(e,t){HE(e,"a",t)}function p3(e,t){HE(e,"da",t)}function HE(e,t,s=ia){const a=e.__wdc||(e.__wdc=()=>{let c=s;for(;c;){if(c.isDeactivated)return;c=c.parent}return e()});if(hx(t,a,s),s){let c=s.parent;for(;c&&c.parent;)X1(c.parent.vnode)&&L6(a,t,s,c),c=c.parent}}function L6(e,t,s,a){const c=hx(t,e,a,!0);qf(()=>{Jw(a[t],c)},s)}function P2(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function D2(e){return e.shapeFlag&128?e.ssContent:e}function hx(e,t,s=ia,a=!1){if(s){const c=s[e]||(s[e]=[]),d=t.__weh||(t.__weh=(...m)=>{if(s.isUnmounted)return;km(),bp(s);const n=rc(t,s,e,m);return pp(),Pm(),n});return a?c.unshift(d):c.push(d),d}}const gu=e=>(t,s=ia)=>(!vm||e==="sp")&&hx(e,(...a)=>t(...a),s),f3=gu("bm"),jh=gu("m"),Z1=gu("bu"),Wf=gu("u"),Yf=gu("bum"),qf=gu("um"),m3=gu("sp"),g3=gu("rtg"),_3=gu("rtc");function y3(e,t=ia){hx("ec",e,t)}function rr(e,t){const s=Ia;if(s===null)return e;const a=fx(s)||s.proxy,c=e.dirs||(e.dirs=[]);for(let d=0;d<t.length;d++){let[m,n,S,z=Sr]=t[d];m&&(as(m)&&(m={mounted:m,updated:m}),m.deep&&kf(n),c.push({dir:m,instance:a,value:n,oldValue:void 0,arg:S,modifiers:z}))}return e}function pd(e,t,s,a){const c=e.dirs,d=t&&t.dirs;for(let m=0;m<c.length;m++){const n=c[m];d&&(n.oldValue=d[m].value);let S=n.dir[a];S&&(km(),rc(S,s,8,[e.el,n,e,t]),Pm())}}const v3="components",O6="directives";function Yn(e,t){return x3(v3,e,!0,t)||e}const WE=Symbol();function YE(e){return xs(e)?x3(v3,e,!1)||e:e||WE}function dx(e){return x3(O6,e)}function x3(e,t,s=!0,a=!1){const c=Ia||ia;if(c){const d=c.type;if(e===v3){const n=xw(d,!1);if(n&&(n===t||n===va(t)||n===Ep(va(t))))return d}const m=gT(c[e]||d[e],t)||gT(c.appContext[e],t);return!m&&a?d:m}}function gT(e,t){return e&&(e[t]||e[va(t)]||e[Ep(va(t))])}function vs(e,t,s,a){let c;const d=s&&s[a];if(vn(e)||xs(e)){c=new Array(e.length);for(let m=0,n=e.length;m<n;m++)c[m]=t(e[m],m,void 0,d&&d[m])}else if(typeof e=="number"){c=new Array(e);for(let m=0;m<e;m++)c[m]=t(m+1,m,void 0,d&&d[m])}else if(Cr(e))if(e[Symbol.iterator])c=Array.from(e,(m,n)=>t(m,n,void 0,d&&d[n]));else{const m=Object.keys(e);c=new Array(m.length);for(let n=0,S=m.length;n<S;n++){const z=m[n];c[n]=t(e[z],z,n,d&&d[n])}}else c=[];return s&&(s[a]=c),c}function qE(e,t){for(let s=0;s<t.length;s++){const a=t[s];if(vn(a))for(let c=0;c<a.length;c++)e[a[c].name]=a[c].fn;else a&&(e[a.name]=a.key?(...c)=>{const d=a.fn(...c);return d&&(d.key=a.key),d}:a.fn)}return e}function tc(e,t,s={},a,c){if(Ia.isCE||Ia.parent&&Bf(Ia.parent)&&Ia.parent.isCE)return t!=="default"&&(s.name=t),Qi("slot",s,a&&a());let d=e[t];d&&d._c&&(d._d=!1),Ot();const m=d&&XE(d(s)),n=Bh(fn,{key:s.key||m&&m.key||`_${t}`},m||(a?a():[]),m&&e._===1?64:-2);return!c&&n.scopeId&&(n.slotScopeIds=[n.scopeId+"-s"]),d&&d._c&&(d._d=!0),n}function XE(e){return e.some(t=>du(t)?!(t.type===La||t.type===fn&&!XE(t.children)):!0)?e:null}function ZE(e,t){const s={};for(const a in e)s[t&&/[A-Z]/.test(a)?`on:${a}`:Lf(a)]=e[a];return s}const uw=e=>e?uC(e)?fx(e)||e.proxy:uw(e.parent):null,y1=ur(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>uw(e.parent),$root:e=>uw(e.root),$emit:e=>e.emit,$options:e=>b3(e),$forceUpdate:e=>e.f||(e.f=()=>sx(e.update)),$nextTick:e=>e.n||(e.n=yd.bind(e.proxy)),$watch:e=>P6.bind(e)}),I2=(e,t)=>e!==Sr&&!e.__isScriptSetup&&tr(e,t),pw={get({_:e},t){const{ctx:s,setupState:a,data:c,props:d,accessCache:m,type:n,appContext:S}=e;let z;if(t[0]!=="$"){const q=m[t];if(q!==void 0)switch(q){case 1:return a[t];case 2:return c[t];case 4:return s[t];case 3:return d[t]}else{if(I2(a,t))return m[t]=1,a[t];if(c!==Sr&&tr(c,t))return m[t]=2,c[t];if((z=e.propsOptions[0])&&tr(z,t))return m[t]=3,d[t];if(s!==Sr&&tr(s,t))return m[t]=4,s[t];fw&&(m[t]=0)}}const Z=y1[t];let O,H;if(Z)return t==="$attrs"&&Oc(e,"get",t),Z(e);if((O=n.__cssModules)&&(O=O[t]))return O;if(s!==Sr&&tr(s,t))return m[t]=4,s[t];if(H=S.config.globalProperties,tr(H,t))return H[t]},set({_:e},t,s){const{data:a,setupState:c,ctx:d}=e;return I2(c,t)?(c[t]=s,!0):a!==Sr&&tr(a,t)?(a[t]=s,!0):tr(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(d[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:c,propsOptions:d}},m){let n;return!!s[m]||e!==Sr&&tr(e,m)||I2(t,m)||(n=d[0])&&tr(n,m)||tr(a,m)||tr(y1,m)||tr(c.config.globalProperties,m)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:tr(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}},R6=ur({},pw,{get(e,t){if(t!==Symbol.unscopables)return pw.get(e,t,e)},has(e,t){return t[0]!=="_"&&!y4(t)}});let fw=!0;function B6(e){const t=b3(e),s=e.proxy,a=e.ctx;fw=!1,t.beforeCreate&&_T(t.beforeCreate,e,"bc");const{data:c,computed:d,methods:m,watch:n,provide:S,inject:z,created:Z,beforeMount:O,mounted:H,beforeUpdate:q,updated:L,activated:R,deactivated:$,beforeDestroy:M,beforeUnmount:E,destroyed:k,unmounted:V,render:G,renderTracked:C,renderTriggered:te,errorCaptured:Q,serverPrefetch:N,expose:j,inheritAttrs:W,components:w,directives:D,filters:f}=t;if(z&&z6(z,a,null,e.appContext.config.unwrapInjectedRef),m)for(const P in m){const Y=m[P];as(Y)&&(a[P]=Y.bind(s))}if(c){const P=c.call(s,s);Cr(P)&&(e.data=Dm(P))}if(fw=!0,d)for(const P in d){const Y=d[P],ee=as(Y)?Y.bind(s,s):as(Y.get)?Y.get.bind(s,s):Ll,K=!as(Y)&&as(Y.set)?Y.set.bind(s):Ll,he=Ac({get:ee,set:K});Object.defineProperty(a,P,{enumerable:!0,configurable:!0,get:()=>he.value,set:ge=>he.value=ge})}if(n)for(const P in n)KE(n[P],a,s,P);if(S){const P=as(S)?S.call(s):S;Reflect.ownKeys(P).forEach(Y=>{Im(Y,P[Y])})}Z&&_T(Z,e,"c");function x(P,Y){vn(Y)?Y.forEach(ee=>P(ee.bind(s))):Y&&P(Y.bind(s))}if(x(f3,O),x(jh,H),x(Z1,q),x(Wf,L),x(u3,R),x(p3,$),x(y3,Q),x(_3,C),x(g3,te),x(Yf,E),x(qf,V),x(m3,N),vn(j))if(j.length){const P=e.exposed||(e.exposed={});j.forEach(Y=>{Object.defineProperty(P,Y,{get:()=>s[Y],set:ee=>s[Y]=ee})})}else e.exposed||(e.exposed={});G&&e.render===Ll&&(e.render=G),W!=null&&(e.inheritAttrs=W),w&&(e.components=w),D&&(e.directives=D)}function z6(e,t,s=Ll,a=!1){vn(e)&&(e=mw(e));for(const c in e){const d=e[c];let m;Cr(d)?"default"in d?m=Rf(d.from||c,d.default,!0):m=Rf(d.from||c):m=Rf(d),na(m)&&a?Object.defineProperty(t,c,{enumerable:!0,configurable:!0,get:()=>m.value,set:n=>m.value=n}):t[c]=m}}function _T(e,t,s){rc(vn(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function KE(e,t,s,a){const c=a.includes(".")?UE(s,a):()=>s[a];if(xs(e)){const d=t[e];as(d)&&ea(c,d)}else if(as(e))ea(c,e.bind(s));else if(Cr(e))if(vn(e))e.forEach(d=>KE(d,t,s,a));else{const d=as(e.handler)?e.handler.bind(s):t[e.handler];as(d)&&ea(c,d,e)}}function b3(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:c,optionsCache:d,config:{optionMergeStrategies:m}}=e.appContext,n=d.get(t);let S;return n?S=n:!c.length&&!s&&!a?S=t:(S={},c.length&&c.forEach(z=>gv(S,z,m,!0)),gv(S,t,m)),Cr(t)&&d.set(t,S),S}function gv(e,t,s,a=!1){const{mixins:c,extends:d}=t;d&&gv(e,d,s,!0),c&&c.forEach(m=>gv(e,m,s,!0));for(const m in t)if(!(a&&m==="expose")){const n=F6[m]||s&&s[m];e[m]=n?n(e[m],t[m]):t[m]}return e}const F6={data:yT,props:Tf,emits:Tf,methods:Tf,computed:Tf,beforeCreate:kl,created:kl,beforeMount:kl,mounted:kl,beforeUpdate:kl,updated:kl,beforeDestroy:kl,beforeUnmount:kl,destroyed:kl,unmounted:kl,activated:kl,deactivated:kl,errorCaptured:kl,serverPrefetch:kl,components:Tf,directives:Tf,watch:j6,provide:yT,inject:N6};function yT(e,t){return t?e?function(){return ur(as(e)?e.call(this,this):e,as(t)?t.call(this,this):t)}:t:e}function N6(e,t){return Tf(mw(e),mw(t))}function mw(e){if(vn(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function kl(e,t){return e?[...new Set([].concat(e,t))]:t}function Tf(e,t){return e?ur(ur(Object.create(null),e),t):t}function j6(e,t){if(!e)return t;if(!t)return e;const s=ur(Object.create(null),e);for(const a in t)s[a]=kl(e[a],t[a]);return s}function U6(e,t,s,a=!1){const c={},d={};fv(d,ux,1),e.propsDefaults=Object.create(null),JE(e,t,c,d);for(const m in e.propsOptions[0])m in c||(c[m]=void 0);s?e.props=a?c:n3(c):e.type.props?e.props=c:e.props=d,e.attrs=d}function G6(e,t,s,a){const{props:c,attrs:d,vnode:{patchFlag:m}}=e,n=Hs(c),[S]=e.propsOptions;let z=!1;if((a||m>0)&&!(m&16)){if(m&8){const Z=e.vnode.dynamicProps;for(let O=0;O<Z.length;O++){let H=Z[O];if(ox(e.emitsOptions,H))continue;const q=t[H];if(S)if(tr(d,H))q!==d[H]&&(d[H]=q,z=!0);else{const L=va(H);c[L]=gw(S,n,L,q,e,!1)}else q!==d[H]&&(d[H]=q,z=!0)}}}else{JE(e,t,c,d)&&(z=!0);let Z;for(const O in n)(!t||!tr(t,O)&&((Z=Ic(O))===O||!tr(t,Z)))&&(S?s&&(s[O]!==void 0||s[Z]!==void 0)&&(c[O]=gw(S,n,O,void 0,e,!0)):delete c[O]);if(d!==n)for(const O in d)(!t||!tr(t,O))&&(delete d[O],z=!0)}z&&hu(e,"set","$attrs")}function JE(e,t,s,a){const[c,d]=e.propsOptions;let m=!1,n;if(t)for(let S in t){if(If(S))continue;const z=t[S];let Z;c&&tr(c,Z=va(S))?!d||!d.includes(Z)?s[Z]=z:(n||(n={}))[Z]=z:ox(e.emitsOptions,S)||(!(S in a)||z!==a[S])&&(a[S]=z,m=!0)}if(d){const S=Hs(s),z=n||Sr;for(let Z=0;Z<d.length;Z++){const O=d[Z];s[O]=gw(c,S,O,z[O],e,!tr(z,O))}}return m}function gw(e,t,s,a,c,d){const m=e[s];if(m!=null){const n=tr(m,"default");if(n&&a===void 0){const S=m.default;if(m.type!==Function&&as(S)){const{propsDefaults:z}=c;s in z?a=z[s]:(bp(c),a=z[s]=S.call(null,t),pp())}else a=S}m[0]&&(d&&!n?a=!1:m[1]&&(a===""||a===Ic(s))&&(a=!0))}return a}function QE(e,t,s=!1){const a=t.propsCache,c=a.get(e);if(c)return c;const d=e.props,m={},n=[];let S=!1;if(!as(e)){const Z=O=>{S=!0;const[H,q]=QE(O,t,!0);ur(m,H),q&&n.push(...q)};!s&&t.mixins.length&&t.mixins.forEach(Z),e.extends&&Z(e.extends),e.mixins&&e.mixins.forEach(Z)}if(!d&&!S)return Cr(e)&&a.set(e,om),om;if(vn(d))for(let Z=0;Z<d.length;Z++){const O=va(d[Z]);vT(O)&&(m[O]=Sr)}else if(d)for(const Z in d){const O=va(Z);if(vT(O)){const H=d[Z],q=m[O]=vn(H)||as(H)?{type:H}:Object.assign({},H);if(q){const L=wT(Boolean,q.type),R=wT(String,q.type);q[0]=L>-1,q[1]=R<0||L<R,(L>-1||tr(q,"default"))&&n.push(O)}}}const z=[m,n];return Cr(e)&&a.set(e,z),z}function vT(e){return e[0]!=="$"}function xT(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function bT(e,t){return xT(e)===xT(t)}function wT(e,t){return vn(t)?t.findIndex(s=>bT(s,e)):as(t)&&bT(t,e)?0:-1}const eC=e=>e[0]==="_"||e==="$stable",w3=e=>vn(e)?e.map(Pc):[Pc(e)],V6=(e,t,s)=>{if(t._n)return t;const a=Do((...c)=>w3(t(...c)),s);return a._c=!1,a},tC=(e,t,s)=>{const a=e._ctx;for(const c in e){if(eC(c))continue;const d=e[c];if(as(d))t[c]=V6(c,d,a);else if(d!=null){const m=w3(d);t[c]=()=>m}}},iC=(e,t)=>{const s=w3(t);e.slots.default=()=>s},$6=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=Hs(t),fv(t,"_",s)):tC(t,e.slots={})}else e.slots={},t&&iC(e,t);fv(e.slots,ux,1)},H6=(e,t,s)=>{const{vnode:a,slots:c}=e;let d=!0,m=Sr;if(a.shapeFlag&32){const n=t._;n?s&&n===1?d=!1:(ur(c,t),!s&&n===1&&delete c._):(d=!t.$stable,tC(t,c)),m=t}else t&&(iC(e,t),m={default:1});if(d)for(const n in c)!eC(n)&&!(n in m)&&delete c[n]};function nC(){return{app:null,config:{isNativeTag:ev,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let W6=0;function Y6(e,t){return function(a,c=null){as(a)||(a=Object.assign({},a)),c!=null&&!Cr(c)&&(c=null);const d=nC(),m=new Set;let n=!1;const S=d.app={_uid:W6++,_component:a,_props:c,_container:null,_context:d,_instance:null,version:I3,get config(){return d.config},set config(z){},use(z,...Z){return m.has(z)||(z&&as(z.install)?(m.add(z),z.install(S,...Z)):as(z)&&(m.add(z),z(S,...Z))),S},mixin(z){return d.mixins.includes(z)||d.mixins.push(z),S},component(z,Z){return Z?(d.components[z]=Z,S):d.components[z]},directive(z,Z){return Z?(d.directives[z]=Z,S):d.directives[z]},mount(z,Z,O){if(!n){const H=Qi(a,c);return H.appContext=d,Z&&t?t(H,z):e(H,z,O),n=!0,S._container=z,z.__vue_app__=S,fx(H.component)||H.component.proxy}},unmount(){n&&(e(null,S._container),delete S._container.__vue_app__)},provide(z,Z){return d.provides[z]=Z,S}};return S}}function _v(e,t,s,a,c=!1){if(vn(e)){e.forEach((H,q)=>_v(H,t&&(vn(t)?t[q]:t),s,a,c));return}if(Bf(a)&&!c)return;const d=a.shapeFlag&4?fx(a.component)||a.component.proxy:a.el,m=c?null:d,{i:n,r:S}=e,z=t&&t.r,Z=n.refs===Sr?n.refs={}:n.refs,O=n.setupState;if(z!=null&&z!==S&&(xs(z)?(Z[z]=null,tr(O,z)&&(O[z]=null)):na(z)&&(z.value=null)),as(S))xd(S,n,12,[m,Z]);else{const H=xs(S),q=na(S);if(H||q){const L=()=>{if(e.f){const R=H?tr(O,S)?O[S]:Z[S]:S.value;c?vn(R)&&Jw(R,d):vn(R)?R.includes(d)||R.push(d):H?(Z[S]=[d],tr(O,S)&&(O[S]=Z[S])):(S.value=[d],e.k&&(Z[e.k]=S.value))}else H?(Z[S]=m,tr(O,S)&&(O[S]=m)):q&&(S.value=m,e.k&&(Z[e.k]=m))};m?(L.id=-1,Da(L,s)):L()}}}let ep=!1;const zy=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Fy=e=>e.nodeType===8;function q6(e){const{mt:t,p:s,o:{patchProp:a,createText:c,nextSibling:d,parentNode:m,remove:n,insert:S,createComment:z}}=e,Z=(M,E)=>{if(!E.hasChildNodes()){s(null,M,E),mv(),E._vnode=M;return}ep=!1,O(E.firstChild,M,null,null,null),mv(),E._vnode=M,ep&&console.error("Hydration completed but contains mismatches.")},O=(M,E,k,V,G,C=!1)=>{const te=Fy(M)&&M.data==="[",Q=()=>R(M,E,k,V,G,te),{type:N,ref:j,shapeFlag:W,patchFlag:w}=E;let D=M.nodeType;E.el=M,w===-2&&(C=!1,E.dynamicChildren=null);let f=null;switch(N){case xp:D!==3?E.children===""?(S(E.el=c(""),m(M),M),f=M):f=Q():(M.data!==E.children&&(ep=!0,M.data=E.children),f=d(M));break;case La:D!==8||te?f=Q():f=d(M);break;case up:if(te&&(M=d(M),D=M.nodeType),D===1||D===3){f=M;const g=!E.children.length;for(let x=0;x<E.staticCount;x++)g&&(E.children+=f.nodeType===1?f.outerHTML:f.data),x===E.staticCount-1&&(E.anchor=f),f=d(f);return te?d(f):f}else Q();break;case fn:te?f=L(M,E,k,V,G,C):f=Q();break;default:if(W&1)D!==1||E.type.toLowerCase()!==M.tagName.toLowerCase()?f=Q():f=H(M,E,k,V,G,C);else if(W&6){E.slotScopeIds=G;const g=m(M);if(t(E,g,null,k,V,zy(g),C),f=te?$(M):d(M),f&&Fy(f)&&f.data==="teleport end"&&(f=d(f)),Bf(E)){let x;te?(x=Qi(fn),x.anchor=f?f.previousSibling:g.lastChild):x=M.nodeType===3?Jr(""):Qi("div"),x.el=M,E.component.subTree=x}}else W&64?D!==8?f=Q():f=E.type.hydrate(M,E,k,V,G,C,e,q):W&128&&(f=E.type.hydrate(M,E,k,V,zy(m(M)),G,C,e,O))}return j!=null&&_v(j,null,V,E),f},H=(M,E,k,V,G,C)=>{C=C||!!E.dynamicChildren;const{type:te,props:Q,patchFlag:N,shapeFlag:j,dirs:W}=E,w=te==="input"&&W||te==="option";if(w||N!==-1){if(W&&pd(E,null,k,"created"),Q)if(w||!C||N&48)for(const f in Q)(w&&f.endsWith("value")||$f(f)&&!If(f))&&a(M,f,null,Q[f],!1,void 0,k);else Q.onClick&&a(M,"onClick",null,Q.onClick,!1,void 0,k);let D;if((D=Q&&Q.onVnodeBeforeMount)&&ec(D,k,E),W&&pd(E,null,k,"beforeMount"),((D=Q&&Q.onVnodeMounted)||W)&&FE(()=>{D&&ec(D,k,E),W&&pd(E,null,k,"mounted")},V),j&16&&!(Q&&(Q.innerHTML||Q.textContent))){let f=q(M.firstChild,E,M,k,V,G,C);for(;f;){ep=!0;const g=f;f=f.nextSibling,n(g)}}else j&8&&M.textContent!==E.children&&(ep=!0,M.textContent=E.children)}return M.nextSibling},q=(M,E,k,V,G,C,te)=>{te=te||!!E.dynamicChildren;const Q=E.children,N=Q.length;for(let j=0;j<N;j++){const W=te?Q[j]:Q[j]=Pc(Q[j]);if(M)M=O(M,W,V,G,C,te);else{if(W.type===xp&&!W.children)continue;ep=!0,s(null,W,k,null,V,G,zy(k),C)}}return M},L=(M,E,k,V,G,C)=>{const{slotScopeIds:te}=E;te&&(G=G?G.concat(te):te);const Q=m(M),N=q(d(M),E,Q,k,V,G,C);return N&&Fy(N)&&N.data==="]"?d(E.anchor=N):(ep=!0,S(E.anchor=z("]"),Q,N),N)},R=(M,E,k,V,G,C)=>{if(ep=!0,E.el=null,C){const N=$(M);for(;;){const j=d(M);if(j&&j!==N)n(j);else break}}const te=d(M),Q=m(M);return n(M),s(null,E,Q,te,k,V,zy(Q),G),te},$=M=>{let E=0;for(;M;)if(M=d(M),M&&Fy(M)&&(M.data==="["&&E++,M.data==="]")){if(E===0)return d(M);E--}return M};return[Z,O]}const Da=FE;function S3(e){return sC(e)}function T3(e){return sC(e,q6)}function sC(e,t){const s=z4();s.__VUE__=!0;const{insert:a,remove:c,patchProp:d,createElement:m,createText:n,createComment:S,setText:z,setElementText:Z,parentNode:O,nextSibling:H,setScopeId:q=Ll,insertStaticContent:L}=e,R=(ae,me,we,Re=null,Le=null,Ge=null,rt=!1,Qe=null,qe=!!me.dynamicChildren)=>{if(ae===me)return;ae&&!md(ae,me)&&(Re=pe(ae),ge(ae,Le,Ge,!0),ae=null),me.patchFlag===-2&&(qe=!1,me.dynamicChildren=null);const{type:Te,ref:Oe,shapeFlag:ze}=me;switch(Te){case xp:$(ae,me,we,Re);break;case La:M(ae,me,we,Re);break;case up:ae==null&&E(me,we,Re,rt);break;case fn:w(ae,me,we,Re,Le,Ge,rt,Qe,qe);break;default:ze&1?G(ae,me,we,Re,Le,Ge,rt,Qe,qe):ze&6?D(ae,me,we,Re,Le,Ge,rt,Qe,qe):(ze&64||ze&128)&&Te.process(ae,me,we,Re,Le,Ge,rt,Qe,qe,ne)}Oe!=null&&Le&&_v(Oe,ae&&ae.ref,Ge,me||ae,!me)},$=(ae,me,we,Re)=>{if(ae==null)a(me.el=n(me.children),we,Re);else{const Le=me.el=ae.el;me.children!==ae.children&&z(Le,me.children)}},M=(ae,me,we,Re)=>{ae==null?a(me.el=S(me.children||""),we,Re):me.el=ae.el},E=(ae,me,we,Re)=>{[ae.el,ae.anchor]=L(ae.children,me,we,Re,ae.el,ae.anchor)},k=({el:ae,anchor:me},we,Re)=>{let Le;for(;ae&&ae!==me;)Le=H(ae),a(ae,we,Re),ae=Le;a(me,we,Re)},V=({el:ae,anchor:me})=>{let we;for(;ae&&ae!==me;)we=H(ae),c(ae),ae=we;c(me)},G=(ae,me,we,Re,Le,Ge,rt,Qe,qe)=>{rt=rt||me.type==="svg",ae==null?C(me,we,Re,Le,Ge,rt,Qe,qe):N(ae,me,Le,Ge,rt,Qe,qe)},C=(ae,me,we,Re,Le,Ge,rt,Qe)=>{let qe,Te;const{type:Oe,props:ze,shapeFlag:Xe,transition:Je,dirs:pt}=ae;if(qe=ae.el=m(ae.type,Ge,ze&&ze.is,ze),Xe&8?Z(qe,ae.children):Xe&16&&Q(ae.children,qe,null,Re,Le,Ge&&Oe!=="foreignObject",rt,Qe),pt&&pd(ae,null,Re,"created"),ze){for(const It in ze)It!=="value"&&!If(It)&&d(qe,It,null,ze[It],Ge,ae.children,Re,Le,ce);"value"in ze&&d(qe,"value",null,ze.value),(Te=ze.onVnodeBeforeMount)&&ec(Te,Re,ae)}te(qe,ae,ae.scopeId,rt,Re),pt&&pd(ae,null,Re,"beforeMount");const bt=(!Le||Le&&!Le.pendingBranch)&&Je&&!Je.persisted;bt&&Je.beforeEnter(qe),a(qe,me,we),((Te=ze&&ze.onVnodeMounted)||bt||pt)&&Da(()=>{Te&&ec(Te,Re,ae),bt&&Je.enter(qe),pt&&pd(ae,null,Re,"mounted")},Le)},te=(ae,me,we,Re,Le)=>{if(we&&q(ae,we),Re)for(let Ge=0;Ge<Re.length;Ge++)q(ae,Re[Ge]);if(Le){let Ge=Le.subTree;if(me===Ge){const rt=Le.vnode;te(ae,rt,rt.scopeId,rt.slotScopeIds,Le.parent)}}},Q=(ae,me,we,Re,Le,Ge,rt,Qe,qe=0)=>{for(let Te=qe;Te<ae.length;Te++){const Oe=ae[Te]=Qe?rp(ae[Te]):Pc(ae[Te]);R(null,Oe,me,we,Re,Le,Ge,rt,Qe)}},N=(ae,me,we,Re,Le,Ge,rt)=>{const Qe=me.el=ae.el;let{patchFlag:qe,dynamicChildren:Te,dirs:Oe}=me;qe|=ae.patchFlag&16;const ze=ae.props||Sr,Xe=me.props||Sr;let Je;we&&xf(we,!1),(Je=Xe.onVnodeBeforeUpdate)&&ec(Je,we,me,ae),Oe&&pd(me,ae,we,"beforeUpdate"),we&&xf(we,!0);const pt=Le&&me.type!=="foreignObject";if(Te?j(ae.dynamicChildren,Te,Qe,we,Re,pt,Ge):rt||Y(ae,me,Qe,null,we,Re,pt,Ge,!1),qe>0){if(qe&16)W(Qe,me,ze,Xe,we,Re,Le);else if(qe&2&&ze.class!==Xe.class&&d(Qe,"class",null,Xe.class,Le),qe&4&&d(Qe,"style",ze.style,Xe.style,Le),qe&8){const bt=me.dynamicProps;for(let It=0;It<bt.length;It++){const ui=bt[It],Ht=ze[ui],di=Xe[ui];(di!==Ht||ui==="value")&&d(Qe,ui,Ht,di,Le,ae.children,we,Re,ce)}}qe&1&&ae.children!==me.children&&Z(Qe,me.children)}else!rt&&Te==null&&W(Qe,me,ze,Xe,we,Re,Le);((Je=Xe.onVnodeUpdated)||Oe)&&Da(()=>{Je&&ec(Je,we,me,ae),Oe&&pd(me,ae,we,"updated")},Re)},j=(ae,me,we,Re,Le,Ge,rt)=>{for(let Qe=0;Qe<me.length;Qe++){const qe=ae[Qe],Te=me[Qe],Oe=qe.el&&(qe.type===fn||!md(qe,Te)||qe.shapeFlag&70)?O(qe.el):we;R(qe,Te,Oe,null,Re,Le,Ge,rt,!0)}},W=(ae,me,we,Re,Le,Ge,rt)=>{if(we!==Re){if(we!==Sr)for(const Qe in we)!If(Qe)&&!(Qe in Re)&&d(ae,Qe,we[Qe],null,rt,me.children,Le,Ge,ce);for(const Qe in Re){if(If(Qe))continue;const qe=Re[Qe],Te=we[Qe];qe!==Te&&Qe!=="value"&&d(ae,Qe,Te,qe,rt,me.children,Le,Ge,ce)}"value"in Re&&d(ae,"value",we.value,Re.value)}},w=(ae,me,we,Re,Le,Ge,rt,Qe,qe)=>{const Te=me.el=ae?ae.el:n(""),Oe=me.anchor=ae?ae.anchor:n("");let{patchFlag:ze,dynamicChildren:Xe,slotScopeIds:Je}=me;Je&&(Qe=Qe?Qe.concat(Je):Je),ae==null?(a(Te,we,Re),a(Oe,we,Re),Q(me.children,we,Oe,Le,Ge,rt,Qe,qe)):ze>0&&ze&64&&Xe&&ae.dynamicChildren?(j(ae.dynamicChildren,Xe,we,Le,Ge,rt,Qe),(me.key!=null||Le&&me===Le.subTree)&&E3(ae,me,!0)):Y(ae,me,we,Oe,Le,Ge,rt,Qe,qe)},D=(ae,me,we,Re,Le,Ge,rt,Qe,qe)=>{me.slotScopeIds=Qe,ae==null?me.shapeFlag&512?Le.ctx.activate(me,we,Re,rt,qe):f(me,we,Re,Le,Ge,rt,qe):g(ae,me,qe)},f=(ae,me,we,Re,Le,Ge,rt)=>{const Qe=ae.component=dC(ae,Re,Le);if(X1(ae)&&(Qe.ctx.renderer=ne),pC(Qe),Qe.asyncDep){if(Le&&Le.registerDep(Qe,x),!ae.el){const qe=Qe.subTree=Qi(La);M(null,qe,me,we)}return}x(Qe,ae,me,we,Le,Ge,rt)},g=(ae,me,we)=>{const Re=me.component=ae.component;if(T6(ae,me,we))if(Re.asyncDep&&!Re.asyncResolved){P(Re,me,we);return}else Re.next=me,y6(Re.update),Re.update();else me.el=ae.el,Re.vnode=me},x=(ae,me,we,Re,Le,Ge,rt)=>{const Qe=()=>{if(ae.isMounted){let{next:Oe,bu:ze,u:Xe,parent:Je,vnode:pt}=ae,bt=Oe,It;xf(ae,!1),Oe?(Oe.el=pt.el,P(ae,Oe,rt)):Oe=pt,ze&&lm(ze),(It=Oe.props&&Oe.props.onVnodeBeforeUpdate)&&ec(It,Je,Oe,pt),xf(ae,!0);const ui=tv(ae),Ht=ae.subTree;ae.subTree=ui,R(Ht,ui,O(Ht.el),pe(Ht),ae,Le,Ge),Oe.el=ui.el,bt===null&&c3(ae,ui.el),Xe&&Da(Xe,Le),(It=Oe.props&&Oe.props.onVnodeUpdated)&&Da(()=>ec(It,Je,Oe,pt),Le)}else{let Oe;const{el:ze,props:Xe}=me,{bm:Je,m:pt,parent:bt}=ae,It=Bf(me);if(xf(ae,!1),Je&&lm(Je),!It&&(Oe=Xe&&Xe.onVnodeBeforeMount)&&ec(Oe,bt,me),xf(ae,!0),ze&&_e){const ui=()=>{ae.subTree=tv(ae),_e(ze,ae.subTree,ae,Le,null)};It?me.type.__asyncLoader().then(()=>!ae.isUnmounted&&ui()):ui()}else{const ui=ae.subTree=tv(ae);R(null,ui,we,Re,ae,Le,Ge),me.el=ui.el}if(pt&&Da(pt,Le),!It&&(Oe=Xe&&Xe.onVnodeMounted)){const ui=me;Da(()=>ec(Oe,bt,ui),Le)}(me.shapeFlag&256||bt&&Bf(bt.vnode)&&bt.vnode.shapeFlag&256)&&ae.a&&Da(ae.a,Le),ae.isMounted=!0,me=we=Re=null}},qe=ae.effect=new Am(Qe,()=>sx(Te),ae.scope),Te=ae.update=()=>qe.run();Te.id=ae.uid,xf(ae,!0),Te()},P=(ae,me,we)=>{me.component=ae;const Re=ae.vnode.props;ae.vnode=me,ae.next=null,G6(ae,me.props,Re,we),H6(ae,me.children,we),km(),uT(),Pm()},Y=(ae,me,we,Re,Le,Ge,rt,Qe,qe=!1)=>{const Te=ae&&ae.children,Oe=ae?ae.shapeFlag:0,ze=me.children,{patchFlag:Xe,shapeFlag:Je}=me;if(Xe>0){if(Xe&128){K(Te,ze,we,Re,Le,Ge,rt,Qe,qe);return}else if(Xe&256){ee(Te,ze,we,Re,Le,Ge,rt,Qe,qe);return}}Je&8?(Oe&16&&ce(Te,Le,Ge),ze!==Te&&Z(we,ze)):Oe&16?Je&16?K(Te,ze,we,Re,Le,Ge,rt,Qe,qe):ce(Te,Le,Ge,!0):(Oe&8&&Z(we,""),Je&16&&Q(ze,we,Re,Le,Ge,rt,Qe,qe))},ee=(ae,me,we,Re,Le,Ge,rt,Qe,qe)=>{ae=ae||om,me=me||om;const Te=ae.length,Oe=me.length,ze=Math.min(Te,Oe);let Xe;for(Xe=0;Xe<ze;Xe++){const Je=me[Xe]=qe?rp(me[Xe]):Pc(me[Xe]);R(ae[Xe],Je,we,null,Le,Ge,rt,Qe,qe)}Te>Oe?ce(ae,Le,Ge,!0,!1,ze):Q(me,we,Re,Le,Ge,rt,Qe,qe,ze)},K=(ae,me,we,Re,Le,Ge,rt,Qe,qe)=>{let Te=0;const Oe=me.length;let ze=ae.length-1,Xe=Oe-1;for(;Te<=ze&&Te<=Xe;){const Je=ae[Te],pt=me[Te]=qe?rp(me[Te]):Pc(me[Te]);if(md(Je,pt))R(Je,pt,we,null,Le,Ge,rt,Qe,qe);else break;Te++}for(;Te<=ze&&Te<=Xe;){const Je=ae[ze],pt=me[Xe]=qe?rp(me[Xe]):Pc(me[Xe]);if(md(Je,pt))R(Je,pt,we,null,Le,Ge,rt,Qe,qe);else break;ze--,Xe--}if(Te>ze){if(Te<=Xe){const Je=Xe+1,pt=Je<Oe?me[Je].el:Re;for(;Te<=Xe;)R(null,me[Te]=qe?rp(me[Te]):Pc(me[Te]),we,pt,Le,Ge,rt,Qe,qe),Te++}}else if(Te>Xe)for(;Te<=ze;)ge(ae[Te],Le,Ge,!0),Te++;else{const Je=Te,pt=Te,bt=new Map;for(Te=pt;Te<=Xe;Te++){const Di=me[Te]=qe?rp(me[Te]):Pc(me[Te]);Di.key!=null&&bt.set(Di.key,Te)}let It,ui=0;const Ht=Xe-pt+1;let di=!1,Ui=0;const zi=new Array(Ht);for(Te=0;Te<Ht;Te++)zi[Te]=0;for(Te=Je;Te<=ze;Te++){const Di=ae[Te];if(ui>=Ht){ge(Di,Le,Ge,!0);continue}let dn;if(Di.key!=null)dn=bt.get(Di.key);else for(It=pt;It<=Xe;It++)if(zi[It-pt]===0&&md(Di,me[It])){dn=It;break}dn===void 0?ge(Di,Le,Ge,!0):(zi[dn-pt]=Te+1,dn>=Ui?Ui=dn:di=!0,R(Di,me[dn],we,null,Le,Ge,rt,Qe,qe),ui++)}const Ei=di?X6(zi):om;for(It=Ei.length-1,Te=Ht-1;Te>=0;Te--){const Di=pt+Te,dn=me[Di],Sn=Di+1<Oe?me[Di+1].el:Re;zi[Te]===0?R(null,dn,we,Sn,Le,Ge,rt,Qe,qe):di&&(It<0||Te!==Ei[It]?he(dn,we,Sn,2):It--)}}},he=(ae,me,we,Re,Le=null)=>{const{el:Ge,type:rt,transition:Qe,children:qe,shapeFlag:Te}=ae;if(Te&6){he(ae.component.subTree,me,we,Re);return}if(Te&128){ae.suspense.move(me,we,Re);return}if(Te&64){rt.move(ae,me,we,ne);return}if(rt===fn){a(Ge,me,we);for(let ze=0;ze<qe.length;ze++)he(qe[ze],me,we,Re);a(ae.anchor,me,we);return}if(rt===up){k(ae,me,we);return}if(Re!==2&&Te&1&&Qe)if(Re===0)Qe.beforeEnter(Ge),a(Ge,me,we),Da(()=>Qe.enter(Ge),Le);else{const{leave:ze,delayLeave:Xe,afterLeave:Je}=Qe,pt=()=>a(Ge,me,we),bt=()=>{ze(Ge,()=>{pt(),Je&&Je()})};Xe?Xe(Ge,pt,bt):bt()}else a(Ge,me,we)},ge=(ae,me,we,Re=!1,Le=!1)=>{const{type:Ge,props:rt,ref:Qe,children:qe,dynamicChildren:Te,shapeFlag:Oe,patchFlag:ze,dirs:Xe}=ae;if(Qe!=null&&_v(Qe,null,we,ae,!0),Oe&256){me.ctx.deactivate(ae);return}const Je=Oe&1&&Xe,pt=!Bf(ae);let bt;if(pt&&(bt=rt&&rt.onVnodeBeforeUnmount)&&ec(bt,me,ae),Oe&6)oe(ae.component,we,Re);else{if(Oe&128){ae.suspense.unmount(we,Re);return}Je&&pd(ae,null,me,"beforeUnmount"),Oe&64?ae.type.remove(ae,me,we,Le,ne,Re):Te&&(Ge!==fn||ze>0&&ze&64)?ce(Te,me,we,!1,!0):(Ge===fn&&ze&384||!Le&&Oe&16)&&ce(qe,me,we),Re&&Ee(ae)}(pt&&(bt=rt&&rt.onVnodeUnmounted)||Je)&&Da(()=>{bt&&ec(bt,me,ae),Je&&pd(ae,null,me,"unmounted")},we)},Ee=ae=>{const{type:me,el:we,anchor:Re,transition:Le}=ae;if(me===fn){J(we,Re);return}if(me===up){V(ae);return}const Ge=()=>{c(we),Le&&!Le.persisted&&Le.afterLeave&&Le.afterLeave()};if(ae.shapeFlag&1&&Le&&!Le.persisted){const{leave:rt,delayLeave:Qe}=Le,qe=()=>rt(we,Ge);Qe?Qe(ae.el,Ge,qe):qe()}else Ge()},J=(ae,me)=>{let we;for(;ae!==me;)we=H(ae),c(ae),ae=we;c(me)},oe=(ae,me,we)=>{const{bum:Re,scope:Le,update:Ge,subTree:rt,um:Qe}=ae;Re&&lm(Re),Le.stop(),Ge&&(Ge.active=!1,ge(rt,ae,me,we)),Qe&&Da(Qe,me),Da(()=>{ae.isUnmounted=!0},me),me&&me.pendingBranch&&!me.isUnmounted&&ae.asyncDep&&!ae.asyncResolved&&ae.suspenseId===me.pendingId&&(me.deps--,me.deps===0&&me.resolve())},ce=(ae,me,we,Re=!1,Le=!1,Ge=0)=>{for(let rt=Ge;rt<ae.length;rt++)ge(ae[rt],me,we,Re,Le)},pe=ae=>ae.shapeFlag&6?pe(ae.component.subTree):ae.shapeFlag&128?ae.suspense.next():H(ae.anchor||ae.el),Ce=(ae,me,we)=>{ae==null?me._vnode&&ge(me._vnode,null,null,!0):R(me._vnode||null,ae,me,null,null,null,we),uT(),mv(),me._vnode=ae},ne={p:R,um:ge,m:he,r:Ee,mt:f,mc:Q,pc:Y,pbc:j,n:pe,o:e};let ye,_e;return t&&([ye,_e]=t(ne)),{render:Ce,hydrate:ye,createApp:Y6(Ce,ye)}}function xf({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function E3(e,t,s=!1){const a=e.children,c=t.children;if(vn(a)&&vn(c))for(let d=0;d<a.length;d++){const m=a[d];let n=c[d];n.shapeFlag&1&&!n.dynamicChildren&&((n.patchFlag<=0||n.patchFlag===32)&&(n=c[d]=rp(c[d]),n.el=m.el),s||E3(m,n)),n.type===xp&&(n.el=m.el)}}function X6(e){const t=e.slice(),s=[0];let a,c,d,m,n;const S=e.length;for(a=0;a<S;a++){const z=e[a];if(z!==0){if(c=s[s.length-1],e[c]<z){t[a]=c,s.push(a);continue}for(d=0,m=s.length-1;d<m;)n=d+m>>1,e[s[n]]<z?d=n+1:m=n;z<e[s[d]]&&(d>0&&(t[a]=s[d-1]),s[d]=a)}}for(d=s.length,m=s[d-1];d-- >0;)s[d]=m,m=t[m];return s}const Z6=e=>e.__isTeleport,v1=e=>e&&(e.disabled||e.disabled===""),ST=e=>typeof SVGElement<"u"&&e instanceof SVGElement,_w=(e,t)=>{const s=e&&e.to;return xs(s)?t?t(s):null:s},K6={__isTeleport:!0,process(e,t,s,a,c,d,m,n,S,z){const{mc:Z,pc:O,pbc:H,o:{insert:q,querySelector:L,createText:R,createComment:$}}=z,M=v1(t.props);let{shapeFlag:E,children:k,dynamicChildren:V}=t;if(e==null){const G=t.el=R(""),C=t.anchor=R("");q(G,s,a),q(C,s,a);const te=t.target=_w(t.props,L),Q=t.targetAnchor=R("");te&&(q(Q,te),m=m||ST(te));const N=(j,W)=>{E&16&&Z(k,j,W,c,d,m,n,S)};M?N(s,C):te&&N(te,Q)}else{t.el=e.el;const G=t.anchor=e.anchor,C=t.target=e.target,te=t.targetAnchor=e.targetAnchor,Q=v1(e.props),N=Q?s:C,j=Q?G:te;if(m=m||ST(C),V?(H(e.dynamicChildren,V,N,c,d,m,n),E3(e,t,!0)):S||O(e,t,N,j,c,d,m,n,!1),M)Q||Ny(t,s,G,z,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const W=t.target=_w(t.props,L);W&&Ny(t,W,null,z,0)}else Q&&Ny(t,C,te,z,1)}oC(t)},remove(e,t,s,a,{um:c,o:{remove:d}},m){const{shapeFlag:n,children:S,anchor:z,targetAnchor:Z,target:O,props:H}=e;if(O&&d(Z),(m||!v1(H))&&(d(z),n&16))for(let q=0;q<S.length;q++){const L=S[q];c(L,t,s,!0,!!L.dynamicChildren)}},move:Ny,hydrate:J6};function Ny(e,t,s,{o:{insert:a},m:c},d=2){d===0&&a(e.targetAnchor,t,s);const{el:m,anchor:n,shapeFlag:S,children:z,props:Z}=e,O=d===2;if(O&&a(m,t,s),(!O||v1(Z))&&S&16)for(let H=0;H<z.length;H++)c(z[H],t,s,2);O&&a(n,t,s)}function J6(e,t,s,a,c,d,{o:{nextSibling:m,parentNode:n,querySelector:S}},z){const Z=t.target=_w(t.props,S);if(Z){const O=Z._lpa||Z.firstChild;if(t.shapeFlag&16)if(v1(t.props))t.anchor=z(m(e),t,n(e),s,a,c,d),t.targetAnchor=O;else{t.anchor=m(e);let H=O;for(;H;)if(H=m(H),H&&H.nodeType===8&&H.data==="teleport anchor"){t.targetAnchor=H,Z._lpa=t.targetAnchor&&m(t.targetAnchor);break}z(O,t,Z,s,a,c,d)}oC(t)}return t.anchor&&m(t.anchor)}const rC=K6;function oC(e){const t=e.ctx;if(t&&t.ut){let s=e.children[0].el;for(;s!==e.targetAnchor;)s.nodeType===1&&s.setAttribute("data-v-owner",t.uid),s=s.nextSibling;t.ut()}}const fn=Symbol(void 0),xp=Symbol(void 0),La=Symbol(void 0),up=Symbol(void 0),x1=[];let nc=null;function Ot(e=!1){x1.push(nc=e?null:[])}function aC(){x1.pop(),nc=x1[x1.length-1]||null}let Uf=1;function yv(e){Uf+=e}function lC(e){return e.dynamicChildren=Uf>0?nc||om:null,aC(),Uf>0&&nc&&nc.push(e),e}function Ft(e,t,s,a,c,d){return lC(je(e,t,s,a,c,d,!0))}function Bh(e,t,s,a,c){return lC(Qi(e,t,s,a,c,!0))}function du(e){return e?e.__v_isVNode===!0:!1}function md(e,t){return e.type===t.type&&e.key===t.key}function cC(e){}const ux="__vInternal",hC=({key:e})=>e??null,iv=({ref:e,ref_key:t,ref_for:s})=>e!=null?xs(e)||na(e)||as(e)?{i:Ia,r:e,k:t,f:!!s}:e:null;function je(e,t=null,s=null,a=0,c=null,d=e===fn?0:1,m=!1,n=!1){const S={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&hC(t),ref:t&&iv(t),scopeId:ax,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:a,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:Ia};return n?(C3(S,s),d&128&&e.normalize(S)):s&&(S.shapeFlag|=xs(s)?8:16),Uf>0&&!m&&nc&&(S.patchFlag>0||d&6)&&S.patchFlag!==32&&nc.push(S),S}const Qi=Q6;function Q6(e,t=null,s=null,a=0,c=null,d=!1){if((!e||e===WE)&&(e=La),du(e)){const n=zh(e,t,!0);return s&&C3(n,s),Uf>0&&!d&&nc&&(n.shapeFlag&6?nc[nc.indexOf(e)]=n:nc.push(n)),n.patchFlag|=-2,n}if(sP(e)&&(e=e.__vccOpts),t){t=I1(t);let{class:n,style:S}=t;n&&!xs(n)&&(t.class=Gs(n)),Cr(S)&&(ex(S)&&!vn(S)&&(S=ur({},S)),t.style=Dl(S))}const m=xs(e)?1:BE(e)?128:Z6(e)?64:Cr(e)?4:as(e)?2:0;return je(e,t,s,a,c,m,d,!0)}function I1(e){return e?ex(e)||ux in e?ur({},e):e:null}function zh(e,t,s=!1){const{props:a,ref:c,patchFlag:d,children:m}=e,n=t?px(a||{},t):a;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:n,key:n&&hC(n),ref:t&&t.ref?s&&c?vn(c)?c.concat(iv(t)):[c,iv(t)]:iv(t):c,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:m,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==fn?d===-1?16:d|16:d,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zh(e.ssContent),ssFallback:e.ssFallback&&zh(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function Jr(e=" ",t=0){return Qi(xp,null,e,t)}function ph(e,t){const s=Qi(up,null,e);return s.staticCount=t,s}function yn(e="",t=!1){return t?(Ot(),Bh(La,null,e)):Qi(La,null,e)}function Pc(e){return e==null||typeof e=="boolean"?Qi(La):vn(e)?Qi(fn,null,e.slice()):typeof e=="object"?rp(e):Qi(xp,null,String(e))}function rp(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:zh(e)}function C3(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(vn(t))s=16;else if(typeof t=="object")if(a&65){const c=t.default;c&&(c._c&&(c._d=!1),C3(e,c()),c._c&&(c._d=!0));return}else{s=32;const c=t._;!c&&!(ux in t)?t._ctx=Ia:c===3&&Ia&&(Ia.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else as(t)?(t={default:t,_ctx:Ia},s=32):(t=String(t),a&64?(s=16,t=[Jr(t)]):s=8);e.children=t,e.shapeFlag|=s}function px(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const c in a)if(c==="class")t.class!==a.class&&(t.class=Gs([t.class,a.class]));else if(c==="style")t.style=Dl([t.style,a.style]);else if($f(c)){const d=t[c],m=a[c];m&&d!==m&&!(vn(d)&&d.includes(m))&&(t[c]=d?[].concat(d,m):m)}else c!==""&&(t[c]=a[c])}return t}function ec(e,t,s,a=null){rc(e,t,7,[s,a])}const eP=nC();let tP=0;function dC(e,t,s){const a=e.type,c=(t?t.appContext:e.appContext)||eP,d={uid:tP++,vnode:e,type:a,parent:t,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,scope:new qv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(c.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:QE(a,c),emitsOptions:OE(a,c),emit:null,emitted:null,propsDefaults:Sr,inheritAttrs:a.inheritAttrs,ctx:Sr,data:Sr,props:Sr,attrs:Sr,slots:Sr,refs:Sr,setupState:Sr,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=t?t.root:d,d.emit=x6.bind(null,d),e.ce&&e.ce(d),d}let ia=null;const _u=()=>ia||Ia,bp=e=>{ia=e,e.scope.on()},pp=()=>{ia&&ia.scope.off(),ia=null};function uC(e){return e.vnode.shapeFlag&4}let vm=!1;function pC(e,t=!1){vm=t;const{props:s,children:a}=e.vnode,c=uC(e);U6(e,s,c,t),$6(e,a);const d=c?iP(e,t):void 0;return vm=!1,d}function iP(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=tx(new Proxy(e.ctx,pw));const{setup:a}=s;if(a){const c=e.setupContext=a.length>1?gC(e):null;bp(e),km();const d=xd(a,e,0,[e.props,c]);if(Pm(),pp(),Qw(d)){if(d.then(pp,pp),t)return d.then(m=>{yw(e,m,t)}).catch(m=>{Cp(m,e,0)});e.asyncDep=d}else yw(e,d,t)}else mC(e,t)}function yw(e,t,s){as(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Cr(t)&&(e.setupState=nx(t)),mC(e,s)}let vv,vw;function M3(e){vv=e,vw=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,R6))}}const fC=()=>!vv;function mC(e,t,s){const a=e.type;if(!e.render){if(!t&&vv&&!a.render){const c=a.template||b3(e).template;if(c){const{isCustomElement:d,compilerOptions:m}=e.appContext.config,{delimiters:n,compilerOptions:S}=a,z=ur(ur({isCustomElement:d,delimiters:n},m),S);a.render=vv(c,z)}}e.render=a.render||Ll,vw&&vw(e)}bp(e),km(),B6(e),Pm(),pp()}function nP(e){return new Proxy(e.attrs,{get(t,s){return Oc(e,"get","$attrs"),t[s]}})}function gC(e){const t=a=>{e.exposed=a||{}};let s;return{get attrs(){return s||(s=nP(e))},slots:e.slots,emit:e.emit,expose:t}}function fx(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(nx(tx(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in y1)return y1[s](e)},has(t,s){return s in t||s in y1}}))}function xw(e,t=!0){return as(e)?e.displayName||e.name:e.name||t&&e.__name}function sP(e){return as(e)&&"__vccOpts"in e}const Ac=(e,t)=>m6(e,t,vm);function _C(){return null}function yC(){return null}function vC(e){}function xC(e,t){return null}function bC(){return wC().slots}function A3(){return wC().attrs}function wC(){const e=_u();return e.setupContext||(e.setupContext=gC(e))}function SC(e,t){const s=vn(e)?e.reduce((a,c)=>(a[c]={},a),{}):e;for(const a in t){const c=s[a];c?vn(c)||as(c)?s[a]={type:c,default:t[a]}:c.default=t[a]:c===null&&(s[a]={default:t[a]})}return s}function TC(e,t){const s={};for(const a in e)t.includes(a)||Object.defineProperty(s,a,{enumerable:!0,get:()=>e[a]});return s}function EC(e){const t=_u();let s=e();return pp(),Qw(s)&&(s=s.catch(a=>{throw bp(t),a})),[s,()=>bp(t)]}function ic(e,t,s){const a=arguments.length;return a===2?Cr(t)&&!vn(t)?du(t)?Qi(e,null,[t]):Qi(e,t):Qi(e,null,t):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&du(s)&&(s=[s]),Qi(e,t,s))}const k3=Symbol(""),P3=()=>Rf(k3);function CC(){}function MC(e,t,s,a){const c=s[a];if(c&&D3(c,e))return c;const d=t();return d.memo=e.slice(),s[a]=d}function D3(e,t){const s=e.memo;if(s.length!=t.length)return!1;for(let a=0;a<s.length;a++)if(_m(s[a],t[a]))return!1;return Uf>0&&nc&&nc.push(e),!0}const I3="3.2.45",rP={createComponentInstance:dC,setupComponent:pC,renderComponentRoot:tv,setCurrentRenderingInstance:P1,isVNode:du,normalizeVNode:Pc},AC=rP,kC=null,PC=null,oP="http://www.w3.org/2000/svg",Af=typeof document<"u"?document:null,TT=Af&&Af.createElement("template"),aP={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const c=t?Af.createElementNS(oP,e):Af.createElement(e,s?{is:s}:void 0);return e==="select"&&a&&a.multiple!=null&&c.setAttribute("multiple",a.multiple),c},createText:e=>Af.createTextNode(e),createComment:e=>Af.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Af.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,c,d){const m=s?s.previousSibling:t.lastChild;if(c&&(c===d||c.nextSibling))for(;t.insertBefore(c.cloneNode(!0),s),!(c===d||!(c=c.nextSibling)););else{TT.innerHTML=a?`<svg>${e}</svg>`:e;const n=TT.content;if(a){const S=n.firstChild;for(;S.firstChild;)n.appendChild(S.firstChild);n.removeChild(S)}t.insertBefore(n,s)}return[m?m.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function lP(e,t,s){const a=e._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function cP(e,t,s){const a=e.style,c=xs(s);if(s&&!c){for(const d in s)bw(a,d,s[d]);if(t&&!xs(t))for(const d in t)s[d]==null&&bw(a,d,"")}else{const d=a.display;c?t!==s&&(a.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(a.display=d)}}const ET=/\s*!important$/;function bw(e,t,s){if(vn(s))s.forEach(a=>bw(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=hP(e,t);ET.test(s)?e.setProperty(Ic(a),s.replace(ET,""),"important"):e[a]=s}}const CT=["Webkit","Moz","ms"],L2={};function hP(e,t){const s=L2[t];if(s)return s;let a=va(t);if(a!=="filter"&&a in e)return L2[t]=a;a=Ep(a);for(let c=0;c<CT.length;c++){const d=CT[c]+a;if(d in e)return L2[t]=d}return t}const MT="http://www.w3.org/1999/xlink";function dP(e,t,s,a,c){if(a&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(MT,t.slice(6,t.length)):e.setAttributeNS(MT,t,s);else{const d=k4(t);s==null||d&&!tE(s)?e.removeAttribute(t):e.setAttribute(t,d?"":s)}}function uP(e,t,s,a,c,d,m){if(t==="innerHTML"||t==="textContent"){a&&m(a,c,d),e[t]=s??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const S=s??"";(e.value!==S||e.tagName==="OPTION")&&(e.value=S),s==null&&e.removeAttribute(t);return}let n=!1;if(s===""||s==null){const S=typeof e[t];S==="boolean"?s=tE(s):s==null&&S==="string"?(s="",n=!0):S==="number"&&(s=0,n=!0)}try{e[t]=s}catch{}n&&e.removeAttribute(t)}function iu(e,t,s,a){e.addEventListener(t,s,a)}function pP(e,t,s,a){e.removeEventListener(t,s,a)}function fP(e,t,s,a,c=null){const d=e._vei||(e._vei={}),m=d[t];if(a&&m)m.value=a;else{const[n,S]=mP(t);if(a){const z=d[t]=yP(a,c);iu(e,n,z,S)}else m&&(pP(e,n,m,S),d[t]=void 0)}}const AT=/(?:Once|Passive|Capture)$/;function mP(e){let t;if(AT.test(e)){t={};let a;for(;a=e.match(AT);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ic(e.slice(2)),t]}let O2=0;const gP=Promise.resolve(),_P=()=>O2||(gP.then(()=>O2=0),O2=Date.now());function yP(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;rc(vP(a,s.value),t,5,[a])};return s.value=e,s.attached=_P(),s}function vP(e,t){if(vn(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>c=>!c._stopped&&a&&a(c))}else return t}const kT=/^on[a-z]/,xP=(e,t,s,a,c=!1,d,m,n,S)=>{t==="class"?lP(e,a,c):t==="style"?cP(e,s,a):$f(t)?Kw(t)||fP(e,t,s,a,m):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):bP(e,t,a,c))?uP(e,t,a,d,m,n,S):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),dP(e,t,a,c))};function bP(e,t,s,a){return a?!!(t==="innerHTML"||t==="textContent"||t in e&&kT.test(t)&&as(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||kT.test(t)&&xs(s)?!1:t in e}function L3(e,t){const s=q1(e);class a extends K1{constructor(d){super(s,d,t)}}return a.def=s,a}const DC=e=>L3(e,B3),wP=typeof HTMLElement<"u"?HTMLElement:class{};class K1 extends wP{constructor(t,s={},a){super(),this._def=t,this._props=s,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&a?a(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,yd(()=>{this._connected||(xv(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let a=0;a<this.attributes.length;a++)this._setAttr(this.attributes[a].name);new MutationObserver(a=>{for(const c of a)this._setAttr(c.attributeName)}).observe(this,{attributes:!0});const t=(a,c=!1)=>{const{props:d,styles:m}=a;let n;if(d&&!vn(d))for(const S in d){const z=d[S];(z===Number||z&&z.type===Number)&&(S in this._props&&(this._props[S]=cu(this._props[S])),(n||(n=Object.create(null)))[va(S)]=!0)}this._numberProps=n,c&&this._resolveProps(a),this._applyStyles(m),this._update()},s=this._def.__asyncLoader;s?s().then(a=>t(a,!0)):t(this._def)}_resolveProps(t){const{props:s}=t,a=vn(s)?s:Object.keys(s||{});for(const c of Object.keys(this))c[0]!=="_"&&a.includes(c)&&this._setProp(c,this[c],!0,!1);for(const c of a.map(va))Object.defineProperty(this,c,{get(){return this._getProp(c)},set(d){this._setProp(c,d)}})}_setAttr(t){let s=this.getAttribute(t);const a=va(t);this._numberProps&&this._numberProps[a]&&(s=cu(s)),this._setProp(a,s,!1)}_getProp(t){return this._props[t]}_setProp(t,s,a=!0,c=!0){s!==this._props[t]&&(this._props[t]=s,c&&this._instance&&this._update(),a&&(s===!0?this.setAttribute(Ic(t),""):typeof s=="string"||typeof s=="number"?this.setAttribute(Ic(t),s+""):s||this.removeAttribute(Ic(t))))}_update(){xv(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Qi(this._def,ur({},this._props));return this._instance||(t.ce=s=>{this._instance=s,s.isCE=!0;const a=(d,m)=>{this.dispatchEvent(new CustomEvent(d,{detail:m}))};s.emit=(d,...m)=>{a(d,m),Ic(d)!==d&&a(Ic(d),m)};let c=this;for(;c=c&&(c.parentNode||c.host);)if(c instanceof K1){s.parent=c._instance,s.provides=c._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(s=>{const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)})}}function IC(e="$style"){{const t=_u();if(!t)return Sr;const s=t.type.__cssModules;if(!s)return Sr;const a=s[e];return a||Sr}}function LC(e){const t=_u();if(!t)return;const s=t.ut=(c=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(d=>Sw(d,c))},a=()=>{const c=e(t.proxy);ww(t.subTree,c),s(c)};d3(a),jh(()=>{const c=new MutationObserver(a);c.observe(t.subTree.el.parentNode,{childList:!0}),qf(()=>c.disconnect())})}function ww(e,t){if(e.shapeFlag&128){const s=e.suspense;e=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{ww(s.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Sw(e.el,t);else if(e.type===fn)e.children.forEach(s=>ww(s,t));else if(e.type===up){let{el:s,anchor:a}=e;for(;s&&(Sw(s,t),s!==a);)s=s.nextSibling}}function Sw(e,t){if(e.nodeType===1){const s=e.style;for(const a in t)s.setProperty(`--${a}`,t[a])}}const tp="transition",d1="animation",J1=(e,{slots:t})=>ic(cx,RC(e),t);J1.displayName="Transition";const OC={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},SP=J1.props=ur({},cx.props,OC),bf=(e,t=[])=>{vn(e)?e.forEach(s=>s(...t)):e&&e(...t)},PT=e=>e?vn(e)?e.some(t=>t.length>1):e.length>1:!1;function RC(e){const t={};for(const w in e)w in OC||(t[w]=e[w]);if(e.css===!1)return t;const{name:s="v",type:a,duration:c,enterFromClass:d=`${s}-enter-from`,enterActiveClass:m=`${s}-enter-active`,enterToClass:n=`${s}-enter-to`,appearFromClass:S=d,appearActiveClass:z=m,appearToClass:Z=n,leaveFromClass:O=`${s}-leave-from`,leaveActiveClass:H=`${s}-leave-active`,leaveToClass:q=`${s}-leave-to`}=e,L=TP(c),R=L&&L[0],$=L&&L[1],{onBeforeEnter:M,onEnter:E,onEnterCancelled:k,onLeave:V,onLeaveCancelled:G,onBeforeAppear:C=M,onAppear:te=E,onAppearCancelled:Q=k}=t,N=(w,D,f)=>{sp(w,D?Z:n),sp(w,D?z:m),f&&f()},j=(w,D)=>{w._isLeaving=!1,sp(w,O),sp(w,q),sp(w,H),D&&D()},W=w=>(D,f)=>{const g=w?te:E,x=()=>N(D,w,f);bf(g,[D,x]),DT(()=>{sp(D,w?S:d),Jd(D,w?Z:n),PT(g)||IT(D,a,R,x)})};return ur(t,{onBeforeEnter(w){bf(M,[w]),Jd(w,d),Jd(w,m)},onBeforeAppear(w){bf(C,[w]),Jd(w,S),Jd(w,z)},onEnter:W(!1),onAppear:W(!0),onLeave(w,D){w._isLeaving=!0;const f=()=>j(w,D);Jd(w,O),zC(),Jd(w,H),DT(()=>{w._isLeaving&&(sp(w,O),Jd(w,q),PT(V)||IT(w,a,$,f))}),bf(V,[w,f])},onEnterCancelled(w){N(w,!1),bf(k,[w])},onAppearCancelled(w){N(w,!0),bf(Q,[w])},onLeaveCancelled(w){j(w),bf(G,[w])}})}function TP(e){if(e==null)return null;if(Cr(e))return[R2(e.enter),R2(e.leave)];{const t=R2(e);return[t,t]}}function R2(e){return cu(e)}function Jd(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e._vtc||(e._vtc=new Set)).add(t)}function sp(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const{_vtc:s}=e;s&&(s.delete(t),s.size||(e._vtc=void 0))}function DT(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let EP=0;function IT(e,t,s,a){const c=e._endId=++EP,d=()=>{c===e._endId&&a()};if(s)return setTimeout(d,s);const{type:m,timeout:n,propCount:S}=BC(e,t);if(!m)return a();const z=m+"end";let Z=0;const O=()=>{e.removeEventListener(z,H),d()},H=q=>{q.target===e&&++Z>=S&&O()};setTimeout(()=>{Z<S&&O()},n+1),e.addEventListener(z,H)}function BC(e,t){const s=window.getComputedStyle(e),a=L=>(s[L]||"").split(", "),c=a(`${tp}Delay`),d=a(`${tp}Duration`),m=LT(c,d),n=a(`${d1}Delay`),S=a(`${d1}Duration`),z=LT(n,S);let Z=null,O=0,H=0;t===tp?m>0&&(Z=tp,O=m,H=d.length):t===d1?z>0&&(Z=d1,O=z,H=S.length):(O=Math.max(m,z),Z=O>0?m>z?tp:d1:null,H=Z?Z===tp?d.length:S.length:0);const q=Z===tp&&/\b(transform|all)(,|$)/.test(a(`${tp}Property`).toString());return{type:Z,timeout:O,propCount:H,hasTransform:q}}function LT(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,a)=>OT(s)+OT(e[a])))}function OT(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function zC(){return document.body.offsetHeight}const FC=new WeakMap,NC=new WeakMap,CP={name:"TransitionGroup",props:ur({},SP,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=_u(),a=lx();let c,d;return Wf(()=>{if(!c.length)return;const m=e.moveClass||`${e.name||"v"}-move`;if(!PP(c[0].el,s.vnode.el,m))return;c.forEach(MP),c.forEach(AP);const n=c.filter(kP);zC(),n.forEach(S=>{const z=S.el,Z=z.style;Jd(z,m),Z.transform=Z.webkitTransform=Z.transitionDuration="";const O=z._moveCb=H=>{H&&H.target!==z||(!H||/transform$/.test(H.propertyName))&&(z.removeEventListener("transitionend",O),z._moveCb=null,sp(z,m))};z.addEventListener("transitionend",O)})}),()=>{const m=Hs(e),n=RC(m);let S=m.tag||fn;c=d,d=t.default?Y1(t.default()):[];for(let z=0;z<d.length;z++){const Z=d[z];Z.key!=null&&vp(Z,jf(Z,n,a,s))}if(c)for(let z=0;z<c.length;z++){const Z=c[z];vp(Z,jf(Z,n,a,s)),FC.set(Z,Z.el.getBoundingClientRect())}return Qi(S,null,d)}}},jC=CP;function MP(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function AP(e){NC.set(e,e.el.getBoundingClientRect())}function kP(e){const t=FC.get(e),s=NC.get(e),a=t.left-s.left,c=t.top-s.top;if(a||c){const d=e.el.style;return d.transform=d.webkitTransform=`translate(${a}px,${c}px)`,d.transitionDuration="0s",e}}function PP(e,t,s){const a=e.cloneNode();e._vtc&&e._vtc.forEach(m=>{m.split(/\s+/).forEach(n=>n&&a.classList.remove(n))}),s.split(/\s+/).forEach(m=>m&&a.classList.add(m)),a.style.display="none";const c=t.nodeType===1?t:t.parentNode;c.appendChild(a);const{hasTransform:d}=BC(a);return c.removeChild(a),d}const wp=e=>{const t=e.props["onUpdate:modelValue"]||!1;return vn(t)?s=>lm(t,s):t};function DP(e){e.target.composing=!0}function RT(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const il={created(e,{modifiers:{lazy:t,trim:s,number:a}},c){e._assign=wp(c);const d=a||c.props&&c.props.type==="number";iu(e,t?"change":"input",m=>{if(m.target.composing)return;let n=e.value;s&&(n=n.trim()),d&&(n=cu(n)),e._assign(n)}),s&&iu(e,"change",()=>{e.value=e.value.trim()}),t||(iu(e,"compositionstart",DP),iu(e,"compositionend",RT),iu(e,"change",RT))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:a,number:c}},d){if(e._assign=wp(d),e.composing||document.activeElement===e&&e.type!=="range"&&(s||a&&e.value.trim()===t||(c||e.type==="number")&&cu(e.value)===t))return;const m=t??"";e.value!==m&&(e.value=m)}},ou={deep:!0,created(e,t,s){e._assign=wp(s),iu(e,"change",()=>{const a=e._modelValue,c=xm(e),d=e.checked,m=e._assign;if(vn(a)){const n=Wv(a,c),S=n!==-1;if(d&&!S)m(a.concat(c));else if(!d&&S){const z=[...a];z.splice(n,1),m(z)}}else if(Hf(a)){const n=new Set(a);d?n.add(c):n.delete(c),m(n)}else m(UC(e,d))})},mounted:BT,beforeUpdate(e,t,s){e._assign=wp(s),BT(e,t,s)}};function BT(e,{value:t,oldValue:s},a){e._modelValue=t,vn(t)?e.checked=Wv(t,a.props.value)>-1:Hf(t)?e.checked=t.has(a.props.value):t!==s&&(e.checked=mp(t,UC(e,!0)))}const mx={created(e,{value:t},s){e.checked=mp(t,s.props.value),e._assign=wp(s),iu(e,"change",()=>{e._assign(xm(e))})},beforeUpdate(e,{value:t,oldValue:s},a){e._assign=wp(a),t!==s&&(e.checked=mp(t,a.props.value))}},Il={deep:!0,created(e,{value:t,modifiers:{number:s}},a){const c=Hf(t);iu(e,"change",()=>{const d=Array.prototype.filter.call(e.options,m=>m.selected).map(m=>s?cu(xm(m)):xm(m));e._assign(e.multiple?c?new Set(d):d:d[0])}),e._assign=wp(a)},mounted(e,{value:t}){zT(e,t)},beforeUpdate(e,t,s){e._assign=wp(s)},updated(e,{value:t}){zT(e,t)}};function zT(e,t){const s=e.multiple;if(!(s&&!vn(t)&&!Hf(t))){for(let a=0,c=e.options.length;a<c;a++){const d=e.options[a],m=xm(d);if(s)vn(t)?d.selected=Wv(t,m)>-1:d.selected=t.has(m);else if(mp(xm(d),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function xm(e){return"_value"in e?e._value:e.value}function UC(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const O3={created(e,t,s){jy(e,t,s,null,"created")},mounted(e,t,s){jy(e,t,s,null,"mounted")},beforeUpdate(e,t,s,a){jy(e,t,s,a,"beforeUpdate")},updated(e,t,s,a){jy(e,t,s,a,"updated")}};function GC(e,t){switch(e){case"SELECT":return Il;case"TEXTAREA":return il;default:switch(t){case"checkbox":return ou;case"radio":return mx;default:return il}}}function jy(e,t,s,a,c){const m=GC(e.tagName,s.props&&s.props.type)[c];m&&m(e,t,s,a)}function IP(){il.getSSRProps=({value:e})=>({value:e}),mx.getSSRProps=({value:e},t)=>{if(t.props&&mp(t.props.value,e))return{checked:!0}},ou.getSSRProps=({value:e},t)=>{if(vn(e)){if(t.props&&Wv(e,t.props.value)>-1)return{checked:!0}}else if(Hf(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},O3.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const s=GC(t.type.toUpperCase(),t.props&&t.props.type);if(s.getSSRProps)return s.getSSRProps(e,t)}}const LP=["ctrl","shift","alt","meta"],OP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>LP.some(s=>e[`${s}Key`]&&!t.includes(s))},ud=(e,t)=>(s,...a)=>{for(let c=0;c<t.length;c++){const d=OP[t[c]];if(d&&d(s,t))return}return e(s,...a)},RP={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},VC=(e,t)=>s=>{if(!("key"in s))return;const a=Ic(s.key);if(t.some(c=>c===a||RP[c]===a))return e(s)},R3={beforeMount(e,{value:t},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):u1(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),u1(e,!0),a.enter(e)):a.leave(e,()=>{u1(e,!1)}):u1(e,t))},beforeUnmount(e,{value:t}){u1(e,t)}};function u1(e,t){e.style.display=t?e._vod:"none"}function BP(){R3.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const $C=ur({patchProp:xP},aP);let b1,FT=!1;function HC(){return b1||(b1=S3($C))}function WC(){return b1=FT?b1:T3($C),FT=!0,b1}const xv=(...e)=>{HC().render(...e)},B3=(...e)=>{WC().hydrate(...e)},z3=(...e)=>{const t=HC().createApp(...e),{mount:s}=t;return t.mount=a=>{const c=qC(a);if(!c)return;const d=t._component;!as(d)&&!d.render&&!d.template&&(d.template=c.innerHTML),c.innerHTML="";const m=s(c,!1,c instanceof SVGElement);return c instanceof Element&&(c.removeAttribute("v-cloak"),c.setAttribute("data-v-app","")),m},t},YC=(...e)=>{const t=WC().createApp(...e),{mount:s}=t;return t.mount=a=>{const c=qC(a);if(c)return s(c,!0,c instanceof SVGElement)},t};function qC(e){return xs(e)?document.querySelector(e):e}let NT=!1;const XC=()=>{NT||(NT=!0,IP(),BP())},zP=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:cx,Comment:La,EffectScope:qv,Fragment:fn,KeepAlive:$E,ReactiveEffect:Am,Static:up,Suspense:zE,Teleport:rC,Text:xp,Transition:J1,TransitionGroup:jC,VueElement:K1,callWithAsyncErrorHandling:rc,callWithErrorHandling:xd,camelize:va,capitalize:Ep,cloneVNode:zh,compatUtils:PC,computed:Ac,createApp:z3,createBlock:Bh,createCommentVNode:yn,createElementBlock:Ft,createElementVNode:je,createHydrationRenderer:T3,createPropsRestProxy:TC,createRenderer:S3,createSSRApp:YC,createSlots:qE,createStaticVNode:ph,createTextVNode:Jr,createVNode:Qi,customRef:ME,defineAsyncComponent:VE,defineComponent:q1,defineCustomElement:L3,defineEmits:yC,defineExpose:vC,defineProps:_C,defineSSRCustomElement:DC,get devtools(){return Mf},effect:dE,effectScope:rE,getCurrentInstance:_u,getCurrentScope:aE,getTransitionRawChildren:Y1,guardReactiveProps:I1,h:ic,handleError:Cp,hydrate:B3,initCustomFormatter:CC,initDirectivesForSSR:XC,inject:Rf,isMemoSame:D3,isProxy:ex,isReactive:dp,isReadonly:yp,isRef:na,isRuntimeOnly:fC,isShallow:ym,isVNode:du,markRaw:tx,mergeDefaults:SC,mergeProps:px,nextTick:yd,normalizeClass:Gs,normalizeProps:pv,normalizeStyle:Dl,onActivated:u3,onBeforeMount:f3,onBeforeUnmount:Yf,onBeforeUpdate:Z1,onDeactivated:p3,onErrorCaptured:y3,onMounted:jh,onRenderTracked:_3,onRenderTriggered:g3,onScopeDispose:lE,onServerPrefetch:m3,onUnmounted:qf,onUpdated:Wf,openBlock:Ot,popScopeId:mu,provide:Im,proxyRefs:nx,pushScopeId:fu,queuePostFlushCb:rx,reactive:Dm,readonly:Jv,ref:dr,registerRuntimeCompiler:M3,render:xv,renderList:vs,renderSlot:tc,resolveComponent:Yn,resolveDirective:dx,resolveDynamicComponent:YE,resolveFilter:kC,resolveTransitionHooks:jf,setBlockTracking:yv,setDevtoolsHook:l3,setTransitionHooks:vp,shallowReactive:n3,shallowReadonly:SE,shallowRef:TE,ssrContextKey:k3,ssrUtils:AC,stop:uE,toDisplayString:ji,toHandlerKey:Lf,toHandlers:ZE,toRaw:Hs,toRef:o3,toRefs:AE,transformVNodeArgs:cC,triggerRef:CE,unref:Go,useAttrs:A3,useCssModule:IC,useCssVars:LC,useSSRContext:P3,useSlots:bC,useTransitionState:lx,vModelCheckbox:ou,vModelDynamic:O3,vModelRadio:mx,vModelSelect:Il,vModelText:il,vShow:R3,version:I3,warn:PE,watch:ea,watchEffect:NE,watchPostEffect:d3,watchSyncEffect:jE,withAsyncContext:EC,withCtx:Do,withDefaults:xC,withDirectives:rr,withKeys:VC,withMemo:MC,withModifiers:ud,withScopeId:RE},Symbol.toStringTag,{value:"Module"}));function F3(e){throw e}function ZC(e){}function oo(e,t,s,a){const c=e,d=new SyntaxError(String(c));return d.code=e,d.loc=t,d}const L1=Symbol(""),w1=Symbol(""),N3=Symbol(""),bv=Symbol(""),KC=Symbol(""),Gf=Symbol(""),JC=Symbol(""),QC=Symbol(""),j3=Symbol(""),U3=Symbol(""),Q1=Symbol(""),G3=Symbol(""),eM=Symbol(""),V3=Symbol(""),wv=Symbol(""),$3=Symbol(""),H3=Symbol(""),W3=Symbol(""),Y3=Symbol(""),tM=Symbol(""),iM=Symbol(""),gx=Symbol(""),Sv=Symbol(""),q3=Symbol(""),X3=Symbol(""),O1=Symbol(""),e_=Symbol(""),Z3=Symbol(""),Tw=Symbol(""),FP=Symbol(""),Ew=Symbol(""),Tv=Symbol(""),NP=Symbol(""),jP=Symbol(""),K3=Symbol(""),UP=Symbol(""),GP=Symbol(""),J3=Symbol(""),nM=Symbol(""),bm={[L1]:"Fragment",[w1]:"Teleport",[N3]:"Suspense",[bv]:"KeepAlive",[KC]:"BaseTransition",[Gf]:"openBlock",[JC]:"createBlock",[QC]:"createElementBlock",[j3]:"createVNode",[U3]:"createElementVNode",[Q1]:"createCommentVNode",[G3]:"createTextVNode",[eM]:"createStaticVNode",[V3]:"resolveComponent",[wv]:"resolveDynamicComponent",[$3]:"resolveDirective",[H3]:"resolveFilter",[W3]:"withDirectives",[Y3]:"renderList",[tM]:"renderSlot",[iM]:"createSlots",[gx]:"toDisplayString",[Sv]:"mergeProps",[q3]:"normalizeClass",[X3]:"normalizeStyle",[O1]:"normalizeProps",[e_]:"guardReactiveProps",[Z3]:"toHandlers",[Tw]:"camelize",[FP]:"capitalize",[Ew]:"toHandlerKey",[Tv]:"setBlockTracking",[NP]:"pushScopeId",[jP]:"popScopeId",[K3]:"withCtx",[UP]:"unref",[GP]:"isRef",[J3]:"withMemo",[nM]:"isMemoSame"};function VP(e){Object.getOwnPropertySymbols(e).forEach(t=>{bm[t]=e[t]})}const Rc={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function $P(e,t=Rc){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function R1(e,t,s,a,c,d,m,n=!1,S=!1,z=!1,Z=Rc){return e&&(n?(e.helper(Gf),e.helper(Tm(e.inSSR,z))):e.helper(Sm(e.inSSR,z)),m&&e.helper(W3)),{type:13,tag:t,props:s,children:a,patchFlag:c,dynamicProps:d,directives:m,isBlock:n,disableTracking:S,isComponent:z,loc:Z}}function t_(e,t=Rc){return{type:17,loc:t,elements:e}}function ch(e,t=Rc){return{type:15,loc:t,properties:e}}function vo(e,t){return{type:16,loc:Rc,key:xs(e)?As(e,!0):e,value:t}}function As(e,t=!1,s=Rc,a=0){return{type:4,loc:s,content:e,isStatic:t,constType:t?3:a}}function Rh(e,t=Rc){return{type:8,loc:t,children:e}}function Vo(e,t=[],s=Rc){return{type:14,loc:s,callee:e,arguments:t}}function wm(e,t=void 0,s=!1,a=!1,c=Rc){return{type:18,params:e,returns:t,newline:s,isSlot:a,loc:c}}function Cw(e,t,s,a=!0){return{type:19,test:e,consequent:t,alternate:s,newline:a,loc:Rc}}function HP(e,t,s=!1){return{type:20,index:e,value:t,isVNode:s,loc:Rc}}function WP(e){return{type:21,body:e,loc:Rc}}const sc=e=>e.type===4&&e.isStatic,sm=(e,t)=>e===t||e===Ic(t);function sM(e){if(sm(e,"Teleport"))return w1;if(sm(e,"Suspense"))return N3;if(sm(e,"KeepAlive"))return bv;if(sm(e,"BaseTransition"))return KC}const YP=/^\d|[^\$\w]/,Q3=e=>!YP.test(e),qP=/[A-Za-z_$\xA0-\uFFFF]/,XP=/[\.\?\w$\xA0-\uFFFF]/,ZP=/\s+[.[]\s*|\s*[.[]\s+/g,KP=e=>{e=e.trim().replace(ZP,m=>m.trim());let t=0,s=[],a=0,c=0,d=null;for(let m=0;m<e.length;m++){const n=e.charAt(m);switch(t){case 0:if(n==="[")s.push(t),t=1,a++;else if(n==="(")s.push(t),t=2,c++;else if(!(m===0?qP:XP).test(n))return!1;break;case 1:n==="'"||n==='"'||n==="`"?(s.push(t),t=3,d=n):n==="["?a++:n==="]"&&(--a||(t=s.pop()));break;case 2:if(n==="'"||n==='"'||n==="`")s.push(t),t=3,d=n;else if(n==="(")c++;else if(n===")"){if(m===e.length-1)return!1;--c||(t=s.pop())}break;case 3:n===d&&(t=s.pop(),d=null);break}}return!a&&!c},rM=KP;function oM(e,t,s){const c={source:e.source.slice(t,t+s),start:Ev(e.start,e.source,t),end:e.end};return s!=null&&(c.end=Ev(e.start,e.source,t+s)),c}function Ev(e,t,s=t.length){return Cv(ur({},e),t,s)}function Cv(e,t,s=t.length){let a=0,c=-1;for(let d=0;d<s;d++)t.charCodeAt(d)===10&&(a++,c=d);return e.offset+=s,e.line+=a,e.column=c===-1?e.column+s:s-c,e}function ah(e,t,s=!1){for(let a=0;a<e.props.length;a++){const c=e.props[a];if(c.type===7&&(s||c.exp)&&(xs(t)?c.name===t:t.test(c.name)))return c}}function _x(e,t,s=!1,a=!1){for(let c=0;c<e.props.length;c++){const d=e.props[c];if(d.type===6){if(s)continue;if(d.name===t&&(d.value||a))return d}else if(d.name==="bind"&&(d.exp||a)&&Pf(d.arg,t))return d}}function Pf(e,t){return!!(e&&sc(e)&&e.content===t)}function JP(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function B2(e){return e.type===5||e.type===2}function QP(e){return e.type===7&&e.name==="slot"}function Mv(e){return e.type===1&&e.tagType===3}function Av(e){return e.type===1&&e.tagType===2}function Sm(e,t){return e||t?j3:U3}function Tm(e,t){return e||t?JC:QC}const eD=new Set([O1,e_]);function aM(e,t=[]){if(e&&!xs(e)&&e.type===14){const s=e.callee;if(!xs(s)&&eD.has(s))return aM(e.arguments[0],t.concat(e))}return[e,t]}function kv(e,t,s){let a,c=e.type===13?e.props:e.arguments[2],d=[],m;if(c&&!xs(c)&&c.type===14){const n=aM(c);c=n[0],d=n[1],m=d[d.length-1]}if(c==null||xs(c))a=ch([t]);else if(c.type===14){const n=c.arguments[0];!xs(n)&&n.type===15?jT(t,n)||n.properties.unshift(t):c.callee===Z3?a=Vo(s.helper(Sv),[ch([t]),c]):c.arguments.unshift(ch([t])),!a&&(a=c)}else c.type===15?(jT(t,c)||c.properties.unshift(t),a=c):(a=Vo(s.helper(Sv),[ch([t]),c]),m&&m.callee===e_&&(m=d[d.length-2]));e.type===13?m?m.arguments[0]=a:e.props=a:m?m.arguments[0]=a:e.arguments[2]=a}function jT(e,t){let s=!1;if(e.key.type===4){const a=e.key.content;s=t.properties.some(c=>c.key.type===4&&c.key.content===a)}return s}function B1(e,t){return`_${t}_${e.replace(/[^\w]/g,(s,a)=>s==="-"?"_":e.charCodeAt(a).toString())}`}function tD(e){return e.type===14&&e.callee===J3?e.arguments[1].returns:e}function eS(e,{helper:t,removeHelper:s,inSSR:a}){e.isBlock||(e.isBlock=!0,s(Sm(a,e.isComponent)),t(Gf),t(Tm(a,e.isComponent)))}function UT(e,t){const s=t.options?t.options.compatConfig:t.compatConfig,a=s&&s[e];return e==="MODE"?a||3:a}function zf(e,t){const s=UT("MODE",t),a=UT(e,t);return s===3?a===!0:a!==!1}function z1(e,t,s,...a){return zf(e,t)}const iD=/&(gt|lt|amp|apos|quot);/g,nD={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},GT={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:ev,isPreTag:ev,isCustomElement:ev,decodeEntities:e=>e.replace(iD,(t,s)=>nD[s]),onError:F3,onWarn:ZC,comments:!1};function sD(e,t={}){const s=rD(e,t),a=Lc(s);return $P(tS(s,0,[]),dh(s,a))}function rD(e,t){const s=ur({},GT);let a;for(a in t)s[a]=t[a]===void 0?GT[a]:t[a];return{options:s,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:s.onWarn}}function tS(e,t,s){const a=yx(s),c=a?a.ns:0,d=[];for(;!fD(e,t,s);){const n=e.source;let S;if(t===0||t===1){if(!e.inVPre&&Qa(n,e.options.delimiters[0]))S=uD(e,t);else if(t===0&&n[0]==="<")if(n.length===1)wr(e,5,1);else if(n[1]==="!")Qa(n,"<!--")?S=aD(e):Qa(n,"<!DOCTYPE")?S=p1(e):Qa(n,"<![CDATA[")?c!==0?S=oD(e,s):(wr(e,1),S=p1(e)):(wr(e,11),S=p1(e));else if(n[1]==="/")if(n.length===2)wr(e,5,2);else if(n[2]===">"){wr(e,14,2),ra(e,3);continue}else if(/[a-z]/i.test(n[2])){wr(e,23),Mw(e,1,a);continue}else wr(e,12,2),S=p1(e);else/[a-z]/i.test(n[1])?(S=lD(e,s),zf("COMPILER_NATIVE_TEMPLATE",e)&&S&&S.tag==="template"&&!S.props.some(z=>z.type===7&&lM(z.name))&&(S=S.children)):n[1]==="?"?(wr(e,21,1),S=p1(e)):wr(e,12,1)}if(S||(S=pD(e,t)),vn(S))for(let z=0;z<S.length;z++)VT(d,S[z]);else VT(d,S)}let m=!1;if(t!==2&&t!==1){const n=e.options.whitespace!=="preserve";for(let S=0;S<d.length;S++){const z=d[S];if(z.type===2)if(e.inPre)z.content=z.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(z.content))n&&(z.content=z.content.replace(/[\t\r\n\f ]+/g," "));else{const Z=d[S-1],O=d[S+1];!Z||!O||n&&(Z.type===3&&O.type===3||Z.type===3&&O.type===1||Z.type===1&&O.type===3||Z.type===1&&O.type===1&&/[\r\n]/.test(z.content))?(m=!0,d[S]=null):z.content=" "}else z.type===3&&!e.options.comments&&(m=!0,d[S]=null)}if(e.inPre&&a&&e.options.isPreTag(a.tag)){const S=d[0];S&&S.type===2&&(S.content=S.content.replace(/^\r?\n/,""))}}return m?d.filter(Boolean):d}function VT(e,t){if(t.type===2){const s=yx(e);if(s&&s.type===2&&s.loc.end.offset===t.loc.start.offset){s.content+=t.content,s.loc.end=t.loc.end,s.loc.source+=t.loc.source;return}}e.push(t)}function oD(e,t){ra(e,9);const s=tS(e,3,t);return e.source.length===0?wr(e,6):ra(e,3),s}function aD(e){const t=Lc(e);let s;const a=/--(\!)?>/.exec(e.source);if(!a)s=e.source.slice(4),ra(e,e.source.length),wr(e,7);else{a.index<=3&&wr(e,0),a[1]&&wr(e,10),s=e.source.slice(4,a.index);const c=e.source.slice(0,a.index);let d=1,m=0;for(;(m=c.indexOf("<!--",d))!==-1;)ra(e,m-d+1),m+4<c.length&&wr(e,16),d=m+1;ra(e,a.index+a[0].length-d+1)}return{type:3,content:s,loc:dh(e,t)}}function p1(e){const t=Lc(e),s=e.source[1]==="?"?1:2;let a;const c=e.source.indexOf(">");return c===-1?(a=e.source.slice(s),ra(e,e.source.length)):(a=e.source.slice(s,c),ra(e,c+1)),{type:3,content:a,loc:dh(e,t)}}function lD(e,t){const s=e.inPre,a=e.inVPre,c=yx(t),d=Mw(e,0,c),m=e.inPre&&!s,n=e.inVPre&&!a;if(d.isSelfClosing||e.options.isVoidTag(d.tag))return m&&(e.inPre=!1),n&&(e.inVPre=!1),d;t.push(d);const S=e.options.getTextMode(d,c),z=tS(e,S,t);t.pop();{const Z=d.props.find(O=>O.type===6&&O.name==="inline-template");if(Z&&z1("COMPILER_INLINE_TEMPLATE",e,Z.loc)){const O=dh(e,d.loc.end);Z.value={type:2,content:O.source,loc:O}}}if(d.children=z,Aw(e.source,d.tag))Mw(e,1,c);else if(wr(e,24,0,d.loc.start),e.source.length===0&&d.tag.toLowerCase()==="script"){const Z=z[0];Z&&Qa(Z.loc.source,"<!--")&&wr(e,8)}return d.loc=dh(e,d.loc.start),m&&(e.inPre=!1),n&&(e.inVPre=!1),d}const lM=oc("if,else,else-if,for,slot");function Mw(e,t,s){const a=Lc(e),c=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),d=c[1],m=e.options.getNamespace(d,s);ra(e,c[0].length),F1(e);const n=Lc(e),S=e.source;e.options.isPreTag(d)&&(e.inPre=!0);let z=$T(e,t);t===0&&!e.inVPre&&z.some(H=>H.type===7&&H.name==="pre")&&(e.inVPre=!0,ur(e,n),e.source=S,z=$T(e,t).filter(H=>H.name!=="v-pre"));let Z=!1;if(e.source.length===0?wr(e,9):(Z=Qa(e.source,"/>"),t===1&&Z&&wr(e,4),ra(e,Z?2:1)),t===1)return;let O=0;return e.inVPre||(d==="slot"?O=2:d==="template"?z.some(H=>H.type===7&&lM(H.name))&&(O=3):cD(d,z,e)&&(O=1)),{type:1,ns:m,tag:d,tagType:O,props:z,isSelfClosing:Z,children:[],loc:dh(e,a),codegenNode:void 0}}function cD(e,t,s){const a=s.options;if(a.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||sM(e)||a.isBuiltInComponent&&a.isBuiltInComponent(e)||a.isNativeTag&&!a.isNativeTag(e))return!0;for(let c=0;c<t.length;c++){const d=t[c];if(d.type===6){if(d.name==="is"&&d.value){if(d.value.content.startsWith("vue:"))return!0;if(z1("COMPILER_IS_ON_ELEMENT",s,d.loc))return!0}}else{if(d.name==="is")return!0;if(d.name==="bind"&&Pf(d.arg,"is")&&z1("COMPILER_IS_ON_ELEMENT",s,d.loc))return!0}}}function $T(e,t){const s=[],a=new Set;for(;e.source.length>0&&!Qa(e.source,">")&&!Qa(e.source,"/>");){if(Qa(e.source,"/")){wr(e,22),ra(e,1),F1(e);continue}t===1&&wr(e,3);const c=hD(e,a);c.type===6&&c.value&&c.name==="class"&&(c.value.content=c.value.content.replace(/\s+/g," ").trim()),t===0&&s.push(c),/^[^\t\r\n\f />]/.test(e.source)&&wr(e,15),F1(e)}return s}function hD(e,t){const s=Lc(e),c=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(c)&&wr(e,2),t.add(c),c[0]==="="&&wr(e,19);{const n=/["'<]/g;let S;for(;S=n.exec(c);)wr(e,17,S.index)}ra(e,c.length);let d;/^[\t\r\n\f ]*=/.test(e.source)&&(F1(e),ra(e,1),F1(e),d=dD(e),d||wr(e,13));const m=dh(e,s);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(c)){const n=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(c);let S=Qa(c,"."),z=n[1]||(S||Qa(c,":")?"bind":Qa(c,"@")?"on":"slot"),Z;if(n[2]){const H=z==="slot",q=c.lastIndexOf(n[2]),L=dh(e,HT(e,s,q),HT(e,s,q+n[2].length+(H&&n[3]||"").length));let R=n[2],$=!0;R.startsWith("[")?($=!1,R.endsWith("]")?R=R.slice(1,R.length-1):(wr(e,27),R=R.slice(1))):H&&(R+=n[3]||""),Z={type:4,content:R,isStatic:$,constType:$?3:0,loc:L}}if(d&&d.isQuoted){const H=d.loc;H.start.offset++,H.start.column++,H.end=Ev(H.start,d.content),H.source=H.source.slice(1,-1)}const O=n[3]?n[3].slice(1).split("."):[];return S&&O.push("prop"),z==="bind"&&Z&&O.includes("sync")&&z1("COMPILER_V_BIND_SYNC",e,m,Z.loc.source)&&(z="model",O.splice(O.indexOf("sync"),1)),{type:7,name:z,exp:d&&{type:4,content:d.content,isStatic:!1,constType:0,loc:d.loc},arg:Z,modifiers:O,loc:m}}return!e.inVPre&&Qa(c,"v-")&&wr(e,26),{type:6,name:c,value:d&&{type:2,content:d.content,loc:d.loc},loc:m}}function dD(e){const t=Lc(e);let s;const a=e.source[0],c=a==='"'||a==="'";if(c){ra(e,1);const d=e.source.indexOf(a);d===-1?s=S1(e,e.source.length,4):(s=S1(e,d,4),ra(e,1))}else{const d=/^[^\t\r\n\f >]+/.exec(e.source);if(!d)return;const m=/["'<=`]/g;let n;for(;n=m.exec(d[0]);)wr(e,18,n.index);s=S1(e,d[0].length,4)}return{content:s,isQuoted:c,loc:dh(e,t)}}function uD(e,t){const[s,a]=e.options.delimiters,c=e.source.indexOf(a,s.length);if(c===-1){wr(e,25);return}const d=Lc(e);ra(e,s.length);const m=Lc(e),n=Lc(e),S=c-s.length,z=e.source.slice(0,S),Z=S1(e,S,t),O=Z.trim(),H=Z.indexOf(O);H>0&&Cv(m,z,H);const q=S-(Z.length-O.length-H);return Cv(n,z,q),ra(e,a.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:O,loc:dh(e,m,n)},loc:dh(e,d)}}function pD(e,t){const s=t===3?["]]>"]:["<",e.options.delimiters[0]];let a=e.source.length;for(let m=0;m<s.length;m++){const n=e.source.indexOf(s[m],1);n!==-1&&a>n&&(a=n)}const c=Lc(e);return{type:2,content:S1(e,a,t),loc:dh(e,c)}}function S1(e,t,s){const a=e.source.slice(0,t);return ra(e,t),s===2||s===3||!a.includes("&")?a:e.options.decodeEntities(a,s===4)}function Lc(e){const{column:t,line:s,offset:a}=e;return{column:t,line:s,offset:a}}function dh(e,t,s){return s=s||Lc(e),{start:t,end:s,source:e.originalSource.slice(t.offset,s.offset)}}function yx(e){return e[e.length-1]}function Qa(e,t){return e.startsWith(t)}function ra(e,t){const{source:s}=e;Cv(e,s,t),e.source=s.slice(t)}function F1(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&ra(e,t[0].length)}function HT(e,t,s){return Ev(t,e.originalSource.slice(t.offset,s),s)}function wr(e,t,s,a=Lc(e)){s&&(a.offset+=s,a.column+=s),e.options.onError(oo(t,{start:a,end:a,source:""}))}function fD(e,t,s){const a=e.source;switch(t){case 0:if(Qa(a,"</")){for(let c=s.length-1;c>=0;--c)if(Aw(a,s[c].tag))return!0}break;case 1:case 2:{const c=yx(s);if(c&&Aw(a,c.tag))return!0;break}case 3:if(Qa(a,"]]>"))return!0;break}return!a}function Aw(e,t){return Qa(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function mD(e,t){nv(e,t,cM(e,e.children[0]))}function cM(e,t){const{children:s}=e;return s.length===1&&t.type===1&&!Av(t)}function nv(e,t,s=!1){const{children:a}=e,c=a.length;let d=0;for(let m=0;m<a.length;m++){const n=a[m];if(n.type===1&&n.tagType===0){const S=s?0:hh(n,t);if(S>0){if(S>=2){n.codegenNode.patchFlag="-1",n.codegenNode=t.hoist(n.codegenNode),d++;continue}}else{const z=n.codegenNode;if(z.type===13){const Z=pM(z);if((!Z||Z===512||Z===1)&&dM(n,t)>=2){const O=uM(n);O&&(z.props=t.hoist(O))}z.dynamicProps&&(z.dynamicProps=t.hoist(z.dynamicProps))}}}if(n.type===1){const S=n.tagType===1;S&&t.scopes.vSlot++,nv(n,t),S&&t.scopes.vSlot--}else if(n.type===11)nv(n,t,n.children.length===1);else if(n.type===9)for(let S=0;S<n.branches.length;S++)nv(n.branches[S],t,n.branches[S].children.length===1)}d&&t.transformHoist&&t.transformHoist(a,t,e),d&&d===c&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&vn(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(t_(e.codegenNode.children)))}function hh(e,t){const{constantCache:s}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const a=s.get(e);if(a!==void 0)return a;const c=e.codegenNode;if(c.type!==13||c.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(pM(c))return s.set(e,0),0;{let n=3;const S=dM(e,t);if(S===0)return s.set(e,0),0;S<n&&(n=S);for(let z=0;z<e.children.length;z++){const Z=hh(e.children[z],t);if(Z===0)return s.set(e,0),0;Z<n&&(n=Z)}if(n>1)for(let z=0;z<e.props.length;z++){const Z=e.props[z];if(Z.type===7&&Z.name==="bind"&&Z.exp){const O=hh(Z.exp,t);if(O===0)return s.set(e,0),0;O<n&&(n=O)}}if(c.isBlock){for(let z=0;z<e.props.length;z++)if(e.props[z].type===7)return s.set(e,0),0;t.removeHelper(Gf),t.removeHelper(Tm(t.inSSR,c.isComponent)),c.isBlock=!1,t.helper(Sm(t.inSSR,c.isComponent))}return s.set(e,n),n}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return hh(e.content,t);case 4:return e.constType;case 8:let m=3;for(let n=0;n<e.children.length;n++){const S=e.children[n];if(xs(S)||gp(S))continue;const z=hh(S,t);if(z===0)return 0;z<m&&(m=z)}return m;default:return 0}}const gD=new Set([q3,X3,O1,e_]);function hM(e,t){if(e.type===14&&!xs(e.callee)&&gD.has(e.callee)){const s=e.arguments[0];if(s.type===4)return hh(s,t);if(s.type===14)return hM(s,t)}return 0}function dM(e,t){let s=3;const a=uM(e);if(a&&a.type===15){const{properties:c}=a;for(let d=0;d<c.length;d++){const{key:m,value:n}=c[d],S=hh(m,t);if(S===0)return S;S<s&&(s=S);let z;if(n.type===4?z=hh(n,t):n.type===14?z=hM(n,t):z=0,z===0)return z;z<s&&(s=z)}}return s}function uM(e){const t=e.codegenNode;if(t.type===13)return t.props}function pM(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function _D(e,{filename:t="",prefixIdentifiers:s=!1,hoistStatic:a=!1,cacheHandlers:c=!1,nodeTransforms:d=[],directiveTransforms:m={},transformHoist:n=null,isBuiltInComponent:S=Ll,isCustomElement:z=Ll,expressionPlugins:Z=[],scopeId:O=null,slotted:H=!0,ssr:q=!1,inSSR:L=!1,ssrCssVars:R="",bindingMetadata:$=Sr,inline:M=!1,isTS:E=!1,onError:k=F3,onWarn:V=ZC,compatConfig:G}){const C=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),te={selfName:C&&Ep(va(C[1])),prefixIdentifiers:s,hoistStatic:a,cacheHandlers:c,nodeTransforms:d,directiveTransforms:m,transformHoist:n,isBuiltInComponent:S,isCustomElement:z,expressionPlugins:Z,scopeId:O,slotted:H,ssr:q,inSSR:L,ssrCssVars:R,bindingMetadata:$,inline:M,isTS:E,onError:k,onWarn:V,compatConfig:G,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(Q){const N=te.helpers.get(Q)||0;return te.helpers.set(Q,N+1),Q},removeHelper(Q){const N=te.helpers.get(Q);if(N){const j=N-1;j?te.helpers.set(Q,j):te.helpers.delete(Q)}},helperString(Q){return`_${bm[te.helper(Q)]}`},replaceNode(Q){te.parent.children[te.childIndex]=te.currentNode=Q},removeNode(Q){const N=te.parent.children,j=Q?N.indexOf(Q):te.currentNode?te.childIndex:-1;!Q||Q===te.currentNode?(te.currentNode=null,te.onNodeRemoved()):te.childIndex>j&&(te.childIndex--,te.onNodeRemoved()),te.parent.children.splice(j,1)},onNodeRemoved:()=>{},addIdentifiers(Q){},removeIdentifiers(Q){},hoist(Q){xs(Q)&&(Q=As(Q)),te.hoists.push(Q);const N=As(`_hoisted_${te.hoists.length}`,!1,Q.loc,2);return N.hoisted=Q,N},cache(Q,N=!1){return HP(te.cached++,Q,N)}};return te.filters=new Set,te}function yD(e,t){const s=_D(e,t);vx(e,s),t.hoistStatic&&mD(e,s),t.ssr||vD(e,s),e.helpers=[...s.helpers.keys()],e.components=[...s.components],e.directives=[...s.directives],e.imports=s.imports,e.hoists=s.hoists,e.temps=s.temps,e.cached=s.cached,e.filters=[...s.filters]}function vD(e,t){const{helper:s}=t,{children:a}=e;if(a.length===1){const c=a[0];if(cM(e,c)&&c.codegenNode){const d=c.codegenNode;d.type===13&&eS(d,t),e.codegenNode=d}else e.codegenNode=c}else if(a.length>1){let c=64;e.codegenNode=R1(t,s(L1),void 0,e.children,c+"",void 0,void 0,!0,void 0,!1)}}function xD(e,t){let s=0;const a=()=>{s--};for(;s<e.children.length;s++){const c=e.children[s];xs(c)||(t.parent=e,t.childIndex=s,t.onNodeRemoved=a,vx(c,t))}}function vx(e,t){t.currentNode=e;const{nodeTransforms:s}=t,a=[];for(let d=0;d<s.length;d++){const m=s[d](e,t);if(m&&(vn(m)?a.push(...m):a.push(m)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(Q1);break;case 5:t.ssr||t.helper(gx);break;case 9:for(let d=0;d<e.branches.length;d++)vx(e.branches[d],t);break;case 10:case 11:case 1:case 0:xD(e,t);break}t.currentNode=e;let c=a.length;for(;c--;)a[c]()}function fM(e,t){const s=xs(e)?a=>a===e:a=>e.test(a);return(a,c)=>{if(a.type===1){const{props:d}=a;if(a.tagType===3&&d.some(QP))return;const m=[];for(let n=0;n<d.length;n++){const S=d[n];if(S.type===7&&s(S.name)){d.splice(n,1),n--;const z=t(a,S,c);z&&m.push(z)}}return m}}}const xx="/*#__PURE__*/",mM=e=>`${bm[e]}: _${bm[e]}`;function bD(e,{mode:t="function",prefixIdentifiers:s=t==="module",sourceMap:a=!1,filename:c="template.vue.html",scopeId:d=null,optimizeImports:m=!1,runtimeGlobalName:n="Vue",runtimeModuleName:S="vue",ssrRuntimeModuleName:z="vue/server-renderer",ssr:Z=!1,isTS:O=!1,inSSR:H=!1}){const q={mode:t,prefixIdentifiers:s,sourceMap:a,filename:c,scopeId:d,optimizeImports:m,runtimeGlobalName:n,runtimeModuleName:S,ssrRuntimeModuleName:z,ssr:Z,isTS:O,inSSR:H,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(R){return`_${bm[R]}`},push(R,$){q.code+=R},indent(){L(++q.indentLevel)},deindent(R=!1){R?--q.indentLevel:L(--q.indentLevel)},newline(){L(q.indentLevel)}};function L(R){q.push(`
`+"  ".repeat(R))}return q}function wD(e,t={}){const s=bD(e,t);t.onContextCreated&&t.onContextCreated(s);const{mode:a,push:c,prefixIdentifiers:d,indent:m,deindent:n,newline:S,scopeId:z,ssr:Z}=s,O=e.helpers.length>0,H=!d&&a!=="module";SD(e,s);const L=Z?"ssrRender":"render",$=(Z?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(c(`function ${L}(${$}) {`),m(),H&&(c("with (_ctx) {"),m(),O&&(c(`const { ${e.helpers.map(mM).join(", ")} } = _Vue`),c(`
`),S())),e.components.length&&(z2(e.components,"component",s),(e.directives.length||e.temps>0)&&S()),e.directives.length&&(z2(e.directives,"directive",s),e.temps>0&&S()),e.filters&&e.filters.length&&(S(),z2(e.filters,"filter",s),S()),e.temps>0){c("let ");for(let M=0;M<e.temps;M++)c(`${M>0?", ":""}_temp${M}`)}return(e.components.length||e.directives.length||e.temps)&&(c(`
`),S()),Z||c("return "),e.codegenNode?el(e.codegenNode,s):c("null"),H&&(n(),c("}")),n(),c("}"),{ast:e,code:s.code,preamble:"",map:s.map?s.map.toJSON():void 0}}function SD(e,t){const{ssr:s,prefixIdentifiers:a,push:c,newline:d,runtimeModuleName:m,runtimeGlobalName:n,ssrRuntimeModuleName:S}=t,z=n;if(e.helpers.length>0&&(c(`const _Vue = ${z}
`),e.hoists.length)){const Z=[j3,U3,Q1,G3,eM].filter(O=>e.helpers.includes(O)).map(mM).join(", ");c(`const { ${Z} } = _Vue
`)}TD(e.hoists,t),d(),c("return ")}function z2(e,t,{helper:s,push:a,newline:c,isTS:d}){const m=s(t==="filter"?H3:t==="component"?V3:$3);for(let n=0;n<e.length;n++){let S=e[n];const z=S.endsWith("__self");z&&(S=S.slice(0,-6)),a(`const ${B1(S,t)} = ${m}(${JSON.stringify(S)}${z?", true":""})${d?"!":""}`),n<e.length-1&&c()}}function TD(e,t){if(!e.length)return;t.pure=!0;const{push:s,newline:a,helper:c,scopeId:d,mode:m}=t;a();for(let n=0;n<e.length;n++){const S=e[n];S&&(s(`const _hoisted_${n+1} = `),el(S,t),a())}t.pure=!1}function iS(e,t){const s=e.length>3||!1;t.push("["),s&&t.indent(),i_(e,t,s),s&&t.deindent(),t.push("]")}function i_(e,t,s=!1,a=!0){const{push:c,newline:d}=t;for(let m=0;m<e.length;m++){const n=e[m];xs(n)?c(n):vn(n)?iS(n,t):el(n,t),m<e.length-1&&(s?(a&&c(","),d()):a&&c(", "))}}function el(e,t){if(xs(e)){t.push(e);return}if(gp(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:el(e.codegenNode,t);break;case 2:ED(e,t);break;case 4:gM(e,t);break;case 5:CD(e,t);break;case 12:el(e.codegenNode,t);break;case 8:_M(e,t);break;case 3:AD(e,t);break;case 13:kD(e,t);break;case 14:DD(e,t);break;case 15:ID(e,t);break;case 17:LD(e,t);break;case 18:OD(e,t);break;case 19:RD(e,t);break;case 20:BD(e,t);break;case 21:i_(e.body,t,!0,!1);break}}function ED(e,t){t.push(JSON.stringify(e.content),e)}function gM(e,t){const{content:s,isStatic:a}=e;t.push(a?JSON.stringify(s):s,e)}function CD(e,t){const{push:s,helper:a,pure:c}=t;c&&s(xx),s(`${a(gx)}(`),el(e.content,t),s(")")}function _M(e,t){for(let s=0;s<e.children.length;s++){const a=e.children[s];xs(a)?t.push(a):el(a,t)}}function MD(e,t){const{push:s}=t;if(e.type===8)s("["),_M(e,t),s("]");else if(e.isStatic){const a=Q3(e.content)?e.content:JSON.stringify(e.content);s(a,e)}else s(`[${e.content}]`,e)}function AD(e,t){const{push:s,helper:a,pure:c}=t;c&&s(xx),s(`${a(Q1)}(${JSON.stringify(e.content)})`,e)}function kD(e,t){const{push:s,helper:a,pure:c}=t,{tag:d,props:m,children:n,patchFlag:S,dynamicProps:z,directives:Z,isBlock:O,disableTracking:H,isComponent:q}=e;Z&&s(a(W3)+"("),O&&s(`(${a(Gf)}(${H?"true":""}), `),c&&s(xx);const L=O?Tm(t.inSSR,q):Sm(t.inSSR,q);s(a(L)+"(",e),i_(PD([d,m,n,S,z]),t),s(")"),O&&s(")"),Z&&(s(", "),el(Z,t),s(")"))}function PD(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(s=>s||"null")}function DD(e,t){const{push:s,helper:a,pure:c}=t,d=xs(e.callee)?e.callee:a(e.callee);c&&s(xx),s(d+"(",e),i_(e.arguments,t),s(")")}function ID(e,t){const{push:s,indent:a,deindent:c,newline:d}=t,{properties:m}=e;if(!m.length){s("{}",e);return}const n=m.length>1||!1;s(n?"{":"{ "),n&&a();for(let S=0;S<m.length;S++){const{key:z,value:Z}=m[S];MD(z,t),s(": "),el(Z,t),S<m.length-1&&(s(","),d())}n&&c(),s(n?"}":" }")}function LD(e,t){iS(e.elements,t)}function OD(e,t){const{push:s,indent:a,deindent:c}=t,{params:d,returns:m,body:n,newline:S,isSlot:z}=e;z&&s(`_${bm[K3]}(`),s("(",e),vn(d)?i_(d,t):d&&el(d,t),s(") => "),(S||n)&&(s("{"),a()),m?(S&&s("return "),vn(m)?iS(m,t):el(m,t)):n&&el(n,t),(S||n)&&(c(),s("}")),z&&(e.isNonScopedSlot&&s(", undefined, true"),s(")"))}function RD(e,t){const{test:s,consequent:a,alternate:c,newline:d}=e,{push:m,indent:n,deindent:S,newline:z}=t;if(s.type===4){const O=!Q3(s.content);O&&m("("),gM(s,t),O&&m(")")}else m("("),el(s,t),m(")");d&&n(),t.indentLevel++,d||m(" "),m("? "),el(a,t),t.indentLevel--,d&&z(),d||m(" "),m(": ");const Z=c.type===19;Z||t.indentLevel++,el(c,t),Z||t.indentLevel--,d&&S(!0)}function BD(e,t){const{push:s,helper:a,indent:c,deindent:d,newline:m}=t;s(`_cache[${e.index}] || (`),e.isVNode&&(c(),s(`${a(Tv)}(-1),`),m()),s(`_cache[${e.index}] = `),el(e.value,t),e.isVNode&&(s(","),m(),s(`${a(Tv)}(1),`),m(),s(`_cache[${e.index}]`),d()),s(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const zD=fM(/^(if|else|else-if)$/,(e,t,s)=>FD(e,t,s,(a,c,d)=>{const m=s.parent.children;let n=m.indexOf(a),S=0;for(;n-->=0;){const z=m[n];z&&z.type===9&&(S+=z.branches.length)}return()=>{if(d)a.codegenNode=YT(c,S,s);else{const z=ND(a.codegenNode);z.alternate=YT(c,S+a.branches.length-1,s)}}}));function FD(e,t,s,a){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const c=t.exp?t.exp.loc:e.loc;s.onError(oo(28,t.loc)),t.exp=As("true",!1,c)}if(t.name==="if"){const c=WT(e,t),d={type:9,loc:e.loc,branches:[c]};if(s.replaceNode(d),a)return a(d,c,!0)}else{const c=s.parent.children;let d=c.indexOf(e);for(;d-->=-1;){const m=c[d];if(m&&m.type===3){s.removeNode(m);continue}if(m&&m.type===2&&!m.content.trim().length){s.removeNode(m);continue}if(m&&m.type===9){t.name==="else-if"&&m.branches[m.branches.length-1].condition===void 0&&s.onError(oo(30,e.loc)),s.removeNode();const n=WT(e,t);m.branches.push(n);const S=a&&a(m,n,!1);vx(n,s),S&&S(),s.currentNode=null}else s.onError(oo(30,e.loc));break}}}function WT(e,t){const s=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:s&&!ah(e,"for")?e.children:[e],userKey:_x(e,"key"),isTemplateIf:s}}function YT(e,t,s){return e.condition?Cw(e.condition,qT(e,t,s),Vo(s.helper(Q1),['""',"true"])):qT(e,t,s)}function qT(e,t,s){const{helper:a}=s,c=vo("key",As(`${t}`,!1,Rc,2)),{children:d}=e,m=d[0];if(d.length!==1||m.type!==1)if(d.length===1&&m.type===11){const S=m.codegenNode;return kv(S,c,s),S}else{let S=64;return R1(s,a(L1),ch([c]),d,S+"",void 0,void 0,!0,!1,!1,e.loc)}else{const S=m.codegenNode,z=tD(S);return z.type===13&&eS(z,s),kv(z,c,s),S}}function ND(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const jD=fM("for",(e,t,s)=>{const{helper:a,removeHelper:c}=s;return UD(e,t,s,d=>{const m=Vo(a(Y3),[d.source]),n=Mv(e),S=ah(e,"memo"),z=_x(e,"key"),Z=z&&(z.type===6?As(z.value.content,!0):z.exp),O=z?vo("key",Z):null,H=d.source.type===4&&d.source.constType>0,q=H?64:z?128:256;return d.codegenNode=R1(s,a(L1),void 0,m,q+"",void 0,void 0,!0,!H,!1,e.loc),()=>{let L;const{children:R}=d,$=R.length!==1||R[0].type!==1,M=Av(e)?e:n&&e.children.length===1&&Av(e.children[0])?e.children[0]:null;if(M?(L=M.codegenNode,n&&O&&kv(L,O,s)):$?L=R1(s,a(L1),O?ch([O]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(L=R[0].codegenNode,n&&O&&kv(L,O,s),L.isBlock!==!H&&(L.isBlock?(c(Gf),c(Tm(s.inSSR,L.isComponent))):c(Sm(s.inSSR,L.isComponent))),L.isBlock=!H,L.isBlock?(a(Gf),a(Tm(s.inSSR,L.isComponent))):a(Sm(s.inSSR,L.isComponent))),S){const E=wm(kw(d.parseResult,[As("_cached")]));E.body=WP([Rh(["const _memo = (",S.exp,")"]),Rh(["if (_cached",...Z?[" && _cached.key === ",Z]:[],` && ${s.helperString(nM)}(_cached, _memo)) return _cached`]),Rh(["const _item = ",L]),As("_item.memo = _memo"),As("return _item")]),m.arguments.push(E,As("_cache"),As(String(s.cached++)))}else m.arguments.push(wm(kw(d.parseResult),L,!0))}})});function UD(e,t,s,a){if(!t.exp){s.onError(oo(31,t.loc));return}const c=yM(t.exp);if(!c){s.onError(oo(32,t.loc));return}const{addIdentifiers:d,removeIdentifiers:m,scopes:n}=s,{source:S,value:z,key:Z,index:O}=c,H={type:11,loc:t.loc,source:S,valueAlias:z,keyAlias:Z,objectIndexAlias:O,parseResult:c,children:Mv(e)?e.children:[e]};s.replaceNode(H),n.vFor++;const q=a&&a(H);return()=>{n.vFor--,q&&q()}}const GD=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,XT=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,VD=/^\(|\)$/g;function yM(e,t){const s=e.loc,a=e.content,c=a.match(GD);if(!c)return;const[,d,m]=c,n={source:Uy(s,m.trim(),a.indexOf(m,d.length)),value:void 0,key:void 0,index:void 0};let S=d.trim().replace(VD,"").trim();const z=d.indexOf(S),Z=S.match(XT);if(Z){S=S.replace(XT,"").trim();const O=Z[1].trim();let H;if(O&&(H=a.indexOf(O,z+S.length),n.key=Uy(s,O,H)),Z[2]){const q=Z[2].trim();q&&(n.index=Uy(s,q,a.indexOf(q,n.key?H+O.length:z+S.length)))}}return S&&(n.value=Uy(s,S,z)),n}function Uy(e,t,s){return As(t,!1,oM(e,s,t.length))}function kw({value:e,key:t,index:s},a=[]){return $D([e,t,s,...a])}function $D(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((s,a)=>s||As("_".repeat(a+1),!1))}const ZT=As("undefined",!1),HD=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const s=ah(e,"slot");if(s)return s.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},WD=(e,t,s)=>wm(e,t,!1,!0,t.length?t[0].loc:s);function YD(e,t,s=WD){t.helper(K3);const{children:a,loc:c}=e,d=[],m=[];let n=t.scopes.vSlot>0||t.scopes.vFor>0;const S=ah(e,"slot",!0);if(S){const{arg:$,exp:M}=S;$&&!sc($)&&(n=!0),d.push(vo($||As("default",!0),s(M,a,c)))}let z=!1,Z=!1;const O=[],H=new Set;let q=0;for(let $=0;$<a.length;$++){const M=a[$];let E;if(!Mv(M)||!(E=ah(M,"slot",!0))){M.type!==3&&O.push(M);continue}if(S){t.onError(oo(37,E.loc));break}z=!0;const{children:k,loc:V}=M,{arg:G=As("default",!0),exp:C,loc:te}=E;let Q;sc(G)?Q=G?G.content:"default":n=!0;const N=s(C,k,V);let j,W,w;if(j=ah(M,"if"))n=!0,m.push(Cw(j.exp,Gy(G,N,q++),ZT));else if(W=ah(M,/^else(-if)?$/,!0)){let D=$,f;for(;D--&&(f=a[D],f.type===3););if(f&&Mv(f)&&ah(f,"if")){a.splice($,1),$--;let g=m[m.length-1];for(;g.alternate.type===19;)g=g.alternate;g.alternate=W.exp?Cw(W.exp,Gy(G,N,q++),ZT):Gy(G,N,q++)}else t.onError(oo(30,W.loc))}else if(w=ah(M,"for")){n=!0;const D=w.parseResult||yM(w.exp);D?m.push(Vo(t.helper(Y3),[D.source,wm(kw(D),Gy(G,N),!0)])):t.onError(oo(32,w.loc))}else{if(Q){if(H.has(Q)){t.onError(oo(38,te));continue}H.add(Q),Q==="default"&&(Z=!0)}d.push(vo(G,N))}}if(!S){const $=(M,E)=>{const k=s(M,E,c);return t.compatConfig&&(k.isNonScopedSlot=!0),vo("default",k)};z?O.length&&O.some(M=>vM(M))&&(Z?t.onError(oo(39,O[0].loc)):d.push($(void 0,O))):d.push($(void 0,a))}const L=n?2:sv(e.children)?3:1;let R=ch(d.concat(vo("_",As(L+"",!1))),c);return m.length&&(R=Vo(t.helper(iM),[R,t_(m)])),{slots:R,hasDynamicSlots:n}}function Gy(e,t,s){const a=[vo("name",e),vo("fn",t)];return s!=null&&a.push(vo("key",As(String(s),!0))),ch(a)}function sv(e){for(let t=0;t<e.length;t++){const s=e[t];switch(s.type){case 1:if(s.tagType===2||sv(s.children))return!0;break;case 9:if(sv(s.branches))return!0;break;case 10:case 11:if(sv(s.children))return!0;break}}return!1}function vM(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():vM(e.content)}const xM=new WeakMap,qD=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:a,props:c}=e,d=e.tagType===1;let m=d?XD(e,t):`"${a}"`;const n=Cr(m)&&m.callee===wv;let S,z,Z,O=0,H,q,L,R=n||m===w1||m===N3||!d&&(a==="svg"||a==="foreignObject");if(c.length>0){const $=bM(e,t,void 0,d,n);S=$.props,O=$.patchFlag,q=$.dynamicPropNames;const M=$.directives;L=M&&M.length?t_(M.map(E=>KD(E,t))):void 0,$.shouldUseBlock&&(R=!0)}if(e.children.length>0)if(m===bv&&(R=!0,O|=1024),d&&m!==w1&&m!==bv){const{slots:M,hasDynamicSlots:E}=YD(e,t);z=M,E&&(O|=1024)}else if(e.children.length===1&&m!==w1){const M=e.children[0],E=M.type,k=E===5||E===8;k&&hh(M,t)===0&&(O|=1),k||E===2?z=M:z=e.children}else z=e.children;O!==0&&(Z=String(O),q&&q.length&&(H=JD(q))),e.codegenNode=R1(t,m,S,z,Z,H,L,!!R,!1,d,e.loc)};function XD(e,t,s=!1){let{tag:a}=e;const c=Pw(a),d=_x(e,"is");if(d)if(c||zf("COMPILER_IS_ON_ELEMENT",t)){const S=d.type===6?d.value&&As(d.value.content,!0):d.exp;if(S)return Vo(t.helper(wv),[S])}else d.type===6&&d.value.content.startsWith("vue:")&&(a=d.value.content.slice(4));const m=!c&&ah(e,"is");if(m&&m.exp)return Vo(t.helper(wv),[m.exp]);const n=sM(a)||t.isBuiltInComponent(a);return n?(s||t.helper(n),n):(t.helper(V3),t.components.add(a),B1(a,"component"))}function bM(e,t,s=e.props,a,c,d=!1){const{tag:m,loc:n,children:S}=e;let z=[];const Z=[],O=[],H=S.length>0;let q=!1,L=0,R=!1,$=!1,M=!1,E=!1,k=!1,V=!1;const G=[],C=N=>{z.length&&(Z.push(ch(KT(z),n)),z=[]),N&&Z.push(N)},te=({key:N,value:j})=>{if(sc(N)){const W=N.content,w=$f(W);if(w&&(!a||c)&&W.toLowerCase()!=="onclick"&&W!=="onUpdate:modelValue"&&!If(W)&&(E=!0),w&&If(W)&&(V=!0),j.type===20||(j.type===4||j.type===8)&&hh(j,t)>0)return;W==="ref"?R=!0:W==="class"?$=!0:W==="style"?M=!0:W!=="key"&&!G.includes(W)&&G.push(W),a&&(W==="class"||W==="style")&&!G.includes(W)&&G.push(W)}else k=!0};for(let N=0;N<s.length;N++){const j=s[N];if(j.type===6){const{loc:W,name:w,value:D}=j;let f=!0;if(w==="ref"&&(R=!0,t.scopes.vFor>0&&z.push(vo(As("ref_for",!0),As("true")))),w==="is"&&(Pw(m)||D&&D.content.startsWith("vue:")||zf("COMPILER_IS_ON_ELEMENT",t)))continue;z.push(vo(As(w,!0,oM(W,0,w.length)),As(D?D.content:"",f,D?D.loc:W)))}else{const{name:W,arg:w,exp:D,loc:f}=j,g=W==="bind",x=W==="on";if(W==="slot"){a||t.onError(oo(40,f));continue}if(W==="once"||W==="memo"||W==="is"||g&&Pf(w,"is")&&(Pw(m)||zf("COMPILER_IS_ON_ELEMENT",t))||x&&d)continue;if((g&&Pf(w,"key")||x&&H&&Pf(w,"vue:before-update"))&&(q=!0),g&&Pf(w,"ref")&&t.scopes.vFor>0&&z.push(vo(As("ref_for",!0),As("true"))),!w&&(g||x)){if(k=!0,D)if(g){if(C(),zf("COMPILER_V_BIND_OBJECT_ORDER",t)){Z.unshift(D);continue}Z.push(D)}else C({type:14,loc:f,callee:t.helper(Z3),arguments:a?[D]:[D,"true"]});else t.onError(oo(g?34:35,f));continue}const P=t.directiveTransforms[W];if(P){const{props:Y,needRuntime:ee}=P(j,e,t);!d&&Y.forEach(te),x&&w&&!sc(w)?C(ch(Y,n)):z.push(...Y),ee&&(O.push(j),gp(ee)&&xM.set(j,ee))}else O4(W)||(O.push(j),H&&(q=!0))}}let Q;if(Z.length?(C(),Z.length>1?Q=Vo(t.helper(Sv),Z,n):Q=Z[0]):z.length&&(Q=ch(KT(z),n)),k?L|=16:($&&!a&&(L|=2),M&&!a&&(L|=4),G.length&&(L|=8),E&&(L|=32)),!q&&(L===0||L===32)&&(R||V||O.length>0)&&(L|=512),!t.inSSR&&Q)switch(Q.type){case 15:let N=-1,j=-1,W=!1;for(let f=0;f<Q.properties.length;f++){const g=Q.properties[f].key;sc(g)?g.content==="class"?N=f:g.content==="style"&&(j=f):g.isHandlerKey||(W=!0)}const w=Q.properties[N],D=Q.properties[j];W?Q=Vo(t.helper(O1),[Q]):(w&&!sc(w.value)&&(w.value=Vo(t.helper(q3),[w.value])),D&&(M||D.value.type===4&&D.value.content.trim()[0]==="["||D.value.type===17)&&(D.value=Vo(t.helper(X3),[D.value])));break;case 14:break;default:Q=Vo(t.helper(O1),[Vo(t.helper(e_),[Q])]);break}return{props:Q,directives:O,patchFlag:L,dynamicPropNames:G,shouldUseBlock:q}}function KT(e){const t=new Map,s=[];for(let a=0;a<e.length;a++){const c=e[a];if(c.key.type===8||!c.key.isStatic){s.push(c);continue}const d=c.key.content,m=t.get(d);m?(d==="style"||d==="class"||$f(d))&&ZD(m,c):(t.set(d,c),s.push(c))}return s}function ZD(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=t_([e.value,t.value],e.loc)}function KD(e,t){const s=[],a=xM.get(e);a?s.push(t.helperString(a)):(t.helper($3),t.directives.add(e.name),s.push(B1(e.name,"directive")));const{loc:c}=e;if(e.exp&&s.push(e.exp),e.arg&&(e.exp||s.push("void 0"),s.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||s.push("void 0"),s.push("void 0"));const d=As("true",!1,c);s.push(ch(e.modifiers.map(m=>vo(m,d)),c))}return t_(s,e.loc)}function JD(e){let t="[";for(let s=0,a=e.length;s<a;s++)t+=JSON.stringify(e[s]),s<a-1&&(t+=", ");return t+"]"}function Pw(e){return e==="component"||e==="Component"}const QD=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},eI=/-(\w)/g,JT=QD(e=>e.replace(eI,(t,s)=>s?s.toUpperCase():"")),tI=(e,t)=>{if(Av(e)){const{children:s,loc:a}=e,{slotName:c,slotProps:d}=iI(e,t),m=[t.prefixIdentifiers?"_ctx.$slots":"$slots",c,"{}","undefined","true"];let n=2;d&&(m[2]=d,n=3),s.length&&(m[3]=wm([],s,!1,!1,a),n=4),t.scopeId&&!t.slotted&&(n=5),m.splice(n),e.codegenNode=Vo(t.helper(tM),m,a)}};function iI(e,t){let s='"default"',a;const c=[];for(let d=0;d<e.props.length;d++){const m=e.props[d];m.type===6?m.value&&(m.name==="name"?s=JSON.stringify(m.value.content):(m.name=JT(m.name),c.push(m))):m.name==="bind"&&Pf(m.arg,"name")?m.exp&&(s=m.exp):(m.name==="bind"&&m.arg&&sc(m.arg)&&(m.arg.content=JT(m.arg.content)),c.push(m))}if(c.length>0){const{props:d,directives:m}=bM(e,t,c,!1,!1);a=d,m.length&&t.onError(oo(36,m[0].loc))}return{slotName:s,slotProps:a}}const nI=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,wM=(e,t,s,a)=>{const{loc:c,modifiers:d,arg:m}=e;!e.exp&&!d.length&&s.onError(oo(35,c));let n;if(m.type===4)if(m.isStatic){let O=m.content;O.startsWith("vue:")&&(O=`vnode-${O.slice(4)}`);const H=t.tagType!==0||O.startsWith("vnode")||!/[A-Z]/.test(O)?Lf(va(O)):`on:${O}`;n=As(H,!0,m.loc)}else n=Rh([`${s.helperString(Ew)}(`,m,")"]);else n=m,n.children.unshift(`${s.helperString(Ew)}(`),n.children.push(")");let S=e.exp;S&&!S.content.trim()&&(S=void 0);let z=s.cacheHandlers&&!S&&!s.inVOnce;if(S){const O=rM(S.content),H=!(O||nI.test(S.content)),q=S.content.includes(";");(H||z&&O)&&(S=Rh([`${H?"$event":"(...args)"} => ${q?"{":"("}`,S,q?"}":")"]))}let Z={props:[vo(n,S||As("() => {}",!1,c))]};return a&&(Z=a(Z)),z&&(Z.props[0].value=s.cache(Z.props[0].value)),Z.props.forEach(O=>O.key.isHandlerKey=!0),Z},sI=(e,t,s)=>{const{exp:a,modifiers:c,loc:d}=e,m=e.arg;return m.type!==4?(m.children.unshift("("),m.children.push(') || ""')):m.isStatic||(m.content=`${m.content} || ""`),c.includes("camel")&&(m.type===4?m.isStatic?m.content=va(m.content):m.content=`${s.helperString(Tw)}(${m.content})`:(m.children.unshift(`${s.helperString(Tw)}(`),m.children.push(")"))),s.inSSR||(c.includes("prop")&&QT(m,"."),c.includes("attr")&&QT(m,"^")),!a||a.type===4&&!a.content.trim()?(s.onError(oo(34,d)),{props:[vo(m,As("",!0,d))]}):{props:[vo(m,a)]}},QT=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},rI=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const s=e.children;let a,c=!1;for(let d=0;d<s.length;d++){const m=s[d];if(B2(m)){c=!0;for(let n=d+1;n<s.length;n++){const S=s[n];if(B2(S))a||(a=s[d]=Rh([m],m.loc)),a.children.push(" + ",S),s.splice(n,1),n--;else{a=void 0;break}}}}if(!(!c||s.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(d=>d.type===7&&!t.directiveTransforms[d.name])&&e.tag!=="template")))for(let d=0;d<s.length;d++){const m=s[d];if(B2(m)||m.type===8){const n=[];(m.type!==2||m.content!==" ")&&n.push(m),!t.ssr&&hh(m,t)===0&&n.push("1"),s[d]={type:12,content:m,loc:m.loc,codegenNode:Vo(t.helper(G3),n)}}}}},e5=new WeakSet,oI=(e,t)=>{if(e.type===1&&ah(e,"once",!0))return e5.has(e)||t.inVOnce?void 0:(e5.add(e),t.inVOnce=!0,t.helper(Tv),()=>{t.inVOnce=!1;const s=t.currentNode;s.codegenNode&&(s.codegenNode=t.cache(s.codegenNode,!0))})},SM=(e,t,s)=>{const{exp:a,arg:c}=e;if(!a)return s.onError(oo(41,e.loc)),Vy();const d=a.loc.source,m=a.type===4?a.content:d,n=s.bindingMetadata[d];if(n==="props"||n==="props-aliased")return s.onError(oo(44,a.loc)),Vy();const S=!1;if(!m.trim()||!rM(m)&&!S)return s.onError(oo(42,a.loc)),Vy();const z=c||As("modelValue",!0),Z=c?sc(c)?`onUpdate:${c.content}`:Rh(['"onUpdate:" + ',c]):"onUpdate:modelValue";let O;const H=s.isTS?"($event: any)":"$event";O=Rh([`${H} => ((`,a,") = $event)"]);const q=[vo(z,e.exp),vo(Z,O)];if(e.modifiers.length&&t.tagType===1){const L=e.modifiers.map($=>(Q3($)?$:JSON.stringify($))+": true").join(", "),R=c?sc(c)?`${c.content}Modifiers`:Rh([c,' + "Modifiers"']):"modelModifiers";q.push(vo(R,As(`{ ${L} }`,!1,e.loc,2)))}return Vy(q)};function Vy(e=[]){return{props:e}}const aI=/[\w).+\-_$\]]/,lI=(e,t)=>{zf("COMPILER_FILTER",t)&&(e.type===5&&Pv(e.content,t),e.type===1&&e.props.forEach(s=>{s.type===7&&s.name!=="for"&&s.exp&&Pv(s.exp,t)}))};function Pv(e,t){if(e.type===4)t5(e,t);else for(let s=0;s<e.children.length;s++){const a=e.children[s];typeof a=="object"&&(a.type===4?t5(a,t):a.type===8?Pv(e,t):a.type===5&&Pv(a.content,t))}}function t5(e,t){const s=e.content;let a=!1,c=!1,d=!1,m=!1,n=0,S=0,z=0,Z=0,O,H,q,L,R=[];for(q=0;q<s.length;q++)if(H=O,O=s.charCodeAt(q),a)O===39&&H!==92&&(a=!1);else if(c)O===34&&H!==92&&(c=!1);else if(d)O===96&&H!==92&&(d=!1);else if(m)O===47&&H!==92&&(m=!1);else if(O===124&&s.charCodeAt(q+1)!==124&&s.charCodeAt(q-1)!==124&&!n&&!S&&!z)L===void 0?(Z=q+1,L=s.slice(0,q).trim()):$();else{switch(O){case 34:c=!0;break;case 39:a=!0;break;case 96:d=!0;break;case 40:z++;break;case 41:z--;break;case 91:S++;break;case 93:S--;break;case 123:n++;break;case 125:n--;break}if(O===47){let M=q-1,E;for(;M>=0&&(E=s.charAt(M),E===" ");M--);(!E||!aI.test(E))&&(m=!0)}}L===void 0?L=s.slice(0,q).trim():Z!==0&&$();function $(){R.push(s.slice(Z,q).trim()),Z=q+1}if(R.length){for(q=0;q<R.length;q++)L=cI(L,R[q],t);e.content=L}}function cI(e,t,s){s.helper(H3);const a=t.indexOf("(");if(a<0)return s.filters.add(t),`${B1(t,"filter")}(${e})`;{const c=t.slice(0,a),d=t.slice(a+1);return s.filters.add(c),`${B1(c,"filter")}(${e}${d!==")"?","+d:d}`}}const i5=new WeakSet,hI=(e,t)=>{if(e.type===1){const s=ah(e,"memo");return!s||i5.has(e)?void 0:(i5.add(e),()=>{const a=e.codegenNode||t.currentNode.codegenNode;a&&a.type===13&&(e.tagType!==1&&eS(a,t),e.codegenNode=Vo(t.helper(J3),[s.exp,wm(void 0,a),"_cache",String(t.cached++)]))})}};function dI(e){return[[oI,zD,hI,jD,lI,tI,qD,HD,rI],{on:wM,bind:sI,model:SM}]}function uI(e,t={}){const s=t.onError||F3,a=t.mode==="module";t.prefixIdentifiers===!0?s(oo(47)):a&&s(oo(48));const c=!1;t.cacheHandlers&&s(oo(49)),t.scopeId&&!a&&s(oo(50));const d=xs(e)?sD(e,t):e,[m,n]=dI();return yD(d,ur({},t,{prefixIdentifiers:c,nodeTransforms:[...m,...t.nodeTransforms||[]],directiveTransforms:ur({},n,t.directiveTransforms||{})})),wD(d,ur({},t,{prefixIdentifiers:c}))}const pI=()=>({props:[]}),TM=Symbol(""),EM=Symbol(""),CM=Symbol(""),MM=Symbol(""),Dw=Symbol(""),AM=Symbol(""),kM=Symbol(""),PM=Symbol(""),DM=Symbol(""),IM=Symbol("");VP({[TM]:"vModelRadio",[EM]:"vModelCheckbox",[CM]:"vModelText",[MM]:"vModelSelect",[Dw]:"vModelDynamic",[AM]:"withModifiers",[kM]:"withKeys",[PM]:"vShow",[DM]:"Transition",[IM]:"TransitionGroup"});let tm;function fI(e,t=!1){return tm||(tm=document.createElement("div")),t?(tm.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,tm.children[0].getAttribute("foo")):(tm.innerHTML=e,tm.textContent)}const mI=oc("style,iframe,script,noscript",!0),gI={isVoidTag:M4,isNativeTag:e=>E4(e)||C4(e),isPreTag:e=>e==="pre",decodeEntities:fI,isBuiltInComponent:e=>{if(sm(e,"Transition"))return DM;if(sm(e,"TransitionGroup"))return IM},getNamespace(e,t){let s=t?t.ns:0;if(t&&s===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(a=>a.type===6&&a.name==="encoding"&&a.value!=null&&(a.value.content==="text/html"||a.value.content==="application/xhtml+xml"))&&(s=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(s=0);else t&&s===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(s=0);if(s===0){if(e==="svg")return 1;if(e==="math")return 2}return s},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(mI(e))return 2}return 0}},_I=e=>{e.type===1&&e.props.forEach((t,s)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[s]={type:7,name:"bind",arg:As("style",!0,t.loc),exp:yI(t.value.content,t.loc),modifiers:[],loc:t.loc})})},yI=(e,t)=>{const s=eE(e);return As(JSON.stringify(s),!1,t,3)};function au(e,t){return oo(e,t)}const vI=(e,t,s)=>{const{exp:a,loc:c}=e;return a||s.onError(au(51,c)),t.children.length&&(s.onError(au(52,c)),t.children.length=0),{props:[vo(As("innerHTML",!0,c),a||As("",!0))]}},xI=(e,t,s)=>{const{exp:a,loc:c}=e;return a||s.onError(au(53,c)),t.children.length&&(s.onError(au(54,c)),t.children.length=0),{props:[vo(As("textContent",!0),a?hh(a,s)>0?a:Vo(s.helperString(gx),[a],c):As("",!0))]}},bI=(e,t,s)=>{const a=SM(e,t,s);if(!a.props.length||t.tagType===1)return a;e.arg&&s.onError(au(56,e.arg.loc));const{tag:c}=t,d=s.isCustomElement(c);if(c==="input"||c==="textarea"||c==="select"||d){let m=CM,n=!1;if(c==="input"||d){const S=_x(t,"type");if(S){if(S.type===7)m=Dw;else if(S.value)switch(S.value.content){case"radio":m=TM;break;case"checkbox":m=EM;break;case"file":n=!0,s.onError(au(57,e.loc));break}}else JP(t)&&(m=Dw)}else c==="select"&&(m=MM);n||(a.needRuntime=s.helper(m))}else s.onError(au(55,e.loc));return a.props=a.props.filter(m=>!(m.key.type===4&&m.key.content==="modelValue")),a},wI=oc("passive,once,capture"),SI=oc("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),TI=oc("left,right"),LM=oc("onkeyup,onkeydown,onkeypress",!0),EI=(e,t,s,a)=>{const c=[],d=[],m=[];for(let n=0;n<t.length;n++){const S=t[n];S==="native"&&z1("COMPILER_V_ON_NATIVE",s)||wI(S)?m.push(S):TI(S)?sc(e)?LM(e.content)?c.push(S):d.push(S):(c.push(S),d.push(S)):SI(S)?d.push(S):c.push(S)}return{keyModifiers:c,nonKeyModifiers:d,eventOptionModifiers:m}},n5=(e,t)=>sc(e)&&e.content.toLowerCase()==="onclick"?As(t,!0):e.type!==4?Rh(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,CI=(e,t,s)=>wM(e,t,s,a=>{const{modifiers:c}=e;if(!c.length)return a;let{key:d,value:m}=a.props[0];const{keyModifiers:n,nonKeyModifiers:S,eventOptionModifiers:z}=EI(d,c,s,e.loc);if(S.includes("right")&&(d=n5(d,"onContextmenu")),S.includes("middle")&&(d=n5(d,"onMouseup")),S.length&&(m=Vo(s.helper(AM),[m,JSON.stringify(S)])),n.length&&(!sc(d)||LM(d.content))&&(m=Vo(s.helper(kM),[m,JSON.stringify(n)])),z.length){const Z=z.map(Ep).join("");d=sc(d)?As(`${d.content}${Z}`,!0):Rh(["(",d,`) + "${Z}"`])}return{props:[vo(d,m)]}}),MI=(e,t,s)=>{const{exp:a,loc:c}=e;return a||s.onError(au(59,c)),{props:[],needRuntime:s.helper(PM)}},AI=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(t.onError(au(61,e.loc)),t.removeNode())},kI=[_I],PI={cloak:pI,html:vI,text:xI,model:bI,on:CI,show:MI};function DI(e,t={}){return uI(e,ur({},gI,t,{nodeTransforms:[AI,...kI,...t.nodeTransforms||[]],directiveTransforms:ur({},PI,t.directiveTransforms||{}),transformHoist:null}))}const s5=Object.create(null);function OM(e,t){if(!xs(e))if(e.nodeType)e=e.innerHTML;else return Ll;const s=e,a=s5[s];if(a)return a;if(e[0]==="#"){const n=document.querySelector(e);e=n?n.innerHTML:""}const c=ur({hoistStatic:!0,onError:void 0,onWarn:Ll},t);!c.isCustomElement&&typeof customElements<"u"&&(c.isCustomElement=n=>!!customElements.get(n));const{code:d}=DI(e,c),m=new Function("Vue",d)(zP);return m._rc=!0,s5[s]=m}M3(OM);const II=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:cx,Comment:La,EffectScope:qv,Fragment:fn,KeepAlive:$E,ReactiveEffect:Am,Static:up,Suspense:zE,Teleport:rC,Text:xp,Transition:J1,TransitionGroup:jC,VueElement:K1,callWithAsyncErrorHandling:rc,callWithErrorHandling:xd,camelize:va,capitalize:Ep,cloneVNode:zh,compatUtils:PC,compile:OM,computed:Ac,createApp:z3,createBlock:Bh,createCommentVNode:yn,createElementBlock:Ft,createElementVNode:je,createHydrationRenderer:T3,createPropsRestProxy:TC,createRenderer:S3,createSSRApp:YC,createSlots:qE,createStaticVNode:ph,createTextVNode:Jr,createVNode:Qi,customRef:ME,defineAsyncComponent:VE,defineComponent:q1,defineCustomElement:L3,defineEmits:yC,defineExpose:vC,defineProps:_C,defineSSRCustomElement:DC,get devtools(){return Mf},effect:dE,effectScope:rE,getCurrentInstance:_u,getCurrentScope:aE,getTransitionRawChildren:Y1,guardReactiveProps:I1,h:ic,handleError:Cp,hydrate:B3,initCustomFormatter:CC,initDirectivesForSSR:XC,inject:Rf,isMemoSame:D3,isProxy:ex,isReactive:dp,isReadonly:yp,isRef:na,isRuntimeOnly:fC,isShallow:ym,isVNode:du,markRaw:tx,mergeDefaults:SC,mergeProps:px,nextTick:yd,normalizeClass:Gs,normalizeProps:pv,normalizeStyle:Dl,onActivated:u3,onBeforeMount:f3,onBeforeUnmount:Yf,onBeforeUpdate:Z1,onDeactivated:p3,onErrorCaptured:y3,onMounted:jh,onRenderTracked:_3,onRenderTriggered:g3,onScopeDispose:lE,onServerPrefetch:m3,onUnmounted:qf,onUpdated:Wf,openBlock:Ot,popScopeId:mu,provide:Im,proxyRefs:nx,pushScopeId:fu,queuePostFlushCb:rx,reactive:Dm,readonly:Jv,ref:dr,registerRuntimeCompiler:M3,render:xv,renderList:vs,renderSlot:tc,resolveComponent:Yn,resolveDirective:dx,resolveDynamicComponent:YE,resolveFilter:kC,resolveTransitionHooks:jf,setBlockTracking:yv,setDevtoolsHook:l3,setTransitionHooks:vp,shallowReactive:n3,shallowReadonly:SE,shallowRef:TE,ssrContextKey:k3,ssrUtils:AC,stop:uE,toDisplayString:ji,toHandlerKey:Lf,toHandlers:ZE,toRaw:Hs,toRef:o3,toRefs:AE,transformVNodeArgs:cC,triggerRef:CE,unref:Go,useAttrs:A3,useCssModule:IC,useCssVars:LC,useSSRContext:P3,useSlots:bC,useTransitionState:lx,vModelCheckbox:ou,vModelDynamic:O3,vModelRadio:mx,vModelSelect:Il,vModelText:il,vShow:R3,version:I3,warn:PE,watch:ea,watchEffect:NE,watchPostEffect:d3,watchSyncEffect:jE,withAsyncContext:EC,withCtx:Do,withDefaults:xC,withDirectives:rr,withKeys:VC,withMemo:MC,withModifiers:ud,withScopeId:RE},Symbol.toStringTag,{value:"Module"}));//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var RM;function en(){return RM.apply(null,arguments)}function LI(e){RM=e}function Fh(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Ff(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function or(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function nS(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(or(e,t))return!1;return!0}function Ql(e){return e===void 0}function uu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function n_(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function BM(e,t){var s=[],a,c=e.length;for(a=0;a<c;++a)s.push(t(e[a],a));return s}function op(e,t){for(var s in t)or(t,s)&&(e[s]=t[s]);return or(t,"toString")&&(e.toString=t.toString),or(t,"valueOf")&&(e.valueOf=t.valueOf),e}function wd(e,t,s,a){return o8(e,t,s,a,!0).utc()}function OI(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ys(e){return e._pf==null&&(e._pf=OI()),e._pf}var Iw;Array.prototype.some?Iw=Array.prototype.some:Iw=function(e){var t=Object(this),s=t.length>>>0,a;for(a=0;a<s;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};function sS(e){if(e._isValid==null){var t=ys(e),s=Iw.call(t.parsedDateParts,function(c){return c!=null}),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s);if(e._strict&&(a=a&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=a;else return a}return e._isValid}function bx(e){var t=wd(NaN);return e!=null?op(ys(t),e):ys(t).userInvalidated=!0,t}var r5=en.momentProperties=[],F2=!1;function rS(e,t){var s,a,c,d=r5.length;if(Ql(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Ql(t._i)||(e._i=t._i),Ql(t._f)||(e._f=t._f),Ql(t._l)||(e._l=t._l),Ql(t._strict)||(e._strict=t._strict),Ql(t._tzm)||(e._tzm=t._tzm),Ql(t._isUTC)||(e._isUTC=t._isUTC),Ql(t._offset)||(e._offset=t._offset),Ql(t._pf)||(e._pf=ys(t)),Ql(t._locale)||(e._locale=t._locale),d>0)for(s=0;s<d;s++)a=r5[s],c=t[a],Ql(c)||(e[a]=c);return e}function s_(e){rS(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),F2===!1&&(F2=!0,en.updateOffset(this),F2=!1)}function Nh(e){return e instanceof s_||e!=null&&e._isAMomentObject!=null}function zM(e){en.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function fh(e,t){var s=!0;return op(function(){if(en.deprecationHandler!=null&&en.deprecationHandler(null,e),s){var a=[],c,d,m,n=arguments.length;for(d=0;d<n;d++){if(c="",typeof arguments[d]=="object"){c+=`
[`+d+"] ";for(m in arguments[0])or(arguments[0],m)&&(c+=m+": "+arguments[0][m]+", ");c=c.slice(0,-2)}else c=arguments[d];a.push(c)}zM(e+`
Arguments: `+Array.prototype.slice.call(a).join("")+`
`+new Error().stack),s=!1}return t.apply(this,arguments)},t)}var o5={};function FM(e,t){en.deprecationHandler!=null&&en.deprecationHandler(e,t),o5[e]||(zM(t),o5[e]=!0)}en.suppressDeprecationWarnings=!1;en.deprecationHandler=null;function Sd(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function RI(e){var t,s;for(s in e)or(e,s)&&(t=e[s],Sd(t)?this[s]=t:this["_"+s]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Lw(e,t){var s=op({},e),a;for(a in t)or(t,a)&&(Ff(e[a])&&Ff(t[a])?(s[a]={},op(s[a],e[a]),op(s[a],t[a])):t[a]!=null?s[a]=t[a]:delete s[a]);for(a in e)or(e,a)&&!or(t,a)&&Ff(e[a])&&(s[a]=op({},s[a]));return s}function oS(e){e!=null&&this.set(e)}var Ow;Object.keys?Ow=Object.keys:Ow=function(e){var t,s=[];for(t in e)or(e,t)&&s.push(t);return s};var BI={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function zI(e,t,s){var a=this._calendar[e]||this._calendar.sameElse;return Sd(a)?a.call(t,s):a}function bd(e,t,s){var a=""+Math.abs(e),c=t-a.length,d=e>=0;return(d?s?"+":"":"-")+Math.pow(10,Math.max(0,c)).toString().substr(1)+a}var aS=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,$y=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,N2={},dm={};function jn(e,t,s,a){var c=a;typeof a=="string"&&(c=function(){return this[a]()}),e&&(dm[e]=c),t&&(dm[t[0]]=function(){return bd(c.apply(this,arguments),t[1],t[2])}),s&&(dm[s]=function(){return this.localeData().ordinal(c.apply(this,arguments),e)})}function FI(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function NI(e){var t=e.match(aS),s,a;for(s=0,a=t.length;s<a;s++)dm[t[s]]?t[s]=dm[t[s]]:t[s]=FI(t[s]);return function(c){var d="",m;for(m=0;m<a;m++)d+=Sd(t[m])?t[m].call(c,e):t[m];return d}}function rv(e,t){return e.isValid()?(t=NM(t,e.localeData()),N2[t]=N2[t]||NI(t),N2[t](e)):e.localeData().invalidDate()}function NM(e,t){var s=5;function a(c){return t.longDateFormat(c)||c}for($y.lastIndex=0;s>=0&&$y.test(e);)e=e.replace($y,a),$y.lastIndex=0,s-=1;return e}var jI={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function UI(e){var t=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return t||!s?t:(this._longDateFormat[e]=s.match(aS).map(function(a){return a==="MMMM"||a==="MM"||a==="DD"||a==="dddd"?a.slice(1):a}).join(""),this._longDateFormat[e])}var GI="Invalid date";function VI(){return this._invalidDate}var $I="%d",HI=/\d{1,2}/;function WI(e){return this._ordinal.replace("%d",e)}var YI={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function qI(e,t,s,a){var c=this._relativeTime[s];return Sd(c)?c(e,t,s,a):c.replace(/%d/i,e)}function XI(e,t){var s=this._relativeTime[e>0?"future":"past"];return Sd(s)?s(t):s.replace(/%s/i,t)}var T1={};function sl(e,t){var s=e.toLowerCase();T1[s]=T1[s+"s"]=T1[t]=e}function mh(e){return typeof e=="string"?T1[e]||T1[e.toLowerCase()]:void 0}function lS(e){var t={},s,a;for(a in e)or(e,a)&&(s=mh(a),s&&(t[s]=e[a]));return t}var jM={};function rl(e,t){jM[e]=t}function ZI(e){var t=[],s;for(s in e)or(e,s)&&t.push({unit:s,priority:jM[s]});return t.sort(function(a,c){return a.priority-c.priority}),t}function wx(e){return e%4===0&&e%100!==0||e%400===0}function lh(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Is(e){var t=+e,s=0;return t!==0&&isFinite(t)&&(s=lh(t)),s}function Lm(e,t){return function(s){return s!=null?(UM(this,e,s),en.updateOffset(this,t),this):Dv(this,e)}}function Dv(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function UM(e,t,s){e.isValid()&&!isNaN(s)&&(t==="FullYear"&&wx(e.year())&&e.month()===1&&e.date()===29?(s=Is(s),e._d["set"+(e._isUTC?"UTC":"")+t](s,e.month(),Ax(s,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](s))}function KI(e){return e=mh(e),Sd(this[e])?this[e]():this}function JI(e,t){if(typeof e=="object"){e=lS(e);var s=ZI(e),a,c=s.length;for(a=0;a<c;a++)this[s[a].unit](e[s[a].unit])}else if(e=mh(e),Sd(this[e]))return this[e](t);return this}var GM=/\d/,Bc=/\d\d/,VM=/\d{3}/,cS=/\d{4}/,Sx=/[+-]?\d{6}/,eo=/\d\d?/,$M=/\d\d\d\d?/,HM=/\d\d\d\d\d\d?/,Tx=/\d{1,3}/,hS=/\d{1,4}/,Ex=/[+-]?\d{1,6}/,Om=/\d+/,Cx=/[+-]?\d+/,QI=/Z|[+-]\d\d:?\d\d/gi,Mx=/Z|[+-]\d\d(?::?\d\d)?/gi,eL=/[+-]?\d+(\.\d{1,3})?/,r_=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Iv;Iv={};function xn(e,t,s){Iv[e]=Sd(t)?t:function(a,c){return a&&s?s:t}}function tL(e,t){return or(Iv,e)?Iv[e](t._strict,t._locale):new RegExp(iL(e))}function iL(e){return Dc(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,s,a,c,d){return s||a||c||d}))}function Dc(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Rw={};function Ar(e,t){var s,a=t,c;for(typeof e=="string"&&(e=[e]),uu(t)&&(a=function(d,m){m[t]=Is(d)}),c=e.length,s=0;s<c;s++)Rw[e[s]]=a}function o_(e,t){Ar(e,function(s,a,c,d){c._w=c._w||{},t(s,c._w,c,d)})}function nL(e,t,s){t!=null&&or(Rw,e)&&Rw[e](t,s._a,s,e)}var tl=0,nu=1,gd=2,sa=3,Oh=4,su=5,Df=6,sL=7,rL=8;function oL(e,t){return(e%t+t)%t}var Po;Array.prototype.indexOf?Po=Array.prototype.indexOf:Po=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Ax(e,t){if(isNaN(e)||isNaN(t))return NaN;var s=oL(t,12);return e+=(t-s)/12,s===1?wx(e)?29:28:31-s%7%2}jn("M",["MM",2],"Mo",function(){return this.month()+1});jn("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});jn("MMMM",0,0,function(e){return this.localeData().months(this,e)});sl("month","M");rl("month",8);xn("M",eo);xn("MM",eo,Bc);xn("MMM",function(e,t){return t.monthsShortRegex(e)});xn("MMMM",function(e,t){return t.monthsRegex(e)});Ar(["M","MM"],function(e,t){t[nu]=Is(e)-1});Ar(["MMM","MMMM"],function(e,t,s,a){var c=s._locale.monthsParse(e,a,s._strict);c!=null?t[nu]=c:ys(s).invalidMonth=e});var aL="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),WM="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),YM=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,lL=r_,cL=r_;function hL(e,t){return e?Fh(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||YM).test(t)?"format":"standalone"][e.month()]:Fh(this._months)?this._months:this._months.standalone}function dL(e,t){return e?Fh(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[YM.test(t)?"format":"standalone"][e.month()]:Fh(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function uL(e,t,s){var a,c,d,m=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)d=wd([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(d,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(d,"").toLocaleLowerCase();return s?t==="MMM"?(c=Po.call(this._shortMonthsParse,m),c!==-1?c:null):(c=Po.call(this._longMonthsParse,m),c!==-1?c:null):t==="MMM"?(c=Po.call(this._shortMonthsParse,m),c!==-1?c:(c=Po.call(this._longMonthsParse,m),c!==-1?c:null)):(c=Po.call(this._longMonthsParse,m),c!==-1?c:(c=Po.call(this._shortMonthsParse,m),c!==-1?c:null))}function pL(e,t,s){var a,c,d;if(this._monthsParseExact)return uL.call(this,e,t,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(c=wd([2e3,a]),s&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(c,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(c,"").replace(".","")+"$","i")),!s&&!this._monthsParse[a]&&(d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[a]=new RegExp(d.replace(".",""),"i")),s&&t==="MMMM"&&this._longMonthsParse[a].test(e))return a;if(s&&t==="MMM"&&this._shortMonthsParse[a].test(e))return a;if(!s&&this._monthsParse[a].test(e))return a}}function qM(e,t){var s;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Is(t);else if(t=e.localeData().monthsParse(t),!uu(t))return e}return s=Math.min(e.date(),Ax(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,s),e}function XM(e){return e!=null?(qM(this,e),en.updateOffset(this,!0),this):Dv(this,"Month")}function fL(){return Ax(this.year(),this.month())}function mL(e){return this._monthsParseExact?(or(this,"_monthsRegex")||ZM.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(or(this,"_monthsShortRegex")||(this._monthsShortRegex=lL),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function gL(e){return this._monthsParseExact?(or(this,"_monthsRegex")||ZM.call(this),e?this._monthsStrictRegex:this._monthsRegex):(or(this,"_monthsRegex")||(this._monthsRegex=cL),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ZM(){function e(m,n){return n.length-m.length}var t=[],s=[],a=[],c,d;for(c=0;c<12;c++)d=wd([2e3,c]),t.push(this.monthsShort(d,"")),s.push(this.months(d,"")),a.push(this.months(d,"")),a.push(this.monthsShort(d,""));for(t.sort(e),s.sort(e),a.sort(e),c=0;c<12;c++)t[c]=Dc(t[c]),s[c]=Dc(s[c]);for(c=0;c<24;c++)a[c]=Dc(a[c]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}jn("Y",0,0,function(){var e=this.year();return e<=9999?bd(e,4):"+"+e});jn(0,["YY",2],0,function(){return this.year()%100});jn(0,["YYYY",4],0,"year");jn(0,["YYYYY",5],0,"year");jn(0,["YYYYYY",6,!0],0,"year");sl("year","y");rl("year",1);xn("Y",Cx);xn("YY",eo,Bc);xn("YYYY",hS,cS);xn("YYYYY",Ex,Sx);xn("YYYYYY",Ex,Sx);Ar(["YYYYY","YYYYYY"],tl);Ar("YYYY",function(e,t){t[tl]=e.length===2?en.parseTwoDigitYear(e):Is(e)});Ar("YY",function(e,t){t[tl]=en.parseTwoDigitYear(e)});Ar("Y",function(e,t){t[tl]=parseInt(e,10)});function E1(e){return wx(e)?366:365}en.parseTwoDigitYear=function(e){return Is(e)+(Is(e)>68?1900:2e3)};var KM=Lm("FullYear",!0);function _L(){return wx(this.year())}function yL(e,t,s,a,c,d,m){var n;return e<100&&e>=0?(n=new Date(e+400,t,s,a,c,d,m),isFinite(n.getFullYear())&&n.setFullYear(e)):n=new Date(e,t,s,a,c,d,m),n}function N1(e){var t,s;return e<100&&e>=0?(s=Array.prototype.slice.call(arguments),s[0]=e+400,t=new Date(Date.UTC.apply(null,s)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Lv(e,t,s){var a=7+t-s,c=(7+N1(e,0,a).getUTCDay()-t)%7;return-c+a-1}function JM(e,t,s,a,c){var d=(7+s-a)%7,m=Lv(e,a,c),n=1+7*(t-1)+d+m,S,z;return n<=0?(S=e-1,z=E1(S)+n):n>E1(e)?(S=e+1,z=n-E1(e)):(S=e,z=n),{year:S,dayOfYear:z}}function j1(e,t,s){var a=Lv(e.year(),t,s),c=Math.floor((e.dayOfYear()-a-1)/7)+1,d,m;return c<1?(m=e.year()-1,d=c+lu(m,t,s)):c>lu(e.year(),t,s)?(d=c-lu(e.year(),t,s),m=e.year()+1):(m=e.year(),d=c),{week:d,year:m}}function lu(e,t,s){var a=Lv(e,t,s),c=Lv(e+1,t,s);return(E1(e)-a+c)/7}jn("w",["ww",2],"wo","week");jn("W",["WW",2],"Wo","isoWeek");sl("week","w");sl("isoWeek","W");rl("week",5);rl("isoWeek",5);xn("w",eo);xn("ww",eo,Bc);xn("W",eo);xn("WW",eo,Bc);o_(["w","ww","W","WW"],function(e,t,s,a){t[a.substr(0,1)]=Is(e)});function vL(e){return j1(e,this._week.dow,this._week.doy).week}var xL={dow:0,doy:6};function bL(){return this._week.dow}function wL(){return this._week.doy}function SL(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function TL(e){var t=j1(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}jn("d",0,"do","day");jn("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});jn("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});jn("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});jn("e",0,0,"weekday");jn("E",0,0,"isoWeekday");sl("day","d");sl("weekday","e");sl("isoWeekday","E");rl("day",11);rl("weekday",11);rl("isoWeekday",11);xn("d",eo);xn("e",eo);xn("E",eo);xn("dd",function(e,t){return t.weekdaysMinRegex(e)});xn("ddd",function(e,t){return t.weekdaysShortRegex(e)});xn("dddd",function(e,t){return t.weekdaysRegex(e)});o_(["dd","ddd","dddd"],function(e,t,s,a){var c=s._locale.weekdaysParse(e,a,s._strict);c!=null?t.d=c:ys(s).invalidWeekday=e});o_(["d","e","E"],function(e,t,s,a){t[a]=Is(e)});function EL(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function CL(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function dS(e,t){return e.slice(t,7).concat(e.slice(0,t))}var ML="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),QM="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),AL="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),kL=r_,PL=r_,DL=r_;function IL(e,t){var s=Fh(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?dS(s,this._week.dow):e?s[e.day()]:s}function LL(e){return e===!0?dS(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function OL(e){return e===!0?dS(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function RL(e,t,s){var a,c,d,m=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)d=wd([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(d,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(d,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(d,"").toLocaleLowerCase();return s?t==="dddd"?(c=Po.call(this._weekdaysParse,m),c!==-1?c:null):t==="ddd"?(c=Po.call(this._shortWeekdaysParse,m),c!==-1?c:null):(c=Po.call(this._minWeekdaysParse,m),c!==-1?c:null):t==="dddd"?(c=Po.call(this._weekdaysParse,m),c!==-1||(c=Po.call(this._shortWeekdaysParse,m),c!==-1)?c:(c=Po.call(this._minWeekdaysParse,m),c!==-1?c:null)):t==="ddd"?(c=Po.call(this._shortWeekdaysParse,m),c!==-1||(c=Po.call(this._weekdaysParse,m),c!==-1)?c:(c=Po.call(this._minWeekdaysParse,m),c!==-1?c:null)):(c=Po.call(this._minWeekdaysParse,m),c!==-1||(c=Po.call(this._weekdaysParse,m),c!==-1)?c:(c=Po.call(this._shortWeekdaysParse,m),c!==-1?c:null))}function BL(e,t,s){var a,c,d;if(this._weekdaysParseExact)return RL.call(this,e,t,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(c=wd([2e3,1]).day(a),s&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(c,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(c,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(c,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[a]=new RegExp(d.replace(".",""),"i")),s&&t==="dddd"&&this._fullWeekdaysParse[a].test(e))return a;if(s&&t==="ddd"&&this._shortWeekdaysParse[a].test(e))return a;if(s&&t==="dd"&&this._minWeekdaysParse[a].test(e))return a;if(!s&&this._weekdaysParse[a].test(e))return a}}function zL(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=EL(e,this.localeData()),this.add(e-t,"d")):t}function FL(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function NL(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=CL(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function jL(e){return this._weekdaysParseExact?(or(this,"_weekdaysRegex")||uS.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(or(this,"_weekdaysRegex")||(this._weekdaysRegex=kL),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function UL(e){return this._weekdaysParseExact?(or(this,"_weekdaysRegex")||uS.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(or(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=PL),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function GL(e){return this._weekdaysParseExact?(or(this,"_weekdaysRegex")||uS.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(or(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=DL),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function uS(){function e(Z,O){return O.length-Z.length}var t=[],s=[],a=[],c=[],d,m,n,S,z;for(d=0;d<7;d++)m=wd([2e3,1]).day(d),n=Dc(this.weekdaysMin(m,"")),S=Dc(this.weekdaysShort(m,"")),z=Dc(this.weekdays(m,"")),t.push(n),s.push(S),a.push(z),c.push(n),c.push(S),c.push(z);t.sort(e),s.sort(e),a.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function pS(){return this.hours()%12||12}function VL(){return this.hours()||24}jn("H",["HH",2],0,"hour");jn("h",["hh",2],0,pS);jn("k",["kk",2],0,VL);jn("hmm",0,0,function(){return""+pS.apply(this)+bd(this.minutes(),2)});jn("hmmss",0,0,function(){return""+pS.apply(this)+bd(this.minutes(),2)+bd(this.seconds(),2)});jn("Hmm",0,0,function(){return""+this.hours()+bd(this.minutes(),2)});jn("Hmmss",0,0,function(){return""+this.hours()+bd(this.minutes(),2)+bd(this.seconds(),2)});function e8(e,t){jn(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}e8("a",!0);e8("A",!1);sl("hour","h");rl("hour",13);function t8(e,t){return t._meridiemParse}xn("a",t8);xn("A",t8);xn("H",eo);xn("h",eo);xn("k",eo);xn("HH",eo,Bc);xn("hh",eo,Bc);xn("kk",eo,Bc);xn("hmm",$M);xn("hmmss",HM);xn("Hmm",$M);xn("Hmmss",HM);Ar(["H","HH"],sa);Ar(["k","kk"],function(e,t,s){var a=Is(e);t[sa]=a===24?0:a});Ar(["a","A"],function(e,t,s){s._isPm=s._locale.isPM(e),s._meridiem=e});Ar(["h","hh"],function(e,t,s){t[sa]=Is(e),ys(s).bigHour=!0});Ar("hmm",function(e,t,s){var a=e.length-2;t[sa]=Is(e.substr(0,a)),t[Oh]=Is(e.substr(a)),ys(s).bigHour=!0});Ar("hmmss",function(e,t,s){var a=e.length-4,c=e.length-2;t[sa]=Is(e.substr(0,a)),t[Oh]=Is(e.substr(a,2)),t[su]=Is(e.substr(c)),ys(s).bigHour=!0});Ar("Hmm",function(e,t,s){var a=e.length-2;t[sa]=Is(e.substr(0,a)),t[Oh]=Is(e.substr(a))});Ar("Hmmss",function(e,t,s){var a=e.length-4,c=e.length-2;t[sa]=Is(e.substr(0,a)),t[Oh]=Is(e.substr(a,2)),t[su]=Is(e.substr(c))});function $L(e){return(e+"").toLowerCase().charAt(0)==="p"}var HL=/[ap]\.?m?\.?/i,WL=Lm("Hours",!0);function YL(e,t,s){return e>11?s?"pm":"PM":s?"am":"AM"}var i8={calendar:BI,longDateFormat:jI,invalidDate:GI,ordinal:$I,dayOfMonthOrdinalParse:HI,relativeTime:YI,months:aL,monthsShort:WM,week:xL,weekdays:ML,weekdaysMin:AL,weekdaysShort:QM,meridiemParse:HL},ro={},f1={},U1;function qL(e,t){var s,a=Math.min(e.length,t.length);for(s=0;s<a;s+=1)if(e[s]!==t[s])return s;return a}function a5(e){return e&&e.toLowerCase().replace("_","-")}function XL(e){for(var t=0,s,a,c,d;t<e.length;){for(d=a5(e[t]).split("-"),s=d.length,a=a5(e[t+1]),a=a?a.split("-"):null;s>0;){if(c=kx(d.slice(0,s).join("-")),c)return c;if(a&&a.length>=s&&qL(d,a)>=s-1)break;s--}t++}return U1}function ZL(e){return e.match("^[^/\\\\]*$")!=null}function kx(e){var t=null,s;if(ro[e]===void 0&&typeof hv<"u"&&hv&&hv.exports&&ZL(e))try{t=U1._abbr,s=require,s("./locale/"+e),fp(t)}catch{ro[e]=null}return ro[e]}function fp(e,t){var s;return e&&(Ql(t)?s=yu(e):s=fS(e,t),s?U1=s:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),U1._abbr}function fS(e,t){if(t!==null){var s,a=i8;if(t.abbr=e,ro[e]!=null)FM("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=ro[e]._config;else if(t.parentLocale!=null)if(ro[t.parentLocale]!=null)a=ro[t.parentLocale]._config;else if(s=kx(t.parentLocale),s!=null)a=s._config;else return f1[t.parentLocale]||(f1[t.parentLocale]=[]),f1[t.parentLocale].push({name:e,config:t}),null;return ro[e]=new oS(Lw(a,t)),f1[e]&&f1[e].forEach(function(c){fS(c.name,c.config)}),fp(e),ro[e]}else return delete ro[e],null}function KL(e,t){if(t!=null){var s,a,c=i8;ro[e]!=null&&ro[e].parentLocale!=null?ro[e].set(Lw(ro[e]._config,t)):(a=kx(e),a!=null&&(c=a._config),t=Lw(c,t),a==null&&(t.abbr=e),s=new oS(t),s.parentLocale=ro[e],ro[e]=s),fp(e)}else ro[e]!=null&&(ro[e].parentLocale!=null?(ro[e]=ro[e].parentLocale,e===fp()&&fp(e)):ro[e]!=null&&delete ro[e]);return ro[e]}function yu(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return U1;if(!Fh(e)){if(t=kx(e),t)return t;e=[e]}return XL(e)}function JL(){return Ow(ro)}function mS(e){var t,s=e._a;return s&&ys(e).overflow===-2&&(t=s[nu]<0||s[nu]>11?nu:s[gd]<1||s[gd]>Ax(s[tl],s[nu])?gd:s[sa]<0||s[sa]>24||s[sa]===24&&(s[Oh]!==0||s[su]!==0||s[Df]!==0)?sa:s[Oh]<0||s[Oh]>59?Oh:s[su]<0||s[su]>59?su:s[Df]<0||s[Df]>999?Df:-1,ys(e)._overflowDayOfYear&&(t<tl||t>gd)&&(t=gd),ys(e)._overflowWeeks&&t===-1&&(t=sL),ys(e)._overflowWeekday&&t===-1&&(t=rL),ys(e).overflow=t),e}var QL=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,e9=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,t9=/Z|[+-]\d\d(?::?\d\d)?/,Hy=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],j2=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],i9=/^\/?Date\((-?\d+)/i,n9=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,s9={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function n8(e){var t,s,a=e._i,c=QL.exec(a)||e9.exec(a),d,m,n,S,z=Hy.length,Z=j2.length;if(c){for(ys(e).iso=!0,t=0,s=z;t<s;t++)if(Hy[t][1].exec(c[1])){m=Hy[t][0],d=Hy[t][2]!==!1;break}if(m==null){e._isValid=!1;return}if(c[3]){for(t=0,s=Z;t<s;t++)if(j2[t][1].exec(c[3])){n=(c[2]||" ")+j2[t][0];break}if(n==null){e._isValid=!1;return}}if(!d&&n!=null){e._isValid=!1;return}if(c[4])if(t9.exec(c[4]))S="Z";else{e._isValid=!1;return}e._f=m+(n||"")+(S||""),_S(e)}else e._isValid=!1}function r9(e,t,s,a,c,d){var m=[o9(e),WM.indexOf(t),parseInt(s,10),parseInt(a,10),parseInt(c,10)];return d&&m.push(parseInt(d,10)),m}function o9(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function a9(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function l9(e,t,s){if(e){var a=QM.indexOf(e),c=new Date(t[0],t[1],t[2]).getDay();if(a!==c)return ys(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function c9(e,t,s){if(e)return s9[e];if(t)return 0;var a=parseInt(s,10),c=a%100,d=(a-c)/100;return d*60+c}function s8(e){var t=n9.exec(a9(e._i)),s;if(t){if(s=r9(t[4],t[3],t[2],t[5],t[6],t[7]),!l9(t[1],s,e))return;e._a=s,e._tzm=c9(t[8],t[9],t[10]),e._d=N1.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),ys(e).rfc2822=!0}else e._isValid=!1}function h9(e){var t=i9.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(n8(e),e._isValid===!1)delete e._isValid;else return;if(s8(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:en.createFromInputFallback(e)}en.createFromInputFallback=fh("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function nm(e,t,s){return e??t??s}function d9(e){var t=new Date(en.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function gS(e){var t,s,a=[],c,d,m;if(!e._d){for(c=d9(e),e._w&&e._a[gd]==null&&e._a[nu]==null&&u9(e),e._dayOfYear!=null&&(m=nm(e._a[tl],c[tl]),(e._dayOfYear>E1(m)||e._dayOfYear===0)&&(ys(e)._overflowDayOfYear=!0),s=N1(m,0,e._dayOfYear),e._a[nu]=s.getUTCMonth(),e._a[gd]=s.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=a[t]=c[t];for(;t<7;t++)e._a[t]=a[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[sa]===24&&e._a[Oh]===0&&e._a[su]===0&&e._a[Df]===0&&(e._nextDay=!0,e._a[sa]=0),e._d=(e._useUTC?N1:yL).apply(null,a),d=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[sa]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==d&&(ys(e).weekdayMismatch=!0)}}function u9(e){var t,s,a,c,d,m,n,S,z;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(d=1,m=4,s=nm(t.GG,e._a[tl],j1(Qr(),1,4).year),a=nm(t.W,1),c=nm(t.E,1),(c<1||c>7)&&(S=!0)):(d=e._locale._week.dow,m=e._locale._week.doy,z=j1(Qr(),d,m),s=nm(t.gg,e._a[tl],z.year),a=nm(t.w,z.week),t.d!=null?(c=t.d,(c<0||c>6)&&(S=!0)):t.e!=null?(c=t.e+d,(t.e<0||t.e>6)&&(S=!0)):c=d),a<1||a>lu(s,d,m)?ys(e)._overflowWeeks=!0:S!=null?ys(e)._overflowWeekday=!0:(n=JM(s,a,c,d,m),e._a[tl]=n.year,e._dayOfYear=n.dayOfYear)}en.ISO_8601=function(){};en.RFC_2822=function(){};function _S(e){if(e._f===en.ISO_8601){n8(e);return}if(e._f===en.RFC_2822){s8(e);return}e._a=[],ys(e).empty=!0;var t=""+e._i,s,a,c,d,m,n=t.length,S=0,z,Z;for(c=NM(e._f,e._locale).match(aS)||[],Z=c.length,s=0;s<Z;s++)d=c[s],a=(t.match(tL(d,e))||[])[0],a&&(m=t.substr(0,t.indexOf(a)),m.length>0&&ys(e).unusedInput.push(m),t=t.slice(t.indexOf(a)+a.length),S+=a.length),dm[d]?(a?ys(e).empty=!1:ys(e).unusedTokens.push(d),nL(d,a,e)):e._strict&&!a&&ys(e).unusedTokens.push(d);ys(e).charsLeftOver=n-S,t.length>0&&ys(e).unusedInput.push(t),e._a[sa]<=12&&ys(e).bigHour===!0&&e._a[sa]>0&&(ys(e).bigHour=void 0),ys(e).parsedDateParts=e._a.slice(0),ys(e).meridiem=e._meridiem,e._a[sa]=p9(e._locale,e._a[sa],e._meridiem),z=ys(e).era,z!==null&&(e._a[tl]=e._locale.erasConvertYear(z,e._a[tl])),gS(e),mS(e)}function p9(e,t,s){var a;return s==null?t:e.meridiemHour!=null?e.meridiemHour(t,s):(e.isPM!=null&&(a=e.isPM(s),a&&t<12&&(t+=12),!a&&t===12&&(t=0)),t)}function f9(e){var t,s,a,c,d,m,n=!1,S=e._f.length;if(S===0){ys(e).invalidFormat=!0,e._d=new Date(NaN);return}for(c=0;c<S;c++)d=0,m=!1,t=rS({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[c],_S(t),sS(t)&&(m=!0),d+=ys(t).charsLeftOver,d+=ys(t).unusedTokens.length*10,ys(t).score=d,n?d<a&&(a=d,s=t):(a==null||d<a||m)&&(a=d,s=t,m&&(n=!0));op(e,s||t)}function m9(e){if(!e._d){var t=lS(e._i),s=t.day===void 0?t.date:t.day;e._a=BM([t.year,t.month,s,t.hour,t.minute,t.second,t.millisecond],function(a){return a&&parseInt(a,10)}),gS(e)}}function g9(e){var t=new s_(mS(r8(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function r8(e){var t=e._i,s=e._f;return e._locale=e._locale||yu(e._l),t===null||s===void 0&&t===""?bx({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Nh(t)?new s_(mS(t)):(n_(t)?e._d=t:Fh(s)?f9(e):s?_S(e):_9(e),sS(e)||(e._d=null),e))}function _9(e){var t=e._i;Ql(t)?e._d=new Date(en.now()):n_(t)?e._d=new Date(t.valueOf()):typeof t=="string"?h9(e):Fh(t)?(e._a=BM(t.slice(0),function(s){return parseInt(s,10)}),gS(e)):Ff(t)?m9(e):uu(t)?e._d=new Date(t):en.createFromInputFallback(e)}function o8(e,t,s,a,c){var d={};return(t===!0||t===!1)&&(a=t,t=void 0),(s===!0||s===!1)&&(a=s,s=void 0),(Ff(e)&&nS(e)||Fh(e)&&e.length===0)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=c,d._l=s,d._i=e,d._f=t,d._strict=a,g9(d)}function Qr(e,t,s,a){return o8(e,t,s,a,!1)}var y9=fh("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Qr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:bx()}),v9=fh("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Qr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:bx()});function a8(e,t){var s,a;if(t.length===1&&Fh(t[0])&&(t=t[0]),!t.length)return Qr();for(s=t[0],a=1;a<t.length;++a)(!t[a].isValid()||t[a][e](s))&&(s=t[a]);return s}function x9(){var e=[].slice.call(arguments,0);return a8("isBefore",e)}function b9(){var e=[].slice.call(arguments,0);return a8("isAfter",e)}var w9=function(){return Date.now?Date.now():+new Date},m1=["year","quarter","month","week","day","hour","minute","second","millisecond"];function S9(e){var t,s=!1,a,c=m1.length;for(t in e)if(or(e,t)&&!(Po.call(m1,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(a=0;a<c;++a)if(e[m1[a]]){if(s)return!1;parseFloat(e[m1[a]])!==Is(e[m1[a]])&&(s=!0)}return!0}function T9(){return this._isValid}function E9(){return Uh(NaN)}function Px(e){var t=lS(e),s=t.year||0,a=t.quarter||0,c=t.month||0,d=t.week||t.isoWeek||0,m=t.day||0,n=t.hour||0,S=t.minute||0,z=t.second||0,Z=t.millisecond||0;this._isValid=S9(t),this._milliseconds=+Z+z*1e3+S*6e4+n*1e3*60*60,this._days=+m+d*7,this._months=+c+a*3+s*12,this._data={},this._locale=yu(),this._bubble()}function ov(e){return e instanceof Px}function Bw(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function C9(e,t,s){var a=Math.min(e.length,t.length),c=Math.abs(e.length-t.length),d=0,m;for(m=0;m<a;m++)(s&&e[m]!==t[m]||!s&&Is(e[m])!==Is(t[m]))&&d++;return d+c}function l8(e,t){jn(e,0,0,function(){var s=this.utcOffset(),a="+";return s<0&&(s=-s,a="-"),a+bd(~~(s/60),2)+t+bd(~~s%60,2)})}l8("Z",":");l8("ZZ","");xn("Z",Mx);xn("ZZ",Mx);Ar(["Z","ZZ"],function(e,t,s){s._useUTC=!0,s._tzm=yS(Mx,e)});var M9=/([\+\-]|\d\d)/gi;function yS(e,t){var s=(t||"").match(e),a,c,d;return s===null?null:(a=s[s.length-1]||[],c=(a+"").match(M9)||["-",0,0],d=+(c[1]*60)+Is(c[2]),d===0?0:c[0]==="+"?d:-d)}function vS(e,t){var s,a;return t._isUTC?(s=t.clone(),a=(Nh(e)||n_(e)?e.valueOf():Qr(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+a),en.updateOffset(s,!1),s):Qr(e).local()}function zw(e){return-Math.round(e._d.getTimezoneOffset())}en.updateOffset=function(){};function A9(e,t,s){var a=this._offset||0,c;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=yS(Mx,e),e===null)return this}else Math.abs(e)<16&&!s&&(e=e*60);return!this._isUTC&&t&&(c=zw(this)),this._offset=e,this._isUTC=!0,c!=null&&this.add(c,"m"),a!==e&&(!t||this._changeInProgress?d8(this,Uh(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,en.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?a:zw(this)}function k9(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function P9(e){return this.utcOffset(0,e)}function D9(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zw(this),"m")),this}function I9(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=yS(QI,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function L9(e){return this.isValid()?(e=e?Qr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function O9(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function R9(){if(!Ql(this._isDSTShifted))return this._isDSTShifted;var e={},t;return rS(e,this),e=r8(e),e._a?(t=e._isUTC?wd(e._a):Qr(e._a),this._isDSTShifted=this.isValid()&&C9(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function B9(){return this.isValid()?!this._isUTC:!1}function z9(){return this.isValid()?this._isUTC:!1}function c8(){return this.isValid()?this._isUTC&&this._offset===0:!1}var F9=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,N9=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Uh(e,t){var s=e,a=null,c,d,m;return ov(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:uu(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(a=F9.exec(e))?(c=a[1]==="-"?-1:1,s={y:0,d:Is(a[gd])*c,h:Is(a[sa])*c,m:Is(a[Oh])*c,s:Is(a[su])*c,ms:Is(Bw(a[Df]*1e3))*c}):(a=N9.exec(e))?(c=a[1]==="-"?-1:1,s={y:wf(a[2],c),M:wf(a[3],c),w:wf(a[4],c),d:wf(a[5],c),h:wf(a[6],c),m:wf(a[7],c),s:wf(a[8],c)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(m=j9(Qr(s.from),Qr(s.to)),s={},s.ms=m.milliseconds,s.M=m.months),d=new Px(s),ov(e)&&or(e,"_locale")&&(d._locale=e._locale),ov(e)&&or(e,"_isValid")&&(d._isValid=e._isValid),d}Uh.fn=Px.prototype;Uh.invalid=E9;function wf(e,t){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*t}function l5(e,t){var s={};return s.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(s.months,"M").isAfter(t)&&--s.months,s.milliseconds=+t-+e.clone().add(s.months,"M"),s}function j9(e,t){var s;return e.isValid()&&t.isValid()?(t=vS(t,e),e.isBefore(t)?s=l5(e,t):(s=l5(t,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function h8(e,t){return function(s,a){var c,d;return a!==null&&!isNaN(+a)&&(FM(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=s,s=a,a=d),c=Uh(s,a),d8(this,c,e),this}}function d8(e,t,s,a){var c=t._milliseconds,d=Bw(t._days),m=Bw(t._months);e.isValid()&&(a=a??!0,m&&qM(e,Dv(e,"Month")+m*s),d&&UM(e,"Date",Dv(e,"Date")+d*s),c&&e._d.setTime(e._d.valueOf()+c*s),a&&en.updateOffset(e,d||m))}var U9=h8(1,"add"),G9=h8(-1,"subtract");function u8(e){return typeof e=="string"||e instanceof String}function V9(e){return Nh(e)||n_(e)||u8(e)||uu(e)||H9(e)||$9(e)||e===null||e===void 0}function $9(e){var t=Ff(e)&&!nS(e),s=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c,d,m=a.length;for(c=0;c<m;c+=1)d=a[c],s=s||or(e,d);return t&&s}function H9(e){var t=Fh(e),s=!1;return t&&(s=e.filter(function(a){return!uu(a)&&u8(e)}).length===0),t&&s}function W9(e){var t=Ff(e)&&!nS(e),s=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],c,d;for(c=0;c<a.length;c+=1)d=a[c],s=s||or(e,d);return t&&s}function Y9(e,t){var s=e.diff(t,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function q9(e,t){arguments.length===1&&(arguments[0]?V9(arguments[0])?(e=arguments[0],t=void 0):W9(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var s=e||Qr(),a=vS(s,this).startOf("day"),c=en.calendarFormat(this,a)||"sameElse",d=t&&(Sd(t[c])?t[c].call(this,s):t[c]);return this.format(d||this.localeData().calendar(c,this,Qr(s)))}function X9(){return new s_(this)}function Z9(e,t){var s=Nh(e)?e:Qr(e);return this.isValid()&&s.isValid()?(t=mh(t)||"millisecond",t==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(t).valueOf()):!1}function K9(e,t){var s=Nh(e)?e:Qr(e);return this.isValid()&&s.isValid()?(t=mh(t)||"millisecond",t==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(t).valueOf()<s.valueOf()):!1}function J9(e,t,s,a){var c=Nh(e)?e:Qr(e),d=Nh(t)?t:Qr(t);return this.isValid()&&c.isValid()&&d.isValid()?(a=a||"()",(a[0]==="("?this.isAfter(c,s):!this.isBefore(c,s))&&(a[1]===")"?this.isBefore(d,s):!this.isAfter(d,s))):!1}function Q9(e,t){var s=Nh(e)?e:Qr(e),a;return this.isValid()&&s.isValid()?(t=mh(t)||"millisecond",t==="millisecond"?this.valueOf()===s.valueOf():(a=s.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf())):!1}function eO(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function tO(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function iO(e,t,s){var a,c,d;if(!this.isValid())return NaN;if(a=vS(e,this),!a.isValid())return NaN;switch(c=(a.utcOffset()-this.utcOffset())*6e4,t=mh(t),t){case"year":d=av(this,a)/12;break;case"month":d=av(this,a);break;case"quarter":d=av(this,a)/3;break;case"second":d=(this-a)/1e3;break;case"minute":d=(this-a)/6e4;break;case"hour":d=(this-a)/36e5;break;case"day":d=(this-a-c)/864e5;break;case"week":d=(this-a-c)/6048e5;break;default:d=this-a}return s?d:lh(d)}function av(e,t){if(e.date()<t.date())return-av(t,e);var s=(t.year()-e.year())*12+(t.month()-e.month()),a=e.clone().add(s,"months"),c,d;return t-a<0?(c=e.clone().add(s-1,"months"),d=(t-a)/(a-c)):(c=e.clone().add(s+1,"months"),d=(t-a)/(c-a)),-(s+d)||0}en.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";en.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function nO(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function sO(e){if(!this.isValid())return null;var t=e!==!0,s=t?this.clone().utc():this;return s.year()<0||s.year()>9999?rv(s,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Sd(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",rv(s,"Z")):rv(s,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function rO(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",s,a,c,d;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),s="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",c="-MM-DD[T]HH:mm:ss.SSS",d=t+'[")]',this.format(s+a+c+d)}function oO(e){e||(e=this.isUtc()?en.defaultFormatUtc:en.defaultFormat);var t=rv(this,e);return this.localeData().postformat(t)}function aO(e,t){return this.isValid()&&(Nh(e)&&e.isValid()||Qr(e).isValid())?Uh({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function lO(e){return this.from(Qr(),e)}function cO(e,t){return this.isValid()&&(Nh(e)&&e.isValid()||Qr(e).isValid())?Uh({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function hO(e){return this.to(Qr(),e)}function p8(e){var t;return e===void 0?this._locale._abbr:(t=yu(e),t!=null&&(this._locale=t),this)}var f8=fh("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function m8(){return this._locale}var Ov=1e3,um=60*Ov,Rv=60*um,g8=(365*400+97)*24*Rv;function pm(e,t){return(e%t+t)%t}function _8(e,t,s){return e<100&&e>=0?new Date(e+400,t,s)-g8:new Date(e,t,s).valueOf()}function y8(e,t,s){return e<100&&e>=0?Date.UTC(e+400,t,s)-g8:Date.UTC(e,t,s)}function dO(e){var t,s;if(e=mh(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?y8:_8,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pm(t+(this._isUTC?0:this.utcOffset()*um),Rv);break;case"minute":t=this._d.valueOf(),t-=pm(t,um);break;case"second":t=this._d.valueOf(),t-=pm(t,Ov);break}return this._d.setTime(t),en.updateOffset(this,!0),this}function uO(e){var t,s;if(e=mh(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?y8:_8,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Rv-pm(t+(this._isUTC?0:this.utcOffset()*um),Rv)-1;break;case"minute":t=this._d.valueOf(),t+=um-pm(t,um)-1;break;case"second":t=this._d.valueOf(),t+=Ov-pm(t,Ov)-1;break}return this._d.setTime(t),en.updateOffset(this,!0),this}function pO(){return this._d.valueOf()-(this._offset||0)*6e4}function fO(){return Math.floor(this.valueOf()/1e3)}function mO(){return new Date(this.valueOf())}function gO(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function _O(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function yO(){return this.isValid()?this.toISOString():null}function vO(){return sS(this)}function xO(){return op({},ys(this))}function bO(){return ys(this).overflow}function wO(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}jn("N",0,0,"eraAbbr");jn("NN",0,0,"eraAbbr");jn("NNN",0,0,"eraAbbr");jn("NNNN",0,0,"eraName");jn("NNNNN",0,0,"eraNarrow");jn("y",["y",1],"yo","eraYear");jn("y",["yy",2],0,"eraYear");jn("y",["yyy",3],0,"eraYear");jn("y",["yyyy",4],0,"eraYear");xn("N",xS);xn("NN",xS);xn("NNN",xS);xn("NNNN",LO);xn("NNNNN",OO);Ar(["N","NN","NNN","NNNN","NNNNN"],function(e,t,s,a){var c=s._locale.erasParse(e,a,s._strict);c?ys(s).era=c:ys(s).invalidEra=e});xn("y",Om);xn("yy",Om);xn("yyy",Om);xn("yyyy",Om);xn("yo",RO);Ar(["y","yy","yyy","yyyy"],tl);Ar(["yo"],function(e,t,s,a){var c;s._locale._eraYearOrdinalRegex&&(c=e.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?t[tl]=s._locale.eraYearOrdinalParse(e,c):t[tl]=parseInt(e,10)});function SO(e,t){var s,a,c,d=this._eras||yu("en")._eras;for(s=0,a=d.length;s<a;++s){switch(typeof d[s].since){case"string":c=en(d[s].since).startOf("day"),d[s].since=c.valueOf();break}switch(typeof d[s].until){case"undefined":d[s].until=1/0;break;case"string":c=en(d[s].until).startOf("day").valueOf(),d[s].until=c.valueOf();break}}return d}function TO(e,t,s){var a,c,d=this.eras(),m,n,S;for(e=e.toUpperCase(),a=0,c=d.length;a<c;++a)if(m=d[a].name.toUpperCase(),n=d[a].abbr.toUpperCase(),S=d[a].narrow.toUpperCase(),s)switch(t){case"N":case"NN":case"NNN":if(n===e)return d[a];break;case"NNNN":if(m===e)return d[a];break;case"NNNNN":if(S===e)return d[a];break}else if([m,n,S].indexOf(e)>=0)return d[a]}function EO(e,t){var s=e.since<=e.until?1:-1;return t===void 0?en(e.since).year():en(e.since).year()+(t-e.offset)*s}function CO(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].name;return""}function MO(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].narrow;return""}function AO(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].abbr;return""}function kO(){var e,t,s,a,c=this.localeData().eras();for(e=0,t=c.length;e<t;++e)if(s=c[e].since<=c[e].until?1:-1,a=this.clone().startOf("day").valueOf(),c[e].since<=a&&a<=c[e].until||c[e].until<=a&&a<=c[e].since)return(this.year()-en(c[e].since).year())*s+c[e].offset;return this.year()}function PO(e){return or(this,"_erasNameRegex")||bS.call(this),e?this._erasNameRegex:this._erasRegex}function DO(e){return or(this,"_erasAbbrRegex")||bS.call(this),e?this._erasAbbrRegex:this._erasRegex}function IO(e){return or(this,"_erasNarrowRegex")||bS.call(this),e?this._erasNarrowRegex:this._erasRegex}function xS(e,t){return t.erasAbbrRegex(e)}function LO(e,t){return t.erasNameRegex(e)}function OO(e,t){return t.erasNarrowRegex(e)}function RO(e,t){return t._eraYearOrdinalRegex||Om}function bS(){var e=[],t=[],s=[],a=[],c,d,m=this.eras();for(c=0,d=m.length;c<d;++c)t.push(Dc(m[c].name)),e.push(Dc(m[c].abbr)),s.push(Dc(m[c].narrow)),a.push(Dc(m[c].name)),a.push(Dc(m[c].abbr)),a.push(Dc(m[c].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}jn(0,["gg",2],0,function(){return this.weekYear()%100});jn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Dx(e,t){jn(0,[e,e.length],0,t)}Dx("gggg","weekYear");Dx("ggggg","weekYear");Dx("GGGG","isoWeekYear");Dx("GGGGG","isoWeekYear");sl("weekYear","gg");sl("isoWeekYear","GG");rl("weekYear",1);rl("isoWeekYear",1);xn("G",Cx);xn("g",Cx);xn("GG",eo,Bc);xn("gg",eo,Bc);xn("GGGG",hS,cS);xn("gggg",hS,cS);xn("GGGGG",Ex,Sx);xn("ggggg",Ex,Sx);o_(["gggg","ggggg","GGGG","GGGGG"],function(e,t,s,a){t[a.substr(0,2)]=Is(e)});o_(["gg","GG"],function(e,t,s,a){t[a]=en.parseTwoDigitYear(e)});function BO(e){return v8.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function zO(e){return v8.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function FO(){return lu(this.year(),1,4)}function NO(){return lu(this.isoWeekYear(),1,4)}function jO(){var e=this.localeData()._week;return lu(this.year(),e.dow,e.doy)}function UO(){var e=this.localeData()._week;return lu(this.weekYear(),e.dow,e.doy)}function v8(e,t,s,a,c){var d;return e==null?j1(this,a,c).year:(d=lu(e,a,c),t>d&&(t=d),GO.call(this,e,t,s,a,c))}function GO(e,t,s,a,c){var d=JM(e,t,s,a,c),m=N1(d.year,0,d.dayOfYear);return this.year(m.getUTCFullYear()),this.month(m.getUTCMonth()),this.date(m.getUTCDate()),this}jn("Q",0,"Qo","quarter");sl("quarter","Q");rl("quarter",7);xn("Q",GM);Ar("Q",function(e,t){t[nu]=(Is(e)-1)*3});function VO(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}jn("D",["DD",2],"Do","date");sl("date","D");rl("date",9);xn("D",eo);xn("DD",eo,Bc);xn("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Ar(["D","DD"],gd);Ar("Do",function(e,t){t[gd]=Is(e.match(eo)[0])});var x8=Lm("Date",!0);jn("DDD",["DDDD",3],"DDDo","dayOfYear");sl("dayOfYear","DDD");rl("dayOfYear",4);xn("DDD",Tx);xn("DDDD",VM);Ar(["DDD","DDDD"],function(e,t,s){s._dayOfYear=Is(e)});function $O(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}jn("m",["mm",2],0,"minute");sl("minute","m");rl("minute",14);xn("m",eo);xn("mm",eo,Bc);Ar(["m","mm"],Oh);var HO=Lm("Minutes",!1);jn("s",["ss",2],0,"second");sl("second","s");rl("second",15);xn("s",eo);xn("ss",eo,Bc);Ar(["s","ss"],su);var WO=Lm("Seconds",!1);jn("S",0,0,function(){return~~(this.millisecond()/100)});jn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});jn(0,["SSS",3],0,"millisecond");jn(0,["SSSS",4],0,function(){return this.millisecond()*10});jn(0,["SSSSS",5],0,function(){return this.millisecond()*100});jn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});jn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});jn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});jn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});sl("millisecond","ms");rl("millisecond",16);xn("S",Tx,GM);xn("SS",Tx,Bc);xn("SSS",Tx,VM);var ap,b8;for(ap="SSSS";ap.length<=9;ap+="S")xn(ap,Om);function YO(e,t){t[Df]=Is(("0."+e)*1e3)}for(ap="S";ap.length<=9;ap+="S")Ar(ap,YO);b8=Lm("Milliseconds",!1);jn("z",0,0,"zoneAbbr");jn("zz",0,0,"zoneName");function qO(){return this._isUTC?"UTC":""}function XO(){return this._isUTC?"Coordinated Universal Time":""}var Zi=s_.prototype;Zi.add=U9;Zi.calendar=q9;Zi.clone=X9;Zi.diff=iO;Zi.endOf=uO;Zi.format=oO;Zi.from=aO;Zi.fromNow=lO;Zi.to=cO;Zi.toNow=hO;Zi.get=KI;Zi.invalidAt=bO;Zi.isAfter=Z9;Zi.isBefore=K9;Zi.isBetween=J9;Zi.isSame=Q9;Zi.isSameOrAfter=eO;Zi.isSameOrBefore=tO;Zi.isValid=vO;Zi.lang=f8;Zi.locale=p8;Zi.localeData=m8;Zi.max=v9;Zi.min=y9;Zi.parsingFlags=xO;Zi.set=JI;Zi.startOf=dO;Zi.subtract=G9;Zi.toArray=gO;Zi.toObject=_O;Zi.toDate=mO;Zi.toISOString=sO;Zi.inspect=rO;typeof Symbol<"u"&&Symbol.for!=null&&(Zi[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Zi.toJSON=yO;Zi.toString=nO;Zi.unix=fO;Zi.valueOf=pO;Zi.creationData=wO;Zi.eraName=CO;Zi.eraNarrow=MO;Zi.eraAbbr=AO;Zi.eraYear=kO;Zi.year=KM;Zi.isLeapYear=_L;Zi.weekYear=BO;Zi.isoWeekYear=zO;Zi.quarter=Zi.quarters=VO;Zi.month=XM;Zi.daysInMonth=fL;Zi.week=Zi.weeks=SL;Zi.isoWeek=Zi.isoWeeks=TL;Zi.weeksInYear=jO;Zi.weeksInWeekYear=UO;Zi.isoWeeksInYear=FO;Zi.isoWeeksInISOWeekYear=NO;Zi.date=x8;Zi.day=Zi.days=zL;Zi.weekday=FL;Zi.isoWeekday=NL;Zi.dayOfYear=$O;Zi.hour=Zi.hours=WL;Zi.minute=Zi.minutes=HO;Zi.second=Zi.seconds=WO;Zi.millisecond=Zi.milliseconds=b8;Zi.utcOffset=A9;Zi.utc=P9;Zi.local=D9;Zi.parseZone=I9;Zi.hasAlignedHourOffset=L9;Zi.isDST=O9;Zi.isLocal=B9;Zi.isUtcOffset=z9;Zi.isUtc=c8;Zi.isUTC=c8;Zi.zoneAbbr=qO;Zi.zoneName=XO;Zi.dates=fh("dates accessor is deprecated. Use date instead.",x8);Zi.months=fh("months accessor is deprecated. Use month instead",XM);Zi.years=fh("years accessor is deprecated. Use year instead",KM);Zi.zone=fh("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",k9);Zi.isDSTShifted=fh("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",R9);function ZO(e){return Qr(e*1e3)}function KO(){return Qr.apply(null,arguments).parseZone()}function w8(e){return e}var ar=oS.prototype;ar.calendar=zI;ar.longDateFormat=UI;ar.invalidDate=VI;ar.ordinal=WI;ar.preparse=w8;ar.postformat=w8;ar.relativeTime=qI;ar.pastFuture=XI;ar.set=RI;ar.eras=SO;ar.erasParse=TO;ar.erasConvertYear=EO;ar.erasAbbrRegex=DO;ar.erasNameRegex=PO;ar.erasNarrowRegex=IO;ar.months=hL;ar.monthsShort=dL;ar.monthsParse=pL;ar.monthsRegex=gL;ar.monthsShortRegex=mL;ar.week=vL;ar.firstDayOfYear=wL;ar.firstDayOfWeek=bL;ar.weekdays=IL;ar.weekdaysMin=OL;ar.weekdaysShort=LL;ar.weekdaysParse=BL;ar.weekdaysRegex=jL;ar.weekdaysShortRegex=UL;ar.weekdaysMinRegex=GL;ar.isPM=$L;ar.meridiem=YL;function Bv(e,t,s,a){var c=yu(),d=wd().set(a,t);return c[s](d,e)}function S8(e,t,s){if(uu(e)&&(t=e,e=void 0),e=e||"",t!=null)return Bv(e,t,s,"month");var a,c=[];for(a=0;a<12;a++)c[a]=Bv(e,a,s,"month");return c}function wS(e,t,s,a){typeof e=="boolean"?(uu(t)&&(s=t,t=void 0),t=t||""):(t=e,s=t,e=!1,uu(t)&&(s=t,t=void 0),t=t||"");var c=yu(),d=e?c._week.dow:0,m,n=[];if(s!=null)return Bv(t,(s+d)%7,a,"day");for(m=0;m<7;m++)n[m]=Bv(t,(m+d)%7,a,"day");return n}function JO(e,t){return S8(e,t,"months")}function QO(e,t){return S8(e,t,"monthsShort")}function e7(e,t,s){return wS(e,t,s,"weekdays")}function t7(e,t,s){return wS(e,t,s,"weekdaysShort")}function i7(e,t,s){return wS(e,t,s,"weekdaysMin")}fp("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,s=Is(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+s}});en.lang=fh("moment.lang is deprecated. Use moment.locale instead.",fp);en.langData=fh("moment.langData is deprecated. Use moment.localeData instead.",yu);var Zd=Math.abs;function n7(){var e=this._data;return this._milliseconds=Zd(this._milliseconds),this._days=Zd(this._days),this._months=Zd(this._months),e.milliseconds=Zd(e.milliseconds),e.seconds=Zd(e.seconds),e.minutes=Zd(e.minutes),e.hours=Zd(e.hours),e.months=Zd(e.months),e.years=Zd(e.years),this}function T8(e,t,s,a){var c=Uh(t,s);return e._milliseconds+=a*c._milliseconds,e._days+=a*c._days,e._months+=a*c._months,e._bubble()}function s7(e,t){return T8(this,e,t,1)}function r7(e,t){return T8(this,e,t,-1)}function c5(e){return e<0?Math.floor(e):Math.ceil(e)}function o7(){var e=this._milliseconds,t=this._days,s=this._months,a=this._data,c,d,m,n,S;return e>=0&&t>=0&&s>=0||e<=0&&t<=0&&s<=0||(e+=c5(Fw(s)+t)*864e5,t=0,s=0),a.milliseconds=e%1e3,c=lh(e/1e3),a.seconds=c%60,d=lh(c/60),a.minutes=d%60,m=lh(d/60),a.hours=m%24,t+=lh(m/24),S=lh(E8(t)),s+=S,t-=c5(Fw(S)),n=lh(s/12),s%=12,a.days=t,a.months=s,a.years=n,this}function E8(e){return e*4800/146097}function Fw(e){return e*146097/4800}function a7(e){if(!this.isValid())return NaN;var t,s,a=this._milliseconds;if(e=mh(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+a/864e5,s=this._months+E8(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(Fw(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return t*24+a/36e5;case"minute":return t*1440+a/6e4;case"second":return t*86400+a/1e3;case"millisecond":return Math.floor(t*864e5)+a;default:throw new Error("Unknown unit "+e)}}function l7(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Is(this._months/12)*31536e6:NaN}function vu(e){return function(){return this.as(e)}}var c7=vu("ms"),h7=vu("s"),d7=vu("m"),u7=vu("h"),p7=vu("d"),f7=vu("w"),m7=vu("M"),g7=vu("Q"),_7=vu("y");function y7(){return Uh(this)}function v7(e){return e=mh(e),this.isValid()?this[e+"s"]():NaN}function Xf(e){return function(){return this.isValid()?this._data[e]:NaN}}var x7=Xf("milliseconds"),b7=Xf("seconds"),w7=Xf("minutes"),S7=Xf("hours"),T7=Xf("days"),E7=Xf("months"),C7=Xf("years");function M7(){return lh(this.days()/7)}var tu=Math.round,rm={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function A7(e,t,s,a,c){return c.relativeTime(t||1,!!s,e,a)}function k7(e,t,s,a){var c=Uh(e).abs(),d=tu(c.as("s")),m=tu(c.as("m")),n=tu(c.as("h")),S=tu(c.as("d")),z=tu(c.as("M")),Z=tu(c.as("w")),O=tu(c.as("y")),H=d<=s.ss&&["s",d]||d<s.s&&["ss",d]||m<=1&&["m"]||m<s.m&&["mm",m]||n<=1&&["h"]||n<s.h&&["hh",n]||S<=1&&["d"]||S<s.d&&["dd",S];return s.w!=null&&(H=H||Z<=1&&["w"]||Z<s.w&&["ww",Z]),H=H||z<=1&&["M"]||z<s.M&&["MM",z]||O<=1&&["y"]||["yy",O],H[2]=t,H[3]=+e>0,H[4]=a,A7.apply(null,H)}function P7(e){return e===void 0?tu:typeof e=="function"?(tu=e,!0):!1}function D7(e,t){return rm[e]===void 0?!1:t===void 0?rm[e]:(rm[e]=t,e==="s"&&(rm.ss=t-1),!0)}function I7(e,t){if(!this.isValid())return this.localeData().invalidDate();var s=!1,a=rm,c,d;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(s=e),typeof t=="object"&&(a=Object.assign({},rm,t),t.s!=null&&t.ss==null&&(a.ss=t.s-1)),c=this.localeData(),d=k7(this,!s,a,c),s&&(d=c.pastFuture(+this,d)),c.postformat(d)}var U2=Math.abs;function im(e){return(e>0)-(e<0)||+e}function Ix(){if(!this.isValid())return this.localeData().invalidDate();var e=U2(this._milliseconds)/1e3,t=U2(this._days),s=U2(this._months),a,c,d,m,n=this.asSeconds(),S,z,Z,O;return n?(a=lh(e/60),c=lh(a/60),e%=60,a%=60,d=lh(s/12),s%=12,m=e?e.toFixed(3).replace(/\.?0+$/,""):"",S=n<0?"-":"",z=im(this._months)!==im(n)?"-":"",Z=im(this._days)!==im(n)?"-":"",O=im(this._milliseconds)!==im(n)?"-":"",S+"P"+(d?z+d+"Y":"")+(s?z+s+"M":"")+(t?Z+t+"D":"")+(c||a||e?"T":"")+(c?O+c+"H":"")+(a?O+a+"M":"")+(e?O+m+"S":"")):"P0D"}var Ws=Px.prototype;Ws.isValid=T9;Ws.abs=n7;Ws.add=s7;Ws.subtract=r7;Ws.as=a7;Ws.asMilliseconds=c7;Ws.asSeconds=h7;Ws.asMinutes=d7;Ws.asHours=u7;Ws.asDays=p7;Ws.asWeeks=f7;Ws.asMonths=m7;Ws.asQuarters=g7;Ws.asYears=_7;Ws.valueOf=l7;Ws._bubble=o7;Ws.clone=y7;Ws.get=v7;Ws.milliseconds=x7;Ws.seconds=b7;Ws.minutes=w7;Ws.hours=S7;Ws.days=T7;Ws.weeks=M7;Ws.months=E7;Ws.years=C7;Ws.humanize=I7;Ws.toISOString=Ix;Ws.toString=Ix;Ws.toJSON=Ix;Ws.locale=p8;Ws.localeData=m8;Ws.toIsoString=fh("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ix);Ws.lang=f8;jn("X",0,0,"unix");jn("x",0,0,"valueOf");xn("x",Cx);xn("X",eL);Ar("X",function(e,t,s){s._d=new Date(parseFloat(e)*1e3)});Ar("x",function(e,t,s){s._d=new Date(Is(e))});//! moment.js
en.version="2.29.4";LI(Qr);en.fn=Zi;en.min=x9;en.max=b9;en.now=w9;en.utc=wd;en.unix=ZO;en.months=JO;en.isDate=n_;en.locale=fp;en.invalid=bx;en.duration=Uh;en.isMoment=Nh;en.weekdays=e7;en.parseZone=KO;en.localeData=yu;en.isDuration=ov;en.monthsShort=QO;en.weekdaysMin=i7;en.defineLocale=fS;en.updateLocale=KL;en.locales=JL;en.weekdaysShort=t7;en.normalizeUnits=mh;en.relativeTimeRounding=P7;en.relativeTimeThreshold=D7;en.calendarFormat=Y9;en.prototype=Zi;en.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},C8={exports:{}};/*!
* sweetalert2 v11.4.0
* Released under the MIT License.
*/(function(e,t){(function(s,a){e.exports=a()})(ip,function(){const s="SweetAlert2:",a=xe=>{const Se=[];for(let Ve=0;Ve<xe.length;Ve++)Se.indexOf(xe[Ve])===-1&&Se.push(xe[Ve]);return Se},c=xe=>xe.charAt(0).toUpperCase()+xe.slice(1),d=xe=>Array.prototype.slice.call(xe),m=xe=>{console.warn("".concat(s," ").concat(typeof xe=="object"?xe.join(" "):xe))},n=xe=>{console.error("".concat(s," ").concat(xe))},S=[],z=xe=>{S.includes(xe)||(S.push(xe),m(xe))},Z=(xe,Se)=>{z('"'.concat(xe,'" is deprecated and will be removed in the next major release. Please use "').concat(Se,'" instead.'))},O=xe=>typeof xe=="function"?xe():xe,H=xe=>xe&&typeof xe.toPromise=="function",q=xe=>H(xe)?xe.toPromise():Promise.resolve(xe),L=xe=>xe&&Promise.resolve(xe)===xe,R={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},$=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],M={},E=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],k=xe=>Object.prototype.hasOwnProperty.call(R,xe),V=xe=>$.indexOf(xe)!==-1,G=xe=>M[xe],C=xe=>{k(xe)||m('Unknown parameter "'.concat(xe,'"'))},te=xe=>{E.includes(xe)&&m('The parameter "'.concat(xe,'" is incompatible with toasts'))},Q=xe=>{G(xe)&&Z(xe,G(xe))},N=xe=>{!xe.backdrop&&xe.allowOutsideClick&&m('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const Se in xe)C(Se),xe.toast&&te(Se),Q(Se)},j="swal2-",W=xe=>{const Se={};for(const Ve in xe)Se[xe[Ve]]=j+xe[Ve];return Se},w=W(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),D=W(["success","warning","info","question","error"]),f=()=>document.body.querySelector(".".concat(w.container)),g=xe=>{const Se=f();return Se?Se.querySelector(xe):null},x=xe=>g(".".concat(xe)),P=()=>x(w.popup),Y=()=>x(w.icon),ee=()=>x(w.title),K=()=>x(w["html-container"]),he=()=>x(w.image),ge=()=>x(w["progress-steps"]),Ee=()=>x(w["validation-message"]),J=()=>g(".".concat(w.actions," .").concat(w.confirm)),oe=()=>g(".".concat(w.actions," .").concat(w.deny)),ce=()=>x(w["input-label"]),pe=()=>g(".".concat(w.loader)),Ce=()=>g(".".concat(w.actions," .").concat(w.cancel)),ne=()=>x(w.actions),ye=()=>x(w.footer),_e=()=>x(w["timer-progress-bar"]),ae=()=>x(w.close),me=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,we=()=>{const xe=d(P().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((Ve,yt)=>{const bi=parseInt(Ve.getAttribute("tabindex")),un=parseInt(yt.getAttribute("tabindex"));return bi>un?1:bi<un?-1:0}),Se=d(P().querySelectorAll(me)).filter(Ve=>Ve.getAttribute("tabindex")!=="-1");return a(xe.concat(Se)).filter(Ve=>Ei(Ve))},Re=()=>!qe(document.body,w["toast-shown"])&&!qe(document.body,w["no-backdrop"]),Le=()=>P()&&qe(P(),w.toast),Ge=()=>P().hasAttribute("data-loading"),rt={previousBodyPadding:null},Qe=(xe,Se)=>{if(xe.textContent="",Se){const yt=new DOMParser().parseFromString(Se,"text/html");d(yt.querySelector("head").childNodes).forEach(bi=>{xe.appendChild(bi)}),d(yt.querySelector("body").childNodes).forEach(bi=>{xe.appendChild(bi)})}},qe=(xe,Se)=>{if(!Se)return!1;const Ve=Se.split(/\s+/);for(let yt=0;yt<Ve.length;yt++)if(!xe.classList.contains(Ve[yt]))return!1;return!0},Te=(xe,Se)=>{d(xe.classList).forEach(Ve=>{!Object.values(w).includes(Ve)&&!Object.values(D).includes(Ve)&&!Object.values(Se.showClass).includes(Ve)&&xe.classList.remove(Ve)})},Oe=(xe,Se,Ve)=>{if(Te(xe,Se),Se.customClass&&Se.customClass[Ve]){if(typeof Se.customClass[Ve]!="string"&&!Se.customClass[Ve].forEach)return m("Invalid type of customClass.".concat(Ve,'! Expected string or iterable object, got "').concat(typeof Se.customClass[Ve],'"'));pt(xe,Se.customClass[Ve])}},ze=(xe,Se)=>{if(!Se)return null;switch(Se){case"select":case"textarea":case"file":return xe.querySelector(".".concat(w.popup," > .").concat(w[Se]));case"checkbox":return xe.querySelector(".".concat(w.popup," > .").concat(w.checkbox," input"));case"radio":return xe.querySelector(".".concat(w.popup," > .").concat(w.radio," input:checked"))||xe.querySelector(".".concat(w.popup," > .").concat(w.radio," input:first-child"));case"range":return xe.querySelector(".".concat(w.popup," > .").concat(w.range," input"));default:return xe.querySelector(".".concat(w.popup," > .").concat(w.input))}},Xe=xe=>{if(xe.focus(),xe.type!=="file"){const Se=xe.value;xe.value="",xe.value=Se}},Je=(xe,Se,Ve)=>{!xe||!Se||(typeof Se=="string"&&(Se=Se.split(/\s+/).filter(Boolean)),Se.forEach(yt=>{Array.isArray(xe)?xe.forEach(bi=>{Ve?bi.classList.add(yt):bi.classList.remove(yt)}):Ve?xe.classList.add(yt):xe.classList.remove(yt)}))},pt=(xe,Se)=>{Je(xe,Se,!0)},bt=(xe,Se)=>{Je(xe,Se,!1)},It=(xe,Se)=>{const Ve=d(xe.childNodes);for(let yt=0;yt<Ve.length;yt++)if(qe(Ve[yt],Se))return Ve[yt]},ui=(xe,Se,Ve)=>{Ve==="".concat(parseInt(Ve))&&(Ve=parseInt(Ve)),Ve||parseInt(Ve)===0?xe.style[Se]=typeof Ve=="number"?"".concat(Ve,"px"):Ve:xe.style.removeProperty(Se)},Ht=function(xe){let Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";xe.style.display=Se},di=xe=>{xe.style.display="none"},Ui=(xe,Se,Ve,yt)=>{const bi=xe.querySelector(Se);bi&&(bi.style[Ve]=yt)},zi=(xe,Se,Ve)=>{Se?Ht(xe,Ve):di(xe)},Ei=xe=>!!(xe&&(xe.offsetWidth||xe.offsetHeight||xe.getClientRects().length)),Di=()=>!Ei(J())&&!Ei(oe())&&!Ei(Ce()),dn=xe=>xe.scrollHeight>xe.clientHeight,Sn=xe=>{const Se=window.getComputedStyle(xe),Ve=parseFloat(Se.getPropertyValue("animation-duration")||"0"),yt=parseFloat(Se.getPropertyValue("transition-duration")||"0");return Ve>0||yt>0},Zn=function(xe){let Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const Ve=_e();Ei(Ve)&&(Se&&(Ve.style.transition="none",Ve.style.width="100%"),setTimeout(()=>{Ve.style.transition="width ".concat(xe/1e3,"s linear"),Ve.style.width="0%"},10))},kr=()=>{const xe=_e(),Se=parseInt(window.getComputedStyle(xe).width);xe.style.removeProperty("transition"),xe.style.width="100%";const Ve=parseInt(window.getComputedStyle(xe).width),yt=Se/Ve*100;xe.style.removeProperty("transition"),xe.style.width="".concat(yt,"%")},ms=()=>typeof window>"u"||typeof document>"u",zs=100,tn={},xa=()=>{tn.previousActiveElement&&tn.previousActiveElement.focus?(tn.previousActiveElement.focus(),tn.previousActiveElement=null):document.body&&document.body.focus()},Ol=xe=>new Promise(Se=>{if(!xe)return Se();const Ve=window.scrollX,yt=window.scrollY;tn.restoreFocusTimeout=setTimeout(()=>{xa(),Se()},zs),window.scrollTo(Ve,yt)}),al=`
 <div aria-labelledby="`.concat(w.title,'" aria-describedby="').concat(w["html-container"],'" class="').concat(w.popup,`" tabindex="-1">
   <button type="button" class="`).concat(w.close,`"></button>
   <ul class="`).concat(w["progress-steps"],`"></ul>
   <div class="`).concat(w.icon,`"></div>
   <img class="`).concat(w.image,`" />
   <h2 class="`).concat(w.title,'" id="').concat(w.title,`"></h2>
   <div class="`).concat(w["html-container"],'" id="').concat(w["html-container"],`"></div>
   <input class="`).concat(w.input,`" />
   <input type="file" class="`).concat(w.file,`" />
   <div class="`).concat(w.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(w.select,`"></select>
   <div class="`).concat(w.radio,`"></div>
   <label for="`).concat(w.checkbox,'" class="').concat(w.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(w.label,`"></span>
   </label>
   <textarea class="`).concat(w.textarea,`"></textarea>
   <div class="`).concat(w["validation-message"],'" id="').concat(w["validation-message"],`"></div>
   <div class="`).concat(w.actions,`">
     <div class="`).concat(w.loader,`"></div>
     <button type="button" class="`).concat(w.confirm,`"></button>
     <button type="button" class="`).concat(w.deny,`"></button>
     <button type="button" class="`).concat(w.cancel,`"></button>
   </div>
   <div class="`).concat(w.footer,`"></div>
   <div class="`).concat(w["timer-progress-bar-container"],`">
     <div class="`).concat(w["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Oa=()=>{const xe=f();return xe?(xe.remove(),bt([document.documentElement,document.body],[w["no-backdrop"],w["toast-shown"],w["has-column"]]),!0):!1},_r=()=>{tn.currentInstance.resetValidationMessage()},Ra=()=>{const xe=P(),Se=It(xe,w.input),Ve=It(xe,w.file),yt=xe.querySelector(".".concat(w.range," input")),bi=xe.querySelector(".".concat(w.range," output")),un=It(xe,w.select),rs=xe.querySelector(".".concat(w.checkbox," input")),Rr=It(xe,w.textarea);Se.oninput=_r,Ve.onchange=_r,un.onchange=_r,rs.onchange=_r,Rr.oninput=_r,yt.oninput=()=>{_r(),bi.value=yt.value},yt.onchange=()=>{_r(),yt.nextSibling.value=yt.value}},lc=xe=>typeof xe=="string"?document.querySelector(xe):xe,ut=xe=>{const Se=P();Se.setAttribute("role",xe.toast?"alert":"dialog"),Se.setAttribute("aria-live",xe.toast?"polite":"assertive"),xe.toast||Se.setAttribute("aria-modal","true")},Fe=xe=>{window.getComputedStyle(xe).direction==="rtl"&&pt(f(),w.rtl)},We=xe=>{const Se=Oa();if(ms()){n("SweetAlert2 requires document to initialize");return}const Ve=document.createElement("div");Ve.className=w.container,Se&&pt(Ve,w["no-transition"]),Qe(Ve,al);const yt=lc(xe.target);yt.appendChild(Ve),ut(xe),Fe(yt),Ra()},ht=(xe,Se)=>{xe instanceof HTMLElement?Se.appendChild(xe):typeof xe=="object"?_t(xe,Se):xe&&Qe(Se,xe)},_t=(xe,Se)=>{xe.jquery?Pt(Se,xe):Qe(Se,xe.toString())},Pt=(xe,Se)=>{if(xe.textContent="",0 in Se)for(let Ve=0;Ve in Se;Ve++)xe.appendChild(Se[Ve].cloneNode(!0));else xe.appendChild(Se.cloneNode(!0))},Nt=(()=>{if(ms())return!1;const xe=document.createElement("div"),Se={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const Ve in Se)if(Object.prototype.hasOwnProperty.call(Se,Ve)&&typeof xe.style[Ve]<"u")return Se[Ve];return!1})(),Vt=()=>{const xe=document.createElement("div");xe.className=w["scrollbar-measure"],document.body.appendChild(xe);const Se=xe.getBoundingClientRect().width-xe.clientWidth;return document.body.removeChild(xe),Se},Lt=(xe,Se)=>{const Ve=ne(),yt=pe();!Se.showConfirmButton&&!Se.showDenyButton&&!Se.showCancelButton?di(Ve):Ht(Ve),Oe(Ve,Se,"actions"),qt(Ve,yt,Se),Qe(yt,Se.loaderHtml),Oe(yt,Se,"loader")};function qt(xe,Se,Ve){const yt=J(),bi=oe(),un=Ce();Vi(yt,"confirm",Ve),Vi(bi,"deny",Ve),Vi(un,"cancel",Ve),mi(yt,bi,un,Ve),Ve.reverseButtons&&(Ve.toast?(xe.insertBefore(un,yt),xe.insertBefore(bi,yt)):(xe.insertBefore(un,Se),xe.insertBefore(bi,Se),xe.insertBefore(yt,Se)))}function mi(xe,Se,Ve,yt){if(!yt.buttonsStyling)return bt([xe,Se,Ve],w.styled);pt([xe,Se,Ve],w.styled),yt.confirmButtonColor&&(xe.style.backgroundColor=yt.confirmButtonColor,pt(xe,w["default-outline"])),yt.denyButtonColor&&(Se.style.backgroundColor=yt.denyButtonColor,pt(Se,w["default-outline"])),yt.cancelButtonColor&&(Ve.style.backgroundColor=yt.cancelButtonColor,pt(Ve,w["default-outline"]))}function Vi(xe,Se,Ve){zi(xe,Ve["show".concat(c(Se),"Button")],"inline-block"),Qe(xe,Ve["".concat(Se,"ButtonText")]),xe.setAttribute("aria-label",Ve["".concat(Se,"ButtonAriaLabel")]),xe.className=w[Se],Oe(xe,Ve,"".concat(Se,"Button")),pt(xe,Ve["".concat(Se,"ButtonClass")])}function Ci(xe,Se){typeof Se=="string"?xe.style.background=Se:Se||pt([document.documentElement,document.body],w["no-backdrop"])}function gn(xe,Se){Se in w?pt(xe,w[Se]):(m('The "position" parameter is not valid, defaulting to "center"'),pt(xe,w.center))}function mn(xe,Se){if(Se&&typeof Se=="string"){const Ve="grow-".concat(Se);Ve in w&&pt(xe,w[Ve])}}const nn=(xe,Se)=>{const Ve=f();Ve&&(Ci(Ve,Se.backdrop),gn(Ve,Se.position),mn(Ve,Se.grow),Oe(Ve,Se,"container"))};var Ni={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const qn=["input","file","range","select","radio","checkbox","textarea"],ds=(xe,Se)=>{const Ve=P(),yt=Ni.innerParams.get(xe),bi=!yt||Se.input!==yt.input;qn.forEach(un=>{const rs=w[un],Rr=It(Ve,rs);gs(un,Se.inputAttributes),Rr.className=rs,bi&&di(Rr)}),Se.input&&(bi&&cn(Se),aa(Se))},cn=xe=>{if(!Ys[xe.input])return n('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(xe.input,'"'));const Se=ci(xe.input),Ve=Ys[xe.input](Se,xe);Ht(Ve),setTimeout(()=>{Xe(Ve)})},ks=xe=>{for(let Se=0;Se<xe.attributes.length;Se++){const Ve=xe.attributes[Se].name;["type","value","style"].includes(Ve)||xe.removeAttribute(Ve)}},gs=(xe,Se)=>{const Ve=ze(P(),xe);if(Ve){ks(Ve);for(const yt in Se)Ve.setAttribute(yt,Se[yt])}},aa=xe=>{const Se=ci(xe.input);xe.customClass&&pt(Se,xe.customClass.input)},la=(xe,Se)=>{(!xe.placeholder||Se.inputPlaceholder)&&(xe.placeholder=Se.inputPlaceholder)},Vr=(xe,Se,Ve)=>{if(Ve.inputLabel){xe.id=w.input;const yt=document.createElement("label"),bi=w["input-label"];yt.setAttribute("for",xe.id),yt.className=bi,pt(yt,Ve.customClass.inputLabel),yt.innerText=Ve.inputLabel,Se.insertAdjacentElement("beforebegin",yt)}},ci=xe=>{const Se=w[xe]?w[xe]:w.input;return It(P(),Se)},Ys={};Ys.text=Ys.email=Ys.password=Ys.number=Ys.tel=Ys.url=(xe,Se)=>(typeof Se.inputValue=="string"||typeof Se.inputValue=="number"?xe.value=Se.inputValue:L(Se.inputValue)||m('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof Se.inputValue,'"')),Vr(xe,xe,Se),la(xe,Se),xe.type=Se.input,xe),Ys.file=(xe,Se)=>(Vr(xe,xe,Se),la(xe,Se),xe),Ys.range=(xe,Se)=>{const Ve=xe.querySelector("input"),yt=xe.querySelector("output");return Ve.value=Se.inputValue,Ve.type=Se.input,yt.value=Se.inputValue,Vr(Ve,xe,Se),xe},Ys.select=(xe,Se)=>{if(xe.textContent="",Se.inputPlaceholder){const Ve=document.createElement("option");Qe(Ve,Se.inputPlaceholder),Ve.value="",Ve.disabled=!0,Ve.selected=!0,xe.appendChild(Ve)}return Vr(xe,xe,Se),xe},Ys.radio=xe=>(xe.textContent="",xe),Ys.checkbox=(xe,Se)=>{const Ve=ze(P(),"checkbox");Ve.value="1",Ve.id=w.checkbox,Ve.checked=!!Se.inputValue;const yt=xe.querySelector("span");return Qe(yt,Se.inputPlaceholder),xe},Ys.textarea=(xe,Se)=>{xe.value=Se.inputValue,la(xe,Se),Vr(xe,xe,Se);const Ve=yt=>parseInt(window.getComputedStyle(yt).marginLeft)+parseInt(window.getComputedStyle(yt).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const yt=parseInt(window.getComputedStyle(P()).width),bi=()=>{const un=xe.offsetWidth+Ve(xe);un>yt?P().style.width="".concat(un,"px"):P().style.width=null};new MutationObserver(bi).observe(xe,{attributes:!0,attributeFilter:["style"]})}}),xe};const pr=(xe,Se)=>{const Ve=K();Oe(Ve,Se,"htmlContainer"),Se.html?(ht(Se.html,Ve),Ht(Ve,"block")):Se.text?(Ve.textContent=Se.text,Ht(Ve,"block")):di(Ve),ds(xe,Se)},fr=(xe,Se)=>{const Ve=ye();zi(Ve,Se.footer),Se.footer&&ht(Se.footer,Ve),Oe(Ve,Se,"footer")},Rl=(xe,Se)=>{const Ve=ae();Qe(Ve,Se.closeButtonHtml),Oe(Ve,Se,"closeButton"),zi(Ve,Se.showCloseButton),Ve.setAttribute("aria-label",Se.closeButtonAriaLabel)},to=(xe,Se)=>{const Ve=Ni.innerParams.get(xe),yt=Y();if(Ve&&Se.icon===Ve.icon){Un(yt,Se),cc(yt,Se);return}if(!Se.icon&&!Se.iconHtml)return di(yt);if(Se.icon&&Object.keys(D).indexOf(Se.icon)===-1)return n('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(Se.icon,'"')),di(yt);Ht(yt),Un(yt,Se),cc(yt,Se),pt(yt,Se.showClass.icon)},cc=(xe,Se)=>{for(const Ve in D)Se.icon!==Ve&&bt(xe,D[Ve]);pt(xe,D[Se.icon]),Xn(xe,Se),gh(),Oe(xe,Se,"icon")},gh=()=>{const xe=P(),Se=window.getComputedStyle(xe).getPropertyValue("background-color"),Ve=xe.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let yt=0;yt<Ve.length;yt++)Ve[yt].style.backgroundColor=Se},Nr=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,$i=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Un=(xe,Se)=>{xe.textContent="",Se.iconHtml?Qe(xe,xo(Se.iconHtml)):Se.icon==="success"?Qe(xe,Nr):Se.icon==="error"?Qe(xe,$i):Qe(xe,xo({question:"?",warning:"!",info:"i"}[Se.icon]))},Xn=(xe,Se)=>{if(Se.iconColor){xe.style.color=Se.iconColor,xe.style.borderColor=Se.iconColor;for(const Ve of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Ui(xe,Ve,"backgroundColor",Se.iconColor);Ui(xe,".swal2-success-ring","borderColor",Se.iconColor)}},xo=xe=>'<div class="'.concat(w["icon-content"],'">').concat(xe,"</div>"),ca=(xe,Se)=>{const Ve=he();if(!Se.imageUrl)return di(Ve);Ht(Ve,""),Ve.setAttribute("src",Se.imageUrl),Ve.setAttribute("alt",Se.imageAlt),ui(Ve,"width",Se.imageWidth),ui(Ve,"height",Se.imageHeight),Ve.className=w.image,Oe(Ve,Se,"image")},Mn=xe=>{const Se=document.createElement("li");return pt(Se,w["progress-step"]),Qe(Se,xe),Se},Bl=xe=>{const Se=document.createElement("li");return pt(Se,w["progress-step-line"]),xe.progressStepsDistance&&(Se.style.width=xe.progressStepsDistance),Se},$o=(xe,Se)=>{const Ve=ge();if(!Se.progressSteps||Se.progressSteps.length===0)return di(Ve);Ht(Ve),Ve.textContent="",Se.currentProgressStep>=Se.progressSteps.length&&m("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),Se.progressSteps.forEach((yt,bi)=>{const un=Mn(yt);if(Ve.appendChild(un),bi===Se.currentProgressStep&&pt(un,w["active-progress-step"]),bi!==Se.progressSteps.length-1){const rs=Bl(Se);Ve.appendChild(rs)}})},ba=(xe,Se)=>{const Ve=ee();zi(Ve,Se.title||Se.titleText,"block"),Se.title&&ht(Se.title,Ve),Se.titleText&&(Ve.innerText=Se.titleText),Oe(Ve,Se,"title")},Pr=(xe,Se)=>{const Ve=f(),yt=P();Se.toast?(ui(Ve,"width",Se.width),yt.style.width="100%",yt.insertBefore(pe(),Y())):ui(yt,"width",Se.width),ui(yt,"padding",Se.padding),Se.color&&(yt.style.color=Se.color),Se.background&&(yt.style.background=Se.background),di(Ee()),Cs(yt,Se)},Cs=(xe,Se)=>{xe.className="".concat(w.popup," ").concat(Ei(xe)?Se.showClass.popup:""),Se.toast?(pt([document.documentElement,document.body],w["toast-shown"]),pt(xe,w.toast)):pt(xe,w.modal),Oe(xe,Se,"popup"),typeof Se.customClass=="string"&&pt(xe,Se.customClass),Se.icon&&pt(xe,w["icon-".concat(Se.icon)])},jr=(xe,Se)=>{Pr(xe,Se),nn(xe,Se),$o(xe,Se),to(xe,Se),ca(xe,Se),ba(xe,Se),Rl(xe,Se),pr(xe,Se),Lt(xe,Se),fr(xe,Se),typeof Se.didRender=="function"&&Se.didRender(P())},po=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ll=()=>{d(document.body.children).forEach(Se=>{Se===f()||Se.contains(f())||(Se.hasAttribute("aria-hidden")&&Se.setAttribute("data-previous-aria-hidden",Se.getAttribute("aria-hidden")),Se.setAttribute("aria-hidden","true"))})},Io=()=>{d(document.body.children).forEach(Se=>{Se.hasAttribute("data-previous-aria-hidden")?(Se.setAttribute("aria-hidden",Se.getAttribute("data-previous-aria-hidden")),Se.removeAttribute("data-previous-aria-hidden")):Se.removeAttribute("aria-hidden")})},Ba=["swal-title","swal-html","swal-footer"],za=xe=>{const Se=typeof xe.template=="string"?document.querySelector(xe.template):xe.template;if(!Se)return{};const Ve=Se.content;return cl(Ve),Object.assign(wa(Ve),Fa(Ve),hc(Ve),dc(Ve),ao(Ve),cr(Ve,Ba))},wa=xe=>{const Se={};return d(xe.querySelectorAll("swal-param")).forEach(Ve=>{Sa(Ve,["name","value"]);const yt=Ve.getAttribute("name"),bi=Ve.getAttribute("value");typeof R[yt]=="boolean"&&bi==="false"&&(Se[yt]=!1),typeof R[yt]=="object"&&(Se[yt]=JSON.parse(bi))}),Se},Fa=xe=>{const Se={};return d(xe.querySelectorAll("swal-button")).forEach(Ve=>{Sa(Ve,["type","color","aria-label"]);const yt=Ve.getAttribute("type");Se["".concat(yt,"ButtonText")]=Ve.innerHTML,Se["show".concat(c(yt),"Button")]=!0,Ve.hasAttribute("color")&&(Se["".concat(yt,"ButtonColor")]=Ve.getAttribute("color")),Ve.hasAttribute("aria-label")&&(Se["".concat(yt,"ButtonAriaLabel")]=Ve.getAttribute("aria-label"))}),Se},hc=xe=>{const Se={},Ve=xe.querySelector("swal-image");return Ve&&(Sa(Ve,["src","width","height","alt"]),Ve.hasAttribute("src")&&(Se.imageUrl=Ve.getAttribute("src")),Ve.hasAttribute("width")&&(Se.imageWidth=Ve.getAttribute("width")),Ve.hasAttribute("height")&&(Se.imageHeight=Ve.getAttribute("height")),Ve.hasAttribute("alt")&&(Se.imageAlt=Ve.getAttribute("alt"))),Se},dc=xe=>{const Se={},Ve=xe.querySelector("swal-icon");return Ve&&(Sa(Ve,["type","color"]),Ve.hasAttribute("type")&&(Se.icon=Ve.getAttribute("type")),Ve.hasAttribute("color")&&(Se.iconColor=Ve.getAttribute("color")),Se.iconHtml=Ve.innerHTML),Se},ao=xe=>{const Se={},Ve=xe.querySelector("swal-input");Ve&&(Sa(Ve,["type","label","placeholder","value"]),Se.input=Ve.getAttribute("type")||"text",Ve.hasAttribute("label")&&(Se.inputLabel=Ve.getAttribute("label")),Ve.hasAttribute("placeholder")&&(Se.inputPlaceholder=Ve.getAttribute("placeholder")),Ve.hasAttribute("value")&&(Se.inputValue=Ve.getAttribute("value")));const yt=xe.querySelectorAll("swal-input-option");return yt.length&&(Se.inputOptions={},d(yt).forEach(bi=>{Sa(bi,["value"]);const un=bi.getAttribute("value"),rs=bi.innerHTML;Se.inputOptions[un]=rs})),Se},cr=(xe,Se)=>{const Ve={};for(const yt in Se){const bi=Se[yt],un=xe.querySelector(bi);un&&(Sa(un,[]),Ve[bi.replace(/^swal-/,"")]=un.innerHTML.trim())}return Ve},cl=xe=>{const Se=Ba.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);d(xe.children).forEach(Ve=>{const yt=Ve.tagName.toLowerCase();Se.indexOf(yt)===-1&&m("Unrecognized element <".concat(yt,">"))})},Sa=(xe,Se)=>{d(xe.attributes).forEach(Ve=>{Se.indexOf(Ve.name)===-1&&m(['Unrecognized attribute "'.concat(Ve.name,'" on <').concat(xe.tagName.toLowerCase(),">."),"".concat(Se.length?"Allowed attributes are: ".concat(Se.join(", ")):"To set the value, use HTML within the element.")])})};var Dr={email:(xe,Se)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(xe)?Promise.resolve():Promise.resolve(Se||"Invalid email address"),url:(xe,Se)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(xe)?Promise.resolve():Promise.resolve(Se||"Invalid URL")};function Lo(xe){xe.inputValidator||Object.keys(Dr).forEach(Se=>{xe.input===Se&&(xe.inputValidator=Dr[Se])})}function Gh(xe){(!xe.target||typeof xe.target=="string"&&!document.querySelector(xe.target)||typeof xe.target!="string"&&!xe.target.appendChild)&&(m('Target parameter is not valid, defaulting to "body"'),xe.target="body")}function Fc(xe){Lo(xe),xe.showLoaderOnConfirm&&!xe.preConfirm&&m(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Gh(xe),typeof xe.title=="string"&&(xe.title=xe.title.split(`
`).join("<br />")),We(xe)}class Tr{constructor(Se,Ve){this.callback=Se,this.remaining=Ve,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(Se){const Ve=this.running;return Ve&&this.stop(),this.remaining+=Se,Ve&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const hl=()=>{rt.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(rt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(rt.previousBodyPadding+Vt(),"px"))},Nc=()=>{rt.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(rt.previousBodyPadding,"px"),rt.previousBodyPadding=null)},dl=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!qe(document.body,w.iosfix)){const Se=document.body.scrollTop;document.body.style.top="".concat(Se*-1,"px"),pt(document.body,w.iosfix),Na(),Ir()}},Ir=()=>{const xe=navigator.userAgent,Se=!!xe.match(/iPad/i)||!!xe.match(/iPhone/i),Ve=!!xe.match(/WebKit/i);Se&&Ve&&!xe.match(/CriOS/i)&&P().scrollHeight>window.innerHeight-44&&(f().style.paddingBottom="".concat(44,"px"))},Na=()=>{const xe=f();let Se;xe.ontouchstart=Ve=>{Se=jc(Ve)},xe.ontouchmove=Ve=>{Se&&(Ve.preventDefault(),Ve.stopPropagation())}},jc=xe=>{const Se=xe.target,Ve=f();return ps(xe)||bs(xe)?!1:Se===Ve||!dn(Ve)&&Se.tagName!=="INPUT"&&Se.tagName!=="TEXTAREA"&&!(dn(K())&&K().contains(Se))},ps=xe=>xe.touches&&xe.touches.length&&xe.touches[0].touchType==="stylus",bs=xe=>xe.touches&&xe.touches.length>1,Uc=()=>{if(qe(document.body,w.iosfix)){const xe=parseInt(document.body.style.top,10);bt(document.body,w.iosfix),document.body.style.top="",document.body.scrollTop=xe*-1}},Vh=10,_h=xe=>{const Se=f(),Ve=P();typeof xe.willOpen=="function"&&xe.willOpen(Ve);const bi=window.getComputedStyle(document.body).overflowY;ul(Se,Ve,xe),setTimeout(()=>{uc(Se,Ve)},Vh),Re()&&(Gc(Se,xe.scrollbarPadding,bi),ll()),!Le()&&!tn.previousActiveElement&&(tn.previousActiveElement=document.activeElement),typeof xe.didOpen=="function"&&setTimeout(()=>xe.didOpen(Ve)),bt(Se,w["no-transition"])},Oo=xe=>{const Se=P();if(xe.target!==Se)return;const Ve=f();Se.removeEventListener(Nt,Oo),Ve.style.overflowY="auto"},uc=(xe,Se)=>{Nt&&Sn(Se)?(xe.style.overflowY="hidden",Se.addEventListener(Nt,Oo)):xe.style.overflowY="auto"},Gc=(xe,Se,Ve)=>{dl(),Se&&Ve!=="hidden"&&hl(),setTimeout(()=>{xe.scrollTop=0})},ul=(xe,Se,Ve)=>{pt(xe,Ve.showClass.backdrop),Se.style.setProperty("opacity","0","important"),Ht(Se,"grid"),setTimeout(()=>{pt(Se,Ve.showClass.popup),Se.style.removeProperty("opacity")},Vh),pt([document.documentElement,document.body],w.shown),Ve.heightAuto&&Ve.backdrop&&!Ve.toast&&pt([document.documentElement,document.body],w["height-auto"])},bo=xe=>{let Se=P();Se||new bn,Se=P();const Ve=pe();Le()?di(Y()):Er(Se,xe),Ht(Ve),Se.setAttribute("data-loading",!0),Se.setAttribute("aria-busy",!0),Se.focus()},Er=(xe,Se)=>{const Ve=ne(),yt=pe();!Se&&Ei(J())&&(Se=J()),Ht(Ve),Se&&(di(Se),yt.setAttribute("data-button-to-replace",Se.className)),yt.parentNode.insertBefore(yt,Se),pt([xe,Ve],w.loading)},U=(xe,Se)=>{Se.input==="select"||Se.input==="radio"?$e(xe,Se):["text","email","number","tel","textarea"].includes(Se.input)&&(H(Se.inputValue)||L(Se.inputValue))&&(bo(J()),Ke(xe,Se))},le=(xe,Se)=>{const Ve=xe.getInput();if(!Ve)return null;switch(Se.input){case"checkbox":return ve(Ve);case"radio":return Ae(Ve);case"file":return Ue(Ve);default:return Se.inputAutoTrim?Ve.value.trim():Ve.value}},ve=xe=>xe.checked?1:0,Ae=xe=>xe.checked?xe.value:null,Ue=xe=>xe.files.length?xe.getAttribute("multiple")!==null?xe.files:xe.files[0]:null,$e=(xe,Se)=>{const Ve=P(),yt=bi=>Dt[Se.input](Ve,St(bi),Se);H(Se.inputOptions)||L(Se.inputOptions)?(bo(J()),q(Se.inputOptions).then(bi=>{xe.hideLoading(),yt(bi)})):typeof Se.inputOptions=="object"?yt(Se.inputOptions):n("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof Se.inputOptions))},Ke=(xe,Se)=>{const Ve=xe.getInput();di(Ve),q(Se.inputValue).then(yt=>{Ve.value=Se.input==="number"?parseFloat(yt)||0:"".concat(yt),Ht(Ve),Ve.focus(),xe.hideLoading()}).catch(yt=>{n("Error in inputValue promise: ".concat(yt)),Ve.value="",Ht(Ve),Ve.focus(),xe.hideLoading()})},Dt={select:(xe,Se,Ve)=>{const yt=It(xe,w.select),bi=(un,rs,Rr)=>{const vr=document.createElement("option");vr.value=Rr,Qe(vr,rs),vr.selected=Xt(Rr,Ve.inputValue),un.appendChild(vr)};Se.forEach(un=>{const rs=un[0],Rr=un[1];if(Array.isArray(Rr)){const vr=document.createElement("optgroup");vr.label=rs,vr.disabled=!1,yt.appendChild(vr),Rr.forEach(Ga=>bi(vr,Ga[1],Ga[0]))}else bi(yt,Rr,rs)}),yt.focus()},radio:(xe,Se,Ve)=>{const yt=It(xe,w.radio);Se.forEach(un=>{const rs=un[0],Rr=un[1],vr=document.createElement("input"),Ga=document.createElement("label");vr.type="radio",vr.name=w.radio,vr.value=rs,Xt(rs,Ve.inputValue)&&(vr.checked=!0);const Xi=document.createElement("span");Qe(Xi,Rr),Xi.className=w.label,Ga.appendChild(vr),Ga.appendChild(Xi),yt.appendChild(Ga)});const bi=yt.querySelectorAll("input");bi.length&&bi[0].focus()}},St=xe=>{const Se=[];return typeof Map<"u"&&xe instanceof Map?xe.forEach((Ve,yt)=>{let bi=Ve;typeof bi=="object"&&(bi=St(bi)),Se.push([yt,bi])}):Object.keys(xe).forEach(Ve=>{let yt=xe[Ve];typeof yt=="object"&&(yt=St(yt)),Se.push([Ve,yt])}),Se},Xt=(xe,Se)=>Se&&Se.toString()===xe.toString(),hi=xe=>{const Se=Ni.innerParams.get(xe);xe.disableButtons(),Se.input?ai(xe,"confirm"):Ls(xe,!0)},Si=xe=>{const Se=Ni.innerParams.get(xe);xe.disableButtons(),Se.returnInputValueOnDeny?ai(xe,"deny"):On(xe,!1)},ni=(xe,Se)=>{xe.disableButtons(),Se(po.cancel)},ai=(xe,Se)=>{const Ve=Ni.innerParams.get(xe);if(!Ve.input)return n('The "input" parameter is needed to be set when using returnInputValueOn'.concat(c(Se)));const yt=le(xe,Ve);Ve.inputValidator?Gi(xe,yt,Se):xe.getInput().checkValidity()?Se==="deny"?On(xe,yt):Ls(xe,yt):(xe.enableButtons(),xe.showValidationMessage(Ve.validationMessage))},Gi=(xe,Se,Ve)=>{const yt=Ni.innerParams.get(xe);xe.disableInput(),Promise.resolve().then(()=>q(yt.inputValidator(Se,yt.validationMessage))).then(un=>{xe.enableButtons(),xe.enableInput(),un?xe.showValidationMessage(un):Ve==="deny"?On(xe,Se):Ls(xe,Se)})},On=(xe,Se)=>{const Ve=Ni.innerParams.get(xe||void 0);Ve.showLoaderOnDeny&&bo(oe()),Ve.preDeny?(Ni.awaitingPromise.set(xe||void 0,!0),Promise.resolve().then(()=>q(Ve.preDeny(Se,Ve.validationMessage))).then(bi=>{bi===!1?xe.hideLoading():xe.closePopup({isDenied:!0,value:typeof bi>"u"?Se:bi})}).catch(bi=>qs(xe||void 0,bi))):xe.closePopup({isDenied:!0,value:Se})},sn=(xe,Se)=>{xe.closePopup({isConfirmed:!0,value:Se})},qs=(xe,Se)=>{xe.rejectPromise(Se)},Ls=(xe,Se)=>{const Ve=Ni.innerParams.get(xe||void 0);Ve.showLoaderOnConfirm&&bo(),Ve.preConfirm?(xe.resetValidationMessage(),Ni.awaitingPromise.set(xe||void 0,!0),Promise.resolve().then(()=>q(Ve.preConfirm(Se,Ve.validationMessage))).then(bi=>{Ei(Ee())||bi===!1?xe.hideLoading():sn(xe,typeof bi>"u"?Se:bi)}).catch(bi=>qs(xe||void 0,bi))):sn(xe,Se)},Jn=(xe,Se,Ve)=>{Ni.innerParams.get(xe).toast?Qn(xe,Se,Ve):(ts(Se),Os(Se),ha(xe,Se,Ve))},Qn=(xe,Se,Ve)=>{Se.popup.onclick=()=>{const yt=Ni.innerParams.get(xe);yt&&(Ln(yt)||yt.timer||yt.input)||Ve(po.close)}},Ln=xe=>xe.showConfirmButton||xe.showDenyButton||xe.showCancelButton||xe.showCloseButton;let Lr=!1;const ts=xe=>{xe.popup.onmousedown=()=>{xe.container.onmouseup=function(Se){xe.container.onmouseup=void 0,Se.target===xe.container&&(Lr=!0)}}},Os=xe=>{xe.container.onmousedown=()=>{xe.popup.onmouseup=function(Se){xe.popup.onmouseup=void 0,(Se.target===xe.popup||xe.popup.contains(Se.target))&&(Lr=!0)}}},ha=(xe,Se,Ve)=>{Se.container.onclick=yt=>{const bi=Ni.innerParams.get(xe);if(Lr){Lr=!1;return}yt.target===Se.container&&O(bi.allowOutsideClick)&&Ve(po.backdrop)}},pl=()=>Ei(P()),Or=()=>J()&&J().click(),wo=()=>oe()&&oe().click(),Bn=()=>Ce()&&Ce().click(),$r=(xe,Se,Ve,yt)=>{Se.keydownTarget&&Se.keydownHandlerAdded&&(Se.keydownTarget.removeEventListener("keydown",Se.keydownHandler,{capture:Se.keydownListenerCapture}),Se.keydownHandlerAdded=!1),Ve.toast||(Se.keydownHandler=bi=>fl(xe,bi,yt),Se.keydownTarget=Ve.keydownListenerCapture?window:P(),Se.keydownListenerCapture=Ve.keydownListenerCapture,Se.keydownTarget.addEventListener("keydown",Se.keydownHandler,{capture:Se.keydownListenerCapture}),Se.keydownHandlerAdded=!0)},So=(xe,Se,Ve)=>{const yt=we();if(yt.length)return Se=Se+Ve,Se===yt.length?Se=0:Se===-1&&(Se=yt.length-1),yt[Se].focus();P().focus()},lo=["ArrowRight","ArrowDown"],Ro=["ArrowLeft","ArrowUp"],fl=(xe,Se,Ve)=>{const yt=Ni.innerParams.get(xe);yt&&(yt.stopKeydownPropagation&&Se.stopPropagation(),Se.key==="Enter"?Ta(xe,Se,yt):Se.key==="Tab"?Vc(Se,yt):[...lo,...Ro].includes(Se.key)?ws(Se.key):Se.key==="Escape"&&Bo(Se,yt,Ve))},Ta=(xe,Se,Ve)=>{if(!(!O(Ve.allowEnterKey)||Se.isComposing)&&Se.target&&xe.getInput()&&Se.target.outerHTML===xe.getInput().outerHTML){if(["textarea","file"].includes(Ve.input))return;Or(),Se.preventDefault()}},Vc=(xe,Se)=>{const Ve=xe.target,yt=we();let bi=-1;for(let un=0;un<yt.length;un++)if(Ve===yt[un]){bi=un;break}xe.shiftKey?So(Se,bi,-1):So(Se,bi,1),xe.stopPropagation(),xe.preventDefault()},ws=xe=>{const Se=J(),Ve=oe(),yt=Ce();if(![Se,Ve,yt].includes(document.activeElement))return;const bi=lo.includes(xe)?"nextElementSibling":"previousElementSibling",un=document.activeElement[bi];un instanceof HTMLElement&&un.focus()},Bo=(xe,Se,Ve)=>{O(Se.allowEscapeKey)&&(xe.preventDefault(),Ve(po.esc))},pc=xe=>typeof xe=="object"&&xe.jquery,ml=xe=>xe instanceof Element||pc(xe),co=xe=>{const Se={};return typeof xe[0]=="object"&&!ml(xe[0])?Object.assign(Se,xe[0]):["title","html","icon"].forEach((Ve,yt)=>{const bi=xe[yt];typeof bi=="string"||ml(bi)?Se[Ve]=bi:bi!==void 0&&n("Unexpected type of ".concat(Ve,'! Expected "string" or "Element", got ').concat(typeof bi))}),Se};function gl(){const xe=this;for(var Se=arguments.length,Ve=new Array(Se),yt=0;yt<Se;yt++)Ve[yt]=arguments[yt];return new xe(...Ve)}function zl(xe){class Se extends this{_main(yt,bi){return super._main(yt,Object.assign({},xe,bi))}}return Se}const yh=()=>tn.timeout&&tn.timeout.getTimerLeft(),_l=()=>{if(tn.timeout)return kr(),tn.timeout.stop()},yl=()=>{if(tn.timeout){const xe=tn.timeout.start();return Zn(xe),xe}},$h=()=>{const xe=tn.timeout;return xe&&(xe.running?_l():yl())},vl=xe=>{if(tn.timeout){const Se=tn.timeout.increase(xe);return Zn(Se,!0),Se}},vh=()=>tn.timeout&&tn.timeout.isRunning();let Ho=!1;const Wo={};function xl(){let xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Wo[xe]=this,Ho||(document.body.addEventListener("click",$c),Ho=!0)}const $c=xe=>{for(let Se=xe.target;Se&&Se!==document;Se=Se.parentNode)for(const Ve in Wo){const yt=Se.getAttribute(Ve);if(yt){Wo[Ve].fire({template:yt});return}}};var Fl=Object.freeze({isValidParameter:k,isUpdatableParameter:V,isDeprecatedParameter:G,argsToParams:co,isVisible:pl,clickConfirm:Or,clickDeny:wo,clickCancel:Bn,getContainer:f,getPopup:P,getTitle:ee,getHtmlContainer:K,getImage:he,getIcon:Y,getInputLabel:ce,getCloseButton:ae,getActions:ne,getConfirmButton:J,getDenyButton:oe,getCancelButton:Ce,getLoader:pe,getFooter:ye,getTimerProgressBar:_e,getFocusableElements:we,getValidationMessage:Ee,isLoading:Ge,fire:gl,mixin:zl,showLoading:bo,enableLoading:bo,getTimerLeft:yh,stopTimer:_l,resumeTimer:yl,toggleTimer:$h,increaseTimer:vl,isTimerRunning:vh,bindClickHandler:xl});function To(){const xe=Ni.innerParams.get(this);if(!xe)return;const Se=Ni.domCache.get(this);di(Se.loader),Le()?xe.icon&&Ht(Y()):Hr(Se),bt([Se.popup,Se.actions],w.loading),Se.popup.removeAttribute("aria-busy"),Se.popup.removeAttribute("data-loading"),Se.confirmButton.disabled=!1,Se.denyButton.disabled=!1,Se.cancelButton.disabled=!1}const Hr=xe=>{const Se=xe.popup.getElementsByClassName(xe.loader.getAttribute("data-button-to-replace"));Se.length?Ht(Se[0],"inline-block"):Di()&&di(xe.actions)};function ja(xe){const Se=Ni.innerParams.get(xe||this),Ve=Ni.domCache.get(xe||this);return Ve?ze(Ve.popup,Se.input):null}var bl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Nl(xe,Se,Ve,yt){Le()?mo(xe,yt):(Ol(Ve).then(()=>mo(xe,yt)),tn.keydownTarget.removeEventListener("keydown",tn.keydownHandler,{capture:tn.keydownListenerCapture}),tn.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(Se.setAttribute("style","display:none !important"),Se.removeAttribute("class"),Se.innerHTML=""):Se.remove(),Re()&&(Nc(),Uc(),Io()),Ed()}function Ed(){bt([document.documentElement,document.body],[w.shown,w["height-auto"],w["no-backdrop"],w["toast-shown"]])}function ss(xe){xe=Hh(xe);const Se=bl.swalPromiseResolve.get(this),Ve=Wr(this);this.isAwaitingPromise()?xe.isDismissed||(Ua(this),Se(xe)):Ve&&Se(xe)}function fo(){return!!Ni.awaitingPromise.get(this)}const Wr=xe=>{const Se=P();if(!Se)return!1;const Ve=Ni.innerParams.get(xe);if(!Ve||qe(Se,Ve.hideClass.popup))return!1;bt(Se,Ve.showClass.popup),pt(Se,Ve.hideClass.popup);const yt=f();return bt(yt,Ve.showClass.backdrop),pt(yt,Ve.hideClass.backdrop),Wh(xe,Se,Ve),!0};function Eo(xe){const Se=bl.swalPromiseReject.get(this);Ua(this),Se&&Se(xe)}const Ua=xe=>{xe.isAwaitingPromise()&&(Ni.awaitingPromise.delete(xe),Ni.innerParams.get(xe)||xe._destroy())},Hh=xe=>typeof xe>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},xe),Wh=(xe,Se,Ve)=>{const yt=f(),bi=Nt&&Sn(Se);typeof Ve.willClose=="function"&&Ve.willClose(Se),bi?Yh(xe,Se,yt,Ve.returnFocus,Ve.didClose):Nl(xe,yt,Ve.returnFocus,Ve.didClose)},Yh=(xe,Se,Ve,yt,bi)=>{tn.swalCloseEventFinishedCallback=Nl.bind(null,xe,Ve,yt,bi),Se.addEventListener(Nt,function(un){un.target===Se&&(tn.swalCloseEventFinishedCallback(),delete tn.swalCloseEventFinishedCallback)})},mo=(xe,Se)=>{setTimeout(()=>{typeof Se=="function"&&Se.bind(xe.params)(),xe._destroy()})};function jt(xe,Se,Ve){const yt=Ni.domCache.get(xe);Se.forEach(bi=>{yt[bi].disabled=Ve})}function gi(xe,Se){if(!xe)return!1;if(xe.type==="radio"){const yt=xe.parentNode.parentNode.querySelectorAll("input");for(let bi=0;bi<yt.length;bi++)yt[bi].disabled=Se}else xe.disabled=Se}function li(){jt(this,["confirmButton","denyButton","cancelButton"],!1)}function rn(){jt(this,["confirmButton","denyButton","cancelButton"],!0)}function zn(){return gi(this.getInput(),!1)}function _s(){return gi(this.getInput(),!0)}function yr(xe){const Se=Ni.domCache.get(this),Ve=Ni.innerParams.get(this);Qe(Se.validationMessage,xe),Se.validationMessage.className=w["validation-message"],Ve.customClass&&Ve.customClass.validationMessage&&pt(Se.validationMessage,Ve.customClass.validationMessage),Ht(Se.validationMessage);const yt=this.getInput();yt&&(yt.setAttribute("aria-invalid",!0),yt.setAttribute("aria-describedby",w["validation-message"]),Xe(yt),pt(yt,w.inputerror))}function Ss(){const xe=Ni.domCache.get(this);xe.validationMessage&&di(xe.validationMessage);const Se=this.getInput();Se&&(Se.removeAttribute("aria-invalid"),Se.removeAttribute("aria-describedby"),bt(Se,w.inputerror))}function jl(){return Ni.domCache.get(this).progressSteps}function Hc(xe){const Se=P(),Ve=Ni.innerParams.get(this);if(!Se||qe(Se,Ve.hideClass.popup))return m("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const yt=go(xe),bi=Object.assign({},Ve,yt);jr(this,bi),Ni.innerParams.set(this,bi),Object.defineProperties(this,{params:{value:Object.assign({},this.params,xe),writable:!1,enumerable:!0}})}const go=xe=>{const Se={};return Object.keys(xe).forEach(Ve=>{V(Ve)?Se[Ve]=xe[Ve]:m('Invalid parameter to update: "'.concat(Ve,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))}),Se};function st(){const xe=Ni.domCache.get(this),Se=Ni.innerParams.get(this);if(!Se){Bt(this);return}xe.popup&&tn.swalCloseEventFinishedCallback&&(tn.swalCloseEventFinishedCallback(),delete tn.swalCloseEventFinishedCallback),tn.deferDisposalTimer&&(clearTimeout(tn.deferDisposalTimer),delete tn.deferDisposalTimer),typeof Se.didDestroy=="function"&&Se.didDestroy(),Et(this)}const Et=xe=>{Bt(xe),delete xe.params,delete tn.keydownHandler,delete tn.keydownTarget,delete tn.currentInstance},Bt=xe=>{xe.isAwaitingPromise()?(_i(Ni,xe),Ni.awaitingPromise.set(xe,!0)):(_i(bl,xe),_i(Ni,xe))},_i=(xe,Se)=>{for(const Ve in xe)xe[Ve].delete(Se)};var Ut=Object.freeze({hideLoading:To,disableLoading:To,getInput:ja,close:ss,isAwaitingPromise:fo,rejectPromise:Eo,closePopup:ss,closeModal:ss,closeToast:ss,enableButtons:li,disableButtons:rn,enableInput:zn,disableInput:_s,showValidationMessage:yr,resetValidationMessage:Ss,getProgressSteps:jl,update:Hc,_destroy:st});let ri;class Mi{constructor(){if(typeof window>"u")return;ri=this;for(var Se=arguments.length,Ve=new Array(Se),yt=0;yt<Se;yt++)Ve[yt]=arguments[yt];const bi=Object.freeze(this.constructor.argsToParams(Ve));Object.defineProperties(this,{params:{value:bi,writable:!1,enumerable:!0,configurable:!0}});const un=this._main(this.params);Ni.promise.set(this,un)}_main(Se){let Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};N(Object.assign({},Ve,Se)),tn.currentInstance&&(tn.currentInstance._destroy(),Re()&&Io()),tn.currentInstance=this;const yt=Ii(Se,Ve);Fc(yt),Object.freeze(yt),tn.timeout&&(tn.timeout.stop(),delete tn.timeout),clearTimeout(tn.restoreFocusTimeout);const bi=Tn(this);return jr(this,yt),Ni.innerParams.set(this,yt),qi(this,bi,yt)}then(Se){return Ni.promise.get(this).then(Se)}finally(Se){return Ni.promise.get(this).finally(Se)}}const qi=(xe,Se,Ve)=>new Promise((yt,bi)=>{const un=rs=>{xe.closePopup({isDismissed:!0,dismiss:rs})};bl.swalPromiseResolve.set(xe,yt),bl.swalPromiseReject.set(xe,bi),Se.confirmButton.onclick=()=>hi(xe),Se.denyButton.onclick=()=>Si(xe),Se.cancelButton.onclick=()=>ni(xe,un),Se.closeButton.onclick=()=>un(po.close),Jn(xe,Se,un),$r(xe,tn,Ve,un),U(xe,Ve),_h(Ve),An(tn,Ve,un),Pn(Se,Ve),setTimeout(()=>{Se.container.scrollTop=0})}),Ii=(xe,Se)=>{const Ve=za(xe),yt=Object.assign({},R,Se,Ve,xe);return yt.showClass=Object.assign({},R.showClass,yt.showClass),yt.hideClass=Object.assign({},R.hideClass,yt.hideClass),yt},Tn=xe=>{const Se={popup:P(),container:f(),actions:ne(),confirmButton:J(),denyButton:oe(),cancelButton:Ce(),loader:pe(),closeButton:ae(),validationMessage:Ee(),progressSteps:ge()};return Ni.domCache.set(xe,Se),Se},An=(xe,Se,Ve)=>{const yt=_e();di(yt),Se.timer&&(xe.timeout=new Tr(()=>{Ve("timer"),delete xe.timeout},Se.timer),Se.timerProgressBar&&(Ht(yt),Oe(yt,Se,"timerProgressBar"),setTimeout(()=>{xe.timeout&&xe.timeout.running&&Zn(Se.timer)})))},Pn=(xe,Se)=>{if(!Se.toast){if(!O(Se.allowEnterKey))return ls();Gn(xe,Se)||So(Se,-1,1)}},Gn=(xe,Se)=>Se.focusDeny&&Ei(xe.denyButton)?(xe.denyButton.focus(),!0):Se.focusCancel&&Ei(xe.cancelButton)?(xe.cancelButton.focus(),!0):Se.focusConfirm&&Ei(xe.confirmButton)?(xe.confirmButton.focus(),!0):!1,ls=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Object.assign(Mi.prototype,Ut),Object.assign(Mi,Fl),Object.keys(Ut).forEach(xe=>{Mi[xe]=function(){if(ri)return ri[xe](...arguments)}}),Mi.DismissReason=po,Mi.version="11.4.0";const bn=Mi;return bn.default=bn,bn}),typeof ip<"u"&&ip.Sweetalert2&&(ip.swal=ip.sweetAlert=ip.Swal=ip.SweetAlert=ip.Sweetalert2)})(C8);var Wy=C8.exports;class L7{static install(t,s={}){var a;const c=Wy.mixin(s),d=function(...m){return c.fire.call(c,...m)};Object.assign(d,Wy),Object.keys(Wy).filter(m=>typeof Wy[m]=="function").forEach(m=>{d[m]=c[m].bind(c)}),(a=t.config)!=null&&a.globalProperties&&!t.config.globalProperties.$swal?(t.config.globalProperties.$swal=d,t.provide("$swal",d)):Object.prototype.hasOwnProperty.call(t,"$swal")||(t.prototype.$swal=d,t.swal=d)}}var M8={exports:{}};const A8=L5(II);(function(e){e.exports=function(t){var s={};function a(c){if(s[c])return s[c].exports;var d=s[c]={i:c,l:!1,exports:{}};return t[c].call(d.exports,d,d.exports,a),d.l=!0,d.exports}return a.m=t,a.c=s,a.d=function(c,d,m){a.o(c,d)||Object.defineProperty(c,d,{enumerable:!0,get:m})},a.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},a.t=function(c,d){if(d&1&&(c=a(c)),d&8||d&4&&typeof c=="object"&&c&&c.__esModule)return c;var m=Object.create(null);if(a.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:c}),d&2&&typeof c!="string")for(var n in c)a.d(m,n,(function(S){return c[S]}).bind(null,n));return m},a.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return a.d(d,"a",d),d},a.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)},a.p="",a(a.s="fb15")}({"6b0d":function(t,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=(c,d)=>{for(const[m,n]of d)c[m]=n;return c}},"7e79":function(t,s,a){},8875:function(t,s,a){var c,d,m;(function(n,S){d=[],c=S,m=typeof c=="function"?c.apply(s,d):c,m!==void 0&&(t.exports=m)})(typeof self<"u"?self:this,function(){function n(){var S=Object.getOwnPropertyDescriptor(document,"currentScript");if(!S&&"currentScript"in document&&document.currentScript||S&&S.get!==n&&document.currentScript)return document.currentScript;try{throw new Error}catch(V){var z=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,Z=/@([^@]*):(\d+):(\d+)\s*$/ig,O=z.exec(V.stack)||Z.exec(V.stack),H=O&&O[1]||!1,q=O&&O[2]||!1,L=document.location.href.replace(document.location.hash,""),R,$,M,E=document.getElementsByTagName("script");H===L&&(R=document.documentElement.outerHTML,$=new RegExp("(?:[^\\n]+?\\n){0,"+(q-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),M=R.replace($,"$1").trim());for(var k=0;k<E.length;k++)if(E[k].readyState==="interactive"||E[k].src===H||H===L&&E[k].innerHTML&&E[k].innerHTML.trim()===M)return E[k];return null}}return n})},"8bbf":function(t,s){t.exports=A8},fb15:function(t,s,a){if(a.r(s),typeof window<"u"){var c=window.document.currentScript;{var d=a("8875");c=d(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:d})}var m=c&&c.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);m&&(a.p=m[1])}var n=a("8bbf"),S=["title"];function z(ce,pe,Ce,ne,ye,_e){var ae=Object(n.resolveComponent)("donut-sections");return Object(n.openBlock)(),Object(n.createElementBlock)("div",{class:"cdc-container",style:Object(n.normalizeStyle)(_e.placementStyles.container)},[Object(n.createElementVNode)("div",{class:"cdc",ref:"donut",style:Object(n.normalizeStyle)(_e.donutStyles)},[Object(n.createVNode)(ae,Object(n.mergeProps)(Object(n.toHandlers)(_e.sectionListeners),{sections:_e.donutSections,"start-angle":Ce.startAngle}),null,16,["sections","start-angle"]),Object(n.createElementVNode)("div",{class:"cdc-overlay",style:Object(n.normalizeStyle)(_e.overlayStyles)},[Object(n.createElementVNode)("div",{class:"cdc-text",style:Object(n.normalizeStyle)(_e.donutTextStyles)},[Object(n.renderSlot)(ce.$slots,"default",{},function(){return[Object(n.createTextVNode)(Object(n.toDisplayString)(Ce.text),1)]})],4)],4)],4),Object(n.renderSlot)(ce.$slots,"legend",{},function(){return[Ce.hasLegend?(Object(n.openBlock)(),Object(n.createElementBlock)("div",{key:0,class:"cdc-legend",style:Object(n.normalizeStyle)(_e.placementStyles.legend)},[(Object(n.openBlock)(!0),Object(n.createElementBlock)(n.Fragment,null,Object(n.renderList)(_e.legend,function(me,we){return Object(n.openBlock)(),Object(n.createElementBlock)("span",{class:"cdc-legend-item",key:we,title:me.percent},[Object(n.createElementVNode)("span",{class:"cdc-legend-item-color",style:Object(n.normalizeStyle)(me.styles)},null,4),Object(n.createElementVNode)("span",null,Object(n.toDisplayString)(me.label),1)],8,S)}),128))],4)):Object(n.createCommentVNode)("",!0)]})],4)}var Z=["click","mouseenter","mouseleave","mouseover","mouseout","mousemove"].map(function(ce){return{nativeEventName:ce,sectionEventName:"section-".concat(ce)}}),O=["#FF6384","#36A2EB","#FFCE56","#F58231","#46F0F0","#D2F53C","#911EB4","#F032E6","#3CB44B","#FFE119","#E6194B","#FABEBE","#008080","#E6BEFF","#0082C8","#AA6E28","#FFFAC8","#800000","#AAFFC3","#808000","#FFD8B1","#000080","#808080","#000000"],H=O,q;function L(ce){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(Ce){return typeof Ce}:L=function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},L(ce)}function R(ce,pe,Ce){return pe in ce?Object.defineProperty(ce,pe,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):ce[pe]=Ce,ce}var $="1em",M="dodgerblue",E={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},k=(q={},R(q,E.TOP,{container:{flexDirection:"column"},legend:{order:-1,margin:0,marginBottom:$}}),R(q,E.RIGHT,{container:{},legend:{flexDirection:"column",margin:0,marginLeft:$}}),R(q,E.BOTTOM,{container:{flexDirection:"column"},legend:{}}),R(q,E.LEFT,{container:{},legend:{flexDirection:"column",order:-1,margin:0,marginRight:$}}),q),V=function(pe){return!!pe&&pe.constructor===Object},G=[{type:"number",key:"value",required:!0},{key:"label"},{key:"color"}];function C(ce){return V(ce)?G.reduce(function(pe,Ce){if(!pe)return!1;var ne=!0;return Ce.required&&(ne=ne&&Object.hasOwnProperty.call(ce,Ce.key)),Ce.type&&(ne=ne&&L(ce[Ce.key])===Ce.type),pe&&ne},!0):!1}var te=["title"];function Q(ce,pe,Ce,ne,ye,_e){return Object(n.openBlock)(),Object(n.createElementBlock)("div",{class:"cdc-sections",style:Object(n.normalizeStyle)(_e.containerStyles)},[(Object(n.openBlock)(!0),Object(n.createElementBlock)(n.Fragment,null,Object(n.renderList)(_e.donutSections,function(ae,me){return Object(n.openBlock)(),Object(n.createElementBlock)("div",Object(n.mergeProps)(Object(n.toHandlers)(ae.listeners),{key:me,class:["cdc-section",ae.className],style:ae.sectionStyles}),[Object(n.createElementVNode)("div",{class:"cdc-filler",style:Object(n.normalizeStyle)(ae.fillerStyles),title:ae.label},null,12,te)],16)}),128))],4)}function N(ce,pe){var Ce=Object.keys(ce);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(ce);pe&&(ne=ne.filter(function(ye){return Object.getOwnPropertyDescriptor(ce,ye).enumerable})),Ce.push.apply(Ce,ne)}return Ce}function j(ce){for(var pe=1;pe<arguments.length;pe++){var Ce=arguments[pe]!=null?arguments[pe]:{};pe%2?N(Object(Ce),!0).forEach(function(ne){W(ce,ne,Ce[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(Ce)):N(Object(Ce)).forEach(function(ne){Object.defineProperty(ce,ne,Object.getOwnPropertyDescriptor(Ce,ne))})}return ce}function W(ce,pe,Ce){return pe in ce?Object.defineProperty(ce,pe,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):ce[pe]=Ce,ce}var w={LEFT:"cdc-section-left",RIGHT:"cdc-section-right"},D={props:{startAngle:{type:Number,default:0},sections:{type:Array,default:function(){return[]}}},emits:Z.map(function(ce){return ce.sectionEventName}),computed:{containerStyles:function(){return{transform:"rotate(".concat(this.startAngle,"deg)")}},donutSections:function(){var pe=this,Ce=180,ne=0,ye=0,_e=this.sections.map(function(ae){var me=[w.RIGHT,-180],we=me[0],Re=me[1];if(ne>=Ce){var Le=[w.LEFT,180];we=Le[0],Re=Le[1]}var Ge=Re+ae.degree,rt={backgroundColor:ae.color||M,transform:"rotate(".concat(Ge,"deg)")},Qe={transform:"rotate(".concat(ye,"deg)")};ne+=ae.degree,ne===180?ye=0:ye+=ae.degree;var qe=Z.reduce(function(Te,Oe){var ze=Oe.nativeEventName,Xe=Oe.sectionEventName;return j(j({},Te),{},W({},ze,function(Je){return pe.emitEvent(Xe,ae,Je)}))},{});return{label:ae.label,className:we,fillerStyles:rt,sectionStyles:Qe,listeners:qe}});return _e}},methods:{emitEvent:function(pe,Ce,ne){Ce.value!==0&&this.$emit(pe,Ce.$section,ne)}}},f=a("6b0d"),g=a.n(f),P=g()(D,[["render",Q]]);a("7e79");function Y(ce,pe){var Ce=Object.keys(ce);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(ce);pe&&(ne=ne.filter(function(ye){return Object.getOwnPropertyDescriptor(ce,ye).enumerable})),Ce.push.apply(Ce,ne)}return Ce}function ee(ce){for(var pe=1;pe<arguments.length;pe++){var Ce=arguments[pe]!=null?arguments[pe]:{};pe%2?Y(Object(Ce),!0).forEach(function(ne){K(ce,ne,Ce[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(Ce)):Y(Object(Ce)).forEach(function(ne){Object.defineProperty(ce,ne,Object.getOwnPropertyDescriptor(Ce,ne))})}return ce}function K(ce,pe,Ce){return pe in ce?Object.defineProperty(ce,pe,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):ce[pe]=Ce,ce}var he={name:"vc-donut",props:{size:{type:Number,default:250,validator:function(pe){return pe>0}},unit:{type:String,default:"px"},thickness:{type:Number,default:20,validator:function(pe){return pe>=0&&pe<=100}},text:{type:String,default:null},autoAdjustTextSize:{type:Boolean,default:!0},background:{type:String,default:"#ffffff"},foreground:{type:String,default:"#eeeeee"},sections:{type:Array,default:function(){return[]},validator:function(pe){for(var Ce=0;Ce<pe.length;++Ce)if(!C(pe[Ce]))return!1;return!0}},total:{type:Number,default:100,validator:function(pe){return pe>0}},hasLegend:{type:Boolean,default:!1},legendPlacement:{type:String,default:E.BOTTOM,validator:function(pe){return!!E[pe.toUpperCase()]}},startAngle:{type:Number,default:0}},emits:Z.map(function(ce){return ce.sectionEventName}),watch:{autoAdjustTextSize:function(pe){pe?window.addEventListener("resize",this.resizeListener):window.removeEventListener("resize",this.resizeListener),this.recalcFontSize()},size:function(){this.recalcFontSize()},unit:function(){this.recalcFontSize()}},data:function(){return{donutEl:null,fontSize:"1em",resizeListener:null}},computed:{donutSections:function(){var pe=this,Ce=this.sections.reduce(function(Re,Le){return Re+Le.value},0);if(typeof Ce!="number")return[];if(Ce=Number(Ce.toFixed(2)),Ce>this.total){var ne="Sum of all the sections' values (".concat(Ce,") should not exceed `total` (").concat(this.total,")");throw new Error(ne)}var ye=360,_e=180,ae=0,me=0,we=[];return this.sections.forEach(function(Re){var Le=ye*(Re.value/pe.total),Ge=[Le];Le>_e&&(Ge=[_e,Le-_e]);var rt=Re.color||H[me++];Ge.forEach(function(Qe){var qe=Number((ae+Qe).toFixed(2));if(qe>_e){var Te=_e-ae;we.push(ee(ee({},Re),{},{degree:Te,color:rt,$section:Re}),ee(ee({},Re),{},{degree:Qe-Te,color:rt,$section:Re}))}else we.push(ee(ee({},Re),{},{degree:Qe,color:rt,$section:Re}));ae+=Qe,ae>=_e&&(ae-=_e)})}),we},legend:function(){var pe=this;if(!this.hasLegend)return null;var Ce=0;return this.sections.map(function(ne,ye){return{label:ne.label||"Section ".concat(ye+1),percent:"".concat(ne.value," (").concat(ne.value/pe.total*100,"%)"),styles:{backgroundColor:ne.color||H[Ce++]}}})},placementStyles:function(){return this.hasLegend?k[this.legendPlacement]:{}},donutStyles:function(){var pe="".concat(this.size).concat(this.unit),Ce={width:pe,paddingBottom:pe,backgroundColor:this.foreground};return Ce},overlayStyles:function(){var pe=100,Ce=pe-this.thickness,ne="".concat(Ce,"%"),ye="calc(50% - ".concat(Ce/2,"%)");return{height:ne,width:ne,top:ye,left:ye,backgroundColor:this.background}},donutTextStyles:function(){var pe=this.fontSize;return{fontSize:pe}},sectionListeners:function(){var pe=this;return Z.reduce(function(Ce,ne){var ye=ne.sectionEventName;return ee(ee({},Ce),{},K({},ye,function(){for(var _e=arguments.length,ae=new Array(_e),me=0;me<_e;me++)ae[me]=arguments[me];return pe.emitSectionEvent.apply(pe,[ye].concat(ae))}))},{})}},methods:{recalcFontSize:function(){var pe=this;if(!this.autoAdjustTextSize){this.fontSize="1em";return}var Ce=.08,ne=this.size;this.$nextTick(function(){pe.unit!=="px"&&(pe.donutEl?ne=pe.donutEl.clientWidth:ne=null),pe.fontSize=ne?"".concat((ne*Ce).toFixed(2),"px"):"1em"})},emitSectionEvent:function(pe){for(var Ce=arguments.length,ne=new Array(Ce>1?Ce-1:0),ye=1;ye<Ce;ye++)ne[ye-1]=arguments[ye];this.$emit.apply(this,[pe].concat(ne))}},created:function(){this.resizeListener=this.recalcFontSize.bind(this)},mounted:function(){this.donutEl=this.$refs.donut,this.autoAdjustTextSize&&(this.recalcFontSize(),window.addEventListener("resize",this.resizeListener))},beforeUnmount:function(){window.removeEventListener("resize",this.resizeListener)},components:{DonutSections:P}},Ee=g()(he,[["render",z]]),J={install:function(pe){pe.component(Ee.name,Ee)}},oe=J;s.default=oe}})})(M8);var O7=M8.exports;const R7=uh(O7);var k8={exports:{}};(function(e,t){(function(s,a){e.exports=a()})(ta,function(){var s,a,c;function d(n,S){if(!s)s=S;else if(!a)a=S;else{var z="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+s+")(sharedChunk); ("+a+")(sharedChunk); self.onerror = null;",Z={};s(Z),c=S(Z),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(c.workerUrl=window.URL.createObjectURL(new Blob([z],{type:"text/javascript"})))}}d(["exports"],function(n){var S=typeof self<"u"?self:{},z="2.12.0";let Z;const O={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(Z==null){const r=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{Z={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):r}catch{Z=r}}return Z},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},H={supported:!1,testSupport:function(r){!R&&L&&($?M(r):q=r)}};let q,L,R=!1,$=!1;function M(r){const i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i);try{if(r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,L),r.isContextLost())return;H.supported=!0}catch{}r.deleteTexture(i),R=!0}S.document&&(L=S.document.createElement("img"),L.onload=function(){q&&M(q),q=null,$=!0},L.onerror=function(){R=!0,q=null},L.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const E="01";var k=V;function V(r,i,o,h){this.cx=3*r,this.bx=3*(o-r)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(h-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=r,this.p1y=i,this.p2x=o,this.p2y=h}V.prototype={sampleCurveX:function(r){return((this.ax*r+this.bx)*r+this.cx)*r},sampleCurveY:function(r){return((this.ay*r+this.by)*r+this.cy)*r},sampleCurveDerivativeX:function(r){return(3*this.ax*r+2*this.bx)*r+this.cx},solveCurveX:function(r,i){if(i===void 0&&(i=1e-6),r<0)return 0;if(r>1)return 1;for(var o=r,h=0;h<8;h++){var p=this.sampleCurveX(o)-r;if(Math.abs(p)<i)return o;var v=this.sampleCurveDerivativeX(o);if(Math.abs(v)<1e-6)break;o-=p/v}var T=0,B=1;for(o=r,h=0;h<20&&(p=this.sampleCurveX(o),!(Math.abs(p-r)<i));h++)r>p?T=o:B=o,o=.5*(B-T)+T;return o},solve:function(r,i){return this.sampleCurveY(this.solveCurveX(r,i))}};var G=C;function C(r,i){this.x=r,this.y=i}C.prototype={clone:function(){return new C(this.x,this.y)},add:function(r){return this.clone()._add(r)},sub:function(r){return this.clone()._sub(r)},multByPoint:function(r){return this.clone()._multByPoint(r)},divByPoint:function(r){return this.clone()._divByPoint(r)},mult:function(r){return this.clone()._mult(r)},div:function(r){return this.clone()._div(r)},rotate:function(r){return this.clone()._rotate(r)},rotateAround:function(r,i){return this.clone()._rotateAround(r,i)},matMult:function(r){return this.clone()._matMult(r)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(r){return this.x===r.x&&this.y===r.y},dist:function(r){return Math.sqrt(this.distSqr(r))},distSqr:function(r){var i=r.x-this.x,o=r.y-this.y;return i*i+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(r){return Math.atan2(this.y-r.y,this.x-r.x)},angleWith:function(r){return this.angleWithSep(r.x,r.y)},angleWithSep:function(r,i){return Math.atan2(this.x*i-this.y*r,this.x*r+this.y*i)},_matMult:function(r){var i=r[2]*this.x+r[3]*this.y;return this.x=r[0]*this.x+r[1]*this.y,this.y=i,this},_add:function(r){return this.x+=r.x,this.y+=r.y,this},_sub:function(r){return this.x-=r.x,this.y-=r.y,this},_mult:function(r){return this.x*=r,this.y*=r,this},_div:function(r){return this.x/=r,this.y/=r,this},_multByPoint:function(r){return this.x*=r.x,this.y*=r.y,this},_divByPoint:function(r){return this.x/=r.x,this.y/=r.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var r=this.y;return this.y=this.x,this.x=-r,this},_rotate:function(r){var i=Math.cos(r),o=Math.sin(r),h=o*this.x+i*this.y;return this.x=i*this.x-o*this.y,this.y=h,this},_rotateAround:function(r,i){var o=Math.cos(r),h=Math.sin(r),p=i.y+h*(this.x-i.x)+o*(this.y-i.y);return this.x=i.x+o*(this.x-i.x)-h*(this.y-i.y),this.y=p,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},C.convert=function(r){return r instanceof C?r:Array.isArray(r)?new C(r[0],r[1]):r};const te=Math.PI/180,Q=180/Math.PI;function N(r){return r*te}function j(r){return r*Q}const W=[[0,0],[1,0],[1,1],[0,1]];function w(r){if(r<=0)return 0;if(r>=1)return 1;const i=r*r,o=i*r;return 4*(r<.5?o:3*(r-i)+o-.75)}function D(r,i,o,h){const p=new k(r,i,o,h);return function(v){return p.solve(v)}}const f=D(.25,.1,.25,1);function g(r,i,o){return Math.min(o,Math.max(i,r))}function x(r,i,o){return(o=g((o-r)/(i-r),0,1))*o*(3-2*o)}function P(r,i,o){const h=o-i,p=((r-i)%h+h)%h+i;return p===i?o:p}function Y(r,i,o){if(!r.length)return o(null,[]);let h=r.length;const p=new Array(r.length);let v=null;r.forEach((T,B)=>{i(T,(X,ie)=>{X&&(v=X),p[B]=ie,--h==0&&o(v,p)})})}function ee(r){const i=[];for(const o in r)i.push(r[o]);return i}function K(r,...i){for(const o of i)for(const h in o)r[h]=o[h];return r}let he=1;function ge(){return he++}function Ee(){return function r(i){return i?(i^Math.random()*(16>>i/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,r)}()}function J(r){return r<=1?1:Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function oe(r){return!!r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(r)}function ce(r,i){r.forEach(o=>{i[o]&&(i[o]=i[o].bind(i))})}function pe(r,i){return r.indexOf(i,r.length-i.length)!==-1}function Ce(r,i,o){const h={};for(const p in r)h[p]=i.call(o||this,r[p],p,r);return h}function ne(r,i,o){const h={};for(const p in r)i.call(o||this,r[p],p,r)&&(h[p]=r[p]);return h}function ye(r){return Array.isArray(r)?r.map(ye):typeof r=="object"&&r?Ce(r,ye):r}const _e={};function ae(r){_e[r]||(typeof console<"u"&&console.warn(r),_e[r]=!0)}function me(r,i,o){return(o.y-r.y)*(i.x-r.x)>(i.y-r.y)*(o.x-r.x)}function we(r){let i=0;for(let o,h,p=0,v=r.length,T=v-1;p<v;T=p++)o=r[p],h=r[T],i+=(h.x-o.x)*(o.y+h.y);return i}function Re(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Le(r){const i={};if(r.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(o,h,p,v)=>{const T=p||v;return i[h]=!T||T.toLowerCase(),""}),i["max-age"]){const o=parseInt(i["max-age"],10);isNaN(o)?delete i["max-age"]:i["max-age"]=o}return i}let Ge=null;function rt(r){if(Ge==null){const i=r.navigator?r.navigator.userAgent:null;Ge=!!r.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return Ge}function Qe(r){try{const i=S[r];return i.setItem("_mapbox_test_",1),i.removeItem("_mapbox_test_"),!0}catch{return!1}}function qe(r,i){return[r[4*i],r[4*i+1],r[4*i+2],r[4*i+3]]}const Te="mapbox-tiles";let Oe,ze,Xe=500,Je=50;function pt(){try{return S.caches}catch{}}function bt(){pt()&&!Oe&&(Oe=S.caches.open(Te))}function It(r){const i=r.indexOf("?");if(i<0)return r;const o=function(p){const v=p.indexOf("?");return v>0?p.slice(v+1).split("&"):[]}(r),h=o.filter(p=>{const v=p.split("=");return v[0]==="language"||v[0]==="worldview"});return h.length?`${r.slice(0,i)}?${h.join("&")}`:r.slice(0,i)}let ui=1/0;const Ht={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Ht);class di extends Error{constructor(i,o,h){o===401&&tn(h)&&(i+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(i),this.status=o,this.url=h}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Ui=Re()?()=>self.worker&&self.worker.referrer:()=>(S.location.protocol==="blob:"?S.parent:S).location.href,zi=function(r,i){if(!(/^file:/.test(o=r.url)||/^file:/.test(Ui())&&!/^\w+:/.test(o))){if(S.fetch&&S.Request&&S.AbortController&&S.Request.prototype.hasOwnProperty("signal"))return function(h,p){const v=new S.AbortController,T=new S.Request(h.url,{method:h.method||"GET",body:h.body,credentials:h.credentials,headers:h.headers,referrer:Ui(),signal:v.signal});let B=!1,X=!1;const ie=(ue=T.url).indexOf("sku=")>0&&tn(ue);var ue;h.type==="json"&&T.headers.set("Accept","application/json");const be=(Ie,Be,He)=>{if(X)return;if(Ie&&Ie.message!=="SecurityError"&&ae(Ie),Be&&He)return Me(Be);const tt=Date.now();S.fetch(T).then(gt=>{if(gt.ok){const Ct=ie?gt.clone():null;return Me(gt,Ct,tt)}return p(new di(gt.statusText,gt.status,h.url))}).catch(gt=>{gt.code!==20&&p(new Error(gt.message))})},Me=(Ie,Be,He)=>{(h.type==="arrayBuffer"?Ie.arrayBuffer():h.type==="json"?Ie.json():Ie.text()).then(tt=>{X||(Be&&He&&function(gt,Ct,mt){if(bt(),!Oe)return;const xt={status:Ct.status,statusText:Ct.statusText,headers:new S.Headers};Ct.headers.forEach((Jt,Kt)=>xt.headers.set(Kt,Jt));const kt=Le(Ct.headers.get("Cache-Control")||"");if(kt["no-store"])return;kt["max-age"]&&xt.headers.set("Expires",new Date(mt+1e3*kt["max-age"]).toUTCString());const Mt=xt.headers.get("Expires");Mt&&(new Date(Mt).getTime()-mt<42e4||function(Jt,Kt){if(ze===void 0)try{new Response(new ReadableStream),ze=!0}catch{ze=!1}ze?Kt(Jt.body):Jt.blob().then(Kt)}(Ct,Jt=>{const Kt=new S.Response(Jt,xt);bt(),Oe&&Oe.then(fi=>fi.put(It(gt.url),Kt)).catch(fi=>ae(fi.message))}))}(T,Be,He),B=!0,p(null,tt,Ie.headers.get("Cache-Control"),Ie.headers.get("Expires")))}).catch(tt=>{X||p(new Error(tt.message))})};return ie?function(Ie,Be){if(bt(),!Oe)return Be(null);const He=It(Ie.url);Oe.then(tt=>{tt.match(He).then(gt=>{const Ct=function(mt){if(!mt)return!1;const xt=new Date(mt.headers.get("Expires")||0),kt=Le(mt.headers.get("Cache-Control")||"");return xt>Date.now()&&!kt["no-cache"]}(gt);tt.delete(He),Ct&&tt.put(He,gt.clone()),Be(null,gt,Ct)}).catch(Be)}).catch(Be)}(T,be):be(null,null),{cancel:()=>{X=!0,B||v.abort()}}}(r,i);if(Re()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,i,void 0,!0)}var o;return function(h,p){const v=new S.XMLHttpRequest;v.open(h.method||"GET",h.url,!0),h.type==="arrayBuffer"&&(v.responseType="arraybuffer");for(const T in h.headers)v.setRequestHeader(T,h.headers[T]);return h.type==="json"&&(v.responseType="text",v.setRequestHeader("Accept","application/json")),v.withCredentials=h.credentials==="include",v.onerror=()=>{p(new Error(v.statusText))},v.onload=()=>{if((v.status>=200&&v.status<300||v.status===0)&&v.response!==null){let T=v.response;if(h.type==="json")try{T=JSON.parse(v.response)}catch(B){return p(B)}p(null,T,v.getResponseHeader("Cache-Control"),v.getResponseHeader("Expires"))}else p(new di(v.statusText,v.status,h.url))},v.send(h.body),{cancel:()=>v.abort()}}(r,i)},Ei=function(r,i){return zi(K(r,{type:"arrayBuffer"}),i)};function Di(r){const i=S.document.createElement("a");return i.href=r,i.protocol===S.document.location.protocol&&i.host===S.document.location.host}const dn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Sn,Zn;Sn=[],Zn=0;const kr=function(r,i){if(H.supported&&(r.headers||(r.headers={}),r.headers.accept="image/webp,*/*"),Zn>=O.MAX_PARALLEL_IMAGE_REQUESTS){const v={requestParameters:r,callback:i,cancelled:!1,cancel(){this.cancelled=!0}};return Sn.push(v),v}Zn++;let o=!1;const h=()=>{if(!o)for(o=!0,Zn--;Sn.length&&Zn<O.MAX_PARALLEL_IMAGE_REQUESTS;){const v=Sn.shift(),{requestParameters:T,callback:B,cancelled:X}=v;X||(v.cancel=kr(T,B).cancel)}},p=Ei(r,(v,T,B,X)=>{h(),v?i(v):T&&(S.createImageBitmap?function(ie,ue){const be=new S.Blob([new Uint8Array(ie)],{type:"image/png"});S.createImageBitmap(be).then(Me=>{ue(null,Me)}).catch(Me=>{ue(new Error(`Could not load image because of ${Me.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(T,(ie,ue)=>i(ie,ue,B,X)):function(ie,ue){const be=new S.Image,Me=S.URL;be.onload=()=>{ue(null,be),Me.revokeObjectURL(be.src),be.onload=null,S.requestAnimationFrame(()=>{be.src=dn})},be.onerror=()=>ue(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Ie=new S.Blob([new Uint8Array(ie)],{type:"image/png"});be.src=ie.byteLength?Me.createObjectURL(Ie):dn}(T,(ie,ue)=>i(ie,ue,B,X)))});return{cancel:()=>{p.cancel(),h()}}},ms="NO_ACCESS_TOKEN";function zs(r){return r.indexOf("mapbox:")===0}function tn(r){return O.API_URL_REGEX.test(r)}function xa(r){return O.API_CDN_URL_REGEX.test(r)}function Ol(r){return O.API_STYLE_REGEX.test(r)&&!al(r)}function al(r){return O.API_SPRITE_REGEX.test(r)}const Oa=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function _r(r){const i=r.match(Oa);if(!i)throw new Error("Unable to parse URL object");return{protocol:i[1],authority:i[2],path:i[3]||"/",params:i[4]?i[4].split("&"):[]}}function Ra(r){const i=r.params.length?`?${r.params.join("&")}`:"";return`${r.protocol}://${r.authority}${r.path}${i}`}function lc(r){if(!r)return null;const i=r.split(".");if(!i||i.length!==3)return null;try{return JSON.parse(decodeURIComponent(S.atob(i[1]).split("").map(o=>"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class ut{constructor(i){this.type=i,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(i){const o=lc(O.ACCESS_TOKEN);let h="";return h=o&&o.u?S.btoa(encodeURIComponent(o.u).replace(/%([0-9A-F]{2})/g,(p,v)=>String.fromCharCode(+("0x"+v)))):O.ACCESS_TOKEN||"",i?`mapbox.eventData.${i}:${h}`:`mapbox.eventData:${h}`}fetchEventData(){const i=Qe("localStorage"),o=this.getStorageKey(),h=this.getStorageKey("uuid");if(i)try{const p=S.localStorage.getItem(o);p&&(this.eventData=JSON.parse(p));const v=S.localStorage.getItem(h);v&&(this.anonId=v)}catch{ae("Unable to read from LocalStorage")}}saveEventData(){const i=Qe("localStorage"),o=this.getStorageKey(),h=this.getStorageKey("uuid");if(i)try{S.localStorage.setItem(h,this.anonId),Object.keys(this.eventData).length>=1&&S.localStorage.setItem(o,JSON.stringify(this.eventData))}catch{ae("Unable to write to LocalStorage")}}processRequests(i){}postEvent(i,o,h,p){if(!O.EVENTS_URL)return;const v=_r(O.EVENTS_URL);v.params.push(`access_token=${p||O.ACCESS_TOKEN||""}`);const T={event:this.type,created:new Date(i).toISOString()},B=o?K(T,o):T,X={url:Ra(v),headers:{"Content-Type":"text/plain"},body:JSON.stringify([B])};this.pendingRequest=function(ie,ue){return zi(K(ie,{method:"POST"}),ue)}(X,ie=>{this.pendingRequest=null,h(ie),this.saveEventData(),this.processRequests(p)})}queueRequest(i,o){this.queue.push(i),this.processRequests(o)}}const Fe=new class extends ut{constructor(r){super("appUserTurnstile"),this._customAccessToken=r}postTurnstileEvent(r,i){O.EVENTS_URL&&O.ACCESS_TOKEN&&Array.isArray(r)&&r.some(o=>zs(o)||tn(o))&&this.queueRequest(Date.now(),i)}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const i=lc(O.ACCESS_TOKEN),o=i?i.u:O.ACCESS_TOKEN;let h=o!==this.eventData.tokenU;oe(this.anonId)||(this.anonId=Ee(),h=!0);const p=this.queue.shift();if(this.eventData.lastSuccess){const v=new Date(this.eventData.lastSuccess),T=new Date(p),B=(p-this.eventData.lastSuccess)/864e5;h=h||B>=1||B<-1||v.getDate()!==T.getDate()}else h=!0;h?this.postEvent(p,{sdkIdentifier:"mapbox-gl-js",sdkVersion:z,skuId:E,"enabled.telemetry":!1,userId:this.anonId},v=>{v||(this.eventData.lastSuccess=p,this.eventData.tokenU=o)},r):this.processRequests()}},We=Fe.postTurnstileEvent.bind(Fe),ht=new class extends ut{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(r,i,o,h){this.skuToken=i,this.errorCb=h,O.EVENTS_URL&&(o||O.ACCESS_TOKEN?this.queueRequest({id:r,timestamp:Date.now()},o):this.errorCb(new Error(ms)))}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;const{id:i,timestamp:o}=this.queue.shift();i&&this.success[i]||(this.anonId||this.fetchEventData(),oe(this.anonId)||(this.anonId=Ee()),this.postEvent(o,{sdkIdentifier:"mapbox-gl-js",sdkVersion:z,skuId:E,skuToken:this.skuToken,userId:this.anonId},h=>{h?this.errorCb(h):i&&(this.success[i]=!0)},r))}},_t=ht.postMapLoadEvent.bind(ht),Pt=new class extends ut{constructor(){super("gljs.performance")}postPerformanceEvent(r,i){O.EVENTS_URL&&(r||O.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:i},r)}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:i,performanceData:o}=this.queue.shift(),h=function(p){const v=S.performance.getEntriesByType("resource"),T=S.performance.getEntriesByType("mark"),B=function(Me){const Ie={};if(Me){for(const Be in Me)if(Be!=="other")for(const He of Me[Be]){const tt=`${Be}ResolveRangeMin`,gt=`${Be}ResolveRangeMax`,Ct=`${Be}RequestCount`,mt=`${Be}RequestCachedCount`;Ie[tt]=Math.min(Ie[tt]||1/0,He.startTime),Ie[gt]=Math.max(Ie[gt]||-1/0,He.responseEnd);const xt=kt=>{Ie[kt]===void 0&&(Ie[kt]=0),++Ie[kt]};He.transferSize!==void 0&&He.transferSize===0&&xt(mt),xt(Ct)}}return Ie}(function(Me,Ie){const Be={};if(Me)for(const He of Me){const tt=Ie(He);Be[tt]===void 0&&(Be[tt]=[]),Be[tt].push(He)}return Be}(v,Ci)),X=S.devicePixelRatio,ie=S.navigator.connection||S.navigator.mozConnection||S.navigator.webkitConnection,ue={counters:[],metadata:[],attributes:[]},be=(Me,Ie,Be)=>{Be!=null&&Me.push({name:Ie,value:Be.toString()})};for(const Me in B)be(ue.counters,Me,B[Me]);if(p.interactionRange[0]!==1/0&&p.interactionRange[1]!==-1/0&&(be(ue.counters,"interactionRangeMin",p.interactionRange[0]),be(ue.counters,"interactionRangeMax",p.interactionRange[1])),T)for(const Me of Object.keys(mi)){const Ie=mi[Me],Be=T.find(He=>He.name===Ie);Be&&be(ue.counters,Ie,Be.startTime)}return be(ue.counters,"visibilityHidden",p.visibilityHidden),be(ue.attributes,"style",function(Me){if(Me)for(const Ie of Me){const Be=Ie.name.split("?")[0];if(Ol(Be)){const He=Be.split("/").slice(-2);if(He.length===2)return`mapbox://styles/${He[0]}/${He[1]}`}}}(v)),be(ue.attributes,"terrainEnabled",p.terrainEnabled?"true":"false"),be(ue.attributes,"fogEnabled",p.fogEnabled?"true":"false"),be(ue.attributes,"projection",p.projection),be(ue.attributes,"zoom",p.zoom),be(ue.metadata,"devicePixelRatio",X),be(ue.metadata,"connectionEffectiveType",ie?ie.effectiveType:void 0),be(ue.metadata,"navigatorUserAgent",S.navigator.userAgent),be(ue.metadata,"screenWidth",S.screen.width),be(ue.metadata,"screenHeight",S.screen.height),be(ue.metadata,"windowWidth",S.innerWidth),be(ue.metadata,"windowHeight",S.innerHeight),be(ue.metadata,"mapWidth",p.width/X),be(ue.metadata,"mapHeight",p.height/X),be(ue.metadata,"webglRenderer",p.renderer),be(ue.metadata,"webglVendor",p.vendor),be(ue.metadata,"sdkVersion",z),be(ue.metadata,"sdkIdentifier","mapbox-gl-js"),ue}(o);for(const p of h.metadata);for(const p of h.counters);for(const p of h.attributes);this.postEvent(i,h,()=>{},r)}},Nt=Pt.postPerformanceEvent.bind(Pt),Vt=new class extends ut{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(r,i,o,h){if(!O.API_URL||!O.SESSION_PATH)return;const p=_r(O.API_URL+O.SESSION_PATH);p.params.push(`sku=${i||""}`),p.params.push(`access_token=${h||O.ACCESS_TOKEN||""}`);const v={url:Ra(p),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(T,B){return zi(K(T,{method:"GET"}),B)}(v,T=>{this.pendingRequest=null,o(T),this.saveEventData(),this.processRequests(h)})}getSessionAPI(r,i,o,h){this.skuToken=i,this.errorCb=h,O.SESSION_PATH&&O.API_URL&&(o||O.ACCESS_TOKEN?this.queueRequest({id:r,timestamp:Date.now()},o):this.errorCb(new Error(ms)))}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;const{id:i,timestamp:o}=this.queue.shift();i&&this.success[i]||this.getSession(o,this.skuToken,h=>{h?this.errorCb(h):i&&(this.success[i]=!0)},r)}},Lt=Vt.getSessionAPI.bind(Vt),qt=new Set,mi={create:"create",load:"load",fullLoad:"fullLoad"},Vi={mark(r){S.performance.mark(r)},measure(r,i,o){S.performance.measure(r,i,o)}};function Ci(r){const i=r.name.split("?")[0];return xa(i)&&i.includes("mapbox-gl.js")?"javascript":xa(i)&&i.includes("mapbox-gl.css")?"css":function(o){return O.API_FONTS_REGEX.test(o)}(i)?"fontRange":al(i)?"sprite":Ol(i)?"style":function(o){return O.API_TILEJSON_REGEX.test(o)}(i)?"tilejson":"other"}const gn=S.performance;function mn(r){const i=r?r.url.toString():void 0;return gn.getEntriesByName(i)}let nn,Ni,qn,ds;const cn={now:()=>qn!==void 0?qn:S.performance.now(),setNow(r){qn=r},restoreNow(){qn=void 0},frame(r){const i=S.requestAnimationFrame(r);return{cancel:()=>S.cancelAnimationFrame(i)}},getImageData(r,i=0){const{width:o,height:h}=r;ds||(ds=S.document.createElement("canvas"));const p=ds.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return(o>ds.width||h>ds.height)&&(ds.width=o,ds.height=h),p.clearRect(-i,-i,o+2*i,h+2*i),p.drawImage(r,0,0,o,h),p.getImageData(-i,-i,o+2*i,h+2*i)},resolveURL:r=>(nn||(nn=S.document.createElement("a")),nn.href=r,nn.href),get devicePixelRatio(){return S.devicePixelRatio},get prefersReducedMotion(){return!!S.matchMedia&&(Ni==null&&(Ni=S.matchMedia("(prefers-reduced-motion: reduce)")),Ni.matches)}};function ks(r,i,o){o[r]&&o[r].indexOf(i)!==-1||(o[r]=o[r]||[],o[r].push(i))}function gs(r,i,o){if(o&&o[r]){const h=o[r].indexOf(i);h!==-1&&o[r].splice(h,1)}}class aa{constructor(i,o={}){K(this,o),this.type=i}}class la extends aa{constructor(i,o={}){super("error",K({error:i},o))}}class Vr{on(i,o){return this._listeners=this._listeners||{},ks(i,o,this._listeners),this}off(i,o){return gs(i,o,this._listeners),gs(i,o,this._oneTimeListeners),this}once(i,o){return o?(this._oneTimeListeners=this._oneTimeListeners||{},ks(i,o,this._oneTimeListeners),this):new Promise(h=>this.once(i,h))}fire(i,o){typeof i=="string"&&(i=new aa(i,o||{}));const h=i.type;if(this.listens(h)){i.target=this;const p=this._listeners&&this._listeners[h]?this._listeners[h].slice():[];for(const B of p)B.call(this,i);const v=this._oneTimeListeners&&this._oneTimeListeners[h]?this._oneTimeListeners[h].slice():[];for(const B of v)gs(h,B,this._oneTimeListeners),B.call(this,i);const T=this._eventedParent;T&&(K(i,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),T.fire(i))}else i instanceof la&&console.error(i.error);return this}listens(i){return!!(this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i))}setEventedParent(i,o){return this._eventedParent=i,this._eventedParentData=o,this}}var ci=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Ys(r,...i){for(const o of i)for(const h in o)r[h]=o[h];return r}function pr(r){return r instanceof Number||r instanceof String||r instanceof Boolean?r.valueOf():r}function fr(r){if(Array.isArray(r))return r.map(fr);if(r instanceof Object&&!(r instanceof Number||r instanceof String||r instanceof Boolean)){const i={};for(const o in r)i[o]=fr(r[o]);return i}return pr(r)}class Rl extends Error{constructor(i,o){super(o),this.message=o,this.key=i}}var to=Rl;class cc{constructor(i,o=[]){this.parent=i,this.bindings={};for(const[h,p]of o)this.bindings[h]=p}concat(i){return new cc(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}var gh=cc;const Nr={kind:"null"},$i={kind:"number"},Un={kind:"string"},Xn={kind:"boolean"},xo={kind:"color"},ca={kind:"object"},Mn={kind:"value"},Bl={kind:"collator"},$o={kind:"formatted"},ba={kind:"resolvedImage"};function Pr(r,i){return{kind:"array",itemType:r,N:i}}function Cs(r){if(r.kind==="array"){const i=Cs(r.itemType);return typeof r.N=="number"?`array<${i}, ${r.N}>`:r.itemType.kind==="value"?"array":`array<${i}>`}return r.kind}const jr=[Nr,$i,Un,Xn,xo,$o,ca,Pr(Mn),ba];function po(r,i){if(i.kind==="error")return null;if(r.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!po(r.itemType,i.itemType))&&(typeof r.N!="number"||r.N===i.N))return null}else{if(r.kind===i.kind)return null;if(r.kind==="value"){for(const o of jr)if(!po(o,i))return null}}return`Expected ${Cs(r)} but found ${Cs(i)} instead.`}function ll(r,i){return i.some(o=>o.kind===r.kind)}function Io(r,i){return i.some(o=>o==="null"?r===null:o==="array"?Array.isArray(r):o==="object"?r&&!Array.isArray(r)&&typeof r=="object":o===typeof r)}var Ba,za={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function wa(r){return(r=Math.round(r))<0?0:r>255?255:r}function Fa(r){return wa(r[r.length-1]==="%"?parseFloat(r)/100*255:parseInt(r))}function hc(r){return(i=r[r.length-1]==="%"?parseFloat(r)/100:parseFloat(r))<0?0:i>1?1:i;var i}function dc(r,i,o){return o<0?o+=1:o>1&&(o-=1),6*o<1?r+(i-r)*o*6:2*o<1?i:3*o<2?r+(i-r)*(2/3-o)*6:r}try{Ba={}.parseCSSColor=function(r){var i,o=r.replace(/ /g,"").toLowerCase();if(o in za)return za[o].slice();if(o[0]==="#")return o.length===4?(i=parseInt(o.substr(1),16))>=0&&i<=4095?[(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1]:null:o.length===7&&(i=parseInt(o.substr(1),16))>=0&&i<=16777215?[(16711680&i)>>16,(65280&i)>>8,255&i,1]:null;var h=o.indexOf("("),p=o.indexOf(")");if(h!==-1&&p+1===o.length){var v=o.substr(0,h),T=o.substr(h+1,p-(h+1)).split(","),B=1;switch(v){case"rgba":if(T.length!==4)return null;B=hc(T.pop());case"rgb":return T.length!==3?null:[Fa(T[0]),Fa(T[1]),Fa(T[2]),B];case"hsla":if(T.length!==4)return null;B=hc(T.pop());case"hsl":if(T.length!==3)return null;var X=(parseFloat(T[0])%360+360)%360/360,ie=hc(T[1]),ue=hc(T[2]),be=ue<=.5?ue*(ie+1):ue+ie-ue*ie,Me=2*ue-be;return[wa(255*dc(Me,be,X+1/3)),wa(255*dc(Me,be,X)),wa(255*dc(Me,be,X-1/3)),B];default:return null}}return null}}catch{}class ao{constructor(i,o,h,p=1){this.r=i,this.g=o,this.b=h,this.a=p}static parse(i){if(!i)return;if(i instanceof ao)return i;if(typeof i!="string")return;const o=Ba(i);return o?new ao(o[0]/255*o[3],o[1]/255*o[3],o[2]/255*o[3],o[3]):void 0}toString(){const[i,o,h,p]=this.toArray();return`rgba(${Math.round(i)},${Math.round(o)},${Math.round(h)},${p})`}toArray(){const{r:i,g:o,b:h,a:p}=this;return p===0?[0,0,0,0]:[255*i/p,255*o/p,255*h/p,p]}toArray01(){const{r:i,g:o,b:h,a:p}=this;return p===0?[0,0,0,0]:[i/p,o/p,h/p,p]}toArray01PremultipliedAlpha(){const{r:i,g:o,b:h,a:p}=this;return[i,o,h,p]}}ao.black=new ao(0,0,0,1),ao.white=new ao(1,1,1,1),ao.transparent=new ao(0,0,0,0),ao.red=new ao(1,0,0,1),ao.blue=new ao(0,0,1,1);var cr=ao;class cl{constructor(i,o,h){this.sensitivity=i?o?"variant":"case":o?"accent":"base",this.locale=h,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,o){return this.collator.compare(i,o)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Sa{constructor(i,o,h,p,v){this.text=i.normalize?i.normalize():i,this.image=o,this.scale=h,this.fontStack=p,this.textColor=v}}class Dr{constructor(i){this.sections=i}static fromString(i){return new Dr([new Sa(i,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(i=>i.text.length!==0||i.image&&i.image.name.length!==0)}static factory(i){return i instanceof Dr?i:Dr.fromString(i)}toString(){return this.sections.length===0?"":this.sections.map(i=>i.text).join("")}serialize(){const i=["format"];for(const o of this.sections){if(o.image){i.push(["image",o.image.name]);continue}i.push(o.text);const h={};o.fontStack&&(h["text-font"]=["literal",o.fontStack.split(",")]),o.scale&&(h["font-scale"]=o.scale),o.textColor&&(h["text-color"]=["rgba"].concat(o.textColor.toArray())),i.push(h)}return i}}class Lo{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new Lo({name:i,available:!1}):null}serialize(){return["image",this.name]}}function Gh(r,i,o,h){return typeof r=="number"&&r>=0&&r<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof o=="number"&&o>=0&&o<=255?h===void 0||typeof h=="number"&&h>=0&&h<=1?null:`Invalid rgba value [${[r,i,o,h].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof h=="number"?[r,i,o,h]:[r,i,o]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Fc(r){if(r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||r instanceof cr||r instanceof cl||r instanceof Dr||r instanceof Lo)return!0;if(Array.isArray(r)){for(const i of r)if(!Fc(i))return!1;return!0}if(typeof r=="object"){for(const i in r)if(!Fc(r[i]))return!1;return!0}return!1}function Tr(r){if(r===null)return Nr;if(typeof r=="string")return Un;if(typeof r=="boolean")return Xn;if(typeof r=="number")return $i;if(r instanceof cr)return xo;if(r instanceof cl)return Bl;if(r instanceof Dr)return $o;if(r instanceof Lo)return ba;if(Array.isArray(r)){const i=r.length;let o;for(const h of r){const p=Tr(h);if(o){if(o===p)continue;o=Mn;break}o=p}return Pr(o||Mn,i)}return ca}function hl(r){const i=typeof r;return r===null?"":i==="string"||i==="number"||i==="boolean"?String(r):r instanceof cr||r instanceof Dr||r instanceof Lo?r.toString():JSON.stringify(r)}class Nc{constructor(i,o){this.type=i,this.value=o}static parse(i,o){if(i.length!==2)return o.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!Fc(i[1]))return o.error("invalid value");const h=i[1];let p=Tr(h);const v=o.expectedType;return p.kind!=="array"||p.N!==0||!v||v.kind!=="array"||typeof v.N=="number"&&v.N!==0||(p=v),new Nc(p,h)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof cr?["rgba"].concat(this.value.toArray()):this.value instanceof Dr?this.value.serialize():this.value}}var dl=Nc,Ir=class{constructor(r){this.name="ExpressionEvaluationError",this.message=r}toJSON(){return this.message}};const Na={string:Un,number:$i,boolean:Xn,object:ca};class jc{constructor(i,o){this.type=i,this.args=o}static parse(i,o){if(i.length<2)return o.error("Expected at least one argument.");let h,p=1;const v=i[0];if(v==="array"){let B,X;if(i.length>2){const ie=i[1];if(typeof ie!="string"||!(ie in Na)||ie==="object")return o.error('The item type argument of "array" must be one of string, number, boolean',1);B=Na[ie],p++}else B=Mn;if(i.length>3){if(i[2]!==null&&(typeof i[2]!="number"||i[2]<0||i[2]!==Math.floor(i[2])))return o.error('The length argument to "array" must be a positive integer literal',2);X=i[2],p++}h=Pr(B,X)}else h=Na[v];const T=[];for(;p<i.length;p++){const B=o.parse(i[p],p,Mn);if(!B)return null;T.push(B)}return new jc(h,T)}evaluate(i){for(let o=0;o<this.args.length;o++){const h=this.args[o].evaluate(i);if(!po(this.type,Tr(h)))return h;if(o===this.args.length-1)throw new Ir(`Expected value to be of type ${Cs(this.type)}, but found ${Cs(Tr(h))} instead.`)}return null}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){const i=this.type,o=[i.kind];if(i.kind==="array"){const h=i.itemType;if(h.kind==="string"||h.kind==="number"||h.kind==="boolean"){o.push(h.kind);const p=i.N;(typeof p=="number"||this.args.length>1)&&o.push(p)}}return o.concat(this.args.map(h=>h.serialize()))}}var ps=jc;class bs{constructor(i){this.type=$o,this.sections=i}static parse(i,o){if(i.length<2)return o.error("Expected at least one argument.");const h=i[1];if(!Array.isArray(h)&&typeof h=="object")return o.error("First argument must be an image or text section.");const p=[];let v=!1;for(let T=1;T<=i.length-1;++T){const B=i[T];if(v&&typeof B=="object"&&!Array.isArray(B)){v=!1;let X=null;if(B["font-scale"]&&(X=o.parse(B["font-scale"],1,$i),!X))return null;let ie=null;if(B["text-font"]&&(ie=o.parse(B["text-font"],1,Pr(Un)),!ie))return null;let ue=null;if(B["text-color"]&&(ue=o.parse(B["text-color"],1,xo),!ue))return null;const be=p[p.length-1];be.scale=X,be.font=ie,be.textColor=ue}else{const X=o.parse(i[T],1,Mn);if(!X)return null;const ie=X.type.kind;if(ie!=="string"&&ie!=="value"&&ie!=="null"&&ie!=="resolvedImage")return o.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");v=!0,p.push({content:X,scale:null,font:null,textColor:null})}}return new bs(p)}evaluate(i){return new Dr(this.sections.map(o=>{const h=o.content.evaluate(i);return Tr(h)===ba?new Sa("",h,null,null,null):new Sa(hl(h),null,o.scale?o.scale.evaluate(i):null,o.font?o.font.evaluate(i).join(","):null,o.textColor?o.textColor.evaluate(i):null)}))}eachChild(i){for(const o of this.sections)i(o.content),o.scale&&i(o.scale),o.font&&i(o.font),o.textColor&&i(o.textColor)}outputDefined(){return!1}serialize(){const i=["format"];for(const o of this.sections){i.push(o.content.serialize());const h={};o.scale&&(h["font-scale"]=o.scale.serialize()),o.font&&(h["text-font"]=o.font.serialize()),o.textColor&&(h["text-color"]=o.textColor.serialize()),i.push(h)}return i}}class Uc{constructor(i){this.type=ba,this.input=i}static parse(i,o){if(i.length!==2)return o.error("Expected two arguments.");const h=o.parse(i[1],1,Un);return h?new Uc(h):o.error("No image name provided.")}evaluate(i){const o=this.input.evaluate(i),h=Lo.fromString(o);return h&&i.availableImages&&(h.available=i.availableImages.indexOf(o)>-1),h}eachChild(i){i(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Vh={"to-boolean":Xn,"to-color":xo,"to-number":$i,"to-string":Un};class _h{constructor(i,o){this.type=i,this.args=o}static parse(i,o){if(i.length<2)return o.error("Expected at least one argument.");const h=i[0];if((h==="to-boolean"||h==="to-string")&&i.length!==2)return o.error("Expected one argument.");const p=Vh[h],v=[];for(let T=1;T<i.length;T++){const B=o.parse(i[T],T,Mn);if(!B)return null;v.push(B)}return new _h(p,v)}evaluate(i){if(this.type.kind==="boolean")return!!this.args[0].evaluate(i);if(this.type.kind==="color"){let o,h;for(const p of this.args){if(o=p.evaluate(i),h=null,o instanceof cr)return o;if(typeof o=="string"){const v=i.parseColor(o);if(v)return v}else if(Array.isArray(o)&&(h=o.length<3||o.length>4?`Invalid rbga value ${JSON.stringify(o)}: expected an array containing either three or four numeric values.`:Gh(o[0],o[1],o[2],o[3]),!h))return new cr(o[0]/255,o[1]/255,o[2]/255,o[3])}throw new Ir(h||`Could not parse color from value '${typeof o=="string"?o:String(JSON.stringify(o))}'`)}if(this.type.kind==="number"){let o=null;for(const h of this.args){if(o=h.evaluate(i),o===null)return 0;const p=Number(o);if(!isNaN(p))return p}throw new Ir(`Could not convert ${JSON.stringify(o)} to number.`)}return this.type.kind==="formatted"?Dr.fromString(hl(this.args[0].evaluate(i))):this.type.kind==="resolvedImage"?Lo.fromString(hl(this.args[0].evaluate(i))):hl(this.args[0].evaluate(i))}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){if(this.type.kind==="formatted")return new bs([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Uc(this.args[0]).serialize();const i=[`to-${this.type.kind}`];return this.eachChild(o=>{i.push(o.serialize())}),i}}var Oo=_h;const uc=["Unknown","Point","LineString","Polygon"];var Gc=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?uc[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const r=this.featureDistanceData.center,i=this.featureDistanceData.scale,{x:o,y:h}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(o*i-r[0])+this.featureDistanceData.bearing[1]*(h*i-r[1])}return 0}parseColor(r){let i=this._parseColorCache[r];return i||(i=this._parseColorCache[r]=cr.parse(r)),i}};class ul{constructor(i,o,h,p){this.name=i,this.type=o,this._evaluate=h,this.args=p}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(i=>i.serialize()))}static parse(i,o){const h=i[0],p=ul.definitions[h];if(!p)return o.error(`Unknown expression "${h}". If you wanted a literal array, use ["literal", [...]].`,0);const v=Array.isArray(p)?p[0]:p.type,T=Array.isArray(p)?[[p[1],p[2]]]:p.overloads,B=T.filter(([ie])=>!Array.isArray(ie)||ie.length===i.length-1);let X=null;for(const[ie,ue]of B){X=new Os(o.registry,o.path,null,o.scope);const be=[];let Me=!1;for(let Ie=1;Ie<i.length;Ie++){const Be=i[Ie],He=Array.isArray(ie)?ie[Ie-1]:ie.type,tt=X.parse(Be,1+be.length,He);if(!tt){Me=!0;break}be.push(tt)}if(!Me)if(Array.isArray(ie)&&ie.length!==be.length)X.error(`Expected ${ie.length} arguments, but found ${be.length} instead.`);else{for(let Ie=0;Ie<be.length;Ie++){const Be=Array.isArray(ie)?ie[Ie]:ie.type,He=be[Ie];X.concat(Ie+1).checkSubtype(Be,He.type)}if(X.errors.length===0)return new ul(h,v,ue,be)}}if(B.length===1)o.errors.push(...X.errors);else{const ie=(B.length?B:T).map(([be])=>{return Me=be,Array.isArray(Me)?`(${Me.map(Cs).join(", ")})`:`(${Cs(Me.type)}...)`;var Me}).join(" | "),ue=[];for(let be=1;be<i.length;be++){const Me=o.parse(i[be],1+ue.length);if(!Me)return null;ue.push(Cs(Me.type))}o.error(`Expected arguments of type ${ie}, but found (${ue.join(", ")}) instead.`)}return null}static register(i,o){ul.definitions=o;for(const h in o)i[h]=ul}}var bo=ul;class Er{constructor(i,o,h){this.type=Bl,this.locale=h,this.caseSensitive=i,this.diacriticSensitive=o}static parse(i,o){if(i.length!==2)return o.error("Expected one argument.");const h=i[1];if(typeof h!="object"||Array.isArray(h))return o.error("Collator options argument must be an object.");const p=o.parse(h["case-sensitive"]!==void 0&&h["case-sensitive"],1,Xn);if(!p)return null;const v=o.parse(h["diacritic-sensitive"]!==void 0&&h["diacritic-sensitive"],1,Xn);if(!v)return null;let T=null;return h.locale&&(T=o.parse(h.locale,1,Un),!T)?null:new Er(p,v,T)}evaluate(i){return new cl(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}serialize(){const i={};return i["case-sensitive"]=this.caseSensitive.serialize(),i["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(i.locale=this.locale.serialize()),["collator",i]}}const U=8192;function le(r,i){r[0]=Math.min(r[0],i[0]),r[1]=Math.min(r[1],i[1]),r[2]=Math.max(r[2],i[0]),r[3]=Math.max(r[3],i[1])}function ve(r,i){return!(r[0]<=i[0]||r[2]>=i[2]||r[1]<=i[1]||r[3]>=i[3])}function Ae(r,i){const o=(180+r[0])/360,h=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r[1]*Math.PI/360)))/360,p=Math.pow(2,i.z);return[Math.round(o*p*U),Math.round(h*p*U)]}function Ue(r,i,o){const h=r[0]-i[0],p=r[1]-i[1],v=r[0]-o[0],T=r[1]-o[1];return h*T-v*p==0&&h*v<=0&&p*T<=0}function $e(r,i){let o=!1;for(let T=0,B=i.length;T<B;T++){const X=i[T];for(let ie=0,ue=X.length;ie<ue-1;ie++){if(Ue(r,X[ie],X[ie+1]))return!1;(p=X[ie])[1]>(h=r)[1]!=(v=X[ie+1])[1]>h[1]&&h[0]<(v[0]-p[0])*(h[1]-p[1])/(v[1]-p[1])+p[0]&&(o=!o)}}var h,p,v;return o}function Ke(r,i){for(let o=0;o<i.length;o++)if($e(r,i[o]))return!0;return!1}function Dt(r,i,o,h){const p=h[0]-o[0],v=h[1]-o[1],T=(r[0]-o[0])*v-p*(r[1]-o[1]),B=(i[0]-o[0])*v-p*(i[1]-o[1]);return T>0&&B<0||T<0&&B>0}function St(r,i,o){for(const ie of o)for(let ue=0;ue<ie.length-1;++ue)if((B=[(T=ie[ue+1])[0]-(v=ie[ue])[0],T[1]-v[1]])[0]*(X=[(p=i)[0]-(h=r)[0],p[1]-h[1]])[1]-B[1]*X[0]!=0&&Dt(h,p,v,T)&&Dt(v,T,h,p))return!0;var h,p,v,T,B,X;return!1}function Xt(r,i){for(let o=0;o<r.length;++o)if(!$e(r[o],i))return!1;for(let o=0;o<r.length-1;++o)if(St(r[o],r[o+1],i))return!1;return!0}function hi(r,i){for(let o=0;o<i.length;o++)if(Xt(r,i[o]))return!0;return!1}function Si(r,i,o){const h=[];for(let p=0;p<r.length;p++){const v=[];for(let T=0;T<r[p].length;T++){const B=Ae(r[p][T],o);le(i,B),v.push(B)}h.push(v)}return h}function ni(r,i,o){const h=[];for(let p=0;p<r.length;p++){const v=Si(r[p],i,o);h.push(v)}return h}function ai(r,i,o,h){if(r[0]<o[0]||r[0]>o[2]){const p=.5*h;let v=r[0]-o[0]>p?-h:o[0]-r[0]>p?h:0;v===0&&(v=r[0]-o[2]>p?-h:o[2]-r[0]>p?h:0),r[0]+=v}le(i,r)}function Gi(r,i,o,h){const p=Math.pow(2,h.z)*U,v=[h.x*U,h.y*U],T=[];if(!r)return T;for(const B of r)for(const X of B){const ie=[X.x+v[0],X.y+v[1]];ai(ie,i,o,p),T.push(ie)}return T}function On(r,i,o,h){const p=Math.pow(2,h.z)*U,v=[h.x*U,h.y*U],T=[];if(!r)return T;for(const X of r){const ie=[];for(const ue of X){const be=[ue.x+v[0],ue.y+v[1]];le(i,be),ie.push(be)}T.push(ie)}if(i[2]-i[0]<=p/2){(B=i)[0]=B[1]=1/0,B[2]=B[3]=-1/0;for(const X of T)for(const ie of X)ai(ie,i,o,p)}var B;return T}class sn{constructor(i,o){this.type=Xn,this.geojson=i,this.geometries=o}static parse(i,o){if(i.length!==2)return o.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(Fc(i[1])){const h=i[1];if(h.type==="FeatureCollection")for(let p=0;p<h.features.length;++p){const v=h.features[p].geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new sn(h,h.features[p].geometry)}else if(h.type==="Feature"){const p=h.geometry.type;if(p==="Polygon"||p==="MultiPolygon")return new sn(h,h.geometry)}else if(h.type==="Polygon"||h.type==="MultiPolygon")return new sn(h,h)}return o.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(o,h){const p=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],T=o.canonicalID();if(!T)return!1;if(h.type==="Polygon"){const B=Si(h.coordinates,v,T),X=Gi(o.geometry(),p,v,T);if(!ve(p,v))return!1;for(const ie of X)if(!$e(ie,B))return!1}if(h.type==="MultiPolygon"){const B=ni(h.coordinates,v,T),X=Gi(o.geometry(),p,v,T);if(!ve(p,v))return!1;for(const ie of X)if(!Ke(ie,B))return!1}return!0}(i,this.geometries);if(i.geometryType()==="LineString")return function(o,h){const p=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],T=o.canonicalID();if(!T)return!1;if(h.type==="Polygon"){const B=Si(h.coordinates,v,T),X=On(o.geometry(),p,v,T);if(!ve(p,v))return!1;for(const ie of X)if(!Xt(ie,B))return!1}if(h.type==="MultiPolygon"){const B=ni(h.coordinates,v,T),X=On(o.geometry(),p,v,T);if(!ve(p,v))return!1;for(const ie of X)if(!hi(ie,B))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var qs=sn;function Ls(r){if(r instanceof bo&&(r.name==="get"&&r.args.length===1||r.name==="feature-state"||r.name==="has"&&r.args.length===1||r.name==="properties"||r.name==="geometry-type"||r.name==="id"||/^filter-/.test(r.name))||r instanceof qs)return!1;let i=!0;return r.eachChild(o=>{i&&!Ls(o)&&(i=!1)}),i}function Jn(r){if(r instanceof bo&&r.name==="feature-state")return!1;let i=!0;return r.eachChild(o=>{i&&!Jn(o)&&(i=!1)}),i}function Qn(r,i){if(r instanceof bo&&i.indexOf(r.name)>=0)return!1;let o=!0;return r.eachChild(h=>{o&&!Qn(h,i)&&(o=!1)}),o}class Ln{constructor(i,o){this.type=o.type,this.name=i,this.boundExpression=o}static parse(i,o){if(i.length!==2||typeof i[1]!="string")return o.error("'var' expression requires exactly one string literal argument.");const h=i[1];return o.scope.has(h)?new Ln(h,o.scope.get(h)):o.error(`Unknown variable "${h}". Make sure "${h}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Lr=Ln;class ts{constructor(i,o=[],h,p=new gh,v=[]){this.registry=i,this.path=o,this.key=o.map(T=>`[${T}]`).join(""),this.scope=p,this.errors=v,this.expectedType=h}parse(i,o,h,p,v={}){return o?this.concat(o,h,p)._parse(i,v):this._parse(i,v)}_parse(i,o){function h(p,v,T){return T==="assert"?new ps(v,[p]):T==="coerce"?new Oo(v,[p]):p}if(i!==null&&typeof i!="string"&&typeof i!="boolean"&&typeof i!="number"||(i=["literal",i]),Array.isArray(i)){if(i.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const p=i[0];if(typeof p!="string")return this.error(`Expression name must be a string, but found ${typeof p} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const v=this.registry[p];if(v){let T=v.parse(i,this);if(!T)return null;if(this.expectedType){const B=this.expectedType,X=T.type;if(B.kind!=="string"&&B.kind!=="number"&&B.kind!=="boolean"&&B.kind!=="object"&&B.kind!=="array"||X.kind!=="value")if(B.kind!=="color"&&B.kind!=="formatted"&&B.kind!=="resolvedImage"||X.kind!=="value"&&X.kind!=="string"){if(this.checkSubtype(B,X))return null}else T=h(T,B,o.typeAnnotation||"coerce");else T=h(T,B,o.typeAnnotation||"assert")}if(!(T instanceof dl)&&T.type.kind!=="resolvedImage"&&ha(T)){const B=new Gc;try{T=new dl(T.type,T.evaluate(B))}catch(X){return this.error(X.message),null}}return T}return this.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(i===void 0?"'undefined' value invalid. Use null instead.":typeof i=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,o,h){const p=typeof i=="number"?this.path.concat(i):this.path,v=h?this.scope.concat(h):this.scope;return new ts(this.registry,p,o||null,v,this.errors)}error(i,...o){const h=`${this.key}${o.map(p=>`[${p}]`).join("")}`;this.errors.push(new to(h,i))}checkSubtype(i,o){const h=po(i,o);return h&&this.error(h),h}}var Os=ts;function ha(r){if(r instanceof Lr)return ha(r.boundExpression);if(r instanceof bo&&r.name==="error"||r instanceof Er||r instanceof qs)return!1;const i=r instanceof Oo||r instanceof ps;let o=!0;return r.eachChild(h=>{o=i?o&&ha(h):o&&h instanceof dl}),!!o&&Ls(r)&&Qn(r,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function pl(r,i){const o=r.length-1;let h,p,v=0,T=o,B=0;for(;v<=T;)if(B=Math.floor((v+T)/2),h=r[B],p=r[B+1],h<=i){if(B===o||i<p)return B;v=B+1}else{if(!(h>i))throw new Ir("Input is not a number.");T=B-1}return 0}class Or{constructor(i,o,h){this.type=i,this.input=o,this.labels=[],this.outputs=[];for(const[p,v]of h)this.labels.push(p),this.outputs.push(v)}static parse(i,o){if(i.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return o.error("Expected an even number of arguments.");const h=o.parse(i[1],1,$i);if(!h)return null;const p=[];let v=null;o.expectedType&&o.expectedType.kind!=="value"&&(v=o.expectedType);for(let T=1;T<i.length;T+=2){const B=T===1?-1/0:i[T],X=i[T+1],ie=T,ue=T+1;if(typeof B!="number")return o.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ie);if(p.length&&p[p.length-1][0]>=B)return o.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ie);const be=o.parse(X,ue,v);if(!be)return null;v=v||be.type,p.push([B,be])}return new Or(v,h,p)}evaluate(i){const o=this.labels,h=this.outputs;if(o.length===1)return h[0].evaluate(i);const p=this.input.evaluate(i);if(p<=o[0])return h[0].evaluate(i);const v=o.length;return p>=o[v-1]?h[v-1].evaluate(i):h[pl(o,p)].evaluate(i)}eachChild(i){i(this.input);for(const o of this.outputs)i(o)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}serialize(){const i=["step",this.input.serialize()];for(let o=0;o<this.labels.length;o++)o>0&&i.push(this.labels[o]),i.push(this.outputs[o].serialize());return i}}var wo=Or;function Bn(r,i,o){return r*(1-o)+i*o}var $r=Object.freeze({__proto__:null,number:Bn,color:function(r,i,o){return new cr(Bn(r.r,i.r,o),Bn(r.g,i.g,o),Bn(r.b,i.b,o),Bn(r.a,i.a,o))},array:function(r,i,o){return r.map((h,p)=>Bn(h,i[p],o))}});const So=.95047,lo=1.08883,Ro=4/29,fl=6/29,Ta=3*fl*fl,Vc=Math.PI/180,ws=180/Math.PI;function Bo(r){return r>.008856451679035631?Math.pow(r,1/3):r/Ta+Ro}function pc(r){return r>fl?r*r*r:Ta*(r-Ro)}function ml(r){return 255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function co(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function gl(r){const i=co(r.r),o=co(r.g),h=co(r.b),p=Bo((.4124564*i+.3575761*o+.1804375*h)/So),v=Bo((.2126729*i+.7151522*o+.072175*h)/1);return{l:116*v-16,a:500*(p-v),b:200*(v-Bo((.0193339*i+.119192*o+.9503041*h)/lo)),alpha:r.a}}function zl(r){let i=(r.l+16)/116,o=isNaN(r.a)?i:i+r.a/500,h=isNaN(r.b)?i:i-r.b/200;return i=1*pc(i),o=So*pc(o),h=lo*pc(h),new cr(ml(3.2404542*o-1.5371385*i-.4985314*h),ml(-.969266*o+1.8760108*i+.041556*h),ml(.0556434*o-.2040259*i+1.0572252*h),r.alpha)}function yh(r,i,o){const h=i-r;return r+o*(h>180||h<-180?h-360*Math.round(h/360):h)}const _l={forward:gl,reverse:zl,interpolate:function(r,i,o){return{l:Bn(r.l,i.l,o),a:Bn(r.a,i.a,o),b:Bn(r.b,i.b,o),alpha:Bn(r.alpha,i.alpha,o)}}},yl={forward:function(r){const{l:i,a:o,b:h}=gl(r),p=Math.atan2(h,o)*ws;return{h:p<0?p+360:p,c:Math.sqrt(o*o+h*h),l:i,alpha:r.a}},reverse:function(r){const i=r.h*Vc,o=r.c;return zl({l:r.l,a:Math.cos(i)*o,b:Math.sin(i)*o,alpha:r.alpha})},interpolate:function(r,i,o){return{h:yh(r.h,i.h,o),c:Bn(r.c,i.c,o),l:Bn(r.l,i.l,o),alpha:Bn(r.alpha,i.alpha,o)}}};var $h=Object.freeze({__proto__:null,lab:_l,hcl:yl});class vl{constructor(i,o,h,p,v){this.type=i,this.operator=o,this.interpolation=h,this.input=p,this.labels=[],this.outputs=[];for(const[T,B]of v)this.labels.push(T),this.outputs.push(B)}static interpolationFactor(i,o,h,p){let v=0;if(i.name==="exponential")v=vh(o,i.base,h,p);else if(i.name==="linear")v=vh(o,1,h,p);else if(i.name==="cubic-bezier"){const T=i.controlPoints;v=new k(T[0],T[1],T[2],T[3]).solve(vh(o,1,h,p))}return v}static parse(i,o){let[h,p,v,...T]=i;if(!Array.isArray(p)||p.length===0)return o.error("Expected an interpolation type expression.",1);if(p[0]==="linear")p={name:"linear"};else if(p[0]==="exponential"){const ie=p[1];if(typeof ie!="number")return o.error("Exponential interpolation requires a numeric base.",1,1);p={name:"exponential",base:ie}}else{if(p[0]!=="cubic-bezier")return o.error(`Unknown interpolation type ${String(p[0])}`,1,0);{const ie=p.slice(1);if(ie.length!==4||ie.some(ue=>typeof ue!="number"||ue<0||ue>1))return o.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);p={name:"cubic-bezier",controlPoints:ie}}}if(i.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return o.error("Expected an even number of arguments.");if(v=o.parse(v,2,$i),!v)return null;const B=[];let X=null;h==="interpolate-hcl"||h==="interpolate-lab"?X=xo:o.expectedType&&o.expectedType.kind!=="value"&&(X=o.expectedType);for(let ie=0;ie<T.length;ie+=2){const ue=T[ie],be=T[ie+1],Me=ie+3,Ie=ie+4;if(typeof ue!="number")return o.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Me);if(B.length&&B[B.length-1][0]>=ue)return o.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Me);const Be=o.parse(be,Ie,X);if(!Be)return null;X=X||Be.type,B.push([ue,Be])}return X.kind==="number"||X.kind==="color"||X.kind==="array"&&X.itemType.kind==="number"&&typeof X.N=="number"?new vl(X,h,p,v,B):o.error(`Type ${Cs(X)} is not interpolatable.`)}evaluate(i){const o=this.labels,h=this.outputs;if(o.length===1)return h[0].evaluate(i);const p=this.input.evaluate(i);if(p<=o[0])return h[0].evaluate(i);const v=o.length;if(p>=o[v-1])return h[v-1].evaluate(i);const T=pl(o,p),B=vl.interpolationFactor(this.interpolation,p,o[T],o[T+1]),X=h[T].evaluate(i),ie=h[T+1].evaluate(i);return this.operator==="interpolate"?$r[this.type.kind.toLowerCase()](X,ie,B):this.operator==="interpolate-hcl"?yl.reverse(yl.interpolate(yl.forward(X),yl.forward(ie),B)):_l.reverse(_l.interpolate(_l.forward(X),_l.forward(ie),B))}eachChild(i){i(this.input);for(const o of this.outputs)i(o)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}serialize(){let i;i=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const o=[this.operator,i,this.input.serialize()];for(let h=0;h<this.labels.length;h++)o.push(this.labels[h],this.outputs[h].serialize());return o}}function vh(r,i,o,h){const p=h-o,v=r-o;return p===0?0:i===1?v/p:(Math.pow(i,v)-1)/(Math.pow(i,p)-1)}var Ho=vl;class Wo{constructor(i,o){this.type=i,this.args=o}static parse(i,o){if(i.length<2)return o.error("Expectected at least one argument.");let h=null;const p=o.expectedType;p&&p.kind!=="value"&&(h=p);const v=[];for(const B of i.slice(1)){const X=o.parse(B,1+v.length,h,void 0,{typeAnnotation:"omit"});if(!X)return null;h=h||X.type,v.push(X)}const T=p&&v.some(B=>po(p,B.type));return new Wo(T?Mn:h,v)}evaluate(i){let o,h=null,p=0;for(const v of this.args){if(p++,h=v.evaluate(i),h&&h instanceof Lo&&!h.available&&(o||(o=h),h=null,p===this.args.length))return o;if(h!==null)break}return h}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){const i=["coalesce"];return this.eachChild(o=>{i.push(o.serialize())}),i}}var xl=Wo;class $c{constructor(i,o){this.type=o.type,this.bindings=[].concat(i),this.result=o}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const o of this.bindings)i(o[1]);i(this.result)}static parse(i,o){if(i.length<4)return o.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const h=[];for(let v=1;v<i.length-1;v+=2){const T=i[v];if(typeof T!="string")return o.error(`Expected string, but found ${typeof T} instead.`,v);if(/[^a-zA-Z0-9_]/.test(T))return o.error("Variable names must contain only alphanumeric characters or '_'.",v);const B=o.parse(i[v+1],v+1);if(!B)return null;h.push([T,B])}const p=o.parse(i[i.length-1],i.length-1,o.expectedType,h);return p?new $c(h,p):null}outputDefined(){return this.result.outputDefined()}serialize(){const i=["let"];for(const[o,h]of this.bindings)i.push(o,h.serialize());return i.push(this.result.serialize()),i}}var Fl=$c;class To{constructor(i,o,h){this.type=i,this.index=o,this.input=h}static parse(i,o){if(i.length!==3)return o.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const h=o.parse(i[1],1,$i),p=o.parse(i[2],2,Pr(o.expectedType||Mn));return h&&p?new To(p.type.itemType,h,p):null}evaluate(i){const o=this.index.evaluate(i),h=this.input.evaluate(i);if(o<0)throw new Ir(`Array index out of bounds: ${o} < 0.`);if(o>=h.length)throw new Ir(`Array index out of bounds: ${o} > ${h.length-1}.`);if(o!==Math.floor(o))throw new Ir(`Array index must be an integer, but found ${o} instead.`);return h[o]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Hr=To;class ja{constructor(i,o){this.type=Xn,this.needle=i,this.haystack=o}static parse(i,o){if(i.length!==3)return o.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const h=o.parse(i[1],1,Mn),p=o.parse(i[2],2,Mn);return h&&p?ll(h.type,[Xn,Un,$i,Nr,Mn])?new ja(h,p):o.error(`Expected first argument to be of type boolean, string, number or null, but found ${Cs(h.type)} instead`):null}evaluate(i){const o=this.needle.evaluate(i),h=this.haystack.evaluate(i);if(h==null)return!1;if(!Io(o,["boolean","string","number","null"]))throw new Ir(`Expected first argument to be of type boolean, string, number or null, but found ${Cs(Tr(o))} instead.`);if(!Io(h,["string","array"]))throw new Ir(`Expected second argument to be of type array or string, but found ${Cs(Tr(h))} instead.`);return h.indexOf(o)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var bl=ja;class Nl{constructor(i,o,h){this.type=$i,this.needle=i,this.haystack=o,this.fromIndex=h}static parse(i,o){if(i.length<=2||i.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const h=o.parse(i[1],1,Mn),p=o.parse(i[2],2,Mn);if(!h||!p)return null;if(!ll(h.type,[Xn,Un,$i,Nr,Mn]))return o.error(`Expected first argument to be of type boolean, string, number or null, but found ${Cs(h.type)} instead`);if(i.length===4){const v=o.parse(i[3],3,$i);return v?new Nl(h,p,v):null}return new Nl(h,p)}evaluate(i){const o=this.needle.evaluate(i),h=this.haystack.evaluate(i);if(!Io(o,["boolean","string","number","null"]))throw new Ir(`Expected first argument to be of type boolean, string, number or null, but found ${Cs(Tr(o))} instead.`);if(!Io(h,["string","array"]))throw new Ir(`Expected second argument to be of type array or string, but found ${Cs(Tr(h))} instead.`);if(this.fromIndex){const p=this.fromIndex.evaluate(i);return h.indexOf(o,p)}return h.indexOf(o)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const i=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),i]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Ed=Nl;class ss{constructor(i,o,h,p,v,T){this.inputType=i,this.type=o,this.input=h,this.cases=p,this.outputs=v,this.otherwise=T}static parse(i,o){if(i.length<5)return o.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return o.error("Expected an even number of arguments.");let h,p;o.expectedType&&o.expectedType.kind!=="value"&&(p=o.expectedType);const v={},T=[];for(let ie=2;ie<i.length-1;ie+=2){let ue=i[ie];const be=i[ie+1];Array.isArray(ue)||(ue=[ue]);const Me=o.concat(ie);if(ue.length===0)return Me.error("Expected at least one branch label.");for(const Be of ue){if(typeof Be!="number"&&typeof Be!="string")return Me.error("Branch labels must be numbers or strings.");if(typeof Be=="number"&&Math.abs(Be)>Number.MAX_SAFE_INTEGER)return Me.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Be=="number"&&Math.floor(Be)!==Be)return Me.error("Numeric branch labels must be integer values.");if(h){if(Me.checkSubtype(h,Tr(Be)))return null}else h=Tr(Be);if(v[String(Be)]!==void 0)return Me.error("Branch labels must be unique.");v[String(Be)]=T.length}const Ie=o.parse(be,ie,p);if(!Ie)return null;p=p||Ie.type,T.push(Ie)}const B=o.parse(i[1],1,Mn);if(!B)return null;const X=o.parse(i[i.length-1],i.length-1,p);return X?B.type.kind!=="value"&&o.concat(1).checkSubtype(h,B.type)?null:new ss(h,p,B,v,T,X):null}evaluate(i){const o=this.input.evaluate(i);return(Tr(o)===this.inputType&&this.outputs[this.cases[o]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}serialize(){const i=["match",this.input.serialize()],o=Object.keys(this.cases).sort(),h=[],p={};for(const T of o){const B=p[this.cases[T]];B===void 0?(p[this.cases[T]]=h.length,h.push([this.cases[T],[T]])):h[B][1].push(T)}const v=T=>this.inputType.kind==="number"?Number(T):T;for(const[T,B]of h)i.push(B.length===1?v(B[0]):B.map(v)),i.push(this.outputs[T].serialize());return i.push(this.otherwise.serialize()),i}}var fo=ss;class Wr{constructor(i,o,h){this.type=i,this.branches=o,this.otherwise=h}static parse(i,o){if(i.length<4)return o.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return o.error("Expected an odd number of arguments.");let h;o.expectedType&&o.expectedType.kind!=="value"&&(h=o.expectedType);const p=[];for(let T=1;T<i.length-1;T+=2){const B=o.parse(i[T],T,Xn);if(!B)return null;const X=o.parse(i[T+1],T+1,h);if(!X)return null;p.push([B,X]),h=h||X.type}const v=o.parse(i[i.length-1],i.length-1,h);return v?new Wr(h,p,v):null}evaluate(i){for(const[o,h]of this.branches)if(o.evaluate(i))return h.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[o,h]of this.branches)i(o),i(h);i(this.otherwise)}outputDefined(){return this.branches.every(([i,o])=>o.outputDefined())&&this.otherwise.outputDefined()}serialize(){const i=["case"];return this.eachChild(o=>{i.push(o.serialize())}),i}}var Eo=Wr;class Ua{constructor(i,o,h,p){this.type=i,this.input=o,this.beginIndex=h,this.endIndex=p}static parse(i,o){if(i.length<=2||i.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const h=o.parse(i[1],1,Mn),p=o.parse(i[2],2,$i);if(!h||!p)return null;if(!ll(h.type,[Pr(Mn),Un,Mn]))return o.error(`Expected first argument to be of type array or string, but found ${Cs(h.type)} instead`);if(i.length===4){const v=o.parse(i[3],3,$i);return v?new Ua(h.type,h,p,v):null}return new Ua(h.type,h,p)}evaluate(i){const o=this.input.evaluate(i),h=this.beginIndex.evaluate(i);if(!Io(o,["string","array"]))throw new Ir(`Expected first argument to be of type array or string, but found ${Cs(Tr(o))} instead.`);if(this.endIndex){const p=this.endIndex.evaluate(i);return o.slice(h,p)}return o.slice(h)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const i=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),i]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Hh=Ua;function Wh(r,i){return r==="=="||r==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function Yh(r,i,o,h){return h.compare(i,o)===0}function mo(r,i,o){const h=r!=="=="&&r!=="!=";return class P8{constructor(v,T,B){this.type=Xn,this.lhs=v,this.rhs=T,this.collator=B,this.hasUntypedArgument=v.type.kind==="value"||T.type.kind==="value"}static parse(v,T){if(v.length!==3&&v.length!==4)return T.error("Expected two or three arguments.");const B=v[0];let X=T.parse(v[1],1,Mn);if(!X)return null;if(!Wh(B,X.type))return T.concat(1).error(`"${B}" comparisons are not supported for type '${Cs(X.type)}'.`);let ie=T.parse(v[2],2,Mn);if(!ie)return null;if(!Wh(B,ie.type))return T.concat(2).error(`"${B}" comparisons are not supported for type '${Cs(ie.type)}'.`);if(X.type.kind!==ie.type.kind&&X.type.kind!=="value"&&ie.type.kind!=="value")return T.error(`Cannot compare types '${Cs(X.type)}' and '${Cs(ie.type)}'.`);h&&(X.type.kind==="value"&&ie.type.kind!=="value"?X=new ps(ie.type,[X]):X.type.kind!=="value"&&ie.type.kind==="value"&&(ie=new ps(X.type,[ie])));let ue=null;if(v.length===4){if(X.type.kind!=="string"&&ie.type.kind!=="string"&&X.type.kind!=="value"&&ie.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(ue=T.parse(v[3],3,Bl),!ue)return null}return new P8(X,ie,ue)}evaluate(v){const T=this.lhs.evaluate(v),B=this.rhs.evaluate(v);if(h&&this.hasUntypedArgument){const X=Tr(T),ie=Tr(B);if(X.kind!==ie.kind||X.kind!=="string"&&X.kind!=="number")throw new Ir(`Expected arguments for "${r}" to be (string, string) or (number, number), but found (${X.kind}, ${ie.kind}) instead.`)}if(this.collator&&!h&&this.hasUntypedArgument){const X=Tr(T),ie=Tr(B);if(X.kind!=="string"||ie.kind!=="string")return i(v,T,B)}return this.collator?o(v,T,B,this.collator.evaluate(v)):i(v,T,B)}eachChild(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)}outputDefined(){return!0}serialize(){const v=[r];return this.eachChild(T=>{v.push(T.serialize())}),v}}}const jt=mo("==",function(r,i,o){return i===o},Yh),gi=mo("!=",function(r,i,o){return i!==o},function(r,i,o,h){return!Yh(0,i,o,h)}),li=mo("<",function(r,i,o){return i<o},function(r,i,o,h){return h.compare(i,o)<0}),rn=mo(">",function(r,i,o){return i>o},function(r,i,o,h){return h.compare(i,o)>0}),zn=mo("<=",function(r,i,o){return i<=o},function(r,i,o,h){return h.compare(i,o)<=0}),_s=mo(">=",function(r,i,o){return i>=o},function(r,i,o,h){return h.compare(i,o)>=0});class yr{constructor(i,o,h,p,v,T){this.type=Un,this.number=i,this.locale=o,this.currency=h,this.unit=p,this.minFractionDigits=v,this.maxFractionDigits=T}static parse(i,o){if(i.length!==3)return o.error("Expected two arguments.");const h=o.parse(i[1],1,$i);if(!h)return null;const p=i[2];if(typeof p!="object"||Array.isArray(p))return o.error("NumberFormat options argument must be an object.");let v=null;if(p.locale&&(v=o.parse(p.locale,1,Un),!v))return null;let T=null;if(p.currency&&(T=o.parse(p.currency,1,Un),!T))return null;let B=null;if(p.unit&&(B=o.parse(p.unit,1,Un),!B))return null;let X=null;if(p["min-fraction-digits"]&&(X=o.parse(p["min-fraction-digits"],1,$i),!X))return null;let ie=null;return p["max-fraction-digits"]&&(ie=o.parse(p["max-fraction-digits"],1,$i),!ie)?null:new yr(h,v,T,B,X,ie)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(i):void 0,unit:this.unit?this.unit.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.unit&&i(this.unit),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const i={};return this.locale&&(i.locale=this.locale.serialize()),this.currency&&(i.currency=this.currency.serialize()),this.unit&&(i.unit=this.unit.serialize()),this.minFractionDigits&&(i["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(i["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),i]}}class Ss{constructor(i){this.type=$i,this.input=i}static parse(i,o){if(i.length!==2)return o.error(`Expected 1 argument, but found ${i.length-1} instead.`);const h=o.parse(i[1],1);return h?h.type.kind!=="array"&&h.type.kind!=="string"&&h.type.kind!=="value"?o.error(`Expected argument of type string or array, but found ${Cs(h.type)} instead.`):new Ss(h):null}evaluate(i){const o=this.input.evaluate(i);if(typeof o=="string"||Array.isArray(o))return o.length;throw new Ir(`Expected value to be of type string or array, but found ${Cs(Tr(o))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}serialize(){const i=["length"];return this.eachChild(o=>{i.push(o.serialize())}),i}}const jl={"==":jt,"!=":gi,">":rn,"<":li,">=":_s,"<=":zn,array:ps,at:Hr,boolean:ps,case:Eo,coalesce:xl,collator:Er,format:bs,image:Uc,in:bl,"index-of":Ed,interpolate:Ho,"interpolate-hcl":Ho,"interpolate-lab":Ho,length:Ss,let:Fl,literal:dl,match:fo,number:ps,"number-format":yr,object:ps,slice:Hh,step:wo,string:ps,"to-boolean":Oo,"to-color":Oo,"to-number":Oo,"to-string":Oo,var:Lr,within:qs};function Hc(r,[i,o,h,p]){i=i.evaluate(r),o=o.evaluate(r),h=h.evaluate(r);const v=p?p.evaluate(r):1,T=Gh(i,o,h,v);if(T)throw new Ir(T);return new cr(i/255*v,o/255*v,h/255*v,v)}function go(r,i){return r in i}function st(r,i){const o=i[r];return o===void 0?null:o}function Et(r){return{type:r}}bo.register(jl,{error:[{kind:"error"},[Un],(r,[i])=>{throw new Ir(i.evaluate(r))}],typeof:[Un,[Mn],(r,[i])=>Cs(Tr(i.evaluate(r)))],"to-rgba":[Pr($i,4),[xo],(r,[i])=>i.evaluate(r).toArray()],rgb:[xo,[$i,$i,$i],Hc],rgba:[xo,[$i,$i,$i,$i],Hc],has:{type:Xn,overloads:[[[Un],(r,[i])=>go(i.evaluate(r),r.properties())],[[Un,ca],(r,[i,o])=>go(i.evaluate(r),o.evaluate(r))]]},get:{type:Mn,overloads:[[[Un],(r,[i])=>st(i.evaluate(r),r.properties())],[[Un,ca],(r,[i,o])=>st(i.evaluate(r),o.evaluate(r))]]},"feature-state":[Mn,[Un],(r,[i])=>st(i.evaluate(r),r.featureState||{})],properties:[ca,[],r=>r.properties()],"geometry-type":[Un,[],r=>r.geometryType()],id:[Mn,[],r=>r.id()],zoom:[$i,[],r=>r.globals.zoom],pitch:[$i,[],r=>r.globals.pitch||0],"distance-from-center":[$i,[],r=>r.distanceFromCenter()],"heatmap-density":[$i,[],r=>r.globals.heatmapDensity||0],"line-progress":[$i,[],r=>r.globals.lineProgress||0],"sky-radial-progress":[$i,[],r=>r.globals.skyRadialProgress||0],accumulated:[Mn,[],r=>r.globals.accumulated===void 0?null:r.globals.accumulated],"+":[$i,Et($i),(r,i)=>{let o=0;for(const h of i)o+=h.evaluate(r);return o}],"*":[$i,Et($i),(r,i)=>{let o=1;for(const h of i)o*=h.evaluate(r);return o}],"-":{type:$i,overloads:[[[$i,$i],(r,[i,o])=>i.evaluate(r)-o.evaluate(r)],[[$i],(r,[i])=>-i.evaluate(r)]]},"/":[$i,[$i,$i],(r,[i,o])=>i.evaluate(r)/o.evaluate(r)],"%":[$i,[$i,$i],(r,[i,o])=>i.evaluate(r)%o.evaluate(r)],ln2:[$i,[],()=>Math.LN2],pi:[$i,[],()=>Math.PI],e:[$i,[],()=>Math.E],"^":[$i,[$i,$i],(r,[i,o])=>Math.pow(i.evaluate(r),o.evaluate(r))],sqrt:[$i,[$i],(r,[i])=>Math.sqrt(i.evaluate(r))],log10:[$i,[$i],(r,[i])=>Math.log(i.evaluate(r))/Math.LN10],ln:[$i,[$i],(r,[i])=>Math.log(i.evaluate(r))],log2:[$i,[$i],(r,[i])=>Math.log(i.evaluate(r))/Math.LN2],sin:[$i,[$i],(r,[i])=>Math.sin(i.evaluate(r))],cos:[$i,[$i],(r,[i])=>Math.cos(i.evaluate(r))],tan:[$i,[$i],(r,[i])=>Math.tan(i.evaluate(r))],asin:[$i,[$i],(r,[i])=>Math.asin(i.evaluate(r))],acos:[$i,[$i],(r,[i])=>Math.acos(i.evaluate(r))],atan:[$i,[$i],(r,[i])=>Math.atan(i.evaluate(r))],min:[$i,Et($i),(r,i)=>Math.min(...i.map(o=>o.evaluate(r)))],max:[$i,Et($i),(r,i)=>Math.max(...i.map(o=>o.evaluate(r)))],abs:[$i,[$i],(r,[i])=>Math.abs(i.evaluate(r))],round:[$i,[$i],(r,[i])=>{const o=i.evaluate(r);return o<0?-Math.round(-o):Math.round(o)}],floor:[$i,[$i],(r,[i])=>Math.floor(i.evaluate(r))],ceil:[$i,[$i],(r,[i])=>Math.ceil(i.evaluate(r))],"filter-==":[Xn,[Un,Mn],(r,[i,o])=>r.properties()[i.value]===o.value],"filter-id-==":[Xn,[Mn],(r,[i])=>r.id()===i.value],"filter-type-==":[Xn,[Un],(r,[i])=>r.geometryType()===i.value],"filter-<":[Xn,[Un,Mn],(r,[i,o])=>{const h=r.properties()[i.value],p=o.value;return typeof h==typeof p&&h<p}],"filter-id-<":[Xn,[Mn],(r,[i])=>{const o=r.id(),h=i.value;return typeof o==typeof h&&o<h}],"filter->":[Xn,[Un,Mn],(r,[i,o])=>{const h=r.properties()[i.value],p=o.value;return typeof h==typeof p&&h>p}],"filter-id->":[Xn,[Mn],(r,[i])=>{const o=r.id(),h=i.value;return typeof o==typeof h&&o>h}],"filter-<=":[Xn,[Un,Mn],(r,[i,o])=>{const h=r.properties()[i.value],p=o.value;return typeof h==typeof p&&h<=p}],"filter-id-<=":[Xn,[Mn],(r,[i])=>{const o=r.id(),h=i.value;return typeof o==typeof h&&o<=h}],"filter->=":[Xn,[Un,Mn],(r,[i,o])=>{const h=r.properties()[i.value],p=o.value;return typeof h==typeof p&&h>=p}],"filter-id->=":[Xn,[Mn],(r,[i])=>{const o=r.id(),h=i.value;return typeof o==typeof h&&o>=h}],"filter-has":[Xn,[Mn],(r,[i])=>i.value in r.properties()],"filter-has-id":[Xn,[],r=>r.id()!==null&&r.id()!==void 0],"filter-type-in":[Xn,[Pr(Un)],(r,[i])=>i.value.indexOf(r.geometryType())>=0],"filter-id-in":[Xn,[Pr(Mn)],(r,[i])=>i.value.indexOf(r.id())>=0],"filter-in-small":[Xn,[Un,Pr(Mn)],(r,[i,o])=>o.value.indexOf(r.properties()[i.value])>=0],"filter-in-large":[Xn,[Un,Pr(Mn)],(r,[i,o])=>function(h,p,v,T){for(;v<=T;){const B=v+T>>1;if(p[B]===h)return!0;p[B]>h?T=B-1:v=B+1}return!1}(r.properties()[i.value],o.value,0,o.value.length-1)],all:{type:Xn,overloads:[[[Xn,Xn],(r,[i,o])=>i.evaluate(r)&&o.evaluate(r)],[Et(Xn),(r,i)=>{for(const o of i)if(!o.evaluate(r))return!1;return!0}]]},any:{type:Xn,overloads:[[[Xn,Xn],(r,[i,o])=>i.evaluate(r)||o.evaluate(r)],[Et(Xn),(r,i)=>{for(const o of i)if(o.evaluate(r))return!0;return!1}]]},"!":[Xn,[Xn],(r,[i])=>!i.evaluate(r)],"is-supported-script":[Xn,[Un],(r,[i])=>{const o=r.globals&&r.globals.isSupportedScript;return!o||o(i.evaluate(r))}],upcase:[Un,[Un],(r,[i])=>i.evaluate(r).toUpperCase()],downcase:[Un,[Un],(r,[i])=>i.evaluate(r).toLowerCase()],concat:[Un,Et(Mn),(r,i)=>i.map(o=>hl(o.evaluate(r))).join("")],"resolved-locale":[Un,[Bl],(r,[i])=>i.evaluate(r).resolvedLocale()]});var Bt=jl;function _i(r){return{result:"success",value:r}}function Ut(r){return{result:"error",value:r}}function ri(r){return r["property-type"]==="data-driven"}function Mi(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function qi(r){return!!r.expression&&r.expression.interpolated}function Ii(r){return r instanceof Number?"number":r instanceof String?"string":r instanceof Boolean?"boolean":Array.isArray(r)?"array":r===null?"null":typeof r}function Tn(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function An(r){return r}function Pn(r,i){const o=i.type==="color",h=r.stops&&typeof r.stops[0][0]=="object",p=h||!(h||r.property!==void 0),v=r.type||(qi(i)?"exponential":"interval");if(o&&((r=Ys({},r)).stops&&(r.stops=r.stops.map(ie=>[ie[0],cr.parse(ie[1])])),r.default=cr.parse(r.default?r.default:i.default)),r.colorSpace&&r.colorSpace!=="rgb"&&!$h[r.colorSpace])throw new Error(`Unknown color space: ${r.colorSpace}`);let T,B,X;if(v==="exponential")T=xe;else if(v==="interval")T=bn;else if(v==="categorical"){T=ls,B=Object.create(null);for(const ie of r.stops)B[ie[0]]=ie[1];X=typeof r.stops[0][0]}else{if(v!=="identity")throw new Error(`Unknown function type "${v}"`);T=Se}if(h){const ie={},ue=[];for(let Ie=0;Ie<r.stops.length;Ie++){const Be=r.stops[Ie],He=Be[0].zoom;ie[He]===void 0&&(ie[He]={zoom:He,type:r.type,property:r.property,default:r.default,stops:[]},ue.push(He)),ie[He].stops.push([Be[0].value,Be[1]])}const be=[];for(const Ie of ue)be.push([ie[Ie].zoom,Pn(ie[Ie],i)]);const Me={name:"linear"};return{kind:"composite",interpolationType:Me,interpolationFactor:Ho.interpolationFactor.bind(void 0,Me),zoomStops:be.map(Ie=>Ie[0]),evaluate:({zoom:Ie},Be)=>xe({stops:be,base:r.base},i,Ie).evaluate(Ie,Be)}}if(p){const ie=v==="exponential"?{name:"exponential",base:r.base!==void 0?r.base:1}:null;return{kind:"camera",interpolationType:ie,interpolationFactor:Ho.interpolationFactor.bind(void 0,ie),zoomStops:r.stops.map(ue=>ue[0]),evaluate:({zoom:ue})=>T(r,i,ue,B,X)}}return{kind:"source",evaluate(ie,ue){const be=ue&&ue.properties?ue.properties[r.property]:void 0;return be===void 0?Gn(r.default,i.default):T(r,i,be,B,X)}}}function Gn(r,i,o){return r!==void 0?r:i!==void 0?i:o!==void 0?o:void 0}function ls(r,i,o,h,p){return Gn(typeof o===p?h[o]:void 0,r.default,i.default)}function bn(r,i,o){if(Ii(o)!=="number")return Gn(r.default,i.default);const h=r.stops.length;if(h===1||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[h-1][0])return r.stops[h-1][1];const p=pl(r.stops.map(v=>v[0]),o);return r.stops[p][1]}function xe(r,i,o){const h=r.base!==void 0?r.base:1;if(Ii(o)!=="number")return Gn(r.default,i.default);const p=r.stops.length;if(p===1||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[p-1][0])return r.stops[p-1][1];const v=pl(r.stops.map(ue=>ue[0]),o),T=function(ue,be,Me,Ie){const Be=Ie-Me,He=ue-Me;return Be===0?0:be===1?He/Be:(Math.pow(be,He)-1)/(Math.pow(be,Be)-1)}(o,h,r.stops[v][0],r.stops[v+1][0]),B=r.stops[v][1],X=r.stops[v+1][1];let ie=$r[i.type]||An;if(r.colorSpace&&r.colorSpace!=="rgb"){const ue=$h[r.colorSpace];ie=(be,Me)=>ue.reverse(ue.interpolate(ue.forward(be),ue.forward(Me),T))}return typeof B.evaluate=="function"?{evaluate(...ue){const be=B.evaluate.apply(void 0,ue),Me=X.evaluate.apply(void 0,ue);if(be!==void 0&&Me!==void 0)return ie(be,Me,T)}}:ie(B,X,T)}function Se(r,i,o){return i.type==="color"?o=cr.parse(o):i.type==="formatted"?o=Dr.fromString(o.toString()):i.type==="resolvedImage"?o=Lo.fromString(o.toString()):Ii(o)===i.type||i.type==="enum"&&i.values[o]||(o=void 0),Gn(o,r.default,i.default)}class Ve{constructor(i,o){this.expression=i,this._warningHistory={},this._evaluator=new Gc,this._defaultValue=o?function(h){return h.type==="color"&&(Tn(h.default)||Array.isArray(h.default))?new cr(0,0,0,0):h.type==="color"?cr.parse(h.default)||null:h.default===void 0?null:h.default}(o):null,this._enumValues=o&&o.type==="enum"?o.values:null}evaluateWithoutErrorHandling(i,o,h,p,v,T,B,X){return this._evaluator.globals=i,this._evaluator.feature=o,this._evaluator.featureState=h,this._evaluator.canonical=p||null,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=T,this._evaluator.featureTileCoord=B||null,this._evaluator.featureDistanceData=X||null,this.expression.evaluate(this._evaluator)}evaluate(i,o,h,p,v,T,B,X){this._evaluator.globals=i,this._evaluator.feature=o||null,this._evaluator.featureState=h||null,this._evaluator.canonical=p||null,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=T||null,this._evaluator.featureTileCoord=B||null,this._evaluator.featureDistanceData=X||null;try{const ie=this.expression.evaluate(this._evaluator);if(ie==null||typeof ie=="number"&&ie!=ie)return this._defaultValue;if(this._enumValues&&!(ie in this._enumValues))throw new Ir(`Expected value to be one of ${Object.keys(this._enumValues).map(ue=>JSON.stringify(ue)).join(", ")}, but found ${JSON.stringify(ie)} instead.`);return ie}catch(ie){return this._warningHistory[ie.message]||(this._warningHistory[ie.message]=!0,typeof console<"u"&&console.warn(ie.message)),this._defaultValue}}}function yt(r){return Array.isArray(r)&&r.length>0&&typeof r[0]=="string"&&r[0]in Bt}function bi(r,i){const o=new Os(Bt,[],i?function(p){const v={color:xo,string:Un,number:$i,enum:Un,boolean:Xn,formatted:$o,resolvedImage:ba};return p.type==="array"?Pr(v[p.value]||Mn,p.length):v[p.type]}(i):void 0),h=o.parse(r,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?_i(new Ve(h,i)):Ut(o.errors)}class un{constructor(i,o){this.kind=i,this._styleExpression=o,this.isStateDependent=i!=="constant"&&!Jn(o.expression)}evaluateWithoutErrorHandling(i,o,h,p,v,T){return this._styleExpression.evaluateWithoutErrorHandling(i,o,h,p,v,T)}evaluate(i,o,h,p,v,T){return this._styleExpression.evaluate(i,o,h,p,v,T)}}class rs{constructor(i,o,h,p){this.kind=i,this.zoomStops=h,this._styleExpression=o,this.isStateDependent=i!=="camera"&&!Jn(o.expression),this.interpolationType=p}evaluateWithoutErrorHandling(i,o,h,p,v,T){return this._styleExpression.evaluateWithoutErrorHandling(i,o,h,p,v,T)}evaluate(i,o,h,p,v,T){return this._styleExpression.evaluate(i,o,h,p,v,T)}interpolationFactor(i,o,h){return this.interpolationType?Ho.interpolationFactor(this.interpolationType,i,o,h):0}}function Rr(r,i){if((r=bi(r,i)).result==="error")return r;const o=r.value.expression,h=Ls(o);if(!h&&!ri(i))return Ut([new to("","data expressions not supported")]);const p=Qn(o,["zoom","pitch","distance-from-center"]);if(!p&&!Mi(i))return Ut([new to("","zoom expressions not supported")]);const v=Ga(o);return v||p?v instanceof to?Ut([v]):v instanceof Ho&&!qi(i)?Ut([new to("",'"interpolate" expressions cannot be used with this property')]):_i(v?new rs(h?"camera":"composite",r.value,v.labels,v instanceof Ho?v.interpolation:void 0):new un(h?"constant":"source",r.value)):Ut([new to("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class vr{constructor(i,o){this._parameters=i,this._specification=o,Ys(this,Pn(this._parameters,this._specification))}static deserialize(i){return new vr(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function Ga(r){let i=null;if(r instanceof Fl)i=Ga(r.result);else if(r instanceof xl){for(const o of r.args)if(i=Ga(o),i)break}else(r instanceof wo||r instanceof Ho)&&r.input instanceof bo&&r.input.name==="zoom"&&(i=r);return i instanceof to||r.eachChild(o=>{const h=Ga(o);h instanceof to?i=h:!i&&h?i=new to("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&h&&i!==h&&(i=new to("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}class Xi{constructor(i,o,h,p){this.message=(i?`${i}: `:"")+h,p&&(this.identifier=p),o!=null&&o.__line__&&(this.line=o.__line__)}}function Va(r){const i=r.key,o=r.value,h=r.valueSpec||{},p=r.objectElementValidators||{},v=r.style,T=r.styleSpec;let B=[];const X=Ii(o);if(X!=="object")return[new Xi(i,o,`object expected, ${X} found`)];for(const ie in o){const ue=ie.split(".")[0],be=h[ue]||h["*"];let Me;p[ue]?Me=p[ue]:h[ue]?Me=Fn:p["*"]?Me=p["*"]:h["*"]&&(Me=Fn),Me?B=B.concat(Me({key:(i&&`${i}.`)+ie,value:o[ie],valueSpec:be,style:v,styleSpec:T,object:o,objectKey:ie},o)):B.push(new Xi(i,o[ie],`unknown property "${ie}"`))}for(const ie in h)p[ie]||h[ie].required&&h[ie].default===void 0&&o[ie]===void 0&&B.push(new Xi(i,o,`missing required property "${ie}"`));return B}function Wc(r){const i=r.value,o=r.valueSpec,h=r.style,p=r.styleSpec,v=r.key,T=r.arrayElementValidator||Fn;if(Ii(i)!=="array")return[new Xi(v,i,`array expected, ${Ii(i)} found`)];if(o.length&&i.length!==o.length)return[new Xi(v,i,`array length ${o.length} expected, length ${i.length} found`)];if(o["min-length"]&&i.length<o["min-length"])return[new Xi(v,i,`array length at least ${o["min-length"]} expected, length ${i.length} found`)];let B={type:o.value,values:o.values,minimum:o.minimum,maximum:o.maximum,function:void 0};p.$version<7&&(B.function=o.function),Ii(o.value)==="object"&&(B=o.value);let X=[];for(let ie=0;ie<i.length;ie++)X=X.concat(T({array:i,arrayIndex:ie,value:i[ie],valueSpec:B,style:h,styleSpec:p,key:`${v}[${ie}]`}));return X}function Cd(r){const i=r.key,o=r.value,h=r.valueSpec;let p=Ii(o);if(p==="number"&&o!=o&&(p="NaN"),p!=="number")return[new Xi(i,o,`number expected, ${p} found`)];if("minimum"in h){let v=h.minimum;if(Ii(h.minimum)==="array"&&(v=h.minimum[r.arrayIndex]),o<v)return[new Xi(i,o,`${o} is less than the minimum value ${v}`)]}if("maximum"in h){let v=h.maximum;if(Ii(h.maximum)==="array"&&(v=h.maximum[r.arrayIndex]),o>v)return[new Xi(i,o,`${o} is greater than the maximum value ${v}`)]}return[]}function bu(r){const i=r.valueSpec,o=pr(r.value.type);let h,p,v,T={};const B=o!=="categorical"&&r.value.property===void 0,X=!B,ie=Ii(r.value.stops)==="array"&&Ii(r.value.stops[0])==="array"&&Ii(r.value.stops[0][0])==="object",ue=Va({key:r.key,value:r.value,valueSpec:r.styleSpec.function,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{stops:function(Ie){if(o==="identity")return[new Xi(Ie.key,Ie.value,'identity function may not have a "stops" property')];let Be=[];const He=Ie.value;return Be=Be.concat(Wc({key:Ie.key,value:He,valueSpec:Ie.valueSpec,style:Ie.style,styleSpec:Ie.styleSpec,arrayElementValidator:be})),Ii(He)==="array"&&He.length===0&&Be.push(new Xi(Ie.key,He,"array must have at least one stop")),Be},default:function(Ie){return Fn({key:Ie.key,value:Ie.value,valueSpec:i,style:Ie.style,styleSpec:Ie.styleSpec})}}});return o==="identity"&&B&&ue.push(new Xi(r.key,r.value,'missing required property "property"')),o==="identity"||r.value.stops||ue.push(new Xi(r.key,r.value,'missing required property "stops"')),o==="exponential"&&r.valueSpec.expression&&!qi(r.valueSpec)&&ue.push(new Xi(r.key,r.value,"exponential functions not supported")),r.styleSpec.$version>=8&&(X&&!ri(r.valueSpec)?ue.push(new Xi(r.key,r.value,"property functions not supported")):B&&!Mi(r.valueSpec)&&ue.push(new Xi(r.key,r.value,"zoom functions not supported"))),o!=="categorical"&&!ie||r.value.property!==void 0||ue.push(new Xi(r.key,r.value,'"property" property is required')),ue;function be(Ie){let Be=[];const He=Ie.value,tt=Ie.key;if(Ii(He)!=="array")return[new Xi(tt,He,`array expected, ${Ii(He)} found`)];if(He.length!==2)return[new Xi(tt,He,`array length 2 expected, length ${He.length} found`)];if(ie){if(Ii(He[0])!=="object")return[new Xi(tt,He,`object expected, ${Ii(He[0])} found`)];if(He[0].zoom===void 0)return[new Xi(tt,He,"object stop key must have zoom")];if(He[0].value===void 0)return[new Xi(tt,He,"object stop key must have value")];const gt=pr(He[0].zoom);if(typeof gt!="number")return[new Xi(tt,He[0].zoom,"stop zoom values must be numbers")];if(v&&v>gt)return[new Xi(tt,He[0].zoom,"stop zoom values must appear in ascending order")];gt!==v&&(v=gt,p=void 0,T={}),Be=Be.concat(Va({key:`${tt}[0]`,value:He[0],valueSpec:{zoom:{}},style:Ie.style,styleSpec:Ie.styleSpec,objectElementValidators:{zoom:Cd,value:Me}}))}else Be=Be.concat(Me({key:`${tt}[0]`,value:He[0],valueSpec:{},style:Ie.style,styleSpec:Ie.styleSpec},He));return yt(fr(He[1]))?Be.concat([new Xi(`${tt}[1]`,He[1],"expressions are not allowed in function stops.")]):Be.concat(Fn({key:`${tt}[1]`,value:He[1],valueSpec:i,style:Ie.style,styleSpec:Ie.styleSpec}))}function Me(Ie,Be){const He=Ii(Ie.value),tt=pr(Ie.value),gt=Ie.value!==null?Ie.value:Be;if(h){if(He!==h)return[new Xi(Ie.key,gt,`${He} stop domain type must match previous stop domain type ${h}`)]}else h=He;if(He!=="number"&&He!=="string"&&He!=="boolean"&&typeof tt!="number"&&typeof tt!="string"&&typeof tt!="boolean")return[new Xi(Ie.key,gt,"stop domain value must be a number, string, or boolean")];if(He!=="number"&&o!=="categorical"){let Ct=`number expected, ${He} found`;return ri(i)&&o===void 0&&(Ct+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Xi(Ie.key,gt,Ct)]}return o!=="categorical"||He!=="number"||typeof tt=="number"&&isFinite(tt)&&Math.floor(tt)===tt?o!=="categorical"&&He==="number"&&typeof tt=="number"&&typeof p=="number"&&p!==void 0&&tt<p?[new Xi(Ie.key,gt,"stop domain values must appear in ascending order")]:(p=tt,o==="categorical"&&tt in T?[new Xi(Ie.key,gt,"stop domain values must be unique")]:(T[tt]=!0,[])):[new Xi(Ie.key,gt,`integer expected, found ${String(tt)}`)]}}function qh(r){const i=(r.expressionContext==="property"?Rr:bi)(fr(r.value),r.valueSpec);if(i.result==="error")return i.value.map(h=>new Xi(`${r.key}${h.key}`,r.value,h.message));const o=i.value.expression||i.value._styleExpression.expression;if(r.expressionContext==="property"&&r.propertyKey==="text-font"&&!o.outputDefined())return[new Xi(r.key,r.value,`Invalid data expression for "${r.propertyKey}". Output values must be contained as literals within the expression.`)];if(r.expressionContext==="property"&&r.propertyType==="layout"&&!Jn(o))return[new Xi(r.key,r.value,'"feature-state" data expressions are not supported with layout properties.')];if(r.expressionContext==="filter")return Ap(o,r);if(r.expressionContext&&r.expressionContext.indexOf("cluster")===0){if(!Qn(o,["zoom","feature-state"]))return[new Xi(r.key,r.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(r.expressionContext==="cluster-initial"&&!Ls(o))return[new Xi(r.key,r.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ap(r,i){const o=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(i.valueSpec&&i.valueSpec.expression)for(const p of i.valueSpec.expression.parameters)o.delete(p);if(o.size===0)return[];const h=[];return r instanceof bo&&o.has(r.name)?[new Xi(i.key,i.value,`["${r.name}"] expression is not supported in a filter for a ${i.object.type} layer with id: ${i.object.id}`)]:(r.eachChild(p=>{h.push(...Ap(p,i))}),h)}function wu(r){const i=r.key,o=r.value,h=r.valueSpec,p=[];return Array.isArray(h.values)?h.values.indexOf(pr(o))===-1&&p.push(new Xi(i,o,`expected one of [${h.values.join(", ")}], ${JSON.stringify(o)} found`)):Object.keys(h.values).indexOf(pr(o))===-1&&p.push(new Xi(i,o,`expected one of [${Object.keys(h.values).join(", ")}], ${JSON.stringify(o)} found`)),p}function Xh(r){if(r===!0||r===!1)return!0;if(!Array.isArray(r)||r.length===0)return!1;switch(r[0]){case"has":return r.length>=2&&r[1]!=="$id"&&r[1]!=="$type";case"in":return r.length>=3&&(typeof r[1]!="string"||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return r.length!==3||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(const i of r.slice(1))if(!Xh(i)&&typeof i!="boolean")return!1;return!0;default:return!0}}function xr(r,i="fill"){if(r==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Xh(r)||(r=Ul(r));const o=r;let h=!0;try{h=function(ie){if(!Zh(ie))return ie;let ue=fr(ie);return Md(ue),ue=Xs(ue),ue}(o)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(o,null,2)}
        `)}const p=ci[`filter_${i}`],v=bi(h,p);let T=null;if(v.result==="error")throw new Error(v.value.map(ie=>`${ie.key}: ${ie.message}`).join(", "));T=(ie,ue,be)=>v.value.evaluate(ie,ue,{},be);let B=null,X=null;if(h!==o){const ie=bi(o,p);if(ie.result==="error")throw new Error(ie.value.map(ue=>`${ue.key}: ${ue.message}`).join(", "));B=(ue,be,Me,Ie,Be)=>ie.value.evaluate(ue,be,{},Me,void 0,void 0,Ie,Be),X=!Ls(ie.value.expression)}return{filter:T,dynamicFilter:B||void 0,needGeometry:Su(h),needFeature:!!X}}function Xs(r){if(!Array.isArray(r))return r;const i=function(o){if(Jf.has(o[0])){for(let h=1;h<o.length;h++)if(Zh(o[h]))return!0}return o}(r);return i===!0?i:i.map(o=>Xs(o))}function Md(r){let i=!1;const o=[];if(r[0]==="case"){for(let h=1;h<r.length-1;h+=2)i=i||Zh(r[h]),o.push(r[h+1]);o.push(r[r.length-1])}else if(r[0]==="match"){i=i||Zh(r[1]);for(let h=2;h<r.length-1;h+=2)o.push(r[h+1]);o.push(r[r.length-1])}else if(r[0]==="step"){i=i||Zh(r[1]);for(let h=1;h<r.length-1;h+=2)o.push(r[h+1])}i&&(r.length=0,r.push("any",...o));for(let h=1;h<r.length;h++)Md(r[h])}function Zh(r){if(!Array.isArray(r))return!1;if((i=r[0])==="pitch"||i==="distance-from-center")return!0;var i;for(let o=1;o<r.length;o++)if(Zh(r[o]))return!0;return!1}const Jf=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Fm(r,i){return r<i?-1:r>i?1:0}function Su(r){if(!Array.isArray(r))return!1;if(r[0]==="within")return!0;for(let i=1;i<r.length;i++)if(Su(r[i]))return!0;return!1}function Ul(r){if(!r)return!0;const i=r[0];return r.length<=1?i!=="any":i==="=="?Ad(r[1],r[2],"=="):i==="!="?Yc(Ad(r[1],r[2],"==")):i==="<"||i===">"||i==="<="||i===">="?Ad(r[1],r[2],i):i==="any"?(o=r.slice(1),["any"].concat(o.map(Ul))):i==="all"?["all"].concat(r.slice(1).map(Ul)):i==="none"?["all"].concat(r.slice(1).map(Ul).map(Yc)):i==="in"?fc(r[1],r.slice(2)):i==="!in"?Yc(fc(r[1],r.slice(2))):i==="has"?Kh(r[1]):i==="!has"?Yc(Kh(r[1])):i!=="within"||r;var o}function Ad(r,i,o){switch(r){case"$type":return[`filter-type-${o}`,i];case"$id":return[`filter-id-${o}`,i];default:return[`filter-${o}`,r,i]}}function fc(r,i){if(i.length===0)return!1;switch(r){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(o=>typeof o!=typeof i[0])?["filter-in-large",r,["literal",i.sort(Fm)]]:["filter-in-small",r,["literal",i]]}}function Kh(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function Yc(r){return["!",r]}function qc(r){return Xh(fr(r.value))?qh(Ys({},r,{expressionContext:"filter",valueSpec:r.styleSpec[`filter_${r.layerType||"fill"}`]})):xh(r)}function xh(r){const i=r.value,o=r.key;if(Ii(i)!=="array")return[new Xi(o,i,`array expected, ${Ii(i)} found`)];const h=r.styleSpec;let p,v=[];if(i.length<1)return[new Xi(o,i,"filter array must have at least 1 element")];switch(v=v.concat(wu({key:`${o}[0]`,value:i[0],valueSpec:h.filter_operator,style:r.style,styleSpec:r.styleSpec})),pr(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&pr(i[1])==="$type"&&v.push(new Xi(o,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":i.length!==3&&v.push(new Xi(o,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(p=Ii(i[1]),p!=="string"&&v.push(new Xi(`${o}[1]`,i[1],`string expected, ${p} found`)));for(let T=2;T<i.length;T++)p=Ii(i[T]),pr(i[1])==="$type"?v=v.concat(wu({key:`${o}[${T}]`,value:i[T],valueSpec:h.geometry_type,style:r.style,styleSpec:r.styleSpec})):p!=="string"&&p!=="number"&&p!=="boolean"&&v.push(new Xi(`${o}[${T}]`,i[T],`string, number, or boolean expected, ${p} found`));break;case"any":case"all":case"none":for(let T=1;T<i.length;T++)v=v.concat(xh({key:`${o}[${T}]`,value:i[T],style:r.style,styleSpec:r.styleSpec}));break;case"has":case"!has":p=Ii(i[1]),i.length!==2?v.push(new Xi(o,i,`filter array for "${i[0]}" operator must have 2 elements`)):p!=="string"&&v.push(new Xi(`${o}[1]`,i[1],`string expected, ${p} found`));break;case"within":p=Ii(i[1]),i.length!==2?v.push(new Xi(o,i,`filter array for "${i[0]}" operator must have 2 elements`)):p!=="object"&&v.push(new Xi(`${o}[1]`,i[1],`object expected, ${p} found`))}return v}function kp(r,i){const o=r.key,h=r.style,p=r.styleSpec,v=r.value,T=r.objectKey,B=p[`${i}_${r.layerType}`];if(!B)return[];const X=T.match(/^(.*)-transition$/);if(i==="paint"&&X&&B[X[1]]&&B[X[1]].transition)return Fn({key:o,value:v,valueSpec:p.transition,style:h,styleSpec:p});const ie=r.valueSpec||B[T];if(!ie)return[new Xi(o,v,`unknown property "${T}"`)];let ue;if(Ii(v)==="string"&&ri(ie)&&!ie.tokens&&(ue=/^{([^}]+)}$/.exec(v)))return[new Xi(o,v,`"${T}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(ue[1])} }\`.`)];const be=[];return r.layerType==="symbol"&&(T==="text-field"&&h&&!h.glyphs&&be.push(new Xi(o,v,'use of "text-field" requires a style "glyphs" property')),T==="text-font"&&Tn(fr(v))&&pr(v.type)==="identity"&&be.push(new Xi(o,v,'"text-font" does not support identity functions'))),be.concat(Fn({key:r.key,value:v,valueSpec:ie,style:h,styleSpec:p,expressionContext:"property",propertyType:i,propertyKey:T}))}function Pp(r){return kp(r,"paint")}function Qf(r){return kp(r,"layout")}function Tu(r){let i=[];const o=r.value,h=r.key,p=r.style,v=r.styleSpec;o.type||o.ref||i.push(new Xi(h,o,'either "type" or "ref" is required'));let T=pr(o.type);const B=pr(o.ref);if(o.id){const X=pr(o.id);for(let ie=0;ie<r.arrayIndex;ie++){const ue=p.layers[ie];pr(ue.id)===X&&i.push(new Xi(h,o.id,`duplicate layer id "${o.id}", previously used at line ${ue.id.__line__}`))}}if("ref"in o){let X;["type","source","source-layer","filter","layout"].forEach(ie=>{ie in o&&i.push(new Xi(h,o[ie],`"${ie}" is prohibited for ref layers`))}),p.layers.forEach(ie=>{pr(ie.id)===B&&(X=ie)}),X?X.ref?i.push(new Xi(h,o.ref,"ref cannot reference another ref layer")):T=pr(X.type):typeof B=="string"&&i.push(new Xi(h,o.ref,`ref layer "${B}" not found`))}else if(T!=="background"&&T!=="sky")if(o.source){const X=p.sources&&p.sources[o.source],ie=X&&pr(X.type);X?ie==="vector"&&T==="raster"?i.push(new Xi(h,o.source,`layer "${o.id}" requires a raster source`)):ie==="raster"&&T!=="raster"?i.push(new Xi(h,o.source,`layer "${o.id}" requires a vector source`)):ie!=="vector"||o["source-layer"]?ie==="raster-dem"&&T!=="hillshade"?i.push(new Xi(h,o.source,"raster-dem source can only be used with layer type 'hillshade'.")):T!=="line"||!o.paint||!o.paint["line-gradient"]&&!o.paint["line-trim-offset"]||ie==="geojson"&&X.lineMetrics||i.push(new Xi(h,o,`layer "${o.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new Xi(h,o,`layer "${o.id}" must specify a "source-layer"`)):i.push(new Xi(h,o.source,`source "${o.source}" not found`))}else i.push(new Xi(h,o,'missing required property "source"'));return i=i.concat(Va({key:h,value:o,valueSpec:v.layer,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Fn({key:`${h}.type`,value:o.type,valueSpec:v.layer.type,style:r.style,styleSpec:r.styleSpec,object:o,objectKey:"type"}),filter:X=>qc(Ys({layerType:T},X)),layout:X=>Va({layer:o,key:X.key,value:X.value,valueSpec:{},style:X.style,styleSpec:X.styleSpec,objectElementValidators:{"*":ie=>Qf(Ys({layerType:T},ie))}}),paint:X=>Va({layer:o,key:X.key,value:X.value,valueSpec:{},style:X.style,styleSpec:X.styleSpec,objectElementValidators:{"*":ie=>Pp(Ys({layerType:T},ie))}})}})),i}function mc(r){const i=r.value,o=r.key,h=Ii(i);return h!=="string"?[new Xi(o,i,`string expected, ${h} found`)]:[]}const Jh={promoteId:function({key:r,value:i}){if(Ii(i)==="string")return mc({key:r,value:i});{const o=[];for(const h in i)o.push(...mc({key:`${r}.${h}`,value:i[h]}));return o}}};function Qh(r){const i=r.value,o=r.key,h=r.styleSpec,p=r.style;if(!i.type)return[new Xi(o,i,'"type" is required')];const v=pr(i.type);let T;switch(v){case"vector":case"raster":case"raster-dem":return T=Va({key:o,value:i,valueSpec:h[`source_${v.replace("-","_")}`],style:r.style,styleSpec:h,objectElementValidators:Jh}),T;case"geojson":if(T=Va({key:o,value:i,valueSpec:h.source_geojson,style:p,styleSpec:h,objectElementValidators:Jh}),i.cluster)for(const B in i.clusterProperties){const[X,ie]=i.clusterProperties[B],ue=typeof X=="string"?[X,["accumulated"],["get",B]]:X;T.push(...qh({key:`${o}.${B}.map`,value:ie,expressionContext:"cluster-map"})),T.push(...qh({key:`${o}.${B}.reduce`,value:ue,expressionContext:"cluster-reduce"}))}return T;case"video":return Va({key:o,value:i,valueSpec:h.source_video,style:p,styleSpec:h});case"image":return Va({key:o,value:i,valueSpec:h.source_image,style:p,styleSpec:h});case"canvas":return[new Xi(o,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return wu({key:`${o}.type`,value:i.type,valueSpec:{values:Dp(h)},style:p,styleSpec:h})}}function Dp(r){return r.source.reduce((i,o)=>{const h=r[o];return h.type.type==="enum"&&(i=i.concat(Object.keys(h.type.values))),i},[])}function it(r){const i=r.value,o=r.styleSpec,h=o.light,p=r.style;let v=[];const T=Ii(i);if(i===void 0)return v;if(T!=="object")return v=v.concat([new Xi("light",i,`object expected, ${T} found`)]),v;for(const B in i){const X=B.match(/^(.*)-transition$/);v=v.concat(X&&h[X[1]]&&h[X[1]].transition?Fn({key:B,value:i[B],valueSpec:o.transition,style:p,styleSpec:o}):h[B]?Fn({key:B,value:i[B],valueSpec:h[B],style:p,styleSpec:o}):[new Xi(B,i[B],`unknown property "${B}"`)])}return v}function gc(r){const i=r.value,o=r.key,h=r.style,p=r.styleSpec,v=p.terrain;let T=[];const B=Ii(i);if(i===void 0)return T;if(B!=="object")return T=T.concat([new Xi("terrain",i,`object expected, ${B} found`)]),T;for(const X in i){const ie=X.match(/^(.*)-transition$/);T=T.concat(ie&&v[ie[1]]&&v[ie[1]].transition?Fn({key:X,value:i[X],valueSpec:p.transition,style:h,styleSpec:p}):v[X]?Fn({key:X,value:i[X],valueSpec:v[X],style:h,styleSpec:p}):[new Xi(X,i[X],`unknown property "${X}"`)])}if(i.source){const X=h.sources&&h.sources[i.source],ie=X&&pr(X.type);X?ie!=="raster-dem"&&T.push(new Xi(o,i.source,`terrain cannot be used with a source of type ${String(ie)}, it only be used with a "raster-dem" source type`)):T.push(new Xi(o,i.source,`source "${i.source}" not found`))}else T.push(new Xi(o,i,'terrain is missing required property "source"'));return T}function kd(r){const i=r.value,o=r.style,h=r.styleSpec,p=h.fog;let v=[];const T=Ii(i);if(i===void 0)return v;if(T!=="object")return v=v.concat([new Xi("fog",i,`object expected, ${T} found`)]),v;for(const B in i){const X=B.match(/^(.*)-transition$/);v=v.concat(X&&p[X[1]]&&p[X[1]].transition?Fn({key:B,value:i[B],valueSpec:h.transition,style:o,styleSpec:h}):p[B]?Fn({key:B,value:i[B],valueSpec:p[B],style:o,styleSpec:h}):[new Xi(B,i[B],`unknown property "${B}"`)])}return v}const Ea={"*":()=>[],array:Wc,boolean:function(r){const i=r.value,o=r.key,h=Ii(i);return h!=="boolean"?[new Xi(o,i,`boolean expected, ${h} found`)]:[]},number:Cd,color:function(r){const i=r.key,o=r.value,h=Ii(o);return h!=="string"?[new Xi(i,o,`color expected, ${h} found`)]:Ba(o)===null?[new Xi(i,o,`color expected, "${o}" found`)]:[]},enum:wu,filter:qc,function:bu,layer:Tu,object:Va,source:Qh,light:it,terrain:gc,fog:kd,string:mc,formatted:function(r){return mc(r).length===0?[]:qh(r)},resolvedImage:function(r){return mc(r).length===0?[]:qh(r)},projection:function(r){const i=r.value,o=r.styleSpec,h=o.projection,p=r.style;let v=[];const T=Ii(i);if(T==="object")for(const B in i)v=v.concat(Fn({key:B,value:i[B],valueSpec:h[B],style:p,styleSpec:o}));else T!=="string"&&(v=v.concat([new Xi("projection",i,`object or string expected, ${T} found`)]));return v}};function Fn(r){const i=r.value,o=r.valueSpec,h=r.styleSpec;return o.expression&&Tn(pr(i))?bu(r):o.expression&&yt(fr(i))?qh(r):o.type&&Ea[o.type]?Ea[o.type](r):Va(Ys({},r,{valueSpec:o.type?h[o.type]:o}))}function Nm(r){const i=r.value,o=r.key,h=mc(r);return h.length||(i.indexOf("{fontstack}")===-1&&h.push(new Xi(o,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&h.push(new Xi(o,i,'"glyphs" url must include a "{range}" token'))),h}function Ip(r,i=ci){return _c(Fn({key:"",value:r,valueSpec:i.$root,styleSpec:i,style:r,objectElementValidators:{glyphs:Nm,"*":()=>[]}}))}const jm=r=>_c(Pp(r)),bh=r=>_c(Qf(r));function _c(r){return r.slice().sort((i,o)=>i.line&&o.line?i.line-o.line:0)}function e0(r,i){let o=!1;if(i&&i.length)for(const h of i)r.fire(new la(new Error(h.message))),o=!0;return o}var ed=Gl;function Gl(r,i,o){var h=this.cells=[];if(r instanceof ArrayBuffer){this.arrayBuffer=r;var p=new Int32Array(this.arrayBuffer);r=p[0],this.d=(i=p[1])+2*(o=p[2]);for(var v=0;v<this.d*this.d;v++){var T=p[3+v],B=p[3+v+1];h.push(T===B?null:p.subarray(T,B))}var X=p[3+h.length+1];this.keys=p.subarray(p[3+h.length],X),this.bboxes=p.subarray(X),this.insert=this._insertReadonly}else{this.d=i+2*o;for(var ie=0;ie<this.d*this.d;ie++)h.push([]);this.keys=[],this.bboxes=[]}this.n=i,this.extent=r,this.padding=o,this.scale=i/r,this.uid=0;var ue=o/i*r;this.min=-ue,this.max=r+ue}Gl.prototype.insert=function(r,i,o,h,p){this._forEachCell(i,o,h,p,this._insertCell,this.uid++),this.keys.push(r),this.bboxes.push(i),this.bboxes.push(o),this.bboxes.push(h),this.bboxes.push(p)},Gl.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Gl.prototype._insertCell=function(r,i,o,h,p,v){this.cells[p].push(v)},Gl.prototype.query=function(r,i,o,h,p){var v=this.min,T=this.max;if(r<=v&&i<=v&&T<=o&&T<=h&&!p)return Array.prototype.slice.call(this.keys);var B=[];return this._forEachCell(r,i,o,h,this._queryCell,B,{},p),B},Gl.prototype._queryCell=function(r,i,o,h,p,v,T,B){var X=this.cells[p];if(X!==null)for(var ie=this.keys,ue=this.bboxes,be=0;be<X.length;be++){var Me=X[be];if(T[Me]===void 0){var Ie=4*Me;(B?B(ue[Ie+0],ue[Ie+1],ue[Ie+2],ue[Ie+3]):r<=ue[Ie+2]&&i<=ue[Ie+3]&&o>=ue[Ie+0]&&h>=ue[Ie+1])?(T[Me]=!0,v.push(ie[Me])):T[Me]=!1}}},Gl.prototype._forEachCell=function(r,i,o,h,p,v,T,B){for(var X=this._convertToCellCoord(r),ie=this._convertToCellCoord(i),ue=this._convertToCellCoord(o),be=this._convertToCellCoord(h),Me=X;Me<=ue;Me++)for(var Ie=ie;Ie<=be;Ie++){var Be=this.d*Ie+Me;if((!B||B(this._convertFromCellCoord(Me),this._convertFromCellCoord(Ie),this._convertFromCellCoord(Me+1),this._convertFromCellCoord(Ie+1)))&&p.call(this,r,i,o,h,Be,v,T,B))return}},Gl.prototype._convertFromCellCoord=function(r){return(r-this.padding)/this.scale},Gl.prototype._convertToCellCoord=function(r){return Math.max(0,Math.min(this.d-1,Math.floor(r*this.scale)+this.padding))},Gl.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var r=this.cells,i=3+this.cells.length+1+1,o=0,h=0;h<this.cells.length;h++)o+=this.cells[h].length;var p=new Int32Array(i+o+this.keys.length+this.bboxes.length);p[0]=this.extent,p[1]=this.n,p[2]=this.padding;for(var v=i,T=0;T<r.length;T++){var B=r[T];p[3+T]=v,p.set(B,v),v+=B.length}return p[3+r.length]=v,p.set(this.keys,v),p[3+r.length+1]=v+=this.keys.length,p.set(this.bboxes,v),v+=this.bboxes.length,p.buffer};const Eu={};function Yi(r,i,o={}){Object.defineProperty(r,"_classRegistryKey",{value:i,writeable:!1}),Eu[i]={klass:r,omit:o.omit||[]}}Yi(Object,"Object"),ed.serialize=function(r,i){const o=r.toArrayBuffer();return i&&i.push(o),{buffer:o}},ed.deserialize=function(r){return new ed(r.buffer)},Object.defineProperty(ed,"name",{value:"Grid"}),Yi(ed,"Grid"),Yi(cr,"Color"),Yi(Error,"Error"),Yi(di,"AJAXError"),Yi(Lo,"ResolvedImage"),Yi(vr,"StylePropertyFunction"),Yi(Ve,"StyleExpression",{omit:["_evaluator"]}),Yi(rs,"ZoomDependentExpression"),Yi(un,"ZoomConstantExpression"),Yi(bo,"CompoundExpression",{omit:["_evaluate"]});for(const r in Bt)Eu[Bt[r]._classRegistryKey]||Yi(Bt[r],`Expression${r}`);function t0(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&r.constructor.name==="ArrayBuffer")}function i0(r){return S.ImageBitmap&&r instanceof S.ImageBitmap}function Xc(r,i){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp)return r;if(t0(r)||i0(r))return i&&i.push(r),r;if(ArrayBuffer.isView(r)){const o=r;return i&&i.push(o.buffer),o}if(r instanceof S.ImageData)return i&&i.push(r.data.buffer),r;if(Array.isArray(r)){const o=[];for(const h of r)o.push(Xc(h,i));return o}if(typeof r=="object"){const o=r.constructor,h=o._classRegistryKey;if(!h)throw new Error(`can't serialize object of unregistered class ${h}`);const p=o.serialize?o.serialize(r,i):{};if(!o.serialize){for(const v in r)r.hasOwnProperty(v)&&(Eu[h].omit.indexOf(v)>=0||(p[v]=Xc(r[v],i)));r instanceof Error&&(p.message=r.message)}if(p.$name)throw new Error("$name property is reserved for worker serialization logic.");return h!=="Object"&&(p.$name=h),p}throw new Error("can't serialize object of type "+typeof r)}function Pd(r){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp||t0(r)||i0(r)||ArrayBuffer.isView(r)||r instanceof S.ImageData)return r;if(Array.isArray(r))return r.map(Pd);if(typeof r=="object"){const i=r.$name||"Object",{klass:o}=Eu[i];if(!o)throw new Error(`can't deserialize unregistered class ${i}`);if(o.deserialize)return o.deserialize(r);const h=Object.create(o.prototype);for(const p of Object.keys(r))p!=="$name"&&(h[p]=Pd(r[p]));return h}throw new Error("can't deserialize object of type "+typeof r)}const Lp=r=>r>=1536&&r<=1791,Vl=r=>r>=1872&&r<=1919,Op=r=>r>=2208&&r<=2303,Rp=r=>r>=11904&&r<=12031,Bp=r=>r>=12032&&r<=12255,zp=r=>r>=12272&&r<=12287,td=r=>r>=12288&&r<=12351,wl=r=>r>=12352&&r<=12447,Cu=r=>r>=12448&&r<=12543,n0=r=>r>=12544&&r<=12591,Ca=r=>r>=12704&&r<=12735,s0=r=>r>=12736&&r<=12783,r0=r=>r>=12784&&r<=12799,o0=r=>r>=12800&&r<=13055,a0=r=>r>=13056&&r<=13311,l0=r=>r>=13312&&r<=19903,Mu=r=>r>=19968&&r<=40959,Fp=r=>r>=40960&&r<=42127,c0=r=>r>=42128&&r<=42191,Np=r=>r>=44032&&r<=55215,wh=r=>r>=63744&&r<=64255,y=r=>r>=64336&&r<=65023,l=r=>r>=65040&&r<=65055,u=r=>r>=65072&&r<=65103,b=r=>r>=65104&&r<=65135,I=r=>r>=65136&&r<=65279,F=r=>r>=65280&&r<=65519;function se(r){for(const i of r)if(De(i.charCodeAt(0)))return!0;return!1}function de(r){for(const i of r)if(!fe(i.charCodeAt(0)))return!1;return!0}function fe(r){return!(Lp(r)||Vl(r)||Op(r)||y(r)||I(r))}function De(r){return!(r!==746&&r!==747&&(r<4352||!(Ca(r)||n0(r)||u(r)&&!(r>=65097&&r<=65103)||wh(r)||a0(r)||Rp(r)||s0(r)||!(!td(r)||r>=12296&&r<=12305||r>=12308&&r<=12319||r===12336)||l0(r)||Mu(r)||o0(r)||(i=>i>=12592&&i<=12687)(r)||(i=>i>=43360&&i<=43391)(r)||(i=>i>=55216&&i<=55295)(r)||(i=>i>=4352&&i<=4607)(r)||Np(r)||wl(r)||zp(r)||(i=>i>=12688&&i<=12703)(r)||Bp(r)||r0(r)||Cu(r)&&r!==12540||!(!F(r)||r===65288||r===65289||r===65293||r>=65306&&r<=65310||r===65339||r===65341||r===65343||r>=65371&&r<=65503||r===65507||r>=65512&&r<=65519)||!(!b(r)||r>=65112&&r<=65118||r>=65123&&r<=65126)||(i=>i>=5120&&i<=5759)(r)||(i=>i>=6320&&i<=6399)(r)||l(r)||(i=>i>=19904&&i<=19967)(r)||Fp(r)||c0(r))))}function ke(r){return!(De(r)||function(i){return!!((o=>o>=128&&o<=255)(i)&&(i===167||i===169||i===174||i===177||i===188||i===189||i===190||i===215||i===247)||(o=>o>=8192&&o<=8303)(i)&&(i===8214||i===8224||i===8225||i===8240||i===8241||i===8251||i===8252||i===8258||i===8263||i===8264||i===8265||i===8273)||(o=>o>=8448&&o<=8527)(i)||(o=>o>=8528&&o<=8591)(i)||(o=>o>=8960&&o<=9215)(i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215)||(o=>o>=9216&&o<=9279)(i)&&i!==9251||(o=>o>=9280&&o<=9311)(i)||(o=>o>=9312&&o<=9471)(i)||(o=>o>=9632&&o<=9727)(i)||(o=>o>=9728&&o<=9983)(i)&&!(i>=9754&&i<=9759)||(o=>o>=11008&&o<=11263)(i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||td(i)||Cu(i)||(o=>o>=57344&&o<=63743)(i)||u(i)||b(i)||F(i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533)}(r))}function Ne(r){return r>=1424&&r<=2303||y(r)||I(r)}function Ze(r,i){return!(!i&&Ne(r)||r>=2304&&r<=3583||r>=3840&&r<=4255||(o=>o>=6016&&o<=6143)(r))}function at(r){for(const i of r)if(Ne(i.charCodeAt(0)))return!0;return!1}const lt="deferred",dt="loading",et="loaded";let nt=null,ft="unavailable",ct=null;const vt=function(r){r&&typeof r=="string"&&r.indexOf("NetworkError")>-1&&(ft="error"),nt&&nt(r)};function At(){wt.fire(new aa("pluginStateChange",{pluginStatus:ft,pluginURL:ct}))}const wt=new Vr,zt=function(){return ft},Qt=function(){if(ft!==lt||!ct)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ft=dt,At(),ct&&Ei({url:ct},r=>{r?vt(r):(ft=et,At())})},Zt={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>ft===et||Zt.applyArabicShaping!=null,isLoading:()=>ft===dt,setState(r){ft=r.pluginStatus,ct=r.pluginURL},isParsed:()=>Zt.applyArabicShaping!=null&&Zt.processBidirectionalText!=null&&Zt.processStyledBidirectionalText!=null,getPluginURL:()=>ct};class Gt{constructor(i,o){this.zoom=i,o?(this.now=o.now,this.fadeDuration=o.fadeDuration,this.transition=o.transition,this.pitch=o.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(i){return function(o,h){for(const p of o)if(!Ze(p.charCodeAt(0),h))return!1;return!0}(i,Zt.isLoaded())}}class wi{constructor(i,o){this.property=i,this.value=o,this.expression=function(h,p){if(Tn(h))return new vr(h,p);if(yt(h)){const v=Rr(h,p);if(v.result==="error")throw new Error(v.value.map(T=>`${T.key}: ${T.message}`).join(", "));return v.value}{let v=h;return typeof h=="string"&&p.type==="color"&&(v=cr.parse(h)),{kind:"constant",evaluate:()=>v}}}(o===void 0?i.specification.default:o,i.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(i,o,h){return this.property.possiblyEvaluate(this,i,o,h)}}class Yt{constructor(i){this.property=i,this.value=new wi(i,void 0)}transitioned(i,o){return new ti(this.property,this.value,o,K({},i.transition,this.transition),i.now)}untransitioned(){return new ti(this.property,this.value,null,{},0)}}class pi{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return ye(this._values[i].value.value)}setValue(i,o){this._values.hasOwnProperty(i)||(this._values[i]=new Yt(this._values[i].property)),this._values[i].value=new wi(this._values[i].property,o===null?void 0:ye(o))}getTransition(i){return ye(this._values[i].transition)}setTransition(i,o){this._values.hasOwnProperty(i)||(this._values[i]=new Yt(this._values[i].property)),this._values[i].transition=ye(o)||void 0}serialize(){const i={};for(const o of Object.keys(this._values)){const h=this.getValue(o);h!==void 0&&(i[o]=h);const p=this.getTransition(o);p!==void 0&&(i[`${o}-transition`]=p)}return i}transitioned(i,o){const h=new ki(this._properties);for(const p of Object.keys(this._values))h._values[p]=this._values[p].transitioned(i,o._values[p]);return h}untransitioned(){const i=new ki(this._properties);for(const o of Object.keys(this._values))i._values[o]=this._values[o].untransitioned();return i}}class ti{constructor(i,o,h,p,v){const T=p.delay||0,B=p.duration||0;v=v||0,this.property=i,this.value=o,this.begin=v+T,this.end=this.begin+B,i.specification.transition&&(p.delay||p.duration)&&(this.prior=h)}possiblyEvaluate(i,o,h){const p=i.now||0,v=this.value.possiblyEvaluate(i,o,h),T=this.prior;if(T){if(p>this.end)return this.prior=null,v;if(this.value.isDataDriven())return this.prior=null,v;if(p<this.begin)return T.possiblyEvaluate(i,o,h);{const B=(p-this.begin)/(this.end-this.begin);return this.property.interpolate(T.possiblyEvaluate(i,o,h),v,w(B))}}return v}}class ki{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,o,h){const p=new Li(this._properties);for(const v of Object.keys(this._values))p._values[v]=this._values[v].possiblyEvaluate(i,o,h);return p}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class ii{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}getValue(i){return ye(this._values[i].value)}setValue(i,o){this._values[i]=new wi(this._values[i].property,o===null?void 0:ye(o))}serialize(){const i={};for(const o of Object.keys(this._values)){const h=this.getValue(o);h!==void 0&&(i[o]=h)}return i}possiblyEvaluate(i,o,h){const p=new Li(this._properties);for(const v of Object.keys(this._values))p._values[v]=this._values[v].possiblyEvaluate(i,o,h);return p}}class vi{constructor(i,o,h){this.property=i,this.value=o,this.parameters=h}isConstant(){return this.value.kind==="constant"}constantOr(i){return this.value.kind==="constant"?this.value.value:i}evaluate(i,o,h,p){return this.property.evaluate(this.value,this.parameters,i,o,h,p)}}class Li{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class $t{constructor(i){this.specification=i}possiblyEvaluate(i,o){return i.expression.evaluate(o)}interpolate(i,o,h){const p=$r[this.specification.type];return p?p(i,o,h):i}}class ei{constructor(i,o){this.specification=i,this.overrides=o}possiblyEvaluate(i,o,h,p){return new vi(this,i.expression.kind==="constant"||i.expression.kind==="camera"?{kind:"constant",value:i.expression.evaluate(o,null,{},h,p)}:i.expression,o)}interpolate(i,o,h){if(i.value.kind!=="constant"||o.value.kind!=="constant")return i;if(i.value.value===void 0||o.value.value===void 0)return new vi(this,{kind:"constant",value:void 0},i.parameters);const p=$r[this.specification.type];return p?new vi(this,{kind:"constant",value:p(i.value.value,o.value.value,h)},i.parameters):i}evaluate(i,o,h,p,v,T){return i.kind==="constant"?i.value:i.evaluate(o,h,p,v,T)}}class on{constructor(i){this.specification=i}possiblyEvaluate(i,o,h,p){return!!i.expression.evaluate(o,null,{},h,p)}interpolate(){return!1}}class pn{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const o=new Gt(0,{});for(const h in i){const p=i[h];p.specification.overridable&&this.overridableProperties.push(h);const v=this.defaultPropertyValues[h]=new wi(p,void 0),T=this.defaultTransitionablePropertyValues[h]=new Yt(p);this.defaultTransitioningPropertyValues[h]=T.untransitioned(),this.defaultPossiblyEvaluatedValues[h]=v.possiblyEvaluate(o)}}}function an(r,i){return 256*(r=g(Math.floor(r),0,255))+g(Math.floor(i),0,255)}Yi(ei,"DataDrivenProperty"),Yi($t,"DataConstantProperty"),Yi(on,"ColorRampProperty");const kn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Wn{constructor(i,o){this._structArray=i,this._pos1=o*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class _n{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,o){return i._trim(),o&&(i.isTransferred=!0,o.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const o=Object.create(this.prototype);return o.arrayBuffer=i.arrayBuffer,o.length=i.length,o.capacity=i.arrayBuffer.byteLength/o.bytesPerElement,o._refreshViews(),o}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const o=this.uint8;this._refreshViews(),o&&this.uint8.set(o)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Ji(r,i=1){let o=0,h=0;return{members:r.map(p=>{const v=kn[p.type].BYTES_PER_ELEMENT,T=o=Fs(o,Math.max(i,v)),B=p.components||1;return h=Math.max(h,v),o+=v*B,{name:p.name,type:p.type,components:B,offset:T}}),size:Fs(o,Math.max(h,i)),alignment:i}}function Fs(r,i){return Math.ceil(r/i)*i}class Ms extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o){const h=this.length;return this.resize(h+1),this.emplace(h,i,o)}emplace(i,o,h){const p=2*i;return this.int16[p+0]=o,this.int16[p+1]=h,i}}Ms.prototype.bytesPerElement=4,Yi(Ms,"StructArrayLayout2i4");class js extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,h){const p=this.length;return this.resize(p+1),this.emplace(p,i,o,h)}emplace(i,o,h,p){const v=3*i;return this.int16[v+0]=o,this.int16[v+1]=h,this.int16[v+2]=p,i}}js.prototype.bytesPerElement=6,Yi(js,"StructArrayLayout3i6");class Rs extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,h,p)}emplace(i,o,h,p,v){const T=4*i;return this.int16[T+0]=o,this.int16[T+1]=h,this.int16[T+2]=p,this.int16[T+3]=v,i}}Rs.prototype.bytesPerElement=8,Yi(Rs,"StructArrayLayout4i8");class da extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,B){const X=this.length;return this.resize(X+1),this.emplace(X,i,o,h,p,v,T,B)}emplace(i,o,h,p,v,T,B,X){const ie=6*i,ue=12*i,be=3*i;return this.int16[ie+0]=o,this.int16[ie+1]=h,this.uint8[ue+4]=p,this.uint8[ue+5]=v,this.uint8[ue+6]=T,this.uint8[ue+7]=B,this.float32[be+2]=X,i}}da.prototype.bytesPerElement=12,Yi(da,"StructArrayLayout2i4ub1f12");class Yo extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,h,p)}emplace(i,o,h,p,v){const T=4*i;return this.float32[T+0]=o,this.float32[T+1]=h,this.float32[T+2]=p,this.float32[T+3]=v,i}}Yo.prototype.bytesPerElement=16,Yi(Yo,"StructArrayLayout4f16");class zo extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v){const T=this.length;return this.resize(T+1),this.emplace(T,i,o,h,p,v)}emplace(i,o,h,p,v,T){const B=6*i,X=3*i;return this.uint16[B+0]=o,this.uint16[B+1]=h,this.uint16[B+2]=p,this.uint16[B+3]=v,this.float32[X+2]=T,i}}zo.prototype.bytesPerElement=12,Yi(zo,"StructArrayLayout4ui1f12");class Sl extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,h,p)}emplace(i,o,h,p,v){const T=4*i;return this.uint16[T+0]=o,this.uint16[T+1]=h,this.uint16[T+2]=p,this.uint16[T+3]=v,i}}Sl.prototype.bytesPerElement=8,Yi(Sl,"StructArrayLayout4ui8");class Zs extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T){const B=this.length;return this.resize(B+1),this.emplace(B,i,o,h,p,v,T)}emplace(i,o,h,p,v,T,B){const X=6*i;return this.int16[X+0]=o,this.int16[X+1]=h,this.int16[X+2]=p,this.int16[X+3]=v,this.int16[X+4]=T,this.int16[X+5]=B,i}}Zs.prototype.bytesPerElement=12,Yi(Zs,"StructArrayLayout6i12");class Bs extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,B,X,ie,ue,be,Me){const Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,i,o,h,p,v,T,B,X,ie,ue,be,Me)}emplace(i,o,h,p,v,T,B,X,ie,ue,be,Me,Ie){const Be=12*i;return this.int16[Be+0]=o,this.int16[Be+1]=h,this.int16[Be+2]=p,this.int16[Be+3]=v,this.uint16[Be+4]=T,this.uint16[Be+5]=B,this.uint16[Be+6]=X,this.uint16[Be+7]=ie,this.int16[Be+8]=ue,this.int16[Be+9]=be,this.int16[Be+10]=Me,this.int16[Be+11]=Ie,i}}Bs.prototype.bytesPerElement=24,Yi(Bs,"StructArrayLayout4i4ui4i24");class Ts extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T){const B=this.length;return this.resize(B+1),this.emplace(B,i,o,h,p,v,T)}emplace(i,o,h,p,v,T,B){const X=10*i,ie=5*i;return this.int16[X+0]=o,this.int16[X+1]=h,this.int16[X+2]=p,this.float32[ie+2]=v,this.float32[ie+3]=T,this.float32[ie+4]=B,i}}Ts.prototype.bytesPerElement=20,Yi(Ts,"StructArrayLayout3i3f20");class Br extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const o=this.length;return this.resize(o+1),this.emplace(o,i)}emplace(i,o){return this.uint32[1*i+0]=o,i}}Br.prototype.bytesPerElement=4,Yi(Br,"StructArrayLayout1ul4");class Co extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,B,X,ie,ue,be,Me,Ie){const Be=this.length;return this.resize(Be+1),this.emplace(Be,i,o,h,p,v,T,B,X,ie,ue,be,Me,Ie)}emplace(i,o,h,p,v,T,B,X,ie,ue,be,Me,Ie,Be){const He=20*i,tt=10*i;return this.int16[He+0]=o,this.int16[He+1]=h,this.int16[He+2]=p,this.int16[He+3]=v,this.int16[He+4]=T,this.float32[tt+3]=B,this.float32[tt+4]=X,this.float32[tt+5]=ie,this.float32[tt+6]=ue,this.int16[He+14]=be,this.uint32[tt+8]=Me,this.uint16[He+18]=Ie,this.uint16[He+19]=Be,i}}Co.prototype.bytesPerElement=40,Yi(Co,"StructArrayLayout5i4f1i1ul2ui40");class Ks extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,B){const X=this.length;return this.resize(X+1),this.emplace(X,i,o,h,p,v,T,B)}emplace(i,o,h,p,v,T,B,X){const ie=8*i;return this.int16[ie+0]=o,this.int16[ie+1]=h,this.int16[ie+2]=p,this.int16[ie+4]=v,this.int16[ie+5]=T,this.int16[ie+6]=B,this.int16[ie+7]=X,i}}Ks.prototype.bytesPerElement=16,Yi(Ks,"StructArrayLayout3i2i2i16");class Fo extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v){const T=this.length;return this.resize(T+1),this.emplace(T,i,o,h,p,v)}emplace(i,o,h,p,v,T){const B=4*i,X=8*i;return this.float32[B+0]=o,this.float32[B+1]=h,this.float32[B+2]=p,this.int16[X+6]=v,this.int16[X+7]=T,i}}Fo.prototype.bytesPerElement=16,Yi(Fo,"StructArrayLayout2f1f2i16");class Dd extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,h,p)}emplace(i,o,h,p,v){const T=12*i,B=3*i;return this.uint8[T+0]=o,this.uint8[T+1]=h,this.float32[B+1]=p,this.float32[B+2]=v,i}}Dd.prototype.bytesPerElement=12,Yi(Dd,"StructArrayLayout2ub2f12");class Tl extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h){const p=this.length;return this.resize(p+1),this.emplace(p,i,o,h)}emplace(i,o,h,p){const v=3*i;return this.float32[v+0]=o,this.float32[v+1]=h,this.float32[v+2]=p,i}}Tl.prototype.bytesPerElement=12,Yi(Tl,"StructArrayLayout3f12");class Mo extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,h){const p=this.length;return this.resize(p+1),this.emplace(p,i,o,h)}emplace(i,o,h,p){const v=3*i;return this.uint16[v+0]=o,this.uint16[v+1]=h,this.uint16[v+2]=p,i}}Mo.prototype.bytesPerElement=6,Yi(Mo,"StructArrayLayout3ui6");class ua extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,B,X,ie,ue,be,Me,Ie,Be,He,tt,gt,Ct,mt,xt,kt){const Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,i,o,h,p,v,T,B,X,ie,ue,be,Me,Ie,Be,He,tt,gt,Ct,mt,xt,kt)}emplace(i,o,h,p,v,T,B,X,ie,ue,be,Me,Ie,Be,He,tt,gt,Ct,mt,xt,kt,Mt){const Jt=30*i,Kt=15*i,fi=60*i;return this.int16[Jt+0]=o,this.int16[Jt+1]=h,this.int16[Jt+2]=p,this.float32[Kt+2]=v,this.float32[Kt+3]=T,this.uint16[Jt+8]=B,this.uint16[Jt+9]=X,this.uint32[Kt+5]=ie,this.uint32[Kt+6]=ue,this.uint32[Kt+7]=be,this.uint16[Jt+16]=Me,this.uint16[Jt+17]=Ie,this.uint16[Jt+18]=Be,this.float32[Kt+10]=He,this.float32[Kt+11]=tt,this.uint8[fi+48]=gt,this.uint8[fi+49]=Ct,this.uint8[fi+50]=mt,this.uint32[Kt+13]=xt,this.int16[Jt+28]=kt,this.uint8[fi+58]=Mt,i}}ua.prototype.bytesPerElement=60,Yi(ua,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class $l extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,B,X,ie,ue,be,Me,Ie,Be,He,tt,gt,Ct,mt,xt,kt,Mt,Jt,Kt,fi,Ri,si,yi,xi,Ai){const Bi=this.length;return this.resize(Bi+1),this.emplace(Bi,i,o,h,p,v,T,B,X,ie,ue,be,Me,Ie,Be,He,tt,gt,Ct,mt,xt,kt,Mt,Jt,Kt,fi,Ri,si,yi,xi,Ai)}emplace(i,o,h,p,v,T,B,X,ie,ue,be,Me,Ie,Be,He,tt,gt,Ct,mt,xt,kt,Mt,Jt,Kt,fi,Ri,si,yi,xi,Ai,Bi){const oi=38*i,Hi=19*i;return this.int16[oi+0]=o,this.int16[oi+1]=h,this.int16[oi+2]=p,this.float32[Hi+2]=v,this.float32[Hi+3]=T,this.int16[oi+8]=B,this.int16[oi+9]=X,this.int16[oi+10]=ie,this.int16[oi+11]=ue,this.int16[oi+12]=be,this.int16[oi+13]=Me,this.uint16[oi+14]=Ie,this.uint16[oi+15]=Be,this.uint16[oi+16]=He,this.uint16[oi+17]=tt,this.uint16[oi+18]=gt,this.uint16[oi+19]=Ct,this.uint16[oi+20]=mt,this.uint16[oi+21]=xt,this.uint16[oi+22]=kt,this.uint16[oi+23]=Mt,this.uint16[oi+24]=Jt,this.uint16[oi+25]=Kt,this.uint16[oi+26]=fi,this.uint16[oi+27]=Ri,this.uint16[oi+28]=si,this.uint32[Hi+15]=yi,this.float32[Hi+16]=xi,this.float32[Hi+17]=Ai,this.float32[Hi+18]=Bi,i}}$l.prototype.bytesPerElement=76,Yi($l,"StructArrayLayout3i2f6i15ui1ul3f76");class $a extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const o=this.length;return this.resize(o+1),this.emplace(o,i)}emplace(i,o){return this.float32[1*i+0]=o,i}}$a.prototype.bytesPerElement=4,Yi($a,"StructArrayLayout1f4");class es extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v){const T=this.length;return this.resize(T+1),this.emplace(T,i,o,h,p,v)}emplace(i,o,h,p,v,T){const B=5*i;return this.float32[B+0]=o,this.float32[B+1]=h,this.float32[B+2]=p,this.float32[B+3]=v,this.float32[B+4]=T,i}}es.prototype.bytesPerElement=20,Yi(es,"StructArrayLayout5f20");class id extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,h,p)}emplace(i,o,h,p,v){const T=6*i;return this.uint32[3*i+0]=o,this.uint16[T+2]=h,this.uint16[T+3]=p,this.uint16[T+4]=v,i}}id.prototype.bytesPerElement=12,Yi(id,"StructArrayLayout1ul3ui12");class Hl extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o){const h=this.length;return this.resize(h+1),this.emplace(h,i,o)}emplace(i,o,h){const p=2*i;return this.uint16[p+0]=o,this.uint16[p+1]=h,i}}Hl.prototype.bytesPerElement=4,Yi(Hl,"StructArrayLayout2ui4");class Sh extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const o=this.length;return this.resize(o+1),this.emplace(o,i)}emplace(i,o){return this.uint16[1*i+0]=o,i}}Sh.prototype.bytesPerElement=2,Yi(Sh,"StructArrayLayout1ui2");class jp extends _n{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o){const h=this.length;return this.resize(h+1),this.emplace(h,i,o)}emplace(i,o,h){const p=2*i;return this.float32[p+0]=o,this.float32[p+1]=h,i}}jp.prototype.bytesPerElement=8,Yi(jp,"StructArrayLayout2f8");class c_ extends Wn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}c_.prototype.size=40;class Um extends Co{get(i){return new c_(this,i)}}Yi(Um,"CollisionBoxArray");class El extends Wn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(i){this._structArray.uint8[this._pos1+49]=i}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(i){this._structArray.uint8[this._pos1+50]=i}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(i){this._structArray.uint32[this._pos4+13]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(i){this._structArray.uint8[this._pos1+58]=i}}El.prototype.size=60;class h_ extends ua{get(i){return new El(this,i)}}Yi(h_,"PlacedSymbolArray");class Up extends Wn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(i){this._structArray.uint32[this._pos4+15]=i}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Up.prototype.size=76;class h0 extends $l{get(i){return new Up(this,i)}}Yi(h0,"SymbolInstanceArray");class Gm extends $a{getoffsetX(i){return this.float32[1*i+0]}}Yi(Gm,"GlyphOffsetArray");class Vm extends Ms{getx(i){return this.int16[2*i+0]}gety(i){return this.int16[2*i+1]}}Yi(Vm,"SymbolLineVertexArray");class Ha extends Wn{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Ha.prototype.size=12;class Th extends id{get(i){return new Ha(this,i)}}Yi(Th,"FeatureIndexArray");class d0 extends Hl{geta_centroid_pos0(i){return this.uint16[2*i+0]}geta_centroid_pos1(i){return this.uint16[2*i+1]}}Yi(d0,"FillExtrusionCentroidArray");const d_=Ji([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),u0=Ji([{name:"a_dash",components:4,type:"Uint16"}]);var Id={exports:{}},p0={exports:{}};p0.exports=function(r,i){var o,h,p,v,T,B,X,ie;for(h=r.length-(o=3&r.length),p=i,T=3432918353,B=461845907,ie=0;ie<h;)X=255&r.charCodeAt(ie)|(255&r.charCodeAt(++ie))<<8|(255&r.charCodeAt(++ie))<<16|(255&r.charCodeAt(++ie))<<24,++ie,p=27492+(65535&(v=5*(65535&(p=(p^=X=(65535&(X=(X=(65535&X)*T+(((X>>>16)*T&65535)<<16)&4294967295)<<15|X>>>17))*B+(((X>>>16)*B&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(v>>>16)&65535)<<16);switch(X=0,o){case 3:X^=(255&r.charCodeAt(ie+2))<<16;case 2:X^=(255&r.charCodeAt(ie+1))<<8;case 1:p^=X=(65535&(X=(X=(65535&(X^=255&r.charCodeAt(ie)))*T+(((X>>>16)*T&65535)<<16)&4294967295)<<15|X>>>17))*B+(((X>>>16)*B&65535)<<16)&4294967295}return p^=r.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0};var $m={exports:{}};$m.exports=function(r,i){for(var o,h=r.length,p=i^h,v=0;h>=4;)o=1540483477*(65535&(o=255&r.charCodeAt(v)|(255&r.charCodeAt(++v))<<8|(255&r.charCodeAt(++v))<<16|(255&r.charCodeAt(++v))<<24))+((1540483477*(o>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(o=1540483477*(65535&(o^=o>>>24))+((1540483477*(o>>>16)&65535)<<16)),h-=4,++v;switch(h){case 3:p^=(255&r.charCodeAt(v+2))<<16;case 2:p^=(255&r.charCodeAt(v+1))<<8;case 1:p=1540483477*(65535&(p^=255&r.charCodeAt(v)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0};var f0=p0.exports,Hm=$m.exports;Id.exports=f0,Id.exports.murmur3=f0,Id.exports.murmur2=Hm;class yc{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,o,h,p){this.ids.push(u_(i)),this.positions.push(o,h,p)}getPositions(i){const o=u_(i);let h=0,p=this.ids.length-1;for(;h<p;){const T=h+p>>1;this.ids[T]>=o?p=T:h=T+1}const v=[];for(;this.ids[h]===o;)v.push({index:this.positions[3*h],start:this.positions[3*h+1],end:this.positions[3*h+2]}),h++;return v}static serialize(i,o){const h=new Float64Array(i.ids),p=new Uint32Array(i.positions);return Zc(h,p,0,h.length-1),o&&o.push(h.buffer,p.buffer),{ids:h,positions:p}}static deserialize(i){const o=new yc;return o.ids=i.ids,o.positions=i.positions,o.indexed=!0,o}}function u_(r){const i=+r;return!isNaN(i)&&Number.MIN_SAFE_INTEGER<=i&&i<=Number.MAX_SAFE_INTEGER?i:Id.exports(String(r))}function Zc(r,i,o,h){for(;o<h;){const p=r[o+h>>1];let v=o-1,T=h+1;for(;;){do v++;while(r[v]<p);do T--;while(r[T]>p);if(v>=T)break;Gp(r,v,T),Gp(i,3*v,3*T),Gp(i,3*v+1,3*T+1),Gp(i,3*v+2,3*T+2)}T-o<h-T?(Zc(r,i,o,T),o=T+1):(Zc(r,i,T+1,h),h=T)}}function Gp(r,i,o){const h=r[i];r[i]=r[o],r[o]=h}Yi(yc,"FeaturePositionMap");class Kc{constructor(i){this.gl=i.gl,this.initialized=!1}fetchUniformLocation(i,o){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(i,o),this.initialized=!0),!!this.location}}class Au extends Kc{constructor(i){super(i),this.current=0}set(i,o,h){this.fetchUniformLocation(i,o)&&this.current!==h&&(this.current=h,this.gl.uniform1f(this.location,h))}}class p_ extends Kc{constructor(i){super(i),this.current=[0,0,0,0]}set(i,o,h){this.fetchUniformLocation(i,o)&&(h[0]===this.current[0]&&h[1]===this.current[1]&&h[2]===this.current[2]&&h[3]===this.current[3]||(this.current=h,this.gl.uniform4f(this.location,h[0],h[1],h[2],h[3])))}}class f_ extends Kc{constructor(i){super(i),this.current=cr.transparent}set(i,o,h){this.fetchUniformLocation(i,o)&&(h.r===this.current.r&&h.g===this.current.g&&h.b===this.current.b&&h.a===this.current.a||(this.current=h,this.gl.uniform4f(this.location,h.r,h.g,h.b,h.a)))}}const Rx=new Float32Array(16),m_=new Float32Array(9),g_=new Float32Array(4);function Wm(r){return[an(255*r.r,255*r.g),an(255*r.b,255*r.a)]}class ku{constructor(i,o,h){this.value=i,this.uniformNames=o.map(p=>`u_${p}`),this.type=h}setUniform(i,o,h,p,v){o.set(i,v,p.constantOr(this.value))}getBinding(i,o){return this.type==="color"?new f_(i):new Au(i)}}class Ld{constructor(i,o){this.uniformNames=o.map(h=>`u_${h}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(i){this.pixelRatio=i.pixelRatio||1,this.pattern=i.tl.concat(i.br)}setUniform(i,o,h,p,v){const T=v==="u_pattern"||v==="u_dash"?this.pattern:v==="u_pixel_ratio"?this.pixelRatio:null;T&&o.set(i,v,T)}getBinding(i,o){return o==="u_pattern"||o==="u_dash"?new p_(i):new Au(i)}}class io{constructor(i,o,h,p){this.expression=i,this.type=h,this.maxValue=0,this.paintVertexAttributes=o.map(v=>({name:`a_${v}`,type:"Float32",components:h==="color"?2:1,offset:0})),this.paintVertexArray=new p}populatePaintArray(i,o,h,p,v,T){const B=this.paintVertexArray.length,X=this.expression.evaluate(new Gt(0),o,{},v,p,T);this.paintVertexArray.resize(i),this._setPaintValue(B,i,X)}updatePaintArray(i,o,h,p,v){const T=this.expression.evaluate({zoom:0},h,p,void 0,v);this._setPaintValue(i,o,T)}_setPaintValue(i,o,h){if(this.type==="color"){const p=Wm(h);for(let v=i;v<o;v++)this.paintVertexArray.emplace(v,p[0],p[1])}else{for(let p=i;p<o;p++)this.paintVertexArray.emplace(p,h);this.maxValue=Math.max(this.maxValue,Math.abs(h))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class _o{constructor(i,o,h,p,v,T){this.expression=i,this.uniformNames=o.map(B=>`u_${B}_t`),this.type=h,this.useIntegerZoom=p,this.zoom=v,this.maxValue=0,this.paintVertexAttributes=o.map(B=>({name:`a_${B}`,type:"Float32",components:h==="color"?4:2,offset:0})),this.paintVertexArray=new T}populatePaintArray(i,o,h,p,v,T){const B=this.expression.evaluate(new Gt(this.zoom),o,{},v,p,T),X=this.expression.evaluate(new Gt(this.zoom+1),o,{},v,p,T),ie=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(ie,i,B,X)}updatePaintArray(i,o,h,p,v){const T=this.expression.evaluate({zoom:this.zoom},h,p,void 0,v),B=this.expression.evaluate({zoom:this.zoom+1},h,p,void 0,v);this._setPaintValue(i,o,T,B)}_setPaintValue(i,o,h,p){if(this.type==="color"){const v=Wm(h),T=Wm(p);for(let B=i;B<o;B++)this.paintVertexArray.emplace(B,v[0],v[1],T[0],T[1])}else{for(let v=i;v<o;v++)this.paintVertexArray.emplace(v,h,p);this.maxValue=Math.max(this.maxValue,Math.abs(h),Math.abs(p))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,o,h,p,v){const T=this.useIntegerZoom?Math.floor(h.zoom):h.zoom,B=g(this.expression.interpolationFactor(T,this.zoom,this.zoom+1),0,1);o.set(i,v,B)}getBinding(i,o){return new Au(i)}}class nd{constructor(i,o,h,p,v){this.expression=i,this.layerId=v,this.paintVertexAttributes=(h==="array"?u0:d_).members;for(let T=0;T<o.length;++T);this.paintVertexArray=new p}populatePaintArray(i,o,h){const p=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValues(p,i,o.patterns&&o.patterns[this.layerId],h)}updatePaintArray(i,o,h,p,v,T){this._setPaintValues(i,o,h.patterns&&h.patterns[this.layerId],T)}_setPaintValues(i,o,h,p){if(!p||!h)return;const v=p[h];if(!v)return;const{tl:T,br:B,pixelRatio:X}=v;for(let ie=i;ie<o;ie++)this.paintVertexArray.emplace(ie,T[0],T[1],B[0],B[1],X)}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class sd{constructor(i,o,h=()=>!0){this.binders={},this._buffers=[];const p=[];for(const v in i.paint._values){if(!h(v))continue;const T=i.paint.get(v);if(!(T instanceof vi&&ri(T.property.specification)))continue;const B=__(v,i.type),X=T.value,ie=T.property.specification.type,ue=T.property.useIntegerZoom,be=v==="line-dasharray"||v.endsWith("pattern"),Me=v==="line-dasharray"&&i.layout.get("line-cap").value.kind!=="constant";if(X.kind!=="constant"||Me)if(X.kind==="source"||Me||be){const Ie=Ym(v,ie,"source");this.binders[v]=be?new nd(X,B,ie,Ie,i.id):new io(X,B,ie,Ie),p.push(`/a_${v}`)}else{const Ie=Ym(v,ie,"composite");this.binders[v]=new _o(X,B,ie,ue,o,Ie),p.push(`/z_${v}`)}else this.binders[v]=be?new Ld(X.value,B):new ku(X.value,B,ie),p.push(`/u_${v}`)}this.cacheKey=p.sort().join("")}getMaxValue(i){const o=this.binders[i];return o instanceof io||o instanceof _o?o.maxValue:0}populatePaintArrays(i,o,h,p,v,T){for(const B in this.binders){const X=this.binders[B];(X instanceof io||X instanceof _o||X instanceof nd)&&X.populatePaintArray(i,o,h,p,v,T)}}setConstantPatternPositions(i){for(const o in this.binders){const h=this.binders[o];h instanceof Ld&&h.setConstantPatternPositions(i)}}updatePaintArrays(i,o,h,p,v,T){let B=!1;for(const X in i){const ie=o.getPositions(X);for(const ue of ie){const be=h.feature(ue.index);for(const Me in this.binders){const Ie=this.binders[Me];if((Ie instanceof io||Ie instanceof _o||Ie instanceof nd)&&Ie.expression.isStateDependent===!0){const Be=p.paint.get(Me);Ie.expression=Be.value,Ie.updatePaintArray(ue.start,ue.end,be,i[X],v,T),B=!0}}}}return B}defines(){const i=[];for(const o in this.binders){const h=this.binders[o];(h instanceof ku||h instanceof Ld)&&i.push(...h.uniformNames.map(p=>`#define HAS_UNIFORM_${p}`))}return i}getBinderAttributes(){const i=[];for(const o in this.binders){const h=this.binders[o];if(h instanceof io||h instanceof _o||h instanceof nd)for(let p=0;p<h.paintVertexAttributes.length;p++)i.push(h.paintVertexAttributes[p].name)}return i}getBinderUniforms(){const i=[];for(const o in this.binders){const h=this.binders[o];if(h instanceof ku||h instanceof Ld||h instanceof _o)for(const p of h.uniformNames)i.push(p)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i){const o=[];for(const h in this.binders){const p=this.binders[h];if(p instanceof ku||p instanceof Ld||p instanceof _o)for(const v of p.uniformNames)o.push({name:v,property:h,binding:p.getBinding(i,v)})}return o}setUniforms(i,o,h,p,v){for(const{name:T,property:B,binding:X}of h)this.binders[B].setUniform(i,X,v,p.get(B),T)}updatePaintBuffers(){this._buffers=[];for(const i in this.binders){const o=this.binders[i];(o instanceof io||o instanceof _o||o instanceof nd)&&o.paintVertexBuffer&&this._buffers.push(o.paintVertexBuffer)}}upload(i){for(const o in this.binders){const h=this.binders[o];(h instanceof io||h instanceof _o||h instanceof nd)&&h.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const o=this.binders[i];(o instanceof io||o instanceof _o||o instanceof nd)&&o.destroy()}}}class Jc{constructor(i,o,h=()=>!0){this.programConfigurations={};for(const p of i)this.programConfigurations[p.id]=new sd(p,o,h);this.needsUpload=!1,this._featureMap=new yc,this._bufferOffset=0}populatePaintArrays(i,o,h,p,v,T,B){for(const X in this.programConfigurations)this.programConfigurations[X].populatePaintArrays(i,o,p,v,T,B);o.id!==void 0&&this._featureMap.add(o.id,h,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,o,h,p,v){for(const T of h)this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(i,this._featureMap,o,T,p,v)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const o in this.programConfigurations)this.programConfigurations[o].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}const Pu={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function __(r,i){return Pu[r]||[r.replace(`${i}-`,"").replace(/-/g,"_")]}const y_={"line-pattern":{source:zo,composite:zo},"fill-pattern":{source:zo,composite:zo},"fill-extrusion-pattern":{source:zo,composite:zo},"line-dasharray":{source:Sl,composite:Sl}},Bx={color:{source:jp,composite:Yo},number:{source:$a,composite:jp}};function Ym(r,i,o){const h=y_[r];return h&&h[o]||Bx[i][o]}Yi(ku,"ConstantBinder"),Yi(Ld,"PatternConstantBinder"),Yi(io,"SourceExpressionBinder"),Yi(nd,"PatternCompositeBinder"),Yi(_o,"CompositeExpressionBinder"),Yi(sd,"ProgramConfiguration",{omit:["_buffers"]}),Yi(Jc,"ProgramConfigurationSet");const Eh="-transition";class Ma extends Vr{constructor(i,o){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,i.type!=="custom"&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&i.type!=="sky"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),o.layout&&(this._unevaluatedLayout=new ii(o.layout)),o.paint)){this._transitionablePaint=new pi(o.paint);for(const h in i.paint)this.setPaintProperty(h,i.paint[h],{validate:!1});for(const h in i.layout)this.setLayoutProperty(h,i.layout[h],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Li(o.paint)}}getLayoutProperty(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,o,h={}){o!=null&&this._validate(bh,`layers.${this.id}.layout.${i}`,i,o,h)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,o):this.visibility=o)}getPaintProperty(i){return pe(i,Eh)?this._transitionablePaint.getTransition(i.slice(0,-Eh.length)):this._transitionablePaint.getValue(i)}setPaintProperty(i,o,h={}){if(o!=null&&this._validate(jm,`layers.${this.id}.paint.${i}`,i,o,h))return!1;if(pe(i,Eh))return this._transitionablePaint.setTransition(i.slice(0,-Eh.length),o||void 0),!1;{const p=this._transitionablePaint._values[i],v=p.value.isDataDriven(),T=p.value;this._transitionablePaint.setValue(i,o),this._handleSpecialPaintPropertyUpdate(i);const B=this._transitionablePaint._values[i].value,X=B.isDataDriven(),ie=pe(i,"pattern")||i==="line-dasharray";return X||v||ie||this._handleOverridablePaintPropertyUpdate(i,T,B)}}_handleSpecialPaintPropertyUpdate(i){}getProgramIds(){return null}getProgramConfiguration(i){return null}_handleOverridablePaintPropertyUpdate(i,o,h){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,o){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,o)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,o)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),ne(i,(o,h)=>!(o===void 0||h==="layout"&&!Object.keys(o).length||h==="paint"&&!Object.keys(o).length))}_validate(i,o,h,p,v={}){return(!v||v.validate!==!1)&&e0(this,i.call(Ip,{key:o,layerType:this.type,objectKey:h,value:p,styleSpec:ci,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const o=this.paint.get(i);if(o instanceof vi&&ri(o.property.specification)&&(o.value.kind==="source"||o.value.kind==="composite")&&o.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=xr(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const zx=Ji([{name:"a_pos",components:2,type:"Int16"}],4),v_=Ji([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Yr{constructor(i=[]){this.segments=i}prepareSegment(i,o,h,p){let v=this.segments[this.segments.length-1];return i>Yr.MAX_VERTEX_ARRAY_LENGTH&&ae(`Max vertices per segment is ${Yr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!v||v.vertexLength+i>Yr.MAX_VERTEX_ARRAY_LENGTH||v.sortKey!==p)&&(v={vertexOffset:o.length,primitiveOffset:h.length,vertexLength:0,primitiveLength:0},p!==void 0&&(v.sortKey=p),this.segments.push(v)),v}get(){return this.segments}destroy(){for(const i of this.segments)for(const o in i.vaos)i.vaos[o].destroy()}static simpleSegment(i,o,h,p){return new Yr([{vertexOffset:i,primitiveOffset:o,vertexLength:h,primitiveLength:p,vaos:{},sortKey:0}])}}Yr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Yi(Yr,"SegmentVector");var wn=8192;class Ch{constructor(i,o){i&&(o?this.setSouthWest(i).setNorthEast(o):i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1]))}setNorthEast(i){return this._ne=i instanceof us?new us(i.lng,i.lat):us.convert(i),this}setSouthWest(i){return this._sw=i instanceof us?new us(i.lng,i.lat):us.convert(i),this}extend(i){const o=this._sw,h=this._ne;let p,v;if(i instanceof us)p=i,v=i;else{if(!(i instanceof Ch))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(Ch.convert(i)):this.extend(us.convert(i)):typeof i=="object"&&i!==null&&i.hasOwnProperty("lat")&&i.hasOwnProperty("lon")?this.extend(us.convert(i)):this;if(p=i._sw,v=i._ne,!p||!v)return this}return o||h?(o.lng=Math.min(p.lng,o.lng),o.lat=Math.min(p.lat,o.lat),h.lng=Math.max(v.lng,h.lng),h.lat=Math.max(v.lat,h.lat)):(this._sw=new us(p.lng,p.lat),this._ne=new us(v.lng,v.lat)),this}getCenter(){return new us((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new us(this.getWest(),this.getNorth())}getSouthEast(){return new us(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:o,lat:h}=us.convert(i);let p=this._sw.lng<=o&&o<=this._ne.lng;return this._sw.lng>this._ne.lng&&(p=this._sw.lng>=o&&o>=this._ne.lng),this._sw.lat<=h&&h<=this._ne.lat&&p}static convert(i){return!i||i instanceof Ch?i:new Ch(i)}}const Od=63710088e-1;class us{constructor(i,o){if(isNaN(i)||isNaN(o))throw new Error(`Invalid LngLat object: (${i}, ${o})`);if(this.lng=+i,this.lat=+o,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new us(P(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const o=Math.PI/180,h=this.lat*o,p=i.lat*o,v=Math.sin(h)*Math.sin(p)+Math.cos(h)*Math.cos(p)*Math.cos((i.lng-this.lng)*o);return Od*Math.acos(Math.min(v,1))}toBounds(i=0){const o=360*i/40075017,h=o/Math.cos(Math.PI/180*this.lat);return new Ch(new us(this.lng-h,this.lat-o),new us(this.lng+h,this.lat+o))}static convert(i){if(i instanceof us)return i;if(Array.isArray(i)&&(i.length===2||i.length===3))return new us(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&typeof i=="object"&&i!==null)return new us(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Vp=2*Math.PI*Od;function qm(r){return Vp*Math.cos(r*Math.PI/180)}function vc(r){return(180+r)/360}function Cl(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function Ml(r,i){return r/qm(i)}function Aa(r){return 360*r-180}function No(r){return 360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90}function Xm(r,i){return r*qm(No(i))}const jo=85.051129;function Zm(r){return 1/Math.cos(r*Math.PI/180)}class Rd{constructor(i,o,h=0){this.x=+i,this.y=+o,this.z=+h}static fromLngLat(i,o=0){const h=us.convert(i);return new Rd(vc(h.lng),Cl(h.lat),Ml(o,h.lat))}toLngLat(){return new us(Aa(this.x),No(this.y))}toAltitude(){return Xm(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Vp*Zm(No(this.y))}}function Km(r,i,o,h,p,v,T,B,X){const ie=(i+h)/2,ue=(o+p)/2,be=new G(ie,ue);B(be),function(Me,Ie,Be,He,tt,gt){const Ct=Be-tt,mt=He-gt;return Math.abs((He-Ie)*Ct-(Be-Me)*mt)/Math.hypot(Ct,mt)}(be.x,be.y,v.x,v.y,T.x,T.y)>=X?(Km(r,i,o,ie,ue,v,be,B,X),Km(r,ie,ue,h,p,be,T,B,X)):r.push(T)}function Jm(r,i,o){let h=r[0],p=h.x,v=h.y;i(h);const T=[h];for(let B=1;B<r.length;B++){const X=r[B],{x:ie,y:ue}=X;i(X),Km(T,p,v,ie,ue,h,X,i,o),p=ie,v=ue,h=X}return T}function Qm(r,i,o,h){if(h(i,o)){const p=i.add(o)._mult(.5);Qm(r,i,p,h),Qm(r,p,o,h)}else r.push(o)}function Fx(r,i){let o=r[0];const h=[o];for(let p=1;p<r.length;p++){const v=r[p];Qm(h,o,v,i),o=v}return h}const xc=Math.pow(2,14)-1,m0=-xc-1;function eg(r,i){const o=Math.round(r.x*i),h=Math.round(r.y*i);return r.x=g(o,m0,xc),r.y=g(h,m0,xc),(o<r.x||o>r.x+1||h<r.y||h>r.y+1)&&ae("Geometry exceeds allowed extent, reduce your vector tile buffer size"),r}function bc(r,i,o){const h=r.loadGeometry(),p=r.extent,v=wn/p;if(i&&o&&o.projection.isReprojectedInTileSpace){const T=1<<i.z,{scale:B,x:X,y:ie,projection:ue}=o,be=Me=>{const Ie=Aa((i.x+Me.x/p)/T),Be=No((i.y+Me.y/p)/T),He=ue.project(Ie,Be);Me.x=(He.x*B-X)*p,Me.y=(He.y*B-ie)*p};for(let Me=0;Me<h.length;Me++)if(r.type!==1)h[Me]=Jm(h[Me],be,1);else{const Ie=[];for(const Be of h[Me])Be.x<0||Be.x>=p||Be.y<0||Be.y>=p||(be(Be),Ie.push(Be));h[Me]=Ie}}for(const T of h)for(const B of T)eg(B,v);return h}function Qc(r,i){return{type:r.type,id:r.id,properties:r.properties,geometry:i?bc(r):[]}}function Mh(r,i,o,h,p){r.emplaceBack(2*i+(h+1)/2,2*o+(p+1)/2)}function Rn(r,i,o){r.emplaceBack(i.x,i.y,i.z,o[0]*16384,o[1]*16384,o[2]*16384)}class Du{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.projection=i.projection,this.layoutVertexArray=new Ms,this.indexArray=new Mo,this.segments=new Yr,this.programConfigurations=new Jc(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(i,o,h,p){const v=this.layers[0],T=[];let B=null;v.type==="circle"&&(B=v.layout.get("circle-sort-key"));for(const{feature:ie,id:ue,index:be,sourceLayerIndex:Me}of i){const Ie=this.layers[0]._featureFilter.needGeometry,Be=Qc(ie,Ie);if(!this.layers[0]._featureFilter.filter(new Gt(this.zoom),Be,h))continue;const He=B?B.evaluate(Be,{},h):void 0,tt={id:ue,properties:ie.properties,type:ie.type,sourceLayerIndex:Me,index:be,geometry:Ie?Be.geometry:bc(ie,h,p),patterns:{},sortKey:He};T.push(tt)}B&&T.sort((ie,ue)=>ie.sortKey-ue.sortKey);let X=null;p.projection.name==="globe"&&(this.globeExtVertexArray=new Zs,X=p.projection);for(const ie of T){const{geometry:ue,index:be,sourceLayerIndex:Me}=ie,Ie=i[be].feature;this.addFeature(ie,ue,be,o.availableImages,h,X),o.featureIndex.insert(Ie,ue,be,Me,this.index)}}update(i,o,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,zx.members),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=i.createVertexBuffer(this.globeExtVertexArray,v_.members))),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(i,o,h,p,v,T){for(const B of o)for(const X of B){const ie=X.x,ue=X.y;if(ie<0||ie>=wn||ue<0||ue>=wn)continue;if(T){const Ie=T.projectTilePoint(ie,ue,v),Be=T.upVector(v,ie,ue),He=this.globeExtVertexArray;Rn(He,Ie,Be),Rn(He,Ie,Be),Rn(He,Ie,Be),Rn(He,Ie,Be)}const be=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),Me=be.vertexLength;Mh(this.layoutVertexArray,ie,ue,-1,-1),Mh(this.layoutVertexArray,ie,ue,1,-1),Mh(this.layoutVertexArray,ie,ue,1,1),Mh(this.layoutVertexArray,ie,ue,-1,1),this.indexArray.emplaceBack(Me,Me+1,Me+2),this.indexArray.emplaceBack(Me,Me+2,Me+3),be.vertexLength+=4,be.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,h,{},p,v)}}function g0(r,i){for(let o=0;o<r.length;o++)if(zd(i,r[o]))return!0;for(let o=0;o<i.length;o++)if(zd(r,i[o]))return!0;return!!_0(r,i)}function Bd(r,i,o){return!!zd(r,i)||!!ig(i,r,o)}function x_(r,i){if(r.length===1)return ng(i,r[0]);for(let o=0;o<i.length;o++){const h=i[o];for(let p=0;p<h.length;p++)if(zd(r,h[p]))return!0}for(let o=0;o<r.length;o++)if(ng(i,r[o]))return!0;for(let o=0;o<i.length;o++)if(_0(r,i[o]))return!0;return!1}function tg(r,i,o){if(r.length>1){if(_0(r,i))return!0;for(let h=0;h<i.length;h++)if(ig(i[h],r,o))return!0}for(let h=0;h<r.length;h++)if(ig(r[h],i,o))return!0;return!1}function _0(r,i){if(r.length===0||i.length===0)return!1;for(let o=0;o<r.length-1;o++){const h=r[o],p=r[o+1];for(let v=0;v<i.length-1;v++)if(pa(h,p,i[v],i[v+1]))return!0}return!1}function pa(r,i,o,h){return me(r,o,h)!==me(i,o,h)&&me(r,i,o)!==me(r,i,h)}function ig(r,i,o){const h=o*o;if(i.length===1)return r.distSqr(i[0])<h;for(let p=1;p<i.length;p++)if(b_(r,i[p-1],i[p])<h)return!0;return!1}function b_(r,i,o){const h=i.distSqr(o);if(h===0)return r.distSqr(i);const p=((r.x-i.x)*(o.x-i.x)+(r.y-i.y)*(o.y-i.y))/h;return r.distSqr(p<0?i:p>1?o:o.sub(i)._mult(p)._add(i))}function ng(r,i){let o,h,p,v=!1;for(let T=0;T<r.length;T++){o=r[T];for(let B=0,X=o.length-1;B<o.length;X=B++)h=o[B],p=o[X],h.y>i.y!=p.y>i.y&&i.x<(p.x-h.x)*(i.y-h.y)/(p.y-h.y)+h.x&&(v=!v)}return v}function zd(r,i){let o=!1;for(let h=0,p=r.length-1;h<r.length;p=h++){const v=r[h],T=r[p];v.y>i.y!=T.y>i.y&&i.x<(T.x-v.x)*(i.y-v.y)/(T.y-v.y)+v.x&&(o=!o)}return o}function sg(r,i,o,h,p){for(const T of r)if(i<=T.x&&o<=T.y&&h>=T.x&&p>=T.y)return!0;const v=[new G(i,o),new G(i,p),new G(h,p),new G(h,o)];if(r.length>2){for(const T of v)if(zd(r,T))return!0}for(let T=0;T<r.length-1;T++)if(Nx(r[T],r[T+1],v))return!0;return!1}function Nx(r,i,o){const h=o[0],p=o[2];if(r.x<h.x&&i.x<h.x||r.x>p.x&&i.x>p.x||r.y<h.y&&i.y<h.y||r.y>p.y&&i.y>p.y)return!1;const v=me(r,i,o[0]);return v!==me(r,i,o[1])||v!==me(r,i,o[2])||v!==me(r,i,o[3])}function Iu(r,i,o){const h=i.paint.get(r).value;return h.kind==="constant"?h.value:o.programConfigurations.get(i.id).getMaxValue(r)}function y0(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function eh(r,i,o,h,p){if(!i[0]&&!i[1])return r;const v=G.convert(i)._mult(p);o==="viewport"&&v._rotate(-h);const T=[];for(let B=0;B<r.length;B++)T.push(r[B].sub(v));return T}function fa(r,i,o,h){const p=G.convert(r)._mult(h);return i==="viewport"&&p._rotate(-o),p}Yi(Du,"CircleBucket",{omit:["layers"]});const rg=new pn({"circle-sort-key":new ei(ci.layout_circle["circle-sort-key"])});var jx={paint:new pn({"circle-radius":new ei(ci.paint_circle["circle-radius"]),"circle-color":new ei(ci.paint_circle["circle-color"]),"circle-blur":new ei(ci.paint_circle["circle-blur"]),"circle-opacity":new ei(ci.paint_circle["circle-opacity"]),"circle-translate":new $t(ci.paint_circle["circle-translate"]),"circle-translate-anchor":new $t(ci.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new $t(ci.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new $t(ci.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ei(ci.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ei(ci.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ei(ci.paint_circle["circle-stroke-opacity"])}),layout:rg},Lu=1e-6,Wa=typeof Float32Array<"u"?Float32Array:Array;function w_(){var r=new Wa(9);return Wa!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function Ou(r,i,o){var h=i[0],p=i[1],v=i[2],T=i[3],B=i[4],X=i[5],ie=i[6],ue=i[7],be=i[8],Me=o[0],Ie=o[1],Be=o[2],He=o[3],tt=o[4],gt=o[5],Ct=o[6],mt=o[7],xt=o[8];return r[0]=Me*h+Ie*T+Be*ie,r[1]=Me*p+Ie*B+Be*ue,r[2]=Me*v+Ie*X+Be*be,r[3]=He*h+tt*T+gt*ie,r[4]=He*p+tt*B+gt*ue,r[5]=He*v+tt*X+gt*be,r[6]=Ct*h+mt*T+xt*ie,r[7]=Ct*p+mt*B+xt*ue,r[8]=Ct*v+mt*X+xt*be,r}function Wl(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function v0(r,i){var o=i[0],h=i[1],p=i[2],v=i[3],T=i[4],B=i[5],X=i[6],ie=i[7],ue=i[8],be=i[9],Me=i[10],Ie=i[11],Be=i[12],He=i[13],tt=i[14],gt=i[15],Ct=o*B-h*T,mt=o*X-p*T,xt=o*ie-v*T,kt=h*X-p*B,Mt=h*ie-v*B,Jt=p*ie-v*X,Kt=ue*He-be*Be,fi=ue*tt-Me*Be,Ri=ue*gt-Ie*Be,si=be*tt-Me*He,yi=be*gt-Ie*He,xi=Me*gt-Ie*tt,Ai=Ct*xi-mt*yi+xt*si+kt*Ri-Mt*fi+Jt*Kt;return Ai?(r[0]=(B*xi-X*yi+ie*si)*(Ai=1/Ai),r[1]=(p*yi-h*xi-v*si)*Ai,r[2]=(He*Jt-tt*Mt+gt*kt)*Ai,r[3]=(Me*Mt-be*Jt-Ie*kt)*Ai,r[4]=(X*Ri-T*xi-ie*fi)*Ai,r[5]=(o*xi-p*Ri+v*fi)*Ai,r[6]=(tt*xt-Be*Jt-gt*mt)*Ai,r[7]=(ue*Jt-Me*xt+Ie*mt)*Ai,r[8]=(T*yi-B*Ri+ie*Kt)*Ai,r[9]=(h*Ri-o*yi-v*Kt)*Ai,r[10]=(Be*Mt-He*xt+gt*Ct)*Ai,r[11]=(be*xt-ue*Mt-Ie*Ct)*Ai,r[12]=(B*fi-T*si-X*Kt)*Ai,r[13]=(o*si-h*fi+p*Kt)*Ai,r[14]=(He*mt-Be*kt-tt*Ct)*Ai,r[15]=(ue*kt-be*mt+Me*Ct)*Ai,r):null}function Fd(r,i,o){var h=i[0],p=i[1],v=i[2],T=i[3],B=i[4],X=i[5],ie=i[6],ue=i[7],be=i[8],Me=i[9],Ie=i[10],Be=i[11],He=i[12],tt=i[13],gt=i[14],Ct=i[15],mt=o[0],xt=o[1],kt=o[2],Mt=o[3];return r[0]=mt*h+xt*B+kt*be+Mt*He,r[1]=mt*p+xt*X+kt*Me+Mt*tt,r[2]=mt*v+xt*ie+kt*Ie+Mt*gt,r[3]=mt*T+xt*ue+kt*Be+Mt*Ct,r[4]=(mt=o[4])*h+(xt=o[5])*B+(kt=o[6])*be+(Mt=o[7])*He,r[5]=mt*p+xt*X+kt*Me+Mt*tt,r[6]=mt*v+xt*ie+kt*Ie+Mt*gt,r[7]=mt*T+xt*ue+kt*Be+Mt*Ct,r[8]=(mt=o[8])*h+(xt=o[9])*B+(kt=o[10])*be+(Mt=o[11])*He,r[9]=mt*p+xt*X+kt*Me+Mt*tt,r[10]=mt*v+xt*ie+kt*Ie+Mt*gt,r[11]=mt*T+xt*ue+kt*Be+Mt*Ct,r[12]=(mt=o[12])*h+(xt=o[13])*B+(kt=o[14])*be+(Mt=o[15])*He,r[13]=mt*p+xt*X+kt*Me+Mt*tt,r[14]=mt*v+xt*ie+kt*Ie+Mt*gt,r[15]=mt*T+xt*ue+kt*Be+Mt*Ct,r}function $p(r,i,o){var h,p,v,T,B,X,ie,ue,be,Me,Ie,Be,He=o[0],tt=o[1],gt=o[2];return i===r?(r[12]=i[0]*He+i[4]*tt+i[8]*gt+i[12],r[13]=i[1]*He+i[5]*tt+i[9]*gt+i[13],r[14]=i[2]*He+i[6]*tt+i[10]*gt+i[14],r[15]=i[3]*He+i[7]*tt+i[11]*gt+i[15]):(p=i[1],v=i[2],T=i[3],B=i[4],X=i[5],ie=i[6],ue=i[7],be=i[8],Me=i[9],Ie=i[10],Be=i[11],r[0]=h=i[0],r[1]=p,r[2]=v,r[3]=T,r[4]=B,r[5]=X,r[6]=ie,r[7]=ue,r[8]=be,r[9]=Me,r[10]=Ie,r[11]=Be,r[12]=h*He+B*tt+be*gt+i[12],r[13]=p*He+X*tt+Me*gt+i[13],r[14]=v*He+ie*tt+Ie*gt+i[14],r[15]=T*He+ue*tt+Be*gt+i[15]),r}function Nd(r,i,o){var h=o[0],p=o[1],v=o[2];return r[0]=i[0]*h,r[1]=i[1]*h,r[2]=i[2]*h,r[3]=i[3]*h,r[4]=i[4]*p,r[5]=i[5]*p,r[6]=i[6]*p,r[7]=i[7]*p,r[8]=i[8]*v,r[9]=i[9]*v,r[10]=i[10]*v,r[11]=i[11]*v,r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15],r}function og(r,i,o){var h=Math.sin(o),p=Math.cos(o),v=i[4],T=i[5],B=i[6],X=i[7],ie=i[8],ue=i[9],be=i[10],Me=i[11];return i!==r&&(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15]),r[4]=v*p+ie*h,r[5]=T*p+ue*h,r[6]=B*p+be*h,r[7]=X*p+Me*h,r[8]=ie*p-v*h,r[9]=ue*p-T*h,r[10]=be*p-B*h,r[11]=Me*p-X*h,r}function Hp(r,i,o){var h=Math.sin(o),p=Math.cos(o),v=i[0],T=i[1],B=i[2],X=i[3],ie=i[8],ue=i[9],be=i[10],Me=i[11];return i!==r&&(r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15]),r[0]=v*p-ie*h,r[1]=T*p-ue*h,r[2]=B*p-be*h,r[3]=X*p-Me*h,r[8]=v*h+ie*p,r[9]=T*h+ue*p,r[10]=B*h+be*p,r[11]=X*h+Me*p,r}function ag(r,i){return r[0]=i[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=i[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function S_(r,i,o){var h,p,v,T=o[0],B=o[1],X=o[2],ie=Math.hypot(T,B,X);return ie<Lu?null:(T*=ie=1/ie,B*=ie,X*=ie,h=Math.sin(i),p=Math.cos(i),r[0]=T*T*(v=1-p)+p,r[1]=B*T*v+X*h,r[2]=X*T*v-B*h,r[3]=0,r[4]=T*B*v-X*h,r[5]=B*B*v+p,r[6]=X*B*v+T*h,r[7]=0,r[8]=T*X*v+B*h,r[9]=B*X*v-T*h,r[10]=X*X*v+p,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r)}Math.hypot||(Math.hypot=function(){for(var r=0,i=arguments.length;i--;)r+=arguments[i]*arguments[i];return Math.sqrt(r)});var lg=Fd;function x0(){var r=new Wa(3);return Wa!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function Ru(r){var i=new Wa(3);return i[0]=r[0],i[1]=r[1],i[2]=r[2],i}function jd(r){return Math.hypot(r[0],r[1],r[2])}function Ud(r,i,o){var h=new Wa(3);return h[0]=r,h[1]=i,h[2]=o,h}function th(r,i,o){return r[0]=i[0]+o[0],r[1]=i[1]+o[1],r[2]=i[2]+o[2],r}function Bu(r,i,o){return r[0]=i[0]-o[0],r[1]=i[1]-o[1],r[2]=i[2]-o[2],r}function cg(r,i,o){return r[0]=i[0]*o[0],r[1]=i[1]*o[1],r[2]=i[2]*o[2],r}function Ya(r,i,o){return r[0]=Math.min(i[0],o[0]),r[1]=Math.min(i[1],o[1]),r[2]=Math.min(i[2],o[2]),r}function wc(r,i,o){return r[0]=Math.max(i[0],o[0]),r[1]=Math.max(i[1],o[1]),r[2]=Math.max(i[2],o[2]),r}function Al(r,i,o){return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r}function zu(r,i,o,h){return r[0]=i[0]+o[0]*h,r[1]=i[1]+o[1]*h,r[2]=i[2]+o[2]*h,r}function ma(r,i){var o=i[0],h=i[1],p=i[2],v=o*o+h*h+p*p;return v>0&&(v=1/Math.sqrt(v)),r[0]=i[0]*v,r[1]=i[1]*v,r[2]=i[2]*v,r}function Yl(r,i){return r[0]*i[0]+r[1]*i[1]+r[2]*i[2]}function hg(r,i,o){var h=i[0],p=i[1],v=i[2],T=o[0],B=o[1],X=o[2];return r[0]=p*X-v*B,r[1]=v*T-h*X,r[2]=h*B-p*T,r}function Ur(r,i,o){var h=i[0],p=i[1],v=i[2],T=o[3]*h+o[7]*p+o[11]*v+o[15];return r[0]=(o[0]*h+o[4]*p+o[8]*v+o[12])/(T=T||1),r[1]=(o[1]*h+o[5]*p+o[9]*v+o[13])/T,r[2]=(o[2]*h+o[6]*p+o[10]*v+o[14])/T,r}function T_(r,i,o){var h=o[0],p=o[1],v=o[2],T=i[0],B=i[1],X=i[2],ie=p*X-v*B,ue=v*T-h*X,be=h*B-p*T,Me=p*be-v*ue,Ie=v*ie-h*be,Be=h*ue-p*ie,He=2*o[3];return ue*=He,be*=He,Ie*=2,Be*=2,r[0]=T+(ie*=He)+(Me*=2),r[1]=B+ue+Ie,r[2]=X+be+Be,r}var Wp,Sc=Bu,Ux=cg,Gx=jd;function E_(r,i,o){return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r[3]=i[3]*o,r}function C_(r,i){var o=i[0],h=i[1],p=i[2],v=i[3],T=o*o+h*h+p*p+v*v;return T>0&&(T=1/Math.sqrt(T)),r[0]=o*T,r[1]=h*T,r[2]=p*T,r[3]=v*T,r}function rd(r,i,o){var h=i[0],p=i[1],v=i[2],T=i[3];return r[0]=o[0]*h+o[4]*p+o[8]*v+o[12]*T,r[1]=o[1]*h+o[5]*p+o[9]*v+o[13]*T,r[2]=o[2]*h+o[6]*p+o[10]*v+o[14]*T,r[3]=o[3]*h+o[7]*p+o[11]*v+o[15]*T,r}function dg(){var r=new Wa(4);return Wa!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function ug(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function M_(r,i,o){o*=.5;var h=i[0],p=i[1],v=i[2],T=i[3],B=Math.sin(o),X=Math.cos(o);return r[0]=h*X+T*B,r[1]=p*X+v*B,r[2]=v*X-p*B,r[3]=T*X-h*B,r}function A_(r,i,o){o*=.5;var h=i[0],p=i[1],v=i[2],T=i[3],B=Math.sin(o),X=Math.cos(o);return r[0]=h*X-v*B,r[1]=p*X+T*B,r[2]=v*X+h*B,r[3]=T*X-p*B,r}x0(),Wp=new Wa(4),Wa!=Float32Array&&(Wp[0]=0,Wp[1]=0,Wp[2]=0,Wp[3]=0);var Vx=C_;x0(),Ud(1,0,0),Ud(0,1,0),dg(),dg(),w_();class b0{constructor(i,o){this.pos=i,this.dir=o}intersectsPlane(i,o,h){const p=Yl(o,this.dir);if(Math.abs(p)<1e-6)return!1;const v=((i[0]-this.pos[0])*o[0]+(i[1]-this.pos[1])*o[1]+(i[2]-this.pos[2])*o[2])/p;return h[0]=this.pos[0]+this.dir[0]*v,h[1]=this.pos[1]+this.dir[1]*v,h[2]=this.pos[2]+this.dir[2]*v,!0}closestPointOnSphere(i,o,h){if(function(Ie,Be){var He=Ie[0],tt=Ie[1],gt=Ie[2],Ct=Be[0],mt=Be[1],xt=Be[2];return Math.abs(He-Ct)<=Lu*Math.max(1,Math.abs(He),Math.abs(Ct))&&Math.abs(tt-mt)<=Lu*Math.max(1,Math.abs(tt),Math.abs(mt))&&Math.abs(gt-xt)<=Lu*Math.max(1,Math.abs(gt),Math.abs(xt))}(this.pos,i)||o===0)return h[0]=h[1]=h[2]=0,!1;const[p,v,T]=this.dir,B=this.pos[0]-i[0],X=this.pos[1]-i[1],ie=this.pos[2]-i[2],ue=p*p+v*v+T*T,be=2*(B*p+X*v+ie*T),Me=be*be-4*ue*(B*B+X*X+ie*ie-o*o);if(Me<0){const Ie=Math.max(-be/2,0),Be=B+p*Ie,He=X+v*Ie,tt=ie+T*Ie,gt=Math.hypot(Be,He,tt);return h[0]=Be*o/gt,h[1]=He*o/gt,h[2]=tt*o/gt,!1}{const Ie=(-be-Math.sqrt(Me))/(2*ue);if(Ie<0){const Be=Math.hypot(B,X,ie);return h[0]=B*o/Be,h[1]=X*o/Be,h[2]=ie*o/Be,!1}return h[0]=B+p*Ie,h[1]=X+v*Ie,h[2]=ie+T*Ie,!0}}}class pg{constructor(i,o,h,p,v){this.TL=i,this.TR=o,this.BR=h,this.BL=p,this.horizon=v}static fromInvProjectionMatrix(i,o,h){const p=[-1,1,1],v=[1,1,1],T=[1,-1,1],B=[-1,-1,1],X=Ur(p,p,i),ie=Ur(v,v,i),ue=Ur(T,T,i),be=Ur(B,B,i);return new pg(X,ie,ue,be,o/h)}}class fg{constructor(i,o){this.points=i,this.planes=o}static fromInvProjectionMatrix(i,o,h,p){const v=Math.pow(2,h),T=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(X=>{const ie=rd([],X,i),ue=1/ie[3]/o*v;return function(be,Me,Ie){return be[0]=Me[0]*Ie[0],be[1]=Me[1]*Ie[1],be[2]=Me[2]*Ie[2],be[3]=Me[3]*Ie[3],be}(ie,ie,[ue,ue,p?1/ie[3]:ue,ue])}),B=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(X=>{const ie=ma([],hg([],Sc([],T[X[0]],T[X[1]]),Sc([],T[X[2]],T[X[1]]))),ue=-Yl(ie,T[X[1]]);return ie.concat(ue)});return new fg(T,B)}}class ga{static fromPoints(i){const o=[1/0,1/0,1/0],h=[-1/0,-1/0,-1/0];for(const p of i)Ya(o,o,p),wc(h,h,p);return new ga(o,h)}static applyTransform(i,o){const h=i.getCorners();for(let p=0;p<h.length;++p)Ur(h[p],h[p],o);return ga.fromPoints(h)}constructor(i,o){this.min=i,this.max=o,this.center=Al([],th([],this.min,this.max),.5)}quadrant(i){const o=[i%2==0,i<2],h=Ru(this.min),p=Ru(this.max);for(let v=0;v<o.length;v++)h[v]=o[v]?this.min[v]:this.center[v],p[v]=o[v]?this.center[v]:this.max[v];return p[2]=this.max[2],new ga(h,p)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}distanceZ(i){return Math.max(Math.min(this.max[2],i[2]),this.min[2])-i[2]}getCorners(){const i=this.min,o=this.max;return[[i[0],i[1],i[2]],[o[0],i[1],i[2]],[o[0],o[1],i[2]],[i[0],o[1],i[2]],[i[0],i[1],o[2]],[o[0],i[1],o[2]],[o[0],o[1],o[2]],[i[0],o[1],o[2]]]}intersects(i){const o=this.getCorners();let h=!0;for(let p=0;p<i.planes.length;p++){const v=i.planes[p];let T=0;for(let B=0;B<o.length;B++)T+=Yl(v,o[B])+v[3]>=0;if(T===0)return 0;T!==o.length&&(h=!1)}if(h)return 2;for(let p=0;p<3;p++){let v=Number.MAX_VALUE,T=-Number.MAX_VALUE;for(let B=0;B<i.points.length;B++){const X=i.points[B][p]-this.min[p];v=Math.min(v,X),T=Math.max(T,X)}if(T<0||v>this.max[p]-this.min[p])return 0}return 1}}function k_(r,i,o,h,p,v,T,B,X){if(v&&r.queryGeometry.isAboveHorizon)return!1;v&&(X*=r.pixelToTileUnitsFactor);const ie=r.tileID.canonical,ue=o.projection.upVectorScale(ie,o.center.lat,o.worldSize).metersToTile;for(const be of i)for(const Me of be){const Ie=Me.add(B),Be=p&&o.elevation?o.elevation.exaggeration()*p.getElevationAt(Ie.x,Ie.y,!0):0,He=o.projection.projectTilePoint(Ie.x,Ie.y,ie);if(Be>0){const mt=o.projection.upVector(ie,Ie.x,Ie.y);He.x+=mt[0]*ue*Be,He.y+=mt[1]*ue*Be,He.z+=mt[2]*ue*Be}const tt=v?Ie:$x(He.x,He.y,He.z,h),gt=v?r.tilespaceRays.map(mt=>Hx(mt,Be)):r.queryGeometry.screenGeometry,Ct=rd([],[He.x,He.y,He.z,1],h);if(!T&&v?X*=Ct[3]/o.cameraToCenterDistance:T&&!v&&(X*=o.cameraToCenterDistance/Ct[3]),v){const mt=No((Me.y/wn+ie.y)/(1<<ie.z));X/=o.projection.pixelsPerMeter(mt,1)/Ml(1,mt)}if(Bd(gt,tt,X))return!0}return!1}function $x(r,i,o,h){const p=rd([],[r,i,o,1],h);return new G(p[0]/p[3],p[1]/p[3])}const P_=Ud(0,0,0),ql=Ud(0,0,1);function Hx(r,i){const o=x0();return P_[2]=i,r.intersectsPlane(P_,ql,o),new G(o[0],o[1])}class D_ extends Du{}function I_(r,{width:i,height:o},h,p){if(p){if(p instanceof Uint8ClampedArray)p=new Uint8Array(p.buffer);else if(p.length!==i*o*h)throw new RangeError("mismatched image size")}else p=new Uint8Array(i*o*h);return r.width=i,r.height=o,r.data=p,r}function mg(r,i,o){const{width:h,height:p}=i;h===r.width&&p===r.height||(gg(r,i,{x:0,y:0},{x:0,y:0},{width:Math.min(r.width,h),height:Math.min(r.height,p)},o),r.width=h,r.height=p,r.data=i.data)}function gg(r,i,o,h,p,v){if(p.width===0||p.height===0)return i;if(p.width>r.width||p.height>r.height||o.x>r.width-p.width||o.y>r.height-p.height)throw new RangeError("out of range source coordinates for image copy");if(p.width>i.width||p.height>i.height||h.x>i.width-p.width||h.y>i.height-p.height)throw new RangeError("out of range destination coordinates for image copy");const T=r.data,B=i.data;for(let X=0;X<p.height;X++){const ie=((o.y+X)*r.width+o.x)*v,ue=((h.y+X)*i.width+h.x)*v;for(let be=0;be<p.width*v;be++)B[ue+be]=T[ie+be]}return i}Yi(D_,"HeatmapBucket",{omit:["layers"]});class Ah{constructor(i,o){I_(this,i,1,o)}resize(i){mg(this,new Ah(i),1)}clone(){return new Ah({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,o,h,p,v){gg(i,o,h,p,v,1)}}class qa{constructor(i,o){I_(this,i,4,o)}resize(i){mg(this,new qa(i),4)}replace(i,o){o?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new qa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,o,h,p,v){gg(i,o,h,p,v,4)}}Yi(Ah,"AlphaImage"),Yi(qa,"RGBAImage");var Wx={paint:new pn({"heatmap-radius":new ei(ci.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ei(ci.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new $t(ci.paint_heatmap["heatmap-intensity"]),"heatmap-color":new on(ci.paint_heatmap["heatmap-color"]),"heatmap-opacity":new $t(ci.paint_heatmap["heatmap-opacity"])})};function Yp(r){const i={},o=r.resolution||256,h=r.clips?r.clips.length:1,p=r.image||new qa({width:o,height:h}),v=(T,B,X)=>{i[r.evaluationKey]=X;const ie=r.expression.evaluate(i);p.data[T+B+0]=Math.floor(255*ie.r/ie.a),p.data[T+B+1]=Math.floor(255*ie.g/ie.a),p.data[T+B+2]=Math.floor(255*ie.b/ie.a),p.data[T+B+3]=Math.floor(255*ie.a)};if(r.clips)for(let T=0,B=0;T<h;++T,B+=4*o)for(let X=0,ie=0;X<o;X++,ie+=4){const ue=X/(o-1),{start:be,end:Me}=r.clips[T];v(B,ie,be*(1-ue)+Me*ue)}else for(let T=0,B=0;T<o;T++,B+=4)v(0,B,T/(o-1));return p}var Yx={paint:new pn({"hillshade-illumination-direction":new $t(ci.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new $t(ci.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new $t(ci.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new $t(ci.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new $t(ci.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new $t(ci.paint_hillshade["hillshade-accent-color"])})};const qx=Ji([{name:"a_pos",components:2,type:"Int16"}],4),{members:Xx}=qx;var qp={exports:{}};function w0(r,i,o){o=o||2;var h,p,v,T,B,X,ie,ue=i&&i.length,be=ue?i[0]*o:r.length,Me=L_(r,0,be,o,!0),Ie=[];if(!Me||Me.next===Me.prev)return Ie;if(ue&&(Me=function(He,tt,gt,Ct){var mt,xt,kt,Mt=[];for(mt=0,xt=tt.length;mt<xt;mt++)(kt=L_(He,tt[mt]*Ct,mt<xt-1?tt[mt+1]*Ct:He.length,Ct,!1))===kt.next&&(kt.steiner=!0),Mt.push(nb(kt));for(Mt.sort(eb),mt=0;mt<Mt.length;mt++)gt=tb(Mt[mt],gt);return gt}(r,i,Me,o)),r.length>80*o){h=v=r[0],p=T=r[1];for(var Be=o;Be<be;Be+=o)(B=r[Be])<h&&(h=B),(X=r[Be+1])<p&&(p=X),B>v&&(v=B),X>T&&(T=X);ie=(ie=Math.max(v-h,T-p))!==0?32767/ie:0}return Xp(Me,Ie,o,h,p,ie,0),Ie}function L_(r,i,o,h,p){var v,T;if(p===xg(r,i,o,h)>0)for(v=i;v<o;v+=h)T=R_(v,r[v],r[v+1],T);else for(v=o-h;v>=i;v-=h)T=R_(v,r[v],r[v+1],T);return T&&Nu(T,T.next)&&(Kp(T),T=T.next),T}function Gd(r,i){if(!r)return r;i||(i=r);var o,h=r;do if(o=!1,h.steiner||!Nu(h,h.next)&&qr(h.prev,h,h.next)!==0)h=h.next;else{if(Kp(h),(h=i=h.prev)===h.next)break;o=!0}while(o||h!==i);return i}function Xp(r,i,o,h,p,v,T){if(r){!T&&v&&function(ue,be,Me,Ie){var Be=ue;do Be.z===0&&(Be.z=_g(Be.x,Be.y,be,Me,Ie)),Be.prevZ=Be.prev,Be.nextZ=Be.next,Be=Be.next;while(Be!==ue);Be.prevZ.nextZ=null,Be.prevZ=null,function(He){var tt,gt,Ct,mt,xt,kt,Mt,Jt,Kt=1;do{for(gt=He,He=null,xt=null,kt=0;gt;){for(kt++,Ct=gt,Mt=0,tt=0;tt<Kt&&(Mt++,Ct=Ct.nextZ);tt++);for(Jt=Kt;Mt>0||Jt>0&&Ct;)Mt!==0&&(Jt===0||!Ct||gt.z<=Ct.z)?(mt=gt,gt=gt.nextZ,Mt--):(mt=Ct,Ct=Ct.nextZ,Jt--),xt?xt.nextZ=mt:He=mt,mt.prevZ=xt,xt=mt;gt=Ct}xt.nextZ=null,Kt*=2}while(kt>1)}(Be)}(r,h,p,v);for(var B,X,ie=r;r.prev!==r.next;)if(B=r.prev,X=r.next,v?Kx(r,h,p,v):Zx(r))i.push(B.i/o|0),i.push(r.i/o|0),i.push(X.i/o|0),Kp(r),r=X.next,ie=X.next;else if((r=X)===ie){T?T===1?Xp(r=Jx(Gd(r),i,o),i,o,h,p,v,2):T===2&&Qx(r,i,o,h,p,v):Xp(Gd(r),i,o,h,p,v,1);break}}}function Zx(r){var i=r.prev,o=r,h=r.next;if(qr(i,o,h)>=0)return!1;for(var p=i.x,v=o.x,T=h.x,B=i.y,X=o.y,ie=h.y,ue=p<v?p<T?p:T:v<T?v:T,be=B<X?B<ie?B:ie:X<ie?X:ie,Me=p>v?p>T?p:T:v>T?v:T,Ie=B>X?B>ie?B:ie:X>ie?X:ie,Be=h.next;Be!==i;){if(Be.x>=ue&&Be.x<=Me&&Be.y>=be&&Be.y<=Ie&&Fu(p,B,v,X,T,ie,Be.x,Be.y)&&qr(Be.prev,Be,Be.next)>=0)return!1;Be=Be.next}return!0}function Kx(r,i,o,h){var p=r.prev,v=r,T=r.next;if(qr(p,v,T)>=0)return!1;for(var B=p.x,X=v.x,ie=T.x,ue=p.y,be=v.y,Me=T.y,Ie=B<X?B<ie?B:ie:X<ie?X:ie,Be=ue<be?ue<Me?ue:Me:be<Me?be:Me,He=B>X?B>ie?B:ie:X>ie?X:ie,tt=ue>be?ue>Me?ue:Me:be>Me?be:Me,gt=_g(Ie,Be,i,o,h),Ct=_g(He,tt,i,o,h),mt=r.prevZ,xt=r.nextZ;mt&&mt.z>=gt&&xt&&xt.z<=Ct;){if(mt.x>=Ie&&mt.x<=He&&mt.y>=Be&&mt.y<=tt&&mt!==p&&mt!==T&&Fu(B,ue,X,be,ie,Me,mt.x,mt.y)&&qr(mt.prev,mt,mt.next)>=0||(mt=mt.prevZ,xt.x>=Ie&&xt.x<=He&&xt.y>=Be&&xt.y<=tt&&xt!==p&&xt!==T&&Fu(B,ue,X,be,ie,Me,xt.x,xt.y)&&qr(xt.prev,xt,xt.next)>=0))return!1;xt=xt.nextZ}for(;mt&&mt.z>=gt;){if(mt.x>=Ie&&mt.x<=He&&mt.y>=Be&&mt.y<=tt&&mt!==p&&mt!==T&&Fu(B,ue,X,be,ie,Me,mt.x,mt.y)&&qr(mt.prev,mt,mt.next)>=0)return!1;mt=mt.prevZ}for(;xt&&xt.z<=Ct;){if(xt.x>=Ie&&xt.x<=He&&xt.y>=Be&&xt.y<=tt&&xt!==p&&xt!==T&&Fu(B,ue,X,be,ie,Me,xt.x,xt.y)&&qr(xt.prev,xt,xt.next)>=0)return!1;xt=xt.nextZ}return!0}function Jx(r,i,o){var h=r;do{var p=h.prev,v=h.next.next;!Nu(p,v)&&yg(p,h,h.next,v)&&Zp(p,v)&&Zp(v,p)&&(i.push(p.i/o|0),i.push(h.i/o|0),i.push(v.i/o|0),Kp(h),Kp(h.next),h=r=v),h=h.next}while(h!==r);return Gd(h)}function Qx(r,i,o,h,p,v){var T=r;do{for(var B=T.next.next;B!==T.prev;){if(T.i!==B.i&&sb(T,B)){var X=O_(T,B);return T=Gd(T,T.next),X=Gd(X,X.next),Xp(T,i,o,h,p,v,0),void Xp(X,i,o,h,p,v,0)}B=B.next}T=T.next}while(T!==r)}function eb(r,i){return r.x-i.x}function tb(r,i){var o=function(p,v){var T,B=v,X=p.x,ie=p.y,ue=-1/0;do{if(ie<=B.y&&ie>=B.next.y&&B.next.y!==B.y){var be=B.x+(ie-B.y)*(B.next.x-B.x)/(B.next.y-B.y);if(be<=X&&be>ue&&(ue=be,T=B.x<B.next.x?B:B.next,be===X))return T}B=B.next}while(B!==v);if(!T)return null;var Me,Ie=T,Be=T.x,He=T.y,tt=1/0;B=T;do X>=B.x&&B.x>=Be&&X!==B.x&&Fu(ie<He?X:ue,ie,Be,He,ie<He?ue:X,ie,B.x,B.y)&&(Me=Math.abs(ie-B.y)/(X-B.x),Zp(B,p)&&(Me<tt||Me===tt&&(B.x>T.x||B.x===T.x&&ib(T,B)))&&(T=B,tt=Me)),B=B.next;while(B!==Ie);return T}(r,i);if(!o)return i;var h=O_(o,r);return Gd(h,h.next),Gd(o,o.next)}function ib(r,i){return qr(r.prev,r,i.prev)<0&&qr(i.next,r,r.next)<0}function _g(r,i,o,h,p){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-o)*p|0)|r<<8))|r<<4))|r<<2))|r<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-h)*p|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function nb(r){var i=r,o=r;do(i.x<o.x||i.x===o.x&&i.y<o.y)&&(o=i),i=i.next;while(i!==r);return o}function Fu(r,i,o,h,p,v,T,B){return(p-T)*(i-B)>=(r-T)*(v-B)&&(r-T)*(h-B)>=(o-T)*(i-B)&&(o-T)*(v-B)>=(p-T)*(h-B)}function sb(r,i){return r.next.i!==i.i&&r.prev.i!==i.i&&!function(o,h){var p=o;do{if(p.i!==o.i&&p.next.i!==o.i&&p.i!==h.i&&p.next.i!==h.i&&yg(p,p.next,o,h))return!0;p=p.next}while(p!==o);return!1}(r,i)&&(Zp(r,i)&&Zp(i,r)&&function(o,h){var p=o,v=!1,T=(o.x+h.x)/2,B=(o.y+h.y)/2;do p.y>B!=p.next.y>B&&p.next.y!==p.y&&T<(p.next.x-p.x)*(B-p.y)/(p.next.y-p.y)+p.x&&(v=!v),p=p.next;while(p!==o);return v}(r,i)&&(qr(r.prev,r,i.prev)||qr(r,i.prev,i))||Nu(r,i)&&qr(r.prev,r,r.next)>0&&qr(i.prev,i,i.next)>0)}function qr(r,i,o){return(i.y-r.y)*(o.x-i.x)-(i.x-r.x)*(o.y-i.y)}function Nu(r,i){return r.x===i.x&&r.y===i.y}function yg(r,i,o,h){var p=T0(qr(r,i,o)),v=T0(qr(r,i,h)),T=T0(qr(o,h,r)),B=T0(qr(o,h,i));return p!==v&&T!==B||!(p!==0||!S0(r,o,i))||!(v!==0||!S0(r,h,i))||!(T!==0||!S0(o,r,h))||!(B!==0||!S0(o,i,h))}function S0(r,i,o){return i.x<=Math.max(r.x,o.x)&&i.x>=Math.min(r.x,o.x)&&i.y<=Math.max(r.y,o.y)&&i.y>=Math.min(r.y,o.y)}function T0(r){return r>0?1:r<0?-1:0}function Zp(r,i){return qr(r.prev,r,r.next)<0?qr(r,i,r.next)>=0&&qr(r,r.prev,i)>=0:qr(r,i,r.prev)<0||qr(r,r.next,i)<0}function O_(r,i){var o=new vg(r.i,r.x,r.y),h=new vg(i.i,i.x,i.y),p=r.next,v=i.prev;return r.next=i,i.prev=r,o.next=p,p.prev=o,h.next=o,o.prev=h,v.next=h,h.prev=v,h}function R_(r,i,o,h){var p=new vg(r,i,o);return h?(p.next=h.next,p.prev=h,h.next.prev=p,h.next=p):(p.prev=p,p.next=p),p}function Kp(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function vg(r,i,o){this.i=r,this.x=i,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function xg(r,i,o,h){for(var p=0,v=i,T=o-h;v<o;v+=h)p+=(r[T]-r[v])*(r[v+1]+r[T+1]),T=v;return p}function B_(r,i,o,h,p){z_(r,i,o||0,h||r.length-1,p||rb)}function z_(r,i,o,h,p){for(;h>o;){if(h-o>600){var v=h-o+1,T=i-o+1,B=Math.log(v),X=.5*Math.exp(2*B/3),ie=.5*Math.sqrt(B*X*(v-X)/v)*(T-v/2<0?-1:1);z_(r,i,Math.max(o,Math.floor(i-T*X/v+ie)),Math.min(h,Math.floor(i+(v-T)*X/v+ie)),p)}var ue=r[i],be=o,Me=h;for(od(r,o,i),p(r[h],ue)>0&&od(r,o,h);be<Me;){for(od(r,be,Me),be++,Me--;p(r[be],ue)<0;)be++;for(;p(r[Me],ue)>0;)Me--}p(r[o],ue)===0?od(r,o,Me):od(r,++Me,h),Me<=i&&(o=Me+1),i<=Me&&(h=Me-1)}}function od(r,i,o){var h=r[i];r[i]=r[o],r[o]=h}function rb(r,i){return r<i?-1:r>i?1:0}function bg(r,i){const o=r.length;if(o<=1)return[r];const h=[];let p,v;for(let T=0;T<o;T++){const B=we(r[T]);B!==0&&(r[T].area=Math.abs(B),v===void 0&&(v=B<0),v===B<0?(p&&h.push(p),p=[r[T]]):p.push(r[T]))}if(p&&h.push(p),i>1)for(let T=0;T<h.length;T++)h[T].length<=i||(B_(h[T],i,1,h[T].length-1,ob),h[T]=h[T].slice(0,i));return h}function ob(r,i){return i.area-r.area}function wg(r,i,o){const h=o.patternDependencies;let p=!1;for(const v of i){const T=v.paint.get(`${r}-pattern`);T.isConstant()||(p=!0);const B=T.constantOr(null);B&&(p=!0,h[B]=!0)}return p}function Sg(r,i,o,h,p){const v=p.patternDependencies;for(const T of i){const B=T.paint.get(`${r}-pattern`).value;if(B.kind!=="constant"){let X=B.evaluate({zoom:h},o,{},p.availableImages);X=X&&X.name?X.name:X,v[X]=!0,o.patterns[T.id]=X}}return o}qp.exports=w0,qp.exports.default=w0,w0.deviation=function(r,i,o,h){var p=i&&i.length,v=Math.abs(xg(r,0,p?i[0]*o:r.length,o));if(p)for(var T=0,B=i.length;T<B;T++)v-=Math.abs(xg(r,i[T]*o,T<B-1?i[T+1]*o:r.length,o));var X=0;for(T=0;T<h.length;T+=3){var ie=h[T]*o,ue=h[T+1]*o,be=h[T+2]*o;X+=Math.abs((r[ie]-r[be])*(r[ue+1]-r[ie+1])-(r[ie]-r[ue])*(r[be+1]-r[ie+1]))}return v===0&&X===0?0:Math.abs((X-v)/v)},w0.flatten=function(r){for(var i=r[0][0].length,o={vertices:[],holes:[],dimensions:i},h=0,p=0;p<r.length;p++){for(var v=0;v<r[p].length;v++)for(var T=0;T<i;T++)o.vertices.push(r[p][v][T]);p>0&&o.holes.push(h+=r[p-1].length)}return o};class E0{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ms,this.indexArray=new Mo,this.indexArray2=new Hl,this.programConfigurations=new Jc(i.layers,i.zoom),this.segments=new Yr,this.segments2=new Yr,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.projection=i.projection}populate(i,o,h,p){this.hasPattern=wg("fill",this.layers,o);const v=this.layers[0].layout.get("fill-sort-key"),T=[];for(const{feature:B,id:X,index:ie,sourceLayerIndex:ue}of i){const be=this.layers[0]._featureFilter.needGeometry,Me=Qc(B,be);if(!this.layers[0]._featureFilter.filter(new Gt(this.zoom),Me,h))continue;const Ie=v?v.evaluate(Me,{},h,o.availableImages):void 0,Be={id:X,properties:B.properties,type:B.type,sourceLayerIndex:ue,index:ie,geometry:be?Me.geometry:bc(B,h,p),patterns:{},sortKey:Ie};T.push(Be)}v&&T.sort((B,X)=>B.sortKey-X.sortKey);for(const B of T){const{geometry:X,index:ie,sourceLayerIndex:ue}=B;if(this.hasPattern){const be=Sg("fill",this.layers,B,this.zoom,o);this.patternFeatures.push(be)}else this.addFeature(B,X,ie,h,{},o.availableImages);o.featureIndex.insert(i[ie].feature,X,ie,ue,this.index)}}update(i,o,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,h,p)}addFeatures(i,o,h,p,v){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,o,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,Xx),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,o,h,p,v,T=[]){for(const B of bg(o,500)){let X=0;for(const Be of B)X+=Be.length;const ie=this.segments.prepareSegment(X,this.layoutVertexArray,this.indexArray),ue=ie.vertexLength,be=[],Me=[];for(const Be of B){if(Be.length===0)continue;Be!==B[0]&&Me.push(be.length/2);const He=this.segments2.prepareSegment(Be.length,this.layoutVertexArray,this.indexArray2),tt=He.vertexLength;this.layoutVertexArray.emplaceBack(Be[0].x,Be[0].y),this.indexArray2.emplaceBack(tt+Be.length-1,tt),be.push(Be[0].x),be.push(Be[0].y);for(let gt=1;gt<Be.length;gt++)this.layoutVertexArray.emplaceBack(Be[gt].x,Be[gt].y),this.indexArray2.emplaceBack(tt+gt-1,tt+gt),be.push(Be[gt].x),be.push(Be[gt].y);He.vertexLength+=Be.length,He.primitiveLength+=Be.length}const Ie=qp.exports(be,Me);for(let Be=0;Be<Ie.length;Be+=3)this.indexArray.emplaceBack(ue+Ie[Be],ue+Ie[Be+1],ue+Ie[Be+2]);ie.vertexLength+=X,ie.primitiveLength+=Ie.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,h,v,T,p)}}Yi(E0,"FillBucket",{omit:["layers","patternFeatures"]});const ab=new pn({"fill-sort-key":new ei(ci.layout_fill["fill-sort-key"])});var lb={paint:new pn({"fill-antialias":new $t(ci.paint_fill["fill-antialias"]),"fill-opacity":new ei(ci.paint_fill["fill-opacity"]),"fill-color":new ei(ci.paint_fill["fill-color"]),"fill-outline-color":new ei(ci.paint_fill["fill-outline-color"]),"fill-translate":new $t(ci.paint_fill["fill-translate"]),"fill-translate-anchor":new $t(ci.paint_fill["fill-translate-anchor"]),"fill-pattern":new ei(ci.paint_fill["fill-pattern"])}),layout:ab};const cb=Ji([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),hb=Ji([{name:"a_centroid_pos",components:2,type:"Uint16"}]),db=Ji([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:ub}=cb;var C0={},pb=G,F_=ju;function ju(r,i,o,h,p){this.properties={},this.extent=o,this.type=0,this._pbf=r,this._geometry=-1,this._keys=h,this._values=p,r.readFields(N_,this,i)}function N_(r,i,o){r==1?i.id=o.readVarint():r==2?function(h,p){for(var v=h.readVarint()+h.pos;h.pos<v;){var T=p._keys[h.readVarint()],B=p._values[h.readVarint()];p.properties[T]=B}}(o,i):r==3?i.type=o.readVarint():r==4&&(i._geometry=o.pos)}function j_(r){for(var i,o,h=0,p=0,v=r.length,T=v-1;p<v;T=p++)h+=((o=r[T]).x-(i=r[p]).x)*(i.y+o.y);return h}ju.types=["Unknown","Point","LineString","Polygon"],ju.prototype.loadGeometry=function(){var r=this._pbf;r.pos=this._geometry;for(var i,o=r.readVarint()+r.pos,h=1,p=0,v=0,T=0,B=[];r.pos<o;){if(p<=0){var X=r.readVarint();h=7&X,p=X>>3}if(p--,h===1||h===2)v+=r.readSVarint(),T+=r.readSVarint(),h===1&&(i&&B.push(i),i=[]),i.push(new pb(v,T));else{if(h!==7)throw new Error("unknown command "+h);i&&i.push(i[0].clone())}}return i&&B.push(i),B},ju.prototype.bbox=function(){var r=this._pbf;r.pos=this._geometry;for(var i=r.readVarint()+r.pos,o=1,h=0,p=0,v=0,T=1/0,B=-1/0,X=1/0,ie=-1/0;r.pos<i;){if(h<=0){var ue=r.readVarint();o=7&ue,h=ue>>3}if(h--,o===1||o===2)(p+=r.readSVarint())<T&&(T=p),p>B&&(B=p),(v+=r.readSVarint())<X&&(X=v),v>ie&&(ie=v);else if(o!==7)throw new Error("unknown command "+o)}return[T,X,B,ie]},ju.prototype.toGeoJSON=function(r,i,o){var h,p,v=this.extent*Math.pow(2,o),T=this.extent*r,B=this.extent*i,X=this.loadGeometry(),ie=ju.types[this.type];function ue(Ie){for(var Be=0;Be<Ie.length;Be++){var He=Ie[Be];Ie[Be]=[360*(He.x+T)/v-180,360/Math.PI*Math.atan(Math.exp((180-360*(He.y+B)/v)*Math.PI/180))-90]}}switch(this.type){case 1:var be=[];for(h=0;h<X.length;h++)be[h]=X[h][0];ue(X=be);break;case 2:for(h=0;h<X.length;h++)ue(X[h]);break;case 3:for(X=function(Ie){var Be=Ie.length;if(Be<=1)return[Ie];for(var He,tt,gt=[],Ct=0;Ct<Be;Ct++){var mt=j_(Ie[Ct]);mt!==0&&(tt===void 0&&(tt=mt<0),tt===mt<0?(He&&gt.push(He),He=[Ie[Ct]]):He.push(Ie[Ct]))}return He&&gt.push(He),gt}(X),h=0;h<X.length;h++)for(p=0;p<X[h].length;p++)ue(X[h][p])}X.length===1?X=X[0]:ie="Multi"+ie;var Me={type:"Feature",geometry:{type:ie,coordinates:X},properties:this.properties};return"id"in this&&(Me.id=this.id),Me};var fb=F_,U_=G_;function G_(r,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=r,this._keys=[],this._values=[],this._features=[],r.readFields(mb,this,i),this.length=this._features.length}function mb(r,i,o){r===15?i.version=o.readVarint():r===1?i.name=o.readString():r===5?i.extent=o.readVarint():r===2?i._features.push(o.pos):r===3?i._keys.push(o.readString()):r===4&&i._values.push(function(h){for(var p=null,v=h.readVarint()+h.pos;h.pos<v;){var T=h.readVarint()>>3;p=T===1?h.readString():T===2?h.readFloat():T===3?h.readDouble():T===4?h.readVarint64():T===5?h.readVarint():T===6?h.readSVarint():T===7?h.readBoolean():null}return p}(o))}G_.prototype.feature=function(r){if(r<0||r>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[r];var i=this._pbf.readVarint()+this._pbf.pos;return new fb(this._pbf,i,this.extent,this._keys,this._values)};var M0=U_;function gb(r,i,o){if(r===3){var h=new M0(o,o.readVarint()+o.pos);h.length&&(i[h.name]=h)}}var Tg=C0.VectorTile=function(r,i){this.layers=r.readFields(gb,{},i)},A0=C0.VectorTileFeature=F_;function k0(r,i,o,h){const p=[],v=h===0?(T,B,X,ie,ue,be)=>{T.push(new G(be,X+(be-B)/(ie-B)*(ue-X)))}:(T,B,X,ie,ue,be)=>{T.push(new G(B+(be-X)/(ue-X)*(ie-B),be))};for(const T of r){const B=[];for(const X of T){if(X.length<=2)continue;const ie=[];for(let Me=0;Me<X.length-1;Me++){const Ie=X[Me].x,Be=X[Me].y,He=X[Me+1].x,tt=X[Me+1].y,gt=h===0?Ie:Be,Ct=h===0?He:tt;gt<i?Ct>i&&v(ie,Ie,Be,He,tt,i):gt>o?Ct<o&&v(ie,Ie,Be,He,tt,o):ie.push(X[Me]),Ct<i&&gt>=i&&v(ie,Ie,Be,He,tt,i),Ct>o&&gt<=o&&v(ie,Ie,Be,He,tt,o)}let ue=X[X.length-1];const be=h===0?ue.x:ue.y;be>=i&&be<=o&&ie.push(ue),ie.length&&(ue=ie[ie.length-1],ie[0].x===ue.x&&ie[0].y===ue.y||ie.push(ie[0]),B.push(ie))}B.length&&p.push(B)}return p}C0.VectorTileLayer=U_;const _b=A0.types,yb=Math.pow(2,13);function Jp(r,i,o,h,p,v,T,B){r.emplaceBack((i<<1)+T,(o<<1)+v,(Math.floor(h*yb)<<1)+p,Math.round(B))}function Qp(r,i,o){r.emplaceBack(i.x,i.y,i.z,o[0]*16384,o[1]*16384,o[2]*16384)}class V_{constructor(){this.acc=new G(0,0),this.polyCount=[]}startRing(i){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new G(i.x,i.y),this.max=new G(i.x,i.y))}append(i,o){this.currentPolyCount.edges++,this.acc._add(i);const h=this.min,p=this.max;i.x<h.x?h.x=i.x:i.x>p.x&&(p.x=i.x),i.y<h.y?h.y=i.y:i.y>p.y&&(p.y=i.y),((i.x===0||i.x===wn)&&i.x===o.x)!=((i.y===0||i.y===wn)&&i.y===o.y)&&this.processBorderOverlap(i,o),o.x<0!=i.x<0&&this.addBorderIntersection(0,Bn(o.y,i.y,(0-o.x)/(i.x-o.x))),o.x>wn!=i.x>wn&&this.addBorderIntersection(1,Bn(o.y,i.y,(wn-o.x)/(i.x-o.x))),o.y<0!=i.y<0&&this.addBorderIntersection(2,Bn(o.x,i.x,(0-o.y)/(i.y-o.y))),o.y>wn!=i.y>wn&&this.addBorderIntersection(3,Bn(o.x,i.x,(wn-o.y)/(i.y-o.y)))}addBorderIntersection(i,o){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const h=this.borders[i];o<h[0]&&(h[0]=o),o>h[1]&&(h[1]=o)}processBorderOverlap(i,o){if(i.x===o.x){if(i.y===o.y)return;const h=i.x===0?0:1;this.addBorderIntersection(h,o.y),this.addBorderIntersection(h,i.y)}else{const h=i.y===0?2:3;this.addBorderIntersection(h,o.x),this.addBorderIntersection(h,i.x)}}centroid(){const i=this.polyCount.reduce((o,h)=>o+h.edges,0);return i!==0?this.acc.div(i)._round():new G(0,0)}span(){return new G(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((i,o)=>i+ +(o[0]!==Number.MAX_VALUE),0)}}class ef{constructor(i){this.zoom=i.zoom,this.canonical=i.canonical,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=i.projection,this.layoutVertexArray=new Rs,this.centroidVertexArray=new d0,this.indexArray=new Mo,this.programConfigurations=new Jc(i.layers,i.zoom),this.segments=new Yr,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.enableTerrain=i.enableTerrain}populate(i,o,h,p){this.features=[],this.hasPattern=wg("fill-extrusion",this.layers,o),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(v){const T=Math.exp(Math.PI*(1-v.y/(1<<v.z)*2));return 80150034*T/(T*T+1)/wn/(1<<v.z)}(h),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:v,id:T,index:B,sourceLayerIndex:X}of i){const ie=this.layers[0]._featureFilter.needGeometry,ue=Qc(v,ie);if(!this.layers[0]._featureFilter.filter(new Gt(this.zoom),ue,h))continue;const be={id:T,sourceLayerIndex:X,index:B,geometry:ie?ue.geometry:bc(v,h,p),properties:v.properties,type:v.type,patterns:{}},Me=this.layoutVertexArray.length;this.hasPattern?this.features.push(Sg("fill-extrusion",this.layers,be,this.zoom,o)):this.addFeature(be,be.geometry,B,h,{},o.availableImages,p),o.featureIndex.insert(v,be.geometry,B,X,this.index,Me)}this.sortBorders()}addFeatures(i,o,h,p,v){for(const T of this.features){const{geometry:B}=T;this.addFeature(T,B,T.index,o,h,p,v)}this.sortBorders()}update(i,o,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,ub),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=i.createVertexBuffer(this.layoutVertexExtArray,db.members,!0))),this.programConfigurations.upload(i),this.uploaded=!0}uploadCentroid(i){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,hb.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,o,h,p,v,T,B){const X=[new G(0,0),new G(wn,wn)],ie=B.projection,ue=ie.name==="globe",be=this.enableTerrain&&!ue?new V_:null,Me=_b[i.type]==="Polygon";ue&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Zs);const Ie=bg(o,500);for(let gt=Ie.length-1;gt>=0;gt--){const Ct=Ie[gt];(Ct.length===0||(Be=Ct[0]).every(mt=>mt.x<=0)||Be.every(mt=>mt.x>=wn)||Be.every(mt=>mt.y<=0)||Be.every(mt=>mt.y>=wn))&&Ie.splice(gt,1)}var Be;let He;if(ue)He=Ag(Ie,X,p);else{He=[];for(const gt of Ie)He.push({polygon:gt,bounds:X})}const tt=Me?this.edgeRadius:0;for(const{polygon:gt,bounds:Ct}of He){let mt=0,xt=0;for(const Mt of gt)Me&&!Mt[0].equals(Mt[Mt.length-1])&&Mt.push(Mt[0]),xt+=Me?Mt.length-1:Mt.length;const kt=this.segments.prepareSegment((Me?5:4)*xt,this.layoutVertexArray,this.indexArray);if(Me){const Mt=[],Jt=[];mt=kt.vertexLength;for(const fi of gt){let Ri,si;fi.length&&fi!==gt[0]&&Jt.push(Mt.length/2),Ri=fi[1].sub(fi[0])._perp()._unit();for(let yi=1;yi<fi.length;yi++){const xi=fi[yi],Ai=fi[yi===fi.length-1?1:yi+1];let{x:Bi,y:oi}=xi;if(tt){si=Ai.sub(xi)._perp()._unit();const Hi=Ri.add(si)._unit(),Cn=tt*Math.min(4,1/(Ri.x*Hi.x+Ri.y*Hi.y));Bi+=Cn*Hi.x,oi+=Cn*Hi.y,Ri=si}Jp(this.layoutVertexArray,Bi,oi,0,0,1,1,0),kt.vertexLength++,Mt.push(xi.x,xi.y),ue&&Qp(this.layoutVertexExtArray,ie.projectTilePoint(Bi,oi,p),ie.upVector(p,Bi,oi))}}const Kt=qp.exports(Mt,Jt);for(let fi=0;fi<Kt.length;fi+=3)this.indexArray.emplaceBack(mt+Kt[fi],mt+Kt[fi+2],mt+Kt[fi+1]),kt.primitiveLength++}for(const Mt of gt){be&&Mt.length&&be.startRing(Mt[0]);let Jt,Kt,fi,Ri=Mt.length>4&&Cg(Mt[Mt.length-2],Mt[0],Mt[1]),si=tt?P0(Mt[Mt.length-2],Mt[0],Mt[1],tt):0;Kt=Mt[1].sub(Mt[0])._perp()._unit();let yi=!0;for(let xi=1,Ai=0;xi<Mt.length;xi++){let Bi=Mt[xi-1],oi=Mt[xi];const Hi=Mt[xi===Mt.length-1?1:xi+1];if(be&&Me&&be.currentPolyCount.top++,Eg(oi,Bi,Ct)){tt&&(Kt=Hi.sub(oi)._perp()._unit(),yi=!yi);continue}be&&be.append(oi,Bi);const Cn=oi.sub(Bi)._perp(),Ki=Cn.x/(Math.abs(Cn.x)+Math.abs(Cn.y)),hn=Cn.y>0?1:0,Wi=Bi.dist(oi);if(Ai+Wi>32768&&(Ai=0),tt){fi=Hi.sub(oi)._perp()._unit();let ns=H_(Bi,oi,Hi,$_(Kt,fi),tt);isNaN(ns)&&(ns=0);const In=oi.sub(Bi)._unit();Bi=Bi.add(In.mult(si))._round(),oi=oi.add(In.mult(-ns))._round(),si=ns,Kt=fi}const Dn=kt.vertexLength,cs=Mt.length>4&&Cg(Bi,oi,Hi);let os=D0(Ai,Ri,yi);if(Jp(this.layoutVertexArray,Bi.x,Bi.y,Ki,hn,0,0,os),Jp(this.layoutVertexArray,Bi.x,Bi.y,Ki,hn,0,1,os),Ai+=Wi,os=D0(Ai,cs,!yi),Ri=cs,Jp(this.layoutVertexArray,oi.x,oi.y,Ki,hn,0,0,os),Jp(this.layoutVertexArray,oi.x,oi.y,Ki,hn,0,1,os),kt.vertexLength+=4,this.indexArray.emplaceBack(Dn+0,Dn+1,Dn+2),this.indexArray.emplaceBack(Dn+1,Dn+3,Dn+2),kt.primitiveLength+=2,tt){const ns=mt+(xi===1?Mt.length-2:xi-2),In=xi===1?mt:ns+1;if(this.indexArray.emplaceBack(Dn+1,ns,Dn+3),this.indexArray.emplaceBack(ns,In,Dn+3),kt.primitiveLength+=2,Jt===void 0&&(Jt=Dn),!Eg(Hi,Mt[xi],Ct)){const Vs=xi===Mt.length-1?Jt:kt.vertexLength;this.indexArray.emplaceBack(Dn+2,Dn+3,Vs),this.indexArray.emplaceBack(Dn+3,Vs+1,Vs),this.indexArray.emplaceBack(Dn+3,In,Vs+1),kt.primitiveLength+=3}yi=!yi}if(ue){const ns=this.layoutVertexExtArray,In=ie.projectTilePoint(Bi.x,Bi.y,p),Vs=ie.projectTilePoint(oi.x,oi.y,p),$n=ie.upVector(p,Bi.x,Bi.y),hs=ie.upVector(p,oi.x,oi.y);Qp(ns,In,$n),Qp(ns,In,$n),Qp(ns,Vs,hs),Qp(ns,Vs,hs)}}Me&&(mt+=Mt.length-1)}}if(be&&be.polyCount.length>0){if(be.borders){be.vertexArrayOffset=this.centroidVertexArray.length;const gt=be.borders,Ct=this.featuresOnBorder.push(be)-1;for(let mt=0;mt<4;mt++)gt[mt][0]!==Number.MAX_VALUE&&this.borders[mt].push(Ct)}this.encodeCentroid(be.borders?void 0:be.centroid(),be)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,h,v,T,p)}sortBorders(){for(let i=0;i<4;i++)this.borders[i].sort((o,h)=>this.featuresOnBorder[o].borders[i][0]-this.featuresOnBorder[h].borders[i][0])}encodeCentroid(i,o,h=!0){let p,v;if(i)if(i.y!==0){const B=o.span()._mult(this.tileToMeter);p=(Math.max(i.x,1)<<3)+Math.min(7,Math.round(B.x/10)),v=(Math.max(i.y,1)<<3)+Math.min(7,Math.round(B.y/10))}else p=Math.ceil(7*(i.x+450)),v=0;else p=0,v=+h;let T=h?this.centroidVertexArray.length:o.vertexArrayOffset;for(const B of o.polyCount){h&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*B.edges+B.top);for(let X=0;X<B.top;X++)this.centroidVertexArray.emplace(T++,p,v);for(let X=0;X<2*B.edges;X++)this.centroidVertexArray.emplace(T++,0,v),this.centroidVertexArray.emplace(T++,p,v)}}}function $_(r,i){const o=r.add(i)._unit();return r.x*o.x+r.y*o.y}function P0(r,i,o,h){const p=i.sub(r)._perp()._unit(),v=o.sub(i)._perp()._unit();return H_(r,i,o,$_(p,v),h)}function H_(r,i,o,h,p){const v=Math.sqrt(1-h*h);return Math.min(r.dist(i)/3,i.dist(o)/3,p*v/h)}function Eg(r,i,o){return r.x<o[0].x&&i.x<o[0].x||r.x>o[1].x&&i.x>o[1].x||r.y<o[0].y&&i.y<o[0].y||r.y>o[1].y&&i.y>o[1].y}function Cg(r,i,o){if(r.x<0||r.x>=wn||i.x<0||i.x>=wn||o.x<0||o.x>=wn)return!1;const h=o.sub(i),p=h.perp(),v=r.sub(i);return(h.x*v.x+h.y*v.y)/Math.sqrt((h.x*h.x+h.y*h.y)*(v.x*v.x+v.y*v.y))>-.866&&p.x*v.x+p.y*v.y<0}function D0(r,i,o){const h=i?2|r:-3&r;return o?1|h:-2&h}function Mg(){const r=Math.PI/32,i=Math.tan(r),o=Od;return o*Math.sqrt(1+2*i*i)-o}function Ag(r,i,o){const h=1<<o.z,p=Aa(o.x/h),v=Aa((o.x+1)/h),T=No(o.y/h),B=No((o.y+1)/h);return function(X,ie,ue,be,Me=0,Ie){const Be=[];if(!X.length||!ue||!be)return Be;const He=(Mt,Jt)=>{for(const Kt of Mt)Be.push({polygon:Kt,bounds:Jt})},tt=Math.ceil(Math.log2(ue)),gt=Math.ceil(Math.log2(be)),Ct=tt-gt,mt=[];for(let Mt=0;Mt<Math.abs(Ct);Mt++)mt.push(Ct>0?0:1);for(let Mt=0;Mt<Math.min(tt,gt);Mt++)mt.push(0),mt.push(1);let xt=X;if(xt=k0(xt,ie[0].y-Me,ie[1].y+Me,1),xt=k0(xt,ie[0].x-Me,ie[1].x+Me,0),!xt.length)return Be;const kt=[];for(mt.length?kt.push({polygons:xt,bounds:ie,depth:0}):He(xt,ie);kt.length;){const Mt=kt.pop(),Jt=Mt.depth,Kt=mt[Jt],fi=Mt.bounds[0],Ri=Mt.bounds[1],si=Kt===0?fi.x:fi.y,yi=Kt===0?Ri.x:Ri.y,xi=Ie?Ie(Kt,si,yi):.5*(si+yi),Ai=k0(Mt.polygons,si-Me,xi+Me,Kt),Bi=k0(Mt.polygons,xi-Me,yi+Me,Kt);if(Ai.length){const oi=[fi,new G(Kt===0?xi:Ri.x,Kt===1?xi:Ri.y)];mt.length>Jt+1?kt.push({polygons:Ai,bounds:oi,depth:Jt+1}):He(Ai,oi)}if(Bi.length){const oi=[new G(Kt===0?xi:fi.x,Kt===1?xi:fi.y),Ri];mt.length>Jt+1?kt.push({polygons:Bi,bounds:oi,depth:Jt+1}):He(Bi,oi)}}return Be}(r,i,Math.ceil((v-p)/11.25),Math.ceil((T-B)/11.25),1,(X,ie,ue)=>{if(X===0)return .5*(ie+ue);{const be=No((o.y+ie/wn)/h);return(Cl(.5*(No((o.y+ue/wn)/h)+be))*h-o.y)*wn}})}Yi(ef,"FillExtrusionBucket",{omit:["layers","features"]}),Yi(V_,"PartMetadata");const W_=new pn({"fill-extrusion-edge-radius":new $t(ci["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Y_={paint:new pn({"fill-extrusion-opacity":new $t(ci["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ei(ci["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new $t(ci["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new $t(ci["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ei(ci["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ei(ci["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ei(ci["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new $t(ci["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new $t(ci["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new $t(ci["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:W_};function q_(r,i,o){var h=2*Math.PI*6378137/256/Math.pow(2,o);return[r*h-2*Math.PI*6378137/2,i*h-2*Math.PI*6378137/2]}class I0{constructor(i,o,h){this.z=i,this.x=o,this.y=h,this.key=ad(0,i,i,o,h)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,o){const h=function(v,T,B){var X=q_(256*v,256*(T=Math.pow(2,B)-T-1),B),ie=q_(256*(v+1),256*(T+1),B);return X[0]+","+X[1]+","+ie[0]+","+ie[1]}(this.x,this.y,this.z),p=function(v,T,B){let X,ie="";for(let ue=v;ue>0;ue--)X=1<<ue-1,ie+=(T&X?1:0)+(B&X?2:0);return ie}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(o==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",p).replace("{bbox-epsg-3857}",h)}toString(){return`${this.z}/${this.x}/${this.y}`}}class X_{constructor(i,o){this.wrap=i,this.canonical=o,this.key=ad(i,o.z,o.z,o.x,o.y)}}class Ao{constructor(i,o,h,p,v){this.overscaledZ=i,this.wrap=o,this.canonical=new I0(h,+p,+v),this.key=o===0&&i===h?this.canonical.key:ad(o,i,h,p,v)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){const o=this.canonical.z-i;return i>this.canonical.z?new Ao(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ao(i,this.wrap,i,this.canonical.x>>o,this.canonical.y>>o)}calculateScaledKey(i,o=!0){if(this.overscaledZ===i&&o)return this.key;if(i>this.canonical.z)return ad(this.wrap*+o,i,this.canonical.z,this.canonical.x,this.canonical.y);{const h=this.canonical.z-i;return ad(this.wrap*+o,i,i,this.canonical.x>>h,this.canonical.y>>h)}}isChildOf(i){if(i.wrap!==this.wrap)return!1;const o=this.canonical.z-i.canonical.z;return i.overscaledZ===0||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>o&&i.canonical.y===this.canonical.y>>o}children(i){if(this.overscaledZ>=i)return[new Ao(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const o=this.canonical.z+1,h=2*this.canonical.x,p=2*this.canonical.y;return[new Ao(o,this.wrap,o,h,p),new Ao(o,this.wrap,o,h+1,p),new Ao(o,this.wrap,o,h,p+1),new Ao(o,this.wrap,o,h+1,p+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new Ao(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new Ao(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new X_(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function ad(r,i,o,h,p){const v=1<<Math.min(o,22);let T=v*(p%v)+h%v;return r&&o<22&&(T+=v*v*((r<0?-2*r-1:2*r)%(1<<2*(22-o)))),16*(32*T+o)+(i-o)}Yi(I0,"CanonicalTileID"),Yi(Ao,"OverscaledTileID",{omit:["projMatrix"]});class Uu extends G{constructor(i,o,h){super(i,o),this.z=h}}function tf(r,i){return r.x*i.x+r.y*i.y}function L0(r,i){if(r.length===1){let o=0;const h=i[o++];let p;for(;!p||h.equals(p);)if(p=i[o++],!p)return 1/0;for(;o<i.length;o++){const v=i[o],T=r[0],B=p.sub(h),X=v.sub(h),ie=T.sub(h),ue=tf(B,B),be=tf(B,X),Me=tf(X,X),Ie=tf(ie,B),Be=tf(ie,X),He=ue*Me-be*be,tt=(Me*Ie-be*Be)/He,gt=(ue*Be-be*Ie)/He,Ct=h.z*(1-tt-gt)+p.z*tt+v.z*gt;if(isFinite(Ct))return Ct}return 1/0}{let o=1/0;for(const h of i)o=Math.min(o,h.z);return o}}function kg(r,i,o,h,p,v,T,B){const X=T*p.getElevationAt(r,i,!0,!0),ie=v[0]!==0,ue=ie?v[1]===0?T*(v[0]/7-450):T*function(be,Me,Ie){const Be=Math.floor(Me[0]/8),He=Math.floor(Me[1]/8),tt=10*(Me[0]-8*Be),gt=10*(Me[1]-8*He),Ct=be.getElevationAt(Be,He,!0,!0),mt=be.getMeterToDEM(Ie),xt=Math.floor(.5*(tt*mt-1)),kt=Math.floor(.5*(gt*mt-1)),Mt=be.tileCoordToPixel(Be,He),Jt=2*xt+1,Kt=2*kt+1,fi=function(Bi,oi,Hi,Cn,Ki){return[Bi.getElevationAtPixel(oi,Hi,!0),Bi.getElevationAtPixel(oi+Ki,Hi,!0),Bi.getElevationAtPixel(oi,Hi+Ki,!0),Bi.getElevationAtPixel(oi+Cn,Hi+Ki,!0)]}(be,Mt.x-xt,Mt.y-kt,Jt,Kt),Ri=Math.abs(fi[0]-fi[1]),si=Math.abs(fi[2]-fi[3]),yi=Math.abs(fi[0]-fi[2])+Math.abs(fi[1]-fi[3]),xi=Math.min(.25,.5*mt*(Ri+si)/Jt),Ai=Math.min(.25,.5*mt*yi/Kt);return Ct+Math.max(xi*tt,Ai*gt)}(p,v,B):X;return{base:X+(o===0)?-1:o,top:ie?Math.max(ue+h,X+o+2):X+h}}const vb=Ji([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:xb}=vb,bb=Ji([{name:"a_packed",components:4,type:"Float32"}]),{members:wb}=bb,Sb=A0.types,Tb=Math.cos(Math.PI/180*37.5);class O0{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.projection=i.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(o=>{this.gradients[o.id]={}}),this.layoutVertexArray=new da,this.layoutVertexArray2=new Yo,this.indexArray=new Mo,this.programConfigurations=new Jc(i.layers,i.zoom),this.segments=new Yr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(i,o,h,p){this.hasPattern=wg("line",this.layers,o);const v=this.layers[0].layout.get("line-sort-key"),T=[];for(const{feature:ue,id:be,index:Me,sourceLayerIndex:Ie}of i){const Be=this.layers[0]._featureFilter.needGeometry,He=Qc(ue,Be);if(!this.layers[0]._featureFilter.filter(new Gt(this.zoom),He,h))continue;const tt=v?v.evaluate(He,{},h):void 0,gt={id:be,properties:ue.properties,type:ue.type,sourceLayerIndex:Ie,index:Me,geometry:Be?He.geometry:bc(ue,h,p),patterns:{},sortKey:tt};T.push(gt)}v&&T.sort((ue,be)=>ue.sortKey-be.sortKey);const{lineAtlas:B,featureIndex:X}=o,ie=this.addConstantDashes(B);for(const ue of T){const{geometry:be,index:Me,sourceLayerIndex:Ie}=ue;if(ie&&this.addFeatureDashes(ue,B),this.hasPattern){const Be=Sg("line",this.layers,ue,this.zoom,o);this.patternFeatures.push(Be)}else this.addFeature(ue,be,Me,h,B.positions,o.availableImages);X.insert(i[Me].feature,be,Me,Ie,this.index)}}addConstantDashes(i){let o=!1;for(const h of this.layers){const p=h.paint.get("line-dasharray").value,v=h.layout.get("line-cap").value;if(p.kind!=="constant"||v.kind!=="constant")o=!0;else{const T=v.value,B=p.value;if(!B)continue;i.addDash(B,T)}}return o}addFeatureDashes(i,o){const h=this.zoom;for(const p of this.layers){const v=p.paint.get("line-dasharray").value,T=p.layout.get("line-cap").value;if(v.kind==="constant"&&T.kind==="constant")continue;let B,X;if(v.kind==="constant"){if(B=v.value,!B)continue}else B=v.evaluate({zoom:h},i);X=T.kind==="constant"?T.value:T.evaluate({zoom:h},i),o.addDash(B,X),i.patterns[p.id]=o.getKey(B,X)}}update(i,o,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,h,p)}addFeatures(i,o,h,p,v){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,o,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,wb)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,xb),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&i.properties.hasOwnProperty("mapbox_clip_start")&&i.properties.hasOwnProperty("mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,o,h,p,v,T){const B=this.layers[0].layout,X=B.get("line-join").evaluate(i,{}),ie=B.get("line-cap").evaluate(i,{}),ue=B.get("line-miter-limit"),be=B.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const Me of o)this.addLine(Me,i,X,ie,ue,be);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,h,v,T,p)}addLine(i,o,h,p,v,T){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let gt=0;gt<i.length-1;gt++)this.totalDistance+=i[gt].dist(i[gt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const B=Sb[o.type]==="Polygon";let X=i.length;for(;X>=2&&i[X-1].equals(i[X-2]);)X--;let ie=0;for(;ie<X-1&&i[ie].equals(i[ie+1]);)ie++;if(X<(B?3:2))return;h==="bevel"&&(v=1.05);const ue=this.overscaling<=16?122880/(512*this.overscaling):0,be=this.segments.prepareSegment(10*X,this.layoutVertexArray,this.indexArray);let Me,Ie,Be,He,tt;this.e1=this.e2=-1,B&&(Me=i[X-2],tt=i[ie].sub(Me)._unit()._perp());for(let gt=ie;gt<X;gt++){if(Be=gt===X-1?B?i[ie+1]:void 0:i[gt+1],Be&&i[gt].equals(Be))continue;tt&&(He=tt),Me&&(Ie=Me),Me=i[gt],tt=Be?Be.sub(Me)._unit()._perp():He,He=He||tt;let Ct=He.add(tt);Ct.x===0&&Ct.y===0||Ct._unit();const mt=He.x*tt.x+He.y*tt.y,xt=Ct.x*tt.x+Ct.y*tt.y,kt=xt!==0?1/xt:1/0,Mt=2*Math.sqrt(2-2*xt),Jt=xt<Tb&&Ie&&Be,Kt=He.x*tt.y-He.y*tt.x>0;if(Jt&&gt>ie){const si=Me.dist(Ie);if(si>2*ue){const yi=Me.sub(Me.sub(Ie)._mult(ue/si)._round());this.updateDistance(Ie,yi),this.addCurrentVertex(yi,He,0,0,be),Ie=yi}}const fi=Ie&&Be;let Ri=fi?h:B?"butt":p;if(fi&&Ri==="round"&&(kt<T?Ri="miter":kt<=2&&(Ri="fakeround")),Ri==="miter"&&kt>v&&(Ri="bevel"),Ri==="bevel"&&(kt>2&&(Ri="flipbevel"),kt<v&&(Ri="miter")),Ie&&this.updateDistance(Ie,Me),Ri==="miter")Ct._mult(kt),this.addCurrentVertex(Me,Ct,0,0,be);else if(Ri==="flipbevel"){if(kt>100)Ct=tt.mult(-1);else{const si=kt*He.add(tt).mag()/He.sub(tt).mag();Ct._perp()._mult(si*(Kt?-1:1))}this.addCurrentVertex(Me,Ct,0,0,be),this.addCurrentVertex(Me,Ct.mult(-1),0,0,be)}else if(Ri==="bevel"||Ri==="fakeround"){const si=-Math.sqrt(kt*kt-1),yi=Kt?si:0,xi=Kt?0:si;if(Ie&&this.addCurrentVertex(Me,He,yi,xi,be),Ri==="fakeround"){const Ai=Math.round(180*Mt/Math.PI/20);for(let Bi=1;Bi<Ai;Bi++){let oi=Bi/Ai;if(oi!==.5){const Cn=oi-.5;oi+=oi*Cn*(oi-1)*((1.0904+mt*(mt*(3.55645-1.43519*mt)-3.2452))*Cn*Cn+(.848013+mt*(.215638*mt-1.06021)))}const Hi=tt.sub(He)._mult(oi)._add(He)._unit()._mult(Kt?-1:1);this.addHalfVertex(Me,Hi.x,Hi.y,!1,Kt,0,be)}}Be&&this.addCurrentVertex(Me,tt,-yi,-xi,be)}else if(Ri==="butt")this.addCurrentVertex(Me,Ct,0,0,be);else if(Ri==="square"){const si=Ie?1:-1;Ie||this.addCurrentVertex(Me,Ct,si,si,be),this.addCurrentVertex(Me,Ct,0,0,be),Ie&&this.addCurrentVertex(Me,Ct,si,si,be)}else Ri==="round"&&(Ie&&(this.addCurrentVertex(Me,He,0,0,be),this.addCurrentVertex(Me,He,1,1,be,!0)),Be&&(this.addCurrentVertex(Me,tt,-1,-1,be,!0),this.addCurrentVertex(Me,tt,0,0,be)));if(Jt&&gt<X-1){const si=Me.dist(Be);if(si>2*ue){const yi=Me.add(Be.sub(Me)._mult(ue/si)._round());this.updateDistance(Me,yi),this.addCurrentVertex(yi,tt,0,0,be),Me=yi}}}}addCurrentVertex(i,o,h,p,v,T=!1){const B=o.y*p-o.x,X=-o.y-o.x*p;this.addHalfVertex(i,o.x+o.y*h,o.y-o.x*h,T,!1,h,v),this.addHalfVertex(i,B,X,T,!0,-p,v)}addHalfVertex({x:i,y:o},h,p,v,T,B,X){this.layoutVertexArray.emplaceBack((i<<1)+(v?1:0),(o<<1)+(T?1:0),Math.round(63*h)+128,Math.round(63*p)+128,1+(B===0?0:B<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const ie=X.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,ie),X.primitiveLength++),T?this.e2=ie:this.e1=ie}updateScaledDistance(){if(this.lineClips){const i=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=i*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(i,o){this.distance+=i.dist(o),this.updateScaledDistance()}}Yi(O0,"LineBucket",{omit:["layers","patternFeatures"]});const Eb=new pn({"line-cap":new ei(ci.layout_line["line-cap"]),"line-join":new ei(ci.layout_line["line-join"]),"line-miter-limit":new $t(ci.layout_line["line-miter-limit"]),"line-round-limit":new $t(ci.layout_line["line-round-limit"]),"line-sort-key":new ei(ci.layout_line["line-sort-key"])});var Z_={paint:new pn({"line-opacity":new ei(ci.paint_line["line-opacity"]),"line-color":new ei(ci.paint_line["line-color"]),"line-translate":new $t(ci.paint_line["line-translate"]),"line-translate-anchor":new $t(ci.paint_line["line-translate-anchor"]),"line-width":new ei(ci.paint_line["line-width"]),"line-gap-width":new ei(ci.paint_line["line-gap-width"]),"line-offset":new ei(ci.paint_line["line-offset"]),"line-blur":new ei(ci.paint_line["line-blur"]),"line-dasharray":new ei(ci.paint_line["line-dasharray"]),"line-pattern":new ei(ci.paint_line["line-pattern"]),"line-gradient":new on(ci.paint_line["line-gradient"]),"line-trim-offset":new $t(ci.paint_line["line-trim-offset"])}),layout:Eb};const K_=new class extends ei{possiblyEvaluate(r,i){return i=new Gt(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,transition:i.transition}),super.possiblyEvaluate(r,i)}evaluate(r,i,o,h){return i=K({},i,{zoom:Math.floor(i.zoom)}),super.evaluate(r,i,o,h)}}(Z_.paint.properties["line-width"].specification);function J_(r,i){return i>0?i+2*r:r}K_.useIntegerZoom=!0;const Cb=Ji([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Tc=Ji([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Mb=Ji([{name:"a_projected_pos",components:4,type:"Float32"}],4);Ji([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Ab=Ji([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Vd=Ji([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Ji([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const is=Ji([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),kb=Ji([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ji([{name:"triangle",components:3,type:"Uint16"}]),Ji([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Ji([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ji([{type:"Float32",name:"offsetX"}]),Ji([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Js=24;const nr=128;function Pg(r,i){const{expression:o}=i;if(o.kind==="constant")return{kind:"constant",layoutSize:o.evaluate(new Gt(r+1))};if(o.kind==="source")return{kind:"source"};{const{zoomStops:h,interpolationType:p}=o;let v=0;for(;v<h.length&&h[v]<=r;)v++;v=Math.max(0,v-1);let T=v;for(;T<h.length&&h[T]<r+1;)T++;T=Math.min(h.length-1,T);const B=h[v],X=h[T];return o.kind==="composite"?{kind:"composite",minZoom:B,maxZoom:X,interpolationType:p}:{kind:"camera",minZoom:B,maxZoom:X,minSize:o.evaluate(new Gt(B)),maxSize:o.evaluate(new Gt(X)),interpolationType:p}}}function Ec(r,{uSize:i,uSizeT:o},{lowerSize:h,upperSize:p}){return r.kind==="source"?h/nr:r.kind==="composite"?Bn(h/nr,p/nr,o):i}function Gu(r,i){let o=0,h=0;if(r.kind==="constant")h=r.layoutSize;else if(r.kind!=="source"){const{interpolationType:p,minZoom:v,maxZoom:T}=r,B=p?g(Ho.interpolationFactor(p,i,v,T),0,1):0;r.kind==="camera"?h=Bn(r.minSize,r.maxSize,B):o=B}return{uSizeT:o,uSize:h}}var Pb=Object.freeze({__proto__:null,getSizeData:Pg,evaluateSizeForFeature:Ec,evaluateSizeForZoom:Gu,SIZE_PACK_FACTOR:nr});function Db(r,i,o){return r.sections.forEach(h=>{h.text=function(p,v,T){const B=v.layout.get("text-transform").evaluate(T,{});return B==="uppercase"?p=p.toLocaleUpperCase():B==="lowercase"&&(p=p.toLocaleLowerCase()),Zt.applyArabicShaping&&(p=Zt.applyArabicShaping(p)),p}(h.text,i,o)}),r}const nf={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function Ib(r){return r==="︶"||r==="﹈"||r==="︸"||r==="﹄"||r==="﹂"||r==="︾"||r==="︼"||r==="︺"||r==="︘"||r==="﹀"||r==="︐"||r==="︓"||r==="︔"||r==="｀"||r==="￣"||r==="︑"||r==="︒"}function Dg(r){return r==="︵"||r==="﹇"||r==="︷"||r==="﹃"||r==="﹁"||r==="︽"||r==="︻"||r==="︹"||r==="︗"||r==="︿"}var sf=Ns,ih=function(r,i,o,h,p){var v,T,B=8*p-h-1,X=(1<<B)-1,ie=X>>1,ue=-7,be=o?p-1:0,Me=o?-1:1,Ie=r[i+be];for(be+=Me,v=Ie&(1<<-ue)-1,Ie>>=-ue,ue+=B;ue>0;v=256*v+r[i+be],be+=Me,ue-=8);for(T=v&(1<<-ue)-1,v>>=-ue,ue+=h;ue>0;T=256*T+r[i+be],be+=Me,ue-=8);if(v===0)v=1-ie;else{if(v===X)return T?NaN:1/0*(Ie?-1:1);T+=Math.pow(2,h),v-=ie}return(Ie?-1:1)*T*Math.pow(2,v-h)},Ig=function(r,i,o,h,p,v){var T,B,X,ie=8*v-p-1,ue=(1<<ie)-1,be=ue>>1,Me=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ie=h?0:v-1,Be=h?1:-1,He=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(B=isNaN(i)?1:0,T=ue):(T=Math.floor(Math.log(i)/Math.LN2),i*(X=Math.pow(2,-T))<1&&(T--,X*=2),(i+=T+be>=1?Me/X:Me*Math.pow(2,1-be))*X>=2&&(T++,X/=2),T+be>=ue?(B=0,T=ue):T+be>=1?(B=(i*X-1)*Math.pow(2,p),T+=be):(B=i*Math.pow(2,be-1)*Math.pow(2,p),T=0));p>=8;r[o+Ie]=255&B,Ie+=Be,B/=256,p-=8);for(T=T<<p|B,ie+=p;ie>0;r[o+Ie]=255&T,Ie+=Be,T/=256,ie-=8);r[o+Ie-Be]|=128*He};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function Ns(r){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(r)?r:new Uint8Array(r||0),this.pos=0,this.type=0,this.length=this.buf.length}Ns.Varint=0,Ns.Fixed64=1,Ns.Bytes=2,Ns.Fixed32=5;var zr=4294967296,Xr=1/zr,Lg=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function kh(r){return r.type===Ns.Bytes?r.readVarint()+r.pos:r.pos+1}function Vu(r,i,o){return o?4294967296*i+(r>>>0):4294967296*(i>>>0)+(r>>>0)}function Q_(r,i,o){var h=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));o.realloc(h);for(var p=o.pos-1;p>=r;p--)o.buf[p+h]=o.buf[p]}function Lb(r,i){for(var o=0;o<r.length;o++)i.writeVarint(r[o])}function Ob(r,i){for(var o=0;o<r.length;o++)i.writeSVarint(r[o])}function Rb(r,i){for(var o=0;o<r.length;o++)i.writeFloat(r[o])}function ey(r,i){for(var o=0;o<r.length;o++)i.writeDouble(r[o])}function rf(r,i){for(var o=0;o<r.length;o++)i.writeBoolean(r[o])}function Og(r,i){for(var o=0;o<r.length;o++)i.writeFixed32(r[o])}function Bb(r,i){for(var o=0;o<r.length;o++)i.writeSFixed32(r[o])}function ty(r,i){for(var o=0;o<r.length;o++)i.writeFixed64(r[o])}function R0(r,i){for(var o=0;o<r.length;o++)i.writeSFixed64(r[o])}function _a(r,i){return(r[i]|r[i+1]<<8|r[i+2]<<16)+16777216*r[i+3]}function Cc(r,i,o){r[o]=i,r[o+1]=i>>>8,r[o+2]=i>>>16,r[o+3]=i>>>24}function iy(r,i){return(r[i]|r[i+1]<<8|r[i+2]<<16)+(r[i+3]<<24)}function zb(r,i,o){i.glyphs=[],r===1&&o.readMessage(Fb,i)}function Fb(r,i,o){if(r===3){const{id:h,bitmap:p,width:v,height:T,left:B,top:X,advance:ie}=o.readMessage(Nb,{});i.glyphs.push({id:h,bitmap:new Ah({width:v+6,height:T+6},p),metrics:{width:v,height:T,left:B,top:X,advance:ie}})}else r===4?i.ascender=o.readSVarint():r===5&&(i.descender=o.readSVarint())}function Nb(r,i,o){r===1?i.id=o.readVarint():r===2?i.bitmap=o.readBytes():r===3?i.width=o.readVarint():r===4?i.height=o.readVarint():r===5?i.left=o.readSVarint():r===6?i.top=o.readSVarint():r===7&&(i.advance=o.readVarint())}function Rg(r){let i=0,o=0;for(const T of r)i+=T.w*T.h,o=Math.max(o,T.w);r.sort((T,B)=>B.h-T.h);const h=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),o),h:1/0}];let p=0,v=0;for(const T of r)for(let B=h.length-1;B>=0;B--){const X=h[B];if(!(T.w>X.w||T.h>X.h)){if(T.x=X.x,T.y=X.y,v=Math.max(v,T.y+T.h),p=Math.max(p,T.x+T.w),T.w===X.w&&T.h===X.h){const ie=h.pop();B<h.length&&(h[B]=ie)}else T.h===X.h?(X.x+=T.w,X.w-=T.w):T.w===X.w?(X.y+=T.h,X.h-=T.h):(h.push({x:X.x+T.w,y:X.y,w:X.w-T.w,h:T.h}),X.y+=T.h,X.h-=T.h);break}}return{w:p,h:v,fill:i/(p*v)||0}}Ns.prototype={destroy:function(){this.buf=null},readFields:function(r,i,o){for(o=o||this.length;this.pos<o;){var h=this.readVarint(),p=h>>3,v=this.pos;this.type=7&h,r(p,i,this),this.pos===v&&this.skip(h)}return i},readMessage:function(r,i){return this.readFields(r,i,this.readVarint()+this.pos)},readFixed32:function(){var r=_a(this.buf,this.pos);return this.pos+=4,r},readSFixed32:function(){var r=iy(this.buf,this.pos);return this.pos+=4,r},readFixed64:function(){var r=_a(this.buf,this.pos)+_a(this.buf,this.pos+4)*zr;return this.pos+=8,r},readSFixed64:function(){var r=_a(this.buf,this.pos)+iy(this.buf,this.pos+4)*zr;return this.pos+=8,r},readFloat:function(){var r=ih(this.buf,this.pos,!0,23,4);return this.pos+=4,r},readDouble:function(){var r=ih(this.buf,this.pos,!0,52,8);return this.pos+=8,r},readVarint:function(r){var i,o,h=this.buf;return i=127&(o=h[this.pos++]),o<128?i:(i|=(127&(o=h[this.pos++]))<<7,o<128?i:(i|=(127&(o=h[this.pos++]))<<14,o<128?i:(i|=(127&(o=h[this.pos++]))<<21,o<128?i:function(p,v,T){var B,X,ie=T.buf;if(B=(112&(X=ie[T.pos++]))>>4,X<128||(B|=(127&(X=ie[T.pos++]))<<3,X<128)||(B|=(127&(X=ie[T.pos++]))<<10,X<128)||(B|=(127&(X=ie[T.pos++]))<<17,X<128)||(B|=(127&(X=ie[T.pos++]))<<24,X<128)||(B|=(1&(X=ie[T.pos++]))<<31,X<128))return Vu(p,B,v);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(o=h[this.pos]))<<28,r,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var r=this.readVarint();return r%2==1?(r+1)/-2:r/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var r=this.readVarint()+this.pos,i=this.pos;return this.pos=r,r-i>=12&&Lg?function(o,h,p){return Lg.decode(o.subarray(h,p))}(this.buf,i,r):function(o,h,p){for(var v="",T=h;T<p;){var B,X,ie,ue=o[T],be=null,Me=ue>239?4:ue>223?3:ue>191?2:1;if(T+Me>p)break;Me===1?ue<128&&(be=ue):Me===2?(192&(B=o[T+1]))==128&&(be=(31&ue)<<6|63&B)<=127&&(be=null):Me===3?(X=o[T+2],(192&(B=o[T+1]))==128&&(192&X)==128&&((be=(15&ue)<<12|(63&B)<<6|63&X)<=2047||be>=55296&&be<=57343)&&(be=null)):Me===4&&(X=o[T+2],ie=o[T+3],(192&(B=o[T+1]))==128&&(192&X)==128&&(192&ie)==128&&((be=(15&ue)<<18|(63&B)<<12|(63&X)<<6|63&ie)<=65535||be>=1114112)&&(be=null)),be===null?(be=65533,Me=1):be>65535&&(be-=65536,v+=String.fromCharCode(be>>>10&1023|55296),be=56320|1023&be),v+=String.fromCharCode(be),T+=Me}return v}(this.buf,i,r)},readBytes:function(){var r=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,r);return this.pos=r,i},readPackedVarint:function(r,i){if(this.type!==Ns.Bytes)return r.push(this.readVarint(i));var o=kh(this);for(r=r||[];this.pos<o;)r.push(this.readVarint(i));return r},readPackedSVarint:function(r){if(this.type!==Ns.Bytes)return r.push(this.readSVarint());var i=kh(this);for(r=r||[];this.pos<i;)r.push(this.readSVarint());return r},readPackedBoolean:function(r){if(this.type!==Ns.Bytes)return r.push(this.readBoolean());var i=kh(this);for(r=r||[];this.pos<i;)r.push(this.readBoolean());return r},readPackedFloat:function(r){if(this.type!==Ns.Bytes)return r.push(this.readFloat());var i=kh(this);for(r=r||[];this.pos<i;)r.push(this.readFloat());return r},readPackedDouble:function(r){if(this.type!==Ns.Bytes)return r.push(this.readDouble());var i=kh(this);for(r=r||[];this.pos<i;)r.push(this.readDouble());return r},readPackedFixed32:function(r){if(this.type!==Ns.Bytes)return r.push(this.readFixed32());var i=kh(this);for(r=r||[];this.pos<i;)r.push(this.readFixed32());return r},readPackedSFixed32:function(r){if(this.type!==Ns.Bytes)return r.push(this.readSFixed32());var i=kh(this);for(r=r||[];this.pos<i;)r.push(this.readSFixed32());return r},readPackedFixed64:function(r){if(this.type!==Ns.Bytes)return r.push(this.readFixed64());var i=kh(this);for(r=r||[];this.pos<i;)r.push(this.readFixed64());return r},readPackedSFixed64:function(r){if(this.type!==Ns.Bytes)return r.push(this.readSFixed64());var i=kh(this);for(r=r||[];this.pos<i;)r.push(this.readSFixed64());return r},skip:function(r){var i=7&r;if(i===Ns.Varint)for(;this.buf[this.pos++]>127;);else if(i===Ns.Bytes)this.pos=this.readVarint()+this.pos;else if(i===Ns.Fixed32)this.pos+=4;else{if(i!==Ns.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(r,i){this.writeVarint(r<<3|i)},realloc:function(r){for(var i=this.length||16;i<this.pos+r;)i*=2;if(i!==this.length){var o=new Uint8Array(i);o.set(this.buf),this.buf=o,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(r){this.realloc(4),Cc(this.buf,r,this.pos),this.pos+=4},writeSFixed32:function(r){this.realloc(4),Cc(this.buf,r,this.pos),this.pos+=4},writeFixed64:function(r){this.realloc(8),Cc(this.buf,-1&r,this.pos),Cc(this.buf,Math.floor(r*Xr),this.pos+4),this.pos+=8},writeSFixed64:function(r){this.realloc(8),Cc(this.buf,-1&r,this.pos),Cc(this.buf,Math.floor(r*Xr),this.pos+4),this.pos+=8},writeVarint:function(r){(r=+r||0)>268435455||r<0?function(i,o){var h,p;if(i>=0?(h=i%4294967296|0,p=i/4294967296|0):(p=~(-i/4294967296),4294967295^(h=~(-i%4294967296))?h=h+1|0:(h=0,p=p+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");o.realloc(10),function(v,T,B){B.buf[B.pos++]=127&v|128,v>>>=7,B.buf[B.pos++]=127&v|128,v>>>=7,B.buf[B.pos++]=127&v|128,v>>>=7,B.buf[B.pos++]=127&v|128,B.buf[B.pos]=127&(v>>>=7)}(h,0,o),function(v,T){var B=(7&v)<<4;T.buf[T.pos++]|=B|((v>>>=3)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v)))))}(p,o)}(r,this):(this.realloc(4),this.buf[this.pos++]=127&r|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=r>>>7&127))))},writeSVarint:function(r){this.writeVarint(r<0?2*-r-1:2*r)},writeBoolean:function(r){this.writeVarint(!!r)},writeString:function(r){r=String(r),this.realloc(4*r.length),this.pos++;var i=this.pos;this.pos=function(h,p,v){for(var T,B,X=0;X<p.length;X++){if((T=p.charCodeAt(X))>55295&&T<57344){if(!B){T>56319||X+1===p.length?(h[v++]=239,h[v++]=191,h[v++]=189):B=T;continue}if(T<56320){h[v++]=239,h[v++]=191,h[v++]=189,B=T;continue}T=B-55296<<10|T-56320|65536,B=null}else B&&(h[v++]=239,h[v++]=191,h[v++]=189,B=null);T<128?h[v++]=T:(T<2048?h[v++]=T>>6|192:(T<65536?h[v++]=T>>12|224:(h[v++]=T>>18|240,h[v++]=T>>12&63|128),h[v++]=T>>6&63|128),h[v++]=63&T|128)}return v}(this.buf,r,this.pos);var o=this.pos-i;o>=128&&Q_(i,o,this),this.pos=i-1,this.writeVarint(o),this.pos+=o},writeFloat:function(r){this.realloc(4),Ig(this.buf,r,this.pos,!0,23,4),this.pos+=4},writeDouble:function(r){this.realloc(8),Ig(this.buf,r,this.pos,!0,52,8),this.pos+=8},writeBytes:function(r){var i=r.length;this.writeVarint(i),this.realloc(i);for(var o=0;o<i;o++)this.buf[this.pos++]=r[o]},writeRawMessage:function(r,i){this.pos++;var o=this.pos;r(i,this);var h=this.pos-o;h>=128&&Q_(o,h,this),this.pos=o-1,this.writeVarint(h),this.pos+=h},writeMessage:function(r,i,o){this.writeTag(r,Ns.Bytes),this.writeRawMessage(i,o)},writePackedVarint:function(r,i){i.length&&this.writeMessage(r,Lb,i)},writePackedSVarint:function(r,i){i.length&&this.writeMessage(r,Ob,i)},writePackedBoolean:function(r,i){i.length&&this.writeMessage(r,rf,i)},writePackedFloat:function(r,i){i.length&&this.writeMessage(r,Rb,i)},writePackedDouble:function(r,i){i.length&&this.writeMessage(r,ey,i)},writePackedFixed32:function(r,i){i.length&&this.writeMessage(r,Og,i)},writePackedSFixed32:function(r,i){i.length&&this.writeMessage(r,Bb,i)},writePackedFixed64:function(r,i){i.length&&this.writeMessage(r,ty,i)},writePackedSFixed64:function(r,i){i.length&&this.writeMessage(r,R0,i)},writeBytesField:function(r,i){this.writeTag(r,Ns.Bytes),this.writeBytes(i)},writeFixed32Field:function(r,i){this.writeTag(r,Ns.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(r,i){this.writeTag(r,Ns.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(r,i){this.writeTag(r,Ns.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(r,i){this.writeTag(r,Ns.Fixed64),this.writeSFixed64(i)},writeVarintField:function(r,i){this.writeTag(r,Ns.Varint),this.writeVarint(i)},writeSVarintField:function(r,i){this.writeTag(r,Ns.Varint),this.writeSVarint(i)},writeStringField:function(r,i){this.writeTag(r,Ns.Bytes),this.writeString(i)},writeFloatField:function(r,i){this.writeTag(r,Ns.Fixed32),this.writeFloat(i)},writeDoubleField:function(r,i){this.writeTag(r,Ns.Fixed64),this.writeDouble(i)},writeBooleanField:function(r,i){this.writeVarintField(r,!!i)}};class B0{constructor(i,{pixelRatio:o,version:h,stretchX:p,stretchY:v,content:T}){this.paddedRect=i,this.pixelRatio=o,this.stretchX=p,this.stretchY=v,this.content=T,this.version=h}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class nh{constructor(i,o){const h={},p={};this.haveRenderCallbacks=[];const v=[];this.addImages(i,h,v),this.addImages(o,p,v);const{w:T,h:B}=Rg(v),X=new qa({width:T||1,height:B||1});for(const ie in i){const ue=i[ie],be=h[ie].paddedRect;qa.copy(ue.data,X,{x:0,y:0},{x:be.x+1,y:be.y+1},ue.data)}for(const ie in o){const ue=o[ie],be=p[ie].paddedRect,Me=be.x+1,Ie=be.y+1,Be=ue.data.width,He=ue.data.height;qa.copy(ue.data,X,{x:0,y:0},{x:Me,y:Ie},ue.data),qa.copy(ue.data,X,{x:0,y:He-1},{x:Me,y:Ie-1},{width:Be,height:1}),qa.copy(ue.data,X,{x:0,y:0},{x:Me,y:Ie+He},{width:Be,height:1}),qa.copy(ue.data,X,{x:Be-1,y:0},{x:Me-1,y:Ie},{width:1,height:He}),qa.copy(ue.data,X,{x:0,y:0},{x:Me+Be,y:Ie},{width:1,height:He})}this.image=X,this.iconPositions=h,this.patternPositions=p}addImages(i,o,h){for(const p in i){const v=i[p],T={x:0,y:0,w:v.data.width+2,h:v.data.height+2};h.push(T),o[p]=new B0(T,v),v.hasRenderCallback&&this.haveRenderCallbacks.push(p)}}patchUpdatedImages(i,o){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(h=>i.hasImage(h)),i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const h in i.updatedImages)this.patchUpdatedImage(this.iconPositions[h],i.getImage(h),o),this.patchUpdatedImage(this.patternPositions[h],i.getImage(h),o)}patchUpdatedImage(i,o,h){if(!i||!o||i.version===o.version)return;i.version=o.version;const[p,v]=i.tl;h.update(o.data,void 0,{x:p,y:v})}}Yi(B0,"ImagePosition"),Yi(nh,"ImageAtlas");const Nn={horizontal:1,vertical:2,horizontalOnly:3};class $u{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,o){const h=new $u;return h.scale=i||1,h.fontStack=o,h}static forImage(i){const o=new $u;return o.imageName=i,o}}class qo{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,o){const h=new qo;for(let p=0;p<i.sections.length;p++){const v=i.sections[p];v.image?h.addImageSection(v):h.addTextSection(v,o)}return h}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSections(){return this.sections}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(i){this.text=function(o,h){let p="";for(let v=0;v<o.length;v++){const T=o.charCodeAt(v+1)||null,B=o.charCodeAt(v-1)||null;p+=!h&&(T&&ke(T)&&!nf[o[v+1]]||B&&ke(B)&&!nf[o[v-1]])||!nf[o[v]]?o[v]:nf[o[v]]}return p}(this.text,i)}trim(){let i=0;for(let h=0;h<this.text.length&&F0[this.text.charCodeAt(h)];h++)i++;let o=this.text.length;for(let h=this.text.length-1;h>=0&&h>=i&&F0[this.text.charCodeAt(h)];h--)o--;this.text=this.text.substring(i,o),this.sectionIndex=this.sectionIndex.slice(i,o)}substring(i,o){const h=new qo;return h.text=this.text.substring(i,o),h.sectionIndex=this.sectionIndex.slice(i,o),h.sections=this.sections,h}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,o)=>Math.max(i,this.sections[o].scale),0)}addTextSection(i,o){this.text+=i.text,this.sections.push($u.forText(i.scale,i.fontStack||o));const h=this.sections.length-1;for(let p=0;p<i.text.length;++p)this.sectionIndex.push(h)}addImageSection(i){const o=i.image?i.image.name:"";if(o.length===0)return void ae("Can't add FormattedSection with an empty image.");const h=this.getNextImageSectionCharCode();h?(this.text+=String.fromCharCode(h),this.sections.push($u.forImage(o)),this.sectionIndex.push(this.sections.length-1)):ae("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function z0(r,i,o,h,p,v,T,B,X,ie,ue,be,Me,Ie,Be){const He=qo.fromFeature(r,p);be===Nn.vertical&&He.verticalizePunctuation(Me);let tt=[];const gt=function(Mt,Jt,Kt,fi,Ri,si){if(!Mt)return[];const yi=[],xi=function(Hi,Cn,Ki,hn,Wi,Dn){let cs=0;for(let os=0;os<Hi.length();os++){const ns=Hi.getSection(os);cs+=ny(Hi.getCharCode(os),ns,hn,Wi,Cn,Dn)}return cs/Math.max(1,Math.ceil(cs/Ki))}(Mt,Jt,Kt,fi,Ri,si),Ai=Mt.text.indexOf("​")>=0;let Bi=0;for(let Hi=0;Hi<Mt.length();Hi++){const Cn=Mt.getSection(Hi),Ki=Mt.getCharCode(Hi);if(F0[Ki]||(Bi+=ny(Ki,Cn,fi,Ri,Jt,si)),Hi<Mt.length()-1){const hn=!((oi=Ki)<11904||!(Ca(oi)||n0(oi)||u(oi)||wh(oi)||a0(oi)||Rp(oi)||s0(oi)||td(oi)||l0(oi)||Mu(oi)||o0(oi)||F(oi)||wl(oi)||zp(oi)||Bp(oi)||r0(oi)||Cu(oi)||l(oi)||c0(oi)||Fp(oi)));(sr[Ki]||hn||Cn.imageName)&&yi.push(sy(Hi+1,Bi,xi,yi,N0(Ki,Mt.getCharCode(Hi+1),hn&&Ai),!1))}}var oi;return ry(sy(Mt.length(),Bi,xi,yi,0,!0))}(He,ie,v,i,h,Ie),{processBidirectionalText:Ct,processStyledBidirectionalText:mt}=Zt;if(Ct&&He.sections.length===1){const Mt=Ct(He.toString(),gt);for(const Jt of Mt){const Kt=new qo;Kt.text=Jt,Kt.sections=He.sections;for(let fi=0;fi<Jt.length;fi++)Kt.sectionIndex.push(0);tt.push(Kt)}}else if(mt){const Mt=mt(He.text,He.sectionIndex,gt);for(const Jt of Mt){const Kt=new qo;Kt.text=Jt[0],Kt.sectionIndex=Jt[1],Kt.sections=He.sections,tt.push(Kt)}}else tt=function(Mt,Jt){const Kt=[],fi=Mt.text;let Ri=0;for(const si of Jt)Kt.push(Mt.substring(Ri,si)),Ri=si;return Ri<fi.length&&Kt.push(Mt.substring(Ri,fi.length)),Kt}(He,gt);const xt=[],kt={positionedLines:xt,text:He.toString(),top:ue[1],bottom:ue[1],left:ue[0],right:ue[0],writingMode:be,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Mt,Jt,Kt,fi,Ri,si,yi,xi,Ai,Bi,oi,Hi){let Cn=0,Ki=0,hn=0;const Wi=xi==="right"?1:xi==="left"?0:.5;let Dn=!1;for(const $n of Ri){const hs=$n.getSections();for(const Qs of hs){if(Qs.imageName)continue;const mr=Jt[Qs.fontStack];if(mr&&(Dn=mr.ascender!==void 0&&mr.descender!==void 0,!Dn))break}if(!Dn)break}let cs=0;for(const $n of Ri){$n.trim();const hs=$n.getMaxScale(),Qs=(hs-1)*Js,mr={positionedGlyphs:[],lineOffset:0};Mt.positionedLines[cs]=mr;const hr=mr.positionedGlyphs;let gr=0;if(!$n.length()){Ki+=si,++cs;continue}let br=0,Kr=0;for(let $s=0;$s<$n.length();$s++){const yo=$n.getSection($s),uo=$n.getSectionIndex($s),Ds=$n.getCharCode($s);let Fr=yo.scale,ko=null,er=null,so=null,Pa=Js,Zo=0;const Ko=!(Ai===Nn.horizontal||!oi&&!De(Ds)||oi&&(F0[Ds]||(os=Ds,Lp(os)||Vl(os)||Op(os)||y(os)||I(os))));if(yo.imageName){const Ka=fi[yo.imageName];if(!Ka)continue;so=yo.imageName,Mt.iconsInText=Mt.iconsInText||!0,er=Ka.paddedRect;const Jo=Ka.displaySize;Fr=Fr*Js/Hi,ko={width:Jo[0],height:Jo[1],left:1,top:-3,advance:Ko?Jo[1]:Jo[0],localGlyph:!1},Zo=Dn?-ko.height*Fr:hs*Js-17-Jo[1]*Fr,Pa=ko.advance;const Xd=(Ko?Jo[0]:Jo[1])*Fr-Js*hs;Xd>0&&Xd>gr&&(gr=Xd)}else{const Ka=Kt[yo.fontStack];if(!Ka)continue;Ka[Ds]&&(er=Ka[Ds]);const Jo=Jt[yo.fontStack];if(!Jo)continue;const Xd=Jo.glyphs[Ds];if(!Xd)continue;if(ko=Xd.metrics,Pa=Ds!==8203?Js:0,Dn){const em=Jo.ascender!==void 0?Math.abs(Jo.ascender):0,a1=Jo.descender!==void 0?Math.abs(Jo.descender):0,l1=(em+a1)*Fr;br<l1&&(br=l1,Kr=(em-a1)/2*Fr),Zo=-em*Fr}else Zo=(hs-Fr)*Js-17}Ko?(Mt.verticalizable=!0,hr.push({glyph:Ds,imageName:so,x:Cn,y:Ki+Zo,vertical:Ko,scale:Fr,localGlyph:ko.localGlyph,fontStack:yo.fontStack,sectionIndex:uo,metrics:ko,rect:er}),Cn+=Pa*Fr+Bi):(hr.push({glyph:Ds,imageName:so,x:Cn,y:Ki+Zo,vertical:Ko,scale:Fr,localGlyph:ko.localGlyph,fontStack:yo.fontStack,sectionIndex:uo,metrics:ko,rect:er}),Cn+=ko.advance*Fr+Bi)}hr.length!==0&&(hn=Math.max(Cn-Bi,hn),Dn?oy(hr,Wi,gr,Kr,si*hs/2):oy(hr,Wi,gr,0,si/2)),Cn=0;const Xo=si*hs+gr;mr.lineOffset=Math.max(gr,Qs),Ki+=Xo,++cs}var os;const ns=Ki,{horizontalAlign:In,verticalAlign:Vs}=zg(yi);(function($n,hs,Qs,mr,hr,gr){const br=(hs-Qs)*hr,Kr=-gr*mr;for(const Xo of $n)for(const $s of Xo.positionedGlyphs)$s.x+=br,$s.y+=Kr})(Mt.positionedLines,Wi,In,Vs,hn,ns),Mt.top+=-Vs*ns,Mt.bottom=Mt.top+ns,Mt.left+=-In*hn,Mt.right=Mt.left+hn,Mt.hasBaseline=Dn}(kt,i,o,h,tt,T,B,X,be,ie,Me,Be),!function(Mt){for(const Jt of Mt)if(Jt.positionedGlyphs.length!==0)return!1;return!0}(xt)&&kt}const F0={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},sr={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function ny(r,i,o,h,p,v){if(i.imageName){const T=h[i.imageName];return T?T.displaySize[0]*i.scale*Js/v+p:0}{const T=o[i.fontStack],B=T&&T.glyphs[r];return B?B.metrics.advance*i.scale+p:0}}function Bg(r,i,o,h){const p=Math.pow(r-i,2);return h?r<i?p/2:2*p:p+Math.abs(o)*o}function N0(r,i,o){let h=0;return r===10&&(h-=1e4),o&&(h+=150),r!==40&&r!==65288||(h+=50),i!==41&&i!==65289||(h+=50),h}function sy(r,i,o,h,p,v){let T=null,B=Bg(i,o,p,v);for(const X of h){const ie=Bg(i-X.x,o,p,v)+X.badness;ie<=B&&(T=X,B=ie)}return{index:r,x:i,priorBreak:T,badness:B}}function ry(r){return r?ry(r.priorBreak).concat(r.index):[]}function zg(r){let i=.5,o=.5;switch(r){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(r){case"bottom":case"bottom-right":case"bottom-left":o=1;break;case"top":case"top-right":case"top-left":o=0}return{horizontalAlign:i,verticalAlign:o}}function oy(r,i,o,h,p){if(!(i||o||h||p))return;const v=r.length-1,T=r[v],B=(T.x+T.metrics.advance*T.scale)*i;for(let X=0;X<=v;X++)r[X].x-=B,r[X].y+=o+h+p}function jb(r,i,o){const{horizontalAlign:h,verticalAlign:p}=zg(o),v=i[0]-r.displaySize[0]*h,T=i[1]-r.displaySize[1]*p;return{image:r,top:T,bottom:T+r.displaySize[1],left:v,right:v+r.displaySize[0]}}function ay(r,i,o,h,p,v){const T=r.image;let B;if(T.content){const tt=T.content,gt=T.pixelRatio||1;B=[tt[0]/gt,tt[1]/gt,T.displaySize[0]-tt[2]/gt,T.displaySize[1]-tt[3]/gt]}const X=i.left*v,ie=i.right*v;let ue,be,Me,Ie;o==="width"||o==="both"?(Ie=p[0]+X-h[3],be=p[0]+ie+h[1]):(Ie=p[0]+(X+ie-T.displaySize[0])/2,be=Ie+T.displaySize[0]);const Be=i.top*v,He=i.bottom*v;return o==="height"||o==="both"?(ue=p[1]+Be-h[0],Me=p[1]+He+h[2]):(ue=p[1]+(Be+He-T.displaySize[1])/2,Me=ue+T.displaySize[1]),{image:T,top:ue,right:be,bottom:Me,left:Ie,collisionPadding:B}}class Ph extends G{constructor(i,o,h,p,v){super(i,o),this.angle=p,this.z=h,v!==void 0&&(this.segment=v)}clone(){return new Ph(this.x,this.y,this.z,this.angle,this.segment)}}function ly(r,i,o,h,p){if(i.segment===void 0)return!0;let v=i,T=i.segment+1,B=0;for(;B>-o/2;){if(T--,T<0)return!1;B-=r[T].dist(v),v=r[T]}B+=r[T].dist(r[T+1]),T++;const X=[];let ie=0;for(;B<o/2;){const ue=r[T],be=r[T+1];if(!be)return!1;let Me=r[T-1].angleTo(ue)-ue.angleTo(be);for(Me=Math.abs((Me+3*Math.PI)%(2*Math.PI)-Math.PI),X.push({distance:B,angleDelta:Me}),ie+=Me;B-X[0].distance>h;)ie-=X.shift().angleDelta;if(ie>p)return!1;T++,B+=ue.dist(be)}return!0}function cy(r){let i=0;for(let o=0;o<r.length-1;o++)i+=r[o].dist(r[o+1]);return i}function hy(r,i,o){return r?.6*i*o:0}function dy(r,i){return Math.max(r?r.right-r.left:0,i?i.right-i.left:0)}function Ub(r,i,o,h,p,v){const T=hy(o,p,v),B=dy(o,h)*v;let X=0;const ie=cy(r)/2;for(let ue=0;ue<r.length-1;ue++){const be=r[ue],Me=r[ue+1],Ie=be.dist(Me);if(X+Ie>ie){const Be=(ie-X)/Ie,He=Bn(be.x,Me.x,Be),tt=Bn(be.y,Me.y,Be),gt=new Ph(He,tt,0,Me.angleTo(be),ue);return!T||ly(r,gt,B,T,i)?gt:void 0}X+=Ie}}function Gb(r,i,o,h,p,v,T,B,X){const ie=hy(h,v,T),ue=dy(h,p),be=ue*T,Me=r[0].x===0||r[0].x===X||r[0].y===0||r[0].y===X;return i-be<i/4&&(i=be+i/4),j0(r,Me?i/2*B%i:(ue/2+2*v)*T*B%i,i,ie,o,be,Me,!1,X)}function j0(r,i,o,h,p,v,T,B,X){const ie=v/2,ue=cy(r);let be=0,Me=i-o,Ie=[];for(let Be=0;Be<r.length-1;Be++){const He=r[Be],tt=r[Be+1],gt=He.dist(tt),Ct=tt.angleTo(He);for(;Me+o<be+gt;){Me+=o;const mt=(Me-be)/gt,xt=Bn(He.x,tt.x,mt),kt=Bn(He.y,tt.y,mt);if(xt>=0&&xt<X&&kt>=0&&kt<X&&Me-ie>=0&&Me+ie<=ue){const Mt=new Ph(xt,kt,0,Ct,Be);Mt._round(),h&&!ly(r,Mt,v,h,p)||Ie.push(Mt)}}be+=gt}return B||Ie.length||T||(Ie=j0(r,be/2,o,h,p,v,T,!0,X)),Ie}function uy(r,i,o,h,p){const v=[];for(let T=0;T<r.length;T++){const B=r[T];let X;for(let ie=0;ie<B.length-1;ie++){let ue=B[ie],be=B[ie+1];ue.x<i&&be.x<i||(ue.x<i?ue=new G(i,ue.y+(i-ue.x)/(be.x-ue.x)*(be.y-ue.y))._round():be.x<i&&(be=new G(i,ue.y+(i-ue.x)/(be.x-ue.x)*(be.y-ue.y))._round()),ue.y<o&&be.y<o||(ue.y<o?ue=new G(ue.x+(o-ue.y)/(be.y-ue.y)*(be.x-ue.x),o)._round():be.y<o&&(be=new G(ue.x+(o-ue.y)/(be.y-ue.y)*(be.x-ue.x),o)._round()),ue.x>=h&&be.x>=h||(ue.x>=h?ue=new G(h,ue.y+(h-ue.x)/(be.x-ue.x)*(be.y-ue.y))._round():be.x>=h&&(be=new G(h,ue.y+(h-ue.x)/(be.x-ue.x)*(be.y-ue.y))._round()),ue.y>=p&&be.y>=p||(ue.y>=p?ue=new G(ue.x+(p-ue.y)/(be.y-ue.y)*(be.x-ue.x),p)._round():be.y>=p&&(be=new G(ue.x+(p-ue.y)/(be.y-ue.y)*(be.x-ue.x),p)._round()),X&&ue.equals(X[X.length-1])||(X=[ue],v.push(X)),X.push(be)))))}}return v}Yi(Ph,"Anchor");const $d=1e20;function py(r,i,o,h,p,v,T,B,X){for(let ie=i;ie<i+h;ie++)fy(r,o*v+ie,v,p,T,B,X);for(let ie=o;ie<o+p;ie++)fy(r,ie*v+i,1,h,T,B,X)}function fy(r,i,o,h,p,v,T){v[0]=0,T[0]=-$d,T[1]=$d,p[0]=r[i];for(let B=1,X=0,ie=0;B<h;B++){p[B]=r[i+B*o];const ue=B*B;do{const be=v[X];ie=(p[B]-p[be]+ue-be*be)/(B-be)/2}while(ie<=T[X]&&--X>-1);X++,v[X]=B,T[X]=ie,T[X+1]=$d}for(let B=0,X=0;B<h;B++){for(;T[X+1]<B;)X++;const ie=v[X],ue=B-ie;r[i+B*o]=p[ie]+ue*ue}}const Fg={none:0,ideographs:1,all:2};class Zr{constructor(i,o,h){this.requestManager=i,this.localGlyphMode=o,this.localFontFamily=h,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(i){this.url=i}getGlyphs(i,o){const h=[];for(const p in i)for(const v of i[p])h.push({stack:p,id:v});Y(h,({stack:p,id:v},T)=>{let B=this.entries[p];B||(B=this.entries[p]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let X=B.glyphs[v];if(X!==void 0)return void T(null,{stack:p,id:v,glyph:X});if(X=this._tinySDF(B,p,v),X)return B.glyphs[v]=X,void T(null,{stack:p,id:v,glyph:X});const ie=Math.floor(v/256);if(256*ie>65535)return void T(new Error("glyphs > 65535 not supported"));if(B.ranges[ie])return void T(null,{stack:p,id:v,glyph:X});let ue=B.requests[ie];ue||(ue=B.requests[ie]=[],Zr.loadGlyphRange(p,ie,this.url,this.requestManager,(be,Me)=>{if(Me){B.ascender=Me.ascender,B.descender=Me.descender;for(const Ie in Me.glyphs)this._doesCharSupportLocalGlyph(+Ie)||(B.glyphs[+Ie]=Me.glyphs[+Ie]);B.ranges[ie]=!0}for(const Ie of ue)Ie(be,Me);delete B.requests[ie]})),ue.push((be,Me)=>{be?T(be):Me&&T(null,{stack:p,id:v,glyph:Me.glyphs[v]||null})})},(p,v)=>{if(p)o(p);else if(v){const T={};for(const{stack:B,id:X,glyph:ie}of v)T[B]===void 0&&(T[B]={}),T[B].glyphs===void 0&&(T[B].glyphs={}),T[B].glyphs[X]=ie&&{id:ie.id,bitmap:ie.bitmap.clone(),metrics:ie.metrics},T[B].ascender=this.entries[B].ascender,T[B].descender=this.entries[B].descender;o(null,T)}})}_doesCharSupportLocalGlyph(i){return this.localGlyphMode!==Fg.none&&(this.localGlyphMode===Fg.all?!!this.localFontFamily:!!this.localFontFamily&&(Mu(i)||Np(i)||wl(i)||Cu(i)||td(i)))}_tinySDF(i,o,h){const p=this.localFontFamily;if(!p||!this._doesCharSupportLocalGlyph(h))return;let v=i.tinySDF;if(!v){let He="400";/bold/i.test(o)?He="900":/medium/i.test(o)?He="500":/light/i.test(o)&&(He="200"),v=i.tinySDF=new Zr.TinySDF({fontFamily:p,fontWeight:He,fontSize:48,buffer:6,radius:16}),v.fontWeight=He}if(this.localGlyphs[v.fontWeight][h])return this.localGlyphs[v.fontWeight][h];const T=String.fromCharCode(h),{data:B,width:X,height:ie,glyphWidth:ue,glyphHeight:be,glyphLeft:Me,glyphTop:Ie,glyphAdvance:Be}=v.draw(T);return this.localGlyphs[v.fontWeight][h]={id:h,bitmap:new Ah({width:X,height:ie},B),metrics:{width:ue/2,height:be/2,left:Me/2,top:Ie/2-27,advance:Be/2,localGlyph:!0}}}}function ka(r,i,o,h){const p=[],v=r.image,T=v.pixelRatio,B=v.paddedRect.w-2,X=v.paddedRect.h-2,ie=r.right-r.left,ue=r.bottom-r.top,be=v.stretchX||[[0,B]],Me=v.stretchY||[[0,X]],Ie=(si,yi)=>si+yi[1]-yi[0],Be=be.reduce(Ie,0),He=Me.reduce(Ie,0),tt=B-Be,gt=X-He;let Ct=0,mt=Be,xt=0,kt=He,Mt=0,Jt=tt,Kt=0,fi=gt;if(v.content&&h){const si=v.content;Ct=U0(be,0,si[0]),xt=U0(Me,0,si[1]),mt=U0(be,si[0],si[2]),kt=U0(Me,si[1],si[3]),Mt=si[0]-Ct,Kt=si[1]-xt,Jt=si[2]-si[0]-mt,fi=si[3]-si[1]-kt}const Ri=(si,yi,xi,Ai)=>{const Bi=G0(si.stretch-Ct,mt,ie,r.left),oi=of(si.fixed-Mt,Jt,si.stretch,Be),Hi=G0(yi.stretch-xt,kt,ue,r.top),Cn=of(yi.fixed-Kt,fi,yi.stretch,He),Ki=G0(xi.stretch-Ct,mt,ie,r.left),hn=of(xi.fixed-Mt,Jt,xi.stretch,Be),Wi=G0(Ai.stretch-xt,kt,ue,r.top),Dn=of(Ai.fixed-Kt,fi,Ai.stretch,He),cs=new G(Bi,Hi),os=new G(Ki,Hi),ns=new G(Ki,Wi),In=new G(Bi,Wi),Vs=new G(oi/T,Cn/T),$n=new G(hn/T,Dn/T),hs=i*Math.PI/180;if(hs){const hr=Math.sin(hs),gr=Math.cos(hs),br=[gr,-hr,hr,gr];cs._matMult(br),os._matMult(br),In._matMult(br),ns._matMult(br)}const Qs=si.stretch+si.fixed,mr=yi.stretch+yi.fixed;return{tl:cs,tr:os,bl:In,br:ns,tex:{x:v.paddedRect.x+1+Qs,y:v.paddedRect.y+1+mr,w:xi.stretch+xi.fixed-Qs,h:Ai.stretch+Ai.fixed-mr},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Vs,pixelOffsetBR:$n,minFontScaleX:Jt/T/ie,minFontScaleY:fi/T/ue,isSDF:o}};if(h&&(v.stretchX||v.stretchY)){const si=my(be,tt,Be),yi=my(Me,gt,He);for(let xi=0;xi<si.length-1;xi++){const Ai=si[xi],Bi=si[xi+1];for(let oi=0;oi<yi.length-1;oi++)p.push(Ri(Ai,yi[oi],Bi,yi[oi+1]))}}else p.push(Ri({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:B+1},{fixed:0,stretch:X+1}));return p}function U0(r,i,o){let h=0;for(const p of r)h+=Math.max(i,Math.min(o,p[1]))-Math.max(i,Math.min(o,p[0]));return h}function my(r,i,o){const h=[{fixed:-1,stretch:0}];for(const[p,v]of r){const T=h[h.length-1];h.push({fixed:p-T.stretch,stretch:T.stretch}),h.push({fixed:p-T.stretch,stretch:T.stretch+(v-p)})}return h.push({fixed:i+1,stretch:o}),h}function G0(r,i,o,h){return r/i*o+h}function of(r,i,o,h){return r-i*o/h}function Vb(r,i,o,h){const p=i+r.positionedLines[h].lineOffset;return h===0?o+p/2:o+(p+(i+r.positionedLines[h-1].lineOffset))/2}Zr.loadGlyphRange=function(r,i,o,h,p){const v=256*i,T=v+255,B=h.transformRequest(h.normalizeGlyphsURL(o).replace("{fontstack}",r).replace("{range}",`${v}-${T}`),Ht.Glyphs);Ei(B,(X,ie)=>{if(X)p(X);else if(ie){const ue={},be=function(Me){return new sf(Me).readFields(zb,{})}(ie);for(const Me of be.glyphs)ue[Me.id]=Me;p(null,{glyphs:ue,ascender:be.ascender,descender:be.descender})}})},Zr.TinySDF=class{constructor({fontSize:r=24,buffer:i=3,radius:o=8,cutoff:h=.25,fontFamily:p="sans-serif",fontWeight:v="normal",fontStyle:T="normal"}={}){this.buffer=i,this.cutoff=h,this.radius=o;const B=this.size=r+4*i,X=this._createCanvas(B),ie=this.ctx=X.getContext("2d",{willReadFrequently:!0});ie.font=`${T} ${v} ${r}px ${p}`,ie.textBaseline="alphabetic",ie.textAlign="left",ie.fillStyle="black",this.gridOuter=new Float64Array(B*B),this.gridInner=new Float64Array(B*B),this.f=new Float64Array(B),this.z=new Float64Array(B+1),this.v=new Uint16Array(B)}_createCanvas(r){const i=document.createElement("canvas");return i.width=i.height=r,i}draw(r){const{width:i,actualBoundingBoxAscent:o,actualBoundingBoxDescent:h,actualBoundingBoxLeft:p,actualBoundingBoxRight:v}=this.ctx.measureText(r),T=Math.ceil(o),B=Math.min(this.size-this.buffer,Math.ceil(v-p)),X=Math.min(this.size-this.buffer,T+Math.ceil(h)),ie=B+2*this.buffer,ue=X+2*this.buffer,be=Math.max(ie*ue,0),Me=new Uint8ClampedArray(be),Ie={data:Me,width:ie,height:ue,glyphWidth:B,glyphHeight:X,glyphTop:T,glyphLeft:0,glyphAdvance:i};if(B===0||X===0)return Ie;const{ctx:Be,buffer:He,gridInner:tt,gridOuter:gt}=this;Be.clearRect(He,He,B,X),Be.fillText(r,He,He+T);const Ct=Be.getImageData(He,He,B,X);gt.fill($d,0,be),tt.fill(0,0,be);for(let mt=0;mt<X;mt++)for(let xt=0;xt<B;xt++){const kt=Ct.data[4*(mt*B+xt)+3]/255;if(kt===0)continue;const Mt=(mt+He)*ie+xt+He;if(kt===1)gt[Mt]=0,tt[Mt]=$d;else{const Jt=.5-kt;gt[Mt]=Jt>0?Jt*Jt:0,tt[Mt]=Jt<0?Jt*Jt:0}}py(gt,0,0,ie,ue,ie,this.f,this.v,this.z),py(tt,He,He,B,X,ie,this.f,this.v,this.z);for(let mt=0;mt<be;mt++){const xt=Math.sqrt(gt[mt])-Math.sqrt(tt[mt]);Me[mt]=Math.round(255-255*(xt/this.radius+this.cutoff))}return Ie}};class $b{constructor(i=[],o=Hb){if(this.data=i,this.length=this.data.length,this.compare=o,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const i=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:o,compare:h}=this,p=o[i];for(;i>0;){const v=i-1>>1,T=o[v];if(h(p,T)>=0)break;o[i]=T,i=v}o[i]=p}_down(i){const{data:o,compare:h}=this,p=this.length>>1,v=o[i];for(;i<p;){let T=1+(i<<1),B=o[T];const X=T+1;if(X<this.length&&h(o[X],B)<0&&(T=X,B=o[X]),h(B,v)>=0)break;o[i]=B,i=T}o[i]=v}}function Hb(r,i){return r<i?-1:r>i?1:0}function gy(r,i=1,o=!1){let h=1/0,p=1/0,v=-1/0,T=-1/0;const B=r[0];for(let Ie=0;Ie<B.length;Ie++){const Be=B[Ie];(!Ie||Be.x<h)&&(h=Be.x),(!Ie||Be.y<p)&&(p=Be.y),(!Ie||Be.x>v)&&(v=Be.x),(!Ie||Be.y>T)&&(T=Be.y)}const X=Math.min(v-h,T-p);let ie=X/2;const ue=new $b([],Wb);if(X===0)return new G(h,p);for(let Ie=h;Ie<v;Ie+=X)for(let Be=p;Be<T;Be+=X)ue.push(new Hu(Ie+ie,Be+ie,ie,r));let be=function(Ie){let Be=0,He=0,tt=0;const gt=Ie[0];for(let Ct=0,mt=gt.length,xt=mt-1;Ct<mt;xt=Ct++){const kt=gt[Ct],Mt=gt[xt],Jt=kt.x*Mt.y-Mt.x*kt.y;He+=(kt.x+Mt.x)*Jt,tt+=(kt.y+Mt.y)*Jt,Be+=3*Jt}return new Hu(He/Be,tt/Be,0,Ie)}(r),Me=ue.length;for(;ue.length;){const Ie=ue.pop();(Ie.d>be.d||!be.d)&&(be=Ie,o&&console.log("found best %d after %d probes",Math.round(1e4*Ie.d)/1e4,Me)),Ie.max-be.d<=i||(ie=Ie.h/2,ue.push(new Hu(Ie.p.x-ie,Ie.p.y-ie,ie,r)),ue.push(new Hu(Ie.p.x+ie,Ie.p.y-ie,ie,r)),ue.push(new Hu(Ie.p.x-ie,Ie.p.y+ie,ie,r)),ue.push(new Hu(Ie.p.x+ie,Ie.p.y+ie,ie,r)),Me+=4)}return o&&(console.log(`num probes: ${Me}`),console.log(`best distance: ${be.d}`)),be.p}function Wb(r,i){return i.max-r.max}function Hu(r,i,o,h){this.p=new G(r,i),this.h=o,this.d=function(p,v){let T=!1,B=1/0;for(let X=0;X<v.length;X++){const ie=v[X];for(let ue=0,be=ie.length,Me=be-1;ue<be;Me=ue++){const Ie=ie[ue],Be=ie[Me];Ie.y>p.y!=Be.y>p.y&&p.x<(Be.x-Ie.x)*(p.y-Ie.y)/(Be.y-Ie.y)+Ie.x&&(T=!T),B=Math.min(B,b_(p,Ie,Be))}}return(T?1:-1)*Math.sqrt(B)}(this.p,h),this.max=this.d+this.h*Math.SQRT2}const Ng=Number.POSITIVE_INFINITY,_y=Math.sqrt(2);function jg(r,[i,o]){let h=0,p=0;if(o===Ng){i<0&&(i=0);const v=i/_y;switch(r){case"top-right":case"top-left":p=v-7;break;case"bottom-right":case"bottom-left":p=7-v;break;case"bottom":p=7-i;break;case"top":p=i-7}switch(r){case"top-right":case"bottom-right":h=-v;break;case"top-left":case"bottom-left":h=v;break;case"left":h=i;break;case"right":h=-i}}else{switch(i=Math.abs(i),o=Math.abs(o),r){case"top-right":case"top-left":case"top":p=o-7;break;case"bottom-right":case"bottom-left":case"bottom":p=7-o}switch(r){case"top-right":case"bottom-right":case"right":h=-i;break;case"top-left":case"bottom-left":case"left":h=i}}return[h,p]}function Yb(r,i,o,h,p,v,T,B,X,ie){r.createArrays(),r.tilePixelRatio=wn/(512*r.overscaling),r.compareText={},r.iconsNeedLinear=!1;const ue=r.layers[0].layout,be=r.layers[0]._unevaluatedLayout._values,Me={};if(r.textSizeData.kind==="composite"){const{minZoom:He,maxZoom:tt}=r.textSizeData;Me.compositeTextSizes=[be["text-size"].possiblyEvaluate(new Gt(He),B),be["text-size"].possiblyEvaluate(new Gt(tt),B)]}if(r.iconSizeData.kind==="composite"){const{minZoom:He,maxZoom:tt}=r.iconSizeData;Me.compositeIconSizes=[be["icon-size"].possiblyEvaluate(new Gt(He),B),be["icon-size"].possiblyEvaluate(new Gt(tt),B)]}Me.layoutTextSize=be["text-size"].possiblyEvaluate(new Gt(X+1),B),Me.layoutIconSize=be["icon-size"].possiblyEvaluate(new Gt(X+1),B),Me.textMaxSize=be["text-size"].possiblyEvaluate(new Gt(18),B);const Ie=ue.get("text-rotation-alignment")==="map"&&ue.get("symbol-placement")!=="point",Be=ue.get("text-size");for(const He of r.features){const tt=ue.get("text-font").evaluate(He,{},B).join(","),gt=Be.evaluate(He,{},B),Ct=Me.layoutTextSize.evaluate(He,{},B),mt=(Me.layoutIconSize.evaluate(He,{},B),{horizontal:{},vertical:void 0}),xt=He.text;let kt,Mt=[0,0];if(xt){const fi=xt.toString(),Ri=ue.get("text-letter-spacing").evaluate(He,{},B)*Js,si=ue.get("text-line-height").evaluate(He,{},B)*Js,yi=de(fi)?Ri:0,xi=ue.get("text-anchor").evaluate(He,{},B),Ai=ue.get("text-variable-anchor");if(!Ai){const Ki=ue.get("text-radial-offset").evaluate(He,{},B);Mt=Ki?jg(xi,[Ki*Js,Ng]):ue.get("text-offset").evaluate(He,{},B).map(hn=>hn*Js)}let Bi=Ie?"center":ue.get("text-justify").evaluate(He,{},B);const oi=ue.get("symbol-placement")==="point",Hi=oi?ue.get("text-max-width").evaluate(He,{},B)*Js:1/0,Cn=Ki=>{r.allowVerticalPlacement&&se(fi)&&(mt.vertical=z0(xt,i,o,p,tt,Hi,si,xi,Ki,yi,Mt,Nn.vertical,!0,Ct,gt))};if(!Ie&&Ai){const Ki=Bi==="auto"?Ai.map(Wi=>Ug(Wi)):[Bi];let hn=!1;for(let Wi=0;Wi<Ki.length;Wi++){const Dn=Ki[Wi];if(!mt.horizontal[Dn])if(hn)mt.horizontal[Dn]=mt.horizontal[0];else{const cs=z0(xt,i,o,p,tt,Hi,si,"center",Dn,yi,Mt,Nn.horizontal,!1,Ct,gt);cs&&(mt.horizontal[Dn]=cs,hn=cs.positionedLines.length===1)}}Cn("left")}else{if(Bi==="auto"&&(Bi=Ug(xi)),oi||ue.get("text-writing-mode").indexOf("horizontal")>=0||!se(fi)){const Ki=z0(xt,i,o,p,tt,Hi,si,xi,Bi,yi,Mt,Nn.horizontal,!1,Ct,gt);Ki&&(mt.horizontal[Bi]=Ki)}Cn(oi?"left":Bi)}}let Jt=!1;if(He.icon&&He.icon.name){const fi=h[He.icon.name];fi&&(kt=jb(p[He.icon.name],ue.get("icon-offset").evaluate(He,{},B),ue.get("icon-anchor").evaluate(He,{},B)),Jt=fi.sdf,r.sdfIcons===void 0?r.sdfIcons=fi.sdf:r.sdfIcons!==fi.sdf&&ae("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(fi.pixelRatio!==r.pixelRatio||ue.get("icon-rotate").constantOr(1)!==0)&&(r.iconsNeedLinear=!0))}const Kt=yy(mt.horizontal)||mt.vertical;r.iconsInText||(r.iconsInText=!!Kt&&Kt.iconsInText),(Kt||kt)&&qb(r,He,mt,kt,h,Me,Ct,0,Mt,Jt,T,B,ie)}v&&r.generateCollisionDebugBuffers(X,r.collisionBoxArray)}function Ug(r){switch(r){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function qb(r,i,o,h,p,v,T,B,X,ie,ue,be,Me){let Ie=v.textMaxSize.evaluate(i,{},be);Ie===void 0&&(Ie=T);const Be=r.layers[0].layout,He=Be.get("icon-offset").evaluate(i,{},be),tt=yy(o.horizontal)||o.vertical,gt=Me.name==="globe",Ct=T/24,mt=r.tilePixelRatio*Ie/24,xt=(yi=r.overscaling,r.zoom>18&&yi>2&&(yi>>=1),Math.max(wn/(512*yi),1)*Be.get("symbol-spacing")),kt=Be.get("text-padding")*r.tilePixelRatio,Mt=Be.get("icon-padding")*r.tilePixelRatio,Jt=N(Be.get("text-max-angle")),Kt=Be.get("text-rotation-alignment")==="map"&&Be.get("symbol-placement")!=="point",fi=Be.get("icon-rotation-alignment")==="map"&&Be.get("symbol-placement")!=="point",Ri=Be.get("symbol-placement"),si=xt/2;var yi;const xi=Be.get("icon-text-fit");let Ai;h&&xi!=="none"&&(r.allowVerticalPlacement&&o.vertical&&(Ai=ay(h,o.vertical,xi,Be.get("icon-text-fit-padding"),He,Ct)),tt&&(h=ay(h,tt,xi,Be.get("icon-text-fit-padding"),He,Ct)));const Bi=(oi,Hi,Cn)=>{if(Hi.x<0||Hi.x>=wn||Hi.y<0||Hi.y>=wn)return;let Ki=null;if(gt){const{x:hn,y:Wi,z:Dn}=Me.projectTilePoint(Hi.x,Hi.y,Cn);Ki={anchor:new Ph(hn,Wi,Dn,0,void 0),up:Me.upVector(Cn,Hi.x,Hi.y)}}(function(hn,Wi,Dn,cs,os,ns,In,Vs,$n,hs,Qs,mr,hr,gr,br,Kr,Xo,$s,yo,uo,Ds,Fr,ko,er,so){const Pa=hn.addToLineVertexArray(Wi,cs);let Zo,Ko,Ka,Jo,Xd,em,a1,l1=0,GS=0,VS=0,$S=0,x2=-1,b2=-1;const dd={};let HS=Id.exports("");const yf=Dn?Dn.anchor:Wi;let w2=0,S2=0;if($n._unevaluatedLayout.getValue("text-radial-offset")===void 0?[w2,S2]=$n.layout.get("text-offset").evaluate(Ds,{},so).map(Kl=>Kl*Js):(w2=$n.layout.get("text-radial-offset").evaluate(Ds,{},so)*Js,S2=Ng),hn.allowVerticalPlacement&&os.vertical){const Kl=os.vertical;if(br)em=Gg(Kl),Vs&&(a1=Gg(Vs));else{const Jl=$n.layout.get("text-rotate").evaluate(Ds,{},so)+90;Ka=V0(hs,yf,Wi,Qs,mr,hr,Kl,gr,Jl,Kr),Vs&&(Jo=V0(hs,yf,Wi,Qs,mr,hr,Vs,$s,Jl))}}if(ns){const Kl=$n.layout.get("icon-rotate").evaluate(Ds,{},so),Jl=$n.layout.get("icon-text-fit")!=="none",c1=ka(ns,Kl,ko,Jl),E2=Vs?ka(Vs,Kl,ko,Jl):void 0;Ko=V0(hs,yf,Wi,Qs,mr,hr,ns,$s,Kl),l1=4*c1.length;const WS=hn.iconSizeData;let vf=null;WS.kind==="source"?(vf=[nr*$n.layout.get("icon-size").evaluate(Ds,{},so)],vf[0]>ld&&ae(`${hn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):WS.kind==="composite"&&(vf=[nr*Fr.compositeIconSizes[0].evaluate(Ds,{},so),nr*Fr.compositeIconSizes[1].evaluate(Ds,{},so)],(vf[0]>ld||vf[1]>ld)&&ae(`${hn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),hn.addSymbols(hn.icon,c1,vf,uo,yo,Ds,!1,Dn,Wi,Pa.lineStartIndex,Pa.lineLength,-1,er,so),x2=hn.icon.placedSymbolArray.length-1,E2&&(GS=4*E2.length,hn.addSymbols(hn.icon,E2,vf,uo,yo,Ds,Nn.vertical,Dn,Wi,Pa.lineStartIndex,Pa.lineLength,-1,er,so),b2=hn.icon.placedSymbolArray.length-1)}for(const Kl in os.horizontal){const Jl=os.horizontal[Kl];Zo||(HS=Id.exports(Jl.text),br?Xd=Gg(Jl):Zo=V0(hs,yf,Wi,Qs,mr,hr,Jl,gr,$n.layout.get("text-rotate").evaluate(Ds,{},so),Kr));const c1=Jl.positionedLines.length===1;if(VS+=Hd(hn,Dn,Wi,Jl,In,$n,br,Ds,Kr,Pa,os.vertical?Nn.horizontal:Nn.horizontalOnly,c1?Object.keys(os.horizontal):[Kl],dd,x2,Fr,er,so),c1)break}os.vertical&&($S+=Hd(hn,Dn,Wi,os.vertical,In,$n,br,Ds,Kr,Pa,Nn.vertical,["vertical"],dd,b2,Fr,er,so));let Ku=-1;const T2=(Kl,Jl)=>Kl?Math.max(Kl,Jl):Jl;Ku=T2(Xd,Ku),Ku=T2(em,Ku),Ku=T2(a1,Ku);const JA=Ku>-1?1:0;hn.glyphOffsetArray.length>=cd.MAX_GLYPHS&&ae("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ds.sortKey!==void 0&&hn.addToSortKeyRanges(hn.symbolInstances.length,Ds.sortKey),hn.symbolInstances.emplaceBack(yf.x,yf.y,yf.z,Wi.x,Wi.y,dd.right>=0?dd.right:-1,dd.center>=0?dd.center:-1,dd.left>=0?dd.left:-1,dd.vertical>=0?dd.vertical:-1,x2,b2,HS,Zo!==void 0?Zo:hn.collisionBoxArray.length,Zo!==void 0?Zo+1:hn.collisionBoxArray.length,Ka!==void 0?Ka:hn.collisionBoxArray.length,Ka!==void 0?Ka+1:hn.collisionBoxArray.length,Ko!==void 0?Ko:hn.collisionBoxArray.length,Ko!==void 0?Ko+1:hn.collisionBoxArray.length,Jo||hn.collisionBoxArray.length,Jo?Jo+1:hn.collisionBoxArray.length,Qs,VS,$S,l1,GS,JA,0,w2,S2,Ku)})(r,Hi,Ki,oi,o,h,p,Ai,r.layers[0],r.collisionBoxArray,i.index,i.sourceLayerIndex,r.index,kt,Kt,X,0,Mt,fi,He,i,v,ie,ue,be)};if(Ri==="line")for(const oi of uy(i.geometry,0,0,wn,wn)){const Hi=Gb(oi,xt,Jt,o.vertical||tt,h,24,mt,r.overscaling,wn);for(const Cn of Hi){const Ki=tt;Ki&&Xb(r,Ki.text,si,Cn)||Bi(oi,Cn,be)}}else if(Ri==="line-center"){for(const oi of i.geometry)if(oi.length>1){const Hi=Ub(oi,Jt,o.vertical||tt,h,24,mt);Hi&&Bi(oi,Hi,be)}}else if(i.type==="Polygon")for(const oi of bg(i.geometry,0)){const Hi=gy(oi,16);Bi(oi[0],new Ph(Hi.x,Hi.y,0,0,void 0),be)}else if(i.type==="LineString")for(const oi of i.geometry)Bi(oi,new Ph(oi[0].x,oi[0].y,0,0,void 0),be);else if(i.type==="Point")for(const oi of i.geometry)for(const Hi of oi)Bi([Hi],new Ph(Hi.x,Hi.y,0,0,void 0),be)}const ld=32640;function Hd(r,i,o,h,p,v,T,B,X,ie,ue,be,Me,Ie,Be,He,tt){const gt=function(xt,kt,Mt,Jt,Kt,fi,Ri,si){const yi=[];if(kt.positionedLines.length===0)return yi;const xi=Jt.layout.get("text-rotate").evaluate(fi,{})*Math.PI/180,Ai=function(Ki){const hn=Ki[0],Wi=Ki[1],Dn=hn*Wi;return Dn>0?[hn,-Wi]:Dn<0?[-hn,Wi]:hn===0?[Wi,hn]:[Wi,-hn]}(Mt);let Bi=Math.abs(kt.top-kt.bottom);for(const Ki of kt.positionedLines)Bi-=Ki.lineOffset;const oi=kt.positionedLines.length,Hi=Bi/oi;let Cn=kt.top-Mt[1];for(let Ki=0;Ki<oi;++Ki){const hn=kt.positionedLines[Ki];Cn=Vb(kt,Hi,Cn,Ki);for(const Wi of hn.positionedGlyphs){if(!Wi.rect)continue;const Dn=Wi.rect||{};let cs=4,os=!0,ns=1,In=0;if(Wi.imageName){const er=Ri[Wi.imageName];if(!er)continue;if(er.sdf){ae("SDF images are not supported in formatted text and will be ignored.");continue}os=!1,ns=er.pixelRatio,cs=1/ns}const Vs=(Kt||si)&&Wi.vertical,$n=Wi.metrics.advance*Wi.scale/2,hs=Wi.metrics,Qs=Wi.rect;if(Qs===null)continue;si&&kt.verticalizable&&(In=Wi.imageName?$n-Wi.metrics.width*Wi.scale/2:0);const mr=Kt?[Wi.x+$n,Wi.y]:[0,0];let hr=[0,0],gr=[0,0],br=!1;Kt||(Vs?(gr=[Wi.x+$n+Ai[0],Wi.y+Ai[1]-In],br=!0):hr=[Wi.x+$n+Mt[0],Wi.y+Mt[1]-In]);const Kr=Qs.w*Wi.scale/(ns*(Wi.localGlyph?2:1)),Xo=Qs.h*Wi.scale/(ns*(Wi.localGlyph?2:1));let $s,yo,uo,Ds;if(Vs){const er=Wi.y-Cn,so=new G(-$n,$n-er),Pa=-Math.PI/2,Zo=new G(...gr);$s=new G(-$n+hr[0],hr[1]),$s._rotateAround(Pa,so)._add(Zo),$s.x+=-er+$n,$s.y-=(hs.left-cs)*Wi.scale;const Ko=Wi.imageName?hs.advance*Wi.scale:Js*Wi.scale,Ka=String.fromCharCode(Wi.glyph);Ib(Ka)?$s.x+=(1-cs)*Wi.scale:Dg(Ka)?$s.x+=Ko-hs.height*Wi.scale+(-cs-1)*Wi.scale:$s.x+=Wi.imageName||hs.width+2*cs===Qs.w&&hs.height+2*cs===Qs.h?(Ko-Xo)/2:(Ko-(hs.height+2*cs)*Wi.scale)/2,yo=new G($s.x,$s.y-Kr),uo=new G($s.x+Xo,$s.y),Ds=new G($s.x+Xo,$s.y-Kr)}else{const er=(hs.left-cs)*Wi.scale-$n+hr[0],so=(-hs.top-cs)*Wi.scale+hr[1],Pa=er+Kr,Zo=so+Xo;$s=new G(er,so),yo=new G(Pa,so),uo=new G(er,Zo),Ds=new G(Pa,Zo)}if(xi){let er;er=Kt?new G(0,0):br?new G(Ai[0],Ai[1]):new G(Mt[0],Mt[1]),$s._rotateAround(xi,er),yo._rotateAround(xi,er),uo._rotateAround(xi,er),Ds._rotateAround(xi,er)}const Fr=new G(0,0),ko=new G(0,0);yi.push({tl:$s,tr:yo,bl:uo,br:Ds,tex:Dn,writingMode:kt.writingMode,glyphOffset:mr,sectionIndex:Wi.sectionIndex,isSDF:os,pixelOffsetTL:Fr,pixelOffsetBR:ko,minFontScaleX:0,minFontScaleY:0})}}return yi}(0,h,X,v,T,B,p,r.allowVerticalPlacement),Ct=r.textSizeData;let mt=null;Ct.kind==="source"?(mt=[nr*v.layout.get("text-size").evaluate(B,{},tt)],mt[0]>ld&&ae(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):Ct.kind==="composite"&&(mt=[nr*Be.compositeTextSizes[0].evaluate(B,{},tt),nr*Be.compositeTextSizes[1].evaluate(B,{},tt)],(mt[0]>ld||mt[1]>ld)&&ae(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),r.addSymbols(r.text,gt,mt,X,T,B,ue,i,o,ie.lineStartIndex,ie.lineLength,Ie,He,tt);for(const xt of be)Me[xt]=r.text.placedSymbolArray.length-1;return 4*gt.length}function yy(r){for(const i in r)return r[i];return null}function V0(r,i,o,h,p,v,T,B,X,ie){let ue=T.top,be=T.bottom,Me=T.left,Ie=T.right;const Be=T.collisionPadding;if(Be&&(Me-=Be[0],ue-=Be[1],Ie+=Be[2],be+=Be[3]),X){const He=new G(Me,ue),tt=new G(Ie,ue),gt=new G(Me,be),Ct=new G(Ie,be),mt=N(X);let xt=new G(0,0);ie&&(xt=new G(ie[0],ie[1])),He._rotateAround(mt,xt),tt._rotateAround(mt,xt),gt._rotateAround(mt,xt),Ct._rotateAround(mt,xt),Me=Math.min(He.x,tt.x,gt.x,Ct.x),Ie=Math.max(He.x,tt.x,gt.x,Ct.x),ue=Math.min(He.y,tt.y,gt.y,Ct.y),be=Math.max(He.y,tt.y,gt.y,Ct.y)}return r.emplaceBack(i.x,i.y,i.z,o.x,o.y,Me,ue,Ie,be,B,h,p,v),r.length-1}function Gg(r){r.collisionPadding&&(r.top-=r.collisionPadding[1],r.bottom+=r.collisionPadding[3]);const i=r.bottom-r.top;return i>0?Math.max(10,i):null}function Xb(r,i,o,h){const p=r.compareText;if(i in p){const v=p[i];for(let T=v.length-1;T>=0;T--)if(h.dist(v[T])<o)return!0}else p[i]=[];return p[i].push(h),!1}const Zb=Ji([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Vg}=Zb,$g=Ji([{name:"a_pos_3",components:3,type:"Int16"}]);var af=Ji([{name:"a_pos",type:"Int16",components:2}]);const Dh=wn/Math.PI/2,Hg=2*Ml(1,0)*Dh*Math.PI,Wu=64,Yu=[Wu,32,16],Xl=-Dh,Zl=Dh,Kb=[new ga([Xl,Xl,Xl],[Zl,Zl,Zl]),new ga([Xl,Xl,Xl],[0,0,Zl]),new ga([0,Xl,Xl],[Zl,0,Zl]),new ga([Xl,0,Xl],[0,Zl,Zl]),new ga([0,0,Xl],[Zl,Zl,Zl])];function vy(r,i,o,h=!0){const p=Al([],r._camera.position,r.worldSize),v=[i,o,1,1];rd(v,v,r.pixelMatrixInverse),E_(v,v,1/v[3]);const T=ma([],Sc([],v,p)),B=r.globeMatrix,X=[B[12],B[13],B[14]],ie=Sc([],X,p),ue=jd(ie),be=ma([],ie),Me=r.worldSize/(2*Math.PI),Ie=Yl(be,T),Be=Math.asin(Me/ue);if(Be<Math.acos(Ie)){if(!h)return null;const Ri=[],si=[];Al(Ri,T,ue/Ie),ma(si,Sc(si,Ri,ie)),ma(T,th(T,ie,Al(T,si,Math.tan(Be)*ue)))}const He=[];new b0(p,T).closestPointOnSphere(X,Me,He);const tt=ma([],qe(B,0)),gt=ma([],qe(B,1)),Ct=ma([],qe(B,2)),mt=Yl(tt,He),xt=Yl(gt,He),kt=Yl(Ct,He),Mt=j(Math.asin(-xt/Me));let Jt=j(Math.atan2(mt,kt));Jt=r.center.lng+function(Ri,si){const yi=(si-Ri+180)%360-180;return yi<-180?yi+360:yi}(r.center.lng,Jt);const Kt=vc(Jt),fi=g(Cl(Mt),0,1);return new Rd(Kt,fi)}class Jb{constructor(i,o,h){this.a=Sc([],i,h),this.b=Sc([],o,h),this.center=h;const p=ma([],this.a),v=ma([],this.b);this.angle=Math.acos(Yl(p,v))}}function Wg(r,i){if(r.angle===0)return null;let o;return o=r.a[i]===0?1/r.angle*.5*Math.PI:1/r.angle*Math.atan(r.b[i]/r.a[i]/Math.sin(r.angle)-1/Math.tan(r.angle)),o<0||o>1?null:function(h,p,v,T){const B=Math.sin(v);return h*(Math.sin((1-T)*v)/B)+p*(Math.sin(T*v)/B)}(r.a[i],r.b[i],r.angle,g(o,0,1))+r.center[i]}function sh(r){if(r.z<=1)return Kb[r.z+2*r.y+r.x];const i=Yg($0(r));return ga.fromPoints(i)}function Wd(r,i,o){return Al(r,r,1-o),zu(r,r,i,o)}function xy(r,i){const o=Yd(i.zoom);if(o===0)return sh(r);const h=$0(r),p=Yg(h),v=vc(h.getWest())*i.worldSize,T=vc(h.getEast())*i.worldSize,B=Cl(h.getNorth())*i.worldSize,X=Cl(h.getSouth())*i.worldSize,ie=[v,B,0],ue=[T,B,0],be=[v,X,0],Me=[T,X,0],Ie=v0([],i.globeMatrix);return Ur(ie,ie,Ie),Ur(ue,ue,Ie),Ur(be,be,Ie),Ur(Me,Me,Ie),p[0]=Wd(p[0],be,o),p[1]=Wd(p[1],Me,o),p[2]=Wd(p[2],ue,o),p[3]=Wd(p[3],ie,o),ga.fromPoints(p)}function by(r,i,o){for(const h of r)Ur(h,h,i),Al(h,h,o)}function Qb(r,i,o){const h=i/r.worldSize,p=r.globeMatrix;if(o.z<=1){const Kt=sh(o).getCorners();return by(Kt,p,h),ga.fromPoints(Kt)}const v=$0(o),T=Yg(v);by(T,p,h);const B=Number.MAX_VALUE,X=[-B,-B,-B],ie=[B,B,B];if(v.contains(r.center)){for(const Ri of T)Ya(ie,ie,Ri),wc(X,X,Ri);X[2]=0;const Kt=r.point,fi=[Kt.x*h,Kt.y*h,0];return Ya(ie,ie,fi),wc(X,X,fi),new ga(ie,X)}const ue=[p[12]*h,p[13]*h,p[14]*h],be=v.getCenter(),Me=g(r.center.lat,-85.051129,jo),Ie=g(be.lat,-85.051129,jo),Be=vc(r.center.lng),He=Cl(Me);let tt=Be-vc(be.lng);const gt=He-Cl(Ie);tt>.5?tt-=1:tt<-.5&&(tt+=1);let Ct=0;Math.abs(tt)>Math.abs(gt)?Ct=tt>=0?1:3:(Ct=gt>=0?0:2,zu(ue,ue,[p[4]*h,p[5]*h,p[6]*h],-Math.sin(N(gt>=0?v.getSouth():v.getNorth()))*Dh));const mt=T[Ct],xt=T[(Ct+1)%4],kt=new Jb(mt,xt,ue),Mt=[Wg(kt,0)||mt[0],Wg(kt,1)||mt[1],Wg(kt,2)||mt[2]],Jt=Yd(r.zoom);if(Jt>0){const Kt=function({x:Ri,y:si,z:yi},xi,Ai,Bi,oi){const Hi=1/(1<<yi);let Cn=Ri*Hi,Ki=Cn+Hi,hn=si*Hi,Wi=hn+Hi,Dn=0;const cs=(Cn+Ki)/2-Bi;return cs>.5?Dn=-1:cs<-.5&&(Dn=1),Cn=((Cn+Dn)*xi-(Bi*=xi))*Ai+Bi,Ki=((Ki+Dn)*xi-Bi)*Ai+Bi,hn=(hn*xi-(oi*=xi))*Ai+oi,Wi=(Wi*xi-oi)*Ai+oi,[[Cn,Wi,0],[Ki,Wi,0],[Ki,hn,0],[Cn,hn,0]]}(o,i,r._pixelsPerMercatorPixel,Be,He);for(let Ri=0;Ri<T.length;Ri++)Wd(T[Ri],Kt[Ri],Jt);const fi=th([],Kt[Ct],Kt[(Ct+1)%4]);Al(fi,fi,.5),Wd(Mt,fi,Jt)}for(const Kt of T)Ya(ie,ie,Kt),wc(X,X,Kt);return ie[2]=Math.min(mt[2],xt[2]),Ya(ie,ie,Mt),wc(X,X,Mt),new ga(ie,X)}function $0({x:r,y:i,z:o}){const h=1/(1<<o),p=new us(Aa(r*h),No((i+1)*h)),v=new us(Aa((r+1)*h),No(i*h));return new Ch(p,v)}function Yg(r){const i=N(r.getNorth()),o=N(r.getSouth()),h=Math.cos(i),p=Math.cos(o),v=Math.sin(i),T=Math.sin(o),B=r.getWest(),X=r.getEast();return[qu(p,T,B),qu(p,T,X),qu(h,v,X),qu(h,v,B)]}function qu(r,i,o,h=Dh){return o=N(o),[r*Math.sin(o)*h,-i*h,r*Math.cos(o)*h]}function lf(r,i,o){return qu(Math.cos(N(r)),Math.sin(N(r)),i,o)}function cf(r,i,o,h){const p=1<<o.z,v=(r/wn+o.x)/p;return lf(No((i/wn+o.y)/p),Aa(v),h)}function H0({min:r,max:i}){return 16383/Math.max(i[0]-r[0],i[1]-r[1],i[2]-r[2])}const wy=new Float64Array(16);function hf(r){const i=H0(r),o=ag(wy,[i,i,i]);return $p(o,o,((h=[])[0]=-(p=r.min)[0],h[1]=-p[1],h[2]=-p[2],h));var h,p}function qg(r){const i=(h=r.min,(o=wy)[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=h[0],o[13]=h[1],o[14]=h[2],o[15]=1,o);var o,h;const p=1/H0(r);return Nd(i,i,[p,p,p])}function W0(r,i,o,h,p){const v=function(X){const ie=wn/(2*Math.PI);return X/(2*Math.PI)/ie}(o),T=[r,i,-o/(2*Math.PI)],B=Wl(new Float64Array(16));return $p(B,B,T),Nd(B,B,[v,v,v]),og(B,B,N(-p)),Hp(B,B,N(-h)),B}function Yd(r){return x(5,6,r)}function Xg(r,i){const o=lf(i.lat,i.lng),h=function(Be){const He=lf(Be._center.lat,Be._center.lng);let tt=hg([],Ud(0,1,0),He);const gt=S_([],-Be.angle,He);tt=Ur(tt,tt,gt),S_(gt,-Be._pitch,tt);const Ct=ma([],He);return Al(Ct,Ct,Be.cameraToCenterDistance/Be.pixelsPerMeter*Hg),Ur(Ct,Ct,gt),th([],He,Ct)}(r);return T=(p=Bu([],h,o))[0],B=p[1],X=p[2],ie=(v=o)[0],ue=v[1],be=v[2],Ie=(Me=Math.sqrt(T*T+B*B+X*X)*Math.sqrt(ie*ie+ue*ue+be*be))&&Yl(p,v)/Me,Math.acos(Math.min(Math.max(Ie,-1),1));var p,v,T,B,X,ie,ue,be,Me,Ie}function Zg(r,i){return Xg(r,i)>Math.PI/2*1.01}const Sy=N(85),e2=Math.cos(Sy),Kg=Math.sin(Sy);function Ty(r,i){const o=r.fovAboveCenter,h=r.elevation?r.elevation.getMinElevationBelowMSL()*i:0,p=(r._camera.position[2]*r.worldSize-h)/Math.cos(r._pitch),v=Math.sin(o)*p/Math.sin(Math.max(Math.PI/2-r._pitch-o,.01)),T=Math.sin(r._pitch)*v+p;return Math.min(1.01*T,p*(1/r._horizonShift))}function qd(r,i){if(!i.isReprojectedInTileSpace)return{scale:1<<r.z,x:r.x,y:r.y,x2:r.x+1,y2:r.y+1,projection:i};const o=Math.pow(2,-r.z),h=r.x*o,p=(r.x+1)*o,v=r.y*o,T=(r.y+1)*o,B=Aa(h),X=Aa(p),ie=No(v),ue=No(T),be=i.project(B,ie),Me=i.project(X,ie),Ie=i.project(X,ue),Be=i.project(B,ue);let He=Math.min(be.x,Me.x,Ie.x,Be.x),tt=Math.min(be.y,Me.y,Ie.y,Be.y),gt=Math.max(be.x,Me.x,Ie.x,Be.x),Ct=Math.max(be.y,Me.y,Ie.y,Be.y);const mt=o/16;function xt(Mt,Jt,Kt,fi,Ri,si){const yi=(Kt+Ri)/2,xi=(fi+si)/2,Ai=i.project(Aa(yi),No(xi)),Bi=Math.max(0,He-Ai.x,tt-Ai.y,Ai.x-gt,Ai.y-Ct);He=Math.min(He,Ai.x),gt=Math.max(gt,Ai.x),tt=Math.min(tt,Ai.y),Ct=Math.max(Ct,Ai.y),Bi>mt&&(xt(Mt,Ai,Kt,fi,yi,xi),xt(Ai,Jt,yi,xi,Ri,si))}xt(be,Me,h,v,p,v),xt(Me,Ie,p,v,p,T),xt(Ie,Be,p,T,h,T),xt(Be,be,h,T,h,v),He-=mt,tt-=mt,gt+=mt,Ct+=mt;const kt=1/Math.max(gt-He,Ct-tt);return{scale:kt,x:He*kt,y:tt*kt,x2:gt*kt,y2:Ct*kt,projection:i}}const t2=Wl(new Float32Array(16));class ho{constructor(i){this.spec=i,this.name=i.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(i,o){return{x:0,y:0,z:0}}unproject(i,o){return new us(0,0)}projectTilePoint(i,o,h){return{x:i,y:o,z:0}}locationPoint(i,o,h=!0){return i._coordinatePoint(i.locationCoordinate(o),h)}pixelsPerMeter(i,o){return Ml(1,i)*o}pixelSpaceConversion(i,o,h){return 1}farthestPixelDistance(i){return Ty(i,i.pixelsPerMeter)}pointCoordinate(i,o,h,p){const v=i.horizonLineFromTop(!1),T=new G(o,Math.max(v,h));return i.rayIntersectionCoordinate(i.pointRayIntersection(T,p))}pointCoordinate3D(i,o,h){const p=new G(o,h);if(i.elevation)return i.elevation.pointCoordinate(p);{const v=this.pointCoordinate(i,p.x,p.y,0);return[v.x,v.y,v.z]}}isPointAboveHorizon(i,o){if(i.elevation)return!this.pointCoordinate3D(i,o.x,o.y);const h=i.horizonLineFromTop();return o.y<h}createInversionMatrix(i,o){return t2}createTileMatrix(i,o,h){let p,v,T;const B=h.canonical,X=Wl(new Float64Array(16));if(this.isReprojectedInTileSpace){const ie=qd(B,this);p=1,v=ie.x+h.wrap*ie.scale,T=ie.y,Nd(X,X,[p/ie.scale,p/ie.scale,i.pixelsPerMeter/o])}else p=o/i.zoomScale(B.z),v=(B.x+Math.pow(2,B.z)*h.wrap)*p,T=B.y*p;return $p(X,X,[v,T,0]),Nd(X,X,[p/wn,p/wn,1]),X}upVector(i,o,h){return[0,0,1]}upVectorScale(i,o,h){return{metersToTile:1}}}class Jg extends ho{constructor(i){super(i),this.range=[4,7],this.center=i.center||[-96,37.5];const[o,h]=this.parallels=i.parallels||[29.5,45.5],p=Math.sin(N(o));this.n=(p+Math.sin(N(h)))/2,this.c=1+p*(2*this.n-p),this.r0=Math.sqrt(this.c)/this.n}project(i,o){const{n:h,c:p,r0:v}=this,T=N(i-this.center[0]),B=N(o),X=Math.sqrt(p-2*h*Math.sin(B))/h;return{x:X*Math.sin(T*h),y:X*Math.cos(T*h)-v,z:0}}unproject(i,o){const{n:h,c:p,r0:v}=this,T=v+o;let B=Math.atan2(i,Math.abs(T))*Math.sign(T);T*h<0&&(B-=Math.PI*Math.sign(i)*Math.sign(T));const X=N(this.center[0])*h;B=P(B,-Math.PI-X,Math.PI-X);const ie=g(j(B/h)+this.center[0],-180,180),ue=Math.asin(g((p-(i*i+T*T)*h*h)/(2*h),-1,1)),be=g(j(ue),-85.051129,jo);return new us(ie,be)}}const df=1.340264,uf=-.081106,pf=893e-6,ff=.003796,Xu=Math.sqrt(3)/2;class i2 extends ho{project(i,o){o=o/180*Math.PI,i=i/180*Math.PI;const h=Math.asin(Xu*Math.sin(o)),p=h*h,v=p*p*p;return{x:.5*(i*Math.cos(h)/(Xu*(df+3*uf*p+v*(7*pf+9*ff*p)))/Math.PI+.5),y:1-.5*(h*(df+uf*p+v*(pf+ff*p))/Math.PI+1),z:0}}unproject(i,o){i=(2*i-.5)*Math.PI;let h=o=(2*(1-o)-1)*Math.PI,p=h*h,v=p*p*p;for(let ue,be,Me,Ie=0;Ie<12&&(be=h*(df+uf*p+v*(pf+ff*p))-o,Me=df+3*uf*p+v*(7*pf+9*ff*p),ue=be/Me,h=g(h-ue,-Math.PI/3,Math.PI/3),p=h*h,v=p*p*p,!(Math.abs(ue)<1e-12));++Ie);const T=Xu*i*(df+3*uf*p+v*(7*pf+9*ff*p))/Math.cos(h),B=Math.asin(Math.sin(h)/Xu),X=g(180*T/Math.PI,-180,180),ie=g(180*B/Math.PI,-85.051129,jo);return new us(X,ie)}}class Qg extends ho{constructor(i){super(i),this.wrap=!0,this.supportsWorldCopies=!0}project(i,o){return{x:.5+i/360,y:.5-o/360,z:0}}unproject(i,o){const h=360*(i-.5),p=g(360*(.5-o),-85.051129,jo);return new us(h,p)}}const Zu=Math.PI/2;function Y0(r){return Math.tan((Zu+r)/2)}class n2 extends ho{constructor(i){super(i),this.center=i.center||[0,30];const[o,h]=this.parallels=i.parallels||[30,30];let p=N(o),v=N(h);this.southernCenter=p+v<0,this.southernCenter&&(p=-p,v=-v);const T=Math.cos(p),B=Y0(p);this.n=p===v?Math.sin(p):Math.log(T/Math.cos(v))/Math.log(Y0(v)/B),this.f=T*Math.pow(Y0(p),this.n)/this.n}project(i,o){o=N(o),this.southernCenter&&(o=-o),i=N(i-this.center[0]);const h=1e-6,{n:p,f:v}=this;v>0?o<-Zu+h&&(o=-Zu+h):o>Zu-h&&(o=Zu-h);const T=v/Math.pow(Y0(o),p);let B=T*Math.sin(p*i),X=v-T*Math.cos(p*i);return B=.5*(B/Math.PI+.5),X=.5*(X/Math.PI+.5),{x:B,y:this.southernCenter?X:1-X,z:0}}unproject(i,o){i=(2*i-.5)*Math.PI,this.southernCenter&&(o=1-o),o=(2*(1-o)-.5)*Math.PI;const{n:h,f:p}=this,v=p-o,T=Math.sign(v),B=Math.sign(h)*Math.sqrt(i*i+v*v);let X=Math.atan2(i,Math.abs(v))*T;v*h<0&&(X-=Math.PI*Math.sign(i)*T);const ie=g(j(X/h)+this.center[0],-180,180),ue=g(j(2*Math.atan(Math.pow(p/B,1/h))-Zu),-85.051129,jo);return new us(ie,this.southernCenter?-ue:ue)}}class Ey extends ho{constructor(i){super(i),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(i,o){return{x:vc(i),y:Cl(o),z:0}}unproject(i,o){const h=Aa(i),p=No(o);return new us(h,p)}}const e1=N(jo);class s2 extends ho{project(i,o){const h=(o=N(o))*o,p=h*h;return{x:.5*((i=N(i))*(.8707-.131979*h+p*(p*(.003971*h-.001529*p)-.013791))/Math.PI+.5),y:1-.5*(o*(1.007226+h*(.015085+p*(.028874*h-.044475-.005916*p)))/Math.PI+1),z:0}}unproject(i,o){i=(2*i-.5)*Math.PI;let h=o=(2*(1-o)-1)*Math.PI,p=25,v=0,T=h*h;do{T=h*h;const ie=T*T;v=(h*(1.007226+T*(.015085+ie*(.028874*T-.044475-.005916*ie)))-o)/(1.007226+T*(.045255+ie*(.259866*T-.311325-.005916*11*ie))),h=g(h-v,-e1,e1)}while(Math.abs(v)>1e-6&&--p>0);T=h*h;const B=g(j(i/(.8707+T*(T*(T*T*T*(.003971-.001529*T)-.013791)-.131979))),-180,180),X=j(h);return new us(B,X)}}const Cy=N(jo);class r2 extends ho{project(i,o){o=N(o),i=N(i);const h=Math.cos(o),p=2/Math.PI,v=Math.acos(h*Math.cos(i/2)),T=Math.sin(v)/v,B=.5*(i*p+2*h*Math.sin(i/2)/T)||0,X=.5*(o+Math.sin(o)/T)||0;return{x:.5*(B/Math.PI+.5),y:1-.5*(X/Math.PI+1),z:0}}unproject(i,o){let h=i=(2*i-.5)*Math.PI,p=o=(2*(1-o)-1)*Math.PI,v=25;const T=1e-6;let B=0,X=0;do{const ie=Math.cos(p),ue=Math.sin(p),be=2*ue*ie,Me=ue*ue,Ie=ie*ie,Be=Math.cos(h/2),He=Math.sin(h/2),tt=2*Be*He,gt=He*He,Ct=1-Ie*Be*Be,mt=Ct?1/Ct:0,xt=Ct?Math.acos(ie*Be)*Math.sqrt(1/Ct):0,kt=.5*(2*xt*ie*He+2*h/Math.PI)-i,Mt=.5*(xt*ue+p)-o,Jt=.5*mt*(Ie*gt+xt*ie*Be*Me)+1/Math.PI,Kt=mt*(tt*be/4-xt*ue*He),fi=.125*mt*(be*He-xt*ue*Ie*tt),Ri=.5*mt*(Me*Be+xt*gt*ie)+.5,si=Kt*fi-Ri*Jt;B=(Mt*Kt-kt*Ri)/si,X=(kt*fi-Mt*Jt)/si,h=g(h-B,-Math.PI,Math.PI),p=g(p-X,-Cy,Cy)}while((Math.abs(B)>T||Math.abs(X)>T)&&--v>0);return new us(j(h),j(p))}}class q0 extends ho{constructor(i){super(i),this.center=i.center||[0,0],this.parallels=i.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(N(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(i,o){const{scale:h,cosPhi:p}=this;return{x:N(i)*p*h+.5,y:-Math.sin(N(o))/p*h+.5,z:0}}unproject(i,o){const{scale:h,cosPhi:p}=this,v=-(o-.5)/h,T=g(j((i-.5)/h)/p,-180,180),B=Math.asin(g(v*p,-1,1)),X=g(j(B),-85.051129,jo);return new us(T,X)}}class t1 extends Ey{constructor(i){super(i),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(i,o,h){const p=cf(i,o,h);return Ur(p,p,hf(sh(h))),{x:p[0],y:p[1],z:p[2]}}locationPoint(i,o){const h=lf(o.lat,o.lng),p=ma([],h),v=i.elevation?i.elevation.getAtPointOrZero(i.locationCoordinate(o),i._centerAltitude):i._centerAltitude;zu(h,h,p,Ml(1,0)*wn*v);const T=Wl(new Float64Array(16));return Fd(T,i.pixelMatrix,i.globeMatrix),Ur(h,h,T),new G(h[0],h[1])}pixelsPerMeter(i,o){return Ml(1,0)*o}pixelSpaceConversion(i,o,h){const p=Ml(1,i)*o,v=Bn(Ml(1,45)*o,p,h);return this.pixelsPerMeter(i,o)/v}createTileMatrix(i,o,h){const p=qg(sh(h.canonical));return Fd(new Float64Array(16),i.globeMatrix,p)}createInversionMatrix(i,o){const{center:h}=i,p=hf(sh(o));return Hp(p,p,N(h.lng)),og(p,p,N(h.lat)),Nd(p,p,[i._pixelsPerMercatorPixel,i._pixelsPerMercatorPixel,1]),Float32Array.from(p)}pointCoordinate(i,o,h,p){return vy(i,o,h,!0)||new Rd(0,0)}pointCoordinate3D(i,o,h){const p=this.pointCoordinate(i,o,h,0);return[p.x,p.y,p.z]}isPointAboveHorizon(i,o){return!vy(i,o.x,o.y,!1)}farthestPixelDistance(i){const o=function(p,v){const T=p.cameraToCenterDistance,B=p._centerAltitude*v,X=p._camera,ie=p._camera.forward(),ue=th([],Al([],ie,-T),[0,0,B]),be=p.worldSize/(2*Math.PI),Me=[0,0,-be],Ie=p.width/p.height,Be=Math.tan(p.fovAboveCenter),He=Al([],X.up(),Be),tt=Al([],X.right(),Be*Ie),gt=ma([],th([],th([],ie,He),tt)),Ct=[];let mt;if(new b0(ue,gt).closestPointOnSphere(Me,be,Ct)){const xt=th([],Ct,Me),kt=Sc([],xt,ue);mt=Math.cos(p.fovAboveCenter)*jd(kt)}else{const xt=Sc([],ue,Me),kt=Sc([],Me,ue);ma(kt,kt);const Mt=jd(xt)-be;mt=Math.sqrt(Mt*(Mt+2*be));const Jt=Math.acos(mt/(be+Mt))-Math.acos(Yl(ie,kt));mt*=Math.cos(Jt)}return 1.01*mt}(i,this.pixelsPerMeter(i.center.lat,i.worldSize)),h=Yd(i.zoom);if(h>0){const p=Ty(i,Ml(1,i.center.lat)*i.worldSize),v=i.worldSize/(2*Math.PI),T=Math.max(i.width,i.height)/i.worldSize*Math.PI;return Bn(o,p+v*(1-Math.cos(T)),Math.pow(h,10))}return o}upVector(i,o,h){return cf(o,h,i,1)}upVectorScale(i){return{metersToTile:Hg*H0(sh(i))}}}function My(r){const i=r.parallels,o=!!i&&Math.abs(i[0]+i[1])<.01;switch(r.name){case"mercator":return new Ey(r);case"equirectangular":return new Qg(r);case"naturalEarth":return new s2(r);case"equalEarth":return new i2(r);case"winkelTripel":return new r2(r);case"albers":return o?new q0(r):new Jg(r);case"lambertConformalConic":return o?new q0(r):new n2(r);case"globe":return new t1(r)}throw new Error(`Invalid projection name: ${r.name}`)}const o2=A0.types,a2=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function X0(r,i,o,h,p,v,T,B,X,ie,ue,be,Me){const Ie=B?Math.min(ld,Math.round(B[0])):0,Be=B?Math.min(ld,Math.round(B[1])):0;r.emplaceBack(i,o,Math.round(32*h),Math.round(32*p),v,T,(Ie<<1)+(X?1:0),Be,16*ie,16*ue,256*be,256*Me)}function Z0(r,i,o,h,p,v,T){r.emplaceBack(i,o,h,p,v,T)}function K0(r,i,o,h,p){r.emplaceBack(i,o,h,p),r.emplaceBack(i,o,h,p),r.emplaceBack(i,o,h,p),r.emplaceBack(i,o,h,p)}function l2(r){for(const i of r.sections)if(at(i.text))return!0;return!1}class i1{constructor(i){this.layoutVertexArray=new Bs,this.indexArray=new Mo,this.programConfigurations=i,this.segments=new Yr,this.dynamicLayoutVertexArray=new Yo,this.opacityVertexArray=new Br,this.placedSymbolArray=new h_,this.globeExtVertexArray=new Ts}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(i,o,h,p){this.isEmpty()||(h&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,Cb.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,o),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,Mb.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,a2,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=i.createVertexBuffer(this.globeExtVertexArray,Tc.members,!0)),this.opacityVertexBuffer.itemSize=1),(h||p)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Yi(i1,"SymbolBuffers");class n1{constructor(i,o,h){this.layoutVertexArray=new i,this.layoutAttributes=o,this.indexArray=new h,this.segments=new Yr,this.collisionVertexArray=new Dd,this.collisionVertexArrayExt=new Tl}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,Ab.members,!0),this.collisionVertexBufferExt=i.createVertexBuffer(this.collisionVertexArrayExt,Vd.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Yi(n1,"CollisionBuffers");class cd{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(T=>T.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Wl([]),this.placementViewportMatrix=Wl([]);const o=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Pg(this.zoom,o["text-size"]),this.iconSizeData=Pg(this.zoom,o["icon-size"]);const h=this.layers[0].layout,p=h.get("symbol-sort-key"),v=h.get("symbol-z-order");this.canOverlap=h.get("text-allow-overlap")||h.get("icon-allow-overlap")||h.get("text-ignore-placement")||h.get("icon-ignore-placement"),this.sortFeaturesByKey=v!=="viewport-y"&&p.constantOr(1)!==void 0,this.sortFeaturesByY=(v==="viewport-y"||v==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=h.get("text-writing-mode").map(T=>Nn[T]),this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id),this.sourceID=i.sourceID,this.projection=i.projection}createArrays(){this.text=new i1(new Jc(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new i1(new Jc(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new Gm,this.lineVertexArray=new Vm,this.symbolInstances=new h0}calculateGlyphDependencies(i,o,h,p,v){for(let T=0;T<i.length;T++)if(o[i.charCodeAt(T)]=!0,p&&v){const B=nf[i.charAt(T)];B&&(o[B.charCodeAt(0)]=!0)}}populate(i,o,h,p){const v=this.layers[0],T=v.layout,B=this.projection.name==="globe",X=T.get("text-font"),ie=T.get("text-field"),ue=T.get("icon-image"),be=(ie.value.kind!=="constant"||ie.value.value instanceof Dr&&!ie.value.value.isEmpty()||ie.value.value.toString().length>0)&&(X.value.kind!=="constant"||X.value.value.length>0),Me=ue.value.kind!=="constant"||!!ue.value.value||Object.keys(ue.parameters).length>0,Ie=T.get("symbol-sort-key");if(this.features=[],!be&&!Me)return;const Be=o.iconDependencies,He=o.glyphDependencies,tt=o.availableImages,gt=new Gt(this.zoom);for(const{feature:Ct,id:mt,index:xt,sourceLayerIndex:kt}of i){const Mt=v._featureFilter.needGeometry,Jt=Qc(Ct,Mt);if(!v._featureFilter.filter(gt,Jt,h))continue;if(Mt||(Jt.geometry=bc(Ct,h,p)),B&&Ct.type!==1&&h.z<=5){const si=Jt.geometry,yi=.98078528056,xi=(Ai,Bi)=>Yl(cf(Ai.x,Ai.y,h,1),cf(Bi.x,Bi.y,h,1))<yi;for(let Ai=0;Ai<si.length;Ai++)si[Ai]=Fx(si[Ai],xi)}let Kt,fi;if(be){const si=v.getValueAndResolveTokens("text-field",Jt,h,tt),yi=Dr.factory(si);l2(yi)&&(this.hasRTLText=!0),(!this.hasRTLText||zt()==="unavailable"||this.hasRTLText&&Zt.isParsed())&&(Kt=Db(yi,v,Jt))}if(Me){const si=v.getValueAndResolveTokens("icon-image",Jt,h,tt);fi=si instanceof Lo?si:Lo.fromString(si)}if(!Kt&&!fi)continue;const Ri=this.sortFeaturesByKey?Ie.evaluate(Jt,{},h):void 0;if(this.features.push({id:mt,text:Kt,icon:fi,index:xt,sourceLayerIndex:kt,geometry:Jt.geometry,properties:Ct.properties,type:o2[Ct.type],sortKey:Ri}),fi&&(Be[fi.name]=!0),Kt){const si=X.evaluate(Jt,{},h).join(","),yi=T.get("text-rotation-alignment")==="map"&&T.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Nn.vertical)>=0;for(const xi of Kt.sections)if(xi.image)Be[xi.image.name]=!0;else{const Ai=se(Kt.toString()),Bi=xi.fontStack||si,oi=He[Bi]=He[Bi]||{};this.calculateGlyphDependencies(xi.text,oi,yi,this.allowVerticalPlacement,Ai)}}}T.get("symbol-placement")==="line"&&(this.features=function(Ct){const mt={},xt={},kt=[];let Mt=0;function Jt(si){kt.push(Ct[si]),Mt++}function Kt(si,yi,xi){const Ai=xt[si];return delete xt[si],xt[yi]=Ai,kt[Ai].geometry[0].pop(),kt[Ai].geometry[0]=kt[Ai].geometry[0].concat(xi[0]),Ai}function fi(si,yi,xi){const Ai=mt[yi];return delete mt[yi],mt[si]=Ai,kt[Ai].geometry[0].shift(),kt[Ai].geometry[0]=xi[0].concat(kt[Ai].geometry[0]),Ai}function Ri(si,yi,xi){const Ai=xi?yi[0][yi[0].length-1]:yi[0][0];return`${si}:${Ai.x}:${Ai.y}`}for(let si=0;si<Ct.length;si++){const yi=Ct[si],xi=yi.geometry,Ai=yi.text?yi.text.toString():null;if(!Ai){Jt(si);continue}const Bi=Ri(Ai,xi),oi=Ri(Ai,xi,!0);if(Bi in xt&&oi in mt&&xt[Bi]!==mt[oi]){const Hi=fi(Bi,oi,xi),Cn=Kt(Bi,oi,kt[Hi].geometry);delete mt[Bi],delete xt[oi],xt[Ri(Ai,kt[Cn].geometry,!0)]=Cn,kt[Hi].geometry=null}else Bi in xt?Kt(Bi,oi,xi):oi in mt?fi(Bi,oi,xi):(Jt(si),mt[Bi]=Mt-1,xt[oi]=Mt-1)}return kt.filter(si=>si.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Ct,mt)=>Ct.sortKey-mt.sortKey)}update(i,o,h,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,o,this.layers,h,p),this.icon.programConfigurations.updatePaintArrays(i,o,this.layers,h,p))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=My(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,o){const h=this.lineVertexArray.length;if(i.segment!==void 0)for(const{x:p,y:v}of o)this.lineVertexArray.emplaceBack(p,v);return{lineStartIndex:h,lineLength:this.lineVertexArray.length-h}}addSymbols(i,o,h,p,v,T,B,X,ie,ue,be,Me,Ie,Be){const He=i.indexArray,tt=i.layoutVertexArray,gt=i.globeExtVertexArray,Ct=i.segments.prepareSegment(4*o.length,tt,He,this.canOverlap?T.sortKey:void 0),mt=this.glyphOffsetArray.length,xt=Ct.vertexLength,kt=this.allowVerticalPlacement&&B===Nn.vertical?Math.PI/2:0,Mt=T.text&&T.text.sections;for(let Kt=0;Kt<o.length;Kt++){const{tl:fi,tr:Ri,bl:si,br:yi,tex:xi,pixelOffsetTL:Ai,pixelOffsetBR:Bi,minFontScaleX:oi,minFontScaleY:Hi,glyphOffset:Cn,isSDF:Ki,sectionIndex:hn}=o[Kt],Wi=Ct.vertexLength,Dn=Cn[1];if(X0(tt,ie.x,ie.y,fi.x,Dn+fi.y,xi.x,xi.y,h,Ki,Ai.x,Ai.y,oi,Hi),X0(tt,ie.x,ie.y,Ri.x,Dn+Ri.y,xi.x+xi.w,xi.y,h,Ki,Bi.x,Ai.y,oi,Hi),X0(tt,ie.x,ie.y,si.x,Dn+si.y,xi.x,xi.y+xi.h,h,Ki,Ai.x,Bi.y,oi,Hi),X0(tt,ie.x,ie.y,yi.x,Dn+yi.y,xi.x+xi.w,xi.y+xi.h,h,Ki,Bi.x,Bi.y,oi,Hi),X){const{x:cs,y:os,z:ns}=X.anchor,[In,Vs,$n]=X.up;Z0(gt,cs,os,ns,In,Vs,$n),Z0(gt,cs,os,ns,In,Vs,$n),Z0(gt,cs,os,ns,In,Vs,$n),Z0(gt,cs,os,ns,In,Vs,$n),K0(i.dynamicLayoutVertexArray,cs,os,ns,kt)}else K0(i.dynamicLayoutVertexArray,ie.x,ie.y,ie.z,kt);He.emplaceBack(Wi,Wi+1,Wi+2),He.emplaceBack(Wi+1,Wi+2,Wi+3),Ct.vertexLength+=4,Ct.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Cn[0]),Kt!==o.length-1&&hn===o[Kt+1].sectionIndex||i.programConfigurations.populatePaintArrays(tt.length,T,T.index,{},Ie,Be,Mt&&Mt[hn])}const Jt=X?X.anchor:ie;i.placedSymbolArray.emplaceBack(Jt.x,Jt.y,Jt.z,ie.x,ie.y,mt,this.glyphOffsetArray.length-mt,xt,ue,be,ie.segment,h?h[0]:0,h?h[1]:0,p[0],p[1],B,0,!1,0,Me,0)}_commitLayoutVertex(i,o,h,p,v,T,B){i.emplaceBack(o,h,p,v,T,Math.round(B.x),Math.round(B.y))}_addCollisionDebugVertices(i,o,h,p,v,T,B){const X=h.segments.prepareSegment(4,h.layoutVertexArray,h.indexArray),ie=X.vertexLength,ue=B.tileAnchorX,be=B.tileAnchorY;for(let Ie=0;Ie<4;Ie++)h.collisionVertexArray.emplaceBack(0,0,0,0);h.collisionVertexArrayExt.emplaceBack(o,-i.padding,-i.padding),h.collisionVertexArrayExt.emplaceBack(o,i.padding,-i.padding),h.collisionVertexArrayExt.emplaceBack(o,i.padding,i.padding),h.collisionVertexArrayExt.emplaceBack(o,-i.padding,i.padding),this._commitLayoutVertex(h.layoutVertexArray,p,v,T,ue,be,new G(i.x1,i.y1)),this._commitLayoutVertex(h.layoutVertexArray,p,v,T,ue,be,new G(i.x2,i.y1)),this._commitLayoutVertex(h.layoutVertexArray,p,v,T,ue,be,new G(i.x2,i.y2)),this._commitLayoutVertex(h.layoutVertexArray,p,v,T,ue,be,new G(i.x1,i.y2)),X.vertexLength+=4;const Me=h.indexArray;Me.emplaceBack(ie,ie+1),Me.emplaceBack(ie+1,ie+2),Me.emplaceBack(ie+2,ie+3),Me.emplaceBack(ie+3,ie),X.primitiveLength+=4}_addTextDebugCollisionBoxes(i,o,h,p,v,T){for(let B=p;B<v;B++){const X=h.get(B),ie=this.getSymbolInstanceTextSize(i,T,o,B);this._addCollisionDebugVertices(X,ie,this.textCollisionBox,X.projectedAnchorX,X.projectedAnchorY,X.projectedAnchorZ,T)}}_addIconDebugCollisionBoxes(i,o,h,p,v,T){for(let B=p;B<v;B++){const X=h.get(B),ie=this.getSymbolInstanceIconSize(i,o,T.placedIconSymbolIndex);this._addCollisionDebugVertices(X,ie,this.iconCollisionBox,X.projectedAnchorX,X.projectedAnchorY,X.projectedAnchorZ,T)}}generateCollisionDebugBuffers(i,o){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new n1(Ks,is.members,Hl),this.iconCollisionBox=new n1(Ks,is.members,Hl);const h=Gu(this.iconSizeData,i),p=Gu(this.textSizeData,i);for(let v=0;v<this.symbolInstances.length;v++){const T=this.symbolInstances.get(v);this._addTextDebugCollisionBoxes(p,i,o,T.textBoxStartIndex,T.textBoxEndIndex,T),this._addTextDebugCollisionBoxes(p,i,o,T.verticalTextBoxStartIndex,T.verticalTextBoxEndIndex,T),this._addIconDebugCollisionBoxes(h,i,o,T.iconBoxStartIndex,T.iconBoxEndIndex,T),this._addIconDebugCollisionBoxes(h,i,o,T.verticalIconBoxStartIndex,T.verticalIconBoxEndIndex,T)}}getSymbolInstanceTextSize(i,o,h,p){const v=this.text.placedSymbolArray.get(o.rightJustifiedTextSymbolIndex>=0?o.rightJustifiedTextSymbolIndex:o.centerJustifiedTextSymbolIndex>=0?o.centerJustifiedTextSymbolIndex:o.leftJustifiedTextSymbolIndex>=0?o.leftJustifiedTextSymbolIndex:o.verticalPlacedTextSymbolIndex>=0?o.verticalPlacedTextSymbolIndex:p),T=Ec(this.textSizeData,i,v)/Js;return this.tilePixelRatio*T}getSymbolInstanceIconSize(i,o,h){const p=this.icon.placedSymbolArray.get(h),v=Ec(this.iconSizeData,i,p);return this.tilePixelRatio*v}_commitDebugCollisionVertexUpdate(i,o,h){i.emplaceBack(o,-h,-h),i.emplaceBack(o,h,-h),i.emplaceBack(o,h,h),i.emplaceBack(o,-h,h)}_updateTextDebugCollisionBoxes(i,o,h,p,v,T){for(let B=p;B<v;B++){const X=h.get(B),ie=this.getSymbolInstanceTextSize(i,T,o,B);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,ie,X.padding)}}_updateIconDebugCollisionBoxes(i,o,h,p,v,T){for(let B=p;B<v;B++){const X=h.get(B),ie=this.getSymbolInstanceIconSize(i,o,T);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,ie,X.padding)}}updateCollisionDebugBuffers(i,o){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const h=Gu(this.iconSizeData,i),p=Gu(this.textSizeData,i);for(let v=0;v<this.symbolInstances.length;v++){const T=this.symbolInstances.get(v);this._updateTextDebugCollisionBoxes(p,i,o,T.textBoxStartIndex,T.textBoxEndIndex,T),this._updateTextDebugCollisionBoxes(p,i,o,T.verticalTextBoxStartIndex,T.verticalTextBoxEndIndex,T),this._updateIconDebugCollisionBoxes(h,i,o,T.iconBoxStartIndex,T.iconBoxEndIndex,T.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(h,i,o,T.verticalIconBoxStartIndex,T.verticalIconBoxEndIndex,T.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(i,o,h,p,v,T,B,X,ie){const ue={};if(o<h){const{x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Ct,tileAnchorX:mt,tileAnchorY:xt,featureIndex:kt}=i.get(o);ue.textBox={x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Ct,tileAnchorX:mt,tileAnchorY:xt},ue.textFeatureIndex=kt}if(p<v){const{x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Ct,tileAnchorX:mt,tileAnchorY:xt,featureIndex:kt}=i.get(p);ue.verticalTextBox={x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Ct,tileAnchorX:mt,tileAnchorY:xt},ue.verticalTextFeatureIndex=kt}if(T<B){const{x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Ct,tileAnchorX:mt,tileAnchorY:xt,featureIndex:kt}=i.get(T);ue.iconBox={x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Ct,tileAnchorX:mt,tileAnchorY:xt},ue.iconFeatureIndex=kt}if(X<ie){const{x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Ct,tileAnchorX:mt,tileAnchorY:xt,featureIndex:kt}=i.get(X);ue.verticalIconBox={x1:be,y1:Me,x2:Ie,y2:Be,padding:He,projectedAnchorX:tt,projectedAnchorY:gt,projectedAnchorZ:Ct,tileAnchorX:mt,tileAnchorY:xt},ue.verticalIconFeatureIndex=kt}return ue}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let o=0;o<this.symbolInstances.length;o++){const h=this.symbolInstances.get(o);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,h.textBoxStartIndex,h.textBoxEndIndex,h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h.iconBoxStartIndex,h.iconBoxEndIndex,h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,o){const h=i.placedSymbolArray.get(o),p=h.vertexStartIndex+4*h.numGlyphs;for(let v=h.vertexStartIndex;v<p;v+=4)i.indexArray.emplaceBack(v,v+1,v+2),i.indexArray.emplaceBack(v+1,v+2,v+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const o=Math.sin(i),h=Math.cos(i),p=[],v=[],T=[];for(let B=0;B<this.symbolInstances.length;++B){T.push(B);const X=this.symbolInstances.get(B);p.push(0|Math.round(o*X.tileAnchorX+h*X.tileAnchorY)),v.push(X.featureIndex)}return T.sort((B,X)=>p[B]-p[X]||v[X]-v[B]),T}addToSortKeyRanges(i,o){const h=this.sortKeyRanges[this.sortKeyRanges.length-1];h&&h.sortKey===o?h.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:o,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const o of this.symbolInstanceIndexes){const h=this.symbolInstances.get(o);this.featureSortOrder.push(h.featureIndex);const{rightJustifiedTextSymbolIndex:p,centerJustifiedTextSymbolIndex:v,leftJustifiedTextSymbolIndex:T,verticalPlacedTextSymbolIndex:B,placedIconSymbolIndex:X,verticalPlacedIconSymbolIndex:ie}=h;p>=0&&this.addIndicesForPlacedSymbol(this.text,p),v>=0&&v!==p&&this.addIndicesForPlacedSymbol(this.text,v),T>=0&&T!==v&&T!==p&&this.addIndicesForPlacedSymbol(this.text,T),B>=0&&this.addIndicesForPlacedSymbol(this.text,B),X>=0&&this.addIndicesForPlacedSymbol(this.icon,X),ie>=0&&this.addIndicesForPlacedSymbol(this.icon,ie)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Yi(cd,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),cd.MAX_GLYPHS=65535,cd.addDynamicAttributes=K0;const c2=new pn({"symbol-placement":new $t(ci.layout_symbol["symbol-placement"]),"symbol-spacing":new $t(ci.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new $t(ci.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ei(ci.layout_symbol["symbol-sort-key"]),"symbol-z-order":new $t(ci.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new $t(ci.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new $t(ci.layout_symbol["icon-ignore-placement"]),"icon-optional":new $t(ci.layout_symbol["icon-optional"]),"icon-rotation-alignment":new $t(ci.layout_symbol["icon-rotation-alignment"]),"icon-size":new ei(ci.layout_symbol["icon-size"]),"icon-text-fit":new $t(ci.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new $t(ci.layout_symbol["icon-text-fit-padding"]),"icon-image":new ei(ci.layout_symbol["icon-image"]),"icon-rotate":new ei(ci.layout_symbol["icon-rotate"]),"icon-padding":new $t(ci.layout_symbol["icon-padding"]),"icon-keep-upright":new $t(ci.layout_symbol["icon-keep-upright"]),"icon-offset":new ei(ci.layout_symbol["icon-offset"]),"icon-anchor":new ei(ci.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new $t(ci.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new $t(ci.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new $t(ci.layout_symbol["text-rotation-alignment"]),"text-field":new ei(ci.layout_symbol["text-field"]),"text-font":new ei(ci.layout_symbol["text-font"]),"text-size":new ei(ci.layout_symbol["text-size"]),"text-max-width":new ei(ci.layout_symbol["text-max-width"]),"text-line-height":new ei(ci.layout_symbol["text-line-height"]),"text-letter-spacing":new ei(ci.layout_symbol["text-letter-spacing"]),"text-justify":new ei(ci.layout_symbol["text-justify"]),"text-radial-offset":new ei(ci.layout_symbol["text-radial-offset"]),"text-variable-anchor":new $t(ci.layout_symbol["text-variable-anchor"]),"text-anchor":new ei(ci.layout_symbol["text-anchor"]),"text-max-angle":new $t(ci.layout_symbol["text-max-angle"]),"text-writing-mode":new $t(ci.layout_symbol["text-writing-mode"]),"text-rotate":new ei(ci.layout_symbol["text-rotate"]),"text-padding":new $t(ci.layout_symbol["text-padding"]),"text-keep-upright":new $t(ci.layout_symbol["text-keep-upright"]),"text-transform":new ei(ci.layout_symbol["text-transform"]),"text-offset":new ei(ci.layout_symbol["text-offset"]),"text-allow-overlap":new $t(ci.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new $t(ci.layout_symbol["text-ignore-placement"]),"text-optional":new $t(ci.layout_symbol["text-optional"])});var s1={paint:new pn({"icon-opacity":new ei(ci.paint_symbol["icon-opacity"]),"icon-color":new ei(ci.paint_symbol["icon-color"]),"icon-halo-color":new ei(ci.paint_symbol["icon-halo-color"]),"icon-halo-width":new ei(ci.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ei(ci.paint_symbol["icon-halo-blur"]),"icon-translate":new $t(ci.paint_symbol["icon-translate"]),"icon-translate-anchor":new $t(ci.paint_symbol["icon-translate-anchor"]),"text-opacity":new ei(ci.paint_symbol["text-opacity"]),"text-color":new ei(ci.paint_symbol["text-color"],{runtimeType:xo,getOverride:r=>r.textColor,hasOverride:r=>!!r.textColor}),"text-halo-color":new ei(ci.paint_symbol["text-halo-color"]),"text-halo-width":new ei(ci.paint_symbol["text-halo-width"]),"text-halo-blur":new ei(ci.paint_symbol["text-halo-blur"]),"text-translate":new $t(ci.paint_symbol["text-translate"]),"text-translate-anchor":new $t(ci.paint_symbol["text-translate-anchor"])}),layout:c2};class Ay{constructor(i){this.type=i.property.overrides?i.property.overrides.runtimeType:Nr,this.defaultValue=i}evaluate(i){if(i.formattedSection){const o=this.defaultValue.property.overrides;if(o&&o.hasOverride(i.formattedSection))return o.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Yi(Ay,"FormatSectionOverride",{omit:["defaultValue"]});class J0 extends Ma{constructor(i){super(i,s1)}recalculate(i,o){super.recalculate(i,o),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const h=this.layout.get("text-writing-mode");if(h){const p=[];for(const v of h)p.indexOf(v)<0&&p.push(v);this.layout._values["text-writing-mode"]=p}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(i,o,h,p){const v=this.layout.get(i).evaluate(o,{},h,p),T=this._unevaluatedLayout._values[i];return T.isDataDriven()||yt(T.value)||!v?v:function(B,X){return X.replace(/{([^{}]+)}/g,(ie,ue)=>ue in B?String(B[ue]):"")}(o.properties,v)}createBucket(i){return new cd(i)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const i of s1.paint.overridableProperties){if(!J0.hasPaintOverride(this.layout,i))continue;const o=this.paint.get(i),h=new Ay(o),p=new Ve(h,o.property.specification);let v=null;v=o.value.kind==="constant"||o.value.kind==="source"?new un("source",p):new rs("composite",p,o.value.zoomStops,o.value._interpolationType),this.paint._values[i]=new vi(o.property,v,o.parameters)}}_handleOverridablePaintPropertyUpdate(i,o,h){return!(!this.layout||o.isDataDriven()||h.isDataDriven())&&J0.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,o){const h=i.get("text-field"),p=s1.paint.properties[o];let v=!1;const T=B=>{for(const X of B)if(p.overrides&&p.overrides.hasOverride(X))return void(v=!0)};if(h.value.kind==="constant"&&h.value.value instanceof Dr)T(h.value.value.sections);else if(h.value.kind==="source"){const B=ie=>{v||(ie instanceof dl&&Tr(ie.value)===$o?T(ie.value.sections):ie instanceof bs?T(ie.sections):ie.eachChild(B))},X=h.value;X._styleExpression&&B(X._styleExpression.expression)}return v}getProgramConfiguration(i){return new sd(this,i)}}var h2={paint:new pn({"background-color":new $t(ci.paint_background["background-color"]),"background-pattern":new $t(ci.paint_background["background-pattern"]),"background-opacity":new $t(ci.paint_background["background-opacity"])})},d2={paint:new pn({"raster-opacity":new $t(ci.paint_raster["raster-opacity"]),"raster-hue-rotate":new $t(ci.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new $t(ci.paint_raster["raster-brightness-min"]),"raster-brightness-max":new $t(ci.paint_raster["raster-brightness-max"]),"raster-saturation":new $t(ci.paint_raster["raster-saturation"]),"raster-contrast":new $t(ci.paint_raster["raster-contrast"]),"raster-resampling":new $t(ci.paint_raster["raster-resampling"]),"raster-fade-duration":new $t(ci.paint_raster["raster-fade-duration"])})};class u2 extends Ma{constructor(i){super(i,{}),this.implementation=i}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(i){this.implementation.onAdd&&this.implementation.onAdd(i,i.painter.context.gl)}onRemove(i){this.implementation.onRemove&&this.implementation.onRemove(i,i.painter.context.gl)}}var p2={paint:new pn({"sky-type":new $t(ci.paint_sky["sky-type"]),"sky-atmosphere-sun":new $t(ci.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new $t(ci.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new $t(ci.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new $t(ci.paint_sky["sky-gradient-radius"]),"sky-gradient":new on(ci.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new $t(ci.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new $t(ci.paint_sky["sky-atmosphere-color"]),"sky-opacity":new $t(ci.paint_sky["sky-opacity"])})};function r1(r,i,o){const h=[0,0,1],p=ug([]);return A_(p,p,o?-N(r)+Math.PI:N(r)),M_(p,p,-N(i)),T_(h,h,p),ma(h,h)}const f2={circle:class extends Ma{constructor(r){super(r,jx)}createBucket(r){return new Du(r)}queryRadius(r){const i=r;return Iu("circle-radius",this,i)+Iu("circle-stroke-width",this,i)+y0(this.paint.get("circle-translate"))}queryIntersectsFeature(r,i,o,h,p,v,T,B){const X=fa(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),ie=this.paint.get("circle-radius").evaluate(i,o)+this.paint.get("circle-stroke-width").evaluate(i,o);return k_(r,h,v,T,B,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",X,ie)}getProgramIds(){return["circle"]}getProgramConfiguration(r){return new sd(this,r)}},heatmap:class extends Ma{createBucket(r){return new D_(r)}constructor(r){super(r,Wx),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){r==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Yp({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(r){return Iu("heatmap-radius",this,r)}queryIntersectsFeature(r,i,o,h,p,v,T,B){const X=this.paint.get("heatmap-radius").evaluate(i,o);return k_(r,h,v,T,B,!0,!0,new G(0,0),X)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(r){return new sd(this,r)}},hillshade:class extends Ma{constructor(r){super(r,Yx)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends Ma{constructor(r){super(r,lb)}getProgramIds(){const r=this.paint.get("fill-pattern"),i=r&&r.constantOr(1),o=[i?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&o.push(i&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),o}getProgramConfiguration(r){return new sd(this,r)}recalculate(r,i){super.recalculate(r,i);const o=this.paint._values["fill-outline-color"];o.value.kind==="constant"&&o.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(r){return new E0(r)}queryRadius(){return y0(this.paint.get("fill-translate"))}queryIntersectsFeature(r,i,o,h,p,v){return!r.queryGeometry.isAboveHorizon&&x_(eh(r.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),h)}isTileClipped(){return!0}},"fill-extrusion":class extends Ma{constructor(r){super(r,Y_)}createBucket(r){return new ef(r)}queryRadius(){return y0(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(r){return new sd(this,r)}queryIntersectsFeature(r,i,o,h,p,v,T,B,X){const ie=fa(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),ue=this.paint.get("fill-extrusion-height").evaluate(i,o),be=this.paint.get("fill-extrusion-base").evaluate(i,o),Me=[0,0],Ie=B&&v.elevation,Be=v.elevation?v.elevation.exaggeration():1,He=r.tile.getBucket(this);if(Ie&&He instanceof ef){const xt=He.centroidVertexArray,kt=X+1;kt<xt.length&&(Me[0]=xt.geta_centroid_pos0(kt),Me[1]=xt.geta_centroid_pos1(kt))}if(Me[0]===0&&Me[1]===1)return!1;v.projection.name==="globe"&&(h=Ag([h],[new G(0,0),new G(wn,wn)],r.tileID.canonical).map(xt=>xt.polygon).flat());const tt=Ie?B:null,[gt,Ct]=function(xt,kt,Mt,Jt,Kt,fi,Ri,si,yi,xi,Ai){return xt.projection.name==="globe"?function(Bi,oi,Hi,Cn,Ki,hn,Wi,Dn,cs,os,ns){const In=[],Vs=[],$n=Bi.projection.upVectorScale(ns,Bi.center.lat,Bi.worldSize).metersToTile,hs=[0,0,0,1],Qs=[0,0,0,1],mr=(gr,br,Kr,Xo)=>{gr[0]=br,gr[1]=Kr,gr[2]=Xo,gr[3]=1},hr=Mg();Hi>0&&(Hi+=hr),Cn+=hr;for(const gr of oi){const br=[],Kr=[];for(const Xo of gr){const $s=Xo.x+Ki.x,yo=Xo.y+Ki.y,uo=Bi.projection.projectTilePoint($s,yo,ns),Ds=Bi.projection.upVector(ns,Xo.x,Xo.y);let Fr=Hi,ko=Cn;if(Wi){const er=kg($s,yo,Hi,Cn,Wi,Dn,cs,os);Fr+=er.base,ko+=er.top}Hi!==0?mr(hs,uo.x+Ds[0]*$n*Fr,uo.y+Ds[1]*$n*Fr,uo.z+Ds[2]*$n*Fr):mr(hs,uo.x,uo.y,uo.z),mr(Qs,uo.x+Ds[0]*$n*ko,uo.y+Ds[1]*$n*ko,uo.z+Ds[2]*$n*ko),Ur(hs,hs,hn),Ur(Qs,Qs,hn),br.push(new Uu(hs[0],hs[1],hs[2])),Kr.push(new Uu(Qs[0],Qs[1],Qs[2]))}In.push(br),Vs.push(Kr)}return[In,Vs]}(xt,kt,Mt,Jt,Kt,fi,Ri,si,yi,xi,Ai):Ri?function(Bi,oi,Hi,Cn,Ki,hn,Wi,Dn,cs){const os=[],ns=[],In=[0,0,0,1];for(const Vs of Bi){const $n=[],hs=[];for(const Qs of Vs){const mr=Qs.x+Cn.x,hr=Qs.y+Cn.y,gr=kg(mr,hr,oi,Hi,hn,Wi,Dn,cs);In[0]=mr,In[1]=hr,In[2]=gr.base,In[3]=1,rd(In,In,Ki),In[3]=Math.max(In[3],1e-5);const br=new Uu(In[0]/In[3],In[1]/In[3],In[2]/In[3]);In[0]=mr,In[1]=hr,In[2]=gr.top,In[3]=1,rd(In,In,Ki),In[3]=Math.max(In[3],1e-5);const Kr=new Uu(In[0]/In[3],In[1]/In[3],In[2]/In[3]);$n.push(br),hs.push(Kr)}os.push($n),ns.push(hs)}return[os,ns]}(kt,Mt,Jt,Kt,fi,Ri,si,yi,xi):function(Bi,oi,Hi,Cn,Ki){const hn=[],Wi=[],Dn=Ki[8]*oi,cs=Ki[9]*oi,os=Ki[10]*oi,ns=Ki[11]*oi,In=Ki[8]*Hi,Vs=Ki[9]*Hi,$n=Ki[10]*Hi,hs=Ki[11]*Hi;for(const Qs of Bi){const mr=[],hr=[];for(const gr of Qs){const br=gr.x+Cn.x,Kr=gr.y+Cn.y,Xo=Ki[0]*br+Ki[4]*Kr+Ki[12],$s=Ki[1]*br+Ki[5]*Kr+Ki[13],yo=Ki[2]*br+Ki[6]*Kr+Ki[14],uo=Ki[3]*br+Ki[7]*Kr+Ki[15],Ds=Xo+Dn,Fr=$s+cs,ko=yo+os,er=Math.max(uo+ns,1e-5),so=Xo+In,Pa=$s+Vs,Zo=yo+$n,Ko=Math.max(uo+hs,1e-5);mr.push(new Uu(Ds/er,Fr/er,ko/er)),hr.push(new Uu(so/Ko,Pa/Ko,Zo/Ko))}hn.push(mr),Wi.push(hr)}return[hn,Wi]}(kt,Mt,Jt,Kt,fi)}(v,h,be,ue,ie,T,tt,Me,Be,v.center.lat,r.tileID.canonical),mt=r.queryGeometry;return function(xt,kt,Mt){let Jt=1/0;x_(Mt,kt)&&(Jt=L0(Mt,kt[0]));for(let Kt=0;Kt<kt.length;Kt++){const fi=kt[Kt],Ri=xt[Kt];for(let si=0;si<fi.length-1;si++){const yi=fi[si],xi=[yi,fi[si+1],Ri[si+1],Ri[si],yi];g0(Mt,xi)&&(Jt=Math.min(Jt,L0(Mt,xi)))}}return Jt!==1/0&&Jt}(gt,Ct,mt.isPointQuery()?mt.screenBounds:mt.screenGeometry)}},line:class extends Ma{constructor(r){super(r,Z_),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(r){if(r==="line-gradient"){const i=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=i._styleExpression&&i._styleExpression.expression instanceof wo,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(r,i){super.recalculate(r,i),this.paint._values["line-floorwidth"]=K_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,r)}createBucket(r){return new O0(r)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(r){return new sd(this,r)}queryRadius(r){const i=r,o=J_(Iu("line-width",this,i),Iu("line-gap-width",this,i)),h=Iu("line-offset",this,i);return o/2+Math.abs(h)+y0(this.paint.get("line-translate"))}queryIntersectsFeature(r,i,o,h,p,v){if(r.queryGeometry.isAboveHorizon)return!1;const T=eh(r.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),B=r.pixelToTileUnitsFactor/2*J_(this.paint.get("line-width").evaluate(i,o),this.paint.get("line-gap-width").evaluate(i,o)),X=this.paint.get("line-offset").evaluate(i,o);return X&&(h=function(ie,ue){const be=[],Me=new G(0,0);for(let Ie=0;Ie<ie.length;Ie++){const Be=ie[Ie],He=[];for(let tt=0;tt<Be.length;tt++){const gt=Be[tt-1],Ct=Be[tt],mt=Be[tt+1],xt=tt===0?Me:Ct.sub(gt)._unit()._perp(),kt=tt===Be.length-1?Me:mt.sub(Ct)._unit()._perp(),Mt=xt._add(kt)._unit();Mt._mult(1/(Mt.x*kt.x+Mt.y*kt.y)),He.push(Mt._mult(ue)._add(Ct))}be.push(He)}return be}(h,X*r.pixelToTileUnitsFactor)),function(ie,ue,be){for(let Me=0;Me<ue.length;Me++){const Ie=ue[Me];if(ie.length>=3){for(let Be=0;Be<Ie.length;Be++)if(zd(ie,Ie[Be]))return!0}if(tg(ie,Ie,be))return!0}return!1}(T,h,B)}isTileClipped(){return!0}},symbol:J0,background:class extends Ma{constructor(r){super(r,h2)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Ma{constructor(r){super(r,d2)}getProgramIds(){return["raster"]}},sky:class extends Ma{constructor(r){super(r,p2),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){r==="sky-gradient"?this._updateColorRamp():r!=="sky-atmosphere-sun"&&r!=="sky-atmosphere-halo-color"&&r!=="sky-atmosphere-color"&&r!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Yp({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(r){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const i=r.style.light.properties.get("position");return this._lightPosition.azimuthal!==i.azimuthal||this._lightPosition.polar!==i.polar}return!1}getCenter(r,i){if(this.paint.get("sky-type")==="atmosphere"){const h=this.paint.get("sky-atmosphere-sun"),p=!h,v=r.style.light,T=v.properties.get("position");return p&&v.properties.get("anchor")==="viewport"&&ae("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),p?r1(T.azimuthal,90-T.polar,i):r1(h[0],90-h[1],i)}const o=this.paint.get("sky-gradient-center");return r1(o[0],90-o[1],i)}is3D(){return!1}isSky(){return!0}markSkyboxValid(r){this._skyboxInvalidated=!1,this._lightPosition=r.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const r=this.paint.get("sky-type");return r==="atmosphere"?["skyboxCapture","skybox"]:r==="gradient"?["skyboxGradient"]:null}}};class mf{constructor(i,o,h,p){this.context=i,this.format=h,this.texture=i.gl.createTexture(),this.update(o,p)}update(i,o,h){const{width:p,height:v}=i,{context:T}=this,{gl:B}=T,{HTMLImageElement:X,HTMLCanvasElement:ie,HTMLVideoElement:ue,ImageData:be,ImageBitmap:Me}=S;if(B.bindTexture(B.TEXTURE_2D,this.texture),T.pixelStoreUnpackFlipY.set(!1),T.pixelStoreUnpack.set(1),T.pixelStoreUnpackPremultiplyAlpha.set(this.format===B.RGBA&&(!o||o.premultiply!==!1)),h||this.size&&this.size[0]===p&&this.size[1]===v){const{x:Ie,y:Be}=h||{x:0,y:0};i instanceof X||i instanceof ie||i instanceof ue||i instanceof be||Me&&i instanceof Me?B.texSubImage2D(B.TEXTURE_2D,0,Ie,Be,B.RGBA,B.UNSIGNED_BYTE,i):B.texSubImage2D(B.TEXTURE_2D,0,Ie,Be,p,v,B.RGBA,B.UNSIGNED_BYTE,i.data)}else this.size=[p,v],i instanceof X||i instanceof ie||i instanceof ue||i instanceof be||Me&&i instanceof Me?B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,B.UNSIGNED_BYTE,i):B.texImage2D(B.TEXTURE_2D,0,this.format,p,v,0,this.format,B.UNSIGNED_BYTE,i.data);this.useMipmap=!!(o&&o.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&B.generateMipmap(B.TEXTURE_2D)}bind(i,o){const{context:h}=this,{gl:p}=h;p.bindTexture(p.TEXTURE_2D,this.texture),i!==this.filter&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,i),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,this.useMipmap?i===p.NEAREST?p.NEAREST_MIPMAP_NEAREST:p.LINEAR_MIPMAP_NEAREST:i),this.filter=i),o!==this.wrap&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,o),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,o),this.wrap=o)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}class _{constructor(i){this._callback=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class A{constructor(){this.tasks={},this.taskQueue=[],ce(["process"],this),this.invoker=new _(this.process),this.nextId=0}add(i,o){const h=this.nextId++,p=function({type:v,isSymbolTile:T,zoom:B}){return B=B||0,v==="message"?0:v!=="maybePrepare"||T?v!=="parseTile"||T?v==="parseTile"&&T?300-B:v==="maybePrepare"&&T?400-B:500:200-B:100-B}(o);if(p===0){Re();try{i()}finally{}return{cancel:()=>{}}}return this.tasks[h]={fn:i,metadata:o,priority:p,id:h},this.taskQueue.push(h),this.invoker.trigger(),{cancel:()=>{delete this.tasks[h]}}}process(){Re();try{if(this.taskQueue=this.taskQueue.filter(h=>!!this.tasks[h]),!this.taskQueue.length)return;const i=this.pick();if(i===null)return;const o=this.tasks[i];if(delete this.tasks[i],this.taskQueue.length&&this.invoker.trigger(),!o)return;o.fn()}finally{}}pick(){let i=null,o=1/0;for(let p=0;p<this.taskQueue.length;p++){const v=this.tasks[this.taskQueue[p]];v.priority<o&&(o=v.priority,i=p)}if(i===null)return null;const h=this.taskQueue[i];return this.taskQueue.splice(i,1),h}remove(){this.invoker.remove()}}class re{constructor(i){this._stringToNumber={},this._numberToString=[];for(let o=0;o<i.length;o++){const h=i[o];this._stringToNumber[h]=o,this._numberToString[o]=h}}encode(i){return this._stringToNumber[i]}decode(i){return this._numberToString[i]}}const Pe=["tile","layer","source","sourceLayer","state"];class Ye{constructor(i,o,h,p,v){this.type="Feature",this._vectorTileFeature=i,this._z=o,this._x=h,this._y=p,this.properties=i.properties,this.id=v}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(i.id=this.id);for(const o of Pe)this[o]!==void 0&&(i[o]=this[o]);return i}}const ot=32,Tt=33,Rt=new Uint16Array(8184);for(let r=0;r<2046;r++){let i=r+2,o=0,h=0,p=0,v=0,T=0,B=0;for(1&i?p=v=T=ot:o=h=B=ot;(i>>=1)>1;){const ie=o+p>>1,ue=h+v>>1;1&i?(p=o,v=h,o=T,h=B):(o=p,h=v,p=T,v=B),T=ie,B=ue}const X=4*r;Rt[X+0]=o,Rt[X+1]=h,Rt[X+2]=p,Rt[X+3]=v}const Wt=new Uint16Array(2178),Ti=new Uint8Array(1089),Pi=new Uint16Array(1089);function Fi(r){return r===0?-.03125:r===32?.03125:0}var ln=Ji([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const En={type:2,extent:wn,loadGeometry:()=>[[new G(0,0),new G(8193,0),new G(8193,8193),new G(0,8193),new G(0,0)]]};class Vn{constructor(i,o,h,p,v){this.tileID=i,this.uid=ge(),this.uses=0,this.tileSize=o,this.tileZoom=h,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=v,this.expiredRequestCount=0,this.state="loading",p&&p.transform&&(this.projection=p.transform.projection)}registerFadeDuration(i){const o=i+this.timeAdded;o<cn.now()||this.fadeEndTime&&o<this.fadeEndTime||(this.fadeEndTime=o)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=qd(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(i,o,h){if(this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(p,v){const T={};if(!v)return T;for(const B of p){const X=B.layerIds.map(ie=>v.getLayer(ie)).filter(Boolean);if(X.length!==0){B.layers=X,B.stateDependentLayerIds&&(B.stateDependentLayers=B.stateDependentLayerIds.map(ie=>X.filter(ue=>ue.id===ie)[0]));for(const ie of X)T[ie.id]=B}}return T}(i.buckets,o.style),this.hasSymbolBuckets=!1;for(const p in this.buckets){const v=this.buckets[p];if(v instanceof cd){if(this.hasSymbolBuckets=!0,!h)break;v.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const p in this.buckets){const v=this.buckets[p];if(v instanceof cd&&v.hasRTLText){this.hasRTLText=!0,Zt.isLoading()||Zt.isLoaded()||zt()!=="deferred"||Qt();break}}this.queryPadding=0;for(const p in this.buckets){const v=this.buckets[p];this.queryPadding=Math.max(this.queryPadding,o.style.getLayer(p).queryRadius(v))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage),i.lineAtlas&&(this.lineAtlas=i.lineAtlas)}else this.collisionBoxArray=new Um}unloadVectorData(){if(this.hasData()){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(i){return this.buckets[i.id]}upload(i){for(const h in this.buckets){const p=this.buckets[h];p.uploadPending()&&p.upload(i)}const o=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new mf(i,this.imageAtlas.image,o.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new mf(i,this.glyphAtlasImage,o.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new mf(i,this.lineAtlas.image,o.ALPHA),this.lineAtlas.uploaded=!0)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,o,h,p,v,T,B,X){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:p,pixelPosMatrix:B,transform:T,params:v,tileTransform:this.tileTransform},i,o,h):{}}querySourceFeatures(i,o){const h=this.latestFeatureIndex;if(!h||!h.rawTileData)return;const p=h.loadVTLayers(),v=o?o.sourceLayer:"",T=p._geojsonTileLayer||p[v];if(!T)return;const B=xr(o&&o.filter),{z:X,x:ie,y:ue}=this.tileID.canonical,be={z:X,x:ie,y:ue};for(let Me=0;Me<T.length;Me++){const Ie=T.feature(Me);if(B.needGeometry){const tt=Qc(Ie,!0);if(!B.filter(new Gt(this.tileID.overscaledZ),tt,this.tileID.canonical))continue}else if(!B.filter(new Gt(this.tileID.overscaledZ),Ie))continue;const Be=h.getId(Ie,v),He=new Ye(Ie,X,ie,ue,Be);He.tile=be,i.push(He)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const o=this.expirationTime;if(i.cacheControl){const h=Le(i.cacheControl);h["max-age"]&&(this.expirationTime=Date.now()+1e3*h["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const h=Date.now();let p=!1;if(this.expirationTime>h)p=!1;else if(o)if(this.expirationTime<o)p=!0;else{const v=this.expirationTime-o;v?this.expirationTime=h+Math.max(v,3e4):p=!0}else p=!0;p?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,o){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0||!o)return;const h=this.latestFeatureIndex.loadVTLayers(),p=o.style.listImages();for(const v in this.buckets){if(!o.style.hasLayer(v))continue;const T=this.buckets[v],B=T.layers[0].sourceLayer||"_geojsonTileLayer",X=h[B],ie=i[B];if(!X||!ie||Object.keys(ie).length===0)continue;if(T.update(ie,X,p,this.imageAtlas&&this.imageAtlas.patternPositions||{}),T instanceof O0||T instanceof E0){const be=o.style._getSourceCache(T.layers[0].source);o._terrain&&o._terrain.enabled&&be&&T.programConfigurations.needsUpload&&o._terrain._clearRenderCacheForTile(be.id,this.tileID)}const ue=o&&o.style&&o.style.getLayer(v);ue&&(this.queryPadding=Math.max(this.queryPadding,ue.queryRadius(T)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<cn.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=cn.now()+i}setTexture(i,o){const h=o.context,p=h.gl;this.texture=this.texture||o.getTileTexture(i.width),this.texture?this.texture.update(i,{useMipmap:!0}):(this.texture=new mf(h,i,p.RGBA,{useMipmap:!0}),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE),h.extTextureFilterAnisotropic&&p.texParameterf(p.TEXTURE_2D,h.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,h.extTextureFilterAnisotropicMax))}setDependencies(i,o){const h={};for(const p of o)h[p]=!0;this.dependencies[i]=h}hasDependency(i,o){for(const h of i){const p=this.dependencies[h];if(p){for(const v of o)if(p[v])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(i,o){if(!o||o.name==="mercator"||this._tileDebugBuffer)return;const h=bc(En,this.tileID.canonical,this.tileTransform)[0],p=new Ms,v=new Sh;for(let T=0;T<h.length;T++){const{x:B,y:X}=h[T];p.emplaceBack(B,X),v.emplaceBack(T)}v.emplaceBack(0),this._tileDebugIndexBuffer=i.createIndexBuffer(v),this._tileDebugBuffer=i.createVertexBuffer(p,af.members),this._tileDebugSegments=Yr.simpleSegment(0,0,p.length,v.length)}_makeTileBoundsBuffers(i,o){if(this._tileBoundsBuffer||!o||o.name==="mercator")return;const h=bc(En,this.tileID.canonical,this.tileTransform)[0];let p,v;if(this.isRaster){const T=function(B,X){const ie=qd(B,X),ue=Math.pow(2,B.z);for(let tt=0;tt<Tt;tt++)for(let gt=0;gt<Tt;gt++){const Ct=Aa((B.x+(gt+Fi(gt))/ot)/ue),mt=No((B.y+(tt+Fi(tt))/ot)/ue),xt=X.project(Ct,mt),kt=tt*Tt+gt;Wt[2*kt+0]=Math.round((xt.x*ie.scale-ie.x)*wn),Wt[2*kt+1]=Math.round((xt.y*ie.scale-ie.y)*wn)}Ti.fill(0),Pi.fill(0);for(let tt=2045;tt>=0;tt--){const gt=4*tt,Ct=Rt[gt+0],mt=Rt[gt+1],xt=Rt[gt+2],kt=Rt[gt+3],Mt=Ct+xt>>1,Jt=mt+kt>>1,Kt=Mt+Jt-mt,fi=Jt+Ct-Mt,Ri=mt*Tt+Ct,si=kt*Tt+xt,yi=Jt*Tt+Mt,xi=Math.hypot((Wt[2*Ri+0]+Wt[2*si+0])/2-Wt[2*yi+0],(Wt[2*Ri+1]+Wt[2*si+1])/2-Wt[2*yi+1])>=16;if(Ti[yi]=Ti[yi]||(xi?1:0),tt<1022){const Ai=(mt+fi>>1)*Tt+(Ct+Kt>>1),Bi=(kt+fi>>1)*Tt+(xt+Kt>>1);Ti[yi]=Ti[yi]||Ti[Ai]||Ti[Bi]}}const be=new Rs,Me=new Mo;let Ie=0;function Be(tt,gt){const Ct=gt*Tt+tt;return Pi[Ct]===0&&(be.emplaceBack(Wt[2*Ct+0],Wt[2*Ct+1],tt*wn/ot,gt*wn/ot),Pi[Ct]=++Ie),Pi[Ct]-1}function He(tt,gt,Ct,mt,xt,kt){const Mt=tt+Ct>>1,Jt=gt+mt>>1;if(Math.abs(tt-xt)+Math.abs(gt-kt)>1&&Ti[Jt*Tt+Mt])He(xt,kt,tt,gt,Mt,Jt),He(Ct,mt,xt,kt,Mt,Jt);else{const Kt=Be(tt,gt),fi=Be(Ct,mt),Ri=Be(xt,kt);Me.emplaceBack(Kt,fi,Ri)}}return He(0,0,ot,ot,ot,0),He(ot,ot,0,0,0,ot),{vertices:be,indices:Me}}(this.tileID.canonical,o);p=T.vertices,v=T.indices}else{p=new Rs,v=new Mo;for(const{x:B,y:X}of h)p.emplaceBack(B,X,0,0);const T=qp.exports(p.int16,void 0,4);for(let B=0;B<T.length;B+=3)v.emplaceBack(T[B],T[B+1],T[B+2])}this._tileBoundsBuffer=i.createVertexBuffer(p,ln.members),this._tileBoundsIndexBuffer=i.createIndexBuffer(v),this._tileBoundsSegments=Yr.simpleSegment(0,0,p.length,v.length)}_makeGlobeTileDebugBuffers(i,o){const h=o.projection;if(!h||h.name!=="globe"||o.freezeTileCoverage)return;const p=this.tileID.canonical,v=hf(xy(p,o)),T=Yd(o.zoom);let B;T>0&&(B=v0(new Float64Array(16),o.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(i,p,o,v,B,T),this._makeGlobeTileDebugTextBuffer(i,p,o,v,B,T)}_globePoint(i,o,h,p,v,T,B){let X=cf(i,o,h);if(T){const ie=1<<h.z,ue=vc(p.center.lng),be=Cl(p.center.lat),Me=(h.x+.5)/ie-ue;let Ie=0;Me>.5?Ie=-1:Me<-.5&&(Ie=1);let Be=(i/wn+h.x)/ie+Ie,He=(o/wn+h.y)/ie;Be=(Be-ue)*p._pixelsPerMercatorPixel+ue,He=(He-be)*p._pixelsPerMercatorPixel+be;const tt=[Be*p.worldSize,He*p.worldSize,0];Ur(tt,tt,T),X=Wd(X,tt,B)}return Ur(X,X,v)}_makeGlobeTileDebugBorderBuffer(i,o,h,p,v,T){const B=new Ms,X=new Sh,ie=new js,ue=(Me,Ie,Be,He,tt)=>{const gt=(Be-Me)/(tt-1),Ct=(He-Ie)/(tt-1),mt=B.length;for(let xt=0;xt<tt;xt++){const kt=Me+xt*gt,Mt=Ie+xt*Ct;B.emplaceBack(kt,Mt);const Jt=this._globePoint(kt,Mt,o,h,p,v,T);ie.emplaceBack(Jt[0],Jt[1],Jt[2]),X.emplaceBack(mt+xt)}},be=wn;ue(0,0,be,0,16),ue(be,0,be,be,16),ue(be,be,0,be,16),ue(0,be,0,0,16),this._tileDebugIndexBuffer=i.createIndexBuffer(X),this._tileDebugBuffer=i.createVertexBuffer(B,af.members),this._globeTileDebugBorderBuffer=i.createVertexBuffer(ie,$g.members),this._tileDebugSegments=Yr.simpleSegment(0,0,B.length,X.length)}_makeGlobeTileDebugTextBuffer(i,o,h,p,v,T){const B=new Ms,X=new Mo,ie=new js,ue=25;X.reserve(32),B.reserve(ue),ie.reserve(ue);const be=(Me,Ie)=>ue*Me+Ie;for(let Me=0;Me<ue;Me++){const Ie=2048*Me;for(let Be=0;Be<ue;Be++){const He=2048*Be;B.emplaceBack(He,Ie);const tt=this._globePoint(He,Ie,o,h,p,v,T);ie.emplaceBack(tt[0],tt[1],tt[2])}}for(let Me=0;Me<4;Me++)for(let Ie=0;Ie<4;Ie++){const Be=be(Me,Ie),He=be(Me,Ie+1),tt=be(Me+1,Ie),gt=be(Me+1,Ie+1);X.emplaceBack(Be,He,tt),X.emplaceBack(tt,He,gt)}this._tileDebugTextIndexBuffer=i.createIndexBuffer(X),this._tileDebugTextBuffer=i.createVertexBuffer(B,af.members),this._globeTileDebugTextBuffer=i.createVertexBuffer(ie,$g.members),this._tileDebugTextSegments=Yr.simpleSegment(0,0,ue,32)}}class fs{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,o,h){const p=String(o);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][p]=this.stateChanges[i][p]||{},K(this.stateChanges[i][p],h),this.deletedStates[i]===null){this.deletedStates[i]={};for(const v in this.state[i])v!==p&&(this.deletedStates[i][v]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][p]===null){this.deletedStates[i][p]={};for(const v in this.state[i][p])h[v]||(this.deletedStates[i][p][v]=null)}else for(const v in h)this.deletedStates[i]&&this.deletedStates[i][p]&&this.deletedStates[i][p][v]===null&&delete this.deletedStates[i][p][v]}removeFeatureState(i,o,h){if(this.deletedStates[i]===null)return;const p=String(o);if(this.deletedStates[i]=this.deletedStates[i]||{},h&&o!==void 0)this.deletedStates[i][p]!==null&&(this.deletedStates[i][p]=this.deletedStates[i][p]||{},this.deletedStates[i][p][h]=null);else if(o!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][p])for(h in this.deletedStates[i][p]={},this.stateChanges[i][p])this.deletedStates[i][p][h]=null;else this.deletedStates[i][p]=null;else this.deletedStates[i]=null}getState(i,o){const h=String(o),p=K({},(this.state[i]||{})[h],(this.stateChanges[i]||{})[h]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const v=this.deletedStates[i][o];if(v===null)return{};for(const T in v)delete p[T]}return p}initializeTileState(i,o){i.setFeatureState(this.state,o)}coalesceChanges(i,o){const h={};for(const p in this.stateChanges){this.state[p]=this.state[p]||{};const v={};for(const T in this.stateChanges[p])this.state[p][T]||(this.state[p][T]={}),K(this.state[p][T],this.stateChanges[p][T]),v[T]=this.state[p][T];h[p]=v}for(const p in this.deletedStates){this.state[p]=this.state[p]||{};const v={};if(this.deletedStates[p]===null)for(const T in this.state[p])v[T]={},this.state[p][T]={};else for(const T in this.deletedStates[p]){if(this.deletedStates[p][T]===null)this.state[p][T]={};else for(const B of Object.keys(this.deletedStates[p][T]))delete this.state[p][T][B];v[T]=this.state[p][T]}h[p]=h[p]||{},K(h[p],v)}if(this.stateChanges={},this.deletedStates={},Object.keys(h).length!==0)for(const p in i)i[p].setFeatureState(h,o)}}class Hn{constructor(i){this.size=i,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(i,o){const h=this.toIdx(i,o);return{min:this.minimums[h],max:this.maximums[h]}}isLeaf(i,o){return this.leaves[this.toIdx(i,o)]}toIdx(i,o){return o*this.size+i}}function Es(r,i,o,h){let p=0,v=Number.MAX_VALUE;for(let T=0;T<3;T++)if(Math.abs(h[T])<1e-15){if(o[T]<r[T]||o[T]>i[T])return null}else{const B=1/h[T];let X=(r[T]-o[T])*B,ie=(i[T]-o[T])*B;if(X>ie){const ue=X;X=ie,ie=ue}if(X>p&&(p=X),ie<v&&(v=ie),p>v)return null}return p}function Ps(r,i,o,h,p,v,T,B,X,ie,ue){const be=h-r,Me=p-i,Ie=v-o,Be=T-r,He=B-i,tt=X-o,gt=ue[1]*tt-ue[2]*He,Ct=ue[2]*Be-ue[0]*tt,mt=ue[0]*He-ue[1]*Be,xt=be*gt+Me*Ct+Ie*mt;if(Math.abs(xt)<1e-15)return null;const kt=1/xt,Mt=ie[0]-r,Jt=ie[1]-i,Kt=ie[2]-o,fi=(Mt*gt+Jt*Ct+Kt*mt)*kt;if(fi<0||fi>1)return null;const Ri=Jt*Ie-Kt*Me,si=Kt*be-Mt*Ie,yi=Mt*Me-Jt*be,xi=(ue[0]*Ri+ue[1]*si+ue[2]*yi)*kt;return xi<0||fi+xi>1?null:(Be*Ri+He*si+tt*yi)*kt}function Xa(r,i,o){return(r-i)/(o-i)}function ya(r,i,o,h,p,v,T,B,X){const ie=1<<o,ue=v-h,be=T-p,Me=(r+1)/ie*ue+h,Ie=(i+0)/ie*be+p,Be=(i+1)/ie*be+p;B[0]=(r+0)/ie*ue+h,B[1]=Ie,X[0]=Me,X[1]=Be}class Za{constructor(i){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=i,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const o=function(v){const T=Math.ceil(Math.log2(v.dim/8)),B=[];let X=Math.ceil(Math.pow(2,T));const ie=1/X,ue=(Ie,Be,He,tt,gt)=>{const Ct=tt?1:0,mt=(Ie+1)*He-Ct,xt=Be*He,kt=(Be+1)*He-Ct;gt[0]=Ie*He,gt[1]=xt,gt[2]=mt,gt[3]=kt};let be=new Hn(X);const Me=[];for(let Ie=0;Ie<X*X;Ie++){ue(Ie%X,Math.floor(Ie/X),ie,!1,Me);const Be=Uo(Me[0],Me[1],v),He=Uo(Me[2],Me[1],v),tt=Uo(Me[2],Me[3],v),gt=Uo(Me[0],Me[3],v);be.minimums.push(Math.min(Be,He,tt,gt)),be.maximums.push(Math.max(Be,He,tt,gt)),be.leaves.push(1)}for(B.push(be),X/=2;X>=1;X/=2){const Ie=B[B.length-1];be=new Hn(X);for(let Be=0;Be<X*X;Be++){ue(Be%X,Math.floor(Be/X),2,!0,Me);const He=Ie.getElevation(Me[0],Me[1]),tt=Ie.getElevation(Me[2],Me[1]),gt=Ie.getElevation(Me[2],Me[3]),Ct=Ie.getElevation(Me[0],Me[3]),mt=Ie.isLeaf(Me[0],Me[1]),xt=Ie.isLeaf(Me[2],Me[1]),kt=Ie.isLeaf(Me[2],Me[3]),Mt=Ie.isLeaf(Me[0],Me[3]),Jt=Math.min(He.min,tt.min,gt.min,Ct.min),Kt=Math.max(He.max,tt.max,gt.max,Ct.max),fi=mt&&xt&&kt&&Mt;be.maximums.push(Kt),be.minimums.push(Jt),be.leaves.push(Kt-Jt<=5&&fi?1:0)}B.push(be)}return B}(this.dem),h=o.length-1,p=o[h];this._addNode(p.minimums[0],p.maximums[0],p.leaves[0]),this._construct(o,0,0,h,0)}raycastRoot(i,o,h,p,v,T,B=1){return Es([i,o,-100],[h,p,this.maximums[0]*B],v,T)}raycast(i,o,h,p,v,T,B=1){if(!this.nodeCount)return null;const X=this.raycastRoot(i,o,h,p,v,T,B);if(X==null)return null;const ie=[],ue=[],be=[],Me=[],Ie=[{idx:0,t:X,nodex:0,nodey:0,depth:0}];for(;Ie.length>0;){const{idx:Be,t:He,nodex:tt,nodey:gt,depth:Ct}=Ie.pop();if(this.leaves[Be]){ya(tt,gt,Ct,i,o,h,p,be,Me);const xt=1<<Ct,kt=(tt+0)/xt,Mt=(tt+1)/xt,Jt=(gt+0)/xt,Kt=(gt+1)/xt,fi=Uo(kt,Jt,this.dem)*B,Ri=Uo(Mt,Jt,this.dem)*B,si=Uo(Mt,Kt,this.dem)*B,yi=Uo(kt,Kt,this.dem)*B,xi=Ps(be[0],be[1],fi,Me[0],be[1],Ri,Me[0],Me[1],si,v,T),Ai=Ps(Me[0],Me[1],si,be[0],Me[1],yi,be[0],be[1],fi,v,T),Bi=Math.min(xi!==null?xi:Number.MAX_VALUE,Ai!==null?Ai:Number.MAX_VALUE);if(Bi!==Number.MAX_VALUE)return Bi;{const oi=zu([],v,T,He);if(no(fi,Ri,yi,si,Xa(oi[0],be[0],Me[0]),Xa(oi[1],be[1],Me[1]))>=oi[2])return He}continue}let mt=0;for(let xt=0;xt<this._siblingOffset.length;xt++){ya((tt<<1)+this._siblingOffset[xt][0],(gt<<1)+this._siblingOffset[xt][1],Ct+1,i,o,h,p,be,Me),be[2]=-100,Me[2]=this.maximums[this.childOffsets[Be]+xt]*B;const kt=Es(be,Me,v,T);if(kt!=null){const Mt=kt;ie[xt]=Mt;let Jt=!1;for(let Kt=0;Kt<mt&&!Jt;Kt++)Mt>=ie[ue[Kt]]&&(ue.splice(Kt,0,xt),Jt=!0);Jt||(ue[mt]=xt),mt++}}for(let xt=0;xt<mt;xt++){const kt=ue[xt];Ie.push({idx:this.childOffsets[Be]+kt,t:ie[kt],nodex:(tt<<1)+this._siblingOffset[kt][0],nodey:(gt<<1)+this._siblingOffset[kt][1],depth:Ct+1})}}return null}_addNode(i,o,h){return this.minimums.push(i),this.maximums.push(o),this.leaves.push(h),this.childOffsets.push(0),this.nodeCount++}_construct(i,o,h,p,v){if(i[p].isLeaf(o,h)===1)return;this.childOffsets[v]||(this.childOffsets[v]=this.nodeCount);const T=p-1,B=i[T];let X=0,ie=0;for(let ue=0;ue<this._siblingOffset.length;ue++){const be=2*o+this._siblingOffset[ue][0],Me=2*h+this._siblingOffset[ue][1],Ie=B.getElevation(be,Me),Be=B.isLeaf(be,Me),He=this._addNode(Ie.min,Ie.max,Be);Be&&(X|=1<<ue),ie||(ie=He)}for(let ue=0;ue<this._siblingOffset.length;ue++)X&1<<ue||this._construct(i,2*o+this._siblingOffset[ue][0],2*h+this._siblingOffset[ue][1],T,ie+ue)}}function no(r,i,o,h,p,v){return Bn(Bn(r,o,v),Bn(i,h,v),p)}function Uo(r,i,o){const h=o.dim,p=g(r*h-.5,0,h-1),v=g(i*h-.5,0,h-1),T=Math.floor(p),B=Math.floor(v),X=Math.min(T+1,h-1),ie=Math.min(B+1,h-1);return no(o.get(T,B),o.get(X,B),o.get(T,ie),o.get(X,ie),p-T,v-B)}const rh={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class gf{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(i,o,h,p=!1,v=!1){if(this.uid=i,o.height!==o.width)throw new RangeError("DEM tiles must be square");if(h&&h!=="mapbox"&&h!=="terrarium")return ae(`"${h}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=o.height;const T=this.dim=o.height-2,B=new Uint32Array(o.data.buffer);if(this.pixels=new Uint8Array(o.data.buffer),this.encoding=h||"mapbox",this.borderReady=p,!p){for(let X=0;X<T;X++)B[this._idx(-1,X)]=B[this._idx(0,X)],B[this._idx(T,X)]=B[this._idx(T-1,X)],B[this._idx(X,-1)]=B[this._idx(X,0)],B[this._idx(X,T)]=B[this._idx(X,T-1)];B[this._idx(-1,-1)]=B[this._idx(0,0)],B[this._idx(T,-1)]=B[this._idx(T-1,0)],B[this._idx(-1,T)]=B[this._idx(0,T-1)],B[this._idx(T,T)]=B[this._idx(T-1,T-1)],v&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Za(this)}get(i,o,h=!1){h&&(i=g(i,-1,this.dim),o=g(o,-1,this.dim));const p=4*this._idx(i,o);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[p],this.pixels[p+1],this.pixels[p+2])}static getUnpackVector(i){return rh[i]}get unpackVector(){return rh[this.encoding]}_idx(i,o){if(i<-1||i>=this.dim+1||o<-1||o>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(o+1)*this.stride+(i+1)}_unpackMapbox(i,o,h){return(256*i*256+256*o+h)/10-1e4}_unpackTerrarium(i,o,h){return 256*i+o+h/256-32768}static pack(i,o){const h=[0,0,0,0],p=gf.getUnpackVector(o);let v=Math.floor((i+p[3])/p[2]);return h[2]=v%256,v=Math.floor(v/256),h[1]=v%256,v=Math.floor(v/256),h[0]=v,h}getPixels(){return new qa({width:this.stride,height:this.stride},this.pixels)}backfillBorder(i,o,h){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let p=o*this.dim,v=o*this.dim+this.dim,T=h*this.dim,B=h*this.dim+this.dim;switch(o){case-1:p=v-1;break;case 1:v=p+1}switch(h){case-1:T=B-1;break;case 1:B=T+1}const X=-o*this.dim,ie=-h*this.dim;for(let ue=T;ue<B;ue++)for(let be=p;be<v;be++){const Me=4*this._idx(be,ue),Ie=4*this._idx(be+X,ue+ie);this.pixels[Me+0]=i.pixels[Ie+0],this.pixels[Me+1]=i.pixels[Ie+1],this.pixels[Me+2]=i.pixels[Ie+2],this.pixels[Me+3]=i.pixels[Ie+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Yi(gf,"DEMData"),Yi(Za,"DemMinMaxQuadTree",{omit:["dem"]});class XA{constructor(i,o){this.max=i,this.onRemove=o,this.reset()}reset(){for(const i in this.data)for(const o of this.data[i])o.timeout&&clearTimeout(o.timeout),this.onRemove(o.value);return this.data={},this.order=[],this}add(i,o,h){const p=i.wrapped().key;this.data[p]===void 0&&(this.data[p]=[]);const v={value:o,timeout:void 0};if(h!==void 0&&(v.timeout=setTimeout(()=>{this.remove(i,v)},h)),this.data[p].push(v),this.order.push(p),this.order.length>this.max){const T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const o=this.data[i].shift();return o.timeout&&clearTimeout(o.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),o.value}getByKey(i){const o=this.data[i];return o?o[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,o){if(!this.has(i))return this;const h=i.wrapped().key,p=o===void 0?0:this.data[h].indexOf(o),v=this.data[h][p];return this.data[h].splice(p,1),v.timeout&&clearTimeout(v.timeout),this.data[h].length===0&&delete this.data[h],this.onRemove(v.value),this.order.splice(this.order.indexOf(h),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}filter(i){const o=[];for(const h in this.data)for(const p of this.data[h])i(p.value)||o.push(p);for(const h of o)this.remove(h.value.tileID,h)}}class Q0{constructor(i,o,h){this.func=i,this.mask=o,this.range=h}}Q0.ReadOnly=!1,Q0.ReadWrite=!0,Q0.disabled=new Q0(519,Q0.ReadOnly,[0,1]);const m2=7680;class g2{constructor(i,o,h,p,v,T){this.test=i,this.ref=o,this.mask=h,this.fail=p,this.depthFail=v,this.pass=T}}g2.disabled=new g2({func:519,mask:0},0,0,m2,m2,m2);class hd{constructor(i,o,h){this.blendFunction=i,this.blendColor=o,this.mask=h}}hd.Replace=[1,0],hd.disabled=new hd(hd.Replace,cr.transparent,[!1,!1,!1,!1]),hd.unblended=new hd(hd.Replace,cr.transparent,[!0,!0,!0,!0]),hd.alphaBlended=new hd([1,771],cr.transparent,[!0,!0,!0,!0]);const _2=1029,y2=2305;class Ih{constructor(i,o,h){this.enable=i,this.mode=o,this.frontFace=h}}Ih.disabled=new Ih(!1,_2,y2),Ih.backCCW=new Ih(!0,_2,y2),Ih.backCW=new Ih(!0,_2,2304),Ih.frontCW=new Ih(!0,1028,2304),Ih.frontCCW=new Ih(!0,1028,y2);class _f extends Vr{constructor(i,o,h){super(),this.id=i,this._onlySymbols=h,o.on("data",p=>{p.dataType==="source"&&p.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&p.dataType==="source"&&p.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),o.on("error",()=>{this._sourceErrored=!0}),this._source=o,this._tiles={},this._cache=new XA(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=o.minTileCacheSize,this._maxTileCacheSize=o.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new fs,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(i){this.map=i,this._minTileCacheSize=this._minTileCacheSize===void 0&&i?i._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&i?i._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const i in this._tiles){const o=this._tiles[i];if(o.state!=="loaded"&&o.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(i,o){return i.isSymbolTile=this._onlySymbols,this._source.loadTile(i,o)}_unloadTile(i){if(this._source.unloadTile)return this._source.unloadTile(i,()=>{})}_abortTile(i){if(this._source.abortTile)return this._source.abortTile(i,()=>{})}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const o in this._tiles){const h=this._tiles[o];h.upload(i),h.prepare(this.map.style.imageManager)}}getIds(){return ee(this._tiles).map(i=>i.tileID).sort(OS).map(i=>i.key)}getRenderableIds(i){const o=[];for(const h in this._tiles)this._isIdRenderable(+h,i)&&o.push(this._tiles[h]);return i?o.sort((h,p)=>{const v=h.tileID,T=p.tileID,B=new G(v.canonical.x,v.canonical.y)._rotate(this.transform.angle),X=new G(T.canonical.x,T.canonical.y)._rotate(this.transform.angle);return v.overscaledZ-T.overscaledZ||X.y-B.y||X.x-B.x}).map(h=>h.tileID.key):o.map(h=>h.tileID).sort(OS).map(h=>h.key)}hasRenderableParent(i){const o=this.findLoadedParent(i,0);return!!o&&this._isIdRenderable(o.tileID.key)}_isIdRenderable(i,o){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(o||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)this._tiles[i].state!=="errored"&&this._reloadTile(+i,"reloading")}}_reloadTile(i,o){const h=this._tiles[i];h&&(h.state!=="loading"&&(h.state=o),this._loadTile(h,this._tileLoaded.bind(this,h,i,o)))}_tileLoaded(i,o,h,p){if(p)if(i.state="errored",p.status!==404)this._source.fire(new la(p,{tile:i}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const v=this.map.painter.terrain;this.update(this.transform,v.getScaledDemTileSize(),!0),v.resetTileLookupCache(this.id)}else this.update(this.transform);else i.timeAdded=cn.now(),h==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(o,i),this._source.type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),this._source.fire(new aa("data",{dataType:"source",tile:i,coord:i.tileID,sourceCacheId:this.id}))}_backfillDEM(i){const o=this.getRenderableIds();for(let p=0;p<o.length;p++){const v=o[p];if(i.neighboringTiles&&i.neighboringTiles[v]){const T=this.getTileByID(v);h(i,T),h(T,i)}}function h(p,v){if(!p.dem||p.dem.borderReady)return;p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0;let T=v.tileID.canonical.x-p.tileID.canonical.x;const B=v.tileID.canonical.y-p.tileID.canonical.y,X=Math.pow(2,p.tileID.canonical.z),ie=v.tileID.key;T===0&&B===0||Math.abs(B)>1||(Math.abs(T)>1&&(Math.abs(T+X)===1?T+=X:Math.abs(T-X)===1&&(T-=X)),v.dem&&p.dem&&(p.dem.backfillBorder(v.dem,T,B),p.neighboringTiles&&p.neighboringTiles[ie]&&(p.neighboringTiles[ie].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,o,h,p){for(const v in this._tiles){let T=this._tiles[v];if(p[v]||!T.hasData()||T.tileID.overscaledZ<=o||T.tileID.overscaledZ>h)continue;let B=T.tileID;for(;T&&T.tileID.overscaledZ>o+1;){const ie=T.tileID.scaledTo(T.tileID.overscaledZ-1);T=this._tiles[ie.key],T&&T.hasData()&&(B=ie)}let X=B;for(;X.overscaledZ>o;)if(X=X.scaledTo(X.overscaledZ-1),i[X.key]){p[B.key]=B;break}}}findLoadedParent(i,o){if(i.key in this._loadedParentTiles){const h=this._loadedParentTiles[i.key];return h&&h.tileID.overscaledZ>=o?h:null}for(let h=i.overscaledZ-1;h>=o;h--){const p=i.scaledTo(h),v=this._getLoadedTile(p);if(v)return v}}_getLoadedTile(i){const o=this._tiles[i.key];return o&&o.hasData()?o:this._cache.getByKey(this._source.reparseOverscaled?i.wrapped().key:i.canonical.key)}updateCacheSize(i,o){o=o||this._source.tileSize;const h=Math.ceil(i.width/o)+1,p=Math.ceil(i.height/o)+1,v=Math.floor(h*p*5),T=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,v):v,B=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,T):T;this._cache.setMaxSize(B)}handleWrapJump(i){const o=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,o){const h={};for(const p in this._tiles){const v=this._tiles[p];v.tileID=v.tileID.unwrapTo(v.tileID.wrap+o),h[v.tileID.key]=v}this._tiles=h;for(const p in this._timers)clearTimeout(this._timers[p]),delete this._timers[p];for(const p in this._tiles)this._setTileReloadTimer(+p,this._tiles[p])}}update(i,o,h){if(this.transform=i,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!h)return;let p;this.updateCacheSize(i,o),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(B=>new Ao(B.canonical.z,B.wrap,B.canonical.z,B.canonical.x,B.canonical.y)):(p=i.coveringTiles({tileSize:o||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!h,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(p=p.filter(B=>this._source.hasTile(B)))):p=[];const v=this._updateRetainedTiles(p);if(RS(this._source.type)&&p.length!==0){const B={},X={},ie=Object.keys(v);for(const be of ie){const Me=v[be],Ie=this._tiles[be];if(!Ie||Ie.fadeEndTime&&Ie.fadeEndTime<=cn.now())continue;const Be=this.findLoadedParent(Me,Math.max(Me.overscaledZ-_f.maxOverzooming,this._source.minzoom));Be&&(this._addTile(Be.tileID),B[Be.tileID.key]=Be.tileID),X[be]=Me}const ue=p[p.length-1].overscaledZ;for(const be in this._tiles){const Me=this._tiles[be];if(v[be]||!Me.hasData())continue;let Ie=Me.tileID;for(;Ie.overscaledZ>ue;){Ie=Ie.scaledTo(Ie.overscaledZ-1);const Be=this._tiles[Ie.key];if(Be&&Be.hasData()&&X[Ie.key]){v[be]=Me.tileID;break}}}for(const be in B)v[be]||(this._coveredTiles[be]=!0,v[be]=B[be])}for(const B in v)this._tiles[B].clearFadeHold();const T=function(B,X){const ie=[];for(const ue in B)ue in X||ie.push(ue);return ie}(this._tiles,v);for(const B of T){const X=this._tiles[B];X.hasSymbolBuckets&&!X.holdingForFade()?X.setHoldDuration(this.map._fadeDuration):X.hasSymbolBuckets&&!X.symbolFadeFinished()||this._removeTile(+B)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(+i)}_updateRetainedTiles(i){const o={};if(i.length===0)return o;const h={},p=i.reduce((ie,ue)=>Math.min(ie,ue.overscaledZ),1/0),v=i[0].overscaledZ,T=Math.max(v-_f.maxOverzooming,this._source.minzoom),B=Math.max(v+_f.maxUnderzooming,this._source.minzoom),X={};for(const ie of i){const ue=this._addTile(ie);o[ie.key]=ie,ue.hasData()||p<this._source.maxzoom&&(X[ie.key]=ie)}this._retainLoadedChildren(X,p,B,o);for(const ie of i){let ue=this._tiles[ie.key];if(ue.hasData())continue;if(ie.canonical.z>=this._source.maxzoom){const Me=ie.children(this._source.maxzoom)[0],Ie=this.getTile(Me);if(Ie&&Ie.hasData()){o[Me.key]=Me;continue}}else{const Me=ie.children(this._source.maxzoom);if(o[Me[0].key]&&o[Me[1].key]&&o[Me[2].key]&&o[Me[3].key])continue}let be=ue.wasRequested();for(let Me=ie.overscaledZ-1;Me>=T;--Me){const Ie=ie.scaledTo(Me);if(h[Ie.key]||(h[Ie.key]=!0,ue=this.getTile(Ie),!ue&&be&&(ue=this._addTile(Ie)),ue&&(o[Ie.key]=Ie,be=ue.wasRequested(),ue.hasData())))break}}return o}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const o=[];let h,p=this._tiles[i].tileID;for(;p.overscaledZ>0;){if(p.key in this._loadedParentTiles){h=this._loadedParentTiles[p.key];break}o.push(p.key);const v=p.scaledTo(p.overscaledZ-1);if(h=this._getLoadedTile(v),h)break;p=v}for(const v of o)this._loadedParentTiles[v]=h}}_addTile(i){let o=this._tiles[i.key];if(o)return o;o=this._cache.getAndRemove(i),o&&(this._setTileReloadTimer(i.key,o),o.tileID=i,this._state.initializeTileState(o,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,o)));const h=!!o;if(!h){const p=this.map?this.map.painter:null;o=new Vn(i,this._source.tileSize*i.overscaleFactor(),this.transform.tileZoom,p,this._isRaster),this._loadTile(o,this._tileLoaded.bind(this,o,i.key,o.state))}return o?(o.uses++,this._tiles[i.key]=o,h||this._source.fire(new aa("dataloading",{tile:o,coord:o.tileID,dataType:"source"})),o):null}_setTileReloadTimer(i,o){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const h=o.getExpiryTimeout();h&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},h))}_removeTile(i){const o=this._tiles[i];o&&(o.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),o.uses>0||(o.hasData()&&o.state!=="reloading"?this._cache.add(o.tileID,o,o.getExpiryTimeout()):(o.aborted=!0,this._abortTile(o),this._unloadTile(o))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(+i);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(i,o,h){const p=[],v=this.transform;if(!v)return p;const T=v.projection.name==="globe",B=vc(v.center.lng);for(const X in this._tiles){const ie=this._tiles[X];if(h&&ie.clearQueryDebugViz(),ie.holdingForFade())continue;let ue;if(T){const be=ie.tileID.canonical;if(be.z===0){const Me=[Math.abs(g(B,...o1(be,-1))-B),Math.abs(g(B,...o1(be,1))-B)];ue=[0,2*Me.indexOf(Math.min(...Me))-1]}else{const Me=[Math.abs(g(B,...o1(be,-1))-B),Math.abs(g(B,...o1(be,0))-B),Math.abs(g(B,...o1(be,1))-B)];ue=[Me.indexOf(Math.min(...Me))-1]}}else ue=[0];for(const be of ue){const Me=i.containsTile(ie,v,o,be);Me&&p.push(Me)}}return p}getVisibleCoordinates(i){const o=this.getRenderableIds(i).map(h=>this._tiles[h].tileID);for(const h of o)h.projMatrix=this.transform.calculateProjMatrix(h.toUnwrapped());return o}hasTransition(){if(this._source.hasTransition())return!0;if(RS(this._source.type))for(const i in this._tiles){const o=this._tiles[i];if(o.fadeEndTime!==void 0&&o.fadeEndTime>=cn.now())return!0}return!1}setFeatureState(i,o,h){this._state.updateState(i=i||"_geojsonTileLayer",o,h)}removeFeatureState(i,o,h){this._state.removeFeatureState(i=i||"_geojsonTileLayer",o,h)}getFeatureState(i,o){return this._state.getState(i=i||"_geojsonTileLayer",o)}setDependencies(i,o,h){const p=this._tiles[i];p&&p.setDependencies(o,h)}reloadTilesForDependencies(i,o){for(const h in this._tiles)this._tiles[h].hasDependency(i,o)&&this._reloadTile(+h,"reloading");this._cache.filter(h=>!h.hasDependency(i,o))}_preloadTiles(i,o){const h=new Map,p=Array.isArray(i)?i:[i],v=this.map.painter.terrain,T=this.usedForTerrain&&v?v.getScaledDemTileSize():this._source.tileSize;for(const B of p){const X=B.coveringTiles({tileSize:T,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const ie of X)h.set(ie.key,ie);this.usedForTerrain&&B.updateElevation(!1)}Y(Array.from(h.values()),(B,X)=>{const ie=new Vn(B,this._source.tileSize*B.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(ie,ue=>{this._source.type==="raster-dem"&&ie.dem&&this._backfillDEM(ie),X(ue,ie)})},o)}}function OS(r,i){const o=Math.abs(2*r.wrap)-+(r.wrap<0),h=Math.abs(2*i.wrap)-+(i.wrap<0);return r.overscaledZ-i.overscaledZ||h-o||i.canonical.y-r.canonical.y||i.canonical.x-r.canonical.x}function RS(r){return r==="raster"||r==="image"||r==="video"||r==="custom"}function o1(r,i){const o=1<<r.z;return[r.x/o+i,(r.x+1)/o+i]}_f.maxOverzooming=10,_f.maxUnderzooming=3;class ky{constructor(i,o,h){this._demTile=i,this._dem=this._demTile.dem,this._scale=o,this._offset=h}static create(i,o,h){const p=h||i.findDEMTileFor(o);if(!p||!p.dem)return;const v=p.dem,T=p.tileID,B=1<<o.canonical.z-T.canonical.z;return new ky(p,p.tileSize/wn/B,[(o.canonical.x/B-T.canonical.x)*v.dim,(o.canonical.y/B-T.canonical.y)*v.dim])}tileCoordToPixel(i,o){const h=o*this._scale+this._offset[1],p=Math.floor(i*this._scale+this._offset[0]),v=Math.floor(h);return new G(p,v)}getElevationAt(i,o,h,p){const v=i*this._scale+this._offset[0],T=o*this._scale+this._offset[1],B=Math.floor(v),X=Math.floor(T),ie=this._dem;return p=!!p,h?Bn(Bn(ie.get(B,X,p),ie.get(B,X+1,p),T-X),Bn(ie.get(B+1,X,p),ie.get(B+1,X+1,p),T-X),v-B):ie.get(B,X,p)}getElevationAtPixel(i,o,h){return this._dem.get(i,o,!!h)}getMeterToDEM(i){return(1<<this._demTile.tileID.canonical.z)*Ml(1,i)*this._dem.stride}}class BS{constructor(i,o){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new ed(wn,16,0),this.featureIndexArray=new Th,this.promoteId=o}insert(i,o,h,p,v,T=0){const B=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(h,p,v,T);const X=this.grid;for(let ie=0;ie<o.length;ie++){const ue=o[ie],be=[1/0,1/0,-1/0,-1/0];for(let Me=0;Me<ue.length;Me++){const Ie=ue[Me];be[0]=Math.min(be[0],Ie.x),be[1]=Math.min(be[1],Ie.y),be[2]=Math.max(be[2],Ie.x),be[3]=Math.max(be[3],Ie.y)}be[0]<wn&&be[1]<wn&&be[2]>=0&&be[3]>=0&&X.insert(B,be[0],be[1],be[2],be[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Tg(new sf(this.rawTileData)).layers,this.sourceLayerCoder=new re(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const i in this.vtLayers)this.vtFeatures[i]=[]}return this.vtLayers}query(i,o,h,p){this.loadVTLayers();const v=i.params||{},T=xr(v.filter),B=i.tileResult,X=i.transform,ie=B.bufferedTilespaceBounds,ue=this.grid.query(ie.min.x,ie.min.y,ie.max.x,ie.max.y,(Be,He,tt,gt)=>sg(B.bufferedTilespaceGeometry,Be,He,tt,gt));ue.sort(ZA);let be=null;X.elevation&&ue.length>0&&(be=ky.create(X.elevation,this.tileID));const Me={};let Ie;for(let Be=0;Be<ue.length;Be++){const He=ue[Be];if(He===Ie)continue;Ie=He;const tt=this.featureIndexArray.get(He);let gt=null;this.loadMatchingFeature(Me,tt,T,v.layers,v.availableImages,o,h,p,(Ct,mt,xt,kt=0)=>(gt||(gt=bc(Ct,this.tileID.canonical,i.tileTransform)),mt.queryIntersectsFeature(B,Ct,xt,gt,this.z,i.transform,i.pixelPosMatrix,be,kt)))}return Me}loadMatchingFeature(i,o,h,p,v,T,B,X,ie){const{featureIndex:ue,bucketIndex:be,sourceLayerIndex:Me,layoutVertexArrayOffset:Ie}=o,Be=this.bucketLayerIDs[be];if(p&&!function(Ct,mt){for(let xt=0;xt<Ct.length;xt++)if(mt.indexOf(Ct[xt])>=0)return!0;return!1}(p,Be))return;const He=this.sourceLayerCoder.decode(Me),tt=this.vtLayers[He].feature(ue);if(h.needGeometry){const Ct=Qc(tt,!0);if(!h.filter(new Gt(this.tileID.overscaledZ),Ct,this.tileID.canonical))return}else if(!h.filter(new Gt(this.tileID.overscaledZ),tt))return;const gt=this.getId(tt,He);for(let Ct=0;Ct<Be.length;Ct++){const mt=Be[Ct];if(p&&p.indexOf(mt)<0)continue;const xt=T[mt];if(!xt)continue;let kt={};gt!==void 0&&X&&(kt=X.getState(xt.sourceLayer||"_geojsonTileLayer",gt));const Mt=K({},B[mt]);Mt.paint=zS(Mt.paint,xt.paint,tt,kt,v),Mt.layout=zS(Mt.layout,xt.layout,tt,kt,v);const Jt=!ie||ie(tt,xt,kt,Ie);if(!Jt)continue;const Kt=new Ye(tt,this.z,this.x,this.y,gt);Kt.layer=Mt;let fi=i[mt];fi===void 0&&(fi=i[mt]=[]),fi.push({featureIndex:ue,feature:Kt,intersectionZ:Jt})}}lookupSymbolFeatures(i,o,h,p,v,T,B,X){const ie={};this.loadVTLayers();const ue=xr(v);for(const be of i)this.loadMatchingFeature(ie,{bucketIndex:h,sourceLayerIndex:p,featureIndex:be,layoutVertexArrayOffset:0},ue,T,B,X,o);return ie}loadFeature(i){const{featureIndex:o,sourceLayerIndex:h}=i;this.loadVTLayers();const p=this.sourceLayerCoder.decode(h),v=this.vtFeatures[p];if(v[o])return v[o];const T=this.vtLayers[p].feature(o);return v[o]=T,T}hasLayer(i){for(const o of this.bucketLayerIDs)for(const h of o)if(i===h)return!0;return!1}getId(i,o){let h=i.id;if(this.promoteId){const p=typeof this.promoteId=="string"?this.promoteId:this.promoteId[o];p!=null&&(h=i.properties[p]),typeof h=="boolean"&&(h=Number(h))}return h}}function zS(r,i,o,h,p){return Ce(r,(v,T)=>{const B=i instanceof Li?i.get(T):null;return B&&B.evaluate?B.evaluate(o,h,p):B})}function ZA(r,i){return i-r}Yi(BS,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class FS{constructor(i,o){this.width=i,this.height=o,this.nextRow=0,this.image=new Ah({width:i,height:o}),this.positions={},this.uploaded=!1}getDash(i,o){const h=this.getKey(i,o);return this.positions[h]}trim(){const i=this.width,o=this.height=J(this.nextRow);this.image.resize({width:i,height:o})}getKey(i,o){return i.join(",")+o}getDashRanges(i,o,h){const p=[];let v=i.length%2==1?-i[i.length-1]*h:0,T=i[0]*h,B=!0;p.push({left:v,right:T,isDash:B,zeroLength:i[0]===0});let X=i[0];for(let ie=1;ie<i.length;ie++){B=!B;const ue=i[ie];v=X*h,X+=ue,T=X*h,p.push({left:v,right:T,isDash:B,zeroLength:ue===0})}return p}addRoundDash(i,o,h){const p=o/2;for(let v=-h;v<=h;v++){const T=this.width*(this.nextRow+h+v);let B=0,X=i[B];for(let ie=0;ie<this.width;ie++){ie/X.right>1&&(X=i[++B]);const ue=Math.abs(ie-X.left),be=Math.abs(ie-X.right),Me=Math.min(ue,be);let Ie;const Be=v/h*(p+1);if(X.isDash){const He=p-Math.abs(Be);Ie=Math.sqrt(Me*Me+He*He)}else Ie=p-Math.sqrt(Me*Me+Be*Be);this.image.data[T+ie]=Math.max(0,Math.min(255,Ie+128))}}}addRegularDash(i,o){for(let X=i.length-1;X>=0;--X){const ie=i[X],ue=i[X+1];ie.zeroLength?i.splice(X,1):ue&&ue.isDash===ie.isDash&&(ue.left=ie.left,i.splice(X,1))}const h=i[0],p=i[i.length-1];h.isDash===p.isDash&&(h.left=p.left-this.width,p.right=h.right+this.width);const v=this.width*this.nextRow;let T=0,B=i[T];for(let X=0;X<this.width;X++){X/B.right>1&&(B=i[++T]);const ie=Math.abs(X-B.left),ue=Math.abs(X-B.right),be=Math.min(ie,ue);this.image.data[v+X]=Math.max(0,Math.min(255,(B.isDash?be:-be)+o+128))}}addDash(i,o){const h=this.getKey(i,o);if(this.positions[h])return this.positions[h];const p=o==="round",v=p?7:0,T=2*v+1;if(this.nextRow+T>this.height)return ae("LineAtlas out of space"),null;i.length===0&&i.push(1);let B=0;for(let ue=0;ue<i.length;ue++)i[ue]<0&&(ae("Negative value is found in line dasharray, replacing values with 0"),i[ue]=0),B+=i[ue];if(B!==0){const ue=this.width/B,be=this.getDashRanges(i,this.width,ue);p?this.addRoundDash(be,ue,v):this.addRegularDash(be,o==="square"?.5*ue:0)}const X=this.nextRow+v;this.nextRow+=T;const ie={tl:[X,v],br:[B,0]};return this.positions[h]=ie,ie}}Yi(FS,"LineAtlas");class NS{constructor(i){const o={},h=[];for(const B in i){const X=i[B],ie=o[B]={};for(const ue in X.glyphs){const be=X.glyphs[+ue];if(!be||be.bitmap.width===0||be.bitmap.height===0)continue;const Me=be.metrics.localGlyph?2:1,Ie={x:0,y:0,w:be.bitmap.width+2*Me,h:be.bitmap.height+2*Me};h.push(Ie),ie[ue]=Ie}}const{w:p,h:v}=Rg(h),T=new Ah({width:p||1,height:v||1});for(const B in i){const X=i[B];for(const ie in X.glyphs){const ue=X.glyphs[+ie];if(!ue||ue.bitmap.width===0||ue.bitmap.height===0)continue;const be=o[B][ie],Me=ue.metrics.localGlyph?2:1;Ah.copy(ue.bitmap,T,{x:0,y:0},{x:be.x+Me,y:be.y+Me},ue.bitmap)}}this.image=T,this.positions=o}}Yi(NS,"GlyphAtlas");class KA{constructor(i){this.tileID=new Ao(i.tileID.overscaledZ,i.tileID.wrap,i.tileID.canonical.z,i.tileID.canonical.x,i.tileID.canonical.y),this.tileZoom=i.tileZoom,this.uid=i.uid,this.zoom=i.zoom,this.canonical=i.tileID.canonical,this.pixelRatio=i.pixelRatio,this.tileSize=i.tileSize,this.source=i.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=i.showCollisionBoxes,this.collectResourceTiming=!!i.collectResourceTiming,this.returnDependencies=!!i.returnDependencies,this.promoteId=i.promoteId,this.enableTerrain=!!i.enableTerrain,this.isSymbolTile=i.isSymbolTile,this.tileTransform=qd(i.tileID.canonical,i.projection),this.projection=i.projection}parse(i,o,h,p,v){this.status="parsing",this.data=i,this.collisionBoxArray=new Um;const T=new re(Object.keys(i.layers).sort()),B=new BS(this.tileID,this.promoteId);B.bucketLayerIDs=[];const X={},ie=new FS(256,256),ue={featureIndex:B,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:ie,availableImages:h},be=o.familiesBySource[this.source];for(const kt in be){const Mt=i.layers[kt];if(!Mt)continue;let Jt=!1,Kt=!1;for(const si of be[kt])si[0].type==="symbol"?Jt=!0:Kt=!0;if(this.isSymbolTile===!0&&!Jt||this.isSymbolTile===!1&&!Kt)continue;Mt.version===1&&ae(`Vector tile source "${this.source}" layer "${kt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const fi=T.encode(kt),Ri=[];for(let si=0;si<Mt.length;si++){const yi=Mt.feature(si),xi=B.getId(yi,kt);Ri.push({feature:yi,id:xi,index:si,sourceLayerIndex:fi})}for(const si of be[kt]){const yi=si[0];this.isSymbolTile!==void 0&&yi.type==="symbol"!==this.isSymbolTile||yi.minzoom&&this.zoom<Math.floor(yi.minzoom)||yi.maxzoom&&this.zoom>=yi.maxzoom||yi.visibility!=="none"&&(v2(si,this.zoom,h),(X[yi.id]=yi.createBucket({index:B.bucketLayerIDs.length,layers:si,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:fi,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:h})).populate(Ri,ue,this.tileID.canonical,this.tileTransform),B.bucketLayerIDs.push(si.map(xi=>xi.id)))}}let Me,Ie,Be,He;ie.trim();const tt={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},gt=Ce(ue.glyphDependencies,kt=>Object.keys(kt).map(Number));Object.keys(gt).length?p.send("getGlyphs",{uid:this.uid,stacks:gt},(kt,Mt)=>{Me||(Me=kt,Ie=Mt,xt.call(this))},void 0,!1,tt):Ie={};const Ct=Object.keys(ue.iconDependencies);Ct.length?p.send("getImages",{icons:Ct,source:this.source,tileID:this.tileID,type:"icons"},(kt,Mt)=>{Me||(Me=kt,Be=Mt,xt.call(this))},void 0,!1,tt):Be={};const mt=Object.keys(ue.patternDependencies);function xt(){if(Me)return v(Me);if(Ie&&Be&&He){const kt=new NS(Ie),Mt=new nh(Be,He);for(const Jt in X){const Kt=X[Jt];Kt instanceof cd?(v2(Kt.layers,this.zoom,h),Yb(Kt,Ie,kt.positions,Be,Mt.iconPositions,this.showCollisionBoxes,h,this.tileID.canonical,this.tileZoom,this.projection)):Kt.hasPattern&&(Kt instanceof O0||Kt instanceof E0||Kt instanceof ef)&&(v2(Kt.layers,this.zoom,h),Kt.addFeatures(ue,this.tileID.canonical,Mt.patternPositions,h,this.tileTransform))}this.status="done",v(null,{buckets:ee(X).filter(Jt=>!Jt.isEmpty()),featureIndex:B,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:kt.image,lineAtlas:ie,imageAtlas:Mt,glyphMap:this.returnDependencies?Ie:null,iconMap:this.returnDependencies?Be:null,glyphPositions:this.returnDependencies?kt.positions:null})}}mt.length?p.send("getImages",{icons:mt,source:this.source,tileID:this.tileID,type:"patterns"},(kt,Mt)=>{Me||(Me=kt,He=Mt,xt.call(this))},void 0,!1,tt):He={},xt.call(this)}}function v2(r,i,o){const h=new Gt(i);for(const p of r)p.recalculate(h,o)}class jS{constructor(i){this.entries={},this.scheduler=i}request(i,o,h,p){const v=this.entries[i]=this.entries[i]||{callbacks:[]};if(v.result){const[T,B]=v.result;return this.scheduler?this.scheduler.add(()=>{p(T,B)},o):p(T,B),()=>{}}return v.callbacks.push(p),v.cancel||(v.cancel=h((T,B)=>{v.result=[T,B];for(const X of v.callbacks)this.scheduler?this.scheduler.add(()=>{X(T,B)},o):X(T,B);setTimeout(()=>delete this.entries[i],3e3)})),()=>{v.result||(v.callbacks=v.callbacks.filter(T=>T!==p),v.callbacks.length||(v.cancel(),delete this.entries[i]))}}}function US(r,i,o){const h=JSON.stringify(r.request);return r.data&&(this.deduped.entries[h]={result:[null,r.data]}),this.deduped.request(h,{type:"parseTile",isSymbolTile:r.isSymbolTile,zoom:r.tileZoom},p=>{const v=Ei(r.request,(T,B,X,ie)=>{T?p(T):B&&p(null,{vectorTile:o?void 0:new Tg(new sf(B)),rawData:B,cacheControl:X,expires:ie})});return()=>{v.cancel(),p()}},i)}n.ARRAY_TYPE=Wa,n.AUTH_ERR_MSG=ms,n.Aabb=ga,n.Actor=class{constructor(r,i,o){this.target=r,this.parent=i,this.mapId=o,this.callbacks={},this.cancelCallbacks={},ce(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Re()?r:S,this.scheduler=new A}send(r,i,o,h,p=!1,v){const T=Math.round(1e18*Math.random()).toString(36).substring(0,10);o&&(o.metadata=v,this.callbacks[T]=o);const B=rt(this.globalScope)?void 0:[];return this.target.postMessage({id:T,type:r,hasCallback:!!o,targetMapId:h,mustQueue:p,sourceMapId:this.mapId,data:Xc(i,B)},B),{cancel:()=>{o&&delete this.callbacks[T],this.target.postMessage({id:T,type:"<cancel>",targetMapId:h,sourceMapId:this.mapId})}}}receive(r){const i=r.data,o=i.id;if(o&&(!i.targetMapId||this.mapId===i.targetMapId))if(i.type==="<cancel>"){const h=this.cancelCallbacks[o];delete this.cancelCallbacks[o],h&&h.cancel()}else if(i.mustQueue||Re()){const h=this.callbacks[o];this.cancelCallbacks[o]=this.scheduler.add(()=>this.processTask(o,i),h&&h.metadata||{type:"message"})}else this.processTask(o,i)}processTask(r,i){if(i.type==="<response>"){const o=this.callbacks[r];delete this.callbacks[r],o&&(i.error?o(Pd(i.error)):o(null,Pd(i.data)))}else{const o=rt(this.globalScope)?void 0:[],h=i.hasCallback?(v,T)=>{delete this.cancelCallbacks[r],this.target.postMessage({id:r,type:"<response>",sourceMapId:this.mapId,error:v?Xc(v):null,data:Xc(T,o)},o)}:v=>{},p=Pd(i.data);if(this.parent[i.type])this.parent[i.type](i.sourceMapId,p,h);else if(this.parent.getWorkerSource){const v=i.type.split(".");this.parent.getWorkerSource(i.sourceMapId,v[0],p.source)[v[1]](p,h)}else h(new Error(`Could not find function ${i.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},n.CanonicalTileID=I0,n.Color=cr,n.ColorMode=hd,n.CullFaceMode=Ih,n.DEMData=gf,n.DataConstantProperty=$t,n.DedupedRequest=jS,n.DepthMode=Q0,n.EXTENT=wn,n.Elevation=class{isDataAvailableAtPoint(r){const i=this._source();if(this.isUsingMockSource()||!i||r.y<0||r.y>1)return!1;const o=i.getSource().maxzoom,h=1<<o,p=Math.floor(r.x),v=Math.floor((r.x-p)*h),T=Math.floor(r.y*h),B=this.findDEMTileFor(new Ao(o,p,o,v,T));return!(!B||!B.dem)}getAtPointOrZero(r,i=0){return this.getAtPoint(r,i)||0}getAtPoint(r,i,o=!0){if(this.isUsingMockSource())return null;i==null&&(i=null);const h=this._source();if(!h||r.y<0||r.y>1)return i;const p=h.getSource().maxzoom,v=1<<p,T=Math.floor(r.x),B=r.x-T,X=new Ao(p,T,p,Math.floor(B*v),Math.floor(r.y*v)),ie=this.findDEMTileFor(X);if(!ie||!ie.dem)return i;const ue=ie.dem,be=1<<ie.tileID.canonical.z,Me=(B*be-ie.tileID.canonical.x)*ue.dim,Ie=(r.y*be-ie.tileID.canonical.y)*ue.dim,Be=Math.floor(Me),He=Math.floor(Ie);return(o?this.exaggeration():1)*Bn(Bn(ue.get(Be,He),ue.get(Be,He+1),Ie-He),Bn(ue.get(Be+1,He),ue.get(Be+1,He+1),Ie-He),Me-Be)}getAtTileOffset(r,i,o){const h=1<<r.canonical.z;return this.getAtPointOrZero(new Rd(r.wrap+(r.canonical.x+i/wn)/h,(r.canonical.y+o/wn)/h))}getAtTileOffsetFunc(r,i,o,h){return p=>{const v=this.getAtTileOffset(r,p.x,p.y),T=h.upVector(r.canonical,p.x,p.y);return Al(T,T,v*h.upVectorScale(r.canonical,i,o).metersToTile),T}}getForTilePoints(r,i,o,h){if(this.isUsingMockSource())return!1;const p=ky.create(this,r,h);return!!p&&(i.forEach(v=>{v[2]=this.exaggeration()*p.getElevationAt(v[0],v[1],o)}),!0)}getMinMaxForTile(r){if(this.isUsingMockSource())return null;const i=this.findDEMTileFor(r);if(!i||!i.dem)return null;const o=i.dem.tree,h=i.tileID,p=1<<r.canonical.z-h.canonical.z;let v=r.canonical.x/p-h.canonical.x,T=r.canonical.y/p-h.canonical.y,B=0;for(let X=0;X<r.canonical.z-h.canonical.z&&!o.leaves[B];X++){v*=2,T*=2;const ie=2*Math.floor(T)+Math.floor(v);B=o.childOffsets[B]+ie,v%=1,T%=1}return{min:this.exaggeration()*o.minimums[B],max:this.exaggeration()*o.maximums[B]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(r,i,o){throw new Error("Pure virtual method called.")}pointCoordinate(r){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(r){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},n.ErrorEvent=la,n.EvaluationParameters=Gt,n.Event=aa,n.Evented=Vr,n.FillExtrusionBucket=ef,n.Frustum=fg,n.FrustumCorners=pg,n.GLOBE_METERS_TO_ECEF=Hg,n.GLOBE_RADIUS=Dh,n.GLOBE_SCALE_MATCH_LATITUDE=45,n.GLOBE_ZOOM_THRESHOLD_MAX=6,n.GLOBE_ZOOM_THRESHOLD_MIN=5,n.GlobeSharedBuffers=class{constructor(r){this._createGrid(r),this._createPoles(r)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const r of this._poleSegments)r.destroy();for(const r of this._gridSegments)r.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const r of this._wireframeSegments)r.destroy()}}_createGrid(r){const i=new Ms,o=new Mo,h=65;for(let p=0;p<h;p++)for(let v=0;v<h;v++)i.emplaceBack(v,p);this._gridSegments=[];for(let p=0,v=0;p<Yu.length;p++){const T=Yu[p];for(let X=0;X<T;X++)for(let ie=0;ie<64;ie++){const ue=X*h+ie;o.emplaceBack(ue+1,ue,ue+h),o.emplaceBack(ue+h,ue+h+1,ue+1)}const B=64*T*2;this._gridSegments.push(Yr.simpleSegment(0,v,(T+1)*h,B)),v+=B}this._gridBuffer=r.createVertexBuffer(i,af.members),this._gridIndexBuffer=r.createIndexBuffer(o,!0)}_createPoles(r){const i=new Mo;for(let p=0;p<=Wu;p++)i.emplaceBack(0,p+1,p+2);this._poleIndexBuffer=r.createIndexBuffer(i,!0);const o=new es,h=new es;this._poleSegments=[];for(let p=0,v=0;p<5;p++){const T=360/(1<<p);o.emplaceBack(0,-Dh,0,.5,0),h.emplaceBack(0,-Dh,0,.5,1);for(let B=0;B<=Wu;B++){const X=B/Wu,ie=Bn(0,T,X),[ue,be,Me]=qu(e2,Kg,ie,Dh);o.emplaceBack(ue,be,Me,X,0),h.emplaceBack(ue,be,Me,X,1)}this._poleSegments.push(Yr.simpleSegment(v,0,66,64)),v+=66}this._poleNorthVertexBuffer=r.createVertexBuffer(o,Vg,!1),this._poleSouthVertexBuffer=r.createVertexBuffer(h,Vg,!1)}getGridBuffers(r){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[r]]}getPoleBuffers(r){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[r]]}getWirefameBuffers(r,i){if(!this._wireframeSegments){const o=new Hl,h=Wu,p=h+1;this._wireframeSegments=[];for(let v=0,T=0;v<Yu.length;v++){const B=Yu[v];for(let ie=0;ie<B;ie++)for(let ue=0;ue<h;ue++){const be=ie*p+ue;o.emplaceBack(be,be+1),o.emplaceBack(be,be+p),o.emplaceBack(be,be+p+1)}const X=B*h*3;this._wireframeSegments.push(Yr.simpleSegment(0,T,(B+1)*p,X)),T+=X}this._wireframeIndexBuffer=r.createIndexBuffer(o)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[i]]}},n.GlyphManager=Zr,n.ImagePosition=B0,n.LivePerformanceUtils=Vi,n.LngLat=us,n.LngLatBounds=Ch,n.LocalGlyphMode=Fg,n.MAX_MERCATOR_LATITUDE=jo,n.MercatorCoordinate=Rd,n.ONE_EM=Js,n.OverscaledTileID=Ao,n.PerformanceMarkers=mi,n.Properties=pn,n.RGBAImage=qa,n.Ray=b0,n.RequestManager=class{constructor(r,i,o){this._transformRequestFn=r,this._customAccessToken=i,this._silenceAuthErrors=!!o,this._createSkuToken()}_createSkuToken(){const r=function(){let i="";for(let o=0;o<10;o++)i+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",E,i].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(r,i){return this._transformRequestFn&&this._transformRequestFn(r,i)||{url:r}}normalizeStyleURL(r,i){if(!zs(r))return r;const o=_r(r);return o.path=`/styles/v1${o.path}`,this._makeAPIURL(o,this._customAccessToken||i)}normalizeGlyphsURL(r,i){if(!zs(r))return r;const o=_r(r);return o.path=`/fonts/v1${o.path}`,this._makeAPIURL(o,this._customAccessToken||i)}normalizeSourceURL(r,i,o,h){if(!zs(r))return r;const p=_r(r);return p.path=`/v4/${p.authority}.json`,p.params.push("secure"),o&&p.params.push(`language=${o}`),h&&p.params.push(`worldview=${h}`),this._makeAPIURL(p,this._customAccessToken||i)}normalizeSpriteURL(r,i,o,h){const p=_r(r);return zs(r)?(p.path=`/styles/v1${p.path}/sprite${i}${o}`,this._makeAPIURL(p,this._customAccessToken||h)):(p.path+=`${i}${o}`,Ra(p))}normalizeTileURL(r,i,o){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!zs(r))return r;const h=_r(r);h.path=h.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${i||o&&h.authority!=="raster"&&o===512?"@2x":""}${H.supported?".webp":"$1"}`),h.authority==="raster"?h.path=`/${O.RASTER_URL_PREFIX}${h.path}`:(h.path=h.path.replace(/^.+\/v4\//,"/"),h.path=`/${O.TILE_URL_VERSION}${h.path}`);const p=this._customAccessToken||function(v){for(const T of v){const B=T.match(/^access_token=(.*)$/);if(B)return B[1]}return null}(h.params)||O.ACCESS_TOKEN;return O.REQUIRE_ACCESS_TOKEN&&p&&this._skuToken&&h.params.push(`sku=${this._skuToken}`),this._makeAPIURL(h,p)}canonicalizeTileURL(r,i){const o=_r(r);if(!o.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!o.path.match(/\.[\w]+$/))return r;let h="mapbox://";o.path.match(/^\/raster\/v1\//)?h+=`raster/${o.path.replace(`/${O.RASTER_URL_PREFIX}/`,"")}`:h+=`tiles/${o.path.replace(`/${O.TILE_URL_VERSION}/`,"")}`;let p=o.params;return i&&(p=p.filter(v=>!v.match(/^access_token=/))),p.length&&(h+=`?${p.join("&")}`),h}canonicalizeTileset(r,i){const o=!!i&&zs(i),h=[];for(const p of r.tiles||[])tn(p)?h.push(this.canonicalizeTileURL(p,o)):h.push(p);return h}_makeAPIURL(r,i){const o="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",h=_r(O.API_URL);if(r.protocol=h.protocol,r.authority=h.authority,r.protocol==="http"){const p=r.params.indexOf("secure");p>=0&&r.params.splice(p,1)}if(h.path!=="/"&&(r.path=`${h.path}${r.path}`),!O.REQUIRE_ACCESS_TOKEN)return Ra(r);if(i=i||O.ACCESS_TOKEN,!this._silenceAuthErrors){if(!i)throw new Error(`An API access token is required to use Mapbox GL. ${o}`);if(i[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${o}`)}return r.params=r.params.filter(p=>p.indexOf("access_token")===-1),r.params.push(`access_token=${i||""}`),Ra(r)}},n.ResourceType=Ht,n.SegmentVector=Yr,n.SourceCache=_f,n.StencilMode=g2,n.StructArrayLayout1ui2=Sh,n.StructArrayLayout2f1f2i16=Fo,n.StructArrayLayout2i4=Ms,n.StructArrayLayout2ui4=Hl,n.StructArrayLayout3f12=Tl,n.StructArrayLayout3ui6=Mo,n.StructArrayLayout4i8=Rs,n.StructArrayLayout5f20=es,n.Texture=mf,n.Tile=Vn,n.Transitionable=pi,n.Uniform1f=Au,n.Uniform1i=class extends Kc{constructor(r){super(r),this.current=0}set(r,i,o){this.fetchUniformLocation(r,i)&&this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))}},n.Uniform2f=class extends Kc{constructor(r){super(r),this.current=[0,0]}set(r,i,o){this.fetchUniformLocation(r,i)&&(o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1])))}},n.Uniform3f=class extends Kc{constructor(r){super(r),this.current=[0,0,0]}set(r,i,o){this.fetchUniformLocation(r,i)&&(o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2])))}},n.Uniform4f=p_,n.UniformColor=f_,n.UniformMatrix2f=class extends Kc{constructor(r){super(r),this.current=g_}set(r,i,o){if(this.fetchUniformLocation(r,i)){for(let h=0;h<4;h++)if(o[h]!==this.current[h]){this.current=o,this.gl.uniformMatrix2fv(this.location,!1,o);break}}}},n.UniformMatrix3f=class extends Kc{constructor(r){super(r),this.current=m_}set(r,i,o){if(this.fetchUniformLocation(r,i)){for(let h=0;h<9;h++)if(o[h]!==this.current[h]){this.current=o,this.gl.uniformMatrix3fv(this.location,!1,o);break}}}},n.UniformMatrix4f=class extends Kc{constructor(r){super(r),this.current=Rx}set(r,i,o){if(this.fetchUniformLocation(r,i)){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(let h=1;h<16;h++)if(o[h]!==this.current[h]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}}}},n.UnwrappedTileID=X_,n.ValidationError=Xi,n.VectorTileFeature=A0,n.VectorTileWorkerSource=class extends Vr{constructor(r,i,o,h,p){super(),this.actor=r,this.layerIndex=i,this.availableImages=o,this.loadVectorData=p||US,this.loading={},this.loaded={},this.deduped=new jS(r.scheduler),this.isSpriteLoaded=h,this.scheduler=r.scheduler}loadTile(r,i){const o=r.uid,h=r&&r.request,p=h&&h.collectResourceTiming,v=this.loading[o]=new KA(r);v.abort=this.loadVectorData(r,(T,B)=>{const X=!this.loading[o];if(delete this.loading[o],X||T||!B)return v.status="done",X||(this.loaded[o]=v),i(T);const ie=B.rawData,ue={};B.expires&&(ue.expires=B.expires),B.cacheControl&&(ue.cacheControl=B.cacheControl),v.vectorTile=B.vectorTile||new Tg(new sf(ie));const be=()=>{v.parse(v.vectorTile,this.layerIndex,this.availableImages,this.actor,(Me,Ie)=>{if(Me||!Ie)return i(Me);const Be={};if(p){const He=mn(h);He.length>0&&(Be.resourceTiming=JSON.parse(JSON.stringify(He)))}i(null,K({rawTileData:ie.slice(0)},Ie,ue,Be))})};this.isSpriteLoaded?be():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(be,{type:"parseTile",isSymbolTile:r.isSymbolTile,zoom:r.tileZoom}):be()}),this.loaded=this.loaded||{},this.loaded[o]=v})}reloadTile(r,i){const o=this.loaded,h=r.uid,p=this;if(o&&o[h]){const v=o[h];v.showCollisionBoxes=r.showCollisionBoxes,v.enableTerrain=!!r.enableTerrain,v.projection=r.projection,v.tileTransform=qd(r.tileID.canonical,r.projection);const T=(B,X)=>{const ie=v.reloadCallback;ie&&(delete v.reloadCallback,v.parse(v.vectorTile,p.layerIndex,this.availableImages,p.actor,ie)),i(B,X)};v.status==="parsing"?v.reloadCallback=T:v.status==="done"&&(v.vectorTile?v.parse(v.vectorTile,this.layerIndex,this.availableImages,this.actor,T):T())}}abortTile(r,i){const o=r.uid,h=this.loading[o];h&&(h.abort&&h.abort(),delete this.loading[o]),i()}removeTile(r,i){const o=this.loaded,h=r.uid;o&&o[h]&&delete o[h],i()}},n.WritingMode=Nn,n.add=th,n.addDynamicAttributes=K0,n.adjoint=function(r,i){var o=i[0],h=i[1],p=i[2],v=i[3],T=i[4],B=i[5],X=i[6],ie=i[7],ue=i[8];return r[0]=T*ue-B*ie,r[1]=p*ie-h*ue,r[2]=h*B-p*T,r[3]=B*X-v*ue,r[4]=o*ue-p*X,r[5]=p*v-o*B,r[6]=v*ie-T*X,r[7]=h*X-o*ie,r[8]=o*T-h*v,r},n.asyncAll=Y,n.bezier=D,n.bindAll=ce,n.boundsAttributes=ln,n.bufferConvexPolygon=function(r,i){const o=[];for(let h=0;h<r.length;h++){const p=P(h-1,-1,r.length-1),v=P(h+1,-1,r.length-1),T=r[h],B=r[v],X=r[p].sub(T).unit(),ie=B.sub(T).unit(),ue=ie.angleWithSep(X.x,X.y),be=X.add(ie).unit().mult(-1*i/Math.sin(ue/2));o.push(T.add(be))}return o},n.cacheEntryPossiblyAdded=function(r){ui++,ui>Je&&(r.getActor().send("enforceCacheSizeLimit",Xe),ui=0)},n.calculateGlobeLabelMatrix=function(r,i){const{x:o,y:h}=r.point,p=W0(o,h,r.worldSize/r._pixelsPerMercatorPixel,0,0);return Fd(p,p,qg(sh(i)))},n.calculateGlobeMatrix=function(r){const{x:i,y:o}=r.point,{lng:h,lat:p}=r._center;return W0(i,o,r.worldSize,h,p)},n.calculateGlobeMercatorMatrix=function(r){const i=r.pixelsPerMeter,o=i/Ml(1,r.center.lat),h=Wl(new Float64Array(16));return $p(h,h,[r.point.x,r.point.y,0]),Nd(h,h,[o,o,i]),Float32Array.from(h)},n.circumferenceAtLatitude=qm,n.clamp=g,n.clearTileCache=function(r){if(!pt())return;const i=S.caches.delete(Te);r&&i.catch(r).then(()=>r())},n.clipLine=uy,n.clone=function(r){var i=new Wa(16);return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],i},n.clone$1=ye,n.collisionCircleLayout=kb,n.config=O,n.conjugate=function(r,i){return r[0]=-i[0],r[1]=-i[1],r[2]=-i[2],r[3]=i[3],r},n.create=function(){var r=new Wa(16);return Wa!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r},n.create$1=w_,n.createExpression=bi,n.createLayout=Ji,n.createStyleLayer=function(r){return r.type==="custom"?new u2(r):new f2[r.type](r)},n.cross=hg,n.degToRad=N,n.distance=function(r,i){return Math.hypot(i[0]-r[0],i[1]-r[1],i[2]-r[2])},n.div=function(r,i,o){return r[0]=i[0]/o[0],r[1]=i[1]/o[1],r[2]=i[2]/o[2],r},n.dot=Yl,n.earthRadius=Od,n.ease=f,n.easeCubicInOut=w,n.ecefToLatLng=function([r,i,o]){const h=Math.hypot(r,i,o),p=Math.atan2(r,o),v=.5*Math.PI-Math.acos(-i/h);return new us(j(p),j(v))},n.emitValidationErrors=e0,n.endsWith=pe,n.enforceCacheSizeLimit=function(r){bt(),Oe&&Oe.then(i=>{i.keys().then(o=>{for(let h=0;h<o.length-r;h++)i.delete(o[h])})})},n.evaluateSizeForFeature=Ec,n.evaluateSizeForZoom=Gu,n.evaluateVariableOffset=jg,n.evented=wt,n.exactEquals=function(r,i){return r[0]===i[0]&&r[1]===i[1]&&r[2]===i[2]&&r[3]===i[3]},n.exactEquals$1=function(r,i){return r[0]===i[0]&&r[1]===i[1]&&r[2]===i[2]},n.exported=cn,n.exported$1=H,n.extend=K,n.extend$1=Ys,n.fillExtrusionHeightLift=Mg,n.filterObject=ne,n.fromMat4=function(r,i){return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[4],r[4]=i[5],r[5]=i[6],r[6]=i[8],r[7]=i[9],r[8]=i[10],r},n.fromQuat=function(r,i){var o=i[0],h=i[1],p=i[2],v=i[3],T=o+o,B=h+h,X=p+p,ie=o*T,ue=h*T,be=h*B,Me=p*T,Ie=p*B,Be=p*X,He=v*T,tt=v*B,gt=v*X;return r[0]=1-be-Be,r[1]=ue+gt,r[2]=Me-tt,r[3]=0,r[4]=ue-gt,r[5]=1-ie-Be,r[6]=Ie+He,r[7]=0,r[8]=Me+tt,r[9]=Ie-He,r[10]=1-ie-be,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},n.fromRotation=function(r,i){var o=Math.sin(i),h=Math.cos(i);return r[0]=h,r[1]=o,r[2]=0,r[3]=-o,r[4]=h,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},n.fromScaling=ag,n.furthestTileCorner=function(r){const i=Math.round((r+45+360)%360/90)%4;return W[i]},n.getAABBPointSquareDist=function(r,i,o){let h=0;for(let p=0;p<2;++p){const v=o?o[p]:0;r[p]>v&&(h+=(r[p]-v)*(r[p]-v)),i[p]<v&&(h+=(v-i[p])*(v-i[p]))}return h},n.getAnchorAlignment=zg,n.getAnchorJustification=Ug,n.getBounds=function(r){let i=1/0,o=1/0,h=-1/0,p=-1/0;for(const v of r)i=Math.min(i,v.x),o=Math.min(o,v.y),h=Math.max(h,v.x),p=Math.max(p,v.y);return{min:new G(i,o),max:new G(h,p)}},n.getColumn=qe,n.getGridMatrix=function(r,i,o,h){const p=i.getNorth(),v=i.getSouth(),T=i.getWest(),B=i.getEast(),X=1<<r.z,ie=B-T,ue=p-v,be=ie/Wu,Me=-ue/Yu[o],Ie=[0,be,0,Me,0,0,p,T,0];if(r.z>0){const Be=180/h;Ou(Ie,Ie,[Be/ie+1,0,0,0,Be/ue+1,0,-.5*Be/be,.5*Be/Me,1])}return Ie[2]=X,Ie[5]=r.x,Ie[8]=r.y,Ie},n.getImage=kr,n.getJSON=function(r,i){return zi(K(r,{type:"json"}),i)},n.getLatitudinalLod=function(r){const i=80.051129;r=g(r,-80.051129,i)/i*90;const o=Math.pow(Math.abs(Math.sin(N(r))),3);return Math.round(o*(Yu.length-1))},n.getMapSessionAPI=Lt,n.getPerformanceMeasurement=mn,n.getProjection=My,n.getRTLTextPluginStatus=zt,n.getReferrer=Ui,n.getTilePoint=function(r,{x:i,y:o},h=0){return new G(((i-h)*r.scale-r.x)*wn,(o*r.scale-r.y)*wn)},n.getTileVec3=function(r,i,o=0){return Ud(((i.x-o)*r.scale-r.x)*wn,(i.y*r.scale-r.y)*wn,Xm(i.z,i.y))},n.getVideo=function(r,i){const o=S.document.createElement("video");o.muted=!0,o.onloadstart=function(){i(null,o)};for(let h=0;h<r.length;h++){const p=S.document.createElement("source");Di(r[h])||(o.crossOrigin="Anonymous"),p.src=r[h],o.appendChild(p)}return{cancel:()=>{}}},n.globeCenterToScreenPoint=function(r){const i=[0,0,0],o=Wl(new Float64Array(16));return Fd(o,r.pixelMatrix,r.globeMatrix),Ur(i,i,o),new G(i[0],i[1])},n.globeDenormalizeECEF=qg,n.globeECEFOrigin=function(r,i){const o=[0,0,0];return Ur(o,o,hf(sh(i.canonical))),Ur(o,o,r),o},n.globeNormalizeECEF=hf,n.globePixelsToTileUnits=function(r,i){return wn/(512*Math.pow(2,r))*H0(sh(i))},n.globePoleMatrixForTile=function(r,i,o){const h=Wl(new Float64Array(16)),p=(i/(1<<r)-.5)*Math.PI*2;return Hp(h,o.globeMatrix,p),Float32Array.from(h)},n.globeTileBounds=sh,n.globeTiltAtLngLat=Xg,n.globeToMercatorTransition=Yd,n.globeUseCustomAntiAliasing=function(r,i,o){const h=Yd(o.zoom),p=r.style.map._antialias,v=!!i.extStandardDerivatives,T=i.extStandardDerivativesForceOff||r.terrain&&r.terrain.exaggeration()>0;return h===0&&!p&&!T&&v},n.identity=Wl,n.identity$1=ug,n.invert=v0,n.isFullscreen=function(){return!!S.document.fullscreenElement||!!S.document.webkitFullscreenElement},n.isLngLatBehindGlobe=Zg,n.isMapAuthenticated=function(r){return qt.has(r)},n.isMapboxURL=zs,n.isSafariWithAntialiasingBug=function(r){const i=r.navigator?r.navigator.userAgent:null;return!!rt(r)&&i&&(i.match("Version/15.4")||i.match("Version/15.5")||i.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},n.latFromMercatorY=No,n.latLngToECEF=lf,n.len=Gx,n.length=jd,n.length$1=function(r){return Math.hypot(r[0],r[1],r[2],r[3])},n.lngFromMercatorX=Aa,n.loadVectorTile=US,n.makeRequest=zi,n.mapValue=function(r,i,o,h,p){return g((r-i)/(o-i)*(p-h)+h,h,p)},n.mercatorScale=Zm,n.mercatorXfromLng=vc,n.mercatorYfromLat=Cl,n.mercatorZfromAltitude=Ml,n.mul=lg,n.mul$1=Ux,n.multiply=Fd,n.multiply$1=Ou,n.multiply$2=cg,n.nextPowerOfTwo=J,n.normalize=ma,n.normalize$1=Vx,n.normalize$2=C_,n.number=Bn,n.ortho=function(r,i,o,h,p,v,T){var B=1/(i-o),X=1/(h-p),ie=1/(v-T);return r[0]=-2*B,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*X,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*ie,r[11]=0,r[12]=(i+o)*B,r[13]=(p+h)*X,r[14]=(T+v)*ie,r[15]=1,r},n.pbf=sf,n.perspective=function(r,i,o,h,p){var v,T=1/Math.tan(i/2);return r[0]=T/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=T,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,p!=null&&p!==1/0?(r[10]=(p+h)*(v=1/(h-p)),r[14]=2*p*h*v):(r[10]=-1,r[14]=-2*h),r},n.pick=function(r,i){const o={};for(let h=0;h<i.length;h++){const p=i[h];p in r&&(o[p]=r[p])}return o},n.plugin=Zt,n.pointGeometry=G,n.polesInViewport=function(r){const i=Wl(new Float64Array(16));Fd(i,r.pixelMatrix,r.globeMatrix);const o=[0,Xl,0],h=[0,Zl,0];return Ur(o,o,i),Ur(h,h,i),[o[0]>0&&o[0]<=r.width&&o[1]>0&&o[1]<=r.height&&!Zg(r,new us(r.center.lat,90)),h[0]>0&&h[0]<=r.width&&h[1]>0&&h[1]<=r.height&&!Zg(r,new us(r.center.lat,-90))]},n.polygonContainsPoint=zd,n.polygonIntersectsBox=sg,n.polygonIntersectsPolygon=g0,n.polygonizeBounds=function(r,i,o=0,h=!0){const p=new G(o,o),v=r.sub(p),T=i.add(p),B=[v,new G(T.x,v.y),T,new G(v.x,T.y)];return h&&B.push(v.clone()),B},n.posAttributes=af,n.postMapLoadEvent=_t,n.postPerformanceEvent=Nt,n.postTurnstileEvent=We,n.potpack=Rg,n.prevPowerOfTwo=function(r){return r<=1?1:Math.pow(2,Math.floor(Math.log(r)/Math.LN2))},n.radToDeg=j,n.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],n.registerForPluginStateChange=function(r){return r({pluginStatus:ft,pluginURL:ct}),wt.on("pluginStateChange",r),r},n.removeAuthState=function(r){qt.delete(r)},n.renderColorRamp=Yp,n.resample=Jm,n.rotateX=og,n.rotateX$1=M_,n.rotateY=Hp,n.rotateY$1=A_,n.rotateZ=function(r,i,o){var h=Math.sin(o),p=Math.cos(o),v=i[0],T=i[1],B=i[2],X=i[3],ie=i[4],ue=i[5],be=i[6],Me=i[7];return i!==r&&(r[8]=i[8],r[9]=i[9],r[10]=i[10],r[11]=i[11],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15]),r[0]=v*p+ie*h,r[1]=T*p+ue*h,r[2]=B*p+be*h,r[3]=X*p+Me*h,r[4]=ie*p-v*h,r[5]=ue*p-T*h,r[6]=be*p-B*h,r[7]=Me*p-X*h,r},n.rotateZ$1=function(r,i,o){o*=.5;var h=i[0],p=i[1],v=i[2],T=i[3],B=Math.sin(o),X=Math.cos(o);return r[0]=h*X+p*B,r[1]=p*X-h*B,r[2]=v*X+T*B,r[3]=T*X-v*B,r},n.scale=Nd,n.scale$1=E_,n.scale$2=Al,n.scaleAndAdd=zu,n.set=function(r,i,o,h){return r[0]=i,r[1]=o,r[2]=h,r},n.setCacheLimits=function(r,i){Xe=r,Je=i},n.setColumn=function(r,i,o){r[4*i+0]=o[0],r[4*i+1]=o[1],r[4*i+2]=o[2],r[4*i+3]=o[3]},n.setRTLTextPlugin=function(r,i,o=!1){if(ft===lt||ft===dt||ft===et)throw new Error("setRTLTextPlugin cannot be called multiple times.");ct=cn.resolveURL(r),ft=lt,nt=i,At(),o||Qt()},n.smoothstep=x,n.spec=ci,n.squaredLength=function(r){var i=r[0],o=r[1],h=r[2];return i*i+o*o+h*h},n.storeAuthState=function(r,i){i?qt.add(r):qt.delete(r)},n.sub=Sc,n.subtract=Bu,n.symbolSize=Pb,n.tileAABB=function(r,i,o,h,p,v,T,B,X){if(X.name==="globe")return Qb(r,i,new I0(o,h,p));const ie=qd({z:o,x:h,y:p},X);return new ga([(v+ie.x/ie.scale)*i,i*(ie.y/ie.scale),T],[(v+ie.x2/ie.scale)*i,i*(ie.y2/ie.scale),B])},n.tileCornersToBounds=$0,n.tileTransform=qd,n.transformMat3=function(r,i,o){var h=i[0],p=i[1],v=i[2];return r[0]=h*o[0]+p*o[3]+v*o[6],r[1]=h*o[1]+p*o[4]+v*o[7],r[2]=h*o[2]+p*o[5]+v*o[8],r},n.transformMat4=Ur,n.transformMat4$1=rd,n.transformQuat=T_,n.transitionTileAABBinECEF=xy,n.translate=$p,n.transpose=function(r,i){if(r===i){var o=i[1],h=i[2],p=i[5];r[1]=i[3],r[2]=i[6],r[3]=o,r[5]=i[7],r[6]=h,r[7]=p}else r[0]=i[0],r[1]=i[3],r[2]=i[6],r[3]=i[1],r[4]=i[4],r[5]=i[7],r[6]=i[2],r[7]=i[5],r[8]=i[8];return r},n.triggerPluginCompletionEvent=vt,n.uniqueId=ge,n.updateGlobeVertexNormal=function(r,i,o,h,p){const v=5*i+2;r.float32[v+0]=o,r.float32[v+1]=h,r.float32[v+2]=p},n.validateCustomStyleLayer=function(r){const i=[],o=r.id;return o===void 0&&i.push({message:`layers.${o}: missing required property "id"`}),r.render===void 0&&i.push({message:`layers.${o}: missing required method "render"`}),r.renderingMode&&r.renderingMode!=="2d"&&r.renderingMode!=="3d"&&i.push({message:`layers.${o}: property "renderingMode" must be either "2d" or "3d"`}),i},n.validateFilter=r=>_c(qc(r)),n.validateFog=r=>_c(kd(r)),n.validateLayer=r=>_c(Tu(r)),n.validateLight=r=>_c(it(r)),n.validateSource=r=>_c(Qh(r)),n.validateStyle=Ip,n.validateTerrain=r=>_c(gc(r)),n.values=ee,n.vectorTile=C0,n.version=z,n.warnOnce=ae,n.window=S,n.wrap=P}),d(["./shared"],function(n){function S(ut){if(typeof ut=="number"||typeof ut=="boolean"||typeof ut=="string"||ut==null)return JSON.stringify(ut);if(Array.isArray(ut)){let We="[";for(const ht of ut)We+=`${S(ht)},`;return`${We}]`}let Fe="{";for(const We of Object.keys(ut).sort())Fe+=`${We}:${S(ut[We])},`;return`${Fe}}`}function z(ut){let Fe="";for(const We of n.refProperties)Fe+=`/${S(ut[We])}`;return Fe}class Z{constructor(Fe){this.keyCache={},Fe&&this.replace(Fe)}replace(Fe){this._layerConfigs={},this._layers={},this.update(Fe,[])}update(Fe,We){for(const _t of Fe)this._layerConfigs[_t.id]=_t,(this._layers[_t.id]=n.createStyleLayer(_t)).compileFilter(),this.keyCache[_t.id]&&delete this.keyCache[_t.id];for(const _t of We)delete this.keyCache[_t],delete this._layerConfigs[_t],delete this._layers[_t];this.familiesBySource={};const ht=function(_t,Pt){const Nt={};for(let Lt=0;Lt<_t.length;Lt++){const qt=Pt&&Pt[_t[Lt].id]||z(_t[Lt]);Pt&&(Pt[_t[Lt].id]=qt);let mi=Nt[qt];mi||(mi=Nt[qt]=[]),mi.push(_t[Lt])}const Vt=[];for(const Lt in Nt)Vt.push(Nt[Lt]);return Vt}(n.values(this._layerConfigs),this.keyCache);for(const _t of ht){const Pt=_t.map(Vi=>this._layers[Vi.id]),Nt=Pt[0];if(Nt.visibility==="none")continue;const Vt=Nt.source||"";let Lt=this.familiesBySource[Vt];Lt||(Lt=this.familiesBySource[Vt]={});const qt=Nt.sourceLayer||"_geojsonTileLayer";let mi=Lt[qt];mi||(mi=Lt[qt]=[]),mi.push(Pt)}}}class O{loadTile(Fe,We){const{uid:ht,encoding:_t,rawImageData:Pt,padding:Nt,buildQuadTree:Vt}=Fe,Lt=n.window.ImageBitmap&&Pt instanceof n.window.ImageBitmap?this.getImageData(Pt,Nt):Pt;We(null,new n.DEMData(ht,Lt,_t,Nt<1,Vt))}getImageData(Fe,We){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Fe.width,Fe.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=Fe.width,this.offscreenCanvas.height=Fe.height,this.offscreenCanvasContext.drawImage(Fe,0,0,Fe.width,Fe.height);const ht=this.offscreenCanvasContext.getImageData(-We,-We,Fe.width+2*We,Fe.height+2*We);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),ht}}var H=function ut(Fe,We){var ht,_t=Fe&&Fe.type;if(_t==="FeatureCollection")for(ht=0;ht<Fe.features.length;ht++)ut(Fe.features[ht],We);else if(_t==="GeometryCollection")for(ht=0;ht<Fe.geometries.length;ht++)ut(Fe.geometries[ht],We);else if(_t==="Feature")ut(Fe.geometry,We);else if(_t==="Polygon")q(Fe.coordinates,We);else if(_t==="MultiPolygon")for(ht=0;ht<Fe.coordinates.length;ht++)q(Fe.coordinates[ht],We);return Fe};function q(ut,Fe){if(ut.length!==0){L(ut[0],Fe);for(var We=1;We<ut.length;We++)L(ut[We],!Fe)}}function L(ut,Fe){for(var We=0,ht=0,_t=0,Pt=ut.length,Nt=Pt-1;_t<Pt;Nt=_t++){var Vt=(ut[_t][0]-ut[Nt][0])*(ut[Nt][1]+ut[_t][1]),Lt=We+Vt;ht+=Math.abs(We)>=Math.abs(Vt)?We-Lt+Vt:Vt-Lt+We,We=Lt}We+ht>=0!=!!Fe&&ut.reverse()}const R=n.VectorTileFeature.prototype.toGeoJSON;class ${constructor(Fe){this._feature=Fe,this.extent=n.EXTENT,this.type=Fe.type,this.properties=Fe.tags,"id"in Fe&&!isNaN(Fe.id)&&(this.id=parseInt(Fe.id,10))}loadGeometry(){if(this._feature.type===1){const Fe=[];for(const We of this._feature.geometry)Fe.push([new n.pointGeometry(We[0],We[1])]);return Fe}{const Fe=[];for(const We of this._feature.geometry){const ht=[];for(const _t of We)ht.push(new n.pointGeometry(_t[0],_t[1]));Fe.push(ht)}return Fe}}toGeoJSON(Fe,We,ht){return R.call(this,Fe,We,ht)}}class M{constructor(Fe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=Fe.length,this._features=Fe}feature(Fe){return new $(this._features[Fe])}}var E={exports:{}},k=n.pointGeometry,V=n.vectorTile.VectorTileFeature,G=C;function C(ut,Fe){this.options=Fe||{},this.features=ut,this.length=ut.length}function te(ut,Fe){this.id=typeof ut.id=="number"?ut.id:void 0,this.type=ut.type,this.rawGeometry=ut.type===1?[ut.geometry]:ut.geometry,this.properties=ut.tags,this.extent=Fe||4096}C.prototype.feature=function(ut){return new te(this.features[ut],this.options.extent)},te.prototype.loadGeometry=function(){var ut=this.rawGeometry;this.geometry=[];for(var Fe=0;Fe<ut.length;Fe++){for(var We=ut[Fe],ht=[],_t=0;_t<We.length;_t++)ht.push(new k(We[_t][0],We[_t][1]));this.geometry.push(ht)}return this.geometry},te.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ut=this.geometry,Fe=1/0,We=-1/0,ht=1/0,_t=-1/0,Pt=0;Pt<ut.length;Pt++)for(var Nt=ut[Pt],Vt=0;Vt<Nt.length;Vt++){var Lt=Nt[Vt];Fe=Math.min(Fe,Lt.x),We=Math.max(We,Lt.x),ht=Math.min(ht,Lt.y),_t=Math.max(_t,Lt.y)}return[Fe,ht,We,_t]},te.prototype.toGeoJSON=V.prototype.toGeoJSON;var Q=n.pbf,N=G;function j(ut){var Fe=new Q;return function(We,ht){for(var _t in We.layers)ht.writeMessage(3,W,We.layers[_t])}(ut,Fe),Fe.finish()}function W(ut,Fe){var We;Fe.writeVarintField(15,ut.version||1),Fe.writeStringField(1,ut.name||""),Fe.writeVarintField(5,ut.extent||4096);var ht={keys:[],values:[],keycache:{},valuecache:{}};for(We=0;We<ut.length;We++)ht.feature=ut.feature(We),Fe.writeMessage(2,w,ht);var _t=ht.keys;for(We=0;We<_t.length;We++)Fe.writeStringField(3,_t[We]);var Pt=ht.values;for(We=0;We<Pt.length;We++)Fe.writeMessage(4,P,Pt[We])}function w(ut,Fe){var We=ut.feature;We.id!==void 0&&Fe.writeVarintField(1,We.id),Fe.writeMessage(2,D,ut),Fe.writeVarintField(3,We.type),Fe.writeMessage(4,x,We)}function D(ut,Fe){var We=ut.feature,ht=ut.keys,_t=ut.values,Pt=ut.keycache,Nt=ut.valuecache;for(var Vt in We.properties){var Lt=We.properties[Vt],qt=Pt[Vt];if(Lt!==null){qt===void 0&&(ht.push(Vt),Pt[Vt]=qt=ht.length-1),Fe.writeVarint(qt);var mi=typeof Lt;mi!=="string"&&mi!=="boolean"&&mi!=="number"&&(Lt=JSON.stringify(Lt));var Vi=mi+":"+Lt,Ci=Nt[Vi];Ci===void 0&&(_t.push(Lt),Nt[Vi]=Ci=_t.length-1),Fe.writeVarint(Ci)}}}function f(ut,Fe){return(Fe<<3)+(7&ut)}function g(ut){return ut<<1^ut>>31}function x(ut,Fe){for(var We=ut.loadGeometry(),ht=ut.type,_t=0,Pt=0,Nt=We.length,Vt=0;Vt<Nt;Vt++){var Lt=We[Vt],qt=1;ht===1&&(qt=Lt.length),Fe.writeVarint(f(1,qt));for(var mi=ht===3?Lt.length-1:Lt.length,Vi=0;Vi<mi;Vi++){Vi===1&&ht!==1&&Fe.writeVarint(f(2,mi-1));var Ci=Lt[Vi].x-_t,gn=Lt[Vi].y-Pt;Fe.writeVarint(g(Ci)),Fe.writeVarint(g(gn)),_t+=Ci,Pt+=gn}ht===3&&Fe.writeVarint(f(7,1))}}function P(ut,Fe){var We=typeof ut;We==="string"?Fe.writeStringField(1,ut):We==="boolean"?Fe.writeBooleanField(7,ut):We==="number"&&(ut%1!=0?Fe.writeDoubleField(3,ut):ut<0?Fe.writeSVarintField(6,ut):Fe.writeVarintField(5,ut))}function Y(ut,Fe,We,ht,_t,Pt){if(_t-ht<=We)return;const Nt=ht+_t>>1;ee(ut,Fe,Nt,ht,_t,Pt%2),Y(ut,Fe,We,ht,Nt-1,Pt+1),Y(ut,Fe,We,Nt+1,_t,Pt+1)}function ee(ut,Fe,We,ht,_t,Pt){for(;_t>ht;){if(_t-ht>600){const qt=_t-ht+1,mi=We-ht+1,Vi=Math.log(qt),Ci=.5*Math.exp(2*Vi/3),gn=.5*Math.sqrt(Vi*Ci*(qt-Ci)/qt)*(mi-qt/2<0?-1:1);ee(ut,Fe,We,Math.max(ht,Math.floor(We-mi*Ci/qt+gn)),Math.min(_t,Math.floor(We+(qt-mi)*Ci/qt+gn)),Pt)}const Nt=Fe[2*We+Pt];let Vt=ht,Lt=_t;for(K(ut,Fe,ht,We),Fe[2*_t+Pt]>Nt&&K(ut,Fe,ht,_t);Vt<Lt;){for(K(ut,Fe,Vt,Lt),Vt++,Lt--;Fe[2*Vt+Pt]<Nt;)Vt++;for(;Fe[2*Lt+Pt]>Nt;)Lt--}Fe[2*ht+Pt]===Nt?K(ut,Fe,ht,Lt):(Lt++,K(ut,Fe,Lt,_t)),Lt<=We&&(ht=Lt+1),We<=Lt&&(_t=Lt-1)}}function K(ut,Fe,We,ht){he(ut,We,ht),he(Fe,2*We,2*ht),he(Fe,2*We+1,2*ht+1)}function he(ut,Fe,We){const ht=ut[Fe];ut[Fe]=ut[We],ut[We]=ht}function ge(ut,Fe,We,ht){const _t=ut-We,Pt=Fe-ht;return _t*_t+Pt*Pt}E.exports=j,E.exports.fromVectorTileJs=j,E.exports.fromGeojsonVt=function(ut,Fe){Fe=Fe||{};var We={};for(var ht in ut)We[ht]=new N(ut[ht].features,Fe),We[ht].name=ht,We[ht].version=Fe.version,We[ht].extent=Fe.extent;return j({layers:We})},E.exports.GeoJSONWrapper=N;const Ee=ut=>ut[0],J=ut=>ut[1];class oe{constructor(Fe,We=Ee,ht=J,_t=64,Pt=Float64Array){this.nodeSize=_t,this.points=Fe;const Nt=Fe.length<65536?Uint16Array:Uint32Array,Vt=this.ids=new Nt(Fe.length),Lt=this.coords=new Pt(2*Fe.length);for(let qt=0;qt<Fe.length;qt++)Vt[qt]=qt,Lt[2*qt]=We(Fe[qt]),Lt[2*qt+1]=ht(Fe[qt]);Y(Vt,Lt,_t,0,Vt.length-1,0)}range(Fe,We,ht,_t){return function(Pt,Nt,Vt,Lt,qt,mi,Vi){const Ci=[0,Pt.length-1,0],gn=[];let mn,nn;for(;Ci.length;){const Ni=Ci.pop(),qn=Ci.pop(),ds=Ci.pop();if(qn-ds<=Vi){for(let gs=ds;gs<=qn;gs++)mn=Nt[2*gs],nn=Nt[2*gs+1],mn>=Vt&&mn<=qt&&nn>=Lt&&nn<=mi&&gn.push(Pt[gs]);continue}const cn=Math.floor((ds+qn)/2);mn=Nt[2*cn],nn=Nt[2*cn+1],mn>=Vt&&mn<=qt&&nn>=Lt&&nn<=mi&&gn.push(Pt[cn]);const ks=(Ni+1)%2;(Ni===0?Vt<=mn:Lt<=nn)&&(Ci.push(ds),Ci.push(cn-1),Ci.push(ks)),(Ni===0?qt>=mn:mi>=nn)&&(Ci.push(cn+1),Ci.push(qn),Ci.push(ks))}return gn}(this.ids,this.coords,Fe,We,ht,_t,this.nodeSize)}within(Fe,We,ht){return function(_t,Pt,Nt,Vt,Lt,qt){const mi=[0,_t.length-1,0],Vi=[],Ci=Lt*Lt;for(;mi.length;){const gn=mi.pop(),mn=mi.pop(),nn=mi.pop();if(mn-nn<=qt){for(let ks=nn;ks<=mn;ks++)ge(Pt[2*ks],Pt[2*ks+1],Nt,Vt)<=Ci&&Vi.push(_t[ks]);continue}const Ni=Math.floor((nn+mn)/2),qn=Pt[2*Ni],ds=Pt[2*Ni+1];ge(qn,ds,Nt,Vt)<=Ci&&Vi.push(_t[Ni]);const cn=(gn+1)%2;(gn===0?Nt-Lt<=qn:Vt-Lt<=ds)&&(mi.push(nn),mi.push(Ni-1),mi.push(cn)),(gn===0?Nt+Lt>=qn:Vt+Lt>=ds)&&(mi.push(Ni+1),mi.push(mn),mi.push(cn))}return Vi}(this.ids,this.coords,Fe,We,ht,this.nodeSize)}}const ce={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ut=>ut},pe=Math.fround||(Ce=new Float32Array(1),ut=>(Ce[0]=+ut,Ce[0]));var Ce;class ne{constructor(Fe){this.options=Ge(Object.create(ce),Fe),this.trees=new Array(this.options.maxZoom+1)}load(Fe){const{log:We,minZoom:ht,maxZoom:_t,nodeSize:Pt}=this.options;We&&console.time("total time");const Nt=`prepare ${Fe.length} points`;We&&console.time(Nt),this.points=Fe;let Vt=[];for(let Lt=0;Lt<Fe.length;Lt++)Fe[Lt].geometry&&Vt.push(_e(Fe[Lt],Lt));this.trees[_t+1]=new oe(Vt,rt,Qe,Pt,Float32Array),We&&console.timeEnd(Nt);for(let Lt=_t;Lt>=ht;Lt--){const qt=+Date.now();Vt=this._cluster(Vt,Lt),this.trees[Lt]=new oe(Vt,rt,Qe,Pt,Float32Array),We&&console.log("z%d: %d clusters in %dms",Lt,Vt.length,+Date.now()-qt)}return We&&console.timeEnd("total time"),this}getClusters(Fe,We){let ht=((Fe[0]+180)%360+360)%360-180;const _t=Math.max(-90,Math.min(90,Fe[1]));let Pt=Fe[2]===180?180:((Fe[2]+180)%360+360)%360-180;const Nt=Math.max(-90,Math.min(90,Fe[3]));if(Fe[2]-Fe[0]>=360)ht=-180,Pt=180;else if(ht>Pt){const mi=this.getClusters([ht,_t,180,Nt],We),Vi=this.getClusters([-180,_t,Pt,Nt],We);return mi.concat(Vi)}const Vt=this.trees[this._limitZoom(We)],Lt=Vt.range(we(ht),Re(Nt),we(Pt),Re(_t)),qt=[];for(const mi of Lt){const Vi=Vt.points[mi];qt.push(Vi.numPoints?ae(Vi):this.points[Vi.index])}return qt}getChildren(Fe){const We=this._getOriginId(Fe),ht=this._getOriginZoom(Fe),_t="No cluster with the specified id.",Pt=this.trees[ht];if(!Pt)throw new Error(_t);const Nt=Pt.points[We];if(!Nt)throw new Error(_t);const Vt=this.options.radius/(this.options.extent*Math.pow(2,ht-1)),Lt=Pt.within(Nt.x,Nt.y,Vt),qt=[];for(const mi of Lt){const Vi=Pt.points[mi];Vi.parentId===Fe&&qt.push(Vi.numPoints?ae(Vi):this.points[Vi.index])}if(qt.length===0)throw new Error(_t);return qt}getLeaves(Fe,We,ht){const _t=[];return this._appendLeaves(_t,Fe,We=We||10,ht=ht||0,0),_t}getTile(Fe,We,ht){const _t=this.trees[this._limitZoom(Fe)],Pt=Math.pow(2,Fe),{extent:Nt,radius:Vt}=this.options,Lt=Vt/Nt,qt=(ht-Lt)/Pt,mi=(ht+1+Lt)/Pt,Vi={features:[]};return this._addTileFeatures(_t.range((We-Lt)/Pt,qt,(We+1+Lt)/Pt,mi),_t.points,We,ht,Pt,Vi),We===0&&this._addTileFeatures(_t.range(1-Lt/Pt,qt,1,mi),_t.points,Pt,ht,Pt,Vi),We===Pt-1&&this._addTileFeatures(_t.range(0,qt,Lt/Pt,mi),_t.points,-1,ht,Pt,Vi),Vi.features.length?Vi:null}getClusterExpansionZoom(Fe){let We=this._getOriginZoom(Fe)-1;for(;We<=this.options.maxZoom;){const ht=this.getChildren(Fe);if(We++,ht.length!==1)break;Fe=ht[0].properties.cluster_id}return We}_appendLeaves(Fe,We,ht,_t,Pt){const Nt=this.getChildren(We);for(const Vt of Nt){const Lt=Vt.properties;if(Lt&&Lt.cluster?Pt+Lt.point_count<=_t?Pt+=Lt.point_count:Pt=this._appendLeaves(Fe,Lt.cluster_id,ht,_t,Pt):Pt<_t?Pt++:Fe.push(Vt),Fe.length===ht)break}return Pt}_addTileFeatures(Fe,We,ht,_t,Pt,Nt){for(const Vt of Fe){const Lt=We[Vt],qt=Lt.numPoints;let mi,Vi,Ci;if(qt)mi=me(Lt),Vi=Lt.x,Ci=Lt.y;else{const nn=this.points[Lt.index];mi=nn.properties,Vi=we(nn.geometry.coordinates[0]),Ci=Re(nn.geometry.coordinates[1])}const gn={type:1,geometry:[[Math.round(this.options.extent*(Vi*Pt-ht)),Math.round(this.options.extent*(Ci*Pt-_t))]],tags:mi};let mn;qt?mn=Lt.id:this.options.generateId?mn=Lt.index:this.points[Lt.index].id&&(mn=this.points[Lt.index].id),mn!==void 0&&(gn.id=mn),Nt.features.push(gn)}}_limitZoom(Fe){return Math.max(this.options.minZoom,Math.min(Math.floor(+Fe),this.options.maxZoom+1))}_cluster(Fe,We){const ht=[],{radius:_t,extent:Pt,reduce:Nt,minPoints:Vt}=this.options,Lt=_t/(Pt*Math.pow(2,We));for(let qt=0;qt<Fe.length;qt++){const mi=Fe[qt];if(mi.zoom<=We)continue;mi.zoom=We;const Vi=this.trees[We+1],Ci=Vi.within(mi.x,mi.y,Lt),gn=mi.numPoints||1;let mn=gn;for(const nn of Ci){const Ni=Vi.points[nn];Ni.zoom>We&&(mn+=Ni.numPoints||1)}if(mn>gn&&mn>=Vt){let nn=mi.x*gn,Ni=mi.y*gn,qn=Nt&&gn>1?this._map(mi,!0):null;const ds=(qt<<5)+(We+1)+this.points.length;for(const cn of Ci){const ks=Vi.points[cn];if(ks.zoom<=We)continue;ks.zoom=We;const gs=ks.numPoints||1;nn+=ks.x*gs,Ni+=ks.y*gs,ks.parentId=ds,Nt&&(qn||(qn=this._map(mi,!0)),Nt(qn,this._map(ks)))}mi.parentId=ds,ht.push(ye(nn/mn,Ni/mn,ds,mn,qn))}else if(ht.push(mi),mn>1)for(const nn of Ci){const Ni=Vi.points[nn];Ni.zoom<=We||(Ni.zoom=We,ht.push(Ni))}}return ht}_getOriginId(Fe){return Fe-this.points.length>>5}_getOriginZoom(Fe){return(Fe-this.points.length)%32}_map(Fe,We){if(Fe.numPoints)return We?Ge({},Fe.properties):Fe.properties;const ht=this.points[Fe.index].properties,_t=this.options.map(ht);return We&&_t===ht?Ge({},_t):_t}}function ye(ut,Fe,We,ht,_t){return{x:pe(ut),y:pe(Fe),zoom:1/0,id:We,parentId:-1,numPoints:ht,properties:_t}}function _e(ut,Fe){const[We,ht]=ut.geometry.coordinates;return{x:pe(we(We)),y:pe(Re(ht)),zoom:1/0,index:Fe,parentId:-1}}function ae(ut){return{type:"Feature",id:ut.id,properties:me(ut),geometry:{type:"Point",coordinates:[(Fe=ut.x,360*(Fe-.5)),Le(ut.y)]}};var Fe}function me(ut){const Fe=ut.numPoints,We=Fe>=1e4?`${Math.round(Fe/1e3)}k`:Fe>=1e3?Math.round(Fe/100)/10+"k":Fe;return Ge(Ge({},ut.properties),{cluster:!0,cluster_id:ut.id,point_count:Fe,point_count_abbreviated:We})}function we(ut){return ut/360+.5}function Re(ut){const Fe=Math.sin(ut*Math.PI/180),We=.5-.25*Math.log((1+Fe)/(1-Fe))/Math.PI;return We<0?0:We>1?1:We}function Le(ut){const Fe=(180-360*ut)*Math.PI/180;return 360*Math.atan(Math.exp(Fe))/Math.PI-90}function Ge(ut,Fe){for(const We in Fe)ut[We]=Fe[We];return ut}function rt(ut){return ut.x}function Qe(ut){return ut.y}function qe(ut,Fe,We,ht){for(var _t,Pt=ht,Nt=We-Fe>>1,Vt=We-Fe,Lt=ut[Fe],qt=ut[Fe+1],mi=ut[We],Vi=ut[We+1],Ci=Fe+3;Ci<We;Ci+=3){var gn=Te(ut[Ci],ut[Ci+1],Lt,qt,mi,Vi);if(gn>Pt)_t=Ci,Pt=gn;else if(gn===Pt){var mn=Math.abs(Ci-Nt);mn<Vt&&(_t=Ci,Vt=mn)}}Pt>ht&&(_t-Fe>3&&qe(ut,Fe,_t,ht),ut[_t+2]=Pt,We-_t>3&&qe(ut,_t,We,ht))}function Te(ut,Fe,We,ht,_t,Pt){var Nt=_t-We,Vt=Pt-ht;if(Nt!==0||Vt!==0){var Lt=((ut-We)*Nt+(Fe-ht)*Vt)/(Nt*Nt+Vt*Vt);Lt>1?(We=_t,ht=Pt):Lt>0&&(We+=Nt*Lt,ht+=Vt*Lt)}return(Nt=ut-We)*Nt+(Vt=Fe-ht)*Vt}function Oe(ut,Fe,We,ht){var _t={id:ut===void 0?null:ut,type:Fe,geometry:We,tags:ht,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Pt){var Nt=Pt.geometry,Vt=Pt.type;if(Vt==="Point"||Vt==="MultiPoint"||Vt==="LineString")ze(Pt,Nt);else if(Vt==="Polygon"||Vt==="MultiLineString")for(var Lt=0;Lt<Nt.length;Lt++)ze(Pt,Nt[Lt]);else if(Vt==="MultiPolygon")for(Lt=0;Lt<Nt.length;Lt++)for(var qt=0;qt<Nt[Lt].length;qt++)ze(Pt,Nt[Lt][qt])}(_t),_t}function ze(ut,Fe){for(var We=0;We<Fe.length;We+=3)ut.minX=Math.min(ut.minX,Fe[We]),ut.minY=Math.min(ut.minY,Fe[We+1]),ut.maxX=Math.max(ut.maxX,Fe[We]),ut.maxY=Math.max(ut.maxY,Fe[We+1])}function Xe(ut,Fe,We,ht){if(Fe.geometry){var _t=Fe.geometry.coordinates,Pt=Fe.geometry.type,Nt=Math.pow(We.tolerance/((1<<We.maxZoom)*We.extent),2),Vt=[],Lt=Fe.id;if(We.promoteId?Lt=Fe.properties[We.promoteId]:We.generateId&&(Lt=ht||0),Pt==="Point")Je(_t,Vt);else if(Pt==="MultiPoint")for(var qt=0;qt<_t.length;qt++)Je(_t[qt],Vt);else if(Pt==="LineString")pt(_t,Vt,Nt,!1);else if(Pt==="MultiLineString"){if(We.lineMetrics){for(qt=0;qt<_t.length;qt++)pt(_t[qt],Vt=[],Nt,!1),ut.push(Oe(Lt,"LineString",Vt,Fe.properties));return}bt(_t,Vt,Nt,!1)}else if(Pt==="Polygon")bt(_t,Vt,Nt,!0);else{if(Pt!=="MultiPolygon"){if(Pt==="GeometryCollection"){for(qt=0;qt<Fe.geometry.geometries.length;qt++)Xe(ut,{id:Lt,geometry:Fe.geometry.geometries[qt],properties:Fe.properties},We,ht);return}throw new Error("Input data is not a valid GeoJSON object.")}for(qt=0;qt<_t.length;qt++){var mi=[];bt(_t[qt],mi,Nt,!0),Vt.push(mi)}}ut.push(Oe(Lt,Pt,Vt,Fe.properties))}}function Je(ut,Fe){Fe.push(It(ut[0])),Fe.push(ui(ut[1])),Fe.push(0)}function pt(ut,Fe,We,ht){for(var _t,Pt,Nt=0,Vt=0;Vt<ut.length;Vt++){var Lt=It(ut[Vt][0]),qt=ui(ut[Vt][1]);Fe.push(Lt),Fe.push(qt),Fe.push(0),Vt>0&&(Nt+=ht?(_t*qt-Lt*Pt)/2:Math.sqrt(Math.pow(Lt-_t,2)+Math.pow(qt-Pt,2))),_t=Lt,Pt=qt}var mi=Fe.length-3;Fe[2]=1,qe(Fe,0,mi,We),Fe[mi+2]=1,Fe.size=Math.abs(Nt),Fe.start=0,Fe.end=Fe.size}function bt(ut,Fe,We,ht){for(var _t=0;_t<ut.length;_t++){var Pt=[];pt(ut[_t],Pt,We,ht),Fe.push(Pt)}}function It(ut){return ut/360+.5}function ui(ut){var Fe=Math.sin(ut*Math.PI/180),We=.5-.25*Math.log((1+Fe)/(1-Fe))/Math.PI;return We<0?0:We>1?1:We}function Ht(ut,Fe,We,ht,_t,Pt,Nt,Vt){if(ht/=Fe,Pt>=(We/=Fe)&&Nt<ht)return ut;if(Nt<We||Pt>=ht)return null;for(var Lt=[],qt=0;qt<ut.length;qt++){var mi=ut[qt],Vi=mi.geometry,Ci=mi.type,gn=_t===0?mi.minX:mi.minY,mn=_t===0?mi.maxX:mi.maxY;if(gn>=We&&mn<ht)Lt.push(mi);else if(!(mn<We||gn>=ht)){var nn=[];if(Ci==="Point"||Ci==="MultiPoint")di(Vi,nn,We,ht,_t);else if(Ci==="LineString")Ui(Vi,nn,We,ht,_t,!1,Vt.lineMetrics);else if(Ci==="MultiLineString")Ei(Vi,nn,We,ht,_t,!1);else if(Ci==="Polygon")Ei(Vi,nn,We,ht,_t,!0);else if(Ci==="MultiPolygon")for(var Ni=0;Ni<Vi.length;Ni++){var qn=[];Ei(Vi[Ni],qn,We,ht,_t,!0),qn.length&&nn.push(qn)}if(nn.length){if(Vt.lineMetrics&&Ci==="LineString"){for(Ni=0;Ni<nn.length;Ni++)Lt.push(Oe(mi.id,Ci,nn[Ni],mi.tags));continue}Ci!=="LineString"&&Ci!=="MultiLineString"||(nn.length===1?(Ci="LineString",nn=nn[0]):Ci="MultiLineString"),Ci!=="Point"&&Ci!=="MultiPoint"||(Ci=nn.length===3?"Point":"MultiPoint"),Lt.push(Oe(mi.id,Ci,nn,mi.tags))}}}return Lt.length?Lt:null}function di(ut,Fe,We,ht,_t){for(var Pt=0;Pt<ut.length;Pt+=3){var Nt=ut[Pt+_t];Nt>=We&&Nt<=ht&&(Fe.push(ut[Pt]),Fe.push(ut[Pt+1]),Fe.push(ut[Pt+2]))}}function Ui(ut,Fe,We,ht,_t,Pt,Nt){for(var Vt,Lt,qt=zi(ut),mi=_t===0?dn:Sn,Vi=ut.start,Ci=0;Ci<ut.length-3;Ci+=3){var gn=ut[Ci],mn=ut[Ci+1],nn=ut[Ci+2],Ni=ut[Ci+3],qn=ut[Ci+4],ds=_t===0?gn:mn,cn=_t===0?Ni:qn,ks=!1;Nt&&(Vt=Math.sqrt(Math.pow(gn-Ni,2)+Math.pow(mn-qn,2))),ds<We?cn>We&&(Lt=mi(qt,gn,mn,Ni,qn,We),Nt&&(qt.start=Vi+Vt*Lt)):ds>ht?cn<ht&&(Lt=mi(qt,gn,mn,Ni,qn,ht),Nt&&(qt.start=Vi+Vt*Lt)):Di(qt,gn,mn,nn),cn<We&&ds>=We&&(Lt=mi(qt,gn,mn,Ni,qn,We),ks=!0),cn>ht&&ds<=ht&&(Lt=mi(qt,gn,mn,Ni,qn,ht),ks=!0),!Pt&&ks&&(Nt&&(qt.end=Vi+Vt*Lt),Fe.push(qt),qt=zi(ut)),Nt&&(Vi+=Vt)}var gs=ut.length-3;gn=ut[gs],mn=ut[gs+1],nn=ut[gs+2],(ds=_t===0?gn:mn)>=We&&ds<=ht&&Di(qt,gn,mn,nn),gs=qt.length-3,Pt&&gs>=3&&(qt[gs]!==qt[0]||qt[gs+1]!==qt[1])&&Di(qt,qt[0],qt[1],qt[2]),qt.length&&Fe.push(qt)}function zi(ut){var Fe=[];return Fe.size=ut.size,Fe.start=ut.start,Fe.end=ut.end,Fe}function Ei(ut,Fe,We,ht,_t,Pt){for(var Nt=0;Nt<ut.length;Nt++)Ui(ut[Nt],Fe,We,ht,_t,Pt,!1)}function Di(ut,Fe,We,ht){ut.push(Fe),ut.push(We),ut.push(ht)}function dn(ut,Fe,We,ht,_t,Pt){var Nt=(Pt-Fe)/(ht-Fe);return ut.push(Pt),ut.push(We+(_t-We)*Nt),ut.push(1),Nt}function Sn(ut,Fe,We,ht,_t,Pt){var Nt=(Pt-We)/(_t-We);return ut.push(Fe+(ht-Fe)*Nt),ut.push(Pt),ut.push(1),Nt}function Zn(ut,Fe){for(var We=[],ht=0;ht<ut.length;ht++){var _t,Pt=ut[ht],Nt=Pt.type;if(Nt==="Point"||Nt==="MultiPoint"||Nt==="LineString")_t=kr(Pt.geometry,Fe);else if(Nt==="MultiLineString"||Nt==="Polygon"){_t=[];for(var Vt=0;Vt<Pt.geometry.length;Vt++)_t.push(kr(Pt.geometry[Vt],Fe))}else if(Nt==="MultiPolygon")for(_t=[],Vt=0;Vt<Pt.geometry.length;Vt++){for(var Lt=[],qt=0;qt<Pt.geometry[Vt].length;qt++)Lt.push(kr(Pt.geometry[Vt][qt],Fe));_t.push(Lt)}We.push(Oe(Pt.id,Nt,_t,Pt.tags))}return We}function kr(ut,Fe){var We=[];We.size=ut.size,ut.start!==void 0&&(We.start=ut.start,We.end=ut.end);for(var ht=0;ht<ut.length;ht+=3)We.push(ut[ht]+Fe,ut[ht+1],ut[ht+2]);return We}function ms(ut,Fe){if(ut.transformed)return ut;var We,ht,_t,Pt=1<<ut.z,Nt=ut.x,Vt=ut.y;for(We=0;We<ut.features.length;We++){var Lt=ut.features[We],qt=Lt.geometry,mi=Lt.type;if(Lt.geometry=[],mi===1)for(ht=0;ht<qt.length;ht+=2)Lt.geometry.push(zs(qt[ht],qt[ht+1],Fe,Pt,Nt,Vt));else for(ht=0;ht<qt.length;ht++){var Vi=[];for(_t=0;_t<qt[ht].length;_t+=2)Vi.push(zs(qt[ht][_t],qt[ht][_t+1],Fe,Pt,Nt,Vt));Lt.geometry.push(Vi)}}return ut.transformed=!0,ut}function zs(ut,Fe,We,ht,_t,Pt){return[Math.round(We*(ut*ht-_t)),Math.round(We*(Fe*ht-Pt))]}function tn(ut,Fe,We,ht,_t){for(var Pt=Fe===_t.maxZoom?0:_t.tolerance/((1<<Fe)*_t.extent),Nt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:We,y:ht,z:Fe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Vt=0;Vt<ut.length;Vt++){Nt.numFeatures++,xa(Nt,ut[Vt],Pt,_t);var Lt=ut[Vt].minX,qt=ut[Vt].minY,mi=ut[Vt].maxX,Vi=ut[Vt].maxY;Lt<Nt.minX&&(Nt.minX=Lt),qt<Nt.minY&&(Nt.minY=qt),mi>Nt.maxX&&(Nt.maxX=mi),Vi>Nt.maxY&&(Nt.maxY=Vi)}return Nt}function xa(ut,Fe,We,ht){var _t=Fe.geometry,Pt=Fe.type,Nt=[];if(Pt==="Point"||Pt==="MultiPoint")for(var Vt=0;Vt<_t.length;Vt+=3)Nt.push(_t[Vt]),Nt.push(_t[Vt+1]),ut.numPoints++,ut.numSimplified++;else if(Pt==="LineString")Ol(Nt,_t,ut,We,!1,!1);else if(Pt==="MultiLineString"||Pt==="Polygon")for(Vt=0;Vt<_t.length;Vt++)Ol(Nt,_t[Vt],ut,We,Pt==="Polygon",Vt===0);else if(Pt==="MultiPolygon")for(var Lt=0;Lt<_t.length;Lt++){var qt=_t[Lt];for(Vt=0;Vt<qt.length;Vt++)Ol(Nt,qt[Vt],ut,We,!0,Vt===0)}if(Nt.length){var mi=Fe.tags||null;if(Pt==="LineString"&&ht.lineMetrics){for(var Vi in mi={},Fe.tags)mi[Vi]=Fe.tags[Vi];mi.mapbox_clip_start=_t.start/_t.size,mi.mapbox_clip_end=_t.end/_t.size}var Ci={geometry:Nt,type:Pt==="Polygon"||Pt==="MultiPolygon"?3:Pt==="LineString"||Pt==="MultiLineString"?2:1,tags:mi};Fe.id!==null&&(Ci.id=Fe.id),ut.features.push(Ci)}}function Ol(ut,Fe,We,ht,_t,Pt){var Nt=ht*ht;if(ht>0&&Fe.size<(_t?Nt:ht))We.numPoints+=Fe.length/3;else{for(var Vt=[],Lt=0;Lt<Fe.length;Lt+=3)(ht===0||Fe[Lt+2]>Nt)&&(We.numSimplified++,Vt.push(Fe[Lt]),Vt.push(Fe[Lt+1])),We.numPoints++;_t&&function(qt,mi){for(var Vi=0,Ci=0,gn=qt.length,mn=gn-2;Ci<gn;mn=Ci,Ci+=2)Vi+=(qt[Ci]-qt[mn])*(qt[Ci+1]+qt[mn+1]);if(Vi>0===mi)for(Ci=0,gn=qt.length;Ci<gn/2;Ci+=2){var nn=qt[Ci],Ni=qt[Ci+1];qt[Ci]=qt[gn-2-Ci],qt[Ci+1]=qt[gn-1-Ci],qt[gn-2-Ci]=nn,qt[gn-1-Ci]=Ni}}(Vt,Pt),ut.push(Vt)}}function al(ut,Fe){var We=(Fe=this.options=function(_t,Pt){for(var Nt in Pt)_t[Nt]=Pt[Nt];return _t}(Object.create(this.options),Fe)).debug;if(We&&console.time("preprocess data"),Fe.maxZoom<0||Fe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Fe.promoteId&&Fe.generateId)throw new Error("promoteId and generateId cannot be used together.");var ht=function(_t,Pt){var Nt=[];if(_t.type==="FeatureCollection")for(var Vt=0;Vt<_t.features.length;Vt++)Xe(Nt,_t.features[Vt],Pt,Vt);else Xe(Nt,_t.type==="Feature"?_t:{geometry:_t},Pt);return Nt}(ut,Fe);this.tiles={},this.tileCoords=[],We&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Fe.indexMaxZoom,Fe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ht=function(_t,Pt){var Nt=Pt.buffer/Pt.extent,Vt=_t,Lt=Ht(_t,1,-1-Nt,Nt,0,-1,2,Pt),qt=Ht(_t,1,1-Nt,2+Nt,0,-1,2,Pt);return(Lt||qt)&&(Vt=Ht(_t,1,-Nt,1+Nt,0,-1,2,Pt)||[],Lt&&(Vt=Zn(Lt,1).concat(Vt)),qt&&(Vt=Vt.concat(Zn(qt,-1)))),Vt}(ht,Fe),ht.length&&this.splitTile(ht,0,0,0),We&&(ht.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Oa(ut,Fe,We){return 32*((1<<ut)*We+Fe)+ut}function _r(ut,Fe){const We=ut.tileID.canonical;if(!this._geoJSONIndex)return Fe(null,null);const ht=this._geoJSONIndex.getTile(We.z,We.x,We.y);if(!ht)return Fe(null,null);const _t=new M(ht.features);let Pt=E.exports(_t);Pt.byteOffset===0&&Pt.byteLength===Pt.buffer.byteLength||(Pt=new Uint8Array(Pt)),Fe(null,{vectorTile:_t,rawData:Pt.buffer})}al.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},al.prototype.splitTile=function(ut,Fe,We,ht,_t,Pt,Nt){for(var Vt=[ut,Fe,We,ht],Lt=this.options,qt=Lt.debug;Vt.length;){ht=Vt.pop(),We=Vt.pop(),Fe=Vt.pop(),ut=Vt.pop();var mi=1<<Fe,Vi=Oa(Fe,We,ht),Ci=this.tiles[Vi];if(!Ci&&(qt>1&&console.time("creation"),Ci=this.tiles[Vi]=tn(ut,Fe,We,ht,Lt),this.tileCoords.push({z:Fe,x:We,y:ht}),qt)){qt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Fe,We,ht,Ci.numFeatures,Ci.numPoints,Ci.numSimplified),console.timeEnd("creation"));var gn="z"+Fe;this.stats[gn]=(this.stats[gn]||0)+1,this.total++}if(Ci.source=ut,_t){if(Fe===Lt.maxZoom||Fe===_t)continue;var mn=1<<_t-Fe;if(We!==Math.floor(Pt/mn)||ht!==Math.floor(Nt/mn))continue}else if(Fe===Lt.indexMaxZoom||Ci.numPoints<=Lt.indexMaxPoints)continue;if(Ci.source=null,ut.length!==0){qt>1&&console.time("clipping");var nn,Ni,qn,ds,cn,ks,gs=.5*Lt.buffer/Lt.extent,aa=.5-gs,la=.5+gs,Vr=1+gs;nn=Ni=qn=ds=null,cn=Ht(ut,mi,We-gs,We+la,0,Ci.minX,Ci.maxX,Lt),ks=Ht(ut,mi,We+aa,We+Vr,0,Ci.minX,Ci.maxX,Lt),ut=null,cn&&(nn=Ht(cn,mi,ht-gs,ht+la,1,Ci.minY,Ci.maxY,Lt),Ni=Ht(cn,mi,ht+aa,ht+Vr,1,Ci.minY,Ci.maxY,Lt),cn=null),ks&&(qn=Ht(ks,mi,ht-gs,ht+la,1,Ci.minY,Ci.maxY,Lt),ds=Ht(ks,mi,ht+aa,ht+Vr,1,Ci.minY,Ci.maxY,Lt),ks=null),qt>1&&console.timeEnd("clipping"),Vt.push(nn||[],Fe+1,2*We,2*ht),Vt.push(Ni||[],Fe+1,2*We,2*ht+1),Vt.push(qn||[],Fe+1,2*We+1,2*ht),Vt.push(ds||[],Fe+1,2*We+1,2*ht+1)}}},al.prototype.getTile=function(ut,Fe,We){var ht=this.options,_t=ht.extent,Pt=ht.debug;if(ut<0||ut>24)return null;var Nt=1<<ut,Vt=Oa(ut,Fe=(Fe%Nt+Nt)%Nt,We);if(this.tiles[Vt])return ms(this.tiles[Vt],_t);Pt>1&&console.log("drilling down to z%d-%d-%d",ut,Fe,We);for(var Lt,qt=ut,mi=Fe,Vi=We;!Lt&&qt>0;)qt--,mi=Math.floor(mi/2),Vi=Math.floor(Vi/2),Lt=this.tiles[Oa(qt,mi,Vi)];return Lt&&Lt.source?(Pt>1&&console.log("found parent tile z%d-%d-%d",qt,mi,Vi),Pt>1&&console.time("drilling down"),this.splitTile(Lt.source,qt,mi,Vi,ut,Fe,We),Pt>1&&console.timeEnd("drilling down"),this.tiles[Vt]?ms(this.tiles[Vt],_t):null):null};class Ra extends n.VectorTileWorkerSource{constructor(Fe,We,ht,_t,Pt){super(Fe,We,ht,_t,_r),Pt&&(this.loadGeoJSON=Pt)}loadData(Fe,We){const ht=Fe&&Fe.request,_t=ht&&ht.collectResourceTiming;this.loadGeoJSON(Fe,(Pt,Nt)=>{if(Pt||!Nt)return We(Pt);if(typeof Nt!="object")return We(new Error(`Input data given to '${Fe.source}' is not a valid GeoJSON object.`));{H(Nt,!0);try{if(Fe.filter){const Lt=n.createExpression(Fe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Lt.result==="error")throw new Error(Lt.value.map(mi=>`${mi.key}: ${mi.message}`).join(", "));Nt={type:"FeatureCollection",features:Nt.features.filter(mi=>Lt.value.evaluate({zoom:0},mi))}}this._geoJSONIndex=Fe.cluster?new ne(function({superclusterOptions:Lt,clusterProperties:qt}){if(!qt||!Lt)return Lt;const mi={},Vi={},Ci={accumulated:null,zoom:0},gn={properties:null},mn=Object.keys(qt);for(const nn of mn){const[Ni,qn]=qt[nn],ds=n.createExpression(qn),cn=n.createExpression(typeof Ni=="string"?[Ni,["accumulated"],["get",nn]]:Ni);mi[nn]=ds.value,Vi[nn]=cn.value}return Lt.map=nn=>{gn.properties=nn;const Ni={};for(const qn of mn)Ni[qn]=mi[qn].evaluate(Ci,gn);return Ni},Lt.reduce=(nn,Ni)=>{gn.properties=Ni;for(const qn of mn)Ci.accumulated=nn[qn],nn[qn]=Vi[qn].evaluate(Ci,gn)},Lt}(Fe)).load(Nt.features):function(Lt,qt){return new al(Lt,qt)}(Nt,Fe.geojsonVtOptions)}catch(Lt){return We(Lt)}this.loaded={};const Vt={};if(_t){const Lt=n.getPerformanceMeasurement(ht);Lt&&(Vt.resourceTiming={},Vt.resourceTiming[Fe.source]=JSON.parse(JSON.stringify(Lt)))}We(null,Vt)}})}reloadTile(Fe,We){const ht=this.loaded;return ht&&ht[Fe.uid]?super.reloadTile(Fe,We):this.loadTile(Fe,We)}loadGeoJSON(Fe,We){if(Fe.request)n.getJSON(Fe.request,We);else{if(typeof Fe.data!="string")return We(new Error(`Input data given to '${Fe.source}' is not a valid GeoJSON object.`));try{return We(null,JSON.parse(Fe.data))}catch{return We(new Error(`Input data given to '${Fe.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(Fe,We){try{We(null,this._geoJSONIndex.getClusterExpansionZoom(Fe.clusterId))}catch(ht){We(ht)}}getClusterChildren(Fe,We){try{We(null,this._geoJSONIndex.getChildren(Fe.clusterId))}catch(ht){We(ht)}}getClusterLeaves(Fe,We){try{We(null,this._geoJSONIndex.getLeaves(Fe.clusterId,Fe.limit,Fe.offset))}catch(ht){We(ht)}}}class lc{constructor(Fe){this.self=Fe,this.actor=new n.Actor(Fe,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=n.getProjection({name:"mercator"}),this.workerSourceTypes={vector:n.VectorTileWorkerSource,geojson:Ra},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(We,ht)=>{if(this.workerSourceTypes[We])throw new Error(`Worker source with name "${We}" already registered.`);this.workerSourceTypes[We]=ht},this.self.registerRTLTextPlugin=We=>{if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=We.applyArabicShaping,n.plugin.processBidirectionalText=We.processBidirectionalText,n.plugin.processStyledBidirectionalText=We.processStyledBidirectionalText}}clearCaches(Fe,We,ht){delete this.layerIndexes[Fe],delete this.availableImages[Fe],delete this.workerSources[Fe],delete this.demWorkerSources[Fe],ht()}checkIfReady(Fe,We,ht){ht()}setReferrer(Fe,We){this.referrer=We}spriteLoaded(Fe,We){this.isSpriteLoaded[Fe]=We;for(const ht in this.workerSources[Fe]){const _t=this.workerSources[Fe][ht];for(const Pt in _t)_t[Pt]instanceof n.VectorTileWorkerSource&&(_t[Pt].isSpriteLoaded=We,_t[Pt].fire(new n.Event("isSpriteLoaded")))}}setImages(Fe,We,ht){this.availableImages[Fe]=We;for(const _t in this.workerSources[Fe]){const Pt=this.workerSources[Fe][_t];for(const Nt in Pt)Pt[Nt].availableImages=We}ht()}enableTerrain(Fe,We,ht){this.terrain=We,ht()}setProjection(Fe,We){this.projections[Fe]=n.getProjection(We)}setLayers(Fe,We,ht){this.getLayerIndex(Fe).replace(We),ht()}updateLayers(Fe,We,ht){this.getLayerIndex(Fe).update(We.layers,We.removedIds),ht()}loadTile(Fe,We,ht){const _t=this.enableTerrain?n.extend({enableTerrain:this.terrain},We):We;_t.projection=this.projections[Fe]||this.defaultProjection,this.getWorkerSource(Fe,We.type,We.source).loadTile(_t,ht)}loadDEMTile(Fe,We,ht){const _t=this.enableTerrain?n.extend({buildQuadTree:this.terrain},We):We;this.getDEMWorkerSource(Fe,We.source).loadTile(_t,ht)}reloadTile(Fe,We,ht){const _t=this.enableTerrain?n.extend({enableTerrain:this.terrain},We):We;_t.projection=this.projections[Fe]||this.defaultProjection,this.getWorkerSource(Fe,We.type,We.source).reloadTile(_t,ht)}abortTile(Fe,We,ht){this.getWorkerSource(Fe,We.type,We.source).abortTile(We,ht)}removeTile(Fe,We,ht){this.getWorkerSource(Fe,We.type,We.source).removeTile(We,ht)}removeSource(Fe,We,ht){if(!this.workerSources[Fe]||!this.workerSources[Fe][We.type]||!this.workerSources[Fe][We.type][We.source])return;const _t=this.workerSources[Fe][We.type][We.source];delete this.workerSources[Fe][We.type][We.source],_t.removeSource!==void 0?_t.removeSource(We,ht):ht()}loadWorkerSource(Fe,We,ht){try{this.self.importScripts(We.url),ht()}catch(_t){ht(_t.toString())}}syncRTLPluginState(Fe,We,ht){try{n.plugin.setState(We);const _t=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&_t!=null){this.self.importScripts(_t);const Pt=n.plugin.isParsed();ht(Pt?void 0:new Error(`RTL Text Plugin failed to import scripts from ${_t}`),Pt)}}catch(_t){ht(_t.toString())}}getAvailableImages(Fe){let We=this.availableImages[Fe];return We||(We=[]),We}getLayerIndex(Fe){let We=this.layerIndexes[Fe];return We||(We=this.layerIndexes[Fe]=new Z),We}getWorkerSource(Fe,We,ht){if(this.workerSources[Fe]||(this.workerSources[Fe]={}),this.workerSources[Fe][We]||(this.workerSources[Fe][We]={}),!this.workerSources[Fe][We][ht]){const _t={send:(Pt,Nt,Vt,Lt,qt,mi)=>{this.actor.send(Pt,Nt,Vt,Fe,qt,mi)},scheduler:this.actor.scheduler};this.workerSources[Fe][We][ht]=new this.workerSourceTypes[We](_t,this.getLayerIndex(Fe),this.getAvailableImages(Fe),this.isSpriteLoaded[Fe])}return this.workerSources[Fe][We][ht]}getDEMWorkerSource(Fe,We){return this.demWorkerSources[Fe]||(this.demWorkerSources[Fe]={}),this.demWorkerSources[Fe][We]||(this.demWorkerSources[Fe][We]=new O),this.demWorkerSources[Fe][We]}enforceCacheSizeLimit(Fe,We){n.enforceCacheSizeLimit(We)}getWorkerPerformanceMetrics(Fe,We,ht){ht(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new lc(self)),lc}),d(["./shared"],function(n){function S(y,l){if(Array.isArray(y)){if(!Array.isArray(l)||y.length!==l.length)return!1;for(let u=0;u<y.length;u++)if(!S(y[u],l[u]))return!1;return!0}if(typeof y=="object"&&y!==null&&l!==null){if(typeof l!="object"||Object.keys(y).length!==Object.keys(l).length)return!1;for(const u in y)if(!S(y[u],l[u]))return!1;return!0}return y===l}var z=Z;function Z(y){return!function(l){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var b,I,F=new Blob([""],{type:"text/javascript"}),se=URL.createObjectURL(F);try{I=new Worker(se),b=!0}catch{b=!1}return I&&I.terminate(),URL.revokeObjectURL(se),b}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var b=document.createElement("canvas");b.width=b.height=1;var I=b.getContext("2d");if(!I)return!1;var F=I.getImageData(0,0,1,1);return F&&F.width===b.width}()?(O[u=l&&l.failIfMajorPerformanceCaveat]===void 0&&(O[u]=function(b){var I,F=function(se){var de=document.createElement("canvas"),fe=Object.create(Z.webGLContextAttributes);return fe.failIfMajorPerformanceCaveat=se,de.getContext("webgl",fe)||de.getContext("experimental-webgl",fe)}(b);if(!F)return!1;try{I=F.createShader(F.VERTEX_SHADER)}catch{return!1}return!(!I||F.isContextLost())&&(F.shaderSource(I,"void main() {}"),F.compileShader(I),F.getShaderParameter(I,F.COMPILE_STATUS)===!0)}(u)),O[u]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var u}(y)}var O={};function H(y,l,u){const b=n.window.document.createElement(y);return l!==void 0&&(b.className=l),u&&u.appendChild(b),b}function q(y,l,u){const b=n.window.document.createElementNS("http://www.w3.org/2000/svg",y);for(const I of Object.keys(l))b.setAttributeNS(null,I,l[I]);return u&&u.appendChild(b),b}Z.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const L=n.window.document&&n.window.document.documentElement.style,R=L&&L.userSelect!==void 0?"userSelect":"WebkitUserSelect";let $;function M(){L&&R&&($=L[R],L[R]="none")}function E(){L&&R&&(L[R]=$)}function k(y){y.preventDefault(),y.stopPropagation(),n.window.removeEventListener("click",k,!0)}function V(){n.window.addEventListener("click",k,!0),n.window.setTimeout(()=>{n.window.removeEventListener("click",k,!0)},0)}function G(y,l){const u=y.getBoundingClientRect();return Q(y,u,l)}function C(y,l){const u=y.getBoundingClientRect(),b=[];for(let I=0;I<l.length;I++)b.push(Q(y,u,l[I]));return b}function te(y){return n.window.InstallTrigger!==void 0&&y.button===2&&y.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:y.button}function Q(y,l,u){const b=y.offsetWidth===l.width?1:y.offsetWidth/l.width;return new n.pointGeometry((u.clientX-l.left)*b,(u.clientY-l.top)*b)}function N(y,l){var u=l[0],b=l[1],I=l[2],F=l[3],se=u*F-I*b;return se?(y[0]=F*(se=1/se),y[1]=-b*se,y[2]=-I*se,y[3]=u*se,y):null}function j(y){const{userImage:l}=y;return!!(l&&l.render&&l.render())&&(y.data.replace(new Uint8Array(l.data.buffer)),!0)}class W extends n.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(l){if(this.loaded!==l&&(this.loaded=l,l)){for(const{ids:u,callback:b}of this.requestors)this._notify(u,b);this.requestors=[]}}hasImage(l){return!!this.getImage(l)}getImage(l){return this.images[l]}addImage(l,u){this._validate(l,u)&&(this.images[l]=u)}_validate(l,u){let b=!0;return this._validateStretch(u.stretchX,u.data&&u.data.width)||(this.fire(new n.ErrorEvent(new Error(`Image "${l}" has invalid "stretchX" value`))),b=!1),this._validateStretch(u.stretchY,u.data&&u.data.height)||(this.fire(new n.ErrorEvent(new Error(`Image "${l}" has invalid "stretchY" value`))),b=!1),this._validateContent(u.content,u)||(this.fire(new n.ErrorEvent(new Error(`Image "${l}" has invalid "content" value`))),b=!1),b}_validateStretch(l,u){if(!l)return!0;let b=0;for(const I of l){if(I[0]<b||I[1]<I[0]||u<I[1])return!1;b=I[1]}return!0}_validateContent(l,u){return!(l&&(l.length!==4||l[0]<0||u.data.width<l[0]||l[1]<0||u.data.height<l[1]||l[2]<0||u.data.width<l[2]||l[3]<0||u.data.height<l[3]||l[2]<l[0]||l[3]<l[1]))}updateImage(l,u){u.version=this.images[l].version+1,this.images[l]=u,this.updatedImages[l]=!0}removeImage(l){const u=this.images[l];delete this.images[l],delete this.patterns[l],u.userImage&&u.userImage.onRemove&&u.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(l,u){let b=!0;if(!this.isLoaded())for(const I of l)this.images[I]||(b=!1);this.isLoaded()||b?this._notify(l,u):this.requestors.push({ids:l,callback:u})}_notify(l,u){const b={};for(const I of l){this.images[I]||this.fire(new n.Event("styleimagemissing",{id:I}));const F=this.images[I];F?b[I]={data:F.data.clone(),pixelRatio:F.pixelRatio,sdf:F.sdf,version:F.version,stretchX:F.stretchX,stretchY:F.stretchY,content:F.content,hasRenderCallback:!!(F.userImage&&F.userImage.render)}:n.warnOnce(`Image "${I}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}u(null,b)}getPixelSize(){const{width:l,height:u}=this.atlasImage;return{width:l,height:u}}getPattern(l){const u=this.patterns[l],b=this.getImage(l);if(!b)return null;if(u&&u.position.version===b.version)return u.position;if(u)u.position.version=b.version;else{const I={w:b.data.width+2,h:b.data.height+2,x:0,y:0},F=new n.ImagePosition(I,b);this.patterns[l]={bin:I,position:F}}return this._updatePatternAtlas(),this.patterns[l].position}bind(l){const u=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(l,this.atlasImage,u.RGBA),this.atlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE)}_updatePatternAtlas(){const l=[];for(const F in this.patterns)l.push(this.patterns[F].bin);const{w:u,h:b}=n.potpack(l),I=this.atlasImage;I.resize({width:u||1,height:b||1});for(const F in this.patterns){const{bin:se}=this.patterns[F],de=se.x+1,fe=se.y+1,De=this.images[F].data,ke=De.width,Ne=De.height;n.RGBAImage.copy(De,I,{x:0,y:0},{x:de,y:fe},{width:ke,height:Ne}),n.RGBAImage.copy(De,I,{x:0,y:Ne-1},{x:de,y:fe-1},{width:ke,height:1}),n.RGBAImage.copy(De,I,{x:0,y:0},{x:de,y:fe+Ne},{width:ke,height:1}),n.RGBAImage.copy(De,I,{x:ke-1,y:0},{x:de-1,y:fe},{width:1,height:Ne}),n.RGBAImage.copy(De,I,{x:0,y:0},{x:de+ke,y:fe},{width:1,height:Ne})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(l){for(const u of l){if(this.callbackDispatchedThisFrame[u])continue;this.callbackDispatchedThisFrame[u]=!0;const b=this.images[u];j(b)&&this.updateImage(u,b)}}}const w=new n.Properties({anchor:new n.DataConstantProperty(n.spec.light.anchor),position:new class{constructor(){this.specification=n.spec.light.position}possiblyEvaluate(y,l){return function([u,b,I]){const F=n.degToRad(b+90),se=n.degToRad(I);return{x:u*Math.cos(F)*Math.sin(se),y:u*Math.sin(F)*Math.sin(se),z:u*Math.cos(se),azimuthal:b,polar:I}}(y.expression.evaluate(l))}interpolate(y,l,u){return{x:n.number(y.x,l.x,u),y:n.number(y.y,l.y,u),z:n.number(y.z,l.z,u),azimuthal:n.number(y.azimuthal,l.azimuthal,u),polar:n.number(y.polar,l.polar,u)}}},color:new n.DataConstantProperty(n.spec.light.color),intensity:new n.DataConstantProperty(n.spec.light.intensity)}),D="-transition";class f extends n.Evented{constructor(l){super(),this._transitionable=new n.Transitionable(w),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(l,u={}){if(!this._validate(n.validateLight,l,u))for(const b in l){const I=l[b];n.endsWith(b,D)?this._transitionable.setTransition(b.slice(0,-D.length),I):this._transitionable.setValue(b,I)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,u,b){return(!b||b.validate!==!1)&&n.emitValidationErrors(this,l.call(n.validateStyle,n.extend({value:u,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}const g=new n.Properties({source:new n.DataConstantProperty(n.spec.terrain.source),exaggeration:new n.DataConstantProperty(n.spec.terrain.exaggeration)}),x="-transition";class P extends n.Evented{constructor(l,u){super(),this._transitionable=new n.Transitionable(g),this.set(l),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=u}get(){return this._transitionable.serialize()}set(l){for(const u in l){const b=l[u];n.endsWith(u,x)?this._transitionable.setTransition(u.slice(0,-x.length),b):this._transitionable.setValue(u,b)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}}function Y(y,l,u,b){const I=n.smoothstep(45,65,u),[F,se]=ee(y,b),de=n.length(l);let fe=1-Math.min(1,Math.exp((de-F)/(se-F)*-6));return fe*=fe*fe,fe=Math.min(1,1.00747*fe),fe*I*y.alpha}function ee(y,l){const u=.5/Math.tan(.5*l);return[y.range[0]+u,y.range[1]+u]}const K=new n.Properties({range:new n.DataConstantProperty(n.spec.fog.range),color:new n.DataConstantProperty(n.spec.fog.color),"high-color":new n.DataConstantProperty(n.spec.fog["high-color"]),"space-color":new n.DataConstantProperty(n.spec.fog["space-color"]),"horizon-blend":new n.DataConstantProperty(n.spec.fog["horizon-blend"]),"star-intensity":new n.DataConstantProperty(n.spec.fog["star-intensity"])}),he="-transition";class ge extends n.Evented{constructor(l,u){super(),this._transitionable=new n.Transitionable(K),this.set(l),this._transitioning=this._transitionable.untransitioned(),this._transform=u}get state(){const l=this._transform,u=l.projection.name==="globe",b=n.globeToMercatorTransition(l.zoom),I=this.properties.get("range"),F=[.5,3];return{range:u?[n.number(F[0],I[0],b),n.number(F[1],I[1],b)]:I,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(l,u={}){if(!this._validate(n.validateFog,l,u)){for(const b of Object.keys(n.spec.fog))l&&l[b]===void 0&&(l[b]=n.spec.fog[b].default);for(const b in l){const I=l[b];n.endsWith(b,he)?this._transitionable.setTransition(b.slice(0,-he.length),I):this._transitionable.setValue(b,I)}}}getOpacity(l){if(!this._transform.projection.supportsFog)return 0;const u=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:n.smoothstep(45,65,l))*u.a}getOpacityAtLatLng(l,u){return this._transform.projection.supportsFog?function(b,I,F){const se=n.MercatorCoordinate.fromLngLat(I),de=F.elevation?F.elevation.getAtPointOrZero(se):0,fe=[se.x,se.y,de];return n.transformMat4(fe,fe,F.mercatorFogMatrix),Y(b,fe,F.pitch,F._fov)}(this.state,l,u):0}getFovAdjustedRange(l){return this._transform.projection.supportsFog?ee(this.state,l):[0,1]}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,u,b){return(!b||b.validate!==!1)&&n.emitValidationErrors(this,l.call(n.validateStyle,n.extend({value:u,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}class Ee{constructor(l,u){this.workerPool=l,this.actors=[],this.currentActor=0,this.id=n.uniqueId();const b=this.workerPool.acquire(this.id);for(let I=0;I<b.length;I++){const F=new Ee.Actor(b[I],u,this.id);F.name=`Worker ${I}`,this.actors.push(F)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(l,u,b){n.asyncAll(this.actors,(I,F)=>{I.send(l,u,F)},b=b||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(l=>{l.remove()}),this.actors=[],this.workerPool.release(this.id)}}function J(y,l,u){return l*(n.EXTENT/(y.tileSize*Math.pow(2,u-y.tileID.overscaledZ)))}Ee.Actor=n.Actor;class oe{constructor(l,u,b,I){this.screenBounds=l,this.cameraPoint=u,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=b,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,I)}static createFromScreenPoints(l,u){let b,I;if(l instanceof n.pointGeometry||typeof l[0]=="number"){const F=n.pointGeometry.convert(l);b=[F],I=u.isPointAboveHorizon(F)}else{const F=n.pointGeometry.convert(l[0]),se=n.pointGeometry.convert(l[1]);b=[F,se],I=n.polygonizeBounds(F,se).every(de=>u.isPointAboveHorizon(de))}return new oe(b,u.getCameraPoint(),I,u)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(l){return n.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],l)}bufferedCameraGeometry(l){const u=this.screenBounds[0],b=this.screenBounds.length===1?this.screenBounds[0].add(new n.pointGeometry(1,1)):this.screenBounds[1],I=n.polygonizeBounds(u,b,0,!1);return this.cameraPoint.y>b.y&&(this.cameraPoint.x>u.x&&this.cameraPoint.x<b.x?I.splice(3,0,this.cameraPoint):this.cameraPoint.x>=b.x?I[2]=this.cameraPoint:this.cameraPoint.x<=u.x&&(I[3]=this.cameraPoint)),n.bufferConvexPolygon(I,l)}bufferedCameraGeometryGlobe(l){const u=this.screenBounds[0],b=this.screenBounds.length===1?this.screenBounds[0].add(new n.pointGeometry(1,1)):this.screenBounds[1],I=n.polygonizeBounds(u,b,l),F=this.cameraPoint.clone();switch(3*((F.y>u.y)+(F.y>b.y))+((F.x>u.x)+(F.x>b.x))){case 0:I[0]=F,I[4]=F.clone();break;case 1:I.splice(1,0,F);break;case 2:I[1]=F;break;case 3:I.splice(4,0,F);break;case 5:I.splice(2,0,F);break;case 6:I[3]=F;break;case 7:I.splice(3,0,F);break;case 8:I[2]=F}return I}containsTile(l,u,b,I=0){const F=l.queryPadding/u._pixelsPerMercatorPixel+1,se=b?this._bufferedCameraMercator(F,u):this._bufferedScreenMercator(F,u);let de=l.tileID.wrap+(se.unwrapped?I:0);const fe=se.polygon.map(et=>n.getTilePoint(l.tileTransform,et,de));if(!n.polygonIntersectsBox(fe,0,0,n.EXTENT,n.EXTENT))return;de=l.tileID.wrap+(this.screenGeometryMercator.unwrapped?I:0);const De=this.screenGeometryMercator.polygon.map(et=>n.getTileVec3(l.tileTransform,et,de)),ke=De.map(et=>new n.pointGeometry(et[0],et[1])),Ne=u.getFreeCameraOptions().position||new n.MercatorCoordinate(0,0,0),Ze=n.getTileVec3(l.tileTransform,Ne,de),at=De.map(et=>{const nt=n.sub(et,et,Ze);return n.normalize(nt,nt),new n.Ray(Ze,nt)}),lt=J(l,1,u.zoom)*u._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:ke,tilespaceRays:at,bufferedTilespaceGeometry:fe,bufferedTilespaceBounds:(dt=n.getBounds(fe),dt.min.x=n.clamp(dt.min.x,0,n.EXTENT),dt.min.y=n.clamp(dt.min.y,0,n.EXTENT),dt.max.x=n.clamp(dt.max.x,0,n.EXTENT),dt.max.y=n.clamp(dt.max.y,0,n.EXTENT),dt),tile:l,tileID:l.tileID,pixelToTileUnitsFactor:lt};var dt}_bufferedScreenMercator(l,u){const b=Ce(l);if(this._screenRaycastCache[b])return this._screenRaycastCache[b];{let I;return I=u.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(l),u):{polygon:this.bufferedScreenGeometry(l).map(F=>u.pointCoordinate3D(F)),unwrapped:!0},this._screenRaycastCache[b]=I,I}}_bufferedCameraMercator(l,u){const b=Ce(l);if(this._cameraRaycastCache[b])return this._cameraRaycastCache[b];{let I;return I=u.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(l),u):{polygon:this.bufferedCameraGeometry(l).map(F=>u.pointCoordinate3D(F)),unwrapped:!0},this._cameraRaycastCache[b]=I,I}}_projectAndResample(l,u){const b=function(F,se){const de=n.multiply([],se.pixelMatrix,se.globeMatrix),fe=[0,-n.GLOBE_RADIUS,0,1],De=[0,n.GLOBE_RADIUS,0,1],ke=[0,0,0,1];n.transformMat4$1(fe,fe,de),n.transformMat4$1(De,De,de),n.transformMat4$1(ke,ke,de);const Ne=new n.pointGeometry(fe[0]/fe[3],fe[1]/fe[3]),Ze=new n.pointGeometry(De[0]/De[3],De[1]/De[3]),at=n.polygonContainsPoint(F,Ne)&&fe[3]<ke[3],lt=n.polygonContainsPoint(F,Ze)&&De[3]<ke[3];if(!at&&!lt)return null;const dt=function(zt,Qt,Zt){for(let Gt=1;Gt<zt.length;Gt++){const wi=pe(Qt.pointCoordinate3D(zt[Gt-1]).x),Yt=pe(Qt.pointCoordinate3D(zt[Gt]).x);if(Zt<0){if(wi<Yt)return{idx:Gt,t:-wi/(Yt-1-wi)}}else if(Yt<wi)return{idx:Gt,t:(1-wi)/(Yt+1-wi)}}return null}(F,se,at?-1:1);if(!dt)return null;const{idx:et,t:nt}=dt;let ft=et>1?ce(F.slice(0,et),se):[],ct=et<F.length?ce(F.slice(et),se):[];ft=ft.map(zt=>new n.pointGeometry(pe(zt.x),zt.y)),ct=ct.map(zt=>new n.pointGeometry(pe(zt.x),zt.y));const vt=[...ft];vt.length===0&&vt.push(ct[ct.length-1]);const At=n.number(vt[vt.length-1].y,(ct.length===0?ft[0]:ct[0]).y,nt);let wt;return wt=at?[new n.pointGeometry(0,At),new n.pointGeometry(0,0),new n.pointGeometry(1,0),new n.pointGeometry(1,At)]:[new n.pointGeometry(1,At),new n.pointGeometry(1,1),new n.pointGeometry(0,1),new n.pointGeometry(0,At)],vt.push(...wt),ct.length===0?vt.push(ft[0]):vt.push(...ct),{polygon:vt.map(zt=>new n.MercatorCoordinate(zt.x,zt.y)),unwrapped:!1}}(l,u);if(b)return b;const I=function(F,se){let de=!1,fe=-1/0,De=0;for(let Ne=0;Ne<F.length-1;Ne++)F[Ne].x>fe&&(fe=F[Ne].x,De=Ne);for(let Ne=0;Ne<F.length-1;Ne++){const Ze=(De+Ne)%(F.length-1),at=F[Ze],lt=F[Ze+1];Math.abs(at.x-lt.x)>.5&&(at.x<lt.x?(at.x+=1,Ze===0&&(F[F.length-1].x+=1)):(lt.x+=1,Ze+1===F.length-1&&(F[0].x+=1)),de=!0)}const ke=n.mercatorXfromLng(se.center.lng);return de&&ke<Math.abs(ke-1)&&F.forEach(Ne=>{Ne.x-=1}),{polygon:F,unwrapped:de}}(ce(l,u).map(F=>new n.pointGeometry(pe(F.x),F.y)),u);return{polygon:I.polygon.map(F=>new n.MercatorCoordinate(F.x,F.y)),unwrapped:I.unwrapped}}}function ce(y,l){return n.resample(y,u=>{const b=l.pointCoordinate3D(u);u.x=b.x,u.y=b.y},1/256)}function pe(y){return y<0?1+y%1:y%1}function Ce(y){return 100*y|0}function ne(y,l,u,b,I){const F=function(se,de){if(se)return I(se);if(de){y.url&&de.tiles&&y.tiles&&delete y.tiles;const fe=n.pick(n.extend(de,y),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);de.vector_layers&&(fe.vectorLayers=de.vector_layers,fe.vectorLayerIds=fe.vectorLayers.map(De=>De.id)),fe.tiles=l.canonicalizeTileset(fe,y.url),I(null,fe)}};return y.url?n.getJSON(l.transformRequest(l.normalizeSourceURL(y.url,null,u,b),n.ResourceType.Source),F):n.exported.frame(()=>F(null,y))}class ye{constructor(l,u,b){this.bounds=n.LngLatBounds.convert(this.validateBounds(l)),this.minzoom=u||0,this.maxzoom=b||24}validateBounds(l){return Array.isArray(l)&&l.length===4?[Math.max(-180,l[0]),Math.max(-90,l[1]),Math.min(180,l[2]),Math.min(90,l[3])]:[-180,-90,180,90]}contains(l){const u=Math.pow(2,l.z),b=Math.floor(n.mercatorXfromLng(this.bounds.getWest())*u),I=Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*u),F=Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*u),se=Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*u);return l.x>=b&&l.x<F&&l.y>=I&&l.y<se}}class _e{constructor(l,u,b){this.context=l;const I=l.gl;this.buffer=I.createBuffer(),this.dynamicDraw=!!b,this.context.unbindVAO(),l.bindElementBuffer.set(this.buffer),I.bufferData(I.ELEMENT_ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?I.DYNAMIC_DRAW:I.STATIC_DRAW),this.dynamicDraw||u.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(l){const u=this.context.gl;this.context.unbindVAO(),this.bind(),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,l.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ae={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class me{constructor(l,u,b,I){this.length=u.length,this.attributes=b,this.itemSize=u.bytesPerElement,this.dynamicDraw=I,this.context=l;const F=l.gl;this.buffer=F.createBuffer(),l.bindVertexBuffer.set(this.buffer),F.bufferData(F.ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?F.DYNAMIC_DRAW:F.STATIC_DRAW),this.dynamicDraw||u.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(l){const u=this.context.gl;this.bind(),u.bufferSubData(u.ARRAY_BUFFER,0,l.arrayBuffer)}enableAttributes(l,u){for(let b=0;b<this.attributes.length;b++){const I=u.attributes[this.attributes[b].name];I!==void 0&&l.enableVertexAttribArray(I)}}setVertexAttribPointers(l,u,b){for(let I=0;I<this.attributes.length;I++){const F=this.attributes[I],se=u.attributes[F.name];se!==void 0&&l.vertexAttribPointer(se,F.components,l[ae[F.type]],!1,this.itemSize,F.offset+this.itemSize*(b||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class we{constructor(l){this.gl=l.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(l){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Re extends we{getDefault(){return n.Color.transparent}set(l){const u=this.current;(l.r!==u.r||l.g!==u.g||l.b!==u.b||l.a!==u.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class Le extends we{getDefault(){return 1}set(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)}}class Ge extends we{getDefault(){return 0}set(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)}}class rt extends we{getDefault(){return[!0,!0,!0,!0]}set(l){const u=this.current;(l[0]!==u[0]||l[1]!==u[1]||l[2]!==u[2]||l[3]!==u[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class Qe extends we{getDefault(){return!0}set(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)}}class qe extends we{getDefault(){return 255}set(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)}}class Te extends we{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(l){const u=this.current;(l.func!==u.func||l.ref!==u.ref||l.mask!==u.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)}}class Oe extends we{getDefault(){const l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]}set(l){const u=this.current;(l[0]!==u[0]||l[1]!==u[1]||l[2]!==u[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)}}class ze extends we{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;l?u.enable(u.STENCIL_TEST):u.disable(u.STENCIL_TEST),this.current=l,this.dirty=!1}}class Xe extends we{getDefault(){return[0,1]}set(l){const u=this.current;(l[0]!==u[0]||l[1]!==u[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)}}class Je extends we{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;l?u.enable(u.DEPTH_TEST):u.disable(u.DEPTH_TEST),this.current=l,this.dirty=!1}}class pt extends we{getDefault(){return this.gl.LESS}set(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)}}class bt extends we{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;l?u.enable(u.BLEND):u.disable(u.BLEND),this.current=l,this.dirty=!1}}class It extends we{getDefault(){const l=this.gl;return[l.ONE,l.ZERO]}set(l){const u=this.current;(l[0]!==u[0]||l[1]!==u[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)}}class ui extends we{getDefault(){return n.Color.transparent}set(l){const u=this.current;(l.r!==u.r||l.g!==u.g||l.b!==u.b||l.a!==u.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class Ht extends we{getDefault(){return this.gl.FUNC_ADD}set(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)}}class di extends we{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;l?u.enable(u.CULL_FACE):u.disable(u.CULL_FACE),this.current=l,this.dirty=!1}}class Ui extends we{getDefault(){return this.gl.BACK}set(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)}}class zi extends we{getDefault(){return this.gl.CCW}set(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)}}class Ei extends we{getDefault(){return null}set(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)}}class Di extends we{getDefault(){return this.gl.TEXTURE0}set(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)}}class dn extends we{getDefault(){const l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]}set(l){const u=this.current;(l[0]!==u[0]||l[1]!==u[1]||l[2]!==u[2]||l[3]!==u[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class Sn extends we{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.bindFramebuffer(u.FRAMEBUFFER,l),this.current=l,this.dirty=!1}}class Zn extends we{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.bindRenderbuffer(u.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class kr extends we{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.bindTexture(u.TEXTURE_2D,l),this.current=l,this.dirty=!1}}class ms extends we{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.bindBuffer(u.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class zs extends we{getDefault(){return null}set(l){const u=this.gl;u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class tn extends we{constructor(l){super(l),this.vao=l.extVertexArrayObject}getDefault(){return null}set(l){this.vao&&(l!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(l),this.current=l,this.dirty=!1)}}class xa extends we{getDefault(){return 4}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}}class Ol extends we{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}}class al extends we{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}}class Oa extends we{constructor(l,u){super(l),this.context=l,this.parent=u}getDefault(){return null}}class _r extends Oa{setDirty(){this.dirty=!0}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}}class Ra extends Oa{attachment(){return this.gl.DEPTH_ATTACHMENT}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,this.attachment(),u.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class lc extends Ra{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class ut{constructor(l,u,b,I){this.context=l,this.width=u,this.height=b;const F=this.framebuffer=l.gl.createFramebuffer();this.colorAttachment=new _r(l,F),I&&(this.depthAttachment=new Ra(l,F))}destroy(){const l=this.context.gl,u=this.colorAttachment.get();if(u&&l.deleteTexture(u),this.depthAttachment){const b=this.depthAttachment.get();b&&l.deleteRenderbuffer(b)}l.deleteFramebuffer(this.framebuffer)}}class Fe{constructor(l){this.gl=l,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Re(this),this.clearDepth=new Le(this),this.clearStencil=new Ge(this),this.colorMask=new rt(this),this.depthMask=new Qe(this),this.stencilMask=new qe(this),this.stencilFunc=new Te(this),this.stencilOp=new Oe(this),this.stencilTest=new ze(this),this.depthRange=new Xe(this),this.depthTest=new Je(this),this.depthFunc=new pt(this),this.blend=new bt(this),this.blendFunc=new It(this),this.blendColor=new ui(this),this.blendEquation=new Ht(this),this.cullFace=new di(this),this.cullFaceSide=new Ui(this),this.frontFace=new zi(this),this.program=new Ei(this),this.activeTexture=new Di(this),this.viewport=new dn(this),this.bindFramebuffer=new Sn(this),this.bindRenderbuffer=new Zn(this),this.bindTexture=new kr(this),this.bindVertexBuffer=new ms(this),this.bindElementBuffer=new zs(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new tn(this),this.pixelStoreUnpack=new xa(this),this.pixelStoreUnpackPremultiplyAlpha=new Ol(this),this.pixelStoreUnpackFlipY=new al(this),this.extTextureFilterAnisotropic=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=l.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=l.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=l.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=l.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=l.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(l.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=l.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=l.getExtension("OES_standard_derivatives"),this.extTimerQuery=l.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(l,u){return new _e(this,l,u)}createVertexBuffer(l,u,b){return new me(this,l,u,b)}createRenderbuffer(l,u,b){const I=this.gl,F=I.createRenderbuffer();return this.bindRenderbuffer.set(F),I.renderbufferStorage(I.RENDERBUFFER,l,u,b),this.bindRenderbuffer.set(null),F}createFramebuffer(l,u,b){return new ut(this,l,u,b)}clear({color:l,depth:u,stencil:b}){const I=this.gl;let F=0;l&&(F|=I.COLOR_BUFFER_BIT,this.clearColor.set(l),this.colorMask.set([!0,!0,!0,!0])),u!==void 0&&(F|=I.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(u),this.depthMask.set(!0)),b!==void 0&&(F|=I.STENCIL_BUFFER_BIT,this.clearStencil.set(b),this.stencilMask.set(255)),I.clear(F)}setCullFace(l){l.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(l.mode),this.frontFace.set(l.frontFace))}setDepthMode(l){l.func!==this.gl.ALWAYS||l.mask?(this.depthTest.set(!0),this.depthFunc.set(l.func),this.depthMask.set(l.mask),this.depthRange.set(l.range)):this.depthTest.set(!1)}setStencilMode(l){l.test.func!==this.gl.ALWAYS||l.mask?(this.stencilTest.set(!0),this.stencilMask.set(l.mask),this.stencilOp.set([l.fail,l.depthFail,l.pass]),this.stencilFunc.set({func:l.test.func,ref:l.ref,mask:l.test.mask})):this.stencilTest.set(!1)}setColorMode(l){S(l.blendFunction,n.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(l.blendFunction),this.blendColor.set(l.blendColor)),this.colorMask.set(l.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class We extends n.Evented{constructor(l,u,b,I){super(),this.id=l,this.dispatcher=b,this.setEventedParent(I),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},u),n.extend(this,n.pick(u,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ne(this._options,this.map._requestManager,null,null,(l,u)=>{this._tileJSONRequest=null,this._loaded=!0,l?this.fire(new n.ErrorEvent(l)):u&&(n.extend(this,u),u.bounds&&(this.tileBounds=new ye(u.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(u.tiles),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(l){this.map=l,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return n.extend({},this._options)}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}loadTile(l,u){const b=n.exported.devicePixelRatio>=2,I=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),b,this.tileSize);l.request=n.getImage(this.map._requestManager.transformRequest(I,n.ResourceType.Tile),(F,se,de,fe)=>(delete l.request,l.aborted?(l.state="unloaded",u(null)):F?(l.state="errored",u(F)):se?(this.map._refreshExpiredTiles&&l.setExpiryData({cacheControl:de,expires:fe}),l.setTexture(se,this.map.painter),l.state="loaded",n.cacheEntryPossiblyAdded(this.dispatcher),void u(null)):u(null)))}static loadTileData(l,u,b){l.setTexture(u,b)}static unloadTileData(l,u){l.texture&&u.saveTileTexture(l.texture)}abortTile(l,u){l.request&&(l.request.cancel(),delete l.request),u()}unloadTile(l,u){l.texture&&this.map.painter.saveTileTexture(l.texture),u()}hasTransition(){return!1}}let ht;function _t(y,l,u,b,I,F,se,de){const fe=[y,u,I,l,b,F,1,1,1],De=[se,de,1],ke=n.adjoint([],fe),[Ne,Ze,at]=n.transformMat3(De,De,n.transpose(ke,ke));return n.multiply$1(fe,[Ne,0,0,0,Ze,0,0,0,at],fe)}class Pt extends n.Evented{constructor(l,u,b,I){super(),this.id=l,this.dispatcher=b,this.coordinates=u.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(I),this.options=u,this._dirty=!1}load(l,u){this._loaded=u||!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),(b,I)=>{if(this._imageRequest=null,this._loaded=!0,b)this.fire(new n.ErrorEvent(b));else if(I){const{HTMLImageElement:F}=n.window;this.image=I instanceof F?n.exported.getImageData(I):I,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,l&&(this.coordinates=l),this._finishLoading()}})}loaded(){return this._loaded}updateImage(l){return this.image&&l.url?(this._imageRequest&&l.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=l.url,this.load(l.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(l){this.map=l,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(l){this.coordinates=l,this._boundsArray=void 0;const u=l.map(n.MercatorCoordinate.fromLngLat);return this.tileID=function(b){let I=1/0,F=1/0,se=-1/0,de=-1/0;for(const Ne of b)I=Math.min(I,Ne.x),F=Math.min(F,Ne.y),se=Math.max(se,Ne.x),de=Math.max(de,Ne.y);const fe=Math.max(se-I,de-F),De=Math.max(0,Math.floor(-Math.log(fe)/Math.LN2)),ke=Math.pow(2,De);return new n.CanonicalTileID(De,Math.floor((I+se)/2*ke),Math.floor((F+de)/2*ke))}(u),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(l){for(const fe in this.tiles){const De=this.tiles[fe];De.state!=="loaded"&&(De.state="loaded",De.texture=this.texture)}if(this._boundsArray)return;const u=n.tileTransform(this.tileID,this.map.transform.projection),[b,I,F,se]=this.coordinates.map(fe=>{const De=u.projection.project(fe[0],fe[1]);return n.getTilePoint(u,De)._round()});this.perspectiveTransform=function(fe,De,ke,Ne,Ze,at,lt,dt,et,nt){const ft=_t(0,0,fe,0,0,De,fe,De),ct=_t(ke,Ne,Ze,at,lt,dt,et,nt);return n.multiply$1(ct,n.adjoint(ft,ft),ct),[ct[6]/ct[8]*fe/n.EXTENT,ct[7]/ct[8]*De/n.EXTENT]}(this.width,this.height,b.x,b.y,I.x,I.y,se.x,se.y,F.x,F.y);const de=this._boundsArray=new n.StructArrayLayout4i8;de.emplaceBack(b.x,b.y,0,0),de.emplaceBack(I.x,I.y,n.EXTENT,0),de.emplaceBack(se.x,se.y,0,n.EXTENT),de.emplaceBack(F.x,F.y,n.EXTENT,n.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=l.createVertexBuffer(de,n.boundsAttributes.members),this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const l=this.map.painter.context,u=l.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new n.Texture(l,this.image,u.RGBA),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(l)}loadTile(l,u){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={},u(null)):(l.state="errored",u(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Nt={vector:class extends n.Evented{constructor(y,l,u,b){if(super(),this.id=y,this.dispatcher=u,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(l,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},l),this._collectResourceTiming=l.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(b),this._tileWorkers={},this._deduped=new n.DedupedRequest}load(y){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"}));const l=Array.isArray(this.map._language)?this.map._language.join():this.map._language,u=this.map._worldview;this._tileJSONRequest=ne(this._options,this.map._requestManager,l,u,(b,I)=>{this._tileJSONRequest=null,this._loaded=!0,b?(l&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${l}`),u&&u.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${u}`),this.fire(new n.ErrorEvent(b))):I&&(n.extend(this,I),I.bounds&&(this.tileBounds=new ye(I.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(I.tiles,this.map._requestManager._customAccessToken),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))),y&&y(b)})}loaded(){return this._loaded}hasTile(y){return!this.tileBounds||this.tileBounds.contains(y.canonical)}onAdd(y){this.map=y,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const y=this.map.style._getSourceCaches(this.id);for(const l of y)l.clearTiles()})}setSourceProperty(y){y(),this.reload()}setTiles(y){return this._options.tiles=y,this.reload(),this}setUrl(y){return this.url=y,this._options.url=y,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return n.extend({},this._options)}loadTile(y,l){const u=this.map._requestManager.normalizeTileURL(y.tileID.canonical.url(this.tiles,this.scheme)),b={request:this.map._requestManager.transformRequest(u,n.ResourceType.Tile),data:void 0,uid:y.uid,tileID:y.tileID,tileZoom:y.tileZoom,zoom:y.tileID.overscaledZ,tileSize:this.tileSize*y.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:y.isSymbolTile};if(b.request.collectResourceTiming=this._collectResourceTiming,y.actor&&y.state!=="expired")y.state==="loading"?y.reloadCallback=l:y.request=y.actor.send("reloadTile",b,I.bind(this));else if(y.actor=this._tileWorkers[u]=this._tileWorkers[u]||this.dispatcher.getActor(),this.dispatcher.ready)y.request=y.actor.send("loadTile",b,I.bind(this),void 0,!0);else{const F=n.loadVectorTile.call({deduped:this._deduped},b,(se,de)=>{se||!de?I.call(this,se):(b.data={cacheControl:de.cacheControl,expires:de.expires,rawData:de.rawData.slice(0)},y.actor&&y.actor.send("loadTile",b,I.bind(this),void 0,!0))},!0);y.request={cancel:F}}function I(F,se){return delete y.request,y.aborted?l(null):F&&F.status!==404?l(F):(se&&se.resourceTiming&&(y.resourceTiming=se.resourceTiming),this.map._refreshExpiredTiles&&se&&y.setExpiryData(se),y.loadVectorData(se,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),l(null),void(y.reloadCallback&&(this.loadTile(y,y.reloadCallback),y.reloadCallback=null)))}}abortTile(y){y.request&&(y.request.cancel(),delete y.request),y.actor&&y.actor.send("abortTile",{uid:y.uid,type:this.type,source:this.id})}unloadTile(y){y.unloadVectorData(),y.actor&&y.actor.send("removeTile",{uid:y.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:We,"raster-dem":class extends We{constructor(y,l,u,b){super(y,l,u,b),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},l),this.encoding=l.encoding||"mapbox"}loadTile(y,l){const u=this.map._requestManager.normalizeTileURL(y.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function b(I,F){I&&(y.state="errored",l(I)),F&&(y.dem=F,y.dem.onDeserialize(),y.needsHillshadePrepare=!0,y.needsDEMTextureUpload=!0,y.state="loaded",l(null))}y.request=n.getImage(this.map._requestManager.transformRequest(u,n.ResourceType.Tile),(function(I,F,se,de){if(delete y.request,y.aborted)y.state="unloaded",l(null);else if(I)y.state="errored",l(I);else if(F){this.map._refreshExpiredTiles&&y.setExpiryData({cacheControl:se,expires:de});const fe=n.window.ImageBitmap&&F instanceof n.window.ImageBitmap&&(ht==null&&(ht=n.window.OffscreenCanvas&&new n.window.OffscreenCanvas(1,1).getContext("2d")&&typeof n.window.createImageBitmap=="function"),ht),De=1-(F.width-n.prevPowerOfTwo(F.width))/2;De<1||y.neighboringTiles||(y.neighboringTiles=this._getNeighboringTiles(y.tileID));const ke=fe?F:n.exported.getImageData(F,De),Ne={uid:y.uid,coord:y.tileID,source:this.id,rawImageData:ke,encoding:this.encoding,padding:De};y.actor&&y.state!=="expired"||(y.actor=this.dispatcher.getActor(),y.actor.send("loadDEMTile",Ne,b.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(y){const l=y.canonical,u=Math.pow(2,l.z),b=(l.x-1+u)%u,I=l.x===0?y.wrap-1:y.wrap,F=(l.x+1+u)%u,se=l.x+1===u?y.wrap+1:y.wrap,de={};return de[new n.OverscaledTileID(y.overscaledZ,I,l.z,b,l.y).key]={backfilled:!1},de[new n.OverscaledTileID(y.overscaledZ,se,l.z,F,l.y).key]={backfilled:!1},l.y>0&&(de[new n.OverscaledTileID(y.overscaledZ,I,l.z,b,l.y-1).key]={backfilled:!1},de[new n.OverscaledTileID(y.overscaledZ,y.wrap,l.z,l.x,l.y-1).key]={backfilled:!1},de[new n.OverscaledTileID(y.overscaledZ,se,l.z,F,l.y-1).key]={backfilled:!1}),l.y+1<u&&(de[new n.OverscaledTileID(y.overscaledZ,I,l.z,b,l.y+1).key]={backfilled:!1},de[new n.OverscaledTileID(y.overscaledZ,y.wrap,l.z,l.x,l.y+1).key]={backfilled:!1},de[new n.OverscaledTileID(y.overscaledZ,se,l.z,F,l.y+1).key]={backfilled:!1}),de}unloadTile(y){y.demTexture&&this.map.painter.saveTileTexture(y.demTexture),y.fbo&&(y.fbo.destroy(),delete y.fbo),y.dem&&delete y.dem,delete y.neighboringTiles,y.state="unloaded"}},geojson:class extends n.Evented{constructor(y,l,u,b){super(),this.id=y,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=u.getActor(),this.setEventedParent(b),this._data=l.data,this._options=n.extend({},l),this._collectResourceTiming=l.collectResourceTiming,l.maxzoom!==void 0&&(this.maxzoom=l.maxzoom),l.type&&(this.type=l.type),l.attribution&&(this.attribution=l.attribution),this.promoteId=l.promoteId;const I=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:l.cluster||!1,geojsonVtOptions:{buffer:(l.buffer!==void 0?l.buffer:128)*I,tolerance:(l.tolerance!==void 0?l.tolerance:.375)*I,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:l.lineMetrics||!1,generateId:l.generateId||!1},superclusterOptions:{maxZoom:l.clusterMaxZoom!==void 0?l.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,l.clusterMinPoints||2),extent:n.EXTENT,radius:(l.clusterRadius!==void 0?l.clusterRadius:50)*I,log:!1,generateId:l.generateId||!1},clusterProperties:l.clusterProperties,filter:l.filter},l.workerOptions)}onAdd(y){this.map=y,this.setData(this._data)}setData(y){return this._data=y,this._updateWorkerData(),this}getClusterExpansionZoom(y,l){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:y,source:this.id},l),this}getClusterChildren(y,l){return this.actor.send("geojson.getClusterChildren",{clusterId:y,source:this.id},l),this}getClusterLeaves(y,l,u,b){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:y,limit:l,offset:u},b),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new n.Event("dataloading",{dataType:"source"})),this._loaded=!1;const y=n.extend({},this.workerOptions),l=this._data;typeof l=="string"?(y.request=this.map._requestManager.transformRequest(n.exported.resolveURL(l),n.ResourceType.Source),y.request.collectResourceTiming=this._collectResourceTiming):y.data=JSON.stringify(l),this._pendingLoad=this.actor.send(`${this.type}.loadData`,y,(u,b)=>{if(this._loaded=!0,this._pendingLoad=null,u)this.fire(new n.ErrorEvent(u));else{const I={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&b&&b.resourceTiming&&b.resourceTiming[this.id]&&(I.resourceTiming=b.resourceTiming[this.id]),this.fire(new n.Event("data",I)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(y,l){const u=y.actor?"reloadTile":"loadTile";y.actor=this.actor,y.request=this.actor.send(u,{type:this.type,uid:y.uid,tileID:y.tileID,tileZoom:y.tileZoom,zoom:y.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(b,I)=>(delete y.request,y.unloadVectorData(),y.aborted?l(null):b?l(b):(y.loadVectorData(I,this.map.painter,u==="reloadTile"),l(null))),void 0,u==="loadTile")}abortTile(y){y.request&&(y.request.cancel(),delete y.request),y.aborted=!0}unloadTile(y){y.unloadVectorData(),this.actor.send("removeTile",{uid:y.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return n.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Pt{constructor(y,l,u,b){super(y,l,u,b),this.roundZoom=!0,this.type="video",this.options=l}load(){this._loaded=!1;const y=this.options;this.urls=[];for(const l of y.urls)this.urls.push(this.map._requestManager.transformRequest(l,n.ResourceType.Source).url);n.getVideo(this.urls,(l,u)=>{this._loaded=!0,l?this.fire(new n.ErrorEvent(l)):u&&(this.video=u,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(y){if(this.video){const l=this.video.seekable;y<l.start(0)||y>l.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${l.start(0)} and ${l.end(0)}-second mark.`))):this.video.currentTime=y}}getVideo(){return this.video}onAdd(y){this.map||(this.map=y,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const y=this.map.painter.context,l=y.gl;this.texture?this.video.paused||(this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE),l.texSubImage2D(l.TEXTURE_2D,0,0,0,l.RGBA,l.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(y,this.video,l.RGBA),this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(y)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Pt,canvas:class extends Pt{constructor(y,l,u,b){super(y,l,u,b),l.coordinates?Array.isArray(l.coordinates)&&l.coordinates.length===4&&!l.coordinates.some(I=>!Array.isArray(I)||I.length!==2||I.some(F=>typeof F!="number"))||this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${y}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${y}`,null,'missing required property "coordinates"'))),l.animate&&typeof l.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${y}`,null,'optional "animate" property must be a boolean value'))),l.canvas?typeof l.canvas=="string"||l.canvas instanceof n.window.HTMLCanvasElement||this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${y}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${y}`,null,'missing required property "canvas"'))),this.options=l,this.animate=l.animate===void 0||l.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(y){this.map=y,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let y=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,y=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,y=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const l=this.map.painter.context;this.texture?(y||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(l,this.canvas,l.gl.RGBA,{premultiply:!0}),this._prepareData(l)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const y of[this.canvas.width,this.canvas.height])if(isNaN(y)||y<=0)return!0;return!1}},custom:class extends n.Evented{constructor(y,l,u,b){super(),this.id=y,this.type="custom",this._dataType="raster",this._dispatcher=u,this._implementation=l,this.setEventedParent(b),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new n.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new n.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new ye(this._implementation.bounds,this.minzoom,this.maxzoom)),l.update=this._update.bind(this),l.clearTiles=this._clearTiles.bind(this),l.coveringTiles=this._coveringTiles.bind(this),n.extend(this,n.pick(l,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return n.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(y){this._map=y,this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(y),this.load()}onRemove(y){this._implementation.onRemove&&this._implementation.onRemove(y)}hasTile(y){if(this._implementation.hasTile){const{x:l,y:u,z:b}=y.canonical;return this._implementation.hasTile({x:l,y:u,z:b})}return!this.tileBounds||this.tileBounds.contains(y.canonical)}loadTile(y,l){const{x:u,y:b,z:I}=y.tileID.canonical,F=new n.window.AbortController;y.request=Promise.resolve(this._implementation.loadTile({x:u,y:b,z:I},{signal:F.signal})).then((function(se){return delete y.request,y.aborted?(y.state="unloaded",l(null)):se===void 0?(y.state="errored",l(null)):se===null?(this.loadTileData(y,{width:this.tileSize,height:this.tileSize,data:null}),y.state="loaded",l(null)):function(de){return de instanceof n.window.ImageData||de instanceof n.window.HTMLCanvasElement||de instanceof n.window.ImageBitmap||de instanceof n.window.HTMLImageElement}(se)?(this.loadTileData(y,se),y.state="loaded",void l(null)):(y.state="errored",l(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(se=>{se.code!==20&&(y.state="errored",l(se))}),y.request.cancel=()=>F.abort()}loadTileData(y,l){We.loadTileData(y,l,this._map.painter)}unloadTileData(y){We.unloadTileData(y,this._map.painter)}unloadTile(y,l){if(this.unloadTileData(y),this._implementation.unloadTile){const{x:u,y:b,z:I}=y.tileID.canonical;this._implementation.unloadTile({x:u,y:b,z:I})}l()}abortTile(y,l){y.request&&y.request.cancel&&(y.request.cancel(),delete y.request),l()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(y=>({x:y.canonical.x,y:y.canonical.y,z:y.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Vt=function(y,l,u,b){const I=new Nt[l.type](y,l,u,b);if(I.id!==y)throw new Error(`Expected Source id to be ${y} instead of ${I.id}`);return n.bindAll(["load","abort","unload","serialize","prepare"],I),I};function Lt(y,l){const u=n.identity([]);return n.scale(u,u,[.5*y.width,.5*-y.height,1]),n.translate(u,u,[1,-1,0]),n.multiply(u,u,y.calculateProjMatrix(l.toUnwrapped())),Float32Array.from(u)}function qt(y,l,u,b,I,F,se,de=!1){const fe=y.tilesIn(b,se,de);fe.sort(Vi);const De=[];for(const Ne of fe)De.push({wrappedTileID:Ne.tile.tileID.wrapped().key,queryResults:Ne.tile.queryRenderedFeatures(l,u,y._state,Ne,I,F,Lt(y.transform,Ne.tile.tileID),de)});const ke=function(Ne){const Ze={},at={};for(const lt of Ne){const dt=lt.queryResults,et=lt.wrappedTileID,nt=at[et]=at[et]||{};for(const ft in dt){const ct=dt[ft],vt=nt[ft]=nt[ft]||{},At=Ze[ft]=Ze[ft]||[];for(const wt of ct)vt[wt.featureIndex]||(vt[wt.featureIndex]=!0,At.push(wt))}}return Ze}(De);for(const Ne in ke)ke[Ne].forEach(Ze=>{const at=Ze.feature,lt=at.layer;lt&&lt.type!=="background"&&lt.type!=="sky"&&(at.source=lt.source,lt["source-layer"]&&(at.sourceLayer=lt["source-layer"]),at.state=at.id!==void 0?y.getFeatureState(lt["source-layer"],at.id):{})});return ke}function mi(y,l){const u=y.getRenderableIds().map(F=>y.getTileByID(F)),b=[],I={};for(let F=0;F<u.length;F++){const se=u[F],de=se.tileID.canonical.key;I[de]||(I[de]=!0,se.querySourceFeatures(b,l))}return b}function Vi(y,l){const u=y.tileID,b=l.tileID;return u.overscaledZ-b.overscaledZ||u.canonical.y-b.canonical.y||u.wrap-b.wrap||u.canonical.x-b.canonical.x}function Ci(){return wh.workerClass!=null?new wh.workerClass:new n.window.Worker(wh.workerUrl)}const gn="mapboxgl_preloaded_worker_pool";class mn{constructor(){this.active={}}acquire(l){if(!this.workers)for(this.workers=[];this.workers.length<mn.workerCount;)this.workers.push(new Ci);return this.active[l]=!0,this.workers.slice()}release(l){delete this.active[l],this.numActive()===0&&(this.workers.forEach(u=>{u.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[gn]}numActive(){return Object.keys(this.active).length}}let nn;function Ni(){return nn||(nn=new mn),nn}function qn(y,l){const u={};for(const b in y)b!=="ref"&&(u[b]=y[b]);return n.refProperties.forEach(b=>{b in l&&(u[b]=l[b])}),u}function ds(y){y=y.slice();const l=Object.create(null);for(let u=0;u<y.length;u++)l[y[u].id]=y[u];for(let u=0;u<y.length;u++)"ref"in y[u]&&(y[u]=qn(y[u],l[y[u].ref]));return y}mn.workerCount=2;const cn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function ks(y,l,u){u.push({command:cn.addSource,args:[y,l[y]]})}function gs(y,l,u){l.push({command:cn.removeSource,args:[y]}),u[y]=!0}function aa(y,l,u,b){gs(y,u,b),ks(y,l,u)}function la(y,l,u){let b;for(b in y[u])if(y[u].hasOwnProperty(b)&&b!=="data"&&!S(y[u][b],l[u][b]))return!1;for(b in l[u])if(l[u].hasOwnProperty(b)&&b!=="data"&&!S(y[u][b],l[u][b]))return!1;return!0}function Vr(y,l,u,b,I,F){let se;for(se in l=l||{},y=y||{})y.hasOwnProperty(se)&&(S(y[se],l[se])||u.push({command:F,args:[b,se,l[se],I]}));for(se in l)l.hasOwnProperty(se)&&!y.hasOwnProperty(se)&&(S(y[se],l[se])||u.push({command:F,args:[b,se,l[se],I]}))}function ci(y){return y.id}function Ys(y,l){return y[l.id]=l,y}class pr{constructor(l,u){this.reset(l,u)}reset(l,u){this.points=l||[],this._distances=[0];for(let b=1;b<this.points.length;b++)this._distances[b]=this._distances[b-1]+this.points[b].dist(this.points[b-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(u||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(l){if(this.points.length===1)return this.points[0];l=n.clamp(l,0,1);let u=1,b=this._distances[u];const I=l*this.paddedLength+this.padding;for(;b<I&&u<this._distances.length;)b=this._distances[++u];const F=u-1,se=this._distances[F],de=b-se,fe=de>0?(I-se)/de:0;return this.points[F].mult(1-fe).add(this.points[u].mult(fe))}}class fr{constructor(l,u,b){const I=this.boxCells=[],F=this.circleCells=[];this.xCellCount=Math.ceil(l/b),this.yCellCount=Math.ceil(u/b);for(let se=0;se<this.xCellCount*this.yCellCount;se++)I.push([]),F.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=l,this.height=u,this.xScale=this.xCellCount/l,this.yScale=this.yCellCount/u,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(l,u,b,I,F){this._forEachCell(u,b,I,F,this._insertBoxCell,this.boxUid++),this.boxKeys.push(l),this.bboxes.push(u),this.bboxes.push(b),this.bboxes.push(I),this.bboxes.push(F)}insertCircle(l,u,b,I){this._forEachCell(u-I,b-I,u+I,b+I,this._insertCircleCell,this.circleUid++),this.circleKeys.push(l),this.circles.push(u),this.circles.push(b),this.circles.push(I)}_insertBoxCell(l,u,b,I,F,se){this.boxCells[F].push(se)}_insertCircleCell(l,u,b,I,F,se){this.circleCells[F].push(se)}_query(l,u,b,I,F,se){if(b<0||l>this.width||I<0||u>this.height)return!F&&[];const de=[];if(l<=0&&u<=0&&this.width<=b&&this.height<=I){if(F)return!0;for(let fe=0;fe<this.boxKeys.length;fe++)de.push({key:this.boxKeys[fe],x1:this.bboxes[4*fe],y1:this.bboxes[4*fe+1],x2:this.bboxes[4*fe+2],y2:this.bboxes[4*fe+3]});for(let fe=0;fe<this.circleKeys.length;fe++){const De=this.circles[3*fe],ke=this.circles[3*fe+1],Ne=this.circles[3*fe+2];de.push({key:this.circleKeys[fe],x1:De-Ne,y1:ke-Ne,x2:De+Ne,y2:ke+Ne})}return se?de.filter(se):de}return this._forEachCell(l,u,b,I,this._queryCell,de,{hitTest:F,seenUids:{box:{},circle:{}}},se),F?de.length>0:de}_queryCircle(l,u,b,I,F){const se=l-b,de=l+b,fe=u-b,De=u+b;if(de<0||se>this.width||De<0||fe>this.height)return!I&&[];const ke=[];return this._forEachCell(se,fe,de,De,this._queryCellCircle,ke,{hitTest:I,circle:{x:l,y:u,radius:b},seenUids:{box:{},circle:{}}},F),I?ke.length>0:ke}query(l,u,b,I,F){return this._query(l,u,b,I,!1,F)}hitTest(l,u,b,I,F){return this._query(l,u,b,I,!0,F)}hitTestCircle(l,u,b,I){return this._queryCircle(l,u,b,!0,I)}_queryCell(l,u,b,I,F,se,de,fe){const De=de.seenUids,ke=this.boxCells[F];if(ke!==null){const Ze=this.bboxes;for(const at of ke)if(!De.box[at]){De.box[at]=!0;const lt=4*at;if(l<=Ze[lt+2]&&u<=Ze[lt+3]&&b>=Ze[lt+0]&&I>=Ze[lt+1]&&(!fe||fe(this.boxKeys[at]))){if(de.hitTest)return se.push(!0),!0;se.push({key:this.boxKeys[at],x1:Ze[lt],y1:Ze[lt+1],x2:Ze[lt+2],y2:Ze[lt+3]})}}}const Ne=this.circleCells[F];if(Ne!==null){const Ze=this.circles;for(const at of Ne)if(!De.circle[at]){De.circle[at]=!0;const lt=3*at;if(this._circleAndRectCollide(Ze[lt],Ze[lt+1],Ze[lt+2],l,u,b,I)&&(!fe||fe(this.circleKeys[at]))){if(de.hitTest)return se.push(!0),!0;{const dt=Ze[lt],et=Ze[lt+1],nt=Ze[lt+2];se.push({key:this.circleKeys[at],x1:dt-nt,y1:et-nt,x2:dt+nt,y2:et+nt})}}}}}_queryCellCircle(l,u,b,I,F,se,de,fe){const De=de.circle,ke=de.seenUids,Ne=this.boxCells[F];if(Ne!==null){const at=this.bboxes;for(const lt of Ne)if(!ke.box[lt]){ke.box[lt]=!0;const dt=4*lt;if(this._circleAndRectCollide(De.x,De.y,De.radius,at[dt+0],at[dt+1],at[dt+2],at[dt+3])&&(!fe||fe(this.boxKeys[lt])))return se.push(!0),!0}}const Ze=this.circleCells[F];if(Ze!==null){const at=this.circles;for(const lt of Ze)if(!ke.circle[lt]){ke.circle[lt]=!0;const dt=3*lt;if(this._circlesCollide(at[dt],at[dt+1],at[dt+2],De.x,De.y,De.radius)&&(!fe||fe(this.circleKeys[lt])))return se.push(!0),!0}}}_forEachCell(l,u,b,I,F,se,de,fe){const De=this._convertToXCellCoord(l),ke=this._convertToYCellCoord(u),Ne=this._convertToXCellCoord(b),Ze=this._convertToYCellCoord(I);for(let at=De;at<=Ne;at++)for(let lt=ke;lt<=Ze;lt++)if(F.call(this,l,u,b,I,this.xCellCount*lt+at,se,de,fe))return}_convertToXCellCoord(l){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(l*this.xScale)))}_convertToYCellCoord(l){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(l*this.yScale)))}_circlesCollide(l,u,b,I,F,se){const de=I-l,fe=F-u,De=b+se;return De*De>de*de+fe*fe}_circleAndRectCollide(l,u,b,I,F,se,de){const fe=(se-I)/2,De=Math.abs(l-(I+fe));if(De>fe+b)return!1;const ke=(de-F)/2,Ne=Math.abs(u-(F+ke));if(Ne>ke+b)return!1;if(De<=fe||Ne<=ke)return!0;const Ze=De-fe,at=Ne-ke;return Ze*Ze+at*at<=b*b}}const Rl=Math.tan(85*Math.PI/180);function to(y,l,u,b,I,F,se){const de=n.create();if(u)if(F.name==="globe"){const fe=n.calculateGlobeLabelMatrix(I,l);n.multiply(de,de,fe)}else{const fe=N([],se);de[0]=fe[0],de[1]=fe[1],de[4]=fe[2],de[5]=fe[3],b||n.rotateZ(de,de,I.angle)}else n.multiply(de,I.labelPlaneMatrix,y);return de}function cc(y,l,u,b,I,F,se){const de=to(y,l,u,b,I,F,se);return F.name==="globe"&&u||(de[2]=de[6]=de[10]=de[14]=0),de}function gh(y,l,u,b,I,F,se){if(u){if(F.name==="globe"){const de=to(y,l,u,b,I,F,se);return n.invert(de,de),n.multiply(de,y,de),de}{const de=n.clone(y),fe=n.identity([]);return fe[0]=se[0],fe[1]=se[1],fe[4]=se[2],fe[5]=se[3],n.multiply(de,de,fe),b||n.rotateZ(de,de,-I.angle),de}}return I.glCoordMatrix}function Nr(y,l,u,b){const I=[y,l,u,1];u?n.transformMat4$1(I,I,b):Cs(I,I,b);const F=I[3];return I[0]/=F,I[1]/=F,I[2]/=F,I}function $i(y,l){return Math.min(.5+y/l*.5,1.5)}function Un(y,l){const u=y[0]/y[3],b=y[1]/y[3];return u>=-l[0]&&u<=l[0]&&b>=-l[1]&&b<=l[1]}function Xn(y,l,u,b,I,F,se,de,fe,De){const ke=u.transform,Ne=b?y.textSizeData:y.iconSizeData,Ze=n.evaluateSizeForZoom(Ne,u.transform.zoom),at=ke.projection.name==="globe",lt=[256/u.width*2+1,256/u.height*2+1],dt=b?y.text.dynamicLayoutVertexArray:y.icon.dynamicLayoutVertexArray;dt.clear();let et=null;at&&(et=b?y.text.globeExtVertexArray:y.icon.globeExtVertexArray);const nt=y.lineVertexArray,ft=b?y.text.placedSymbolArray:y.icon.placedSymbolArray,ct=u.transform.width/u.transform.height;let vt,At=!1;for(let wt=0;wt<ft.length;wt++){const zt=ft.get(wt),{numGlyphs:Qt,writingMode:Zt}=zt;if(Zt!==n.WritingMode.vertical||At||vt===n.WritingMode.horizontal||(At=!0),vt=Zt,(zt.hidden||Zt===n.WritingMode.vertical)&&!At){Pr(Qt,dt);continue}At=!1;const Gt=new n.pointGeometry(zt.tileAnchorX,zt.tileAnchorY);let{x:wi,y:Yt,z:pi}=ke.projection.projectTilePoint(Gt.x,Gt.y,De.canonical);if(fe){const[pn,an,kn]=fe(Gt);wi+=pn,Yt+=an,pi+=kn}const ti=[wi,Yt,pi,1];if(n.transformMat4$1(ti,ti,l),!Un(ti,lt)){Pr(Qt,dt);continue}const ki=$i(u.transform.cameraToCenterDistance,ti[3]),ii=n.evaluateSizeForFeature(Ne,Ze,zt),vi=se?ii/ki:ii*ki,Li=Nr(wi,Yt,pi,I);if(Li[3]<=0){Pr(Qt,dt);continue}let $t={};const ei=se?null:fe,on=Mn(zt,vi,!1,de,l,I,F,y.glyphOffsetArray,nt,dt,et,Li,Gt,$t,ct,ei,ke.projection,De,se);At=on.useVertical,ei&&on.needsFlipping&&($t={}),(on.notEnoughRoom||At||on.needsFlipping&&Mn(zt,vi,!0,de,l,I,F,y.glyphOffsetArray,nt,dt,et,Li,Gt,$t,ct,ei,ke.projection,De,se).notEnoughRoom)&&Pr(Qt,dt)}b?(y.text.dynamicLayoutVertexBuffer.updateData(dt),et&&y.text.globeExtVertexBuffer.updateData(et)):(y.icon.dynamicLayoutVertexBuffer.updateData(dt),et&&y.icon.globeExtVertexBuffer.updateData(et))}function xo(y,l,u,b,I,F,se,de,fe,De,ke,Ne,Ze,at,lt,dt){const{lineStartIndex:et,glyphStartIndex:nt,segment:ft}=de,ct=nt+de.numGlyphs,vt=et+de.lineLength,At=l.getoffsetX(nt),wt=l.getoffsetX(ct-1),zt=ba(y*At,u,b,I,F,se,ft,et,vt,fe,De,ke,Ne,Ze,!0,at,lt,dt);if(!zt)return null;const Qt=ba(y*wt,u,b,I,F,se,ft,et,vt,fe,De,ke,Ne,Ze,!0,at,lt,dt);return Qt?{first:zt,last:Qt}:null}function ca(y,l,u,b){return y===n.WritingMode.horizontal&&Math.abs(b)>Math.abs(u)?{useVertical:!0}:y===n.WritingMode.vertical?b>0?{needsFlipping:!0}:null:l!==0&&function(I,F){return I===0||Math.abs(F/I)>Rl}(u,b)?l===1?{needsFlipping:!0}:null:u<0?{needsFlipping:!0}:null}function Mn(y,l,u,b,I,F,se,de,fe,De,ke,Ne,Ze,at,lt,dt,et,nt,ft){const ct=l/24,vt=y.lineOffsetX*ct,At=y.lineOffsetY*ct,{lineStartIndex:wt,glyphStartIndex:zt,numGlyphs:Qt,segment:Zt,writingMode:Gt,flipState:wi}=y,Yt=wt+y.lineLength,pi=ti=>{if(ke){const[Li,$t,ei]=ti.up,on=De.length;n.updateGlobeVertexNormal(ke,on+0,Li,$t,ei),n.updateGlobeVertexNormal(ke,on+1,Li,$t,ei),n.updateGlobeVertexNormal(ke,on+2,Li,$t,ei),n.updateGlobeVertexNormal(ke,on+3,Li,$t,ei)}const[ki,ii,vi]=ti.point;n.addDynamicAttributes(De,ki,ii,vi,ti.angle)};if(Qt>1){const ti=xo(ct,de,vt,At,u,Ne,Ze,y,fe,F,at,dt,!1,et,nt,ft);if(!ti)return{notEnoughRoom:!0};if(b&&!u){let[ki,ii,vi]=ti.first.point,[Li,$t,ei]=ti.last.point;[ki,ii]=Nr(ki,ii,vi,se),[Li,$t]=Nr(Li,$t,ei,se);const on=ca(Gt,wi,(Li-ki)*lt,$t-ii);if(y.flipState=on&&on.needsFlipping?1:2,on)return on}pi(ti.first);for(let ki=zt+1;ki<zt+Qt-1;ki++){const ii=ba(ct*de.getoffsetX(ki),vt,At,u,Ne,Ze,Zt,wt,Yt,fe,F,at,dt,!1,!1,et,nt,ft);if(!ii)return De.length-=4*(ki-zt),{notEnoughRoom:!0};pi(ii)}pi(ti.last)}else{if(b&&!u){const ki=Nr(Ze.x,Ze.y,0,I),ii=wt+Zt+1,vi=new n.pointGeometry(fe.getx(ii),fe.gety(ii)),Li=Nr(vi.x,vi.y,0,I),$t=Li[3]>0?Li:$o(Ze,vi,ki,1,I,void 0,et,nt.canonical),ei=ca(Gt,wi,($t[0]-ki[0])*lt,$t[1]-ki[1]);if(y.flipState=ei&&ei.needsFlipping?1:2,ei)return ei}const ti=ba(ct*de.getoffsetX(zt),vt,At,u,Ne,Ze,Zt,wt,Yt,fe,F,at,dt,!1,!1,et,nt,ft);if(!ti)return{notEnoughRoom:!0};pi(ti)}return{}}function Bl(y,l,u,b,I){const{x:F,y:se,z:de}=b.projectTilePoint(y.x,y.y,l);if(!I)return Nr(F,se,de,u);const[fe,De,ke]=I(y);return Nr(F+fe,se+De,de+ke,u)}function $o(y,l,u,b,I,F,se,de){const fe=Bl(y.sub(l)._unit()._add(y),de,I,se,F);return n.sub(fe,u,fe),n.normalize(fe,fe),n.scaleAndAdd(fe,u,fe,b)}function ba(y,l,u,b,I,F,se,de,fe,De,ke,Ne,Ze,at,lt,dt,et,nt){const ft=b?y-l:y+l;let ct=ft>0?1:-1,vt=0;b&&(ct*=-1,vt=Math.PI),ct<0&&(vt+=Math.PI);let At=de+se+(ct>0?0:1)|0,wt=I,zt=I,Qt=0,Zt=0;const Gt=Math.abs(ft),wi=[],Yt=[];let pi=F,ti=pi;const ki=()=>$o(ti,pi,zt,Gt-Qt+1,ke,Ze,dt,et.canonical);for(;Qt+Zt<=Gt;){if(At+=ct,At<de||At>=fe)return null;if(zt=wt,ti=pi,wi.push(zt),at&&Yt.push(ti),pi=new n.pointGeometry(De.getx(At),De.gety(At)),wt=Ne[At],!wt){const kn=Bl(pi,et.canonical,ke,dt,Ze);wt=kn[3]>0?Ne[At]=kn:ki()}Qt+=Zt,Zt=n.distance(zt,wt)}lt&&Ze&&(Ne[At]&&(wt=ki(),Zt=n.distance(zt,wt)),Ne[At]=wt);const ii=(Gt-Qt)/Zt,vi=pi.sub(ti)._mult(ii)._add(ti),Li=n.sub([],wt,zt),$t=n.scaleAndAdd([],zt,Li,ii);let ei=[0,0,1],on=Li[0],pn=Li[1];if(nt&&(ei=dt.upVector(et.canonical,vi.x,vi.y),ei[0]!==0||ei[1]!==0||ei[2]!==1)){const kn=[ei[2],0,-ei[0]],Wn=n.cross([],ei,kn);n.normalize(kn,kn),n.normalize(Wn,Wn),on=n.dot(Li,kn),pn=n.dot(Li,Wn)}if(u){const kn=n.cross([],ei,Li);n.normalize(kn,kn),n.scaleAndAdd($t,$t,kn,u*ct)}const an=vt+Math.atan2(pn,on);return wi.push($t),at&&Yt.push(vi),{point:$t,angle:an,path:wi,tilePath:Yt,up:ei}}function Pr(y,l){const u=l.length,b=u+4*y;l.resize(b),l.float32.fill(-1/0,4*u,4*b)}function Cs(y,l,u){const b=l[0],I=l[1];return y[0]=u[0]*b+u[4]*I+u[12],y[1]=u[1]*b+u[5]*I+u[13],y[3]=u[3]*b+u[7]*I+u[15],y}const jr=100;class po{constructor(l,u,b=new fr(l.width+200,l.height+200,25),I=new fr(l.width+200,l.height+200,25)){this.transform=l,this.grid=b,this.ignoredGrid=I,this.pitchfactor=Math.cos(l._pitch)*l.cameraToCenterDistance,this.screenRightBoundary=l.width+jr,this.screenBottomBoundary=l.height+jr,this.gridRightBoundary=l.width+200,this.gridBottomBoundary=l.height+200,this.fogState=u}placeCollisionBox(l,u,b,I,F,se,de,fe){let De=b.projectedAnchorX,ke=b.projectedAnchorY,Ne=b.projectedAnchorZ;const Ze=b.elevation,at=b.tileID,lt=l.getProjection();if(Ze&&at){const[wt,zt,Qt]=lt.upVector(at.canonical,b.tileAnchorX,b.tileAnchorY),Zt=lt.upVectorScale(at.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;De+=wt*Ze*Zt,ke+=zt*Ze*Zt,Ne+=Qt*Ze*Zt}const dt=this.projectAndGetPerspectiveRatio(de,De,ke,Ne,b.tileID,lt.name==="globe"||!!Ze||this.transform.pitch>0,lt),et=se*dt.perspectiveRatio,nt=(b.x1*u+I.x-b.padding)*et+dt.point.x,ft=(b.y1*u+I.y-b.padding)*et+dt.point.y,ct=(b.x2*u+I.x+b.padding)*et+dt.point.x,vt=(b.y2*u+I.y+b.padding)*et+dt.point.y,At=dt.perspectiveRatio<=.55||dt.occluded;return!this.isInsideGrid(nt,ft,ct,vt)||!F&&this.grid.hitTest(nt,ft,ct,vt,fe)||At?{box:[],offscreen:!1,occluded:dt.occluded}:{box:[nt,ft,ct,vt],offscreen:this.isOffscreen(nt,ft,ct,vt),occluded:!1}}placeCollisionCircles(l,u,b,I,F,se,de,fe,De,ke,Ne,Ze,at,lt,dt){const et=[],nt=this.transform.elevation,ft=l.getProjection(),ct=nt?nt.getAtTileOffsetFunc(dt,this.transform.center.lat,this.transform.worldSize,ft):null,vt=new n.pointGeometry(b.tileAnchorX,b.tileAnchorY);let{x:At,y:wt,z:zt}=ft.projectTilePoint(vt.x,vt.y,dt.canonical);if(ct){const[vi,Li,$t]=ct(vt);At+=vi,wt+=Li,zt+=$t}const Qt=ft.name==="globe",Zt=this.projectAndGetPerspectiveRatio(de,At,wt,zt,dt,Qt||!!nt||this.transform.pitch>0,ft),{perspectiveRatio:Gt}=Zt,wi=(Ne?se/Gt:se*Gt)/n.ONE_EM,Yt=Nr(At,wt,zt,fe),pi=Zt.signedDistanceFromCamera>0?xo(wi,F,b.lineOffsetX*wi,b.lineOffsetY*wi,!1,Yt,vt,b,I,fe,{},nt&&!Ne?ct:null,Ne&&!!nt,ft,dt,Ne):null;let ti=!1,ki=!1,ii=!0;if(pi&&!Zt.occluded){const vi=.5*at*Gt+lt,Li=new n.pointGeometry(-100,-100),$t=new n.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),ei=new pr,{first:on,last:pn}=pi,an=on.path.length;let kn=[];for(let Ji=an-1;Ji>=1;Ji--)kn.push(on.path[Ji]);for(let Ji=1;Ji<pn.path.length;Ji++)kn.push(pn.path[Ji]);const Wn=2.5*vi;De&&(kn=kn.map(([Ji,Fs,Ms],js)=>(ct&&!Qt&&(Ms=ct(js<an-1?on.tilePath[an-1-js]:pn.tilePath[js-an+2])[2]),Nr(Ji,Fs,Ms,De))),kn.some(Ji=>Ji[3]<=0)&&(kn=[]));let _n=[];if(kn.length>0){let Ji=1/0,Fs=-1/0,Ms=1/0,js=-1/0;for(const Rs of kn)Ji=Math.min(Ji,Rs[0]),Ms=Math.min(Ms,Rs[1]),Fs=Math.max(Fs,Rs[0]),js=Math.max(js,Rs[1]);Fs>=Li.x&&Ji<=$t.x&&js>=Li.y&&Ms<=$t.y&&(_n=[kn.map(Rs=>new n.pointGeometry(Rs[0],Rs[1]))],(Ji<Li.x||Fs>$t.x||Ms<Li.y||js>$t.y)&&(_n=n.clipLine(_n,Li.x,Li.y,$t.x,$t.y)))}for(const Ji of _n){ei.reset(Ji,.25*vi);let Fs=0;Fs=ei.length<=.5*vi?1:Math.ceil(ei.paddedLength/Wn)+1;for(let Ms=0;Ms<Fs;Ms++){const js=Ms/Math.max(Fs-1,1),Rs=ei.lerp(js),da=Rs.x+jr,Yo=Rs.y+jr;et.push(da,Yo,vi,0);const zo=da-vi,Sl=Yo-vi,Zs=da+vi,Bs=Yo+vi;if(ii=ii&&this.isOffscreen(zo,Sl,Zs,Bs),ki=ki||this.isInsideGrid(zo,Sl,Zs,Bs),!u&&this.grid.hitTestCircle(da,Yo,vi,Ze)&&(ti=!0,!ke))return{circles:[],offscreen:!1,collisionDetected:ti,occluded:!1}}}}return{circles:!ke&&ti||!ki?[]:et,offscreen:ii,collisionDetected:ti,occluded:Zt.occluded}}queryRenderedSymbols(l){if(l.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const u=[];let b=1/0,I=1/0,F=-1/0,se=-1/0;for(const ke of l){const Ne=new n.pointGeometry(ke.x+jr,ke.y+jr);b=Math.min(b,Ne.x),I=Math.min(I,Ne.y),F=Math.max(F,Ne.x),se=Math.max(se,Ne.y),u.push(Ne)}const de=this.grid.query(b,I,F,se).concat(this.ignoredGrid.query(b,I,F,se)),fe={},De={};for(const ke of de){const Ne=ke.key;if(fe[Ne.bucketInstanceId]===void 0&&(fe[Ne.bucketInstanceId]={}),fe[Ne.bucketInstanceId][Ne.featureIndex])continue;const Ze=[new n.pointGeometry(ke.x1,ke.y1),new n.pointGeometry(ke.x2,ke.y1),new n.pointGeometry(ke.x2,ke.y2),new n.pointGeometry(ke.x1,ke.y2)];n.polygonIntersectsPolygon(u,Ze)&&(fe[Ne.bucketInstanceId][Ne.featureIndex]=!0,De[Ne.bucketInstanceId]===void 0&&(De[Ne.bucketInstanceId]=[]),De[Ne.bucketInstanceId].push(Ne.featureIndex))}return De}insertCollisionBox(l,u,b,I,F){(u?this.ignoredGrid:this.grid).insert({bucketInstanceId:b,featureIndex:I,collisionGroupID:F},l[0],l[1],l[2],l[3])}insertCollisionCircles(l,u,b,I,F){const se=u?this.ignoredGrid:this.grid,de={bucketInstanceId:b,featureIndex:I,collisionGroupID:F};for(let fe=0;fe<l.length;fe+=4)se.insertCircle(de,l[fe],l[fe+1],l[fe+2])}projectAndGetPerspectiveRatio(l,u,b,I,F,se,de){const fe=[u,b,I,1];let De=!1;if(I||this.transform.pitch>0){n.transformMat4$1(fe,fe,l);const Ne=de.name==="globe";this.fogState&&F&&!Ne&&(De=function(at,lt,dt,et,nt,ft){const ct=ft.calculateFogTileMatrix(nt),vt=[lt,dt,et];return n.transformMat4(vt,vt,ct),Y(at,vt,ft.pitch,ft._fov)}(this.fogState,u,b,I,F.toUnwrapped(),this.transform)>.9)}else Cs(fe,fe,l);const ke=fe[3];return{point:new n.pointGeometry((fe[0]/ke+1)/2*this.transform.width+jr,(-fe[1]/ke+1)/2*this.transform.height+jr),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(de)/ke*.5,1.5),signedDistanceFromCamera:ke,occluded:se&&fe[2]>ke||De}}isOffscreen(l,u,b,I){return b<jr||l>=this.screenRightBoundary||I<jr||u>this.screenBottomBoundary}isInsideGrid(l,u,b,I){return b>=0&&l<this.gridRightBoundary&&I>=0&&u<this.gridBottomBoundary}getViewportMatrix(){const l=n.identity([]);return n.translate(l,l,[-100,-100,0]),l}}function ll(y,l,u){const b=l.createTileMatrix(y,y.worldSize,u.toUnwrapped());return n.multiply(new Float32Array(16),y.projMatrix,b)}function Io(y,l,u){if(l.projection.name===u.projection.name)return y.projMatrix;const b=u.clone();return b.setProjection(l.projection),ll(b,l.getProjection(),y)}function Ba(y,l,u){return l.name===u.projection.name?y.projMatrix:ll(u,l,y)}class za{constructor(l,u,b,I){this.opacity=l?Math.max(0,Math.min(1,l.opacity+(l.placed?u:-u))):I&&b?1:0,this.placed=b}isHidden(){return this.opacity===0&&!this.placed}}class wa{constructor(l,u,b,I,F,se=!1){this.text=new za(l?l.text:null,u,b,F),this.icon=new za(l?l.icon:null,u,I,F),this.clipped=se}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Fa{constructor(l,u,b,I=!1){this.text=l,this.icon=u,this.skipFade=b,this.clipped=I}}class hc{constructor(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]}}class dc{constructor(l,u,b,I,F){this.bucketInstanceId=l,this.featureIndex=u,this.sourceLayerIndex=b,this.bucketIndex=I,this.tileID=F}}class ao{constructor(l){this.crossSourceCollisions=l,this.maxGroupID=0,this.collisionGroups={}}get(l){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[l]){const u=++this.maxGroupID;this.collisionGroups[l]={ID:u,predicate:b=>b.collisionGroupID===u}}return this.collisionGroups[l]}}function cr(y,l,u,b,I){const{horizontalAlign:F,verticalAlign:se}=n.getAnchorAlignment(y),de=-(F-.5)*l,fe=-(se-.5)*u,De=n.evaluateVariableOffset(y,b);return new n.pointGeometry(de+De[0]*I,fe+De[1]*I)}function cl(y,l,u,b,I){const F=new n.pointGeometry(y,l);return u&&F._rotate(b?I:-I),F}class Sa{constructor(l,u,b,I,F){this.transform=l.clone(),this.projection=l.projection.name,this.collisionIndex=new po(this.transform,F),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=u,this.retainedQueryData={},this.collisionGroups=new ao(b),this.collisionCircleArrays={},this.prevPlacement=I,I&&(I.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(l,u,b,I){const F=b.getBucket(u),se=b.latestFeatureIndex;if(!F||!se||u.id!==F.layerIds[0])return;const de=F.layers[0].layout,fe=b.collisionBoxArray,De=Math.pow(2,this.transform.zoom-b.tileID.overscaledZ),ke=b.tileSize/n.EXTENT,Ne=b.tileID.toUnwrapped();this.transform.setProjection(F.projection);const Ze=(at=b.tileID,lt=F.getProjection(),dt=this.transform,lt.name===this.projection?dt.calculateProjMatrix(at.toUnwrapped()):ll(dt,lt,at));var at,lt,dt;const et=de.get("text-pitch-alignment")==="map",nt=de.get("text-rotation-alignment")==="map";u.compileFilter();const ft=u.dynamicFilter(),ct=u.dynamicFilterNeedsFeature(),vt=this.transform.calculatePixelsToTileUnitsMatrix(b),At=cc(Ze,b.tileID.canonical,et,nt,this.transform,F.getProjection(),vt);let wt=null;if(et){const Zt=gh(Ze,b.tileID.canonical,et,nt,this.transform,F.getProjection(),vt);wt=n.multiply([],this.transform.labelPlaneMatrix,Zt)}let zt=null;ft&&b.latestFeatureIndex&&(zt={unwrappedTileID:Ne,dynamicFilter:ft,dynamicFilterNeedsFeature:ct,featureIndex:b.latestFeatureIndex}),this.retainedQueryData[F.bucketInstanceId]=new dc(F.bucketInstanceId,se,F.sourceLayerIndex,F.index,b.tileID);const Qt={bucket:F,layout:de,posMatrix:Ze,textLabelPlaneMatrix:At,labelToScreenMatrix:wt,clippingData:zt,scale:De,textPixelRatio:ke,holdingForFade:b.holdingForFade(),collisionBoxArray:fe,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(F.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:n.evaluateSizeForZoom(F.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(F.sourceID)};if(I)for(const Zt of F.sortKeyRanges){const{sortKey:Gt,symbolInstanceStart:wi,symbolInstanceEnd:Yt}=Zt;l.push({sortKey:Gt,symbolInstanceStart:wi,symbolInstanceEnd:Yt,parameters:Qt})}else l.push({symbolInstanceStart:0,symbolInstanceEnd:F.symbolInstances.length,parameters:Qt})}attemptAnchorPlacement(l,u,b,I,F,se,de,fe,De,ke,Ne,Ze,at,lt,dt,et,nt,ft){const{textOffset0:ct,textOffset1:vt,crossTileID:At}=Ze,wt=[ct,vt],zt=cr(l,b,I,wt,F),Qt=this.collisionIndex.placeCollisionBox(lt,F,u,cl(zt.x,zt.y,se,de,this.transform.angle),Ne,fe,De,ke.predicate);if(et){const Zt=lt.getSymbolInstanceIconSize(ft,this.transform.zoom,Ze.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(lt,Zt,et,cl(zt.x,zt.y,se,de,this.transform.angle),Ne,fe,De,ke.predicate).box.length===0)return}if(Qt.box.length>0){let Zt;return this.prevPlacement&&this.prevPlacement.variableOffsets[At]&&this.prevPlacement.placements[At]&&this.prevPlacement.placements[At].text&&(Zt=this.prevPlacement.variableOffsets[At].anchor),this.variableOffsets[At]={textOffset:wt,width:b,height:I,anchor:l,textScale:F,prevAnchor:Zt},this.markUsedJustification(lt,l,Ze,dt),lt.allowVerticalPlacement&&(this.markUsedOrientation(lt,dt,Ze),this.placedOrientations[At]=dt),{shift:zt,placedGlyphBoxes:Qt}}}placeLayerBucketPart(l,u,b,I){const{bucket:F,layout:se,posMatrix:de,textLabelPlaneMatrix:fe,labelToScreenMatrix:De,clippingData:ke,textPixelRatio:Ne,holdingForFade:Ze,collisionBoxArray:at,partiallyEvaluatedTextSize:lt,partiallyEvaluatedIconSize:dt,collisionGroup:et}=l.parameters,nt=se.get("text-optional"),ft=se.get("icon-optional"),ct=se.get("text-allow-overlap"),vt=se.get("icon-allow-overlap"),At=se.get("text-rotation-alignment")==="map",wt=se.get("text-pitch-alignment")==="map",zt=se.get("icon-text-fit")!=="none",Qt=se.get("symbol-z-order")==="viewport-y";this.transform.setProjection(F.projection);let Zt=ct&&(vt||!F.hasIconData()||ft),Gt=vt&&(ct||!F.hasTextData()||nt);!F.collisionArrays&&at&&F.deserializeCollisionBoxes(at),b&&I&&F.updateCollisionDebugBuffers(this.transform.zoom,at);const wi=(Yt,pi,ti)=>{const{crossTileID:ki,numVerticalGlyphVertices:ii}=Yt;if(ke){const Zs={zoom:this.transform.zoom,pitch:this.transform.pitch};let Bs=null;if(ke.dynamicFilterNeedsFeature){const Ts=this.retainedQueryData[F.bucketInstanceId];Bs=ke.featureIndex.loadFeature({featureIndex:Yt.featureIndex,bucketIndex:Ts.bucketIndex,sourceLayerIndex:Ts.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,ke.dynamicFilter)(Zs,Bs,this.retainedQueryData[F.bucketInstanceId].tileID.canonical,new n.pointGeometry(Yt.tileAnchorX,Yt.tileAnchorY),this.transform.calculateDistanceTileData(ke.unwrappedTileID)))return this.placements[ki]=new Fa(!1,!1,!1,!0),void(u[ki]=!0)}if(u[ki])return;if(Ze)return void(this.placements[ki]=new Fa(!1,!1,!1));let vi=!1,Li=!1,$t=!0,ei=!1,on=!1,pn=null,an={box:null,offscreen:null,occluded:null},kn={box:null,offscreen:null,occluded:null},Wn=null,_n=null,Ji=null,Fs=0,Ms=0,js=0;ti.textFeatureIndex?Fs=ti.textFeatureIndex:Yt.useRuntimeCollisionCircles&&(Fs=Yt.featureIndex),ti.verticalTextFeatureIndex&&(Ms=ti.verticalTextFeatureIndex);const Rs=Zs=>{Zs.tileID=this.retainedQueryData[F.bucketInstanceId].tileID;const Bs=this.transform.elevation;(Bs||Zs.elevation)&&(Zs.elevation=Bs?Bs.getAtTileOffset(Zs.tileID,Zs.tileAnchorX,Zs.tileAnchorY):0)},da=ti.textBox;if(da){Rs(da);const Zs=Ts=>{let Br=n.WritingMode.horizontal;if(F.allowVerticalPlacement&&!Ts&&this.prevPlacement){const Co=this.prevPlacement.placedOrientations[ki];Co&&(this.placedOrientations[ki]=Co,Br=Co,this.markUsedOrientation(F,Br,Yt))}return Br},Bs=(Ts,Br)=>{if(F.allowVerticalPlacement&&ii>0&&ti.verticalTextBox){for(const Co of F.writingModes)if(Co===n.WritingMode.vertical?(an=Br(),kn=an):an=Ts(),an&&an.box&&an.box.length)break}else an=Ts()};if(se.get("text-variable-anchor")){let Ts=se.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[ki]){const Ks=this.prevPlacement.variableOffsets[ki];Ts.indexOf(Ks.anchor)>0&&(Ts=Ts.filter(Fo=>Fo!==Ks.anchor),Ts.unshift(Ks.anchor))}const Br=(Ks,Fo,Dd)=>{const Tl=F.getSymbolInstanceTextSize(lt,Yt,this.transform.zoom,pi),Mo=(Ks.x2-Ks.x1)*Tl+2*Ks.padding,ua=(Ks.y2-Ks.y1)*Tl+2*Ks.padding,$l=zt&&!vt?Fo:null;$l&&Rs($l);let $a={box:[],offscreen:!1,occluded:!1};const es=ct?2*Ts.length:Ts.length;for(let id=0;id<es;++id){const Hl=this.attemptAnchorPlacement(Ts[id%Ts.length],Ks,Mo,ua,Tl,At,wt,Ne,de,et,id>=Ts.length,Yt,pi,F,Dd,$l,lt,dt);if(Hl&&($a=Hl.placedGlyphBoxes,$a&&$a.box&&$a.box.length)){vi=!0,pn=Hl.shift;break}}return $a};Bs(()=>Br(da,ti.iconBox,n.WritingMode.horizontal),()=>{const Ks=ti.verticalTextBox;return Ks&&Rs(Ks),F.allowVerticalPlacement&&!(an&&an.box&&an.box.length)&&ii>0&&Ks?Br(Ks,ti.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),an&&(vi=an.box,$t=an.offscreen,ei=an.occluded);const Co=Zs(an&&an.box);if(!vi&&this.prevPlacement){const Ks=this.prevPlacement.variableOffsets[ki];Ks&&(this.variableOffsets[ki]=Ks,this.markUsedJustification(F,Ks.anchor,Yt,Co))}}else{const Ts=(Br,Co)=>{const Ks=F.getSymbolInstanceTextSize(lt,Yt,this.transform.zoom,pi),Fo=this.collisionIndex.placeCollisionBox(F,Ks,Br,new n.pointGeometry(0,0),ct,Ne,de,et.predicate);return Fo&&Fo.box&&Fo.box.length&&(this.markUsedOrientation(F,Co,Yt),this.placedOrientations[ki]=Co),Fo};Bs(()=>Ts(da,n.WritingMode.horizontal),()=>{const Br=ti.verticalTextBox;return F.allowVerticalPlacement&&ii>0&&Br?(Rs(Br),Ts(Br,n.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Zs(an&&an.box&&an.box.length)}}if(Wn=an,vi=Wn&&Wn.box&&Wn.box.length>0,$t=Wn&&Wn.offscreen,ei=Wn&&Wn.occluded,Yt.useRuntimeCollisionCircles){const Zs=F.text.placedSymbolArray.get(Yt.centerJustifiedTextSymbolIndex>=0?Yt.centerJustifiedTextSymbolIndex:Yt.verticalPlacedTextSymbolIndex),Bs=n.evaluateSizeForFeature(F.textSizeData,lt,Zs),Ts=se.get("text-padding");_n=this.collisionIndex.placeCollisionCircles(F,ct,Zs,F.lineVertexArray,F.glyphOffsetArray,Bs,de,fe,De,b,wt,et.predicate,Yt.collisionCircleDiameter*Bs/n.ONE_EM,Ts,this.retainedQueryData[F.bucketInstanceId].tileID),vi=ct||_n.circles.length>0&&!_n.collisionDetected,$t=$t&&_n.offscreen,ei=_n.occluded}if(ti.iconFeatureIndex&&(js=ti.iconFeatureIndex),ti.iconBox){const Zs=Bs=>{Rs(Bs);const Ts=zt&&pn?cl(pn.x,pn.y,At,wt,this.transform.angle):new n.pointGeometry(0,0),Br=F.getSymbolInstanceIconSize(dt,this.transform.zoom,Yt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(F,Br,Bs,Ts,vt,Ne,de,et.predicate)};kn&&kn.box&&kn.box.length&&ti.verticalIconBox?(Ji=Zs(ti.verticalIconBox),Li=Ji.box.length>0):(Ji=Zs(ti.iconBox),Li=Ji.box.length>0),$t=$t&&Ji.offscreen,on=Ji.occluded}const Yo=nt||Yt.numHorizontalGlyphVertices===0&&ii===0,zo=ft||Yt.numIconVertices===0;if(Yo||zo?zo?Yo||(Li=Li&&vi):vi=Li&&vi:Li=vi=Li&&vi,vi&&Wn&&Wn.box&&this.collisionIndex.insertCollisionBox(Wn.box,se.get("text-ignore-placement"),F.bucketInstanceId,kn&&kn.box&&Ms?Ms:Fs,et.ID),Li&&Ji&&this.collisionIndex.insertCollisionBox(Ji.box,se.get("icon-ignore-placement"),F.bucketInstanceId,js,et.ID),_n&&(vi&&this.collisionIndex.insertCollisionCircles(_n.circles,se.get("text-ignore-placement"),F.bucketInstanceId,Fs,et.ID),b)){const Zs=F.bucketInstanceId;let Bs=this.collisionCircleArrays[Zs];Bs===void 0&&(Bs=this.collisionCircleArrays[Zs]=new hc);for(let Ts=0;Ts<_n.circles.length;Ts+=4)Bs.circles.push(_n.circles[Ts+0]),Bs.circles.push(_n.circles[Ts+1]),Bs.circles.push(_n.circles[Ts+2]),Bs.circles.push(_n.collisionDetected?1:0)}const Sl=F.projection.name!=="globe";Zt=Zt&&(Sl||!ei),Gt=Gt&&(Sl||!on),this.placements[ki]=new Fa(vi||Zt,Li||Gt,$t||F.justReloaded),u[ki]=!0};if(Qt){const Yt=F.getSortedSymbolIndexes(this.transform.angle);for(let pi=Yt.length-1;pi>=0;--pi){const ti=Yt[pi];wi(F.symbolInstances.get(ti),ti,F.collisionArrays[ti])}}else for(let Yt=l.symbolInstanceStart;Yt<l.symbolInstanceEnd;Yt++)wi(F.symbolInstances.get(Yt),Yt,F.collisionArrays[Yt]);if(b&&F.bucketInstanceId in this.collisionCircleArrays){const Yt=this.collisionCircleArrays[F.bucketInstanceId];n.invert(Yt.invProjMatrix,de),Yt.viewportMatrix=this.collisionIndex.getViewportMatrix()}F.justReloaded=!1}markUsedJustification(l,u,b,I){const{leftJustifiedTextSymbolIndex:F,centerJustifiedTextSymbolIndex:se,rightJustifiedTextSymbolIndex:de,verticalPlacedTextSymbolIndex:fe,crossTileID:De}=b,ke=n.getAnchorJustification(u),Ne=I===n.WritingMode.vertical?fe:ke==="left"?F:ke==="center"?se:ke==="right"?de:-1;F>=0&&(l.text.placedSymbolArray.get(F).crossTileID=Ne>=0&&F!==Ne?0:De),se>=0&&(l.text.placedSymbolArray.get(se).crossTileID=Ne>=0&&se!==Ne?0:De),de>=0&&(l.text.placedSymbolArray.get(de).crossTileID=Ne>=0&&de!==Ne?0:De),fe>=0&&(l.text.placedSymbolArray.get(fe).crossTileID=Ne>=0&&fe!==Ne?0:De)}markUsedOrientation(l,u,b){const I=u===n.WritingMode.horizontal||u===n.WritingMode.horizontalOnly?u:0,F=u===n.WritingMode.vertical?u:0,{leftJustifiedTextSymbolIndex:se,centerJustifiedTextSymbolIndex:de,rightJustifiedTextSymbolIndex:fe,verticalPlacedTextSymbolIndex:De}=b,ke=l.text.placedSymbolArray;se>=0&&(ke.get(se).placedOrientation=I),de>=0&&(ke.get(de).placedOrientation=I),fe>=0&&(ke.get(fe).placedOrientation=I),De>=0&&(ke.get(De).placedOrientation=F)}commit(l){this.commitTime=l,this.zoomAtLastRecencyCheck=this.transform.zoom;const u=this.prevPlacement;let b=!1;this.prevZoomAdjustment=u?u.zoomAdjustment(this.transform.zoom):0;const I=u?u.symbolFadeChange(l):1,F=u?u.opacities:{},se=u?u.variableOffsets:{},de=u?u.placedOrientations:{};for(const fe in this.placements){const De=this.placements[fe],ke=F[fe];ke?(this.opacities[fe]=new wa(ke,I,De.text,De.icon,null,De.clipped),b=b||De.text!==ke.text.placed||De.icon!==ke.icon.placed):(this.opacities[fe]=new wa(null,I,De.text,De.icon,De.skipFade,De.clipped),b=b||De.text||De.icon)}for(const fe in F){const De=F[fe];if(!this.opacities[fe]){const ke=new wa(De,I,!1,!1);ke.isHidden()||(this.opacities[fe]=ke,b=b||De.text.placed||De.icon.placed)}}for(const fe in se)this.variableOffsets[fe]||!this.opacities[fe]||this.opacities[fe].isHidden()||(this.variableOffsets[fe]=se[fe]);for(const fe in de)this.placedOrientations[fe]||!this.opacities[fe]||this.opacities[fe].isHidden()||(this.placedOrientations[fe]=de[fe]);b?this.lastPlacementChangeTime=l:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=u?u.lastPlacementChangeTime:l)}updateLayerOpacities(l,u){const b={};for(const I of u){const F=I.getBucket(l);F&&I.latestFeatureIndex&&l.id===F.layerIds[0]&&this.updateBucketOpacities(F,b,I.collisionBoxArray)}}updateBucketOpacities(l,u,b){l.hasTextData()&&l.text.opacityVertexArray.clear(),l.hasIconData()&&l.icon.opacityVertexArray.clear(),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexArray.clear(),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexArray.clear();const I=l.layers[0].layout,F=!!l.layers[0].dynamicFilter(),se=new wa(null,0,!1,!1,!0),de=I.get("text-allow-overlap"),fe=I.get("icon-allow-overlap"),De=I.get("text-variable-anchor"),ke=I.get("text-rotation-alignment")==="map",Ne=I.get("text-pitch-alignment")==="map",Ze=I.get("icon-text-fit")!=="none",at=new wa(null,0,de&&(fe||!l.hasIconData()||I.get("icon-optional")),fe&&(de||!l.hasTextData()||I.get("text-optional")),!0);!l.collisionArrays&&b&&(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData())&&l.deserializeCollisionBoxes(b);const lt=(et,nt,ft)=>{for(let ct=0;ct<nt/4;ct++)et.opacityVertexArray.emplaceBack(ft)};let dt=0;for(let et=0;et<l.symbolInstances.length;et++){const nt=l.symbolInstances.get(et),{numHorizontalGlyphVertices:ft,numVerticalGlyphVertices:ct,crossTileID:vt,numIconVertices:At}=nt;let wt=this.opacities[vt];u[vt]?wt=se:wt||(wt=at,this.opacities[vt]=wt),u[vt]=!0;const zt=ft>0||ct>0,Qt=At>0,Zt=this.placedOrientations[vt],Gt=Zt===n.WritingMode.vertical,wi=Zt===n.WritingMode.horizontal||Zt===n.WritingMode.horizontalOnly;if(!zt&&!Qt||wt.isHidden()||dt++,zt){const Yt=Ir(wt.text);lt(l.text,ft,Gt?Na:Yt),lt(l.text,ct,wi?Na:Yt);const pi=wt.text.isHidden(),{leftJustifiedTextSymbolIndex:ti,centerJustifiedTextSymbolIndex:ki,rightJustifiedTextSymbolIndex:ii,verticalPlacedTextSymbolIndex:vi}=nt,Li=l.text.placedSymbolArray,$t=pi||Gt?1:0;ti>=0&&(Li.get(ti).hidden=$t),ki>=0&&(Li.get(ki).hidden=$t),ii>=0&&(Li.get(ii).hidden=$t),vi>=0&&(Li.get(vi).hidden=pi||wi?1:0);const ei=this.variableOffsets[vt];ei&&this.markUsedJustification(l,ei.anchor,nt,Zt);const on=this.placedOrientations[vt];on&&(this.markUsedJustification(l,"left",nt,on),this.markUsedOrientation(l,on,nt))}if(Qt){const Yt=Ir(wt.icon),{placedIconSymbolIndex:pi,verticalPlacedIconSymbolIndex:ti}=nt,ki=l.icon.placedSymbolArray,ii=wt.icon.isHidden()?1:0;pi>=0&&(lt(l.icon,At,Gt?Na:Yt),ki.get(pi).hidden=ii),ti>=0&&(lt(l.icon,nt.numVerticalIconVertices,wi?Na:Yt),ki.get(ti).hidden=ii)}if(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData()){const Yt=l.collisionArrays[et];if(Yt){let pi=new n.pointGeometry(0,0),ti=!0;if(Yt.textBox||Yt.verticalTextBox){if(De){const ii=this.variableOffsets[vt];ii?(pi=cr(ii.anchor,ii.width,ii.height,ii.textOffset,ii.textScale),ke&&pi._rotate(Ne?this.transform.angle:-this.transform.angle)):ti=!1}F&&(ti=!wt.clipped),Yt.textBox&&Dr(l.textCollisionBox.collisionVertexArray,wt.text.placed,!ti||Gt,pi.x,pi.y),Yt.verticalTextBox&&Dr(l.textCollisionBox.collisionVertexArray,wt.text.placed,!ti||wi,pi.x,pi.y)}const ki=ti&&!!(!wi&&Yt.verticalIconBox);Yt.iconBox&&Dr(l.iconCollisionBox.collisionVertexArray,wt.icon.placed,ki,Ze?pi.x:0,Ze?pi.y:0),Yt.verticalIconBox&&Dr(l.iconCollisionBox.collisionVertexArray,wt.icon.placed,!ki,Ze?pi.x:0,Ze?pi.y:0)}}}if(l.fullyClipped=dt===0,l.sortFeatures(this.transform.angle),this.retainedQueryData[l.bucketInstanceId]&&(this.retainedQueryData[l.bucketInstanceId].featureSortOrder=l.featureSortOrder),l.hasTextData()&&l.text.opacityVertexBuffer&&l.text.opacityVertexBuffer.updateData(l.text.opacityVertexArray),l.hasIconData()&&l.icon.opacityVertexBuffer&&l.icon.opacityVertexBuffer.updateData(l.icon.opacityVertexArray),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexBuffer&&l.iconCollisionBox.collisionVertexBuffer.updateData(l.iconCollisionBox.collisionVertexArray),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexBuffer&&l.textCollisionBox.collisionVertexBuffer.updateData(l.textCollisionBox.collisionVertexArray),l.bucketInstanceId in this.collisionCircleArrays){const et=this.collisionCircleArrays[l.bucketInstanceId];l.placementInvProjMatrix=et.invProjMatrix,l.placementViewportMatrix=et.viewportMatrix,l.collisionCircleArray=et.circles,delete this.collisionCircleArrays[l.bucketInstanceId]}}symbolFadeChange(l){return this.fadeDuration===0?1:(l-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(l){return Math.max(0,(this.transform.zoom-l)/1.5)}hasTransitions(l){return this.stale||l-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(l,u){const b=this.zoomAtLastRecencyCheck===u?1-this.zoomAdjustment(u):1;return this.zoomAtLastRecencyCheck=u,this.commitTime+this.fadeDuration*b>l}setStale(){this.stale=!0}}function Dr(y,l,u,b,I){y.emplaceBack(l?1:0,u?1:0,b||0,I||0),y.emplaceBack(l?1:0,u?1:0,b||0,I||0),y.emplaceBack(l?1:0,u?1:0,b||0,I||0),y.emplaceBack(l?1:0,u?1:0,b||0,I||0)}const Lo=Math.pow(2,25),Gh=Math.pow(2,24),Fc=Math.pow(2,17),Tr=Math.pow(2,16),hl=Math.pow(2,9),Nc=Math.pow(2,8),dl=Math.pow(2,1);function Ir(y){if(y.opacity===0&&!y.placed)return 0;if(y.opacity===1&&y.placed)return 4294967295;const l=y.placed?1:0,u=Math.floor(127*y.opacity);return u*Lo+l*Gh+u*Fc+l*Tr+u*hl+l*Nc+u*dl+l}const Na=0;class jc{constructor(l){this._sortAcrossTiles=l.layout.get("symbol-z-order")!=="viewport-y"&&l.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(l,u,b,I,F){const se=this._bucketParts;for(;this._currentTileIndex<l.length;)if(u.getBucketParts(se,I,l[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,F())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,se.sort((de,fe)=>de.sortKey-fe.sortKey));this._currentPartIndex<se.length;){const de=se[this._currentPartIndex];if(u.placeLayerBucketPart(de,this._seenCrossTileIDs,b,de.symbolInstanceStart===0),this._currentPartIndex++,F())return!0}return!1}}class ps{constructor(l,u,b,I,F,se,de,fe){this.placement=new Sa(l,F,se,de,fe),this._currentPlacementIndex=u.length-1,this._forceFullPlacement=b,this._showCollisionBoxes=I,this._done=!1}isDone(){return this._done}continuePlacement(l,u,b){const I=n.exported.now(),F=()=>{const se=n.exported.now()-I;return!this._forceFullPlacement&&se>2};for(;this._currentPlacementIndex>=0;){const se=u[l[this._currentPlacementIndex]],de=this.placement.collisionIndex.transform.zoom;if(se.type==="symbol"&&(!se.minzoom||se.minzoom<=de)&&(!se.maxzoom||se.maxzoom>de)){if(this._inProgressLayer||(this._inProgressLayer=new jc(se)),this._inProgressLayer.continuePlacement(b[se.source],this.placement,this._showCollisionBoxes,se,F))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(l){return this.placement.commit(l),this.placement}}const bs=512/n.EXTENT/2;class Uc{constructor(l,u,b){this.tileID=l,this.indexedSymbolInstances={},this.bucketInstanceId=b;for(let I=0;I<u.length;I++){const F=u.get(I),se=F.key;this.indexedSymbolInstances[se]||(this.indexedSymbolInstances[se]=[]),this.indexedSymbolInstances[se].push({crossTileID:F.crossTileID,coord:this.getScaledCoordinates(F,l)})}}getScaledCoordinates(l,u){const b=bs/Math.pow(2,u.canonical.z-this.tileID.canonical.z);return{x:Math.floor((u.canonical.x*n.EXTENT+l.tileAnchorX)*b),y:Math.floor((u.canonical.y*n.EXTENT+l.tileAnchorY)*b)}}findMatches(l,u,b){const I=this.tileID.canonical.z<u.canonical.z?1:Math.pow(2,this.tileID.canonical.z-u.canonical.z);for(let F=0;F<l.length;F++){const se=l.get(F);if(se.crossTileID)continue;const de=this.indexedSymbolInstances[se.key];if(!de)continue;const fe=this.getScaledCoordinates(se,u);for(const De of de)if(Math.abs(De.coord.x-fe.x)<=I&&Math.abs(De.coord.y-fe.y)<=I&&!b[De.crossTileID]){b[De.crossTileID]=!0,se.crossTileID=De.crossTileID;break}}}}class Vh{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class _h{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(l){const u=Math.round((l-this.lng)/360);if(u!==0)for(const b in this.indexes){const I=this.indexes[b],F={};for(const se in I){const de=I[se];de.tileID=de.tileID.unwrapTo(de.tileID.wrap+u),F[de.tileID.key]=de}this.indexes[b]=F}this.lng=l}addBucket(l,u,b){if(this.indexes[l.overscaledZ]&&this.indexes[l.overscaledZ][l.key]){if(this.indexes[l.overscaledZ][l.key].bucketInstanceId===u.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(l.overscaledZ,this.indexes[l.overscaledZ][l.key])}for(let F=0;F<u.symbolInstances.length;F++)u.symbolInstances.get(F).crossTileID=0;this.usedCrossTileIDs[l.overscaledZ]||(this.usedCrossTileIDs[l.overscaledZ]={});const I=this.usedCrossTileIDs[l.overscaledZ];for(const F in this.indexes){const se=this.indexes[F];if(Number(F)>l.overscaledZ)for(const de in se){const fe=se[de];fe.tileID.isChildOf(l)&&fe.findMatches(u.symbolInstances,l,I)}else{const de=se[l.scaledTo(Number(F)).key];de&&de.findMatches(u.symbolInstances,l,I)}}for(let F=0;F<u.symbolInstances.length;F++){const se=u.symbolInstances.get(F);se.crossTileID||(se.crossTileID=b.generate(),I[se.crossTileID]=!0)}return this.indexes[l.overscaledZ]===void 0&&(this.indexes[l.overscaledZ]={}),this.indexes[l.overscaledZ][l.key]=new Uc(l,u.symbolInstances,u.bucketInstanceId),!0}removeBucketCrossTileIDs(l,u){for(const b in u.indexedSymbolInstances)for(const I of u.indexedSymbolInstances[b])delete this.usedCrossTileIDs[l][I.crossTileID]}removeStaleBuckets(l){let u=!1;for(const b in this.indexes){const I=this.indexes[b];for(const F in I)l[I[F].bucketInstanceId]||(this.removeBucketCrossTileIDs(b,I[F]),delete I[F],u=!0)}return u}}class Oo{constructor(){this.layerIndexes={},this.crossTileIDs=new Vh,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(l,u,b,I){let F=this.layerIndexes[l.id];F===void 0&&(F=this.layerIndexes[l.id]=new _h);let se=!1;const de={};I.name!=="globe"&&F.handleWrapJump(b);for(const fe of u){const De=fe.getBucket(l);De&&l.id===De.layerIds[0]&&(De.bucketInstanceId||(De.bucketInstanceId=++this.maxBucketInstanceId),F.addBucket(fe.tileID,De,this.crossTileIDs)&&(se=!0),de[De.bucketInstanceId]=!0)}return F.removeStaleBuckets(de)&&(se=!0),se}pruneUnusedLayers(l){const u={};l.forEach(b=>{u[b]=!0});for(const b in this.layerIndexes)u[b]||delete this.layerIndexes[b]}}const uc=(y,l)=>n.emitValidationErrors(y,l&&l.filter(u=>u.identifier!=="source.canvas")),Gc=n.pick(cn,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),ul=n.pick(cn,["setCenter","setZoom","setBearing","setPitch"]),bo={version:8,layers:[],sources:{}},Er={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class U extends n.Evented{constructor(l,u={}){super(),this.map=l,this.dispatcher=new Ee(Ni(),this),this.imageManager=new W,this.imageManager.setEventedParent(this),this.glyphManager=new n.GlyphManager(l._requestManager,u.localFontFamily?n.LocalGlyphMode.all:u.localIdeographFontFamily?n.LocalGlyphMode.ideographs:n.LocalGlyphMode.none,u.localFontFamily||u.localIdeographFontFamily),this.crossTileSymbolIndex=new Oo,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());const b=this;this._rtlTextPluginCallback=U.registerForPluginStateChange(I=>{b.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:I.pluginStatus,pluginURL:I.pluginURL},(F,se)=>{if(n.triggerPluginCompletionEvent(F),se&&se.every(de=>de))for(const de in b._sourceCaches){const fe=b._sourceCaches[de],De=fe.getSource().type;De!=="vector"&&De!=="geojson"||fe.reload()}})}),this.on("data",I=>{if(I.dataType!=="source"||I.sourceDataType!=="metadata")return;const F=this.getSource(I.sourceId);if(F&&F.vectorLayerIds)for(const se in this._layers){const de=this._layers[se];de.source===F.id&&this._validateLayer(de)}})}loadURL(l,u={}){this.fire(new n.Event("dataloading",{dataType:"style"}));const b=typeof u.validate=="boolean"?u.validate:!n.isMapboxURL(l);l=this.map._requestManager.normalizeStyleURL(l,u.accessToken);const I=this.map._requestManager.transformRequest(l,n.ResourceType.Style);this._request=n.getJSON(I,(F,se)=>{this._request=null,F?this.fire(new n.ErrorEvent(F)):se&&this._load(se,b)})}loadJSON(l,u={}){this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.exported.frame(()=>{this._request=null,this._load(l,u.validate!==!1)})}loadEmpty(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(bo,!1)}_updateLayerCount(l,u){const b=u?1:-1;l.is3D()&&(this._num3DLayers+=b),l.type==="circle"&&(this._numCircleLayers+=b),l.type==="symbol"&&(this._numSymbolLayers+=b)}_load(l,u){if(u&&uc(this,n.validateStyle(l)))return;this._loaded=!0,this.stylesheet=n.clone$1(l),this._updateMapProjection();for(const I in l.sources)this.addSource(I,l.sources[I],{validate:!1});this._changed=!1,l.sprite?this._loadSprite(l.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(l.glyphs);const b=ds(this.stylesheet.layers);this._order=b.map(I=>I.id),this._layers={},this._serializedLayers={};for(let I of b)I=n.createStyleLayer(I),I.setEventedParent(this,{layer:{id:I.id}}),this._layers[I.id]=I,this._serializedLayers[I.id]=I.serialize(),this._updateLayerCount(I,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new f(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(l){l?this.stylesheet.projection=l:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(l){this._spriteRequest=function(u,b,I){let F,se,de;const fe=n.exported.devicePixelRatio>1?"@2x":"";let De=n.getJSON(b.transformRequest(b.normalizeSpriteURL(u,fe,".json"),n.ResourceType.SpriteJSON),(Ze,at)=>{De=null,de||(de=Ze,F=at,Ne())}),ke=n.getImage(b.transformRequest(b.normalizeSpriteURL(u,fe,".png"),n.ResourceType.SpriteImage),(Ze,at)=>{ke=null,de||(de=Ze,se=at,Ne())});function Ne(){if(de)I(de);else if(F&&se){const Ze=n.exported.getImageData(se),at={};for(const lt in F){const{width:dt,height:et,x:nt,y:ft,sdf:ct,pixelRatio:vt,stretchX:At,stretchY:wt,content:zt}=F[lt],Qt=new n.RGBAImage({width:dt,height:et});n.RGBAImage.copy(Ze,Qt,{x:nt,y:ft},{x:0,y:0},{width:dt,height:et}),at[lt]={data:Qt,pixelRatio:vt,sdf:ct,stretchX:At,stretchY:wt,content:zt}}I(null,at)}}return{cancel(){De&&(De.cancel(),De=null),ke&&(ke.cancel(),ke=null)}}}(l,this.map._requestManager,(u,b)=>{if(this._spriteRequest=null,u)this.fire(new n.ErrorEvent(u));else if(b)for(const I in b)this.imageManager.addImage(I,b[I]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new n.Event("data",{dataType:"style"}))})}_validateLayer(l){const u=this.getSource(l.source);if(!u)return;const b=l.sourceLayer;b&&(u.type==="geojson"||u.vectorLayerIds&&u.vectorLayerIds.indexOf(b)===-1)&&this.fire(new n.ErrorEvent(new Error(`Source layer "${b}" does not exist on source "${u.id}" as specified by style layer "${l.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const l in this._sourceCaches)if(!this._sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(l){const u=[];for(const b of l){const I=this._layers[b];I.type!=="custom"&&u.push(I.serialize())}return u}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const l in this._sourceCaches)if(this._sourceCaches[l].hasTransition())return!0;for(const l in this._layers)if(this._layers[l].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(l){return!!this.terrain&&Er[l.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(l){if(!this._loaded)return;const u=this._changed;if(this._changed){const I=Object.keys(this._updatedLayers),F=Object.keys(this._removedLayers);(I.length||F.length)&&this._updateWorkerLayers(I,F);for(const se in this._updatedSources){const de=this._updatedSources[se];de==="reload"?this._reloadSource(se):de==="clear"&&this._clearSource(se)}this._updateTilesForChangedImages();for(const se in this._updatedPaintProps)this._layers[se].updateTransitions(l);this.light.updateTransitions(l),this.fog&&this.fog.updateTransitions(l),this._resetUpdates()}const b={};for(const I in this._sourceCaches){const F=this._sourceCaches[I];b[I]=F.used,F.used=!1}for(const I of this._order){const F=this._layers[I];if(F.recalculate(l,this._availableImages),!F.isHidden(l.zoom)){const de=this._getLayerSourceCache(F);de&&(de.used=!0)}const se=this.map.painter;if(se){const de=F.getProgramIds();if(!de)continue;const fe=F.getProgramConfiguration(l.zoom);for(const De of de)se.useProgram(De,fe)}}for(const I in b){const F=this._sourceCaches[I];b[I]!==F.used&&F.getSource().fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:F.getSource().id}))}this.light.recalculate(l),this.terrain&&this.terrain.recalculate(l),this.fog&&this.fog.recalculate(l),this.z=l.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),u&&this.fire(new n.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const l=Object.keys(this._changedImages);if(l.length){for(const u in this._sourceCaches)this._sourceCaches[u].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}}_updateWorkerLayers(l,u){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(l),removedIds:u})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(l){if(this._checkLoaded(),uc(this,n.validateStyle(l)))return!1;(l=n.clone$1(l)).layers=ds(l.layers);const u=function(I,F){if(!I)return[{command:cn.setStyle,args:[F]}];let se=[];try{if(!S(I.version,F.version))return[{command:cn.setStyle,args:[F]}];S(I.center,F.center)||se.push({command:cn.setCenter,args:[F.center]}),S(I.zoom,F.zoom)||se.push({command:cn.setZoom,args:[F.zoom]}),S(I.bearing,F.bearing)||se.push({command:cn.setBearing,args:[F.bearing]}),S(I.pitch,F.pitch)||se.push({command:cn.setPitch,args:[F.pitch]}),S(I.sprite,F.sprite)||se.push({command:cn.setSprite,args:[F.sprite]}),S(I.glyphs,F.glyphs)||se.push({command:cn.setGlyphs,args:[F.glyphs]}),S(I.transition,F.transition)||se.push({command:cn.setTransition,args:[F.transition]}),S(I.light,F.light)||se.push({command:cn.setLight,args:[F.light]}),S(I.fog,F.fog)||se.push({command:cn.setFog,args:[F.fog]}),S(I.projection,F.projection)||se.push({command:cn.setProjection,args:[F.projection]});const de={},fe=[];(function(Ne,Ze,at,lt){let dt;for(dt in Ze=Ze||{},Ne=Ne||{})Ne.hasOwnProperty(dt)&&(Ze.hasOwnProperty(dt)||gs(dt,at,lt));for(dt in Ze)Ze.hasOwnProperty(dt)&&(Ne.hasOwnProperty(dt)?S(Ne[dt],Ze[dt])||(Ne[dt].type==="geojson"&&Ze[dt].type==="geojson"&&la(Ne,Ze,dt)?at.push({command:cn.setGeoJSONSourceData,args:[dt,Ze[dt].data]}):aa(dt,Ze,at,lt)):ks(dt,Ze,at))})(I.sources,F.sources,fe,de);const De=[];I.layers&&I.layers.forEach(Ne=>{Ne.source&&de[Ne.source]?se.push({command:cn.removeLayer,args:[Ne.id]}):De.push(Ne)});let ke=I.terrain;ke&&de[ke.source]&&(se.push({command:cn.setTerrain,args:[void 0]}),ke=void 0),se=se.concat(fe),S(ke,F.terrain)||se.push({command:cn.setTerrain,args:[F.terrain]}),function(Ne,Ze,at){Ze=Ze||[];const lt=(Ne=Ne||[]).map(ci),dt=Ze.map(ci),et=Ne.reduce(Ys,{}),nt=Ze.reduce(Ys,{}),ft=lt.slice(),ct=Object.create(null);let vt,At,wt,zt,Qt,Zt,Gt;for(vt=0,At=0;vt<lt.length;vt++)wt=lt[vt],nt.hasOwnProperty(wt)?At++:(at.push({command:cn.removeLayer,args:[wt]}),ft.splice(ft.indexOf(wt,At),1));for(vt=0,At=0;vt<dt.length;vt++)wt=dt[dt.length-1-vt],ft[ft.length-1-vt]!==wt&&(et.hasOwnProperty(wt)?(at.push({command:cn.removeLayer,args:[wt]}),ft.splice(ft.lastIndexOf(wt,ft.length-At),1)):At++,Zt=ft[ft.length-vt],at.push({command:cn.addLayer,args:[nt[wt],Zt]}),ft.splice(ft.length-vt,0,wt),ct[wt]=!0);for(vt=0;vt<dt.length;vt++)if(wt=dt[vt],zt=et[wt],Qt=nt[wt],!ct[wt]&&!S(zt,Qt))if(S(zt.source,Qt.source)&&S(zt["source-layer"],Qt["source-layer"])&&S(zt.type,Qt.type)){for(Gt in Vr(zt.layout,Qt.layout,at,wt,null,cn.setLayoutProperty),Vr(zt.paint,Qt.paint,at,wt,null,cn.setPaintProperty),S(zt.filter,Qt.filter)||at.push({command:cn.setFilter,args:[wt,Qt.filter]}),S(zt.minzoom,Qt.minzoom)&&S(zt.maxzoom,Qt.maxzoom)||at.push({command:cn.setLayerZoomRange,args:[wt,Qt.minzoom,Qt.maxzoom]}),zt)zt.hasOwnProperty(Gt)&&Gt!=="layout"&&Gt!=="paint"&&Gt!=="filter"&&Gt!=="metadata"&&Gt!=="minzoom"&&Gt!=="maxzoom"&&(Gt.indexOf("paint.")===0?Vr(zt[Gt],Qt[Gt],at,wt,Gt.slice(6),cn.setPaintProperty):S(zt[Gt],Qt[Gt])||at.push({command:cn.setLayerProperty,args:[wt,Gt,Qt[Gt]]}));for(Gt in Qt)Qt.hasOwnProperty(Gt)&&!zt.hasOwnProperty(Gt)&&Gt!=="layout"&&Gt!=="paint"&&Gt!=="filter"&&Gt!=="metadata"&&Gt!=="minzoom"&&Gt!=="maxzoom"&&(Gt.indexOf("paint.")===0?Vr(zt[Gt],Qt[Gt],at,wt,Gt.slice(6),cn.setPaintProperty):S(zt[Gt],Qt[Gt])||at.push({command:cn.setLayerProperty,args:[wt,Gt,Qt[Gt]]}))}else at.push({command:cn.removeLayer,args:[wt]}),Zt=ft[ft.lastIndexOf(wt)+1],at.push({command:cn.addLayer,args:[Qt,Zt]})}(De,F.layers,se)}catch(de){console.warn("Unable to compute style diff:",de),se=[{command:cn.setStyle,args:[F]}]}return se}(this.serialize(),l).filter(I=>!(I.command in ul));if(u.length===0)return!1;const b=u.filter(I=>!(I.command in Gc));if(b.length>0)throw new Error(`Unimplemented: ${b.map(I=>I.command).join(", ")}.`);return u.forEach(I=>{I.command!=="setTransition"&&I.command!=="setProjection"&&this[I.command].apply(this,I.args)}),this.stylesheet=l,this._updateMapProjection(),!0}addImage(l,u){return this.getImage(l)?this.fire(new n.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(l,u),this._afterImageUpdated(l),this)}updateImage(l,u){this.imageManager.updateImage(l,u)}getImage(l){return this.imageManager.getImage(l)}removeImage(l){return this.getImage(l)?(this.imageManager.removeImage(l),this._afterImageUpdated(l),this):this.fire(new n.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(l,u,b={}){if(this._checkLoaded(),this.getSource(l)!==void 0)throw new Error("There is already a source with this ID");if(!u.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(u).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(u.type)>=0&&this._validate(n.validateSource,`sources.${l}`,u,null,b))return;this.map&&this.map._collectResourceTiming&&(u.collectResourceTiming=!0);const I=Vt(l,u,this.dispatcher,this);I.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(l),source:I.serialize(),sourceId:l}));const F=se=>{const de=(se?"symbol:":"other:")+l,fe=this._sourceCaches[de]=new n.SourceCache(de,I,se);(se?this._symbolSourceCaches:this._otherSourceCaches)[l]=fe,fe.style=this,fe.onAdd(this.map)};F(!1),u.type!=="vector"&&u.type!=="geojson"||F(!0),I.onAdd&&I.onAdd(this.map),this._changed=!0}removeSource(l){this._checkLoaded();const u=this.getSource(l);if(!u)throw new Error("There is no source with this ID");for(const I in this._layers)if(this._layers[I].source===l)return this.fire(new n.ErrorEvent(new Error(`Source "${l}" cannot be removed while layer "${I}" is using it.`)));if(this.terrain&&this.terrain.get().source===l)return this.fire(new n.ErrorEvent(new Error(`Source "${l}" cannot be removed while terrain is using it.`)));const b=this._getSourceCaches(l);for(const I of b)delete this._sourceCaches[I.id],delete this._updatedSources[I.id],I.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:I.getSource().id})),I.setEventedParent(null),I.clearTiles();return delete this._otherSourceCaches[l],delete this._symbolSourceCaches[l],u.setEventedParent(null),u.onRemove&&u.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(l,u){this._checkLoaded(),this.getSource(l).setData(u),this._changed=!0}getSource(l){const u=this._getSourceCache(l);return u&&u.getSource()}_getSources(){const l=[];for(const u in this._otherSourceCaches){const b=this._getSourceCache(u);b&&l.push(b.getSource())}return l}addLayer(l,u,b={}){this._checkLoaded();const I=l.id;if(this.getLayer(I))return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${I}" already exists on this map`)));let F;if(l.type==="custom"){if(uc(this,n.validateCustomStyleLayer(l)))return;F=n.createStyleLayer(l)}else{if(typeof l.source=="object"&&(this.addSource(I,l.source),l=n.clone$1(l),l=n.extend(l,{source:I})),this._validate(n.validateLayer,`layers.${I}`,l,{arrayIndex:-1},b))return;F=n.createStyleLayer(l),this._validateLayer(F),F.setEventedParent(this,{layer:{id:I}}),this._serializedLayers[F.id]=F.serialize(),this._updateLayerCount(F,!0)}const se=u?this._order.indexOf(u):this._order.length;if(u&&se===-1)return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${u}" does not exist on this map.`)));this._order.splice(se,0,I),this._layerOrderChanged=!0,this._layers[I]=F;const de=this._getLayerSourceCache(F);if(this._removedLayers[I]&&F.source&&de&&F.type!=="custom"){const fe=this._removedLayers[I];delete this._removedLayers[I],fe.type!==F.type?this._updatedSources[F.source]="clear":(this._updatedSources[F.source]="reload",de.pause())}this._updateLayer(F),F.onAdd&&F.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(l,u){if(this._checkLoaded(),this._changed=!0,!this._layers[l])return void this.fire(new n.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be moved.`)));if(l===u)return;const b=this._order.indexOf(l);this._order.splice(b,1);const I=u?this._order.indexOf(u):this._order.length;u&&I===-1?this.fire(new n.ErrorEvent(new Error(`Layer with id "${u}" does not exist on this map.`))):(this._order.splice(I,0,l),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(l){this._checkLoaded();const u=this._layers[l];if(!u)return void this.fire(new n.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be removed.`)));u.setEventedParent(null),this._updateLayerCount(u,!1);const b=this._order.indexOf(l);this._order.splice(b,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=u,delete this._layers[l],delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],u.onRemove&&u.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(l){return this._layers[l]}hasLayer(l){return l in this._layers}hasLayerType(l){for(const u in this._layers)if(this._layers[u].type===l)return!0;return!1}setLayerZoomRange(l,u,b){this._checkLoaded();const I=this.getLayer(l);I?I.minzoom===u&&I.maxzoom===b||(u!=null&&(I.minzoom=u),b!=null&&(I.maxzoom=b),this._updateLayer(I)):this.fire(new n.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(l,u,b={}){this._checkLoaded();const I=this.getLayer(l);if(I){if(!S(I.filter,u))return u==null?(I.filter=void 0,void this._updateLayer(I)):void(this._validate(n.validateFilter,`layers.${I.id}.filter`,u,{layerType:I.type},b)||(I.filter=n.clone$1(u),this._updateLayer(I)))}else this.fire(new n.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be filtered.`)))}getFilter(l){const u=this.getLayer(l);return u&&n.clone$1(u.filter)}setLayoutProperty(l,u,b,I={}){this._checkLoaded();const F=this.getLayer(l);F?S(F.getLayoutProperty(u),b)||(F.setLayoutProperty(u,b,I),this._updateLayer(F)):this.fire(new n.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(l,u){const b=this.getLayer(l);if(b)return b.getLayoutProperty(u);this.fire(new n.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style.`)))}setPaintProperty(l,u,b,I={}){this._checkLoaded();const F=this.getLayer(l);F?S(F.getPaintProperty(u),b)||(F.setPaintProperty(u,b,I)&&this._updateLayer(F),this._changed=!0,this._updatedPaintProps[l]=!0):this.fire(new n.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(l,u){const b=this.getLayer(l);return b&&b.getPaintProperty(u)}setFeatureState(l,u){this._checkLoaded();const b=l.source,I=l.sourceLayer,F=this.getSource(b);if(!F)return void this.fire(new n.ErrorEvent(new Error(`The source '${b}' does not exist in the map's style.`)));const se=F.type;if(se==="geojson"&&I)return void this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(se==="vector"&&!I)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));l.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided.")));const de=this._getSourceCaches(b);for(const fe of de)fe.setFeatureState(I,l.id,u)}removeFeatureState(l,u){this._checkLoaded();const b=l.source,I=this.getSource(b);if(!I)return void this.fire(new n.ErrorEvent(new Error(`The source '${b}' does not exist in the map's style.`)));const F=I.type,se=F==="vector"?l.sourceLayer:void 0;if(F==="vector"&&!se)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(u&&typeof l.id!="string"&&typeof l.id!="number")return void this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const de=this._getSourceCaches(b);for(const fe of de)fe.removeFeatureState(se,l.id,u)}getFeatureState(l){this._checkLoaded();const u=l.source,b=l.sourceLayer,I=this.getSource(u);if(I){if(I.type!=="vector"||b)return l.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(u)[0].getFeatureState(b,l.id);this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error(`The source '${u}' does not exist in the map's style.`)))}getTransition(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const l={};for(const u in this._sourceCaches){const b=this._sourceCaches[u].getSource();l[b.id]||(l[b.id]=b.serialize())}return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:l,layers:this._serializeLayers(this._order)},u=>u!==void 0)}_updateLayer(l){this._updatedLayers[l.id]=!0;const u=this._getLayerSourceCache(l);l.source&&!this._updatedSources[l.source]&&u&&u.getSource().type!=="raster"&&(this._updatedSources[l.source]="reload",u.pause()),this._changed=!0,l.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(l){const u=se=>this._layers[se].type==="fill-extrusion",b={},I=[];for(let se=this._order.length-1;se>=0;se--){const de=this._order[se];if(u(de)){b[de]=se;for(const fe of l){const De=fe[de];if(De)for(const ke of De)I.push(ke)}}}I.sort((se,de)=>de.intersectionZ-se.intersectionZ);const F=[];for(let se=this._order.length-1;se>=0;se--){const de=this._order[se];if(u(de))for(let fe=I.length-1;fe>=0;fe--){const De=I[fe].feature;if(b[De.layer.id]<se)break;F.push(De),I.pop()}else for(const fe of l){const De=fe[de];if(De)for(const ke of De)F.push(ke.feature)}}return F}queryRenderedFeatures(l,u,b){u&&u.filter&&this._validate(n.validateFilter,"queryRenderedFeatures.filter",u.filter,null,u);const I={};if(u&&u.layers){if(!Array.isArray(u.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const fe of u.layers){const De=this._layers[fe];if(!De)return this.fire(new n.ErrorEvent(new Error(`The layer '${fe}' does not exist in the map's style and cannot be queried for features.`))),[];I[De.source]=!0}}const F=[];u.availableImages=this._availableImages;const se=u&&u.layers?u.layers.some(fe=>{const De=this.getLayer(fe);return De&&De.is3D()}):this.has3DLayers(),de=oe.createFromScreenPoints(l,b);for(const fe in this._sourceCaches){const De=this._sourceCaches[fe].getSource().id;u.layers&&!I[De]||F.push(qt(this._sourceCaches[fe],this._layers,this._serializedLayers,de,u,b,se,!!this.map._showQueryGeometry))}return this.placement&&F.push(function(fe,De,ke,Ne,Ze,at,lt){const dt={},et=at.queryRenderedSymbols(Ne),nt=[];for(const ft of Object.keys(et).map(Number))nt.push(lt[ft]);nt.sort(Vi);for(const ft of nt){const ct=ft.featureIndex.lookupSymbolFeatures(et[ft.bucketInstanceId],De,ft.bucketIndex,ft.sourceLayerIndex,Ze.filter,Ze.layers,Ze.availableImages,fe);for(const vt in ct){const At=dt[vt]=dt[vt]||[],wt=ct[vt];wt.sort((zt,Qt)=>{const Zt=ft.featureSortOrder;if(Zt){const Gt=Zt.indexOf(zt.featureIndex);return Zt.indexOf(Qt.featureIndex)-Gt}return Qt.featureIndex-zt.featureIndex});for(const zt of wt)At.push(zt)}}for(const ft in dt)dt[ft].forEach(ct=>{const vt=ct.feature,At=ke(fe[ft]).getFeatureState(vt.layer["source-layer"],vt.id);vt.source=vt.layer.source,vt.layer["source-layer"]&&(vt.sourceLayer=vt.layer["source-layer"]),vt.state=At});return dt}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),de.screenGeometry,u,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(F)}querySourceFeatures(l,u){u&&u.filter&&this._validate(n.validateFilter,"querySourceFeatures.filter",u.filter,null,u);const b=this._getSourceCaches(l);let I=[];for(const F of b)I=I.concat(mi(F,u));return I}addSourceType(l,u,b){return U.getSourceType(l)?b(new Error(`A source type called "${l}" already exists.`)):(U.setSourceType(l,u),u.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:l,url:u.workerSourceURL},b):b(null,null))}getLight(){return this.light.getLight()}setLight(l,u={}){this._checkLoaded();const b=this.light.getLight();let I=!1;for(const se in l)if(!S(l[se],b[se])){I=!0;break}if(!I)return;const F=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(l,u),this.light.updateTransitions(F)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(l,u=1){if(this._checkLoaded(),!l)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(u===1){if(typeof l.source=="object"){const b="terrain-dem-src";this.addSource(b,l.source),l=n.clone$1(l),l=n.extend(l,{source:b})}if(this._validate(n.validateTerrain,"terrain",l))return}if(!this.terrain||this.terrain&&u!==this.terrain.drapeRenderMode)this._createTerrain(l,u);else{const b=this.terrain,I=b.get();for(const F of Object.keys(n.spec.terrain))!l.hasOwnProperty(F)&&n.spec.terrain[F].default&&(l[F]=n.spec.terrain[F].default);for(const F in l)if(!S(l[F],I[F])){b.set(l),this.stylesheet.terrain=l;const se=this._setTransitionParameters({duration:0});b.updateTransitions(se);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(l){const u=this.fog=new ge(l,this.map.transform);this.stylesheet.fog=l;const b=this._setTransitionParameters({duration:0});u.updateTransitions(b)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const l of this.map._markers)l._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(l){if(this._checkLoaded(),!l)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const u=this.fog,b=u.get();Object.keys(l).length===0&&u.set(l);for(const I in l)if(!S(l[I],b[I])){u.set(l),this.stylesheet.fog=l;const F=this._setTransitionParameters({duration:0});u.updateTransitions(F);break}}else this._createFog(l);this._markersNeedUpdate=!0}_setTransitionParameters(l){return{now:n.exported.now(),transition:n.extend(l,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const l=this._order.filter(b=>this.isLayerDraped(this._layers[b])),u=this._order.filter(b=>!this.isLayerDraped(this._layers[b]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...l),this._drapedFirstOrder.push(...u)}_createTerrain(l,u){const b=this.terrain=new P(l,u);this.stylesheet.terrain=l,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const I=this._setTransitionParameters({duration:0});b.updateTransitions(I)}_force3DLayerUpdate(){for(const l in this._layers){const u=this._layers[l];u.type==="fill-extrusion"&&this._updateLayer(u)}}_forceSymbolLayerUpdate(){for(const l in this._layers){const u=this._layers[l];u.type==="symbol"&&this._updateLayer(u)}}_validate(l,u,b,I,F={}){return(!F||F.validate!==!1)&&uc(this,l.call(n.validateStyle,n.extend({key:u,style:this.serialize(),value:b,styleSpec:n.spec},I)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const l in this._layers)this._layers[l].setEventedParent(null);for(const l in this._sourceCaches)this._sourceCaches[l].clearTiles(),this._sourceCaches[l].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(l){const u=this._getSourceCaches(l);for(const b of u)b.clearTiles()}_reloadSource(l){const u=this._getSourceCaches(l);for(const b of u)b.resume(),b.reload()}_reloadSources(){for(const l of this._getSources())l.reload&&l.reload()}_updateSources(l){for(const u in this._sourceCaches)this._sourceCaches[u].update(l)}_generateCollisionBoxes(){for(const l in this._sourceCaches){const u=this._sourceCaches[l];u.resume(),u.reload()}}_updatePlacement(l,u,b,I,F=!1){let se=!1,de=!1;const fe={};for(const De of this._order){const ke=this._layers[De];if(ke.type!=="symbol")continue;if(!fe[ke.source]){const Ze=this._getLayerSourceCache(ke);if(!Ze)continue;fe[ke.source]=Ze.getRenderableIds(!0).map(at=>Ze.getTileByID(at)).sort((at,lt)=>lt.tileID.overscaledZ-at.tileID.overscaledZ||(at.tileID.isLessThan(lt.tileID)?-1:1))}const Ne=this.crossTileSymbolIndex.addLayer(ke,fe[ke.source],l.center.lng,l.projection);se=se||Ne}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),F=F||this._layerOrderChanged||b===0,this._layerOrderChanged&&this.fire(new n.Event("neworder")),(F||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.exported.now(),l.zoom))&&(this.pauseablePlacement=new ps(l,this._order,F,u,b,I,this.placement,this.fog&&l.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,fe),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.exported.now()),de=!0),se&&this.pauseablePlacement.placement.setStale()),de||se)for(const De of this._order){const ke=this._layers[De];ke.type==="symbol"&&this.placement.updateLayerOpacities(ke,fe[ke.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.exported.now())}_releaseSymbolFadeTiles(){for(const l in this._sourceCaches)this._sourceCaches[l].releaseSymbolFadeTiles()}getImages(l,u,b){this.imageManager.getImages(u.icons,b),this._updateTilesForChangedImages();const I=F=>{F&&F.setDependencies(u.tileID.key,u.type,u.icons)};I(this._otherSourceCaches[u.source]),I(this._symbolSourceCaches[u.source])}getGlyphs(l,u,b){this.glyphManager.getGlyphs(u.stacks,b)}getResource(l,u,b){return n.makeRequest(u,b)}_getSourceCache(l){return this._otherSourceCaches[l]}_getLayerSourceCache(l){return l.type==="symbol"?this._symbolSourceCaches[l.source]:this._otherSourceCaches[l.source]}_getSourceCaches(l){const u=[];return this._otherSourceCaches[l]&&u.push(this._otherSourceCaches[l]),this._symbolSourceCaches[l]&&u.push(this._symbolSourceCaches[l]),u}_isSourceCacheLoaded(l){const u=this._getSourceCaches(l);return u.length===0?(this.fire(new n.ErrorEvent(new Error(`There is no source with ID '${l}'`))),!1):u.every(b=>b.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}U.getSourceType=function(y){return Nt[y]},U.setSourceType=function(y,l){Nt[y]=l},U.registerForPluginStateChange=n.registerForPluginStateChange;var le=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,ve="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Ae=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,Ue=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,$e=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let Ke={},Dt={};const St=[];ai(le,St),ai(Ae,St),ai(Ue,St),ai($e,St),Ke=Gi("",Ae),Dt=Gi($e,Ue);const Xt=Gi(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),hi=le,Si=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var ni={background:Gi(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Gi(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Gi(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Gi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Gi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Gi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Gi("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Gi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Gi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Gi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Gi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Gi(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Gi(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Gi(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Gi(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Gi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Gi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Gi(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Gi(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Gi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Gi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Gi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Gi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Gi(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Gi(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Gi(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ve),skyboxGradient:Gi(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ve),skyboxCapture:Gi(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Gi(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Gi(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function ai(y,l){const u=y.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let b of u)if(b=b.trim(),b[0]==="#"&&b.includes("if")&&!b.includes("endif")){b=b.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const I=b.split(" ");for(const F of I)l.includes(F)||l.push(F)}}function Gi(y,l){const u=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,b=l.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),I={},F=[...St];return ai(y,F),ai(l,F),{fragmentSource:y=y.replace(u,(se,de,fe,De,ke)=>(I[ke]=!0,de==="define"?`
#ifndef HAS_UNIFORM_u_${ke}
varying ${fe} ${De} ${ke};
#else
uniform ${fe} ${De} u_${ke};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ke}
    ${fe} ${De} ${ke} = u_${ke};
#endif
`)),vertexSource:l=l.replace(u,(se,de,fe,De,ke)=>{const Ne=De==="float"?"vec2":"vec4",Ze=ke.match(/color/)?"color":Ne;return I[ke]?de==="define"?`
#ifndef HAS_UNIFORM_u_${ke}
uniform lowp float u_${ke}_t;
attribute ${fe} ${Ne} a_${ke};
varying ${fe} ${De} ${ke};
#else
uniform ${fe} ${De} u_${ke};
#endif
`:Ze==="vec4"?`
#ifndef HAS_UNIFORM_u_${ke}
    ${ke} = a_${ke};
#else
    ${fe} ${De} ${ke} = u_${ke};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ke}
    ${ke} = unpack_mix_${Ze}(a_${ke}, u_${ke}_t);
#else
    ${fe} ${De} ${ke} = u_${ke};
#endif
`:de==="define"?`
#ifndef HAS_UNIFORM_u_${ke}
uniform lowp float u_${ke}_t;
attribute ${fe} ${Ne} a_${ke};
#else
uniform ${fe} ${De} u_${ke};
#endif
`:Ze==="vec4"?`
#ifndef HAS_UNIFORM_u_${ke}
    ${fe} ${De} ${ke} = a_${ke};
#else
    ${fe} ${De} ${ke} = u_${ke};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ke}
    ${fe} ${De} ${ke} = unpack_mix_${Ze}(a_${ke}, u_${ke}_t);
#else
    ${fe} ${De} ${ke} = u_${ke};
#endif
`}),staticAttributes:b,usedDefines:F}}class On{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(l,u,b,I,F,se,de){this.context=l;let fe=this.boundPaintVertexBuffers.length!==I.length;for(let ke=0;!fe&&ke<I.length;ke++)this.boundPaintVertexBuffers[ke]!==I[ke]&&(fe=!0);let De=this.boundDynamicVertexBuffers.length!==de.length;for(let ke=0;!De&&ke<de.length;ke++)this.boundDynamicVertexBuffers[ke]!==de[ke]&&(De=!0);if(!l.extVertexArrayObject||!this.vao||this.boundProgram!==u||this.boundLayoutVertexBuffer!==b||fe||De||this.boundIndexBuffer!==F||this.boundVertexOffset!==se)this.freshBind(u,b,I,F,se,de);else{l.bindVertexArrayOES.set(this.vao);for(const ke of de)ke&&ke.bind();F&&F.dynamicDraw&&F.bind()}}freshBind(l,u,b,I,F,se){let de;const fe=l.numAttributes,De=this.context,ke=De.gl;if(De.extVertexArrayObject)this.vao&&this.destroy(),this.vao=De.extVertexArrayObject.createVertexArrayOES(),De.bindVertexArrayOES.set(this.vao),de=0,this.boundProgram=l,this.boundLayoutVertexBuffer=u,this.boundPaintVertexBuffers=b,this.boundIndexBuffer=I,this.boundVertexOffset=F,this.boundDynamicVertexBuffers=se;else{de=De.currentNumAttributes||0;for(let Ne=fe;Ne<de;Ne++)ke.disableVertexAttribArray(Ne)}u.enableAttributes(ke,l),u.bind(),u.setVertexAttribPointers(ke,l,F);for(const Ne of b)Ne.enableAttributes(ke,l),Ne.bind(),Ne.setVertexAttribPointers(ke,l,F);for(const Ne of se)Ne&&(Ne.enableAttributes(ke,l),Ne.bind(),Ne.setVertexAttribPointers(ke,l,F));I&&I.bind(),De.currentNumAttributes=fe}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function sn(y,l){const u=Math.pow(2,l.canonical.z),b=l.canonical.y;return[new n.MercatorCoordinate(0,b/u).toLngLat().lat,new n.MercatorCoordinate(0,(b+1)/u).toLngLat().lat]}function qs(y,l,u,b,I,F,se){const de=y.context,fe=de.gl,De=u.fbo;if(!De)return;y.prepareDrawTile();const ke=y.useProgram("hillshade");de.activeTexture.set(fe.TEXTURE0),fe.bindTexture(fe.TEXTURE_2D,De.colorAttachment.get());const Ne=((dt,et,nt,ft)=>{const ct=nt.paint.get("hillshade-shadow-color"),vt=nt.paint.get("hillshade-highlight-color"),At=nt.paint.get("hillshade-accent-color");let wt=nt.paint.get("hillshade-illumination-direction")*(Math.PI/180);nt.paint.get("hillshade-illumination-anchor")==="viewport"&&(wt-=dt.transform.angle);const zt=!dt.options.moving;return{u_matrix:ft||dt.transform.calculateProjMatrix(et.tileID.toUnwrapped(),zt),u_image:0,u_latrange:sn(0,et.tileID),u_light:[nt.paint.get("hillshade-exaggeration"),wt],u_shadow:ct,u_highlight:vt,u_accent:At}})(y,u,b,y.terrain?l.projMatrix:null);y.prepareDrawProgram(de,ke,l.toUnwrapped());const{tileBoundsBuffer:Ze,tileBoundsIndexBuffer:at,tileBoundsSegments:lt}=y.getTileBoundsBuffers(u);ke.draw(de,fe.TRIANGLES,I,F,se,n.CullFaceMode.disabled,Ne,b.id,Ze,at,lt)}function Ls(y,l,u){if(!l.needsDEMTextureUpload)return;const b=y.context,I=b.gl;b.pixelStoreUnpackPremultiplyAlpha.set(!1),l.demTexture=l.demTexture||y.getTileTexture(u.stride);const F=u.getPixels();l.demTexture?l.demTexture.update(F,{premultiply:!1}):l.demTexture=new n.Texture(b,F,I.RGBA,{premultiply:!1}),l.needsDEMTextureUpload=!1}function Jn(y,l,u,b,I,F){const se=y.context,de=se.gl;if(!l.dem)return;const fe=l.dem;if(se.activeTexture.set(de.TEXTURE1),Ls(y,l,fe),!l.demTexture)return;l.demTexture.bind(de.NEAREST,de.CLAMP_TO_EDGE);const De=fe.dim;se.activeTexture.set(de.TEXTURE0);let ke=l.fbo;if(!ke){const lt=new n.Texture(se,{width:De,height:De,data:null},de.RGBA);lt.bind(de.LINEAR,de.CLAMP_TO_EDGE),ke=l.fbo=se.createFramebuffer(De,De,!0),ke.colorAttachment.set(lt.texture)}se.bindFramebuffer.set(ke.framebuffer),se.viewport.set([0,0,De,De]);const{tileBoundsBuffer:Ne,tileBoundsIndexBuffer:Ze,tileBoundsSegments:at}=y.getMercatorTileBoundsBuffers();y.useProgram("hillshadePrepare").draw(se,de.TRIANGLES,b,I,F,n.CullFaceMode.disabled,((lt,dt)=>{const et=dt.stride,nt=n.create();return n.ortho(nt,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(nt,nt,[0,-n.EXTENT,0]),{u_matrix:nt,u_image:1,u_dimension:[et,et],u_zoom:lt.overscaledZ,u_unpack:dt.unpackVector}})(l.tileID,fe),u.id,Ne,Ze,at),l.needsHillshadePrepare=!1}const Qn=y=>({u_matrix:new n.UniformMatrix4f(y),u_image0:new n.Uniform1i(y),u_skirt_height:new n.Uniform1f(y)}),Ln=(y,l)=>({u_matrix:y,u_image0:0,u_skirt_height:l}),Lr=(y,l,u,b,I,F,se,de,fe,De,ke,Ne,Ze,at)=>({u_proj_matrix:Float32Array.from(y),u_globe_matrix:l,u_normalize_matrix:Float32Array.from(b),u_merc_matrix:u,u_zoom_transition:I,u_merc_center:F,u_image0:0,u_frustum_tl:se,u_frustum_tr:de,u_frustum_br:fe,u_frustum_bl:De,u_globe_pos:ke,u_globe_radius:Ne,u_viewport:Ze,u_grid_matrix:at?Float32Array.from(at):new Float32Array(9)});function ts(y,l){return y!=null&&l!=null&&!(!y.hasData()||!l.hasData())&&y.demTexture!=null&&l.demTexture!=null&&y.tileID.key!==l.tileID.key}const Os=new class{constructor(){this.operations={}}newMorphing(y,l,u,b,I){if(y in this.operations){const F=this.operations[y];F.to.tileID.key!==u.tileID.key&&(F.queued=u)}else this.operations[y]={startTime:b,phase:0,duration:I,from:l,to:u,queued:null}}getMorphValuesForProxy(y){if(!(y in this.operations))return null;const l=this.operations[y];return{from:l.from,to:l.to,phase:l.phase}}update(y){for(const l in this.operations){const u=this.operations[l];for(u.phase=(y-u.startTime)/u.duration;u.phase>=1||!this._validOp(u);)if(!this._nextOp(u,y)){delete this.operations[l];break}}}_nextOp(y,l){return!!y.queued&&(y.from=y.to,y.to=y.queued,y.queued=null,y.phase=0,y.startTime=l,!0)}_validOp(y){return y.from.hasData()&&y.to.hasData()}},ha={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function pl(y,l){const u=1<<y.z;return!l&&(y.x===0||y.x===u-1)||y.y===0||y.y===u-1}const Or=y=>({u_matrix:y});function wo(y,l,u,b,I){if(I>0){const F=n.exported.now(),se=(F-y.timeAdded)/I,de=l?(F-l.timeAdded)/I:-1,fe=u.getSource(),De=b.coveringZoomLevel({tileSize:fe.tileSize,roundZoom:fe.roundZoom}),ke=!l||Math.abs(l.tileID.overscaledZ-De)>Math.abs(y.tileID.overscaledZ-De),Ne=ke&&y.refreshedUponExpiration?1:n.clamp(ke?se:1-de,0,1);return y.refreshedUponExpiration&&se>=1&&(y.refreshedUponExpiration=!1),l?{opacity:1,mix:1-Ne}:{opacity:Ne,mix:0}}return{opacity:1,mix:0}}class Bn extends n.SourceCache{constructor(l){const u={type:"raster-dem",maxzoom:l.transform.maxZoom},b=new Ee(Ni(),null),I=Vt("mock-dem",u,b,l.style);super("mock-dem",I,!1),I.setEventedParent(this),this._sourceLoaded=!0}_loadTile(l,u){l.state="loaded",u(null)}}class $r extends n.SourceCache{constructor(l){const u=Vt("proxy",{type:"geojson",maxzoom:l.transform.maxZoom},new Ee(Ni(),null),l.style);super("proxy",u,!1),u.setEventedParent(this),this.map=this.getSource().map=l,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(l,u,b){if(l.freezeTileCoverage)return;this.transform=l;const I=l.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((F,se)=>{if(F[se.key]="",!this._tiles[se.key]){const de=new n.Tile(se,this._source.tileSize*se.overscaleFactor(),l.tileZoom);de.state="loaded",this._tiles[se.key]=de}return F},{});for(const F in this._tiles)F in I||(this.freeFBO(F),this._tiles[F].unloadVectorData(),delete this._tiles[F])}freeFBO(l){const u=this.proxyCachedFBO[l];if(u!==void 0){const b=Object.values(u);this.renderCachePool.push(...b),delete this.proxyCachedFBO[l]}}deallocRenderCache(){this.renderCache.forEach(l=>l.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class So extends n.OverscaledTileID{constructor(l,u,b){super(l.overscaledZ,l.wrap,l.canonical.z,l.canonical.x,l.canonical.y),this.proxyTileKey=u,this.projMatrix=b}}class lo extends n.Elevation{constructor(l,u){super(),this.painter=l,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[b,I,F]=function(fe){const De=new n.StructArrayLayout4i8,ke=new n.StructArrayLayout3ui6,Ne=131;De.reserve(17161),ke.reserve(33800);const Ze=n.EXTENT/128,at=n.EXTENT+Ze/2,lt=at+Ze;for(let et=-Ze;et<lt;et+=Ze)for(let nt=-Ze;nt<lt;nt+=Ze){const ft=nt<0||nt>at||et<0||et>at?24575:0,ct=n.clamp(Math.round(nt),0,n.EXTENT),vt=n.clamp(Math.round(et),0,n.EXTENT);De.emplaceBack(ct+ft,vt,ct,vt)}const dt=(et,nt)=>{const ft=nt*Ne+et;ke.emplaceBack(ft+1,ft,ft+Ne),ke.emplaceBack(ft+Ne,ft+Ne+1,ft+1)};for(let et=1;et<129;et++)for(let nt=1;nt<129;nt++)dt(nt,et);return[0,129].forEach(et=>{for(let nt=0;nt<130;nt++)dt(nt,et),dt(et,nt)}),[De,ke,32768]}(),se=l.context;this.gridBuffer=se.createVertexBuffer(b,n.boundsAttributes.members),this.gridIndexBuffer=se.createIndexBuffer(I),this.gridSegments=n.SegmentVector.simpleSegment(0,0,b.length,I.length),this.gridNoSkirtSegments=n.SegmentVector.simpleSegment(0,0,b.length,F),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new $r(u.map),this.orthoMatrix=n.create(),n.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,n.EXTENT,0,n.EXTENT,0,1);const de=se.gl;this._overlapStencilMode=new n.StencilMode({func:de.GEQUAL,mask:255},0,255,de.KEEP,de.KEEP,de.REPLACE),this._previousZoom=l.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=u,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Bn(u.map)}set style(l){l.on("data",this._onStyleDataEvent.bind(this)),l.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=l,this._checkRenderCacheEfficiency()}update(l,u,b){if(l&&l.terrain){this._style!==l&&(this.style=l),this.enabled=!0;const I=l.terrain.properties;this.sourceCache=l.terrain.drapeRenderMode===0?this._mockSourceCache:l._getSourceCache(I.get("source")),this._exaggeration=I.get("exaggeration");const F=()=>{this.sourceCache.used&&n.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const se=this.getScaledDemTileSize();this.sourceCache.update(u,se,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,F(),this._initializing=!0),F(),u.updateElevation(!0,b),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(u),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(l){this._findCoveringTileCache[l]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const l=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||l.efficiency!==100&&n.warnOnce(`Terrain render cache efficiency is not optimal (${l.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${l.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(l){l.coord&&l.dataType==="source"?this._clearRenderCacheForTile(l.sourceCacheId,l.coord):l.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const l in this._style._sourceCaches)this._style._sourceCaches[l].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(l=>l.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const l=2*this.proxySourceCache.getSource().tileSize;return[l,l]}set useVertexMorphing(l){this._useVertexMorphing=l}updateTileBinding(l){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const u=this.proxySourceCache,b=this.painter.transform;this._initializing&&(this._initializing=b._centerAltitude===0&&this.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(b.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const I=this.proxyCoords=u.getIds().map(fe=>{const De=u.getTileByID(fe).tileID;return De.projMatrix=b.calculateProjMatrix(De.toUnwrapped()),De});(function(fe,De){const ke=De.transform.pointCoordinate(De.transform.getCameraPoint()),Ne=new n.pointGeometry(ke.x,ke.y);fe.sort((Ze,at)=>{if(at.overscaledZ-Ze.overscaledZ)return at.overscaledZ-Ze.overscaledZ;const lt=new n.pointGeometry(Ze.canonical.x+(1<<Ze.canonical.z)*Ze.wrap,Ze.canonical.y),dt=new n.pointGeometry(at.canonical.x+(1<<at.canonical.z)*at.wrap,at.canonical.y),et=Ne.mult(1<<Ze.canonical.z);return et.x-=.5,et.y-=.5,et.distSqr(lt)-et.distSqr(dt)})})(I,this.painter),this._previousZoom=b.zoom;const F=this.proxyToSource||{};this.proxyToSource={},I.forEach(fe=>{this.proxyToSource[fe.key]={}}),this.terrainTileForTile={};const se=this._style._sourceCaches;for(const fe in se){const De=se[fe];if(!De.used||(De!==this.sourceCache&&this.resetTileLookupCache(De.id),this._setupProxiedCoordsForOrtho(De,l[fe],F),De.usedForTerrain))continue;const ke=l[fe];De.getSource().reparseOverscaled&&this._assignTerrainTiles(ke)}this.proxiedCoords[u.id]=I.map(fe=>new So(fe,fe.key,this.orthoMatrix)),this._assignTerrainTiles(I),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(F),this.renderingToTexture=!1,this._updateTimestamp=n.exported.now();const de={};this._visibleDemTiles=[];for(const fe of this.proxyCoords){const De=this.terrainTileForTile[fe.key];if(!De)continue;const ke=De.tileID.key;ke in de||(this._visibleDemTiles.push(De),de[ke]=ke)}}_assignTerrainTiles(l){this._initializing||l.forEach(u=>{if(this.terrainTileForTile[u.key])return;const b=this._findTileCoveringTileID(u,this.sourceCache);b&&(this.terrainTileForTile[u.key]=b)})}_prepareDEMTextures(){const l=this.painter.context,u=l.gl;for(const b in this.terrainTileForTile){const I=this.terrainTileForTile[b],F=I.dem;!F||I.demTexture&&!I.needsDEMTextureUpload||(l.activeTexture.set(u.TEXTURE1),Ls(this.painter,I,F))}}_prepareDemTileUniforms(l,u,b,I){if(!u||u.demTexture==null)return!1;const F=l.tileID.canonical,se=Math.pow(2,u.tileID.canonical.z-F.z),de=I||"";return b[`u_dem_tl${de}`]=[F.x*se%1,F.y*se%1],b[`u_dem_scale${de}`]=se,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const l=this.painter.context,u=l.gl;if(!this._emptyDepthBufferTexture){const b=new n.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new n.Texture(l,b,u.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let l=0;const u=this._visibleDemTiles.reduce((b,I)=>{if(!I.dem)return b;const F=I.dem.tree.minimums[0];return F>0&&l++,b+F},0);return l?u/l:0}_updateEmptyDEMTexture(){const l=this.painter.context,u=l.gl;l.activeTexture.set(u.TEXTURE2);const b=this._getLoadedAreaMinimum(),I=new n.RGBAImage({width:1,height:1},new Uint8Array(n.DEMData.pack(b,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let F=this._emptyDEMTexture;return F?F.update(I,{premultiply:!1}):F=this._emptyDEMTexture=new n.Texture(l,I,u.RGBA,{premultiply:!1}),F}setupElevationDraw(l,u,b){const I=this.painter.context,F=I.gl,se=(de=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:n.DEMData.getUnpackVector(de),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var de;se.u_dem_size=this.sourceCache.getSource().tileSize,se.u_exaggeration=this.exaggeration();let fe=null,De=null,ke=1;if(b&&b.morphing&&this._useVertexMorphing){const Ne=b.morphing.srcDemTile,Ze=b.morphing.dstDemTile;ke=b.morphing.phase,Ne&&Ze&&(this._prepareDemTileUniforms(l,Ne,se,"_prev")&&(De=Ne),this._prepareDemTileUniforms(l,Ze,se)&&(fe=Ze))}if(De&&fe?(I.activeTexture.set(F.TEXTURE2),fe.demTexture.bind(F.NEAREST,F.CLAMP_TO_EDGE,F.NEAREST),I.activeTexture.set(F.TEXTURE4),De.demTexture.bind(F.NEAREST,F.CLAMP_TO_EDGE,F.NEAREST),se.u_dem_lerp=ke):(fe=this.terrainTileForTile[l.tileID.key],I.activeTexture.set(F.TEXTURE2),(this._prepareDemTileUniforms(l,fe,se)?fe.demTexture:this.emptyDEMTexture).bind(F.NEAREST,F.CLAMP_TO_EDGE)),I.activeTexture.set(F.TEXTURE3),b&&b.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(F.NEAREST,F.CLAMP_TO_EDGE),this._depthFBO&&(se.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(F.NEAREST,F.CLAMP_TO_EDGE),se.u_depth_size_inv=[1,1]),b&&b.useMeterToDem&&fe){const Ne=(1<<fe.tileID.canonical.z)*n.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;se.u_meter_to_dem=Ne}if(b&&b.labelPlaneMatrixInv&&(se.u_label_plane_matrix_inv=b.labelPlaneMatrixInv),u.setTerrainUniformValues(I,se),this.painter.transform.projection.name==="globe"){const Ne=this.globeUniformValues(this.painter.transform,l.tileID.canonical,b&&b.useDenormalizedUpVectorScale);u.setGlobeUniformValues(I,Ne)}}globeUniformValues(l,u,b){const I=l.projection;return{u_tile_tl_up:I.upVector(u,0,0),u_tile_tr_up:I.upVector(u,n.EXTENT,0),u_tile_br_up:I.upVector(u,n.EXTENT,n.EXTENT),u_tile_bl_up:I.upVector(u,0,n.EXTENT),u_tile_up_scale:b?n.GLOBE_METERS_TO_ECEF:I.upVectorScale(u,l.center.lat,l.worldSize).metersToTile}}renderToBackBuffer(l){const u=this.painter,b=this.painter.context;l.length!==0&&(b.bindFramebuffer.set(null),b.viewport.set([0,0,u.width,u.height]),u.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(I,F,se,de,fe){if(I.transform.projection.name==="globe")(function(De,ke,Ne,Ze,at){const lt=De.context,dt=lt.gl;let et,nt;const ft=De.options.showTerrainWireframe?2:0,ct=De.transform,vt=n.globeUseCustomAntiAliasing(De,lt,ct),At=(ki,ii)=>{if(nt===ki)return;const vi=[ha[ki],"PROJECTION_GLOBE_VIEW"];vt&&vi.push("CUSTOM_ANTIALIASING"),ii&&vi.push(ha[ft]),et=De.useProgram("globeRaster",null,vi),nt=ki},wt=De.colorModeForRenderPass(),zt=new n.DepthMode(dt.LEQUAL,n.DepthMode.ReadWrite,De.depthRangeFor3D);Os.update(at);const Qt=n.calculateGlobeMercatorMatrix(ct),Zt=[n.mercatorXfromLng(ct.center.lng),n.mercatorYfromLat(ct.center.lat)],Gt=ft?[!1,!0]:[!1],wi=De.globeSharedBuffers,Yt=[ct.width*n.exported.devicePixelRatio,ct.height*n.exported.devicePixelRatio],pi=Float32Array.from(ct.globeMatrix),ti={useDenormalizedUpVectorScale:!0};if(Gt.forEach(ki=>{nt=-1;const ii=ki?dt.LINES:dt.TRIANGLES;for(const vi of Ze){const Li=Ne.getTile(vi),$t=n.StencilMode.disabled,ei=ke.prevTerrainTileForTile[vi.key],on=ke.terrainTileForTile[vi.key];ts(ei,on)&&Os.newMorphing(vi.key,ei,on,at,250),lt.activeTexture.set(dt.TEXTURE0),Li.texture.bind(dt.LINEAR,dt.CLAMP_TO_EDGE);const pn=Os.getMorphValuesForProxy(vi.key),an=pn?1:0;pn&&n.extend$1(ti,{morphing:{srcDemTile:pn.from,dstDemTile:pn.to,phase:n.easeCubicInOut(pn.phase)}});const kn=n.tileCornersToBounds(vi.canonical),Wn=n.getLatitudinalLod(kn.getCenter().lat),_n=n.getGridMatrix(vi.canonical,kn,Wn,ct.worldSize/ct._pixelsPerMercatorPixel),Ji=n.globeNormalizeECEF(n.globeTileBounds(vi.canonical)),Fs=Lr(ct.projMatrix,pi,Qt,Ji,n.globeToMercatorTransition(ct.zoom),Zt,ct.frustumCorners.TL,ct.frustumCorners.TR,ct.frustumCorners.BR,ct.frustumCorners.BL,ct.globeCenterInViewSpace,ct.globeRadius,Yt,_n);if(At(an,ki),ke.setupElevationDraw(Li,et,ti),De.prepareDrawProgram(lt,et,vi.toUnwrapped()),wi){const[Ms,js,Rs]=ki?wi.getWirefameBuffers(De.context,Wn):wi.getGridBuffers(Wn);et.draw(lt,ii,zt,$t,wt,n.CullFaceMode.backCCW,Fs,"globe_raster",Ms,js,Rs)}}}),wi){const ki=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];vt&&ki.push("CUSTOM_ANTIALIASING"),et=De.useProgram("globeRaster",null,ki);for(const ii of Ze){const{x:vi,y:Li,z:$t}=ii.canonical,ei=Li===0,on=Li===(1<<$t)-1,[pn,an,kn,Wn]=wi.getPoleBuffers($t);if(Wn&&(ei||on)){const _n=Ne.getTile(ii);lt.activeTexture.set(dt.TEXTURE0),_n.texture.bind(dt.LINEAR,dt.CLAMP_TO_EDGE);let Ji=n.globePoleMatrixForTile($t,vi,ct);const Fs=n.globeNormalizeECEF(n.globeTileBounds(ii.canonical)),Ms=(js,Rs)=>js.draw(lt,dt.TRIANGLES,zt,n.StencilMode.disabled,wt,n.CullFaceMode.disabled,Lr(ct.projMatrix,Ji,Ji,Fs,0,Zt,ct.frustumCorners.TL,ct.frustumCorners.TR,ct.frustumCorners.BR,ct.frustumCorners.BL,ct.globeCenterInViewSpace,ct.globeRadius,Yt),"globe_pole_raster",Rs,kn,Wn);ke.setupElevationDraw(_n,et,ti),De.prepareDrawProgram(lt,et,ii.toUnwrapped()),ei&&Ms(et,pn),on&&(Ji=n.scale(n.create(),Ji,[1,-1,1]),Ms(et,an))}}}})(I,F,se,de,fe);else{const De=I.context,ke=De.gl;let Ne,Ze;const at=I.options.showTerrainWireframe?2:0,lt=(ct,vt)=>{if(Ze===ct)return;const At=[ha[ct]];vt&&At.push(ha[at]),Ne=I.useProgram("terrainRaster",null,At),Ze=ct},dt=I.colorModeForRenderPass(),et=new n.DepthMode(ke.LEQUAL,n.DepthMode.ReadWrite,I.depthRangeFor3D);Os.update(fe);const nt=I.transform,ft=6*Math.pow(1.5,22-nt.zoom)*F.exaggeration();(at?[!1,!0]:[!1]).forEach(ct=>{Ze=-1;const vt=ct?ke.LINES:ke.TRIANGLES,[At,wt]=ct?F.getWirefameBuffer():[F.gridIndexBuffer,F.gridSegments];for(const zt of de){const Qt=se.getTile(zt),Zt=n.StencilMode.disabled,Gt=F.prevTerrainTileForTile[zt.key],wi=F.terrainTileForTile[zt.key];ts(Gt,wi)&&Os.newMorphing(zt.key,Gt,wi,fe,250),De.activeTexture.set(ke.TEXTURE0),Qt.texture.bind(ke.LINEAR,ke.CLAMP_TO_EDGE,ke.LINEAR_MIPMAP_NEAREST);const Yt=Os.getMorphValuesForProxy(zt.key),pi=Yt?1:0;let ti;Yt&&(ti={morphing:{srcDemTile:Yt.from,dstDemTile:Yt.to,phase:n.easeCubicInOut(Yt.phase)}});const ki=Ln(zt.projMatrix,pl(zt.canonical,nt.renderWorldCopies)?ft/10:ft);lt(pi,ct),F.setupElevationDraw(Qt,Ne,ti),I.prepareDrawProgram(De,Ne,zt.toUnwrapped()),Ne.draw(De,vt,et,Zt,dt,n.CullFaceMode.backCCW,ki,"terrain_raster",F.gridBuffer,At,wt)}})}}(u,this,this.proxySourceCache,l,this._updateTimestamp),this.renderingToTexture=!0,u.gpuTimingDeferredRenderEnd(),l.splice(0,l.length))}renderBatch(l){if(this._drapedRenderBatches.length===0)return l+1;this.renderingToTexture=!0;const u=this.painter,b=this.painter.context,I=this.proxySourceCache,F=this.proxiedCoords[I.id],se=this._drapedRenderBatches.shift(),de=[],fe=u.style.order;let De=0;for(const ke of F){const Ne=I.getTileByID(ke.proxyTileKey),Ze=I.proxyCachedFBO[ke.key]?I.proxyCachedFBO[ke.key][l]:void 0,at=Ze!==void 0?I.renderCache[Ze]:this.pool[De++],lt=Ze!==void 0;if(Ne.texture=at.tex,lt&&!at.dirty){de.push(Ne.tileID);continue}let dt;b.bindFramebuffer.set(at.fb.framebuffer),this.renderedToTile=!1,at.dirty&&(b.clear({color:n.Color.transparent,stencil:0}),at.dirty=!1);for(let et=se.start;et<=se.end;++et){const nt=u.style._layers[fe[et]];if(nt.isHidden(u.transform.zoom))continue;const ft=u.style._getLayerSourceCache(nt),ct=ft?this.proxyToSource[ke.key][ft.id]:[ke];if(!ct)continue;const vt=ct;b.viewport.set([0,0,at.fb.width,at.fb.height]),dt!==(ft?ft.id:null)&&(this._setupStencil(at,ct,nt,ft),dt=ft?ft.id:null),u.renderLayer(u,ft,nt,vt)}this.renderedToTile?(at.dirty=!0,de.push(Ne.tileID)):lt||--De,De===5&&(De=0,this.renderToBackBuffer(de))}return this.renderToBackBuffer(de),this.renderingToTexture=!1,b.bindFramebuffer.set(null),b.viewport.set([0,0,u.width,u.height]),se.end+1}postRender(){}renderCacheEfficiency(l){const u=l.order.length;if(u===0)return{efficiency:100};let b,I=0,F=0,se=!1;for(let de=0;de<u;++de){const fe=l._layers[l.order[de]];this._style.isLayerDraped(fe)?(se&&++I,++F):se||(se=!0,b=fe.id)}return F===0?{efficiency:100}:{efficiency:100*(1-I/F),firstUndrapedLayer:b}}getMinElevationBelowMSL(){let l=0;return this._visibleDemTiles.filter(u=>u.dem).forEach(u=>{l=Math.min(l,u.dem.tree.minimums[0])}),l===0?l:(l-30)*this._exaggeration}raycast(l,u,b){if(!this._visibleDemTiles)return null;const I=this._visibleDemTiles.filter(F=>F.dem).map(F=>{const se=F.tileID,de=1<<se.overscaledZ,{x:fe,y:De}=se.canonical,ke=fe/de,Ne=(fe+1)/de,Ze=De/de,at=(De+1)/de;return{minx:ke,miny:Ze,maxx:Ne,maxy:at,t:F.dem.tree.raycastRoot(ke,Ze,Ne,at,l,u,b),tile:F}});I.sort((F,se)=>(F.t!==null?F.t:Number.MAX_VALUE)-(se.t!==null?se.t:Number.MAX_VALUE));for(const F of I){if(F.t==null)return null;const se=F.tile.dem.tree.raycast(F.minx,F.miny,F.maxx,F.maxy,l,u,b);if(se!=null)return se}return null}_createFBO(){const l=this.painter.context,u=l.gl,b=this.drapeBufferSize;l.activeTexture.set(u.TEXTURE0);const I=new n.Texture(l,{width:b[0],height:b[1],data:null},u.RGBA);I.bind(u.LINEAR,u.CLAMP_TO_EDGE);const F=l.createFramebuffer(b[0],b[1],!1);return F.colorAttachment.set(I.texture),F.depthAttachment=new lc(l,F.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=l.createRenderbuffer(l.gl.DEPTH_STENCIL,b[0],b[1]),this._stencilRef=0,F.depthAttachment.set(this._sharedDepthStencil),l.clear({stencil:0})):F.depthAttachment.set(this._sharedDepthStencil),l.extTextureFilterAnisotropic&&!l.extTextureFilterAnisotropicForceOff&&u.texParameterf(u.TEXTURE_2D,l.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,l.extTextureFilterAnisotropicMax),{fb:F,tex:I,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const l in this._style._sourceCaches)if(this._style._sourceCaches[l].hasTransition())return!0;return this._style.order.some(l=>{const u=this._style._layers[l],b=u.isHidden(this.painter.transform.zoom);return u.type!=="custom"&&!b&&u.hasTransition()})}_clearRasterFadeFromRenderCache(){let l=!1;for(const u in this._style._sourceCaches)if(this._style._sourceCaches[u]._source instanceof We){l=!0;break}if(l)for(let u=0;u<this._style.order.length;++u){const b=this._style._layers[this._style.order[u]],I=b.isHidden(this.painter.transform.zoom),F=this._style._getLayerSourceCache(b);if(b.type!=="raster"||I||!F)continue;const se=b.paint.get("raster-fade-duration");for(const de of this.proxyCoords){const fe=this.proxyToSource[de.key][F.id];if(fe)for(const De of fe){const ke=wo(F.getTile(De),F.findLoadedParent(De,0),F,this.painter.transform,se);(ke.opacity!==1||ke.mix!==0)&&this._clearRenderCacheForTile(F.id,De)}}}}_setupDrapedRenderBatches(){const l=this._style.order,u=l.length;if(u===0)return;const b=[];let I,F=0,se=this._style._layers[l[F]];for(;!this._style.isLayerDraped(se)&&se.isHidden(this.painter.transform.zoom)&&++F<u;)se=this._style._layers[l[F]];for(;F<u;++F){const de=this._style._layers[l[F]];de.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(de)?I===void 0&&(I=F):I!==void 0&&(b.push({start:I,end:F-1}),I=void 0))}I!==void 0&&b.push({start:I,end:F-1}),this._drapedRenderBatches=b}_setupRenderCache(l){const u=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,u.renderCache.length>u.renderCachePool.length){const se=Object.values(u.proxyCachedFBO);u.proxyCachedFBO={};for(let de=0;de<se.length;++de){const fe=Object.values(se[de]);u.renderCachePool.push(...fe)}}return}this._clearRasterFadeFromRenderCache();const b=this.proxyCoords,I=this._tilesDirty;for(let se=b.length-1;se>=0;se--){const de=b[se];if(u.getTileByID(de.key),u.proxyCachedFBO[de.key]!==void 0){const fe=l[de.key],De=this.proxyToSource[de.key];let ke=0;for(const Ne in De){const Ze=De[Ne],at=fe[Ne];if(!at||at.length!==Ze.length||Ze.some((lt,dt)=>lt!==at[dt]||I[Ne]&&I[Ne].hasOwnProperty(lt.key))){ke=-1;break}++ke}for(const Ne in u.proxyCachedFBO[de.key])u.renderCache[u.proxyCachedFBO[de.key][Ne]].dirty=ke<0||ke!==Object.values(fe).length}}const F=[...this._drapedRenderBatches];F.sort((se,de)=>de.end-de.start-(se.end-se.start));for(const se of F)for(const de of b){if(u.proxyCachedFBO[de.key])continue;let fe=u.renderCachePool.pop();fe===void 0&&u.renderCache.length<50&&(fe=u.renderCache.length,u.renderCache.push(this._createFBO())),fe!==void 0&&(u.proxyCachedFBO[de.key]={},u.proxyCachedFBO[de.key][se.start]=fe,u.renderCache[fe].dirty=!0)}this._tilesDirty={}}_setupStencil(l,u,b,I){if(!I||!this._sourceTilesOverlap[I.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const F=this.painter.context,se=F.gl;if(u.length<=1)return void(this._overlapStencilType=!1);let de;if(b.isTileClipped())de=u.length,this._overlapStencilMode.test={func:se.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(u[0].overscaledZ>u[u.length-1].overscaledZ))return void(this._overlapStencilType=!1);de=1,this._overlapStencilMode.test={func:se.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+de>255&&(F.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=de,this._overlapStencilMode.ref=this._stencilRef,b.isTileClipped()&&this._renderTileClippingMasks(u,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(l){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[l.key]),this._overlapStencilMode):n.StencilMode.disabled}_renderTileClippingMasks(l,u){const b=this.painter,I=this.painter.context,F=I.gl;b._tileClippingMaskIDs={},I.setColorMode(n.ColorMode.disabled),I.setDepthMode(n.DepthMode.disabled);const se=b.useProgram("clippingMask");for(const de of l){const fe=b._tileClippingMaskIDs[de.key]=--u;se.draw(I,F.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:F.ALWAYS,mask:0},fe,255,F.KEEP,F.KEEP,F.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,Or(de.projMatrix),"$clipping",b.tileExtentBuffer,b.quadTriangleIndexBuffer,b.tileExtentSegments)}}pointCoordinate(l){const u=this.painter.transform;if(l.x<0||l.x>u.width||l.y<0||l.y>u.height)return null;const b=[l.x,l.y,1,1];n.transformMat4$1(b,b,u.pixelMatrixInverse),n.scale$1(b,b,1/b[3]),b[0]/=u.worldSize,b[1]/=u.worldSize;const I=u._camera.position,F=n.mercatorZfromAltitude(1,u.center.lat),se=[I[0],I[1],I[2]/F,0],de=n.subtract([],b.slice(0,3),se);n.normalize(de,de);const fe=this.raycast(se,de,this._exaggeration);return fe!==null&&fe?(n.scaleAndAdd(se,se,de,fe),se[3]=se[2],se[2]*=F,se):null}drawDepth(){const l=this.painter,u=l.context,b=this.proxySourceCache,I=Math.ceil(l.width),F=Math.ceil(l.height);if(!this._depthFBO||this._depthFBO.width===I&&this._depthFBO.height===F||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const se=u.gl,de=u.createFramebuffer(I,F,!0);u.activeTexture.set(se.TEXTURE0);const fe=new n.Texture(u,{width:I,height:F,data:null},se.RGBA);fe.bind(se.NEAREST,se.CLAMP_TO_EDGE),de.colorAttachment.set(fe.texture);const De=u.createRenderbuffer(u.gl.DEPTH_COMPONENT16,I,F);de.depthAttachment.set(De),this._depthFBO=de,this._depthTexture=fe}u.bindFramebuffer.set(this._depthFBO.framebuffer),u.viewport.set([0,0,I,F]),function(se,de,fe,De){if(se.transform.projection.name==="globe")return;const ke=se.context,Ne=ke.gl;ke.clear({depth:1});const Ze=se.useProgram("terrainDepth"),at=new n.DepthMode(Ne.LESS,n.DepthMode.ReadWrite,se.depthRangeFor3D);for(const lt of De){const dt=fe.getTile(lt),et=Ln(lt.projMatrix,0);de.setupElevationDraw(dt,Ze),Ze.draw(ke,Ne.TRIANGLES,at,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.backCCW,et,"terrain_depth",de.gridBuffer,de.gridIndexBuffer,de.gridNoSkirtSegments)}}(l,this,b,this.proxyCoords)}_setupProxiedCoordsForOrtho(l,u,b){if(l.getSource()instanceof Pt)return this._setupProxiedCoordsForImageSource(l,u,b);this._findCoveringTileCache[l.id]=this._findCoveringTileCache[l.id]||{};const I=this.proxiedCoords[l.id]=[],F=this.proxyCoords;for(let de=0;de<F.length;de++){const fe=F[de],De=this._findTileCoveringTileID(fe,l);if(De){const ke=this._createProxiedId(fe,De,b[fe.key]&&b[fe.key][l.id]);I.push(ke),this.proxyToSource[fe.key][l.id]=[ke]}}let se=!1;for(let de=0;de<u.length;de++){const fe=l.getTile(u[de]);if(!fe||!fe.hasData())continue;const De=this._findTileCoveringTileID(fe.tileID,this.proxySourceCache);if(De&&De.tileID.canonical.z!==fe.tileID.canonical.z){const ke=this.proxyToSource[De.tileID.key][l.id],Ne=this._createProxiedId(De.tileID,fe,b[De.tileID.key]&&b[De.tileID.key][l.id]);ke?ke.splice(ke.length-1,0,Ne):this.proxyToSource[De.tileID.key][l.id]=[Ne],I.push(Ne),se=!0}}this._sourceTilesOverlap[l.id]=se}_setupProxiedCoordsForImageSource(l,u,b){if(!l.getSource().loaded())return;const I=this.proxiedCoords[l.id]=[],F=this.proxyCoords,se=l.getSource(),de=new n.pointGeometry(se.tileID.x,se.tileID.y)._div(1<<se.tileID.z),fe=se.coordinates.map(n.MercatorCoordinate.fromLngLat).reduce((ke,Ne)=>(ke.min.x=Math.min(ke.min.x,Ne.x-de.x),ke.min.y=Math.min(ke.min.y,Ne.y-de.y),ke.max.x=Math.max(ke.max.x,Ne.x-de.x),ke.max.y=Math.max(ke.max.y,Ne.y-de.y),ke),{min:new n.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new n.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),De=(ke,Ne)=>{const Ze=ke.wrap+ke.canonical.x/(1<<ke.canonical.z),at=ke.canonical.y/(1<<ke.canonical.z),lt=n.EXTENT/(1<<ke.canonical.z),dt=Ne.wrap+Ne.canonical.x/(1<<Ne.canonical.z),et=Ne.canonical.y/(1<<Ne.canonical.z);return Ze+lt<dt+fe.min.x||Ze>dt+fe.max.x||at+lt<et+fe.min.y||at>et+fe.max.y};for(let ke=0;ke<F.length;ke++){const Ne=F[ke];for(let Ze=0;Ze<u.length;Ze++){const at=l.getTile(u[Ze]);if(!at||!at.hasData()||De(Ne,at.tileID))continue;const lt=this._createProxiedId(Ne,at,b[Ne.key]&&b[Ne.key][l.id]),dt=this.proxyToSource[Ne.key][l.id];dt?dt.push(lt):this.proxyToSource[Ne.key][l.id]=[lt],I.push(lt)}}}_createProxiedId(l,u,b){let I=this.orthoMatrix;if(b){const F=b.find(se=>se.key===u.tileID.key);if(F)return F}if(u.tileID.key!==l.key){const F=l.canonical.z-u.tileID.canonical.z;let se,de,fe;I=n.create();const De=u.tileID.wrap-l.wrap<<l.overscaledZ;F>0?(se=n.EXTENT>>F,de=se*((u.tileID.canonical.x<<F)-l.canonical.x+De),fe=se*((u.tileID.canonical.y<<F)-l.canonical.y)):(se=n.EXTENT<<-F,de=n.EXTENT*(u.tileID.canonical.x-(l.canonical.x+De<<-F)),fe=n.EXTENT*(u.tileID.canonical.y-(l.canonical.y<<-F))),n.ortho(I,0,se,0,se,0,1),n.translate(I,I,[de,fe,0])}return new So(u.tileID,l.key,I)}_findTileCoveringTileID(l,u){let b=u.getTile(l);if(b&&b.hasData())return b;const I=this._findCoveringTileCache[u.id],F=I[l.key];if(b=F?u.getTileByID(F):null,b&&b.hasData()||F===null)return b;let se=b?b.tileID:l,de=se.overscaledZ;const fe=u.getSource().minzoom,De=[];if(!F){const Ne=u.getSource().maxzoom;if(l.canonical.z>=Ne){const Ze=l.canonical.z-Ne;u.getSource().reparseOverscaled?(de=Math.max(l.canonical.z+2,u.transform.tileZoom),se=new n.OverscaledTileID(de,l.wrap,Ne,l.canonical.x>>Ze,l.canonical.y>>Ze)):Ze!==0&&(de=Ne,se=new n.OverscaledTileID(de,l.wrap,Ne,l.canonical.x>>Ze,l.canonical.y>>Ze))}se.key!==l.key&&(De.push(se.key),b=u.getTile(se))}const ke=Ne=>{De.forEach(Ze=>{I[Ze]=Ne}),De.length=0};for(de-=1;de>=fe&&(!b||!b.hasData());de--){b&&ke(b.tileID.key);const Ne=se.calculateScaledKey(de);if(b=u.getTileByID(Ne),b&&b.hasData())break;const Ze=I[Ne];if(Ze===null)break;Ze===void 0?De.push(Ne):b=u.getTileByID(Ze)}return ke(b?b.tileID.key:null),b&&b.hasData()?b:null}findDEMTileFor(l){return this.enabled?this._findTileCoveringTileID(l,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(l,u){let b=this._tilesDirty[l];b||(b=this._tilesDirty[l]={}),b[u.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const l=function(u){let b=0;const I=new n.StructArrayLayout2ui4,F=131;for(let se=1;se<129;se++){for(let de=1;de<129;de++)b=se*F+de,I.emplaceBack(b,b+1),I.emplaceBack(b,b+F),I.emplaceBack(b+1,b+F),se===128&&I.emplaceBack(b+F,b+F+1);I.emplaceBack(b+1,b+1+F)}return I}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(l),this.wireframeSegments=n.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,l.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Ro{static cacheKey(l,u,b,I){let F=`${u}${I?I.cacheKey:""}`;for(const se of b)l.usedDefines.includes(se)&&(F+=`/${se}`);return F}constructor(l,u,b,I,F,se){const de=l.gl;this.program=de.createProgram();const fe=function(et){const nt=[];for(let ft=0;ft<et.length;ft++){if(et[ft]===null)continue;const ct=et[ft].split(" ");nt.push(ct.pop())}return nt}(b.staticAttributes),De=I?I.getBinderAttributes():[],ke=fe.concat(De);let Ne=I?I.defines():[];Ne=Ne.concat(se.map(et=>`#define ${et}`));const Ze=Ne.concat(l.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(Si):Si,Si,hi,Xt.fragmentSource,Dt.fragmentSource,b.fragmentSource).join(`
`),at=Ne.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,hi,Xt.vertexSource,Dt.vertexSource,Ke.vertexSource,b.vertexSource).join(`
`),lt=de.createShader(de.FRAGMENT_SHADER);if(de.isContextLost())return void(this.failedToCreate=!0);de.shaderSource(lt,Ze),de.compileShader(lt),de.attachShader(this.program,lt);const dt=de.createShader(de.VERTEX_SHADER);if(de.isContextLost())this.failedToCreate=!0;else{de.shaderSource(dt,at),de.compileShader(dt),de.attachShader(this.program,dt),this.attributes={},this.numAttributes=ke.length;for(let et=0;et<this.numAttributes;et++)ke[et]&&(de.bindAttribLocation(this.program,et,ke[et]),this.attributes[ke[et]]=et);de.linkProgram(this.program),de.deleteShader(dt),de.deleteShader(lt),this.fixedUniforms=F(l),this.binderUniforms=I?I.getUniforms(l):[],se.includes("TERRAIN")&&(this.terrainUniforms=(et=>({u_dem:new n.Uniform1i(et),u_dem_prev:new n.Uniform1i(et),u_dem_unpack:new n.Uniform4f(et),u_dem_tl:new n.Uniform2f(et),u_dem_scale:new n.Uniform1f(et),u_dem_tl_prev:new n.Uniform2f(et),u_dem_scale_prev:new n.Uniform1f(et),u_dem_size:new n.Uniform1f(et),u_dem_lerp:new n.Uniform1f(et),u_exaggeration:new n.Uniform1f(et),u_depth:new n.Uniform1i(et),u_depth_size_inv:new n.Uniform2f(et),u_meter_to_dem:new n.Uniform1f(et),u_label_plane_matrix_inv:new n.UniformMatrix4f(et)}))(l)),se.includes("GLOBE")&&(this.globeUniforms=(et=>({u_tile_tl_up:new n.Uniform3f(et),u_tile_tr_up:new n.Uniform3f(et),u_tile_br_up:new n.Uniform3f(et),u_tile_bl_up:new n.Uniform3f(et),u_tile_up_scale:new n.Uniform1f(et)}))(l)),se.includes("FOG")&&(this.fogUniforms=(et=>({u_fog_matrix:new n.UniformMatrix4f(et),u_fog_range:new n.Uniform2f(et),u_fog_color:new n.Uniform4f(et),u_fog_horizon_blend:new n.Uniform1f(et),u_fog_temporal_offset:new n.Uniform1f(et),u_frustum_tl:new n.Uniform3f(et),u_frustum_tr:new n.Uniform3f(et),u_frustum_br:new n.Uniform3f(et),u_frustum_bl:new n.Uniform3f(et),u_globe_pos:new n.Uniform3f(et),u_globe_radius:new n.Uniform1f(et),u_globe_transition:new n.Uniform1f(et),u_is_globe:new n.Uniform1i(et),u_viewport:new n.Uniform2f(et)}))(l))}}setTerrainUniformValues(l,u){if(!this.terrainUniforms)return;const b=this.terrainUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const I in u)b[I]&&b[I].set(this.program,I,u[I])}}setGlobeUniformValues(l,u){if(!this.globeUniforms)return;const b=this.globeUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const I in u)b[I]&&b[I].set(this.program,I,u[I])}}setFogUniformValues(l,u){if(!this.fogUniforms)return;const b=this.fogUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const I in u)b[I].set(this.program,I,u[I])}}draw(l,u,b,I,F,se,de,fe,De,ke,Ne,Ze,at,lt,dt){const et=l.gl;if(this.failedToCreate)return;l.program.set(this.program),l.setDepthMode(b),l.setStencilMode(I),l.setColorMode(F),l.setCullFace(se);for(const ft of Object.keys(this.fixedUniforms))this.fixedUniforms[ft].set(this.program,ft,de[ft]);lt&&lt.setUniforms(this.program,l,this.binderUniforms,Ze,{zoom:at});const nt={[et.LINES]:2,[et.TRIANGLES]:3,[et.LINE_STRIP]:1}[u];for(const ft of Ne.get()){const ct=ft.vaos||(ft.vaos={});(ct[fe]||(ct[fe]=new On)).bind(l,this,De,lt?lt.getPaintVertexBuffers():[],ke,ft.vertexOffset,dt||[]),et.drawElements(u,ft.primitiveLength*nt,et.UNSIGNED_SHORT,ft.primitiveOffset*nt*2)}}}function fl(y,l){const u=Math.pow(2,l.tileID.overscaledZ),b=l.tileSize*Math.pow(2,y.transform.tileZoom)/u,I=b*(l.tileID.canonical.x+l.tileID.wrap*u),F=b*l.tileID.canonical.y;return{u_image:0,u_texsize:l.imageAtlasTexture.size,u_tile_units_to_pixels:1/J(l,1,y.transform.tileZoom),u_pixel_coord_upper:[I>>16,F>>16],u_pixel_coord_lower:[65535&I,65535&F]}}const Ta=n.create(),Vc=(y,l,u,b,I,F,se,de,fe,De,ke)=>{const Ne=l.style.light,Ze=Ne.properties.get("position"),at=[Ze.x,Ze.y,Ze.z],lt=n.create$1();Ne.properties.get("anchor")==="viewport"&&(n.fromRotation(lt,-l.transform.angle),n.transformMat3(at,at,lt));const dt=Ne.properties.get("color"),et=l.transform,nt={u_matrix:y,u_lightpos:at,u_lightintensity:Ne.properties.get("intensity"),u_lightcolor:[dt.r,dt.g,dt.b],u_vertical_gradient:+u,u_opacity:b,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Ta,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:I,u_edge_radius:F};return et.projection.name==="globe"&&(nt.u_tile_id=[se.canonical.x,se.canonical.y,1<<se.canonical.z],nt.u_zoom_transition=fe,nt.u_inv_rot_matrix=ke,nt.u_merc_center=De,nt.u_up_dir=et.projection.upVector(new n.CanonicalTileID(0,0,0),De[0]*n.EXTENT,De[1]*n.EXTENT),nt.u_height_lift=de),nt},ws=(y,l,u,b,I,F,se,de,fe,De,ke,Ne)=>{const Ze=Vc(y,l,u,b,I,F,se,fe,De,ke,Ne),at={u_height_factor:-Math.pow(2,se.overscaledZ)/de.tileSize/8};return n.extend(Ze,fl(l,de),at)},Bo=y=>({u_matrix:y}),pc=(y,l,u)=>n.extend(Bo(y),fl(l,u)),ml=(y,l)=>({u_matrix:y,u_world:l}),co=(y,l,u,b)=>n.extend(pc(y,l,u),{u_world:b}),gl=n.create(),zl=(y,l,u,b,I,F)=>{const se=y.transform,de=se.projection.name==="globe";let fe;if(F.paint.get("circle-pitch-alignment")==="map")if(de){const ke=n.globePixelsToTileUnits(se.zoom,l.canonical)*se._pixelsPerMercatorPixel;fe=Float32Array.from([ke,0,0,ke])}else fe=se.calculatePixelsToTileUnitsMatrix(u);else fe=new Float32Array([se.pixelsToGLUnits[0],0,0,se.pixelsToGLUnits[1]]);const De={u_camera_to_center_distance:se.cameraToCenterDistance,u_matrix:y.translatePosMatrix(l.projMatrix,u,F.paint.get("circle-translate"),F.paint.get("circle-translate-anchor")),u_device_pixel_ratio:n.exported.devicePixelRatio,u_extrude_scale:fe,u_inv_rot_matrix:gl,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(de){De.u_inv_rot_matrix=b,De.u_merc_center=I,De.u_tile_id=[l.canonical.x,l.canonical.y,1<<l.canonical.z],De.u_zoom_transition=n.globeToMercatorTransition(se.zoom);const ke=I[0]*n.EXTENT,Ne=I[1]*n.EXTENT;De.u_up_dir=se.projection.upVector(new n.CanonicalTileID(0,0,0),ke,Ne)}return De},yh=y=>{const l=[];return y.paint.get("circle-pitch-alignment")==="map"&&l.push("PITCH_WITH_MAP"),y.paint.get("circle-pitch-scale")==="map"&&l.push("SCALE_WITH_MAP"),l},_l=(y,l,u,b)=>{const I=n.EXTENT/u.tileSize;return{u_matrix:y,u_camera_to_center_distance:l.getCameraToCenterDistance(b),u_extrude_scale:[l.pixelsToGLUnits[0]/I,l.pixelsToGLUnits[1]/I]}},yl=(y,l,u=1)=>({u_matrix:y,u_color:l,u_overlay:0,u_overlay_scale:u}),$h=n.create(),vl=(y,l,u,b,I,F,se)=>{const de=y.transform,fe=de.projection.name==="globe",De=fe?n.globePixelsToTileUnits(de.zoom,l.canonical)*de._pixelsPerMercatorPixel:J(u,1,F),ke={u_matrix:l.projMatrix,u_extrude_scale:De,u_intensity:se,u_inv_rot_matrix:$h,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(fe){ke.u_inv_rot_matrix=b,ke.u_merc_center=I,ke.u_tile_id=[l.canonical.x,l.canonical.y,1<<l.canonical.z],ke.u_zoom_transition=n.globeToMercatorTransition(de.zoom);const Ne=I[0]*n.EXTENT,Ze=I[1]*n.EXTENT;ke.u_up_dir=de.projection.upVector(new n.CanonicalTileID(0,0,0),Ne,Ze)}return ke},vh=(y,l,u,b,I,F,se)=>{const de=y.transform,fe=de.calculatePixelsToTileUnitsMatrix(l);return{u_matrix:xl(y,l,u,b),u_pixels_to_tile_units:fe,u_device_pixel_ratio:F,u_units_to_pixels:[1/de.pixelsToGLUnits[0],1/de.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:I,u_texsize:$c(u)?l.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Wo(l,y.transform),u_alpha_discard_threshold:0,u_trim_offset:se}},Ho=(y,l,u,b,I)=>{const F=y.transform;return{u_matrix:xl(y,l,u,b),u_texsize:l.imageAtlasTexture.size,u_pixels_to_tile_units:F.calculatePixelsToTileUnitsMatrix(l),u_device_pixel_ratio:I,u_image:0,u_tile_units_to_pixels:Wo(l,F),u_units_to_pixels:[1/F.pixelsToGLUnits[0],1/F.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Wo(y,l){return 1/J(y,1,l.tileZoom)}function xl(y,l,u,b){return y.translatePosMatrix(b||l.tileID.projMatrix,l,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}function $c(y){const l=y.paint.get("line-dasharray").value;return l.value||l.kind!=="constant"}const Fl=(y,l,u,b,I,F)=>{return{u_matrix:y,u_tl_parent:l,u_scale_parent:u,u_fade_t:b.mix,u_opacity:b.opacity*I.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:I.paint.get("raster-brightness-min"),u_brightness_high:I.paint.get("raster-brightness-max"),u_saturation_factor:(de=I.paint.get("raster-saturation"),de>0?1-1/(1.001-de):-de),u_contrast_factor:(se=I.paint.get("raster-contrast"),se>0?1/(1-se):1+se),u_spin_weights:To(I.paint.get("raster-hue-rotate")),u_perspective_transform:F};var se,de};function To(y){y*=Math.PI/180;const l=Math.sin(y),u=Math.cos(y);return[(2*u+1)/3,(-Math.sqrt(3)*l-u+1)/3,(Math.sqrt(3)*l-u+1)/3]}const Hr=n.create(),ja=(y,l,u,b,I,F,se,de,fe,De,ke,Ne,Ze,at,lt,dt)=>{const et=I.transform,nt={u_is_size_zoom_constant:+(y==="constant"||y==="source"),u_is_size_feature_constant:+(y==="constant"||y==="camera"),u_size_t:l?l.uSizeT:0,u_size:l?l.uSize:0,u_camera_to_center_distance:et.cameraToCenterDistance,u_rotate_symbol:+u,u_aspect_ratio:et.width/et.height,u_fade_change:I.options.fadeDuration?I.symbolFadeChange:1,u_matrix:F,u_label_plane_matrix:se,u_coord_matrix:de,u_is_text:+fe,u_pitch_with_map:+b,u_texsize:De,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Hr,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Hr,u_up_vector:[0,-1,0]};return dt.name==="globe"&&(nt.u_tile_id=[ke.canonical.x,ke.canonical.y,1<<ke.canonical.z],nt.u_zoom_transition=Ne,nt.u_inv_rot_matrix=at,nt.u_merc_center=Ze,nt.u_camera_forward=et._camera.forward(),nt.u_ecef_origin=n.globeECEFOrigin(et.globeMatrix,ke.toUnwrapped()),nt.u_tile_matrix=Float32Array.from(et.globeMatrix),nt.u_up_vector=lt),nt},bl=(y,l,u,b,I,F,se,de,fe,De,ke,Ne,Ze,at,lt,dt,et)=>n.extend(ja(y,l,u,b,I,F,se,de,fe,De,Ne,Ze,at,lt,dt,et),{u_gamma_scale:b?I.transform.cameraToCenterDistance*Math.cos(I.terrain?0:I.transform._pitch):1,u_device_pixel_ratio:n.exported.devicePixelRatio,u_is_halo:+ke}),Nl=(y,l,u,b,I,F,se,de,fe,De,ke,Ne,Ze,at,lt,dt)=>n.extend(bl(y,l,u,b,I,F,se,de,!0,fe,!0,ke,Ne,Ze,at,lt,dt),{u_texsize_icon:De,u_texture_icon:1}),Ed=(y,l,u)=>({u_matrix:y,u_opacity:l,u_color:u}),ss=(y,l,u,b,I)=>n.extend(function(F,se,de){const fe=se.imageManager.getPattern(F.toString()),{width:De,height:ke}=se.imageManager.getPixelSize(),Ne=Math.pow(2,de.tileID.overscaledZ),Ze=de.tileSize*Math.pow(2,se.transform.tileZoom)/Ne,at=Ze*(de.tileID.canonical.x+de.tileID.wrap*Ne),lt=Ze*de.tileID.canonical.y;return{u_image:0,u_pattern_tl:fe.tl,u_pattern_br:fe.br,u_texsize:[De,ke],u_pattern_size:fe.displaySize,u_tile_units_to_pixels:1/J(de,1,se.transform.tileZoom),u_pixel_coord_upper:[at>>16,lt>>16],u_pixel_coord_lower:[65535&at,65535&lt]}}(b,u,I),{u_matrix:y,u_opacity:l}),fo={fillExtrusion:y=>({u_matrix:new n.UniformMatrix4f(y),u_lightpos:new n.Uniform3f(y),u_lightintensity:new n.Uniform1f(y),u_lightcolor:new n.Uniform3f(y),u_vertical_gradient:new n.Uniform1f(y),u_opacity:new n.Uniform1f(y),u_edge_radius:new n.Uniform1f(y),u_ao:new n.Uniform2f(y),u_tile_id:new n.Uniform3f(y),u_zoom_transition:new n.Uniform1f(y),u_inv_rot_matrix:new n.UniformMatrix4f(y),u_merc_center:new n.Uniform2f(y),u_up_dir:new n.Uniform3f(y),u_height_lift:new n.Uniform1f(y)}),fillExtrusionPattern:y=>({u_matrix:new n.UniformMatrix4f(y),u_lightpos:new n.Uniform3f(y),u_lightintensity:new n.Uniform1f(y),u_lightcolor:new n.Uniform3f(y),u_vertical_gradient:new n.Uniform1f(y),u_height_factor:new n.Uniform1f(y),u_edge_radius:new n.Uniform1f(y),u_ao:new n.Uniform2f(y),u_tile_id:new n.Uniform3f(y),u_zoom_transition:new n.Uniform1f(y),u_inv_rot_matrix:new n.UniformMatrix4f(y),u_merc_center:new n.Uniform2f(y),u_up_dir:new n.Uniform3f(y),u_height_lift:new n.Uniform1f(y),u_image:new n.Uniform1i(y),u_texsize:new n.Uniform2f(y),u_pixel_coord_upper:new n.Uniform2f(y),u_pixel_coord_lower:new n.Uniform2f(y),u_tile_units_to_pixels:new n.Uniform1f(y),u_opacity:new n.Uniform1f(y)}),fill:y=>({u_matrix:new n.UniformMatrix4f(y)}),fillPattern:y=>({u_matrix:new n.UniformMatrix4f(y),u_image:new n.Uniform1i(y),u_texsize:new n.Uniform2f(y),u_pixel_coord_upper:new n.Uniform2f(y),u_pixel_coord_lower:new n.Uniform2f(y),u_tile_units_to_pixels:new n.Uniform1f(y)}),fillOutline:y=>({u_matrix:new n.UniformMatrix4f(y),u_world:new n.Uniform2f(y)}),fillOutlinePattern:y=>({u_matrix:new n.UniformMatrix4f(y),u_world:new n.Uniform2f(y),u_image:new n.Uniform1i(y),u_texsize:new n.Uniform2f(y),u_pixel_coord_upper:new n.Uniform2f(y),u_pixel_coord_lower:new n.Uniform2f(y),u_tile_units_to_pixels:new n.Uniform1f(y)}),circle:y=>({u_camera_to_center_distance:new n.Uniform1f(y),u_extrude_scale:new n.UniformMatrix2f(y),u_device_pixel_ratio:new n.Uniform1f(y),u_matrix:new n.UniformMatrix4f(y),u_inv_rot_matrix:new n.UniformMatrix4f(y),u_merc_center:new n.Uniform2f(y),u_tile_id:new n.Uniform3f(y),u_zoom_transition:new n.Uniform1f(y),u_up_dir:new n.Uniform3f(y)}),collisionBox:y=>({u_matrix:new n.UniformMatrix4f(y),u_camera_to_center_distance:new n.Uniform1f(y),u_extrude_scale:new n.Uniform2f(y)}),collisionCircle:y=>({u_matrix:new n.UniformMatrix4f(y),u_inv_matrix:new n.UniformMatrix4f(y),u_camera_to_center_distance:new n.Uniform1f(y),u_viewport_size:new n.Uniform2f(y)}),debug:y=>({u_color:new n.UniformColor(y),u_matrix:new n.UniformMatrix4f(y),u_overlay:new n.Uniform1i(y),u_overlay_scale:new n.Uniform1f(y)}),clippingMask:y=>({u_matrix:new n.UniformMatrix4f(y)}),heatmap:y=>({u_extrude_scale:new n.Uniform1f(y),u_intensity:new n.Uniform1f(y),u_matrix:new n.UniformMatrix4f(y),u_inv_rot_matrix:new n.UniformMatrix4f(y),u_merc_center:new n.Uniform2f(y),u_tile_id:new n.Uniform3f(y),u_zoom_transition:new n.Uniform1f(y),u_up_dir:new n.Uniform3f(y)}),heatmapTexture:y=>({u_image:new n.Uniform1i(y),u_color_ramp:new n.Uniform1i(y),u_opacity:new n.Uniform1f(y)}),hillshade:y=>({u_matrix:new n.UniformMatrix4f(y),u_image:new n.Uniform1i(y),u_latrange:new n.Uniform2f(y),u_light:new n.Uniform2f(y),u_shadow:new n.UniformColor(y),u_highlight:new n.UniformColor(y),u_accent:new n.UniformColor(y)}),hillshadePrepare:y=>({u_matrix:new n.UniformMatrix4f(y),u_image:new n.Uniform1i(y),u_dimension:new n.Uniform2f(y),u_zoom:new n.Uniform1f(y),u_unpack:new n.Uniform4f(y)}),line:y=>({u_matrix:new n.UniformMatrix4f(y),u_pixels_to_tile_units:new n.UniformMatrix2f(y),u_device_pixel_ratio:new n.Uniform1f(y),u_units_to_pixels:new n.Uniform2f(y),u_dash_image:new n.Uniform1i(y),u_gradient_image:new n.Uniform1i(y),u_image_height:new n.Uniform1f(y),u_texsize:new n.Uniform2f(y),u_tile_units_to_pixels:new n.Uniform1f(y),u_alpha_discard_threshold:new n.Uniform1f(y),u_trim_offset:new n.Uniform2f(y)}),linePattern:y=>({u_matrix:new n.UniformMatrix4f(y),u_texsize:new n.Uniform2f(y),u_pixels_to_tile_units:new n.UniformMatrix2f(y),u_device_pixel_ratio:new n.Uniform1f(y),u_image:new n.Uniform1i(y),u_units_to_pixels:new n.Uniform2f(y),u_tile_units_to_pixels:new n.Uniform1f(y),u_alpha_discard_threshold:new n.Uniform1f(y)}),raster:y=>({u_matrix:new n.UniformMatrix4f(y),u_tl_parent:new n.Uniform2f(y),u_scale_parent:new n.Uniform1f(y),u_fade_t:new n.Uniform1f(y),u_opacity:new n.Uniform1f(y),u_image0:new n.Uniform1i(y),u_image1:new n.Uniform1i(y),u_brightness_low:new n.Uniform1f(y),u_brightness_high:new n.Uniform1f(y),u_saturation_factor:new n.Uniform1f(y),u_contrast_factor:new n.Uniform1f(y),u_spin_weights:new n.Uniform3f(y),u_perspective_transform:new n.Uniform2f(y)}),symbolIcon:y=>({u_is_size_zoom_constant:new n.Uniform1i(y),u_is_size_feature_constant:new n.Uniform1i(y),u_size_t:new n.Uniform1f(y),u_size:new n.Uniform1f(y),u_camera_to_center_distance:new n.Uniform1f(y),u_rotate_symbol:new n.Uniform1i(y),u_aspect_ratio:new n.Uniform1f(y),u_fade_change:new n.Uniform1f(y),u_matrix:new n.UniformMatrix4f(y),u_label_plane_matrix:new n.UniformMatrix4f(y),u_coord_matrix:new n.UniformMatrix4f(y),u_is_text:new n.Uniform1i(y),u_pitch_with_map:new n.Uniform1i(y),u_texsize:new n.Uniform2f(y),u_tile_id:new n.Uniform3f(y),u_zoom_transition:new n.Uniform1f(y),u_inv_rot_matrix:new n.UniformMatrix4f(y),u_merc_center:new n.Uniform2f(y),u_camera_forward:new n.Uniform3f(y),u_tile_matrix:new n.UniformMatrix4f(y),u_up_vector:new n.Uniform3f(y),u_ecef_origin:new n.Uniform3f(y),u_texture:new n.Uniform1i(y)}),symbolSDF:y=>({u_is_size_zoom_constant:new n.Uniform1i(y),u_is_size_feature_constant:new n.Uniform1i(y),u_size_t:new n.Uniform1f(y),u_size:new n.Uniform1f(y),u_camera_to_center_distance:new n.Uniform1f(y),u_rotate_symbol:new n.Uniform1i(y),u_aspect_ratio:new n.Uniform1f(y),u_fade_change:new n.Uniform1f(y),u_matrix:new n.UniformMatrix4f(y),u_label_plane_matrix:new n.UniformMatrix4f(y),u_coord_matrix:new n.UniformMatrix4f(y),u_is_text:new n.Uniform1i(y),u_pitch_with_map:new n.Uniform1i(y),u_texsize:new n.Uniform2f(y),u_texture:new n.Uniform1i(y),u_gamma_scale:new n.Uniform1f(y),u_device_pixel_ratio:new n.Uniform1f(y),u_tile_id:new n.Uniform3f(y),u_zoom_transition:new n.Uniform1f(y),u_inv_rot_matrix:new n.UniformMatrix4f(y),u_merc_center:new n.Uniform2f(y),u_camera_forward:new n.Uniform3f(y),u_tile_matrix:new n.UniformMatrix4f(y),u_up_vector:new n.Uniform3f(y),u_ecef_origin:new n.Uniform3f(y),u_is_halo:new n.Uniform1i(y)}),symbolTextAndIcon:y=>({u_is_size_zoom_constant:new n.Uniform1i(y),u_is_size_feature_constant:new n.Uniform1i(y),u_size_t:new n.Uniform1f(y),u_size:new n.Uniform1f(y),u_camera_to_center_distance:new n.Uniform1f(y),u_rotate_symbol:new n.Uniform1i(y),u_aspect_ratio:new n.Uniform1f(y),u_fade_change:new n.Uniform1f(y),u_matrix:new n.UniformMatrix4f(y),u_label_plane_matrix:new n.UniformMatrix4f(y),u_coord_matrix:new n.UniformMatrix4f(y),u_is_text:new n.Uniform1i(y),u_pitch_with_map:new n.Uniform1i(y),u_texsize:new n.Uniform2f(y),u_texsize_icon:new n.Uniform2f(y),u_texture:new n.Uniform1i(y),u_texture_icon:new n.Uniform1i(y),u_gamma_scale:new n.Uniform1f(y),u_device_pixel_ratio:new n.Uniform1f(y),u_is_halo:new n.Uniform1i(y)}),background:y=>({u_matrix:new n.UniformMatrix4f(y),u_opacity:new n.Uniform1f(y),u_color:new n.UniformColor(y)}),backgroundPattern:y=>({u_matrix:new n.UniformMatrix4f(y),u_opacity:new n.Uniform1f(y),u_image:new n.Uniform1i(y),u_pattern_tl:new n.Uniform2f(y),u_pattern_br:new n.Uniform2f(y),u_texsize:new n.Uniform2f(y),u_pattern_size:new n.Uniform2f(y),u_pixel_coord_upper:new n.Uniform2f(y),u_pixel_coord_lower:new n.Uniform2f(y),u_tile_units_to_pixels:new n.Uniform1f(y)}),terrainRaster:Qn,terrainDepth:Qn,skybox:y=>({u_matrix:new n.UniformMatrix4f(y),u_sun_direction:new n.Uniform3f(y),u_cubemap:new n.Uniform1i(y),u_opacity:new n.Uniform1f(y),u_temporal_offset:new n.Uniform1f(y)}),skyboxGradient:y=>({u_matrix:new n.UniformMatrix4f(y),u_color_ramp:new n.Uniform1i(y),u_center_direction:new n.Uniform3f(y),u_radius:new n.Uniform1f(y),u_opacity:new n.Uniform1f(y),u_temporal_offset:new n.Uniform1f(y)}),skyboxCapture:y=>({u_matrix_3f:new n.UniformMatrix3f(y),u_sun_direction:new n.Uniform3f(y),u_sun_intensity:new n.Uniform1f(y),u_color_tint_r:new n.Uniform4f(y),u_color_tint_m:new n.Uniform4f(y),u_luminance:new n.Uniform1f(y)}),globeRaster:y=>({u_proj_matrix:new n.UniformMatrix4f(y),u_globe_matrix:new n.UniformMatrix4f(y),u_normalize_matrix:new n.UniformMatrix4f(y),u_merc_matrix:new n.UniformMatrix4f(y),u_zoom_transition:new n.Uniform1f(y),u_merc_center:new n.Uniform2f(y),u_image0:new n.Uniform1i(y),u_grid_matrix:new n.UniformMatrix3f(y),u_frustum_tl:new n.Uniform3f(y),u_frustum_tr:new n.Uniform3f(y),u_frustum_br:new n.Uniform3f(y),u_frustum_bl:new n.Uniform3f(y),u_globe_pos:new n.Uniform3f(y),u_globe_radius:new n.Uniform1f(y),u_viewport:new n.Uniform2f(y)}),globeAtmosphere:y=>({u_frustum_tl:new n.Uniform3f(y),u_frustum_tr:new n.Uniform3f(y),u_frustum_br:new n.Uniform3f(y),u_frustum_bl:new n.Uniform3f(y),u_horizon:new n.Uniform1f(y),u_transition:new n.Uniform1f(y),u_fadeout_range:new n.Uniform1f(y),u_color:new n.Uniform4f(y),u_high_color:new n.Uniform4f(y),u_space_color:new n.Uniform4f(y),u_star_intensity:new n.Uniform1f(y),u_star_density:new n.Uniform1f(y),u_star_size:new n.Uniform1f(y),u_temporal_offset:new n.Uniform1f(y),u_horizon_angle:new n.Uniform1f(y),u_rotation_matrix:new n.UniformMatrix4f(y)})};let Wr;function Eo(y,l,u,b,I,F,se){const de=y.context,fe=de.gl,De=y.transform,ke=y.useProgram("collisionBox"),Ne=[];let Ze=0,at=0;for(let vt=0;vt<b.length;vt++){const At=b[vt],wt=l.getTile(At),zt=wt.getBucket(u);if(!zt)continue;const Qt=Io(At,zt,De);let Zt=Qt;I[0]===0&&I[1]===0||(Zt=y.translatePosMatrix(Qt,wt,I,F));const Gt=se?zt.textCollisionBox:zt.iconCollisionBox,wi=zt.collisionCircleArray;if(wi.length>0){const Yt=n.create(),pi=Zt;n.mul(Yt,zt.placementInvProjMatrix,De.glCoordMatrix),n.mul(Yt,Yt,zt.placementViewportMatrix),Ne.push({circleArray:wi,circleOffset:at,transform:pi,invTransform:Yt,projection:zt.getProjection()}),Ze+=wi.length/4,at=Ze}Gt&&(y.terrain&&y.terrain.setupElevationDraw(wt,ke),ke.draw(de,fe.LINES,n.DepthMode.disabled,n.StencilMode.disabled,y.colorModeForRenderPass(),n.CullFaceMode.disabled,_l(Zt,De,wt,zt.getProjection()),u.id,Gt.layoutVertexBuffer,Gt.indexBuffer,Gt.segments,null,De.zoom,null,[Gt.collisionVertexBuffer,Gt.collisionVertexBufferExt]))}if(!se||!Ne.length)return;const lt=y.useProgram("collisionCircle"),dt=new n.StructArrayLayout2f1f2i16;dt.resize(4*Ze),dt._trim();let et=0;for(const vt of Ne)for(let At=0;At<vt.circleArray.length/4;At++){const wt=4*At,zt=vt.circleArray[wt+0],Qt=vt.circleArray[wt+1],Zt=vt.circleArray[wt+2],Gt=vt.circleArray[wt+3];dt.emplace(et++,zt,Qt,Zt,Gt,0),dt.emplace(et++,zt,Qt,Zt,Gt,1),dt.emplace(et++,zt,Qt,Zt,Gt,2),dt.emplace(et++,zt,Qt,Zt,Gt,3)}(!Wr||Wr.length<2*Ze)&&(Wr=function(vt){const At=2*vt,wt=new n.StructArrayLayout3ui6;wt.resize(At),wt._trim();for(let zt=0;zt<At;zt++){const Qt=6*zt;wt.uint16[Qt+0]=4*zt+0,wt.uint16[Qt+1]=4*zt+1,wt.uint16[Qt+2]=4*zt+2,wt.uint16[Qt+3]=4*zt+2,wt.uint16[Qt+4]=4*zt+3,wt.uint16[Qt+5]=4*zt+0}return wt}(Ze));const nt=de.createIndexBuffer(Wr,!0),ft=de.createVertexBuffer(dt,n.collisionCircleLayout.members,!0);for(const vt of Ne){const At={u_matrix:vt.transform,u_inv_matrix:vt.invTransform,u_camera_to_center_distance:(ct=De).getCameraToCenterDistance(vt.projection),u_viewport_size:[ct.width,ct.height]};lt.draw(de,fe.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,y.colorModeForRenderPass(),n.CullFaceMode.disabled,At,u.id,ft,nt,n.SegmentVector.simpleSegment(0,2*vt.circleOffset,vt.circleArray.length,vt.circleArray.length/2),null,De.zoom)}var ct;ft.destroy(),nt.destroy()}const Ua=n.create();function Hh({width:y,height:l,anchor:u,textOffset:b,textScale:I},F){const{horizontalAlign:se,verticalAlign:de}=n.getAnchorAlignment(u),fe=-(se-.5)*y,De=-(de-.5)*l,ke=n.evaluateVariableOffset(u,b);return new n.pointGeometry((fe/I+ke[0])*F,(De/I+ke[1])*F)}function Wh(y,l,u,b,I,F,se,de,fe,De,ke){const Ne=y.text.placedSymbolArray,Ze=y.text.dynamicLayoutVertexArray,at=y.icon.dynamicLayoutVertexArray,lt={},dt=y.getProjection(),et=Ba(de,dt,F),nt=F.elevation,ft=dt.upVectorScale(de.canonical,F.center.lat,F.worldSize).metersToTile;Ze.clear();for(let ct=0;ct<Ne.length;ct++){const vt=Ne.get(ct),{tileAnchorX:At,tileAnchorY:wt,numGlyphs:zt}=vt,Qt=y.allowVerticalPlacement&&!vt.placedOrientation,Zt=vt.hidden||!vt.crossTileID||Qt?null:b[vt.crossTileID];if(Zt){let Gt=0,wi=0,Yt=0;if(nt){const on=nt?nt.getAtTileOffset(de,At,wt):0,[pn,an,kn]=dt.upVector(de.canonical,At,wt);Gt=on*pn*ft,wi=on*an*ft,Yt=on*kn*ft}let[pi,ti,ki,ii]=Nr(vt.projectedAnchorX+Gt,vt.projectedAnchorY+wi,vt.projectedAnchorZ+Yt,u?et:se);const vi=$i(F.getCameraToCenterDistance(dt),ii);let Li=I.evaluateSizeForFeature(y.textSizeData,De,vt)*vi/n.ONE_EM;u&&(Li*=y.tilePixelRatio/fe);const $t=Hh(Zt,Li);u?({x:pi,y:ti,z:ki}=dt.projectTilePoint(At+$t.x,wt+$t.y,de.canonical),[pi,ti,ki]=Nr(pi+Gt,ti+wi,ki+Yt,se)):(l&&$t._rotate(-F.angle),pi+=$t.x,ti+=$t.y,ki=0);const ei=y.allowVerticalPlacement&&vt.placedOrientation===n.WritingMode.vertical?Math.PI/2:0;for(let on=0;on<zt;on++)n.addDynamicAttributes(Ze,pi,ti,ki,ei);ke&&vt.associatedIconIndex>=0&&(lt[vt.associatedIconIndex]={x:pi,y:ti,z:ki,angle:ei})}else Pr(zt,Ze)}if(ke){at.clear();const ct=y.icon.placedSymbolArray;for(let vt=0;vt<ct.length;vt++){const At=ct.get(vt),{numGlyphs:wt}=At,zt=lt[vt];if(At.hidden||!zt)Pr(wt,at);else{const{x:Qt,y:Zt,z:Gt,angle:wi}=zt;for(let Yt=0;Yt<wt;Yt++)n.addDynamicAttributes(at,Qt,Zt,Gt,wi)}}y.icon.dynamicLayoutVertexBuffer.updateData(at)}y.text.dynamicLayoutVertexBuffer.updateData(Ze)}function Yh(y,l,u){return u.iconsInText&&l?"symbolTextAndIcon":y?"symbolSDF":"symbolIcon"}function mo(y,l,u,b,I,F,se,de,fe,De,ke,Ne){const Ze=y.context,at=Ze.gl,lt=y.transform,dt=de==="map",et=fe==="map",nt=dt&&u.layout.get("symbol-placement")!=="point",ft=dt&&!et&&!nt,ct=u.layout.get("symbol-sort-key").constantOr(1)!==void 0;let vt=!1;const At=y.depthModeForSublayer(0,n.DepthMode.ReadOnly),wt=[n.mercatorXfromLng(lt.center.lng),n.mercatorYfromLat(lt.center.lat)],zt=u.layout.get("text-variable-anchor"),Qt=lt.projection.name==="globe",Zt=[],Gt=[0,-1,0];let wi=Gt;!Qt&&!lt.mercatorFromTransition||dt||(wi=function(Yt){const pi=Yt._camera.getWorldToCamera(Yt.worldSize,1),ti=n.multiply([],pi,Yt.globeMatrix);n.invert(ti,ti);const ki=[0,0,0],ii=[0,1,0,0];return n.transformMat4$1(ii,ii,ti),ki[0]=ii[0],ki[1]=ii[1],ki[2]=ii[2],n.normalize(ki,ki),ki}(lt));for(const Yt of b){const pi=l.getTile(Yt),ti=pi.getBucket(u);if(!ti||ti.projection.name==="mercator"&&Qt)continue;const ki=I?ti.text:ti.icon;if(!ki||ti.fullyClipped||!ki.segments.get().length)continue;const ii=ki.programConfigurations.get(u.id),vi=I||ti.sdfIcons,Li=I?ti.textSizeData:ti.iconSizeData,$t=et||lt.pitch!==0,ei=n.evaluateSizeForZoom(Li,lt.zoom);let on,pn,an,kn,Wn=[0,0],_n=null;if(I){if(pn=pi.glyphAtlasTexture,an=at.LINEAR,on=pi.glyphAtlasTexture.size,ti.iconsInText){Wn=pi.imageAtlasTexture.size,_n=pi.imageAtlasTexture;const ua=Li.kind==="composite"||Li.kind==="camera";kn=$t||y.options.rotating||y.options.zooming||ua?at.LINEAR:at.NEAREST}}else{const ua=u.layout.get("icon-size").constantOr(0)!==1||ti.iconsNeedLinear;pn=pi.imageAtlasTexture,an=vi||y.options.rotating||y.options.zooming||ua||$t?at.LINEAR:at.NEAREST,on=pi.imageAtlasTexture.size}const Ji=ti.projection.name==="globe",Fs=Ji?wi:Gt,Ms=Ji?n.globeToMercatorTransition(lt.zoom):0,js=Ba(Yt,ti.getProjection(),lt),Rs=lt.calculatePixelsToTileUnitsMatrix(pi),da=to(js,pi.tileID.canonical,et,dt,lt,ti.getProjection(),Rs),Yo=y.terrain&&et&&nt?n.invert(n.create(),da):Ua,zo=gh(js,pi.tileID.canonical,et,dt,lt,ti.getProjection(),Rs),Sl=zt&&ti.hasTextData(),Zs=u.layout.get("icon-text-fit")!=="none"&&Sl&&ti.hasIconData();if(nt){const ua=lt.elevation,$l=ua?ua.getAtTileOffsetFunc(Yt,lt.center.lat,lt.worldSize,ti.getProjection()):null,$a=cc(js,pi.tileID.canonical,et,dt,lt,ti.getProjection(),Rs);Xn(ti,js,y,I,$a,zo,et,De,$l,Yt)}const Bs=nt||I&&zt||Zs,Ts=y.translatePosMatrix(js,pi,F,se),Br=Bs?Ua:da,Co=y.translatePosMatrix(zo,pi,F,se,!0),Ks=ti.getProjection().createInversionMatrix(lt,Yt.canonical),Fo=[];y.terrainRenderModeElevated()&&et&&Fo.push("PITCH_WITH_MAP_TERRAIN"),Ji&&Fo.push("PROJECTION_GLOBE_VIEW"),Bs&&Fo.push("PROJECTED_POS_ON_VIEWPORT");const Dd=vi&&u.paint.get(I?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Tl;Tl=vi?ti.iconsInText?Nl(Li.kind,ei,ft,et,y,Ts,Br,Co,on,Wn,Yt,Ms,wt,Ks,Fs,ti.getProjection()):bl(Li.kind,ei,ft,et,y,Ts,Br,Co,I,on,!0,Yt,Ms,wt,Ks,Fs,ti.getProjection()):ja(Li.kind,ei,ft,et,y,Ts,Br,Co,I,on,Yt,Ms,wt,Ks,Fs,ti.getProjection());const Mo={program:y.useProgram(Yh(vi,I,ti),ii,Fo),buffers:ki,uniformValues:Tl,atlasTexture:pn,atlasTextureIcon:_n,atlasInterpolation:an,atlasInterpolationIcon:kn,isSDF:vi,hasHalo:Dd,tile:pi,labelPlaneMatrixInv:Yo};if(ct&&ti.canOverlap){vt=!0;const ua=ki.segments.get();for(const $l of ua)Zt.push({segments:new n.SegmentVector([$l]),sortKey:$l.sortKey,state:Mo})}else Zt.push({segments:ki.segments,sortKey:0,state:Mo})}vt&&Zt.sort((Yt,pi)=>Yt.sortKey-pi.sortKey);for(const Yt of Zt){const pi=Yt.state;if(y.terrain&&y.terrain.setupElevationDraw(pi.tile,pi.program,{useDepthForOcclusion:!Qt,labelPlaneMatrixInv:pi.labelPlaneMatrixInv}),Ze.activeTexture.set(at.TEXTURE0),pi.atlasTexture.bind(pi.atlasInterpolation,at.CLAMP_TO_EDGE),pi.atlasTextureIcon&&(Ze.activeTexture.set(at.TEXTURE1),pi.atlasTextureIcon&&pi.atlasTextureIcon.bind(pi.atlasInterpolationIcon,at.CLAMP_TO_EDGE)),pi.isSDF){const ti=pi.uniformValues;pi.hasHalo&&(ti.u_is_halo=1,jt(pi.buffers,Yt.segments,u,y,pi.program,At,ke,Ne,ti)),ti.u_is_halo=0}jt(pi.buffers,Yt.segments,u,y,pi.program,At,ke,Ne,pi.uniformValues)}}function jt(y,l,u,b,I,F,se,de,fe){const De=b.context,ke=[y.dynamicLayoutVertexBuffer,y.opacityVertexBuffer,y.globeExtVertexBuffer];I.draw(De,De.gl.TRIANGLES,F,se,de,n.CullFaceMode.disabled,fe,u.id,y.layoutVertexBuffer,y.indexBuffer,l,u.paint,b.transform.zoom,y.programConfigurations.get(u.id),ke)}function gi(y,l,u,b,I,F,se){const de=y.context.gl,fe=u.paint.get("fill-pattern"),De=fe&&fe.constantOr(1);let ke,Ne,Ze,at,lt;se?(Ne=De&&!u.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ke=de.LINES):(Ne=De?"fillPattern":"fill",ke=de.TRIANGLES);for(const dt of b){const et=l.getTile(dt);if(De&&!et.patternsLoaded())continue;const nt=et.getBucket(u);if(!nt)continue;y.prepareDrawTile();const ft=nt.programConfigurations.get(u.id),ct=y.useProgram(Ne,ft);De&&(y.context.activeTexture.set(de.TEXTURE0),et.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),ft.updatePaintBuffers());const vt=fe.constantOr(null);if(vt&&et.imageAtlas){const wt=et.imageAtlas.patternPositions[vt.toString()];wt&&ft.setConstantPatternPositions(wt)}const At=y.translatePosMatrix(dt.projMatrix,et,u.paint.get("fill-translate"),u.paint.get("fill-translate-anchor"));if(se){at=nt.indexBuffer2,lt=nt.segments2;const wt=y.terrain&&y.terrain.renderingToTexture?y.terrain.drapeBufferSize:[de.drawingBufferWidth,de.drawingBufferHeight];Ze=Ne==="fillOutlinePattern"&&De?co(At,y,et,wt):ml(At,wt)}else at=nt.indexBuffer,lt=nt.segments,Ze=De?pc(At,y,et):Bo(At);y.prepareDrawProgram(y.context,ct,dt.toUnwrapped()),ct.draw(y.context,ke,I,y.stencilModeForClipping(dt),F,n.CullFaceMode.disabled,Ze,u.id,nt.layoutVertexBuffer,at,lt,u.paint,y.transform.zoom,ft)}}function li(y,l,u,b,I,F,se){const de=y.context,fe=de.gl,De=y.transform,ke=u.paint.get("fill-extrusion-pattern"),Ne=ke.constantOr(1),Ze=u.paint.get("fill-extrusion-opacity"),at=[u.paint.get("fill-extrusion-ambient-occlusion-intensity"),u.paint.get("fill-extrusion-ambient-occlusion-radius")],lt=u.layout.get("fill-extrusion-edge-radius"),dt=De.projection.name==="globe"?n.fillExtrusionHeightLift():0,et=De.projection.name==="globe",nt=et?n.globeToMercatorTransition(De.zoom):0,ft=[n.mercatorXfromLng(De.center.lng),n.mercatorYfromLat(De.center.lat)],ct=[];et&&(ct.push("PROJECTION_GLOBE_VIEW"),y.style.terrainSetForDrapingOnly()&&ct.push("TERRAIN")),at[0]>0&&ct.push("FAUX_AO");for(const vt of b){const At=l.getTile(vt),wt=At.getBucket(u);if(!wt||wt.projection.name!==De.projection.name)continue;const zt=wt.programConfigurations.get(u.id),Qt=y.useProgram(Ne?"fillExtrusionPattern":"fillExtrusion",zt,ct);if(y.terrain){const ki=y.terrain;if(y.style.terrainSetForDrapingOnly())ki.setupElevationDraw(At,Qt,{useMeterToDem:!0});else{if(!wt.enableTerrain)continue;if(ki.setupElevationDraw(At,Qt,{useMeterToDem:!0}),rn(de,l,vt,wt,u,ki),!wt.centroidVertexBuffer){const ii=Qt.attributes.a_centroid_pos;ii!==void 0&&fe.vertexAttrib2f(ii,0,0)}}}Ne&&(y.context.activeTexture.set(fe.TEXTURE0),At.imageAtlasTexture.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),zt.updatePaintBuffers());const Zt=ke.constantOr(null);if(Zt&&At.imageAtlas){const ki=At.imageAtlas.patternPositions[Zt.toString()];ki&&zt.setConstantPatternPositions(ki)}const Gt=y.translatePosMatrix(vt.projMatrix,At,u.paint.get("fill-extrusion-translate"),u.paint.get("fill-extrusion-translate-anchor")),wi=De.projection.createInversionMatrix(De,vt.canonical),Yt=u.paint.get("fill-extrusion-vertical-gradient"),pi=Ne?ws(Gt,y,Yt,Ze,at,lt,vt,At,dt,nt,ft,wi):Vc(Gt,y,Yt,Ze,at,lt,vt,dt,nt,ft,wi);y.prepareDrawProgram(de,Qt,vt.toUnwrapped());const ti=[];y.terrain&&ti.push(wt.centroidVertexBuffer),et&&ti.push(wt.layoutVertexExtBuffer),Qt.draw(de,de.gl.TRIANGLES,I,F,se,n.CullFaceMode.backCCW,pi,u.id,wt.layoutVertexBuffer,wt.indexBuffer,wt.segments,u.paint,y.transform.zoom,zt,ti)}}function rn(y,l,u,b,I,F){const se=[nt=>{let ft=nt.canonical.x-1,ct=nt.wrap;return ft<0&&(ft=(1<<nt.canonical.z)-1,ct--),new n.OverscaledTileID(nt.overscaledZ,ct,nt.canonical.z,ft,nt.canonical.y)},nt=>{let ft=nt.canonical.x+1,ct=nt.wrap;return ft===1<<nt.canonical.z&&(ft=0,ct++),new n.OverscaledTileID(nt.overscaledZ,ct,nt.canonical.z,ft,nt.canonical.y)},nt=>new n.OverscaledTileID(nt.overscaledZ,nt.wrap,nt.canonical.z,nt.canonical.x,(nt.canonical.y===0?1<<nt.canonical.z:nt.canonical.y)-1),nt=>new n.OverscaledTileID(nt.overscaledZ,nt.wrap,nt.canonical.z,nt.canonical.x,nt.canonical.y===(1<<nt.canonical.z)-1?0:nt.canonical.y+1)],de=nt=>{const ft=l.getSource().minzoom,ct=At=>{const wt=l.getTileByID(At);if(wt&&wt.hasData())return wt.getBucket(I)},vt=[0,-1,1];for(const At of vt){if(nt.overscaledZ+At<ft)continue;const wt=ct(nt.calculateScaledKey(nt.overscaledZ+At));if(wt)return wt}},fe=[0,0,0],De=(nt,ft)=>(fe[0]=Math.min(nt.min.y,ft.min.y),fe[1]=Math.max(nt.max.y,ft.max.y),fe[2]=n.EXTENT-ft.min.x>nt.max.x?ft.min.x-n.EXTENT:nt.max.x,fe),ke=(nt,ft)=>(fe[0]=Math.min(nt.min.x,ft.min.x),fe[1]=Math.max(nt.max.x,ft.max.x),fe[2]=n.EXTENT-ft.min.y>nt.max.y?ft.min.y-n.EXTENT:nt.max.y,fe),Ne=[(nt,ft)=>De(nt,ft),(nt,ft)=>De(ft,nt),(nt,ft)=>ke(nt,ft),(nt,ft)=>ke(ft,nt)],Ze=new n.pointGeometry(0,0);let at,lt,dt;const et=(nt,ft,ct,vt,At)=>{const wt=[[vt?ct:nt,vt?nt:ct,0],[vt?ct:ft,vt?ft:ct,0]],zt=At<0?n.EXTENT+At:At,Qt=[vt?zt:(nt+ft)/2,vt?(nt+ft)/2:zt,0];return ct===0&&At<0||ct!==0&&At>0?F.getForTilePoints(dt,[Qt],!0,lt):wt.push(Qt),F.getForTilePoints(u,wt,!0,at),Math.max(wt[0][2],wt[1][2],Qt[2])/F.exaggeration()};for(let nt=0;nt<4;nt++){const ft=(nt<2?1:5)-nt,ct=b.borders[nt];if(ct.length===0)continue;const vt=dt=se[nt](u),At=de(vt);if(!(At&&At instanceof n.FillExtrusionBucket&&At.enableTerrain)||b.borderDoneWithNeighborZ[nt]===At.canonical.z&&At.borderDoneWithNeighborZ[ft]===b.canonical.z||(lt=F.findDEMTileFor(vt),!lt||!lt.dem))continue;if(!at){const Zt=F.findDEMTileFor(u);if(!Zt||!Zt.dem)return;at=Zt}const wt=At.borders[ft];let zt=0;const Qt=At.borderDoneWithNeighborZ[ft]!==b.canonical.z;if(b.canonical.z===At.canonical.z){for(let Zt=0;Zt<ct.length;Zt++){const Gt=b.featuresOnBorder[ct[Zt]],wi=Gt.borders[nt];let Yt;for(;zt<wt.length&&(Yt=At.featuresOnBorder[wt[zt]],!(Yt.borders[ft][1]>wi[0]+3));)Qt&&At.encodeCentroid(void 0,Yt,!1),zt++;if(Yt&&zt<wt.length){const pi=zt;let ti=0;for(;!(Yt.borders[ft][0]>wi[1]-3)&&(ti++,++zt!==wt.length);)Yt=At.featuresOnBorder[wt[zt]];if(Yt=At.featuresOnBorder[wt[pi]],Gt.intersectsCount()>1||Yt.intersectsCount()>1||ti!==1){ti!==1&&(zt=pi),b.encodeCentroid(void 0,Gt,!1),Qt&&At.encodeCentroid(void 0,Yt,!1);continue}const ki=Ne[nt](Gt,Yt),ii=nt%2?n.EXTENT-1:0;Ze.x=et(ki[0],Math.min(n.EXTENT-1,ki[1]),ii,nt<2,ki[2]),Ze.y=0,b.encodeCentroid(Ze,Gt,!1),Qt&&At.encodeCentroid(Ze,Yt,!1)}else b.encodeCentroid(void 0,Gt,!1)}b.borderDoneWithNeighborZ[nt]=At.canonical.z,b.needsCentroidUpdate=!0,Qt&&(At.borderDoneWithNeighborZ[ft]=b.canonical.z,At.needsCentroidUpdate=!0)}else{for(const Zt of ct)b.encodeCentroid(void 0,b.featuresOnBorder[Zt],!1);if(Qt){for(const Zt of wt)At.encodeCentroid(void 0,At.featuresOnBorder[Zt],!1);At.borderDoneWithNeighborZ[ft]=b.canonical.z,At.needsCentroidUpdate=!0}b.borderDoneWithNeighborZ[nt]=At.canonical.z,b.needsCentroidUpdate=!0}}(b.needsCentroidUpdate||!b.centroidVertexBuffer&&b.centroidVertexArray.length!==0)&&b.uploadCentroid(y)}const zn=new n.Color(1,0,0,1),_s=new n.Color(0,1,0,1),yr=new n.Color(0,0,1,1),Ss=new n.Color(1,0,1,1),jl=new n.Color(0,1,1,1);function Hc(y,l,u){const b=y.context,I=y.transform,F=b.gl,se=I.projection.name==="globe",de=se?["PROJECTION_GLOBE_VIEW"]:null;let fe=u.projMatrix;if(se&&n.globeToMercatorTransition(I.zoom)>0){const Gt=n.transitionTileAABBinECEF(u.canonical,I),wi=n.globeDenormalizeECEF(Gt);fe=n.multiply(new Float32Array(16),I.globeMatrix,wi),n.multiply(fe,I.projMatrix,fe)}const De=y.useProgram("debug",null,de),ke=l.getTileByID(u.key);y.terrain&&y.terrain.setupElevationDraw(ke,De);const Ne=n.DepthMode.disabled,Ze=n.StencilMode.disabled,at=y.colorModeForRenderPass(),lt="$debug";b.activeTexture.set(F.TEXTURE0),y.emptyTexture.bind(F.LINEAR,F.CLAMP_TO_EDGE),se?ke._makeGlobeTileDebugBuffers(y.context,I):ke._makeDebugTileBoundsBuffers(y.context,I.projection);const dt=ke._tileDebugBuffer||y.debugBuffer,et=ke._tileDebugIndexBuffer||y.debugIndexBuffer,nt=ke._tileDebugSegments||y.debugSegments;De.draw(b,F.LINE_STRIP,Ne,Ze,at,n.CullFaceMode.disabled,yl(fe,n.Color.red),lt,dt,et,nt,null,null,null,[ke._globeTileDebugBorderBuffer]);const ft=ke.latestRawTileData,ct=Math.floor((ft&&ft.byteLength||0)/1024),vt=l.getTile(u).tileSize,At=512/Math.min(vt,512)*(u.overscaledZ/I.zoom)*.5;let wt=u.canonical.toString();u.overscaledZ!==u.canonical.z&&(wt+=` => ${u.overscaledZ}`),wt+=` ${ct}kb`,function(Gt,wi){Gt.initDebugOverlayCanvas();const Yt=Gt.debugOverlayCanvas,pi=Gt.context.gl,ti=Gt.debugOverlayCanvas.getContext("2d");ti.clearRect(0,0,Yt.width,Yt.height),ti.shadowColor="white",ti.shadowBlur=2,ti.lineWidth=1.5,ti.strokeStyle="white",ti.textBaseline="top",ti.font="bold 36px Open Sans, sans-serif",ti.fillText(wi,5,5),ti.strokeText(wi,5,5),Gt.debugOverlayTexture.update(Yt),Gt.debugOverlayTexture.bind(pi.LINEAR,pi.CLAMP_TO_EDGE)}(y,wt);const zt=ke._tileDebugTextBuffer||y.debugBuffer,Qt=ke._tileDebugTextIndexBuffer||y.quadTriangleIndexBuffer,Zt=ke._tileDebugTextSegments||y.debugSegments;De.draw(b,F.TRIANGLES,Ne,Ze,n.ColorMode.alphaBlended,n.CullFaceMode.disabled,yl(fe,n.Color.transparent,At),lt,zt,Qt,Zt,null,null,null,[ke._globeTileDebugTextBuffer])}function go(y,l,u,b){Et(y,0,l+u/2,y.transform.width,u,b)}function st(y,l,u,b){Et(y,l-u/2,0,u,y.transform.height,b)}function Et(y,l,u,b,I,F){const se=y.context,de=se.gl;de.enable(de.SCISSOR_TEST),de.scissor(l*n.exported.devicePixelRatio,u*n.exported.devicePixelRatio,b*n.exported.devicePixelRatio,I*n.exported.devicePixelRatio),se.clear({color:F}),de.disable(de.SCISSOR_TEST)}const Bt=n.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:_i}=Bt;function Ut(y,l,u,b){y.emplaceBack(l,u,b)}class ri{constructor(l){this.vertexArray=new n.StructArrayLayout3f12,this.indices=new n.StructArrayLayout3ui6,Ut(this.vertexArray,-1,-1,1),Ut(this.vertexArray,1,-1,1),Ut(this.vertexArray,-1,1,1),Ut(this.vertexArray,1,1,1),Ut(this.vertexArray,-1,-1,-1),Ut(this.vertexArray,1,-1,-1),Ut(this.vertexArray,-1,1,-1),Ut(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=l.createVertexBuffer(this.vertexArray,_i),this.indexBuffer=l.createIndexBuffer(this.indices),this.segment=n.SegmentVector.simpleSegment(0,0,36,12)}}function Mi(y,l,u,b,I,F){const se=y.gl,de=l.paint.get("sky-atmosphere-color"),fe=l.paint.get("sky-atmosphere-halo-color"),De=l.paint.get("sky-atmosphere-sun-intensity"),ke=((Ne,Ze,at,lt,dt)=>({u_matrix_3f:Ne,u_sun_direction:Ze,u_sun_intensity:at,u_color_tint_r:[lt.r,lt.g,lt.b,lt.a],u_color_tint_m:[dt.r,dt.g,dt.b,dt.a],u_luminance:5e-5}))(n.fromMat4(n.create$1(),b),I,De,de,fe);se.framebufferTexture2D(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_CUBE_MAP_POSITIVE_X+F,l.skyboxTexture,0),u.draw(y,se.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.frontCW,ke,"skyboxCapture",l.skyboxGeometry.vertexBuffer,l.skyboxGeometry.indexBuffer,l.skyboxGeometry.segment)}const qi=n.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Ii{constructor(l){const u=new n.StructArrayLayout5f20;u.emplaceBack(-1,1,1,0,0),u.emplaceBack(1,1,1,1,0),u.emplaceBack(1,-1,1,1,1),u.emplaceBack(-1,-1,1,0,1);const b=new n.StructArrayLayout3ui6;b.emplaceBack(0,1,2),b.emplaceBack(2,3,0),this.vertexBuffer=l.createVertexBuffer(u,qi.members),this.indexBuffer=l.createIndexBuffer(b),this.segments=n.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Tn={symbol:function(y,l,u,b,I){if(y.renderPass!=="translucent")return;const F=n.StencilMode.disabled,se=y.colorModeForRenderPass();u.layout.get("text-variable-anchor")&&function(de,fe,De,ke,Ne,Ze,at){const lt=fe.transform,dt=Ne==="map",et=Ze==="map";for(const nt of de){const ft=ke.getTile(nt),ct=ft.getBucket(De);if(!ct||!ct.text||!ct.text.segments.get().length)continue;const vt=n.evaluateSizeForZoom(ct.textSizeData,lt.zoom),At=Ba(nt,ct.getProjection(),lt),wt=lt.calculatePixelsToTileUnitsMatrix(ft),zt=to(At,ft.tileID.canonical,et,dt,lt,ct.getProjection(),wt),Qt=De.layout.get("icon-text-fit")!=="none"&&ct.hasIconData();if(vt){const Zt=Math.pow(2,lt.zoom-ft.tileID.overscaledZ);Wh(ct,dt,et,at,n.symbolSize,lt,zt,nt,Zt,vt,Qt)}}}(b,y,u,l,u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),I),u.paint.get("icon-opacity").constantOr(1)!==0&&mo(y,l,u,b,!1,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),u.layout.get("icon-rotation-alignment"),u.layout.get("icon-pitch-alignment"),u.layout.get("icon-keep-upright"),F,se),u.paint.get("text-opacity").constantOr(1)!==0&&mo(y,l,u,b,!0,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),u.layout.get("text-keep-upright"),F,se),l.map.showCollisionBoxes&&(Eo(y,l,u,b,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),!0),Eo(y,l,u,b,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),!1))},circle:function(y,l,u,b){if(y.renderPass!=="translucent")return;const I=u.paint.get("circle-opacity"),F=u.paint.get("circle-stroke-width"),se=u.paint.get("circle-stroke-opacity"),de=u.layout.get("circle-sort-key").constantOr(1)!==void 0;if(I.constantOr(1)===0&&(F.constantOr(1)===0||se.constantOr(1)===0))return;const fe=y.context,De=fe.gl,ke=y.transform,Ne=y.depthModeForSublayer(0,n.DepthMode.ReadOnly),Ze=n.StencilMode.disabled,at=y.colorModeForRenderPass(),lt=ke.projection.name==="globe",dt=[n.mercatorXfromLng(ke.center.lng),n.mercatorYfromLat(ke.center.lat)],et=[];for(let ft=0;ft<b.length;ft++){const ct=b[ft],vt=l.getTile(ct),At=vt.getBucket(u);if(!At||At.projection.name!==ke.projection.name)continue;const wt=At.programConfigurations.get(u.id),zt=yh(u);lt&&zt.push("PROJECTION_GLOBE_VIEW");const Qt=y.useProgram("circle",wt,zt),Zt=At.layoutVertexBuffer,Gt=At.globeExtVertexBuffer,wi=At.indexBuffer,Yt=ke.projection.createInversionMatrix(ke,ct.canonical),pi={programConfiguration:wt,program:Qt,layoutVertexBuffer:Zt,globeExtVertexBuffer:Gt,indexBuffer:wi,uniformValues:zl(y,ct,vt,Yt,dt,u),tile:vt};if(de){const ti=At.segments.get();for(const ki of ti)et.push({segments:new n.SegmentVector([ki]),sortKey:ki.sortKey,state:pi})}else et.push({segments:At.segments,sortKey:0,state:pi})}de&&et.sort((ft,ct)=>ft.sortKey-ct.sortKey);const nt={useDepthForOcclusion:!lt};for(const ft of et){const{programConfiguration:ct,program:vt,layoutVertexBuffer:At,globeExtVertexBuffer:wt,indexBuffer:zt,uniformValues:Qt,tile:Zt}=ft.state,Gt=ft.segments;y.terrain&&y.terrain.setupElevationDraw(Zt,vt,nt),y.prepareDrawProgram(fe,vt,Zt.tileID.toUnwrapped()),vt.draw(fe,De.TRIANGLES,Ne,Ze,at,n.CullFaceMode.disabled,Qt,u.id,At,zt,Gt,u.paint,ke.zoom,ct,[wt])}},heatmap:function(y,l,u,b){if(u.paint.get("heatmap-opacity")!==0)if(y.renderPass==="offscreen"){const I=y.context,F=I.gl,se=n.StencilMode.disabled,de=new n.ColorMode([F.ONE,F.ONE],n.Color.transparent,[!0,!0,!0,!0]);(function(at,lt,dt,et){const nt=at.gl,ft=lt.width*et,ct=lt.height*et;at.activeTexture.set(nt.TEXTURE1),at.viewport.set([0,0,ft,ct]);let vt=dt.heatmapFbo;if(!vt||vt&&(vt.width!==ft||vt.height!==ct)){vt&&vt.destroy();const At=nt.createTexture();nt.bindTexture(nt.TEXTURE_2D,At),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_S,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_T,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MIN_FILTER,nt.LINEAR),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MAG_FILTER,nt.LINEAR),vt=dt.heatmapFbo=at.createFramebuffer(ft,ct,!1),function(wt,zt,Qt,Zt,Gt,wi){const Yt=wt.gl;Yt.texImage2D(Yt.TEXTURE_2D,0,Yt.RGBA,Gt,wi,0,Yt.RGBA,wt.extRenderToTextureHalfFloat?wt.extTextureHalfFloat.HALF_FLOAT_OES:Yt.UNSIGNED_BYTE,null),Zt.colorAttachment.set(Qt)}(at,0,At,vt,ft,ct)}else nt.bindTexture(nt.TEXTURE_2D,vt.colorAttachment.get()),at.bindFramebuffer.set(vt.framebuffer)})(I,y,u,y.transform.projection.name==="globe"?.5:.25),I.clear({color:n.Color.transparent});const fe=y.transform,De=fe.projection.name==="globe",ke=De?["PROJECTION_GLOBE_VIEW"]:null,Ne=De?n.CullFaceMode.frontCCW:n.CullFaceMode.disabled,Ze=[n.mercatorXfromLng(fe.center.lng),n.mercatorYfromLat(fe.center.lat)];for(let at=0;at<b.length;at++){const lt=b[at];if(l.hasRenderableParent(lt))continue;const dt=l.getTile(lt),et=dt.getBucket(u);if(!et||et.projection.name!==fe.projection.name)continue;const nt=et.programConfigurations.get(u.id),ft=y.useProgram("heatmap",nt,ke),{zoom:ct}=y.transform;y.terrain&&y.terrain.setupElevationDraw(dt,ft),y.prepareDrawProgram(I,ft,lt.toUnwrapped());const vt=fe.projection.createInversionMatrix(fe,lt.canonical);ft.draw(I,F.TRIANGLES,n.DepthMode.disabled,se,de,Ne,vl(y,lt,dt,vt,Ze,ct,u.paint.get("heatmap-intensity")),u.id,et.layoutVertexBuffer,et.indexBuffer,et.segments,u.paint,y.transform.zoom,nt,De?[et.globeExtVertexBuffer]:null)}I.viewport.set([0,0,y.width,y.height])}else y.renderPass==="translucent"&&(y.context.setColorMode(y.colorModeForRenderPass()),function(I,F){const se=I.context,de=se.gl,fe=F.heatmapFbo;if(!fe)return;se.activeTexture.set(de.TEXTURE0),de.bindTexture(de.TEXTURE_2D,fe.colorAttachment.get()),se.activeTexture.set(de.TEXTURE1);let De=F.colorRampTexture;De||(De=F.colorRampTexture=new n.Texture(se,F.colorRamp,de.RGBA)),De.bind(de.LINEAR,de.CLAMP_TO_EDGE),I.useProgram("heatmapTexture").draw(se,de.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,I.colorModeForRenderPass(),n.CullFaceMode.disabled,((ke,Ne,Ze,at)=>({u_image:0,u_color_ramp:1,u_opacity:Ne.paint.get("heatmap-opacity")}))(0,F),F.id,I.viewportBuffer,I.quadTriangleIndexBuffer,I.viewportSegments,F.paint,I.transform.zoom)}(y,u))},line:function(y,l,u,b){if(y.renderPass!=="translucent")return;const I=u.paint.get("line-opacity"),F=u.paint.get("line-width");if(I.constantOr(1)===0||F.constantOr(1)===0)return;const se=y.depthModeForSublayer(0,n.DepthMode.ReadOnly),de=y.colorModeForRenderPass(),fe=y.terrain&&y.terrain.renderingToTexture?1:n.exported.devicePixelRatio,De=u.paint.get("line-dasharray"),ke=De.constantOr(1),Ne=u.layout.get("line-cap"),Ze=u.paint.get("line-pattern"),at=Ze.constantOr(1),lt=u.paint.get("line-gradient"),dt=at?"linePattern":"line",et=y.context,nt=et.gl,ft=(vt=>{const At=[];$c(vt)&&At.push("RENDER_LINE_DASH"),vt.paint.get("line-gradient")&&At.push("RENDER_LINE_GRADIENT");const wt=vt.paint.get("line-trim-offset");wt[0]===0&&wt[1]===0||At.push("RENDER_LINE_TRIM_OFFSET");const zt=vt.paint.get("line-pattern").constantOr(1),Qt=vt.paint.get("line-opacity").constantOr(1)!==1;return!zt&&Qt&&At.push("RENDER_LINE_ALPHA_DISCARD"),At})(u);let ct=ft.includes("RENDER_LINE_ALPHA_DISCARD");y.terrain&&y.terrain.clipOrMaskOverlapStencilType()&&(ct=!1);for(const vt of b){const At=l.getTile(vt);if(at&&!At.patternsLoaded())continue;const wt=At.getBucket(u);if(!wt)continue;y.prepareDrawTile();const zt=wt.programConfigurations.get(u.id),Qt=y.useProgram(dt,zt,ft),Zt=Ze.constantOr(null);if(Zt&&At.imageAtlas){const vi=At.imageAtlas.patternPositions[Zt.toString()];vi&&zt.setConstantPatternPositions(vi)}const Gt=De.constantOr(null),wi=Ne.constantOr(null);if(!at&&Gt&&wi&&At.lineAtlas){const vi=At.lineAtlas.getDash(Gt,wi);vi&&zt.setConstantPatternPositions(vi)}let[Yt,pi]=u.paint.get("line-trim-offset");(wi==="round"||wi==="square")&&Yt!==pi&&(Yt===0&&(Yt-=1),pi===1&&(pi+=1));const ti=y.terrain?vt.projMatrix:null,ki=at?Ho(y,At,u,ti,fe):vh(y,At,u,ti,wt.lineClipsArray.length,fe,[Yt,pi]);if(lt){const vi=wt.gradients[u.id];let Li=vi.texture;if(u.gradientVersion!==vi.version){let $t=256;if(u.stepInterpolant){const ei=l.getSource().maxzoom,on=vt.canonical.z===ei?Math.ceil(1<<y.transform.maxZoom-vt.canonical.z):1;$t=n.clamp(n.nextPowerOfTwo(wt.maxLineLength/n.EXTENT*1024*on),256,et.maxTextureSize)}vi.gradient=n.renderColorRamp({expression:u.gradientExpression(),evaluationKey:"lineProgress",resolution:$t,image:vi.gradient||void 0,clips:wt.lineClipsArray}),vi.texture?vi.texture.update(vi.gradient):vi.texture=new n.Texture(et,vi.gradient,nt.RGBA),vi.version=u.gradientVersion,Li=vi.texture}et.activeTexture.set(nt.TEXTURE1),Li.bind(u.stepInterpolant?nt.NEAREST:nt.LINEAR,nt.CLAMP_TO_EDGE)}ke&&(et.activeTexture.set(nt.TEXTURE0),At.lineAtlasTexture.bind(nt.LINEAR,nt.REPEAT),zt.updatePaintBuffers()),at&&(et.activeTexture.set(nt.TEXTURE0),At.imageAtlasTexture.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),zt.updatePaintBuffers()),y.prepareDrawProgram(et,Qt,vt.toUnwrapped());const ii=vi=>{Qt.draw(et,nt.TRIANGLES,se,vi,de,n.CullFaceMode.disabled,ki,u.id,wt.layoutVertexBuffer,wt.indexBuffer,wt.segments,u.paint,y.transform.zoom,zt,[wt.layoutVertexBuffer2])};if(ct){const vi=y.stencilModeForClipping(vt).ref;vi===0&&y.terrain&&et.clear({stencil:0});const Li={func:nt.EQUAL,mask:255};ki.u_alpha_discard_threshold=.8,ii(new n.StencilMode(Li,vi,255,nt.KEEP,nt.KEEP,nt.INVERT)),ki.u_alpha_discard_threshold=0,ii(new n.StencilMode(Li,vi,255,nt.KEEP,nt.KEEP,nt.KEEP))}else ii(y.stencilModeForClipping(vt))}ct&&(y.resetStencilClippingMasks(),y.terrain&&et.clear({stencil:0}))},fill:function(y,l,u,b){const I=u.paint.get("fill-color"),F=u.paint.get("fill-opacity");if(F.constantOr(1)===0)return;const se=y.colorModeForRenderPass(),de=u.paint.get("fill-pattern"),fe=y.opaquePassEnabledForLayer()&&!de.constantOr(1)&&I.constantOr(n.Color.transparent).a===1&&F.constantOr(0)===1?"opaque":"translucent";if(y.renderPass===fe){const De=y.depthModeForSublayer(1,y.renderPass==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly);gi(y,l,u,b,De,se,!1)}if(y.renderPass==="translucent"&&u.paint.get("fill-antialias")){const De=y.depthModeForSublayer(u.getPaintProperty("fill-outline-color")?2:0,n.DepthMode.ReadOnly);gi(y,l,u,b,De,se,!0)}},"fill-extrusion":function(y,l,u,b){const I=u.paint.get("fill-extrusion-opacity");if(I!==0&&y.renderPass==="translucent"){const F=new n.DepthMode(y.context.gl.LEQUAL,n.DepthMode.ReadWrite,y.depthRangeFor3D);if(I!==1||u.paint.get("fill-extrusion-pattern").constantOr(1))li(y,l,u,b,F,n.StencilMode.disabled,n.ColorMode.disabled),li(y,l,u,b,F,y.stencilModeFor3D(),y.colorModeForRenderPass()),y.resetStencilClippingMasks();else{const se=y.colorModeForRenderPass();li(y,l,u,b,F,n.StencilMode.disabled,se)}}},hillshade:function(y,l,u,b){if(y.renderPass!=="offscreen"&&y.renderPass!=="translucent")return;const I=y.context,F=y.depthModeForSublayer(0,n.DepthMode.ReadOnly),se=y.colorModeForRenderPass(),de=y.terrain&&y.terrain.renderingToTexture,[fe,De]=y.renderPass!=="translucent"||de?[{},b]:y.stencilConfigForOverlap(b);for(const ke of De){const Ne=l.getTile(ke);if(Ne.needsHillshadePrepare&&y.renderPass==="offscreen")Jn(y,Ne,u,F,n.StencilMode.disabled,se);else if(y.renderPass==="translucent"){const Ze=de&&y.terrain?y.terrain.stencilModeForRTTOverlap(ke):fe[ke.overscaledZ];qs(y,ke,Ne,u,F,Ze,se)}}I.viewport.set([0,0,y.width,y.height]),y.resetStencilClippingMasks()},raster:function(y,l,u,b,I,F){if(y.renderPass!=="translucent"||u.paint.get("raster-opacity")===0||!b.length)return;const se=y.context,de=se.gl,fe=l.getSource(),De=y.useProgram("raster"),ke=y.colorModeForRenderPass(),Ne=y.terrain&&y.terrain.renderingToTexture,[Ze,at]=fe instanceof Pt||Ne?[{},b]:y.stencilConfigForOverlap(b),lt=at[at.length-1].overscaledZ,dt=!y.options.moving;for(const et of at){const nt=Ne?n.DepthMode.disabled:y.depthModeForSublayer(et.overscaledZ-lt,u.paint.get("raster-opacity")===1?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly,de.LESS),ft=et.toUnwrapped(),ct=l.getTile(et);if(Ne&&(!ct||!ct.hasData()))continue;const vt=Ne?et.projMatrix:y.transform.calculateProjMatrix(ft,dt),At=y.terrain&&Ne?y.terrain.stencilModeForRTTOverlap(et):Ze[et.overscaledZ],wt=F?0:u.paint.get("raster-fade-duration");ct.registerFadeDuration(wt);const zt=l.findLoadedParent(et,0),Qt=wo(ct,zt,l,y.transform,wt);let Zt,Gt;y.terrain&&y.terrain.prepareDrawTile();const wi=u.paint.get("raster-resampling")==="nearest"?de.NEAREST:de.LINEAR;se.activeTexture.set(de.TEXTURE0),ct.texture.bind(wi,de.CLAMP_TO_EDGE),se.activeTexture.set(de.TEXTURE1),zt?(zt.texture.bind(wi,de.CLAMP_TO_EDGE),Zt=Math.pow(2,zt.tileID.overscaledZ-ct.tileID.overscaledZ),Gt=[ct.tileID.canonical.x*Zt%1,ct.tileID.canonical.y*Zt%1]):ct.texture.bind(wi,de.CLAMP_TO_EDGE);const Yt=Fl(vt,Gt||[0,0],Zt||1,Qt,u,fe instanceof Pt?fe.perspectiveTransform:[0,0]);if(y.prepareDrawProgram(se,De,ft),fe instanceof Pt)fe.boundsBuffer&&fe.boundsSegments&&De.draw(se,de.TRIANGLES,nt,n.StencilMode.disabled,ke,n.CullFaceMode.disabled,Yt,u.id,fe.boundsBuffer,y.quadTriangleIndexBuffer,fe.boundsSegments);else{const{tileBoundsBuffer:pi,tileBoundsIndexBuffer:ti,tileBoundsSegments:ki}=y.getTileBoundsBuffers(ct);De.draw(se,de.TRIANGLES,nt,At,ke,n.CullFaceMode.disabled,Yt,u.id,pi,ti,ki)}}y.resetStencilClippingMasks()},background:function(y,l,u,b){const I=u.paint.get("background-color"),F=u.paint.get("background-opacity");if(F===0)return;const se=y.context,de=se.gl,fe=y.transform,De=fe.tileSize,ke=u.paint.get("background-pattern");if(y.isPatternMissing(ke))return;const Ne=!ke&&I.a===1&&F===1&&y.opaquePassEnabledForLayer()?"opaque":"translucent";if(y.renderPass!==Ne)return;const Ze=n.StencilMode.disabled,at=y.depthModeForSublayer(0,Ne==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly),lt=y.colorModeForRenderPass(),dt=y.useProgram(ke?"backgroundPattern":"background");let et,nt=b;nt||(et=y.getBackgroundTiles(),nt=Object.values(et).map(ft=>ft.tileID)),ke&&(se.activeTexture.set(de.TEXTURE0),y.imageManager.bind(y.context));for(const ft of nt){const ct=ft.toUnwrapped(),vt=b?ft.projMatrix:y.transform.calculateProjMatrix(ct);y.prepareDrawTile();const At=l?l.getTile(ft):et?et[ft.key]:new n.Tile(ft,De,fe.zoom,y),wt=ke?ss(vt,F,y,ke,{tileID:ft,tileSize:De}):Ed(vt,F,I);y.prepareDrawProgram(se,dt,ct);const{tileBoundsBuffer:zt,tileBoundsIndexBuffer:Qt,tileBoundsSegments:Zt}=y.getTileBoundsBuffers(At);dt.draw(se,de.TRIANGLES,at,Ze,lt,n.CullFaceMode.disabled,wt,u.id,zt,Qt,Zt)}},sky:function(y,l,u){const b=y.transform,I=b.projection.name==="mercator"||b.projection.name==="globe"?1:n.smoothstep(7,8,b.zoom),F=u.paint.get("sky-opacity")*I;if(F===0)return;const se=y.context,de=u.paint.get("sky-type"),fe=new n.DepthMode(se.gl.LEQUAL,n.DepthMode.ReadOnly,[0,1]),De=y.frameCounter/1e3%1;de==="atmosphere"?y.renderPass==="offscreen"?u.needsSkyboxCapture(y)&&(function(ke,Ne,Ze,at){const lt=ke.context,dt=lt.gl;let et=Ne.skyboxFbo;if(!et){et=Ne.skyboxFbo=lt.createFramebuffer(32,32,!1),Ne.skyboxGeometry=new ri(lt),Ne.skyboxTexture=lt.gl.createTexture(),dt.bindTexture(dt.TEXTURE_CUBE_MAP,Ne.skyboxTexture),dt.texParameteri(dt.TEXTURE_CUBE_MAP,dt.TEXTURE_WRAP_S,dt.CLAMP_TO_EDGE),dt.texParameteri(dt.TEXTURE_CUBE_MAP,dt.TEXTURE_WRAP_T,dt.CLAMP_TO_EDGE),dt.texParameteri(dt.TEXTURE_CUBE_MAP,dt.TEXTURE_MIN_FILTER,dt.LINEAR),dt.texParameteri(dt.TEXTURE_CUBE_MAP,dt.TEXTURE_MAG_FILTER,dt.LINEAR);for(let vt=0;vt<6;++vt)dt.texImage2D(dt.TEXTURE_CUBE_MAP_POSITIVE_X+vt,0,dt.RGBA,32,32,0,dt.RGBA,dt.UNSIGNED_BYTE,null)}lt.bindFramebuffer.set(et.framebuffer),lt.viewport.set([0,0,32,32]);const nt=Ne.getCenter(ke,!0),ft=ke.useProgram("skyboxCapture"),ct=new Float64Array(16);n.identity(ct),n.rotateY(ct,ct,.5*-Math.PI),Mi(lt,Ne,ft,ct,nt,0),n.identity(ct),n.rotateY(ct,ct,.5*Math.PI),Mi(lt,Ne,ft,ct,nt,1),n.identity(ct),n.rotateX(ct,ct,.5*-Math.PI),Mi(lt,Ne,ft,ct,nt,2),n.identity(ct),n.rotateX(ct,ct,.5*Math.PI),Mi(lt,Ne,ft,ct,nt,3),n.identity(ct),Mi(lt,Ne,ft,ct,nt,4),n.identity(ct),n.rotateY(ct,ct,Math.PI),Mi(lt,Ne,ft,ct,nt,5),lt.viewport.set([0,0,ke.width,ke.height])}(y,u),u.markSkyboxValid(y)):y.renderPass==="sky"&&function(ke,Ne,Ze,at,lt){const dt=ke.context,et=dt.gl,nt=ke.transform,ft=ke.useProgram("skybox");dt.activeTexture.set(et.TEXTURE0),et.bindTexture(et.TEXTURE_CUBE_MAP,Ne.skyboxTexture);const ct=((vt,At,wt,zt,Qt)=>({u_matrix:vt,u_sun_direction:At,u_cubemap:0,u_opacity:zt,u_temporal_offset:Qt}))(nt.skyboxMatrix,Ne.getCenter(ke,!1),0,at,lt);ke.prepareDrawProgram(dt,ft),ft.draw(dt,et.TRIANGLES,Ze,n.StencilMode.disabled,ke.colorModeForRenderPass(),n.CullFaceMode.backCW,ct,"skybox",Ne.skyboxGeometry.vertexBuffer,Ne.skyboxGeometry.indexBuffer,Ne.skyboxGeometry.segment)}(y,u,fe,F,De):de==="gradient"&&y.renderPass==="sky"&&function(ke,Ne,Ze,at,lt){const dt=ke.context,et=dt.gl,nt=ke.transform,ft=ke.useProgram("skyboxGradient");Ne.skyboxGeometry||(Ne.skyboxGeometry=new ri(dt)),dt.activeTexture.set(et.TEXTURE0);let ct=Ne.colorRampTexture;ct||(ct=Ne.colorRampTexture=new n.Texture(dt,Ne.colorRamp,et.RGBA)),ct.bind(et.LINEAR,et.CLAMP_TO_EDGE);const vt=((At,wt,zt,Qt,Zt)=>({u_matrix:At,u_color_ramp:0,u_center_direction:wt,u_radius:n.degToRad(zt),u_opacity:Qt,u_temporal_offset:Zt}))(nt.skyboxMatrix,Ne.getCenter(ke,!1),Ne.paint.get("sky-gradient-radius"),at,lt);ke.prepareDrawProgram(dt,ft),ft.draw(dt,et.TRIANGLES,Ze,n.StencilMode.disabled,ke.colorModeForRenderPass(),n.CullFaceMode.backCW,vt,"skyboxGradient",Ne.skyboxGeometry.vertexBuffer,Ne.skyboxGeometry.indexBuffer,Ne.skyboxGeometry.segment)}(y,u,fe,F,De)},debug:function(y,l,u){for(let b=0;b<u.length;b++)Hc(y,l,u[b])},custom:function(y,l,u){const b=y.context,I=u.implementation;if(y.transform.projection.unsupportedLayers&&y.transform.projection.unsupportedLayers.includes("custom"))n.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(y.renderPass==="offscreen"){const F=I.prerender;F&&(y.setCustomLayerDefaults(),b.setColorMode(y.colorModeForRenderPass()),F.call(I,b.gl,y.transform.customLayerMatrix()),b.setDirty(),y.setBaseState())}else if(y.renderPass==="translucent"){y.setCustomLayerDefaults(),b.setColorMode(y.colorModeForRenderPass()),b.setStencilMode(n.StencilMode.disabled);const F=I.renderingMode==="3d"?new n.DepthMode(y.context.gl.LEQUAL,n.DepthMode.ReadWrite,y.depthRangeFor3D):y.depthModeForSublayer(0,n.DepthMode.ReadOnly);b.setDepthMode(F),I.render(b.gl,y.transform.customLayerMatrix()),b.setDirty(),y.setBaseState(),b.bindFramebuffer.set(null)}}};class An{constructor(l,u){this.context=new Fe(l),this.transform=u,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=n.SourceCache.maxUnderzooming+n.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Oo,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(l,u){const b=!!l&&!!l.terrain&&this.transform.projection.supportsTerrain;if(!(b||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new lo(this,l));const I=this._terrain;this.transform.elevation=b?I:null,I.update(l,this.transform,u)}_updateFog(l){const u=l.fog;if(!u||this.transform.projection.name==="globe"||u.getOpacity(this.transform.pitch)<1||u.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[b,I]=u.getFovAdjustedRange(this.transform._fov);if(b>I)return void(this.transform.fogCullDistSq=null);const F=b+.78*(I-b);this.transform.fogCullDistSq=F*F}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(l,u){if(this.width=l*n.exported.devicePixelRatio,this.height=u*n.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const b of this.style.order)this.style._layers[b].resize()}setup(){const l=this.context,u=new n.StructArrayLayout2i4;u.emplaceBack(0,0),u.emplaceBack(n.EXTENT,0),u.emplaceBack(0,n.EXTENT),u.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=l.createVertexBuffer(u,n.posAttributes.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);const b=new n.StructArrayLayout2i4;b.emplaceBack(0,0),b.emplaceBack(n.EXTENT,0),b.emplaceBack(0,n.EXTENT),b.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=l.createVertexBuffer(b,n.posAttributes.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);const I=new n.StructArrayLayout2i4;I.emplaceBack(-1,-1),I.emplaceBack(1,-1),I.emplaceBack(-1,1),I.emplaceBack(1,1),this.viewportBuffer=l.createVertexBuffer(I,n.posAttributes.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);const F=new n.StructArrayLayout4i8;F.emplaceBack(0,0,0,0),F.emplaceBack(n.EXTENT,0,n.EXTENT,0),F.emplaceBack(0,n.EXTENT,0,n.EXTENT),F.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.mercatorBoundsBuffer=l.createVertexBuffer(F,n.boundsAttributes.members),this.mercatorBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);const se=new n.StructArrayLayout3ui6;se.emplaceBack(0,1,2),se.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=l.createIndexBuffer(se);const de=new n.StructArrayLayout1ui2;for(const De of[0,1,3,2,0])de.emplaceBack(De);this.debugIndexBuffer=l.createIndexBuffer(de),this.emptyTexture=new n.Texture(l,new n.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),l.gl.RGBA),this.identityMat=n.create();const fe=this.context.gl;this.stencilClearMode=new n.StencilMode({func:fe.ALWAYS,mask:0},0,255,fe.ZERO,fe.ZERO,fe.ZERO),this.loadTimeStamps.push(n.window.performance.now()),this.atmosphereBuffer=new Ii(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(l){return l._makeTileBoundsBuffers(this.context,this.transform.projection),l._tileBoundsBuffer?{tileBoundsBuffer:l._tileBoundsBuffer,tileBoundsIndexBuffer:l._tileBoundsIndexBuffer,tileBoundsSegments:l._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const l=this.context,u=l.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(l,u.TRIANGLES,n.DepthMode.disabled,this.stencilClearMode,n.ColorMode.disabled,n.CullFaceMode.disabled,Or(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(l,u,b){if(!u||this.currentStencilSource===u.id||!l.isTileClipped()||!b||b.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let de=!1;for(const fe of b)if(this._tileClippingMaskIDs[fe.key]===void 0){de=!0;break}if(!de)return}this.currentStencilSource=u.id;const I=this.context,F=I.gl;this.nextStencilID+b.length>256&&this.clearStencil(),I.setColorMode(n.ColorMode.disabled),I.setDepthMode(n.DepthMode.disabled);const se=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const de of b){const fe=u.getTile(de),De=this._tileClippingMaskIDs[de.key]=this.nextStencilID++,{tileBoundsBuffer:ke,tileBoundsIndexBuffer:Ne,tileBoundsSegments:Ze}=this.getTileBoundsBuffers(fe);se.draw(I,F.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:F.ALWAYS,mask:0},De,255,F.KEEP,F.KEEP,F.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,Or(de.projMatrix),"$clipping",ke,Ne,Ze)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const l=this.nextStencilID++,u=this.context.gl;return new n.StencilMode({func:u.NOTEQUAL,mask:255},l,255,u.KEEP,u.KEEP,u.REPLACE)}stencilModeForClipping(l){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(l);const u=this.context.gl;return new n.StencilMode({func:u.EQUAL,mask:255},this._tileClippingMaskIDs[l.key],0,u.KEEP,u.KEEP,u.REPLACE)}stencilConfigForOverlap(l){const u=this.context.gl,b=l.sort((se,de)=>de.overscaledZ-se.overscaledZ),I=b[b.length-1].overscaledZ,F=b[0].overscaledZ-I+1;if(F>1){this.currentStencilSource=void 0,this.nextStencilID+F>256&&this.clearStencil();const se={};for(let de=0;de<F;de++)se[de+I]=new n.StencilMode({func:u.GEQUAL,mask:255},de+this.nextStencilID,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID+=F,[se,b]}return[{[I]:n.StencilMode.disabled},b]}colorModeForRenderPass(){const l=this.context.gl;return this._showOverdrawInspector?new n.ColorMode([l.CONSTANT_COLOR,l.ONE],new n.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?n.ColorMode.unblended:n.ColorMode.alphaBlended}depthModeForSublayer(l,u,b){if(!this.opaquePassEnabledForLayer())return n.DepthMode.disabled;const I=1-((1+this.currentLayer)*this.numSublayers+l)*this.depthEpsilon;return new n.DepthMode(b||this.context.gl.LEQUAL,u,[I,I])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(l,u){this.style=l,this.options=u,this.imageManager=l.imageManager,this.glyphManager=l.glyphManager,this.symbolFadeChange=l.placement.symbolFadeChange(n.exported.now()),this.imageManager.beginFrame();const b=this.style.order,I=this.style._sourceCaches;for(const fe in I){const De=I[fe];De.used&&De.prepare(this.context)}const F={},se={},de={};for(const fe in I){const De=I[fe];F[fe]=De.getVisibleCoordinates(),se[fe]=F[fe].slice().reverse(),de[fe]=De.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let fe=0;fe<b.length;fe++)if(this.style._layers[b[fe]].is3D()){this.opaquePassCutoff=fe;break}if(this.terrain&&(this.terrain.updateTileBinding(de),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new n.GlobeSharedBuffers(this.context)),n.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const fe of b){const De=this.style._layers[fe],ke=l._getLayerSourceCache(De);if(!De.hasOffscreenPass()||De.isHidden(this.transform.zoom))continue;const Ne=ke?se[ke.id]:void 0;(De.type==="custom"||De.isSky()||Ne&&Ne.length)&&this.renderLayer(this,ke,De,Ne)}if(this.depthRangeFor3D=[0,1-(l.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:u.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=u.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=b.length-1;this.currentLayer>=0;this.currentLayer--){const fe=this.style._layers[b[this.currentLayer]],De=l._getLayerSourceCache(fe);if(fe.isSky())continue;const ke=De?se[De.id]:void 0;this._renderTileClippingMasks(fe,De,ke),this.renderLayer(this,De,fe,ke)}if(this.style.fog&&this.transform.projection.supportsFog&&function(fe,De){const ke=fe.context,Ne=ke.gl,Ze=fe.transform,at=new n.DepthMode(Ne.LEQUAL,n.DepthMode.ReadOnly,[0,1]),lt=fe.useProgram("globeAtmosphere",null,Ze.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),dt=n.globeToMercatorTransition(Ze.zoom),et=De.properties.get("color").toArray01(),nt=De.properties.get("high-color").toArray01(),ft=De.properties.get("space-color").toArray01PremultipliedAlpha(),ct=n.identity$1([]);n.rotateY$1(ct,ct,-n.degToRad(Ze._center.lng)),n.rotateX$1(ct,ct,n.degToRad(Ze._center.lat)),n.rotateZ$1(ct,ct,Ze.angle),n.rotateX$1(ct,ct,-Ze._pitch);const vt=n.fromQuat(new Float32Array(16),ct),At=n.mapValue(De.properties.get("star-intensity"),0,1,0,.25),wt=5e-4,zt=n.mapValue(De.properties.get("horizon-blend"),0,1,wt,.25),Qt=n.globeUseCustomAntiAliasing(fe,ke,Ze)&&zt===wt?Ze.worldSize/(2*Math.PI*1.025)-1:Ze.globeRadius,Zt=fe.frameCounter/1e3%1,Gt=n.length(Ze.globeCenterInViewSpace),wi=Math.sqrt(Math.pow(Gt,2)-Math.pow(Qt,2)),Yt=Math.acos(wi/Gt),pi=((ki,ii,vi,Li,$t,ei,on,pn,an,kn,Wn,_n,Ji,Fs)=>({u_frustum_tl:ki,u_frustum_tr:ii,u_frustum_br:vi,u_frustum_bl:Li,u_horizon:$t,u_transition:ei,u_fadeout_range:on,u_color:pn,u_high_color:an,u_space_color:kn,u_star_intensity:Wn,u_star_size:5*n.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:_n,u_horizon_angle:Ji,u_rotation_matrix:Fs}))(Ze.frustumCorners.TL,Ze.frustumCorners.TR,Ze.frustumCorners.BR,Ze.frustumCorners.BL,Ze.frustumCorners.horizon,dt,zt,et,nt,ft,At,Zt,Yt,vt);fe.prepareDrawProgram(ke,lt);const ti=fe.atmosphereBuffer;ti&&lt.draw(ke,Ne.TRIANGLES,at,n.StencilMode.disabled,n.ColorMode.alphaBlended,n.CullFaceMode.backCW,pi,"skybox",ti.vertexBuffer,ti.indexBuffer,ti.segments)}(this,this.style.fog),this.renderPass="sky",(n.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<b.length;this.currentLayer++){const fe=this.style._layers[b[this.currentLayer]],De=l._getLayerSourceCache(fe);fe.isSky()&&this.renderLayer(this,De,fe,De?se[De.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<b.length;){const fe=this.style._layers[b[this.currentLayer]],De=l._getLayerSourceCache(fe);if(fe.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(fe)){if(fe.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const ke=De?(fe.type==="symbol"?de:se)[De.id]:void 0;this._renderTileClippingMasks(fe,De,De?F[De.id]:void 0),this.renderLayer(this,De,fe,ke),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let fe=null;n.values(this.style._layers).forEach(De=>{const ke=l._getLayerSourceCache(De);ke&&!De.isHidden(this.transform.zoom)&&(!fe||fe.getSource().maxzoom<ke.getSource().maxzoom)&&(fe=ke)}),fe&&this.options.showTileBoundaries&&Tn.debug(this,fe,fe.getVisibleCoordinates())}this.options.showPadding&&function(fe){const De=fe.transform.padding;go(fe,fe.transform.height-(De.top||0),3,zn),go(fe,De.bottom||0,3,_s),st(fe,De.left||0,3,yr),st(fe,fe.transform.width-(De.right||0),3,Ss);const ke=fe.transform.centerPoint;(function(Ne,Ze,at,lt){Et(Ne,Ze-1,at-10,2,20,lt),Et(Ne,Ze-10,at-1,20,2,lt)})(fe,ke.x,fe.transform.height-ke.y,jl)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(n.window.performance.now()),this.saveCanvasCopy())}}renderLayer(l,u,b,I){b.isHidden(this.transform.zoom)||(b.type==="background"||b.type==="sky"||b.type==="custom"||I&&I.length)&&(this.id=b.id,this.gpuTimingStart(b),l.transform.projection.unsupportedLayers&&l.transform.projection.unsupportedLayers.includes(b.type)||Tn[b.type](l,u,b,I,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(l){if(!this.options.gpuTiming)return;const u=this.context.extTimerQuery;let b=this.gpuTimers[l.id];b||(b=this.gpuTimers[l.id]={calls:0,cpuTime:0,query:u.createQueryEXT()}),b.calls++,u.beginQueryEXT(u.TIME_ELAPSED_EXT,b.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const l=this.context.extTimerQuery,u=l.createQueryEXT();this.deferredRenderGpuTimeQueries.push(u),l.beginQueryEXT(l.TIME_ELAPSED_EXT,u)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const l=this.context.extTimerQuery;l.endQueryEXT(l.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery;l.endQueryEXT(l.TIME_ELAPSED_EXT)}collectGpuTimers(){const l=this.gpuTimers;return this.gpuTimers={},l}collectDeferredRenderGpuQueries(){const l=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],l}queryGpuTimers(l){const u={};for(const b in l){const I=l[b],F=this.context.extTimerQuery,se=F.getQueryObjectEXT(I.query,F.QUERY_RESULT_EXT)/1e6;F.deleteQueryEXT(I.query),u[b]=se}return u}queryGpuTimeDeferredRender(l){if(!this.options.gpuTimingDeferredRender)return 0;const u=this.context.extTimerQuery;let b=0;for(const I of l)b+=u.getQueryObjectEXT(I,u.QUERY_RESULT_EXT)/1e6,u.deleteQueryEXT(I);return b}translatePosMatrix(l,u,b,I,F){if(!b[0]&&!b[1])return l;const se=F?I==="map"?this.transform.angle:0:I==="viewport"?-this.transform.angle:0;if(se){const De=Math.sin(se),ke=Math.cos(se);b=[b[0]*ke-b[1]*De,b[0]*De+b[1]*ke]}const de=[F?b[0]:J(u,b[0],this.transform.zoom),F?b[1]:J(u,b[1],this.transform.zoom),0],fe=new Float32Array(16);return n.translate(fe,l,de),fe}saveTileTexture(l){const u=this._tileTextures[l.size[0]];u?u.push(l):this._tileTextures[l.size[0]]=[l]}getTileTexture(l){const u=this._tileTextures[l];return u&&u.length>0?u.pop():null}isPatternMissing(l){return l===null||l!==void 0&&!this.imageManager.getPattern(l.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const l=this.terrain&&this.terrain.renderingToTexture,u=this.terrain&&this.terrain.exaggeration()===0,b=this.style&&this.style.fog,I=[];return this.terrainRenderModeElevated()&&I.push("TERRAIN"),this.transform.projection.name==="globe"&&I.push("GLOBE"),u&&I.push("ZERO_EXAGGERATION"),b&&!l&&b.getOpacity(this.transform.pitch)!==0&&I.push("FOG"),l&&I.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&I.push("OVERDRAW_INSPECTOR"),I}useProgram(l,u,b){this.cache=this.cache||{};const I=b||[],F=this.currentGlobalDefines().concat(I),se=Ro.cacheKey(ni[l],l,F,u);return this.cache[se]||(this.cache[se]=new Ro(this.context,l,ni[l],u,fo[l],F)),this.cache[se]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const l=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(l.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(l,u,b){if(this.terrain&&this.terrain.renderingToTexture)return;const I=this.style.fog;if(I){const F=I.getOpacity(this.transform.pitch),se=((de,fe,De,ke,Ne,Ze,at,lt,dt,et,nt)=>{const ft=de.transform,ct=fe.properties.get("color").toArray01();ct[3]=ke;const vt=de.frameCounter/1e3%1;return{u_fog_matrix:De?ft.calculateFogTileMatrix(De):de.identityMat,u_fog_range:fe.getFovAdjustedRange(ft._fov),u_fog_color:ct,u_fog_horizon_blend:fe.properties.get("horizon-blend"),u_fog_temporal_offset:vt,u_frustum_tl:Ne,u_frustum_tr:Ze,u_frustum_br:at,u_frustum_bl:lt,u_globe_pos:dt,u_globe_radius:et,u_viewport:nt,u_globe_transition:n.globeToMercatorTransition(ft.zoom),u_is_globe:+(ft.projection.name==="globe")}})(this,I,b,F,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*n.exported.devicePixelRatio,this.transform.height*n.exported.devicePixelRatio]);u.setFogUniformValues(l,se)}}setTileLoadedFlag(l){this.tileLoaded=l}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const l=this.context.gl,u=l.createTexture();return l.bindTexture(l.TEXTURE_2D,u),l.copyTexImage2D(l.TEXTURE_2D,0,l.RGBA,0,0,l.drawingBufferWidth,l.drawingBufferHeight,0),u}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const l=this.style&&this.style.fog;return!!l&&l.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const l=this._backgroundTiles,u=this._backgroundTiles={},b=this.transform.coveringTiles({tileSize:512});for(const I of b)u[I.key]=l[I.key]||new n.Tile(I,512,this.transform.tileZoom,this);return u}clearBackgroundTiles(){this._backgroundTiles={}}}class Pn{constructor(l=0,u=0,b=0,I=0){if(isNaN(l)||l<0||isNaN(u)||u<0||isNaN(b)||b<0||isNaN(I)||I<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=l,this.bottom=u,this.left=b,this.right=I}interpolate(l,u,b){return u.top!=null&&l.top!=null&&(this.top=n.number(l.top,u.top,b)),u.bottom!=null&&l.bottom!=null&&(this.bottom=n.number(l.bottom,u.bottom,b)),u.left!=null&&l.left!=null&&(this.left=n.number(l.left,u.left,b)),u.right!=null&&l.right!=null&&(this.right=n.number(l.right,u.right,b)),this}getCenter(l,u){const b=n.clamp((this.left+l-this.right)/2,0,l),I=n.clamp((this.top+u-this.bottom)/2,0,u);return new n.pointGeometry(b,I)}equals(l){return this.top===l.top&&this.bottom===l.bottom&&this.left===l.left&&this.right===l.right}clone(){return new Pn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Gn(y,l){const u=n.getColumn(y,3);n.fromQuat(y,l),n.setColumn(y,3,u)}function ls(y,l){const u=n.identity$1([]);return n.rotateZ$1(u,u,-l),n.rotateX$1(u,u,-y),u}function bn(y,l){const u=[y[0],y[1],0],b=[l[0],l[1],0];if(n.length(u)>=1e-15){const se=n.normalize([],u);n.scale$2(b,se,n.dot(b,se)),l[0]=b[0],l[1]=b[1]}const I=n.cross([],l,y);if(n.len(I)<1e-15)return null;const F=Math.atan2(-I[1],I[0]);return ls(Math.atan2(Math.sqrt(y[0]*y[0]+y[1]*y[1]),-y[2]),F)}class xe{constructor(l,u){this.position=l,this.orientation=u}get position(){return this._position}set position(l){if(l){const u=l instanceof n.MercatorCoordinate?l:new n.MercatorCoordinate(l[0],l[1],l[2]);this._renderWorldCopies&&(u.x=n.wrap(u.x,0,1)),this._position=u}else this._position=null}lookAtPoint(l,u){if(this.orientation=null,!this.position)return;const b=this._elevation?this._elevation.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(l)):0,I=this.position,F=n.MercatorCoordinate.fromLngLat(l,b),se=[F.x-I.x,F.y-I.y,F.z-I.z];u||(u=[0,0,1]),u[2]=Math.abs(u[2]),this.orientation=bn(se,u)}setPitchBearing(l,u){this.orientation=ls(n.degToRad(l),n.degToRad(-u))}}class Se{constructor(l,u){this._transform=n.identity([]),this.orientation=u,this.position=l}get mercatorPosition(){const l=this.position;return new n.MercatorCoordinate(l[0],l[1],l[2])}get position(){const l=n.getColumn(this._transform,3);return[l[0],l[1],l[2]]}set position(l){var u;l&&n.setColumn(this._transform,3,[(u=l)[0],u[1],u[2],1])}get orientation(){return this._orientation}set orientation(l){this._orientation=l||n.identity$1([]),l&&Gn(this._transform,this._orientation)}getPitchBearing(){const l=this.forward(),u=this.right();return{bearing:Math.atan2(-u[1],u[0]),pitch:Math.atan2(Math.sqrt(l[0]*l[0]+l[1]*l[1]),-l[2])}}setPitchBearing(l,u){this._orientation=ls(l,u),Gn(this._transform,this._orientation)}forward(){const l=n.getColumn(this._transform,2);return[-l[0],-l[1],-l[2]]}up(){const l=n.getColumn(this._transform,1);return[-l[0],-l[1],-l[2]]}right(){const l=n.getColumn(this._transform,0);return[l[0],l[1],l[2]]}getCameraToWorld(l,u){const b=new Float64Array(16);return n.invert(b,this.getWorldToCamera(l,u)),b}getWorldToCameraPosition(l,u,b){const I=this.position;n.scale$2(I,I,-l);const F=new Float64Array(16);return n.fromScaling(F,[b,b,b]),n.translate(F,F,I),F[10]*=u,F}getWorldToCamera(l,u){const b=new Float64Array(16),I=new Float64Array(4),F=this.position;return n.conjugate(I,this._orientation),n.scale$2(F,F,-l),n.fromQuat(b,I),n.translate(b,b,F),b[1]*=-1,b[5]*=-1,b[9]*=-1,b[13]*=-1,b[8]*=u,b[9]*=u,b[10]*=u,b[11]*=u,b}getCameraToClipPerspective(l,u,b,I){const F=new Float64Array(16);return n.perspective(F,l,u,b,I),F}getDistanceToElevation(l,u=!1){const b=l===0?0:n.mercatorZfromAltitude(l,u?n.latFromMercatorY(this.position[1]):this.position[1]),I=this.forward();return(b-this.position[2])/I[2]}clone(){return new Se([...this.position],[...this.orientation])}}function Ve(y,l){const u=bi(y.projection,y.zoom,y.width,y.height),b=function(F,se,de,fe,De){const ke=new n.LngLat(de.lng-180*un,de.lat),Ne=new n.LngLat(de.lng+180*un,de.lat),Ze=F.project(ke.lng,ke.lat),at=F.project(Ne.lng,Ne.lat),lt=-Math.atan2(at.y-Ze.y,at.x-Ze.x),dt=n.MercatorCoordinate.fromLngLat(de);dt.y=n.clamp(dt.y,-.999975,.999975);const et=dt.toLngLat(),nt=F.project(et.lng,et.lat),ft=n.MercatorCoordinate.fromLngLat(et);ft.x+=un;const ct=ft.toLngLat(),vt=F.project(ct.lng,ct.lat),At=Rr(vt.x-nt.x,vt.y-nt.y,lt),wt=n.MercatorCoordinate.fromLngLat(et);wt.y+=un;const zt=wt.toLngLat(),Qt=F.project(zt.lng,zt.lat),Zt=Rr(Qt.x-nt.x,Qt.y-nt.y,lt),Gt=Math.abs(At.x)/Math.abs(Zt.y),wi=n.identity([]);n.rotateZ(wi,wi,-lt*(1-(De?0:fe)));const Yt=n.identity([]);return n.scale(Yt,Yt,[1,1-(1-Gt)*fe,1]),Yt[4]=-Zt.x/Zt.y*fe,n.rotateZ(Yt,Yt,lt),n.multiply(Yt,wi,Yt),Yt}(y.projection,0,y.center,u,l),I=yt(y);return n.scale(b,b,[I,I,1]),b}function yt(y){const l=y.projection,u=bi(y.projection,y.zoom,y.width,y.height),b=rs(l,y.center),I=rs(l,n.LngLat.convert(l.center));return Math.pow(2,b*u+(1-u)*I)}function bi(y,l,u,b,I=1/0){const F=y.range;if(!F)return 0;const se=Math.min(I,Math.max(u,b)),de=Math.log(se/1024)/Math.LN2;return n.smoothstep(F[0]+de,F[1]+de,l)}const un=1/4e4;function rs(y,l){const u=n.clamp(l.lat,-n.MAX_MERCATOR_LATITUDE,n.MAX_MERCATOR_LATITUDE),b=new n.LngLat(l.lng-180*un,u),I=new n.LngLat(l.lng+180*un,u),F=y.project(b.lng,u),se=y.project(I.lng,u),de=n.MercatorCoordinate.fromLngLat(b),fe=n.MercatorCoordinate.fromLngLat(I),De=se.x-F.x,ke=se.y-F.y,Ne=fe.x-de.x,Ze=fe.y-de.y,at=Math.sqrt((Ne*Ne+Ze*Ze)/(De*De+ke*ke));return Math.log(at)/Math.LN2}function Rr(y,l,u){const b=Math.cos(u),I=Math.sin(u);return{x:y*b-l*I,y:y*I+l*b}}class vr{constructor(l,u,b,I,F,se,de){this.tileSize=512,this._renderWorldCopies=F===void 0||F,this._minZoom=l||0,this._maxZoom=u||22,this._minPitch=b??0,this._maxPitch=I??60,this.setProjection(se),this.setMaxBounds(de),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Pn,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Se,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const l=new vr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return l._elevation=this._elevation,l._centerAltitude=this._centerAltitude,l._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,l.tileSize=this.tileSize,l.mercatorFromTransition=this.mercatorFromTransition,l.width=this.width,l.height=this.height,l.cameraElevationReference=this.cameraElevationReference,l._center=this._center,l._setZoom(this.zoom),l._seaLevelZoom=this._seaLevelZoom,l.angle=this.angle,l._fov=this._fov,l._pitch=this._pitch,l._nearZ=this._nearZ,l._farZ=this._farZ,l._averageElevation=this._averageElevation,l._unmodified=this._unmodified,l._edgeInsets=this._edgeInsets.clone(),l._camera=this._camera.clone(),l._calcMatrices(),l.freezeTileCoverage=this.freezeTileCoverage,l.frustumCorners=this.frustumCorners,l}get elevation(){return this._elevation}set elevation(l){this._elevation!==l&&(this._elevation=l,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(l,u=!1){const b=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||b)&&this._updateCameraOnTerrain(),(l||b)&&this._constrainCamera(u),this._calcMatrices()}getProjection(){return n.pick(this.projection,["name","center","parallels"])}setProjection(l){this.projectionOptions=l||{name:"mercator"};const u=this.projection?this.getProjection():void 0;this.projection=n.getProjection(this.projectionOptions);const b=!S(u,this.getProjection());return b&&this._calcMatrices(),this.mercatorFromTransition=!1,b}setMercatorFromTransition(){const l=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=n.getProjection({name:"mercator"});const u=l!==this.projection.name;return u&&this._calcMatrices(),u}get minZoom(){return this._minZoom}set minZoom(l){this._minZoom!==l&&(this._minZoom=l,this.zoom=Math.max(this.zoom,l))}get maxZoom(){return this._maxZoom}set maxZoom(l){this._maxZoom!==l&&(this._maxZoom=l,this.zoom=Math.min(this.zoom,l))}get minPitch(){return this._minPitch}set minPitch(l){this._minPitch!==l&&(this._minPitch=l,this.pitch=Math.max(this.pitch,l))}get maxPitch(){return this._maxPitch}set maxPitch(l){this._maxPitch!==l&&(this._maxPitch=l,this.pitch=Math.min(this.pitch,l))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(l){l===void 0?l=!0:l===null&&(l=!1),this._renderWorldCopies=l}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const l=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(l))}get cameraWorldSize(){const l=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(l))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return n.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new n.pointGeometry(this.width,this.height)}get bearing(){return n.wrap(this.rotation,-180,180)}set bearing(l){this.rotation=l}get rotation(){return-this.angle/Math.PI*180}set rotation(l){const u=-l*Math.PI/180;var b;this.angle!==u&&(this._unmodified=!1,this.angle=u,this._calcMatrices(),this.rotationMatrix=(b=new n.ARRAY_TYPE(4),n.ARRAY_TYPE!=Float32Array&&(b[1]=0,b[2]=0),b[0]=1,b[3]=1,b),function(I,F,se){var de=F[0],fe=F[1],De=F[2],ke=F[3],Ne=Math.sin(se),Ze=Math.cos(se);I[0]=de*Ze+De*Ne,I[1]=fe*Ze+ke*Ne,I[2]=de*-Ne+De*Ze,I[3]=fe*-Ne+ke*Ze}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(l){const u=n.clamp(l,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==u&&(this._unmodified=!1,this._pitch=u,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const l=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/l)}set fov(l){l=Math.max(.01,Math.min(60,l)),this._fov!==l&&(this._unmodified=!1,this._fov=n.degToRad(l),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(l){this._averageElevation=l,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(l){const u=Math.min(Math.max(l,this.minZoom),this.maxZoom);this._zoom!==u&&(this._unmodified=!1,this._setZoom(u),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(l){this._zoom=l,this.scale=this.zoomScale(l),this.tileZoom=Math.floor(l),this.zoomFraction=l-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const l=this._elevation;this._centerAltitude=l.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=l.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const l=this._elevation,u=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],b=this.horizonLineFromTop();let I=0,F=0;for(let se=0;se<u.length;se++){const de=new n.pointGeometry(u[se][0]*this.width,b+u[se][1]*(this.height-b)),fe=l.pointCoordinate(de);if(!fe)continue;const De=1/Math.hypot(fe[0]-this._camera.position[0],fe[1]-this._camera.position[1]);I+=fe[3]*De,F+=De}return F===0?NaN:I/F}get center(){return this._center}set center(l){l.lat===this._center.lat&&l.lng===this._center.lng||(this._unmodified=!1,this._center=l,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const l=this._seaLevelZoom,u=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),b=this.pixelsPerMeter/this.worldSize*u,I=this._mercatorZfromZoom(l),F=this._mercatorZfromZoom(this._maxZoom),se=Math.max(I-b,F);this._setZoom(this._zoomFromMercatorZ(se))}get padding(){return this._edgeInsets.toJSON()}set padding(l){this._edgeInsets.equals(l)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,l,1),this._calcMatrices())}computeZoomRelativeTo(l){const u=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,l.toAltitude()));let b;b=l.z<this._camera.position[2]?[u.x,u.y,u.z]:[l.x,l.y,l.z];const I=n.length(n.sub([],this._camera.position,b));return n.clamp(this._zoomFromMercatorZ(I),this._minZoom,this._maxZoom)}setFreeCameraOptions(l){if(!this.height||!l.position&&!l.orientation)return;this._updateCameraState();let u=!1;if(l.orientation&&!n.exactEquals(l.orientation,this._camera.orientation)&&(u=this._setCameraOrientation(l.orientation)),l.position){const b=[l.position.x,l.position.y,l.position.z];n.exactEquals$1(b,this._camera.position)||(this._setCameraPosition(b),u=!0)}u&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const l=this._camera.position,u=new xe;return u.position=new n.MercatorCoordinate(l[0],l[1],l[2]),u.orientation=this._camera.orientation,u._elevation=this.elevation,u._renderWorldCopies=this.renderWorldCopies,u}_setCameraOrientation(l){if(!n.length$1(l))return!1;n.normalize$1(l,l);const u=n.transformQuat([],[0,0,-1],l),b=n.transformQuat([],[0,-1,0],l);if(b[2]<0)return!1;const I=bn(u,b);return!!I&&(this._camera.orientation=I,!0)}_setCameraPosition(l){const u=this.zoomScale(this.minZoom)*this.tileSize,b=this.zoomScale(this.maxZoom)*this.tileSize,I=this.cameraToCenterDistance;l[2]=n.clamp(l[2],I/b,I/u),this._camera.position=l}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(l){return this._edgeInsets.equals(l)}interpolatePadding(l,u,b){this._unmodified=!1,this._edgeInsets.interpolate(l,u,b),this._constrain(),this._calcMatrices()}coveringZoomLevel(l){const u=(l.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/l.tileSize));return Math.max(0,u)}getVisibleUnwrappedCoordinates(l){const u=[new n.UnwrappedTileID(0,l)];if(this.renderWorldCopies){const b=this.pointCoordinate(new n.pointGeometry(0,0)),I=this.pointCoordinate(new n.pointGeometry(this.width,0)),F=this.pointCoordinate(new n.pointGeometry(this.width,this.height)),se=this.pointCoordinate(new n.pointGeometry(0,this.height)),de=Math.floor(Math.min(b.x,I.x,F.x,se.x)),fe=Math.floor(Math.max(b.x,I.x,F.x,se.x)),De=1;for(let ke=de-De;ke<=fe+De;ke++)ke!==0&&u.push(new n.UnwrappedTileID(ke,l))}return u}coveringTiles(l){let u=this.coveringZoomLevel(l);const b=u,I=this.elevation&&!l.isTerrainDEM,F=this.projection.name==="mercator";if(l.minzoom!==void 0&&u<l.minzoom)return[];l.maxzoom!==void 0&&u>l.maxzoom&&(u=l.maxzoom);const se=this.locationCoordinate(this.center),de=this.center.lat,fe=1<<u,De=[fe*se.x,fe*se.y,0],ke=this.projection.name==="globe",Ne=!ke,Ze=n.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,u,Ne),at=ke?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),lt=fe*n.mercatorZfromAltitude(1,this.center.lat),dt=this._camera.position[2]/n.mercatorZfromAltitude(1,this.center.lat),et=[fe*at.x,fe*at.y,dt*(Ne?1:lt)],nt=this.cameraToCenterDistance/l.tileSize*(l.roundZoom?1:.502),ft=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?u:0,ct=l.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,vt=l.isTerrainDEM?-ct:this._elevation?this._elevation.getMinElevationBelowMSL():0,At=this.projection.isReprojectedInTileSpace?yt(this):1,wt=ii=>{const Li=new n.MercatorCoordinate(ii.x+25e-6,ii.y,ii.z),$t=new n.MercatorCoordinate(ii.x,ii.y+25e-6,ii.z),ei=ii.toLngLat(),on=Li.toLngLat(),pn=$t.toLngLat(),an=this.locationCoordinate(ei),kn=this.locationCoordinate(on),Wn=this.locationCoordinate(pn),_n=Math.hypot(kn.x-an.x,kn.y-an.y),Ji=Math.hypot(Wn.x-an.x,Wn.y-an.y);return Math.sqrt(_n*Ji)*At/25e-6},zt=ii=>{const vi=ct,Li=vt;return{aabb:n.tileAABB(this,fe,0,0,0,ii,Li,vi,this.projection),zoom:0,x:0,y:0,minZ:Li,maxZ:vi,wrap:ii,fullyVisible:!1}},Qt=[];let Zt=[];const Gt=u,wi=l.reparseOverscaled?b:u,Yt=ii=>ii*ii,pi=Yt((dt-this._centerAltitude)*lt),ti=ii=>{if(!this._elevation||!ii.tileID||!F)return;const vi=this._elevation.getMinMaxForTile(ii.tileID),Li=ii.aabb;vi?(Li.min[2]=vi.min,Li.max[2]=vi.max,Li.center[2]=(Li.min[2]+Li.max[2])/2):(ii.shouldSplit=ki(ii),ii.shouldSplit||(Li.min[2]=Li.max[2]=Li.center[2]=this._centerAltitude))},ki=ii=>{if(ii.zoom<ft)return!0;if(ii.zoom===Gt)return!1;if(ii.shouldSplit!=null)return ii.shouldSplit;const vi=ii.aabb.distanceX(et),Li=ii.aabb.distanceY(et);let $t=pi,ei=1;if(ke){$t=Yt(ii.aabb.distanceZ(et));const an=Math.pow(2,ii.zoom),kn=n.latFromMercatorY((ii.y+1)/an),Wn=n.latFromMercatorY(ii.y/an),_n=Math.min(Math.max(de,kn),Wn),Ji=n.circumferenceAtLatitude(_n)/n.circumferenceAtLatitude(de);if(ei=_n===de?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Ji/this._mercatorScaleRatio),this.zoom<=n.GLOBE_ZOOM_THRESHOLD_MIN&&ii.zoom===Gt-1&&Ji>=.9)return!0}else if(I&&($t=Yt(ii.aabb.distanceZ(et)*lt)),this.projection.isReprojectedInTileSpace&&b<=5){const an=Math.pow(2,ii.zoom),kn=wt(new n.MercatorCoordinate((ii.x+.5)/an,(ii.y+.5)/an));ei=kn>.85?1:kn}const on=vi*vi+Li*Li+$t,pn=Yt((1<<Gt-ii.zoom)*nt*ei*((an,kn)=>{if(kn*Yt(.707)<an)return 1;const Wn=Math.sqrt(kn/an);return Wn/(1.4144271570014144+(Math.pow(1.1,Wn-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max($t,pi),on));return on<pn};if(this.renderWorldCopies)for(let ii=1;ii<=3;ii++)Qt.push(zt(-ii)),Qt.push(zt(ii));for(Qt.push(zt(0));Qt.length>0;){const ii=Qt.pop(),vi=ii.x,Li=ii.y;let $t=ii.fullyVisible;if(!$t){const ei=ii.aabb.intersects(Ze);if(ei===0)continue;$t=ei===2}if(ii.zoom!==Gt&&ki(ii))for(let ei=0;ei<4;ei++){const on=(vi<<1)+ei%2,pn=(Li<<1)+(ei>>1),an={aabb:F?ii.aabb.quadrant(ei):n.tileAABB(this,fe,ii.zoom+1,on,pn,ii.wrap,ii.minZ,ii.maxZ,this.projection),zoom:ii.zoom+1,x:on,y:pn,wrap:ii.wrap,fullyVisible:$t,tileID:void 0,shouldSplit:void 0,minZ:ii.minZ,maxZ:ii.maxZ};I&&!ke&&(an.tileID=new n.OverscaledTileID(ii.zoom+1===Gt?wi:ii.zoom+1,ii.wrap,ii.zoom+1,on,pn),ti(an)),Qt.push(an)}else{const ei=ii.zoom===Gt?wi:ii.zoom;if(l.minzoom&&l.minzoom>ei)continue;const on=De[0]-(.5+vi+(ii.wrap<<ii.zoom))*(1<<u-ii.zoom),pn=De[1]-.5-Li,an=ii.tileID?ii.tileID:new n.OverscaledTileID(ei,ii.wrap,ii.zoom,vi,Li);Zt.push({tileID:an,distanceSq:on*on+pn*pn})}}if(this.fogCullDistSq){const ii=this.fogCullDistSq,vi=this.horizonLineFromTop();Zt=Zt.filter(Li=>{const $t=[0,0,0,1],ei=[n.EXTENT,n.EXTENT,0,1],on=this.calculateFogTileMatrix(Li.tileID.toUnwrapped());n.transformMat4$1($t,$t,on),n.transformMat4$1(ei,ei,on);const pn=n.getAABBPointSquareDist($t,ei);if(pn===0)return!0;let an=!1;const kn=this._elevation;if(kn&&pn>ii&&vi!==0){const Wn=this.calculateProjMatrix(Li.tileID.toUnwrapped());let _n;l.isTerrainDEM||(_n=kn.getMinMaxForTile(Li.tileID)),_n||(_n={min:vt,max:ct});const Ji=n.furthestTileCorner(this.rotation),Fs=[Ji[0]*n.EXTENT,Ji[1]*n.EXTENT,_n.max];n.transformMat4(Fs,Fs,Wn),an=(1-Fs[1])*this.height*.5<vi}return pn<ii||an})}return Zt.sort((ii,vi)=>ii.distanceSq-vi.distanceSq).map(ii=>ii.tileID)}resize(l,u){this.width=l,this.height=u,this.pixelsToGLUnits=[2/l,-2/u],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(l){return Math.pow(2,l)}scaleZoom(l){return Math.log(l)/Math.LN2}project(l){const u=n.clamp(l.lat,-n.MAX_MERCATOR_LATITUDE,n.MAX_MERCATOR_LATITUDE),b=this.projection.project(l.lng,u);return new n.pointGeometry(b.x*this.worldSize,b.y*this.worldSize)}unproject(l){return this.projection.unproject(l.x/this.worldSize,l.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(l,u){let b,I;const F=this.centerPoint;if(this.projection.name==="globe"){const de=this.worldSize;b=(u.x-F.x)/de,I=(u.y-F.y)/de}else{const de=this.pointCoordinate(u),fe=this.pointCoordinate(F);b=de.x-fe.x,I=de.y-fe.y}const se=this.locationCoordinate(l);this.setLocation(new n.MercatorCoordinate(se.x-b,se.y-I))}setLocation(l){this.center=this.coordinateLocation(l),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(l){return this.projection.locationPoint(this,l)}locationPoint3D(l){return this.projection.locationPoint(this,l,!0)}pointLocation(l){return this.coordinateLocation(this.pointCoordinate(l))}pointLocation3D(l){return this.coordinateLocation(this.pointCoordinate3D(l))}locationCoordinate(l,u){const b=u?n.mercatorZfromAltitude(u,l.lat):void 0,I=this.projection.project(l.lng,l.lat);return new n.MercatorCoordinate(I.x,I.y,b)}coordinateLocation(l){return this.projection.unproject(l.x,l.y)}pointRayIntersection(l,u){const b=u??this._centerAltitude,I=[l.x,l.y,0,1],F=[l.x,l.y,1,1];n.transformMat4$1(I,I,this.pixelMatrixInverse),n.transformMat4$1(F,F,this.pixelMatrixInverse);const se=F[3];n.scale$1(I,I,1/I[3]),n.scale$1(F,F,1/se);const de=I[2],fe=F[2];return{p0:I,p1:F,t:de===fe?0:(b-de)/(fe-de)}}screenPointToMercatorRay(l){const u=[l.x,l.y,0,1],b=[l.x,l.y,1,1];return n.transformMat4$1(u,u,this.pixelMatrixInverse),n.transformMat4$1(b,b,this.pixelMatrixInverse),n.scale$1(u,u,1/u[3]),n.scale$1(b,b,1/b[3]),u[2]=n.mercatorZfromAltitude(u[2],this._center.lat)*this.worldSize,b[2]=n.mercatorZfromAltitude(b[2],this._center.lat)*this.worldSize,n.scale$1(u,u,1/this.worldSize),n.scale$1(b,b,1/this.worldSize),new n.Ray([u[0],u[1],u[2]],n.normalize([],n.sub([],b,u)))}rayIntersectionCoordinate(l){const{p0:u,p1:b,t:I}=l,F=n.mercatorZfromAltitude(u[2],this._center.lat),se=n.mercatorZfromAltitude(b[2],this._center.lat);return new n.MercatorCoordinate(n.number(u[0],b[0],I)/this.worldSize,n.number(u[1],b[1],I)/this.worldSize,n.number(F,se,I))}pointCoordinate(l,u=this._centerAltitude){return this.projection.pointCoordinate(this,l.x,l.y,u)}pointCoordinate3D(l){if(!this.elevation)return this.pointCoordinate(l);let u=this.projection.pointCoordinate3D(this,l.x,l.y);if(u)return new n.MercatorCoordinate(u[0],u[1],u[2]);let b=0,I=this.horizonLineFromTop();if(l.y>I)return this.pointCoordinate(l);const F=.02*I,se=l.clone();for(let de=0;de<10&&I-b>F;de++){se.y=n.number(b,I,.66);const fe=this.projection.pointCoordinate3D(this,se.x,se.y);fe?(I=se.y,u=fe):b=se.y}return u?new n.MercatorCoordinate(u[0],u[1],u[2]):this.pointCoordinate(l)}isPointAboveHorizon(l){return this.projection.isPointAboveHorizon(this,l)}_coordinatePoint(l,u){const b=u&&this.elevation?this.elevation.getAtPointOrZero(l,this._centerAltitude):this._centerAltitude,I=[l.x*this.worldSize,l.y*this.worldSize,b+l.toAltitude(),1];return n.transformMat4$1(I,I,this.pixelMatrix),I[3]>0?new n.pointGeometry(I[0]/I[3],I[1]/I[3]):new n.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:l,left:u}=this._edgeInsets,b=this.height-this._edgeInsets.bottom,I=this.width-this._edgeInsets.right,F=this.pointCoordinate3D(new n.pointGeometry(u,l)),se=this.pointCoordinate3D(new n.pointGeometry(I,l)),de=this.pointCoordinate3D(new n.pointGeometry(I,b)),fe=this.pointCoordinate3D(new n.pointGeometry(u,b));let De=Math.min(F.x,fe.x),ke=Math.max(se.x,de.x),Ne=Math.min(F.y,se.y),Ze=Math.max(fe.y,de.y);const at=Math.pow(2,-this.zoom)/16,lt=(wt,zt,Qt,Zt)=>{const Gt=(wt+Qt)/2,wi=(zt+Zt)/2,Yt=new n.pointGeometry(Gt,wi),pi=this.pointCoordinate3D(Yt),ti=Math.max(0,De-pi.x,Ne-pi.y,pi.x-ke,pi.y-Ze);De=Math.min(De,pi.x),ke=Math.max(ke,pi.x),Ne=Math.min(Ne,pi.y),Ze=Math.max(Ze,pi.y),ti>at&&(lt(wt,zt,Gt,wi),lt(Gt,wi,Qt,Zt))};lt(u,l,I,l),lt(I,l,I,b),lt(I,b,u,b),lt(u,b,u,l);const[dt,et]=n.polesInViewport(this),nt=dt||et,ft=dt?90:n.latFromMercatorY(Ne),ct=nt?180:n.lngFromMercatorX(ke),vt=et?-90:n.latFromMercatorY(Ze),At=nt?-180:n.lngFromMercatorX(De);return new n.LngLatBounds(new n.LngLat(At,vt),new n.LngLat(ct,ft))}_getBounds(l,u){if(this.projection.name==="globe")return this._getGlobeBounds();const b=new n.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),I=new n.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),F=new n.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),se=new n.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let de=this.pointCoordinate(b,l),fe=this.pointCoordinate(I,l);const De=this.pointCoordinate(F,u),ke=this.pointCoordinate(se,u),Ne=(Ze,at)=>(at.y-Ze.y)/(at.x-Ze.x);return de.y>1&&fe.y>=0?de=new n.MercatorCoordinate((1-ke.y)/Ne(ke,de)+ke.x,1):de.y<0&&fe.y<=1&&(de=new n.MercatorCoordinate(-ke.y/Ne(ke,de)+ke.x,0)),fe.y>1&&de.y>=0?fe=new n.MercatorCoordinate((1-De.y)/Ne(De,fe)+De.x,1):fe.y<0&&de.y<=1&&(fe=new n.MercatorCoordinate(-De.y/Ne(De,fe)+De.x,0)),new n.LngLatBounds().extend(this.coordinateLocation(de)).extend(this.coordinateLocation(fe)).extend(this.coordinateLocation(ke)).extend(this.coordinateLocation(De))}_getBounds3D(){const l=this.elevation;if(!l.visibleDemTiles.length||l.isUsingMockSource())return this._getBounds(0,0);const u=l.visibleDemTiles.reduce((b,I)=>{if(I.dem){const F=I.dem.tree;b.min=Math.min(b.min,F.minimums[0]),b.max=Math.max(b.max,F.maximums[0])}return b},{min:Number.MAX_VALUE,max:0});return this._getBounds(u.min*l.exaggeration(),u.max*l.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(l=!0){const u=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,b=this.height/2-u*(1-this._horizonShift);return l?Math.max(0,b):b}getMaxBounds(){return this.maxBounds}setMaxBounds(l){this.maxBounds=l,this.minLat=-n.MAX_MERCATOR_LATITUDE,this.maxLat=n.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,l&&(this.minLat=l.getSouth(),this.maxLat=l.getNorth(),this.minLng=l.getWest(),this.maxLng=l.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=n.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=n.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=n.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=n.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(l,u){return this.projection.createTileMatrix(this,u,l)}calculateDistanceTileData(l){const u=l.key,b=this._distanceTileDataCache;if(b[u])return b[u];const I=l.canonical,F=1/this.height,se=this.cameraWorldSize,de=se/this.zoomScale(I.z),fe=(I.x+Math.pow(2,I.z)*l.wrap)*de,De=I.y*de,ke=this.point;ke.x*=se/this.worldSize,ke.y*=se/this.worldSize;const Ne=this.angle,Ze=Math.sin(-Ne),at=-Math.cos(-Ne);return b[u]={bearing:[Ze,at],center:[(ke.x-fe)*F,(ke.y-De)*F],scale:de/n.EXTENT*F},b[u]}calculateFogTileMatrix(l){const u=l.key,b=this._fogTileMatrixCache;if(b[u])return b[u];const I=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,l);return n.multiply(I,this.worldToFogMatrix,I),b[u]=new Float32Array(I),b[u]}calculateProjMatrix(l,u=!1){const b=l.key,I=u?this._alignedProjMatrixCache:this._projMatrixCache;if(I[b])return I[b];const F=this.calculatePosMatrix(l,this.worldSize);return n.multiply(F,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:u?this.alignedProjMatrix:this.projMatrix,F),I[b]=new Float32Array(F),I[b]}calculatePixelsToTileUnitsMatrix(l){const u=l.tileID.key,b=this._pixelsToTileUnitsCache;if(b[u])return b[u];const I=function(F,se){const{scale:de}=F.tileTransform,fe=de*n.EXTENT/(F.tileSize*Math.pow(2,se.zoom-F.tileID.overscaledZ+F.tileID.canonical.z));return De=new Float32Array(4),Ze=(ke=se.inverseAdjustmentMatrix)[1],at=ke[2],lt=ke[3],et=(Ne=[fe,fe])[1],De[0]=ke[0]*(dt=Ne[0]),De[1]=Ze*dt,De[2]=at*et,De[3]=lt*et,De;var De,ke,Ne,Ze,at,lt,dt,et}(l,this);return b[u]=I,b[u]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const l=this._elevation;this._updateCameraState();const u=n.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,b=this._computeCameraPosition(u),I=this._camera.forward(),F=n.mercatorZfromAltitude(1,this._center.lat);b[2]/=F,I[2]/=F,n.normalize(I,I);const se=l.raycast(b,I,l.exaggeration());if(se){const de=n.scaleAndAdd([],b,I,se),fe=new n.MercatorCoordinate(de[0],de[1],n.mercatorZfromAltitude(de[2],n.latFromMercatorY(de[1]))),De=(fe.z+n.length([fe.x-b[0],fe.y-b[1],fe.z-b[2]*F]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(De),this._centerAltitude=fe.toAltitude(),this._center=this.coordinateLocation(fe),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(l=!1){if(!this._elevation)return;const u=this._elevation,b=n.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,I=this._computeCameraPosition(b),F=u.getAtPointOrZero(new n.MercatorCoordinate(...I)),se=this.pixelsPerMeter/this.worldSize*F,de=this._minimumHeightOverTerrain(),fe=I[2]-se;if(fe<=de)if(fe<0||l){const De=this.locationCoordinate(this._center,this._centerAltitude),ke=[I[0],I[1],De.z-I[2]],Ne=n.length(ke);ke[2]-=(de-fe)/this._pixelsPerMercatorPixel;const Ze=n.length(ke);if(Ze===0)return;n.scale$2(ke,ke,Ne/Ze*this._pixelsPerMercatorPixel),this._camera.position=[I[0],I[1],De.z*this._pixelsPerMercatorPixel-ke[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const l=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||l){const Ze=this.center;return Ze.lat=n.clamp(Ze.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!l)&&(Ze.lng=n.clamp(Ze.lng,this.minLng,this.maxLng)),this.center=Ze,void(this._constraining=!1)}const u=this._unmodified,{x:b,y:I}=this.point;let F=0,se=b,de=I;const fe=this.width/2,De=this.height/2,ke=this.worldMinY*this.scale,Ne=this.worldMaxY*this.scale;if(I-De<ke&&(de=ke+De),I+De>Ne&&(de=Ne-De),Ne-ke<this.height&&(F=Math.max(F,this.height/(Ne-ke)),de=(Ne+ke)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const Ze=this.worldMinX*this.scale,at=this.worldMaxX*this.scale,lt=this.worldSize/2-(Ze+at)/2;se=(b+lt+this.worldSize)%this.worldSize-lt,se-fe<Ze&&(se=Ze+fe),se+fe>at&&(se=at-fe),at-Ze<this.width&&(F=Math.max(F,this.width/(at-Ze)),se=(at+Ze)/2)}se===b&&de===I||(this.center=this.unproject(new n.pointGeometry(se,de))),F&&(this.zoom+=this.scaleZoom(F)),this._constrainCamera(),this._unmodified=u,this._constraining=!1}_minZoomForBounds(){let l=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(l=Math.max(l,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),l}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const l=this.centerOffset,u=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=n.mercatorZfromAltitude(1,this.center.lat)/n.mercatorZfromAltitude(1,n.GLOBE_SCALE_MATCH_LATITUDE));const b=bi(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,b),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const I=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?u:1),F=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);F[8]=2*-l.x/this.width,F[9]=2*l.y/this.height;let se=n.mul([],F,I);if(this.projection.isReprojectedInTileSpace){const At=this.locationCoordinate(this.center),wt=n.identity([]);n.translate(wt,wt,[At.x*this.worldSize,At.y*this.worldSize,0]),n.multiply(wt,wt,Ve(this)),n.translate(wt,wt,[-At.x*this.worldSize,-At.y*this.worldSize,0]),n.multiply(se,se,wt),this.inverseAdjustmentMatrix=function(zt){const Qt=Ve(zt,!0);return N([],[Qt[0],Qt[1],Qt[4],Qt[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=n.scale([],se,[this.worldSize,this.worldSize,this.worldSize/u,1]),this.projMatrix=se,this.invProjMatrix=n.invert(new Float64Array(16),this.projMatrix);const de=n.invert([],F);this.frustumCorners=n.FrustumCorners.fromInvProjectionMatrix(de,this.horizonLineFromTop(),this.height);const fe=new Float32Array(16);n.identity(fe),n.scale(fe,fe,[1,-1,1]),n.rotateX(fe,fe,this._pitch),n.rotateZ(fe,fe,this.angle);const De=n.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),ke=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;De[8]=2*-l.x/this.width,De[9]=2*(l.y+ke)/this.height,this.skyboxMatrix=n.multiply(fe,De,fe);const Ne=this.point,Ze=Ne.x,at=Ne.y,lt=this.width%2/2,dt=this.height%2/2,et=Math.cos(this.angle),nt=Math.sin(this.angle),ft=Ze-Math.round(Ze)+et*lt+nt*dt,ct=at-Math.round(at)+et*dt+nt*lt,vt=new Float64Array(se);if(n.translate(vt,vt,[ft>.5?ft-1:ft,ct>.5?ct-1:ct,0]),this.alignedProjMatrix=vt,se=n.create(),n.scale(se,se,[this.width/2,-this.height/2,1]),n.translate(se,se,[1,-1,0]),this.labelPlaneMatrix=se,se=n.create(),n.scale(se,se,[1,-1,1]),n.translate(se,se,[-1,-1,0]),n.scale(se,se,[2/this.width,2/this.height,1]),this.glCoordMatrix=se,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},se=n.invert(new Float64Array(16),this.pixelMatrix),!se)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=se,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=n.calculateGlobeMatrix(this);const At=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=n.transformMat4(At,At,I),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=se;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const l=this.cameraWorldSizeForFog,u=this.cameraPixelsPerMeter,b=this._camera.position,I=1/this.height/this._pixelsPerMercatorPixel,F=[l,l,u];n.scale$2(F,F,I),n.scale$2(b,b,-1),n.multiply$2(b,b,F);const se=n.create();n.translate(se,se,b),n.scale(se,se,F),this.mercatorFogMatrix=se,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(l,u,I)}_computeCameraPosition(l){const u=(l=l||this.pixelsPerMeter)/this.pixelsPerMeter,b=this._camera.forward(),I=this.point,F=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*u-l/this.worldSize*this._centerAltitude;return[I.x/this.worldSize-b[0]*F,I.y/this.worldSize-b[1]*F,l/this.worldSize*this._centerAltitude-b[2]*F]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(l){const u=this._maxCameraBoundsDistance()*Math.cos(this._pitch),b=this._camera.position[2],I=l[2];let F=1;this.projection.wrap&&(this.center=this.center.wrap()),I>0&&(F=Math.min((u-b)/I,1)),this._camera.position=n.scaleAndAdd([],this._camera.position,l,F),this._updateStateFromCamera()}_updateStateFromCamera(){const l=this._camera.position,u=this._camera.forward(),{pitch:b,bearing:I}=this._camera.getPitchBearing(),F=n.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,se=this._mercatorZfromZoom(this._maxZoom)*Math.cos(n.degToRad(this._maxPitch)),de=Math.max((l[2]-F)/Math.cos(b),se),fe=this._zoomFromMercatorZ(de);n.scaleAndAdd(l,l,u,de),this._pitch=n.clamp(b,n.degToRad(this.minPitch),n.degToRad(this.maxPitch)),this.angle=n.wrap(I,-Math.PI,Math.PI),this._setZoom(n.clamp(fe,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new n.MercatorCoordinate(l[0],l[1],l[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(l){return Math.pow(2,l)*this.tileSize}_mercatorZfromZoom(l){return this.cameraToCenterDistance/this._worldSizeFromZoom(l)}_minimumHeightOverTerrain(){const l=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(l)}_zoomFromMercatorZ(l){return this.scaleZoom(this.cameraToCenterDistance/(l*this.tileSize))}zoomFromMercatorZAdjusted(l){const u=se=>{const de=this.getCameraToCenterDistance(this.projection,se);return this.scaleZoom(de/(l*this.tileSize))};let b,I=u(this.zoom),F=Math.abs(I-u(I));for(;b!==F;)I=u(I),b=F,F=Math.abs(I-u(I));return I}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(n.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(l,u){const b=Math.min(l.x,u.x),I=Math.max(l.x,u.x),F=Math.min(l.y,u.y),se=Math.max(l.y,u.y);if(F<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const de=[new n.pointGeometry(b,F),new n.pointGeometry(I,se),new n.pointGeometry(b,se),new n.pointGeometry(I,F)],fe=this.renderWorldCopies?-3:0,De=this.renderWorldCopies?4:1;for(const ke of de){const Ne=this.pointRayIntersection(ke);if(Ne.t<0)return!0;const Ze=this.rayIntersectionCoordinate(Ne);if(Ze.x<fe||Ze.y<0||Ze.x>De||Ze.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+n.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new n.pointGeometry(0,0),new n.pointGeometry(this.width,this.height))}zoomDeltaToMovement(l,u){const b=n.length(n.sub([],this._camera.position,l)),I=this._zoomFromMercatorZ(b)+u;return b-this._mercatorZfromZoom(I)}getCameraPoint(){if(this.projection.name==="globe"){const l=function([u,b,I],F){const se=[u,b,I,1];n.transformMat4$1(se,se,F);const de=se[3]=Math.max(se[3],1e-6);return se[0]/=de,se[1]/=de,se[2]/=de,se}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new n.pointGeometry(l[0],l[1])}{const l=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.pointGeometry(0,l))}}getCameraToCenterDistance(l,u=this.zoom){const b=bi(l,u,this.width,this.height,1024),I=l.pixelSpaceConversion(this.center.lat,this.worldSize,b);return .5/Math.tan(.5*this._fov)*this.height*I}getWorldToCameraMatrix(){const l=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&n.multiply(l,l,this.globeMatrix),l}}function Ga(y,l){let u=!1,b=null;const I=()=>{b=null,u&&(y(),b=setTimeout(I,l),u=!1)};return()=>(u=!0,b||I(),b)}class Xi{constructor(l){this._hashName=l&&encodeURIComponent(l),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ga(this._updateHashUnthrottled.bind(this),300)}addTo(l){return this._map=l,n.window.addEventListener("hashchange",this._onHashChange,!1),l.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),n.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const l=this._map;if(!l)return"";const u=Va(l);if(this._hashName){const b=this._hashName;let I=!1;const F=n.window.location.hash.slice(1).split("&").map(se=>{const de=se.split("=")[0];return de===b?(I=!0,`${de}=${u}`):se}).filter(se=>se);return I||F.push(`${b}=${u}`),`#${F.join("&")}`}return`#${u}`}_getCurrentHash(){const l=n.window.location.hash.replace("#","");if(this._hashName){let u;return l.split("&").map(b=>b.split("=")).forEach(b=>{b[0]===this._hashName&&(u=b)}),(u&&u[1]||"").split("/")}return l.split("/")}_onHashChange(){const l=this._map;if(!l)return!1;const u=this._getCurrentHash();if(u.length>=3&&!u.some(b=>isNaN(b))){const b=l.dragRotate.isEnabled()&&l.touchZoomRotate.isEnabled()?+(u[3]||0):l.getBearing();return l.jumpTo({center:[+u[2],+u[1]],zoom:+u[0],bearing:b,pitch:+(u[4]||0)}),!0}return!1}_updateHashUnthrottled(){const l=n.window.location.href.replace(/(#.+)?$/,this.getHashString());n.window.history.replaceState(n.window.history.state,null,l)}}function Va(y,l){const u=y.getCenter(),b=Math.round(100*y.getZoom())/100,I=Math.ceil((b*Math.LN2+Math.log(512/360/.5))/Math.LN10),F=Math.pow(10,I),se=Math.round(u.lng*F)/F,de=Math.round(u.lat*F)/F,fe=y.getBearing(),De=y.getPitch();let ke=l?`/${se}/${de}/${b}`:`${b}/${de}/${se}`;return(fe||De)&&(ke+="/"+Math.round(10*fe)/10),De&&(ke+=`/${Math.round(De)}`),ke}const Wc={linearity:.3,easing:n.bezier(0,0,.3,1)},Cd=n.extend({deceleration:2500,maxSpeed:1400},Wc),bu=n.extend({deceleration:20,maxSpeed:1400},Wc),qh=n.extend({deceleration:1e3,maxSpeed:360},Wc),Ap=n.extend({deceleration:1e3,maxSpeed:90},Wc);class wu{constructor(l){this._map=l,this.clear()}clear(){this._inertiaBuffer=[]}record(l){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.exported.now(),settings:l})}_drainInertiaBuffer(){const l=this._inertiaBuffer,u=n.exported.now();for(;l.length>0&&u-l[0].time>160;)l.shift()}_onMoveEnd(l){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const u={zoom:0,bearing:0,pitch:0,pan:new n.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:F}of this._inertiaBuffer)u.zoom+=F.zoomDelta||0,u.bearing+=F.bearingDelta||0,u.pitch+=F.pitchDelta||0,F.panDelta&&u.pan._add(F.panDelta),F.around&&(u.around=F.around),F.pinchAround&&(u.pinchAround=F.pinchAround);const b=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,I={};if(u.pan.mag()){const F=xr(u.pan.mag(),b,n.extend({},Cd,l||{}));I.offset=u.pan.mult(F.amount/u.pan.mag()),I.center=this._map.transform.center,Xh(I,F)}if(u.zoom){const F=xr(u.zoom,b,bu);I.zoom=this._map.transform.zoom+F.amount,Xh(I,F)}if(u.bearing){const F=xr(u.bearing,b,qh);I.bearing=this._map.transform.bearing+n.clamp(F.amount,-179,179),Xh(I,F)}if(u.pitch){const F=xr(u.pitch,b,Ap);I.pitch=this._map.transform.pitch+F.amount,Xh(I,F)}if(I.zoom||I.bearing){const F=u.pinchAround===void 0?u.around:u.pinchAround;I.around=F?this._map.unproject(F):this._map.getCenter()}return this.clear(),I.noMoveStart=!0,I}}function Xh(y,l){(!y.duration||y.duration<l.duration)&&(y.duration=l.duration,y.easing=l.easing)}function xr(y,l,u){const{maxSpeed:b,linearity:I,deceleration:F}=u,se=n.clamp(y*I/(l/1e3),-b,b),de=Math.abs(se)/(F*I);return{easing:u.easing,duration:1e3*de,amount:se*(de/2)}}class Xs extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,u,b,I={}){const F=G(u.getCanvasContainer(),b),se=u.unproject(F);super(l,n.extend({point:F,lngLat:se,originalEvent:b},I)),this._defaultPrevented=!1,this.target=u}}class Md extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,u,b){const I=l==="touchend"?b.changedTouches:b.touches,F=C(u.getCanvasContainer(),I),se=F.map(fe=>u.unproject(fe)),de=F.reduce((fe,De,ke,Ne)=>fe.add(De.div(Ne.length)),new n.pointGeometry(0,0));super(l,{points:F,point:de,lngLats:se,lngLat:u.unproject(de),originalEvent:b}),this._defaultPrevented=!1}}class Zh extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,u,b){super(l,{originalEvent:b}),this._defaultPrevented=!1}}class Jf{constructor(l,u){this._map=l,this._clickTolerance=u.clickTolerance}reset(){this._mousedownPos=void 0}wheel(l){return this._firePreventable(new Zh(l.type,this._map,l))}mousedown(l,u){return this._mousedownPos=u,this._firePreventable(new Xs(l.type,this._map,l))}mouseup(l){this._map.fire(new Xs(l.type,this._map,l))}preclick(l){const u=n.extend({},l);u.type="preclick",this._map.fire(new Xs(u.type,this._map,u))}click(l,u){this._mousedownPos&&this._mousedownPos.dist(u)>=this._clickTolerance||(this.preclick(l),this._map.fire(new Xs(l.type,this._map,l)))}dblclick(l){return this._firePreventable(new Xs(l.type,this._map,l))}mouseover(l){this._map.fire(new Xs(l.type,this._map,l))}mouseout(l){this._map.fire(new Xs(l.type,this._map,l))}touchstart(l){return this._firePreventable(new Md(l.type,this._map,l))}touchmove(l){this._map.fire(new Md(l.type,this._map,l))}touchend(l){this._map.fire(new Md(l.type,this._map,l))}touchcancel(l){this._map.fire(new Md(l.type,this._map,l))}_firePreventable(l){if(this._map.fire(l),l.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Fm{constructor(l){this._map=l}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(l){this._map.fire(new Xs(l.type,this._map,l))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Xs("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(l){this._delayContextMenu?this._contextMenuEvent=l:this._map.fire(new Xs(l.type,this._map,l)),this._map.listens("contextmenu")&&l.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Su{constructor(l,u){this._map=l,this._el=l.getCanvasContainer(),this._container=l.getContainer(),this._clickTolerance=u.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(l,u){this.isEnabled()&&l.shiftKey&&l.button===0&&(M(),this._startPos=this._lastPos=u,this._active=!0)}mousemoveWindow(l,u){if(!this._active)return;const b=u,I=this._startPos,F=this._lastPos;if(!I||!F||F.equals(b)||!this._box&&b.dist(I)<this._clickTolerance)return;this._lastPos=b,this._box||(this._box=H("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",l));const se=Math.min(I.x,b.x),de=Math.max(I.x,b.x),fe=Math.min(I.y,b.y),De=Math.max(I.y,b.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${se}px,${fe}px)`,this._box.style.width=de-se+"px",this._box.style.height=De-fe+"px")})}mouseupWindow(l,u){if(!this._active)return;const b=this._startPos,I=u;if(b&&l.button===0){if(this.reset(),V(),b.x!==I.x||b.y!==I.y)return this._map.fire(new n.Event("boxzoomend",{originalEvent:l})),{cameraAnimation:F=>F.fitScreenCoordinates(b,I,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",l)}}keydown(l){this._active&&l.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",l))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),E(),delete this._startPos,delete this._lastPos}_fireEvent(l,u){return this._map.fire(new n.Event(l,{originalEvent:u}))}}function Ul(y,l){const u={};for(let b=0;b<y.length;b++)u[y[b].identifier]=l[b];return u}class Ad{constructor(l){this.reset(),this.numTouches=l.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(l,u,b){(this.centroid||b.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=l.timeStamp),b.length===this.numTouches&&(this.centroid=function(I){const F=new n.pointGeometry(0,0);for(const se of I)F._add(se);return F.div(I.length)}(u),this.touches=Ul(b,u)))}touchmove(l,u,b){if(this.aborted||!this.centroid)return;const I=Ul(b,u);for(const F in this.touches){const se=this.touches[F],de=I[F];(!de||de.dist(se)>30)&&(this.aborted=!0)}}touchend(l,u,b){if((!this.centroid||l.timeStamp-this.startTime>500)&&(this.aborted=!0),b.length===0){const I=!this.aborted&&this.centroid;if(this.reset(),I)return I}}}class fc{constructor(l){this.singleTap=new Ad(l),this.numTaps=l.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(l,u,b){this.singleTap.touchstart(l,u,b)}touchmove(l,u,b){this.singleTap.touchmove(l,u,b)}touchend(l,u,b){const I=this.singleTap.touchend(l,u,b);if(I){const F=l.timeStamp-this.lastTime<500,se=!this.lastTap||this.lastTap.dist(I)<30;if(F&&se||this.reset(),this.count++,this.lastTime=l.timeStamp,this.lastTap=I,this.count===this.numTaps)return this.reset(),I}}}class Kh{constructor(){this._zoomIn=new fc({numTouches:1,numTaps:2}),this._zoomOut=new fc({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(l,u,b){this._zoomIn.touchstart(l,u,b),this._zoomOut.touchstart(l,u,b)}touchmove(l,u,b){this._zoomIn.touchmove(l,u,b),this._zoomOut.touchmove(l,u,b)}touchend(l,u,b){const I=this._zoomIn.touchend(l,u,b),F=this._zoomOut.touchend(l,u,b);return I?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:se=>se.easeTo({duration:300,zoom:se.getZoom()+1,around:se.unproject(I)},{originalEvent:l})}):F?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:se=>se.easeTo({duration:300,zoom:se.getZoom()-1,around:se.unproject(F)},{originalEvent:l})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Yc={0:1,2:2};class qc{constructor(l){this.reset(),this._clickTolerance=l.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(l,u){return!1}_move(l,u){return{}}mousedown(l,u){if(this._lastPoint)return;const b=te(l);this._correctButton(l,b)&&(this._lastPoint=u,this._eventButton=b)}mousemoveWindow(l,u){const b=this._lastPoint;if(b){if(l.preventDefault(),this._eventButton!=null&&function(I,F){const se=Yc[F];return I.buttons===void 0||(I.buttons&se)!==se}(l,this._eventButton))this.reset();else if(this._moved||!(u.dist(b)<this._clickTolerance))return this._moved=!0,this._lastPoint=u,this._move(b,u)}}mouseupWindow(l){this._lastPoint&&te(l)===this._eventButton&&(this._moved&&V(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class xh extends qc{mousedown(l,u){super.mousedown(l,u),this._lastPoint&&(this._active=!0)}_correctButton(l,u){return u===0&&!l.ctrlKey}_move(l,u){return{around:u,panDelta:u.sub(l)}}}class kp extends qc{_correctButton(l,u){return u===0&&l.ctrlKey||u===2}_move(l,u){const b=.8*(u.x-l.x);if(b)return this._active=!0,{bearingDelta:b}}contextmenu(l){l.preventDefault()}}class Pp extends qc{_correctButton(l,u){return u===0&&l.ctrlKey||u===2}_move(l,u){const b=-.5*(u.y-l.y);if(b)return this._active=!0,{pitchDelta:b}}contextmenu(l){l.preventDefault()}}class Qf{constructor(l,u){this._map=l,this._el=l.getCanvasContainer(),this._minTouches=1,this._clickTolerance=u.clickTolerance||1,this.reset(),n.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new n.pointGeometry(0,0)}touchstart(l,u,b){return this._calculateTransform(l,u,b)}touchmove(l,u,b){if(this._active&&!(b.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(b.length===1&&!n.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return l.cancelable&&l.preventDefault(),this._calculateTransform(l,u,b)}}touchend(l,u,b){this._calculateTransform(l,u,b),this._active&&b.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(l,u,b){b.length>0&&(this._active=!0);const I=Ul(b,u),F=new n.pointGeometry(0,0),se=new n.pointGeometry(0,0);let de=0;for(const De in I){const ke=I[De],Ne=this._touches[De];Ne&&(F._add(ke),se._add(ke.sub(Ne)),de++,I[De]=ke)}if(this._touches=I,de<this._minTouches||!se.mag())return;const fe=se.div(de);return this._sum._add(fe),this._sum.mag()<this._clickTolerance?void 0:{around:F.div(de),panDelta:fe}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=H("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Tu{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(l){}_move(l,u,b){return{}}touchstart(l,u,b){this._firstTwoTouches||b.length<2||(this._firstTwoTouches=[b[0].identifier,b[1].identifier],this._start([u[0],u[1]]))}touchmove(l,u,b){const I=this._firstTwoTouches;if(!I)return;l.preventDefault();const[F,se]=I,de=mc(b,u,F),fe=mc(b,u,se);if(!de||!fe)return;const De=this._aroundCenter?null:de.add(fe).div(2);return this._move([de,fe],De,l)}touchend(l,u,b){if(!this._firstTwoTouches)return;const[I,F]=this._firstTwoTouches,se=mc(b,u,I),de=mc(b,u,F);se&&de||(this._active&&V(),this.reset())}touchcancel(){this.reset()}enable(l){this._enabled=!0,this._aroundCenter=!!l&&l.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function mc(y,l,u){for(let b=0;b<y.length;b++)if(y[b].identifier===u)return l[b]}function Jh(y,l){return Math.log(y/l)/Math.LN2}class Qh extends Tu{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(l){this._startDistance=this._distance=l[0].dist(l[1])}_move(l,u){const b=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(Jh(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Jh(this._distance,b),pinchAround:u}}}function Dp(y,l){return 180*y.angleWith(l)/Math.PI}class it extends Tu{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])}_move(l,u){const b=this._vector;if(this._vector=l[0].sub(l[1]),b&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Dp(this._vector,b),pinchAround:u}}_isBelowThreshold(l){this._minDiameter=Math.min(this._minDiameter,l.mag());const u=25/(Math.PI*this._minDiameter)*360,b=this._startVector;if(!b)return!1;const I=Dp(l,b);return Math.abs(I)<u}}function gc(y){return Math.abs(y.y)>Math.abs(y.x)}class kd extends Tu{constructor(l){super(),this._map=l}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(l){this._lastPoints=l,gc(l[0].sub(l[1]))&&(this._valid=!1)}_move(l,u,b){const I=this._lastPoints;if(!I)return;const F=l[0].sub(I[0]),se=l[1].sub(I[1]);return this._map._cooperativeGestures&&!n.isFullscreen()&&b.touches.length<3||(this._valid=this.gestureBeginsVertically(F,se,b.timeStamp),!this._valid)?void 0:(this._lastPoints=l,this._active=!0,{pitchDelta:(F.y+se.y)/2*-.5})}gestureBeginsVertically(l,u,b){if(this._valid!==void 0)return this._valid;const I=l.mag()>=2,F=u.mag()>=2;if(!I&&!F)return;if(!I||!F)return this._firstMove==null&&(this._firstMove=b),b-this._firstMove<100&&void 0;const se=l.y>0==u.y>0;return gc(l)&&gc(u)&&se}}const Ea={panStep:100,bearingStep:15,pitchStep:10};class Fn{constructor(){const l=Ea;this._panStep=l.panStep,this._bearingStep=l.bearingStep,this._pitchStep=l.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(l){if(l.altKey||l.ctrlKey||l.metaKey)return;let u=0,b=0,I=0,F=0,se=0;switch(l.keyCode){case 61:case 107:case 171:case 187:u=1;break;case 189:case 109:case 173:u=-1;break;case 37:l.shiftKey?b=-1:(l.preventDefault(),F=-1);break;case 39:l.shiftKey?b=1:(l.preventDefault(),F=1);break;case 38:l.shiftKey?I=1:(l.preventDefault(),se=-1);break;case 40:l.shiftKey?I=-1:(l.preventDefault(),se=1);break;default:return}return this._rotationDisabled&&(b=0,I=0),{cameraAnimation:de=>{const fe=de.getZoom();de.easeTo({duration:300,easeId:"keyboardHandler",easing:Nm,zoom:u?Math.round(fe)+u*(l.shiftKey?2:1):fe,bearing:de.getBearing()+b*this._bearingStep,pitch:de.getPitch()+I*this._pitchStep,offset:[-F*this._panStep,-se*this._panStep],center:de.getCenter()},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Nm(y){return y*(2-y)}const Ip=4.000244140625;class jm{constructor(l,u){this._map=l,this._el=l.getCanvasContainer(),this._handler=u,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,n.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(l){this._defaultZoomRate=l}setWheelZoomRate(l){this._wheelZoomRate=l}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(l){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!l&&l.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(l){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(l.ctrlKey||l.metaKey||this.isZooming()||n.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let u=l.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?40*l.deltaY:l.deltaY;const b=n.exported.now(),I=b-(this._lastWheelEventTime||0);this._lastWheelEventTime=b,u!==0&&u%Ip==0?this._type="wheel":u!==0&&Math.abs(u)<4?this._type="trackpad":I>400?(this._type=null,this._lastValue=u,this._timeout=setTimeout(this._onTimeout,40,l)):this._type||(this._type=Math.abs(I*u)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,u+=this._lastValue)),l.shiftKey&&u&&(u/=4),this._type&&(this._lastWheelEvent=l,this._delta-=u,this._active||this._start(l)),l.preventDefault()}_onTimeout(l){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(l)}_start(l){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const u=G(this._el,l);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:u,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const l=this._map.transform;this._type==="wheel"&&l.projection.wrap&&(l._center.lng>=180||l._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const u=()=>l._terrainEnabled()&&this._aroundCoord?l.computeZoomRelativeTo(this._aroundCoord):l.zoom;if(this._delta!==0){const fe=this._type==="wheel"&&Math.abs(this._delta)>Ip?this._wheelZoomRate:this._defaultZoomRate;let De=2/(1+Math.exp(-Math.abs(this._delta*fe)));this._delta<0&&De!==0&&(De=1/De);const ke=u(),Ne=Math.pow(2,ke),Ze=typeof this._targetZoom=="number"?l.zoomScale(this._targetZoom):Ne;this._targetZoom=Math.min(l.maxZoom,Math.max(l.minZoom,l.scaleZoom(Ze*De))),this._type==="wheel"&&(this._startZoom=ke,this._easing=this._smoothOutEasing(200)),this._delta=0}const b=typeof this._targetZoom=="number"?this._targetZoom:u(),I=this._startZoom,F=this._easing;let se,de=!1;if(this._type==="wheel"&&I&&F){const fe=Math.min((n.exported.now()-this._lastWheelEventTime)/200,1),De=F(fe);se=n.number(I,b,De),fe<1?this._frameId||(this._frameId=!0):de=!0}else se=b,de=!0;return this._active=!0,de&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!de,zoomDelta:se-u(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(l){let u=n.ease;if(this._prevEase){const b=this._prevEase,I=(n.exported.now()-b.start)/b.duration,F=b.easing(I+.01)-b.easing(I),se=.27/Math.sqrt(F*F+1e-4)*.01,de=Math.sqrt(.0729-se*se);u=n.bezier(se,de,.25,1)}return this._prevEase={start:n.exported.now(),duration:l,easing:u},u}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=H("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(n.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class bh{constructor(l,u){this._clickZoom=l,this._tapZoom=u}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class _c{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(l,u){return l.preventDefault(),{cameraAnimation:b=>{b.easeTo({duration:300,zoom:b.getZoom()+(l.shiftKey?-1:1),around:b.unproject(u)},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class e0{constructor(){this._tap=new fc({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(l,u,b){this._swipePoint||(this._tapTime&&l.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?b.length>0&&(this._swipePoint=u[0],this._swipeTouch=b[0].identifier):this._tap.touchstart(l,u,b))}touchmove(l,u,b){if(this._tapTime){if(this._swipePoint){if(b[0].identifier!==this._swipeTouch)return;const I=u[0],F=I.y-this._swipePoint.y;return this._swipePoint=I,l.preventDefault(),this._active=!0,{zoomDelta:F/128}}}else this._tap.touchmove(l,u,b)}touchend(l,u,b){this._tapTime?this._swipePoint&&b.length===0&&this.reset():this._tap.touchend(l,u,b)&&(this._tapTime=l.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ed{constructor(l,u,b){this._el=l,this._mousePan=u,this._touchPan=b}enable(l){this._inertiaOptions=l||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Gl{constructor(l,u,b){this._pitchWithRotate=l.pitchWithRotate,this._mouseRotate=u,this._mousePitch=b}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Eu{constructor(l,u,b,I){this._el=l,this._touchZoom=u,this._touchRotate=b,this._tapDragZoom=I,this._rotationDisabled=!1,this._enabled=!0}enable(l){this._touchZoom.enable(l),this._rotationDisabled||this._touchRotate.enable(l),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Yi=y=>y.zoom||y.drag||y.pitch||y.rotate;class t0 extends n.Event{}class i0{constructor(){this.constants=[1,1,.01],this.radius=0}setup(l,u){const b=n.sub([],u,l);this.radius=n.length(b[2]<0?n.div([],b,this.constants):[b[0],b[1],0])}projectRay(l){n.div(l,l,this.constants),n.normalize(l,l),n.mul$1(l,l,this.constants);const u=n.scale$2([],l,this.radius);if(u[2]>0){const b=n.scale$2([],[0,0,1],n.dot(u,[0,0,1])),I=n.scale$2([],n.normalize([],[u[0],u[1],0]),this.radius),F=n.add([],u,n.scale$2([],n.sub([],n.add([],I,b),u),2));u[0]=F[0],u[1]=F[1]}return u}}function Xc(y){return y.panDelta&&y.panDelta.mag()||y.zoomDelta||y.bearingDelta||y.pitchDelta}class Pd{constructor(l,u){this._map=l,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new wu(l),this._bearingSnap=u.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new i0,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(u),n.bindAll(["handleEvent","handleWindowEvent"],this);const b=this._el;this._listeners=[[b,"touchstart",{passive:!0}],[b,"touchmove",{passive:!1}],[b,"touchend",void 0],[b,"touchcancel",void 0],[b,"mousedown",void 0],[b,"mousemove",void 0],[b,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[b,"mouseover",void 0],[b,"mouseout",void 0],[b,"dblclick",void 0],[b,"click",void 0],[b,"keydown",{capture:!1}],[b,"keyup",void 0],[b,"wheel",{passive:!1}],[b,"contextmenu",void 0],[n.window,"blur",void 0]];for(const[I,F,se]of this._listeners)I.addEventListener(F,I===n.window.document?this.handleWindowEvent:this.handleEvent,se)}destroy(){for(const[l,u,b]of this._listeners)l.removeEventListener(u,l===n.window.document?this.handleWindowEvent:this.handleEvent,b)}_addDefaultHandlers(l){const u=this._map,b=u.getCanvasContainer();this._add("mapEvent",new Jf(u,l));const I=u.boxZoom=new Su(u,l);this._add("boxZoom",I);const F=new Kh,se=new _c;u.doubleClickZoom=new bh(se,F),this._add("tapZoom",F),this._add("clickZoom",se);const de=new e0;this._add("tapDragZoom",de);const fe=u.touchPitch=new kd(u);this._add("touchPitch",fe);const De=new kp(l),ke=new Pp(l);u.dragRotate=new Gl(l,De,ke),this._add("mouseRotate",De,["mousePitch"]),this._add("mousePitch",ke,["mouseRotate"]);const Ne=new xh(l),Ze=new Qf(u,l);u.dragPan=new ed(b,Ne,Ze),this._add("mousePan",Ne),this._add("touchPan",Ze,["touchZoom","touchRotate"]);const at=new it,lt=new Qh;u.touchZoomRotate=new Eu(b,lt,at,de),this._add("touchRotate",at,["touchPan","touchZoom"]),this._add("touchZoom",lt,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Fm(u));const dt=u.scrollZoom=new jm(u,this);this._add("scrollZoom",dt,["mousePan"]);const et=u.keyboard=new Fn;this._add("keyboard",et);for(const nt of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])l.interactive&&l[nt]&&u[nt].enable(l[nt])}_add(l,u,b){this._handlers.push({handlerName:l,handler:u,allowed:b}),this._handlersById[l]=u}stop(l){if(!this._updatingCamera){for(const{handler:u}of this._handlers)u.reset();this._inertia.clear(),this._fireEvents({},{},l),this._changes=[]}}isActive(){for(const{handler:l}of this._handlers)if(l.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Yi(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(l,u,b){for(const I in l)if(I!==b&&(!u||u.indexOf(I)<0))return!0;return!1}handleWindowEvent(l){this.handleEvent(l,`${l.type}Window`)}_getMapTouches(l){const u=[];for(const b of l)this._el.contains(b.target)&&u.push(b);return u}handleEvent(l,u){this._updatingCamera=!0;const b=l.type==="renderFrame",I=b?void 0:l,F={needsRenderFrame:!1},se={},de={},fe=l.touches?this._getMapTouches(l.touches):void 0,De=fe?C(this._el,fe):b?void 0:G(this._el,l);for(const{handlerName:Ze,handler:at,allowed:lt}of this._handlers){if(!at.isEnabled())continue;let dt;this._blockedByActive(de,lt,Ze)?at.reset():at[u||l.type]&&(dt=at[u||l.type](l,De,fe),this.mergeHandlerResult(F,se,dt,Ze,I),dt&&dt.needsRenderFrame&&this._triggerRenderFrame()),(dt||at.isActive())&&(de[Ze]=at)}const ke={};for(const Ze in this._previousActiveHandlers)de[Ze]||(ke[Ze]=I);this._previousActiveHandlers=de,(Object.keys(ke).length||Xc(F))&&(this._changes.push([F,se,ke]),this._triggerRenderFrame()),(Object.keys(de).length||Xc(F))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Ne}=F;Ne&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ne(this._map))}mergeHandlerResult(l,u,b,I,F){if(!b)return;n.extend(l,b);const se={handlerName:I,originalEvent:b.originalEvent||F};b.zoomDelta!==void 0&&(u.zoom=se),b.panDelta!==void 0&&(u.drag=se),b.pitchDelta!==void 0&&(u.pitch=se),b.bearingDelta!==void 0&&(u.rotate=se)}_applyChanges(){const l={},u={},b={};for(const[I,F,se]of this._changes)I.panDelta&&(l.panDelta=(l.panDelta||new n.pointGeometry(0,0))._add(I.panDelta)),I.zoomDelta&&(l.zoomDelta=(l.zoomDelta||0)+I.zoomDelta),I.bearingDelta&&(l.bearingDelta=(l.bearingDelta||0)+I.bearingDelta),I.pitchDelta&&(l.pitchDelta=(l.pitchDelta||0)+I.pitchDelta),I.around!==void 0&&(l.around=I.around),I.aroundCoord!==void 0&&(l.aroundCoord=I.aroundCoord),I.pinchAround!==void 0&&(l.pinchAround=I.pinchAround),I.noInertia&&(l.noInertia=I.noInertia),n.extend(u,F),n.extend(b,se);this._updateMapTransform(l,u,b),this._changes=[]}_updateMapTransform(l,u,b){const I=this._map,F=I.transform,se=ft=>[ft.x,ft.y,ft.z];if((ft=>{const ct=this._eventsInProgress.drag;return ct&&!this._handlersById[ct.handlerName].isActive()})()&&!Xc(l)){const ft=F.zoom;F.cameraElevationReference="sea",F.recenterOnTerrain(),F.cameraElevationReference="ground",ft!==F.zoom&&this._map._update(!0)}if(F._isCameraConstrained&&I._stop(!0),!Xc(l))return void this._fireEvents(u,b,!0);let{panDelta:de,zoomDelta:fe,bearingDelta:De,pitchDelta:ke,around:Ne,aroundCoord:Ze,pinchAround:at}=l;F._isCameraConstrained&&(fe>0&&(fe=0),F._isCameraConstrained=!1),at!==void 0&&(Ne=at),(ft=>u.drag&&!this._eventsInProgress.drag)()&&Ne&&(this._dragOrigin=se(F.pointCoordinate3D(Ne)),this._trackingEllipsoid.setup(F._camera.position,this._dragOrigin)),F.cameraElevationReference="sea",I._stop(!0),Ne=Ne||I.transform.centerPoint,De&&(F.bearing+=De),ke&&(F.pitch+=ke),F._updateCameraState();const lt=[0,0,0];if(de)if(F.projection.name==="mercator"){const ft=this._trackingEllipsoid.projectRay(F.screenPointToMercatorRay(Ne).dir),ct=this._trackingEllipsoid.projectRay(F.screenPointToMercatorRay(Ne.sub(de)).dir);lt[0]=ct[0]-ft[0],lt[1]=ct[1]-ft[1]}else{const ft=F.pointCoordinate(Ne);if(F.projection.name==="globe"){de=de.rotate(-F.angle);const ct=F._pixelsPerMercatorPixel/F.worldSize;lt[0]=-de.x*n.mercatorScale(n.latFromMercatorY(ft.y))*ct,lt[1]=-de.y*n.mercatorScale(F.center.lat)*ct}else{const ct=F.pointCoordinate(Ne.sub(de));ft&&ct&&(lt[0]=ct.x-ft.x,lt[1]=ct.y-ft.y)}}const dt=F.zoom,et=[0,0,0];if(fe){const ft=se(Ze||F.pointCoordinate3D(Ne)),ct={dir:n.normalize([],n.sub([],ft,F._camera.position))};if(ct.dir[2]<0){const vt=F.zoomDeltaToMovement(ft,fe);n.scale$2(et,ct.dir,vt)}}const nt=n.add(lt,lt,et);F._translateCameraConstrained(nt),fe&&Math.abs(F.zoom-dt)>1e-4&&F.recenterOnTerrain(),F.cameraElevationReference="ground",this._map._update(),l.noInertia||this._inertia.record(l),this._fireEvents(u,b,!0)}_fireEvents(l,u,b){const I=Yi(this._eventsInProgress),F=Yi(l),se={};for(const ke in l){const{originalEvent:Ne}=l[ke];this._eventsInProgress[ke]||(se[`${ke}start`]=Ne),this._eventsInProgress[ke]=l[ke]}!I&&F&&this._fireEvent("movestart",F.originalEvent);for(const ke in se)this._fireEvent(ke,se[ke]);F&&this._fireEvent("move",F.originalEvent);for(const ke in l){const{originalEvent:Ne}=l[ke];this._fireEvent(ke,Ne)}const de={};let fe;for(const ke in this._eventsInProgress){const{handlerName:Ne,originalEvent:Ze}=this._eventsInProgress[ke];this._handlersById[Ne].isActive()||(delete this._eventsInProgress[ke],fe=u[Ne]||Ze,de[`${ke}end`]=fe)}for(const ke in de)this._fireEvent(ke,de[ke]);const De=Yi(this._eventsInProgress);if(b&&(I||F)&&!De){this._updatingCamera=!0;const ke=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ne=Ze=>Ze!==0&&-this._bearingSnap<Ze&&Ze<this._bearingSnap;ke?(Ne(ke.bearing||this._map.getBearing())&&(ke.bearing=0),this._map.easeTo(ke,{originalEvent:fe})):(this._map.fire(new n.Event("moveend",{originalEvent:fe})),Ne(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(l,u){this._map.fire(new n.Event(l,u?{originalEvent:u}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(l=>{this._frameId=void 0,this.handleEvent(new t0("renderFrame",{timeStamp:l})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Lp="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Vl extends n.Evented{constructor(l,u){super(),this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=u.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}getCenter(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(l,u){return this.jumpTo({center:l},u)}panBy(l,u,b){return l=n.pointGeometry.convert(l).mult(-1),this.panTo(this.transform.center,n.extend({offset:l},u),b)}panTo(l,u,b){return this.easeTo(n.extend({center:l},u),b)}getZoom(){return this.transform.zoom}setZoom(l,u){return this.jumpTo({zoom:l},u),this}zoomTo(l,u,b){return this.easeTo(n.extend({zoom:l},u),b)}zoomIn(l,u){return this.zoomTo(this.getZoom()+1,l,u),this}zoomOut(l,u){return this.zoomTo(this.getZoom()-1,l,u),this}getBearing(){return this.transform.bearing}setBearing(l,u){return this.jumpTo({bearing:l},u),this}getPadding(){return this.transform.padding}setPadding(l,u){return this.jumpTo({padding:l},u),this}rotateTo(l,u,b){return this.easeTo(n.extend({bearing:l},u),b)}resetNorth(l,u){return this.rotateTo(0,n.extend({duration:1e3},l),u),this}resetNorthPitch(l,u){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},l),u),this}snapToNorth(l,u){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,u):this}getPitch(){return this.transform.pitch}setPitch(l,u){return this.jumpTo({pitch:l},u),this}cameraForBounds(l,u){l=n.LngLatBounds.convert(l);const b=u&&u.bearing||0,I=u&&u.pitch||0,F=l.getNorthWest(),se=l.getSouthEast();return this._cameraForBounds(this.transform,F,se,b,I,u)}_extendCameraOptions(l){const u={top:0,bottom:0,right:0,left:0};if(typeof(l=n.extend({padding:u,offset:[0,0],maxZoom:this.transform.maxZoom},l)).padding=="number"){const b=l.padding;l.padding={top:b,bottom:b,right:b,left:b}}return l.padding=n.extend(u,l.padding),l}_minimumAABBFrustumDistance(l,u){const b=u.max[0]-u.min[0],I=u.max[1]-u.min[1];return b/I>l.aspect?b/(2*Math.tan(.5*l.fovX)*l.aspect):I/(2*Math.tan(.5*l.fovY)*l.aspect)}_cameraForBoundsOnGlobe(l,u,b,I,F,se){const de=l.clone(),fe=this._extendCameraOptions(se);de.bearing=I,de.pitch=F;const De=n.LngLat.convert(u),ke=n.LngLat.convert(b),Ne=.5*(De.lat+ke.lat),Ze=.5*(De.lng+ke.lng),at=n.latLngToECEF(Ne,Ze),lt=n.normalize([],at),dt=n.normalize([],n.cross([],lt,[0,1,0])),et=n.cross([],dt,lt),nt=[dt[0],dt[1],dt[2],0,et[0],et[1],et[2],0,lt[0],lt[1],lt[2],0,0,0,0,1],ft=[at,n.latLngToECEF(De.lat,De.lng),n.latLngToECEF(ke.lat,De.lng),n.latLngToECEF(ke.lat,ke.lng),n.latLngToECEF(De.lat,ke.lng),n.latLngToECEF(Ne,De.lng),n.latLngToECEF(Ne,ke.lng),n.latLngToECEF(De.lat,Ze),n.latLngToECEF(ke.lat,Ze)];let ct=n.Aabb.fromPoints(ft.map($t=>[n.dot(dt,$t),n.dot(et,$t),n.dot(lt,$t)]));const vt=n.transformMat4([],ct.center,nt);n.squaredLength(vt)===0&&n.set(vt,0,0,1),n.normalize(vt,vt),n.scale$2(vt,vt,n.GLOBE_RADIUS),de.center=n.ecefToLatLng(vt);const At=de.getWorldToCameraMatrix(),wt=n.invert(new Float64Array(16),At);ct=n.Aabb.applyTransform(ct,n.multiply([],At,nt)),n.transformMat4(vt,vt,At);const zt=.5*(ct.max[2]-ct.min[2]),Qt=this._minimumAABBFrustumDistance(de,ct),Zt=n.scale$2([],[0,0,1],zt),Gt=n.add(Zt,vt,Zt),wi=Qt+(de.pitch===0?0:n.distance(vt,Gt)),Yt=de.globeCenterInViewSpace,pi=n.sub([],vt,[Yt[0],Yt[1],Yt[2]]);n.normalize(pi,pi),n.scale$2(pi,pi,wi);const ti=n.add([],vt,pi);n.transformMat4(ti,ti,wt);const ki=n.earthRadius/n.GLOBE_RADIUS,ii=n.length(ti),vi=n.mercatorZfromAltitude(ii*ki-n.earthRadius,0),Li=Math.min(de.zoomFromMercatorZAdjusted(vi),fe.maxZoom);return Li>.5*(n.GLOBE_ZOOM_THRESHOLD_MIN+n.GLOBE_ZOOM_THRESHOLD_MAX)?(de.setProjection({name:"mercator"}),de.zoom=Li,this._cameraForBounds(de,u,b,I,F,se)):{center:de.center,zoom:Li,bearing:I,pitch:F}}queryTerrainElevation(l,u){const b=this.transform.elevation;return b?(u=n.extend({},{exaggerated:!0},u),b.getAtPoint(n.MercatorCoordinate.fromLngLat(l),null,u.exaggerated)):null}_cameraForBounds(l,u,b,I,F,se){if(l.projection.name==="globe")return this._cameraForBoundsOnGlobe(l,u,b,I,F,se);const de=l.clone(),fe=this._extendCameraOptions(se),De=de.padding;de.bearing=I,de.pitch=F;const ke=n.LngLat.convert(u),Ne=n.LngLat.convert(b),Ze=new n.LngLat(ke.lng,Ne.lat),at=new n.LngLat(Ne.lng,ke.lat),lt=de.project(ke),dt=de.project(Ne),et=this.queryTerrainElevation(ke),nt=this.queryTerrainElevation(Ne),ft=this.queryTerrainElevation(Ze),ct=this.queryTerrainElevation(at),vt=[[lt.x,lt.y,Math.min(et||0,nt||0,ft||0,ct||0)],[dt.x,dt.y,Math.max(et||0,nt||0,ft||0,ct||0)]];let At=n.Aabb.fromPoints(vt);const wt=de.getWorldToCameraMatrix(),zt=n.invert(new Float64Array(16),wt);At=n.Aabb.applyTransform(At,wt);const Qt=n.sub([],At.max,At.min),Zt=De.left||0,Gt=De.right||0,wi=De.bottom||0,Yt=De.top||0,{left:pi,right:ti,top:ki,bottom:ii}=fe.padding,vi=.5*(Zt+Gt),Li=.5*(Yt+wi),$t=Math.min(de.scaleZoom(de.scale*Math.min((de.width-(Zt+Gt+pi+ti))/Qt[0],(de.height-(wi+Yt+ii+ki))/Qt[1])),fe.maxZoom),ei=de.scale/de.zoomScale($t);At=new n.Aabb([At.min[0]-(pi+vi)*ei,At.min[1]-(ii+Li)*ei,At.min[2]],[At.max[0]+(ti+vi)*ei,At.max[1]+(ki+Li)*ei,At.max[2]]);const on=.5*Qt[2],pn=this._minimumAABBFrustumDistance(de,At),an=[0,0,1,0];n.transformMat4$1(an,an,wt),n.normalize$2(an,an);const kn=n.scale$2([],an,pn+on),Wn=n.add([],At.center,kn),_n=(typeof fe.offset.x=="number"&&typeof fe.offset.y=="number"?new n.pointGeometry(fe.offset.x,fe.offset.y):n.pointGeometry.convert(fe.offset)).rotate(-n.degToRad(I));At.center[0]-=_n.x*ei,At.center[1]+=_n.y*ei,n.transformMat4(At.center,At.center,zt),n.transformMat4(Wn,Wn,zt);const Ji=[At.center[0],At.center[1],Wn[2]*de.pixelsPerMeter];n.scale$2(Ji,Ji,1/de.worldSize);const Fs=n.lngFromMercatorX(Ji[0]),Ms=n.latFromMercatorY(Ji[1]),js=Math.min(de._zoomFromMercatorZ(Ji[2]),fe.maxZoom),Rs=new n.LngLat(Fs,Ms);return de.mercatorFromTransition&&js<.5*(n.GLOBE_ZOOM_THRESHOLD_MIN+n.GLOBE_ZOOM_THRESHOLD_MAX)?(de.setProjection({name:"globe"}),de.zoom=js,this._cameraForBounds(de,u,b,I,F,se)):{center:Rs,zoom:js,bearing:I,pitch:F}}fitBounds(l,u,b){const I=this.cameraForBounds(l,u);return this._fitInternal(I,u,b)}fitScreenCoordinates(l,u,b,I,F){const se=n.pointGeometry.convert(l),de=n.pointGeometry.convert(u),fe=new n.pointGeometry(Math.min(se.x,de.x),Math.min(se.y,de.y)),De=new n.pointGeometry(Math.max(se.x,de.x),Math.max(se.y,de.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(se,de))return this;const ke=this.transform.pointLocation3D(fe),Ne=this.transform.pointLocation3D(De),Ze=this.transform.pointLocation3D(new n.pointGeometry(fe.x,De.y)),at=this.transform.pointLocation3D(new n.pointGeometry(De.x,fe.y)),lt=[Math.min(ke.lng,Ne.lng,Ze.lng,at.lng),Math.min(ke.lat,Ne.lat,Ze.lat,at.lat)],dt=[Math.max(ke.lng,Ne.lng,Ze.lng,at.lng),Math.max(ke.lat,Ne.lat,Ze.lat,at.lat)],et=I&&I.pitch?I.pitch:this.getPitch(),nt=this._cameraForBounds(this.transform,lt,dt,b,et,I);return this._fitInternal(nt,I,F)}_fitInternal(l,u,b){return l?(delete(u=n.extend(l,u)).padding,u.linear?this.easeTo(u,b):this.flyTo(u,b)):this}jumpTo(l,u){this.stop();const b=l.preloadOnly?this.transform.clone():this.transform;let I=!1,F=!1,se=!1;return"zoom"in l&&b.zoom!==+l.zoom&&(I=!0,b.zoom=+l.zoom),l.center!==void 0&&(b.center=n.LngLat.convert(l.center)),"bearing"in l&&b.bearing!==+l.bearing&&(F=!0,b.bearing=+l.bearing),"pitch"in l&&b.pitch!==+l.pitch&&(se=!0,b.pitch=+l.pitch),l.padding==null||b.isPaddingEqual(l.padding)||(b.padding=l.padding),l.preloadOnly?(this._preloadTiles(b),this):(this.fire(new n.Event("movestart",u)).fire(new n.Event("move",u)),I&&this.fire(new n.Event("zoomstart",u)).fire(new n.Event("zoom",u)).fire(new n.Event("zoomend",u)),F&&this.fire(new n.Event("rotatestart",u)).fire(new n.Event("rotate",u)).fire(new n.Event("rotateend",u)),se&&this.fire(new n.Event("pitchstart",u)).fire(new n.Event("pitch",u)).fire(new n.Event("pitchend",u)),this.fire(new n.Event("moveend",u)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||n.warnOnce(Lp),this.transform.getFreeCameraOptions()}setFreeCameraOptions(l,u){const b=this.transform;if(!b.projection.supportsFreeCamera)return n.warnOnce(Lp),this;this.stop();const I=b.zoom,F=b.pitch,se=b.bearing;b.setFreeCameraOptions(l);const de=I!==b.zoom,fe=F!==b.pitch,De=se!==b.bearing;return this.fire(new n.Event("movestart",u)).fire(new n.Event("move",u)),de&&this.fire(new n.Event("zoomstart",u)).fire(new n.Event("zoom",u)).fire(new n.Event("zoomend",u)),De&&this.fire(new n.Event("rotatestart",u)).fire(new n.Event("rotate",u)).fire(new n.Event("rotateend",u)),fe&&this.fire(new n.Event("pitchstart",u)).fire(new n.Event("pitch",u)).fire(new n.Event("pitchend",u)),this.fire(new n.Event("moveend",u)),this}easeTo(l,u){this._stop(!1,l.easeId),((l=n.extend({offset:[0,0],duration:500,easing:n.ease},l)).animate===!1||!l.essential&&n.exported.prefersReducedMotion)&&(l.duration=0);const b=this.transform,I=this.getZoom(),F=this.getBearing(),se=this.getPitch(),de=this.getPadding(),fe="zoom"in l?+l.zoom:I,De="bearing"in l?this._normalizeBearing(l.bearing,F):F,ke="pitch"in l?+l.pitch:se,Ne="padding"in l?l.padding:b.padding,Ze=n.pointGeometry.convert(l.offset);let at,lt,dt;if(b.projection.name==="globe"){const Zt=n.MercatorCoordinate.fromLngLat(b.center),Gt=Ze.rotate(-b.angle);Zt.x+=Gt.x/b.worldSize,Zt.y+=Gt.y/b.worldSize;const wi=Zt.toLngLat(),Yt=n.LngLat.convert(l.center||wi);this._normalizeCenter(Yt),at=b.centerPoint.add(Gt),lt=new n.pointGeometry(Zt.x,Zt.y).mult(b.worldSize),dt=new n.pointGeometry(n.mercatorXfromLng(Yt.lng),n.mercatorYfromLat(Yt.lat)).mult(b.worldSize).sub(lt)}else{at=b.centerPoint.add(Ze);const Zt=b.pointLocation(at),Gt=n.LngLat.convert(l.center||Zt);this._normalizeCenter(Gt),lt=b.project(Zt),dt=b.project(Gt).sub(lt)}const et=b.zoomScale(fe-I);let nt,ft;l.around&&(nt=n.LngLat.convert(l.around),ft=b.locationPoint(nt));const ct=this._zooming||fe!==I,vt=this._rotating||F!==De,At=this._pitching||ke!==se,wt=!b.isPaddingEqual(Ne),zt=Zt=>Gt=>{if(ct&&(Zt.zoom=n.number(I,fe,Gt)),vt&&(Zt.bearing=n.number(F,De,Gt)),At&&(Zt.pitch=n.number(se,ke,Gt)),wt&&(Zt.interpolatePadding(de,Ne,Gt),at=Zt.centerPoint.add(Ze)),nt)Zt.setLocationAtPoint(nt,ft);else{const wi=Zt.zoomScale(Zt.zoom-I),Yt=fe>I?Math.min(2,et):Math.max(.5,et),pi=Math.pow(Yt,1-Gt),ti=Zt.unproject(lt.add(dt.mult(Gt*pi)).mult(wi));Zt.setLocationAtPoint(Zt.renderWorldCopies?ti.wrap():ti,at)}return l.preloadOnly||this._fireMoveEvents(u),Zt};if(l.preloadOnly){const Zt=this._emulate(zt,l.duration,b);return this._preloadTiles(Zt),this}const Qt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=ct,this._rotating=vt,this._pitching=At,this._padding=wt,this._easeId=l.easeId,this._prepareEase(u,l.noMoveStart,Qt),this._ease(zt(b),Zt=>{b.recenterOnTerrain(),this._afterEase(u,Zt)},l),this}_prepareEase(l,u,b={}){this._moving=!0,this.transform.cameraElevationReference="sea",u||b.moving||this.fire(new n.Event("movestart",l)),this._zooming&&!b.zooming&&this.fire(new n.Event("zoomstart",l)),this._rotating&&!b.rotating&&this.fire(new n.Event("rotatestart",l)),this._pitching&&!b.pitching&&this.fire(new n.Event("pitchstart",l))}_fireMoveEvents(l){this.fire(new n.Event("move",l)),this._zooming&&this.fire(new n.Event("zoom",l)),this._rotating&&this.fire(new n.Event("rotate",l)),this._pitching&&this.fire(new n.Event("pitch",l))}_afterEase(l,u){if(this._easeId&&u&&this._easeId===u)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const b=this._zooming,I=this._rotating,F=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,b&&this.fire(new n.Event("zoomend",l)),I&&this.fire(new n.Event("rotateend",l)),F&&this.fire(new n.Event("pitchend",l)),this.fire(new n.Event("moveend",l))}flyTo(l,u){if(!l.essential&&n.exported.prefersReducedMotion){const $t=n.pick(l,["center","zoom","bearing","pitch","around"]);return this.jumpTo($t,u)}this.stop(),l=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},l);const b=this.transform,I=this.getZoom(),F=this.getBearing(),se=this.getPitch(),de=this.getPadding(),fe="zoom"in l?n.clamp(+l.zoom,b.minZoom,b.maxZoom):I,De="bearing"in l?this._normalizeBearing(l.bearing,F):F,ke="pitch"in l?+l.pitch:se,Ne="padding"in l?l.padding:b.padding,Ze=b.zoomScale(fe-I),at=n.pointGeometry.convert(l.offset);let lt=b.centerPoint.add(at);const dt=b.pointLocation(lt),et=n.LngLat.convert(l.center||dt);this._normalizeCenter(et);const nt=b.project(dt),ft=b.project(et).sub(nt);let ct=l.curve;const vt=Math.max(b.width,b.height),At=vt/Ze,wt=ft.mag();if("minZoom"in l){const $t=n.clamp(Math.min(l.minZoom,I,fe),b.minZoom,b.maxZoom),ei=vt/b.zoomScale($t-I);ct=Math.sqrt(ei/wt*2)}const zt=ct*ct;function Qt($t){const ei=(At*At-vt*vt+($t?-1:1)*zt*zt*wt*wt)/(2*($t?At:vt)*zt*wt);return Math.log(Math.sqrt(ei*ei+1)-ei)}function Zt($t){return(Math.exp($t)-Math.exp(-$t))/2}function Gt($t){return(Math.exp($t)+Math.exp(-$t))/2}const wi=Qt(0);let Yt=function($t){return Gt(wi)/Gt(wi+ct*$t)},pi=function($t){return vt*((Gt(wi)*(Zt(ei=wi+ct*$t)/Gt(ei))-Zt(wi))/zt)/wt;var ei},ti=(Qt(1)-wi)/ct;if(Math.abs(wt)<1e-6||!isFinite(ti)){if(Math.abs(vt-At)<1e-6)return this.easeTo(l,u);const $t=At<vt?-1:1;ti=Math.abs(Math.log(At/vt))/ct,pi=function(){return 0},Yt=function(ei){return Math.exp($t*ct*ei)}}l.duration="duration"in l?+l.duration:1e3*ti/("screenSpeed"in l?+l.screenSpeed/ct:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0);const ki=F!==De,ii=ke!==se,vi=!b.isPaddingEqual(Ne),Li=$t=>ei=>{const on=ei*ti,pn=1/Yt(on);$t.zoom=ei===1?fe:I+$t.scaleZoom(pn),ki&&($t.bearing=n.number(F,De,ei)),ii&&($t.pitch=n.number(se,ke,ei)),vi&&($t.interpolatePadding(de,Ne,ei),lt=$t.centerPoint.add(at));const an=ei===1?et:$t.unproject(nt.add(ft.mult(pi(on))).mult(pn));return $t.setLocationAtPoint($t.renderWorldCopies?an.wrap():an,lt),$t._updateCameraOnTerrain(),l.preloadOnly||this._fireMoveEvents(u),$t};if(l.preloadOnly){const $t=this._emulate(Li,l.duration,b);return this._preloadTiles($t),this}return this._zooming=!0,this._rotating=ki,this._pitching=ii,this._padding=vi,this._prepareEase(u,!1),this._ease(Li(b),()=>this._afterEase(u),l),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(l,u){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const b=this._onEaseEnd;this._onEaseEnd=void 0,b.call(this,u)}if(!l){const b=this.handlers;b&&b.stop(!1)}return this}_ease(l,u,b){b.animate===!1||b.duration===0?(l(1),u()):(this._easeStart=n.exported.now(),this._easeOptions=b,this._onEaseFrame=l,this._onEaseEnd=u,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const l=Math.min((n.exported.now()-this._easeStart)/this._easeOptions.duration,1),u=this._onEaseFrame;u&&u(this._easeOptions.easing(l)),l<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(l,u){l=n.wrap(l,-180,180);const b=Math.abs(l-u);return Math.abs(l-360-u)<b&&(l-=360),Math.abs(l+360-u)<b&&(l+=360),l}_normalizeCenter(l){const u=this.transform;if(!u.renderWorldCopies||u.maxBounds)return;const b=l.lng-u.center.lng;l.lng+=b>180?-360:b<-180?360:0}_emulate(l,u,b){const I=Math.ceil(15*u/1e3),F=[],se=l(b.clone());for(let de=0;de<=I;de++){const fe=se(de/I);F.push(fe.clone())}return F}}class Op{constructor(l={}){this.options=l,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(l){const u=this.options&&this.options.compact;return this._map=l,this._container=H("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=H("button","mapboxgl-ctrl-attrib-button",this._container),H("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=H("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),u&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),u===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(l,u){const b=this._map._getUIString(`AttributionControl.${u}`);l.setAttribute("aria-label",b),l.removeAttribute("title"),l.firstElementChild&&l.firstElementChild.setAttribute("title",b)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let l=this._editLink;l||(l=this._editLink=this._container.querySelector(".mapbox-improve-map"));const u=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(l){const b=u.reduce((I,F,se)=>(F.value&&(I+=`${F.key}=${F.value}${se<u.length-1?"&":""}`),I),"?");l.href=`${n.config.FEEDBACK_URL}/${b}#${Va(this._map,!0)}`,l.rel="noopener nofollow",this._setElementTitle(l,"MapFeedback")}}_updateData(l){!l||l.sourceDataType!=="metadata"&&l.sourceDataType!=="visibility"&&l.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let l=[];if(this._map.style.stylesheet){const I=this._map.style.stylesheet;this.styleOwner=I.owner,this.styleId=I.id}const u=this._map.style._sourceCaches;for(const I in u){const F=u[I];if(F.used){const se=F.getSource();se.attribution&&l.indexOf(se.attribution)<0&&l.push(se.attribution)}}l.sort((I,F)=>I.length-F.length),l=l.filter((I,F)=>{for(let se=F+1;se<l.length;se++)if(l[se].indexOf(I)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?l=[...this.options.customAttribution,...l]:l.unshift(this.options.customAttribution));const b=l.join(" | ");b!==this._attribHTML&&(this._attribHTML=b,l.length?(this._innerContainer.innerHTML=b,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Rp{constructor(){n.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(l){this._map=l,this._container=H("div","mapboxgl-ctrl");const u=H("a","mapboxgl-ctrl-logo");return u.target="_blank",u.rel="noopener nofollow",u.href="https://www.mapbox.com/",u.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),u.setAttribute("rel","noopener nofollow"),this._container.appendChild(u),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(l){l&&l.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const l=this._map.style._sourceCaches;if(Object.entries(l).length===0)return!0;for(const u in l){const b=l[u].getSource();if(b.hasOwnProperty("mapbox_logo")&&!b.mapbox_logo)return!1}return!0}_updateCompact(){const l=this._container.children;if(l.length){const u=l[0];this._map.getCanvasContainer().offsetWidth<250?u.classList.add("mapboxgl-compact"):u.classList.remove("mapboxgl-compact")}}}class Bp{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(l){const u=++this._id;return this._queue.push({callback:l,id:u,cancelled:!1}),u}remove(l){const u=this._currentlyRunning,b=u?this._queue.concat(u):this._queue;for(const I of b)if(I.id===l)return void(I.cancelled=!0)}run(l=0){const u=this._currentlyRunning=this._queue;this._queue=[];for(const b of u)if(!b.cancelled&&(b.callback(l),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function zp(y,l,u){if(y=new n.LngLat(y.lng,y.lat),l){const b=new n.LngLat(y.lng-360,y.lat),I=new n.LngLat(y.lng+360,y.lat),F=360*Math.ceil(Math.abs(y.lng-u.center.lng)/360),se=u.locationPoint(y).distSqr(l),de=l.x<0||l.y<0||l.x>u.width||l.y>u.height;u.locationPoint(b).distSqr(l)<se&&(de||Math.abs(b.lng-u.center.lng)<F)?y=b:u.locationPoint(I).distSqr(l)<se&&(de||Math.abs(I.lng-u.center.lng)<F)&&(y=I)}for(;Math.abs(y.lng-u.center.lng)>180;){const b=u.locationPoint(y);if(b.x>=0&&b.y>=0&&b.x<=u.width&&b.y<=u.height)break;y.lng>u.center.lng?y.lng-=360:y.lng+=360}return y}const td={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class wl extends n.Evented{constructor(l,u){if(super(),(l instanceof n.window.HTMLElement||u)&&(l=n.extend({element:l},u)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=l&&l.occludedOpacity||.2,l&&l.element)this._element=l.element,this._offset=n.pointGeometry.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=H("div");const I=41,F=27,se=q("svg",{display:"block",height:I*this._scale+"px",width:F*this._scale+"px",viewBox:`0 0 ${F} ${I}`},this._element),de=q("radialGradient",{id:"shadowGradient"},q("defs",{},se));q("stop",{offset:"10%","stop-opacity":.4},de),q("stop",{offset:"100%","stop-opacity":.05},de),q("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},se),q("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},se),q("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},se),q("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},se),this._offset=n.pointGeometry.convert(l&&l.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",I=>{I.preventDefault()}),this._element.addEventListener("mousedown",I=>{I.preventDefault()});const b=this._element.classList;for(const I in td)b.remove(`mapboxgl-marker-anchor-${I}`);b.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(l){return l===this._map||(this.remove(),this._map=l,l.getCanvasContainer().appendChild(this._element),l.on("move",this._updateMoving),l.on("moveend",this._update),l.on("remove",this._clearFadeTimer),l._addMarker(this),this.setDraggable(this._draggable),this._update(),l.on("click",this._onMapClick)),this}remove(){const l=this._map;return l&&(l.off("click",this._onMapClick),l.off("move",this._updateMoving),l.off("moveend",this._update),l.off("mousedown",this._addDragHandler),l.off("touchstart",this._addDragHandler),l.off("mouseup",this._onUp),l.off("touchend",this._onUp),l.off("mousemove",this._onMove),l.off("touchmove",this._onMove),l.off("remove",this._clearFadeTimer),l._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(l){return this._lngLat=n.LngLat.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){const I=Math.sqrt(Math.pow(13.5,2)/2);l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[I,-1*(38.1-13.5+I)],"bottom-right":[-I,-1*(38.1-13.5+I)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=l,l._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(l){const u=l.code,b=l.charCode||l.keyCode;u!=="Space"&&u!=="Enter"&&b!==32&&b!==13||this.togglePopup()}_onMapClick(l){const u=l.originalEvent.target,b=this._element;this._popup&&(u===b||b.contains(u))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const l=this._popup;return l?(l.isOpen()?(l.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(l.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const l=this._map,u=this._pos;if(!l||!u)return!1;const b=l.unproject(u),I=l.getFreeCameraOptions();if(!I.position)return!1;const F=I.position.toLngLat();return F.distanceTo(b)<.9*F.distanceTo(this._lngLat)}_evaluateOpacity(){const l=this._map;if(!l)return;const u=this._pos;if(!u||u.x<0||u.x>l.transform.width||u.y<0||u.y>l.transform.height)return void this._clearFadeTimer();const b=l.unproject(u);let I;l._showingGlobe()&&n.isLngLatBehindGlobe(l.transform,this._lngLat)?I=0:(I=1-l._queryFogOpacity(b),l.transform._terrainEnabled()&&l.getTerrain()&&this._behindTerrain()&&(I*=this._occludedOpacity)),this._element.style.opacity=`${I}`,this._element.style.pointerEvents=I>0?"auto":"none",this._popup&&this._popup._setOpacity(I),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const l=this._pos;if(!l||!this._map)return;const u=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${l.x}px,${l.y}px)
            ${td[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${u.x}px,${u.y}px)
        `}_calculateXYTransform(){const l=this._pos,u=this._map,b=this.getPitchAlignment();if(!u||!l||b!=="map")return"";if(!u._showingGlobe()){const fe=u.getPitch();return fe?`rotateX(${fe}deg)`:""}const I=n.radToDeg(n.globeTiltAtLngLat(u.transform,this._lngLat)),F=l.sub(n.globeCenterToScreenPoint(u.transform)),se=Math.abs(F.x)+Math.abs(F.y);if(se===0)return"";const de=I/se;return`rotateX(${-F.y*de}deg) rotateY(${F.x*de}deg)`}_calculateZTransform(){const l=this._pos,u=this._map;if(!u||!l)return"";let b=0;const I=this.getRotationAlignment();if(I==="map")if(u._showingGlobe()){const F=u.project(new n.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),se=u.project(new n.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(F);b=n.radToDeg(Math.atan2(se.y,se.x))-90}else b=-u.getBearing();else if(I==="horizon"){const F=n.smoothstep(4,6,u.getZoom()),se=n.globeCenterToScreenPoint(u.transform);se.y+=F*u.transform.height;const de=l.sub(se),fe=n.radToDeg(Math.atan2(de.y,de.x));b=(fe>90?fe-270:fe+90)*(1-F)}return b+=this._rotation,b?`rotateZ(${b}deg)`:""}_update(l){n.window.cancelAnimationFrame(this._updateFrameId);const u=this._map;u&&(u.transform.renderWorldCopies&&(this._lngLat=zp(this._lngLat,this._pos,u.transform)),this._pos=u.project(this._lngLat),l===!0?this._updateFrameId=n.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),u._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(u._showingGlobe()||u.getTerrain()||u.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(l){return this._offset=n.pointGeometry.convert(l),this._update(),this}_onMove(l){const u=this._map;if(!u)return;const b=this._pointerdownPos,I=this._positionDelta;if(b&&I){if(!this._isDragging){const F=this._clickTolerance||u._clickTolerance;if(l.point.dist(b)<F)return;this._isDragging=!0}this._pos=l.point.sub(I),this._lngLat=u.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const l=this._map;l&&(l.off("mousemove",this._onMove),l.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"}_addDragHandler(l){const u=this._map,b=this._pos;u&&b&&this._element.contains(l.originalEvent.target)&&(l.preventDefault(),this._positionDelta=l.point.sub(b),this._pointerdownPos=l.point,this._state="pending",u.on("mousemove",this._onMove),u.on("touchmove",this._onMove),u.once("mouseup",this._onUp),u.once("touchend",this._onUp))}setDraggable(l){this._draggable=!!l;const u=this._map;return u&&(l?(u.on("mousedown",this._addDragHandler),u.on("touchstart",this._addDragHandler)):(u.off("mousedown",this._addDragHandler),u.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(l){return this._rotation=l||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(l){return this._rotationAlignment=l||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(l){return this._pitchAlignment=l||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(l){return this._occludedOpacity=l||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Cu={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},n0=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Ca(y=new n.pointGeometry(0,0),l="bottom"){if(typeof y=="number"){const u=Math.round(Math.sqrt(.5*Math.pow(y,2)));switch(l){case"top":return new n.pointGeometry(0,y);case"top-left":return new n.pointGeometry(u,u);case"top-right":return new n.pointGeometry(-u,u);case"bottom":return new n.pointGeometry(0,-y);case"bottom-left":return new n.pointGeometry(u,-u);case"bottom-right":return new n.pointGeometry(-u,-u);case"left":return new n.pointGeometry(y,0);case"right":return new n.pointGeometry(-y,0)}return new n.pointGeometry(0,0)}return y instanceof n.pointGeometry||Array.isArray(y)?n.pointGeometry.convert(y):n.pointGeometry.convert(y[l]||[0,0])}class s0{constructor(l){this.jumpTo(l)}getValue(l){if(l<=this._startTime)return this._start;if(l>=this._endTime)return this._end;const u=n.easeCubicInOut((l-this._startTime)/(this._endTime-this._startTime));return this._start*(1-u)+this._end*u}isEasing(l){return l>=this._startTime&&l<=this._endTime}jumpTo(l){this._startTime=-1/0,this._endTime=-1/0,this._start=l,this._end=l}easeTo(l,u,b){this._start=this.getValue(u),this._end=l,this._startTime=u,this._endTime=u+b}}const r0={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},o0={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},a0={showCompass:!0,showZoom:!0,visualizePitch:!1};class l0{constructor(l,u,b=!1){this._clickTolerance=10,this.element=u,this.mouseRotate=new kp({clickTolerance:l.dragRotate._mouseRotate._clickTolerance}),this.map=l,b&&(this.mousePitch=new Pp({clickTolerance:l.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),u.addEventListener("mousedown",this.mousedown),u.addEventListener("touchstart",this.touchstart,{passive:!1}),u.addEventListener("touchmove",this.touchmove),u.addEventListener("touchend",this.touchend),u.addEventListener("touchcancel",this.reset)}down(l,u){this.mouseRotate.mousedown(l,u),this.mousePitch&&this.mousePitch.mousedown(l,u),M()}move(l,u){const b=this.map,I=this.mouseRotate.mousemoveWindow(l,u),F=I&&I.bearingDelta;if(F&&b.setBearing(b.getBearing()+F),this.mousePitch){const se=this.mousePitch.mousemoveWindow(l,u),de=se&&se.pitchDelta;de&&b.setPitch(b.getPitch()+de)}}off(){const l=this.element;l.removeEventListener("mousedown",this.mousedown),l.removeEventListener("touchstart",this.touchstart,{passive:!1}),l.removeEventListener("touchmove",this.touchmove),l.removeEventListener("touchend",this.touchend),l.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){E(),n.window.removeEventListener("mousemove",this.mousemove),n.window.removeEventListener("mouseup",this.mouseup)}mousedown(l){this.down(n.extend({},l,{ctrlKey:!0,preventDefault:()=>l.preventDefault()}),G(this.element,l)),n.window.addEventListener("mousemove",this.mousemove),n.window.addEventListener("mouseup",this.mouseup)}mousemove(l){this.move(l,G(this.element,l))}mouseup(l){this.mouseRotate.mouseupWindow(l),this.mousePitch&&this.mousePitch.mouseupWindow(l),this.offTemp()}touchstart(l){l.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=C(this.element,l.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>l.preventDefault()},this._startPos))}touchmove(l){l.targetTouches.length!==1?this.reset():(this._lastPos=C(this.element,l.targetTouches)[0],this.move({preventDefault:()=>l.preventDefault()},this._lastPos))}touchend(l){l.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Mu={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Fp={maxWidth:100,unit:"metric"};function c0(y,l,u){const b=Np(l),I=b/l,F={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[u];this._map._requestDomTask(()=>{this._container.style.width=y*I+"px",this._container.innerHTML=`${b}&nbsp;${F}`})}function Np(y){const l=Math.pow(10,`${Math.floor(y)}`.length-1);let u=y/l;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:u>=1?1:function(b){const I=Math.pow(10,Math.ceil(-Math.log(b)/Math.LN10));return Math.round(b*I)/I}(u),l*u}const wh={version:n.version,supported:z,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:class extends Vl{constructor(y){if(n.LivePerformanceUtils.mark(n.PerformanceMarkers.create),(y=n.extend({},o0,y)).minZoom!=null&&y.maxZoom!=null&&y.minZoom>y.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(y.minPitch!=null&&y.maxPitch!=null&&y.minPitch>y.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(y.minPitch!=null&&y.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(y.maxPitch!=null&&y.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(y.antialias&&n.isSafariWithAntialiasingBug(n.window)&&(y.antialias=!1,n.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new vr(y.minZoom,y.maxZoom,y.minPitch,y.maxPitch,y.renderWorldCopies),y),this._interactive=y.interactive,this._minTileCacheSize=y.minTileCacheSize,this._maxTileCacheSize=y.maxTileCacheSize,this._failIfMajorPerformanceCaveat=y.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=y.preserveDrawingBuffer,this._antialias=y.antialias,this._trackResize=y.trackResize,this._bearingSnap=y.bearingSnap,this._refreshExpiredTiles=y.refreshExpiredTiles,this._fadeDuration=y.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=y.crossSourceCollisions,this._collectResourceTiming=y.collectResourceTiming,this._optimizeForTerrain=y.optimizeForTerrain,this._language=this._parseLanguage(y.language),this._worldview=y.worldview,this._renderTaskQueue=new Bp,this._domRenderTaskQueue=new Bp,this._controls=[],this._markers=[],this._popups=[],this._mapId=n.uniqueId(),this._locale=n.extend({},r0,y.locale),this._clickTolerance=y.clickTolerance,this._cooperativeGestures=y.cooperativeGestures,this._performanceMetricsCollection=y.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new s0(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new n.RequestManager(y.transformRequest,y.accessToken,y.testMode),this._silenceAuthErrors=!!y.testMode,typeof y.container=="string"){if(this._container=n.window.document.getElementById(y.container),!this._container)throw new Error(`Container '${y.container}' not found.`)}else{if(!(y.container instanceof n.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=y.container}if(this._container.childNodes.length>0&&n.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),y.maxBounds&&this.setMaxBounds(y.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),n.window!==void 0&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1),n.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),n.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Pd(this,y),this._localFontFamily=y.localFontFamily,this._localIdeographFontFamily=y.localIdeographFontFamily,y.style&&this.setStyle(y.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),y.projection&&this.setProjection(y.projection),this._hash=y.hash&&new Xi(typeof y.hash=="string"&&y.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),y.bounds&&(this.resize(),this.fitBounds(y.bounds,n.extend({},y.fitBoundsOptions,{duration:0})))),this.resize(),y.attributionControl&&this.addControl(new Op({customAttribution:y.customAttribution})),this._logoControl=new Rp,this.addControl(this._logoControl,y.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",l=>{this._update(l.dataType==="style"),this.fire(new n.Event(`${l.dataType}data`,l))}),this.on("dataloading",l=>{this.fire(new n.Event(`${l.dataType}dataloading`,l))})}_getMapId(){return this._mapId}addControl(y,l){if(l===void 0&&(l=y.getDefaultPosition?y.getDefaultPosition():"top-right"),!y||!y.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const u=y.onAdd(this);this._controls.push(y);const b=this._controlPositions[l];return l.indexOf("bottom")!==-1?b.insertBefore(u,b.firstChild):b.appendChild(u),this}removeControl(y){if(!y||!y.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const l=this._controls.indexOf(y);return l>-1&&this._controls.splice(l,1),y.onRemove(this),this}hasControl(y){return this._controls.indexOf(y)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(y){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const l=!this._moving;return l&&this.fire(new n.Event("movestart",y)).fire(new n.Event("move",y)),this.fire(new n.Event("resize",y)),l&&this.fire(new n.Event("moveend",y)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(y){return this.transform.setMaxBounds(n.LngLatBounds.convert(y)),this._update()}setMinZoom(y){if((y=y??-2)>=-2&&y<=this.transform.maxZoom)return this.transform.minZoom=y,this._update(),this.getZoom()<y?this.setZoom(y):this.fire(new n.Event("zoomstart")).fire(new n.Event("zoom")).fire(new n.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(y){if((y=y??22)>=this.transform.minZoom)return this.transform.maxZoom=y,this._update(),this.getZoom()>y?this.setZoom(y):this.fire(new n.Event("zoomstart")).fire(new n.Event("zoom")).fire(new n.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(y){if((y=y??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(y>=0&&y<=this.transform.maxPitch)return this.transform.minPitch=y,this._update(),this.getPitch()<y?this.setPitch(y):this.fire(new n.Event("pitchstart")).fire(new n.Event("pitch")).fire(new n.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(y){if((y=y??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(y>=this.transform.minPitch)return this.transform.maxPitch=y,this._update(),this.getPitch()>y?this.setPitch(y):this.fire(new n.Event("pitchstart")).fire(new n.Event("pitch")).fire(new n.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(y){return this.transform.renderWorldCopies=y,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(y){return y==="auto"?n.window.navigator.language:Array.isArray(y)?y.length===0?void 0:y.map(l=>l==="auto"?n.window.navigator.language:l):y}setLanguage(y){const l=this._parseLanguage(y);if(!this.style||l===this._language)return this;this._language=l,this.style._reloadSources();for(const u of this._controls)u._setLanguage&&u._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(y){return this.style&&y!==this._worldview?(this._worldview=y,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(y){return this._lazyInitEmptyStyle(),y?typeof y=="string"&&(y={name:y}):y=null,this._useExplicitProjection=!!y,this._prioritizeAndUpdateProjection(y,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const y=this.transform,l=y.projection.name;let u;l==="globe"&&y.zoom>=n.GLOBE_ZOOM_THRESHOLD_MAX?(y.setMercatorFromTransition(),u=!0):l==="mercator"&&y.zoom<n.GLOBE_ZOOM_THRESHOLD_MAX&&(y.setProjection({name:"globe"}),u=!0),u&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(y,l){return this._updateProjection(y||l||{name:"mercator"})}_updateProjection(y){let l;if(l=y.name==="globe"&&this.transform.zoom>=n.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(y),this.style.applyProjectionUpdate(),l){this.painter.clearBackgroundTiles();for(const u in this.style._sourceCaches)this.style._sourceCaches[u].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(y){return this.transform.locationPoint3D(n.LngLat.convert(y))}unproject(y){return this.transform.pointLocation3D(n.pointGeometry.convert(y))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(y,l,u){if(y==="mouseenter"||y==="mouseover"){let b=!1;const I=se=>{const de=l.filter(De=>this.getLayer(De)),fe=de.length?this.queryRenderedFeatures(se.point,{layers:de}):[];fe.length?b||(b=!0,u.call(this,new Xs(y,this,se.originalEvent,{features:fe}))):b=!1},F=()=>{b=!1};return{layers:new Set(l),listener:u,delegates:{mousemove:I,mouseout:F}}}if(y==="mouseleave"||y==="mouseout"){let b=!1;const I=se=>{const de=l.filter(fe=>this.getLayer(fe));(de.length?this.queryRenderedFeatures(se.point,{layers:de}):[]).length?b=!0:b&&(b=!1,u.call(this,new Xs(y,this,se.originalEvent)))},F=se=>{b&&(b=!1,u.call(this,new Xs(y,this,se.originalEvent)))};return{layers:new Set(l),listener:u,delegates:{mousemove:I,mouseout:F}}}{const b=I=>{const F=l.filter(de=>this.getLayer(de)),se=F.length?this.queryRenderedFeatures(I.point,{layers:F}):[];se.length&&(I.features=se,u.call(this,I),delete I.features)};return{layers:new Set(l),listener:u,delegates:{[y]:b}}}}on(y,l,u){if(u===void 0)return super.on(y,l);Array.isArray(l)||(l=[l]);const b=this._createDelegatedListener(y,l,u);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[y]=this._delegatedListeners[y]||[],this._delegatedListeners[y].push(b);for(const I in b.delegates)this.on(I,b.delegates[I]);return this}once(y,l,u){if(u===void 0)return super.once(y,l);Array.isArray(l)||(l=[l]);const b=this._createDelegatedListener(y,l,u);for(const I in b.delegates)this.once(I,b.delegates[I]);return this}off(y,l,u){if(u===void 0)return super.off(y,l);l=new Set(Array.isArray(l)?l:[l]);const b=(F,se)=>{if(F.size!==se.size)return!1;for(const de of F)if(!se.has(de))return!1;return!0},I=this._delegatedListeners?this._delegatedListeners[y]:void 0;return I&&(F=>{for(let se=0;se<F.length;se++){const de=F[se];if(de.listener===u&&b(de.layers,l)){for(const fe in de.delegates)this.off(fe,de.delegates[fe]);return F.splice(se,1),this}}})(I),this}queryRenderedFeatures(y,l){return this.style?(l!==void 0||y===void 0||y instanceof n.pointGeometry||Array.isArray(y)||(l=y,y=void 0),this.style.queryRenderedFeatures(y=y||[[0,0],[this.transform.width,this.transform.height]],l=l||{},this.transform)):[]}querySourceFeatures(y,l){return this.style.querySourceFeatures(y,l)}setStyle(y,l){return(l=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},l)).diff!==!1&&l.localIdeographFontFamily===this._localIdeographFontFamily&&l.localFontFamily===this._localFontFamily&&this.style&&y?(this._diffStyle(y,l),this):(this._localIdeographFontFamily=l.localIdeographFontFamily,this._localFontFamily=l.localFontFamily,this._updateStyle(y,l))}_getUIString(y){const l=this._locale[y];if(l==null)throw new Error(`Missing UI string '${y}'`);return l}_updateStyle(y,l){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),y&&(this.style=new U(this,l||{}),this.style.setEventedParent(this,{style:this.style}),typeof y=="string"?this.style.loadURL(y):this.style.loadJSON(y)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new U(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(y,l){if(typeof y=="string"){const u=this._requestManager.normalizeStyleURL(y),b=this._requestManager.transformRequest(u,n.ResourceType.Style);n.getJSON(b,(I,F)=>{I?this.fire(new n.ErrorEvent(I)):F&&this._updateDiff(F,l)})}else typeof y=="object"&&this._updateDiff(y,l)}_updateDiff(y,l){try{this.style.setState(y)&&this._update(!0)}catch(u){n.warnOnce(`Unable to perform style diff: ${u.message||u.error||u}.  Rebuilding the style from scratch.`),this._updateStyle(y,l)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(n.warnOnce("There is no style added to the map."),!1)}addSource(y,l){return this._lazyInitEmptyStyle(),this.style.addSource(y,l),this._update(!0)}isSourceLoaded(y){return!!this.style&&this.style._isSourceCacheLoaded(y)}areTilesLoaded(){const y=this.style&&this.style._sourceCaches;for(const l in y){const u=y[l]._tiles;for(const b in u){const I=u[b];if(I.state!=="loaded"&&I.state!=="errored")return!1}}return!0}addSourceType(y,l,u){this._lazyInitEmptyStyle(),this.style.addSourceType(y,l,u)}removeSource(y){return this.style.removeSource(y),this._updateTerrain(),this._update(!0)}getSource(y){return this.style.getSource(y)}addImage(y,l,{pixelRatio:u=1,sdf:b=!1,stretchX:I,stretchY:F,content:se}={}){if(this._lazyInitEmptyStyle(),l instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&l instanceof n.window.ImageBitmap){const{width:de,height:fe,data:De}=n.exported.getImageData(l);this.style.addImage(y,{data:new n.RGBAImage({width:de,height:fe},De),pixelRatio:u,stretchX:I,stretchY:F,content:se,sdf:b,version:0})}else if(l.width===void 0||l.height===void 0)this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:de,height:fe}=l,De=l;this.style.addImage(y,{data:new n.RGBAImage({width:de,height:fe},new Uint8Array(De.data)),pixelRatio:u,stretchX:I,stretchY:F,content:se,sdf:b,version:0,userImage:De}),De.onAdd&&De.onAdd(this,y)}}updateImage(y,l){const u=this.style.getImage(y);if(!u)return void this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const b=l instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&l instanceof n.window.ImageBitmap?n.exported.getImageData(l):l,{width:I,height:F}=b;I!==void 0&&F!==void 0?I===u.data.width&&F===u.data.height?(u.data.replace(b.data,!(l instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&l instanceof n.window.ImageBitmap)),this.style.updateImage(y,u)):this.fire(new n.ErrorEvent(new Error(`The width and height of the updated image (${I}, ${F})
                must be that same as the previous version of the image
                (${u.data.width}, ${u.data.height})`))):this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(y){return y?!!this.style.getImage(y):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(y){this.style.removeImage(y)}loadImage(y,l){n.getImage(this._requestManager.transformRequest(y,n.ResourceType.Image),(u,b)=>{l(u,b instanceof n.window.HTMLImageElement?n.exported.getImageData(b):b)})}listImages(){return this.style.listImages()}addLayer(y,l){return this._lazyInitEmptyStyle(),this.style.addLayer(y,l),this._update(!0)}moveLayer(y,l){return this.style.moveLayer(y,l),this._update(!0)}removeLayer(y){return this.style.removeLayer(y),this._update(!0)}getLayer(y){return this.style.getLayer(y)}setLayerZoomRange(y,l,u){return this.style.setLayerZoomRange(y,l,u),this._update(!0)}setFilter(y,l,u={}){return this.style.setFilter(y,l,u),this._update(!0)}getFilter(y){return this.style.getFilter(y)}setPaintProperty(y,l,u,b={}){return this.style.setPaintProperty(y,l,u,b),this._update(!0)}getPaintProperty(y,l){return this.style.getPaintProperty(y,l)}setLayoutProperty(y,l,u,b={}){return this.style.setLayoutProperty(y,l,u,b),this._update(!0)}getLayoutProperty(y,l){return this.style.getLayoutProperty(y,l)}setLight(y,l={}){return this._lazyInitEmptyStyle(),this.style.setLight(y,l),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(y){return this._lazyInitEmptyStyle(),!y&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(y),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(y){return this._lazyInitEmptyStyle(),this.style.setFog(y),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(y){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(n.LngLat.convert(y),this.transform):0}setFeatureState(y,l){return this.style.setFeatureState(y,l),this._update()}removeFeatureState(y,l){return this.style.removeFeatureState(y,l),this._update()}getFeatureState(y){return this.style.getFeatureState(y)}_updateContainerDimensions(){if(!this._container)return;const y=this._container.getBoundingClientRect().width||400,l=this._container.getBoundingClientRect().height||300;let u,b,I,F=this._container;for(;F&&(!b||!I);){const se=n.window.getComputedStyle(F).transform;se&&se!=="none"&&(u=se.match(/matrix.*\((.+)\)/)[1].split(", "),u[0]&&u[0]!=="0"&&u[0]!=="1"&&(b=u[0]),u[3]&&u[3]!=="0"&&u[3]!=="1"&&(I=u[3])),F=F.parentElement}this._containerWidth=b?Math.abs(y/b):y,this._containerHeight=I?Math.abs(l/I):l}_detectMissingCSS(){n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const y=this._container;y.classList.add("mapboxgl-map"),(this._missingCSSCanary=H("div","mapboxgl-canary",y)).style.visibility="hidden",this._detectMissingCSS();const l=this._canvasContainer=H("div","mapboxgl-canvas-container",y);this._interactive&&l.classList.add("mapboxgl-interactive"),this._canvas=H("canvas","mapboxgl-canvas",l),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const u=this._controlContainer=H("div","mapboxgl-control-container",y),b=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(I=>{b[I]=H("div",`mapboxgl-ctrl-${I}`,u)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(y,l){const u=n.exported.devicePixelRatio||1;this._canvas.width=u*Math.ceil(y),this._canvas.height=u*Math.ceil(l),this._canvas.style.width=`${y}px`,this._canvas.style.height=`${l}px`}_addMarker(y){this._markers.push(y)}_removeMarker(y){const l=this._markers.indexOf(y);l!==-1&&this._markers.splice(l,1)}_addPopup(y){this._popups.push(y)}_removePopup(y){const l=this._popups.indexOf(y);l!==-1&&this._popups.splice(l,1)}_setupPainter(){const y=n.extend({},z.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),l=this._canvas.getContext("webgl",y)||this._canvas.getContext("experimental-webgl",y);l?(n.storeAuthState(l,!0),this.painter=new An(l,this.transform),this.on("data",u=>{u.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),n.exported$1.testSupport(l)):this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(y){y.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:y}))}_contextRestored(y){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:y}))}_onMapScroll(y){if(y.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(y){return this.style?(this._styleDirty=this._styleDirty||y,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(y){return this._update(),this._renderTaskQueue.add(y)}_cancelRenderFrame(y){this._renderTaskQueue.remove(y)}_requestDomTask(y){!this.loaded()||this.loaded()&&!this.isMoving()?y():this._domRenderTaskQueue.add(y)}_render(y){let l;const u=this.painter.context.extTimerQuery,b=n.exported.now();if(this.listens("gpu-timing-frame")&&(l=u.createQueryEXT(),u.beginQueryEXT(u.TIME_ELAPSED_EXT,l)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],n.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],n.window.performance.now())),this._renderTaskQueue.run(y),this._domRenderTaskQueue.run(y),this._removed)return;this._updateProjectionTransition();const I=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const de=this.transform.zoom,fe=this.transform.pitch,De=n.exported.now(),ke=new n.EvaluationParameters(de,{now:De,fadeDuration:I,pitch:fe,transition:this.style.getTransition()});this.style.update(ke)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let F=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),F=this._updateAverageElevation(b),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):F=this._updateAverageElevation(b),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,I,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:I,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),l){const de=n.exported.now()-b;u.endQueryEXT(u.TIME_ELAPSED_EXT,l),setTimeout(()=>{const fe=u.getQueryObjectEXT(l,u.QUERY_RESULT_EXT)/1e6;u.deleteQueryEXT(l),this.fire(new n.Event("gpu-timing-frame",{cpuTime:de,gpuTime:fe})),n.window.performance.mark("frame-gpu",{startTime:b,detail:{gpuTime:fe}})},50)}if(this.listens("gpu-timing-layer")){const de=this.painter.collectGpuTimers();setTimeout(()=>{const fe=this.painter.queryGpuTimers(de);this.fire(new n.Event("gpu-timing-layer",{layerTimes:fe}))},50)}if(this.listens("gpu-timing-deferred-render")){const de=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const fe=this.painter.queryGpuTimeDeferredRender(de);this.fire(new n.Event("gpu-timing-deferred-render",{gpuTime:fe}))},50)}const se=this._sourcesDirty||this._styleDirty||this._placementDirty||F;if(se||this._repaint)this.triggerRepaint();else{const de=!this.isMoving()&&this.loaded();if(de&&(F=this._updateAverageElevation(b,!0)),F)this.triggerRepaint();else if(this._triggerFrame(!1),de&&(this.fire(new n.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const fe=this._calculateSpeedIndex();this.fire(new n.Event("speedindexcompleted",{speedIndex:fe})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||se||(this._fullyLoaded=!0,n.LivePerformanceUtils.mark(n.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&n.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(y){for(const l of this._markers)y&&!this.getRenderWorldCopies()&&(l._lngLat=l._lngLat.wrap()),l._update();for(const l of this._popups)!y||this.getRenderWorldCopies()||l._trackPointer||(l._lngLat=l._lngLat.wrap()),l._update()}_updateAverageElevation(y,l=!1){const u=b=>(this.transform.averageElevation=b,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&u(0);if((l||y-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(y)){const b=this.transform.averageElevation;let I=this.transform.sampleAverageElevation(),F=!1;this.transform.elevation&&(F=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(I)?I=0:this._averageElevationLastSampledAt=y;const se=Math.abs(b-I);if(se>1){if(this._isInitialLoad||F)return this._averageElevation.jumpTo(I),u(I);this._averageElevation.easeTo(I,y,300)}else if(se>1e-4)return this._averageElevation.jumpTo(I),u(I)}return!!this._averageElevation.isEasing(y)&&u(this._averageElevation.getValue(y))}_authenticate(){n.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,y=>{if(y&&(y.message===n.AUTH_ERR_MSG||y.status===401)){const l=this.painter.context.gl;n.storeAuthState(l,!1),this._logoControl instanceof Rp&&this._logoControl._updateLogo(),l&&l.clear(l.DEPTH_BUFFER_BIT|l.COLOR_BUFFER_BIT|l.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new n.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),n.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const y=this._isDragging();this.painter.updateTerrain(this.style,y)}_calculateSpeedIndex(){const y=this.painter.canvasCopy(),l=this.painter.getCanvasCopiesAndTimestamps();l.timeStamps.push(performance.now());const u=this.painter.context.gl,b=u.createFramebuffer();function I(F){u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,F,0);const se=new Uint8Array(u.drawingBufferWidth*u.drawingBufferHeight*4);return u.readPixels(0,0,u.drawingBufferWidth,u.drawingBufferHeight,u.RGBA,u.UNSIGNED_BYTE,se),se}return u.bindFramebuffer(u.FRAMEBUFFER,b),this._canvasPixelComparison(I(y),l.canvasCopies.map(I),l.timeStamps)}_canvasPixelComparison(y,l,u){let b=u[1]-u[0];const I=y.length/4;for(let F=0;F<l.length;F++){const se=l[F];let de=0;for(let fe=0;fe<se.length;fe+=4)se[fe]===y[fe]&&se[fe+1]===y[fe+1]&&se[fe+2]===y[fe+2]&&se[fe+3]===y[fe+3]&&(de+=1);b+=(u[F+2]-u[F+1])*(1-de/I)}return b}remove(){this._hash&&this._hash.remove();for(const l of this._controls)l.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),n.window!==void 0&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1),n.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const y=this.painter.context.gl.getExtension("WEBGL_lose_context");y&&y.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),n.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new n.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(y){this._renderNextFrame=this._renderNextFrame||y,this.style&&!this._frame&&(this._frame=n.exported.frame(l=>{const u=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,u&&this._render(l)}))}_preloadTiles(y){const l=this.style?Object.values(this.style._sourceCaches):[];return n.asyncAll(l,(u,b)=>u._preloadTiles(y,b),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(y){this._trackResize&&this.resize({originalEvent:y})._update()}_onVisibilityChange(){n.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(y){this._showTileBoundaries!==y&&(this._showTileBoundaries=y,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(y){this._showTerrainWireframe!==y&&(this._showTerrainWireframe=y,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(y){this._speedIndexTiming!==y&&(this._speedIndexTiming=y,this._update())}get showPadding(){return!!this._showPadding}set showPadding(y){this._showPadding!==y&&(this._showPadding=y,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(y){this._showCollisionBoxes!==y&&(this._showCollisionBoxes=y,y?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(y){this._showOverdrawInspector!==y&&(this._showOverdrawInspector=y,this._update())}get repaint(){return!!this._repaint}set repaint(y){this._repaint!==y&&(this._repaint=y,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(y){this._vertices=y,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(y){this._showTileAABBs!==y&&(this._showTileAABBs=y,y&&this._update())}_setCacheLimits(y,l){n.setCacheLimits(y,l)}get version(){return n.version}},NavigationControl:class{constructor(y){this.options=n.extend({},a0,y),this._container=H("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",l=>l.preventDefault()),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",l=>{this._map&&this._map.zoomIn({},{originalEvent:l})}),H("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",l=>{this._map&&this._map.zoomOut({},{originalEvent:l})}),H("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",l=>{const u=this._map;u&&(this.options.visualizePitch?u.resetNorthPitch({},{originalEvent:l}):u.resetNorth({},{originalEvent:l}))}),this._compassIcon=H("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const y=this._map;if(!y)return;const l=y.getZoom(),u=l===y.getMaxZoom(),b=l===y.getMinZoom();this._zoomInButton.disabled=u,this._zoomOutButton.disabled=b,this._zoomInButton.setAttribute("aria-disabled",u.toString()),this._zoomOutButton.setAttribute("aria-disabled",b.toString())}_rotateCompassArrow(){const y=this._map;if(!y)return;const l=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(y.transform.pitch*(Math.PI/180)),.5)}) rotateX(${y.transform.pitch}deg) rotateZ(${y.transform.angle*(180/Math.PI)}deg)`:`rotate(${y.transform.angle*(180/Math.PI)}deg)`;y._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=l)})}onAdd(y){return this._map=y,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),y.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&y.on("pitch",this._rotateCompassArrow),y.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new l0(y,this._compass,this.options.visualizePitch)),this._container}onRemove(){const y=this._map;y&&(this._container.remove(),this.options.showZoom&&y.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&y.off("pitch",this._rotateCompassArrow),y.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(y,l){const u=H("button",y,this._container);return u.type="button",u.addEventListener("click",l),u}_setButtonTitle(y,l){if(!this._map)return;const u=this._map._getUIString(`NavigationControl.${l}`);y.setAttribute("aria-label",u),y.firstElementChild&&y.firstElementChild.setAttribute("title",u)}},GeolocateControl:class extends n.Evented{constructor(y){super(),this.options=n.extend({geolocation:n.window.navigator.geolocation},Mu,y),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Ga(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(y){return this._map=y,this._container=H("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(y){const l=(u=!!this.options.geolocation)=>{this._supportsGeolocation=u,y(u)};this._supportsGeolocation!==void 0?y(this._supportsGeolocation):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(u=>l(u.state!=="denied")).catch(()=>l()):l()}_isOutOfMapMaxBounds(y){const l=this._map.getMaxBounds(),u=y.coords;return!!l&&(u.longitude<l.getWest()||u.longitude>l.getEast()||u.latitude<l.getSouth()||u.latitude>l.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(y){if(this._map){if(this._isOutOfMapMaxBounds(y))return this._setErrorState(),this.fire(new n.Event("outofmaxbounds",y)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=y,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(y),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(y),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",y)),this._finish()}}_updateCamera(y){const l=new n.LngLat(y.coords.longitude,y.coords.latitude),u=y.coords.accuracy,b=this._map.getBearing(),I=n.extend({bearing:b},this.options.fitBoundsOptions);this._map.fitBounds(l.toBounds(u),I,{geolocateSource:!0})}_updateMarker(y){if(y){const l=new n.LngLat(y.coords.longitude,y.coords.latitude);this._accuracyCircleMarker.setLngLat(l).addTo(this._map),this._userLocationDotMarker.setLngLat(l).addTo(this._map),this._accuracy=y.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const y=this._map.transform,l=n.mercatorZfromAltitude(1,y._center.lat)*y.worldSize,u=Math.ceil(2*this._accuracy*l);this._circleElement.style.width=`${u}px`,this._circleElement.style.height=`${u}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(y){if(this._map){if(this.options.trackUserLocation)if(y.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(y.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",y)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(y){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",l=>l.preventDefault()),this._geolocateButton=H("button","mapboxgl-ctrl-geolocate",this._container),H("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",y===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l)}else{const l=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=H("div","mapboxgl-user-location"),this._dotElement.appendChild(H("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(H("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new wl({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=H("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new wl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",l=>{l.geolocateSource||this._watchState!=="ACTIVE_LOCK"||l.originalEvent&&l.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new n.Event("trackuserlocationend")))})}}_onDeviceOrientation(y){this._userLocationDotMarker&&(y.webkitCompassHeading?this._heading=y.webkitCompassHeading:y.absolute===!0&&(this._heading=-1*y.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let y;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(y={maximumAge:6e5,timeout:0},this._noTimeout=!0):(y=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,y),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const y=()=>{n.window.addEventListener("ondeviceorientationabsolute"in n.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};n.window.DeviceMotionEvent!==void 0&&typeof n.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(l=>{l==="granted"&&y()}).catch(console.error):y()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),n.window.removeEventListener("deviceorientation",this._onDeviceOrientation),n.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Op,ScaleControl:class{constructor(y){this.options=n.extend({},Fp,y),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=c0.bind(this)),n.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const y=this.options.maxWidth||100,l=this._map,u=l._containerHeight/2,b=l._containerWidth/2-y/2,I=l.unproject([b,u]),F=l.unproject([b+y,u]),se=I.distanceTo(F);if(this.options.unit==="imperial"){const de=3.2808*se;de>5280?this._setScale(y,de/5280,"mile"):this._setScale(y,de,"foot")}else this.options.unit==="nautical"?this._setScale(y,se/1852,"nautical-mile"):se>=1e3?this._setScale(y,se/1e3,"kilometer"):this._setScale(y,se,"meter")}_setScale(y,l,u){const b=Np(l),I=b/l;this._map._requestDomTask(()=>{this._container.style.width=y*I+"px",this._container.innerHTML=u!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:u}).format(b):`${b}&nbsp;nm`})}onAdd(y){return this._map=y,this._language=y.getLanguage(),this._container=H("div","mapboxgl-ctrl mapboxgl-ctrl-scale",y.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(y){this._language=y,this._update()}setUnit(y){this.options.unit=y,this._update()}},FullscreenControl:class{constructor(y){this._fullscreen=!1,y&&y.container&&(y.container instanceof n.window.HTMLElement?this._container=y.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in n.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(y){return this._map=y,this._container||(this._container=this._map.getContainer()),this._controlContainer=H("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!n.window.document.fullscreenEnabled&&!n.window.document.webkitFullscreenEnabled)}_setupUI(){const y=this._fullscreenButton=H("button","mapboxgl-ctrl-fullscreen",this._controlContainer);H("span","mapboxgl-ctrl-icon",y).setAttribute("aria-hidden","true"),y.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const y=this._getTitle();this._fullscreenButton.setAttribute("aria-label",y),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",y)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(n.window.document.fullscreenElement||n.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends n.Evented{constructor(y){super(),this.options=n.extend(Object.create(Cu),y),n.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(y&&y.className?y.className.trim().split(/\s+/):[])}addTo(y){return this._map&&this.remove(),this._map=y,this.options.closeOnClick&&y.on("preclick",this._onClose),this.options.closeOnMove&&y.on("move",this._onClose),y.on("remove",this.remove),this._update(),y._addPopup(this),this._focusFirstElement(),this._trackPointer?(y.on("mousemove",this._onMouseEvent),y.on("mouseup",this._onMouseEvent),y._canvasContainer.classList.add("mapboxgl-track-pointer")):y.on("move",this._update),this.fire(new n.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const y=this._map;return y&&(y.off("move",this._update),y.off("move",this._onClose),y.off("preclick",this._onClose),y.off("click",this._onClose),y.off("remove",this.remove),y.off("mousemove",this._onMouseEvent),y.off("mouseup",this._onMouseEvent),y.off("drag",this._onMouseEvent),y._canvasContainer&&y._canvasContainer.classList.remove("mapboxgl-track-pointer"),y._removePopup(this),this._map=void 0),this.fire(new n.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(y){this._lngLat=n.LngLat.convert(y),this._pos=null,this._trackPointer=!1,this._update();const l=this._map;return l&&(l.on("move",this._update),l.off("mousemove",this._onMouseEvent),l._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const y=this._map;return y&&(y.off("move",this._update),y.on("mousemove",this._onMouseEvent),y.on("drag",this._onMouseEvent),y._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(y){return this.setDOMContent(n.window.document.createTextNode(y))}setHTML(y){const l=n.window.document.createDocumentFragment(),u=n.window.document.createElement("body");let b;for(u.innerHTML=y;b=u.firstChild,b;)l.appendChild(b);return this.setDOMContent(l)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(y){return this.options.maxWidth=y,this._update(),this}setDOMContent(y){let l=this._content;if(l)for(;l.hasChildNodes();)l.firstChild&&l.removeChild(l.firstChild);else l=this._content=H("div","mapboxgl-popup-content",this._container||void 0);if(l.appendChild(y),this.options.closeButton){const u=this._closeButton=H("button","mapboxgl-popup-close-button",l);u.type="button",u.setAttribute("aria-label","Close popup"),u.setAttribute("aria-hidden","true"),u.innerHTML="&#215;",u.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(y){return this._classList.add(y),this._updateClassList(),this}removeClassName(y){return this._classList.delete(y),this._updateClassList(),this}setOffset(y){return this.options.offset=y,this._update(),this}toggleClassName(y){let l;return this._classList.delete(y)?l=!1:(this._classList.add(y),l=!0),this._updateClassList(),l}_onMouseEvent(y){this._update(y.point)}_getAnchor(y){if(this.options.anchor)return this.options.anchor;const l=this._map,u=this._container,b=this._pos;if(!l||!u||!b)return"bottom";const I=u.offsetWidth,F=u.offsetHeight,se=b.x<I/2,de=b.x>l.transform.width-I/2;if(b.y+y<F)return se?"top-left":de?"top-right":"top";if(b.y>l.transform.height-F){if(se)return"bottom-left";if(de)return"bottom-right"}return se?"left":de?"right":"bottom"}_updateClassList(){const y=this._container;if(!y)return;const l=[...this._classList];l.push("mapboxgl-popup"),this._anchor&&l.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&l.push("mapboxgl-popup-track-pointer"),y.className=l.join(" ")}_update(y){const l=this._map,u=this._content;if(!l||!this._lngLat&&!this._trackPointer||!u)return;let b=this._container;if(b||(b=this._container=H("div","mapboxgl-popup",l.getContainer()),this._tip=H("div","mapboxgl-popup-tip",b),b.appendChild(u)),this.options.maxWidth&&b.style.maxWidth!==this.options.maxWidth&&(b.style.maxWidth=this.options.maxWidth),l.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=zp(this._lngLat,this._pos,l.transform)),!this._trackPointer||y){const I=this._pos=this._trackPointer&&y?y:l.project(this._lngLat),F=Ca(this.options.offset),se=this._anchor=this._getAnchor(F.y),de=Ca(this.options.offset,se),fe=I.add(de).round();l._requestDomTask(()=>{this._container&&se&&(this._container.style.transform=`${td[se]} translate(${fe.x}px,${fe.y}px)`)})}if(!this._marker&&l._showingGlobe()){const I=n.isLngLatBehindGlobe(l.transform,this._lngLat)?0:1;this._setOpacity(I)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const y=this._container.querySelector(n0);y&&y.focus()}_onClose(){this.remove()}_setOpacity(y){this._container&&(this._container.style.opacity=`${y}`),this._content&&(this._content.style.pointerEvents=y?"auto":"none")}},Marker:wl,Style:U,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.pointGeometry,MercatorCoordinate:n.MercatorCoordinate,FreeCameraOptions:xe,Evented:n.Evented,config:n.config,prewarm:function(){Ni().acquire(gn)},clearPrewarmedResources:function(){const y=nn;y&&(y.isPreloaded()&&y.numActive()===1?(y.release(gn),nn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(y){n.config.ACCESS_TOKEN=y},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(y){n.config.API_URL=y},get workerCount(){return mn.workerCount},set workerCount(y){mn.workerCount=y},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(y){n.config.MAX_PARALLEL_IMAGE_REQUESTS=y},clearStorage(y){n.clearTileCache(y)},workerUrl:"",workerClass:null,setNow:n.exported.setNow,restoreNow:n.exported.restoreNow};return wh});var m=c;return m})})(k8);var B7=k8.exports;const nl=uh(B7);var Rm=F7,z7=Object.prototype.hasOwnProperty;function F7(){for(var e={},t=0;t<arguments.length;t++){var s=arguments[t];for(var a in s)z7.call(s,a)&&(e[a]=s[a])}return e}var D8={exports:{}};(function(e,t){(function(){var s={};e.exports=s,s.simpleFilter=function(a,c){return c.filter(function(d){return s.test(a,d)})},s.test=function(a,c){return s.match(a,c)!==null},s.match=function(a,c,d){d=d||{};var m=0,n=[],S=c.length,z=0,Z=0,O=d.pre||"",H=d.post||"",q=d.caseSensitive&&c||c.toLowerCase(),L;a=d.caseSensitive&&a||a.toLowerCase();for(var R=0;R<S;R++)L=c[R],q[R]===a[m]?(L=O+L+H,m+=1,Z+=1+Z):Z=0,z+=Z,n[n.length]=L;return m===a.length?(z=q===a?1/0:z,{rendered:n.join(""),score:z}):null},s.filter=function(a,c,d){return!c||c.length===0?[]:typeof a!="string"?c:(d=d||{},c.reduce(function(m,n,S,z){var Z=n;d.extract&&(Z=d.extract(n));var O=s.match(a,Z,d);return O!=null&&(m[m.length]={string:O.rendered,score:O.score,index:S,original:n}),m},[]).sort(function(m,n){var S=n.score-m.score;return S||m.index-n.index}))}})()})(D8);var N7=D8.exports,ac=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};ac.prototype.show=function(){this.element.style.display="block"};ac.prototype.hide=function(){this.element.style.display="none"};ac.prototype.add=function(e){this.items.push(e)};ac.prototype.clear=function(){this.items=[],this.active=0};ac.prototype.isEmpty=function(){return!this.items.length};ac.prototype.isVisible=function(){return this.element.style.display==="block"};ac.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};ac.prototype.drawItem=function(e,t){var s=document.createElement("li"),a=document.createElement("a");t&&(s.className+=" active"),a.innerHTML=e.string,s.appendChild(a),this.element.appendChild(s),s.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),s.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))};ac.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};ac.prototype.move=function(e){this.active=e,this.draw()};ac.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};ac.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};ac.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()};var j7=ac,U7=Rm,G7=N7,V7=j7,ol=function(e,t,s){return s=s||{},this.options=U7({minLength:2,limit:5,filter:!0,hideOnBlur:!0},s),this.el=e,this.data=t||[],this.list=new V7(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(a){this.handleKeyUp(a.keyCode)}).bind(this),!1),this.el.addEventListener("keydown",(function(a){this.handleKeyDown(a)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(a){this.handlePaste(a)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};ol.prototype.handleKeyUp=function(e){e===40||e===38||e===27||e===13||e===9||this.handleInputChange(this.el.value)};ol.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};ol.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};ol.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}};ol.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(t){for(var s=0;s<t.length&&(this.list.add(t[s]),s!==this.options.limit-1);s++);this.list.draw()}).bind(this))};ol.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};ol.prototype.update=function(e){this.data=e,this.handleKeyUp()};ol.prototype.clear=function(){this.data=[],this.list.clear()};ol.prototype.normalize=function(e){return e=e.toLowerCase(),e};ol.prototype.match=function(e,t){return e.indexOf(t)>-1};ol.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")};ol.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:(function(a){return this.getItemValue(a)}).bind(this)},s;this.options.filter?(s=G7.filter(this.query,this.data,t),s=s.map((function(a){return{original:a.original,string:this.render(a.original,a.string)}}).bind(this))):s=this.data.map((function(a){var c=this.render(a);return{original:a,string:c}}).bind(this)),e(s)};ol.prototype.getItemValue=function(e){return e};ol.prototype.render=function(e,t){if(t)return t;for(var s=e.original?this.getItemValue(e.original):this.getItemValue(e),a=this.normalize(s),c=a.lastIndexOf(this.query);c>-1;){var d=c+this.query.length;s=s.slice(0,c)+"<strong>"+s.slice(c,d)+"</strong>"+s.slice(d),c=a.slice(0,c).lastIndexOf(this.query)}return s};ol.prototype.renderError=function(e){this.list.drawError(e)};var $7=ol,I8=$7,H7=I8;typeof window<"u"&&(window.Suggestions=I8);var W7="Expected a function",h5=0/0,Y7="[object Symbol]",q7=/^\s+|\s+$/g,X7=/^[-+]0x[0-9a-f]+$/i,Z7=/^0b[01]+$/i,K7=/^0o[0-7]+$/i,J7=parseInt,Q7=typeof ta=="object"&&ta&&ta.Object===Object&&ta,eR=typeof self=="object"&&self&&self.Object===Object&&self,tR=Q7||eR||Function("return this")(),iR=Object.prototype,nR=iR.toString,sR=Math.max,rR=Math.min,G2=function(){return tR.Date.now()};function oR(e,t,s){var a,c,d,m,n,S,z=0,Z=!1,O=!1,H=!0;if(typeof e!="function")throw new TypeError(W7);t=d5(t)||0,Nw(s)&&(Z=!!s.leading,O="maxWait"in s,d=O?sR(d5(s.maxWait)||0,t):d,H="trailing"in s?!!s.trailing:H);function q(C){var te=a,Q=c;return a=c=void 0,z=C,m=e.apply(Q,te),m}function L(C){return z=C,n=setTimeout(M,t),Z?q(C):m}function R(C){var te=C-S,Q=C-z,N=t-te;return O?rR(N,d-Q):N}function $(C){var te=C-S,Q=C-z;return S===void 0||te>=t||te<0||O&&Q>=d}function M(){var C=G2();if($(C))return E(C);n=setTimeout(M,R(C))}function E(C){return n=void 0,H&&a?q(C):(a=c=void 0,m)}function k(){n!==void 0&&clearTimeout(n),z=0,a=S=c=n=void 0}function V(){return n===void 0?m:E(G2())}function G(){var C=G2(),te=$(C);if(a=arguments,c=this,S=C,te){if(n===void 0)return L(S);if(O)return n=setTimeout(M,t),q(S)}return n===void 0&&(n=setTimeout(M,t)),m}return G.cancel=k,G.flush=V,G}function Nw(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function aR(e){return!!e&&typeof e=="object"}function lR(e){return typeof e=="symbol"||aR(e)&&nR.call(e)==Y7}function d5(e){if(typeof e=="number")return e;if(lR(e))return h5;if(Nw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Nw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(q7,"");var s=Z7.test(e);return s||K7.test(e)?J7(e.slice(2),s?2:8):X7.test(e)?h5:+e}var cR=oR,SS={exports:{}},fm=typeof Reflect=="object"?Reflect:null,u5=fm&&typeof fm.apply=="function"?fm.apply:function(t,s,a){return Function.prototype.apply.call(t,s,a)},lv;fm&&typeof fm.ownKeys=="function"?lv=fm.ownKeys:Object.getOwnPropertySymbols?lv=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:lv=function(t){return Object.getOwnPropertyNames(t)};function hR(e){console&&console.warn&&console.warn(e)}var L8=Number.isNaN||function(t){return t!==t};function Mr(){Mr.init.call(this)}SS.exports=Mr;SS.exports.once=fR;Mr.EventEmitter=Mr;Mr.prototype._events=void 0;Mr.prototype._eventsCount=0;Mr.prototype._maxListeners=void 0;var p5=10;function Lx(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Mr,"defaultMaxListeners",{enumerable:!0,get:function(){return p5},set:function(e){if(typeof e!="number"||e<0||L8(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");p5=e}});Mr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Mr.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||L8(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function O8(e){return e._maxListeners===void 0?Mr.defaultMaxListeners:e._maxListeners}Mr.prototype.getMaxListeners=function(){return O8(this)};Mr.prototype.emit=function(t){for(var s=[],a=1;a<arguments.length;a++)s.push(arguments[a]);var c=t==="error",d=this._events;if(d!==void 0)c=c&&d.error===void 0;else if(!c)return!1;if(c){var m;if(s.length>0&&(m=s[0]),m instanceof Error)throw m;var n=new Error("Unhandled error."+(m?" ("+m.message+")":""));throw n.context=m,n}var S=d[t];if(S===void 0)return!1;if(typeof S=="function")u5(S,this,s);else for(var z=S.length,Z=N8(S,z),a=0;a<z;++a)u5(Z[a],this,s);return!0};function R8(e,t,s,a){var c,d,m;if(Lx(s),d=e._events,d===void 0?(d=e._events=Object.create(null),e._eventsCount=0):(d.newListener!==void 0&&(e.emit("newListener",t,s.listener?s.listener:s),d=e._events),m=d[t]),m===void 0)m=d[t]=s,++e._eventsCount;else if(typeof m=="function"?m=d[t]=a?[s,m]:[m,s]:a?m.unshift(s):m.push(s),c=O8(e),c>0&&m.length>c&&!m.warned){m.warned=!0;var n=new Error("Possible EventEmitter memory leak detected. "+m.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=m.length,hR(n)}return e}Mr.prototype.addListener=function(t,s){return R8(this,t,s,!1)};Mr.prototype.on=Mr.prototype.addListener;Mr.prototype.prependListener=function(t,s){return R8(this,t,s,!0)};function dR(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function B8(e,t,s){var a={fired:!1,wrapFn:void 0,target:e,type:t,listener:s},c=dR.bind(a);return c.listener=s,a.wrapFn=c,c}Mr.prototype.once=function(t,s){return Lx(s),this.on(t,B8(this,t,s)),this};Mr.prototype.prependOnceListener=function(t,s){return Lx(s),this.prependListener(t,B8(this,t,s)),this};Mr.prototype.removeListener=function(t,s){var a,c,d,m,n;if(Lx(s),c=this._events,c===void 0)return this;if(a=c[t],a===void 0)return this;if(a===s||a.listener===s)--this._eventsCount===0?this._events=Object.create(null):(delete c[t],c.removeListener&&this.emit("removeListener",t,a.listener||s));else if(typeof a!="function"){for(d=-1,m=a.length-1;m>=0;m--)if(a[m]===s||a[m].listener===s){n=a[m].listener,d=m;break}if(d<0)return this;d===0?a.shift():uR(a,d),a.length===1&&(c[t]=a[0]),c.removeListener!==void 0&&this.emit("removeListener",t,n||s)}return this};Mr.prototype.off=Mr.prototype.removeListener;Mr.prototype.removeAllListeners=function(t){var s,a,c;if(a=this._events,a===void 0)return this;if(a.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):a[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete a[t]),this;if(arguments.length===0){var d=Object.keys(a),m;for(c=0;c<d.length;++c)m=d[c],m!=="removeListener"&&this.removeAllListeners(m);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(s=a[t],typeof s=="function")this.removeListener(t,s);else if(s!==void 0)for(c=s.length-1;c>=0;c--)this.removeListener(t,s[c]);return this};function z8(e,t,s){var a=e._events;if(a===void 0)return[];var c=a[t];return c===void 0?[]:typeof c=="function"?s?[c.listener||c]:[c]:s?pR(c):N8(c,c.length)}Mr.prototype.listeners=function(t){return z8(this,t,!0)};Mr.prototype.rawListeners=function(t){return z8(this,t,!1)};Mr.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):F8.call(e,t)};Mr.prototype.listenerCount=F8;function F8(e){var t=this._events;if(t!==void 0){var s=t[e];if(typeof s=="function")return 1;if(s!==void 0)return s.length}return 0}Mr.prototype.eventNames=function(){return this._eventsCount>0?lv(this._events):[]};function N8(e,t){for(var s=new Array(t),a=0;a<t;++a)s[a]=e[a];return s}function uR(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function pR(e){for(var t=new Array(e.length),s=0;s<t.length;++s)t[s]=e[s].listener||e[s];return t}function fR(e,t){return new Promise(function(s,a){function c(m){e.removeListener(t,d),a(m)}function d(){typeof e.removeListener=="function"&&e.removeListener("error",c),s([].slice.call(arguments))}j8(e,t,d,{once:!0}),t!=="error"&&mR(e,c,{once:!0})})}function mR(e,t,s){typeof e.on=="function"&&j8(e,"error",t,s)}function j8(e,t,s,a){if(typeof e.on=="function")a.once?e.once(t,s):e.on(t,s);else if(typeof e.addEventListener=="function")e.addEventListener(t,function c(d){a.once&&e.removeEventListener(t,c),s(d)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var gR=SS.exports,_R={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}};function yR(e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}function vR(e){var t=e.match(/<?([^>]*)>(.*)/);if(!t)return null;var s=t[1],a=t[2].split(";"),c=null,d=a.reduce(function(m,n){var S=yR(n);return S?S.key==="rel"?(c||(c=S.value),m):(m[S.key]=S.value,m):m},{});return c?{url:s,rel:c,params:d}:null}function xR(e){return e?e.split(/,\s*</).reduce(function(t,s){var a=vR(s);if(!a)return t;var c=a.rel.split(/\s+/);return c.forEach(function(d){t[d]||(t[d]={url:a.url,params:a.params})}),t},{}):{}}var bR=xR,wR=bR;function TS(e,t){this.request=e,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch{this.body=t.body}this.links=wR(this.headers.link)}TS.prototype.hasNextPage=function(){return!!this.links.next};TS.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};var SR=TS,Ox={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"},f5=Ox;function TR(e){var t=e.type||f5.ERROR_HTTP,s;if(e.body)try{s=JSON.parse(e.body)}catch{s=e.body}else s=null;var a=e.message||null;a||(typeof s=="string"?a=s:s&&typeof s.message=="string"?a=s.message:t===f5.ERROR_REQUEST_ABORTED&&(a="Request aborted")),this.message=a,this.type=t,this.statusCode=e.statusCode||null,this.request=e.request,this.body=s}var ER=TR;function CR(e){var t=e.indexOf(":"),s=e.substring(0,t).trim().toLowerCase(),a=e.substring(t+1).trim();return{name:s,value:a}}function MR(e){var t={};return e&&e.trim().split(/[\r|\n]+/).forEach(function(s){var a=CR(s);t[a.name]=a.value}),t}var AR=MR,kR=SR,m5=ER,V2=Ox,PR=AR,zv={};function DR(e){var t=zv[e.id];t&&(t.abort(),delete zv[e.id])}function IR(e,t){return new kR(e,{body:t.response,headers:PR(t.getAllResponseHeaders()),statusCode:t.status})}function g5(e){var t=e.total,s=e.loaded,a=100*s/t;return{total:t,transferred:s,percent:a}}function U8(e,t){return new Promise(function(s,a){t.onprogress=function(m){e.emitter.emit(V2.EVENT_PROGRESS_DOWNLOAD,g5(m))};var c=e.file;c&&(t.upload.onprogress=function(m){e.emitter.emit(V2.EVENT_PROGRESS_UPLOAD,g5(m))}),t.onerror=function(m){a(m)},t.onabort=function(){var m=new m5({request:e,type:V2.ERROR_REQUEST_ABORTED});a(m)},t.onload=function(){if(delete zv[e.id],t.status<200||t.status>=400){var m=new m5({request:e,body:t.response,statusCode:t.status});a(m);return}s(t)};var d=e.body;typeof d=="string"?t.send(d):d?t.send(JSON.stringify(d)):c?t.send(c):t.send(),zv[e.id]=t}).then(function(s){return IR(e,s)})}function G8(e,t){var s=e.url(t),a=new window.XMLHttpRequest;return a.open(e.method,s),Object.keys(e.headers).forEach(function(c){a.setRequestHeader(c,e.headers[c])}),a}function LR(e){return Promise.resolve().then(function(){var t=G8(e,e.client.accessToken);return U8(e,t)})}var OR={browserAbort:DR,sendRequestXhr:U8,browserSend:LR,createRequestXhr:G8},Fv={exports:{}};/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */Fv.exports;(function(e,t){(function(s){var a=t,c=e&&e.exports==a&&e,d=typeof ta=="object"&&ta;(d.global===d||d.window===d)&&(s=d);var m=function(L){this.message=L};m.prototype=new Error,m.prototype.name="InvalidCharacterError";var n=function(L){throw new m(L)},S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z=/[\t\n\f\r ]/g,Z=function(L){L=String(L).replace(z,"");var R=L.length;R%4==0&&(L=L.replace(/==?$/,""),R=L.length),(R%4==1||/[^+a-zA-Z0-9/]/.test(L))&&n("Invalid character: the string to be decoded is not correctly encoded.");for(var $=0,M,E,k="",V=-1;++V<R;)E=S.indexOf(L.charAt(V)),M=$%4?M*64+E:E,$++%4&&(k+=String.fromCharCode(255&M>>(-2*$&6)));return k},O=function(L){L=String(L),/[^\0-\xFF]/.test(L)&&n("The string to be encoded contains characters outside of the Latin1 range.");for(var R=L.length%3,$="",M=-1,E,k,V,G,C=L.length-R;++M<C;)E=L.charCodeAt(M)<<16,k=L.charCodeAt(++M)<<8,V=L.charCodeAt(++M),G=E+k+V,$+=S.charAt(G>>18&63)+S.charAt(G>>12&63)+S.charAt(G>>6&63)+S.charAt(G&63);return R==2?(E=L.charCodeAt(M)<<8,k=L.charCodeAt(++M),G=E+k,$+=S.charAt(G>>10)+S.charAt(G>>4&63)+S.charAt(G<<2&63)+"="):R==1&&(G=L.charCodeAt(M),$+=S.charAt(G>>2)+S.charAt(G<<4&63)+"=="),$},H={encode:O,decode:Z,version:"0.1.0"};if(a&&!a.nodeType)if(c)c.exports=H;else for(var q in H)H.hasOwnProperty(q)&&(a[q]=H[q]);else s.base64=H})(ta)})(Fv,Fv.exports);var RR=Fv.exports,BR=RR,$2={};function zR(e){if($2[e])return $2[e];var t=e.split("."),s=t[0],a=t[1];if(!a)throw new Error("Invalid token");var c=FR(a),d={usage:s,user:c.u};return Sf(c,"a")&&(d.authorization=c.a),Sf(c,"exp")&&(d.expires=c.exp*1e3),Sf(c,"iat")&&(d.created=c.iat*1e3),Sf(c,"scopes")&&(d.scopes=c.scopes),Sf(c,"client")&&(d.client=c.client),Sf(c,"ll")&&(d.lastLogin=c.ll),Sf(c,"iu")&&(d.impersonator=c.iu),$2[e]=d,d}function FR(e){try{return JSON.parse(BR.decode(e))}catch{throw new Error("Invalid token")}}function Sf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var V8=zR,$8={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function c(S,z,Z){this.fn=S,this.context=z,this.once=Z||!1}function d(S,z,Z,O,H){if(typeof Z!="function")throw new TypeError("The listener must be a function");var q=new c(Z,O||S,H),L=s?s+z:z;return S._events[L]?S._events[L].fn?S._events[L]=[S._events[L],q]:S._events[L].push(q):(S._events[L]=q,S._eventsCount++),S}function m(S,z){--S._eventsCount===0?S._events=new a:delete S._events[z]}function n(){this._events=new a,this._eventsCount=0}n.prototype.eventNames=function(){var z=[],Z,O;if(this._eventsCount===0)return z;for(O in Z=this._events)t.call(Z,O)&&z.push(s?O.slice(1):O);return Object.getOwnPropertySymbols?z.concat(Object.getOwnPropertySymbols(Z)):z},n.prototype.listeners=function(z){var Z=s?s+z:z,O=this._events[Z];if(!O)return[];if(O.fn)return[O.fn];for(var H=0,q=O.length,L=new Array(q);H<q;H++)L[H]=O[H].fn;return L},n.prototype.listenerCount=function(z){var Z=s?s+z:z,O=this._events[Z];return O?O.fn?1:O.length:0},n.prototype.emit=function(z,Z,O,H,q,L){var R=s?s+z:z;if(!this._events[R])return!1;var $=this._events[R],M=arguments.length,E,k;if($.fn){switch($.once&&this.removeListener(z,$.fn,void 0,!0),M){case 1:return $.fn.call($.context),!0;case 2:return $.fn.call($.context,Z),!0;case 3:return $.fn.call($.context,Z,O),!0;case 4:return $.fn.call($.context,Z,O,H),!0;case 5:return $.fn.call($.context,Z,O,H,q),!0;case 6:return $.fn.call($.context,Z,O,H,q,L),!0}for(k=1,E=new Array(M-1);k<M;k++)E[k-1]=arguments[k];$.fn.apply($.context,E)}else{var V=$.length,G;for(k=0;k<V;k++)switch($[k].once&&this.removeListener(z,$[k].fn,void 0,!0),M){case 1:$[k].fn.call($[k].context);break;case 2:$[k].fn.call($[k].context,Z);break;case 3:$[k].fn.call($[k].context,Z,O);break;case 4:$[k].fn.call($[k].context,Z,O,H);break;default:if(!E)for(G=1,E=new Array(M-1);G<M;G++)E[G-1]=arguments[G];$[k].fn.apply($[k].context,E)}}return!0},n.prototype.on=function(z,Z,O){return d(this,z,Z,O,!1)},n.prototype.once=function(z,Z,O){return d(this,z,Z,O,!0)},n.prototype.removeListener=function(z,Z,O,H){var q=s?s+z:z;if(!this._events[q])return this;if(!Z)return m(this,q),this;var L=this._events[q];if(L.fn)L.fn===Z&&(!H||L.once)&&(!O||L.context===O)&&m(this,q);else{for(var R=0,$=[],M=L.length;R<M;R++)(L[R].fn!==Z||H&&!L[R].once||O&&L[R].context!==O)&&$.push(L[R]);$.length?this._events[q]=$.length===1?$[0]:$:m(this,q)}return this},n.prototype.removeAllListeners=function(z){var Z;return z?(Z=s?s+z:z,this._events[Z]&&m(this,Z)):(this._events=new a,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=s,n.EventEmitter=n,e.exports=n})($8);var NR=$8.exports;function jR(e){return e.map(encodeURIComponent).join(",")}function H8(e){return Array.isArray(e)?jR(e):encodeURIComponent(String(e))}function W8(e,t,s){if(s===!1||s===null)return e;var a=/\?/.test(e)?"&":"?",c=encodeURIComponent(t);return s!==void 0&&s!==""&&s!==!0&&(c+="="+H8(s)),""+e+a+c}function UR(e,t){if(!t)return e;var s=e;return Object.keys(t).forEach(function(a){var c=t[a];c!==void 0&&(Array.isArray(c)&&(c=c.filter(function(d){return d!=null}).join(",")),s=W8(s,a,c))}),s}function GR(e,t){if(!t||e.slice(0,4)==="http")return e;var s=e[0]==="/"?"":"/";return""+t.replace(/\/$/,"")+s+e}function VR(e,t){return t?e.replace(/\/:([a-zA-Z0-9]+)/g,function(s,a){var c=t[a];if(c===void 0)throw new Error("Unspecified route parameter "+a);var d=H8(c);return"/"+d}):e}var $R={appendQueryObject:UR,appendQueryParam:W8,prependOrigin:GR,interpolateRouteParams:VR},HR=V8,ES=Rm,WR=NR,Yy=$R,_5=Ox,YR=1;function Sp(e,t){if(!e)throw new Error("MapiRequest requires a client");if(!t||!t.path||!t.method)throw new Error("MapiRequest requires an options object with path and method properties");var s={};t.body&&(s["content-type"]="application/json");var a=ES(s,t.headers),c=Object.keys(a).reduce(function(d,m){return d[m.toLowerCase()]=a[m],d},{});this.id=YR++,this._options=t,this.emitter=new WR,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=t.path,this.method=t.method,this.origin=t.origin||e.origin,this.query=t.query||{},this.params=t.params||{},this.body=t.body||null,this.file=t.file||null,this.encoding=t.encoding||"utf8",this.sendFileAs=t.sendFileAs||null,this.headers=c}Sp.prototype.url=function(t){var s=Yy.prependOrigin(this.path,this.origin);s=Yy.appendQueryObject(s,this.query);var a=this.params,c=t??this.client.accessToken;if(c){s=Yy.appendQueryParam(s,"access_token",c);var d=HR(c).user;a=ES({ownerId:d},a)}return s=Yy.interpolateRouteParams(s,a),s};Sp.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then(function(s){return t.response=s,t.emitter.emit(_5.EVENT_RESPONSE,s),s},function(s){throw t.error=s,t.emitter.emit(_5.EVENT_ERROR,s),s})};Sp.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))};Sp.prototype.eachPage=function(t){var s=this;function a(m){function n(){delete s._nextPageRequest;var S=m.nextPage();S&&(s._nextPageRequest=S,d(S))}t(null,m,n)}function c(m){t(m,null,function(){})}function d(m){m.send().then(a,c)}d(this)};Sp.prototype.clone=function(){return this._extend()};Sp.prototype._extend=function(t){var s=ES(this._options,t);return new Sp(this.client,s)};var qR=Sp,XR=V8,ZR=qR,KR=Ox;function Y8(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");XR(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||KR.API_ORIGIN}Y8.prototype.createRequest=function(t){return new ZR(this,t)};var q8=Y8,X8=OR,Z8=q8;function Em(e){Z8.call(this,e)}Em.prototype=Object.create(Z8.prototype);Em.prototype.constructor=Em;Em.prototype.sendRequest=X8.browserSend;Em.prototype.abortRequest=X8.browserAbort;function JR(e){return new Em(e)}var K8=JR,QR=K8,eB=QR,tB=Object.prototype.toString,iB=function(e){var t;return tB.call(e)==="[object Object]"&&(t=Object.getPrototypeOf(e),t===null||t===Object.getPrototypeOf({}))},nB=iB,sB=Rm,J8="value",H2=`
  `,Gr={};Gr.assert=function(e,t){return t=t||{},function(s){var a=Tp(e,s);if(a){var c=CS(a,t);throw t.apiName&&(c=t.apiName+": "+c),new Error(c)}}};Gr.shape=function(t){var s=lB(t);return function(c){var d=Tp(Gr.plainObject,c);if(d)return d;for(var m,n,S=[],z=0;z<s.length;z++)m=s[z].key,n=s[z].value,d=Tp(n,c[m]),d&&S.push([m].concat(d));return S.length<2?S[0]:function(Z){S=S.map(function(q){var L=q[0],R=CS(q,Z).split(`
`).join(H2);return"- "+L+": "+R});var O=Z.path.join("."),H=O===J8?"":" of "+O;return"The following properties"+H+" have invalid values:"+H2+S.join(H2)}}};Gr.strictShape=function(t){var s=Gr.shape(t);return function(c){var d=s(c);if(d)return d;var m=Object.keys(c).reduce(function(n,S){return t[S]===void 0&&n.push(S),n},[]);if(m.length!==0)return function(){return"The following keys are invalid: "+m.join(", ")}}};Gr.arrayOf=function(t){return Q8(t)};Gr.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return Q8(t)};function Q8(e){var t=Array.isArray(e),s=function(a){return t?e[a]:e};return function(c){var d=Tp(Gr.plainArray,c);if(d)return d;if(t&&c.length!==e.length)return"an array with "+e.length+" items";for(var m=0;m<c.length;m++)if(d=Tp(s(m),c[m]),d)return[m].concat(d)}}Gr.required=function(t){function s(a){return a==null?function(c){return eA(c,tA(c.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return s.__required=!0,s};Gr.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(a){var c=t.map(function(d){return Tp(d,a)}).filter(Boolean);if(c.length===t.length)return c.every(function(d){return d.length===1&&typeof d[0]=="string"})?rB(c.map(function(d){return d[0]})):c.reduce(function(d,m){return m.length>d.length?m:d})}};Gr.equal=function(t){return function(a){if(a!==t)return JSON.stringify(t)}};Gr.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),s=t.map(function(a){return Gr.equal(a)});return Gr.oneOfType.apply(this,s)};Gr.range=function(t){var s=t[0],a=t[1];return function(d){var m=Tp(Gr.number,d);if(m||d<s||d>a)return"number between "+s+" & "+a+" (inclusive)"}};Gr.any=function(){};Gr.boolean=function(t){if(typeof t!="boolean")return"boolean"};Gr.number=function(t){if(typeof t!="number")return"number"};Gr.plainArray=function(t){if(!Array.isArray(t))return"array"};Gr.plainObject=function(t){if(!nB(t))return"object"};Gr.string=function(t){if(typeof t!="string")return"string"};Gr.func=function(t){if(typeof t!="function")return"function"};function Tp(e,t){if(!(t==null&&!e.hasOwnProperty("__required"))){var s=e(t);if(s)return Array.isArray(s)?s:[s]}}function CS(e,t){var s=e.length,a=e[s-1],c=e.slice(0,s-1);return c.length===0&&(c=[J8]),t=sB(t,{path:c}),typeof a=="function"?a(t):eA(t,oB(a))}function rB(e){return e.length<2?e[0]:e.length===2?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e.slice(-1)}function oB(e){return"must be "+aB(e)+"."}function aB(e){return/^an? /.test(e)?e:/^[aeiou]/i.test(e)?"an "+e:/^[a-z]/i.test(e)?"a "+e:e}function eA(e,t){var s=tA(e.path),a=e.path.join(".")+" "+t,c=s?"Item at position ":"";return c+a}function tA(e){return typeof e[e.length-1]=="number"||typeof e[0]=="number"}function lB(e){return Object.keys(e||{}).map(function(t){return{key:t,value:e[t]}})}Gr.validate=Tp;Gr.processMessage=CS;var cB=Gr,hB=Rm,mm=cB;function dB(e){if(typeof window<"u")return e instanceof ta.Blob||e instanceof ta.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof e=="string"||e.pipe!==void 0))return"Filename or Readable stream"}function uB(e,t){return mm.assert(mm.strictShape(e),t)}function pB(e){var t="date";if(typeof e=="boolean")return t;try{var s=new Date(e);if(s.getTime&&isNaN(s.getTime()))return t}catch{return t}}function fB(e){return mm.tuple(mm.number,mm.number)(e)}var mB=hB(mm,{file:dB,date:pB,coordinates:fB,assertShape:uB});function gB(e,t){var s=function(a,c){return t.indexOf(a)!==-1&&c!==void 0};return typeof t=="function"&&(s=t),Object.keys(e).filter(function(a){return s(a,e[a])}).reduce(function(a,c){return a[c]=e[c],a},{})}var _B=gB;function yB(e,t){return Object.keys(e).reduce(function(s,a){return s[a]=t(a,e[a]),s},{})}var vB=yB,xB=vB;function bB(e){return xB(e,function(t,s){return typeof s=="boolean"?JSON.stringify(s):s})}var wB=bB,SB=q8,TB=K8;function EB(e){return function(t){var s;SB.prototype.isPrototypeOf(t)?s=t:s=TB(t);var a=Object.create(e);return a.client=s,a}}var CB=EB,iA=Rm,Us=mB,Nv=_B,nA=wB,MB=CB,MS={},sA=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];MS.forwardGeocode=function(e){Us.assertShape({query:Us.required(Us.string),mode:Us.oneOf("mapbox.places","mapbox.places-permanent"),countries:Us.arrayOf(Us.string),proximity:Us.oneOf(Us.coordinates,"ip"),types:Us.arrayOf(Us.oneOf(sA)),autocomplete:Us.boolean,bbox:Us.arrayOf(Us.number),limit:Us.number,language:Us.arrayOf(Us.string),routing:Us.boolean,fuzzyMatch:Us.boolean,worldview:Us.string})(e),e.mode=e.mode||"mapbox.places";var t=nA(iA({country:e.countries},Nv(e,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Nv(e,["mode","query"]),query:t})};MS.reverseGeocode=function(e){Us.assertShape({query:Us.required(Us.coordinates),mode:Us.oneOf("mapbox.places","mapbox.places-permanent"),countries:Us.arrayOf(Us.string),types:Us.arrayOf(Us.oneOf(sA)),bbox:Us.arrayOf(Us.number),limit:Us.number,language:Us.arrayOf(Us.string),reverseMode:Us.oneOf("distance","score"),routing:Us.boolean,worldview:Us.string})(e),e.mode=e.mode||"mapbox.places";var t=nA(iA({country:e.countries},Nv(e,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Nv(e,["mode","query"]),query:t})};var AB=MB(MS);let kB="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",rA=e=>crypto.getRandomValues(new Uint8Array(e)),oA=(e,t,s)=>{let a=(2<<Math.log(e.length-1)/Math.LN2)-1,c=-~(1.6*a*t/e.length);return(d=t)=>{let m="";for(;;){let n=s(c),S=c;for(;S--;)if(m+=e[n[S]&a]||"",m.length===d)return m}}},PB=(e,t=21)=>oA(e,t,rA),DB=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,s)=>(s&=63,s<36?t+=s.toString(36):s<62?t+=(s-26).toString(36).toUpperCase():s>62?t+="-":t+="_",t),"");const IB=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:PB,customRandom:oA,nanoid:DB,random:rA,urlAlphabet:kB},Symbol.toStringTag,{value:"Module"})),LB=L5(IB);var OB=LB.nanoid;function aA(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}aA.prototype={select:function(e,t){var s=this.getSelectedIndex(e,t),a=this.getEventPayload("search.select",t);if(a.resultIndex=s,a.resultPlaceName=e.place_name,a.resultId=e.id,!(s===this.lastSentIndex&&a.queryString===this.lastSentInput||s==-1)&&(this.lastSentIndex=s,this.lastSentInput=a.queryString,!!a.queryString))return this.push(a)},start:function(e){var t=this.getEventPayload("search.start",e);if(t.queryString)return this.push(t)},keyevent:function(e,t){if(e.key&&!(e.metaKey||[9,27,37,39,13,38,40].indexOf(e.keyCode)!==-1)){var s=this.getEventPayload("search.keystroke",t);if(s.lastAction=e.key,!!s.queryString)return this.push(s)}},send:function(e,t){if(!this.enableEventLogging)return t?t():void 0;var s=this.getRequestOptions(e);this.request(s,(function(a){if(a)return this.handleError(a,t);if(t)return t()}).bind(this))},getRequestOptions:function(e){Array.isArray(e)||(e=[e]);var t={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return t},getEventPayload:function(e,t){var s;t.options.proximity?typeof t.options.proximity=="object"?s=[t.options.proximity.longitude,t.options.proximity.latitude]:t.options.proximity==="ip"?s=[999,999]:s=t.options.proximity:s=null;var a=t._map?t._map.getZoom():void 0,c={event:e,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:t.options.autocomplete,fuzzyMatch:t.options.fuzzyMatch,proximity:s,limit:t.options.limit,routing:t.options.routing,worldview:t.options.worldview,mapZoom:a,keyboardLocale:this.locale};return e==="search.select"?c.queryString=t.inputString:e!="search.select"&&t._inputEl?c.queryString=t._inputEl.value:c.queryString=t.inputString,c},request:function(e,t){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(this.readyState==4)return this.status==204?t(null):t(this.statusText)},s.open(e.method,e.host+"/"+e.path,!0);for(var a in e.headers){var c=e.headers[a];s.setRequestHeader(a,c)}s.send(e.body)},handleError:function(e,t){if(t)return t(e)},generateSessionID:function(){return OB()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,t){if(t._typeahead){var s=t._typeahead.data,a=e.id,c=s.map(function(m){return m.id}),d=c.indexOf(a);return d}},shouldEnableLogging:function(e){return!(e.enableEventLogging===!1||e.origin&&e.origin!=="https://api.mapbox.com"||e.localGeocoder||e.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,t){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}};var RB=aA,BB={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"},zB={placeholder:BB},lA={exports:{}};(function(e){(function(t,s,a){e.exports?e.exports=a():t[s]=a()})(ta,"subtag",function(){var t="",s=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function a(S){return S.match(s)||[]}function c(S){return a(S).filter(function(z,Z){return z&&Z})}function d(S){return S=a(S),{language:S[1]||t,extlang:S[2]||t,script:S[3]||t,region:S[4]||t}}function m(S,z,Z){Object.defineProperty(S,z,{value:Z,enumerable:!0})}function n(S,z,Z){function O(H){return a(H)[S]||t}m(O,"pattern",z),m(d,Z,O)}return n(1,/^[a-zA-Z]{2,3}$/,"language"),n(2,/^[a-zA-Z]{3}$/,"extlang"),n(3,/^[a-zA-Z]{4}$/,"script"),n(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),m(d,"split",c),d})})(lA);var FB=lA.exports;function cA(){}cA.prototype={isSupport:function(){return!!window.navigator.geolocation},getCurrentPosition:function(){const e={enableHighAccuracy:!0};return new Promise(function(t,s){window.navigator.geolocation.getCurrentPosition(t,s,e)})}};var NB=cA;function jB(e,t){const s=hA(e),a=["address","street","place","country"];var c;if(typeof t=="function")return t(s);const d=a.indexOf(t);return d===-1?c=a:c=a.slice(d),c.reduce(function(m,n){return s[n]?(m!==""&&(m=m+", "),m+s[n]):m},"")}function hA(e){const t=e.address||"",s=e.text||"",a=e.place_name||"",d={address:a.split(",")[0],houseNumber:t,street:s,placeName:a};return e.context.forEach(function(m){const n=m.id.split(".")[0];d[n]=m.text}),d}const UB=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;var GB={transformFeatureToGeolocationText:jB,getAddressInfo:hA,REVERSE_GEOCODE_COORD_RGX:UB},VB=H7,$B=cR,Ef=Rm,HB=gR.EventEmitter,y5=_R,W2=eB,Y2=AB,WB=RB,YB=zB,qB=FB,XB=NB,v5=GB;const np={FORWARD:0,LOCAL:1,REVERSE:2};function ZB(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function dA(e){this._eventEmitter=new HB,this.options=Ef({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new XB}dA.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(e){return e.place_name},render:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"}},addTo:function(e){function t(s,a){if(!document.body.contains(a))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const c=s.onAdd();a.appendChild(c)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){const s=document.querySelectorAll(e);if(s.length===0)throw new Error("Element ",e,"not found.");if(s.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,s[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=Y2(W2({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new WB(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var s=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",$B(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",(function(z){this.eventManager.keyevent(z,this)}).bind(this));var a=document.createElement("div");a.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var c=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(c),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),a.appendChild(this._clearEl),a.appendChild(this._loadingEl),t.appendChild(s),t.appendChild(this._inputEl),t.appendChild(a),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var d=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(d),a.appendChild(this._geolocateEl),this._showGeolocateButton()}var m=this._typeahead=new VB(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),m.getItemValue=this.options.getItemValue;var n=m.list.draw,S=this._footerNode=ZB();return m.list.draw=function(){n.call(this),S.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),S.addEventListener("mouseup",(function(){this.selectingListItem=!1}).bind(this)),this.element.appendChild(S)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),t},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then((function(e){this._hideLoadingIcon();const t={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(t),this._fly(t),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(t),this._showClearButton(),this.fresh=!1;const s={limit:1,language:[this.options.language],query:t.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){const a=t.geometry.coordinates[0]+","+t.geometry.coordinates[1];this._setInputValue(a),this._eventEmitter.emit("result",{result:t})}else this.geocoderService.reverseGeocode(s).send().then((function(a){const c=a.body.features[0];if(c){const d=v5.transformFeatureToGeolocationText(c,this.options.addressAccuracy);this._setInputValue(d),c.user_coordinates=t.geometry.coordinates,this._eventEmitter.emit("result",{result:c})}else this._eventEmitter.emit("result",{result:{user_coordinates:t.geometry.coordinates}})}).bind(this))}).bind(this)).catch((function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}).bind(this))},createIcon:function(e,t){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");return s.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),s.setAttribute("viewBox","0 0 18 18"),s.setAttribute("xml:space","preserve"),s.setAttribute("width",18),s.setAttribute("height",18),s.innerHTML=t,s},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout((function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}).bind(this),1)},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this._geocode(t)},_onKeyDown:function(e){var t=27,s=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var a=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,c=a?a.value:"";if(!c)return this.fresh=!0,e.keyCode!==s&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(e.metaKey||[s,t,37,39,13,38,40].indexOf(e.keyCode)!==-1)&&a.value.length>=this.options.minLength&&this._geocode(a.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var t;if(e.properties&&y5[e.properties.short_code])t=Ef({},this.options.flyTo),this._map&&this._map.fitBounds(y5[e.properties.short_code].bbox,t);else if(e.bbox){var s=e.bbox;t=Ef({},this.options.flyTo),this._map&&this._map.fitBounds([[s[0],s[1]],[s[2],s[3]]],t)}else{var a={zoom:this.options.zoom};t=Ef({},a,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}},_requestType:function(e,t){var s;return e.localGeocoderOnly?s=np.LOCAL:e.reverseGeocode&&v5.REVERSE_GEOCODE_COORD_RGX.test(t)?s=np.REVERSE:s=np.FORWARD,s},_setupConfig:function(e,t){const s=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],a=/[\s,]+/;var c=this,d=s.reduce(function(n,S){if(c.options[S]===void 0||c.options[S]===null)return n;["countries","types","language"].indexOf(S)>-1?n[S]=c.options[S].split(a):n[S]=c.options[S];const z=typeof c.options[S].longitude=="number"&&typeof c.options[S].latitude=="number";if(S==="proximity"&&z){const Z=c.options[S].longitude,O=c.options[S].latitude;n[S]=[Z,O]}return n},{});switch(e){case np.REVERSE:{var m=t.split(a).map(function(n){return parseFloat(n,10)});c.options.flipCoordinates||m.reverse(),d.types&&d.types[0],d=Ef(d,{query:m,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(n){n in d&&delete d[n]})}break;case np.FORWARD:{const n=t.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(n)&&(t=t.replace(/,/g," ")),d=Ef(d,{query:t})}break}return d},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});const t=this._requestType(this.options,e),s=this._setupConfig(t,e);var a;switch(t){case np.LOCAL:a=Promise.resolve();break;case np.FORWARD:a=this.geocoderService.forwardGeocode(s).send();break;case np.REVERSE:a=this.geocoderService.reverseGeocode(s).send();break}var c=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],d=[],m=null;return a.catch((function(n){m=n}).bind(this)).then((function(n){this._hideLoadingIcon();var S={};return n?n.statusCode=="200"&&(S=n.body,S.request=n.request,S.headers=n.headers):S={type:"FeatureCollection",features:[]},S.config=s,this.fresh&&(this.eventManager.start(this),this.fresh=!1),S.features=S.features?c.concat(S.features):c,this.options.externalGeocoder?(d=this.options.externalGeocoder(e,S.features)||Promise.resolve([]),d.then(function(z){return S.features=S.features?z.concat(S.features):z,S},function(){return S})):S}).bind(this)).then((function(n){if(m)throw m;this.options.filter&&n.features.length&&(n.features=n.features.filter(this.options.filter)),n.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",n),this._typeahead.update(n.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",n))}).bind(this)).catch((function(n){this._hideLoadingIcon(),this._hideAttribution(),c.length&&this.options.localGeocoder||d.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(c)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:c}),this._eventEmitter.emit("error",{error:n})}).bind(this)),a},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var t=this;e.relatedTarget&&t._clear(e)},_onQueryResult:function(e){var t=e.body;if(t.features.length){var s=t.features[0];this._typeahead.selected=s,this._inputEl.value=s.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderLocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderUserDeniedGeolocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=qB.language(e),s=YB.placeholder[t];if(s)return s}return"Search"},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this._geocode(e),this},setProximity:function(e,t=!0){return this.options.proximity=e,t&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=Y2(W2({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=Y2(W2({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var t={color:"#4668F2"},s=Ef({},t,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(s),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this.eventManager.remove(),this}};var KB=dA;const JB=uh(KB);function QB(){return{map:Rf("mapbox-map")}}var q2=new Map,ez=/onMb([A-Z])(.+)/;function tz(e){return q2.has(e)||q2.set(e,e.replace(ez,(t,s,a)=>s.toLowerCase()+a)),q2.get(e)}function uA(e,t,s=[],a=null){const c=A3(),d=Ac(()=>Object.entries(c).filter(([z,Z])=>z.startsWith("on")&&typeof Z=="function").map(([z])=>z)),m=new Map;function n(z){Array.isArray(z)&&z.forEach(Z=>{const O=m.get(Z);typeof O=="function"&&O()})}function S(z){Array.isArray(z)&&z.forEach(Z=>{const O=tz(Z);if(!s.includes(O))return;const H=(...q)=>{e(`mb-${O}`,...q)};a?(Go(t).on(O,a,H),m.set(Z,()=>{Go(t).off(O,a,H)})):(Go(t).on(O,H),m.set(Z,()=>{Go(t).off(O,H)}))})}ea(d,(z,Z)=>{const O=Array.isArray(z)?(Z??[]).filter(q=>!z.includes(q)):Z??[],H=Array.isArray(Z)?(z??[]).filter(q=>!Z.includes(q)):z??[];if(Go(t))n(O),S(H);else{const q=ea(t,L=>{L&&(n(O),S(H),q())})}},{immediate:!0})}function iz(e){return e.charAt(0).toUpperCase()+e.slice(1)}function pA(e,t,s){function a(c){Object.keys(e).filter(d=>e[d]!==void 0&&e[d]!==null).forEach(d=>{var m,n;const S=d==="mapStyle"?"setStyle":`set${iz(d)}`,z=typeof c[S]=="function",Z=typeof s[d]>"u"||"bind"in s[d]?(n=(m=s[d])==null?void 0:m.bind)!=null?n:!1:!0;if(!z||!Z)return;const{type:O}=e[d],H={deep:O===Object||Array.isArray(O)&&O.includes(Object)};ea(()=>e[d],q=>{c[S](q)},H)})}if(Go(t))a(Go(t));else{const c=ea(t,d=>{d&&(a(d),c())})}}function nz(e,{propsConfig:t,props:s,emit:a,events:c=[]}){const{map:d}=QB(),m=dr();return Array.isArray(c)&&c.length&&uA(a,m,c),typeof t<"u"&&pA(s,m,t),ea(()=>s.position,n=>{Go(d)&&Go(d).removeControl(Go(m)).addControl(Go(m),n)}),jh(async()=>{const n=new e(s);Go(d)&&Go(d).addControl(n,s.position),await yd(),m.value=n}),qf(()=>{Go(m)&&Go(d)&&Go(d).removeControl(Go(m))}),{control:m,map:d}}var fA=(e,t)=>{const s=e.__vccOpts||e;for(const[a,c]of t)s[a]=c;return s};if(!nl)throw new Error("mapboxgl is not installed.");if(!JB)throw new Error("MapboxGeocoder is not installed.");var sz={key:0},rz={key:1};if(!nl)throw new Error("mapboxgl is not installed.");var{LngLatBounds:x5,LngLat:oz}=nl,b5={accessToken:{type:String,default:"no-token"},container:{type:[typeof HTMLElement<"u"&&HTMLElement,String],default:void 0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:22},minPitch:{type:Number,default:0},maxPitch:{type:Number,default:60},mapStyle:{type:[Object,String],required:!0},hash:{type:Boolean,default:!1},interactive:{type:Boolean,default:!0},bearingSnap:{type:Number,default:7},pitchWithRotate:{type:Boolean,default:!0},clickTolerance:{type:Number,default:3},attributionControl:{type:Boolean,default:!0},customAttribution:{type:[String,Array],default:null},logoPosition:{type:String,default:"bottom-left"},failIfMajorPerformanceCaveat:{type:Boolean,default:!1},preserveDrawingBuffer:{type:Boolean,default:!1},antialias:{type:Boolean,default:!1},refreshExpiredTiles:{type:Boolean,default:!0},maxBounds:{type:[x5,Array],default:void 0},scrollZoom:{type:[Boolean,Object],default:!0},boxZoom:{type:Boolean,default:!0},dragRotate:{type:Boolean,default:!0},dragPan:{type:[Boolean,Object],default:!0},keyboard:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},touchZoomRotate:{type:[Boolean,Object],default:!0},trackResize:{type:Boolean,default:!0},center:{type:[oz,Array,Object],default:()=>[0,0]},zoom:{type:Number,default:0},bearing:{type:Number,default:0},pitch:{type:Number,default:0},bounds:{type:[x5,Array],default:void 0},fitBoundsOptions:{type:Object,default:null},renderWorldCopies:{type:Boolean,default:!0},maxTileCacheSize:{type:Number,default:null},localIdeographFontFamily:{type:String,default:"sans-serif"},transformRequest:{type:Function,default:null},collectResourceTiming:{type:Boolean,default:!1},fadeDuration:{type:Number,default:300},crossSourceCollisions:{type:Boolean,default:!0}},az=["boxzoomcancel","boxzoomend","boxzoomstart","click","contextmenu","data","dataloading","dblclick","drag","dragend","dragstart","error","idle","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","move","moveend","movestart","pitch","pitchend","pitchstart","remove","render","resize","rotate","rotateend","rotatestart","sourcedata","sourcedataloading","styledata","styledataloading","styleimagemissing","touchcancel","touchend","touchmove","touchstart","webglcontextlost","webglcontextrestored","wheel","zoom","zoomend","zoomstart"],lz={inheritAttrs:!1},cz=Object.assign(lz,{__name:"MapboxMap",props:b5,setup(e,{expose:t,emit:s}){const a=e,c=dr();Im("mapbox-map",c);const d=dr(),m=dr(!1),n=Ac(()=>{const{accessToken:S,mapStyle:z,...Z}=a;return!Z.container&&d.value&&(Z.container=d.value),{style:z,...Z}});return uA(s,c,az),pA(a,c,b5),jh(()=>{nl.accessToken=a.accessToken,c.value=new nl.Map(n.value),c.value.on("load",()=>{m.value=!0}),s("mb-created",c.value);const S=new ResizeObserver(()=>{c.value.resize()});S.observe(n.value.container),qf(()=>{S.disconnect(),c.value.remove()})}),t({map:c}),(S,z)=>(Ot(),Ft(fn,null,[je("div",px({ref_key:"root",ref:d},S.$attrs),null,16),m.value?(Ot(),Ft("div",sz,[tc(S.$slots,"default")])):(Ot(),Ft("div",rz,[tc(S.$slots,"loader")]))],64))}}),a_=fA(cz,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxMap.vue"]]);if(!nl)throw new Error("mapboxgl is not installed.");var w5={showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:{type:Boolean,default:!1},position:{type:String,default:"top-right",bind:!1}},hz={__name:"MapboxNavigationControl",props:w5,setup(e,{expose:t}){const s=e,{NavigationControl:a}=nl,{control:c}=nz(a,{props:s,propsConfig:w5});return t({control:c}),(d,m)=>(Ot(),Ft("div"))}},l_=fA(hz,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxNavigationControl.vue"]]);const Kn=(e,t)=>{const s=e.__vccOpts||e;for(const[a,c]of t)s[a]=c;return s},dz={props:{fleets:Array},data(){return{isExpand:!1,keyword:""}},methods:{searchExpand(){this.isExpand=!this.isExpand;let e=this.$refs.searchBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="40px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},search(){this.keyword.length>=2&&!this.isExpand&&this.searchExpand(),this.keyword.length==0&&this.isExpand&&this.searchExpand()},selected(e){this.$emit("selected",e)}},computed:{filters(){return this.fleets.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase()))}}},uz={class:"ships-list position-absolute",ref:"cSearch"},pz={class:"card",style:{height:"100%"}},fz={class:"card-header search"},mz={action:"#",method:"get",style:{width:"100%"}},gz={class:"input-icon"},_z=ph('<span class="input-icon-addon"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg></span>',1),yz={class:"card-actions btn-actions"},vz={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},xz=je("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),bz=je("polyline",{points:"15 6 9 12 15 18"},null,-1),wz=[xz,bz],Sz={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Tz=je("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Ez=je("polyline",{points:"6 9 12 15 18 9"},null,-1),Cz=[Tz,Ez],Mz={class:"card-body card-body-scrollable card-body-scrollable-shadow search-body",ref:"searchBody"},Az={class:"divide-y pointer"},kz=["onClick"],Pz={class:"row"},Dz=je("div",{class:"col-auto"},[je("span",{class:"avatar",style:{"background-image":"url('')"}})],-1),Iz={class:"col p-0"},Lz={class:"text-truncate"},Oz={class:"text-muted text-sm"},Rz={key:0,class:"col-auto"},Bz=je("div",{class:"badge bg-success"},null,-1),zz=je("span",{class:"text-xs ml-1"},"Online",-1),Fz={class:"text-xs"},Nz={key:1,class:"col-auto"},jz=je("div",{class:"badge bg-danger"},null,-1),Uz=je("span",{class:"text-xs ml-1"},"Offline",-1),Gz={class:"text-xs"};function Vz(e,t,s,a,c,d){return Ot(),Ft("div",uz,[je("div",pz,[je("div",fz,[je("form",mz,[je("div",gz,[_z,rr(je("input",{type:"text",onKeyup:t[0]||(t[0]=(...m)=>d.search&&d.search(...m)),"onUpdate:modelValue":t[1]||(t[1]=m=>c.keyword=m),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[il,c.keyword]])])]),je("div",yz,[je("a",{href:"#",class:"btn-action",onClick:t[2]||(t[2]=(...m)=>d.searchExpand&&d.searchExpand(...m))},[c.isExpand?yn("",!0):(Ot(),Ft("svg",vz,wz)),c.isExpand?(Ot(),Ft("svg",Sz,Cz)):yn("",!0)])])]),je("div",Mz,[je("div",Az,[(Ot(!0),Ft(fn,null,vs(d.filters,m=>(Ot(),Ft("div",{key:m.id,onClick:n=>d.selected(m)},[je("div",Pz,[Dz,je("div",Iz,[je("div",Lz,ji(m.name),1),je("div",Oz,ji(m.imo_number),1)]),m.connected?(Ot(),Ft("div",Rz,[Bz,zz,je("div",Fz,ji(e.$filters.dateformat(m.last_connection,"DD/MM HH:mm")),1)])):yn("",!0),m.connected?yn("",!0):(Ot(),Ft("div",Nz,[jz,Uz,je("div",Gz,ji(e.$filters.dateformat(m.last_connection,"DD/MM HH:mm")),1)]))])],8,kz))),128))])],512)])],512)}const mA=Kn(dz,[["render",Vz]]),$z={data(){return{isExpand:!0,notifications:[{id:1,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:2,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:3,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:4,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:5,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:6,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:7,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:8,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},Bm=e=>(fu("data-v-cbda607e"),e=e(),mu(),e),Hz={class:"ships-notification",ref:"cSearch"},Wz={class:"card",style:{height:"100%"}},Yz={class:"card-header search"},qz=Bm(()=>je("h4",{class:"card-title"}," Active Notifications ",-1)),Xz={class:"card-actions btn-actions"},Zz={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Kz=Bm(()=>je("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),Jz=Bm(()=>je("polyline",{points:"15 6 9 12 15 18"},null,-1)),Qz=[Kz,Jz],eF={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},tF=Bm(()=>je("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),iF=Bm(()=>je("polyline",{points:"6 9 12 15 18 9"},null,-1)),nF=[tF,iF],sF={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},rF={class:"divide-y"},oF=ph('<div class="notif-status" data-v-cbda607e><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/alarm.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Alarm</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/volume.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>4</span></div><div data-v-cbda607e>Warning</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/caution.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Caution</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/info-blue.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Info</div></div></div>',1),aF={class:"row"},lF=Bm(()=>je("div",{class:"col-auto"},[je("img",{src:"img/icons/caution.png",alt:"",width:"20"})],-1)),cF={class:"col"},hF={class:"fw-bold"},dF={class:"text-sm"};function uF(e,t,s,a,c,d){return Ot(),Ft("div",Hz,[je("div",Wz,[je("div",Yz,[qz,je("div",Xz,[je("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...m)=>d.notifExpand&&d.notifExpand(...m))},[c.isExpand?yn("",!0):(Ot(),Ft("svg",Zz,Qz)),c.isExpand?(Ot(),Ft("svg",eF,nF)):yn("",!0)])])]),je("div",sF,[je("div",rF,[oF,(Ot(!0),Ft(fn,null,vs(c.notifications,m=>(Ot(),Ft("div",{key:m.id,class:"py-2 border-bottom border-white"},[je("div",aF,[lF,je("div",cF,[je("div",hF,ji(m.title),1),Jr(" "+ji(m.desc)+" ",1),je("div",dF,ji(m.date),1)])])]))),128))])],512)])],512)}const gA=Kn($z,[["render",uF],["__scopeId","data-v-cbda607e"]]),pF={},fF={class:"ships-records"},mF=ph('<div class="card" data-v-b06cef02><div class="card-header" data-v-b06cef02><div class="text-center" data-v-b06cef02><img src="img/singapore.png" alt="" data-v-b06cef02><div class="text-white" data-v-b06cef02>PRO</div></div><div class="w-100 d-flex align-items-start justify-content-between" data-v-b06cef02><div class="card-title" data-v-b06cef02><div data-v-b06cef02>Widuri</div><small class="text-white" data-v-b06cef02>Fleet II</small></div><div class="card-status" data-v-b06cef02><div class="status-box bg-online" data-v-b06cef02></div><div class="text-white" data-v-b06cef02>Online</div></div></div></div><div class="card-body" data-v-b06cef02><div data-v-b06cef02>under way using engine</div><div class="d-flex align-items-center justify-content-between" data-v-b06cef02><div data-v-b06cef02>ATD 27/5</div><div data-v-b06cef02>ETA 10/6</div></div><div class="d-flex align-items-center justify-content-between mb-3" data-v-b06cef02><div data-v-b06cef02>Singapura</div><div data-v-b06cef02>Jakarta</div></div><div class="ships-route-ltr" data-v-b06cef02></div></div></div>',1),gF=[mF];function _F(e,t,s,a,c,d){return Ot(),Ft("div",fF,gF)}const _A=Kn(pF,[["render",_F],["__scopeId","data-v-b06cef02"]]),yF={},vF={class:"ships-navigations"},xF=ph('<div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div><div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div>',2),bF=[xF];function wF(e,t,s,a,c,d){return Ot(),Ft("div",vF,bF)}const yA=Kn(yF,[["render",wF],["__scopeId","data-v-23fc79b0"]]),SF={},TF={class:"ships-camera"},EF=ph('<a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Front View</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a><a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Bridge</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a>',2),CF=[EF];function MF(e,t,s,a,c,d){return Ot(),Ft("div",TF,CF)}const vA=Kn(SF,[["render",MF],["__scopeId","data-v-34ce2568"]]),AF={data(){return{isExpand:!0,parameter:[{id:1,title:"SPEED THROUGH WATER",value:"13.8",format:"KNOTS"},{id:2,title:"SPEED OVER GROUND",value:"14.9",format:"KNOTS"},{id:3,title:"ME SHAFT POWER",value:"4852",format:"KW"},{id:4,title:"ME RPM",value:"95",format:"RPM"},{id:5,title:"ME FO",value:"26.5",format:"FO"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},Mp=e=>(fu("data-v-82e529c6"),e=e(),mu(),e),kF={class:"ships-parameter",ref:"cSearch"},PF={class:"card",style:{height:"100%"}},DF={class:"card-header search"},IF=Mp(()=>je("h4",{class:"card-title"}," KEY PARAMETER ",-1)),LF={class:"card-actions btn-actions"},OF={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},RF=Mp(()=>je("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),BF=Mp(()=>je("polyline",{points:"15 6 9 12 15 18"},null,-1)),zF=[RF,BF],FF={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},NF=Mp(()=>je("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),jF=Mp(()=>je("polyline",{points:"6 9 12 15 18 9"},null,-1)),UF=[NF,jF],GF={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},VF={class:"divide-y"},$F=Mp(()=>je("ul",{class:"nav nav-pills nav-justified",id:"pills-tab",role:"tablist"},[je("li",{class:"nav-item",role:"presentation"},[je("button",{class:"nav-link justify-content-center active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"DAILY AVG")]),je("li",{class:"nav-item",role:"presentation"},[je("button",{class:"nav-link justify-content-center",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"PRESENT VALUES")])],-1)),HF={class:"tab-content",id:"pills-tabContent"},WF={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},YF={class:"row align-items-center"},qF={class:"col-6"},XF={class:"fw-bold"},ZF={class:"col-6 text-center"},KF={class:"fw-normal"},JF={class:"text-sm"},QF=Mp(()=>je("div",{class:"py-2 border-bottom border-white"},[je("div",{class:"row align-items-center"},[je("div",{class:"col-12"},[je("div",{class:""},"NOTE: Daily average is calculated at 12 PM UTC")])])],-1)),eN=Mp(()=>je("div",{class:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"}," ... ",-1));function tN(e,t,s,a,c,d){return Ot(),Ft("div",kF,[je("div",PF,[je("div",DF,[IF,je("div",LF,[je("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...m)=>d.notifExpand&&d.notifExpand(...m))},[c.isExpand?yn("",!0):(Ot(),Ft("svg",OF,zF)),c.isExpand?(Ot(),Ft("svg",FF,UF)):yn("",!0)])])]),je("div",GF,[je("div",VF,[$F,je("div",HF,[je("div",WF,[(Ot(!0),Ft(fn,null,vs(c.parameter,m=>(Ot(),Ft("div",{key:m.id,class:"py-2 border-bottom border-white"},[je("div",YF,[je("div",qF,[je("div",XF,ji(m.title),1)]),je("div",ZF,[je("h2",KF,ji(m.value),1),je("div",JF,ji(m.format),1)])])]))),128)),QF]),eN])])],512)])],512)}const xA=Kn(AF,[["render",tN],["__scopeId","data-v-82e529c6"]]);var iN=["second","minute","hour","day","week","month","year"];function nN(e,t){if(t===0)return["just now","right now"];var s=iN[Math.floor(t/2)];return e>1&&(s+="s"),[e+" "+s+" ago","in "+e+" "+s]}var sN=["秒","分钟","小时","天","周","个月","年"];function rN(e,t){if(t===0)return["刚刚","片刻后"];var s=sN[~~(t/2)];return[e+" "+s+"前",e+" "+s+"后"]}var jw={},bA=function(e,t){jw[e]=t},oN=function(e){return jw[e]||jw.en_US},X2=[60,60,24,7,365/7/12,12];function S5(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function aN(e,t){var s=e<0?1:0;e=Math.abs(e);for(var a=e,c=0;e>=X2[c]&&c<X2.length;c++)e/=X2[c];return e=Math.floor(e),c*=2,e>(c===0?9:1)&&(c+=1),t(e,c,a)[s].replace("%s",e.toString())}function lN(e,t){var s=t?S5(t):new Date;return(+s-+S5(e))/1e3}var Cm=function(e,t,s){var a=lN(e,s&&s.relativeDate);return aN(a,oN(t))};bA("en_US",nN);bA("zh_CN",rN);const cN="/build/assets/blue-a08778d1.png",hN="/build/assets/green-fc37c2da.png",dN="/build/assets/red-81ec77e5.png",uN="/build/assets/yellow-bbf4eb24.png",pN="/build/assets/purple-47482fdf.png",fN={components:{},props:{fleets:Array},data(){return{fleetsGroup:[],colors:{at_port:"#004BFF",underway:"#56B745",lost_connection:"#E13711",at_anchorage:"#F1D244",other:"#A32B7C"},icons:{at_port:{name:"At Port",img:"/icon/blue.png"},underway:{img:"/icon/green.png",name:"Underway"},lost_connection:{img:"/icon/red.png",name:"Lost Connection"},at_anchorage:{img:"/icon/yellow.png",name:"At Anchorage"},other:{img:"/icon/purple.png",name:"Other"}}}},watch:{fleets:function(e,t){let s=Uv.groupBy(e,({fleet_status:c})=>c);this.fleetsGroup=[];let a=this;Object.keys(this.colors).forEach(function(c){let d=typeof s[c]>"u"?0:s[c].length;a.fleetsGroup.push({value:d,color:a.colors[c],label:c,name:a.icons[c].name,img:a.icons[c].img})})}},methods:{doFilter(e){this.$emit("filters",e)}}},mN=e=>(fu("data-v-62e3f19d"),e=e(),mu(),e),gN={class:"lengend"},_N={class:"card"},yN=mN(()=>je("div",{class:"card-header"},[je("div",{class:"title"},"Fleets Information")],-1)),vN={class:"card-body row"},xN={class:"fleet-count"},bN={class:"col-7"},wN=["onClick"],SN=["src"];function TN(e,t,s,a,c,d){const m=Yn("vc-donut");return Ot(),Ft("div",gN,[je("div",_N,[yN,je("div",vN,[je("div",{class:"col-5 pointer",onClick:t[0]||(t[0]=n=>d.doFilter({label:"all"}))},[s.fleets?(Ot(),Bh(m,{key:0,size:100,sections:c.fleetsGroup,unit:"%",total:s.fleets.length,"auto-adjust-text-size":!0},{default:Do(()=>[je("div",xN,ji(s.fleets.length),1),Jr(" Vessels ")]),_:1},8,["sections","total"])):yn("",!0)]),je("div",bN,[(Ot(!0),Ft(fn,null,vs(c.fleetsGroup,n=>(Ot(),Ft("div",{class:"pointer",key:n.label,onClick:S=>d.doFilter(n)},[je("img",{src:n.img},null,8,SN),Jr(" "+ji(n.name)+" ("+ji(n.value)+") ",1)],8,wN))),128))])])])])}const EN=Kn(fN,[["render",TN],["__scopeId","data-v-62e3f19d"]]),CN=q1({name:"my-table",emits:["return-checked-rows","do-search","is-finished","get-now-page","row-clicked","row-toggled"],props:{isLoading:{type:Boolean,require:!0},isReSearch:{type:Boolean,require:!0},hasCheckbox:{type:Boolean,default:!1},checkedReturnType:{type:String,default:"key"},title:{type:String,default:""},isFixedFirstColumn:{type:Boolean,default:!1},columns:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},rowClasses:{type:[Array,Function],default:()=>[]},pageSize:{type:Number,default:10},total:{type:Number,default:100},page:{type:Number,default:1},sortable:{type:Object,default:()=>({order:"id",sort:"asc"})},messages:{type:Object,default:()=>({pagingInfo:"Showing {0}-{1} of {2}",pageSizeChangeLabel:"Row count:",gotoPageLabel:"Go to page:",noDataAvailable:"No data"})},isStaticMode:{type:Boolean,default:!1},isSlotMode:{type:Boolean,default:!1},isHidePaging:{type:Boolean,default:!1},pageOptions:{type:Array,default:()=>[{value:10,text:10},{value:25,text:25},{value:50,text:50}]},groupingKey:{type:String,default:""},hasGroupToggle:{type:Boolean,default:!1},groupingDisplay:{type:Function,default:null},maxHeight:{default:"auto"},startCollapsed:{type:Boolean,default:!1},isKeepCollapsed:{type:Boolean,default:!1},isVerticalHighlight:{type:Boolean,default:!1}},setup(e,{emit:t,slots:s}){let a=dr(null),c=e.pageOptions.length>0?dr(e.pageOptions[0].value):dr(e.pageSize);e.pageOptions.length>0&&e.pageOptions.forEach(w=>{Object.prototype.hasOwnProperty.call(w,"value")&&Object.prototype.hasOwnProperty.call(w,"text")&&e.pageSize==w.value&&(c.value=w.value)});const d=Dm({isSlotMode:e.isSlotMode,isCheckAll:!1,isHidePaging:e.isHidePaging,keyColumn:Ac(()=>{let w="";return Object.assign(e.columns).forEach(D=>{D.isKey&&(w=D.field)}),w}),page:e.page,pageSize:c.value,maxPage:Ac(()=>{if(e.total<=0)return 0;let w=Math.floor(e.total/d.pageSize);return e.total%d.pageSize>0&&w++,w}),offset:Ac(()=>(d.page-1)*d.pageSize+1),limit:Ac(()=>{let w=d.page*d.pageSize;return e.total>=w?w:e.total}),paging:Ac(()=>{let w=d.page-2<=0?1:d.page-2;d.maxPage-d.page<=2&&(w=d.maxPage-4),w=w<=0?1:w;let D=[];for(let f=w;f<=d.maxPage;f++)D.length<5&&D.push(f);return D}),order:e.sortable.order,sort:e.sortable.sort,pageOptions:e.pageOptions,isVerticalHighlight:e.isVerticalHighlight}),m=dr([]),n=Ac(()=>{let w=e.rows;var D=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});let f=d.sort==="desc"?-1:1;w.sort(function(x,P){return D.compare(x[d.order],P[d.order])*f});let g=null;if(e.groupingKey){let x={};w.forEach(P=>{x[P[e.groupingKey]]||(x[P[e.groupingKey]]=[]),x[P[e.groupingKey]].push(P)}),g={};for(let P=d.offset-1;P<d.limit;P++)g[w[P][e.groupingKey]]=x[w[P][e.groupingKey]]}else{g=[];for(let x=d.offset-1;x<d.limit;x++)g.push(w[x])}return yd(function(){E()}),g}),S=dr([]);Z1(()=>{S.value=[]}),ea(()=>d.isCheckAll,w=>{if(e.hasCheckbox){if(m.value=[],w){let D=e.isStaticMode?e.rows.slice(d.offset-1,d.limit):e.rows;e.checkedReturnType=="row"?m.value=D:D.forEach(f=>{m.value.push(f[d.keyColumn])})}S.value.forEach(D=>{D&&(D.checked=w)}),t("return-checked-rows",m.value)}}),ea(()=>e.hasCheckbox,w=>{w||(d.isCheckAll=!1)});const z=(w,D)=>{D.stopPropagation();let f=w[d.keyColumn];if(e.checkedReturnType=="row"&&(f=w),D.target.checked)m.value.push(f);else{const g=m.value.indexOf(f);g>=0&&m.value.splice(g,1)}m.value.length==e.rows.length?d.isCheckAll=!0:t("return-checked-rows",m.value)},Z=()=>{m.value=[],S.value.forEach(w=>{w&&w.checked&&(w.checked=!1)}),t("return-checked-rows",m.value)},O=w=>{let D="asc";w==d.order&&d.sort=="asc"&&(D="desc");let f=(d.page-1)*d.pageSize,g=d.pageSize;d.order=w,d.sort=D,t("do-search",f,g,w,D),d.isCheckAll?d.isCheckAll=!1:e.hasCheckbox&&Z()},H=(w,D)=>{d.isCheckAll=!1,e.hasCheckbox&&(m.value=[]);let f=d.order,g=d.sort,x=(w-1)*d.pageSize,P=d.pageSize;(!e.isReSearch||w>1||w==D)&&t("do-search",x,P,f,g)};ea(()=>d.page,H),ea(()=>e.page,w=>{w<=1?(d.page=1,t("get-now-page",d.page)):w>=d.maxPage?(d.page=d.maxPage,t("get-now-page",d.page)):d.page=w}),ea(()=>d.pageSize,()=>{d.page===1?H(d.page,d.page):(d.page=1,d.isCheckAll=!1)}),ea(()=>e.pageSize,w=>{d.pageSize=w});const L=()=>{if(d.page==1)return!1;d.page--},R=w=>{d.page=w},$=()=>{if(d.page>=d.maxPage)return!1;d.page++};ea(()=>e.rows,()=>{(e.isReSearch||e.isStaticMode)&&(d.page=1),yd(function(){e.isStaticMode||E()})});const M=(w,...D)=>w.replace(/{(\d+)}/g,function(f,g){return typeof D[g]<"u"?D[g]:f}),E=()=>{if(a.value){let w=a.value.getElementsByClassName("is-rows-el");t("is-finished",w)}t("get-now-page",d.page)},k=dr({}),V=dr({}),G=dr({}),C=Ac(()=>{let w={};return e.rows.forEach(D=>{w[D[e.groupingKey]]||(w[D[e.groupingKey]]=[]),w[D[e.groupingKey]].push(D)}),yd(function(){if(e.startCollapsed||e.isKeepCollapsed){for(const[D,f]of Object.entries(k.value))if(f){let g=!e.startCollapsed;e.isKeepCollapsed&&G.value[D]!==void 0&&(g=!G.value[D]),(g&&f.parentElement.classList.contains("rotated-90")||!g&&!f.parentElement.classList.contains("rotated-90"))&&f.parentElement.classList.toggle("rotated-90"),g||V.value[D].forEach(x=>{x&&x.classList.add("hidden")})}}E()}),w}),te=w=>{let D=k.value[w];if(D){D.parentElement.classList.toggle("rotated-90");const f=D.parentElement.classList.contains("rotated-90");V.value[w].forEach(g=>{g&&(f?g.classList.add("hidden"):g.classList.remove("hidden"))}),G.value[w]=f,t("row-toggled",C.value[w],f)}},Q=w=>{w.target.classList.add("hover")},N=w=>{w.target.classList.remove("hover")},j=w=>{if(!d.isVerticalHighlight)return;let D=a.value.querySelectorAll(".vtl-tbody-td"+w);for(let f=0;f<D.length;f++)D[f].classList.add("hover")},W=w=>{if(!d.isVerticalHighlight)return;let D=a.value.querySelectorAll(".vtl-tbody-td"+w);for(let f=0;f<D.length;f++)D[f].classList.remove("hover")};return jh(()=>{yd(()=>{e.rows.length>0&&E()})}),{slots:s,localTable:a,localRows:n,setting:d,rowCheckbox:S,checked:z,clearChecked:Z,doSort:O,prevPage:L,movePage:R,nextPage:$,stringFormat:M,toggleButtonRefs:k,groupingRowsRefs:V,groupingRows:C,toggleGroup:te,addHoverClassToTr:Q,removeHoverClassFromTr:N,addVerticalHighlight:j,removeVerticalHighlight:W}}}),xu=e=>(fu("data-v-8c9f1486"),e=e(),mu(),e),MN={class:"vtl vtl-card"},AN={key:0,class:"vtl-card-title"},kN={class:"vtl-card-body"},PN={class:"vtl-row"},DN={key:0,class:"vtl-loading-mask"},IN=xu(()=>je("div",{class:"vtl-loading-content"},[je("span",{style:{color:"white"}},"Loading...")],-1)),LN=[IN],ON={class:"vtl-thead"},RN={class:"vtl-thead-tr"},BN={key:0,class:"vtl-thead-th vtl-checkbox-th"},zN=["onClick","innerHTML"],FN=["set"],NN={key:0,class:"vtl-tbody-tr vtl-group-tr"},jN=["colspan"],UN={class:"flex"},GN={key:0,class:"animation"},VN=["onClick"],$N=["innerHTML"],HN=["name","onClick"],WN={key:0,class:"vtl-tbody-td vtl-checkbox-td"},YN=["value","onClick"],qN=["onMouseover","onMouseleave"],XN=["innerHTML"],ZN={key:1},KN={key:0},JN={key:1},QN=["set"],ej={key:0,class:"vtl-tbody-tr vtl-group-tr"},tj=["colspan"],ij={class:"flex"},nj={key:0,class:"animation"},sj=["onClick"],rj=["innerHTML"],oj=["name","onClick"],aj={key:0,class:"vtl-tbody-td vtl-checkbox-td"},lj=["value","onClick"],cj=["onMouseover","onMouseleave"],hj=["innerHTML"],dj={key:1},uj={key:0},pj={key:1},fj={key:0,class:"vtl-paging vtl-row"},mj={class:"vtl-paging-info col-sm-12 col-md-4"},gj={role:"status","aria-live":"polite"},_j={class:"vtl-paging-change-div col-sm-12 col-md-4"},yj={class:"vtl-paging-count-label"},vj=["value"],xj={class:"vtl-paging-page-label"},bj=["value"],wj={class:"vtl-paging-pagination-div col-sm-12 col-md-4"},Sj={class:"dataTables_paginate"},Tj={class:"vtl-paging-pagination-ul vtl-pagination"},Ej=xu(()=>je("span",{"aria-hidden":"true"},"«",-1)),Cj=xu(()=>je("span",{class:"sr-only"},"First",-1)),Mj=[Ej,Cj],Aj=xu(()=>je("span",{"aria-hidden":"true"},"<",-1)),kj=xu(()=>je("span",{class:"sr-only"},"Prev",-1)),Pj=[Aj,kj],Dj=["onClick"],Ij=xu(()=>je("span",{"aria-hidden":"true"},">",-1)),Lj=xu(()=>je("span",{class:"sr-only"},"Next",-1)),Oj=[Ij,Lj],Rj=xu(()=>je("span",{"aria-hidden":"true"},"»",-1)),Bj=xu(()=>je("span",{class:"sr-only"},"Last",-1)),zj=[Rj,Bj],Fj={key:1,class:"vtl-row"},Nj={class:"vtl-empty-msg col-sm-12 text-center"};function jj(e,t,s,a,c,d){return Ot(),Ft("div",MN,[e.title?(Ot(),Ft("div",AN,ji(e.title),1)):yn("",!0),je("div",kN,[je("div",PN,[je("div",{class:Gs(["col-sm-12",{"fixed-first-column":e.isFixedFirstColumn,"fixed-first-second-column":e.isFixedFirstColumn&&e.hasCheckbox}])},[e.isLoading?(Ot(),Ft("div",DN,LN)):yn("",!0),je("table",{class:"vtl-table vtl-table-hover vtl-table-bordered vtl-table-responsive vtl-table-responsive-sm",ref:"localTable",style:Dl("max-height: "+e.maxHeight+"px;")},[je("thead",ON,[je("tr",RN,[e.hasCheckbox?(Ot(),Ft("th",BN,[je("div",null,[rr(je("input",{type:"checkbox",class:"vtl-thead-checkbox","onUpdate:modelValue":t[0]||(t[0]=m=>e.setting.isCheckAll=m)},null,512),[[ou,e.setting.isCheckAll]])])])):yn("",!0),(Ot(!0),Ft(fn,null,vs(e.columns,(m,n)=>(Ot(),Ft("th",{class:Gs(["vtl-thead-th",m.headerClasses]),key:n,style:Dl(Object.assign({width:m.width?m.width:"auto"},m.headerStyles))},[je("div",{class:Gs(["vtl-thead-column",{"vtl-sortable":m.sortable,"vtl-both":m.sortable,"vtl-asc":e.setting.order===m.field&&e.setting.sort==="asc","vtl-desc":e.setting.order===m.field&&e.setting.sort==="desc"}]),onClick:ud(S=>m.sortable?e.doSort(m.field):!1,["prevent"]),innerHTML:m.label},null,10,zN)],6))),128))])]),e.rows.length>0?(Ot(),Ft(fn,{key:0},[e.isStaticMode?(Ot(),Ft("tbody",{key:0,class:"vtl-tbody",set:e.templateRows=e.groupingKey==""?[e.localRows]:e.localRows},[(Ot(!0),Ft(fn,null,vs(e.templateRows,(m,n)=>(Ot(),Ft(fn,{key:n},[e.groupingKey!=""?(Ot(),Ft("tr",NN,[je("td",{colspan:e.hasCheckbox?e.columns.length+1:e.columns.length,class:"vtl-tbody-td vtl-group-td"},[je("div",UN,[e.hasGroupToggle?(Ot(),Ft("div",GN,[je("a",{ref_for:!0,ref:S=>e.toggleButtonRefs[n]=S,class:"cursor-pointer",onClick:ud(S=>e.toggleGroup(n),["prevent"])},"▼",8,VN)])):yn("",!0),je("div",{class:"ml-2",innerHTML:e.groupingDisplay?e.groupingDisplay(n):n},null,8,$N)])],8,jN)])):yn("",!0),(Ot(!0),Ft(fn,null,vs(m,(S,z)=>(Ot(),Ft("tr",{key:S[e.setting.keyColumn]?S[e.setting.keyColumn]:z,ref_for:!0,ref:Z=>{e.groupingRowsRefs[n]||(e.groupingRowsRefs[n]=[]),e.groupingRowsRefs[n][z]=Z},name:"vtl-group-"+n,class:Gs(["vtl-tbody-tr",typeof e.rowClasses=="function"?e.rowClasses(S):e.rowClasses]),onMouseenter:t[1]||(t[1]=(...Z)=>e.addHoverClassToTr&&e.addHoverClassToTr(...Z)),onMouseleave:t[2]||(t[2]=(...Z)=>e.removeHoverClassFromTr&&e.removeHoverClassFromTr(...Z)),onClick:Z=>e.$emit("row-clicked",S)},[e.hasCheckbox?(Ot(),Ft("td",WN,[je("div",null,[je("input",{type:"checkbox",class:"vtl-tbody-checkbox",ref_for:!0,ref:Z=>{e.rowCheckbox.push(Z)},value:S[e.setting.keyColumn],onClick:Z=>e.checked(S,Z)},null,8,YN)])])):yn("",!0),(Ot(!0),Ft(fn,null,vs(e.columns,(Z,O)=>(Ot(),Ft("td",{key:O,class:Gs(["vtl-tbody-td",["vtl-tbody-td"+O].concat(Z.columnClasses)]),style:Dl(Z.columnStyles),onMouseover:H=>e.addVerticalHighlight(O),onMouseleave:H=>e.removeVerticalHighlight(O)},[Z.display?(Ot(),Ft("div",{key:0,innerHTML:Z.display(S)},null,8,XN)):(Ot(),Ft("div",ZN,[e.setting.isSlotMode&&e.slots[Z.field]?(Ot(),Ft("div",KN,[tc(e.$slots,Z.field,{value:S},void 0,!0)])):(Ot(),Ft("span",JN,ji(S[Z.field]),1))]))],46,qN))),128))],42,HN))),128))],64))),128))],8,FN)):(Ot(),Ft("tbody",{key:1,set:e.templateRows=e.groupingKey==""?[e.rows]:e.groupingRows},[(Ot(!0),Ft(fn,null,vs(e.templateRows,(m,n)=>(Ot(),Ft(fn,{key:n},[e.groupingKey!=""?(Ot(),Ft("tr",ej,[je("td",{colspan:e.hasCheckbox?e.columns.length+1:e.columns.length,class:"vtl-tbody-td vtl-group-td"},[je("div",ij,[e.hasGroupToggle?(Ot(),Ft("div",nj,[je("a",{ref_for:!0,ref:S=>e.toggleButtonRefs[n]=S,class:"cursor-pointer",onClick:ud(S=>e.toggleGroup(n),["prevent"])},"▼",8,sj)])):yn("",!0),je("div",{class:"ml-2",innerHTML:e.groupingDisplay?e.groupingDisplay(n):n},null,8,rj)])],8,tj)])):yn("",!0),(Ot(!0),Ft(fn,null,vs(m,(S,z)=>(Ot(),Ft("tr",{ref_for:!0,ref:Z=>{e.groupingRowsRefs[n]||(e.groupingRowsRefs[n]=[]),e.groupingRowsRefs[n][z]=Z},name:"vtl-group-"+n,key:S[e.setting.keyColumn]?S[e.setting.keyColumn]:z,class:Gs(["vtl-tbody-tr",typeof e.rowClasses=="function"?e.rowClasses(S):e.rowClasses]),onMouseenter:t[3]||(t[3]=(...Z)=>e.addHoverClassToTr&&e.addHoverClassToTr(...Z)),onMouseleave:t[4]||(t[4]=(...Z)=>e.removeHoverClassFromTr&&e.removeHoverClassFromTr(...Z)),onClick:Z=>e.$emit("row-clicked",S)},[e.hasCheckbox?(Ot(),Ft("td",aj,[je("div",null,[je("input",{type:"checkbox",class:"vtl-tbody-checkbox",ref_for:!0,ref:Z=>{e.rowCheckbox.push(Z)},value:S[e.setting.keyColumn],onClick:Z=>e.checked(S,Z)},null,8,lj)])])):yn("",!0),(Ot(!0),Ft(fn,null,vs(e.columns,(Z,O)=>(Ot(),Ft("td",{key:O,class:Gs(["vtl-tbody-td",["vtl-tbody-td"+O].concat(Z.columnClasses)]),style:Dl(Z.columnStyles),onMouseover:H=>e.addVerticalHighlight(O),onMouseleave:H=>e.removeVerticalHighlight(O)},[Z.display?(Ot(),Ft("div",{key:0,innerHTML:Z.display(S)},null,8,hj)):(Ot(),Ft("div",dj,[e.setting.isSlotMode&&e.slots[Z.field]?(Ot(),Ft("div",uj,[tc(e.$slots,Z.field,{value:S},void 0,!0)])):(Ot(),Ft("span",pj,ji(S[Z.field]),1))]))],46,cj))),128))],42,oj))),128))],64))),128))],8,QN))],64)):yn("",!0)],4)],2)]),e.rows.length>0?(Ot(),Ft("div",fj,[e.setting.isHidePaging?yn("",!0):(Ot(),Ft(fn,{key:0},[je("div",mj,[je("div",gj,ji(e.stringFormat(e.messages.pagingInfo,e.setting.offset,e.setting.limit,e.total)),1)]),je("div",_j,[je("span",yj,ji(e.messages.pageSizeChangeLabel),1),rr(je("select",{class:"vtl-paging-count-dropdown","onUpdate:modelValue":t[5]||(t[5]=m=>e.setting.pageSize=m)},[(Ot(!0),Ft(fn,null,vs(e.pageOptions,m=>(Ot(),Ft("option",{value:m.value,key:m.value},ji(m.text),9,vj))),128))],512),[[Il,e.setting.pageSize]]),je("span",xj,ji(e.messages.gotoPageLabel),1),rr(je("select",{class:"vtl-paging-page-dropdown","onUpdate:modelValue":t[6]||(t[6]=m=>e.setting.page=m)},[(Ot(!0),Ft(fn,null,vs(e.setting.maxPage,m=>(Ot(),Ft("option",{key:m,value:parseInt(m)},ji(m),9,bj))),128))],512),[[Il,e.setting.page]])]),je("div",wj,[je("div",Sj,[je("ul",Tj,[je("li",{class:Gs(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-first page-item",{disabled:e.setting.page<=1}])},[je("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-first page-link cursor-pointer","aria-label":"Previous",onClick:t[7]||(t[7]=ud(m=>e.setting.page=1,["prevent"]))},Mj)],2),je("li",{class:Gs(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-prev page-item",{disabled:e.setting.page<=1}])},[je("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-prev page-link cursor-pointer","aria-label":"Previous",onClick:t[8]||(t[8]=ud((...m)=>e.prevPage&&e.prevPage(...m),["prevent"]))},Pj)],2),(Ot(!0),Ft(fn,null,vs(e.setting.paging,m=>(Ot(),Ft("li",{class:Gs(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-number page-item",{disabled:e.setting.page===m}]),key:m},[je("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-number page-link cursor-pointer",onClick:ud(n=>e.movePage(m),["prevent"])},ji(m),9,Dj)],2))),128)),je("li",{class:Gs(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-next page-item",{disabled:e.setting.page>=e.setting.maxPage}])},[je("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-next page-link cursor-pointer","aria-label":"Next",onClick:t[9]||(t[9]=ud((...m)=>e.nextPage&&e.nextPage(...m),["prevent"]))},Oj)],2),je("li",{class:Gs(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-last page-item",{disabled:e.setting.page>=e.setting.maxPage}])},[je("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-last page-link cursor-pointer","aria-label":"Next",onClick:t[10]||(t[10]=ud(m=>e.setting.page=e.setting.maxPage,["prevent"]))},zj)],2)])])])],64))])):(Ot(),Ft("div",Fj,[je("div",Nj,ji(e.messages.noDataAvailable),1)]))])])}const Uj=Kn(CN,[["render",jj],["__scopeId","data-v-8c9f1486"]]);var T5={at_port:{img:"/icon/blue.png",name:"At Port"},underway:{img:"/icon/green.png",name:"Underway"},lost_connection:{img:"/icon/red.png",name:"Lost Connection"},at_anchorage:{img:"/icon/yellow.png",name:"At Anchorage"},other:{img:"/icon/purple.png",name:"Other"}};const Gj={components:{TableLite:Uj},props:{},data(){return{keyword:"",isLoading:!1,fleets:[],columns:[{label:"Vessel Name",field:"name"},{label:"Vessel State",field:"fleet_status",display:function(e){return T5[e.fleet_status]?T5[e.fleet_status].name:"Other"}},{label:"Connection",field:"connected",display:function(e){return e.connected?'<div class="badge bg-success"></div> Good':'<div class="badge bg-danger"></div> No Connection'}},{label:"Location",field:"navigation.location",display:function(e){return e.navigation?`${e.navigation.lat.toFixed(4)} ${e.navigation.lat_dir}, ${e.navigation.lng.toFixed(4)} ${e.navigation.lng_dir}`:""}},{label:"Course",field:"navigation.sog",display:e=>e.navigation?e.navigation.cog:0},{label:"Speed (kn)",field:"navigation.sog",display:e=>e.navigation?e.navigation.sog:0},{label:"Origin",field:"voyage.origin"},{label:"Destination",field:"voyage.destination"},{label:"ETA",field:"voyage.eta"}],isHide:!0}},computed:{totalRecordCount(){return this.items.length},items(){return this.fleets.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase()))}},mounted(){this.fetchData()},methods:{doSearch(e,t,s,a){this.isLoading=!0,this.isLoading=!1},async fetchData(){let{data:e}=await axios.get("/api/fleets");e.forEach(t=>{this.fleets.push(t)})}}},Vj={class:"fleets-list"},$j={class:"card"},Hj={class:"card-header search"},Wj={action:"#",method:"get",style:{width:"300px"}},Yj={class:"input-icon"},qj=ph('<span class="input-icon-addon"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg></span>',1),Xj={class:"card-actions btn-actions"},Zj={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Kj=je("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Jj=je("polyline",{points:"15 6 9 12 15 18"},null,-1),Qj=[Kj,Jj],eU={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},tU=je("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),iU=je("polyline",{points:"6 9 12 15 18 9"},null,-1),nU=[tU,iU];function sU(e,t,s,a,c,d){const m=Yn("table-lite");return Ot(),Ft("div",Vj,[je("div",$j,[je("div",Hj,[je("form",Wj,[je("div",Yj,[qj,rr(je("input",{type:"text",onFocus:t[0]||(t[0]=n=>c.isHide=!1),onKeyup:t[1]||(t[1]=(...n)=>e.search&&e.search(...n)),"onUpdate:modelValue":t[2]||(t[2]=n=>c.keyword=n),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[il,c.keyword]])])]),je("div",Xj,[je("a",{href:"#",class:"btn-action",onClick:t[3]||(t[3]=n=>c.isHide=!c.isHide)},[c.isHide?yn("",!0):(Ot(),Ft("svg",Zj,Qj)),c.isHide?(Ot(),Ft("svg",eU,nU)):yn("",!0)])])]),je("div",{class:Gs(["card-table table-responsive",{hide:c.isHide}])},[Qi(m,{"is-static-mode":!0,"is-loading":c.isLoading,columns:c.columns,rows:d.items,total:d.totalRecordCount,"page-size":5,pageOptions:[{value:5,text:5},{value:10,text:10},{value:25,text:25},{value:50,text:50}],onDoSearch:d.doSearch,onIsFinished:t[4]||(t[4]=n=>c.isLoading=!1)},null,8,["is-loading","columns","rows","total","onDoSearch"])],2)])])}const rU=Kn(Gj,[["render",sU]]);window.mapboxgl=nl;const oU={components:{"x-search":mA,"x-notification":gA,"x-records":_A,"x-navigation":yA,"x-camera":vA,"x-parameter":xA,"x-legend":EN,MapboxMap:a_,MapboxNavigationControl:l_,fleetTable:rU},data(){return{weatherKey:"dfc256782db426c6a8d3b8daaefa5b33",weathers:[],icons:{at_port:cN,underway:hN,lost_connection:dN,at_anchorage:uN,other:pN},map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null,fleet:null,showSideInfo:!1,fleets_point:{type:"FeatureCollection",features:[]},fleetsGroup:[],filters:{}}},mounted(){this.timer=setInterval(()=>{this.refreshData()},5*1e3);let e=this;Object.keys(this.icons).forEach(function(t){e.map.loadImage(e.icons[t],(s,a)=>{if(s)throw s;e.map.addImage(t,a)})}),this.popup=new nl.Popup({closeButton:!0,closeOnClick:!1})},methods:{async fetchData(){let{data:e}=await axios.get("/api/fleets",{params:this.filters});this.fleets=e,this.fleets_point.features=[],e.forEach(t=>{if(t.navigation){let s=t.fleet_status;this.fleets_point.features.push({type:"Feature",geometry:{type:"Point",coordinates:[t.navigation.lng,t.navigation.lat]},properties:{scale:1,id:t.id,heading:t.navigation.heading,name:t.name,image:t.image,status:t.fleet_status,icon:s,depth:t.navigation.depth,sog:t.navigation.sog,cog:t.navigation.cog,imo:t.imo_number,last_update:Cm(t.last_connection)}})}})},async loaded(){await this.fetchData(),this.buildLayer()},async refreshData(){await this.fetchData();let e=await this.map.getSource("ship-position");e&&e.setData(this.fleets_point)},buildLayer(){let e=this;this.map.addSource("ship-position",{type:"geojson",data:this.fleets_point}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-position",layout:{"icon-image":["get","icon"],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.12,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const t=new nl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","ship-position",s=>{let a=s.features[0].properties.id;e.showInfo(a)}),this.map.on("mouseenter","ship-position",s=>{e.map.getCanvas().style.cursor="pointer";const a=s.features[0].geometry.coordinates.slice(),c=`<b>${s.features[0].properties.name} [ID]</b> at ${s.features[0].properties.sog} <b>kn</b> / ${s.features[0].properties.cog}&deg;<br>last update: <b>${s.features[0].properties.last_update}</b>`;for(;Math.abs(s.lngLat.lng-a[0])>180;)a[0]+=s.lngLat.lng>a[0]?360:-360;t.setLngLat(a).setHTML(c).addTo(e.map)}),this.map.on("mouseleave","ship-position",()=>{e.map.getCanvas().style.cursor="",t.remove()})},async buildWeathers(){const d=[];for(let z=0;z<10;z++)for(let Z=0;Z<10;Z++)d.push({lat:-80+z*(80- -80)/10,lng:-180+Z*(180- -180)/10,val:0,wind:{},weather:{}});const m="https://api.openweathermap.org/data/2.5/weather?units=metric&lat=",n=d.map(z=>m+z.lat+"&lon="+z.lng+"&appid="+this.weatherKey),S=await Promise.all(n.map(async z=>(await fetch(z)).text()));d.forEach((z,Z)=>{let O=JSON.parse(S[Z]);z.val=O.main.temp,z.wind=O.wind,z.weather=O.weather[0]}),this.weathers=d},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const s=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Cm(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(s).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},showInfo(e){let t=this.fleets.findIndex(function(s){return s.id===e});t>=0&&(this.fleet=this.fleets[t],this.showSideInfo=!0)},buildTrack(e){console.log(e)},doFilter(e){this.filters.fleet_status=e.label,this.refreshData()}}},aU={class:"position-relative"},lU={class:"pointer-info",ref:"pointerInfo"};function cU(e,t,s,a,c,d){const m=Yn("x-search"),n=Yn("fleet-side-info"),S=Yn("x-legend"),z=Yn("MapboxNavigationControl"),Z=Yn("MapboxMap"),O=Yn("fleet-table");return Ot(),Ft(fn,null,[je("div",aU,[Qi(m,{fleets:c.fleets,onSelected:d.findFleet},null,8,["fleets","onSelected"]),c.fleet?(Ot(),Bh(n,{key:0,fleet:c.fleet,display:c.showSideInfo,onClose:t[0]||(t[0]=H=>c.showSideInfo=!1),onHistory:d.buildTrack},null,8,["fleet","display","onHistory"])):yn("",!0),je("div",lU,null,512),Qi(S,{fleets:c.fleets,onFilters:d.doFilter},null,8,["fleets","onFilters"]),Qi(Z,{onMbCreated:t[1]||(t[1]=H=>c.map=H),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:c.center,zoom:c.zoom},{default:Do(()=>[Qi(z,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])]),Qi(O,{fleets:c.fleets},null,8,["fleets"])],64)}const hU=Kn(oU,[["render",cU]]),AS="/build/assets/ship-c94d8078.png",dU=[{time:1673037001e3,id:"c78219c1-d81e-4d33-8984-e39fa3710bfa",ship_id:1,terminal_time:"2023-01-06 20:30:01",lat:-6.009818,lng:106.900525,wind_speed:17.4,wind_direction:21,heading:249.1,distance:88548.42,depth:-12,cog:282.6,sog:0,created_at:"2023-01-07 08:06:28",updated_at:"2023-01-07 08:06:28"},{time:1673037901e3,id:"ee8ec98d-526d-46bf-9d00-ec50433fafb3",ship_id:1,terminal_time:"2023-01-06 20:45:01",lat:-6.009707,lng:106.900482,wind_speed:19.6,wind_direction:15.4,heading:242.9,distance:88548.43,depth:-12.1,cog:358.3,sog:0,created_at:"2023-01-07 08:07:15",updated_at:"2023-01-07 08:07:15"},{time:1673038801e3,id:"22cab800-8d22-44fb-abc1-f5fafd1947a3",ship_id:1,terminal_time:"2023-01-06 21:00:01",lat:-6.00976,lng:106.90053,wind_speed:17.1,wind_direction:16.8,heading:247,distance:88548.44,depth:-12.3,cog:285.2,sog:.1,created_at:"2023-01-07 08:07:02",updated_at:"2023-01-07 08:07:02"},{time:1673039701e3,id:"ee9bb42d-3fac-455b-8140-e032fc3abdcc",ship_id:1,terminal_time:"2023-01-06 21:15:01",lat:-6.0098,lng:106.900533,wind_speed:16.5,wind_direction:19.6,heading:247.1,distance:88548.45,depth:-12.1,cog:208.1,sog:.1,created_at:"2023-01-07 08:06:48",updated_at:"2023-01-07 08:06:48"},{time:1673040601e3,id:"9bf240fd-0767-4f62-94c9-91a4ef95f0cd",ship_id:1,terminal_time:"2023-01-06 21:30:01",lat:-6.009815,lng:106.900515,wind_speed:18.8,wind_direction:21,heading:248,distance:88548.46,depth:-12.1,cog:192.2,sog:0,created_at:"2023-01-07 08:06:43",updated_at:"2023-01-07 08:06:43"},{time:1673041501e3,id:"f4b05071-bc72-44fd-b58b-63e43e69112b",ship_id:1,terminal_time:"2023-01-06 21:45:01",lat:-6.00981,lng:106.900533,wind_speed:18.8,wind_direction:19.6,heading:0,distance:0,depth:-12.1,cog:79.9,sog:0,created_at:"2023-01-07 08:07:29",updated_at:"2023-01-07 08:07:29"},{time:1673042401e3,id:"2d2f89d4-18d5-4ac9-b08b-949a44cad43a",ship_id:1,terminal_time:"2023-01-06 22:00:01",lat:-6.009765,lng:106.900487,wind_speed:15.1,wind_direction:16.8,heading:0,distance:0,depth:-12.1,cog:11.7,sog:0,created_at:"2023-01-07 08:08:00",updated_at:"2023-01-07 08:08:00"},{time:1673043301e3,id:"e79b359c-6eb7-41e3-a526-c4c06282e62a",ship_id:1,terminal_time:"2023-01-06 22:15:01",lat:-6.009688,lng:106.900457,wind_speed:18.6,wind_direction:11.2,heading:242.7,distance:88548.47,depth:-12.1,cog:121.2,sog:0,created_at:"2023-01-07 08:07:47",updated_at:"2023-01-07 08:07:47"},{time:1673044201e3,id:"2750d1e6-4e3c-4946-a145-3e66185627ef",ship_id:1,terminal_time:"2023-01-06 22:30:01",lat:-6.009655,lng:106.900433,wind_speed:14.7,wind_direction:12.5,heading:242.4,distance:88548.48,depth:-12.1,cog:185.9,sog:.1,created_at:"2023-01-07 08:07:40",updated_at:"2023-01-07 08:07:40"},{time:1673045101e3,id:"85d26971-e86f-4f16-8fa5-bc711fcb9b91",ship_id:1,terminal_time:"2023-01-06 22:45:01",lat:-6.0096,lng:106.900403,wind_speed:13.2,wind_direction:11.2,heading:239.6,distance:88548.48,depth:-12.1,cog:180.1,sog:0,created_at:"2023-01-07 08:08:22",updated_at:"2023-01-07 08:08:22"},{time:1673046001e3,id:"06fa9922-e8d6-41c9-886e-e5295949399c",ship_id:1,terminal_time:"2023-01-06 23:00:01",lat:-16.056667,lng:116.8825,wind_speed:16.3,wind_direction:16.8,heading:241.5,distance:88548.49,depth:-12.1,cog:0,sog:0,created_at:"2023-01-07 08:08:11",updated_at:"2023-01-07 08:08:11"},{time:1673046901e3,id:"557403a0-0bc2-42f1-9a07-646c8d66822e",ship_id:1,terminal_time:"2023-01-06 23:15:01",lat:-6.009613,lng:106.900427,wind_speed:18.6,wind_direction:16.8,heading:240.7,distance:88548.49,depth:-12.3,cog:.9,sog:0,created_at:"2023-01-07 08:08:10",updated_at:"2023-01-07 08:08:10"},{time:1673047801e3,id:"bb7144ef-0827-4d3d-9c7b-b0bb7881f441",ship_id:1,terminal_time:"2023-01-06 23:30:01",lat:-6.009658,lng:106.900407,wind_speed:14.1,wind_direction:21,heading:0,distance:0,depth:-12.3,cog:192.5,sog:0,created_at:"2023-01-07 08:07:55",updated_at:"2023-01-07 08:07:55"},{time:1673048701e3,id:"8df2a863-e7d4-4c66-ab22-310f7ac661f2",ship_id:1,terminal_time:"2023-01-06 23:45:01",lat:-6.009732,lng:106.900458,wind_speed:15.7,wind_direction:21,heading:244.8,distance:88548.49,depth:-12.3,cog:152.6,sog:0,created_at:"2023-01-07 08:08:26",updated_at:"2023-01-07 08:08:26"},{time:1673049601e3,id:"e7d31596-5cc9-4fab-850b-c892908430b8",ship_id:1,terminal_time:"2023-01-07 00:00:01",lat:-6.009775,lng:106.900575,wind_speed:19.8,wind_direction:21,heading:250.9,distance:88548.5,depth:-12.3,cog:178.6,sog:.1,created_at:"2023-01-07 08:08:38",updated_at:"2023-01-07 08:08:38"},{time:1673050503e3,id:"1ae1dd53-7f4b-48cb-9aa3-af6f97274fdb",ship_id:1,terminal_time:"2023-01-07 00:15:03",lat:-6.010635,lng:106.898792,wind_speed:21.1,wind_direction:33.6,heading:236.2,distance:88548.61,depth:-12.3,cog:236.1,sog:2.5,created_at:"2023-01-07 08:09:21",updated_at:"2023-01-07 08:09:21"},{time:1673051403e3,id:"c12a6b0d-c9db-4451-a7c5-6f13c29e0954",ship_id:1,terminal_time:"2023-01-07 00:30:03",lat:-6.030335,lng:106.886345,wind_speed:19.8,wind_direction:54.9,heading:195.2,distance:88550.03,depth:-10.6,cog:193.8,sog:7.1,created_at:"2023-01-07 08:08:47",updated_at:"2023-01-07 08:08:47"},{time:1673052303e3,id:"c5971d9c-2c92-4736-950d-6734e6b305cd",ship_id:1,terminal_time:"2023-01-07 00:45:03",lat:-6.059783,lng:106.883237,wind_speed:19.6,wind_direction:67.5,heading:185.4,distance:88551.81,depth:-9.3,cog:182.4,sog:6.5,created_at:"2023-01-07 08:09:35",updated_at:"2023-01-07 08:09:35"},{time:1673053308e3,id:"bd9913a5-6be1-4c3b-89d1-938a9cf2f382",ship_id:1,terminal_time:"2023-01-07 01:01:48",lat:-6.08938,lng:106.883468,wind_speed:16.3,wind_direction:78.7,heading:0,distance:0,depth:-9,cog:161.9,sog:8.8,created_at:"2023-01-07 08:09:28",updated_at:"2023-01-07 08:09:28"},{time:1673054103e3,id:"aac0a1a7-cf35-4a7c-bdff-faef950524be",ship_id:1,terminal_time:"2023-01-07 01:15:03",lat:-6.095888,lng:106.902867,wind_speed:7.9,wind_direction:168.9,heading:0,distance:0,depth:-8.5,cog:97.1,sog:4.1,created_at:"2023-01-07 08:09:07",updated_at:"2023-01-07 08:09:07"},{time:1673055003e3,id:"db38b400-18fe-4637-84bc-441c4333900c",ship_id:1,terminal_time:"2023-01-07 01:30:03",lat:-6.100858,lng:106.906243,wind_speed:6.2,wind_direction:259,heading:0,distance:0,depth:-6,cog:181,sog:1,created_at:"2023-01-07 08:09:40",updated_at:"2023-01-07 08:09:40"},{time:1673055903e3,id:"52f58367-b5da-4516-99ac-401425b6889a",ship_id:1,terminal_time:"2023-01-07 01:45:03",lat:-6.101412,lng:106.90592,wind_speed:7.7,wind_direction:270.3,heading:0,distance:88555.15,depth:-2.1,cog:209.8,sog:0,created_at:"2023-01-07 08:09:32",updated_at:"2023-01-07 08:09:32"},{time:1673056803e3,id:"f8144029-2e71-4a9f-a077-871b58532749",ship_id:1,terminal_time:"2023-01-07 02:00:03",lat:-6.101405,lng:106.905882,wind_speed:3.3,wind_direction:280,heading:0,distance:88555.16,depth:-2.1,cog:349.2,sog:0,created_at:"2023-01-07 08:09:31",updated_at:"2023-01-07 08:09:31"},{time:1673057703e3,id:"03be7e48-aa1c-4ffb-8c39-402c203a283e",ship_id:1,terminal_time:"2023-01-07 02:15:03",lat:-6.101395,lng:106.905868,wind_speed:8.1,wind_direction:281.5,heading:359.9,distance:88555.18,depth:-2.1,cog:328.8,sog:.1,created_at:"2023-01-07 08:10:05",updated_at:"2023-01-07 08:10:05"},{time:1673058603e3,id:"fa44cb0f-6f3d-4e8d-b2b5-6540c952f48b",ship_id:1,terminal_time:"2023-01-07 02:30:03",lat:-6.101392,lng:106.90591,wind_speed:11,wind_direction:259,heading:359.9,distance:88555.18,depth:-2.1,cog:302,sog:0,created_at:"2023-01-07 08:10:07",updated_at:"2023-01-07 08:10:07"},{time:1673059503e3,id:"75810f78-b08f-42b1-a508-ee1b5d13c9e5",ship_id:1,terminal_time:"2023-01-07 02:45:03",lat:-6.101392,lng:106.90587,wind_speed:11,wind_direction:274.5,heading:359.7,distance:88555.19,depth:-2.1,cog:336.9,sog:.1,created_at:"2023-01-07 08:10:09",updated_at:"2023-01-07 08:10:09"},{time:1673060403e3,id:"b8076a15-7e98-4b6b-af9b-0261c6d1ce26",ship_id:1,terminal_time:"2023-01-07 03:00:03",lat:-6.101413,lng:106.905907,wind_speed:9.3,wind_direction:267.4,heading:359.5,distance:88555.2,depth:-2.1,cog:327.9,sog:0,created_at:"2023-01-07 08:09:38",updated_at:"2023-01-07 08:09:38"},{time:1673061303e3,id:"32656a8d-db24-44cc-af81-a149b2fa4e1f",ship_id:1,terminal_time:"2023-01-07 03:15:03",lat:-6.101405,lng:106.905922,wind_speed:8.5,wind_direction:270.3,heading:359.3,distance:88555.2,depth:-5.5,cog:34.4,sog:.1,created_at:"2023-01-07 08:10:40",updated_at:"2023-01-07 08:10:40"},{time:1673062203e3,id:"3e3fcfcf-19d1-4d33-857a-f68b14328338",ship_id:1,terminal_time:"2023-01-07 03:30:03",lat:-6.101402,lng:106.905877,wind_speed:6.2,wind_direction:268.8,heading:359.5,distance:88555.2,depth:-2.1,cog:292.1,sog:0,created_at:"2023-01-07 08:10:33",updated_at:"2023-01-07 08:10:33"},{time:1673063103e3,id:"1c4697c3-b6e6-4eb4-b165-94d5d36d3aa1",ship_id:1,terminal_time:"2023-01-07 03:45:03",lat:-6.10142,lng:106.905858,wind_speed:5.2,wind_direction:264.5,heading:359.7,distance:88555.2,depth:-2.1,cog:129.7,sog:0,created_at:"2023-01-07 08:10:44",updated_at:"2023-01-07 08:10:44"},{time:1673064003e3,id:"ba69338a-3d22-4a08-bb11-d3f886eb6c9b",ship_id:1,terminal_time:"2023-01-07 04:00:03",lat:-6.101392,lng:106.905878,wind_speed:5.6,wind_direction:264.5,heading:359.8,distance:88555.2,depth:-2.3,cog:233.4,sog:0,created_at:"2023-01-07 08:10:39",updated_at:"2023-01-07 08:10:39"},{time:1673064903e3,id:"bd930a40-a514-4c87-8044-e8633e1c1c52",ship_id:1,terminal_time:"2023-01-07 04:15:03",lat:-6.101395,lng:106.905902,wind_speed:6.4,wind_direction:252,heading:359.7,distance:88555.2,depth:0,cog:274.4,sog:0,created_at:"2023-01-07 08:11:40",updated_at:"2023-01-07 08:11:40"},{time:1673065803e3,id:"6544c411-e0b0-40bb-bf1e-efd22c3a2595",ship_id:1,terminal_time:"2023-01-07 04:30:03",lat:-6.101398,lng:106.905932,wind_speed:5.4,wind_direction:252,heading:359.7,distance:88555.2,depth:-2.5,cog:276.2,sog:0,created_at:"2023-01-07 08:11:26",updated_at:"2023-01-07 08:11:26"},{time:1673066703e3,id:"02b25b22-4c20-48a6-a3ad-5944f017c3b9",ship_id:1,terminal_time:"2023-01-07 04:45:03",lat:-6.101387,lng:106.9059,wind_speed:9.3,wind_direction:257.5,heading:0,distance:0,depth:-2.5,cog:163.2,sog:0,created_at:"2023-01-07 08:10:53",updated_at:"2023-01-07 08:10:53"},{time:1673067608e3,id:"523c3936-bffc-4662-9879-e3dff459febf",ship_id:1,terminal_time:"2023-01-07 05:00:08",lat:-6.101402,lng:106.905932,wind_speed:3.6,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.5,cog:195.8,sog:0,created_at:"2023-01-07 08:11:05",updated_at:"2023-01-07 08:11:05"},{time:1673068503e3,id:"ccdee8cd-a739-471e-9dfc-0aa08c034f7a",ship_id:1,terminal_time:"2023-01-07 05:15:03",lat:-6.101402,lng:106.905907,wind_speed:6,wind_direction:257.5,heading:359.6,distance:88555.21,depth:-6.1,cog:162.3,sog:0,created_at:"2023-01-07 08:10:45",updated_at:"2023-01-07 08:10:45"},{time:1673069403e3,id:"d3d4589c-77e7-48fc-b418-c5957dae636d",ship_id:1,terminal_time:"2023-01-07 05:30:03",lat:-6.101398,lng:106.905877,wind_speed:7.7,wind_direction:263.1,heading:359.6,distance:88555.21,depth:-6,cog:295.8,sog:0,created_at:"2023-01-07 08:11:06",updated_at:"2023-01-07 08:11:06"},{time:1673070303e3,id:"9285db16-04b0-4d1a-812e-94fe03b78b0d",ship_id:1,terminal_time:"2023-01-07 05:45:03",lat:-6.101412,lng:106.90585,wind_speed:9.3,wind_direction:274.5,heading:359.6,distance:88555.21,depth:-2.6,cog:268.8,sog:0,created_at:"2023-01-07 08:11:37",updated_at:"2023-01-07 08:11:37"},{time:1673071203e3,id:"4cb25dd1-23a6-4a37-81de-b46cc1e8df0b",ship_id:1,terminal_time:"2023-01-07 06:00:03",lat:-6.101398,lng:106.905858,wind_speed:5.6,wind_direction:268.8,heading:359.6,distance:88555.21,depth:-2.8,cog:327.7,sog:0,created_at:"2023-01-07 08:12:02",updated_at:"2023-01-07 08:12:02"},{time:1673072103e3,id:"6ebeea29-07ba-4384-8f78-c0244a1a85e8",ship_id:1,terminal_time:"2023-01-07 06:15:03",lat:-6.101398,lng:106.905865,wind_speed:6,wind_direction:268.8,heading:0,distance:0,depth:-2.8,cog:324.2,sog:0,created_at:"2023-01-07 08:11:27",updated_at:"2023-01-07 08:11:27"},{time:1673073003e3,id:"de3806a1-9032-426c-84dc-93a8c6d7c31d",ship_id:1,terminal_time:"2023-01-07 06:30:03",lat:-6.101413,lng:106.905873,wind_speed:3.6,wind_direction:256.1,heading:359.7,distance:88555.21,depth:-2.8,cog:5.8,sog:0,created_at:"2023-01-07 08:12:23",updated_at:"2023-01-07 08:12:23"},{time:1673073903e3,id:"65707fec-2ee3-473e-beeb-9b2e845a36ca",ship_id:1,terminal_time:"2023-01-07 06:45:03",lat:-6.101433,lng:106.905833,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.8,cog:304.6,sog:0,created_at:"2023-01-07 08:12:19",updated_at:"2023-01-07 08:12:19"},{time:1673074803e3,id:"6fa32b36-f399-4d56-8fa7-bea17b414006",ship_id:1,terminal_time:"2023-01-07 07:00:03",lat:-6.101392,lng:106.905888,wind_speed:3.4,wind_direction:246.3,heading:0,distance:0,depth:-2.8,cog:93.1,sog:0,created_at:"2023-01-07 08:12:40",updated_at:"2023-01-07 08:12:40"},{time:1673075703e3,id:"67ff30a8-02ef-41c0-bd19-463ebbd32668",ship_id:1,terminal_time:"2023-01-07 07:15:03",lat:-6.101408,lng:106.905885,wind_speed:7.5,wind_direction:229.4,heading:359.7,distance:88555.21,depth:-2.8,cog:197,sog:0,created_at:"2023-01-07 08:12:42",updated_at:"2023-01-07 08:12:42"},{time:1673094603e3,id:"3f01785d-ea13-49f9-b6ae-419329c8f20a",ship_id:1,terminal_time:"2023-01-07 12:30:03",lat:-6.101452,lng:106.905917,wind_speed:14.7,wind_direction:347.6,heading:0,distance:0,depth:-3.1,cog:35.3,sog:0,created_at:"2023-01-08 08:13:52",updated_at:"2023-01-08 08:13:52"},{time:1673095503e3,id:"317256ef-d958-4792-ac19-0af4678f296f",ship_id:1,terminal_time:"2023-01-07 12:45:03",lat:-6.101427,lng:106.905863,wind_speed:14.9,wind_direction:315.3,heading:359.7,distance:88555.22,depth:-3,cog:35.3,sog:0,created_at:"2023-01-08 08:24:39",updated_at:"2023-01-08 08:24:39"},{time:1673096403e3,id:"01638351-e630-4d24-a1b3-dc902b3abd82",ship_id:1,terminal_time:"2023-01-07 13:00:03",lat:-6.10141,lng:106.905895,wind_speed:17.3,wind_direction:326.5,heading:359.7,distance:88555.22,depth:-3,cog:91.4,sog:0,created_at:"2023-01-08 08:20:11",updated_at:"2023-01-08 08:20:11"},{time:1673097303e3,id:"70c8224a-27c3-469d-9482-f3b2e98f4bee",ship_id:1,terminal_time:"2023-01-07 13:15:03",lat:-6.101365,lng:106.905885,wind_speed:13.9,wind_direction:342,heading:359.7,distance:88555.22,depth:-3,cog:153.7,sog:0,created_at:"2023-01-08 08:07:44",updated_at:"2023-01-08 08:07:44"},{time:1673098203e3,id:"54be4b76-e5c1-4af2-b06a-d08e68ca8e6d",ship_id:1,terminal_time:"2023-01-07 13:30:03",lat:-6.101402,lng:106.905883,wind_speed:8.3,wind_direction:309.6,heading:359.9,distance:88555.22,depth:-2.8,cog:103.8,sog:0,created_at:"2023-01-08 08:05:41",updated_at:"2023-01-08 08:05:41"},{time:1673099103e3,id:"f45be026-3f21-4763-9f2e-599cfd772936",ship_id:1,terminal_time:"2023-01-07 13:45:03",lat:-6.101387,lng:106.90587,wind_speed:7.1,wind_direction:336.4,heading:359.6,distance:88555.22,depth:-3,cog:22,sog:0,created_at:"2023-01-08 08:25:15",updated_at:"2023-01-08 08:25:15"},{time:1673100003e3,id:"dda32aec-7c91-4a18-bc02-c6f8b1d47700",ship_id:1,terminal_time:"2023-01-07 14:00:03",lat:-6.101395,lng:106.905882,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-2.8,cog:57.4,sog:0,created_at:"2023-01-08 08:08:16",updated_at:"2023-01-08 08:08:16"},{time:1673100903e3,id:"b22e0b57-db66-4fe8-8773-39a691c334f9",ship_id:1,terminal_time:"2023-01-07 14:15:03",lat:-6.101398,lng:106.905873,wind_speed:8.3,wind_direction:350.5,heading:359.6,distance:88555.22,depth:-2.8,cog:37.9,sog:0,created_at:"2023-01-08 08:21:48",updated_at:"2023-01-08 08:21:48"},{time:1673101803e3,id:"4cb687f7-6740-478a-b9d8-7c415359678f",ship_id:1,terminal_time:"2023-01-07 14:30:03",lat:-6.101415,lng:106.90584,wind_speed:7.1,wind_direction:334.9,heading:359.7,distance:88555.23,depth:-2.8,cog:335.3,sog:0,created_at:"2023-01-08 08:14:53",updated_at:"2023-01-08 08:14:53"},{time:1673102703e3,id:"31d66256-54fa-4245-874b-a971ded2ac22",ship_id:1,terminal_time:"2023-01-07 14:45:03",lat:-6.10138,lng:106.905867,wind_speed:14.9,wind_direction:337.8,heading:359.7,distance:88555.23,depth:-2.8,cog:27.8,sog:0,created_at:"2023-01-08 08:03:26",updated_at:"2023-01-08 08:03:26"},{time:1673103603e3,id:"6e9c3626-321a-4c87-adb4-5e285a43cdf7",ship_id:1,terminal_time:"2023-01-07 15:00:03",lat:-6.101413,lng:106.905813,wind_speed:9.3,wind_direction:315.3,heading:359.6,distance:88555.24,depth:-2.6,cog:326.6,sog:.1,created_at:"2023-01-08 08:01:50",updated_at:"2023-01-08 08:01:50"},{time:1673104503e3,id:"dabbcbd4-70dc-48a7-9bf6-6a791bf70bf0",ship_id:1,terminal_time:"2023-01-07 15:15:03",lat:-6.101362,lng:106.905902,wind_speed:8.5,wind_direction:315.3,heading:359.6,distance:88555.25,depth:-2.6,cog:286.2,sog:0,created_at:"2023-01-08 08:14:31",updated_at:"2023-01-08 08:14:31"},{time:1673105403e3,id:"9ce52c58-26fe-4b79-acf6-efd91d7c3dea",ship_id:1,terminal_time:"2023-01-07 15:30:03",lat:-6.101402,lng:106.905895,wind_speed:8.7,wind_direction:290,heading:359.6,distance:88555.25,depth:-2.5,cog:39.8,sog:0,created_at:"2023-01-08 08:06:38",updated_at:"2023-01-08 08:06:38"},{time:1673106303e3,id:"fab10037-7bec-4b1b-a448-af671c2e5a09",ship_id:1,terminal_time:"2023-01-07 15:45:03",lat:-6.101377,lng:106.905907,wind_speed:9.1,wind_direction:302.5,heading:359.6,distance:88555.25,depth:-2.5,cog:11.5,sog:0,created_at:"2023-01-08 08:26:36",updated_at:"2023-01-08 08:26:36"},{time:1673107203e3,id:"72c4e9f4-b126-4cd5-af12-72d225bcc777",ship_id:1,terminal_time:"2023-01-07 16:00:03",lat:-6.101407,lng:106.90585,wind_speed:16.5,wind_direction:261,heading:359.5,distance:88555.26,depth:-2.5,cog:227.4,sog:0,created_at:"2023-01-08 08:29:59",updated_at:"2023-01-08 08:29:59"},{time:1673108103e3,id:"4dda9ef7-b131-499c-abb6-90d31b833212",ship_id:1,terminal_time:"2023-01-07 16:15:03",lat:-6.101415,lng:106.905928,wind_speed:7.7,wind_direction:274.5,heading:359.7,distance:88555.26,depth:-2.5,cog:276.8,sog:0,created_at:"2023-01-08 08:35:23",updated_at:"2023-01-08 08:35:23"},{time:1673109003e3,id:"eb055a93-284e-490c-b241-fc286a5245cb",ship_id:1,terminal_time:"2023-01-07 16:30:03",lat:-6.101398,lng:106.905935,wind_speed:18.4,wind_direction:281.5,heading:359.5,distance:88555.26,depth:-2.5,cog:150.5,sog:.1,created_at:"2023-01-08 08:19:17",updated_at:"2023-01-08 08:19:17"},{time:1673109903e3,id:"70fe1092-70d1-4e3e-9e6a-880e95753afe",ship_id:1,terminal_time:"2023-01-07 16:45:03",lat:-6.101348,lng:106.905867,wind_speed:12.8,wind_direction:244.9,heading:359.6,distance:88555.27,depth:-2.3,cog:354.6,sog:0,created_at:"2023-01-08 08:39:36",updated_at:"2023-01-08 08:39:36"},{time:1673110803e3,id:"256314cb-dc49-4a3d-bfc0-33982995e693",ship_id:1,terminal_time:"2023-01-07 17:00:03",lat:-6.101383,lng:106.905903,wind_speed:12,wind_direction:291.4,heading:359.6,distance:88555.27,depth:-2.5,cog:354.6,sog:0,created_at:"2023-01-08 08:12:53",updated_at:"2023-01-08 08:12:53"},{time:1673111703e3,id:"3cec9ede-f851-4440-95b3-e72f237da615",ship_id:1,terminal_time:"2023-01-07 17:15:03",lat:-6.101377,lng:106.905882,wind_speed:9.9,wind_direction:292.8,heading:359.6,distance:88555.27,depth:-2.5,cog:311.3,sog:0,created_at:"2023-01-08 08:18:20",updated_at:"2023-01-08 08:18:20"},{time:1673112893e3,id:"da145ee1-2387-4054-9190-cfd1c2e5f63c",ship_id:1,terminal_time:"2023-01-07 17:34:53",lat:-6.101393,lng:106.905928,wind_speed:13.6,wind_direction:257.1,heading:359.6,distance:88555.27,depth:-2.5,cog:278.9,sog:0,created_at:"2023-01-08 08:26:11",updated_at:"2023-01-08 08:26:11"},{time:1673113508e3,id:"25b0fe9e-9b29-4029-a7db-9138ef1c0173",ship_id:1,terminal_time:"2023-01-07 17:45:08",lat:-6.101463,lng:106.90597,wind_speed:14.3,wind_direction:263.1,heading:359.6,distance:88555.27,depth:-2.5,cog:350.3,sog:.1,created_at:"2023-01-08 08:06:11",updated_at:"2023-01-08 08:06:11"},{time:1673114403e3,id:"d85ae345-eb3f-420f-ae10-c8f0c078fb2d",ship_id:1,terminal_time:"2023-01-07 18:00:03",lat:-6.101395,lng:106.90591,wind_speed:15.3,wind_direction:246.3,heading:359.6,distance:88555.28,depth:-2.5,cog:8.3,sog:0,created_at:"2023-01-08 08:21:44",updated_at:"2023-01-08 08:21:44"},{time:1673115303e3,id:"388136b9-939e-4016-bb94-69e2165428e2",ship_id:1,terminal_time:"2023-01-07 18:15:03",lat:-6.101417,lng:106.905957,wind_speed:11,wind_direction:237,heading:359.7,distance:88555.28,depth:-2.5,cog:320.6,sog:0,created_at:"2023-01-08 08:27:27",updated_at:"2023-01-08 08:27:27"},{time:1673116203e3,id:"718bb2e9-5a2a-47c8-9899-3f613b300f13",ship_id:1,terminal_time:"2023-01-07 18:30:03",lat:-6.1014230000000005,lng:106.90596,wind_speed:10.1,wind_direction:252,heading:359.7,distance:88555.28,depth:-2.5,cog:262,sog:.3,created_at:"2023-01-08 08:35:15",updated_at:"2023-01-08 08:35:15"},{time:1673117103e3,id:"58662b8e-afe4-4e8d-9d81-e92fd5bd6de1",ship_id:1,terminal_time:"2023-01-07 18:45:03",lat:-6.101337,lng:106.905935,wind_speed:16.7,wind_direction:259,heading:359.6,distance:88555.28,depth:-2.5,cog:265.6,sog:0,created_at:"2023-01-08 08:24:32",updated_at:"2023-01-08 08:24:32"},{time:1673118003e3,id:"9dcc2e7d-fc6a-4026-8452-732e033d633d",ship_id:1,terminal_time:"2023-01-07 19:00:03",lat:-6.101408,lng:106.905923,wind_speed:12.6,wind_direction:270.4,heading:0,distance:0,depth:-2.5,cog:251.1,sog:.1,created_at:"2023-01-08 08:31:10",updated_at:"2023-01-08 08:31:10"},{time:1673118903e3,id:"d77f77c6-11e3-4d58-8a75-767aacbdee1c",ship_id:1,terminal_time:"2023-01-07 19:15:03",lat:-6.101403,lng:106.905935,wind_speed:9.3,wind_direction:274.5,heading:359.7,distance:88555.28,depth:-2.5,cog:242.4,sog:.1,created_at:"2023-01-08 08:32:39",updated_at:"2023-01-08 08:32:39"},{time:1673119803e3,id:"8676ff37-9bd6-4f53-8ba7-7eaad2bd126b",ship_id:1,terminal_time:"2023-01-07 19:30:03",lat:-6.101392,lng:106.905928,wind_speed:15.3,wind_direction:247.7,heading:359.7,distance:88555.28,depth:-2.5,cog:252.7,sog:0,created_at:"2023-01-08 08:34:35",updated_at:"2023-01-08 08:34:35"},{time:1673120703e3,id:"5a10a4d6-445d-4387-9c6a-e002b768b83b",ship_id:1,terminal_time:"2023-01-07 19:45:03",lat:-6.101385,lng:106.905918,wind_speed:9.1,wind_direction:259,heading:359.7,distance:88555.29,depth:-2.5,cog:142.2,sog:0,created_at:"2023-01-08 08:31:06",updated_at:"2023-01-08 08:31:06"},{time:1673121603e3,id:"b43588b1-8bee-476f-ba71-4ee6dc1af694",ship_id:1,terminal_time:"2023-01-07 20:00:03",lat:-6.101337,lng:106.90589,wind_speed:9.9,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-6,cog:205.2,sog:0,created_at:"2023-01-08 08:47:20",updated_at:"2023-01-08 08:47:20"},{time:1673122503e3,id:"6ef2d5ef-f541-4f4e-98b6-8369ed0998fb",ship_id:1,terminal_time:"2023-01-07 20:15:03",lat:-6.101357,lng:106.90591,wind_speed:9.1,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-2.5,cog:133.2,sog:0,created_at:"2023-01-08 08:45:51",updated_at:"2023-01-08 08:45:51"},{time:1673123403e3,id:"9ac81b12-4d78-42fa-926f-0e27f16a6abe",ship_id:1,terminal_time:"2023-01-07 20:30:03",lat:-6.101347,lng:106.905885,wind_speed:11.2,wind_direction:268.8,heading:359.7,distance:88555.29,depth:-2.5,cog:129.4,sog:0,created_at:"2023-01-08 08:43:43",updated_at:"2023-01-08 08:43:43"},{time:1673124303e3,id:"9c3c0c72-7ede-45ce-8cd0-45f46d05cf4f",ship_id:1,terminal_time:"2023-01-07 20:45:03",lat:-6.101392,lng:106.905992,wind_speed:9.9,wind_direction:280,heading:359.7,distance:88555.29,depth:-2.5,cog:269.2,sog:0,created_at:"2023-01-08 08:42:24",updated_at:"2023-01-08 08:42:24"},{time:1673125203e3,id:"180ab6f9-b46b-4175-9c0c-cfbd47d75a75",ship_id:1,terminal_time:"2023-01-07 21:00:03",lat:-6.10138,lng:106.905928,wind_speed:6.2,wind_direction:259,heading:359.6,distance:88555.29,depth:-2.5,cog:273,sog:.1,created_at:"2023-01-08 08:44:15",updated_at:"2023-01-08 08:44:15"},{time:1673126103e3,id:"aca79290-d836-4f81-b20c-db5c3d1c9ed5",ship_id:1,terminal_time:"2023-01-07 21:15:03",lat:-6.101395,lng:106.905888,wind_speed:8.5,wind_direction:270.3,heading:359.7,distance:88555.29,depth:-5.5,cog:284.7,sog:0,created_at:"2023-01-08 08:44:39",updated_at:"2023-01-08 08:44:39"},{time:1673127003e3,id:"3d37da9b-e78d-4c94-9628-2f75dfacd975",ship_id:1,terminal_time:"2023-01-07 21:30:03",lat:-6.10136,lng:106.905928,wind_speed:7.1,wind_direction:291.4,heading:359.7,distance:88555.29,depth:-2.5,cog:288.6,sog:0,created_at:"2023-01-08 08:43:59",updated_at:"2023-01-08 08:43:59"},{time:1673127903e3,id:"c85fc3eb-6766-4f04-b655-698bee2b112a",ship_id:1,terminal_time:"2023-01-07 21:45:03",lat:-6.101362,lng:106.905857,wind_speed:6.9,wind_direction:257.5,heading:359.8,distance:88555.29,depth:-2.3,cog:157.1,sog:0,created_at:"2023-01-08 08:48:25",updated_at:"2023-01-08 08:48:25"},{time:1673128803e3,id:"e0371ba8-d853-4a52-b612-ef2dd4db6f02",ship_id:1,terminal_time:"2023-01-07 22:00:03",lat:-6.101388,lng:106.905863,wind_speed:9.9,wind_direction:248,heading:359.6,distance:88555.29,depth:-2.5,cog:157.1,sog:0,created_at:"2023-01-08 08:46:57",updated_at:"2023-01-08 08:46:57"},{time:1673129703e3,id:"6aabe75f-fedb-42af-8440-6af78469558d",ship_id:1,terminal_time:"2023-01-07 22:15:03",lat:-6.101375,lng:106.905928,wind_speed:6.9,wind_direction:287.1,heading:359.7,distance:88555.29,depth:-2.3,cog:216.5,sog:0,created_at:"2023-01-08 08:54:20",updated_at:"2023-01-08 08:54:20"},{time:1673130603e3,id:"4068d565-7aa1-427b-8727-8edb9c691ecc",ship_id:1,terminal_time:"2023-01-07 22:30:03",lat:-6.101373,lng:106.905895,wind_speed:7.9,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:205.4,sog:0,created_at:"2023-01-08 08:51:59",updated_at:"2023-01-08 08:51:59"},{time:1673131503e3,id:"701364de-f35b-4f45-b2f2-65f53ffe574a",ship_id:1,terminal_time:"2023-01-07 22:45:03",lat:-6.101392,lng:106.905898,wind_speed:12.4,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:222.7,sog:0,created_at:"2023-01-08 08:48:51",updated_at:"2023-01-08 08:48:51"},{time:1673132403e3,id:"658bd145-0a61-4c2d-94fb-1bf054a3264c",ship_id:1,terminal_time:"2023-01-07 23:00:03",lat:-6.101363,lng:106.905863,wind_speed:7.9,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:129.2,sog:0,created_at:"2023-01-08 08:48:31",updated_at:"2023-01-08 08:48:31"},{time:1673133303e3,id:"58f92089-82d0-4bd5-9832-04677dc76be5",ship_id:1,terminal_time:"2023-01-07 23:15:03",lat:-6.101358,lng:106.905842,wind_speed:8.7,wind_direction:294.1,heading:359.7,distance:88555.29,depth:-2.5,cog:128.4,sog:0,created_at:"2023-01-08 08:55:51",updated_at:"2023-01-08 08:55:51"},{time:1673134203e3,id:"4736fadb-7f73-40fa-a2de-b9fa0a792b3e",ship_id:1,terminal_time:"2023-01-07 23:30:03",lat:-6.101348,lng:106.905888,wind_speed:10.6,wind_direction:297,heading:359.6,distance:88555.29,depth:-2.5,cog:344,sog:0,created_at:"2023-01-08 08:59:25",updated_at:"2023-01-08 08:59:25"},{time:1673135178e3,id:"bf83dfc7-4cb9-4b55-965a-1452ed8e111e",ship_id:1,terminal_time:"2023-01-07 23:46:18",lat:-6.101382,lng:106.905902,wind_speed:10.8,wind_direction:281.6,heading:359.7,distance:88555.29,depth:-5.6,cog:32.8,sog:0,created_at:"2023-01-08 08:58:17",updated_at:"2023-01-08 08:58:17"},{time:1673136003e3,id:"1e9d6cbb-3da5-46c2-8c1d-7c43e9e347d7",ship_id:1,terminal_time:"2023-01-08 00:00:03",lat:-6.10139,lng:106.905845,wind_speed:6.9,wind_direction:270.3,heading:0,distance:0,depth:-5.8,cog:57.4,sog:0,created_at:"2023-01-08 08:54:51",updated_at:"2023-01-08 08:54:51"},{time:1673136904e3,id:"9a56f8c9-a895-41ed-88cb-c63672950f2c",ship_id:1,terminal_time:"2023-01-08 00:15:04",lat:-6.101378,lng:106.905893,wind_speed:6.8,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:336.6,sog:0,created_at:"2023-01-08 08:58:04",updated_at:"2023-01-08 08:58:04"},{time:1673137804e3,id:"71adab84-32a5-43f8-9a16-44dd7cdf4c02",ship_id:1,terminal_time:"2023-01-08 00:30:04",lat:-6.101417,lng:106.905875,wind_speed:2.5,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-2.5,cog:80.7,sog:0,created_at:"2023-01-08 08:56:16",updated_at:"2023-01-08 08:56:16"},{time:1673138704e3,id:"2b4e0681-bca8-423e-968c-9cbb94911ade",ship_id:1,terminal_time:"2023-01-08 00:45:04",lat:-6.101407,lng:106.905868,wind_speed:6.6,wind_direction:270.3,heading:359.5,distance:88555.29,depth:-2.5,cog:281.8,sog:0,created_at:"2023-01-08 09:02:07",updated_at:"2023-01-08 09:02:07"},{time:1673139604e3,id:"a5757655-280b-4850-9423-55cce4abb3d4",ship_id:1,terminal_time:"2023-01-08 01:00:04",lat:-6.101452,lng:106.905895,wind_speed:8.7,wind_direction:302.5,heading:359.6,distance:88555.29,depth:-2.5,cog:159.5,sog:0,created_at:"2023-01-08 09:02:50",updated_at:"2023-01-08 09:02:50"},{time:1673140504e3,id:"38de4f6b-61c5-490a-a785-9c11f352809e",ship_id:1,terminal_time:"2023-01-08 01:15:04",lat:-6.101402,lng:106.905898,wind_speed:7.9,wind_direction:292.8,heading:359.8,distance:88555.29,depth:-2.5,cog:171.7,sog:0,created_at:"2023-01-08 09:05:18",updated_at:"2023-01-08 09:05:18"},{time:1673141404e3,id:"0a1776c1-1425-41e8-91b9-367b23512d33",ship_id:1,terminal_time:"2023-01-08 01:30:04",lat:-6.101413,lng:106.905882,wind_speed:5.6,wind_direction:297,heading:359.7,distance:88555.29,depth:-2.5,cog:149.7,sog:.2,created_at:"2023-01-08 09:02:30",updated_at:"2023-01-08 09:02:30"},{time:1673142304e3,id:"25822b6e-cc26-4120-a534-707fae66297d",ship_id:1,terminal_time:"2023-01-08 01:45:04",lat:-6.101383,lng:106.905855,wind_speed:3.8,wind_direction:291.4,heading:359.7,distance:88555.3,depth:-2.5,cog:211.1,sog:0,created_at:"2023-01-08 09:05:11",updated_at:"2023-01-08 09:05:11"},{time:1673143204e3,id:"e6ba87a3-cf19-4484-886d-ed8a0850dd54",ship_id:1,terminal_time:"2023-01-08 02:00:04",lat:-6.101395,lng:106.905888,wind_speed:6.4,wind_direction:268.8,heading:359.8,distance:88555.31,depth:-2.5,cog:342.7,sog:.1,created_at:"2023-01-08 09:04:03",updated_at:"2023-01-08 09:04:03"},{time:1673144104e3,id:"828812ff-8977-46cf-8927-bec2687ff712",ship_id:1,terminal_time:"2023-01-08 02:15:04",lat:-6.101372,lng:106.905882,wind_speed:3.8,wind_direction:268.8,heading:359.8,distance:88555.33,depth:-2.6,cog:297.3,sog:.1,created_at:"2023-01-08 09:13:33",updated_at:"2023-01-08 09:13:33"},{time:1673145004e3,id:"25389b81-dc4a-46e8-ad1c-1660eb03a08f",ship_id:1,terminal_time:"2023-01-08 02:30:04",lat:-6.101395,lng:106.905907,wind_speed:7.5,wind_direction:264.5,heading:359.8,distance:88555.33,depth:-2.6,cog:315.1,sog:0,created_at:"2023-01-08 09:06:48",updated_at:"2023-01-08 09:06:48"},{time:1673145904e3,id:"0047c054-acbc-4a29-9ccd-52ba001da3a7",ship_id:1,terminal_time:"2023-01-08 02:45:04",lat:-6.101398,lng:106.905878,wind_speed:6.6,wind_direction:264.5,heading:0,distance:0,depth:-2.6,cog:336.3,sog:0,created_at:"2023-01-08 09:11:48",updated_at:"2023-01-08 09:11:48"},{time:1673146804e3,id:"829090c9-17ba-4477-8592-deb4da86dc63",ship_id:1,terminal_time:"2023-01-08 03:00:04",lat:-6.101402,lng:106.905895,wind_speed:5.4,wind_direction:264.5,heading:359.7,distance:88555.35,depth:-2.6,cog:17.1,sog:0,created_at:"2023-01-08 09:06:28",updated_at:"2023-01-08 09:06:28"},{time:1673147709e3,id:"1098eec6-77fe-4726-9e36-eea8a0a47b48",ship_id:1,terminal_time:"2023-01-08 03:15:09",lat:-6.101387,lng:106.905917,wind_speed:6.2,wind_direction:260.4,heading:359.7,distance:88555.35,depth:-2.6,cog:23.6,sog:0,created_at:"2023-01-08 09:09:10",updated_at:"2023-01-08 09:09:10"},{time:1673148604e3,id:"04d539ed-3c9f-49ed-aec5-3d4926391e7e",ship_id:1,terminal_time:"2023-01-08 03:30:04",lat:-6.101397,lng:106.90589,wind_speed:6.8,wind_direction:260.4,heading:359.7,distance:88555.36,depth:-2.6,cog:65.8,sog:0,created_at:"2023-01-08 09:15:33",updated_at:"2023-01-08 09:15:33"},{time:1673149504e3,id:"e5e010fd-95da-4dfb-a12f-ef9f733b8165",ship_id:1,terminal_time:"2023-01-08 03:45:04",lat:-6.101377,lng:106.905885,wind_speed:5.6,wind_direction:274.5,heading:359.6,distance:88555.36,depth:-2.6,cog:67.7,sog:0,created_at:"2023-01-08 09:10:57",updated_at:"2023-01-08 09:10:57"},{time:1673150404e3,id:"dcfe2cd6-711d-461f-90f7-4bf6c4a1b9ee",ship_id:1,terminal_time:"2023-01-08 04:00:04",lat:-6.101388,lng:106.905938,wind_speed:2.5,wind_direction:274.5,heading:359.5,distance:88555.36,depth:-2.6,cog:223,sog:.1,created_at:"2023-01-08 09:14:36",updated_at:"2023-01-08 09:14:36"},{time:1673151304e3,id:"ddf54501-6fbc-456e-bf5a-c79e016e9b00",ship_id:1,terminal_time:"2023-01-08 04:15:04",lat:-6.101403,lng:106.905913,wind_speed:6.4,wind_direction:280,heading:359.7,distance:88555.36,depth:-2.8,cog:188.7,sog:.1,created_at:"2023-01-08 09:21:25",updated_at:"2023-01-08 09:21:25"},{time:1673152204e3,id:"081423ac-f636-4f7a-9daf-5f4dab29c404",ship_id:1,terminal_time:"2023-01-08 04:30:04",lat:-6.101418,lng:106.90596,wind_speed:9.3,wind_direction:287.1,heading:0,distance:0,depth:-2.8,cog:159.5,sog:0,created_at:"2023-01-08 09:15:25",updated_at:"2023-01-08 09:15:25"},{time:1673153104e3,id:"c45710ce-5dc1-4757-ab7a-4d938442da15",ship_id:1,terminal_time:"2023-01-08 04:45:04",lat:-6.101403,lng:106.905892,wind_speed:8.1,wind_direction:274.5,heading:359.8,distance:88555.36,depth:-2.8,cog:125.5,sog:0,created_at:"2023-01-08 09:19:12",updated_at:"2023-01-08 09:19:12"},{time:1673154004e3,id:"15229013-0e45-4bf3-9949-1ea58fc0908a",ship_id:1,terminal_time:"2023-01-08 05:00:04",lat:-6.101338,lng:106.905882,wind_speed:9.1,wind_direction:259,heading:359.9,distance:88555.36,depth:-2.6,cog:136.1,sog:0,created_at:"2023-01-08 09:20:01",updated_at:"2023-01-08 09:20:01"},{time:1673154904e3,id:"d27c1b20-889b-4499-ba40-6e6c614178f8",ship_id:1,terminal_time:"2023-01-08 05:15:04",lat:-6.101348,lng:106.905915,wind_speed:10.1,wind_direction:257.5,heading:359.8,distance:88555.36,depth:-2.8,cog:151.6,sog:.1,created_at:"2023-01-08 09:23:27",updated_at:"2023-01-08 09:23:27"},{time:1673155804e3,id:"9a444a98-e7df-4f70-975d-85d5d62e290f",ship_id:1,terminal_time:"2023-01-08 05:30:04",lat:-6.101363,lng:106.905898,wind_speed:6.9,wind_direction:259,heading:359.7,distance:88555.36,depth:-2.8,cog:33.5,sog:0,created_at:"2023-01-08 09:21:23",updated_at:"2023-01-08 09:21:23"},{time:1673156704e3,id:"fc24c51c-214a-4d78-be5a-4c1c26802e09",ship_id:1,terminal_time:"2023-01-08 05:45:04",lat:-6.101373,lng:106.90589,wind_speed:9.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-2.8,cog:325.1,sog:0,created_at:"2023-01-08 09:25:36",updated_at:"2023-01-08 09:25:36"},{time:1673157604e3,id:"32c80507-1d8e-4091-9311-50e25e285dae",ship_id:1,terminal_time:"2023-01-08 06:00:04",lat:-6.101387,lng:106.905902,wind_speed:13.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:329.3,sog:0,created_at:"2023-01-08 09:24:42",updated_at:"2023-01-08 09:24:42"},{time:1673158504e3,id:"ae9d8d04-f8b0-4358-bd9c-d9972e370315",ship_id:1,terminal_time:"2023-01-08 06:15:04",lat:-6.10138,lng:106.905895,wind_speed:6.8,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:248.9,sog:0,created_at:"2023-01-08 09:26:04",updated_at:"2023-01-08 09:26:04"},{time:1673159404e3,id:"c0502c55-c023-4042-9af3-bd285c098a35",ship_id:1,terminal_time:"2023-01-08 06:30:04",lat:-6.101373,lng:106.905888,wind_speed:14.1,wind_direction:270.9,heading:359.6,distance:88555.36,depth:-3,cog:292.9,sog:0,created_at:"2023-01-08 09:21:20",updated_at:"2023-01-08 09:21:20"},{time:1673160304e3,id:"034a249c-02ba-437a-8aac-456cab629385",ship_id:1,terminal_time:"2023-01-08 06:45:04",lat:-6.101378,lng:106.90591,wind_speed:11.4,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:23:12",updated_at:"2023-01-08 09:23:12"},{time:1673161204e3,id:"54e8bfab-005b-4826-8206-a37b4decfd0b",ship_id:1,terminal_time:"2023-01-08 07:00:04",lat:-6.101373,lng:106.905887,wind_speed:8.5,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:27:00",updated_at:"2023-01-08 09:27:00"},{time:1673162104e3,id:"a8f38c56-ba61-4de6-80d1-3ea034df630a",ship_id:1,terminal_time:"2023-01-08 07:15:04",lat:-6.101405,lng:106.90589,wind_speed:12.4,wind_direction:242.1,heading:359.7,distance:88555.36,depth:-3,cog:167.3,sog:0,created_at:"2023-01-08 09:31:10",updated_at:"2023-01-08 09:31:10"},{time:1673163004e3,id:"1d43c613-abc9-4209-bfb3-9d54ecc33748",ship_id:1,terminal_time:"2023-01-08 07:30:04",lat:-6.10138,lng:106.905852,wind_speed:15.5,wind_direction:229.4,heading:0,distance:0,depth:0,cog:4.1,sog:0,created_at:"2023-01-08 09:28:35",updated_at:"2023-01-08 09:28:35"},{time:1673163904e3,id:"58b7809e-b846-4fba-b046-e7a1c2f3f84c",ship_id:1,terminal_time:"2023-01-08 07:45:04",lat:-6.101412,lng:106.905907,wind_speed:6.6,wind_direction:245.6,heading:359.8,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:46",updated_at:"2023-01-08 09:31:46"},{time:1673164809e3,id:"4ef617d0-0adb-40ea-bad4-e57322f78fe8",ship_id:1,terminal_time:"2023-01-08 08:00:09",lat:-6.101433,lng:106.905895,wind_speed:7.9,wind_direction:292.8,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:36",updated_at:"2023-01-08 09:31:36"},{time:1673165704e3,id:"384723ff-16ea-4a47-bd1b-987a84141b3e",ship_id:1,terminal_time:"2023-01-08 08:15:04",lat:-6.101402,lng:106.905893,wind_speed:9.7,wind_direction:247.7,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:34:02",updated_at:"2023-01-08 09:34:02"},{time:1673166604e3,id:"4a0c6afb-a827-4d1b-b943-57faa3c5ccb7",ship_id:1,terminal_time:"2023-01-08 08:30:04",lat:-6.1014230000000005,lng:106.905875,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:242.5,sog:0,created_at:"2023-01-08 09:35:08",updated_at:"2023-01-08 09:35:08"},{time:1673167504e3,id:"4c434111-7470-469b-82a2-10a66585fbe7",ship_id:1,terminal_time:"2023-01-08 08:45:04",lat:-6.101393,lng:106.905873,wind_speed:9.7,wind_direction:259,heading:359.6,distance:88555.36,depth:-3.3,cog:73.3,sog:0,created_at:"2023-01-08 09:36:15",updated_at:"2023-01-08 09:36:15"},{time:1673168404e3,id:"64a1f0ab-872f-4c4a-8e98-84e8f7f2aa2b",ship_id:1,terminal_time:"2023-01-08 09:00:04",lat:-6.101383,lng:106.905898,wind_speed:8.3,wind_direction:267.4,heading:359.6,distance:88555.36,depth:-3.3,cog:91.6,sog:.1,created_at:"2023-01-08 09:37:22",updated_at:"2023-01-08 09:37:22"},{time:1673169304e3,id:"15eb000c-e49a-4288-b9ba-29120dd16bbc",ship_id:1,terminal_time:"2023-01-08 09:15:04",lat:-6.101392,lng:106.905832,wind_speed:13.6,wind_direction:315.8,heading:359.7,distance:88555.36,depth:-3.3,cog:104.3,sog:0,created_at:"2023-01-08 09:38:28",updated_at:"2023-01-08 09:38:28"},{time:1673170204e3,id:"5013bfeb-e3b7-40fe-956e-67d86ef062fc",ship_id:1,terminal_time:"2023-01-08 09:30:04",lat:-6.10143,lng:106.905883,wind_speed:10.1,wind_direction:291.4,heading:359.8,distance:88555.36,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:39:35",updated_at:"2023-01-08 09:39:35"},{time:1673171104e3,id:"c42441d4-6121-4fd5-a94e-40e8a5538f88",ship_id:1,terminal_time:"2023-01-08 09:45:04",lat:-6.101408,lng:106.9059,wind_speed:6.8,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:45:06",updated_at:"2023-01-08 09:45:06"},{time:1673172004e3,id:"b88f901e-4b17-4f4d-950a-3bbe7040bfe9",ship_id:1,terminal_time:"2023-01-08 10:00:04",lat:-6.101438,lng:106.905878,wind_speed:7.3,wind_direction:282.8,heading:359.8,distance:88555.36,depth:-3.3,cog:116.3,sog:0,created_at:"2023-01-08 10:00:07",updated_at:"2023-01-08 10:00:07"},{time:1673172904e3,id:"ebab5955-d934-4330-9ccd-5d8d1496b18c",ship_id:1,terminal_time:"2023-01-08 10:15:04",lat:-6.101392,lng:106.905872,wind_speed:11.4,wind_direction:335,heading:359.7,distance:88555.36,depth:-3.3,cog:269.6,sog:0,created_at:"2023-01-08 10:15:06",updated_at:"2023-01-08 10:15:06"},{time:1673173804e3,id:"9f29317b-07a0-4caf-b754-11930dd5bd44",ship_id:1,terminal_time:"2023-01-08 10:30:04",lat:-6.101372,lng:106.905888,wind_speed:6.4,wind_direction:332.1,heading:359.7,distance:88555.36,depth:-3.3,cog:157.9,sog:0,created_at:"2023-01-08 10:30:06",updated_at:"2023-01-08 10:30:06"},{time:1673174704e3,id:"962a2be6-5432-402b-9958-84252f281c30",ship_id:1,terminal_time:"2023-01-08 10:45:04",lat:-6.101405,lng:106.905885,wind_speed:10.3,wind_direction:336.4,heading:0,distance:0,depth:-3.3,cog:272.5,sog:0,created_at:"2023-01-08 10:45:05",updated_at:"2023-01-08 10:45:05"},{time:1673175604e3,id:"ce56291e-c8e3-440f-92e0-921395a84182",ship_id:1,terminal_time:"2023-01-08 11:00:04",lat:-6.10143,lng:106.905957,wind_speed:11.6,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:104.1,sog:0,created_at:"2023-01-08 11:00:06",updated_at:"2023-01-08 11:00:06"},{time:1673176504e3,id:"b25e30f7-bd69-432d-af8c-a46b5423e161",ship_id:1,terminal_time:"2023-01-08 11:15:04",lat:-6.101388,lng:106.905873,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:312.3,sog:0,created_at:"2023-01-08 11:15:06",updated_at:"2023-01-08 11:15:06"},{time:1673177404e3,id:"0ccfc4ba-378e-4ad6-a4db-6b35d30a1a23",ship_id:1,terminal_time:"2023-01-08 11:30:04",lat:-6.101405,lng:106.905895,wind_speed:7.9,wind_direction:319.5,heading:359.7,distance:88555.37,depth:-3.3,cog:83.1,sog:.1,created_at:"2023-01-08 11:30:06",updated_at:"2023-01-08 11:30:06"},{time:1673178304e3,id:"b458b825-fbb6-40f4-b251-c347a72a39ab",ship_id:1,terminal_time:"2023-01-08 11:45:04",lat:-6.101403,lng:106.905887,wind_speed:9.5,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:75.4,sog:0,created_at:"2023-01-08 11:45:05",updated_at:"2023-01-08 11:45:05"},{time:1673179204e3,id:"25575159-9a0f-4a66-a7d0-20aea87d0feb",ship_id:1,terminal_time:"2023-01-08 12:00:04",lat:-6.101412,lng:106.905878,wind_speed:8.5,wind_direction:343.6,heading:359.6,distance:88555.37,depth:-3.3,cog:67,sog:0,created_at:"2023-01-08 12:00:06",updated_at:"2023-01-08 12:00:06"},{time:1673180104e3,id:"a3bdb7f9-22b7-4e38-b981-ff099e82bfb6",ship_id:1,terminal_time:"2023-01-08 12:15:04",lat:-6.101407,lng:106.90585,wind_speed:13.8,wind_direction:349,heading:359.6,distance:88555.37,depth:-3.3,cog:36.2,sog:0,created_at:"2023-01-09 08:01:28",updated_at:"2023-01-09 08:01:28"},{time:1673181004e3,id:"468f0650-9d89-4a66-a334-a4fac77e4728",ship_id:1,terminal_time:"2023-01-08 12:30:04",lat:-6.101405,lng:106.905903,wind_speed:19.4,wind_direction:281.5,heading:359.6,distance:88555.37,depth:-3.3,cog:282.7,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673181904e3,id:"03deb747-2062-4451-bd06-e9432e1f2596",ship_id:1,terminal_time:"2023-01-08 12:45:04",lat:-6.10138,lng:106.905892,wind_speed:14.5,wind_direction:287.1,heading:359.6,distance:88555.38,depth:-3.3,cog:308.6,sog:0,created_at:"2023-01-09 08:02:16",updated_at:"2023-01-09 08:02:16"},{time:1673182804e3,id:"d195359b-cc5d-4733-9a4a-c450f7ecdda8",ship_id:1,terminal_time:"2023-01-08 13:00:04",lat:-6.101337,lng:106.905855,wind_speed:12.2,wind_direction:291.4,heading:359.7,distance:88555.38,depth:-3.1,cog:137.7,sog:0,created_at:"2023-01-09 08:02:58",updated_at:"2023-01-09 08:02:58"},{time:1673183704e3,id:"46707f11-6637-4097-9f27-85c91102848f",ship_id:1,terminal_time:"2023-01-08 13:15:04",lat:-6.101385,lng:106.905878,wind_speed:11,wind_direction:281.5,heading:359.6,distance:88555.38,depth:-3.1,cog:153.4,sog:0,created_at:"2023-01-09 08:03:38",updated_at:"2023-01-09 08:03:38"},{time:1673184604e3,id:"44555a10-55f3-451d-8279-71fd68a98ddd",ship_id:1,terminal_time:"2023-01-08 13:30:04",lat:-6.101418,lng:106.905922,wind_speed:20,wind_direction:281.5,heading:359.7,distance:88555.38,depth:-3.1,cog:131.7,sog:0,created_at:"2023-01-09 08:01:25",updated_at:"2023-01-09 08:01:25"},{time:1673185504e3,id:"6f43d2f1-2e54-4989-a2b6-7b411249f2a8",ship_id:1,terminal_time:"2023-01-08 13:45:04",lat:-6.101397,lng:106.90586,wind_speed:15.7,wind_direction:298.3,heading:359.7,distance:88555.38,depth:-3.1,cog:51.2,sog:0,created_at:"2023-01-09 08:03:28",updated_at:"2023-01-09 08:03:28"},{time:1673186404e3,id:"e21e47e0-7761-45fc-aa87-dc06fb2b621c",ship_id:1,terminal_time:"2023-01-08 14:00:04",lat:-6.101392,lng:106.905875,wind_speed:9.5,wind_direction:297,heading:359.6,distance:88555.38,depth:-3,cog:80.4,sog:0,created_at:"2023-01-09 08:02:10",updated_at:"2023-01-09 08:02:10"},{time:1673187304e3,id:"dbf363e6-e9e5-4e72-95d5-fed707eab8c4",ship_id:1,terminal_time:"2023-01-08 14:15:04",lat:-6.101355,lng:106.905872,wind_speed:10.3,wind_direction:332.1,heading:359.8,distance:88555.38,depth:-2.8,cog:289.8,sog:0,created_at:"2023-01-09 08:04:34",updated_at:"2023-01-09 08:04:34"},{time:1673188204e3,id:"12b53920-e835-4c42-8ab7-ec8061a9ba5c",ship_id:1,terminal_time:"2023-01-08 14:30:04",lat:-6.101383,lng:106.90588,wind_speed:7.3,wind_direction:280,heading:359.8,distance:88555.38,depth:-2.8,cog:26.9,sog:0,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673189104e3,id:"c5c563a3-fe51-4dab-bcae-351d28e5f4de",ship_id:1,terminal_time:"2023-01-08 14:45:04",lat:-6.101362,lng:106.905937,wind_speed:13.8,wind_direction:304,heading:359.7,distance:88555.39,depth:-2.8,cog:310.4,sog:.1,created_at:"2023-01-09 08:01:04",updated_at:"2023-01-09 08:01:04"},{time:1673190004e3,id:"3d7b3cbb-14a0-4a8f-93d0-9cf906bc7355",ship_id:1,terminal_time:"2023-01-08 15:00:04",lat:-6.101373,lng:106.905875,wind_speed:5.2,wind_direction:309.6,heading:359.7,distance:88555.4,depth:-2.8,cog:11.5,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673190904e3,id:"9bd54cb5-0df6-4220-852a-e9ff92994333",ship_id:1,terminal_time:"2023-01-08 15:15:04",lat:-6.10139,lng:106.9059,wind_speed:9.7,wind_direction:319.5,heading:359.7,distance:88555.4,depth:-2.8,cog:310.4,sog:0,created_at:"2023-01-09 08:01:20",updated_at:"2023-01-09 08:01:20"},{time:1673191804e3,id:"1039c335-c4fe-4407-9d86-0e0e6f3801d7",ship_id:1,terminal_time:"2023-01-08 15:30:04",lat:-6.101395,lng:106.905902,wind_speed:5,wind_direction:304,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673192704e3,id:"2a373c7d-78e5-475d-b34b-0236fd987dbb",ship_id:1,terminal_time:"2023-01-08 15:45:04",lat:-6.101373,lng:106.905892,wind_speed:8.1,wind_direction:246.3,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:02:09",updated_at:"2023-01-09 08:02:09"},{time:1673193609e3,id:"27afb88f-711d-446a-80c1-5db6f4d652e8",ship_id:1,terminal_time:"2023-01-08 16:00:09",lat:-6.101383,lng:106.905923,wind_speed:16.7,wind_direction:267.4,heading:359.8,distance:88555.4,depth:-2.6,cog:274.8,sog:0,created_at:"2023-01-09 08:01:34",updated_at:"2023-01-09 08:01:34"},{time:1673194504e3,id:"7a688f79-a052-4162-98a4-93fbeec24b60",ship_id:1,terminal_time:"2023-01-08 16:15:04",lat:-6.101367,lng:106.90591,wind_speed:11.4,wind_direction:291.4,heading:359.6,distance:88555.41,depth:-2.6,cog:177.3,sog:.1,created_at:"2023-01-09 08:01:27",updated_at:"2023-01-09 08:01:27"},{time:1673195404e3,id:"1c77e367-adf9-4b24-9e28-1614417c0043",ship_id:1,terminal_time:"2023-01-08 16:30:04",lat:-6.101337,lng:106.90587,wind_speed:10.8,wind_direction:280,heading:359.6,distance:88555.42,depth:-2.6,cog:163.2,sog:0,created_at:"2023-01-09 08:02:53",updated_at:"2023-01-09 08:02:53"},{time:1673196304e3,id:"47c8015f-f5e4-44eb-af39-6631ab095c14",ship_id:1,terminal_time:"2023-01-08 16:45:04",lat:-6.101367,lng:106.905915,wind_speed:6.6,wind_direction:280,heading:359.8,distance:88555.42,depth:-2.6,cog:359.3,sog:0,created_at:"2023-01-09 08:01:48",updated_at:"2023-01-09 08:01:48"},{time:1673197204e3,id:"d0e28486-e7bc-4ac1-a4d8-0bbb6d72aee3",ship_id:1,terminal_time:"2023-01-08 17:00:04",lat:-6.101365,lng:106.905892,wind_speed:6.9,wind_direction:267.4,heading:359.8,distance:88555.42,depth:-2.6,cog:282.7,sog:0,created_at:"2023-01-09 08:05:29",updated_at:"2023-01-09 08:05:29"},{time:1673198104e3,id:"5791dc42-ed81-48a4-b540-b452a5633205",ship_id:1,terminal_time:"2023-01-08 17:15:04",lat:-6.101408,lng:106.905945,wind_speed:9.5,wind_direction:257.5,heading:0,distance:0,depth:-2.6,cog:300.4,sog:0,created_at:"2023-01-09 08:04:45",updated_at:"2023-01-09 08:04:45"},{time:1673199004e3,id:"603a0afa-1ca2-45d2-a9b6-0745a5e33b11",ship_id:1,terminal_time:"2023-01-08 17:30:04",lat:-6.10137,lng:106.905992,wind_speed:9.1,wind_direction:249.1,heading:359.5,distance:88555.42,depth:-2.5,cog:302.2,sog:0,created_at:"2023-01-09 08:03:51",updated_at:"2023-01-09 08:03:51"},{time:1673199904e3,id:"ab249c72-fe0b-4b61-aadb-60e506340e0a",ship_id:1,terminal_time:"2023-01-08 17:45:04",lat:-6.101405,lng:106.905933,wind_speed:8.5,wind_direction:247.7,heading:359.5,distance:88555.42,depth:-2.5,cog:346.1,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673200804e3,id:"ad719767-8da7-4530-af3a-e3d833d92178",ship_id:1,terminal_time:"2023-01-08 18:00:04",lat:-6.101377,lng:106.905882,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-2.5,cog:10.1,sog:0,created_at:"2023-01-09 08:01:03",updated_at:"2023-01-09 08:01:03"},{time:1673207354e3,id:"63c9d130-6bb7-4318-b5f2-675e7faf0e4c",ship_id:1,terminal_time:"2023-01-08 19:49:14",lat:-6.101343,lng:106.905863,wind_speed:7.9,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:159,sog:0,created_at:"2023-01-09 08:03:14",updated_at:"2023-01-09 08:03:14"},{time:1673208004e3,id:"3bf8de17-ebbb-4fcb-b854-a96a429acecb",ship_id:1,terminal_time:"2023-01-08 20:00:04",lat:-6.101333,lng:106.905857,wind_speed:9.9,wind_direction:235.1,heading:359.7,distance:88555.43,depth:-2.6,cog:83.4,sog:0,created_at:"2023-01-09 08:04:33",updated_at:"2023-01-09 08:04:33"},{time:1673208904e3,id:"fb4f8778-7bcb-40f3-956a-b79108ad31b2",ship_id:1,terminal_time:"2023-01-08 20:15:04",lat:-6.101393,lng:106.905902,wind_speed:7.5,wind_direction:252,heading:359.7,distance:88555.43,depth:-6,cog:131.2,sog:0,created_at:"2023-01-09 08:05:16",updated_at:"2023-01-09 08:05:16"},{time:1673209804e3,id:"5242adab-8959-40a5-8978-635cea013f84",ship_id:1,terminal_time:"2023-01-08 20:30:04",lat:-6.101357,lng:106.905868,wind_speed:5.6,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.5,cog:274.3,sog:0,created_at:"2023-01-09 08:00:56",updated_at:"2023-01-09 08:00:56"},{time:1673210704e3,id:"0c83a2c4-2bcd-476e-ac3b-460d1b25f858",ship_id:1,terminal_time:"2023-01-08 20:45:04",lat:-6.101342,lng:106.905882,wind_speed:7.5,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:267.2,sog:0,created_at:"2023-01-09 08:02:36",updated_at:"2023-01-09 08:02:36"},{time:1673211604e3,id:"458708de-a317-4292-a57f-1117f5f9f56d",ship_id:1,terminal_time:"2023-01-08 21:00:04",lat:-6.101388,lng:106.905948,wind_speed:12.2,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:271.1,sog:0,created_at:"2023-01-09 08:05:06",updated_at:"2023-01-09 08:05:06"},{time:1673212504e3,id:"67504e3d-78c5-491b-ab2f-ead7b531eab7",ship_id:1,terminal_time:"2023-01-08 21:15:04",lat:-6.1014420000000005,lng:106.905875,wind_speed:9.5,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:273.1,sog:.1,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673213404e3,id:"029c42f5-7b81-4393-94ab-d99385dd210e",ship_id:1,terminal_time:"2023-01-08 21:30:04",lat:-6.101397,lng:106.905873,wind_speed:9.1,wind_direction:280,heading:359.7,distance:88555.44,depth:-2.6,cog:278.6,sog:.1,created_at:"2023-01-09 08:05:28",updated_at:"2023-01-09 08:05:28"},{time:1673214304e3,id:"68b68fd8-c24d-4c82-8066-e3d469f5edbe",ship_id:1,terminal_time:"2023-01-08 21:45:04",lat:-6.101372,lng:106.905917,wind_speed:8.3,wind_direction:242.1,heading:359.8,distance:88555.44,depth:-6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:13",updated_at:"2023-01-09 08:05:13"},{time:1673215204e3,id:"361ce47f-0c08-47bb-967f-d1db1b9a05c3",ship_id:1,terminal_time:"2023-01-08 22:00:04",lat:-6.10138,lng:106.905898,wind_speed:16.7,wind_direction:248.3,heading:359.6,distance:88555.44,depth:-2.6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:04",updated_at:"2023-01-09 08:05:04"},{time:1673216104e3,id:"3ea2af9a-a3fc-420e-b179-53b02aa87e39",ship_id:1,terminal_time:"2023-01-08 22:15:04",lat:-6.10142,lng:106.90588,wind_speed:7.9,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.1,cog:213.1,sog:0,created_at:"2023-01-09 08:05:49",updated_at:"2023-01-09 08:05:49"},{time:1673217004e3,id:"1cb11726-d0ad-4402-a975-0af78f5631b4",ship_id:1,terminal_time:"2023-01-08 22:30:04",lat:-6.101388,lng:106.905885,wind_speed:17.1,wind_direction:247.7,heading:359.8,distance:88555.44,depth:-6,cog:221.4,sog:0,created_at:"2023-01-09 08:06:08",updated_at:"2023-01-09 08:06:08"},{time:1673217904e3,id:"892a3800-b287-4c33-913e-0683528e0431",ship_id:1,terminal_time:"2023-01-08 22:45:04",lat:-6.101377,lng:106.905895,wind_speed:11.4,wind_direction:249.1,heading:359.7,distance:88555.44,depth:-2.6,cog:103.9,sog:0,created_at:"2023-01-09 08:06:00",updated_at:"2023-01-09 08:06:00"},{time:1673218804e3,id:"6f3b1990-857c-4d00-b25a-0434a0cc2c8d",ship_id:1,terminal_time:"2023-01-08 23:00:04",lat:-6.101413,lng:106.90589,wind_speed:10.4,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.5,cog:131.5,sog:0,created_at:"2023-01-09 08:05:56",updated_at:"2023-01-09 08:05:56"},{time:1673219704e3,id:"f988100e-1c17-4430-ad7d-d42c5f9101cb",ship_id:1,terminal_time:"2023-01-08 23:15:04",lat:-6.101383,lng:106.905863,wind_speed:11.2,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:9.7,sog:0,created_at:"2023-01-09 08:06:57",updated_at:"2023-01-09 08:06:57"},{time:1673220604e3,id:"f9bfd7d8-0ed7-4e7c-9dd8-33793538967e",ship_id:1,terminal_time:"2023-01-08 23:30:04",lat:-6.101388,lng:106.905893,wind_speed:7.3,wind_direction:252,heading:359.7,distance:88555.44,depth:-6.3,cog:189.1,sog:.1,created_at:"2023-01-09 08:06:40",updated_at:"2023-01-09 08:06:40"},{time:1673221504e3,id:"d81f2408-511b-43f5-bc66-b9f8f3d84aea",ship_id:1,terminal_time:"2023-01-08 23:45:04",lat:-6.1014230000000005,lng:106.905862,wind_speed:11.2,wind_direction:246.3,heading:359.7,distance:88555.44,depth:-2.6,cog:195.3,sog:.1,created_at:"2023-01-09 08:06:41",updated_at:"2023-01-09 08:06:41"},{time:1673222404e3,id:"d1ae49e1-c912-4626-a700-c644a64c58ca",ship_id:1,terminal_time:"2023-01-09 00:00:04",lat:-6.101397,lng:106.905872,wind_speed:15.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.5,cog:57.8,sog:0,created_at:"2023-01-09 08:06:43",updated_at:"2023-01-09 08:06:43"},{time:1673223301e3,id:"30c254de-ca32-4ae0-9bbe-50a124f42fb5",ship_id:1,terminal_time:"2023-01-09 00:15:01",lat:-6.101368,lng:106.905878,wind_speed:12,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.1,cog:64.2,sog:0,created_at:"2023-01-09 08:07:06",updated_at:"2023-01-09 08:07:06"},{time:1673224201e3,id:"ce816a40-630c-48fa-abf2-50e2d743ecee",ship_id:1,terminal_time:"2023-01-09 00:30:01",lat:-6.101373,lng:106.905888,wind_speed:12.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:-2.8,cog:59.9,sog:0,created_at:"2023-01-09 08:07:38",updated_at:"2023-01-09 08:07:38"},{time:1673225101e3,id:"873c1631-7c9a-4a1d-b124-3879b28dd758",ship_id:1,terminal_time:"2023-01-09 00:45:01",lat:-6.101432,lng:106.905888,wind_speed:11.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:0,cog:222.4,sog:0,created_at:"2023-01-09 08:07:00",updated_at:"2023-01-09 08:07:00"},{time:1673226001e3,id:"53704def-9137-4944-8a3a-b36330fc1fb7",ship_id:1,terminal_time:"2023-01-09 01:00:01",lat:-6.1014420000000005,lng:106.905897,wind_speed:7.5,wind_direction:247.7,heading:359.7,distance:88555.44,depth:-6.1,cog:168.1,sog:0,created_at:"2023-01-09 08:06:44",updated_at:"2023-01-09 08:06:44"},{time:1673226901e3,id:"4c58ab98-4589-4979-82a3-2d5349e2d6d2",ship_id:1,terminal_time:"2023-01-09 01:15:01",lat:-6.101377,lng:106.905895,wind_speed:9.7,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:128.8,sog:0,created_at:"2023-01-09 08:07:55",updated_at:"2023-01-09 08:07:55"},{time:1673227801e3,id:"f53589c2-2628-4822-9efe-e9d5f6f97006",ship_id:1,terminal_time:"2023-01-09 01:30:01",lat:-6.101372,lng:106.905907,wind_speed:11,wind_direction:235.1,heading:359.7,distance:88555.44,depth:-2.8,cog:169.3,sog:0,created_at:"2023-01-09 08:07:52",updated_at:"2023-01-09 08:07:52"},{time:1673228701e3,id:"bbd3afac-671c-491d-9a53-a913b265f3a6",ship_id:1,terminal_time:"2023-01-09 01:45:01",lat:-6.101395,lng:106.905885,wind_speed:10.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:0,cog:336.2,sog:.1,created_at:"2023-01-09 08:07:54",updated_at:"2023-01-09 08:07:54"},{time:1673229626e3,id:"677d4da2-f2e4-4785-a282-e26977f5ff59",ship_id:1,terminal_time:"2023-01-09 02:00:26",lat:-6.101397,lng:106.905892,wind_speed:8.1,wind_direction:253.4,heading:359.8,distance:88555.46,depth:-6.3,cog:344.2,sog:.1,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673230501e3,id:"6d6e995c-7f59-4690-9ba0-6bdde399168a",ship_id:1,terminal_time:"2023-01-09 02:15:01",lat:-6.10142,lng:106.90591,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.47,depth:-2.8,cog:64.8,sog:0,created_at:"2023-01-09 08:08:12",updated_at:"2023-01-09 08:08:12"},{time:1673231401e3,id:"0be9f717-f25a-490d-bcae-34fa65d89a27",ship_id:1,terminal_time:"2023-01-09 02:30:01",lat:-6.1014,lng:106.905907,wind_speed:6.9,wind_direction:235.1,heading:359.6,distance:88555.48,depth:-2.8,cog:350.3,sog:0,created_at:"2023-01-09 08:08:21",updated_at:"2023-01-09 08:08:21"},{time:1673232301e3,id:"b89c57ee-02ec-4c81-a463-3ab63eea35d4",ship_id:1,terminal_time:"2023-01-09 02:45:01",lat:-6.10141,lng:106.905907,wind_speed:7.1,wind_direction:281.5,heading:359.7,distance:88555.49,depth:0,cog:340.6,sog:0,created_at:"2023-01-09 08:08:13",updated_at:"2023-01-09 08:08:13"},{time:1673233201e3,id:"a3fba678-1575-4c94-8040-8e2bb4f35c29",ship_id:1,terminal_time:"2023-01-09 03:00:01",lat:-6.101398,lng:106.905902,wind_speed:11,wind_direction:246.3,heading:359.6,distance:88555.49,depth:-6.6,cog:302,sog:0,created_at:"2023-01-09 08:09:06",updated_at:"2023-01-09 08:09:06"},{time:1673234101e3,id:"4d903123-c967-4aba-be64-4bfa45d2e9e2",ship_id:1,terminal_time:"2023-01-09 03:15:01",lat:-6.10139,lng:106.905878,wind_speed:7.7,wind_direction:259,heading:359.6,distance:88555.49,depth:-6.5,cog:314.3,sog:0,created_at:"2023-01-09 08:08:14",updated_at:"2023-01-09 08:08:14"},{time:1673235001e3,id:"1d4da80d-e1b4-46f3-b844-89cc8683bf40",ship_id:1,terminal_time:"2023-01-09 03:30:01",lat:-6.10141,lng:106.905928,wind_speed:6.2,wind_direction:247.7,heading:359.7,distance:88555.5,depth:0,cog:132.4,sog:0,created_at:"2023-01-09 08:08:53",updated_at:"2023-01-09 08:08:53"},{time:1673235901e3,id:"e71cde87-3b60-447e-b2e7-ba313276631d",ship_id:1,terminal_time:"2023-01-09 03:45:01",lat:-6.101413,lng:106.90591,wind_speed:7.7,wind_direction:252,heading:359.8,distance:88555.5,depth:0,cog:209.2,sog:0,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673236801e3,id:"f5446243-0920-43f1-b55b-e1e7745911d7",ship_id:1,terminal_time:"2023-01-09 04:00:01",lat:-6.1013269999999995,lng:106.90594,wind_speed:7.1,wind_direction:257.5,heading:359.9,distance:88555.5,depth:-7.1,cog:206.1,sog:.1,created_at:"2023-01-09 08:08:58",updated_at:"2023-01-09 08:08:58"},{time:1673237701e3,id:"93eedeac-7e8c-4b16-8181-ccaa306bc5fd",ship_id:1,terminal_time:"2023-01-09 04:15:01",lat:-6.101417,lng:106.90591,wind_speed:8.1,wind_direction:264.5,heading:359.8,distance:88555.5,depth:-7,cog:278.5,sog:0,created_at:"2023-01-09 08:09:03",updated_at:"2023-01-09 08:09:03"},{time:1673238601e3,id:"5ea3a677-6e78-4773-a9e5-c6f4c365cfa1",ship_id:1,terminal_time:"2023-01-09 04:30:01",lat:-6.101412,lng:106.905892,wind_speed:9.5,wind_direction:249.1,heading:359.8,distance:88555.5,depth:-6.8,cog:161.2,sog:.1,created_at:"2023-01-09 08:09:01",updated_at:"2023-01-09 08:09:01"},{time:1673239501e3,id:"5c8c5a2a-ed74-4185-bef6-92c28a9fdf4e",ship_id:1,terminal_time:"2023-01-09 04:45:01",lat:-6.101433,lng:106.905898,wind_speed:6.9,wind_direction:246.3,heading:0,distance:0,depth:-3.1,cog:73.5,sog:0,created_at:"2023-01-09 08:08:43",updated_at:"2023-01-09 08:08:43"},{time:1673240401e3,id:"4c79c190-421c-4140-841f-2591d3cdafff",ship_id:1,terminal_time:"2023-01-09 05:00:01",lat:-6.10142,lng:106.905925,wind_speed:9.7,wind_direction:242.1,heading:359.8,distance:88555.5,depth:-3.1,cog:125.4,sog:0,created_at:"2023-01-09 08:09:52",updated_at:"2023-01-09 08:09:52"},{time:1673241301e3,id:"c259fb8e-9a36-4dfc-bc0a-68cd1a49a286",ship_id:1,terminal_time:"2023-01-09 05:15:01",lat:-6.101342,lng:106.905905,wind_speed:5.2,wind_direction:240.7,heading:359.8,distance:88555.5,depth:-7.1,cog:159.2,sog:0,created_at:"2023-01-09 08:10:04",updated_at:"2023-01-09 08:10:04"},{time:1673242201e3,id:"27226360-f285-47ad-94b4-61ad2013e144",ship_id:1,terminal_time:"2023-01-09 05:30:01",lat:-6.101395,lng:106.905882,wind_speed:6.4,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-3.3,cog:250.3,sog:0,created_at:"2023-01-09 08:10:13",updated_at:"2023-01-09 08:10:13"},{time:1673243101e3,id:"2da1e4fe-f5f0-4895-b5fa-c4e50ec472d0",ship_id:1,terminal_time:"2023-01-09 05:45:01",lat:-6.101352,lng:106.905885,wind_speed:9.7,wind_direction:240.7,heading:359.7,distance:88555.5,depth:-3.5,cog:225.4,sog:0,created_at:"2023-01-09 08:10:15",updated_at:"2023-01-09 08:10:15"},{time:1673244001e3,id:"e101776c-0d25-4862-be01-60bdcd5c14e5",ship_id:1,terminal_time:"2023-01-09 06:00:01",lat:-6.101385,lng:106.905892,wind_speed:10.6,wind_direction:246.3,heading:359.6,distance:88555.5,depth:-3.5,cog:326.1,sog:0,created_at:"2023-01-09 08:10:03",updated_at:"2023-01-09 08:10:03"},{time:1673244901e3,id:"a9941a2b-e575-408e-a7bb-dacd988e6d96",ship_id:1,terminal_time:"2023-01-09 06:15:01",lat:-6.101383,lng:106.905903,wind_speed:7.1,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.5,cog:256.6,sog:0,created_at:"2023-01-09 08:10:10",updated_at:"2023-01-09 08:10:10"},{time:1673245801e3,id:"a1187bf0-abe9-4353-82a3-d4fd442c22e3",ship_id:1,terminal_time:"2023-01-09 06:30:01",lat:-6.101395,lng:106.905883,wind_speed:7.7,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.6,cog:215.4,sog:0,created_at:"2023-01-09 08:09:40",updated_at:"2023-01-09 08:09:40"},{time:1673246701e3,id:"c3d8f1fb-1911-4887-b3ce-949bd243f6c1",ship_id:1,terminal_time:"2023-01-09 06:45:01",lat:-6.101395,lng:106.90591,wind_speed:9.9,wind_direction:252,heading:359.8,distance:88555.5,depth:-3.8,cog:125.3,sog:0,created_at:"2023-01-09 08:10:36",updated_at:"2023-01-09 08:10:36"},{time:1673247601e3,id:"6d3fb6e4-4b62-422c-bd75-5562e48a058d",ship_id:1,terminal_time:"2023-01-09 07:00:01",lat:-6.101393,lng:106.905862,wind_speed:7.5,wind_direction:252,heading:359.9,distance:88555.5,depth:-3.8,cog:64.2,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673248501e3,id:"6c8d24c2-f12c-4698-a829-a0632f019df1",ship_id:1,terminal_time:"2023-01-09 07:15:01",lat:-6.101393,lng:106.905878,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.5,depth:-4,cog:64.5,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673249401e3,id:"519acfef-d197-4cfa-afa7-4e6e5e4b8737",ship_id:1,terminal_time:"2023-01-09 07:30:01",lat:-6.101377,lng:106.905885,wind_speed:6.6,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:41",updated_at:"2023-01-09 08:10:41"},{time:1673250301e3,id:"aa8fe1a7-57d9-445d-8f18-3f22b1a409c6",ship_id:1,terminal_time:"2023-01-09 07:45:01",lat:-6.101395,lng:106.905893,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:11:09",updated_at:"2023-01-09 08:11:09"},{time:1673251201e3,id:"5d87fb41-c0a5-49b5-aabc-e16448ec0db7",ship_id:1,terminal_time:"2023-01-09 08:00:01",lat:-6.101405,lng:106.905888,wind_speed:6,wind_direction:265.9,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:51",updated_at:"2023-01-09 08:10:51"},{time:1673257766e3,id:"59f2dd21-3619-4d39-a699-a444c5f5039c",ship_id:1,terminal_time:"2023-01-09 09:49:26",lat:-6.10138,lng:106.905813,wind_speed:14.1,wind_direction:302.5,heading:359.8,distance:88555.5,depth:-4.1,cog:132.4,sog:0,created_at:"2023-01-10 08:00:06",updated_at:"2023-01-10 08:00:06"},{time:1673258401e3,id:"6b431693-2664-44b6-8518-5ab07bbf0c85",ship_id:1,terminal_time:"2023-01-09 10:00:01",lat:-6.101373,lng:106.9059,wind_speed:14.1,wind_direction:282.9,heading:359.8,distance:88555.5,depth:-4.1,cog:115.2,sog:0,created_at:"2023-01-10 08:02:29",updated_at:"2023-01-10 08:02:29"},{time:1673259301e3,id:"40fb792e-7a2e-4697-a25b-e79c2d2fdbc6",ship_id:1,terminal_time:"2023-01-09 10:15:01",lat:-6.10135,lng:106.905885,wind_speed:7.1,wind_direction:332.1,heading:359.9,distance:88555.5,depth:-4.3,cog:144.6,sog:0,created_at:"2023-01-10 08:01:40",updated_at:"2023-01-10 08:01:40"},{time:1673260201e3,id:"354963f0-7e7e-4ea0-97ae-5e69a9a932c9",ship_id:1,terminal_time:"2023-01-09 10:30:01",lat:-6.101405,lng:106.90586,wind_speed:12.6,wind_direction:292.8,heading:359.8,distance:88555.5,depth:-4.3,cog:105.8,sog:0,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673261101e3,id:"5bbbf421-2adb-4fd3-81a0-b0cade6e5e67",ship_id:1,terminal_time:"2023-01-09 10:45:01",lat:-6.101395,lng:106.905892,wind_speed:9.5,wind_direction:297,heading:359.8,distance:88555.5,depth:-4.3,cog:214.9,sog:0,created_at:"2023-01-10 08:05:43",updated_at:"2023-01-10 08:05:43"},{time:1673262001e3,id:"630c5619-2b52-4cbb-93bf-85c73cae98ae",ship_id:1,terminal_time:"2023-01-09 11:00:01",lat:-6.101408,lng:106.905882,wind_speed:6.6,wind_direction:297,heading:0,distance:0,depth:-4.3,cog:99.6,sog:0,created_at:"2023-01-10 08:02:39",updated_at:"2023-01-10 08:02:39"},{time:1673262901e3,id:"b403636b-8619-4d42-9cb4-6c4166a1b9b3",ship_id:1,terminal_time:"2023-01-09 11:15:01",lat:-6.101393,lng:106.90587,wind_speed:5,wind_direction:311.5,heading:359.8,distance:88555.5,depth:-4.3,cog:93.5,sog:0,created_at:"2023-01-10 08:04:42",updated_at:"2023-01-10 08:04:42"},{time:1673263806e3,id:"5f165c7e-e6b7-44c1-a482-567e62bc4017",ship_id:1,terminal_time:"2023-01-09 11:30:06",lat:-6.1014,lng:106.905877,wind_speed:15.1,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:73.4,sog:0,created_at:"2023-01-10 08:02:10",updated_at:"2023-01-10 08:02:10"},{time:1673264701e3,id:"bd2a40ce-8f23-43e0-8272-8f201c185ec8",ship_id:1,terminal_time:"2023-01-09 11:45:01",lat:-6.101388,lng:106.905907,wind_speed:16.3,wind_direction:337.8,heading:359.9,distance:88555.51,depth:-4.1,cog:61.2,sog:0,created_at:"2023-01-10 08:05:49",updated_at:"2023-01-10 08:05:49"},{time:1673265601e3,id:"c24f89d3-7780-4ffc-a265-5b6d2f72f073",ship_id:1,terminal_time:"2023-01-09 12:00:01",lat:-6.1014,lng:106.905888,wind_speed:14.7,wind_direction:342,heading:359.8,distance:88555.51,depth:-4.1,cog:67.8,sog:0,created_at:"2023-01-10 08:03:23",updated_at:"2023-01-10 08:03:23"},{time:1673266501e3,id:"13982c0e-988a-46c5-bec8-355b5f7dc5ca",ship_id:1,terminal_time:"2023-01-09 12:15:01",lat:-6.101408,lng:106.905903,wind_speed:7.1,wind_direction:315.3,heading:359.8,distance:88555.51,depth:-4.1,cog:36.9,sog:0,created_at:"2023-01-10 08:02:34",updated_at:"2023-01-10 08:02:34"},{time:1673267401e3,id:"d0beec20-b06e-4fc7-ad00-6f35454bb257",ship_id:1,terminal_time:"2023-01-09 12:30:01",lat:-6.10138,lng:106.905855,wind_speed:11.2,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:37.8,sog:0,created_at:"2023-01-10 08:01:57",updated_at:"2023-01-10 08:01:57"},{time:1673268301e3,id:"98379784-93de-4f27-b326-467bfef4b682",ship_id:1,terminal_time:"2023-01-09 12:45:01",lat:-6.101353,lng:106.905848,wind_speed:12.6,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:90.6,sog:0,created_at:"2023-01-10 08:05:23",updated_at:"2023-01-10 08:05:23"},{time:1673269201e3,id:"05ff55cd-da21-40f7-83dd-131e0587880e",ship_id:1,terminal_time:"2023-01-09 13:00:01",lat:-6.101385,lng:106.905875,wind_speed:12.2,wind_direction:342,heading:359.7,distance:88555.51,depth:-4,cog:96.8,sog:.1,created_at:"2023-01-10 08:01:45",updated_at:"2023-01-10 08:01:45"},{time:1673270101e3,id:"f7cc3f27-2367-4a6d-a4c2-db1154e9e00f",ship_id:1,terminal_time:"2023-01-09 13:15:01",lat:-6.101383,lng:106.905865,wind_speed:14.5,wind_direction:337.8,heading:359.7,distance:88555.51,depth:-4,cog:150.1,sog:.1,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673271001e3,id:"f662f7f2-d4d5-449f-873a-bcdfc3a00d51",ship_id:1,terminal_time:"2023-01-09 13:30:01",lat:-6.101357,lng:106.905865,wind_speed:12.8,wind_direction:337.8,heading:359.7,distance:88555.52,depth:-4,cog:321.4,sog:0,created_at:"2023-01-10 08:02:28",updated_at:"2023-01-10 08:02:28"},{time:1673271901e3,id:"89151d87-e6ce-4678-a3ef-8544ce5f573f",ship_id:1,terminal_time:"2023-01-09 13:45:01",lat:-6.101363,lng:106.905908,wind_speed:14.7,wind_direction:337.8,heading:359.6,distance:88555.52,depth:-4,cog:66.8,sog:0,created_at:"2023-01-10 08:04:30",updated_at:"2023-01-10 08:04:30"},{time:1673272801e3,id:"03f8f7d6-97b0-4dd5-be91-36f792a1a625",ship_id:1,terminal_time:"2023-01-09 14:00:01",lat:-6.101427,lng:106.905857,wind_speed:13,wind_direction:332.1,heading:.4,distance:88555.52,depth:-4,cog:287.6,sog:0,created_at:"2023-01-10 08:03:02",updated_at:"2023-01-10 08:03:02"},{time:1673273701e3,id:"a1f01e80-907b-4720-aaa7-aa073ffd06af",ship_id:1,terminal_time:"2023-01-09 14:15:01",lat:-6.095707,lng:106.89818,wind_speed:26.6,wind_direction:45,heading:276.6,distance:88556.26,depth:-11.3,cog:274.8,sog:6.6,created_at:"2023-01-10 08:01:52",updated_at:"2023-01-10 08:01:52"},{time:1673274601e3,id:"615a0d2a-2428-4c59-a170-a77f1278abfc",ship_id:1,terminal_time:"2023-01-09 14:30:01",lat:-6.079302,lng:106.881568,wind_speed:26.2,wind_direction:349,heading:355.1,distance:88557.85,depth:-10.8,cog:357.4,sog:7.3,created_at:"2023-01-10 08:01:54",updated_at:"2023-01-10 08:01:54"},{time:1673275501e3,id:"8a83141d-bf01-41b2-a27c-8b01697b30c7",ship_id:1,terminal_time:"2023-01-09 14:45:01",lat:-6.03759,lng:106.880487,wind_speed:28.9,wind_direction:0,heading:350.6,distance:88560.36,depth:-12.5,cog:353.9,sog:10.4,created_at:"2023-01-10 08:03:06",updated_at:"2023-01-10 08:03:06"},{time:1673276401e3,id:"f8617d50-8583-4cef-a0dd-29468fbc2d90",ship_id:1,terminal_time:"2023-01-09 15:00:01",lat:-5.98431,lng:106.873388,wind_speed:29.7,wind_direction:9.7,heading:330.3,distance:88563.54,depth:-16.6,cog:338.3,sog:12.5,created_at:"2023-01-10 08:03:19",updated_at:"2023-01-10 08:03:19"},{time:1673277301e3,id:"966ade39-66eb-4749-99b5-72528c7217e9",ship_id:1,terminal_time:"2023-01-09 15:15:01",lat:-5.961758,lng:106.82729,wind_speed:29.3,wind_direction:16.8,heading:312.6,distance:88566.7,depth:-19,cog:312.1,sog:13.2,created_at:"2023-01-10 08:02:20",updated_at:"2023-01-10 08:02:20"},{time:1673278201e3,id:"7531c730-0f9f-498f-85e9-d9704b5e56c3",ship_id:1,terminal_time:"2023-01-09 15:30:01",lat:-5.931025,lng:106.78072,wind_speed:28.1,wind_direction:21,heading:310.9,distance:88570,depth:-22.5,cog:312.1,sog:13.4,created_at:"2023-01-10 08:04:54",updated_at:"2023-01-10 08:04:54"},{time:1673279101e3,id:"0f5e09a8-fa21-4745-b847-90fe597eae7b",ship_id:1,terminal_time:"2023-01-09 15:45:01",lat:-14.161667,lng:116.66,wind_speed:27.2,wind_direction:32.3,heading:308,distance:88573.33,depth:-30.5,cog:0,sog:0,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673280121e3,id:"b0c02cd1-d141-4cc5-b9f3-469c2154f3b2",ship_id:1,terminal_time:"2023-01-09 16:02:01",lat:-5.854772,lng:106.68859,wind_speed:23.7,wind_direction:33.6,heading:304.1,distance:88577.22,depth:-27.8,cog:305.1,sog:13.5,created_at:"2023-01-10 08:06:17",updated_at:"2023-01-10 08:06:17"},{time:1673280901e3,id:"60d837ed-22c2-4b7e-954a-8ed76765bb6b",ship_id:1,terminal_time:"2023-01-09 16:15:01",lat:-5.828417,lng:106.647598,wind_speed:19.2,wind_direction:54.9,heading:267.9,distance:88580.13,depth:-45.3,cog:273.5,sog:12.4,created_at:"2023-01-10 08:04:40",updated_at:"2023-01-10 08:04:40"},{time:1673281801e3,id:"5e868bf7-9f25-4361-9d84-88ccdcadc5bd",ship_id:1,terminal_time:"2023-01-09 16:30:01",lat:-5.833347,lng:106.590948,wind_speed:20.4,wind_direction:43.6,heading:263.3,distance:88583.55,depth:-70.6,cog:263.3,sog:13.8,created_at:"2023-01-10 08:03:21",updated_at:"2023-01-10 08:03:21"},{time:1673282701e3,id:"290d63d9-e0da-419c-880b-2ff176353be8",ship_id:1,terminal_time:"2023-01-09 16:45:01",lat:-5.83681,lng:106.533245,wind_speed:19.2,wind_direction:49.1,heading:269.3,distance:88586.99,depth:-83.3,cog:270,sog:13.8,created_at:"2023-01-10 08:04:36",updated_at:"2023-01-10 08:04:36"},{time:1673283601e3,id:"74437480-2eee-4b7d-bdec-bf2c3f57793e",ship_id:1,terminal_time:"2023-01-09 17:00:01",lat:-5.836503,lng:106.475305,wind_speed:20.4,wind_direction:49.1,heading:264.9,distance:88590.47,depth:-48.5,cog:266.8,sog:13.9,created_at:"2023-01-10 08:05:08",updated_at:"2023-01-10 08:05:08"},{time:1673284501e3,id:"a12b6836-7207-4ed4-b124-4d651273bb02",ship_id:1,terminal_time:"2023-01-09 17:15:01",lat:-5.845467,lng:106.417943,wind_speed:20.4,wind_direction:43.6,heading:267.7,distance:88593.93,depth:-51.6,cog:265.6,sog:14,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673285401e3,id:"09588182-8517-4089-9f19-f6dfe3842699",ship_id:1,terminal_time:"2023-01-09 17:30:01",lat:-5.841642,lng:106.35981,wind_speed:21.3,wind_direction:33.6,heading:0,distance:0,depth:-27.1,cog:274.8,sog:14.1,created_at:"2023-01-10 08:05:40",updated_at:"2023-01-10 08:05:40"},{time:1673286301e3,id:"878bec49-a145-488f-ae6a-22e20f985adb",ship_id:1,terminal_time:"2023-01-09 17:45:01",lat:-5.838773,lng:106.300968,wind_speed:24.4,wind_direction:26.7,heading:269.9,distance:88600.96,depth:-32.6,cog:270.7,sog:14.2,created_at:"2023-01-10 08:04:41",updated_at:"2023-01-10 08:04:41"},{time:1673287201e3,id:"e479c84e-0867-465c-8999-5e588a85eea7",ship_id:1,terminal_time:"2023-01-09 18:00:01",lat:-5.837823,lng:106.239917,wind_speed:27.4,wind_direction:4.2,heading:270,distance:88604.52,depth:-23.8,cog:271.2,sog:14.3,created_at:"2023-01-10 08:05:14",updated_at:"2023-01-10 08:05:14"},{time:1673288101e3,id:"c65ffd03-8a74-4926-bed4-8610fa7e81a0",ship_id:1,terminal_time:"2023-01-09 18:15:01",lat:-5.838808,lng:106.181588,wind_speed:25,wind_direction:9.7,heading:264.9,distance:88608.11,depth:-28.1,cog:0,sog:0,created_at:"2023-01-10 08:06:48",updated_at:"2023-01-10 08:06:48"},{time:1673289001e3,id:"1c8548ab-cb0d-4bdb-9f57-195a3c362744",ship_id:1,terminal_time:"2023-01-09 18:30:01",lat:-5.841168,lng:106.120507,wind_speed:25,wind_direction:4.2,heading:268.9,distance:88611.69,depth:-38.3,cog:269.4,sog:14.3,created_at:"2023-01-10 08:06:38",updated_at:"2023-01-10 08:06:38"},{time:1673289901e3,id:"9205bfd4-683a-4325-8b29-103eb842219b",ship_id:1,terminal_time:"2023-01-09 18:45:01",lat:-5.8411,lng:106.061022,wind_speed:28.9,wind_direction:0,heading:269.1,distance:88615.22,depth:-50.3,cog:270.3,sog:14.2,created_at:"2023-01-10 08:06:30",updated_at:"2023-01-10 08:06:30"},{time:1673290801e3,id:"911bece6-7e5c-40f0-b0da-cf35b3eb7067",ship_id:1,terminal_time:"2023-01-09 19:00:01",lat:-5.854877,lng:106.006268,wind_speed:30.7,wind_direction:21,heading:225.6,distance:88618.76,depth:-74.5,cog:229.1,sog:14.3,created_at:"2023-01-10 08:07:24",updated_at:"2023-01-10 08:07:24"},{time:1673291701e3,id:"7fefd3ea-5a95-4eaf-a4ef-ec5bbb15390a",ship_id:1,terminal_time:"2023-01-09 19:15:01",lat:-5.897932,lng:105.964727,wind_speed:28.5,wind_direction:21,heading:224.8,distance:88622.34,depth:-37.1,cog:224.5,sog:14.2,created_at:"2023-01-10 08:07:04",updated_at:"2023-01-10 08:07:04"},{time:1673292601e3,id:"05a6f60e-0ee4-4d48-9f0c-6823f391ff6d",ship_id:1,terminal_time:"2023-01-09 19:30:01",lat:-5.94169,lng:105.92583,wind_speed:31.8,wind_direction:26.7,heading:221.9,distance:88625.93,depth:-38.1,cog:222.4,sog:13.9,created_at:"2023-01-10 08:05:52",updated_at:"2023-01-10 08:05:52"},{time:1673293501e3,id:"3582ee5f-9c1c-447c-a1c2-ad23d1fcdc4c",ship_id:1,terminal_time:"2023-01-09 19:45:01",lat:-5.985892,lng:105.888712,wind_speed:30.7,wind_direction:32.3,heading:215.3,distance:88629.38,depth:-50.8,cog:216.3,sog:14.2,created_at:"2023-01-10 08:05:36",updated_at:"2023-01-10 08:05:36"},{time:1673294401e3,id:"bae337b8-cf2c-4345-83f1-51a534c4756a",ship_id:1,terminal_time:"2023-01-09 20:00:01",lat:-6.007143,lng:105.844002,wind_speed:27.9,wind_direction:353.3,heading:291,distance:88632.81,depth:-84.1,cog:292.2,sog:13.7,created_at:"2023-01-10 08:08:12",updated_at:"2023-01-10 08:08:12"},{time:1673295301e3,id:"2bfe50aa-406d-420d-baba-3647f540a6db",ship_id:1,terminal_time:"2023-01-09 20:15:01",lat:-5.982978,lng:105.794872,wind_speed:28.5,wind_direction:0,heading:287.8,distance:88636.11,depth:-52,cog:293.4,sog:12.5,created_at:"2023-01-10 08:08:05",updated_at:"2023-01-10 08:08:05"},{time:1673296201e3,id:"226c6298-b20f-4d61-8d46-d20d9a16f764",ship_id:1,terminal_time:"2023-01-09 20:30:01",lat:-5.970388,lng:105.742705,wind_speed:31.8,wind_direction:4.2,heading:280,distance:88639.31,depth:-89.5,cog:282.8,sog:13.6,created_at:"2023-01-10 08:07:55",updated_at:"2023-01-10 08:07:55"},{time:1673297101e3,id:"0b3a3d1b-e2cd-412d-8949-052b468ac363",ship_id:1,terminal_time:"2023-01-09 20:45:01",lat:-5.952805,lng:105.689012,wind_speed:30.9,wind_direction:4.2,heading:288.7,distance:88642.69,depth:-66.1,cog:291,sog:13.4,created_at:"2023-01-10 08:06:29",updated_at:"2023-01-10 08:06:29"},{time:1673298001e3,id:"e5dc3b25-3498-4336-b51f-65360056bb47",ship_id:1,terminal_time:"2023-01-09 21:00:01",lat:-5.93262,lng:105.638005,wind_speed:32,wind_direction:4.2,heading:289,distance:88645.98,depth:-29.5,cog:291.5,sog:12.9,created_at:"2023-01-10 08:07:36",updated_at:"2023-01-10 08:07:36"},{time:1673298901e3,id:"97af2e02-a337-477c-b476-f8cc1f0f39bd",ship_id:1,terminal_time:"2023-01-09 21:15:01",lat:-5.918415,lng:105.586073,wind_speed:33,wind_direction:9.2,heading:274.4,distance:88649.16,depth:-20,cog:275.9,sog:12.5,created_at:"2023-01-10 08:06:55",updated_at:"2023-01-10 08:06:55"},{time:1673299801e3,id:"3f6e7fb8-8ed6-4139-af72-762e9a783f03",ship_id:1,terminal_time:"2023-01-09 21:30:01",lat:-5.913357,lng:105.534142,wind_speed:33.2,wind_direction:9.7,heading:272.1,distance:88652.27,depth:-36.3,cog:275.1,sog:12.2,created_at:"2023-01-10 08:06:51",updated_at:"2023-01-10 08:06:51"},{time:1673300701e3,id:"039c9a38-7354-41ae-a67f-1a28cc9ac563",ship_id:1,terminal_time:"2023-01-09 21:45:01",lat:-5.909802,lng:105.487677,wind_speed:31.6,wind_direction:4.2,heading:280.1,distance:88655.08,depth:-35.1,cog:281.9,sog:11.4,created_at:"2023-01-10 08:07:31",updated_at:"2023-01-10 08:07:31"},{time:1673301601e3,id:"c21c6af2-1b26-41e9-b6ef-1f8d76e84096",ship_id:1,terminal_time:"2023-01-09 22:00:01",lat:-5.902202,lng:105.43825,wind_speed:32.2,wind_direction:4.2,heading:0,distance:0,depth:-28.1,cog:278,sog:12.2,created_at:"2023-01-10 08:07:20",updated_at:"2023-01-10 08:07:20"},{time:1673302501e3,id:"6187beed-2f55-4f6c-ac4d-870ba4151a2b",ship_id:1,terminal_time:"2023-01-09 22:15:01",lat:-5.894857,lng:105.38688,wind_speed:33.6,wind_direction:7.5,heading:275.2,distance:88661.16,depth:-50.5,cog:279.6,sog:12.5,created_at:"2023-01-10 08:08:14",updated_at:"2023-01-10 08:08:14"},{time:1673303401e3,id:"d2860a82-a25f-4c3b-aaf3-db903c6c079d",ship_id:1,terminal_time:"2023-01-09 22:30:01",lat:-5.88575,lng:105.334428,wind_speed:37.7,wind_direction:4.2,heading:278.6,distance:88664.41,depth:-78.6,cog:282.5,sog:12.7,created_at:"2023-01-10 08:08:58",updated_at:"2023-01-10 08:08:58"},{time:1673304301e3,id:"bc8a41e1-d425-400a-afb9-2d64d783a252",ship_id:1,terminal_time:"2023-01-09 22:45:01",lat:-5.874368,lng:105.282648,wind_speed:34.4,wind_direction:9.7,heading:280.7,distance:88667.58,depth:-95.8,cog:284,sog:12.9,created_at:"2023-01-10 08:08:50",updated_at:"2023-01-10 08:08:50"},{time:1673305201e3,id:"2210ba63-e4e5-46bb-a238-f60a7ff5f63e",ship_id:1,terminal_time:"2023-01-09 23:00:01",lat:-5.862632,lng:105.230625,wind_speed:33.6,wind_direction:19,heading:281.1,distance:88670.78,depth:-105,cog:280.9,sog:12.6,created_at:"2023-01-10 08:08:39",updated_at:"2023-01-10 08:08:39"},{time:1673306101e3,id:"42f528f7-c57d-46a6-b362-95020790eb63",ship_id:1,terminal_time:"2023-01-09 23:15:01",lat:-5.850693,lng:105.178738,wind_speed:34.2,wind_direction:21,heading:283,distance:88673.97,depth:-120,cog:284.6,sog:12.8,created_at:"2023-01-10 08:09:21",updated_at:"2023-01-10 08:09:21"},{time:1673307001e3,id:"5e0ba177-15a5-4845-a33f-2b9be3696f90",ship_id:1,terminal_time:"2023-01-09 23:30:01",lat:-5.836418,lng:105.127365,wind_speed:37.3,wind_direction:16.8,heading:285.3,distance:88677.14,depth:-200,cog:290.4,sog:12.6,created_at:"2023-01-10 08:08:57",updated_at:"2023-01-10 08:08:57"},{time:1673307901e3,id:"74e77432-2815-4913-8e48-42a55e173eda",ship_id:1,terminal_time:"2023-01-09 23:45:01",lat:-5.821302,lng:105.076055,wind_speed:32.6,wind_direction:19.6,heading:285,distance:88680.34,depth:-206,cog:282.4,sog:12.7,created_at:"2023-01-10 08:08:36",updated_at:"2023-01-10 08:08:36"},{time:1673308801e3,id:"733111ca-d0a6-4cd2-a3c3-25a09999a0cc",ship_id:1,terminal_time:"2023-01-10 00:00:01",lat:-5.800392,lng:105.027445,wind_speed:28.7,wind_direction:9.7,heading:300.1,distance:88683.55,depth:-200.6,cog:302.4,sog:12.9,created_at:"2023-01-10 08:09:31",updated_at:"2023-01-10 08:09:31"},{time:1673309703e3,id:"f06e33ca-2719-4b1f-8f9d-3187c3f75fac",ship_id:1,terminal_time:"2023-01-10 00:15:03",lat:-5.7731770000000004,lng:104.980798,wind_speed:28.9,wind_direction:9.7,heading:297.3,distance:88686.7,depth:-202.3,cog:297,sog:12.5,created_at:"2023-01-10 08:10:07",updated_at:"2023-01-10 08:10:07"},{time:1673310603e3,id:"c856de4d-7236-4d94-9e85-c9fedbc48708",ship_id:1,terminal_time:"2023-01-10 00:30:03",lat:-5.747583,lng:104.93485,wind_speed:28.7,wind_direction:11.2,heading:296.8,distance:88689.82,depth:-198.3,cog:300,sog:12.6,created_at:"2023-01-10 08:10:05",updated_at:"2023-01-10 08:10:05"},{time:1673311503e3,id:"cd8a0d81-f531-4582-b2fb-e948ed042a0b",ship_id:1,terminal_time:"2023-01-10 00:45:03",lat:-5.720978,lng:104.889258,wind_speed:31.6,wind_direction:8.4,heading:298.9,distance:88692.97,depth:-77,cog:300.9,sog:12.5,created_at:"2023-01-10 08:09:46",updated_at:"2023-01-10 08:09:46"},{time:1673312403e3,id:"4dba530d-bc76-4355-ab28-1340d9ac5be7",ship_id:1,terminal_time:"2023-01-10 01:00:03",lat:-5.69468,lng:104.843363,wind_speed:27.2,wind_direction:11.2,heading:296.8,distance:88696.15,depth:-59.3,cog:299.2,sog:12.8,created_at:"2023-01-10 08:09:28",updated_at:"2023-01-10 08:09:28"},{time:1673313303e3,id:"325aec11-c392-479b-9d0d-41cbbd1feff8",ship_id:1,terminal_time:"2023-01-10 01:15:03",lat:-5.668635,lng:104.795995,wind_speed:25.4,wind_direction:16.8,heading:303.1,distance:88699.36,depth:-81.6,cog:305.2,sog:13.1,created_at:"2023-01-10 08:10:20",updated_at:"2023-01-10 08:10:20"},{time:1673314203e3,id:"b06943c5-9cd6-4fad-8ebe-f5449d7bffcc",ship_id:1,terminal_time:"2023-01-10 01:30:03",lat:-5.637213,lng:104.750302,wind_speed:25.4,wind_direction:16.8,heading:302.1,distance:88702.77,depth:-159.3,cog:302.6,sog:13.6,created_at:"2023-01-10 08:10:11",updated_at:"2023-01-10 08:10:11"},{time:1673315103e3,id:"9222b191-091c-4065-a00a-754b7a702ec9",ship_id:1,terminal_time:"2023-01-10 01:45:03",lat:-5.606022,lng:104.702637,wind_speed:24.1,wind_direction:12.5,heading:300.2,distance:88706.13,depth:-184.6,cog:302.6,sog:13.8,created_at:"2023-01-10 08:10:19",updated_at:"2023-01-10 08:10:19"},{time:1673316003e3,id:"352b8845-bef7-409c-a3e0-cf0aadac3054",ship_id:1,terminal_time:"2023-01-10 02:00:03",lat:-5.5799579999999995,lng:104.65319,wind_speed:21.1,wind_direction:16.8,heading:295.9,distance:88709.53,depth:-84.6,cog:296,sog:13.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673316903e3,id:"329d6a2d-92b7-4284-a981-79ccaf315c9c",ship_id:1,terminal_time:"2023-01-10 02:15:03",lat:-5.562793,lng:104.609362,wind_speed:18.2,wind_direction:19.6,heading:300.2,distance:88712.38,depth:-42.6,cog:307.4,sog:8.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673317803e3,id:"232ce1d3-f960-42b9-80f6-306f115e0844",ship_id:1,terminal_time:"2023-01-10 02:30:03",lat:-13.866667,lng:111.266667,wind_speed:15.9,wind_direction:19.6,heading:305.2,distance:88714.17,depth:-36,cog:0,sog:0,created_at:"2023-01-10 08:10:32",updated_at:"2023-01-10 08:10:32"},{time:1673318703e3,id:"06e72ee8-b924-4aca-b288-407b083f57f5",ship_id:1,terminal_time:"2023-01-10 02:45:03",lat:-5.5387,lng:104.573278,wind_speed:7.1,wind_direction:21,heading:333.4,distance:88715.01,depth:-31.3,cog:286.4,sog:.5,created_at:"2023-01-10 08:10:31",updated_at:"2023-01-10 08:10:31"},{time:1673319603e3,id:"96979015-3293-432b-acdb-18a40130c80d",ship_id:1,terminal_time:"2023-01-10 03:00:03",lat:-5.538557,lng:104.572997,wind_speed:4.8,wind_direction:11.2,heading:34,distance:88715.04,depth:-31,cog:104.3,sog:.1,created_at:"2023-01-10 08:10:58",updated_at:"2023-01-10 08:10:58"},{time:1673320503e3,id:"311160b5-f9c6-4799-ad43-d85555c84374",ship_id:1,terminal_time:"2023-01-10 03:15:03",lat:-5.538512,lng:104.573348,wind_speed:2.5,wind_direction:11.2,heading:322.4,distance:88715.04,depth:-31,cog:349.1,sog:.1,created_at:"2023-01-10 08:10:55",updated_at:"2023-01-10 08:10:55"},{time:1673321403e3,id:"73f5a73d-8652-4de0-a492-7e4d2da8a5e4",ship_id:1,terminal_time:"2023-01-10 03:30:03",lat:-5.538447,lng:104.573578,wind_speed:2.7,wind_direction:11.2,heading:311.9,distance:88715.05,depth:-31,cog:124.7,sog:0,created_at:"2023-01-10 08:11:31",updated_at:"2023-01-10 08:11:31"},{time:1673322303e3,id:"d0d88b43-dbf4-4712-b6e6-2ba40ee6cbe7",ship_id:1,terminal_time:"2023-01-10 03:45:03",lat:-5.5383569999999995,lng:104.573628,wind_speed:2.9,wind_direction:11.2,heading:306.3,distance:88715.06,depth:-31,cog:216.8,sog:.1,created_at:"2023-01-10 08:11:02",updated_at:"2023-01-10 08:11:02"},{time:1673323203e3,id:"108e11e3-a7fa-41b3-af81-0cca33e8ff4c",ship_id:1,terminal_time:"2023-01-10 04:00:03",lat:-5.538393,lng:104.573665,wind_speed:4.8,wind_direction:11.2,heading:306.8,distance:88715.07,depth:-31,cog:232.3,sog:0,created_at:"2023-01-10 08:11:43",updated_at:"2023-01-10 08:11:43"},{time:1673324103e3,id:"bd89b9b2-c51f-4cc4-8ef2-932d74a5a249",ship_id:1,terminal_time:"2023-01-10 04:15:03",lat:-5.538438,lng:104.573587,wind_speed:5,wind_direction:11.2,heading:312.8,distance:88715.08,depth:-31,cog:169,sog:.1,created_at:"2023-01-10 08:11:37",updated_at:"2023-01-10 08:11:37"},{time:1673325003e3,id:"78ae1344-a9e9-44ff-b1f4-0c24f28e8fd4",ship_id:1,terminal_time:"2023-01-10 04:30:03",lat:-5.538348,lng:104.5736,wind_speed:5.6,wind_direction:11.2,heading:310.3,distance:88715.08,depth:-31,cog:80.3,sog:0,created_at:"2023-01-10 08:11:34",updated_at:"2023-01-10 08:11:34"},{time:1673325903e3,id:"a3aed659-572b-4b7c-abbe-b6691c723542",ship_id:1,terminal_time:"2023-01-10 04:45:03",lat:-5.538425,lng:104.573628,wind_speed:5.4,wind_direction:11.2,heading:310.7,distance:88715.08,depth:-31,cog:249.5,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673326803e3,id:"8c399c42-218f-43da-b0aa-06ac26cd8f12",ship_id:1,terminal_time:"2023-01-10 05:00:03",lat:-5.538432,lng:104.573612,wind_speed:6,wind_direction:11.2,heading:311.6,distance:88715.09,depth:-31,cog:246.8,sog:0,created_at:"2023-01-10 08:12:42",updated_at:"2023-01-10 08:12:42"},{time:1673327703e3,id:"27a493f7-b14d-40e8-8f51-878ed652d553",ship_id:1,terminal_time:"2023-01-10 05:15:03",lat:-5.538348,lng:104.573678,wind_speed:7.9,wind_direction:11.2,heading:304.8,distance:88715.09,depth:-31,cog:251.7,sog:0,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673328603e3,id:"f54bb566-292e-490c-883f-df6d70b3841b",ship_id:1,terminal_time:"2023-01-10 05:30:03",lat:-5.538438,lng:104.57369,wind_speed:6.2,wind_direction:11.2,heading:307.8,distance:88715.09,depth:-31.3,cog:246.1,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673329503e3,id:"31775419-f67f-4db4-a57d-40ae80fb1fee",ship_id:1,terminal_time:"2023-01-10 05:45:03",lat:-5.5385349999999995,lng:104.573568,wind_speed:7.7,wind_direction:11.2,heading:315.1,distance:88715.1,depth:-31.3,cog:246.9,sog:0,created_at:"2023-01-10 08:12:07",updated_at:"2023-01-10 08:12:07"},{time:1673330403e3,id:"2aa1b843-cd65-401d-ad7b-b8c474060a3b",ship_id:1,terminal_time:"2023-01-10 06:00:03",lat:-5.538448,lng:104.573675,wind_speed:6.9,wind_direction:11.2,heading:309.7,distance:88715.1,depth:-31.3,cog:337.6,sog:.1,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673331303e3,id:"8f037bb3-2b98-4249-ae83-9bb727b265b0",ship_id:1,terminal_time:"2023-01-10 06:15:03",lat:-5.538453,lng:104.573677,wind_speed:6.6,wind_direction:11.2,heading:306.4,distance:88715.11,depth:-31.3,cog:223.5,sog:.1,created_at:"2023-01-10 08:13:02",updated_at:"2023-01-10 08:13:02"},{time:1673332203e3,id:"bb7e96d9-62c3-4ce3-b7bf-c5d7c72c9df1",ship_id:1,terminal_time:"2023-01-10 06:30:03",lat:-5.53864,lng:104.573363,wind_speed:8.3,wind_direction:11.2,heading:3,distance:88715.12,depth:-31.6,cog:0,sog:0,created_at:"2023-01-10 08:13:13",updated_at:"2023-01-10 08:13:13"},{time:1673333103e3,id:"cac4d244-d1fb-4d6a-92ac-bdbe7da18de9",ship_id:1,terminal_time:"2023-01-10 06:45:03",lat:-5.53888,lng:104.573258,wind_speed:7.5,wind_direction:11.2,heading:334.3,distance:88715.12,depth:-31.6,cog:96.5,sog:.1,created_at:"2023-01-10 08:12:49",updated_at:"2023-01-10 08:12:49"},{time:1673334003e3,id:"ef0d6a02-a51d-43d6-ae22-41c8f4263f47",ship_id:1,terminal_time:"2023-01-10 07:00:03",lat:-5.538878,lng:104.573242,wind_speed:6.2,wind_direction:11.2,heading:336.8,distance:88715.12,depth:-31.6,cog:86.3,sog:0,created_at:"2023-01-10 08:12:40",updated_at:"2023-01-10 08:12:40"},{time:1673334903e3,id:"c8300c89-faab-4152-8194-a46bb0b19e3a",ship_id:1,terminal_time:"2023-01-10 07:15:03",lat:-5.538762,lng:104.573413,wind_speed:4.6,wind_direction:11.2,heading:322.3,distance:88715.12,depth:-31.6,cog:358.1,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673335803e3,id:"5ef47cf2-3be4-4288-b43d-2dfb23367dbd",ship_id:1,terminal_time:"2023-01-10 07:30:03",lat:-5.538867,lng:104.573397,wind_speed:5,wind_direction:11.2,heading:326.8,distance:88715.12,depth:-31.6,cog:229,sog:0,created_at:"2023-01-10 08:13:25",updated_at:"2023-01-10 08:13:25"},{time:1673336703e3,id:"c28bf5e0-d94c-4f83-8bfd-8cd79550a629",ship_id:1,terminal_time:"2023-01-10 07:45:03",lat:-5.538897,lng:104.573083,wind_speed:5.4,wind_direction:11.2,heading:341.4,distance:88715.13,depth:-32,cog:251.6,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673337608e3,id:"8170db59-e578-4892-80c4-85355054b0d1",ship_id:1,terminal_time:"2023-01-10 08:00:08",lat:-5.538908,lng:104.572883,wind_speed:3.6,wind_direction:11.2,heading:351.4,distance:88715.14,depth:-32,cog:316.1,sog:0,created_at:"2023-01-10 08:13:38",updated_at:"2023-01-10 08:13:38"},{time:1673338503e3,id:"32200fd0-ad31-4afc-86c6-0eae8d39b303",ship_id:1,terminal_time:"2023-01-10 08:15:03",lat:-5.538917,lng:104.572915,wind_speed:3.8,wind_direction:11.2,heading:351.1,distance:88715.14,depth:-32,cog:324.3,sog:0,created_at:"2023-01-10 08:15:05",updated_at:"2023-01-10 08:15:05"},{time:1673339403e3,id:"c3f39b55-e63f-47d2-9aeb-e7a3c11e6b6c",ship_id:1,terminal_time:"2023-01-10 08:30:03",lat:-5.538923,lng:104.572508,wind_speed:2.7,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:292.2,sog:.2,created_at:"2023-01-10 08:30:05",updated_at:"2023-01-10 08:30:05"},{time:1673340303e3,id:"0f1d7c32-e1b4-4223-813c-3bcb9ff99519",ship_id:1,terminal_time:"2023-01-10 08:45:03",lat:-5.538778,lng:104.5725,wind_speed:2.9,wind_direction:11.2,heading:13,distance:88715.16,depth:-33,cog:110.6,sog:.1,created_at:"2023-01-10 08:45:05",updated_at:"2023-01-10 08:45:05"},{time:1673341203e3,id:"514696b1-d5c1-4d56-ac70-c12912248928",ship_id:1,terminal_time:"2023-01-10 09:00:03",lat:-5.538873,lng:104.572512,wind_speed:2.1,wind_direction:11.2,heading:9.6,distance:88715.17,depth:-32,cog:61.8,sog:0,created_at:"2023-01-10 09:00:05",updated_at:"2023-01-10 09:00:05"},{time:1673342103e3,id:"bb13fd39-bf15-4e3f-9f37-7ba8e070e27b",ship_id:1,terminal_time:"2023-01-10 09:15:03",lat:-5.538902,lng:104.572612,wind_speed:.3,wind_direction:11.2,heading:1.6,distance:88715.18,depth:-32,cog:209.1,sog:0,created_at:"2023-01-10 09:15:06",updated_at:"2023-01-10 09:15:06"},{time:1673343003e3,id:"52799df0-4dda-42e4-ae26-5f9ecb2e1f35",ship_id:1,terminal_time:"2023-01-10 09:30:03",lat:-5.53877,lng:104.572458,wind_speed:.7,wind_direction:11.2,heading:13,distance:88715.19,depth:-31.6,cog:274.9,sog:0,created_at:"2023-01-10 09:30:04",updated_at:"2023-01-10 09:30:04"},{time:1673343903e3,id:"582eb540-8281-4f06-be77-4f020238e88e",ship_id:1,terminal_time:"2023-01-10 09:45:03",lat:-5.538838,lng:104.572397,wind_speed:.3,wind_direction:11.2,heading:17.9,distance:88715.2,depth:-32,cog:98.3,sog:0,created_at:"2023-01-10 09:45:04",updated_at:"2023-01-10 09:45:04"},{time:1673344803e3,id:"d018284e-96bc-40a5-afdf-706261c83173",ship_id:1,terminal_time:"2023-01-10 10:00:03",lat:-5.538725,lng:104.572233,wind_speed:1.7,wind_direction:11.2,heading:26,distance:88715.22,depth:-32,cog:289.9,sog:.2,created_at:"2023-01-10 10:00:05",updated_at:"2023-01-10 10:00:05"},{time:1673345703e3,id:"c7e76799-9152-4732-b4a8-78b81f78ecbb",ship_id:1,terminal_time:"2023-01-10 10:15:03",lat:-5.538707,lng:104.572228,wind_speed:1.5,wind_direction:11.2,heading:28.8,distance:88715.23,depth:-32,cog:295.6,sog:0,created_at:"2023-01-10 10:15:06",updated_at:"2023-01-10 10:15:06"},{time:1673346603e3,id:"5aa686e9-1f35-4d75-94e0-4b24e6575a96",ship_id:1,terminal_time:"2023-01-10 10:30:03",lat:-5.538782,lng:104.572288,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:115,sog:0,created_at:"2023-01-10 10:30:06",updated_at:"2023-01-10 10:30:06"},{time:1673347503e3,id:"4980bff8-4764-4dad-81cb-0f47d3ebeddc",ship_id:1,terminal_time:"2023-01-10 10:45:03",lat:-5.538625,lng:104.572078,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:306.6,sog:.1,created_at:"2023-01-11 08:19:01",updated_at:"2023-01-11 08:19:01"},{time:1673348403e3,id:"04b85d97-df61-4c7c-9ca5-fadbac1226ee",ship_id:1,terminal_time:"2023-01-10 11:00:03",lat:-5.538578,lng:104.572077,wind_speed:2.7,wind_direction:11.2,heading:40.3,distance:88715.28,depth:-33,cog:99.9,sog:.1,created_at:"2023-01-11 08:09:51",updated_at:"2023-01-11 08:09:51"},{time:1673349303e3,id:"a246a336-7d32-4004-9c36-0669444bfb5f",ship_id:1,terminal_time:"2023-01-10 11:15:03",lat:-5.538568,lng:104.57207,wind_speed:3.3,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:307.3,sog:.1,created_at:"2023-01-11 08:59:53",updated_at:"2023-01-11 08:59:53"},{time:1673350203e3,id:"7a34bddb-396b-42bc-8b79-427c5236a76f",ship_id:1,terminal_time:"2023-01-10 11:30:03",lat:-5.538305,lng:104.57185,wind_speed:6.8,wind_direction:88.6,heading:59.8,distance:88715.33,depth:-31.6,cog:9.6,sog:.1,created_at:"2023-01-11 09:18:11",updated_at:"2023-01-11 09:18:11"},{time:1673351103e3,id:"d9220e3e-bbc0-4395-bf55-bf94ebcd524d",ship_id:1,terminal_time:"2023-01-10 11:45:03",lat:-5.537692,lng:104.571797,wind_speed:9.7,wind_direction:116.8,heading:95.5,distance:88715.36,depth:-31.6,cog:26,sog:.3,created_at:"2023-01-11 08:23:10",updated_at:"2023-01-11 08:23:10"},{time:1673352003e3,id:"8a8a13ef-e698-438c-930f-49ec0bb09f63",ship_id:1,terminal_time:"2023-01-10 12:00:03",lat:-5.537127,lng:104.571998,wind_speed:11.2,wind_direction:109.8,heading:122.7,distance:88715.36,depth:-31.6,cog:26.7,sog:.3,created_at:"2023-01-11 09:34:41",updated_at:"2023-01-11 09:34:41"},{time:1673352903e3,id:"229984b5-6b7d-4e00-9a08-4206488dca9d",ship_id:1,terminal_time:"2023-01-10 12:15:03",lat:-5.536328,lng:104.573425,wind_speed:14.9,wind_direction:56.3,heading:188.4,distance:88715.37,depth:-31,cog:121.6,sog:.5,created_at:"2023-01-11 08:16:13",updated_at:"2023-01-11 08:16:13"},{time:1673353803e3,id:"6a965009-1ee6-44b6-9d4a-a8749a1c4dd8",ship_id:1,terminal_time:"2023-01-10 12:30:03",lat:-5.536405,lng:104.573513,wind_speed:17.6,wind_direction:54.9,heading:199.6,distance:88715.39,depth:-31,cog:328,sog:.3,created_at:"2023-01-11 10:05:28",updated_at:"2023-01-11 10:05:28"},{time:1673354703e3,id:"13b5ce26-e32d-45b6-9906-297e9012334b",ship_id:1,terminal_time:"2023-01-10 12:45:03",lat:-5.536357,lng:104.573753,wind_speed:19.2,wind_direction:43.6,heading:197.7,distance:88715.4,depth:-30.6,cog:289.1,sog:.2,created_at:"2023-01-11 08:18:32",updated_at:"2023-01-11 08:18:32"},{time:1673355603e3,id:"ecda7f05-7d69-4f20-bcb7-310ce62047a6",ship_id:1,terminal_time:"2023-01-10 13:00:03",lat:-5.536677,lng:104.574085,wind_speed:20.4,wind_direction:43.6,heading:215.3,distance:88715.42,depth:-31,cog:95.7,sog:.1,created_at:"2023-01-11 08:16:09",updated_at:"2023-01-11 08:16:09"},{time:1673356503e3,id:"67d9e2e8-6850-45c7-a608-0f6f3750adf7",ship_id:1,terminal_time:"2023-01-10 13:15:03",lat:-5.536792,lng:104.574192,wind_speed:15.9,wind_direction:33.6,heading:225.5,distance:88715.43,depth:-31.3,cog:209.7,sog:.1,created_at:"2023-01-11 09:28:23",updated_at:"2023-01-11 09:28:23"},{time:1673357403e3,id:"7c6d8e6c-0652-4c08-9c17-13466996bfa9",ship_id:1,terminal_time:"2023-01-10 13:30:03",lat:-5.536822,lng:104.574207,wind_speed:14.1,wind_direction:32.3,heading:224.4,distance:88715.45,depth:-31,cog:109.6,sog:.1,created_at:"2023-01-11 08:01:23",updated_at:"2023-01-11 08:01:23"},{time:1673358303e3,id:"f71a5fe4-a992-470c-87d5-901a98539cd8",ship_id:1,terminal_time:"2023-01-10 13:45:03",lat:-5.536855,lng:104.574237,wind_speed:11.6,wind_direction:50.6,heading:220.9,distance:88715.47,depth:-31,cog:99.8,sog:.1,created_at:"2023-01-11 08:59:38",updated_at:"2023-01-11 08:59:38"},{time:1673359203e3,id:"bdb096b3-a7b1-479a-bef5-ea8f3b003506",ship_id:1,terminal_time:"2023-01-10 14:00:03",lat:-5.537295,lng:104.574445,wind_speed:15.5,wind_direction:21,heading:249.2,distance:88715.48,depth:-31,cog:132.1,sog:.1,created_at:"2023-01-11 08:44:42",updated_at:"2023-01-11 08:44:42"},{time:1673360103e3,id:"19bccdc4-4e82-4152-b765-cba9d3cdc2fb",ship_id:1,terminal_time:"2023-01-10 14:15:03",lat:-5.537357,lng:104.574448,wind_speed:20.9,wind_direction:15.4,heading:253.6,distance:88715.49,depth:-31,cog:25,sog:.1,created_at:"2023-01-11 09:05:09",updated_at:"2023-01-11 09:05:09"},{time:1673361003e3,id:"9545fd94-a3ad-4016-bbd4-072cc971b7b4",ship_id:1,terminal_time:"2023-01-10 14:30:03",lat:-5.537183,lng:104.574422,wind_speed:15.3,wind_direction:21,heading:243.8,distance:88715.51,depth:-31,cog:317.2,sog:.2,created_at:"2023-01-11 08:05:43",updated_at:"2023-01-11 08:05:43"},{time:1673361903e3,id:"775ad8f3-7486-4dda-8b7b-a41720291bd7",ship_id:1,terminal_time:"2023-01-10 14:45:03",lat:-5.537147,lng:104.574497,wind_speed:20,wind_direction:11.2,heading:243.4,distance:88715.53,depth:-31,cog:18.5,sog:.1,created_at:"2023-01-11 08:54:04",updated_at:"2023-01-11 08:54:04"},{time:1673362803e3,id:"83abeb04-acff-403c-9cc5-7fb61c8448d9",ship_id:1,terminal_time:"2023-01-10 15:00:03",lat:-5.537225,lng:104.574413,wind_speed:14.5,wind_direction:21,heading:243.4,distance:88715.56,depth:-31,cog:321.2,sog:.1,created_at:"2023-01-11 09:13:01",updated_at:"2023-01-11 09:13:01"},{time:1673363703e3,id:"acaa3bc0-f391-4ec9-8168-4d6ebc980f12",ship_id:1,terminal_time:"2023-01-10 15:15:03",lat:-5.537107,lng:104.574492,wind_speed:19,wind_direction:9.7,heading:243.3,distance:88715.58,depth:-31,cog:319.3,sog:.2,created_at:"2023-01-11 10:25:25",updated_at:"2023-01-11 10:25:25"},{time:1673364603e3,id:"83580a71-bc32-40ba-a819-59e1591bae49",ship_id:1,terminal_time:"2023-01-10 15:30:03",lat:-5.537295,lng:104.574417,wind_speed:18.8,wind_direction:26.7,heading:237.1,distance:88715.61,depth:-31,cog:72.7,sog:.2,created_at:"2023-01-11 08:24:04",updated_at:"2023-01-11 08:24:04"},{time:1673365503e3,id:"d107598f-b613-40ad-80e8-f021392d01a3",ship_id:1,terminal_time:"2023-01-10 15:45:03",lat:-5.53849,lng:104.561972,wind_speed:19.2,wind_direction:8.4,heading:266.7,distance:88716.39,depth:-35.6,cog:265.4,sog:2.8,created_at:"2023-01-11 09:19:29",updated_at:"2023-01-11 09:19:29"},{time:1673366403e3,id:"859441a4-aad6-4ebd-aa8e-4a8578c5526d",ship_id:1,terminal_time:"2023-01-10 16:00:03",lat:-5.541455,lng:104.560142,wind_speed:10.8,wind_direction:0,heading:260.5,distance:88716.58,depth:-41.3,cog:93.6,sog:.4,created_at:"2023-01-11 09:56:23",updated_at:"2023-01-11 09:56:23"},{time:1673367303e3,id:"28c5590a-1222-4129-b1f8-464f4a1ab33d",ship_id:1,terminal_time:"2023-01-10 16:15:03",lat:-5.542728,lng:104.560063,wind_speed:15.9,wind_direction:315.3,heading:0,distance:0,depth:-42,cog:203.9,sog:.3,created_at:"2023-01-11 08:16:55",updated_at:"2023-01-11 08:16:55"},{time:1673368203e3,id:"9331e12a-800b-44a4-8481-ef5423926243",ship_id:1,terminal_time:"2023-01-10 16:30:03",lat:-5.54335,lng:104.559467,wind_speed:14.7,wind_direction:336.4,heading:316.8,distance:88716.61,depth:-42,cog:326.5,sog:.1,created_at:"2023-01-11 09:02:06",updated_at:"2023-01-11 09:02:06"},{time:1673369413e3,id:"b6c2fdc4-0a36-412f-97b3-e19f5f1b754e",ship_id:1,terminal_time:"2023-01-10 16:50:13",lat:-5.54225,lng:104.560177,wind_speed:7.9,wind_direction:16.8,heading:280.8,distance:88716.63,depth:-41.6,cog:348.4,sog:.2,created_at:"2023-01-11 08:36:51",updated_at:"2023-01-11 08:36:51"},{time:1673370003e3,id:"88544c71-07ec-47a3-9425-83443bf1543f",ship_id:1,terminal_time:"2023-01-10 17:00:03",lat:-5.541955,lng:104.560087,wind_speed:12,wind_direction:9.7,heading:270.3,distance:88716.64,depth:-41.6,cog:5.6,sog:.2,created_at:"2023-01-11 09:17:54",updated_at:"2023-01-11 09:17:54"},{time:1673370903e3,id:"0439c29f-90b9-48cc-bec9-af020ee12223",ship_id:1,terminal_time:"2023-01-10 17:15:03",lat:-5.54169,lng:104.560058,wind_speed:8.1,wind_direction:32.3,heading:260.5,distance:88716.65,depth:-41.6,cog:309,sog:.2,created_at:"2023-01-11 10:17:44",updated_at:"2023-01-11 10:17:44"},{time:1673371803e3,id:"5d8047ae-778e-4dae-b543-c5d312c91b89",ship_id:1,terminal_time:"2023-01-10 17:30:03",lat:-5.541797,lng:104.560018,wind_speed:10.4,wind_direction:43.6,heading:258.3,distance:88716.67,depth:-42,cog:106.2,sog:.2,created_at:"2023-01-11 09:22:34",updated_at:"2023-01-11 09:22:34"},{time:1673372703e3,id:"90fec783-94f4-4620-879e-cfd5bf0f9b98",ship_id:1,terminal_time:"2023-01-10 17:45:03",lat:-5.542028,lng:104.560158,wind_speed:7.7,wind_direction:32.3,heading:273,distance:88716.67,depth:-41.6,cog:229.3,sog:.1,created_at:"2023-01-11 09:13:40",updated_at:"2023-01-11 09:13:40"},{time:1673373603e3,id:"925227d5-1685-4efc-8d4d-07ee45b665cb",ship_id:1,terminal_time:"2023-01-10 18:00:03",lat:-5.542407,lng:104.559988,wind_speed:4.6,wind_direction:49.1,heading:282.2,distance:88716.68,depth:-42,cog:194,sog:.1,created_at:"2023-01-11 09:36:51",updated_at:"2023-01-11 09:36:51"},{time:1673374503e3,id:"2c1746d2-52ed-4878-96e6-c5bcb5e15f57",ship_id:1,terminal_time:"2023-01-10 18:15:03",lat:-5.542953,lng:104.559968,wind_speed:4.8,wind_direction:45,heading:303.8,distance:88716.69,depth:-42.3,cog:184.6,sog:.1,created_at:"2023-01-11 09:53:35",updated_at:"2023-01-11 09:53:35"},{time:1673375403e3,id:"458bc847-49b8-4103-b441-5b85070c4a26",ship_id:1,terminal_time:"2023-01-10 18:30:03",lat:-5.54319,lng:104.559698,wind_speed:8.1,wind_direction:26.7,heading:317.6,distance:88716.71,depth:-42.3,cog:259,sog:.2,created_at:"2023-01-11 10:41:12",updated_at:"2023-01-11 10:41:12"},{time:1673376303e3,id:"7a04d24c-562e-4260-8524-122266d76b5d",ship_id:1,terminal_time:"2023-01-10 18:45:03",lat:-5.543392,lng:104.559572,wind_speed:6.8,wind_direction:353.3,heading:326.9,distance:88716.71,depth:-42.3,cog:198.2,sog:.1,created_at:"2023-01-11 10:01:54",updated_at:"2023-01-11 10:01:54"},{time:1673377203e3,id:"4914b017-1b9f-4f4b-a291-d9b6bf8ecccd",ship_id:1,terminal_time:"2023-01-10 19:00:03",lat:-5.54358,lng:104.559465,wind_speed:4.2,wind_direction:359,heading:335.6,distance:88716.71,depth:-42.6,cog:264.1,sog:.1,created_at:"2023-01-11 10:59:54",updated_at:"2023-01-11 10:59:54"},{time:1673378108e3,id:"b76818db-b6a8-430f-a64e-55aacb30bd1e",ship_id:1,terminal_time:"2023-01-10 19:15:08",lat:-5.54346,lng:104.559573,wind_speed:9.3,wind_direction:282.9,heading:336.1,distance:88716.71,depth:-42.6,cog:86,sog:.2,created_at:"2023-01-11 10:54:48",updated_at:"2023-01-11 10:54:48"},{time:1673379003e3,id:"b72a0185-3cac-4028-be33-d0d9cf496a5b",ship_id:1,terminal_time:"2023-01-10 19:30:03",lat:-5.5430150000000005,lng:104.559922,wind_speed:7.3,wind_direction:325.1,heading:311.5,distance:88716.72,depth:-42.3,cog:21.5,sog:.1,created_at:"2023-01-11 10:48:56",updated_at:"2023-01-11 10:48:56"},{time:1673379903e3,id:"00de7ba1-da7b-4f09-b03d-b1e05711ac14",ship_id:1,terminal_time:"2023-01-10 19:45:03",lat:-5.542545,lng:104.560115,wind_speed:7.9,wind_direction:354.6,heading:294.8,distance:88716.73,depth:-42.3,cog:19.6,sog:0,created_at:"2023-01-11 10:06:49",updated_at:"2023-01-11 10:06:49"},{time:1673380803e3,id:"bb4f09cd-d3ea-4bd7-8b43-631d7492bd52",ship_id:1,terminal_time:"2023-01-10 20:00:03",lat:-5.542382,lng:104.560208,wind_speed:12,wind_direction:347.6,heading:289,distance:88716.74,depth:-42.3,cog:354.6,sog:.1,created_at:"2023-01-11 10:02:10",updated_at:"2023-01-11 10:02:10"},{time:1673381703e3,id:"3214b99f-8371-483a-b938-aa3c97e21d86",ship_id:1,terminal_time:"2023-01-10 20:15:03",lat:-5.541937,lng:104.560167,wind_speed:10.4,wind_direction:359,heading:274,distance:88716.75,depth:-42.3,cog:354.7,sog:.1,created_at:"2023-01-11 10:43:38",updated_at:"2023-01-11 10:43:38"},{time:1673382603e3,id:"4ac048c2-864d-4e5c-b5d3-f9bf5206d98e",ship_id:1,terminal_time:"2023-01-10 20:30:03",lat:-5.541728,lng:104.560092,wind_speed:8.1,wind_direction:354.6,heading:267.6,distance:88716.75,depth:-42.3,cog:222.1,sog:0,created_at:"2023-01-11 11:15:05",updated_at:"2023-01-11 11:15:05"},{time:1673383503e3,id:"8149de7d-77d9-48e1-a53d-b6433e2f73d2",ship_id:1,terminal_time:"2023-01-10 20:45:03",lat:-5.541787,lng:104.56018,wind_speed:4.6,wind_direction:9.7,heading:265.9,distance:88716.76,depth:-42.3,cog:317,sog:.1,created_at:"2023-01-11 10:35:19",updated_at:"2023-01-11 10:35:19"},{time:1673384403e3,id:"2923b743-662d-4062-b187-ceeae60b90df",ship_id:1,terminal_time:"2023-01-10 21:00:03",lat:-5.541892,lng:104.55998,wind_speed:5.6,wind_direction:9.7,heading:268,distance:88716.78,depth:-42.3,cog:194,sog:.1,created_at:"2023-01-11 10:29:27",updated_at:"2023-01-11 10:29:27"},{time:1673385303e3,id:"6c1036d6-44a0-425b-8658-9db0c3ed493d",ship_id:1,terminal_time:"2023-01-10 21:15:03",lat:-5.542145,lng:104.56009,wind_speed:4,wind_direction:21,heading:277.4,distance:88716.79,depth:-42.6,cog:260.7,sog:.1,created_at:"2023-01-11 11:25:52",updated_at:"2023-01-11 11:25:52"},{time:1673386203e3,id:"6368e190-3bdc-4221-bff8-71d5bb0a3ca7",ship_id:1,terminal_time:"2023-01-10 21:30:03",lat:-5.542302,lng:104.560052,wind_speed:6.2,wind_direction:11.7,heading:285.8,distance:88716.79,depth:-42.6,cog:164.1,sog:0,created_at:"2023-01-11 11:21:34",updated_at:"2023-01-11 11:21:34"},{time:1673387103e3,id:"fc0088a3-893d-4fe4-bfe7-30679fbca91e",ship_id:1,terminal_time:"2023-01-10 21:45:03",lat:-5.542138,lng:104.560253,wind_speed:10.3,wind_direction:336.4,heading:286,distance:88716.8,depth:-42.3,cog:14.8,sog:.2,created_at:"2023-01-11 11:19:10",updated_at:"2023-01-11 11:19:10"},{time:1673388003e3,id:"71be65de-7a90-43dd-81c8-39b9fef2c290",ship_id:1,terminal_time:"2023-01-10 22:00:03",lat:-5.54161,lng:104.559828,wind_speed:2.7,wind_direction:336.4,heading:262.8,distance:88716.82,depth:-42,cog:266.4,sog:.1,created_at:"2023-01-11 10:57:14",updated_at:"2023-01-11 10:57:14"},{time:1673388908e3,id:"e42797d0-df06-4807-ab76-c37418dcfe02",ship_id:1,terminal_time:"2023-01-10 22:15:08",lat:-5.541503,lng:104.55974,wind_speed:6.6,wind_direction:336.4,heading:252.5,distance:88716.83,depth:-42,cog:14.8,sog:.1,created_at:"2023-01-11 11:11:30",updated_at:"2023-01-11 11:11:30"},{time:1673389803e3,id:"eee442cb-4b9b-47a6-9d4d-b678c812444b",ship_id:1,terminal_time:"2023-01-10 22:30:03",lat:-5.54109,lng:104.560015,wind_speed:12,wind_direction:16.8,heading:246.5,distance:88716.84,depth:-41.6,cog:347.3,sog:.1,created_at:"2023-01-11 11:10:12",updated_at:"2023-01-11 11:10:12"},{time:1673390703e3,id:"e4a937de-d12c-4530-90a5-f64aa8f75f72",ship_id:1,terminal_time:"2023-01-10 22:45:03",lat:-5.541293,lng:104.559667,wind_speed:2.7,wind_direction:43.6,heading:245.7,distance:88716.86,depth:-42,cog:209.6,sog:.1,created_at:"2023-01-11 11:04:22",updated_at:"2023-01-11 11:04:22"},{time:1673391698e3,id:"68a3ef72-960a-4387-8aa6-5b66611fe0a2",ship_id:1,terminal_time:"2023-01-10 23:01:38",lat:-5.541548,lng:104.559765,wind_speed:3.4,wind_direction:49.1,heading:0,distance:0,depth:-41.6,cog:134.3,sog:.1,created_at:"2023-01-11 11:39:16",updated_at:"2023-01-11 11:39:16"},{time:1673392503e3,id:"089eb567-2b29-41e9-9781-9030e190f220",ship_id:1,terminal_time:"2023-01-10 23:15:03",lat:-5.54197,lng:104.560077,wind_speed:4.2,wind_direction:56.3,heading:271.4,distance:88716.87,depth:-42,cog:164.7,sog:.2,created_at:"2023-01-11 11:30:13",updated_at:"2023-01-11 11:30:13"},{time:1673393403e3,id:"63129a87-03cc-4ede-ba2d-91ee71078d8a",ship_id:1,terminal_time:"2023-01-10 23:30:03",lat:-5.542198,lng:104.5601,wind_speed:2.3,wind_direction:43.5,heading:286,distance:88716.87,depth:-42,cog:207.2,sog:.1,created_at:"2023-01-11 11:43:42",updated_at:"2023-01-11 11:43:42"},{time:1673394303e3,id:"4aaecec9-7db3-489d-9e3f-9027a0451a1d",ship_id:1,terminal_time:"2023-01-10 23:45:03",lat:-5.542232,lng:104.56008,wind_speed:2.5,wind_direction:357.5,heading:289.4,distance:88716.87,depth:-42,cog:172.7,sog:.1,created_at:"2023-01-11 11:30:30",updated_at:"2023-01-11 11:30:30"},{time:1673395203e3,id:"5e443c1f-a779-458b-923d-d79b8bdb2950",ship_id:1,terminal_time:"2023-01-11 00:00:03",lat:-5.542575,lng:104.559993,wind_speed:4.2,wind_direction:49.1,heading:295.9,distance:88716.87,depth:-42,cog:178.8,sog:.1,created_at:"2023-01-11 11:20:30",updated_at:"2023-01-11 11:20:30"},{time:1673478415e3,id:"3a27a298-8266-41ea-83c2-1fa693ef93a8",ship_id:1,terminal_time:"2023-01-11 23:06:55",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:.1,created_at:"2023-01-12 08:00:07",updated_at:"2023-01-12 08:00:07"},{time:1673482021e3,id:"301c2657-23af-4610-8577-1267f195a1c7",ship_id:1,terminal_time:"2023-01-12 00:07:01",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:0,created_at:"2023-01-12 08:00:10",updated_at:"2023-01-12 08:00:10"},{time:1673482501e3,id:"ffe5c699-e3bc-4273-a0ff-33499003b397",ship_id:1,terminal_time:"2023-01-12 00:15:01",lat:-5.919605,lng:106.00021,wind_speed:12.8,wind_direction:212.5,heading:31.1,distance:88812.61,depth:-4,cog:295.9,sog:0,created_at:"2023-01-12 08:01:25",updated_at:"2023-01-12 08:01:25"},{time:1673483401e3,id:"95be2e54-e93e-4fe2-a470-028106f4827b",ship_id:1,terminal_time:"2023-01-12 00:30:01",lat:-5.919602,lng:106.000222,wind_speed:15.1,wind_direction:219.6,heading:31,distance:88812.61,depth:-4,cog:107.8,sog:0,created_at:"2023-01-12 08:00:38",updated_at:"2023-01-12 08:00:38"},{time:1673484301e3,id:"62eb058f-ab11-46fc-8990-a9da9a055cae",ship_id:1,terminal_time:"2023-01-12 00:45:01",lat:-5.91959,lng:106.00022,wind_speed:19.6,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-4,cog:126.6,sog:0,created_at:"2023-01-12 08:02:17",updated_at:"2023-01-12 08:02:17"},{time:1673485201e3,id:"db170fcf-5c04-48b1-8b3e-1ea1a747de17",ship_id:1,terminal_time:"2023-01-12 01:00:01",lat:-5.919602,lng:106.000213,wind_speed:14.1,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-3.6,cog:121.9,sog:0,created_at:"2023-01-12 08:03:00",updated_at:"2023-01-12 08:03:00"},{time:1673486101e3,id:"53202233-3f20-46fc-b124-4e5b880022cc",ship_id:1,terminal_time:"2023-01-12 01:15:01",lat:-5.919595,lng:106.00023,wind_speed:20.4,wind_direction:204,heading:31.2,distance:88812.61,depth:-3.6,cog:137,sog:.1,created_at:"2023-01-12 08:03:40",updated_at:"2023-01-12 08:03:40"},{time:1673487001e3,id:"f2ad03cf-9317-4535-884b-21401f965fa1",ship_id:1,terminal_time:"2023-01-12 01:30:01",lat:-5.91957,lng:106.000213,wind_speed:16.1,wind_direction:206.9,heading:31.6,distance:88812.62,depth:-3.6,cog:312.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673487901e3,id:"1717eafe-2674-4fab-ac02-c130433596ce",ship_id:1,terminal_time:"2023-01-12 01:45:01",lat:-5.919583,lng:106.000232,wind_speed:16.9,wind_direction:208.3,heading:31.3,distance:88812.62,depth:-3.6,cog:280.3,sog:.1,created_at:"2023-01-12 08:00:28",updated_at:"2023-01-12 08:00:28"},{time:1673488801e3,id:"a257ae15-7b7d-4982-9e0a-7d65c7724a0b",ship_id:1,terminal_time:"2023-01-12 02:00:01",lat:-5.919518,lng:106.000213,wind_speed:19.2,wind_direction:213.9,heading:30.9,distance:88812.62,depth:-3.6,cog:303.5,sog:0,created_at:"2023-01-12 08:02:13",updated_at:"2023-01-12 08:02:13"},{time:1673489701e3,id:"e16c56d6-2d75-447e-9552-8e9dc5c89d17",ship_id:1,terminal_time:"2023-01-12 02:15:01",lat:-5.919577,lng:106.000232,wind_speed:20,wind_direction:212.5,heading:31.1,distance:88812.63,depth:-3.6,cog:310.5,sog:.1,created_at:"2023-01-12 08:01:35",updated_at:"2023-01-12 08:01:35"},{time:1673490601e3,id:"f19c3f20-ab29-457b-939a-1b258e8f55ad",ship_id:1,terminal_time:"2023-01-12 02:30:01",lat:-5.919567,lng:106.000248,wind_speed:19,wind_direction:212.1,heading:31.2,distance:88812.64,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:00:48",updated_at:"2023-01-12 08:00:48"},{time:1673491501e3,id:"36399975-75a1-4ae4-9944-fe85dc14f62b",ship_id:1,terminal_time:"2023-01-12 02:45:01",lat:-5.919593,lng:106.000235,wind_speed:14.9,wind_direction:202.7,heading:31.2,distance:88812.65,depth:-3.3,cog:331.5,sog:.1,created_at:"2023-01-12 08:02:40",updated_at:"2023-01-12 08:02:40"},{time:1673492401e3,id:"85c19f34-0992-4c6f-b7dc-db0b624a306b",ship_id:1,terminal_time:"2023-01-12 03:00:01",lat:-5.919592,lng:106.00023,wind_speed:17.6,wind_direction:209.2,heading:31.2,distance:88812.66,depth:-3.3,cog:99.6,sog:0,created_at:"2023-01-12 08:03:12",updated_at:"2023-01-12 08:03:12"},{time:1673493301e3,id:"c778fd18-b2e6-4009-9e52-6cb03b3fa5f9",ship_id:1,terminal_time:"2023-01-12 03:15:01",lat:-5.919595,lng:106.00021,wind_speed:18.4,wind_direction:206.9,heading:31.1,distance:88812.67,depth:-3.3,cog:304.7,sog:.1,created_at:"2023-01-12 08:03:47",updated_at:"2023-01-12 08:03:47"},{time:1673494201e3,id:"6475c752-084a-474b-83f3-ed822b2ccb81",ship_id:1,terminal_time:"2023-01-12 03:30:01",lat:-5.919612,lng:106.000213,wind_speed:17.6,wind_direction:213.9,heading:31,distance:88812.68,depth:-3.3,cog:294.5,sog:.1,created_at:"2023-01-12 08:01:24",updated_at:"2023-01-12 08:01:24"},{time:1673495101e3,id:"a56d58a7-c4ba-4709-923b-545fd0a68e23",ship_id:1,terminal_time:"2023-01-12 03:45:01",lat:-5.919602,lng:106.000232,wind_speed:17.4,wind_direction:201.2,heading:31.3,distance:88812.68,depth:-3.3,cog:257.4,sog:0,created_at:"2023-01-12 08:04:20",updated_at:"2023-01-12 08:04:20"},{time:1673496001e3,id:"cac79e4a-e15d-4f75-9273-d5e24645053e",ship_id:1,terminal_time:"2023-01-12 04:00:01",lat:-5.919602,lng:106.000252,wind_speed:15.3,wind_direction:213.9,heading:0,distance:0,depth:-3.3,cog:307.2,sog:.1,created_at:"2023-01-12 08:04:10",updated_at:"2023-01-12 08:04:10"},{time:1673496901e3,id:"3dfb8e71-93a9-4d4f-8965-013575f61a35",ship_id:1,terminal_time:"2023-01-12 04:15:01",lat:-5.919607,lng:106.000238,wind_speed:20.2,wind_direction:206.7,heading:31.3,distance:88812.68,depth:-3.3,cog:150.8,sog:.1,created_at:"2023-01-12 08:04:45",updated_at:"2023-01-12 08:04:45"},{time:1673497801e3,id:"0f7d7540-fe75-45e0-9a30-635c7128b620",ship_id:1,terminal_time:"2023-01-12 04:30:01",lat:-5.919607,lng:106.000257,wind_speed:15.9,wind_direction:206.9,heading:31,distance:88812.68,depth:-3.3,cog:149.1,sog:0,created_at:"2023-01-12 08:02:03",updated_at:"2023-01-12 08:02:03"},{time:1673498701e3,id:"f21a660b-dcfa-4b13-9856-215ab031fb29",ship_id:1,terminal_time:"2023-01-12 04:45:01",lat:-5.919532,lng:106.000253,wind_speed:18,wind_direction:206.9,heading:0,distance:0,depth:-3.3,cog:196,sog:0,created_at:"2023-01-12 08:03:57",updated_at:"2023-01-12 08:03:57"},{time:1673499601e3,id:"67284bea-ac4f-4fcb-be3d-67fb96501e12",ship_id:1,terminal_time:"2023-01-12 05:00:01",lat:-5.919563,lng:106.000252,wind_speed:12.8,wind_direction:206.9,heading:31.1,distance:88812.69,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:02:05",updated_at:"2023-01-12 08:02:05"},{time:1673500501e3,id:"903255da-a46b-4560-be6f-54121a35e9d4",ship_id:1,terminal_time:"2023-01-12 05:15:01",lat:-5.919592,lng:106.00022,wind_speed:14.7,wind_direction:208.3,heading:31.2,distance:88812.69,depth:-3.3,cog:317.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673501401e3,id:"d15302d5-c880-455f-8e84-b63f78532405",ship_id:1,terminal_time:"2023-01-12 05:30:01",lat:-5.919553,lng:106.000257,wind_speed:14.1,wind_direction:206.9,heading:31.3,distance:88812.69,depth:-3.3,cog:85.3,sog:0,created_at:"2023-01-12 08:00:36",updated_at:"2023-01-12 08:00:36"},{time:1673502301e3,id:"6964957b-d44f-4ccd-9711-139c0f5321a6",ship_id:1,terminal_time:"2023-01-12 05:45:01",lat:-5.919598,lng:106.000232,wind_speed:12.4,wind_direction:213.9,heading:31,distance:88812.7,depth:-3.3,cog:71.8,sog:0,created_at:"2023-01-12 08:02:19",updated_at:"2023-01-12 08:02:19"},{time:1673503261e3,id:"9e325986-7d1b-4135-ba31-922a70ec7621",ship_id:1,terminal_time:"2023-01-12 06:01:01",lat:-5.919563,lng:106.000245,wind_speed:16.9,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:45.2,sog:0,created_at:"2023-01-12 08:04:33",updated_at:"2023-01-12 08:04:33"},{time:1673504101e3,id:"91e1667b-13ee-4042-b227-58b06be13ccd",ship_id:1,terminal_time:"2023-01-12 06:15:01",lat:-5.919573,lng:106.00022,wind_speed:6.6,wind_direction:213.9,heading:31.3,distance:88812.7,depth:-3.3,cog:144.5,sog:0,created_at:"2023-01-12 08:01:32",updated_at:"2023-01-12 08:01:32"},{time:1673505006e3,id:"8fbb2278-d875-4905-87a7-36e16bdc5d08",ship_id:1,terminal_time:"2023-01-12 06:30:06",lat:-5.919547,lng:106.00019,wind_speed:14.1,wind_direction:219.6,heading:31.1,distance:88812.7,depth:-3.3,cog:129.1,sog:0,created_at:"2023-01-12 08:03:24",updated_at:"2023-01-12 08:03:24"},{time:1673505901e3,id:"6dd47699-6d9e-4f4e-b03f-b3c7c179d628",ship_id:1,terminal_time:"2023-01-12 06:45:01",lat:-5.919567,lng:106.000218,wind_speed:11.2,wind_direction:206.9,heading:31.2,distance:88812.7,depth:-3.3,cog:302.6,sog:0,created_at:"2023-01-12 08:04:14",updated_at:"2023-01-12 08:04:14"},{time:1673506801e3,id:"e6b66228-a386-4585-8b24-beb353ada5df",ship_id:1,terminal_time:"2023-01-12 07:00:01",lat:-5.919573,lng:106.000242,wind_speed:13.8,wind_direction:212.5,heading:31.2,distance:88812.7,depth:-3.3,cog:130,sog:0,created_at:"2023-01-12 08:03:33",updated_at:"2023-01-12 08:03:33"},{time:1673507701e3,id:"87faa350-6df1-4360-a4a2-280d812558f8",ship_id:1,terminal_time:"2023-01-12 07:15:01",lat:-5.919583,lng:106.000195,wind_speed:11.2,wind_direction:201.2,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:04:40",updated_at:"2023-01-12 08:04:40"},{time:1673508601e3,id:"9e3f7764-a732-42a0-94c3-1c0493a43105",ship_id:1,terminal_time:"2023-01-12 07:30:01",lat:-5.919588,lng:106.000215,wind_speed:11,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.3,cog:125.7,sog:0,created_at:"2023-01-12 08:04:34",updated_at:"2023-01-12 08:04:34"},{time:1673509501e3,id:"c0d5821b-d4a0-469d-a793-634ffbcb381f",ship_id:1,terminal_time:"2023-01-12 07:45:01",lat:-5.919593,lng:106.000222,wind_speed:16.1,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:03:50",updated_at:"2023-01-12 08:03:50"},{time:1673510406e3,id:"5bcbfbf1-6af1-45d4-9e4f-3f756ee3de58",ship_id:1,terminal_time:"2023-01-12 08:00:06",lat:-5.9196,lng:106.000238,wind_speed:10.8,wind_direction:215.4,heading:31,distance:88812.7,depth:-3.3,cog:117.8,sog:.1,created_at:"2023-01-12 08:04:56",updated_at:"2023-01-12 08:04:56"},{time:1673511301e3,id:"7d090cd0-aba9-42b6-bbe9-1f253ee7093b",ship_id:1,terminal_time:"2023-01-12 08:15:01",lat:-5.919602,lng:106.000217,wind_speed:12.2,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.6,cog:92.7,sog:.1,created_at:"2023-01-12 08:15:05",updated_at:"2023-01-12 08:15:05"},{time:1673512201e3,id:"fc753b87-6977-4e80-b90b-05dc877e04c3",ship_id:1,terminal_time:"2023-01-12 08:30:01",lat:-5.919598,lng:106.000233,wind_speed:15.5,wind_direction:215.4,heading:31.1,distance:88812.71,depth:-3.6,cog:134.1,sog:0,created_at:"2023-01-12 08:30:04",updated_at:"2023-01-12 08:30:04"},{time:1673513101e3,id:"15468c4d-66ad-44c5-8692-70c97eca048f",ship_id:1,terminal_time:"2023-01-12 08:45:01",lat:-5.919635,lng:106.00023,wind_speed:13.8,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:105.9,sog:.1,created_at:"2023-01-12 08:45:04",updated_at:"2023-01-12 08:45:04"},{time:1673514001e3,id:"ebc3bf69-1d1f-495a-b4a4-9c32c0ed598d",ship_id:1,terminal_time:"2023-01-12 09:00:01",lat:-5.919602,lng:106.000208,wind_speed:15.5,wind_direction:212,heading:31.2,distance:88812.71,depth:-3.6,cog:112.4,sog:0,created_at:"2023-01-12 09:00:04",updated_at:"2023-01-12 09:00:04"},{time:1673514901e3,id:"545fefd0-b1bb-4e36-a7d3-c0c35e2dc06a",ship_id:1,terminal_time:"2023-01-12 09:15:01",lat:-5.919617,lng:106.000203,wind_speed:11.6,wind_direction:223.8,heading:31.33,distance:88812.71,depth:-3.6,cog:121.1,sog:0,created_at:"2023-01-12 09:15:04",updated_at:"2023-01-12 09:15:04"},{time:1673515801e3,id:"f45537e7-c24d-43d4-a111-c331f0185270",ship_id:1,terminal_time:"2023-01-12 09:30:01",lat:-5.919602,lng:106.000202,wind_speed:11.4,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:120.6,sog:0,created_at:"2023-01-12 09:30:05",updated_at:"2023-01-12 09:30:05"},{time:1673516706e3,id:"d927f6f3-c47e-4066-948b-8c47ce169ddd",ship_id:1,terminal_time:"2023-01-12 09:45:06",lat:-5.919607,lng:106.0002,wind_speed:11.8,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:281.2,sog:0,created_at:"2023-01-12 09:45:11",updated_at:"2023-01-12 09:45:11"},{time:1673517601e3,id:"6f2b17a6-fc9e-4272-b263-9372835e5cb7",ship_id:1,terminal_time:"2023-01-12 10:00:01",lat:-5.919583,lng:106.000217,wind_speed:13.2,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:122.7,sog:0,created_at:"2023-01-12 10:00:05",updated_at:"2023-01-12 10:00:05"},{time:1673518501e3,id:"8037d2bb-f96b-4bdc-8e1a-6cc0234defce",ship_id:1,terminal_time:"2023-01-12 10:15:01",lat:-5.919593,lng:106.000227,wind_speed:10.8,wind_direction:225.2,heading:31.2,distance:88812.71,depth:-3.6,cog:107.9,sog:0,created_at:"2023-01-12 10:15:05",updated_at:"2023-01-12 10:15:05"},{time:1673519401e3,id:"59efc70a-dfcf-475b-a578-d472d4b63f41",ship_id:1,terminal_time:"2023-01-12 10:30:01",lat:-5.91962,lng:106.000227,wind_speed:12.8,wind_direction:235.1,heading:0,distance:0,depth:-3.6,cog:127.3,sog:0,created_at:"2023-01-12 10:30:05",updated_at:"2023-01-12 10:30:05"},{time:1673520301e3,id:"14107e27-17a4-4f72-8bf5-b4ba6866475b",ship_id:1,terminal_time:"2023-01-12 10:45:01",lat:-5.919598,lng:106.000215,wind_speed:6.9,wind_direction:241.7,heading:31.2,distance:88812.72,depth:-3.6,cog:142.3,sog:0,created_at:"2023-01-12 10:45:05",updated_at:"2023-01-12 10:45:05"},{time:1673521201e3,id:"55f2910a-c9a9-400f-99ec-17d9ea4260ab",ship_id:1,terminal_time:"2023-01-12 11:00:01",lat:-5.919615,lng:106.000205,wind_speed:14.3,wind_direction:235.1,heading:31.2,distance:88812.72,depth:-3.6,cog:309,sog:0,created_at:"2023-01-12 11:00:05",updated_at:"2023-01-12 11:00:05"},{time:1673522101e3,id:"554cb944-60be-4c64-baf9-0244229277f5",ship_id:1,terminal_time:"2023-01-12 11:15:01",lat:-5.919627,lng:106.000208,wind_speed:12.4,wind_direction:237.5,heading:31,distance:88812.72,depth:-3.6,cog:63,sog:.1,created_at:"2023-01-12 11:15:05",updated_at:"2023-01-12 11:15:05"},{time:1673523001e3,id:"d0a7e914-9d36-4e3a-b078-429af76e139a",ship_id:1,terminal_time:"2023-01-12 11:30:01",lat:-5.919625,lng:106.000183,wind_speed:12.4,wind_direction:247.7,heading:31.3,distance:88812.74,depth:-3.6,cog:64.3,sog:.1,created_at:"2023-01-12 11:30:05",updated_at:"2023-01-12 11:30:05"},{time:1673523901e3,id:"3578112f-5993-44fc-9bcb-484ae892cb83",ship_id:1,terminal_time:"2023-01-12 11:45:01",lat:-5.91961,lng:106.00022,wind_speed:13.8,wind_direction:247.7,heading:31.2,distance:88812.75,depth:-3.6,cog:47.8,sog:.1,created_at:"2023-01-12 11:45:05",updated_at:"2023-01-12 11:45:05"},{time:1673524801e3,id:"63045459-e38d-4517-88ec-0e16f915455c",ship_id:1,terminal_time:"2023-01-12 12:00:01",lat:-5.919587,lng:106.000218,wind_speed:9.1,wind_direction:247.7,heading:31.1,distance:88812.76,depth:-3.6,cog:102.5,sog:.1,created_at:"2023-01-12 12:00:05",updated_at:"2023-01-12 12:00:05"},{time:1673525701e3,id:"8f235d26-eba0-4cf1-b387-1bbe467f5880",ship_id:1,terminal_time:"2023-01-12 12:15:01",lat:-5.919615,lng:106.000227,wind_speed:11.6,wind_direction:242.1,heading:31.1,distance:88812.77,depth:-3.6,cog:311.4,sog:0,created_at:"2023-01-12 12:15:02",updated_at:"2023-01-12 12:15:02"},{time:1673526601e3,id:"3a964569-c108-42ad-a009-fcbb362b6a7f",ship_id:1,terminal_time:"2023-01-12 12:30:01",lat:-5.91958,lng:106.000207,wind_speed:5.8,wind_direction:229.4,heading:31.2,distance:88812.77,depth:-3.3,cog:110.9,sog:.1,created_at:"2023-01-12 12:30:04",updated_at:"2023-01-12 12:30:04"},{time:1673527501e3,id:"6751b37a-cee9-487f-bb0f-011ea80d9cb4",ship_id:1,terminal_time:"2023-01-12 12:45:01",lat:-5.919628,lng:106.000247,wind_speed:7.9,wind_direction:206.9,heading:31.3,distance:88812.78,depth:-3.3,cog:293.2,sog:0,created_at:"2023-01-12 12:45:04",updated_at:"2023-01-12 12:45:04"},{time:1673528401e3,id:"9a2e95f6-e2a6-4136-a8a0-f05c56caf90e",ship_id:1,terminal_time:"2023-01-12 13:00:01",lat:-5.919595,lng:106.000223,wind_speed:9.7,wind_direction:223.8,heading:0,distance:0,depth:-3.3,cog:139,sog:.2,created_at:"2023-01-12 13:00:04",updated_at:"2023-01-12 13:00:04"},{time:1673529301e3,id:"7ecb61ef-4188-47ff-8bf4-6efd86f72928",ship_id:1,terminal_time:"2023-01-12 13:15:01",lat:-5.91958,lng:106.000175,wind_speed:7.3,wind_direction:237.9,heading:0,distance:0,depth:-3.3,cog:131.9,sog:0,created_at:"2023-01-12 13:15:04",updated_at:"2023-01-12 13:15:04"},{time:1673530201e3,id:"43466e7e-0a51-42ee-81ce-5bcb8067a0a0",ship_id:1,terminal_time:"2023-01-12 13:30:01",lat:-5.919583,lng:106.00021,wind_speed:8.7,wind_direction:219.6,heading:31.2,distance:88812.78,depth:-3.3,cog:114,sog:.1,created_at:"2023-01-12 13:30:04",updated_at:"2023-01-12 13:30:04"},{time:1673531101e3,id:"297a2025-c5ef-40bd-b16e-59dba6360dae",ship_id:1,terminal_time:"2023-01-12 13:45:01",lat:-5.919592,lng:106.000177,wind_speed:5.2,wind_direction:233.7,heading:31.1,distance:88812.78,depth:-3.3,cog:101.6,sog:0,created_at:"2023-01-12 13:45:04",updated_at:"2023-01-12 13:45:04"},{time:1673532001e3,id:"4d3b3fed-521a-4c4b-be34-bc1c12554aca",ship_id:1,terminal_time:"2023-01-12 14:00:01",lat:-5.919585,lng:106.000207,wind_speed:5.6,wind_direction:236.5,heading:31.3,distance:88812.79,depth:-3.3,cog:337.4,sog:0,created_at:"2023-01-12 14:00:04",updated_at:"2023-01-12 14:00:04"},{time:1673532901e3,id:"4d4f1774-36c0-419e-ba3a-b02fddf2626f",ship_id:1,terminal_time:"2023-01-12 14:15:01",lat:-5.919595,lng:106.000158,wind_speed:4.6,wind_direction:260.4,heading:31.2,distance:88812.79,depth:-3.3,cog:324.5,sog:0,created_at:"2023-01-12 14:15:04",updated_at:"2023-01-12 14:15:04"},{time:1673533801e3,id:"1698b5e0-d4ac-49ad-b810-49e9601d3853",ship_id:1,terminal_time:"2023-01-12 14:30:01",lat:-5.919583,lng:106.000225,wind_speed:4.6,wind_direction:256.1,heading:31.2,distance:88812.8,depth:-3.3,cog:322.1,sog:.1,created_at:"2023-01-12 14:30:04",updated_at:"2023-01-12 14:30:04"},{time:1673534701e3,id:"ad9fb6e4-5f14-4125-9e71-167e7c866606",ship_id:1,terminal_time:"2023-01-12 14:45:01",lat:-5.919595,lng:106.000203,wind_speed:6.8,wind_direction:233.7,heading:31.2,distance:88812.8,depth:-3,cog:95.3,sog:.1,created_at:"2023-01-12 14:45:04",updated_at:"2023-01-12 14:45:04"},{time:1673535601e3,id:"1fe7fc3b-36f4-404f-be9f-7b043d160fd3",ship_id:1,terminal_time:"2023-01-12 15:00:01",lat:-5.919605,lng:106.000208,wind_speed:8.3,wind_direction:252,heading:31.3,distance:88812.81,depth:-3,cog:332,sog:.1,created_at:"2023-01-12 15:00:05",updated_at:"2023-01-12 15:00:05"},{time:1673536501e3,id:"e70637eb-6415-42ce-9e73-20ef8a56d9b5",ship_id:1,terminal_time:"2023-01-12 15:15:01",lat:-5.919622,lng:106.000213,wind_speed:8.5,wind_direction:252,heading:31.5,distance:88812.81,depth:-3,cog:307.5,sog:0,created_at:"2023-01-12 15:15:05",updated_at:"2023-01-12 15:15:05"},{time:1673537401e3,id:"89cddc9c-a742-45c5-a8cb-95af58326154",ship_id:1,terminal_time:"2023-01-12 15:30:01",lat:-5.919613,lng:106.000245,wind_speed:6.4,wind_direction:247.7,heading:31.5,distance:88812.82,depth:-3,cog:180.8,sog:.1,created_at:"2023-01-12 15:30:05",updated_at:"2023-01-12 15:30:05"},{time:1673538301e3,id:"7eeb6682-f01b-4920-be65-5e0b691cda91",ship_id:1,terminal_time:"2023-01-12 15:45:01",lat:-5.918417,lng:105.999612,wind_speed:10.4,wind_direction:337.8,heading:291.7,distance:88812.88,depth:-3.3,cog:310.4,sog:2.1,created_at:"2023-01-12 15:45:05",updated_at:"2023-01-12 15:45:05"},{time:1673539201e3,id:"bca7ec47-e760-471e-bcd9-5a8aa2355046",ship_id:1,terminal_time:"2023-01-12 16:00:01",lat:-5.898973,lng:105.987732,wind_speed:18.2,wind_direction:324.5,heading:340.2,distance:88814.27,depth:-39,cog:332.8,sog:9.2,created_at:"2023-01-12 16:00:05",updated_at:"2023-01-12 16:00:05"},{time:1673540101e3,id:"6d1f8f41-c708-4913-9f3b-796181bd67ba",ship_id:1,terminal_time:"2023-01-12 16:15:01",lat:-5.868212,lng:106.003383,wind_speed:3.6,wind_direction:226.2,heading:60.3,distance:88816.54,depth:-55.6,cog:61.7,sog:11.4,created_at:"2023-01-12 16:15:02",updated_at:"2023-01-12 16:15:02"},{time:1673541001e3,id:"ffddd40d-2fb5-470b-935f-1f998984761a",ship_id:1,terminal_time:"2023-01-12 16:30:01",lat:-5.8487729999999996,lng:106.049228,wind_speed:5.8,wind_direction:157.5,heading:70.4,distance:88819.53,depth:-47,cog:70,sog:12.2,created_at:"2023-01-12 16:30:05",updated_at:"2023-01-12 16:30:05"},{time:1673541901e3,id:"225b2709-e620-4f1f-89f5-d761ea9a27f8",ship_id:1,terminal_time:"2023-01-12 16:45:01",lat:-5.834948,lng:106.097917,wind_speed:6.4,wind_direction:157.5,heading:80.2,distance:88822.55,depth:-31.6,cog:81.1,sog:12.2,created_at:"2023-01-12 16:45:05",updated_at:"2023-01-12 16:45:05"},{time:1673542801e3,id:"98589ed9-2a54-44e0-94d2-9b377e3c67c6",ship_id:1,terminal_time:"2023-01-12 17:00:01",lat:-5.832885,lng:106.14986,wind_speed:4,wind_direction:144.5,heading:99,distance:88825.66,depth:-28.6,cog:102.2,sog:12.8,created_at:"2023-01-12 17:00:05",updated_at:"2023-01-12 17:00:05"},{time:1673543701e3,id:"7fa7bf3b-acdb-4707-8e81-6860424af4b9",ship_id:1,terminal_time:"2023-01-12 17:15:01",lat:-5.838525,lng:106.20245,wind_speed:2.9,wind_direction:161.9,heading:89.2,distance:88828.85,depth:-22.6,cog:91.4,sog:12.7,created_at:"2023-01-12 17:15:05",updated_at:"2023-01-12 17:15:05"},{time:1673544601e3,id:"79865b86-826b-4cb0-bd95-1a88728a32ee",ship_id:1,terminal_time:"2023-01-12 17:30:01",lat:-5.839608,lng:106.25531,wind_speed:1.7,wind_direction:194.7,heading:88.8,distance:88831.98,depth:-23,cog:90.5,sog:12.7,created_at:"2023-01-12 17:30:03",updated_at:"2023-01-12 17:30:03"},{time:1673545501e3,id:"bcf27b90-6ee8-4dc4-91cd-4b5ab1188d9a",ship_id:1,terminal_time:"2023-01-12 17:45:01",lat:-5.83994,lng:106.30857,wind_speed:2.5,wind_direction:99.8,heading:89,distance:88835.27,depth:-31.6,cog:91.2,sog:13,created_at:"2023-01-12 17:45:03",updated_at:"2023-01-12 17:45:03"},{time:1673546401e3,id:"24294d87-37c8-401c-8120-3f6412ebbd31",ship_id:1,terminal_time:"2023-01-12 18:00:01",lat:-5.841293,lng:106.363258,wind_speed:3.6,wind_direction:54.9,heading:86.3,distance:88838.55,depth:-28.6,cog:88.1,sog:13.1,created_at:"2023-01-12 18:00:03",updated_at:"2023-01-12 18:00:03"},{time:1673547301e3,id:"1b983cb5-a7a5-4259-a3ed-68ba7093343e",ship_id:1,terminal_time:"2023-01-12 18:15:01",lat:-5.838722,lng:106.418933,wind_speed:7.3,wind_direction:56.3,heading:90.1,distance:88841.85,depth:-49.3,cog:90.8,sog:13.2,created_at:"2023-01-12 18:15:03",updated_at:"2023-01-12 18:15:03"},{time:1673548201e3,id:"15c3c6db-50aa-4a57-9238-2319a66b67aa",ship_id:1,terminal_time:"2023-01-12 18:30:01",lat:-5.83975,lng:106.47494,wind_speed:9.3,wind_direction:54.9,heading:89.9,distance:88845.21,depth:-45.6,cog:90.7,sog:13.5,created_at:"2023-01-13 08:01:29",updated_at:"2023-01-13 08:01:29"},{time:1673549101e3,id:"06e2801a-9747-4c80-9786-b47a946f07dd",ship_id:1,terminal_time:"2023-01-12 18:45:01",lat:-5.840233,lng:106.531412,wind_speed:9.9,wind_direction:65.2,heading:92.3,distance:88848.59,depth:-77.6,cog:94,sog:13.5,created_at:"2023-01-13 08:03:23",updated_at:"2023-01-13 08:03:23"},{time:1673550001e3,id:"69056518-ad05-4299-9844-8cdfaed1b01c",ship_id:1,terminal_time:"2023-01-12 19:00:01",lat:-5.837537,lng:106.585833,wind_speed:10.4,wind_direction:16.8,heading:77.9,distance:88851.84,depth:-70.6,cog:78.2,sog:13,created_at:"2023-01-13 08:02:35",updated_at:"2023-01-13 08:02:35"},{time:1673550901e3,id:"17bc32d5-5b7b-4c30-b1df-b7e55e45806b",ship_id:1,terminal_time:"2023-01-12 19:15:01",lat:-5.830312,lng:106.640343,wind_speed:13,wind_direction:21,heading:87.4,distance:88855.12,depth:-39,cog:86.4,sog:13.2,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673551801e3,id:"f7476f04-656a-4e72-8e6c-57b0d831c5f5",ship_id:1,terminal_time:"2023-01-12 19:30:01",lat:-5.853542,lng:106.689242,wind_speed:13.2,wind_direction:21,heading:126.5,distance:88858.39,depth:-27,cog:128.5,sog:13.2,created_at:"2023-01-13 08:05:16",updated_at:"2023-01-13 08:05:16"},{time:1673552701e3,id:"88b9ecc4-9964-43d8-b6a4-aed13a07495c",ship_id:1,terminal_time:"2023-01-12 19:45:01",lat:-5.889747,lng:106.731723,wind_speed:18,wind_direction:12.5,heading:129.7,distance:88861.73,depth:-29,cog:131.9,sog:13.4,created_at:"2023-01-13 08:02:30",updated_at:"2023-01-13 08:02:30"},{time:1673553601e3,id:"26848018-c9ac-4503-838d-ae857206e20b",ship_id:1,terminal_time:"2023-01-12 20:00:01",lat:-5.927122,lng:106.772935,wind_speed:18.8,wind_direction:7.9,heading:130.5,distance:88865.07,depth:-21.6,cog:132.8,sog:13.3,created_at:"2023-01-13 08:01:15",updated_at:"2023-01-13 08:01:15"},{time:1673554501e3,id:"2e692d80-82f5-4549-91d5-8a2ed3fb2e12",ship_id:1,terminal_time:"2023-01-12 20:15:01",lat:-5.960285,lng:106.81634,wind_speed:17.4,wind_direction:9.7,heading:112.2,distance:88868.34,depth:-17.3,cog:114.9,sog:13.1,created_at:"2023-01-13 08:03:01",updated_at:"2023-01-13 08:03:01"},{time:1673555401e3,id:"aca95c12-4858-4cf9-94d3-a4f8e4de5aef",ship_id:1,terminal_time:"2023-01-12 20:30:01",lat:-5.983137,lng:106.859937,wind_speed:11.8,wind_direction:0,heading:130.3,distance:88871.33,depth:-15.3,cog:131.8,sog:9.7,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673556301e3,id:"8b09c8fe-2ea4-494c-a5fb-dd2a24bf7270",ship_id:1,terminal_time:"2023-01-12 20:45:01",lat:-6.000398,lng:106.883002,wind_speed:7.9,wind_direction:1.4,heading:115.3,distance:88873.1,depth:-13.6,cog:118.2,sog:4.3,created_at:"2023-01-13 08:00:56",updated_at:"2023-01-13 08:00:56"},{time:1673557201e3,id:"284ce5ee-e703-4d6d-b114-c1df32919fd1",ship_id:1,terminal_time:"2023-01-12 21:00:01",lat:-6.00611,lng:106.893912,wind_speed:6,wind_direction:349,heading:106.4,distance:88873.88,depth:-13,cog:142.3,sog:.3,created_at:"2023-01-13 08:02:49",updated_at:"2023-01-13 08:02:49"},{time:1673558101e3,id:"45ad13f2-7559-4927-89c6-6f3c198a88b2",ship_id:1,terminal_time:"2023-01-12 21:15:01",lat:-6.007525,lng:106.893923,wind_speed:6.6,wind_direction:12.5,heading:3,distance:88873.88,depth:-13,cog:126.7,sog:.2,created_at:"2023-01-13 08:02:41",updated_at:"2023-01-13 08:02:41"},{time:1673559001e3,id:"a4a1e14d-14ab-43f6-9535-4fa2a9d49ae4",ship_id:1,terminal_time:"2023-01-12 21:30:01",lat:-6.00759,lng:106.894172,wind_speed:5.4,wind_direction:30.9,heading:25.3,distance:88873.89,depth:-13,cog:173.5,sog:.1,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673559901e3,id:"02e22b70-2f1d-4ec5-be13-4924c441d425",ship_id:1,terminal_time:"2023-01-12 21:45:01",lat:-6.007575,lng:106.894195,wind_speed:7.3,wind_direction:32.3,heading:25.6,distance:88873.9,depth:-12.6,cog:225,sog:.1,created_at:"2023-01-13 08:03:11",updated_at:"2023-01-13 08:03:11"},{time:1673560801e3,id:"714b40ab-6959-4c7d-89d9-dbb4bb70e57c",ship_id:1,terminal_time:"2023-01-12 22:00:01",lat:-6.007612,lng:106.894137,wind_speed:5.8,wind_direction:33.6,heading:25,distance:88873.9,depth:-12.6,cog:168.2,sog:0,created_at:"2023-01-13 08:02:28",updated_at:"2023-01-13 08:02:28"},{time:1673561701e3,id:"8076bd11-03d4-4552-b96d-89e5d0255292",ship_id:1,terminal_time:"2023-01-12 22:15:01",lat:-6.007583,lng:106.894055,wind_speed:7.3,wind_direction:43.6,heading:29.2,distance:88873.9,depth:-13,cog:316.5,sog:.1,created_at:"2023-01-13 08:02:17",updated_at:"2023-01-13 08:02:17"},{time:1673562601e3,id:"d34040f5-d539-420c-bb97-d96c16081c94",ship_id:1,terminal_time:"2023-01-12 22:30:01",lat:-6.007425,lng:106.89391,wind_speed:5.6,wind_direction:43.6,heading:44.4,distance:88873.9,depth:-13,cog:126.5,sog:.1,created_at:"2023-01-13 08:03:38",updated_at:"2023-01-13 08:03:38"},{time:1673563501e3,id:"564f8c5e-2634-4ec9-9f48-e0af89ff5564",ship_id:1,terminal_time:"2023-01-12 22:45:01",lat:-6.007598,lng:106.894127,wind_speed:4.6,wind_direction:43.6,heading:27.2,distance:88873.9,depth:-13,cog:34.5,sog:0,created_at:"2023-01-13 08:04:15",updated_at:"2023-01-13 08:04:15"},{time:1673564401e3,id:"4926d7e4-dbc0-4a31-8d0a-6a052ff27bc0",ship_id:1,terminal_time:"2023-01-12 23:00:01",lat:-6.007682,lng:106.894268,wind_speed:5.6,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:155.9,sog:0,created_at:"2023-01-13 08:03:58",updated_at:"2023-01-13 08:03:58"},{time:1673565301e3,id:"433693fd-81e1-4395-a29d-8eb5bb82c236",ship_id:1,terminal_time:"2023-01-12 23:15:01",lat:-6.007708,lng:106.894337,wind_speed:4.8,wind_direction:43.6,heading:14.8,distance:88873.9,depth:-13,cog:189.5,sog:0,created_at:"2023-01-13 08:03:48",updated_at:"2023-01-13 08:03:48"},{time:1673566201e3,id:"3bd7e61b-1373-4345-867a-dfe285746a32",ship_id:1,terminal_time:"2023-01-12 23:30:01",lat:-6.007645,lng:106.894262,wind_speed:3.4,wind_direction:43.6,heading:19.3,distance:88873.9,depth:-13,cog:200.6,sog:.1,created_at:"2023-01-13 08:05:28",updated_at:"2023-01-13 08:05:28"},{time:1673567101e3,id:"09b7824a-9980-4c9d-bf99-87e65e80069b",ship_id:1,terminal_time:"2023-01-12 23:45:01",lat:-6.007677,lng:106.8943,wind_speed:2.1,wind_direction:43.6,heading:16.6,distance:88873.9,depth:-13,cog:44.7,sog:0,created_at:"2023-01-13 08:04:21",updated_at:"2023-01-13 08:04:21"},{time:1673568001e3,id:"b38d3696-7f77-459c-863f-91445f63f3e9",ship_id:1,terminal_time:"2023-01-13 00:00:01",lat:-6.007713,lng:106.894375,wind_speed:3.1,wind_direction:43.6,heading:15.4,distance:88873.9,depth:-13,cog:108.7,sog:.1,created_at:"2023-01-13 08:01:36",updated_at:"2023-01-13 08:01:36"},{time:1673568903e3,id:"b55f2d04-80e5-45c3-8479-13897d8db096",ship_id:1,terminal_time:"2023-01-13 00:15:03",lat:-6.007727,lng:106.894435,wind_speed:2.7,wind_direction:43.6,heading:11.8,distance:88873.9,depth:-13,cog:68.7,sog:0,created_at:"2023-01-13 08:03:55",updated_at:"2023-01-13 08:03:55"},{time:1673570168e3,id:"bc973d32-96ff-4d4b-83fa-fdc69ab666a4",ship_id:1,terminal_time:"2023-01-13 00:36:08",lat:-6.00772,lng:106.894325,wind_speed:2.7,wind_direction:43.6,heading:17.2,distance:88873.9,depth:-13,cog:224.5,sog:0,created_at:"2023-01-13 08:01:47",updated_at:"2023-01-13 08:01:47"},{time:1673570703e3,id:"51065554-9c2a-4ead-9c62-cdd44d475009",ship_id:1,terminal_time:"2023-01-13 00:45:03",lat:-6.007642,lng:106.894265,wind_speed:3.3,wind_direction:43.6,heading:20.1,distance:88873.9,depth:-13,cog:237,sog:0,created_at:"2023-01-13 08:02:52",updated_at:"2023-01-13 08:02:52"},{time:1673571603e3,id:"f1dbff35-e7f7-4963-a643-80e87b251c8c",ship_id:1,terminal_time:"2023-01-13 01:00:03",lat:-6.0076,lng:106.894155,wind_speed:4.2,wind_direction:43.6,heading:25.4,distance:88873.91,depth:-13,cog:177.2,sog:0,created_at:"2023-01-13 08:05:07",updated_at:"2023-01-13 08:05:07"},{time:1673572503e3,id:"606bf160-10bf-4454-95c1-6abb21d4a9a8",ship_id:1,terminal_time:"2023-01-13 01:15:03",lat:-6.007512,lng:106.894067,wind_speed:4,wind_direction:43.6,heading:33,distance:88873.91,depth:-13,cog:204.5,sog:0,created_at:"2023-01-13 08:04:55",updated_at:"2023-01-13 08:04:55"},{time:1673573403e3,id:"46a99db5-3b12-4141-949d-a7f4f69451c9",ship_id:1,terminal_time:"2023-01-13 01:30:03",lat:-6.007512,lng:106.894075,wind_speed:1.7,wind_direction:43.6,heading:34.6,distance:88873.91,depth:-13,cog:110.9,sog:.1,created_at:"2023-01-13 08:04:51",updated_at:"2023-01-13 08:04:51"},{time:1673574303e3,id:"ab8768f7-f2c0-4c28-ba76-68c4d848ee1b",ship_id:1,terminal_time:"2023-01-13 01:45:03",lat:-6.0075,lng:106.894193,wind_speed:1.9,wind_direction:43.6,heading:32.2,distance:88873.91,depth:-13,cog:300.5,sog:.1,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673575203e3,id:"6a14e9fa-b7ad-4ec4-9f66-fa4f814c54af",ship_id:1,terminal_time:"2023-01-13 02:00:03",lat:-6.007582,lng:106.894147,wind_speed:2.5,wind_direction:43.6,heading:29.3,distance:88873.92,depth:-13,cog:319.4,sog:0,created_at:"2023-01-13 08:05:13",updated_at:"2023-01-13 08:05:13"},{time:1673576103e3,id:"456740b7-62b5-4f33-b4c0-1dc7d824d0bb",ship_id:1,terminal_time:"2023-01-13 02:15:03",lat:-6.007527,lng:106.8941,wind_speed:2.7,wind_direction:43.6,heading:32.7,distance:88873.92,depth:-13.3,cog:336.3,sog:0,created_at:"2023-01-13 08:05:57",updated_at:"2023-01-13 08:05:57"},{time:1673577003e3,id:"9f03eb81-f440-4e94-a55f-ab45fcc7b6c0",ship_id:1,terminal_time:"2023-01-13 02:30:03",lat:-6.007453,lng:106.894015,wind_speed:2.5,wind_direction:43.6,heading:39.1,distance:88873.93,depth:-13.3,cog:345.7,sog:.1,created_at:"2023-01-13 08:05:39",updated_at:"2023-01-13 08:05:39"},{time:1673577903e3,id:"e4f82def-000e-40af-915a-fa2b0c177b50",ship_id:1,terminal_time:"2023-01-13 02:45:03",lat:-6.007433,lng:106.893978,wind_speed:2.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:303.2,sog:0,created_at:"2023-01-13 08:06:18",updated_at:"2023-01-13 08:06:18"},{time:1673578803e3,id:"54b75262-94fb-4782-987c-ccbefeebec92",ship_id:1,terminal_time:"2023-01-13 03:00:03",lat:-6.00737,lng:106.893908,wind_speed:3.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:348.7,sog:0,created_at:"2023-01-13 08:06:12",updated_at:"2023-01-13 08:06:12"},{time:1673579703e3,id:"fa539bb4-a28e-469c-9a4e-9a3d0c486050",ship_id:1,terminal_time:"2023-01-13 03:15:03",lat:-6.007335,lng:106.893948,wind_speed:2.7,wind_direction:45,heading:49.7,distance:88873.94,depth:-13.3,cog:137.5,sog:.1,created_at:"2023-01-13 08:06:05",updated_at:"2023-01-13 08:06:05"},{time:1673580603e3,id:"539a72f1-ac08-46d9-b981-d2b0ad986548",ship_id:1,terminal_time:"2023-01-13 03:30:03",lat:-6.007343,lng:106.893923,wind_speed:2.3,wind_direction:45,heading:46.6,distance:88873.94,depth:-13,cog:284,sog:.1,created_at:"2023-01-13 08:05:52",updated_at:"2023-01-13 08:05:52"},{time:1673581503e3,id:"4df156c5-a460-4977-8551-b187446e5412",ship_id:1,terminal_time:"2023-01-13 03:45:03",lat:-6.007297,lng:106.893842,wind_speed:3.4,wind_direction:45,heading:47.7,distance:88873.94,depth:-13,cog:168.1,sog:0,created_at:"2023-01-13 08:05:54",updated_at:"2023-01-13 08:05:54"},{time:1673582403e3,id:"a403298f-42d3-4529-b018-1af317d27868",ship_id:1,terminal_time:"2023-01-13 04:00:03",lat:-6.007198,lng:106.893723,wind_speed:2.5,wind_direction:45,heading:56.1,distance:88873.94,depth:-13.3,cog:178.4,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673583303e3,id:"dd731f40-8d09-4757-827b-9d4f1d4651e1",ship_id:1,terminal_time:"2023-01-13 04:15:03",lat:-6.007137,lng:106.893783,wind_speed:2.7,wind_direction:45,heading:58.1,distance:88873.94,depth:-13,cog:161.9,sog:0,created_at:"2023-01-13 08:07:09",updated_at:"2023-01-13 08:07:09"},{time:1673584203e3,id:"4108b2ac-c7e2-49e9-bef8-1aeb96d7d1da",ship_id:1,terminal_time:"2023-01-13 04:30:03",lat:-6.007167,lng:106.893807,wind_speed:2.5,wind_direction:45,heading:59.3,distance:88873.94,depth:-13,cog:52.2,sog:0,created_at:"2023-01-13 08:06:59",updated_at:"2023-01-13 08:06:59"},{time:1673585108e3,id:"cc3220d1-e43b-4f9e-8a0e-2f416fff3d82",ship_id:1,terminal_time:"2023-01-13 04:45:08",lat:-6.0070879999999995,lng:106.893705,wind_speed:2.3,wind_direction:45,heading:60.4,distance:88873.94,depth:-13,cog:336.7,sog:.1,created_at:"2023-01-13 08:06:48",updated_at:"2023-01-13 08:06:48"},{time:1673586003e3,id:"82f940ea-8953-425e-86b3-7899a04cc3d8",ship_id:1,terminal_time:"2023-01-13 05:00:03",lat:-6.006982,lng:106.893693,wind_speed:1.9,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:265.2,sog:0,created_at:"2023-01-13 08:07:32",updated_at:"2023-01-13 08:07:32"},{time:1673586903e3,id:"ad2c1c63-d614-4095-8d40-e96424f5a6d7",ship_id:1,terminal_time:"2023-01-13 05:15:03",lat:-6.007068,lng:106.893725,wind_speed:.9,wind_direction:45,heading:61.6,distance:88873.94,depth:-13.3,cog:232.5,sog:.1,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673587803e3,id:"e44c9ea1-fe7c-4076-8e00-c146f79d9ff1",ship_id:1,terminal_time:"2023-01-13 05:30:03",lat:-6.007113,lng:106.8937,wind_speed:.7,wind_direction:45,heading:57.9,distance:88873.94,depth:-13.3,cog:273.7,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673588703e3,id:"11fabb10-51d2-4b18-8c3e-8d5f30e0c604",ship_id:1,terminal_time:"2023-01-13 05:45:03",lat:-6.00707,lng:106.893708,wind_speed:0,wind_direction:45,heading:59.9,distance:88873.94,depth:-13,cog:179.4,sog:.1,created_at:"2023-01-13 08:07:45",updated_at:"2023-01-13 08:07:45"},{time:1673589603e3,id:"3d8e63b1-ef49-4faa-8668-2064fc7691b9",ship_id:1,terminal_time:"2023-01-13 06:00:03",lat:-6.007005,lng:106.893697,wind_speed:1.7,wind_direction:45,heading:61,distance:88873.94,depth:-13,cog:224.6,sog:0,created_at:"2023-01-13 08:08:35",updated_at:"2023-01-13 08:08:35"},{time:1673590503e3,id:"abedede7-fcef-4a6a-821c-96caff5b51dd",ship_id:1,terminal_time:"2023-01-13 06:15:03",lat:-6.007067,lng:106.893657,wind_speed:1.7,wind_direction:45,heading:56.4,distance:88873.94,depth:-13.3,cog:299.4,sog:0,created_at:"2023-01-13 08:08:07",updated_at:"2023-01-13 08:08:07"},{time:1673591403e3,id:"b51194a8-99a4-4d32-83a4-d5fbfaaa4d2b",ship_id:1,terminal_time:"2023-01-13 06:30:03",lat:-6.006965,lng:106.893667,wind_speed:2.1,wind_direction:45,heading:62.6,distance:88873.94,depth:-13.3,cog:139.2,sog:0,created_at:"2023-01-13 08:08:23",updated_at:"2023-01-13 08:08:23"},{time:1673592518e3,id:"b209dcbe-8749-41d2-b84b-c1258b5ab981",ship_id:1,terminal_time:"2023-01-13 06:48:38",lat:-6.006987,lng:106.893667,wind_speed:2.3,wind_direction:45,heading:66.4,distance:88873.94,depth:-13.3,cog:318.9,sog:0,created_at:"2023-01-13 08:08:09",updated_at:"2023-01-13 08:08:09"},{time:1673593203e3,id:"32347284-3eae-468f-bee0-b65b0ec6fc1e",ship_id:1,terminal_time:"2023-01-13 07:00:03",lat:-6.007023,lng:106.893678,wind_speed:2.7,wind_direction:45,heading:62.5,distance:88873.95,depth:-13.3,cog:111.2,sog:0,created_at:"2023-01-13 08:07:41",updated_at:"2023-01-13 08:07:41"},{time:1673594103e3,id:"d96b7d8b-3fd1-4062-a8fb-81b177ca4b7e",ship_id:1,terminal_time:"2023-01-13 07:15:03",lat:-6.007138,lng:106.89375,wind_speed:2.5,wind_direction:45,heading:62.4,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:24",updated_at:"2023-01-13 08:08:24"},{time:1673595003e3,id:"fb3aea68-d3b4-4a82-8246-b492385b9b9b",ship_id:1,terminal_time:"2023-01-13 07:30:03",lat:-6.006977,lng:106.893747,wind_speed:2.7,wind_direction:45,heading:66.3,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:37",updated_at:"2023-01-13 08:08:37"},{time:1673595903e3,id:"4b32822b-aad7-4b21-b989-0f1651010609",ship_id:1,terminal_time:"2023-01-13 07:45:03",lat:-6.00699,lng:106.89368,wind_speed:2.3,wind_direction:45,heading:68.2,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:55",updated_at:"2023-01-13 08:08:55"},{time:1673596808e3,id:"5e31ea31-de98-4291-b5ed-bc79c4642d2e",ship_id:1,terminal_time:"2023-01-13 08:00:08",lat:-6.006908,lng:106.89369,wind_speed:2.1,wind_direction:45,heading:72.3,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:48",updated_at:"2023-01-13 08:08:48"},{time:1673597703e3,id:"1f625245-9ea7-4f96-9bf2-627e75f1ea29",ship_id:1,terminal_time:"2023-01-13 08:15:03",lat:-6.006837,lng:106.893615,wind_speed:2.3,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:3.7,sog:0,created_at:"2023-01-13 08:15:07",updated_at:"2023-01-13 08:15:07"},{time:1673598603e3,id:"f2ecdf0b-2cd9-40ce-ad89-0a8d73cad5c1",ship_id:1,terminal_time:"2023-01-13 08:30:03",lat:-6.006838,lng:106.893623,wind_speed:2.1,wind_direction:45,heading:75,distance:88873.95,depth:-13.3,cog:135.5,sog:0,created_at:"2023-01-13 08:30:07",updated_at:"2023-01-13 08:30:07"},{time:1673599503e3,id:"8327765d-9bf8-4fc4-8584-95359d3bbbb0",ship_id:1,terminal_time:"2023-01-13 08:45:03",lat:-6.006812,lng:106.893627,wind_speed:3.4,wind_direction:45,heading:75.5,distance:88873.95,depth:-13.3,cog:89.4,sog:0,created_at:"2023-01-13 08:45:04",updated_at:"2023-01-13 08:45:04"},{time:1673600403e3,id:"f5eb5331-437b-4c35-a486-84a8fa9d5644",ship_id:1,terminal_time:"2023-01-13 09:00:03",lat:-6.006815,lng:106.893662,wind_speed:3.6,wind_direction:45,heading:75.4,distance:88873.96,depth:-13.3,cog:94.9,sog:0,created_at:"2023-01-13 09:00:05",updated_at:"2023-01-13 09:00:05"},{time:1673601303e3,id:"2a247c20-bd73-4d19-8dab-7a2254a80a62",ship_id:1,terminal_time:"2023-01-13 09:15:03",lat:-6.006802,lng:106.893608,wind_speed:5.2,wind_direction:45,heading:75.8,distance:88873.96,depth:-13.3,cog:92.2,sog:0,created_at:"2023-01-13 09:15:05",updated_at:"2023-01-13 09:15:05"},{time:1673602203e3,id:"6153d12f-d552-4ab9-bba7-9e250f663945",ship_id:1,terminal_time:"2023-01-13 09:30:03",lat:-6.006802,lng:106.893643,wind_speed:4.2,wind_direction:45,heading:76.9,distance:88873.96,depth:-13.3,cog:141.9,sog:0,created_at:"2023-01-13 09:30:06",updated_at:"2023-01-13 09:30:06"},{time:1673603103e3,id:"2f1058ed-c8da-4364-aab6-dc9645e1fde8",ship_id:1,terminal_time:"2023-01-13 09:45:03",lat:-6.006837,lng:106.893597,wind_speed:3.8,wind_direction:45,heading:72.8,distance:88873.96,depth:-13.3,cog:110.7,sog:0,created_at:"2023-01-13 09:45:06",updated_at:"2023-01-13 09:45:06"},{time:1673604003e3,id:"cc41dd89-f978-4edf-9ada-4667dbff60ce",ship_id:1,terminal_time:"2023-01-13 10:00:03",lat:-6.00683,lng:106.893597,wind_speed:3.6,wind_direction:45,heading:72.1,distance:88873.96,depth:-13.3,cog:135.3,sog:0,created_at:"2023-01-13 10:00:06",updated_at:"2023-01-13 10:00:06"},{time:1673604903e3,id:"396bffaa-c79e-49d7-bdf1-f426896bb87c",ship_id:1,terminal_time:"2023-01-13 10:15:03",lat:-6.00688,lng:106.89365,wind_speed:3.1,wind_direction:45,heading:70.9,distance:88873.96,depth:-13.3,cog:180.2,sog:.1,created_at:"2023-01-13 10:15:07",updated_at:"2023-01-13 10:15:07"},{time:1673605803e3,id:"d946fc22-50aa-4fcd-bd7c-b44f44547a46",ship_id:1,terminal_time:"2023-01-13 10:30:03",lat:-6.007095,lng:106.89367,wind_speed:3.3,wind_direction:45,heading:58.8,distance:88873.96,depth:-13.3,cog:157.1,sog:0,created_at:"2023-01-13 10:30:04",updated_at:"2023-01-13 10:30:04"},{time:1673606703e3,id:"580132f9-3c14-4d3c-9b66-d0ff9ec812f0",ship_id:1,terminal_time:"2023-01-13 10:45:03",lat:-6.007132,lng:106.893745,wind_speed:5.4,wind_direction:26.7,heading:53.2,distance:88873.96,depth:-13.3,cog:144.9,sog:0,created_at:"2023-01-13 10:45:05",updated_at:"2023-01-13 10:45:05"},{time:1673607603e3,id:"2a0785ea-942c-42cd-ad88-e982f8495a39",ship_id:1,terminal_time:"2023-01-13 11:00:03",lat:-6.007203,lng:106.893752,wind_speed:4.2,wind_direction:26.7,heading:0,distance:0,depth:-13.3,cog:260.4,sog:0,created_at:"2023-01-13 11:00:05",updated_at:"2023-01-13 11:00:05"},{time:1673608503e3,id:"b1840bc7-7b81-44b4-a120-b50cb7ed9631",ship_id:1,terminal_time:"2023-01-13 11:15:03",lat:-6.007423,lng:106.893847,wind_speed:5.6,wind_direction:26.7,heading:39,distance:88873.97,depth:-13.6,cog:90.2,sog:.1,created_at:"2023-01-13 11:15:05",updated_at:"2023-01-13 11:15:05"},{time:1673609403e3,id:"257a0ae0-3c67-4484-900c-ee1149e2541d",ship_id:1,terminal_time:"2023-01-13 11:30:03",lat:-6.007583,lng:106.89401,wind_speed:5,wind_direction:26.7,heading:27.7,distance:88873.98,depth:-13.3,cog:110.5,sog:.1,created_at:"2023-01-13 11:30:06",updated_at:"2023-01-13 11:30:06"},{time:1673610303e3,id:"0e80a0e4-2c6c-441f-8364-26416a9ce1dd",ship_id:1,terminal_time:"2023-01-13 11:45:03",lat:-6.0076730000000005,lng:106.89419,wind_speed:7.3,wind_direction:26.7,heading:18.3,distance:88873.99,depth:-13.3,cog:93.9,sog:0,created_at:"2023-01-13 11:45:06",updated_at:"2023-01-13 11:45:06"},{time:1673611203e3,id:"11866d32-1040-4bdb-b7bf-190db9704e3c",ship_id:1,terminal_time:"2023-01-13 12:00:03",lat:-6.00775,lng:106.894325,wind_speed:7.1,wind_direction:26.7,heading:13.3,distance:88873.99,depth:-13.3,cog:102.4,sog:0,created_at:"2023-01-13 12:00:07",updated_at:"2023-01-13 12:00:07"}],uU={components:{MapboxMap:a_,MapboxNavigationControl:l_},data(){return{map:null,current:[],items:[],potition:!1}},methods:{async loaded(){let e=this,t={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},s={type:"FeatureCollection",features:[]};dU.forEach((d,m)=>{this.current&&this.calcCrow(this.current[1],this.current[0],d.lat,d.lng)>20||(t.geometry.coordinates.push([d.lng,d.lat]),s.features.push({type:"Feature",properties:{cog:d.cog,sog:d.sog,time:d.terminal_time,lat:d.lat,lng:d.lng,heading:d.heading},geometry:{type:"Point",coordinates:[d.lng,d.lat]}}),this.current=[d.lng,d.lat],this.items.push(d))}),this.map.addSource("route",{type:"geojson",data:t}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),e.map.addSource("points",{type:"geojson",data:s}),e.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const a=new nl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",d=>{let m=d.features[0].properties;this.positionShip(m)}),this.map.on("mouseenter","points",d=>{e.map.getCanvas().style.cursor="pointer";const m=d.features[0].geometry.coordinates.slice(),n=`<b>Lat : ${d.features[0].properties.lat} | Lng: ${d.features[0].properties.lng}</b> at ${d.features[0].properties.sog} <b>kn</b> / ${d.features[0].properties.cog}&deg;<br>time: <b>${d.features[0].properties.time}</b>`;for(;Math.abs(d.lngLat.lng-m[0])>180;)m[0]+=d.lngLat.lng>m[0]?360:-360;a.setLngLat(m).setHTML(n).addTo(e.map)}),this.map.on("mouseleave","points",()=>{e.map.getCanvas().style.cursor="",a.remove()}),this.map.loadImage(AS,(d,m)=>{if(d)throw d;e.map.addImage("ship-icon",m)});let c=this.items[this.items.length-1];this.positionShip({heading:c.heading,lng:c.lng,lat:c.lat})},toPotition(e){this.positionShip(e)},positionShip(e){this.potition&&(this.map.removeLayer("ship-point"),this.map.removeSource("ship-point")),this.map.addSource("ship-point",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{scale:1,heading:e.heading}}]}}),this.map.addLayer({id:"ship-point",type:"symbol",source:"ship-point",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.potition=!0},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},calcCrow(n,t,S,a){var c=6371,d=this.toRad(S-n),m=this.toRad(a-t),n=this.toRad(n),S=this.toRad(S),z=Math.sin(d/2)*Math.sin(d/2)+Math.sin(m/2)*Math.sin(m/2)*Math.cos(n)*Math.cos(S),Z=2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z)),O=c*Z;return O},toRad(e){return e*Math.PI/180}}},pU={class:"row g-0"},fU={class:"col-9"},mU={class:"position-relative"},gU={class:"pointer-info",ref:"pointerInfo"},_U={class:"col-3"},yU=ph('<header class="navbar navbar-expand-md navbar-dark bg-primary d-print-none"><div class="container-xl"><ul class="navbar-nav"><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 6l16 0"></path><path d="M4 12l16 0"></path><path d="M4 18l16 0"></path></svg></span></a></li><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sailboat" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M2 20a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1"></path><path d="M4 18l-1 -3h18l-1 3"></path><path d="M11 12h7l-7 -9v9"></path><path d="M8 7l-2 5"></path></svg></span> Voyage </a></li></ul></div></header>',1),vU={class:"information"},xU={class:"histories"},bU={class:"table card-table table-vcenter text-nowrap datatable table-fixed text-small"},wU=je("thead",null,[je("tr",null,[je("th",null,"Time"),je("th",null,"Lon"),je("th",null,"Lat"),je("th",null,"Speed")])],-1),SU=["onClick"];function TU(e,t,s,a,c,d){const m=Yn("MapboxNavigationControl"),n=Yn("MapboxMap");return Ot(),Ft("div",pU,[je("div",fU,[je("div",mU,[je("div",gU,null,512),Qi(n,{onMbCreated:t[0]||(t[0]=S=>c.map=S),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[105.987732,-5.898973],zoom:7},{default:Do(()=>[Qi(m,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center"])])]),je("div",_U,[yU,je("div",vU,[je("div",xU,[je("table",bU,[wU,je("tbody",null,[(Ot(!0),Ft(fn,null,vs(c.items,S=>(Ot(),Ft("tr",{key:S.id,onClick:z=>d.toPotition(S),class:"pointer"},[je("td",null,ji(e.$filters.dateformat(S.terminal_time)),1),je("td",null,ji(e.$filters.str_limit(S.lng,7))+"°",1),je("td",null,ji(e.$filters.str_limit(S.lat,6))+"°",1),je("td",null,ji(S.sog),1)],8,SU))),128))])])])])])])}const EU=Kn(uU,[["render",TU]]),CU={components:{MapboxMap:a_,MapboxNavigationControl:l_},props:{fleet:Object,style:Object,sidebar:Boolean},data(){return{map:null,current:[],timer:null,popup:new nl.Popup({closeButton:!0,closeOnClick:!1}),histories:[]}},mounted(){this.map.loadImage(AS,(e,t)=>{if(e)throw e;this.map.addImage("ship-icon",t)})},methods:{setHistory(e){this.histories=e;let t=this;this.current.length>0&&this.map.getLayer("route")!=="undefined"&&this.map.getLayer("points")!=="undefined"&&(this.map.removeLayer("route"),this.map.removeSource("route"),this.map.removeLayer("points"),this.map.removeSource("points"));let s={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},a={type:"FeatureCollection",features:[]};this.histories.forEach((n,S)=>{s.geometry.coordinates.push([n.lng,n.lat]),a.features.push({type:"Feature",properties:{cog:n.cog,sog:n.sog,time:n.terminal_time,lat:n.lat,lng:n.lng,heading:n.heading},geometry:{type:"Point",coordinates:[n.lng,n.lat]}}),this.current=[n.lng,n.lat]}),this.map.addSource("route",{type:"geojson",data:s}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),this.map.addSource("points",{type:"geojson",data:a}),this.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const c=new nl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",n=>{let S=n.features[0].properties;this.positionShip(S)}),this.map.on("mouseenter","points",n=>{t.map.getCanvas().style.cursor="pointer";const S=n.features[0].geometry.coordinates.slice(),z=`<b>Lat : ${n.features[0].properties.lat} | Lng: ${n.features[0].properties.lng}</b> at ${n.features[0].properties.sog} <b>kn</b> / ${n.features[0].properties.cog}&deg;<br>time: <b>${n.features[0].properties.time}</b>`;for(;Math.abs(n.lngLat.lng-S[0])>180;)S[0]+=n.lngLat.lng>S[0]?360:-360;c.setLngLat(S).setHTML(z).addTo(t.map)}),this.map.on("mouseleave","points",()=>{t.map.getCanvas().style.cursor="",c.remove()});let d=this.histories[this.histories.length-1],m=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:d});this.positionShip(m)},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},loaded(){this.positionShip(this.fleet)},toPotition(e){let t=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:e});this.positionShip(t)},positionShip(e){if(!e.navigation)return;typeof this.map.getLayer("ship-position")<"u"&&this.map.removeLayer("ship-position").removeSource("ship-points"),this.map.addSource("ship-points",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:Cm(e.navigation.terminal_time)}}]}}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-points",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.popup.remove();const s=`<b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Cm(e.navigation.updated_at)}</b>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(s).addTo(this.map)}}},MU={class:"position-relative overflow-hidden"},AU={class:"pointer-info",ref:"pointerInfo"};function kU(e,t,s,a,c,d){const m=Yn("map-voyage"),n=Yn("MapboxNavigationControl"),S=Yn("MapboxMap");return Ot(),Ft("div",MU,[Qi(m,{fleet:s.fleet,onHistory:d.setHistory,onSelected:d.toPotition,display:s.sidebar},null,8,["fleet","onHistory","onSelected","display"]),je("div",AU,null,512),Qi(S,{onMbCreated:t[0]||(t[0]=z=>c.map=z),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:Dl(s.style),"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[s.fleet.navigation.lng,s.fleet.navigation.lat],zoom:7},{default:Do(()=>[Qi(n,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","style","center"])])}const PU=Kn(CU,[["render",kU]]),DU={props:{fleet:Object,display:Boolean},data(){return{params:{from:null,to:null,interval:900},histories:[]}},methods:{async fetchData(){this.histories=[],(await axios.get(`/api/fleet/${this.fleet.id}/nav/histories`,{params:this.params}).then(t=>t.data)).forEach(t=>{t.lat==0&&t.lng==0||this.histories.push(t)}),this.$emit("history",this.histories)},toggleText(){this.display=!this.display},selected(e){this.$emit("selected",e)}}},IU={class:"voyage-section"},LU={key:0,class:"card voyage-card"},OU={class:"card-header justify-content-between"},RU=["src"],BU=je("h5",{class:"fw-normal m-0"},"Voyage",-1),zU={class:"card-body"},FU=je("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[je("li",{class:"nav-item",role:"presentation"},[je("button",{class:"nav-link justify-content-center active",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"TRACK")]),je("li",{class:"nav-item",role:"presentation"},[je("button",{class:"nav-link justify-content-center",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),NU={class:"tab-content",id:"pills-tabContent"},jU={class:"tab-pane fade show active",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"},UU={class:"mb-4"},GU={class:"form-group mb-3"},VU=je("label",{for:"startDateInput"},"Start Date",-1),$U={class:"form-group mb-3"},HU=je("label",{for:"endDateInput"},"End Date",-1),WU=je("h6",{class:"text-primary"},"GENERATE REPORT",-1),YU={class:"table text-sm"},qU=je("thead",null,[je("tr",null,[je("th",{scope:"col"},"Time"),je("th",{scope:"col"},"Lon"),je("th",{scope:"col"},"Lat"),je("th",{scope:"col"},"Speed")])],-1),XU=["onClick"],ZU={scope:"row"},KU=je("div",{class:"tab-pane fade",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},null,-1),JU=["src"];function QU(e,t,s,a,c,d){return Ot(),Ft("div",IU,[s.display?(Ot(),Ft("div",LU,[je("div",OU,[je("button",{onClick:t[0]||(t[0]=m=>s.display=!s.display),class:"btn btn-link bg-transparent p-0"},[je("img",{src:"/img/icons/close-fill.png",alt:""},null,8,RU)]),BU]),je("div",zU,[FU,je("div",NU,[je("div",jU,[je("div",UU,[je("div",GU,[VU,rr(je("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=m=>c.params.from=m),class:"form-control",id:"startDateInput"},null,512),[[il,c.params.from]])]),je("div",$U,[HU,rr(je("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=m=>c.params.to=m),class:"form-control",id:"endDateInput"},null,512),[[il,c.params.to]])]),je("button",{onClick:t[3]||(t[3]=(...m)=>d.fetchData&&d.fetchData(...m)),class:"btn btn-outline-primary w-100"},"SHOW")]),WU,je("table",YU,[qU,je("tbody",null,[(Ot(!0),Ft(fn,null,vs(c.histories,m=>(Ot(),Ft("tr",{onClick:n=>d.selected(m),key:m.id},[je("td",ZU,ji(e.$filters.dateformat(m.terminal_time,"DD/MM/YY HH:mm")),1),je("td",null,ji(m.lng.toFixed(2))+"°",1),je("td",null,ji(m.lat.toFixed(2))+"°",1),je("td",null,ji(m.sog),1)],8,XU))),128))])])]),KU])])])):yn("",!0),je("button",{onClick:t[4]||(t[4]=m=>s.display=!s.display),class:"btn btn-light btn-open"},[je("img",{src:"/img/icons/location-circle.png",alt:""},null,8,JU),Jr(" Show fleet Track ")])])}const eG=Kn(DU,[["render",QU]]),tG={},iG={class:"ships-cctv"},nG=ph('<div class="card" data-v-3e327a0d><div class="card-header" data-v-3e327a0d><div class="card-title" data-v-3e327a0d><div data-v-3e327a0d>Bridge</div></div><div class="card-status" data-v-3e327a0d><a href="#" data-v-3e327a0d><img src="img/icons/fullscreen.png" alt="" data-v-3e327a0d> Fullscreen </a><a href="#" data-v-3e327a0d> Esc to exit </a></div></div><div class="card-body" data-v-3e327a0d><img src="img/image-1.png" alt="" class="w-100" data-v-3e327a0d></div></div>',1),sG=[nG];function rG(e,t,s,a,c,d){return Ot(),Ft("div",iG,sG)}const oG=Kn(tG,[["render",rG],["__scopeId","data-v-3e327a0d"]]),aG={components:{"x-search":mA,"x-notification":gA,"x-records":_A,"x-navigation":yA,"x-camera":vA,"x-parameter":xA,"x-cctv":oG,MapboxMap:a_,MapboxNavigationControl:l_},data(){return{map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null}},mounted(){this.timer=setInterval(()=>{this.loaded()},15*1e3),this.map.loadImage(AS,(e,t)=>{if(e)throw e;this.map.addImage("ship",t)}),this.popup=new nl.Popup({closeButton:!0,closeOnClick:!1})},methods:{async loaded(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,e.forEach(t=>{this.positionShip(t)})},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const s=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${Cm(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(s).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},positionShip(e){if(!e.navigation)return;let t=this;typeof this.map.getLayer(`ship-positions-${e.id}`)<"u"&&this.map.removeLayer(`ship-positions-${e.id}`).removeSource(`ship-positions-${e.id}`),this.map.addSource(`ship-positions-${e.id}`,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:Cm(e.navigation.updated_at)}}]}}),this.map.addLayer({id:`ship-positions-${e.id}`,type:"symbol",source:`ship-positions-${e.id}`,layout:{"icon-image":"ship","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const a=new nl.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click",`ship-positions-${e.id}`,c=>{let d=c.features[0].properties.id;location.href=`/fleet/${d}`}),this.map.on("mouseenter",`ship-positions-${e.id}`,c=>{t.map.getCanvas().style.cursor="pointer";const d=c.features[0].geometry.coordinates.slice(),m=`<b>${c.features[0].properties.name} [ID]</b> at ${c.features[0].properties.sog} <b>kn</b> / ${c.features[0].properties.cog}&deg;<br>last update: <b>${c.features[0].properties.last_update}</b>`;for(;Math.abs(c.lngLat.lng-d[0])>180;)d[0]+=c.lngLat.lng>d[0]?360:-360;a.setLngLat(d).setHTML(m).addTo(t.map)}),this.map.on("mouseleave",`ship-positions-${e.id}`,()=>{t.map.getCanvas().style.cursor="",a.remove()})}}},lG={class:"position-relative"};function cG(e,t,s,a,c,d){const m=Yn("x-records"),n=Yn("x-navigation"),S=Yn("x-camera"),z=Yn("x-notification"),Z=Yn("x-parameter"),O=Yn("x-cctv"),H=Yn("MapboxNavigationControl"),q=Yn("MapboxMap");return Ot(),Ft("div",lG,[Qi(m),Qi(n),Qi(S),Qi(z),Qi(Z),Qi(O),Qi(q,{onMbCreated:t[0]||(t[0]=L=>c.map=L),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 0px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:c.center,zoom:c.zoom},{default:Do(()=>[Qi(H,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])])}const hG=Kn(aG,[["render",cG]]);function E5(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function kS(e={},t={}){Object.keys(t).forEach(s=>{typeof e[s]>"u"?e[s]=t[s]:E5(t[s])&&E5(e[s])&&Object.keys(t[s]).length>0&&kS(e[s],t[s])})}const wA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Zf(){const e=typeof document<"u"?document:{};return kS(e,wA),e}const dG={document:wA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function zc(){const e=typeof window<"u"?window:{};return kS(e,dG),e}function uG(e){const t=e;Object.keys(t).forEach(s=>{try{t[s]=null}catch{}try{delete t[s]}catch{}})}function Uw(e,t=0){return setTimeout(e,t)}function jv(){return Date.now()}function pG(e){const t=zc();let s;return t.getComputedStyle&&(s=t.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s}function fG(e,t="x"){const s=zc();let a,c,d;const m=pG(e);return s.WebKitCSSMatrix?(c=m.transform||m.webkitTransform,c.split(",").length>6&&(c=c.split(", ").map(n=>n.replace(",",".")).join(", ")),d=new s.WebKitCSSMatrix(c==="none"?"":c)):(d=m.MozTransform||m.OTransform||m.MsTransform||m.msTransform||m.transform||m.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=d.toString().split(",")),t==="x"&&(s.WebKitCSSMatrix?c=d.m41:a.length===16?c=parseFloat(a[12]):c=parseFloat(a[4])),t==="y"&&(s.WebKitCSSMatrix?c=d.m42:a.length===16?c=parseFloat(a[13]):c=parseFloat(a[5])),c||0}function qy(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function mG(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function kc(...e){const t=Object(e[0]),s=["__proto__","constructor","prototype"];for(let a=1;a<e.length;a+=1){const c=e[a];if(c!=null&&!mG(c)){const d=Object.keys(Object(c)).filter(m=>s.indexOf(m)<0);for(let m=0,n=d.length;m<n;m+=1){const S=d[m],z=Object.getOwnPropertyDescriptor(c,S);z!==void 0&&z.enumerable&&(qy(t[S])&&qy(c[S])?c[S].__swiper__?t[S]=c[S]:kc(t[S],c[S]):!qy(t[S])&&qy(c[S])?(t[S]={},c[S].__swiper__?t[S]=c[S]:kc(t[S],c[S])):t[S]=c[S])}}}return t}function Xy(e,t,s){e.style.setProperty(t,s)}function SA({swiper:e,targetPosition:t,side:s}){const a=zc(),c=-e.translate;let d=null,m;const n=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const S=t>c?"next":"prev",z=(O,H)=>S==="next"&&O>=H||S==="prev"&&O<=H,Z=()=>{m=new Date().getTime(),d===null&&(d=m);const O=Math.max(Math.min((m-d)/n,1),0),H=.5-Math.cos(O*Math.PI)/2;let q=c+H*(t-c);if(z(q,t)&&(q=t),e.wrapperEl.scrollTo({[s]:q}),z(q,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:q})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(Z)};Z()}function vd(e,t=""){return[...e.children].filter(s=>s.matches(t))}function PS(e,t=[]){const s=document.createElement(e);return s.classList.add(...Array.isArray(t)?t:[t]),s}function gG(e,t){const s=[];for(;e.previousElementSibling;){const a=e.previousElementSibling;t?a.matches(t)&&s.push(a):s.push(a),e=a}return s}function _G(e,t){const s=[];for(;e.nextElementSibling;){const a=e.nextElementSibling;t?a.matches(t)&&s.push(a):s.push(a),e=a}return s}function lp(e,t){return zc().getComputedStyle(e,null).getPropertyValue(t)}function Gw(e){let t=e,s;if(t){for(s=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(s+=1);return s}}function yG(e,t){const s=[];let a=e.parentElement;for(;a;)t?a.matches(t)&&s.push(a):s.push(a),a=a.parentElement;return s}function C5(e,t,s){const a=zc();return s?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(a.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(a.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}let Z2;function vG(){const e=zc(),t=Zf();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function TA(){return Z2||(Z2=vG()),Z2}let K2;function xG({userAgent:e}={}){const t=TA(),s=zc(),a=s.navigator.platform,c=e||s.navigator.userAgent,d={ios:!1,android:!1},m=s.screen.width,n=s.screen.height,S=c.match(/(Android);?[\s\/]+([\d.]+)?/);let z=c.match(/(iPad).*OS\s([\d_]+)/);const Z=c.match(/(iPod)(.*OS\s([\d_]+))?/),O=!z&&c.match(/(iPhone\sOS|iOS)\s([\d_]+)/),H=a==="Win32";let q=a==="MacIntel";const L=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!z&&q&&t.touch&&L.indexOf(`${m}x${n}`)>=0&&(z=c.match(/(Version)\/([\d.]+)/),z||(z=[0,1,"13_0_0"]),q=!1),S&&!H&&(d.os="android",d.android=!0),(z||O||Z)&&(d.os="ios",d.ios=!0),d}function bG(e={}){return K2||(K2=xG(e)),K2}let J2;function wG(){const e=zc();let t=!1;function s(){const a=e.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(s()){const a=String(e.navigator.userAgent);if(a.includes("Version/")){const[c,d]=a.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));t=c<16||c===16&&d<2}}return{isSafari:t||s(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function SG(){return J2||(J2=wG()),J2}function TG({swiper:e,on:t,emit:s}){const a=zc();let c=null,d=null;const m=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},n=()=>{!e||e.destroyed||!e.initialized||(c=new ResizeObserver(Z=>{d=a.requestAnimationFrame(()=>{const{width:O,height:H}=e;let q=O,L=H;Z.forEach(({contentBoxSize:R,contentRect:$,target:M})=>{M&&M!==e.el||(q=$?$.width:(R[0]||R).inlineSize,L=$?$.height:(R[0]||R).blockSize)}),(q!==O||L!==H)&&m()})}),c.observe(e.el))},S=()=>{d&&a.cancelAnimationFrame(d),c&&c.unobserve&&e.el&&(c.unobserve(e.el),c=null)},z=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){n();return}a.addEventListener("resize",m),a.addEventListener("orientationchange",z)}),t("destroy",()=>{S(),a.removeEventListener("resize",m),a.removeEventListener("orientationchange",z)})}function EG({swiper:e,extendParams:t,on:s,emit:a}){const c=[],d=zc(),m=(z,Z={})=>{const O=d.MutationObserver||d.WebkitMutationObserver,H=new O(q=>{if(e.__preventObserver__)return;if(q.length===1){a("observerUpdate",q[0]);return}const L=function(){a("observerUpdate",q[0])};d.requestAnimationFrame?d.requestAnimationFrame(L):d.setTimeout(L,0)});H.observe(z,{attributes:typeof Z.attributes>"u"?!0:Z.attributes,childList:typeof Z.childList>"u"?!0:Z.childList,characterData:typeof Z.characterData>"u"?!0:Z.characterData}),c.push(H)},n=()=>{if(e.params.observer){if(e.params.observeParents){const z=yG(e.el);for(let Z=0;Z<z.length;Z+=1)m(z[Z])}m(e.el,{childList:e.params.observeSlideChildren}),m(e.wrapperEl,{attributes:!1})}},S=()=>{c.forEach(z=>{z.disconnect()}),c.splice(0,c.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",n),s("destroy",S)}const CG={on(e,t,s){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;const c=s?"unshift":"push";return e.split(" ").forEach(d=>{a.eventsListeners[d]||(a.eventsListeners[d]=[]),a.eventsListeners[d][c](t)}),a},once(e,t,s){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;function c(...d){a.off(e,c),c.__emitterProxy&&delete c.__emitterProxy,t.apply(a,d)}return c.__emitterProxy=t,a.on(e,c,s)},onAny(e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const a=t?"unshift":"push";return s.eventsAnyListeners.indexOf(e)<0&&s.eventsAnyListeners[a](e),s},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const s=t.eventsAnyListeners.indexOf(e);return s>=0&&t.eventsAnyListeners.splice(s,1),t},off(e,t){const s=this;return!s.eventsListeners||s.destroyed||!s.eventsListeners||e.split(" ").forEach(a=>{typeof t>"u"?s.eventsListeners[a]=[]:s.eventsListeners[a]&&s.eventsListeners[a].forEach((c,d)=>{(c===t||c.__emitterProxy&&c.__emitterProxy===t)&&s.eventsListeners[a].splice(d,1)})}),s},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let s,a,c;return typeof e[0]=="string"||Array.isArray(e[0])?(s=e[0],a=e.slice(1,e.length),c=t):(s=e[0].events,a=e[0].data,c=e[0].context||t),a.unshift(c),(Array.isArray(s)?s:s.split(" ")).forEach(m=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(n=>{n.apply(c,[m,...a])}),t.eventsListeners&&t.eventsListeners[m]&&t.eventsListeners[m].forEach(n=>{n.apply(c,a)})}),t}};function MG(){const e=this;let t,s;const a=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=a.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?s=e.params.height:s=a.clientHeight,!(t===0&&e.isHorizontal()||s===0&&e.isVertical())&&(t=t-parseInt(lp(a,"padding-left")||0,10)-parseInt(lp(a,"padding-right")||0,10),s=s-parseInt(lp(a,"padding-top")||0,10)-parseInt(lp(a,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:t,height:s,size:e.isHorizontal()?t:s}))}function AG(){const e=this;function t(W){return e.isHorizontal()?W:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[W]}function s(W,w){return parseFloat(W.getPropertyValue(t(w))||0)}const a=e.params,{wrapperEl:c,slidesEl:d,size:m,rtlTranslate:n,wrongRTL:S}=e,z=e.virtual&&a.virtual.enabled,Z=z?e.virtual.slides.length:e.slides.length,O=vd(d,`.${e.params.slideClass}, swiper-slide`),H=z?e.virtual.slides.length:O.length;let q=[];const L=[],R=[];let $=a.slidesOffsetBefore;typeof $=="function"&&($=a.slidesOffsetBefore.call(e));let M=a.slidesOffsetAfter;typeof M=="function"&&(M=a.slidesOffsetAfter.call(e));const E=e.snapGrid.length,k=e.slidesGrid.length;let V=a.spaceBetween,G=-$,C=0,te=0;if(typeof m>"u")return;typeof V=="string"&&V.indexOf("%")>=0?V=parseFloat(V.replace("%",""))/100*m:typeof V=="string"&&(V=parseFloat(V)),e.virtualSize=-V,O.forEach(W=>{n?W.style.marginLeft="":W.style.marginRight="",W.style.marginBottom="",W.style.marginTop=""}),a.centeredSlides&&a.cssMode&&(Xy(c,"--swiper-centered-offset-before",""),Xy(c,"--swiper-centered-offset-after",""));const Q=a.grid&&a.grid.rows>1&&e.grid;Q&&e.grid.initSlides(H);let N;const j=a.slidesPerView==="auto"&&a.breakpoints&&Object.keys(a.breakpoints).filter(W=>typeof a.breakpoints[W].slidesPerView<"u").length>0;for(let W=0;W<H;W+=1){N=0;let w;if(O[W]&&(w=O[W]),Q&&e.grid.updateSlide(W,w,H,t),!(O[W]&&lp(w,"display")==="none")){if(a.slidesPerView==="auto"){j&&(O[W].style[t("width")]="");const D=getComputedStyle(w),f=w.style.transform,g=w.style.webkitTransform;if(f&&(w.style.transform="none"),g&&(w.style.webkitTransform="none"),a.roundLengths)N=e.isHorizontal()?C5(w,"width",!0):C5(w,"height",!0);else{const x=s(D,"width"),P=s(D,"padding-left"),Y=s(D,"padding-right"),ee=s(D,"margin-left"),K=s(D,"margin-right"),he=D.getPropertyValue("box-sizing");if(he&&he==="border-box")N=x+ee+K;else{const{clientWidth:ge,offsetWidth:Ee}=w;N=x+P+Y+ee+K+(Ee-ge)}}f&&(w.style.transform=f),g&&(w.style.webkitTransform=g),a.roundLengths&&(N=Math.floor(N))}else N=(m-(a.slidesPerView-1)*V)/a.slidesPerView,a.roundLengths&&(N=Math.floor(N)),O[W]&&(O[W].style[t("width")]=`${N}px`);O[W]&&(O[W].swiperSlideSize=N),R.push(N),a.centeredSlides?(G=G+N/2+C/2+V,C===0&&W!==0&&(G=G-m/2-V),W===0&&(G=G-m/2-V),Math.abs(G)<1/1e3&&(G=0),a.roundLengths&&(G=Math.floor(G)),te%a.slidesPerGroup===0&&q.push(G),L.push(G)):(a.roundLengths&&(G=Math.floor(G)),(te-Math.min(e.params.slidesPerGroupSkip,te))%e.params.slidesPerGroup===0&&q.push(G),L.push(G),G=G+N+V),e.virtualSize+=N+V,C=N,te+=1}}if(e.virtualSize=Math.max(e.virtualSize,m)+M,n&&S&&(a.effect==="slide"||a.effect==="coverflow")&&(c.style.width=`${e.virtualSize+V}px`),a.setWrapperSize&&(c.style[t("width")]=`${e.virtualSize+V}px`),Q&&e.grid.updateWrapperSize(N,q,t),!a.centeredSlides){const W=[];for(let w=0;w<q.length;w+=1){let D=q[w];a.roundLengths&&(D=Math.floor(D)),q[w]<=e.virtualSize-m&&W.push(D)}q=W,Math.floor(e.virtualSize-m)-Math.floor(q[q.length-1])>1&&q.push(e.virtualSize-m)}if(z&&a.loop){const W=R[0]+V;if(a.slidesPerGroup>1){const w=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/a.slidesPerGroup),D=W*a.slidesPerGroup;for(let f=0;f<w;f+=1)q.push(q[q.length-1]+D)}for(let w=0;w<e.virtual.slidesBefore+e.virtual.slidesAfter;w+=1)a.slidesPerGroup===1&&q.push(q[q.length-1]+W),L.push(L[L.length-1]+W),e.virtualSize+=W}if(q.length===0&&(q=[0]),V!==0){const W=e.isHorizontal()&&n?"marginLeft":t("marginRight");O.filter((w,D)=>!a.cssMode||a.loop?!0:D!==O.length-1).forEach(w=>{w.style[W]=`${V}px`})}if(a.centeredSlides&&a.centeredSlidesBounds){let W=0;R.forEach(D=>{W+=D+(V||0)}),W-=V;const w=W-m;q=q.map(D=>D<0?-$:D>w?w+M:D)}if(a.centerInsufficientSlides){let W=0;if(R.forEach(w=>{W+=w+(V||0)}),W-=V,W<m){const w=(m-W)/2;q.forEach((D,f)=>{q[f]=D-w}),L.forEach((D,f)=>{L[f]=D+w})}}if(Object.assign(e,{slides:O,snapGrid:q,slidesGrid:L,slidesSizesGrid:R}),a.centeredSlides&&a.cssMode&&!a.centeredSlidesBounds){Xy(c,"--swiper-centered-offset-before",`${-q[0]}px`),Xy(c,"--swiper-centered-offset-after",`${e.size/2-R[R.length-1]/2}px`);const W=-e.snapGrid[0],w=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(D=>D+W),e.slidesGrid=e.slidesGrid.map(D=>D+w)}if(H!==Z&&e.emit("slidesLengthChange"),q.length!==E&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),L.length!==k&&e.emit("slidesGridLengthChange"),a.watchSlidesProgress&&e.updateSlidesOffset(),!z&&!a.cssMode&&(a.effect==="slide"||a.effect==="fade")){const W=`${a.containerModifierClass}backface-hidden`,w=e.el.classList.contains(W);H<=a.maxBackfaceHiddenSlides?w||e.el.classList.add(W):w&&e.el.classList.remove(W)}}function kG(e){const t=this,s=[],a=t.virtual&&t.params.virtual.enabled;let c=0,d;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const m=n=>a?t.slides[t.getSlideIndexByData(n)]:t.slides[n];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(n=>{s.push(n)});else for(d=0;d<Math.ceil(t.params.slidesPerView);d+=1){const n=t.activeIndex+d;if(n>t.slides.length&&!a)break;s.push(m(n))}else s.push(m(t.activeIndex));for(d=0;d<s.length;d+=1)if(typeof s[d]<"u"){const n=s[d].offsetHeight;c=n>c?n:c}(c||c===0)&&(t.wrapperEl.style.height=`${c}px`)}function PG(){const e=this,t=e.slides,s=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let a=0;a<t.length;a+=1)t[a].swiperSlideOffset=(e.isHorizontal()?t[a].offsetLeft:t[a].offsetTop)-s-e.cssOverflowAdjustment()}function DG(e=this&&this.translate||0){const t=this,s=t.params,{slides:a,rtlTranslate:c,snapGrid:d}=t;if(a.length===0)return;typeof a[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let m=-e;c&&(m=e),a.forEach(S=>{S.classList.remove(s.slideVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let n=s.spaceBetween;typeof n=="string"&&n.indexOf("%")>=0?n=parseFloat(n.replace("%",""))/100*t.size:typeof n=="string"&&(n=parseFloat(n));for(let S=0;S<a.length;S+=1){const z=a[S];let Z=z.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(Z-=a[0].swiperSlideOffset);const O=(m+(s.centeredSlides?t.minTranslate():0)-Z)/(z.swiperSlideSize+n),H=(m-d[0]+(s.centeredSlides?t.minTranslate():0)-Z)/(z.swiperSlideSize+n),q=-(m-Z),L=q+t.slidesSizesGrid[S];(q>=0&&q<t.size-1||L>1&&L<=t.size||q<=0&&L>=t.size)&&(t.visibleSlides.push(z),t.visibleSlidesIndexes.push(S),a[S].classList.add(s.slideVisibleClass)),z.progress=c?-O:O,z.originalProgress=c?-H:H}}function IG(e){const t=this;if(typeof e>"u"){const Z=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*Z||0}const s=t.params,a=t.maxTranslate()-t.minTranslate();let{progress:c,isBeginning:d,isEnd:m,progressLoop:n}=t;const S=d,z=m;if(a===0)c=0,d=!0,m=!0;else{c=(e-t.minTranslate())/a;const Z=Math.abs(e-t.minTranslate())<1,O=Math.abs(e-t.maxTranslate())<1;d=Z||c<=0,m=O||c>=1,Z&&(c=0),O&&(c=1)}if(s.loop){const Z=t.getSlideIndexByData(0),O=t.getSlideIndexByData(t.slides.length-1),H=t.slidesGrid[Z],q=t.slidesGrid[O],L=t.slidesGrid[t.slidesGrid.length-1],R=Math.abs(e);R>=H?n=(R-H)/L:n=(R+L-q)/L,n>1&&(n-=1)}Object.assign(t,{progress:c,progressLoop:n,isBeginning:d,isEnd:m}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&t.updateSlidesProgress(e),d&&!S&&t.emit("reachBeginning toEdge"),m&&!z&&t.emit("reachEnd toEdge"),(S&&!d||z&&!m)&&t.emit("fromEdge"),t.emit("progress",c)}function LG(){const e=this,{slides:t,params:s,slidesEl:a,activeIndex:c}=e,d=e.virtual&&s.virtual.enabled,m=S=>vd(a,`.${s.slideClass}${S}, swiper-slide${S}`)[0];t.forEach(S=>{S.classList.remove(s.slideActiveClass,s.slideNextClass,s.slidePrevClass)});let n;if(d)if(s.loop){let S=c-e.virtual.slidesBefore;S<0&&(S=e.virtual.slides.length+S),S>=e.virtual.slides.length&&(S-=e.virtual.slides.length),n=m(`[data-swiper-slide-index="${S}"]`)}else n=m(`[data-swiper-slide-index="${c}"]`);else n=t[c];if(n){n.classList.add(s.slideActiveClass);let S=_G(n,`.${s.slideClass}, swiper-slide`)[0];s.loop&&!S&&(S=t[0]),S&&S.classList.add(s.slideNextClass);let z=gG(n,`.${s.slideClass}, swiper-slide`)[0];s.loop&&!z===0&&(z=t[t.length-1]),z&&z.classList.add(s.slidePrevClass)}e.emitSlidesClasses()}const cv=(e,t)=>{if(!e||e.destroyed||!e.params)return;const s=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,a=t.closest(s());if(a){const c=a.querySelector(`.${e.params.lazyPreloaderClass}`);c&&c.remove()}},M5=(e,t)=>{if(!e.slides[t])return;const s=e.slides[t].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},Vw=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const s=e.slides.length;if(!s||!t||t<0)return;t=Math.min(t,s);const a=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),c=e.activeIndex,d=c+a-1;if(e.params.rewind)for(let m=c-t;m<=d+t;m+=1){const n=(m%s+s)%s;n!==c&&n>d&&M5(e,n)}else for(let m=Math.max(d-t,0);m<=Math.min(d+t,s-1);m+=1)m!==c&&m>d&&M5(e,m)};function OG(e){const{slidesGrid:t,params:s}=e,a=e.rtlTranslate?e.translate:-e.translate;let c;for(let d=0;d<t.length;d+=1)typeof t[d+1]<"u"?a>=t[d]&&a<t[d+1]-(t[d+1]-t[d])/2?c=d:a>=t[d]&&a<t[d+1]&&(c=d+1):a>=t[d]&&(c=d);return s.normalizeSlideIndex&&(c<0||typeof c>"u")&&(c=0),c}function RG(e){const t=this,s=t.rtlTranslate?t.translate:-t.translate,{snapGrid:a,params:c,activeIndex:d,realIndex:m,snapIndex:n}=t;let S=e,z;const Z=H=>{let q=H-t.virtual.slidesBefore;return q<0&&(q=t.virtual.slides.length+q),q>=t.virtual.slides.length&&(q-=t.virtual.slides.length),q};if(typeof S>"u"&&(S=OG(t)),a.indexOf(s)>=0)z=a.indexOf(s);else{const H=Math.min(c.slidesPerGroupSkip,S);z=H+Math.floor((S-H)/c.slidesPerGroup)}if(z>=a.length&&(z=a.length-1),S===d){z!==n&&(t.snapIndex=z,t.emit("snapIndexChange")),t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=Z(S));return}let O;t.virtual&&c.virtual.enabled&&c.loop?O=Z(S):t.slides[S]?O=parseInt(t.slides[S].getAttribute("data-swiper-slide-index")||S,10):O=S,Object.assign(t,{previousSnapIndex:n,snapIndex:z,previousRealIndex:m,realIndex:O,previousIndex:d,activeIndex:S}),t.initialized&&Vw(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),m!==O&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")}function BG(e){const t=this,s=t.params,a=e.closest(`.${s.slideClass}, swiper-slide`);let c=!1,d;if(a){for(let m=0;m<t.slides.length;m+=1)if(t.slides[m]===a){c=!0,d=m;break}}if(a&&c)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=d;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}s.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}const zG={updateSize:MG,updateSlides:AG,updateAutoHeight:kG,updateSlidesOffset:PG,updateSlidesProgress:DG,updateProgress:IG,updateSlidesClasses:LG,updateActiveIndex:RG,updateClickedSlide:BG};function FG(e=this.isHorizontal()?"x":"y"){const t=this,{params:s,rtlTranslate:a,translate:c,wrapperEl:d}=t;if(s.virtualTranslate)return a?-c:c;if(s.cssMode)return c;let m=fG(d,e);return m+=t.cssOverflowAdjustment(),a&&(m=-m),m||0}function NG(e,t){const s=this,{rtlTranslate:a,params:c,wrapperEl:d,progress:m}=s;let n=0,S=0;const z=0;s.isHorizontal()?n=a?-e:e:S=e,c.roundLengths&&(n=Math.floor(n),S=Math.floor(S)),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?n:S,c.cssMode?d[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-n:-S:c.virtualTranslate||(s.isHorizontal()?n-=s.cssOverflowAdjustment():S-=s.cssOverflowAdjustment(),d.style.transform=`translate3d(${n}px, ${S}px, ${z}px)`);let Z;const O=s.maxTranslate()-s.minTranslate();O===0?Z=0:Z=(e-s.minTranslate())/O,Z!==m&&s.updateProgress(e),s.emit("setTranslate",s.translate,t)}function jG(){return-this.snapGrid[0]}function UG(){return-this.snapGrid[this.snapGrid.length-1]}function GG(e=0,t=this.params.speed,s=!0,a=!0,c){const d=this,{params:m,wrapperEl:n}=d;if(d.animating&&m.preventInteractionOnTransition)return!1;const S=d.minTranslate(),z=d.maxTranslate();let Z;if(a&&e>S?Z=S:a&&e<z?Z=z:Z=e,d.updateProgress(Z),m.cssMode){const O=d.isHorizontal();if(t===0)n[O?"scrollLeft":"scrollTop"]=-Z;else{if(!d.support.smoothScroll)return SA({swiper:d,targetPosition:-Z,side:O?"left":"top"}),!0;n.scrollTo({[O?"left":"top"]:-Z,behavior:"smooth"})}return!0}return t===0?(d.setTransition(0),d.setTranslate(Z),s&&(d.emit("beforeTransitionStart",t,c),d.emit("transitionEnd"))):(d.setTransition(t),d.setTranslate(Z),s&&(d.emit("beforeTransitionStart",t,c),d.emit("transitionStart")),d.animating||(d.animating=!0,d.onTranslateToWrapperTransitionEnd||(d.onTranslateToWrapperTransitionEnd=function(H){!d||d.destroyed||H.target===this&&(d.wrapperEl.removeEventListener("transitionend",d.onTranslateToWrapperTransitionEnd),d.onTranslateToWrapperTransitionEnd=null,delete d.onTranslateToWrapperTransitionEnd,s&&d.emit("transitionEnd"))}),d.wrapperEl.addEventListener("transitionend",d.onTranslateToWrapperTransitionEnd))),!0}const VG={getTranslate:FG,setTranslate:NG,minTranslate:jG,maxTranslate:UG,translateTo:GG};function $G(e,t){const s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${e}ms`),s.emit("setTransition",e,t)}function EA({swiper:e,runCallbacks:t,direction:s,step:a}){const{activeIndex:c,previousIndex:d}=e;let m=s;if(m||(c>d?m="next":c<d?m="prev":m="reset"),e.emit(`transition${a}`),t&&c!==d){if(m==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),m==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function HG(e=!0,t){const s=this,{params:a}=s;a.cssMode||(a.autoHeight&&s.updateAutoHeight(),EA({swiper:s,runCallbacks:e,direction:t,step:"Start"}))}function WG(e=!0,t){const s=this,{params:a}=s;s.animating=!1,!a.cssMode&&(s.setTransition(0),EA({swiper:s,runCallbacks:e,direction:t,step:"End"}))}const YG={setTransition:$G,transitionStart:HG,transitionEnd:WG};function qG(e=0,t=this.params.speed,s=!0,a,c){typeof e=="string"&&(e=parseInt(e,10));const d=this;let m=e;m<0&&(m=0);const{params:n,snapGrid:S,slidesGrid:z,previousIndex:Z,activeIndex:O,rtlTranslate:H,wrapperEl:q,enabled:L}=d;if(d.animating&&n.preventInteractionOnTransition||!L&&!a&&!c)return!1;const R=Math.min(d.params.slidesPerGroupSkip,m);let $=R+Math.floor((m-R)/d.params.slidesPerGroup);$>=S.length&&($=S.length-1);const M=-S[$];if(n.normalizeSlideIndex)for(let k=0;k<z.length;k+=1){const V=-Math.floor(M*100),G=Math.floor(z[k]*100),C=Math.floor(z[k+1]*100);typeof z[k+1]<"u"?V>=G&&V<C-(C-G)/2?m=k:V>=G&&V<C&&(m=k+1):V>=G&&(m=k)}if(d.initialized&&m!==O&&(!d.allowSlideNext&&M<d.translate&&M<d.minTranslate()||!d.allowSlidePrev&&M>d.translate&&M>d.maxTranslate()&&(O||0)!==m))return!1;m!==(Z||0)&&s&&d.emit("beforeSlideChangeStart"),d.updateProgress(M);let E;if(m>O?E="next":m<O?E="prev":E="reset",H&&-M===d.translate||!H&&M===d.translate)return d.updateActiveIndex(m),n.autoHeight&&d.updateAutoHeight(),d.updateSlidesClasses(),n.effect!=="slide"&&d.setTranslate(M),E!=="reset"&&(d.transitionStart(s,E),d.transitionEnd(s,E)),!1;if(n.cssMode){const k=d.isHorizontal(),V=H?M:-M;if(t===0){const G=d.virtual&&d.params.virtual.enabled;G&&(d.wrapperEl.style.scrollSnapType="none",d._immediateVirtual=!0),G&&!d._cssModeVirtualInitialSet&&d.params.initialSlide>0?(d._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{q[k?"scrollLeft":"scrollTop"]=V})):q[k?"scrollLeft":"scrollTop"]=V,G&&requestAnimationFrame(()=>{d.wrapperEl.style.scrollSnapType="",d._immediateVirtual=!1})}else{if(!d.support.smoothScroll)return SA({swiper:d,targetPosition:V,side:k?"left":"top"}),!0;q.scrollTo({[k?"left":"top"]:V,behavior:"smooth"})}return!0}return d.setTransition(t),d.setTranslate(M),d.updateActiveIndex(m),d.updateSlidesClasses(),d.emit("beforeTransitionStart",t,a),d.transitionStart(s,E),t===0?d.transitionEnd(s,E):d.animating||(d.animating=!0,d.onSlideToWrapperTransitionEnd||(d.onSlideToWrapperTransitionEnd=function(V){!d||d.destroyed||V.target===this&&(d.wrapperEl.removeEventListener("transitionend",d.onSlideToWrapperTransitionEnd),d.onSlideToWrapperTransitionEnd=null,delete d.onSlideToWrapperTransitionEnd,d.transitionEnd(s,E))}),d.wrapperEl.addEventListener("transitionend",d.onSlideToWrapperTransitionEnd)),!0}function XG(e=0,t=this.params.speed,s=!0,a){typeof e=="string"&&(e=parseInt(e,10));const c=this;let d=e;return c.params.loop&&(c.virtual&&c.params.virtual.enabled?d=d+c.virtual.slidesBefore:d=c.getSlideIndexByData(d)),c.slideTo(d,t,s,a)}function ZG(e=this.params.speed,t=!0,s){const a=this,{enabled:c,params:d,animating:m}=a;if(!c)return a;let n=d.slidesPerGroup;d.slidesPerView==="auto"&&d.slidesPerGroup===1&&d.slidesPerGroupAuto&&(n=Math.max(a.slidesPerViewDynamic("current",!0),1));const S=a.activeIndex<d.slidesPerGroupSkip?1:n,z=a.virtual&&d.virtual.enabled;if(d.loop){if(m&&!z&&d.loopPreventsSliding)return!1;a.loopFix({direction:"next"}),a._clientLeft=a.wrapperEl.clientLeft}return d.rewind&&a.isEnd?a.slideTo(0,e,t,s):a.slideTo(a.activeIndex+S,e,t,s)}function KG(e=this.params.speed,t=!0,s){const a=this,{params:c,snapGrid:d,slidesGrid:m,rtlTranslate:n,enabled:S,animating:z}=a;if(!S)return a;const Z=a.virtual&&c.virtual.enabled;if(c.loop){if(z&&!Z&&c.loopPreventsSliding)return!1;a.loopFix({direction:"prev"}),a._clientLeft=a.wrapperEl.clientLeft}const O=n?a.translate:-a.translate;function H(M){return M<0?-Math.floor(Math.abs(M)):Math.floor(M)}const q=H(O),L=d.map(M=>H(M));let R=d[L.indexOf(q)-1];if(typeof R>"u"&&c.cssMode){let M;d.forEach((E,k)=>{q>=E&&(M=k)}),typeof M<"u"&&(R=d[M>0?M-1:M])}let $=0;if(typeof R<"u"&&($=m.indexOf(R),$<0&&($=a.activeIndex-1),c.slidesPerView==="auto"&&c.slidesPerGroup===1&&c.slidesPerGroupAuto&&($=$-a.slidesPerViewDynamic("previous",!0)+1,$=Math.max($,0))),c.rewind&&a.isBeginning){const M=a.params.virtual&&a.params.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1;return a.slideTo(M,e,t,s)}return a.slideTo($,e,t,s)}function JG(e=this.params.speed,t=!0,s){const a=this;return a.slideTo(a.activeIndex,e,t,s)}function QG(e=this.params.speed,t=!0,s,a=.5){const c=this;let d=c.activeIndex;const m=Math.min(c.params.slidesPerGroupSkip,d),n=m+Math.floor((d-m)/c.params.slidesPerGroup),S=c.rtlTranslate?c.translate:-c.translate;if(S>=c.snapGrid[n]){const z=c.snapGrid[n],Z=c.snapGrid[n+1];S-z>(Z-z)*a&&(d+=c.params.slidesPerGroup)}else{const z=c.snapGrid[n-1],Z=c.snapGrid[n];S-z<=(Z-z)*a&&(d-=c.params.slidesPerGroup)}return d=Math.max(d,0),d=Math.min(d,c.slidesGrid.length-1),c.slideTo(d,e,t,s)}function eV(){const e=this,{params:t,slidesEl:s}=e,a=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let c=e.clickedIndex,d;const m=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;d=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?c<e.loopedSlides-a/2||c>e.slides.length-e.loopedSlides+a/2?(e.loopFix(),c=e.getSlideIndex(vd(s,`${m}[data-swiper-slide-index="${d}"]`)[0]),Uw(()=>{e.slideTo(c)})):e.slideTo(c):c>e.slides.length-a?(e.loopFix(),c=e.getSlideIndex(vd(s,`${m}[data-swiper-slide-index="${d}"]`)[0]),Uw(()=>{e.slideTo(c)})):e.slideTo(c)}else e.slideTo(c)}const tV={slideTo:qG,slideToLoop:XG,slideNext:ZG,slidePrev:KG,slideReset:JG,slideToClosest:QG,slideToClickedSlide:eV};function iV(e){const t=this,{params:s,slidesEl:a}=t;if(!s.loop||t.virtual&&t.params.virtual.enabled)return;vd(a,`.${s.slideClass}, swiper-slide`).forEach((d,m)=>{d.setAttribute("data-swiper-slide-index",m)}),t.loopFix({slideRealIndex:e,direction:s.centeredSlides?void 0:"next"})}function nV({slideRealIndex:e,slideTo:t=!0,direction:s,setTranslate:a,activeSlideIndex:c,byController:d,byMousewheel:m}={}){const n=this;if(!n.params.loop)return;n.emit("beforeLoopFix");const{slides:S,allowSlidePrev:z,allowSlideNext:Z,slidesEl:O,params:H}=n;if(n.allowSlidePrev=!0,n.allowSlideNext=!0,n.virtual&&H.virtual.enabled){t&&(!H.centeredSlides&&n.snapIndex===0?n.slideTo(n.virtual.slides.length,0,!1,!0):H.centeredSlides&&n.snapIndex<H.slidesPerView?n.slideTo(n.virtual.slides.length+n.snapIndex,0,!1,!0):n.snapIndex===n.snapGrid.length-1&&n.slideTo(n.virtual.slidesBefore,0,!1,!0)),n.allowSlidePrev=z,n.allowSlideNext=Z,n.emit("loopFix");return}const q=H.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(H.slidesPerView,10));let L=H.loopedSlides||q;L%H.slidesPerGroup!==0&&(L+=H.slidesPerGroup-L%H.slidesPerGroup),n.loopedSlides=L;const R=[],$=[];let M=n.activeIndex;typeof c>"u"?c=n.getSlideIndex(n.slides.filter(C=>C.classList.contains(H.slideActiveClass))[0]):M=c;const E=s==="next"||!s,k=s==="prev"||!s;let V=0,G=0;if(c<L){V=Math.max(L-c,H.slidesPerGroup);for(let C=0;C<L-c;C+=1){const te=C-Math.floor(C/S.length)*S.length;R.push(S.length-te-1)}}else if(c>n.slides.length-L*2){G=Math.max(c-(n.slides.length-L*2),H.slidesPerGroup);for(let C=0;C<G;C+=1){const te=C-Math.floor(C/S.length)*S.length;$.push(te)}}if(k&&R.forEach(C=>{n.slides[C].swiperLoopMoveDOM=!0,O.prepend(n.slides[C]),n.slides[C].swiperLoopMoveDOM=!1}),E&&$.forEach(C=>{n.slides[C].swiperLoopMoveDOM=!0,O.append(n.slides[C]),n.slides[C].swiperLoopMoveDOM=!1}),n.recalcSlides(),H.slidesPerView==="auto"&&n.updateSlides(),H.watchSlidesProgress&&n.updateSlidesOffset(),t){if(R.length>0&&k)if(typeof e>"u"){const C=n.slidesGrid[M],Q=n.slidesGrid[M+V]-C;m?n.setTranslate(n.translate-Q):(n.slideTo(M+V,0,!1,!0),a&&(n.touches[n.isHorizontal()?"startX":"startY"]+=Q))}else a&&n.slideToLoop(e,0,!1,!0);else if($.length>0&&E)if(typeof e>"u"){const C=n.slidesGrid[M],Q=n.slidesGrid[M-G]-C;m?n.setTranslate(n.translate-Q):(n.slideTo(M-G,0,!1,!0),a&&(n.touches[n.isHorizontal()?"startX":"startY"]+=Q))}else n.slideToLoop(e,0,!1,!0)}if(n.allowSlidePrev=z,n.allowSlideNext=Z,n.controller&&n.controller.control&&!d){const C={slideRealIndex:e,slideTo:!1,direction:s,setTranslate:a,activeSlideIndex:c,byController:!0};Array.isArray(n.controller.control)?n.controller.control.forEach(te=>{!te.destroyed&&te.params.loop&&te.loopFix(C)}):n.controller.control instanceof n.constructor&&n.controller.control.params.loop&&n.controller.control.loopFix(C)}n.emit("loopFix")}function sV(){const e=this,{params:t,slidesEl:s}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const a=[];e.slides.forEach(c=>{const d=typeof c.swiperSlideIndex>"u"?c.getAttribute("data-swiper-slide-index")*1:c.swiperSlideIndex;a[d]=c}),e.slides.forEach(c=>{c.removeAttribute("data-swiper-slide-index")}),a.forEach(c=>{s.append(c)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}const rV={loopCreate:iV,loopFix:nV,loopDestroy:sV};function oV(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const s=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function aV(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}const lV={setGrabCursor:oV,unsetGrabCursor:aV};function cV(e,t=this){function s(a){if(!a||a===Zf()||a===zc())return null;a.assignedSlot&&(a=a.assignedSlot);const c=a.closest(e);return!c&&!a.getRootNode?null:c||s(a.getRootNode().host)}return s(t)}function hV(e){const t=this,s=Zf(),a=zc(),c=t.touchEventsData;c.evCache.push(e);const{params:d,touches:m,enabled:n}=t;if(!n||!d.simulateTouch&&e.pointerType==="mouse"||t.animating&&d.preventInteractionOnTransition)return;!t.animating&&d.cssMode&&d.loop&&t.loopFix();let S=e;S.originalEvent&&(S=S.originalEvent);let z=S.target;if(d.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(z)||"which"in S&&S.which===3||"button"in S&&S.button>0||c.isTouched&&c.isMoved)return;const Z=!!d.noSwipingClass&&d.noSwipingClass!=="",O=e.composedPath?e.composedPath():e.path;Z&&S.target&&S.target.shadowRoot&&O&&(z=O[0]);const H=d.noSwipingSelector?d.noSwipingSelector:`.${d.noSwipingClass}`,q=!!(S.target&&S.target.shadowRoot);if(d.noSwiping&&(q?cV(H,z):z.closest(H))){t.allowClick=!0;return}if(d.swipeHandler&&!z.closest(d.swipeHandler))return;m.currentX=S.pageX,m.currentY=S.pageY;const L=m.currentX,R=m.currentY,$=d.edgeSwipeDetection||d.iOSEdgeSwipeDetection,M=d.edgeSwipeThreshold||d.iOSEdgeSwipeThreshold;if($&&(L<=M||L>=a.innerWidth-M))if($==="prevent")e.preventDefault();else return;Object.assign(c,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),m.startX=L,m.startY=R,c.touchStartTime=jv(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,d.threshold>0&&(c.allowThresholdMove=!1);let E=!0;z.matches(c.focusableElements)&&(E=!1,z.nodeName==="SELECT"&&(c.isTouched=!1)),s.activeElement&&s.activeElement.matches(c.focusableElements)&&s.activeElement!==z&&s.activeElement.blur();const k=E&&t.allowTouchMove&&d.touchStartPreventDefault;(d.touchStartForcePreventDefault||k)&&!z.isContentEditable&&S.preventDefault(),t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!d.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",S)}function dV(e){const t=Zf(),s=this,a=s.touchEventsData,{params:c,touches:d,rtlTranslate:m,enabled:n}=s;if(!n||!c.simulateTouch&&e.pointerType==="mouse")return;let S=e;if(S.originalEvent&&(S=S.originalEvent),!a.isTouched){a.startMoving&&a.isScrolling&&s.emit("touchMoveOpposite",S);return}const z=a.evCache.findIndex(C=>C.pointerId===S.pointerId);z>=0&&(a.evCache[z]=S);const Z=a.evCache.length>1?a.evCache[0]:S,O=Z.pageX,H=Z.pageY;if(S.preventedByNestedSwiper){d.startX=O,d.startY=H;return}if(!s.allowTouchMove){S.target.matches(a.focusableElements)||(s.allowClick=!1),a.isTouched&&(Object.assign(d,{startX:O,startY:H,prevX:s.touches.currentX,prevY:s.touches.currentY,currentX:O,currentY:H}),a.touchStartTime=jv());return}if(c.touchReleaseOnEdges&&!c.loop){if(s.isVertical()){if(H<d.startY&&s.translate<=s.maxTranslate()||H>d.startY&&s.translate>=s.minTranslate()){a.isTouched=!1,a.isMoved=!1;return}}else if(O<d.startX&&s.translate<=s.maxTranslate()||O>d.startX&&s.translate>=s.minTranslate())return}if(t.activeElement&&S.target===t.activeElement&&S.target.matches(a.focusableElements)){a.isMoved=!0,s.allowClick=!1;return}if(a.allowTouchCallbacks&&s.emit("touchMove",S),S.targetTouches&&S.targetTouches.length>1)return;d.currentX=O,d.currentY=H;const q=d.currentX-d.startX,L=d.currentY-d.startY;if(s.params.threshold&&Math.sqrt(q**2+L**2)<s.params.threshold)return;if(typeof a.isScrolling>"u"){let C;s.isHorizontal()&&d.currentY===d.startY||s.isVertical()&&d.currentX===d.startX?a.isScrolling=!1:q*q+L*L>=25&&(C=Math.atan2(Math.abs(L),Math.abs(q))*180/Math.PI,a.isScrolling=s.isHorizontal()?C>c.touchAngle:90-C>c.touchAngle)}if(a.isScrolling&&s.emit("touchMoveOpposite",S),typeof a.startMoving>"u"&&(d.currentX!==d.startX||d.currentY!==d.startY)&&(a.startMoving=!0),a.isScrolling||s.zoom&&s.params.zoom&&s.params.zoom.enabled&&a.evCache.length>1){a.isTouched=!1;return}if(!a.startMoving)return;s.allowClick=!1,!c.cssMode&&S.cancelable&&S.preventDefault(),c.touchMoveStopPropagation&&!c.nested&&S.stopPropagation();let R=s.isHorizontal()?q:L,$=s.isHorizontal()?d.currentX-d.previousX:d.currentY-d.previousY;c.oneWayMovement&&(R=Math.abs(R)*(m?1:-1),$=Math.abs($)*(m?1:-1)),d.diff=R,R*=c.touchRatio,m&&(R=-R,$=-$);const M=s.touchesDirection;s.swipeDirection=R>0?"prev":"next",s.touchesDirection=$>0?"prev":"next";const E=s.params.loop&&!c.cssMode;if(!a.isMoved){if(E&&s.loopFix({direction:s.swipeDirection}),a.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){const C=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});s.wrapperEl.dispatchEvent(C)}a.allowMomentumBounce=!1,c.grabCursor&&(s.allowSlideNext===!0||s.allowSlidePrev===!0)&&s.setGrabCursor(!0),s.emit("sliderFirstMove",S)}let k;a.isMoved&&M!==s.touchesDirection&&E&&Math.abs(R)>=1&&(s.loopFix({direction:s.swipeDirection,setTranslate:!0}),k=!0),s.emit("sliderMove",S),a.isMoved=!0,a.currentTranslate=R+a.startTranslate;let V=!0,G=c.resistanceRatio;if(c.touchReleaseOnEdges&&(G=0),R>0?(E&&!k&&a.currentTranslate>(c.centeredSlides?s.minTranslate()-s.size/2:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),a.currentTranslate>s.minTranslate()&&(V=!1,c.resistance&&(a.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+a.startTranslate+R)**G))):R<0&&(E&&!k&&a.currentTranslate<(c.centeredSlides?s.maxTranslate()+s.size/2:s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-(c.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(c.slidesPerView,10)))}),a.currentTranslate<s.maxTranslate()&&(V=!1,c.resistance&&(a.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-a.startTranslate-R)**G))),V&&(S.preventedByNestedSwiper=!0),!s.allowSlideNext&&s.swipeDirection==="next"&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!s.allowSlidePrev&&s.swipeDirection==="prev"&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),!s.allowSlidePrev&&!s.allowSlideNext&&(a.currentTranslate=a.startTranslate),c.threshold>0)if(Math.abs(R)>c.threshold||a.allowThresholdMove){if(!a.allowThresholdMove){a.allowThresholdMove=!0,d.startX=d.currentX,d.startY=d.currentY,a.currentTranslate=a.startTranslate,d.diff=s.isHorizontal()?d.currentX-d.startX:d.currentY-d.startY;return}}else{a.currentTranslate=a.startTranslate;return}!c.followFinger||c.cssMode||((c.freeMode&&c.freeMode.enabled&&s.freeMode||c.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),s.params.freeMode&&c.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(a.currentTranslate),s.setTranslate(a.currentTranslate))}function uV(e){const t=this,s=t.touchEventsData,a=s.evCache.findIndex(k=>k.pointerId===e.pointerId);if(a>=0&&s.evCache.splice(a,1),["pointercancel","pointerout","pointerleave"].includes(e.type)&&!(e.type==="pointercancel"&&(t.browser.isSafari||t.browser.isWebView)))return;const{params:c,touches:d,rtlTranslate:m,slidesGrid:n,enabled:S}=t;if(!S||!c.simulateTouch&&e.pointerType==="mouse")return;let z=e;if(z.originalEvent&&(z=z.originalEvent),s.allowTouchCallbacks&&t.emit("touchEnd",z),s.allowTouchCallbacks=!1,!s.isTouched){s.isMoved&&c.grabCursor&&t.setGrabCursor(!1),s.isMoved=!1,s.startMoving=!1;return}c.grabCursor&&s.isMoved&&s.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const Z=jv(),O=Z-s.touchStartTime;if(t.allowClick){const k=z.path||z.composedPath&&z.composedPath();t.updateClickedSlide(k&&k[0]||z.target),t.emit("tap click",z),O<300&&Z-s.lastClickTime<300&&t.emit("doubleTap doubleClick",z)}if(s.lastClickTime=jv(),Uw(()=>{t.destroyed||(t.allowClick=!0)}),!s.isTouched||!s.isMoved||!t.swipeDirection||d.diff===0||s.currentTranslate===s.startTranslate){s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;return}s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;let H;if(c.followFinger?H=m?t.translate:-t.translate:H=-s.currentTranslate,c.cssMode)return;if(t.params.freeMode&&c.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:H});return}let q=0,L=t.slidesSizesGrid[0];for(let k=0;k<n.length;k+=k<c.slidesPerGroupSkip?1:c.slidesPerGroup){const V=k<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof n[k+V]<"u"?H>=n[k]&&H<n[k+V]&&(q=k,L=n[k+V]-n[k]):H>=n[k]&&(q=k,L=n[n.length-1]-n[n.length-2])}let R=null,$=null;c.rewind&&(t.isBeginning?$=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(R=0));const M=(H-n[q])/L,E=q<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(O>c.longSwipesMs){if(!c.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(M>=c.longSwipesRatio?t.slideTo(c.rewind&&t.isEnd?R:q+E):t.slideTo(q)),t.swipeDirection==="prev"&&(M>1-c.longSwipesRatio?t.slideTo(q+E):$!==null&&M<0&&Math.abs(M)>c.longSwipesRatio?t.slideTo($):t.slideTo(q))}else{if(!c.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(z.target===t.navigation.nextEl||z.target===t.navigation.prevEl)?z.target===t.navigation.nextEl?t.slideTo(q+E):t.slideTo(q):(t.swipeDirection==="next"&&t.slideTo(R!==null?R:q+E),t.swipeDirection==="prev"&&t.slideTo($!==null?$:q))}}function A5(){const e=this,{params:t,el:s}=e;if(s&&s.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:c,snapGrid:d}=e,m=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const n=m&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!n?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!m?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=c,e.allowSlideNext=a,e.params.watchOverflow&&d!==e.snapGrid&&e.checkOverflow()}function pV(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function fV(){const e=this,{wrapperEl:t,rtlTranslate:s,enabled:a}=e;if(!a)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let c;const d=e.maxTranslate()-e.minTranslate();d===0?c=0:c=(e.translate-e.minTranslate())/d,c!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function mV(e){const t=this;cv(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}let k5=!1;function gV(){}const CA=(e,t)=>{const s=Zf(),{params:a,el:c,wrapperEl:d,device:m}=e,n=!!a.nested,S=t==="on"?"addEventListener":"removeEventListener",z=t;c[S]("pointerdown",e.onTouchStart,{passive:!1}),s[S]("pointermove",e.onTouchMove,{passive:!1,capture:n}),s[S]("pointerup",e.onTouchEnd,{passive:!0}),s[S]("pointercancel",e.onTouchEnd,{passive:!0}),s[S]("pointerout",e.onTouchEnd,{passive:!0}),s[S]("pointerleave",e.onTouchEnd,{passive:!0}),(a.preventClicks||a.preventClicksPropagation)&&c[S]("click",e.onClick,!0),a.cssMode&&d[S]("scroll",e.onScroll),a.updateOnWindowResize?e[z](m.ios||m.android?"resize orientationchange observerUpdate":"resize observerUpdate",A5,!0):e[z]("observerUpdate",A5,!0),c[S]("load",e.onLoad,{capture:!0})};function _V(){const e=this,t=Zf(),{params:s}=e;e.onTouchStart=hV.bind(e),e.onTouchMove=dV.bind(e),e.onTouchEnd=uV.bind(e),s.cssMode&&(e.onScroll=fV.bind(e)),e.onClick=pV.bind(e),e.onLoad=mV.bind(e),k5||(t.addEventListener("touchstart",gV),k5=!0),CA(e,"on")}function yV(){CA(this,"off")}const vV={attachEvents:_V,detachEvents:yV},P5=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function xV(){const e=this,{realIndex:t,initialized:s,params:a,el:c}=e,d=a.breakpoints;if(!d||d&&Object.keys(d).length===0)return;const m=e.getBreakpoint(d,e.params.breakpointsBase,e.el);if(!m||e.currentBreakpoint===m)return;const S=(m in d?d[m]:void 0)||e.originalParams,z=P5(e,a),Z=P5(e,S),O=a.enabled;z&&!Z?(c.classList.remove(`${a.containerModifierClass}grid`,`${a.containerModifierClass}grid-column`),e.emitContainerClasses()):!z&&Z&&(c.classList.add(`${a.containerModifierClass}grid`),(S.grid.fill&&S.grid.fill==="column"||!S.grid.fill&&a.grid.fill==="column")&&c.classList.add(`${a.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(R=>{const $=a[R]&&a[R].enabled,M=S[R]&&S[R].enabled;$&&!M&&e[R].disable(),!$&&M&&e[R].enable()});const H=S.direction&&S.direction!==a.direction,q=a.loop&&(S.slidesPerView!==a.slidesPerView||H);H&&s&&e.changeDirection(),kc(e.params,S);const L=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),O&&!L?e.disable():!O&&L&&e.enable(),e.currentBreakpoint=m,e.emit("_beforeBreakpoint",S),q&&s&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",S)}function bV(e,t="window",s){if(!e||t==="container"&&!s)return;let a=!1;const c=zc(),d=t==="window"?c.innerHeight:s.clientHeight,m=Object.keys(e).map(n=>{if(typeof n=="string"&&n.indexOf("@")===0){const S=parseFloat(n.substr(1));return{value:d*S,point:n}}return{value:n,point:n}});m.sort((n,S)=>parseInt(n.value,10)-parseInt(S.value,10));for(let n=0;n<m.length;n+=1){const{point:S,value:z}=m[n];t==="window"?c.matchMedia(`(min-width: ${z}px)`).matches&&(a=S):z<=s.clientWidth&&(a=S)}return a||"max"}const wV={setBreakpoint:xV,getBreakpoint:bV};function SV(e,t){const s=[];return e.forEach(a=>{typeof a=="object"?Object.keys(a).forEach(c=>{a[c]&&s.push(t+c)}):typeof a=="string"&&s.push(t+a)}),s}function TV(){const e=this,{classNames:t,params:s,rtl:a,el:c,device:d}=e,m=SV(["initialized",s.direction,{"free-mode":e.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:a},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&s.grid.fill==="column"},{android:d.android},{ios:d.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);t.push(...m),c.classList.add(...t),e.emitContainerClasses()}function EV(){const e=this,{el:t,classNames:s}=e;t.classList.remove(...s),e.emitContainerClasses()}const CV={addClasses:TV,removeClasses:EV};function MV(){const e=this,{isLocked:t,params:s}=e,{slidesOffsetBefore:a}=s;if(a){const c=e.slides.length-1,d=e.slidesGrid[c]+e.slidesSizesGrid[c]+a*2;e.isLocked=e.size>d}else e.isLocked=e.snapGrid.length===1;s.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),s.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}const AV={checkOverflow:MV},D5={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function kV(e,t){return function(a={}){const c=Object.keys(a)[0],d=a[c];if(typeof d!="object"||d===null){kc(t,a);return}if(["navigation","pagination","scrollbar"].indexOf(c)>=0&&e[c]===!0&&(e[c]={auto:!0}),!(c in e&&"enabled"in d)){kc(t,a);return}e[c]===!0&&(e[c]={enabled:!0}),typeof e[c]=="object"&&!("enabled"in e[c])&&(e[c].enabled=!0),e[c]||(e[c]={enabled:!1}),kc(t,a)}}const Q2={eventsEmitter:CG,update:zG,translate:VG,transition:YG,slide:tV,loop:rV,grabCursor:lV,events:vV,breakpoints:wV,checkOverflow:AV,classes:CV},ew={};let G1=class Qd{constructor(...t){let s,a;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?a=t[0]:[s,a]=t,a||(a={}),a=kc({},a),s&&!a.el&&(a.el=s);const c=Zf();if(a.el&&typeof a.el=="string"&&c.querySelectorAll(a.el).length>1){const S=[];return c.querySelectorAll(a.el).forEach(z=>{const Z=kc({},a,{el:z});S.push(new Qd(Z))}),S}const d=this;d.__swiper__=!0,d.support=TA(),d.device=bG({userAgent:a.userAgent}),d.browser=SG(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],a.modules&&Array.isArray(a.modules)&&d.modules.push(...a.modules);const m={};d.modules.forEach(S=>{S({params:a,swiper:d,extendParams:kV(a,m),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const n=kc({},D5,m);return d.params=kc({},n,ew,a),d.originalParams=kc({},d.params),d.passedParams=kc({},a),d.params&&d.params.on&&Object.keys(d.params.on).forEach(S=>{d.on(S,d.params.on[S])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:s,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getSlideIndex(t){const{slidesEl:s,params:a}=this,c=vd(s,`.${a.slideClass}, swiper-slide`),d=Gw(c[0]);return Gw(t)-d}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(s=>s.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:s,params:a}=t;t.slides=vd(s,`.${a.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,s){const a=this;t=Math.min(Math.max(t,0),1);const c=a.minTranslate(),m=(a.maxTranslate()-c)*t+c;a.translateTo(m,typeof s>"u"?0:s),a.updateActiveIndex(),a.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const s=t.el.className.split(" ").filter(a=>a.indexOf("swiper")===0||a.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",s.join(" "))}getSlideClasses(t){const s=this;return s.destroyed?"":t.className.split(" ").filter(a=>a.indexOf("swiper-slide")===0||a.indexOf(s.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const s=[];t.slides.forEach(a=>{const c=t.getSlideClasses(a);s.push({slideEl:a,classNames:c}),t.emit("_slideClass",a,c)}),t.emit("_slideClasses",s)}slidesPerViewDynamic(t="current",s=!1){const a=this,{params:c,slides:d,slidesGrid:m,slidesSizesGrid:n,size:S,activeIndex:z}=a;let Z=1;if(c.centeredSlides){let O=d[z].swiperSlideSize,H;for(let q=z+1;q<d.length;q+=1)d[q]&&!H&&(O+=d[q].swiperSlideSize,Z+=1,O>S&&(H=!0));for(let q=z-1;q>=0;q-=1)d[q]&&!H&&(O+=d[q].swiperSlideSize,Z+=1,O>S&&(H=!0))}else if(t==="current")for(let O=z+1;O<d.length;O+=1)(s?m[O]+n[O]-m[z]<S:m[O]-m[z]<S)&&(Z+=1);else for(let O=z-1;O>=0;O-=1)m[z]-m[O]<S&&(Z+=1);return Z}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:s,params:a}=t;a.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(m=>{m.complete&&cv(t,m)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function c(){const m=t.rtlTranslate?t.translate*-1:t.translate,n=Math.min(Math.max(m,t.maxTranslate()),t.minTranslate());t.setTranslate(n),t.updateActiveIndex(),t.updateSlidesClasses()}let d;if(t.params.freeMode&&t.params.freeMode.enabled)c(),t.params.autoHeight&&t.updateAutoHeight();else{if((t.params.slidesPerView==="auto"||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides){const m=t.virtual&&t.params.virtual.enabled?t.virtual.slides:t.slides;d=t.slideTo(m.length-1,0,!1,!0)}else d=t.slideTo(t.activeIndex,0,!1,!0);d||c()}a.watchOverflow&&s!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,s=!0){const a=this,c=a.params.direction;return t||(t=c==="horizontal"?"vertical":"horizontal"),t===c||t!=="horizontal"&&t!=="vertical"||(a.el.classList.remove(`${a.params.containerModifierClass}${c}`),a.el.classList.add(`${a.params.containerModifierClass}${t}`),a.emitContainerClasses(),a.params.direction=t,a.slides.forEach(d=>{t==="vertical"?d.style.width="":d.style.height=""}),a.emit("changeDirection"),s&&a.update()),a}changeLanguageDirection(t){const s=this;s.rtl&&t==="rtl"||!s.rtl&&t==="ltr"||(s.rtl=t==="rtl",s.rtlTranslate=s.params.direction==="horizontal"&&s.rtl,s.rtl?(s.el.classList.add(`${s.params.containerModifierClass}rtl`),s.el.dir="rtl"):(s.el.classList.remove(`${s.params.containerModifierClass}rtl`),s.el.dir="ltr"),s.update())}mount(t){const s=this;if(s.mounted)return!0;let a=t||s.params.el;if(typeof a=="string"&&(a=document.querySelector(a)),!a)return!1;a.swiper=s,a.shadowEl&&(s.isElement=!0);const c=()=>`.${(s.params.wrapperClass||"").trim().split(" ").join(".")}`;let m=(()=>a&&a.shadowRoot&&a.shadowRoot.querySelector?a.shadowRoot.querySelector(c()):vd(a,c())[0])();return!m&&s.params.createElements&&(m=PS("div",s.params.wrapperClass),a.append(m),vd(a,`.${s.params.slideClass}`).forEach(n=>{m.append(n)})),Object.assign(s,{el:a,wrapperEl:m,slidesEl:s.isElement?a:m,mounted:!0,rtl:a.dir.toLowerCase()==="rtl"||lp(a,"direction")==="rtl",rtlTranslate:s.params.direction==="horizontal"&&(a.dir.toLowerCase()==="rtl"||lp(a,"direction")==="rtl"),wrongRTL:lp(m,"display")==="-webkit-box"}),!0}init(t){const s=this;return s.initialized||s.mount(t)===!1||(s.emit("beforeInit"),s.params.breakpoints&&s.setBreakpoint(),s.addClasses(),s.updateSize(),s.updateSlides(),s.params.watchOverflow&&s.checkOverflow(),s.params.grabCursor&&s.enabled&&s.setGrabCursor(),s.params.loop&&s.virtual&&s.params.virtual.enabled?s.slideTo(s.params.initialSlide+s.virtual.slidesBefore,0,s.params.runCallbacksOnInit,!1,!0):s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit,!1,!0),s.params.loop&&s.loopCreate(),s.attachEvents(),[...s.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete?cv(s,c):c.addEventListener("load",d=>{cv(s,d.target)})}),Vw(s),s.initialized=!0,Vw(s),s.emit("init"),s.emit("afterInit")),s}destroy(t=!0,s=!0){const a=this,{params:c,el:d,wrapperEl:m,slides:n}=a;return typeof a.params>"u"||a.destroyed||(a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),c.loop&&a.loopDestroy(),s&&(a.removeClasses(),d.removeAttribute("style"),m.removeAttribute("style"),n&&n.length&&n.forEach(S=>{S.classList.remove(c.slideVisibleClass,c.slideActiveClass,c.slideNextClass,c.slidePrevClass),S.removeAttribute("style"),S.removeAttribute("data-swiper-slide-index")})),a.emit("destroy"),Object.keys(a.eventsListeners).forEach(S=>{a.off(S)}),t!==!1&&(a.el.swiper=null,uG(a)),a.destroyed=!0),null}static extendDefaults(t){kc(ew,t)}static get extendedDefaults(){return ew}static get defaults(){return D5}static installModule(t){Qd.prototype.__modules__||(Qd.prototype.__modules__=[]);const s=Qd.prototype.__modules__;typeof t=="function"&&s.indexOf(t)<0&&s.push(t)}static use(t){return Array.isArray(t)?(t.forEach(s=>Qd.installModule(s)),Qd):(Qd.installModule(t),Qd)}};Object.keys(Q2).forEach(e=>{Object.keys(Q2[e]).forEach(t=>{G1.prototype[t]=Q2[e][t]})});G1.use([TG,EG]);function PV(e,t,s,a){return e.params.createElements&&Object.keys(a).forEach(c=>{if(!s[c]&&s.auto===!0){let d=vd(e.el,`.${a[c]}`)[0];d||(d=PS("div",a[c]),d.className=a[c],e.el.append(d)),s[c]=d,t[c]=d}}),s}function DV({swiper:e,extendParams:t,on:s,emit:a}){t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const c=L=>(Array.isArray(L)||(L=[L].filter(R=>!!R)),L);function d(L){let R;return L&&typeof L=="string"&&e.isElement&&(R=e.el.shadowRoot.querySelector(L),R)?R:(L&&(typeof L=="string"&&(R=[...document.querySelectorAll(L)]),e.params.uniqueNavElements&&typeof L=="string"&&R.length>1&&e.el.querySelectorAll(L).length===1&&(R=e.el.querySelector(L))),L&&!R?L:R)}function m(L,R){const $=e.params.navigation;L=c(L),L.forEach(M=>{M&&(M.classList[R?"add":"remove"](...$.disabledClass.split(" ")),M.tagName==="BUTTON"&&(M.disabled=R),e.params.watchOverflow&&e.enabled&&M.classList[e.isLocked?"add":"remove"]($.lockClass))})}function n(){const{nextEl:L,prevEl:R}=e.navigation;if(e.params.loop){m(R,!1),m(L,!1);return}m(R,e.isBeginning&&!e.params.rewind),m(L,e.isEnd&&!e.params.rewind)}function S(L){L.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function z(L){L.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function Z(){const L=e.params.navigation;if(e.params.navigation=PV(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(L.nextEl||L.prevEl))return;let R=d(L.nextEl),$=d(L.prevEl);Object.assign(e.navigation,{nextEl:R,prevEl:$}),R=c(R),$=c($);const M=(E,k)=>{E&&E.addEventListener("click",k==="next"?z:S),!e.enabled&&E&&E.classList.add(...L.lockClass.split(" "))};R.forEach(E=>M(E,"next")),$.forEach(E=>M(E,"prev"))}function O(){let{nextEl:L,prevEl:R}=e.navigation;L=c(L),R=c(R);const $=(M,E)=>{M.removeEventListener("click",E==="next"?z:S),M.classList.remove(...e.params.navigation.disabledClass.split(" "))};L.forEach(M=>$(M,"next")),R.forEach(M=>$(M,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?q():(Z(),n())}),s("toEdge fromEdge lock unlock",()=>{n()}),s("destroy",()=>{O()}),s("enable disable",()=>{let{nextEl:L,prevEl:R}=e.navigation;L=c(L),R=c(R),[...L,...R].filter($=>!!$).forEach($=>$.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),s("click",(L,R)=>{let{nextEl:$,prevEl:M}=e.navigation;$=c($),M=c(M);const E=R.target;if(e.params.navigation.hideOnClick&&!M.includes(E)&&!$.includes(E)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===E||e.pagination.el.contains(E)))return;let k;$.length?k=$[0].classList.contains(e.params.navigation.hiddenClass):M.length&&(k=M[0].classList.contains(e.params.navigation.hiddenClass)),a(k===!0?"navigationShow":"navigationHide"),[...$,...M].filter(V=>!!V).forEach(V=>V.classList.toggle(e.params.navigation.hiddenClass))}});const H=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),Z(),n()},q=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),O()};Object.assign(e.navigation,{enable:H,disable:q,update:n,init:Z,destroy:O})}function tw(e=""){return`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function IV({swiper:e,extendParams:t,on:s}){t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let a=null;function c(D){const f=a;f.length!==0&&(f.innerHTML="",f.innerHTML=D)}const d=D=>(Array.isArray(D)||(D=[D].filter(f=>!!f)),D);function m(D=16){const f=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(D).replace(/x/g,f)}function n(D){D=d(D),D.forEach(f=>{f.setAttribute("tabIndex","0")})}function S(D){D=d(D),D.forEach(f=>{f.setAttribute("tabIndex","-1")})}function z(D,f){D=d(D),D.forEach(g=>{g.setAttribute("role",f)})}function Z(D,f){D=d(D),D.forEach(g=>{g.setAttribute("aria-roledescription",f)})}function O(D,f){D=d(D),D.forEach(g=>{g.setAttribute("aria-controls",f)})}function H(D,f){D=d(D),D.forEach(g=>{g.setAttribute("aria-label",f)})}function q(D,f){D=d(D),D.forEach(g=>{g.setAttribute("id",f)})}function L(D,f){D=d(D),D.forEach(g=>{g.setAttribute("aria-live",f)})}function R(D){D=d(D),D.forEach(f=>{f.setAttribute("aria-disabled",!0)})}function $(D){D=d(D),D.forEach(f=>{f.setAttribute("aria-disabled",!1)})}function M(D){if(D.keyCode!==13&&D.keyCode!==32)return;const f=e.params.a11y,g=D.target;e.pagination&&e.pagination.el&&(g===e.pagination.el||e.pagination.el.contains(D.target))&&!D.target.matches(tw(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&g===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?c(f.lastSlideMessage):c(f.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&g===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?c(f.firstSlideMessage):c(f.prevSlideMessage)),e.pagination&&g.matches(tw(e.params.pagination.bulletClass))&&g.click())}function E(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:D,prevEl:f}=e.navigation;f&&(e.isBeginning?(R(f),S(f)):($(f),n(f))),D&&(e.isEnd?(R(D),S(D)):($(D),n(D)))}function k(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function V(){return k()&&e.params.pagination.clickable}function G(){const D=e.params.a11y;k()&&e.pagination.bullets.forEach(f=>{e.params.pagination.clickable&&(n(f),e.params.pagination.renderBullet||(z(f,"button"),H(f,D.paginationBulletMessage.replace(/\{\{index\}\}/,Gw(f)+1)))),f.matches(tw(e.params.pagination.bulletActiveClass))?f.setAttribute("aria-current","true"):f.removeAttribute("aria-current")})}const C=(D,f,g)=>{n(D),D.tagName!=="BUTTON"&&(z(D,"button"),D.addEventListener("keydown",M)),H(D,g),O(D,f)},te=()=>{e.a11y.clicked=!0},Q=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},N=D=>{if(e.a11y.clicked)return;const f=D.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!f||!e.slides.includes(f))return;const g=e.slides.indexOf(f)===e.activeIndex,x=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(f);g||x||D.sourceCapabilities&&D.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(f),0))},j=()=>{const D=e.params.a11y;D.itemRoleDescriptionMessage&&Z(e.slides,D.itemRoleDescriptionMessage),D.slideRole&&z(e.slides,D.slideRole);const f=e.slides.length;D.slideLabelMessage&&e.slides.forEach((g,x)=>{const P=e.params.loop?parseInt(g.getAttribute("data-swiper-slide-index"),10):x,Y=D.slideLabelMessage.replace(/\{\{index\}\}/,P+1).replace(/\{\{slidesLength\}\}/,f);H(g,Y)})},W=()=>{const D=e.params.a11y;e.isElement?e.el.shadowEl.append(a):e.el.append(a);const f=e.el;D.containerRoleDescriptionMessage&&Z(f,D.containerRoleDescriptionMessage),D.containerMessage&&H(f,D.containerMessage);const g=e.wrapperEl,x=D.id||g.getAttribute("id")||`swiper-wrapper-${m(16)}`,P=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";q(g,x),L(g,P),j();let{nextEl:Y,prevEl:ee}=e.navigation?e.navigation:{};Y=d(Y),ee=d(ee),Y&&Y.forEach(K=>C(K,x,D.nextSlideMessage)),ee&&ee.forEach(K=>C(K,x,D.prevSlideMessage)),V()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(he=>{he.addEventListener("keydown",M)}),e.el.addEventListener("focus",N,!0),e.el.addEventListener("pointerdown",te,!0),e.el.addEventListener("pointerup",Q,!0)};function w(){a&&a.remove();let{nextEl:D,prevEl:f}=e.navigation?e.navigation:{};D=d(D),f=d(f),D&&D.forEach(g=>g.removeEventListener("keydown",M)),f&&f.forEach(g=>g.removeEventListener("keydown",M)),V()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(x=>{x.removeEventListener("keydown",M)}),e.el.removeEventListener("focus",N,!0),e.el.removeEventListener("pointerdown",te,!0),e.el.removeEventListener("pointerup",Q,!0)}s("beforeInit",()=>{a=PS("span",e.params.a11y.notificationClass),a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true")}),s("afterInit",()=>{e.params.a11y.enabled&&W()}),s("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&j()}),s("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&E()}),s("paginationUpdate",()=>{e.params.a11y.enabled&&G()}),s("destroy",()=>{e.params.a11y.enabled&&w()})}function Vf(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function cp(e,t){const s=["__proto__","constructor","prototype"];Object.keys(t).filter(a=>s.indexOf(a)<0).forEach(a=>{typeof e[a]>"u"?e[a]=t[a]:Vf(t[a])&&Vf(e[a])&&Object.keys(t[a]).length>0?t[a].__swiper__?e[a]=t[a]:cp(e[a],t[a]):e[a]=t[a]})}function MA(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function AA(e={}){return e.pagination&&typeof e.pagination.el>"u"}function kA(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function PA(e=""){const t=e.split(" ").map(a=>a.trim()).filter(a=>!!a),s=[];return t.forEach(a=>{s.indexOf(a)<0&&s.push(a)}),s.join(" ")}function LV(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}const DA=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function I5(e={},t=!0){const s={on:{}},a={},c={};cp(s,G1.defaults),cp(s,G1.extendedDefaults),s._emitClasses=!0,s.init=!1;const d={},m=DA.map(S=>S.replace(/_/,"")),n=Object.assign({},e);return Object.keys(n).forEach(S=>{typeof e[S]>"u"||(m.indexOf(S)>=0?Vf(e[S])?(s[S]={},c[S]={},cp(s[S],e[S]),cp(c[S],e[S])):(s[S]=e[S],c[S]=e[S]):S.search(/on[A-Z]/)===0&&typeof e[S]=="function"?t?a[`${S[2].toLowerCase()}${S.substr(3)}`]=e[S]:s.on[`${S[2].toLowerCase()}${S.substr(3)}`]=e[S]:d[S]=e[S])}),["navigation","pagination","scrollbar"].forEach(S=>{s[S]===!0&&(s[S]={}),s[S]===!1&&delete s[S]}),{params:s,passedParams:c,rest:d,events:a}}function OV({el:e,nextEl:t,prevEl:s,paginationEl:a,scrollbarEl:c,swiper:d},m){MA(m)&&t&&s&&(d.params.navigation.nextEl=t,d.originalParams.navigation.nextEl=t,d.params.navigation.prevEl=s,d.originalParams.navigation.prevEl=s),AA(m)&&a&&(d.params.pagination.el=a,d.originalParams.pagination.el=a),kA(m)&&c&&(d.params.scrollbar.el=c,d.originalParams.scrollbar.el=c),d.init(e)}function RV(e,t,s,a,c){const d=[];if(!t)return d;const m=S=>{d.indexOf(S)<0&&d.push(S)};if(s&&a){const S=a.map(c),z=s.map(c);S.join("")!==z.join("")&&m("children"),a.length!==s.length&&m("children")}return DA.filter(S=>S[0]==="_").map(S=>S.replace(/_/,"")).forEach(S=>{if(S in e&&S in t)if(Vf(e[S])&&Vf(t[S])){const z=Object.keys(e[S]),Z=Object.keys(t[S]);z.length!==Z.length?m(S):(z.forEach(O=>{e[S][O]!==t[S][O]&&m(S)}),Z.forEach(O=>{e[S][O]!==t[S][O]&&m(S)}))}else e[S]!==t[S]&&m(S)}),d}function iw(e,t,s){e===void 0&&(e={});const a=[],c={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},d=(m,n)=>{Array.isArray(m)&&m.forEach(S=>{const z=typeof S.type=="symbol";n==="default"&&(n="container-end"),z&&S.children?d(S.children,n):S.type&&(S.type.name==="SwiperSlide"||S.type.name==="AsyncComponentWrapper")?a.push(S):c[n]&&c[n].push(S)})};return Object.keys(e).forEach(m=>{if(typeof e[m]!="function")return;const n=e[m]();d(n,m)}),s.value=t.value,t.value=a,{slides:a,slots:c}}function BV({swiper:e,slides:t,passedParams:s,changedParams:a,nextEl:c,prevEl:d,scrollbarEl:m,paginationEl:n}){const S=a.filter(Q=>Q!=="children"&&Q!=="direction"&&Q!=="wrapperClass"),{params:z,pagination:Z,navigation:O,scrollbar:H,virtual:q,thumbs:L}=e;let R,$,M,E,k,V,G,C;a.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&z.thumbs&&!z.thumbs.swiper&&(R=!0),a.includes("controller")&&s.controller&&s.controller.control&&z.controller&&!z.controller.control&&($=!0),a.includes("pagination")&&s.pagination&&(s.pagination.el||n)&&(z.pagination||z.pagination===!1)&&Z&&!Z.el&&(M=!0),a.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||m)&&(z.scrollbar||z.scrollbar===!1)&&H&&!H.el&&(E=!0),a.includes("navigation")&&s.navigation&&(s.navigation.prevEl||d)&&(s.navigation.nextEl||c)&&(z.navigation||z.navigation===!1)&&O&&!O.prevEl&&!O.nextEl&&(k=!0);const te=Q=>{e[Q]&&(e[Q].destroy(),Q==="navigation"?(e.isElement&&(e[Q].prevEl.remove(),e[Q].nextEl.remove()),z[Q].prevEl=void 0,z[Q].nextEl=void 0,e[Q].prevEl=void 0,e[Q].nextEl=void 0):(e.isElement&&e[Q].el.remove(),z[Q].el=void 0,e[Q].el=void 0))};a.includes("loop")&&e.isElement&&(z.loop&&!s.loop?V=!0:!z.loop&&s.loop?G=!0:C=!0),S.forEach(Q=>{if(Vf(z[Q])&&Vf(s[Q]))cp(z[Q],s[Q]),(Q==="navigation"||Q==="pagination"||Q==="scrollbar")&&"enabled"in s[Q]&&!s[Q].enabled&&te(Q);else{const N=s[Q];(N===!0||N===!1)&&(Q==="navigation"||Q==="pagination"||Q==="scrollbar")?N===!1&&te(Q):z[Q]=s[Q]}}),S.includes("controller")&&!$&&e.controller&&e.controller.control&&z.controller&&z.controller.control&&(e.controller.control=z.controller.control),a.includes("children")&&t&&q&&z.virtual.enabled&&(q.slides=t,q.update(!0)),a.includes("children")&&t&&z.loop&&(C=!0),R&&L.init()&&L.update(!0),$&&(e.controller.control=z.controller.control),M&&(e.isElement&&(!n||typeof n=="string")&&(n=document.createElement("div"),n.classList.add("swiper-pagination"),e.el.shadowEl.appendChild(n)),n&&(z.pagination.el=n),Z.init(),Z.render(),Z.update()),E&&(e.isElement&&(!m||typeof m=="string")&&(m=document.createElement("div"),m.classList.add("swiper-scrollbar"),e.el.shadowEl.appendChild(m)),m&&(z.scrollbar.el=m),H.init(),H.updateSize(),H.setTranslate()),k&&(e.isElement&&((!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-next"),e.el.shadowEl.appendChild(c)),(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-button-prev"),e.el.shadowEl.appendChild(d))),c&&(z.navigation.nextEl=c),d&&(z.navigation.prevEl=d),O.init(),O.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),a.includes("direction")&&e.changeDirection(s.direction,!1),(V||C)&&e.loopDestroy(),(G||C)&&e.loopCreate(),e.update()}function zV(e,t,s){if(!s)return null;const a=Z=>{let O=Z;return Z<0?O=t.length+Z:O>=t.length&&(O=O-t.length),O},c=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${s.offset}px`}:{top:`${s.offset}px`},{from:d,to:m}=s,n=e.value.params.loop?-t.length:0,S=e.value.params.loop?t.length*2:t.length,z=[];for(let Z=n;Z<S;Z+=1)Z>=d&&Z<=m&&z.push(t[a(Z)]);return z.map(Z=>(Z.props||(Z.props={}),Z.props.style||(Z.props.style={}),Z.props.swiperRef=e,Z.props.style=c,ic(Z.type,{...Z.props},Z.children)))}const FV=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},NV={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,t){let{slots:s,emit:a}=t;const{tag:c,wrapperTag:d}=e,m=dr("swiper"),n=dr(null),S=dr(!1),z=dr(!1),Z=dr(null),O=dr(null),H=dr(null),q={value:[]},L={value:[]},R=dr(null),$=dr(null),M=dr(null),E=dr(null),{params:k,passedParams:V}=I5(e,!1);iw(s,q,L),H.value=V,L.value=q.value;const G=()=>{iw(s,q,L),S.value=!0};k.onAny=function(Q){for(var N=arguments.length,j=new Array(N>1?N-1:0),W=1;W<N;W++)j[W-1]=arguments[W];a(Q,...j)},Object.assign(k.on,{_beforeBreakpoint:G,_containerClasses(Q,N){m.value=N}});const C={...k};if(delete C.wrapperClass,O.value=new G1(C),O.value.virtual&&O.value.params.virtual.enabled){O.value.virtual.slides=q.value;const Q={cache:!1,slides:q.value,renderExternal:N=>{n.value=N},renderExternalUpdate:!1};cp(O.value.params.virtual,Q),cp(O.value.originalParams.virtual,Q)}Wf(()=>{!z.value&&O.value&&(O.value.emitSlidesClasses(),z.value=!0);const{passedParams:Q}=I5(e,!1),N=RV(Q,H.value,q.value,L.value,j=>j.props&&j.props.key);H.value=Q,(N.length||S.value)&&O.value&&!O.value.destroyed&&BV({swiper:O.value,slides:q.value,passedParams:Q,changedParams:N,nextEl:R.value,prevEl:$.value,scrollbarEl:E.value,paginationEl:M.value}),S.value=!1}),Im("swiper",O),ea(n,()=>{yd(()=>{FV(O.value)})}),jh(()=>{Z.value&&(OV({el:Z.value,nextEl:R.value,prevEl:$.value,paginationEl:M.value,scrollbarEl:E.value,swiper:O.value},k),a("swiper",O.value))}),Yf(()=>{O.value&&!O.value.destroyed&&O.value.destroy(!0,!1)});function te(Q){return k.virtual?zV(O,Q,n.value):(Q.forEach((N,j)=>{N.props||(N.props={}),N.props.swiperRef=O,N.props.swiperSlideIndex=j}),Q)}return()=>{const{slides:Q,slots:N}=iw(s,q,L);return ic(c,{ref:Z,class:PA(m.value)},[N["container-start"],ic(d,{class:LV(k.wrapperClass)},[N["wrapper-start"],te(Q),N["wrapper-end"]]),MA(e)&&[ic("div",{ref:$,class:"swiper-button-prev"}),ic("div",{ref:R,class:"swiper-button-next"})],kA(e)&&ic("div",{ref:E,class:"swiper-scrollbar"}),AA(e)&&ic("div",{ref:M,class:"swiper-pagination"}),N["container-end"]])}}},jV={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:s}=t,a=!1;const{swiperRef:c}=e,d=dr(null),m=dr("swiper-slide"),n=dr(!1);function S(O,H,q){H===d.value&&(m.value=q)}jh(()=>{!c||!c.value||(c.value.on("_slideClass",S),a=!0)}),Z1(()=>{a||!c||!c.value||(c.value.on("_slideClass",S),a=!0)}),Wf(()=>{!d.value||!c||!c.value||(typeof e.swiperSlideIndex<"u"&&(d.value.swiperSlideIndex=e.swiperSlideIndex),c.value.destroyed&&m.value!=="swiper-slide"&&(m.value="swiper-slide"))}),Yf(()=>{!c||!c.value||c.value.off("_slideClass",S)});const z=Ac(()=>({isActive:m.value.indexOf("swiper-slide-active")>=0,isVisible:m.value.indexOf("swiper-slide-visible")>=0,isPrev:m.value.indexOf("swiper-slide-prev")>=0,isNext:m.value.indexOf("swiper-slide-next")>=0}));Im("swiperSlide",z);const Z=()=>{n.value=!0};return()=>ic(e.tag,{class:PA(`${m.value}`),ref:d,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&c&&c.value&&c.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:Z},e.zoom?ic("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[s.default&&s.default(z.value),e.lazy&&!n.value&&ic("div",{class:"swiper-lazy-preloader"})]):[s.default&&s.default(z.value),e.lazy&&!n.value&&ic("div",{class:"swiper-lazy-preloader"})])}},UV={props:{fleet:Object,active:String},components:{Swiper:NV,SwiperSlide:jV},setup(){return{auto:!0,onSwiper:s=>{},onSlideChange:()=>{},modules:[DV,IV]}}},GV={class:"swiper-button-prev"},VV=["src"],$V=["href"],HV=["href"],WV=["href"],YV=["href"],qV=["href"],XV=["href"],ZV=["href"],KV={class:"swiper-button-next"},JV=["src"];function QV(e,t,s,a,c,d){const m=Yn("swiper-slide"),n=Yn("swiper");return Ot(),Bh(n,{"slides-per-view":"auto","space-between":0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},onSwiper:a.onSwiper,onSlideChange:a.onSlideChange},{default:Do(()=>[je("div",GV,[je("img",{src:"/img/icons/chevron-prev.png",alt:""},null,8,VV)]),Qi(m,null,{default:Do(()=>[je("a",{href:`/fleet/${s.fleet.id}`,class:Gs(["submenu-item",{active:s.active=="info"}])},"NAVIGASI",10,$V)]),_:1}),Qi(m,null,{default:Do(()=>[je("a",{href:`/fleet/${s.fleet.id}/engine`,class:Gs(["submenu-item",{active:s.active=="engine"}])},"MAIN ENGINE",10,HV)]),_:1}),Qi(m,null,{default:Do(()=>[je("a",{href:`/fleet/${s.fleet.id}/pumps`,class:Gs(["submenu-item",{active:s.active=="pumps"}])},"PUMPS",10,WV)]),_:1}),Qi(m,null,{default:Do(()=>[je("a",{href:`/fleet/${s.fleet.id}/cargo`,class:Gs(["submenu-item",{active:s.active=="cargo"}])},"CARGO TANK",10,YV)]),_:1}),Qi(m,null,{default:Do(()=>[je("a",{href:`/fleet/${s.fleet.id}/bunker`,class:Gs(["submenu-item",{active:s.active=="bunker"}])},"BUNKER TANK",10,qV)]),_:1}),Qi(m,null,{default:Do(()=>[je("a",{href:`/fleet/${s.fleet.id}/balast`,class:Gs(["submenu-item",{active:s.active=="balast"}])},"BALAST TANK",10,XV)]),_:1}),Qi(m,null,{default:Do(()=>[je("a",{href:`/fleet/${s.fleet.id}/alarms`,class:Gs(["submenu-item",{active:s.active=="alarms"}])},"ALARM",10,ZV)]),_:1}),je("div",KV,[je("img",{src:"/img/icons/chevron-next.png",alt:""},null,8,JV)])]),_:1},8,["navigation","onSwiper","onSlideChange"])}const e$=Kn(UV,[["render",QV]]);var IA={exports:{}},LA={exports:{}};(function(e){(function(t,s){e.exports?(s.default=s,e.exports=t.document?s(t):s):(t.Highcharts&&t.Highcharts.error(16,!0),t.Highcharts=s(t))})(typeof window<"u"?window:ta,function(t){function s(c,d,m,n){c.hasOwnProperty(d)||(c[d]=n.apply(null,m),typeof CustomEvent=="function"&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:d,module:c[d]}})))}var a={};return s(a,"Core/Globals.js",[],function(){var c;return function(d){d.SVG_NS="http://www.w3.org/2000/svg",d.product="Highcharts",d.version="11.0.1",d.win=typeof t<"u"?t:{},d.doc=d.win.document,d.svg=d.doc&&d.doc.createElementNS&&!!d.doc.createElementNS(d.SVG_NS,"svg").createSVGRect,d.userAgent=d.win.navigator&&d.win.navigator.userAgent||"",d.isChrome=d.userAgent.indexOf("Chrome")!==-1,d.isFirefox=d.userAgent.indexOf("Firefox")!==-1,d.isMS=/(edge|msie|trident)/i.test(d.userAgent)&&!d.win.opera,d.isSafari=!d.isChrome&&d.userAgent.indexOf("Safari")!==-1,d.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(d.userAgent),d.isWebKit=d.userAgent.indexOf("AppleWebKit")!==-1,d.deg2rad=2*Math.PI/360,d.hasBidiBug=d.isFirefox&&4>parseInt(d.userAgent.split("Firefox/")[1],10),d.hasTouch=!!d.win.TouchEvent,d.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],d.noop=function(){},d.supportsPassiveEvents=function(){let m=!1;if(!d.isMS){const n=Object.defineProperty({},"passive",{get:function(){m=!0}});d.win.addEventListener&&d.win.removeEventListener&&(d.win.addEventListener("testPassive",d.noop,n),d.win.removeEventListener("testPassive",d.noop,n))}return m}(),d.charts=[],d.dateFormats={},d.seriesTypes={},d.symbolSizes={},d.chartCount=0}(c||(c={})),c}),s(a,"Core/Utilities.js",[a["Core/Globals.js"]],function(c){function d(g,x,P,Y){const ee=x?"Highcharts error":"Highcharts warning";g===32&&(g=`${ee}: Deprecated member`);const K=q(g);let he=K?`${ee} #${g}: www.highcharts.com/errors/${g}/`:g.toString();if(typeof Y<"u"){let ge="";K&&(he+="?"),C(Y,function(Ee,J){ge+=`
 - ${J}: ${Ee}`,K&&(he+=encodeURI(J)+"="+encodeURI(Ee))}),he+=ge}Q(c,"displayError",{chart:P,code:g,message:he,params:Y},function(){if(x)throw Error(he);W.console&&d.messages.indexOf(he)===-1&&console.warn(he)}),d.messages.push(he)}function m(g,x){const P={};return C(g,function(Y,ee){Z(g[ee],!0)&&!g.nodeType&&x[ee]?(Y=m(g[ee],x[ee]),Object.keys(Y).length&&(P[ee]=Y)):(Z(g[ee])||g[ee]!==x[ee]||ee in g&&!(ee in x))&&(P[ee]=g[ee])}),P}function n(g,x){return parseInt(g,x||10)}function S(g){return typeof g=="string"}function z(g){return g=Object.prototype.toString.call(g),g==="[object Array]"||g==="[object Array Iterator]"}function Z(g,x){return!!g&&typeof g=="object"&&(!x||!z(g))}function O(g){return Z(g)&&typeof g.nodeType=="number"}function H(g){const x=g&&g.constructor;return!(!Z(g,!0)||O(g)||!x||!x.name||x.name==="Object")}function q(g){return typeof g=="number"&&!isNaN(g)&&1/0>g&&-1/0<g}function L(g){return typeof g<"u"&&g!==null}function R(g,x,P){const Y=S(x)&&!L(P);let ee;const K=(he,ge)=>{L(he)?g.setAttribute(ge,he):Y?(ee=g.getAttribute(ge))||ge!=="class"||(ee=g.getAttribute(ge+"Name")):g.removeAttribute(ge)};return S(x)?K(P,x):C(x,K),ee}function $(g,x){let P;g||(g={});for(P in x)g[P]=x[P];return g}function M(){const g=arguments,x=g.length;for(let P=0;P<x;P++){const Y=g[P];if(typeof Y<"u"&&Y!==null)return Y}}function E(g,x){c.isMS&&!c.svg&&x&&L(x.opacity)&&(x.filter=`alpha(opacity=${100*x.opacity})`),$(g.style,x)}function k(g){return Math.pow(10,Math.floor(Math.log(g)/Math.LN10))}function V(g,x){return 1e14<g?g:parseFloat(g.toPrecision(x||14))}function G(g,x,P){let Y;return x==="width"?(x=Math.min(g.offsetWidth,g.scrollWidth),P=g.getBoundingClientRect&&g.getBoundingClientRect().width,P<x&&P>=x-1&&(x=Math.floor(P)),Math.max(0,x-(G(g,"padding-left",!0)||0)-(G(g,"padding-right",!0)||0))):x==="height"?Math.max(0,Math.min(g.offsetHeight,g.scrollHeight)-(G(g,"padding-top",!0)||0)-(G(g,"padding-bottom",!0)||0)):((g=W.getComputedStyle(g,void 0))&&(Y=g.getPropertyValue(x),M(P,x!=="opacity")&&(Y=n(Y))),Y)}function C(g,x,P){for(const Y in g)Object.hasOwnProperty.call(g,Y)&&x.call(P||g[Y],g[Y],Y,g)}function te(g,x,P){function Y(he,ge){const Ee=g.removeEventListener;Ee&&Ee.call(g,he,ge,!1)}function ee(he){let ge,Ee;g.nodeName&&(x?(ge={},ge[x]=!0):ge=he,C(ge,function(J,oe){if(he[oe])for(Ee=he[oe].length;Ee--;)Y(oe,he[oe][Ee].fn)}))}var K=typeof g=="function"&&g.prototype||g;if(Object.hasOwnProperty.call(K,"hcEvents")){const he=K.hcEvents;x?(K=he[x]||[],P?(he[x]=K.filter(function(ge){return P!==ge.fn}),Y(x,P)):(ee(he),he[x]=[])):(ee(he),delete K.hcEvents)}}function Q(g,x,P,Y){if(P=P||{},j.createEvent&&(g.dispatchEvent||g.fireEvent&&g!==c)){var ee=j.createEvent("Events");ee.initEvent(x,!0,!0),P=$(ee,P),g.dispatchEvent?g.dispatchEvent(P):g.fireEvent(x,P)}else if(g.hcEvents){P.target||$(P,{preventDefault:function(){P.defaultPrevented=!0},target:g,type:x}),ee=[];let K=g,he=!1;for(;K.hcEvents;)Object.hasOwnProperty.call(K,"hcEvents")&&K.hcEvents[x]&&(ee.length&&(he=!0),ee.unshift.apply(ee,K.hcEvents[x])),K=Object.getPrototypeOf(K);he&&ee.sort((ge,Ee)=>ge.order-Ee.order),ee.forEach(ge=>{ge.fn.call(g,P)===!1&&P.preventDefault()})}Y&&!P.defaultPrevented&&Y.call(g,P)}const{charts:N,doc:j,win:W}=c;(d||(d={})).messages=[],Math.easeInOutSine=function(g){return-.5*(Math.cos(Math.PI*g)-1)};var w=Array.prototype.find?function(g,x){return g.find(x)}:function(g,x){let P;const Y=g.length;for(P=0;P<Y;P++)if(x(g[P],P))return g[P]};C({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(g,x){c[x]=function(P){return d(32,!1,void 0,{[`Highcharts.${x}`]:`use Array.${g}`}),Array.prototype[g].apply(P,[].slice.call(arguments,1))}});let D;const f=function(){const g=Math.random().toString(36).substring(2,9)+"-";let x=0;return function(){return"highcharts-"+(D?"":g)+x++}}();return W.jQuery&&(W.jQuery.fn.highcharts=function(){const g=[].slice.call(arguments);if(this[0])return g[0]?(new c[S(g[0])?g.shift():"Chart"](this[0],g[0],g[1]),this):N[R(this[0],"data-highcharts-chart")]}),w={addEvent:function(g,x,P,Y={}){var ee=typeof g=="function"&&g.prototype||g;Object.hasOwnProperty.call(ee,"hcEvents")||(ee.hcEvents={}),ee=ee.hcEvents,c.Point&&g instanceof c.Point&&g.series&&g.series.chart&&(g.series.chart.runTrackerClick=!0);const K=g.addEventListener;return K&&K.call(g,x,P,c.supportsPassiveEvents?{passive:Y.passive===void 0?x.indexOf("touch")!==-1:Y.passive,capture:!1}:!1),ee[x]||(ee[x]=[]),ee[x].push({fn:P,order:typeof Y.order=="number"?Y.order:1/0}),ee[x].sort((he,ge)=>he.order-ge.order),function(){te(g,x,P)}},arrayMax:function(g){let x=g.length,P=g[0];for(;x--;)g[x]>P&&(P=g[x]);return P},arrayMin:function(g){let x=g.length,P=g[0];for(;x--;)g[x]<P&&(P=g[x]);return P},attr:R,clamp:function(g,x,P){return g>x?g<P?g:P:x},cleanRecursively:m,clearTimeout:function(g){L(g)&&clearTimeout(g)},correctFloat:V,createElement:function(g,x,P,Y,ee){return g=j.createElement(g),x&&$(g,x),ee&&E(g,{padding:"0",border:"none",margin:"0"}),P&&E(g,P),Y&&Y.appendChild(g),g},css:E,defined:L,destroyObjectProperties:function(g,x){C(g,function(P,Y){P&&P!==x&&P.destroy&&P.destroy(),delete g[Y]})},discardElement:function(g){g&&g.parentElement&&g.parentElement.removeChild(g)},erase:function(g,x){let P=g.length;for(;P--;)if(g[P]===x){g.splice(P,1);break}},error:d,extend:$,extendClass:function(g,x){const P=function(){};return P.prototype=new g,$(P.prototype,x),P},find:w,fireEvent:Q,getMagnitude:k,getNestedProperty:function(g,x){for(g=g.split(".");g.length&&L(x);){const P=g.shift();if(typeof P>"u"||P==="__proto__"||(x=x[P],!L(x)||typeof x=="function"||typeof x.nodeType=="number"||x===W))return}return x},getStyle:G,inArray:function(g,x,P){return d(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),x.indexOf(g,P)},isArray:z,isClass:H,isDOMElement:O,isFunction:function(g){return typeof g=="function"},isNumber:q,isObject:Z,isString:S,keys:function(g){return d(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(g)},merge:function(){let g,x=arguments,P={};const Y=function(K,he){return typeof K!="object"&&(K={}),C(he,function(ge,Ee){Ee!=="__proto__"&&Ee!=="constructor"&&(!Z(ge,!0)||H(ge)||O(ge)?K[Ee]=he[Ee]:K[Ee]=Y(K[Ee]||{},ge))}),K};x[0]===!0&&(P=x[1],x=Array.prototype.slice.call(x,2));const ee=x.length;for(g=0;g<ee;g++)P=Y(P,x[g]);return P},normalizeTickInterval:function(g,x,P,Y,ee){let K=g;P=M(P,k(g));const he=g/P;for(x||(x=ee?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],Y===!1&&(P===1?x=x.filter(function(ge){return ge%1===0}):.1>=P&&(x=[1/P]))),Y=0;Y<x.length&&(K=x[Y],!(ee&&K*P>=g||!ee&&he<=(x[Y]+(x[Y+1]||x[Y]))/2));Y++);return K=V(K*P,-Math.round(Math.log(.001)/Math.LN10))},objectEach:C,offset:function(g){const x=j.documentElement;return g=g.parentElement||g.parentNode?g.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:g.top+(W.pageYOffset||x.scrollTop)-(x.clientTop||0),left:g.left+(W.pageXOffset||x.scrollLeft)-(x.clientLeft||0),width:g.width,height:g.height}},pad:function(g,x,P){return Array((x||2)+1-String(g).replace("-","").length).join(P||"0")+g},pick:M,pInt:n,pushUnique:function(g,x){return 0>g.indexOf(x)&&!!g.push(x)},relativeLength:function(g,x,P){return/%$/.test(g)?x*parseFloat(g)/100+(P||0):parseFloat(g)},removeEvent:te,splat:function(g){return z(g)?g:[g]},stableSort:function(g,x){const P=g.length;let Y,ee;for(ee=0;ee<P;ee++)g[ee].safeI=ee;for(g.sort(function(K,he){return Y=x(K,he),Y===0?K.safeI-he.safeI:Y}),ee=0;ee<P;ee++)delete g[ee].safeI},syncTimeout:function(g,x,P){return 0<x?setTimeout(g,x,P):(g.call(0,P),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:f,useSerialIds:function(g){return D=M(g,D)},wrap:function(g,x,P){const Y=g[x];g[x]=function(){const ee=arguments,K=this;return P.apply(this,[function(){return Y.apply(K,arguments.length?arguments:ee)}].concat([].slice.call(arguments)))}}},w}),s(a,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),s(a,"Core/Color/Color.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,d){const{isNumber:m,merge:n,pInt:S}=d;class z{static parse(O){return O?new z(O):z.None}constructor(O){this.rgba=[NaN,NaN,NaN,NaN],this.input=O;const H=c.Color;if(H&&H!==z)return new H(O);this.init(O)}init(O){let H,q;if(typeof O=="object"&&typeof O.stops<"u")this.stops=O.stops.map($=>new z($[1]));else if(typeof O=="string"){if(this.input=O=z.names[O.toLowerCase()]||O,O.charAt(0)==="#"){var L=O.length,R=parseInt(O.substr(1),16);L===7?H=[(R&16711680)>>16,(R&65280)>>8,R&255,1]:L===4&&(H=[(R&3840)>>4|(R&3840)>>8,(R&240)>>4|R&240,(R&15)<<4|R&15,1])}if(!H)for(R=z.parsers.length;R--&&!H;)q=z.parsers[R],(L=q.regex.exec(O))&&(H=q.parse(L))}H&&(this.rgba=H)}get(O){const H=this.input,q=this.rgba;if(typeof H=="object"&&typeof this.stops<"u"){const L=n(H);return L.stops=[].slice.call(L.stops),this.stops.forEach((R,$)=>{L.stops[$]=[L.stops[$][0],R.get(O)]}),L}return q&&m(q[0])?O==="rgb"||!O&&q[3]===1?"rgb("+q[0]+","+q[1]+","+q[2]+")":O==="a"?`${q[3]}`:"rgba("+q.join(",")+")":H}brighten(O){const H=this.rgba;if(this.stops)this.stops.forEach(function(q){q.brighten(O)});else if(m(O)&&O!==0)for(let q=0;3>q;q++)H[q]+=S(255*O),0>H[q]&&(H[q]=0),255<H[q]&&(H[q]=255);return this}setOpacity(O){return this.rgba[3]=O,this}tweenTo(O,H){const q=this.rgba,L=O.rgba;return!m(q[0])||!m(L[0])?O.input||"none":(O=L[3]!==1||q[3]!==1,(O?"rgba(":"rgb(")+Math.round(L[0]+(q[0]-L[0])*(1-H))+","+Math.round(L[1]+(q[1]-L[1])*(1-H))+","+Math.round(L[2]+(q[2]-L[2])*(1-H))+(O?","+(L[3]+(q[3]-L[3])*(1-H)):"")+")")}}return z.names={white:"#ffffff",black:"#000000"},z.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(Z){return[S(Z[1]),S(Z[2]),S(Z[3]),parseFloat(Z[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(Z){return[S(Z[1]),S(Z[2]),S(Z[3]),1]}}],z.None=new z(""),z}),s(a,"Core/Color/Palettes.js",[],function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}}),s(a,"Core/Time.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,d){const{win:m}=c,{defined:n,error:S,extend:z,isObject:Z,merge:O,objectEach:H,pad:q,pick:L,splat:R,timeUnits:$}=d,M=c.isSafari&&m.Intl&&m.Intl.DateTimeFormat.prototype.formatRange,E=c.isSafari&&m.Intl&&!m.Intl.DateTimeFormat.prototype.formatRange;class k{constructor(G){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=m.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(G)}get(G,C){if(this.variableTimezone||this.timezoneOffset){const te=C.getTime(),Q=te-this.getTimezoneOffset(C);return C.setTime(Q),G=C["getUTC"+G](),C.setTime(te),G}return this.useUTC?C["getUTC"+G]():C["get"+G]()}set(G,C,te){if(this.variableTimezone||this.timezoneOffset){if(G==="Milliseconds"||G==="Seconds"||G==="Minutes"&&this.getTimezoneOffset(C)%36e5===0)return C["setUTC"+G](te);var Q=this.getTimezoneOffset(C);return Q=C.getTime()-Q,C.setTime(Q),C["setUTC"+G](te),G=this.getTimezoneOffset(C),Q=C.getTime()+G,C.setTime(Q)}return this.useUTC||M&&G==="FullYear"?C["setUTC"+G](te):C["set"+G](te)}update(G={}){const C=L(G.useUTC,!0);this.options=G=O(!0,this.options,G),this.Date=G.Date||m.Date||Date,this.timezoneOffset=(this.useUTC=C)&&G.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=C&&!(!G.getTimezoneOffset&&!G.timezone)}makeTime(G,C,te,Q,N,j){let W,w,D;return this.useUTC?(W=this.Date.UTC.apply(0,arguments),w=this.getTimezoneOffset(W),W+=w,D=this.getTimezoneOffset(W),w!==D?W+=D-w:w-36e5!==this.getTimezoneOffset(W-36e5)||E||(W-=36e5)):W=new this.Date(G,C,L(te,1),L(Q,0),L(N,0),L(j,0)).getTime(),W}timezoneOffsetFunction(){const G=this,C=this.options,te=C.getTimezoneOffset,Q=C.moment||m.moment;if(!this.useUTC)return function(N){return 6e4*new Date(N.toString()).getTimezoneOffset()};if(C.timezone){if(Q)return function(N){return 6e4*-Q.tz(N,C.timezone).utcOffset()};S(25)}return this.useUTC&&te?function(N){return 6e4*te(N.valueOf())}:function(){return 6e4*(G.timezoneOffset||0)}}dateFormat(G,C,te){if(!n(C)||isNaN(C))return c.defaultOptions.lang&&c.defaultOptions.lang.invalidDate||"";G=L(G,"%Y-%m-%d %H:%M:%S");const Q=this;var N=new this.Date(C);const j=this.get("Hours",N),W=this.get("Day",N),w=this.get("Date",N),D=this.get("Month",N),f=this.get("FullYear",N),g=c.defaultOptions.lang,x=g&&g.weekdays,P=g&&g.shortWeekdays;return N=z({a:P?P[W]:x[W].substr(0,3),A:x[W],d:q(w),e:q(w,2," "),w:W,b:g.shortMonths[D],B:g.months[D],m:q(D+1),o:D+1,y:f.toString().substr(2,2),Y:f,H:q(j),k:j,I:q(j%12||12),l:j%12||12,M:q(this.get("Minutes",N)),p:12>j?"AM":"PM",P:12>j?"am":"pm",S:q(N.getSeconds()),L:q(Math.floor(C%1e3),3)},c.dateFormats),H(N,function(Y,ee){for(;G.indexOf("%"+ee)!==-1;)G=G.replace("%"+ee,typeof Y=="function"?Y.call(Q,C):Y)}),te?G.substr(0,1).toUpperCase()+G.substr(1):G}resolveDTLFormat(G){return Z(G,!0)?G:(G=R(G),{main:G[0],from:G[1],to:G[2]})}getTimeTicks(G,C,te,Q){const N=this,j=[],W={};var w=new N.Date(C);const D=G.unitRange,f=G.count||1;let g;if(Q=L(Q,1),n(C)){if(N.set("Milliseconds",w,D>=$.second?0:f*Math.floor(N.get("Milliseconds",w)/f)),D>=$.second&&N.set("Seconds",w,D>=$.minute?0:f*Math.floor(N.get("Seconds",w)/f)),D>=$.minute&&N.set("Minutes",w,D>=$.hour?0:f*Math.floor(N.get("Minutes",w)/f)),D>=$.hour&&N.set("Hours",w,D>=$.day?0:f*Math.floor(N.get("Hours",w)/f)),D>=$.day&&N.set("Date",w,D>=$.month?1:Math.max(1,f*Math.floor(N.get("Date",w)/f))),D>=$.month){N.set("Month",w,D>=$.year?0:f*Math.floor(N.get("Month",w)/f));var x=N.get("FullYear",w)}D>=$.year&&N.set("FullYear",w,x-x%f),D===$.week&&(x=N.get("Day",w),N.set("Date",w,N.get("Date",w)-x+Q+(x<Q?-7:0))),x=N.get("FullYear",w),Q=N.get("Month",w);const P=N.get("Date",w),Y=N.get("Hours",w);for(C=w.getTime(),!N.variableTimezone&&N.useUTC||!n(te)||(g=te-C>4*$.month||N.getTimezoneOffset(C)!==N.getTimezoneOffset(te)),C=w.getTime(),w=1;C<te;)j.push(C),C=D===$.year?N.makeTime(x+w*f,0):D===$.month?N.makeTime(x,Q+w*f):!g||D!==$.day&&D!==$.week?g&&D===$.hour&&1<f?N.makeTime(x,Q,P,Y+w*f):C+D*f:N.makeTime(x,Q,P+w*f*(D===$.day?1:7)),w++;j.push(C),D<=$.hour&&1e4>j.length&&j.forEach(function(ee){ee%18e5===0&&N.dateFormat("%H%M%S%L",ee)==="000000000"&&(W[ee]="day")})}return j.info=z(G,{higherRanks:W,totalRange:D*f}),j}getDateFormat(G,C,te,Q){const N=this.dateFormat("%m-%d %H:%M:%S.%L",C),j={millisecond:15,second:12,minute:9,hour:6,day:3};let W,w="millisecond";for(W in $){if(G===$.week&&+this.dateFormat("%w",C)===te&&N.substr(6)==="00:00:00.000"){W="week";break}if($[W]>G){W=w;break}if(j[W]&&N.substr(j[W])!=="01-01 00:00:00.000".substr(j[W]))break;W!=="week"&&(w=W)}return this.resolveDTLFormat(Q[W]).main}}return k}),s(a,"Core/Defaults.js",[a["Core/Chart/ChartDefaults.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Color/Palettes.js"],a["Core/Time.js"],a["Core/Utilities.js"]],function(c,d,m,n,S,z){const{isTouchDevice:Z,svg:O}=m,{merge:H}=z,q={colors:n.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:c,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:O,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:Z?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};q.chart.styledMode=!1;const L=new S(q.time);return c={defaultOptions:q,defaultTime:L,getOptions:function(){return q},setOptions:function(R){return H(!0,q,R),(R.time||R.global)&&(m.time?m.time.update(H(q.global,q.time,R.global,R.time)):m.time=L),q}},c}),s(a,"Core/Animation/Fx.js",[a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,d,m){const{parse:n}=c,{win:S}=d,{isNumber:z,objectEach:Z}=m;class O{constructor(q,L,R){this.pos=NaN,this.options=L,this.elem=q,this.prop=R}dSetter(){var q=this.paths;const L=q&&q[0];q=q&&q[1];const R=this.now||0;let $=[];if(R!==1&&L&&q)if(L.length===q.length&&1>R)for(let M=0;M<q.length;M++){const E=L[M],k=q[M],V=[];for(let G=0;G<k.length;G++){const C=E[G],te=k[G];z(C)&&z(te)&&(k[0]!=="A"||G!==4&&G!==5)?V[G]=C+R*(te-C):V[G]=te}$.push(V)}else $=q;else $=this.toD||[];this.elem.attr("d",$,void 0,!0)}update(){const q=this.elem,L=this.prop,R=this.now,$=this.options.step;this[L+"Setter"]?this[L+"Setter"]():q.attr?q.element&&q.attr(L,R,null,!0):q.style[L]=R+this.unit,$&&$.call(q,R,this)}run(q,L,R){const $=this,M=$.options,E=function(G){return E.stopped?!1:$.step(G)},k=S.requestAnimationFrame||function(G){setTimeout(G,13)},V=function(){for(let G=0;G<O.timers.length;G++)O.timers[G]()||O.timers.splice(G--,1);O.timers.length&&k(V)};q!==L||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=q,this.end=L,this.unit=R,this.now=this.start,this.pos=0,E.elem=this.elem,E.prop=this.prop,E()&&O.timers.push(E)===1&&k(V)):(delete M.curAnim[this.prop],M.complete&&Object.keys(M.curAnim).length===0&&M.complete.call(this.elem))}step(q){const L=+new Date,R=this.options,$=this.elem,M=R.complete,E=R.duration,k=R.curAnim;let V;return $.attr&&!$.element?q=!1:q||L>=E+this.startTime?(this.now=this.end,this.pos=1,this.update(),V=k[this.prop]=!0,Z(k,function(G){G!==!0&&(V=!1)}),V&&M&&M.call($),q=!1):(this.pos=R.easing((L-this.startTime)/E),this.now=this.start+(this.end-this.start)*this.pos,this.update(),q=!0),q}initPath(q,L,R){function $(N,j){for(;N.length<te;){var W=N[0];const w=j[te-N.length];w&&W[0]==="M"&&(N[0]=w[0]==="C"?["C",W[1],W[2],W[1],W[2],W[1],W[2]]:["L",W[1],W[2]]),N.unshift(W),V&&(W=N.pop(),N.push(N[N.length-1],W))}}function M(N,j){for(;N.length<te;)if(j=N[Math.floor(N.length/G)-1].slice(),j[0]==="C"&&(j[1]=j[5],j[2]=j[6]),V){const W=N[Math.floor(N.length/G)].slice();N.splice(N.length/2,0,j,W)}else N.push(j)}const E=q.startX,k=q.endX;R=R.slice();const V=q.isArea,G=V?2:1;let C,te,Q;if(L=L&&L.slice(),!L)return[R,R];if(E&&k&&k.length){for(q=0;q<E.length;q++)if(E[q]===k[0]){C=q;break}else if(E[0]===k[k.length-E.length+q]){C=q,Q=!0;break}else if(E[E.length-1]===k[k.length-E.length+q]){C=E.length-q;break}typeof C>"u"&&(L=[])}return L.length&&z(C)&&(te=R.length+C*G,Q?($(L,R),M(R,L)):($(R,L),M(L,R))),[L,R]}fillSetter(){O.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,n(this.start).tweenTo(n(this.end),this.pos),void 0,!0)}}return O.timers=[],O}),s(a,"Core/Animation/AnimationUtilities.js",[a["Core/Animation/Fx.js"],a["Core/Utilities.js"]],function(c,d){function m($){return H($)?q({duration:500,defer:0},$):{duration:$?500:0,defer:0}}function n($,M){let E=c.timers.length;for(;E--;)c.timers[E].elem!==$||M&&M!==c.timers[E].prop||(c.timers[E].stopped=!0)}const{defined:S,getStyle:z,isArray:Z,isNumber:O,isObject:H,merge:q,objectEach:L,pick:R}=d;return{animate:function($,M,E){let k,V="",G,C,te;H(E)||(te=arguments,E={duration:te[2],easing:te[3],complete:te[4]}),O(E.duration)||(E.duration=400),E.easing=typeof E.easing=="function"?E.easing:Math[E.easing]||Math.easeInOutSine,E.curAnim=q(M),L(M,function(Q,N){n($,N),C=new c($,E,N),G=void 0,N==="d"&&Z(M.d)?(C.paths=C.initPath($,$.pathArray,M.d),C.toD=M.d,k=0,G=1):$.attr?k=$.attr(N):(k=parseFloat(z($,N))||0,N!=="opacity"&&(V="px")),G||(G=Q),typeof G=="string"&&G.match("px")&&(G=G.replace(/px/g,"")),C.run(k,G,V)})},animObject:m,getDeferredAnimation:function($,M,E){const k=m(M);let V=0,G=0;return(E?[E]:$.series).forEach(C=>{C=m(C.options.animation),V=M&&S(M.defer)?k.defer:Math.max(V,C.duration+C.defer),G=Math.min(k.duration,C.duration)}),$.renderer.forExport&&(V=0),{defer:Math.max(0,V-G),duration:Math.min(V,G)}},setAnimation:function($,M){M.renderer.globalAnimation=R($,M.options.chart.animation,!0)},stop:n}}),s(a,"Core/Renderer/HTML/AST.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,d){const{SVG_NS:m,win:n}=c,{attr:S,createElement:z,css:Z,error:O,isFunction:H,isString:q,objectEach:L,splat:R}=d;({trustedTypes:d}=n);const $=d&&H(d.createPolicy)&&d.createPolicy("highcharts",{createHTML:V=>V});d=$?$.createHTML(""):"";try{var M=!!new DOMParser().parseFromString(d,"text/html")}catch{M=!1}const E=M;class k{static filterUserAttributes(G){return L(G,(C,te)=>{let Q=!0;k.allowedAttributes.indexOf(te)===-1&&(Q=!1),["background","dynsrc","href","lowsrc","src"].indexOf(te)!==-1&&(Q=q(C)&&k.allowedReferences.some(N=>C.indexOf(N)===0)),Q||(O(33,!1,void 0,{"Invalid attribute in config":`${te}`}),delete G[te]),q(C)&&G[te]&&(G[te]=C.replace(/</g,"&lt;"))}),G}static parseStyle(G){return G.split(";").reduce((C,te)=>{te=te.split(":").map(N=>N.trim());const Q=te.shift();return Q&&te.length&&(C[Q.replace(/-([a-z])/g,N=>N[1].toUpperCase())]=te.join(":")),C},{})}static setElementHTML(G,C){G.innerHTML=k.emptyHTML,C&&new k(C).addToDOM(G)}constructor(G){this.nodes=typeof G=="string"?this.parseMarkup(G):G}addToDOM(G){function C(te,Q){let N;return R(te).forEach(function(j){var W=j.tagName;const w=j.textContent?c.doc.createTextNode(j.textContent):void 0,D=k.bypassHTMLFiltering;let f;if(W)if(W==="#text")f=w;else if(k.allowedTags.indexOf(W)!==-1||D){W=c.doc.createElementNS(W==="svg"?m:Q.namespaceURI||m,W);const g=j.attributes||{};L(j,function(x,P){P!=="tagName"&&P!=="attributes"&&P!=="children"&&P!=="style"&&P!=="textContent"&&(g[P]=x)}),S(W,D?g:k.filterUserAttributes(g)),j.style&&Z(W,j.style),w&&W.appendChild(w),C(j.children||[],W),f=W}else O(33,!1,void 0,{"Invalid tagName in config":W});f&&Q.appendChild(f),N=f}),N}return C(this.nodes,G)}parseMarkup(G){const C=[];if(G=G.trim().replace(/ style=(["'])/g," data-style=$1"),E)G=new DOMParser().parseFromString($?$.createHTML(G):G,"text/html");else{const Q=z("div");Q.innerHTML=G,G={body:Q}}const te=(Q,N)=>{var j=Q.nodeName.toLowerCase();const W={tagName:j};if(j==="#text"&&(W.textContent=Q.textContent||""),j=Q.attributes){const w={};[].forEach.call(j,D=>{D.name==="data-style"?W.style=k.parseStyle(D.value):w[D.name]=D.value}),W.attributes=w}if(Q.childNodes.length){const w=[];[].forEach.call(Q.childNodes,D=>{te(D,w)}),w.length&&(W.children=w)}N.push(W)};return[].forEach.call(G.body.childNodes,Q=>te(Q,C)),C}}return k.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),k.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),k.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),k.emptyHTML=d,k.bypassHTMLFiltering=!1,k}),s(a,"Core/FormatUtilities.js",[a["Core/Defaults.js"],a["Core/Utilities.js"]],function(c,d){function m(q,L,R,$){q=+q||0,L=+L;const M=n.lang;var E=(q.toString().split(".")[1]||"").split("e")[0].length;const k=q.toString().split("e"),V=L;if(L===-1)L=Math.min(E,20);else if(!Z(L))L=2;else if(L&&k[1]&&0>k[1]){var G=L+ +k[1];0<=G?(k[0]=(+k[0]).toExponential(G).split("e")[0],L=G):(k[0]=k[0].split(".")[0]||0,q=20>L?(k[0]*Math.pow(10,k[1])).toFixed(L):0,k[1]=0)}G=(Math.abs(k[1]?k[0]:q)+Math.pow(10,-Math.max(L,E)-1)).toFixed(L),E=String(H(G));const C=3<E.length?E.length%3:0;return R=O(R,M.decimalPoint),$=O($,M.thousandsSep),q=(0>q?"-":"")+(C?E.substr(0,C)+$:""),q=0>+k[1]&&!V?"0":q+E.substr(C).replace(/(\d{3})(?=\d)/g,"$1"+$),L&&(q+=R+G.slice(-L)),k[1]&&+q!=0&&(q+="e"+k[1]),q}const{defaultOptions:n,defaultTime:S}=c,{getNestedProperty:z,isNumber:Z,pick:O,pInt:H}=d;return{dateFormat:function(q,L,R){return S.dateFormat(q,L,R)},format:function(q,L,R){var $="{";let M=!1,E;const k=/f$/,V=/\.([0-9])/,G=n.lang,C=R&&R.time||S;R=R&&R.numberFormatter||m;const te=[];for(;q&&(E=q.indexOf($),E!==-1);){var Q=q.slice(0,E);if(M){if(Q=Q.split(":"),$=z(Q.shift()||"",L),Q.length&&typeof $=="number")if(Q=Q.join(":"),k.test(Q)){const N=parseInt((Q.match(V)||["","-1"])[1],10);$!==null&&($=R($,N,G.decimalPoint,-1<Q.indexOf(",")?G.thousandsSep:""))}else $=C.dateFormat(Q,$);te.push($)}else te.push(Q);q=q.slice(E+1),$=(M=!M)?"}":"{"}return te.push(q),te.join("")},numberFormat:m}}),s(a,"Core/Renderer/RendererUtilities.js",[a["Core/Utilities.js"]],function(c){const{clamp:d,pick:m,stableSort:n}=c;var S;return function(z){function Z(O,H,q){const L=O;var R=L.reducedLen||H,$=(C,te)=>(te.rank||0)-(C.rank||0);const M=(C,te)=>C.target-te.target;let E,k=!0,V=[],G=0;for(E=O.length;E--;)G+=O[E].size;if(G>R){for(n(O,$),G=E=0;G<=R;)G+=O[E].size,E++;V=O.splice(E-1,O.length)}for(n(O,M),O=O.map(C=>({size:C.size,targets:[C.target],align:m(C.align,.5)}));k;){for(E=O.length;E--;)R=O[E],$=(Math.min.apply(0,R.targets)+Math.max.apply(0,R.targets))/2,R.pos=d($-R.size*R.align,0,H-R.size);for(E=O.length,k=!1;E--;)0<E&&O[E-1].pos+O[E-1].size>O[E].pos&&(O[E-1].size+=O[E].size,O[E-1].targets=O[E-1].targets.concat(O[E].targets),O[E-1].align=.5,O[E-1].pos+O[E-1].size>H&&(O[E-1].pos=H-O[E-1].size),O.splice(E,1),k=!0)}return L.push.apply(L,V),E=0,O.some(C=>{let te=0;return(C.targets||[]).some(()=>(L[E].pos=C.pos+te,typeof q<"u"&&Math.abs(L[E].pos-L[E].target)>q?(L.slice(0,E+1).forEach(Q=>delete Q.pos),L.reducedLen=(L.reducedLen||H)-.1*H,L.reducedLen>.1*H&&Z(L,H,q),!0):(te+=L[E].size,E++,!1)))}),n(L,M),L}z.distribute=Z}(S||(S={})),S}),s(a,"Core/Renderer/SVG/SVGElement.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,d,m,n){const{animate:S,animObject:z,stop:Z}=c,{deg2rad:O,doc:H,svg:q,SVG_NS:L,win:R}=m,{addEvent:$,attr:M,createElement:E,css:k,defined:V,erase:G,extend:C,fireEvent:te,isArray:Q,isFunction:N,isObject:j,isString:W,merge:w,objectEach:D,pick:f,pInt:g,syncTimeout:x,uniqueKey:P}=n;class Y{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=L}_defaultGetter(K){return K=f(this[K+"Value"],this[K],this.element?this.element.getAttribute(K):null,0),/^[\-0-9\.]+$/.test(K)&&(K=parseFloat(K)),K}_defaultSetter(K,he,ge){ge.setAttribute(he,K)}add(K){const he=this.renderer,ge=this.element;let Ee;return K&&(this.parentGroup=K),typeof this.textStr<"u"&&this.element.nodeName==="text"&&he.buildText(this),this.added=!0,(!K||K.handleZ||this.zIndex)&&(Ee=this.zIndexSetter()),Ee||(K?K.element:he.box).appendChild(ge),this.onAdd&&this.onAdd(),this}addClass(K,he){const ge=he?"":this.attr("class")||"";return K=(K||"").split(/ /g).reduce(function(Ee,J){return ge.indexOf(J)===-1&&Ee.push(J),Ee},ge?[ge]:[]).join(" "),K!==ge&&this.attr("class",K),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(K,he,ge){const Ee={};var J=this.renderer,oe=J.alignedObjects,ce;let pe,Ce;K?(this.alignOptions=K,this.alignByTranslate=he,(!ge||W(ge))&&(this.alignTo=ce=ge||"renderer",G(oe,this),oe.push(this),ge=void 0)):(K=this.alignOptions,he=this.alignByTranslate,ce=this.alignTo),ge=f(ge,J[ce],ce==="scrollablePlotBox"?J.plotBox:void 0,J),ce=K.align;const ne=K.verticalAlign;return J=(ge.x||0)+(K.x||0),oe=(ge.y||0)+(K.y||0),ce==="right"?pe=1:ce==="center"&&(pe=2),pe&&(J+=(ge.width-(K.width||0))/pe),Ee[he?"translateX":"x"]=Math.round(J),ne==="bottom"?Ce=1:ne==="middle"&&(Ce=2),Ce&&(oe+=(ge.height-(K.height||0))/Ce),Ee[he?"translateY":"y"]=Math.round(oe),this[this.placed?"animate":"attr"](Ee),this.placed=!0,this.alignAttr=Ee,this}alignSetter(K){const he={left:"start",center:"middle",right:"end"};he[K]&&(this.alignValue=K,this.element.setAttribute("text-anchor",he[K]))}animate(K,he,ge){const Ee=z(f(he,this.renderer.globalAnimation,!0));return he=Ee.defer,H.hidden&&(Ee.duration=0),Ee.duration!==0?(ge&&(Ee.complete=ge),x(()=>{this.element&&S(this,K,Ee)},he)):(this.attr(K,void 0,ge||Ee.complete),D(K,function(J,oe){Ee.step&&Ee.step.call(this,J,{prop:oe,pos:1,elem:this})},this)),this}applyTextOutline(K){const he=this.element;K.indexOf("contrast")!==-1&&(K=K.replace(/contrast/g,this.renderer.getContrast(he.style.fill)));var ge=K.split(" ");if(K=ge[ge.length-1],(ge=ge[0])&&ge!=="none"&&m.svg){this.fakeTS=!0,ge=ge.replace(/(^[\d\.]+)(.*?)$/g,function(oe,ce,pe){return 2*Number(ce)+pe}),this.removeTextOutline();const Ee=H.createElementNS(L,"tspan");M(Ee,{class:"highcharts-text-outline",fill:K,stroke:K,"stroke-width":ge,"stroke-linejoin":"round"}),K=he.querySelector("textPath")||he,[].forEach.call(K.childNodes,oe=>{const ce=oe.cloneNode(!0);ce.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(pe=>ce.removeAttribute(pe)),Ee.appendChild(ce)});let J=0;[].forEach.call(K.querySelectorAll("text tspan"),oe=>{J+=Number(oe.getAttribute("dy"))}),ge=H.createElementNS(L,"tspan"),ge.textContent="​",M(ge,{x:Number(he.getAttribute("x")),dy:-J}),Ee.appendChild(ge),K.insertBefore(Ee,K.firstChild)}}attr(K,he,ge,Ee){const J=this.element,oe=Y.symbolCustomAttribs;let ce,pe,Ce=this,ne,ye;return typeof K=="string"&&typeof he<"u"&&(ce=K,K={},K[ce]=he),typeof K=="string"?Ce=(this[K+"Getter"]||this._defaultGetter).call(this,K,J):(D(K,function(_e,ae){ne=!1,Ee||Z(this,ae),this.symbolName&&oe.indexOf(ae)!==-1&&(pe||(this.symbolAttr(K),pe=!0),ne=!0),!this.rotation||ae!=="x"&&ae!=="y"||(this.doTransform=!0),ne||(ye=this[ae+"Setter"]||this._defaultSetter,ye.call(this,_e,ae,J))},this),this.afterSetters()),ge&&ge.call(this),Ce}clip(K){return this.attr("clip-path",K?"url("+this.renderer.url+"#"+K.id+")":"none")}crisp(K,he){he=he||K.strokeWidth||0;const ge=Math.round(he)%2/2;return K.x=Math.floor(K.x||this.x||0)+ge,K.y=Math.floor(K.y||this.y||0)+ge,K.width=Math.floor((K.width||this.width||0)-2*ge),K.height=Math.floor((K.height||this.height||0)-2*ge),V(K.strokeWidth)&&(K.strokeWidth=he),K}complexColor(K,he,ge){const Ee=this.renderer;let J,oe,ce,pe,Ce,ne,ye,_e,ae,me,we=[],Re;te(this.renderer,"complexColor",{args:arguments},function(){if(K.radialGradient?oe="radialGradient":K.linearGradient&&(oe="linearGradient"),oe){if(ce=K[oe],Ce=Ee.gradients,ne=K.stops,ae=ge.radialReference,Q(ce)&&(K[oe]=ce={x1:ce[0],y1:ce[1],x2:ce[2],y2:ce[3],gradientUnits:"userSpaceOnUse"}),oe==="radialGradient"&&ae&&!V(ce.gradientUnits)&&(pe=ce,ce=w(ce,Ee.getRadialAttr(ae,pe),{gradientUnits:"userSpaceOnUse"})),D(ce,function(Le,Ge){Ge!=="id"&&we.push(Ge,Le)}),D(ne,function(Le){we.push(Le)}),we=we.join(","),Ce[we])me=Ce[we].attr("id");else{ce.id=me=P();const Le=Ce[we]=Ee.createElement(oe).attr(ce).add(Ee.defs);Le.radAttr=pe,Le.stops=[],ne.forEach(function(Ge){Ge[1].indexOf("rgba")===0?(J=d.parse(Ge[1]),ye=J.get("rgb"),_e=J.get("a")):(ye=Ge[1],_e=1),Ge=Ee.createElement("stop").attr({offset:Ge[0],"stop-color":ye,"stop-opacity":_e}).add(Le),Le.stops.push(Ge)})}Re="url("+Ee.url+"#"+me+")",ge.setAttribute(he,Re),ge.gradient=we,K.toString=function(){return Re}}})}css(K){const he=this.styles,ge={},Ee=this.element;let J,oe=!he;if(K.color&&(K.fill=K.color),he&&D(K,function(ce,pe){he&&he[pe]!==ce&&(ge[pe]=ce,oe=!0)}),oe){he&&(K=C(he,ge)),K.width===null||K.width==="auto"?delete this.textWidth:Ee.nodeName.toLowerCase()==="text"&&K.width&&(J=this.textWidth=g(K.width)),this.styles=K,J&&!q&&this.renderer.forExport&&delete K.width;const ce=w(K);Ee.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(pe=>ce&&delete ce[pe]),k(Ee,ce)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),K.textOutline&&this.applyTextOutline(K.textOutline)),this}dashstyleSetter(K){let he=this["stroke-width"];if(he==="inherit"&&(he=1),K=K&&K.toLowerCase()){const ge=K.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(K=ge.length;K--;)ge[K]=""+g(ge[K])*f(he,NaN);K=ge.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",K)}}destroy(){const K=this;var he=K.element||{};const ge=K.renderer;var Ee=he.ownerSVGElement;let J=he.nodeName==="SPAN"&&K.parentGroup||void 0;if(he.onclick=he.onmouseout=he.onmouseover=he.onmousemove=he.point=null,Z(K),K.clipPath&&Ee){const oe=K.clipPath;[].forEach.call(Ee.querySelectorAll("[clip-path],[CLIP-PATH]"),function(ce){-1<ce.getAttribute("clip-path").indexOf(oe.element.id)&&ce.removeAttribute("clip-path")}),K.clipPath=oe.destroy()}if(K.stops){for(Ee=0;Ee<K.stops.length;Ee++)K.stops[Ee].destroy();K.stops.length=0,K.stops=void 0}for(K.safeRemoveChild(he);J&&J.div&&J.div.childNodes.length===0;)he=J.parentGroup,K.safeRemoveChild(J.div),delete J.div,J=he;K.alignTo&&G(ge.alignedObjects,K),D(K,function(oe,ce){K[ce]&&K[ce].parentGroup===K&&K[ce].destroy&&K[ce].destroy(),delete K[ce]})}dSetter(K,he,ge){Q(K)&&(typeof K[0]=="string"&&(K=this.renderer.pathToSegments(K)),this.pathArray=K,K=K.reduce((Ee,J,oe)=>J&&J.join?(oe?Ee+" ":"")+J.join(" "):(J||"").toString(),"")),/(NaN| {2}|^$)/.test(K)&&(K="M 0 0"),this[he]!==K&&(ge.setAttribute(he,K),this[he]=K)}fadeOut(K){const he=this;he.animate({opacity:0},{duration:f(K,150),complete:function(){he.hide()}})}fillSetter(K,he,ge){typeof K=="string"?ge.setAttribute(he,K):K&&this.complexColor(K,he,ge)}getBBox(K,he){const{alignValue:ge,element:Ee,renderer:J,styles:oe,textStr:ce}=this,{cache:pe,cacheKeys:Ce}=J;var ne=Ee.namespaceURI===this.SVG_NS;he=f(he,this.rotation,0);var ye=J.styledMode?Ee&&Y.prototype.getStyle.call(Ee,"font-size"):oe&&oe.fontSize;let _e,ae;if(V(ce)&&(ae=ce.toString(),ae.indexOf("<")===-1&&(ae=ae.replace(/[0-9]/g,"0")),ae+=["",J.rootFontSize,ye,he,this.textWidth,ge,oe&&oe.textOverflow,oe&&oe.fontWeight].join()),ae&&!K&&(_e=pe[ae]),!_e){if(ne||J.forExport){try{var me=this.fakeTS&&function(rt){const Qe=Ee.querySelector(".highcharts-text-outline");Qe&&k(Qe,{display:rt})};N(me)&&me("none"),_e=Ee.getBBox?C({},Ee.getBBox()):{width:Ee.offsetWidth,height:Ee.offsetHeight,x:0,y:0},N(me)&&me("")}catch{}(!_e||0>_e.width)&&(_e={x:0,y:0,width:0,height:0})}else _e=this.htmlGetBBox();if(me=_e.width,K=_e.height,ne&&(_e.height=K={"11px,17":14,"13px,20":16}[`${ye||""},${Math.round(K)}`]||K),he){ne=Number(Ee.getAttribute("y")||0)-_e.y,ye={right:1,center:.5}[ge||0]||0;var we=he*O,Re=(he-90)*O,Le=me*Math.cos(we);he=me*Math.sin(we);var Ge=Math.cos(Re);we=Math.sin(Re),me=_e.x+ye*(me-Le)+ne*Ge,Re=me+Le,Ge=Re-K*Ge,Le=Ge-Le,ne=_e.y+ne-ye*he+ne*we,ye=ne+he,K=ye-K*we,he=K-he,_e.x=Math.min(me,Re,Ge,Le),_e.y=Math.min(ne,ye,K,he),_e.width=Math.max(me,Re,Ge,Le)-_e.x,_e.height=Math.max(ne,ye,K,he)-_e.y}}if(ae&&(ce===""||0<_e.height)){for(;250<Ce.length;)delete pe[Ce.shift()];pe[ae]||Ce.push(ae),pe[ae]=_e}return _e}getStyle(K){return R.getComputedStyle(this.element||this,"").getPropertyValue(K)}hasClass(K){return(""+this.attr("class")).split(" ").indexOf(K)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(K,he){this.element=he==="span"?E(he):H.createElementNS(this.SVG_NS,he),this.renderer=K,te(this,"afterInit")}on(K,he){const{onEvents:ge}=this;return ge[K]&&ge[K](),ge[K]=$(this.element,K,he),this}opacitySetter(K,he,ge){this.opacity=K=Number(Number(K).toFixed(3)),ge.setAttribute(he,K)}removeClass(K){return this.attr("class",(""+this.attr("class")).replace(W(K)?new RegExp(`(^| )${K}( |$)`):K," ").replace(/ +/g," ").trim())}removeTextOutline(){const K=this.element.querySelector("tspan.highcharts-text-outline");K&&this.safeRemoveChild(K)}safeRemoveChild(K){const he=K.parentNode;he&&he.removeChild(K)}setRadialReference(K){const he=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=K,he&&he.radAttr&&he.animate(this.renderer.getRadialAttr(K,he.radAttr)),this}setTextPath(K,he){he=w(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},he);const ge=this.renderer.url,Ee=this.text||this,J=Ee.textPath,{attributes:oe,enabled:ce}=he;return K=K||J&&J.path,J&&J.undo(),K&&ce?(he=$(Ee,"afterModifyTree",pe=>{if(K&&ce){let ne=K.attr("id");ne||K.attr("id",ne=P());var Ce={x:0,y:0};V(oe.dx)&&(Ce.dx=oe.dx,delete oe.dx),V(oe.dy)&&(Ce.dy=oe.dy,delete oe.dy),Ee.attr(Ce),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),Ce=pe.nodes.slice(0),pe.nodes.length=0,pe.nodes[0]={tagName:"textPath",attributes:C(oe,{"text-anchor":oe.textAnchor,href:`${ge}#${ne}`}),children:Ce}}}),Ee.textPath={path:K,undo:he}):(Ee.attr({dx:0,dy:0}),delete Ee.textPath),this.added&&(Ee.textCache="",this.renderer.buildText(Ee)),this}shadow(K){var he;const{renderer:ge}=this,Ee=w(((he=this.parentGroup)===null||he===void 0?void 0:he.rotation)===90?{offsetX:-1,offsetY:-1}:{},j(K)?K:{});return he=ge.shadowDefinition(Ee),this.attr({filter:K?`url(${ge.url}#${he})`:"none"})}show(K=!0){return this.attr({visibility:K?"inherit":"visible"})}"stroke-widthSetter"(K,he,ge){this[he]=K,ge.setAttribute(he,K)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const K=this.getStyle("stroke-width");let he=0,ge;return K.indexOf("px")===K.length-2?he=g(K):K!==""&&(ge=H.createElementNS(L,"rect"),M(ge,{width:K,"stroke-width":0}),this.element.parentNode.appendChild(ge),he=ge.getBBox().width,ge.parentNode.removeChild(ge)),he}symbolAttr(K){const he=this;Y.symbolCustomAttribs.forEach(function(ge){he[ge]=f(K[ge],he[ge])}),he.attr({d:he.renderer.symbols[he.symbolName](he.x,he.y,he.width,he.height,he)})}textSetter(K){K!==this.textStr&&(delete this.textPxLength,this.textStr=K,this.added&&this.renderer.buildText(this))}titleSetter(K){const he=this.element,ge=he.getElementsByTagName("title")[0]||H.createElementNS(this.SVG_NS,"title");he.insertBefore?he.insertBefore(ge,he.firstChild):he.appendChild(ge),ge.textContent=String(f(K,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const K=this.element;return K.parentNode.appendChild(K),this}translate(K,he){return this.attr({translateX:K,translateY:he})}updateTransform(){const{element:K,matrix:he,rotation:ge=0,scaleX:Ee,scaleY:J,translateX:oe=0,translateY:ce=0}=this,pe=["translate("+oe+","+ce+")"];V(he)&&pe.push("matrix("+he.join(",")+")"),ge&&pe.push("rotate("+ge+" "+f(this.rotationOriginX,K.getAttribute("x"),0)+" "+f(this.rotationOriginY,K.getAttribute("y")||0)+")"),(V(Ee)||V(J))&&pe.push("scale("+f(Ee,1)+" "+f(J,1)+")"),pe.length&&!(this.text||this).textPath&&K.setAttribute("transform",pe.join(" "))}visibilitySetter(K,he,ge){K==="inherit"?ge.removeAttribute(he):this[he]!==K&&ge.setAttribute(he,K),this[he]=K}xGetter(K){return this.element.nodeName==="circle"&&(K==="x"?K="cx":K==="y"&&(K="cy")),this._defaultGetter(K)}zIndexSetter(K,he){var ge=this.renderer,Ee=this.parentGroup;const J=(Ee||ge).element||ge.box,oe=this.element;ge=J===ge.box;let ce=!1,pe;var Ce=this.added;let ne;if(V(K)?(oe.setAttribute("data-z-index",K),K=+K,this[he]===K&&(Ce=!1)):V(this[he])&&oe.removeAttribute("data-z-index"),this[he]=K,Ce){for((K=this.zIndex)&&Ee&&(Ee.handleZ=!0),he=J.childNodes,ne=he.length-1;0<=ne&&!ce;ne--)Ee=he[ne],Ce=Ee.getAttribute("data-z-index"),pe=!V(Ce),Ee!==oe&&(0>K&&pe&&!ge&&!ne?(J.insertBefore(oe,he[ne]),ce=!0):(g(Ce)<=K||pe&&(!V(K)||0<=K))&&(J.insertBefore(oe,he[ne+1]),ce=!0));ce||(J.insertBefore(oe,he[ge?3:0]),ce=!0)}return ce}}return Y.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),Y.prototype.strokeSetter=Y.prototype.fillSetter,Y.prototype.yGetter=Y.prototype.xGetter,Y.prototype.matrixSetter=Y.prototype.rotationOriginXSetter=Y.prototype.rotationOriginYSetter=Y.prototype.rotationSetter=Y.prototype.scaleXSetter=Y.prototype.scaleYSetter=Y.prototype.translateXSetter=Y.prototype.translateYSetter=Y.prototype.verticalAlignSetter=function(ee,K){this[K]=ee,this.doTransform=!0},Y}),s(a,"Core/Renderer/RendererRegistry.js",[a["Core/Globals.js"]],function(c){var d;return function(m){m.rendererTypes={};let n;m.getRendererType=function(S=n){return m.rendererTypes[S]||m.rendererTypes[n]},m.registerRendererType=function(S,z,Z){m.rendererTypes[S]=z,(!n||Z)&&(n=S,c.Renderer=z)}}(d||(d={})),d}),s(a,"Core/Renderer/SVG/SVGLabel.js",[a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(c,d){const{defined:m,extend:n,isNumber:S,merge:z,pick:Z,removeEvent:O}=d;class H extends c{constructor(L,R,$,M,E,k,V,G,C,te){super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(L,"g"),this.textStr=R,this.x=$,this.y=M,this.anchorX=k,this.anchorY=V,this.baseline=C,this.className=te,this.addClass(te==="button"?"highcharts-no-tooltip":"highcharts-label"),te&&this.addClass("highcharts-"+te),this.text=L.text(void 0,0,0,G).attr({zIndex:1});let Q;typeof E=="string"&&((Q=/^url\((.*?)\)$/.test(E))||this.renderer.symbols[E])&&(this.symbolKey=E),this.bBox=H.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=L.styledMode||Q,this.deferredAttr={},this.alignFactor=0}alignSetter(L){L={left:0,center:.5,right:1}[L],L!==this.alignFactor&&(this.alignFactor=L,this.bBox&&S(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(L,R){this.anchorX=L,this.boxAttr(R,Math.round(L)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(L,R){this.anchorY=L,this.boxAttr(R,L-this.ySetting)}boxAttr(L,R){this.box?this.box.attr(L,R):this.deferredAttr[L]=R}css(L){if(L){const R={};L=z(L),H.textProps.forEach($=>{typeof L[$]<"u"&&(R[$]=L[$],delete L[$])}),this.text.css(R),"fontSize"in R||"fontWeight"in R?this.updateTextPadding():("width"in R||"textOverflow"in R)&&this.updateBoxSize()}return c.prototype.css.call(this,L)}destroy(){O(this.element,"mouseenter"),O(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),c.prototype.destroy.call(this)}fillSetter(L,R){L&&(this.needsBox=!0),this.fill=L,this.boxAttr(R,L)}getBBox(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();const L=this.padding,R=Z(this.paddingLeft,L);return{width:this.width,height:this.height,x:this.bBox.x-R,y:this.bBox.y-L}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(L){this.heightSetting=L}onAdd(){this.text.add(this),this.attr({text:Z(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&m(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(L,R){S(L)?L!==this[R]&&(this[R]=L,this.updateTextPadding()):this[R]=void 0}rSetter(L,R){this.boxAttr(R,L)}strokeSetter(L,R){this.stroke=L,this.boxAttr(R,L)}"stroke-widthSetter"(L,R){L&&(this.needsBox=!0),this["stroke-width"]=L,this.boxAttr(R,L)}"text-alignSetter"(L){this.textAlign=L}textSetter(L){typeof L<"u"&&this.text.attr({text:L}),this.updateTextPadding()}updateBoxSize(){var L=this.text;const R={},$=this.padding,M=this.bBox=S(this.widthSetting)&&S(this.heightSetting)&&!this.textAlign||!m(L.textStr)?H.emptyBBox:L.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||M.height||0)+2*$;const E=this.renderer.fontMetrics(L);this.baselineOffset=$+Math.min((this.text.firstLineMetrics||E).b,M.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-E.h)/2),this.needsBox&&!L.textPath&&(this.box||(L=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),L.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),L.add(this)),L=this.getCrispAdjust(),R.x=L,R.y=(this.baseline?-this.baselineOffset:0)+L,R.width=Math.round(this.width),R.height=Math.round(this.height),this.box.attr(n(R,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const L=this.text;if(!L.textPath){this.updateBoxSize();const R=this.baseline?0:this.baselineOffset;let $=Z(this.paddingLeft,this.padding);m(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&($+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),($!==L.x||R!==L.y)&&(L.attr("x",$),L.hasBoxWidthChanged&&(this.bBox=L.getBBox(!0)),typeof R<"u"&&L.attr("y",R)),L.x=$,L.y=R}}widthSetter(L){this.widthSetting=S(L)?L:void 0}getPaddedWidth(){var L=this.padding;const R=Z(this.paddingLeft,L);return L=Z(this.paddingRight,L),(this.widthSetting||this.bBox.width||0)+R+L}xSetter(L){this.x=L,this.alignFactor&&(L-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(L),this.attr("translateX",this.xSetting)}ySetter(L){this.ySetting=this.y=Math.round(L),this.attr("translateY",this.ySetting)}}return H.emptyBBox={width:0,height:0,x:0,y:0},H.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),H}),s(a,"Core/Renderer/SVG/Symbols.js",[a["Core/Utilities.js"]],function(c){function d(O,H,q,L,R){const $=[];if(R){const M=R.start||0,E=Z(R.r,q);q=Z(R.r,L||q),L=(R.end||0)-.001;const k=R.innerR,V=Z(R.open,.001>Math.abs((R.end||0)-M-2*Math.PI)),G=Math.cos(M),C=Math.sin(M),te=Math.cos(L),Q=Math.sin(L),N=Z(R.longArc,.001>L-M-Math.PI?0:1);let j=["A",E,q,0,N,Z(R.clockwise,1),O+E*te,H+q*Q];j.params={start:M,end:L,cx:O,cy:H},$.push(["M",O+E*G,H+q*C],j),S(k)&&(j=["A",k,k,0,N,S(R.clockwise)?1-R.clockwise:0,O+k*G,H+k*C],j.params={start:L,end:M,cx:O,cy:H},$.push(V?["M",O+k*te,H+k*Q]:["L",O+k*te,H+k*Q],j)),V||$.push(["Z"])}return $}function m(O,H,q,L,R){return R&&R.r?n(O,H,q,L,R):[["M",O,H],["L",O+q,H],["L",O+q,H+L],["L",O,H+L],["Z"]]}function n(O,H,q,L,R){return R=(R==null?void 0:R.r)||0,[["M",O+R,H],["L",O+q-R,H],["A",R,R,0,0,1,O+q,H+R],["L",O+q,H+L-R],["A",R,R,0,0,1,O+q-R,H+L],["L",O+R,H+L],["A",R,R,0,0,1,O,H+L-R],["L",O,H+R],["A",R,R,0,0,1,O+R,H],["Z"]]}const{defined:S,isNumber:z,pick:Z}=c;return{arc:d,callout:function(O,H,q,L,R){const $=Math.min(R&&R.r||0,q,L),M=$+6,E=R&&R.anchorX;R=R&&R.anchorY||0;const k=n(O,H,q,L,{r:$});return z(E)&&(O+E>=q?R>H+M&&R<H+L-M?k.splice(3,1,["L",O+q,R-6],["L",O+q+6,R],["L",O+q,R+6],["L",O+q,H+L-$]):k.splice(3,1,["L",O+q,L/2],["L",E,R],["L",O+q,L/2],["L",O+q,H+L-$]):0>=O+E?R>H+M&&R<H+L-M?k.splice(7,1,["L",O,R+6],["L",O-6,R],["L",O,R-6],["L",O,H+$]):k.splice(7,1,["L",O,L/2],["L",E,R],["L",O,L/2],["L",O,H+$]):R&&R>L&&E>O+M&&E<O+q-M?k.splice(5,1,["L",E+6,H+L],["L",E,H+L+6],["L",E-6,H+L],["L",O+$,H+L]):R&&0>R&&E>O+M&&E<O+q-M&&k.splice(1,1,["L",E-6,H],["L",E,H-6],["L",E+6,H],["L",q-$,H])),k},circle:function(O,H,q,L){return d(O+q/2,H+L/2,q/2,L/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(O,H,q,L){return[["M",O+q/2,H],["L",O+q,H+L/2],["L",O+q/2,H+L],["L",O,H+L/2],["Z"]]},rect:m,roundedRect:n,square:m,triangle:function(O,H,q,L){return[["M",O+q/2,H],["L",O+q,H+L],["L",O,H+L],["Z"]]},"triangle-down":function(O,H,q,L){return[["M",O,H],["L",O+q,H],["L",O+q/2,H+L],["Z"]]}}}),s(a,"Core/Renderer/SVG/TextBuilder.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,d,m){const{doc:n,SVG_NS:S,win:z}=d,{attr:Z,extend:O,fireEvent:H,isString:q,objectEach:L,pick:R}=m;class ${constructor(E){const k=E.styles;this.renderer=E.renderer,this.svgElement=E,this.width=E.textWidth,this.textLineHeight=k&&k.lineHeight,this.textOutline=k&&k.textOutline,this.ellipsis=!(!k||k.textOverflow!=="ellipsis"),this.noWrap=!(!k||k.whiteSpace!=="nowrap")}buildSVG(){const E=this.svgElement,k=E.element;var V=E.renderer,G=R(E.textStr,"").toString();const C=G.indexOf("<")!==-1,te=k.childNodes;V=!E.added&&V.box;const Q=/<br.*?>/g;var N=[G,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,E.getStyle("font-size"),this.width].join();if(N!==E.textCache){for(E.textCache=N,delete E.actualWidth,N=te.length;N--;)k.removeChild(te[N]);C||this.ellipsis||this.width||E.textPath||G.indexOf(" ")!==-1&&(!this.noWrap||Q.test(G))?G!==""&&(V&&V.appendChild(k),G=new c(G),this.modifyTree(G.nodes),G.addToDOM(k),this.modifyDOM(),this.ellipsis&&(k.textContent||"").indexOf("…")!==-1&&E.attr("title",this.unescapeEntities(E.textStr||"",["&lt;","&gt;"])),V&&V.removeChild(k)):k.appendChild(n.createTextNode(this.unescapeEntities(G))),q(this.textOutline)&&E.applyTextOutline&&E.applyTextOutline(this.textOutline)}}modifyDOM(){const E=this.svgElement,k=Z(E.element,"x");E.firstLineMetrics=void 0;let V;for(;(V=E.element.firstChild)&&/^[\s\u200B]*$/.test(V.textContent||" ");)E.element.removeChild(V);[].forEach.call(E.element.querySelectorAll("tspan.highcharts-br"),(Q,N)=>{Q.nextSibling&&Q.previousSibling&&(N===0&&Q.previousSibling.nodeType===1&&(E.firstLineMetrics=E.renderer.fontMetrics(Q.previousSibling)),Z(Q,{dy:this.getLineHeight(Q.nextSibling),x:k}))});const G=this.width||0;if(G){var C=(Q,N)=>{var j=Q.textContent||"";const W=j.replace(/([^\^])-/g,"$1- ").split(" ");var w=!this.noWrap&&(1<W.length||1<E.element.childNodes.length);const D=this.getLineHeight(N);let f=0,g=E.actualWidth;if(this.ellipsis)j&&this.truncate(Q,j,void 0,0,Math.max(0,G-.8*D),(x,P)=>x.substring(0,P)+"…");else if(w){for(j=[],w=[];N.firstChild&&N.firstChild!==Q;)w.push(N.firstChild),N.removeChild(N.firstChild);for(;W.length;)W.length&&!this.noWrap&&0<f&&(j.push(Q.textContent||""),Q.textContent=W.join(" ").replace(/- /g,"-")),this.truncate(Q,void 0,W,f===0&&g||0,G,(x,P)=>W.slice(0,P).join(" ").replace(/- /g,"-")),g=E.actualWidth,f++;w.forEach(x=>{N.insertBefore(x,Q)}),j.forEach(x=>{N.insertBefore(n.createTextNode(x),Q),x=n.createElementNS(S,"tspan"),x.textContent="​",Z(x,{dy:D,x:k}),N.insertBefore(x,Q)})}},te=Q=>{[].slice.call(Q.childNodes).forEach(N=>{N.nodeType===z.Node.TEXT_NODE?C(N,Q):(N.className.baseVal.indexOf("highcharts-br")!==-1&&(E.actualWidth=0),te(N))})};te(E.element)}}getLineHeight(E){return E=E.nodeType===z.Node.TEXT_NODE?E.parentElement:E,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(E||this.svgElement.element).h}modifyTree(E){const k=(V,G)=>{const{attributes:C={},children:te,style:Q={},tagName:N}=V,j=this.renderer.styledMode;N==="b"||N==="strong"?j?C.class="highcharts-strong":Q.fontWeight="bold":(N==="i"||N==="em")&&(j?C.class="highcharts-emphasized":Q.fontStyle="italic"),Q&&Q.color&&(Q.fill=Q.color),N==="br"?(C.class="highcharts-br",V.textContent="​",(G=E[G+1])&&G.textContent&&(G.textContent=G.textContent.replace(/^ +/gm,""))):N==="a"&&te&&te.some(W=>W.tagName==="#text")&&(V.children=[{children:te,tagName:"tspan"}]),N!=="#text"&&N!=="a"&&(V.tagName="tspan"),O(V,{attributes:C,style:Q}),te&&te.filter(W=>W.tagName!=="#text").forEach(k)};E.forEach(k),H(this.svgElement,"afterModifyTree",{nodes:E})}truncate(E,k,V,G,C,te){const Q=this.svgElement,{rotation:N}=Q,j=[];let W=V?1:0,w=(k||V||"").length,D=w,f,g;const x=function(P,Y){if(P=Y||P,(Y=E.parentNode)&&typeof j[P]>"u"&&Y.getSubStringLength)try{j[P]=G+Y.getSubStringLength(0,V?P+1:P)}catch{}return j[P]};if(Q.rotation=0,g=x(E.textContent.length),G+g>C){for(;W<=w;)D=Math.ceil((W+w)/2),V&&(f=te(V,D)),g=x(D,f&&f.length-1),W===w?W=w+1:g>C?w=D-1:W=D;w===0?E.textContent="":k&&w===k.length-1||(E.textContent=f||te(k||V,D))}V&&V.splice(0,D),Q.actualWidth=g,Q.rotation=N}unescapeEntities(E,k){return L(this.renderer.escapes,function(V,G){k&&k.indexOf(V)!==-1||(E=E.toString().replace(new RegExp(V,"g"),G))}),E}}return $}),s(a,"Core/Renderer/SVG/SVGRenderer.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Renderer/RendererRegistry.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGLabel.js"],a["Core/Renderer/SVG/Symbols.js"],a["Core/Renderer/SVG/TextBuilder.js"],a["Core/Utilities.js"]],function(c,d,m,n,S,z,Z,O,H){const{charts:q,deg2rad:L,doc:R,isFirefox:$,isMS:M,isWebKit:E,noop:k,SVG_NS:V,symbolSizes:G,win:C}=m,{addEvent:te,attr:Q,createElement:N,css:j,defined:W,destroyObjectProperties:w,extend:D,isArray:f,isNumber:g,isObject:x,isString:P,merge:Y,pick:ee,pInt:K,uniqueKey:he}=H;let ge;class Ee{constructor(oe,ce,pe,Ce,ne,ye,_e){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(oe,ce,pe,Ce,ne,ye,_e)}init(oe,ce,pe,Ce,ne,ye,_e){const ae=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),me=ae.element;_e||ae.css(this.getStyle(Ce)),oe.appendChild(me),Q(oe,"dir","ltr"),oe.innerHTML.indexOf("xmlns")===-1&&Q(me,"xmlns",this.SVG_NS),this.box=me,this.boxWrapper=ae,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(R.createTextNode("Created with Highcharts 11.0.1")),this.defs=this.createElement("defs").add(),this.allowHTML=ye,this.forExport=ne,this.styledMode=_e,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=ae.getStyle("font-size"),this.setSize(ce,pe,!1);let we;$&&oe.getBoundingClientRect&&(ce=function(){j(oe,{left:0,top:0}),we=oe.getBoundingClientRect(),j(oe,{left:Math.ceil(we.left)-we.left+"px",top:Math.ceil(we.top)-we.top+"px"})},ce(),this.unSubPixelFix=te(C,"resize",ce))}definition(oe){return new c([oe]).addToDOM(this.defs.element)}getReferenceURL(){if(($||E)&&R.getElementsByTagName("base").length){if(!W(ge)){var oe=he();oe=new c([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:oe},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${oe})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(R.body),j(oe,{position:"fixed",top:0,left:0,zIndex:9e5});const ce=R.elementFromPoint(6,6);ge=(ce&&ce.id)==="hitme",R.body.removeChild(oe)}if(ge)return C.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(oe){return this.style=D({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},oe)}setStyle(oe){this.boxWrapper.css(this.getStyle(oe))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const oe=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),w(this.gradients||{}),this.gradients=null,this.defs=oe.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(oe){const ce=new this.Element;return ce.init(this,oe),ce}getRadialAttr(oe,ce){return{cx:oe[0]-oe[2]/2+(ce.cx||0)*oe[2],cy:oe[1]-oe[2]/2+(ce.cy||0)*oe[2],r:(ce.r||0)*oe[2]}}shadowDefinition(oe){const ce=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(oe).map(Ce=>oe[Ce])].join("-").replace(/[^a-z0-9\-]/g,""),pe=Y({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},oe);return this.defs.element.querySelector(`#${ce}`)||this.definition({tagName:"filter",attributes:{id:ce},children:[{tagName:"feDropShadow",attributes:{dx:pe.offsetX,dy:pe.offsetY,"flood-color":pe.color,"flood-opacity":Math.min(5*pe.opacity,1),stdDeviation:pe.width/2}}]}),ce}buildText(oe){new O(oe).buildSVG()}getContrast(oe){return oe=d.parse(oe).rgba.map(ce=>(ce/=255,.03928>=ce?ce/12.92:Math.pow((ce+.055)/1.055,2.4))),oe=.2126*oe[0]+.7152*oe[1]+.0722*oe[2],1.05/(oe+.05)>(oe+.05)/.05?"#FFFFFF":"#000000"}button(oe,ce,pe,Ce,ne={},ye,_e,ae,me,we){const Re=this.label(oe,ce,pe,me,void 0,void 0,we,void 0,"button"),Le=this.styledMode;oe=ne.states||{};let Ge=0;ne=Y(ne),delete ne.states;const rt=Y({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},ne.style);delete ne.style;let Qe=c.filterUserAttributes(ne);Re.attr(Y({padding:8,r:2},Qe));let qe,Te,Oe;return Le||(Qe=Y({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},Qe),ye=Y(Qe,{fill:"#e6e6e6"},c.filterUserAttributes(ye||oe.hover||{})),qe=ye.style,delete ye.style,_e=Y(Qe,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},c.filterUserAttributes(_e||oe.select||{})),Te=_e.style,delete _e.style,ae=Y(Qe,{style:{color:"#cccccc"}},c.filterUserAttributes(ae||oe.disabled||{})),Oe=ae.style,delete ae.style),te(Re.element,M?"mouseover":"mouseenter",function(){Ge!==3&&Re.setState(1)}),te(Re.element,M?"mouseout":"mouseleave",function(){Ge!==3&&Re.setState(Ge)}),Re.setState=function(ze){ze!==1&&(Re.state=Ge=ze),Re.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ze||0]),Le||(Re.attr([Qe,ye,_e,ae][ze||0]),ze=[rt,qe,Te,Oe][ze||0],x(ze)&&Re.css(ze))},Le||(Re.attr(Qe).css(D({cursor:"default"},rt)),we&&Re.text.css({pointerEvents:"none"})),Re.on("touchstart",ze=>ze.stopPropagation()).on("click",function(ze){Ge!==3&&Ce.call(Re,ze)})}crispLine(oe,ce,pe="round"){const Ce=oe[0],ne=oe[1];return W(Ce[1])&&Ce[1]===ne[1]&&(Ce[1]=ne[1]=Math[pe](Ce[1])-ce%2/2),W(Ce[2])&&Ce[2]===ne[2]&&(Ce[2]=ne[2]=Math[pe](Ce[2])+ce%2/2),oe}path(oe){const ce=this.styledMode?{}:{fill:"none"};return f(oe)?ce.d=oe:x(oe)&&D(ce,oe),this.createElement("path").attr(ce)}circle(oe,ce,pe){return oe=x(oe)?oe:typeof oe>"u"?{}:{x:oe,y:ce,r:pe},ce=this.createElement("circle"),ce.xSetter=ce.ySetter=function(Ce,ne,ye){ye.setAttribute("c"+ne,Ce)},ce.attr(oe)}arc(oe,ce,pe,Ce,ne,ye){return x(oe)?(Ce=oe,ce=Ce.y,pe=Ce.r,oe=Ce.x):Ce={innerR:Ce,start:ne,end:ye},oe=this.symbol("arc",oe,ce,pe,pe,Ce),oe.r=pe,oe}rect(oe,ce,pe,Ce,ne,ye){oe=x(oe)?oe:typeof oe>"u"?{}:{x:oe,y:ce,r:ne,width:Math.max(pe||0,0),height:Math.max(Ce||0,0)};const _e=this.createElement("rect");return this.styledMode||(typeof ye<"u"&&(oe["stroke-width"]=ye,D(oe,_e.crisp(oe))),oe.fill="none"),_e.rSetter=function(ae,me,we){_e.r=ae,Q(we,{rx:ae,ry:ae})},_e.rGetter=function(){return _e.r||0},_e.attr(oe)}roundedRect(oe){return this.symbol("roundedRect").attr(oe)}setSize(oe,ce,pe){this.width=oe,this.height=ce,this.boxWrapper.animate({width:oe,height:ce},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:ee(pe,!0)?void 0:0}),this.alignElements()}g(oe){const ce=this.createElement("g");return oe?ce.attr({class:"highcharts-"+oe}):ce}image(oe,ce,pe,Ce,ne,ye){const _e={preserveAspectRatio:"none"},ae=function(we,Re){we.setAttributeNS?we.setAttributeNS("http://www.w3.org/1999/xlink","href",Re):we.setAttribute("hc-svg-href",Re)};g(ce)&&(_e.x=ce),g(pe)&&(_e.y=pe),g(Ce)&&(_e.width=Ce),g(ne)&&(_e.height=ne);const me=this.createElement("image").attr(_e);return ce=function(we){ae(me.element,oe),ye.call(me,we)},ye?(ae(me.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),pe=new C.Image,te(pe,"load",ce),pe.src=oe,pe.complete&&ce({})):ae(me.element,oe),me}symbol(oe,ce,pe,Ce,ne,ye){const _e=this,ae=/^url\((.*?)\)$/,me=ae.test(oe),we=!me&&(this.symbols[oe]?oe:"circle"),Re=we&&this.symbols[we];let Le,Ge,rt,Qe;if(Re)typeof ce=="number"&&(Ge=Re.call(this.symbols,Math.round(ce||0),Math.round(pe||0),Ce||0,ne||0,ye)),Le=this.path(Ge),_e.styledMode||Le.attr("fill","none"),D(Le,{symbolName:we||void 0,x:ce,y:pe,width:Ce,height:ne}),ye&&D(Le,ye);else if(me){rt=oe.match(ae)[1];const qe=Le=this.image(rt);qe.imgwidth=ee(ye&&ye.width,G[rt]&&G[rt].width),qe.imgheight=ee(ye&&ye.height,G[rt]&&G[rt].height),Qe=Te=>Te.attr({width:Te.width,height:Te.height}),["width","height"].forEach(function(Te){qe[Te+"Setter"]=function(Oe,ze){this[ze]=Oe;const{alignByTranslate:Xe,element:Je,width:pt,height:bt,imgwidth:It,imgheight:ui}=this;if(Oe=this["img"+ze],W(Oe)){let Ht=1;ye&&ye.backgroundSize==="within"&&pt&&bt?(Ht=Math.min(pt/It,bt/ui),Q(Je,{width:Math.round(It*Ht),height:Math.round(ui*Ht)})):Je&&Je.setAttribute(ze,Oe),Xe||this.translate(((pt||0)-It*Ht)/2,((bt||0)-ui*Ht)/2)}}}),W(ce)&&qe.attr({x:ce,y:pe}),qe.isImg=!0,W(qe.imgwidth)&&W(qe.imgheight)?Qe(qe):(qe.attr({width:0,height:0}),N("img",{onload:function(){const Te=q[_e.chartIndex];this.width===0&&(j(this,{position:"absolute",top:"-999em"}),R.body.appendChild(this)),G[rt]={width:this.width,height:this.height},qe.imgwidth=this.width,qe.imgheight=this.height,qe.element&&Qe(qe),this.parentNode&&this.parentNode.removeChild(this),_e.imgCount--,!_e.imgCount&&Te&&!Te.hasLoaded&&Te.onload()},src:rt}),this.imgCount++)}return Le}clipRect(oe,ce,pe,Ce){const ne=he()+"-",ye=this.createElement("clipPath").attr({id:ne}).add(this.defs);return oe=this.rect(oe,ce,pe,Ce,0).add(ye),oe.id=ne,oe.clipPath=ye,oe.count=0,oe}text(oe,ce,pe,Ce){const ne={};return Ce&&(this.allowHTML||!this.forExport)?this.html(oe,ce,pe):(ne.x=Math.round(ce||0),pe&&(ne.y=Math.round(pe)),W(oe)&&(ne.text=oe),oe=this.createElement("text").attr(ne),(!Ce||this.forExport&&!this.allowHTML)&&(oe.xSetter=function(ye,_e,ae){const me=ae.getElementsByTagName("tspan"),we=ae.getAttribute(_e);for(let Re=0,Le;Re<me.length;Re++)Le=me[Re],Le.getAttribute(_e)===we&&Le.setAttribute(_e,ye);ae.setAttribute(_e,ye)}),oe)}fontMetrics(oe){oe=K(S.prototype.getStyle.call(oe,"font-size")||0);const ce=24>oe?oe+3:Math.round(1.2*oe);return{h:ce,b:Math.round(.8*ce),f:oe}}rotCorr(oe,ce,pe){let Ce=oe;return ce&&pe&&(Ce=Math.max(Ce*Math.cos(ce*L),4)),{x:-oe/3*Math.sin(ce*L),y:Ce}}pathToSegments(oe){const ce=[],pe=[],Ce={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let ne=0;ne<oe.length;ne++)P(pe[0])&&g(oe[ne])&&pe.length===Ce[pe[0].toUpperCase()]&&oe.splice(ne,0,pe[0].replace("M","L").replace("m","l")),typeof oe[ne]=="string"&&(pe.length&&ce.push(pe.slice(0)),pe.length=0),pe.push(oe[ne]);return ce.push(pe.slice(0)),ce}label(oe,ce,pe,Ce,ne,ye,_e,ae,me){return new z(this,oe,ce,pe,Ce,ne,ye,_e,ae,me)}alignElements(){this.alignedObjects.forEach(oe=>oe.align())}}return D(Ee.prototype,{Element:S,SVG_NS:V,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Z,draw:k}),n.registerRendererType("svg",Ee,!0),Ee}),s(a,"Core/Renderer/HTML/HTMLElement.js",[a["Core/Globals.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(c,d,m){const{isFirefox:n,isMS:S,isWebKit:z,win:Z}=c,{css:O,defined:H,extend:q,pick:L,pInt:R}=m,$=[];class M extends d{static compose(k){if(m.pushUnique($,k)){const V=M.prototype,G=k.prototype;G.getSpanCorrection=V.getSpanCorrection,G.htmlCss=V.htmlCss,G.htmlGetBBox=V.htmlGetBBox,G.htmlUpdateTransform=V.htmlUpdateTransform,G.setSpanRotation=V.setSpanRotation}return k}getSpanCorrection(k,V,G){this.xCorr=-k*G,this.yCorr=-V}htmlCss(k){const V=this.element.tagName==="SPAN"&&k&&"width"in k,G=L(V&&k.width,void 0);let C;return V&&(delete k.width,this.textWidth=G,C=!0),k&&k.textOverflow==="ellipsis"&&(k.whiteSpace="nowrap",k.overflow="hidden"),this.styles=q(this.styles,k),O(this.element,k),C&&this.htmlUpdateTransform(),this}htmlGetBBox(){const k=this.element;return{x:k.offsetLeft,y:k.offsetTop,width:k.offsetWidth,height:k.offsetHeight}}htmlUpdateTransform(){if(this.added){var k=this.renderer,V=this.element,G=this.x||0,C=this.y||0,te=this.textAlign||"left",Q={left:0,center:.5,right:1}[te],N=this.styles,j=N&&N.whiteSpace;if(O(V,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),V.tagName==="SPAN"){N=this.rotation;const w=this.textWidth&&R(this.textWidth),D=[N,te,V.innerHTML,this.textWidth,this.textAlign].join();let f=!1;if(w!==this.oldTextWidth){if(this.textPxLength)var W=this.textPxLength;else O(V,{width:"",whiteSpace:j||"nowrap"}),W=V.offsetWidth;(w>this.oldTextWidth||W>w)&&(/[ \-]/.test(V.textContent||V.innerText)||V.style.textOverflow==="ellipsis")&&(O(V,{width:W>w||N?w+"px":"auto",display:"block",whiteSpace:j||"normal"}),this.oldTextWidth=w,f=!0)}this.hasBoxWidthChanged=f,D!==this.cTT&&(k=k.fontMetrics(V).b,!H(N)||N===(this.oldRotation||0)&&te===this.oldAlign||this.setSpanRotation(N,Q,k),this.getSpanCorrection(!H(N)&&this.textPxLength||V.offsetWidth,k,Q,N,te)),O(V,{left:G+(this.xCorr||0)+"px",top:C+(this.yCorr||0)+"px"}),this.cTT=D,this.oldRotation=N,this.oldAlign=te}}else this.alignOnAdd=!0}setSpanRotation(k,V,G){const C={},te=S&&!/Edge/.test(Z.navigator.userAgent)?"-ms-transform":z?"-webkit-transform":n?"MozTransform":Z.opera?"-o-transform":void 0;te&&(C[te]=C.transform="rotate("+k+"deg)",C[te+(n?"Origin":"-origin")]=C.transformOrigin=100*V+"% "+G+"px",O(this.element,C))}}return M}),s(a,"Core/Renderer/HTML/HTMLRenderer.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(c,d,m,n){const{attr:S,createElement:z,extend:Z,pick:O}=n,H=[];class q extends m{static compose(R){return n.pushUnique(H,R)&&(R.prototype.html=q.prototype.html),R}html(R,$,M){const E=this.createElement("span"),k=E.element,V=E.renderer,G=function(C,te){["opacity","visibility"].forEach(function(Q){C[Q+"Setter"]=function(N,j,W){const w=C.div?C.div.style:te;d.prototype[Q+"Setter"].call(this,N,j,W),w&&(w[j]=N)}}),C.addedSetters=!0};return E.textSetter=function(C){C!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,c.setElementHTML(this.element,O(C,"")),this.textStr=C,E.doTransform=!0)},G(E,E.element.style),E.xSetter=E.ySetter=E.alignSetter=E.rotationSetter=function(C,te){te==="align"?E.alignValue=E.textAlign=C:E[te]=C,E.doTransform=!0},E.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},E.attr({text:R,x:Math.round($),y:Math.round(M)}).css({position:"absolute"}),V.styledMode||E.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),k.style.whiteSpace="nowrap",E.css=E.htmlCss,E.add=function(C){const te=V.box.parentNode,Q=[];let N;if(this.parentGroup=C){if(N=C.div,!N){for(;C;)Q.push(C),C=C.parentGroup;Q.reverse().forEach(function(j){function W(g,x){j[x]=g,x==="translateX"?f.left=g+"px":f.top=g+"px",j.doTransform=!0}const w=S(j.element,"class"),D=j.styles||{};N=j.div=j.div||z("div",w?{className:w}:void 0,{position:"absolute",left:(j.translateX||0)+"px",top:(j.translateY||0)+"px",display:j.display,opacity:j.opacity,visibility:j.visibility},N||te);const f=N.style;Z(j,{classSetter:function(g){return function(x){this.element.setAttribute("class",x),g.className=x}}(N),css:function(g){return E.css.call(j,g),["cursor","pointerEvents"].forEach(x=>{g[x]&&(f[x]=g[x])}),j},on:function(){return Q[0].div&&E.on.apply({element:Q[0].div,onEvents:j.onEvents},arguments),j},translateXSetter:W,translateYSetter:W}),j.addedSetters||G(j),j.css(D)})}}else N=te;return N.appendChild(k),E.added=!0,E.alignOnAdd&&E.htmlUpdateTransform(),E},E}}return q}),s(a,"Core/Axis/AxisDefaults.js",[],function(){var c;return function(d){d.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},d.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:m}=this.axis.chart;return m(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},d.defaultLeftAxisOptions={title:{rotation:270}},d.defaultRightAxisOptions={title:{rotation:90}},d.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},d.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(c||(c={})),c}),s(a,"Core/Foundation.js",[a["Core/Utilities.js"]],function(c){const{addEvent:d,isFunction:m,objectEach:n,removeEvent:S}=c;var z;return function(Z){Z.registerEventOptions=function(O,H){O.eventOptions=O.eventOptions||{},n(H.events,function(q,L){O.eventOptions[L]!==q&&(O.eventOptions[L]&&(S(O,L,O.eventOptions[L]),delete O.eventOptions[L]),m(q)&&(O.eventOptions[L]=q,d(O,L,q,{order:0})))})}}(z||(z={})),z}),s(a,"Core/Axis/Tick.js",[a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,d,m){const{deg2rad:n}=d,{clamp:S,correctFloat:z,defined:Z,destroyObjectProperties:O,extend:H,fireEvent:q,isNumber:L,merge:R,objectEach:$,pick:M}=m;class E{constructor(V,G,C,te,Q){this.isNewLabel=this.isNew=!0,this.axis=V,this.pos=G,this.type=C||"",this.parameters=Q||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,q(this,"init"),C||te||this.addLabel()}addLabel(){const V=this,G=V.axis;var C=G.options;const te=G.chart;var Q=G.categories;const N=G.logarithmic,j=G.names,W=V.pos,w=M(V.options&&V.options.labels,C.labels);var D=G.tickPositions;const f=W===D[0],g=W===D[D.length-1],x=(!w.step||w.step===1)&&G.tickInterval===1;D=D.info;let P=V.label,Y,ee,K;Q=this.parameters.category||(Q?M(Q[W],j[W],W):W),N&&L(Q)&&(Q=z(N.lin2log(Q))),G.dateTime&&(D?(ee=te.time.resolveDTLFormat(C.dateTimeLabelFormats[!C.grid&&D.higherRanks[W]||D.unitName]),Y=ee.main):L(Q)&&(Y=G.dateTime.getXDateFormat(Q,C.dateTimeLabelFormats||{}))),V.isFirst=f,V.isLast=g;const he={axis:G,chart:te,dateTimeLabelFormat:Y,isFirst:f,isLast:g,pos:W,tick:V,tickPositionInfo:D,value:Q};q(this,"labelFormat",he);const ge=J=>w.formatter?w.formatter.call(J,J):w.format?(J.text=G.defaultLabelFormatter.call(J,J),c.format(w.format,J,te)):G.defaultLabelFormatter.call(J,J);C=ge.call(he,he);const Ee=ee&&ee.list;V.shortenLabel=Ee?function(){for(K=0;K<Ee.length;K++)if(H(he,{dateTimeLabelFormat:Ee[K]}),P.attr({text:ge.call(he,he)}),P.getBBox().width<G.getSlotWidth(V)-2*w.padding)return;P.attr({text:""})}:void 0,x&&G._addedPlotLB&&V.moveLabel(C,w),Z(P)||V.movedLabel?P&&P.textStr!==C&&!x&&(!P.textWidth||w.style.width||P.styles.width||P.css({width:null}),P.attr({text:C}),P.textPxLength=P.getBBox().width):(V.label=P=V.createLabel({x:0,y:0},C,w),V.rotation=0)}createLabel(V,G,C){const te=this.axis,Q=te.chart;return(V=Z(G)&&C.enabled?Q.renderer.text(G,V.x,V.y,C.useHTML).add(te.labelGroup):null)&&(Q.styledMode||V.css(R(C.style)),V.textPxLength=V.getBBox().width),V}destroy(){O(this,this.axis)}getPosition(V,G,C,te){const Q=this.axis,N=Q.chart,j=te&&N.oldChartHeight||N.chartHeight;return V={x:V?z(Q.translate(G+C,void 0,void 0,te)+Q.transB):Q.left+Q.offset+(Q.opposite?(te&&N.oldChartWidth||N.chartWidth)-Q.right-Q.left:0),y:V?j-Q.bottom+Q.offset-(Q.opposite?Q.height:0):z(j-Q.translate(G+C,void 0,void 0,te)-Q.transB)},V.y=S(V.y,-1e5,1e5),q(this,"afterGetPosition",{pos:V}),V}getLabelPosition(V,G,C,te,Q,N,j,W){const w=this.axis,D=w.transA,f=w.isLinked&&w.linkedParent?w.linkedParent.reversed:w.reversed,g=w.staggerLines,x=w.tickRotCorr||{x:0,y:0},P=te||w.reserveSpaceDefault?0:-w.labelOffset*(w.labelAlign==="center"?.5:1),Y=Q.distance,ee={};return C=w.side===0?C.rotation?-Y:-C.getBBox().height:w.side===2?x.y+Y:Math.cos(C.rotation*n)*(x.y-C.getBBox(!1,0).height/2),Z(Q.y)&&(C=w.side===0&&w.horiz?Q.y+C:Q.y),V=V+M(Q.x,[0,1,0,-1][w.side]*Y)+P+x.x-(N&&te?N*D*(f?-1:1):0),G=G+C-(N&&!te?N*D*(f?1:-1):0),g&&(te=j/(W||1)%g,w.opposite&&(te=g-te-1),G+=w.labelOffset/g*te),ee.x=V,ee.y=Math.round(G),q(this,"afterGetLabelPosition",{pos:ee,tickmarkOffset:N,index:j}),ee}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(V,G,C,te,Q,N){return N.crispLine([["M",V,G],["L",V+(Q?0:-C),G+(Q?C:0)]],te)}handleOverflow(V){const G=this.axis,C=G.options.labels,te=V.x;var Q=G.chart.chartWidth,N=G.chart.spacing;const j=M(G.labelLeft,Math.min(G.pos,N[3]));N=M(G.labelRight,Math.max(G.isRadial?0:G.pos+G.len,Q-N[1]));const W=this.label,w=this.rotation,D={left:0,center:.5,right:1}[G.labelAlign||W.attr("align")],f=W.getBBox().width,g=G.getSlotWidth(this),x={};let P=g,Y=1,ee;w||C.overflow!=="justify"?0>w&&te-D*f<j?ee=Math.round(te/Math.cos(w*n)-j):0<w&&te+D*f>N&&(ee=Math.round((Q-te)/Math.cos(w*n))):(Q=te+(1-D)*f,te-D*f<j?P=V.x+P*(1-D)-j:Q>N&&(P=N-V.x+P*D,Y=-1),P=Math.min(g,P),P<g&&G.labelAlign==="center"&&(V.x+=Y*(g-P-D*(g-Math.min(f,P)))),(f>P||G.autoRotation&&(W.styles||{}).width)&&(ee=P)),ee&&(this.shortenLabel?this.shortenLabel():(x.width=Math.floor(ee)+"px",(C.style||{}).textOverflow||(x.textOverflow="ellipsis"),W.css(x)))}moveLabel(V,G){const C=this;var te=C.label;const Q=C.axis;let N=!1;te&&te.textStr===V?(C.movedLabel=te,N=!0,delete C.label):$(Q.ticks,function(j){N||j.isNew||j===C||!j.label||j.label.textStr!==V||(C.movedLabel=j.label,N=!0,j.labelPos=C.movedLabel.xy,delete j.label)}),N||!C.labelPos&&!te||(te=C.labelPos||te.xy,C.movedLabel=C.createLabel(te,V,G),C.movedLabel&&C.movedLabel.attr({opacity:0}))}render(V,G,C){var te=this.axis,Q=te.horiz,N=this.pos,j=M(this.tickmarkOffset,te.tickmarkOffset);N=this.getPosition(Q,N,j,G),j=N.x;const W=N.y;te=Q&&j===te.pos+te.len||!Q&&W===te.pos?-1:1,Q=M(C,this.label&&this.label.newOpacity,1),C=M(C,1),this.isActive=!0,this.renderGridLine(G,C,te),this.renderMark(N,C,te),this.renderLabel(N,G,Q,V),this.isNew=!1,q(this,"afterRender")}renderGridLine(V,G,C){const te=this.axis,Q=te.options,N={},j=this.pos,W=this.type,w=M(this.tickmarkOffset,te.tickmarkOffset),D=te.chart.renderer;let f=this.gridLine,g=Q.gridLineWidth,x=Q.gridLineColor,P=Q.gridLineDashStyle;this.type==="minor"&&(g=Q.minorGridLineWidth,x=Q.minorGridLineColor,P=Q.minorGridLineDashStyle),f||(te.chart.styledMode||(N.stroke=x,N["stroke-width"]=g||0,N.dashstyle=P),W||(N.zIndex=1),V&&(G=0),this.gridLine=f=D.path().attr(N).addClass("highcharts-"+(W?W+"-":"")+"grid-line").add(te.gridGroup)),f&&(C=te.getPlotLinePath({value:j+w,lineWidth:f.strokeWidth()*C,force:"pass",old:V,acrossPanes:!1}))&&f[V||this.isNew?"attr":"animate"]({d:C,opacity:G})}renderMark(V,G,C){const te=this.axis;var Q=te.options;const N=te.chart.renderer,j=this.type,W=te.tickSize(j?j+"Tick":"tick"),w=V.x;V=V.y;const D=M(Q[j!=="minor"?"tickWidth":"minorTickWidth"],!j&&te.isXAxis?1:0);Q=Q[j!=="minor"?"tickColor":"minorTickColor"];let f=this.mark;const g=!f;W&&(te.opposite&&(W[0]=-W[0]),f||(this.mark=f=N.path().addClass("highcharts-"+(j?j+"-":"")+"tick").add(te.axisGroup),te.chart.styledMode||f.attr({stroke:Q,"stroke-width":D})),f[g?"attr":"animate"]({d:this.getMarkPath(w,V,W[0],f.strokeWidth()*C,te.horiz,N),opacity:G}))}renderLabel(V,G,C,te){var Q=this.axis;const N=Q.horiz,j=Q.options,W=this.label,w=j.labels,D=w.step;Q=M(this.tickmarkOffset,Q.tickmarkOffset);const f=V.x;V=V.y;let g=!0;W&&L(f)&&(W.xy=V=this.getLabelPosition(f,V,W,N,w,Q,te,D),this.isFirst&&!this.isLast&&!j.showFirstLabel||this.isLast&&!this.isFirst&&!j.showLastLabel?g=!1:!N||w.step||w.rotation||G||C===0||this.handleOverflow(V),D&&te%D&&(g=!1),g&&L(V.y)?(V.opacity=C,W[this.isNewLabel?"attr":"animate"](V).show(!0),this.isNewLabel=!1):(W.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const V=this.label,G=this.axis;V&&!this.isNew&&(V.animate({opacity:0},void 0,V.destroy),delete this.label),G.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}return E}),s(a,"Core/Axis/Axis.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Axis/AxisDefaults.js"],a["Core/Color/Color.js"],a["Core/Defaults.js"],a["Core/Foundation.js"],a["Core/Globals.js"],a["Core/Axis/Tick.js"],a["Core/Utilities.js"]],function(c,d,m,n,S,z,Z,O){const{animObject:H}=c,{defaultOptions:q}=n,{registerEventOptions:L}=S,{deg2rad:R}=z,{arrayMax:$,arrayMin:M,clamp:E,correctFloat:k,defined:V,destroyObjectProperties:G,erase:C,error:te,extend:Q,fireEvent:N,isArray:j,isNumber:W,isString:w,merge:D,normalizeTickInterval:f,objectEach:g,pick:x,relativeLength:P,removeEvent:Y,splat:ee,syncTimeout:K}=O,he=(Ee,J)=>f(J,void 0,void 0,x(Ee.options.allowDecimals,.5>J||Ee.tickAmount!==void 0),!!Ee.tickAmount);class ge{constructor(J,oe){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(J,oe)}init(J,oe){const ce=oe.isX;this.chart=J,this.horiz=J.inverted&&!this.isZAxis?!ce:ce,this.isXAxis=ce,this.coll=this.coll||(ce?"xAxis":"yAxis"),N(this,"init",{userOptions:oe}),this.opposite=x(oe.opposite,this.opposite),this.side=x(oe.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(oe);const pe=this.options,Ce=pe.labels,ne=pe.type;this.userOptions=oe,this.minPixelPadding=0,this.reversed=x(pe.reversed,this.reversed),this.visible=pe.visible,this.zoomEnabled=pe.zoomEnabled,this.hasNames=ne==="category"||pe.categories===!0,this.categories=pe.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=V(pe.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=pe.minRange||pe.maxZoom,this.range=pe.range,this.offset=pe.offset||0,this.min=this.max=null,oe=x(pe.crosshair,ee(J.options.tooltip.crosshairs)[ce?0:1]),this.crosshair=oe===!0?{}:oe,J.axes.indexOf(this)===-1&&(ce?J.axes.splice(J.xAxis.length,0,this):J.axes.push(this),J[this.coll].push(this)),this.series=this.series||[],J.inverted&&!this.isZAxis&&ce&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=W(Ce.rotation)?Ce.rotation:void 0,L(this,pe),N(this,"afterInit")}setOptions(J){this.options=D(d.defaultXAxisOptions,this.coll==="yAxis"&&d.defaultYAxisOptions,[d.defaultTopAxisOptions,d.defaultRightAxisOptions,d.defaultBottomAxisOptions,d.defaultLeftAxisOptions][this.side],D(q[this.coll],J)),N(this,"afterSetOptions",{userOptions:J})}defaultLabelFormatter(J){var oe=this.axis;({numberFormatter:J}=this.chart);const ce=W(this.value)?this.value:NaN,pe=oe.chart.time,Ce=this.dateTimeLabelFormat;var ne=q.lang;const ye=ne.numericSymbols;ne=ne.numericSymbolMagnitude||1e3;const _e=oe.logarithmic?Math.abs(ce):oe.tickInterval;let ae=ye&&ye.length,me;if(oe.categories)me=`${this.value}`;else if(Ce)me=pe.dateFormat(Ce,ce);else if(ae&&1e3<=_e)for(;ae--&&typeof me>"u";)oe=Math.pow(ne,ae+1),_e>=oe&&10*ce%oe===0&&ye[ae]!==null&&ce!==0&&(me=J(ce/oe,-1)+ye[ae]);return typeof me>"u"&&(me=1e4<=Math.abs(ce)?J(ce,-1):J(ce,-1,void 0,"")),me}getSeriesExtremes(){const J=this,oe=J.chart;let ce;N(this,"getSeriesExtremes",null,function(){J.hasVisibleSeries=!1,J.dataMin=J.dataMax=J.threshold=null,J.softThreshold=!J.isXAxis,J.series.forEach(function(pe){if(pe.visible||!oe.options.chart.ignoreHiddenSeries){var Ce=pe.options;let ne=Ce.threshold,ye,_e;J.hasVisibleSeries=!0,J.positiveValuesOnly&&0>=ne&&(ne=null),J.isXAxis?(Ce=pe.xData)&&Ce.length&&(Ce=J.logarithmic?Ce.filter(ae=>0<ae):Ce,ce=pe.getXExtremes(Ce),ye=ce.min,_e=ce.max,W(ye)||ye instanceof Date||(Ce=Ce.filter(W),ce=pe.getXExtremes(Ce),ye=ce.min,_e=ce.max),Ce.length&&(J.dataMin=Math.min(x(J.dataMin,ye),ye),J.dataMax=Math.max(x(J.dataMax,_e),_e))):(pe=pe.applyExtremes(),W(pe.dataMin)&&(ye=pe.dataMin,J.dataMin=Math.min(x(J.dataMin,ye),ye)),W(pe.dataMax)&&(_e=pe.dataMax,J.dataMax=Math.max(x(J.dataMax,_e),_e)),V(ne)&&(J.threshold=ne),(!Ce.softThreshold||J.positiveValuesOnly)&&(J.softThreshold=!1))}})}),N(this,"afterGetSeriesExtremes")}translate(J,oe,ce,pe,Ce,ne){const ye=this.linkedParent||this,_e=pe&&ye.old?ye.old.min:ye.min;if(!W(_e))return NaN;const ae=ye.minPixelPadding;Ce=(ye.isOrdinal||ye.brokenAxis&&ye.brokenAxis.hasBreaks||ye.logarithmic&&Ce)&&ye.lin2val;let me=1,we=0;return pe=pe&&ye.old?ye.old.transA:ye.transA,pe||(pe=ye.transA),ce&&(me*=-1,we=ye.len),ye.reversed&&(me*=-1,we-=me*(ye.sector||ye.len)),oe?(ne=(J*me+we-ae)/pe+_e,Ce&&(ne=ye.lin2val(ne))):(Ce&&(J=ye.val2lin(J)),J=me*(J-_e)*pe,ne=(ye.isRadial?J:k(J))+we+me*ae+(W(ne)?pe*ne:0)),ne}toPixels(J,oe){return this.translate(J,!1,!this.horiz,void 0,!0)+(oe?0:this.pos)}toValue(J,oe){return this.translate(J-(oe?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(J){function oe(ze,Xe,Je){return Ge!=="pass"&&(ze<Xe||ze>Je)&&(Ge?ze=E(ze,Xe,Je):Oe=!0),ze}const ce=this,pe=ce.chart,Ce=ce.left,ne=ce.top,ye=J.old,_e=J.value,ae=J.lineWidth,me=ye&&pe.oldChartHeight||pe.chartHeight,we=ye&&pe.oldChartWidth||pe.chartWidth,Re=ce.transB;let Le=J.translatedValue,Ge=J.force,rt,Qe,qe,Te,Oe;return J={value:_e,lineWidth:ae,old:ye,force:Ge,acrossPanes:J.acrossPanes,translatedValue:Le},N(this,"getPlotLinePath",J,function(ze){Le=x(Le,ce.translate(_e,void 0,void 0,ye)),Le=E(Le,-1e5,1e5),rt=qe=Math.round(Le+Re),Qe=Te=Math.round(me-Le-Re),W(Le)?ce.horiz?(Qe=ne,Te=me-ce.bottom,rt=qe=oe(rt,Ce,Ce+ce.width)):(rt=Ce,qe=we-ce.right,Qe=Te=oe(Qe,ne,ne+ce.height)):(Oe=!0,Ge=!1),ze.path=Oe&&!Ge?null:pe.renderer.crispLine([["M",rt,Qe],["L",qe,Te]],ae||1)}),J.path}getLinearTickPositions(J,oe,ce){const pe=k(Math.floor(oe/J)*J);ce=k(Math.ceil(ce/J)*J);const Ce=[];let ne,ye;if(k(pe+J)===pe&&(ye=20),this.single)return[oe];for(oe=pe;oe<=ce&&(Ce.push(oe),oe=k(oe+J,ye),oe!==ne);)ne=oe;return Ce}getMinorTickInterval(){const J=this.options;return J.minorTicks===!0?x(J.minorTickInterval,"auto"):J.minorTicks===!1?null:J.minorTickInterval}getMinorTickPositions(){var J=this.options;const oe=this.tickPositions,ce=this.minorTickInterval;var pe=this.pointRangePadding||0;const Ce=this.min-pe;pe=this.max+pe;const ne=pe-Ce;let ye=[];if(ne&&ne/ce<this.len/3){const _e=this.logarithmic;if(_e)this.paddedTicks.forEach(function(ae,me,we){me&&ye.push.apply(ye,_e.getLogTickPositions(ce,we[me-1],we[me],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")ye=ye.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(ce),Ce,pe,J.startOfWeek));else for(J=Ce+(oe[0]-Ce)%ce;J<=pe&&J!==ye[0];J+=ce)ye.push(J)}return ye.length!==0&&this.trimTicks(ye),ye}adjustForMinRange(){const J=this.options,oe=this.logarithmic;let ce=this.min;var pe=this.max;let Ce,ne=0,ye,_e,ae,me,we;if(this.isXAxis&&typeof this.minRange>"u"&&!oe&&(V(J.min)||V(J.max)||V(J.floor)||V(J.ceiling)?this.minRange=null:(this.series.forEach(function(Le){if(ae=Le.xData,me=Le.xIncrement?1:ae.length-1,1<ae.length)for(ye=me;0<ye;ye--)_e=ae[ye]-ae[ye-1],(!ne||_e<ne)&&(ne=_e)}),this.minRange=Math.min(5*ne,this.dataMax-this.dataMin))),pe-ce<this.minRange){Ce=this.dataMax-this.dataMin>=this.minRange,we=this.minRange;var Re=(we-pe+ce)/2;Re=[ce-Re,x(J.min,ce-Re)],Ce&&(Re[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),ce=$(Re),pe=[ce+we,x(J.max,ce+we)],Ce&&(pe[2]=oe?oe.log2lin(this.dataMax):this.dataMax),pe=M(pe),pe-ce<we&&(Re[0]=pe-we,Re[1]=x(J.min,pe-we),ce=$(Re))}this.min=ce,this.max=pe}getClosest(){let J;return this.categories?J=1:this.series.forEach(function(oe){const ce=oe.closestPointRange,pe=oe.visible||!oe.chart.options.chart.ignoreHiddenSeries;!oe.noSharedTooltip&&V(ce)&&pe&&(J=V(J)?Math.min(J,ce):ce)}),J}nameToX(J){const oe=j(this.options.categories),ce=oe?this.categories:this.names;let pe=J.options.x,Ce;return J.series.requireSorting=!1,V(pe)||(pe=this.options.uniqueNames&&ce?oe?ce.indexOf(J.name):x(ce.keys[J.name],-1):J.series.autoIncrement()),pe===-1?!oe&&ce&&(Ce=ce.length):Ce=pe,typeof Ce<"u"?(this.names[Ce]=J.name,this.names.keys[J.name]=Ce):J.x&&(Ce=J.x),Ce}updateNames(){const J=this,oe=this.names;0<oe.length&&(Object.keys(oe.keys).forEach(function(ce){delete oe.keys[ce]}),oe.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(ce){ce.xIncrement=null,(!ce.points||ce.isDirtyData)&&(J.max=Math.max(J.max,ce.xData.length-1),ce.processData(),ce.generatePoints()),ce.data.forEach(function(pe,Ce){let ne;pe&&pe.options&&typeof pe.name<"u"&&(ne=J.nameToX(pe),typeof ne<"u"&&ne!==pe.x&&(pe.x=ne,ce.xData[Ce]=ne))})}))}setAxisTranslation(){const J=this,oe=J.max-J.min;var ce=J.linkedParent;const pe=!!J.categories,Ce=J.isXAxis;let ne=J.axisPointRange||0,ye,_e=0,ae=0,me=J.transA;(Ce||pe||ne)&&(ye=J.getClosest(),ce?(_e=ce.minPointOffset,ae=ce.pointRangePadding):J.series.forEach(function(we){const Re=pe?1:Ce?x(we.options.pointRange,ye,0):J.axisPointRange||0,Le=we.options.pointPlacement;ne=Math.max(ne,Re),(!J.single||pe)&&(we=we.is("xrange")?!Ce:Ce,_e=Math.max(_e,we&&w(Le)?0:Re/2),ae=Math.max(ae,we&&Le==="on"?0:Re))}),ce=J.ordinal&&J.ordinal.slope&&ye?J.ordinal.slope/ye:1,J.minPointOffset=_e*=ce,J.pointRangePadding=ae*=ce,J.pointRange=Math.min(ne,J.single&&pe?1:oe),Ce&&(J.closestPointRange=ye)),J.translationSlope=J.transA=me=J.staticScale||J.len/(oe+ae||1),J.transB=J.horiz?J.left:J.bottom,J.minPixelPadding=me*_e,N(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(J){var oe=this.chart;const ce=this.logarithmic,pe=this.options,Ce=this.isXAxis,ne=this.isLinked,ye=pe.tickPixelInterval,_e=this.categories,ae=this.softThreshold;let me=pe.maxPadding,we=pe.minPadding,Re=W(pe.tickInterval)&&0<=pe.tickInterval?pe.tickInterval:void 0,Le=W(this.threshold)?this.threshold:null,Ge,rt,Qe;if(this.dateTime||_e||ne||this.getTickAmount(),rt=x(this.userMin,pe.min),Qe=x(this.userMax,pe.max),ne){this.linkedParent=oe[this.coll][pe.linkedTo];var qe=this.linkedParent.getExtremes();this.min=x(qe.min,qe.dataMin),this.max=x(qe.max,qe.dataMax),pe.type!==this.linkedParent.options.type&&te(11,1,oe)}else ae&&V(Le)&&(this.dataMin>=Le?(qe=Le,we=0):this.dataMax<=Le&&(Ge=Le,me=0)),this.min=x(rt,qe,this.dataMin),this.max=x(Qe,Ge,this.dataMax);if(ce&&(this.positiveValuesOnly&&!J&&0>=Math.min(this.min,x(this.dataMin,this.min))&&te(10,1,oe),this.min=k(ce.log2lin(this.min),16),this.max=k(ce.log2lin(this.max),16)),this.range&&V(this.max)&&(this.userMin=this.min=rt=Math.max(this.dataMin,this.minFromRange()),this.userMax=Qe=this.max,this.range=null),N(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(_e||this.axisPointRange||this.stacking&&this.stacking.usePercentage||ne)&&V(this.min)&&V(this.max)&&(oe=this.max-this.min)&&(!V(rt)&&we&&(this.min-=oe*we),!V(Qe)&&me&&(this.max+=oe*me)),W(this.userMin)||(W(pe.softMin)&&pe.softMin<this.min&&(this.min=rt=pe.softMin),W(pe.floor)&&(this.min=Math.max(this.min,pe.floor))),W(this.userMax)||(W(pe.softMax)&&pe.softMax>this.max&&(this.max=Qe=pe.softMax),W(pe.ceiling)&&(this.max=Math.min(this.max,pe.ceiling))),ae&&V(this.dataMin)&&(Le=Le||0,!V(rt)&&this.min<Le&&this.dataMin>=Le?this.min=this.options.minRange?Math.min(Le,this.max-this.minRange):Le:!V(Qe)&&this.max>Le&&this.dataMax<=Le&&(this.max=this.options.minRange?Math.max(Le,this.min+this.minRange):Le)),W(this.min)&&W(this.max)&&!this.chart.polar&&this.min>this.max&&(V(this.options.min)?this.max=this.min:V(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:ne&&this.linkedParent&&!Re&&ye===this.linkedParent.options.tickPixelInterval?Re=this.linkedParent.tickInterval:x(Re,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,_e?1:(this.max-this.min)*ye/Math.max(this.len,ye)),Ce&&!J){const Te=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(Oe){Oe.forceCrop=Oe.forceCropping&&Oe.forceCropping(),Oe.processData(Te)}),N(this,"postProcessData",{hasExtremesChanged:Te})}this.setAxisTranslation(),N(this,"initialAxisTranslation"),this.pointRange&&!Re&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),J=x(pe.minTickInterval,this.dateTime&&!this.series.some(Te=>Te.noSharedTooltip)?this.closestPointRange:0),!Re&&this.tickInterval<J&&(this.tickInterval=J),this.dateTime||this.logarithmic||Re||(this.tickInterval=he(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var J=this.options;const oe=J.tickPositions,ce=J.tickPositioner;var pe=this.getMinorTickInterval(),Ce=this.hasVerticalPanning(),ne=this.coll==="colorAxis";const ye=(ne||!Ce)&&J.startOnTick;Ce=(ne||!Ce)&&J.endOnTick,ne=[];let _e;if(this.tickmarkOffset=this.categories&&J.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=pe==="auto"&&this.tickInterval?this.tickInterval/J.minorTicksPerMajor:pe,this.single=this.min===this.max&&V(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||J.allowDecimals!==!1),oe)ne=oe.slice();else if(W(this.min)&&W(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)ne=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,J.units),this.min,this.max,J.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)ne=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(pe=J=this.tickInterval;pe<=2*J&&(ne=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&ne.length>this.tickAmount);)this.tickInterval=he(this,pe*=1.1);else ne=[this.min,this.max],te(19,!1,this.chart);ne.length>this.len&&(ne=[ne[0],ne[ne.length-1]],ne[0]===ne[1]&&(ne.length=1)),ce&&(this.tickPositions=ne,(_e=ce.apply(this,[this.min,this.max]))&&(ne=_e))}this.tickPositions=ne,this.paddedTicks=ne.slice(0),this.trimTicks(ne,ye,Ce),!this.isLinked&&W(this.min)&&W(this.max)&&(this.single&&2>ne.length&&!this.categories&&!this.series.some(ae=>ae.is("heatmap")&&ae.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),oe||_e||this.adjustTickAmount()),N(this,"afterSetTickPositions")}trimTicks(J,oe,ce){const pe=J[0],Ce=J[J.length-1],ne=!this.isOrdinal&&this.minPointOffset||0;if(N(this,"trimTicks"),!this.isLinked){if(oe&&pe!==-1/0)this.min=pe;else for(;this.min-ne>J[0];)J.shift();if(ce)this.max=Ce;else for(;this.max+ne<J[J.length-1];)J.pop();J.length===0&&V(pe)&&!this.options.tickPositions&&J.push((Ce+pe)/2)}}alignToOthers(){const J=this,oe=[this],ce=J.options,pe=this.coll==="yAxis"&&this.chart.options.chart.alignThresholds,Ce=[];let ne;if(J.thresholdAlignment=void 0,(this.chart.options.chart.alignTicks!==!1&&ce.alignTicks||pe)&&ce.startOnTick!==!1&&ce.endOnTick!==!1&&!J.logarithmic){const ye=ae=>{const{horiz:me,options:we}=ae;return[me?we.left:we.top,we.width,we.height,we.pane].join()},_e=ye(this);this.chart[this.coll].forEach(function(ae){const{series:me}=ae;me.length&&me.some(we=>we.visible)&&ae!==J&&ye(ae)===_e&&(ne=!0,oe.push(ae))})}if(ne&&pe){oe.forEach(_e=>{_e=_e.getThresholdAlignment(J),W(_e)&&Ce.push(_e)});const ye=1<Ce.length?Ce.reduce((_e,ae)=>_e+ae,0)/Ce.length:void 0;oe.forEach(_e=>{_e.thresholdAlignment=ye})}return ne}getThresholdAlignment(J){if((!W(this.dataMin)||this!==J&&this.series.some(oe=>oe.isDirty||oe.isDirtyData))&&this.getSeriesExtremes(),W(this.threshold))return J=E((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(J=1-J),J}getTickAmount(){const J=this.options,oe=J.tickPixelInterval;let ce=J.tickAmount;!V(J.tickInterval)&&!ce&&this.len<oe&&!this.isRadial&&!this.logarithmic&&J.startOnTick&&J.endOnTick&&(ce=2),!ce&&this.alignToOthers()&&(ce=Math.ceil(this.len/oe)+1),4>ce&&(this.finalTickAmt=ce,ce=5),this.tickAmount=ce}adjustTickAmount(){const J=this,{finalTickAmt:oe,max:ce,min:pe,options:Ce,tickPositions:ne,tickAmount:ye,thresholdAlignment:_e}=J,ae=ne&&ne.length;var me=x(J.threshold,J.softThreshold?0:null),we=J.tickInterval;let Re;if(W(_e)&&(Re=.5>_e?Math.ceil(_e*(ye-1)):Math.floor(_e*(ye-1)),Ce.reversed&&(Re=ye-1-Re)),J.hasData()&&W(pe)&&W(ce)){const Le=()=>{J.transA*=(ae-1)/(ye-1),J.min=Ce.startOnTick?ne[0]:Math.min(pe,ne[0]),J.max=Ce.endOnTick?ne[ne.length-1]:Math.max(ce,ne[ne.length-1])};if(W(Re)&&W(J.threshold)){for(;ne[Re]!==me||ne.length!==ye||ne[0]>pe||ne[ne.length-1]<ce;){for(ne.length=0,ne.push(J.threshold);ne.length<ye;)ne[Re]===void 0||ne[Re]>J.threshold?ne.unshift(k(ne[0]-we)):ne.push(k(ne[ne.length-1]+we));if(we>8*J.tickInterval)break;we*=2}Le()}else if(ae<ye){for(;ne.length<ye;)ne.length%2||pe===me?ne.push(k(ne[ne.length-1]+we)):ne.unshift(k(ne[0]-we));Le()}if(V(oe)){for(we=me=ne.length;we--;)(oe===3&&we%2===1||2>=oe&&0<we&&we<me-1)&&ne.splice(we,1);J.finalTickAmt=void 0}}}setScale(){let J=!1,oe=!1;this.series.forEach(function(pe){J=J||pe.isDirtyData||pe.isDirty,oe=oe||pe.xAxis&&pe.xAxis.isDirty||!1}),this.setAxisSize();const ce=this.len!==(this.old&&this.old.len);ce||J||oe||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=ce||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),J&&this.panningState&&(this.panningState.isDirty=!0),N(this,"afterSetScale")}setExtremes(J,oe,ce,pe,Ce){const ne=this,ye=ne.chart;ce=x(ce,!0),ne.series.forEach(function(_e){delete _e.kdTree}),Ce=Q(Ce,{min:J,max:oe}),N(ne,"setExtremes",Ce,function(){ne.userMin=J,ne.userMax=oe,ne.eventArgs=Ce,ce&&ye.redraw(pe)})}zoom(J,oe){const ce=this,pe=this.dataMin,Ce=this.dataMax,ne=this.options,ye=Math.min(pe,x(ne.min,pe)),_e=Math.max(Ce,x(ne.max,Ce));return J={newMin:J,newMax:oe},N(this,"zoom",J,function(ae){let me=ae.newMin,we=ae.newMax;(me!==ce.min||we!==ce.max)&&(ce.allowZoomOutside||(V(pe)&&(me<ye&&(me=ye),me>_e&&(me=_e)),V(Ce)&&(we<ye&&(we=ye),we>_e&&(we=_e))),ce.displayBtn=typeof me<"u"||typeof we<"u",ce.setExtremes(me,we,!1,void 0,{trigger:"zoom"})),ae.zoomed=!0}),J.zoomed}setAxisSize(){const J=this.chart;var oe=this.options;const ce=oe.offsets||[0,0,0,0],pe=this.horiz,Ce=this.width=Math.round(P(x(oe.width,J.plotWidth-ce[3]+ce[1]),J.plotWidth)),ne=this.height=Math.round(P(x(oe.height,J.plotHeight-ce[0]+ce[2]),J.plotHeight)),ye=this.top=Math.round(P(x(oe.top,J.plotTop+ce[0]),J.plotHeight,J.plotTop));oe=this.left=Math.round(P(x(oe.left,J.plotLeft+ce[3]),J.plotWidth,J.plotLeft)),this.bottom=J.chartHeight-ne-ye,this.right=J.chartWidth-Ce-oe,this.len=Math.max(pe?Ce:ne,0),this.pos=pe?oe:ye}getExtremes(){const J=this.logarithmic;return{min:J?k(J.lin2log(this.min)):this.min,max:J?k(J.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(J){var oe=this.logarithmic;const ce=oe?oe.lin2log(this.min):this.min;return oe=oe?oe.lin2log(this.max):this.max,J===null||J===-1/0?J=ce:J===1/0?J=oe:ce>J?J=ce:oe<J&&(J=oe),this.translate(J,0,1,0,1)}autoLabelAlign(J){const oe=(x(J,0)-90*this.side+720)%360;return J={align:"center"},N(this,"autoLabelAlign",J,function(ce){15<oe&&165>oe?ce.align="right":195<oe&&345>oe&&(ce.align="left")}),J.align}tickSize(J){const oe=this.options,ce=x(oe[J==="tick"?"tickWidth":"minorTickWidth"],J==="tick"&&this.isXAxis&&!this.categories?1:0);let pe=oe[J==="tick"?"tickLength":"minorTickLength"],Ce;return ce&&pe&&(oe[J+"Position"]==="inside"&&(pe=-pe),Ce=[pe,ce]),J={tickSize:Ce},N(this,"afterTickSize",J),J.tickSize}labelMetrics(){const J=this.chart.renderer;var oe=this.ticks;return oe=oe[Object.keys(oe)[0]]||{},this.chart.renderer.fontMetrics(oe.label||oe.movedLabel||J.box)}unsquish(){const J=this.options.labels;var oe=this.horiz;const ce=this.tickInterval,pe=this.len/(((this.categories?1:0)+this.max-this.min)/ce),Ce=J.rotation,ne=.75*this.labelMetrics().h,ye=Math.max(this.max-this.min,0),_e=function(Le){let Ge=Le/(pe||1);return Ge=1<Ge?Math.ceil(Ge):1,Ge*ce>ye&&Le!==1/0&&pe!==1/0&&ye&&(Ge=Math.ceil(ye/ce)),k(Ge*ce)};let ae=ce,me,we=Number.MAX_VALUE,Re;if(oe){if(J.staggerLines||(W(Ce)?Re=[Ce]:pe<J.autoRotationLimit&&(Re=J.autoRotation)),Re){let Le;for(const Ge of Re)(Ge===Ce||Ge&&-90<=Ge&&90>=Ge)&&(oe=_e(Math.abs(ne/Math.sin(R*Ge))),Le=oe+Math.abs(Ge/360),Le<we&&(we=Le,me=Ge,ae=oe))}}else ae=_e(ne);return this.autoRotation=Re,this.labelRotation=x(me,W(Ce)?Ce:0),J.step?ce:ae}getSlotWidth(J){const oe=this.chart,ce=this.horiz,pe=this.options.labels,Ce=Math.max(this.tickPositions.length-(this.categories?0:1),1),ne=oe.margin[3];if(J&&W(J.slotWidth))return J.slotWidth;if(ce&&2>pe.step)return pe.rotation?0:(this.staggerLines||1)*this.len/Ce;if(!ce){if(J=pe.style.width,J!==void 0)return parseInt(String(J),10);if(ne)return ne-oe.spacing[3]}return .33*oe.chartWidth}renderUnsquish(){const J=this.chart,oe=J.renderer,ce=this.tickPositions,pe=this.ticks,Ce=this.options.labels,ne=Ce.style,ye=this.horiz,_e=this.getSlotWidth();var ae=Math.max(1,Math.round(_e-2*Ce.padding));const me={},we=this.labelMetrics(),Re=ne.textOverflow;let Le,Ge,rt=0;if(w(Ce.rotation)||(me.rotation=Ce.rotation||0),ce.forEach(function(qe){qe=pe[qe],qe.movedLabel&&qe.replaceMovedLabel(),qe&&qe.label&&qe.label.textPxLength>rt&&(rt=qe.label.textPxLength)}),this.maxLabelLength=rt,this.autoRotation)rt>ae&&rt>we.h?me.rotation=this.labelRotation:this.labelRotation=0;else if(_e&&(Le=ae,!Re))for(Ge="clip",ae=ce.length;!ye&&ae--;){var Qe=ce[ae];(Qe=pe[Qe].label)&&(Qe.styles&&Qe.styles.textOverflow==="ellipsis"?Qe.css({textOverflow:"clip"}):Qe.textPxLength>_e&&Qe.css({width:_e+"px"}),Qe.getBBox().height>this.len/ce.length-(we.h-we.f)&&(Qe.specificTextOverflow="ellipsis"))}me.rotation&&(Le=rt>.5*J.chartHeight?.33*J.chartHeight:rt,Re||(Ge="ellipsis")),(this.labelAlign=Ce.align||this.autoLabelAlign(this.labelRotation))&&(me.align=this.labelAlign),ce.forEach(function(qe){const Te=(qe=pe[qe])&&qe.label,Oe=ne.width,ze={};Te&&(Te.attr(me),qe.shortenLabel?qe.shortenLabel():Le&&!Oe&&ne.whiteSpace!=="nowrap"&&(Le<Te.textPxLength||Te.element.tagName==="SPAN")?(ze.width=Le+"px",Re||(ze.textOverflow=Te.specificTextOverflow||Ge),Te.css(ze)):Te.styles&&Te.styles.width&&!ze.width&&!Oe&&Te.css({width:null}),delete Te.specificTextOverflow,qe.rotation=me.rotation)},this),this.tickRotCorr=oe.rotCorr(we.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(J){return J.hasData()})||this.options.showEmpty&&V(this.min)&&V(this.max)}addTitle(J){const oe=this.chart.renderer,ce=this.horiz,pe=this.opposite,Ce=this.options.title,ne=this.chart.styledMode;let ye;this.axisTitle||((ye=Ce.textAlign)||(ye=(ce?{low:"left",middle:"center",high:"right"}:{low:pe?"right":"left",middle:"center",high:pe?"left":"right"})[Ce.align]),this.axisTitle=oe.text(Ce.text||"",0,0,Ce.useHTML).attr({zIndex:7,rotation:Ce.rotation,align:ye}).addClass("highcharts-axis-title"),ne||this.axisTitle.css(D(Ce.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),ne||Ce.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[J?"show":"hide"](J)}generateTick(J){const oe=this.ticks;oe[J]?oe[J].addLabel():oe[J]=new Z(this,J)}getOffset(){const J=this,{chart:oe,horiz:ce,options:pe,side:Ce,ticks:ne,tickPositions:ye,coll:_e,axisParent:ae}=J,me=oe.renderer,we=oe.inverted&&!J.isZAxis?[1,0,3,2][Ce]:Ce;var Re=J.hasData();const Le=pe.title;var Ge=pe.labels;const rt=W(pe.crossing);var Qe=oe.axisOffset;const qe=oe.clipOffset,Te=[-1,1,1,-1][Ce],Oe=pe.className;let ze,Xe=0,Je;var pt=0;let bt=0;if(J.showAxis=ze=Re||pe.showEmpty,J.staggerLines=J.horiz&&Ge.staggerLines||void 0,!J.axisGroup){const It=(ui,Ht,di)=>me.g(ui).attr({zIndex:di}).addClass(`highcharts-${_e.toLowerCase()}${Ht} `+(this.isRadial?`highcharts-radial-axis${Ht} `:"")+(Oe||"")).add(ae);J.gridGroup=It("grid","-grid",pe.gridZIndex),J.axisGroup=It("axis","",pe.zIndex),J.labelGroup=It("axis-labels","-labels",Ge.zIndex)}Re||J.isLinked?(ye.forEach(function(It){J.generateTick(It)}),J.renderUnsquish(),J.reserveSpaceDefault=Ce===0||Ce===2||{1:"left",3:"right"}[Ce]===J.labelAlign,x(Ge.reserveSpace,rt?!1:null,J.labelAlign==="center"?!0:null,J.reserveSpaceDefault)&&ye.forEach(function(It){bt=Math.max(ne[It].getLabelSize(),bt)}),J.staggerLines&&(bt*=J.staggerLines),J.labelOffset=bt*(J.opposite?-1:1)):g(ne,function(It,ui){It.destroy(),delete ne[ui]}),Le&&Le.text&&Le.enabled!==!1&&(J.addTitle(ze),ze&&!rt&&Le.reserveSpace!==!1&&(J.titleOffset=Xe=J.axisTitle.getBBox()[ce?"height":"width"],Je=Le.offset,pt=V(Je)?0:x(Le.margin,ce?5:10))),J.renderLine(),J.offset=Te*x(pe.offset,Qe[Ce]?Qe[Ce]+(pe.margin||0):0),J.tickRotCorr=J.tickRotCorr||{x:0,y:0},Re=Ce===0?-J.labelMetrics().h:Ce===2?J.tickRotCorr.y:0,pt=Math.abs(bt)+pt,bt&&(pt=pt-Re+Te*(ce?x(Ge.y,J.tickRotCorr.y+Te*Ge.distance):x(Ge.x,Te*Ge.distance))),J.axisTitleMargin=x(Je,pt),J.getMaxLabelDimensions&&(J.maxLabelDimensions=J.getMaxLabelDimensions(ne,ye)),_e!=="colorAxis"&&(Ge=this.tickSize("tick"),Qe[Ce]=Math.max(Qe[Ce],(J.axisTitleMargin||0)+Xe+Te*J.offset,pt,ye&&ye.length&&Ge?Ge[0]+Te*J.offset:0),Qe=!J.axisLine||pe.offset?0:2*Math.floor(J.axisLine.strokeWidth()/2),qe[we]=Math.max(qe[we],Qe)),N(this,"afterGetOffset")}getLinePath(J){const oe=this.chart,ce=this.opposite;var pe=this.offset;const Ce=this.horiz,ne=this.left+(ce?this.width:0)+pe;return pe=oe.chartHeight-this.bottom-(ce?this.height:0)+pe,ce&&(J*=-1),oe.renderer.crispLine([["M",Ce?this.left:ne,Ce?pe:this.top],["L",Ce?oe.chartWidth-this.right:ne,Ce?pe:oe.chartHeight-this.bottom]],J)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(J){var oe=this.horiz,ce=this.left;const pe=this.top;var Ce=this.len;const ne=this.options.title,ye=oe?ce:pe,_e=this.opposite,ae=this.offset,me=ne.x,we=ne.y,Re=this.chart.renderer.fontMetrics(J);return J=J?Math.max(J.getBBox(!1,0).height-Re.h-1,0):0,Ce={low:ye+(oe?0:Ce),middle:ye+Ce/2,high:ye+(oe?Ce:0)}[ne.align],ce=(oe?pe+this.height:ce)+(oe?1:-1)*(_e?-1:1)*(this.axisTitleMargin||0)+[-J,J,Re.f,-J][this.side],oe={x:oe?Ce+me:ce+(_e?this.width:0)+ae+me,y:oe?ce+we-(_e?this.height:0)+ae:Ce+we},N(this,"afterGetTitlePosition",{titlePosition:oe}),oe}renderMinorTick(J,oe){const ce=this.minorTicks;ce[J]||(ce[J]=new Z(this,J,"minor")),oe&&ce[J].isNew&&ce[J].render(null,!0),ce[J].render(null,!1,1)}renderTick(J,oe,ce){const pe=this.ticks;(!this.isLinked||J>=this.min&&J<=this.max||this.grid&&this.grid.isColumn)&&(pe[J]||(pe[J]=new Z(this,J)),ce&&pe[J].isNew&&pe[J].render(oe,!0,-1),pe[J].render(oe))}render(){const J=this,oe=J.chart,ce=J.logarithmic,pe=J.options,Ce=J.isLinked,ne=J.tickPositions,ye=J.axisTitle,_e=J.ticks,ae=J.minorTicks,me=J.alternateBands,we=pe.stackLabels,Re=pe.alternateGridColor,Le=pe.crossing,Ge=J.tickmarkOffset,rt=J.axisLine,Qe=J.showAxis,qe=H(oe.renderer.globalAnimation);let Te,Oe;if(J.labelEdge.length=0,J.overlap=!1,[_e,ae,me].forEach(function(ze){g(ze,function(Xe){Xe.isActive=!1})}),W(Le)){const ze=this.isXAxis?oe.yAxis[0]:oe.xAxis[0],Xe=[1,-1,-1,1][this.side];ze&&(this.offset=Xe*ze.toPixels(Le,!0))}if(J.hasData()||Ce){const ze=J.chart.hasRendered&&J.old&&W(J.old.min);J.minorTickInterval&&!J.categories&&J.getMinorTickPositions().forEach(function(Xe){J.renderMinorTick(Xe,ze)}),ne.length&&(ne.forEach(function(Xe,Je){J.renderTick(Xe,Je,ze)}),Ge&&(J.min===0||J.single)&&(_e[-1]||(_e[-1]=new Z(J,-1,null,!0)),_e[-1].render(-1))),Re&&ne.forEach(function(Xe,Je){Oe=typeof ne[Je+1]<"u"?ne[Je+1]+Ge:J.max-Ge,Je%2===0&&Xe<J.max&&Oe<=J.max+(oe.polar?-Ge:Ge)&&(me[Xe]||(me[Xe]=new z.PlotLineOrBand(J)),Te=Xe+Ge,me[Xe].options={from:ce?ce.lin2log(Te):Te,to:ce?ce.lin2log(Oe):Oe,color:Re,className:"highcharts-alternate-grid"},me[Xe].render(),me[Xe].isActive=!0)}),J._addedPlotLB||(J._addedPlotLB=!0,(pe.plotLines||[]).concat(pe.plotBands||[]).forEach(function(Xe){J.addPlotBandOrLine(Xe)}))}[_e,ae,me].forEach(function(ze){const Xe=[],Je=qe.duration;g(ze,function(pt,bt){pt.isActive||(pt.render(bt,!1,0),pt.isActive=!1,Xe.push(bt))}),K(function(){let pt=Xe.length;for(;pt--;)ze[Xe[pt]]&&!ze[Xe[pt]].isActive&&(ze[Xe[pt]].destroy(),delete ze[Xe[pt]])},ze!==me&&oe.hasRendered&&Je?Je:0)}),rt&&(rt[rt.isPlaced?"animate":"attr"]({d:this.getLinePath(rt.strokeWidth())}),rt.isPlaced=!0,rt[Qe?"show":"hide"](Qe)),ye&&Qe&&(ye[ye.isNew?"attr":"animate"](J.getTitlePosition(ye)),ye.isNew=!1),we&&we.enabled&&J.stacking&&J.stacking.renderStackTotals(),J.old={len:J.len,max:J.max,min:J.min,transA:J.transA,userMax:J.userMax,userMin:J.userMin},J.isDirty=!1,N(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(J){J.render()})),this.series.forEach(function(J){J.isDirty=!0})}getKeepProps(){return this.keepProps||ge.keepProps}destroy(J){const oe=this,ce=oe.plotLinesAndBands,pe=this.eventOptions;if(N(this,"destroy",{keepEvents:J}),J||Y(oe),[oe.ticks,oe.minorTicks,oe.alternateBands].forEach(function(Ce){G(Ce)}),ce)for(J=ce.length;J--;)ce[J].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(Ce){oe[Ce]&&(oe[Ce]=oe[Ce].destroy())});for(const Ce in oe.plotLinesAndBandsGroups)oe.plotLinesAndBandsGroups[Ce]=oe.plotLinesAndBandsGroups[Ce].destroy();g(oe,function(Ce,ne){oe.getKeepProps().indexOf(ne)===-1&&delete oe[ne]}),this.eventOptions=pe}drawCrosshair(J,oe){const ce=this.crosshair;var pe=x(ce&&ce.snap,!0);const Ce=this.chart;let ne,ye=this.cross;if(N(this,"drawCrosshair",{e:J,point:oe}),J||(J=this.cross&&this.cross.e),ce&&(V(oe)||!pe)!==!1){if(pe?V(oe)&&(ne=x(this.coll!=="colorAxis"?oe.crosshairPos:null,this.isXAxis?oe.plotX:this.len-oe.plotY)):ne=J&&(this.horiz?J.chartX-this.pos:this.len-J.chartY+this.pos),V(ne)){var _e={value:oe&&(this.isXAxis?oe.x:x(oe.stackY,oe.y)),translatedValue:ne};Ce.polar&&Q(_e,{isCrosshair:!0,chartX:J&&J.chartX,chartY:J&&J.chartY,point:oe}),_e=this.getPlotLinePath(_e)||null}if(!V(_e)){this.hideCrosshair();return}pe=this.categories&&!this.isRadial,ye||(this.cross=ye=Ce.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(pe?"category ":"thin ")+(ce.className||"")).attr({zIndex:x(ce.zIndex,2)}).add(),Ce.styledMode||(ye.attr({stroke:ce.color||(pe?m.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":x(ce.width,1)}).css({"pointer-events":"none"}),ce.dashStyle&&ye.attr({dashstyle:ce.dashStyle}))),ye.show().attr({d:_e}),pe&&!ce.width&&ye.attr({"stroke-width":this.transA}),this.cross.e=J}else this.hideCrosshair();N(this,"afterDrawCrosshair",{e:J,point:oe})}hideCrosshair(){this.cross&&this.cross.hide(),N(this,"afterHideCrosshair")}hasVerticalPanning(){const J=this.chart.options.chart.panning;return!!(J&&J.enabled&&/y/.test(J.type))}update(J,oe){const ce=this.chart;J=D(this.userOptions,J),this.destroy(!0),this.init(ce,J),ce.isDirtyBox=!0,x(oe,!0)&&ce.redraw()}remove(J){const oe=this.chart,ce=this.coll,pe=this.series;let Ce=pe.length;for(;Ce--;)pe[Ce]&&pe[Ce].remove(!1);C(oe.axes,this),C(oe[ce],this),oe[ce].forEach(function(ne,ye){ne.options.index=ne.userOptions.index=ye}),this.destroy(),oe.isDirtyBox=!0,x(J,!0)&&oe.redraw()}setTitle(J,oe){this.update({title:J},oe)}setCategories(J,oe){this.update({categories:J},oe)}}return ge.defaultOptions=d.defaultXAxisOptions,ge.keepProps="extKey hcEvents names series userMax userMin".split(" "),ge}),s(a,"Core/Axis/DateTimeAxis.js",[a["Core/Utilities.js"]],function(c){const{addEvent:d,getMagnitude:m,normalizeTickInterval:n,timeUnits:S}=c;var z;return function(Z){function O(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function H(R){R.userOptions.type!=="datetime"?this.dateTime=void 0:this.dateTime||(this.dateTime=new L(this))}const q=[];Z.compose=function(R){return c.pushUnique(q,R)&&(R.keepProps.push("dateTime"),R.prototype.getTimeTicks=O,d(R,"init",H)),R};class L{constructor($){this.axis=$}normalizeTimeTickInterval($,M){const E=M||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];M=E[E.length-1];let k=S[M[0]],V=M[1],G;for(G=0;G<E.length&&(M=E[G],k=S[M[0]],V=M[1],!(E[G+1]&&$<=(k*V[V.length-1]+S[E[G+1][0]])/2));G++);return k===S.year&&$<5*k&&(V=[1,2,5]),$=n($/k,V,M[0]==="year"?Math.max(m($/k),1):1),{unitRange:k,count:$,unitName:M[0]}}getXDateFormat($,M){const{axis:E}=this,k=E.chart.time;return E.closestPointRange?k.getDateFormat(E.closestPointRange,$,E.options.startOfWeek,M)||k.resolveDTLFormat(M.year).main:k.resolveDTLFormat(M.day).main}}Z.Additions=L}(z||(z={})),z}),s(a,"Core/Axis/LogarithmicAxis.js",[a["Core/Utilities.js"]],function(c){const{addEvent:d,normalizeTickInterval:m,pick:n}=c;var S;return function(z){function Z(L){let R=this.logarithmic;L.userOptions.type!=="logarithmic"?this.logarithmic=void 0:R||(this.logarithmic=new q(this))}function O(){const L=this.logarithmic;L&&(this.lin2val=function(R){return L.lin2log(R)},this.val2lin=function(R){return L.log2lin(R)})}const H=[];z.compose=function(L){return c.pushUnique(H,L)&&(L.keepProps.push("logarithmic"),d(L,"init",Z),d(L,"afterInit",O)),L};class q{constructor(R){this.axis=R}getLogTickPositions(R,$,M,E){const k=this.axis;var V=k.len,G=k.options;let C=[];if(E||(this.minorAutoInterval=void 0),.5<=R)R=Math.round(R),C=k.getLinearTickPositions(R,$,M);else if(.08<=R){G=Math.floor($);let te,Q,N,j,W;for(V=.3<R?[1,2,4]:.15<R?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];G<M+1&&!W;G++)for(Q=V.length,te=0;te<Q&&!W;te++)N=this.log2lin(this.lin2log(G)*V[te]),N>$&&(!E||j<=M)&&typeof j<"u"&&C.push(j),j>M&&(W=!0),j=N}else $=this.lin2log($),M=this.lin2log(M),R=E?k.getMinorTickInterval():G.tickInterval,R=n(R==="auto"?null:R,this.minorAutoInterval,G.tickPixelInterval/(E?5:1)*(M-$)/((E?V/k.tickPositions.length:V)||1)),R=m(R),C=k.getLinearTickPositions(R,$,M).map(this.log2lin),E||(this.minorAutoInterval=R/5);return E||(k.tickInterval=R),C}lin2log(R){return Math.pow(10,R)}log2lin(R){return Math.log(R)/Math.LN10}}z.Additions=q}(S||(S={})),S}),s(a,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[a["Core/Utilities.js"]],function(c){const{erase:d,extend:m,isNumber:n}=c;var S;return function(z){function Z(k){return this.addPlotBandOrLine(k,"plotBands")}function O(k,V){const G=this.userOptions;let C=new E(this,k);if(this.visible&&(C=C.render()),C){if(this._addedPlotLB||(this._addedPlotLB=!0,(G.plotLines||[]).concat(G.plotBands||[]).forEach(te=>{this.addPlotBandOrLine(te)})),V){const te=G[V]||[];te.push(k),G[V]=te}this.plotLinesAndBands.push(C)}return C}function H(k){return this.addPlotBandOrLine(k,"plotLines")}function q(k,V,G=this.options){const C=this.getPlotLinePath({value:V,force:!0,acrossPanes:G.acrossPanes}),te=[],Q=this.horiz;V=!n(this.min)||!n(this.max)||k<this.min&&V<this.min||k>this.max&&V>this.max,k=this.getPlotLinePath({value:k,force:!0,acrossPanes:G.acrossPanes}),G=1;let N;if(k&&C)for(V&&(N=k.toString()===C.toString(),G=0),V=0;V<k.length;V+=2){const j=k[V],W=k[V+1],w=C[V],D=C[V+1];j[0]!=="M"&&j[0]!=="L"||W[0]!=="M"&&W[0]!=="L"||w[0]!=="M"&&w[0]!=="L"||D[0]!=="M"&&D[0]!=="L"||(Q&&w[1]===j[1]?(w[1]+=G,D[1]+=G):Q||w[2]!==j[2]||(w[2]+=G,D[2]+=G),te.push(["M",j[1],j[2]],["L",W[1],W[2]],["L",D[1],D[2]],["L",w[1],w[2]],["Z"])),te.isFlat=N}return te}function L(k){this.removePlotBandOrLine(k)}function R(k){const V=this.plotLinesAndBands,G=this.options,C=this.userOptions;if(V){let te=V.length;for(;te--;)V[te].id===k&&V[te].destroy();[G.plotLines||[],C.plotLines||[],G.plotBands||[],C.plotBands||[]].forEach(function(Q){for(te=Q.length;te--;)(Q[te]||{}).id===k&&d(Q,Q[te])})}}function $(k){this.removePlotBandOrLine(k)}const M=[];let E;z.compose=function(k,V){return E||(E=k),c.pushUnique(M,V)&&m(V.prototype,{addPlotBand:Z,addPlotLine:H,addPlotBandOrLine:O,getPlotBandPath:q,removePlotBand:L,removePlotLine:$,removePlotBandOrLine:R}),V}}(S||(S={})),S}),s(a,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[a["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],a["Core/Utilities.js"]],function(c,d){const{arrayMax:m,arrayMin:n,defined:S,destroyObjectProperties:z,erase:Z,fireEvent:O,merge:H,objectEach:q,pick:L}=d;class R{static compose(M){return c.compose(R,M)}constructor(M,E){this.axis=M,E&&(this.options=E,this.id=E.id)}render(){O(this,"render");const M=this,E=M.axis,k=E.horiz;var V=E.logarithmic;const G=M.options,C=G.color,te=L(G.zIndex,0),Q=G.events,N={},j=E.chart.renderer;let W=G.label,w=M.label,D=G.to,f=G.from,g=G.value,x=M.svgElem;var P=[];const Y=S(f)&&S(D);P=S(g);const ee=!x,K={class:"highcharts-plot-"+(Y?"band ":"line ")+(G.className||"")};let he=Y?"bands":"lines";if(V&&(f=V.log2lin(f),D=V.log2lin(D),g=V.log2lin(g)),E.chart.styledMode||(P?(K.stroke=C||"#999999",K["stroke-width"]=L(G.width,1),G.dashStyle&&(K.dashstyle=G.dashStyle)):Y&&(K.fill=C||"#e6e9ff",G.borderWidth&&(K.stroke=G.borderColor,K["stroke-width"]=G.borderWidth))),N.zIndex=te,he+="-"+te,(V=E.plotLinesAndBandsGroups[he])||(E.plotLinesAndBandsGroups[he]=V=j.g("plot-"+he).attr(N).add()),ee&&(M.svgElem=x=j.path().attr(K).add(V)),P)P=E.getPlotLinePath({value:g,lineWidth:x.strokeWidth(),acrossPanes:G.acrossPanes});else if(Y)P=E.getPlotBandPath(f,D,G);else return;return!M.eventsAdded&&Q&&(q(Q,function(ge,Ee){x.on(Ee,function(J){Q[Ee].apply(M,[J])})}),M.eventsAdded=!0),(ee||!x.d)&&P&&P.length?x.attr({d:P}):x&&(P?(x.show(),x.animate({d:P})):x.d&&(x.hide(),w&&(M.label=w=w.destroy()))),W&&(S(W.text)||S(W.formatter))&&P&&P.length&&0<E.width&&0<E.height&&!P.isFlat?(W=H({align:k&&Y&&"center",x:k?!Y&&4:10,verticalAlign:!k&&Y&&"middle",y:k?Y?16:10:Y?6:-4,rotation:k&&!Y&&90},W),this.renderLabel(W,P,Y,te)):w&&w.hide(),M}renderLabel(M,E,k,V){const G=this.axis;var C=G.chart.renderer;let te=this.label;te||(this.label=te=C.text(this.getLabelText(M),0,0,M.useHTML).attr({align:M.textAlign||M.align,rotation:M.rotation,class:"highcharts-plot-"+(k?"band":"line")+"-label "+(M.className||""),zIndex:V}).add(),G.chart.styledMode||te.css(H({fontSize:"0.8em",textOverflow:"ellipsis"},M.style))),V=E.xBounds||[E[0][1],E[1][1],k?E[2][1]:E[0][1]],E=E.yBounds||[E[0][2],E[1][2],k?E[2][2]:E[0][2]],k=n(V),C=n(E),te.align(M,!1,{x:k,y:C,width:m(V)-k,height:m(E)-C}),te.alignValue&&te.alignValue!=="left"||(M=M.clip?G.width:G.chart.chartWidth,te.css({width:(te.rotation===90?G.height-(te.alignAttr.y-G.top):M-(te.alignAttr.x-G.left))+"px"})),te.show(!0)}getLabelText(M){return S(M.formatter)?M.formatter.call(this):M.text}destroy(){Z(this.axis.plotLinesAndBands,this),delete this.axis,z(this)}}return R}),s(a,"Core/Tooltip.js",[a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/Renderer/RendererUtilities.js"],a["Core/Renderer/RendererRegistry.js"],a["Core/Utilities.js"]],function(c,d,m,n,S){const{format:z}=c,{doc:Z,isSafari:O}=d,{distribute:H}=m,{addEvent:q,clamp:L,css:R,discardElement:$,extend:M,fireEvent:E,isArray:k,isNumber:V,isString:G,merge:C,pick:te,splat:Q,syncTimeout:N}=S;class j{constructor(w,D){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=w,this.init(w,D)}bodyFormatter(w){return w.map(function(D){const f=D.series.tooltipOptions;return(f[(D.point.formatPrefix||"point")+"Formatter"]||D.point.tooltipFormatter).call(D.point,f[(D.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(w){this.chart.series.forEach(function(D){const f=D&&D.tt;f&&(!f.isActive||w?D.tt=f.destroy():f.isActive=!1)})}defaultFormatter(w){const D=this.points||Q(this);let f;return f=[w.tooltipFooterHeaderFormatter(D[0])],f=f.concat(w.bodyFormatter(D)),f.push(w.tooltipFooterHeaderFormatter(D[0],!0)),f}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),$(this.container)),S.clearTimeout(this.hideTimer),S.clearTimeout(this.tooltipTimeout)}getAnchor(w,D){var f=this.chart;const g=f.pointer,x=f.inverted,P=f.plotTop;if(f=f.plotLeft,w=Q(w),w[0].series&&w[0].series.yAxis&&!w[0].series.yAxis.options.reversedStacks&&(w=w.slice().reverse()),this.followPointer&&D)typeof D.chartX>"u"&&(D=g.normalize(D)),w=[D.chartX-f,D.chartY-P];else if(w[0].tooltipPos)w=w[0].tooltipPos;else{let Y=0,ee=0;w.forEach(function(K){(K=K.pos(!0))&&(Y+=K[0],ee+=K[1])}),Y/=w.length,ee/=w.length,this.shared&&1<w.length&&D&&(x?Y=D.chartX:ee=D.chartY),w=[Y-f,ee-P]}return w.map(Math.round)}getClassName(w,D,f){const g=w.series,x=g.options;return[this.options.className,"highcharts-label",f&&"highcharts-tooltip-header",D?"highcharts-tooltip-box":"highcharts-tooltip",!f&&"highcharts-color-"+te(w.colorIndex,g.colorIndex),x&&x.className].filter(G).join(" ")}getLabel(){const w=this,D=this.chart.styledMode,f=this.options,g=this.split&&this.allowShared,x=f.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let P,Y=this.chart.renderer;if(this.label){var ee=!this.label.hasClass("highcharts-label");(!g&&ee||g&&!ee)&&this.destroy()}if(!this.label){if(this.outside){ee=this.chart.options.chart.style;const K=n.getRendererType();this.container=P=d.doc.createElement("div"),P.className="highcharts-tooltip-container",R(P,{position:"absolute",top:"1px",pointerEvents:x,zIndex:Math.max(this.options.style.zIndex||0,(ee&&ee.zIndex||0)+3)}),d.doc.body.appendChild(P),this.renderer=Y=new K(P,0,0,ee,void 0,void 0,Y.styledMode)}if(g?this.label=Y.g("tooltip"):(this.label=Y.label("",0,0,f.shape,void 0,void 0,f.useHTML,void 0,"tooltip").attr({padding:f.padding,r:f.borderRadius}),D||this.label.attr({fill:f.backgroundColor,"stroke-width":f.borderWidth||0}).css(f.style).css({pointerEvents:x})),w.outside){const K=this.label,{xSetter:he,ySetter:ge}=K;K.xSetter=function(Ee){he.call(K,w.distance),P.style.left=Ee+"px"},K.ySetter=function(Ee){ge.call(K,w.distance),P.style.top=Ee+"px"}}this.label.attr({zIndex:8}).shadow(f.shadow).add()}return this.label}getPlayingField(){const{body:w,documentElement:D}=Z,{chart:f,distance:g,outside:x}=this;return{width:x?Math.max(w.scrollWidth,D.scrollWidth,w.offsetWidth,D.offsetWidth,D.clientWidth)-2*g:f.chartWidth,height:x?Math.max(w.scrollHeight,D.scrollHeight,w.offsetHeight,D.offsetHeight,D.clientHeight):f.chartHeight}}getPosition(w,D,f){const g=this.chart,x=this.distance,P={},Y=g.inverted&&f.h||0,ee=this.outside;var K=this.getPlayingField();const he=K.width,ge=K.height,Ee=g.pointer.getChartPosition();K=ae=>{const me=ae==="x";return[ae,me?he:ge,me?w:D].concat(ee?[me?w*Ee.scaleX:D*Ee.scaleY,me?Ee.left-x+(f.plotX+g.plotLeft)*Ee.scaleX:Ee.top-x+(f.plotY+g.plotTop)*Ee.scaleY,0,me?he:ge]:[me?w:D,me?f.plotX+g.plotLeft:f.plotY+g.plotTop,me?g.plotLeft:g.plotTop,me?g.plotLeft+g.plotWidth:g.plotTop+g.plotHeight])};let J=K("y"),oe=K("x"),ce;K=!!f.negative,!g.polar&&g.hoverSeries&&g.hoverSeries.yAxis&&g.hoverSeries.yAxis.reversed&&(K=!K);const pe=!this.followPointer&&te(f.ttBelow,!g.inverted===K),Ce=function(ae,me,we,Re,Le,Ge,rt){const Qe=ee?ae==="y"?x*Ee.scaleY:x*Ee.scaleX:x,qe=(we-Re)/2,Te=Re<Le-x,Oe=Le+x+Re<me,ze=Le-Qe-we+qe;if(Le=Le+Qe-qe,pe&&Oe)P[ae]=Le;else if(!pe&&Te)P[ae]=ze;else if(Te)P[ae]=Math.min(rt-Re,0>ze-Y?ze:ze-Y);else if(Oe)P[ae]=Math.max(Ge,Le+Y+we>me?Le:Le+Y);else return!1},ne=function(ae,me,we,Re,Le){let Ge;return Le<x||Le>me-x?Ge=!1:P[ae]=Le<we/2?1:Le>me-Re/2?me-Re-2:Le-we/2,Ge},ye=function(ae){const me=J;J=oe,oe=me,ce=ae},_e=function(){Ce.apply(0,J)!==!1?ne.apply(0,oe)!==!1||ce||(ye(!0),_e()):ce?P.x=P.y=0:(ye(!0),_e())};return(g.inverted||1<this.len)&&ye(),_e(),P}hide(w){const D=this;S.clearTimeout(this.hideTimer),w=te(w,this.options.hideDelay),this.isHidden||(this.hideTimer=N(function(){D.getLabel().fadeOut(w&&void 0),D.isHidden=!0},w))}init(w,D){this.chart=w,this.options=D,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=D.split&&!w.inverted&&!w.polar,this.shared=D.shared||this.split,this.outside=te(D.outside,!(!w.scrollablePixelsX&&!w.scrollablePixelsY))}shouldStickOnContact(w){return!(this.followPointer||!this.options.stickOnContact||w&&!this.chart.pointer.inClass(w.target,"highcharts-tooltip"))}move(w,D,f,g){const x=this,P=x.now,Y=x.options.animation!==!1&&!x.isHidden&&(1<Math.abs(w-P.x)||1<Math.abs(D-P.y)),ee=x.followPointer||1<x.len;M(P,{x:Y?(2*P.x+w)/3:w,y:Y?(P.y+D)/2:D,anchorX:ee?void 0:Y?(2*P.anchorX+f)/3:f,anchorY:ee?void 0:Y?(P.anchorY+g)/2:g}),x.getLabel().attr(P),x.drawTracker(),Y&&(S.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){x&&x.move(w,D,f,g)},32))}refresh(w,D){const f=this.chart,g=this.options,x=f.pointer,P=Q(w),Y=P[0],ee=[];var K=g.formatter||this.defaultFormatter,he=this.shared;const ge=f.styledMode;let Ee={};if(g.enabled&&Y.series){S.clearTimeout(this.hideTimer),this.allowShared=!(!k(w)&&w.series&&w.series.noSharedTooltip),this.followPointer=!this.split&&Y.series.tooltipOptions.followPointer,w=this.getAnchor(w,D);var J=w[0],oe=w[1];if(he&&this.allowShared?(x.applyInactiveState(P),P.forEach(function(ce){ce.setState("hover"),ee.push(ce.getLabelConfig())}),Ee={x:Y.category,y:Y.y},Ee.points=ee):Ee=Y.getLabelConfig(),this.len=ee.length,K=K.call(Ee,this),he=Y.series,this.distance=te(he.tooltipOptions.distance,16),K===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(K,P);else{let ce=J,pe=oe;if(D&&x.isDirectTouch&&(ce=D.chartX-f.plotLeft,pe=D.chartY-f.plotTop),f.polar||he.options.clip===!1||P.some(Ce=>x.isDirectTouch||Ce.series.shouldShowTooltip(ce,pe)))D=this.getLabel(),g.style.width&&!ge||D.css({width:(this.outside?this.getPlayingField():f.spacingBox).width+"px"}),D.attr({text:K&&K.join?K.join(""):K}),D.addClass(this.getClassName(Y),!0),ge||D.attr({stroke:g.borderColor||Y.color||he.color||"#666666"}),this.updatePosition({plotX:J,plotY:oe,negative:Y.negative,ttBelow:Y.ttBelow,h:w[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}E(this,"refresh")}}renderSplit(w,D){function f(Je,pt,bt,It,ui=!0){return bt?(pt=we?0:Qe,Je=L(Je-It/2,_e.left,_e.right-It-(g.outside?Re:0))):(pt-=Ge,Je=ui?Je-It-Ce:Je+Ce,Je=L(Je,ui?Je:_e.left,_e.right)),{x:Je,y:pt}}const g=this,{chart:x,chart:{chartWidth:P,chartHeight:Y,plotHeight:ee,plotLeft:K,plotTop:he,pointer:ge,scrollablePixelsY:Ee=0,scrollablePixelsX:J,scrollingContainer:{scrollLeft:oe,scrollTop:ce}={scrollLeft:0,scrollTop:0},styledMode:pe},distance:Ce,options:ne,options:{positioner:ye}}=g,_e=g.outside&&typeof J!="number"?Z.documentElement.getBoundingClientRect():{left:oe,right:oe+P,top:ce,bottom:ce+Y},ae=g.getLabel(),me=this.renderer||x.renderer,we=!(!x.xAxis[0]||!x.xAxis[0].opposite),{left:Re,top:Le}=ge.getChartPosition();let Ge=he+ce,rt=0,Qe=ee-Ee;G(w)&&(w=[!1,w]),w=w.slice(0,D.length+1).reduce(function(Je,pt,bt){if(pt!==!1&&pt!==""){bt=D[bt-1]||{isHeader:!0,plotX:D[0].plotX,plotY:ee,series:{}};const zi=bt.isHeader;var It=zi?g:bt.series,ui;{var Ht=bt;pt=pt.toString();var di=It.tt;const{isHeader:dn,series:Sn}=Ht;di||(di={padding:ne.padding,r:ne.borderRadius},pe||(di.fill=ne.backgroundColor,di["stroke-width"]=(ui=ne.borderWidth)!==null&&ui!==void 0?ui:1),di=me.label("",0,0,ne[dn?"headerShape":"shape"],void 0,void 0,ne.useHTML).addClass(g.getClassName(Ht,!0,dn)).attr(di).add(ae)),di.isActive=!0,di.attr({text:pt}),pe||di.css(ne.style).attr({stroke:ne.borderColor||Ht.color||Sn.color||"#333333"}),ui=di}ui=It.tt=ui,Ht=ui.getBBox(),It=Ht.width+ui.strokeWidth(),zi&&(rt=Ht.height,Qe+=rt,we&&(Ge-=rt));{const{isHeader:dn,plotX:Sn=0,plotY:Zn=0,series:kr}=bt;if(dn){pt=K+Sn;var Ui=he+ee/2}else{const{xAxis:ms,yAxis:zs}=kr;pt=ms.pos+L(Sn,-Ce,ms.len+Ce),kr.shouldShowTooltip(0,zs.pos-he+Zn,{ignoreX:!0})&&(Ui=zs.pos+Zn)}pt=L(pt,_e.left-Ce,_e.right+Ce),Ui={anchorX:pt,anchorY:Ui}}const{anchorX:Ei,anchorY:Di}=Ui;typeof Di=="number"?(Ui=Ht.height+1,Ht=ye?ye.call(g,It,Ui,bt):f(Ei,Di,zi,It),Je.push({align:ye?0:void 0,anchorX:Ei,anchorY:Di,boxWidth:It,point:bt,rank:te(Ht.rank,zi?1:0),size:Ui,target:Ht.y,tt:ui,x:Ht.x})):ui.isActive=!1}return Je},[]),!ye&&w.some(Je=>{var{outside:pt}=g;return pt=(pt?Re:0)+Je.anchorX,pt<_e.left&&pt+Je.boxWidth<_e.right?!0:pt<Re-_e.left+Je.boxWidth&&_e.right-pt>pt})&&(w=w.map(Je=>{const{x:pt,y:bt}=f(Je.anchorX,Je.anchorY,Je.point.isHeader,Je.boxWidth,!1);return M(Je,{target:bt,x:pt})})),g.cleanSplit(),H(w,Qe);var qe=Re,Te=Re;w.forEach(function(Je){const{x:pt,boxWidth:bt,isHeader:It}=Je;It||(g.outside&&Re+pt<qe&&(qe=Re+pt),!It&&g.outside&&qe+bt>Te&&(Te=Re+pt))}),w.forEach(function(Je){const{x:pt,anchorX:bt,anchorY:It,pos:ui,point:{isHeader:Ht}}=Je,di={visibility:typeof ui>"u"?"hidden":"inherit",x:pt,y:(ui||0)+Ge,anchorX:bt,anchorY:It};if(g.outside&&pt<bt){const Ui=Re-qe;0<Ui&&(Ht||(di.x=pt+Ui,di.anchorX=bt+Ui),Ht&&(di.x=(Te-qe)/2,di.anchorX=bt+Ui))}Je.tt.attr(di)});const{container:Oe,outside:ze,renderer:Xe}=g;if(ze&&Oe&&Xe){const{width:Je,height:pt,x:bt,y:It}=ae.getBBox();Xe.setSize(Je+bt,pt+It,!1),Oe.style.left=qe+"px",Oe.style.top=Le+"px"}O&&ae.attr({opacity:ae.opacity===1?.999:1})}drawTracker(){if(this.shouldStickOnContact()){var w=this.chart,D=this.label,f=this.shared?w.hoverPoints:w.hoverPoint;if(D&&f){var g={x:0,y:0,width:0,height:0};f=this.getAnchor(f);var x=D.getBBox();f[0]+=w.plotLeft-D.translateX,f[1]+=w.plotTop-D.translateY,g.x=Math.min(0,f[0]),g.y=Math.min(0,f[1]),g.width=0>f[0]?Math.max(Math.abs(f[0]),x.width-f[0]):Math.max(Math.abs(f[0]),x.width),g.height=0>f[1]?Math.max(Math.abs(f[1]),x.height-Math.abs(f[1])):Math.max(Math.abs(f[1]),x.height),this.tracker?this.tracker.attr(g):(this.tracker=D.renderer.rect(g).addClass("highcharts-tracker").add(D),w.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(w){return w.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(w,D){const f=w.series,g=f.tooltipOptions;var x=f.xAxis;const P=x&&x.dateTime;x={isFooter:D,labelConfig:w};let Y=g.xDateFormat,ee=g[D?"footerFormat":"headerFormat"];return E(this,"headerFormatter",x,function(K){P&&!Y&&V(w.key)&&(Y=P.getXDateFormat(w.key,g.dateTimeLabelFormats)),P&&Y&&(w.point&&w.point.tooltipDateKeys||["key"]).forEach(function(he){ee=ee.replace("{point."+he+"}","{point."+he+":"+Y+"}")}),f.chart.styledMode&&(ee=this.styledModeFormat(ee)),K.text=z(ee,{point:w,series:f},this.chart)}),x.text}update(w){this.destroy(),C(!0,this.chart.options.tooltip.userOptions,w),this.init(this.chart,C(!0,this.options,w))}updatePosition(w){const{chart:D,distance:f,options:g}=this;var x=D.pointer;const P=this.getLabel(),{left:Y,top:ee,scaleX:K,scaleY:he}=x.getChartPosition();x=(g.positioner||this.getPosition).call(this,P.width,P.height,w);let ge=(w.plotX||0)+D.plotLeft;w=(w.plotY||0)+D.plotTop;let Ee;this.outside&&(g.positioner&&(x.x+=Y-f,x.y+=ee-f),Ee=(g.borderWidth||0)+2*f,this.renderer.setSize(P.width+Ee,P.height+Ee,!1),(K!==1||he!==1)&&(R(this.container,{transform:`scale(${K}, ${he})`}),ge*=K,w*=he),ge+=Y-x.x,w+=ee-x.y),this.move(Math.round(x.x),Math.round(x.y||0),ge,w)}}return function(W){const w=[];W.compose=function(D){S.pushUnique(w,D)&&q(D,"afterInit",function(){const f=this.chart;f.options.tooltip&&(f.tooltip=new W(f,f.options.tooltip))})}}(j||(j={})),j}),s(a,"Core/Series/Point.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Animation/AnimationUtilities.js"],a["Core/Defaults.js"],a["Core/FormatUtilities.js"],a["Core/Utilities.js"]],function(c,d,m,n,S){const{animObject:z}=d,{defaultOptions:Z}=m,{format:O}=n,{addEvent:H,defined:q,erase:L,extend:R,fireEvent:$,getNestedProperty:M,isArray:E,isFunction:k,isNumber:V,isObject:G,merge:C,objectEach:te,pick:Q,syncTimeout:N,removeEvent:j,uniqueKey:W}=S;class w{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const f=this,g={x:f.startXPos,opacity:0},x=f.getGraphicalProps();x.singular.forEach(function(P){f[P]=f[P].animate(P==="dataLabel"?{x:f[P].startXPos,y:f[P].startYPos,opacity:0}:g)}),x.plural.forEach(function(P){f[P].forEach(function(Y){Y.element&&Y.animate(R({x:f.startXPos},Y.startYPos?{x:Y.startXPos,y:Y.startYPos}:{}))})})}applyOptions(f,g){const x=this.series,P=x.options.pointValKey||x.pointValKey;return f=w.prototype.optionsToObject.call(this,f),R(this,f),this.options=this.options?R(this.options,f):f,f.group&&delete this.group,f.dataLabels&&delete this.dataLabels,P&&(this.y=w.prototype.getNestedProperty.call(this,P)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof g>"u"&&x.xAxis&&x.xAxis.hasNames&&(this.x=x.xAxis.nameToX(this)),typeof this.x>"u"&&x?this.x=typeof g>"u"?x.autoIncrement():g:V(f.x)&&x.options.relativeXValue&&(this.x=x.autoIncrement(f.x)),this}destroy(){if(!this.destroyed){const g=this;var f=g.series;const x=f.chart;f=f.options.dataSorting;const P=x.hoverPoints,Y=z(g.series.chart.renderer.globalAnimation),ee=()=>{(g.graphic||g.graphics||g.dataLabel||g.dataLabels)&&(j(g),g.destroyElements());for(const K in g)delete g[K]};g.legendItem&&x.legend.destroyItem(g),P&&(g.setState(),L(P,g),P.length||(x.hoverPoints=null)),g===x.hoverPoint&&g.onMouseOut(),f&&f.enabled?(this.animateBeforeDestroy(),N(ee,Y.duration)):ee(),x.pointCount--}this.destroyed=!0}destroyElements(f){const g=this;f=g.getGraphicalProps(f),f.singular.forEach(function(x){g[x]=g[x].destroy()}),f.plural.forEach(function(x){g[x].forEach(function(P){P&&P.element&&P.destroy()}),delete g[x]})}firePointEvent(f,g,x){const P=this,Y=this.series.options;(Y.point.events[f]||P.options&&P.options.events&&P.options.events[f])&&P.importEvents(),f==="click"&&Y.allowPointSelect&&(x=function(ee){P.select&&P.select(null,ee.ctrlKey||ee.metaKey||ee.shiftKey)}),$(P,f,g,x)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(f){const g=this,x=[],P={singular:[],plural:[]};let Y,ee;for(f=f||{graphic:1,dataLabel:1},f.graphic&&x.push("graphic"),f.dataLabel&&x.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),ee=x.length;ee--;)Y=x[ee],g[Y]&&P.singular.push(Y);return["graphic","dataLabel","connector"].forEach(function(K){const he=K+"s";f[K]&&g[he]&&P.plural.push(he)}),P}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(f){if(f)return f.indexOf("custom.")===0?M(f,this.options):this[f]}getZone(){var f=this.series;const g=f.zones;f=f.zoneAxis||"y";let x,P=0;for(x=g[P];this[f]>=x.value;)x=g[++P];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=x&&x.color&&!this.options.color?x.color:this.nonZonedColor,x}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(f,g,x){return this.series=f,this.applyOptions(g,x),this.id=q(this.id)?this.id:W(),this.resolveColor(),f.chart.pointCount++,$(this,"afterInit"),this}isValid(){return this.x!==null&&V(this.y)}optionsToObject(f){var g=this.series;const x=g.options.keys,P=x||g.pointArrayMap||["y"],Y=P.length;let ee={},K=0,he=0;if(V(f)||f===null)ee[P[0]]=f;else if(E(f))for(!x&&f.length>Y&&(g=typeof f[0],g==="string"?ee.name=f[0]:g==="number"&&(ee.x=f[0]),K++);he<Y;)x&&typeof f[K]>"u"||(0<P[he].indexOf(".")?w.prototype.setNestedProperty(ee,f[K],P[he]):ee[P[he]]=f[K]),K++,he++;else typeof f=="object"&&(ee=f,f.dataLabels&&(g._hasPointLabels=!0),f.marker&&(g._hasPointMarkers=!0));return ee}pos(f,g=this.plotY){if(!this.destroyed){const{plotX:x,series:P}=this,{chart:Y,xAxis:ee,yAxis:K}=P;let he=0,ge=0;if(V(x)&&V(g))return f&&(he=ee?ee.pos:Y.plotLeft,ge=K?K.pos:Y.plotTop),Y.inverted&&ee&&K?[K.len-g+ge,ee.len-x+he]:[x+he,g+ge]}}resolveColor(){const f=this.series;var g=f.chart.styledMode;let x;var P=f.chart.options.chart.colorCount;delete this.nonZonedColor,f.options.colorByPoint?(g||(P=f.options.colors||f.chart.options.colors,x=P[f.colorCounter],P=P.length),g=f.colorCounter,f.colorCounter++,f.colorCounter===P&&(f.colorCounter=0)):(g||(x=f.color),g=f.colorIndex),this.colorIndex=Q(this.options.colorIndex,g),this.color=Q(this.options.color,x)}setNestedProperty(f,g,x){return x.split(".").reduce(function(P,Y,ee,K){return P[Y]=K.length-1===ee?g:G(P[Y],!0)?P[Y]:{},P[Y]},f),f}shouldDraw(){return!this.isNull}tooltipFormatter(f){const g=this.series,x=g.tooltipOptions,P=Q(x.valueDecimals,""),Y=x.valuePrefix||"",ee=x.valueSuffix||"";return g.chart.styledMode&&(f=g.chart.tooltip.styledModeFormat(f)),(g.pointArrayMap||["y"]).forEach(function(K){K="{point."+K,(Y||ee)&&(f=f.replace(RegExp(K+"}","g"),Y+K+"}"+ee)),f=f.replace(RegExp(K+"}","g"),K+":,."+P+"f}")}),O(f,{point:this,series:this.series},g.chart)}update(f,g,x,P){function Y(){ee.applyOptions(f);var oe=he&&ee.hasMockGraphic;oe=ee.y===null?!oe:oe,he&&oe&&(ee.graphic=he.destroy(),delete ee.hasMockGraphic),G(f,!0)&&(he&&he.element&&f&&f.marker&&typeof f.marker.symbol<"u"&&(ee.graphic=he.destroy()),f&&f.dataLabels&&ee.dataLabel&&(ee.dataLabel=ee.dataLabel.destroy()),ee.connector&&(ee.connector=ee.connector.destroy())),J=ee.index,K.updateParallelArrays(ee,J),Ee.data[J]=G(Ee.data[J],!0)||G(f,!0)?ee.options:Q(f,Ee.data[J]),K.isDirty=K.isDirtyData=!0,!K.fixedBox&&K.hasCartesianSeries&&(ge.isDirtyBox=!0),Ee.legendType==="point"&&(ge.isDirtyLegend=!0),g&&ge.redraw(x)}const ee=this,K=ee.series,he=ee.graphic,ge=K.chart,Ee=K.options;let J;g=Q(g,!0),P===!1?Y():ee.firePointEvent("update",{options:f},Y)}remove(f,g){this.series.removePoint(this.series.data.indexOf(this),f,g)}select(f,g){const x=this,P=x.series,Y=P.chart;this.selectedStaging=f=Q(f,!x.selected),x.firePointEvent(f?"select":"unselect",{accumulate:g},function(){x.selected=x.options.selected=f,P.options.data[P.data.indexOf(x)]=x.options,x.setState(f&&"select"),g||Y.getSelectedPoints().forEach(function(ee){const K=ee.series;ee.selected&&ee!==x&&(ee.selected=ee.options.selected=!1,K.options.data[K.data.indexOf(ee)]=ee.options,ee.setState(Y.hoverPoints&&K.options.inactiveOtherPoints?"inactive":""),ee.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(f){const g=this.series.chart,x=g.pointer;f=f?x.normalize(f):x.getChartCoordinatesFromPoint(this,g.inverted),x.runPointActions(f,this)}onMouseOut(){const f=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(f.hoverPoints||[]).forEach(function(g){g.setState()}),f.hoverPoints=f.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const f=this,g=C(f.series.options.point,f.options).events;f.events=g,te(g,function(x,P){k(x)&&H(f,P,x)}),this.hasImportedEvents=!0}}setState(f,g){const x=this.series;var P=this.state,Y=x.options.states[f||"normal"]||{},ee=Z.plotOptions[x.type].marker&&x.options.marker;const K=ee&&ee.enabled===!1,he=ee&&ee.states&&ee.states[f||"normal"]||{},ge=he.enabled===!1,Ee=this.marker||{},J=x.chart,oe=ee&&x.markerAttribs;let ce=x.halo;var pe;let Ce;var ne=x.stateMarkerGraphic;if(f=f||"",!(f===this.state&&!g||this.selected&&f!=="select"||Y.enabled===!1||f&&(ge||K&&he.enabled===!1)||f&&Ee.states&&Ee.states[f]&&Ee.states[f].enabled===!1)){if(this.state=f,oe&&(pe=x.markerAttribs(this,f)),this.graphic&&!this.hasMockGraphic){if(P&&this.graphic.removeClass("highcharts-point-"+P),f&&this.graphic.addClass("highcharts-point-"+f),!J.styledMode){P=x.pointAttribs(this,f),Ce=Q(J.options.chart.animation,Y.animation);const ye=P.opacity;x.options.inactiveOtherPoints&&V(ye)&&((this.dataLabels||[]).forEach(function(_e){_e&&!_e.hasClass("highcharts-data-label-hidden")&&_e.animate({opacity:ye},Ce)}),this.connector&&this.connector.animate({opacity:ye},Ce)),this.graphic.animate(P,Ce)}pe&&this.graphic.animate(pe,Q(J.options.chart.animation,he.animation,ee.animation)),ne&&ne.hide()}else f&&he&&(ee=Ee.symbol||x.symbol,ne&&ne.currentSymbol!==ee&&(ne=ne.destroy()),pe&&(ne?ne[g?"animate":"attr"]({x:pe.x,y:pe.y}):ee&&(x.stateMarkerGraphic=ne=J.renderer.symbol(ee,pe.x,pe.y,pe.width,pe.height).add(x.markerGroup),ne.currentSymbol=ee)),!J.styledMode&&ne&&this.state!=="inactive"&&ne.attr(x.pointAttribs(this,f))),ne&&(ne[f&&this.isInside?"show":"hide"](),ne.element.point=this,ne.addClass(this.getClassName(),!0));Y=Y.halo,pe=(ne=this.graphic||ne)&&ne.visibility||"inherit",Y&&Y.size&&ne&&pe!=="hidden"&&!this.isCluster?(ce||(x.halo=ce=J.renderer.path().add(ne.parentGroup)),ce.show()[g?"animate":"attr"]({d:this.haloPath(Y.size)}),ce.attr({class:"highcharts-halo highcharts-color-"+Q(this.colorIndex,x.colorIndex)+(this.className?" "+this.className:""),visibility:pe,zIndex:-1}),ce.point=this,J.styledMode||ce.attr(R({fill:this.color||x.color,"fill-opacity":Y.opacity},c.filterUserAttributes(Y.attributes||{})))):ce&&ce.point&&ce.point.haloPath&&ce.animate({d:ce.point.haloPath(0)},null,ce.hide),$(this,"afterSetState",{state:f})}}haloPath(f){const g=this.pos();return g?this.series.chart.renderer.symbols.circle(Math.floor(g[0])-f,g[1]-f,2*f,2*f):[]}}return w}),s(a,"Core/Pointer.js",[a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(c,d,m){const{parse:n}=c,{charts:S,noop:z}=d,{addEvent:Z,attr:O,css:H,defined:q,extend:L,find:R,fireEvent:$,isNumber:M,isObject:E,objectEach:k,offset:V,pick:G,splat:C}=m;class te{constructor(N,j){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=N,this.hasDragged=!1,this.options=j,this.init(N,j)}applyInactiveState(N){let j=[],W;(N||[]).forEach(function(w){W=w.series,j.push(W),W.linkedParent&&j.push(W.linkedParent),W.linkedSeries&&(j=j.concat(W.linkedSeries)),W.navigatorSeries&&j.push(W.navigatorSeries)}),this.chart.series.forEach(function(w){j.indexOf(w)===-1?w.setState("inactive",!0):w.options.inactiveOtherPoints&&w.setAllPointsToState("inactive")})}destroy(){const N=this;this.eventsToUnbind.forEach(j=>j()),this.eventsToUnbind=[],d.chartCount||(te.unbindDocumentMouseUp&&(te.unbindDocumentMouseUp=te.unbindDocumentMouseUp()),te.unbindDocumentTouchEnd&&(te.unbindDocumentTouchEnd=te.unbindDocumentTouchEnd())),clearInterval(N.tooltipTimeout),k(N,function(j,W){N[W]=void 0})}getSelectionMarkerAttrs(N,j){const W={args:{chartX:N,chartY:j},attrs:{},shapeType:"rect"};return $(this,"getSelectionMarkerAttrs",W,w=>{const{chart:D,mouseDownX:f=0,mouseDownY:g=0,zoomHor:x,zoomVert:P}=this;w=w.attrs;let Y;w.x=D.plotLeft,w.y=D.plotTop,w.width=x?1:D.plotWidth,w.height=P?1:D.plotHeight,x&&(Y=N-f,w.width=Math.abs(Y),w.x=(0<Y?0:Y)+f),P&&(Y=j-g,w.height=Math.abs(Y),w.y=(0<Y?0:Y)+g)}),W}drag(N){const j=this.chart,W=j.options.chart;var w=j.plotLeft;const D=j.plotTop,f=j.plotWidth,g=j.plotHeight,x=this.mouseDownX||0,P=this.mouseDownY||0,Y=E(W.panning)?W.panning&&W.panning.enabled:W.panning,ee=W.panKey&&N[W.panKey+"Key"];let K=N.chartX,he=N.chartY,ge=this.selectionMarker;if((!ge||!ge.touch)&&(K<w?K=w:K>w+f&&(K=w+f),he<D?he=D:he>D+g&&(he=D+g),this.hasDragged=Math.sqrt(Math.pow(x-K,2)+Math.pow(P-he,2)),10<this.hasDragged)){w=j.isInsidePlot(x-w,P-D,{visiblePlotOnly:!0});const{shapeType:Ee,attrs:J}=this.getSelectionMarkerAttrs(K,he);!j.hasCartesianSeries&&!j.mapView||!this.zoomX&&!this.zoomY||!w||ee||ge||(this.selectionMarker=ge=j.renderer[Ee](),ge.attr({class:"highcharts-selection-marker",zIndex:7}).add(),j.styledMode||ge.attr({fill:W.selectionMarkerFill||n("#334eff").setOpacity(.25).get()})),ge&&ge.attr(J),w&&!ge&&Y&&j.pan(N,W.panning)}}dragStart(N){const j=this.chart;j.mouseIsDown=N.type,j.cancelClick=!1,j.mouseDownX=this.mouseDownX=N.chartX,j.mouseDownY=this.mouseDownY=N.chartY}getSelectionBox(N){const j={args:{marker:N},result:{}};return $(this,"getSelectionBox",j,W=>{W.result={x:N.attr?+N.attr("x"):N.x,y:N.attr?+N.attr("y"):N.y,width:N.attr?N.attr("width"):N.width,height:N.attr?N.attr("height"):N.height}}),j.result}drop(N){const j=this,W=this.chart,w=this.hasPinched;if(this.selectionMarker){const{x:D,y:f,width:g,height:x}=this.getSelectionBox(this.selectionMarker),P={originalEvent:N,xAxis:[],yAxis:[],x:D,y:f,width:g,height:x};let Y=!!W.mapView;(this.hasDragged||w)&&(W.axes.forEach(function(ee){if(ee.zoomEnabled&&q(ee.min)&&(w||j[{xAxis:"zoomX",yAxis:"zoomY"}[ee.coll]])&&M(D)&&M(f)&&M(g)&&M(x)){var K=ee.horiz;const he=N.type==="touchend"?ee.minPixelPadding:0,ge=ee.toValue((K?D:f)+he);K=ee.toValue((K?D+g:f+x)-he),P[ee.coll].push({axis:ee,min:Math.min(ge,K),max:Math.max(ge,K)}),Y=!0}}),Y&&$(W,"selection",P,function(ee){W.zoom(L(ee,w?{animation:!1}:null))})),M(W.index)&&(this.selectionMarker=this.selectionMarker.destroy()),w&&this.scaleGroups()}W&&M(W.index)&&(H(W.container,{cursor:W._cursor}),W.cancelClick=10<this.hasDragged,W.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint(N,j,W){let w;return N.forEach(function(D){var f=!(D.noSharedTooltip&&j)&&0>D.options.findNearestPointBy.indexOf("y");if(D=D.searchPoint(W,f),(f=E(D,!0)&&D.series)&&!(f=!E(w,!0))){{f=w.distX-D.distX;const g=w.dist-D.dist,x=(D.series.group&&D.series.group.zIndex)-(w.series.group&&w.series.group.zIndex);f=f!==0&&j?f:g!==0?g:x!==0?x:w.series.index>D.series.index?-1:1}f=0<f}f&&(w=D)}),w}getChartCoordinatesFromPoint(N,j){var W=N.series;const w=W.xAxis;W=W.yAxis;const D=N.shapeArgs;if(w&&W){let f=G(N.clientX,N.plotX),g=N.plotY||0;return N.isNode&&D&&M(D.x)&&M(D.y)&&(f=D.x,g=D.y),j?{chartX:W.len+W.pos-g,chartY:w.len+w.pos-f}:{chartX:f+w.pos,chartY:g+W.pos}}if(D&&D.x&&D.y)return{chartX:D.x,chartY:D.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:N}=this.chart;const j=V(N);this.chartPosition={left:j.left,top:j.top,scaleX:1,scaleY:1};const W=N.offsetWidth;return N=N.offsetHeight,2<W&&2<N&&(this.chartPosition.scaleX=j.width/W,this.chartPosition.scaleY=j.height/N),this.chartPosition}getCoordinates(N){const j={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(W){j[W.isXAxis?"xAxis":"yAxis"].push({axis:W,value:W.toValue(N[W.horiz?"chartX":"chartY"])})}),j}getHoverData(N,j,W,w,D,f){const g=[];w=!(!w||!N);const x=function(K){return K.visible&&!(!D&&K.directTouch)&&G(K.options.enableMouseTracking,!0)};let P,Y={chartX:f?f.chartX:void 0,chartY:f?f.chartY:void 0,shared:D};$(this,"beforeGetHoverData",Y),P=j&&!j.stickyTracking?[j]:W.filter(K=>K.stickyTracking&&(Y.filter||x)(K));const ee=w||!f?N:this.findNearestKDPoint(P,D,f);return j=ee&&ee.series,ee&&(D&&!j.noSharedTooltip?(P=W.filter(function(K){return Y.filter?Y.filter(K):x(K)&&!K.noSharedTooltip}),P.forEach(function(K){let he=R(K.points,function(ge){return ge.x===ee.x&&!ge.isNull});E(he)&&(K.boosted&&K.boost&&(he=K.boost.getPoint(he)),g.push(he))})):g.push(ee)),Y={hoverPoint:ee},$(this,"afterGetHoverData",Y),{hoverPoint:Y.hoverPoint,hoverSeries:j,hoverPoints:g}}getPointFromEvent(N){N=N.target;let j;for(;N&&!j;)j=N.point,N=N.parentNode;return j}onTrackerMouseOut(N){N=N.relatedTarget;const j=this.chart.hoverSeries;this.isDirectTouch=!1,!j||!N||j.stickyTracking||this.inClass(N,"highcharts-tooltip")||this.inClass(N,"highcharts-series-"+j.index)&&this.inClass(N,"highcharts-tracker")||j.onMouseOut()}inClass(N,j){let W;for(;N;){if(W=O(N,"class")){if(W.indexOf(j)!==-1)return!0;if(W.indexOf("highcharts-container")!==-1)return!1}N=N.parentElement}}init(N,j){this.options=j,this.chart=N,this.runChartClick=!(!j.chart.events||!j.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),$(this,"afterInit")}normalize(N,j){var W=N.touches,w=W?W.length?W.item(0):G(W.changedTouches,N.changedTouches)[0]:N;return j||(j=this.getChartPosition()),W=w.pageX-j.left,w=w.pageY-j.top,W/=j.scaleX,w/=j.scaleY,L(N,{chartX:Math.round(W),chartY:Math.round(w)})}onContainerClick(N){const j=this.chart,W=j.hoverPoint;N=this.normalize(N);const w=j.plotLeft,D=j.plotTop;j.cancelClick||(W&&this.inClass(N.target,"highcharts-tracker")?($(W.series,"click",L(N,{point:W})),j.hoverPoint&&W.firePointEvent("click",N)):(L(N,this.getCoordinates(N)),j.isInsidePlot(N.chartX-w,N.chartY-D,{visiblePlotOnly:!0})&&$(j,"click",N)))}onContainerMouseDown(N){const j=((N.buttons||N.button)&1)===1;N=this.normalize(N),d.isFirefox&&N.button!==0&&this.onContainerMouseMove(N),(typeof N.button>"u"||j)&&(this.zoomOption(N),j&&N.preventDefault&&N.preventDefault(),this.dragStart(N))}onContainerMouseLeave(N){const j=S[G(te.hoverChartIndex,-1)];N=this.normalize(N),j&&N.relatedTarget&&!this.inClass(N.relatedTarget,"highcharts-tooltip")&&(j.pointer.reset(),j.pointer.chartPosition=void 0)}onContainerMouseEnter(N){delete this.chartPosition}onContainerMouseMove(N){const j=this.chart,W=j.tooltip;N=this.normalize(N),this.setHoverChartIndex(),(j.mouseIsDown==="mousedown"||this.touchSelect(N))&&this.drag(N),j.openMenu||!this.inClass(N.target,"highcharts-tracker")&&!j.isInsidePlot(N.chartX-j.plotLeft,N.chartY-j.plotTop,{visiblePlotOnly:!0})||W&&W.shouldStickOnContact(N)||(this.inClass(N.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(N))}onDocumentTouchEnd(N){const j=S[G(te.hoverChartIndex,-1)];j&&j.pointer.drop(N)}onContainerTouchMove(N){this.touchSelect(N)?this.onContainerMouseMove(N):this.touch(N)}onContainerTouchStart(N){this.touchSelect(N)?this.onContainerMouseDown(N):(this.zoomOption(N),this.touch(N,!0))}onDocumentMouseMove(N){const j=this.chart,W=j.tooltip,w=this.chartPosition;N=this.normalize(N,w),!w||j.isInsidePlot(N.chartX-j.plotLeft,N.chartY-j.plotTop,{visiblePlotOnly:!0})||W&&W.shouldStickOnContact(N)||this.inClass(N.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(N){const j=S[G(te.hoverChartIndex,-1)];j&&j.pointer.drop(N)}pinch(N){const j=this,W=j.chart,w=j.pinchDown,D=N.touches||[],f=D.length,g=j.lastValidTouch,x=j.hasZoom,P={},Y=f===1&&(j.inClass(N.target,"highcharts-tracker")&&W.runTrackerClick||j.runChartClick),ee={};var K=j.chart.tooltip;K=f===1&&G(K&&K.options.followTouchMove,!0);let he=j.selectionMarker;1<f?j.initiated=!0:K&&(j.initiated=!1),x&&j.initiated&&!Y&&N.cancelable!==!1&&N.preventDefault(),[].map.call(D,function(ge){return j.normalize(ge)}),N.type==="touchstart"?([].forEach.call(D,function(ge,Ee){w[Ee]={chartX:ge.chartX,chartY:ge.chartY}}),g.x=[w[0].chartX,w[1]&&w[1].chartX],g.y=[w[0].chartY,w[1]&&w[1].chartY],W.axes.forEach(function(ge){if(ge.zoomEnabled){const Ee=W.bounds[ge.horiz?"h":"v"],J=ge.minPixelPadding,oe=ge.toPixels(Math.min(G(ge.options.min,ge.dataMin),ge.dataMin)),ce=ge.toPixels(Math.max(G(ge.options.max,ge.dataMax),ge.dataMax)),pe=Math.max(oe,ce);Ee.min=Math.min(ge.pos,Math.min(oe,ce)-J),Ee.max=Math.max(ge.pos+ge.len,pe+J)}}),j.res=!0):K?this.runPointActions(j.normalize(N)):w.length&&($(W,"touchpan",{originalEvent:N},()=>{he||(j.selectionMarker=he=L({destroy:z,touch:!0},W.plotBox)),j.pinchTranslate(w,D,P,he,ee,g),j.hasPinched=x,j.scaleGroups(P,ee)}),j.res&&(j.res=!1,this.reset(!1,0)))}pinchTranslate(N,j,W,w,D,f){this.zoomHor&&this.pinchTranslateDirection(!0,N,j,W,w,D,f),this.zoomVert&&this.pinchTranslateDirection(!1,N,j,W,w,D,f)}pinchTranslateDirection(N,j,W,w,D,f,g,x){const P=this.chart,Y=N?"x":"y",ee=N?"X":"Y",K="chart"+ee,he=N?"width":"height",ge=P["plot"+(N?"Left":"Top")],Ee=P.inverted,J=P.bounds[N?"h":"v"],oe=j.length===1,ce=j[0][K],pe=!oe&&j[1][K];j=function(){typeof ae=="number"&&20<Math.abs(ce-pe)&&(ye=x||Math.abs(_e-ae)/Math.abs(ce-pe)),ne=(ge-_e)/ye+ce,Ce=P["plot"+(N?"Width":"Height")]/ye};let Ce,ne,ye=x||1,_e=W[0][K],ae=!oe&&W[1][K],me;j(),W=ne,W<J.min?(W=J.min,me=!0):W+Ce>J.max&&(W=J.max-Ce,me=!0),me?(_e-=.8*(_e-g[Y][0]),typeof ae=="number"&&(ae-=.8*(ae-g[Y][1])),j()):g[Y]=[_e,ae],Ee||(f[Y]=ne-ge,f[he]=Ce),f=Ee?1/ye:ye,D[he]=Ce,D[Y]=W,w[Ee?N?"scaleY":"scaleX":"scale"+ee]=ye,w["translate"+ee]=f*ge+(_e-f*ce)}reset(N,j){const W=this.chart,w=W.hoverSeries,D=W.hoverPoint,f=W.hoverPoints,g=W.tooltip,x=g&&g.shared?f:D;N&&x&&C(x).forEach(function(P){P.series.isCartesian&&typeof P.plotX>"u"&&(N=!1)}),N?g&&x&&C(x).length&&(g.refresh(x),g.shared&&f?f.forEach(function(P){P.setState(P.state,!0),P.series.isCartesian&&(P.series.xAxis.crosshair&&P.series.xAxis.drawCrosshair(null,P),P.series.yAxis.crosshair&&P.series.yAxis.drawCrosshair(null,P))}):D&&(D.setState(D.state,!0),W.axes.forEach(function(P){P.crosshair&&D.series[P.coll]===P&&P.drawCrosshair(null,D)}))):(D&&D.onMouseOut(),f&&f.forEach(function(P){P.setState()}),w&&w.onMouseOut(),g&&g.hide(j),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),W.axes.forEach(function(P){P.hideCrosshair()}),this.hoverX=W.hoverPoints=W.hoverPoint=null)}runPointActions(N,j,W){const w=this.chart,D=w.tooltip&&w.tooltip.options.enabled?w.tooltip:void 0,f=D?D.shared:!1;let g=j||w.hoverPoint,x=g&&g.series||w.hoverSeries;j=this.getHoverData(g,x,w.series,(!N||N.type!=="touchmove")&&(!!j||x&&x.directTouch&&this.isDirectTouch),f,N),g=j.hoverPoint,x=j.hoverSeries;const P=j.hoverPoints;j=x&&x.tooltipOptions.followPointer&&!x.tooltipOptions.split;const Y=f&&x&&!x.noSharedTooltip;if(g&&(W||g!==w.hoverPoint||D&&D.isHidden)){if((w.hoverPoints||[]).forEach(function(ee){P.indexOf(ee)===-1&&ee.setState()}),w.hoverSeries!==x&&x.onMouseOver(),this.applyInactiveState(P),(P||[]).forEach(function(ee){ee.setState("hover")}),w.hoverPoint&&w.hoverPoint.firePointEvent("mouseOut"),!g.series)return;w.hoverPoints=P,w.hoverPoint=g,g.firePointEvent("mouseOver",void 0,()=>{D&&g&&D.refresh(Y?P:g,N)})}else j&&D&&!D.isHidden&&(W=D.getAnchor([{}],N),w.isInsidePlot(W[0],W[1],{visiblePlotOnly:!0})&&D.updatePosition({plotX:W[0],plotY:W[1]}));this.unDocMouseMove||(this.unDocMouseMove=Z(w.container.ownerDocument,"mousemove",function(ee){const K=S[te.hoverChartIndex];K&&K.pointer.onDocumentMouseMove(ee)}),this.eventsToUnbind.push(this.unDocMouseMove)),w.axes.forEach(function(ee){const K=G((ee.crosshair||{}).snap,!0);let he;K&&((he=w.hoverPoint)&&he.series[ee.coll]===ee||(he=R(P,ge=>ge.series&&ge.series[ee.coll]===ee))),he||!K?ee.drawCrosshair(N,he):ee.hideCrosshair()})}scaleGroups(N,j){const W=this.chart;W.series.forEach(function(w){const D=N||w.getPlotBox();w.group&&(w.xAxis&&w.xAxis.zoomEnabled||W.mapView)&&(w.group.attr(D),w.markerGroup&&(w.markerGroup.attr(D),w.markerGroup.clip(j?W.clipRect:null)),w.dataLabelsGroup&&w.dataLabelsGroup.attr(D))}),W.clipRect.attr(j||W.clipBox)}setDOMEvents(){const N=this.chart.container,j=N.ownerDocument;N.onmousedown=this.onContainerMouseDown.bind(this),N.onmousemove=this.onContainerMouseMove.bind(this),N.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Z(N,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(Z(N,"mouseleave",this.onContainerMouseLeave.bind(this))),te.unbindDocumentMouseUp||(te.unbindDocumentMouseUp=Z(j,"mouseup",this.onDocumentMouseUp.bind(this)));let W=this.chart.renderTo.parentElement;for(;W&&W.tagName!=="BODY";)this.eventsToUnbind.push(Z(W,"scroll",()=>{delete this.chartPosition})),W=W.parentElement;d.hasTouch&&(this.eventsToUnbind.push(Z(N,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(Z(N,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),te.unbindDocumentTouchEnd||(te.unbindDocumentTouchEnd=Z(j,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const N=this.chart,j=d.charts[G(te.hoverChartIndex,-1)];j&&j!==N&&j.pointer.onContainerMouseLeave({relatedTarget:N.container}),j&&j.mouseIsDown||(te.hoverChartIndex=N.index)}touch(N,j){const W=this.chart;let w;this.setHoverChartIndex(),N.touches.length===1?(N=this.normalize(N),W.isInsidePlot(N.chartX-W.plotLeft,N.chartY-W.plotTop,{visiblePlotOnly:!0})&&!W.openMenu?(j&&this.runPointActions(N),N.type==="touchmove"&&(j=this.pinchDown,w=j[0]?4<=Math.sqrt(Math.pow(j[0].chartX-N.chartX,2)+Math.pow(j[0].chartY-N.chartY,2)):!1),G(w,!0)&&this.pinch(N)):j&&this.reset()):N.touches.length===2&&this.pinch(N)}touchSelect(N){return!(!this.chart.options.chart.zooming.singleTouch||!N.touches||N.touches.length!==1)}zoomOption(N){var j=this.chart,W=j.options.chart;j=j.inverted;let w=W.zooming.type||"";/touch/.test(N.type)&&(w=G(W.zooming.pinchType,w)),this.zoomX=N=/x/.test(w),this.zoomY=W=/y/.test(w),this.zoomHor=N&&!j||W&&j,this.zoomVert=W&&!j||N&&j,this.hasZoom=N||W}}return function(Q){const N=[],j=[];Q.compose=function(W){m.pushUnique(j,W)&&Z(W,"beforeRender",function(){this.pointer=new Q(this,this.options)})},Q.dissolve=function(){for(let W=0,w=N.length;W<w;++W)N[W]();N.length=0}}(te||(te={})),te}),s(a,"Core/Legend/Legend.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/FormatUtilities.js"],a["Core/Globals.js"],a["Core/Series/Point.js"],a["Core/Renderer/RendererUtilities.js"],a["Core/Utilities.js"]],function(c,d,m,n,S,z){const{animObject:Z,setAnimation:O}=c,{format:H}=d,{marginNames:q}=m,{distribute:L}=S,{addEvent:R,createElement:$,css:M,defined:E,discardElement:k,find:V,fireEvent:G,isNumber:C,merge:te,pick:Q,relativeLength:N,stableSort:j,syncTimeout:W}=z;class w{constructor(f,g){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=f,this.init(f,g)}init(f,g){this.chart=f,this.setOptions(g),g.enabled&&(this.render(),R(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),R(this.chart,"render",()=>{this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(f){const g=Q(f.padding,8);this.options=f,this.chart.styledMode||(this.itemStyle=f.itemStyle,this.itemHiddenStyle=te(this.itemStyle,f.itemHiddenStyle)),this.itemMarginTop=f.itemMarginTop,this.itemMarginBottom=f.itemMarginBottom,this.padding=g,this.initialItemY=g-5,this.symbolWidth=Q(f.symbolWidth,16),this.pages=[],this.proximate=f.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(f,g){const x=this.chart;this.setOptions(te(!0,this.options,f)),this.destroy(),x.isDirtyLegend=x.isDirtyBox=!0,Q(g,!0)&&x.redraw(),G(this,"afterUpdate")}colorizeItem(f,g){const{group:x,label:P,line:Y,symbol:ee}=f.legendItem||{};if(x&&x[g?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var K=this.options;const he=this.itemHiddenStyle.color;K=g?K.itemStyle.color:he;const ge=g&&f.color||he,Ee=f.options&&f.options.marker;let J={fill:ge};P&&P.css({fill:K}),Y&&Y.attr({stroke:ge}),ee&&(Ee&&ee.isMarker&&(J=f.pointAttribs(),g||(J.stroke=J.fill=he)),ee.attr(J))}G(this,"afterColorizeItem",{item:f,visible:g})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(f){const{group:g,x=0,y:P=0}=f.legendItem||{};var Y=this.options,ee=Y.symbolPadding;const K=!Y.rtl;Y=f.checkbox,g&&g.element&&(ee={translateX:K?x:this.legendWidth-x-2*ee-4,translateY:P},g[E(g.translateY)?"animate":"attr"](ee,void 0,()=>{G(this,"afterPositionItem",{item:f})})),Y&&(Y.x=x,Y.y=P)}destroyItem(f){const g=f.checkbox,x=f.legendItem||{};for(const P of["group","label","line","symbol"])x[P]&&(x[P]=x[P].destroy());g&&k(g),f.legendItem=void 0}destroy(){for(const f of this.getAllItems())this.destroyItem(f);for(const f of"clipRect up down pager nav box title group".split(" "))this[f]&&(this[f]=this[f].destroy());this.display=null}positionCheckboxes(){const f=this.group&&this.group.alignAttr,g=this.clipHeight||this.legendHeight,x=this.titleHeight;let P;f&&(P=f.translateY,this.allItems.forEach(function(Y){const ee=Y.checkbox;let K;ee&&(K=P+x+ee.y+(this.scrollOffset||0)+3,M(ee,{left:f.translateX+Y.checkboxOffset+ee.x-20+"px",top:K+"px",display:this.proximate||K>P-6&&K<P+g-6?"":"none"}))},this))}renderTitle(){var f=this.options;const g=this.padding,x=f.title;let P=0;x.text&&(this.title||(this.title=this.chart.renderer.label(x.text,g-3,g-4,void 0,void 0,void 0,f.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(x.style),this.title.add(this.group)),x.width||this.title.css({width:this.maxLegendWidth+"px"}),f=this.title.getBBox(),P=f.height,this.offsetWidth=f.width,this.contentGroup.attr({translateY:P})),this.titleHeight=P}setText(f){const g=this.options;f.legendItem.label.attr({text:g.labelFormat?H(g.labelFormat,f,this.chart):g.labelFormatter.call(f)})}renderItem(f){const g=f.legendItem=f.legendItem||{};var x=this.chart,P=x.renderer;const Y=this.options,ee=this.symbolWidth,K=Y.symbolPadding||0,he=this.itemStyle,ge=this.itemHiddenStyle,Ee=Y.layout==="horizontal"?Q(Y.itemDistance,20):0,J=!Y.rtl,oe=!f.series,ce=!oe&&f.series.drawLegendSymbol?f.series:f;var pe=ce.options;const Ce=this.createCheckboxForItem&&pe&&pe.showCheckbox,ne=Y.useHTML,ye=f.options.className;let _e=g.label;pe=ee+K+Ee+(Ce?20:0),_e||(g.group=P.g("legend-item").addClass("highcharts-"+ce.type+"-series highcharts-color-"+f.colorIndex+(ye?" "+ye:"")+(oe?" highcharts-series-"+f.index:"")).attr({zIndex:1}).add(this.scrollGroup),g.label=_e=P.text("",J?ee+K:-K,this.baseline||0,ne),x.styledMode||_e.css(te(f.visible?he:ge)),_e.attr({align:J?"left":"right",zIndex:2}).add(g.group),this.baseline||(this.fontMetrics=P.fontMetrics(_e),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,_e.attr("y",this.baseline),this.symbolHeight=Q(Y.symbolHeight,this.fontMetrics.f),Y.squareSymbol&&(this.symbolWidth=Q(Y.symbolWidth,Math.max(this.symbolHeight,16)),pe=this.symbolWidth+K+Ee+(Ce?20:0),J&&_e.attr("x",this.symbolWidth+K))),ce.drawLegendSymbol(this,f),this.setItemEvents&&this.setItemEvents(f,_e,ne)),Ce&&!f.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(f),this.colorizeItem(f,f.visible),!x.styledMode&&he.width||_e.css({width:(Y.itemWidth||this.widthOption||x.spacingBox.width)-pe+"px"}),this.setText(f),x=_e.getBBox(),P=this.fontMetrics&&this.fontMetrics.h||0,f.itemWidth=f.checkboxOffset=Y.itemWidth||g.labelWidth||x.width+pe,this.maxItemWidth=Math.max(this.maxItemWidth,f.itemWidth),this.totalItemWidth+=f.itemWidth,this.itemHeight=f.itemHeight=Math.round(g.labelHeight||(x.height>1.5*P?x.height:P))}layoutItem(f){var g=this.options;const x=this.padding,P=g.layout==="horizontal",Y=f.itemHeight,ee=this.itemMarginBottom,K=this.itemMarginTop,he=P?Q(g.itemDistance,20):0,ge=this.maxLegendWidth;g=g.alignColumns&&this.totalItemWidth>ge?this.maxItemWidth:f.itemWidth;const Ee=f.legendItem||{};P&&this.itemX-x+g>ge&&(this.itemX=x,this.lastLineHeight&&(this.itemY+=K+this.lastLineHeight+ee),this.lastLineHeight=0),this.lastItemY=K+this.itemY+ee,this.lastLineHeight=Math.max(Y,this.lastLineHeight),Ee.x=this.itemX,Ee.y=this.itemY,P?this.itemX+=g:(this.itemY+=K+Y+ee,this.lastLineHeight=Y),this.offsetWidth=this.widthOption||Math.max((P?this.itemX-x-(f.checkbox?0:he):g)+x,this.offsetWidth)}getAllItems(){let f=[];return this.chart.series.forEach(function(g){const x=g&&g.options;g&&Q(x.showInLegend,E(x.linkedTo)?!1:void 0,!0)&&(f=f.concat((g.legendItem||{}).labels||(x.legendType==="point"?g.data:g)))}),G(this,"afterGetAllItems",{allItems:f}),f}getAlignment(){const f=this.options;return this.proximate?f.align.charAt(0)+"tv":f.floating?"":f.align.charAt(0)+f.verticalAlign.charAt(0)+f.layout.charAt(0)}adjustMargins(f,g){const x=this.chart,P=this.options,Y=this.getAlignment();Y&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(ee,K){ee.test(Y)&&!E(f[K])&&(x[q[K]]=Math.max(x[q[K]],x.legend[(K+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][K]*P[K%2?"x":"y"]+Q(P.margin,12)+g[K]+(x.titleOffset[K]||0)))})}proximatePositions(){const f=this.chart,g=[],x=this.options.align==="left";this.allItems.forEach(function(Y){var ee,K=x;let he;Y.yAxis&&(Y.xAxis.options.reversed&&(K=!K),Y.points&&(ee=V(K?Y.points:Y.points.slice(0).reverse(),function(ge){return C(ge.plotY)})),K=this.itemMarginTop+Y.legendItem.label.getBBox().height+this.itemMarginBottom,he=Y.yAxis.top-f.plotTop,Y.visible?(ee=ee?ee.plotY:Y.yAxis.height,ee+=he-.3*K):ee=he+Y.yAxis.height,g.push({target:ee,size:K,item:Y}))},this);let P;for(const Y of L(g,f.plotHeight))P=Y.item.legendItem||{},C(Y.pos)&&(P.y=f.plotTop-f.spacing[0]+Y.pos)}render(){const f=this.chart,g=f.renderer,x=this.options,P=this.padding;var Y=this.getAllItems();let ee,K=this.group,he=this.box;this.itemX=P,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=N(x.width,f.spacingBox.width-P);var ge=f.spacingBox.width-2*P-x.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(ge/=2),this.maxLegendWidth=this.widthOption||ge,K||(this.group=K=g.g("legend").addClass(x.className||"").attr({zIndex:7}).add(),this.contentGroup=g.g().attr({zIndex:1}).add(K),this.scrollGroup=g.g().add(this.contentGroup)),this.renderTitle(),j(Y,(Ee,J)=>(Ee.options&&Ee.options.legendIndex||0)-(J.options&&J.options.legendIndex||0)),x.reversed&&Y.reverse(),this.allItems=Y,this.display=ge=!!Y.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,Y.forEach(this.renderItem,this),Y.forEach(this.layoutItem,this),Y=(this.widthOption||this.offsetWidth)+P,ee=this.lastItemY+this.lastLineHeight+this.titleHeight,ee=this.handleOverflow(ee),ee+=P,he||(this.box=he=g.rect().addClass("highcharts-legend-box").attr({r:x.borderRadius}).add(K)),f.styledMode||he.attr({stroke:x.borderColor,"stroke-width":x.borderWidth||0,fill:x.backgroundColor||"none"}).shadow(x.shadow),0<Y&&0<ee&&he[he.placed?"animate":"attr"](he.crisp.call({},{x:0,y:0,width:Y,height:ee},he.strokeWidth())),K[ge?"show":"hide"](),f.styledMode&&K.getStyle("display")==="none"&&(Y=ee=0),this.legendWidth=Y,this.legendHeight=ee,ge&&this.align(),this.proximate||this.positionItems(),G(this,"afterRender")}align(f=this.chart.spacingBox){const g=this.chart,x=this.options;let P=f.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<g.titleOffset[0]?P+=g.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<g.titleOffset[2]&&(P-=g.titleOffset[2]),P!==f.y&&(f=te(f,{y:P})),g.hasRendered||(this.group.placed=!1),this.group.align(te(x,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":x.verticalAlign}),!0,f)}handleOverflow(f){const g=this,x=this.chart,P=x.renderer,Y=this.options;var ee=Y.y;const K=Y.verticalAlign==="top",he=this.padding,ge=Y.maxHeight,Ee=Y.navigation,J=Q(Ee.animation,!0),oe=Ee.arrowSize||12,ce=this.pages,pe=this.allItems,Ce=function(Re){typeof Re=="number"?we.attr({height:Re}):we&&(g.clipRect=we.destroy(),g.contentGroup.clip()),g.contentGroup.div&&(g.contentGroup.div.style.clip=Re?"rect("+he+"px,9999px,"+(he+Re)+"px,0)":"auto")},ne=function(Re){return g[Re]=P.circle(0,0,1.3*oe).translate(oe/2,oe/2).add(me),x.styledMode||g[Re].attr("fill","rgba(0,0,0,0.0001)"),g[Re]};let ye,_e,ae;ee=x.spacingBox.height+(K?-ee:ee)-he;let me=this.nav,we=this.clipRect;return Y.layout!=="horizontal"||Y.verticalAlign==="middle"||Y.floating||(ee/=2),ge&&(ee=Math.min(ee,ge)),ce.length=0,f&&0<ee&&f>ee&&Ee.enabled!==!1?(this.clipHeight=ye=Math.max(ee-20-this.titleHeight-he,0),this.currentPage=Q(this.currentPage,1),this.fullHeight=f,pe.forEach((Re,Le)=>{ae=Re.legendItem||{},Re=ae.y||0;const Ge=Math.round(ae.label.getBBox().height);let rt=ce.length;(!rt||Re-ce[rt-1]>ye&&(_e||Re)!==ce[rt-1])&&(ce.push(_e||Re),rt++),ae.pageIx=rt-1,_e&&((pe[Le-1].legendItem||{}).pageIx=rt-1),Le===pe.length-1&&Re+Ge-ce[rt-1]>ye&&Re>ce[rt-1]&&(ce.push(Re),ae.pageIx=rt),Re!==_e&&(_e=Re)}),we||(we=g.clipRect=P.clipRect(0,he-2,9999,0),g.contentGroup.clip(we)),Ce(ye),me||(this.nav=me=P.g().attr({zIndex:1}).add(this.group),this.up=P.symbol("triangle",0,0,oe,oe).add(me),ne("upTracker").on("click",function(){g.scroll(-1,J)}),this.pager=P.text("",15,10).addClass("highcharts-legend-navigation"),!x.styledMode&&Ee.style&&this.pager.css(Ee.style),this.pager.add(me),this.down=P.symbol("triangle-down",0,0,oe,oe).add(me),ne("downTracker").on("click",function(){g.scroll(1,J)})),g.scroll(0),f=ee):me&&(Ce(),this.nav=me.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),f}scroll(f,g){const x=this.chart,P=this.pages,Y=P.length,ee=this.clipHeight,K=this.options.navigation,he=this.pager,ge=this.padding;let Ee=this.currentPage+f;Ee>Y&&(Ee=Y),0<Ee&&(typeof g<"u"&&O(g,x),this.nav.attr({translateX:ge,translateY:ee+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(J){J.attr({class:Ee===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),he.attr({text:Ee+"/"+Y}),[this.down,this.downTracker].forEach(function(J){J.attr({x:18+this.pager.getBBox().width,class:Ee===Y?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),x.styledMode||(this.up.attr({fill:Ee===1?K.inactiveColor:K.activeColor}),this.upTracker.css({cursor:Ee===1?"default":"pointer"}),this.down.attr({fill:Ee===Y?K.inactiveColor:K.activeColor}),this.downTracker.css({cursor:Ee===Y?"default":"pointer"})),this.scrollOffset=-P[Ee-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=Ee,this.positionCheckboxes(),f=Z(Q(g,x.renderer.globalAnimation,!0)),W(()=>{G(this,"afterScroll",{currentPage:Ee})},f.duration))}setItemEvents(f,g,x){const P=this,Y=f.legendItem||{},ee=P.chart.renderer.boxWrapper,K=f instanceof n,he="highcharts-legend-"+(K?"point":"series")+"-active",ge=P.chart.styledMode;x=x?[g,Y.symbol]:[Y.group];const Ee=J=>{P.allItems.forEach(oe=>{f!==oe&&[oe].concat(oe.linkedSeries||[]).forEach(ce=>{ce.setState(J,!K)})})};for(const J of x)J&&J.on("mouseover",function(){f.visible&&Ee("inactive"),f.setState("hover"),f.visible&&ee.addClass(he),ge||g.css(P.options.itemHoverStyle)}).on("mouseout",function(){P.chart.styledMode||g.css(te(f.visible?P.itemStyle:P.itemHiddenStyle)),Ee(""),ee.removeClass(he),f.setState()}).on("click",function(oe){const ce=function(){f.setVisible&&f.setVisible(),Ee(f.visible?"inactive":"")};ee.removeClass(he),oe={browserEvent:oe},f.firePointEvent?f.firePointEvent("legendItemClick",oe,ce):G(f,"legendItemClick",oe,ce)})}createCheckboxForItem(f){f.checkbox=$("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:f.selected,defaultChecked:f.selected},this.options.itemCheckboxStyle,this.chart.container),R(f.checkbox,"click",function(g){G(f.series||f,"checkboxClick",{checked:g.target.checked,item:f},function(){f.select()})})}}return function(D){const f=[];D.compose=function(g){z.pushUnique(f,g)&&R(g,"beforeMargins",function(){this.legend=new D(this,this.options.legend)})}}(w||(w={})),w}),s(a,"Core/Series/SeriesRegistry.js",[a["Core/Globals.js"],a["Core/Defaults.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(c,d,m,n){const{defaultOptions:S}=d,{extendClass:z,merge:Z}=n;var O;return function(H){function q(L,R){const $=S.plotOptions||{},M=R.defaultOptions,E=R.prototype;E.type=L,E.pointClass||(E.pointClass=m),M&&($[L]=M),H.seriesTypes[L]=R}H.seriesTypes=c.seriesTypes,H.registerSeriesType=q,H.seriesType=function(L,R,$,M,E){const k=S.plotOptions||{};return R=R||"",k[L]=Z(k[R],$),q(L,z(H.seriesTypes[R]||function(){},M)),H.seriesTypes[L].prototype.type=L,E&&(H.seriesTypes[L].prototype.pointClass=z(m,E)),H.seriesTypes[L]}}(O||(O={})),O}),s(a,"Core/Chart/Chart.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Axis/Axis.js"],a["Core/Defaults.js"],a["Core/FormatUtilities.js"],a["Core/Foundation.js"],a["Core/Globals.js"],a["Core/Renderer/RendererRegistry.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Time.js"],a["Core/Utilities.js"],a["Core/Renderer/HTML/AST.js"]],function(c,d,m,n,S,z,Z,O,H,q,L,R){const{animate:$,animObject:M,setAnimation:E}=c,{defaultOptions:k,defaultTime:V}=m,{numberFormat:G}=n,{registerEventOptions:C}=S,{charts:te,doc:Q,marginNames:N,svg:j,win:W}=z,{seriesTypes:w}=O,{addEvent:D,attr:f,cleanRecursively:g,createElement:x,css:P,defined:Y,discardElement:ee,erase:K,error:he,extend:ge,find:Ee,fireEvent:J,getStyle:oe,isArray:ce,isNumber:pe,isObject:Ce,isString:ne,merge:ye,objectEach:_e,pick:ae,pInt:me,relativeLength:we,removeEvent:Re,splat:Le,syncTimeout:Ge,uniqueKey:rt}=L;class Qe{static chart(Te,Oe,ze){return new Qe(Te,Oe,ze)}constructor(Te,Oe,ze){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(Te,Oe,ze)}getArgs(Te,Oe,ze){ne(Te)||Te.nodeName?(this.renderTo=Te,this.init(Oe,ze)):this.init(Te,Oe)}init(Te,Oe){const ze=Te.plotOptions||{};J(this,"init",{args:arguments},function(){const Xe=ye(k,Te),Je=Xe.chart;_e(Xe.plotOptions,function(bt,It){Ce(bt)&&(bt.tooltip=ze[It]&&ye(ze[It].tooltip)||void 0)}),Xe.tooltip.userOptions=Te.chart&&Te.chart.forExport&&Te.tooltip.userOptions||Te.tooltip,this.userOptions=Te,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=Oe,this.isResizing=0;const pt=Je.zooming=Je.zooming||{};Te.chart&&!Te.chart.zooming&&(pt.resetButton=Je.resetZoomButton),pt.key=ae(pt.key,Je.zoomKey),pt.pinchType=ae(pt.pinchType,Je.pinchType),pt.singleTouch=ae(pt.singleTouch,Je.zoomBySingleTouch),pt.type=ae(pt.type,Je.zoomType),this.options=Xe,this.axes=[],this.series=[],this.time=Te.time&&Object.keys(Te.time).length?new q(Te.time):z.time,this.numberFormatter=Je.numberFormatter||G,this.styledMode=Je.styledMode,this.hasCartesianSeries=Je.showAxes,this.index=te.length,te.push(this),z.chartCount++,C(this,Je),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,J(this,"afterInit"),this.firstRender()})}initSeries(Te){var Oe=this.options.chart;Oe=Te.type||Oe.type;const ze=w[Oe];return ze||he(17,!0,this,{missingModuleFor:Oe}),Oe=new ze,typeof Oe.init=="function"&&Oe.init(this,Te),Oe}setSeriesData(){this.getSeriesOrderByLinks().forEach(function(Te){Te.points||Te.data||!Te.enabledDataSorting||Te.setData(Te.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(Te,Oe){return Te.linkedSeries.length||Oe.linkedSeries.length?Oe.linkedSeries.length-Te.linkedSeries.length:0})}orderSeries(Te){const Oe=this.series;for(let ze=Te||0,Xe=Oe.length;ze<Xe;++ze)Oe[ze]&&(Oe[ze].index=ze,Oe[ze].name=Oe[ze].getName())}isInsidePlot(Te,Oe,ze={}){const{inverted:Xe,plotBox:Je,plotLeft:pt,plotTop:bt,scrollablePlotBox:It}=this;var ui=0;let Ht=0;ze.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:ui,scrollTop:Ht}=this.scrollingContainer);const di=ze.series,Ui=ze.visiblePlotOnly&&It||Je;var zi=ze.inverted?Oe:Te;if(Oe=ze.inverted?Te:Oe,Te={x:zi,y:Oe,isInsidePlot:!0,options:ze},!ze.ignoreX){const Ei=di&&(Xe&&!this.polar?di.yAxis:di.xAxis)||{pos:pt,len:1/0};zi=ze.paneCoordinates?Ei.pos+zi:pt+zi,zi>=Math.max(ui+pt,Ei.pos)&&zi<=Math.min(ui+pt+Ui.width,Ei.pos+Ei.len)||(Te.isInsidePlot=!1)}return!ze.ignoreY&&Te.isInsidePlot&&(ui=!Xe&&ze.axis&&!ze.axis.isXAxis&&ze.axis||di&&(Xe?di.xAxis:di.yAxis)||{pos:bt,len:1/0},ze=ze.paneCoordinates?ui.pos+Oe:bt+Oe,ze>=Math.max(Ht+bt,ui.pos)&&ze<=Math.min(Ht+bt+Ui.height,ui.pos+ui.len)||(Te.isInsidePlot=!1)),J(this,"afterIsInsidePlot",Te),Te.isInsidePlot}redraw(Te){J(this,"beforeRedraw");const Oe=this.hasCartesianSeries?this.axes:this.colorAxis||[],ze=this.series,Xe=this.pointer,Je=this.legend,pt=this.userOptions.legend,bt=this.renderer,It=bt.isHidden(),ui=[];let Ht,di,Ui=this.isDirtyBox,zi=this.isDirtyLegend,Ei;for(bt.rootFontSize=bt.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),E(this.hasRendered?Te:!1,this),It&&this.temporaryDisplay(),this.layOutTitles(),Te=ze.length;Te--;)if(Ei=ze[Te],(Ei.options.stacking||Ei.options.centerInCategory)&&(di=!0,Ei.isDirty)){Ht=!0;break}if(Ht)for(Te=ze.length;Te--;)Ei=ze[Te],Ei.options.stacking&&(Ei.isDirty=!0);ze.forEach(function(Di){Di.isDirty&&(Di.options.legendType==="point"?(typeof Di.updateTotals=="function"&&Di.updateTotals(),zi=!0):pt&&(pt.labelFormatter||pt.labelFormat)&&(zi=!0)),Di.isDirtyData&&J(Di,"updatedData")}),zi&&Je&&Je.options.enabled&&(Je.render(),this.isDirtyLegend=!1),di&&this.getStacks(),Oe.forEach(function(Di){Di.updateNames(),Di.setScale()}),this.getMargins(),Oe.forEach(function(Di){Di.isDirty&&(Ui=!0)}),Oe.forEach(function(Di){const dn=Di.min+","+Di.max;Di.extKey!==dn&&(Di.extKey=dn,ui.push(function(){J(Di,"afterSetExtremes",ge(Di.eventArgs,Di.getExtremes())),delete Di.eventArgs})),(Ui||di)&&Di.redraw()}),Ui&&this.drawChartBox(),J(this,"predraw"),ze.forEach(function(Di){(Ui||Di.isDirty)&&Di.visible&&Di.redraw(),Di.isDirtyData=!1}),Xe&&Xe.reset(!0),bt.draw(),J(this,"redraw"),J(this,"render"),It&&this.temporaryDisplay(!0),ui.forEach(function(Di){Di.call()})}get(Te){function Oe(Je){return Je.id===Te||Je.options&&Je.options.id===Te}const ze=this.series;let Xe=Ee(this.axes,Oe)||Ee(this.series,Oe);for(let Je=0;!Xe&&Je<ze.length;Je++)Xe=Ee(ze[Je].points||[],Oe);return Xe}getAxes(){const Te=this;var Oe=this.options;const ze=Oe.xAxis=Le(Oe.xAxis||{});Oe=Oe.yAxis=Le(Oe.yAxis||{}),J(this,"getAxes"),ze.forEach(function(Xe,Je){Xe.index=Je,Xe.isX=!0}),Oe.forEach(function(Xe,Je){Xe.index=Je}),ze.concat(Oe).forEach(function(Xe){new d(Te,Xe)}),J(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((Te,Oe)=>(Oe.getPointsCollection().forEach(ze=>{ae(ze.selectedStaging,ze.selected)&&Te.push(ze)}),Te),[])}getSelectedSeries(){return this.series.filter(function(Te){return Te.selected})}setTitle(Te,Oe,ze){this.applyDescription("title",Te),this.applyDescription("subtitle",Oe),this.applyDescription("caption",void 0),this.layOutTitles(ze)}applyDescription(Te,Oe){const ze=this;var Xe=Te==="title"?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};Xe=this.options[Te]=ye(!this.styledMode&&{style:Xe},this.options[Te],Oe);let Je=this[Te];Je&&Oe&&(this[Te]=Je=Je.destroy()),Xe&&!Je&&(Je=this.renderer.text(Xe.text,0,0,Xe.useHTML).attr({align:Xe.align,class:"highcharts-"+Te,zIndex:Xe.zIndex||4}).add(),Je.update=function(pt){ze[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[Te]](pt)},this.styledMode||Je.css(Xe.style),this[Te]=Je)}layOutTitles(Te){const Oe=[0,0,0],ze=this.renderer,Xe=this.spacingBox;["title","subtitle","caption"].forEach(function(pt){const bt=this[pt],It=this.options[pt],ui=It.verticalAlign||"top";if(pt=pt==="title"?ui==="top"?-3:0:ui==="top"?Oe[0]+2:0,bt){bt.css({width:(It.width||Xe.width+(It.widthAdjust||0))+"px"});const Ht=ze.fontMetrics(bt).b,di=Math.round(bt.getBBox(It.useHTML).height);bt.align(ge({y:ui==="bottom"?Ht:pt+Ht,height:di},It),!1,"spacingBox"),It.floating||(ui==="top"?Oe[0]=Math.ceil(Oe[0]+di):ui==="bottom"&&(Oe[2]=Math.ceil(Oe[2]+di)))}},this),Oe[0]&&(this.options.title.verticalAlign||"top")==="top"&&(Oe[0]+=this.options.title.margin),Oe[2]&&this.options.caption.verticalAlign==="bottom"&&(Oe[2]+=this.options.caption.margin);const Je=!this.titleOffset||this.titleOffset.join(",")!==Oe.join(",");this.titleOffset=Oe,J(this,"afterLayOutTitles"),!this.isDirtyBox&&Je&&(this.isDirtyBox=this.isDirtyLegend=Je,this.hasRendered&&ae(Te,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:oe(this.renderTo,"width",!0)||0,height:oe(this.renderTo,"height",!0)||0}}getChartSize(){var Te=this.options.chart;const Oe=Te.width;Te=Te.height;const ze=this.getContainerBox();this.chartWidth=Math.max(0,Oe||ze.width||600),this.chartHeight=Math.max(0,we(Te,this.chartWidth)||(1<ze.height?ze.height:400)),this.containerBox=ze}temporaryDisplay(Te){let Oe=this.renderTo;if(Te)for(;Oe&&Oe.style;)Oe.hcOrigStyle&&(P(Oe,Oe.hcOrigStyle),delete Oe.hcOrigStyle),Oe.hcOrigDetached&&(Q.body.removeChild(Oe),Oe.hcOrigDetached=!1),Oe=Oe.parentNode;else for(;Oe&&Oe.style&&(Q.body.contains(Oe)||Oe.parentNode||(Oe.hcOrigDetached=!0,Q.body.appendChild(Oe)),(oe(Oe,"display",!1)==="none"||Oe.hcOricDetached)&&(Oe.hcOrigStyle={display:Oe.style.display,height:Oe.style.height,overflow:Oe.style.overflow},Te={display:"block",overflow:"hidden"},Oe!==this.renderTo&&(Te.height=0),P(Oe,Te),Oe.offsetWidth||Oe.style.setProperty("display","block","important")),Oe=Oe.parentNode,Oe!==Q.body););}setClassName(Te){this.container.className="highcharts-container "+(Te||"")}getContainer(){const Te=this.options,Oe=Te.chart;var ze=rt();let Xe,Je=this.renderTo;Je||(this.renderTo=Je=Oe.renderTo),ne(Je)&&(this.renderTo=Je=Q.getElementById(Je)),Je||he(13,!0,this);var pt=me(f(Je,"data-highcharts-chart"));pe(pt)&&te[pt]&&te[pt].hasRendered&&te[pt].destroy(),f(Je,"data-highcharts-chart",this.index),Je.innerHTML=R.emptyHTML,Oe.skipClone||Je.offsetWidth||this.temporaryDisplay(),this.getChartSize(),pt=this.chartWidth;const bt=this.chartHeight;if(P(Je,{overflow:"hidden"}),this.styledMode||(Xe=ge({position:"relative",overflow:"hidden",width:pt+"px",height:bt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},Oe.style||{})),this.container=ze=x("div",{id:ze},Xe,Je),this._cursor=ze.style.cursor,this.renderer=new(Oe.renderer||!j?Z.getRendererType(Oe.renderer):H)(ze,pt,bt,void 0,Oe.forExport,Te.exporting&&Te.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),E(void 0,this),this.setClassName(Oe.className),this.styledMode)for(const It in Te.defs)this.renderer.definition(Te.defs[It]);else this.renderer.setStyle(Oe.style);this.renderer.chartIndex=this.index,J(this,"afterGetContainer")}getMargins(Te){const{spacing:Oe,margin:ze,titleOffset:Xe}=this;this.resetMargins(),Xe[0]&&!Y(ze[0])&&(this.plotTop=Math.max(this.plotTop,Xe[0]+Oe[0])),Xe[2]&&!Y(ze[2])&&(this.marginBottom=Math.max(this.marginBottom,Xe[2]+Oe[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(ze,Oe),J(this,"getMargins"),Te||this.getAxisMargins()}getAxisMargins(){const Te=this,Oe=Te.axisOffset=[0,0,0,0],ze=Te.colorAxis,Xe=Te.margin,Je=function(pt){pt.forEach(function(bt){bt.visible&&bt.getOffset()})};Te.hasCartesianSeries?Je(Te.axes):ze&&ze.length&&Je(ze),N.forEach(function(pt,bt){Y(Xe[bt])||(Te[pt]+=Oe[bt])}),Te.setChartSize()}reflow(Te){const Oe=this;var ze=Oe.options.chart;ze=Y(ze.width)&&Y(ze.height);const Xe=Oe.containerBox,Je=Oe.getContainerBox();delete Oe.pointer.chartPosition,!ze&&!Oe.isPrinting&&Xe&&Je.width&&((Je.width!==Xe.width||Je.height!==Xe.height)&&(L.clearTimeout(Oe.reflowTimeout),Oe.reflowTimeout=Ge(function(){Oe.container&&Oe.setSize(void 0,void 0,!1)},Te?100:0)),Oe.containerBox=Je)}setReflow(){const Te=this;var Oe=ze=>{var Xe;!((Xe=Te.options)===null||Xe===void 0)&&Xe.chart.reflow&&Te.hasLoaded&&Te.reflow(ze)};typeof ResizeObserver=="function"?new ResizeObserver(Oe).observe(Te.renderTo):(Oe=D(W,"resize",Oe),D(this,"destroy",Oe))}setSize(Te,Oe,ze){const Xe=this,Je=Xe.renderer;Xe.isResizing+=1,E(ze,Xe),ze=Je.globalAnimation,Xe.oldChartHeight=Xe.chartHeight,Xe.oldChartWidth=Xe.chartWidth,typeof Te<"u"&&(Xe.options.chart.width=Te),typeof Oe<"u"&&(Xe.options.chart.height=Oe),Xe.getChartSize(),Xe.styledMode||(ze?$:P)(Xe.container,{width:Xe.chartWidth+"px",height:Xe.chartHeight+"px"},ze),Xe.setChartSize(!0),Je.setSize(Xe.chartWidth,Xe.chartHeight,ze),Xe.axes.forEach(function(pt){pt.isDirty=!0,pt.setScale()}),Xe.isDirtyLegend=!0,Xe.isDirtyBox=!0,Xe.layOutTitles(),Xe.getMargins(),Xe.redraw(ze),Xe.oldChartHeight=null,J(Xe,"resize"),Ge(function(){Xe&&J(Xe,"endResize",null,function(){--Xe.isResizing})},M(ze).duration)}setChartSize(Te){var Oe=this.inverted;const ze=this.renderer;var Xe=this.chartWidth,Je=this.chartHeight;const pt=this.options.chart,bt=this.spacing,It=this.clipOffset;let ui,Ht,di,Ui;this.plotLeft=ui=Math.round(this.plotLeft),this.plotTop=Ht=Math.round(this.plotTop),this.plotWidth=di=Math.max(0,Math.round(Xe-ui-this.marginRight)),this.plotHeight=Ui=Math.max(0,Math.round(Je-Ht-this.marginBottom)),this.plotSizeX=Oe?Ui:di,this.plotSizeY=Oe?di:Ui,this.plotBorderWidth=pt.plotBorderWidth||0,this.spacingBox=ze.spacingBox={x:bt[3],y:bt[0],width:Xe-bt[3]-bt[1],height:Je-bt[0]-bt[2]},this.plotBox=ze.plotBox={x:ui,y:Ht,width:di,height:Ui},Oe=2*Math.floor(this.plotBorderWidth/2),Xe=Math.ceil(Math.max(Oe,It[3])/2),Je=Math.ceil(Math.max(Oe,It[0])/2),this.clipBox={x:Xe,y:Je,width:Math.floor(this.plotSizeX-Math.max(Oe,It[1])/2-Xe),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Oe,It[2])/2-Je))},Te||(this.axes.forEach(function(zi){zi.setAxisSize(),zi.setAxisTranslation()}),ze.alignElements()),J(this,"afterSetChartSize",{skipAxes:Te})}resetMargins(){J(this,"resetMargins");const Te=this,Oe=Te.options.chart;["margin","spacing"].forEach(function(ze){const Xe=Oe[ze],Je=Ce(Xe)?Xe:[Xe,Xe,Xe,Xe];["Top","Right","Bottom","Left"].forEach(function(pt,bt){Te[ze][bt]=ae(Oe[ze+pt],Je[bt])})}),N.forEach(function(ze,Xe){Te[ze]=ae(Te.margin[Xe],Te.spacing[Xe])}),Te.axisOffset=[0,0,0,0],Te.clipOffset=[0,0,0,0]}drawChartBox(){const Te=this.options.chart,Oe=this.renderer,ze=this.chartWidth,Xe=this.chartHeight,Je=this.styledMode,pt=this.plotBGImage;var bt=Te.backgroundColor;const It=Te.plotBackgroundColor,ui=Te.plotBackgroundImage,Ht=this.plotLeft,di=this.plotTop,Ui=this.plotWidth,zi=this.plotHeight,Ei=this.plotBox,Di=this.clipRect,dn=this.clipBox;let Sn=this.chartBackground,Zn=this.plotBackground,kr=this.plotBorder,ms,zs,tn="animate";Sn||(this.chartBackground=Sn=Oe.rect().addClass("highcharts-background").add(),tn="attr"),Je?ms=zs=Sn.strokeWidth():(ms=Te.borderWidth||0,zs=ms+(Te.shadow?8:0),bt={fill:bt||"none"},(ms||Sn["stroke-width"])&&(bt.stroke=Te.borderColor,bt["stroke-width"]=ms),Sn.attr(bt).shadow(Te.shadow)),Sn[tn]({x:zs/2,y:zs/2,width:ze-zs-ms%2,height:Xe-zs-ms%2,r:Te.borderRadius}),tn="animate",Zn||(tn="attr",this.plotBackground=Zn=Oe.rect().addClass("highcharts-plot-background").add()),Zn[tn](Ei),Je||(Zn.attr({fill:It||"none"}).shadow(Te.plotShadow),ui&&(pt?(ui!==pt.attr("href")&&pt.attr("href",ui),pt.animate(Ei)):this.plotBGImage=Oe.image(ui,Ht,di,Ui,zi).add())),Di?Di.animate({width:dn.width,height:dn.height}):this.clipRect=Oe.clipRect(dn),tn="animate",kr||(tn="attr",this.plotBorder=kr=Oe.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),Je||kr.attr({stroke:Te.plotBorderColor,"stroke-width":Te.plotBorderWidth||0,fill:"none"}),kr[tn](kr.crisp({x:Ht,y:di,width:Ui,height:zi},-kr.strokeWidth())),this.isDirtyBox=!1,J(this,"afterDrawChartBox")}propFromSeries(){const Te=this,Oe=Te.options.chart,ze=Te.options.series;let Xe,Je,pt;["inverted","angular","polar"].forEach(function(bt){for(Je=w[Oe.type],pt=Oe[bt]||Je&&Je.prototype[bt],Xe=ze&&ze.length;!pt&&Xe--;)(Je=w[ze[Xe].type])&&Je.prototype[bt]&&(pt=!0);Te[bt]=pt})}linkSeries(Te){const Oe=this,ze=Oe.series;ze.forEach(function(Xe){Xe.linkedSeries.length=0}),ze.forEach(function(Xe){let Je=Xe.options.linkedTo;ne(Je)&&(Je=Je===":previous"?Oe.series[Xe.index-1]:Oe.get(Je))&&Je.linkedParent!==Xe&&(Je.linkedSeries.push(Xe),Xe.linkedParent=Je,Je.enabledDataSorting&&Xe.setDataSortingOptions(),Xe.visible=ae(Xe.options.visible,Je.options.visible,Xe.visible))}),J(this,"afterLinkSeries",{isUpdating:Te})}renderSeries(){this.series.forEach(function(Te){Te.translate(),Te.render()})}render(){const Te=this.axes,Oe=this.colorAxis,ze=this.renderer,Xe=function(Ht){Ht.forEach(function(di){di.visible&&di.render()})};let Je=0;this.setTitle(),J(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const pt=this.plotWidth;Te.some(function(Ht){if(Ht.horiz&&Ht.visible&&Ht.options.labels.enabled&&Ht.series.length)return Je=21,!0});const bt=this.plotHeight=Math.max(this.plotHeight-Je,0);Te.forEach(function(Ht){Ht.setScale()}),this.getAxisMargins();const It=1.1<pt/this.plotWidth,ui=1.05<bt/this.plotHeight;(It||ui)&&(Te.forEach(function(Ht){(Ht.horiz&&It||!Ht.horiz&&ui)&&Ht.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?Xe(Te):Oe&&Oe.length&&Xe(Oe),this.seriesGroup||(this.seriesGroup=ze.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(Te){const Oe=this,ze=ye(!0,this.options.credits,Te);ze.enabled&&!this.credits&&(this.credits=this.renderer.text(ze.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){ze.href&&(W.location.href=ze.href)}).attr({align:ze.position.align,zIndex:8}),Oe.styledMode||this.credits.css(ze.style),this.credits.add().align(ze.position),this.credits.update=function(Xe){Oe.credits=Oe.credits.destroy(),Oe.addCredits(Xe)})}destroy(){const Te=this,Oe=Te.axes,ze=Te.series,Xe=Te.container,Je=Xe&&Xe.parentNode;let pt;for(J(Te,"destroy"),Te.renderer.forExport?K(te,Te):te[Te.index]=void 0,z.chartCount--,Te.renderTo.removeAttribute("data-highcharts-chart"),Re(Te),pt=Oe.length;pt--;)Oe[pt]=Oe[pt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),pt=ze.length;pt--;)ze[pt]=ze[pt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(bt){const It=Te[bt];It&&It.destroy&&(Te[bt]=It.destroy())}),Xe&&(Xe.innerHTML=R.emptyHTML,Re(Xe),Je&&ee(Xe)),_e(Te,function(bt,It){delete Te[It]})}firstRender(){const Te=this,Oe=Te.options;Te.getContainer(),Te.resetMargins(),Te.setChartSize(),Te.propFromSeries(),Te.getAxes(),(ce(Oe.series)?Oe.series:[]).forEach(function(ze){Te.initSeries(ze)}),Te.linkSeries(),Te.setSeriesData(),J(Te,"beforeRender"),Te.render(),Te.pointer.getChartPosition(),!Te.renderer.imgCount&&!Te.hasLoaded&&Te.onload(),Te.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(Te){Te&&typeof this.index<"u"&&Te.apply(this,[this])},this),J(this,"load"),J(this,"render"),Y(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:Te,title:Oe}=this;Te&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(Oe&&Oe.element.textContent||"").replace(/</g,"&lt;")}),Te.accessibility&&Te.accessibility.enabled===!1||he('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(Te,Oe,ze){const Xe=this;let Je;return Te&&(Oe=ae(Oe,!0),J(Xe,"addSeries",{options:Te},function(){Je=Xe.initSeries(Te),Xe.isDirtyLegend=!0,Xe.linkSeries(),Je.enabledDataSorting&&Je.setData(Te.data,!1),J(Xe,"afterAddSeries",{series:Je}),Oe&&Xe.redraw(ze)})),Je}addAxis(Te,Oe,ze,Xe){return this.createAxis(Oe?"xAxis":"yAxis",{axis:Te,redraw:ze,animation:Xe})}addColorAxis(Te,Oe,ze){return this.createAxis("colorAxis",{axis:Te,redraw:Oe,animation:ze})}createAxis(Te,Oe){return Te=new d(this,ye(Oe.axis,{index:this[Te].length,isX:Te==="xAxis"})),ae(Oe.redraw,!0)&&this.redraw(Oe.animation),Te}showLoading(Te){const Oe=this,ze=Oe.options,Xe=ze.loading,Je=function(){pt&&P(pt,{left:Oe.plotLeft+"px",top:Oe.plotTop+"px",width:Oe.plotWidth+"px",height:Oe.plotHeight+"px"})};let pt=Oe.loadingDiv,bt=Oe.loadingSpan;pt||(Oe.loadingDiv=pt=x("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Oe.container)),bt||(Oe.loadingSpan=bt=x("span",{className:"highcharts-loading-inner"},null,pt),D(Oe,"redraw",Je)),pt.className="highcharts-loading",R.setElementHTML(bt,ae(Te,ze.lang.loading,"")),Oe.styledMode||(P(pt,ge(Xe.style,{zIndex:10})),P(bt,Xe.labelStyle),Oe.loadingShown||(P(pt,{opacity:0,display:""}),$(pt,{opacity:Xe.style.opacity||.5},{duration:Xe.showDuration||0}))),Oe.loadingShown=!0,Je()}hideLoading(){const Te=this.options,Oe=this.loadingDiv;Oe&&(Oe.className="highcharts-loading highcharts-loading-hidden",this.styledMode||$(Oe,{opacity:0},{duration:Te.loading.hideDuration||100,complete:function(){P(Oe,{display:"none"})}})),this.loadingShown=!1}update(Te,Oe,ze,Xe){const Je=this,pt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},bt=Te.isResponsiveOptions,It=[];let ui,Ht;J(Je,"update",{options:Te}),bt||Je.setResponsive(!1,!0),Te=g(Te,Je.options),Je.userOptions=ye(Je.userOptions,Te);var di=Te.chart;if(di){if(ye(!0,Je.options.chart,di),"className"in di&&Je.setClassName(di.className),"inverted"in di||"polar"in di||"type"in di){Je.propFromSeries();var Ui=!0}"alignTicks"in di&&(Ui=!0),"events"in di&&C(this,di),_e(di,function(zi,Ei){Je.propsRequireUpdateSeries.indexOf("chart."+Ei)!==-1&&(ui=!0),Je.propsRequireDirtyBox.indexOf(Ei)!==-1&&(Je.isDirtyBox=!0),Je.propsRequireReflow.indexOf(Ei)!==-1&&(bt?Je.isDirtyBox=!0:Ht=!0)}),!Je.styledMode&&di.style&&Je.renderer.setStyle(Je.options.chart.style||{})}!Je.styledMode&&Te.colors&&(this.options.colors=Te.colors),Te.time&&(this.time===V&&(this.time=new q(Te.time)),ye(!0,Je.options.time,Te.time)),_e(Te,function(zi,Ei){Je[Ei]&&typeof Je[Ei].update=="function"?Je[Ei].update(zi,!1):typeof Je[pt[Ei]]=="function"?Je[pt[Ei]](zi):Ei!=="colors"&&Je.collectionsWithUpdate.indexOf(Ei)===-1&&ye(!0,Je.options[Ei],Te[Ei]),Ei!=="chart"&&Je.propsRequireUpdateSeries.indexOf(Ei)!==-1&&(ui=!0)}),this.collectionsWithUpdate.forEach(function(zi){let Ei;Te[zi]&&(Ei=[],Je[zi].forEach(function(Di,dn){Di.options.isInternal||Ei.push(ae(Di.options.index,dn))}),Le(Te[zi]).forEach(function(Di,dn){const Sn=Y(Di.id);let Zn;Sn&&(Zn=Je.get(Di.id)),!Zn&&Je[zi]&&(Zn=Je[zi][Ei?Ei[dn]:dn])&&Sn&&Y(Zn.options.id)&&(Zn=void 0),Zn&&Zn.coll===zi&&(Zn.update(Di,!1),ze&&(Zn.touched=!0)),!Zn&&ze&&Je.collectionsWithInit[zi]&&(Je.collectionsWithInit[zi][0].apply(Je,[Di].concat(Je.collectionsWithInit[zi][1]||[]).concat([!1])).touched=!0)}),ze&&Je[zi].forEach(function(Di){Di.touched||Di.options.isInternal?delete Di.touched:It.push(Di)}))}),It.forEach(function(zi){zi.chart&&zi.remove&&zi.remove(!1)}),Ui&&Je.axes.forEach(function(zi){zi.update({},!1)}),ui&&Je.getSeriesOrderByLinks().forEach(function(zi){zi.chart&&zi.update({},!1)},this),Ui=di&&di.width,di=di&&(ne(di.height)?we(di.height,Ui||Je.chartWidth):di.height),Ht||pe(Ui)&&Ui!==Je.chartWidth||pe(di)&&di!==Je.chartHeight?Je.setSize(Ui,di,Xe):ae(Oe,!0)&&Je.redraw(Xe),J(Je,"afterUpdate",{options:Te,redraw:Oe,animation:Xe})}setSubtitle(Te,Oe){this.applyDescription("subtitle",Te),this.layOutTitles(Oe)}setCaption(Te,Oe){this.applyDescription("caption",Te),this.layOutTitles(Oe)}showResetZoom(){function Te(){Oe.zoomOut()}const Oe=this,ze=k.lang,Xe=Oe.options.chart.zooming.resetButton,Je=Xe.theme,pt=Xe.relativeTo==="chart"||Xe.relativeTo==="spacingBox"?null:"scrollablePlotBox";J(this,"beforeShowResetZoom",null,function(){Oe.resetZoomButton=Oe.renderer.button(ze.resetZoom,null,null,Te,Je).attr({align:Xe.position.align,title:ze.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(Xe.position,!1,pt)}),J(this,"afterShowResetZoom")}zoomOut(){J(this,"selection",{resetSelection:!0},this.zoom)}zoom(Te){const Oe=this,ze=Oe.pointer;let Xe=!1,Je;!Te||Te.resetSelection?(Oe.axes.forEach(function(bt){Je=bt.zoom()}),ze.initiated=!1):Te.xAxis.concat(Te.yAxis).forEach(function(bt){const It=bt.axis;(ze[It.isXAxis?"zoomX":"zoomY"]&&Y(ze.mouseDownX)&&Y(ze.mouseDownY)&&Oe.isInsidePlot(ze.mouseDownX-Oe.plotLeft,ze.mouseDownY-Oe.plotTop,{axis:It})||!Y(Oe.inverted?ze.mouseDownX:ze.mouseDownY))&&(Je=It.zoom(bt.min,bt.max),It.displayBtn&&(Xe=!0))});const pt=Oe.resetZoomButton;Xe&&!pt?Oe.showResetZoom():!Xe&&Ce(pt)&&(Oe.resetZoomButton=pt.destroy()),Je&&Oe.redraw(ae(Oe.options.chart.animation,Te&&Te.animation,100>Oe.pointCount))}pan(Te,Oe){const ze=this,Xe=ze.hoverPoints;Oe=typeof Oe=="object"?Oe:{enabled:Oe,type:"x"};const Je=ze.options.chart;Je&&Je.panning&&(Je.panning=Oe);const pt=Oe.type;let bt;J(this,"pan",{originalEvent:Te},function(){Xe&&Xe.forEach(function(Ht){Ht.setState()});let It=ze.xAxis;pt==="xy"?It=It.concat(ze.yAxis):pt==="y"&&(It=ze.yAxis);const ui={};It.forEach(function(Ht){if(Ht.options.panningEnabled&&!Ht.options.isInternal){var di=Ht.horiz,Ui=Te[di?"chartX":"chartY"];di=di?"mouseDownX":"mouseDownY";var zi=ze[di],Ei=Ht.minPointOffset||0,Di=Ht.reversed&&!ze.inverted||!Ht.reversed&&ze.inverted?-1:1,dn=Ht.getExtremes(),Sn=Ht.toValue(zi-Ui,!0)+Ei*Di,Zn=Ht.toValue(zi+Ht.len-Ui,!0)-(Ei*Di||Ht.isXAxis&&Ht.pointRangePadding||0),kr=Zn<Sn;Di=Ht.hasVerticalPanning(),zi=kr?Zn:Sn,Sn=kr?Sn:Zn;var ms=Ht.panningState;!Di||Ht.isXAxis||ms&&!ms.isDirty||Ht.series.forEach(function(zs){var tn=zs.getProcessedData(!0);tn=zs.getExtremes(tn.yData,!0),ms||(ms={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),pe(tn.dataMin)&&pe(tn.dataMax)&&(ms.startMin=Math.min(ae(zs.options.threshold,1/0),tn.dataMin,ms.startMin),ms.startMax=Math.max(ae(zs.options.threshold,-1/0),tn.dataMax,ms.startMax))}),Di=Math.min(ae(ms&&ms.startMin,dn.dataMin),Ei?dn.min:Ht.toValue(Ht.toPixels(dn.min)-Ht.minPixelPadding)),Zn=Math.max(ae(ms&&ms.startMax,dn.dataMax),Ei?dn.max:Ht.toValue(Ht.toPixels(dn.max)+Ht.minPixelPadding)),Ht.panningState=ms,Ht.isOrdinal||(Ei=Di-zi,0<Ei&&(Sn+=Ei,zi=Di),Ei=Sn-Zn,0<Ei&&(Sn=Zn,zi-=Ei),Ht.series.length&&zi!==dn.min&&Sn!==dn.max&&zi>=Di&&Sn<=Zn&&(Ht.setExtremes(zi,Sn,!1,!1,{trigger:"pan"}),!ze.resetZoomButton&&zi!==Di&&Sn!==Zn&&pt.match("y")&&(ze.showResetZoom(),Ht.displayBtn=!1),bt=!0),ui[di]=Ui)}}),_e(ui,(Ht,di)=>{ze[di]=Ht}),bt&&ze.redraw(!1),P(ze.container,{cursor:"move"})})}}return ge(Qe.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Qe.prototype.addAxis,[!0]],yAxis:[Qe.prototype.addAxis,[!1]],series:[Qe.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),Qe}),s(a,"Core/Legend/LegendSymbol.js",[a["Core/Utilities.js"]],function(c){const{extend:d,merge:m,pick:n}=c;var S;return function(z){z.lineMarker=function(Z,O){O=this.legendItem=this.legendItem||{};var H=this.options;const q=Z.symbolWidth,L=Z.symbolHeight,R=L/2,$=this.chart.renderer,M=O.group;Z=Z.baseline-Math.round(.3*Z.fontMetrics.b);let E={},k=H.marker,V=0;this.chart.styledMode||(E={"stroke-width":Math.min(H.lineWidth||0,24)},H.dashStyle?E.dashstyle=H.dashStyle:H.linecap!=="square"&&(E["stroke-linecap"]="round")),O.line=$.path().addClass("highcharts-graph").attr(E).add(M),E["stroke-linecap"]&&(V=Math.min(O.line.strokeWidth(),q)/2),q&&O.line.attr({d:[["M",V,Z],["L",q-V,Z]]}),k&&k.enabled!==!1&&q&&(H=Math.min(n(k.radius,R),R),this.symbol.indexOf("url")===0&&(k=m(k,{width:L,height:L}),H=0),O.symbol=O=$.symbol(this.symbol,q/2-H,Z-H,2*H,2*H,d({context:"legend"},k)).addClass("highcharts-point").add(M),O.isMarker=!0)},z.rectangle=function(Z,O){O=O.legendItem||{};const H=Z.symbolHeight,q=Z.options.squareSymbol;O.symbol=this.chart.renderer.rect(q?(Z.symbolWidth-H)/2:0,Z.baseline-H+1,q?H:Z.symbolWidth,H,n(Z.options.symbolRadius,H/2)).addClass("highcharts-point").attr({zIndex:3}).add(O.group)}}(S||(S={})),S}),s(a,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:c}=this.series.chart;return typeof this.y!="number"?"":c(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),s(a,"Core/Series/Series.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Defaults.js"],a["Core/Foundation.js"],a["Core/Globals.js"],a["Core/Legend/LegendSymbol.js"],a["Core/Series/Point.js"],a["Core/Series/SeriesDefaults.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(c,d,m,n,S,z,Z,O,H,q){const{animObject:L,setAnimation:R}=c,{defaultOptions:$}=d,{registerEventOptions:M}=m,{hasTouch:E,svg:k,win:V}=n,{seriesTypes:G}=O,{arrayMax:C,arrayMin:te,clamp:Q,cleanRecursively:N,correctFloat:j,defined:W,erase:w,error:D,extend:f,find:g,fireEvent:x,getNestedProperty:P,isArray:Y,isNumber:ee,isString:K,merge:he,objectEach:ge,pick:Ee,removeEvent:J,splat:oe,syncTimeout:ce}=q;class pe{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(ne,ye){x(this,"init",{options:ye});const _e=this,ae=ne.series;this.eventsToUnbind=[],_e.chart=ne,_e.options=_e.setOptions(ye),ye=_e.options,_e.linkedSeries=[],_e.bindAxes(),f(_e,{name:ye.name,state:"",visible:ye.visible!==!1,selected:ye.selected===!0}),M(this,ye);const me=ye.events;(me&&me.click||ye.point&&ye.point.events&&ye.point.events.click||ye.allowPointSelect)&&(ne.runTrackerClick=!0),_e.getColor(),_e.getSymbol(),_e.parallelArrays.forEach(function(Re){_e[Re+"Data"]||(_e[Re+"Data"]=[])}),_e.isCartesian&&(ne.hasCartesianSeries=!0);let we;ae.length&&(we=ae[ae.length-1]),_e._i=Ee(we&&we._i,-1)+1,_e.opacity=_e.options.opacity,ne.orderSeries(this.insert(ae)),ye.dataSorting&&ye.dataSorting.enabled?_e.setDataSortingOptions():_e.points||_e.data||_e.setData(ye.data,!1),x(this,"afterInit")}is(ne){return G[ne]&&this instanceof G[ne]}insert(ne){const ye=this.options.index;let _e;if(ee(ye)){for(_e=ne.length;_e--;)if(ye>=Ee(ne[_e].options.index,ne[_e]._i)){ne.splice(_e+1,0,this);break}_e===-1&&ne.unshift(this),_e+=1}else ne.push(this);return Ee(_e,ne.length-1)}bindAxes(){const ne=this,ye=ne.options,_e=ne.chart;let ae;x(this,"bindAxes",null,function(){(ne.axisTypes||[]).forEach(function(me){let we=0;_e[me].forEach(function(Re){ae=Re.options,(ye[me]===we&&!ae.isInternal||typeof ye[me]<"u"&&ye[me]===ae.id||typeof ye[me]>"u"&&ae.index===0)&&(ne.insert(Re.series),ne[me]=Re,Re.isDirty=!0),ae.isInternal||we++}),ne[me]||ne.optionalAxis===me||D(18,!0,_e)})}),x(this,"afterBindAxes")}updateParallelArrays(ne,ye,_e){const ae=ne.series,me=ee(ye)?function(we){const Re=we==="y"&&ae.toYData?ae.toYData(ne):ne[we];ae[we+"Data"][ye]=Re}:function(we){Array.prototype[ye].apply(ae[we+"Data"],_e)};ae.parallelArrays.forEach(me)}hasData(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length}autoIncrement(ne){var ye=this.options;const _e=ye.pointIntervalUnit,ae=ye.relativeXValue,me=this.chart.time;let we=this.xIncrement,Re;return we=Ee(we,ye.pointStart,0),this.pointInterval=Re=Ee(this.pointInterval,ye.pointInterval,1),ae&&ee(ne)&&(Re*=ne),_e&&(ye=new me.Date(we),_e==="day"?me.set("Date",ye,me.get("Date",ye)+Re):_e==="month"?me.set("Month",ye,me.get("Month",ye)+Re):_e==="year"&&me.set("FullYear",ye,me.get("FullYear",ye)+Re),Re=ye.getTime()-we),ae&&ee(ne)?we+Re:(this.xIncrement=we+Re,we)}setDataSortingOptions(){const ne=this.options;f(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),W(ne.pointRange)||(ne.pointRange=1)}setOptions(ne){var ye=this.chart,_e=ye.options,ae=_e.plotOptions,me=ye.userOptions||{};ne=he(ne),ye=ye.styledMode;const we={plotOptions:ae,userOptions:ne};x(this,"setOptions",we);const Re=we.plotOptions[this.type],Le=me.plotOptions||{};return this.userOptions=we.userOptions,me=he(Re,ae.series,me.plotOptions&&me.plotOptions[this.type],ne),this.tooltipOptions=he($.tooltip,$.plotOptions.series&&$.plotOptions.series.tooltip,$.plotOptions[this.type].tooltip,_e.tooltip.userOptions,ae.series&&ae.series.tooltip,ae[this.type].tooltip,ne.tooltip),this.stickyTracking=Ee(ne.stickyTracking,Le[this.type]&&Le[this.type].stickyTracking,Le.series&&Le.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:me.stickyTracking),Re.marker===null&&delete me.marker,this.zoneAxis=me.zoneAxis,ae=this.zones=(me.zones||[]).slice(),!me.negativeColor&&!me.negativeFillColor||me.zones||(_e={value:me[this.zoneAxis+"Threshold"]||me.threshold||0,className:"highcharts-negative"},ye||(_e.color=me.negativeColor,_e.fillColor=me.negativeFillColor),ae.push(_e)),ae.length&&W(ae[ae.length-1].value)&&ae.push(ye?{}:{color:this.color,fillColor:this.fillColor}),x(this,"afterSetOptions",{options:me}),me}getName(){return Ee(this.options.name,"Series "+(this.index+1))}getCyclic(ne,ye,_e){const ae=this.chart,me=this.userOptions,we=ne+"Index",Re=ne+"Counter",Le=_e?_e.length:Ee(ae.options.chart[ne+"Count"],ae[ne+"Count"]);if(!ye){var Ge=Ee(me[we],me["_"+we]);W(Ge)||(ae.series.length||(ae[Re]=0),me["_"+we]=Ge=ae[Re]%Le,ae[Re]+=1),_e&&(ye=_e[Ge])}typeof Ge<"u"&&(this[we]=Ge),this[ne]=ye}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||$.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(ne,ye){const _e=ne.id,ae=ne.x,me=this.points;var we=this.options.dataSorting,Re;let Le,Ge;if(_e)we=this.chart.get(_e),we instanceof z&&(Re=we);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Re=rt=>!rt.touched&&rt.index===ne.index,we&&we.matchByName?Re=rt=>!rt.touched&&rt.name===ne.name:this.options.relativeXValue&&(Re=rt=>!rt.touched&&rt.options.x===ne.x),Re=g(me,Re),!Re))return;return Re&&(Ge=Re&&Re.index,typeof Ge<"u"&&(Le=!0)),typeof Ge>"u"&&ee(ae)&&(Ge=this.xData.indexOf(ae,ye)),Ge!==-1&&typeof Ge<"u"&&this.cropped&&(Ge=Ge>=this.cropStart?Ge-this.cropStart:Ge),!Le&&ee(Ge)&&me[Ge]&&me[Ge].touched&&(Ge=void 0),Ge}updateData(ne,ye){const _e=this.options,ae=_e.dataSorting,me=this.points,we=[],Re=this.requireSorting,Le=ne.length===me.length;let Ge,rt,Qe,qe=!0;if(this.xIncrement=null,ne.forEach(function(Te,Oe){var ze=W(Te)&&this.pointClass.prototype.optionsToObject.call({series:this},Te)||{};const Xe=ze.x;ze.id||ee(Xe)?(ze=this.findPointIndex(ze,Qe),ze===-1||typeof ze>"u"?we.push(Te):me[ze]&&Te!==_e.data[ze]?(me[ze].update(Te,!1,null,!1),me[ze].touched=!0,Re&&(Qe=ze+1)):me[ze]&&(me[ze].touched=!0),(!Le||Oe!==ze||ae&&ae.enabled||this.hasDerivedData)&&(Ge=!0)):we.push(Te)},this),Ge)for(ne=me.length;ne--;)(rt=me[ne])&&!rt.touched&&rt.remove&&rt.remove(!1,ye);else!Le||ae&&ae.enabled?qe=!1:(ne.forEach(function(Te,Oe){Te===me[Oe].y||me[Oe].destroyed||me[Oe].update(Te,!1,null,!1)}),we.length=0);return me.forEach(function(Te){Te&&(Te.touched=!1)}),qe?(we.forEach(function(Te){this.addPoint(Te,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=C(this.xData),this.autoIncrement()),!0):!1}setData(ne,ye=!0,_e,ae){var me;const we=this,Re=we.points,Le=Re&&Re.length||0,Ge=we.options,rt=we.chart,Qe=Ge.dataSorting,qe=we.xAxis,Te=Ge.turboThreshold,Oe=this.xData,ze=this.yData;var Xe=we.pointArrayMap;Xe=Xe&&Xe.length;const Je=Ge.keys;let pt,bt=0,It=1,ui=null;if(!rt.options.chart.allowMutatingData){Ge.data&&delete we.options.data,we.userOptions.data&&delete we.userOptions.data;var Ht=he(!0,ne)}if(ne=Ht||ne||[],Ht=ne.length,Qe&&Qe.enabled&&(ne=this.sortData(ne)),rt.options.chart.allowMutatingData&&ae!==!1&&Ht&&Le&&!we.cropped&&!we.hasGroupedData&&we.visible&&!we.boosted&&(pt=this.updateData(ne,_e)),!pt){if(we.xIncrement=null,we.colorCounter=0,this.parallelArrays.forEach(function(di){we[di+"Data"].length=0}),Te&&Ht>Te)if(ui=we.getFirstValidPoint(ne),ee(ui))for(_e=0;_e<Ht;_e++)Oe[_e]=this.autoIncrement(),ze[_e]=ne[_e];else if(Y(ui))if(Xe)if(ui.length===Xe)for(_e=0;_e<Ht;_e++)Oe[_e]=this.autoIncrement(),ze[_e]=ne[_e];else for(_e=0;_e<Ht;_e++)ae=ne[_e],Oe[_e]=ae[0],ze[_e]=ae.slice(1,Xe+1);else if(Je&&(bt=Je.indexOf("x"),It=Je.indexOf("y"),bt=0<=bt?bt:0,It=0<=It?It:1),ui.length===1&&(It=0),bt===It)for(_e=0;_e<Ht;_e++)Oe[_e]=this.autoIncrement(),ze[_e]=ne[_e][It];else for(_e=0;_e<Ht;_e++)ae=ne[_e],Oe[_e]=ae[bt],ze[_e]=ae[It];else D(12,!1,rt);else for(_e=0;_e<Ht;_e++)ae={series:we},we.pointClass.prototype.applyOptions.apply(ae,[ne[_e]]),we.updateParallelArrays(ae,_e);for(ze&&K(ze[0])&&D(14,!0,rt),we.data=[],we.options.data=we.userOptions.data=ne,_e=Le;_e--;)(me=Re[_e])===null||me===void 0||me.destroy();qe&&(qe.minRange=qe.userMinRange),we.isDirty=rt.isDirtyBox=!0,we.isDirtyData=!!Re,_e=!1}Ge.legendType==="point"&&(this.processData(),this.generatePoints()),ye&&rt.redraw(_e)}sortData(ne){const ye=this,_e=ye.options.dataSorting.sortKey||"y",ae=function(me,we){return W(we)&&me.pointClass.prototype.optionsToObject.call({series:me},we)||{}};return ne.forEach(function(me,we){ne[we]=ae(ye,me),ne[we].index=we},this),ne.concat().sort((me,we)=>(me=P(_e,me),we=P(_e,we),we<me?-1:we>me?1:0)).forEach(function(me,we){me.x=we},this),ye.linkedSeries&&ye.linkedSeries.forEach(function(me){const we=me.options,Re=we.data;we.dataSorting&&we.dataSorting.enabled||!Re||(Re.forEach(function(Le,Ge){Re[Ge]=ae(me,Le),ne[Ge]&&(Re[Ge].x=ne[Ge].x,Re[Ge].index=Ge)}),me.setData(Re,!1))}),ne}getProcessedData(ne){var ye=this.xAxis,_e=this.options,ae=_e.cropThreshold;const me=ne||this.getExtremesFromAll||_e.getExtremesFromAll,we=this.isCartesian;ne=ye&&ye.val2lin,_e=!(!ye||!ye.logarithmic);let Re=0,Le,Ge,rt,Qe=this.xData,qe=this.yData,Te=this.requireSorting;var Oe=!1;const ze=Qe.length;if(ye&&(Oe=ye.getExtremes(),Ge=Oe.min,rt=Oe.max,Oe=!(!ye.categories||ye.names.length)),we&&this.sorted&&!me&&(!ae||ze>ae||this.forceCrop)){if(Qe[ze-1]<Ge||Qe[0]>rt)Qe=[],qe=[];else if(this.yData&&(Qe[0]<Ge||Qe[ze-1]>rt)){var Xe=this.cropData(this.xData,this.yData,Ge,rt);Qe=Xe.xData,qe=Xe.yData,Re=Xe.start,Xe=!0}}for(ae=Qe.length||1;--ae;)ye=_e?ne(Qe[ae])-ne(Qe[ae-1]):Qe[ae]-Qe[ae-1],0<ye&&(typeof Le>"u"||ye<Le)?Le=ye:0>ye&&Te&&!Oe&&(D(15,!1,this.chart),Te=!1);return{xData:Qe,yData:qe,cropped:Xe,cropStart:Re,closestPointRange:Le}}processData(ne){const ye=this.xAxis;if(this.isCartesian&&!this.isDirty&&!ye.isDirty&&!this.yAxis.isDirty&&!ne)return!1;ne=this.getProcessedData(),this.cropped=ne.cropped,this.cropStart=ne.cropStart,this.processedXData=ne.xData,this.processedYData=ne.yData,this.closestPointRange=this.basePointRange=ne.closestPointRange,x(this,"afterProcessData")}cropData(ne,ye,_e,ae,me){const we=ne.length;let Re,Le=0,Ge=we;for(me=Ee(me,this.cropShoulder),Re=0;Re<we;Re++)if(ne[Re]>=_e){Le=Math.max(0,Re-me);break}for(_e=Re;_e<we;_e++)if(ne[_e]>ae){Ge=_e+me;break}return{xData:ne.slice(Le,Ge),yData:ye.slice(Le,Ge),start:Le,end:Ge}}generatePoints(){var ne=this.options;const ye=this.processedData||ne.data,_e=this.processedXData,ae=this.processedYData,me=this.pointClass,we=_e.length,Re=this.cropStart||0,Le=this.hasGroupedData,Ge=ne.keys,rt=[];ne=ne.dataGrouping&&ne.dataGrouping.groupAll?Re:0;let Qe,qe,Te,Oe=this.data;if(!Oe&&!Le){var ze=[];ze.length=ye.length,Oe=this.data=ze}for(Ge&&Le&&(this.options.keys=!1),Te=0;Te<we;Te++)ze=Re+Te,Le?(qe=new me().init(this,[_e[Te]].concat(oe(ae[Te]))),qe.dataGroup=this.groupMap[ne+Te],qe.dataGroup.options&&(qe.options=qe.dataGroup.options,f(qe,qe.dataGroup.options),delete qe.dataLabels)):(qe=Oe[ze])||typeof ye[ze]>"u"||(Oe[ze]=qe=new me().init(this,ye[ze],_e[Te])),qe&&(qe.index=Le?ne+Te:ze,rt[Te]=qe);if(this.options.keys=Ge,Oe&&(we!==(Qe=Oe.length)||Le))for(Te=0;Te<Qe;Te++)Te!==Re||Le||(Te+=we),Oe[Te]&&(Oe[Te].destroyElements(),Oe[Te].plotX=void 0);this.data=Oe,this.points=rt,x(this,"afterGeneratePoints")}getXExtremes(ne){return{min:te(ne),max:C(ne)}}getExtremes(ne,ye){const _e=this.xAxis;var ae=this.yAxis;const me=this.processedXData||this.xData,we=[],Re=this.requireSorting?this.cropShoulder:0;ae=ae?ae.positiveValuesOnly:!1;let Le,Ge=0,rt=0,Qe=0;ne=ne||this.stackedYData||this.processedYData||[];const qe=ne.length;if(_e){var Te=_e.getExtremes();Ge=Te.min,rt=Te.max}for(Le=0;Le<qe;Le++){var Oe=me[Le];Te=ne[Le];var ze=(ee(Te)||Y(Te))&&(Te.length||0<Te||!ae);if(Oe=ye||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!_e||(me[Le+Re]||Oe)>=Ge&&(me[Le-Re]||Oe)<=rt,ze&&Oe)if(ze=Te.length)for(;ze--;)ee(Te[ze])&&(we[Qe++]=Te[ze]);else we[Qe++]=Te}return ne={activeYData:we,dataMin:te(we),dataMax:C(we)},x(this,"afterGetExtremes",{dataExtremes:ne}),ne}applyExtremes(){const ne=this.getExtremes();return this.dataMin=ne.dataMin,this.dataMax=ne.dataMax,ne}getFirstValidPoint(ne){const ye=ne.length;let _e=0,ae=null;for(;ae===null&&_e<ye;)ae=ne[_e],_e++;return ae}translate(){var ne;this.processedXData||this.processData(),this.generatePoints();const ye=this.options,_e=ye.stacking,ae=this.xAxis,me=ae.categories,we=this.enabledDataSorting,Re=this.yAxis,Le=this.points,Ge=Le.length,rt=this.pointPlacementToXValue(),Qe=!!rt,qe=ye.threshold,Te=ye.startFromThreshold?qe:0,Oe=this.zoneAxis||"y";let ze,Xe,Je,pt,bt=Number.MAX_VALUE;for(ze=0;ze<Ge;ze++){const It=Le[ze],ui=It.x;let Ht,di,Ui=It.y,zi=It.low;const Ei=_e&&((ne=Re.stacking)===null||ne===void 0?void 0:ne.stacks[(this.negStacks&&Ui<(Te?0:qe)?"-":"")+this.stackKey]);Xe=ae.translate(ui,!1,!1,!1,!0,rt),It.plotX=ee(Xe)?j(Q(Xe,-1e5,1e5)):void 0,_e&&this.visible&&Ei&&Ei[ui]&&(pt=this.getStackIndicator(pt,ui,this.index),!It.isNull&&pt.key&&(Ht=Ei[ui],di=Ht.points[pt.key]),Ht&&Y(di)&&(zi=di[0],Ui=di[1],zi===Te&&pt.key===Ei[ui].base&&(zi=Ee(ee(qe)?qe:Re.min)),Re.positiveValuesOnly&&W(zi)&&0>=zi&&(zi=void 0),It.total=It.stackTotal=Ee(Ht.total),It.percentage=W(It.y)&&Ht.total?It.y/Ht.total*100:void 0,It.stackY=Ui,this.irregularWidths||Ht.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),It.yBottom=W(zi)?Q(Re.translate(zi,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(Ui=this.dataModify.modifyValue(Ui,ze));let Di;ee(Ui)&&It.plotX!==void 0&&(Di=Re.translate(Ui,!1,!0,!1,!0),Di=ee(Di)?Q(Di,-1e5,1e5):void 0),It.plotY=Di,It.isInside=this.isPointInside(It),It.clientX=Qe?j(ae.translate(ui,!1,!1,!1,!0,rt)):Xe,It.negative=It[Oe]<(ye[Oe+"Threshold"]||qe||0),It.category=Ee(me&&me[It.x],It.x),It.isNull||It.visible===!1||(typeof Je<"u"&&(bt=Math.min(bt,Math.abs(Xe-Je))),Je=Xe),It.zone=this.zones.length?It.getZone():void 0,!It.graphic&&this.group&&we&&(It.isNew=!0)}this.closestPointRangePx=bt,x(this,"afterTranslate")}getValidPoints(ne,ye,_e){const ae=this.chart;return(ne||this.points||[]).filter(function(me){const{plotX:we,plotY:Re}=me;return!_e&&(me.isNull||!ee(Re))||ye&&!ae.isInsidePlot(we,Re,{inverted:ae.inverted})?!1:me.visible!==!1})}getClipBox(){const{chart:ne,xAxis:ye,yAxis:_e}=this,ae=he(ne.clipBox);return ye&&ye.len!==ne.plotSizeX&&(ae.width=ye.len),_e&&_e.len!==ne.plotSizeY&&(ae.height=_e.len),ae}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:ne,group:ye,markerGroup:_e}=this,ae=ne.sharedClips,me=ne.renderer,we=this.getClipBox(),Re=this.getSharedClipKey();let Le=ae[Re];Le?Le.animate(we):ae[Re]=Le=me.clipRect(we),ye&&ye.clip(this.options.clip===!1?void 0:Le),_e&&_e.clip()}animate(ne){const{chart:ye,group:_e,markerGroup:ae}=this,me=ye.inverted;var we=L(this.options.animation),Re=[this.getSharedClipKey(),we.duration,we.easing,we.defer].join();let Le=ye.sharedClips[Re],Ge=ye.sharedClips[Re+"m"];if(ne&&_e)we=this.getClipBox(),Le?Le.attr("height",we.height):(we.width=0,me&&(we.x=ye.plotHeight),Le=ye.renderer.clipRect(we),ye.sharedClips[Re]=Le,Ge=ye.renderer.clipRect({x:-99,y:-99,width:me?ye.plotWidth+199:99,height:me?99:ye.plotHeight+199}),ye.sharedClips[Re+"m"]=Ge),_e.clip(Le),ae&&ae.clip(Ge);else if(Le&&!Le.hasClass("highcharts-animating")){Re=this.getClipBox();const rt=we.step;ae&&ae.element.childNodes.length&&(we.step=function(Qe,qe){rt&&rt.apply(qe,arguments),qe.prop==="width"&&Ge&&Ge.element&&Ge.attr(me?"height":"width",Qe+99)}),Le.addClass("highcharts-animating").animate(Re,we)}}afterAnimate(){this.setClip(),ge(this.chart.sharedClips,(ne,ye,_e)=>{ne&&!this.chart.container.querySelector(`[clip-path="url(#${ne.id})"]`)&&(ne.destroy(),delete _e[ye])}),this.finishedAnimating=!0,x(this,"afterAnimate")}drawPoints(ne=this.points){const ye=this.chart,_e=ye.styledMode,{colorAxis:ae,options:me}=this,we=me.marker,Re=this[this.specialGroup||"markerGroup"],Le=this.xAxis,Ge=Ee(we.enabled,!Le||Le.isRadial?!0:null,this.closestPointRangePx>=we.enabledThreshold*we.radius);let rt,Qe,qe,Te,Oe,ze;if(we.enabled!==!1||this._hasPointMarkers)for(rt=0;rt<ne.length;rt++){Qe=ne[rt],Te=(qe=Qe.graphic)?"animate":"attr";var Xe=Qe.marker||{};if(Oe=!!Qe.marker,(Ge&&typeof Xe.enabled>"u"||Xe.enabled)&&!Qe.isNull&&Qe.visible!==!1){const Je=Ee(Xe.symbol,this.symbol,"rect");ze=this.markerAttribs(Qe,Qe.selected&&"select"),this.enabledDataSorting&&(Qe.startXPos=Le.reversed?-(ze.width||0):Le.width);const pt=Qe.isInside!==!1;!qe&&pt&&(0<(ze.width||0)||Qe.hasImage)&&(Qe.graphic=qe=ye.renderer.symbol(Je,ze.x,ze.y,ze.width,ze.height,Oe?Xe:we).add(Re),this.enabledDataSorting&&ye.hasRendered&&(qe.attr({x:Qe.startXPos}),Te="animate")),qe&&Te==="animate"&&qe[pt?"show":"hide"](pt).animate(ze),qe&&(Xe=this.pointAttribs(Qe,_e||!Qe.selected?void 0:"select"),_e?ae&&qe.css({fill:Xe.fill}):qe[Te](Xe)),qe&&qe.addClass(Qe.getClassName(),!0)}else qe&&(Qe.graphic=qe.destroy())}}markerAttribs(ne,ye){const _e=this.options;var ae=_e.marker;const me=ne.marker||{},we=me.symbol||ae.symbol,Re={};let Le=Ee(me.radius,ae&&ae.radius);return ye&&(ae=ae.states[ye],ye=me.states&&me.states[ye],Le=Ee(ye&&ye.radius,ae&&ae.radius,Le&&Le+(ae&&ae.radiusPlus||0))),ne.hasImage=we&&we.indexOf("url")===0,ne.hasImage&&(Le=0),ne=ne.pos(),ee(Le)&&ne&&(Re.x=ne[0]-Le,Re.y=ne[1]-Le,_e.crisp&&(Re.x=Math.floor(Re.x))),Le&&(Re.width=Re.height=2*Le),Re}pointAttribs(ne,ye){var _e=this.options.marker,ae=ne&&ne.options;const me=ae&&ae.marker||{};var we=ae&&ae.color,Re=ne&&ne.color;const Le=ne&&ne.zone&&ne.zone.color;let Ge=this.color;return ne=Ee(me.lineWidth,_e.lineWidth),ae=1,Ge=we||Le||Re||Ge,we=me.fillColor||_e.fillColor||Ge,Re=me.lineColor||_e.lineColor||Ge,ye=ye||"normal",_e=_e.states[ye]||{},ye=me.states&&me.states[ye]||{},ne=Ee(ye.lineWidth,_e.lineWidth,ne+Ee(ye.lineWidthPlus,_e.lineWidthPlus,0)),we=ye.fillColor||_e.fillColor||we,Re=ye.lineColor||_e.lineColor||Re,ae=Ee(ye.opacity,_e.opacity,ae),{stroke:Re,"stroke-width":ne,fill:we,opacity:ae}}destroy(ne){const ye=this,_e=ye.chart,ae=/AppleWebKit\/533/.test(V.navigator.userAgent),me=ye.data||[];let we,Re,Le,Ge;for(x(ye,"destroy",{keepEventsForUpdate:ne}),this.removeEvents(ne),(ye.axisTypes||[]).forEach(function(rt){(Ge=ye[rt])&&Ge.series&&(w(Ge.series,ye),Ge.isDirty=Ge.forceRedraw=!0)}),ye.legendItem&&ye.chart.legend.destroyItem(ye),Re=me.length;Re--;)(Le=me[Re])&&Le.destroy&&Le.destroy();ye.clips&&ye.clips.forEach(rt=>rt.destroy()),q.clearTimeout(ye.animationTimeout),ge(ye,function(rt,Qe){rt instanceof H&&!rt.survive&&(we=ae&&Qe==="group"?"hide":"destroy",rt[we]())}),_e.hoverSeries===ye&&(_e.hoverSeries=void 0),w(_e.series,ye),_e.orderSeries(),ge(ye,function(rt,Qe){ne&&Qe==="hcEvents"||delete ye[Qe]})}applyZones(){const ne=this,ye=this.chart,_e=ye.renderer,ae=this.zones,me=this.clips||[],we=this.graph,Re=this.area,Le=Math.max(ye.plotWidth,ye.plotHeight),Ge=this[(this.zoneAxis||"y")+"Axis"],rt=ye.inverted;let Qe,qe,Te,Oe,ze,Xe,Je,pt,bt,It,ui,Ht=!1;ae.length&&(we||Re)&&Ge&&typeof Ge.min<"u"?(ze=Ge.reversed,Xe=Ge.horiz,we&&!this.showLine&&we.hide(),Re&&Re.hide(),Oe=Ge.getExtremes(),ae.forEach(function(di,Ui){Qe=ze?Xe?ye.plotWidth:0:Xe?0:Ge.toPixels(Oe.min)||0,Qe=Q(Ee(qe,Qe),0,Le),qe=Q(Math.round(Ge.toPixels(Ee(di.value,Oe.max),!0)||0),0,Le),Ht&&(Qe=qe=Ge.toPixels(Oe.max)),Je=Math.abs(Qe-qe),pt=Math.min(Qe,qe),bt=Math.max(Qe,qe),Ge.isXAxis?(Te={x:rt?bt:pt,y:0,width:Je,height:Le},Xe||(Te.x=ye.plotHeight-Te.x)):(Te={x:0,y:rt?bt:pt,width:Le,height:Je},Xe&&(Te.y=ye.plotWidth-Te.y)),me[Ui]?me[Ui].animate(Te):me[Ui]=_e.clipRect(Te),It=ne["zone-area-"+Ui],ui=ne["zone-graph-"+Ui],we&&ui&&ui.clip(me[Ui]),Re&&It&&It.clip(me[Ui]),Ht=di.value>Oe.max,ne.resetZones&&qe===0&&(qe=void 0)}),this.clips=me):ne.visible&&(we&&we.show(),Re&&Re.show())}plotGroup(ne,ye,_e,ae,me){let we=this[ne];const Re=!we;return _e={visibility:_e,zIndex:ae||.1},typeof this.opacity>"u"||this.chart.styledMode||this.state==="inactive"||(_e.opacity=this.opacity),Re&&(this[ne]=we=this.chart.renderer.g().add(me)),we.addClass("highcharts-"+ye+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(W(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(we.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),we.attr(_e)[Re?"attr":"animate"](this.getPlotBox(ye)),we}getPlotBox(ne){let ye=this.xAxis,_e=this.yAxis;const ae=this.chart;return ne=ae.inverted&&!ae.polar&&ye&&this.invertible!==!1&&ne==="series",ae.inverted&&(ye=_e,_e=this.xAxis),{translateX:ye?ye.left:ae.plotLeft,translateY:_e?_e.top:ae.plotTop,rotation:ne?90:0,rotationOriginX:ne?(ye.len-_e.len)/2:0,rotationOriginY:ne?(ye.len+_e.len)/2:0,scaleX:ne?-1:1,scaleY:1}}removeEvents(ne){ne||J(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(ye){ye()}),this.eventsToUnbind.length=0)}render(){const ne=this;var ye=ne.chart;const _e=ne.options,ae=L(_e.animation),me=ne.visible?"inherit":"hidden",we=_e.zIndex,Re=ne.hasRendered;ye=ye.seriesGroup;let Le=ne.finishedAnimating?0:ae.duration;x(this,"render"),ne.plotGroup("group","series",me,we,ye),ne.markerGroup=ne.plotGroup("markerGroup","markers",me,we,ye),_e.clip!==!1&&ne.setClip(),ne.animate&&Le&&ne.animate(!0),ne.drawGraph&&(ne.drawGraph(),ne.applyZones()),ne.visible&&ne.drawPoints(),ne.drawDataLabels&&ne.drawDataLabels(),ne.redrawPoints&&ne.redrawPoints(),ne.drawTracker&&ne.options.enableMouseTracking!==!1&&ne.drawTracker(),ne.animate&&Le&&ne.animate(),Re||(Le&&ae.defer&&(Le+=ae.defer),ne.animationTimeout=ce(function(){ne.afterAnimate()},Le||0)),ne.isDirty=!1,ne.hasRendered=!0,x(ne,"afterRender")}redraw(){const ne=this.isDirty||this.isDirtyData;this.translate(),this.render(),ne&&delete this.kdTree}searchPoint(ne,ye){const _e=this.xAxis,ae=this.yAxis,me=this.chart.inverted;return this.searchKDTree({clientX:me?_e.len-ne.chartY+_e.pos:ne.chartX-_e.pos,plotY:me?ae.len-ne.chartX+ae.pos:ne.chartY-ae.pos},ye,ne)}buildKDTree(ne){function ye(me,we,Re){var Le=me&&me.length;let Ge;if(Le)return Ge=_e.kdAxisArray[we%Re],me.sort(function(rt,Qe){return rt[Ge]-Qe[Ge]}),Le=Math.floor(Le/2),{point:me[Le],left:ye(me.slice(0,Le),we+1,Re),right:ye(me.slice(Le+1),we+1,Re)}}this.buildingKdTree=!0;const _e=this,ae=-1<_e.options.findNearestPointBy.indexOf("y")?2:1;delete _e.kdTree,ce(function(){_e.kdTree=ye(_e.getValidPoints(null,!_e.directTouch),ae,ae),_e.buildingKdTree=!1},_e.options.kdNow||ne&&ne.type==="touchstart"?0:1)}searchKDTree(ne,ye,_e){function ae(Ge,rt,Qe,qe){const Te=rt.point;var Oe=me.kdAxisArray[Qe%qe];let ze=Te;var Xe=W(Ge[we])&&W(Te[we])?Math.pow(Ge[we]-Te[we],2):null,Je=W(Ge[Re])&&W(Te[Re])?Math.pow(Ge[Re]-Te[Re],2):null;return Je=(Xe||0)+(Je||0),Te.dist=W(Je)?Math.sqrt(Je):Number.MAX_VALUE,Te.distX=W(Xe)?Math.sqrt(Xe):Number.MAX_VALUE,Oe=Ge[Oe]-Te[Oe],Je=0>Oe?"left":"right",Xe=0>Oe?"right":"left",rt[Je]&&(Je=ae(Ge,rt[Je],Qe+1,qe),ze=Je[Le]<ze[Le]?Je:Te),rt[Xe]&&Math.sqrt(Oe*Oe)<ze[Le]&&(Ge=ae(Ge,rt[Xe],Qe+1,qe),ze=Ge[Le]<ze[Le]?Ge:ze),ze}const me=this,we=this.kdAxisArray[0],Re=this.kdAxisArray[1],Le=ye?"distX":"dist";if(ye=-1<me.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(_e),this.kdTree)return ae(ne,this.kdTree,ye,ye)}pointPlacementToXValue(){const{options:{pointPlacement:ne,pointRange:ye},xAxis:_e}=this;let ae=ne;return ae==="between"&&(ae=_e.reversed?-.5:.5),ee(ae)?ae*(ye||_e.pointRange):0}isPointInside(ne){const{chart:ye,xAxis:_e,yAxis:ae}=this;return typeof ne.plotY<"u"&&typeof ne.plotX<"u"&&0<=ne.plotY&&ne.plotY<=(ae?ae.len:ye.plotHeight)&&0<=ne.plotX&&ne.plotX<=(_e?_e.len:ye.plotWidth)}drawTracker(){const ne=this,ye=ne.options,_e=ye.trackByArea,ae=[].concat(_e?ne.areaPath:ne.graphPath),me=ne.chart,we=me.pointer,Re=me.renderer,Le=me.options.tooltip.snap,Ge=ne.tracker,rt=function(qe){me.hoverSeries!==ne&&ne.onMouseOver()},Qe="rgba(192,192,192,"+(k?1e-4:.002)+")";Ge?Ge.attr({d:ae}):ne.graph&&(ne.tracker=Re.path(ae).attr({visibility:ne.visible?"inherit":"hidden",zIndex:2}).addClass(_e?"highcharts-tracker-area":"highcharts-tracker-line").add(ne.group),me.styledMode||ne.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:Qe,fill:_e?Qe:"none","stroke-width":ne.graph.strokeWidth()+(_e?0:2*Le)}),[ne.tracker,ne.markerGroup,ne.dataLabelsGroup].forEach(function(qe){qe&&(qe.addClass("highcharts-tracker").on("mouseover",rt).on("mouseout",function(Te){we.onTrackerMouseOut(Te)}),ye.cursor&&!me.styledMode&&qe.css({cursor:ye.cursor}),E)&&qe.on("touchstart",rt)})),x(this,"afterDrawTracker")}addPoint(ne,ye,_e,ae,me){const we=this.options,Re=this.data,Le=this.chart;var Ge=this.xAxis;Ge=Ge&&Ge.hasNames&&Ge.names;const rt=we.data,Qe=this.xData;let qe,Te;ye=Ee(ye,!0);const Oe={series:this};this.pointClass.prototype.applyOptions.apply(Oe,[ne]);const ze=Oe.x;if(Te=Qe.length,this.requireSorting&&ze<Qe[Te-1])for(qe=!0;Te&&Qe[Te-1]>ze;)Te--;this.updateParallelArrays(Oe,"splice",[Te,0,0]),this.updateParallelArrays(Oe,Te),Ge&&Oe.name&&(Ge[ze]=Oe.name),rt.splice(Te,0,ne),(qe||this.processedData)&&(this.data.splice(Te,0,null),this.processData()),we.legendType==="point"&&this.generatePoints(),_e&&(Re[0]&&Re[0].remove?Re[0].remove(!1):(Re.shift(),this.updateParallelArrays(Oe,"shift"),rt.shift())),me!==!1&&x(this,"addPoint",{point:Oe}),this.isDirtyData=this.isDirty=!0,ye&&Le.redraw(ae)}removePoint(ne,ye,_e){const ae=this,me=ae.data,we=me[ne],Re=ae.points,Le=ae.chart,Ge=function(){Re&&Re.length===me.length&&Re.splice(ne,1),me.splice(ne,1),ae.options.data.splice(ne,1),ae.updateParallelArrays(we||{series:ae},"splice",[ne,1]),we&&we.destroy(),ae.isDirty=!0,ae.isDirtyData=!0,ye&&Le.redraw()};R(_e,Le),ye=Ee(ye,!0),we?we.firePointEvent("remove",null,Ge):Ge()}remove(ne,ye,_e,ae){function me(){we.destroy(ae),Re.isDirtyLegend=Re.isDirtyBox=!0,Re.linkSeries(ae),Ee(ne,!0)&&Re.redraw(ye)}const we=this,Re=we.chart;_e!==!1?x(we,"remove",null,me):me()}update(ne,ye){ne=N(ne,this.userOptions),x(this,"update",{options:ne});const _e=this,ae=_e.chart;var me=_e.userOptions;const we=_e.initialType||_e.type;var Re=ae.options.plotOptions;const Le=G[we].prototype;var Ge=_e.finishedAnimating&&{animation:!1};const rt={};let Qe,qe=["eventOptions","navigatorSeries","baseSeries"],Te=ne.type||me.type||ae.options.chart.type;const Oe=!(this.hasDerivedData||Te&&Te!==this.type||typeof ne.pointStart<"u"||typeof ne.pointInterval<"u"||typeof ne.relativeXValue<"u"||ne.joinBy||ne.mapData||_e.hasOptionChanged("dataGrouping")||_e.hasOptionChanged("pointStart")||_e.hasOptionChanged("pointInterval")||_e.hasOptionChanged("pointIntervalUnit")||_e.hasOptionChanged("keys"));if(Te=Te||we,Oe&&(qe.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),ne.visible!==!1&&qe.push("area","graph"),_e.parallelArrays.forEach(function(ze){qe.push(ze+"Data")}),ne.data&&(ne.dataSorting&&f(_e.options.dataSorting,ne.dataSorting),this.setData(ne.data,!1))),ne=he(me,Ge,{index:typeof me.index>"u"?_e.index:me.index,pointStart:Ee(Re&&Re.series&&Re.series.pointStart,me.pointStart,_e.xData[0])},!Oe&&{data:_e.options.data},ne),Oe&&ne.data&&(ne.data=_e.options.data),qe=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(qe),qe.forEach(function(ze){qe[ze]=_e[ze],delete _e[ze]}),Re=!1,G[Te]){if(Re=Te!==_e.type,_e.remove(!1,!1,!1,!0),Re)if(Object.setPrototypeOf)Object.setPrototypeOf(_e,G[Te].prototype);else{Ge=Object.hasOwnProperty.call(_e,"hcEvents")&&_e.hcEvents;for(Qe in Le)_e[Qe]=void 0;f(_e,G[Te].prototype),Ge?_e.hcEvents=Ge:delete _e.hcEvents}}else D(17,!0,ae,{missingModuleFor:Te});if(qe.forEach(function(ze){_e[ze]=qe[ze]}),_e.init(ae,ne),Oe&&this.points){if(ne=_e.options,ne.visible===!1)rt.graphic=1,rt.dataLabel=1;else if(!_e._hasPointLabels){const{marker:ze,dataLabels:Xe}=ne;me=me.marker||{},!ze||ze.enabled!==!1&&me.symbol===ze.symbol&&me.height===ze.height&&me.width===ze.width||(rt.graphic=1),Xe&&Xe.enabled===!1&&(rt.dataLabel=1)}for(const ze of this.points)ze&&ze.series&&(ze.resolveColor(),Object.keys(rt).length&&ze.destroyElements(rt),ne.showInLegend===!1&&ze.legendItem&&ae.legend.destroyItem(ze))}_e.initialType=we,ae.linkSeries(),Re&&_e.linkedSeries.length&&(_e.isDirtyData=!0),x(this,"afterUpdate"),Ee(ye,!0)&&ae.redraw(Oe?void 0:!1)}setName(ne){this.name=this.options.name=this.userOptions.name=ne,this.chart.isDirtyLegend=!0}hasOptionChanged(ne){const ye=this.options[ne],_e=this.chart.options.plotOptions,ae=this.userOptions[ne];return ae?ye!==ae:ye!==Ee(_e&&_e[this.type]&&_e[this.type][ne],_e&&_e.series&&_e.series[ne],ye)}onMouseOver(){const ne=this.chart,ye=ne.hoverSeries;ne.pointer.setHoverChartIndex(),ye&&ye!==this&&ye.onMouseOut(),this.options.events.mouseOver&&x(this,"mouseOver"),this.setState("hover"),ne.hoverSeries=this}onMouseOut(){const ne=this.options,ye=this.chart,_e=ye.tooltip,ae=ye.hoverPoint;ye.hoverSeries=null,ae&&ae.onMouseOut(),this&&ne.events.mouseOut&&x(this,"mouseOut"),!_e||this.stickyTracking||_e.shared&&!this.noSharedTooltip||_e.hide(),ye.series.forEach(function(me){me.setState("",!0)})}setState(ne,ye){const _e=this;var ae=_e.options;const me=_e.graph,we=ae.inactiveOtherPoints,Re=ae.states,Le=Ee(Re[ne||"normal"]&&Re[ne||"normal"].animation,_e.chart.options.chart.animation);let Ge=ae.lineWidth,rt=0,Qe=ae.opacity;if(ne=ne||"",_e.state!==ne&&([_e.group,_e.markerGroup,_e.dataLabelsGroup].forEach(function(qe){qe&&(_e.state&&qe.removeClass("highcharts-series-"+_e.state),ne&&qe.addClass("highcharts-series-"+ne))}),_e.state=ne,!_e.chart.styledMode)){if(Re[ne]&&Re[ne].enabled===!1)return;if(ne&&(Ge=Re[ne].lineWidth||Ge+(Re[ne].lineWidthPlus||0),Qe=Ee(Re[ne].opacity,Qe)),me&&!me.dashstyle&&ee(Ge))for(ae={"stroke-width":Ge},me.animate(ae,Le);_e["zone-graph-"+rt];)_e["zone-graph-"+rt].animate(ae,Le),rt+=1;we||[_e.group,_e.markerGroup,_e.dataLabelsGroup,_e.labelBySeries].forEach(function(qe){qe&&qe.animate({opacity:Qe},Le)})}ye&&we&&_e.points&&_e.setAllPointsToState(ne||void 0)}setAllPointsToState(ne){this.points.forEach(function(ye){ye.setState&&ye.setState(ne)})}setVisible(ne,ye){const _e=this,ae=_e.chart,me=ae.options.chart.ignoreHiddenSeries,we=_e.visible,Re=(_e.visible=ne=_e.options.visible=_e.userOptions.visible=typeof ne>"u"?!we:ne)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(Le){_e[Le]&&_e[Le][Re]()}),(ae.hoverSeries===_e||(ae.hoverPoint&&ae.hoverPoint.series)===_e)&&_e.onMouseOut(),_e.legendItem&&ae.legend.colorizeItem(_e,ne),_e.isDirty=!0,_e.options.stacking&&ae.series.forEach(function(Le){Le.options.stacking&&Le.visible&&(Le.isDirty=!0)}),_e.linkedSeries.forEach(function(Le){Le.setVisible(ne,!1)}),me&&(ae.isDirtyBox=!0),x(_e,Re),ye!==!1&&ae.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(ne){this.selected=ne=this.options.selected=typeof ne>"u"?!this.selected:ne,this.checkbox&&(this.checkbox.checked=ne),x(this,ne?"select":"unselect")}shouldShowTooltip(ne,ye,_e={}){return _e.series=this,_e.visiblePlotOnly=!0,this.chart.isInsidePlot(ne,ye,_e)}drawLegendSymbol(ne,ye){var _e;(_e=S[this.options.legendSymbol||"rectangle"])===null||_e===void 0||_e.call(this,ne,ye)}}return pe.defaultOptions=Z,pe.types=O.seriesTypes,pe.registerType=O.registerSeriesType,f(pe.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:z,requireSorting:!0,sorted:!0}),O.series=pe,pe}),s(a,"Extensions/ScrollablePlotArea.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Axis/Axis.js"],a["Core/Chart/Chart.js"],a["Core/Series/Series.js"],a["Core/Renderer/RendererRegistry.js"],a["Core/Utilities.js"]],function(c,d,m,n,S,z){const{stop:Z}=c,{addEvent:O,createElement:H,defined:q,merge:L,pick:R}=z;O(m,"afterSetChartSize",function($){var M=this.options.chart.scrollablePlotArea,E=M&&M.minWidth;M=M&&M.minHeight;let k;this.renderer.forExport||(E?(this.scrollablePixelsX=E=Math.max(0,E-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=L(this.plotBox),this.plotBox.width=this.plotWidth+=E,this.inverted?this.clipBox.height+=E:this.clipBox.width+=E,k={1:{name:"right",value:E}}):M&&(this.scrollablePixelsY=E=Math.max(0,M-this.chartHeight),q(E)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=L(this.plotBox),this.plotBox.height=this.plotHeight+=E,this.inverted?this.clipBox.width+=E:this.clipBox.height+=E,k={2:{name:"bottom",value:E}})),k&&!$.skipAxes&&this.axes.forEach(function(V){k[V.side]?V.getPlotLinePath=function(){let G=k[V.side].name,C=this[G],te;return this[G]=C-k[V.side].value,te=d.prototype.getPlotLinePath.apply(this,arguments),this[G]=C,te}:(V.setAxisSize(),V.setAxisTranslation())}))}),O(m,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),m.prototype.setUpScrolling=function(){const $={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&($.overflowX="auto"),this.scrollablePixelsY&&($.overflowY="auto"),this.scrollingParent=H("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=H("div",{className:"highcharts-scrolling"},$,this.scrollingParent);let M;O(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(M=this.hoverPoint),this.pointer.runPointActions(void 0,M,!0))}),this.innerContainer=H("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},m.prototype.moveFixedElements=function(){let $=this.container,M=this.fixedRenderer,E=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),k;this.scrollablePixelsX&&!this.inverted?k=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?k=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(k=".highcharts-yaxis"),k&&E.push(`${k}:not(.highcharts-radial-axis)`,`${k}-labels:not(.highcharts-radial-axis-labels)`),E.forEach(function(V){[].forEach.call($.querySelectorAll(V),function(G){(G.namespaceURI===M.SVG_NS?M.box:M.box.parentNode).appendChild(G),G.style.pointerEvents="auto"})})},m.prototype.applyFixed=function(){var $=!this.fixedDiv,M=this.options.chart,E=M.scrollablePlotArea,k=S.getRendererType();$?(this.fixedDiv=H("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(M.style&&M.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=M=new k(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=M.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":R(E.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),O(this,"afterShowResetZoom",this.moveFixedElements),O(this,"afterApplyDrilldown",this.moveFixedElements),O(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||$)&&(this.scrollableDirty=!1,this.moveFixedElements()),M=this.chartWidth+(this.scrollablePixelsX||0),k=this.chartHeight+(this.scrollablePixelsY||0),Z(this.container),this.container.style.width=M+"px",this.container.style.height=k+"px",this.renderer.boxWrapper.attr({width:M,height:k,viewBox:[0,0,M,k].join(" ")}),this.chartBackground.attr({width:M,height:k}),this.scrollingContainer.style.height=this.chartHeight+"px",$&&(E.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*E.scrollPositionX),E.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*E.scrollPositionY)),k=this.axisOffset,$=this.plotTop-k[0]-1,E=this.plotLeft-k[3]-1,M=this.plotTop+this.plotHeight+k[2]+1,k=this.plotLeft+this.plotWidth+k[1]+1;let V=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),G=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);$=this.scrollablePixelsX?[["M",0,$],["L",this.plotLeft-1,$],["L",this.plotLeft-1,M],["L",0,M],["Z"],["M",V,$],["L",this.chartWidth,$],["L",this.chartWidth,M],["L",V,M],["Z"]]:this.scrollablePixelsY?[["M",E,0],["L",E,this.plotTop-1],["L",k,this.plotTop-1],["L",k,0],["Z"],["M",E,G],["L",E,this.chartHeight],["L",k,this.chartHeight],["L",k,G],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:$})},O(d,"afterInit",function(){this.chart.scrollableDirty=!0}),O(n,"show",function(){this.chart.scrollableDirty=!0})}),s(a,"Core/Axis/Stacking/StackItem.js",[a["Core/FormatUtilities.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,d,m){const{format:n}=c,{series:S}=d,{destroyObjectProperties:z,fireEvent:Z,isNumber:O,pick:H}=m;class q{constructor(R,$,M,E,k){const V=R.chart.inverted,G=R.reversed;this.axis=R,R=this.isNegative=!!M!=!!G,this.options=$=$||{},this.x=E,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=k,this.rightCliff=this.leftCliff=0,this.alignOptions={align:$.align||(V?R?"left":"right":"center"),verticalAlign:$.verticalAlign||(V?"middle":R?"bottom":"top"),y:$.y,x:$.x},this.textAlign=$.textAlign||(V?R?"right":"left":"center")}destroy(){z(this,this.axis)}render(R){const $=this.axis.chart,M=this.options;var E=M.format;E=E?n(E,this,$):M.formatter.call(this),this.label?this.label.attr({text:E,visibility:"hidden"}):(this.label=$.renderer.label(E,null,void 0,M.shape,void 0,void 0,M.useHTML,!1,"stack-labels"),E={r:M.borderRadius||0,text:E,padding:H(M.padding,5),visibility:"hidden"},$.styledMode||(E.fill=M.backgroundColor,E.stroke=M.borderColor,E["stroke-width"]=M.borderWidth,this.label.css(M.style||{})),this.label.attr(E),this.label.added||this.label.add(R)),this.label.labelrank=$.plotSizeY,Z(this,"afterRender")}setOffset(R,$,M,E,k,V){const{alignOptions:G,axis:C,label:te,options:Q,textAlign:N}=this,j=C.chart;M=this.getStackBox({xOffset:R,width:$,boxBottom:M,boxTop:E,defaultX:k,xAxis:V});var{verticalAlign:W}=G;if(te&&M){E=te.getBBox(),k=te.padding,V=H(Q.overflow,"justify")==="justify",G.x=Q.x||0,G.y=Q.y||0;const{x:w,y:D}=this.adjustStackPosition({labelBox:E,verticalAlign:W,textAlign:N});M.x-=w,M.y-=D,te.align(G,!1,M),(W=j.isInsidePlot(te.alignAttr.x+G.x+w,te.alignAttr.y+G.y+D))||(V=!1),V&&S.prototype.justifyDataLabel.call(C,te,G,te.alignAttr,E,M),te.attr({x:te.alignAttr.x,y:te.alignAttr.y,rotation:Q.rotation,rotationOriginX:E.width/2,rotationOriginY:E.height/2}),H(!V&&Q.crop,!0)&&(W=O(te.x)&&O(te.y)&&j.isInsidePlot(te.x-k+te.width,te.y)&&j.isInsidePlot(te.x+k,te.y)),te[W?"show":"hide"]()}Z(this,"afterSetOffset",{xOffset:R,width:$})}adjustStackPosition({labelBox:R,verticalAlign:$,textAlign:M}){const E={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:R.width/2+R.width/2*E[M],y:R.height/2*E[$]}}getStackBox(R){var $=this.axis;const M=$.chart,{boxTop:E,defaultX:k,xOffset:V,width:G,boxBottom:C}=R;var te=$.stacking.usePercentage?100:H(E,this.total,0);te=$.toPixels(te),R=R.xAxis||M.xAxis[0];const Q=H(k,R.translate(this.x))+V;$=$.toPixels(C||O($.min)&&$.logarithmic&&$.logarithmic.lin2log($.min)||0),$=Math.abs(te-$);const N=this.isNegative;return M.inverted?{x:(N?te:te-$)-M.plotLeft,y:R.height-Q-G,width:$,height:G}:{x:Q+R.transB-M.plotLeft,y:(N?te-$:te)-M.plotTop,width:G,height:$}}}return q}),s(a,"Core/Axis/Stacking/StackingAxis.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Axis/Axis.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Axis/Stacking/StackItem.js"],a["Core/Utilities.js"]],function(c,d,m,n,S){function z(){const f=this,g=f.inverted;f.yAxis.forEach(x=>{x.stacking&&x.stacking.stacks&&x.hasVisibleSeries&&(x.stacking.oldStacks=x.stacking.stacks)}),f.series.forEach(x=>{const P=x.xAxis&&x.xAxis.options||{};!x.options.stacking||x.visible!==!0&&f.options.chart.ignoreHiddenSeries!==!1||(x.stackKey=[x.type,W(x.options.stack,""),g?P.top:P.left,g?P.height:P.width].join())})}function Z(){const f=this.stacking;if(f){var g=f.stacks;j(g,function(x,P){C(x),g[P]=null}),f&&f.stackTotalGroup&&f.stackTotalGroup.destroy()}}function O(){this.coll!=="yAxis"||this.stacking||(this.stacking=new w(this))}function H(f,g,x,P){return!G(f)||f.x!==g||P&&f.stackKey!==P?f={x:g,index:0,key:P,stackKey:P}:f.index++,f.key=[x,g,f.index].join(),f}function q(){const f=this,g=f.stackKey,x=f.yAxis.stacking.stacks,P=f.processedXData,Y=f[f.options.stacking+"Stacker"];let ee;Y&&[g,"-"+g].forEach(K=>{let he=P.length,ge;for(;he--;){var Ee=P[he];ee=f.getStackIndicator(ee,Ee,f.index,K),(ge=(Ee=x[K]&&x[K][Ee])&&Ee.points[ee.key])&&Y.call(f,ge,Ee,he)}})}function L(f,g,x){g=g.total?100/g.total:0,f[0]=V(f[0]*g),f[1]=V(f[1]*g),this.stackedYData[x]=f[1]}function R(){const f=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?E.setStackedPoints.call(this,"group"):f&&j(f.stacks,(g,x)=>{x.slice(-5)==="group"&&(j(g,P=>P.destroy()),delete f.stacks[x])})}function $(f){var g=this.chart;const x=f||this.options.stacking;if(x&&(this.visible===!0||g.options.chart.ignoreHiddenSeries===!1)){var P=this.processedXData,Y=this.processedYData,ee=[],K=Y.length,he=this.options,ge=he.threshold,Ee=W(he.startFromThreshold&&ge,0);he=he.stack,f=f?`${this.type},${x}`:this.stackKey;var J="-"+f,oe=this.negStacks;g=x==="group"?g.yAxis[0]:this.yAxis;var ce=g.stacking.stacks,pe=g.stacking.oldStacks,Ce,ne;for(g.stacking.stacksTouched+=1,ne=0;ne<K;ne++){var ye=P[ne],_e=Y[ne],ae=this.getStackIndicator(ae,ye,this.index),me=ae.key,we=(Ce=oe&&_e<(Ee?0:ge))?J:f;ce[we]||(ce[we]={}),ce[we][ye]||(pe[we]&&pe[we][ye]?(ce[we][ye]=pe[we][ye],ce[we][ye].total=null):ce[we][ye]=new n(g,g.options.stackLabels,!!Ce,ye,he)),we=ce[we][ye],_e!==null?(we.points[me]=we.points[this.index]=[W(we.cumulative,Ee)],G(we.cumulative)||(we.base=me),we.touched=g.stacking.stacksTouched,0<ae.index&&this.singleStacks===!1&&(we.points[me][0]=we.points[this.index+","+ye+",0"][0])):we.points[me]=we.points[this.index]=null,x==="percent"?(Ce=Ce?f:J,oe&&ce[Ce]&&ce[Ce][ye]?(Ce=ce[Ce][ye],we.total=Ce.total=Math.max(Ce.total,we.total)+Math.abs(_e)||0):we.total=V(we.total+(Math.abs(_e)||0))):x==="group"?(Q(_e)&&(_e=_e[0]),_e!==null&&(we.total=(we.total||0)+1)):we.total=V(we.total+(_e||0)),we.cumulative=x==="group"?(we.total||1)-1:V(W(we.cumulative,Ee)+(_e||0)),_e!==null&&(we.points[me].push(we.cumulative),ee[ne]=we.cumulative,we.hasValidPoints=!0)}x==="percent"&&(g.stacking.usePercentage=!0),x!=="group"&&(this.stackedYData=ee),g.stacking.oldStacks={}}}const{getDeferredAnimation:M}=c,{series:{prototype:E}}=m,{addEvent:k,correctFloat:V,defined:G,destroyObjectProperties:C,fireEvent:te,isArray:Q,isNumber:N,objectEach:j,pick:W}=S;class w{constructor(g){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=g}buildStacks(){const g=this.axis,x=g.series,P=g.options.reversedStacks,Y=x.length;let ee,K;for(this.usePercentage=!1,K=Y;K--;)ee=x[P?K:Y-K-1],ee.setStackedPoints(),ee.setGroupedPoints();for(K=0;K<Y;K++)x[K].modifyStacks();te(g,"afterBuildStacks")}cleanStacks(){let g;this.oldStacks&&(g=this.stacks=this.oldStacks),j(g,function(x){j(x,function(P){P.cumulative=P.total})})}resetStacks(){j(this.stacks,g=>{j(g,(x,P)=>{N(x.touched)&&x.touched<this.stacksTouched?(x.destroy(),delete g[P]):(x.total=null,x.cumulative=null)})})}renderStackTotals(){var g=this.axis;const x=g.chart,P=x.renderer,Y=this.stacks;g=M(x,g.options.stackLabels&&g.options.stackLabels.animation||!1);const ee=this.stackTotalGroup=this.stackTotalGroup||P.g("stack-labels").attr({zIndex:6,opacity:0}).add();ee.translate(x.plotLeft,x.plotTop),j(Y,function(K){j(K,function(he){he.render(ee)})}),ee.animate({opacity:1},g)}}var D;return function(f){const g=[];f.compose=function(x,P,Y){S.pushUnique(g,x)&&(k(x,"init",O),k(x,"destroy",Z)),S.pushUnique(g,P)&&(P.prototype.getStacks=z),S.pushUnique(g,Y)&&(x=Y.prototype,x.getStackIndicator=H,x.modifyStacks=q,x.percentStacker=L,x.setGroupedPoints=R,x.setStackedPoints=$)}}(D||(D={})),D}),s(a,"Series/Line/LineSeries.js",[a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,d,m){const{defined:n,merge:S}=m;class z extends c{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const O=this,H=this.options,q=(this.gappedPath||this.getGraphPath).call(this),L=this.chart.styledMode;let R=[["graph","highcharts-graph"]];L||R[0].push(H.lineColor||this.color||"#cccccc",H.dashStyle),R=O.getZonesGraphs(R),R.forEach(function($,M){var E=$[0];let k=O[E];const V=k?"animate":"attr";k?(k.endX=O.preventGraphAnimation?null:q.xMap,k.animate({d:q})):q.length&&(O[E]=k=O.chart.renderer.path(q).addClass($[1]).attr({zIndex:1}).add(O.group)),k&&!L&&(E={stroke:$[2],"stroke-width":H.lineWidth||0,fill:O.fillGraph&&O.color||"none"},$[3]?E.dashstyle=$[3]:H.linecap!=="square"&&(E["stroke-linecap"]=E["stroke-linejoin"]="round"),k[V](E).shadow(2>M&&H.shadow)),k&&(k.startX=q.xMap,k.isArea=q.isArea)})}getGraphPath(O,H,q){const L=this,R=L.options,$=[],M=[];let E,k=R.step;O=O||L.points;const V=O.reversed;return V&&O.reverse(),(k={right:1,center:2}[k]||k&&3)&&V&&(k=4-k),O=this.getValidPoints(O,!1,!(R.connectNulls&&!H&&!q)),O.forEach(function(G,C){const te=G.plotX,Q=G.plotY,N=O[C-1],j=G.isNull||typeof Q!="number";(G.leftCliff||N&&N.rightCliff)&&!q&&(E=!0),j&&!n(H)&&0<C?E=!R.connectNulls:j&&!H?E=!0:(C===0||E?C=[["M",G.plotX,G.plotY]]:L.getPointSpline?C=[L.getPointSpline(O,G,C)]:k?(C=k===1?[["L",N.plotX,Q]]:k===2?[["L",(N.plotX+te)/2,N.plotY],["L",(N.plotX+te)/2,Q]]:[["L",te,N.plotY]],C.push(["L",te,Q])):C=[["L",te,Q]],M.push(G.x),k&&(M.push(G.x),k===2&&M.push(G.x)),$.push.apply($,C),E=!1)}),$.xMap=M,L.graphPath=$}getZonesGraphs(O){return this.zones.forEach(function(H,q){q=["zone-graph-"+q,"highcharts-graph highcharts-zone-graph-"+q+" "+(H.className||"")],this.chart.styledMode||q.push(H.color||this.color,H.dashStyle||this.options.dashStyle),O.push(q)},this),O}}return z.defaultOptions=S(c.defaultOptions,{legendSymbol:"lineMarker"}),d.registerSeriesType("line",z),z}),s(a,"Series/Area/AreaSeries.js",[a["Core/Color/Color.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,d,m){const{parse:n}=c,{seriesTypes:{line:S}}=d,{extend:z,merge:Z,objectEach:O,pick:H}=m;class q extends S{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const R=this,$=this.areaPath,M=this.options,E=[["area","highcharts-area",this.color,M.fillColor]];this.zones.forEach(function(k,V){E.push(["zone-area-"+V,"highcharts-area highcharts-zone-area-"+V+" "+k.className,k.color||R.color,k.fillColor||M.fillColor])}),E.forEach(function(k){const V=k[0],G={};let C=R[V];const te=C?"animate":"attr";C?(C.endX=R.preventGraphAnimation?null:$.xMap,C.animate({d:$})):(G.zIndex=0,C=R[V]=R.chart.renderer.path($).addClass(k[1]).add(R.group),C.isArea=!0),R.chart.styledMode||(G.fill=H(k[3],n(k[2]).setOpacity(H(M.fillOpacity,.75)).get())),C[te](G),C.startX=$.xMap,C.shiftUnit=M.step?2:1})}getGraphPath(R){var $=S.prototype.getGraphPath,M=this.options;const E=M.stacking,k=this.yAxis,V=[],G=[],C=this.index,te=k.stacking.stacks[this.stackKey],Q=M.threshold,N=Math.round(k.getThreshold(M.threshold));M=H(M.connectNulls,E==="percent");var j=function(f,g,x){var P=R[f];f=E&&te[P.x].points[C];const Y=P[x+"Null"]||0;x=P[x+"Cliff"]||0;let ee,K;P=!0,x||Y?(ee=(Y?f[0]:f[1])+x,K=f[0]+x,P=!!Y):!E&&R[g]&&R[g].isNull&&(ee=K=Q),typeof ee<"u"&&(G.push({plotX:W,plotY:ee===null?N:k.getThreshold(ee),isNull:P,isCliff:!0}),V.push({plotX:W,plotY:K===null?N:k.getThreshold(K),doCurve:!1}))};let W;R=R||this.points,E&&(R=this.getStackPoints(R));for(let f=0,g=R.length;f<g;++f){E||(R[f].leftCliff=R[f].rightCliff=R[f].leftNull=R[f].rightNull=void 0);var w=R[f].isNull;W=H(R[f].rectPlotX,R[f].plotX);var D=E?H(R[f].yBottom,N):N;(!w||M)&&(M||j(f,f-1,"left"),w&&!E&&M||(G.push(R[f]),V.push({x:f,plotX:W,plotY:D})),M||j(f,f+1,"right"))}return j=$.call(this,G,!0,!0),V.reversed=!0,w=$.call(this,V,!0,!0),(D=w[0])&&D[0]==="M"&&(w[0]=["L",D[1],D[2]]),w=j.concat(w),w.length&&w.push(["Z"]),$=$.call(this,G,!1,M),w.xMap=j.xMap,this.areaPath=w,$}getStackPoints(R){const $=this,M=[],E=[],k=this.xAxis,V=this.yAxis,G=V.stacking.stacks[this.stackKey],C={},te=V.series,Q=te.length,N=V.options.reversedStacks?1:-1,j=te.indexOf($);if(R=R||this.points,this.options.stacking){for(let w=0;w<R.length;w++)R[w].leftNull=R[w].rightNull=void 0,C[R[w].x]=R[w];O(G,function(w,D){w.total!==null&&E.push(D)}),E.sort(function(w,D){return w-D});const W=te.map(w=>w.visible);E.forEach(function(w,D){let f=0,g,x;if(C[w]&&!C[w].isNull)M.push(C[w]),[-1,1].forEach(function(P){const Y=P===1?"rightNull":"leftNull",ee=G[E[D+P]];let K=0;if(ee){let he=j;for(;0<=he&&he<Q;){const ge=te[he].index;g=ee.points[ge],g||(ge===$.index?C[w][Y]=!0:W[he]&&(x=G[w].points[ge])&&(K-=x[1]-x[0])),he+=N}}C[w][P===1?"rightCliff":"leftCliff"]=K});else{let P=j;for(;0<=P&&P<Q;){if(g=G[w].points[te[P].index]){f=g[1];break}P+=N}f=H(f,0),f=V.translate(f,0,1,0,1),M.push({isNull:!0,plotX:k.translate(w,0,0,0,1),x:w,plotY:f,yBottom:f})}})}return M}}return q.defaultOptions=Z(S.defaultOptions,{threshold:0,legendSymbol:"rectangle"}),z(q.prototype,{singleStacks:!1}),d.registerSeriesType("area",q),q}),s(a,"Series/Spline/SplineSeries.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,d){const{line:m}=c.seriesTypes,{merge:n,pick:S}=d;class z extends m{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(O,H,q){const L=H.plotX||0,R=H.plotY||0,$=O[q-1];q=O[q+1];let M,E,k;if($&&!$.isNull&&$.doCurve!==!1&&!H.isCliff&&q&&!q.isNull&&q.doCurve!==!1&&!H.isCliff){O=$.plotY||0;var V=q.plotX||0;q=q.plotY||0;let G=0;M=(1.5*L+($.plotX||0))/2.5,E=(1.5*R+O)/2.5,V=(1.5*L+V)/2.5,k=(1.5*R+q)/2.5,V!==M&&(G=(k-E)*(V-L)/(V-M)+R-k),E+=G,k+=G,E>O&&E>R?(E=Math.max(O,R),k=2*R-E):E<O&&E<R&&(E=Math.min(O,R),k=2*R-E),k>q&&k>R?(k=Math.max(q,R),E=2*R-k):k<q&&k<R&&(k=Math.min(q,R),E=2*R-k),H.rightContX=V,H.rightContY=k}return H=["C",S($.rightContX,$.plotX,0),S($.rightContY,$.plotY,0),S(M,L,0),S(E,R,0),L,R],$.rightContX=$.rightContY=void 0,H}}return z.defaultOptions=n(m.defaultOptions),c.registerSeriesType("spline",z),z}),s(a,"Series/AreaSpline/AreaSplineSeries.js",[a["Series/Spline/SplineSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,d,m){const{area:n,area:{prototype:S}}=d.seriesTypes,{extend:z,merge:Z}=m;class O extends c{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return O.defaultOptions=Z(c.defaultOptions,n.defaultOptions),z(O.prototype,{getGraphPath:S.getGraphPath,getStackPoints:S.getStackPoints,drawGraph:S.drawGraph}),d.registerSeriesType("areaspline",O),O}),s(a,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),s(a,"Series/Column/ColumnSeries.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Color/Color.js"],a["Series/Column/ColumnSeriesDefaults.js"],a["Core/Globals.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,d,m,n,S,z,Z){const{animObject:O}=c,{parse:H}=d,{hasTouch:q,noop:L}=n,{clamp:R,defined:$,extend:M,fireEvent:E,isArray:k,isNumber:V,merge:G,pick:C,objectEach:te}=Z;class Q extends S{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(j){const W=this,w=this.yAxis,D=w.pos,f=W.options,g=this.chart.inverted,x={},P=g?"translateX":"translateY";let Y;j?(x.scaleY=.001,j=R(w.toPixels(f.threshold),D,D+w.len),g?x.translateX=j-w.len:x.translateY=j,W.clipBox&&W.setClip(),W.group.attr(x)):(Y=Number(W.group.attr(P)),W.group.animate({scaleY:1},M(O(W.options.animation),{step:function(ee,K){W.group&&(x[P]=Y+K.pos*(D-Y),W.group.attr(x))}})))}init(j,W){super.init.apply(this,arguments);const w=this;j=w.chart,j.hasRendered&&j.series.forEach(function(D){D.type===w.type&&(D.isDirty=!0)})}getColumnMetrics(){const j=this;var W=j.options;const w=j.xAxis,D=j.yAxis;var f=w.options.reversedStacks;f=w.reversed&&!f||!w.reversed&&f;const g={};let x,P=0;W.grouping===!1?P=1:j.chart.series.forEach(function(he){const ge=he.yAxis,Ee=he.options;let J;he.type!==j.type||!he.visible&&j.chart.options.chart.ignoreHiddenSeries||D.len!==ge.len||D.pos!==ge.pos||(Ee.stacking&&Ee.stacking!=="group"?(x=he.stackKey,typeof g[x]>"u"&&(g[x]=P++),J=g[x]):Ee.grouping!==!1&&(J=P++),he.columnIndex=J)});const Y=Math.min(Math.abs(w.transA)*(w.ordinal&&w.ordinal.slope||W.pointRange||w.closestPointRange||w.tickInterval||1),w.len),ee=Y*W.groupPadding,K=(Y-2*ee)/(P||1);return W=Math.min(W.maxPointWidth||w.len,C(W.pointWidth,K*(1-2*W.pointPadding))),j.columnMetrics={width:W,offset:(K-W)/2+(ee+((j.columnIndex||0)+(f?1:0))*K-Y/2)*(f?-1:1),paddedWidth:K,columnCount:P},j.columnMetrics}crispCol(j,W,w,D){var f=this.borderWidth,g=-(f%2?.5:0);return f=f%2?.5:1,this.options.crisp&&(w=Math.round(j+w)+g,j=Math.round(j)+g,w-=j),D=Math.round(W+D)+f,g=.5>=Math.abs(W)&&.5<D,W=Math.round(W)+f,D-=W,g&&D&&(--W,D+=1),{x:j,y:W,width:w,height:D}}adjustForMissingColumns(j,W,w,D){const f=this.options.stacking;if(!w.isNull&&1<D.columnCount){const g=this.yAxis.options.reversedStacks;let x=0,P=g?0:-D.columnCount;te(this.yAxis.stacking&&this.yAxis.stacking.stacks,Y=>{if(typeof w.x=="number"){const ee=Y[w.x.toString()];ee&&(Y=ee.points[this.index],f?(Y&&(x=P),ee.hasValidPoints&&(g?P++:P--)):k(Y)&&(Y=Object.keys(ee.points).filter(K=>!K.match(",")&&ee.points[K]&&1<ee.points[K].length).map(parseFloat).sort((K,he)=>he-K),x=Y.indexOf(this.index),P=Y.length))}}),j=(w.plotX||0)+((P-1)*D.paddedWidth+W)/2-W-x*D.paddedWidth}return j}translate(){const j=this,W=j.chart,w=j.options;var D=j.dense=2>j.closestPointRange*j.xAxis.transA;D=j.borderWidth=C(w.borderWidth,D?0:1);const f=j.xAxis,g=j.yAxis,x=w.threshold,P=C(w.minPointLength,5),Y=j.getColumnMetrics(),ee=Y.width,K=j.pointXOffset=Y.offset,he=j.dataMin,ge=j.dataMax;let Ee=j.barW=Math.max(ee,1+2*D),J=j.translatedThreshold=g.getThreshold(x);W.inverted&&(J-=.5),w.pointPadding&&(Ee=Math.ceil(Ee)),S.prototype.translate.apply(j),j.points.forEach(function(oe){const ce=C(oe.yBottom,J);var pe=999+Math.abs(ce),Ce=oe.plotX||0;pe=R(oe.plotY,-pe,g.len+pe);let ne=Math.min(pe,ce),ye=Math.max(pe,ce)-ne,_e=ee,ae=Ce+K,me=Ee;P&&Math.abs(ye)<P&&(ye=P,Ce=!g.reversed&&!oe.negative||g.reversed&&oe.negative,V(x)&&V(ge)&&oe.y===x&&ge<=x&&(g.min||0)<x&&(he!==ge||(g.max||0)<=x)&&(Ce=!Ce),ne=Math.abs(ne-J)>P?ce-P:J-(Ce?P:0)),$(oe.options.pointWidth)&&(_e=me=Math.ceil(oe.options.pointWidth),ae-=Math.round((_e-ee)/2)),w.centerInCategory&&(ae=j.adjustForMissingColumns(ae,_e,oe,Y)),oe.barX=ae,oe.pointWidth=_e,oe.tooltipPos=W.inverted?[R(g.len+g.pos-W.plotLeft-pe,g.pos-W.plotLeft,g.len+g.pos-W.plotLeft),f.len+f.pos-W.plotTop-ae-me/2,ye]:[f.left-W.plotLeft+ae+me/2,R(pe+g.pos-W.plotTop,g.pos-W.plotTop,g.len+g.pos-W.plotTop),ye],oe.shapeType=j.pointClass.prototype.shapeType||"roundedRect",oe.shapeArgs=j.crispCol(ae,oe.isNull?J:ne,me,oe.isNull?0:ye)}),E(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(j,W){const w=this.options;var D=this.pointAttrToOptions||{},f=D.stroke||"borderColor";const g=D["stroke-width"]||"borderWidth";let x,P=j&&j.color||this.color,Y=j&&j[f]||w[f]||P;D=j&&j.options.dashStyle||w.dashStyle;let ee=j&&j[g]||w[g]||this[g]||0,K=C(j&&j.opacity,w.opacity,1);return j&&this.zones.length&&(x=j.getZone(),P=j.options.color||x&&(x.color||j.nonZonedColor)||this.color,x&&(Y=x.borderColor||Y,D=x.dashStyle||D,ee=x.borderWidth||ee)),W&&j&&(j=G(w.states[W],j.options.states&&j.options.states[W]||{}),W=j.brightness,P=j.color||typeof W<"u"&&H(P).brighten(j.brightness).get()||P,Y=j[f]||Y,ee=j[g]||ee,D=j.dashStyle||D,K=C(j.opacity,K)),f={fill:P,stroke:Y,"stroke-width":ee,opacity:K},D&&(f.dashstyle=D),f}drawPoints(j=this.points){const W=this,w=this.chart,D=W.options,f=w.renderer,g=D.animationLimit||250;let x;j.forEach(function(P){let Y=P.graphic,ee=!!Y,K=Y&&w.pointCount<g?"animate":"attr";V(P.plotY)&&P.y!==null?(x=P.shapeArgs,Y&&P.hasNewShapeType()&&(Y=Y.destroy()),W.enabledDataSorting&&(P.startXPos=W.xAxis.reversed?-(x&&x.width||0):W.xAxis.width),Y||(P.graphic=Y=f[P.shapeType](x).add(P.group||W.group))&&W.enabledDataSorting&&w.hasRendered&&w.pointCount<g&&(Y.attr({x:P.startXPos}),ee=!0,K="animate"),Y&&ee&&Y[K](G(x)),w.styledMode||Y[K](W.pointAttribs(P,P.selected&&"select")).shadow(P.allowShadow!==!1&&D.shadow),Y&&(Y.addClass(P.getClassName(),!0),Y.attr({visibility:P.visible?"inherit":"hidden"}))):Y&&(P.graphic=Y.destroy())})}drawTracker(j=this.points){const W=this,w=W.chart,D=w.pointer,f=function(x){const P=D.getPointFromEvent(x);typeof P<"u"&&(D.isDirectTouch=!0,P.onMouseOver(x))};let g;j.forEach(function(x){g=k(x.dataLabels)?x.dataLabels:x.dataLabel?[x.dataLabel]:[],x.graphic&&(x.graphic.element.point=x),g.forEach(function(P){P.div?P.div.point=x:P.element.point=x})}),W._hasTracking||(W.trackerGroups.forEach(function(x){W[x]&&(W[x].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(P){D.onTrackerMouseOut(P)}),q&&W[x].on("touchstart",f),!w.styledMode&&W.options.cursor&&W[x].css({cursor:W.options.cursor}))}),W._hasTracking=!0),E(this,"afterDrawTracker")}remove(){const j=this,W=j.chart;W.hasRendered&&W.series.forEach(function(w){w.type===j.type&&(w.isDirty=!0)}),S.prototype.remove.apply(j,arguments)}}return Q.defaultOptions=G(S.defaultOptions,m),M(Q.prototype,{cropShoulder:0,directTouch:!0,getSymbol:L,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),z.registerSeriesType("column",Q),Q}),s(a,"Core/Series/DataLabel.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/FormatUtilities.js"],a["Core/Utilities.js"]],function(c,d,m){const{getDeferredAnimation:n}=c,{format:S}=d,{defined:z,extend:Z,fireEvent:O,isArray:H,isString:q,merge:L,objectEach:R,pick:$,splat:M}=m;var E;return function(k){function V(D,f,g,x,P){const Y=this.chart;var ee=this.isCartesian&&Y.inverted;const K=this.enabledDataSorting;var he=D.plotX,ge=D.plotY;const Ee=g.rotation;var J=g.align;ge=z(he)&&z(ge)&&Y.isInsidePlot(he,Math.round(ge),{inverted:ee,paneCoordinates:!0,series:this});let oe=$(g.overflow,K?"none":"justify")==="justify";if(ee=this.visible&&D.visible!==!1&&z(he)&&(D.series.forceDL||K&&!oe||ge||$(g.inside,!!this.options.stacking)&&x&&Y.isInsidePlot(he,ee?x.x+1:x.y+x.height-1,{inverted:ee,paneCoordinates:!0,series:this})),he=D.pos(),ee&&he){Ee&&f.attr({align:J}),J=f.getBBox(!0);var ce=[0,0],pe=Y.renderer.fontMetrics(f).b;if(x=Z({x:he[0],y:Math.round(he[1]),width:0,height:0},x),Z(g,{width:J.width,height:J.height}),Ee?(oe=!1,ce=Y.renderer.rotCorr(pe,Ee),pe={x:x.x+(g.x||0)+x.width/2+ce.x,y:x.y+(g.y||0)+{top:0,middle:.5,bottom:1}[g.verticalAlign]*x.height},ce=[J.x-Number(f.attr("x")),J.y-Number(f.attr("y"))],K&&this.xAxis&&!oe&&this.setDataLabelStartPos(D,f,P,ge,pe),f[P?"attr":"animate"](pe)):(K&&this.xAxis&&!oe&&this.setDataLabelStartPos(D,f,P,ge,x),f.align(g,void 0,x),pe=f.alignAttr),oe&&0<=x.height)this.justifyDataLabel(f,g,pe,J,x,P);else if($(g.crop,!0)){let{x:Ce,y:ne}=pe;Ce+=ce[0],ne+=ce[1],ee=Y.isInsidePlot(Ce,ne,{paneCoordinates:!0,series:this})&&Y.isInsidePlot(Ce+J.width,ne+J.height,{paneCoordinates:!0,series:this})}g.shape&&!Ee&&f[P?"attr":"animate"]({anchorX:he[0],anchorY:he[1]})}P&&K&&(f.placed=!1),ee||K&&!oe?f.show():(f.hide(),f.placed=!1)}function G(D,f){var g=f.filter;return g?(f=g.operator,D=D[g.property],g=g.value,f===">"&&D>g||f==="<"&&D<g||f===">="&&D>=g||f==="<="&&D<=g||f==="=="&&D==g||f==="==="&&D===g):!0}function C(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function te(D){const f=this.hasRendered||0,g=this.initDataLabelsGroup().attr({opacity:+f});return!f&&g&&(this.visible&&g.show(),this.options.animation?g.animate({opacity:1},D):g.attr({opacity:1})),g}function Q(D=this.points){const f=this,g=f.chart,x=f.options,P=g.renderer,{backgroundColor:Y,plotBackgroundColor:ee}=g.options.chart,K=P.getContrast(q(ee)&&ee||q(Y)&&Y||"#000000");let he=x.dataLabels,ge,Ee;var J=M(he)[0];const oe=J.animation;J=J.defer?n(g,oe,f):{defer:0,duration:0},he=j(j(g.options.plotOptions&&g.options.plotOptions.series&&g.options.plotOptions.series.dataLabels,g.options.plotOptions&&g.options.plotOptions[f.type]&&g.options.plotOptions[f.type].dataLabels),he),O(this,"drawDataLabels"),(H(he)||he.enabled||f._hasPointLabels)&&(Ee=this.initDataLabels(J),D.forEach(ce=>{ge=M(j(he,ce.dlOptions||ce.options&&ce.options.dataLabels)),ge.forEach((pe,Ce)=>{const ne=pe.enabled&&(!ce.isNull||ce.dataLabelOnNull)&&G(ce,pe),ye=ce.connectors?ce.connectors[Ce]:ce.connector;let _e,ae,me=ce.dataLabels?ce.dataLabels[Ce]:ce.dataLabel,we=!me;const Re=$(pe.distance,ce.labelDistance);if(ne){var Le=ce.getLabelConfig(),Ge=$(pe[ce.formatPrefix+"Format"],pe.format);if(Le=z(Ge)?S(Ge,Le,g):(pe[ce.formatPrefix+"Formatter"]||pe.formatter).call(Le,pe),Ge=pe.style,_e=pe.rotation,g.styledMode||(Ge.color=$(pe.color,Ge.color,f.color,"#000000"),Ge.color==="contrast"?(ce.contrastColor=P.getContrast(ce.color||f.color),Ge.color=!z(Re)&&pe.inside||0>Re||x.stacking?ce.contrastColor:K):delete ce.contrastColor,x.cursor&&(Ge.cursor=x.cursor)),ae={r:pe.borderRadius||0,rotation:_e,padding:pe.padding,zIndex:1},!g.styledMode){const{backgroundColor:rt,borderColor:Qe}=pe;ae.fill=rt==="auto"?ce.color:rt,ae.stroke=Qe==="auto"?ce.color:Qe,ae["stroke-width"]=pe.borderWidth}R(ae,function(rt,Qe){typeof rt>"u"&&delete ae[Qe]})}!me||ne&&z(Le)&&!!me.div==!!pe.useHTML&&(me.rotation&&pe.rotation||me.rotation===pe.rotation)||(we=!0,ce.dataLabel=me=ce.dataLabel&&ce.dataLabel.destroy(),ce.dataLabels&&(ce.dataLabels.length===1?delete ce.dataLabels:delete ce.dataLabels[Ce]),Ce||delete ce.dataLabel,ye&&(ce.connector=ce.connector.destroy(),ce.connectors&&(ce.connectors.length===1?delete ce.connectors:delete ce.connectors[Ce]))),ne&&z(Le)?(me?ae.text=Le:(ce.dataLabels=ce.dataLabels||[],me=ce.dataLabels[Ce]=_e?P.text(Le,0,0,pe.useHTML).addClass("highcharts-data-label"):P.label(Le,0,0,pe.shape,null,null,pe.useHTML,null,"data-label"),Ce||(ce.dataLabel=me),me.addClass(" highcharts-data-label-color-"+ce.colorIndex+" "+(pe.className||"")+(pe.useHTML?" highcharts-tracker":""))),me.options=pe,me.attr(ae),g.styledMode||me.css(Ge).shadow(pe.shadow),(Ce=pe[ce.formatPrefix+"TextPath"]||pe.textPath)&&!pe.useHTML&&(me.setTextPath(ce.getDataLabelPath&&ce.getDataLabelPath(me)||ce.graphic,Ce),ce.dataLabelPath&&!Ce.enabled&&(ce.dataLabelPath=ce.dataLabelPath.destroy())),me.added||me.add(Ee),f.alignDataLabel(ce,me,pe,null,we)):me&&me.hide()})})),O(this,"afterDrawDataLabels")}function N(D,f,g,x,P,Y){const ee=this.chart,K=f.align,he=f.verticalAlign,ge=D.box?0:D.padding||0;let{x:Ee=0,y:J=0}=f,oe,ce;return oe=(g.x||0)+ge,0>oe&&(K==="right"&&0<=Ee?(f.align="left",f.inside=!0):Ee-=oe,ce=!0),oe=(g.x||0)+x.width-ge,oe>ee.plotWidth&&(K==="left"&&0>=Ee?(f.align="right",f.inside=!0):Ee+=ee.plotWidth-oe,ce=!0),oe=g.y+ge,0>oe&&(he==="bottom"&&0<=J?(f.verticalAlign="top",f.inside=!0):J-=oe,ce=!0),oe=(g.y||0)+x.height-ge,oe>ee.plotHeight&&(he==="top"&&0>=J?(f.verticalAlign="bottom",f.inside=!0):J+=ee.plotHeight-oe,ce=!0),ce&&(f.x=Ee,f.y=J,D.placed=!Y,D.align(f,void 0,P)),ce}function j(D,f){let g=[],x;if(H(D)&&!H(f))g=D.map(function(P){return L(P,f)});else if(H(f)&&!H(D))g=f.map(function(P){return L(D,P)});else if(H(D)||H(f))for(x=Math.max(D.length,f.length);x--;)g[x]=L(D[x],f[x]);else g=L(D,f);return g}function W(D,f,g,x,P){const Y=this.chart,ee=Y.inverted,K=this.xAxis,he=K.reversed,ge=ee?f.height/2:f.width/2;D=(D=D.pointWidth)?D/2:0,f.startXPos=ee?P.x:he?-ge-D:K.width-ge+D,f.startYPos=ee?he?this.yAxis.height-ge+D:-ge-D:P.y,x?f.visibility==="hidden"&&(f.show(),f.attr({opacity:0}).animate({opacity:1})):f.attr({opacity:1}).animate({opacity:0},void 0,f.hide),Y.hasRendered&&(g&&f.attr({x:f.startXPos,y:f.startYPos}),f.placed=!0)}const w=[];k.compose=function(D){m.pushUnique(w,D)&&(D=D.prototype,D.initDataLabelsGroup=C,D.initDataLabels=te,D.alignDataLabel=V,D.drawDataLabels=Q,D.justifyDataLabel=N,D.setDataLabelStartPos=W)}}(E||(E={})),E}),s(a,"Series/Column/ColumnDataLabel.js",[a["Core/Series/DataLabel.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,d,m){const{series:n}=d,{merge:S,pick:z}=m;var Z;return function(O){function H(L,R,$,M,E){let k=this.chart.inverted;var V=L.series;let G=(V.xAxis?V.xAxis.len:this.chart.plotSizeX)||0;V=(V.yAxis?V.yAxis.len:this.chart.plotSizeY)||0;var C=L.dlBox||L.shapeArgs;let te=z(L.below,L.plotY>z(this.translatedThreshold,V)),Q=z($.inside,!!this.options.stacking);C&&(M=S(C),0>M.y&&(M.height+=M.y,M.y=0),C=M.y+M.height-V,0<C&&C<M.height&&(M.height-=C),k&&(M={x:V-M.y-M.height,y:G-M.x-M.width,width:M.height,height:M.width}),Q||(k?(M.x+=te?0:M.width,M.width=0):(M.y+=te?M.height:0,M.height=0))),$.align=z($.align,!k||Q?"center":te?"right":"left"),$.verticalAlign=z($.verticalAlign,k||Q?"middle":te?"top":"bottom"),n.prototype.alignDataLabel.call(this,L,R,$,M,E),$.inside&&L.contrastColor&&R.css({color:L.contrastColor})}const q=[];O.compose=function(L){c.compose(n),m.pushUnique(q,L)&&(L.prototype.alignDataLabel=H)}}(Z||(Z={})),Z}),s(a,"Series/Bar/BarSeries.js",[a["Series/Column/ColumnSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,d,m){const{extend:n,merge:S}=m;class z extends c{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return z.defaultOptions=S(c.defaultOptions,{}),n(z.prototype,{inverted:!0}),d.registerSeriesType("bar",z),z}),s(a,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),s(a,"Series/Scatter/ScatterSeries.js",[a["Series/Scatter/ScatterSeriesDefaults.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,d,m){const{column:n,line:S}=d.seriesTypes,{addEvent:z,extend:Z,merge:O}=m;class H extends S{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const L=this,R=this.options.jitter,$=this.points.length;R&&this.points.forEach(function(M,E){["x","y"].forEach(function(k,V){let G="plot"+k.toUpperCase(),C,te;if(R[k]&&!M.isNull){var Q=L[k+"Axis"];te=R[k]*Q.transA,Q&&!Q.isLog&&(C=Math.max(0,M[G]-te),Q=Math.min(Q.len,M[G]+te),V=1e4*Math.sin(E+V*$),V-=Math.floor(V),M[G]=C+(Q-C)*V,k==="x"&&(M.clientX=M.plotX))}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return H.defaultOptions=O(S.defaultOptions,c),Z(H.prototype,{drawTracker:n.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),z(H,"afterTranslate",function(){this.applyJitter()}),d.registerSeriesType("scatter",H),H}),s(a,"Series/CenteredUtilities.js",[a["Core/Globals.js"],a["Core/Series/Series.js"],a["Core/Utilities.js"]],function(c,d,m){const{deg2rad:n}=c,{fireEvent:S,isNumber:z,pick:Z,relativeLength:O}=m;var H;return function(q){q.getCenter=function(){var L=this.options,R=this.chart;const $=2*(L.slicedOffset||0),M=R.plotWidth-2*$,E=R.plotHeight-2*$;var k=L.center;const V=Math.min(M,E),G=L.thickness;var C=L.size;let te=L.innerSize||0;for(typeof C=="string"&&(C=parseFloat(C)),typeof te=="string"&&(te=parseFloat(te)),L=[Z(k[0],"50%"),Z(k[1],"50%"),Z(C&&0>C?void 0:L.size,"100%"),Z(te&&0>te?void 0:L.innerSize||0,"0%")],!R.angular||this instanceof d||(L[3]=0),k=0;4>k;++k)C=L[k],R=2>k||k===2&&/%$/.test(C),L[k]=O(C,[M,E,V,L[2]][k])+(R?$:0);return L[3]>L[2]&&(L[3]=L[2]),z(G)&&2*G<L[2]&&0<G&&(L[3]=L[2]-2*G),S(this,"afterGetCenter",{positions:L}),L},q.getStartAndEndRadians=function(L,R){return L=z(L)?L:0,R=z(R)&&R>L&&360>R-L?R:L+360,{start:n*(L+-90),end:n*(R+-90)}}}(H||(H={})),H}),s(a,"Series/Pie/PiePoint.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(c,d,m){const{setAnimation:n}=c,{addEvent:S,defined:z,extend:Z,isNumber:O,pick:H,relativeLength:q}=m;class L extends d{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const $=this.labelPosition,M=this.series.options.dataLabels,E=this.connectorShapes;let k=M.connectorShape;return E[k]&&(k=E[k]),k.call(this,{x:$.computed.x,y:$.computed.y,alignment:$.alignment},$.connectorPosition,M)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath($){const M=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(M.x,M.y,M.r+$,M.r+$,{innerR:M.r-1,start:M.start,end:M.end,borderRadius:M.borderRadius})}init(){super.init.apply(this,arguments),this.name=H(this.name,"Slice");const $=M=>{this.slice(M.type==="select")};return S(this,"select",$),S(this,"unselect",$),this}isValid(){return O(this.y)&&0<=this.y}setVisible($,M){const E=this.series,k=E.chart,V=E.options.ignoreHiddenPoint;M=H(M,V),$!==this.visible&&(this.visible=this.options.visible=$=typeof $>"u"?!this.visible:$,E.options.data[E.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach(G=>{this[G]&&this[G][$?"show":"hide"]($)}),this.legendItem&&k.legend.colorizeItem(this,$),$||this.state!=="hover"||this.setState(""),V&&(E.isDirty=!0),M&&k.redraw())}slice($,M,E){const k=this.series;n(E,k.chart),H(M,!0),this.sliced=this.options.sliced=z($)?$:!this.sliced,k.options.data[k.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return Z(L.prototype,{connectorShapes:{fixedOffset:function(R,$,M){const E=$.breakAt;return $=$.touchingSliceAt,[["M",R.x,R.y],M.softConnector?["C",R.x+(R.alignment==="left"?-5:5),R.y,2*E.x-$.x,2*E.y-$.y,E.x,E.y]:["L",E.x,E.y],["L",$.x,$.y]]},straight:function(R,$){return $=$.touchingSliceAt,[["M",R.x,R.y],["L",$.x,$.y]]},crookedLine:function(R,$,M){const{breakAt:E,touchingSliceAt:k}=$;({series:$}=this);const[V,G,C]=$.center,te=C/2,Q=$.chart.plotWidth,N=$.chart.plotLeft;$=R.alignment==="left";const{x:j,y:W}=R;return M.crookDistance?(R=q(M.crookDistance,1),R=$?V+te+(Q+N-V-te)*(1-R):N+(V-te)*R):R=V+(G-W)*Math.tan((this.angle||0)-Math.PI/2),M=[["M",j,W]],($?R<=j&&R>=E.x:R>=j&&R<=E.x)&&M.push(["L",R,W]),M.push(["L",E.x,E.y],["L",k.x,k.y]),M}}}),L}),s(a,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),s(a,"Series/Pie/PieSeries.js",[a["Series/CenteredUtilities.js"],a["Series/Column/ColumnSeries.js"],a["Core/Globals.js"],a["Series/Pie/PiePoint.js"],a["Series/Pie/PieSeriesDefaults.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/Symbols.js"],a["Core/Utilities.js"]],function(c,d,m,n,S,z,Z,O,H){const{getStartAndEndRadians:q}=c;({noop:m}=m);const{clamp:L,extend:R,fireEvent:$,merge:M,pick:E,relativeLength:k}=H;class V extends z{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(C){const te=this,Q=te.points,N=te.startAngleRad;C||Q.forEach(function(j){const W=j.graphic,w=j.shapeArgs;W&&w&&(W.attr({r:E(j.startR,te.center&&te.center[3]/2),start:N,end:N}),W.animate({r:w.r,start:w.start,end:w.end},te.options.animation))})}drawEmpty(){const C=this.startAngleRad,te=this.endAngleRad,Q=this.options;let N,j;this.total===0&&this.center?(N=this.center[0],j=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(N,j,this.center[1]/2,0,C,te).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:O.arc(N,j,this.center[2]/2,0,{start:C,end:te,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":Q.borderWidth,fill:Q.fillColor||"none",stroke:Q.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const C=this.chart.renderer;this.points.forEach(function(te){te.graphic&&te.hasNewShapeType()&&(te.graphic=te.graphic.destroy()),te.graphic||(te.graphic=C[te.shapeType](te.shapeArgs).add(te.series.group),te.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(C,te,Q){const N=this.center,j=this.radii?this.radii[Q.index]||0:N[2]/2;return C=Math.asin(L((C-N[1])/(j+Q.labelDistance),-1,1)),N[0]+(te?-1:1)*Math.cos(C)*(j+Q.labelDistance)+(0<Q.labelDistance?(te?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const C=this,te=C.chart;let Q,N,j,W;this.drawEmpty(),C.group&&!te.styledMode&&C.group.shadow(C.options.shadow),C.points.forEach(function(w){const D={};N=w.graphic,!w.isNull&&N?(W=w.shapeArgs,Q=w.getTranslate(),te.styledMode||(j=C.pointAttribs(w,w.selected&&"select")),w.delayedRendering?(N.setRadialReference(C.center).attr(W).attr(Q),te.styledMode||N.attr(j).attr({"stroke-linejoin":"round"}),w.delayedRendering=!1):(N.setRadialReference(C.center),te.styledMode||M(!0,D,j),M(!0,D,W,Q),N.animate(D)),N.attr({visibility:w.visible?"inherit":"hidden"}),N.addClass(w.getClassName(),!0)):N&&(w.graphic=N.destroy())})}sortByAngle(C,te){C.sort(function(Q,N){return typeof Q.angle<"u"&&(N.angle-Q.angle)*te})}translate(C){$(this,"translate"),this.generatePoints();var te=this.options;const Q=te.slicedOffset,N=Q+(te.borderWidth||0);var j=q(te.startAngle,te.endAngle);const W=this.startAngleRad=j.start;j=(this.endAngleRad=j.end)-W;const w=this.points,D=te.dataLabels.distance;te=te.ignoreHiddenPoint;const f=w.length;let g,x,P,Y=0;for(C||(this.center=C=this.getCenter()),x=0;x<f;x++){P=w[x];var ee=W+Y*j;!P.isValid()||te&&!P.visible||(Y+=P.percentage/100);var K=W+Y*j,he={x:C[0],y:C[1],r:C[2]/2,innerR:C[3]/2,start:Math.round(1e3*ee)/1e3,end:Math.round(1e3*K)/1e3};P.shapeType="arc",P.shapeArgs=he,P.labelDistance=E(P.options.dataLabels&&P.options.dataLabels.distance,D),P.labelDistance=k(P.labelDistance,he.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,P.labelDistance),K=(K+ee)/2,K>1.5*Math.PI?K-=2*Math.PI:K<-Math.PI/2&&(K+=2*Math.PI),P.slicedTranslation={translateX:Math.round(Math.cos(K)*Q),translateY:Math.round(Math.sin(K)*Q)},he=Math.cos(K)*C[2]/2,g=Math.sin(K)*C[2]/2,P.tooltipPos=[C[0]+.7*he,C[1]+.7*g],P.half=K<-Math.PI/2||K>Math.PI/2?1:0,P.angle=K,ee=Math.min(N,P.labelDistance/5),P.labelPosition={natural:{x:C[0]+he+Math.cos(K)*P.labelDistance,y:C[1]+g+Math.sin(K)*P.labelDistance},computed:{},alignment:0>P.labelDistance?"center":P.half?"right":"left",connectorPosition:{breakAt:{x:C[0]+he+Math.cos(K)*ee,y:C[1]+g+Math.sin(K)*ee},touchingSliceAt:{x:C[0]+he,y:C[1]+g}}}}$(this,"afterTranslate")}updateTotals(){const C=this.points,te=C.length,Q=this.options.ignoreHiddenPoint;let N,j,W=0;for(N=0;N<te;N++)j=C[N],!j.isValid()||Q&&!j.visible||(W+=j.y);for(this.total=W,N=0;N<te;N++)j=C[N],j.percentage=0<W&&(j.visible||!Q)?j.y/W*100:0,j.total=W}}return V.defaultOptions=M(z.defaultOptions,S),R(V.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:d.prototype.drawTracker,getCenter:c.getCenter,getSymbol:m,isCartesian:!1,noSharedTooltip:!0,pointAttribs:d.prototype.pointAttribs,pointClass:n,requireSorting:!1,searchPoint:m,trackerGroups:["group","dataLabelsGroup"]}),Z.registerSeriesType("pie",V),V}),s(a,"Series/Pie/PieDataLabel.js",[a["Core/Series/DataLabel.js"],a["Core/Globals.js"],a["Core/Renderer/RendererUtilities.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(c,d,m,n,S){const{noop:z}=d,{distribute:Z}=m,{series:O}=n,{arrayMax:H,clamp:q,defined:L,merge:R,pick:$,relativeLength:M}=S;var E;return function(k){function V(){const N=this,j=N.data,W=N.chart,w=N.options.dataLabels||{},D=w.connectorPadding,f=W.plotWidth,g=W.plotHeight,x=W.plotLeft,P=Math.round(W.chartWidth/3),Y=N.center,ee=Y[2]/2,K=Y[1],he=[[],[]],ge=[0,0,0,0],Ee=N.dataLabelPositioners;let J,oe,ce,pe,Ce,ne,ye,_e,ae,me,we,Re;N.visible&&(w.enabled||N._hasPointLabels)&&(j.forEach(function(Le){Le.dataLabel&&Le.visible&&Le.dataLabel.shortened&&(Le.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Le.dataLabel.shortened=!1)}),O.prototype.drawDataLabels.apply(N),j.forEach(function(Le){Le.dataLabel&&(Le.visible?(he[Le.half].push(Le),Le.dataLabel._pos=null,!L(w.style.width)&&!L(Le.options.dataLabels&&Le.options.dataLabels.style&&Le.options.dataLabels.style.width)&&Le.dataLabel.getBBox().width>P&&(Le.dataLabel.css({width:Math.round(.7*P)+"px"}),Le.dataLabel.shortened=!0)):(Le.dataLabel=Le.dataLabel.destroy(),Le.dataLabels&&Le.dataLabels.length===1&&delete Le.dataLabels))}),he.forEach((Le,Ge)=>{const rt=Le.length,Qe=[];let qe,Te=0;if(rt){if(N.sortByAngle(Le,Ge-.5),0<N.maxLabelDistance){var Oe=Math.max(0,K-ee-N.maxLabelDistance);qe=Math.min(K+ee+N.maxLabelDistance,W.plotHeight),Le.forEach(function(ze){0<ze.labelDistance&&ze.dataLabel&&(ze.top=Math.max(0,K-ee-ze.labelDistance),ze.bottom=Math.min(K+ee+ze.labelDistance,W.plotHeight),Te=ze.dataLabel.getBBox().height||21,ze.distributeBox={target:ze.labelPosition.natural.y-ze.top+Te/2,size:Te,rank:ze.y},Qe.push(ze.distributeBox))}),Oe=qe+Te-Oe,Z(Qe,Oe,Oe/5)}for(we=0;we<rt;we++){if(J=Le[we],ne=J.labelPosition,pe=J.dataLabel,me=J.visible===!1?"hidden":"inherit",ae=Oe=ne.natural.y,Qe&&L(J.distributeBox)&&(typeof J.distributeBox.pos>"u"?me="hidden":(ye=J.distributeBox.size,ae=Ee.radialDistributionY(J))),delete J.positionIndex,w.justify)_e=Ee.justify(J,ee,Y);else switch(w.alignTo){case"connectors":_e=Ee.alignToConnectors(Le,Ge,f,x);break;case"plotEdges":_e=Ee.alignToPlotEdges(pe,Ge,f,x);break;default:_e=Ee.radialDistributionX(N,J,ae,Oe)}pe._attr={visibility:me,align:ne.alignment},Re=J.options.dataLabels||{},pe._pos={x:_e+$(Re.x,w.x)+({left:D,right:-D}[ne.alignment]||0),y:ae+$(Re.y,w.y)-pe.getBBox().height/2},ne&&(ne.computed.x=_e,ne.computed.y=ae),$(w.crop,!0)&&(Ce=pe.getBBox().width,Oe=null,_e-Ce<D&&Ge===1?(Oe=Math.round(Ce-_e+D),ge[3]=Math.max(Oe,ge[3])):_e+Ce>f-D&&Ge===0&&(Oe=Math.round(_e+Ce-f+D),ge[1]=Math.max(Oe,ge[1])),0>ae-ye/2?ge[0]=Math.max(Math.round(-ae+ye/2),ge[0]):ae+ye/2>g&&(ge[2]=Math.max(Math.round(ae+ye/2-g),ge[2])),pe.sideOverflow=Oe)}}}),H(ge)===0||this.verifyDataLabelOverflow(ge))&&(this.placeDataLabels(),this.points.forEach(function(Le){if(Re=R(w,Le.options.dataLabels),oe=$(Re.connectorWidth,1)){let Ge;ce=Le.connector,(pe=Le.dataLabel)&&pe._pos&&Le.visible&&0<Le.labelDistance?(me=pe._attr.visibility,(Ge=!ce)&&(Le.connector=ce=W.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Le.colorIndex+(Le.className?" "+Le.className:"")).add(N.dataLabelsGroup),W.styledMode||ce.attr({"stroke-width":oe,stroke:Re.connectorColor||Le.color||"#666666"})),ce[Ge?"attr":"animate"]({d:Le.getConnectorPath()}),ce.attr("visibility",me)):ce&&(Le.connector=ce.destroy())}}))}function G(){this.points.forEach(function(N){let j=N.dataLabel,W;j&&N.visible&&((W=j._pos)?(j.sideOverflow&&(j._attr.width=Math.max(j.getBBox().width-j.sideOverflow,0),j.css({width:j._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),j.shortened=!0),j.attr(j._attr),j[j.moved?"animate":"attr"](W),j.moved=!0):j&&j.attr({y:-9999})),delete N.distributeBox},this)}function C(N){let j=this.center,W=this.options,w=W.center,D=W.minSize||80,f,g=W.size!==null;return g||(w[0]!==null?f=Math.max(j[2]-Math.max(N[1],N[3]),D):(f=Math.max(j[2]-N[1]-N[3],D),j[0]+=(N[3]-N[1])/2),w[1]!==null?f=q(f,D,j[2]-Math.max(N[0],N[2])):(f=q(f,D,j[2]-N[0]-N[2]),j[1]+=(N[0]-N[2])/2),f<j[2]?(j[2]=f,j[3]=Math.min(W.thickness?Math.max(0,f-2*W.thickness):Math.max(0,M(W.innerSize||0,f)),f),this.translate(j),this.drawDataLabels&&this.drawDataLabels()):g=!0),g}const te=[],Q={radialDistributionY:function(N){return N.top+N.distributeBox.pos},radialDistributionX:function(N,j,W,w){return N.getX(W<j.top+2||W>j.bottom-2?w:W,j.half,j)},justify:function(N,j,W){return W[0]+(N.half?-1:1)*(j+N.labelDistance)},alignToPlotEdges:function(N,j,W,w){return N=N.getBBox().width,j?N+w:W-N-w},alignToConnectors:function(N,j,W,w){let D=0,f;return N.forEach(function(g){f=g.dataLabel.getBBox().width,f>D&&(D=f)}),j?D+w:W-D-w}};k.compose=function(N){c.compose(O),S.pushUnique(te,N)&&(N=N.prototype,N.dataLabelPositioners=Q,N.alignDataLabel=z,N.drawDataLabels=V,N.placeDataLabels=G,N.verifyDataLabelOverflow=C)}}(E||(E={})),E}),s(a,"Extensions/OverlappingDataLabels.js",[a["Core/Chart/Chart.js"],a["Core/Utilities.js"]],function(c,d){function m(q,L){let R,$=!1;return q&&(R=q.newOpacity,q.oldOpacity!==R&&(q.alignAttr&&q.placed?(q[R?"removeClass":"addClass"]("highcharts-data-label-hidden"),$=!0,q.alignAttr.opacity=R,q[q.isOld?"animate":"attr"](q.alignAttr,null,function(){L.styledMode||q.css({pointerEvents:R?"auto":"none"})}),S(L,"afterHideOverlappingLabel")):q.attr({opacity:R})),q.isOld=!0),$}const{addEvent:n,fireEvent:S,isArray:z,isNumber:Z,objectEach:O,pick:H}=d;n(c,"render",function(){let q=this,L=[];(this.labelCollectors||[]).forEach(function(R){L=L.concat(R())}),(this.yAxis||[]).forEach(function(R){R.stacking&&R.options.stackLabels&&!R.options.stackLabels.allowOverlap&&O(R.stacking.stacks,function($){O($,function(M){M.label&&L.push(M.label)})})}),(this.series||[]).forEach(function(R){var $=R.options.dataLabels;R.visible&&($.enabled!==!1||R._hasPointLabels)&&($=M=>M.forEach(E=>{E.visible&&(z(E.dataLabels)?E.dataLabels:E.dataLabel?[E.dataLabel]:[]).forEach(function(k){const V=k.options;k.labelrank=H(V.labelrank,E.labelrank,E.shapeArgs&&E.shapeArgs.height),V.allowOverlap?(k.oldOpacity=k.opacity,k.newOpacity=1,m(k,q)):L.push(k)})}),$(R.nodes||[]),$(R.points))}),this.hideOverlappingLabels(L)}),c.prototype.hideOverlappingLabels=function(q){let L=this,R=q.length,$=L.renderer;var M;let E,k,V,G,C=!1;var te=function(Q){let N,j;var W;let w=Q.box?0:Q.padding||0,D=W=0,f,g;if(Q&&(!Q.alignAttr||Q.placed))return N=Q.alignAttr||{x:Q.attr("x"),y:Q.attr("y")},j=Q.parentGroup,Q.width||(W=Q.getBBox(),Q.width=W.width,Q.height=W.height,W=$.fontMetrics(Q.element).h),f=Q.width-2*w,(g={left:"0",center:"0.5",right:"1"}[Q.alignValue])?D=+g*f:Z(Q.x)&&Math.round(Q.x)!==Q.translateX&&(D=Q.x-Q.translateX),{x:N.x+(j.translateX||0)+w-(D||0),y:N.y+(j.translateY||0)+w-W,width:Q.width-2*w,height:Q.height-2*w}};for(E=0;E<R;E++)(M=q[E])&&(M.oldOpacity=M.opacity,M.newOpacity=1,M.absoluteBox=te(M));for(q.sort(function(Q,N){return(N.labelrank||0)-(Q.labelrank||0)}),E=0;E<R;E++)for(V=(te=q[E])&&te.absoluteBox,M=E+1;M<R;++M)G=(k=q[M])&&k.absoluteBox,!V||!G||te===k||te.newOpacity===0||k.newOpacity===0||te.visibility==="hidden"||k.visibility==="hidden"||G.x>=V.x+V.width||G.x+G.width<=V.x||G.y>=V.y+V.height||G.y+G.height<=V.y||((te.labelrank<k.labelrank?te:k).newOpacity=0);q.forEach(function(Q){m(Q,L)&&(C=!0)}),C&&S(L,"afterHideAllOverlappingLabels")}}),s(a,"Extensions/BorderRadius.js",[a["Core/Defaults.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(c,d,m,n,S,z){const{defaultOptions:Z}=c;({seriesTypes:c}=m);const{addEvent:O,extend:H,isObject:q,merge:L,relativeLength:R}=z,$={radius:0,scope:"stack",where:void 0},M=(E,k)=>(q(E)||(E={radius:E||0}),L($,k,E));if(n.symbolCustomAttribs.indexOf("borderRadius")===-1){n.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const E=S.prototype.symbols.arc;S.prototype.symbols.arc=function(V,G,C,te,Q={}){V=E(V,G,C,te,Q);const{innerR:N=0,r:j=C,start:W=0,end:w=0}=Q;if(Q.open||!Q.borderRadius)return V;for(C=w-W,G=Math.sin(C/2),Q=Math.max(Math.min(R(Q.borderRadius||0,j-N),(j-N)/2,j*G/(1+G)),0),C=Math.min(Q,C/Math.PI*2*N),G=V.length-1;G--;){let ee,K,he;te=V;var D=G,f=1<G?C:Q,g=te[D],x=te[D+1];if(x[0]==="Z"&&(x=te[0]),g[0]!=="M"&&g[0]!=="L"||x[0]!=="A"?g[0]!=="A"||x[0]!=="M"&&x[0]!=="L"||(he=x,K=g):(he=g,K=x,ee=!0),he&&K&&K.params){g=K[1];var P=K[5];x=K.params;const{start:ge,end:Ee,cx:J,cy:oe}=x;var Y=P?g-f:g+f;const ce=Y?Math.asin(f/Y):0;P=P?ce:-ce,Y*=Math.cos(ce),ee?(x.start=ge+P,he[1]=J+Y*Math.cos(ge),he[2]=oe+Y*Math.sin(ge),te.splice(D+1,0,["A",f,f,0,0,1,J+g*Math.cos(x.start),oe+g*Math.sin(x.start)])):(x.end=Ee-P,K[6]=J+g*Math.cos(x.end),K[7]=oe+g*Math.sin(x.end),te.splice(D+1,0,["A",f,f,0,0,1,J+Y*Math.cos(Ee),oe+Y*Math.sin(Ee)])),K[4]=Math.abs(x.end-x.start)<Math.PI?0:1}}return V};const k=S.prototype.symbols.roundedRect;S.prototype.symbols.roundedRect=function(V,G,C,te,Q={}){const N=k(V,G,C,te,Q),{r:j=0,brBoxHeight:W=te,brBoxY:w=G}=Q;var D=G-w,f=w+W-(G+te);Q=-.1<D-j?0:j;const g=-.1<f-j?0:j;var x=Math.max(Q&&D,0);const P=Math.max(g&&f,0);f=[V+Q,G],D=[V+C-Q,G];const Y=[V+C,G+Q],ee=[V+C,G+te-g],K=[V+C-g,G+te],he=[V+g,G+te],ge=[V,G+te-g],Ee=[V,G+Q];if(x){const J=Math.sqrt(Math.pow(Q,2)-Math.pow(Q-x,2));f[0]-=J,D[0]+=J,Y[1]=Ee[1]=G+Q-x}return te<Q-x&&(x=Math.sqrt(Math.pow(Q,2)-Math.pow(Q-x-te,2)),Y[0]=ee[0]=V+C-Q+x,K[0]=Math.min(Y[0],K[0]),he[0]=Math.max(ee[0],he[0]),ge[0]=Ee[0]=V+Q-x,Y[1]=Ee[1]=G+te),P&&(x=Math.sqrt(Math.pow(g,2)-Math.pow(g-P,2)),K[0]+=x,he[0]-=x,ee[1]=ge[1]=G+te-g+P),te<g-P&&(te=Math.sqrt(Math.pow(g,2)-Math.pow(g-P-te,2)),Y[0]=ee[0]=V+C-g+te,D[0]=Math.min(Y[0],D[0]),f[0]=Math.max(ee[0],f[0]),ge[0]=Ee[0]=V+g-te,ee[1]=ge[1]=G),N.length=0,N.push(["M",...f],["L",...D],["A",Q,Q,0,0,1,...Y],["L",...ee],["A",g,g,0,0,1,...K],["L",...he],["A",g,g,0,0,1,...ge],["L",...Ee],["A",Q,Q,0,0,1,...f],["Z"]),N},O(c.pie,"afterTranslate",function(){const V=M(this.options.borderRadius);for(const G of this.points){const C=G.shapeArgs;C&&(C.borderRadius=R(V.radius,(C.r||0)-(C.innerR||0)))}}),O(d,"afterColumnTranslate",function(){var V,G;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:N,yAxis:j}=this,W=N.stacking==="percent";var C=(G=(V=Z.plotOptions)===null||V===void 0?void 0:V[this.type])===null||G===void 0?void 0:G.borderRadius;V=M(N.borderRadius,q(C)?C:{}),G=j.options.reversed;for(const w of this.points)if({shapeArgs:C}=w,w.shapeType==="roundedRect"&&C){const{width:D=0,height:f=0,y:g=0}=C;var te=g,Q=f;V.scope==="stack"&&w.stackTotal&&(te=j.translate(W?100:w.stackTotal,!1,!0,!1,!0),Q=j.translate(N.threshold||0,!1,!0,!1,!0),Q=this.crispCol(0,Math.min(te,Q),0,Math.abs(te-Q)),te=Q.y,Q=Q.height);const x=(w.negative?-1:1)*(G?-1:1)===-1;let P=V.where;!P&&this.is("waterfall")&&Math.abs((w.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(P="all"),P||(P="end");const Y=Math.min(R(V.radius,D),D/2,P==="all"?f/2:1/0)||0;P==="end"&&(x&&(te-=Y),Q+=Y),H(C,{brBoxHeight:Q,brBoxY:te,r:Y})}}},{order:9})}return d={optionsToObject:M},d}),s(a,"Core/Responsive.js",[a["Core/Utilities.js"]],function(c){const{extend:d,find:m,isArray:n,isObject:S,merge:z,objectEach:Z,pick:O,splat:H,uniqueKey:q}=c;var L;return function(R){function $(V){function G(Q,N,j,W){let w;Z(Q,function(D,f){if(!W&&-1<C.collectionsWithUpdate.indexOf(f)&&N[f])for(D=H(D),j[f]=[],w=0;w<Math.max(D.length,N[f].length);w++)N[f][w]&&(D[w]===void 0?j[f][w]=N[f][w]:(j[f][w]={},G(D[w],N[f][w],j[f][w],W+1)));else S(D)?(j[f]=n(D)?[]:{},G(D,N[f]||{},j[f],W+1)):j[f]=typeof N[f]>"u"?null:N[f]})}const C=this,te={};return G(V,this.options,te,0),te}function M(V,G){const C=V.condition;(C.callback||function(){return this.chartWidth<=O(C.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=O(C.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=O(C.minWidth,0)&&this.chartHeight>=O(C.minHeight,0)}).call(this)&&G.push(V._id)}function E(V,G){const C=this.options.responsive;var te=this.currentResponsive;let Q=[];!G&&C&&C.rules&&C.rules.forEach(N=>{typeof N._id>"u"&&(N._id=q()),this.matchResponsiveRule(N,Q)},this),G=z(...Q.map(N=>m((C||{}).rules||[],j=>j._id===N)).map(N=>N&&N.chartOptions)),G.isResponsiveOptions=!0,Q=Q.toString()||void 0,Q!==(te&&te.ruleIds)&&(te&&this.update(te.undoOptions,V,!0),Q?(te=this.currentOptions(G),te.isResponsiveOptions=!0,this.currentResponsive={ruleIds:Q,mergedOptions:G,undoOptions:te},this.update(G,V,!0)):this.currentResponsive=void 0)}const k=[];R.compose=function(V){return c.pushUnique(k,V)&&d(V.prototype,{currentOptions:$,matchResponsiveRule:M,setResponsive:E}),V}}(L||(L={})),L}),s(a,"masters/highcharts.src.js",[a["Core/Globals.js"],a["Core/Utilities.js"],a["Core/Defaults.js"],a["Core/Animation/Fx.js"],a["Core/Animation/AnimationUtilities.js"],a["Core/Renderer/HTML/AST.js"],a["Core/FormatUtilities.js"],a["Core/Renderer/RendererUtilities.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Renderer/HTML/HTMLElement.js"],a["Core/Renderer/HTML/HTMLRenderer.js"],a["Core/Axis/Axis.js"],a["Core/Axis/DateTimeAxis.js"],a["Core/Axis/LogarithmicAxis.js"],a["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],a["Core/Axis/Tick.js"],a["Core/Tooltip.js"],a["Core/Series/Point.js"],a["Core/Pointer.js"],a["Core/Legend/Legend.js"],a["Core/Chart/Chart.js"],a["Core/Axis/Stacking/StackingAxis.js"],a["Core/Axis/Stacking/StackItem.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Series/Column/ColumnSeries.js"],a["Series/Column/ColumnDataLabel.js"],a["Series/Pie/PieSeries.js"],a["Series/Pie/PieDataLabel.js"],a["Core/Series/DataLabel.js"],a["Core/Responsive.js"],a["Core/Color/Color.js"],a["Core/Time.js"]],function(c,d,m,n,S,z,Z,O,H,q,L,R,$,M,E,k,V,G,C,te,Q,N,j,W,w,D,f,g,x,P,Y,ee,K,he){return c.animate=S.animate,c.animObject=S.animObject,c.getDeferredAnimation=S.getDeferredAnimation,c.setAnimation=S.setAnimation,c.stop=S.stop,c.timers=n.timers,c.AST=z,c.Axis=$,c.Chart=N,c.chart=N.chart,c.Fx=n,c.Legend=Q,c.PlotLineOrBand=k,c.Point=C,c.Pointer=te,c.Series=w,c.StackItem=W,c.SVGElement=H,c.SVGRenderer=q,c.Tick=V,c.Time=he,c.Tooltip=G,c.Color=K,c.color=K.parse,R.compose(q),L.compose(H),te.compose(N),Q.compose(N),c.defaultOptions=m.defaultOptions,c.getOptions=m.getOptions,c.time=m.defaultTime,c.setOptions=m.setOptions,c.dateFormat=Z.dateFormat,c.format=Z.format,c.numberFormat=Z.numberFormat,c.addEvent=d.addEvent,c.arrayMax=d.arrayMax,c.arrayMin=d.arrayMin,c.attr=d.attr,c.clearTimeout=d.clearTimeout,c.correctFloat=d.correctFloat,c.createElement=d.createElement,c.css=d.css,c.defined=d.defined,c.destroyObjectProperties=d.destroyObjectProperties,c.discardElement=d.discardElement,c.distribute=O.distribute,c.erase=d.erase,c.error=d.error,c.extend=d.extend,c.extendClass=d.extendClass,c.find=d.find,c.fireEvent=d.fireEvent,c.getMagnitude=d.getMagnitude,c.getStyle=d.getStyle,c.inArray=d.inArray,c.isArray=d.isArray,c.isClass=d.isClass,c.isDOMElement=d.isDOMElement,c.isFunction=d.isFunction,c.isNumber=d.isNumber,c.isObject=d.isObject,c.isString=d.isString,c.keys=d.keys,c.merge=d.merge,c.normalizeTickInterval=d.normalizeTickInterval,c.objectEach=d.objectEach,c.offset=d.offset,c.pad=d.pad,c.pick=d.pick,c.pInt=d.pInt,c.relativeLength=d.relativeLength,c.removeEvent=d.removeEvent,c.seriesType=D.seriesType,c.splat=d.splat,c.stableSort=d.stableSort,c.syncTimeout=d.syncTimeout,c.timeUnits=d.timeUnits,c.uniqueKey=d.uniqueKey,c.useSerialIds=d.useSerialIds,c.wrap=d.wrap,g.compose(f),Y.compose(w),M.compose($),E.compose($),P.compose(x),k.compose($),ee.compose(N),j.compose($,N,w),G.compose(te),c}),a["masters/highcharts.src.js"]._modules=a,a["masters/highcharts.src.js"]})})(LA);var OA=LA.exports;const Pl=uh(OA);(function(e,t){(function(s,a){e.exports=a(OA,A8)})(window,function(s,a){return m={},c.m=d=[function(n,S){n.exports=s},function(n,S){n.exports=a},function(n,Z,z){z.r(Z),z.d(Z,"Chart",function(){return V}),z.d(Z,"default",function(){return G});var Z=z(0),O=z.n(Z);function H(C,te){return function Q(N,j,W){function w(D,f){!O.a.isObject(D,!W)||O.a.isClass(D)||O.a.isDOMElement(D)?N[f]=j[f]:N[f]=Q(N[f]||O.a.isArray(D)?[]:{},D,W)}return O.a.isArray(j)?j.forEach(w):O.a.objectEach(j,w),N}({},C,te)}var q=z(1);function L(C){return function(te){if(Array.isArray(te))return R(te)}(C)||function(te){if(typeof Symbol<"u"&&te[Symbol.iterator]!=null||te["@@iterator"]!=null)return Array.from(te)}(C)||function(te,Q){if(te){if(typeof te=="string")return R(te,Q);var N=Object.prototype.toString.call(te).slice(8,-1);return(N=N==="Object"&&te.constructor?te.constructor.name:N)==="Map"||N==="Set"?Array.from(te):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?R(te,Q):void 0}}(C)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function R(C,te){(te==null||te>C.length)&&(te=C.length);for(var Q=0,N=new Array(te);Q<te;Q++)N[Q]=C[Q];return N}function $(C,te){var Q,N=Object.keys(C);return Object.getOwnPropertySymbols&&(Q=Object.getOwnPropertySymbols(C),te&&(Q=Q.filter(function(j){return Object.getOwnPropertyDescriptor(C,j).enumerable})),N.push.apply(N,Q)),N}function M(C){for(var te=1;te<arguments.length;te++){var Q=arguments[te]!=null?arguments[te]:{};te%2?$(Object(Q),!0).forEach(function(N){var j,W;j=C,N=Q[W=N],W in j?Object.defineProperty(j,W,{value:N,enumerable:!0,configurable:!0,writable:!0}):j[W]=N}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(Q)):$(Object(Q)).forEach(function(N){Object.defineProperty(C,N,Object.getOwnPropertyDescriptor(Q,N))})}return C}function E(){this.chart&&this.chart.destroy()}var k=function(C,te){return te=te.split(".")[0]<3?{render:function(Q){return Q("div",{ref:"chart"})},beforeDestroy:E}:{render:function(){return Object(q.h)("div",{ref:"chart"})},beforeUnmount:E},M({template:'<div ref="chart"></div>',props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}},watch:{options:{handler:function(Q){var N;(N=this.chart).update.apply(N,[H(Q,this.deepCopyOnUpdate)].concat(L(this.updateArgs)))},deep:!0}},mounted:function(){var Q=this.highcharts||C;this.options&&Q[this.constructorType]?this.chart=Q[this.constructorType](this.$refs.chart,H(this.options,!0),this.callback||null):this.options?console.warn("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}},te)},V=k(O.a,q.version||z.n(q).a.version);function G(C){var te=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};C.component(te.tagName||"highcharts",k(te.highcharts||O.a,C.version))}}],c.c=m,c.d=function(n,S,z){c.o(n,S)||Object.defineProperty(n,S,{enumerable:!0,get:z})},c.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,S){if(1&S&&(n=c(n)),8&S||4&S&&typeof n=="object"&&n&&n.__esModule)return n;var z=Object.create(null);if(c.r(z),Object.defineProperty(z,"default",{enumerable:!0,value:n}),2&S&&typeof n!="string")for(var Z in n)c.d(z,Z,(function(O){return n[O]}).bind(null,Z));return z},c.n=function(n){var S=n&&n.__esModule?function(){return n.default}:function(){return n};return c.d(S,"a",S),S},c.o=function(n,S){return Object.prototype.hasOwnProperty.call(n,S)},c.p="",c(c.s=2);function c(n){if(m[n])return m[n].exports;var S=m[n]={i:n,l:!1,exports:{}};return d[n].call(S.exports,S,S.exports,c),S.l=!0,S.exports}var d,m})})(IA);var Kf=IA.exports,RA={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function s(a,c,d,m){a.hasOwnProperty(c)||(a[c]=m.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:a[c]}})))}t=t?t._modules:{},s(t,"Extensions/Pane.js",[t["Core/Chart/Chart.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],function(a,c,d,m,n){function S(M,E,k,V,G){let C=!0;const te=k[0],Q=k[1],N=Math.sqrt(Math.pow(M-te,2)+Math.pow(E-Q,2));return O(V)&&O(G)&&(M=Math.atan2(Z(E-Q,8),Z(M-te,8)),G!==V&&(C=V>G?M>=V&&M<=Math.PI||M<=G&&M>=-Math.PI:M>=V&&M<=Z(G,8))),N<=Math.ceil(k[2]/2)&&C}const{addEvent:z,correctFloat:Z,defined:O,extend:H,merge:q,pick:L,splat:R}=n;a.prototype.collectionsWithUpdate.push("pane");class ${constructor(E,k){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(E,k)}init(E,k){this.chart=k,this.background=[],k.pane.push(this),this.setOptions(E)}setOptions(E){this.options=q(this.defaultOptions,this.chart.angular?{background:{}}:void 0,E)}render(){var E=this.options;let k=this.options.background;var V=this.chart.renderer;if(this.group||(this.group=V.g("pane-group").attr({zIndex:E.zIndex||0}).add()),this.updateCenter(),k)for(k=R(k),E=Math.max(k.length,this.background.length||0),V=0;V<E;V++)k[V]&&this.axis?this.renderBackground(q(this.defaultBackgroundOptions,k[V]),V):this.background[V]&&(this.background[V]=this.background[V].destroy(),this.background.splice(V,1))}renderBackground(E,k){let V="animate",G={class:"highcharts-pane "+(E.className||"")};this.chart.styledMode||H(G,{fill:E.backgroundColor,stroke:E.borderColor,"stroke-width":E.borderWidth}),this.background[k]||(this.background[k]=this.chart.renderer.path().add(this.group),V="attr"),this.background[k][V]({d:this.axis.getPlotBandPath(E.from,E.to,E)}).attr(G)}updateCenter(E){this.center=(E||this.axis||{}).center=c.getCenter.call(this)}update(E,k){q(!0,this.options,E),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(V){V.pane===this&&(V.pane=null,V.update({},k))},this)}}return a.prototype.getHoverPane=function(M){const E=this;let k;return M&&E.pane.forEach(V=>{S(M.chartX-E.plotLeft,M.chartY-E.plotTop,V.center)&&(k=V)}),k},z(a,"afterIsInsidePlot",function(M){this.polar&&(M.options.inverted&&([M.x,M.y]=[M.y,M.x]),M.isInsidePlot=this.pane.some(E=>S(M.x,M.y,E.center,E.axis&&E.axis.normalizedStartAngleRad,E.axis&&E.axis.normalizedEndAngleRad)))}),z(m,"beforeGetHoverData",function(M){const E=this.chart;E.polar?(E.hoverPane=E.getHoverPane(M),M.filter=function(k){return k.visible&&!(!M.shared&&k.directTouch)&&L(k.options.enableMouseTracking,!0)&&(!E.hoverPane||k.xAxis.pane===E.hoverPane)}):E.hoverPane=void 0}),z(m,"afterGetHoverData",function(M){const E=this.chart;M.hoverPoint&&M.hoverPoint.plotX&&M.hoverPoint.plotY&&E.hoverPane&&!S(M.hoverPoint.plotX,M.hoverPoint.plotY,E.hoverPane.center)&&(M.hoverPoint=void 0)}),d.Pane=$,d.Pane}),s(t,"Series/AreaRange/AreaRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c){const{area:{prototype:{pointClass:d,pointClass:{prototype:m}}}}=a.seriesTypes,{defined:n,isNumber:S}=c;class z extends d{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const O=this.state,H=this.series,q=H.chart.polar;n(this.plotHigh)||(this.plotHigh=H.yAxis.toPixels(this.high,!0)),n(this.plotLow)||(this.plotLow=this.plotY=H.yAxis.toPixels(this.low,!0)),H.stateMarkerGraphic&&(H.lowerStateMarkerGraphic=H.stateMarkerGraphic,H.stateMarkerGraphic=H.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,q&&S(this.plotHighX)&&(this.plotX=this.plotHighX),m.setState.apply(this,arguments),this.state=O,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],q&&S(this.plotLowX)&&(this.plotX=this.plotLowX),H.stateMarkerGraphic&&(H.upperStateMarkerGraphic=H.stateMarkerGraphic,H.stateMarkerGraphic=H.lowerStateMarkerGraphic,H.lowerStateMarkerGraphic=void 0),m.setState.apply(this,arguments)}haloPath(){const O=this.series.chart.polar;let H=[];return this.plotY=this.plotLow,O&&S(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(H=m.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,O&&S(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(H=H.concat(m.haloPath.apply(this,arguments))),H}isValid(){return S(this.low)&&S(this.high)}}return z}),s(t,"Series/AreaRange/AreaRangeSeries.js",[t["Series/AreaRange/AreaRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,d,m){({noop:c}=c);const{area:n,area:{prototype:S},column:{prototype:z}}=d.seriesTypes,{addEvent:Z,defined:O,extend:H,isArray:q,isNumber:L,pick:R,merge:$}=m;class M extends n{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(k){return[k.low,k.high]}highToXY(k){const V=this.chart,G=this.xAxis.postTranslate(k.rectPlotX||0,this.yAxis.len-(k.plotHigh||0));k.plotHighX=G.x-V.plotLeft,k.plotHigh=G.y-V.plotTop,k.plotLowX=k.plotX}getGraphPath(k){var V=[],G=[];const C=S.getGraphPath;var te=this.options;const Q=this.chart.polar,N=Q&&te.connectEnds!==!1,j=te.connectNulls;let W,w,D,f=te.step;for(k=k||this.points,W=k.length;W--;){w=k[W];const g=Q?{plotX:w.rectPlotX,plotY:w.yBottom,doCurve:!1}:{plotX:w.plotX,plotY:w.plotY,doCurve:!1};w.isNull||N||j||k[W+1]&&!k[W+1].isNull||G.push(g),D={polarPlotY:w.polarPlotY,rectPlotX:w.rectPlotX,yBottom:w.yBottom,plotX:R(w.plotHighX,w.plotX),plotY:w.plotHigh,isNull:w.isNull},G.push(D),V.push(D),w.isNull||N||j||k[W-1]&&!k[W-1].isNull||G.push(g)}return k=C.call(this,k),f&&(f===!0&&(f="left"),te.step={left:"right",center:"center",right:"left"}[f]),V=C.call(this,V),G=C.call(this,G),te.step=f,te=[].concat(k,V),!this.chart.polar&&G[0]&&G[0][0]==="M"&&(G[0]=["L",G[0][1],G[0][2]]),this.graphPath=te,this.areaPath=k.concat(G),te.isArea=!0,te.xMap=k.xMap,this.areaPath.xMap=k.xMap,te}drawDataLabels(){const k=this.points,V=k.length,G=[],C=this.options.dataLabels,te=this.chart.inverted;let Q,N,j,W,w;if(C){if(q(C)?(W=C[0]||{enabled:!1},w=C[1]||{enabled:!1}):(W=H({},C),W.x=C.xHigh,W.y=C.yHigh,w=H({},C),w.x=C.xLow,w.y=C.yLow),W.enabled||this._hasPointLabels){for(Q=V;Q--;)if(N=k[Q]){const{plotHigh:D=0,plotLow:f=0}=N;j=W.inside?D<f:D>f,N.y=N.high,N._plotY=N.plotY,N.plotY=D,G[Q]=N.dataLabel,N.dataLabel=N.dataLabelUpper,N.below=j,te?W.align||(W.align=j?"right":"left"):W.verticalAlign||(W.verticalAlign=j?"top":"bottom")}for(this.options.dataLabels=W,S.drawDataLabels&&S.drawDataLabels.apply(this,arguments),Q=V;Q--;)(N=k[Q])&&(N.dataLabelUpper=N.dataLabel,N.dataLabel=G[Q],delete N.dataLabels,N.y=N.low,N.plotY=N._plotY)}if(w.enabled||this._hasPointLabels){for(Q=V;Q--;)if(N=k[Q]){const{plotHigh:D=0,plotLow:f=0}=N;j=w.inside?D<f:D>f,N.below=!j,te?w.align||(w.align=j?"left":"right"):w.verticalAlign||(w.verticalAlign=j?"bottom":"top")}this.options.dataLabels=w,S.drawDataLabels&&S.drawDataLabels.apply(this,arguments)}if(W.enabled)for(Q=V;Q--;)(N=k[Q])&&(N.dataLabels=[N.dataLabelUpper,N.dataLabel].filter(function(D){return!!D}));this.options.dataLabels=C}}alignDataLabel(){z.alignDataLabel.apply(this,arguments)}drawPoints(){const k=this.points.length;let V,G;for(S.drawPoints.apply(this,arguments),V=0;V<k;)G=this.points[V],G.graphics=G.graphics||[],G.origProps={plotY:G.plotY,plotX:G.plotX,isInside:G.isInside,negative:G.negative,zone:G.zone,y:G.y},(G.graphic||G.graphics[0])&&(G.graphics[0]=G.graphic),G.graphic=G.graphics[1],G.plotY=G.plotHigh,O(G.plotHighX)&&(G.plotX=G.plotHighX),G.y=R(G.high,G.origProps.y),G.negative=G.y<(this.options.threshold||0),this.zones.length&&(G.zone=G.getZone()),this.chart.polar||(G.isInside=G.isTopInside=typeof G.plotY<"u"&&0<=G.plotY&&G.plotY<=this.yAxis.len&&0<=G.plotX&&G.plotX<=this.xAxis.len),V++;for(S.drawPoints.apply(this,arguments),V=0;V<k;)G=this.points[V],G.graphics=G.graphics||[],(G.graphic||G.graphics[1])&&(G.graphics[1]=G.graphic),G.graphic=G.graphics[0],G.origProps&&(H(G,G.origProps),delete G.origProps),V++}}return M.defaultOptions=$(n.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),Z(M,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(E=>{const k=E.high,V=E.plotY;E.isNull?E.plotY=void 0:(E.plotLow=V,E.plotHigh=L(k)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(k):k,!1,!0,void 0,!0):void 0,this.dataModify&&(E.yBottom=E.plotHigh))})},{order:0}),Z(M,"afterTranslate",function(){this.points.forEach(E=>{if(this.chart.polar)this.highToXY(E),E.plotLow=E.plotY,E.tooltipPos=[((E.plotHighX||0)+(E.plotLowX||0))/2,((E.plotHigh||0)+(E.plotLow||0))/2];else{const k=E.pos(!1,E.plotLow),V=E.pos(!1,E.plotHigh);k&&V&&(k[0]=(k[0]+V[0])/2,k[1]=(k[1]+V[1])/2),E.tooltipPos=k}})},{order:3}),H(M.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:a,pointValKey:"low",setStackedPoints:c}),d.registerSeriesType("arearange",M),M}),s(t,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[t["Series/AreaRange/AreaRangeSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,d){const{spline:{prototype:m}}=c.seriesTypes,{merge:n,extend:S}=d;class z extends a{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return z.defaultOptions=n(a.defaultOptions),S(z.prototype,{getPointSpline:m.getPointSpline}),c.registerSeriesType("areasplinerange",z),z}),s(t,"Series/BoxPlot/BoxPlotSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,d,m){({noop:c}=c);const{extend:n,merge:S,pick:z}=m;class Z extends a{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const H=this.yAxis,q=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(L){q.forEach(function(R){L[R]!==null&&(L[R+"Plot"]=H.translate(L[R],0,1,0,1))}),L.plotHigh=L.highPlot})}drawPoints(){let H=this,q=H.options,L=H.chart,R=L.renderer,$,M,E,k,V,G,C=0,te,Q,N,j,W=H.doQuartiles!==!1,w,D=H.options.whiskerLength;H.points.forEach(function(f){var g=f.graphic;let x=g?"animate":"attr",P=f.shapeArgs,Y={},ee={},K={},he={},ge=f.color||H.color;typeof f.plotY<"u"&&(te=Math.round(P.width),Q=Math.floor(P.x),N=Q+te,j=Math.round(te/2),$=Math.floor(W?f.q1Plot:f.lowPlot),M=Math.floor(W?f.q3Plot:f.lowPlot),E=Math.floor(f.highPlot),k=Math.floor(f.lowPlot),g||(f.graphic=g=R.g("point").add(H.group),f.stem=R.path().addClass("highcharts-boxplot-stem").add(g),D&&(f.whiskers=R.path().addClass("highcharts-boxplot-whisker").add(g)),W&&(f.box=R.path(void 0).addClass("highcharts-boxplot-box").add(g)),f.medianShape=R.path(void 0).addClass("highcharts-boxplot-median").add(g)),L.styledMode||(ee.stroke=f.stemColor||q.stemColor||ge,ee["stroke-width"]=z(f.stemWidth,q.stemWidth,q.lineWidth),ee.dashstyle=f.stemDashStyle||q.stemDashStyle||q.dashStyle,f.stem.attr(ee),D&&(K.stroke=f.whiskerColor||q.whiskerColor||ge,K["stroke-width"]=z(f.whiskerWidth,q.whiskerWidth,q.lineWidth),K.dashstyle=f.whiskerDashStyle||q.whiskerDashStyle||q.dashStyle,f.whiskers.attr(K)),W&&(Y.fill=f.fillColor||q.fillColor||ge,Y.stroke=q.lineColor||ge,Y["stroke-width"]=q.lineWidth||0,Y.dashstyle=f.boxDashStyle||q.boxDashStyle||q.dashStyle,f.box.attr(Y)),he.stroke=f.medianColor||q.medianColor||ge,he["stroke-width"]=z(f.medianWidth,q.medianWidth,q.lineWidth),he.dashstyle=f.medianDashStyle||q.medianDashStyle||q.dashStyle,f.medianShape.attr(he)),G=f.stem.strokeWidth()%2/2,C=Q+j+G,g=[["M",C,M],["L",C,E],["M",C,$],["L",C,k]],f.stem[x]({d:g}),W&&(G=f.box.strokeWidth()%2/2,$=Math.floor($)+G,M=Math.floor(M)+G,Q+=G,N+=G,g=[["M",Q,M],["L",Q,$],["L",N,$],["L",N,M],["L",Q,M],["Z"]],f.box[x]({d:g})),D&&(G=f.whiskers.strokeWidth()%2/2,E+=G,k+=G,w=/%$/.test(D)?j*parseFloat(D)/100:D/2,g=[["M",C-w,E],["L",C+w,E],["M",C-w,k],["L",C+w,k]],f.whiskers[x]({d:g})),V=Math.round(f.medianPlot),G=f.medianShape.strokeWidth()%2/2,V+=G,g=[["M",Q,V],["L",N,V]],f.medianShape[x]({d:g}))})}toYData(H){return[H.low,H.q1,H.median,H.q3,H.high]}}return Z.defaultOptions=S(a.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),n(Z.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:c,setStackedPoints:c}),d.registerSeriesType("boxplot",Z),Z}),s(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),s(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,c,d,m){const{parse:n}=a,{noop:S}=d,{arrayMax:z,arrayMin:Z,isNumber:O,merge:H,pick:q,stableSort:L}=m;class R{constructor(M,E){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=S,this.init(M,E)}init(M,E){this.options=M,this.visible=!0,this.chart=E.chart,this.legend=E}addToLegend(M){M.splice(this.options.legendIndex,0,this)}drawLegendSymbol(M){const E=q(M.options.itemDistance,20),k=this.legendItem||{},V=this.options;var G=V.ranges,C=V.connectorDistance;if(G&&G.length&&O(G[0].value)){L(G,function(Q,N){return N.value-Q.value}),this.ranges=G,this.setOptions(),this.render(),M=this.getMaxLabelSize();var te=this.ranges[0].radius;G=2*te,C=C-te+M.width,C=0<C?C:0,this.maxLabel=M,this.movementX=V.labels.align==="left"?C:0,k.labelWidth=G+C+E,k.labelHeight=G+M.height/2}else M.options.bubbleLegend.autoRanges=!0}setOptions(){const M=this.ranges,E=this.options,k=this.chart.series[E.seriesIndex],V=this.legend.baseline,G={zIndex:E.zIndex,"stroke-width":E.borderWidth},C={zIndex:E.zIndex,"stroke-width":E.connectorWidth},te={align:this.legend.options.rtl||E.labels.align==="left"?"right":"left",zIndex:E.zIndex},Q=k.options.marker.fillOpacity,N=this.chart.styledMode;M.forEach(function(j,W){N||(G.stroke=q(j.borderColor,E.borderColor,k.color),G.fill=q(j.color,E.color,Q!==1?n(k.color).setOpacity(Q).get("rgba"):k.color),C.stroke=q(j.connectorColor,E.connectorColor,k.color)),M[W].radius=this.getRangeRadius(j.value),M[W]=H(M[W],{center:M[0].radius-M[W].radius+V}),N||H(!0,M[W],{bubbleAttribs:H(G),connectorAttribs:H(C),labelAttribs:te})},this)}getRangeRadius(M){const E=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,E.ranges[E.ranges.length-1].value,E.ranges[0].value,E.minSize,E.maxSize,M)}render(){const M=this.legendItem||{},E=this.chart.renderer,k=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),M.symbol=E.g("bubble-legend"),M.label=E.g("bubble-legend-item"),M.symbol.translateX=0,M.symbol.translateY=0,M.symbol.add(M.label),M.label.add(M.group);for(const V of this.ranges)V.value>=k&&this.renderRange(V);this.hideOverlappingLabels()}renderRange(M){var E=this.options;const k=E.labels;var V=this.chart;const G=V.series[E.seriesIndex],C=V.renderer,te=this.symbols;V=te.labels;const Q=M.center,N=Math.abs(M.radius);var j=E.connectorDistance||0;const W=k.align,w=E.connectorWidth,D=this.ranges[0].radius||0,f=Q-N-E.borderWidth/2+w/2,g=C.styledMode;j=this.legend.options.rtl||W==="left"?-j:j,W==="center"&&(j=0,E.connectorDistance=0,M.labelAttribs.align="center"),te.bubbleItems.push(C.circle(D,Q+((f%1?1:.5)-(w%2?0:.5)),N).attr(g?{}:M.bubbleAttribs).addClass((g?"highcharts-color-"+G.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(E.className||"")).add(this.legendItem.symbol)),te.connectors.push(C.path(C.crispLine([["M",D,f],["L",D+j,f]],E.connectorWidth)).attr(g?{}:M.connectorAttribs).addClass((g?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(E.connectorClassName||"")).add(this.legendItem.symbol)),M=C.text(this.formatLabel(M)).attr(g?{}:M.labelAttribs).css(g?{}:k.style).addClass("highcharts-bubble-legend-labels "+(E.labels.className||"")).add(this.legendItem.symbol),E={x:D+j+E.labels.x,y:f+E.labels.y+.4*M.getBBox().height},M.attr(E),V.push(M),M.placed=!0,M.alignAttr=E}getMaxLabelSize(){let M,E;return this.symbols.labels.forEach(function(k){E=k.getBBox(!0),M=M?E.width>M.width?E:M:E}),M||{}}formatLabel(M){var E=this.options;const k=E.labels.formatter;E=E.labels.format;const{numberFormatter:V}=this.chart;return E?c.format(E,M):k?k.call(M):V(M.value,1)}hideOverlappingLabels(){const M=this.chart,E=this.symbols;!this.options.labels.allowOverlap&&E&&(M.hideOverlappingLabels(E.labels),E.labels.forEach(function(k,V){k.newOpacity?k.newOpacity!==k.oldOpacity&&E.connectors[V].show():E.connectors[V].hide()}))}getRanges(){const M=this.legend.bubbleLegend,E=M.options.ranges;let k,V,G=Number.MAX_VALUE,C=-Number.MAX_VALUE;return M.chart.series.forEach(function(te){te.isBubble&&!te.ignoreSeries&&(V=te.zData.filter(O),V.length&&(G=q(te.options.zMin,Math.min(G,Math.max(Z(V),te.options.displayNegative===!1?te.options.zThreshold:-Number.MAX_VALUE))),C=q(te.options.zMax,Math.max(C,z(V)))))}),k=G===C?[{value:C}]:[{value:G},{value:(G+C)/2},{value:C,autoRanges:!0}],E.length&&E[0].radius&&k.reverse(),k.forEach(function(te,Q){E&&E[Q]&&(k[Q]=H(E[Q],te))}),k}predictBubbleSizes(){var M=this.chart,E=M.legend.options,k=E.floating;const V=(E=E.layout==="horizontal")?M.legend.lastLineHeight:0,G=M.plotSizeX,C=M.plotSizeY;var te=M.series[this.options.seriesIndex],Q=te.getPxExtremes();M=Math.ceil(Q.minPxSize),Q=Math.ceil(Q.maxPxSize);const N=Math.min(C,G);return te=te.options.maxSize,k||!/%$/.test(te)?k=Q:(te=parseFloat(te),k=(N+V)*te/100/(te/100+1),(E&&C-k>=G||!E&&G-k>=C)&&(k=Q)),[M,Math.ceil(k)]}updateRanges(M,E){const k=this.legend.options.bubbleLegend;k.minSize=M,k.maxSize=E,k.ranges=this.getRanges()}correctSizes(){const M=this.legend,E=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(E.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,E.maxPxSize),M.render())}}return R}),s(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],function(a,c,d,m){function n(E,k,V){const G=this.legend;var C=0<=S(this);let te,Q;G&&G.options.enabled&&G.bubbleLegend&&G.options.bubbleLegend.autoRanges&&C?(te=G.bubbleLegend.options,C=G.bubbleLegend.predictBubbleSizes(),G.bubbleLegend.updateRanges(C[0],C[1]),te.placed||(G.group.placed=!1,G.allItems.forEach(N=>{Q=N.legendItem||{},Q.group&&(Q.group.translateY=null)})),G.render(),this.getMargins(),this.axes.forEach(function(N){N.visible&&N.render(),te.placed||(N.setScale(),N.updateNames(),R(N.ticks,function(j){j.isNew=!0,j.isNewLabel=!0}))}),te.placed=!0,this.getMargins(),E.call(this,k,V),G.bubbleLegend.correctSizes(),H(G,z(G))):(E.call(this,k,V),G&&G.options.enabled&&G.bubbleLegend&&(G.render(),H(G,z(G))))}function S(E){E=E.series;let k=0;for(;k<E.length;){if(E[k]&&E[k].isBubble&&E[k].visible&&E[k].zData.length)return k;k++}return-1}function z(E){E=E.allItems;const k=[],V=E.length;let G,C,te=0;for(C=0;C<V;C++){var Q=E[C].legendItem||{};if(G=(E[C+1]||{}).legendItem||{},Q.labelHeight&&(E[C].itemHeight=Q.labelHeight),E[C]===E[V-1]||Q.y!==G.y){for(k.push({height:0}),Q=k[k.length-1],te;te<=C;te++)E[te].itemHeight>Q.height&&(Q.height=E[te].itemHeight);Q.step=C}}return k}function Z(E){const k=this.bubbleLegend,V=this.options,G=V.bubbleLegend,C=S(this.chart);k&&k.ranges&&k.ranges.length&&(G.ranges.length&&(G.autoRanges=!!G.ranges[0].autoRanges),this.destroyItem(k)),0<=C&&V.enabled&&G.enabled&&(G.seriesIndex=C,this.bubbleLegend=new c(G,this),this.bubbleLegend.addToLegend(E.allItems))}function O(E){if(E.defaultPrevented)return!1;var k=this.chart;E=this.visible;const V=this.chart.legend;V&&V.bubbleLegend&&(this.visible=!E,this.ignoreSeries=E,k=0<=S(k),V.bubbleLegend.visible!==k&&(V.update({bubbleLegend:{enabled:k}}),V.bubbleLegend.visible=k),this.visible=E)}function H(E,k){const V=E.options.rtl;let G,C,te,Q,N=0;E.allItems.forEach((j,W)=>{Q=j.legendItem||{},Q.group&&(G=Q.group.translateX||0,C=Q.y||0,((te=j.movementX)||V&&j.ranges)&&(te=V?G-j.options.maxSize/2:G+te,Q.group.attr({translateX:te})),W>k[N].step&&N++,Q.group.attr({translateY:Math.round(C+k[N].height/2)}),Q.y=C+k[N].height/2)})}const{setOptions:q}=d,{addEvent:L,objectEach:R,wrap:$}=m,M=[];return{compose:function(E,k,V){m.pushUnique(M,E)&&(q({legend:{bubbleLegend:a}}),$(E.prototype,"drawChartBox",n)),m.pushUnique(M,k)&&L(k,"afterGetAllItems",Z),m.pushUnique(M,V)&&L(V,"legendItemClick",O)}}}),s(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,d){({seriesTypes:{scatter:{prototype:{pointClass:c}}}}=c),{extend:d}=d;class m extends c{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(S){return a.prototype.haloPath.call(this,S===0?0:(this.marker&&this.marker.radius||0)+S)}}return d(m.prototype,{ttBelow:!1}),m}),s(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,d,m,n,S){function z(){const Q=this.len,N=this.chart,j=this.isXAxis,W=j?"xData":"yData",w=this.min,D=this.max-w;let f=0,g=Q,x=Q/D,P;this.series.forEach(Y=>{if(Y.bubblePadding&&(Y.visible||!N.options.chart.ignoreHiddenSeries)){P=this.allowZoomOutside=!0;const ee=Y[W];if(j&&((Y.onPoint||Y).getRadii(0,0,Y),Y.onPoint&&(Y.radii=Y.onPoint.radii)),0<D){let K=ee.length;for(;K--;)if(k(ee[K])&&this.dataMin<=ee[K]&&ee[K]<=this.max){const he=Y.radii&&Y.radii[K]||0;f=Math.min((ee[K]-w)*x-he,f),g=Math.max((ee[K]-w)*x+he,g)}}}}),P&&0<D&&!this.logarithmic&&(g-=Q,x*=(Q+Math.max(0,f)-Math.min(g,Q))/Q,[["min","userMin",f],["max","userMax",g]].forEach(Y=>{typeof G(this.options[Y[0]],this[Y[1]])>"u"&&(this[Y[0]]+=Y[2]/x)}))}const{parse:Z}=d;({noop:d}=m);const{series:O,seriesTypes:{column:{prototype:H},scatter:q}}=n,{addEvent:L,arrayMax:R,arrayMin:$,clamp:M,extend:E,isNumber:k,merge:V,pick:G}=S,C=[];class te extends q{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(N,j,W,w){a.compose(j,W,w),S.pushUnique(C,N)&&(N.prototype.beforePadding=z)}animate(N){!N&&this.points.length<this.options.animationLimit&&this.points.forEach(function(j){const{graphic:W}=j;W&&W.width&&(this.hasRendered||W.attr({x:j.plotX,y:j.plotY,width:1,height:1}),W.animate(this.markerAttribs(j),this.options.animation))},this)}getRadii(){const N=this.zData,j=this.yData,W=[];let w,D,f,g=this.chart.bubbleZExtremes;const{minPxSize:x,maxPxSize:P}=this.getPxExtremes();if(!g){let Y=Number.MAX_VALUE,ee=-Number.MAX_VALUE,K;this.chart.series.forEach(he=>{he.bubblePadding&&(he.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(he=(he.onPoint||he).getZExtremes())&&(Y=Math.min(G(Y,he.zMin),he.zMin),ee=Math.max(G(ee,he.zMax),he.zMax),K=!0)}),K?(g={zMin:Y,zMax:ee},this.chart.bubbleZExtremes=g):g={zMin:0,zMax:0}}for(D=0,w=N.length;D<w;D++)f=N[D],W.push(this.getRadius(g.zMin,g.zMax,x,P,f,j&&j[D]));this.radii=W}getRadius(N,j,W,w,D,f){const g=this.options,x=g.sizeBy!=="width",P=g.zThreshold;let Y=j-N,ee=.5;if(f===null||D===null)return null;if(k(D)){if(g.sizeByAbsoluteValue&&(D=Math.abs(D-P),Y=Math.max(j-P,Math.abs(N-P)),N=0),D<N)return W/2-1;0<Y&&(ee=(D-N)/Y)}return x&&0<=ee&&(ee=Math.sqrt(ee)),Math.ceil(W+ee*(w-W))/2}hasData(){return!!this.processedXData.length}pointAttribs(N,j){const W=this.options.marker.fillOpacity;return N=O.prototype.pointAttribs.call(this,N,j),W!==1&&(N.fill=Z(N.fill).setOpacity(W).get("rgba")),N}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:N,radii:j}=this,{minPxSize:W}=this.getPxExtremes();let w=N.length;for(;w--;){const D=N[w],f=j?j[w]:0;k(f)&&f>=W/2?(D.marker=E(D.marker,{radius:f,width:2*f,height:2*f}),D.dlBox={x:D.plotX-f,y:D.plotY-f,width:2*f,height:2*f}):(D.shapeArgs=D.plotY=D.dlBox=void 0,D.isInside=!1)}}getPxExtremes(){const N=Math.min(this.chart.plotWidth,this.chart.plotHeight);var j=w=>{let D;return typeof w=="string"&&(D=/%$/.test(w),w=parseInt(w,10)),D?N*w/100:w};const W=j(G(this.options.minSize,8));return j=Math.max(j(G(this.options.maxSize,"20%")),W),{minPxSize:W,maxPxSize:j}}getZExtremes(){var N=this.options;const j=(this.zData||[]).filter(k);if(j.length){const W=G(N.zMin,M($(j),N.displayNegative===!1?N.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(N=G(N.zMax,R(j)),k(W)&&k(N))return{zMin:W,zMax:N}}}}return te.defaultOptions=V(q.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:Q}=this.series.chart,{z:N}=this.point;return k(N)?Q(N,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),E(te.prototype,{alignDataLabel:H.alignDataLabel,applyZones:d,bubblePadding:!0,buildKDTree:d,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:c,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),L(te,"updatedData",Q=>{delete Q.target.chart.bubbleZExtremes}),L(te,"remove",Q=>{delete Q.target.chart.bubbleZExtremes}),n.registerSeriesType("bubble",te),te}),s(t,"Series/ColumnRange/ColumnRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c){const{seriesTypes:{column:{prototype:{pointClass:{prototype:d}}},arearange:{prototype:{pointClass:m}}}}=a,{extend:n,isNumber:S}=c;class z extends m{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return S(this.low)}}return n(z.prototype,{setState:d.setState}),z}),s(t,"Series/ColumnRange/ColumnRangeSeries.js",[t["Series/ColumnRange/ColumnRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,d,m){({noop:c}=c);const{seriesTypes:{arearange:n,column:S,column:{prototype:z}}}=d,{addEvent:Z,clamp:O,extend:H,isNumber:q,merge:L,pick:R}=m;class $ extends n{setOptions(){return L(!0,arguments[0],{stacking:void 0}),n.prototype.setOptions.apply(this,arguments)}translate(){return z.translate.apply(this)}pointAttribs(){return z.pointAttribs.apply(this,arguments)}translate3dPoints(){return z.translate3dPoints.apply(this,arguments)}translate3dShapes(){return z.translate3dShapes.apply(this,arguments)}}return $.defaultOptions=L(S.defaultOptions,n.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),Z($,"afterColumnTranslate",function(){const M=this.yAxis,E=this.xAxis,k=E.startAngleRad,V=this.chart,G=this.xAxis.isRadial,C=Math.max(V.chartWidth,V.chartHeight)+999;let te,Q,N,j;this.points.forEach(W=>{const w=W.shapeArgs||{},D=this.options.minPointLength,f=W.plotY,g=M.translate(W.high,0,1,0,1);if(q(g)&&q(f))if(W.plotHigh=O(g,-C,C),W.plotLow=O(f,-C,C),j=W.plotHigh,te=R(W.rectPlotY,W.plotY)-W.plotHigh,Math.abs(te)<D?(Q=D-te,te+=Q,j-=Q/2):0>te&&(te*=-1,j-=te),G&&this.polar)N=W.barX+k,W.shapeType="arc",W.shapeArgs=this.polar.arc(j+te,j,N,N+W.pointWidth);else{w.height=te,w.y=j;const{x=0,width:P=0}=w;W.shapeArgs=L(W.shapeArgs,this.crispCol(x,j,P,te)),W.tooltipPos=V.inverted?[M.len+M.pos-V.plotLeft-j-te/2,E.len+E.pos-V.plotTop-x-P/2,te]:[E.left-V.plotLeft+x+P/2,M.pos-V.plotTop+j+te/2,te]}})},{order:5}),H($.prototype,{directTouch:!0,pointClass:a,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:z.adjustForMissingColumns,animate:z.animate,crispCol:z.crispCol,drawGraph:c,drawPoints:z.drawPoints,getSymbol:c,drawTracker:z.drawTracker,getColumnMetrics:z.getColumnMetrics}),d.registerSeriesType("columnrange",$),$}),s(t,"Series/ColumnPyramid/ColumnPyramidSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,d){const{prototype:m}=a,{clamp:n,merge:S,pick:z}=d;class Z extends a{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let H=this,q=H.chart,L=H.options;var R=H.dense=2>H.closestPointRange*H.xAxis.transA;R=H.borderWidth=z(L.borderWidth,R?0:1);let $=H.yAxis,M=L.threshold,E=H.translatedThreshold=$.getThreshold(M),k=z(L.minPointLength,5),V=H.getColumnMetrics(),G=V.width,C=H.barW=Math.max(G,1+2*R),te=H.pointXOffset=V.offset;q.inverted&&(E-=.5),L.pointPadding&&(C=Math.ceil(C)),m.translate.apply(H),H.points.forEach(function(Q){var N=z(Q.yBottom,E),j=999+Math.abs(N),W=n(Q.plotY,-j,$.len+j);j=Q.plotX+te;let w=C/2,D=Math.min(W,N);N=Math.max(W,N)-D;var f;let g,x;Q.barX=j,Q.pointWidth=G,Q.tooltipPos=q.inverted?[$.len+$.pos-q.plotLeft-W,H.xAxis.len-j-w,N]:[j+w,W+$.pos-q.plotTop,N],W=M+(Q.total||Q.y),L.stacking==="percent"&&(W=M+(0>Q.y)?-100:100),W=$.toPixels(W,!0);var P=(f=q.plotHeight-W-(q.plotHeight-E))?w*(D-W)/f:0,Y=f?w*(D+N-W)/f:0;f=j-P+w,P=j+P+w;var ee=j+Y+w;Y=j-Y+w,g=D-k,x=D+N,0>Q.y&&(g=D,x=D+N+k),q.inverted&&(ee=$.width-D,f=W-($.width-E),P=w*(W-ee)/f,Y=w*(W-(ee-N))/f,f=j+w+P,P=f-2*P,ee=j-Y+w,Y=j+Y+w,g=D,x=D+N-k,0>Q.y&&(x=D+N+k)),Q.shapeType="path",Q.shapeArgs={x:f,y:g,width:P-f,height:N,d:[["M",f,g],["L",P,g],["L",ee,x],["L",Y,x],["Z"]]}})}}return Z.defaultOptions=S(a.defaultOptions,{}),c.registerSeriesType("columnpyramid",Z),Z}),s(t,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),s(t,"Series/ErrorBar/ErrorBarSeries.js",[t["Series/BoxPlot/BoxPlotSeries.js"],t["Series/Column/ColumnSeries.js"],t["Series/ErrorBar/ErrorBarSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,d,m,n){const{arearange:S}=m.seriesTypes,{addEvent:z,merge:Z,extend:O}=n;class H extends a{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||c.prototype.getColumnMetrics.call(this)}drawDataLabels(){const L=this.pointValKey;S&&(S.prototype.drawDataLabels.call(this),this.data.forEach(function(R){R.y=R[L]}))}toYData(L){return[L.low,L.high]}}return H.defaultOptions=Z(a.defaultOptions,d),z(H,"afterTranslate",function(){this.points.forEach(q=>{q.plotLow=q.plotY})},{order:0}),O(H.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),m.registerSeriesType("errorbar",H),H}),s(t,"Series/Gauge/GaugePoint.js",[t["Core/Series/SeriesRegistry.js"]],function(a){({series:{prototype:{pointClass:a}}}=a);class c extends a{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(m){this.state=m}}return c}),s(t,"Series/Gauge/GaugeSeries.js",[t["Series/Gauge/GaugePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,d,m){({noop:c}=c);const{series:n,seriesTypes:{column:S}}=d,{clamp:z,isNumber:Z,extend:O,merge:H,pick:q,pInt:L,defined:R}=m;class $ extends n{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const E=this.yAxis,k=this.options,V=E.center;this.generatePoints(),this.points.forEach(G=>{const C=H(k.dial,G.dial),te=L(C.radius)*V[2]/200,Q=L(C.baseLength)*te/100,N=L(C.rearLength)*te/100,j=C.baseWidth,W=C.topWidth;let w=k.overshoot,D=E.startAngleRad+E.translate(G.y,void 0,void 0,void 0,!0);(Z(w)||k.wrap===!1)&&(w=Z(w)?w/180*Math.PI:0,D=z(D,E.startAngleRad-w,E.endAngleRad+w)),D=180*D/Math.PI,G.shapeType="path",G.shapeArgs={d:C.path||[["M",-N,-j/2],["L",Q,-j/2],["L",te,-W/2],["L",te,W/2],["L",Q,j/2],["L",-N,j/2],["Z"]],translateX:V[0],translateY:V[1],rotation:D},G.plotX=V[0],G.plotY=V[1],R(G.y)&&E.max-E.min&&(G.percentage=(G.y-E.min)/(E.max-E.min)*100)})}drawPoints(){const E=this,k=E.chart,V=E.yAxis.center,G=E.pivot,C=E.options,te=C.pivot,Q=k.renderer;E.points.forEach(N=>{const j=N.graphic,W=N.shapeArgs,w=W.d,D=H(C.dial,N.dial);j?(j.animate(W),W.d=w):N.graphic=Q[N.shapeType](W).addClass("highcharts-dial").add(E.group),k.styledMode||N.graphic[j?"animate":"attr"]({stroke:D.borderColor,"stroke-width":D.borderWidth,fill:D.backgroundColor})}),G?G.animate({translateX:V[0],translateY:V[1]}):te&&(E.pivot=Q.circle(0,0,te.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(V[0],V[1]).add(E.group),k.styledMode||E.pivot.attr({fill:te.backgroundColor,stroke:te.borderColor,"stroke-width":te.borderWidth}))}animate(E){const k=this;E||k.points.forEach(V=>{const G=V.graphic;G&&(G.attr({rotation:180*k.yAxis.startAngleRad/Math.PI}),G.animate({rotation:V.shapeArgs.rotation},k.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),n.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(E,k){n.prototype.setData.call(this,E,!1),this.processData(),this.generatePoints(),q(k,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return $.defaultOptions=H(n.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),O($.prototype,{angular:!0,directTouch:!0,drawGraph:c,drawTracker:S.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:a,trackerGroups:["group","dataLabelsGroup"]}),d.registerSeriesType("gauge",$),$}),s(t,"Series/DragNodesComposition.js",[t["Core/Utilities.js"]],function(a){function c(){const n=this;let S,z,Z;n.container&&(S=d(n.container,"mousedown",O=>{const H=n.hoverPoint;H&&H.series&&H.series.hasDraggableNodes&&H.series.options.draggable&&(H.series.onMouseDown(H,O),z=d(n.container,"mousemove",q=>H&&H.series&&H.series.onMouseMove(H,q)),Z=d(n.container.ownerDocument,"mouseup",q=>(z(),Z(),H&&H.series&&H.series.onMouseUp(H,q))))})),d(n,"destroy",function(){S()})}const{addEvent:d}=a,m=[];return{compose:function(n){a.pushUnique(m,n)&&d(n,"load",c)},onMouseDown:function(n,S){S=this.chart.pointer.normalize(S),n.fixedPosition={chartX:S.chartX,chartY:S.chartY,plotX:n.plotX,plotY:n.plotY},n.inDragMode=!0},onMouseMove:function(n,S){if(n.fixedPosition&&n.inDragMode){const O=this.chart;S=O.pointer.normalize(S);var z=n.fixedPosition.chartX-S.chartX,Z=n.fixedPosition.chartY-S.chartY;S=O.graphLayoutsLookup,(5<Math.abs(z)||5<Math.abs(Z))&&(z=n.fixedPosition.plotX-z,Z=n.fixedPosition.plotY-Z,O.isInsidePlot(z,Z)&&(n.plotX=z,n.plotY=Z,n.hasDragged=!0,this.redrawHalo(n),S.forEach(H=>{H.restartSimulation()})))}},onMouseUp:function(n,S){n.fixedPosition&&(n.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),n.inDragMode=n.hasDragged=!1,this.options.fixedDraggable||delete n.fixedPosition)},redrawHalo:function(n){n&&this.halo&&this.halo.attr({d:n.haloPath(this.options.states.hover.halo.size)})}}}),s(t,"Series/GraphLayoutComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Utilities.js"]],function(a,c){function d(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(H=>{H.updateSimulation()}),this.redraw())}function m(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(H=>{H.updateSimulation(!1)}),this.redraw())}function n(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(H=>{H.stop()})}function S(){let H,q=!1;const L=R=>{R.maxIterations--&&isFinite(R.temperature)&&!R.isStable()&&!R.enableSimulation&&(R.beforeStep&&R.beforeStep(),R.step(),H=!1,q=!0)};if(this.graphLayoutsLookup){for(z(!1,this),this.graphLayoutsLookup.forEach(R=>R.start());!H;)H=!0,this.graphLayoutsLookup.forEach(L);q&&this.series.forEach(R=>{R&&R.layout&&R.render()})}}const{setAnimation:z}=a,{addEvent:Z}=c,O=[];return{compose:function(H){c.pushUnique(O,H)&&(Z(H,"afterPrint",d),Z(H,"beforePrint",m),Z(H,"predraw",n),Z(H,"render",S))},integrations:{},layouts:{}}}),s(t,"Series/PackedBubble/PackedBubblePoint.js",[t["Core/Chart/Chart.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"]],function(a,c,d){({seriesTypes:{bubble:{prototype:{pointClass:d}}}}=d);class m extends d{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),c.prototype.destroy.apply(this,arguments)}firePointEvent(){const S=this.series.options;if(this.isParentNode&&S.parentNode){const z=S.allowPointSelect;S.allowPointSelect=S.parentNode.allowPointSelect,c.prototype.firePointEvent.apply(this,arguments),S.allowPointSelect=z}else c.prototype.firePointEvent.apply(this,arguments)}select(){const S=this.series.chart;this.isParentNode?(S.getSelectedPoints=S.getSelectedParentNodes,c.prototype.select.apply(this,arguments),S.getSelectedPoints=a.prototype.getSelectedPoints):c.prototype.select.apply(this,arguments)}}return m}),s(t,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[t["Core/Utilities.js"]],function(a){const{isNumber:c}=a;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:d}=this.series.chart,{value:m}=this.point;return c(m)?d(m,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),s(t,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(a,c,d){const m=a.getMass(),n=-d.x*c*this.diffTemperature;c=-d.y*c*this.diffTemperature,a.fromNode.fixedPosition||(a.fromNode.plotX-=n*m.fromNode/a.fromNode.degree,a.fromNode.plotY-=c*m.fromNode/a.fromNode.degree),a.toNode.fixedPosition||(a.toNode.plotX+=n*m.toNode/a.toNode.degree,a.toNode.plotY+=c*m.toNode/a.toNode.degree)},attractiveForceFunction:function(a,c){return(c-a)/a},barycenter:function(){let a=this.options.gravitationalConstant,c=this.barycenter.xFactor,d=this.barycenter.yFactor;c=(c-(this.box.left+this.box.width)/2)*a,d=(d-(this.box.top+this.box.height)/2)*a,this.nodes.forEach(function(m){m.fixedPosition||(m.plotX-=c/m.mass/m.degree,m.plotY-=d/m.mass/m.degree)})},getK:function(a){return Math.pow(a.box.width*a.box.height/a.nodes.length,.5)},integrate:function(a,c){var d=-a.options.friction;let m=a.options.maxSpeed,n=(c.plotX+c.dispX-c.prevX)*d;d*=c.plotY+c.dispY-c.prevY;var S=Math.abs;let z=S(n)/(n||1);S=S(d)/(d||1),n=z*Math.min(m,Math.abs(n)),d=S*Math.min(m,Math.abs(d)),c.prevX=c.plotX+c.dispX,c.prevY=c.plotY+c.dispY,c.plotX+=n,c.plotY+=d,c.temperature=a.vectorLength({x:n,y:d})},repulsive:function(a,c,d){c=c*this.diffTemperature/a.mass/a.degree,a.fixedPosition||(a.plotX+=d.x*c,a.plotY+=d.y*c)},repulsiveForceFunction:function(a,c){return(c-a)/a*(c>a?1:0)}}}),s(t,"Series/PackedBubble/PackedBubbleIntegration.js",[t["Core/Globals.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(a,c){return{noop:a}=a,{barycenter:function(){const d=this.options.gravitationalConstant,m=this.box,n=this.nodes;let S,z;for(const Z of n)this.options.splitSeries&&!Z.isParentNode?(S=Z.series.parentNode.plotX,z=Z.series.parentNode.plotY):(S=m.width/2,z=m.height/2),Z.fixedPosition||(Z.plotX-=(Z.plotX-S)*d/(Z.mass*Math.sqrt(n.length)),Z.plotY-=(Z.plotY-z)*d/(Z.mass*Math.sqrt(n.length)))},getK:a,integrate:c.integrate,repulsive:function(d,m,n,S){const z=m*this.diffTemperature/d.mass/d.degree;m=n.x*z,n=n.y*z,d.fixedPosition||(d.plotX+=m,d.plotY+=n),S.fixedPosition||(S.plotX-=m,S.plotY-=n)},repulsiveForceFunction:function(d,m,n,S){return Math.min(d,(n.marker.radius+S.marker.radius)/2)}}}),s(t,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(a,c,d,m){const n=a.getMass(),S=d.x/m*c;c*=d.y/m,a.fromNode.fixedPosition||(a.fromNode.dispX-=S*n.fromNode/a.fromNode.degree,a.fromNode.dispY-=c*n.fromNode/a.fromNode.degree),a.toNode.fixedPosition||(a.toNode.dispX+=S*n.toNode/a.toNode.degree,a.toNode.dispY+=c*n.toNode/a.toNode.degree)},attractiveForceFunction:function(a,c){return a*a/c},barycenter:function(){const a=this.options.gravitationalConstant,c=this.barycenter.xFactor,d=this.barycenter.yFactor;this.nodes.forEach(function(m){if(!m.fixedPosition){var n=m.getDegree();n*=1+n/2,m.dispX+=(c-m.plotX)*a*n/m.degree,m.dispY+=(d-m.plotY)*a*n/m.degree}})},getK:function(a){return Math.pow(a.box.width*a.box.height/a.nodes.length,.3)},integrate:function(a,c){let d;c.dispX+=c.dispX*a.options.friction,c.dispY+=c.dispY*a.options.friction,d=c.temperature=a.vectorLength({x:c.dispX,y:c.dispY}),d!==0&&(c.plotX+=c.dispX/d*Math.min(Math.abs(c.dispX),a.temperature),c.plotY+=c.dispY/d*Math.min(Math.abs(c.dispY),a.temperature))},repulsive:function(a,c,d,m){a.dispX+=d.x/m*c/a.degree,a.dispY+=d.y/m*c/a.degree},repulsiveForceFunction:function(a,c){return c*c/a}}}),s(t,"Series/Networkgraph/QuadTreeNode.js",[],function(){class a{constructor(d){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=d,this.boxSize=Math.min(d.width,d.height)}divideBox(){const d=this.box.width/2,m=this.box.height/2;this.nodes[0]=new a({left:this.box.left,top:this.box.top,width:d,height:m}),this.nodes[1]=new a({left:this.box.left+d,top:this.box.top,width:d,height:m}),this.nodes[2]=new a({left:this.box.left+d,top:this.box.top+m,width:d,height:m}),this.nodes[3]=new a({left:this.box.left,top:this.box.top+m,width:d,height:m})}getBoxPosition(d){const m=d.plotY<this.box.top+this.box.height/2;return d.plotX<this.box.left+this.box.width/2?m?0:3:m?1:2}insert(d,m){this.isInternal?this.nodes[this.getBoxPosition(d)].insert(d,m-1):(this.isEmpty=!1,this.body?m?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,m-1),this.body=!0),this.nodes[this.getBoxPosition(d)].insert(d,m-1)):(m=new a({top:d.plotX||NaN,left:d.plotY||NaN,width:.1,height:.1}),m.body=d,m.isInternal=!1,this.nodes.push(m)):(this.isInternal=!1,this.body=d))}updateMassAndCenter(){let d=0,m=0,n=0;if(this.isInternal){for(const S of this.nodes)S.isEmpty||(d+=S.mass,m+=S.plotX*S.mass,n+=S.plotY*S.mass);m/=d,n/=d}else this.body&&(d=this.body.mass,m=this.body.plotX,n=this.body.plotY);this.mass=d,this.plotX=m,this.plotY=n}}return a}),s(t,"Series/Networkgraph/QuadTree.js",[t["Series/Networkgraph/QuadTreeNode.js"]],function(a){class c{constructor(m,n,S,z){this.box={left:m,top:n,width:S,height:z},this.maxDepth=25,this.root=new a(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(m){m.updateMassAndCenter()})}insertNodes(m){for(const n of m)this.root.insert(n,this.maxDepth)}visitNodeRecursive(m,n,S){let z;if(m||(m=this.root),m===this.root&&n&&(z=n(m)),z!==!1){for(const Z of m.nodes){if(Z.isInternal){if(n&&(z=n(Z)),z===!1)continue;this.visitNodeRecursive(Z,n,S)}else Z.body&&n&&n(Z.body);S&&S(Z)}m===this.root&&S&&S(m)}}}return c}),s(t,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[t["Series/Networkgraph/EulerIntegration.js"],t["Core/Globals.js"],t["Series/GraphLayoutComposition.js"],t["Series/Networkgraph/QuadTree.js"],t["Core/Utilities.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(a,c,d,m,n,S){const{win:z}=c,{clamp:Z,defined:O,isFunction:H,fireEvent:q,pick:L}=n;class R{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(M){d.compose(M),d.integrations.euler=a,d.integrations.verlet=S,d.layouts["reingold-fruchterman"]=R}init(M){this.options=M,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=d.integrations[M.integration],this.enableSimulation=M.enableSimulation,this.attractiveForce=L(M.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=L(M.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=M.approximation}updateSimulation(M){this.enableSimulation=L(M,this.options.enableSimulation)}start(){const M=this.series,E=this.options;this.currentStep=0,this.forces=M[0]&&M[0].forces||[],this.chart=M[0]&&M[0].chart,this.initialRendering&&(this.initPositions(),M.forEach(function(k){k.finishedAnimating=!0,k.render()})),this.setK(),this.resetSimulation(E),this.enableSimulation&&this.step()}step(){const M=this.series;this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const E of this.forces||[])this[E+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const E of M)E.chart&&E.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&z.cancelAnimationFrame(this.simulation),this.simulation=z.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(E=>{q(E,"afterSimulation")}))}}stop(){this.simulation&&z.cancelAnimationFrame(this.simulation)}setArea(M,E,k,V){this.box={left:M,top:E,width:k,height:V}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(M,E){for(const k of M)E.indexOf(k)===-1&&E.push(k)}removeElementFromCollection(M,E){M=E.indexOf(M),M!==-1&&E.splice(M,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(M){this.maxIterations=L(M,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(M){this.initialRendering=M}createQuadTree(){this.quadTree=new m(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const M=this.options.initialPositions;if(H(M)){M.call(this);for(const E of this.nodes)O(E.prevX)||(E.prevX=E.plotX),O(E.prevY)||(E.prevY=E.plotY),E.dispX=0,E.dispY=0}else M==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const M=this.box;var E=this.nodes;const k=2*Math.PI/(E.length+1),V=E.filter(function(N){return N.linksTo.length===0}),G={},C=this.options.initialPositionRadius,te=N=>{for(const j of N.linksFrom||[])G[j.toNode.id]||(G[j.toNode.id]=!0,Q.push(j.toNode),te(j.toNode))};let Q=[];for(const N of V)Q.push(N),te(N);if(Q.length)for(const N of E)Q.indexOf(N)===-1&&Q.push(N);else Q=E;for(let N=0,j=Q.length;N<j;++N)E=Q[N],E.plotX=E.prevX=L(E.plotX,M.width/2+C*Math.cos(N*k)),E.plotY=E.prevY=L(E.plotY,M.height/2+C*Math.sin(N*k)),E.dispX=0,E.dispY=0}setRandomPositions(){const M=this.box,E=this.nodes,k=E.length+1,V=C=>(C=C*C/Math.PI,C-=Math.floor(C));let G;for(let C=0,te=E.length;C<te;++C)G=E[C],G.plotX=G.prevX=L(G.plotX,M.width*V(C)),G.plotY=G.prevY=L(G.plotY,M.height*V(k+C)),G.dispX=0,G.dispY=0}force(M,...E){this.integration[M].apply(this,E)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let M=0,E=0,k=0;for(const V of this.nodes)E+=V.plotX*V.mass,k+=V.plotY*V.mass,M+=V.mass;return this.barycenter={x:E,y:k,xFactor:E/M,yFactor:k/M}}barnesHutApproximation(M,E){const k=this.getDistXY(M,E),V=this.vectorLength(k);let G,C;return M!==E&&V!==0&&(E.isInternal?E.boxSize/V<this.options.theta&&V!==0?(C=this.repulsiveForce(V,this.k),this.force("repulsive",M,C*E.mass,k,V),G=!1):G=!0:(C=this.repulsiveForce(V,this.k),this.force("repulsive",M,C*E.mass,k,V))),G}repulsiveForces(){if(this.approximation==="barnes-hut")for(const M of this.nodes)this.quadTree.visitNodeRecursive(null,E=>this.barnesHutApproximation(M,E));else{let M,E,k;for(const V of this.nodes)for(const G of this.nodes)V===G||V.fixedPosition||(k=this.getDistXY(V,G),E=this.vectorLength(k),E!==0&&(M=this.repulsiveForce(E,this.k),this.force("repulsive",V,M*G.mass,k,E)))}}attractiveForces(){let M,E,k;for(const V of this.links)V.fromNode&&V.toNode&&(M=this.getDistXY(V.fromNode,V.toNode),E=this.vectorLength(M),E!==0&&(k=this.attractiveForce(E,this.k),this.force("attractive",V,k,M,E)))}applyLimits(){const M=this.nodes;for(const E of M){if(E.fixedPosition)break;this.integration.integrate(this,E),this.applyLimitBox(E,this.box),E.dispX=0,E.dispY=0}}applyLimitBox(M,E){const k=M.radius;M.plotX=Z(M.plotX,E.left+k,E.width-k),M.plotY=Z(M.plotY,E.top+k,E.height-k)}coolDown(M,E,k){return M-E*k}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let M=0;for(const E of this.nodes)M+=E.temperature;return M}vectorLength(M){return Math.sqrt(M.x*M.x+M.y*M.y)}getDistR(M,E){return M=this.getDistXY(M,E),this.vectorLength(M)}getDistXY(M,E){const k=M.plotX-E.plotX;return M=M.plotY-E.plotY,{x:k,y:M,absX:Math.abs(k),absY:Math.abs(M)}}}return R}),s(t,"Series/PackedBubble/PackedBubbleLayout.js",[t["Series/GraphLayoutComposition.js"],t["Series/PackedBubble/PackedBubbleIntegration.js"],t["Series/Networkgraph/ReingoldFruchtermanLayout.js"],t["Core/Utilities.js"]],function(a,c,d,m){function n(){const q=[];return this.series.forEach(L=>{L.parentNode&&L.parentNode.selected&&q.push(L.parentNode)}),q}function S(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:z,pick:Z}=m,O=[];class H extends d{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(L){d.compose(L),a.integrations.packedbubble=c,a.layouts.packedbubble=H,m.pushUnique(O,L)&&(z(L,"beforeRedraw",S),L.prototype.getSelectedParentNodes=n)}beforeStep(){this.options.marker&&this.series.forEach(L=>{L&&L.calculateParentRadius()})}isStable(){const L=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>L||0>=this.temperature}setCircularPositions(){const L=this.box;var R=this.nodes;const $=2*Math.PI/(R.length+1),M=this.options.initialPositionRadius;let E,k=0;for(const V of R)this.options.splitSeries&&!V.isParentNode?(R=V.series.parentNode.plotX,E=V.series.parentNode.plotY):(R=L.width/2,E=L.height/2),V.plotX=V.prevX=Z(V.plotX,R+M*Math.cos(V.index||k*$)),V.plotY=V.prevY=Z(V.plotY,E+M*Math.sin(V.index||k*$)),V.dispX=0,V.dispY=0,k++}repulsiveForces(){const L=this,R=L.options.bubblePadding;let $,M,E;L.nodes.forEach(k=>{k.degree=k.mass,k.neighbours=0,L.nodes.forEach(V=>{$=0,k===V||k.fixedPosition||!L.options.seriesInteraction&&k.series!==V.series||(E=L.getDistXY(k,V),M=L.vectorLength(E)-(k.marker.radius+V.marker.radius+R),0>M&&(k.degree+=.01,k.neighbours++,$=L.repulsiveForce(-M/Math.sqrt(k.neighbours),L.k,k,V)),L.force("repulsive",k,$*V.mass,E,V,M))})})}applyLimitBox(L,R){let $,M;this.options.splitSeries&&!L.isParentNode&&this.options.parentNodeLimit&&($=this.getDistXY(L,L.series.parentNode),M=L.series.parentNodeRadius-L.marker.radius-this.vectorLength($),0>M&&M>-2*L.marker.radius&&(L.plotX-=.01*$.x,L.plotY-=.01*$.y)),super.applyLimitBox(L,R)}}return a.layouts.packedbubble=H}),s(t,"Series/SimulationSeriesUtilities.js",[t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(a,c){const{syncTimeout:d}=a,{animObject:m}=c;return{initDataLabels:function(){const n=this.options.dataLabels;if(!this.dataLabelsGroup){const S=this.initDataLabelsGroup();return!this.chart.styledMode&&(n!=null&&n.style)&&S.css(n.style),S.attr({opacity:0}),this.visible&&S.show(),S}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var n;const S=this.options.dataLabels;S!=null&&S.defer&&(!((n=this.options.layoutAlgorithm)===null||n===void 0)&&n.enableSimulation)?d(()=>{this.deferDataLabels=!1},S?m(S.animation).defer:0):this.deferDataLabels=!1}}}),s(t,"Series/PackedBubble/PackedBubbleSeries.js",[t["Core/Color/Color.js"],t["Series/DragNodesComposition.js"],t["Series/GraphLayoutComposition.js"],t["Core/Globals.js"],t["Series/PackedBubble/PackedBubblePoint.js"],t["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],t["Series/PackedBubble/PackedBubbleLayout.js"],t["Core/Series/SeriesRegistry.js"],t["Series/SimulationSeriesUtilities.js"],t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(a,c,d,m,n,S,z,Z,O,H,q){const{parse:L}=a;({noop:a}=m);const{series:{prototype:R},seriesTypes:{bubble:$}}=Z,{initDataLabels:M,initDataLabelsDefer:E}=O,{addEvent:k,clamp:V,defined:G,extend:C,fireEvent:te,isArray:Q,isNumber:N,merge:j,pick:W}=H;class w extends ${constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(f,g,x,P){$.compose(f,g,x,P),c.compose(g),z.compose(g)}accumulateAllPoints(){const f=this.chart,g=[];let x;for(const P of f.series)if(P.is("packedbubble")&&P.visible||!f.options.chart.ignoreHiddenSeries){x=P.yData||[];for(let Y=0;Y<x.length;Y++)g.push([null,null,x[Y],P.index,Y,{id:Y,marker:{radius:0}}])}return g}addLayout(){const f=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},g=f.type||"packedbubble",x=this.chart.options.chart;let P=this.chart.graphLayoutsStorage,Y=this.chart.graphLayoutsLookup,ee;P||(this.chart.graphLayoutsStorage=P={},this.chart.graphLayoutsLookup=Y=[]),ee=P[g],ee||(f.enableSimulation=G(x.forExport)?!x.forExport:f.enableSimulation,P[g]=ee=new d.layouts[g],ee.init(f),Y.splice(ee.index,0,ee)),this.layout=ee,this.points.forEach(K=>{K.mass=2,K.degree=1,K.collisionNmb=1}),ee.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),ee.addElementsToCollection([this],ee.series),ee.addElementsToCollection(this.points,ee.nodes)}addSeriesLayout(){var f=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const g=f.type||"packedbubble",x=this.chart.graphLayoutsStorage,P=this.chart.graphLayoutsLookup;f=j(f,f.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let Y=x[g+"-series"];Y||(x[g+"-series"]=Y=new d.layouts[g],Y.init(f),P.splice(Y.index,0,Y)),this.parentNodeLayout=Y,this.createParentNodes()}calculateParentRadius(){const f=this.seriesBox();this.parentNodeRadius=V(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,f?Math.max(Math.sqrt(Math.pow(f.width,2)+Math.pow(f.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let f=this.options.zMin,g=this.options.zMax,x=1/0,P=-1/0;return f&&g?[f,g]:(this.chart.series.forEach(Y=>{Y.yData.forEach(ee=>{G(ee)&&(ee>P&&(P=ee),ee<x&&(x=ee))})}),f=W(f,x),g=W(g,P),[f,g])}checkOverlap(f,g){const x=f[0]-g[0],P=f[1]-g[1];return-.001>Math.sqrt(x*x+P*P)-Math.abs(f[2]+g[2])}createParentNodes(){const f=this.pointClass,g=this.chart,x=this.parentNodeLayout,P=this.layout.options;let Y,ee=this.parentNode,K={radius:this.parentNodeRadius,lineColor:this.color,fillColor:L(this.color).brighten(.4).get()};P.parentNodeOptions&&(K=j(P.parentNodeOptions.marker||{},K)),this.parentNodeMass=0,this.points.forEach(he=>{this.parentNodeMass+=Math.PI*Math.pow(he.marker.radius,2)}),this.calculateParentRadius(),x.nodes.forEach(he=>{he.seriesIndex===this.index&&(Y=!0)}),x.setArea(0,0,g.plotWidth,g.plotHeight),Y||(ee||(ee=new f().init(this,{mass:this.parentNodeRadius/2,marker:K,dataLabels:{inside:!1},states:{normal:{marker:K},hover:{marker:K}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(ee.plotX=this.parentNode.plotX,ee.plotY=this.parentNode.plotY),this.parentNode=ee,x.addElementsToCollection([this],x.series),x.addElementsToCollection([ee],x.nodes))}deferLayout(){const f=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),f.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(f=>{f.removeElementFromCollection(this,f.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),R.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(R.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",R.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(this.layout&&this.layout.options.splitSeries){var f=this.chart,g=this.layout.options.parentNodeOptions.marker;g={fill:g.fillColor||L(this.color).brighten(.4).get(),opacity:g.fillOpacity,stroke:g.lineColor||this.color,"stroke-width":W(g.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,f.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var x=j({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},g);this.parentNode.graphic||(this.graph=this.parentNode.graphic=f.renderer.symbol(g.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(x)}}drawTracker(){const f=this.parentNode;let g;super.drawTracker(),f&&(g=Q(f.dataLabels)?f.dataLabels:f.dataLabel?[f.dataLabel]:[],f.graphic&&(f.graphic.element.point=f),g.forEach(x=>{x.div?x.div.point=f:x.element.point=f}))}getPointRadius(){const f=this.chart,g=this.options,x=g.useSimulation,P=Math.min(f.plotWidth,f.plotHeight),Y={},ee=[],K=f.allDataPoints||[],he=K.length;let ge,Ee,J,oe;["minSize","maxSize"].forEach(pe=>{const Ce=parseInt(g[pe],10),ne=/%$/.test(g[pe]);Y[pe]=ne?P*Ce/100:Ce*Math.sqrt(he)}),f.minRadius=ge=Y.minSize/Math.sqrt(he),f.maxRadius=Ee=Y.maxSize/Math.sqrt(he);const ce=x?this.calculateZExtremes():[ge,Ee];K.forEach((pe,Ce)=>{J=x?V(pe[2],ce[0],ce[1]):pe[2],oe=this.getRadius(ce[0],ce[1],ge,Ee,J),oe===0&&(oe=null),K[Ce][2]=oe,ee.push(oe)}),this.radii=ee}init(){return R.init.apply(this,arguments),E.call(this),this.eventsToUnbind.push(k(this,"updatedData",function(){this.chart.series.forEach(f=>{f.type===this.type&&(f.isDirty=!0)},this)})),this}onMouseUp(f){const g=f;if(g.fixedPosition&&!g.removed){const x=this.layout,P=this.parentNodeLayout;let Y,ee;P&&x.options.dragBetweenSeries&&P.nodes.forEach(K=>{g&&g.marker&&K!==g.series.parentNode&&(Y=x.getDistXY(g,K),ee=x.vectorLength(Y)-K.marker.radius-g.marker.radius,0>ee&&(K.series.addPoint(j(g.options,{plotX:g.plotX,plotY:g.plotY}),!1),x.removeElementFromCollection(g,x.nodes),g.remove()))}),c.onMouseUp.apply(this,arguments)}}placeBubbles(f){const g=this.checkOverlap,x=this.positionBubble,P=[];let Y=1,ee=0,K=0;var he=[];let ge;if(f=f.sort((Ee,J)=>J[2]-Ee[2]),f.length){if(P.push([[0,0,f[0][2],f[0][3],f[0][4]]]),1<f.length)for(P.push([[0,0-f[1][2]-f[0][2],f[1][2],f[1][3],f[1][4]]]),ge=2;ge<f.length;ge++)f[ge][2]=f[ge][2]||1,he=x(P[Y][ee],P[Y-1][K],f[ge]),g(he,P[Y][0])?(P.push([]),K=0,P[Y+1].push(x(P[Y][ee],P[Y][0],f[ge])),Y++,ee=0):1<Y&&P[Y-1][K+1]&&g(he,P[Y-1][K+1])?(K++,P[Y].push(x(P[Y][ee],P[Y-1][K],f[ge])),ee++):(ee++,P[Y].push(he));this.chart.stages=P,this.chart.rawPositions=[].concat.apply([],P),this.resizeRadius(),he=this.chart.rawPositions}return he}pointAttribs(f,g){var x=this.options;let P=x.marker;return f&&f.isParentNode&&x.layoutAlgorithm&&x.layoutAlgorithm.parentNodeOptions&&(P=x.layoutAlgorithm.parentNodeOptions.marker),x=P.fillOpacity,f=R.pointAttribs.call(this,f,g),x!==1&&(f["fill-opacity"]=x),f}positionBubble(f,g,x){var P=Math.sqrt,Y=Math.asin,ee=Math.acos;const K=Math.pow,he=Math.abs;return P=P(K(f[0]-g[0],2)+K(f[1]-g[1],2)),ee=ee((K(P,2)+K(x[2]+g[2],2)-K(x[2]+f[2],2))/(2*(x[2]+g[2])*P)),Y=Y(he(f[0]-g[0])/P),f=(0>f[1]-g[1]?0:Math.PI)+ee+Y*(0>(f[0]-g[0])*(f[1]-g[1])?1:-1),[g[0]+(g[2]+x[2])*Math.sin(f),g[1]-(g[2]+x[2])*Math.cos(f),x[2],x[3],x[4]]}render(){const f=[];R.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(g=>{Q(g.dataLabels)&&g.dataLabels.forEach(x=>{f.push(x)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(f))}resizeRadius(){const f=this.chart,g=f.rawPositions;var x=Math.min,P=Math.max;const Y=f.plotLeft,ee=f.plotTop,K=f.plotHeight,he=f.plotWidth;let ge,Ee,J,oe,ce;ge=J=Number.POSITIVE_INFINITY,Ee=oe=Number.NEGATIVE_INFINITY;for(const pe of g)ce=pe[2],ge=x(ge,pe[0]-ce),Ee=P(Ee,pe[0]+ce),J=x(J,pe[1]-ce),oe=P(oe,pe[1]+ce);if(P=[Ee-ge,oe-J],x=x.apply([],[(he-Y)/P[0],(K-ee)/P[1]]),1e-10<Math.abs(x-1)){for(const pe of g)pe[2]*=x;this.placeBubbles(g)}else f.diffY=K/2+ee-J-(oe-J)/2,f.diffX=he/2+Y-ge-(Ee-ge)/2}seriesBox(){const f=this.chart,g=Math.max,x=Math.min,P=[f.plotLeft,f.plotLeft+f.plotWidth,f.plotTop,f.plotTop+f.plotHeight];let Y;return this.data.forEach(ee=>{G(ee.plotX)&&G(ee.plotY)&&ee.marker.radius&&(Y=ee.marker.radius,P[0]=x(P[0],ee.plotX-Y),P[1]=g(P[1],ee.plotX+Y),P[2]=x(P[2],ee.plotY-Y),P[3]=g(P[3],ee.plotY+Y))}),N(P.width/P.height)?P:null}setVisible(){const f=this;R.setVisible.apply(f,arguments),f.parentNodeLayout&&f.graph?f.visible?(f.graph.show(),f.parentNode.dataLabel&&f.parentNode.dataLabel.show()):(f.graph.hide(),f.parentNodeLayout.removeElementFromCollection(f.parentNode,f.parentNodeLayout.nodes),f.parentNode.dataLabel&&f.parentNode.dataLabel.hide()):f.layout&&(f.visible?f.layout.addElementsToCollection(f.points,f.layout.nodes):f.points.forEach(g=>{f.layout.removeElementFromCollection(g,f.layout.nodes)}))}translate(){const f=this.chart,g=this.data,x=this.index,P=this.options.useSimulation;let Y;if(this.processedXData=this.xData,this.generatePoints(),G(f.allDataPoints)||(f.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),P)var ee=f.allDataPoints;else ee=this.placeBubbles(f.allDataPoints),this.options.draggable=!1;for(const K of ee)K[3]===x&&(ee=g[K[4]],Y=W(K[2],void 0),P||(ee.plotX=K[0]-f.plotLeft+f.diffX,ee.plotY=K[1]-f.plotTop+f.diffY),N(Y)&&(ee.marker=C(ee.marker,{radius:Y,width:2*Y,height:2*Y}),ee.radius=Y));P&&this.deferLayout(),te(this,"afterTranslate")}}return w.defaultOptions=j($.defaultOptions,S),C(w.prototype,{pointClass:n,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:M,alignDataLabel:R.alignDataLabel,indexateNodes:a,onMouseDown:c.onMouseDown,onMouseMove:c.onMouseMove,redrawHalo:c.redrawHalo,searchPoint:a}),Z.registerSeriesType("packedbubble",w),w}),s(t,"Series/Polygon/PolygonSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,d){({noop:a}=a);const{series:m,seriesTypes:{area:n,line:S,scatter:z}}=c,{extend:Z,merge:O}=d;class H extends z{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let L=S.prototype.getGraphPath.call(this),R=L.length+1;for(;R--;)(R===L.length||L[R][0]==="M")&&0<R&&L.splice(R,0,["Z"]);return this.areaPath=L}drawGraph(){this.options.fillColor=this.color,n.prototype.drawGraph.call(this)}}return H.defaultOptions=O(z.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),Z(H.prototype,{type:"polygon",drawTracker:m.prototype.drawTracker,setStackedPoints:a}),c.registerSeriesType("polygon",H),H}),s(t,"Core/Axis/WaterfallAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(a,c){const{addEvent:d,objectEach:m}=c;var n;return function(S){function z(){const L=this.waterfall.stacks;L&&(L.changed=!1,delete L.alreadyChanged)}function Z(){const L=this.options.stackLabels;L&&L.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function O(){let L=this.axes,R=this.series,$=R.length;for(;$--;)R[$].options.stacking&&(L.forEach(function(M){M.isXAxis||(M.waterfall.stacks.changed=!0)}),$=0)}function H(){this.waterfall||(this.waterfall=new q(this))}class q{constructor(R){this.axis=R,this.stacks={changed:!1}}renderStackTotals(){const R=this.axis,$=R.waterfall.stacks,M=R.stacking&&R.stacking.stackTotalGroup,E=new a(R,R.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=E,M&&m($,function(k){m(k,function(V,G){E.total=V.stackTotal,E.x=+G,V.label&&(E.label=V.label),a.prototype.render.call(E,M),V.label=E.label,delete E.label})}),E.total=null}}S.Composition=q,S.compose=function(L,R){d(L,"init",H),d(L,"afterBuildStacks",z),d(L,"afterRender",Z),d(R,"beforeRedraw",O)}}(n||(n={})),n}),s(t,"Series/Waterfall/WaterfallPoint.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(a,c,d){const{isNumber:m}=d;class n extends a.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let z=c.prototype.getClassName.call(this);return this.isSum?z+=" highcharts-sum":this.isIntermediateSum&&(z+=" highcharts-intermediate-sum"),z}isValid(){return m(this.y)||this.isSum||!!this.isIntermediateSum}}return n}),s(t,"Series/Waterfall/WaterfallSeries.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Axis/WaterfallAxis.js"],t["Series/Waterfall/WaterfallPoint.js"]],function(a,c,d,m,n,S){const{seriesTypes:{column:z,line:Z}}=d,{addEvent:O,arrayMax:H,arrayMin:q,correctFloat:L,extend:R,isNumber:$,merge:M,objectEach:E,pick:k}=m;class V extends z{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){z.prototype.generatePoints.apply(this);for(let C=0,te=this.points.length;C<te;C++){const Q=this.points[C],N=this.processedYData[C];$(N)&&(Q.isIntermediateSum||Q.isSum)&&(Q.y=L(N))}}processData(C){let te=this.options,Q=this.yData,N=te.data,j,W=Q.length,w=te.threshold||0,D,f,g,x,P,Y;for(Y=f=D=g=x=0;Y<W;Y++)P=Q[Y],j=N&&N[Y]?N[Y]:{},P==="sum"||j.isSum?Q[Y]=L(f):P==="intermediateSum"||j.isIntermediateSum?(Q[Y]=L(D),D=0):(f+=P,D+=P),g=Math.min(f,g),x=Math.max(f,x);super.processData.call(this,C),te.stacking||(this.dataMin=g+w,this.dataMax=x)}toYData(C){return C.isSum?"sum":C.isIntermediateSum?"intermediateSum":C.y}updateParallelArrays(C,te){super.updateParallelArrays.call(this,C,te),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(C,te){const Q=this.options.upColor;return Q&&!C.options.color&&$(C.y)&&(C.color=0<C.y?Q:void 0),C=z.prototype.pointAttribs.call(this,C,te),delete C.dashstyle,C}getGraphPath(){return[["M",0,0]]}getCrispPath(){let C=this.data.filter(Y=>$(Y.y)),te=this.yAxis,Q=C.length,N=Math.round(this.graph.strokeWidth())%2/2,j=Math.round(this.borderWidth)%2/2,W=this.xAxis.reversed,w=this.yAxis.reversed,D=this.options.stacking,f=[];for(let Y=1;Y<Q;Y++){if(!this.options.connectNulls&&!$(this.data[C[Y].index-1].y))continue;var g=C[Y].box,x=C[Y-1];const ee=x.y||0,K=C[Y-1].box;if(!g||!K)continue;var P=te.waterfall.stacks[this.stackKey];const he=0<ee?-K.height:0;P&&K&&g&&(P=P[Y-1],x=D?Math.round(te.translate(P.connectorThreshold,!1,!0,!1,!0)+(w?he:0))-N:K.y+x.minPointLengthOffset+j-N,f.push(["M",(K.x||0)+(W?0:K.width||0),x],["L",(g.x||0)+(W&&g.width||0),x])),K&&f.length&&(!D&&0>ee&&!w||0<ee&&w)&&((g=f[f.length-2])&&typeof g[2]=="number"&&(g[2]+=K.height||0),(g=f[f.length-1])&&typeof g[2]=="number"&&(g[2]+=K.height||0))}return f}drawGraph(){Z.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function C(ce,pe,Ce,ne){if(g){if(ee)for(Ce;Ce<ee;Ce++)g.stackState[Ce]+=ne;else g.stackState[0]=ce,ee=g.stackState.length;g.stackState.push(g.stackState[ee-1]+pe)}}let te=this.options,Q=this.yAxis.waterfall.stacks,N=te.threshold||0,j=N,W=j,w=this.stackKey,D=this.xData,f=D.length,g,x,P,Y,ee,K,he,ge;var Ee;let J;if(this.yAxis.stacking.usePercentage=!1,x=P=Y=j,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(J=Q.changed,(Ee=Q.alreadyChanged)&&0>Ee.indexOf(w)&&(J=!0),Q[w]||(Q[w]={}),Ee=Q[w])for(let ce=0;ce<f;ce++){var oe=D[ce];(!Ee[oe]||J)&&(Ee[oe]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:J&&Ee[oe]?Ee[oe].label:void 0}),g=Ee[oe],ge=this.yData[ce],0<=ge?g.posTotal+=ge:g.negTotal+=ge,he=te.data[ce],oe=g.absolutePos=g.posTotal,K=g.absoluteNeg=g.negTotal,g.stackTotal=oe+K,ee=g.stackState.length,he&&he.isIntermediateSum?(C(Y,P,0,Y),Y=P,P=N,j^=W,W^=j,j^=W):he&&he.isSum?(C(N,x,ee,0),j=N):(C(j,ge,0,x),he&&(x+=ge,P+=ge)),g.stateIndex++,g.threshold=j,j+=g.stackTotal}Q.changed=!1,Q.alreadyChanged||(Q.alreadyChanged=[]),Q.alreadyChanged.push(w)}}getExtremes(){let C=this.options.stacking,te,Q;if(C){var N=this.yAxis;return N=N.waterfall.stacks,te=this.stackedYNeg=[],Q=this.stackedYPos=[],C==="overlap"?E(N[this.stackKey],function(j){te.push(q(j.stackState)),Q.push(H(j.stackState))}):E(N[this.stackKey],function(j){te.push(j.negTotal+j.threshold),Q.push(j.posTotal+j.threshold)}),{dataMin:q(te),dataMax:H(Q)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return V.defaultOptions=M(z.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),O(V,"afterColumnTranslate",function(){const{options:G,points:C,yAxis:te}=this,Q=k(G.minPointLength,5),N=Q/2,j=G.threshold||0,W=G.stacking,w=te.waterfall.stacks[this.stackKey];let D=j,f=j;for(let ee=0;ee<C.length;ee++){const K=C[ee];var g=this.processedYData[ee];const he=R({x:0,y:0,width:0,height:0},K.shapeArgs||{});K.box=he;var x=[0,g],P=K.y||0;if(W){if(w){if(x=w[ee],W==="overlap"){var Y=x.stackState[x.stateIndex--];Y=0<=P?Y:Y-P,Object.hasOwnProperty.call(x,"absolutePos")&&delete x.absolutePos,Object.hasOwnProperty.call(x,"absoluteNeg")&&delete x.absoluteNeg}else 0<=P?(Y=x.threshold+x.posTotal,x.posTotal-=P):(Y=x.threshold+x.negTotal,x.negTotal-=P,Y-=P),!x.posTotal&&$(x.absolutePos)&&Object.hasOwnProperty.call(x,"absolutePos")&&(x.posTotal=x.absolutePos,delete x.absolutePos),!x.negTotal&&$(x.absoluteNeg)&&Object.hasOwnProperty.call(x,"absoluteNeg")&&(x.negTotal=x.absoluteNeg,delete x.absoluteNeg);K.isSum||(x.connectorThreshold=x.threshold+x.stackTotal),te.reversed?g=0<=P?Y-P:Y+P:(g=Y,Y-=P),K.below=g<=j,he.y=te.translate(g,!1,!0,!1,!0),he.height=Math.abs(he.y-te.translate(Y,!1,!0,!1,!0)),(Y=te.waterfall.dummyStackItem)&&(Y.x=ee,Y.label=w[ee].label,Y.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[ee],this.stackedYPos[ee],void 0,this.xAxis))}}else Y=Math.max(f,f+P)+x[0],he.y=te.translate(Y,!1,!0,!1,!0),K.isSum?(he.y=te.translate(x[1],!1,!0,!1,!0),he.height=Math.min(te.translate(x[0],!1,!0,!1,!0),te.len)-he.y,K.below=x[1]<=j):K.isIntermediateSum?(0<=P?(g=x[1]+D,Y=D):(g=D,Y=x[1]+D),te.reversed&&(g^=Y,Y^=g,g^=Y),he.y=te.translate(g,!1,!0,!1,!0),he.height=Math.abs(he.y-Math.min(te.translate(Y,!1,!0,!1,!0),te.len)),D+=x[1],K.below=g<=j):(he.height=0<g?te.translate(f,!1,!0,!1,!0)-he.y:te.translate(f,!1,!0,!1,!0)-te.translate(f-g,!1,!0,!1,!0),f+=g,K.below=f<j),0>he.height&&(he.y+=he.height,he.height*=-1);K.plotY=he.y=Math.round(he.y||0)-this.borderWidth%2/2,he.height=Math.max(Math.round(he.height||0),.001),K.yBottom=he.y+he.height,he.height<=Q&&!K.isNull?(he.height=Q,he.y-=N,K.plotY=he.y,K.minPointLengthOffset=0>P?-N:N):(K.isNull&&(he.width=0),K.minPointLengthOffset=0),P=K.plotY+(K.negative?he.height:0),K.below&&(K.plotY+=he.height),K.tooltipPos&&(this.chart.inverted?K.tooltipPos[0]=te.len-P:K.tooltipPos[1]=P),K.isInside=this.isPointInside(K),M(!0,K.shapeArgs,he)}},{order:2}),R(V.prototype,{getZonesGraphs:Z.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:S}),d.registerSeriesType("waterfall",V),n.compose(a,c),V}),s(t,"Core/Axis/RadialAxis.js",[t["Core/Axis/AxisDefaults.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,c,d,m){const{defaultOptions:n}=c,{noop:S}=d,{addEvent:z,correctFloat:Z,defined:O,extend:H,fireEvent:q,merge:L,pick:R,relativeLength:$,wrap:M}=m;var E;return function(k){function V(){this.autoConnect=this.isCircular&&typeof R(this.userMax,this.options.max)>"u"&&Z(this.endAngleRad-this.startAngleRad)===Z(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function G(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(ae=>this.ticks[ae]&&this.ticks[ae].label).filter(ae=>!!ae)}}function C(){return S}function te(ae,me,we){const Re=this.pane.center;let Le=ae.value,Ge;if(this.isCircular){if(O(Le))ae.point&&(rt=ae.point.shapeArgs||{},rt.start&&(Le=this.chart.inverted?this.translate(ae.point.rectPlotY,!0):ae.point.x));else{var rt=ae.chartX||0;Ge=ae.chartY||0,Le=this.translate(Math.atan2(Ge-we,rt-me)-this.startAngleRad,!0)}ae=this.getPosition(Le),rt=ae.x,Ge=ae.y}else O(Le)||(rt=ae.chartX,Ge=ae.chartY),O(rt)&&O(Ge)&&(we=Re[1]+this.chart.plotTop,Le=this.translate(Math.min(Math.sqrt(Math.pow(rt-me,2)+Math.pow(Ge-we,2)),Re[2]/2)-Re[3]/2,!0));return[Le,rt||0,Ge||0]}function Q(ae,me,we){ae=this.pane.center;const Re=this.chart,Le=this.left||0,Ge=this.top||0;let rt=R(me,ae[2]/2-this.offset);return typeof we>"u"&&(we=this.horiz?0:this.center&&-this.center[3]/2),we&&(rt+=we),this.isCircular||typeof me<"u"?(me=this.chart.renderer.symbols.arc(Le+ae[0],Ge+ae[1],rt,rt,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),me.xBounds=[Le+ae[0]],me.yBounds=[Ge+ae[1]-rt]):(me=this.postTranslate(this.angleRad,rt),me=[["M",this.center[0]+Re.plotLeft,this.center[1]+Re.plotTop],["L",me.x,me.y]]),me}function N(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function j(ae,me,we){const Re=this.chart;var Le=It=>{if(typeof It=="string"){let ui=parseInt(It,10);return ze.test(It)&&(ui=ui*Qe/100),ui}return It};const Ge=this.center;var rt=this.startAngleRad;const Qe=Ge[2]/2;var qe=Math.min(this.offset,0),Te=this.left||0;const Oe=this.top||0,ze=/%$/;var Xe=this.isCircular;let Je,pt=R(Le(we.outerRadius),Qe),bt=Le(we.innerRadius);return Le=R(Le(we.thickness),10),this.options.gridLineInterpolation==="polygon"?qe=this.getPlotLinePath({value:ae}).concat(this.getPlotLinePath({value:me,reverse:!0})):(ae=Math.max(ae,this.min),me=Math.min(me,this.max),ae=this.translate(ae),me=this.translate(me),Xe||(pt=ae||0,bt=me||0),we.shape!=="circle"&&Xe?(we=rt+(ae||0),rt+=me||0):(we=-Math.PI/2,rt=1.5*Math.PI,Je=!0),pt-=qe,qe=Re.renderer.symbols.arc(Te+Ge[0],Oe+Ge[1],pt,pt,{start:Math.min(we,rt),end:Math.max(we,rt),innerR:R(bt,pt-(Le-qe)),open:Je}),Xe&&(Xe=(rt+we)/2,Te=Te+Ge[0]+Ge[2]/2*Math.cos(Xe),qe.xBounds=Xe>-Math.PI/2&&Xe<Math.PI/2?[Te,Re.plotWidth]:[0,Te],qe.yBounds=[Oe+Ge[1]+Ge[2]/2*Math.sin(Xe)],qe.yBounds[0]+=Xe>-Math.PI&&0>Xe||Xe>Math.PI?-10:10)),qe}function W(ae){var me=this.pane.center,we=this.chart;const Re=we.inverted;var Le=ae.reverse,Ge=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const rt=Ge.innerRadius||"0%",Qe=Ge.outerRadius||"100%";var qe=me[0]+we.plotLeft,Te=me[1]+we.plotTop;const Oe=this.height,ze=ae.isCrosshair;Ge=me[3]/2;var Xe=ae.value;let Je;var pt=this.getPosition(Xe);let bt=pt.x;if(pt=pt.y,ze&&(pt=this.getCrosshairPosition(ae,qe,Te),Xe=pt[0],bt=pt[1],pt=pt[2]),this.isCircular)Xe=Math.sqrt(Math.pow(bt-qe,2)+Math.pow(pt-Te,2)),Le=typeof rt=="string"?$(rt,1):rt/Xe,we=typeof Qe=="string"?$(Qe,1):Qe/Xe,me&&Ge&&(Ge/=Xe,Le<Ge&&(Le=Ge),we<Ge&&(we=Ge)),me=[["M",qe+Le*(bt-qe),Te-Le*(Te-pt)],["L",bt-(1-we)*(bt-qe),pt+(1-we)*(Te-pt)]];else if((Xe=this.translate(Xe))&&(0>Xe||Xe>Oe)&&(Xe=0),this.options.gridLineInterpolation==="circle")me=this.getLinePath(0,Xe,Ge);else if(me=[],we[Re?"yAxis":"xAxis"].forEach(It=>{It.pane===this.pane&&(Je=It)}),Je)for(qe=Je.tickPositions,Je.autoConnect&&(qe=qe.concat([qe[0]])),Le&&(qe=qe.slice().reverse()),Xe&&(Xe+=Ge),Te=0;Te<qe.length;Te++)Ge=Je.getPosition(qe[Te],Xe),me.push(Te?["L",Ge.x,Ge.y]:["M",Ge.x,Ge.y]);return me}function w(ae,me){return ae=this.translate(ae),this.postTranslate(this.isCircular?ae:this.angleRad,R(this.isCircular?me:0>ae?0:ae,this.center[2]/2)-this.offset)}function D(){const ae=this.center,me=this.chart,we=this.options.title;return{x:me.plotLeft+ae[0]+(we.x||0),y:me.plotTop+ae[1]-{high:.5,middle:.25,low:0}[we.align]*ae[2]+(we.y||0)}}function f(ae){ae.beforeSetTickPositions=V,ae.createLabelCollector=G,ae.getCrosshairPosition=te,ae.getLinePath=Q,ae.getOffset=N,ae.getPlotBandPath=j,ae.getPlotLinePath=W,ae.getPosition=w,ae.getTitlePosition=D,ae.postTranslate=ge,ae.setAxisSize=J,ae.setAxisTranslation=oe,ae.setOptions=ce}function g(){var ae=this.chart,me=this.options,we=this.pane,Re=we&&we.options;ae.angular&&this.isXAxis||!we||!ae.angular&&!ae.polar||(ae=2*Math.PI,we=(R(Re.startAngle,0)-90)*Math.PI/180,Re=(R(Re.endAngle,R(Re.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(me.angle||0)*Math.PI/180,this.startAngleRad=we,this.endAngleRad=Re,this.offset=me.offset||0,me=(we%ae+ae)%ae,Re=(Re%ae+ae)%ae,me>Math.PI&&(me-=ae),Re>Math.PI&&(Re-=ae),this.normalizedStartAngleRad=me,this.normalizedEndAngleRad=Re)}function x(ae){this.isRadial&&(ae.align=void 0,ae.preventDefault())}function P(){if(this.chart&&this.chart.labelCollectors){const ae=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=ae&&this.chart.labelCollectors.splice(ae,1)}}function Y(ae){const me=this.chart,we=me.inverted,Re=me.angular,Le=me.polar,Ge=this.isXAxis,rt=this.coll,Qe=Re&&Ge;ae=ae.userOptions.pane||0,ae=this.pane=me.pane&&me.pane[ae];let qe;rt==="colorAxis"?this.isRadial=!1:(Re?(Qe?(this.isHidden=!0,this.createLabelCollector=C,this.getOffset=S,this.render=this.redraw=Ee,this.setTitle=this.setCategories=this.setScale=S):f(this),(qe=!Ge)&&(this.defaultPolarOptions=ye)):Le&&(f(this),this.defaultPolarOptions=(qe=this.horiz)?ne:L(rt==="xAxis"?a.defaultXAxisOptions:a.defaultYAxisOptions,_e),we&&rt==="yAxis"&&(this.defaultPolarOptions.stackLabels=a.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),Re||Le?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&me.labelCollectors.push(this.labelCollector)):this.isRadial=!1,ae&&qe&&(ae.axis=this),this.isCircular=qe)}function ee(){this.isRadial&&this.beforeSetTickPositions()}function K(ae){const me=this.label;if(me){var we=this.axis,Re=me.getBBox(),Le=we.options.labels,Ge=(we.translate(this.pos)+we.startAngleRad+Math.PI/2)/Math.PI*180%360,rt=Math.round(Ge),Qe=O(Le.y)?0:.3*-Re.height,qe=Le.y,Te=20,Oe=Le.align,ze="end",Xe=0>rt?rt+360:rt,Je=Xe,pt=0,bt=0;if(we.isRadial){var It=we.getPosition(this.pos,we.center[2]/2+$(R(Le.distance,-25),we.center[2]/2,-we.center[2]/2));Le.rotation==="auto"?me.attr({rotation:Ge}):O(qe)||(qe=we.chart.renderer.fontMetrics(me).b-Re.height/2),O(Oe)||(we.isCircular?(Re.width>we.len*we.tickInterval/(we.max-we.min)&&(Te=0),Oe=Ge>Te&&Ge<180-Te?"left":Ge>180+Te&&Ge<360-Te?"right":"center"):Oe="center",me.attr({align:Oe})),Oe==="auto"&&we.tickPositions.length===2&&we.isCircular&&(90<Xe&&180>Xe?Xe=180-Xe:270<Xe&&360>=Xe&&(Xe=540-Xe),180<Je&&360>=Je&&(Je=360-Je),(we.pane.options.startAngle===rt||we.pane.options.startAngle===rt+360||we.pane.options.startAngle===rt-360)&&(ze="start"),Oe=-90<=rt&&90>=rt||-360<=rt&&-270>=rt||270<=rt&&360>=rt?ze==="start"?"right":"left":ze==="start"?"left":"right",70<Je&&110>Je&&(Oe="center"),15>Xe||180<=Xe&&195>Xe?pt=.3*Re.height:15<=Xe&&35>=Xe?pt=ze==="start"?0:.75*Re.height:195<=Xe&&215>=Xe?pt=ze==="start"?.75*Re.height:0:35<Xe&&90>=Xe?pt=ze==="start"?.25*-Re.height:Re.height:215<Xe&&270>=Xe&&(pt=ze==="start"?Re.height:.25*-Re.height),15>Je?bt=ze==="start"?.15*-Re.height:.15*Re.height:165<Je&&180>=Je&&(bt=ze==="start"?.15*Re.height:.15*-Re.height),me.attr({align:Oe}),me.translate(bt,pt+Qe)),ae.pos.x=It.x+(Le.x||0),ae.pos.y=It.y+(qe||0)}}}function he(ae){this.axis.getPosition&&H(ae.pos,this.axis.getPosition(this.pos))}function ge(ae,me){const we=this.chart,Re=this.center;return ae=this.startAngleRad+ae,{x:we.plotLeft+Re[0]+Math.cos(ae)*me,y:we.plotTop+Re[1]+Math.sin(ae)*me}}function Ee(){this.isDirty=!1}function J(){let ae,me;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),ae=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(me=this.postTranslate(this.angleRad,ae[3]/2),ae[0]=me.x-this.chart.plotLeft,ae[1]=me.y-this.chart.plotTop),this.len=this.width=this.height=(ae[2]-ae[3])*R(this.sector,1)/2)}function oe(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function ce(ae){ae=this.options=L(this.constructor.defaultOptions,this.defaultPolarOptions,n[this.coll],ae),ae.plotBands||(ae.plotBands=[]),q(this,"afterSetOptions")}function pe(ae,me,we,Re,Le,Ge,rt){const Qe=this.axis;return Qe.isRadial?(ae=Qe.getPosition(this.pos,Qe.center[2]/2+Re),me=["M",me,we,"L",ae.x,ae.y]):me=ae.call(this,me,we,Re,Le,Ge,rt),me}const Ce=[],ne={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},ye={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},_e={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};k.compose=function(ae,me){return m.pushUnique(Ce,ae)&&(z(ae,"afterInit",g),z(ae,"autoLabelAlign",x),z(ae,"destroy",P),z(ae,"init",Y),z(ae,"initialAxisTranslation",ee)),m.pushUnique(Ce,me)&&(z(me,"afterGetLabelPosition",K),z(me,"afterGetPosition",he),M(me.prototype,"getMarkPath",pe)),ae}}(E||(E={})),E}),s(t,"Series/PolarComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Extensions/Pane.js"],t["Core/Axis/RadialAxis.js"],t["Core/Utilities.js"]],function(a,c,d,m,n,S){function z(J,oe,ce,pe){var Ce=pe?1:0,ne=0<=oe&&oe<=J.length-1?oe:0>oe?J.length-1+oe:0;oe=0>ne-1?J.length-(1+Ce):ne-1;var ye=J[oe];Ce=J[ne+1>J.length-1?Ce:ne+1];var _e=ye.plotY,ae=Ce.plotX,me=Ce.plotY;Ce=J[ne].plotX,ne=J[ne].plotY,ye=(1.5*Ce+ye.plotX)/2.5,_e=(1.5*ne+_e)/2.5,ae=(1.5*Ce+ae)/2.5;var we=(1.5*ne+me)/2.5;me=Math.sqrt(Math.pow(ye-Ce,2)+Math.pow(_e-ne,2));const Re=Math.sqrt(Math.pow(ae-Ce,2)+Math.pow(we-ne,2));return ye=Math.atan2(_e-ne,ye-Ce),we=Math.PI/2+(ye+Math.atan2(we-ne,ae-Ce))/2,Math.abs(ye-we)>Math.PI/2&&(we-=Math.PI),ye=Ce+Math.cos(we)*me,_e=ne+Math.sin(we)*me,ae=Ce+Math.cos(Math.PI+we)*Re,we=ne+Math.sin(Math.PI+we)*Re,Ce={rightContX:ae,rightContY:we,leftContX:ye,leftContY:_e,plotX:Ce,plotY:ne},ce&&(Ce.prevPointCont=z(J,oe,!1,pe)),Ce}function Z(){(this.pane||[]).forEach(J=>{J.render()})}function O(J){const oe=J.args[0].xAxis,ce=J.args[0].yAxis;J=J.args[0].chart,oe&&ce&&(ce.gridLineInterpolation==="polygon"?(oe.startOnTick=!0,oe.endOnTick=!0):oe.gridLineInterpolation==="polygon"&&J.inverted&&(ce.startOnTick=!0,ce.endOnTick=!0))}function H(){this.pane||(this.pane=[]),this.options.pane=ee(this.options.pane),this.options.pane.forEach(J=>{new m(J,this)},this)}function q(J){var oe=J.args.marker,ce=this.chart.xAxis[0],pe=this.chart.yAxis[0],Ce=this.chart.inverted;const ne=Ce?pe:ce;if(ce=Ce?ce:pe,this.chart.polar){J.preventDefault(),pe=(oe.attr?oe.attr("start"):oe.start)-ne.startAngleRad,Ce=oe.attr?oe.attr("r"):oe.r;let ye=(oe.attr?oe.attr("end"):oe.end)-ne.startAngleRad;oe=oe.attr?oe.attr("innerR"):oe.innerR,J.result.x=pe+ne.pos,J.result.width=ye-pe,J.result.y=ce.len+ce.pos-oe,J.result.height=oe-Ce}}function L(J){var oe=this.chart;if(oe.polar&&oe.hoverPane&&oe.hoverPane.axis){J.preventDefault();var ce=oe.hoverPane.center,pe=this.mouseDownX||0;const Ge=this.mouseDownY||0;var Ce=J.args.chartY;const rt=J.args.chartX;var ne=2*Math.PI,ye=oe.hoverPane.axis.startAngleRad,_e=oe.hoverPane.axis.endAngleRad,ae=oe.inverted?oe.xAxis[0]:oe.yAxis[0];const Qe={};var me="arc";if(Qe.x=ce[0]+oe.plotLeft,Qe.y=ce[1]+oe.plotTop,this.zoomHor){var we=0<ye?_e-ye:Math.abs(ye)+Math.abs(_e),Re=Math.atan2(Ge-oe.plotTop-ce[1],pe-oe.plotLeft-ce[0])-ye,Le=Math.atan2(Ce-oe.plotTop-ce[1],rt-oe.plotLeft-ce[0])-ye;if(Qe.r=ce[2]/2,Qe.innerR=ce[3]/2,0>=Re&&(Re+=ne),0>=Le&&(Le+=ne),Le<Re&&(Le=[Re,Re=Le][0]),we<ne&&ye+Le>_e+(ne-we)/2&&(Le=Re,Re=0>=ye?ye:0),ne=Qe.start=Math.max(Re+ye,ye),we=Qe.end=Math.min(Le+ye,_e),ae.options.gridLineInterpolation==="polygon"){if(me=oe.hoverPane.axis,Le=ne-me.startAngleRad+me.pos,Re=we-ne,ne=ae.getPlotLinePath({value:ae.max}),we=me.toValue(Le),Le=me.toValue(Le+Re),we<me.getExtremes().min){const{min:qe,max:Te}=me.getExtremes();we=Te-(qe-we)}if(Le<me.getExtremes().min){const{min:qe,max:Te}=me.getExtremes();Le=Te-(qe-Le)}Le<we&&(Le=[we,we=Le][0]),ne=E(ne,we,Le,me),ne.push(["L",ce[0]+oe.plotLeft,oe.plotTop+ce[1]]),Qe.d=ne,me="path"}}this.zoomVert&&(Le=oe.inverted?oe.xAxis[0]:oe.yAxis[0],pe=Math.sqrt(Math.pow(pe-oe.plotLeft-ce[0],2)+Math.pow(Ge-oe.plotTop-ce[1],2)),Ce=Math.sqrt(Math.pow(rt-oe.plotLeft-ce[0],2)+Math.pow(Ce-oe.plotTop-ce[1],2)),Ce<pe&&(pe=[Ce,Ce=pe][0]),Ce>ce[2]/2&&(Ce=ce[2]/2),pe<ce[3]/2&&(pe=ce[3]/2),this.zoomHor||(Qe.start=ye,Qe.end=_e),Qe.r=Ce,Qe.innerR=pe,Le.options.gridLineInterpolation==="polygon"&&(ce=Le.toValue(Le.len+Le.pos-pe),ye=Le.toValue(Le.len+Le.pos-Ce),ce=Le.getPlotLinePath({value:ye}).concat(Le.getPlotLinePath({value:ce,reverse:!0})),Qe.d=ce,me="path")),this.zoomHor&&this.zoomVert&&ae.options.gridLineInterpolation==="polygon"&&(ce=oe.hoverPane.axis,ae=Qe.start||0,ye=ae-ce.startAngleRad+ce.pos,_e=(Qe.end||0)-ae,ae=ce.toValue(ye),ce=ce.toValue(ye+_e),Qe.d instanceof Array&&(ye=Qe.d.slice(0,Qe.d.length/2),_e=Qe.d.slice(Qe.d.length/2,Qe.d.length),_e=[..._e].reverse(),oe=oe.hoverPane.axis,ye=E(ye,ae,ce,oe),(_e=E(_e,ae,ce,oe))&&(_e[0][0]="L"),_e=[..._e].reverse(),Qe.d=ye.concat(_e),me="path")),J.attrs=Qe,J.shapeType=me}}function R(){const J=this.chart;J.polar&&(this.polar=new Ee(this),J.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function $(){if(this.chart.polar&&this.xAxis){const{xAxis:J,yAxis:oe}=this,ce=this.chart;(this.kdByAngle=ce.tooltip&&ce.tooltip.shared)?this.searchPoint=M:this.options.findNearestPointBy="xy";const pe=this.points;let Ce=pe.length;for(;Ce--;)this.is("column")||this.is("columnrange")||this.polar.toXY(pe[Ce]),ce.hasParallelCoordinates||this.yAxis.reversed||(P(pe[Ce].y,Number.MIN_VALUE)<oe.min||pe[Ce].x<J.min||pe[Ce].x>J.max?(pe[Ce].isNull=!0,pe[Ce].plotY=NaN):pe[Ce].isNull=pe[Ce].isValid&&!pe[Ce].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(w(this,"afterRender",function(){if(ce.polar){var ne=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:ne[0],y:ne[1],r:ne[2]/2,innerR:ne[3]/2});else{{var ye=ce.renderer,_e=ne[0],ae=ne[1],me=ne[2]/2,we=ne[3]/2;ne=K();const Re=ye.createElement("clipPath").attr({id:ne}).add(ye.defs);ye=we?ye.arc(_e,ae,me,we,0,2*Math.PI).add(Re):ye.circle(_e,ae,me).add(Re),ye.id=ne,ye.clipPath=Re}this.clipCircle=ye}this.group.clip(this.clipCircle),this.setClip=c.noop}})))}}function M(J){const oe=this.chart;var ce=this.xAxis;return ce=ce.pane&&ce.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(J.chartX-(ce&&ce[0]||0)-oe.plotLeft,J.chartY-(ce&&ce[1]||0)-oe.plotTop)})}function E(J,oe,ce,pe){const Ce=pe.tickInterval;pe=pe.tickPositions;let ne=f(pe,_e=>_e>=ce),ye=f([...pe].reverse(),_e=>_e<=oe);return D(ne)||(ne=pe[pe.length-1]),D(ye)||(ye=pe[0],ne+=Ce,J[0][0]="L",J.unshift(J[J.length-3])),J=J.slice(pe.indexOf(ye),pe.indexOf(ne)+1),J[0][0]="M",J}function k(J,oe){return f(this.pane||[],function(ce){return ce.options.id===oe})||J.call(this,oe)}function V(J,oe,ce,pe,Ce,ne){const ye=this.chart;var _e=P(pe.inside,!!this.options.stacking);ye.polar?(J=oe.rectPlotX/Math.PI*180,ye.inverted?(this.forceDL=ye.isInsidePlot(oe.plotX,oe.plotY),_e&&oe.shapeArgs?(_e=oe.shapeArgs,_e=this.yAxis.postTranslate(((_e.start||0)+(_e.end||0))/2-this.xAxis.startAngleRad,oe.barX+oe.pointWidth/2),Ce=x(Ce,{x:_e.x-ye.plotLeft,y:_e.y-ye.plotTop})):oe.tooltipPos&&(Ce=x(Ce,{x:oe.tooltipPos[0],y:oe.tooltipPos[1]})),pe.align=P(pe.align,"center"),pe.verticalAlign=P(pe.verticalAlign,"middle")):(pe.align===null&&(pe.align=20<J&&160>J?"left":200<J&&340>J?"right":"center"),pe.verticalAlign===null&&(pe.verticalAlign=45>J||315<J?"bottom":135<J&&225>J?"top":"middle")),d.prototype.alignDataLabel.call(this,oe,ce,pe,Ce,ne),this.isRadialBar&&oe.shapeArgs&&oe.shapeArgs.start===oe.shapeArgs.end?ce.hide():ce.show()):J.call(this,oe,ce,pe,Ce,ne)}function G(){const J=this.options,oe=J.stacking,ce=this.chart;var pe=this.xAxis;const Ce=this.yAxis,ne=Ce.reversed,ye=Ce.center,_e=pe.startAngleRad,ae=pe.endAngleRad-_e;let me=0,we,Re,Le,Ge=0;var rt=0;if(pe.isRadial){pe=this.points,we=pe.length,Re=Ce.translate(Ce.min),Le=Ce.translate(Ce.max);var Qe=J.threshold||0;for(ce.inverted&&g(Qe)&&(me=Ce.translate(Qe),D(me)&&(0>me?me=0:me>ae&&(me=ae),this.translatedThreshold=me+_e));we--;){Qe=pe[we];var qe=Qe.barX,Te=Qe.x,Oe=Qe.y;if(Qe.shapeType="arc",ce.inverted){Qe.plotY=Ce.translate(Oe),oe&&Ce.stacking?(Oe=Ce.stacking.stacks[(0>Oe?"-":"")+this.stackKey],this.visible&&Oe&&Oe[Te]&&!Qe.isNull&&(rt=Oe[Te].points[this.getStackIndicator(void 0,Te,this.index).key],Ge=Ce.translate(rt[0]),rt=Ce.translate(rt[1]),D(Ge)&&(Ge=S.clamp(Ge,0,ae)))):(Ge=me,rt=Qe.plotY),Ge>rt&&(rt=[Ge,Ge=rt][0]),ne?rt>Re?rt=Re:Ge<Le?Ge=Le:(Ge>Re||rt<Le)&&(Ge=rt=ae):Ge<Re?Ge=Re:rt>Le?rt=Le:(rt<Re||Ge>Le)&&(Ge=rt=0),Ce.min>Ce.max&&(Ge=rt=ne?ae:0),Ge+=_e,rt+=_e,ye&&(Qe.barX=qe+=ye[3]/2),Te=Math.max(qe,0),Oe=Math.max(qe+Qe.pointWidth,0);var ze=J.borderRadius;ze=Y((typeof ze=="object"?ze.radius:ze)||0,Oe-Te),Qe.shapeArgs={x:ye[0],y:ye[1],r:Oe,innerR:Te,start:Ge,end:rt,borderRadius:ze},Qe.opacity=Ge===rt?0:void 0,Qe.plotY=(D(this.translatedThreshold)&&(Ge<this.translatedThreshold?Ge:rt))-_e}else Ge=qe+_e,Qe.shapeArgs=this.polar.arc(Qe.yBottom,Qe.plotY,Ge,Ge+Qe.pointWidth),Qe.shapeArgs.borderRadius=0;this.polar.toXY(Qe),ce.inverted?(qe=Ce.postTranslate(Qe.rectPlotY,qe+Qe.pointWidth/2),Qe.tooltipPos=[qe.x-ce.plotLeft,qe.y-ce.plotTop]):Qe.tooltipPos=[Qe.plotX,Qe.plotY],ye&&(Qe.ttBelow=Qe.plotY>ye[1])}}}function C(J,oe){const ce=this;let pe;if(this.chart.polar){oe=oe||this.points;for(let ne=0;ne<oe.length;ne++)if(!oe[ne].isNull){var Ce=ne;break}this.options.connectEnds!==!1&&typeof Ce<"u"&&(this.connectEnds=!0,oe.splice(oe.length,0,oe[Ce]),pe=!0),oe.forEach(ne=>{typeof ne.polarPlotY>"u"&&ce.polar.toXY(ne)})}return Ce=J.apply(this,[].slice.call(arguments,1)),pe&&oe.pop(),Ce}function te(J,oe){const ce=this.chart;let pe={xAxis:[],yAxis:[]};return ce.polar?ce.axes.forEach(Ce=>{if(Ce.coll!=="colorAxis"){var ne=Ce.isXAxis,ye=Ce.center,_e=oe.chartX-ye[0]-ce.plotLeft;ye=oe.chartY-ye[1]-ce.plotTop,pe[ne?"xAxis":"yAxis"].push({axis:Ce,value:Ce.translate(ne?Math.PI-Math.atan2(_e,ye):Math.sqrt(Math.pow(_e,2)+Math.pow(ye,2)),!0)})}}):pe=J.call(this,oe),pe}function Q(J,oe){this.chart.polar||J.call(this,oe)}function N(J,oe){const ce=this,pe=this.chart,Ce=this.group,ne=this.markerGroup,ye=this.xAxis&&this.xAxis.center,_e=pe.plotLeft,ae=pe.plotTop;let me=this.options.animation,we,Re,Le,Ge,rt;pe.polar?ce.isRadialBar?oe||(ce.startAngleRad=P(ce.translatedThreshold,ce.xAxis.startAngleRad),c.seriesTypes.pie.prototype.animate.call(ce,oe)):(me=W(me),ce.is("column")?oe||(we=ye[3]/2,ce.points.forEach(Qe=>{Re=Qe.graphic,Ge=(Le=Qe.shapeArgs)&&Le.r,rt=Le&&Le.innerR,Re&&Le&&(Re.attr({r:we,innerR:we}),Re.animate({r:Ge,innerR:rt},ce.options.animation))})):oe?(J={translateX:ye[0]+_e,translateY:ye[1]+ae,scaleX:.001,scaleY:.001},Ce.attr(J),ne&&ne.attr(J)):(J={translateX:_e,translateY:ae,scaleX:1,scaleY:1},Ce.animate(J,me),ne&&ne.animate(J,me))):J.call(this,oe)}function j(J,oe,ce,pe){return this.chart.polar?pe?(J=z(oe,pe,!0,this.connectEnds),oe=J.prevPointCont&&J.prevPointCont.rightContX,ce=J.prevPointCont&&J.prevPointCont.rightContY,J=["C",g(oe)?oe:J.plotX,g(ce)?ce:J.plotY,g(J.leftContX)?J.leftContX:J.plotX,g(J.leftContY)?J.leftContY:J.plotY,J.plotX,J.plotY]):J=["M",ce.plotX,ce.plotY]:J=J.call(this,oe,ce,pe),J}const{animObject:W}=a,{addEvent:w,defined:D,find:f,isNumber:g,merge:x,pick:P,relativeLength:Y,splat:ee,uniqueKey:K,wrap:he}=S,ge=[];class Ee{static compose(oe,ce,pe,Ce,ne,ye,_e,ae,me){n.compose(oe,ne),S.pushUnique(ge,ce)&&(w(ce,"afterDrawChartBox",Z),w(ce,"getAxes",H),w(ce,"init",O),he(ce.prototype,"get",k)),S.pushUnique(ge,pe)&&(oe=pe.prototype,he(oe,"getCoordinates",te),he(oe,"pinch",Q),w(pe,"getSelectionMarkerAttrs",L),w(pe,"getSelectionBox",q)),S.pushUnique(ge,Ce)&&(w(Ce,"afterInit",R),w(Ce,"afterTranslate",$,{order:2}),w(Ce,"afterColumnTranslate",G,{order:4}),he(Ce.prototype,"animate",N)),_e&&S.pushUnique(ge,_e)&&(pe=_e.prototype,he(pe,"alignDataLabel",V),he(pe,"animate",N)),ae&&S.pushUnique(ge,ae)&&he(ae.prototype,"getGraphPath",C),me&&S.pushUnique(ge,me)&&(ae=me.prototype,he(ae,"getPointSpline",j),ye&&S.pushUnique(ge,ye)&&(ye.prototype.getPointSpline=ae.getPointSpline))}constructor(oe){this.series=oe}arc(oe,ce,pe,Ce){const ne=this.series,ye=ne.xAxis.center,_e=ne.yAxis.len,ae=ye[3]/2;return ce=_e-ce+ae,oe=_e-P(oe,_e)+ae,ne.yAxis.reversed&&(0>ce&&(ce=ae),0>oe&&(oe=ae)),{x:ye[0],y:ye[1],r:ce,innerR:oe,start:pe,end:Ce}}toXY(oe){var ce=this.series;const pe=ce.chart,Ce=ce.xAxis;var ne=ce.yAxis;const ye=oe.plotX,_e=pe.inverted,ae=oe.y;let me=oe.plotY,we=_e?ye:ne.len-me;_e&&ce&&!ce.isRadialBar&&(oe.plotY=me=g(ae)?ne.translate(ae):0),oe.rectPlotX=ye,oe.rectPlotY=me,ne.center&&(we+=ne.center[3]/2),g(me)&&(ne=_e?ne.postTranslate(me,we):Ce.postTranslate(ye,we),oe.plotX=oe.polarPlotX=ne.x-pe.plotLeft,oe.plotY=oe.polarPlotY=ne.y-pe.plotTop),ce.kdByAngle?(ce=(ye/Math.PI*180+Ce.pane.options.startAngle)%360,0>ce&&(ce+=360),oe.clientX=ce):oe.clientX=oe.plotX}}return Ee}),s(t,"masters/highcharts-more.src.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Bubble/BubbleSeries.js"],t["Series/PackedBubble/PackedBubbleSeries.js"],t["Series/PolarComposition.js"]],function(a,c,d,m,n){d.compose(a.Axis,a.Chart,a.Legend,a.Series),m.compose(a.Axis,a.Chart,a.Legend,a.Series),n.compose(a.Axis,a.Chart,a.Pointer,a.Series,a.Tick,c.seriesTypes.areasplinerange,c.seriesTypes.column,c.seriesTypes.line,c.seriesTypes.spline)})})})(RA);var t$=RA.exports;const BA=uh(t$);BA(Pl);const i$={components:{highcharts:Kf.Chart},methods:{chartCallback(e){e.renderer.forExport||setInterval(function(){var t=e.series[0].points[0],s,a=Math.round((Math.random()-.5)*20);s=t.y+a,(s<0||s>200)&&(s=t.y-a),t.update(s)},3e3)}},data(){return{fuelOptions:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{useHTML:!0,text:"<img src='https://cdn-icons-png.flaticon.com/512/710/710296.png' height='18px' alt='' />",y:180},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#FFF"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#fff",tickPixelInterval:32,tickWidth:5,tickPosition:"inside",tickLength:20,tickColor:"#0A2647",labels:{step:16,distance:10,enabled:!1},title:{text:"",y:20},plotBands:[{from:0,to:4,color:"#0A2647"},{from:4,to:8,color:"#0A2647"},{from:8,to:12,color:"#0A2647"},{from:12,to:16,color:"#0A2647"},{from:16,to:20,color:"#0A2647"},{from:20,to:24,color:"#0A2647"},{from:24,to:28,color:"#0A2647"},{from:28,to:32,color:"#0A2647"}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]}}}},Td=e=>(fu("data-v-7c7fa323"),e=e(),mu(),e),n$={class:"row"},s$={class:"col position-relative"},r$=Td(()=>je("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HFO (KL)",-1)),o$=Td(()=>je("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"15.08 KL",-1)),a$={class:"col position-relative"},l$=Td(()=>je("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total LS HFO (KL)",-1)),c$=Td(()=>je("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.94",-1)),h$={class:"col position-relative"},d$=Td(()=>je("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total MDO (KL)",-1)),u$=Td(()=>je("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"1.22",-1)),p$={class:"col position-relative"},f$=Td(()=>je("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HSD (KL)",-1)),m$=Td(()=>je("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.01",-1)),g$={class:"col position-relative"},_$=Td(()=>je("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total (KL)",-1)),y$=Td(()=>je("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"21.25",-1));function v$(e,t,s,a,c,d){const m=Yn("highcharts");return Ot(),Ft("div",n$,[je("div",s$,[Qi(m,{options:c.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),r$,o$]),je("div",a$,[Qi(m,{options:c.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),l$,c$]),je("div",h$,[Qi(m,{options:c.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),d$,u$]),je("div",p$,[Qi(m,{options:c.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),f$,m$]),je("div",g$,[Qi(m,{options:c.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),_$,y$])])}const x$=Kn(i$,[["render",v$],["__scopeId","data-v-7c7fa323"]]);var zA={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function s(a,c,d,m){a.hasOwnProperty(c)||(a[c]=m.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:a[c]}})))}t=t?t._modules:{},s(t,"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(a,c){const{addEvent:d,find:m,fireEvent:n,isArray:S,isNumber:z,pick:Z}=c;var O;return function(H){function q(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function L(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function R(){const te=this.brokenAxis;if(te&&te.hasBreaks){const Q=this.tickPositions,N=this.tickPositions.info,j=[];for(let W=0;W<Q.length;W++)te.isInAnyBreak(Q[W])||j.push(Q[W]);this.tickPositions=j,this.tickPositions.info=N}}function $(){this.brokenAxis||(this.brokenAxis=new C(this))}function M(){const{isDirty:te,options:{connectNulls:Q},points:N,xAxis:j,yAxis:W}=this;if(te){let w=N.length;for(;w--;){const D=N[w],f=!(D.y===null&&Q===!1)&&(j&&j.brokenAxis&&j.brokenAxis.isInAnyBreak(D.x,!0)||W&&W.brokenAxis&&W.brokenAxis.isInAnyBreak(D.y,!0));D.visible=f?!1:D.options.visible!==!1}}}function E(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,Z(this.pointArrayMap,["y"]))}function k(te,Q){const N=this,j=N.points;let W,w,D,f;if(te&&te.brokenAxis&&te.brokenAxis.hasBreaks){const g=te.brokenAxis;Q.forEach(function(x){W=g&&g.breakArray||[],w=te.isXAxis?te.min:Z(N.options.threshold,te.min),j.forEach(function(P){f=Z(P["stack"+x.toUpperCase()],P[x]),W.forEach(function(Y){z(w)&&z(f)&&(D=!1,w<Y.from&&f>Y.to||w>Y.from&&f<Y.from?D="pointBreak":(w<Y.from&&f>Y.from&&f<Y.to||w>Y.from&&f>Y.to&&f<Y.from)&&(D="pointInBreak"),D&&n(te,D,{point:P,brk:Y}))})})})}}function V(){var te=this.currentDataGrouping,Q=te&&te.gapSize;te=this.points.slice();const N=this.yAxis;let j=this.options.gapSize,W=te.length-1;var w;if(j&&0<W)for(this.options.gapUnit!=="value"&&(j*=this.basePointRange),Q&&Q>j&&Q>=this.basePointRange&&(j=Q);W--;)w&&w.visible!==!1||(w=te[W+1]),Q=te[W],w.visible!==!1&&Q.visible!==!1&&(w.x-Q.x>j&&(w=(Q.x+w.x)/2,te.splice(W+1,0,{isNull:!0,x:w}),N.stacking&&this.options.stacking&&(w=N.stacking.stacks[this.stackKey][w]=new a(N,N.options.stackLabels,!1,w,this.stack),w.total=0)),w=Q);return this.getGraphPath(te)}const G=[];H.compose=function(te,Q){if(c.pushUnique(G,te)&&(te.keepProps.push("brokenAxis"),d(te,"init",$),d(te,"afterInit",q),d(te,"afterSetTickPositions",R),d(te,"afterSetOptions",L)),c.pushUnique(G,Q)){const N=Q.prototype;N.drawBreaks=k,N.gappedPath=V,d(Q,"afterGeneratePoints",M),d(Q,"afterRender",E)}return te};class C{static isInBreak(Q,N){const j=Q.repeat||1/0,W=Q.from,w=Q.to-Q.from;return N=N>=W?(N-W)%j:j-(W-N)%j,Q.inclusive?N<=w:N<w&&N!==0}static lin2Val(Q){var N=this.brokenAxis;if(N=N&&N.breakArray,!N||!z(Q))return Q;let j,W;for(W=0;W<N.length&&(j=N[W],!(j.from>=Q));W++)(j.to<Q||C.isInBreak(j,Q))&&(Q+=j.len);return Q}static val2Lin(Q){var N=this.brokenAxis;if(N=N&&N.breakArray,!N||!z(Q))return Q;let j=Q,W,w;for(w=0;w<N.length;w++)if(W=N[w],W.to<=Q)j-=W.len;else{if(W.from>=Q)break;if(C.isInBreak(W,Q)){j-=Q-W.from;break}}return j}constructor(Q){this.hasBreaks=!1,this.axis=Q}findBreakAt(Q,N){return m(N,function(j){return j.from<Q&&Q<j.to})}isInAnyBreak(Q,N){const j=this.axis,W=j.options.breaks||[];let w=W.length,D,f,g;if(w&&z(Q)){for(;w--;)C.isInBreak(W[w],Q)&&(D=!0,f||(f=Z(W[w].showPoints,!j.isXAxis)));g=D&&N?D&&!f:D}return g}setBreaks(Q,N){const j=this,W=j.axis,w=S(Q)&&!!Q.length;W.isDirty=j.hasBreaks!==w,j.hasBreaks=w,W.options.breaks=W.userOptions.breaks=Q,W.forceRedraw=!0,W.series.forEach(function(D){D.isDirty=!0}),w||W.val2lin!==C.val2Lin||(delete W.val2lin,delete W.lin2val),w&&(W.userOptions.ordinal=!1,W.lin2val=C.lin2Val,W.val2lin=C.val2Lin,W.setExtremes=function(D,f,g,x,P){if(j.hasBreaks){const Y=this.options.breaks||[];let ee;for(;ee=j.findBreakAt(D,Y);)D=ee.to;for(;ee=j.findBreakAt(f,Y);)f=ee.from;f<D&&(f=D)}W.constructor.prototype.setExtremes.call(this,D,f,g,x,P)},W.setAxisTranslation=function(){if(W.constructor.prototype.setAxisTranslation.call(this),j.unitLength=void 0,j.hasBreaks){const D=W.options.breaks||[],f=[],g=[],x=Z(W.pointRangePadding,0);let P=0,Y,ee,K=W.userMin||W.min,he=W.userMax||W.max,ge,Ee;D.forEach(function(J){ee=J.repeat||1/0,z(K)&&z(he)&&(C.isInBreak(J,K)&&(K+=J.to%ee-K%ee),C.isInBreak(J,he)&&(he-=he%ee-J.from%ee))}),D.forEach(function(J){if(ge=J.from,ee=J.repeat||1/0,z(K)&&z(he)){for(;ge-ee>K;)ge-=ee;for(;ge<K;)ge+=ee;for(Ee=ge;Ee<he;Ee+=ee)f.push({value:Ee,move:"in"}),f.push({value:Ee+J.to-J.from,move:"out",size:J.breakSize})}}),f.sort(function(J,oe){return J.value===oe.value?(J.move==="in"?0:1)-(oe.move==="in"?0:1):J.value-oe.value}),Y=0,ge=K,f.forEach(function(J){Y+=J.move==="in"?1:-1,Y===1&&J.move==="in"&&(ge=J.value),Y===0&&z(ge)&&(g.push({from:ge,to:J.value,len:J.value-ge-(J.size||0)}),P+=J.value-ge-(J.size||0))}),j.breakArray=g,z(K)&&z(he)&&z(W.min)&&(j.unitLength=he-K-P+x,n(W,"afterBreaks"),W.staticScale?W.transA=W.staticScale:j.unitLength&&(W.transA*=(he-W.min+x)/j.unitLength),x&&(W.minPixelPadding=W.transA*(W.minPointOffset||0)),W.min=K,W.max=he)}}),Z(N,!0)&&W.chart.redraw()}}H.Additions=C}(O||(O={})),O}),s(t,"masters/modules/broken-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/BrokenAxis.js"]],function(a,c){c.compose(a.Axis,a.Series)}),s(t,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),s(t,"Extensions/DataGrouping/ApproximationDefaults.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Core/Utilities.js"]],function(a,c){function d(H){const q=H.length;return H=m(H),O(H)&&q&&(H=z(H/q)),H}function m(H){let q=H.length,L;if(!q&&H.hasNulls)L=null;else if(q)for(L=0;q--;)L+=H[q];return L}const{arrayMax:n,arrayMin:S,correctFloat:z,extend:Z,isNumber:O}=c;return c={average:d,averages:function(){const H=[];return[].forEach.call(arguments,function(q){H.push(d(q))}),typeof H[0]>"u"?void 0:H},close:function(H){return H.length?H[H.length-1]:H.hasNulls?null:void 0},high:function(H){return H.length?n(H):H.hasNulls?null:void 0},hlc:function(H,q,L){if(H=a.high(H),q=a.low(q),L=a.close(L),O(H)||O(q)||O(L))return[H,q,L]},low:function(H){return H.length?S(H):H.hasNulls?null:void 0},ohlc:function(H,q,L,R){if(H=a.open(H),q=a.high(q),L=a.low(L),R=a.close(R),O(H)||O(q)||O(L)||O(R))return[H,q,L,R]},open:function(H){return H.length?H[0]:H.hasNulls?null:void 0},range:function(H,q){if(H=a.low(H),q=a.high(q),O(H)||O(q))return[H,q];if(H===null&&q===null)return null},sum:m},Z(a,c),c}),s(t,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),s(t,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Utilities.js"]],function(a,c){function d(R){const $=this,M=$.series;M.forEach(function(E){E.groupPixelWidth=void 0}),M.forEach(function(E){E.groupPixelWidth=$.getGroupPixelWidth&&$.getGroupPixelWidth(),E.groupPixelWidth&&(E.hasProcessed=!0),E.applyGrouping(!!R.hasExtremesChanged)})}function m(){const R=this.series;let $=R.length,M=0,E=!1,k,V;for(;$--;)(V=R[$].options.dataGrouping)&&(M=Math.max(M,H(V.groupPixelWidth,a.common.groupPixelWidth)),k=(R[$].processedXData||R[$].data).length,(R[$].groupPixelWidth||k>this.chart.plotSizeX/M||k&&V.forced)&&(E=!0));return E?M:0}function n(){this.series.forEach(function(R){R.hasProcessed=!1})}function S(R,$){let M;if($=H($,!0),R||(R={forced:!1,units:null}),this instanceof L)for(M=this.series.length;M--;)this.series[M].update({dataGrouping:R},!1);else this.chart.options.series.forEach(function(E){E.dataGrouping=typeof R=="boolean"?R:O(R,E.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),$&&this.chart.redraw()}const{addEvent:z,extend:Z,merge:O,pick:H}=c,q=[];let L;return{compose:function(R){L=R,c.pushUnique(q,R)&&(z(R,"afterSetScale",n),z(R,"postProcessData",d),Z(R.prototype,{applyGrouping:d,getGroupPixelWidth:m,setDataGrouping:S}))}}}),s(t,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,d,m,n,S){function z(N){var j=this.chart,W=this.options.dataGrouping,w=this.allowDG!==!1&&W&&C(W.enabled,j.options.isStock),D=this.visible||!j.options.chart.ignoreHiddenSeries;const f=this.currentDataGrouping;var g=!1;if(w&&!this.requireSorting&&(this.requireSorting=g=!0),N=!!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!N)||!w,g&&(this.requireSorting=!1),!N){this.destroyGroupedData(),N=W.groupAll?this.xData:this.processedXData,w=W.groupAll?this.yData:this.processedYData;var x=j.plotSizeX;g=this.xAxis;var P=g.options.ordinal,Y=this.groupPixelWidth,ee;let ce;if(Y&&N&&N.length&&x){this.isDirty=ce=!0,this.points=null;var K=g.getExtremes(),he=K.min;K=K.max,P=P&&g.ordinal&&g.ordinal.getGroupIntervalFactor(he,K,this)||1,x=g.getTimeTicks(d.Additions.prototype.normalizeTimeTickInterval(Y*(K-he)/x*P,W.units||c.units),Math.min(he,N[0]),Math.max(K,N[N.length-1]),g.options.startOfWeek,N,this.closestPointRange),Y=R.groupData.apply(this,[N,w,x,W.approximation]),N=Y.groupedXData,w=Y.groupedYData,P=0,W&&W.smoothed&&N.length&&(W.firstAnchor="firstPoint",W.anchor="middle",W.lastAnchor="lastPoint",E(32,!1,j,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),j=N;var ge=K,Ee=this.options.dataGrouping;if(K=this.currentDataGrouping&&this.currentDataGrouping.gapSize,Ee&&this.xData&&K&&this.groupMap){he=j.length-1;var J=Ee.anchor;const pe=C(Ee.firstAnchor,J);if(Ee=C(Ee.lastAnchor,J),J&&J!=="start"){var oe=K*{middle:.5,end:1}[J];for(J=j.length-1;J--&&0<J;)j[J]+=oe}pe&&pe!=="start"&&this.xData[0]>=j[0]&&(J=this.groupMap[0].start,oe=this.groupMap[0].length,V(J)&&V(oe)&&(ee=J+(oe-1)),j[0]={middle:j[0]+.5*K,end:j[0]+K,firstPoint:this.xData[0],lastPoint:ee&&this.xData[ee]}[pe]),Ee&&Ee!=="start"&&K&&j[he]>=ge-K&&(ee=this.groupMap[this.groupMap.length-1].start,j[he]={middle:j[he]+.5*K,end:j[he]+K,firstPoint:ee&&this.xData[ee],lastPoint:this.xData[this.xData.length-1]}[Ee])}for(ee=1;ee<x.length;ee++)x.info.segmentStarts&&x.info.segmentStarts.indexOf(ee)!==-1||(P=Math.max(x[ee]-x[ee-1],P));K=x.info,K.gapSize=P,this.closestPointRange=x.info.totalRange,this.groupMap=Y.groupMap,D&&(D=g,ee=N,M(ee[0])&&V(D.min)&&V(D.dataMin)&&ee[0]<D.min&&((!M(D.options.min)&&D.min<=D.dataMin||D.min===D.dataMin)&&(D.min=Math.min(ee[0],D.min)),D.dataMin=Math.min(ee[0],D.dataMin)),M(ee[ee.length-1])&&V(D.max)&&V(D.dataMax)&&ee[ee.length-1]>D.max&&((!M(D.options.max)&&V(D.dataMax)&&D.max>=D.dataMax||D.max===D.dataMax)&&(D.max=Math.max(ee[ee.length-1],D.max)),D.dataMax=Math.max(ee[ee.length-1],D.dataMax))),W.groupAll&&(this.allGroupedData=w,W=this.cropData(N,w,g.min,g.max,1),N=W.xData,w=W.yData,this.cropStart=W.start),this.processedXData=N,this.processedYData=w}else this.groupMap=null;this.hasGroupedData=ce,this.currentDataGrouping=K,this.preventGraphAnimation=(f&&f.totalRange)!==(K&&K.totalRange)}}function Z(){this.groupedData&&(this.groupedData.forEach(function(N,j){N&&(this.groupedData[j]=N.destroy?N.destroy():null)},this),this.groupedData.length=0)}function O(){te.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function H(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function q(N,j,W,w){const D=this,f=D.data,g=D.options&&D.options.data,x=[],P=[],Y=[],ee=N.length,K=!!j,he=[],ge=D.pointArrayMap,Ee=ge&&ge.length,J=["x"].concat(ge||["y"]),oe=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let ce=0,pe=0;if(w=typeof w=="function"?w:w&&a[w]?a[w]:a[D.getDGApproximation&&D.getDGApproximation()||"average"],Ee)for(var Ce=ge.length;Ce--;)he.push([]);else he.push([]);Ce=Ee||1;for(let _e=0;_e<=ee;_e++)if(!(N[_e]<W[0])){for(;typeof W[ce+1]<"u"&&N[_e]>=W[ce+1]||_e===ee;){var ne=W[ce];D.dataGroupInfo={start:oe?pe:D.cropStart+pe,length:he[0].length};var ye=w.apply(D,he);for(D.pointClass&&!M(D.dataGroupInfo.options)&&(D.dataGroupInfo.options=G(D.pointClass.prototype.optionsToObject.call({series:D},D.options.data[D.cropStart+pe])),J.forEach(function(ae){delete D.dataGroupInfo.options[ae]})),typeof ye<"u"&&(x.push(ne),P.push(ye),Y.push(D.dataGroupInfo)),pe=_e,ne=0;ne<Ce;ne++)he[ne].length=0,he[ne].hasNulls=!1;if(ce+=1,_e===ee)break}if(_e===ee)break;if(ge){ne=D.options.dataGrouping&&D.options.dataGrouping.groupAll?_e:D.cropStart+_e,ne=f&&f[ne]||D.pointClass.prototype.applyOptions.apply({series:D},[g[ne]]);for(let ae=0;ae<Ee;ae++)ye=ne[ge[ae]],V(ye)?he[ae].push(ye):ye===null&&(he[ae].hasNulls=!0)}else ne=K?j[_e]:null,V(ne)?he[0].push(ne):ne===null&&(he[0].hasNulls=!0)}return{groupedXData:x,groupedYData:P,groupMap:Y}}function L(N){N=N.options;const j=this.type,W=this.chart.options.plotOptions,w=this.useCommonDataGrouping&&c.common,D=c.seriesSpecific;let f=m.defaultOptions.plotOptions[j].dataGrouping;if(W&&(D[j]||w)){const g=this.chart.rangeSelector;f||(f=G(c.common,D[j])),N.dataGrouping=G(w,f,W.series&&W.series.dataGrouping,W[j].dataGrouping,this.userOptions.dataGrouping,!N.isInternal&&g&&V(g.selected)&&g.buttonOptions[g.selected].dataGrouping)}}const{series:{prototype:R}}=n,{addEvent:$,defined:M,error:E,extend:k,isNumber:V,merge:G,pick:C}=S,te=R.generatePoints,Q=[];return{compose:function(N){const j=N.prototype.pointClass;S.pushUnique(Q,j)&&$(j,"update",function(){if(this.dataGroup)return E(24,!1,this.series.chart),!1}),S.pushUnique(Q,N)&&($(N,"afterSetOptions",L),$(N,"destroy",Z),k(N.prototype,{applyGrouping:z,destroyGroupedData:Z,generatePoints:O,getDGApproximation:H,groupData:q}))},groupData:q}}),s(t,"Extensions/DataGrouping/DataGrouping.js",[t["Extensions/DataGrouping/DataGroupingAxisComposition.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(a,c,d,m,n){function S(L){const R=this.chart,$=R.time,M=L.labelConfig,E=M.series;var k=E.tooltipOptions,V=E.options.dataGrouping;const G=E.xAxis;var C=k.xDateFormat;let te,Q,N=k[L.isFooter?"footerFormat":"headerFormat"];G&&G.options.type==="datetime"&&V&&H(M.key)&&(Q=E.currentDataGrouping,V=V.dateTimeLabelFormats||c.common.dateTimeLabelFormats,Q?(k=V[Q.unitName],Q.count===1?C=k[0]:(C=k[1],te=k[2])):!C&&V&&G.dateTime&&(C=G.dateTime.getXDateFormat(M.x,k.dateTimeLabelFormats)),C=$.dateFormat(C,M.key),te&&(C+=$.dateFormat(te,M.key+Q.totalRange-1)),E.chart.styledMode&&(N=this.styledModeFormat(N)),L.text=z(N,{point:O(M.point,{key:C}),series:E},R),L.preventDefault())}const{format:z}=m,{addEvent:Z,extend:O,isNumber:H}=n,q=[];return m={compose:function(L,R,$){a.compose(L),d.compose(R),$&&n.pushUnique(q,$)&&Z($,"headerFormatter",S)},groupData:d.groupData},m}),s(t,"masters/modules/datagrouping.src.js",[t["Core/Globals.js"],t["Extensions/DataGrouping/ApproximationDefaults.js"],t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGrouping.js"]],function(a,c,d,m){a.dataGrouping={approximationDefaults:c,approximations:d},m.compose(a.Axis,a.Series,a.Tooltip)}),s(t,"Series/DataModifyComposition.js",[t["Core/Axis/Axis.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(a,c,d,m){const{prototype:{tooltipFormatter:n}}=c,{addEvent:S,arrayMax:z,arrayMin:Z,correctFloat:O,defined:H,isArray:q,isNumber:L,isString:R,pick:$}=m;var M;return function(E){function k(f,g,x){this.isXAxis||(this.series.forEach(function(P){f==="compare"&&typeof g!="boolean"?P.setCompare(g,!1):f!=="cumulative"||R(g)||P.setCumulative(g,!1)}),$(x,!0)&&this.chart.redraw())}function V(f){const g=this,{numberFormatter:x}=g.series.chart,P=function(Y){f=f.replace("{point."+Y+"}",(0<g[Y]&&Y==="change"?"+":"")+x(g[Y],$(g.series.tooltipOptions.changeDecimals,2)))};return H(g.change)&&P("change"),H(g.cumulativeSum)&&P("cumulativeSum"),n.apply(this,[f])}function G(){const f=this.options.compare;let g;(f==="percent"||f==="value"||this.options.cumulative)&&(g=new D(this),f==="percent"||f==="value"?g.initCompare(f):g.initCumulative()),this.dataModify=g}function C(f){f=f.dataExtremes;const g=f.activeYData;if(this.dataModify&&f){let x;this.options.compare?x=[this.dataModify.modifyValue(f.dataMin),this.dataModify.modifyValue(f.dataMax)]:this.options.cumulative&&q(g)&&2<=g.length&&(x=D.getCumulativeExtremes(g)),x&&(f.dataMin=Z(x),f.dataMax=z(x))}}function te(f,g){this.options.compare=this.userOptions.compare=f,this.update({},$(g,!0)),!this.dataModify||f!=="value"&&f!=="percent"?this.points.forEach(x=>{delete x.change}):this.dataModify.initCompare(f)}function Q(){if(this.xAxis&&this.processedYData&&this.dataModify){const f=this.processedXData,g=this.processedYData,x=g.length,P=this.options.compareStart===!0?0:1;let Y=-1,ee;for(this.pointArrayMap&&(Y=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),ee=0;ee<x-P;ee++){const K=g[ee]&&-1<Y?g[ee][Y]:g[ee];if(L(K)&&K!==0&&f[ee+P]>=(this.xAxis.min||0)){this.dataModify.compareValue=K;break}}}}function N(f,g){this.setModifier("compare",f,g)}function j(f,g){f=$(f,!1),this.options.cumulative=this.userOptions.cumulative=f,this.update({},$(g,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(x=>{delete x.cumulativeSum})}function W(f,g){this.setModifier("cumulative",f,g)}const w=[];E.compose=function(f,g,x){if(m.pushUnique(w,f)){const P=f.prototype;P.setCompare=te,P.setCumulative=j,S(f,"afterInit",G),S(f,"afterGetExtremes",C),S(f,"afterProcessData",Q)}return m.pushUnique(w,g)&&(g=g.prototype,g.setCompare=N,g.setModifier=k,g.setCumulative=W),m.pushUnique(w,x)&&(x.prototype.tooltipFormatter=V),f};class D{constructor(g){this.series=g}modifyValue(){return 0}static getCumulativeExtremes(g){let x=1/0,P=-1/0;return g.reduce((Y,ee)=>(ee=Y+ee,x=Math.min(x,ee,Y),P=Math.max(P,ee,Y),ee)),[x,P]}initCompare(g){this.modifyValue=function(x,P){x===null&&(x=0);const Y=this.compareValue;return typeof x<"u"&&typeof Y<"u"?(x=g==="value"?x-Y:x/Y*100-(this.series.options.compareBase===100?0:100),typeof P<"u"&&(P=this.series.points[P])&&(P.change=x),x):0}}initCumulative(){this.modifyValue=function(g,x){if(g===null&&(g=0),g!==void 0&&x!==void 0){const P=0<x?this.series.points[x-1]:null;return P&&P.cumulativeSum&&(g=O(P.cumulativeSum+g)),(x=this.series.points[x])&&(x.cumulativeSum=g),g}return 0}}}E.Additions=D}(M||(M={})),M}),s(t,"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,c){function d(){this.navigatorAxis||(this.navigatorAxis=new L(this))}function m(R){var $=this.chart.options,M=$.navigator;const E=this.navigatorAxis,k=$.chart.zooming.pinchType,V=$.rangeSelector;$=$.chart.zooming.type,this.isXAxis&&(M&&M.enabled||V&&V.enabled)&&($==="y"?R.zoomed=!1:(!n&&$==="xy"||n&&k==="xy")&&this.options.range&&(M=E.previousZoom,Z(R.newMin)?E.previousZoom=[this.min,this.max]:M&&(R.newMin=M[0],R.newMax=M[1],E.previousZoom=void 0))),typeof R.zoomed<"u"&&R.preventDefault()}const{isTouchDevice:n}=a,{addEvent:S,correctFloat:z,defined:Z,isNumber:O,pick:H}=c,q=[];class L{static compose($){c.pushUnique(q,$)&&($.keepProps.push("navigatorAxis"),S($,"init",d),S($,"zoom",m))}constructor($){this.axis=$}destroy(){this.axis=void 0}toFixedRange($,M,E,k){var V=this.axis,G=V.chart;$=H(E,V.translate($,!0,!V.horiz)),M=H(k,V.translate(M,!0,!V.horiz)),G=G&&G.fixedRange,V=(V.pointRange||0)/2;const C=G&&(M-$)/G;return Z(E)||($=z($+V)),Z(k)||(M=z(M-V)),.7<C&&1.3>C&&(k?$=M-G:M=$+G),O($)&&O(M)||($=M=void 0),{min:$,max:M}}}return L}),s(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],function(a,c){return{parse:a}=a,{seriesTypes:c}=c,c={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:a("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof c.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}},c}),s(t,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(a,c,d,m,n={}){return a=n.width?n.width/2:d,c=Math.round(a/3)+.5,m=n.height||m,[["M",-a-1,.5],["L",a,.5],["L",a,m+.5],["L",-a-1,m+.5],["L",-a-1,.5],["M",-c,4],["L",-c,m-3],["M",c-1,4],["L",c-1,m-3]]}}}),s(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(a,c,d,m,n,S,z){function Z(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function O(){var w;const D=this.legend,f=this.navigator;let g,x,P;if(f){g=D&&D.options,x=f.xAxis,P=f.yAxis;const{scrollbarHeight:Y,scrollButtonSize:ee}=f;this.inverted?(f.left=f.opposite?this.chartWidth-Y-f.height:this.spacing[3]+Y,f.top=this.plotTop+ee):(f.left=N(x.left,this.plotLeft+ee),f.top=f.navigatorOptions.top||this.chartHeight-f.height-Y-(((w=this.scrollbar)===null||w===void 0?void 0:w.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(g&&g.verticalAlign==="bottom"&&g.layout!=="proximate"&&g.enabled&&!g.floating?D.legendHeight+N(g.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),x&&P&&(this.inverted?x.options.left=P.options.left=f.left:x.options.top=P.options.top=f.top,x.setAxisSize(),P.setAxisSize())}}function H(w){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new W(this),N(w.redraw,!0)&&this.redraw(w.animation))}function q(){const w=this.options;(w.navigator.enabled||w.scrollbar.enabled)&&(this.scroller=this.navigator=new W(this))}function L(){const w=this.options,D=w.navigator,f=w.rangeSelector;if((D&&D.enabled||f&&f.enabled)&&(!V&&w.chart.zooming.type==="x"||V&&w.chart.zooming.pinchType==="x"))return!1}function R(w){const D=w.navigator;D&&w.xAxis[0]&&(w=w.xAxis[0].getExtremes(),D.render(w.min,w.max))}function $(w){const D=w.options.navigator||{},f=w.options.scrollbar||{};this.navigator||this.scroller||!D.enabled&&!f.enabled||(Q(!0,this.options.navigator,D),Q(!0,this.options.scrollbar,f),delete w.options.navigator,delete w.options.scrollbar)}function M(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}const{defaultOptions:E,setOptions:k}=a,{isTouchDevice:V}=c,{getRendererType:G}=S,{addEvent:C,extend:te,merge:Q,pick:N}=z,j=[];let W;return{compose:function(w,D,f,g){d.compose(w),W=f,z.pushUnique(j,D)&&(D.prototype.callbacks.push(R),C(D,"afterAddSeries",Z),C(D,"afterSetChartSize",O),C(D,"afterUpdate",H),C(D,"beforeRender",q),C(D,"beforeShowResetZoom",L),C(D,"update",$)),z.pushUnique(j,g)&&C(g,"afterUpdate",M),z.pushUnique(j,G)&&te(G().prototype.symbols,n),z.pushUnique(j,k)&&te(E,{navigator:m})}}}),s(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Utilities.js"]],function(a){const{addEvent:c,defined:d,pick:m}=a,n=[];class S{static compose(Z,O){if(!a.pushUnique(n,Z))return Z;const H=q=>{const L=m(q.options&&q.options.min,q.min),R=m(q.options&&q.options.max,q.max);return{axisMin:L,axisMax:R,scrollMin:d(q.dataMin)?Math.min(L,q.min,q.dataMin,m(q.threshold,1/0)):L,scrollMax:d(q.dataMax)?Math.max(R,q.max,q.dataMax,m(q.threshold,-1/0)):R}};return c(Z,"afterInit",function(){const q=this;q.options&&q.options.scrollbar&&q.options.scrollbar.enabled&&(q.options.scrollbar.vertical=!q.horiz,q.options.startOnTick=q.options.endOnTick=!1,q.scrollbar=new O(q.chart.renderer,q.options.scrollbar,q.chart),c(q.scrollbar,"changed",function(L){let{axisMin:R,axisMax:$,scrollMin:M,scrollMax:E}=H(q);var k=E-M;let V;d(R)&&d($)&&(q.horiz&&!q.reversed||!q.horiz&&q.reversed?(V=M+k*this.to,k=M+k*this.from):(V=M+k*(1-this.from),k=M+k*(1-this.to)),this.shouldUpdateExtremes(L.DOMType)?q.setExtremes(k,V,!0,L.DOMType==="mousemove"||L.DOMType==="touchmove"?!1:void 0,L):this.setRange(this.from,this.to))}))}),c(Z,"afterRender",function(){let{scrollMin:q,scrollMax:L}=H(this),R=this.scrollbar;var $=this.axisTitleMargin+(this.titleOffset||0),M=this.chart.scrollbarsOffsets;let E=this.options.margin||0;R&&(this.horiz?(this.opposite||(M[1]+=$),R.position(this.left,this.top+this.height+2+M[1]-(this.opposite?E:0),this.width,this.height),this.opposite||(M[1]+=E),$=1):(this.opposite&&(M[0]+=$),R.position(R.options.opposite?this.left+this.width+2+M[0]-(this.opposite?0:E):this.opposite?0:E,this.top,this.width,this.height),this.opposite&&(M[0]+=E),$=0),M[$]+=R.size+(R.options.margin||0),isNaN(q)||isNaN(L)||!d(this.min)||!d(this.max)||this.min===this.max?R.setRange(0,1):(M=(this.min-q)/(L-q),$=(this.max-q)/(L-q),this.horiz&&!this.reversed||!this.horiz&&this.reversed?R.setRange(M,$):R.setRange(1-$,1-M)))}),c(Z,"afterGetOffset",function(){const q=this.scrollbar;var L=q&&!q.options.opposite;L=this.horiz?2:L?3:1,q&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[L]+=q.size+(q.options.margin||0))}),Z}}return S}),s(t,"Stock/Scrollbar/ScrollbarDefaults.js",[t["Core/Globals.js"]],function(a){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),s(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(a,c,d,m,n){const{defaultOptions:S}=a,{addEvent:z,correctFloat:Z,defined:O,destroyObjectProperties:H,fireEvent:q,merge:L,pick:R,removeEvent:$}=n;class M{static compose(k){d.compose(k,M)}static swapXY(k,V){return V&&k.forEach(G=>{const C=G.length;let te;for(let Q=0;Q<C;Q+=2)te=G[Q+1],typeof te=="number"&&(G[Q+1]=G[Q+2],G[Q+2]=te)}),k}constructor(k,V,G){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(k,V,G)}addEvents(){var k=this.options.inverted?[1,0]:[0,1];const V=this.scrollbarButtons,G=this.scrollbarGroup.element,C=this.track.element,te=this.mouseDownHandler.bind(this),Q=this.mouseMoveHandler.bind(this),N=this.mouseUpHandler.bind(this);k=[[V[k[0]].element,"click",this.buttonToMinClick.bind(this)],[V[k[1]].element,"click",this.buttonToMaxClick.bind(this)],[C,"click",this.trackClick.bind(this)],[G,"mousedown",te],[G.ownerDocument,"mousemove",Q],[G.ownerDocument,"mouseup",N]],c.hasTouch&&k.push([G,"touchstart",te],[G.ownerDocument,"touchmove",Q],[G.ownerDocument,"touchend",N]),k.forEach(function(j){z.apply(null,j)}),this._events=k}buttonToMaxClick(k){const V=(this.to-this.from)*R(this.options.step,.2);this.updatePosition(this.from+V,this.to+V),q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:k})}buttonToMinClick(k){const V=Z(this.to-this.from)*R(this.options.step,.2);this.updatePosition(Z(this.from-V),Z(this.to-V)),q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:k})}cursorToScrollbarPosition(k){var V=this.options;return V=V.minWidth>this.calculatedWidth?V.minWidth:0,{chartX:(k.chartX-this.x-this.xOffset)/(this.barWidth-V),chartY:(k.chartY-this.y-this.yOffset)/(this.barWidth-V)}}destroy(){const k=this,V=k.chart.scroller;k.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(G){k[G]&&k[G].destroy&&(k[G]=k[G].destroy())}),V&&k===V.scrollbar&&(V.scrollbar=null,H(V.scrollbarButtons))}drawScrollbarButton(k){const V=this.renderer,G=this.scrollbarButtons,C=this.options,te=this.size;var Q=V.g().add(this.group);G.push(Q),C.buttonsEnabled&&(Q=V.rect().addClass("highcharts-scrollbar-button").add(Q),this.chart.styledMode||Q.attr({stroke:C.buttonBorderColor,"stroke-width":C.buttonBorderWidth,fill:C.buttonBackgroundColor}),Q.attr(Q.crisp({x:-.5,y:-.5,width:te+1,height:te+1,r:C.buttonBorderRadius},Q.strokeWidth())),k=V.path(M.swapXY([["M",te/2+(k?-1:1),te/2-3],["L",te/2+(k?-1:1),te/2+3],["L",te/2+(k?2:-2),te/2]],C.vertical)).addClass("highcharts-scrollbar-arrow").add(G[k]),this.chart.styledMode||k.attr({fill:C.buttonArrowColor}))}init(k,V,G){this.scrollbarButtons=[],this.renderer=k,this.userOptions=V,this.options=L(m,S.scrollbar,V),this.options.margin=R(this.options.margin,10),this.chart=G,this.size=R(this.options.size,this.options.height),V.enabled&&(this.render(),this.addEvents())}mouseDownHandler(k){k=this.chart.pointer.normalize(k),k=this.cursorToScrollbarPosition(k),this.chartX=k.chartX,this.chartY=k.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(k){var V=this.chart.pointer.normalize(k),G=this.options.vertical?"chartY":"chartX";const C=this.initPositions||[];!this.grabbedCenter||k.touches&&k.touches[0][G]===0||(V=this.cursorToScrollbarPosition(V)[G],G=this[G],G=V-G,this.hasDragged=!0,this.updatePosition(C[0]+G,C[1]+G),this.hasDragged&&q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:k.type,DOMEvent:k}))}mouseUpHandler(k){this.hasDragged&&q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:k.type,DOMEvent:k}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(k,V,G,C){const{buttonsEnabled:te,margin:Q=0,vertical:N}=this.options,j=this.rendered?"animate":"attr";let W=C,w=0;this.group.show(),this.x=k,this.y=V+this.trackBorderWidth,this.width=G,this.height=C,this.xOffset=W,this.yOffset=w,N?(this.width=this.yOffset=G=this.size,this.xOffset=W=0,this.yOffset=w=te?this.size:0,this.barWidth=C-(te?2*G:0),this.x=k+=Q):(this.height=C=this.size,this.xOffset=W=te?this.size:0,this.barWidth=G-(te?2*C:0),this.y+=Q),this.group[j]({translateX:k,translateY:this.y}),this.track[j]({width:G,height:C}),this.scrollbarButtons[1][j]({translateX:N?0:G-W,translateY:N?C-w:0})}removeEvents(){this._events.forEach(function(k){$.apply(null,k)}),this._events.length=0}render(){const k=this.renderer,V=this.options,G=this.size,C=this.chart.styledMode,te=k.g("scrollbar").attr({zIndex:V.zIndex}).hide().add();this.group=te,this.track=k.rect().addClass("highcharts-scrollbar-track").attr({r:V.trackBorderRadius||0,height:G,width:G}).add(te),C||this.track.attr({fill:V.trackBackgroundColor,stroke:V.trackBorderColor,"stroke-width":V.trackBorderWidth});const Q=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-Q%2/2,y:-Q%2/2}),this.scrollbarGroup=k.g().add(te),this.scrollbar=k.rect().addClass("highcharts-scrollbar-thumb").attr({height:G-Q,width:G-Q,r:V.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=k.path(M.swapXY([["M",-3,G/4],["L",-3,2*G/3],["M",0,G/4],["L",0,2*G/3],["M",3,G/4],["L",3,2*G/3]],V.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),C||(this.scrollbar.attr({fill:V.barBackgroundColor,stroke:V.barBorderColor,"stroke-width":V.barBorderWidth}),this.scrollbarRifles.attr({stroke:V.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(k,V){const G=this.options,C=G.vertical;var te=G.minWidth,Q=this.barWidth;const N=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(O(Q)){var j=Q*Math.min(V,1);k=Math.max(k,0);var W=Math.ceil(Q*k);this.calculatedWidth=j=Z(j-W),j<te&&(W=(Q-te+j)*k,j=te),te=Math.floor(W+this.xOffset+this.yOffset),Q=j/2-.5,this.from=k,this.to=V,C?(this.scrollbarGroup[N]({translateY:te}),this.scrollbar[N]({height:j}),this.scrollbarRifles[N]({translateY:Q}),this.scrollbarTop=te,this.scrollbarLeft=0):(this.scrollbarGroup[N]({translateX:te}),this.scrollbar[N]({width:j}),this.scrollbarRifles[N]({translateX:Q}),this.scrollbarLeft=te,this.scrollbarTop=0),12>=j?this.scrollbarRifles.hide():this.scrollbarRifles.show(),G.showFull===!1&&(0>=k&&1<=V?this.group.hide():this.group.show()),this.rendered=!0}}shouldUpdateExtremes(k){return R(this.options.liveRedraw,c.svg&&!c.isTouchDevice&&!this.chart.boosted)||k==="mouseup"||k==="touchend"||!O(k)}trackClick(k){const V=this.chart.pointer.normalize(k),G=this.to-this.from,C=this.y+this.scrollbarTop,te=this.x+this.scrollbarLeft;this.options.vertical&&V.chartY>C||!this.options.vertical&&V.chartX>te?this.updatePosition(this.from+G,this.to+G):this.updatePosition(this.from-G,this.to-G),q(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:k})}update(k){this.destroy(),this.init(this.chart.renderer,L(!0,this.options,k),this.chart)}updatePosition(k,V){1<V&&(k=Z(1-Z(V-k)),V=1),0>k&&(V=Z(V-k),k=0),this.from=k,this.to=V}}return M.defaultOptions=m,S.scrollbar=L(!0,M.defaultOptions,S.scrollbar),M}),s(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Utilities.js"]],function(a,c,d,m,n,S,z){function Z(D,...f){if(f=[].filter.call(f,te),f.length)return Math[D].apply(0,f)}const{defaultOptions:O}=c,{hasTouch:H,isTouchDevice:q}=d,{addEvent:L,clamp:R,correctFloat:$,defined:M,destroyObjectProperties:E,erase:k,extend:V,find:G,isArray:C,isNumber:te,merge:Q,pick:N,removeEvent:j,splat:W}=z;class w{static compose(f,g,x){n.compose(f,g,w,x)}constructor(f){this.rendered=this.range=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.scrollbarHeight=0,this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.scrollButtonSize=void 0,this.init(f)}drawHandle(f,g,x,P){const Y=this.navigatorOptions.handles.height;this.handles[g][P](x?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(f,10)+.5-Y)}:{translateX:Math.round(this.left+parseInt(f,10)),translateY:Math.round(this.top+this.height/2-Y/2-1)})}drawOutline(f,g,x,P){const Y=this.navigatorOptions.maskInside;var ee=this.outline.strokeWidth();const K=ee/2;var he=ee%2/2;const ge=this.scrollButtonSize,Ee=this.size,J=this.top;ee=this.height;const oe=J-K,ce=J+ee;let pe=this.left;x?(x=J+g+he,g=J+f+he,he=[["M",pe+ee,J-ge-he],["L",pe+ee,x],["L",pe,x],["M",pe,g],["L",pe+ee,g],["L",pe+ee,J+Ee+ge]],Y&&he.push(["M",pe+ee,x-K],["L",pe+ee,g+K])):(pe-=ge,f+=pe+ge-he,g+=pe+ge-he,he=[["M",pe,oe],["L",f,oe],["L",f,ce],["M",g,ce],["L",g,oe],["L",pe+Ee+2*ge,J+K]],Y&&he.push(["M",f-K,oe],["L",g+K,oe])),this.outline[P]({d:he})}drawMasks(f,g,x,P){const Y=this.left,ee=this.top,K=this.height;let he,ge,Ee,J;x?(Ee=[Y,Y,Y],J=[ee,ee+f,ee+g],ge=[K,K,K],he=[f,g-f,this.size-g]):(Ee=[Y,Y+f,Y+g],J=[ee,ee,ee],ge=[f,g-f,this.size-g],he=[K,K,K]),this.shades.forEach((oe,ce)=>{oe[P]({x:Ee[ce],y:J[ce],width:ge[ce],height:he[ce]})})}renderElements(){const f=this,g=f.navigatorOptions,x=g.maskInside,P=f.chart,Y=P.renderer,ee={cursor:P.inverted?"ns-resize":"ew-resize"},K=f.navigatorGroup=Y.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!x,x,!x].forEach((he,ge)=>{const Ee=Y.rect().addClass("highcharts-navigator-mask"+(ge===1?"-inside":"-outside")).add(K);P.styledMode||(Ee.attr({fill:he?g.maskFill:"rgba(0,0,0,0)"}),ge===1&&Ee.css(ee)),f.shades[ge]=Ee}),f.outline=Y.path().addClass("highcharts-navigator-outline").add(K),P.styledMode||f.outline.attr({"stroke-width":g.outlineWidth,stroke:g.outlineColor}),g.handles&&g.handles.enabled){const he=g.handles,{height:ge,width:Ee}=he;[0,1].forEach(J=>{f.handles[J]=Y.symbol(he.symbols[J],-Ee/2-1,0,Ee,ge,he),P.inverted&&f.handles[J].attr({rotation:90,rotationOriginX:Math.floor(-Ee/2),rotationOriginY:(ge+Ee)/2}),f.handles[J].attr({zIndex:7-J}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][J]).add(K),P.styledMode||f.handles[J].attr({fill:he.backgroundColor,stroke:he.borderColor,"stroke-width":he.lineWidth}).css(ee)})}}update(f){(this.series||[]).forEach(g=>{g.baseSeries&&delete g.baseSeries.navigatorSeries}),this.destroy(),Q(!0,this.chart.options.navigator,f),this.init(this.chart)}render(f,g,x,P){var Y=this.chart;const ee=this.xAxis,K=ee.pointRange||0;var he=ee.navigatorAxis.fake?Y.xAxis[0]:ee;const ge=this.navigatorEnabled;var Ee=this.rendered,J=Y.inverted;const oe=Y.xAxis[0].minRange,ce=Y.xAxis[0].options.maxRange,pe=this.scrollButtonSize;let Ce=this.scrollbarHeight,ne;if(!this.hasDragged||M(x)){if(f=$(f-K/2),g=$(g+K/2),!te(f)||!te(g))if(Ee)x=0,P=N(ee.width,he.width);else return;this.left=N(ee.left,Y.plotLeft+pe+(J?Y.plotWidth:0));var ye=this.size=ne=N(ee.len,(J?Y.plotHeight:Y.plotWidth)-2*pe);Y=J?Ce:ne+2*pe,x=N(x,ee.toPixels(f,!0)),P=N(P,ee.toPixels(g,!0)),te(x)&&Math.abs(x)!==1/0||(x=0,P=Y),f=ee.toValue(x,!0),g=ee.toValue(P,!0);var _e=Math.abs($(g-f));_e<oe?this.grabbedLeft?x=ee.toPixels(g-oe-K,!0):this.grabbedRight&&(P=ee.toPixels(f+oe+K,!0)):M(ce)&&$(_e-K)>ce&&(this.grabbedLeft?x=ee.toPixels(g-ce-K,!0):this.grabbedRight&&(P=ee.toPixels(f+ce+K,!0))),this.zoomedMax=R(Math.max(x,P),0,ye),this.zoomedMin=R(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(x,P),0,ye),this.range=this.zoomedMax-this.zoomedMin,ye=Math.round(this.zoomedMax),x=Math.round(this.zoomedMin),ge&&(this.navigatorGroup.attr({visibility:"inherit"}),Ee=Ee&&!this.hasDragged?"animate":"attr",this.drawMasks(x,ye,J,Ee),this.drawOutline(x,ye,J,Ee),this.navigatorOptions.handles.enabled&&(this.drawHandle(x,0,J,Ee),this.drawHandle(ye,1,J,Ee))),this.scrollbar&&(J?(J=this.top-pe,he=this.left-Ce+(ge||!he.opposite?0:(he.titleOffset||0)+he.axisTitleMargin),Ce=ne+2*pe):(J=this.top+(ge?this.height:-Ce),he=this.left-pe),this.scrollbar.position(he,J,Y,Ce),this.scrollbar.setRange(this.zoomedMin/(ne||1),this.zoomedMax/(ne||1))),this.rendered=!0}}addMouseEvents(){const f=this,g=f.chart,x=g.container;let P=[],Y,ee;f.mouseMoveHandler=Y=function(K){f.onMouseMove(K)},f.mouseUpHandler=ee=function(K){f.onMouseUp(K)},P=f.getPartsEvents("mousedown"),P.push(L(g.renderTo,"mousemove",Y),L(x.ownerDocument,"mouseup",ee)),H&&(P.push(L(g.renderTo,"touchmove",Y),L(x.ownerDocument,"touchend",ee)),P.concat(f.getPartsEvents("touchstart"))),f.eventsToUnbind=P,f.series&&f.series[0]&&P.push(L(f.series[0].xAxis,"foundExtremes",function(){g.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(f){const g=this,x=[];return["shades","handles"].forEach(function(P){g[P].forEach(function(Y,ee){x.push(L(Y.element,f,function(K){g[P+"Mousedown"](K,ee)}))})}),x}shadesMousedown(f,g){f=this.chart.pointer.normalize(f);const x=this.chart,P=this.xAxis,Y=this.zoomedMin,ee=this.size,K=this.range;let he=this.left,ge=f.chartX,Ee,J;x.inverted&&(ge=f.chartY,he=this.top),g===1?(this.grabbedCenter=ge,this.fixedWidth=K,this.dragOffset=ge-Y):(f=ge-he-K/2,g===0?f=Math.max(0,f):g===2&&f+K>=ee&&(f=ee-K,this.reversedExtremes?(f-=K,J=this.getUnionExtremes().dataMin):Ee=this.getUnionExtremes().dataMax),f!==Y&&(this.fixedWidth=K,g=P.navigatorAxis.toFixedRange(f,f+K,J,Ee),M(g.min)&&x.xAxis[0].setExtremes(Math.min(g.min,g.max),Math.max(g.min,g.max),!0,null,{trigger:"navigator"})))}handlesMousedown(f,g){this.chart.pointer.normalize(f),f=this.chart;const x=f.xAxis[0],P=this.reversedExtremes;g===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=P?x.min:x.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=P?x.max:x.min),f.fixedRange=null}onMouseMove(f){const g=this;var x=g.chart;const P=g.navigatorSize,Y=g.range,ee=g.dragOffset,K=x.inverted;let he=g.left;f.touches&&f.touches[0].pageX===0||(f=x.pointer.normalize(f),x=f.chartX,K&&(he=g.top,x=f.chartY),g.grabbedLeft?(g.hasDragged=!0,g.render(0,0,x-he,g.otherHandlePos)):g.grabbedRight?(g.hasDragged=!0,g.render(0,0,g.otherHandlePos,x-he)):g.grabbedCenter&&(g.hasDragged=!0,x<ee?x=ee:x>P+ee-Y&&(x=P+ee-Y),g.render(0,0,x-ee,x-ee+Y)),g.hasDragged&&g.scrollbar&&N(g.scrollbar.options.liveRedraw,!q&&!this.chart.boosted)&&(f.DOMType=f.type,setTimeout(function(){g.onMouseUp(f)},0)))}onMouseUp(f){var g=this.chart,x=this.xAxis,P=this.scrollbar;const Y=f.DOMEvent||f,ee=g.inverted,K=this.rendered&&!this.hasDragged?"animate":"attr";let he,ge;(!this.hasDragged||P&&P.hasDragged)&&f.trigger!=="scrollbar"||(P=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?he=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(ge=this.fixedExtreme),this.zoomedMax===this.size&&(ge=this.reversedExtremes?P.dataMin:P.dataMax),this.zoomedMin===0&&(he=this.reversedExtremes?P.dataMax:P.dataMin),x=x.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,he,ge),M(x.min)&&g.xAxis[0].setExtremes(Math.min(x.min,x.max),Math.max(x.min,x.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:Y})),f.DOMType!=="mousemove"&&f.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&te(this.zoomedMin)&&te(this.zoomedMax)&&(g=Math.round(this.zoomedMin),f=Math.round(this.zoomedMax),this.shades&&this.drawMasks(g,f,ee,K),this.outline&&this.drawOutline(g,f,ee,K),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(g,0,ee,K),this.drawHandle(f,1,ee,K)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(f){f()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const f=this.baseSeries||[];this.navigatorEnabled&&f[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&f.forEach(function(g){j(g,"updatedData",this.updatedDataHandler)},this),f[0].xAxis&&j(f[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(f){var g=f.options,x=g.navigator||{},P=x.enabled,Y=g.scrollbar||{},ee=Y.enabled;g=P&&x.height||0;var K=ee&&Y.height||0;const he=Y.buttonsEnabled&&K||0;this.handles=[],this.shades=[],this.chart=f,this.setBaseSeries(),this.height=g,this.scrollbarHeight=K,this.scrollButtonSize=he,this.scrollbarEnabled=ee,this.navigatorEnabled=P,this.navigatorOptions=x,this.scrollbarOptions=Y,this.opposite=N(x.opposite,!(P||!f.inverted));const ge=this;P=ge.baseSeries,Y=f.xAxis.length,ee=f.yAxis.length,K=P&&P[0]&&P[0].xAxis||f.xAxis[0]||{options:{}},f.isDirtyBox=!0,ge.navigatorEnabled?(ge.xAxis=new a(f,Q({breaks:K.options.breaks,ordinal:K.options.ordinal},x.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:Y,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},f.inverted?{offsets:[he,0,-he,0],width:g}:{offsets:[0,-he,0,he],height:g})),ge.yAxis=new a(f,Q(x.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:ee,isInternal:!0,reversed:N(x.yAxis&&x.yAxis.reversed,f.yAxis[0]&&f.yAxis[0].reversed,!1),zoomEnabled:!1},f.inverted?{width:g}:{height:g})),P||x.series.data?ge.updateNavigatorSeries(!1):f.series.length===0&&(ge.unbindRedraw=L(f,"beforeRedraw",function(){0<f.series.length&&!ge.series&&(ge.setBaseSeries(),ge.unbindRedraw())})),ge.reversedExtremes=f.inverted&&!ge.xAxis.reversed||!f.inverted&&ge.xAxis.reversed,ge.renderElements(),ge.addMouseEvents()):(ge.xAxis={chart:f,navigatorAxis:{fake:!0},translate:function(Ee,J){var oe=f.xAxis[0];const ce=oe.getExtremes(),pe=oe.len-2*he,Ce=Z("min",oe.options.min,ce.dataMin);return oe=Z("max",oe.options.max,ce.dataMax)-Ce,J?Ee*oe/pe+Ce:pe*(Ee-Ce)/oe},toPixels:function(Ee){return this.translate(Ee)},toValue:function(Ee){return this.translate(Ee,!0)}},ge.xAxis.navigatorAxis.axis=ge.xAxis,ge.xAxis.navigatorAxis.toFixedRange=m.prototype.toFixedRange.bind(ge.xAxis.navigatorAxis)),f.options.scrollbar.enabled&&(x=Q(f.options.scrollbar,{vertical:f.inverted}),!te(x.margin)&&ge.navigatorEnabled&&(x.margin=f.inverted?-3:3),f.scrollbar=ge.scrollbar=new S(f.renderer,x,f),L(ge.scrollbar,"changed",function(Ee){var J=ge.size;const oe=J*this.to;J*=this.from,ge.hasDragged=ge.scrollbar.hasDragged,ge.render(0,0,J,oe),this.shouldUpdateExtremes(Ee.DOMType)&&setTimeout(function(){ge.onMouseUp(Ee)})})),ge.addBaseSeriesEvents(),ge.addChartEvents()}getUnionExtremes(f){const g=this.chart.xAxis[0],x=this.xAxis,P=x.options,Y=g.options;let ee;return f&&g.dataMin===null||(ee={dataMin:N(P&&P.min,Z("min",Y.min,g.dataMin,x.dataMin,x.min)),dataMax:N(P&&P.max,Z("max",Y.max,g.dataMax,x.dataMax,x.max))}),ee}setBaseSeries(f,g){const x=this.chart,P=this.baseSeries=[];f=f||x.options&&x.options.navigator.baseSeries||(x.series.length?G(x.series,Y=>!Y.options.isInternal).index:0),(x.series||[]).forEach((Y,ee)=>{Y.options.isInternal||!Y.options.showInNavigator&&(ee!==f&&Y.options.id!==f||Y.options.showInNavigator===!1)||P.push(Y)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,g)}updateNavigatorSeries(f,g){const x=this,P=x.chart,Y=x.baseSeries,ee={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},K=x.series=(x.series||[]).filter(oe=>{const ce=oe.baseSeries;return 0>Y.indexOf(ce)?(ce&&(j(ce,"updatedData",x.updatedDataHandler),delete ce.navigatorSeries),oe.chart&&oe.destroy(),!1):!0});let he,ge,Ee=x.navigatorOptions.series,J;Y&&Y.length&&Y.forEach(oe=>{const ce=oe.navigatorSeries;var pe=V({color:oe.color,visible:oe.visible},C(Ee)?O.navigator.series:Ee);ce&&x.navigatorOptions.adaptToUpdatedData===!1||(ee.name="Navigator "+Y.length,he=oe.options||{},J=he.navigatorOptions||{},pe.dataLabels=W(pe.dataLabels),ge=Q(he,ee,pe,J),ge.pointRange=N(pe.pointRange,J.pointRange,O.plotOptions[ge.type||"line"].pointRange),pe=J.data||pe.data,x.hasNavigatorData=x.hasNavigatorData||!!pe,ge.data=pe||he.data&&he.data.slice(0),ce&&ce.options?ce.update(ge,g):(oe.navigatorSeries=P.initSeries(ge),oe.navigatorSeries.baseSeries=oe,K.push(oe.navigatorSeries)))}),(Ee.data&&(!Y||!Y.length)||C(Ee))&&(x.hasNavigatorData=!1,Ee=W(Ee),Ee.forEach((oe,ce)=>{ee.name="Navigator "+(K.length+1),ge=Q(O.navigator.series,{color:P.series[ce]&&!P.series[ce].options.isInternal&&P.series[ce].color||P.options.colors[ce]||P.options.colors[0]},ee,oe),ge.data=oe.data,ge.data&&(x.hasNavigatorData=!0,K.push(P.initSeries(ge)))})),f&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const f=this,g=f.baseSeries||[];g[0]&&g[0].xAxis&&g[0].eventsToUnbind.push(L(g[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),g.forEach(x=>{x.eventsToUnbind.push(L(x,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),x.eventsToUnbind.push(L(x,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&x.xAxis&&x.eventsToUnbind.push(L(x,"updatedData",this.updatedDataHandler)),x.eventsToUnbind.push(L(x,"remove",function(){this.navigatorSeries&&(k(f.series,this.navigatorSeries),M(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(f){return this.baseSeries.reduce(function(g,x){return Math.min(g,x.xData&&x.xData.length?x.xData[0]:g)},f)}modifyNavigatorAxisExtremes(){const f=this.xAxis;if(typeof f.getExtremes<"u"){const g=this.getUnionExtremes(!0);!g||g.dataMin===f.min&&g.dataMax===f.max||(f.min=g.dataMin,f.max=g.dataMax)}}modifyBaseAxisExtremes(){const f=this.chart.navigator;var g=this.getExtremes();const x=g.dataMin,P=g.dataMax;g=g.max-g.min;const Y=f.stickToMin,ee=f.stickToMax,K=N(this.options.overscroll,0),he=f.series&&f.series[0],ge=!!this.setExtremes;let Ee,J;this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton"||(Y&&(J=x,Ee=J+g),ee&&(Ee=P+K,Y||(J=Math.max(x,Ee-g,f.getBaseSeriesMin(he&&he.xData?he.xData[0]:-Number.MAX_VALUE)))),ge&&(Y||ee)&&te(J)&&(this.min=this.userMin=J,this.max=this.userMax=Ee)),f.stickToMin=f.stickToMax=null}updatedDataHandler(){const f=this.chart.navigator,g=this.navigatorSeries;f.stickToMax=N(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,f.reversedExtremes?Math.round(f.zoomedMin)===0:Math.round(f.zoomedMax)>=Math.round(f.size)),f.stickToMin=f.shouldStickToMin(this,f),g&&!f.hasNavigatorData&&(g.options.pointStart=this.xData[0],g.setData(this.options.data,!1,null,!1))}shouldStickToMin(f,g){g=g.getBaseSeriesMin(f.xData[0]);var x=f.xAxis;f=x.max;const P=x.min;return x=x.options.range,te(f)&&te(P)?x&&0<f-g?f-g<x:P<=g:!1}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(L(this.chart,"redraw",function(){const f=this.navigator,g=f&&(f.baseSeries&&f.baseSeries[0]&&f.baseSeries[0].xAxis||this.xAxis[0]);g&&f.render(g.min,g.max)}),L(this.chart,"getMargins",function(){let f=this.navigator,g=f.opposite?"plotTop":"marginBottom";this.inverted&&(g=f.opposite?"marginRight":"plotLeft"),this[g]=(this[g]||0)+(f.navigatorEnabled||!this.inverted?f.height+f.scrollbarHeight:0)+f.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(k(this.chart.xAxis,this.xAxis),k(this.chart.axes,this.xAxis)),this.yAxis&&(k(this.chart.yAxis,this.yAxis),k(this.chart.axes,this.yAxis)),(this.series||[]).forEach(f=>{f.destroy&&f.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(f=>{this[f]&&this[f].destroy&&this[f].destroy(),this[f]=null}),[this.handles].forEach(f=>{E(f)})}}return w}),s(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),s(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(a,c,d){function m(){const j=this.range,W=j.type,w=this.max,D=this.chart.time,f=function(Y,ee){const K=W==="year"?"FullYear":"Month",he=new D.Date(Y),ge=D.get(K,he);return D.set(K,he,ge+ee),ge===D.get(K,he)&&D.set("Date",he,0),he.getTime()-Y};let g,x;V(j)?(g=w-j,x=j):j&&(g=w+f(w,-(j.count||1)),this.chart&&(this.chart.fixedRange=w-g));const P=C(this.dataMin,Number.MIN_VALUE);return V(g)||(g=P),g<=P&&(g=P,typeof x>"u"&&(x=f(g,j.count)),this.newMax=Math.min(g+x,C(this.dataMax,Number.MAX_VALUE))),V(w)?!V(j)&&j&&j._offsetMin&&(g+=j._offsetMin):g=void 0,g}function n(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new N(this))}function S(){var j=this.axes;const W=this.rangeSelector;W&&(V(W.deferredYTDClick)&&(W.clickButton(W.deferredYTDClick),delete W.deferredYTDClick),j.forEach(w=>{w.updateNames(),w.setScale()}),this.getAxisMargins(),W.render(),j=W.options.verticalAlign,W.options.floating||(j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0)))}function z(j){let W,w,D,f;const g=j.rangeSelector,x=()=>{g&&(W=j.xAxis[0].getExtremes(),w=j.legend,f=g&&g.options.verticalAlign,V(W.min)&&g.render(W.min,W.max),w.display&&f==="top"&&f===w.options.verticalAlign&&(D=G(j.spacingBox),D.y=w.options.layout==="vertical"?j.plotTop:D.y+g.getHeight(),w.group.placed=!1,w.align(D)))};g&&(k(te,P=>P[0]===j)||te.push([j,[$(j.xAxis[0],"afterSetExtremes",function(P){g&&g.render(P.min,P.max)}),$(j,"redraw",x)]]),x())}function Z(){for(let j=0,W=te.length;j<W;++j){const w=te[j];if(w[0]===this){w[1].forEach(D=>D()),te.splice(j,1);break}}}function O(){var j=this.rangeSelector;j&&(j=j.getHeight(),this.extraTopMargin&&(this.plotTop+=j),this.extraBottomMargin&&(this.marginBottom+=j))}function H(){var j=this.rangeSelector;j&&!j.options.floating&&(j.render(),j=j.options.verticalAlign,j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0))}function q(j){var W=j.options.rangeSelector;j=this.extraBottomMargin;const w=this.extraTopMargin;let D=this.rangeSelector;W&&W.enabled&&!M(D)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=D=new N(this)),this.extraTopMargin=this.extraBottomMargin=!1,D&&(z(this),W=W&&W.verticalAlign||D.options&&D.options.verticalAlign,D.options.floating||(W==="bottom"?this.extraBottomMargin=!0:W!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==j||this.extraTopMargin!==w)&&(this.isDirtyBox=!0)}const{defaultOptions:L,setOptions:R}=a,{addEvent:$,defined:M,extend:E,find:k,isNumber:V,merge:G,pick:C}=d,te=[],Q=[];let N;return{compose:function(j,W,w){N=w,d.pushUnique(Q,j)&&(j.prototype.minFromRange=m),d.pushUnique(Q,W)&&($(W,"afterGetContainer",n),$(W,"beforeRender",S),$(W,"destroy",Z),$(W,"getMargins",O),$(W,"render",H),$(W,"update",q),W.prototype.callbacks.push(z)),d.pushUnique(Q,R)&&(E(L,{rangeSelector:c.rangeSelector}),E(L.lang,c.lang))}}}),s(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(a,c,d,m,n,S){function z(W){if(W.indexOf("%L")!==-1)return"text";const w="aAdewbBmoyY".split("").some(f=>W.indexOf("%"+f)!==-1),D="HkIlMS".split("").some(f=>W.indexOf("%"+f)!==-1);return w&&D?"datetime-local":w?"date":D?"time":"text"}const{defaultOptions:Z}=c,{addEvent:O,createElement:H,css:q,defined:L,destroyObjectProperties:R,discardElement:$,extend:M,fireEvent:E,isNumber:k,merge:V,objectEach:G,pad:C,pick:te,pInt:Q,splat:N}=S;class j{static compose(w,D){m.compose(w,D,j)}constructor(w){this.buttons=void 0,this.buttonOptions=j.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=w,this.init(w)}clickButton(w,D){const f=this.chart,g=this.buttonOptions[w],x=f.xAxis[0];var P=f.scroller&&f.scroller.getUnionExtremes()||x||{},Y=g.type;const ee=g.dataGrouping;let K=P.dataMin,he=P.dataMax,ge,Ee=x&&Math.round(Math.min(x.max,te(he,x.max))),J;P=g._range;let oe,ce,pe,Ce=!0;if(K!==null&&he!==null){if(f.fixedRange=P,this.setSelected(w),ee&&(this.forcedDataGrouping=!0,a.prototype.setDataGrouping.call(x||{chart:this.chart},ee,!1),this.frozenStates=g.preserveDataGrouping),Y==="month"||Y==="year")x?(Y={range:g,max:Ee,chart:f,dataMin:K,dataMax:he},ge=x.minFromRange.call(Y),k(Y.newMax)&&(Ee=Y.newMax),Ce=!1):P=g;else if(P)ge=Math.max(Ee-P,K),Ee=Math.min(ge+P,he),Ce=!1;else if(Y==="ytd")if(x)(typeof he>"u"||typeof K>"u")&&(K=Number.MAX_VALUE,he=Number.MIN_VALUE,f.series.forEach(ne=>{(ne=ne.xData)&&(K=Math.min(ne[0],K),he=Math.max(ne[ne.length-1],he))}),D=!1),Y=this.getYTDExtremes(he,K,f.time.useUTC),ge=oe=Y.min,Ee=Y.max;else{this.deferredYTDClick=w;return}else Y==="all"&&x&&(f.navigator&&f.navigator.baseSeries[0]&&(f.navigator.baseSeries[0].xAxis.options.range=void 0),ge=K,Ee=he);Ce&&g._offsetMin&&L(ge)&&(ge+=g._offsetMin),g._offsetMax&&L(Ee)&&(Ee+=g._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=w+1),x?x.setExtremes(ge,Ee,te(D,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:g}):(J=N(f.options.xAxis)[0],pe=J.range,J.range=P,ce=J.min,J.min=oe,O(f,"load",function(){J.range=pe,J.min=ce})),E(this,"afterBtnClick")}}setSelected(w){this.selected=this.options.selected=w}init(w){const D=this,f=w.options.rangeSelector,g=f.buttons||D.defaultButtons.slice(),x=f.selected,P=function(){const Y=D.minInput,ee=D.maxInput;Y&&Y.blur&&E(Y,"blur"),ee&&ee.blur&&E(ee,"blur")};D.chart=w,D.options=f,D.buttons=[],D.buttonOptions=g,this.eventsToUnbind=[],this.eventsToUnbind.push(O(w.container,"mousedown",P)),this.eventsToUnbind.push(O(w,"resize",P)),g.forEach(D.computeButtonRange),typeof x<"u"&&g[x]&&this.clickButton(x,!1),this.eventsToUnbind.push(O(w,"load",function(){w.xAxis&&w.xAxis[0]&&O(w.xAxis[0],"setExtremes",function(Y){this.max-this.min!==w.fixedRange&&Y.trigger!=="rangeSelectorButton"&&Y.trigger!=="updatedData"&&D.forcedDataGrouping&&!D.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const w=this;var D=this.chart;const f=this.dropdown,g=D.xAxis[0],x=Math.round(g.max-g.min),P=!g.hasVisibleSeries,Y=D.scroller&&D.scroller.getUnionExtremes()||g,ee=Y.dataMin,K=Y.dataMax;D=w.getYTDExtremes(K,ee,D.time.useUTC);const he=D.min,ge=D.max,Ee=w.selected,J=w.options.allButtonsEnabled,oe=w.buttons;let ce=k(Ee);w.buttonOptions.forEach((pe,Ce)=>{var ne=pe._range,ye=pe.type,_e=pe.count||1;const ae=oe[Ce],me=pe._offsetMax-pe._offsetMin,we=Ce===Ee,Re=ne>K-ee,Le=ne<g.minRange;pe=0;let Ge=!1,rt=!1;ne=ne===x,(ye==="month"||ye==="year")&&x+36e5>=864e5*{month:28,year:365}[ye]*_e-me&&x-36e5<=864e5*{month:31,year:366}[ye]*_e+me?ne=!0:ye==="ytd"?(ne=ge-he+me===x,Ge=!we):ye==="all"&&(ne=g.max-g.min>=K-ee,rt=!we&&ce&&ne),ye=!J&&(Re||Le||rt||P),_e=we&&ne||ne&&!ce&&!Ge||we&&w.frozenStates,ye?pe=3:_e&&(ce=!0,pe=2),ae.state!==pe&&(ae.setState(pe),f&&(f.options[Ce+1].disabled=ye,pe===2&&(f.selectedIndex=Ce+1)),pe===0&&Ee===Ce&&w.setSelected())})}computeButtonRange(w){const D=w.type,f=w.count||1,g={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};g[D]?w._range=g[D]*f:(D==="month"||D==="year")&&(w._range=864e5*{month:30,year:365}[D]*f),w._offsetMin=te(w.offsetMin,0),w._offsetMax=te(w.offsetMax,0),w._range+=w._offsetMax-w._offsetMin}getInputValue(w){w=w==="min"?this.minInput:this.maxInput;const D=this.chart.options.rangeSelector,f=this.chart.time;return w?(w.type==="text"&&D.inputDateParser||this.defaultInputDateParser)(w.value,f.useUTC,f):0}setInputValue(w,D){const f=this.options,g=this.chart.time,x=w==="min"?this.minInput:this.maxInput;if(w=w==="min"?this.minDateBox:this.maxDateBox,x){var P=x.getAttribute("data-hc-time");P=L(P)?Number(P):void 0,L(D)&&(L(P)&&x.setAttribute("data-hc-time-previous",P),x.setAttribute("data-hc-time",D),P=D),x.value=g.dateFormat(this.inputTypeFormats[x.type]||f.inputEditDateFormat,P),w&&w.attr({text:g.dateFormat(f.inputDateFormat,P)})}}setInputExtremes(w,D,f){if(w=w==="min"?this.minInput:this.maxInput){const g=this.inputTypeFormats[w.type],x=this.chart.time;g&&(D=x.dateFormat(g,D),w.min!==D&&(w.min=D),f=x.dateFormat(g,f),w.max!==f&&(w.max=f))}}showInput(w){const D=w==="min"?this.minDateBox:this.maxDateBox;if((w=w==="min"?this.minInput:this.maxInput)&&D&&this.inputGroup){const f=w.type==="text",{translateX:g,translateY:x}=this.inputGroup,{inputBoxWidth:P}=this.options;q(w,{width:f?D.width+(P?-2:20)+"px":"auto",height:D.height-2+"px",border:"2px solid silver"}),f&&P?q(w,{left:g+D.x+"px",top:x+"px"}):q(w,{left:Math.min(Math.round(D.x+g-(w.offsetWidth-D.width)/2),this.chart.chartWidth-w.offsetWidth)+"px",top:x-(w.offsetHeight-D.height)/2+"px"})}}hideInput(w){(w=w==="min"?this.minInput:this.maxInput)&&q(w,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(w,D,f){var g=w.split("/").join("-").split(" ").join("T");if(g.indexOf("T")===-1&&(g+="T00:00"),D)g+="Z";else{var x;(x=d.isSafari)&&(x=g,x=!(6<x.length&&(x.lastIndexOf("-")===x.length-6||x.lastIndexOf("+")===x.length-6))),x&&(x=new Date(g).getTimezoneOffset()/60,g+=0>=x?`+${C(-x)}:00`:`-${C(x)}:00`)}return g=Date.parse(g),k(g)||(w=w.split("-"),g=Date.UTC(Q(w[0]),Q(w[1])-1,Q(w[2]))),f&&D&&k(g)&&(g+=f.getTimezoneOffset(g)),g}drawInput(w){function D(){const{maxInput:oe,minInput:ce}=P,pe=f.xAxis[0];var Ce=f.scroller&&f.scroller.xAxis?f.scroller.xAxis:pe;const ne=Ce.dataMin;Ce=Ce.dataMax;let ye=P.getInputValue(w);ye!==Number(Ee.getAttribute("data-hc-time-previous"))&&k(ye)&&(Ee.setAttribute("data-hc-time-previous",ye),he&&oe&&k(ne)?ye>Number(oe.getAttribute("data-hc-time"))?ye=void 0:ye<ne&&(ye=ne):ce&&k(Ce)&&(ye<Number(ce.getAttribute("data-hc-time"))?ye=void 0:ye>Ce&&(ye=Ce)),typeof ye<"u"&&pe.setExtremes(he?ye:pe.min,he?pe.max:ye,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:f,div:g,inputGroup:x}=this,P=this,Y=f.renderer.style||{};var ee=f.renderer;const K=f.options.rangeSelector,he=w==="min";var ge=Z.lang[he?"rangeSelectorFrom":"rangeSelectorTo"]||"";ge=ee.label(ge,0).addClass("highcharts-range-label").attr({padding:ge?2:0,height:ge?K.inputBoxHeight:0}).add(x),ee=ee.label("",0).addClass("highcharts-range-input").attr({padding:2,width:K.inputBoxWidth,height:K.inputBoxHeight,"text-align":"center"}).on("click",function(){P.showInput(w),P[w+"Input"].focus()}),f.styledMode||ee.attr({stroke:K.inputBoxBorderColor,"stroke-width":1}),ee.add(x);const Ee=H("input",{name:w,className:"highcharts-range-selector"},void 0,g);Ee.setAttribute("type",z(K.inputDateFormat||"%e %b %Y")),f.styledMode||(ge.css(V(Y,K.labelStyle)),ee.css(V({color:"#333333"},Y,K.inputStyle)),q(Ee,M({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:Y.fontSize,fontFamily:Y.fontFamily,top:"-9999em"},K.inputStyle))),Ee.onfocus=()=>{P.showInput(w)},Ee.onblur=()=>{Ee===d.doc.activeElement&&D(),P.hideInput(w),P.setInputValue(w),Ee.blur()};let J=!1;return Ee.onchange=()=>{J||(D(),P.hideInput(w),Ee.blur())},Ee.onkeypress=oe=>{oe.keyCode===13&&D()},Ee.onkeydown=oe=>{J=!0,oe.keyCode!==38&&oe.keyCode!==40||D()},Ee.onkeyup=()=>{J=!1},{dateBox:ee,input:Ee,label:ge}}getPosition(){var w=this.chart;const D=w.options.rangeSelector;return w=D.verticalAlign==="top"?w.plotTop-w.axisOffset[0]:0,{buttonTop:w+D.buttonPosition.y,inputTop:w+D.inputPosition.y-10}}getYTDExtremes(w,D,f){const g=this.chart.time;var x=new g.Date(w);const P=g.get("FullYear",x);return f=f?g.Date.UTC(P,0,1):+new g.Date(P,0,1),D=Math.max(D,f),x=x.getTime(),{max:Math.min(w||x,x),min:D}}render(w,D){var f=this.chart,g=f.renderer;const x=f.container;var P=f.options;const Y=P.rangeSelector,ee=te(P.chart.style&&P.chart.style.zIndex,0)+1;if(P=Y.inputEnabled,Y.enabled!==!1){if(this.rendered||(this.group=g.g("range-selector-group").attr({zIndex:7}).add(),this.div=H("div",void 0,{position:"relative",height:0,zIndex:ee}),this.buttonOptions.length&&this.renderButtons(),x.parentNode&&x.parentNode.insertBefore(this.div,x),P&&(this.inputGroup=g.g("input-group").add(this.group),g=this.drawInput("min"),this.minDateBox=g.dateBox,this.minLabel=g.label,this.minInput=g.input,g=this.drawInput("max"),this.maxDateBox=g.dateBox,this.maxLabel=g.label,this.maxInput=g.input)),P&&(this.setInputValue("min",w),this.setInputValue("max",D),w=f.scroller&&f.scroller.getUnionExtremes()||f.xAxis[0]||{},L(w.dataMin)&&L(w.dataMax)&&(f=f.xAxis[0].minRange||0,this.setInputExtremes("min",w.dataMin,Math.min(w.dataMax,this.getInputValue("max"))-f),this.setInputExtremes("max",Math.max(w.dataMin,this.getInputValue("min"))+f,w.dataMax)),this.inputGroup)){let K=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(he=>{if(he){const{width:ge}=he.getBBox();ge&&(he.attr({x:K}),K+=ge+Y.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:w,chart:D,options:f}=this,g=Z.lang,x=D.renderer,P=V(f.buttonTheme),Y=P&&P.states,ee=P.width||28;delete P.width,delete P.states,this.buttonGroup=x.g("range-selector-buttons").add(this.group);const K=this.dropdown=H("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);O(K,"touchstart",()=>{K.style.fontSize="16px"}),[[d.isMS?"mouseover":"mouseenter"],[d.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([he,ge])=>{O(K,he,()=>{const Ee=w[this.currentButtonIndex()];Ee&&E(Ee.element,ge||he)})}),this.zoomText=x.label(g&&g.rangeSelectorZoom||"",0).attr({padding:f.buttonTheme.padding,height:f.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(f.labelStyle),P["stroke-width"]=te(P["stroke-width"],0)),H("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,K),this.buttonOptions.forEach((he,ge)=>{H("option",{textContent:he.title||he.text},void 0,K),w[ge]=x.button(he.text,0,0,Ee=>{const J=he.events&&he.events.click;let oe;J&&(oe=J.call(he,Ee)),oe!==!1&&this.clickButton(ge),this.isActive=!0},P,Y&&Y.hover,Y&&Y.select,Y&&Y.disabled).attr({"text-align":"center",width:ee}).add(this.buttonGroup),he.title&&w[ge].attr("title",he.title)})}alignElements(){const{buttonGroup:w,buttons:D,chart:f,group:g,inputGroup:x,options:P,zoomText:Y}=this;var ee=f.options;const K=ee.exporting&&ee.exporting.enabled!==!1&&ee.navigation&&ee.navigation.buttonOptions,{buttonPosition:he,inputPosition:ge,verticalAlign:Ee}=P;ee=(pe,Ce)=>K&&this.titleCollision(f)&&Ee==="top"&&Ce.align==="right"&&Ce.y-pe.getBBox().height-12<(K.y||0)+(K.height||0)+f.spacing[0]?-40:0;var J=f.plotLeft;if(g&&he&&ge){var oe=he.x-f.spacing[3];if(w){if(this.positionButtons(),!this.initialButtonGroupWidth){let ye=0;Y&&(ye+=Y.getBBox().width+5),D.forEach((_e,ae)=>{ye+=_e.width,ae!==D.length-1&&(ye+=P.buttonSpacing)}),this.initialButtonGroupWidth=ye}J-=f.spacing[3],this.updateButtonStates();var ce=ee(w,he);this.alignButtonGroup(ce),g.placed=w.placed=f.hasLoaded}ce=0,x&&(ce=ee(x,ge),ge.align==="left"?oe=J:ge.align==="right"&&(oe=-Math.max(f.axisOffset[1],-ce)),x.align({y:ge.y,width:x.getBBox().width,align:ge.align,x:ge.x+oe-2},!0,f.spacingBox),x.placed=f.hasLoaded),this.handleCollision(ce),g.align({verticalAlign:Ee},!0,f.spacingBox),ee=g.alignAttr.translateY,J=g.getBBox().height+20,oe=0,Ee==="bottom"&&(oe=(oe=f.legend&&f.legend.options)&&oe.verticalAlign==="bottom"&&oe.enabled&&!oe.floating?f.legend.legendHeight+te(oe.margin,10):0,J=J+oe-20,oe=ee-J-(P.floating?0:P.y)-(f.titleOffset?f.titleOffset[2]:0)-10),Ee==="top"?(P.floating&&(oe=0),f.titleOffset&&f.titleOffset[0]&&(oe=f.titleOffset[0]),oe+=f.margin[0]-f.spacing[0]||0):Ee==="middle"&&(ge.y===he.y?oe=ee:(ge.y||he.y)&&(oe=0>ge.y||0>he.y?oe-Math.min(ge.y,he.y):ee-J)),g.translate(P.x,P.y+Math.floor(oe));const{minInput:pe,maxInput:Ce,dropdown:ne}=this;P.inputEnabled&&pe&&Ce&&(pe.style.marginTop=g.translateY+"px",Ce.style.marginTop=g.translateY+"px"),ne&&(ne.style.marginTop=g.translateY+"px")}}alignButtonGroup(w,D){const{chart:f,options:g,buttonGroup:x}=this,{buttonPosition:P}=g,Y=f.plotLeft-f.spacing[3];let ee=P.x-f.spacing[3];P.align==="right"?ee+=w-Y:P.align==="center"&&(ee-=Y/2),x&&x.align({y:P.y,width:te(D,this.initialButtonGroupWidth),align:P.align,x:ee},!0,f.spacingBox)}positionButtons(){const{buttons:w,chart:D,options:f,zoomText:g}=this,x=D.hasLoaded?"animate":"attr",{buttonPosition:P}=f,Y=D.plotLeft;let ee=Y;g&&g.visibility!=="hidden"&&(g[x]({x:te(Y+P.x,Y)}),ee+=P.x+g.getBBox().width+5);for(let K=0,he=this.buttonOptions.length;K<he;++K)w[K].visibility!=="hidden"?(w[K][x]({x:ee}),ee+=w[K].width+f.buttonSpacing):w[K][x]({x:Y})}handleCollision(w){const{chart:D,buttonGroup:f,inputGroup:g}=this,{buttonPosition:x,dropdown:P,inputPosition:Y}=this.options,ee=()=>{let ge=0;return this.buttons.forEach(Ee=>{Ee=Ee.getBBox(),Ee.width>ge&&(ge=Ee.width)}),ge},K=ge=>{if(g&&f){const Ee=g.alignAttr.translateX+g.alignOptions.x-w+g.getBBox().x+2,J=g.alignOptions.width,oe=f.alignAttr.translateX+f.getBBox().x;return oe+ge>Ee&&Ee+J>oe&&x.y<Y.y+g.getBBox().height}return!1},he=()=>{g&&f&&g.attr({translateX:g.alignAttr.translateX+(D.axisOffset[1]>=-w?0:-w),translateY:g.alignAttr.translateY+f.getBBox().height+10})};if(f){if(P==="always"){this.collapseButtons(w),K(ee())&&he();return}P==="never"&&this.expandButtons()}g&&f?Y.align===x.align||K(this.initialButtonGroupWidth+20)?P==="responsive"?(this.collapseButtons(w),K(ee())&&he()):he():P==="responsive"&&this.expandButtons():f&&P==="responsive"&&(this.initialButtonGroupWidth>D.plotWidth?this.collapseButtons(w):this.expandButtons())}collapseButtons(w){const{buttons:D,buttonOptions:f,chart:g,dropdown:x,options:P,zoomText:Y}=this,ee=g.userOptions.rangeSelector&&g.userOptions.rangeSelector.buttonTheme||{},K=Ee=>({text:Ee?`${Ee} ▾`:"▾",width:"auto",paddingLeft:te(P.buttonTheme.paddingLeft,ee.padding,8),paddingRight:te(P.buttonTheme.paddingRight,ee.padding,8)});Y&&Y.hide();let he=!1;f.forEach((Ee,J)=>{J=D[J],J.state!==2?J.hide():(J.show(),J.attr(K(Ee.text)),he=!0)}),he||(x&&(x.selectedIndex=0),D[0].show(),D[0].attr(K(this.zoomText&&this.zoomText.textStr)));const{align:ge}=P.buttonPosition;this.positionButtons(),ge!=="right"&&ge!=="center"||this.alignButtonGroup(w,D[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:w,buttonOptions:D,options:f,zoomText:g}=this;this.hideDropdown(),g&&g.show(),D.forEach((x,P)=>{P=w[P],P.show(),P.attr({text:x.text,width:f.buttonTheme.width||28,paddingLeft:te(f.buttonTheme.paddingLeft,"unset"),paddingRight:te(f.buttonTheme.paddingRight,"unset")}),2>P.state&&P.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:w}=this;return w&&0<w.selectedIndex?w.selectedIndex-1:0}showDropdown(){const{buttonGroup:w,buttons:D,chart:f,dropdown:g}=this;if(w&&g){const{translateX:x,translateY:P}=w,Y=D[this.currentButtonIndex()].getBBox();q(g,{left:f.plotLeft+x+"px",top:P+.5+"px",width:Y.width+"px",height:Y.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:w}=this;w&&(q(w,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var w=this.options,D=this.group;const f=w.y,g=w.buttonPosition.y,x=w.inputPosition.y;return w.height?w.height:(this.alignElements(),w=D?D.getBBox(!0).height+13+f:0,D=Math.min(x,g),(0>x&&0>g||0<x&&0<g)&&(w+=Math.abs(D)),w)}titleCollision(w){return!(w.options.title.text||w.options.subtitle.text)}update(w){const D=this.chart;V(!0,D.options.rangeSelector,w),this.destroy(),this.init(D),this.render()}destroy(){const w=this,D=w.minInput,f=w.maxInput;w.eventsToUnbind&&(w.eventsToUnbind.forEach(g=>g()),w.eventsToUnbind=void 0),R(w.buttons),D&&(D.onfocus=D.onblur=D.onchange=null),f&&(f.onfocus=f.onblur=f.onchange=null),G(w,function(g,x){g&&x!=="chart"&&(g instanceof n?g.destroy():g instanceof window.HTMLElement&&$(g)),g!==j.prototype[x]&&(w[x]=null)},this)}}return M(j.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),j}),s(t,"Core/Axis/OrdinalAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(a,c,d,m){const{addEvent:n,correctFloat:S,css:z,defined:Z,error:O,pick:H,timeUnits:q}=m,L=[];var R;return function($){function M(D,f,g,x,P=[],Y=0,ee){const K={},he=this.options.tickPixelInterval;var ge=this.chart.time,Ee=[],J;let oe,ce;var pe=0;let Ce=[],ne=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!P||3>P.length||typeof f>"u")return ge.getTimeTicks.apply(ge,arguments);const ye=P.length;for(J=0;J<ye;J++){if(ce=J&&P[J-1]>g,P[J]<f&&(pe=J),J===ye-1||P[J+1]-P[J]>5*Y||ce){if(P[J]>ne){for(oe=ge.getTimeTicks(D,P[pe],P[J],x);oe.length&&oe[0]<=ne;)oe.shift();oe.length&&(ne=oe[oe.length-1]),Ee.push(Ce.length),Ce=Ce.concat(oe)}pe=J+1}if(ce)break}if(oe){if(P=oe.info,ee&&P.unitRange<=q.hour){for(J=Ce.length-1,pe=1;pe<J;pe++)if(ge.dateFormat("%d",Ce[pe])!==ge.dateFormat("%d",Ce[pe-1])){K[Ce[pe]]="day";var _e=!0}_e&&(K[Ce[0]]="day"),P.higherRanks=K}P.segmentStarts=Ee,Ce.info=P}else O(12,!1,this.chart);if(ee&&Z(he)){pe=Ce.length,ge=[],_e=[];let ae;for(J=pe;J--;)Ee=this.translate(Ce[J]),ae&&(_e[J]=ae-Ee),ge[J]=ae=Ee;for(_e.sort(),_e=_e[Math.floor(_e.length/2)],_e<.6*he&&(_e=null),J=Ce[pe-1]>g?pe-1:pe,ae=void 0;J--;)Ee=ge[J],pe=Math.abs(ae-Ee),ae&&pe<.8*he&&(_e===null||pe<.8*_e)?(K[Ce[J]]&&!K[Ce[J+1]]?(pe=J+1,ae=Ee):pe=J,Ce.splice(pe,1)):ae=Ee}return Ce}function E(D){const f=this.ordinal.positions;if(!f)return D;let g=f.length-1,x;return 0>D?D=f[0]:D>g?D=f[g]:(g=Math.floor(D),x=D-g),typeof x<"u"&&typeof f[g]<"u"?f[g]+(x?x*(f[g+1]-f[g]):0):D}function k(D){var f=this.ordinal,g=f.positions;if(!g)return D;var x=(D-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<x&&x<this.left+this.len||(f.extendedOrdinalPositions||(f.extendedOrdinalPositions=f.getExtendedPositions()),g=f.extendedOrdinalPositions),g&&g.length){if(D=f.getIndexOfPoint(x,g),f=S(D%1),0<=D&&D<g.length-1)return g[Math.floor(D)]+f*(g[Math.ceil(D)]-g[Math.floor(D)]);f=g.length,x=g[0],g=g[f-1];const P=(g-x)/(f-1);return 0>D?x+P*D:g+P*(D-f)}return D}function V(D,f){const g=$.Additions.findIndexOf(D,f,!0);return D[g]===f?g:g+(f-D[g])/(D[g+1]-D[g])}function G(){this.ordinal||(this.ordinal=new $.Additions(this))}function C(){this.isXAxis&&Z(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&this.eventArgs.trigger!=="navigator")&&(this.max+=this.options.overscroll,!this.isInternal&&Z(this.userMin)&&(this.min+=this.options.overscroll))}function te(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function Q(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function N(D){const f=this.xAxis[0],g=f.options.overscroll,x=D.originalEvent.chartX,P=this.options.chart.panning;let Y=!1;if(P&&P.type!=="y"&&f.options.ordinal&&f.series.length){var ee=this.mouseDownX;const Ee=f.getExtremes(),J=Ee.dataMax,oe=Ee.min,ce=Ee.max;var K=this.hoverPoints,he=f.closestPointRange||f.ordinal&&f.ordinal.overscrollPointsRange;ee=(ee-x)/(f.translationSlope*(f.ordinal.slope||he)),he=f.ordinal.getExtendedPositions();var ge={ordinal:{positions:he,extendedOrdinalPositions:he}};he=f.index2val;const pe=f.val2lin;let Ce;ge.ordinal.positions?1<Math.abs(ee)&&(K&&K.forEach(function(ne){ne.setState()}),0>ee?(K=ge,Ce=f.ordinal.positions?f:ge):(K=f.ordinal.positions?f:ge,Ce=ge),ge=Ce.ordinal.positions,J>ge[ge.length-1]&&ge.push(J),this.fixedRange=ce-oe,ee=f.navigatorAxis.toFixedRange(void 0,void 0,he.apply(K,[pe.apply(K,[oe,!0])+ee]),he.apply(Ce,[pe.apply(Ce,[ce,!0])+ee])),ee.min>=Math.min(Ee.dataMin,oe)&&ee.max<=Math.max(J,ce)+g&&f.setExtremes(ee.min,ee.max,!0,!1,{trigger:"pan"}),this.mouseDownX=x,z(this.container,{cursor:"move"})):Y=!0}else Y=!0;Y||P&&/y/.test(P.type)?g&&(f.max=f.dataMax+g):D.preventDefault()}function j(){const D=this.xAxis;D&&D.options.ordinal&&(delete D.ordinal.index,delete D.ordinal.extendedOrdinalPositions)}function W(D,f){const g=this.ordinal;var x=g.positions;let P=g.slope,Y=g.extendedOrdinalPositions;if(!x)return D;var ee=x.length;if(x[0]<=D&&x[ee-1]>=D)D=V(x,D);else{if(Y||(Y=g.getExtendedPositions&&g.getExtendedPositions(),g.extendedOrdinalPositions=Y),!Y||!Y.length)return D;ee=Y.length,P||(P=(Y[ee-1]-Y[0])/ee),x=V(Y,x[0]),D=D>=Y[0]&&D<=Y[ee-1]?V(Y,D)-x:D<Y[0]?-x-(Y[0]-D)/P:(D-Y[ee-1])/P+ee-x}return f?D:P*(D||0)+g.offset}$.compose=function(D,f,g){if(m.pushUnique(L,D)){const x=D.prototype;x.getTimeTicks=M,x.index2val=E,x.lin2val=k,x.val2lin=W,x.ordinal2lin=x.val2lin,n(D,"afterInit",G),n(D,"foundExtremes",C),n(D,"afterSetScale",te),n(D,"initialAxisTranslation",Q)}return m.pushUnique(L,g)&&n(g,"pan",N),m.pushUnique(L,f)&&n(f,"updatedData",j),D};class w{constructor(f){this.index={},this.axis=f}beforeSetTickPositions(){const f=this.axis,g=f.ordinal;var x=f.getExtremes();const P=x.min;var Y=x.max;const ee=f.isXAxis&&!!f.options.breaks;x=f.options.ordinal;const K=f.chart.options.chart.ignoreHiddenSeries;let he,ge;var Ee;let J=[],oe=Number.MAX_VALUE,ce=!1,pe=!1,Ce=!1;if(x||ee){let ye=0;if(f.series.forEach(function(_e,ae){if(ge=[],0<ae&&_e.options.id!=="highcharts-navigator-series"&&1<_e.processedXData.length&&(pe=ye!==_e.processedXData[1]-_e.processedXData[0]),ye=_e.processedXData[1]-_e.processedXData[0],_e.boosted&&(Ce=_e.boosted),!(K&&_e.visible===!1||_e.takeOrdinalPosition===!1&&!ee)&&(J=J.concat(_e.processedXData),he=J.length,J.sort(function(me,we){return me-we}),oe=Math.min(oe,H(_e.closestPointRange,oe)),he)){for(ae=0;ae<he-1;)J[ae]!==J[ae+1]&&ge.push(J[ae+1]),ae++;ge[0]!==J[0]&&ge.unshift(J[0]),J=ge}}),pe&&Ce&&(J.pop(),J.shift()),he=J.length,2<he){var ne=J[1]-J[0];for(Ee=he-1;Ee--&&!ce;)J[Ee+1]-J[Ee]!==ne&&(ce=!0);!f.options.keepOrdinalPadding&&(J[0]-P>ne||Y-J[J.length-1]>ne)&&(ce=!0)}else f.options.overscroll&&(he===2?oe=J[1]-J[0]:he===1?(oe=f.options.overscroll,J=[J[0],J[0]+oe]):oe=g.overscrollPointsRange);ce||f.forceOrdinal?(f.options.overscroll&&(g.overscrollPointsRange=oe,J=J.concat(g.getOverscrollPositions())),g.positions=J,ne=f.ordinal2lin(Math.max(P,J[0]),!0),Ee=Math.max(f.ordinal2lin(Math.min(Y,J[J.length-1]),!0),1),g.slope=Y=(Y-P)/(Ee-ne),g.offset=P-ne*Y):(g.overscrollPointsRange=H(f.closestPointRange,g.overscrollPointsRange),g.positions=f.ordinal.slope=g.offset=void 0)}f.isOrdinal=x&&ce,g.groupIntervalFactor=null}static findIndexOf(f,g,x){let P=0,Y=f.length-1,ee;for(;P<Y;)ee=Math.ceil((P+Y)/2),f[ee]<=g?P=ee:Y=ee-1;return f[P]===g||x?P:-1}getExtendedPositions(){const f=this,g=f.axis,x=g.constructor.prototype,P=g.chart,Y=g.series[0].currentDataGrouping,ee=Y?Y.count+Y.unitName:"raw",K=g.options.overscroll,he=g.getExtremes();let ge,Ee,J=f.index;return J||(J=f.index={}),J[ee]||(ge={series:[],chart:P,forceOrdinal:!1,getExtremes:function(){return{min:he.dataMin,max:he.dataMax+K}},getGroupPixelWidth:x.getGroupPixelWidth,getTimeTicks:x.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:x.ordinal2lin,getIndexOfPoint:x.getIndexOfPoint,val2lin:x.val2lin},ge.ordinal.axis=ge,g.series.forEach(function(oe){Ee={xAxis:ge,xData:oe.xData.slice(),chart:P,destroyGroupedData:c.noop,getProcessedData:d.prototype.getProcessedData,applyGrouping:d.prototype.applyGrouping},Ee.xData=Ee.xData.concat(f.getOverscrollPositions()),Ee.options={dataGrouping:Y?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[Y.unitName,[Y.count]]]}:{enabled:!1}},ge.series.push(Ee),oe.processData.apply(Ee)}),Ee.closestPointRange!==Ee.basePointRange&&Ee.currentDataGrouping&&(ge.forceOrdinal=!0),g.ordinal.beforeSetTickPositions.apply({axis:ge}),J[ee]=ge.ordinal.positions),J[ee]}getGroupIntervalFactor(f,g,x){x=x.processedXData;const P=x.length;var Y=[],ee=this.groupIntervalFactor;if(!ee){for(ee=0;ee<P-1;ee++)Y[ee]=x[ee+1]-x[ee];Y.sort(function(K,he){return K-he}),Y=Y[Math.floor(P/2)],f=Math.max(f,x[0]),g=Math.min(g,x[P-1]),this.groupIntervalFactor=ee=P*Y/(g-f)}return ee}getIndexOfPoint(f,g){const x=this.axis,P=this.positions?this.positions[0]:0;let Y=x.series[0].points&&x.series[0].points[0]&&x.series[0].points[0].plotX||x.minPixelPadding;return 1<x.series.length&&x.series.forEach(function(ee){ee.points&&Z(ee.points[0])&&Z(ee.points[0].plotX)&&ee.points[0].plotX<Y&&ee.points[0].plotX>=H(x.min,-1/0)&&(Y=ee.points[0].plotX)}),f=(f-Y)/(x.translationSlope*(this.slope||x.closestPointRange||this.overscrollPointsRange)),w.findIndexOf(g,P)+f}getOverscrollPositions(){const f=this.axis,g=f.options.overscroll,x=this.overscrollPointsRange,P=[];let Y=f.dataMax;if(Z(x))for(;Y<=f.dataMax+g;)Y+=x,P.push(Y);return P}postProcessTickInterval(f){const g=this.axis,x=this.slope;return x?g.options.breaks?g.closestPointRange||f:f/(x/g.closestPointRange):f}}$.Additions=w}(R||(R={})),R}),s(t,"Series/HLC/HLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(a){({column:{prototype:{pointClass:a}}}=a.seriesTypes);class c extends a{constructor(){super(...arguments),this.series=this.plotClose=this.options=this.low=this.high=this.close=void 0}}return c}),s(t,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),s(t,"Series/HLC/HLCSeries.js",[t["Series/HLC/HLCPoint.js"],t["Series/HLC/HLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,d,m){const{column:n}=d.seriesTypes,{extend:S,merge:z}=m;class Z extends n{constructor(){super(...arguments),this.yData=this.points=this.options=this.data=void 0}extendStem(H,q,L){const R=H[0];H=H[1],typeof R[2]=="number"&&(R[2]=Math.max(L+q,R[2])),typeof H[2]=="number"&&(H[2]=Math.min(L-q,H[2]))}getPointPath(H,q){q=q.strokeWidth();const L=H.series,R=q%2/2,$=Math.round(H.plotX)-R,M=Math.round(H.shapeArgs.width/2),E=[["M",$,Math.round(H.yBottom)],["L",$,Math.round(H.plotHigh)]];return H.close!==null&&(H=Math.round(H.plotClose)+R,E.push(["M",$,H],["L",$+M,H]),L.extendStem(E,q/2,H)),E}drawSinglePoint(H){var q=H.series;const L=q.chart;let R=H.graphic;typeof H.plotY<"u"&&(R||(H.graphic=R=L.renderer.path().add(q.group)),L.styledMode||R.attr(q.pointAttribs(H,H.selected&&"select")),q=q.getPointPath(H,R),R[R?"animate":"attr"]({d:q}).addClass(H.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(H,q){return H=super.pointAttribs.call(this,H,q),delete H.fill,H}toYData(H){return[H.high,H.low,H.close]}translate(){const H=this,q=H.yAxis,L=this.pointArrayMap&&this.pointArrayMap.slice()||[],R=L.map($=>`plot${$.charAt(0).toUpperCase()+$.slice(1)}`);R.push("yBottom"),L.push("low"),super.translate.apply(H),H.points.forEach(function($){L.forEach(function(M,E){M=$[M],M!==null&&(H.dataModify&&(M=H.dataModify.modifyValue(M)),$[R[E]]=q.toPixels(M,!0))}),$.tooltipPos[1]=$.plotHigh+q.pos-H.chart.plotTop})}}return Z.defaultOptions=z(n.defaultOptions,c),S(Z.prototype,{pointClass:a,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),d.registerSeriesType("hlc",Z),Z}),s(t,"Series/OHLC/OHLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(a){({seriesTypes:{hlc:a}}=a);class c extends a.prototype.pointClass{constructor(){super(...arguments),this.series=this.plotOpen=this.options=this.open=void 0}getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.resolveUpColor()}getZone(){const m=super.getZone();return this.resolveUpColor(),m}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}return c}),s(t,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),s(t,"Series/OHLC/OHLCSeries.js",[t["Series/OHLC/OHLCPoint.js"],t["Series/OHLC/OHLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,d,m){function n(R){R=R.options;const $=R.dataGrouping;$&&R.useOhlcData&&R.id!=="highcharts-navigator-series"&&($.approximation="ohlc")}function S(R){R=R.options,R.useOhlcData&&R.id!=="highcharts-navigator-series"&&O(this,{pointValKey:L.prototype.pointValKey,pointArrayMap:L.prototype.pointArrayMap,toYData:L.prototype.toYData})}const{seriesTypes:{hlc:z}}=d,{addEvent:Z,extend:O,merge:H}=m,q=[];class L extends z{constructor(){super(...arguments),this.points=this.options=this.data=void 0}static compose($,...M){m.pushUnique(q,$)&&(Z($,"afterSetOptions",n),Z($,"init",S))}getPointPath($,M){const E=super.getPointPath($,M);M=M.strokeWidth();const k=M%2/2,V=Math.round($.plotX)-k,G=Math.round($.shapeArgs.width/2);return $.open!==null&&($=Math.round($.plotOpen)+k,E.push(["M",V,$],["L",V-G,$]),super.extendStem(E,M/2,$)),E}pointAttribs($,M){M=super.pointAttribs.call(this,$,M);const E=this.options;return delete M.fill,!$.options.color&&E.upColor&&$.open<$.close&&(M.stroke=E.upColor),M}toYData($){return[$.open,$.high,$.low,$.close]}}return L.defaultOptions=H(z.defaultOptions,c),O(L.prototype,{pointClass:a,pointArrayMap:["open","high","low","close"]}),d.registerSeriesType("ohlc",L),L}),s(t,"Series/Candlestick/CandlestickSeriesDefaults.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],function(a,c){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),s(t,"Series/Candlestick/CandlestickSeries.js",[t["Series/Candlestick/CandlestickSeriesDefaults.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c,d,m){({defaultOptions:c}=c);const{column:n,ohlc:S}=d.seriesTypes;({merge:m}=m);class z extends S{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(O,H){const q=n.prototype.pointAttribs.call(this,O,H),L=this.options,R=O.open<O.close,$=L.lineColor||this.color,M=O.color||this.color;return q["stroke-width"]=L.lineWidth,q.fill=O.options.color||R&&L.upColor||M,q.stroke=O.options.lineColor||R&&L.upLineColor||$,H&&(O=L.states[H],q.fill=O.color||q.fill,q.stroke=O.lineColor||q.stroke,q["stroke-width"]=O.lineWidth||q["stroke-width"]),q}drawPoints(){var O=this.points;const H=this.chart,q=this.yAxis.reversed;for(const M of O){O=M.graphic;var L=void 0,R=void 0;let E,k;var $=void 0;let V,G;const C=!O;typeof M.plotY<"u"&&(O||(M.graphic=O=H.renderer.path().add(this.group)),this.chart.styledMode||O.attr(this.pointAttribs(M,M.selected&&"select")).shadow(this.options.shadow),$=O.strokeWidth()%2/2,V=Math.round(M.plotX)-$,L=M.plotOpen,R=M.plotClose,E=Math.min(L,R),L=Math.max(L,R),G=Math.round(M.shapeArgs.width/2),R=q?L!==M.yBottom:Math.round(E)!==Math.round(M.plotHigh),k=q?Math.round(E)!==Math.round(M.plotHigh):L!==M.yBottom,E=Math.round(E)+$,L=Math.round(L)+$,$=[],$.push(["M",V-G,L],["L",V-G,E],["L",V+G,E],["L",V+G,L],["Z"],["M",V,E],["L",V,R?Math.round(q?M.yBottom:M.plotHigh):E],["M",V,L],["L",V,k?Math.round(q?M.plotHigh:M.yBottom):L]),O[C?"attr":"animate"]({d:$}).addClass(M.getClassName(),!0))}}}return z.defaultOptions=m(S.defaultOptions,c.plotOptions,{tooltip:S.defaultOptions.tooltip},a),d.registerSeriesType("candlestick",z),z}),s(t,"Series/Flags/FlagsPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(a,c){({column:{prototype:{pointClass:a}}}=a.seriesTypes);const{isNumber:d}=c;class m extends a{constructor(){super(...arguments),this.series=this.options=void 0,this.ttBelow=!1}isValid(){return d(this.y)||typeof this.y>"u"}hasNewShapeType(){const S=this.options.shape||this.series.options.shape;return this.graphic&&S&&S!==this.graphic.symbolKey}}return m}),s(t,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),s(t,"Series/Flags/FlagsSymbols.js",[t["Core/Renderer/RendererRegistry.js"]],function(a){var c;return function(d){function m(z,Z,O,H,q){const L=q&&q.anchorX||z;q=q&&q.anchorY||Z;const R=this.circle(L-1,q-1,2,2);return R.push(["M",L,q],["L",z,Z+H],["L",z,Z],["L",z+O,Z],["L",z+O,Z+H],["L",z,Z+H],["Z"]),R}function n(z,Z){z[Z+"pin"]=function(O,H,q,L,R){const $=R&&R.anchorX;R=R&&R.anchorY;let M;if(Z==="circle"&&L>q&&(O-=Math.round((L-q)/2),q=L),M=z[Z](O,H,q,L),$&&R){let E=$;Z==="circle"?E=O+q/2:(O=M[0],q=M[1],O[0]==="M"&&q[0]==="L"&&(E=(O[1]+q[1])/2)),M.push(["M",E,H>R?H:H+L],["L",$,R]),M=M.concat(z.circle($-1,R-1,2,2))}return M}}const S=[];d.compose=function(z){S.indexOf(z)===-1&&(S.push(z),z=z.prototype.symbols,z.flag=m,n(z,"circle"),n(z,"square")),z=a.getRendererType(),S.indexOf(z)&&S.push(z)}}(c||(c={})),c}),s(t,"Series/OnSeriesComposition.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(a,c,d){const{prototype:m}=a,{prototype:n}=c,{defined:S,stableSort:z}=d;var Z;return function(O){function H(R){return n.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,R)}function q(){m.translate.apply(this);const R=this;var $=R.options,M=R.chart;const E=R.points;var k=$.onSeries;const V=(k=k&&M.get(k))&&k.options.step,G=k&&k.points,C=M.inverted,te=R.xAxis,Q=R.yAxis;M=E.length-1;let N;$=$.onKey||"y";let j=G&&G.length,W=0,w,D,f,g;if(k&&k.visible&&j){W=(k.pointXOffset||0)+(k.barW||0)/2;var x=k.currentDataGrouping;for(D=G[j-1].x+(x?x.totalRange:0),z(E,(P,Y)=>P.x-Y.x),$="plot"+$[0].toUpperCase()+$.substr(1);j--&&E[M]&&(w=G[j],x=E[M],x.y=w.y,!(w.x<=x.x&&typeof w[$]<"u"&&(x.x<=D&&(x.plotY=w[$],w.x<x.x&&!V&&(f=G[j+1])&&typeof f[$]<"u"&&(g=(x.x-w.x)/(f.x-w.x),x.plotY+=g*(f[$]-w[$]),x.y+=g*(f.y-w.y))),M--,j++,0>M))););}E.forEach((P,Y)=>{let ee;P.plotX+=W,(typeof P.plotY>"u"||C)&&(0<=P.plotX&&P.plotX<=te.len?C?(P.plotY=te.translate(P.x,0,1,0,1),P.plotX=S(P.y)?Q.translate(P.y,0,0,0,1):0):P.plotY=(te.opposite?0:R.yAxis.len)+te.offset:P.shapeArgs={}),(N=E[Y-1])&&N.plotX===P.plotX&&(typeof N.stackIndex>"u"&&(N.stackIndex=0),ee=N.stackIndex+1),P.stackIndex=ee}),this.onSeries=k}const L=[];O.compose=function(R){if(d.pushUnique(L,R)){const $=R.prototype;$.getPlotBox=H,$.translate=q}return R},O.getPlotBox=H,O.translate=q}(Z||(Z={})),Z}),s(t,"Series/Flags/FlagsSeries.js",[t["Series/Flags/FlagsPoint.js"],t["Series/Flags/FlagsSeriesDefaults.js"],t["Series/Flags/FlagsSymbols.js"],t["Core/Globals.js"],t["Series/OnSeriesComposition.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(a,c,d,m,n,S,z,Z,O){({noop:m}=m);const{distribute:H}=S,{series:q,seriesTypes:{column:L}}=z,{addEvent:R,defined:$,extend:M,merge:E,objectEach:k,wrap:V}=O;class G extends L{constructor(){super(...arguments),this.points=this.options=this.data=void 0}animate(te){te&&this.setClip()}drawPoints(){var te=this.points,Q=this.chart;const N=Q.renderer,j=Q.inverted,W=this.options,w=W.y,D=this.yAxis,f={},g=[];let x,P,Y,ee,K,he,ge;for(Y=te.length;Y--;){ee=te[Y],he=(j?ee.plotY:ee.plotX)>this.xAxis.len,x=ee.plotX;var Ee=ee.stackIndex,J=ee.options.shape||W.shape;P=ee.plotY,typeof P<"u"&&(P=ee.plotY+w-(typeof Ee<"u"&&Ee*W.stackDistance)),ee.anchorX=Ee?void 0:ee.plotX,K=Ee?void 0:ee.plotY,ge=J!=="flag",Ee=ee.graphic,typeof P<"u"&&0<=x&&!he?(Ee&&ee.hasNewShapeType()&&(Ee=Ee.destroy()),Ee||(Ee=ee.graphic=N.label("",null,null,J,null,null,W.useHTML).addClass("highcharts-point").add(this.markerGroup),ee.graphic.div&&(ee.graphic.div.point=ee),Ee.isNew=!0),Ee.attr({align:ge?"center":"left",width:W.width,height:W.height,"text-align":W.textAlign}),Q.styledMode||Ee.attr(this.pointAttribs(ee)).css(E(W.style,ee.style)).shadow(W.shadow),0<x&&(x-=Ee.strokeWidth()%2),J={y:P,anchorY:K},W.allowOverlapX&&(J.x=x,J.anchorX=ee.anchorX),Ee.attr({text:ee.options.title||W.title||"A"})[Ee.isNew?"attr":"animate"](J),W.allowOverlapX||(f[ee.plotX]?f[ee.plotX].size=Math.max(f[ee.plotX].size,Ee.width):f[ee.plotX]={align:ge?.5:0,size:Ee.width,target:x,anchorX:x}),ee.tooltipPos=[x,P+D.pos-Q.plotTop]):Ee&&(ee.graphic=Ee.destroy())}if(!W.allowOverlapX){let oe=100;k(f,function(ce){ce.plotX=ce.anchorX,g.push(ce),oe=Math.max(ce.size,oe)}),H(g,j?D.len:this.xAxis.len,oe);for(const ce of te)Q=ce.plotX,(Q=(te=ce.graphic)&&f[Q])&&te&&($(Q.pos)?te[te.isNew?"attr":"animate"]({x:Q.pos+(Q.align||0)*Q.size,anchorX:ce.anchorX}).show().isNew=!1:te.hide().isNew=!0)}W.useHTML&&this.markerGroup&&V(this.markerGroup,"on",function(oe){return Z.prototype.on.apply(oe.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){const te=this.points;super.drawTracker();for(const Q of te){const N=Q.graphic;N&&(Q.unbindMouseOver&&Q.unbindMouseOver(),Q.unbindMouseOver=R(N.element,"mouseover",function(){0<Q.stackIndex&&!Q.raised&&(Q._y=N.y,N.attr({y:Q._y-8}),Q.raised=!0);for(const j of te)j!==Q&&j.raised&&j.graphic&&(j.graphic.attr({y:j._y}),j.raised=!1)}))}}pointAttribs(te,Q){const N=this.options,j=te&&te.color||this.color;let W=N.lineColor,w=te&&te.lineWidth;return te=te&&te.fillColor||N.fillColor,Q&&(te=N.states[Q].fillColor,W=N.states[Q].lineColor,w=N.states[Q].lineWidth),{fill:te||j,stroke:W||j,"stroke-width":w||N.lineWidth||0}}setClip(){q.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return G.compose=d.compose,G.defaultOptions=E(L.defaultOptions,c),n.compose(G),M(G.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:a,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:m,init:q.prototype.init}),z.registerSeriesType("flags",G),G}),s(t,"Core/Chart/StockChart.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Defaults.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(a,c,d,m,n,S,z,Z,O,H){function q(w,D){return w==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:w==="yAxis"?{labels:{y:-2},opposite:N(D.opposite,!0),showLastLabel:!(!D.categories&&D.type!=="category"),title:{text:null}}:{}}function L(w,D){return w==="xAxis"?(w={type:"datetime",categories:void 0},N(D.navigator&&D.navigator.enabled,n.enabled,!0)&&(w.startOnTick=!1,w.endOnTick=!1),w):{}}const{format:R}=d,{getOptions:$}=m,{addEvent:M,clamp:E,defined:k,extend:V,find:G,isNumber:C,isString:te,merge:Q,pick:N,splat:j}=H;class W extends c{init(D,f){const g=$(),x=D.xAxis,P=D.yAxis;var Y=N(D.navigator&&D.navigator.enabled,n.enabled,!0);D.xAxis=D.yAxis=void 0,Y=Q({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:Y},scrollbar:{enabled:N(z.enabled,!0)},rangeSelector:{enabled:N(S.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:N(g.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},D,{isStock:!0}),D.xAxis=x,D.yAxis=P,Y.xAxis=j(D.xAxis||{}).map(function(ee,K){return Q(q("xAxis",ee),g.xAxis,g.xAxis&&g.xAxis[K],ee,L("xAxis",D))}),Y.yAxis=j(D.yAxis||{}).map(function(ee,K){return Q(q("yAxis",ee),g.yAxis,g.yAxis&&g.yAxis[K],ee)}),super.init(Y,f)}createAxis(D,f){return f.axis=Q(q(D,f.axis),f.axis,L(D,this.userOptions)),super.createAxis(D,f)}}return function(w){w.stockChart=function(D,f,g){return new w(D,f,g)}}(W||(W={})),M(Z,"setOptions",function(w){let D;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?D={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(D={marker:{enabled:!1,radius:2}}),D&&(w.plotOptions[this.type]=Q(w.plotOptions[this.type],D)))}),M(a,"autoLabelAlign",function(w){const{chart:D,options:f}=this,g=D._labelPanes=D._labelPanes||{},x=f.labels;if(D.options.isStock&&this.coll==="yAxis"){const P=f.top+","+f.height;!g[P]&&x.enabled&&(x.distance===15&&this.side===1&&(x.distance=0),typeof x.align>"u"&&(x.align="right"),g[P]=this,w.align="right",w.preventDefault())}}),M(a,"destroy",function(){const w=this.chart,D=this.options&&this.options.top+","+this.options.height;D&&w._labelPanes&&w._labelPanes[D]===this&&delete w._labelPanes[D]}),M(a,"getPlotLinePath",function(w){function D(ae){const me=ae==="xAxis"?"yAxis":"xAxis";return ae=f.options[me],C(ae)?[x[me][ae]]:te(ae)?[x.get(ae)]:g.map(function(we){return we[me]})}let f=this,g=this.isLinked&&!this.series?this.linkedParent.series:this.series,x=f.chart,P=x.renderer,Y=f.left,ee=f.top,K,he,ge,Ee,J=[],oe=[],ce,pe,Ce=w.translatedValue,ne=w.value,ye=w.force,_e;(x.options.isStock&&w.acrossPanes!==!1&&f.coll==="xAxis"||f.coll==="yAxis")&&(w.preventDefault(),oe=D(f.coll),ce=f.isXAxis?x.yAxis:x.xAxis,ce.forEach(function(ae){if(!k(ae.options.id)||ae.options.id.indexOf("navigator")===-1){var me=ae.isXAxis?"yAxis":"xAxis";me=k(ae.options[me])?x[me][ae.options[me]]:x[me][0],f===me&&oe.push(ae)}}),pe=oe.length?[]:[f.isXAxis?x.yAxis[0]:x.xAxis[0]],oe.forEach(function(ae){pe.indexOf(ae)!==-1||G(pe,function(me){return me.pos===ae.pos&&me.len===ae.len})||pe.push(ae)}),_e=N(Ce,f.translate(ne,void 0,void 0,w.old)),C(_e)&&(f.horiz?pe.forEach(function(ae){let me;he=ae.pos,Ee=he+ae.len,K=ge=Math.round(_e+f.transB),ye!=="pass"&&(K<Y||K>Y+f.width)&&(ye?K=ge=E(K,Y,Y+f.width):me=!0),me||J.push(["M",K,he],["L",ge,Ee])}):pe.forEach(function(ae){let me;K=ae.pos,ge=K+ae.len,he=Ee=Math.round(ee+f.height-_e),ye!=="pass"&&(he<ee||he>ee+f.height)&&(ye?he=Ee=E(he,ee,ee+f.height):me=!0),me||J.push(["M",K,he],["L",ge,Ee])})),w.path=0<J.length?P.crispPolyLine(J,w.lineWidth||1):null)}),O.prototype.crispPolyLine=function(w,D){for(let f=0;f<w.length;f+=2){const g=w[f],x=w[f+1];g[1]===x[1]&&(g[1]=x[1]=Math.round(g[1])-D%2/2),g[2]===x[2]&&(g[2]=x[2]=Math.round(g[2])+D%2/2)}return w},M(a,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),M(a,"afterDrawCrosshair",function(w){var D,f;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&C(this.min)&&C(this.max)){var g=this.chart,x=this.logarithmic,P=this.crosshair.label,Y=this.horiz,ee=this.opposite,K=this.left,he=this.top,ge=this.width,Ee=this.crossLabel,J=P.format,oe="",ce=this.options.tickPosition==="inside",pe=this.crosshair.snap!==!1,Ce=0,ne=w.e||this.cross&&this.cross.e;w=w.point;var ye=this.min,_e=this.max;x&&(ye=x.lin2log(ye),_e=x.lin2log(_e)),x=Y?"center":ee?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center",Ee||(Ee=this.crossLabel=g.renderer.label("",0,void 0,P.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(w&&w.series?w.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:P.align||x,padding:N(P.padding,8),r:N(P.borderRadius,3),zIndex:2}).add(this.labelGroup),g.styledMode||Ee.attr({fill:P.backgroundColor||w&&w.series&&w.series.color||"#666666",stroke:P.borderColor||"","stroke-width":P.borderWidth||0}).css(V({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},P.style||{}))),Y?(ge=pe?(w.plotX||0)+K:ne.chartX,he+=ee?0:this.height):(ge=K+this.offset+(ee?ge:0),he=pe?(w.plotY||0)+he:ne.chartY),J||P.formatter||(this.dateTime&&(oe="%b %d, %Y"),J="{value"+(oe?":"+oe:"")+"}"),oe=pe?this.isXAxis?w.x:w.y:this.toValue(Y?ne.chartX:ne.chartY),pe=w&&w.series?w.series.isPointInside(w):C(oe)&&oe>ye&&oe<_e,ne="",J?ne=R(J,{value:oe},g):P.formatter&&C(oe)&&(ne=P.formatter.call(this,oe)),Ee.attr({text:ne,x:ge,y:he,visibility:pe?"inherit":"hidden"}),P=Ee.getBBox(),!C(Ee.x)||Y||ee||(ge=Ee.x-P.width/2),C(Ee.y)&&(Y?(ce&&!ee||!ce&&ee)&&(he=Ee.y-P.height):he=Ee.y-P.height/2),Y?(D=K-P.x,f=K+this.width-P.x):(D=this.labelAlign==="left"?K:0,f=this.labelAlign==="right"?K+this.width:g.chartWidth),Ee.translateX<D&&(Ce=D-Ee.translateX),Ee.translateX+P.width>=f&&(Ce=-(Ee.translateX+P.width-f)),Ee.attr({x:ge+Ce,y:he,anchorX:Y?ge:this.opposite?0:g.chartWidth,anchorY:Y?this.opposite?g.chartHeight:0:he+P.height/2})}}),Z.prototype.forceCropping=function(){const w=this.chart,D=this.options.dataGrouping;return this.allowDG!==!1&&D&&N(D.enabled,w.options.isStock)},M(c,"update",function(w){w=w.options,"scrollbar"in w&&this.navigator&&(Q(!0,this.options.scrollbar,w.scrollbar),this.navigator.update({}),delete w.scrollbar)}),W}),s(t,"masters/modules/stock.src.js",[t["Core/Globals.js"],t["Series/DataModifyComposition.js"],t["Stock/Navigator/Navigator.js"],t["Stock/RangeSelector/RangeSelector.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Axis/OrdinalAxis.js"],t["Series/OHLC/OHLCSeries.js"],t["Series/Flags/FlagsSeries.js"],t["Core/Chart/StockChart.js"]],function(a,c,d,m,n,S,z,Z,O){a.Navigator=d,a.RangeSelector=m,a.Scrollbar=n,a.StockChart=a.stockChart=O.stockChart,c.compose(a.Series,a.Axis,a.Point),Z.compose(a.Renderer),d.compose(a.Axis,a.Chart,a.Series),z.compose(a.Series),S.compose(a.Axis,a.Series,a.Chart),m.compose(a.Axis,a.Chart),n.compose(a.Axis)})})})(zA);var b$=zA.exports;const w$=uh(b$);w$(Pl);const S$={name:"graph",components:{Chart:Kf.Chart},data(){return{chartOptions:{chart:{zoomType:"xy"},title:{text:"",align:""},subtitle:{text:"",align:""},xAxis:[{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],crosshair:!0}],yAxis:[{labels:{format:"{value}°C",style:{color:Pl.getOptions().colors[2]}},title:{text:"Temperature",style:{color:Pl.getOptions().colors[2]}},opposite:!0},{gridLineWidth:0,title:{text:"Rainfall",style:{color:Pl.getOptions().colors[0]}},labels:{format:"{value} mm",style:{color:Pl.getOptions().colors[0]}}},{gridLineWidth:0,title:{text:"Sea-Level Pressure",style:{color:Pl.getOptions().colors[1]}},labels:{format:"{value} mb",style:{color:Pl.getOptions().colors[1]}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:80,verticalAlign:"top",y:55,floating:!0,backgroundColor:Pl.defaultOptions.legend.backgroundColor||"rgba(255,255,255,0.25)"},series:[{name:"Rainfall",type:"column",yAxis:1,data:[49.9,71.5,106.4,129.2,144,176,135.6,148.5,216.4,194.1,95.6,54.4],tooltip:{valueSuffix:" mm"}},{name:"Sea-Level Pressure",type:"spline",yAxis:2,data:[1016,1016,1015.9,1015.5,1012.3,1009.5,1009.6,1010.2,1013.1,1016.9,1018.2,1016.7],marker:{enabled:!1},dashStyle:"shortdot",tooltip:{valueSuffix:" mb"}},{name:"Temperature",type:"spline",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6],tooltip:{valueSuffix:" °C"}}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{floating:!1,layout:"horizontal",align:"center",verticalAlign:"bottom",x:0,y:0},yAxis:[{labels:{align:"right",x:0,y:-6},showLastLabel:!1},{labels:{align:"left",x:0,y:-6},showLastLabel:!1},{visible:!1}]}}]}}}}};function T$(e,t,s,a,c,d){const m=Yn("Chart");return Ot(),Bh(m,{options:c.chartOptions,constructorType:"stockChart"},null,8,["options"])}const E$=Kn(S$,[["render",T$]]);var FA={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function s(a,c,d,m){a.hasOwnProperty(c)||(a[c]=m.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:a[c]}})))}t=t?t._modules:{},s(t,"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,c){function d(O){if(typeof S.MouseEvent=="function")return new S.MouseEvent(O.type,O);if(n.createEvent){const H=n.createEvent("MouseEvent");if(H.initMouseEvent)return H.initMouseEvent(O.type,O.bubbles,O.cancelable,O.view||S,O.detail,O.screenX,O.screenY,O.clientX,O.clientY,O.ctrlKey,O.altKey,O.shiftKey,O.metaKey,O.button,O.relatedTarget),H}return m(O.type)}function m(O,H,q){return H=H||{x:0,y:0},typeof S.MouseEvent=="function"?new S.MouseEvent(O,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:q||Z,view:S,detail:O==="click"?1:0,screenX:H.x,screenY:H.y,clientX:H.x,clientY:H.y}):n.createEvent&&(q=n.createEvent("MouseEvent"),q.initMouseEvent)?(q.initMouseEvent(O,!0,!0,S,O==="click"?1:0,H.x,H.y,H.x,H.y,!1,!1,!1,!1,0,null),q):{type:O}}const{doc:n,win:S}=a,{css:z}=c,Z=S.EventTarget&&new S.EventTarget||"none";return{addClass:function(O,H){O.classList?O.classList.add(H):0>O.className.indexOf(H)&&(O.className+=" "+H)},cloneMouseEvent:d,cloneTouchEvent:function(O){var H=q=>{const L=[];for(let R=0;R<q.length;++R){const $=q.item(R);$&&L.push($)}return L};return typeof S.TouchEvent=="function"?(H=new S.TouchEvent(O.type,{touches:H(O.touches),targetTouches:H(O.targetTouches),changedTouches:H(O.changedTouches),ctrlKey:O.ctrlKey,shiftKey:O.shiftKey,altKey:O.altKey,metaKey:O.metaKey,bubbles:O.bubbles,cancelable:O.cancelable,composed:O.composed,detail:O.detail,view:O.view}),O.defaultPrevented&&H.preventDefault(),H):(H=d(O),H.touches=O.touches,H.changedTouches=O.changedTouches,H.targetTouches=O.targetTouches,H)},escapeStringForHTML:function(O){return O.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(O){return n.getElementById(O)},getFakeMouseEvent:m,getHeadingTagNameForElement:function(O){const H=L=>(L=parseInt(L.slice(1),10),"h"+Math.min(6,L+1)),q=L=>{var R;e:{for(R=L;R=R.previousSibling;){const $=R.tagName||"";if(/H[1-6]/.test($)){R=$;break e}}R=""}return R?H(R):(L=L.parentElement,L?(R=L.tagName,/H[1-6]/.test(R)?H(R):q(L)):"p")};return q(O)},removeChildNodes:function(O){for(;O.lastChild;)O.removeChild(O.lastChild)},removeClass:function(O,H){O.classList?O.classList.remove(H):O.className=O.className.replace(new RegExp(H,"g"),"")},removeElement:function(O){O&&O.parentNode&&O.parentNode.removeChild(O)},reverseChildNodes:function(O){let H=O.childNodes.length;for(;H--;)O.appendChild(O.childNodes[H])},simulatedEventTarget:Z,stripHTMLTagsFromString:function(O){return typeof O=="string"?O.replace(/<\/?[^>]+(>|$)/g,""):O},visuallyHideElement:function(O){z(O,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),s(t,"Accessibility/A11yI18n.js",[t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(a,c){const{format:d}=a,{getNestedProperty:m,pick:n}=c;var S;return function(z){function Z(L,R){var $=L.indexOf("#each("),M=L.indexOf("#plural("),E=L.indexOf("[");const k=L.indexOf("]");if(-1<$){E=L.slice($).indexOf(")")+$;var V=L.substring(0,$);if(M=L.substring(E+1),E=L.substring($+6,E).split(","),$=Number(E[1]),L="",R=m(E[0],R))for($=isNaN($)?R.length:$,$=0>$?R.length+$:Math.min($,R.length),E=0;E<$;++E)L+=V+R[E]+M;return L.length?L:""}if(-1<M){switch(V=L.slice(M).indexOf(")")+M,L=L.substring(M+8,V).split(","),Number(m(L[0],R))){case 0:L=n(L[4],L[1]);break;case 1:L=n(L[2],L[1]);break;case 2:L=n(L[3],L[1]);break;default:L=L[1]}return L?(R=L,R=R.trim&&R.trim()||R.replace(/^\s+|\s+$/g,"")):R="",R}return-1<E?(M=L.substring(0,E),L=Number(L.substring(E+1,k)),R=m(M,R),!isNaN(L)&&R&&(0>L?(V=R[R.length+L],typeof V>"u"&&(V=R[0])):(V=R[L],typeof V>"u"&&(V=R[R.length-1]))),typeof V<"u"?V:""):"{"+L+"}"}function O(L,R,$){const M=(C,te)=>{C=C.slice(te||0);const Q=C.indexOf("{"),N=C.indexOf("}");if(-1<Q&&N>Q)return{statement:C.substring(Q+1,N),begin:te+Q+1,end:te+N}},E=[];let k,V,G=0;do k=M(L,G),V=L.substring(G,k&&k.begin-1),V.length&&E.push({value:V,type:"constant"}),k&&E.push({value:k.statement,type:"statement"}),G=k?k.end+1:G+1;while(k);return E.forEach(C=>{C.type==="statement"&&(C.value=Z(C.value,R))}),d(E.reduce((C,te)=>C+te.value,""),R,$)}function H(L,R){L=L.split(".");let $=this.options.lang,M=0;for(;M<L.length;++M)$=$&&$[L[M]];return typeof $=="string"?O($,R,this):""}const q=[];z.compose=function(L){return c.pushUnique(q,L)&&(L.prototype.langFormat=H),L},z.i18nFormat=O}(S||(S={})),S}),s(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(a,c,d){function m(M,E){const k=E.type,V=M.hcEvents;H.createEvent&&(M.dispatchEvent||M.fireEvent)?M.dispatchEvent?M.dispatchEvent(E):M.fireEvent(k,E):V&&V[k]?$(M,k,E):M.element&&m(M.element,E)}function n(M){const E=M.chart,k={};let V="Seconds";k.Seconds=((M.dataMax||M.max||0)-(M.dataMin||M.min||0))/1e3,k.Minutes=k.Seconds/60,k.Hours=k.Minutes/60,k.Days=k.Hours/24,["Minutes","Hours","Days"].forEach(function(C){2<k[C]&&(V=C)});const G=k[V].toFixed(V!=="Seconds"&&V!=="Minutes"?1:0);return E.langFormat("accessibility.axis.timeRange"+V,{chart:E,axis:M,range:G.replace(".0","")})}function S(M){const E=M.chart;var k=E.options;const V=k&&k.accessibility&&k.accessibility.screenReaderSection.axisRangeDateFormat||"",G={min:M.dataMin||M.min||0,max:M.dataMax||M.max||0};return k=function(C){return M.dateTime?E.time.dateFormat(V,G[C]):G[C].toString()},E.langFormat("accessibility.axis.rangeFromTo",{chart:E,axis:M,rangeFrom:k("min"),rangeTo:k("max")})}function z(M){if(M.points&&M.points.length)return(M=R(M.points,E=>!!E.graphic))&&M.graphic&&M.graphic.element}function Z(M){const E=z(M);return E&&E.parentNode||M.graph&&M.graph.element||M.group&&M.group.element}function O(M,E){E.setAttribute("aria-hidden",!1),E!==M.renderTo&&E.parentNode&&E.parentNode!==H.body&&(Array.prototype.forEach.call(E.parentNode.childNodes,function(k){k.hasAttribute("aria-hidden")||k.setAttribute("aria-hidden",!0)}),O(M,E.parentNode))}const{doc:H}=a,{stripHTMLTagsFromString:q}=c,{defined:L,find:R,fireEvent:$}=d;return{fireEventOnWrappedOrUnwrappedElement:m,getChartTitle:function(M){return q(M.options.title.text||M.langFormat("accessibility.defaultChartTitle",{chart:M}))},getAxisDescription:function(M){return M&&(M.userOptions&&M.userOptions.accessibility&&M.userOptions.accessibility.description||M.axisTitle&&M.axisTitle.textStr||M.options.id||M.categories&&"categories"||M.dateTime&&"Time"||"values")},getAxisRangeDescription:function(M){var E=M.options||{};return E.accessibility&&typeof E.accessibility.rangeDescription<"u"?E.accessibility.rangeDescription:M.categories?(E=M.chart,M=M.dataMax&&M.dataMin?E.langFormat("accessibility.axis.rangeCategories",{chart:E,axis:M,numCategories:M.dataMax-M.dataMin+1}):"",M):!M.dateTime||M.min!==0&&M.dataMin!==0?S(M):n(M)},getPointFromXY:function(M,E,k){let V=M.length,G;for(;V--;)if(G=R(M[V].points||[],function(C){return C.x===E&&C.y===k}))return G},getSeriesFirstPointElement:z,getSeriesFromName:function(M,E){return E?(M.series||[]).filter(function(k){return k.name===E}):M.series},getSeriesA11yElement:Z,unhideChartElementFromAT:O,hideSeriesFromAT:function(M){(M=Z(M))&&M.setAttribute("aria-hidden",!0)},scrollToPoint:function(M){var E=M.series.xAxis,k=M.series.yAxis;const V=E&&E.scrollbar?E:k;if((E=V&&V.scrollbar)&&L(E.to)&&L(E.from)){if(k=E.to-E.from,L(V.dataMin)&&L(V.dataMax)){var G=V.toPixels(V.dataMin),C=V.toPixels(V.dataMax);M=(V.toPixels(M[V.coll==="xAxis"?"x":"y"]||0)-G)/(C-G)}else M=0;E.updatePosition(M-k/2,M+k/2),$(E,"changed",{from:E.from,to:E.to,trigger:"scrollbar",DOMEvent:null})}}}}),s(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,c){const{doc:d}=a,{removeElement:m}=c;class n{constructor(){this.elements=[]}createElement(){const z=d.createElement.apply(d,arguments);return this.elements.push(z),z}destroyCreatedElements(){this.elements.forEach(function(z){m(z)}),this.elements=[]}}return n}),s(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,c){const{addEvent:d}=c;class m{constructor(){this.eventRemovers=[]}addEvent(){const S=d.apply(a,arguments);return this.eventRemovers.push(S),S}removeAddedEvents(){this.eventRemovers.forEach(S=>S()),this.eventRemovers=[]}}return m}),s(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(a,c,d,m,n){const{fireEventOnWrappedOrUnwrappedElement:S}=a,{getFakeMouseEvent:z}=m;({extend:a}=n);class Z{constructor(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}initBase(H,q){this.chart=H,this.eventProvider=new d,this.domElementProvider=new c,this.proxyProvider=q,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(H,q,L,R){return this.eventProvider.addEvent(H,q,L,R)}createElement(H,q){return this.domElementProvider.createElement(H,q)}fakeClickEvent(H){const q=z("click");S(H,q)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return a(Z.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),Z}),s(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],function(a){const{find:c}=a;class d{constructor(n,S){this.chart=n,this.keyCodeMap=S.keyCodeMap||[],this.validate=S.validate,this.init=S.init,this.terminate=S.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(n){const S=n.which||n.keyCode;let z=this.response.noHandler;const Z=c(this.keyCodeMap,function(O){return-1<O[0].indexOf(S)});return Z?z=Z[1].call(this,S,n):S===9&&(z=this.response[n.shiftKey?"prev":"next"]),z}}return d}),s(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,c,d,m,n){const{unhideChartElementFromAT:S,getChartTitle:z}=d,{doc:Z}=m,{stripHTMLTagsFromString:O}=n;class H extends a{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const L=this.chart,R="highcharts-title-"+L.index,$=O(L.langFormat("accessibility.svgContainerTitle",{chartTitle:z(L)}));if($.length){const M=this.svgTitleElement=this.svgTitleElement||Z.createElementNS("http://www.w3.org/2000/svg","title");M.textContent=$,M.id=R,L.renderTo.insertBefore(M,L.renderTo.firstChild)}}setSVGContainerLabel(){const L=this.chart,R=L.langFormat("accessibility.svgContainerLabel",{chartTitle:z(L)});L.renderer.box&&R.length&&L.renderer.box.setAttribute("aria-label",R)}setGraphicContainerAttrs(){const L=this.chart,R=L.langFormat("accessibility.graphicContainerLabel",{chartTitle:z(L)});R.length&&L.container.setAttribute("aria-label",R)}setRenderToAttrs(){const L=this.chart,R=L.options.accessibility.landmarkVerbosity!=="disabled",$=L.langFormat("accessibility.chartContainerLabel",{title:z(L),chart:L});$&&(L.renderTo.setAttribute("role",R?"region":"group"),L.renderTo.setAttribute("aria-label",$))}makeCreditsAccessible(){const L=this.chart,R=L.credits;R&&(R.textStr&&R.element.setAttribute("aria-label",L.langFormat("accessibility.credits",{creditsStr:O(R.textStr)})),S(L,R.element))}getKeyboardNavigation(){const L=this.chart;return new c(L,{keyCodeMap:[],validate:function(){return!0},init:function(){const R=L.accessibility;R&&R.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}return H}),s(t,"Accessibility/FocusBorder.js",[t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Utilities.js"]],function(a,c){const{addEvent:d,pick:m}=c;var n;return function(S){function z(){const E=this.focusElement,k=this.options.accessibility.keyboardNavigation.focusBorder;E&&(E.removeFocusBorder(),k.enabled&&E.addFocusBorder(k.margin,{stroke:k.style.color,strokeWidth:k.style.lineWidth,r:k.style.borderRadius}))}function Z(E,k){const V=this.options.accessibility.keyboardNavigation.focusBorder;(k=k||E.element)&&k.focus&&(k.hcEvents&&k.hcEvents.focusin||d(k,"focusin",function(){}),k.focus(),V.hideBrowserFocusOutline&&(k.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=E,this.renderFocusBorder()}function O(E){if(!E.focusBorderDestroyHook){var k=E.destroy;E.destroy=function(){return E.focusBorder&&E.focusBorder.destroy&&E.focusBorder.destroy(),k.apply(E,arguments)},E.focusBorderDestroyHook=k}}function H(E,k){this.focusBorder&&this.removeFocusBorder();const V=this.getBBox(),G=m(E,3),C=this.parentGroup;var te=this.scaleX||C&&C.scaleX,Q=this.scaleY||C&&C.scaleY;te=(te?!Q:Q)?Math.abs(te||Q||1):(Math.abs(te||1)+Math.abs(Q||1))/2,V.x+=this.translateX?this.translateX:0,V.y+=this.translateY?this.translateY:0,Q=V.x-G;let N=V.y-G,j=V.width+2*G,W=V.height+2*G;var w=this instanceof a;if(this.element.nodeName==="text"||w){const g=!!this.rotation;if(w)var D={x:g?1:0,y:0};else{var f=D=0;this.attr("text-anchor")==="middle"?D=f=.5:this.rotation?D=.25:f=.75,D={x:D,y:f}}f=+this.attr("x");const x=+this.attr("y");isNaN(f)||(Q=f-V.width*D.x-G),isNaN(x)||(N=x-V.height*D.y-G),w&&g&&(w=j,j=W,W=w,isNaN(f)||(Q=f-V.height*D.x-G),isNaN(x)||(N=x-V.width*D.y-G))}this.focusBorder=this.renderer.rect(Q,N,j,W,parseInt((k&&k.r||0).toString(),10)/te).addClass("highcharts-focus-border").attr({zIndex:99}).add(C),this.renderer.styledMode||this.focusBorder.attr({stroke:k&&k.stroke,"stroke-width":(k&&k.strokeWidth||0)/te}),q(this,E,k),O(this)}function q(E,...k){E.focusBorderUpdateHooks||(E.focusBorderUpdateHooks={},M.forEach(V=>{V+="Setter";const G=E[V]||E._defaultSetter;E.focusBorderUpdateHooks[V]=G,E[V]=function(){const C=G.apply(E,arguments);return E.addFocusBorder.apply(E,k),C}}))}function L(){R(this),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}function R(E){E.focusBorderUpdateHooks&&(Object.keys(E.focusBorderUpdateHooks).forEach(k=>{const V=E.focusBorderUpdateHooks[k];V===E._defaultSetter?delete E[k]:E[k]=V}),delete E.focusBorderUpdateHooks)}const $=[],M="x y transform width height r d stroke-width".split(" ");S.compose=function(E,k){c.pushUnique($,E)&&(E=E.prototype,E.renderFocusBorder=z,E.setFocusToElement=Z),c.pushUnique($,k)&&(k=k.prototype,k.addFocusBorder=H,k.removeFocusBorder=L)}}(n||(n={})),n}),s(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(a,c,d,m,n){const{doc:S}=d,{addClass:z,visuallyHideElement:Z}=m,{attr:O}=n;class H{constructor(L,R){this.chart=L,this.domElementProvider=new c,this.announceRegion=this.addAnnounceRegion(R)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(L){a.setElementHTML(this.announceRegion,L),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=a.emptyHTML,delete this.clearAnnouncementRegionTimer},1e3)}addAnnounceRegion(L){const R=this.chart.announcerContainer||this.createAnnouncerContainer(),$=this.domElementProvider.createElement("div");return O($,{"aria-hidden":!1,"aria-live":L}),this.chart.styledMode?z($,"highcharts-visually-hidden"):Z($),R.appendChild($),$}createAnnouncerContainer(){const L=this.chart,R=S.createElement("div");return O(R,{"aria-hidden":!1,class:"highcharts-announcer-container"}),R.style.position="relative",L.renderTo.insertBefore(R,L.renderTo.firstChild),L.announcerContainer=R}}return H}),s(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],function(a){function c(Z){return(Z.annotations||[]).reduce((O,H)=>(H.options&&H.options.visible!==!1&&(O=O.concat(H.labels)),O),[])}function d(Z){return Z.options&&Z.options.accessibility&&Z.options.accessibility.description||Z.graphic&&Z.graphic.text&&Z.graphic.text.textStr||""}function m(Z){var O=Z.options&&Z.options.accessibility&&Z.options.accessibility.description;if(O)return O;O=Z.chart;const H=d(Z),q=Z.points.filter($=>!!$.graphic).map($=>{const M=$.accessibility&&$.accessibility.valueDescription||$.graphic&&$.graphic.element&&$.graphic.element.getAttribute("aria-label")||"";return $=$&&$.series.name||"",($?$+", ":"")+"data point "+M}).filter($=>!!$),L=q.length,R="accessibility.screenReaderSection.annotations.description"+(1<L?"MultiplePoints":L?"SinglePoint":"NoPoints");return Z={annotationText:H,annotation:Z,numPoints:L,annotationPoint:q[0],additionalAnnotationPoints:q.slice(1)},O.langFormat(R,Z)}function n(Z){return c(Z).map(O=>(O=S(z(m(O))))?`<li>${O}</li>`:"")}const{escapeStringForHTML:S,stripHTMLTagsFromString:z}=a;return{getAnnotationsInfoHTML:function(Z){const O=Z.annotations;return O&&O.length?`<ul style="list-style-type: none">${n(Z).join(" ")}</ul>`:""},getAnnotationLabelDescription:m,getAnnotationListItems:n,getPointAnnotationTexts:function(Z){const O=c(Z.series.chart).filter(H=>-1<H.points.indexOf(Z));return O.length?O.map(H=>`${d(H)}`):[]}}}),s(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(a,c,d,m,n,S,z,Z,O,H){function q(D,f){var g=f[0],x=D.series&&D.series[0]||{};if(x={numSeries:D.series.length,numPoints:x.points&&x.points.length,chart:D,mapTitle:D.mapView&&D.mapView.geoMap&&D.mapView.geoMap.title},!g)return D.langFormat("accessibility.chartTypes.emptyChart",x);if(g==="map")return x.mapTitle?D.langFormat("accessibility.chartTypes.mapTypeDescription",x):D.langFormat("accessibility.chartTypes.unknownMap",x);if(1<D.types.length)return D.langFormat("accessibility.chartTypes.combinationChart",x);{f=f[0],g=D.langFormat("accessibility.seriesTypeDescriptions."+f,x);const P=D.series&&2>D.series.length?"Single":"Multiple";D=(D.langFormat("accessibility.chartTypes."+f+P,x)||D.langFormat("accessibility.chartTypes.default"+P,x))+(g?" "+g:"")}return D}const{getAnnotationsInfoHTML:L}=m,{getAxisDescription:R,getAxisRangeDescription:$,getChartTitle:M,unhideChartElementFromAT:E}=S,{format:k}=z,{doc:V}=Z,{addClass:G,getElement:C,getHeadingTagNameForElement:te,stripHTMLTagsFromString:Q,visuallyHideElement:N}=O,{attr:j,pick:W}=H;class w extends c{constructor(){super(...arguments),this.announcer=void 0,this.screenReaderSections={}}init(){const f=this.chart,g=this;this.initRegionsDefinitions(),this.addEvent(f,"aftergetTableAST",function(x){g.onDataTableCreated(x)}),this.addEvent(f,"afterViewData",function(x){x.wasHidden&&(g.dataTableDiv=x.element,setTimeout(function(){g.focusDataTable()},300))}),this.announcer=new d(f,"assertive")}initRegionsDefinitions(){const f=this;this.screenReaderSections={before:{element:null,buildContent:function(g){const x=g.options.accessibility.screenReaderSection.beforeChartFormatter;return x?x(g):f.defaultBeforeChartFormatter(g)},insertIntoDOM:function(g,x){x.renderTo.insertBefore(g,x.renderTo.firstChild)},afterInserted:function(){typeof f.sonifyButtonId<"u"&&f.initSonifyButton(f.sonifyButtonId),typeof f.dataTableButtonId<"u"&&f.initDataTableButton(f.dataTableButtonId)}},after:{element:null,buildContent:function(g){const x=g.options.accessibility.screenReaderSection.afterChartFormatter;return x?x(g):f.defaultAfterChartFormatter()},insertIntoDOM:function(g,x){x.renderTo.insertBefore(g,x.container.nextSibling)},afterInserted:function(){f.chart.accessibility&&f.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){const f=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(g){f.updateScreenReaderSection(g)})}getLinkedDescriptionElement(){var f=this.chart.options.accessibility.linkedDescription;if(f){if(typeof f!="string")return f;if(f=k(f,this.chart),f=V.querySelectorAll(f),f.length===1)return f[0]}}setLinkedDescriptionAttrs(){const f=this.linkedDescriptionElement;f&&(f.setAttribute("aria-hidden","true"),G(f,"highcharts-linked-description"))}updateScreenReaderSection(f){const g=this.chart,x=this.screenReaderSections[f],P=x.buildContent(g),Y=x.element=x.element||this.createElement("div"),ee=Y.firstChild||this.createElement("div");P?(this.setScreenReaderSectionAttribs(Y,f),n.setElementHTML(ee,P),Y.appendChild(ee),x.insertIntoDOM(Y,g),g.styledMode?G(ee,"highcharts-visually-hidden"):N(ee),E(g,ee),x.afterInserted&&x.afterInserted()):(Y.parentNode&&Y.parentNode.removeChild(Y),x.element=null)}setScreenReaderSectionAttribs(f,g){const x=this.chart,P=x.langFormat("accessibility.screenReaderSection."+g+"RegionLabel",{chart:x,chartTitle:M(x)});j(f,{id:`highcharts-screen-reader-region-${g}-${x.index}`,"aria-label":P||void 0}),f.style.position="relative",P&&f.setAttribute("role",x.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){var f=this.chart;const g=f.options.accessibility.screenReaderSection.beforeChartFormat;if(!g)return"";var x=this.getAxesDescription();const P=f.sonify&&f.options.sonification&&f.options.sonification.enabled,Y="highcharts-a11y-sonify-data-btn-"+f.index,ee="hc-linkto-highcharts-data-table-"+f.index,K=L(f),he=f.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:f});return x={headingTagName:te(f.renderTo),chartTitle:M(f),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:x.xAxis,yAxisDescription:x.yAxis,playAsSoundButton:P?this.getSonifyButtonText(Y):"",viewTableButton:f.getCSV?this.getDataTableButtonText(ee):"",annotationsTitle:K?he:"",annotationsList:K},f=a.i18nFormat(g,x,f),this.dataTableButtonId=ee,this.sonifyButtonId=Y,f.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}defaultAfterChartFormatter(){const f=this.chart,g=f.options.accessibility.screenReaderSection.afterChartFormat;if(!g)return"";const x={endOfChartMarker:this.getEndOfChartMarkerText()};return a.i18nFormat(g,x,f).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}getLinkedDescription(){const f=this.linkedDescriptionElement;return Q(f&&f.innerHTML||"")}getLongdescText(){const f=this.chart.options;var g=f.caption;g=g&&g.text;const x=this.getLinkedDescription();return f.accessibility.description||x||g||""}getTypeDescriptionText(){const f=this.chart;return f.types?f.options.accessibility.typeDescription||q(f,f.types):""}getDataTableButtonText(f){var g=this.chart;return g=g.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:g,chartTitle:M(g)}),'<button id="'+f+'">'+g+"</button>"}getSonifyButtonText(f){var g=this.chart;return g.options.sonification&&g.options.sonification.enabled===!1?"":(g=g.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:g,chartTitle:M(g)}),'<button id="'+f+'">'+g+"</button>")}getSubtitleText(){const f=this.chart.options.subtitle;return Q(f&&f.text||"")}getEndOfChartMarkerText(){const f=this.chart,g=f.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:f});return'<div id="highcharts-end-of-chart-marker-'+f.index+'">'+g+"</div>"}onDataTableCreated(f){const g=this.chart;if(g.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");const x=f.tree.attributes||{};x.tabindex=-1,x.summary=g.langFormat("accessibility.table.tableSummary",{chart:g}),f.tree.attributes=x}}focusDataTable(){var f=this.dataTableDiv;(f=f&&f.getElementsByTagName("table")[0])&&f.focus&&f.focus()}initSonifyButton(f){const g=this.sonifyButton=C(f),x=this.chart,P=Y=>{g&&(g.setAttribute("aria-hidden","true"),g.setAttribute("aria-label","")),Y.preventDefault(),Y.stopPropagation(),Y=x.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:x}),this.announcer.announce(Y),setTimeout(()=>{g&&(g.removeAttribute("aria-hidden"),g.removeAttribute("aria-label")),x.sonify&&x.sonify()},1e3)};g&&x&&(g.setAttribute("tabindex",-1),g.onclick=function(Y){(x.options.accessibility&&x.options.accessibility.screenReaderSection.onPlayAsSoundClick||P).call(this,Y,x)})}initDataTableButton(f){const g=this.viewDataTableButton=C(f),x=this.chart;f=f.replace("hc-linkto-",""),g&&(j(g,{tabindex:-1,"aria-expanded":!!C(f)}),g.onclick=x.options.accessibility.screenReaderSection.onViewDataTableClick||function(){x.viewData()})}getAxesDescription(){const f=this.chart;var g=function(ee,K){return ee=f[ee],1<ee.length||ee[0]&&W(ee[0].options.accessibility&&ee[0].options.accessibility.enabled,K)},x=!!f.types&&0>f.types.indexOf("map")&&0>f.types.indexOf("treemap")&&0>f.types.indexOf("tilemap");const P=!!f.hasCartesianSeries,Y=g("xAxis",!f.angular&&P&&x);return g=g("yAxis",P&&x),x={},Y&&(x.xAxis=this.getAxisDescriptionText("xAxis")),g&&(x.yAxis=this.getAxisDescriptionText("yAxis")),x}getAxisDescriptionText(f){const g=this.chart,x=g[f];return g.langFormat("accessibility.axis."+f+"Description"+(1<x.length?"Plural":"Singular"),{chart:g,names:x.map(function(P){return R(P)}),ranges:x.map(function(P){return $(P)}),numAxes:x.length})}destroy(){this.announcer&&this.announcer.destroy()}}return w}),s(t,"Accessibility/Components/MenuComponent.js",[t["Core/Chart/Chart.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,c,d,m,n,S){const{attr:z}=c,{getChartTitle:Z,unhideChartElementFromAT:O}=n,{getFakeMouseEvent:H}=S;class q extends d{init(){const R=this.chart,$=this;this.addEvent(R,"exportMenuShown",function(){$.onMenuShown()}),this.addEvent(R,"exportMenuHidden",function(){$.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){const R=this.chart.exportContextMenu;R&&R.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){const R=this.chart,$=R.exportContextMenu;$&&(this.addAccessibleContextMenuAttribs(),O(R,$)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(R){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",R)}onChartRender(){const R=this.chart,$=R.focusElement,M=R.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&$&&$===R.exportingGroup&&($.focusBorder?R.setFocusToElement($,this.exportButtonProxy.buttonElement):M&&M.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){const R=this.chart,$=this.proxyProvider,M=R.exportSVGElements&&R.exportSVGElements[0];{var E=R.options.exporting;const k=R.exportSVGElements&&R.exportSVGElements[0];E=!!(E&&E.enabled!==!1&&E.accessibility&&E.accessibility.enabled&&k&&k.element)}E&&M&&(this.exportButtonProxy=$.addProxyElement("chartMenu",{click:M},{"aria-label":R.langFormat("accessibility.exporting.menuButtonLabel",{chart:R,chartTitle:Z(R)}),"aria-expanded":!1,title:R.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")}addAccessibleContextMenuAttribs(){const R=this.chart;var $=R.exportDivElements;$&&$.length&&($.forEach(M=>{M&&(M.tagName!=="LI"||M.children&&M.children.length?M.setAttribute("aria-hidden","true"):M.setAttribute("tabindex",-1))}),($=$[0]&&$[0].parentNode)&&z($,{"aria-hidden":void 0,"aria-label":R.langFormat("accessibility.exporting.chartMenuLabel",{chart:R}),role:"list"}))}getKeyboardNavigation(){const R=this.keyCodes,$=this.chart,M=this;return new m($,{keyCodeMap:[[[R.left,R.up],function(){return M.onKbdPrevious(this)}],[[R.right,R.down],function(){return M.onKbdNext(this)}],[[R.enter,R.space],function(){return M.onKbdClick(this)}]],validate:function(){return!!$.exporting&&$.options.exporting.enabled!==!1&&$.options.exporting.accessibility.enabled!==!1},init:function(){const E=M.exportButtonProxy,k=M.chart.exportingGroup;E&&k&&$.setFocusToElement(k,E.buttonElement)},terminate:function(){$.hideExportMenu()}})}onKbdPrevious(R){const $=this.chart,M=$.options.accessibility;R=R.response;let E=$.highlightedExportItemIx||0;for(;E--;)if($.highlightExportItem(E))return R.success;return M.keyboardNavigation.wrapAround?($.highlightLastExportItem(),R.success):R.prev}onKbdNext(R){const $=this.chart,M=$.options.accessibility;R=R.response;for(let E=($.highlightedExportItemIx||0)+1;E<$.exportDivElements.length;++E)if($.highlightExportItem(E))return R.success;return M.keyboardNavigation.wrapAround?($.highlightExportItem(0),R.success):R.next}onKbdClick(R){const $=this.chart,M=$.exportDivElements[$.highlightedExportItemIx],E=($.exportSVGElements&&$.exportSVGElements[0]).element;return $.openMenu?this.fakeClickEvent(M):(this.fakeClickEvent(E),$.highlightExportItem(0)),R.response.success}}return function(L){function R(){var V=this.exportSVGElements&&this.exportSVGElements[0];V&&(V=V.element,V.onclick)&&V.onclick(H("click"))}function $(){const V=this.exportDivElements;V&&this.exportContextMenu&&this.openMenu&&(V.forEach(G=>{G&&G.className==="highcharts-menu-item"&&G.onmouseout&&G.onmouseout(H("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function M(V){const G=this.exportDivElements&&this.exportDivElements[V],C=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(G&&G.tagName==="LI"&&(!G.children||!G.children.length)){const te=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return G.focus&&te&&G.focus(),C&&C.onmouseout&&C.onmouseout(H("mouseout")),G.onmouseover&&G.onmouseover(H("mouseover")),this.highlightedExportItemIx=V,!0}return!1}function E(){if(this.exportDivElements){let V=this.exportDivElements.length;for(;V--;)if(this.highlightExportItem(V))return!0}return!1}const k=[];L.compose=function(V){c.pushUnique(k,V)&&(V=a.prototype,V.hideExportMenu=$,V.highlightExportItem=M,V.highlightLastExportItem=E,V.showExportMenu=R)}}(q||(q={})),q}),s(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,c,d,m,n){const{doc:S,win:z}=a,{addEvent:Z,fireEvent:O}=d,{getElement:H,simulatedEventTarget:q}=n;class L{constructor($,M){this.components=this.chart=void 0,this.currentModuleIx=NaN,this.exitAnchor=this.eventProvider=void 0,this.modules=[],this.tabindexContainer=void 0,this.init($,M)}init($,M){const E=this.eventProvider=new m;this.chart=$,this.components=M,this.modules=[],this.currentModuleIx=0,this.update(),E.addEvent(this.tabindexContainer,"keydown",k=>this.onKeydown(k)),E.addEvent(this.tabindexContainer,"focus",k=>this.onFocus(k)),["mouseup","touchend"].forEach(k=>E.addEvent(S,k,V=>this.onMouseUp(V))),["mousedown","touchstart"].forEach(k=>E.addEvent($.renderTo,k,()=>{this.isClickingChart=!0}))}update($){var M=this.chart.options.accessibility;M=M&&M.keyboardNavigation;const E=this.components;this.updateContainerTabindex(),M&&M.enabled&&$&&$.length?(this.modules=$.reduce(function(k,V){return V=E[V].getKeyboardNavigation(),k.concat(V)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){const $=H(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),$?(this.makeElementAnExitAnchor($),this.exitAnchor=$):this.createExitAnchor()}move($){var M=this.modules&&this.modules[this.currentModuleIx];if(M&&M.terminate&&M.terminate($),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=$,M=this.modules&&this.modules[this.currentModuleIx]){if(M.validate&&!M.validate())return this.move($);if(M.init)return M.init($),!0}return this.currentModuleIx=0,this.exiting=!0,0<$?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus($){var M=this.chart;$=$.relatedTarget&&M.container.contains($.relatedTarget),!(M=(M=M.options.accessibility)&&M.keyboardNavigation)||!M.enabled||this.exiting||this.tabbingInBackwards||this.isClickingChart||$||($=this.getFirstValidModuleIx(),$!==null&&(this.currentModuleIx=$,this.modules[$].init(1))),this.exiting=!1}onMouseUp($){if(delete this.isClickingChart,!this.keyboardReset&&$.relatedTarget!==q){const M=this.chart;$.target&&M.container.contains($.target)||(($=this.modules&&this.modules[this.currentModuleIx||0])&&$.terminate&&$.terminate(),this.currentModuleIx=0),M.focusElement&&(M.focusElement.removeFocusBorder(),delete M.focusElement),this.keyboardReset=!0}}onKeydown($){$=$||z.event;const M=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let E;if(this.exiting=this.keyboardReset=!1,M){const k=M.run($);k===M.response.success?E=!0:k===M.response.prev?E=this.move(-1):k===M.response.next&&(E=this.move(1)),E&&($.preventDefault(),$.stopPropagation())}}updateContainerTabindex(){var $=this.chart.options.accessibility;$=$&&$.keyboardNavigation,$=!($&&$.enabled===!1);const M=this.chart;var E=M.container;M.renderTo.hasAttribute("tabindex")&&(E.removeAttribute("tabindex"),E=M.renderTo),this.tabindexContainer=E;const k=E.getAttribute("tabindex");$&&!k?E.setAttribute("tabindex","0"):$||M.container.removeAttribute("tabindex")}createExitAnchor(){const $=this.chart,M=this.exitAnchor=S.createElement("div");$.renderTo.appendChild(M),this.makeElementAnExitAnchor(M)}makeElementAnExitAnchor($){const M=this.tabindexContainer.getAttribute("tabindex")||0;$.setAttribute("class","highcharts-exit-anchor"),$.setAttribute("tabindex",M),$.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl($)}removeExitAnchor(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)}addExitAnchorEventsToEl($){const M=this.chart,E=this;this.eventProvider.addEvent($,"focus",function(k){k=k||z.event;const V=!(k.relatedTarget&&M.container.contains(k.relatedTarget)||E.exiting);M.focusElement&&delete M.focusElement,V?(E.tabbingInBackwards=!0,E.tabindexContainer.focus(),delete E.tabbingInBackwards,k.preventDefault(),E.modules&&E.modules.length&&(E.currentModuleIx=E.modules.length-1,(k=E.modules[E.currentModuleIx])&&k.validate&&!k.validate()?E.move(-1):k&&k.init(-1))):E.exiting=!1})}getFirstValidModuleIx(){const $=this.modules.length;for(let M=0;M<$;++M){const E=this.modules[M];if(!E.validate||E.validate())return M}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(R){function $(){const k=this;O(this,"dismissPopupContent",{},function(){k.tooltip&&k.tooltip.hide(0),k.hideExportMenu()})}function M(k){(k.which||k.keyCode)===27&&a.charts&&a.charts.forEach(V=>{V&&V.dismissPopupContent&&V.dismissPopupContent()})}const E=[];R.compose=function(k){return c.compose(k),d.pushUnique(E,k)&&(k.prototype.dismissPopupContent=$),d.pushUnique(E,S)&&Z(S,"keydown",M),k}}(L||(L={})),L}),s(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,c,d,m,n,S,z,Z){function O(N){const j=N.legend&&N.legend.allItems,W=N.options.legend.accessibility||{};return N=N.colorAxis&&N.colorAxis.some(w=>!w.dataClasses||!w.dataClasses.length),!(!j||!j.length||N||W.enabled===!1)}function H(N,j){const W=j.legendItem||{};j.setState(N?"hover":"",!0);for(const w of["group","label","symbol"])(j=(j=W[w])&&j.element||j)&&$(j,N?"mouseover":"mouseout")}const{animObject:q}=a,{doc:L}=c,{addEvent:R,fireEvent:$,isNumber:M,pick:E,syncTimeout:k}=m,{getChartTitle:V}=z,{stripHTMLTagsFromString:G,addClass:C,removeClass:te}=Z;class Q extends n{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){const j=this;this.recreateProxies(),this.addEvent(d,"afterScroll",function(){this.chart===j.chart&&(j.proxyProvider.updateGroupProxyElementPositions("legend"),j.updateLegendItemProxyVisibility(),-1<j.highlightedLegendItemIx&&this.chart.highlightLegendItem(j.highlightedLegendItemIx))}),this.addEvent(d,"afterPositionItem",function(W){this.chart===j.chart&&this.chart.renderer&&j.updateProxyPositionForItem(W.item)}),this.addEvent(d,"afterRender",function(){this.chart===j.chart&&this.chart.renderer&&j.recreateProxies()&&k(()=>j.proxyProvider.updateGroupProxyElementPositions("legend"),q(E(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){const j=this.chart,W=j.legend,w=W.currentPage||1,D=W.clipHeight||0;let f;(W.allItems||[]).forEach(g=>{if(g.a11yProxyElement){var x=W.pages&&W.pages.length;const Y=g.a11yProxyElement.element;var P=!1;f=g.legendItem||{},x&&(g=f.pageIx||0,x=f.y||0,P=f.label?Math.round(f.label.getBBox().height):0,P=x+P-W.pages[g]>D||g!==w-1),P?j.styledMode?C(Y,"highcharts-a11y-invisible"):Y.style.visibility="hidden":(te(Y,"highcharts-a11y-invisible"),Y.style.visibility="")}})}onChartRender(){O(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(j){const W=this.chart;var w=W.legend;j=(w.currentPage||1)+j;var D=w.pages||[];if(0<j&&j<=D.length){D=0;for(const f of w.allItems)((f.legendItem||{}).pageIx||0)+1===j&&(w=W.highlightLegendItem(D))&&(this.highlightedLegendItemIx=D),++D}}updateProxyPositionForItem(j){j.a11yProxyElement&&j.a11yProxyElement.refreshPosition()}recreateProxies(){var j=L.activeElement;const W=this.proxyGroup;return j=j&&W&&W.contains(j),this.removeProxies(),O(this.chart)?(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),j&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0):!1}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){var j=this.chart;const W=G((j.legend&&j.legend.options.title&&j.legend.options.title.text||"").replace(/<br ?\/?>/g," "));j=j.langFormat("accessibility.legend.legendLabel"+(W?"":"NoTitle"),{chart:j,legendTitle:W,chartTitle:V(j)}),this.proxyProvider.updateGroupAttrs("legend",{"aria-label":j})}addLegendProxyGroup(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null})}proxyLegendItems(){const j=this;let W;((this.chart.legend||{}).allItems||[]).forEach(w=>{W=w.legendItem||{},W.label&&W.label.element&&j.proxyLegendItem(w)})}proxyLegendItem(j){const W=j.legendItem||{};if(W.label&&W.group){var w=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:G(j.name),item:j});j.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:W.label,visual:(W.group.div?W.label:W.group).element},{tabindex:-1,"aria-pressed":j.visible,"aria-label":w})}}getKeyboardNavigation(){const j=this.keyCodes,W=this,w=this.chart;return new S(w,{keyCodeMap:[[[j.left,j.right,j.up,j.down],function(D){return W.onKbdArrowKey(this,D)}],[[j.enter,j.space],function(){return W.onKbdClick(this)}],[[j.pageDown,j.pageUp],function(D){return W.highlightAdjacentLegendPage(D===j.pageDown?1:-1),this.response.success}]],validate:function(){return W.shouldHaveLegendNavigation()},init:function(){w.highlightLegendItem(0),W.highlightedLegendItemIx=0},terminate:function(){W.highlightedLegendItemIx=-1,w.legend.allItems.forEach(D=>H(!1,D))}})}onKbdArrowKey(j,W){const w=this.keyCodes,D=j.response,f=this.chart,g=f.options.accessibility,x=f.legend.allItems.length;return W=W===w.left||W===w.up?-1:1,f.highlightLegendItem(this.highlightedLegendItemIx+W)?(this.highlightedLegendItemIx+=W,D.success):(1<x&&g.keyboardNavigation.wrapAround&&j.init(W),D.success)}onKbdClick(j){const W=this.chart.legend.allItems[this.highlightedLegendItemIx];return W&&W.a11yProxyElement&&W.a11yProxyElement.click(),j.response.success}shouldHaveLegendNavigation(){if(!O(this.chart))return!1;const j=this.chart,W=(j.options.legend||{}).accessibility||{};return!!(j.legend.display&&W.keyboardNavigation&&W.keyboardNavigation.enabled)}}return function(N){function j(D){var f=this.legend.allItems,g=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx;const x=f[D];var P=x.legendItem||{};return x?(M(g)&&f[g]&&H(!1,f[g]),f=this.legend,D=(f.allItems[D].legendItem||{}).pageIx,g=f.currentPage,typeof D<"u"&&D+1!==g&&f.scroll(1+D-g),P=P.label,D=x.a11yProxyElement&&x.a11yProxyElement.buttonElement,P&&P.element&&D&&this.setFocusToElement(P,D),H(!0,x),!0):!1}function W(D){const f=D.item;this.chart.options.accessibility.enabled&&f&&f.a11yProxyElement&&f.a11yProxyElement.buttonElement.setAttribute("aria-pressed",D.visible?"true":"false")}const w=[];N.compose=function(D,f){m.pushUnique(w,D)&&(D.prototype.highlightLegendItem=j),m.pushUnique(w,f)&&R(f,"afterColorizeItem",W)}}(Q||(Q={})),Q}),s(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(a,c,d,m,n){function S(x){const P=x.index;return x.series&&x.series.data&&g(P)&&w(x.series.data,function(Y){return!!(Y&&typeof Y.index<"u"&&Y.index>P&&Y.graphic&&Y.graphic.element)})||null}function z(x){const P=x.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(P!==!1&&x.points&&x.points.length>=P)}function Z(x){const P=x.options.accessibility||{};return!z(x)&&!P.exposeAsGroupOnly}function O(x){const P=x.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!x.points||!(x.points.length<P.pointNavigationEnabledThreshold||P.pointNavigationEnabledThreshold===!1))}function H(x,P){var Y=x.series,ee=Y.chart;x=ee.options.accessibility.point||{};const K=Y.options.accessibility&&Y.options.accessibility.point||{};return Y=Y.tooltipOptions||{},ee=ee.options.lang,D(P)?N(P,K.valueDecimals||x.valueDecimals||Y.valueDecimals||-1,ee.decimalPoint,ee.accessibility.thousandsSep||ee.thousandsSep):P}function q(x){const P=(x.options.accessibility||{}).description;return P&&x.chart.langFormat("accessibility.series.description",{description:P,series:x})||""}function L(x,P){return x.chart.langFormat("accessibility.series."+P+"Description",{name:V(x[P]),series:x})}function R(x,P,Y){const ee=P||"",K=Y||"";return x.series.pointArrayMap.reduce(function(he,ge){{const Ee=H(x,f(x[ge],x.options[ge]));ge=Ee!==void 0?ge+": "+ee+Ee+K:Ee}return ge?he+(he.length?", ":"")+ge:he},"")}function $(x){var P=x.series,Y=1<P.chart.series.length||P.options.name,ee=x.series,K=ee.chart,he=ee.options.accessibility;if(he=he&&he.point&&he.point.valueDescriptionFormat||K.options.accessibility.point.valueDescriptionFormat,ee=f(ee.xAxis&&ee.xAxis.options.accessibility&&ee.xAxis.options.accessibility.enabled,!K.angular&&ee.type!=="flowmap"),ee){var ge=x.series,Ee=ge.chart,J=ge.options.accessibility&&ge.options.accessibility.point||{},oe=Ee.options.accessibility.point||{};(ge=ge.xAxis&&ge.xAxis.dateTime)?(ge=ge.getXDateFormat(x.x||0,Ee.options.tooltip.dateTimeLabelFormats),J=J.dateFormatter&&J.dateFormatter(x)||oe.dateFormatter&&oe.dateFormatter(x)||J.dateFormat||oe.dateFormat||ge,Ee=Ee.time.dateFormat(J,x.x||0,void 0)):Ee=void 0,J=(x.series.xAxis||{}).categories&&g(x.category)&&(""+x.category).replace("<br/>"," "),oe=g(x.id)&&0>(""+x.id).indexOf("highcharts-"),ge="x, "+x.x,Ee=x.name||Ee||J||(oe?x.id:ge)}else Ee="";J=Ee,Ee=g(x.index)?x.index+1:"";{oe=x.series;var ce=oe.chart.options.accessibility.point||{},pe=oe.chart.options.accessibility&&oe.chart.options.accessibility.point||{};const Ce=oe.tooltipOptions||{};ge=pe.valuePrefix||ce.valuePrefix||Ce.valuePrefix||"",ce=pe.valueSuffix||ce.valueSuffix||Ce.valueSuffix||"",pe=H(x,x[typeof x.value<"u"?"value":"y"]),oe=x.isNull?oe.chart.langFormat("accessibility.series.nullPointValue",{point:x}):oe.pointArrayMap?R(x,ge,ce):ge+pe+ce}return K=Q(he,{point:x,index:Ee,xDescription:J,value:oe,separator:ee?", ":""},K),he=(he=x.options&&x.options.accessibility&&x.options.accessibility.description)?" "+he:"",P=Y?" "+P.name+".":"",Y=x.series.chart,ee=k(x),Ee={point:x,annotations:ee},Y=ee.length?Y.langFormat("accessibility.series.pointAnnotationsDescription",Ee):"",x.accessibility=x.accessibility||{},x.accessibility.valueDescription=K,K+he+P+(Y?" "+Y:"")}function M(x){const P=Z(x),Y=O(x),ee=x.chart.options.accessibility.point.describeNull;(P||Y)&&x.points.forEach(K=>{var he;if(!(he=K.graphic&&K.graphic.element)){var ge=K.series;if(he=ge&&ge.chart,ge=ge&&ge.is("sunburst"),he=he&&he.options.accessibility.point.describeNull,he=K.isNull&&!ge&&he){ge=K.series;var Ee=S(K);ge=(he=Ee&&Ee.graphic)?he.parentGroup:ge.graph||ge.group,Ee=Ee?{x:f(K.plotX,Ee.plotX,0),y:f(K.plotY,Ee.plotY,0)}:{x:f(K.plotX,0),y:f(K.plotY,0)},Ee=K.series.chart.renderer.rect(Ee.x,Ee.y,1,1),Ee.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),ge&&ge.element?(K.graphic=Ee,K.hasMockGraphic=!0,Ee.add(ge),ge.element.insertBefore(Ee.element,he?he.element:null),he=Ee.element):he=void 0}}ge=K.options&&K.options.accessibility&&K.options.accessibility.enabled===!1,he&&(K.isNull&&!ee?he.setAttribute("aria-hidden",!0):(he.setAttribute("tabindex","-1"),x.chart.styledMode||(he.style.outline="none"),P&&!ge?(Ee=K.series,ge=Ee.chart.options.accessibility.point||{},Ee=Ee.options.accessibility&&Ee.options.accessibility.point||{},K=W(Ee.descriptionFormatter&&Ee.descriptionFormatter(K)||ge.descriptionFormatter&&ge.descriptionFormatter(K)||$(K)),he.setAttribute("role","img"),he.setAttribute("aria-label",K)):he.setAttribute("aria-hidden",!0)))})}function E(x){const P=x.chart;var Y=P.types||[];const ee=q(x);var K=function(oe){return P[oe]&&1<P[oe].length&&x[oe]};const he=x.index+1;var ge=L(x,"xAxis");const Ee=L(x,"yAxis");var J={seriesNumber:he,series:x,chart:P};return Y=1<Y.length?"Combination":"",J=P.langFormat("accessibility.series.summary."+x.type+Y,J)||P.langFormat("accessibility.series.summary.default"+Y,J),K=(K("yAxis")?" "+Ee+".":"")+(K("xAxis")?" "+ge+".":""),ge=f(x.options.accessibility&&x.options.accessibility.descriptionFormat,P.options.accessibility.series.descriptionFormat,""),Q(ge,{seriesDescription:J,authorDescription:ee?" "+ee:"",axisDescription:K,series:x,chart:P,seriesNumber:he},void 0)}const{getPointAnnotationTexts:k}=a,{getAxisDescription:V,getSeriesFirstPointElement:G,getSeriesA11yElement:C,unhideChartElementFromAT:te}=c,{format:Q,numberFormat:N}=d,{reverseChildNodes:j,stripHTMLTagsFromString:W}=m,{find:w,isNumber:D,pick:f,defined:g}=n;return{defaultPointDescriptionFormatter:$,defaultSeriesDescriptionFormatter:E,describeSeries:function(x){var P=x.chart,Y=G(x);const ee=C(x);var K=P.is3d&&P.is3d();if(ee){ee.lastChild!==Y||K||j(ee),M(x),te(P,ee);{K=x.chart,P=K.options.chart,Y=1<K.series.length,K=K.options.accessibility.series.describeSingleSeries;const he=(x.options.accessibility||{}).exposeAsGroupOnly;P=!(P.options3d&&P.options3d.enabled&&Y)&&(Y||K||he||z(x))}P?(P=x.chart.options.accessibility,Y=P.landmarkVerbosity,(x.options.accessibility||{}).exposeAsGroupOnly?ee.setAttribute("role","img"):Y==="all"?ee.setAttribute("role","region"):ee.setAttribute("role","group"),ee.setAttribute("tabindex","-1"),x.chart.styledMode||(ee.style.outline="none"),ee.setAttribute("aria-label",W(P.series.descriptionFormatter&&P.series.descriptionFormatter(x)||E(x)))):ee.removeAttribute("aria-label")}}}}),s(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(a,c,d,m,n,S){function z(M){const E=M.series.data.filter(k=>M.x===k.x&&M.y===k.y);return E.length===1?E[0]:M}function Z(M,E){const k=(M||[]).concat(E||[]).reduce((V,G)=>(V[G.name+G.index]=G,V),{});return Object.keys(k).map(V=>k[V])}const{addEvent:O,defined:H}=c,{getChartTitle:q}=m,{defaultPointDescriptionFormatter:L,defaultSeriesDescriptionFormatter:R}=S;class ${constructor(E){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=E}init(){const E=this.chart,k=E.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new n,this.announcer=new d(E,k),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){const E=this,k=this.chart,V=this.eventProvider;V.addEvent(k,"afterApplyDrilldown",function(){E.lastAnnouncementTime=0}),V.addEvent(k,"afterAddSeries",function(G){E.onSeriesAdded(G.series)}),V.addEvent(k,"redraw",function(){E.announceDirtyData()})}onSeriesAdded(E){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[E.name+E.index]=E,this.dirty.newSeries=H(this.dirty.newSeries)?void 0:E)}announceDirtyData(){const E=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){let k=this.dirty.newPoint;k&&(k=z(k)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(V=>E.dirty.allSeries[V]),this.dirty.newSeries,k),this.dirty={allSeries:{}}}}queueAnnouncement(E,k,V){var G=this.chart.options.accessibility.announceNewData;if(G.enabled){const C=+new Date;G=Math.max(0,G.minAnnounceInterval-(C-this.lastAnnouncementTime)),E=Z(this.queuedAnnouncement&&this.queuedAnnouncement.series,E),(k=this.buildAnnouncementMessage(E,k,V))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:C,message:k,series:E},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},G))}}buildAnnouncementMessage(E,k,V){const G=this.chart;var C=G.options.accessibility.announceNewData;return C.announcementFormatter&&(E=C.announcementFormatter(E,k,V),E!==!1)?E.length?E:null:(E=a.charts&&1<a.charts.length?"Multiple":"Single",E=k?"newSeriesAnnounce"+E:V?"newPointAnnounce"+E:"newDataAnnounce",C=q(G),G.langFormat("accessibility.announceNewData."+E,{chartTitle:C,seriesDesc:k?R(k):null,pointDesc:V?L(V):null,point:V,series:k}))}}return function(M){function E(V){const G=this.chart,C=this.newDataAnnouncer;C&&C.chart===G&&G.options.accessibility.announceNewData.enabled&&(C.dirty.newPoint=H(C.dirty.newPoint)?void 0:V.point)}function k(){const V=this.chart,G=this.newDataAnnouncer;G&&G.chart===V&&V.options.accessibility.announceNewData.enabled&&(G.dirty.hasDirty=!0,G.dirty.allSeries[this.name+this.index]=this)}M.composedMembers=[],M.compose=function(V){c.pushUnique(M.composedMembers,V)&&(O(V,"addPoint",E),O(V,"updatedData",k))}}($||($={})),$}),s(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(a,c,d,m,n){const{doc:S}=a,{attr:z,css:Z,merge:O}=c,{fireEventOnWrappedOrUnwrappedElement:H}=m,{cloneMouseEvent:q,cloneTouchEvent:L,getFakeMouseEvent:R,removeElement:$}=n;class M{constructor(k,V,G,C){this.chart=k,this.target=V,this.groupType=G,G=G==="ul",this.eventProvider=new d;const te=G?S.createElement("li"):null,Q=this.buttonElement=S.createElement("button");k.styledMode||this.hideButtonVisually(Q),te?(G&&!k.styledMode&&(te.style.listStyle="none"),te.appendChild(Q),this.element=te):this.element=Q,this.updateTarget(V,C)}click(){var k=this.getTargetPosition();k.x+=k.width/2,k.y+=k.height/2,k=R("click",k),H(this.target.click,k)}updateTarget(k,V){this.target=k,this.updateCSSClassName();const G=V||{};Object.keys(G).forEach(C=>{G[C]===null&&delete G[C]}),z(this.buttonElement,O({"aria-label":this.getTargetAttr(k.click,"aria-label")},G)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,k.click),this.refreshPosition()}refreshPosition(){const k=this.getTargetPosition();Z(this.buttonElement,{width:(k.width||1)+"px",height:(k.height||1)+"px",left:(Math.round(k.x)||0)+"px",top:(Math.round(k.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),$(this.element)}updateCSSClassName(){var k=this.chart.legend;k=k.group&&k.group.div,k=-1<(k&&k.className||"").indexOf("highcharts-no-tooltip");const V=-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip");this.buttonElement.className=k||V?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"}addProxyEventsToButton(k,V){"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(G=>{const C=G.indexOf("touch")===0;this.eventProvider.addEvent(k,G,te=>{const Q=C?L(te):q(te);V&&H(V,Q),te.stopPropagation(),C||te.preventDefault()},{passive:!1})})}hideButtonVisually(k){Z(k,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){var k=this.target.click;if(k=k.element?k.element:k,k=this.target.visual||k,this.chart.renderTo&&k&&k.getBoundingClientRect){k=k.getBoundingClientRect();const V=this.chart.pointer.getChartPosition();return{x:(k.left-V.left)/V.scaleX,y:(k.top-V.top)/V.scaleY,width:k.right/V.scaleX-k.left/V.scaleX,height:k.bottom/V.scaleY-k.top/V.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(k,V){return k.element?k.element.getAttribute(V):k.getAttribute(V)}}return M}),s(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],function(a,c,d,m,n,S){const{doc:z}=a,{attr:Z,css:O}=c,{unhideChartElementFromAT:H}=d,{removeElement:q,removeChildNodes:L}=n;class R{constructor(M){this.chart=M,this.domElementProvider=new m,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(M,E,k){const V=this.groups[M];if(!V)throw Error("ProxyProvider.addProxyElement: Invalid group key "+M);return M=new S(this.chart,E,V.type,k),V.proxyContainerElement.appendChild(M.element),V.proxyElements.push(M),M}addGroup(M,E,k){var V=this.groups[M];if(V)return V.groupElement;V=this.domElementProvider.createElement(E);let G;return k&&k.role&&E!=="div"?(G=this.domElementProvider.createElement("div"),G.appendChild(V)):G=V,G.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+M.replace(/\W/g,"-"),this.groups[M]={proxyContainerElement:V,groupElement:G,type:E,proxyElements:[]},Z(G,k||{}),E==="ul"&&V.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(G),this.updateGroupOrder(this.groupOrder),G}updateGroupAttrs(M,E){const k=this.groups[M];if(!k)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+M);Z(k.groupElement,E)}updateGroupOrder(M){if(this.groupOrder=M.slice(),!this.isDOMOrderGroupOrder()){var E=M.indexOf("series"),k=-1<E?M.slice(0,E):M,V=-1<E?M.slice(E+1):[];M=z.activeElement,["before","after"].forEach(G=>{const C=this[G==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];G=G==="before"?k:V,L(C),G.forEach(te=>{(te=this.groups[te])&&C.appendChild(te.groupElement)})}),(this.beforeChartProxyPosContainer.contains(M)||this.afterChartProxyPosContainer.contains(M))&&M&&M.focus&&M.focus()}}clearGroup(M){const E=this.groups[M];if(!E)throw Error("ProxyProvider.clearGroup: Invalid group key "+M);L(E.proxyContainerElement)}removeGroup(M){const E=this.groups[M];E&&(q(E.groupElement),delete this.groups[M])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(M){(M=this.groups[M])&&M.proxyElements.forEach(E=>E.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(M){const E=this.domElementProvider.createElement("div");return E.setAttribute("aria-hidden","false"),E.className="highcharts-a11y-proxy-container"+(M?"-"+M:""),O(E,{top:"0",left:"0"}),this.chart.styledMode||(E.style.whiteSpace="nowrap",E.style.position="absolute"),E}getCurrentGroupOrderInDOM(){const M=V=>{const G=Object.keys(this.groups);let C=G.length;for(;C--;){const te=G[C],Q=this.groups[te];if(Q&&V===Q.groupElement)return te}};var E=V=>{const G=[];V=V.children;for(let C=0;C<V.length;++C){const te=M(V[C]);te&&G.push(te)}return G};const k=E(this.beforeChartProxyPosContainer);return E=E(this.afterChartProxyPosContainer),k.push("series"),k.concat(E)}isDOMOrderGroupOrder(){const M=this.getCurrentGroupOrderInDOM(),E=this.groupOrder.filter(V=>V==="series"||!!this.groups[V]);let k=M.length;if(k!==E.length)return!1;for(;k--;)if(M[k]!==E[k])return!1;return!0}updatePosContainerPositions(){const M=this.chart;if(!M.renderer.forExport){var E=M.renderer.box;M.container.insertBefore(this.afterChartProxyPosContainer,E.nextSibling),M.container.insertBefore(this.beforeChartProxyPosContainer,E),H(this.chart,this.afterChartProxyPosContainer),H(this.chart,this.beforeChartProxyPosContainer)}}}return R}),s(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),s(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(a,c,d){function m(){const j=this.range,W=j.type,w=this.max,D=this.chart.time,f=function(Y,ee){const K=W==="year"?"FullYear":"Month",he=new D.Date(Y),ge=D.get(K,he);return D.set(K,he,ge+ee),ge===D.get(K,he)&&D.set("Date",he,0),he.getTime()-Y};let g,x;V(j)?(g=w-j,x=j):j&&(g=w+f(w,-(j.count||1)),this.chart&&(this.chart.fixedRange=w-g));const P=C(this.dataMin,Number.MIN_VALUE);return V(g)||(g=P),g<=P&&(g=P,typeof x>"u"&&(x=f(g,j.count)),this.newMax=Math.min(g+x,C(this.dataMax,Number.MAX_VALUE))),V(w)?!V(j)&&j&&j._offsetMin&&(g+=j._offsetMin):g=void 0,g}function n(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new N(this))}function S(){var j=this.axes;const W=this.rangeSelector;W&&(V(W.deferredYTDClick)&&(W.clickButton(W.deferredYTDClick),delete W.deferredYTDClick),j.forEach(w=>{w.updateNames(),w.setScale()}),this.getAxisMargins(),W.render(),j=W.options.verticalAlign,W.options.floating||(j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0)))}function z(j){let W,w,D,f;const g=j.rangeSelector,x=()=>{g&&(W=j.xAxis[0].getExtremes(),w=j.legend,f=g&&g.options.verticalAlign,V(W.min)&&g.render(W.min,W.max),w.display&&f==="top"&&f===w.options.verticalAlign&&(D=G(j.spacingBox),D.y=w.options.layout==="vertical"?j.plotTop:D.y+g.getHeight(),w.group.placed=!1,w.align(D)))};g&&(k(te,P=>P[0]===j)||te.push([j,[$(j.xAxis[0],"afterSetExtremes",function(P){g&&g.render(P.min,P.max)}),$(j,"redraw",x)]]),x())}function Z(){for(let j=0,W=te.length;j<W;++j){const w=te[j];if(w[0]===this){w[1].forEach(D=>D()),te.splice(j,1);break}}}function O(){var j=this.rangeSelector;j&&(j=j.getHeight(),this.extraTopMargin&&(this.plotTop+=j),this.extraBottomMargin&&(this.marginBottom+=j))}function H(){var j=this.rangeSelector;j&&!j.options.floating&&(j.render(),j=j.options.verticalAlign,j==="bottom"?this.extraBottomMargin=!0:j!=="middle"&&(this.extraTopMargin=!0))}function q(j){var W=j.options.rangeSelector;j=this.extraBottomMargin;const w=this.extraTopMargin;let D=this.rangeSelector;W&&W.enabled&&!M(D)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=D=new N(this)),this.extraTopMargin=this.extraBottomMargin=!1,D&&(z(this),W=W&&W.verticalAlign||D.options&&D.options.verticalAlign,D.options.floating||(W==="bottom"?this.extraBottomMargin=!0:W!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==j||this.extraTopMargin!==w)&&(this.isDirtyBox=!0)}const{defaultOptions:L,setOptions:R}=a,{addEvent:$,defined:M,extend:E,find:k,isNumber:V,merge:G,pick:C}=d,te=[],Q=[];let N;return{compose:function(j,W,w){N=w,d.pushUnique(Q,j)&&(j.prototype.minFromRange=m),d.pushUnique(Q,W)&&($(W,"afterGetContainer",n),$(W,"beforeRender",S),$(W,"destroy",Z),$(W,"getMargins",O),$(W,"render",H),$(W,"update",q),W.prototype.callbacks.push(z)),d.pushUnique(Q,R)&&(E(L,{rangeSelector:c.rangeSelector}),E(L.lang,c.lang))}}}),s(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(a,c,d,m,n,S){function z(W){if(W.indexOf("%L")!==-1)return"text";const w="aAdewbBmoyY".split("").some(f=>W.indexOf("%"+f)!==-1),D="HkIlMS".split("").some(f=>W.indexOf("%"+f)!==-1);return w&&D?"datetime-local":w?"date":D?"time":"text"}const{defaultOptions:Z}=c,{addEvent:O,createElement:H,css:q,defined:L,destroyObjectProperties:R,discardElement:$,extend:M,fireEvent:E,isNumber:k,merge:V,objectEach:G,pad:C,pick:te,pInt:Q,splat:N}=S;class j{static compose(w,D){m.compose(w,D,j)}constructor(w){this.buttons=void 0,this.buttonOptions=j.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=w,this.init(w)}clickButton(w,D){const f=this.chart,g=this.buttonOptions[w],x=f.xAxis[0];var P=f.scroller&&f.scroller.getUnionExtremes()||x||{},Y=g.type;const ee=g.dataGrouping;let K=P.dataMin,he=P.dataMax,ge,Ee=x&&Math.round(Math.min(x.max,te(he,x.max))),J;P=g._range;let oe,ce,pe,Ce=!0;if(K!==null&&he!==null){if(f.fixedRange=P,this.setSelected(w),ee&&(this.forcedDataGrouping=!0,a.prototype.setDataGrouping.call(x||{chart:this.chart},ee,!1),this.frozenStates=g.preserveDataGrouping),Y==="month"||Y==="year")x?(Y={range:g,max:Ee,chart:f,dataMin:K,dataMax:he},ge=x.minFromRange.call(Y),k(Y.newMax)&&(Ee=Y.newMax),Ce=!1):P=g;else if(P)ge=Math.max(Ee-P,K),Ee=Math.min(ge+P,he),Ce=!1;else if(Y==="ytd")if(x)(typeof he>"u"||typeof K>"u")&&(K=Number.MAX_VALUE,he=Number.MIN_VALUE,f.series.forEach(ne=>{(ne=ne.xData)&&(K=Math.min(ne[0],K),he=Math.max(ne[ne.length-1],he))}),D=!1),Y=this.getYTDExtremes(he,K,f.time.useUTC),ge=oe=Y.min,Ee=Y.max;else{this.deferredYTDClick=w;return}else Y==="all"&&x&&(f.navigator&&f.navigator.baseSeries[0]&&(f.navigator.baseSeries[0].xAxis.options.range=void 0),ge=K,Ee=he);Ce&&g._offsetMin&&L(ge)&&(ge+=g._offsetMin),g._offsetMax&&L(Ee)&&(Ee+=g._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=w+1),x?x.setExtremes(ge,Ee,te(D,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:g}):(J=N(f.options.xAxis)[0],pe=J.range,J.range=P,ce=J.min,J.min=oe,O(f,"load",function(){J.range=pe,J.min=ce})),E(this,"afterBtnClick")}}setSelected(w){this.selected=this.options.selected=w}init(w){const D=this,f=w.options.rangeSelector,g=f.buttons||D.defaultButtons.slice(),x=f.selected,P=function(){const Y=D.minInput,ee=D.maxInput;Y&&Y.blur&&E(Y,"blur"),ee&&ee.blur&&E(ee,"blur")};D.chart=w,D.options=f,D.buttons=[],D.buttonOptions=g,this.eventsToUnbind=[],this.eventsToUnbind.push(O(w.container,"mousedown",P)),this.eventsToUnbind.push(O(w,"resize",P)),g.forEach(D.computeButtonRange),typeof x<"u"&&g[x]&&this.clickButton(x,!1),this.eventsToUnbind.push(O(w,"load",function(){w.xAxis&&w.xAxis[0]&&O(w.xAxis[0],"setExtremes",function(Y){this.max-this.min!==w.fixedRange&&Y.trigger!=="rangeSelectorButton"&&Y.trigger!=="updatedData"&&D.forcedDataGrouping&&!D.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const w=this;var D=this.chart;const f=this.dropdown,g=D.xAxis[0],x=Math.round(g.max-g.min),P=!g.hasVisibleSeries,Y=D.scroller&&D.scroller.getUnionExtremes()||g,ee=Y.dataMin,K=Y.dataMax;D=w.getYTDExtremes(K,ee,D.time.useUTC);const he=D.min,ge=D.max,Ee=w.selected,J=w.options.allButtonsEnabled,oe=w.buttons;let ce=k(Ee);w.buttonOptions.forEach((pe,Ce)=>{var ne=pe._range,ye=pe.type,_e=pe.count||1;const ae=oe[Ce],me=pe._offsetMax-pe._offsetMin,we=Ce===Ee,Re=ne>K-ee,Le=ne<g.minRange;pe=0;let Ge=!1,rt=!1;ne=ne===x,(ye==="month"||ye==="year")&&x+36e5>=864e5*{month:28,year:365}[ye]*_e-me&&x-36e5<=864e5*{month:31,year:366}[ye]*_e+me?ne=!0:ye==="ytd"?(ne=ge-he+me===x,Ge=!we):ye==="all"&&(ne=g.max-g.min>=K-ee,rt=!we&&ce&&ne),ye=!J&&(Re||Le||rt||P),_e=we&&ne||ne&&!ce&&!Ge||we&&w.frozenStates,ye?pe=3:_e&&(ce=!0,pe=2),ae.state!==pe&&(ae.setState(pe),f&&(f.options[Ce+1].disabled=ye,pe===2&&(f.selectedIndex=Ce+1)),pe===0&&Ee===Ce&&w.setSelected())})}computeButtonRange(w){const D=w.type,f=w.count||1,g={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};g[D]?w._range=g[D]*f:(D==="month"||D==="year")&&(w._range=864e5*{month:30,year:365}[D]*f),w._offsetMin=te(w.offsetMin,0),w._offsetMax=te(w.offsetMax,0),w._range+=w._offsetMax-w._offsetMin}getInputValue(w){w=w==="min"?this.minInput:this.maxInput;const D=this.chart.options.rangeSelector,f=this.chart.time;return w?(w.type==="text"&&D.inputDateParser||this.defaultInputDateParser)(w.value,f.useUTC,f):0}setInputValue(w,D){const f=this.options,g=this.chart.time,x=w==="min"?this.minInput:this.maxInput;if(w=w==="min"?this.minDateBox:this.maxDateBox,x){var P=x.getAttribute("data-hc-time");P=L(P)?Number(P):void 0,L(D)&&(L(P)&&x.setAttribute("data-hc-time-previous",P),x.setAttribute("data-hc-time",D),P=D),x.value=g.dateFormat(this.inputTypeFormats[x.type]||f.inputEditDateFormat,P),w&&w.attr({text:g.dateFormat(f.inputDateFormat,P)})}}setInputExtremes(w,D,f){if(w=w==="min"?this.minInput:this.maxInput){const g=this.inputTypeFormats[w.type],x=this.chart.time;g&&(D=x.dateFormat(g,D),w.min!==D&&(w.min=D),f=x.dateFormat(g,f),w.max!==f&&(w.max=f))}}showInput(w){const D=w==="min"?this.minDateBox:this.maxDateBox;if((w=w==="min"?this.minInput:this.maxInput)&&D&&this.inputGroup){const f=w.type==="text",{translateX:g,translateY:x}=this.inputGroup,{inputBoxWidth:P}=this.options;q(w,{width:f?D.width+(P?-2:20)+"px":"auto",height:D.height-2+"px",border:"2px solid silver"}),f&&P?q(w,{left:g+D.x+"px",top:x+"px"}):q(w,{left:Math.min(Math.round(D.x+g-(w.offsetWidth-D.width)/2),this.chart.chartWidth-w.offsetWidth)+"px",top:x-(w.offsetHeight-D.height)/2+"px"})}}hideInput(w){(w=w==="min"?this.minInput:this.maxInput)&&q(w,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(w,D,f){var g=w.split("/").join("-").split(" ").join("T");if(g.indexOf("T")===-1&&(g+="T00:00"),D)g+="Z";else{var x;(x=d.isSafari)&&(x=g,x=!(6<x.length&&(x.lastIndexOf("-")===x.length-6||x.lastIndexOf("+")===x.length-6))),x&&(x=new Date(g).getTimezoneOffset()/60,g+=0>=x?`+${C(-x)}:00`:`-${C(x)}:00`)}return g=Date.parse(g),k(g)||(w=w.split("-"),g=Date.UTC(Q(w[0]),Q(w[1])-1,Q(w[2]))),f&&D&&k(g)&&(g+=f.getTimezoneOffset(g)),g}drawInput(w){function D(){const{maxInput:oe,minInput:ce}=P,pe=f.xAxis[0];var Ce=f.scroller&&f.scroller.xAxis?f.scroller.xAxis:pe;const ne=Ce.dataMin;Ce=Ce.dataMax;let ye=P.getInputValue(w);ye!==Number(Ee.getAttribute("data-hc-time-previous"))&&k(ye)&&(Ee.setAttribute("data-hc-time-previous",ye),he&&oe&&k(ne)?ye>Number(oe.getAttribute("data-hc-time"))?ye=void 0:ye<ne&&(ye=ne):ce&&k(Ce)&&(ye<Number(ce.getAttribute("data-hc-time"))?ye=void 0:ye>Ce&&(ye=Ce)),typeof ye<"u"&&pe.setExtremes(he?ye:pe.min,he?pe.max:ye,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:f,div:g,inputGroup:x}=this,P=this,Y=f.renderer.style||{};var ee=f.renderer;const K=f.options.rangeSelector,he=w==="min";var ge=Z.lang[he?"rangeSelectorFrom":"rangeSelectorTo"]||"";ge=ee.label(ge,0).addClass("highcharts-range-label").attr({padding:ge?2:0,height:ge?K.inputBoxHeight:0}).add(x),ee=ee.label("",0).addClass("highcharts-range-input").attr({padding:2,width:K.inputBoxWidth,height:K.inputBoxHeight,"text-align":"center"}).on("click",function(){P.showInput(w),P[w+"Input"].focus()}),f.styledMode||ee.attr({stroke:K.inputBoxBorderColor,"stroke-width":1}),ee.add(x);const Ee=H("input",{name:w,className:"highcharts-range-selector"},void 0,g);Ee.setAttribute("type",z(K.inputDateFormat||"%e %b %Y")),f.styledMode||(ge.css(V(Y,K.labelStyle)),ee.css(V({color:"#333333"},Y,K.inputStyle)),q(Ee,M({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:Y.fontSize,fontFamily:Y.fontFamily,top:"-9999em"},K.inputStyle))),Ee.onfocus=()=>{P.showInput(w)},Ee.onblur=()=>{Ee===d.doc.activeElement&&D(),P.hideInput(w),P.setInputValue(w),Ee.blur()};let J=!1;return Ee.onchange=()=>{J||(D(),P.hideInput(w),Ee.blur())},Ee.onkeypress=oe=>{oe.keyCode===13&&D()},Ee.onkeydown=oe=>{J=!0,oe.keyCode!==38&&oe.keyCode!==40||D()},Ee.onkeyup=()=>{J=!1},{dateBox:ee,input:Ee,label:ge}}getPosition(){var w=this.chart;const D=w.options.rangeSelector;return w=D.verticalAlign==="top"?w.plotTop-w.axisOffset[0]:0,{buttonTop:w+D.buttonPosition.y,inputTop:w+D.inputPosition.y-10}}getYTDExtremes(w,D,f){const g=this.chart.time;var x=new g.Date(w);const P=g.get("FullYear",x);return f=f?g.Date.UTC(P,0,1):+new g.Date(P,0,1),D=Math.max(D,f),x=x.getTime(),{max:Math.min(w||x,x),min:D}}render(w,D){var f=this.chart,g=f.renderer;const x=f.container;var P=f.options;const Y=P.rangeSelector,ee=te(P.chart.style&&P.chart.style.zIndex,0)+1;if(P=Y.inputEnabled,Y.enabled!==!1){if(this.rendered||(this.group=g.g("range-selector-group").attr({zIndex:7}).add(),this.div=H("div",void 0,{position:"relative",height:0,zIndex:ee}),this.buttonOptions.length&&this.renderButtons(),x.parentNode&&x.parentNode.insertBefore(this.div,x),P&&(this.inputGroup=g.g("input-group").add(this.group),g=this.drawInput("min"),this.minDateBox=g.dateBox,this.minLabel=g.label,this.minInput=g.input,g=this.drawInput("max"),this.maxDateBox=g.dateBox,this.maxLabel=g.label,this.maxInput=g.input)),P&&(this.setInputValue("min",w),this.setInputValue("max",D),w=f.scroller&&f.scroller.getUnionExtremes()||f.xAxis[0]||{},L(w.dataMin)&&L(w.dataMax)&&(f=f.xAxis[0].minRange||0,this.setInputExtremes("min",w.dataMin,Math.min(w.dataMax,this.getInputValue("max"))-f),this.setInputExtremes("max",Math.max(w.dataMin,this.getInputValue("min"))+f,w.dataMax)),this.inputGroup)){let K=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(he=>{if(he){const{width:ge}=he.getBBox();ge&&(he.attr({x:K}),K+=ge+Y.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:w,chart:D,options:f}=this,g=Z.lang,x=D.renderer,P=V(f.buttonTheme),Y=P&&P.states,ee=P.width||28;delete P.width,delete P.states,this.buttonGroup=x.g("range-selector-buttons").add(this.group);const K=this.dropdown=H("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);O(K,"touchstart",()=>{K.style.fontSize="16px"}),[[d.isMS?"mouseover":"mouseenter"],[d.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([he,ge])=>{O(K,he,()=>{const Ee=w[this.currentButtonIndex()];Ee&&E(Ee.element,ge||he)})}),this.zoomText=x.label(g&&g.rangeSelectorZoom||"",0).attr({padding:f.buttonTheme.padding,height:f.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(f.labelStyle),P["stroke-width"]=te(P["stroke-width"],0)),H("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,K),this.buttonOptions.forEach((he,ge)=>{H("option",{textContent:he.title||he.text},void 0,K),w[ge]=x.button(he.text,0,0,Ee=>{const J=he.events&&he.events.click;let oe;J&&(oe=J.call(he,Ee)),oe!==!1&&this.clickButton(ge),this.isActive=!0},P,Y&&Y.hover,Y&&Y.select,Y&&Y.disabled).attr({"text-align":"center",width:ee}).add(this.buttonGroup),he.title&&w[ge].attr("title",he.title)})}alignElements(){const{buttonGroup:w,buttons:D,chart:f,group:g,inputGroup:x,options:P,zoomText:Y}=this;var ee=f.options;const K=ee.exporting&&ee.exporting.enabled!==!1&&ee.navigation&&ee.navigation.buttonOptions,{buttonPosition:he,inputPosition:ge,verticalAlign:Ee}=P;ee=(pe,Ce)=>K&&this.titleCollision(f)&&Ee==="top"&&Ce.align==="right"&&Ce.y-pe.getBBox().height-12<(K.y||0)+(K.height||0)+f.spacing[0]?-40:0;var J=f.plotLeft;if(g&&he&&ge){var oe=he.x-f.spacing[3];if(w){if(this.positionButtons(),!this.initialButtonGroupWidth){let ye=0;Y&&(ye+=Y.getBBox().width+5),D.forEach((_e,ae)=>{ye+=_e.width,ae!==D.length-1&&(ye+=P.buttonSpacing)}),this.initialButtonGroupWidth=ye}J-=f.spacing[3],this.updateButtonStates();var ce=ee(w,he);this.alignButtonGroup(ce),g.placed=w.placed=f.hasLoaded}ce=0,x&&(ce=ee(x,ge),ge.align==="left"?oe=J:ge.align==="right"&&(oe=-Math.max(f.axisOffset[1],-ce)),x.align({y:ge.y,width:x.getBBox().width,align:ge.align,x:ge.x+oe-2},!0,f.spacingBox),x.placed=f.hasLoaded),this.handleCollision(ce),g.align({verticalAlign:Ee},!0,f.spacingBox),ee=g.alignAttr.translateY,J=g.getBBox().height+20,oe=0,Ee==="bottom"&&(oe=(oe=f.legend&&f.legend.options)&&oe.verticalAlign==="bottom"&&oe.enabled&&!oe.floating?f.legend.legendHeight+te(oe.margin,10):0,J=J+oe-20,oe=ee-J-(P.floating?0:P.y)-(f.titleOffset?f.titleOffset[2]:0)-10),Ee==="top"?(P.floating&&(oe=0),f.titleOffset&&f.titleOffset[0]&&(oe=f.titleOffset[0]),oe+=f.margin[0]-f.spacing[0]||0):Ee==="middle"&&(ge.y===he.y?oe=ee:(ge.y||he.y)&&(oe=0>ge.y||0>he.y?oe-Math.min(ge.y,he.y):ee-J)),g.translate(P.x,P.y+Math.floor(oe));const{minInput:pe,maxInput:Ce,dropdown:ne}=this;P.inputEnabled&&pe&&Ce&&(pe.style.marginTop=g.translateY+"px",Ce.style.marginTop=g.translateY+"px"),ne&&(ne.style.marginTop=g.translateY+"px")}}alignButtonGroup(w,D){const{chart:f,options:g,buttonGroup:x}=this,{buttonPosition:P}=g,Y=f.plotLeft-f.spacing[3];let ee=P.x-f.spacing[3];P.align==="right"?ee+=w-Y:P.align==="center"&&(ee-=Y/2),x&&x.align({y:P.y,width:te(D,this.initialButtonGroupWidth),align:P.align,x:ee},!0,f.spacingBox)}positionButtons(){const{buttons:w,chart:D,options:f,zoomText:g}=this,x=D.hasLoaded?"animate":"attr",{buttonPosition:P}=f,Y=D.plotLeft;let ee=Y;g&&g.visibility!=="hidden"&&(g[x]({x:te(Y+P.x,Y)}),ee+=P.x+g.getBBox().width+5);for(let K=0,he=this.buttonOptions.length;K<he;++K)w[K].visibility!=="hidden"?(w[K][x]({x:ee}),ee+=w[K].width+f.buttonSpacing):w[K][x]({x:Y})}handleCollision(w){const{chart:D,buttonGroup:f,inputGroup:g}=this,{buttonPosition:x,dropdown:P,inputPosition:Y}=this.options,ee=()=>{let ge=0;return this.buttons.forEach(Ee=>{Ee=Ee.getBBox(),Ee.width>ge&&(ge=Ee.width)}),ge},K=ge=>{if(g&&f){const Ee=g.alignAttr.translateX+g.alignOptions.x-w+g.getBBox().x+2,J=g.alignOptions.width,oe=f.alignAttr.translateX+f.getBBox().x;return oe+ge>Ee&&Ee+J>oe&&x.y<Y.y+g.getBBox().height}return!1},he=()=>{g&&f&&g.attr({translateX:g.alignAttr.translateX+(D.axisOffset[1]>=-w?0:-w),translateY:g.alignAttr.translateY+f.getBBox().height+10})};if(f){if(P==="always"){this.collapseButtons(w),K(ee())&&he();return}P==="never"&&this.expandButtons()}g&&f?Y.align===x.align||K(this.initialButtonGroupWidth+20)?P==="responsive"?(this.collapseButtons(w),K(ee())&&he()):he():P==="responsive"&&this.expandButtons():f&&P==="responsive"&&(this.initialButtonGroupWidth>D.plotWidth?this.collapseButtons(w):this.expandButtons())}collapseButtons(w){const{buttons:D,buttonOptions:f,chart:g,dropdown:x,options:P,zoomText:Y}=this,ee=g.userOptions.rangeSelector&&g.userOptions.rangeSelector.buttonTheme||{},K=Ee=>({text:Ee?`${Ee} ▾`:"▾",width:"auto",paddingLeft:te(P.buttonTheme.paddingLeft,ee.padding,8),paddingRight:te(P.buttonTheme.paddingRight,ee.padding,8)});Y&&Y.hide();let he=!1;f.forEach((Ee,J)=>{J=D[J],J.state!==2?J.hide():(J.show(),J.attr(K(Ee.text)),he=!0)}),he||(x&&(x.selectedIndex=0),D[0].show(),D[0].attr(K(this.zoomText&&this.zoomText.textStr)));const{align:ge}=P.buttonPosition;this.positionButtons(),ge!=="right"&&ge!=="center"||this.alignButtonGroup(w,D[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:w,buttonOptions:D,options:f,zoomText:g}=this;this.hideDropdown(),g&&g.show(),D.forEach((x,P)=>{P=w[P],P.show(),P.attr({text:x.text,width:f.buttonTheme.width||28,paddingLeft:te(f.buttonTheme.paddingLeft,"unset"),paddingRight:te(f.buttonTheme.paddingRight,"unset")}),2>P.state&&P.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:w}=this;return w&&0<w.selectedIndex?w.selectedIndex-1:0}showDropdown(){const{buttonGroup:w,buttons:D,chart:f,dropdown:g}=this;if(w&&g){const{translateX:x,translateY:P}=w,Y=D[this.currentButtonIndex()].getBBox();q(g,{left:f.plotLeft+x+"px",top:P+.5+"px",width:Y.width+"px",height:Y.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:w}=this;w&&(q(w,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var w=this.options,D=this.group;const f=w.y,g=w.buttonPosition.y,x=w.inputPosition.y;return w.height?w.height:(this.alignElements(),w=D?D.getBBox(!0).height+13+f:0,D=Math.min(x,g),(0>x&&0>g||0<x&&0<g)&&(w+=Math.abs(D)),w)}titleCollision(w){return!(w.options.title.text||w.options.subtitle.text)}update(w){const D=this.chart;V(!0,D.options.rangeSelector,w),this.destroy(),this.init(D),this.render()}destroy(){const w=this,D=w.minInput,f=w.maxInput;w.eventsToUnbind&&(w.eventsToUnbind.forEach(g=>g()),w.eventsToUnbind=void 0),R(w.buttons),D&&(D.onfocus=D.onblur=D.onchange=null),f&&(f.onfocus=f.onblur=f.onchange=null),G(w,function(g,x){g&&x!=="chart"&&(g instanceof n?g.destroy():g instanceof window.HTMLElement&&$(g)),g!==j.prototype[x]&&(w[x]=null)},this)}}return M(j.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),j}),s(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Stock/RangeSelector/RangeSelector.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(a,c,d,m,n,S){const{unhideChartElementFromAT:z,getAxisRangeDescription:Z}=d,{addEvent:O,attr:H}=S;class q extends c{constructor(){super(...arguments),this.announcer=void 0}init(){this.announcer=new m(this.chart,"polite")}onChartUpdate(){const R=this.chart,$=this,M=R.rangeSelector;M&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),M.buttons&&M.buttons.length&&M.buttons.forEach(E=>{$.setRangeButtonAttrs(E)}),M.maxInput&&M.minInput&&["minInput","maxInput"].forEach(function(E,k){(E=M[E])&&(z(R,E),$.setRangeInputAttrs(E,"accessibility.rangeSelector."+(k?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){const R=this.chart,$=R.rangeSelector,M=$&&$.dropdown,E=$&&$.buttons||[];$&&$.hasVisibleDropdown&&M?(z(R,M),E.forEach(k=>k.element.setAttribute("aria-hidden",!0))):(M&&M.setAttribute("aria-hidden",!0),E.forEach(k=>z(R,k.element)))}setDropdownAttrs(){var R=this.chart;const $=R.rangeSelector&&R.rangeSelector.dropdown;$&&(R=R.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:R.options.lang.rangeSelectorZoom}),$.setAttribute("aria-label",R),$.setAttribute("tabindex",-1))}setRangeButtonAttrs(R){H(R.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(R,$){const M=this.chart;H(R,{tabindex:-1,"aria-label":M.langFormat($,{chart:M})})}onButtonNavKbdArrowKey(R,$){const M=R.response,E=this.keyCodes,k=this.chart,V=k.options.accessibility.keyboardNavigation.wrapAround;return $=$===E.left||$===E.up?-1:1,k.highlightRangeSelectorButton(k.highlightedRangeSelectorItemIx+$)?M.success:V?(R.init($),M.success):M[0<$?"next":"prev"]}onButtonNavKbdClick(R){R=R.response;const $=this.chart;return $.oldRangeSelectorItemState!==3&&this.fakeClickEvent($.rangeSelector.buttons[$.highlightedRangeSelectorItemIx].element),R.success}onAfterBtnClick(){var R=this.chart;const $=Z(R.xAxis[0]);(R=R.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:R,axisRangeDescription:$}))&&this.announcer.announce(R)}onInputKbdMove(R){const $=this.chart;var M=$.rangeSelector;const E=$.highlightedInputRangeIx=($.highlightedInputRangeIx||0)+R;if(1<E||0>E){if($.accessibility)return $.accessibility.keyboardNavigation.exiting=!0,$.accessibility.keyboardNavigation.tabindexContainer.focus(),$.accessibility.keyboardNavigation.move(R)}else M&&(R=M[E?"maxDateBox":"minDateBox"],M=M[E?"maxInput":"minInput"],R&&M&&$.setFocusToElement(R,M));return!0}onInputNavInit(R){const $=this;var M=this.chart;const E=0<R?0:1;var k=M.rangeSelector;const V=k&&k[E?"maxDateBox":"minDateBox"];if(R=k&&k.minInput,k=k&&k.maxInput,M.highlightedInputRangeIx=E,V&&R&&k){M.setFocusToElement(V,E?k:R),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),M=te=>{(te.which||te.keyCode)===this.keyCodes.tab&&$.onInputKbdMove(te.shiftKey?-1:1)&&(te.preventDefault(),te.stopPropagation())};const G=O(R,"keydown",M),C=O(k,"keydown",M);this.removeInputKeydownHandler=()=>{G(),C()}}}onInputNavTerminate(){const R=this.chart.rangeSelector||{};R.maxInput&&R.hideInput("max"),R.minInput&&R.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){const R=this.chart,$=R.rangeSelector,M=$&&$.dropdown;$&&M&&(R.setFocusToElement($.buttonGroup,M),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=O(M,"keydown",E=>{const k=R.accessibility;(E.which||E.keyCode)===this.keyCodes.tab&&(E.preventDefault(),E.stopPropagation(),k&&(k.keyboardNavigation.tabindexContainer.focus(),k.keyboardNavigation.move(E.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){const R=this.chart,$=this.keyCodes,M=this;return new n(R,{keyCodeMap:[[[$.left,$.right,$.up,$.down],function(E){return M.onButtonNavKbdArrowKey(this,E)}],[[$.enter,$.space],function(){return M.onButtonNavKbdClick(this)}]],validate:function(){return!!(R.rangeSelector&&R.rangeSelector.buttons&&R.rangeSelector.buttons.length)},init:function(E){var k=R.rangeSelector;k&&k.hasVisibleDropdown?M.initDropdownNav():k&&(k=k.buttons.length-1,R.highlightRangeSelectorButton(0<E?0:k))},terminate:function(){M.removeDropdownKeydownHandler&&(M.removeDropdownKeydownHandler(),delete M.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){const R=this.chart,$=this;return new n(R,{keyCodeMap:[],validate:function(){return!!(R.rangeSelector&&R.rangeSelector.inputGroup&&R.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&R.options.rangeSelector.inputEnabled!==!1&&R.rangeSelector.minInput&&R.rangeSelector.maxInput)},init:function(M){$.onInputNavInit(M)},terminate:function(){$.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(L){function R(E){const k=this.rangeSelector&&this.rangeSelector.buttons||[],V=this.highlightedRangeSelectorItemIx,G=this.rangeSelector&&this.rangeSelector.selected;return typeof V<"u"&&k[V]&&V!==G&&k[V].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=E,k[E]?(this.setFocusToElement(k[E].box,k[E].element),E!==G&&(this.oldRangeSelectorItemState=k[E].state,k[E].setState(1)),!0):!1}function $(){const E=this.chart.accessibility;if(E&&E.components.rangeSelector)return E.components.rangeSelector.onAfterBtnClick()}const M=[];L.compose=function(E,k){S.pushUnique(M,E)&&(E.prototype.highlightRangeSelectorButton=R),S.pushUnique(M,k)&&O(a,"afterBtnClick",$)}}(q||(q={})),q}),s(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Utilities.js"]],function(a){const{addEvent:c,merge:d}=a;var m;return function(n){function S(L){d(!0,L,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function z(L){return L.marker.states&&L.marker.states.normal&&L.marker.states.normal.opacity}function Z(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(L=>{L.graphic&&(L.graphic[L.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),L.graphic[L.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function O(L){this.resetA11yMarkerOptions=d(L.options.marker||{},this.userOptions.marker||{})}function H(){var L=this.options,R=(this.options.accessibility&&this.options.accessibility.enabled)!==!1;if((R=this.chart.options.accessibility.enabled&&R)&&(R=this.chart.options.accessibility,R=this.points.length<R.series.pointDescriptionEnabledThreshold||R.series.pointDescriptionEnabledThreshold===!1),R){if(L.marker&&L.marker.enabled===!1&&(this.a11yMarkersForced=!0,S(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(L=this.points.length;L--;){R=this.points[L];const M=R.options;var $=R.hasForcedA11yMarker;delete R.hasForcedA11yMarker,M.marker&&($=$&&z(M)===0,M.marker.enabled&&!$?(d(!0,M.marker,{states:{normal:{opacity:z(M)||1}}}),R.hasForcedA11yMarker=!1):M.marker.enabled===!1&&(S(M),R.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(L=this.resetA11yMarkerOptions)&&this.update({marker:{enabled:L.enabled,states:{normal:{opacity:L.states&&L.states.normal&&L.states.normal.opacity}}}}),delete this.resetA11yMarkerOptions)}const q=[];n.compose=function(L){a.pushUnique(q,L)&&(c(L,"afterSetOptions",O),c(L,"render",H),c(L,"afterRender",Z))}}(m||(m={})),m}),s(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(a,c,d,m,n,S,z,Z){function O(N){const j=N.index,W=N.series.points;let w=W.length;if(W[j]!==N){for(;w--;)if(W[w]===N)return w}else return j}function H(N){const j=N.chart.options.accessibility.keyboardNavigation.seriesNavigation,W=N.options.accessibility||{},w=W.keyboardNavigation;return w&&w.enabled===!1||W.enabled===!1||N.options.enableMouseTracking===!1||!N.visible||j.pointNavigationEnabledThreshold&&j.pointNavigationEnabledThreshold<=N.points.length}function q(N){const j=N.series.chart.options.accessibility,W=N.options.accessibility&&N.options.accessibility.enabled===!1;return N.isNull&&j.keyboardNavigation.seriesNavigation.skipNullPoints||N.visible===!1||N.isInside===!1||W||H(N.series)}function L(N){N=N.series||[];const j=N.length;for(let w=0;w<j;++w)if(!H(N[w])){e:{var W=N[w].points||[];const D=W.length;for(let f=0;f<D;++f)if(!q(W[f])){W=W[f];break e}W=null}if(W)return W}return null}function R(N){let j=N.series.length,W=!1;for(;j--&&(N.highlightedPoint=N.series[j].points[N.series[j].points.length-1],!(W=N.series[j].highlightNextValidPoint())););return W}function $(N){return delete N.highlightedPoint,(N=L(N))?N.highlight():!1}const{seriesTypes:M}=d,{doc:E}=m,{defined:k,fireEvent:V}=n,{getPointFromXY:G,getSeriesFromName:C,scrollToPoint:te}=Z;class Q{constructor(j,W){this.keyCodes=W,this.chart=j}init(){const j=this,W=this.chart,w=this.eventProvider=new z;w.addEvent(c,"destroy",function(){return j.onSeriesDestroy(this)}),w.addEvent(W,"afterApplyDrilldown",function(){{const D=L(this);D&&D.highlight(!1)}}),w.addEvent(W,"drilldown",function(D){D=D.point;const f=D.series;j.lastDrilledDownPoint={x:D.x,y:D.y,seriesName:f?f.name:""}}),w.addEvent(W,"drillupall",function(){setTimeout(function(){j.onDrillupAll()},10)}),w.addEvent(a,"afterSetState",function(){const D=this.graphic&&this.graphic.element,f=E.activeElement;var g=f&&f.getAttribute("class");g=g&&-1<g.indexOf("highcharts-a11y-proxy-button"),W.highlightedPoint===this&&f!==D&&!g&&D&&D.focus&&D.focus()})}onDrillupAll(){const j=this.lastDrilledDownPoint,W=this.chart,w=j&&C(W,j.seriesName);let D;j&&w&&k(j.x)&&k(j.y)&&(D=G(w,j.x,j.y)),D=D||L(W),W.container&&W.container.focus(),D&&D.highlight&&D.highlight(!1)}getKeyboardNavigationHandler(){const j=this,W=this.keyCodes,w=this.chart,D=w.inverted;return new S(w,{keyCodeMap:[[D?[W.up,W.down]:[W.left,W.right],function(f){return j.onKbdSideways(this,f)}],[D?[W.left,W.right]:[W.up,W.down],function(f){return j.onKbdVertical(this,f)}],[[W.enter,W.space],function(f,g){return(f=w.highlightedPoint)&&(g.point=f,V(f.series,"click",g),f.firePointEvent("click")),this.response.success}],[[W.home],function(){return $(w),this.response.success}],[[W.end],function(){return R(w),this.response.success}],[[W.pageDown,W.pageUp],function(f){return w.highlightAdjacentSeries(f===W.pageDown),this.response.success}]],init:function(){return j.onHandlerInit(this)},validate:function(){return!!L(w)},terminate:function(){return j.onHandlerTerminate()}})}onKbdSideways(j,W){const w=this.keyCodes;return this.attemptHighlightAdjacentPoint(j,W===w.right||W===w.down)}onHandlerInit(j){const W=this.chart;return W.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&W.highlightedPoint?W.highlightedPoint.highlight():$(W),j.response.success}onKbdVertical(j,W){const w=this.chart;var D=this.keyCodes;return W=W===D.down||W===D.right,D=w.options.accessibility.keyboardNavigation.seriesNavigation,D.mode&&D.mode==="serialize"?this.attemptHighlightAdjacentPoint(j,W):(w[w.highlightedPoint&&w.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](W),j.response.success)}onHandlerTerminate(){const j=this.chart,W=j.options.accessibility.keyboardNavigation;j.tooltip&&j.tooltip.hide(0);const w=j.highlightedPoint&&j.highlightedPoint.series;w&&w.onMouseOut&&w.onMouseOut(),j.highlightedPoint&&j.highlightedPoint.onMouseOut&&j.highlightedPoint.onMouseOut(),W.seriesNavigation.rememberPointFocus||delete j.highlightedPoint}attemptHighlightAdjacentPoint(j,W){const w=this.chart,D=w.options.accessibility.keyboardNavigation.wrapAround;return w.highlightAdjacentPoint(W)||D&&(W?$(w):R(w))?j.response.success:j.response[W?"next":"prev"]}onSeriesDestroy(j){const W=this.chart;W.highlightedPoint&&W.highlightedPoint.series===j&&(delete W.highlightedPoint,W.focusElement&&W.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function(N){function j(P){var Y=this.series;const ee=this.highlightedPoint;var K=ee&&O(ee)||0;const he=ee&&ee.series.points||[];var ge=this.series&&this.series[this.series.length-1];if(ge=ge&&ge.points&&ge.points[ge.points.length-1],!Y[0]||!Y[0].points)return!1;if(ee){if(Y=Y[ee.series.index+(P?1:-1)],K=he[K+(P?1:-1)],!K&&Y&&(K=Y.points[P?0:Y.points.length-1]),!K)return!1}else K=P?Y[0].points[0]:ge;return q(K)?(Y=K.series,H(Y)?this.highlightedPoint=P?Y.points[Y.points.length-1]:Y.points[0]:this.highlightedPoint=K,this.highlightAdjacentPoint(P)):K.highlight()}function W(P){const Y=this.highlightedPoint;let ee=1/0,K;return!k(Y.plotX)||!k(Y.plotY)?!1:(this.series.forEach(he=>{H(he)||he.points.forEach(ge=>{if(k(ge.plotY)&&k(ge.plotX)&&ge!==Y){var Ee=ge.plotY-Y.plotY,J=Math.abs(ge.plotX-Y.plotX);J=Math.abs(Ee)*Math.abs(Ee)+J*J*4,he.yAxis&&he.yAxis.reversed&&(Ee*=-1),!(0>=Ee&&P||0<=Ee&&!P||5>J||q(ge))&&J<ee&&(ee=J,K=ge)}})}),K?K.highlight():!1)}function w(P){const Y=this.highlightedPoint;var ee=this.series&&this.series[this.series.length-1],K=ee&&ee.points&&ee.points[ee.points.length-1];return this.highlightedPoint?(ee=this.series[Y.series.index+(P?-1:1)],!ee||(K=D(Y,ee,4),!K)?!1:H(ee)?(K.highlight(),P=this.highlightAdjacentSeries(P),P||(Y.highlight(),!1)):(K.highlight(),K.series.highlightNextValidPoint())):(ee=P?this.series&&this.series[0]:ee,(K=P?ee&&ee.points&&ee.points[0]:K)?K.highlight():!1)}function D(P,Y,ee,K){let he=1/0,ge,Ee=Y.points.length;const J=ce=>!(k(ce.plotX)&&k(ce.plotY));if(!J(P)){for(;Ee--;){var oe=Y.points[Ee];J(oe)||(oe=(P.plotX-oe.plotX)*(P.plotX-oe.plotX)*(ee||1)+(P.plotY-oe.plotY)*(P.plotY-oe.plotY)*(K||1),oe<he&&(he=oe,ge=Ee))}return k(ge)?Y.points[ge]:void 0}}function f(P=!0){const Y=this.series.chart;return!this.isNull&&P?this.onMouseOver():Y.tooltip&&Y.tooltip.hide(0),te(this),this.graphic&&(Y.setFocusToElement(this.graphic),!P&&Y.focusElement&&Y.focusElement.removeFocusBorder()),Y.highlightedPoint=this,this}function g(){var P=this.chart.highlightedPoint,Y=(P&&P.series)===this?O(P):0;P=this.points;const ee=P.length;if(P&&ee){for(let K=Y;K<ee;++K)if(!q(P[K]))return P[K].highlight();for(;0<=Y;--Y)if(!q(P[Y]))return P[Y].highlight()}return!1}const x=[];N.compose=function(P,Y,ee){n.pushUnique(x,P)&&(P=P.prototype,P.highlightAdjacentPoint=j,P.highlightAdjacentPointVertical=W,P.highlightAdjacentSeries=w),n.pushUnique(x,Y)&&(Y.prototype.highlight=f),n.pushUnique(x,ee)&&(Y=ee.prototype,Y.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(K=>{M[K]&&(M[K].prototype.keyboardMoveVertical=!1)}),Y.highlightNextValidPoint=g)}}(Q||(Q={})),Q}),s(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(a,c,d,m,n,S){const{hideSeriesFromAT:z}=c,{describeSeries:Z}=n;class O extends a{static compose(q,L,R){m.compose(R),d.compose(R),S.compose(q,L,R)}init(){this.newDataAnnouncer=new m(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new S(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const q=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===q.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(q){q.labelBySeries&&q.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(q){(q.options.accessibility&&q.options.accessibility.enabled)!==!1&&q.visible?Z(q):z(q)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}return O}),s(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(a,c,d,m,n){const{unhideChartElementFromAT:S}=c,{getFakeMouseEvent:z}=d,{attr:Z,pick:O}=n;class H extends a{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){const L=this,R=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach($=>{L.addEvent(R,$,function(){L.updateProxyOverlays()})})}onChartUpdate(){const L=this.chart,R=this;L.mapNavigation&&L.mapNavigation.navButtons.forEach(($,M)=>{S(L,$.element),R.setMapNavButtonAttrs($.element,"accessibility.zoom.mapZoom"+(M?"Out":"In"))})}setMapNavButtonAttrs(L,R){const $=this.chart;R=$.langFormat(R,{chart:$}),Z(L,{tabindex:-1,role:"button","aria-label":R})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const L=this.chart;this.proxyProvider.clearGroup("zoom"),L.resetZoomButton&&this.createZoomProxyButton(L.resetZoomButton,"resetZoomProxyButton",L.langFormat("accessibility.zoom.resetZoomButton",{chart:L})),L.drillUpButton&&L.breadcrumbs&&L.breadcrumbs.list&&this.createZoomProxyButton(L.drillUpButton,"drillUpProxyButton",L.langFormat("accessibility.drillUpButton",{chart:L,buttonText:L.breadcrumbs.getButtonText(L.breadcrumbs.list[L.breadcrumbs.list.length-1])}))}createZoomProxyButton(L,R,$){this[R]=this.proxyProvider.addProxyElement("zoom",{click:L},{"aria-label":$,tabindex:-1})}getMapZoomNavigation(){const L=this.keyCodes,R=this.chart,$=this;return new m(R,{keyCodeMap:[[[L.up,L.down,L.left,L.right],function(M){return $.onMapKbdArrow(this,M)}],[[L.tab],function(M,E){return $.onMapKbdTab(this,E)}],[[L.space,L.enter],function(){return $.onMapKbdClick(this)}]],validate:function(){return!!(R.mapView&&R.mapNavigation&&R.mapNavigation.navButtons.length)},init:function(M){return $.onMapNavInit(M)}})}onMapKbdArrow(L,R){var $=this.chart,M=this.keyCodes;const E=$.container;var k=R===M.up||R===M.down;return R=(k?$.plotHeight:$.plotWidth)/10*(R===M.left||R===M.up?1:-1),M=10*Math.random(),$={x:E.offsetLeft+$.plotLeft+$.plotWidth/2+M,y:E.offsetTop+$.plotTop+$.plotHeight/2+M},k=k?{x:$.x,y:$.y+R}:{x:$.x+R,y:$.y},[z("mousedown",$),z("mousemove",k),z("mouseup",k)].forEach(V=>E.dispatchEvent(V)),L.response.success}onMapKbdTab(L,R){const $=this.chart;L=L.response;const M=(R=R.shiftKey)&&!this.focusedMapNavButtonIx||!R&&this.focusedMapNavButtonIx;return $.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),M?($.mapView&&$.mapView.zoomBy(),L[R?"prev":"next"]):(this.focusedMapNavButtonIx+=R?-1:1,R=$.mapNavigation.navButtons[this.focusedMapNavButtonIx],$.setFocusToElement(R.box,R.element),R.setState(2),L.success)}onMapKbdClick(L){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),L.response.success}onMapNavInit(L){const R=this.chart;var $=R.mapNavigation.navButtons[0];const M=R.mapNavigation.navButtons[1];$=0<L?$:M,R.setFocusToElement($.box,$.element),$.setState(2),this.focusedMapNavButtonIx=0<L?0:1}simpleButtonNavigation(L,R,$){const M=this.keyCodes,E=this,k=this.chart;return new m(k,{keyCodeMap:[[[M.tab,M.up,M.down,M.left,M.right],function(V,G){return this.response[V===M.tab&&G.shiftKey||V===M.left||V===M.up?"prev":"next"]}],[[M.space,M.enter],function(){const V=$(this,k);return O(V,this.response.success)}]],validate:function(){return k[L]&&k[L].box&&E[R].buttonElement},init:function(){k.setFocusToElement(k[L].box,E[R].buttonElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(L,R){R.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(L,R){return R.drillUp(),L.response.prev}),this.getMapZoomNavigation()]}}return H}),s(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],function(a){const{doc:c,isMS:d,win:m}=a;return{isHighContrastModeActive:function(){var n=/(Edg)/.test(m.navigator.userAgent);if(m.matchMedia&&n)return m.matchMedia("(-ms-high-contrast: active)").matches;if(d&&m.getComputedStyle){n=c.createElement("div"),n.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",c.body.appendChild(n);const S=(n.currentStyle||m.getComputedStyle(n)).backgroundImage;return c.body.removeChild(n),S==="none"}return m.matchMedia&&m.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(n){n.highContrastModeActive=!0;const S=n.options.accessibility.highContrastTheme;n.update(S,!1),n.series.forEach(function(z){const Z=S.plotOptions[z.type]||{};z.update({color:Z.color||"windowText",colors:[Z.color||"windowText"],borderColor:Z.borderColor||"window"}),z.points.forEach(function(O){O.options&&O.options.color&&O.update({color:Z.color||"windowText",borderColor:Z.borderColor||"window"},!1)})}),n.redraw()}}}),s(t,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),s(t,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}}),s(t,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}}),s(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],function(a){function c(O,H,q){let L,R=0;for(;R<H.length-1;++R)L=H[R],O=O[L]=Z(O[L],{});O[H[H.length-1]]=q}function d(O,H,q,L){function R(E,k){return k.reduce(function(V,G){return V[G]},E)}const $=R(O.options,H),M=R(O.options,q);Object.keys(L).forEach(function(E){const k=$[E];typeof k<"u"&&(c(M,L[E],k),z(32,!1,O,{[H.join(".")+"."+E]:q.join(".")+"."+L[E].join(".")}))})}function m(O){const H=O.options.chart,q=O.options.accessibility||{};["description","typeDescription"].forEach(function(L){H[L]&&(q[L]=H[L],z(32,!1,O,{[`chart.${L}`]:`use accessibility.${L}`}))})}function n(O){O.axes.forEach(function(H){(H=H.options)&&H.description&&(H.accessibility=H.accessibility||{},H.accessibility.description=H.description,z(32,!1,O,{"axis.description":"use axis.accessibility.description"}))})}function S(O){const H={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};O.series.forEach(function(q){Object.keys(H).forEach(function(L){let R=q.options[L];L==="accessibility.pointDescriptionFormatter"&&(R=q.options.accessibility&&q.options.accessibility.pointDescriptionFormatter),typeof R<"u"&&(c(q.options,H[L],L==="skipKeyboardNavigation"?!R:R),z(32,!1,O,{[`series.${L}`]:"series."+H[L].join(".")}))})})}const{error:z,pick:Z}=a;return function(O){m(O),n(O),O.series&&S(O),d(O,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),d(O,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),d(O,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),s(t,"Accessibility/Accessibility.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/A11yDefaults.js"],t["Accessibility/Options/LangDefaults.js"],t["Accessibility/Options/DeprecatedOptions.js"]],function(a,c,d,m,n,S,z,Z,O,H,q,L,R,$,M,E,k,V,G,C,te){({defaultOptions:a}=a);const{doc:Q}=c,{addEvent:N,extend:j,fireEvent:W,merge:w}=d,{removeElement:D}=m;class f{constructor(x){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0,this.init(x)}init(x){this.chart=x,Q.addEventListener?(te(x),this.proxyProvider=new R(this.chart),this.initComponents(),this.keyboardNavigation=new O(x,this.components)):(this.zombie=!0,this.components={},x.renderTo.setAttribute("aria-hidden",!0))}initComponents(){const x=this.chart,P=this.proxyProvider,Y=x.options.accessibility;this.components={container:new S,infoRegions:new Z,legend:new H,chartMenu:new q,rangeSelector:new $,series:new M,zoom:new E},Y.customComponents&&j(this.components,Y.customComponents);const ee=this.components;this.getComponentOrder().forEach(function(K){ee[K].initBase(x,P),ee[K].init()})}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);const x=Object.keys(this.components).filter(P=>P!=="series");return["series"].concat(x)}update(){const x=this.components,P=this.chart;var Y=P.options.accessibility;W(P,"beforeA11yUpdate"),P.types=this.getChartTypes(),Y=Y.keyboardNavigation.order,this.proxyProvider.updateGroupOrder(Y),this.getComponentOrder().forEach(function(ee){x[ee].onChartUpdate(),W(P,"afterA11yComponentUpdate",{name:ee,component:x[ee]})}),this.keyboardNavigation.update(Y),!P.highContrastModeActive&&k.isHighContrastModeActive()&&k.setHighContrastTheme(P),W(P,"afterA11yUpdate",{accessibility:this})}destroy(){const x=this.chart||{},P=this.components;Object.keys(P).forEach(function(Y){P[Y].destroy(),P[Y].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),x.announcerContainer&&D(x.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),x.renderTo&&x.renderTo.setAttribute("aria-hidden",!0),x.focusElement&&x.focusElement.removeFocusBorder()}getChartTypes(){const x={};return this.chart.series.forEach(function(P){x[P.type]=1}),Object.keys(x)}}return function(g){function x(){this.accessibility&&this.accessibility.destroy()}function P(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());const ge=this.accessibility;ge&&!ge.zombie&&(ge.proxyProvider.updateProxyElementPositions(),ge.getComponentOrder().forEach(function(Ee){ge.components[Ee].onChartRender()}))}function Y(ge){(ge=ge.options.accessibility)&&(ge.customComponents&&(this.options.accessibility.customComponents=ge.customComponents,delete ge.customComponents),w(!0,this.options.accessibility,ge),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function ee(){let ge=this.accessibility;const Ee=this.options.accessibility;Ee&&Ee.enabled?ge&&!ge.zombie?ge.update():(this.accessibility=ge=new g(this),!ge.zombie&&ge.update()):ge?(ge.destroy&&ge.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function K(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}const he=[];g.i18nFormat=n.i18nFormat,g.compose=function(ge,Ee,J,oe,ce,pe){O.compose(ge),L.compose(oe),H.compose(ge,Ee),q.compose(ge),M.compose(ge,J,oe),n.compose(ge),z.compose(ge,ce),pe&&$.compose(ge,pe),d.pushUnique(he,ge)&&(ge.prototype.updateA11yEnabled=ee,N(ge,"destroy",x),N(ge,"render",P),N(ge,"update",Y),["addSeries","init"].forEach(Ce=>{N(ge,Ce,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(Ce=>{N(ge,Ce,function(){const ne=this.accessibility;ne&&!ne.zombie&&ne.update()})})),d.pushUnique(he,J)&&N(J,"update",K),d.pushUnique(he,oe)&&["update","updatedData","remove"].forEach(Ce=>{N(oe,Ce,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})})}}(f||(f={})),w(!0,a,G,{accessibility:{highContrastTheme:V},lang:C}),f}),s(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(a,c,d,m,n,S,z){a.i18nFormat=c.i18nFormat,a.A11yChartUtilities=m,a.A11yHTMLUtilities=n,a.AccessibilityComponent=d,a.KeyboardNavigationHandler=S,a.SeriesAccessibilityDescriber=z,c.compose(a.Chart,a.Legend,a.Point,a.Series,a.SVGElement,a.RangeSelector)})})})(FA);var C$=FA.exports;const DS=uh(C$);DS(Pl);const M$={name:"spline",components:{Chart:Kf.Chart},data(){return{chartOptions:{chart:{type:"spline",scrollablePlotArea:{minWidth:600,scrollPositionX:1}},title:{text:"Wind speed during two days",align:"left"},subtitle:{text:"13th & 14th of June, 2022 at two locations in Vik i Sogn, Norway",align:"left"},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{title:{text:"Wind speed (m/s)"},minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotBands:[{from:.3,to:1.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Light air",style:{color:"#606060"}}},{from:1.5,to:3.3,color:"rgba(0, 0, 0, 0)",label:{text:"Light breeze",style:{color:"#606060"}}},{from:3.3,to:5.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Gentle breeze",style:{color:"#606060"}}},{from:5.5,to:8,color:"rgba(0, 0, 0, 0)",label:{text:"Moderate breeze",style:{color:"#606060"}}},{from:8,to:11,color:"rgba(68, 170, 213, 0.1)",label:{text:"Fresh breeze",style:{color:"#606060"}}},{from:11,to:14,color:"rgba(0, 0, 0, 0)",label:{text:"Strong breeze",style:{color:"#606060"}}},{from:14,to:15,color:"rgba(68, 170, 213, 0.1)",label:{text:"High wind",style:{color:"#606060"}}}]},tooltip:{valueSuffix:" m/s"},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1},pointInterval:36e5,pointStart:Date.UTC(2022,5,13,0,0,0)}},series:[{name:"Hestavollane",data:[4.5,5.1,4.4,3.7,4.2,3.7,4.3,4,5,4.9,4.8,4.6,3.9,3.8,2.7,3.1,2.6,3.3,3.8,4.1,1,1.9,3.2,3.8,4.2]},{name:"Vik",data:[.1,.1,.1,.2,.4,.4,.3,.4,.1,0,.2,.3,0,0,0,0,0,.1,.1,.1,0,.1,0,0,0]}],navigation:{menuItemStyle:{fontSize:"10px"}}}}}};function A$(e,t,s,a,c,d){const m=Yn("Chart");return Ot(),Bh(m,{options:c.chartOptions,constructorType:"stockChart"},null,8,["options"])}const k$=Kn(M$,[["render",A$]]),Qo=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,s=/[^-+\dA-Z]/g;return function(a,c,d,m){if(arguments.length===1&&D$(a)==="string"&&!/\d/.test(a)&&(c=a,a=void 0),a=a||new Date,a instanceof Date||(a=new Date(a)),isNaN(a))throw TypeError("Invalid date");c=String(Qo.masks[c]||c||Qo.masks.default);var n=c.slice(0,4);(n==="UTC:"||n==="GMT:")&&(c=c.slice(4),d=!0,n==="GMT:"&&(m=!0));var S=d?"getUTC":"get",z=a[S+"Date"](),Z=a[S+"Day"](),O=a[S+"Month"](),H=a[S+"FullYear"](),q=a[S+"Hours"](),L=a[S+"Minutes"](),R=a[S+"Seconds"](),$=a[S+"Milliseconds"](),M=d?0:a.getTimezoneOffset(),E=NA(a),k=P$(a),V={d:z,dd:Kd(z),ddd:Qo.i18n.dayNames[Z],dddd:Qo.i18n.dayNames[Z+7],m:O+1,mm:Kd(O+1),mmm:Qo.i18n.monthNames[O],mmmm:Qo.i18n.monthNames[O+12],yy:String(H).slice(2),yyyy:H,h:q%12||12,hh:Kd(q%12||12),H:q,HH:Kd(q),M:L,MM:Kd(L),s:R,ss:Kd(R),l:Kd($,3),L:Kd(Math.round($/10)),t:q<12?Qo.i18n.timeNames[0]:Qo.i18n.timeNames[1],tt:q<12?Qo.i18n.timeNames[2]:Qo.i18n.timeNames[3],T:q<12?Qo.i18n.timeNames[4]:Qo.i18n.timeNames[5],TT:q<12?Qo.i18n.timeNames[6]:Qo.i18n.timeNames[7],Z:m?"GMT":d?"UTC":(String(a).match(t)||[""]).pop().replace(s,""),o:(M>0?"-":"+")+Kd(Math.floor(Math.abs(M)/60)*100+Math.abs(M)%60,4),S:["th","st","nd","rd"][z%10>3?0:(z%100-z%10!=10)*z%10],W:E,N:k};return c.replace(e,function(G){return G in V?V[G]:G.slice(1,G.length-1)})}}();Qo.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};Qo.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function Kd(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function NA(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var s=new Date(t.getFullYear(),0,4);s.setDate(s.getDate()-(s.getDay()+6)%7+3);var a=t.getTimezoneOffset()-s.getTimezoneOffset();t.setHours(t.getHours()-a);var c=(t-s)/(864e5*7);return 1+Math.floor(c)}function P$(e){var t=e.getDay();return t===0&&(t=7),t}function D$(e){return e===null?"null":e===void 0?"undefined":typeof e!="object"?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}const jA={isSame:(e,t,s)=>{let a=new Date(e),c=new Date(t);return s==="date"&&(a.setHours(0,0,0,0),c.setHours(0,0,0,0)),a.getTime()===c.getTime()},daysInMonth:(e,t)=>new Date(e,t,0).getDate(),weekNumber:e=>NA(e),format:(e,t)=>Qo(e,t),nextMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()+1),t},prevMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()-1),t},validateDateRange:(e,t,s)=>{let a=new Date(s),c=new Date(t);return s&&e.getTime()>a.getTime()?a:t&&e.getTime()<c.getTime()?c:e},localeData:e=>({...{direction:"ltr",format:"mm/dd/yyyy",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:Qo.i18n.dayNames.slice(0,7).map(s=>s.substring(0,2)),monthNames:Qo.i18n.monthNames.slice(0,12),firstDay:0},...e}),yearMonth:e=>{let t=e.getMonth()+1;return e.getFullYear()+(t<10?"0":"")+t},isValidDate:e=>e instanceof Date&&!isNaN(e)},IS={props:{dateUtil:{type:[Object,String],default:"native"}},created(){this.$dateUtil=jA}},I$={mixins:[IS],name:"calendar",props:{monthDate:Date,localeData:Object,start:Date,end:Date,minDate:Date,maxDate:Date,showDropdowns:{type:Boolean,default:!1},showWeekNumbers:{type:Boolean,default:!1},dateFormat:{type:Function,default:null}},data(){let e=this.monthDate||this.start||new Date;return{currentMonthDate:e,year_text:e.getFullYear()}},methods:{prevMonthClick(){this.changeMonthDate(this.$dateUtil.prevMonth(this.currentMonthDate))},nextMonthClick(){this.changeMonthDate(this.$dateUtil.nextMonth(this.currentMonthDate))},changeMonthDate(e,t=!0){let s=this.$dateUtil.yearMonth(this.currentMonthDate);this.currentMonthDate=this.$dateUtil.validateDateRange(e,this.minDate,this.maxDate),t&&s!==this.$dateUtil.yearMonth(this.currentMonthDate)&&this.$emit("change-month",{month:this.currentMonthDate.getMonth()+1,year:this.currentMonthDate.getFullYear()}),this.checkYear()},dayClass(e){let t=new Date(e);t.setHours(0,0,0,0);let s=new Date(this.start);s.setHours(0,0,0,0);let a=new Date(this.end);a.setHours(0,0,0,0);let c={off:e.getMonth()+1!==this.month,weekend:e.getDay()===6||e.getDay()===0,today:t.setHours(0,0,0,0)==new Date().setHours(0,0,0,0),active:t.setHours(0,0,0,0)==new Date(this.start).setHours(0,0,0,0)||t.setHours(0,0,0,0)==new Date(this.end).setHours(0,0,0,0),"in-range":t>=s&&t<=a,"start-date":t.getTime()===s.getTime(),"end-date":t.getTime()===a.getTime(),disabled:this.minDate&&t.getTime()<this.minDate.getTime()||this.maxDate&&t.getTime()>this.maxDate.getTime()};return this.dateFormat?this.dateFormat(c,e):c},checkYear(){this.$refs.yearSelect!==document.activeElement&&this.$nextTick(()=>{this.year_text=this.monthDate.getFullYear()})}},computed:{monthName(){return this.locale.monthNames[this.currentMonthDate.getMonth()]},year:{get(){return this.year_text},set(e){this.year_text=e;let t=this.$dateUtil.validateDateRange(new Date(e,this.month,1),this.minDate,this.maxDate);this.$dateUtil.isValidDate(t)&&this.$emit("change-month",{month:t.getMonth(),year:t.getFullYear()})}},month:{get(){return this.currentMonthDate.getMonth()+1},set(e){let t=this.$dateUtil.validateDateRange(new Date(this.year,e-1,1),this.minDate,this.maxDate);this.$emit("change-month",{month:t.getMonth()+1,year:t.getFullYear()})}},calendar(){let e=this.month,t=this.currentMonthDate.getFullYear(),s=new Date(t,e-1,1),a=this.$dateUtil.prevMonth(s).getMonth()+1,c=this.$dateUtil.prevMonth(s).getFullYear(),d=new Date(c,e-1,0).getDate(),m=s.getDay(),n=[];for(let Z=0;Z<6;Z++)n[Z]=[];let S=d-m+this.locale.firstDay+1;S>d&&(S-=7),m===this.locale.firstDay&&(S=d-6);let z=new Date(c,a-1,S,12,0,0);for(let Z=0,O=0,H=0;Z<6*7;Z++,O++,z.setDate(z.getDate()+1))Z>0&&O%7===0&&(O=0,H++),n[H][O]=new Date(z.getTime());return n},months(){let e=this.locale.monthNames.map((t,s)=>({label:t,value:s}));if(this.maxDate&&this.minDate){let t=this.maxDate.getFullYear()-this.minDate.getFullYear();if(t<2){let s=[];if(t<1)for(let a=this.minDate.getMonth();a<=this.maxDate.getMonth();a++)s.push(a);else{for(let a=0;a<=this.maxDate.getMonth();a++)s.push(a);for(let a=this.minDate.getMonth();a<12;a++)s.push(a)}if(s.length>0)return e.filter(a=>s.find(c=>a.value===c)>-1)}}return e},locale(){return this.$dateUtil.localeData(this.localeData)}},watch:{monthDate(e){this.currentMonthDate.getTime()!==e.getTime()&&this.changeMonthDate(e,!1)}}},UA=e=>(fu("data-v-66e2a2e7"),e=e(),mu(),e),L$={class:"table-condensed"},O$=UA(()=>je("span",null,null,-1)),R$=[O$],B$=["colspan"],z$={class:"row mx-1"},F$=["value"],N$=["colspan"],j$=UA(()=>je("span",null,null,-1)),U$=[j$],G$={key:0,class:"week"},V$={key:0,class:"week"},$$=["onClick","onMouseover"];function H$(e,t,s,a,c,d){return Ot(),Ft("table",L$,[je("thead",null,[je("tr",null,[je("th",{class:"prev available",onClick:t[0]||(t[0]=(...m)=>d.prevMonthClick&&d.prevMonthClick(...m)),tabindex:"0"},R$),s.showDropdowns?(Ot(),Ft("th",{key:0,colspan:s.showWeekNumbers?6:5,class:"month"},[je("div",z$,[rr(je("select",{"onUpdate:modelValue":t[1]||(t[1]=m=>d.month=m),class:"monthselect col"},[(Ot(!0),Ft(fn,null,vs(d.months,m=>(Ot(),Ft("option",{key:m.value,value:m.value+1},ji(m.label),9,F$))),128))],512),[[Il,d.month]]),rr(je("input",{ref:"yearSelect",type:"number","onUpdate:modelValue":t[2]||(t[2]=m=>d.year=m),onBlur:t[3]||(t[3]=(...m)=>d.checkYear&&d.checkYear(...m)),class:"yearselect col"},null,544),[[il,d.year]])])],8,B$)):(Ot(),Ft("th",{key:1,colspan:s.showWeekNumbers?6:5,class:"month"},ji(d.monthName)+" "+ji(d.year),9,N$)),je("th",{class:"next available",onClick:t[4]||(t[4]=(...m)=>d.nextMonthClick&&d.nextMonthClick(...m)),tabindex:"0"},U$)])]),je("tbody",null,[je("tr",null,[s.showWeekNumbers?(Ot(),Ft("th",G$,ji(d.locale.weekLabel),1)):yn("",!0),(Ot(!0),Ft(fn,null,vs(d.locale.daysOfWeek,m=>(Ot(),Ft("th",{key:m},ji(m),1))),128))]),(Ot(!0),Ft(fn,null,vs(d.calendar,(m,n)=>(Ot(),Ft("tr",{key:n},[s.showWeekNumbers&&(n%7||n===0)?(Ot(),Ft("td",V$,ji(e.$dateUtil.weekNumber(m[0])),1)):yn("",!0),(Ot(!0),Ft(fn,null,vs(m,(S,z)=>(Ot(),Ft("td",{class:Gs(d.dayClass(S)),onClick:Z=>e.$emit("dateClick",S),onMouseover:Z=>e.$emit("hoverDate",S),key:z},[tc(e.$slots,"date-slot",{date:S},()=>[Jr(ji(S.getDate()),1)],!0)],42,$$))),128))]))),128))])])}const W$=Kn(I$,[["render",H$],["__scopeId","data-v-66e2a2e7"]]),Y$={props:{miniuteIncrement:{type:Number,default:5},hour24:{type:Boolean,default:!0},secondPicker:{type:Boolean,default:!1},currentTime:{default(){return new Date}},readonly:{type:Boolean,default:!1}},data(){let e=this.currentTime?this.currentTime:new Date,t=e.getHours();return{hour:this.hour24?t:t%12||12,minute:e.getMinutes()-e.getMinutes()%this.miniuteIncrement,second:e.getSeconds(),ampm:t<12?"AM":"PM"}},computed:{hours(){let e=[],t=this.hour24?24:12;for(let s=0;s<t;s++)e.push(this.hour24?s:s+1);return e},minutes(){let e=[],t=60;for(let s=0;s<t;s=s+this.miniuteIncrement)e.push(s);return e}},watch:{hour(){this.onChange()},minute(){this.onChange()},second(){this.onChange()},ampm(){this.onChange()}},methods:{formatNumber:e=>e<10?"0"+e.toString():e.toString(),getHour(){return this.hour24?this.hour:this.hour===12?this.ampm==="AM"?0:12:this.hour+(this.ampm==="PM"?12:0)},onChange(){this.$emit("update",{hours:this.getHour(),minutes:this.minute,seconds:this.second})}}},q$={class:"calendar-time"},X$=["disabled"],Z$=["value"],K$=["disabled"],J$=["value"],Q$=["disabled"],eH=["value"],tH=["disabled"],iH=je("option",{value:"AM"},"AM",-1),nH=je("option",{value:"PM"},"PM",-1),sH=[iH,nH];function rH(e,t,s,a,c,d){return Ot(),Ft("div",q$,[rr(je("select",{"onUpdate:modelValue":t[0]||(t[0]=m=>c.hour=m),class:"hourselect form-control mr-1",disabled:s.readonly},[(Ot(!0),Ft(fn,null,vs(d.hours,m=>(Ot(),Ft("option",{key:m,value:m},ji(d.formatNumber(m)),9,Z$))),128))],8,X$),[[Il,c.hour]]),Jr(" :"),rr(je("select",{"onUpdate:modelValue":t[1]||(t[1]=m=>c.minute=m),class:"minuteselect form-control ml-1",disabled:s.readonly},[(Ot(!0),Ft(fn,null,vs(d.minutes,m=>(Ot(),Ft("option",{key:m,value:m},ji(d.formatNumber(m)),9,J$))),128))],8,K$),[[Il,c.minute]]),s.secondPicker?(Ot(),Ft(fn,{key:0},[Jr(" :"),rr(je("select",{"onUpdate:modelValue":t[2]||(t[2]=m=>c.second=m),class:"secondselect form-control ml-1",disabled:s.readonly},[(Ot(),Ft(fn,null,vs(60,m=>je("option",{key:m-1,value:m-1},ji(d.formatNumber(m-1)),9,eH)),64))],8,Q$),[[Il,c.second]])],64)):yn("",!0),s.hour24?yn("",!0):rr((Ot(),Ft("select",{key:1,"onUpdate:modelValue":t[3]||(t[3]=m=>c.ampm=m),class:"ampmselect",disabled:s.readonly},sH,8,tH)),[[Il,c.ampm]])])}const oH=Kn(Y$,[["render",rH]]),aH={mixins:[IS],props:{ranges:Object,selected:Object,localeData:Object,alwaysShowCalendars:Boolean},data(){return{customRangeActive:!1}},methods:{clickRange(e){this.customRangeActive=!1,this.$emit("clickRange",e)},clickCustomRange(){this.customRangeActive=!0,this.$emit("showCustomRange")},range_class(e){return{active:e.selected===!0}}},computed:{listedRanges(){return this.ranges?Object.keys(this.ranges).map(e=>({label:e,value:this.ranges[e],selected:this.$dateUtil.isSame(this.selected.startDate,this.ranges[e][0])&&this.$dateUtil.isSame(this.selected.endDate,this.ranges[e][1])})):!1},selectedRange(){return this.listedRanges.find(e=>e.selected===!0)},showCustomRangeLabel(){return!this.alwaysShowCalendars}}},lH={class:"ranges"},cH={key:0},hH=["onClick","data-range-key"];function dH(e,t,s,a,c,d){return Ot(),Ft("div",lH,[s.ranges?(Ot(),Ft("ul",cH,[(Ot(!0),Ft(fn,null,vs(d.listedRanges,m=>(Ot(),Ft("li",{onClick:n=>d.clickRange(m.value),"data-range-key":m.label,key:m.label,class:Gs(d.range_class(m)),tabindex:"0"},ji(m.label),11,hH))),128)),d.showCustomRangeLabel?(Ot(),Ft("li",{key:0,class:Gs({active:c.customRangeActive||!d.selectedRange}),onClick:t[0]||(t[0]=(...m)=>d.clickCustomRange&&d.clickCustomRange(...m)),tabindex:"0"},ji(s.localeData.customRangeLabel),3)):yn("",!0)])):yn("",!0)])}const uH=Kn(aH,[["render",dH]]),pH={mounted(e,{instance:t}){if(t.appendToBody){const{height:s,top:a,left:c,width:d,right:m}=t.$refs.toggle.getBoundingClientRect();e.unbindPosition=t.calculatePosition(e,t,{width:d,top:window.scrollY+a+s,left:window.scrollX+c,right:m}),document.body.appendChild(e)}else t.$el.appendChild(e)},unmounted(e,{instance:t}){t.appendToBody&&(e.unbindPosition&&typeof e.unbindPosition=="function"&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}},fH={inheritAttrs:!1,components:{Calendar:W$,CalendarTime:oH,CalendarRanges:uH},mixins:[IS],directives:{appendToBody:pH},emits:["update:modelValue","toggle","hoverDate","startSelection","select","change-month","finishSelection"],props:{modelValue:{type:Object},minDate:{type:[String,Date],default(){return null}},maxDate:{type:[String,Date],default(){return null}},showWeekNumbers:{type:Boolean,default:!1},linkedCalendars:{type:Boolean,default:!0},singleDatePicker:{type:[Boolean,String],default:!1},showDropdowns:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},timePickerIncrement:{type:Number,default:5},timePicker24Hour:{type:Boolean,default:!0},timePickerSeconds:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},localeData:{type:Object,default(){return{}}},dateRange:{type:[Object],default:null,required:!0},ranges:{type:[Object,Boolean],default(){let e=new Date;e.setHours(0,0,0,0);let t=new Date;t.setHours(11,59,59,999);let s=new Date;s.setDate(e.getDate()-1),s.setHours(0,0,0,0);let a=new Date;a.setDate(e.getDate()-1),a.setHours(11,59,59,999);let c=new Date(e.getFullYear(),e.getMonth(),1),d=new Date(e.getFullYear(),e.getMonth()+1,0,11,59,59,999);return{Today:[e,t],Yesterday:[s,a],"This month":[c,d],"This year":[new Date(e.getFullYear(),0,1),new Date(e.getFullYear(),11,31,11,59,59,999)],"Last month":[new Date(e.getFullYear(),e.getMonth()-1,1),new Date(e.getFullYear(),e.getMonth(),0,11,59,59,999)]}}},opens:{type:String,default:"center"},dateFormat:Function,alwaysShowCalendars:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},controlContainerClass:{type:[Object,String],default:"form-control reportrange-text"},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(e,t,{width:s,top:a,left:c,right:d}){t.opens==="center"?e.style.left=c+s/2+"px":t.opens==="left"?e.style.right=window.innerWidth-d+"px":t.opens==="right"&&(e.style.left=c+"px"),e.style.top=a+"px"}},closeOnEsc:{type:Boolean,default:!0},readonly:{type:Boolean}},data(){const e=jA;let t={locale:e.localeData({...this.localeData})},s=this.dateRange.startDate||null,a=this.dateRange.endDate||null;if(t.monthDate=s?new Date(s):new Date,t.nextMonthDate=e.nextMonth(t.monthDate),t.start=s?new Date(s):null,this.singleDatePicker&&this.singleDatePicker!=="range"?t.end=t.start:t.end=a?new Date(a):null,t.in_selection=!1,t.open=!1,t.showCustomRangeCalendars=!1,t.locale.firstDay!==0){let c=t.locale.firstDay,d=[...t.locale.daysOfWeek];for(;c>0;)d.push(d.shift()),c--;t.locale.daysOfWeek=d}return t},methods:{dateFormatFn(e,t){let s=new Date(t);s.setHours(0,0,0,0);let a=new Date(this.start);a.setHours(0,0,0,0);let c=new Date(this.end);return c.setHours(0,0,0,0),e["in-range"]=s>=a&&s<=c,this.dateFormat?this.dateFormat(e,t):e},changeLeftMonth(e){let t=new Date(e.year,e.month-1,1);this.monthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.monthDate)>=this.$dateUtil.yearMonth(this.nextMonthDate))&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(t),this.minDate,this.maxDate),(!this.singleDatePicker||this.singleDatePicker==="range")&&this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(this.monthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,0)},changeRightMonth(e){let t=new Date(e.year,e.month-1,1);this.nextMonthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.nextMonthDate)<=this.$dateUtil.yearMonth(this.monthDate))&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(t),this.minDate,this.maxDate),this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(this.nextMonthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,1)},normalizeDatetime(e,t){let s=new Date(e);return this.timePicker&&t&&(s.setHours(t.getHours()),s.setMinutes(t.getMinutes()),s.setSeconds(t.getSeconds()),s.setMilliseconds(t.getMilliseconds())),s},dateClick(e){if(this.readonly)return!1;this.in_selection?(this.in_selection=!1,this.end=this.normalizeDatetime(e,this.end),this.end<this.start&&(this.in_selection=!0,this.start=this.normalizeDatetime(e,this.start),this.$emit("startSelection",this.start)),this.in_selection||(this.$emit("finishSelection",this.end),this.onSelect(),this.autoApply&&this.clickedApply())):(this.start=this.normalizeDatetime(e,this.start),this.end=this.normalizeDatetime(e,this.end),!this.singleDatePicker||this.singleDatePicker==="range"?(this.in_selection=!0,this.$emit("startSelection",this.start)):(this.onSelect(),this.autoApply&&this.clickedApply()))},hoverDate(e){if(this.readonly)return!1;let t=this.normalizeDatetime(e,this.end);this.in_selection&&t>=this.start&&(this.end=t),this.$emit("hoverDate",e)},onClickPicker(){this.disabled||this.togglePicker(null,!0)},togglePicker(e,t){typeof e=="boolean"?this.open=e:this.open=!this.open,t===!0&&this.$emit("toggle",this.open,this.togglePicker)},clickedApply(){this.togglePicker(!1,!0),this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},clickCancel(){if(this.open){let e=this.dateRange.startDate,t=this.dateRange.endDate;this.start=e?new Date(e):null,this.end=t?new Date(t):null,this.in_selection=!1,this.togglePicker(!1,!0)}},onSelect(){this.$emit("select",{startDate:this.start,endDate:this.end})},clickAway(e){e&&e.target&&!this.$el.contains(e.target)&&this.$refs.dropdown&&!this.$refs.dropdown.contains(e.target)&&this.clickCancel()},clickRange(e){this.in_selection=!1,this.$dateUtil.isValidDate(e[0])&&this.$dateUtil.isValidDate(e[1])?(this.start=this.$dateUtil.validateDateRange(new Date(e[0]),this.minDate,this.maxDate),this.end=this.$dateUtil.validateDateRange(new Date(e[1]),this.minDate,this.maxDate),this.changeLeftMonth({month:this.start.getMonth()+1,year:this.start.getFullYear()}),this.linkedCalendars===!1&&this.changeRightMonth({month:this.end.getMonth()+1,year:this.end.getFullYear()})):(this.start=null,this.end=null),this.onSelect(),this.autoApply&&this.clickedApply()},onUpdateStartTime(e){let t=new Date(this.start);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.start=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},onUpdateEndTime(e){let t=new Date(this.end);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.end=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.end})},handleEscape(e){this.open&&e.keyCode===27&&this.closeOnEsc&&this.clickCancel()}},computed:{showRanges(){return this.ranges!==!1&&!this.readonly},showCalendars(){return this.alwaysShowCalendars||this.showCustomRangeCalendars},startText(){return this.start===null?"":this.$dateUtil.format(this.start,this.locale.format)},endText(){return this.end===null?"":this.$dateUtil.format(this.end,this.locale.format)},rangeText(){let e=this.startText;return(!this.singleDatePicker||this.singleDatePicker==="range")&&(e+=this.locale.separator+this.endText),e},min(){return this.minDate?new Date(this.minDate):null},max(){return this.maxDate?new Date(this.maxDate):null},pickerStyles(){return{"show-calendar":this.open||this.opens==="inline","show-ranges":this.showRanges,"show-weeknumbers":this.showWeekNumbers,single:this.singleDatePicker,["opens"+this.opens]:!0,linked:this.linkedCalendars,"hide-calendars":!this.showCalendars}},isClear(){return!this.dateRange.startDate||!this.dateRange.endDate},isDirty(){let e=new Date(this.dateRange.startDate),t=new Date(this.dateRange.endDate);return!this.isClear&&(this.start.getTime()!==e.getTime()||this.end.getTime()!==t.getTime())}},watch:{minDate(){let e=this.$dateUtil.validateDateRange(this.monthDate,this.minDate||new Date,this.maxDate);this.changeLeftMonth({year:e.getFullYear(),month:e.getMonth()+1})},maxDate(){let e=this.$dateUtil.validateDateRange(this.nextMonthDate,this.minDate,this.maxDate||new Date);this.changeRightMonth({year:e.getFullYear(),month:e.getMonth()+1})},"dateRange.startDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.start=e&&!this.isClear&&this.$dateUtil.isValidDate(new Date(e))?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},"dateRange.endDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.end=e&&!this.isClear?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},open:{handler(e){typeof document=="object"&&this.$nextTick(()=>{e?document.body.addEventListener("click",this.clickAway):document.body.removeEventListener("click",this.clickAway),e?document.addEventListener("keydown",this.handleEscape):document.removeEventListener("keydown",this.handleEscape),!this.alwaysShowCalendars&&this.ranges&&(this.showCustomRangeCalendars=!Object.keys(this.ranges).find(t=>this.$dateUtil.isSame(this.start,this.ranges[t][0],"date")&&this.$dateUtil.isSame(this.end,this.ranges[t][1],"date")))})},immediate:!0}}},GA=e=>(fu("data-v-577c3804"),e=e(),mu(),e),mH=GA(()=>je("i",{class:"glyphicon glyphicon-calendar fa fa-calendar"},null,-1)),gH=GA(()=>je("b",{class:"caret"},null,-1)),_H={class:"calendars"},yH={key:1,class:"calendars-container"},vH={class:"calendar-table"},xH={key:0,class:"drp-calendar col right"},bH={class:"calendar-table"},wH={key:0,class:"drp-buttons"},SH={key:0,class:"drp-selected"},TH=["disabled"];function EH(e,t,s,a,c,d){const m=Yn("calendar-ranges"),n=Yn("calendar"),S=Yn("calendar-time"),z=dx("append-to-body");return Ot(),Ft("div",{class:Gs(["vue-daterange-picker",{inline:s.opens==="inline"}])},[je("div",{class:Gs(s.controlContainerClass),onClick:t[0]||(t[0]=(...Z)=>d.onClickPicker&&d.onClickPicker(...Z)),ref:"toggle"},[tc(e.$slots,"input",{startDate:e.start,endDate:e.end,ranges:s.ranges,rangeText:d.rangeText},()=>[mH,Jr("  "),je("span",null,ji(d.rangeText),1),gH],!0)],2),Qi(J1,{name:"slide-fade",mode:"out-in"},{default:Do(()=>[e.open||s.opens==="inline"?rr((Ot(),Ft("div",{key:0,class:Gs(["daterangepicker ltr",d.pickerStyles]),ref:"dropdown"},[tc(e.$slots,"header",{rangeText:d.rangeText,locale:e.locale,clickCancel:d.clickCancel,clickApply:d.clickedApply,in_selection:e.in_selection,autoApply:s.autoApply},void 0,!0),je("div",_H,[d.showRanges?tc(e.$slots,"ranges",{key:0,startDate:e.start,endDate:e.end,ranges:s.ranges,clickRange:d.clickRange},()=>[Qi(m,{onClickRange:d.clickRange,onShowCustomRange:t[1]||(t[1]=Z=>e.showCustomRangeCalendars=!0),"always-show-calendars":s.alwaysShowCalendars,"locale-data":e.locale,ranges:s.ranges,selected:{startDate:e.start,endDate:e.end}},null,8,["onClickRange","always-show-calendars","locale-data","ranges","selected"])],!0):yn("",!0),d.showCalendars?(Ot(),Ft("div",yH,[je("div",{class:Gs(["drp-calendar col left",{single:s.singleDatePicker}])},[yn("",!0),je("div",vH,[Qi(n,{monthDate:e.monthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:d.min,maxDate:d.max,"show-dropdowns":s.showDropdowns,onChangeMonth:d.changeLeftMonth,"date-format":d.dateFormatFn,onDateClick:d.dateClick,onHoverDate:d.hoverDate,showWeekNumbers:s.showWeekNumbers},{default:Do(()=>[tc(e.$slots,"date",pv(I1(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),s.timePicker&&e.start?(Ot(),Bh(S,{key:1,onUpdate:d.onUpdateStartTime,"miniute-increment":s.timePickerIncrement,hour24:s.timePicker24Hour,"second-picker":s.timePickerSeconds,"current-time":e.start,readonly:s.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):yn("",!0)],2),s.singleDatePicker?yn("",!0):(Ot(),Ft("div",xH,[yn("",!0),je("div",bH,[Qi(n,{monthDate:e.nextMonthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:d.min,maxDate:d.max,"show-dropdowns":s.showDropdowns,onChangeMonth:d.changeRightMonth,"date-format":d.dateFormatFn,onDateClick:d.dateClick,onHoverDate:d.hoverDate,showWeekNumbers:s.showWeekNumbers},{default:Do(()=>[tc(e.$slots,"date",pv(I1(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),s.timePicker&&e.end?(Ot(),Bh(S,{key:1,onUpdate:d.onUpdateEndTime,"miniute-increment":s.timePickerIncrement,hour24:s.timePicker24Hour,"second-picker":s.timePickerSeconds,"current-time":e.end,readonly:s.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):yn("",!0)]))])):yn("",!0)]),tc(e.$slots,"footer",{rangeText:d.rangeText,locale:e.locale,clickCancel:d.clickCancel,clickApply:d.clickedApply,in_selection:e.in_selection,autoApply:s.autoApply},()=>[s.autoApply?yn("",!0):(Ot(),Ft("div",wH,[d.showCalendars?(Ot(),Ft("span",SH,ji(d.rangeText),1)):yn("",!0),s.readonly?yn("",!0):(Ot(),Ft("button",{key:1,class:"cancelBtn btn btn-sm btn-secondary",type:"button",onClick:t[2]||(t[2]=(...Z)=>d.clickCancel&&d.clickCancel(...Z))},ji(e.locale.cancelLabel),1)),s.readonly?yn("",!0):(Ot(),Ft("button",{key:2,class:"applyBtn btn btn-sm btn-success",disabled:e.in_selection,type:"button",onClick:t[3]||(t[3]=(...Z)=>d.clickedApply&&d.clickedApply(...Z))},ji(e.locale.applyLabel),9,TH))]))],!0)],2)),[[z]]):yn("",!0)]),_:3})],2)}const CH=Kn(fH,[["render",EH],["__scopeId","data-v-577c3804"]]),MH={name:"DateRange",components:{DateRangePicker:CH},props:{from:String,to:String},data(){return{localFrom:this.from?en(Date.parse(this.from)).format("YYYY-MM-DD"):en(new Date).format("YYYY-MM-DD"),localTo:this.to?en(Date.parse(this.to)).format("YYYY-MM-DD"):en(new Date).format("YYYY-MM-DD"),dateRange:{startDate:this.from?Date.parse(this.from):new Date,endDate:this.to?Date.parse(this.to):new Date},locale:{direction:"ltr",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:en.weekdaysMin(),monthNames:en.monthsShort(),firstDay:1}}},methods:{updatePicker(e){this.localFrom=en(e.startDate).format("YYYY-MM-DD"),this.localTo=en(e.endDate).format("YYYY-MM-DD"),this.$emit("change",{from:this.localFrom,to:this.localTo})}}};function AH(e,t,s,a,c,d){const m=Yn("date-range-picker");return Ot(),Ft(fn,null,[Qi(m,{ref:"picker",modelValue:c.dateRange,"onUpdate:modelValue":[t[0]||(t[0]=n=>c.dateRange=n),d.updatePicker],"auto-apply":"",dateRange:c.dateRange,"locale-data":c.locale,format:"DD/MM/YYYY"},null,8,["modelValue","onUpdate:modelValue","dateRange","locale-data"]),rr(je("input",{type:"hidden",name:"from","onUpdate:modelValue":t[1]||(t[1]=n=>c.localFrom=n)},null,512),[[il,c.localFrom]]),rr(je("input",{type:"hidden",name:"to","onUpdate:modelValue":t[2]||(t[2]=n=>c.localTo=n)},null,512),[[il,c.localTo]])],64)}const LS=Kn(MH,[["render",AH]]);BA(Pl);const kH={components:{highcharts:Kf.Chart},props:{min:{type:Number,default:0},max:{type:Number,default:32},value:{type:Number,default:0},title:String},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:this.min,max:this.max,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:this.title,y:150},plotBands:[{from:0,to:this.max/8,color:"#576D7E",thickness:40},{from:this.max/8,to:this.max/8*2,color:"#34485C",thickness:40},{from:this.max/8*2,to:this.max/8*3,color:"#60C5B8",thickness:40},{from:this.max/8*3,to:this.max/8*4,color:"#25B39E",thickness:40},{from:this.max/8*4,to:this.max/8*5,color:"#FCD062",thickness:40},{from:this.max/8*5,to:this.max/8*6,color:"#F8B84E",thickness:40},{from:this.max/8*6,to:this.max/8*7,color:"#F17F53",thickness:40},{from:this.max/8*7,to:this.max/8*8,color:"#F05542",thickness:40}]}],series:[{name:this.title,data:[this.value],tooltip:{valueSuffix:" "}}]}}},methods:{},watch:{value:function(e,t){this.options.series[0].data=[e]}}};function PH(e,t,s,a,c,d){const m=Yn("highcharts");return Ot(),Ft("div",null,[Qi(m,{options:c.options},null,8,["options"])])}const DH=Kn(kH,[["render",PH]]),IH={props:{value:Number,title:String},components:{highcharts:Kf.Chart},watch:{value:function(e,t){this.options.series[0].data=[e]}},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:0,endAngle:360,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{title:{text:this.title},min:1,max:360,lineColor:"#333",offset:-20,tickInterval:30,labels:{step:1,distance:5,rotation:"auto"}}],series:[{name:this.title,yAxis:0,data:[this.value],dial:{radius:"88%",baseWidth:10,baseLength:"0%",rearLength:0,borderWidth:1,borderColor:"#9A0000",backgroundColor:"#CC0000"},tooltip:{valueSuffix:"°"}}]}}}};function LH(e,t,s,a,c,d){const m=Yn("highcharts");return Ot(),Ft("div",null,[Qi(m,{options:c.options},null,8,["options"])])}const VA=Kn(IH,[["render",LH]]),OH={props:{url:String,fleet:Object},components:{SpeedoMeter:DH,Compass:VA},methods:{scaleBeafort(e){let t="";return e<=1?t="Calm":e>1&&e<3.9?t="Light Air":e>4&&e<6.9?t="Light Breeze":e>7&&e<10.9?t="Gentle breeze":e>11&&e<16.9?t="Moderate breeze":e>17&&e<21.9?t="Fresh breeze":e>22&&e<27.9?t="Strong breeze":e>28&&e<33.9?t="High wind":e>34&&e<40.9?t="Gale":e>41&&e<47.9?t="Strong/severe gale":e>48&&e<55.9?t="Storm":e>56&&e<63.9?t="Violent storm":t="Hurricane force",t}}},RH={class:"row"},BH={class:"col-3"},zH={class:"col-3"},FH={class:"col-3"},NH={class:"col-3"};function jH(e,t,s,a,c,d){const m=Yn("speedo-meter"),n=Yn("compass");return Ot(),Ft("div",RH,[je("div",BH,[Qi(m,{value:s.fleet.navigation.sog,max:32,title:"Speed (knot)"},null,8,["value"])]),je("div",zH,[Qi(n,{value:s.fleet.navigation.cog,title:"Course (°)"},null,8,["value"])]),je("div",FH,[Qi(m,{value:s.fleet.navigation.wind_speed,max:80,title:d.scaleBeafort(s.fleet.navigation.wind_speed)},null,8,["value","title"])]),je("div",NH,[Qi(n,{value:s.fleet.navigation.wind_direction,title:"Wind Direction"},null,8,["value"])])])}const UH=Kn(OH,[["render",jH]]),GH={components:{FleetSpeedometer:UH},props:{url:String},data(){return{fleet:null}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(e=>e.data)}}},VH={key:0},$H={class:"p-3"},HH={class:"row"},WH={class:"col-12"},YH=je("div",{class:"table-title"},[je("h6",null,"Navigation information")],-1),qH={class:"table table-sm"},XH=je("th",{scope:"row"},"•",-1),ZH=je("td",null,"Updated at",-1),KH={class:"text-end"},JH=je("th",{scope:"row"},"•",-1),QH=je("td",null,"Coordinate",-1),eW={class:"text-end"},tW=je("th",{scope:"row"},"•",-1),iW=je("td",null,"Heading",-1),nW={class:"text-end"},sW=je("th",{scope:"row"},"•",-1),rW=je("td",null,"Course / COG",-1),oW={class:"text-end"},aW=je("th",{scope:"row"},"•",-1),lW=je("td",null,"Speed / SOG",-1),cW={class:"text-end"},hW=je("th",{scope:"row"},"•",-1),dW=je("td",null,"Depth",-1),uW={class:"text-end"},pW=je("th",{scope:"row"},"•",-1),fW=je("td",null,"Wind Speed",-1),mW={class:"text-end"},gW=je("th",{scope:"row"},"•",-1),_W=je("td",null,"Wind Direction",-1),yW={class:"text-end"},vW=je("th",{scope:"row"},"•",-1),xW=je("td",null,"Travel Distance",-1),bW={class:"text-end"},wW=je("th",{scope:"row"},"•",-1),SW=je("td",null,"Total Travel Distance",-1),TW={class:"text-end"};function EW(e,t,s,a,c,d){const m=Yn("fleet-speedometer");return c.fleet?(Ot(),Ft("div",VH,[Qi(m,{fleet:c.fleet},null,8,["fleet"]),je("div",$H,[je("div",HH,[je("div",WH,[YH,je("table",qH,[je("tbody",null,[je("tr",null,[XH,ZH,je("td",KH,ji(c.fleet.last_connection),1)]),je("tr",null,[JH,QH,je("td",eW,ji(c.fleet.navigation.lat.toFixed(5))+" "+ji(c.fleet.navigation.lat_dir)+", "+ji(c.fleet.navigation.lng.toFixed(5))+" "+ji(c.fleet.navigation.lng_dir),1)]),je("tr",null,[tW,iW,je("td",nW,ji(c.fleet.navigation.heading)+" °",1)]),je("tr",null,[sW,rW,je("td",oW,ji(c.fleet.navigation.cog)+" °",1)]),je("tr",null,[aW,lW,je("td",cW,ji(c.fleet.navigation.sog)+" knot",1)]),je("tr",null,[hW,dW,je("td",uW,ji(c.fleet.navigation.depth)+" meter",1)]),je("tr",null,[pW,fW,je("td",mW,ji(c.fleet.navigation.wind_speed)+" knot",1)]),je("tr",null,[gW,_W,je("td",yW,ji(c.fleet.navigation.wind_direction)+" °",1)]),je("tr",null,[vW,xW,je("td",bW,ji(c.fleet.navigation.distance)+" NM",1)]),je("tr",null,[wW,SW,je("td",TW,ji(c.fleet.navigation.total_distance)+" NM",1)])])])])])])])):yn("",!0)}const CW=Kn(GH,[["render",EW]]),MW={props:{min:Number,max:Number,value:Number,normal:Number,danger:Number},data(){return{}},computed:{percentage(){return this.value/this.max*100},color(){let e="bg-success",t=this.value/this.max*100,s=this.normal/this.max*100,a=this.danger/this.max*100;return t>s&&t<a?e="bg-warning":t>a&&(e="bg-danger"),e}}},AW={class:"progress"};function kW(e,t,s,a,c,d){return Ot(),Ft("div",AW,[je("div",{class:Gs(["progress-bar",d.color]),style:Dl({width:`${d.percentage}%`}),role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"},null,6)])}const PW=Kn(MW,[["render",kW]]),DW={components:{"progress-bar":PW},props:{fleet:Object,display:Boolean},data(){return{}},methods:{toggleText(){this.display=!this.display}}},IW={class:"voyage-section"},LW={key:0,class:"card voyage-card"},OW={class:"card-header justify-content-between"},RW=["src"],BW=je("h5",{class:"fw-normal m-0"},"Fleet Information",-1),zW={class:"card-body"},FW=je("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[je("li",{class:"nav-item",role:"presentation"},[je("button",{class:"nav-link justify-content-left active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),NW={class:"tab-content",id:"pills-tabContent"},jW={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},UW={class:"m12"},GW=je("div",{class:"st21"},"Name",-1),VW={class:"st22"},$W=["href"],HW=je("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),WW={class:"m12"},YW=je("div",{class:"st21"},"IMO Number",-1),qW={class:"st22"},XW={class:"m12"},ZW=je("div",{class:"st21"},"Last Update",-1),KW={class:"st22"},JW={class:"m12"},QW=je("div",{class:"st21"},"Last Coordinates",-1),eY={class:"st22"},tY=["href"],iY=je("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),nY={class:"m12"},sY=je("div",{class:"st21"},"Status",-1),rY={class:"st22"},oY={key:0,class:"m12"},aY=je("div",{class:"st21"},"At Port",-1),lY={class:"st22"},cY=ph('<div class="m12"><div class="st21">Origin</div><div class="st22"></div></div><div class="m12"><div class="st21">Destination</div><div class="st22"></div></div><div class="m12"><div class="st21">ETA</div><div class="st22"></div></div><br>',4),hY=je("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[je("li",{class:"nav-item",role:"presentation"},[je("button",{class:"nav-link justify-content-left active",id:"pills-main-engine-tab","data-bs-toggle":"pill","data-bs-target":"#pills-main-engine",type:"button",role:"tab","aria-controls":"pills-main-engine","aria-selected":"true"},"Main Engine")]),je("li",{class:"nav-item",role:"presentation"},[je("button",{class:"nav-link justify-content-center",id:"pills-pump-tab","data-bs-toggle":"pill","data-bs-target":"#pills-pump",type:"button",role:"tab","aria-controls":"pills-pump","aria-selected":"false"},"Pump Status")])],-1),dY={class:"tab-content",id:"pills-tabContent"},uY={class:"tab-pane fade show active",id:"pills-main-engine",role:"tabpanel","aria-labelledby":"pills-main-engine-tab"},pY=je("div",{class:"tt01"},"Main Engine Latest Status",-1),fY={class:"st21"},mY={key:0},gY=["innerHTML"],_Y={key:1},yY={class:"st22"},vY={class:"tab-pane",id:"pills-pump",role:"tabpanel","aria-labelledby":"pills-pump-tab"},xY=je("div",{class:"tt01"},"Cargo/Ballast/Stripping/Vacuum Pump",-1),bY={class:"st21"},wY={key:0},SY=["innerHTML"],TY={key:1},EY={class:"st22"};function CY(e,t,s,a,c,d){const m=Yn("progress-bar");return Ot(),Ft("div",IW,[s.display?(Ot(),Ft("div",LW,[je("div",OW,[je("button",{onClick:t[0]||(t[0]=n=>e.$emit("close",!0)),class:"btn btn-link bg-transparent p-0"},[je("img",{src:"/img/icons/close-fill.png",alt:""},null,8,RW)]),BW]),je("div",zW,[FW,je("div",NW,[je("div",jW,[je("div",UW,[GW,je("div",VW,[je("a",{href:`/fleet/${s.fleet.id}`,class:"d-flex align-items-center"},[Jr(ji(s.fleet.name)+" ",1),HW],8,$W)])]),je("div",WW,[YW,je("div",qW,ji(s.fleet.imo_number),1)]),je("div",XW,[ZW,je("div",KW,ji(e.$filters.dateformat(s.fleet.last_connection))+" WIB",1)]),je("div",JW,[QW,je("div",eY,[je("a",{href:`/fleet/${s.fleet.id}/track`,class:"d-flex align-items-center"},[Jr(ji(s.fleet.navigation.lat.toFixed(4))+" "+ji(s.fleet.navigation.lat_dir)+", "+ji(s.fleet.navigation.lng.toFixed(4))+" "+ji(s.fleet.navigation.lng_dir)+" ",1),iY],8,tY)])]),je("div",nY,[sY,je("div",rY,ji(s.fleet.fleet_status.replace("_"," ").toUpperCase()),1)]),s.fleet.fleet_status=="at_port"?(Ot(),Ft("div",oY,[aY,je("div",lY,ji(s.fleet.last_port),1)])):yn("",!0),cY,hY,je("div",dY,[je("div",uY,[pY,(Ot(!0),Ft(fn,null,vs(s.fleet.engine_info,(n,S)=>(Ot(),Ft("div",{class:"m13",key:S},[je("div",fY,[Jr(ji(n.title)+" ",1),n.value>0?(Ot(),Ft("span",mY,[Jr(ji(e.$filters.number(n.value))+" ",1),je("span",{innerHTML:n.unit},null,8,gY)])):yn("",!0),Jr(),n.value==0?(Ot(),Ft("span",_Y,"OFF")):yn("",!0)]),je("div",yY,[Qi(m,{min:n.min,warning:n.warning,danger:n.danger,max:n.max,value:n.value},null,8,["min","warning","danger","max","value"])])]))),128))]),je("div",vY,[xY,(Ot(!0),Ft(fn,null,vs(s.fleet.cargo_pump_info,(n,S)=>(Ot(),Ft("div",{class:"m13",key:S},[je("div",bY,[Jr(ji(n.title)+" ",1),n.value>0?(Ot(),Ft("span",wY,[Jr(ji(e.$filters.number(n.value))+" ",1),je("span",{innerHTML:n.unit},null,8,SY)])):yn("",!0),Jr(),n.value==0?(Ot(),Ft("span",TY,"OFF")):yn("",!0)]),je("div",EY,[Qi(m,{min:n.min,normal:n.normal,danger:n.danger,max:n.max,value:n.value},null,8,["min","normal","danger","max","value"])])]))),128))])])])])])])):yn("",!0)])}const MY=Kn(DW,[["render",CY]]),AY={name:"ChartSvg",props:{path:String,svgData:Object,height:Number},data(){return{scadavis:null,tags:[]}},async mounted(){await this.init(),Object.keys(this.svgData).forEach(e=>{this.setValue(e,this.svgData[e])})},created(){window.addEventListener("resize",this.resize)},destroyed(){window.removeEventListener("resize",this.resize)},watch:{svgData:function(e,t){let s=this;Object.keys(e).forEach(a=>{s.setValue(a,e[a])})}},methods:{async init(){this.scadavis=await scadavisInit({container:"scada-svg",svgurl:this.path}),this.scadavis.enableTools(!1,!0),this.scadavis.hideWatermark(),this.tags=this.scadavis.getTagsList().split(","),this.tags.forEach(e=>{this.scadavis.setValue(e,0)}),this.resize()},resize(){this.scadavis.zoomToOriginal();let e=this.$refs.cnsvg;this.scadavis.zoomTo(1*(e.clientWidth<e.clientHeight?e.clientWidth/600:e.clientHeight/600))},setValue(e,t){this.scadavis&&this.scadavis.setValue(e,t)}}};function kY(e,t,s,a,c,d){return Ot(),Ft("div",null,[je("div",{id:"scada-svg",class:"scada",ref:"cnsvg",style:Dl({height:this.height+"px"})},null,4)])}const zm=Kn(AY,[["render",kY]]),PY={props:{url:String},components:{ChartSvg:zm},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=e[s]*1e3)})}}}},DY={key:0},IY={class:"container"},LY={class:"row"},OY={class:"col-12"};function RY(e,t,s,a,c,d){const m=Yn("chart-svg");return c.fleet?(Ot(),Ft("div",DY,[je("div",IY,[je("div",LY,[je("div",OY,[Qi(m,{path:"/svg/cargo_bargraph.svg",svgData:c.data,height:550},null,8,["svgData"])])])])])):yn("",!0)}const BY=Kn(PY,[["render",RY]]),zY={props:{url:String},components:{ChartSvg:zm},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=e[s]*1e3)}),this.data.fleet_name=this.fleet.name}}}},FY={key:0},NY={class:"container"},jY={class:"row"},UY={class:"col-12"};function GY(e,t,s,a,c,d){const m=Yn("chart-svg");return c.fleet?(Ot(),Ft("div",FY,[je("div",NY,[je("div",jY,[je("div",UY,[Qi(m,{path:"/svg/bunker_bargraph.svg",svgData:c.data,height:550},null,8,["svgData"])])])])])):yn("",!0)}const VY=Kn(zY,[["render",GY]]),$Y={props:{url:String},components:{ChartSvg:zm},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=e[s]*1e3)}),this.data.fleet_name=this.fleet.name}}}},HY={key:0},WY={class:"container"},YY={class:"row"},qY={class:"col-12"};function XY(e,t,s,a,c,d){const m=Yn("chart-svg");return c.fleet?(Ot(),Ft("div",HY,[je("div",WY,[je("div",YY,[je("div",qY,[Qi(m,{path:"/svg/water_ballast_bargraph.svg",svgData:c.data,height:550},null,8,["svgData"])])])])])):yn("",!0)}const ZY=Kn($Y,[["render",XY]]),KY={props:{url:String},components:{ChartSvg:zm},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.engine;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=e[s]*1e3)}),this.data.fleet_name=this.fleet.name}}}};function JY(e,t,s,a,c,d){const m=Yn("chart-svg");return Ot(),Ft("div",null,[Qi(m,{path:"/svg/engine-2.svg",svgData:c.data,height:550},null,8,["svgData"])])}const QY=Kn(KY,[["render",JY]]),eq={name:"UserPermission",props:{url:String},data(){return{permissions:[],checked:[],user_id:null}},mounted(){this.loadRole(),this.loadData()},methods:{async loadData(){let{data:e}=await axios.get(this.url);this.user_id=e.data.id,this.checked=e.data.permissions},async loadRole(){let{data:e}=await axios.get("/master/permission/json");this.permissions=e.data},async assignTo(){this.user_id&&(await axios.post(`/master/user/${this.user_id}/update-permission`,{permission:this.checked}),window.$vmapp.$refs.vuetable.getData())}}},tq={class:"form-group mb-3"},iq=je("label",null,"Permissions",-1),nq={class:"checkbox"},sq={class:"ui-check"},rq=["value"],oq=je("i",{class:"dark-white"},null,-1),aq={class:"float-end"};function lq(e,t,s,a,c,d){return Ot(),Ft("div",null,[je("div",tq,[iq,(Ot(!0),Ft(fn,null,vs(c.permissions,m=>(Ot(),Ft("div",nq,[je("label",sq,[rr(je("input",{type:"checkbox",value:m.name,"onUpdate:modelValue":t[0]||(t[0]=n=>c.checked=n)},null,8,rq),[[ou,c.checked]]),oq,Jr(" "+ji(m.name),1)])]))),256))]),je("div",aq,[je("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...m)=>d.assignTo&&d.assignTo(...m))},"Assign Permissions")])])}const cq=Kn(eq,[["render",lq]]),hq={props:{title:String,url:String,fields:Array,show:Boolean,fleet:Object},data(){return{data:{}}},mounted(){this.fields.forEach(e=>{this.data[e.field]=null}),this.fleet&&(this.data.fleet_id=this.fleet.fleetId,this.data.group=this.fleet.group,this.data.ordered=this.fleet.ordered)},methods:{async save(){let e=await axios.post(this.url,this.data).then(t=>t.data);e.error?this.$emit("saved",!1):this.$emit("saved",e)}}},dq={class:"modal-dialog modal-dialog-centered",role:"document"},uq={class:"modal-content"},pq={class:"modal-header"},fq={class:"modal-title"},mq={class:"modal-body"},gq={key:0,class:"mb-2"},_q={class:"form-label"},yq=["onUpdate:modelValue"],vq=["value"],xq={class:"form-label"},bq=["onUpdate:modelValue"],wq=["value"],Sq={key:2,class:"mb-2"},Tq={class:"form-label"},Eq=["onUpdate:modelValue"],Cq={class:"modal-footer"};function Mq(e,t,s,a,c,d){return Ot(),Ft("div",{class:Gs(["modal modal-blur fade",{show:s.show}]),style:Dl({display:s.show?"block":"none"}),id:"modal-team",tabindex:"-1",role:"dialog","aria-hidden":"true"},[je("div",dq,[je("div",uq,[je("div",pq,[je("h5",fq,ji(s.title),1),je("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=m=>s.show=!1)})]),je("div",mq,[(Ot(!0),Ft(fn,null,vs(s.fields,(m,n)=>(Ot(),Ft(fn,{key:n},[m.editType=="select"?(Ot(),Ft("div",gq,[je("label",_q,ji(m.name),1),rr(je("select",{"onUpdate:modelValue":S=>c.data[m.field]=S,class:"form-select"},[(Ot(!0),Ft(fn,null,vs(m.options,(S,z)=>(Ot(),Ft("option",{value:S,key:z},ji(S),9,vq))),128))],8,yq),[[Il,c.data[m.field]]])])):m.editType=="selectKeyVal"?(Ot(),Ft(fn,{key:1},[je("label",xq,ji(m.name),1),rr(je("select",{"onUpdate:modelValue":S=>c.data[m.field]=S,class:"form-select"},[(Ot(!0),Ft(fn,null,vs(m.options,(S,z)=>(Ot(),Ft("option",{value:z,key:z},ji(S),9,wq))),128))],8,bq),[[Il,c.data[m.field]]])],64)):(Ot(),Ft("div",Sq,[je("label",Tq,ji(m.name),1),rr(je("input",{type:"text",class:"form-control","onUpdate:modelValue":S=>c.data[m.field]=S},null,8,Eq),[[il,c.data[m.field]]])]))],64))),128))]),je("div",Cq,[je("button",{onClick:t[1]||(t[1]=m=>s.show=!1),type:"button",class:"btn me-auto","data-bs-dismiss":"modal"},"Close"),je("button",{onClick:t[2]||(t[2]=(...m)=>d.save&&d.save(...m)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Add")])])])],6)}const Aq=Kn(hq,[["render",Mq]]),kq={components:{FormModal:Aq},props:{columns:Array,data:Array,editUrl:String,delUrl:String,fleet:Object,editable:Boolean},data(){return{formShow:!1,items:[]}},mounted(){this.data.forEach(e=>this.items.push(e)),this.items=this.items.map(e=>({...e,isEdit:!1}))},methods:{saved(e){e.isEdit=!1,this.items.push(e),this.formShow=!1},editRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit},async saveRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit,await axios.post(this.editUrl,e)},isFieldSlot(e){return!!this.$slots[e]},del(e,t){let s=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(a=>{a.isConfirmed&&(axios.delete(s.delUrl+"/"+e.id),s.items.splice(t,1),s.$swal("Deleted!","Your file has been deleted.","success"))})}}},Pq={key:0,class:"action-edit"},Dq={class:"table-responsive"},Iq={class:"table table-vcenter card-table"},Lq=je("th",null,"No",-1),Oq={key:0},Rq=["onUpdate:modelValue"],Bq=["value"],zq=["onUpdate:modelValue"],Fq=["value"],Nq=["onUpdate:modelValue"],jq={key:4},Uq=["innerHTML"],Gq={key:1},Vq={key:0},$q=["onClick"],Hq=["onClick"],Wq=["onClick"];function Yq(e,t,s,a,c,d){const m=Yn("form-modal");return Ot(),Ft(fn,null,[Qi(m,{fields:s.columns,title:"Add Data",url:s.editUrl,show:c.formShow,fleet:s.fleet,onSaved:d.saved},null,8,["fields","url","show","fleet","onSaved"]),s.editable?(Ot(),Ft("div",Pq,[je("button",{type:"button",class:"btn btn-info",onClick:t[0]||(t[0]=n=>c.formShow=!0)},"Add Data")])):yn("",!0),je("div",Dq,[je("table",Iq,[je("thead",null,[je("tr",null,[Lq,(Ot(!0),Ft(fn,null,vs(s.columns,(n,S)=>(Ot(),Ft("th",{key:S},ji(n.name),1))),128)),s.editable?(Ot(),Ft("th",Oq)):yn("",!0)])]),je("tbody",null,[(Ot(!0),Ft(fn,null,vs(c.items,(n,S)=>(Ot(),Ft("tr",{key:n.id},[je("td",null,ji(1+S),1),(Ot(!0),Ft(fn,null,vs(s.columns,(z,Z)=>(Ot(),Ft("td",{key:Z},[d.isFieldSlot(z.field)?tc(e.$slots,z.field,{key:0,rowData:n,rowIndex:S,rowField:z}):z.editType=="select"&&n.isEdit?rr((Ot(),Ft("select",{key:1,"onUpdate:modelValue":O=>c.items[S][z.field]=O,class:"form-select"},[(Ot(!0),Ft(fn,null,vs(z.options,(O,H)=>(Ot(),Ft("option",{value:O,key:H},ji(O),9,Bq))),128))],8,Rq)),[[Il,c.items[S][z.field]]]):z.editType=="selectKeyVal"&&n.isEdit?rr((Ot(),Ft("select",{key:2,"onUpdate:modelValue":O=>c.items[S][z.field]=O,class:"form-select"},[(Ot(!0),Ft(fn,null,vs(z.options,(O,H)=>(Ot(),Ft("option",{value:H,key:H},ji(O),9,Fq))),128))],8,zq)),[[Il,c.items[S][z.field]]]):n.isEdit?rr((Ot(),Ft("input",{key:3,type:"text",class:"form-control","onUpdate:modelValue":O=>c.items[S][z.field]=O},null,8,Nq)),[[il,c.items[S][z.field]]]):typeof z.display=="function"?(Ot(),Ft("span",jq,ji(z.display(n)),1)):(Ot(),Ft(fn,{key:5},[z.isHtml?(Ot(),Ft("span",{key:0,innerHTML:n[z.field]},null,8,Uq)):(Ot(),Ft("span",Gq,ji(n[z.field]),1))],64))]))),128)),s.editable?(Ot(),Ft("td",Vq,[n.isEdit?yn("",!0):(Ot(),Ft("a",{key:0,href:"#",onClick:z=>d.editRowHandler(n,S)},"Edit",8,$q)),n.isEdit?(Ot(),Ft("a",{key:1,href:"#",onClick:z=>d.saveRowHandler(n,S)},"Done",8,Hq)):yn("",!0),Jr(" | "),je("a",{href:"#",onClick:z=>d.del(n,S)},"Delete",8,Wq)])):yn("",!0)]))),128))])])])],64)}const qq=Kn(kq,[["render",Yq]]);var $A={exports:{}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function s(a,c,d,m){a.hasOwnProperty(c)||(a[c]=m.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:a[c]}})))}t=t?t._modules:{},s(t,"Core/Chart/ChartNavigationComposition.js",[],function(){var a;return function(c){c.compose=function(m){return m.navigation||(m.navigation=new d(m)),m};class d{constructor(n){this.updates=[],this.chart=n}addUpdate(n){this.chart.navigation.updates.push(n)}update(n,S){this.updates.forEach(z=>{z.call(this.chart,n,S)})}}c.Additions=d}(a||(a={})),a}),s(t,"Extensions/Exporting/ExportingDefaults.js",[t["Core/Globals.js"]],function(a){return{isTouchDevice:a}=a,{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:3,height:28,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:a?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}}}),s(t,"Extensions/Exporting/ExportingSymbols.js",[],function(){var a;return function(c){function d(S,z,Z,O){return[["M",S,z+2.5],["L",S+Z,z+2.5],["M",S,z+O/2+.5],["L",S+Z,z+O/2+.5],["M",S,z+O-1.5],["L",S+Z,z+O-1.5]]}function m(S,z,Z,O){return S=O/3-2,O=[],O=O.concat(this.circle(Z-S,z,S,S),this.circle(Z-S,z+S+4,S,S),this.circle(Z-S,z+2*(S+4),S,S))}const n=[];c.compose=function(S){n.indexOf(S)===-1&&(n.push(S),S=S.prototype.symbols,S.menu=d,S.menuball=m.bind(S))}}(a||(a={})),a}),s(t,"Extensions/Exporting/Fullscreen.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Utilities.js"]],function(a,c){function d(){this.fullscreen=new z(this)}const{addEvent:m,fireEvent:n}=c,S=[];class z{static compose(O){c.pushUnique(S,O)&&m(O,"beforeRender",d)}constructor(O){this.chart=O,this.isOpen=!1,O=O.renderTo,this.browserProps||(typeof O.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:O.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:O.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:O.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){const O=this,H=O.chart,q=H.options.chart;n(H,"fullscreenClose",null,function(){O.isOpen&&O.browserProps&&H.container.ownerDocument instanceof Document&&H.container.ownerDocument[O.browserProps.exitFullscreen](),O.unbindFullscreenEvent&&(O.unbindFullscreenEvent=O.unbindFullscreenEvent()),H.setSize(O.origWidth,O.origHeight,!1),O.origWidth=void 0,O.origHeight=void 0,q.width=O.origWidthOption,q.height=O.origHeightOption,O.origWidthOption=void 0,O.origHeightOption=void 0,O.isOpen=!1,O.setButtonText()})}open(){const O=this,H=O.chart,q=H.options.chart;n(H,"fullscreenOpen",null,function(){if(q&&(O.origWidthOption=q.width,O.origHeightOption=q.height),O.origWidth=H.chartWidth,O.origHeight=H.chartHeight,O.browserProps){const L=m(H.container.ownerDocument,O.browserProps.fullscreenChange,function(){O.isOpen?(O.isOpen=!1,O.close()):(H.setSize(null,null,!1),O.isOpen=!0,O.setButtonText())}),R=m(H,"destroy",L);O.unbindFullscreenEvent=()=>{L(),R()};const $=H.renderTo[O.browserProps.requestFullscreen]();$&&$.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){var O=this.chart,H=O.exportDivElements;const q=O.options.exporting,L=q&&q.buttons&&q.buttons.contextButton.menuItems;O=O.options.lang,q&&q.menuItemDefinitions&&O&&O.exitFullscreen&&O.viewFullscreen&&L&&H&&(H=H[L.indexOf("viewFullscreen")])&&a.setElementHTML(H,this.isOpen?O.exitFullscreen:q.menuItemDefinitions.viewFullscreen.text||O.viewFullscreen)}toggle(){this.isOpen?this.close():this.open()}}return z}),s(t,"Core/HttpUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(a,c){const{doc:d}=a,{createElement:m,discardElement:n,merge:S,objectEach:z}=c,Z={ajax:function(O){const H={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},q=new XMLHttpRequest;if(!O.url)return!1;q.open((O.type||"get").toUpperCase(),O.url,!0),O.headers&&O.headers["Content-Type"]||q.setRequestHeader("Content-Type",H[O.dataType||"json"]||H.text),z(O.headers,function(L,R){q.setRequestHeader(R,L)}),O.responseType&&(q.responseType=O.responseType),q.onreadystatechange=function(){let L;if(q.readyState===4){if(q.status===200){if(O.responseType!=="blob"&&(L=q.responseText,O.dataType==="json"))try{L=JSON.parse(L)}catch(R){if(R instanceof Error){O.error&&O.error(q,R);return}}return O.success&&O.success(L,q)}O.error&&O.error(q,q.responseText)}},O.data&&typeof O.data!="string"&&(O.data=JSON.stringify(O.data)),q.send(O.data)},getJSON:function(O,H){Z.ajax({url:O,success:H,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(O,H,q){const L=m("form",S({method:"post",action:O,enctype:"multipart/form-data"},q),{display:"none"},d.body);z(H,function(R,$){m("input",{type:"hidden",name:$,value:R},void 0,L)}),L.submit(),n(L)}};return Z}),s(t,"Extensions/Exporting/Exporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Chart/ChartNavigationComposition.js"],t["Core/Defaults.js"],t["Extensions/Exporting/ExportingDefaults.js"],t["Extensions/Exporting/ExportingSymbols.js"],t["Extensions/Exporting/Fullscreen.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Core/Utilities.js"]],function(a,c,d,m,n,S,z,Z,O,H){const{defaultOptions:q,setOptions:L}=m,{doc:R,SVG_NS:$,win:M}=Z,{addEvent:E,css:k,createElement:V,discardElement:G,extend:C,find:te,fireEvent:Q,isObject:N,merge:j,objectEach:W,pick:w,removeEvent:D,uniqueKey:f}=H;var g;return function(x){function P(qe){const Te=this,Oe=Te.renderer,ze=j(Te.options.navigation.buttonOptions,qe),Xe=ze.onclick,Je=ze.menuItems,pt=ze.symbolSize||12;let bt;if(Te.btnCount||(Te.btnCount=0),Te.exportDivElements||(Te.exportDivElements=[],Te.exportSVGElements=[]),ze.enabled!==!1&&ze.theme){var It=ze.theme,ui;Te.styledMode||(It.fill=w(It.fill,"#ffffff"),It.stroke=w(It.stroke,"none")),Xe?ui=function(di){di&&di.stopPropagation(),Xe.call(Te,di)}:Je&&(ui=function(di){di&&di.stopPropagation(),Te.contextMenu(Ht.menuClassName,Je,Ht.translateX,Ht.translateY,Ht.width,Ht.height,Ht),Ht.setState(2)}),ze.text&&ze.symbol?It.paddingLeft=w(It.paddingLeft,30):ze.text||C(It,{width:ze.width,height:ze.height,padding:0}),Te.styledMode||(It["stroke-linecap"]="round",It.fill=w(It.fill,"#ffffff"),It.stroke=w(It.stroke,"none"));var Ht=Oe.button(ze.text,0,0,ui,It,void 0,void 0,void 0,void 0,ze.useHTML).addClass(qe.className).attr({title:w(Te.options.lang[ze._titleKey||ze.titleKey],"")});Ht.menuClassName=qe.menuClassName||"highcharts-menu-"+Te.btnCount++,ze.symbol&&(bt=Oe.symbol(ze.symbol,ze.symbolX-pt/2,ze.symbolY-pt/2,pt,pt,{width:pt,height:pt}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(Ht),Te.styledMode||bt.attr({stroke:ze.symbolStroke,fill:ze.symbolFill,"stroke-width":ze.symbolStrokeWidth||1})),Ht.add(Te.exportingGroup).align(C(ze,{width:Ht.width,x:w(ze.x,Te.buttonOffset)}),!0,"spacingBox"),Te.buttonOffset+=(Ht.width+ze.buttonSpacing)*(ze.align==="right"?-1:1),Te.exportSVGElements.push(Ht,bt)}}function Y(){if(this.printReverseInfo){var{childNodes:qe,origDisplay:Te,resetParams:Oe}=this.printReverseInfo;this.moveContainers(this.renderTo),[].forEach.call(qe,function(ze,Xe){ze.nodeType===1&&(ze.style.display=Te[Xe]||"")}),this.isPrinting=!1,Oe&&this.setSize.apply(this,Oe),delete this.printReverseInfo,Qe=void 0,Q(this,"afterPrint")}}function ee(){const qe=R.body,Te=this.options.exporting.printMaxWidth,Oe={childNodes:qe.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),Q(this,"beforePrint"),Te&&this.chartWidth>Te&&(Oe.resetParams=[this.options.chart.width,void 0,!1],this.setSize(Te,void 0,!1)),[].forEach.call(Oe.childNodes,function(ze,Xe){ze.nodeType===1&&(Oe.origDisplay[Xe]=ze.style.display,ze.style.display="none")}),this.moveContainers(qe),this.printReverseInfo=Oe}function K(qe){qe.renderExporting(),E(qe,"redraw",qe.renderExporting),E(qe,"destroy",qe.destroyExport)}function he(qe,Te,Oe,ze,Xe,Je,pt){const bt=this,It=bt.options.navigation,ui=bt.chartWidth,Ht=bt.chartHeight,di="cache-"+qe,Ui=Math.max(Xe,Je);let zi,Ei=bt[di];Ei||(bt.exportContextMenu=bt[di]=Ei=V("div",{className:qe},{position:"absolute",zIndex:1e3,padding:Ui+"px",pointerEvents:"auto"},bt.fixedDiv||bt.container),zi=V("ul",{className:"highcharts-menu"},bt.styledMode?{}:{listStyle:"none",margin:0,padding:0},Ei),bt.styledMode||k(zi,C({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},It.menuStyle)),Ei.hideMenu=function(){k(Ei,{display:"none"}),pt&&pt.setState(0),bt.openMenu=!1,k(bt.renderTo,{overflow:"hidden"}),k(bt.container,{overflow:"hidden"}),H.clearTimeout(Ei.hideTimer),Q(bt,"exportMenuHidden")},bt.exportEvents.push(E(Ei,"mouseleave",function(){Ei.hideTimer=M.setTimeout(Ei.hideMenu,500)}),E(Ei,"mouseenter",function(){H.clearTimeout(Ei.hideTimer)}),E(R,"mouseup",function(Di){bt.pointer.inClass(Di.target,qe)||Ei.hideMenu()}),E(Ei,"click",function(){bt.openMenu&&Ei.hideMenu()})),Te.forEach(function(Di){if(typeof Di=="string"&&(Di=bt.options.exporting.menuItemDefinitions[Di]),N(Di,!0)){let dn;Di.separator?dn=V("hr",void 0,void 0,zi):(Di.textKey==="viewData"&&bt.isDataTableVisible&&(Di.textKey="hideData"),dn=V("li",{className:"highcharts-menu-item",onclick:function(Sn){Sn&&Sn.stopPropagation(),Ei.hideMenu(),Di.onclick&&Di.onclick.apply(bt,arguments)}},void 0,zi),a.setElementHTML(dn,Di.text||bt.options.lang[Di.textKey]),bt.styledMode||(dn.onmouseover=function(){k(this,It.menuItemHoverStyle)},dn.onmouseout=function(){k(this,It.menuItemStyle)},k(dn,C({cursor:"pointer"},It.menuItemStyle||{})))),bt.exportDivElements.push(dn)}}),bt.exportDivElements.push(zi,Ei),bt.exportMenuWidth=Ei.offsetWidth,bt.exportMenuHeight=Ei.offsetHeight),Te={display:"block"},Oe+bt.exportMenuWidth>ui?Te.right=ui-Oe-Xe-Ui+"px":Te.left=Oe-Ui+"px",ze+Je+bt.exportMenuHeight>Ht&&pt.alignOptions.verticalAlign!=="top"?Te.bottom=Ht-ze-Ui+"px":Te.top=ze+Je-Ui+"px",k(Ei,Te),k(bt.renderTo,{overflow:""}),k(bt.container,{overflow:""}),bt.openMenu=!0,Q(bt,"exportMenuShown")}function ge(qe){const Te=qe?qe.target:this,Oe=Te.exportSVGElements,ze=Te.exportDivElements;qe=Te.exportEvents;let Xe;Oe&&(Oe.forEach((Je,pt)=>{Je&&(Je.onclick=Je.ontouchstart=null,Xe="cache-"+Je.menuClassName,Te[Xe]&&delete Te[Xe],Oe[pt]=Je.destroy())}),Oe.length=0),Te.exportingGroup&&(Te.exportingGroup.destroy(),delete Te.exportingGroup),ze&&(ze.forEach(function(Je,pt){Je&&(H.clearTimeout(Je.hideTimer),D(Je,"mouseleave"),ze[pt]=Je.onmouseout=Je.onmouseover=Je.ontouchstart=Je.onclick=null,G(Je))}),ze.length=0),qe&&(qe.forEach(function(Je){Je()}),qe.length=0)}function Ee(qe,Te){Te=this.getSVGForExport(qe,Te),qe=j(this.options.exporting,qe),O.post(qe.url,{filename:qe.filename?qe.filename.replace(/\//g,"-"):this.getFilename(),type:qe.type,width:qe.width,scale:qe.scale,svg:Te},qe.formAttributes)}function J(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function oe(){const qe=this.userOptions.title&&this.userOptions.title.text;let Te=this.options.exporting.filename;return Te?Te.replace(/\//g,"-"):(typeof qe=="string"&&(Te=qe.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!Te||5>Te.length)&&(Te="chart"),Te)}function ce(qe){let Te,Oe=j(this.options,qe);Oe.plotOptions=j(this.userOptions.plotOptions,qe&&qe.plotOptions),Oe.time=j(this.userOptions.time,qe&&qe.time);const ze=V("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},R.body);var Xe=this.renderTo.style.width,Je=this.renderTo.style.height;Xe=Oe.exporting.sourceWidth||Oe.chart.width||/px$/.test(Xe)&&parseInt(Xe,10)||(Oe.isGantt?800:600),Je=Oe.exporting.sourceHeight||Oe.chart.height||/px$/.test(Je)&&parseInt(Je,10)||400,C(Oe.chart,{animation:!1,renderTo:ze,forExport:!0,renderer:"SVGRenderer",width:Xe,height:Je}),Oe.exporting.enabled=!1,delete Oe.data,Oe.series=[],this.series.forEach(function(It){Te=j(It.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:It.visible}),Te.isInternal||Oe.series.push(Te)});const pt={};this.axes.forEach(function(It){It.userOptions.internalKey||(It.userOptions.internalKey=f()),It.options.isInternal||(pt[It.coll]||(pt[It.coll]=!0,Oe[It.coll]=[]),Oe[It.coll].push(j(It.userOptions,{visible:It.visible})))});const bt=new this.constructor(Oe,this.callback);return qe&&["xAxis","yAxis","series"].forEach(function(It){const ui={};qe[It]&&(ui[It]=qe[It],bt.update(ui))}),this.axes.forEach(function(It){const ui=te(bt.axes,function(Ui){return Ui.options.internalKey===It.userOptions.internalKey});var Ht=It.getExtremes();const di=Ht.userMin;Ht=Ht.userMax,ui&&(typeof di<"u"&&di!==ui.min||typeof Ht<"u"&&Ht!==ui.max)&&ui.setExtremes(di,Ht,!0,!1)}),Je=bt.getChartHTML(),Q(this,"getSVG",{chartCopy:bt}),Je=this.sanitizeSVG(Je,Oe),Oe=null,bt.destroy(),G(ze),Je}function pe(qe,Te){const Oe=this.options.exporting;return this.getSVG(j({chart:{borderRadius:0}},Oe.chartOptions,Te,{exporting:{sourceWidth:qe&&qe.sourceWidth||Oe.sourceWidth,sourceHeight:qe&&qe.sourceHeight||Oe.sourceHeight}}))}function Ce(qe){return qe.replace(/([A-Z])/g,function(Te,Oe){return"-"+Oe.toLowerCase()})}function ne(){function qe(bt){const It={};let ui,Ht;if(pt&&bt.nodeType===1&&rt.indexOf(bt.nodeName)===-1){if(ui=M.getComputedStyle(bt,null),Ht=bt.nodeName==="svg"?{}:M.getComputedStyle(bt.parentNode,null),!ze[bt.nodeName]){Xe=pt.getElementsByTagName("svg")[0];var di=pt.createElementNS(bt.namespaceURI,bt.nodeName);Xe.appendChild(di);var Ui=M.getComputedStyle(di,null),zi={};for(var Ei in Ui)typeof Ui[Ei]!="string"||/^[0-9]+$/.test(Ei)||(zi[Ei]=Ui[Ei]);ze[bt.nodeName]=zi,bt.nodeName==="text"&&delete ze.text.fill,Xe.removeChild(di)}for(const dn in ui)if(Z.isFirefox||Z.isMS||Z.isSafari||Object.hasOwnProperty.call(ui,dn)){Ei=ui[dn];var Di=dn;if(di=Ui=!1,Oe.length){for(zi=Oe.length;zi--&&!Ui;)Ui=Oe[zi].test(Di);di=!Ui}for(Di==="transform"&&Ei==="none"&&(di=!0),zi=Te.length;zi--&&!di;)di=Te[zi].test(Di)||typeof Ei=="function";di||Ht[Di]===Ei&&bt.nodeName!=="svg"||ze[bt.nodeName][Di]===Ei||(Ge&&Ge.indexOf(Di)===-1?It[Di]=Ei:Ei&&bt.setAttribute(Ce(Di),Ei))}k(bt,It),bt.nodeName==="svg"&&bt.setAttribute("stroke-width","1px"),bt.nodeName!=="text"&&[].forEach.call(bt.children||bt.childNodes,qe)}}const Te=Le,Oe=x.inlineAllowlist,ze={};let Xe;const Je=R.createElement("iframe");k(Je,{width:"1px",height:"1px",visibility:"hidden"}),R.body.appendChild(Je);const pt=Je.contentWindow&&Je.contentWindow.document;pt&&pt.body.appendChild(pt.createElementNS($,"svg")),qe(this.container.querySelector("svg")),Xe.parentNode.removeChild(Xe),Je.parentNode.removeChild(Je)}function ye(qe){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach(function(Te){qe.appendChild(Te)})}function _e(){const qe=this;qe.exporting={update:function(Te,Oe){qe.isDirtyExporting=!0,j(!0,qe.options.exporting,Te),w(Oe,!0)&&qe.redraw()}},d.compose(qe).navigation.addUpdate((Te,Oe)=>{qe.isDirtyExporting=!0,j(!0,qe.options.navigation,Te),w(Oe,!0)&&qe.redraw()})}function ae(){const qe=this;qe.isPrinting||(Qe=qe,Z.isSafari||qe.beforePrint(),setTimeout(()=>{M.focus(),M.print(),Z.isSafari||setTimeout(()=>{qe.afterPrint()},1e3)},1))}function me(){const qe=this,Te=qe.options.exporting,Oe=Te.buttons,ze=qe.isDirtyExporting||!qe.exportSVGElements;qe.buttonOffset=0,qe.isDirtyExporting&&qe.destroyExport(),ze&&Te.enabled!==!1&&(qe.exportEvents=[],qe.exportingGroup=qe.exportingGroup||qe.renderer.g("exporting-group").attr({zIndex:3}).add(),W(Oe,function(Xe){qe.addButton(Xe)}),qe.isDirtyExporting=!1)}function we(qe,Te){const Oe=qe.indexOf("</svg>")+6;let ze=qe.substr(Oe);return qe=qe.substr(0,Oe),Te&&Te.exporting&&Te.exporting.allowHTML&&ze&&(ze='<foreignObject x="0" y="0" width="'+Te.chart.width+'" height="'+Te.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+ze.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",qe=qe.replace("</svg>",ze+"</svg>")),qe=qe.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­")}const Re=[],Le=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],Ge="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");x.inlineAllowlist=[];const rt=["clipPath","defs","desc"];let Qe;x.compose=function(qe,Te){S.compose(Te),z.compose(qe),H.pushUnique(Re,qe)&&(Te=qe.prototype,Te.afterPrint=Y,Te.exportChart=Ee,Te.inlineStyles=ne,Te.print=ae,Te.sanitizeSVG=we,Te.getChartHTML=J,Te.getSVG=ce,Te.getSVGForExport=pe,Te.getFilename=oe,Te.moveContainers=ye,Te.beforePrint=ee,Te.contextMenu=he,Te.addButton=P,Te.destroyExport=ge,Te.renderExporting=me,Te.callbacks.push(K),E(qe,"init",_e),Z.isSafari&&Z.win.matchMedia("print").addListener(function(Oe){Qe&&(Oe.matches?Qe.beforePrint():Qe.afterPrint())})),H.pushUnique(Re,L)&&(q.exporting=j(n.exporting,q.exporting),q.lang=j(n.lang,q.lang),q.navigation=j(n.navigation,q.navigation))}}(g||(g={})),g}),s(t,"masters/modules/exporting.src.js",[t["Core/Globals.js"],t["Extensions/Exporting/Exporting.js"],t["Core/HttpUtilities.js"]],function(a,c,d){a.HttpUtilities=d,a.ajax=d.ajax,a.getJSON=d.getJSON,a.post=d.post,c.compose(a.Chart,a.Renderer)})})})($A);var Xq=$A.exports;const HA=uh(Xq),WA=["#2f7ed8","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a","#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1","#0d233a"];var YA={exports:{}};(function(e,t){(function(s,a){e.exports=a()})(ta,function(){var s="__v-click-outside",a=typeof window<"u",c=typeof navigator<"u",d=a&&("ontouchstart"in window||c&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],m=function(Z){var O=Z.event,H=Z.handler;(0,Z.middleware)(O)&&H(O)},n=function(Z,O){var H=function(E){var k=typeof E=="function";if(!k&&typeof E!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:k?E:E.handler,middleware:E.middleware||function(V){return V},events:E.events||d,isActive:E.isActive!==!1,detectIframe:E.detectIframe!==!1,capture:!!E.capture}}(O.value),q=H.handler,L=H.middleware,R=H.detectIframe,$=H.capture;if(H.isActive){if(Z[s]=H.events.map(function(E){return{event:E,srcTarget:document.documentElement,handler:function(k){return function(V){var G=V.el,C=V.event,te=V.handler,Q=V.middleware,N=C.path||C.composedPath&&C.composedPath();(N?N.indexOf(G)<0:!G.contains(C.target))&&m({event:C,handler:te,middleware:Q})}({el:Z,event:k,handler:q,middleware:L})},capture:$}}),R){var M={event:"blur",srcTarget:window,handler:function(E){return function(k){var V=k.el,G=k.event,C=k.handler,te=k.middleware;setTimeout(function(){var Q=document.activeElement;Q&&Q.tagName==="IFRAME"&&!V.contains(Q)&&m({event:G,handler:C,middleware:te})},0)}({el:Z,event:E,handler:q,middleware:L})},capture:$};Z[s]=[].concat(Z[s],[M])}Z[s].forEach(function(E){var k=E.event,V=E.srcTarget,G=E.handler;return setTimeout(function(){Z[s]&&V.addEventListener(k,G,$)},0)})}},S=function(Z){(Z[s]||[]).forEach(function(O){return O.srcTarget.removeEventListener(O.event,O.handler,O.capture)}),delete Z[s]},z=a?{beforeMount:n,updated:function(Z,O){var H=O.value,q=O.oldValue;JSON.stringify(H)!==JSON.stringify(q)&&(S(Z),n(Z,{value:H}))},unmounted:S}:{};return{install:function(Z){Z.directive("click-outside",z)},directive:z}})})(YA);var Zq=YA.exports;const Kq=uh(Zq),Jq={props:{options:Array,type:{type:String,default:"select"},default:{type:Array,default:()=>[]}},data(){return{show:!1,selected:[]}},methods:{showDropdown(){this.show=!this.show},hide(){this.show=!1},groupBy(e,t){return e.reduce((s,a,c)=>{var d;return(s[d=t(a,c,e)]||(s[d]=[])).push(a),s},{})}},computed:{groups(){return this.options.length>0&&this.options[0].hasOwnProperty("group")?this.groupBy(this.options,e=>e.group):this.options},selectAll:{get(){return this.options?this.selected.length==this.options.length:!1},set(e){e?this.selected=this.options:this.selected=[]}}},watch:{selected(e){this.$emit("checked",e)},default(e){this.selected=e}},directives:{clickOutside:Kq.directive}},Qq={class:"dd"},eX={id:"list1",class:"dropdown-check-list",tabindex:"100"},tX=ph('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-adjustments-horizontal" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 6l8 0"></path><path d="M16 6l4 0"></path><path d="M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 12l2 0"></path><path d="M10 12l10 0"></path><path d="M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 18l11 0"></path><path d="M19 18l1 0"></path></svg>',1),iX=[tX],nX={key:2,class:"items"},sX={class:"bb"},rX={for:"check-all"},oX={key:0},aX=["id","value"],lX=["for"],cX={key:1},hX=["id","value"],dX=["for"];function uX(e,t,s,a,c,d){const m=dx("click-outside");return rr((Ot(),Ft("div",Qq,[je("div",eX,[s.type=="select"?(Ot(),Ft("span",{key:0,class:"anchor form-control",onClick:t[0]||(t[0]=(...n)=>d.showDropdown&&d.showDropdown(...n))}," Select Parameter ")):yn("",!0),s.type=="icon"?(Ot(),Ft("span",{key:1,class:"icon",onClick:t[1]||(t[1]=(...n)=>d.showDropdown&&d.showDropdown(...n))},iX)):yn("",!0),c.show?(Ot(),Ft("ul",nX,[je("li",sX,[je("div",null,[rr(je("input",{id:"check-all",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=n=>d.selectAll=n)},null,512),[[ou,d.selectAll]]),je("label",rX,[d.selectAll?(Ot(),Ft(fn,{key:1},[Jr("Uncheck All")],64)):(Ot(),Ft(fn,{key:0},[Jr("Check All")],64))])])]),(Ot(!0),Ft(fn,null,vs(d.groups,(n,S)=>(Ot(),Ft("li",{key:S},[Array.isArray(n)?(Ot(),Ft("div",oX,[je("span",null,ji(S),1),(Ot(!0),Ft(fn,null,vs(n,(z,Z)=>(Ot(),Ft("div",{key:Z},[rr(je("input",{type:"checkbox",id:Z,value:z,"onUpdate:modelValue":t[3]||(t[3]=O=>c.selected=O)},null,8,aX),[[ou,c.selected]]),je("label",{for:Z},ji(z.text),9,lX)]))),128))])):yn("",!0),Array.isArray(n)?yn("",!0):(Ot(),Ft("div",cX,[rr(je("input",{type:"checkbox",id:S,value:n,"onUpdate:modelValue":t[4]||(t[4]=z=>c.selected=z)},null,8,hX),[[ou,c.selected]]),je("label",{for:S},ji(n.text),9,dX)]))]))),128))])):yn("",!0)])])),[[m,d.hide]])}const qA=Kn(Jq,[["render",uX]]);DS(Pl);HA(Pl);const pX={components:{Chart:Kf.Chart,DateRange:LS,DropdownSelect:qA},props:{url:String,title:String,columns:Array},data(){return{params:{from:new Date(new Date().setDate(new Date().getDate()-1)),to:new Date,interval:60},defColumns:[],items:this.columns,options:{chart:{zoomType:"x"},exporting:{filename:this.title,sourceWidth:1600,sourceHeight:480,scale:1},time:{useUTC:!1},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}},mounted(){this.defColumns=Uv.sampleSize(this.columns,5)},methods:{selected(e){this.items=e,this.showChart()},updateDate(e){this.params.from=e.from,this.params.to=e.to},async showChart(){this.$refs.chart.chart.showLoading();let e=[],t=[],s=[];this.items.forEach((c,d)=>{let m=WA[d];t[d]={title:{text:c.text,style:{color:m,fontSize:"10px"}},lineColor:m,labels:{style:{color:m},align:"left",x:14},lineWidth:1,opposite:!0},c.range&&(t[d].min=c.range[0],t[d].max=c.range[1]),e[d]={id:c.data,row:c.data,yAxis:d,type:c.type?c.type:"spline",name:c.text,color:m,lineWidth:1,data:[]},s[d]=c.data}),this.options.series=e,this.options.yAxis=t,this.params.select=s,(await axios.get(this.url,{params:this.params}).then(c=>c.data)).forEach(c=>{let d=c.unix_time;this.options.series.forEach((m,n)=>{let S=c[m.row];this.options.series[n].data.push([d,S])})}),this.$refs.chart.chart.hideLoading()}}},fX={class:"row"},mX={class:"col-12"},gX={class:"table-title mb-4 mt-2"},_X={class:"row justify-content-end"},yX={class:"col-6"},vX={class:"col-6"},xX={class:"d-flex align-items-center justify-content-end gap-1"},bX=je("option",{value:"5"},"5m",-1),wX=je("option",{value:"30"},"30m",-1),SX=je("option",{value:"60"},"1 H",-1),TX=je("option",{value:"1440"},"1 D",-1),EX=[bX,wX,SX,TX];function CX(e,t,s,a,c,d){const m=Yn("dropdown-select"),n=Yn("date-range"),S=Yn("Chart");return Ot(),Ft("div",fX,[je("div",mX,[je("div",gX,[je("h6",null,ji(s.title),1)]),je("div",_X,[je("div",yX,[Qi(m,{options:s.columns,onChecked:d.selected,default:c.defColumns},null,8,["options","onChecked","default"])]),je("div",vX,[je("div",xX,[Qi(n,{from:c.params.from,to:c.params.to,onChange:d.updateDate},null,8,["from","to","onChange"]),rr(je("select",{class:"form-control w-5 bordered","onUpdate:modelValue":t[0]||(t[0]=z=>c.params.interval=z)},EX,512),[[Il,c.params.interval]]),je("button",{onClick:t[1]||(t[1]=(...z)=>d.showChart&&d.showChart(...z)),class:"btn btn-primary"},"SHOW")])])]),Qi(S,{ref:"chart",options:c.options,constructorType:"stockChart"},null,8,["options"])])])}const MX=Kn(pX,[["render",CX]]);DS(Pl);HA(Pl);const AX={components:{Chart:Kf.Chart,DateRange:LS,DropdownSelect:qA},props:{url:String,title:String,columns:Array,socketConfig:Object,fleet:Object},data(){return{socket:null,connected:!1,defColumns:[],params:{},items:this.columns,options:{chart:{zoomType:"x"},exporting:{filename:this.title,sourceWidth:1600,sourceHeight:480,scale:1},time:{useUTC:!1},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}},async mounted(){this.defColumns=await Uv.sampleSize(this.columns,3),setInterval(()=>this.fetchData(),5*1e3),await this.showChart()},methods:{selected(e){this.items=e,this.showChart()},onMessage(e){let t=JSON.parse(e.toString()),s=parseInt(new Date(t.terminal_time).getTime().toFixed(0));this.options.series.forEach((a,c)=>{this.options.series[c].data.shift();let d=t[a.row];this.options.series[c].data.push([s,d])})},async fetchData(){let e=await axios.get(this.url).then(s=>s.data),t=parseInt(new Date(e.terminal_time).getTime().toFixed(0));this.options.series.forEach((s,a)=>{this.options.series[a].data.length>100&&this.options.series[a].data.shift();let c=e[s.row];this.options.series[a].data.push([t,c])})},async showChart(){this.$refs.chart.chart.showLoading();let e=[],t=[],s=[];this.items.forEach((d,m)=>{let n=WA[m];t[m]={title:{text:d.text,style:{color:n,fontSize:"10px"}},lineColor:n,labels:{style:{color:n},align:"left",x:14},lineWidth:1,opposite:!0},d.range&&(t[m].min=d.range[0],t[m].max=d.range[1]),e[m]={id:d.data,row:d.data,yAxis:m,type:d.type?d.type:"spline",name:d.text,color:n,lineWidth:1,data:[]},s[m]=d.data}),this.options.series=e,this.options.yAxis=t,this.params.select=s;let a=await axios.get(this.url).then(d=>d.data),c=parseInt(new Date(a.terminal_time).getTime().toFixed(0));this.options.series.forEach((d,m)=>{let n=parseFloat(a[d.row]);this.options.series[m].data.push([c,n])}),this.$refs.chart.chart.hideLoading()}}},kX={class:"row"},PX={class:"col-12"},DX={class:"table-title mb-4 mt-2"},IX={class:"row justify-content-end"},LX={class:"col-12"};function OX(e,t,s,a,c,d){const m=Yn("dropdown-select"),n=Yn("Chart");return Ot(),Ft("div",kX,[je("div",PX,[je("div",DX,[je("h6",null,ji(s.title),1)]),je("div",IX,[je("div",LX,[Qi(m,{options:s.columns,onChecked:d.selected,default:c.defColumns},null,8,["options","onChecked","default"])])]),Qi(n,{ref:"chart",options:c.options,constructorType:"stockChart"},null,8,["options"])])])}const RX=Kn(AX,[["render",OX]]),BX={props:{title:String,fleet:Object,sensors:Array},data(){return{}}},zX={class:"row"},FX={class:"col-12"},NX={class:"table-title"},jX={class:"table table-sm"},UX=je("th",{scope:"row"},"•",-1),GX={class:"text-end"};function VX(e,t,s,a,c,d){return Ot(),Ft("div",zX,[je("div",FX,[je("div",NX,[je("h6",null,ji(s.title),1)]),je("table",jX,[je("tbody",null,[(Ot(!0),Ft(fn,null,vs(s.sensors,(m,n)=>(Ot(),Ft("tr",null,[UX,je("td",null,ji(m.name),1),je("td",GX,ji(m.value)+" "+ji(m.unit),1)]))),256))])])])])}const $X=Kn(BX,[["render",VX]]),HX={props:{svgPath:String,url:String,group:String},components:{ChartSvg:zm},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet[this.group];if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=engine[s]*1e3)}),this.data.fleet_name=this.fleet.name}}}};function WX(e,t,s,a,c,d){const m=Yn("chart-svg");return Ot(),Ft("div",null,[Qi(m,{path:s.svgPath,svgData:c.data,height:550},null,8,["path","svgData"])])}const YX=Kn(HX,[["render",WX]]),qX={props:{url:String,mapping:Array},data(){return{data:null}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.data=await axios.get(this.url).then(e=>e.data)},isString(e){return typeof e=="string"}}},XX={class:"row"},ZX={class:"col-12"},KX=je("div",{class:"table-title"},[je("h6",null,"Data Information")],-1),JX={key:0,class:"table table-sm"},QX=je("th",{scope:"row"},"•",-1),eZ=je("td",null,"Updated at",-1),tZ={class:"text-end"},iZ=je("th",{scope:"row"},"•",-1),nZ={key:0},sZ={key:1,class:"text-end"},rZ=["innerHTML"];function oZ(e,t,s,a,c,d){return Ot(),Ft("div",XX,[je("div",ZX,[KX,c.data?(Ot(),Ft("table",JX,[je("tbody",null,[je("tr",null,[QX,eZ,je("td",tZ,ji(c.data.terminal_time),1)]),(Ot(!0),Ft(fn,null,vs(s.mapping,m=>(Ot(),Ft("tr",{key:m.data},[iZ,je("td",null,ji(m.text),1),d.isString(m.data)?(Ot(),Ft("td",nZ,ji(c.data[m.data]),1)):(Ot(),Ft("td",sZ,[Jr(ji(e.$filters.number(c.data[m.data]))+" ",1),je("span",{innerHTML:m.unit},null,8,rZ)]))]))),128))])])):yn("",!0)])])}const aZ=Kn(qX,[["render",oZ]]),lZ={components:{MapboxMap:a_,MapboxNavigationControl:l_},props:{lat:String,lng:String,style:Object},data(){return{map:null,location:{lat:0,lng:0},marker:null}},methods:{loaded(){this.location={lat:this.lat,lng:this.lng},this.marker=new nl.Marker,this.marker.setLngLat(this.location).addTo(this.map),this.map.on("click",this.addMarker.bind(this))},addMarker(e){this.location=e.lngLat,this.marker.setLngLat(this.location).addTo(this.map)}}},cZ={class:"col-12"},hZ={class:"mapbox-pinned"},dZ={class:"col-12"},uZ={class:"form-group mb-3"},pZ=je("label",null,"Latitude",-1),fZ={class:"col-12"},mZ={class:"form-group mb-3"},gZ=je("label",null,"Longitude",-1);function _Z(e,t,s,a,c,d){const m=Yn("MapboxNavigationControl"),n=Yn("MapboxMap");return Ot(),Ft(fn,null,[je("div",cZ,[je("div",hZ,[Qi(n,{onMbCreated:t[0]||(t[0]=S=>c.map=S),onMbLoad:d.loaded,style:Dl(s.style),"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[c.location.lng,c.location.lat],zoom:7},{default:Do(()=>[Qi(m,{position:"bottom-right"})]),_:1},8,["onMbLoad","style","center"])])]),je("div",dZ,[je("div",uZ,[pZ,rr(je("input",{name:"lat",type:"text","onUpdate:modelValue":t[1]||(t[1]=S=>c.location.lat=S),class:"form-control"},null,512),[[il,c.location.lat]])])]),je("div",fZ,[je("div",mZ,[gZ,rr(je("input",{name:"lng",type:"text","onUpdate:modelValue":t[2]||(t[2]=S=>c.location.lng=S),class:"form-control"},null,512),[[il,c.location.lng]])])])],64)}const yZ=Kn(lZ,[["render",_Z]]),vZ={props:{svgPath:String,url:String,group:String,debug:{type:Boolean,default:!1}},components:{ChartSvg:zm},data(){return{data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){let e=await axios.get(this.url).then(t=>t.data);if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=e[s]*1e3)})}}}},xZ={key:0};function bZ(e,t,s,a,c,d){const m=Yn("chart-svg");return Ot(),Ft("div",null,[Qi(m,{path:s.svgPath,svgData:c.data,height:550},null,8,["path","svgData"]),s.debug?(Ot(),Ft("div",xZ,ji(c.data),1)):yn("",!0)])}const wZ=Kn(vZ,[["render",bZ]]),SZ={props:{path:String,group:String,fleetId:String},data(){return{location:null}},mounted(){this.location="/"+this.path},methods:{upload(e){let t=e.target.files[0],s=new FormData;s.append("file",t),s.append("group",this.group),s.append("fleet_id",this.fleetId);let a=this;axios.post("/upload/svg",s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(c){a.location="/"+c.data.path}).catch(function(c){console.log(c)})}}},TZ={class:"card"},EZ={class:"card-body"},CZ=["src"],MZ={class:"card-footer m-0 p-0"};function AZ(e,t,s,a,c,d){return Ot(),Ft("div",TZ,[je("div",EZ,[c.location?(Ot(),Ft("img",{key:0,src:c.location},null,8,CZ)):yn("",!0)]),je("div",MZ,[je("input",{id:"mimic",type:"file",ref:"file",class:"form-control",onChange:t[0]||(t[0]=(...m)=>d.upload&&d.upload(...m))},null,544)])])}const kZ=Kn(SZ,[["render",AZ]]),PZ={props:{action:String},methods:{inputOnChange(e){console.log(e)}}},DZ=je("button",{class:"btn-upload"},[je("img",{src:"/img/icons/upload.svg",height:"26"})],-1);function IZ(e,t,s,a,c,d){return Ot(),Ft("div",null,[je("input",{type:"file",ref:"fileInput",onChange:t[0]||(t[0]=(...m)=>d.inputOnChange&&d.inputOnChange(...m))},null,544),DZ])}const LZ=Kn(PZ,[["render",IZ]]),lr=z3({});lr.use(R7);lr.use(L7);lr.component("map-dashboard",hU);lr.component("map-history",EU);lr.component("map-default",PU);lr.component("map-voyage",eG);lr.component("map-bridge",hG);lr.component("slider-submenu",e$);lr.component("charts-fuel",x$);lr.component("charts-graph",E$);lr.component("charts-spline",k$);lr.component("date-range",LS);lr.component("fleet-information",CW);lr.component("fleet-side-info",MY);lr.component("fleet-cargo",BY);lr.component("fleet-bunker",VY);lr.component("fleet-ballast",ZY);lr.component("compass",VA);lr.component("engine-type-s",QY);lr.component("user-permission",cq);lr.component("table-editable",qq);lr.component("trend-view",MX);lr.component("trend-live",RX);lr.component("sensor-info",$X);lr.component("mimic-svg",YX);lr.component("data-info",aZ);lr.component("map-pinned",yZ);lr.component("fleet-mimic",wZ);lr.component("fleet-svg-upload",kZ);lr.component("file-upload",LZ);lr.config.globalProperties.$filters={dateformat(e,t="DD/MM/YYYY HH:mm"){return en(e,"YYYY-MM-DD HH:mm:ss").format(t)},str_limit(e,t=7){return e.toString().substring(0,t)},textFormat(e){return e.toLowerCase().capitalize()},number(e,t=2){let s=Number.parseFloat(e).toFixed(t);return Number.parseFloat(s).toLocaleString()}};lr.mount("#app")});export default OZ();
