var UA=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import"./toast-fd51308c.js";import"./popper-b924b727.js";var _q=UA((wq,tv)=>{var ea=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function B5(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function l(){if(this instanceof l){var c=[null];c.push.apply(c,arguments);var d=Function.bind.apply(t,c);return new d}return t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var c=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(s,l,c.get?c:{enumerable:!0,get:function(){return e[l]}})}),s}var iv={},VA={get exports(){return iv},set exports(e){iv=e}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var s,l="4.17.21",c=200,d="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",m="Expected a function",n="Invalid `variable` option passed into `_.template`",S="__lodash_hash_undefined__",j=500,J="__lodash_placeholder__",B=1,W=2,K=4,I=1,O=2,H=1,M=2,E=4,k=8,V=16,G=32,C=64,ie=128,Q=256,N=512,F=30,$="...",w=800,L=16,f=1,y=2,b=3,P=1/0,q=9007199254740991,ee=17976931348623157e292,X=0/0,ce=4294967295,fe=ce-1,Te=ce>>>1,Z=[["ary",ie],["bind",H],["bindKey",M],["curry",k],["curryRight",V],["flip",N],["partial",G],["partialRight",C],["rearg",Q]],re="[object Arguments]",ue="[object Array]",ye="[object AsyncFunction]",Ie="[object Boolean]",ae="[object Date]",be="[object DOMException]",xe="[object Error]",le="[object Function]",me="[object GeneratorFunction]",Se="[object Map]",Oe="[object Number]",Le="[object Null]",Ue="[object Object]",lt="[object Promise]",it="[object Proxy]",pt="[object RegExp]",De="[object Set]",ze="[object String]",Ge="[object Symbol]",Ye="[object Undefined]",at="[object WeakMap]",gt="[object WeakSet]",Ut="[object ArrayBuffer]",Gt="[object DataView]",wi="[object Float32Array]",Qt="[object Float64Array]",Ti="[object Int8Array]",Ki="[object Int16Array]",Ni="[object Int32Array]",Xi="[object Uint8Array]",Gi="[object Uint8ClampedArray]",xn="[object Uint16Array]",kn="[object Uint32Array]",qn=/\b__p \+= '';/g,Tr=/\b(__p \+=) '' \+/g,fs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Bs=/&(?:amp|lt|gt|quot|#39);/g,Ji=/[&<>"']/g,va=RegExp(Bs.source),kl=RegExp(Ji.source),sl=/<%-([\s\S]+?)%>/g,La=/<%([\s\S]+?)%>/g,ur=/<%=([\s\S]+?)%>/g,Oa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ic=/^\w*$/,dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Be=/[\\^$.*+?()[\]{}|]/g,$e=RegExp(Be.source),ct=/^\s+/,_t=/\s/,kt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ft=/,? & /,Dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$t=/[()=,{}\[\]\/\s]/,ui=/\\(\\)?/g,Fi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ei=/\w*$/,fn=/^[-+]0x[0-9a-f]+$/i,pn=/^0b[01]+$/i,Qi=/^\[object .+?Constructor\]$/,Bi=/^0o[0-7]+$/i,$n=/^(?:0|[1-9]\d*)$/,cs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,an=/($^)/,Ms=/['\n\r\u2028\u2029\\]/g,ms="\\ud800-\\udfff",oa="\\u0300-\\u036f",aa="\\ufe20-\\ufe2f",jr="\\u20d0-\\u20ff",ai=oa+aa+jr,$s="\\u2700-\\u27bf",lr="a-z\\xdf-\\xf6\\xf8-\\xff",cr="\\xac\\xb1\\xd7\\xf7",Pl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Kr="\\u2000-\\u206f",nc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",uh="A-Z\\xc0-\\xd6\\xd8-\\xde",Or="\\ufe0e\\ufe0f",ji=cr+Pl+Kr+nc,Fn="['’]",Wn="["+ms+"]",yo="["+ji+"]",la="["+ai+"]",Tn="\\d+",Dl="["+$s+"]",Ho="["+lr+"]",xa="[^"+ms+ji+Tn+$s+lr+uh+"]",Er="\\ud83c[\\udffb-\\udfff]",Ts="(?:"+la+"|"+Er+")",Rr="[^"+ms+"]",ho="(?:\\ud83c[\\udde6-\\uddff]){2}",rl="[\\ud800-\\udbff][\\udc00-\\udfff]",Io="["+uh+"]",Ra="\\u200d",Ba="(?:"+Ho+"|"+xa+")",ba="(?:"+Io+"|"+xa+")",za="(?:"+Fn+"(?:d|ll|m|re|s|t|ve))?",sc="(?:"+Fn+"(?:D|LL|M|RE|S|T|VE))?",rc=Ts+"?",so="["+Or+"]?",rr="(?:"+Ra+"(?:"+[Rr,ho,rl].join("|")+")"+so+rc+")*",ol="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",wa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Cr=so+rc+rr,Lo="(?:"+[Dl,ho,rl].join("|")+")"+Cr,Fh="(?:"+[Rr+la+"?",la,ho,rl,Wn].join("|")+")",Ic=RegExp(Fn,"g"),vr=RegExp(la,"g"),al=RegExp(Er+"(?="+Er+")|"+Fh+Cr,"g"),Lc=RegExp([Io+"?"+Ho+"+"+za+"(?="+[yo,Io,"$"].join("|")+")",ba+"+"+sc+"(?="+[yo,Io+Ba,"$"].join("|")+")",Io+"?"+Ba+"+"+za,Io+"+"+sc,wa,ol,Tn,Lo].join("|"),"g"),ll=RegExp("["+Ra+ms+ai+Or+"]"),Mr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Na=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Oc=-1,us={};us[wi]=us[Qt]=us[Ti]=us[Ki]=us[Ni]=us[Xi]=us[Gi]=us[xn]=us[kn]=!0,us[re]=us[ue]=us[Ut]=us[Ie]=us[Gt]=us[ae]=us[xe]=us[le]=us[Se]=us[Oe]=us[Ue]=us[pt]=us[De]=us[ze]=us[at]=!1;var vs={};vs[re]=vs[ue]=vs[Ut]=vs[Gt]=vs[Ie]=vs[ae]=vs[wi]=vs[Qt]=vs[Ti]=vs[Ki]=vs[Ni]=vs[Se]=vs[Oe]=vs[Ue]=vs[pt]=vs[De]=vs[ze]=vs[Ge]=vs[Xi]=vs[Gi]=vs[xn]=vs[kn]=!0,vs[xe]=vs[le]=vs[at]=!1;var Rc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},jh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ph={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Oo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},oc=parseFloat,Bc=parseInt,cl=typeof ea=="object"&&ea&&ea.Object===Object&&ea,vo=typeof self=="object"&&self&&self.Object===Object&&self,xr=cl||vo||Function("return this")(),U=t&&!t.nodeType&&t,oe=U&&!0&&e&&!e.nodeType&&e,ge=oe&&oe.exports===U,Ce=ge&&cl.process,Fe=function(){try{var Bt=oe&&oe.require&&oe.require("util").types;return Bt||Ce&&Ce.binding&&Ce.binding("util")}catch{}}(),Ve=Fe&&Fe.isArrayBuffer,Xe=Fe&&Fe.isDate,Pt=Fe&&Fe.isMap,wt=Fe&&Fe.isRegExp,Wt=Fe&&Fe.isSet,li=Fe&&Fe.isTypedArray;function bi(Bt,pi,oi){switch(oi.length){case 0:return Bt.call(pi);case 1:return Bt.call(pi,oi[0]);case 2:return Bt.call(pi,oi[0],oi[1]);case 3:return Bt.call(pi,oi[0],oi[1],oi[2])}return Bt.apply(pi,oi)}function ti(Bt,pi,oi,nn){for(var Rn=-1,gs=Bt==null?0:Bt.length;++Rn<gs;){var pr=Bt[Rn];pi(nn,pr,oi(pr),Bt)}return nn}function ri(Bt,pi){for(var oi=-1,nn=Bt==null?0:Bt.length;++oi<nn&&pi(Bt[oi],oi,Bt)!==!1;);return Bt}function zi(Bt,pi){for(var oi=Bt==null?0:Bt.length;oi--&&pi(Bt[oi],oi,Bt)!==!1;);return Bt}function In(Bt,pi){for(var oi=-1,nn=Bt==null?0:Bt.length;++oi<nn;)if(!pi(Bt[oi],oi,Bt))return!1;return!0}function tn(Bt,pi){for(var oi=-1,nn=Bt==null?0:Bt.length,Rn=0,gs=[];++oi<nn;){var pr=Bt[oi];pi(pr,oi,Bt)&&(gs[Rn++]=pr)}return gs}function Ws(Bt,pi){var oi=Bt==null?0:Bt.length;return!!oi&&On(Bt,pi,0)>-1}function Ds(Bt,pi,oi){for(var nn=-1,Rn=Bt==null?0:Bt.length;++nn<Rn;)if(oi(pi,Bt[nn]))return!0;return!1}function Yn(Bt,pi){for(var oi=-1,nn=Bt==null?0:Bt.length,Rn=Array(nn);++oi<nn;)Rn[oi]=pi(Bt[oi],oi,Bt);return Rn}function Xn(Bt,pi){for(var oi=-1,nn=pi.length,Rn=Bt.length;++oi<nn;)Bt[Rn+oi]=pi[oi];return Bt}function Dn(Bt,pi,oi,nn){var Rn=-1,gs=Bt==null?0:Bt.length;for(nn&&gs&&(oi=Bt[++Rn]);++Rn<gs;)oi=pi(oi,Bt[Rn],Rn,Bt);return oi}function Ar(Bt,pi,oi,nn){var Rn=Bt==null?0:Bt.length;for(nn&&Rn&&(oi=Bt[--Rn]);Rn--;)oi=pi(oi,Bt[Rn],Rn,Bt);return oi}function Qn(Bt,pi){for(var oi=-1,nn=Bt==null?0:Bt.length;++oi<nn;)if(pi(Bt[oi],oi,Bt))return!0;return!1}var Is=Ro("length");function ca(Bt){return Bt.split("")}function hl(Bt){return Bt.match(Dt)||[]}function kr(Bt,pi,oi){var nn;return oi(Bt,function(Rn,gs,pr){if(pi(Rn,gs,pr))return nn=gs,!1}),nn}function xo(Bt,pi,oi,nn){for(var Rn=Bt.length,gs=oi+(nn?1:-1);nn?gs--:++gs<Rn;)if(pi(Bt[gs],gs,Bt))return gs;return-1}function On(Bt,pi,oi){return pi===pi?Ol(Bt,pi,oi):xo(Bt,bo,oi)}function Ur(Bt,pi,oi,nn){for(var Rn=oi-1,gs=Bt.length;++Rn<gs;)if(nn(Bt[Rn],pi))return Rn;return-1}function bo(Bt){return Bt!==Bt}function ro(Bt,pi){var oi=Bt==null?0:Bt.length;return oi?xs(Bt,pi)/oi:X}function Ro(Bt){return function(pi){return pi==null?s:pi[Bt]}}function dl(Bt){return function(pi){return Bt==null?s:Bt[pi]}}function Sa(Bt,pi,oi,nn,Rn){return Rn(Bt,function(gs,pr,bs){oi=nn?(nn=!1,gs):pi(oi,gs,pr,bs)}),oi}function zc(Bt,pi){var oi=Bt.length;for(Bt.sort(pi);oi--;)Bt[oi]=Bt[oi].value;return Bt}function xs(Bt,pi){for(var oi,nn=-1,Rn=Bt.length;++nn<Rn;){var gs=pi(Bt[nn]);gs!==s&&(oi=oi===s?gs:oi+gs)}return oi}function Bo(Bt,pi){for(var oi=-1,nn=Array(Bt);++oi<Bt;)nn[oi]=pi(oi);return nn}function ac(Bt,pi){return Yn(pi,function(oi){return[oi,Bt[oi]]})}function ul(Bt){return Bt&&Bt.slice(0,Vr(Bt)+1).replace(ct,"")}function oo(Bt){return function(pi){return Bt(pi)}}function pl(Bt,pi){return Yn(pi,function(oi){return Bt[oi]})}function Il(Bt,pi){return Bt.has(pi)}function fh(Bt,pi){for(var oi=-1,nn=Bt.length;++oi<nn&&On(pi,Bt[oi],0)>-1;);return oi}function fl(Bt,pi){for(var oi=Bt.length;oi--&&On(pi,Bt[oi],0)>-1;);return oi}function ml(Bt,pi){for(var oi=Bt.length,nn=0;oi--;)Bt[oi]===pi&&++nn;return nn}var Uh=dl(Rc),gl=dl(jh);function mh(Bt){return"\\"+Oo[Bt]}function $o(Bt,pi){return Bt==null?s:Bt[pi]}function Wo(Bt){return ll.test(Bt)}function _l(Bt){return Mr.test(Bt)}function Nc(Bt){for(var pi,oi=[];!(pi=Bt.next()).done;)oi.push(pi.value);return oi}function Ll(Bt){var pi=-1,oi=Array(Bt.size);return Bt.forEach(function(nn,Rn){oi[++pi]=[Rn,nn]}),oi}function wo(Bt,pi){return function(oi){return Bt(pi(oi))}}function Gr(Bt,pi){for(var oi=-1,nn=Bt.length,Rn=0,gs=[];++oi<nn;){var pr=Bt[oi];(pr===pi||pr===J)&&(Bt[oi]=J,gs[Rn++]=oi)}return gs}function Fa(Bt){var pi=-1,oi=Array(Bt.size);return Bt.forEach(function(nn){oi[++pi]=nn}),oi}function yl(Bt){var pi=-1,oi=Array(Bt.size);return Bt.forEach(function(nn){oi[++pi]=[nn,nn]}),oi}function Ol(Bt,pi,oi){for(var nn=oi-1,Rn=Bt.length;++nn<Rn;)if(Bt[nn]===pi)return nn;return-1}function wd(Bt,pi,oi){for(var nn=oi+1;nn--;)if(Bt[nn]===pi)return nn;return nn}function is(Bt){return Wo(Bt)?ja(Bt):Is(Bt)}function uo(Bt){return Wo(Bt)?Gh(Bt):ca(Bt)}function Vr(Bt){for(var pi=Bt.length;pi--&&_t.test(Bt.charAt(pi)););return pi}var So=dl(ph);function ja(Bt){for(var pi=al.lastIndex=0;al.test(Bt);)++pi;return pi}function Gh(Bt){return Bt.match(al)||[]}function Vh(Bt){return Bt.match(Lc)||[]}var Hh=function Bt(pi){pi=pi==null?xr:po.defaults(xr.Object(),pi,po.pick(xr,Na));var oi=pi.Array,nn=pi.Date,Rn=pi.Error,gs=pi.Function,pr=pi.Math,bs=pi.Object,Rl=pi.RegExp,Fc=pi.String,fo=pi.TypeError,tt=oi.prototype,Tt=gs.prototype,Lt=bs.prototype,fi=pi["__core-js_shared__"],zt=Tt.toString,ni=Lt.hasOwnProperty,Ci=0,$i=function(){var g=/[^.]+$/.exec(fi&&fi.keys&&fi.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),Pi=Lt.toString,bn=zt.call(bs),En=xr._,Mn=Rl("^"+zt.call(ni).replace(Be,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jn=ge?pi.Buffer:s,os=pi.Symbol,yn=pi.Uint8Array,_e=jn?jn.allocUnsafe:s,we=wo(bs.getPrototypeOf,bs),je=bs.create,yt=Lt.propertyIsEnumerable,yi=tt.splice,dn=os?os.isConcatSpreadable:s,ns=os?os.iterator:s,Pr=os?os.toStringTag:s,fr=function(){try{var g=Ld(bs,"defineProperty");return g({},"",{}),g}catch{}}(),Ua=pi.clearTimeout!==xr.clearTimeout&&pi.clearTimeout,Wi=nn&&nn.now!==xr.Date.now&&nn.now,Ga=pi.setTimeout!==xr.setTimeout&&pi.setTimeout,jc=pr.ceil,Sd=pr.floor,pu=bs.getOwnPropertySymbols,$h=jn?jn.isBuffer:s,bp=pi.isFinite,fu=tt.join,Wh=wo(bs.keys,bs),mr=pr.max,qs=pr.min,Td=nn.now,qh=pi.parseInt,qf=pr.random,Lm=tt.reverse,mu=Ld(pi,"DataView"),Bl=Ld(pi,"Map"),Ed=Ld(pi,"Promise"),lc=Ld(pi,"Set"),Yh=Ld(pi,"WeakMap"),Uc=Ld(bs,"create"),Gc=Yh&&new Yh,gh={},wp=gc(mu),Sp=gc(Bl),Yf=gc(Ed),gu=gc(lc),cc=gc(Yh),Xh=os?os.prototype:s,Zh=Xh?Xh.valueOf:s,Tp=Xh?Xh.toString:s;function Je(g){if(Wr(g)&&!es(g)&&!(g instanceof Bn)){if(g instanceof Ta)return g;if(ni.call(g,"__wrapped__"))return ku(g)}return new Ta(g)}var hc=function(){function g(){}return function(A){if(!Ir(A))return{};if(je)return je(A);g.prototype=A;var se=new g;return g.prototype=s,se}}();function Cd(){}function Ta(g,A){this.__wrapped__=g,this.__actions__=[],this.__chain__=!!A,this.__index__=0,this.__values__=s}Je.templateSettings={escape:sl,evaluate:La,interpolate:ur,variable:"",imports:{_:Je}},Je.prototype=Cd.prototype,Je.prototype.constructor=Je,Ta.prototype=hc(Cd.prototype),Ta.prototype.constructor=Ta;function Bn(g){this.__wrapped__=g,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ce,this.__views__=[]}function Om(){var g=new Bn(this.__wrapped__);return g.__actions__=Jr(this.__actions__),g.__dir__=this.__dir__,g.__filtered__=this.__filtered__,g.__iteratees__=Jr(this.__iteratees__),g.__takeCount__=this.__takeCount__,g.__views__=Jr(this.__views__),g}function Ep(){if(this.__filtered__){var g=new Bn(this);g.__dir__=-1,g.__filtered__=!0}else g=this.clone(),g.__dir__*=-1;return g}function Rm(){var g=this.__wrapped__.value(),A=this.__dir__,se=es(g),Ae=A<0,We=se?g.length:0,nt=Km(0,We,this.__views__),St=nt.start,It=nt.end,Vt=It-St,Si=Ae?It:St-1,ki=this.__iteratees__,Ri=ki.length,on=0,wn=qs(Vt,this.__takeCount__);if(!se||!Ae&&We==Vt&&wn==Vt)return kd(g,this.__actions__);var Un=[];e:for(;Vt--&&on<wn;){Si+=A;for(var ps=-1,Vn=g[Si];++ps<Ri;){var Ss=ki[ps],As=Ss.iteratee,Ya=Ss.type,_a=As(Vn);if(Ya==y)Vn=_a;else if(!_a){if(Ya==f)continue e;break e}}Un[on++]=Vn}return Un}Bn.prototype=hc(Cd.prototype),Bn.prototype.constructor=Bn;function _h(g){var A=-1,se=g==null?0:g.length;for(this.clear();++A<se;){var Ae=g[A];this.set(Ae[0],Ae[1])}}function dc(){this.__data__=Uc?Uc(null):{},this.size=0}function Xf(g){var A=this.has(g)&&delete this.__data__[g];return this.size-=A?1:0,A}function Kh(g){var A=this.__data__;if(Uc){var se=A[g];return se===S?s:se}return ni.call(A,g)?A[g]:s}function zl(g){var A=this.__data__;return Uc?A[g]!==s:ni.call(A,g)}function _u(g,A){var se=this.__data__;return this.size+=this.has(g)?0:1,se[g]=Uc&&A===s?S:A,this}_h.prototype.clear=dc,_h.prototype.delete=Xf,_h.prototype.get=Kh,_h.prototype.has=zl,_h.prototype.set=_u;function Hi(g){var A=-1,se=g==null?0:g.length;for(this.clear();++A<se;){var Ae=g[A];this.set(Ae[0],Ae[1])}}function Zf(){this.__data__=[],this.size=0}function Kf(g){var A=this.__data__,se=a(A,g);if(se<0)return!1;var Ae=A.length-1;return se==Ae?A.pop():yi.call(A,se,1),--this.size,!0}function Vc(g){var A=this.__data__,se=a(A,g);return se<0?s:A[se][1]}function Md(g){return a(this.__data__,g)>-1}function Cp(g,A){var se=this.__data__,Ae=a(se,g);return Ae<0?(++this.size,se.push([g,A])):se[Ae][1]=A,this}Hi.prototype.clear=Zf,Hi.prototype.delete=Kf,Hi.prototype.get=Vc,Hi.prototype.has=Md,Hi.prototype.set=Cp;function Nl(g){var A=-1,se=g==null?0:g.length;for(this.clear();++A<se;){var Ae=g[A];this.set(Ae[0],Ae[1])}}function Mp(){this.size=0,this.__data__={hash:new _h,map:new(Bl||Hi),string:new _h}}function Ap(g){var A=Su(this,g).delete(g);return this.size-=A?1:0,A}function kp(g){return Su(this,g).get(g)}function Pp(g){return Su(this,g).has(g)}function Jh(g,A){var se=Su(this,g),Ae=se.size;return se.set(g,A),this.size+=se.size==Ae?0:1,this}Nl.prototype.clear=Mp,Nl.prototype.delete=Ap,Nl.prototype.get=kp,Nl.prototype.has=Pp,Nl.prototype.set=Jh;function vl(g){var A=-1,se=g==null?0:g.length;for(this.__data__=new Nl;++A<se;)this.add(g[A])}function yu(g){return this.__data__.set(g,S),this}function Jf(g){return this.__data__.has(g)}vl.prototype.add=vl.prototype.push=yu,vl.prototype.has=Jf;function Ea(g){var A=this.__data__=new Hi(g);this.size=A.size}function Qf(){this.__data__=new Hi,this.size=0}function e0(g){var A=this.__data__,se=A.delete(g);return this.size=A.size,se}function t0(g){return this.__data__.get(g)}function i0(g){return this.__data__.has(g)}function n0(g,A){var se=this.__data__;if(se instanceof Hi){var Ae=se.__data__;if(!Bl||Ae.length<c-1)return Ae.push([g,A]),this.size=++se.size,this;se=this.__data__=new Nl(Ae)}return se.set(g,A),this.size=se.size,this}Ea.prototype.clear=Qf,Ea.prototype.delete=e0,Ea.prototype.get=t0,Ea.prototype.has=i0,Ea.prototype.set=n0;function vu(g,A){var se=es(g),Ae=!se&&jd(g),We=!se&&!Ae&&vc(g),nt=!se&&!Ae&&!We&&xc(g),St=se||Ae||We||nt,It=St?Bo(g.length,Fc):[],Vt=It.length;for(var Si in g)(A||ni.call(g,Si))&&!(St&&(Si=="length"||We&&(Si=="offset"||Si=="parent")||nt&&(Si=="buffer"||Si=="byteLength"||Si=="byteOffset")||Yc(Si,Vt)))&&It.push(Si);return It}function Dp(g){var A=g.length;return A?g[da(0,A-1)]:s}function s0(g,A){return Au(Jr(g),he(A,0,g.length))}function Ip(g){return Au(Jr(g))}function yh(g,A,se){(se!==s&&!yc(g[A],se)||se===s&&!(A in g))&&z(g,A,se)}function _(g,A,se){var Ae=g[A];(!(ni.call(g,A)&&yc(Ae,se))||se===s&&!(A in g))&&z(g,A,se)}function a(g,A){for(var se=g.length;se--;)if(yc(g[se][0],A))return se;return-1}function u(g,A,se,Ae){return st(g,function(We,nt,St){A(Ae,We,se(We),St)}),Ae}function x(g,A){return g&&mo(A,qr(A),g)}function D(g,A){return g&&mo(A,Aa(A),g)}function z(g,A,se){A=="__proto__"&&fr?fr(g,A,{configurable:!0,enumerable:!0,value:se,writable:!0}):g[A]=se}function ne(g,A){for(var se=-1,Ae=A.length,We=oi(Ae),nt=g==null;++se<Ae;)We[se]=nt?s:R0(g,A[se]);return We}function he(g,A,se){return g===g&&(se!==s&&(g=g<=se?g:se),A!==s&&(g=g>=A?g:A)),g}function pe(g,A,se,Ae,We,nt){var St,It=A&B,Vt=A&W,Si=A&K;if(se&&(St=We?se(g,Ae,We,nt):se(g)),St!==s)return St;if(!Ir(g))return g;var ki=es(g);if(ki){if(St=Od(g),!It)return Jr(g,St)}else{var Ri=ua(g),on=Ri==le||Ri==me;if(vc(g))return $c(g,It);if(Ri==Ue||Ri==re||on&&!We){if(St=Vt||on?{}:Qm(g),!It)return Vt?td(g,D(St,g)):ed(g,x(St,g))}else{if(!vs[Ri])return We?g:{};St=Bx(g,Ri,It)}}nt||(nt=new Ea);var wn=nt.get(g);if(wn)return wn;nt.set(g,St),W_(g)?g.forEach(function(Vn){St.add(pe(Vn,A,se,Vn,g,nt))}):Ag(g)&&g.forEach(function(Vn,Ss){St.set(Ss,pe(Vn,A,se,Ss,g,nt))});var Un=Si?Vt?Xm:h0:Vt?Aa:qr,ps=ki?s:Un(g);return ri(ps||g,function(Vn,Ss){ps&&(Ss=Vn,Vn=g[Ss]),_(St,Ss,pe(Vn,A,se,Ss,g,nt))}),St}function ke(g){var A=qr(g);return function(se){return Me(se,g,A)}}function Me(g,A,se){var Ae=se.length;if(g==null)return!Ae;for(g=bs(g);Ae--;){var We=se[Ae],nt=A[We],St=g[We];if(St===s&&!(We in g)||!nt(St))return!1}return!0}function Ne(g,A,se){if(typeof g!="function")throw new fo(m);return Mu(function(){g.apply(s,se)},A)}function qe(g,A,se,Ae){var We=-1,nt=Ws,St=!0,It=g.length,Vt=[],Si=A.length;if(!It)return Vt;se&&(A=Yn(A,oo(se))),Ae?(nt=Ds,St=!1):A.length>=c&&(nt=Il,St=!1,A=new vl(A));e:for(;++We<It;){var ki=g[We],Ri=se==null?ki:se(ki);if(ki=Ae||ki!==0?ki:0,St&&Ri===Ri){for(var on=Si;on--;)if(A[on]===Ri)continue e;Vt.push(ki)}else nt(A,Ri,Ae)||Vt.push(ki)}return Vt}var st=l_(bt),rt=l_(Ot,!0);function ht(g,A){var se=!0;return st(g,function(Ae,We,nt){return se=!!A(Ae,We,nt),se}),se}function Ze(g,A,se){for(var Ae=-1,We=g.length;++Ae<We;){var nt=g[Ae],St=A(nt);if(St!=null&&(It===s?St===St&&!ga(St):se(St,It)))var It=St,Vt=nt}return Vt}function Qe(g,A,se,Ae){var We=g.length;for(se=zn(se),se<0&&(se=-se>We?0:We+se),Ae=Ae===s||Ae>We?We:zn(Ae),Ae<0&&(Ae+=We),Ae=se>Ae?0:Bu(Ae);se<Ae;)g[se++]=A;return g}function ut(g,A){var se=[];return st(g,function(Ae,We,nt){A(Ae,We,nt)&&se.push(Ae)}),se}function ot(g,A,se,Ae,We){var nt=-1,St=g.length;for(se||(se=p0),We||(We=[]);++nt<St;){var It=g[nt];A>0&&se(It)?A>1?ot(It,A-1,se,Ae,We):Xn(We,It):Ae||(We[We.length]=It)}return We}var vt=c_(),Mt=c_(!0);function bt(g,A){return g&&vt(g,A,qr)}function Ot(g,A){return g&&Mt(g,A,qr)}function Zt(g,A){return tn(A,function(se){return Zc(g[se])})}function qt(g,A){A=uc(A,g);for(var se=0,Ae=A.length;g!=null&&se<Ae;)g=g[Wa(A[se++])];return se&&se==Ae?g:s}function Nt(g,A,se){var Ae=A(g);return es(g)?Ae:Xn(Ae,se(g))}function xi(g){return g==null?g===s?Ye:Le:Pr&&Pr in bs(g)?d_(g):tg(g)}function Ht(g,A){return g>A}function ci(g,A){return g!=null&&ni.call(g,A)}function Jt(g,A){return g!=null&&A in bs(g)}function Ai(g,A,se){return g>=qs(A,se)&&g<mr(A,se)}function ei(g,A,se){for(var Ae=se?Ds:Ws,We=g[0].length,nt=g.length,St=nt,It=oi(nt),Vt=1/0,Si=[];St--;){var ki=g[St];St&&A&&(ki=Yn(ki,oo(A))),Vt=qs(ki.length,Vt),It[St]=!se&&(A||We>=120&&ki.length>=120)?new vl(St&&ki):s}ki=g[0];var Ri=-1,on=It[0];e:for(;++Ri<We&&Si.length<Vt;){var wn=ki[Ri],Un=A?A(wn):wn;if(wn=se||wn!==0?wn:0,!(on?Il(on,Un):Ae(Si,Un,se))){for(St=nt;--St;){var ps=It[St];if(!(ps?Il(ps,Un):Ae(g[St],Un,se)))continue e}on&&on.push(Un),Si.push(wn)}}return Si}function gi(g,A,se,Ae){return bt(g,function(We,nt,St){A(Ae,se(We),nt,St)}),Ae}function Di(g,A,se){A=uc(A,g),g=ig(g,A);var Ae=g==null?g:g[Wa(Vl(A))];return Ae==null?s:bi(Ae,g,se)}function jt(g){return Wr(g)&&xi(g)==re}function Kt(g){return Wr(g)&&xi(g)==Ut}function sn(g){return Wr(g)&&xi(g)==ae}function un(g,A,se,Ae,We){return g===A?!0:g==null||A==null||!Wr(g)&&!Wr(A)?g!==g&&A!==A:rn(g,A,se,Ae,un,We)}function rn(g,A,se,Ae,We,nt){var St=es(g),It=es(A),Vt=St?ue:ua(g),Si=It?ue:ua(A);Vt=Vt==re?Ue:Vt,Si=Si==re?Ue:Si;var ki=Vt==Ue,Ri=Si==Ue,on=Vt==Si;if(on&&vc(g)){if(!vc(A))return!1;St=!0,ki=!1}if(on&&!ki)return nt||(nt=new Ea),St||xc(g)?qm(g,A,se,Ae,We,nt):Ym(g,A,Vt,se,Ae,We,nt);if(!(se&I)){var wn=ki&&ni.call(g,"__wrapped__"),Un=Ri&&ni.call(A,"__wrapped__");if(wn||Un){var ps=wn?g.value():g,Vn=Un?A.value():A;return nt||(nt=new Ea),We(ps,Vn,se,Ae,nt)}}return on?(nt||(nt=new Ea),Rx(g,A,se,Ae,We,nt)):!1}function Cn(g){return Wr(g)&&ua(g)==Se}function Hn(g,A,se,Ae){var We=se.length,nt=We,St=!Ae;if(g==null)return!nt;for(g=bs(g);We--;){var It=se[We];if(St&&It[2]?It[1]!==g[It[0]]:!(It[0]in g))return!1}for(;++We<nt;){It=se[We];var Vt=It[0],Si=g[Vt],ki=It[1];if(St&&It[2]){if(Si===s&&!(Vt in g))return!1}else{var Ri=new Ea;if(Ae)var on=Ae(Si,ki,Vt,g,A,Ri);if(!(on===s?un(ki,Si,I|O,Ae,Ri):on))return!1}}return!0}function mn(g){if(!Ir(g)||$a(g))return!1;var A=Zc(g)?Mn:Qi;return A.test(gc(g))}function Zi(g){return Wr(g)&&xi(g)==pt}function zs(g){return Wr(g)&&ua(g)==De}function Es(g){return Wr(g)&&Ns(g.length)&&!!us[xi(g)]}function Fs(g){return typeof g=="function"?g:g==null?ao:typeof g=="object"?es(g)?Ys(g[0],g[1]):xl(g):Xg(g)}function Ls(g){if(!Cu(g))return Wh(g);var A=[];for(var se in bs(g))ni.call(g,se)&&se!="constructor"&&A.push(se);return A}function ha(g){if(!Ir(g))return Bd(g);var A=Cu(g),se=[];for(var Ae in g)Ae=="constructor"&&(A||!ni.call(g,Ae))||se.push(Ae);return se}function qo(g,A){return g<A}function zo(g,A){var se=-1,Ae=Zs(g)?oi(g.length):[];return st(g,function(We,nt,St){Ae[++se]=A(We,nt,St)}),Ae}function xl(g){var A=d0(g);return A.length==1&&A[0][2]?f0(A[0][0],A[0][1]):function(se){return se===g||Hn(se,g,A)}}function Ys(g,A){return eg(g)&&Ul(A)?f0(Wa(g),A):function(se){var Ae=R0(se,g);return Ae===s&&Ae===A?Ud(se,g):un(A,Ae,I|O)}}function Os(g,A,se,Ae,We){g!==A&&vt(A,function(nt,St){if(We||(We=new Ea),Ir(nt))ws(g,A,St,se,Os,Ae,We);else{var It=Ae?Ae(ng(g,St),nt,St+"",g,A,We):s;It===s&&(It=nt),yh(g,St,It)}},Aa)}function ws(g,A,se,Ae,We,nt,St){var It=ng(g,se),Vt=ng(A,se),Si=St.get(Vt);if(Si){yh(g,se,Si);return}var ki=nt?nt(It,Vt,se+"",g,A,St):s,Ri=ki===s;if(Ri){var on=es(Vt),wn=!on&&vc(Vt),Un=!on&&!wn&&xc(Vt);ki=Vt,on||wn||Un?es(It)?ki=It:tr(It)?ki=Jr(It):wn?(Ri=!1,ki=$c(Vt,!0)):Un?(Ri=!1,ki=o_(Vt,!0)):ki=[]:Kp(Vt)||jd(Vt)?(ki=It,jd(It)?ki=I0(It):(!Ir(It)||Zc(It))&&(ki=Qm(Vt))):Ri=!1}Ri&&(St.set(Vt,ki),We(ki,Vt,Ae,nt,St),St.delete(Vt)),yh(g,se,ki)}function Dr(g,A){var se=g.length;if(se)return A+=A<0?se:0,Yc(A,se)?g[A]:s}function To(g,A,se){A.length?A=Yn(A,function(nt){return es(nt)?function(St){return qt(St,nt.length===1?nt[0]:nt)}:nt}):A=[ao];var Ae=-1;A=Yn(A,oo(Ln()));var We=zo(g,function(nt,St,It){var Vt=Yn(A,function(Si){return Si(nt)});return{criteria:Vt,index:++Ae,value:nt}});return zc(We,function(nt,St){return Um(nt,St,se)})}function Xs(g,A){return No(g,A,function(se,Ae){return Ud(g,Ae)})}function No(g,A,se){for(var Ae=-1,We=A.length,nt={};++Ae<We;){var St=A[Ae],It=qt(g,St);se(It,St)&&vh(nt,uc(St,g),It)}return nt}function Ad(g){return function(A){return qt(A,g)}}function bl(g,A,se,Ae){var We=Ae?Ur:On,nt=-1,St=A.length,It=g;for(g===A&&(A=Jr(A)),se&&(It=Yn(g,oo(se)));++nt<St;)for(var Vt=0,Si=A[nt],ki=se?se(Si):Si;(Vt=We(It,ki,Vt,Ae))>-1;)It!==g&&yi.call(It,Vt,1),yi.call(g,Vt,1);return g}function Eo(g,A){for(var se=g?A.length:0,Ae=se-1;se--;){var We=A[se];if(se==Ae||We!==nt){var nt=We;Yc(We)?yi.call(g,We,1):o0(g,We)}}return g}function da(g,A){return g+Sd(qf()*(A-g+1))}function Fl(g,A,se,Ae){for(var We=-1,nt=mr(jc((A-g)/(se||1)),0),St=oi(nt);nt--;)St[Ae?nt:++We]=g,g+=se;return St}function Va(g,A){var se="";if(!g||A<1||A>q)return se;do A%2&&(se+=g),A=Sd(A/2),A&&(g+=g);while(A);return se}function Zn(g,A){return zd(Np(g,A,ao),g+"")}function Qh(g){return Dp(Gd(g))}function jl(g,A){var se=Gd(g);return Au(se,he(A,0,se.length))}function vh(g,A,se,Ae){if(!Ir(g))return g;A=uc(A,g);for(var We=-1,nt=A.length,St=nt-1,It=g;It!=null&&++We<nt;){var Vt=Wa(A[We]),Si=se;if(Vt==="__proto__"||Vt==="constructor"||Vt==="prototype")return g;if(We!=St){var ki=It[Vt];Si=Ae?Ae(ki,Vt,It):s,Si===s&&(Si=Ir(ki)?ki:Yc(A[We+1])?[]:{})}_(It,Vt,Si),It=It[Vt]}return g}var Lp=Gc?function(g,A){return Gc.set(g,A),g}:ao,e_=fr?function(g,A){return fr(g,"toString",{configurable:!0,enumerable:!1,value:Wg(A),writable:!0})}:ao;function Bm(g){return Au(Gd(g))}function wl(g,A,se){var Ae=-1,We=g.length;A<0&&(A=-A>We?0:We+A),se=se>We?We:se,se<0&&(se+=We),We=A>se?0:se-A>>>0,A>>>=0;for(var nt=oi(We);++Ae<We;)nt[Ae]=g[Ae+A];return nt}function t_(g,A){var se;return st(g,function(Ae,We,nt){return se=A(Ae,We,nt),!se}),!!se}function Op(g,A,se){var Ae=0,We=g==null?Ae:g.length;if(typeof A=="number"&&A===A&&We<=Te){for(;Ae<We;){var nt=Ae+We>>>1,St=g[nt];St!==null&&!ga(St)&&(se?St<=A:St<A)?Ae=nt+1:We=nt}return We}return r0(g,A,ao,se)}function r0(g,A,se,Ae){var We=0,nt=g==null?0:g.length;if(nt===0)return 0;A=se(A);for(var St=A!==A,It=A===null,Vt=ga(A),Si=A===s;We<nt;){var ki=Sd((We+nt)/2),Ri=se(g[ki]),on=Ri!==s,wn=Ri===null,Un=Ri===Ri,ps=ga(Ri);if(St)var Vn=Ae||Un;else Si?Vn=Un&&(Ae||on):It?Vn=Un&&on&&(Ae||!wn):Vt?Vn=Un&&on&&!wn&&(Ae||!ps):wn||ps?Vn=!1:Vn=Ae?Ri<=A:Ri<A;Vn?We=ki+1:nt=ki}return qs(nt,fe)}function zm(g,A){for(var se=-1,Ae=g.length,We=0,nt=[];++se<Ae;){var St=g[se],It=A?A(St):St;if(!se||!yc(It,Vt)){var Vt=It;nt[We++]=St===0?0:St}}return nt}function Nm(g){return typeof g=="number"?g:ga(g)?X:+g}function Ha(g){if(typeof g=="string")return g;if(es(g))return Yn(g,Ha)+"";if(ga(g))return Tp?Tp.call(g):"";var A=g+"";return A=="0"&&1/g==-P?"-0":A}function xh(g,A,se){var Ae=-1,We=Ws,nt=g.length,St=!0,It=[],Vt=It;if(se)St=!1,We=Ds;else if(nt>=c){var Si=A?null:Fo(g);if(Si)return Fa(Si);St=!1,We=Il,Vt=new vl}else Vt=A?[]:It;e:for(;++Ae<nt;){var ki=g[Ae],Ri=A?A(ki):ki;if(ki=se||ki!==0?ki:0,St&&Ri===Ri){for(var on=Vt.length;on--;)if(Vt[on]===Ri)continue e;A&&Vt.push(Ri),It.push(ki)}else We(Vt,Ri,se)||(Vt!==It&&Vt.push(Ri),It.push(ki))}return It}function o0(g,A){return A=uc(A,g),g=ig(g,A),g==null||delete g[Wa(Vl(A))]}function i_(g,A,se,Ae){return vh(g,A,se(qt(g,A)),Ae)}function a0(g,A,se,Ae){for(var We=g.length,nt=Ae?We:-1;(Ae?nt--:++nt<We)&&A(g[nt],nt,g););return se?wl(g,Ae?0:nt,Ae?nt+1:We):wl(g,Ae?nt+1:0,Ae?We:nt)}function kd(g,A){var se=g;return se instanceof Bn&&(se=se.value()),Dn(A,function(Ae,We){return We.func.apply(We.thisArg,Xn([Ae],We.args))},se)}function l0(g,A,se){var Ae=g.length;if(Ae<2)return Ae?xh(g[0]):[];for(var We=-1,nt=oi(Ae);++We<Ae;)for(var St=g[We],It=-1;++It<Ae;)It!=We&&(nt[We]=qe(nt[We]||St,g[It],A,se));return xh(ot(nt,1),A,se)}function Fm(g,A,se){for(var Ae=-1,We=g.length,nt=A.length,St={};++Ae<We;){var It=Ae<nt?A[Ae]:s;se(St,g[Ae],It)}return St}function c0(g){return tr(g)?g:[]}function jm(g){return typeof g=="function"?g:ao}function uc(g,A){return es(g)?g:eg(g,A)?[g]:sg(ir(g))}var n_=Zn;function Hc(g,A,se){var Ae=g.length;return se=se===s?Ae:se,!A&&se>=Ae?g:wl(g,A,se)}var Rp=Ua||function(g){return xr.clearTimeout(g)};function $c(g,A){if(A)return g.slice();var se=g.length,Ae=_e?_e(se):new g.constructor(se);return g.copy(Ae),Ae}function xu(g){var A=new g.constructor(g.byteLength);return new yn(A).set(new yn(g)),A}function s_(g,A){var se=A?xu(g.buffer):g.buffer;return new g.constructor(se,g.byteOffset,g.byteLength)}function r_(g){var A=new g.constructor(g.source,Ei.exec(g));return A.lastIndex=g.lastIndex,A}function Ix(g){return Zh?bs(Zh.call(g)):{}}function o_(g,A){var se=A?xu(g.buffer):g.buffer;return new g.constructor(se,g.byteOffset,g.length)}function a_(g,A){if(g!==A){var se=g!==s,Ae=g===null,We=g===g,nt=ga(g),St=A!==s,It=A===null,Vt=A===A,Si=ga(A);if(!It&&!Si&&!nt&&g>A||nt&&St&&Vt&&!It&&!Si||Ae&&St&&Vt||!se&&Vt||!We)return 1;if(!Ae&&!nt&&!Si&&g<A||Si&&se&&We&&!Ae&&!nt||It&&se&&We||!St&&We||!Vt)return-1}return 0}function Um(g,A,se){for(var Ae=-1,We=g.criteria,nt=A.criteria,St=We.length,It=se.length;++Ae<St;){var Vt=a_(We[Ae],nt[Ae]);if(Vt){if(Ae>=It)return Vt;var Si=se[Ae];return Vt*(Si=="desc"?-1:1)}}return g.index-A.index}function bu(g,A,se,Ae){for(var We=-1,nt=g.length,St=se.length,It=-1,Vt=A.length,Si=mr(nt-St,0),ki=oi(Vt+Si),Ri=!Ae;++It<Vt;)ki[It]=A[It];for(;++We<St;)(Ri||We<nt)&&(ki[se[We]]=g[We]);for(;Si--;)ki[It++]=g[We++];return ki}function Pd(g,A,se,Ae){for(var We=-1,nt=g.length,St=-1,It=se.length,Vt=-1,Si=A.length,ki=mr(nt-It,0),Ri=oi(ki+Si),on=!Ae;++We<ki;)Ri[We]=g[We];for(var wn=We;++Vt<Si;)Ri[wn+Vt]=A[Vt];for(;++St<It;)(on||We<nt)&&(Ri[wn+se[St]]=g[We++]);return Ri}function Jr(g,A){var se=-1,Ae=g.length;for(A||(A=oi(Ae));++se<Ae;)A[se]=g[se];return A}function mo(g,A,se,Ae){var We=!se;se||(se={});for(var nt=-1,St=A.length;++nt<St;){var It=A[nt],Vt=Ae?Ae(se[It],g[It],It,se,g):s;Vt===s&&(Vt=g[It]),We?z(se,It,Vt):_(se,It,Vt)}return se}function ed(g,A){return mo(g,Zm(g),A)}function td(g,A){return mo(g,u0(g),A)}function Wc(g,A){return function(se,Ae){var We=es(se)?ti:u,nt=A?A():{};return We(se,g,Ln(Ae,2),nt)}}function wu(g){return Zn(function(A,se){var Ae=-1,We=se.length,nt=We>1?se[We-1]:s,St=We>2?se[2]:s;for(nt=g.length>3&&typeof nt=="function"?(We--,nt):s,St&&pa(se[0],se[1],St)&&(nt=We<3?s:nt,We=1),A=bs(A);++Ae<We;){var It=se[Ae];It&&g(A,It,Ae,nt)}return A})}function l_(g,A){return function(se,Ae){if(se==null)return se;if(!Zs(se))return g(se,Ae);for(var We=se.length,nt=A?We:-1,St=bs(se);(A?nt--:++nt<We)&&Ae(St[nt],nt,St)!==!1;);return se}}function c_(g){return function(A,se,Ae){for(var We=-1,nt=bs(A),St=Ae(A),It=St.length;It--;){var Vt=St[g?It:++We];if(se(nt[Vt],Vt,nt)===!1)break}return A}}function Lx(g,A,se){var Ae=A&H,We=Ca(g);function nt(){var St=this&&this!==xr&&this instanceof nt?We:g;return St.apply(Ae?se:this,arguments)}return nt}function Gm(g){return function(A){A=ir(A);var se=Wo(A)?uo(A):s,Ae=se?se[0]:A.charAt(0),We=se?Hc(se,1).join(""):A.slice(1);return Ae[g]()+We}}function bh(g){return function(A){return Dn(Hd(Fg(A).replace(Ic,"")),g,"")}}function Ca(g){return function(){var A=arguments;switch(A.length){case 0:return new g;case 1:return new g(A[0]);case 2:return new g(A[0],A[1]);case 3:return new g(A[0],A[1],A[2]);case 4:return new g(A[0],A[1],A[2],A[3]);case 5:return new g(A[0],A[1],A[2],A[3],A[4]);case 6:return new g(A[0],A[1],A[2],A[3],A[4],A[5]);case 7:return new g(A[0],A[1],A[2],A[3],A[4],A[5],A[6])}var se=hc(g.prototype),Ae=g.apply(se,A);return Ir(Ae)?Ae:se}}function Ox(g,A,se){var Ae=Ca(g);function We(){for(var nt=arguments.length,St=oi(nt),It=nt,Vt=Sh(We);It--;)St[It]=arguments[It];var Si=nt<3&&St[0]!==Vt&&St[nt-1]!==Vt?[]:Gr(St,Vt);if(nt-=Si.length,nt<se)return Tl(g,A,vn,We.placeholder,s,St,Si,s,s,se-nt);var ki=this&&this!==xr&&this instanceof We?Ae:g;return bi(ki,this,St)}return We}function h_(g){return function(A,se,Ae){var We=bs(A);if(!Zs(A)){var nt=Ln(se,3);A=qr(A),se=function(It){return nt(We[It],It,We)}}var St=g(A,se,Ae);return St>-1?We[nt?A[St]:St]:s}}function Hr(g){return fc(function(A){var se=A.length,Ae=se,We=Ta.prototype.thru;for(g&&A.reverse();Ae--;){var nt=A[Ae];if(typeof nt!="function")throw new fo(m);if(We&&!St&&qc(nt)=="wrapper")var St=new Ta([],!0)}for(Ae=St?Ae:se;++Ae<se;){nt=A[Ae];var It=qc(nt),Vt=It=="wrapper"?mc(nt):s;Vt&&Eu(Vt[0])&&Vt[1]==(ie|k|G|Q)&&!Vt[4].length&&Vt[9]==1?St=St[qc(Vt[0])].apply(St,Vt[3]):St=nt.length==1&&Eu(nt)?St[It]():St.thru(nt)}return function(){var Si=arguments,ki=Si[0];if(St&&Si.length==1&&es(ki))return St.plant(ki).value();for(var Ri=0,on=se?A[Ri].apply(this,Si):ki;++Ri<se;)on=A[Ri].call(this,on);return on}})}function vn(g,A,se,Ae,We,nt,St,It,Vt,Si){var ki=A&ie,Ri=A&H,on=A&M,wn=A&(k|V),Un=A&N,ps=on?s:Ca(g);function Vn(){for(var Ss=arguments.length,As=oi(Ss),Ya=Ss;Ya--;)As[Ya]=arguments[Ya];if(wn)var _a=Sh(Vn),Xa=ml(As,_a);if(Ae&&(As=bu(As,Ae,We,wn)),nt&&(As=Pd(As,nt,St,wn)),Ss-=Xa,wn&&Ss<Si){var Qr=Gr(As,_a);return Tl(g,A,vn,Vn.placeholder,se,As,Qr,It,Vt,Si-Ss)}var Uo=Ri?se:this,Qc=on?Uo[g]:g;return Ss=As.length,It?As=f_(As,It):Un&&Ss>1&&As.reverse(),ki&&Vt<Ss&&(As.length=Vt),this&&this!==xr&&this instanceof Vn&&(Qc=ps||Ca(Qc)),Qc.apply(Uo,As)}return Vn}function wh(g,A){return function(se,Ae){return gi(se,g,A(Ae),{})}}function Dd(g,A){return function(se,Ae){var We;if(se===s&&Ae===s)return A;if(se!==s&&(We=se),Ae!==s){if(We===s)return Ae;typeof se=="string"||typeof Ae=="string"?(se=Ha(se),Ae=Ha(Ae)):(se=Nm(se),Ae=Nm(Ae)),We=g(se,Ae)}return We}}function hs(g){return fc(function(A){return A=Yn(A,oo(Ln())),Zn(function(se){var Ae=this;return g(A,function(We){return bi(We,Ae,se)})})})}function Bp(g,A){A=A===s?" ":Ha(A);var se=A.length;if(se<2)return se?Va(A,g):A;var Ae=Va(A,jc(g/is(A)));return Wo(A)?Hc(uo(Ae),0,g).join(""):Ae.slice(0,g)}function Vm(g,A,se,Ae){var We=A&H,nt=Ca(g);function St(){for(var It=-1,Vt=arguments.length,Si=-1,ki=Ae.length,Ri=oi(ki+Vt),on=this&&this!==xr&&this instanceof St?nt:g;++Si<ki;)Ri[Si]=Ae[Si];for(;Vt--;)Ri[Si++]=arguments[++It];return bi(on,We?se:this,Ri)}return St}function pc(g){return function(A,se,Ae){return Ae&&typeof Ae!="number"&&pa(A,se,Ae)&&(se=Ae=s),A=Kc(A),se===s?(se=A,A=0):se=Kc(se),Ae=Ae===s?A<se?1:-1:Kc(Ae),Fl(A,se,Ae,g)}}function Sl(g){return function(A,se){return typeof A=="string"&&typeof se=="string"||(A=Yo(A),se=Yo(se)),g(A,se)}}function Tl(g,A,se,Ae,We,nt,St,It,Vt,Si){var ki=A&k,Ri=ki?St:s,on=ki?s:St,wn=ki?nt:s,Un=ki?s:nt;A|=ki?G:C,A&=~(ki?C:G),A&E||(A&=~(H|M));var ps=[g,A,We,wn,Ri,Un,on,It,Vt,Si],Vn=se.apply(s,ps);return Eu(g)&&m0(Vn,ps),Vn.placeholder=Ae,Nd(Vn,g,A)}function Ma(g){var A=pr[g];return function(se,Ae){if(se=Yo(se),Ae=Ae==null?0:qs(zn(Ae),292),Ae&&bp(se)){var We=(ir(se)+"e").split("e"),nt=A(We[0]+"e"+(+We[1]+Ae));return We=(ir(nt)+"e").split("e"),+(We[0]+"e"+(+We[1]-Ae))}return A(se)}}var Fo=lc&&1/Fa(new lc([,-0]))[1]==P?function(g){return new lc(g)}:Yg;function Hm(g){return function(A){var se=ua(A);return se==Se?Ll(A):se==De?yl(A):ac(A,g(A))}}function jo(g,A,se,Ae,We,nt,St,It){var Vt=A&M;if(!Vt&&typeof g!="function")throw new fo(m);var Si=Ae?Ae.length:0;if(Si||(A&=~(G|C),Ae=We=s),St=St===s?St:mr(zn(St),0),It=It===s?It:zn(It),Si-=We?We.length:0,A&C){var ki=Ae,Ri=We;Ae=We=s}var on=Vt?s:mc(g),wn=[g,A,se,Ae,We,ki,Ri,nt,St,It];if(on&&zp(wn,on),g=wn[0],A=wn[1],se=wn[2],Ae=wn[3],We=wn[4],It=wn[9]=wn[9]===s?Vt?0:g.length:mr(wn[9]-Si,0),!It&&A&(k|V)&&(A&=~(k|V)),!A||A==H)var Un=Lx(g,A,se);else A==k||A==V?Un=Ox(g,A,It):(A==G||A==(H|G))&&!We.length?Un=Vm(g,A,se,Ae):Un=vn.apply(s,wn);var ps=on?Lp:m0;return Nd(ps(Un,wn),g,A)}function $m(g,A,se,Ae){return g===s||yc(g,Lt[se])&&!ni.call(Ae,se)?A:g}function Id(g,A,se,Ae,We,nt){return Ir(g)&&Ir(A)&&(nt.set(A,g),Os(g,A,s,Id,nt),nt.delete(A)),g}function Wm(g){return Kp(g)?s:g}function qm(g,A,se,Ae,We,nt){var St=se&I,It=g.length,Vt=A.length;if(It!=Vt&&!(St&&Vt>It))return!1;var Si=nt.get(g),ki=nt.get(A);if(Si&&ki)return Si==A&&ki==g;var Ri=-1,on=!0,wn=se&O?new vl:s;for(nt.set(g,A),nt.set(A,g);++Ri<It;){var Un=g[Ri],ps=A[Ri];if(Ae)var Vn=St?Ae(ps,Un,Ri,A,g,nt):Ae(Un,ps,Ri,g,A,nt);if(Vn!==s){if(Vn)continue;on=!1;break}if(wn){if(!Qn(A,function(Ss,As){if(!Il(wn,As)&&(Un===Ss||We(Un,Ss,se,Ae,nt)))return wn.push(As)})){on=!1;break}}else if(!(Un===ps||We(Un,ps,se,Ae,nt))){on=!1;break}}return nt.delete(g),nt.delete(A),on}function Ym(g,A,se,Ae,We,nt,St){switch(se){case Gt:if(g.byteLength!=A.byteLength||g.byteOffset!=A.byteOffset)return!1;g=g.buffer,A=A.buffer;case Ut:return!(g.byteLength!=A.byteLength||!nt(new yn(g),new yn(A)));case Ie:case ae:case Oe:return yc(+g,+A);case xe:return g.name==A.name&&g.message==A.message;case pt:case ze:return g==A+"";case Se:var It=Ll;case De:var Vt=Ae&I;if(It||(It=Fa),g.size!=A.size&&!Vt)return!1;var Si=St.get(g);if(Si)return Si==A;Ae|=O,St.set(g,A);var ki=qm(It(g),It(A),Ae,We,nt,St);return St.delete(g),ki;case Ge:if(Zh)return Zh.call(g)==Zh.call(A)}return!1}function Rx(g,A,se,Ae,We,nt){var St=se&I,It=h0(g),Vt=It.length,Si=h0(A),ki=Si.length;if(Vt!=ki&&!St)return!1;for(var Ri=Vt;Ri--;){var on=It[Ri];if(!(St?on in A:ni.call(A,on)))return!1}var wn=nt.get(g),Un=nt.get(A);if(wn&&Un)return wn==A&&Un==g;var ps=!0;nt.set(g,A),nt.set(A,g);for(var Vn=St;++Ri<Vt;){on=It[Ri];var Ss=g[on],As=A[on];if(Ae)var Ya=St?Ae(As,Ss,on,A,g,nt):Ae(Ss,As,on,g,A,nt);if(!(Ya===s?Ss===As||We(Ss,As,se,Ae,nt):Ya)){ps=!1;break}Vn||(Vn=on=="constructor")}if(ps&&!Vn){var _a=g.constructor,Xa=A.constructor;_a!=Xa&&"constructor"in g&&"constructor"in A&&!(typeof _a=="function"&&_a instanceof _a&&typeof Xa=="function"&&Xa instanceof Xa)&&(ps=!1)}return nt.delete(g),nt.delete(A),ps}function fc(g){return zd(Np(g,s,ag),g+"")}function h0(g){return Nt(g,qr,Zm)}function Xm(g){return Nt(g,Aa,u0)}var mc=Gc?function(g){return Gc.get(g)}:Yg;function qc(g){for(var A=g.name+"",se=gh[A],Ae=ni.call(gh,A)?se.length:0;Ae--;){var We=se[Ae],nt=We.func;if(nt==null||nt==g)return We.name}return A}function Sh(g){var A=ni.call(Je,"placeholder")?Je:g;return A.placeholder}function Ln(){var g=Je.iteratee||qg;return g=g===qg?Fs:g,arguments.length?g(arguments[0],arguments[1]):g}function Su(g,A){var se=g.__data__;return zx(A)?se[typeof A=="string"?"string":"hash"]:se.map}function d0(g){for(var A=qr(g),se=A.length;se--;){var Ae=A[se],We=g[Ae];A[se]=[Ae,We,Ul(We)]}return A}function Ld(g,A){var se=$o(g,A);return mn(se)?se:s}function d_(g){var A=ni.call(g,Pr),se=g[Pr];try{g[Pr]=s;var Ae=!0}catch{}var We=Pi.call(g);return Ae&&(A?g[Pr]=se:delete g[Pr]),We}var Zm=pu?function(g){return g==null?[]:(g=bs(g),tn(pu(g),function(A){return yt.call(g,A)}))}:V0,u0=pu?function(g){for(var A=[];g;)Xn(A,Zm(g)),g=we(g);return A}:V0,ua=xi;(mu&&ua(new mu(new ArrayBuffer(1)))!=Gt||Bl&&ua(new Bl)!=Se||Ed&&ua(Ed.resolve())!=lt||lc&&ua(new lc)!=De||Yh&&ua(new Yh)!=at)&&(ua=function(g){var A=xi(g),se=A==Ue?g.constructor:s,Ae=se?gc(se):"";if(Ae)switch(Ae){case wp:return Gt;case Sp:return Se;case Yf:return lt;case gu:return De;case cc:return at}return A});function Km(g,A,se){for(var Ae=-1,We=se.length;++Ae<We;){var nt=se[Ae],St=nt.size;switch(nt.type){case"drop":g+=St;break;case"dropRight":A-=St;break;case"take":A=qs(A,g+St);break;case"takeRight":g=mr(g,A-St);break}}return{start:g,end:A}}function u_(g){var A=g.match(Rt);return A?A[1].split(Ft):[]}function Jm(g,A,se){A=uc(A,g);for(var Ae=-1,We=A.length,nt=!1;++Ae<We;){var St=Wa(A[Ae]);if(!(nt=g!=null&&se(g,St)))break;g=g[St]}return nt||++Ae!=We?nt:(We=g==null?0:g.length,!!We&&Ns(We)&&Yc(St,We)&&(es(g)||jd(g)))}function Od(g){var A=g.length,se=new g.constructor(A);return A&&typeof g[0]=="string"&&ni.call(g,"index")&&(se.index=g.index,se.input=g.input),se}function Qm(g){return typeof g.constructor=="function"&&!Cu(g)?hc(we(g)):{}}function Bx(g,A,se){var Ae=g.constructor;switch(A){case Ut:return xu(g);case Ie:case ae:return new Ae(+g);case Gt:return s_(g,se);case wi:case Qt:case Ti:case Ki:case Ni:case Xi:case Gi:case xn:case kn:return o_(g,se);case Se:return new Ae;case Oe:case ze:return new Ae(g);case pt:return r_(g);case De:return new Ae;case Ge:return Ix(g)}}function Tu(g,A){var se=A.length;if(!se)return g;var Ae=se-1;return A[Ae]=(se>1?"& ":"")+A[Ae],A=A.join(se>2?", ":" "),g.replace(kt,`{
/* [wrapped with `+A+`] */
`)}function p0(g){return es(g)||jd(g)||!!(dn&&g&&g[dn])}function Yc(g,A){var se=typeof g;return A=A??q,!!A&&(se=="number"||se!="symbol"&&$n.test(g))&&g>-1&&g%1==0&&g<A}function pa(g,A,se){if(!Ir(se))return!1;var Ae=typeof A;return(Ae=="number"?Zs(se)&&Yc(A,se.length):Ae=="string"&&A in se)?yc(se[A],g):!1}function eg(g,A){if(es(g))return!1;var se=typeof g;return se=="number"||se=="symbol"||se=="boolean"||g==null||ga(g)?!0:ic.test(g)||!Oa.test(g)||A!=null&&g in bs(A)}function zx(g){var A=typeof g;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?g!=="__proto__":g===null}function Eu(g){var A=qc(g),se=Je[A];if(typeof se!="function"||!(A in Bn.prototype))return!1;if(g===se)return!0;var Ae=mc(se);return!!Ae&&g===Ae[0]}function $a(g){return!!$i&&$i in g}var p_=fi?Zc:Zg;function Cu(g){var A=g&&g.constructor,se=typeof A=="function"&&A.prototype||Lt;return g===se}function Ul(g){return g===g&&!Ir(g)}function f0(g,A){return function(se){return se==null?!1:se[g]===A&&(A!==s||g in bs(se))}}function Rd(g){var A=Co(g,function(Ae){return se.size===j&&se.clear(),Ae}),se=A.cache;return A}function zp(g,A){var se=g[1],Ae=A[1],We=se|Ae,nt=We<(H|M|ie),St=Ae==ie&&se==k||Ae==ie&&se==Q&&g[7].length<=A[8]||Ae==(ie|Q)&&A[7].length<=A[8]&&se==k;if(!(nt||St))return g;Ae&H&&(g[2]=A[2],We|=se&H?0:E);var It=A[3];if(It){var Vt=g[3];g[3]=Vt?bu(Vt,It,A[4]):It,g[4]=Vt?Gr(g[3],J):A[4]}return It=A[5],It&&(Vt=g[5],g[5]=Vt?Pd(Vt,It,A[6]):It,g[6]=Vt?Gr(g[5],J):A[6]),It=A[7],It&&(g[7]=It),Ae&ie&&(g[8]=g[8]==null?A[8]:qs(g[8],A[8])),g[9]==null&&(g[9]=A[9]),g[0]=A[0],g[1]=We,g}function Bd(g){var A=[];if(g!=null)for(var se in bs(g))A.push(se);return A}function tg(g){return Pi.call(g)}function Np(g,A,se){return A=mr(A===s?g.length-1:A,0),function(){for(var Ae=arguments,We=-1,nt=mr(Ae.length-A,0),St=oi(nt);++We<nt;)St[We]=Ae[A+We];We=-1;for(var It=oi(A+1);++We<A;)It[We]=Ae[We];return It[A]=se(St),bi(g,this,It)}}function ig(g,A){return A.length<2?g:qt(g,wl(A,0,-1))}function f_(g,A){for(var se=g.length,Ae=qs(A.length,se),We=Jr(g);Ae--;){var nt=A[Ae];g[Ae]=Yc(nt,se)?We[nt]:s}return g}function ng(g,A){if(!(A==="constructor"&&typeof g[A]=="function")&&A!="__proto__")return g[A]}var m0=Xc(Lp),Mu=Ga||function(g,A){return xr.setTimeout(g,A)},zd=Xc(e_);function Nd(g,A,se){var Ae=A+"";return zd(g,Tu(Ae,El(u_(Ae),se)))}function Xc(g){var A=0,se=0;return function(){var Ae=Td(),We=L-(Ae-se);if(se=Ae,We>0){if(++A>=w)return arguments[0]}else A=0;return g.apply(s,arguments)}}function Au(g,A){var se=-1,Ae=g.length,We=Ae-1;for(A=A===s?Ae:A;++se<A;){var nt=da(se,We),St=g[nt];g[nt]=g[se],g[se]=St}return g.length=A,g}var sg=Rd(function(g){var A=[];return g.charCodeAt(0)===46&&A.push(""),g.replace(dt,function(se,Ae,We,nt){A.push(We?nt.replace(ui,"$1"):Ae||se)}),A});function Wa(g){if(typeof g=="string"||ga(g))return g;var A=g+"";return A=="0"&&1/g==-P?"-0":A}function gc(g){if(g!=null){try{return zt.call(g)}catch{}try{return g+""}catch{}}return""}function El(g,A){return ri(Z,function(se){var Ae="_."+se[0];A&se[1]&&!Ws(g,Ae)&&g.push(Ae)}),g.sort()}function ku(g){if(g instanceof Bn)return g.clone();var A=new Ta(g.__wrapped__,g.__chain__);return A.__actions__=Jr(g.__actions__),A.__index__=g.__index__,A.__values__=g.__values__,A}function fa(g,A,se){(se?pa(g,A,se):A===s)?A=1:A=mr(zn(A),0);var Ae=g==null?0:g.length;if(!Ae||A<1)return[];for(var We=0,nt=0,St=oi(jc(Ae/A));We<Ae;)St[nt++]=wl(g,We,We+=A);return St}function Gl(g){for(var A=-1,se=g==null?0:g.length,Ae=0,We=[];++A<se;){var nt=g[A];nt&&(We[Ae++]=nt)}return We}function rg(){var g=arguments.length;if(!g)return[];for(var A=oi(g-1),se=arguments[0],Ae=g;Ae--;)A[Ae-1]=arguments[Ae];return Xn(es(se)?Jr(se):[se],ot(A,1))}var Br=Zn(function(g,A){return tr(g)?qe(g,ot(A,1,tr,!0)):[]}),m_=Zn(function(g,A){var se=Vl(A);return tr(se)&&(se=s),tr(g)?qe(g,ot(A,1,tr,!0),Ln(se,2)):[]}),Fp=Zn(function(g,A){var se=Vl(A);return tr(se)&&(se=s),tr(g)?qe(g,ot(A,1,tr,!0),s,se):[]});function _c(g,A,se){var Ae=g==null?0:g.length;return Ae?(A=se||A===s?1:zn(A),wl(g,A<0?0:A,Ae)):[]}function Nx(g,A,se){var Ae=g==null?0:g.length;return Ae?(A=se||A===s?1:zn(A),A=Ae-A,wl(g,0,A<0?0:A)):[]}function Fx(g,A){return g&&g.length?a0(g,Ln(A,3),!0,!0):[]}function g_(g,A){return g&&g.length?a0(g,Ln(A,3),!0):[]}function __(g,A,se,Ae){var We=g==null?0:g.length;return We?(se&&typeof se!="number"&&pa(g,A,se)&&(se=0,Ae=We),Qe(g,A,se,Ae)):[]}function id(g,A,se){var Ae=g==null?0:g.length;if(!Ae)return-1;var We=se==null?0:zn(se);return We<0&&(We=mr(Ae+We,0)),xo(g,Ln(A,3),We)}function og(g,A,se){var Ae=g==null?0:g.length;if(!Ae)return-1;var We=Ae-1;return se!==s&&(We=zn(se),We=se<0?mr(Ae+We,0):qs(We,Ae-1)),xo(g,Ln(A,3),We,!0)}function ag(g){var A=g==null?0:g.length;return A?ot(g,1):[]}function y_(g){var A=g==null?0:g.length;return A?ot(g,P):[]}function v_(g,A){var se=g==null?0:g.length;return se?(A=A===s?1:zn(A),ot(g,A)):[]}function jx(g){for(var A=-1,se=g==null?0:g.length,Ae={};++A<se;){var We=g[A];Ae[We[0]]=We[1]}return Ae}function g0(g){return g&&g.length?g[0]:s}function lg(g,A,se){var Ae=g==null?0:g.length;if(!Ae)return-1;var We=se==null?0:zn(se);return We<0&&(We=mr(Ae+We,0)),On(g,A,We)}function cg(g){var A=g==null?0:g.length;return A?wl(g,0,-1):[]}var ma=Zn(function(g){var A=Yn(g,c0);return A.length&&A[0]===g[0]?ei(A):[]}),x_=Zn(function(g){var A=Vl(g),se=Yn(g,c0);return A===Vl(se)?A=s:se.pop(),se.length&&se[0]===g[0]?ei(se,Ln(A,2)):[]}),Ux=Zn(function(g){var A=Vl(g),se=Yn(g,c0);return A=typeof A=="function"?A:s,A&&se.pop(),se.length&&se[0]===g[0]?ei(se,s,A):[]});function b_(g,A){return g==null?"":fu.call(g,A)}function Vl(g){var A=g==null?0:g.length;return A?g[A-1]:s}function Gx(g,A,se){var Ae=g==null?0:g.length;if(!Ae)return-1;var We=Ae;return se!==s&&(We=zn(se),We=We<0?mr(Ae+We,0):qs(We,Ae-1)),A===A?wd(g,A,We):xo(g,bo,We,!0)}function w_(g,A){return g&&g.length?Dr(g,zn(A)):s}var S_=Zn(hg);function hg(g,A){return g&&g.length&&A&&A.length?bl(g,A):g}function dg(g,A,se){return g&&g.length&&A&&A.length?bl(g,A,Ln(se,2)):g}function Th(g,A,se){return g&&g.length&&A&&A.length?bl(g,A,s,se):g}var qa=fc(function(g,A){var se=g==null?0:g.length,Ae=ne(g,A);return Eo(g,Yn(A,function(We){return Yc(We,se)?+We:We}).sort(a_)),Ae});function Vx(g,A){var se=[];if(!(g&&g.length))return se;var Ae=-1,We=[],nt=g.length;for(A=Ln(A,3);++Ae<nt;){var St=g[Ae];A(St,Ae,g)&&(se.push(St),We.push(Ae))}return Eo(g,We),se}function jp(g){return g==null?g:Lm.call(g)}function Hx(g,A,se){var Ae=g==null?0:g.length;return Ae?(se&&typeof se!="number"&&pa(g,A,se)?(A=0,se=Ae):(A=A==null?0:zn(A),se=se===s?Ae:zn(se)),wl(g,A,se)):[]}function $x(g,A){return Op(g,A)}function Wx(g,A,se){return r0(g,A,Ln(se,2))}function Up(g,A){var se=g==null?0:g.length;if(se){var Ae=Op(g,A);if(Ae<se&&yc(g[Ae],A))return Ae}return-1}function _0(g,A){return Op(g,A,!0)}function T_(g,A,se){return r0(g,A,Ln(se,2),!0)}function Fd(g,A){var se=g==null?0:g.length;if(se){var Ae=Op(g,A,!0)-1;if(yc(g[Ae],A))return Ae}return-1}function Gp(g){return g&&g.length?zm(g):[]}function qx(g,A){return g&&g.length?zm(g,Ln(A,2)):[]}function Yx(g){var A=g==null?0:g.length;return A?wl(g,1,A):[]}function Xx(g,A,se){return g&&g.length?(A=se||A===s?1:zn(A),wl(g,0,A<0?0:A)):[]}function Zx(g,A,se){var Ae=g==null?0:g.length;return Ae?(A=se||A===s?1:zn(A),A=Ae-A,wl(g,A<0?0:A,Ae)):[]}function Kx(g,A){return g&&g.length?a0(g,Ln(A,3),!1,!0):[]}function Jx(g,A){return g&&g.length?a0(g,Ln(A,3)):[]}var Qx=Zn(function(g){return xh(ot(g,1,tr,!0))}),ug=Zn(function(g){var A=Vl(g);return tr(A)&&(A=s),xh(ot(g,1,tr,!0),Ln(A,2))}),e2=Zn(function(g){var A=Vl(g);return A=typeof A=="function"?A:s,xh(ot(g,1,tr,!0),s,A)});function Pu(g){return g&&g.length?xh(g):[]}function t2(g,A){return g&&g.length?xh(g,Ln(A,2)):[]}function $r(g,A){return A=typeof A=="function"?A:s,g&&g.length?xh(g,s,A):[]}function Du(g){if(!(g&&g.length))return[];var A=0;return g=tn(g,function(se){if(tr(se))return A=mr(se.length,A),!0}),Bo(A,function(se){return Yn(g,Ro(se))})}function pg(g,A){if(!(g&&g.length))return[];var se=Du(g);return A==null?se:Yn(se,function(Ae){return bi(A,s,Ae)})}var y0=Zn(function(g,A){return tr(g)?qe(g,A):[]}),v0=Zn(function(g){return l0(tn(g,tr))}),Vp=Zn(function(g){var A=Vl(g);return tr(A)&&(A=s),l0(tn(g,tr),Ln(A,2))}),E_=Zn(function(g){var A=Vl(g);return A=typeof A=="function"?A:s,l0(tn(g,tr),s,A)}),C_=Zn(Du);function Hp(g,A){return Fm(g||[],A||[],_)}function fg(g,A){return Fm(g||[],A||[],vh)}var mg=Zn(function(g){var A=g.length,se=A>1?g[A-1]:s;return se=typeof se=="function"?(g.pop(),se):s,pg(g,se)});function M_(g){var A=Je(g);return A.__chain__=!0,A}function A_(g,A){return A(g),g}function nd(g,A){return A(g)}var i2=fc(function(g){var A=g.length,se=A?g[0]:0,Ae=this.__wrapped__,We=function(nt){return ne(nt,g)};return A>1||this.__actions__.length||!(Ae instanceof Bn)||!Yc(se)?this.thru(We):(Ae=Ae.slice(se,+se+(A?1:0)),Ae.__actions__.push({func:nd,args:[We],thisArg:s}),new Ta(Ae,this.__chain__).thru(function(nt){return A&&!nt.length&&nt.push(s),nt}))});function gg(){return M_(this)}function n2(){return new Ta(this.value(),this.__chain__)}function _g(){this.__values__===s&&(this.__values__=D0(this.value()));var g=this.__index__>=this.__values__.length,A=g?s:this.__values__[this.__index__++];return{done:g,value:A}}function yg(){return this}function x0(g){for(var A,se=this;se instanceof Cd;){var Ae=ku(se);Ae.__index__=0,Ae.__values__=s,A?We.__wrapped__=Ae:A=Ae;var We=Ae;se=se.__wrapped__}return We.__wrapped__=g,A}function s2(){var g=this.__wrapped__;if(g instanceof Bn){var A=g;return this.__actions__.length&&(A=new Bn(this)),A=A.reverse(),A.__actions__.push({func:nd,args:[jp],thisArg:s}),new Ta(A,this.__chain__)}return this.thru(jp)}function r2(){return kd(this.__wrapped__,this.__actions__)}var o2=Wc(function(g,A,se){ni.call(g,se)?++g[se]:z(g,se,1)});function a2(g,A,se){var Ae=es(g)?In:ht;return se&&pa(g,A,se)&&(A=s),Ae(g,Ln(A,3))}function l2(g,A){var se=es(g)?tn:ut;return se(g,Ln(A,3))}var c2=h_(id),b0=h_(og);function h2(g,A){return ot(w0(g,A),1)}function k_(g,A){return ot(w0(g,A),P)}function Iu(g,A,se){return se=se===s?1:zn(se),ot(w0(g,A),se)}function P_(g,A){var se=es(g)?ri:st;return se(g,Ln(A,3))}function D_(g,A){var se=es(g)?zi:rt;return se(g,Ln(A,3))}var d2=Wc(function(g,A,se){ni.call(g,se)?g[se].push(A):z(g,se,[A])});function I_(g,A,se,Ae){g=Zs(g)?g:Gd(g),se=se&&!Ae?zn(se):0;var We=g.length;return se<0&&(se=mr(We+se,0)),P0(g)?se<=We&&g.indexOf(A,se)>-1:!!We&&On(g,A,se)>-1}var L_=Zn(function(g,A,se){var Ae=-1,We=typeof A=="function",nt=Zs(g)?oi(g.length):[];return st(g,function(St){nt[++Ae]=We?bi(A,St,se):Di(St,A,se)}),nt}),u2=Wc(function(g,A,se){z(g,se,A)});function w0(g,A){var se=es(g)?Yn:zo;return se(g,Ln(A,3))}function p2(g,A,se,Ae){return g==null?[]:(es(A)||(A=A==null?[]:[A]),se=Ae?s:se,es(se)||(se=se==null?[]:[se]),To(g,A,se))}var vg=Wc(function(g,A,se){g[se?0:1].push(A)},function(){return[[],[]]});function S0(g,A,se){var Ae=es(g)?Dn:Sa,We=arguments.length<3;return Ae(g,Ln(A,4),se,We,st)}function T0(g,A,se){var Ae=es(g)?Ar:Sa,We=arguments.length<3;return Ae(g,Ln(A,4),se,We,rt)}function f2(g,A){var se=es(g)?tn:ut;return se(g,sd(Ln(A,3)))}function m2(g){var A=es(g)?Dp:Qh;return A(g)}function $p(g,A,se){(se?pa(g,A,se):A===s)?A=1:A=zn(A);var Ae=es(g)?s0:jl;return Ae(g,A)}function Wp(g){var A=es(g)?Ip:Bm;return A(g)}function O_(g){if(g==null)return 0;if(Zs(g))return P0(g)?is(g):g.length;var A=ua(g);return A==Se||A==De?g.size:Ls(g).length}function qp(g,A,se){var Ae=es(g)?Qn:t_;return se&&pa(g,A,se)&&(A=s),Ae(g,Ln(A,3))}var R_=Zn(function(g,A){if(g==null)return[];var se=A.length;return se>1&&pa(g,A[0],A[1])?A=[]:se>2&&pa(A[0],A[1],A[2])&&(A=[A[0]]),To(g,ot(A,1),[])}),E0=Wi||function(){return xr.Date.now()};function B_(g,A){if(typeof A!="function")throw new fo(m);return g=zn(g),function(){if(--g<1)return A.apply(this,arguments)}}function xg(g,A,se){return A=se?s:A,A=g&&A==null?g.length:A,jo(g,ie,s,s,s,s,A)}function bg(g,A){var se;if(typeof A!="function")throw new fo(m);return g=zn(g),function(){return--g>0&&(se=A.apply(this,arguments)),g<=1&&(A=s),se}}var C0=Zn(function(g,A,se){var Ae=H;if(se.length){var We=Gr(se,Sh(C0));Ae|=G}return jo(g,Ae,A,se,We)}),wg=Zn(function(g,A,se){var Ae=H|M;if(se.length){var We=Gr(se,Sh(wg));Ae|=G}return jo(A,Ae,g,se,We)});function Sg(g,A,se){A=se?s:A;var Ae=jo(g,k,s,s,s,s,s,A);return Ae.placeholder=Sg.placeholder,Ae}function z_(g,A,se){A=se?s:A;var Ae=jo(g,V,s,s,s,s,s,A);return Ae.placeholder=z_.placeholder,Ae}function N_(g,A,se){var Ae,We,nt,St,It,Vt,Si=0,ki=!1,Ri=!1,on=!0;if(typeof g!="function")throw new fo(m);A=Yo(A)||0,Ir(se)&&(ki=!!se.leading,Ri="maxWait"in se,nt=Ri?mr(Yo(se.maxWait)||0,A):nt,on="trailing"in se?!!se.trailing:on);function wn(Qr){var Uo=Ae,Qc=We;return Ae=We=s,Si=Qr,St=g.apply(Qc,Uo),St}function Un(Qr){return Si=Qr,It=Mu(Ss,A),ki?wn(Qr):St}function ps(Qr){var Uo=Qr-Vt,Qc=Qr-Si,cf=A-Uo;return Ri?qs(cf,nt-Qc):cf}function Vn(Qr){var Uo=Qr-Vt,Qc=Qr-Si;return Vt===s||Uo>=A||Uo<0||Ri&&Qc>=nt}function Ss(){var Qr=E0();if(Vn(Qr))return As(Qr);It=Mu(Ss,ps(Qr))}function As(Qr){return It=s,on&&Ae?wn(Qr):(Ae=We=s,St)}function Ya(){It!==s&&Rp(It),Si=0,Ae=Vt=We=It=s}function _a(){return It===s?St:As(E0())}function Xa(){var Qr=E0(),Uo=Vn(Qr);if(Ae=arguments,We=this,Vt=Qr,Uo){if(It===s)return Un(Vt);if(Ri)return Rp(It),It=Mu(Ss,A),wn(Vt)}return It===s&&(It=Mu(Ss,A)),St}return Xa.cancel=Ya,Xa.flush=_a,Xa}var F_=Zn(function(g,A){return Ne(g,1,A)}),M0=Zn(function(g,A,se){return Ne(g,Yo(A)||0,se)});function j_(g){return jo(g,N)}function Co(g,A){if(typeof g!="function"||A!=null&&typeof A!="function")throw new fo(m);var se=function(){var Ae=arguments,We=A?A.apply(this,Ae):Ae[0],nt=se.cache;if(nt.has(We))return nt.get(We);var St=g.apply(this,Ae);return se.cache=nt.set(We,St)||nt,St};return se.cache=new(Co.Cache||Nl),se}Co.Cache=Nl;function sd(g){if(typeof g!="function")throw new fo(m);return function(){var A=arguments;switch(A.length){case 0:return!g.call(this);case 1:return!g.call(this,A[0]);case 2:return!g.call(this,A[0],A[1]);case 3:return!g.call(this,A[0],A[1],A[2])}return!g.apply(this,A)}}function Lu(g){return bg(2,g)}var Yp=n_(function(g,A){A=A.length==1&&es(A[0])?Yn(A[0],oo(Ln())):Yn(ot(A,1),oo(Ln()));var se=A.length;return Zn(function(Ae){for(var We=-1,nt=qs(Ae.length,se);++We<nt;)Ae[We]=A[We].call(this,Ae[We]);return bi(g,this,Ae)})}),A0=Zn(function(g,A){var se=Gr(A,Sh(A0));return jo(g,G,s,A,se)}),Tg=Zn(function(g,A){var se=Gr(A,Sh(Tg));return jo(g,C,s,A,se)}),g2=fc(function(g,A){return jo(g,Q,s,s,s,A)});function _2(g,A){if(typeof g!="function")throw new fo(m);return A=A===s?A:zn(A),Zn(g,A)}function y2(g,A){if(typeof g!="function")throw new fo(m);return A=A==null?0:mr(zn(A),0),Zn(function(se){var Ae=se[A],We=Hc(se,0,A);return Ae&&Xn(We,Ae),bi(g,this,We)})}function v2(g,A,se){var Ae=!0,We=!0;if(typeof g!="function")throw new fo(m);return Ir(se)&&(Ae="leading"in se?!!se.leading:Ae,We="trailing"in se?!!se.trailing:We),N_(g,A,{leading:Ae,maxWait:A,trailing:We})}function x2(g){return xg(g,1)}function b2(g,A){return A0(jm(A),g)}function k0(){if(!arguments.length)return[];var g=arguments[0];return es(g)?g:[g]}function w2(g){return pe(g,K)}function U_(g,A){return A=typeof A=="function"?A:s,pe(g,K,A)}function G_(g){return pe(g,B|K)}function V_(g,A){return A=typeof A=="function"?A:s,pe(g,B|K,A)}function S2(g,A){return A==null||Me(g,A,qr(A))}function yc(g,A){return g===A||g!==g&&A!==A}var T2=Sl(Ht),E2=Sl(function(g,A){return g>=A}),jd=jt(function(){return arguments}())?jt:function(g){return Wr(g)&&ni.call(g,"callee")&&!yt.call(g,"callee")},es=oi.isArray,C2=Ve?oo(Ve):Kt;function Zs(g){return g!=null&&Ns(g.length)&&!Zc(g)}function tr(g){return Wr(g)&&Zs(g)}function Eg(g){return g===!0||g===!1||Wr(g)&&xi(g)==Ie}var vc=$h||Zg,Ou=Xe?oo(Xe):sn;function M2(g){return Wr(g)&&g.nodeType===1&&!Kp(g)}function A2(g){if(g==null)return!0;if(Zs(g)&&(es(g)||typeof g=="string"||typeof g.splice=="function"||vc(g)||xc(g)||jd(g)))return!g.length;var A=ua(g);if(A==Se||A==De)return!g.size;if(Cu(g))return!Ls(g).length;for(var se in g)if(ni.call(g,se))return!1;return!0}function Xp(g,A){return un(g,A)}function k2(g,A,se){se=typeof se=="function"?se:s;var Ae=se?se(g,A):s;return Ae===s?un(g,A,s,se):!!Ae}function Cg(g){if(!Wr(g))return!1;var A=xi(g);return A==xe||A==be||typeof g.message=="string"&&typeof g.name=="string"&&!Kp(g)}function Zp(g){return typeof g=="number"&&bp(g)}function Zc(g){if(!Ir(g))return!1;var A=xi(g);return A==le||A==me||A==ye||A==it}function Mg(g){return typeof g=="number"&&g==zn(g)}function Ns(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=q}function Ir(g){var A=typeof g;return g!=null&&(A=="object"||A=="function")}function Wr(g){return g!=null&&typeof g=="object"}var Ag=Pt?oo(Pt):Cn;function Eh(g,A){return g===A||Hn(g,A,d0(A))}function Ru(g,A,se){return se=typeof se=="function"?se:s,Hn(g,A,d0(A),se)}function H_(g){return $_(g)&&g!=+g}function P2(g){if(p_(g))throw new Rn(d);return mn(g)}function D2(g){return g===null}function I2(g){return g==null}function $_(g){return typeof g=="number"||Wr(g)&&xi(g)==Oe}function Kp(g){if(!Wr(g)||xi(g)!=Ue)return!1;var A=we(g);if(A===null)return!0;var se=ni.call(A,"constructor")&&A.constructor;return typeof se=="function"&&se instanceof se&&zt.call(se)==bn}var kg=wt?oo(wt):Zi;function L2(g){return Mg(g)&&g>=-q&&g<=q}var W_=Wt?oo(Wt):zs;function P0(g){return typeof g=="string"||!es(g)&&Wr(g)&&xi(g)==ze}function ga(g){return typeof g=="symbol"||Wr(g)&&xi(g)==Ge}var xc=li?oo(li):Es;function q_(g){return g===s}function O2(g){return Wr(g)&&ua(g)==at}function R2(g){return Wr(g)&&xi(g)==gt}var B2=Sl(qo),Pg=Sl(function(g,A){return g<=A});function D0(g){if(!g)return[];if(Zs(g))return P0(g)?uo(g):Jr(g);if(ns&&g[ns])return Nc(g[ns]());var A=ua(g),se=A==Se?Ll:A==De?Fa:Gd;return se(g)}function Kc(g){if(!g)return g===0?g:0;if(g=Yo(g),g===P||g===-P){var A=g<0?-1:1;return A*ee}return g===g?g:0}function zn(g){var A=Kc(g),se=A%1;return A===A?se?A-se:A:0}function Bu(g){return g?he(zn(g),0,ce):0}function Yo(g){if(typeof g=="number")return g;if(ga(g))return X;if(Ir(g)){var A=typeof g.valueOf=="function"?g.valueOf():g;g=Ir(A)?A+"":A}if(typeof g!="string")return g===0?g:+g;g=ul(g);var se=pn.test(g);return se||Bi.test(g)?Bc(g.slice(2),se?2:8):fn.test(g)?X:+g}function I0(g){return mo(g,Aa(g))}function L0(g){return g?he(zn(g),-q,q):g===0?g:0}function ir(g){return g==null?"":Ha(g)}var Y_=wu(function(g,A){if(Cu(A)||Zs(A)){mo(A,qr(A),g);return}for(var se in A)ni.call(A,se)&&_(g,se,A[se])}),Dg=wu(function(g,A){mo(A,Aa(A),g)}),O0=wu(function(g,A,se,Ae){mo(A,Aa(A),g,Ae)}),X_=wu(function(g,A,se,Ae){mo(A,qr(A),g,Ae)}),Z_=fc(ne);function Ig(g,A){var se=hc(g);return A==null?se:x(se,A)}var K_=Zn(function(g,A){g=bs(g);var se=-1,Ae=A.length,We=Ae>2?A[2]:s;for(We&&pa(A[0],A[1],We)&&(Ae=1);++se<Ae;)for(var nt=A[se],St=Aa(nt),It=-1,Vt=St.length;++It<Vt;){var Si=St[It],ki=g[Si];(ki===s||yc(ki,Lt[Si])&&!ni.call(g,Si))&&(g[Si]=nt[Si])}return g}),z2=Zn(function(g){return g.push(s,Id),bi(Jp,s,g)});function J_(g,A){return kr(g,Ln(A,3),bt)}function Ch(g,A){return kr(g,Ln(A,3),Ot)}function Q_(g,A){return g==null?g:vt(g,Ln(A,3),Aa)}function ey(g,A){return g==null?g:Mt(g,Ln(A,3),Aa)}function ty(g,A){return g&&bt(g,Ln(A,3))}function iy(g,A){return g&&Ot(g,Ln(A,3))}function N2(g){return g==null?[]:Zt(g,qr(g))}function F2(g){return g==null?[]:Zt(g,Aa(g))}function R0(g,A,se){var Ae=g==null?s:qt(g,A);return Ae===s?se:Ae}function ny(g,A){return g!=null&&Jm(g,A,ci)}function Ud(g,A){return g!=null&&Jm(g,A,Jt)}var sy=wh(function(g,A,se){A!=null&&typeof A.toString!="function"&&(A=Pi.call(A)),g[A]=se},Wg(ao)),ry=wh(function(g,A,se){A!=null&&typeof A.toString!="function"&&(A=Pi.call(A)),ni.call(g,A)?g[A].push(se):g[A]=[se]},Ln),Lg=Zn(Di);function qr(g){return Zs(g)?vu(g):Ls(g)}function Aa(g){return Zs(g)?vu(g,!0):ha(g)}function B0(g,A){var se={};return A=Ln(A,3),bt(g,function(Ae,We,nt){z(se,A(Ae,We,nt),Ae)}),se}function oy(g,A){var se={};return A=Ln(A,3),bt(g,function(Ae,We,nt){z(se,We,A(Ae,We,nt))}),se}var z0=wu(function(g,A,se){Os(g,A,se)}),Jp=wu(function(g,A,se,Ae){Os(g,A,se,Ae)}),j2=fc(function(g,A){var se={};if(g==null)return se;var Ae=!1;A=Yn(A,function(nt){return nt=uc(nt,g),Ae||(Ae=nt.length>1),nt}),mo(g,Xm(g),se),Ae&&(se=pe(se,B|W|K,Wm));for(var We=A.length;We--;)o0(se,A[We]);return se});function U2(g,A){return ay(g,sd(Ln(A)))}var G2=fc(function(g,A){return g==null?{}:Xs(g,A)});function ay(g,A){if(g==null)return{};var se=Yn(Xm(g),function(Ae){return[Ae]});return A=Ln(A),No(g,se,function(Ae,We){return A(Ae,We[0])})}function V2(g,A,se){A=uc(A,g);var Ae=-1,We=A.length;for(We||(We=1,g=s);++Ae<We;){var nt=g==null?s:g[Wa(A[Ae])];nt===s&&(Ae=We,nt=se),g=Zc(nt)?nt.call(g):nt}return g}function zu(g,A,se){return g==null?g:vh(g,A,se)}function Og(g,A,se,Ae){return Ae=typeof Ae=="function"?Ae:s,g==null?g:vh(g,A,se,Ae)}var ly=Hm(qr),Rg=Hm(Aa);function H2(g,A,se){var Ae=es(g),We=Ae||vc(g)||xc(g);if(A=Ln(A,4),se==null){var nt=g&&g.constructor;We?se=Ae?new nt:[]:Ir(g)?se=Zc(nt)?hc(we(g)):{}:se={}}return(We?ri:bt)(g,function(St,It,Vt){return A(se,St,It,Vt)}),se}function Bg(g,A){return g==null?!0:o0(g,A)}function $2(g,A,se){return g==null?g:i_(g,A,jm(se))}function rd(g,A,se,Ae){return Ae=typeof Ae=="function"?Ae:s,g==null?g:i_(g,A,jm(se),Ae)}function Gd(g){return g==null?[]:pl(g,qr(g))}function cy(g){return g==null?[]:pl(g,Aa(g))}function N0(g,A,se){return se===s&&(se=A,A=s),se!==s&&(se=Yo(se),se=se===se?se:0),A!==s&&(A=Yo(A),A=A===A?A:0),he(Yo(g),A,se)}function zg(g,A,se){return A=Kc(A),se===s?(se=A,A=0):se=Kc(se),g=Yo(g),Ai(g,A,se)}function W2(g,A,se){if(se&&typeof se!="boolean"&&pa(g,A,se)&&(A=se=s),se===s&&(typeof A=="boolean"?(se=A,A=s):typeof g=="boolean"&&(se=g,g=s)),g===s&&A===s?(g=0,A=1):(g=Kc(g),A===s?(A=g,g=0):A=Kc(A)),g>A){var Ae=g;g=A,A=Ae}if(se||g%1||A%1){var We=qf();return qs(g+We*(A-g+oc("1e-"+((We+"").length-1))),A)}return da(g,A)}var q2=bh(function(g,A,se){return A=A.toLowerCase(),g+(se?Ng(A):A)});function Ng(g){return U0(ir(g).toLowerCase())}function Fg(g){return g=ir(g),g&&g.replace(cs,Uh).replace(vr,"")}function Qp(g,A,se){g=ir(g),A=Ha(A);var Ae=g.length;se=se===s?Ae:he(zn(se),0,Ae);var We=se;return se-=A.length,se>=0&&g.slice(se,We)==A}function Mh(g){return g=ir(g),g&&kl.test(g)?g.replace(Ji,gl):g}function jg(g){return g=ir(g),g&&$e.test(g)?g.replace(Be,"\\$&"):g}var Nu=bh(function(g,A,se){return g+(se?"-":"")+A.toLowerCase()}),Fu=bh(function(g,A,se){return g+(se?" ":"")+A.toLowerCase()}),Hl=Gm("toLowerCase");function $l(g,A,se){g=ir(g),A=zn(A);var Ae=A?is(g):0;if(!A||Ae>=A)return g;var We=(A-Ae)/2;return Bp(Sd(We),se)+g+Bp(jc(We),se)}function Y2(g,A,se){g=ir(g),A=zn(A);var Ae=A?is(g):0;return A&&Ae<A?g+Bp(A-Ae,se):g}function hy(g,A,se){g=ir(g),A=zn(A);var Ae=A?is(g):0;return A&&Ae<A?Bp(A-Ae,se)+g:g}function X2(g,A,se){return se||A==null?A=0:A&&(A=+A),qh(ir(g).replace(ct,""),A||0)}function Ug(g,A,se){return(se?pa(g,A,se):A===s)?A=1:A=zn(A),Va(ir(g),A)}function Jc(){var g=arguments,A=ir(g[0]);return g.length<3?A:A.replace(g[1],g[2])}var Vd=bh(function(g,A,se){return g+(se?"_":"")+A.toLowerCase()});function dy(g,A,se){return se&&typeof se!="number"&&pa(g,A,se)&&(A=se=s),se=se===s?ce:se>>>0,se?(g=ir(g),g&&(typeof A=="string"||A!=null&&!kg(A))&&(A=Ha(A),!A&&Wo(g))?Hc(uo(g),0,se):g.split(A,se)):[]}var uy=bh(function(g,A,se){return g+(se?" ":"")+U0(A)});function Z2(g,A,se){return g=ir(g),se=se==null?0:he(zn(se),0,g.length),A=Ha(A),g.slice(se,se+A.length)==A}function F0(g,A,se){var Ae=Je.templateSettings;se&&pa(g,A,se)&&(A=s),g=ir(g),A=O0({},A,Ae,$m);var We=O0({},A.imports,Ae.imports,$m),nt=qr(We),St=pl(We,nt),It,Vt,Si=0,ki=A.interpolate||an,Ri="__p += '",on=Rl((A.escape||an).source+"|"+ki.source+"|"+(ki===ur?Fi:an).source+"|"+(A.evaluate||an).source+"|$","g"),wn="//# sourceURL="+(ni.call(A,"sourceURL")?(A.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Oc+"]")+`
`;g.replace(on,function(Vn,Ss,As,Ya,_a,Xa){return As||(As=Ya),Ri+=g.slice(Si,Xa).replace(Ms,mh),Ss&&(It=!0,Ri+=`' +
__e(`+Ss+`) +
'`),_a&&(Vt=!0,Ri+=`';
`+_a+`;
__p += '`),As&&(Ri+=`' +
((__t = (`+As+`)) == null ? '' : __t) +
'`),Si=Xa+Vn.length,Vn}),Ri+=`';
`;var Un=ni.call(A,"variable")&&A.variable;if(!Un)Ri=`with (obj) {
`+Ri+`
}
`;else if($t.test(Un))throw new Rn(n);Ri=(Vt?Ri.replace(qn,""):Ri).replace(Tr,"$1").replace(fs,"$1;"),Ri="function("+(Un||"obj")+`) {
`+(Un?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(It?", __e = _.escape":"")+(Vt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ri+`return __p
}`;var ps=Hg(function(){return gs(nt,wn+"return "+Ri).apply(s,St)});if(ps.source=Ri,Cg(ps))throw ps;return ps}function Gg(g){return ir(g).toLowerCase()}function ju(g){return ir(g).toUpperCase()}function ef(g,A,se){if(g=ir(g),g&&(se||A===s))return ul(g);if(!g||!(A=Ha(A)))return g;var Ae=uo(g),We=uo(A),nt=fh(Ae,We),St=fl(Ae,We)+1;return Hc(Ae,nt,St).join("")}function tf(g,A,se){if(g=ir(g),g&&(se||A===s))return g.slice(0,Vr(g)+1);if(!g||!(A=Ha(A)))return g;var Ae=uo(g),We=fl(Ae,uo(A))+1;return Hc(Ae,0,We).join("")}function j0(g,A,se){if(g=ir(g),g&&(se||A===s))return g.replace(ct,"");if(!g||!(A=Ha(A)))return g;var Ae=uo(g),We=fh(Ae,uo(A));return Hc(Ae,We).join("")}function py(g,A){var se=F,Ae=$;if(Ir(A)){var We="separator"in A?A.separator:We;se="length"in A?zn(A.length):se,Ae="omission"in A?Ha(A.omission):Ae}g=ir(g);var nt=g.length;if(Wo(g)){var St=uo(g);nt=St.length}if(se>=nt)return g;var It=se-is(Ae);if(It<1)return Ae;var Vt=St?Hc(St,0,It).join(""):g.slice(0,It);if(We===s)return Vt+Ae;if(St&&(It+=Vt.length-It),kg(We)){if(g.slice(It).search(We)){var Si,ki=Vt;for(We.global||(We=Rl(We.source,ir(Ei.exec(We))+"g")),We.lastIndex=0;Si=We.exec(ki);)var Ri=Si.index;Vt=Vt.slice(0,Ri===s?It:Ri)}}else if(g.indexOf(Ha(We),It)!=It){var on=Vt.lastIndexOf(We);on>-1&&(Vt=Vt.slice(0,on))}return Vt+Ae}function nf(g){return g=ir(g),g&&va.test(g)?g.replace(Bs,So):g}var Vg=bh(function(g,A,se){return g+(se?" ":"")+A.toUpperCase()}),U0=Gm("toUpperCase");function Hd(g,A,se){return g=ir(g),A=se?s:A,A===s?_l(g)?Vh(g):hl(g):g.match(A)||[]}var Hg=Zn(function(g,A){try{return bi(g,s,A)}catch(se){return Cg(se)?se:new Rn(se)}}),$g=fc(function(g,A){return ri(A,function(se){se=Wa(se),z(g,se,C0(g[se],g))}),g});function fy(g){var A=g==null?0:g.length,se=Ln();return g=A?Yn(g,function(Ae){if(typeof Ae[1]!="function")throw new fo(m);return[se(Ae[0]),Ae[1]]}):[],Zn(function(Ae){for(var We=-1;++We<A;){var nt=g[We];if(bi(nt[0],this,Ae))return bi(nt[1],this,Ae)}})}function K2(g){return ke(pe(g,B))}function Wg(g){return function(){return g}}function my(g,A){return g==null||g!==g?A:g}var $d=Hr(),J2=Hr(!0);function ao(g){return g}function qg(g){return Fs(typeof g=="function"?g:pe(g,B))}function sf(g){return xl(pe(g,B))}function rf(g,A){return Ys(g,pe(A,B))}var of=Zn(function(g,A){return function(se){return Di(se,g,A)}}),af=Zn(function(g,A){return function(se){return Di(g,se,A)}});function Uu(g,A,se){var Ae=qr(A),We=Zt(A,Ae);se==null&&!(Ir(A)&&(We.length||!Ae.length))&&(se=A,A=g,g=this,We=Zt(A,qr(A)));var nt=!(Ir(se)&&"chain"in se)||!!se.chain,St=Zc(g);return ri(We,function(It){var Vt=A[It];g[It]=Vt,St&&(g.prototype[It]=function(){var Si=this.__chain__;if(nt||Si){var ki=g(this.__wrapped__),Ri=ki.__actions__=Jr(this.__actions__);return Ri.push({func:Vt,args:arguments,thisArg:g}),ki.__chain__=Si,ki}return Vt.apply(g,Xn([this.value()],arguments))})}),g}function Q2(){return xr._===this&&(xr._=En),this}function Yg(){}function Gu(g){return g=zn(g),Zn(function(A){return Dr(A,g)})}var G0=hs(Yn),eb=hs(In),gy=hs(Qn);function Xg(g){return eg(g)?Ro(Wa(g)):Ad(g)}function tb(g){return function(A){return g==null?s:qt(g,A)}}var _y=pc(),ib=pc(!0);function V0(){return[]}function Zg(){return!1}function yy(){return{}}function nb(){return""}function sb(){return!0}function H0(g,A){if(g=zn(g),g<1||g>q)return[];var se=ce,Ae=qs(g,ce);A=Ln(A),g-=ce;for(var We=Bo(Ae,A);++se<g;)A(se);return We}function $0(g){return es(g)?Yn(g,Wa):ga(g)?[g]:Jr(sg(ir(g)))}function W0(g){var A=++Ci;return ir(g)+A}var rb=Dd(function(g,A){return g+A},0),Kg=Ma("ceil"),Jg=Dd(function(g,A){return g/A},1),od=Ma("floor");function ob(g){return g&&g.length?Ze(g,ao,Ht):s}function Qg(g,A){return g&&g.length?Ze(g,Ln(A,2),Ht):s}function vy(g){return ro(g,ao)}function q0(g,A){return ro(g,Ln(A,2))}function ab(g){return g&&g.length?Ze(g,ao,qo):s}function lb(g,A){return g&&g.length?Ze(g,Ln(A,2),qo):s}var cb=Dd(function(g,A){return g*A},1),hb=Ma("round"),e1=Dd(function(g,A){return g-A},0);function db(g){return g&&g.length?xs(g,ao):0}function lf(g,A){return g&&g.length?xs(g,Ln(A,2)):0}return Je.after=B_,Je.ary=xg,Je.assign=Y_,Je.assignIn=Dg,Je.assignInWith=O0,Je.assignWith=X_,Je.at=Z_,Je.before=bg,Je.bind=C0,Je.bindAll=$g,Je.bindKey=wg,Je.castArray=k0,Je.chain=M_,Je.chunk=fa,Je.compact=Gl,Je.concat=rg,Je.cond=fy,Je.conforms=K2,Je.constant=Wg,Je.countBy=o2,Je.create=Ig,Je.curry=Sg,Je.curryRight=z_,Je.debounce=N_,Je.defaults=K_,Je.defaultsDeep=z2,Je.defer=F_,Je.delay=M0,Je.difference=Br,Je.differenceBy=m_,Je.differenceWith=Fp,Je.drop=_c,Je.dropRight=Nx,Je.dropRightWhile=Fx,Je.dropWhile=g_,Je.fill=__,Je.filter=l2,Je.flatMap=h2,Je.flatMapDeep=k_,Je.flatMapDepth=Iu,Je.flatten=ag,Je.flattenDeep=y_,Je.flattenDepth=v_,Je.flip=j_,Je.flow=$d,Je.flowRight=J2,Je.fromPairs=jx,Je.functions=N2,Je.functionsIn=F2,Je.groupBy=d2,Je.initial=cg,Je.intersection=ma,Je.intersectionBy=x_,Je.intersectionWith=Ux,Je.invert=sy,Je.invertBy=ry,Je.invokeMap=L_,Je.iteratee=qg,Je.keyBy=u2,Je.keys=qr,Je.keysIn=Aa,Je.map=w0,Je.mapKeys=B0,Je.mapValues=oy,Je.matches=sf,Je.matchesProperty=rf,Je.memoize=Co,Je.merge=z0,Je.mergeWith=Jp,Je.method=of,Je.methodOf=af,Je.mixin=Uu,Je.negate=sd,Je.nthArg=Gu,Je.omit=j2,Je.omitBy=U2,Je.once=Lu,Je.orderBy=p2,Je.over=G0,Je.overArgs=Yp,Je.overEvery=eb,Je.overSome=gy,Je.partial=A0,Je.partialRight=Tg,Je.partition=vg,Je.pick=G2,Je.pickBy=ay,Je.property=Xg,Je.propertyOf=tb,Je.pull=S_,Je.pullAll=hg,Je.pullAllBy=dg,Je.pullAllWith=Th,Je.pullAt=qa,Je.range=_y,Je.rangeRight=ib,Je.rearg=g2,Je.reject=f2,Je.remove=Vx,Je.rest=_2,Je.reverse=jp,Je.sampleSize=$p,Je.set=zu,Je.setWith=Og,Je.shuffle=Wp,Je.slice=Hx,Je.sortBy=R_,Je.sortedUniq=Gp,Je.sortedUniqBy=qx,Je.split=dy,Je.spread=y2,Je.tail=Yx,Je.take=Xx,Je.takeRight=Zx,Je.takeRightWhile=Kx,Je.takeWhile=Jx,Je.tap=A_,Je.throttle=v2,Je.thru=nd,Je.toArray=D0,Je.toPairs=ly,Je.toPairsIn=Rg,Je.toPath=$0,Je.toPlainObject=I0,Je.transform=H2,Je.unary=x2,Je.union=Qx,Je.unionBy=ug,Je.unionWith=e2,Je.uniq=Pu,Je.uniqBy=t2,Je.uniqWith=$r,Je.unset=Bg,Je.unzip=Du,Je.unzipWith=pg,Je.update=$2,Je.updateWith=rd,Je.values=Gd,Je.valuesIn=cy,Je.without=y0,Je.words=Hd,Je.wrap=b2,Je.xor=v0,Je.xorBy=Vp,Je.xorWith=E_,Je.zip=C_,Je.zipObject=Hp,Je.zipObjectDeep=fg,Je.zipWith=mg,Je.entries=ly,Je.entriesIn=Rg,Je.extend=Dg,Je.extendWith=O0,Uu(Je,Je),Je.add=rb,Je.attempt=Hg,Je.camelCase=q2,Je.capitalize=Ng,Je.ceil=Kg,Je.clamp=N0,Je.clone=w2,Je.cloneDeep=G_,Je.cloneDeepWith=V_,Je.cloneWith=U_,Je.conformsTo=S2,Je.deburr=Fg,Je.defaultTo=my,Je.divide=Jg,Je.endsWith=Qp,Je.eq=yc,Je.escape=Mh,Je.escapeRegExp=jg,Je.every=a2,Je.find=c2,Je.findIndex=id,Je.findKey=J_,Je.findLast=b0,Je.findLastIndex=og,Je.findLastKey=Ch,Je.floor=od,Je.forEach=P_,Je.forEachRight=D_,Je.forIn=Q_,Je.forInRight=ey,Je.forOwn=ty,Je.forOwnRight=iy,Je.get=R0,Je.gt=T2,Je.gte=E2,Je.has=ny,Je.hasIn=Ud,Je.head=g0,Je.identity=ao,Je.includes=I_,Je.indexOf=lg,Je.inRange=zg,Je.invoke=Lg,Je.isArguments=jd,Je.isArray=es,Je.isArrayBuffer=C2,Je.isArrayLike=Zs,Je.isArrayLikeObject=tr,Je.isBoolean=Eg,Je.isBuffer=vc,Je.isDate=Ou,Je.isElement=M2,Je.isEmpty=A2,Je.isEqual=Xp,Je.isEqualWith=k2,Je.isError=Cg,Je.isFinite=Zp,Je.isFunction=Zc,Je.isInteger=Mg,Je.isLength=Ns,Je.isMap=Ag,Je.isMatch=Eh,Je.isMatchWith=Ru,Je.isNaN=H_,Je.isNative=P2,Je.isNil=I2,Je.isNull=D2,Je.isNumber=$_,Je.isObject=Ir,Je.isObjectLike=Wr,Je.isPlainObject=Kp,Je.isRegExp=kg,Je.isSafeInteger=L2,Je.isSet=W_,Je.isString=P0,Je.isSymbol=ga,Je.isTypedArray=xc,Je.isUndefined=q_,Je.isWeakMap=O2,Je.isWeakSet=R2,Je.join=b_,Je.kebabCase=Nu,Je.last=Vl,Je.lastIndexOf=Gx,Je.lowerCase=Fu,Je.lowerFirst=Hl,Je.lt=B2,Je.lte=Pg,Je.max=ob,Je.maxBy=Qg,Je.mean=vy,Je.meanBy=q0,Je.min=ab,Je.minBy=lb,Je.stubArray=V0,Je.stubFalse=Zg,Je.stubObject=yy,Je.stubString=nb,Je.stubTrue=sb,Je.multiply=cb,Je.nth=w_,Je.noConflict=Q2,Je.noop=Yg,Je.now=E0,Je.pad=$l,Je.padEnd=Y2,Je.padStart=hy,Je.parseInt=X2,Je.random=W2,Je.reduce=S0,Je.reduceRight=T0,Je.repeat=Ug,Je.replace=Jc,Je.result=V2,Je.round=hb,Je.runInContext=Bt,Je.sample=m2,Je.size=O_,Je.snakeCase=Vd,Je.some=qp,Je.sortedIndex=$x,Je.sortedIndexBy=Wx,Je.sortedIndexOf=Up,Je.sortedLastIndex=_0,Je.sortedLastIndexBy=T_,Je.sortedLastIndexOf=Fd,Je.startCase=uy,Je.startsWith=Z2,Je.subtract=e1,Je.sum=db,Je.sumBy=lf,Je.template=F0,Je.times=H0,Je.toFinite=Kc,Je.toInteger=zn,Je.toLength=Bu,Je.toLower=Gg,Je.toNumber=Yo,Je.toSafeInteger=L0,Je.toString=ir,Je.toUpper=ju,Je.trim=ef,Je.trimEnd=tf,Je.trimStart=j0,Je.truncate=py,Je.unescape=nf,Je.uniqueId=W0,Je.upperCase=Vg,Je.upperFirst=U0,Je.each=P_,Je.eachRight=D_,Je.first=g0,Uu(Je,function(){var g={};return bt(Je,function(A,se){ni.call(Je.prototype,se)||(g[se]=A)}),g}(),{chain:!1}),Je.VERSION=l,ri(["bind","bindKey","curry","curryRight","partial","partialRight"],function(g){Je[g].placeholder=Je}),ri(["drop","take"],function(g,A){Bn.prototype[g]=function(se){se=se===s?1:mr(zn(se),0);var Ae=this.__filtered__&&!A?new Bn(this):this.clone();return Ae.__filtered__?Ae.__takeCount__=qs(se,Ae.__takeCount__):Ae.__views__.push({size:qs(se,ce),type:g+(Ae.__dir__<0?"Right":"")}),Ae},Bn.prototype[g+"Right"]=function(se){return this.reverse()[g](se).reverse()}}),ri(["filter","map","takeWhile"],function(g,A){var se=A+1,Ae=se==f||se==b;Bn.prototype[g]=function(We){var nt=this.clone();return nt.__iteratees__.push({iteratee:Ln(We,3),type:se}),nt.__filtered__=nt.__filtered__||Ae,nt}}),ri(["head","last"],function(g,A){var se="take"+(A?"Right":"");Bn.prototype[g]=function(){return this[se](1).value()[0]}}),ri(["initial","tail"],function(g,A){var se="drop"+(A?"":"Right");Bn.prototype[g]=function(){return this.__filtered__?new Bn(this):this[se](1)}}),Bn.prototype.compact=function(){return this.filter(ao)},Bn.prototype.find=function(g){return this.filter(g).head()},Bn.prototype.findLast=function(g){return this.reverse().find(g)},Bn.prototype.invokeMap=Zn(function(g,A){return typeof g=="function"?new Bn(this):this.map(function(se){return Di(se,g,A)})}),Bn.prototype.reject=function(g){return this.filter(sd(Ln(g)))},Bn.prototype.slice=function(g,A){g=zn(g);var se=this;return se.__filtered__&&(g>0||A<0)?new Bn(se):(g<0?se=se.takeRight(-g):g&&(se=se.drop(g)),A!==s&&(A=zn(A),se=A<0?se.dropRight(-A):se.take(A-g)),se)},Bn.prototype.takeRightWhile=function(g){return this.reverse().takeWhile(g).reverse()},Bn.prototype.toArray=function(){return this.take(ce)},bt(Bn.prototype,function(g,A){var se=/^(?:filter|find|map|reject)|While$/.test(A),Ae=/^(?:head|last)$/.test(A),We=Je[Ae?"take"+(A=="last"?"Right":""):A],nt=Ae||/^find/.test(A);We&&(Je.prototype[A]=function(){var St=this.__wrapped__,It=Ae?[1]:arguments,Vt=St instanceof Bn,Si=It[0],ki=Vt||es(St),Ri=function(Ss){var As=We.apply(Je,Xn([Ss],It));return Ae&&on?As[0]:As};ki&&se&&typeof Si=="function"&&Si.length!=1&&(Vt=ki=!1);var on=this.__chain__,wn=!!this.__actions__.length,Un=nt&&!on,ps=Vt&&!wn;if(!nt&&ki){St=ps?St:new Bn(this);var Vn=g.apply(St,It);return Vn.__actions__.push({func:nd,args:[Ri],thisArg:s}),new Ta(Vn,on)}return Un&&ps?g.apply(this,It):(Vn=this.thru(Ri),Un?Ae?Vn.value()[0]:Vn.value():Vn)})}),ri(["pop","push","shift","sort","splice","unshift"],function(g){var A=tt[g],se=/^(?:push|sort|unshift)$/.test(g)?"tap":"thru",Ae=/^(?:pop|shift)$/.test(g);Je.prototype[g]=function(){var We=arguments;if(Ae&&!this.__chain__){var nt=this.value();return A.apply(es(nt)?nt:[],We)}return this[se](function(St){return A.apply(es(St)?St:[],We)})}}),bt(Bn.prototype,function(g,A){var se=Je[A];if(se){var Ae=se.name+"";ni.call(gh,Ae)||(gh[Ae]=[]),gh[Ae].push({name:A,func:se})}}),gh[vn(s,M).name]=[{name:"wrapper",func:s}],Bn.prototype.clone=Om,Bn.prototype.reverse=Ep,Bn.prototype.value=Rm,Je.prototype.at=i2,Je.prototype.chain=gg,Je.prototype.commit=n2,Je.prototype.next=_g,Je.prototype.plant=x0,Je.prototype.reverse=s2,Je.prototype.toJSON=Je.prototype.valueOf=Je.prototype.value=r2,Je.prototype.first=Je.prototype.head,ns&&(Je.prototype[ns]=yg),Je},po=Hh();oe?((oe.exports=po)._=po,U._=po):xr._=po}).call(ea)})(VA,iv);const HA=iv;var ew={},$A={get exports(){return ew},set exports(e){ew=e}};/*!
 * jQuery JavaScript Library v3.6.3
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-12-20T21:28Z
 */(function(e){(function(t,s){e.exports=t.document?s(t,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return s(l)}})(typeof window<"u"?window:ea,function(t,s){var l=[],c=Object.getPrototypeOf,d=l.slice,m=l.flat?function(U){return l.flat.call(U)}:function(U){return l.concat.apply([],U)},n=l.push,S=l.indexOf,j={},J=j.toString,B=j.hasOwnProperty,W=B.toString,K=W.call(Object),I={},O=function(oe){return typeof oe=="function"&&typeof oe.nodeType!="number"&&typeof oe.item!="function"},H=function(oe){return oe!=null&&oe===oe.window},M=t.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function k(U,oe,ge){ge=ge||M;var Ce,Fe,Ve=ge.createElement("script");if(Ve.text=U,oe)for(Ce in E)Fe=oe[Ce]||oe.getAttribute&&oe.getAttribute(Ce),Fe&&Ve.setAttribute(Ce,Fe);ge.head.appendChild(Ve).parentNode.removeChild(Ve)}function V(U){return U==null?U+"":typeof U=="object"||typeof U=="function"?j[J.call(U)]||"object":typeof U}var G="3.6.3",C=function(U,oe){return new C.fn.init(U,oe)};C.fn=C.prototype={jquery:G,constructor:C,length:0,toArray:function(){return d.call(this)},get:function(U){return U==null?d.call(this):U<0?this[U+this.length]:this[U]},pushStack:function(U){var oe=C.merge(this.constructor(),U);return oe.prevObject=this,oe},each:function(U){return C.each(this,U)},map:function(U){return this.pushStack(C.map(this,function(oe,ge){return U.call(oe,ge,oe)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(U,oe){return(oe+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(U,oe){return oe%2}))},eq:function(U){var oe=this.length,ge=+U+(U<0?oe:0);return this.pushStack(ge>=0&&ge<oe?[this[ge]]:[])},end:function(){return this.prevObject||this.constructor()},push:n,sort:l.sort,splice:l.splice},C.extend=C.fn.extend=function(){var U,oe,ge,Ce,Fe,Ve,Xe=arguments[0]||{},Pt=1,wt=arguments.length,Wt=!1;for(typeof Xe=="boolean"&&(Wt=Xe,Xe=arguments[Pt]||{},Pt++),typeof Xe!="object"&&!O(Xe)&&(Xe={}),Pt===wt&&(Xe=this,Pt--);Pt<wt;Pt++)if((U=arguments[Pt])!=null)for(oe in U)Ce=U[oe],!(oe==="__proto__"||Xe===Ce)&&(Wt&&Ce&&(C.isPlainObject(Ce)||(Fe=Array.isArray(Ce)))?(ge=Xe[oe],Fe&&!Array.isArray(ge)?Ve=[]:!Fe&&!C.isPlainObject(ge)?Ve={}:Ve=ge,Fe=!1,Xe[oe]=C.extend(Wt,Ve,Ce)):Ce!==void 0&&(Xe[oe]=Ce));return Xe},C.extend({expando:"jQuery"+(G+Math.random()).replace(/\D/g,""),isReady:!0,error:function(U){throw new Error(U)},noop:function(){},isPlainObject:function(U){var oe,ge;return!U||J.call(U)!=="[object Object]"?!1:(oe=c(U),oe?(ge=B.call(oe,"constructor")&&oe.constructor,typeof ge=="function"&&W.call(ge)===K):!0)},isEmptyObject:function(U){var oe;for(oe in U)return!1;return!0},globalEval:function(U,oe,ge){k(U,{nonce:oe&&oe.nonce},ge)},each:function(U,oe){var ge,Ce=0;if(ie(U))for(ge=U.length;Ce<ge&&oe.call(U[Ce],Ce,U[Ce])!==!1;Ce++);else for(Ce in U)if(oe.call(U[Ce],Ce,U[Ce])===!1)break;return U},makeArray:function(U,oe){var ge=oe||[];return U!=null&&(ie(Object(U))?C.merge(ge,typeof U=="string"?[U]:U):n.call(ge,U)),ge},inArray:function(U,oe,ge){return oe==null?-1:S.call(oe,U,ge)},merge:function(U,oe){for(var ge=+oe.length,Ce=0,Fe=U.length;Ce<ge;Ce++)U[Fe++]=oe[Ce];return U.length=Fe,U},grep:function(U,oe,ge){for(var Ce,Fe=[],Ve=0,Xe=U.length,Pt=!ge;Ve<Xe;Ve++)Ce=!oe(U[Ve],Ve),Ce!==Pt&&Fe.push(U[Ve]);return Fe},map:function(U,oe,ge){var Ce,Fe,Ve=0,Xe=[];if(ie(U))for(Ce=U.length;Ve<Ce;Ve++)Fe=oe(U[Ve],Ve,ge),Fe!=null&&Xe.push(Fe);else for(Ve in U)Fe=oe(U[Ve],Ve,ge),Fe!=null&&Xe.push(Fe);return m(Xe)},guid:1,support:I}),typeof Symbol=="function"&&(C.fn[Symbol.iterator]=l[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(U,oe){j["[object "+oe+"]"]=oe.toLowerCase()});function ie(U){var oe=!!U&&"length"in U&&U.length,ge=V(U);return O(U)||H(U)?!1:ge==="array"||oe===0||typeof oe=="number"&&oe>0&&oe-1 in U}var Q=function(U){var oe,ge,Ce,Fe,Ve,Xe,Pt,wt,Wt,li,bi,ti,ri,zi,In,tn,Ws,Ds,Yn,Xn="sizzle"+1*new Date,Dn=U.document,Ar=0,Qn=0,Is=uo(),ca=uo(),hl=uo(),kr=uo(),xo=function(tt,Tt){return tt===Tt&&(bi=!0),0},On={}.hasOwnProperty,Ur=[],bo=Ur.pop,ro=Ur.push,Ro=Ur.push,dl=Ur.slice,Sa=function(tt,Tt){for(var Lt=0,fi=tt.length;Lt<fi;Lt++)if(tt[Lt]===Tt)return Lt;return-1},zc="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",xs="[\\x20\\t\\r\\n\\f]",Bo="(?:\\\\[\\da-fA-F]{1,6}"+xs+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ac="\\["+xs+"*("+Bo+")(?:"+xs+"*([*^$|!~]?=)"+xs+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Bo+"))|)"+xs+"*\\]",ul=":("+Bo+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ac+")*)|.*)\\)|)",oo=new RegExp(xs+"+","g"),pl=new RegExp("^"+xs+"+|((?:^|[^\\\\])(?:\\\\.)*)"+xs+"+$","g"),Il=new RegExp("^"+xs+"*,"+xs+"*"),fh=new RegExp("^"+xs+"*([>+~]|"+xs+")"+xs+"*"),fl=new RegExp(xs+"|>"),ml=new RegExp(ul),Uh=new RegExp("^"+Bo+"$"),gl={ID:new RegExp("^#("+Bo+")"),CLASS:new RegExp("^\\.("+Bo+")"),TAG:new RegExp("^("+Bo+"|[*])"),ATTR:new RegExp("^"+ac),PSEUDO:new RegExp("^"+ul),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+xs+"*(even|odd|(([+-]|)(\\d*)n|)"+xs+"*(?:([+-]|)"+xs+"*(\\d+)|))"+xs+"*\\)|)","i"),bool:new RegExp("^(?:"+zc+")$","i"),needsContext:new RegExp("^"+xs+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+xs+"*((?:-\\d)?\\d*)"+xs+"*\\)|)(?=[^-]|$)","i")},mh=/HTML$/i,$o=/^(?:input|select|textarea|button)$/i,Wo=/^h\d$/i,_l=/^[^{]+\{\s*\[native \w/,Nc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ll=/[+~]/,wo=new RegExp("\\\\[\\da-fA-F]{1,6}"+xs+"?|\\\\([^\\r\\n\\f])","g"),Gr=function(tt,Tt){var Lt="0x"+tt.slice(1)-65536;return Tt||(Lt<0?String.fromCharCode(Lt+65536):String.fromCharCode(Lt>>10|55296,Lt&1023|56320))},Fa=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,yl=function(tt,Tt){return Tt?tt==="\0"?"�":tt.slice(0,-1)+"\\"+tt.charCodeAt(tt.length-1).toString(16)+" ":"\\"+tt},Ol=function(){ti()},wd=Rn(function(tt){return tt.disabled===!0&&tt.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Ro.apply(Ur=dl.call(Dn.childNodes),Dn.childNodes),Ur[Dn.childNodes.length].nodeType}catch{Ro={apply:Ur.length?function(Tt,Lt){ro.apply(Tt,dl.call(Lt))}:function(Tt,Lt){for(var fi=Tt.length,zt=0;Tt[fi++]=Lt[zt++];);Tt.length=fi-1}}}function is(tt,Tt,Lt,fi){var zt,ni,Ci,$i,Pi,bn,En,Mn=Tt&&Tt.ownerDocument,jn=Tt?Tt.nodeType:9;if(Lt=Lt||[],typeof tt!="string"||!tt||jn!==1&&jn!==9&&jn!==11)return Lt;if(!fi&&(ti(Tt),Tt=Tt||ri,In)){if(jn!==11&&(Pi=Nc.exec(tt)))if(zt=Pi[1]){if(jn===9)if(Ci=Tt.getElementById(zt)){if(Ci.id===zt)return Lt.push(Ci),Lt}else return Lt;else if(Mn&&(Ci=Mn.getElementById(zt))&&Yn(Tt,Ci)&&Ci.id===zt)return Lt.push(Ci),Lt}else{if(Pi[2])return Ro.apply(Lt,Tt.getElementsByTagName(tt)),Lt;if((zt=Pi[3])&&ge.getElementsByClassName&&Tt.getElementsByClassName)return Ro.apply(Lt,Tt.getElementsByClassName(zt)),Lt}if(ge.qsa&&!kr[tt+" "]&&(!tn||!tn.test(tt))&&(jn!==1||Tt.nodeName.toLowerCase()!=="object")){if(En=tt,Mn=Tt,jn===1&&(fl.test(tt)||fh.test(tt))){for(Mn=Ll.test(tt)&&pi(Tt.parentNode)||Tt,(Mn!==Tt||!ge.scope)&&(($i=Tt.getAttribute("id"))?$i=$i.replace(Fa,yl):Tt.setAttribute("id",$i=Xn)),bn=Xe(tt),ni=bn.length;ni--;)bn[ni]=($i?"#"+$i:":scope")+" "+nn(bn[ni]);En=bn.join(",")}try{if(ge.cssSupportsSelector&&!CSS.supports("selector(:is("+En+"))"))throw new Error;return Ro.apply(Lt,Mn.querySelectorAll(En)),Lt}catch{kr(tt,!0)}finally{$i===Xn&&Tt.removeAttribute("id")}}}return wt(tt.replace(pl,"$1"),Tt,Lt,fi)}function uo(){var tt=[];function Tt(Lt,fi){return tt.push(Lt+" ")>Ce.cacheLength&&delete Tt[tt.shift()],Tt[Lt+" "]=fi}return Tt}function Vr(tt){return tt[Xn]=!0,tt}function So(tt){var Tt=ri.createElement("fieldset");try{return!!tt(Tt)}catch{return!1}finally{Tt.parentNode&&Tt.parentNode.removeChild(Tt),Tt=null}}function ja(tt,Tt){for(var Lt=tt.split("|"),fi=Lt.length;fi--;)Ce.attrHandle[Lt[fi]]=Tt}function Gh(tt,Tt){var Lt=Tt&&tt,fi=Lt&&tt.nodeType===1&&Tt.nodeType===1&&tt.sourceIndex-Tt.sourceIndex;if(fi)return fi;if(Lt){for(;Lt=Lt.nextSibling;)if(Lt===Tt)return-1}return tt?1:-1}function Vh(tt){return function(Tt){var Lt=Tt.nodeName.toLowerCase();return Lt==="input"&&Tt.type===tt}}function Hh(tt){return function(Tt){var Lt=Tt.nodeName.toLowerCase();return(Lt==="input"||Lt==="button")&&Tt.type===tt}}function po(tt){return function(Tt){return"form"in Tt?Tt.parentNode&&Tt.disabled===!1?"label"in Tt?"label"in Tt.parentNode?Tt.parentNode.disabled===tt:Tt.disabled===tt:Tt.isDisabled===tt||Tt.isDisabled!==!tt&&wd(Tt)===tt:Tt.disabled===tt:"label"in Tt?Tt.disabled===tt:!1}}function Bt(tt){return Vr(function(Tt){return Tt=+Tt,Vr(function(Lt,fi){for(var zt,ni=tt([],Lt.length,Tt),Ci=ni.length;Ci--;)Lt[zt=ni[Ci]]&&(Lt[zt]=!(fi[zt]=Lt[zt]))})})}function pi(tt){return tt&&typeof tt.getElementsByTagName<"u"&&tt}ge=is.support={},Ve=is.isXML=function(tt){var Tt=tt&&tt.namespaceURI,Lt=tt&&(tt.ownerDocument||tt).documentElement;return!mh.test(Tt||Lt&&Lt.nodeName||"HTML")},ti=is.setDocument=function(tt){var Tt,Lt,fi=tt?tt.ownerDocument||tt:Dn;return fi==ri||fi.nodeType!==9||!fi.documentElement||(ri=fi,zi=ri.documentElement,In=!Ve(ri),Dn!=ri&&(Lt=ri.defaultView)&&Lt.top!==Lt&&(Lt.addEventListener?Lt.addEventListener("unload",Ol,!1):Lt.attachEvent&&Lt.attachEvent("onunload",Ol)),ge.scope=So(function(zt){return zi.appendChild(zt).appendChild(ri.createElement("div")),typeof zt.querySelectorAll<"u"&&!zt.querySelectorAll(":scope fieldset div").length}),ge.cssSupportsSelector=So(function(){return CSS.supports("selector(*)")&&ri.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),ge.attributes=So(function(zt){return zt.className="i",!zt.getAttribute("className")}),ge.getElementsByTagName=So(function(zt){return zt.appendChild(ri.createComment("")),!zt.getElementsByTagName("*").length}),ge.getElementsByClassName=_l.test(ri.getElementsByClassName),ge.getById=So(function(zt){return zi.appendChild(zt).id=Xn,!ri.getElementsByName||!ri.getElementsByName(Xn).length}),ge.getById?(Ce.filter.ID=function(zt){var ni=zt.replace(wo,Gr);return function(Ci){return Ci.getAttribute("id")===ni}},Ce.find.ID=function(zt,ni){if(typeof ni.getElementById<"u"&&In){var Ci=ni.getElementById(zt);return Ci?[Ci]:[]}}):(Ce.filter.ID=function(zt){var ni=zt.replace(wo,Gr);return function(Ci){var $i=typeof Ci.getAttributeNode<"u"&&Ci.getAttributeNode("id");return $i&&$i.value===ni}},Ce.find.ID=function(zt,ni){if(typeof ni.getElementById<"u"&&In){var Ci,$i,Pi,bn=ni.getElementById(zt);if(bn){if(Ci=bn.getAttributeNode("id"),Ci&&Ci.value===zt)return[bn];for(Pi=ni.getElementsByName(zt),$i=0;bn=Pi[$i++];)if(Ci=bn.getAttributeNode("id"),Ci&&Ci.value===zt)return[bn]}return[]}}),Ce.find.TAG=ge.getElementsByTagName?function(zt,ni){if(typeof ni.getElementsByTagName<"u")return ni.getElementsByTagName(zt);if(ge.qsa)return ni.querySelectorAll(zt)}:function(zt,ni){var Ci,$i=[],Pi=0,bn=ni.getElementsByTagName(zt);if(zt==="*"){for(;Ci=bn[Pi++];)Ci.nodeType===1&&$i.push(Ci);return $i}return bn},Ce.find.CLASS=ge.getElementsByClassName&&function(zt,ni){if(typeof ni.getElementsByClassName<"u"&&In)return ni.getElementsByClassName(zt)},Ws=[],tn=[],(ge.qsa=_l.test(ri.querySelectorAll))&&(So(function(zt){var ni;zi.appendChild(zt).innerHTML="<a id='"+Xn+"'></a><select id='"+Xn+"-\r\\' msallowcapture=''><option selected=''></option></select>",zt.querySelectorAll("[msallowcapture^='']").length&&tn.push("[*^$]="+xs+`*(?:''|"")`),zt.querySelectorAll("[selected]").length||tn.push("\\["+xs+"*(?:value|"+zc+")"),zt.querySelectorAll("[id~="+Xn+"-]").length||tn.push("~="),ni=ri.createElement("input"),ni.setAttribute("name",""),zt.appendChild(ni),zt.querySelectorAll("[name='']").length||tn.push("\\["+xs+"*name"+xs+"*="+xs+`*(?:''|"")`),zt.querySelectorAll(":checked").length||tn.push(":checked"),zt.querySelectorAll("a#"+Xn+"+*").length||tn.push(".#.+[+~]"),zt.querySelectorAll("\\\f"),tn.push("[\\r\\n\\f]")}),So(function(zt){zt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var ni=ri.createElement("input");ni.setAttribute("type","hidden"),zt.appendChild(ni).setAttribute("name","D"),zt.querySelectorAll("[name=d]").length&&tn.push("name"+xs+"*[*^$|!~]?="),zt.querySelectorAll(":enabled").length!==2&&tn.push(":enabled",":disabled"),zi.appendChild(zt).disabled=!0,zt.querySelectorAll(":disabled").length!==2&&tn.push(":enabled",":disabled"),zt.querySelectorAll("*,:x"),tn.push(",.*:")})),(ge.matchesSelector=_l.test(Ds=zi.matches||zi.webkitMatchesSelector||zi.mozMatchesSelector||zi.oMatchesSelector||zi.msMatchesSelector))&&So(function(zt){ge.disconnectedMatch=Ds.call(zt,"*"),Ds.call(zt,"[s!='']:x"),Ws.push("!=",ul)}),ge.cssSupportsSelector||tn.push(":has"),tn=tn.length&&new RegExp(tn.join("|")),Ws=Ws.length&&new RegExp(Ws.join("|")),Tt=_l.test(zi.compareDocumentPosition),Yn=Tt||_l.test(zi.contains)?function(zt,ni){var Ci=zt.nodeType===9&&zt.documentElement||zt,$i=ni&&ni.parentNode;return zt===$i||!!($i&&$i.nodeType===1&&(Ci.contains?Ci.contains($i):zt.compareDocumentPosition&&zt.compareDocumentPosition($i)&16))}:function(zt,ni){if(ni){for(;ni=ni.parentNode;)if(ni===zt)return!0}return!1},xo=Tt?function(zt,ni){if(zt===ni)return bi=!0,0;var Ci=!zt.compareDocumentPosition-!ni.compareDocumentPosition;return Ci||(Ci=(zt.ownerDocument||zt)==(ni.ownerDocument||ni)?zt.compareDocumentPosition(ni):1,Ci&1||!ge.sortDetached&&ni.compareDocumentPosition(zt)===Ci?zt==ri||zt.ownerDocument==Dn&&Yn(Dn,zt)?-1:ni==ri||ni.ownerDocument==Dn&&Yn(Dn,ni)?1:li?Sa(li,zt)-Sa(li,ni):0:Ci&4?-1:1)}:function(zt,ni){if(zt===ni)return bi=!0,0;var Ci,$i=0,Pi=zt.parentNode,bn=ni.parentNode,En=[zt],Mn=[ni];if(!Pi||!bn)return zt==ri?-1:ni==ri?1:Pi?-1:bn?1:li?Sa(li,zt)-Sa(li,ni):0;if(Pi===bn)return Gh(zt,ni);for(Ci=zt;Ci=Ci.parentNode;)En.unshift(Ci);for(Ci=ni;Ci=Ci.parentNode;)Mn.unshift(Ci);for(;En[$i]===Mn[$i];)$i++;return $i?Gh(En[$i],Mn[$i]):En[$i]==Dn?-1:Mn[$i]==Dn?1:0}),ri},is.matches=function(tt,Tt){return is(tt,null,null,Tt)},is.matchesSelector=function(tt,Tt){if(ti(tt),ge.matchesSelector&&In&&!kr[Tt+" "]&&(!Ws||!Ws.test(Tt))&&(!tn||!tn.test(Tt)))try{var Lt=Ds.call(tt,Tt);if(Lt||ge.disconnectedMatch||tt.document&&tt.document.nodeType!==11)return Lt}catch{kr(Tt,!0)}return is(Tt,ri,null,[tt]).length>0},is.contains=function(tt,Tt){return(tt.ownerDocument||tt)!=ri&&ti(tt),Yn(tt,Tt)},is.attr=function(tt,Tt){(tt.ownerDocument||tt)!=ri&&ti(tt);var Lt=Ce.attrHandle[Tt.toLowerCase()],fi=Lt&&On.call(Ce.attrHandle,Tt.toLowerCase())?Lt(tt,Tt,!In):void 0;return fi!==void 0?fi:ge.attributes||!In?tt.getAttribute(Tt):(fi=tt.getAttributeNode(Tt))&&fi.specified?fi.value:null},is.escape=function(tt){return(tt+"").replace(Fa,yl)},is.error=function(tt){throw new Error("Syntax error, unrecognized expression: "+tt)},is.uniqueSort=function(tt){var Tt,Lt=[],fi=0,zt=0;if(bi=!ge.detectDuplicates,li=!ge.sortStable&&tt.slice(0),tt.sort(xo),bi){for(;Tt=tt[zt++];)Tt===tt[zt]&&(fi=Lt.push(zt));for(;fi--;)tt.splice(Lt[fi],1)}return li=null,tt},Fe=is.getText=function(tt){var Tt,Lt="",fi=0,zt=tt.nodeType;if(zt){if(zt===1||zt===9||zt===11){if(typeof tt.textContent=="string")return tt.textContent;for(tt=tt.firstChild;tt;tt=tt.nextSibling)Lt+=Fe(tt)}else if(zt===3||zt===4)return tt.nodeValue}else for(;Tt=tt[fi++];)Lt+=Fe(Tt);return Lt},Ce=is.selectors={cacheLength:50,createPseudo:Vr,match:gl,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(tt){return tt[1]=tt[1].replace(wo,Gr),tt[3]=(tt[3]||tt[4]||tt[5]||"").replace(wo,Gr),tt[2]==="~="&&(tt[3]=" "+tt[3]+" "),tt.slice(0,4)},CHILD:function(tt){return tt[1]=tt[1].toLowerCase(),tt[1].slice(0,3)==="nth"?(tt[3]||is.error(tt[0]),tt[4]=+(tt[4]?tt[5]+(tt[6]||1):2*(tt[3]==="even"||tt[3]==="odd")),tt[5]=+(tt[7]+tt[8]||tt[3]==="odd")):tt[3]&&is.error(tt[0]),tt},PSEUDO:function(tt){var Tt,Lt=!tt[6]&&tt[2];return gl.CHILD.test(tt[0])?null:(tt[3]?tt[2]=tt[4]||tt[5]||"":Lt&&ml.test(Lt)&&(Tt=Xe(Lt,!0))&&(Tt=Lt.indexOf(")",Lt.length-Tt)-Lt.length)&&(tt[0]=tt[0].slice(0,Tt),tt[2]=Lt.slice(0,Tt)),tt.slice(0,3))}},filter:{TAG:function(tt){var Tt=tt.replace(wo,Gr).toLowerCase();return tt==="*"?function(){return!0}:function(Lt){return Lt.nodeName&&Lt.nodeName.toLowerCase()===Tt}},CLASS:function(tt){var Tt=Is[tt+" "];return Tt||(Tt=new RegExp("(^|"+xs+")"+tt+"("+xs+"|$)"))&&Is(tt,function(Lt){return Tt.test(typeof Lt.className=="string"&&Lt.className||typeof Lt.getAttribute<"u"&&Lt.getAttribute("class")||"")})},ATTR:function(tt,Tt,Lt){return function(fi){var zt=is.attr(fi,tt);return zt==null?Tt==="!=":Tt?(zt+="",Tt==="="?zt===Lt:Tt==="!="?zt!==Lt:Tt==="^="?Lt&&zt.indexOf(Lt)===0:Tt==="*="?Lt&&zt.indexOf(Lt)>-1:Tt==="$="?Lt&&zt.slice(-Lt.length)===Lt:Tt==="~="?(" "+zt.replace(oo," ")+" ").indexOf(Lt)>-1:Tt==="|="?zt===Lt||zt.slice(0,Lt.length+1)===Lt+"-":!1):!0}},CHILD:function(tt,Tt,Lt,fi,zt){var ni=tt.slice(0,3)!=="nth",Ci=tt.slice(-4)!=="last",$i=Tt==="of-type";return fi===1&&zt===0?function(Pi){return!!Pi.parentNode}:function(Pi,bn,En){var Mn,jn,os,yn,_e,we,je=ni!==Ci?"nextSibling":"previousSibling",yt=Pi.parentNode,yi=$i&&Pi.nodeName.toLowerCase(),dn=!En&&!$i,ns=!1;if(yt){if(ni){for(;je;){for(yn=Pi;yn=yn[je];)if($i?yn.nodeName.toLowerCase()===yi:yn.nodeType===1)return!1;we=je=tt==="only"&&!we&&"nextSibling"}return!0}if(we=[Ci?yt.firstChild:yt.lastChild],Ci&&dn){for(yn=yt,os=yn[Xn]||(yn[Xn]={}),jn=os[yn.uniqueID]||(os[yn.uniqueID]={}),Mn=jn[tt]||[],_e=Mn[0]===Ar&&Mn[1],ns=_e&&Mn[2],yn=_e&&yt.childNodes[_e];yn=++_e&&yn&&yn[je]||(ns=_e=0)||we.pop();)if(yn.nodeType===1&&++ns&&yn===Pi){jn[tt]=[Ar,_e,ns];break}}else if(dn&&(yn=Pi,os=yn[Xn]||(yn[Xn]={}),jn=os[yn.uniqueID]||(os[yn.uniqueID]={}),Mn=jn[tt]||[],_e=Mn[0]===Ar&&Mn[1],ns=_e),ns===!1)for(;(yn=++_e&&yn&&yn[je]||(ns=_e=0)||we.pop())&&!(($i?yn.nodeName.toLowerCase()===yi:yn.nodeType===1)&&++ns&&(dn&&(os=yn[Xn]||(yn[Xn]={}),jn=os[yn.uniqueID]||(os[yn.uniqueID]={}),jn[tt]=[Ar,ns]),yn===Pi)););return ns-=zt,ns===fi||ns%fi===0&&ns/fi>=0}}},PSEUDO:function(tt,Tt){var Lt,fi=Ce.pseudos[tt]||Ce.setFilters[tt.toLowerCase()]||is.error("unsupported pseudo: "+tt);return fi[Xn]?fi(Tt):fi.length>1?(Lt=[tt,tt,"",Tt],Ce.setFilters.hasOwnProperty(tt.toLowerCase())?Vr(function(zt,ni){for(var Ci,$i=fi(zt,Tt),Pi=$i.length;Pi--;)Ci=Sa(zt,$i[Pi]),zt[Ci]=!(ni[Ci]=$i[Pi])}):function(zt){return fi(zt,0,Lt)}):fi}},pseudos:{not:Vr(function(tt){var Tt=[],Lt=[],fi=Pt(tt.replace(pl,"$1"));return fi[Xn]?Vr(function(zt,ni,Ci,$i){for(var Pi,bn=fi(zt,null,$i,[]),En=zt.length;En--;)(Pi=bn[En])&&(zt[En]=!(ni[En]=Pi))}):function(zt,ni,Ci){return Tt[0]=zt,fi(Tt,null,Ci,Lt),Tt[0]=null,!Lt.pop()}}),has:Vr(function(tt){return function(Tt){return is(tt,Tt).length>0}}),contains:Vr(function(tt){return tt=tt.replace(wo,Gr),function(Tt){return(Tt.textContent||Fe(Tt)).indexOf(tt)>-1}}),lang:Vr(function(tt){return Uh.test(tt||"")||is.error("unsupported lang: "+tt),tt=tt.replace(wo,Gr).toLowerCase(),function(Tt){var Lt;do if(Lt=In?Tt.lang:Tt.getAttribute("xml:lang")||Tt.getAttribute("lang"))return Lt=Lt.toLowerCase(),Lt===tt||Lt.indexOf(tt+"-")===0;while((Tt=Tt.parentNode)&&Tt.nodeType===1);return!1}}),target:function(tt){var Tt=U.location&&U.location.hash;return Tt&&Tt.slice(1)===tt.id},root:function(tt){return tt===zi},focus:function(tt){return tt===ri.activeElement&&(!ri.hasFocus||ri.hasFocus())&&!!(tt.type||tt.href||~tt.tabIndex)},enabled:po(!1),disabled:po(!0),checked:function(tt){var Tt=tt.nodeName.toLowerCase();return Tt==="input"&&!!tt.checked||Tt==="option"&&!!tt.selected},selected:function(tt){return tt.parentNode&&tt.parentNode.selectedIndex,tt.selected===!0},empty:function(tt){for(tt=tt.firstChild;tt;tt=tt.nextSibling)if(tt.nodeType<6)return!1;return!0},parent:function(tt){return!Ce.pseudos.empty(tt)},header:function(tt){return Wo.test(tt.nodeName)},input:function(tt){return $o.test(tt.nodeName)},button:function(tt){var Tt=tt.nodeName.toLowerCase();return Tt==="input"&&tt.type==="button"||Tt==="button"},text:function(tt){var Tt;return tt.nodeName.toLowerCase()==="input"&&tt.type==="text"&&((Tt=tt.getAttribute("type"))==null||Tt.toLowerCase()==="text")},first:Bt(function(){return[0]}),last:Bt(function(tt,Tt){return[Tt-1]}),eq:Bt(function(tt,Tt,Lt){return[Lt<0?Lt+Tt:Lt]}),even:Bt(function(tt,Tt){for(var Lt=0;Lt<Tt;Lt+=2)tt.push(Lt);return tt}),odd:Bt(function(tt,Tt){for(var Lt=1;Lt<Tt;Lt+=2)tt.push(Lt);return tt}),lt:Bt(function(tt,Tt,Lt){for(var fi=Lt<0?Lt+Tt:Lt>Tt?Tt:Lt;--fi>=0;)tt.push(fi);return tt}),gt:Bt(function(tt,Tt,Lt){for(var fi=Lt<0?Lt+Tt:Lt;++fi<Tt;)tt.push(fi);return tt})}},Ce.pseudos.nth=Ce.pseudos.eq;for(oe in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ce.pseudos[oe]=Vh(oe);for(oe in{submit:!0,reset:!0})Ce.pseudos[oe]=Hh(oe);function oi(){}oi.prototype=Ce.filters=Ce.pseudos,Ce.setFilters=new oi,Xe=is.tokenize=function(tt,Tt){var Lt,fi,zt,ni,Ci,$i,Pi,bn=ca[tt+" "];if(bn)return Tt?0:bn.slice(0);for(Ci=tt,$i=[],Pi=Ce.preFilter;Ci;){(!Lt||(fi=Il.exec(Ci)))&&(fi&&(Ci=Ci.slice(fi[0].length)||Ci),$i.push(zt=[])),Lt=!1,(fi=fh.exec(Ci))&&(Lt=fi.shift(),zt.push({value:Lt,type:fi[0].replace(pl," ")}),Ci=Ci.slice(Lt.length));for(ni in Ce.filter)(fi=gl[ni].exec(Ci))&&(!Pi[ni]||(fi=Pi[ni](fi)))&&(Lt=fi.shift(),zt.push({value:Lt,type:ni,matches:fi}),Ci=Ci.slice(Lt.length));if(!Lt)break}return Tt?Ci.length:Ci?is.error(tt):ca(tt,$i).slice(0)};function nn(tt){for(var Tt=0,Lt=tt.length,fi="";Tt<Lt;Tt++)fi+=tt[Tt].value;return fi}function Rn(tt,Tt,Lt){var fi=Tt.dir,zt=Tt.next,ni=zt||fi,Ci=Lt&&ni==="parentNode",$i=Qn++;return Tt.first?function(Pi,bn,En){for(;Pi=Pi[fi];)if(Pi.nodeType===1||Ci)return tt(Pi,bn,En);return!1}:function(Pi,bn,En){var Mn,jn,os,yn=[Ar,$i];if(En){for(;Pi=Pi[fi];)if((Pi.nodeType===1||Ci)&&tt(Pi,bn,En))return!0}else for(;Pi=Pi[fi];)if(Pi.nodeType===1||Ci)if(os=Pi[Xn]||(Pi[Xn]={}),jn=os[Pi.uniqueID]||(os[Pi.uniqueID]={}),zt&&zt===Pi.nodeName.toLowerCase())Pi=Pi[fi]||Pi;else{if((Mn=jn[ni])&&Mn[0]===Ar&&Mn[1]===$i)return yn[2]=Mn[2];if(jn[ni]=yn,yn[2]=tt(Pi,bn,En))return!0}return!1}}function gs(tt){return tt.length>1?function(Tt,Lt,fi){for(var zt=tt.length;zt--;)if(!tt[zt](Tt,Lt,fi))return!1;return!0}:tt[0]}function pr(tt,Tt,Lt){for(var fi=0,zt=Tt.length;fi<zt;fi++)is(tt,Tt[fi],Lt);return Lt}function bs(tt,Tt,Lt,fi,zt){for(var ni,Ci=[],$i=0,Pi=tt.length,bn=Tt!=null;$i<Pi;$i++)(ni=tt[$i])&&(!Lt||Lt(ni,fi,zt))&&(Ci.push(ni),bn&&Tt.push($i));return Ci}function Rl(tt,Tt,Lt,fi,zt,ni){return fi&&!fi[Xn]&&(fi=Rl(fi)),zt&&!zt[Xn]&&(zt=Rl(zt,ni)),Vr(function(Ci,$i,Pi,bn){var En,Mn,jn,os=[],yn=[],_e=$i.length,we=Ci||pr(Tt||"*",Pi.nodeType?[Pi]:Pi,[]),je=tt&&(Ci||!Tt)?bs(we,os,tt,Pi,bn):we,yt=Lt?zt||(Ci?tt:_e||fi)?[]:$i:je;if(Lt&&Lt(je,yt,Pi,bn),fi)for(En=bs(yt,yn),fi(En,[],Pi,bn),Mn=En.length;Mn--;)(jn=En[Mn])&&(yt[yn[Mn]]=!(je[yn[Mn]]=jn));if(Ci){if(zt||tt){if(zt){for(En=[],Mn=yt.length;Mn--;)(jn=yt[Mn])&&En.push(je[Mn]=jn);zt(null,yt=[],En,bn)}for(Mn=yt.length;Mn--;)(jn=yt[Mn])&&(En=zt?Sa(Ci,jn):os[Mn])>-1&&(Ci[En]=!($i[En]=jn))}}else yt=bs(yt===$i?yt.splice(_e,yt.length):yt),zt?zt(null,$i,yt,bn):Ro.apply($i,yt)})}function Fc(tt){for(var Tt,Lt,fi,zt=tt.length,ni=Ce.relative[tt[0].type],Ci=ni||Ce.relative[" "],$i=ni?1:0,Pi=Rn(function(Mn){return Mn===Tt},Ci,!0),bn=Rn(function(Mn){return Sa(Tt,Mn)>-1},Ci,!0),En=[function(Mn,jn,os){var yn=!ni&&(os||jn!==Wt)||((Tt=jn).nodeType?Pi(Mn,jn,os):bn(Mn,jn,os));return Tt=null,yn}];$i<zt;$i++)if(Lt=Ce.relative[tt[$i].type])En=[Rn(gs(En),Lt)];else{if(Lt=Ce.filter[tt[$i].type].apply(null,tt[$i].matches),Lt[Xn]){for(fi=++$i;fi<zt&&!Ce.relative[tt[fi].type];fi++);return Rl($i>1&&gs(En),$i>1&&nn(tt.slice(0,$i-1).concat({value:tt[$i-2].type===" "?"*":""})).replace(pl,"$1"),Lt,$i<fi&&Fc(tt.slice($i,fi)),fi<zt&&Fc(tt=tt.slice(fi)),fi<zt&&nn(tt))}En.push(Lt)}return gs(En)}function fo(tt,Tt){var Lt=Tt.length>0,fi=tt.length>0,zt=function(ni,Ci,$i,Pi,bn){var En,Mn,jn,os=0,yn="0",_e=ni&&[],we=[],je=Wt,yt=ni||fi&&Ce.find.TAG("*",bn),yi=Ar+=je==null?1:Math.random()||.1,dn=yt.length;for(bn&&(Wt=Ci==ri||Ci||bn);yn!==dn&&(En=yt[yn])!=null;yn++){if(fi&&En){for(Mn=0,!Ci&&En.ownerDocument!=ri&&(ti(En),$i=!In);jn=tt[Mn++];)if(jn(En,Ci||ri,$i)){Pi.push(En);break}bn&&(Ar=yi)}Lt&&((En=!jn&&En)&&os--,ni&&_e.push(En))}if(os+=yn,Lt&&yn!==os){for(Mn=0;jn=Tt[Mn++];)jn(_e,we,Ci,$i);if(ni){if(os>0)for(;yn--;)_e[yn]||we[yn]||(we[yn]=bo.call(Pi));we=bs(we)}Ro.apply(Pi,we),bn&&!ni&&we.length>0&&os+Tt.length>1&&is.uniqueSort(Pi)}return bn&&(Ar=yi,Wt=je),_e};return Lt?Vr(zt):zt}return Pt=is.compile=function(tt,Tt){var Lt,fi=[],zt=[],ni=hl[tt+" "];if(!ni){for(Tt||(Tt=Xe(tt)),Lt=Tt.length;Lt--;)ni=Fc(Tt[Lt]),ni[Xn]?fi.push(ni):zt.push(ni);ni=hl(tt,fo(zt,fi)),ni.selector=tt}return ni},wt=is.select=function(tt,Tt,Lt,fi){var zt,ni,Ci,$i,Pi,bn=typeof tt=="function"&&tt,En=!fi&&Xe(tt=bn.selector||tt);if(Lt=Lt||[],En.length===1){if(ni=En[0]=En[0].slice(0),ni.length>2&&(Ci=ni[0]).type==="ID"&&Tt.nodeType===9&&In&&Ce.relative[ni[1].type]){if(Tt=(Ce.find.ID(Ci.matches[0].replace(wo,Gr),Tt)||[])[0],Tt)bn&&(Tt=Tt.parentNode);else return Lt;tt=tt.slice(ni.shift().value.length)}for(zt=gl.needsContext.test(tt)?0:ni.length;zt--&&(Ci=ni[zt],!Ce.relative[$i=Ci.type]);)if((Pi=Ce.find[$i])&&(fi=Pi(Ci.matches[0].replace(wo,Gr),Ll.test(ni[0].type)&&pi(Tt.parentNode)||Tt))){if(ni.splice(zt,1),tt=fi.length&&nn(ni),!tt)return Ro.apply(Lt,fi),Lt;break}}return(bn||Pt(tt,En))(fi,Tt,!In,Lt,!Tt||Ll.test(tt)&&pi(Tt.parentNode)||Tt),Lt},ge.sortStable=Xn.split("").sort(xo).join("")===Xn,ge.detectDuplicates=!!bi,ti(),ge.sortDetached=So(function(tt){return tt.compareDocumentPosition(ri.createElement("fieldset"))&1}),So(function(tt){return tt.innerHTML="<a href='#'></a>",tt.firstChild.getAttribute("href")==="#"})||ja("type|href|height|width",function(tt,Tt,Lt){if(!Lt)return tt.getAttribute(Tt,Tt.toLowerCase()==="type"?1:2)}),(!ge.attributes||!So(function(tt){return tt.innerHTML="<input/>",tt.firstChild.setAttribute("value",""),tt.firstChild.getAttribute("value")===""}))&&ja("value",function(tt,Tt,Lt){if(!Lt&&tt.nodeName.toLowerCase()==="input")return tt.defaultValue}),So(function(tt){return tt.getAttribute("disabled")==null})||ja(zc,function(tt,Tt,Lt){var fi;if(!Lt)return tt[Tt]===!0?Tt.toLowerCase():(fi=tt.getAttributeNode(Tt))&&fi.specified?fi.value:null}),is}(t);C.find=Q,C.expr=Q.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=Q.uniqueSort,C.text=Q.getText,C.isXMLDoc=Q.isXML,C.contains=Q.contains,C.escapeSelector=Q.escape;var N=function(U,oe,ge){for(var Ce=[],Fe=ge!==void 0;(U=U[oe])&&U.nodeType!==9;)if(U.nodeType===1){if(Fe&&C(U).is(ge))break;Ce.push(U)}return Ce},F=function(U,oe){for(var ge=[];U;U=U.nextSibling)U.nodeType===1&&U!==oe&&ge.push(U);return ge},$=C.expr.match.needsContext;function w(U,oe){return U.nodeName&&U.nodeName.toLowerCase()===oe.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function f(U,oe,ge){return O(oe)?C.grep(U,function(Ce,Fe){return!!oe.call(Ce,Fe,Ce)!==ge}):oe.nodeType?C.grep(U,function(Ce){return Ce===oe!==ge}):typeof oe!="string"?C.grep(U,function(Ce){return S.call(oe,Ce)>-1!==ge}):C.filter(oe,U,ge)}C.filter=function(U,oe,ge){var Ce=oe[0];return ge&&(U=":not("+U+")"),oe.length===1&&Ce.nodeType===1?C.find.matchesSelector(Ce,U)?[Ce]:[]:C.find.matches(U,C.grep(oe,function(Fe){return Fe.nodeType===1}))},C.fn.extend({find:function(U){var oe,ge,Ce=this.length,Fe=this;if(typeof U!="string")return this.pushStack(C(U).filter(function(){for(oe=0;oe<Ce;oe++)if(C.contains(Fe[oe],this))return!0}));for(ge=this.pushStack([]),oe=0;oe<Ce;oe++)C.find(U,Fe[oe],ge);return Ce>1?C.uniqueSort(ge):ge},filter:function(U){return this.pushStack(f(this,U||[],!1))},not:function(U){return this.pushStack(f(this,U||[],!0))},is:function(U){return!!f(this,typeof U=="string"&&$.test(U)?C(U):U||[],!1).length}});var y,b=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,P=C.fn.init=function(U,oe,ge){var Ce,Fe;if(!U)return this;if(ge=ge||y,typeof U=="string")if(U[0]==="<"&&U[U.length-1]===">"&&U.length>=3?Ce=[null,U,null]:Ce=b.exec(U),Ce&&(Ce[1]||!oe))if(Ce[1]){if(oe=oe instanceof C?oe[0]:oe,C.merge(this,C.parseHTML(Ce[1],oe&&oe.nodeType?oe.ownerDocument||oe:M,!0)),L.test(Ce[1])&&C.isPlainObject(oe))for(Ce in oe)O(this[Ce])?this[Ce](oe[Ce]):this.attr(Ce,oe[Ce]);return this}else return Fe=M.getElementById(Ce[2]),Fe&&(this[0]=Fe,this.length=1),this;else return!oe||oe.jquery?(oe||ge).find(U):this.constructor(oe).find(U);else{if(U.nodeType)return this[0]=U,this.length=1,this;if(O(U))return ge.ready!==void 0?ge.ready(U):U(C)}return C.makeArray(U,this)};P.prototype=C.fn,y=C(M);var q=/^(?:parents|prev(?:Until|All))/,ee={children:!0,contents:!0,next:!0,prev:!0};C.fn.extend({has:function(U){var oe=C(U,this),ge=oe.length;return this.filter(function(){for(var Ce=0;Ce<ge;Ce++)if(C.contains(this,oe[Ce]))return!0})},closest:function(U,oe){var ge,Ce=0,Fe=this.length,Ve=[],Xe=typeof U!="string"&&C(U);if(!$.test(U)){for(;Ce<Fe;Ce++)for(ge=this[Ce];ge&&ge!==oe;ge=ge.parentNode)if(ge.nodeType<11&&(Xe?Xe.index(ge)>-1:ge.nodeType===1&&C.find.matchesSelector(ge,U))){Ve.push(ge);break}}return this.pushStack(Ve.length>1?C.uniqueSort(Ve):Ve)},index:function(U){return U?typeof U=="string"?S.call(C(U),this[0]):S.call(this,U.jquery?U[0]:U):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(U,oe){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(U,oe))))},addBack:function(U){return this.add(U==null?this.prevObject:this.prevObject.filter(U))}});function X(U,oe){for(;(U=U[oe])&&U.nodeType!==1;);return U}C.each({parent:function(U){var oe=U.parentNode;return oe&&oe.nodeType!==11?oe:null},parents:function(U){return N(U,"parentNode")},parentsUntil:function(U,oe,ge){return N(U,"parentNode",ge)},next:function(U){return X(U,"nextSibling")},prev:function(U){return X(U,"previousSibling")},nextAll:function(U){return N(U,"nextSibling")},prevAll:function(U){return N(U,"previousSibling")},nextUntil:function(U,oe,ge){return N(U,"nextSibling",ge)},prevUntil:function(U,oe,ge){return N(U,"previousSibling",ge)},siblings:function(U){return F((U.parentNode||{}).firstChild,U)},children:function(U){return F(U.firstChild)},contents:function(U){return U.contentDocument!=null&&c(U.contentDocument)?U.contentDocument:(w(U,"template")&&(U=U.content||U),C.merge([],U.childNodes))}},function(U,oe){C.fn[U]=function(ge,Ce){var Fe=C.map(this,oe,ge);return U.slice(-5)!=="Until"&&(Ce=ge),Ce&&typeof Ce=="string"&&(Fe=C.filter(Ce,Fe)),this.length>1&&(ee[U]||C.uniqueSort(Fe),q.test(U)&&Fe.reverse()),this.pushStack(Fe)}});var ce=/[^\x20\t\r\n\f]+/g;function fe(U){var oe={};return C.each(U.match(ce)||[],function(ge,Ce){oe[Ce]=!0}),oe}C.Callbacks=function(U){U=typeof U=="string"?fe(U):C.extend({},U);var oe,ge,Ce,Fe,Ve=[],Xe=[],Pt=-1,wt=function(){for(Fe=Fe||U.once,Ce=oe=!0;Xe.length;Pt=-1)for(ge=Xe.shift();++Pt<Ve.length;)Ve[Pt].apply(ge[0],ge[1])===!1&&U.stopOnFalse&&(Pt=Ve.length,ge=!1);U.memory||(ge=!1),oe=!1,Fe&&(ge?Ve=[]:Ve="")},Wt={add:function(){return Ve&&(ge&&!oe&&(Pt=Ve.length-1,Xe.push(ge)),function li(bi){C.each(bi,function(ti,ri){O(ri)?(!U.unique||!Wt.has(ri))&&Ve.push(ri):ri&&ri.length&&V(ri)!=="string"&&li(ri)})}(arguments),ge&&!oe&&wt()),this},remove:function(){return C.each(arguments,function(li,bi){for(var ti;(ti=C.inArray(bi,Ve,ti))>-1;)Ve.splice(ti,1),ti<=Pt&&Pt--}),this},has:function(li){return li?C.inArray(li,Ve)>-1:Ve.length>0},empty:function(){return Ve&&(Ve=[]),this},disable:function(){return Fe=Xe=[],Ve=ge="",this},disabled:function(){return!Ve},lock:function(){return Fe=Xe=[],!ge&&!oe&&(Ve=ge=""),this},locked:function(){return!!Fe},fireWith:function(li,bi){return Fe||(bi=bi||[],bi=[li,bi.slice?bi.slice():bi],Xe.push(bi),oe||wt()),this},fire:function(){return Wt.fireWith(this,arguments),this},fired:function(){return!!Ce}};return Wt};function Te(U){return U}function Z(U){throw U}function re(U,oe,ge,Ce){var Fe;try{U&&O(Fe=U.promise)?Fe.call(U).done(oe).fail(ge):U&&O(Fe=U.then)?Fe.call(U,oe,ge):oe.apply(void 0,[U].slice(Ce))}catch(Ve){ge.apply(void 0,[Ve])}}C.extend({Deferred:function(U){var oe=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],ge="pending",Ce={state:function(){return ge},always:function(){return Fe.done(arguments).fail(arguments),this},catch:function(Ve){return Ce.then(null,Ve)},pipe:function(){var Ve=arguments;return C.Deferred(function(Xe){C.each(oe,function(Pt,wt){var Wt=O(Ve[wt[4]])&&Ve[wt[4]];Fe[wt[1]](function(){var li=Wt&&Wt.apply(this,arguments);li&&O(li.promise)?li.promise().progress(Xe.notify).done(Xe.resolve).fail(Xe.reject):Xe[wt[0]+"With"](this,Wt?[li]:arguments)})}),Ve=null}).promise()},then:function(Ve,Xe,Pt){var wt=0;function Wt(li,bi,ti,ri){return function(){var zi=this,In=arguments,tn=function(){var Ds,Yn;if(!(li<wt)){if(Ds=ti.apply(zi,In),Ds===bi.promise())throw new TypeError("Thenable self-resolution");Yn=Ds&&(typeof Ds=="object"||typeof Ds=="function")&&Ds.then,O(Yn)?ri?Yn.call(Ds,Wt(wt,bi,Te,ri),Wt(wt,bi,Z,ri)):(wt++,Yn.call(Ds,Wt(wt,bi,Te,ri),Wt(wt,bi,Z,ri),Wt(wt,bi,Te,bi.notifyWith))):(ti!==Te&&(zi=void 0,In=[Ds]),(ri||bi.resolveWith)(zi,In))}},Ws=ri?tn:function(){try{tn()}catch(Ds){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(Ds,Ws.stackTrace),li+1>=wt&&(ti!==Z&&(zi=void 0,In=[Ds]),bi.rejectWith(zi,In))}};li?Ws():(C.Deferred.getStackHook&&(Ws.stackTrace=C.Deferred.getStackHook()),t.setTimeout(Ws))}}return C.Deferred(function(li){oe[0][3].add(Wt(0,li,O(Pt)?Pt:Te,li.notifyWith)),oe[1][3].add(Wt(0,li,O(Ve)?Ve:Te)),oe[2][3].add(Wt(0,li,O(Xe)?Xe:Z))}).promise()},promise:function(Ve){return Ve!=null?C.extend(Ve,Ce):Ce}},Fe={};return C.each(oe,function(Ve,Xe){var Pt=Xe[2],wt=Xe[5];Ce[Xe[1]]=Pt.add,wt&&Pt.add(function(){ge=wt},oe[3-Ve][2].disable,oe[3-Ve][3].disable,oe[0][2].lock,oe[0][3].lock),Pt.add(Xe[3].fire),Fe[Xe[0]]=function(){return Fe[Xe[0]+"With"](this===Fe?void 0:this,arguments),this},Fe[Xe[0]+"With"]=Pt.fireWith}),Ce.promise(Fe),U&&U.call(Fe,Fe),Fe},when:function(U){var oe=arguments.length,ge=oe,Ce=Array(ge),Fe=d.call(arguments),Ve=C.Deferred(),Xe=function(Pt){return function(wt){Ce[Pt]=this,Fe[Pt]=arguments.length>1?d.call(arguments):wt,--oe||Ve.resolveWith(Ce,Fe)}};if(oe<=1&&(re(U,Ve.done(Xe(ge)).resolve,Ve.reject,!oe),Ve.state()==="pending"||O(Fe[ge]&&Fe[ge].then)))return Ve.then();for(;ge--;)re(Fe[ge],Xe(ge),Ve.reject);return Ve.promise()}});var ue=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(U,oe){t.console&&t.console.warn&&U&&ue.test(U.name)&&t.console.warn("jQuery.Deferred exception: "+U.message,U.stack,oe)},C.readyException=function(U){t.setTimeout(function(){throw U})};var ye=C.Deferred();C.fn.ready=function(U){return ye.then(U).catch(function(oe){C.readyException(oe)}),this},C.extend({isReady:!1,readyWait:1,ready:function(U){(U===!0?--C.readyWait:C.isReady)||(C.isReady=!0,!(U!==!0&&--C.readyWait>0)&&ye.resolveWith(M,[C]))}}),C.ready.then=ye.then;function Ie(){M.removeEventListener("DOMContentLoaded",Ie),t.removeEventListener("load",Ie),C.ready()}M.readyState==="complete"||M.readyState!=="loading"&&!M.documentElement.doScroll?t.setTimeout(C.ready):(M.addEventListener("DOMContentLoaded",Ie),t.addEventListener("load",Ie));var ae=function(U,oe,ge,Ce,Fe,Ve,Xe){var Pt=0,wt=U.length,Wt=ge==null;if(V(ge)==="object"){Fe=!0;for(Pt in ge)ae(U,oe,Pt,ge[Pt],!0,Ve,Xe)}else if(Ce!==void 0&&(Fe=!0,O(Ce)||(Xe=!0),Wt&&(Xe?(oe.call(U,Ce),oe=null):(Wt=oe,oe=function(li,bi,ti){return Wt.call(C(li),ti)})),oe))for(;Pt<wt;Pt++)oe(U[Pt],ge,Xe?Ce:Ce.call(U[Pt],Pt,oe(U[Pt],ge)));return Fe?U:Wt?oe.call(U):wt?oe(U[0],ge):Ve},be=/^-ms-/,xe=/-([a-z])/g;function le(U,oe){return oe.toUpperCase()}function me(U){return U.replace(be,"ms-").replace(xe,le)}var Se=function(U){return U.nodeType===1||U.nodeType===9||!+U.nodeType};function Oe(){this.expando=C.expando+Oe.uid++}Oe.uid=1,Oe.prototype={cache:function(U){var oe=U[this.expando];return oe||(oe={},Se(U)&&(U.nodeType?U[this.expando]=oe:Object.defineProperty(U,this.expando,{value:oe,configurable:!0}))),oe},set:function(U,oe,ge){var Ce,Fe=this.cache(U);if(typeof oe=="string")Fe[me(oe)]=ge;else for(Ce in oe)Fe[me(Ce)]=oe[Ce];return Fe},get:function(U,oe){return oe===void 0?this.cache(U):U[this.expando]&&U[this.expando][me(oe)]},access:function(U,oe,ge){return oe===void 0||oe&&typeof oe=="string"&&ge===void 0?this.get(U,oe):(this.set(U,oe,ge),ge!==void 0?ge:oe)},remove:function(U,oe){var ge,Ce=U[this.expando];if(Ce!==void 0){if(oe!==void 0)for(Array.isArray(oe)?oe=oe.map(me):(oe=me(oe),oe=oe in Ce?[oe]:oe.match(ce)||[]),ge=oe.length;ge--;)delete Ce[oe[ge]];(oe===void 0||C.isEmptyObject(Ce))&&(U.nodeType?U[this.expando]=void 0:delete U[this.expando])}},hasData:function(U){var oe=U[this.expando];return oe!==void 0&&!C.isEmptyObject(oe)}};var Le=new Oe,Ue=new Oe,lt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,it=/[A-Z]/g;function pt(U){return U==="true"?!0:U==="false"?!1:U==="null"?null:U===+U+""?+U:lt.test(U)?JSON.parse(U):U}function De(U,oe,ge){var Ce;if(ge===void 0&&U.nodeType===1)if(Ce="data-"+oe.replace(it,"-$&").toLowerCase(),ge=U.getAttribute(Ce),typeof ge=="string"){try{ge=pt(ge)}catch{}Ue.set(U,oe,ge)}else ge=void 0;return ge}C.extend({hasData:function(U){return Ue.hasData(U)||Le.hasData(U)},data:function(U,oe,ge){return Ue.access(U,oe,ge)},removeData:function(U,oe){Ue.remove(U,oe)},_data:function(U,oe,ge){return Le.access(U,oe,ge)},_removeData:function(U,oe){Le.remove(U,oe)}}),C.fn.extend({data:function(U,oe){var ge,Ce,Fe,Ve=this[0],Xe=Ve&&Ve.attributes;if(U===void 0){if(this.length&&(Fe=Ue.get(Ve),Ve.nodeType===1&&!Le.get(Ve,"hasDataAttrs"))){for(ge=Xe.length;ge--;)Xe[ge]&&(Ce=Xe[ge].name,Ce.indexOf("data-")===0&&(Ce=me(Ce.slice(5)),De(Ve,Ce,Fe[Ce])));Le.set(Ve,"hasDataAttrs",!0)}return Fe}return typeof U=="object"?this.each(function(){Ue.set(this,U)}):ae(this,function(Pt){var wt;if(Ve&&Pt===void 0)return wt=Ue.get(Ve,U),wt!==void 0||(wt=De(Ve,U),wt!==void 0)?wt:void 0;this.each(function(){Ue.set(this,U,Pt)})},null,oe,arguments.length>1,null,!0)},removeData:function(U){return this.each(function(){Ue.remove(this,U)})}}),C.extend({queue:function(U,oe,ge){var Ce;if(U)return oe=(oe||"fx")+"queue",Ce=Le.get(U,oe),ge&&(!Ce||Array.isArray(ge)?Ce=Le.access(U,oe,C.makeArray(ge)):Ce.push(ge)),Ce||[]},dequeue:function(U,oe){oe=oe||"fx";var ge=C.queue(U,oe),Ce=ge.length,Fe=ge.shift(),Ve=C._queueHooks(U,oe),Xe=function(){C.dequeue(U,oe)};Fe==="inprogress"&&(Fe=ge.shift(),Ce--),Fe&&(oe==="fx"&&ge.unshift("inprogress"),delete Ve.stop,Fe.call(U,Xe,Ve)),!Ce&&Ve&&Ve.empty.fire()},_queueHooks:function(U,oe){var ge=oe+"queueHooks";return Le.get(U,ge)||Le.access(U,ge,{empty:C.Callbacks("once memory").add(function(){Le.remove(U,[oe+"queue",ge])})})}}),C.fn.extend({queue:function(U,oe){var ge=2;return typeof U!="string"&&(oe=U,U="fx",ge--),arguments.length<ge?C.queue(this[0],U):oe===void 0?this:this.each(function(){var Ce=C.queue(this,U,oe);C._queueHooks(this,U),U==="fx"&&Ce[0]!=="inprogress"&&C.dequeue(this,U)})},dequeue:function(U){return this.each(function(){C.dequeue(this,U)})},clearQueue:function(U){return this.queue(U||"fx",[])},promise:function(U,oe){var ge,Ce=1,Fe=C.Deferred(),Ve=this,Xe=this.length,Pt=function(){--Ce||Fe.resolveWith(Ve,[Ve])};for(typeof U!="string"&&(oe=U,U=void 0),U=U||"fx";Xe--;)ge=Le.get(Ve[Xe],U+"queueHooks"),ge&&ge.empty&&(Ce++,ge.empty.add(Pt));return Pt(),Fe.promise(oe)}});var ze=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ge=new RegExp("^(?:([+-])=|)("+ze+")([a-z%]*)$","i"),Ye=["Top","Right","Bottom","Left"],at=M.documentElement,gt=function(U){return C.contains(U.ownerDocument,U)},Ut={composed:!0};at.getRootNode&&(gt=function(U){return C.contains(U.ownerDocument,U)||U.getRootNode(Ut)===U.ownerDocument});var Gt=function(U,oe){return U=oe||U,U.style.display==="none"||U.style.display===""&&gt(U)&&C.css(U,"display")==="none"};function wi(U,oe,ge,Ce){var Fe,Ve,Xe=20,Pt=Ce?function(){return Ce.cur()}:function(){return C.css(U,oe,"")},wt=Pt(),Wt=ge&&ge[3]||(C.cssNumber[oe]?"":"px"),li=U.nodeType&&(C.cssNumber[oe]||Wt!=="px"&&+wt)&&Ge.exec(C.css(U,oe));if(li&&li[3]!==Wt){for(wt=wt/2,Wt=Wt||li[3],li=+wt||1;Xe--;)C.style(U,oe,li+Wt),(1-Ve)*(1-(Ve=Pt()/wt||.5))<=0&&(Xe=0),li=li/Ve;li=li*2,C.style(U,oe,li+Wt),ge=ge||[]}return ge&&(li=+li||+wt||0,Fe=ge[1]?li+(ge[1]+1)*ge[2]:+ge[2],Ce&&(Ce.unit=Wt,Ce.start=li,Ce.end=Fe)),Fe}var Qt={};function Ti(U){var oe,ge=U.ownerDocument,Ce=U.nodeName,Fe=Qt[Ce];return Fe||(oe=ge.body.appendChild(ge.createElement(Ce)),Fe=C.css(oe,"display"),oe.parentNode.removeChild(oe),Fe==="none"&&(Fe="block"),Qt[Ce]=Fe,Fe)}function Ki(U,oe){for(var ge,Ce,Fe=[],Ve=0,Xe=U.length;Ve<Xe;Ve++)Ce=U[Ve],Ce.style&&(ge=Ce.style.display,oe?(ge==="none"&&(Fe[Ve]=Le.get(Ce,"display")||null,Fe[Ve]||(Ce.style.display="")),Ce.style.display===""&&Gt(Ce)&&(Fe[Ve]=Ti(Ce))):ge!=="none"&&(Fe[Ve]="none",Le.set(Ce,"display",ge)));for(Ve=0;Ve<Xe;Ve++)Fe[Ve]!=null&&(U[Ve].style.display=Fe[Ve]);return U}C.fn.extend({show:function(){return Ki(this,!0)},hide:function(){return Ki(this)},toggle:function(U){return typeof U=="boolean"?U?this.show():this.hide():this.each(function(){Gt(this)?C(this).show():C(this).hide()})}});var Ni=/^(?:checkbox|radio)$/i,Xi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Gi=/^$|^module$|\/(?:java|ecma)script/i;(function(){var U=M.createDocumentFragment(),oe=U.appendChild(M.createElement("div")),ge=M.createElement("input");ge.setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),oe.appendChild(ge),I.checkClone=oe.cloneNode(!0).cloneNode(!0).lastChild.checked,oe.innerHTML="<textarea>x</textarea>",I.noCloneChecked=!!oe.cloneNode(!0).lastChild.defaultValue,oe.innerHTML="<option></option>",I.option=!!oe.lastChild})();var xn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};xn.tbody=xn.tfoot=xn.colgroup=xn.caption=xn.thead,xn.th=xn.td,I.option||(xn.optgroup=xn.option=[1,"<select multiple='multiple'>","</select>"]);function kn(U,oe){var ge;return typeof U.getElementsByTagName<"u"?ge=U.getElementsByTagName(oe||"*"):typeof U.querySelectorAll<"u"?ge=U.querySelectorAll(oe||"*"):ge=[],oe===void 0||oe&&w(U,oe)?C.merge([U],ge):ge}function qn(U,oe){for(var ge=0,Ce=U.length;ge<Ce;ge++)Le.set(U[ge],"globalEval",!oe||Le.get(oe[ge],"globalEval"))}var Tr=/<|&#?\w+;/;function fs(U,oe,ge,Ce,Fe){for(var Ve,Xe,Pt,wt,Wt,li,bi=oe.createDocumentFragment(),ti=[],ri=0,zi=U.length;ri<zi;ri++)if(Ve=U[ri],Ve||Ve===0)if(V(Ve)==="object")C.merge(ti,Ve.nodeType?[Ve]:Ve);else if(!Tr.test(Ve))ti.push(oe.createTextNode(Ve));else{for(Xe=Xe||bi.appendChild(oe.createElement("div")),Pt=(Xi.exec(Ve)||["",""])[1].toLowerCase(),wt=xn[Pt]||xn._default,Xe.innerHTML=wt[1]+C.htmlPrefilter(Ve)+wt[2],li=wt[0];li--;)Xe=Xe.lastChild;C.merge(ti,Xe.childNodes),Xe=bi.firstChild,Xe.textContent=""}for(bi.textContent="",ri=0;Ve=ti[ri++];){if(Ce&&C.inArray(Ve,Ce)>-1){Fe&&Fe.push(Ve);continue}if(Wt=gt(Ve),Xe=kn(bi.appendChild(Ve),"script"),Wt&&qn(Xe),ge)for(li=0;Ve=Xe[li++];)Gi.test(Ve.type||"")&&ge.push(Ve)}return bi}var Bs=/^([^.]*)(?:\.(.+)|)/;function Ji(){return!0}function va(){return!1}function kl(U,oe){return U===sl()==(oe==="focus")}function sl(){try{return M.activeElement}catch{}}function La(U,oe,ge,Ce,Fe,Ve){var Xe,Pt;if(typeof oe=="object"){typeof ge!="string"&&(Ce=Ce||ge,ge=void 0);for(Pt in oe)La(U,Pt,ge,Ce,oe[Pt],Ve);return U}if(Ce==null&&Fe==null?(Fe=ge,Ce=ge=void 0):Fe==null&&(typeof ge=="string"?(Fe=Ce,Ce=void 0):(Fe=Ce,Ce=ge,ge=void 0)),Fe===!1)Fe=va;else if(!Fe)return U;return Ve===1&&(Xe=Fe,Fe=function(wt){return C().off(wt),Xe.apply(this,arguments)},Fe.guid=Xe.guid||(Xe.guid=C.guid++)),U.each(function(){C.event.add(this,oe,Fe,Ce,ge)})}C.event={global:{},add:function(U,oe,ge,Ce,Fe){var Ve,Xe,Pt,wt,Wt,li,bi,ti,ri,zi,In,tn=Le.get(U);if(Se(U))for(ge.handler&&(Ve=ge,ge=Ve.handler,Fe=Ve.selector),Fe&&C.find.matchesSelector(at,Fe),ge.guid||(ge.guid=C.guid++),(wt=tn.events)||(wt=tn.events=Object.create(null)),(Xe=tn.handle)||(Xe=tn.handle=function(Ws){return typeof C<"u"&&C.event.triggered!==Ws.type?C.event.dispatch.apply(U,arguments):void 0}),oe=(oe||"").match(ce)||[""],Wt=oe.length;Wt--;)Pt=Bs.exec(oe[Wt])||[],ri=In=Pt[1],zi=(Pt[2]||"").split(".").sort(),ri&&(bi=C.event.special[ri]||{},ri=(Fe?bi.delegateType:bi.bindType)||ri,bi=C.event.special[ri]||{},li=C.extend({type:ri,origType:In,data:Ce,handler:ge,guid:ge.guid,selector:Fe,needsContext:Fe&&C.expr.match.needsContext.test(Fe),namespace:zi.join(".")},Ve),(ti=wt[ri])||(ti=wt[ri]=[],ti.delegateCount=0,(!bi.setup||bi.setup.call(U,Ce,zi,Xe)===!1)&&U.addEventListener&&U.addEventListener(ri,Xe)),bi.add&&(bi.add.call(U,li),li.handler.guid||(li.handler.guid=ge.guid)),Fe?ti.splice(ti.delegateCount++,0,li):ti.push(li),C.event.global[ri]=!0)},remove:function(U,oe,ge,Ce,Fe){var Ve,Xe,Pt,wt,Wt,li,bi,ti,ri,zi,In,tn=Le.hasData(U)&&Le.get(U);if(!(!tn||!(wt=tn.events))){for(oe=(oe||"").match(ce)||[""],Wt=oe.length;Wt--;){if(Pt=Bs.exec(oe[Wt])||[],ri=In=Pt[1],zi=(Pt[2]||"").split(".").sort(),!ri){for(ri in wt)C.event.remove(U,ri+oe[Wt],ge,Ce,!0);continue}for(bi=C.event.special[ri]||{},ri=(Ce?bi.delegateType:bi.bindType)||ri,ti=wt[ri]||[],Pt=Pt[2]&&new RegExp("(^|\\.)"+zi.join("\\.(?:.*\\.|)")+"(\\.|$)"),Xe=Ve=ti.length;Ve--;)li=ti[Ve],(Fe||In===li.origType)&&(!ge||ge.guid===li.guid)&&(!Pt||Pt.test(li.namespace))&&(!Ce||Ce===li.selector||Ce==="**"&&li.selector)&&(ti.splice(Ve,1),li.selector&&ti.delegateCount--,bi.remove&&bi.remove.call(U,li));Xe&&!ti.length&&((!bi.teardown||bi.teardown.call(U,zi,tn.handle)===!1)&&C.removeEvent(U,ri,tn.handle),delete wt[ri])}C.isEmptyObject(wt)&&Le.remove(U,"handle events")}},dispatch:function(U){var oe,ge,Ce,Fe,Ve,Xe,Pt=new Array(arguments.length),wt=C.event.fix(U),Wt=(Le.get(this,"events")||Object.create(null))[wt.type]||[],li=C.event.special[wt.type]||{};for(Pt[0]=wt,oe=1;oe<arguments.length;oe++)Pt[oe]=arguments[oe];if(wt.delegateTarget=this,!(li.preDispatch&&li.preDispatch.call(this,wt)===!1)){for(Xe=C.event.handlers.call(this,wt,Wt),oe=0;(Fe=Xe[oe++])&&!wt.isPropagationStopped();)for(wt.currentTarget=Fe.elem,ge=0;(Ve=Fe.handlers[ge++])&&!wt.isImmediatePropagationStopped();)(!wt.rnamespace||Ve.namespace===!1||wt.rnamespace.test(Ve.namespace))&&(wt.handleObj=Ve,wt.data=Ve.data,Ce=((C.event.special[Ve.origType]||{}).handle||Ve.handler).apply(Fe.elem,Pt),Ce!==void 0&&(wt.result=Ce)===!1&&(wt.preventDefault(),wt.stopPropagation()));return li.postDispatch&&li.postDispatch.call(this,wt),wt.result}},handlers:function(U,oe){var ge,Ce,Fe,Ve,Xe,Pt=[],wt=oe.delegateCount,Wt=U.target;if(wt&&Wt.nodeType&&!(U.type==="click"&&U.button>=1)){for(;Wt!==this;Wt=Wt.parentNode||this)if(Wt.nodeType===1&&!(U.type==="click"&&Wt.disabled===!0)){for(Ve=[],Xe={},ge=0;ge<wt;ge++)Ce=oe[ge],Fe=Ce.selector+" ",Xe[Fe]===void 0&&(Xe[Fe]=Ce.needsContext?C(Fe,this).index(Wt)>-1:C.find(Fe,this,null,[Wt]).length),Xe[Fe]&&Ve.push(Ce);Ve.length&&Pt.push({elem:Wt,handlers:Ve})}}return Wt=this,wt<oe.length&&Pt.push({elem:Wt,handlers:oe.slice(wt)}),Pt},addProp:function(U,oe){Object.defineProperty(C.Event.prototype,U,{enumerable:!0,configurable:!0,get:O(oe)?function(){if(this.originalEvent)return oe(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[U]},set:function(ge){Object.defineProperty(this,U,{enumerable:!0,configurable:!0,writable:!0,value:ge})}})},fix:function(U){return U[C.expando]?U:new C.Event(U)},special:{load:{noBubble:!0},click:{setup:function(U){var oe=this||U;return Ni.test(oe.type)&&oe.click&&w(oe,"input")&&ur(oe,"click",Ji),!1},trigger:function(U){var oe=this||U;return Ni.test(oe.type)&&oe.click&&w(oe,"input")&&ur(oe,"click"),!0},_default:function(U){var oe=U.target;return Ni.test(oe.type)&&oe.click&&w(oe,"input")&&Le.get(oe,"click")||w(oe,"a")}},beforeunload:{postDispatch:function(U){U.result!==void 0&&U.originalEvent&&(U.originalEvent.returnValue=U.result)}}}};function ur(U,oe,ge){if(!ge){Le.get(U,oe)===void 0&&C.event.add(U,oe,Ji);return}Le.set(U,oe,!1),C.event.add(U,oe,{namespace:!1,handler:function(Ce){var Fe,Ve,Xe=Le.get(this,oe);if(Ce.isTrigger&1&&this[oe]){if(Xe.length)(C.event.special[oe]||{}).delegateType&&Ce.stopPropagation();else if(Xe=d.call(arguments),Le.set(this,oe,Xe),Fe=ge(this,oe),this[oe](),Ve=Le.get(this,oe),Xe!==Ve||Fe?Le.set(this,oe,!1):Ve={},Xe!==Ve)return Ce.stopImmediatePropagation(),Ce.preventDefault(),Ve&&Ve.value}else Xe.length&&(Le.set(this,oe,{value:C.event.trigger(C.extend(Xe[0],C.Event.prototype),Xe.slice(1),this)}),Ce.stopImmediatePropagation())}})}C.removeEvent=function(U,oe,ge){U.removeEventListener&&U.removeEventListener(oe,ge)},C.Event=function(U,oe){if(!(this instanceof C.Event))return new C.Event(U,oe);U&&U.type?(this.originalEvent=U,this.type=U.type,this.isDefaultPrevented=U.defaultPrevented||U.defaultPrevented===void 0&&U.returnValue===!1?Ji:va,this.target=U.target&&U.target.nodeType===3?U.target.parentNode:U.target,this.currentTarget=U.currentTarget,this.relatedTarget=U.relatedTarget):this.type=U,oe&&C.extend(this,oe),this.timeStamp=U&&U.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:va,isPropagationStopped:va,isImmediatePropagationStopped:va,isSimulated:!1,preventDefault:function(){var U=this.originalEvent;this.isDefaultPrevented=Ji,U&&!this.isSimulated&&U.preventDefault()},stopPropagation:function(){var U=this.originalEvent;this.isPropagationStopped=Ji,U&&!this.isSimulated&&U.stopPropagation()},stopImmediatePropagation:function(){var U=this.originalEvent;this.isImmediatePropagationStopped=Ji,U&&!this.isSimulated&&U.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(U,oe){C.event.special[U]={setup:function(){return ur(this,U,kl),!1},trigger:function(){return ur(this,U),!0},_default:function(ge){return Le.get(ge.target,U)},delegateType:oe}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(U,oe){C.event.special[U]={delegateType:oe,bindType:oe,handle:function(ge){var Ce,Fe=this,Ve=ge.relatedTarget,Xe=ge.handleObj;return(!Ve||Ve!==Fe&&!C.contains(Fe,Ve))&&(ge.type=Xe.origType,Ce=Xe.handler.apply(this,arguments),ge.type=oe),Ce}}}),C.fn.extend({on:function(U,oe,ge,Ce){return La(this,U,oe,ge,Ce)},one:function(U,oe,ge,Ce){return La(this,U,oe,ge,Ce,1)},off:function(U,oe,ge){var Ce,Fe;if(U&&U.preventDefault&&U.handleObj)return Ce=U.handleObj,C(U.delegateTarget).off(Ce.namespace?Ce.origType+"."+Ce.namespace:Ce.origType,Ce.selector,Ce.handler),this;if(typeof U=="object"){for(Fe in U)this.off(Fe,oe,U[Fe]);return this}return(oe===!1||typeof oe=="function")&&(ge=oe,oe=void 0),ge===!1&&(ge=va),this.each(function(){C.event.remove(this,U,ge,oe)})}});var Oa=/<script|<style|<link/i,ic=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Be(U,oe){return w(U,"table")&&w(oe.nodeType!==11?oe:oe.firstChild,"tr")&&C(U).children("tbody")[0]||U}function $e(U){return U.type=(U.getAttribute("type")!==null)+"/"+U.type,U}function ct(U){return(U.type||"").slice(0,5)==="true/"?U.type=U.type.slice(5):U.removeAttribute("type"),U}function _t(U,oe){var ge,Ce,Fe,Ve,Xe,Pt,wt;if(oe.nodeType===1){if(Le.hasData(U)&&(Ve=Le.get(U),wt=Ve.events,wt)){Le.remove(oe,"handle events");for(Fe in wt)for(ge=0,Ce=wt[Fe].length;ge<Ce;ge++)C.event.add(oe,Fe,wt[Fe][ge])}Ue.hasData(U)&&(Xe=Ue.access(U),Pt=C.extend({},Xe),Ue.set(oe,Pt))}}function kt(U,oe){var ge=oe.nodeName.toLowerCase();ge==="input"&&Ni.test(U.type)?oe.checked=U.checked:(ge==="input"||ge==="textarea")&&(oe.defaultValue=U.defaultValue)}function Rt(U,oe,ge,Ce){oe=m(oe);var Fe,Ve,Xe,Pt,wt,Wt,li=0,bi=U.length,ti=bi-1,ri=oe[0],zi=O(ri);if(zi||bi>1&&typeof ri=="string"&&!I.checkClone&&ic.test(ri))return U.each(function(In){var tn=U.eq(In);zi&&(oe[0]=ri.call(this,In,tn.html())),Rt(tn,oe,ge,Ce)});if(bi&&(Fe=fs(oe,U[0].ownerDocument,!1,U,Ce),Ve=Fe.firstChild,Fe.childNodes.length===1&&(Fe=Ve),Ve||Ce)){for(Xe=C.map(kn(Fe,"script"),$e),Pt=Xe.length;li<bi;li++)wt=Fe,li!==ti&&(wt=C.clone(wt,!0,!0),Pt&&C.merge(Xe,kn(wt,"script"))),ge.call(U[li],wt,li);if(Pt)for(Wt=Xe[Xe.length-1].ownerDocument,C.map(Xe,ct),li=0;li<Pt;li++)wt=Xe[li],Gi.test(wt.type||"")&&!Le.access(wt,"globalEval")&&C.contains(Wt,wt)&&(wt.src&&(wt.type||"").toLowerCase()!=="module"?C._evalUrl&&!wt.noModule&&C._evalUrl(wt.src,{nonce:wt.nonce||wt.getAttribute("nonce")},Wt):k(wt.textContent.replace(dt,""),wt,Wt))}return U}function Ft(U,oe,ge){for(var Ce,Fe=oe?C.filter(oe,U):U,Ve=0;(Ce=Fe[Ve])!=null;Ve++)!ge&&Ce.nodeType===1&&C.cleanData(kn(Ce)),Ce.parentNode&&(ge&&gt(Ce)&&qn(kn(Ce,"script")),Ce.parentNode.removeChild(Ce));return U}C.extend({htmlPrefilter:function(U){return U},clone:function(U,oe,ge){var Ce,Fe,Ve,Xe,Pt=U.cloneNode(!0),wt=gt(U);if(!I.noCloneChecked&&(U.nodeType===1||U.nodeType===11)&&!C.isXMLDoc(U))for(Xe=kn(Pt),Ve=kn(U),Ce=0,Fe=Ve.length;Ce<Fe;Ce++)kt(Ve[Ce],Xe[Ce]);if(oe)if(ge)for(Ve=Ve||kn(U),Xe=Xe||kn(Pt),Ce=0,Fe=Ve.length;Ce<Fe;Ce++)_t(Ve[Ce],Xe[Ce]);else _t(U,Pt);return Xe=kn(Pt,"script"),Xe.length>0&&qn(Xe,!wt&&kn(U,"script")),Pt},cleanData:function(U){for(var oe,ge,Ce,Fe=C.event.special,Ve=0;(ge=U[Ve])!==void 0;Ve++)if(Se(ge)){if(oe=ge[Le.expando]){if(oe.events)for(Ce in oe.events)Fe[Ce]?C.event.remove(ge,Ce):C.removeEvent(ge,Ce,oe.handle);ge[Le.expando]=void 0}ge[Ue.expando]&&(ge[Ue.expando]=void 0)}}}),C.fn.extend({detach:function(U){return Ft(this,U,!0)},remove:function(U){return Ft(this,U)},text:function(U){return ae(this,function(oe){return oe===void 0?C.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=oe)})},null,U,arguments.length)},append:function(){return Rt(this,arguments,function(U){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var oe=Be(this,U);oe.appendChild(U)}})},prepend:function(){return Rt(this,arguments,function(U){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var oe=Be(this,U);oe.insertBefore(U,oe.firstChild)}})},before:function(){return Rt(this,arguments,function(U){this.parentNode&&this.parentNode.insertBefore(U,this)})},after:function(){return Rt(this,arguments,function(U){this.parentNode&&this.parentNode.insertBefore(U,this.nextSibling)})},empty:function(){for(var U,oe=0;(U=this[oe])!=null;oe++)U.nodeType===1&&(C.cleanData(kn(U,!1)),U.textContent="");return this},clone:function(U,oe){return U=U??!1,oe=oe??U,this.map(function(){return C.clone(this,U,oe)})},html:function(U){return ae(this,function(oe){var ge=this[0]||{},Ce=0,Fe=this.length;if(oe===void 0&&ge.nodeType===1)return ge.innerHTML;if(typeof oe=="string"&&!Oa.test(oe)&&!xn[(Xi.exec(oe)||["",""])[1].toLowerCase()]){oe=C.htmlPrefilter(oe);try{for(;Ce<Fe;Ce++)ge=this[Ce]||{},ge.nodeType===1&&(C.cleanData(kn(ge,!1)),ge.innerHTML=oe);ge=0}catch{}}ge&&this.empty().append(oe)},null,U,arguments.length)},replaceWith:function(){var U=[];return Rt(this,arguments,function(oe){var ge=this.parentNode;C.inArray(this,U)<0&&(C.cleanData(kn(this)),ge&&ge.replaceChild(oe,this))},U)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(U,oe){C.fn[U]=function(ge){for(var Ce,Fe=[],Ve=C(ge),Xe=Ve.length-1,Pt=0;Pt<=Xe;Pt++)Ce=Pt===Xe?this:this.clone(!0),C(Ve[Pt])[oe](Ce),n.apply(Fe,Ce.get());return this.pushStack(Fe)}});var Dt=new RegExp("^("+ze+")(?!px)[a-z%]+$","i"),$t=/^--/,ui=function(U){var oe=U.ownerDocument.defaultView;return(!oe||!oe.opener)&&(oe=t),oe.getComputedStyle(U)},Fi=function(U,oe,ge){var Ce,Fe,Ve={};for(Fe in oe)Ve[Fe]=U.style[Fe],U.style[Fe]=oe[Fe];Ce=ge.call(U);for(Fe in oe)U.style[Fe]=Ve[Fe];return Ce},Ei=new RegExp(Ye.join("|"),"i"),fn="[\\x20\\t\\r\\n\\f]",pn=new RegExp("^"+fn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+fn+"+$","g");(function(){function U(){if(Wt){wt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Wt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(wt).appendChild(Wt);var li=t.getComputedStyle(Wt);ge=li.top!=="1%",Pt=oe(li.marginLeft)===12,Wt.style.right="60%",Ve=oe(li.right)===36,Ce=oe(li.width)===36,Wt.style.position="absolute",Fe=oe(Wt.offsetWidth/3)===12,at.removeChild(wt),Wt=null}}function oe(li){return Math.round(parseFloat(li))}var ge,Ce,Fe,Ve,Xe,Pt,wt=M.createElement("div"),Wt=M.createElement("div");Wt.style&&(Wt.style.backgroundClip="content-box",Wt.cloneNode(!0).style.backgroundClip="",I.clearCloneStyle=Wt.style.backgroundClip==="content-box",C.extend(I,{boxSizingReliable:function(){return U(),Ce},pixelBoxStyles:function(){return U(),Ve},pixelPosition:function(){return U(),ge},reliableMarginLeft:function(){return U(),Pt},scrollboxSize:function(){return U(),Fe},reliableTrDimensions:function(){var li,bi,ti,ri;return Xe==null&&(li=M.createElement("table"),bi=M.createElement("tr"),ti=M.createElement("div"),li.style.cssText="position:absolute;left:-11111px;border-collapse:separate",bi.style.cssText="border:1px solid",bi.style.height="1px",ti.style.height="9px",ti.style.display="block",at.appendChild(li).appendChild(bi).appendChild(ti),ri=t.getComputedStyle(bi),Xe=parseInt(ri.height,10)+parseInt(ri.borderTopWidth,10)+parseInt(ri.borderBottomWidth,10)===bi.offsetHeight,at.removeChild(li)),Xe}}))})();function Qi(U,oe,ge){var Ce,Fe,Ve,Xe,Pt=$t.test(oe),wt=U.style;return ge=ge||ui(U),ge&&(Xe=ge.getPropertyValue(oe)||ge[oe],Pt&&Xe&&(Xe=Xe.replace(pn,"$1")||void 0),Xe===""&&!gt(U)&&(Xe=C.style(U,oe)),!I.pixelBoxStyles()&&Dt.test(Xe)&&Ei.test(oe)&&(Ce=wt.width,Fe=wt.minWidth,Ve=wt.maxWidth,wt.minWidth=wt.maxWidth=wt.width=Xe,Xe=ge.width,wt.width=Ce,wt.minWidth=Fe,wt.maxWidth=Ve)),Xe!==void 0?Xe+"":Xe}function Bi(U,oe){return{get:function(){if(U()){delete this.get;return}return(this.get=oe).apply(this,arguments)}}}var $n=["Webkit","Moz","ms"],cs=M.createElement("div").style,an={};function Ms(U){for(var oe=U[0].toUpperCase()+U.slice(1),ge=$n.length;ge--;)if(U=$n[ge]+oe,U in cs)return U}function ms(U){var oe=C.cssProps[U]||an[U];return oe||(U in cs?U:an[U]=Ms(U)||U)}var oa=/^(none|table(?!-c[ea]).+)/,aa={position:"absolute",visibility:"hidden",display:"block"},jr={letterSpacing:"0",fontWeight:"400"};function ai(U,oe,ge){var Ce=Ge.exec(oe);return Ce?Math.max(0,Ce[2]-(ge||0))+(Ce[3]||"px"):oe}function $s(U,oe,ge,Ce,Fe,Ve){var Xe=oe==="width"?1:0,Pt=0,wt=0;if(ge===(Ce?"border":"content"))return 0;for(;Xe<4;Xe+=2)ge==="margin"&&(wt+=C.css(U,ge+Ye[Xe],!0,Fe)),Ce?(ge==="content"&&(wt-=C.css(U,"padding"+Ye[Xe],!0,Fe)),ge!=="margin"&&(wt-=C.css(U,"border"+Ye[Xe]+"Width",!0,Fe))):(wt+=C.css(U,"padding"+Ye[Xe],!0,Fe),ge!=="padding"?wt+=C.css(U,"border"+Ye[Xe]+"Width",!0,Fe):Pt+=C.css(U,"border"+Ye[Xe]+"Width",!0,Fe));return!Ce&&Ve>=0&&(wt+=Math.max(0,Math.ceil(U["offset"+oe[0].toUpperCase()+oe.slice(1)]-Ve-wt-Pt-.5))||0),wt}function lr(U,oe,ge){var Ce=ui(U),Fe=!I.boxSizingReliable()||ge,Ve=Fe&&C.css(U,"boxSizing",!1,Ce)==="border-box",Xe=Ve,Pt=Qi(U,oe,Ce),wt="offset"+oe[0].toUpperCase()+oe.slice(1);if(Dt.test(Pt)){if(!ge)return Pt;Pt="auto"}return(!I.boxSizingReliable()&&Ve||!I.reliableTrDimensions()&&w(U,"tr")||Pt==="auto"||!parseFloat(Pt)&&C.css(U,"display",!1,Ce)==="inline")&&U.getClientRects().length&&(Ve=C.css(U,"boxSizing",!1,Ce)==="border-box",Xe=wt in U,Xe&&(Pt=U[wt])),Pt=parseFloat(Pt)||0,Pt+$s(U,oe,ge||(Ve?"border":"content"),Xe,Ce,Pt)+"px"}C.extend({cssHooks:{opacity:{get:function(U,oe){if(oe){var ge=Qi(U,"opacity");return ge===""?"1":ge}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(U,oe,ge,Ce){if(!(!U||U.nodeType===3||U.nodeType===8||!U.style)){var Fe,Ve,Xe,Pt=me(oe),wt=$t.test(oe),Wt=U.style;if(wt||(oe=ms(Pt)),Xe=C.cssHooks[oe]||C.cssHooks[Pt],ge!==void 0){if(Ve=typeof ge,Ve==="string"&&(Fe=Ge.exec(ge))&&Fe[1]&&(ge=wi(U,oe,Fe),Ve="number"),ge==null||ge!==ge)return;Ve==="number"&&!wt&&(ge+=Fe&&Fe[3]||(C.cssNumber[Pt]?"":"px")),!I.clearCloneStyle&&ge===""&&oe.indexOf("background")===0&&(Wt[oe]="inherit"),(!Xe||!("set"in Xe)||(ge=Xe.set(U,ge,Ce))!==void 0)&&(wt?Wt.setProperty(oe,ge):Wt[oe]=ge)}else return Xe&&"get"in Xe&&(Fe=Xe.get(U,!1,Ce))!==void 0?Fe:Wt[oe]}},css:function(U,oe,ge,Ce){var Fe,Ve,Xe,Pt=me(oe),wt=$t.test(oe);return wt||(oe=ms(Pt)),Xe=C.cssHooks[oe]||C.cssHooks[Pt],Xe&&"get"in Xe&&(Fe=Xe.get(U,!0,ge)),Fe===void 0&&(Fe=Qi(U,oe,Ce)),Fe==="normal"&&oe in jr&&(Fe=jr[oe]),ge===""||ge?(Ve=parseFloat(Fe),ge===!0||isFinite(Ve)?Ve||0:Fe):Fe}}),C.each(["height","width"],function(U,oe){C.cssHooks[oe]={get:function(ge,Ce,Fe){if(Ce)return oa.test(C.css(ge,"display"))&&(!ge.getClientRects().length||!ge.getBoundingClientRect().width)?Fi(ge,aa,function(){return lr(ge,oe,Fe)}):lr(ge,oe,Fe)},set:function(ge,Ce,Fe){var Ve,Xe=ui(ge),Pt=!I.scrollboxSize()&&Xe.position==="absolute",wt=Pt||Fe,Wt=wt&&C.css(ge,"boxSizing",!1,Xe)==="border-box",li=Fe?$s(ge,oe,Fe,Wt,Xe):0;return Wt&&Pt&&(li-=Math.ceil(ge["offset"+oe[0].toUpperCase()+oe.slice(1)]-parseFloat(Xe[oe])-$s(ge,oe,"border",!1,Xe)-.5)),li&&(Ve=Ge.exec(Ce))&&(Ve[3]||"px")!=="px"&&(ge.style[oe]=Ce,Ce=C.css(ge,oe)),ai(ge,Ce,li)}}}),C.cssHooks.marginLeft=Bi(I.reliableMarginLeft,function(U,oe){if(oe)return(parseFloat(Qi(U,"marginLeft"))||U.getBoundingClientRect().left-Fi(U,{marginLeft:0},function(){return U.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(U,oe){C.cssHooks[U+oe]={expand:function(ge){for(var Ce=0,Fe={},Ve=typeof ge=="string"?ge.split(" "):[ge];Ce<4;Ce++)Fe[U+Ye[Ce]+oe]=Ve[Ce]||Ve[Ce-2]||Ve[0];return Fe}},U!=="margin"&&(C.cssHooks[U+oe].set=ai)}),C.fn.extend({css:function(U,oe){return ae(this,function(ge,Ce,Fe){var Ve,Xe,Pt={},wt=0;if(Array.isArray(Ce)){for(Ve=ui(ge),Xe=Ce.length;wt<Xe;wt++)Pt[Ce[wt]]=C.css(ge,Ce[wt],!1,Ve);return Pt}return Fe!==void 0?C.style(ge,Ce,Fe):C.css(ge,Ce)},U,oe,arguments.length>1)}});function cr(U,oe,ge,Ce,Fe){return new cr.prototype.init(U,oe,ge,Ce,Fe)}C.Tween=cr,cr.prototype={constructor:cr,init:function(U,oe,ge,Ce,Fe,Ve){this.elem=U,this.prop=ge,this.easing=Fe||C.easing._default,this.options=oe,this.start=this.now=this.cur(),this.end=Ce,this.unit=Ve||(C.cssNumber[ge]?"":"px")},cur:function(){var U=cr.propHooks[this.prop];return U&&U.get?U.get(this):cr.propHooks._default.get(this)},run:function(U){var oe,ge=cr.propHooks[this.prop];return this.options.duration?this.pos=oe=C.easing[this.easing](U,this.options.duration*U,0,1,this.options.duration):this.pos=oe=U,this.now=(this.end-this.start)*oe+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),ge&&ge.set?ge.set(this):cr.propHooks._default.set(this),this}},cr.prototype.init.prototype=cr.prototype,cr.propHooks={_default:{get:function(U){var oe;return U.elem.nodeType!==1||U.elem[U.prop]!=null&&U.elem.style[U.prop]==null?U.elem[U.prop]:(oe=C.css(U.elem,U.prop,""),!oe||oe==="auto"?0:oe)},set:function(U){C.fx.step[U.prop]?C.fx.step[U.prop](U):U.elem.nodeType===1&&(C.cssHooks[U.prop]||U.elem.style[ms(U.prop)]!=null)?C.style(U.elem,U.prop,U.now+U.unit):U.elem[U.prop]=U.now}}},cr.propHooks.scrollTop=cr.propHooks.scrollLeft={set:function(U){U.elem.nodeType&&U.elem.parentNode&&(U.elem[U.prop]=U.now)}},C.easing={linear:function(U){return U},swing:function(U){return .5-Math.cos(U*Math.PI)/2},_default:"swing"},C.fx=cr.prototype.init,C.fx.step={};var Pl,Kr,nc=/^(?:toggle|show|hide)$/,uh=/queueHooks$/;function Or(){Kr&&(M.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Or):t.setTimeout(Or,C.fx.interval),C.fx.tick())}function ji(){return t.setTimeout(function(){Pl=void 0}),Pl=Date.now()}function Fn(U,oe){var ge,Ce=0,Fe={height:U};for(oe=oe?1:0;Ce<4;Ce+=2-oe)ge=Ye[Ce],Fe["margin"+ge]=Fe["padding"+ge]=U;return oe&&(Fe.opacity=Fe.width=U),Fe}function Wn(U,oe,ge){for(var Ce,Fe=(Tn.tweeners[oe]||[]).concat(Tn.tweeners["*"]),Ve=0,Xe=Fe.length;Ve<Xe;Ve++)if(Ce=Fe[Ve].call(ge,oe,U))return Ce}function yo(U,oe,ge){var Ce,Fe,Ve,Xe,Pt,wt,Wt,li,bi="width"in oe||"height"in oe,ti=this,ri={},zi=U.style,In=U.nodeType&&Gt(U),tn=Le.get(U,"fxshow");ge.queue||(Xe=C._queueHooks(U,"fx"),Xe.unqueued==null&&(Xe.unqueued=0,Pt=Xe.empty.fire,Xe.empty.fire=function(){Xe.unqueued||Pt()}),Xe.unqueued++,ti.always(function(){ti.always(function(){Xe.unqueued--,C.queue(U,"fx").length||Xe.empty.fire()})}));for(Ce in oe)if(Fe=oe[Ce],nc.test(Fe)){if(delete oe[Ce],Ve=Ve||Fe==="toggle",Fe===(In?"hide":"show"))if(Fe==="show"&&tn&&tn[Ce]!==void 0)In=!0;else continue;ri[Ce]=tn&&tn[Ce]||C.style(U,Ce)}if(wt=!C.isEmptyObject(oe),!(!wt&&C.isEmptyObject(ri))){bi&&U.nodeType===1&&(ge.overflow=[zi.overflow,zi.overflowX,zi.overflowY],Wt=tn&&tn.display,Wt==null&&(Wt=Le.get(U,"display")),li=C.css(U,"display"),li==="none"&&(Wt?li=Wt:(Ki([U],!0),Wt=U.style.display||Wt,li=C.css(U,"display"),Ki([U]))),(li==="inline"||li==="inline-block"&&Wt!=null)&&C.css(U,"float")==="none"&&(wt||(ti.done(function(){zi.display=Wt}),Wt==null&&(li=zi.display,Wt=li==="none"?"":li)),zi.display="inline-block")),ge.overflow&&(zi.overflow="hidden",ti.always(function(){zi.overflow=ge.overflow[0],zi.overflowX=ge.overflow[1],zi.overflowY=ge.overflow[2]})),wt=!1;for(Ce in ri)wt||(tn?"hidden"in tn&&(In=tn.hidden):tn=Le.access(U,"fxshow",{display:Wt}),Ve&&(tn.hidden=!In),In&&Ki([U],!0),ti.done(function(){In||Ki([U]),Le.remove(U,"fxshow");for(Ce in ri)C.style(U,Ce,ri[Ce])})),wt=Wn(In?tn[Ce]:0,Ce,ti),Ce in tn||(tn[Ce]=wt.start,In&&(wt.end=wt.start,wt.start=0))}}function la(U,oe){var ge,Ce,Fe,Ve,Xe;for(ge in U)if(Ce=me(ge),Fe=oe[Ce],Ve=U[ge],Array.isArray(Ve)&&(Fe=Ve[1],Ve=U[ge]=Ve[0]),ge!==Ce&&(U[Ce]=Ve,delete U[ge]),Xe=C.cssHooks[Ce],Xe&&"expand"in Xe){Ve=Xe.expand(Ve),delete U[Ce];for(ge in Ve)ge in U||(U[ge]=Ve[ge],oe[ge]=Fe)}else oe[Ce]=Fe}function Tn(U,oe,ge){var Ce,Fe,Ve=0,Xe=Tn.prefilters.length,Pt=C.Deferred().always(function(){delete wt.elem}),wt=function(){if(Fe)return!1;for(var bi=Pl||ji(),ti=Math.max(0,Wt.startTime+Wt.duration-bi),ri=ti/Wt.duration||0,zi=1-ri,In=0,tn=Wt.tweens.length;In<tn;In++)Wt.tweens[In].run(zi);return Pt.notifyWith(U,[Wt,zi,ti]),zi<1&&tn?ti:(tn||Pt.notifyWith(U,[Wt,1,0]),Pt.resolveWith(U,[Wt]),!1)},Wt=Pt.promise({elem:U,props:C.extend({},oe),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},ge),originalProperties:oe,originalOptions:ge,startTime:Pl||ji(),duration:ge.duration,tweens:[],createTween:function(bi,ti){var ri=C.Tween(U,Wt.opts,bi,ti,Wt.opts.specialEasing[bi]||Wt.opts.easing);return Wt.tweens.push(ri),ri},stop:function(bi){var ti=0,ri=bi?Wt.tweens.length:0;if(Fe)return this;for(Fe=!0;ti<ri;ti++)Wt.tweens[ti].run(1);return bi?(Pt.notifyWith(U,[Wt,1,0]),Pt.resolveWith(U,[Wt,bi])):Pt.rejectWith(U,[Wt,bi]),this}}),li=Wt.props;for(la(li,Wt.opts.specialEasing);Ve<Xe;Ve++)if(Ce=Tn.prefilters[Ve].call(Wt,U,li,Wt.opts),Ce)return O(Ce.stop)&&(C._queueHooks(Wt.elem,Wt.opts.queue).stop=Ce.stop.bind(Ce)),Ce;return C.map(li,Wn,Wt),O(Wt.opts.start)&&Wt.opts.start.call(U,Wt),Wt.progress(Wt.opts.progress).done(Wt.opts.done,Wt.opts.complete).fail(Wt.opts.fail).always(Wt.opts.always),C.fx.timer(C.extend(wt,{elem:U,anim:Wt,queue:Wt.opts.queue})),Wt}C.Animation=C.extend(Tn,{tweeners:{"*":[function(U,oe){var ge=this.createTween(U,oe);return wi(ge.elem,U,Ge.exec(oe),ge),ge}]},tweener:function(U,oe){O(U)?(oe=U,U=["*"]):U=U.match(ce);for(var ge,Ce=0,Fe=U.length;Ce<Fe;Ce++)ge=U[Ce],Tn.tweeners[ge]=Tn.tweeners[ge]||[],Tn.tweeners[ge].unshift(oe)},prefilters:[yo],prefilter:function(U,oe){oe?Tn.prefilters.unshift(U):Tn.prefilters.push(U)}}),C.speed=function(U,oe,ge){var Ce=U&&typeof U=="object"?C.extend({},U):{complete:ge||!ge&&oe||O(U)&&U,duration:U,easing:ge&&oe||oe&&!O(oe)&&oe};return C.fx.off?Ce.duration=0:typeof Ce.duration!="number"&&(Ce.duration in C.fx.speeds?Ce.duration=C.fx.speeds[Ce.duration]:Ce.duration=C.fx.speeds._default),(Ce.queue==null||Ce.queue===!0)&&(Ce.queue="fx"),Ce.old=Ce.complete,Ce.complete=function(){O(Ce.old)&&Ce.old.call(this),Ce.queue&&C.dequeue(this,Ce.queue)},Ce},C.fn.extend({fadeTo:function(U,oe,ge,Ce){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:oe},U,ge,Ce)},animate:function(U,oe,ge,Ce){var Fe=C.isEmptyObject(U),Ve=C.speed(oe,ge,Ce),Xe=function(){var Pt=Tn(this,C.extend({},U),Ve);(Fe||Le.get(this,"finish"))&&Pt.stop(!0)};return Xe.finish=Xe,Fe||Ve.queue===!1?this.each(Xe):this.queue(Ve.queue,Xe)},stop:function(U,oe,ge){var Ce=function(Fe){var Ve=Fe.stop;delete Fe.stop,Ve(ge)};return typeof U!="string"&&(ge=oe,oe=U,U=void 0),oe&&this.queue(U||"fx",[]),this.each(function(){var Fe=!0,Ve=U!=null&&U+"queueHooks",Xe=C.timers,Pt=Le.get(this);if(Ve)Pt[Ve]&&Pt[Ve].stop&&Ce(Pt[Ve]);else for(Ve in Pt)Pt[Ve]&&Pt[Ve].stop&&uh.test(Ve)&&Ce(Pt[Ve]);for(Ve=Xe.length;Ve--;)Xe[Ve].elem===this&&(U==null||Xe[Ve].queue===U)&&(Xe[Ve].anim.stop(ge),Fe=!1,Xe.splice(Ve,1));(Fe||!ge)&&C.dequeue(this,U)})},finish:function(U){return U!==!1&&(U=U||"fx"),this.each(function(){var oe,ge=Le.get(this),Ce=ge[U+"queue"],Fe=ge[U+"queueHooks"],Ve=C.timers,Xe=Ce?Ce.length:0;for(ge.finish=!0,C.queue(this,U,[]),Fe&&Fe.stop&&Fe.stop.call(this,!0),oe=Ve.length;oe--;)Ve[oe].elem===this&&Ve[oe].queue===U&&(Ve[oe].anim.stop(!0),Ve.splice(oe,1));for(oe=0;oe<Xe;oe++)Ce[oe]&&Ce[oe].finish&&Ce[oe].finish.call(this);delete ge.finish})}}),C.each(["toggle","show","hide"],function(U,oe){var ge=C.fn[oe];C.fn[oe]=function(Ce,Fe,Ve){return Ce==null||typeof Ce=="boolean"?ge.apply(this,arguments):this.animate(Fn(oe,!0),Ce,Fe,Ve)}}),C.each({slideDown:Fn("show"),slideUp:Fn("hide"),slideToggle:Fn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(U,oe){C.fn[U]=function(ge,Ce,Fe){return this.animate(oe,ge,Ce,Fe)}}),C.timers=[],C.fx.tick=function(){var U,oe=0,ge=C.timers;for(Pl=Date.now();oe<ge.length;oe++)U=ge[oe],!U()&&ge[oe]===U&&ge.splice(oe--,1);ge.length||C.fx.stop(),Pl=void 0},C.fx.timer=function(U){C.timers.push(U),C.fx.start()},C.fx.interval=13,C.fx.start=function(){Kr||(Kr=!0,Or())},C.fx.stop=function(){Kr=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(U,oe){return U=C.fx&&C.fx.speeds[U]||U,oe=oe||"fx",this.queue(oe,function(ge,Ce){var Fe=t.setTimeout(ge,U);Ce.stop=function(){t.clearTimeout(Fe)}})},function(){var U=M.createElement("input"),oe=M.createElement("select"),ge=oe.appendChild(M.createElement("option"));U.type="checkbox",I.checkOn=U.value!=="",I.optSelected=ge.selected,U=M.createElement("input"),U.value="t",U.type="radio",I.radioValue=U.value==="t"}();var Dl,Ho=C.expr.attrHandle;C.fn.extend({attr:function(U,oe){return ae(this,C.attr,U,oe,arguments.length>1)},removeAttr:function(U){return this.each(function(){C.removeAttr(this,U)})}}),C.extend({attr:function(U,oe,ge){var Ce,Fe,Ve=U.nodeType;if(!(Ve===3||Ve===8||Ve===2)){if(typeof U.getAttribute>"u")return C.prop(U,oe,ge);if((Ve!==1||!C.isXMLDoc(U))&&(Fe=C.attrHooks[oe.toLowerCase()]||(C.expr.match.bool.test(oe)?Dl:void 0)),ge!==void 0){if(ge===null){C.removeAttr(U,oe);return}return Fe&&"set"in Fe&&(Ce=Fe.set(U,ge,oe))!==void 0?Ce:(U.setAttribute(oe,ge+""),ge)}return Fe&&"get"in Fe&&(Ce=Fe.get(U,oe))!==null?Ce:(Ce=C.find.attr(U,oe),Ce??void 0)}},attrHooks:{type:{set:function(U,oe){if(!I.radioValue&&oe==="radio"&&w(U,"input")){var ge=U.value;return U.setAttribute("type",oe),ge&&(U.value=ge),oe}}}},removeAttr:function(U,oe){var ge,Ce=0,Fe=oe&&oe.match(ce);if(Fe&&U.nodeType===1)for(;ge=Fe[Ce++];)U.removeAttribute(ge)}}),Dl={set:function(U,oe,ge){return oe===!1?C.removeAttr(U,ge):U.setAttribute(ge,ge),ge}},C.each(C.expr.match.bool.source.match(/\w+/g),function(U,oe){var ge=Ho[oe]||C.find.attr;Ho[oe]=function(Ce,Fe,Ve){var Xe,Pt,wt=Fe.toLowerCase();return Ve||(Pt=Ho[wt],Ho[wt]=Xe,Xe=ge(Ce,Fe,Ve)!=null?wt:null,Ho[wt]=Pt),Xe}});var xa=/^(?:input|select|textarea|button)$/i,Er=/^(?:a|area)$/i;C.fn.extend({prop:function(U,oe){return ae(this,C.prop,U,oe,arguments.length>1)},removeProp:function(U){return this.each(function(){delete this[C.propFix[U]||U]})}}),C.extend({prop:function(U,oe,ge){var Ce,Fe,Ve=U.nodeType;if(!(Ve===3||Ve===8||Ve===2))return(Ve!==1||!C.isXMLDoc(U))&&(oe=C.propFix[oe]||oe,Fe=C.propHooks[oe]),ge!==void 0?Fe&&"set"in Fe&&(Ce=Fe.set(U,ge,oe))!==void 0?Ce:U[oe]=ge:Fe&&"get"in Fe&&(Ce=Fe.get(U,oe))!==null?Ce:U[oe]},propHooks:{tabIndex:{get:function(U){var oe=C.find.attr(U,"tabindex");return oe?parseInt(oe,10):xa.test(U.nodeName)||Er.test(U.nodeName)&&U.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),I.optSelected||(C.propHooks.selected={get:function(U){var oe=U.parentNode;return oe&&oe.parentNode&&oe.parentNode.selectedIndex,null},set:function(U){var oe=U.parentNode;oe&&(oe.selectedIndex,oe.parentNode&&oe.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this});function Ts(U){var oe=U.match(ce)||[];return oe.join(" ")}function Rr(U){return U.getAttribute&&U.getAttribute("class")||""}function ho(U){return Array.isArray(U)?U:typeof U=="string"?U.match(ce)||[]:[]}C.fn.extend({addClass:function(U){var oe,ge,Ce,Fe,Ve,Xe;return O(U)?this.each(function(Pt){C(this).addClass(U.call(this,Pt,Rr(this)))}):(oe=ho(U),oe.length?this.each(function(){if(Ce=Rr(this),ge=this.nodeType===1&&" "+Ts(Ce)+" ",ge){for(Ve=0;Ve<oe.length;Ve++)Fe=oe[Ve],ge.indexOf(" "+Fe+" ")<0&&(ge+=Fe+" ");Xe=Ts(ge),Ce!==Xe&&this.setAttribute("class",Xe)}}):this)},removeClass:function(U){var oe,ge,Ce,Fe,Ve,Xe;return O(U)?this.each(function(Pt){C(this).removeClass(U.call(this,Pt,Rr(this)))}):arguments.length?(oe=ho(U),oe.length?this.each(function(){if(Ce=Rr(this),ge=this.nodeType===1&&" "+Ts(Ce)+" ",ge){for(Ve=0;Ve<oe.length;Ve++)for(Fe=oe[Ve];ge.indexOf(" "+Fe+" ")>-1;)ge=ge.replace(" "+Fe+" "," ");Xe=Ts(ge),Ce!==Xe&&this.setAttribute("class",Xe)}}):this):this.attr("class","")},toggleClass:function(U,oe){var ge,Ce,Fe,Ve,Xe=typeof U,Pt=Xe==="string"||Array.isArray(U);return O(U)?this.each(function(wt){C(this).toggleClass(U.call(this,wt,Rr(this),oe),oe)}):typeof oe=="boolean"&&Pt?oe?this.addClass(U):this.removeClass(U):(ge=ho(U),this.each(function(){if(Pt)for(Ve=C(this),Fe=0;Fe<ge.length;Fe++)Ce=ge[Fe],Ve.hasClass(Ce)?Ve.removeClass(Ce):Ve.addClass(Ce);else(U===void 0||Xe==="boolean")&&(Ce=Rr(this),Ce&&Le.set(this,"__className__",Ce),this.setAttribute&&this.setAttribute("class",Ce||U===!1?"":Le.get(this,"__className__")||""))}))},hasClass:function(U){var oe,ge,Ce=0;for(oe=" "+U+" ";ge=this[Ce++];)if(ge.nodeType===1&&(" "+Ts(Rr(ge))+" ").indexOf(oe)>-1)return!0;return!1}});var rl=/\r/g;C.fn.extend({val:function(U){var oe,ge,Ce,Fe=this[0];return arguments.length?(Ce=O(U),this.each(function(Ve){var Xe;this.nodeType===1&&(Ce?Xe=U.call(this,Ve,C(this).val()):Xe=U,Xe==null?Xe="":typeof Xe=="number"?Xe+="":Array.isArray(Xe)&&(Xe=C.map(Xe,function(Pt){return Pt==null?"":Pt+""})),oe=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()],(!oe||!("set"in oe)||oe.set(this,Xe,"value")===void 0)&&(this.value=Xe))})):Fe?(oe=C.valHooks[Fe.type]||C.valHooks[Fe.nodeName.toLowerCase()],oe&&"get"in oe&&(ge=oe.get(Fe,"value"))!==void 0?ge:(ge=Fe.value,typeof ge=="string"?ge.replace(rl,""):ge??"")):void 0}}),C.extend({valHooks:{option:{get:function(U){var oe=C.find.attr(U,"value");return oe??Ts(C.text(U))}},select:{get:function(U){var oe,ge,Ce,Fe=U.options,Ve=U.selectedIndex,Xe=U.type==="select-one",Pt=Xe?null:[],wt=Xe?Ve+1:Fe.length;for(Ve<0?Ce=wt:Ce=Xe?Ve:0;Ce<wt;Ce++)if(ge=Fe[Ce],(ge.selected||Ce===Ve)&&!ge.disabled&&(!ge.parentNode.disabled||!w(ge.parentNode,"optgroup"))){if(oe=C(ge).val(),Xe)return oe;Pt.push(oe)}return Pt},set:function(U,oe){for(var ge,Ce,Fe=U.options,Ve=C.makeArray(oe),Xe=Fe.length;Xe--;)Ce=Fe[Xe],(Ce.selected=C.inArray(C.valHooks.option.get(Ce),Ve)>-1)&&(ge=!0);return ge||(U.selectedIndex=-1),Ve}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(U,oe){if(Array.isArray(oe))return U.checked=C.inArray(C(U).val(),oe)>-1}},I.checkOn||(C.valHooks[this].get=function(U){return U.getAttribute("value")===null?"on":U.value})}),I.focusin="onfocusin"in t;var Io=/^(?:focusinfocus|focusoutblur)$/,Ra=function(U){U.stopPropagation()};C.extend(C.event,{trigger:function(U,oe,ge,Ce){var Fe,Ve,Xe,Pt,wt,Wt,li,bi,ti=[ge||M],ri=B.call(U,"type")?U.type:U,zi=B.call(U,"namespace")?U.namespace.split("."):[];if(Ve=bi=Xe=ge=ge||M,!(ge.nodeType===3||ge.nodeType===8)&&!Io.test(ri+C.event.triggered)&&(ri.indexOf(".")>-1&&(zi=ri.split("."),ri=zi.shift(),zi.sort()),wt=ri.indexOf(":")<0&&"on"+ri,U=U[C.expando]?U:new C.Event(ri,typeof U=="object"&&U),U.isTrigger=Ce?2:3,U.namespace=zi.join("."),U.rnamespace=U.namespace?new RegExp("(^|\\.)"+zi.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,U.result=void 0,U.target||(U.target=ge),oe=oe==null?[U]:C.makeArray(oe,[U]),li=C.event.special[ri]||{},!(!Ce&&li.trigger&&li.trigger.apply(ge,oe)===!1))){if(!Ce&&!li.noBubble&&!H(ge)){for(Pt=li.delegateType||ri,Io.test(Pt+ri)||(Ve=Ve.parentNode);Ve;Ve=Ve.parentNode)ti.push(Ve),Xe=Ve;Xe===(ge.ownerDocument||M)&&ti.push(Xe.defaultView||Xe.parentWindow||t)}for(Fe=0;(Ve=ti[Fe++])&&!U.isPropagationStopped();)bi=Ve,U.type=Fe>1?Pt:li.bindType||ri,Wt=(Le.get(Ve,"events")||Object.create(null))[U.type]&&Le.get(Ve,"handle"),Wt&&Wt.apply(Ve,oe),Wt=wt&&Ve[wt],Wt&&Wt.apply&&Se(Ve)&&(U.result=Wt.apply(Ve,oe),U.result===!1&&U.preventDefault());return U.type=ri,!Ce&&!U.isDefaultPrevented()&&(!li._default||li._default.apply(ti.pop(),oe)===!1)&&Se(ge)&&wt&&O(ge[ri])&&!H(ge)&&(Xe=ge[wt],Xe&&(ge[wt]=null),C.event.triggered=ri,U.isPropagationStopped()&&bi.addEventListener(ri,Ra),ge[ri](),U.isPropagationStopped()&&bi.removeEventListener(ri,Ra),C.event.triggered=void 0,Xe&&(ge[wt]=Xe)),U.result}},simulate:function(U,oe,ge){var Ce=C.extend(new C.Event,ge,{type:U,isSimulated:!0});C.event.trigger(Ce,null,oe)}}),C.fn.extend({trigger:function(U,oe){return this.each(function(){C.event.trigger(U,oe,this)})},triggerHandler:function(U,oe){var ge=this[0];if(ge)return C.event.trigger(U,oe,ge,!0)}}),I.focusin||C.each({focus:"focusin",blur:"focusout"},function(U,oe){var ge=function(Ce){C.event.simulate(oe,Ce.target,C.event.fix(Ce))};C.event.special[oe]={setup:function(){var Ce=this.ownerDocument||this.document||this,Fe=Le.access(Ce,oe);Fe||Ce.addEventListener(U,ge,!0),Le.access(Ce,oe,(Fe||0)+1)},teardown:function(){var Ce=this.ownerDocument||this.document||this,Fe=Le.access(Ce,oe)-1;Fe?Le.access(Ce,oe,Fe):(Ce.removeEventListener(U,ge,!0),Le.remove(Ce,oe))}}});var Ba=t.location,ba={guid:Date.now()},za=/\?/;C.parseXML=function(U){var oe,ge;if(!U||typeof U!="string")return null;try{oe=new t.DOMParser().parseFromString(U,"text/xml")}catch{}return ge=oe&&oe.getElementsByTagName("parsererror")[0],(!oe||ge)&&C.error("Invalid XML: "+(ge?C.map(ge.childNodes,function(Ce){return Ce.textContent}).join(`
`):U)),oe};var sc=/\[\]$/,rc=/\r?\n/g,so=/^(?:submit|button|image|reset|file)$/i,rr=/^(?:input|select|textarea|keygen)/i;function ol(U,oe,ge,Ce){var Fe;if(Array.isArray(oe))C.each(oe,function(Ve,Xe){ge||sc.test(U)?Ce(U,Xe):ol(U+"["+(typeof Xe=="object"&&Xe!=null?Ve:"")+"]",Xe,ge,Ce)});else if(!ge&&V(oe)==="object")for(Fe in oe)ol(U+"["+Fe+"]",oe[Fe],ge,Ce);else Ce(U,oe)}C.param=function(U,oe){var ge,Ce=[],Fe=function(Ve,Xe){var Pt=O(Xe)?Xe():Xe;Ce[Ce.length]=encodeURIComponent(Ve)+"="+encodeURIComponent(Pt??"")};if(U==null)return"";if(Array.isArray(U)||U.jquery&&!C.isPlainObject(U))C.each(U,function(){Fe(this.name,this.value)});else for(ge in U)ol(ge,U[ge],oe,Fe);return Ce.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var U=C.prop(this,"elements");return U?C.makeArray(U):this}).filter(function(){var U=this.type;return this.name&&!C(this).is(":disabled")&&rr.test(this.nodeName)&&!so.test(U)&&(this.checked||!Ni.test(U))}).map(function(U,oe){var ge=C(this).val();return ge==null?null:Array.isArray(ge)?C.map(ge,function(Ce){return{name:oe.name,value:Ce.replace(rc,`\r
`)}}):{name:oe.name,value:ge.replace(rc,`\r
`)}}).get()}});var wa=/%20/g,Cr=/#.*$/,Lo=/([?&])_=[^&]*/,Fh=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ic=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vr=/^(?:GET|HEAD)$/,al=/^\/\//,Lc={},ll={},Mr="*/".concat("*"),Na=M.createElement("a");Na.href=Ba.href;function Oc(U){return function(oe,ge){typeof oe!="string"&&(ge=oe,oe="*");var Ce,Fe=0,Ve=oe.toLowerCase().match(ce)||[];if(O(ge))for(;Ce=Ve[Fe++];)Ce[0]==="+"?(Ce=Ce.slice(1)||"*",(U[Ce]=U[Ce]||[]).unshift(ge)):(U[Ce]=U[Ce]||[]).push(ge)}}function us(U,oe,ge,Ce){var Fe={},Ve=U===ll;function Xe(Pt){var wt;return Fe[Pt]=!0,C.each(U[Pt]||[],function(Wt,li){var bi=li(oe,ge,Ce);if(typeof bi=="string"&&!Ve&&!Fe[bi])return oe.dataTypes.unshift(bi),Xe(bi),!1;if(Ve)return!(wt=bi)}),wt}return Xe(oe.dataTypes[0])||!Fe["*"]&&Xe("*")}function vs(U,oe){var ge,Ce,Fe=C.ajaxSettings.flatOptions||{};for(ge in oe)oe[ge]!==void 0&&((Fe[ge]?U:Ce||(Ce={}))[ge]=oe[ge]);return Ce&&C.extend(!0,U,Ce),U}function Rc(U,oe,ge){for(var Ce,Fe,Ve,Xe,Pt=U.contents,wt=U.dataTypes;wt[0]==="*";)wt.shift(),Ce===void 0&&(Ce=U.mimeType||oe.getResponseHeader("Content-Type"));if(Ce){for(Fe in Pt)if(Pt[Fe]&&Pt[Fe].test(Ce)){wt.unshift(Fe);break}}if(wt[0]in ge)Ve=wt[0];else{for(Fe in ge){if(!wt[0]||U.converters[Fe+" "+wt[0]]){Ve=Fe;break}Xe||(Xe=Fe)}Ve=Ve||Xe}if(Ve)return Ve!==wt[0]&&wt.unshift(Ve),ge[Ve]}function jh(U,oe,ge,Ce){var Fe,Ve,Xe,Pt,wt,Wt={},li=U.dataTypes.slice();if(li[1])for(Xe in U.converters)Wt[Xe.toLowerCase()]=U.converters[Xe];for(Ve=li.shift();Ve;)if(U.responseFields[Ve]&&(ge[U.responseFields[Ve]]=oe),!wt&&Ce&&U.dataFilter&&(oe=U.dataFilter(oe,U.dataType)),wt=Ve,Ve=li.shift(),Ve){if(Ve==="*")Ve=wt;else if(wt!=="*"&&wt!==Ve){if(Xe=Wt[wt+" "+Ve]||Wt["* "+Ve],!Xe){for(Fe in Wt)if(Pt=Fe.split(" "),Pt[1]===Ve&&(Xe=Wt[wt+" "+Pt[0]]||Wt["* "+Pt[0]],Xe)){Xe===!0?Xe=Wt[Fe]:Wt[Fe]!==!0&&(Ve=Pt[0],li.unshift(Pt[1]));break}}if(Xe!==!0)if(Xe&&U.throws)oe=Xe(oe);else try{oe=Xe(oe)}catch(bi){return{state:"parsererror",error:Xe?bi:"No conversion from "+wt+" to "+Ve}}}}return{state:"success",data:oe}}C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ba.href,type:"GET",isLocal:Ic.test(Ba.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(U,oe){return oe?vs(vs(U,C.ajaxSettings),oe):vs(C.ajaxSettings,U)},ajaxPrefilter:Oc(Lc),ajaxTransport:Oc(ll),ajax:function(U,oe){typeof U=="object"&&(oe=U,U=void 0),oe=oe||{};var ge,Ce,Fe,Ve,Xe,Pt,wt,Wt,li,bi,ti=C.ajaxSetup({},oe),ri=ti.context||ti,zi=ti.context&&(ri.nodeType||ri.jquery)?C(ri):C.event,In=C.Deferred(),tn=C.Callbacks("once memory"),Ws=ti.statusCode||{},Ds={},Yn={},Xn="canceled",Dn={readyState:0,getResponseHeader:function(Qn){var Is;if(wt){if(!Ve)for(Ve={};Is=Fh.exec(Fe);)Ve[Is[1].toLowerCase()+" "]=(Ve[Is[1].toLowerCase()+" "]||[]).concat(Is[2]);Is=Ve[Qn.toLowerCase()+" "]}return Is==null?null:Is.join(", ")},getAllResponseHeaders:function(){return wt?Fe:null},setRequestHeader:function(Qn,Is){return wt==null&&(Qn=Yn[Qn.toLowerCase()]=Yn[Qn.toLowerCase()]||Qn,Ds[Qn]=Is),this},overrideMimeType:function(Qn){return wt==null&&(ti.mimeType=Qn),this},statusCode:function(Qn){var Is;if(Qn)if(wt)Dn.always(Qn[Dn.status]);else for(Is in Qn)Ws[Is]=[Ws[Is],Qn[Is]];return this},abort:function(Qn){var Is=Qn||Xn;return ge&&ge.abort(Is),Ar(0,Is),this}};if(In.promise(Dn),ti.url=((U||ti.url||Ba.href)+"").replace(al,Ba.protocol+"//"),ti.type=oe.method||oe.type||ti.method||ti.type,ti.dataTypes=(ti.dataType||"*").toLowerCase().match(ce)||[""],ti.crossDomain==null){Pt=M.createElement("a");try{Pt.href=ti.url,Pt.href=Pt.href,ti.crossDomain=Na.protocol+"//"+Na.host!=Pt.protocol+"//"+Pt.host}catch{ti.crossDomain=!0}}if(ti.data&&ti.processData&&typeof ti.data!="string"&&(ti.data=C.param(ti.data,ti.traditional)),us(Lc,ti,oe,Dn),wt)return Dn;Wt=C.event&&ti.global,Wt&&C.active++===0&&C.event.trigger("ajaxStart"),ti.type=ti.type.toUpperCase(),ti.hasContent=!vr.test(ti.type),Ce=ti.url.replace(Cr,""),ti.hasContent?ti.data&&ti.processData&&(ti.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ti.data=ti.data.replace(wa,"+")):(bi=ti.url.slice(Ce.length),ti.data&&(ti.processData||typeof ti.data=="string")&&(Ce+=(za.test(Ce)?"&":"?")+ti.data,delete ti.data),ti.cache===!1&&(Ce=Ce.replace(Lo,"$1"),bi=(za.test(Ce)?"&":"?")+"_="+ba.guid+++bi),ti.url=Ce+bi),ti.ifModified&&(C.lastModified[Ce]&&Dn.setRequestHeader("If-Modified-Since",C.lastModified[Ce]),C.etag[Ce]&&Dn.setRequestHeader("If-None-Match",C.etag[Ce])),(ti.data&&ti.hasContent&&ti.contentType!==!1||oe.contentType)&&Dn.setRequestHeader("Content-Type",ti.contentType),Dn.setRequestHeader("Accept",ti.dataTypes[0]&&ti.accepts[ti.dataTypes[0]]?ti.accepts[ti.dataTypes[0]]+(ti.dataTypes[0]!=="*"?", "+Mr+"; q=0.01":""):ti.accepts["*"]);for(li in ti.headers)Dn.setRequestHeader(li,ti.headers[li]);if(ti.beforeSend&&(ti.beforeSend.call(ri,Dn,ti)===!1||wt))return Dn.abort();if(Xn="abort",tn.add(ti.complete),Dn.done(ti.success),Dn.fail(ti.error),ge=us(ll,ti,oe,Dn),!ge)Ar(-1,"No Transport");else{if(Dn.readyState=1,Wt&&zi.trigger("ajaxSend",[Dn,ti]),wt)return Dn;ti.async&&ti.timeout>0&&(Xe=t.setTimeout(function(){Dn.abort("timeout")},ti.timeout));try{wt=!1,ge.send(Ds,Ar)}catch(Qn){if(wt)throw Qn;Ar(-1,Qn)}}function Ar(Qn,Is,ca,hl){var kr,xo,On,Ur,bo,ro=Is;wt||(wt=!0,Xe&&t.clearTimeout(Xe),ge=void 0,Fe=hl||"",Dn.readyState=Qn>0?4:0,kr=Qn>=200&&Qn<300||Qn===304,ca&&(Ur=Rc(ti,Dn,ca)),!kr&&C.inArray("script",ti.dataTypes)>-1&&C.inArray("json",ti.dataTypes)<0&&(ti.converters["text script"]=function(){}),Ur=jh(ti,Ur,Dn,kr),kr?(ti.ifModified&&(bo=Dn.getResponseHeader("Last-Modified"),bo&&(C.lastModified[Ce]=bo),bo=Dn.getResponseHeader("etag"),bo&&(C.etag[Ce]=bo)),Qn===204||ti.type==="HEAD"?ro="nocontent":Qn===304?ro="notmodified":(ro=Ur.state,xo=Ur.data,On=Ur.error,kr=!On)):(On=ro,(Qn||!ro)&&(ro="error",Qn<0&&(Qn=0))),Dn.status=Qn,Dn.statusText=(Is||ro)+"",kr?In.resolveWith(ri,[xo,ro,Dn]):In.rejectWith(ri,[Dn,ro,On]),Dn.statusCode(Ws),Ws=void 0,Wt&&zi.trigger(kr?"ajaxSuccess":"ajaxError",[Dn,ti,kr?xo:On]),tn.fireWith(ri,[Dn,ro]),Wt&&(zi.trigger("ajaxComplete",[Dn,ti]),--C.active||C.event.trigger("ajaxStop")))}return Dn},getJSON:function(U,oe,ge){return C.get(U,oe,ge,"json")},getScript:function(U,oe){return C.get(U,void 0,oe,"script")}}),C.each(["get","post"],function(U,oe){C[oe]=function(ge,Ce,Fe,Ve){return O(Ce)&&(Ve=Ve||Fe,Fe=Ce,Ce=void 0),C.ajax(C.extend({url:ge,type:oe,dataType:Ve,data:Ce,success:Fe},C.isPlainObject(ge)&&ge))}}),C.ajaxPrefilter(function(U){var oe;for(oe in U.headers)oe.toLowerCase()==="content-type"&&(U.contentType=U.headers[oe]||"")}),C._evalUrl=function(U,oe,ge){return C.ajax({url:U,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Ce){C.globalEval(Ce,oe,ge)}})},C.fn.extend({wrapAll:function(U){var oe;return this[0]&&(O(U)&&(U=U.call(this[0])),oe=C(U,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&oe.insertBefore(this[0]),oe.map(function(){for(var ge=this;ge.firstElementChild;)ge=ge.firstElementChild;return ge}).append(this)),this},wrapInner:function(U){return O(U)?this.each(function(oe){C(this).wrapInner(U.call(this,oe))}):this.each(function(){var oe=C(this),ge=oe.contents();ge.length?ge.wrapAll(U):oe.append(U)})},wrap:function(U){var oe=O(U);return this.each(function(ge){C(this).wrapAll(oe?U.call(this,ge):U)})},unwrap:function(U){return this.parent(U).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(U){return!C.expr.pseudos.visible(U)},C.expr.pseudos.visible=function(U){return!!(U.offsetWidth||U.offsetHeight||U.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var ph={0:200,1223:204},Oo=C.ajaxSettings.xhr();I.cors=!!Oo&&"withCredentials"in Oo,I.ajax=Oo=!!Oo,C.ajaxTransport(function(U){var oe,ge;if(I.cors||Oo&&!U.crossDomain)return{send:function(Ce,Fe){var Ve,Xe=U.xhr();if(Xe.open(U.type,U.url,U.async,U.username,U.password),U.xhrFields)for(Ve in U.xhrFields)Xe[Ve]=U.xhrFields[Ve];U.mimeType&&Xe.overrideMimeType&&Xe.overrideMimeType(U.mimeType),!U.crossDomain&&!Ce["X-Requested-With"]&&(Ce["X-Requested-With"]="XMLHttpRequest");for(Ve in Ce)Xe.setRequestHeader(Ve,Ce[Ve]);oe=function(Pt){return function(){oe&&(oe=ge=Xe.onload=Xe.onerror=Xe.onabort=Xe.ontimeout=Xe.onreadystatechange=null,Pt==="abort"?Xe.abort():Pt==="error"?typeof Xe.status!="number"?Fe(0,"error"):Fe(Xe.status,Xe.statusText):Fe(ph[Xe.status]||Xe.status,Xe.statusText,(Xe.responseType||"text")!=="text"||typeof Xe.responseText!="string"?{binary:Xe.response}:{text:Xe.responseText},Xe.getAllResponseHeaders()))}},Xe.onload=oe(),ge=Xe.onerror=Xe.ontimeout=oe("error"),Xe.onabort!==void 0?Xe.onabort=ge:Xe.onreadystatechange=function(){Xe.readyState===4&&t.setTimeout(function(){oe&&ge()})},oe=oe("abort");try{Xe.send(U.hasContent&&U.data||null)}catch(Pt){if(oe)throw Pt}},abort:function(){oe&&oe()}}}),C.ajaxPrefilter(function(U){U.crossDomain&&(U.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(U){return C.globalEval(U),U}}}),C.ajaxPrefilter("script",function(U){U.cache===void 0&&(U.cache=!1),U.crossDomain&&(U.type="GET")}),C.ajaxTransport("script",function(U){if(U.crossDomain||U.scriptAttrs){var oe,ge;return{send:function(Ce,Fe){oe=C("<script>").attr(U.scriptAttrs||{}).prop({charset:U.scriptCharset,src:U.url}).on("load error",ge=function(Ve){oe.remove(),ge=null,Ve&&Fe(Ve.type==="error"?404:200,Ve.type)}),M.head.appendChild(oe[0])},abort:function(){ge&&ge()}}}});var oc=[],Bc=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var U=oc.pop()||C.expando+"_"+ba.guid++;return this[U]=!0,U}}),C.ajaxPrefilter("json jsonp",function(U,oe,ge){var Ce,Fe,Ve,Xe=U.jsonp!==!1&&(Bc.test(U.url)?"url":typeof U.data=="string"&&(U.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Bc.test(U.data)&&"data");if(Xe||U.dataTypes[0]==="jsonp")return Ce=U.jsonpCallback=O(U.jsonpCallback)?U.jsonpCallback():U.jsonpCallback,Xe?U[Xe]=U[Xe].replace(Bc,"$1"+Ce):U.jsonp!==!1&&(U.url+=(za.test(U.url)?"&":"?")+U.jsonp+"="+Ce),U.converters["script json"]=function(){return Ve||C.error(Ce+" was not called"),Ve[0]},U.dataTypes[0]="json",Fe=t[Ce],t[Ce]=function(){Ve=arguments},ge.always(function(){Fe===void 0?C(t).removeProp(Ce):t[Ce]=Fe,U[Ce]&&(U.jsonpCallback=oe.jsonpCallback,oc.push(Ce)),Ve&&O(Fe)&&Fe(Ve[0]),Ve=Fe=void 0}),"script"}),I.createHTMLDocument=function(){var U=M.implementation.createHTMLDocument("").body;return U.innerHTML="<form></form><form></form>",U.childNodes.length===2}(),C.parseHTML=function(U,oe,ge){if(typeof U!="string")return[];typeof oe=="boolean"&&(ge=oe,oe=!1);var Ce,Fe,Ve;return oe||(I.createHTMLDocument?(oe=M.implementation.createHTMLDocument(""),Ce=oe.createElement("base"),Ce.href=M.location.href,oe.head.appendChild(Ce)):oe=M),Fe=L.exec(U),Ve=!ge&&[],Fe?[oe.createElement(Fe[1])]:(Fe=fs([U],oe,Ve),Ve&&Ve.length&&C(Ve).remove(),C.merge([],Fe.childNodes))},C.fn.load=function(U,oe,ge){var Ce,Fe,Ve,Xe=this,Pt=U.indexOf(" ");return Pt>-1&&(Ce=Ts(U.slice(Pt)),U=U.slice(0,Pt)),O(oe)?(ge=oe,oe=void 0):oe&&typeof oe=="object"&&(Fe="POST"),Xe.length>0&&C.ajax({url:U,type:Fe||"GET",dataType:"html",data:oe}).done(function(wt){Ve=arguments,Xe.html(Ce?C("<div>").append(C.parseHTML(wt)).find(Ce):wt)}).always(ge&&function(wt,Wt){Xe.each(function(){ge.apply(this,Ve||[wt.responseText,Wt,wt])})}),this},C.expr.pseudos.animated=function(U){return C.grep(C.timers,function(oe){return U===oe.elem}).length},C.offset={setOffset:function(U,oe,ge){var Ce,Fe,Ve,Xe,Pt,wt,Wt,li=C.css(U,"position"),bi=C(U),ti={};li==="static"&&(U.style.position="relative"),Pt=bi.offset(),Ve=C.css(U,"top"),wt=C.css(U,"left"),Wt=(li==="absolute"||li==="fixed")&&(Ve+wt).indexOf("auto")>-1,Wt?(Ce=bi.position(),Xe=Ce.top,Fe=Ce.left):(Xe=parseFloat(Ve)||0,Fe=parseFloat(wt)||0),O(oe)&&(oe=oe.call(U,ge,C.extend({},Pt))),oe.top!=null&&(ti.top=oe.top-Pt.top+Xe),oe.left!=null&&(ti.left=oe.left-Pt.left+Fe),"using"in oe?oe.using.call(U,ti):bi.css(ti)}},C.fn.extend({offset:function(U){if(arguments.length)return U===void 0?this:this.each(function(Fe){C.offset.setOffset(this,U,Fe)});var oe,ge,Ce=this[0];if(Ce)return Ce.getClientRects().length?(oe=Ce.getBoundingClientRect(),ge=Ce.ownerDocument.defaultView,{top:oe.top+ge.pageYOffset,left:oe.left+ge.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var U,oe,ge,Ce=this[0],Fe={top:0,left:0};if(C.css(Ce,"position")==="fixed")oe=Ce.getBoundingClientRect();else{for(oe=this.offset(),ge=Ce.ownerDocument,U=Ce.offsetParent||ge.documentElement;U&&(U===ge.body||U===ge.documentElement)&&C.css(U,"position")==="static";)U=U.parentNode;U&&U!==Ce&&U.nodeType===1&&(Fe=C(U).offset(),Fe.top+=C.css(U,"borderTopWidth",!0),Fe.left+=C.css(U,"borderLeftWidth",!0))}return{top:oe.top-Fe.top-C.css(Ce,"marginTop",!0),left:oe.left-Fe.left-C.css(Ce,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var U=this.offsetParent;U&&C.css(U,"position")==="static";)U=U.offsetParent;return U||at})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(U,oe){var ge=oe==="pageYOffset";C.fn[U]=function(Ce){return ae(this,function(Fe,Ve,Xe){var Pt;if(H(Fe)?Pt=Fe:Fe.nodeType===9&&(Pt=Fe.defaultView),Xe===void 0)return Pt?Pt[oe]:Fe[Ve];Pt?Pt.scrollTo(ge?Pt.pageXOffset:Xe,ge?Xe:Pt.pageYOffset):Fe[Ve]=Xe},U,Ce,arguments.length)}}),C.each(["top","left"],function(U,oe){C.cssHooks[oe]=Bi(I.pixelPosition,function(ge,Ce){if(Ce)return Ce=Qi(ge,oe),Dt.test(Ce)?C(ge).position()[oe]+"px":Ce})}),C.each({Height:"height",Width:"width"},function(U,oe){C.each({padding:"inner"+U,content:oe,"":"outer"+U},function(ge,Ce){C.fn[Ce]=function(Fe,Ve){var Xe=arguments.length&&(ge||typeof Fe!="boolean"),Pt=ge||(Fe===!0||Ve===!0?"margin":"border");return ae(this,function(wt,Wt,li){var bi;return H(wt)?Ce.indexOf("outer")===0?wt["inner"+U]:wt.document.documentElement["client"+U]:wt.nodeType===9?(bi=wt.documentElement,Math.max(wt.body["scroll"+U],bi["scroll"+U],wt.body["offset"+U],bi["offset"+U],bi["client"+U])):li===void 0?C.css(wt,Wt,Pt):C.style(wt,Wt,li,Pt)},oe,Xe?Fe:void 0,Xe)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(U,oe){C.fn[oe]=function(ge){return this.on(oe,ge)}}),C.fn.extend({bind:function(U,oe,ge){return this.on(U,null,oe,ge)},unbind:function(U,oe){return this.off(U,null,oe)},delegate:function(U,oe,ge,Ce){return this.on(oe,U,ge,Ce)},undelegate:function(U,oe,ge){return arguments.length===1?this.off(U,"**"):this.off(oe,U||"**",ge)},hover:function(U,oe){return this.mouseenter(U).mouseleave(oe||U)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(U,oe){C.fn[oe]=function(ge,Ce){return arguments.length>0?this.on(oe,null,ge,Ce):this.trigger(oe)}});var cl=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;C.proxy=function(U,oe){var ge,Ce,Fe;if(typeof oe=="string"&&(ge=U[oe],oe=U,U=ge),!!O(U))return Ce=d.call(arguments,2),Fe=function(){return U.apply(oe||this,Ce.concat(d.call(arguments)))},Fe.guid=U.guid=U.guid||C.guid++,Fe},C.holdReady=function(U){U?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=w,C.isFunction=O,C.isWindow=H,C.camelCase=me,C.type=V,C.now=Date.now,C.isNumeric=function(U){var oe=C.type(U);return(oe==="number"||oe==="string")&&!isNaN(U-parseFloat(U))},C.trim=function(U){return U==null?"":(U+"").replace(cl,"$1")};var vo=t.jQuery,xr=t.$;return C.noConflict=function(U){return t.$===C&&(t.$=xr),U&&t.jQuery===C&&(t.jQuery=vo),C},typeof s>"u"&&(t.jQuery=t.$=C),C})})($A);const WA=ew;function z5(e,t){return function(){return e.apply(t,arguments)}}const{toString:N5}=Object.prototype,{getPrototypeOf:Zw}=Object,Kw=(e=>t=>{const s=N5.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),lu=e=>(e=e.toLowerCase(),t=>Kw(t)===e),Ov=e=>t=>typeof t===e,{isArray:wm}=Array,b1=Ov("undefined");function qA(e){return e!==null&&!b1(e)&&e.constructor!==null&&!b1(e.constructor)&&If(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const F5=lu("ArrayBuffer");function YA(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&F5(e.buffer),t}const XA=Ov("string"),If=Ov("function"),j5=Ov("number"),Jw=e=>e!==null&&typeof e=="object",ZA=e=>e===!0||e===!1,Uy=e=>{if(Kw(e)!=="object")return!1;const t=Zw(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},KA=lu("Date"),JA=lu("File"),QA=lu("Blob"),e4=lu("FileList"),t4=e=>Jw(e)&&If(e.pipe),i4=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||N5.call(e)===t||If(e.toString)&&e.toString()===t)},n4=lu("URLSearchParams"),s4=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function z1(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let l,c;if(typeof e!="object"&&(e=[e]),wm(e))for(l=0,c=e.length;l<c;l++)t.call(null,e[l],l,e);else{const d=s?Object.getOwnPropertyNames(e):Object.keys(e),m=d.length;let n;for(l=0;l<m;l++)n=d[l],t.call(null,e[n],n,e)}}function U5(e,t){t=t.toLowerCase();const s=Object.keys(e);let l=s.length,c;for(;l-- >0;)if(c=s[l],t===c.toLowerCase())return c;return null}const G5=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),V5=e=>!b1(e)&&e!==G5;function tw(){const{caseless:e}=V5(this)&&this||{},t={},s=(l,c)=>{const d=e&&U5(t,c)||c;Uy(t[d])&&Uy(l)?t[d]=tw(t[d],l):Uy(l)?t[d]=tw({},l):wm(l)?t[d]=l.slice():t[d]=l};for(let l=0,c=arguments.length;l<c;l++)arguments[l]&&z1(arguments[l],s);return t}const r4=(e,t,s,{allOwnKeys:l}={})=>(z1(t,(c,d)=>{s&&If(c)?e[d]=z5(c,s):e[d]=c},{allOwnKeys:l}),e),o4=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),a4=(e,t,s,l)=>{e.prototype=Object.create(t.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},l4=(e,t,s,l)=>{let c,d,m;const n={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)m=c[d],(!l||l(m,e,t))&&!n[m]&&(t[m]=e[m],n[m]=!0);e=s!==!1&&Zw(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},c4=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const l=e.indexOf(t,s);return l!==-1&&l===s},h4=e=>{if(!e)return null;if(wm(e))return e;let t=e.length;if(!j5(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},d4=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Zw(Uint8Array)),u4=(e,t)=>{const l=(e&&e[Symbol.iterator]).call(e);let c;for(;(c=l.next())&&!c.done;){const d=c.value;t.call(e,d[0],d[1])}},p4=(e,t)=>{let s;const l=[];for(;(s=e.exec(t))!==null;)l.push(s);return l},f4=lu("HTMLFormElement"),m4=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(s,l,c){return l.toUpperCase()+c}),ZS=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),g4=lu("RegExp"),H5=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),l={};z1(s,(c,d)=>{t(c,d,e)!==!1&&(l[d]=c)}),Object.defineProperties(e,l)},_4=e=>{H5(e,(t,s)=>{if(If(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const l=e[s];if(If(l)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},y4=(e,t)=>{const s={},l=c=>{c.forEach(d=>{s[d]=!0})};return wm(e)?l(e):l(String(e).split(t)),s},v4=()=>{},x4=(e,t)=>(e=+e,Number.isFinite(e)?e:t),b4=e=>{const t=new Array(10),s=(l,c)=>{if(Jw(l)){if(t.indexOf(l)>=0)return;if(!("toJSON"in l)){t[c]=l;const d=wm(l)?[]:{};return z1(l,(m,n)=>{const S=s(m,c+1);!b1(S)&&(d[n]=S)}),t[c]=void 0,d}}return l};return s(e,0)},Ii={isArray:wm,isArrayBuffer:F5,isBuffer:qA,isFormData:i4,isArrayBufferView:YA,isString:XA,isNumber:j5,isBoolean:ZA,isObject:Jw,isPlainObject:Uy,isUndefined:b1,isDate:KA,isFile:JA,isBlob:QA,isRegExp:g4,isFunction:If,isStream:t4,isURLSearchParams:n4,isTypedArray:d4,isFileList:e4,forEach:z1,merge:tw,extend:r4,trim:s4,stripBOM:o4,inherits:a4,toFlatObject:l4,kindOf:Kw,kindOfTest:lu,endsWith:c4,toArray:h4,forEachEntry:u4,matchAll:p4,isHTMLForm:f4,hasOwnProperty:ZS,hasOwnProp:ZS,reduceDescriptors:H5,freezeMethods:_4,toObjectSet:y4,toCamelCase:m4,noop:v4,toFiniteNumber:x4,findKey:U5,global:G5,isContextDefined:V5,toJSONObject:b4};function er(e,t,s,l,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),l&&(this.request=l),c&&(this.response=c)}Ii.inherits(er,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ii.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const $5=er.prototype,W5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{W5[e]={value:e}});Object.defineProperties(er,W5);Object.defineProperty($5,"isAxiosError",{value:!0});er.from=(e,t,s,l,c,d)=>{const m=Object.create($5);return Ii.toFlatObject(e,m,function(S){return S!==Error.prototype},n=>n!=="isAxiosError"),er.call(m,e.message,t,s,l,c),m.cause=e,m.name=e.name,d&&Object.assign(m,d),m};var w4=typeof self=="object"?self.FormData:window.FormData;const S4=w4;function iw(e){return Ii.isPlainObject(e)||Ii.isArray(e)}function q5(e){return Ii.endsWith(e,"[]")?e.slice(0,-2):e}function KS(e,t,s){return e?e.concat(t).map(function(c,d){return c=q5(c),!s&&d?"["+c+"]":c}).join(s?".":""):t}function T4(e){return Ii.isArray(e)&&!e.some(iw)}const E4=Ii.toFlatObject(Ii,{},null,function(t){return/^is[A-Z]/.test(t)});function C4(e){return e&&Ii.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function Rv(e,t,s){if(!Ii.isObject(e))throw new TypeError("target must be an object");t=t||new(S4||FormData),s=Ii.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,H){return!Ii.isUndefined(H[O])});const l=s.metaTokens,c=s.visitor||J,d=s.dots,m=s.indexes,S=(s.Blob||typeof Blob<"u"&&Blob)&&C4(t);if(!Ii.isFunction(c))throw new TypeError("visitor must be a function");function j(I){if(I===null)return"";if(Ii.isDate(I))return I.toISOString();if(!S&&Ii.isBlob(I))throw new er("Blob is not supported. Use a Buffer instead.");return Ii.isArrayBuffer(I)||Ii.isTypedArray(I)?S&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function J(I,O,H){let M=I;if(I&&!H&&typeof I=="object"){if(Ii.endsWith(O,"{}"))O=l?O:O.slice(0,-2),I=JSON.stringify(I);else if(Ii.isArray(I)&&T4(I)||Ii.isFileList(I)||Ii.endsWith(O,"[]")&&(M=Ii.toArray(I)))return O=q5(O),M.forEach(function(k,V){!(Ii.isUndefined(k)||k===null)&&t.append(m===!0?KS([O],V,d):m===null?O:O+"[]",j(k))}),!1}return iw(I)?!0:(t.append(KS(H,O,d),j(I)),!1)}const B=[],W=Object.assign(E4,{defaultVisitor:J,convertValue:j,isVisitable:iw});function K(I,O){if(!Ii.isUndefined(I)){if(B.indexOf(I)!==-1)throw Error("Circular reference detected in "+O.join("."));B.push(I),Ii.forEach(I,function(M,E){(!(Ii.isUndefined(M)||M===null)&&c.call(t,M,Ii.isString(E)?E.trim():E,O,W))===!0&&K(M,O?O.concat(E):[E])}),B.pop()}}if(!Ii.isObject(e))throw new TypeError("data must be an object");return K(e),t}function JS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return t[l]})}function Qw(e,t){this._pairs=[],e&&Rv(e,this,t)}const Y5=Qw.prototype;Y5.append=function(t,s){this._pairs.push([t,s])};Y5.toString=function(t){const s=t?function(l){return t.call(this,l,JS)}:JS;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function M4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function X5(e,t,s){if(!t)return e;const l=s&&s.encode||M4,c=s&&s.serialize;let d;if(c?d=c(t,s):d=Ii.isURLSearchParams(t)?t.toString():new Qw(t,s).toString(l),d){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class A4{constructor(){this.handlers=[]}use(t,s,l){return this.handlers.push({fulfilled:t,rejected:s,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ii.forEach(this.handlers,function(l){l!==null&&t(l)})}}const QS=A4,Z5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},k4=typeof URLSearchParams<"u"?URLSearchParams:Qw,P4=FormData,D4=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),I4=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),pd={isBrowser:!0,classes:{URLSearchParams:k4,FormData:P4,Blob},isStandardBrowserEnv:D4,isStandardBrowserWebWorkerEnv:I4,protocols:["http","https","file","blob","url","data"]};function L4(e,t){return Rv(e,new pd.classes.URLSearchParams,Object.assign({visitor:function(s,l,c,d){return pd.isNode&&Ii.isBuffer(s)?(this.append(l,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},t))}function O4(e){return Ii.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function R4(e){const t={},s=Object.keys(e);let l;const c=s.length;let d;for(l=0;l<c;l++)d=s[l],t[d]=e[d];return t}function K5(e){function t(s,l,c,d){let m=s[d++];const n=Number.isFinite(+m),S=d>=s.length;return m=!m&&Ii.isArray(c)?c.length:m,S?(Ii.hasOwnProp(c,m)?c[m]=[c[m],l]:c[m]=l,!n):((!c[m]||!Ii.isObject(c[m]))&&(c[m]=[]),t(s,l,c[m],d)&&Ii.isArray(c[m])&&(c[m]=R4(c[m])),!n)}if(Ii.isFormData(e)&&Ii.isFunction(e.entries)){const s={};return Ii.forEachEntry(e,(l,c)=>{t(O4(l),c,s,0)}),s}return null}const B4={"Content-Type":void 0};function z4(e,t,s){if(Ii.isString(e))try{return(t||JSON.parse)(e),Ii.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(s||JSON.stringify)(e)}const Bv={transitional:Z5,adapter:["xhr","http"],transformRequest:[function(t,s){const l=s.getContentType()||"",c=l.indexOf("application/json")>-1,d=Ii.isObject(t);if(d&&Ii.isHTMLForm(t)&&(t=new FormData(t)),Ii.isFormData(t))return c&&c?JSON.stringify(K5(t)):t;if(Ii.isArrayBuffer(t)||Ii.isBuffer(t)||Ii.isStream(t)||Ii.isFile(t)||Ii.isBlob(t))return t;if(Ii.isArrayBufferView(t))return t.buffer;if(Ii.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let n;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return L4(t,this.formSerializer).toString();if((n=Ii.isFileList(t))||l.indexOf("multipart/form-data")>-1){const S=this.env&&this.env.FormData;return Rv(n?{"files[]":t}:t,S&&new S,this.formSerializer)}}return d||c?(s.setContentType("application/json",!1),z4(t)):t}],transformResponse:[function(t){const s=this.transitional||Bv.transitional,l=s&&s.forcedJSONParsing,c=this.responseType==="json";if(t&&Ii.isString(t)&&(l&&!this.responseType||c)){const m=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(n){if(m)throw n.name==="SyntaxError"?er.from(n,er.ERR_BAD_RESPONSE,this,null,this.response):n}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pd.classes.FormData,Blob:pd.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ii.forEach(["delete","get","head"],function(t){Bv.headers[t]={}});Ii.forEach(["post","put","patch"],function(t){Bv.headers[t]=Ii.merge(B4)});const e3=Bv,N4=Ii.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F4=e=>{const t={};let s,l,c;return e&&e.split(`
`).forEach(function(m){c=m.indexOf(":"),s=m.substring(0,c).trim().toLowerCase(),l=m.substring(c+1).trim(),!(!s||t[s]&&N4[s])&&(s==="set-cookie"?t[s]?t[s].push(l):t[s]=[l]:t[s]=t[s]?t[s]+", "+l:l)}),t},eT=Symbol("internals");function r1(e){return e&&String(e).trim().toLowerCase()}function Gy(e){return e===!1||e==null?e:Ii.isArray(e)?e.map(Gy):String(e)}function j4(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=s.exec(e);)t[l[1]]=l[2];return t}function U4(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function tT(e,t,s,l){if(Ii.isFunction(l))return l.call(this,t,s);if(Ii.isString(t)){if(Ii.isString(l))return t.indexOf(l)!==-1;if(Ii.isRegExp(l))return l.test(t)}}function G4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,l)=>s.toUpperCase()+l)}function V4(e,t){const s=Ii.toCamelCase(" "+t);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+s,{value:function(c,d,m){return this[l].call(this,t,c,d,m)},configurable:!0})})}class zv{constructor(t){t&&this.set(t)}set(t,s,l){const c=this;function d(n,S,j){const J=r1(S);if(!J)throw new Error("header name must be a non-empty string");const B=Ii.findKey(c,J);(!B||c[B]===void 0||j===!0||j===void 0&&c[B]!==!1)&&(c[B||S]=Gy(n))}const m=(n,S)=>Ii.forEach(n,(j,J)=>d(j,J,S));return Ii.isPlainObject(t)||t instanceof this.constructor?m(t,s):Ii.isString(t)&&(t=t.trim())&&!U4(t)?m(F4(t),s):t!=null&&d(s,t,l),this}get(t,s){if(t=r1(t),t){const l=Ii.findKey(this,t);if(l){const c=this[l];if(!s)return c;if(s===!0)return j4(c);if(Ii.isFunction(s))return s.call(this,c,l);if(Ii.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=r1(t),t){const l=Ii.findKey(this,t);return!!(l&&(!s||tT(this,this[l],l,s)))}return!1}delete(t,s){const l=this;let c=!1;function d(m){if(m=r1(m),m){const n=Ii.findKey(l,m);n&&(!s||tT(l,l[n],n,s))&&(delete l[n],c=!0)}}return Ii.isArray(t)?t.forEach(d):d(t),c}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(t){const s=this,l={};return Ii.forEach(this,(c,d)=>{const m=Ii.findKey(l,d);if(m){s[m]=Gy(c),delete s[d];return}const n=t?G4(d):String(d).trim();n!==d&&delete s[d],s[n]=Gy(c),l[n]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return Ii.forEach(this,(l,c)=>{l!=null&&l!==!1&&(s[c]=t&&Ii.isArray(l)?l.join(", "):l)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const l=new this(t);return s.forEach(c=>l.set(c)),l}static accessor(t){const l=(this[eT]=this[eT]={accessors:{}}).accessors,c=this.prototype;function d(m){const n=r1(m);l[n]||(V4(c,m),l[n]=!0)}return Ii.isArray(t)?t.forEach(d):d(t),this}}zv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);Ii.freezeMethods(zv.prototype);Ii.freezeMethods(zv);const tu=zv;function Sb(e,t){const s=this||e3,l=t||s,c=tu.from(l.headers);let d=l.data;return Ii.forEach(e,function(n){d=n.call(s,d,c.normalize(),t?t.status:void 0)}),c.normalize(),d}function J5(e){return!!(e&&e.__CANCEL__)}function N1(e,t,s){er.call(this,e??"canceled",er.ERR_CANCELED,t,s),this.name="CanceledError"}Ii.inherits(N1,er,{__CANCEL__:!0});const H4=null;function $4(e,t,s){const l=s.config.validateStatus;!s.status||!l||l(s.status)?e(s):t(new er("Request failed with status code "+s.status,[er.ERR_BAD_REQUEST,er.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const W4=pd.isStandardBrowserEnv?function(){return{write:function(s,l,c,d,m,n){const S=[];S.push(s+"="+encodeURIComponent(l)),Ii.isNumber(c)&&S.push("expires="+new Date(c).toGMTString()),Ii.isString(d)&&S.push("path="+d),Ii.isString(m)&&S.push("domain="+m),n===!0&&S.push("secure"),document.cookie=S.join("; ")},read:function(s){const l=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function q4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Y4(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Q5(e,t){return e&&!q4(t)?Y4(e,t):t}const X4=pd.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let l;function c(d){let m=d;return t&&(s.setAttribute("href",m),m=s.href),s.setAttribute("href",m),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return l=c(window.location.href),function(m){const n=Ii.isString(m)?c(m):m;return n.protocol===l.protocol&&n.host===l.host}}():function(){return function(){return!0}}();function Z4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function K4(e,t){e=e||10;const s=new Array(e),l=new Array(e);let c=0,d=0,m;return t=t!==void 0?t:1e3,function(S){const j=Date.now(),J=l[d];m||(m=j),s[c]=S,l[c]=j;let B=d,W=0;for(;B!==c;)W+=s[B++],B=B%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),j-m<t)return;const K=J&&j-J;return K?Math.round(W*1e3/K):void 0}}function iT(e,t){let s=0;const l=K4(50,250);return c=>{const d=c.loaded,m=c.lengthComputable?c.total:void 0,n=d-s,S=l(n),j=d<=m;s=d;const J={loaded:d,total:m,progress:m?d/m:void 0,bytes:n,rate:S||void 0,estimated:S&&m&&j?(m-d)/S:void 0,event:c};J[t?"download":"upload"]=!0,e(J)}}const J4=typeof XMLHttpRequest<"u",Q4=J4&&function(e){return new Promise(function(s,l){let c=e.data;const d=tu.from(e.headers).normalize(),m=e.responseType;let n;function S(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}Ii.isFormData(c)&&(pd.isStandardBrowserEnv||pd.isStandardBrowserWebWorkerEnv)&&d.setContentType(!1);let j=new XMLHttpRequest;if(e.auth){const K=e.auth.username||"",I=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.set("Authorization","Basic "+btoa(K+":"+I))}const J=Q5(e.baseURL,e.url);j.open(e.method.toUpperCase(),X5(J,e.params,e.paramsSerializer),!0),j.timeout=e.timeout;function B(){if(!j)return;const K=tu.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),O={data:!m||m==="text"||m==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:K,config:e,request:j};$4(function(M){s(M),S()},function(M){l(M),S()},O),j=null}if("onloadend"in j?j.onloadend=B:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(B)},j.onabort=function(){j&&(l(new er("Request aborted",er.ECONNABORTED,e,j)),j=null)},j.onerror=function(){l(new er("Network Error",er.ERR_NETWORK,e,j)),j=null},j.ontimeout=function(){let I=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const O=e.transitional||Z5;e.timeoutErrorMessage&&(I=e.timeoutErrorMessage),l(new er(I,O.clarifyTimeoutError?er.ETIMEDOUT:er.ECONNABORTED,e,j)),j=null},pd.isStandardBrowserEnv){const K=(e.withCredentials||X4(J))&&e.xsrfCookieName&&W4.read(e.xsrfCookieName);K&&d.set(e.xsrfHeaderName,K)}c===void 0&&d.setContentType(null),"setRequestHeader"in j&&Ii.forEach(d.toJSON(),function(I,O){j.setRequestHeader(O,I)}),Ii.isUndefined(e.withCredentials)||(j.withCredentials=!!e.withCredentials),m&&m!=="json"&&(j.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&j.addEventListener("progress",iT(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&j.upload&&j.upload.addEventListener("progress",iT(e.onUploadProgress)),(e.cancelToken||e.signal)&&(n=K=>{j&&(l(!K||K.type?new N1(null,e,j):K),j.abort(),j=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n)));const W=Z4(J);if(W&&pd.protocols.indexOf(W)===-1){l(new er("Unsupported protocol "+W+":",er.ERR_BAD_REQUEST,e));return}j.send(c||null)})},Vy={http:H4,xhr:Q4};Ii.forEach(Vy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ek={getAdapter:e=>{e=Ii.isArray(e)?e:[e];const{length:t}=e;let s,l;for(let c=0;c<t&&(s=e[c],!(l=Ii.isString(s)?Vy[s.toLowerCase()]:s));c++);if(!l)throw l===!1?new er(`Adapter ${s} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Ii.hasOwnProp(Vy,s)?`Adapter '${s}' is not available in the build`:`Unknown adapter '${s}'`);if(!Ii.isFunction(l))throw new TypeError("adapter is not a function");return l},adapters:Vy};function Tb(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new N1(null,e)}function nT(e){return Tb(e),e.headers=tu.from(e.headers),e.data=Sb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ek.getAdapter(e.adapter||e3.adapter)(e).then(function(l){return Tb(e),l.data=Sb.call(e,e.transformResponse,l),l.headers=tu.from(l.headers),l},function(l){return J5(l)||(Tb(e),l&&l.response&&(l.response.data=Sb.call(e,e.transformResponse,l.response),l.response.headers=tu.from(l.response.headers))),Promise.reject(l)})}const sT=e=>e instanceof tu?e.toJSON():e;function dm(e,t){t=t||{};const s={};function l(j,J,B){return Ii.isPlainObject(j)&&Ii.isPlainObject(J)?Ii.merge.call({caseless:B},j,J):Ii.isPlainObject(J)?Ii.merge({},J):Ii.isArray(J)?J.slice():J}function c(j,J,B){if(Ii.isUndefined(J)){if(!Ii.isUndefined(j))return l(void 0,j,B)}else return l(j,J,B)}function d(j,J){if(!Ii.isUndefined(J))return l(void 0,J)}function m(j,J){if(Ii.isUndefined(J)){if(!Ii.isUndefined(j))return l(void 0,j)}else return l(void 0,J)}function n(j,J,B){if(B in t)return l(j,J);if(B in e)return l(void 0,j)}const S={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:n,headers:(j,J)=>c(sT(j),sT(J),!0)};return Ii.forEach(Object.keys(e).concat(Object.keys(t)),function(J){const B=S[J]||c,W=B(e[J],t[J],J);Ii.isUndefined(W)&&B!==n||(s[J]=W)}),s}const eE="1.2.2",t3={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{t3[e]=function(l){return typeof l===e||"a"+(t<1?"n ":" ")+e}});const rT={};t3.transitional=function(t,s,l){function c(d,m){return"[Axios v"+eE+"] Transitional option '"+d+"'"+m+(l?". "+l:"")}return(d,m,n)=>{if(t===!1)throw new er(c(m," has been removed"+(s?" in "+s:"")),er.ERR_DEPRECATED);return s&&!rT[m]&&(rT[m]=!0,console.warn(c(m," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(d,m,n):!0}};function tk(e,t,s){if(typeof e!="object")throw new er("options must be an object",er.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let c=l.length;for(;c-- >0;){const d=l[c],m=t[d];if(m){const n=e[d],S=n===void 0||m(n,d,e);if(S!==!0)throw new er("option "+d+" must be "+S,er.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new er("Unknown option "+d,er.ERR_BAD_OPTION)}}const nw={assertOptions:tk,validators:t3},Hu=nw.validators;class nv{constructor(t){this.defaults=t,this.interceptors={request:new QS,response:new QS}}request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=dm(this.defaults,s);const{transitional:l,paramsSerializer:c,headers:d}=s;l!==void 0&&nw.assertOptions(l,{silentJSONParsing:Hu.transitional(Hu.boolean),forcedJSONParsing:Hu.transitional(Hu.boolean),clarifyTimeoutError:Hu.transitional(Hu.boolean)},!1),c!==void 0&&nw.assertOptions(c,{encode:Hu.function,serialize:Hu.function},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let m;m=d&&Ii.merge(d.common,d[s.method]),m&&Ii.forEach(["delete","get","head","post","put","patch","common"],I=>{delete d[I]}),s.headers=tu.concat(m,d);const n=[];let S=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(s)===!1||(S=S&&O.synchronous,n.unshift(O.fulfilled,O.rejected))});const j=[];this.interceptors.response.forEach(function(O){j.push(O.fulfilled,O.rejected)});let J,B=0,W;if(!S){const I=[nT.bind(this),void 0];for(I.unshift.apply(I,n),I.push.apply(I,j),W=I.length,J=Promise.resolve(s);B<W;)J=J.then(I[B++],I[B++]);return J}W=n.length;let K=s;for(B=0;B<W;){const I=n[B++],O=n[B++];try{K=I(K)}catch(H){O.call(this,H);break}}try{J=nT.call(this,K)}catch(I){return Promise.reject(I)}for(B=0,W=j.length;B<W;)J=J.then(j[B++],j[B++]);return J}getUri(t){t=dm(this.defaults,t);const s=Q5(t.baseURL,t.url);return X5(s,t.params,t.paramsSerializer)}}Ii.forEach(["delete","get","head","options"],function(t){nv.prototype[t]=function(s,l){return this.request(dm(l||{},{method:t,url:s,data:(l||{}).data}))}});Ii.forEach(["post","put","patch"],function(t){function s(l){return function(d,m,n){return this.request(dm(n||{},{method:t,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}nv.prototype[t]=s(),nv.prototype[t+"Form"]=s(!0)});const Hy=nv;class i3{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const l=this;this.promise.then(c=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](c);l._listeners=null}),this.promise.then=c=>{let d;const m=new Promise(n=>{l.subscribe(n),d=n}).then(c);return m.cancel=function(){l.unsubscribe(d)},m},t(function(d,m,n){l.reason||(l.reason=new N1(d,m,n),s(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}static source(){let t;return{token:new i3(function(c){t=c}),cancel:t}}}const ik=i3;function nk(e){return function(s){return e.apply(null,s)}}function sk(e){return Ii.isObject(e)&&e.isAxiosError===!0}const sw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sw).forEach(([e,t])=>{sw[t]=e});const rk=sw;function tE(e){const t=new Hy(e),s=z5(Hy.prototype.request,t);return Ii.extend(s,Hy.prototype,t,{allOwnKeys:!0}),Ii.extend(s,t,null,{allOwnKeys:!0}),s.create=function(c){return tE(dm(e,c))},s}const ra=tE(e3);ra.Axios=Hy;ra.CanceledError=N1;ra.CancelToken=ik;ra.isCancel=J5;ra.VERSION=eE;ra.toFormData=Rv;ra.AxiosError=er;ra.Cancel=ra.CanceledError;ra.all=function(t){return Promise.all(t)};ra.spread=nk;ra.isAxiosError=sk;ra.mergeConfig=dm;ra.AxiosHeaders=tu;ra.formToJSON=e=>K5(Ii.isHTMLForm(e)?new FormData(e):e);ra.HttpStatusCode=rk;ra.default=ra;const ok=ra;window._=HA;window.$=WA;window.axios=ok;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function ec(e,t){const s=Object.create(null),l=e.split(",");for(let c=0;c<l.length;c++)s[l[c]]=!0;return t?c=>!!s[c.toLowerCase()]:c=>!!s[c]}const ak="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",lk=ec(ak);function _d(e){if(gn(e)){const t={};for(let s=0;s<e.length;s++){const l=e[s],c=ys(l)?iE(l):_d(l);if(c)for(const d in c)t[d]=c[d]}return t}else{if(ys(e))return e;if(br(e))return e}}const ck=/;(?![^(]*\))/g,hk=/:([^]+)/,dk=/\/\*.*?\*\//gs;function iE(e){const t={};return e.replace(dk,"").split(ck).forEach(s=>{if(s){const l=s.split(hk);l.length>1&&(t[l[0].trim()]=l[1].trim())}}),t}function zr(e){let t="";if(ys(e))t=e;else if(gn(e))for(let s=0;s<e.length;s++){const l=zr(e[s]);l&&(t+=l+" ")}else if(br(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}function sv(e){if(!e)return null;let{class:t,style:s}=e;return t&&!ys(t)&&(e.class=zr(t)),s&&(e.style=_d(s)),e}const uk="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",pk="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",fk="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",mk=ec(uk),gk=ec(pk),_k=ec(fk),yk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vk=ec(yk);function nE(e){return!!e||e===""}function xk(e,t){if(e.length!==t.length)return!1;let s=!0;for(let l=0;s&&l<e.length;l++)s=ap(e[l],t[l]);return s}function ap(e,t){if(e===t)return!0;let s=oT(e),l=oT(t);if(s||l)return s&&l?e.getTime()===t.getTime():!1;if(s=lp(e),l=lp(t),s||l)return e===t;if(s=gn(e),l=gn(t),s||l)return s&&l?xk(e,t):!1;if(s=br(e),l=br(t),s||l){if(!s||!l)return!1;const c=Object.keys(e).length,d=Object.keys(t).length;if(c!==d)return!1;for(const m in e){const n=e.hasOwnProperty(m),S=t.hasOwnProperty(m);if(n&&!S||!n&&S||!ap(e[m],t[m]))return!1}}return String(e)===String(t)}function Nv(e,t){return e.findIndex(s=>ap(s,t))}const cn=e=>ys(e)?e:e==null?"":gn(e)||br(e)&&(e.toString===rE||!rs(e.toString))?JSON.stringify(e,sE,2):String(e),sE=(e,t)=>t&&t.__v_isRef?sE(e,t.value):im(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[l,c])=>(s[`${l} =>`]=c,s),{})}:Ff(t)?{[`Set(${t.size})`]:[...t.values()]}:br(t)&&!gn(t)&&!oE(t)?String(t):t,yr={},tm=[],Ml=()=>{},$y=()=>!1,bk=/^on[^a-z]/,Nf=e=>bk.test(e),n3=e=>e.startsWith("onUpdate:"),ar=Object.assign,s3=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},wk=Object.prototype.hasOwnProperty,Qs=(e,t)=>wk.call(e,t),gn=Array.isArray,im=e=>F1(e)==="[object Map]",Ff=e=>F1(e)==="[object Set]",oT=e=>F1(e)==="[object Date]",rs=e=>typeof e=="function",ys=e=>typeof e=="string",lp=e=>typeof e=="symbol",br=e=>e!==null&&typeof e=="object",r3=e=>br(e)&&rs(e.then)&&rs(e.catch),rE=Object.prototype.toString,F1=e=>rE.call(e),Sk=e=>F1(e).slice(8,-1),oE=e=>F1(e)==="[object Object]",o3=e=>ys(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ef=ec(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tk=ec("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Fv=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Ek=/-(\w)/g,ya=Fv(e=>e.replace(Ek,(t,s)=>s?s.toUpperCase():"")),Ck=/\B([A-Z])/g,Cc=Fv(e=>e.replace(Ck,"-$1").toLowerCase()),yp=Fv(e=>e.charAt(0).toUpperCase()+e.slice(1)),Cf=Fv(e=>e?`on${yp(e)}`:""),um=(e,t)=>!Object.is(e,t),nm=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},rv=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},su=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let aT;const Mk=()=>aT||(aT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let bc;class jv{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=bc,!t&&bc&&(this.index=(bc.scopes||(bc.scopes=[])).push(this)-1)}run(t){if(this.active){const s=bc;try{return bc=this,t()}finally{bc=s}}}on(){bc=this}off(){bc=this.parent}stop(t){if(this.active){let s,l;for(s=0,l=this.effects.length;s<l;s++)this.effects[s].stop();for(s=0,l=this.cleanups.length;s<l;s++)this.cleanups[s]();if(this.scopes)for(s=0,l=this.scopes.length;s<l;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0,this.active=!1}}}function aE(e){return new jv(e)}function lE(e,t=bc){t&&t.active&&t.effects.push(e)}function cE(){return bc}function hE(e){bc&&bc.cleanups.push(e)}const a3=e=>{const t=new Set(e);return t.w=0,t.n=0,t},dE=e=>(e.w&cp)>0,uE=e=>(e.n&cp)>0,Ak=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=cp},kk=e=>{const{deps:t}=e;if(t.length){let s=0;for(let l=0;l<t.length;l++){const c=t[l];dE(c)&&!uE(c)?c.delete(e):t[s++]=c,c.w&=~cp,c.n&=~cp}t.length=s}},rw=new WeakMap;let d1=0,cp=1;const ow=30;let kh;const Mf=Symbol(""),aw=Symbol("");class Sm{constructor(t,s=null,l){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,lE(this,l)}run(){if(!this.active)return this.fn();let t=kh,s=ip;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=kh,kh=this,ip=!0,cp=1<<++d1,d1<=ow?Ak(this):lT(this),this.fn()}finally{d1<=ow&&kk(this),cp=1<<--d1,kh=this.parent,ip=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){kh===this?this.deferStop=!0:this.active&&(lT(this),this.onStop&&this.onStop(),this.active=!1)}}function lT(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}function pE(e,t){e.effect&&(e=e.effect.fn);const s=new Sm(e);t&&(ar(s,t),t.scope&&lE(s,t.scope)),(!t||!t.lazy)&&s.run();const l=s.run.bind(s);return l.effect=s,l}function fE(e){e.effect.stop()}let ip=!0;const mE=[];function Tm(){mE.push(ip),ip=!1}function Em(){const e=mE.pop();ip=e===void 0?!0:e}function Ac(e,t,s){if(ip&&kh){let l=rw.get(e);l||rw.set(e,l=new Map);let c=l.get(s);c||l.set(s,c=a3()),gE(c)}}function gE(e,t){let s=!1;d1<=ow?uE(e)||(e.n|=cp,s=!dE(e)):s=!e.has(kh),s&&(e.add(kh),kh.deps.push(e))}function ru(e,t,s,l,c,d){const m=rw.get(e);if(!m)return;let n=[];if(t==="clear")n=[...m.values()];else if(s==="length"&&gn(e)){const S=su(l);m.forEach((j,J)=>{(J==="length"||J>=S)&&n.push(j)})}else switch(s!==void 0&&n.push(m.get(s)),t){case"add":gn(e)?o3(s)&&n.push(m.get("length")):(n.push(m.get(Mf)),im(e)&&n.push(m.get(aw)));break;case"delete":gn(e)||(n.push(m.get(Mf)),im(e)&&n.push(m.get(aw)));break;case"set":im(e)&&n.push(m.get(Mf));break}if(n.length===1)n[0]&&lw(n[0]);else{const S=[];for(const j of n)j&&S.push(...j);lw(a3(S))}}function lw(e,t){const s=gn(e)?e:[...e];for(const l of s)l.computed&&cT(l);for(const l of s)l.computed||cT(l)}function cT(e,t){(e!==kh||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Pk=ec("__proto__,__v_isRef,__isVue"),_E=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(lp)),Dk=Uv(),Ik=Uv(!1,!0),Lk=Uv(!0),Ok=Uv(!0,!0),hT=Rk();function Rk(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const l=Vs(this);for(let d=0,m=this.length;d<m;d++)Ac(l,"get",d+"");const c=l[t](...s);return c===-1||c===!1?l[t](...s.map(Vs)):c}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){Tm();const l=Vs(this)[t].apply(this,s);return Em(),l}}),e}function Uv(e=!1,t=!1){return function(l,c,d){if(c==="__v_isReactive")return!e;if(c==="__v_isReadonly")return e;if(c==="__v_isShallow")return t;if(c==="__v_raw"&&d===(e?t?TE:SE:t?wE:bE).get(l))return l;const m=gn(l);if(!e&&m&&Qs(hT,c))return Reflect.get(hT,c,d);const n=Reflect.get(l,c,d);return(lp(c)?_E.has(c):Pk(c))||(e||Ac(l,"get",c),t)?n:ia(n)?m&&o3(c)?n:n.value:br(n)?e?Hv(n):j1(n):n}}const Bk=yE(),zk=yE(!0);function yE(e=!1){return function(s,l,c,d){let m=s[l];if(hp(m)&&ia(m)&&!ia(c))return!1;if(!e&&(!pm(c)&&!hp(c)&&(m=Vs(m),c=Vs(c)),!gn(s)&&ia(m)&&!ia(c)))return m.value=c,!0;const n=gn(s)&&o3(l)?Number(l)<s.length:Qs(s,l),S=Reflect.set(s,l,c,d);return s===Vs(d)&&(n?um(c,m)&&ru(s,"set",l,c):ru(s,"add",l,c)),S}}function Nk(e,t){const s=Qs(e,t);e[t];const l=Reflect.deleteProperty(e,t);return l&&s&&ru(e,"delete",t,void 0),l}function Fk(e,t){const s=Reflect.has(e,t);return(!lp(t)||!_E.has(t))&&Ac(e,"has",t),s}function jk(e){return Ac(e,"iterate",gn(e)?"length":Mf),Reflect.ownKeys(e)}const vE={get:Dk,set:Bk,deleteProperty:Nk,has:Fk,ownKeys:jk},xE={get:Lk,set(e,t){return!0},deleteProperty(e,t){return!0}},Uk=ar({},vE,{get:Ik,set:zk}),Gk=ar({},xE,{get:Ok}),l3=e=>e,Gv=e=>Reflect.getPrototypeOf(e);function by(e,t,s=!1,l=!1){e=e.__v_raw;const c=Vs(e),d=Vs(t);s||(t!==d&&Ac(c,"get",t),Ac(c,"get",d));const{has:m}=Gv(c),n=l?l3:s?h3:w1;if(m.call(c,t))return n(e.get(t));if(m.call(c,d))return n(e.get(d));e!==c&&e.get(t)}function wy(e,t=!1){const s=this.__v_raw,l=Vs(s),c=Vs(e);return t||(e!==c&&Ac(l,"has",e),Ac(l,"has",c)),e===c?s.has(e):s.has(e)||s.has(c)}function Sy(e,t=!1){return e=e.__v_raw,!t&&Ac(Vs(e),"iterate",Mf),Reflect.get(e,"size",e)}function dT(e){e=Vs(e);const t=Vs(this);return Gv(t).has.call(t,e)||(t.add(e),ru(t,"add",e,e)),this}function uT(e,t){t=Vs(t);const s=Vs(this),{has:l,get:c}=Gv(s);let d=l.call(s,e);d||(e=Vs(e),d=l.call(s,e));const m=c.call(s,e);return s.set(e,t),d?um(t,m)&&ru(s,"set",e,t):ru(s,"add",e,t),this}function pT(e){const t=Vs(this),{has:s,get:l}=Gv(t);let c=s.call(t,e);c||(e=Vs(e),c=s.call(t,e)),l&&l.call(t,e);const d=t.delete(e);return c&&ru(t,"delete",e,void 0),d}function fT(){const e=Vs(this),t=e.size!==0,s=e.clear();return t&&ru(e,"clear",void 0,void 0),s}function Ty(e,t){return function(l,c){const d=this,m=d.__v_raw,n=Vs(m),S=t?l3:e?h3:w1;return!e&&Ac(n,"iterate",Mf),m.forEach((j,J)=>l.call(c,S(j),S(J),d))}}function Ey(e,t,s){return function(...l){const c=this.__v_raw,d=Vs(c),m=im(d),n=e==="entries"||e===Symbol.iterator&&m,S=e==="keys"&&m,j=c[e](...l),J=s?l3:t?h3:w1;return!t&&Ac(d,"iterate",S?aw:Mf),{next(){const{value:B,done:W}=j.next();return W?{value:B,done:W}:{value:n?[J(B[0]),J(B[1])]:J(B),done:W}},[Symbol.iterator](){return this}}}}function $u(e){return function(...t){return e==="delete"?!1:this}}function Vk(){const e={get(d){return by(this,d)},get size(){return Sy(this)},has:wy,add:dT,set:uT,delete:pT,clear:fT,forEach:Ty(!1,!1)},t={get(d){return by(this,d,!1,!0)},get size(){return Sy(this)},has:wy,add:dT,set:uT,delete:pT,clear:fT,forEach:Ty(!1,!0)},s={get(d){return by(this,d,!0)},get size(){return Sy(this,!0)},has(d){return wy.call(this,d,!0)},add:$u("add"),set:$u("set"),delete:$u("delete"),clear:$u("clear"),forEach:Ty(!0,!1)},l={get(d){return by(this,d,!0,!0)},get size(){return Sy(this,!0)},has(d){return wy.call(this,d,!0)},add:$u("add"),set:$u("set"),delete:$u("delete"),clear:$u("clear"),forEach:Ty(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{e[d]=Ey(d,!1,!1),s[d]=Ey(d,!0,!1),t[d]=Ey(d,!1,!0),l[d]=Ey(d,!0,!0)}),[e,s,t,l]}const[Hk,$k,Wk,qk]=Vk();function Vv(e,t){const s=t?e?qk:Wk:e?$k:Hk;return(l,c,d)=>c==="__v_isReactive"?!e:c==="__v_isReadonly"?e:c==="__v_raw"?l:Reflect.get(Qs(s,c)&&c in l?s:l,c,d)}const Yk={get:Vv(!1,!1)},Xk={get:Vv(!1,!0)},Zk={get:Vv(!0,!1)},Kk={get:Vv(!0,!0)},bE=new WeakMap,wE=new WeakMap,SE=new WeakMap,TE=new WeakMap;function Jk(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qk(e){return e.__v_skip||!Object.isExtensible(e)?0:Jk(Sk(e))}function j1(e){return hp(e)?e:$v(e,!1,vE,Yk,bE)}function c3(e){return $v(e,!1,Uk,Xk,wE)}function Hv(e){return $v(e,!0,xE,Zk,SE)}function EE(e){return $v(e,!0,Gk,Kk,TE)}function $v(e,t,s,l,c){if(!br(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const d=c.get(e);if(d)return d;const m=Qk(e);if(m===0)return e;const n=new Proxy(e,m===2?l:s);return c.set(e,n),n}function np(e){return hp(e)?np(e.__v_raw):!!(e&&e.__v_isReactive)}function hp(e){return!!(e&&e.__v_isReadonly)}function pm(e){return!!(e&&e.__v_isShallow)}function Wv(e){return np(e)||hp(e)}function Vs(e){const t=e&&e.__v_raw;return t?Vs(t):e}function qv(e){return rv(e,"__v_skip",!0),e}const w1=e=>br(e)?j1(e):e,h3=e=>br(e)?Hv(e):e;function d3(e){ip&&kh&&(e=Vs(e),gE(e.dep||(e.dep=a3())))}function Yv(e,t){e=Vs(e),e.dep&&lw(e.dep)}function ia(e){return!!(e&&e.__v_isRef===!0)}function co(e){return ME(e,!1)}function CE(e){return ME(e,!0)}function ME(e,t){return ia(e)?e:new e6(e,t)}class e6{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:Vs(t),this._value=s?t:w1(t)}get value(){return d3(this),this._value}set value(t){const s=this.__v_isShallow||pm(t)||hp(t);t=s?t:Vs(t),um(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:w1(t),Yv(this))}}function AE(e){Yv(e)}function Go(e){return ia(e)?e.value:e}const t6={get:(e,t,s)=>Go(Reflect.get(e,t,s)),set:(e,t,s,l)=>{const c=e[t];return ia(c)&&!ia(s)?(c.value=s,!0):Reflect.set(e,t,s,l)}};function Xv(e){return np(e)?e:new Proxy(e,t6)}class i6{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:s,set:l}=t(()=>d3(this),()=>Yv(this));this._get=s,this._set=l}get value(){return this._get()}set value(t){this._set(t)}}function kE(e){return new i6(e)}function PE(e){const t=gn(e)?new Array(e.length):{};for(const s in e)t[s]=u3(e,s);return t}class n6{constructor(t,s,l){this._object=t,this._key=s,this._defaultValue=l,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function u3(e,t,s){const l=e[t];return ia(l)?l:new n6(e,t,s)}var DE;class s6{constructor(t,s,l,c){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[DE]=!1,this._dirty=!0,this.effect=new Sm(t,()=>{this._dirty||(this._dirty=!0,Yv(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!c,this.__v_isReadonly=l}get value(){const t=Vs(this);return d3(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}DE="__v_isReadonly";function r6(e,t,s=!1){let l,c;const d=rs(e);return d?(l=e,c=Ml):(l=e.get,c=e.set),new s6(l,c,d||!c,s)}function IE(e,...t){}function md(e,t,s,l){let c;try{c=l?e(...l):e()}catch(d){vp(d,t,s)}return c}function Ql(e,t,s,l){if(rs(e)){const d=md(e,t,s,l);return d&&r3(d)&&d.catch(m=>{vp(m,t,s)}),d}const c=[];for(let d=0;d<e.length;d++)c.push(Ql(e[d],t,s,l));return c}function vp(e,t,s,l=!0){const c=t?t.vnode:null;if(t){let d=t.parent;const m=t.proxy,n=s;for(;d;){const j=d.ec;if(j){for(let J=0;J<j.length;J++)if(j[J](e,m,n)===!1)return}d=d.parent}const S=t.appContext.config.errorHandler;if(S){md(S,null,10,[e,m,n]);return}}o6(e,s,c,l)}function o6(e,t,s,l=!0){console.error(e)}let S1=!1,cw=!1;const Ka=[];let hd=0;const sm=[];let Zd=null,vf=0;const LE=Promise.resolve();let p3=null;function Cm(e){const t=p3||LE;return e?t.then(this?e.bind(this):e):t}function a6(e){let t=hd+1,s=Ka.length;for(;t<s;){const l=t+s>>>1;T1(Ka[l])<e?t=l+1:s=l}return t}function Zv(e){(!Ka.length||!Ka.includes(e,S1&&e.allowRecurse?hd+1:hd))&&(e.id==null?Ka.push(e):Ka.splice(a6(e.id),0,e),OE())}function OE(){!S1&&!cw&&(cw=!0,p3=LE.then(RE))}function l6(e){const t=Ka.indexOf(e);t>hd&&Ka.splice(t,1)}function Kv(e){gn(e)?sm.push(...e):(!Zd||!Zd.includes(e,e.allowRecurse?vf+1:vf))&&sm.push(e),OE()}function mT(e,t=S1?hd+1:0){for(;t<Ka.length;t++){const s=Ka[t];s&&s.pre&&(Ka.splice(t,1),t--,s())}}function ov(e){if(sm.length){const t=[...new Set(sm)];if(sm.length=0,Zd){Zd.push(...t);return}for(Zd=t,Zd.sort((s,l)=>T1(s)-T1(l)),vf=0;vf<Zd.length;vf++)Zd[vf]();Zd=null,vf=0}}const T1=e=>e.id==null?1/0:e.id,c6=(e,t)=>{const s=T1(e)-T1(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function RE(e){cw=!1,S1=!0,Ka.sort(c6);const t=Ml;try{for(hd=0;hd<Ka.length;hd++){const s=Ka[hd];s&&s.active!==!1&&md(s,null,14)}}finally{hd=0,Ka.length=0,ov(),S1=!1,p3=null,(Ka.length||sm.length)&&RE()}}let xf,Cy=[];function f3(e,t){var s,l;xf=e,xf?(xf.enabled=!0,Cy.forEach(({event:c,args:d})=>xf.emit(c,...d)),Cy=[]):typeof window<"u"&&window.HTMLElement&&!(!((l=(s=window.navigator)===null||s===void 0?void 0:s.userAgent)===null||l===void 0)&&l.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(d=>{f3(d,t)}),setTimeout(()=>{xf||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Cy=[])},3e3)):Cy=[]}function h6(e,t,...s){if(e.isUnmounted)return;const l=e.vnode.props||yr;let c=s;const d=t.startsWith("update:"),m=d&&t.slice(7);if(m&&m in l){const J=`${m==="modelValue"?"model":m}Modifiers`,{number:B,trim:W}=l[J]||yr;W&&(c=s.map(K=>ys(K)?K.trim():K)),B&&(c=s.map(su))}let n,S=l[n=Cf(t)]||l[n=Cf(ya(t))];!S&&d&&(S=l[n=Cf(Cc(t))]),S&&Ql(S,e,6,c);const j=l[n+"Once"];if(j){if(!e.emitted)e.emitted={};else if(e.emitted[n])return;e.emitted[n]=!0,Ql(j,e,6,c)}}function BE(e,t,s=!1){const l=t.emitsCache,c=l.get(e);if(c!==void 0)return c;const d=e.emits;let m={},n=!1;if(!rs(e)){const S=j=>{const J=BE(j,t,!0);J&&(n=!0,ar(m,J))};!s&&t.mixins.length&&t.mixins.forEach(S),e.extends&&S(e.extends),e.mixins&&e.mixins.forEach(S)}return!d&&!n?(br(e)&&l.set(e,null),null):(gn(d)?d.forEach(S=>m[S]=null):ar(m,d),br(e)&&l.set(e,m),m)}function Jv(e,t){return!e||!Nf(t)?!1:(t=t.slice(2).replace(/Once$/,""),Qs(e,t[0].toLowerCase()+t.slice(1))||Qs(e,Cc(t))||Qs(e,t))}let Da=null,Qv=null;function E1(e){const t=Da;return Da=e,Qv=e&&e.type.__scopeId||null,t}function jf(e){Qv=e}function Uf(){Qv=null}const zE=e=>io;function io(e,t=Da,s){if(!t||e._n)return e;const l=(...c)=>{l._d&&cv(-1);const d=E1(t);let m;try{m=e(...c)}finally{E1(d),l._d&&cv(1)}return m};return l._n=!0,l._c=!0,l._d=!0,l}function Wy(e){const{type:t,vnode:s,proxy:l,withProxy:c,props:d,propsOptions:[m],slots:n,attrs:S,emit:j,render:J,renderCache:B,data:W,setupState:K,ctx:I,inheritAttrs:O}=e;let H,M;const E=E1(e);try{if(s.shapeFlag&4){const V=c||l;H=Tc(J.call(V,V,B,d,K,W,I)),M=S}else{const V=t;H=Tc(V.length>1?V(d,{attrs:S,slots:n,emit:j}):V(d,null)),M=t.props?S:u6(S)}}catch(V){m1.length=0,vp(V,e,1),H=en(Ia)}let k=H;if(M&&O!==!1){const V=Object.keys(M),{shapeFlag:G}=k;V.length&&G&7&&(m&&V.some(n3)&&(M=p6(M,m)),k=Lh(k,M))}return s.dirs&&(k=Lh(k),k.dirs=k.dirs?k.dirs.concat(s.dirs):s.dirs),s.transition&&(k.transition=s.transition),H=k,E1(E),H}function d6(e){let t;for(let s=0;s<e.length;s++){const l=e[s];if(ou(l)){if(l.type!==Ia||l.children==="v-if"){if(t)return;t=l}}else return}return t}const u6=e=>{let t;for(const s in e)(s==="class"||s==="style"||Nf(s))&&((t||(t={}))[s]=e[s]);return t},p6=(e,t)=>{const s={};for(const l in e)(!n3(l)||!(l.slice(9)in t))&&(s[l]=e[l]);return s};function f6(e,t,s){const{props:l,children:c,component:d}=e,{props:m,children:n,patchFlag:S}=t,j=d.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&S>=0){if(S&1024)return!0;if(S&16)return l?gT(l,m,j):!!m;if(S&8){const J=t.dynamicProps;for(let B=0;B<J.length;B++){const W=J[B];if(m[W]!==l[W]&&!Jv(j,W))return!0}}}else return(c||n)&&(!n||!n.$stable)?!0:l===m?!1:l?m?gT(l,m,j):!0:!!m;return!1}function gT(e,t,s){const l=Object.keys(t);if(l.length!==Object.keys(e).length)return!0;for(let c=0;c<l.length;c++){const d=l[c];if(t[d]!==e[d]&&!Jv(s,d))return!0}return!1}function m3({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const NE=e=>e.__isSuspense,m6={name:"Suspense",__isSuspense:!0,process(e,t,s,l,c,d,m,n,S,j){e==null?g6(t,s,l,c,d,m,n,S,j):_6(e,t,s,l,c,m,n,S,j)},hydrate:y6,create:g3,normalize:v6},FE=m6;function C1(e,t){const s=e.props&&e.props[t];rs(s)&&s()}function g6(e,t,s,l,c,d,m,n,S){const{p:j,o:{createElement:J}}=S,B=J("div"),W=e.suspense=g3(e,c,l,t,B,s,d,m,n,S);j(null,W.pendingBranch=e.ssContent,B,null,l,W,d,m),W.deps>0?(C1(e,"onPending"),C1(e,"onFallback"),j(null,e.ssFallback,t,s,l,null,d,m),rm(W,e.ssFallback)):W.resolve()}function _6(e,t,s,l,c,d,m,n,{p:S,um:j,o:{createElement:J}}){const B=t.suspense=e.suspense;B.vnode=t,t.el=e.el;const W=t.ssContent,K=t.ssFallback,{activeBranch:I,pendingBranch:O,isInFallback:H,isHydrating:M}=B;if(O)B.pendingBranch=W,dd(W,O)?(S(O,W,B.hiddenContainer,null,c,B,d,m,n),B.deps<=0?B.resolve():H&&(S(I,K,s,l,c,null,d,m,n),rm(B,K))):(B.pendingId++,M?(B.isHydrating=!1,B.activeBranch=O):j(O,c,B),B.deps=0,B.effects.length=0,B.hiddenContainer=J("div"),H?(S(null,W,B.hiddenContainer,null,c,B,d,m,n),B.deps<=0?B.resolve():(S(I,K,s,l,c,null,d,m,n),rm(B,K))):I&&dd(W,I)?(S(I,W,s,l,c,B,d,m,n),B.resolve(!0)):(S(null,W,B.hiddenContainer,null,c,B,d,m,n),B.deps<=0&&B.resolve()));else if(I&&dd(W,I))S(I,W,s,l,c,B,d,m,n),rm(B,W);else if(C1(t,"onPending"),B.pendingBranch=W,B.pendingId++,S(null,W,B.hiddenContainer,null,c,B,d,m,n),B.deps<=0)B.resolve();else{const{timeout:E,pendingId:k}=B;E>0?setTimeout(()=>{B.pendingId===k&&B.fallback(K)},E):E===0&&B.fallback(K)}}function g3(e,t,s,l,c,d,m,n,S,j,J=!1){const{p:B,m:W,um:K,n:I,o:{parentNode:O,remove:H}}=j,M=su(e.props&&e.props.timeout),E={vnode:e,parent:t,parentComponent:s,isSVG:m,container:l,hiddenContainer:c,anchor:d,deps:0,pendingId:0,timeout:typeof M=="number"?M:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:J,isUnmounted:!1,effects:[],resolve(k=!1){const{vnode:V,activeBranch:G,pendingBranch:C,pendingId:ie,effects:Q,parentComponent:N,container:F}=E;if(E.isHydrating)E.isHydrating=!1;else if(!k){const L=G&&C.transition&&C.transition.mode==="out-in";L&&(G.transition.afterLeave=()=>{ie===E.pendingId&&W(C,F,f,0)});let{anchor:f}=E;G&&(f=I(G),K(G,N,E,!0)),L||W(C,F,f,0)}rm(E,C),E.pendingBranch=null,E.isInFallback=!1;let $=E.parent,w=!1;for(;$;){if($.pendingBranch){$.effects.push(...Q),w=!0;break}$=$.parent}w||Kv(Q),E.effects=[],C1(V,"onResolve")},fallback(k){if(!E.pendingBranch)return;const{vnode:V,activeBranch:G,parentComponent:C,container:ie,isSVG:Q}=E;C1(V,"onFallback");const N=I(G),F=()=>{E.isInFallback&&(B(null,k,ie,N,C,null,Q,n,S),rm(E,k))},$=k.transition&&k.transition.mode==="out-in";$&&(G.transition.afterLeave=F),E.isInFallback=!0,K(G,C,null,!0),$||F()},move(k,V,G){E.activeBranch&&W(E.activeBranch,k,V,G),E.container=k},next(){return E.activeBranch&&I(E.activeBranch)},registerDep(k,V){const G=!!E.pendingBranch;G&&E.deps++;const C=k.vnode.el;k.asyncDep.catch(ie=>{vp(ie,k,0)}).then(ie=>{if(k.isUnmounted||E.isUnmounted||E.pendingId!==k.suspenseId)return;k.asyncResolved=!0;const{vnode:Q}=k;gw(k,ie,!1),C&&(Q.el=C);const N=!C&&k.subTree.el;V(k,Q,O(C||k.subTree.el),C?null:I(k.subTree),E,m,S),N&&H(N),m3(k,Q.el),G&&--E.deps===0&&E.resolve()})},unmount(k,V){E.isUnmounted=!0,E.activeBranch&&K(E.activeBranch,s,k,V),E.pendingBranch&&K(E.pendingBranch,s,k,V)}};return E}function y6(e,t,s,l,c,d,m,n,S){const j=t.suspense=g3(t,l,s,e.parentNode,document.createElement("div"),null,c,d,m,n,!0),J=S(e,j.pendingBranch=t.ssContent,s,j,d,m);return j.deps===0&&j.resolve(),J}function v6(e){const{shapeFlag:t,children:s}=e,l=t&32;e.ssContent=_T(l?s.default:s),e.ssFallback=l?_T(s.fallback):en(Ia)}function _T(e){let t;if(rs(e)){const s=Of&&e._c;s&&(e._d=!1,di()),e=e(),s&&(e._d=!0,t=Kl,cC())}return gn(e)&&(e=d6(e)),e=Tc(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(s=>s!==e)),e}function jE(e,t){t&&t.pendingBranch?gn(e)?t.effects.push(...e):t.effects.push(e):Kv(e)}function rm(e,t){e.activeBranch=t;const{vnode:s,parentComponent:l}=e,c=s.el=t.el;l&&l.subTree===s&&(l.vnode.el=c,m3(l,c))}function Mm(e,t){if(ta){let s=ta.provides;const l=ta.parent&&ta.parent.provides;l===s&&(s=ta.provides=Object.create(l)),s[e]=t}}function Af(e,t,s=!1){const l=ta||Da;if(l){const c=l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides;if(c&&e in c)return c[e];if(arguments.length>1)return s&&rs(t)?t.call(l.proxy):t}}function UE(e,t){return U1(e,null,t)}function _3(e,t){return U1(e,null,{flush:"post"})}function GE(e,t){return U1(e,null,{flush:"sync"})}const My={};function ah(e,t,s){return U1(e,t,s)}function U1(e,t,{immediate:s,deep:l,flush:c,onTrack:d,onTrigger:m}=yr){const n=ta;let S,j=!1,J=!1;if(ia(e)?(S=()=>e.value,j=pm(e)):np(e)?(S=()=>e,l=!0):gn(e)?(J=!0,j=e.some(k=>np(k)||pm(k)),S=()=>e.map(k=>{if(ia(k))return k.value;if(np(k))return wf(k);if(rs(k))return md(k,n,2)})):rs(e)?t?S=()=>md(e,n,2):S=()=>{if(!(n&&n.isUnmounted))return B&&B(),Ql(e,n,3,[W])}:S=Ml,t&&l){const k=S;S=()=>wf(k())}let B,W=k=>{B=M.onStop=()=>{md(k,n,4)}},K;if(fm)if(W=Ml,t?s&&Ql(t,n,3,[S(),J?[]:void 0,W]):S(),c==="sync"){const k=B3();K=k.__watcherHandles||(k.__watcherHandles=[])}else return Ml;let I=J?new Array(e.length).fill(My):My;const O=()=>{if(M.active)if(t){const k=M.run();(l||j||(J?k.some((V,G)=>um(V,I[G])):um(k,I)))&&(B&&B(),Ql(t,n,3,[k,I===My?void 0:J&&I[0]===My?[]:I,W]),I=k)}else M.run()};O.allowRecurse=!!t;let H;c==="sync"?H=O:c==="post"?H=()=>Pa(O,n&&n.suspense):(O.pre=!0,n&&(O.id=n.uid),H=()=>Zv(O));const M=new Sm(S,H);t?s?O():I=M.run():c==="post"?Pa(M.run.bind(M),n&&n.suspense):M.run();const E=()=>{M.stop(),n&&n.scope&&s3(n.scope.effects,M)};return K&&K.push(E),E}function x6(e,t,s){const l=this.proxy,c=ys(e)?e.includes(".")?VE(l,e):()=>l[e]:e.bind(l,l);let d;rs(t)?d=t:(d=t.handler,s=t);const m=ta;pp(this);const n=U1(c,d.bind(l),s);return m?pp(m):rp(),n}function VE(e,t){const s=t.split(".");return()=>{let l=e;for(let c=0;c<s.length&&l;c++)l=l[s[c]];return l}}function wf(e,t){if(!br(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ia(e))wf(e.value,t);else if(gn(e))for(let s=0;s<e.length;s++)wf(e[s],t);else if(Ff(e)||im(e))e.forEach(s=>{wf(s,t)});else if(oE(e))for(const s in e)wf(e[s],t);return e}function ex(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yd(()=>{e.isMounted=!0}),Vf(()=>{e.isUnmounting=!0}),e}const eh=[Function,Array],b6={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:eh,onEnter:eh,onAfterEnter:eh,onEnterCancelled:eh,onBeforeLeave:eh,onLeave:eh,onAfterLeave:eh,onLeaveCancelled:eh,onBeforeAppear:eh,onAppear:eh,onAfterAppear:eh,onAppearCancelled:eh},setup(e,{slots:t}){const s=hu(),l=ex();let c;return()=>{const d=t.default&&G1(t.default(),!0);if(!d||!d.length)return;let m=d[0];if(d.length>1){for(const O of d)if(O.type!==Ia){m=O;break}}const n=Vs(e),{mode:S}=n;if(l.isLeaving)return Eb(m);const j=yT(m);if(!j)return Eb(m);const J=Lf(j,n,l,s);dp(j,J);const B=s.subTree,W=B&&yT(B);let K=!1;const{getTransitionKey:I}=j.type;if(I){const O=I();c===void 0?c=O:O!==c&&(c=O,K=!0)}if(W&&W.type!==Ia&&(!dd(j,W)||K)){const O=Lf(W,n,l,s);if(dp(W,O),S==="out-in")return l.isLeaving=!0,O.afterLeave=()=>{l.isLeaving=!1,s.update.active!==!1&&s.update()},Eb(m);S==="in-out"&&j.type!==Ia&&(O.delayLeave=(H,M,E)=>{const k=HE(l,W);k[String(W.key)]=W,H._leaveCb=()=>{M(),H._leaveCb=void 0,delete J.delayedLeave},J.delayedLeave=E})}return m}}},tx=b6;function HE(e,t){const{leavingVNodes:s}=e;let l=s.get(t.type);return l||(l=Object.create(null),s.set(t.type,l)),l}function Lf(e,t,s,l){const{appear:c,mode:d,persisted:m=!1,onBeforeEnter:n,onEnter:S,onAfterEnter:j,onEnterCancelled:J,onBeforeLeave:B,onLeave:W,onAfterLeave:K,onLeaveCancelled:I,onBeforeAppear:O,onAppear:H,onAfterAppear:M,onAppearCancelled:E}=t,k=String(e.key),V=HE(s,e),G=(Q,N)=>{Q&&Ql(Q,l,9,N)},C=(Q,N)=>{const F=N[1];G(Q,N),gn(Q)?Q.every($=>$.length<=1)&&F():Q.length<=1&&F()},ie={mode:d,persisted:m,beforeEnter(Q){let N=n;if(!s.isMounted)if(c)N=O||n;else return;Q._leaveCb&&Q._leaveCb(!0);const F=V[k];F&&dd(e,F)&&F.el._leaveCb&&F.el._leaveCb(),G(N,[Q])},enter(Q){let N=S,F=j,$=J;if(!s.isMounted)if(c)N=H||S,F=M||j,$=E||J;else return;let w=!1;const L=Q._enterCb=f=>{w||(w=!0,f?G($,[Q]):G(F,[Q]),ie.delayedLeave&&ie.delayedLeave(),Q._enterCb=void 0)};N?C(N,[Q,L]):L()},leave(Q,N){const F=String(e.key);if(Q._enterCb&&Q._enterCb(!0),s.isUnmounting)return N();G(B,[Q]);let $=!1;const w=Q._leaveCb=L=>{$||($=!0,N(),L?G(I,[Q]):G(K,[Q]),Q._leaveCb=void 0,V[F]===e&&delete V[F])};V[F]=e,W?C(W,[Q,w]):w()},clone(Q){return Lf(Q,t,s,l)}};return ie}function Eb(e){if(V1(e))return e=Lh(e),e.children=null,e}function yT(e){return V1(e)?e.children?e.children[0]:void 0:e}function dp(e,t){e.shapeFlag&6&&e.component?dp(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function G1(e,t=!1,s){let l=[],c=0;for(let d=0;d<e.length;d++){let m=e[d];const n=s==null?m.key:String(s)+String(m.key!=null?m.key:d);m.type===Jn?(m.patchFlag&128&&c++,l=l.concat(G1(m.children,t,n))):(t||m.type!==Ia)&&l.push(n!=null?Lh(m,{key:n}):m)}if(c>1)for(let d=0;d<l.length;d++)l[d].patchFlag=-2;return l}function ix(e){return rs(e)?{setup:e,name:e.name}:e}const kf=e=>!!e.type.__asyncLoader;function $E(e){rs(e)&&(e={loader:e});const{loader:t,loadingComponent:s,errorComponent:l,delay:c=200,timeout:d,suspensible:m=!0,onError:n}=e;let S=null,j,J=0;const B=()=>(J++,S=null,W()),W=()=>{let K;return S||(K=S=t().catch(I=>{if(I=I instanceof Error?I:new Error(String(I)),n)return new Promise((O,H)=>{n(I,()=>O(B()),()=>H(I),J+1)});throw I}).then(I=>K!==S&&S?S:(I&&(I.__esModule||I[Symbol.toStringTag]==="Module")&&(I=I.default),j=I,I)))};return ix({name:"AsyncComponentWrapper",__asyncLoader:W,get __asyncResolved(){return j},setup(){const K=ta;if(j)return()=>Cb(j,K);const I=E=>{S=null,vp(E,K,13,!l)};if(m&&K.suspense||fm)return W().then(E=>()=>Cb(E,K)).catch(E=>(I(E),()=>l?en(l,{error:E}):null));const O=co(!1),H=co(),M=co(!!c);return c&&setTimeout(()=>{M.value=!1},c),d!=null&&setTimeout(()=>{if(!O.value&&!H.value){const E=new Error(`Async component timed out after ${d}ms.`);I(E),H.value=E}},d),W().then(()=>{O.value=!0,K.parent&&V1(K.parent.vnode)&&Zv(K.parent.update)}).catch(E=>{I(E),H.value=E}),()=>{if(O.value&&j)return Cb(j,K);if(H.value&&l)return en(l,{error:H.value});if(s&&!M.value)return en(s)}}})}function Cb(e,t){const{ref:s,props:l,children:c,ce:d}=t.vnode,m=en(e,l,c);return m.ref=s,m.ce=d,delete t.vnode.ce,m}const V1=e=>e.type.__isKeepAlive,w6={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const s=hu(),l=s.ctx;if(!l.renderer)return()=>{const E=t.default&&t.default();return E&&E.length===1?E[0]:E};const c=new Map,d=new Set;let m=null;const n=s.suspense,{renderer:{p:S,m:j,um:J,o:{createElement:B}}}=l,W=B("div");l.activate=(E,k,V,G,C)=>{const ie=E.component;j(E,k,V,0,n),S(ie.vnode,E,k,V,ie,n,G,E.slotScopeIds,C),Pa(()=>{ie.isDeactivated=!1,ie.a&&nm(ie.a);const Q=E.props&&E.props.onVnodeMounted;Q&&Xl(Q,ie.parent,E)},n)},l.deactivate=E=>{const k=E.component;j(E,W,null,1,n),Pa(()=>{k.da&&nm(k.da);const V=E.props&&E.props.onVnodeUnmounted;V&&Xl(V,k.parent,E),k.isDeactivated=!0},n)};function K(E){Mb(E),J(E,s,n,!0)}function I(E){c.forEach((k,V)=>{const G=yw(k.type);G&&(!E||!E(G))&&O(V)})}function O(E){const k=c.get(E);!m||k.type!==m.type?K(k):m&&Mb(m),c.delete(E),d.delete(E)}ah(()=>[e.include,e.exclude],([E,k])=>{E&&I(V=>u1(E,V)),k&&I(V=>!u1(k,V))},{flush:"post",deep:!0});let H=null;const M=()=>{H!=null&&c.set(H,Ab(s.subTree))};return yd(M),Gf(M),Vf(()=>{c.forEach(E=>{const{subTree:k,suspense:V}=s,G=Ab(k);if(E.type===G.type){Mb(G);const C=G.component.da;C&&Pa(C,V);return}K(E)})}),()=>{if(H=null,!t.default)return null;const E=t.default(),k=E[0];if(E.length>1)return m=null,E;if(!ou(k)||!(k.shapeFlag&4)&&!(k.shapeFlag&128))return m=null,k;let V=Ab(k);const G=V.type,C=yw(kf(V)?V.type.__asyncResolved||{}:G),{include:ie,exclude:Q,max:N}=e;if(ie&&(!C||!u1(ie,C))||Q&&C&&u1(Q,C))return m=V,k;const F=V.key==null?G:V.key,$=c.get(F);return V.el&&(V=Lh(V),k.shapeFlag&128&&(k.ssContent=V)),H=F,$?(V.el=$.el,V.component=$.component,V.transition&&dp(V,V.transition),V.shapeFlag|=512,d.delete(F),d.add(F)):(d.add(F),N&&d.size>parseInt(N,10)&&O(d.values().next().value)),V.shapeFlag|=256,m=V,NE(k.type)?k:V}}},WE=w6;function u1(e,t){return gn(e)?e.some(s=>u1(s,t)):ys(e)?e.split(",").includes(t):e.test?e.test(t):!1}function y3(e,t){qE(e,"a",t)}function v3(e,t){qE(e,"da",t)}function qE(e,t,s=ta){const l=e.__wdc||(e.__wdc=()=>{let c=s;for(;c;){if(c.isDeactivated)return;c=c.parent}return e()});if(nx(t,l,s),s){let c=s.parent;for(;c&&c.parent;)V1(c.parent.vnode)&&S6(l,t,s,c),c=c.parent}}function S6(e,t,s,l){const c=nx(t,e,l,!0);Hf(()=>{s3(l[t],c)},s)}function Mb(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Ab(e){return e.shapeFlag&128?e.ssContent:e}function nx(e,t,s=ta,l=!1){if(s){const c=s[e]||(s[e]=[]),d=t.__weh||(t.__weh=(...m)=>{if(s.isUnmounted)return;Tm(),pp(s);const n=Ql(t,s,e,m);return rp(),Em(),n});return l?c.unshift(d):c.push(d),d}}const cu=e=>(t,s=ta)=>(!fm||e==="sp")&&nx(e,(...l)=>t(...l),s),x3=cu("bm"),yd=cu("m"),sx=cu("bu"),Gf=cu("u"),Vf=cu("bum"),Hf=cu("um"),b3=cu("sp"),w3=cu("rtg"),S3=cu("rtc");function T3(e,t=ta){nx("ec",e,t)}function Po(e,t){const s=Da;if(s===null)return e;const l=lx(s)||s.proxy,c=e.dirs||(e.dirs=[]);for(let d=0;d<t.length;d++){let[m,n,S,j=yr]=t[d];m&&(rs(m)&&(m={mounted:m,updated:m}),m.deep&&wf(n),c.push({dir:m,instance:l,value:n,oldValue:void 0,arg:S,modifiers:j}))}return e}function cd(e,t,s,l){const c=e.dirs,d=t&&t.dirs;for(let m=0;m<c.length;m++){const n=c[m];d&&(n.oldValue=d[m].value);let S=n.dir[l];S&&(Tm(),Ql(S,s,8,[e.el,n,e,t]),Em())}}const E3="components",T6="directives";function ds(e,t){return C3(E3,e,!0,t)||e}const YE=Symbol();function XE(e){return ys(e)?C3(E3,e,!1)||e:e||YE}function rx(e){return C3(T6,e)}function C3(e,t,s=!0,l=!1){const c=Da||ta;if(c){const d=c.type;if(e===E3){const n=yw(d,!1);if(n&&(n===t||n===ya(t)||n===yp(ya(t))))return d}const m=vT(c[e]||d[e],t)||vT(c.appContext[e],t);return!m&&l?d:m}}function vT(e,t){return e&&(e[t]||e[ya(t)]||e[yp(ya(t))])}function Nr(e,t,s,l){let c;const d=s&&s[l];if(gn(e)||ys(e)){c=new Array(e.length);for(let m=0,n=e.length;m<n;m++)c[m]=t(e[m],m,void 0,d&&d[m])}else if(typeof e=="number"){c=new Array(e);for(let m=0;m<e;m++)c[m]=t(m+1,m,void 0,d&&d[m])}else if(br(e))if(e[Symbol.iterator])c=Array.from(e,(m,n)=>t(m,n,void 0,d&&d[n]));else{const m=Object.keys(e);c=new Array(m.length);for(let n=0,S=m.length;n<S;n++){const j=m[n];c[n]=t(e[j],j,n,d&&d[n])}}else c=[];return s&&(s[l]=c),c}function ZE(e,t){for(let s=0;s<t.length;s++){const l=t[s];if(gn(l))for(let c=0;c<l.length;c++)e[l[c].name]=l[c].fn;else l&&(e[l.name]=l.key?(...c)=>{const d=l.fn(...c);return d&&(d.key=l.key),d}:l.fn)}return e}function ih(e,t,s={},l,c){if(Da.isCE||Da.parent&&kf(Da.parent)&&Da.parent.isCE)return t!=="default"&&(s.name=t),en("slot",s,l&&l());let d=e[t];d&&d._c&&(d._d=!1),di();const m=d&&KE(d(s)),n=lh(Jn,{key:s.key||m&&m.key||`_${t}`},m||(l?l():[]),m&&e._===1?64:-2);return!c&&n.scopeId&&(n.slotScopeIds=[n.scopeId+"-s"]),d&&d._c&&(d._d=!0),n}function KE(e){return e.some(t=>ou(t)?!(t.type===Ia||t.type===Jn&&!KE(t.children)):!0)?e:null}function JE(e,t){const s={};for(const l in e)s[t&&/[A-Z]/.test(l)?`on:${l}`:Cf(l)]=e[l];return s}const hw=e=>e?fC(e)?lx(e)||e.proxy:hw(e.parent):null,p1=ar(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>hw(e.parent),$root:e=>hw(e.root),$emit:e=>e.emit,$options:e=>M3(e),$forceUpdate:e=>e.f||(e.f=()=>Zv(e.update)),$nextTick:e=>e.n||(e.n=Cm.bind(e.proxy)),$watch:e=>x6.bind(e)}),kb=(e,t)=>e!==yr&&!e.__isScriptSetup&&Qs(e,t),dw={get({_:e},t){const{ctx:s,setupState:l,data:c,props:d,accessCache:m,type:n,appContext:S}=e;let j;if(t[0]!=="$"){const K=m[t];if(K!==void 0)switch(K){case 1:return l[t];case 2:return c[t];case 4:return s[t];case 3:return d[t]}else{if(kb(l,t))return m[t]=1,l[t];if(c!==yr&&Qs(c,t))return m[t]=2,c[t];if((j=e.propsOptions[0])&&Qs(j,t))return m[t]=3,d[t];if(s!==yr&&Qs(s,t))return m[t]=4,s[t];uw&&(m[t]=0)}}const J=p1[t];let B,W;if(J)return t==="$attrs"&&Ac(e,"get",t),J(e);if((B=n.__cssModules)&&(B=B[t]))return B;if(s!==yr&&Qs(s,t))return m[t]=4,s[t];if(W=S.config.globalProperties,Qs(W,t))return W[t]},set({_:e},t,s){const{data:l,setupState:c,ctx:d}=e;return kb(c,t)?(c[t]=s,!0):l!==yr&&Qs(l,t)?(l[t]=s,!0):Qs(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(d[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:l,appContext:c,propsOptions:d}},m){let n;return!!s[m]||e!==yr&&Qs(e,m)||kb(t,m)||(n=d[0])&&Qs(n,m)||Qs(l,m)||Qs(p1,m)||Qs(c.config.globalProperties,m)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Qs(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}},E6=ar({},dw,{get(e,t){if(t!==Symbol.unscopables)return dw.get(e,t,e)},has(e,t){return t[0]!=="_"&&!lk(t)}});let uw=!0;function C6(e){const t=M3(e),s=e.proxy,l=e.ctx;uw=!1,t.beforeCreate&&xT(t.beforeCreate,e,"bc");const{data:c,computed:d,methods:m,watch:n,provide:S,inject:j,created:J,beforeMount:B,mounted:W,beforeUpdate:K,updated:I,activated:O,deactivated:H,beforeDestroy:M,beforeUnmount:E,destroyed:k,unmounted:V,render:G,renderTracked:C,renderTriggered:ie,errorCaptured:Q,serverPrefetch:N,expose:F,inheritAttrs:$,components:w,directives:L,filters:f}=t;if(j&&M6(j,l,null,e.appContext.config.unwrapInjectedRef),m)for(const P in m){const q=m[P];rs(q)&&(l[P]=q.bind(s))}if(c){const P=c.call(s,s);br(P)&&(e.data=j1(P))}if(uw=!0,d)for(const P in d){const q=d[P],ee=rs(q)?q.bind(s,s):rs(q.get)?q.get.bind(s,s):Ml,X=!rs(q)&&rs(q.set)?q.set.bind(s):Ml,ce=Am({get:ee,set:X});Object.defineProperty(l,P,{enumerable:!0,configurable:!0,get:()=>ce.value,set:fe=>ce.value=fe})}if(n)for(const P in n)QE(n[P],l,s,P);if(S){const P=rs(S)?S.call(s):S;Reflect.ownKeys(P).forEach(q=>{Mm(q,P[q])})}J&&xT(J,e,"c");function b(P,q){gn(q)?q.forEach(ee=>P(ee.bind(s))):q&&P(q.bind(s))}if(b(x3,B),b(yd,W),b(sx,K),b(Gf,I),b(y3,O),b(v3,H),b(T3,Q),b(S3,C),b(w3,ie),b(Vf,E),b(Hf,V),b(b3,N),gn(F))if(F.length){const P=e.exposed||(e.exposed={});F.forEach(q=>{Object.defineProperty(P,q,{get:()=>s[q],set:ee=>s[q]=ee})})}else e.exposed||(e.exposed={});G&&e.render===Ml&&(e.render=G),$!=null&&(e.inheritAttrs=$),w&&(e.components=w),L&&(e.directives=L)}function M6(e,t,s=Ml,l=!1){gn(e)&&(e=pw(e));for(const c in e){const d=e[c];let m;br(d)?"default"in d?m=Af(d.from||c,d.default,!0):m=Af(d.from||c):m=Af(d),ia(m)&&l?Object.defineProperty(t,c,{enumerable:!0,configurable:!0,get:()=>m.value,set:n=>m.value=n}):t[c]=m}}function xT(e,t,s){Ql(gn(e)?e.map(l=>l.bind(t.proxy)):e.bind(t.proxy),t,s)}function QE(e,t,s,l){const c=l.includes(".")?VE(s,l):()=>s[l];if(ys(e)){const d=t[e];rs(d)&&ah(c,d)}else if(rs(e))ah(c,e.bind(s));else if(br(e))if(gn(e))e.forEach(d=>QE(d,t,s,l));else{const d=rs(e.handler)?e.handler.bind(s):t[e.handler];rs(d)&&ah(c,d,e)}}function M3(e){const t=e.type,{mixins:s,extends:l}=t,{mixins:c,optionsCache:d,config:{optionMergeStrategies:m}}=e.appContext,n=d.get(t);let S;return n?S=n:!c.length&&!s&&!l?S=t:(S={},c.length&&c.forEach(j=>av(S,j,m,!0)),av(S,t,m)),br(t)&&d.set(t,S),S}function av(e,t,s,l=!1){const{mixins:c,extends:d}=t;d&&av(e,d,s,!0),c&&c.forEach(m=>av(e,m,s,!0));for(const m in t)if(!(l&&m==="expose")){const n=A6[m]||s&&s[m];e[m]=n?n(e[m],t[m]):t[m]}return e}const A6={data:bT,props:_f,emits:_f,methods:_f,computed:_f,beforeCreate:Cl,created:Cl,beforeMount:Cl,mounted:Cl,beforeUpdate:Cl,updated:Cl,beforeDestroy:Cl,beforeUnmount:Cl,destroyed:Cl,unmounted:Cl,activated:Cl,deactivated:Cl,errorCaptured:Cl,serverPrefetch:Cl,components:_f,directives:_f,watch:P6,provide:bT,inject:k6};function bT(e,t){return t?e?function(){return ar(rs(e)?e.call(this,this):e,rs(t)?t.call(this,this):t)}:t:e}function k6(e,t){return _f(pw(e),pw(t))}function pw(e){if(gn(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Cl(e,t){return e?[...new Set([].concat(e,t))]:t}function _f(e,t){return e?ar(ar(Object.create(null),e),t):t}function P6(e,t){if(!e)return t;if(!t)return e;const s=ar(Object.create(null),e);for(const l in t)s[l]=Cl(e[l],t[l]);return s}function D6(e,t,s,l=!1){const c={},d={};rv(d,ox,1),e.propsDefaults=Object.create(null),eC(e,t,c,d);for(const m in e.propsOptions[0])m in c||(c[m]=void 0);s?e.props=l?c:c3(c):e.type.props?e.props=c:e.props=d,e.attrs=d}function I6(e,t,s,l){const{props:c,attrs:d,vnode:{patchFlag:m}}=e,n=Vs(c),[S]=e.propsOptions;let j=!1;if((l||m>0)&&!(m&16)){if(m&8){const J=e.vnode.dynamicProps;for(let B=0;B<J.length;B++){let W=J[B];if(Jv(e.emitsOptions,W))continue;const K=t[W];if(S)if(Qs(d,W))K!==d[W]&&(d[W]=K,j=!0);else{const I=ya(W);c[I]=fw(S,n,I,K,e,!1)}else K!==d[W]&&(d[W]=K,j=!0)}}}else{eC(e,t,c,d)&&(j=!0);let J;for(const B in n)(!t||!Qs(t,B)&&((J=Cc(B))===B||!Qs(t,J)))&&(S?s&&(s[B]!==void 0||s[J]!==void 0)&&(c[B]=fw(S,n,B,void 0,e,!0)):delete c[B]);if(d!==n)for(const B in d)(!t||!Qs(t,B))&&(delete d[B],j=!0)}j&&ru(e,"set","$attrs")}function eC(e,t,s,l){const[c,d]=e.propsOptions;let m=!1,n;if(t)for(let S in t){if(Ef(S))continue;const j=t[S];let J;c&&Qs(c,J=ya(S))?!d||!d.includes(J)?s[J]=j:(n||(n={}))[J]=j:Jv(e.emitsOptions,S)||(!(S in l)||j!==l[S])&&(l[S]=j,m=!0)}if(d){const S=Vs(s),j=n||yr;for(let J=0;J<d.length;J++){const B=d[J];s[B]=fw(c,S,B,j[B],e,!Qs(j,B))}}return m}function fw(e,t,s,l,c,d){const m=e[s];if(m!=null){const n=Qs(m,"default");if(n&&l===void 0){const S=m.default;if(m.type!==Function&&rs(S)){const{propsDefaults:j}=c;s in j?l=j[s]:(pp(c),l=j[s]=S.call(null,t),rp())}else l=S}m[0]&&(d&&!n?l=!1:m[1]&&(l===""||l===Cc(s))&&(l=!0))}return l}function tC(e,t,s=!1){const l=t.propsCache,c=l.get(e);if(c)return c;const d=e.props,m={},n=[];let S=!1;if(!rs(e)){const J=B=>{S=!0;const[W,K]=tC(B,t,!0);ar(m,W),K&&n.push(...K)};!s&&t.mixins.length&&t.mixins.forEach(J),e.extends&&J(e.extends),e.mixins&&e.mixins.forEach(J)}if(!d&&!S)return br(e)&&l.set(e,tm),tm;if(gn(d))for(let J=0;J<d.length;J++){const B=ya(d[J]);wT(B)&&(m[B]=yr)}else if(d)for(const J in d){const B=ya(J);if(wT(B)){const W=d[J],K=m[B]=gn(W)||rs(W)?{type:W}:Object.assign({},W);if(K){const I=ET(Boolean,K.type),O=ET(String,K.type);K[0]=I>-1,K[1]=O<0||I<O,(I>-1||Qs(K,"default"))&&n.push(B)}}}const j=[m,n];return br(e)&&l.set(e,j),j}function wT(e){return e[0]!=="$"}function ST(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function TT(e,t){return ST(e)===ST(t)}function ET(e,t){return gn(t)?t.findIndex(s=>TT(s,e)):rs(t)&&TT(t,e)?0:-1}const iC=e=>e[0]==="_"||e==="$stable",A3=e=>gn(e)?e.map(Tc):[Tc(e)],L6=(e,t,s)=>{if(t._n)return t;const l=io((...c)=>A3(t(...c)),s);return l._c=!1,l},nC=(e,t,s)=>{const l=e._ctx;for(const c in e){if(iC(c))continue;const d=e[c];if(rs(d))t[c]=L6(c,d,l);else if(d!=null){const m=A3(d);t[c]=()=>m}}},sC=(e,t)=>{const s=A3(t);e.slots.default=()=>s},O6=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=Vs(t),rv(t,"_",s)):nC(t,e.slots={})}else e.slots={},t&&sC(e,t);rv(e.slots,ox,1)},R6=(e,t,s)=>{const{vnode:l,slots:c}=e;let d=!0,m=yr;if(l.shapeFlag&32){const n=t._;n?s&&n===1?d=!1:(ar(c,t),!s&&n===1&&delete c._):(d=!t.$stable,nC(t,c)),m=t}else t&&(sC(e,t),m={default:1});if(d)for(const n in c)!iC(n)&&!(n in m)&&delete c[n]};function rC(){return{app:null,config:{isNativeTag:$y,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let B6=0;function z6(e,t){return function(l,c=null){rs(l)||(l=Object.assign({},l)),c!=null&&!br(c)&&(c=null);const d=rC(),m=new Set;let n=!1;const S=d.app={_uid:B6++,_component:l,_props:c,_container:null,_context:d,_instance:null,version:N3,get config(){return d.config},set config(j){},use(j,...J){return m.has(j)||(j&&rs(j.install)?(m.add(j),j.install(S,...J)):rs(j)&&(m.add(j),j(S,...J))),S},mixin(j){return d.mixins.includes(j)||d.mixins.push(j),S},component(j,J){return J?(d.components[j]=J,S):d.components[j]},directive(j,J){return J?(d.directives[j]=J,S):d.directives[j]},mount(j,J,B){if(!n){const W=en(l,c);return W.appContext=d,J&&t?t(W,j):e(W,j,B),n=!0,S._container=j,j.__vue_app__=S,lx(W.component)||W.component.proxy}},unmount(){n&&(e(null,S._container),delete S._container.__vue_app__)},provide(j,J){return d.provides[j]=J,S}};return S}}function lv(e,t,s,l,c=!1){if(gn(e)){e.forEach((W,K)=>lv(W,t&&(gn(t)?t[K]:t),s,l,c));return}if(kf(l)&&!c)return;const d=l.shapeFlag&4?lx(l.component)||l.component.proxy:l.el,m=c?null:d,{i:n,r:S}=e,j=t&&t.r,J=n.refs===yr?n.refs={}:n.refs,B=n.setupState;if(j!=null&&j!==S&&(ys(j)?(J[j]=null,Qs(B,j)&&(B[j]=null)):ia(j)&&(j.value=null)),rs(S))md(S,n,12,[m,J]);else{const W=ys(S),K=ia(S);if(W||K){const I=()=>{if(e.f){const O=W?Qs(B,S)?B[S]:J[S]:S.value;c?gn(O)&&s3(O,d):gn(O)?O.includes(d)||O.push(d):W?(J[S]=[d],Qs(B,S)&&(B[S]=J[S])):(S.value=[d],e.k&&(J[e.k]=S.value))}else W?(J[S]=m,Qs(B,S)&&(B[S]=m)):K&&(S.value=m,e.k&&(J[e.k]=m))};m?(I.id=-1,Pa(I,s)):I()}}}let Wu=!1;const Ay=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",ky=e=>e.nodeType===8;function N6(e){const{mt:t,p:s,o:{patchProp:l,createText:c,nextSibling:d,parentNode:m,remove:n,insert:S,createComment:j}}=e,J=(M,E)=>{if(!E.hasChildNodes()){s(null,M,E),ov(),E._vnode=M;return}Wu=!1,B(E.firstChild,M,null,null,null),ov(),E._vnode=M,Wu&&console.error("Hydration completed but contains mismatches.")},B=(M,E,k,V,G,C=!1)=>{const ie=ky(M)&&M.data==="[",Q=()=>O(M,E,k,V,G,ie),{type:N,ref:F,shapeFlag:$,patchFlag:w}=E;let L=M.nodeType;E.el=M,w===-2&&(C=!1,E.dynamicChildren=null);let f=null;switch(N){case up:L!==3?E.children===""?(S(E.el=c(""),m(M),M),f=M):f=Q():(M.data!==E.children&&(Wu=!0,M.data=E.children),f=d(M));break;case Ia:L!==8||ie?f=Q():f=d(M);break;case sp:if(ie&&(M=d(M),L=M.nodeType),L===1||L===3){f=M;const y=!E.children.length;for(let b=0;b<E.staticCount;b++)y&&(E.children+=f.nodeType===1?f.outerHTML:f.data),b===E.staticCount-1&&(E.anchor=f),f=d(f);return ie?d(f):f}else Q();break;case Jn:ie?f=I(M,E,k,V,G,C):f=Q();break;default:if($&1)L!==1||E.type.toLowerCase()!==M.tagName.toLowerCase()?f=Q():f=W(M,E,k,V,G,C);else if($&6){E.slotScopeIds=G;const y=m(M);if(t(E,y,null,k,V,Ay(y),C),f=ie?H(M):d(M),f&&ky(f)&&f.data==="teleport end"&&(f=d(f)),kf(E)){let b;ie?(b=en(Jn),b.anchor=f?f.previousSibling:y.lastChild):b=M.nodeType===3?ko(""):en("div"),b.el=M,E.component.subTree=b}}else $&64?L!==8?f=Q():f=E.type.hydrate(M,E,k,V,G,C,e,K):$&128&&(f=E.type.hydrate(M,E,k,V,Ay(m(M)),G,C,e,B))}return F!=null&&lv(F,null,V,E),f},W=(M,E,k,V,G,C)=>{C=C||!!E.dynamicChildren;const{type:ie,props:Q,patchFlag:N,shapeFlag:F,dirs:$}=E,w=ie==="input"&&$||ie==="option";if(w||N!==-1){if($&&cd(E,null,k,"created"),Q)if(w||!C||N&48)for(const f in Q)(w&&f.endsWith("value")||Nf(f)&&!Ef(f))&&l(M,f,null,Q[f],!1,void 0,k);else Q.onClick&&l(M,"onClick",null,Q.onClick,!1,void 0,k);let L;if((L=Q&&Q.onVnodeBeforeMount)&&Xl(L,k,E),$&&cd(E,null,k,"beforeMount"),((L=Q&&Q.onVnodeMounted)||$)&&jE(()=>{L&&Xl(L,k,E),$&&cd(E,null,k,"mounted")},V),F&16&&!(Q&&(Q.innerHTML||Q.textContent))){let f=K(M.firstChild,E,M,k,V,G,C);for(;f;){Wu=!0;const y=f;f=f.nextSibling,n(y)}}else F&8&&M.textContent!==E.children&&(Wu=!0,M.textContent=E.children)}return M.nextSibling},K=(M,E,k,V,G,C,ie)=>{ie=ie||!!E.dynamicChildren;const Q=E.children,N=Q.length;for(let F=0;F<N;F++){const $=ie?Q[F]:Q[F]=Tc(Q[F]);if(M)M=B(M,$,V,G,C,ie);else{if($.type===up&&!$.children)continue;Wu=!0,s(null,$,k,null,V,G,Ay(k),C)}}return M},I=(M,E,k,V,G,C)=>{const{slotScopeIds:ie}=E;ie&&(G=G?G.concat(ie):ie);const Q=m(M),N=K(d(M),E,Q,k,V,G,C);return N&&ky(N)&&N.data==="]"?d(E.anchor=N):(Wu=!0,S(E.anchor=j("]"),Q,N),N)},O=(M,E,k,V,G,C)=>{if(Wu=!0,E.el=null,C){const N=H(M);for(;;){const F=d(M);if(F&&F!==N)n(F);else break}}const ie=d(M),Q=m(M);return n(M),s(null,E,Q,ie,k,V,Ay(Q),G),ie},H=M=>{let E=0;for(;M;)if(M=d(M),M&&ky(M)&&(M.data==="["&&E++,M.data==="]")){if(E===0)return d(M);E--}return M};return[J,B]}const Pa=jE;function k3(e){return oC(e)}function P3(e){return oC(e,N6)}function oC(e,t){const s=Mk();s.__VUE__=!0;const{insert:l,remove:c,patchProp:d,createElement:m,createText:n,createComment:S,setText:j,setElementText:J,parentNode:B,nextSibling:W,setScopeId:K=Ml,insertStaticContent:I}=e,O=(le,me,Se,Oe=null,Le=null,Ue=null,lt=!1,it=null,pt=!!me.dynamicChildren)=>{if(le===me)return;le&&!dd(le,me)&&(Oe=ye(le),fe(le,Le,Ue,!0),le=null),me.patchFlag===-2&&(pt=!1,me.dynamicChildren=null);const{type:De,ref:ze,shapeFlag:Ge}=me;switch(De){case up:H(le,me,Se,Oe);break;case Ia:M(le,me,Se,Oe);break;case sp:le==null&&E(me,Se,Oe,lt);break;case Jn:w(le,me,Se,Oe,Le,Ue,lt,it,pt);break;default:Ge&1?G(le,me,Se,Oe,Le,Ue,lt,it,pt):Ge&6?L(le,me,Se,Oe,Le,Ue,lt,it,pt):(Ge&64||Ge&128)&&De.process(le,me,Se,Oe,Le,Ue,lt,it,pt,ae)}ze!=null&&Le&&lv(ze,le&&le.ref,Ue,me||le,!me)},H=(le,me,Se,Oe)=>{if(le==null)l(me.el=n(me.children),Se,Oe);else{const Le=me.el=le.el;me.children!==le.children&&j(Le,me.children)}},M=(le,me,Se,Oe)=>{le==null?l(me.el=S(me.children||""),Se,Oe):me.el=le.el},E=(le,me,Se,Oe)=>{[le.el,le.anchor]=I(le.children,me,Se,Oe,le.el,le.anchor)},k=({el:le,anchor:me},Se,Oe)=>{let Le;for(;le&&le!==me;)Le=W(le),l(le,Se,Oe),le=Le;l(me,Se,Oe)},V=({el:le,anchor:me})=>{let Se;for(;le&&le!==me;)Se=W(le),c(le),le=Se;c(me)},G=(le,me,Se,Oe,Le,Ue,lt,it,pt)=>{lt=lt||me.type==="svg",le==null?C(me,Se,Oe,Le,Ue,lt,it,pt):N(le,me,Le,Ue,lt,it,pt)},C=(le,me,Se,Oe,Le,Ue,lt,it)=>{let pt,De;const{type:ze,props:Ge,shapeFlag:Ye,transition:at,dirs:gt}=le;if(pt=le.el=m(le.type,Ue,Ge&&Ge.is,Ge),Ye&8?J(pt,le.children):Ye&16&&Q(le.children,pt,null,Oe,Le,Ue&&ze!=="foreignObject",lt,it),gt&&cd(le,null,Oe,"created"),Ge){for(const Gt in Ge)Gt!=="value"&&!Ef(Gt)&&d(pt,Gt,null,Ge[Gt],Ue,le.children,Oe,Le,ue);"value"in Ge&&d(pt,"value",null,Ge.value),(De=Ge.onVnodeBeforeMount)&&Xl(De,Oe,le)}ie(pt,le,le.scopeId,lt,Oe),gt&&cd(le,null,Oe,"beforeMount");const Ut=(!Le||Le&&!Le.pendingBranch)&&at&&!at.persisted;Ut&&at.beforeEnter(pt),l(pt,me,Se),((De=Ge&&Ge.onVnodeMounted)||Ut||gt)&&Pa(()=>{De&&Xl(De,Oe,le),Ut&&at.enter(pt),gt&&cd(le,null,Oe,"mounted")},Le)},ie=(le,me,Se,Oe,Le)=>{if(Se&&K(le,Se),Oe)for(let Ue=0;Ue<Oe.length;Ue++)K(le,Oe[Ue]);if(Le){let Ue=Le.subTree;if(me===Ue){const lt=Le.vnode;ie(le,lt,lt.scopeId,lt.slotScopeIds,Le.parent)}}},Q=(le,me,Se,Oe,Le,Ue,lt,it,pt=0)=>{for(let De=pt;De<le.length;De++){const ze=le[De]=it?Ku(le[De]):Tc(le[De]);O(null,ze,me,Se,Oe,Le,Ue,lt,it)}},N=(le,me,Se,Oe,Le,Ue,lt)=>{const it=me.el=le.el;let{patchFlag:pt,dynamicChildren:De,dirs:ze}=me;pt|=le.patchFlag&16;const Ge=le.props||yr,Ye=me.props||yr;let at;Se&&pf(Se,!1),(at=Ye.onVnodeBeforeUpdate)&&Xl(at,Se,me,le),ze&&cd(me,le,Se,"beforeUpdate"),Se&&pf(Se,!0);const gt=Le&&me.type!=="foreignObject";if(De?F(le.dynamicChildren,De,it,Se,Oe,gt,Ue):lt||q(le,me,it,null,Se,Oe,gt,Ue,!1),pt>0){if(pt&16)$(it,me,Ge,Ye,Se,Oe,Le);else if(pt&2&&Ge.class!==Ye.class&&d(it,"class",null,Ye.class,Le),pt&4&&d(it,"style",Ge.style,Ye.style,Le),pt&8){const Ut=me.dynamicProps;for(let Gt=0;Gt<Ut.length;Gt++){const wi=Ut[Gt],Qt=Ge[wi],Ti=Ye[wi];(Ti!==Qt||wi==="value")&&d(it,wi,Qt,Ti,Le,le.children,Se,Oe,ue)}}pt&1&&le.children!==me.children&&J(it,me.children)}else!lt&&De==null&&$(it,me,Ge,Ye,Se,Oe,Le);((at=Ye.onVnodeUpdated)||ze)&&Pa(()=>{at&&Xl(at,Se,me,le),ze&&cd(me,le,Se,"updated")},Oe)},F=(le,me,Se,Oe,Le,Ue,lt)=>{for(let it=0;it<me.length;it++){const pt=le[it],De=me[it],ze=pt.el&&(pt.type===Jn||!dd(pt,De)||pt.shapeFlag&70)?B(pt.el):Se;O(pt,De,ze,null,Oe,Le,Ue,lt,!0)}},$=(le,me,Se,Oe,Le,Ue,lt)=>{if(Se!==Oe){if(Se!==yr)for(const it in Se)!Ef(it)&&!(it in Oe)&&d(le,it,Se[it],null,lt,me.children,Le,Ue,ue);for(const it in Oe){if(Ef(it))continue;const pt=Oe[it],De=Se[it];pt!==De&&it!=="value"&&d(le,it,De,pt,lt,me.children,Le,Ue,ue)}"value"in Oe&&d(le,"value",Se.value,Oe.value)}},w=(le,me,Se,Oe,Le,Ue,lt,it,pt)=>{const De=me.el=le?le.el:n(""),ze=me.anchor=le?le.anchor:n("");let{patchFlag:Ge,dynamicChildren:Ye,slotScopeIds:at}=me;at&&(it=it?it.concat(at):at),le==null?(l(De,Se,Oe),l(ze,Se,Oe),Q(me.children,Se,ze,Le,Ue,lt,it,pt)):Ge>0&&Ge&64&&Ye&&le.dynamicChildren?(F(le.dynamicChildren,Ye,Se,Le,Ue,lt,it),(me.key!=null||Le&&me===Le.subTree)&&D3(le,me,!0)):q(le,me,Se,ze,Le,Ue,lt,it,pt)},L=(le,me,Se,Oe,Le,Ue,lt,it,pt)=>{me.slotScopeIds=it,le==null?me.shapeFlag&512?Le.ctx.activate(me,Se,Oe,lt,pt):f(me,Se,Oe,Le,Ue,lt,pt):y(le,me,pt)},f=(le,me,Se,Oe,Le,Ue,lt)=>{const it=le.component=pC(le,Oe,Le);if(V1(le)&&(it.ctx.renderer=ae),mC(it),it.asyncDep){if(Le&&Le.registerDep(it,b),!le.el){const pt=it.subTree=en(Ia);M(null,pt,me,Se)}return}b(it,le,me,Se,Le,Ue,lt)},y=(le,me,Se)=>{const Oe=me.component=le.component;if(f6(le,me,Se))if(Oe.asyncDep&&!Oe.asyncResolved){P(Oe,me,Se);return}else Oe.next=me,l6(Oe.update),Oe.update();else me.el=le.el,Oe.vnode=me},b=(le,me,Se,Oe,Le,Ue,lt)=>{const it=()=>{if(le.isMounted){let{next:ze,bu:Ge,u:Ye,parent:at,vnode:gt}=le,Ut=ze,Gt;pf(le,!1),ze?(ze.el=gt.el,P(le,ze,lt)):ze=gt,Ge&&nm(Ge),(Gt=ze.props&&ze.props.onVnodeBeforeUpdate)&&Xl(Gt,at,ze,gt),pf(le,!0);const wi=Wy(le),Qt=le.subTree;le.subTree=wi,O(Qt,wi,B(Qt.el),ye(Qt),le,Le,Ue),ze.el=wi.el,Ut===null&&m3(le,wi.el),Ye&&Pa(Ye,Le),(Gt=ze.props&&ze.props.onVnodeUpdated)&&Pa(()=>Xl(Gt,at,ze,gt),Le)}else{let ze;const{el:Ge,props:Ye}=me,{bm:at,m:gt,parent:Ut}=le,Gt=kf(me);if(pf(le,!1),at&&nm(at),!Gt&&(ze=Ye&&Ye.onVnodeBeforeMount)&&Xl(ze,Ut,me),pf(le,!0),Ge&&xe){const wi=()=>{le.subTree=Wy(le),xe(Ge,le.subTree,le,Le,null)};Gt?me.type.__asyncLoader().then(()=>!le.isUnmounted&&wi()):wi()}else{const wi=le.subTree=Wy(le);O(null,wi,Se,Oe,le,Le,Ue),me.el=wi.el}if(gt&&Pa(gt,Le),!Gt&&(ze=Ye&&Ye.onVnodeMounted)){const wi=me;Pa(()=>Xl(ze,Ut,wi),Le)}(me.shapeFlag&256||Ut&&kf(Ut.vnode)&&Ut.vnode.shapeFlag&256)&&le.a&&Pa(le.a,Le),le.isMounted=!0,me=Se=Oe=null}},pt=le.effect=new Sm(it,()=>Zv(De),le.scope),De=le.update=()=>pt.run();De.id=le.uid,pf(le,!0),De()},P=(le,me,Se)=>{me.component=le;const Oe=le.vnode.props;le.vnode=me,le.next=null,I6(le,me.props,Oe,Se),R6(le,me.children,Se),Tm(),mT(),Em()},q=(le,me,Se,Oe,Le,Ue,lt,it,pt=!1)=>{const De=le&&le.children,ze=le?le.shapeFlag:0,Ge=me.children,{patchFlag:Ye,shapeFlag:at}=me;if(Ye>0){if(Ye&128){X(De,Ge,Se,Oe,Le,Ue,lt,it,pt);return}else if(Ye&256){ee(De,Ge,Se,Oe,Le,Ue,lt,it,pt);return}}at&8?(ze&16&&ue(De,Le,Ue),Ge!==De&&J(Se,Ge)):ze&16?at&16?X(De,Ge,Se,Oe,Le,Ue,lt,it,pt):ue(De,Le,Ue,!0):(ze&8&&J(Se,""),at&16&&Q(Ge,Se,Oe,Le,Ue,lt,it,pt))},ee=(le,me,Se,Oe,Le,Ue,lt,it,pt)=>{le=le||tm,me=me||tm;const De=le.length,ze=me.length,Ge=Math.min(De,ze);let Ye;for(Ye=0;Ye<Ge;Ye++){const at=me[Ye]=pt?Ku(me[Ye]):Tc(me[Ye]);O(le[Ye],at,Se,null,Le,Ue,lt,it,pt)}De>ze?ue(le,Le,Ue,!0,!1,Ge):Q(me,Se,Oe,Le,Ue,lt,it,pt,Ge)},X=(le,me,Se,Oe,Le,Ue,lt,it,pt)=>{let De=0;const ze=me.length;let Ge=le.length-1,Ye=ze-1;for(;De<=Ge&&De<=Ye;){const at=le[De],gt=me[De]=pt?Ku(me[De]):Tc(me[De]);if(dd(at,gt))O(at,gt,Se,null,Le,Ue,lt,it,pt);else break;De++}for(;De<=Ge&&De<=Ye;){const at=le[Ge],gt=me[Ye]=pt?Ku(me[Ye]):Tc(me[Ye]);if(dd(at,gt))O(at,gt,Se,null,Le,Ue,lt,it,pt);else break;Ge--,Ye--}if(De>Ge){if(De<=Ye){const at=Ye+1,gt=at<ze?me[at].el:Oe;for(;De<=Ye;)O(null,me[De]=pt?Ku(me[De]):Tc(me[De]),Se,gt,Le,Ue,lt,it,pt),De++}}else if(De>Ye)for(;De<=Ge;)fe(le[De],Le,Ue,!0),De++;else{const at=De,gt=De,Ut=new Map;for(De=gt;De<=Ye;De++){const Gi=me[De]=pt?Ku(me[De]):Tc(me[De]);Gi.key!=null&&Ut.set(Gi.key,De)}let Gt,wi=0;const Qt=Ye-gt+1;let Ti=!1,Ki=0;const Ni=new Array(Qt);for(De=0;De<Qt;De++)Ni[De]=0;for(De=at;De<=Ge;De++){const Gi=le[De];if(wi>=Qt){fe(Gi,Le,Ue,!0);continue}let xn;if(Gi.key!=null)xn=Ut.get(Gi.key);else for(Gt=gt;Gt<=Ye;Gt++)if(Ni[Gt-gt]===0&&dd(Gi,me[Gt])){xn=Gt;break}xn===void 0?fe(Gi,Le,Ue,!0):(Ni[xn-gt]=De+1,xn>=Ki?Ki=xn:Ti=!0,O(Gi,me[xn],Se,null,Le,Ue,lt,it,pt),wi++)}const Xi=Ti?F6(Ni):tm;for(Gt=Xi.length-1,De=Qt-1;De>=0;De--){const Gi=gt+De,xn=me[Gi],kn=Gi+1<ze?me[Gi+1].el:Oe;Ni[De]===0?O(null,xn,Se,kn,Le,Ue,lt,it,pt):Ti&&(Gt<0||De!==Xi[Gt]?ce(xn,Se,kn,2):Gt--)}}},ce=(le,me,Se,Oe,Le=null)=>{const{el:Ue,type:lt,transition:it,children:pt,shapeFlag:De}=le;if(De&6){ce(le.component.subTree,me,Se,Oe);return}if(De&128){le.suspense.move(me,Se,Oe);return}if(De&64){lt.move(le,me,Se,ae);return}if(lt===Jn){l(Ue,me,Se);for(let Ge=0;Ge<pt.length;Ge++)ce(pt[Ge],me,Se,Oe);l(le.anchor,me,Se);return}if(lt===sp){k(le,me,Se);return}if(Oe!==2&&De&1&&it)if(Oe===0)it.beforeEnter(Ue),l(Ue,me,Se),Pa(()=>it.enter(Ue),Le);else{const{leave:Ge,delayLeave:Ye,afterLeave:at}=it,gt=()=>l(Ue,me,Se),Ut=()=>{Ge(Ue,()=>{gt(),at&&at()})};Ye?Ye(Ue,gt,Ut):Ut()}else l(Ue,me,Se)},fe=(le,me,Se,Oe=!1,Le=!1)=>{const{type:Ue,props:lt,ref:it,children:pt,dynamicChildren:De,shapeFlag:ze,patchFlag:Ge,dirs:Ye}=le;if(it!=null&&lv(it,null,Se,le,!0),ze&256){me.ctx.deactivate(le);return}const at=ze&1&&Ye,gt=!kf(le);let Ut;if(gt&&(Ut=lt&&lt.onVnodeBeforeUnmount)&&Xl(Ut,me,le),ze&6)re(le.component,Se,Oe);else{if(ze&128){le.suspense.unmount(Se,Oe);return}at&&cd(le,null,me,"beforeUnmount"),ze&64?le.type.remove(le,me,Se,Le,ae,Oe):De&&(Ue!==Jn||Ge>0&&Ge&64)?ue(De,me,Se,!1,!0):(Ue===Jn&&Ge&384||!Le&&ze&16)&&ue(pt,me,Se),Oe&&Te(le)}(gt&&(Ut=lt&&lt.onVnodeUnmounted)||at)&&Pa(()=>{Ut&&Xl(Ut,me,le),at&&cd(le,null,me,"unmounted")},Se)},Te=le=>{const{type:me,el:Se,anchor:Oe,transition:Le}=le;if(me===Jn){Z(Se,Oe);return}if(me===sp){V(le);return}const Ue=()=>{c(Se),Le&&!Le.persisted&&Le.afterLeave&&Le.afterLeave()};if(le.shapeFlag&1&&Le&&!Le.persisted){const{leave:lt,delayLeave:it}=Le,pt=()=>lt(Se,Ue);it?it(le.el,Ue,pt):pt()}else Ue()},Z=(le,me)=>{let Se;for(;le!==me;)Se=W(le),c(le),le=Se;c(me)},re=(le,me,Se)=>{const{bum:Oe,scope:Le,update:Ue,subTree:lt,um:it}=le;Oe&&nm(Oe),Le.stop(),Ue&&(Ue.active=!1,fe(lt,le,me,Se)),it&&Pa(it,me),Pa(()=>{le.isUnmounted=!0},me),me&&me.pendingBranch&&!me.isUnmounted&&le.asyncDep&&!le.asyncResolved&&le.suspenseId===me.pendingId&&(me.deps--,me.deps===0&&me.resolve())},ue=(le,me,Se,Oe=!1,Le=!1,Ue=0)=>{for(let lt=Ue;lt<le.length;lt++)fe(le[lt],me,Se,Oe,Le)},ye=le=>le.shapeFlag&6?ye(le.component.subTree):le.shapeFlag&128?le.suspense.next():W(le.anchor||le.el),Ie=(le,me,Se)=>{le==null?me._vnode&&fe(me._vnode,null,null,!0):O(me._vnode||null,le,me,null,null,null,Se),mT(),ov(),me._vnode=le},ae={p:O,um:fe,m:ce,r:Te,mt:f,mc:Q,pc:q,pbc:F,n:ye,o:e};let be,xe;return t&&([be,xe]=t(ae)),{render:Ie,hydrate:be,createApp:z6(Ie,be)}}function pf({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function D3(e,t,s=!1){const l=e.children,c=t.children;if(gn(l)&&gn(c))for(let d=0;d<l.length;d++){const m=l[d];let n=c[d];n.shapeFlag&1&&!n.dynamicChildren&&((n.patchFlag<=0||n.patchFlag===32)&&(n=c[d]=Ku(c[d]),n.el=m.el),s||D3(m,n)),n.type===up&&(n.el=m.el)}}function F6(e){const t=e.slice(),s=[0];let l,c,d,m,n;const S=e.length;for(l=0;l<S;l++){const j=e[l];if(j!==0){if(c=s[s.length-1],e[c]<j){t[l]=c,s.push(l);continue}for(d=0,m=s.length-1;d<m;)n=d+m>>1,e[s[n]]<j?d=n+1:m=n;j<e[s[d]]&&(d>0&&(t[l]=s[d-1]),s[d]=l)}}for(d=s.length,m=s[d-1];d-- >0;)s[d]=m,m=t[m];return s}const j6=e=>e.__isTeleport,f1=e=>e&&(e.disabled||e.disabled===""),CT=e=>typeof SVGElement<"u"&&e instanceof SVGElement,mw=(e,t)=>{const s=e&&e.to;return ys(s)?t?t(s):null:s},U6={__isTeleport:!0,process(e,t,s,l,c,d,m,n,S,j){const{mc:J,pc:B,pbc:W,o:{insert:K,querySelector:I,createText:O,createComment:H}}=j,M=f1(t.props);let{shapeFlag:E,children:k,dynamicChildren:V}=t;if(e==null){const G=t.el=O(""),C=t.anchor=O("");K(G,s,l),K(C,s,l);const ie=t.target=mw(t.props,I),Q=t.targetAnchor=O("");ie&&(K(Q,ie),m=m||CT(ie));const N=(F,$)=>{E&16&&J(k,F,$,c,d,m,n,S)};M?N(s,C):ie&&N(ie,Q)}else{t.el=e.el;const G=t.anchor=e.anchor,C=t.target=e.target,ie=t.targetAnchor=e.targetAnchor,Q=f1(e.props),N=Q?s:C,F=Q?G:ie;if(m=m||CT(C),V?(W(e.dynamicChildren,V,N,c,d,m,n),D3(e,t,!0)):S||B(e,t,N,F,c,d,m,n,!1),M)Q||Py(t,s,G,j,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const $=t.target=mw(t.props,I);$&&Py(t,$,null,j,0)}else Q&&Py(t,C,ie,j,1)}lC(t)},remove(e,t,s,l,{um:c,o:{remove:d}},m){const{shapeFlag:n,children:S,anchor:j,targetAnchor:J,target:B,props:W}=e;if(B&&d(J),(m||!f1(W))&&(d(j),n&16))for(let K=0;K<S.length;K++){const I=S[K];c(I,t,s,!0,!!I.dynamicChildren)}},move:Py,hydrate:G6};function Py(e,t,s,{o:{insert:l},m:c},d=2){d===0&&l(e.targetAnchor,t,s);const{el:m,anchor:n,shapeFlag:S,children:j,props:J}=e,B=d===2;if(B&&l(m,t,s),(!B||f1(J))&&S&16)for(let W=0;W<j.length;W++)c(j[W],t,s,2);B&&l(n,t,s)}function G6(e,t,s,l,c,d,{o:{nextSibling:m,parentNode:n,querySelector:S}},j){const J=t.target=mw(t.props,S);if(J){const B=J._lpa||J.firstChild;if(t.shapeFlag&16)if(f1(t.props))t.anchor=j(m(e),t,n(e),s,l,c,d),t.targetAnchor=B;else{t.anchor=m(e);let W=B;for(;W;)if(W=m(W),W&&W.nodeType===8&&W.data==="teleport anchor"){t.targetAnchor=W,J._lpa=t.targetAnchor&&m(t.targetAnchor);break}j(B,t,J,s,l,c,d)}lC(t)}return t.anchor&&m(t.anchor)}const aC=U6;function lC(e){const t=e.ctx;if(t&&t.ut){let s=e.children[0].el;for(;s!==e.targetAnchor;)s.nodeType===1&&s.setAttribute("data-v-owner",t.uid),s=s.nextSibling;t.ut()}}const Jn=Symbol(void 0),up=Symbol(void 0),Ia=Symbol(void 0),sp=Symbol(void 0),m1=[];let Kl=null;function di(e=!1){m1.push(Kl=e?null:[])}function cC(){m1.pop(),Kl=m1[m1.length-1]||null}let Of=1;function cv(e){Of+=e}function hC(e){return e.dynamicChildren=Of>0?Kl||tm:null,cC(),Of>0&&Kl&&Kl.push(e),e}function vi(e,t,s,l,c,d){return hC(et(e,t,s,l,c,d,!0))}function lh(e,t,s,l,c){return hC(en(e,t,s,l,c,!0))}function ou(e){return e?e.__v_isVNode===!0:!1}function dd(e,t){return e.type===t.type&&e.key===t.key}function dC(e){}const ox="__vInternal",uC=({key:e})=>e??null,qy=({ref:e,ref_key:t,ref_for:s})=>e!=null?ys(e)||ia(e)||rs(e)?{i:Da,r:e,k:t,f:!!s}:e:null;function et(e,t=null,s=null,l=0,c=null,d=e===Jn?0:1,m=!1,n=!1){const S={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&uC(t),ref:t&&qy(t),scopeId:Qv,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:l,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:Da};return n?(I3(S,s),d&128&&e.normalize(S)):s&&(S.shapeFlag|=ys(s)?8:16),Of>0&&!m&&Kl&&(S.patchFlag>0||d&6)&&S.patchFlag!==32&&Kl.push(S),S}const en=V6;function V6(e,t=null,s=null,l=0,c=null,d=!1){if((!e||e===YE)&&(e=Ia),ou(e)){const n=Lh(e,t,!0);return s&&I3(n,s),Of>0&&!d&&Kl&&(n.shapeFlag&6?Kl[Kl.indexOf(e)]=n:Kl.push(n)),n.patchFlag|=-2,n}if(Y6(e)&&(e=e.__vccOpts),t){t=M1(t);let{class:n,style:S}=t;n&&!ys(n)&&(t.class=zr(n)),br(S)&&(Wv(S)&&!gn(S)&&(S=ar({},S)),t.style=_d(S))}const m=ys(e)?1:NE(e)?128:j6(e)?64:br(e)?4:rs(e)?2:0;return et(e,t,s,l,c,m,d,!0)}function M1(e){return e?Wv(e)||ox in e?ar({},e):e:null}function Lh(e,t,s=!1){const{props:l,ref:c,patchFlag:d,children:m}=e,n=t?ax(l||{},t):l;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:n,key:n&&uC(n),ref:t&&t.ref?s&&c?gn(c)?c.concat(qy(t)):[c,qy(t)]:qy(t):c,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:m,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Jn?d===-1?16:d|16:d,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Lh(e.ssContent),ssFallback:e.ssFallback&&Lh(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function ko(e=" ",t=0){return en(up,null,e,t)}function zh(e,t){const s=en(sp,null,e);return s.staticCount=t,s}function Kn(e="",t=!1){return t?(di(),lh(Ia,null,e)):en(Ia,null,e)}function Tc(e){return e==null||typeof e=="boolean"?en(Ia):gn(e)?en(Jn,null,e.slice()):typeof e=="object"?Ku(e):en(up,null,String(e))}function Ku(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Lh(e)}function I3(e,t){let s=0;const{shapeFlag:l}=e;if(t==null)t=null;else if(gn(t))s=16;else if(typeof t=="object")if(l&65){const c=t.default;c&&(c._c&&(c._d=!1),I3(e,c()),c._c&&(c._d=!0));return}else{s=32;const c=t._;!c&&!(ox in t)?t._ctx=Da:c===3&&Da&&(Da.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else rs(t)?(t={default:t,_ctx:Da},s=32):(t=String(t),l&64?(s=16,t=[ko(t)]):s=8);e.children=t,e.shapeFlag|=s}function ax(...e){const t={};for(let s=0;s<e.length;s++){const l=e[s];for(const c in l)if(c==="class")t.class!==l.class&&(t.class=zr([t.class,l.class]));else if(c==="style")t.style=_d([t.style,l.style]);else if(Nf(c)){const d=t[c],m=l[c];m&&d!==m&&!(gn(d)&&d.includes(m))&&(t[c]=d?[].concat(d,m):m)}else c!==""&&(t[c]=l[c])}return t}function Xl(e,t,s,l=null){Ql(e,t,7,[s,l])}const H6=rC();let $6=0;function pC(e,t,s){const l=e.type,c=(t?t.appContext:e.appContext)||H6,d={uid:$6++,vnode:e,type:l,parent:t,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,scope:new jv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(c.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tC(l,c),emitsOptions:BE(l,c),emit:null,emitted:null,propsDefaults:yr,inheritAttrs:l.inheritAttrs,ctx:yr,data:yr,props:yr,attrs:yr,slots:yr,refs:yr,setupState:yr,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=t?t.root:d,d.emit=h6.bind(null,d),e.ce&&e.ce(d),d}let ta=null;const hu=()=>ta||Da,pp=e=>{ta=e,e.scope.on()},rp=()=>{ta&&ta.scope.off(),ta=null};function fC(e){return e.vnode.shapeFlag&4}let fm=!1;function mC(e,t=!1){fm=t;const{props:s,children:l}=e.vnode,c=fC(e);D6(e,s,c,t),O6(e,l);const d=c?W6(e,t):void 0;return fm=!1,d}function W6(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=qv(new Proxy(e.ctx,dw));const{setup:l}=s;if(l){const c=e.setupContext=l.length>1?yC(e):null;pp(e),Tm();const d=md(l,e,0,[e.props,c]);if(Em(),rp(),r3(d)){if(d.then(rp,rp),t)return d.then(m=>{gw(e,m,t)}).catch(m=>{vp(m,e,0)});e.asyncDep=d}else gw(e,d,t)}else _C(e,t)}function gw(e,t,s){rs(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:br(t)&&(e.setupState=Xv(t)),_C(e,s)}let hv,_w;function L3(e){hv=e,_w=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,E6))}}const gC=()=>!hv;function _C(e,t,s){const l=e.type;if(!e.render){if(!t&&hv&&!l.render){const c=l.template||M3(e).template;if(c){const{isCustomElement:d,compilerOptions:m}=e.appContext.config,{delimiters:n,compilerOptions:S}=l,j=ar(ar({isCustomElement:d,delimiters:n},m),S);l.render=hv(c,j)}}e.render=l.render||Ml,_w&&_w(e)}pp(e),Tm(),C6(e),Em(),rp()}function q6(e){return new Proxy(e.attrs,{get(t,s){return Ac(e,"get","$attrs"),t[s]}})}function yC(e){const t=l=>{e.exposed=l||{}};let s;return{get attrs(){return s||(s=q6(e))},slots:e.slots,emit:e.emit,expose:t}}function lx(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Xv(qv(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in p1)return p1[s](e)},has(t,s){return s in t||s in p1}}))}function yw(e,t=!0){return rs(e)?e.displayName||e.name:e.name||t&&e.__name}function Y6(e){return rs(e)&&"__vccOpts"in e}const Am=(e,t)=>r6(e,t,fm);function vC(){return null}function xC(){return null}function bC(e){}function wC(e,t){return null}function SC(){return TC().slots}function O3(){return TC().attrs}function TC(){const e=hu();return e.setupContext||(e.setupContext=yC(e))}function EC(e,t){const s=gn(e)?e.reduce((l,c)=>(l[c]={},l),{}):e;for(const l in t){const c=s[l];c?gn(c)||rs(c)?s[l]={type:c,default:t[l]}:c.default=t[l]:c===null&&(s[l]={default:t[l]})}return s}function CC(e,t){const s={};for(const l in e)t.includes(l)||Object.defineProperty(s,l,{enumerable:!0,get:()=>e[l]});return s}function MC(e){const t=hu();let s=e();return rp(),r3(s)&&(s=s.catch(l=>{throw pp(t),l})),[s,()=>pp(t)]}function Zl(e,t,s){const l=arguments.length;return l===2?br(t)&&!gn(t)?ou(t)?en(e,null,[t]):en(e,t):en(e,null,t):(l>3?s=Array.prototype.slice.call(arguments,2):l===3&&ou(s)&&(s=[s]),en(e,t,s))}const R3=Symbol(""),B3=()=>Af(R3);function AC(){}function kC(e,t,s,l){const c=s[l];if(c&&z3(c,e))return c;const d=t();return d.memo=e.slice(),s[l]=d}function z3(e,t){const s=e.memo;if(s.length!=t.length)return!1;for(let l=0;l<s.length;l++)if(um(s[l],t[l]))return!1;return Of>0&&Kl&&Kl.push(e),!0}const N3="3.2.45",X6={createComponentInstance:pC,setupComponent:mC,renderComponentRoot:Wy,setCurrentRenderingInstance:E1,isVNode:ou,normalizeVNode:Tc},PC=X6,DC=null,IC=null,Z6="http://www.w3.org/2000/svg",bf=typeof document<"u"?document:null,MT=bf&&bf.createElement("template"),K6={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,l)=>{const c=t?bf.createElementNS(Z6,e):bf.createElement(e,s?{is:s}:void 0);return e==="select"&&l&&l.multiple!=null&&c.setAttribute("multiple",l.multiple),c},createText:e=>bf.createTextNode(e),createComment:e=>bf.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>bf.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,l,c,d){const m=s?s.previousSibling:t.lastChild;if(c&&(c===d||c.nextSibling))for(;t.insertBefore(c.cloneNode(!0),s),!(c===d||!(c=c.nextSibling)););else{MT.innerHTML=l?`<svg>${e}</svg>`:e;const n=MT.content;if(l){const S=n.firstChild;for(;S.firstChild;)n.appendChild(S.firstChild);n.removeChild(S)}t.insertBefore(n,s)}return[m?m.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function J6(e,t,s){const l=e._vtc;l&&(t=(t?[t,...l]:[...l]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function Q6(e,t,s){const l=e.style,c=ys(s);if(s&&!c){for(const d in s)vw(l,d,s[d]);if(t&&!ys(t))for(const d in t)s[d]==null&&vw(l,d,"")}else{const d=l.display;c?t!==s&&(l.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(l.display=d)}}const AT=/\s*!important$/;function vw(e,t,s){if(gn(s))s.forEach(l=>vw(e,t,l));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const l=eP(e,t);AT.test(s)?e.setProperty(Cc(l),s.replace(AT,""),"important"):e[l]=s}}const kT=["Webkit","Moz","ms"],Pb={};function eP(e,t){const s=Pb[t];if(s)return s;let l=ya(t);if(l!=="filter"&&l in e)return Pb[t]=l;l=yp(l);for(let c=0;c<kT.length;c++){const d=kT[c]+l;if(d in e)return Pb[t]=d}return t}const PT="http://www.w3.org/1999/xlink";function tP(e,t,s,l,c){if(l&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(PT,t.slice(6,t.length)):e.setAttributeNS(PT,t,s);else{const d=vk(t);s==null||d&&!nE(s)?e.removeAttribute(t):e.setAttribute(t,d?"":s)}}function iP(e,t,s,l,c,d,m){if(t==="innerHTML"||t==="textContent"){l&&m(l,c,d),e[t]=s??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const S=s??"";(e.value!==S||e.tagName==="OPTION")&&(e.value=S),s==null&&e.removeAttribute(t);return}let n=!1;if(s===""||s==null){const S=typeof e[t];S==="boolean"?s=nE(s):s==null&&S==="string"?(s="",n=!0):S==="number"&&(s=0,n=!0)}try{e[t]=s}catch{}n&&e.removeAttribute(t)}function Jd(e,t,s,l){e.addEventListener(t,s,l)}function nP(e,t,s,l){e.removeEventListener(t,s,l)}function sP(e,t,s,l,c=null){const d=e._vei||(e._vei={}),m=d[t];if(l&&m)m.value=l;else{const[n,S]=rP(t);if(l){const j=d[t]=lP(l,c);Jd(e,n,j,S)}else m&&(nP(e,n,m,S),d[t]=void 0)}}const DT=/(?:Once|Passive|Capture)$/;function rP(e){let t;if(DT.test(e)){t={};let l;for(;l=e.match(DT);)e=e.slice(0,e.length-l[0].length),t[l[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Cc(e.slice(2)),t]}let Db=0;const oP=Promise.resolve(),aP=()=>Db||(oP.then(()=>Db=0),Db=Date.now());function lP(e,t){const s=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=s.attached)return;Ql(cP(l,s.value),t,5,[l])};return s.value=e,s.attached=aP(),s}function cP(e,t){if(gn(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(l=>c=>!c._stopped&&l&&l(c))}else return t}const IT=/^on[a-z]/,hP=(e,t,s,l,c=!1,d,m,n,S)=>{t==="class"?J6(e,l,c):t==="style"?Q6(e,s,l):Nf(t)?n3(t)||sP(e,t,s,l,m):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):dP(e,t,l,c))?iP(e,t,l,d,m,n,S):(t==="true-value"?e._trueValue=l:t==="false-value"&&(e._falseValue=l),tP(e,t,l,c))};function dP(e,t,s,l){return l?!!(t==="innerHTML"||t==="textContent"||t in e&&IT.test(t)&&rs(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||IT.test(t)&&ys(s)?!1:t in e}function F3(e,t){const s=ix(e);class l extends H1{constructor(d){super(s,d,t)}}return l.def=s,l}const LC=e=>F3(e,G3),uP=typeof HTMLElement<"u"?HTMLElement:class{};class H1 extends uP{constructor(t,s={},l){super(),this._def=t,this._props=s,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&l?l(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Cm(()=>{this._connected||(dv(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let l=0;l<this.attributes.length;l++)this._setAttr(this.attributes[l].name);new MutationObserver(l=>{for(const c of l)this._setAttr(c.attributeName)}).observe(this,{attributes:!0});const t=(l,c=!1)=>{const{props:d,styles:m}=l;let n;if(d&&!gn(d))for(const S in d){const j=d[S];(j===Number||j&&j.type===Number)&&(S in this._props&&(this._props[S]=su(this._props[S])),(n||(n=Object.create(null)))[ya(S)]=!0)}this._numberProps=n,c&&this._resolveProps(l),this._applyStyles(m),this._update()},s=this._def.__asyncLoader;s?s().then(l=>t(l,!0)):t(this._def)}_resolveProps(t){const{props:s}=t,l=gn(s)?s:Object.keys(s||{});for(const c of Object.keys(this))c[0]!=="_"&&l.includes(c)&&this._setProp(c,this[c],!0,!1);for(const c of l.map(ya))Object.defineProperty(this,c,{get(){return this._getProp(c)},set(d){this._setProp(c,d)}})}_setAttr(t){let s=this.getAttribute(t);const l=ya(t);this._numberProps&&this._numberProps[l]&&(s=su(s)),this._setProp(l,s,!1)}_getProp(t){return this._props[t]}_setProp(t,s,l=!0,c=!0){s!==this._props[t]&&(this._props[t]=s,c&&this._instance&&this._update(),l&&(s===!0?this.setAttribute(Cc(t),""):typeof s=="string"||typeof s=="number"?this.setAttribute(Cc(t),s+""):s||this.removeAttribute(Cc(t))))}_update(){dv(this._createVNode(),this.shadowRoot)}_createVNode(){const t=en(this._def,ar({},this._props));return this._instance||(t.ce=s=>{this._instance=s,s.isCE=!0;const l=(d,m)=>{this.dispatchEvent(new CustomEvent(d,{detail:m}))};s.emit=(d,...m)=>{l(d,m),Cc(d)!==d&&l(Cc(d),m)};let c=this;for(;c=c&&(c.parentNode||c.host);)if(c instanceof H1){s.parent=c._instance,s.provides=c._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(s=>{const l=document.createElement("style");l.textContent=s,this.shadowRoot.appendChild(l)})}}function OC(e="$style"){{const t=hu();if(!t)return yr;const s=t.type.__cssModules;if(!s)return yr;const l=s[e];return l||yr}}function RC(e){const t=hu();if(!t)return;const s=t.ut=(c=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(d=>bw(d,c))},l=()=>{const c=e(t.proxy);xw(t.subTree,c),s(c)};_3(l),yd(()=>{const c=new MutationObserver(l);c.observe(t.subTree.el.parentNode,{childList:!0}),Hf(()=>c.disconnect())})}function xw(e,t){if(e.shapeFlag&128){const s=e.suspense;e=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{xw(s.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)bw(e.el,t);else if(e.type===Jn)e.children.forEach(s=>xw(s,t));else if(e.type===sp){let{el:s,anchor:l}=e;for(;s&&(bw(s,t),s!==l);)s=s.nextSibling}}function bw(e,t){if(e.nodeType===1){const s=e.style;for(const l in t)s.setProperty(`--${l}`,t[l])}}const qu="transition",o1="animation",$1=(e,{slots:t})=>Zl(tx,zC(e),t);$1.displayName="Transition";const BC={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},pP=$1.props=ar({},tx.props,BC),ff=(e,t=[])=>{gn(e)?e.forEach(s=>s(...t)):e&&e(...t)},LT=e=>e?gn(e)?e.some(t=>t.length>1):e.length>1:!1;function zC(e){const t={};for(const w in e)w in BC||(t[w]=e[w]);if(e.css===!1)return t;const{name:s="v",type:l,duration:c,enterFromClass:d=`${s}-enter-from`,enterActiveClass:m=`${s}-enter-active`,enterToClass:n=`${s}-enter-to`,appearFromClass:S=d,appearActiveClass:j=m,appearToClass:J=n,leaveFromClass:B=`${s}-leave-from`,leaveActiveClass:W=`${s}-leave-active`,leaveToClass:K=`${s}-leave-to`}=e,I=fP(c),O=I&&I[0],H=I&&I[1],{onBeforeEnter:M,onEnter:E,onEnterCancelled:k,onLeave:V,onLeaveCancelled:G,onBeforeAppear:C=M,onAppear:ie=E,onAppearCancelled:Q=k}=t,N=(w,L,f)=>{Zu(w,L?J:n),Zu(w,L?j:m),f&&f()},F=(w,L)=>{w._isLeaving=!1,Zu(w,B),Zu(w,K),Zu(w,W),L&&L()},$=w=>(L,f)=>{const y=w?ie:E,b=()=>N(L,w,f);ff(y,[L,b]),OT(()=>{Zu(L,w?S:d),Xd(L,w?J:n),LT(y)||RT(L,l,O,b)})};return ar(t,{onBeforeEnter(w){ff(M,[w]),Xd(w,d),Xd(w,m)},onBeforeAppear(w){ff(C,[w]),Xd(w,S),Xd(w,j)},onEnter:$(!1),onAppear:$(!0),onLeave(w,L){w._isLeaving=!0;const f=()=>F(w,L);Xd(w,B),FC(),Xd(w,W),OT(()=>{w._isLeaving&&(Zu(w,B),Xd(w,K),LT(V)||RT(w,l,H,f))}),ff(V,[w,f])},onEnterCancelled(w){N(w,!1),ff(k,[w])},onAppearCancelled(w){N(w,!0),ff(Q,[w])},onLeaveCancelled(w){F(w),ff(G,[w])}})}function fP(e){if(e==null)return null;if(br(e))return[Ib(e.enter),Ib(e.leave)];{const t=Ib(e);return[t,t]}}function Ib(e){return su(e)}function Xd(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e._vtc||(e._vtc=new Set)).add(t)}function Zu(e,t){t.split(/\s+/).forEach(l=>l&&e.classList.remove(l));const{_vtc:s}=e;s&&(s.delete(t),s.size||(e._vtc=void 0))}function OT(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let mP=0;function RT(e,t,s,l){const c=e._endId=++mP,d=()=>{c===e._endId&&l()};if(s)return setTimeout(d,s);const{type:m,timeout:n,propCount:S}=NC(e,t);if(!m)return l();const j=m+"end";let J=0;const B=()=>{e.removeEventListener(j,W),d()},W=K=>{K.target===e&&++J>=S&&B()};setTimeout(()=>{J<S&&B()},n+1),e.addEventListener(j,W)}function NC(e,t){const s=window.getComputedStyle(e),l=I=>(s[I]||"").split(", "),c=l(`${qu}Delay`),d=l(`${qu}Duration`),m=BT(c,d),n=l(`${o1}Delay`),S=l(`${o1}Duration`),j=BT(n,S);let J=null,B=0,W=0;t===qu?m>0&&(J=qu,B=m,W=d.length):t===o1?j>0&&(J=o1,B=j,W=S.length):(B=Math.max(m,j),J=B>0?m>j?qu:o1:null,W=J?J===qu?d.length:S.length:0);const K=J===qu&&/\b(transform|all)(,|$)/.test(l(`${qu}Property`).toString());return{type:J,timeout:B,propCount:W,hasTransform:K}}function BT(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,l)=>zT(s)+zT(e[l])))}function zT(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function FC(){return document.body.offsetHeight}const jC=new WeakMap,UC=new WeakMap,gP={name:"TransitionGroup",props:ar({},pP,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=hu(),l=ex();let c,d;return Gf(()=>{if(!c.length)return;const m=e.moveClass||`${e.name||"v"}-move`;if(!xP(c[0].el,s.vnode.el,m))return;c.forEach(_P),c.forEach(yP);const n=c.filter(vP);FC(),n.forEach(S=>{const j=S.el,J=j.style;Xd(j,m),J.transform=J.webkitTransform=J.transitionDuration="";const B=j._moveCb=W=>{W&&W.target!==j||(!W||/transform$/.test(W.propertyName))&&(j.removeEventListener("transitionend",B),j._moveCb=null,Zu(j,m))};j.addEventListener("transitionend",B)})}),()=>{const m=Vs(e),n=zC(m);let S=m.tag||Jn;c=d,d=t.default?G1(t.default()):[];for(let j=0;j<d.length;j++){const J=d[j];J.key!=null&&dp(J,Lf(J,n,l,s))}if(c)for(let j=0;j<c.length;j++){const J=c[j];dp(J,Lf(J,n,l,s)),jC.set(J,J.el.getBoundingClientRect())}return en(S,null,d)}}},GC=gP;function _P(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function yP(e){UC.set(e,e.el.getBoundingClientRect())}function vP(e){const t=jC.get(e),s=UC.get(e),l=t.left-s.left,c=t.top-s.top;if(l||c){const d=e.el.style;return d.transform=d.webkitTransform=`translate(${l}px,${c}px)`,d.transitionDuration="0s",e}}function xP(e,t,s){const l=e.cloneNode();e._vtc&&e._vtc.forEach(m=>{m.split(/\s+/).forEach(n=>n&&l.classList.remove(n))}),s.split(/\s+/).forEach(m=>m&&l.classList.add(m)),l.style.display="none";const c=t.nodeType===1?t:t.parentNode;c.appendChild(l);const{hasTransform:d}=NC(l);return c.removeChild(l),d}const fp=e=>{const t=e.props["onUpdate:modelValue"]||!1;return gn(t)?s=>nm(t,s):t};function bP(e){e.target.composing=!0}function NT(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Oh={created(e,{modifiers:{lazy:t,trim:s,number:l}},c){e._assign=fp(c);const d=l||c.props&&c.props.type==="number";Jd(e,t?"change":"input",m=>{if(m.target.composing)return;let n=e.value;s&&(n=n.trim()),d&&(n=su(n)),e._assign(n)}),s&&Jd(e,"change",()=>{e.value=e.value.trim()}),t||(Jd(e,"compositionstart",bP),Jd(e,"compositionend",NT),Jd(e,"change",NT))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:l,number:c}},d){if(e._assign=fp(d),e.composing||document.activeElement===e&&e.type!=="range"&&(s||l&&e.value.trim()===t||(c||e.type==="number")&&su(e.value)===t))return;const m=t??"";e.value!==m&&(e.value=m)}},Rf={deep:!0,created(e,t,s){e._assign=fp(s),Jd(e,"change",()=>{const l=e._modelValue,c=mm(e),d=e.checked,m=e._assign;if(gn(l)){const n=Nv(l,c),S=n!==-1;if(d&&!S)m(l.concat(c));else if(!d&&S){const j=[...l];j.splice(n,1),m(j)}}else if(Ff(l)){const n=new Set(l);d?n.add(c):n.delete(c),m(n)}else m(VC(e,d))})},mounted:FT,beforeUpdate(e,t,s){e._assign=fp(s),FT(e,t,s)}};function FT(e,{value:t,oldValue:s},l){e._modelValue=t,gn(t)?e.checked=Nv(t,l.props.value)>-1:Ff(t)?e.checked=t.has(l.props.value):t!==s&&(e.checked=ap(t,VC(e,!0)))}const cx={created(e,{value:t},s){e.checked=ap(t,s.props.value),e._assign=fp(s),Jd(e,"change",()=>{e._assign(mm(e))})},beforeUpdate(e,{value:t,oldValue:s},l){e._assign=fp(l),t!==s&&(e.checked=ap(t,l.props.value))}},Ph={deep:!0,created(e,{value:t,modifiers:{number:s}},l){const c=Ff(t);Jd(e,"change",()=>{const d=Array.prototype.filter.call(e.options,m=>m.selected).map(m=>s?su(mm(m)):mm(m));e._assign(e.multiple?c?new Set(d):d:d[0])}),e._assign=fp(l)},mounted(e,{value:t}){jT(e,t)},beforeUpdate(e,t,s){e._assign=fp(s)},updated(e,{value:t}){jT(e,t)}};function jT(e,t){const s=e.multiple;if(!(s&&!gn(t)&&!Ff(t))){for(let l=0,c=e.options.length;l<c;l++){const d=e.options[l],m=mm(d);if(s)gn(t)?d.selected=Nv(t,m)>-1:d.selected=t.has(m);else if(ap(mm(d),t)){e.selectedIndex!==l&&(e.selectedIndex=l);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function mm(e){return"_value"in e?e._value:e.value}function VC(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const j3={created(e,t,s){Dy(e,t,s,null,"created")},mounted(e,t,s){Dy(e,t,s,null,"mounted")},beforeUpdate(e,t,s,l){Dy(e,t,s,l,"beforeUpdate")},updated(e,t,s,l){Dy(e,t,s,l,"updated")}};function HC(e,t){switch(e){case"SELECT":return Ph;case"TEXTAREA":return Oh;default:switch(t){case"checkbox":return Rf;case"radio":return cx;default:return Oh}}}function Dy(e,t,s,l,c){const m=HC(e.tagName,s.props&&s.props.type)[c];m&&m(e,t,s,l)}function wP(){Oh.getSSRProps=({value:e})=>({value:e}),cx.getSSRProps=({value:e},t)=>{if(t.props&&ap(t.props.value,e))return{checked:!0}},Rf.getSSRProps=({value:e},t)=>{if(gn(e)){if(t.props&&Nv(e,t.props.value)>-1)return{checked:!0}}else if(Ff(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},j3.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const s=HC(t.type.toUpperCase(),t.props&&t.props.type);if(s.getSSRProps)return s.getSSRProps(e,t)}}const SP=["ctrl","shift","alt","meta"],TP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>SP.some(s=>e[`${s}Key`]&&!t.includes(s))},$C=(e,t)=>(s,...l)=>{for(let c=0;c<t.length;c++){const d=TP[t[c]];if(d&&d(s,t))return}return e(s,...l)},EP={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},WC=(e,t)=>s=>{if(!("key"in s))return;const l=Cc(s.key);if(t.some(c=>c===l||EP[c]===l))return e(s)},U3={beforeMount(e,{value:t},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):a1(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:l}){!t!=!s&&(l?t?(l.beforeEnter(e),a1(e,!0),l.enter(e)):l.leave(e,()=>{a1(e,!1)}):a1(e,t))},beforeUnmount(e,{value:t}){a1(e,t)}};function a1(e,t){e.style.display=t?e._vod:"none"}function CP(){U3.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const qC=ar({patchProp:hP},K6);let g1,UT=!1;function YC(){return g1||(g1=k3(qC))}function XC(){return g1=UT?g1:P3(qC),UT=!0,g1}const dv=(...e)=>{YC().render(...e)},G3=(...e)=>{XC().hydrate(...e)},V3=(...e)=>{const t=YC().createApp(...e),{mount:s}=t;return t.mount=l=>{const c=KC(l);if(!c)return;const d=t._component;!rs(d)&&!d.render&&!d.template&&(d.template=c.innerHTML),c.innerHTML="";const m=s(c,!1,c instanceof SVGElement);return c instanceof Element&&(c.removeAttribute("v-cloak"),c.setAttribute("data-v-app","")),m},t},ZC=(...e)=>{const t=XC().createApp(...e),{mount:s}=t;return t.mount=l=>{const c=KC(l);if(c)return s(c,!0,c instanceof SVGElement)},t};function KC(e){return ys(e)?document.querySelector(e):e}let GT=!1;const JC=()=>{GT||(GT=!0,wP(),CP())},MP=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:tx,Comment:Ia,EffectScope:jv,Fragment:Jn,KeepAlive:WE,ReactiveEffect:Sm,Static:sp,Suspense:FE,Teleport:aC,Text:up,Transition:$1,TransitionGroup:GC,VueElement:H1,callWithAsyncErrorHandling:Ql,callWithErrorHandling:md,camelize:ya,capitalize:yp,cloneVNode:Lh,compatUtils:IC,computed:Am,createApp:V3,createBlock:lh,createCommentVNode:Kn,createElementBlock:vi,createElementVNode:et,createHydrationRenderer:P3,createPropsRestProxy:CC,createRenderer:k3,createSSRApp:ZC,createSlots:ZE,createStaticVNode:zh,createTextVNode:ko,createVNode:en,customRef:kE,defineAsyncComponent:$E,defineComponent:ix,defineCustomElement:F3,defineEmits:xC,defineExpose:bC,defineProps:vC,defineSSRCustomElement:LC,get devtools(){return xf},effect:pE,effectScope:aE,getCurrentInstance:hu,getCurrentScope:cE,getTransitionRawChildren:G1,guardReactiveProps:M1,h:Zl,handleError:vp,hydrate:G3,initCustomFormatter:AC,initDirectivesForSSR:JC,inject:Af,isMemoSame:z3,isProxy:Wv,isReactive:np,isReadonly:hp,isRef:ia,isRuntimeOnly:gC,isShallow:pm,isVNode:ou,markRaw:qv,mergeDefaults:EC,mergeProps:ax,nextTick:Cm,normalizeClass:zr,normalizeProps:sv,normalizeStyle:_d,onActivated:y3,onBeforeMount:x3,onBeforeUnmount:Vf,onBeforeUpdate:sx,onDeactivated:v3,onErrorCaptured:T3,onMounted:yd,onRenderTracked:S3,onRenderTriggered:w3,onScopeDispose:hE,onServerPrefetch:b3,onUnmounted:Hf,onUpdated:Gf,openBlock:di,popScopeId:Uf,provide:Mm,proxyRefs:Xv,pushScopeId:jf,queuePostFlushCb:Kv,reactive:j1,readonly:Hv,ref:co,registerRuntimeCompiler:L3,render:dv,renderList:Nr,renderSlot:ih,resolveComponent:ds,resolveDirective:rx,resolveDynamicComponent:XE,resolveFilter:DC,resolveTransitionHooks:Lf,setBlockTracking:cv,setDevtoolsHook:f3,setTransitionHooks:dp,shallowReactive:c3,shallowReadonly:EE,shallowRef:CE,ssrContextKey:R3,ssrUtils:PC,stop:fE,toDisplayString:cn,toHandlerKey:Cf,toHandlers:JE,toRaw:Vs,toRef:u3,toRefs:PE,transformVNodeArgs:dC,triggerRef:AE,unref:Go,useAttrs:O3,useCssModule:OC,useCssVars:RC,useSSRContext:B3,useSlots:SC,useTransitionState:ex,vModelCheckbox:Rf,vModelDynamic:j3,vModelRadio:cx,vModelSelect:Ph,vModelText:Oh,vShow:U3,version:N3,warn:IE,watch:ah,watchEffect:UE,watchPostEffect:_3,watchSyncEffect:GE,withAsyncContext:MC,withCtx:io,withDefaults:wC,withDirectives:Po,withKeys:WC,withMemo:kC,withModifiers:$C,withScopeId:zE},Symbol.toStringTag,{value:"Module"}));function H3(e){throw e}function QC(e){}function no(e,t,s,l){const c=e,d=new SyntaxError(String(c));return d.code=e,d.loc=t,d}const A1=Symbol(""),_1=Symbol(""),$3=Symbol(""),uv=Symbol(""),eM=Symbol(""),Bf=Symbol(""),tM=Symbol(""),iM=Symbol(""),W3=Symbol(""),q3=Symbol(""),W1=Symbol(""),Y3=Symbol(""),nM=Symbol(""),X3=Symbol(""),pv=Symbol(""),Z3=Symbol(""),K3=Symbol(""),J3=Symbol(""),Q3=Symbol(""),sM=Symbol(""),rM=Symbol(""),hx=Symbol(""),fv=Symbol(""),eS=Symbol(""),tS=Symbol(""),k1=Symbol(""),q1=Symbol(""),iS=Symbol(""),ww=Symbol(""),AP=Symbol(""),Sw=Symbol(""),mv=Symbol(""),kP=Symbol(""),PP=Symbol(""),nS=Symbol(""),DP=Symbol(""),IP=Symbol(""),sS=Symbol(""),oM=Symbol(""),gm={[A1]:"Fragment",[_1]:"Teleport",[$3]:"Suspense",[uv]:"KeepAlive",[eM]:"BaseTransition",[Bf]:"openBlock",[tM]:"createBlock",[iM]:"createElementBlock",[W3]:"createVNode",[q3]:"createElementVNode",[W1]:"createCommentVNode",[Y3]:"createTextVNode",[nM]:"createStaticVNode",[X3]:"resolveComponent",[pv]:"resolveDynamicComponent",[Z3]:"resolveDirective",[K3]:"resolveFilter",[J3]:"withDirectives",[Q3]:"renderList",[sM]:"renderSlot",[rM]:"createSlots",[hx]:"toDisplayString",[fv]:"mergeProps",[eS]:"normalizeClass",[tS]:"normalizeStyle",[k1]:"normalizeProps",[q1]:"guardReactiveProps",[iS]:"toHandlers",[ww]:"camelize",[AP]:"capitalize",[Sw]:"toHandlerKey",[mv]:"setBlockTracking",[kP]:"pushScopeId",[PP]:"popScopeId",[nS]:"withCtx",[DP]:"unref",[IP]:"isRef",[sS]:"withMemo",[oM]:"isMemoSame"};function LP(e){Object.getOwnPropertySymbols(e).forEach(t=>{gm[t]=e[t]})}const kc={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function OP(e,t=kc){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function P1(e,t,s,l,c,d,m,n=!1,S=!1,j=!1,J=kc){return e&&(n?(e.helper(Bf),e.helper(vm(e.inSSR,j))):e.helper(ym(e.inSSR,j)),m&&e.helper(J3)),{type:13,tag:t,props:s,children:l,patchFlag:c,dynamicProps:d,directives:m,isBlock:n,disableTracking:S,isComponent:j,loc:J}}function Y1(e,t=kc){return{type:17,loc:t,elements:e}}function rh(e,t=kc){return{type:15,loc:t,properties:e}}function _o(e,t){return{type:16,loc:kc,key:ys(e)?Cs(e,!0):e,value:t}}function Cs(e,t=!1,s=kc,l=0){return{type:4,loc:s,content:e,isStatic:t,constType:t?3:l}}function Ih(e,t=kc){return{type:8,loc:t,children:e}}function Vo(e,t=[],s=kc){return{type:14,loc:s,callee:e,arguments:t}}function _m(e,t=void 0,s=!1,l=!1,c=kc){return{type:18,params:e,returns:t,newline:s,isSlot:l,loc:c}}function Tw(e,t,s,l=!0){return{type:19,test:e,consequent:t,alternate:s,newline:l,loc:kc}}function RP(e,t,s=!1){return{type:20,index:e,value:t,isVNode:s,loc:kc}}function BP(e){return{type:21,body:e,loc:kc}}const Jl=e=>e.type===4&&e.isStatic,Q0=(e,t)=>e===t||e===Cc(t);function aM(e){if(Q0(e,"Teleport"))return _1;if(Q0(e,"Suspense"))return $3;if(Q0(e,"KeepAlive"))return uv;if(Q0(e,"BaseTransition"))return eM}const zP=/^\d|[^\$\w]/,rS=e=>!zP.test(e),NP=/[A-Za-z_$\xA0-\uFFFF]/,FP=/[\.\?\w$\xA0-\uFFFF]/,jP=/\s+[.[]\s*|\s*[.[]\s+/g,UP=e=>{e=e.trim().replace(jP,m=>m.trim());let t=0,s=[],l=0,c=0,d=null;for(let m=0;m<e.length;m++){const n=e.charAt(m);switch(t){case 0:if(n==="[")s.push(t),t=1,l++;else if(n==="(")s.push(t),t=2,c++;else if(!(m===0?NP:FP).test(n))return!1;break;case 1:n==="'"||n==='"'||n==="`"?(s.push(t),t=3,d=n):n==="["?l++:n==="]"&&(--l||(t=s.pop()));break;case 2:if(n==="'"||n==='"'||n==="`")s.push(t),t=3,d=n;else if(n==="(")c++;else if(n===")"){if(m===e.length-1)return!1;--c||(t=s.pop())}break;case 3:n===d&&(t=s.pop(),d=null);break}}return!l&&!c},lM=UP;function cM(e,t,s){const c={source:e.source.slice(t,t+s),start:gv(e.start,e.source,t),end:e.end};return s!=null&&(c.end=gv(e.start,e.source,t+s)),c}function gv(e,t,s=t.length){return _v(ar({},e),t,s)}function _v(e,t,s=t.length){let l=0,c=-1;for(let d=0;d<s;d++)t.charCodeAt(d)===10&&(l++,c=d);return e.offset+=s,e.line+=l,e.column=c===-1?e.column+s:s-c,e}function nh(e,t,s=!1){for(let l=0;l<e.props.length;l++){const c=e.props[l];if(c.type===7&&(s||c.exp)&&(ys(t)?c.name===t:t.test(c.name)))return c}}function dx(e,t,s=!1,l=!1){for(let c=0;c<e.props.length;c++){const d=e.props[c];if(d.type===6){if(s)continue;if(d.name===t&&(d.value||l))return d}else if(d.name==="bind"&&(d.exp||l)&&Sf(d.arg,t))return d}}function Sf(e,t){return!!(e&&Jl(e)&&e.content===t)}function GP(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function Lb(e){return e.type===5||e.type===2}function VP(e){return e.type===7&&e.name==="slot"}function yv(e){return e.type===1&&e.tagType===3}function vv(e){return e.type===1&&e.tagType===2}function ym(e,t){return e||t?W3:q3}function vm(e,t){return e||t?tM:iM}const HP=new Set([k1,q1]);function hM(e,t=[]){if(e&&!ys(e)&&e.type===14){const s=e.callee;if(!ys(s)&&HP.has(s))return hM(e.arguments[0],t.concat(e))}return[e,t]}function xv(e,t,s){let l,c=e.type===13?e.props:e.arguments[2],d=[],m;if(c&&!ys(c)&&c.type===14){const n=hM(c);c=n[0],d=n[1],m=d[d.length-1]}if(c==null||ys(c))l=rh([t]);else if(c.type===14){const n=c.arguments[0];!ys(n)&&n.type===15?VT(t,n)||n.properties.unshift(t):c.callee===iS?l=Vo(s.helper(fv),[rh([t]),c]):c.arguments.unshift(rh([t])),!l&&(l=c)}else c.type===15?(VT(t,c)||c.properties.unshift(t),l=c):(l=Vo(s.helper(fv),[rh([t]),c]),m&&m.callee===q1&&(m=d[d.length-2]));e.type===13?m?m.arguments[0]=l:e.props=l:m?m.arguments[0]=l:e.arguments[2]=l}function VT(e,t){let s=!1;if(e.key.type===4){const l=e.key.content;s=t.properties.some(c=>c.key.type===4&&c.key.content===l)}return s}function D1(e,t){return`_${t}_${e.replace(/[^\w]/g,(s,l)=>s==="-"?"_":e.charCodeAt(l).toString())}`}function $P(e){return e.type===14&&e.callee===sS?e.arguments[1].returns:e}function oS(e,{helper:t,removeHelper:s,inSSR:l}){e.isBlock||(e.isBlock=!0,s(ym(l,e.isComponent)),t(Bf),t(vm(l,e.isComponent)))}function HT(e,t){const s=t.options?t.options.compatConfig:t.compatConfig,l=s&&s[e];return e==="MODE"?l||3:l}function Pf(e,t){const s=HT("MODE",t),l=HT(e,t);return s===3?l===!0:l!==!1}function I1(e,t,s,...l){return Pf(e,t)}const WP=/&(gt|lt|amp|apos|quot);/g,qP={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},$T={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:$y,isPreTag:$y,isCustomElement:$y,decodeEntities:e=>e.replace(WP,(t,s)=>qP[s]),onError:H3,onWarn:QC,comments:!1};function YP(e,t={}){const s=XP(e,t),l=Mc(s);return OP(aS(s,0,[]),ch(s,l))}function XP(e,t){const s=ar({},$T);let l;for(l in t)s[l]=t[l]===void 0?$T[l]:t[l];return{options:s,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:s.onWarn}}function aS(e,t,s){const l=ux(s),c=l?l.ns:0,d=[];for(;!sD(e,t,s);){const n=e.source;let S;if(t===0||t===1){if(!e.inVPre&&Ja(n,e.options.delimiters[0]))S=iD(e,t);else if(t===0&&n[0]==="<")if(n.length===1)_r(e,5,1);else if(n[1]==="!")Ja(n,"<!--")?S=KP(e):Ja(n,"<!DOCTYPE")?S=l1(e):Ja(n,"<![CDATA[")?c!==0?S=ZP(e,s):(_r(e,1),S=l1(e)):(_r(e,11),S=l1(e));else if(n[1]==="/")if(n.length===2)_r(e,5,2);else if(n[2]===">"){_r(e,14,2),sa(e,3);continue}else if(/[a-z]/i.test(n[2])){_r(e,23),Ew(e,1,l);continue}else _r(e,12,2),S=l1(e);else/[a-z]/i.test(n[1])?(S=JP(e,s),Pf("COMPILER_NATIVE_TEMPLATE",e)&&S&&S.tag==="template"&&!S.props.some(j=>j.type===7&&dM(j.name))&&(S=S.children)):n[1]==="?"?(_r(e,21,1),S=l1(e)):_r(e,12,1)}if(S||(S=nD(e,t)),gn(S))for(let j=0;j<S.length;j++)WT(d,S[j]);else WT(d,S)}let m=!1;if(t!==2&&t!==1){const n=e.options.whitespace!=="preserve";for(let S=0;S<d.length;S++){const j=d[S];if(j.type===2)if(e.inPre)j.content=j.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(j.content))n&&(j.content=j.content.replace(/[\t\r\n\f ]+/g," "));else{const J=d[S-1],B=d[S+1];!J||!B||n&&(J.type===3&&B.type===3||J.type===3&&B.type===1||J.type===1&&B.type===3||J.type===1&&B.type===1&&/[\r\n]/.test(j.content))?(m=!0,d[S]=null):j.content=" "}else j.type===3&&!e.options.comments&&(m=!0,d[S]=null)}if(e.inPre&&l&&e.options.isPreTag(l.tag)){const S=d[0];S&&S.type===2&&(S.content=S.content.replace(/^\r?\n/,""))}}return m?d.filter(Boolean):d}function WT(e,t){if(t.type===2){const s=ux(e);if(s&&s.type===2&&s.loc.end.offset===t.loc.start.offset){s.content+=t.content,s.loc.end=t.loc.end,s.loc.source+=t.loc.source;return}}e.push(t)}function ZP(e,t){sa(e,9);const s=aS(e,3,t);return e.source.length===0?_r(e,6):sa(e,3),s}function KP(e){const t=Mc(e);let s;const l=/--(\!)?>/.exec(e.source);if(!l)s=e.source.slice(4),sa(e,e.source.length),_r(e,7);else{l.index<=3&&_r(e,0),l[1]&&_r(e,10),s=e.source.slice(4,l.index);const c=e.source.slice(0,l.index);let d=1,m=0;for(;(m=c.indexOf("<!--",d))!==-1;)sa(e,m-d+1),m+4<c.length&&_r(e,16),d=m+1;sa(e,l.index+l[0].length-d+1)}return{type:3,content:s,loc:ch(e,t)}}function l1(e){const t=Mc(e),s=e.source[1]==="?"?1:2;let l;const c=e.source.indexOf(">");return c===-1?(l=e.source.slice(s),sa(e,e.source.length)):(l=e.source.slice(s,c),sa(e,c+1)),{type:3,content:l,loc:ch(e,t)}}function JP(e,t){const s=e.inPre,l=e.inVPre,c=ux(t),d=Ew(e,0,c),m=e.inPre&&!s,n=e.inVPre&&!l;if(d.isSelfClosing||e.options.isVoidTag(d.tag))return m&&(e.inPre=!1),n&&(e.inVPre=!1),d;t.push(d);const S=e.options.getTextMode(d,c),j=aS(e,S,t);t.pop();{const J=d.props.find(B=>B.type===6&&B.name==="inline-template");if(J&&I1("COMPILER_INLINE_TEMPLATE",e,J.loc)){const B=ch(e,d.loc.end);J.value={type:2,content:B.source,loc:B}}}if(d.children=j,Cw(e.source,d.tag))Ew(e,1,c);else if(_r(e,24,0,d.loc.start),e.source.length===0&&d.tag.toLowerCase()==="script"){const J=j[0];J&&Ja(J.loc.source,"<!--")&&_r(e,8)}return d.loc=ch(e,d.loc.start),m&&(e.inPre=!1),n&&(e.inVPre=!1),d}const dM=ec("if,else,else-if,for,slot");function Ew(e,t,s){const l=Mc(e),c=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),d=c[1],m=e.options.getNamespace(d,s);sa(e,c[0].length),L1(e);const n=Mc(e),S=e.source;e.options.isPreTag(d)&&(e.inPre=!0);let j=qT(e,t);t===0&&!e.inVPre&&j.some(W=>W.type===7&&W.name==="pre")&&(e.inVPre=!0,ar(e,n),e.source=S,j=qT(e,t).filter(W=>W.name!=="v-pre"));let J=!1;if(e.source.length===0?_r(e,9):(J=Ja(e.source,"/>"),t===1&&J&&_r(e,4),sa(e,J?2:1)),t===1)return;let B=0;return e.inVPre||(d==="slot"?B=2:d==="template"?j.some(W=>W.type===7&&dM(W.name))&&(B=3):QP(d,j,e)&&(B=1)),{type:1,ns:m,tag:d,tagType:B,props:j,isSelfClosing:J,children:[],loc:ch(e,l),codegenNode:void 0}}function QP(e,t,s){const l=s.options;if(l.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||aM(e)||l.isBuiltInComponent&&l.isBuiltInComponent(e)||l.isNativeTag&&!l.isNativeTag(e))return!0;for(let c=0;c<t.length;c++){const d=t[c];if(d.type===6){if(d.name==="is"&&d.value){if(d.value.content.startsWith("vue:"))return!0;if(I1("COMPILER_IS_ON_ELEMENT",s,d.loc))return!0}}else{if(d.name==="is")return!0;if(d.name==="bind"&&Sf(d.arg,"is")&&I1("COMPILER_IS_ON_ELEMENT",s,d.loc))return!0}}}function qT(e,t){const s=[],l=new Set;for(;e.source.length>0&&!Ja(e.source,">")&&!Ja(e.source,"/>");){if(Ja(e.source,"/")){_r(e,22),sa(e,1),L1(e);continue}t===1&&_r(e,3);const c=eD(e,l);c.type===6&&c.value&&c.name==="class"&&(c.value.content=c.value.content.replace(/\s+/g," ").trim()),t===0&&s.push(c),/^[^\t\r\n\f />]/.test(e.source)&&_r(e,15),L1(e)}return s}function eD(e,t){const s=Mc(e),c=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(c)&&_r(e,2),t.add(c),c[0]==="="&&_r(e,19);{const n=/["'<]/g;let S;for(;S=n.exec(c);)_r(e,17,S.index)}sa(e,c.length);let d;/^[\t\r\n\f ]*=/.test(e.source)&&(L1(e),sa(e,1),L1(e),d=tD(e),d||_r(e,13));const m=ch(e,s);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(c)){const n=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(c);let S=Ja(c,"."),j=n[1]||(S||Ja(c,":")?"bind":Ja(c,"@")?"on":"slot"),J;if(n[2]){const W=j==="slot",K=c.lastIndexOf(n[2]),I=ch(e,YT(e,s,K),YT(e,s,K+n[2].length+(W&&n[3]||"").length));let O=n[2],H=!0;O.startsWith("[")?(H=!1,O.endsWith("]")?O=O.slice(1,O.length-1):(_r(e,27),O=O.slice(1))):W&&(O+=n[3]||""),J={type:4,content:O,isStatic:H,constType:H?3:0,loc:I}}if(d&&d.isQuoted){const W=d.loc;W.start.offset++,W.start.column++,W.end=gv(W.start,d.content),W.source=W.source.slice(1,-1)}const B=n[3]?n[3].slice(1).split("."):[];return S&&B.push("prop"),j==="bind"&&J&&B.includes("sync")&&I1("COMPILER_V_BIND_SYNC",e,m,J.loc.source)&&(j="model",B.splice(B.indexOf("sync"),1)),{type:7,name:j,exp:d&&{type:4,content:d.content,isStatic:!1,constType:0,loc:d.loc},arg:J,modifiers:B,loc:m}}return!e.inVPre&&Ja(c,"v-")&&_r(e,26),{type:6,name:c,value:d&&{type:2,content:d.content,loc:d.loc},loc:m}}function tD(e){const t=Mc(e);let s;const l=e.source[0],c=l==='"'||l==="'";if(c){sa(e,1);const d=e.source.indexOf(l);d===-1?s=y1(e,e.source.length,4):(s=y1(e,d,4),sa(e,1))}else{const d=/^[^\t\r\n\f >]+/.exec(e.source);if(!d)return;const m=/["'<=`]/g;let n;for(;n=m.exec(d[0]);)_r(e,18,n.index);s=y1(e,d[0].length,4)}return{content:s,isQuoted:c,loc:ch(e,t)}}function iD(e,t){const[s,l]=e.options.delimiters,c=e.source.indexOf(l,s.length);if(c===-1){_r(e,25);return}const d=Mc(e);sa(e,s.length);const m=Mc(e),n=Mc(e),S=c-s.length,j=e.source.slice(0,S),J=y1(e,S,t),B=J.trim(),W=J.indexOf(B);W>0&&_v(m,j,W);const K=S-(J.length-B.length-W);return _v(n,j,K),sa(e,l.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:B,loc:ch(e,m,n)},loc:ch(e,d)}}function nD(e,t){const s=t===3?["]]>"]:["<",e.options.delimiters[0]];let l=e.source.length;for(let m=0;m<s.length;m++){const n=e.source.indexOf(s[m],1);n!==-1&&l>n&&(l=n)}const c=Mc(e);return{type:2,content:y1(e,l,t),loc:ch(e,c)}}function y1(e,t,s){const l=e.source.slice(0,t);return sa(e,t),s===2||s===3||!l.includes("&")?l:e.options.decodeEntities(l,s===4)}function Mc(e){const{column:t,line:s,offset:l}=e;return{column:t,line:s,offset:l}}function ch(e,t,s){return s=s||Mc(e),{start:t,end:s,source:e.originalSource.slice(t.offset,s.offset)}}function ux(e){return e[e.length-1]}function Ja(e,t){return e.startsWith(t)}function sa(e,t){const{source:s}=e;_v(e,s,t),e.source=s.slice(t)}function L1(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&sa(e,t[0].length)}function YT(e,t,s){return gv(t,e.originalSource.slice(t.offset,s),s)}function _r(e,t,s,l=Mc(e)){s&&(l.offset+=s,l.column+=s),e.options.onError(no(t,{start:l,end:l,source:""}))}function sD(e,t,s){const l=e.source;switch(t){case 0:if(Ja(l,"</")){for(let c=s.length-1;c>=0;--c)if(Cw(l,s[c].tag))return!0}break;case 1:case 2:{const c=ux(s);if(c&&Cw(l,c.tag))return!0;break}case 3:if(Ja(l,"]]>"))return!0;break}return!l}function Cw(e,t){return Ja(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function rD(e,t){Yy(e,t,uM(e,e.children[0]))}function uM(e,t){const{children:s}=e;return s.length===1&&t.type===1&&!vv(t)}function Yy(e,t,s=!1){const{children:l}=e,c=l.length;let d=0;for(let m=0;m<l.length;m++){const n=l[m];if(n.type===1&&n.tagType===0){const S=s?0:oh(n,t);if(S>0){if(S>=2){n.codegenNode.patchFlag=-1+"",n.codegenNode=t.hoist(n.codegenNode),d++;continue}}else{const j=n.codegenNode;if(j.type===13){const J=gM(j);if((!J||J===512||J===1)&&fM(n,t)>=2){const B=mM(n);B&&(j.props=t.hoist(B))}j.dynamicProps&&(j.dynamicProps=t.hoist(j.dynamicProps))}}}if(n.type===1){const S=n.tagType===1;S&&t.scopes.vSlot++,Yy(n,t),S&&t.scopes.vSlot--}else if(n.type===11)Yy(n,t,n.children.length===1);else if(n.type===9)for(let S=0;S<n.branches.length;S++)Yy(n.branches[S],t,n.branches[S].children.length===1)}d&&t.transformHoist&&t.transformHoist(l,t,e),d&&d===c&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&gn(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(Y1(e.codegenNode.children)))}function oh(e,t){const{constantCache:s}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const l=s.get(e);if(l!==void 0)return l;const c=e.codegenNode;if(c.type!==13||c.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(gM(c))return s.set(e,0),0;{let n=3;const S=fM(e,t);if(S===0)return s.set(e,0),0;S<n&&(n=S);for(let j=0;j<e.children.length;j++){const J=oh(e.children[j],t);if(J===0)return s.set(e,0),0;J<n&&(n=J)}if(n>1)for(let j=0;j<e.props.length;j++){const J=e.props[j];if(J.type===7&&J.name==="bind"&&J.exp){const B=oh(J.exp,t);if(B===0)return s.set(e,0),0;B<n&&(n=B)}}if(c.isBlock){for(let j=0;j<e.props.length;j++)if(e.props[j].type===7)return s.set(e,0),0;t.removeHelper(Bf),t.removeHelper(vm(t.inSSR,c.isComponent)),c.isBlock=!1,t.helper(ym(t.inSSR,c.isComponent))}return s.set(e,n),n}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return oh(e.content,t);case 4:return e.constType;case 8:let m=3;for(let n=0;n<e.children.length;n++){const S=e.children[n];if(ys(S)||lp(S))continue;const j=oh(S,t);if(j===0)return 0;j<m&&(m=j)}return m;default:return 0}}const oD=new Set([eS,tS,k1,q1]);function pM(e,t){if(e.type===14&&!ys(e.callee)&&oD.has(e.callee)){const s=e.arguments[0];if(s.type===4)return oh(s,t);if(s.type===14)return pM(s,t)}return 0}function fM(e,t){let s=3;const l=mM(e);if(l&&l.type===15){const{properties:c}=l;for(let d=0;d<c.length;d++){const{key:m,value:n}=c[d],S=oh(m,t);if(S===0)return S;S<s&&(s=S);let j;if(n.type===4?j=oh(n,t):n.type===14?j=pM(n,t):j=0,j===0)return j;j<s&&(s=j)}}return s}function mM(e){const t=e.codegenNode;if(t.type===13)return t.props}function gM(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function aD(e,{filename:t="",prefixIdentifiers:s=!1,hoistStatic:l=!1,cacheHandlers:c=!1,nodeTransforms:d=[],directiveTransforms:m={},transformHoist:n=null,isBuiltInComponent:S=Ml,isCustomElement:j=Ml,expressionPlugins:J=[],scopeId:B=null,slotted:W=!0,ssr:K=!1,inSSR:I=!1,ssrCssVars:O="",bindingMetadata:H=yr,inline:M=!1,isTS:E=!1,onError:k=H3,onWarn:V=QC,compatConfig:G}){const C=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),ie={selfName:C&&yp(ya(C[1])),prefixIdentifiers:s,hoistStatic:l,cacheHandlers:c,nodeTransforms:d,directiveTransforms:m,transformHoist:n,isBuiltInComponent:S,isCustomElement:j,expressionPlugins:J,scopeId:B,slotted:W,ssr:K,inSSR:I,ssrCssVars:O,bindingMetadata:H,inline:M,isTS:E,onError:k,onWarn:V,compatConfig:G,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(Q){const N=ie.helpers.get(Q)||0;return ie.helpers.set(Q,N+1),Q},removeHelper(Q){const N=ie.helpers.get(Q);if(N){const F=N-1;F?ie.helpers.set(Q,F):ie.helpers.delete(Q)}},helperString(Q){return`_${gm[ie.helper(Q)]}`},replaceNode(Q){ie.parent.children[ie.childIndex]=ie.currentNode=Q},removeNode(Q){const N=ie.parent.children,F=Q?N.indexOf(Q):ie.currentNode?ie.childIndex:-1;!Q||Q===ie.currentNode?(ie.currentNode=null,ie.onNodeRemoved()):ie.childIndex>F&&(ie.childIndex--,ie.onNodeRemoved()),ie.parent.children.splice(F,1)},onNodeRemoved:()=>{},addIdentifiers(Q){},removeIdentifiers(Q){},hoist(Q){ys(Q)&&(Q=Cs(Q)),ie.hoists.push(Q);const N=Cs(`_hoisted_${ie.hoists.length}`,!1,Q.loc,2);return N.hoisted=Q,N},cache(Q,N=!1){return RP(ie.cached++,Q,N)}};return ie.filters=new Set,ie}function lD(e,t){const s=aD(e,t);px(e,s),t.hoistStatic&&rD(e,s),t.ssr||cD(e,s),e.helpers=[...s.helpers.keys()],e.components=[...s.components],e.directives=[...s.directives],e.imports=s.imports,e.hoists=s.hoists,e.temps=s.temps,e.cached=s.cached,e.filters=[...s.filters]}function cD(e,t){const{helper:s}=t,{children:l}=e;if(l.length===1){const c=l[0];if(uM(e,c)&&c.codegenNode){const d=c.codegenNode;d.type===13&&oS(d,t),e.codegenNode=d}else e.codegenNode=c}else if(l.length>1){let c=64;e.codegenNode=P1(t,s(A1),void 0,e.children,c+"",void 0,void 0,!0,void 0,!1)}}function hD(e,t){let s=0;const l=()=>{s--};for(;s<e.children.length;s++){const c=e.children[s];ys(c)||(t.parent=e,t.childIndex=s,t.onNodeRemoved=l,px(c,t))}}function px(e,t){t.currentNode=e;const{nodeTransforms:s}=t,l=[];for(let d=0;d<s.length;d++){const m=s[d](e,t);if(m&&(gn(m)?l.push(...m):l.push(m)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(W1);break;case 5:t.ssr||t.helper(hx);break;case 9:for(let d=0;d<e.branches.length;d++)px(e.branches[d],t);break;case 10:case 11:case 1:case 0:hD(e,t);break}t.currentNode=e;let c=l.length;for(;c--;)l[c]()}function _M(e,t){const s=ys(e)?l=>l===e:l=>e.test(l);return(l,c)=>{if(l.type===1){const{props:d}=l;if(l.tagType===3&&d.some(VP))return;const m=[];for(let n=0;n<d.length;n++){const S=d[n];if(S.type===7&&s(S.name)){d.splice(n,1),n--;const j=t(l,S,c);j&&m.push(j)}}return m}}}const fx="/*#__PURE__*/",yM=e=>`${gm[e]}: _${gm[e]}`;function dD(e,{mode:t="function",prefixIdentifiers:s=t==="module",sourceMap:l=!1,filename:c="template.vue.html",scopeId:d=null,optimizeImports:m=!1,runtimeGlobalName:n="Vue",runtimeModuleName:S="vue",ssrRuntimeModuleName:j="vue/server-renderer",ssr:J=!1,isTS:B=!1,inSSR:W=!1}){const K={mode:t,prefixIdentifiers:s,sourceMap:l,filename:c,scopeId:d,optimizeImports:m,runtimeGlobalName:n,runtimeModuleName:S,ssrRuntimeModuleName:j,ssr:J,isTS:B,inSSR:W,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(O){return`_${gm[O]}`},push(O,H){K.code+=O},indent(){I(++K.indentLevel)},deindent(O=!1){O?--K.indentLevel:I(--K.indentLevel)},newline(){I(K.indentLevel)}};function I(O){K.push(`
`+"  ".repeat(O))}return K}function uD(e,t={}){const s=dD(e,t);t.onContextCreated&&t.onContextCreated(s);const{mode:l,push:c,prefixIdentifiers:d,indent:m,deindent:n,newline:S,scopeId:j,ssr:J}=s,B=e.helpers.length>0,W=!d&&l!=="module";pD(e,s);const I=J?"ssrRender":"render",H=(J?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(c(`function ${I}(${H}) {`),m(),W&&(c("with (_ctx) {"),m(),B&&(c(`const { ${e.helpers.map(yM).join(", ")} } = _Vue`),c(`
`),S())),e.components.length&&(Ob(e.components,"component",s),(e.directives.length||e.temps>0)&&S()),e.directives.length&&(Ob(e.directives,"directive",s),e.temps>0&&S()),e.filters&&e.filters.length&&(S(),Ob(e.filters,"filter",s),S()),e.temps>0){c("let ");for(let M=0;M<e.temps;M++)c(`${M>0?", ":""}_temp${M}`)}return(e.components.length||e.directives.length||e.temps)&&(c(`
`),S()),J||c("return "),e.codegenNode?Qa(e.codegenNode,s):c("null"),W&&(n(),c("}")),n(),c("}"),{ast:e,code:s.code,preamble:"",map:s.map?s.map.toJSON():void 0}}function pD(e,t){const{ssr:s,prefixIdentifiers:l,push:c,newline:d,runtimeModuleName:m,runtimeGlobalName:n,ssrRuntimeModuleName:S}=t,j=n;if(e.helpers.length>0&&(c(`const _Vue = ${j}
`),e.hoists.length)){const J=[W3,q3,W1,Y3,nM].filter(B=>e.helpers.includes(B)).map(yM).join(", ");c(`const { ${J} } = _Vue
`)}fD(e.hoists,t),d(),c("return ")}function Ob(e,t,{helper:s,push:l,newline:c,isTS:d}){const m=s(t==="filter"?K3:t==="component"?X3:Z3);for(let n=0;n<e.length;n++){let S=e[n];const j=S.endsWith("__self");j&&(S=S.slice(0,-6)),l(`const ${D1(S,t)} = ${m}(${JSON.stringify(S)}${j?", true":""})${d?"!":""}`),n<e.length-1&&c()}}function fD(e,t){if(!e.length)return;t.pure=!0;const{push:s,newline:l,helper:c,scopeId:d,mode:m}=t;l();for(let n=0;n<e.length;n++){const S=e[n];S&&(s(`const _hoisted_${n+1} = `),Qa(S,t),l())}t.pure=!1}function lS(e,t){const s=e.length>3||!1;t.push("["),s&&t.indent(),X1(e,t,s),s&&t.deindent(),t.push("]")}function X1(e,t,s=!1,l=!0){const{push:c,newline:d}=t;for(let m=0;m<e.length;m++){const n=e[m];ys(n)?c(n):gn(n)?lS(n,t):Qa(n,t),m<e.length-1&&(s?(l&&c(","),d()):l&&c(", "))}}function Qa(e,t){if(ys(e)){t.push(e);return}if(lp(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Qa(e.codegenNode,t);break;case 2:mD(e,t);break;case 4:vM(e,t);break;case 5:gD(e,t);break;case 12:Qa(e.codegenNode,t);break;case 8:xM(e,t);break;case 3:yD(e,t);break;case 13:vD(e,t);break;case 14:bD(e,t);break;case 15:wD(e,t);break;case 17:SD(e,t);break;case 18:TD(e,t);break;case 19:ED(e,t);break;case 20:CD(e,t);break;case 21:X1(e.body,t,!0,!1);break}}function mD(e,t){t.push(JSON.stringify(e.content),e)}function vM(e,t){const{content:s,isStatic:l}=e;t.push(l?JSON.stringify(s):s,e)}function gD(e,t){const{push:s,helper:l,pure:c}=t;c&&s(fx),s(`${l(hx)}(`),Qa(e.content,t),s(")")}function xM(e,t){for(let s=0;s<e.children.length;s++){const l=e.children[s];ys(l)?t.push(l):Qa(l,t)}}function _D(e,t){const{push:s}=t;if(e.type===8)s("["),xM(e,t),s("]");else if(e.isStatic){const l=rS(e.content)?e.content:JSON.stringify(e.content);s(l,e)}else s(`[${e.content}]`,e)}function yD(e,t){const{push:s,helper:l,pure:c}=t;c&&s(fx),s(`${l(W1)}(${JSON.stringify(e.content)})`,e)}function vD(e,t){const{push:s,helper:l,pure:c}=t,{tag:d,props:m,children:n,patchFlag:S,dynamicProps:j,directives:J,isBlock:B,disableTracking:W,isComponent:K}=e;J&&s(l(J3)+"("),B&&s(`(${l(Bf)}(${W?"true":""}), `),c&&s(fx);const I=B?vm(t.inSSR,K):ym(t.inSSR,K);s(l(I)+"(",e),X1(xD([d,m,n,S,j]),t),s(")"),B&&s(")"),J&&(s(", "),Qa(J,t),s(")"))}function xD(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(s=>s||"null")}function bD(e,t){const{push:s,helper:l,pure:c}=t,d=ys(e.callee)?e.callee:l(e.callee);c&&s(fx),s(d+"(",e),X1(e.arguments,t),s(")")}function wD(e,t){const{push:s,indent:l,deindent:c,newline:d}=t,{properties:m}=e;if(!m.length){s("{}",e);return}const n=m.length>1||!1;s(n?"{":"{ "),n&&l();for(let S=0;S<m.length;S++){const{key:j,value:J}=m[S];_D(j,t),s(": "),Qa(J,t),S<m.length-1&&(s(","),d())}n&&c(),s(n?"}":" }")}function SD(e,t){lS(e.elements,t)}function TD(e,t){const{push:s,indent:l,deindent:c}=t,{params:d,returns:m,body:n,newline:S,isSlot:j}=e;j&&s(`_${gm[nS]}(`),s("(",e),gn(d)?X1(d,t):d&&Qa(d,t),s(") => "),(S||n)&&(s("{"),l()),m?(S&&s("return "),gn(m)?lS(m,t):Qa(m,t)):n&&Qa(n,t),(S||n)&&(c(),s("}")),j&&(e.isNonScopedSlot&&s(", undefined, true"),s(")"))}function ED(e,t){const{test:s,consequent:l,alternate:c,newline:d}=e,{push:m,indent:n,deindent:S,newline:j}=t;if(s.type===4){const B=!rS(s.content);B&&m("("),vM(s,t),B&&m(")")}else m("("),Qa(s,t),m(")");d&&n(),t.indentLevel++,d||m(" "),m("? "),Qa(l,t),t.indentLevel--,d&&j(),d||m(" "),m(": ");const J=c.type===19;J||t.indentLevel++,Qa(c,t),J||t.indentLevel--,d&&S(!0)}function CD(e,t){const{push:s,helper:l,indent:c,deindent:d,newline:m}=t;s(`_cache[${e.index}] || (`),e.isVNode&&(c(),s(`${l(mv)}(-1),`),m()),s(`_cache[${e.index}] = `),Qa(e.value,t),e.isVNode&&(s(","),m(),s(`${l(mv)}(1),`),m(),s(`_cache[${e.index}]`),d()),s(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const MD=_M(/^(if|else|else-if)$/,(e,t,s)=>AD(e,t,s,(l,c,d)=>{const m=s.parent.children;let n=m.indexOf(l),S=0;for(;n-->=0;){const j=m[n];j&&j.type===9&&(S+=j.branches.length)}return()=>{if(d)l.codegenNode=ZT(c,S,s);else{const j=kD(l.codegenNode);j.alternate=ZT(c,S+l.branches.length-1,s)}}}));function AD(e,t,s,l){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const c=t.exp?t.exp.loc:e.loc;s.onError(no(28,t.loc)),t.exp=Cs("true",!1,c)}if(t.name==="if"){const c=XT(e,t),d={type:9,loc:e.loc,branches:[c]};if(s.replaceNode(d),l)return l(d,c,!0)}else{const c=s.parent.children;let d=c.indexOf(e);for(;d-->=-1;){const m=c[d];if(m&&m.type===3){s.removeNode(m);continue}if(m&&m.type===2&&!m.content.trim().length){s.removeNode(m);continue}if(m&&m.type===9){t.name==="else-if"&&m.branches[m.branches.length-1].condition===void 0&&s.onError(no(30,e.loc)),s.removeNode();const n=XT(e,t);m.branches.push(n);const S=l&&l(m,n,!1);px(n,s),S&&S(),s.currentNode=null}else s.onError(no(30,e.loc));break}}}function XT(e,t){const s=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:s&&!nh(e,"for")?e.children:[e],userKey:dx(e,"key"),isTemplateIf:s}}function ZT(e,t,s){return e.condition?Tw(e.condition,KT(e,t,s),Vo(s.helper(W1),['""',"true"])):KT(e,t,s)}function KT(e,t,s){const{helper:l}=s,c=_o("key",Cs(`${t}`,!1,kc,2)),{children:d}=e,m=d[0];if(d.length!==1||m.type!==1)if(d.length===1&&m.type===11){const S=m.codegenNode;return xv(S,c,s),S}else{let S=64;return P1(s,l(A1),rh([c]),d,S+"",void 0,void 0,!0,!1,!1,e.loc)}else{const S=m.codegenNode,j=$P(S);return j.type===13&&oS(j,s),xv(j,c,s),S}}function kD(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const PD=_M("for",(e,t,s)=>{const{helper:l,removeHelper:c}=s;return DD(e,t,s,d=>{const m=Vo(l(Q3),[d.source]),n=yv(e),S=nh(e,"memo"),j=dx(e,"key"),J=j&&(j.type===6?Cs(j.value.content,!0):j.exp),B=j?_o("key",J):null,W=d.source.type===4&&d.source.constType>0,K=W?64:j?128:256;return d.codegenNode=P1(s,l(A1),void 0,m,K+"",void 0,void 0,!0,!W,!1,e.loc),()=>{let I;const{children:O}=d,H=O.length!==1||O[0].type!==1,M=vv(e)?e:n&&e.children.length===1&&vv(e.children[0])?e.children[0]:null;if(M?(I=M.codegenNode,n&&B&&xv(I,B,s)):H?I=P1(s,l(A1),B?rh([B]):void 0,e.children,64+"",void 0,void 0,!0,void 0,!1):(I=O[0].codegenNode,n&&B&&xv(I,B,s),I.isBlock!==!W&&(I.isBlock?(c(Bf),c(vm(s.inSSR,I.isComponent))):c(ym(s.inSSR,I.isComponent))),I.isBlock=!W,I.isBlock?(l(Bf),l(vm(s.inSSR,I.isComponent))):l(ym(s.inSSR,I.isComponent))),S){const E=_m(Mw(d.parseResult,[Cs("_cached")]));E.body=BP([Ih(["const _memo = (",S.exp,")"]),Ih(["if (_cached",...J?[" && _cached.key === ",J]:[],` && ${s.helperString(oM)}(_cached, _memo)) return _cached`]),Ih(["const _item = ",I]),Cs("_item.memo = _memo"),Cs("return _item")]),m.arguments.push(E,Cs("_cache"),Cs(String(s.cached++)))}else m.arguments.push(_m(Mw(d.parseResult),I,!0))}})});function DD(e,t,s,l){if(!t.exp){s.onError(no(31,t.loc));return}const c=bM(t.exp);if(!c){s.onError(no(32,t.loc));return}const{addIdentifiers:d,removeIdentifiers:m,scopes:n}=s,{source:S,value:j,key:J,index:B}=c,W={type:11,loc:t.loc,source:S,valueAlias:j,keyAlias:J,objectIndexAlias:B,parseResult:c,children:yv(e)?e.children:[e]};s.replaceNode(W),n.vFor++;const K=l&&l(W);return()=>{n.vFor--,K&&K()}}const ID=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,JT=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,LD=/^\(|\)$/g;function bM(e,t){const s=e.loc,l=e.content,c=l.match(ID);if(!c)return;const[,d,m]=c,n={source:Iy(s,m.trim(),l.indexOf(m,d.length)),value:void 0,key:void 0,index:void 0};let S=d.trim().replace(LD,"").trim();const j=d.indexOf(S),J=S.match(JT);if(J){S=S.replace(JT,"").trim();const B=J[1].trim();let W;if(B&&(W=l.indexOf(B,j+S.length),n.key=Iy(s,B,W)),J[2]){const K=J[2].trim();K&&(n.index=Iy(s,K,l.indexOf(K,n.key?W+B.length:j+S.length)))}}return S&&(n.value=Iy(s,S,j)),n}function Iy(e,t,s){return Cs(t,!1,cM(e,s,t.length))}function Mw({value:e,key:t,index:s},l=[]){return OD([e,t,s,...l])}function OD(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((s,l)=>s||Cs("_".repeat(l+1),!1))}const QT=Cs("undefined",!1),RD=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const s=nh(e,"slot");if(s)return s.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},BD=(e,t,s)=>_m(e,t,!1,!0,t.length?t[0].loc:s);function zD(e,t,s=BD){t.helper(nS);const{children:l,loc:c}=e,d=[],m=[];let n=t.scopes.vSlot>0||t.scopes.vFor>0;const S=nh(e,"slot",!0);if(S){const{arg:H,exp:M}=S;H&&!Jl(H)&&(n=!0),d.push(_o(H||Cs("default",!0),s(M,l,c)))}let j=!1,J=!1;const B=[],W=new Set;let K=0;for(let H=0;H<l.length;H++){const M=l[H];let E;if(!yv(M)||!(E=nh(M,"slot",!0))){M.type!==3&&B.push(M);continue}if(S){t.onError(no(37,E.loc));break}j=!0;const{children:k,loc:V}=M,{arg:G=Cs("default",!0),exp:C,loc:ie}=E;let Q;Jl(G)?Q=G?G.content:"default":n=!0;const N=s(C,k,V);let F,$,w;if(F=nh(M,"if"))n=!0,m.push(Tw(F.exp,Ly(G,N,K++),QT));else if($=nh(M,/^else(-if)?$/,!0)){let L=H,f;for(;L--&&(f=l[L],f.type===3););if(f&&yv(f)&&nh(f,"if")){l.splice(H,1),H--;let y=m[m.length-1];for(;y.alternate.type===19;)y=y.alternate;y.alternate=$.exp?Tw($.exp,Ly(G,N,K++),QT):Ly(G,N,K++)}else t.onError(no(30,$.loc))}else if(w=nh(M,"for")){n=!0;const L=w.parseResult||bM(w.exp);L?m.push(Vo(t.helper(Q3),[L.source,_m(Mw(L),Ly(G,N),!0)])):t.onError(no(32,w.loc))}else{if(Q){if(W.has(Q)){t.onError(no(38,ie));continue}W.add(Q),Q==="default"&&(J=!0)}d.push(_o(G,N))}}if(!S){const H=(M,E)=>{const k=s(M,E,c);return t.compatConfig&&(k.isNonScopedSlot=!0),_o("default",k)};j?B.length&&B.some(M=>wM(M))&&(J?t.onError(no(39,B[0].loc)):d.push(H(void 0,B))):d.push(H(void 0,l))}const I=n?2:Xy(e.children)?3:1;let O=rh(d.concat(_o("_",Cs(I+"",!1))),c);return m.length&&(O=Vo(t.helper(rM),[O,Y1(m)])),{slots:O,hasDynamicSlots:n}}function Ly(e,t,s){const l=[_o("name",e),_o("fn",t)];return s!=null&&l.push(_o("key",Cs(String(s),!0))),rh(l)}function Xy(e){for(let t=0;t<e.length;t++){const s=e[t];switch(s.type){case 1:if(s.tagType===2||Xy(s.children))return!0;break;case 9:if(Xy(s.branches))return!0;break;case 10:case 11:if(Xy(s.children))return!0;break}}return!1}function wM(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():wM(e.content)}const SM=new WeakMap,ND=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:l,props:c}=e,d=e.tagType===1;let m=d?FD(e,t):`"${l}"`;const n=br(m)&&m.callee===pv;let S,j,J,B=0,W,K,I,O=n||m===_1||m===$3||!d&&(l==="svg"||l==="foreignObject");if(c.length>0){const H=TM(e,t,void 0,d,n);S=H.props,B=H.patchFlag,K=H.dynamicPropNames;const M=H.directives;I=M&&M.length?Y1(M.map(E=>UD(E,t))):void 0,H.shouldUseBlock&&(O=!0)}if(e.children.length>0)if(m===uv&&(O=!0,B|=1024),d&&m!==_1&&m!==uv){const{slots:M,hasDynamicSlots:E}=zD(e,t);j=M,E&&(B|=1024)}else if(e.children.length===1&&m!==_1){const M=e.children[0],E=M.type,k=E===5||E===8;k&&oh(M,t)===0&&(B|=1),k||E===2?j=M:j=e.children}else j=e.children;B!==0&&(J=String(B),K&&K.length&&(W=GD(K))),e.codegenNode=P1(t,m,S,j,J,W,I,!!O,!1,d,e.loc)};function FD(e,t,s=!1){let{tag:l}=e;const c=Aw(l),d=dx(e,"is");if(d)if(c||Pf("COMPILER_IS_ON_ELEMENT",t)){const S=d.type===6?d.value&&Cs(d.value.content,!0):d.exp;if(S)return Vo(t.helper(pv),[S])}else d.type===6&&d.value.content.startsWith("vue:")&&(l=d.value.content.slice(4));const m=!c&&nh(e,"is");if(m&&m.exp)return Vo(t.helper(pv),[m.exp]);const n=aM(l)||t.isBuiltInComponent(l);return n?(s||t.helper(n),n):(t.helper(X3),t.components.add(l),D1(l,"component"))}function TM(e,t,s=e.props,l,c,d=!1){const{tag:m,loc:n,children:S}=e;let j=[];const J=[],B=[],W=S.length>0;let K=!1,I=0,O=!1,H=!1,M=!1,E=!1,k=!1,V=!1;const G=[],C=N=>{j.length&&(J.push(rh(e5(j),n)),j=[]),N&&J.push(N)},ie=({key:N,value:F})=>{if(Jl(N)){const $=N.content,w=Nf($);if(w&&(!l||c)&&$.toLowerCase()!=="onclick"&&$!=="onUpdate:modelValue"&&!Ef($)&&(E=!0),w&&Ef($)&&(V=!0),F.type===20||(F.type===4||F.type===8)&&oh(F,t)>0)return;$==="ref"?O=!0:$==="class"?H=!0:$==="style"?M=!0:$!=="key"&&!G.includes($)&&G.push($),l&&($==="class"||$==="style")&&!G.includes($)&&G.push($)}else k=!0};for(let N=0;N<s.length;N++){const F=s[N];if(F.type===6){const{loc:$,name:w,value:L}=F;let f=!0;if(w==="ref"&&(O=!0,t.scopes.vFor>0&&j.push(_o(Cs("ref_for",!0),Cs("true")))),w==="is"&&(Aw(m)||L&&L.content.startsWith("vue:")||Pf("COMPILER_IS_ON_ELEMENT",t)))continue;j.push(_o(Cs(w,!0,cM($,0,w.length)),Cs(L?L.content:"",f,L?L.loc:$)))}else{const{name:$,arg:w,exp:L,loc:f}=F,y=$==="bind",b=$==="on";if($==="slot"){l||t.onError(no(40,f));continue}if($==="once"||$==="memo"||$==="is"||y&&Sf(w,"is")&&(Aw(m)||Pf("COMPILER_IS_ON_ELEMENT",t))||b&&d)continue;if((y&&Sf(w,"key")||b&&W&&Sf(w,"vue:before-update"))&&(K=!0),y&&Sf(w,"ref")&&t.scopes.vFor>0&&j.push(_o(Cs("ref_for",!0),Cs("true"))),!w&&(y||b)){if(k=!0,L)if(y){if(C(),Pf("COMPILER_V_BIND_OBJECT_ORDER",t)){J.unshift(L);continue}J.push(L)}else C({type:14,loc:f,callee:t.helper(iS),arguments:l?[L]:[L,"true"]});else t.onError(no(y?34:35,f));continue}const P=t.directiveTransforms[$];if(P){const{props:q,needRuntime:ee}=P(F,e,t);!d&&q.forEach(ie),b&&w&&!Jl(w)?C(rh(q,n)):j.push(...q),ee&&(B.push(F),lp(ee)&&SM.set(F,ee))}else Tk($)||(B.push(F),W&&(K=!0))}}let Q;if(J.length?(C(),J.length>1?Q=Vo(t.helper(fv),J,n):Q=J[0]):j.length&&(Q=rh(e5(j),n)),k?I|=16:(H&&!l&&(I|=2),M&&!l&&(I|=4),G.length&&(I|=8),E&&(I|=32)),!K&&(I===0||I===32)&&(O||V||B.length>0)&&(I|=512),!t.inSSR&&Q)switch(Q.type){case 15:let N=-1,F=-1,$=!1;for(let f=0;f<Q.properties.length;f++){const y=Q.properties[f].key;Jl(y)?y.content==="class"?N=f:y.content==="style"&&(F=f):y.isHandlerKey||($=!0)}const w=Q.properties[N],L=Q.properties[F];$?Q=Vo(t.helper(k1),[Q]):(w&&!Jl(w.value)&&(w.value=Vo(t.helper(eS),[w.value])),L&&(M||L.value.type===4&&L.value.content.trim()[0]==="["||L.value.type===17)&&(L.value=Vo(t.helper(tS),[L.value])));break;case 14:break;default:Q=Vo(t.helper(k1),[Vo(t.helper(q1),[Q])]);break}return{props:Q,directives:B,patchFlag:I,dynamicPropNames:G,shouldUseBlock:K}}function e5(e){const t=new Map,s=[];for(let l=0;l<e.length;l++){const c=e[l];if(c.key.type===8||!c.key.isStatic){s.push(c);continue}const d=c.key.content,m=t.get(d);m?(d==="style"||d==="class"||Nf(d))&&jD(m,c):(t.set(d,c),s.push(c))}return s}function jD(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Y1([e.value,t.value],e.loc)}function UD(e,t){const s=[],l=SM.get(e);l?s.push(t.helperString(l)):(t.helper(Z3),t.directives.add(e.name),s.push(D1(e.name,"directive")));const{loc:c}=e;if(e.exp&&s.push(e.exp),e.arg&&(e.exp||s.push("void 0"),s.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||s.push("void 0"),s.push("void 0"));const d=Cs("true",!1,c);s.push(rh(e.modifiers.map(m=>_o(m,d)),c))}return Y1(s,e.loc)}function GD(e){let t="[";for(let s=0,l=e.length;s<l;s++)t+=JSON.stringify(e[s]),s<l-1&&(t+=", ");return t+"]"}function Aw(e){return e==="component"||e==="Component"}const VD=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},HD=/-(\w)/g,t5=VD(e=>e.replace(HD,(t,s)=>s?s.toUpperCase():"")),$D=(e,t)=>{if(vv(e)){const{children:s,loc:l}=e,{slotName:c,slotProps:d}=WD(e,t),m=[t.prefixIdentifiers?"_ctx.$slots":"$slots",c,"{}","undefined","true"];let n=2;d&&(m[2]=d,n=3),s.length&&(m[3]=_m([],s,!1,!1,l),n=4),t.scopeId&&!t.slotted&&(n=5),m.splice(n),e.codegenNode=Vo(t.helper(sM),m,l)}};function WD(e,t){let s='"default"',l;const c=[];for(let d=0;d<e.props.length;d++){const m=e.props[d];m.type===6?m.value&&(m.name==="name"?s=JSON.stringify(m.value.content):(m.name=t5(m.name),c.push(m))):m.name==="bind"&&Sf(m.arg,"name")?m.exp&&(s=m.exp):(m.name==="bind"&&m.arg&&Jl(m.arg)&&(m.arg.content=t5(m.arg.content)),c.push(m))}if(c.length>0){const{props:d,directives:m}=TM(e,t,c,!1,!1);l=d,m.length&&t.onError(no(36,m[0].loc))}return{slotName:s,slotProps:l}}const qD=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,EM=(e,t,s,l)=>{const{loc:c,modifiers:d,arg:m}=e;!e.exp&&!d.length&&s.onError(no(35,c));let n;if(m.type===4)if(m.isStatic){let B=m.content;B.startsWith("vue:")&&(B=`vnode-${B.slice(4)}`);const W=t.tagType!==0||B.startsWith("vnode")||!/[A-Z]/.test(B)?Cf(ya(B)):`on:${B}`;n=Cs(W,!0,m.loc)}else n=Ih([`${s.helperString(Sw)}(`,m,")"]);else n=m,n.children.unshift(`${s.helperString(Sw)}(`),n.children.push(")");let S=e.exp;S&&!S.content.trim()&&(S=void 0);let j=s.cacheHandlers&&!S&&!s.inVOnce;if(S){const B=lM(S.content),W=!(B||qD.test(S.content)),K=S.content.includes(";");(W||j&&B)&&(S=Ih([`${W?"$event":"(...args)"} => ${K?"{":"("}`,S,K?"}":")"]))}let J={props:[_o(n,S||Cs("() => {}",!1,c))]};return l&&(J=l(J)),j&&(J.props[0].value=s.cache(J.props[0].value)),J.props.forEach(B=>B.key.isHandlerKey=!0),J},YD=(e,t,s)=>{const{exp:l,modifiers:c,loc:d}=e,m=e.arg;return m.type!==4?(m.children.unshift("("),m.children.push(') || ""')):m.isStatic||(m.content=`${m.content} || ""`),c.includes("camel")&&(m.type===4?m.isStatic?m.content=ya(m.content):m.content=`${s.helperString(ww)}(${m.content})`:(m.children.unshift(`${s.helperString(ww)}(`),m.children.push(")"))),s.inSSR||(c.includes("prop")&&i5(m,"."),c.includes("attr")&&i5(m,"^")),!l||l.type===4&&!l.content.trim()?(s.onError(no(34,d)),{props:[_o(m,Cs("",!0,d))]}):{props:[_o(m,l)]}},i5=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},XD=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const s=e.children;let l,c=!1;for(let d=0;d<s.length;d++){const m=s[d];if(Lb(m)){c=!0;for(let n=d+1;n<s.length;n++){const S=s[n];if(Lb(S))l||(l=s[d]=Ih([m],m.loc)),l.children.push(" + ",S),s.splice(n,1),n--;else{l=void 0;break}}}}if(!(!c||s.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(d=>d.type===7&&!t.directiveTransforms[d.name])&&e.tag!=="template")))for(let d=0;d<s.length;d++){const m=s[d];if(Lb(m)||m.type===8){const n=[];(m.type!==2||m.content!==" ")&&n.push(m),!t.ssr&&oh(m,t)===0&&n.push(1+""),s[d]={type:12,content:m,loc:m.loc,codegenNode:Vo(t.helper(Y3),n)}}}}},n5=new WeakSet,ZD=(e,t)=>{if(e.type===1&&nh(e,"once",!0))return n5.has(e)||t.inVOnce?void 0:(n5.add(e),t.inVOnce=!0,t.helper(mv),()=>{t.inVOnce=!1;const s=t.currentNode;s.codegenNode&&(s.codegenNode=t.cache(s.codegenNode,!0))})},CM=(e,t,s)=>{const{exp:l,arg:c}=e;if(!l)return s.onError(no(41,e.loc)),Oy();const d=l.loc.source,m=l.type===4?l.content:d,n=s.bindingMetadata[d];if(n==="props"||n==="props-aliased")return s.onError(no(44,l.loc)),Oy();const S=!1;if(!m.trim()||!lM(m)&&!S)return s.onError(no(42,l.loc)),Oy();const j=c||Cs("modelValue",!0),J=c?Jl(c)?`onUpdate:${c.content}`:Ih(['"onUpdate:" + ',c]):"onUpdate:modelValue";let B;const W=s.isTS?"($event: any)":"$event";B=Ih([`${W} => ((`,l,") = $event)"]);const K=[_o(j,e.exp),_o(J,B)];if(e.modifiers.length&&t.tagType===1){const I=e.modifiers.map(H=>(rS(H)?H:JSON.stringify(H))+": true").join(", "),O=c?Jl(c)?`${c.content}Modifiers`:Ih([c,' + "Modifiers"']):"modelModifiers";K.push(_o(O,Cs(`{ ${I} }`,!1,e.loc,2)))}return Oy(K)};function Oy(e=[]){return{props:e}}const KD=/[\w).+\-_$\]]/,JD=(e,t)=>{Pf("COMPILER_FILTER",t)&&(e.type===5&&bv(e.content,t),e.type===1&&e.props.forEach(s=>{s.type===7&&s.name!=="for"&&s.exp&&bv(s.exp,t)}))};function bv(e,t){if(e.type===4)s5(e,t);else for(let s=0;s<e.children.length;s++){const l=e.children[s];typeof l=="object"&&(l.type===4?s5(l,t):l.type===8?bv(e,t):l.type===5&&bv(l.content,t))}}function s5(e,t){const s=e.content;let l=!1,c=!1,d=!1,m=!1,n=0,S=0,j=0,J=0,B,W,K,I,O=[];for(K=0;K<s.length;K++)if(W=B,B=s.charCodeAt(K),l)B===39&&W!==92&&(l=!1);else if(c)B===34&&W!==92&&(c=!1);else if(d)B===96&&W!==92&&(d=!1);else if(m)B===47&&W!==92&&(m=!1);else if(B===124&&s.charCodeAt(K+1)!==124&&s.charCodeAt(K-1)!==124&&!n&&!S&&!j)I===void 0?(J=K+1,I=s.slice(0,K).trim()):H();else{switch(B){case 34:c=!0;break;case 39:l=!0;break;case 96:d=!0;break;case 40:j++;break;case 41:j--;break;case 91:S++;break;case 93:S--;break;case 123:n++;break;case 125:n--;break}if(B===47){let M=K-1,E;for(;M>=0&&(E=s.charAt(M),E===" ");M--);(!E||!KD.test(E))&&(m=!0)}}I===void 0?I=s.slice(0,K).trim():J!==0&&H();function H(){O.push(s.slice(J,K).trim()),J=K+1}if(O.length){for(K=0;K<O.length;K++)I=QD(I,O[K],t);e.content=I}}function QD(e,t,s){s.helper(K3);const l=t.indexOf("(");if(l<0)return s.filters.add(t),`${D1(t,"filter")}(${e})`;{const c=t.slice(0,l),d=t.slice(l+1);return s.filters.add(c),`${D1(c,"filter")}(${e}${d!==")"?","+d:d}`}}const r5=new WeakSet,eI=(e,t)=>{if(e.type===1){const s=nh(e,"memo");return!s||r5.has(e)?void 0:(r5.add(e),()=>{const l=e.codegenNode||t.currentNode.codegenNode;l&&l.type===13&&(e.tagType!==1&&oS(l,t),e.codegenNode=Vo(t.helper(sS),[s.exp,_m(void 0,l),"_cache",String(t.cached++)]))})}};function tI(e){return[[ZD,MD,eI,PD,JD,$D,ND,RD,XD],{on:EM,bind:YD,model:CM}]}function iI(e,t={}){const s=t.onError||H3,l=t.mode==="module";t.prefixIdentifiers===!0?s(no(47)):l&&s(no(48));const c=!1;t.cacheHandlers&&s(no(49)),t.scopeId&&!l&&s(no(50));const d=ys(e)?YP(e,t):e,[m,n]=tI();return lD(d,ar({},t,{prefixIdentifiers:c,nodeTransforms:[...m,...t.nodeTransforms||[]],directiveTransforms:ar({},n,t.directiveTransforms||{})})),uD(d,ar({},t,{prefixIdentifiers:c}))}const nI=()=>({props:[]}),MM=Symbol(""),AM=Symbol(""),kM=Symbol(""),PM=Symbol(""),kw=Symbol(""),DM=Symbol(""),IM=Symbol(""),LM=Symbol(""),OM=Symbol(""),RM=Symbol("");LP({[MM]:"vModelRadio",[AM]:"vModelCheckbox",[kM]:"vModelText",[PM]:"vModelSelect",[kw]:"vModelDynamic",[DM]:"withModifiers",[IM]:"withKeys",[LM]:"vShow",[OM]:"Transition",[RM]:"TransitionGroup"});let Z0;function sI(e,t=!1){return Z0||(Z0=document.createElement("div")),t?(Z0.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Z0.children[0].getAttribute("foo")):(Z0.innerHTML=e,Z0.textContent)}const rI=ec("style,iframe,script,noscript",!0),oI={isVoidTag:_k,isNativeTag:e=>mk(e)||gk(e),isPreTag:e=>e==="pre",decodeEntities:sI,isBuiltInComponent:e=>{if(Q0(e,"Transition"))return OM;if(Q0(e,"TransitionGroup"))return RM},getNamespace(e,t){let s=t?t.ns:0;if(t&&s===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(l=>l.type===6&&l.name==="encoding"&&l.value!=null&&(l.value.content==="text/html"||l.value.content==="application/xhtml+xml"))&&(s=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(s=0);else t&&s===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(s=0);if(s===0){if(e==="svg")return 1;if(e==="math")return 2}return s},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(rI(e))return 2}return 0}},aI=e=>{e.type===1&&e.props.forEach((t,s)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[s]={type:7,name:"bind",arg:Cs("style",!0,t.loc),exp:lI(t.value.content,t.loc),modifiers:[],loc:t.loc})})},lI=(e,t)=>{const s=iE(e);return Cs(JSON.stringify(s),!1,t,3)};function iu(e,t){return no(e,t)}const cI=(e,t,s)=>{const{exp:l,loc:c}=e;return l||s.onError(iu(51,c)),t.children.length&&(s.onError(iu(52,c)),t.children.length=0),{props:[_o(Cs("innerHTML",!0,c),l||Cs("",!0))]}},hI=(e,t,s)=>{const{exp:l,loc:c}=e;return l||s.onError(iu(53,c)),t.children.length&&(s.onError(iu(54,c)),t.children.length=0),{props:[_o(Cs("textContent",!0),l?oh(l,s)>0?l:Vo(s.helperString(hx),[l],c):Cs("",!0))]}},dI=(e,t,s)=>{const l=CM(e,t,s);if(!l.props.length||t.tagType===1)return l;e.arg&&s.onError(iu(56,e.arg.loc));const{tag:c}=t,d=s.isCustomElement(c);if(c==="input"||c==="textarea"||c==="select"||d){let m=kM,n=!1;if(c==="input"||d){const S=dx(t,"type");if(S){if(S.type===7)m=kw;else if(S.value)switch(S.value.content){case"radio":m=MM;break;case"checkbox":m=AM;break;case"file":n=!0,s.onError(iu(57,e.loc));break}}else GP(t)&&(m=kw)}else c==="select"&&(m=PM);n||(l.needRuntime=s.helper(m))}else s.onError(iu(55,e.loc));return l.props=l.props.filter(m=>!(m.key.type===4&&m.key.content==="modelValue")),l},uI=ec("passive,once,capture"),pI=ec("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),fI=ec("left,right"),BM=ec("onkeyup,onkeydown,onkeypress",!0),mI=(e,t,s,l)=>{const c=[],d=[],m=[];for(let n=0;n<t.length;n++){const S=t[n];S==="native"&&I1("COMPILER_V_ON_NATIVE",s)||uI(S)?m.push(S):fI(S)?Jl(e)?BM(e.content)?c.push(S):d.push(S):(c.push(S),d.push(S)):pI(S)?d.push(S):c.push(S)}return{keyModifiers:c,nonKeyModifiers:d,eventOptionModifiers:m}},o5=(e,t)=>Jl(e)&&e.content.toLowerCase()==="onclick"?Cs(t,!0):e.type!==4?Ih(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,gI=(e,t,s)=>EM(e,t,s,l=>{const{modifiers:c}=e;if(!c.length)return l;let{key:d,value:m}=l.props[0];const{keyModifiers:n,nonKeyModifiers:S,eventOptionModifiers:j}=mI(d,c,s,e.loc);if(S.includes("right")&&(d=o5(d,"onContextmenu")),S.includes("middle")&&(d=o5(d,"onMouseup")),S.length&&(m=Vo(s.helper(DM),[m,JSON.stringify(S)])),n.length&&(!Jl(d)||BM(d.content))&&(m=Vo(s.helper(IM),[m,JSON.stringify(n)])),j.length){const J=j.map(yp).join("");d=Jl(d)?Cs(`${d.content}${J}`,!0):Ih(["(",d,`) + "${J}"`])}return{props:[_o(d,m)]}}),_I=(e,t,s)=>{const{exp:l,loc:c}=e;return l||s.onError(iu(59,c)),{props:[],needRuntime:s.helper(LM)}},yI=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(t.onError(iu(61,e.loc)),t.removeNode())},vI=[aI],xI={cloak:nI,html:cI,text:hI,model:dI,on:gI,show:_I};function bI(e,t={}){return iI(e,ar({},oI,t,{nodeTransforms:[yI,...vI,...t.nodeTransforms||[]],directiveTransforms:ar({},xI,t.directiveTransforms||{}),transformHoist:null}))}const a5=Object.create(null);function zM(e,t){if(!ys(e))if(e.nodeType)e=e.innerHTML;else return Ml;const s=e,l=a5[s];if(l)return l;if(e[0]==="#"){const n=document.querySelector(e);e=n?n.innerHTML:""}const c=ar({hoistStatic:!0,onError:void 0,onWarn:Ml},t);!c.isCustomElement&&typeof customElements<"u"&&(c.isCustomElement=n=>!!customElements.get(n));const{code:d}=bI(e,c),m=new Function("Vue",d)(MP);return m._rc=!0,a5[s]=m}L3(zM);const wI=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:tx,Comment:Ia,EffectScope:jv,Fragment:Jn,KeepAlive:WE,ReactiveEffect:Sm,Static:sp,Suspense:FE,Teleport:aC,Text:up,Transition:$1,TransitionGroup:GC,VueElement:H1,callWithAsyncErrorHandling:Ql,callWithErrorHandling:md,camelize:ya,capitalize:yp,cloneVNode:Lh,compatUtils:IC,compile:zM,computed:Am,createApp:V3,createBlock:lh,createCommentVNode:Kn,createElementBlock:vi,createElementVNode:et,createHydrationRenderer:P3,createPropsRestProxy:CC,createRenderer:k3,createSSRApp:ZC,createSlots:ZE,createStaticVNode:zh,createTextVNode:ko,createVNode:en,customRef:kE,defineAsyncComponent:$E,defineComponent:ix,defineCustomElement:F3,defineEmits:xC,defineExpose:bC,defineProps:vC,defineSSRCustomElement:LC,get devtools(){return xf},effect:pE,effectScope:aE,getCurrentInstance:hu,getCurrentScope:cE,getTransitionRawChildren:G1,guardReactiveProps:M1,h:Zl,handleError:vp,hydrate:G3,initCustomFormatter:AC,initDirectivesForSSR:JC,inject:Af,isMemoSame:z3,isProxy:Wv,isReactive:np,isReadonly:hp,isRef:ia,isRuntimeOnly:gC,isShallow:pm,isVNode:ou,markRaw:qv,mergeDefaults:EC,mergeProps:ax,nextTick:Cm,normalizeClass:zr,normalizeProps:sv,normalizeStyle:_d,onActivated:y3,onBeforeMount:x3,onBeforeUnmount:Vf,onBeforeUpdate:sx,onDeactivated:v3,onErrorCaptured:T3,onMounted:yd,onRenderTracked:S3,onRenderTriggered:w3,onScopeDispose:hE,onServerPrefetch:b3,onUnmounted:Hf,onUpdated:Gf,openBlock:di,popScopeId:Uf,provide:Mm,proxyRefs:Xv,pushScopeId:jf,queuePostFlushCb:Kv,reactive:j1,readonly:Hv,ref:co,registerRuntimeCompiler:L3,render:dv,renderList:Nr,renderSlot:ih,resolveComponent:ds,resolveDirective:rx,resolveDynamicComponent:XE,resolveFilter:DC,resolveTransitionHooks:Lf,setBlockTracking:cv,setDevtoolsHook:f3,setTransitionHooks:dp,shallowReactive:c3,shallowReadonly:EE,shallowRef:CE,ssrContextKey:R3,ssrUtils:PC,stop:fE,toDisplayString:cn,toHandlerKey:Cf,toHandlers:JE,toRaw:Vs,toRef:u3,toRefs:PE,transformVNodeArgs:dC,triggerRef:AE,unref:Go,useAttrs:O3,useCssModule:OC,useCssVars:RC,useSSRContext:B3,useSlots:SC,useTransitionState:ex,vModelCheckbox:Rf,vModelDynamic:j3,vModelRadio:cx,vModelSelect:Ph,vModelText:Oh,vShow:U3,version:N3,warn:IE,watch:ah,watchEffect:UE,watchPostEffect:_3,watchSyncEffect:GE,withAsyncContext:MC,withCtx:io,withDefaults:wC,withDirectives:Po,withKeys:WC,withMemo:kC,withModifiers:$C,withScopeId:zE},Symbol.toStringTag,{value:"Module"}));//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var NM;function hn(){return NM.apply(null,arguments)}function SI(e){NM=e}function Rh(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Df(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function nr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cS(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(nr(e,t))return!1;return!0}function Yl(e){return e===void 0}function au(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Z1(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function FM(e,t){var s=[],l,c=e.length;for(l=0;l<c;++l)s.push(t(e[l],l));return s}function Ju(e,t){for(var s in t)nr(t,s)&&(e[s]=t[s]);return nr(t,"toString")&&(e.toString=t.toString),nr(t,"valueOf")&&(e.valueOf=t.valueOf),e}function vd(e,t,s,l){return c8(e,t,s,l,!0).utc()}function TI(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function _s(e){return e._pf==null&&(e._pf=TI()),e._pf}var Pw;Array.prototype.some?Pw=Array.prototype.some:Pw=function(e){var t=Object(this),s=t.length>>>0,l;for(l=0;l<s;l++)if(l in t&&e.call(this,t[l],l,t))return!0;return!1};function hS(e){if(e._isValid==null){var t=_s(e),s=Pw.call(t.parsedDateParts,function(c){return c!=null}),l=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s);if(e._strict&&(l=l&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=l;else return l}return e._isValid}function mx(e){var t=vd(NaN);return e!=null?Ju(_s(t),e):_s(t).userInvalidated=!0,t}var l5=hn.momentProperties=[],Rb=!1;function dS(e,t){var s,l,c,d=l5.length;if(Yl(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Yl(t._i)||(e._i=t._i),Yl(t._f)||(e._f=t._f),Yl(t._l)||(e._l=t._l),Yl(t._strict)||(e._strict=t._strict),Yl(t._tzm)||(e._tzm=t._tzm),Yl(t._isUTC)||(e._isUTC=t._isUTC),Yl(t._offset)||(e._offset=t._offset),Yl(t._pf)||(e._pf=_s(t)),Yl(t._locale)||(e._locale=t._locale),d>0)for(s=0;s<d;s++)l=l5[s],c=t[l],Yl(c)||(e[l]=c);return e}function K1(e){dS(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Rb===!1&&(Rb=!0,hn.updateOffset(this),Rb=!1)}function Bh(e){return e instanceof K1||e!=null&&e._isAMomentObject!=null}function jM(e){hn.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function hh(e,t){var s=!0;return Ju(function(){if(hn.deprecationHandler!=null&&hn.deprecationHandler(null,e),s){var l=[],c,d,m,n=arguments.length;for(d=0;d<n;d++){if(c="",typeof arguments[d]=="object"){c+=`
[`+d+"] ";for(m in arguments[0])nr(arguments[0],m)&&(c+=m+": "+arguments[0][m]+", ");c=c.slice(0,-2)}else c=arguments[d];l.push(c)}jM(e+`
Arguments: `+Array.prototype.slice.call(l).join("")+`
`+new Error().stack),s=!1}return t.apply(this,arguments)},t)}var c5={};function UM(e,t){hn.deprecationHandler!=null&&hn.deprecationHandler(e,t),c5[e]||(jM(t),c5[e]=!0)}hn.suppressDeprecationWarnings=!1;hn.deprecationHandler=null;function xd(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function EI(e){var t,s;for(s in e)nr(e,s)&&(t=e[s],xd(t)?this[s]=t:this["_"+s]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Dw(e,t){var s=Ju({},e),l;for(l in t)nr(t,l)&&(Df(e[l])&&Df(t[l])?(s[l]={},Ju(s[l],e[l]),Ju(s[l],t[l])):t[l]!=null?s[l]=t[l]:delete s[l]);for(l in e)nr(e,l)&&!nr(t,l)&&Df(e[l])&&(s[l]=Ju({},s[l]));return s}function uS(e){e!=null&&this.set(e)}var Iw;Object.keys?Iw=Object.keys:Iw=function(e){var t,s=[];for(t in e)nr(e,t)&&s.push(t);return s};var CI={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function MI(e,t,s){var l=this._calendar[e]||this._calendar.sameElse;return xd(l)?l.call(t,s):l}function gd(e,t,s){var l=""+Math.abs(e),c=t-l.length,d=e>=0;return(d?s?"+":"":"-")+Math.pow(10,Math.max(0,c)).toString().substr(1)+l}var pS=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ry=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Bb={},om={};function Nn(e,t,s,l){var c=l;typeof l=="string"&&(c=function(){return this[l]()}),e&&(om[e]=c),t&&(om[t[0]]=function(){return gd(c.apply(this,arguments),t[1],t[2])}),s&&(om[s]=function(){return this.localeData().ordinal(c.apply(this,arguments),e)})}function AI(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function kI(e){var t=e.match(pS),s,l;for(s=0,l=t.length;s<l;s++)om[t[s]]?t[s]=om[t[s]]:t[s]=AI(t[s]);return function(c){var d="",m;for(m=0;m<l;m++)d+=xd(t[m])?t[m].call(c,e):t[m];return d}}function Zy(e,t){return e.isValid()?(t=GM(t,e.localeData()),Bb[t]=Bb[t]||kI(t),Bb[t](e)):e.localeData().invalidDate()}function GM(e,t){var s=5;function l(c){return t.longDateFormat(c)||c}for(Ry.lastIndex=0;s>=0&&Ry.test(e);)e=e.replace(Ry,l),Ry.lastIndex=0,s-=1;return e}var PI={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function DI(e){var t=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return t||!s?t:(this._longDateFormat[e]=s.match(pS).map(function(l){return l==="MMMM"||l==="MM"||l==="DD"||l==="dddd"?l.slice(1):l}).join(""),this._longDateFormat[e])}var II="Invalid date";function LI(){return this._invalidDate}var OI="%d",RI=/\d{1,2}/;function BI(e){return this._ordinal.replace("%d",e)}var zI={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function NI(e,t,s,l){var c=this._relativeTime[s];return xd(c)?c(e,t,s,l):c.replace(/%d/i,e)}function FI(e,t){var s=this._relativeTime[e>0?"future":"past"];return xd(s)?s(t):s.replace(/%s/i,t)}var v1={};function tl(e,t){var s=e.toLowerCase();v1[s]=v1[s+"s"]=v1[t]=e}function dh(e){return typeof e=="string"?v1[e]||v1[e.toLowerCase()]:void 0}function fS(e){var t={},s,l;for(l in e)nr(e,l)&&(s=dh(l),s&&(t[s]=e[l]));return t}var VM={};function il(e,t){VM[e]=t}function jI(e){var t=[],s;for(s in e)nr(e,s)&&t.push({unit:s,priority:VM[s]});return t.sort(function(l,c){return l.priority-c.priority}),t}function gx(e){return e%4===0&&e%100!==0||e%400===0}function sh(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ps(e){var t=+e,s=0;return t!==0&&isFinite(t)&&(s=sh(t)),s}function km(e,t){return function(s){return s!=null?(HM(this,e,s),hn.updateOffset(this,t),this):wv(this,e)}}function wv(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function HM(e,t,s){e.isValid()&&!isNaN(s)&&(t==="FullYear"&&gx(e.year())&&e.month()===1&&e.date()===29?(s=Ps(s),e._d["set"+(e._isUTC?"UTC":"")+t](s,e.month(),wx(s,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](s))}function UI(e){return e=dh(e),xd(this[e])?this[e]():this}function GI(e,t){if(typeof e=="object"){e=fS(e);var s=jI(e),l,c=s.length;for(l=0;l<c;l++)this[s[l].unit](e[s[l].unit])}else if(e=dh(e),xd(this[e]))return this[e](t);return this}var $M=/\d/,Pc=/\d\d/,WM=/\d{3}/,mS=/\d{4}/,_x=/[+-]?\d{6}/,Zr=/\d\d?/,qM=/\d\d\d\d?/,YM=/\d\d\d\d\d\d?/,yx=/\d{1,3}/,gS=/\d{1,4}/,vx=/[+-]?\d{1,6}/,Pm=/\d+/,xx=/[+-]?\d+/,VI=/Z|[+-]\d\d:?\d\d/gi,bx=/Z|[+-]\d\d(?::?\d\d)?/gi,HI=/[+-]?\d+(\.\d{1,3})?/,J1=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Sv;Sv={};function _n(e,t,s){Sv[e]=xd(t)?t:function(l,c){return l&&s?s:t}}function $I(e,t){return nr(Sv,e)?Sv[e](t._strict,t._locale):new RegExp(WI(e))}function WI(e){return Ec(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,s,l,c,d){return s||l||c||d}))}function Ec(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Lw={};function Sr(e,t){var s,l=t,c;for(typeof e=="string"&&(e=[e]),au(t)&&(l=function(d,m){m[t]=Ps(d)}),c=e.length,s=0;s<c;s++)Lw[e[s]]=l}function Q1(e,t){Sr(e,function(s,l,c,d){c._w=c._w||{},t(s,c._w,c,d)})}function qI(e,t,s){t!=null&&nr(Lw,e)&&Lw[e](t,s._a,s,e)}var el=0,Qd=1,ud=2,na=3,Dh=4,eu=5,Tf=6,YI=7,XI=8;function ZI(e,t){return(e%t+t)%t}var Ao;Array.prototype.indexOf?Ao=Array.prototype.indexOf:Ao=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function wx(e,t){if(isNaN(e)||isNaN(t))return NaN;var s=ZI(t,12);return e+=(t-s)/12,s===1?gx(e)?29:28:31-s%7%2}Nn("M",["MM",2],"Mo",function(){return this.month()+1});Nn("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Nn("MMMM",0,0,function(e){return this.localeData().months(this,e)});tl("month","M");il("month",8);_n("M",Zr);_n("MM",Zr,Pc);_n("MMM",function(e,t){return t.monthsShortRegex(e)});_n("MMMM",function(e,t){return t.monthsRegex(e)});Sr(["M","MM"],function(e,t){t[Qd]=Ps(e)-1});Sr(["MMM","MMMM"],function(e,t,s,l){var c=s._locale.monthsParse(e,l,s._strict);c!=null?t[Qd]=c:_s(s).invalidMonth=e});var KI="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),XM="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ZM=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,JI=J1,QI=J1;function eL(e,t){return e?Rh(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ZM).test(t)?"format":"standalone"][e.month()]:Rh(this._months)?this._months:this._months.standalone}function tL(e,t){return e?Rh(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ZM.test(t)?"format":"standalone"][e.month()]:Rh(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function iL(e,t,s){var l,c,d,m=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],l=0;l<12;++l)d=vd([2e3,l]),this._shortMonthsParse[l]=this.monthsShort(d,"").toLocaleLowerCase(),this._longMonthsParse[l]=this.months(d,"").toLocaleLowerCase();return s?t==="MMM"?(c=Ao.call(this._shortMonthsParse,m),c!==-1?c:null):(c=Ao.call(this._longMonthsParse,m),c!==-1?c:null):t==="MMM"?(c=Ao.call(this._shortMonthsParse,m),c!==-1?c:(c=Ao.call(this._longMonthsParse,m),c!==-1?c:null)):(c=Ao.call(this._longMonthsParse,m),c!==-1?c:(c=Ao.call(this._shortMonthsParse,m),c!==-1?c:null))}function nL(e,t,s){var l,c,d;if(this._monthsParseExact)return iL.call(this,e,t,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),l=0;l<12;l++){if(c=vd([2e3,l]),s&&!this._longMonthsParse[l]&&(this._longMonthsParse[l]=new RegExp("^"+this.months(c,"").replace(".","")+"$","i"),this._shortMonthsParse[l]=new RegExp("^"+this.monthsShort(c,"").replace(".","")+"$","i")),!s&&!this._monthsParse[l]&&(d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[l]=new RegExp(d.replace(".",""),"i")),s&&t==="MMMM"&&this._longMonthsParse[l].test(e))return l;if(s&&t==="MMM"&&this._shortMonthsParse[l].test(e))return l;if(!s&&this._monthsParse[l].test(e))return l}}function KM(e,t){var s;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ps(t);else if(t=e.localeData().monthsParse(t),!au(t))return e}return s=Math.min(e.date(),wx(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,s),e}function JM(e){return e!=null?(KM(this,e),hn.updateOffset(this,!0),this):wv(this,"Month")}function sL(){return wx(this.year(),this.month())}function rL(e){return this._monthsParseExact?(nr(this,"_monthsRegex")||QM.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(nr(this,"_monthsShortRegex")||(this._monthsShortRegex=JI),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function oL(e){return this._monthsParseExact?(nr(this,"_monthsRegex")||QM.call(this),e?this._monthsStrictRegex:this._monthsRegex):(nr(this,"_monthsRegex")||(this._monthsRegex=QI),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function QM(){function e(m,n){return n.length-m.length}var t=[],s=[],l=[],c,d;for(c=0;c<12;c++)d=vd([2e3,c]),t.push(this.monthsShort(d,"")),s.push(this.months(d,"")),l.push(this.months(d,"")),l.push(this.monthsShort(d,""));for(t.sort(e),s.sort(e),l.sort(e),c=0;c<12;c++)t[c]=Ec(t[c]),s[c]=Ec(s[c]);for(c=0;c<24;c++)l[c]=Ec(l[c]);this._monthsRegex=new RegExp("^("+l.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}Nn("Y",0,0,function(){var e=this.year();return e<=9999?gd(e,4):"+"+e});Nn(0,["YY",2],0,function(){return this.year()%100});Nn(0,["YYYY",4],0,"year");Nn(0,["YYYYY",5],0,"year");Nn(0,["YYYYYY",6,!0],0,"year");tl("year","y");il("year",1);_n("Y",xx);_n("YY",Zr,Pc);_n("YYYY",gS,mS);_n("YYYYY",vx,_x);_n("YYYYYY",vx,_x);Sr(["YYYYY","YYYYYY"],el);Sr("YYYY",function(e,t){t[el]=e.length===2?hn.parseTwoDigitYear(e):Ps(e)});Sr("YY",function(e,t){t[el]=hn.parseTwoDigitYear(e)});Sr("Y",function(e,t){t[el]=parseInt(e,10)});function x1(e){return gx(e)?366:365}hn.parseTwoDigitYear=function(e){return Ps(e)+(Ps(e)>68?1900:2e3)};var e8=km("FullYear",!0);function aL(){return gx(this.year())}function lL(e,t,s,l,c,d,m){var n;return e<100&&e>=0?(n=new Date(e+400,t,s,l,c,d,m),isFinite(n.getFullYear())&&n.setFullYear(e)):n=new Date(e,t,s,l,c,d,m),n}function O1(e){var t,s;return e<100&&e>=0?(s=Array.prototype.slice.call(arguments),s[0]=e+400,t=new Date(Date.UTC.apply(null,s)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Tv(e,t,s){var l=7+t-s,c=(7+O1(e,0,l).getUTCDay()-t)%7;return-c+l-1}function t8(e,t,s,l,c){var d=(7+s-l)%7,m=Tv(e,l,c),n=1+7*(t-1)+d+m,S,j;return n<=0?(S=e-1,j=x1(S)+n):n>x1(e)?(S=e+1,j=n-x1(e)):(S=e,j=n),{year:S,dayOfYear:j}}function R1(e,t,s){var l=Tv(e.year(),t,s),c=Math.floor((e.dayOfYear()-l-1)/7)+1,d,m;return c<1?(m=e.year()-1,d=c+nu(m,t,s)):c>nu(e.year(),t,s)?(d=c-nu(e.year(),t,s),m=e.year()+1):(m=e.year(),d=c),{week:d,year:m}}function nu(e,t,s){var l=Tv(e,t,s),c=Tv(e+1,t,s);return(x1(e)-l+c)/7}Nn("w",["ww",2],"wo","week");Nn("W",["WW",2],"Wo","isoWeek");tl("week","w");tl("isoWeek","W");il("week",5);il("isoWeek",5);_n("w",Zr);_n("ww",Zr,Pc);_n("W",Zr);_n("WW",Zr,Pc);Q1(["w","ww","W","WW"],function(e,t,s,l){t[l.substr(0,1)]=Ps(e)});function cL(e){return R1(e,this._week.dow,this._week.doy).week}var hL={dow:0,doy:6};function dL(){return this._week.dow}function uL(){return this._week.doy}function pL(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function fL(e){var t=R1(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Nn("d",0,"do","day");Nn("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Nn("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Nn("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Nn("e",0,0,"weekday");Nn("E",0,0,"isoWeekday");tl("day","d");tl("weekday","e");tl("isoWeekday","E");il("day",11);il("weekday",11);il("isoWeekday",11);_n("d",Zr);_n("e",Zr);_n("E",Zr);_n("dd",function(e,t){return t.weekdaysMinRegex(e)});_n("ddd",function(e,t){return t.weekdaysShortRegex(e)});_n("dddd",function(e,t){return t.weekdaysRegex(e)});Q1(["dd","ddd","dddd"],function(e,t,s,l){var c=s._locale.weekdaysParse(e,l,s._strict);c!=null?t.d=c:_s(s).invalidWeekday=e});Q1(["d","e","E"],function(e,t,s,l){t[l]=Ps(e)});function mL(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function gL(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function _S(e,t){return e.slice(t,7).concat(e.slice(0,t))}var _L="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),i8="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),yL="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vL=J1,xL=J1,bL=J1;function wL(e,t){var s=Rh(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?_S(s,this._week.dow):e?s[e.day()]:s}function SL(e){return e===!0?_S(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function TL(e){return e===!0?_S(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function EL(e,t,s){var l,c,d,m=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],l=0;l<7;++l)d=vd([2e3,1]).day(l),this._minWeekdaysParse[l]=this.weekdaysMin(d,"").toLocaleLowerCase(),this._shortWeekdaysParse[l]=this.weekdaysShort(d,"").toLocaleLowerCase(),this._weekdaysParse[l]=this.weekdays(d,"").toLocaleLowerCase();return s?t==="dddd"?(c=Ao.call(this._weekdaysParse,m),c!==-1?c:null):t==="ddd"?(c=Ao.call(this._shortWeekdaysParse,m),c!==-1?c:null):(c=Ao.call(this._minWeekdaysParse,m),c!==-1?c:null):t==="dddd"?(c=Ao.call(this._weekdaysParse,m),c!==-1||(c=Ao.call(this._shortWeekdaysParse,m),c!==-1)?c:(c=Ao.call(this._minWeekdaysParse,m),c!==-1?c:null)):t==="ddd"?(c=Ao.call(this._shortWeekdaysParse,m),c!==-1||(c=Ao.call(this._weekdaysParse,m),c!==-1)?c:(c=Ao.call(this._minWeekdaysParse,m),c!==-1?c:null)):(c=Ao.call(this._minWeekdaysParse,m),c!==-1||(c=Ao.call(this._weekdaysParse,m),c!==-1)?c:(c=Ao.call(this._shortWeekdaysParse,m),c!==-1?c:null))}function CL(e,t,s){var l,c,d;if(this._weekdaysParseExact)return EL.call(this,e,t,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),l=0;l<7;l++){if(c=vd([2e3,1]).day(l),s&&!this._fullWeekdaysParse[l]&&(this._fullWeekdaysParse[l]=new RegExp("^"+this.weekdays(c,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[l]=new RegExp("^"+this.weekdaysShort(c,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[l]=new RegExp("^"+this.weekdaysMin(c,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[l]||(d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[l]=new RegExp(d.replace(".",""),"i")),s&&t==="dddd"&&this._fullWeekdaysParse[l].test(e))return l;if(s&&t==="ddd"&&this._shortWeekdaysParse[l].test(e))return l;if(s&&t==="dd"&&this._minWeekdaysParse[l].test(e))return l;if(!s&&this._weekdaysParse[l].test(e))return l}}function ML(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=mL(e,this.localeData()),this.add(e-t,"d")):t}function AL(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function kL(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=gL(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function PL(e){return this._weekdaysParseExact?(nr(this,"_weekdaysRegex")||yS.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(nr(this,"_weekdaysRegex")||(this._weekdaysRegex=vL),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function DL(e){return this._weekdaysParseExact?(nr(this,"_weekdaysRegex")||yS.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(nr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=xL),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function IL(e){return this._weekdaysParseExact?(nr(this,"_weekdaysRegex")||yS.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(nr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=bL),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function yS(){function e(J,B){return B.length-J.length}var t=[],s=[],l=[],c=[],d,m,n,S,j;for(d=0;d<7;d++)m=vd([2e3,1]).day(d),n=Ec(this.weekdaysMin(m,"")),S=Ec(this.weekdaysShort(m,"")),j=Ec(this.weekdays(m,"")),t.push(n),s.push(S),l.push(j),c.push(n),c.push(S),c.push(j);t.sort(e),s.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function vS(){return this.hours()%12||12}function LL(){return this.hours()||24}Nn("H",["HH",2],0,"hour");Nn("h",["hh",2],0,vS);Nn("k",["kk",2],0,LL);Nn("hmm",0,0,function(){return""+vS.apply(this)+gd(this.minutes(),2)});Nn("hmmss",0,0,function(){return""+vS.apply(this)+gd(this.minutes(),2)+gd(this.seconds(),2)});Nn("Hmm",0,0,function(){return""+this.hours()+gd(this.minutes(),2)});Nn("Hmmss",0,0,function(){return""+this.hours()+gd(this.minutes(),2)+gd(this.seconds(),2)});function n8(e,t){Nn(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}n8("a",!0);n8("A",!1);tl("hour","h");il("hour",13);function s8(e,t){return t._meridiemParse}_n("a",s8);_n("A",s8);_n("H",Zr);_n("h",Zr);_n("k",Zr);_n("HH",Zr,Pc);_n("hh",Zr,Pc);_n("kk",Zr,Pc);_n("hmm",qM);_n("hmmss",YM);_n("Hmm",qM);_n("Hmmss",YM);Sr(["H","HH"],na);Sr(["k","kk"],function(e,t,s){var l=Ps(e);t[na]=l===24?0:l});Sr(["a","A"],function(e,t,s){s._isPm=s._locale.isPM(e),s._meridiem=e});Sr(["h","hh"],function(e,t,s){t[na]=Ps(e),_s(s).bigHour=!0});Sr("hmm",function(e,t,s){var l=e.length-2;t[na]=Ps(e.substr(0,l)),t[Dh]=Ps(e.substr(l)),_s(s).bigHour=!0});Sr("hmmss",function(e,t,s){var l=e.length-4,c=e.length-2;t[na]=Ps(e.substr(0,l)),t[Dh]=Ps(e.substr(l,2)),t[eu]=Ps(e.substr(c)),_s(s).bigHour=!0});Sr("Hmm",function(e,t,s){var l=e.length-2;t[na]=Ps(e.substr(0,l)),t[Dh]=Ps(e.substr(l))});Sr("Hmmss",function(e,t,s){var l=e.length-4,c=e.length-2;t[na]=Ps(e.substr(0,l)),t[Dh]=Ps(e.substr(l,2)),t[eu]=Ps(e.substr(c))});function OL(e){return(e+"").toLowerCase().charAt(0)==="p"}var RL=/[ap]\.?m?\.?/i,BL=km("Hours",!0);function zL(e,t,s){return e>11?s?"pm":"PM":s?"am":"AM"}var r8={calendar:CI,longDateFormat:PI,invalidDate:II,ordinal:OI,dayOfMonthOrdinalParse:RI,relativeTime:zI,months:KI,monthsShort:XM,week:hL,weekdays:_L,weekdaysMin:yL,weekdaysShort:i8,meridiemParse:RL},to={},c1={},B1;function NL(e,t){var s,l=Math.min(e.length,t.length);for(s=0;s<l;s+=1)if(e[s]!==t[s])return s;return l}function h5(e){return e&&e.toLowerCase().replace("_","-")}function FL(e){for(var t=0,s,l,c,d;t<e.length;){for(d=h5(e[t]).split("-"),s=d.length,l=h5(e[t+1]),l=l?l.split("-"):null;s>0;){if(c=Sx(d.slice(0,s).join("-")),c)return c;if(l&&l.length>=s&&NL(d,l)>=s-1)break;s--}t++}return B1}function jL(e){return e.match("^[^/\\\\]*$")!=null}function Sx(e){var t=null,s;if(to[e]===void 0&&typeof tv<"u"&&tv&&tv.exports&&jL(e))try{t=B1._abbr,s=require,s("./locale/"+e),op(t)}catch{to[e]=null}return to[e]}function op(e,t){var s;return e&&(Yl(t)?s=du(e):s=xS(e,t),s?B1=s:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),B1._abbr}function xS(e,t){if(t!==null){var s,l=r8;if(t.abbr=e,to[e]!=null)UM("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),l=to[e]._config;else if(t.parentLocale!=null)if(to[t.parentLocale]!=null)l=to[t.parentLocale]._config;else if(s=Sx(t.parentLocale),s!=null)l=s._config;else return c1[t.parentLocale]||(c1[t.parentLocale]=[]),c1[t.parentLocale].push({name:e,config:t}),null;return to[e]=new uS(Dw(l,t)),c1[e]&&c1[e].forEach(function(c){xS(c.name,c.config)}),op(e),to[e]}else return delete to[e],null}function UL(e,t){if(t!=null){var s,l,c=r8;to[e]!=null&&to[e].parentLocale!=null?to[e].set(Dw(to[e]._config,t)):(l=Sx(e),l!=null&&(c=l._config),t=Dw(c,t),l==null&&(t.abbr=e),s=new uS(t),s.parentLocale=to[e],to[e]=s),op(e)}else to[e]!=null&&(to[e].parentLocale!=null?(to[e]=to[e].parentLocale,e===op()&&op(e)):to[e]!=null&&delete to[e]);return to[e]}function du(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return B1;if(!Rh(e)){if(t=Sx(e),t)return t;e=[e]}return FL(e)}function GL(){return Iw(to)}function bS(e){var t,s=e._a;return s&&_s(e).overflow===-2&&(t=s[Qd]<0||s[Qd]>11?Qd:s[ud]<1||s[ud]>wx(s[el],s[Qd])?ud:s[na]<0||s[na]>24||s[na]===24&&(s[Dh]!==0||s[eu]!==0||s[Tf]!==0)?na:s[Dh]<0||s[Dh]>59?Dh:s[eu]<0||s[eu]>59?eu:s[Tf]<0||s[Tf]>999?Tf:-1,_s(e)._overflowDayOfYear&&(t<el||t>ud)&&(t=ud),_s(e)._overflowWeeks&&t===-1&&(t=YI),_s(e)._overflowWeekday&&t===-1&&(t=XI),_s(e).overflow=t),e}var VL=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,HL=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$L=/Z|[+-]\d\d(?::?\d\d)?/,By=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],zb=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],WL=/^\/?Date\((-?\d+)/i,qL=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,YL={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function o8(e){var t,s,l=e._i,c=VL.exec(l)||HL.exec(l),d,m,n,S,j=By.length,J=zb.length;if(c){for(_s(e).iso=!0,t=0,s=j;t<s;t++)if(By[t][1].exec(c[1])){m=By[t][0],d=By[t][2]!==!1;break}if(m==null){e._isValid=!1;return}if(c[3]){for(t=0,s=J;t<s;t++)if(zb[t][1].exec(c[3])){n=(c[2]||" ")+zb[t][0];break}if(n==null){e._isValid=!1;return}}if(!d&&n!=null){e._isValid=!1;return}if(c[4])if($L.exec(c[4]))S="Z";else{e._isValid=!1;return}e._f=m+(n||"")+(S||""),SS(e)}else e._isValid=!1}function XL(e,t,s,l,c,d){var m=[ZL(e),XM.indexOf(t),parseInt(s,10),parseInt(l,10),parseInt(c,10)];return d&&m.push(parseInt(d,10)),m}function ZL(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function KL(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function JL(e,t,s){if(e){var l=i8.indexOf(e),c=new Date(t[0],t[1],t[2]).getDay();if(l!==c)return _s(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function QL(e,t,s){if(e)return YL[e];if(t)return 0;var l=parseInt(s,10),c=l%100,d=(l-c)/100;return d*60+c}function a8(e){var t=qL.exec(KL(e._i)),s;if(t){if(s=XL(t[4],t[3],t[2],t[5],t[6],t[7]),!JL(t[1],s,e))return;e._a=s,e._tzm=QL(t[8],t[9],t[10]),e._d=O1.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),_s(e).rfc2822=!0}else e._isValid=!1}function e9(e){var t=WL.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(o8(e),e._isValid===!1)delete e._isValid;else return;if(a8(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:hn.createFromInputFallback(e)}hn.createFromInputFallback=hh("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function J0(e,t,s){return e??t??s}function t9(e){var t=new Date(hn.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function wS(e){var t,s,l=[],c,d,m;if(!e._d){for(c=t9(e),e._w&&e._a[ud]==null&&e._a[Qd]==null&&i9(e),e._dayOfYear!=null&&(m=J0(e._a[el],c[el]),(e._dayOfYear>x1(m)||e._dayOfYear===0)&&(_s(e)._overflowDayOfYear=!0),s=O1(m,0,e._dayOfYear),e._a[Qd]=s.getUTCMonth(),e._a[ud]=s.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=l[t]=c[t];for(;t<7;t++)e._a[t]=l[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[na]===24&&e._a[Dh]===0&&e._a[eu]===0&&e._a[Tf]===0&&(e._nextDay=!0,e._a[na]=0),e._d=(e._useUTC?O1:lL).apply(null,l),d=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[na]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==d&&(_s(e).weekdayMismatch=!0)}}function i9(e){var t,s,l,c,d,m,n,S,j;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(d=1,m=4,s=J0(t.GG,e._a[el],R1(Xr(),1,4).year),l=J0(t.W,1),c=J0(t.E,1),(c<1||c>7)&&(S=!0)):(d=e._locale._week.dow,m=e._locale._week.doy,j=R1(Xr(),d,m),s=J0(t.gg,e._a[el],j.year),l=J0(t.w,j.week),t.d!=null?(c=t.d,(c<0||c>6)&&(S=!0)):t.e!=null?(c=t.e+d,(t.e<0||t.e>6)&&(S=!0)):c=d),l<1||l>nu(s,d,m)?_s(e)._overflowWeeks=!0:S!=null?_s(e)._overflowWeekday=!0:(n=t8(s,l,c,d,m),e._a[el]=n.year,e._dayOfYear=n.dayOfYear)}hn.ISO_8601=function(){};hn.RFC_2822=function(){};function SS(e){if(e._f===hn.ISO_8601){o8(e);return}if(e._f===hn.RFC_2822){a8(e);return}e._a=[],_s(e).empty=!0;var t=""+e._i,s,l,c,d,m,n=t.length,S=0,j,J;for(c=GM(e._f,e._locale).match(pS)||[],J=c.length,s=0;s<J;s++)d=c[s],l=(t.match($I(d,e))||[])[0],l&&(m=t.substr(0,t.indexOf(l)),m.length>0&&_s(e).unusedInput.push(m),t=t.slice(t.indexOf(l)+l.length),S+=l.length),om[d]?(l?_s(e).empty=!1:_s(e).unusedTokens.push(d),qI(d,l,e)):e._strict&&!l&&_s(e).unusedTokens.push(d);_s(e).charsLeftOver=n-S,t.length>0&&_s(e).unusedInput.push(t),e._a[na]<=12&&_s(e).bigHour===!0&&e._a[na]>0&&(_s(e).bigHour=void 0),_s(e).parsedDateParts=e._a.slice(0),_s(e).meridiem=e._meridiem,e._a[na]=n9(e._locale,e._a[na],e._meridiem),j=_s(e).era,j!==null&&(e._a[el]=e._locale.erasConvertYear(j,e._a[el])),wS(e),bS(e)}function n9(e,t,s){var l;return s==null?t:e.meridiemHour!=null?e.meridiemHour(t,s):(e.isPM!=null&&(l=e.isPM(s),l&&t<12&&(t+=12),!l&&t===12&&(t=0)),t)}function s9(e){var t,s,l,c,d,m,n=!1,S=e._f.length;if(S===0){_s(e).invalidFormat=!0,e._d=new Date(NaN);return}for(c=0;c<S;c++)d=0,m=!1,t=dS({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[c],SS(t),hS(t)&&(m=!0),d+=_s(t).charsLeftOver,d+=_s(t).unusedTokens.length*10,_s(t).score=d,n?d<l&&(l=d,s=t):(l==null||d<l||m)&&(l=d,s=t,m&&(n=!0));Ju(e,s||t)}function r9(e){if(!e._d){var t=fS(e._i),s=t.day===void 0?t.date:t.day;e._a=FM([t.year,t.month,s,t.hour,t.minute,t.second,t.millisecond],function(l){return l&&parseInt(l,10)}),wS(e)}}function o9(e){var t=new K1(bS(l8(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function l8(e){var t=e._i,s=e._f;return e._locale=e._locale||du(e._l),t===null||s===void 0&&t===""?mx({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Bh(t)?new K1(bS(t)):(Z1(t)?e._d=t:Rh(s)?s9(e):s?SS(e):a9(e),hS(e)||(e._d=null),e))}function a9(e){var t=e._i;Yl(t)?e._d=new Date(hn.now()):Z1(t)?e._d=new Date(t.valueOf()):typeof t=="string"?e9(e):Rh(t)?(e._a=FM(t.slice(0),function(s){return parseInt(s,10)}),wS(e)):Df(t)?r9(e):au(t)?e._d=new Date(t):hn.createFromInputFallback(e)}function c8(e,t,s,l,c){var d={};return(t===!0||t===!1)&&(l=t,t=void 0),(s===!0||s===!1)&&(l=s,s=void 0),(Df(e)&&cS(e)||Rh(e)&&e.length===0)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=c,d._l=s,d._i=e,d._f=t,d._strict=l,o9(d)}function Xr(e,t,s,l){return c8(e,t,s,l,!1)}var l9=hh("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Xr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:mx()}),c9=hh("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Xr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:mx()});function h8(e,t){var s,l;if(t.length===1&&Rh(t[0])&&(t=t[0]),!t.length)return Xr();for(s=t[0],l=1;l<t.length;++l)(!t[l].isValid()||t[l][e](s))&&(s=t[l]);return s}function h9(){var e=[].slice.call(arguments,0);return h8("isBefore",e)}function d9(){var e=[].slice.call(arguments,0);return h8("isAfter",e)}var u9=function(){return Date.now?Date.now():+new Date},h1=["year","quarter","month","week","day","hour","minute","second","millisecond"];function p9(e){var t,s=!1,l,c=h1.length;for(t in e)if(nr(e,t)&&!(Ao.call(h1,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(l=0;l<c;++l)if(e[h1[l]]){if(s)return!1;parseFloat(e[h1[l]])!==Ps(e[h1[l]])&&(s=!0)}return!0}function f9(){return this._isValid}function m9(){return Nh(NaN)}function Tx(e){var t=fS(e),s=t.year||0,l=t.quarter||0,c=t.month||0,d=t.week||t.isoWeek||0,m=t.day||0,n=t.hour||0,S=t.minute||0,j=t.second||0,J=t.millisecond||0;this._isValid=p9(t),this._milliseconds=+J+j*1e3+S*6e4+n*1e3*60*60,this._days=+m+d*7,this._months=+c+l*3+s*12,this._data={},this._locale=du(),this._bubble()}function Ky(e){return e instanceof Tx}function Ow(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function g9(e,t,s){var l=Math.min(e.length,t.length),c=Math.abs(e.length-t.length),d=0,m;for(m=0;m<l;m++)(s&&e[m]!==t[m]||!s&&Ps(e[m])!==Ps(t[m]))&&d++;return d+c}function d8(e,t){Nn(e,0,0,function(){var s=this.utcOffset(),l="+";return s<0&&(s=-s,l="-"),l+gd(~~(s/60),2)+t+gd(~~s%60,2)})}d8("Z",":");d8("ZZ","");_n("Z",bx);_n("ZZ",bx);Sr(["Z","ZZ"],function(e,t,s){s._useUTC=!0,s._tzm=TS(bx,e)});var _9=/([\+\-]|\d\d)/gi;function TS(e,t){var s=(t||"").match(e),l,c,d;return s===null?null:(l=s[s.length-1]||[],c=(l+"").match(_9)||["-",0,0],d=+(c[1]*60)+Ps(c[2]),d===0?0:c[0]==="+"?d:-d)}function ES(e,t){var s,l;return t._isUTC?(s=t.clone(),l=(Bh(e)||Z1(e)?e.valueOf():Xr(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+l),hn.updateOffset(s,!1),s):Xr(e).local()}function Rw(e){return-Math.round(e._d.getTimezoneOffset())}hn.updateOffset=function(){};function y9(e,t,s){var l=this._offset||0,c;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=TS(bx,e),e===null)return this}else Math.abs(e)<16&&!s&&(e=e*60);return!this._isUTC&&t&&(c=Rw(this)),this._offset=e,this._isUTC=!0,c!=null&&this.add(c,"m"),l!==e&&(!t||this._changeInProgress?f8(this,Nh(e-l,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hn.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?l:Rw(this)}function v9(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function x9(e){return this.utcOffset(0,e)}function b9(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Rw(this),"m")),this}function w9(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=TS(VI,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function S9(e){return this.isValid()?(e=e?Xr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function T9(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function E9(){if(!Yl(this._isDSTShifted))return this._isDSTShifted;var e={},t;return dS(e,this),e=l8(e),e._a?(t=e._isUTC?vd(e._a):Xr(e._a),this._isDSTShifted=this.isValid()&&g9(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function C9(){return this.isValid()?!this._isUTC:!1}function M9(){return this.isValid()?this._isUTC:!1}function u8(){return this.isValid()?this._isUTC&&this._offset===0:!1}var A9=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,k9=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Nh(e,t){var s=e,l=null,c,d,m;return Ky(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:au(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(l=A9.exec(e))?(c=l[1]==="-"?-1:1,s={y:0,d:Ps(l[ud])*c,h:Ps(l[na])*c,m:Ps(l[Dh])*c,s:Ps(l[eu])*c,ms:Ps(Ow(l[Tf]*1e3))*c}):(l=k9.exec(e))?(c=l[1]==="-"?-1:1,s={y:mf(l[2],c),M:mf(l[3],c),w:mf(l[4],c),d:mf(l[5],c),h:mf(l[6],c),m:mf(l[7],c),s:mf(l[8],c)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(m=P9(Xr(s.from),Xr(s.to)),s={},s.ms=m.milliseconds,s.M=m.months),d=new Tx(s),Ky(e)&&nr(e,"_locale")&&(d._locale=e._locale),Ky(e)&&nr(e,"_isValid")&&(d._isValid=e._isValid),d}Nh.fn=Tx.prototype;Nh.invalid=m9;function mf(e,t){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*t}function d5(e,t){var s={};return s.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(s.months,"M").isAfter(t)&&--s.months,s.milliseconds=+t-+e.clone().add(s.months,"M"),s}function P9(e,t){var s;return e.isValid()&&t.isValid()?(t=ES(t,e),e.isBefore(t)?s=d5(e,t):(s=d5(t,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function p8(e,t){return function(s,l){var c,d;return l!==null&&!isNaN(+l)&&(UM(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=s,s=l,l=d),c=Nh(s,l),f8(this,c,e),this}}function f8(e,t,s,l){var c=t._milliseconds,d=Ow(t._days),m=Ow(t._months);e.isValid()&&(l=l??!0,m&&KM(e,wv(e,"Month")+m*s),d&&HM(e,"Date",wv(e,"Date")+d*s),c&&e._d.setTime(e._d.valueOf()+c*s),l&&hn.updateOffset(e,d||m))}var D9=p8(1,"add"),I9=p8(-1,"subtract");function m8(e){return typeof e=="string"||e instanceof String}function L9(e){return Bh(e)||Z1(e)||m8(e)||au(e)||R9(e)||O9(e)||e===null||e===void 0}function O9(e){var t=Df(e)&&!cS(e),s=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c,d,m=l.length;for(c=0;c<m;c+=1)d=l[c],s=s||nr(e,d);return t&&s}function R9(e){var t=Rh(e),s=!1;return t&&(s=e.filter(function(l){return!au(l)&&m8(e)}).length===0),t&&s}function B9(e){var t=Df(e)&&!cS(e),s=!1,l=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],c,d;for(c=0;c<l.length;c+=1)d=l[c],s=s||nr(e,d);return t&&s}function z9(e,t){var s=e.diff(t,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function N9(e,t){arguments.length===1&&(arguments[0]?L9(arguments[0])?(e=arguments[0],t=void 0):B9(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var s=e||Xr(),l=ES(s,this).startOf("day"),c=hn.calendarFormat(this,l)||"sameElse",d=t&&(xd(t[c])?t[c].call(this,s):t[c]);return this.format(d||this.localeData().calendar(c,this,Xr(s)))}function F9(){return new K1(this)}function j9(e,t){var s=Bh(e)?e:Xr(e);return this.isValid()&&s.isValid()?(t=dh(t)||"millisecond",t==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(t).valueOf()):!1}function U9(e,t){var s=Bh(e)?e:Xr(e);return this.isValid()&&s.isValid()?(t=dh(t)||"millisecond",t==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(t).valueOf()<s.valueOf()):!1}function G9(e,t,s,l){var c=Bh(e)?e:Xr(e),d=Bh(t)?t:Xr(t);return this.isValid()&&c.isValid()&&d.isValid()?(l=l||"()",(l[0]==="("?this.isAfter(c,s):!this.isBefore(c,s))&&(l[1]===")"?this.isBefore(d,s):!this.isAfter(d,s))):!1}function V9(e,t){var s=Bh(e)?e:Xr(e),l;return this.isValid()&&s.isValid()?(t=dh(t)||"millisecond",t==="millisecond"?this.valueOf()===s.valueOf():(l=s.valueOf(),this.clone().startOf(t).valueOf()<=l&&l<=this.clone().endOf(t).valueOf())):!1}function H9(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function $9(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function W9(e,t,s){var l,c,d;if(!this.isValid())return NaN;if(l=ES(e,this),!l.isValid())return NaN;switch(c=(l.utcOffset()-this.utcOffset())*6e4,t=dh(t),t){case"year":d=Jy(this,l)/12;break;case"month":d=Jy(this,l);break;case"quarter":d=Jy(this,l)/3;break;case"second":d=(this-l)/1e3;break;case"minute":d=(this-l)/6e4;break;case"hour":d=(this-l)/36e5;break;case"day":d=(this-l-c)/864e5;break;case"week":d=(this-l-c)/6048e5;break;default:d=this-l}return s?d:sh(d)}function Jy(e,t){if(e.date()<t.date())return-Jy(t,e);var s=(t.year()-e.year())*12+(t.month()-e.month()),l=e.clone().add(s,"months"),c,d;return t-l<0?(c=e.clone().add(s-1,"months"),d=(t-l)/(l-c)):(c=e.clone().add(s+1,"months"),d=(t-l)/(c-l)),-(s+d)||0}hn.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hn.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function q9(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Y9(e){if(!this.isValid())return null;var t=e!==!0,s=t?this.clone().utc():this;return s.year()<0||s.year()>9999?Zy(s,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):xd(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Zy(s,"Z")):Zy(s,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function X9(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",s,l,c,d;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),s="["+e+'("]',l=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",c="-MM-DD[T]HH:mm:ss.SSS",d=t+'[")]',this.format(s+l+c+d)}function Z9(e){e||(e=this.isUtc()?hn.defaultFormatUtc:hn.defaultFormat);var t=Zy(this,e);return this.localeData().postformat(t)}function K9(e,t){return this.isValid()&&(Bh(e)&&e.isValid()||Xr(e).isValid())?Nh({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function J9(e){return this.from(Xr(),e)}function Q9(e,t){return this.isValid()&&(Bh(e)&&e.isValid()||Xr(e).isValid())?Nh({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function eO(e){return this.to(Xr(),e)}function g8(e){var t;return e===void 0?this._locale._abbr:(t=du(e),t!=null&&(this._locale=t),this)}var _8=hh("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function y8(){return this._locale}var Ev=1e3,am=60*Ev,Cv=60*am,v8=(365*400+97)*24*Cv;function lm(e,t){return(e%t+t)%t}function x8(e,t,s){return e<100&&e>=0?new Date(e+400,t,s)-v8:new Date(e,t,s).valueOf()}function b8(e,t,s){return e<100&&e>=0?Date.UTC(e+400,t,s)-v8:Date.UTC(e,t,s)}function tO(e){var t,s;if(e=dh(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?b8:x8,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=lm(t+(this._isUTC?0:this.utcOffset()*am),Cv);break;case"minute":t=this._d.valueOf(),t-=lm(t,am);break;case"second":t=this._d.valueOf(),t-=lm(t,Ev);break}return this._d.setTime(t),hn.updateOffset(this,!0),this}function iO(e){var t,s;if(e=dh(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?b8:x8,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Cv-lm(t+(this._isUTC?0:this.utcOffset()*am),Cv)-1;break;case"minute":t=this._d.valueOf(),t+=am-lm(t,am)-1;break;case"second":t=this._d.valueOf(),t+=Ev-lm(t,Ev)-1;break}return this._d.setTime(t),hn.updateOffset(this,!0),this}function nO(){return this._d.valueOf()-(this._offset||0)*6e4}function sO(){return Math.floor(this.valueOf()/1e3)}function rO(){return new Date(this.valueOf())}function oO(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function aO(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function lO(){return this.isValid()?this.toISOString():null}function cO(){return hS(this)}function hO(){return Ju({},_s(this))}function dO(){return _s(this).overflow}function uO(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Nn("N",0,0,"eraAbbr");Nn("NN",0,0,"eraAbbr");Nn("NNN",0,0,"eraAbbr");Nn("NNNN",0,0,"eraName");Nn("NNNNN",0,0,"eraNarrow");Nn("y",["y",1],"yo","eraYear");Nn("y",["yy",2],0,"eraYear");Nn("y",["yyy",3],0,"eraYear");Nn("y",["yyyy",4],0,"eraYear");_n("N",CS);_n("NN",CS);_n("NNN",CS);_n("NNNN",SO);_n("NNNNN",TO);Sr(["N","NN","NNN","NNNN","NNNNN"],function(e,t,s,l){var c=s._locale.erasParse(e,l,s._strict);c?_s(s).era=c:_s(s).invalidEra=e});_n("y",Pm);_n("yy",Pm);_n("yyy",Pm);_n("yyyy",Pm);_n("yo",EO);Sr(["y","yy","yyy","yyyy"],el);Sr(["yo"],function(e,t,s,l){var c;s._locale._eraYearOrdinalRegex&&(c=e.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?t[el]=s._locale.eraYearOrdinalParse(e,c):t[el]=parseInt(e,10)});function pO(e,t){var s,l,c,d=this._eras||du("en")._eras;for(s=0,l=d.length;s<l;++s){switch(typeof d[s].since){case"string":c=hn(d[s].since).startOf("day"),d[s].since=c.valueOf();break}switch(typeof d[s].until){case"undefined":d[s].until=1/0;break;case"string":c=hn(d[s].until).startOf("day").valueOf(),d[s].until=c.valueOf();break}}return d}function fO(e,t,s){var l,c,d=this.eras(),m,n,S;for(e=e.toUpperCase(),l=0,c=d.length;l<c;++l)if(m=d[l].name.toUpperCase(),n=d[l].abbr.toUpperCase(),S=d[l].narrow.toUpperCase(),s)switch(t){case"N":case"NN":case"NNN":if(n===e)return d[l];break;case"NNNN":if(m===e)return d[l];break;case"NNNNN":if(S===e)return d[l];break}else if([m,n,S].indexOf(e)>=0)return d[l]}function mO(e,t){var s=e.since<=e.until?1:-1;return t===void 0?hn(e.since).year():hn(e.since).year()+(t-e.offset)*s}function gO(){var e,t,s,l=this.localeData().eras();for(e=0,t=l.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),l[e].since<=s&&s<=l[e].until||l[e].until<=s&&s<=l[e].since)return l[e].name;return""}function _O(){var e,t,s,l=this.localeData().eras();for(e=0,t=l.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),l[e].since<=s&&s<=l[e].until||l[e].until<=s&&s<=l[e].since)return l[e].narrow;return""}function yO(){var e,t,s,l=this.localeData().eras();for(e=0,t=l.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),l[e].since<=s&&s<=l[e].until||l[e].until<=s&&s<=l[e].since)return l[e].abbr;return""}function vO(){var e,t,s,l,c=this.localeData().eras();for(e=0,t=c.length;e<t;++e)if(s=c[e].since<=c[e].until?1:-1,l=this.clone().startOf("day").valueOf(),c[e].since<=l&&l<=c[e].until||c[e].until<=l&&l<=c[e].since)return(this.year()-hn(c[e].since).year())*s+c[e].offset;return this.year()}function xO(e){return nr(this,"_erasNameRegex")||MS.call(this),e?this._erasNameRegex:this._erasRegex}function bO(e){return nr(this,"_erasAbbrRegex")||MS.call(this),e?this._erasAbbrRegex:this._erasRegex}function wO(e){return nr(this,"_erasNarrowRegex")||MS.call(this),e?this._erasNarrowRegex:this._erasRegex}function CS(e,t){return t.erasAbbrRegex(e)}function SO(e,t){return t.erasNameRegex(e)}function TO(e,t){return t.erasNarrowRegex(e)}function EO(e,t){return t._eraYearOrdinalRegex||Pm}function MS(){var e=[],t=[],s=[],l=[],c,d,m=this.eras();for(c=0,d=m.length;c<d;++c)t.push(Ec(m[c].name)),e.push(Ec(m[c].abbr)),s.push(Ec(m[c].narrow)),l.push(Ec(m[c].name)),l.push(Ec(m[c].abbr)),l.push(Ec(m[c].narrow));this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}Nn(0,["gg",2],0,function(){return this.weekYear()%100});Nn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ex(e,t){Nn(0,[e,e.length],0,t)}Ex("gggg","weekYear");Ex("ggggg","weekYear");Ex("GGGG","isoWeekYear");Ex("GGGGG","isoWeekYear");tl("weekYear","gg");tl("isoWeekYear","GG");il("weekYear",1);il("isoWeekYear",1);_n("G",xx);_n("g",xx);_n("GG",Zr,Pc);_n("gg",Zr,Pc);_n("GGGG",gS,mS);_n("gggg",gS,mS);_n("GGGGG",vx,_x);_n("ggggg",vx,_x);Q1(["gggg","ggggg","GGGG","GGGGG"],function(e,t,s,l){t[l.substr(0,2)]=Ps(e)});Q1(["gg","GG"],function(e,t,s,l){t[l]=hn.parseTwoDigitYear(e)});function CO(e){return w8.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function MO(e){return w8.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function AO(){return nu(this.year(),1,4)}function kO(){return nu(this.isoWeekYear(),1,4)}function PO(){var e=this.localeData()._week;return nu(this.year(),e.dow,e.doy)}function DO(){var e=this.localeData()._week;return nu(this.weekYear(),e.dow,e.doy)}function w8(e,t,s,l,c){var d;return e==null?R1(this,l,c).year:(d=nu(e,l,c),t>d&&(t=d),IO.call(this,e,t,s,l,c))}function IO(e,t,s,l,c){var d=t8(e,t,s,l,c),m=O1(d.year,0,d.dayOfYear);return this.year(m.getUTCFullYear()),this.month(m.getUTCMonth()),this.date(m.getUTCDate()),this}Nn("Q",0,"Qo","quarter");tl("quarter","Q");il("quarter",7);_n("Q",$M);Sr("Q",function(e,t){t[Qd]=(Ps(e)-1)*3});function LO(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Nn("D",["DD",2],"Do","date");tl("date","D");il("date",9);_n("D",Zr);_n("DD",Zr,Pc);_n("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Sr(["D","DD"],ud);Sr("Do",function(e,t){t[ud]=Ps(e.match(Zr)[0])});var S8=km("Date",!0);Nn("DDD",["DDDD",3],"DDDo","dayOfYear");tl("dayOfYear","DDD");il("dayOfYear",4);_n("DDD",yx);_n("DDDD",WM);Sr(["DDD","DDDD"],function(e,t,s){s._dayOfYear=Ps(e)});function OO(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Nn("m",["mm",2],0,"minute");tl("minute","m");il("minute",14);_n("m",Zr);_n("mm",Zr,Pc);Sr(["m","mm"],Dh);var RO=km("Minutes",!1);Nn("s",["ss",2],0,"second");tl("second","s");il("second",15);_n("s",Zr);_n("ss",Zr,Pc);Sr(["s","ss"],eu);var BO=km("Seconds",!1);Nn("S",0,0,function(){return~~(this.millisecond()/100)});Nn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Nn(0,["SSS",3],0,"millisecond");Nn(0,["SSSS",4],0,function(){return this.millisecond()*10});Nn(0,["SSSSS",5],0,function(){return this.millisecond()*100});Nn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Nn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Nn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Nn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});tl("millisecond","ms");il("millisecond",16);_n("S",yx,$M);_n("SS",yx,Pc);_n("SSS",yx,WM);var Qu,T8;for(Qu="SSSS";Qu.length<=9;Qu+="S")_n(Qu,Pm);function zO(e,t){t[Tf]=Ps(("0."+e)*1e3)}for(Qu="S";Qu.length<=9;Qu+="S")Sr(Qu,zO);T8=km("Milliseconds",!1);Nn("z",0,0,"zoneAbbr");Nn("zz",0,0,"zoneName");function NO(){return this._isUTC?"UTC":""}function FO(){return this._isUTC?"Coordinated Universal Time":""}var qi=K1.prototype;qi.add=D9;qi.calendar=N9;qi.clone=F9;qi.diff=W9;qi.endOf=iO;qi.format=Z9;qi.from=K9;qi.fromNow=J9;qi.to=Q9;qi.toNow=eO;qi.get=UI;qi.invalidAt=dO;qi.isAfter=j9;qi.isBefore=U9;qi.isBetween=G9;qi.isSame=V9;qi.isSameOrAfter=H9;qi.isSameOrBefore=$9;qi.isValid=cO;qi.lang=_8;qi.locale=g8;qi.localeData=y8;qi.max=c9;qi.min=l9;qi.parsingFlags=hO;qi.set=GI;qi.startOf=tO;qi.subtract=I9;qi.toArray=oO;qi.toObject=aO;qi.toDate=rO;qi.toISOString=Y9;qi.inspect=X9;typeof Symbol<"u"&&Symbol.for!=null&&(qi[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});qi.toJSON=lO;qi.toString=q9;qi.unix=sO;qi.valueOf=nO;qi.creationData=uO;qi.eraName=gO;qi.eraNarrow=_O;qi.eraAbbr=yO;qi.eraYear=vO;qi.year=e8;qi.isLeapYear=aL;qi.weekYear=CO;qi.isoWeekYear=MO;qi.quarter=qi.quarters=LO;qi.month=JM;qi.daysInMonth=sL;qi.week=qi.weeks=pL;qi.isoWeek=qi.isoWeeks=fL;qi.weeksInYear=PO;qi.weeksInWeekYear=DO;qi.isoWeeksInYear=AO;qi.isoWeeksInISOWeekYear=kO;qi.date=S8;qi.day=qi.days=ML;qi.weekday=AL;qi.isoWeekday=kL;qi.dayOfYear=OO;qi.hour=qi.hours=BL;qi.minute=qi.minutes=RO;qi.second=qi.seconds=BO;qi.millisecond=qi.milliseconds=T8;qi.utcOffset=y9;qi.utc=x9;qi.local=b9;qi.parseZone=w9;qi.hasAlignedHourOffset=S9;qi.isDST=T9;qi.isLocal=C9;qi.isUtcOffset=M9;qi.isUtc=u8;qi.isUTC=u8;qi.zoneAbbr=NO;qi.zoneName=FO;qi.dates=hh("dates accessor is deprecated. Use date instead.",S8);qi.months=hh("months accessor is deprecated. Use month instead",JM);qi.years=hh("years accessor is deprecated. Use year instead",e8);qi.zone=hh("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",v9);qi.isDSTShifted=hh("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",E9);function jO(e){return Xr(e*1e3)}function UO(){return Xr.apply(null,arguments).parseZone()}function E8(e){return e}var sr=uS.prototype;sr.calendar=MI;sr.longDateFormat=DI;sr.invalidDate=LI;sr.ordinal=BI;sr.preparse=E8;sr.postformat=E8;sr.relativeTime=NI;sr.pastFuture=FI;sr.set=EI;sr.eras=pO;sr.erasParse=fO;sr.erasConvertYear=mO;sr.erasAbbrRegex=bO;sr.erasNameRegex=xO;sr.erasNarrowRegex=wO;sr.months=eL;sr.monthsShort=tL;sr.monthsParse=nL;sr.monthsRegex=oL;sr.monthsShortRegex=rL;sr.week=cL;sr.firstDayOfYear=uL;sr.firstDayOfWeek=dL;sr.weekdays=wL;sr.weekdaysMin=TL;sr.weekdaysShort=SL;sr.weekdaysParse=CL;sr.weekdaysRegex=PL;sr.weekdaysShortRegex=DL;sr.weekdaysMinRegex=IL;sr.isPM=OL;sr.meridiem=zL;function Mv(e,t,s,l){var c=du(),d=vd().set(l,t);return c[s](d,e)}function C8(e,t,s){if(au(e)&&(t=e,e=void 0),e=e||"",t!=null)return Mv(e,t,s,"month");var l,c=[];for(l=0;l<12;l++)c[l]=Mv(e,l,s,"month");return c}function AS(e,t,s,l){typeof e=="boolean"?(au(t)&&(s=t,t=void 0),t=t||""):(t=e,s=t,e=!1,au(t)&&(s=t,t=void 0),t=t||"");var c=du(),d=e?c._week.dow:0,m,n=[];if(s!=null)return Mv(t,(s+d)%7,l,"day");for(m=0;m<7;m++)n[m]=Mv(t,(m+d)%7,l,"day");return n}function GO(e,t){return C8(e,t,"months")}function VO(e,t){return C8(e,t,"monthsShort")}function HO(e,t,s){return AS(e,t,s,"weekdays")}function $O(e,t,s){return AS(e,t,s,"weekdaysShort")}function WO(e,t,s){return AS(e,t,s,"weekdaysMin")}op("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,s=Ps(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+s}});hn.lang=hh("moment.lang is deprecated. Use moment.locale instead.",op);hn.langData=hh("moment.langData is deprecated. Use moment.localeData instead.",du);var qd=Math.abs;function qO(){var e=this._data;return this._milliseconds=qd(this._milliseconds),this._days=qd(this._days),this._months=qd(this._months),e.milliseconds=qd(e.milliseconds),e.seconds=qd(e.seconds),e.minutes=qd(e.minutes),e.hours=qd(e.hours),e.months=qd(e.months),e.years=qd(e.years),this}function M8(e,t,s,l){var c=Nh(t,s);return e._milliseconds+=l*c._milliseconds,e._days+=l*c._days,e._months+=l*c._months,e._bubble()}function YO(e,t){return M8(this,e,t,1)}function XO(e,t){return M8(this,e,t,-1)}function u5(e){return e<0?Math.floor(e):Math.ceil(e)}function ZO(){var e=this._milliseconds,t=this._days,s=this._months,l=this._data,c,d,m,n,S;return e>=0&&t>=0&&s>=0||e<=0&&t<=0&&s<=0||(e+=u5(Bw(s)+t)*864e5,t=0,s=0),l.milliseconds=e%1e3,c=sh(e/1e3),l.seconds=c%60,d=sh(c/60),l.minutes=d%60,m=sh(d/60),l.hours=m%24,t+=sh(m/24),S=sh(A8(t)),s+=S,t-=u5(Bw(S)),n=sh(s/12),s%=12,l.days=t,l.months=s,l.years=n,this}function A8(e){return e*4800/146097}function Bw(e){return e*146097/4800}function KO(e){if(!this.isValid())return NaN;var t,s,l=this._milliseconds;if(e=dh(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+l/864e5,s=this._months+A8(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(Bw(this._months)),e){case"week":return t/7+l/6048e5;case"day":return t+l/864e5;case"hour":return t*24+l/36e5;case"minute":return t*1440+l/6e4;case"second":return t*86400+l/1e3;case"millisecond":return Math.floor(t*864e5)+l;default:throw new Error("Unknown unit "+e)}}function JO(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ps(this._months/12)*31536e6:NaN}function uu(e){return function(){return this.as(e)}}var QO=uu("ms"),e7=uu("s"),t7=uu("m"),i7=uu("h"),n7=uu("d"),s7=uu("w"),r7=uu("M"),o7=uu("Q"),a7=uu("y");function l7(){return Nh(this)}function c7(e){return e=dh(e),this.isValid()?this[e+"s"]():NaN}function $f(e){return function(){return this.isValid()?this._data[e]:NaN}}var h7=$f("milliseconds"),d7=$f("seconds"),u7=$f("minutes"),p7=$f("hours"),f7=$f("days"),m7=$f("months"),g7=$f("years");function _7(){return sh(this.days()/7)}var Kd=Math.round,em={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function y7(e,t,s,l,c){return c.relativeTime(t||1,!!s,e,l)}function v7(e,t,s,l){var c=Nh(e).abs(),d=Kd(c.as("s")),m=Kd(c.as("m")),n=Kd(c.as("h")),S=Kd(c.as("d")),j=Kd(c.as("M")),J=Kd(c.as("w")),B=Kd(c.as("y")),W=d<=s.ss&&["s",d]||d<s.s&&["ss",d]||m<=1&&["m"]||m<s.m&&["mm",m]||n<=1&&["h"]||n<s.h&&["hh",n]||S<=1&&["d"]||S<s.d&&["dd",S];return s.w!=null&&(W=W||J<=1&&["w"]||J<s.w&&["ww",J]),W=W||j<=1&&["M"]||j<s.M&&["MM",j]||B<=1&&["y"]||["yy",B],W[2]=t,W[3]=+e>0,W[4]=l,y7.apply(null,W)}function x7(e){return e===void 0?Kd:typeof e=="function"?(Kd=e,!0):!1}function b7(e,t){return em[e]===void 0?!1:t===void 0?em[e]:(em[e]=t,e==="s"&&(em.ss=t-1),!0)}function w7(e,t){if(!this.isValid())return this.localeData().invalidDate();var s=!1,l=em,c,d;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(s=e),typeof t=="object"&&(l=Object.assign({},em,t),t.s!=null&&t.ss==null&&(l.ss=t.s-1)),c=this.localeData(),d=v7(this,!s,l,c),s&&(d=c.pastFuture(+this,d)),c.postformat(d)}var Nb=Math.abs;function K0(e){return(e>0)-(e<0)||+e}function Cx(){if(!this.isValid())return this.localeData().invalidDate();var e=Nb(this._milliseconds)/1e3,t=Nb(this._days),s=Nb(this._months),l,c,d,m,n=this.asSeconds(),S,j,J,B;return n?(l=sh(e/60),c=sh(l/60),e%=60,l%=60,d=sh(s/12),s%=12,m=e?e.toFixed(3).replace(/\.?0+$/,""):"",S=n<0?"-":"",j=K0(this._months)!==K0(n)?"-":"",J=K0(this._days)!==K0(n)?"-":"",B=K0(this._milliseconds)!==K0(n)?"-":"",S+"P"+(d?j+d+"Y":"")+(s?j+s+"M":"")+(t?J+t+"D":"")+(c||l||e?"T":"")+(c?B+c+"H":"")+(l?B+l+"M":"")+(e?B+m+"S":"")):"P0D"}var Hs=Tx.prototype;Hs.isValid=f9;Hs.abs=qO;Hs.add=YO;Hs.subtract=XO;Hs.as=KO;Hs.asMilliseconds=QO;Hs.asSeconds=e7;Hs.asMinutes=t7;Hs.asHours=i7;Hs.asDays=n7;Hs.asWeeks=s7;Hs.asMonths=r7;Hs.asQuarters=o7;Hs.asYears=a7;Hs.valueOf=JO;Hs._bubble=ZO;Hs.clone=l7;Hs.get=c7;Hs.milliseconds=h7;Hs.seconds=d7;Hs.minutes=u7;Hs.hours=p7;Hs.days=f7;Hs.weeks=_7;Hs.months=m7;Hs.years=g7;Hs.humanize=w7;Hs.toISOString=Cx;Hs.toString=Cx;Hs.toJSON=Cx;Hs.locale=g8;Hs.localeData=y8;Hs.toIsoString=hh("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Cx);Hs.lang=_8;Nn("X",0,0,"unix");Nn("x",0,0,"valueOf");_n("x",xx);_n("X",HI);Sr("X",function(e,t,s){s._d=new Date(parseFloat(e)*1e3)});Sr("x",function(e,t,s){s._d=new Date(Ps(e))});//! moment.js
hn.version="2.29.4";SI(Xr);hn.fn=qi;hn.min=h9;hn.max=d9;hn.now=u9;hn.utc=vd;hn.unix=jO;hn.months=GO;hn.isDate=Z1;hn.locale=op;hn.invalid=mx;hn.duration=Nh;hn.isMoment=Bh;hn.weekdays=HO;hn.parseZone=UO;hn.localeData=du;hn.isDuration=Ky;hn.monthsShort=VO;hn.weekdaysMin=WO;hn.defineLocale=xS;hn.updateLocale=UL;hn.locales=GL;hn.weekdaysShort=$O;hn.normalizeUnits=dh;hn.relativeTimeRounding=x7;hn.relativeTimeThreshold=b7;hn.calendarFormat=z9;hn.prototype=qi;hn.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k8={exports:{}};/*!
* sweetalert2 v11.4.0
* Released under the MIT License.
*/(function(e,t){(function(s,l){e.exports=l()})(Yu,function(){const s="SweetAlert2:",l=_e=>{const we=[];for(let je=0;je<_e.length;je++)we.indexOf(_e[je])===-1&&we.push(_e[je]);return we},c=_e=>_e.charAt(0).toUpperCase()+_e.slice(1),d=_e=>Array.prototype.slice.call(_e),m=_e=>{console.warn("".concat(s," ").concat(typeof _e=="object"?_e.join(" "):_e))},n=_e=>{console.error("".concat(s," ").concat(_e))},S=[],j=_e=>{S.includes(_e)||(S.push(_e),m(_e))},J=(_e,we)=>{j('"'.concat(_e,'" is deprecated and will be removed in the next major release. Please use "').concat(we,'" instead.'))},B=_e=>typeof _e=="function"?_e():_e,W=_e=>_e&&typeof _e.toPromise=="function",K=_e=>W(_e)?_e.toPromise():Promise.resolve(_e),I=_e=>_e&&Promise.resolve(_e)===_e,O={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},H=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],M={},E=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],k=_e=>Object.prototype.hasOwnProperty.call(O,_e),V=_e=>H.indexOf(_e)!==-1,G=_e=>M[_e],C=_e=>{k(_e)||m('Unknown parameter "'.concat(_e,'"'))},ie=_e=>{E.includes(_e)&&m('The parameter "'.concat(_e,'" is incompatible with toasts'))},Q=_e=>{G(_e)&&J(_e,G(_e))},N=_e=>{!_e.backdrop&&_e.allowOutsideClick&&m('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const we in _e)C(we),_e.toast&&ie(we),Q(we)},F="swal2-",$=_e=>{const we={};for(const je in _e)we[_e[je]]=F+_e[je];return we},w=$(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),L=$(["success","warning","info","question","error"]),f=()=>document.body.querySelector(".".concat(w.container)),y=_e=>{const we=f();return we?we.querySelector(_e):null},b=_e=>y(".".concat(_e)),P=()=>b(w.popup),q=()=>b(w.icon),ee=()=>b(w.title),X=()=>b(w["html-container"]),ce=()=>b(w.image),fe=()=>b(w["progress-steps"]),Te=()=>b(w["validation-message"]),Z=()=>y(".".concat(w.actions," .").concat(w.confirm)),re=()=>y(".".concat(w.actions," .").concat(w.deny)),ue=()=>b(w["input-label"]),ye=()=>y(".".concat(w.loader)),Ie=()=>y(".".concat(w.actions," .").concat(w.cancel)),ae=()=>b(w.actions),be=()=>b(w.footer),xe=()=>b(w["timer-progress-bar"]),le=()=>b(w.close),me=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Se=()=>{const _e=d(P().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((je,yt)=>{const yi=parseInt(je.getAttribute("tabindex")),dn=parseInt(yt.getAttribute("tabindex"));return yi>dn?1:yi<dn?-1:0}),we=d(P().querySelectorAll(me)).filter(je=>je.getAttribute("tabindex")!=="-1");return l(_e.concat(we)).filter(je=>Xi(je))},Oe=()=>!pt(document.body,w["toast-shown"])&&!pt(document.body,w["no-backdrop"]),Le=()=>P()&&pt(P(),w.toast),Ue=()=>P().hasAttribute("data-loading"),lt={previousBodyPadding:null},it=(_e,we)=>{if(_e.textContent="",we){const yt=new DOMParser().parseFromString(we,"text/html");d(yt.querySelector("head").childNodes).forEach(yi=>{_e.appendChild(yi)}),d(yt.querySelector("body").childNodes).forEach(yi=>{_e.appendChild(yi)})}},pt=(_e,we)=>{if(!we)return!1;const je=we.split(/\s+/);for(let yt=0;yt<je.length;yt++)if(!_e.classList.contains(je[yt]))return!1;return!0},De=(_e,we)=>{d(_e.classList).forEach(je=>{!Object.values(w).includes(je)&&!Object.values(L).includes(je)&&!Object.values(we.showClass).includes(je)&&_e.classList.remove(je)})},ze=(_e,we,je)=>{if(De(_e,we),we.customClass&&we.customClass[je]){if(typeof we.customClass[je]!="string"&&!we.customClass[je].forEach)return m("Invalid type of customClass.".concat(je,'! Expected string or iterable object, got "').concat(typeof we.customClass[je],'"'));gt(_e,we.customClass[je])}},Ge=(_e,we)=>{if(!we)return null;switch(we){case"select":case"textarea":case"file":return _e.querySelector(".".concat(w.popup," > .").concat(w[we]));case"checkbox":return _e.querySelector(".".concat(w.popup," > .").concat(w.checkbox," input"));case"radio":return _e.querySelector(".".concat(w.popup," > .").concat(w.radio," input:checked"))||_e.querySelector(".".concat(w.popup," > .").concat(w.radio," input:first-child"));case"range":return _e.querySelector(".".concat(w.popup," > .").concat(w.range," input"));default:return _e.querySelector(".".concat(w.popup," > .").concat(w.input))}},Ye=_e=>{if(_e.focus(),_e.type!=="file"){const we=_e.value;_e.value="",_e.value=we}},at=(_e,we,je)=>{!_e||!we||(typeof we=="string"&&(we=we.split(/\s+/).filter(Boolean)),we.forEach(yt=>{Array.isArray(_e)?_e.forEach(yi=>{je?yi.classList.add(yt):yi.classList.remove(yt)}):je?_e.classList.add(yt):_e.classList.remove(yt)}))},gt=(_e,we)=>{at(_e,we,!0)},Ut=(_e,we)=>{at(_e,we,!1)},Gt=(_e,we)=>{const je=d(_e.childNodes);for(let yt=0;yt<je.length;yt++)if(pt(je[yt],we))return je[yt]},wi=(_e,we,je)=>{je==="".concat(parseInt(je))&&(je=parseInt(je)),je||parseInt(je)===0?_e.style[we]=typeof je=="number"?"".concat(je,"px"):je:_e.style.removeProperty(we)},Qt=function(_e){let we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";_e.style.display=we},Ti=_e=>{_e.style.display="none"},Ki=(_e,we,je,yt)=>{const yi=_e.querySelector(we);yi&&(yi.style[je]=yt)},Ni=(_e,we,je)=>{we?Qt(_e,je):Ti(_e)},Xi=_e=>!!(_e&&(_e.offsetWidth||_e.offsetHeight||_e.getClientRects().length)),Gi=()=>!Xi(Z())&&!Xi(re())&&!Xi(Ie()),xn=_e=>_e.scrollHeight>_e.clientHeight,kn=_e=>{const we=window.getComputedStyle(_e),je=parseFloat(we.getPropertyValue("animation-duration")||"0"),yt=parseFloat(we.getPropertyValue("transition-duration")||"0");return je>0||yt>0},qn=function(_e){let we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const je=xe();Xi(je)&&(we&&(je.style.transition="none",je.style.width="100%"),setTimeout(()=>{je.style.transition="width ".concat(_e/1e3,"s linear"),je.style.width="0%"},10))},Tr=()=>{const _e=xe(),we=parseInt(window.getComputedStyle(_e).width);_e.style.removeProperty("transition"),_e.style.width="100%";const je=parseInt(window.getComputedStyle(_e).width),yt=we/je*100;_e.style.removeProperty("transition"),_e.style.width="".concat(yt,"%")},fs=()=>typeof window>"u"||typeof document>"u",Bs=100,Ji={},va=()=>{Ji.previousActiveElement&&Ji.previousActiveElement.focus?(Ji.previousActiveElement.focus(),Ji.previousActiveElement=null):document.body&&document.body.focus()},kl=_e=>new Promise(we=>{if(!_e)return we();const je=window.scrollX,yt=window.scrollY;Ji.restoreFocusTimeout=setTimeout(()=>{va(),we()},Bs),window.scrollTo(je,yt)}),sl=`
 <div aria-labelledby="`.concat(w.title,'" aria-describedby="').concat(w["html-container"],'" class="').concat(w.popup,`" tabindex="-1">
   <button type="button" class="`).concat(w.close,`"></button>
   <ul class="`).concat(w["progress-steps"],`"></ul>
   <div class="`).concat(w.icon,`"></div>
   <img class="`).concat(w.image,`" />
   <h2 class="`).concat(w.title,'" id="').concat(w.title,`"></h2>
   <div class="`).concat(w["html-container"],'" id="').concat(w["html-container"],`"></div>
   <input class="`).concat(w.input,`" />
   <input type="file" class="`).concat(w.file,`" />
   <div class="`).concat(w.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(w.select,`"></select>
   <div class="`).concat(w.radio,`"></div>
   <label for="`).concat(w.checkbox,'" class="').concat(w.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(w.label,`"></span>
   </label>
   <textarea class="`).concat(w.textarea,`"></textarea>
   <div class="`).concat(w["validation-message"],'" id="').concat(w["validation-message"],`"></div>
   <div class="`).concat(w.actions,`">
     <div class="`).concat(w.loader,`"></div>
     <button type="button" class="`).concat(w.confirm,`"></button>
     <button type="button" class="`).concat(w.deny,`"></button>
     <button type="button" class="`).concat(w.cancel,`"></button>
   </div>
   <div class="`).concat(w.footer,`"></div>
   <div class="`).concat(w["timer-progress-bar-container"],`">
     <div class="`).concat(w["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),La=()=>{const _e=f();return _e?(_e.remove(),Ut([document.documentElement,document.body],[w["no-backdrop"],w["toast-shown"],w["has-column"]]),!0):!1},ur=()=>{Ji.currentInstance.resetValidationMessage()},Oa=()=>{const _e=P(),we=Gt(_e,w.input),je=Gt(_e,w.file),yt=_e.querySelector(".".concat(w.range," input")),yi=_e.querySelector(".".concat(w.range," output")),dn=Gt(_e,w.select),ns=_e.querySelector(".".concat(w.checkbox," input")),Pr=Gt(_e,w.textarea);we.oninput=ur,je.onchange=ur,dn.onchange=ur,ns.onchange=ur,Pr.oninput=ur,yt.oninput=()=>{ur(),yi.value=yt.value},yt.onchange=()=>{ur(),yt.nextSibling.value=yt.value}},ic=_e=>typeof _e=="string"?document.querySelector(_e):_e,dt=_e=>{const we=P();we.setAttribute("role",_e.toast?"alert":"dialog"),we.setAttribute("aria-live",_e.toast?"polite":"assertive"),_e.toast||we.setAttribute("aria-modal","true")},Be=_e=>{window.getComputedStyle(_e).direction==="rtl"&&gt(f(),w.rtl)},$e=_e=>{const we=La();if(fs()){n("SweetAlert2 requires document to initialize");return}const je=document.createElement("div");je.className=w.container,we&&gt(je,w["no-transition"]),it(je,sl);const yt=ic(_e.target);yt.appendChild(je),dt(_e),Be(yt),Oa()},ct=(_e,we)=>{_e instanceof HTMLElement?we.appendChild(_e):typeof _e=="object"?_t(_e,we):_e&&it(we,_e)},_t=(_e,we)=>{_e.jquery?kt(we,_e):it(we,_e.toString())},kt=(_e,we)=>{if(_e.textContent="",0 in we)for(let je=0;je in we;je++)_e.appendChild(we[je].cloneNode(!0));else _e.appendChild(we.cloneNode(!0))},Rt=(()=>{if(fs())return!1;const _e=document.createElement("div"),we={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const je in we)if(Object.prototype.hasOwnProperty.call(we,je)&&typeof _e.style[je]<"u")return we[je];return!1})(),Ft=()=>{const _e=document.createElement("div");_e.className=w["scrollbar-measure"],document.body.appendChild(_e);const we=_e.getBoundingClientRect().width-_e.clientWidth;return document.body.removeChild(_e),we},Dt=(_e,we)=>{const je=ae(),yt=ye();!we.showConfirmButton&&!we.showDenyButton&&!we.showCancelButton?Ti(je):Qt(je),ze(je,we,"actions"),$t(je,yt,we),it(yt,we.loaderHtml),ze(yt,we,"loader")};function $t(_e,we,je){const yt=Z(),yi=re(),dn=Ie();Fi(yt,"confirm",je),Fi(yi,"deny",je),Fi(dn,"cancel",je),ui(yt,yi,dn,je),je.reverseButtons&&(je.toast?(_e.insertBefore(dn,yt),_e.insertBefore(yi,yt)):(_e.insertBefore(dn,we),_e.insertBefore(yi,we),_e.insertBefore(yt,we)))}function ui(_e,we,je,yt){if(!yt.buttonsStyling)return Ut([_e,we,je],w.styled);gt([_e,we,je],w.styled),yt.confirmButtonColor&&(_e.style.backgroundColor=yt.confirmButtonColor,gt(_e,w["default-outline"])),yt.denyButtonColor&&(we.style.backgroundColor=yt.denyButtonColor,gt(we,w["default-outline"])),yt.cancelButtonColor&&(je.style.backgroundColor=yt.cancelButtonColor,gt(je,w["default-outline"]))}function Fi(_e,we,je){Ni(_e,je["show".concat(c(we),"Button")],"inline-block"),it(_e,je["".concat(we,"ButtonText")]),_e.setAttribute("aria-label",je["".concat(we,"ButtonAriaLabel")]),_e.className=w[we],ze(_e,je,"".concat(we,"Button")),gt(_e,je["".concat(we,"ButtonClass")])}function Ei(_e,we){typeof we=="string"?_e.style.background=we:we||gt([document.documentElement,document.body],w["no-backdrop"])}function fn(_e,we){we in w?gt(_e,w[we]):(m('The "position" parameter is not valid, defaulting to "center"'),gt(_e,w.center))}function pn(_e,we){if(we&&typeof we=="string"){const je="grow-".concat(we);je in w&&gt(_e,w[je])}}const Qi=(_e,we)=>{const je=f();je&&(Ei(je,we.backdrop),fn(je,we.position),pn(je,we.grow),ze(je,we,"container"))};var Bi={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const $n=["input","file","range","select","radio","checkbox","textarea"],cs=(_e,we)=>{const je=P(),yt=Bi.innerParams.get(_e),yi=!yt||we.input!==yt.input;$n.forEach(dn=>{const ns=w[dn],Pr=Gt(je,ns);ms(dn,we.inputAttributes),Pr.className=ns,yi&&Ti(Pr)}),we.input&&(yi&&an(we),oa(we))},an=_e=>{if(!$s[_e.input])return n('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(_e.input,'"'));const we=ai(_e.input),je=$s[_e.input](we,_e);Qt(je),setTimeout(()=>{Ye(je)})},Ms=_e=>{for(let we=0;we<_e.attributes.length;we++){const je=_e.attributes[we].name;["type","value","style"].includes(je)||_e.removeAttribute(je)}},ms=(_e,we)=>{const je=Ge(P(),_e);if(je){Ms(je);for(const yt in we)je.setAttribute(yt,we[yt])}},oa=_e=>{const we=ai(_e.input);_e.customClass&&gt(we,_e.customClass.input)},aa=(_e,we)=>{(!_e.placeholder||we.inputPlaceholder)&&(_e.placeholder=we.inputPlaceholder)},jr=(_e,we,je)=>{if(je.inputLabel){_e.id=w.input;const yt=document.createElement("label"),yi=w["input-label"];yt.setAttribute("for",_e.id),yt.className=yi,gt(yt,je.customClass.inputLabel),yt.innerText=je.inputLabel,we.insertAdjacentElement("beforebegin",yt)}},ai=_e=>{const we=w[_e]?w[_e]:w.input;return Gt(P(),we)},$s={};$s.text=$s.email=$s.password=$s.number=$s.tel=$s.url=(_e,we)=>(typeof we.inputValue=="string"||typeof we.inputValue=="number"?_e.value=we.inputValue:I(we.inputValue)||m('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof we.inputValue,'"')),jr(_e,_e,we),aa(_e,we),_e.type=we.input,_e),$s.file=(_e,we)=>(jr(_e,_e,we),aa(_e,we),_e),$s.range=(_e,we)=>{const je=_e.querySelector("input"),yt=_e.querySelector("output");return je.value=we.inputValue,je.type=we.input,yt.value=we.inputValue,jr(je,_e,we),_e},$s.select=(_e,we)=>{if(_e.textContent="",we.inputPlaceholder){const je=document.createElement("option");it(je,we.inputPlaceholder),je.value="",je.disabled=!0,je.selected=!0,_e.appendChild(je)}return jr(_e,_e,we),_e},$s.radio=_e=>(_e.textContent="",_e),$s.checkbox=(_e,we)=>{const je=Ge(P(),"checkbox");je.value="1",je.id=w.checkbox,je.checked=Boolean(we.inputValue);const yt=_e.querySelector("span");return it(yt,we.inputPlaceholder),_e},$s.textarea=(_e,we)=>{_e.value=we.inputValue,aa(_e,we),jr(_e,_e,we);const je=yt=>parseInt(window.getComputedStyle(yt).marginLeft)+parseInt(window.getComputedStyle(yt).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const yt=parseInt(window.getComputedStyle(P()).width),yi=()=>{const dn=_e.offsetWidth+je(_e);dn>yt?P().style.width="".concat(dn,"px"):P().style.width=null};new MutationObserver(yi).observe(_e,{attributes:!0,attributeFilter:["style"]})}}),_e};const lr=(_e,we)=>{const je=X();ze(je,we,"htmlContainer"),we.html?(ct(we.html,je),Qt(je,"block")):we.text?(je.textContent=we.text,Qt(je,"block")):Ti(je),cs(_e,we)},cr=(_e,we)=>{const je=be();Ni(je,we.footer),we.footer&&ct(we.footer,je),ze(je,we,"footer")},Pl=(_e,we)=>{const je=le();it(je,we.closeButtonHtml),ze(je,we,"closeButton"),Ni(je,we.showCloseButton),je.setAttribute("aria-label",we.closeButtonAriaLabel)},Kr=(_e,we)=>{const je=Bi.innerParams.get(_e),yt=q();if(je&&we.icon===je.icon){Fn(yt,we),nc(yt,we);return}if(!we.icon&&!we.iconHtml)return Ti(yt);if(we.icon&&Object.keys(L).indexOf(we.icon)===-1)return n('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(we.icon,'"')),Ti(yt);Qt(yt),Fn(yt,we),nc(yt,we),gt(yt,we.showClass.icon)},nc=(_e,we)=>{for(const je in L)we.icon!==je&&Ut(_e,L[je]);gt(_e,L[we.icon]),Wn(_e,we),uh(),ze(_e,we,"icon")},uh=()=>{const _e=P(),we=window.getComputedStyle(_e).getPropertyValue("background-color"),je=_e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let yt=0;yt<je.length;yt++)je[yt].style.backgroundColor=we},Or=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ji=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Fn=(_e,we)=>{_e.textContent="",we.iconHtml?it(_e,yo(we.iconHtml)):we.icon==="success"?it(_e,Or):we.icon==="error"?it(_e,ji):it(_e,yo({question:"?",warning:"!",info:"i"}[we.icon]))},Wn=(_e,we)=>{if(we.iconColor){_e.style.color=we.iconColor,_e.style.borderColor=we.iconColor;for(const je of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Ki(_e,je,"backgroundColor",we.iconColor);Ki(_e,".swal2-success-ring","borderColor",we.iconColor)}},yo=_e=>'<div class="'.concat(w["icon-content"],'">').concat(_e,"</div>"),la=(_e,we)=>{const je=ce();if(!we.imageUrl)return Ti(je);Qt(je,""),je.setAttribute("src",we.imageUrl),je.setAttribute("alt",we.imageAlt),wi(je,"width",we.imageWidth),wi(je,"height",we.imageHeight),je.className=w.image,ze(je,we,"image")},Tn=_e=>{const we=document.createElement("li");return gt(we,w["progress-step"]),it(we,_e),we},Dl=_e=>{const we=document.createElement("li");return gt(we,w["progress-step-line"]),_e.progressStepsDistance&&(we.style.width=_e.progressStepsDistance),we},Ho=(_e,we)=>{const je=fe();if(!we.progressSteps||we.progressSteps.length===0)return Ti(je);Qt(je),je.textContent="",we.currentProgressStep>=we.progressSteps.length&&m("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),we.progressSteps.forEach((yt,yi)=>{const dn=Tn(yt);if(je.appendChild(dn),yi===we.currentProgressStep&&gt(dn,w["active-progress-step"]),yi!==we.progressSteps.length-1){const ns=Dl(we);je.appendChild(ns)}})},xa=(_e,we)=>{const je=ee();Ni(je,we.title||we.titleText,"block"),we.title&&ct(we.title,je),we.titleText&&(je.innerText=we.titleText),ze(je,we,"title")},Er=(_e,we)=>{const je=f(),yt=P();we.toast?(wi(je,"width",we.width),yt.style.width="100%",yt.insertBefore(ye(),q())):wi(yt,"width",we.width),wi(yt,"padding",we.padding),we.color&&(yt.style.color=we.color),we.background&&(yt.style.background=we.background),Ti(Te()),Ts(yt,we)},Ts=(_e,we)=>{_e.className="".concat(w.popup," ").concat(Xi(_e)?we.showClass.popup:""),we.toast?(gt([document.documentElement,document.body],w["toast-shown"]),gt(_e,w.toast)):gt(_e,w.modal),ze(_e,we,"popup"),typeof we.customClass=="string"&&gt(_e,we.customClass),we.icon&&gt(_e,w["icon-".concat(we.icon)])},Rr=(_e,we)=>{Er(_e,we),Qi(_e,we),Ho(_e,we),Kr(_e,we),la(_e,we),xa(_e,we),Pl(_e,we),lr(_e,we),Dt(_e,we),cr(_e,we),typeof we.didRender=="function"&&we.didRender(P())},ho=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),rl=()=>{d(document.body.children).forEach(we=>{we===f()||we.contains(f())||(we.hasAttribute("aria-hidden")&&we.setAttribute("data-previous-aria-hidden",we.getAttribute("aria-hidden")),we.setAttribute("aria-hidden","true"))})},Io=()=>{d(document.body.children).forEach(we=>{we.hasAttribute("data-previous-aria-hidden")?(we.setAttribute("aria-hidden",we.getAttribute("data-previous-aria-hidden")),we.removeAttribute("data-previous-aria-hidden")):we.removeAttribute("aria-hidden")})},Ra=["swal-title","swal-html","swal-footer"],Ba=_e=>{const we=typeof _e.template=="string"?document.querySelector(_e.template):_e.template;if(!we)return{};const je=we.content;return ol(je),Object.assign(ba(je),za(je),sc(je),rc(je),so(je),rr(je,Ra))},ba=_e=>{const we={};return d(_e.querySelectorAll("swal-param")).forEach(je=>{wa(je,["name","value"]);const yt=je.getAttribute("name"),yi=je.getAttribute("value");typeof O[yt]=="boolean"&&yi==="false"&&(we[yt]=!1),typeof O[yt]=="object"&&(we[yt]=JSON.parse(yi))}),we},za=_e=>{const we={};return d(_e.querySelectorAll("swal-button")).forEach(je=>{wa(je,["type","color","aria-label"]);const yt=je.getAttribute("type");we["".concat(yt,"ButtonText")]=je.innerHTML,we["show".concat(c(yt),"Button")]=!0,je.hasAttribute("color")&&(we["".concat(yt,"ButtonColor")]=je.getAttribute("color")),je.hasAttribute("aria-label")&&(we["".concat(yt,"ButtonAriaLabel")]=je.getAttribute("aria-label"))}),we},sc=_e=>{const we={},je=_e.querySelector("swal-image");return je&&(wa(je,["src","width","height","alt"]),je.hasAttribute("src")&&(we.imageUrl=je.getAttribute("src")),je.hasAttribute("width")&&(we.imageWidth=je.getAttribute("width")),je.hasAttribute("height")&&(we.imageHeight=je.getAttribute("height")),je.hasAttribute("alt")&&(we.imageAlt=je.getAttribute("alt"))),we},rc=_e=>{const we={},je=_e.querySelector("swal-icon");return je&&(wa(je,["type","color"]),je.hasAttribute("type")&&(we.icon=je.getAttribute("type")),je.hasAttribute("color")&&(we.iconColor=je.getAttribute("color")),we.iconHtml=je.innerHTML),we},so=_e=>{const we={},je=_e.querySelector("swal-input");je&&(wa(je,["type","label","placeholder","value"]),we.input=je.getAttribute("type")||"text",je.hasAttribute("label")&&(we.inputLabel=je.getAttribute("label")),je.hasAttribute("placeholder")&&(we.inputPlaceholder=je.getAttribute("placeholder")),je.hasAttribute("value")&&(we.inputValue=je.getAttribute("value")));const yt=_e.querySelectorAll("swal-input-option");return yt.length&&(we.inputOptions={},d(yt).forEach(yi=>{wa(yi,["value"]);const dn=yi.getAttribute("value"),ns=yi.innerHTML;we.inputOptions[dn]=ns})),we},rr=(_e,we)=>{const je={};for(const yt in we){const yi=we[yt],dn=_e.querySelector(yi);dn&&(wa(dn,[]),je[yi.replace(/^swal-/,"")]=dn.innerHTML.trim())}return je},ol=_e=>{const we=Ra.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);d(_e.children).forEach(je=>{const yt=je.tagName.toLowerCase();we.indexOf(yt)===-1&&m("Unrecognized element <".concat(yt,">"))})},wa=(_e,we)=>{d(_e.attributes).forEach(je=>{we.indexOf(je.name)===-1&&m(['Unrecognized attribute "'.concat(je.name,'" on <').concat(_e.tagName.toLowerCase(),">."),"".concat(we.length?"Allowed attributes are: ".concat(we.join(", ")):"To set the value, use HTML within the element.")])})};var Cr={email:(_e,we)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(_e)?Promise.resolve():Promise.resolve(we||"Invalid email address"),url:(_e,we)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(_e)?Promise.resolve():Promise.resolve(we||"Invalid URL")};function Lo(_e){_e.inputValidator||Object.keys(Cr).forEach(we=>{_e.input===we&&(_e.inputValidator=Cr[we])})}function Fh(_e){(!_e.target||typeof _e.target=="string"&&!document.querySelector(_e.target)||typeof _e.target!="string"&&!_e.target.appendChild)&&(m('Target parameter is not valid, defaulting to "body"'),_e.target="body")}function Ic(_e){Lo(_e),_e.showLoaderOnConfirm&&!_e.preConfirm&&m(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Fh(_e),typeof _e.title=="string"&&(_e.title=_e.title.split(`
`).join("<br />")),$e(_e)}class vr{constructor(we,je){this.callback=we,this.remaining=je,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(we){const je=this.running;return je&&this.stop(),this.remaining+=we,je&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const al=()=>{lt.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(lt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(lt.previousBodyPadding+Ft(),"px"))},Lc=()=>{lt.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(lt.previousBodyPadding,"px"),lt.previousBodyPadding=null)},ll=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!pt(document.body,w.iosfix)){const we=document.body.scrollTop;document.body.style.top="".concat(we*-1,"px"),gt(document.body,w.iosfix),Na(),Mr()}},Mr=()=>{const _e=navigator.userAgent,we=!!_e.match(/iPad/i)||!!_e.match(/iPhone/i),je=!!_e.match(/WebKit/i);we&&je&&!_e.match(/CriOS/i)&&P().scrollHeight>window.innerHeight-44&&(f().style.paddingBottom="".concat(44,"px"))},Na=()=>{const _e=f();let we;_e.ontouchstart=je=>{we=Oc(je)},_e.ontouchmove=je=>{we&&(je.preventDefault(),je.stopPropagation())}},Oc=_e=>{const we=_e.target,je=f();return us(_e)||vs(_e)?!1:we===je||!xn(je)&&we.tagName!=="INPUT"&&we.tagName!=="TEXTAREA"&&!(xn(X())&&X().contains(we))},us=_e=>_e.touches&&_e.touches.length&&_e.touches[0].touchType==="stylus",vs=_e=>_e.touches&&_e.touches.length>1,Rc=()=>{if(pt(document.body,w.iosfix)){const _e=parseInt(document.body.style.top,10);Ut(document.body,w.iosfix),document.body.style.top="",document.body.scrollTop=_e*-1}},jh=10,ph=_e=>{const we=f(),je=P();typeof _e.willOpen=="function"&&_e.willOpen(je);const yi=window.getComputedStyle(document.body).overflowY;cl(we,je,_e),setTimeout(()=>{oc(we,je)},jh),Oe()&&(Bc(we,_e.scrollbarPadding,yi),rl()),!Le()&&!Ji.previousActiveElement&&(Ji.previousActiveElement=document.activeElement),typeof _e.didOpen=="function"&&setTimeout(()=>_e.didOpen(je)),Ut(we,w["no-transition"])},Oo=_e=>{const we=P();if(_e.target!==we)return;const je=f();we.removeEventListener(Rt,Oo),je.style.overflowY="auto"},oc=(_e,we)=>{Rt&&kn(we)?(_e.style.overflowY="hidden",we.addEventListener(Rt,Oo)):_e.style.overflowY="auto"},Bc=(_e,we,je)=>{ll(),we&&je!=="hidden"&&al(),setTimeout(()=>{_e.scrollTop=0})},cl=(_e,we,je)=>{gt(_e,je.showClass.backdrop),we.style.setProperty("opacity","0","important"),Qt(we,"grid"),setTimeout(()=>{gt(we,je.showClass.popup),we.style.removeProperty("opacity")},jh),gt([document.documentElement,document.body],w.shown),je.heightAuto&&je.backdrop&&!je.toast&&gt([document.documentElement,document.body],w["height-auto"])},vo=_e=>{let we=P();we||new yn,we=P();const je=ye();Le()?Ti(q()):xr(we,_e),Qt(je),we.setAttribute("data-loading",!0),we.setAttribute("aria-busy",!0),we.focus()},xr=(_e,we)=>{const je=ae(),yt=ye();!we&&Xi(Z())&&(we=Z()),Qt(je),we&&(Ti(we),yt.setAttribute("data-button-to-replace",we.className)),yt.parentNode.insertBefore(yt,we),gt([_e,je],w.loading)},U=(_e,we)=>{we.input==="select"||we.input==="radio"?Ve(_e,we):["text","email","number","tel","textarea"].includes(we.input)&&(W(we.inputValue)||I(we.inputValue))&&(vo(Z()),Xe(_e,we))},oe=(_e,we)=>{const je=_e.getInput();if(!je)return null;switch(we.input){case"checkbox":return ge(je);case"radio":return Ce(je);case"file":return Fe(je);default:return we.inputAutoTrim?je.value.trim():je.value}},ge=_e=>_e.checked?1:0,Ce=_e=>_e.checked?_e.value:null,Fe=_e=>_e.files.length?_e.getAttribute("multiple")!==null?_e.files:_e.files[0]:null,Ve=(_e,we)=>{const je=P(),yt=yi=>Pt[we.input](je,wt(yi),we);W(we.inputOptions)||I(we.inputOptions)?(vo(Z()),K(we.inputOptions).then(yi=>{_e.hideLoading(),yt(yi)})):typeof we.inputOptions=="object"?yt(we.inputOptions):n("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof we.inputOptions))},Xe=(_e,we)=>{const je=_e.getInput();Ti(je),K(we.inputValue).then(yt=>{je.value=we.input==="number"?parseFloat(yt)||0:"".concat(yt),Qt(je),je.focus(),_e.hideLoading()}).catch(yt=>{n("Error in inputValue promise: ".concat(yt)),je.value="",Qt(je),je.focus(),_e.hideLoading()})},Pt={select:(_e,we,je)=>{const yt=Gt(_e,w.select),yi=(dn,ns,Pr)=>{const fr=document.createElement("option");fr.value=Pr,it(fr,ns),fr.selected=Wt(Pr,je.inputValue),dn.appendChild(fr)};we.forEach(dn=>{const ns=dn[0],Pr=dn[1];if(Array.isArray(Pr)){const fr=document.createElement("optgroup");fr.label=ns,fr.disabled=!1,yt.appendChild(fr),Pr.forEach(Ua=>yi(fr,Ua[1],Ua[0]))}else yi(yt,Pr,ns)}),yt.focus()},radio:(_e,we,je)=>{const yt=Gt(_e,w.radio);we.forEach(dn=>{const ns=dn[0],Pr=dn[1],fr=document.createElement("input"),Ua=document.createElement("label");fr.type="radio",fr.name=w.radio,fr.value=ns,Wt(ns,je.inputValue)&&(fr.checked=!0);const Wi=document.createElement("span");it(Wi,Pr),Wi.className=w.label,Ua.appendChild(fr),Ua.appendChild(Wi),yt.appendChild(Ua)});const yi=yt.querySelectorAll("input");yi.length&&yi[0].focus()}},wt=_e=>{const we=[];return typeof Map<"u"&&_e instanceof Map?_e.forEach((je,yt)=>{let yi=je;typeof yi=="object"&&(yi=wt(yi)),we.push([yt,yi])}):Object.keys(_e).forEach(je=>{let yt=_e[je];typeof yt=="object"&&(yt=wt(yt)),we.push([je,yt])}),we},Wt=(_e,we)=>we&&we.toString()===_e.toString(),li=_e=>{const we=Bi.innerParams.get(_e);_e.disableButtons(),we.input?ri(_e,"confirm"):Ds(_e,!0)},bi=_e=>{const we=Bi.innerParams.get(_e);_e.disableButtons(),we.returnInputValueOnDeny?ri(_e,"deny"):In(_e,!1)},ti=(_e,we)=>{_e.disableButtons(),we(ho.cancel)},ri=(_e,we)=>{const je=Bi.innerParams.get(_e);if(!je.input)return n('The "input" parameter is needed to be set when using returnInputValueOn'.concat(c(we)));const yt=oe(_e,je);je.inputValidator?zi(_e,yt,we):_e.getInput().checkValidity()?we==="deny"?In(_e,yt):Ds(_e,yt):(_e.enableButtons(),_e.showValidationMessage(je.validationMessage))},zi=(_e,we,je)=>{const yt=Bi.innerParams.get(_e);_e.disableInput(),Promise.resolve().then(()=>K(yt.inputValidator(we,yt.validationMessage))).then(dn=>{_e.enableButtons(),_e.enableInput(),dn?_e.showValidationMessage(dn):je==="deny"?In(_e,we):Ds(_e,we)})},In=(_e,we)=>{const je=Bi.innerParams.get(_e||void 0);je.showLoaderOnDeny&&vo(re()),je.preDeny?(Bi.awaitingPromise.set(_e||void 0,!0),Promise.resolve().then(()=>K(je.preDeny(we,je.validationMessage))).then(yi=>{yi===!1?_e.hideLoading():_e.closePopup({isDenied:!0,value:typeof yi>"u"?we:yi})}).catch(yi=>Ws(_e||void 0,yi))):_e.closePopup({isDenied:!0,value:we})},tn=(_e,we)=>{_e.closePopup({isConfirmed:!0,value:we})},Ws=(_e,we)=>{_e.rejectPromise(we)},Ds=(_e,we)=>{const je=Bi.innerParams.get(_e||void 0);je.showLoaderOnConfirm&&vo(),je.preConfirm?(_e.resetValidationMessage(),Bi.awaitingPromise.set(_e||void 0,!0),Promise.resolve().then(()=>K(je.preConfirm(we,je.validationMessage))).then(yi=>{Xi(Te())||yi===!1?_e.hideLoading():tn(_e,typeof yi>"u"?we:yi)}).catch(yi=>Ws(_e||void 0,yi))):tn(_e,we)},Yn=(_e,we,je)=>{Bi.innerParams.get(_e).toast?Xn(_e,we,je):(Qn(we),Is(we),ca(_e,we,je))},Xn=(_e,we,je)=>{we.popup.onclick=()=>{const yt=Bi.innerParams.get(_e);yt&&(Dn(yt)||yt.timer||yt.input)||je(ho.close)}},Dn=_e=>_e.showConfirmButton||_e.showDenyButton||_e.showCancelButton||_e.showCloseButton;let Ar=!1;const Qn=_e=>{_e.popup.onmousedown=()=>{_e.container.onmouseup=function(we){_e.container.onmouseup=void 0,we.target===_e.container&&(Ar=!0)}}},Is=_e=>{_e.container.onmousedown=()=>{_e.popup.onmouseup=function(we){_e.popup.onmouseup=void 0,(we.target===_e.popup||_e.popup.contains(we.target))&&(Ar=!0)}}},ca=(_e,we,je)=>{we.container.onclick=yt=>{const yi=Bi.innerParams.get(_e);if(Ar){Ar=!1;return}yt.target===we.container&&B(yi.allowOutsideClick)&&je(ho.backdrop)}},hl=()=>Xi(P()),kr=()=>Z()&&Z().click(),xo=()=>re()&&re().click(),On=()=>Ie()&&Ie().click(),Ur=(_e,we,je,yt)=>{we.keydownTarget&&we.keydownHandlerAdded&&(we.keydownTarget.removeEventListener("keydown",we.keydownHandler,{capture:we.keydownListenerCapture}),we.keydownHandlerAdded=!1),je.toast||(we.keydownHandler=yi=>dl(_e,yi,yt),we.keydownTarget=je.keydownListenerCapture?window:P(),we.keydownListenerCapture=je.keydownListenerCapture,we.keydownTarget.addEventListener("keydown",we.keydownHandler,{capture:we.keydownListenerCapture}),we.keydownHandlerAdded=!0)},bo=(_e,we,je)=>{const yt=Se();if(yt.length)return we=we+je,we===yt.length?we=0:we===-1&&(we=yt.length-1),yt[we].focus();P().focus()},ro=["ArrowRight","ArrowDown"],Ro=["ArrowLeft","ArrowUp"],dl=(_e,we,je)=>{const yt=Bi.innerParams.get(_e);yt&&(yt.stopKeydownPropagation&&we.stopPropagation(),we.key==="Enter"?Sa(_e,we,yt):we.key==="Tab"?zc(we,yt):[...ro,...Ro].includes(we.key)?xs(we.key):we.key==="Escape"&&Bo(we,yt,je))},Sa=(_e,we,je)=>{if(!(!B(je.allowEnterKey)||we.isComposing)&&we.target&&_e.getInput()&&we.target.outerHTML===_e.getInput().outerHTML){if(["textarea","file"].includes(je.input))return;kr(),we.preventDefault()}},zc=(_e,we)=>{const je=_e.target,yt=Se();let yi=-1;for(let dn=0;dn<yt.length;dn++)if(je===yt[dn]){yi=dn;break}_e.shiftKey?bo(we,yi,-1):bo(we,yi,1),_e.stopPropagation(),_e.preventDefault()},xs=_e=>{const we=Z(),je=re(),yt=Ie();if(![we,je,yt].includes(document.activeElement))return;const yi=ro.includes(_e)?"nextElementSibling":"previousElementSibling",dn=document.activeElement[yi];dn instanceof HTMLElement&&dn.focus()},Bo=(_e,we,je)=>{B(we.allowEscapeKey)&&(_e.preventDefault(),je(ho.esc))},ac=_e=>typeof _e=="object"&&_e.jquery,ul=_e=>_e instanceof Element||ac(_e),oo=_e=>{const we={};return typeof _e[0]=="object"&&!ul(_e[0])?Object.assign(we,_e[0]):["title","html","icon"].forEach((je,yt)=>{const yi=_e[yt];typeof yi=="string"||ul(yi)?we[je]=yi:yi!==void 0&&n("Unexpected type of ".concat(je,'! Expected "string" or "Element", got ').concat(typeof yi))}),we};function pl(){const _e=this;for(var we=arguments.length,je=new Array(we),yt=0;yt<we;yt++)je[yt]=arguments[yt];return new _e(...je)}function Il(_e){class we extends this{_main(yt,yi){return super._main(yt,Object.assign({},_e,yi))}}return we}const fh=()=>Ji.timeout&&Ji.timeout.getTimerLeft(),fl=()=>{if(Ji.timeout)return Tr(),Ji.timeout.stop()},ml=()=>{if(Ji.timeout){const _e=Ji.timeout.start();return qn(_e),_e}},Uh=()=>{const _e=Ji.timeout;return _e&&(_e.running?fl():ml())},gl=_e=>{if(Ji.timeout){const we=Ji.timeout.increase(_e);return qn(we,!0),we}},mh=()=>Ji.timeout&&Ji.timeout.isRunning();let $o=!1;const Wo={};function _l(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Wo[_e]=this,$o||(document.body.addEventListener("click",Nc),$o=!0)}const Nc=_e=>{for(let we=_e.target;we&&we!==document;we=we.parentNode)for(const je in Wo){const yt=we.getAttribute(je);if(yt){Wo[je].fire({template:yt});return}}};var Ll=Object.freeze({isValidParameter:k,isUpdatableParameter:V,isDeprecatedParameter:G,argsToParams:oo,isVisible:hl,clickConfirm:kr,clickDeny:xo,clickCancel:On,getContainer:f,getPopup:P,getTitle:ee,getHtmlContainer:X,getImage:ce,getIcon:q,getInputLabel:ue,getCloseButton:le,getActions:ae,getConfirmButton:Z,getDenyButton:re,getCancelButton:Ie,getLoader:ye,getFooter:be,getTimerProgressBar:xe,getFocusableElements:Se,getValidationMessage:Te,isLoading:Ue,fire:pl,mixin:Il,showLoading:vo,enableLoading:vo,getTimerLeft:fh,stopTimer:fl,resumeTimer:ml,toggleTimer:Uh,increaseTimer:gl,isTimerRunning:mh,bindClickHandler:_l});function wo(){const _e=Bi.innerParams.get(this);if(!_e)return;const we=Bi.domCache.get(this);Ti(we.loader),Le()?_e.icon&&Qt(q()):Gr(we),Ut([we.popup,we.actions],w.loading),we.popup.removeAttribute("aria-busy"),we.popup.removeAttribute("data-loading"),we.confirmButton.disabled=!1,we.denyButton.disabled=!1,we.cancelButton.disabled=!1}const Gr=_e=>{const we=_e.popup.getElementsByClassName(_e.loader.getAttribute("data-button-to-replace"));we.length?Qt(we[0],"inline-block"):Gi()&&Ti(_e.actions)};function Fa(_e){const we=Bi.innerParams.get(_e||this),je=Bi.domCache.get(_e||this);return je?Ge(je.popup,we.input):null}var yl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Ol(_e,we,je,yt){Le()?po(_e,yt):(kl(je).then(()=>po(_e,yt)),Ji.keydownTarget.removeEventListener("keydown",Ji.keydownHandler,{capture:Ji.keydownListenerCapture}),Ji.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(we.setAttribute("style","display:none !important"),we.removeAttribute("class"),we.innerHTML=""):we.remove(),Oe()&&(Lc(),Rc(),Io()),wd()}function wd(){Ut([document.documentElement,document.body],[w.shown,w["height-auto"],w["no-backdrop"],w["toast-shown"]])}function is(_e){_e=Gh(_e);const we=yl.swalPromiseResolve.get(this),je=Vr(this);this.isAwaitingPromise()?_e.isDismissed||(ja(this),we(_e)):je&&we(_e)}function uo(){return!!Bi.awaitingPromise.get(this)}const Vr=_e=>{const we=P();if(!we)return!1;const je=Bi.innerParams.get(_e);if(!je||pt(we,je.hideClass.popup))return!1;Ut(we,je.showClass.popup),gt(we,je.hideClass.popup);const yt=f();return Ut(yt,je.showClass.backdrop),gt(yt,je.hideClass.backdrop),Vh(_e,we,je),!0};function So(_e){const we=yl.swalPromiseReject.get(this);ja(this),we&&we(_e)}const ja=_e=>{_e.isAwaitingPromise()&&(Bi.awaitingPromise.delete(_e),Bi.innerParams.get(_e)||_e._destroy())},Gh=_e=>typeof _e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},_e),Vh=(_e,we,je)=>{const yt=f(),yi=Rt&&kn(we);typeof je.willClose=="function"&&je.willClose(we),yi?Hh(_e,we,yt,je.returnFocus,je.didClose):Ol(_e,yt,je.returnFocus,je.didClose)},Hh=(_e,we,je,yt,yi)=>{Ji.swalCloseEventFinishedCallback=Ol.bind(null,_e,je,yt,yi),we.addEventListener(Rt,function(dn){dn.target===we&&(Ji.swalCloseEventFinishedCallback(),delete Ji.swalCloseEventFinishedCallback)})},po=(_e,we)=>{setTimeout(()=>{typeof we=="function"&&we.bind(_e.params)(),_e._destroy()})};function Bt(_e,we,je){const yt=Bi.domCache.get(_e);we.forEach(yi=>{yt[yi].disabled=je})}function pi(_e,we){if(!_e)return!1;if(_e.type==="radio"){const yt=_e.parentNode.parentNode.querySelectorAll("input");for(let yi=0;yi<yt.length;yi++)yt[yi].disabled=we}else _e.disabled=we}function oi(){Bt(this,["confirmButton","denyButton","cancelButton"],!1)}function nn(){Bt(this,["confirmButton","denyButton","cancelButton"],!0)}function Rn(){return pi(this.getInput(),!1)}function gs(){return pi(this.getInput(),!0)}function pr(_e){const we=Bi.domCache.get(this),je=Bi.innerParams.get(this);it(we.validationMessage,_e),we.validationMessage.className=w["validation-message"],je.customClass&&je.customClass.validationMessage&&gt(we.validationMessage,je.customClass.validationMessage),Qt(we.validationMessage);const yt=this.getInput();yt&&(yt.setAttribute("aria-invalid",!0),yt.setAttribute("aria-describedby",w["validation-message"]),Ye(yt),gt(yt,w.inputerror))}function bs(){const _e=Bi.domCache.get(this);_e.validationMessage&&Ti(_e.validationMessage);const we=this.getInput();we&&(we.removeAttribute("aria-invalid"),we.removeAttribute("aria-describedby"),Ut(we,w.inputerror))}function Rl(){return Bi.domCache.get(this).progressSteps}function Fc(_e){const we=P(),je=Bi.innerParams.get(this);if(!we||pt(we,je.hideClass.popup))return m("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const yt=fo(_e),yi=Object.assign({},je,yt);Rr(this,yi),Bi.innerParams.set(this,yi),Object.defineProperties(this,{params:{value:Object.assign({},this.params,_e),writable:!1,enumerable:!0}})}const fo=_e=>{const we={};return Object.keys(_e).forEach(je=>{V(je)?we[je]=_e[je]:m('Invalid parameter to update: "'.concat(je,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))}),we};function tt(){const _e=Bi.domCache.get(this),we=Bi.innerParams.get(this);if(!we){Lt(this);return}_e.popup&&Ji.swalCloseEventFinishedCallback&&(Ji.swalCloseEventFinishedCallback(),delete Ji.swalCloseEventFinishedCallback),Ji.deferDisposalTimer&&(clearTimeout(Ji.deferDisposalTimer),delete Ji.deferDisposalTimer),typeof we.didDestroy=="function"&&we.didDestroy(),Tt(this)}const Tt=_e=>{Lt(_e),delete _e.params,delete Ji.keydownHandler,delete Ji.keydownTarget,delete Ji.currentInstance},Lt=_e=>{_e.isAwaitingPromise()?(fi(Bi,_e),Bi.awaitingPromise.set(_e,!0)):(fi(yl,_e),fi(Bi,_e))},fi=(_e,we)=>{for(const je in _e)_e[je].delete(we)};var zt=Object.freeze({hideLoading:wo,disableLoading:wo,getInput:Fa,close:is,isAwaitingPromise:uo,rejectPromise:So,closePopup:is,closeModal:is,closeToast:is,enableButtons:oi,disableButtons:nn,enableInput:Rn,disableInput:gs,showValidationMessage:pr,resetValidationMessage:bs,getProgressSteps:Rl,update:Fc,_destroy:tt});let ni;class Ci{constructor(){if(typeof window>"u")return;ni=this;for(var we=arguments.length,je=new Array(we),yt=0;yt<we;yt++)je[yt]=arguments[yt];const yi=Object.freeze(this.constructor.argsToParams(je));Object.defineProperties(this,{params:{value:yi,writable:!1,enumerable:!0,configurable:!0}});const dn=this._main(this.params);Bi.promise.set(this,dn)}_main(we){let je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};N(Object.assign({},je,we)),Ji.currentInstance&&(Ji.currentInstance._destroy(),Oe()&&Io()),Ji.currentInstance=this;const yt=Pi(we,je);Ic(yt),Object.freeze(yt),Ji.timeout&&(Ji.timeout.stop(),delete Ji.timeout),clearTimeout(Ji.restoreFocusTimeout);const yi=bn(this);return Rr(this,yt),Bi.innerParams.set(this,yt),$i(this,yi,yt)}then(we){return Bi.promise.get(this).then(we)}finally(we){return Bi.promise.get(this).finally(we)}}const $i=(_e,we,je)=>new Promise((yt,yi)=>{const dn=ns=>{_e.closePopup({isDismissed:!0,dismiss:ns})};yl.swalPromiseResolve.set(_e,yt),yl.swalPromiseReject.set(_e,yi),we.confirmButton.onclick=()=>li(_e),we.denyButton.onclick=()=>bi(_e),we.cancelButton.onclick=()=>ti(_e,dn),we.closeButton.onclick=()=>dn(ho.close),Yn(_e,we,dn),Ur(_e,Ji,je,dn),U(_e,je),ph(je),En(Ji,je,dn),Mn(we,je),setTimeout(()=>{we.container.scrollTop=0})}),Pi=(_e,we)=>{const je=Ba(_e),yt=Object.assign({},O,we,je,_e);return yt.showClass=Object.assign({},O.showClass,yt.showClass),yt.hideClass=Object.assign({},O.hideClass,yt.hideClass),yt},bn=_e=>{const we={popup:P(),container:f(),actions:ae(),confirmButton:Z(),denyButton:re(),cancelButton:Ie(),loader:ye(),closeButton:le(),validationMessage:Te(),progressSteps:fe()};return Bi.domCache.set(_e,we),we},En=(_e,we,je)=>{const yt=xe();Ti(yt),we.timer&&(_e.timeout=new vr(()=>{je("timer"),delete _e.timeout},we.timer),we.timerProgressBar&&(Qt(yt),ze(yt,we,"timerProgressBar"),setTimeout(()=>{_e.timeout&&_e.timeout.running&&qn(we.timer)})))},Mn=(_e,we)=>{if(!we.toast){if(!B(we.allowEnterKey))return os();jn(_e,we)||bo(we,-1,1)}},jn=(_e,we)=>we.focusDeny&&Xi(_e.denyButton)?(_e.denyButton.focus(),!0):we.focusCancel&&Xi(_e.cancelButton)?(_e.cancelButton.focus(),!0):we.focusConfirm&&Xi(_e.confirmButton)?(_e.confirmButton.focus(),!0):!1,os=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Object.assign(Ci.prototype,zt),Object.assign(Ci,Ll),Object.keys(zt).forEach(_e=>{Ci[_e]=function(){if(ni)return ni[_e](...arguments)}}),Ci.DismissReason=ho,Ci.version="11.4.0";const yn=Ci;return yn.default=yn,yn}),typeof Yu<"u"&&Yu.Sweetalert2&&(Yu.swal=Yu.sweetAlert=Yu.Swal=Yu.SweetAlert=Yu.Sweetalert2)})(k8);var zy=k8.exports;class S7{static install(t,s={}){var l;const c=zy.mixin(s),d=function(...m){return c.fire.call(c,...m)};Object.assign(d,zy),Object.keys(zy).filter(m=>typeof zy[m]=="function").forEach(m=>{d[m]=c[m].bind(c)}),(l=t.config)!=null&&l.globalProperties&&!t.config.globalProperties.$swal?(t.config.globalProperties.$swal=d,t.provide("$swal",d)):Object.prototype.hasOwnProperty.call(t,"$swal")||(t.prototype.$swal=d,t.swal=d)}}var zw={},T7={get exports(){return zw},set exports(e){zw=e}};(function(e,t){(function(s,l){e.exports=l()})(ea,function(){var s,l,c;function d(n,S){if(!s)s=S;else if(!l)l=S;else{var j="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+s+")(sharedChunk); ("+l+")(sharedChunk); self.onerror = null;",J={};s(J),c=S(J),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(c.workerUrl=window.URL.createObjectURL(new Blob([j],{type:"text/javascript"})))}}d(["exports"],function(n){var S=typeof self<"u"?self:{},j="2.12.0";let J;const B={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(J==null){const r=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{J={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):r}catch{J=r}}return J},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},W={supported:!1,testSupport:function(r){!O&&I&&(H?M(r):K=r)}};let K,I,O=!1,H=!1;function M(r){const i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i);try{if(r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,I),r.isContextLost())return;W.supported=!0}catch{}r.deleteTexture(i),O=!0}S.document&&(I=S.document.createElement("img"),I.onload=function(){K&&M(K),K=null,H=!0},I.onerror=function(){O=!0,K=null},I.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const E="01";var k=V;function V(r,i,o,h){this.cx=3*r,this.bx=3*(o-r)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(h-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=r,this.p1y=i,this.p2x=o,this.p2y=h}V.prototype={sampleCurveX:function(r){return((this.ax*r+this.bx)*r+this.cx)*r},sampleCurveY:function(r){return((this.ay*r+this.by)*r+this.cy)*r},sampleCurveDerivativeX:function(r){return(3*this.ax*r+2*this.bx)*r+this.cx},solveCurveX:function(r,i){if(i===void 0&&(i=1e-6),r<0)return 0;if(r>1)return 1;for(var o=r,h=0;h<8;h++){var p=this.sampleCurveX(o)-r;if(Math.abs(p)<i)return o;var v=this.sampleCurveDerivativeX(o);if(Math.abs(v)<1e-6)break;o-=p/v}var T=0,R=1;for(o=r,h=0;h<20&&(p=this.sampleCurveX(o),!(Math.abs(p-r)<i));h++)r>p?T=o:R=o,o=.5*(R-T)+T;return o},solve:function(r,i){return this.sampleCurveY(this.solveCurveX(r,i))}};var G=C;function C(r,i){this.x=r,this.y=i}C.prototype={clone:function(){return new C(this.x,this.y)},add:function(r){return this.clone()._add(r)},sub:function(r){return this.clone()._sub(r)},multByPoint:function(r){return this.clone()._multByPoint(r)},divByPoint:function(r){return this.clone()._divByPoint(r)},mult:function(r){return this.clone()._mult(r)},div:function(r){return this.clone()._div(r)},rotate:function(r){return this.clone()._rotate(r)},rotateAround:function(r,i){return this.clone()._rotateAround(r,i)},matMult:function(r){return this.clone()._matMult(r)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(r){return this.x===r.x&&this.y===r.y},dist:function(r){return Math.sqrt(this.distSqr(r))},distSqr:function(r){var i=r.x-this.x,o=r.y-this.y;return i*i+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(r){return Math.atan2(this.y-r.y,this.x-r.x)},angleWith:function(r){return this.angleWithSep(r.x,r.y)},angleWithSep:function(r,i){return Math.atan2(this.x*i-this.y*r,this.x*r+this.y*i)},_matMult:function(r){var i=r[2]*this.x+r[3]*this.y;return this.x=r[0]*this.x+r[1]*this.y,this.y=i,this},_add:function(r){return this.x+=r.x,this.y+=r.y,this},_sub:function(r){return this.x-=r.x,this.y-=r.y,this},_mult:function(r){return this.x*=r,this.y*=r,this},_div:function(r){return this.x/=r,this.y/=r,this},_multByPoint:function(r){return this.x*=r.x,this.y*=r.y,this},_divByPoint:function(r){return this.x/=r.x,this.y/=r.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var r=this.y;return this.y=this.x,this.x=-r,this},_rotate:function(r){var i=Math.cos(r),o=Math.sin(r),h=o*this.x+i*this.y;return this.x=i*this.x-o*this.y,this.y=h,this},_rotateAround:function(r,i){var o=Math.cos(r),h=Math.sin(r),p=i.y+h*(this.x-i.x)+o*(this.y-i.y);return this.x=i.x+o*(this.x-i.x)-h*(this.y-i.y),this.y=p,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},C.convert=function(r){return r instanceof C?r:Array.isArray(r)?new C(r[0],r[1]):r};const ie=Math.PI/180,Q=180/Math.PI;function N(r){return r*ie}function F(r){return r*Q}const $=[[0,0],[1,0],[1,1],[0,1]];function w(r){if(r<=0)return 0;if(r>=1)return 1;const i=r*r,o=i*r;return 4*(r<.5?o:3*(r-i)+o-.75)}function L(r,i,o,h){const p=new k(r,i,o,h);return function(v){return p.solve(v)}}const f=L(.25,.1,.25,1);function y(r,i,o){return Math.min(o,Math.max(i,r))}function b(r,i,o){return(o=y((o-r)/(i-r),0,1))*o*(3-2*o)}function P(r,i,o){const h=o-i,p=((r-i)%h+h)%h+i;return p===i?o:p}function q(r,i,o){if(!r.length)return o(null,[]);let h=r.length;const p=new Array(r.length);let v=null;r.forEach((T,R)=>{i(T,(Y,te)=>{Y&&(v=Y),p[R]=te,--h==0&&o(v,p)})})}function ee(r){const i=[];for(const o in r)i.push(r[o]);return i}function X(r,...i){for(const o of i)for(const h in o)r[h]=o[h];return r}let ce=1;function fe(){return ce++}function Te(){return function r(i){return i?(i^Math.random()*(16>>i/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,r)}()}function Z(r){return r<=1?1:Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function re(r){return!!r&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(r)}function ue(r,i){r.forEach(o=>{i[o]&&(i[o]=i[o].bind(i))})}function ye(r,i){return r.indexOf(i,r.length-i.length)!==-1}function Ie(r,i,o){const h={};for(const p in r)h[p]=i.call(o||this,r[p],p,r);return h}function ae(r,i,o){const h={};for(const p in r)i.call(o||this,r[p],p,r)&&(h[p]=r[p]);return h}function be(r){return Array.isArray(r)?r.map(be):typeof r=="object"&&r?Ie(r,be):r}const xe={};function le(r){xe[r]||(typeof console<"u"&&console.warn(r),xe[r]=!0)}function me(r,i,o){return(o.y-r.y)*(i.x-r.x)>(i.y-r.y)*(o.x-r.x)}function Se(r){let i=0;for(let o,h,p=0,v=r.length,T=v-1;p<v;T=p++)o=r[p],h=r[T],i+=(h.x-o.x)*(o.y+h.y);return i}function Oe(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Le(r){const i={};if(r.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(o,h,p,v)=>{const T=p||v;return i[h]=!T||T.toLowerCase(),""}),i["max-age"]){const o=parseInt(i["max-age"],10);isNaN(o)?delete i["max-age"]:i["max-age"]=o}return i}let Ue=null;function lt(r){if(Ue==null){const i=r.navigator?r.navigator.userAgent:null;Ue=!!r.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return Ue}function it(r){try{const i=S[r];return i.setItem("_mapbox_test_",1),i.removeItem("_mapbox_test_"),!0}catch{return!1}}function pt(r,i){return[r[4*i],r[4*i+1],r[4*i+2],r[4*i+3]]}const De="mapbox-tiles";let ze,Ge,Ye=500,at=50;function gt(){try{return S.caches}catch{}}function Ut(){gt()&&!ze&&(ze=S.caches.open(De))}function Gt(r){const i=r.indexOf("?");if(i<0)return r;const o=function(p){const v=p.indexOf("?");return v>0?p.slice(v+1).split("&"):[]}(r),h=o.filter(p=>{const v=p.split("=");return v[0]==="language"||v[0]==="worldview"});return h.length?`${r.slice(0,i)}?${h.join("&")}`:r.slice(0,i)}let wi=1/0;const Qt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Qt);class Ti extends Error{constructor(i,o,h){o===401&&Ji(h)&&(i+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(i),this.status=o,this.url=h}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Ki=Oe()?()=>self.worker&&self.worker.referrer:()=>(S.location.protocol==="blob:"?S.parent:S).location.href,Ni=function(r,i){if(!(/^file:/.test(o=r.url)||/^file:/.test(Ki())&&!/^\w+:/.test(o))){if(S.fetch&&S.Request&&S.AbortController&&S.Request.prototype.hasOwnProperty("signal"))return function(h,p){const v=new S.AbortController,T=new S.Request(h.url,{method:h.method||"GET",body:h.body,credentials:h.credentials,headers:h.headers,referrer:Ki(),signal:v.signal});let R=!1,Y=!1;const te=(de=T.url).indexOf("sku=")>0&&Ji(de);var de;h.type==="json"&&T.headers.set("Accept","application/json");const ve=(Pe,Re,He)=>{if(Y)return;if(Pe&&Pe.message!=="SecurityError"&&le(Pe),Re&&He)return Ee(Re);const Ke=Date.now();S.fetch(T).then(mt=>{if(mt.ok){const Et=te?mt.clone():null;return Ee(mt,Et,Ke)}return p(new Ti(mt.statusText,mt.status,h.url))}).catch(mt=>{mt.code!==20&&p(new Error(mt.message))})},Ee=(Pe,Re,He)=>{(h.type==="arrayBuffer"?Pe.arrayBuffer():h.type==="json"?Pe.json():Pe.text()).then(Ke=>{Y||(Re&&He&&function(mt,Et,ft){if(Ut(),!ze)return;const xt={status:Et.status,statusText:Et.statusText,headers:new S.Headers};Et.headers.forEach((Xt,Yt)=>xt.headers.set(Yt,Xt));const At=Le(Et.headers.get("Cache-Control")||"");if(At["no-store"])return;At["max-age"]&&xt.headers.set("Expires",new Date(ft+1e3*At["max-age"]).toUTCString());const Ct=xt.headers.get("Expires");Ct&&(new Date(Ct).getTime()-ft<42e4||function(Xt,Yt){if(Ge===void 0)try{new Response(new ReadableStream),Ge=!0}catch{Ge=!1}Ge?Yt(Xt.body):Xt.blob().then(Yt)}(Et,Xt=>{const Yt=new S.Response(Xt,xt);Ut(),ze&&ze.then(hi=>hi.put(Gt(mt.url),Yt)).catch(hi=>le(hi.message))}))}(T,Re,He),R=!0,p(null,Ke,Pe.headers.get("Cache-Control"),Pe.headers.get("Expires")))}).catch(Ke=>{Y||p(new Error(Ke.message))})};return te?function(Pe,Re){if(Ut(),!ze)return Re(null);const He=Gt(Pe.url);ze.then(Ke=>{Ke.match(He).then(mt=>{const Et=function(ft){if(!ft)return!1;const xt=new Date(ft.headers.get("Expires")||0),At=Le(ft.headers.get("Cache-Control")||"");return xt>Date.now()&&!At["no-cache"]}(mt);Ke.delete(He),Et&&Ke.put(He,mt.clone()),Re(null,mt,Et)}).catch(Re)}).catch(Re)}(T,ve):ve(null,null),{cancel:()=>{Y=!0,R||v.abort()}}}(r,i);if(Oe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",r,i,void 0,!0)}var o;return function(h,p){const v=new S.XMLHttpRequest;v.open(h.method||"GET",h.url,!0),h.type==="arrayBuffer"&&(v.responseType="arraybuffer");for(const T in h.headers)v.setRequestHeader(T,h.headers[T]);return h.type==="json"&&(v.responseType="text",v.setRequestHeader("Accept","application/json")),v.withCredentials=h.credentials==="include",v.onerror=()=>{p(new Error(v.statusText))},v.onload=()=>{if((v.status>=200&&v.status<300||v.status===0)&&v.response!==null){let T=v.response;if(h.type==="json")try{T=JSON.parse(v.response)}catch(R){return p(R)}p(null,T,v.getResponseHeader("Cache-Control"),v.getResponseHeader("Expires"))}else p(new Ti(v.statusText,v.status,h.url))},v.send(h.body),{cancel:()=>v.abort()}}(r,i)},Xi=function(r,i){return Ni(X(r,{type:"arrayBuffer"}),i)};function Gi(r){const i=S.document.createElement("a");return i.href=r,i.protocol===S.document.location.protocol&&i.host===S.document.location.host}const xn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let kn,qn;kn=[],qn=0;const Tr=function(r,i){if(W.supported&&(r.headers||(r.headers={}),r.headers.accept="image/webp,*/*"),qn>=B.MAX_PARALLEL_IMAGE_REQUESTS){const v={requestParameters:r,callback:i,cancelled:!1,cancel(){this.cancelled=!0}};return kn.push(v),v}qn++;let o=!1;const h=()=>{if(!o)for(o=!0,qn--;kn.length&&qn<B.MAX_PARALLEL_IMAGE_REQUESTS;){const v=kn.shift(),{requestParameters:T,callback:R,cancelled:Y}=v;Y||(v.cancel=Tr(T,R).cancel)}},p=Xi(r,(v,T,R,Y)=>{h(),v?i(v):T&&(S.createImageBitmap?function(te,de){const ve=new S.Blob([new Uint8Array(te)],{type:"image/png"});S.createImageBitmap(ve).then(Ee=>{de(null,Ee)}).catch(Ee=>{de(new Error(`Could not load image because of ${Ee.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(T,(te,de)=>i(te,de,R,Y)):function(te,de){const ve=new S.Image,Ee=S.URL;ve.onload=()=>{de(null,ve),Ee.revokeObjectURL(ve.src),ve.onload=null,S.requestAnimationFrame(()=>{ve.src=xn})},ve.onerror=()=>de(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Pe=new S.Blob([new Uint8Array(te)],{type:"image/png"});ve.src=te.byteLength?Ee.createObjectURL(Pe):xn}(T,(te,de)=>i(te,de,R,Y)))});return{cancel:()=>{p.cancel(),h()}}},fs="NO_ACCESS_TOKEN";function Bs(r){return r.indexOf("mapbox:")===0}function Ji(r){return B.API_URL_REGEX.test(r)}function va(r){return B.API_CDN_URL_REGEX.test(r)}function kl(r){return B.API_STYLE_REGEX.test(r)&&!sl(r)}function sl(r){return B.API_SPRITE_REGEX.test(r)}const La=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ur(r){const i=r.match(La);if(!i)throw new Error("Unable to parse URL object");return{protocol:i[1],authority:i[2],path:i[3]||"/",params:i[4]?i[4].split("&"):[]}}function Oa(r){const i=r.params.length?`?${r.params.join("&")}`:"";return`${r.protocol}://${r.authority}${r.path}${i}`}function ic(r){if(!r)return null;const i=r.split(".");if(!i||i.length!==3)return null;try{return JSON.parse(decodeURIComponent(S.atob(i[1]).split("").map(o=>"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class dt{constructor(i){this.type=i,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(i){const o=ic(B.ACCESS_TOKEN);let h="";return h=o&&o.u?S.btoa(encodeURIComponent(o.u).replace(/%([0-9A-F]{2})/g,(p,v)=>String.fromCharCode(Number("0x"+v)))):B.ACCESS_TOKEN||"",i?`mapbox.eventData.${i}:${h}`:`mapbox.eventData:${h}`}fetchEventData(){const i=it("localStorage"),o=this.getStorageKey(),h=this.getStorageKey("uuid");if(i)try{const p=S.localStorage.getItem(o);p&&(this.eventData=JSON.parse(p));const v=S.localStorage.getItem(h);v&&(this.anonId=v)}catch{le("Unable to read from LocalStorage")}}saveEventData(){const i=it("localStorage"),o=this.getStorageKey(),h=this.getStorageKey("uuid");if(i)try{S.localStorage.setItem(h,this.anonId),Object.keys(this.eventData).length>=1&&S.localStorage.setItem(o,JSON.stringify(this.eventData))}catch{le("Unable to write to LocalStorage")}}processRequests(i){}postEvent(i,o,h,p){if(!B.EVENTS_URL)return;const v=ur(B.EVENTS_URL);v.params.push(`access_token=${p||B.ACCESS_TOKEN||""}`);const T={event:this.type,created:new Date(i).toISOString()},R=o?X(T,o):T,Y={url:Oa(v),headers:{"Content-Type":"text/plain"},body:JSON.stringify([R])};this.pendingRequest=function(te,de){return Ni(X(te,{method:"POST"}),de)}(Y,te=>{this.pendingRequest=null,h(te),this.saveEventData(),this.processRequests(p)})}queueRequest(i,o){this.queue.push(i),this.processRequests(o)}}const Be=new class extends dt{constructor(r){super("appUserTurnstile"),this._customAccessToken=r}postTurnstileEvent(r,i){B.EVENTS_URL&&B.ACCESS_TOKEN&&Array.isArray(r)&&r.some(o=>Bs(o)||Ji(o))&&this.queueRequest(Date.now(),i)}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const i=ic(B.ACCESS_TOKEN),o=i?i.u:B.ACCESS_TOKEN;let h=o!==this.eventData.tokenU;re(this.anonId)||(this.anonId=Te(),h=!0);const p=this.queue.shift();if(this.eventData.lastSuccess){const v=new Date(this.eventData.lastSuccess),T=new Date(p),R=(p-this.eventData.lastSuccess)/864e5;h=h||R>=1||R<-1||v.getDate()!==T.getDate()}else h=!0;h?this.postEvent(p,{sdkIdentifier:"mapbox-gl-js",sdkVersion:j,skuId:E,"enabled.telemetry":!1,userId:this.anonId},v=>{v||(this.eventData.lastSuccess=p,this.eventData.tokenU=o)},r):this.processRequests()}},$e=Be.postTurnstileEvent.bind(Be),ct=new class extends dt{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(r,i,o,h){this.skuToken=i,this.errorCb=h,B.EVENTS_URL&&(o||B.ACCESS_TOKEN?this.queueRequest({id:r,timestamp:Date.now()},o):this.errorCb(new Error(fs)))}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;const{id:i,timestamp:o}=this.queue.shift();i&&this.success[i]||(this.anonId||this.fetchEventData(),re(this.anonId)||(this.anonId=Te()),this.postEvent(o,{sdkIdentifier:"mapbox-gl-js",sdkVersion:j,skuId:E,skuToken:this.skuToken,userId:this.anonId},h=>{h?this.errorCb(h):i&&(this.success[i]=!0)},r))}},_t=ct.postMapLoadEvent.bind(ct),kt=new class extends dt{constructor(){super("gljs.performance")}postPerformanceEvent(r,i){B.EVENTS_URL&&(r||B.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:i},r)}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:i,performanceData:o}=this.queue.shift(),h=function(p){const v=S.performance.getEntriesByType("resource"),T=S.performance.getEntriesByType("mark"),R=function(Ee){const Pe={};if(Ee){for(const Re in Ee)if(Re!=="other")for(const He of Ee[Re]){const Ke=`${Re}ResolveRangeMin`,mt=`${Re}ResolveRangeMax`,Et=`${Re}RequestCount`,ft=`${Re}RequestCachedCount`;Pe[Ke]=Math.min(Pe[Ke]||1/0,He.startTime),Pe[mt]=Math.max(Pe[mt]||-1/0,He.responseEnd);const xt=At=>{Pe[At]===void 0&&(Pe[At]=0),++Pe[At]};He.transferSize!==void 0&&He.transferSize===0&&xt(ft),xt(Et)}}return Pe}(function(Ee,Pe){const Re={};if(Ee)for(const He of Ee){const Ke=Pe(He);Re[Ke]===void 0&&(Re[Ke]=[]),Re[Ke].push(He)}return Re}(v,Ei)),Y=S.devicePixelRatio,te=S.navigator.connection||S.navigator.mozConnection||S.navigator.webkitConnection,de={counters:[],metadata:[],attributes:[]},ve=(Ee,Pe,Re)=>{Re!=null&&Ee.push({name:Pe,value:Re.toString()})};for(const Ee in R)ve(de.counters,Ee,R[Ee]);if(p.interactionRange[0]!==1/0&&p.interactionRange[1]!==-1/0&&(ve(de.counters,"interactionRangeMin",p.interactionRange[0]),ve(de.counters,"interactionRangeMax",p.interactionRange[1])),T)for(const Ee of Object.keys(ui)){const Pe=ui[Ee],Re=T.find(He=>He.name===Pe);Re&&ve(de.counters,Pe,Re.startTime)}return ve(de.counters,"visibilityHidden",p.visibilityHidden),ve(de.attributes,"style",function(Ee){if(Ee)for(const Pe of Ee){const Re=Pe.name.split("?")[0];if(kl(Re)){const He=Re.split("/").slice(-2);if(He.length===2)return`mapbox://styles/${He[0]}/${He[1]}`}}}(v)),ve(de.attributes,"terrainEnabled",p.terrainEnabled?"true":"false"),ve(de.attributes,"fogEnabled",p.fogEnabled?"true":"false"),ve(de.attributes,"projection",p.projection),ve(de.attributes,"zoom",p.zoom),ve(de.metadata,"devicePixelRatio",Y),ve(de.metadata,"connectionEffectiveType",te?te.effectiveType:void 0),ve(de.metadata,"navigatorUserAgent",S.navigator.userAgent),ve(de.metadata,"screenWidth",S.screen.width),ve(de.metadata,"screenHeight",S.screen.height),ve(de.metadata,"windowWidth",S.innerWidth),ve(de.metadata,"windowHeight",S.innerHeight),ve(de.metadata,"mapWidth",p.width/Y),ve(de.metadata,"mapHeight",p.height/Y),ve(de.metadata,"webglRenderer",p.renderer),ve(de.metadata,"webglVendor",p.vendor),ve(de.metadata,"sdkVersion",j),ve(de.metadata,"sdkIdentifier","mapbox-gl-js"),de}(o);for(const p of h.metadata);for(const p of h.counters);for(const p of h.attributes);this.postEvent(i,h,()=>{},r)}},Rt=kt.postPerformanceEvent.bind(kt),Ft=new class extends dt{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(r,i,o,h){if(!B.API_URL||!B.SESSION_PATH)return;const p=ur(B.API_URL+B.SESSION_PATH);p.params.push(`sku=${i||""}`),p.params.push(`access_token=${h||B.ACCESS_TOKEN||""}`);const v={url:Oa(p),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(T,R){return Ni(X(T,{method:"GET"}),R)}(v,T=>{this.pendingRequest=null,o(T),this.saveEventData(),this.processRequests(h)})}getSessionAPI(r,i,o,h){this.skuToken=i,this.errorCb=h,B.SESSION_PATH&&B.API_URL&&(o||B.ACCESS_TOKEN?this.queueRequest({id:r,timestamp:Date.now()},o):this.errorCb(new Error(fs)))}processRequests(r){if(this.pendingRequest||this.queue.length===0)return;const{id:i,timestamp:o}=this.queue.shift();i&&this.success[i]||this.getSession(o,this.skuToken,h=>{h?this.errorCb(h):i&&(this.success[i]=!0)},r)}},Dt=Ft.getSessionAPI.bind(Ft),$t=new Set,ui={create:"create",load:"load",fullLoad:"fullLoad"},Fi={mark(r){S.performance.mark(r)},measure(r,i,o){S.performance.measure(r,i,o)}};function Ei(r){const i=r.name.split("?")[0];return va(i)&&i.includes("mapbox-gl.js")?"javascript":va(i)&&i.includes("mapbox-gl.css")?"css":function(o){return B.API_FONTS_REGEX.test(o)}(i)?"fontRange":sl(i)?"sprite":kl(i)?"style":function(o){return B.API_TILEJSON_REGEX.test(o)}(i)?"tilejson":"other"}const fn=S.performance;function pn(r){const i=r?r.url.toString():void 0;return fn.getEntriesByName(i)}let Qi,Bi,$n,cs;const an={now:()=>$n!==void 0?$n:S.performance.now(),setNow(r){$n=r},restoreNow(){$n=void 0},frame(r){const i=S.requestAnimationFrame(r);return{cancel:()=>S.cancelAnimationFrame(i)}},getImageData(r,i=0){const{width:o,height:h}=r;cs||(cs=S.document.createElement("canvas"));const p=cs.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return(o>cs.width||h>cs.height)&&(cs.width=o,cs.height=h),p.clearRect(-i,-i,o+2*i,h+2*i),p.drawImage(r,0,0,o,h),p.getImageData(-i,-i,o+2*i,h+2*i)},resolveURL:r=>(Qi||(Qi=S.document.createElement("a")),Qi.href=r,Qi.href),get devicePixelRatio(){return S.devicePixelRatio},get prefersReducedMotion(){return!!S.matchMedia&&(Bi==null&&(Bi=S.matchMedia("(prefers-reduced-motion: reduce)")),Bi.matches)}};function Ms(r,i,o){o[r]&&o[r].indexOf(i)!==-1||(o[r]=o[r]||[],o[r].push(i))}function ms(r,i,o){if(o&&o[r]){const h=o[r].indexOf(i);h!==-1&&o[r].splice(h,1)}}class oa{constructor(i,o={}){X(this,o),this.type=i}}class aa extends oa{constructor(i,o={}){super("error",X({error:i},o))}}class jr{on(i,o){return this._listeners=this._listeners||{},Ms(i,o,this._listeners),this}off(i,o){return ms(i,o,this._listeners),ms(i,o,this._oneTimeListeners),this}once(i,o){return o?(this._oneTimeListeners=this._oneTimeListeners||{},Ms(i,o,this._oneTimeListeners),this):new Promise(h=>this.once(i,h))}fire(i,o){typeof i=="string"&&(i=new oa(i,o||{}));const h=i.type;if(this.listens(h)){i.target=this;const p=this._listeners&&this._listeners[h]?this._listeners[h].slice():[];for(const R of p)R.call(this,i);const v=this._oneTimeListeners&&this._oneTimeListeners[h]?this._oneTimeListeners[h].slice():[];for(const R of v)ms(h,R,this._oneTimeListeners),R.call(this,i);const T=this._eventedParent;T&&(X(i,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),T.fire(i))}else i instanceof aa&&console.error(i.error);return this}listens(i){return!!(this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i))}setEventedParent(i,o){return this._eventedParent=i,this._eventedParentData=o,this}}var ai=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function $s(r,...i){for(const o of i)for(const h in o)r[h]=o[h];return r}function lr(r){return r instanceof Number||r instanceof String||r instanceof Boolean?r.valueOf():r}function cr(r){if(Array.isArray(r))return r.map(cr);if(r instanceof Object&&!(r instanceof Number||r instanceof String||r instanceof Boolean)){const i={};for(const o in r)i[o]=cr(r[o]);return i}return lr(r)}class Pl extends Error{constructor(i,o){super(o),this.message=o,this.key=i}}var Kr=Pl;class nc{constructor(i,o=[]){this.parent=i,this.bindings={};for(const[h,p]of o)this.bindings[h]=p}concat(i){return new nc(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}var uh=nc;const Or={kind:"null"},ji={kind:"number"},Fn={kind:"string"},Wn={kind:"boolean"},yo={kind:"color"},la={kind:"object"},Tn={kind:"value"},Dl={kind:"collator"},Ho={kind:"formatted"},xa={kind:"resolvedImage"};function Er(r,i){return{kind:"array",itemType:r,N:i}}function Ts(r){if(r.kind==="array"){const i=Ts(r.itemType);return typeof r.N=="number"?`array<${i}, ${r.N}>`:r.itemType.kind==="value"?"array":`array<${i}>`}return r.kind}const Rr=[Or,ji,Fn,Wn,yo,Ho,la,Er(Tn),xa];function ho(r,i){if(i.kind==="error")return null;if(r.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!ho(r.itemType,i.itemType))&&(typeof r.N!="number"||r.N===i.N))return null}else{if(r.kind===i.kind)return null;if(r.kind==="value"){for(const o of Rr)if(!ho(o,i))return null}}return`Expected ${Ts(r)} but found ${Ts(i)} instead.`}function rl(r,i){return i.some(o=>o.kind===r.kind)}function Io(r,i){return i.some(o=>o==="null"?r===null:o==="array"?Array.isArray(r):o==="object"?r&&!Array.isArray(r)&&typeof r=="object":o===typeof r)}var Ra,Ba={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ba(r){return(r=Math.round(r))<0?0:r>255?255:r}function za(r){return ba(r[r.length-1]==="%"?parseFloat(r)/100*255:parseInt(r))}function sc(r){return(i=r[r.length-1]==="%"?parseFloat(r)/100:parseFloat(r))<0?0:i>1?1:i;var i}function rc(r,i,o){return o<0?o+=1:o>1&&(o-=1),6*o<1?r+(i-r)*o*6:2*o<1?i:3*o<2?r+(i-r)*(2/3-o)*6:r}try{Ra={}.parseCSSColor=function(r){var i,o=r.replace(/ /g,"").toLowerCase();if(o in Ba)return Ba[o].slice();if(o[0]==="#")return o.length===4?(i=parseInt(o.substr(1),16))>=0&&i<=4095?[(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1]:null:o.length===7&&(i=parseInt(o.substr(1),16))>=0&&i<=16777215?[(16711680&i)>>16,(65280&i)>>8,255&i,1]:null;var h=o.indexOf("("),p=o.indexOf(")");if(h!==-1&&p+1===o.length){var v=o.substr(0,h),T=o.substr(h+1,p-(h+1)).split(","),R=1;switch(v){case"rgba":if(T.length!==4)return null;R=sc(T.pop());case"rgb":return T.length!==3?null:[za(T[0]),za(T[1]),za(T[2]),R];case"hsla":if(T.length!==4)return null;R=sc(T.pop());case"hsl":if(T.length!==3)return null;var Y=(parseFloat(T[0])%360+360)%360/360,te=sc(T[1]),de=sc(T[2]),ve=de<=.5?de*(te+1):de+te-de*te,Ee=2*de-ve;return[ba(255*rc(Ee,ve,Y+1/3)),ba(255*rc(Ee,ve,Y)),ba(255*rc(Ee,ve,Y-1/3)),R];default:return null}}return null}}catch{}class so{constructor(i,o,h,p=1){this.r=i,this.g=o,this.b=h,this.a=p}static parse(i){if(!i)return;if(i instanceof so)return i;if(typeof i!="string")return;const o=Ra(i);return o?new so(o[0]/255*o[3],o[1]/255*o[3],o[2]/255*o[3],o[3]):void 0}toString(){const[i,o,h,p]=this.toArray();return`rgba(${Math.round(i)},${Math.round(o)},${Math.round(h)},${p})`}toArray(){const{r:i,g:o,b:h,a:p}=this;return p===0?[0,0,0,0]:[255*i/p,255*o/p,255*h/p,p]}toArray01(){const{r:i,g:o,b:h,a:p}=this;return p===0?[0,0,0,0]:[i/p,o/p,h/p,p]}toArray01PremultipliedAlpha(){const{r:i,g:o,b:h,a:p}=this;return[i,o,h,p]}}so.black=new so(0,0,0,1),so.white=new so(1,1,1,1),so.transparent=new so(0,0,0,0),so.red=new so(1,0,0,1),so.blue=new so(0,0,1,1);var rr=so;class ol{constructor(i,o,h){this.sensitivity=i?o?"variant":"case":o?"accent":"base",this.locale=h,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,o){return this.collator.compare(i,o)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class wa{constructor(i,o,h,p,v){this.text=i.normalize?i.normalize():i,this.image=o,this.scale=h,this.fontStack=p,this.textColor=v}}class Cr{constructor(i){this.sections=i}static fromString(i){return new Cr([new wa(i,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(i=>i.text.length!==0||i.image&&i.image.name.length!==0)}static factory(i){return i instanceof Cr?i:Cr.fromString(i)}toString(){return this.sections.length===0?"":this.sections.map(i=>i.text).join("")}serialize(){const i=["format"];for(const o of this.sections){if(o.image){i.push(["image",o.image.name]);continue}i.push(o.text);const h={};o.fontStack&&(h["text-font"]=["literal",o.fontStack.split(",")]),o.scale&&(h["font-scale"]=o.scale),o.textColor&&(h["text-color"]=["rgba"].concat(o.textColor.toArray())),i.push(h)}return i}}class Lo{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new Lo({name:i,available:!1}):null}serialize(){return["image",this.name]}}function Fh(r,i,o,h){return typeof r=="number"&&r>=0&&r<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof o=="number"&&o>=0&&o<=255?h===void 0||typeof h=="number"&&h>=0&&h<=1?null:`Invalid rgba value [${[r,i,o,h].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof h=="number"?[r,i,o,h]:[r,i,o]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ic(r){if(r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||r instanceof rr||r instanceof ol||r instanceof Cr||r instanceof Lo)return!0;if(Array.isArray(r)){for(const i of r)if(!Ic(i))return!1;return!0}if(typeof r=="object"){for(const i in r)if(!Ic(r[i]))return!1;return!0}return!1}function vr(r){if(r===null)return Or;if(typeof r=="string")return Fn;if(typeof r=="boolean")return Wn;if(typeof r=="number")return ji;if(r instanceof rr)return yo;if(r instanceof ol)return Dl;if(r instanceof Cr)return Ho;if(r instanceof Lo)return xa;if(Array.isArray(r)){const i=r.length;let o;for(const h of r){const p=vr(h);if(o){if(o===p)continue;o=Tn;break}o=p}return Er(o||Tn,i)}return la}function al(r){const i=typeof r;return r===null?"":i==="string"||i==="number"||i==="boolean"?String(r):r instanceof rr||r instanceof Cr||r instanceof Lo?r.toString():JSON.stringify(r)}class Lc{constructor(i,o){this.type=i,this.value=o}static parse(i,o){if(i.length!==2)return o.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!Ic(i[1]))return o.error("invalid value");const h=i[1];let p=vr(h);const v=o.expectedType;return p.kind!=="array"||p.N!==0||!v||v.kind!=="array"||typeof v.N=="number"&&v.N!==0||(p=v),new Lc(p,h)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof rr?["rgba"].concat(this.value.toArray()):this.value instanceof Cr?this.value.serialize():this.value}}var ll=Lc,Mr=class{constructor(r){this.name="ExpressionEvaluationError",this.message=r}toJSON(){return this.message}};const Na={string:Fn,number:ji,boolean:Wn,object:la};class Oc{constructor(i,o){this.type=i,this.args=o}static parse(i,o){if(i.length<2)return o.error("Expected at least one argument.");let h,p=1;const v=i[0];if(v==="array"){let R,Y;if(i.length>2){const te=i[1];if(typeof te!="string"||!(te in Na)||te==="object")return o.error('The item type argument of "array" must be one of string, number, boolean',1);R=Na[te],p++}else R=Tn;if(i.length>3){if(i[2]!==null&&(typeof i[2]!="number"||i[2]<0||i[2]!==Math.floor(i[2])))return o.error('The length argument to "array" must be a positive integer literal',2);Y=i[2],p++}h=Er(R,Y)}else h=Na[v];const T=[];for(;p<i.length;p++){const R=o.parse(i[p],p,Tn);if(!R)return null;T.push(R)}return new Oc(h,T)}evaluate(i){for(let o=0;o<this.args.length;o++){const h=this.args[o].evaluate(i);if(!ho(this.type,vr(h)))return h;if(o===this.args.length-1)throw new Mr(`Expected value to be of type ${Ts(this.type)}, but found ${Ts(vr(h))} instead.`)}return null}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){const i=this.type,o=[i.kind];if(i.kind==="array"){const h=i.itemType;if(h.kind==="string"||h.kind==="number"||h.kind==="boolean"){o.push(h.kind);const p=i.N;(typeof p=="number"||this.args.length>1)&&o.push(p)}}return o.concat(this.args.map(h=>h.serialize()))}}var us=Oc;class vs{constructor(i){this.type=Ho,this.sections=i}static parse(i,o){if(i.length<2)return o.error("Expected at least one argument.");const h=i[1];if(!Array.isArray(h)&&typeof h=="object")return o.error("First argument must be an image or text section.");const p=[];let v=!1;for(let T=1;T<=i.length-1;++T){const R=i[T];if(v&&typeof R=="object"&&!Array.isArray(R)){v=!1;let Y=null;if(R["font-scale"]&&(Y=o.parse(R["font-scale"],1,ji),!Y))return null;let te=null;if(R["text-font"]&&(te=o.parse(R["text-font"],1,Er(Fn)),!te))return null;let de=null;if(R["text-color"]&&(de=o.parse(R["text-color"],1,yo),!de))return null;const ve=p[p.length-1];ve.scale=Y,ve.font=te,ve.textColor=de}else{const Y=o.parse(i[T],1,Tn);if(!Y)return null;const te=Y.type.kind;if(te!=="string"&&te!=="value"&&te!=="null"&&te!=="resolvedImage")return o.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");v=!0,p.push({content:Y,scale:null,font:null,textColor:null})}}return new vs(p)}evaluate(i){return new Cr(this.sections.map(o=>{const h=o.content.evaluate(i);return vr(h)===xa?new wa("",h,null,null,null):new wa(al(h),null,o.scale?o.scale.evaluate(i):null,o.font?o.font.evaluate(i).join(","):null,o.textColor?o.textColor.evaluate(i):null)}))}eachChild(i){for(const o of this.sections)i(o.content),o.scale&&i(o.scale),o.font&&i(o.font),o.textColor&&i(o.textColor)}outputDefined(){return!1}serialize(){const i=["format"];for(const o of this.sections){i.push(o.content.serialize());const h={};o.scale&&(h["font-scale"]=o.scale.serialize()),o.font&&(h["text-font"]=o.font.serialize()),o.textColor&&(h["text-color"]=o.textColor.serialize()),i.push(h)}return i}}class Rc{constructor(i){this.type=xa,this.input=i}static parse(i,o){if(i.length!==2)return o.error("Expected two arguments.");const h=o.parse(i[1],1,Fn);return h?new Rc(h):o.error("No image name provided.")}evaluate(i){const o=this.input.evaluate(i),h=Lo.fromString(o);return h&&i.availableImages&&(h.available=i.availableImages.indexOf(o)>-1),h}eachChild(i){i(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const jh={"to-boolean":Wn,"to-color":yo,"to-number":ji,"to-string":Fn};class ph{constructor(i,o){this.type=i,this.args=o}static parse(i,o){if(i.length<2)return o.error("Expected at least one argument.");const h=i[0];if((h==="to-boolean"||h==="to-string")&&i.length!==2)return o.error("Expected one argument.");const p=jh[h],v=[];for(let T=1;T<i.length;T++){const R=o.parse(i[T],T,Tn);if(!R)return null;v.push(R)}return new ph(p,v)}evaluate(i){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(i));if(this.type.kind==="color"){let o,h;for(const p of this.args){if(o=p.evaluate(i),h=null,o instanceof rr)return o;if(typeof o=="string"){const v=i.parseColor(o);if(v)return v}else if(Array.isArray(o)&&(h=o.length<3||o.length>4?`Invalid rbga value ${JSON.stringify(o)}: expected an array containing either three or four numeric values.`:Fh(o[0],o[1],o[2],o[3]),!h))return new rr(o[0]/255,o[1]/255,o[2]/255,o[3])}throw new Mr(h||`Could not parse color from value '${typeof o=="string"?o:String(JSON.stringify(o))}'`)}if(this.type.kind==="number"){let o=null;for(const h of this.args){if(o=h.evaluate(i),o===null)return 0;const p=Number(o);if(!isNaN(p))return p}throw new Mr(`Could not convert ${JSON.stringify(o)} to number.`)}return this.type.kind==="formatted"?Cr.fromString(al(this.args[0].evaluate(i))):this.type.kind==="resolvedImage"?Lo.fromString(al(this.args[0].evaluate(i))):al(this.args[0].evaluate(i))}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){if(this.type.kind==="formatted")return new vs([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Rc(this.args[0]).serialize();const i=[`to-${this.type.kind}`];return this.eachChild(o=>{i.push(o.serialize())}),i}}var Oo=ph;const oc=["Unknown","Point","LineString","Polygon"];var Bc=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?oc[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const r=this.featureDistanceData.center,i=this.featureDistanceData.scale,{x:o,y:h}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(o*i-r[0])+this.featureDistanceData.bearing[1]*(h*i-r[1])}return 0}parseColor(r){let i=this._parseColorCache[r];return i||(i=this._parseColorCache[r]=rr.parse(r)),i}};class cl{constructor(i,o,h,p){this.name=i,this.type=o,this._evaluate=h,this.args=p}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(i=>i.serialize()))}static parse(i,o){const h=i[0],p=cl.definitions[h];if(!p)return o.error(`Unknown expression "${h}". If you wanted a literal array, use ["literal", [...]].`,0);const v=Array.isArray(p)?p[0]:p.type,T=Array.isArray(p)?[[p[1],p[2]]]:p.overloads,R=T.filter(([te])=>!Array.isArray(te)||te.length===i.length-1);let Y=null;for(const[te,de]of R){Y=new Is(o.registry,o.path,null,o.scope);const ve=[];let Ee=!1;for(let Pe=1;Pe<i.length;Pe++){const Re=i[Pe],He=Array.isArray(te)?te[Pe-1]:te.type,Ke=Y.parse(Re,1+ve.length,He);if(!Ke){Ee=!0;break}ve.push(Ke)}if(!Ee)if(Array.isArray(te)&&te.length!==ve.length)Y.error(`Expected ${te.length} arguments, but found ${ve.length} instead.`);else{for(let Pe=0;Pe<ve.length;Pe++){const Re=Array.isArray(te)?te[Pe]:te.type,He=ve[Pe];Y.concat(Pe+1).checkSubtype(Re,He.type)}if(Y.errors.length===0)return new cl(h,v,de,ve)}}if(R.length===1)o.errors.push(...Y.errors);else{const te=(R.length?R:T).map(([ve])=>{return Ee=ve,Array.isArray(Ee)?`(${Ee.map(Ts).join(", ")})`:`(${Ts(Ee.type)}...)`;var Ee}).join(" | "),de=[];for(let ve=1;ve<i.length;ve++){const Ee=o.parse(i[ve],1+de.length);if(!Ee)return null;de.push(Ts(Ee.type))}o.error(`Expected arguments of type ${te}, but found (${de.join(", ")}) instead.`)}return null}static register(i,o){cl.definitions=o;for(const h in o)i[h]=cl}}var vo=cl;class xr{constructor(i,o,h){this.type=Dl,this.locale=h,this.caseSensitive=i,this.diacriticSensitive=o}static parse(i,o){if(i.length!==2)return o.error("Expected one argument.");const h=i[1];if(typeof h!="object"||Array.isArray(h))return o.error("Collator options argument must be an object.");const p=o.parse(h["case-sensitive"]!==void 0&&h["case-sensitive"],1,Wn);if(!p)return null;const v=o.parse(h["diacritic-sensitive"]!==void 0&&h["diacritic-sensitive"],1,Wn);if(!v)return null;let T=null;return h.locale&&(T=o.parse(h.locale,1,Fn),!T)?null:new xr(p,v,T)}evaluate(i){return new ol(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}serialize(){const i={};return i["case-sensitive"]=this.caseSensitive.serialize(),i["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(i.locale=this.locale.serialize()),["collator",i]}}const U=8192;function oe(r,i){r[0]=Math.min(r[0],i[0]),r[1]=Math.min(r[1],i[1]),r[2]=Math.max(r[2],i[0]),r[3]=Math.max(r[3],i[1])}function ge(r,i){return!(r[0]<=i[0]||r[2]>=i[2]||r[1]<=i[1]||r[3]>=i[3])}function Ce(r,i){const o=(180+r[0])/360,h=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r[1]*Math.PI/360)))/360,p=Math.pow(2,i.z);return[Math.round(o*p*U),Math.round(h*p*U)]}function Fe(r,i,o){const h=r[0]-i[0],p=r[1]-i[1],v=r[0]-o[0],T=r[1]-o[1];return h*T-v*p==0&&h*v<=0&&p*T<=0}function Ve(r,i){let o=!1;for(let T=0,R=i.length;T<R;T++){const Y=i[T];for(let te=0,de=Y.length;te<de-1;te++){if(Fe(r,Y[te],Y[te+1]))return!1;(p=Y[te])[1]>(h=r)[1]!=(v=Y[te+1])[1]>h[1]&&h[0]<(v[0]-p[0])*(h[1]-p[1])/(v[1]-p[1])+p[0]&&(o=!o)}}var h,p,v;return o}function Xe(r,i){for(let o=0;o<i.length;o++)if(Ve(r,i[o]))return!0;return!1}function Pt(r,i,o,h){const p=h[0]-o[0],v=h[1]-o[1],T=(r[0]-o[0])*v-p*(r[1]-o[1]),R=(i[0]-o[0])*v-p*(i[1]-o[1]);return T>0&&R<0||T<0&&R>0}function wt(r,i,o){for(const te of o)for(let de=0;de<te.length-1;++de)if((R=[(T=te[de+1])[0]-(v=te[de])[0],T[1]-v[1]])[0]*(Y=[(p=i)[0]-(h=r)[0],p[1]-h[1]])[1]-R[1]*Y[0]!=0&&Pt(h,p,v,T)&&Pt(v,T,h,p))return!0;var h,p,v,T,R,Y;return!1}function Wt(r,i){for(let o=0;o<r.length;++o)if(!Ve(r[o],i))return!1;for(let o=0;o<r.length-1;++o)if(wt(r[o],r[o+1],i))return!1;return!0}function li(r,i){for(let o=0;o<i.length;o++)if(Wt(r,i[o]))return!0;return!1}function bi(r,i,o){const h=[];for(let p=0;p<r.length;p++){const v=[];for(let T=0;T<r[p].length;T++){const R=Ce(r[p][T],o);oe(i,R),v.push(R)}h.push(v)}return h}function ti(r,i,o){const h=[];for(let p=0;p<r.length;p++){const v=bi(r[p],i,o);h.push(v)}return h}function ri(r,i,o,h){if(r[0]<o[0]||r[0]>o[2]){const p=.5*h;let v=r[0]-o[0]>p?-h:o[0]-r[0]>p?h:0;v===0&&(v=r[0]-o[2]>p?-h:o[2]-r[0]>p?h:0),r[0]+=v}oe(i,r)}function zi(r,i,o,h){const p=Math.pow(2,h.z)*U,v=[h.x*U,h.y*U],T=[];if(!r)return T;for(const R of r)for(const Y of R){const te=[Y.x+v[0],Y.y+v[1]];ri(te,i,o,p),T.push(te)}return T}function In(r,i,o,h){const p=Math.pow(2,h.z)*U,v=[h.x*U,h.y*U],T=[];if(!r)return T;for(const Y of r){const te=[];for(const de of Y){const ve=[de.x+v[0],de.y+v[1]];oe(i,ve),te.push(ve)}T.push(te)}if(i[2]-i[0]<=p/2){(R=i)[0]=R[1]=1/0,R[2]=R[3]=-1/0;for(const Y of T)for(const te of Y)ri(te,i,o,p)}var R;return T}class tn{constructor(i,o){this.type=Wn,this.geojson=i,this.geometries=o}static parse(i,o){if(i.length!==2)return o.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(Ic(i[1])){const h=i[1];if(h.type==="FeatureCollection")for(let p=0;p<h.features.length;++p){const v=h.features[p].geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new tn(h,h.features[p].geometry)}else if(h.type==="Feature"){const p=h.geometry.type;if(p==="Polygon"||p==="MultiPolygon")return new tn(h,h.geometry)}else if(h.type==="Polygon"||h.type==="MultiPolygon")return new tn(h,h)}return o.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(o,h){const p=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],T=o.canonicalID();if(!T)return!1;if(h.type==="Polygon"){const R=bi(h.coordinates,v,T),Y=zi(o.geometry(),p,v,T);if(!ge(p,v))return!1;for(const te of Y)if(!Ve(te,R))return!1}if(h.type==="MultiPolygon"){const R=ti(h.coordinates,v,T),Y=zi(o.geometry(),p,v,T);if(!ge(p,v))return!1;for(const te of Y)if(!Xe(te,R))return!1}return!0}(i,this.geometries);if(i.geometryType()==="LineString")return function(o,h){const p=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],T=o.canonicalID();if(!T)return!1;if(h.type==="Polygon"){const R=bi(h.coordinates,v,T),Y=In(o.geometry(),p,v,T);if(!ge(p,v))return!1;for(const te of Y)if(!Wt(te,R))return!1}if(h.type==="MultiPolygon"){const R=ti(h.coordinates,v,T),Y=In(o.geometry(),p,v,T);if(!ge(p,v))return!1;for(const te of Y)if(!li(te,R))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Ws=tn;function Ds(r){if(r instanceof vo&&(r.name==="get"&&r.args.length===1||r.name==="feature-state"||r.name==="has"&&r.args.length===1||r.name==="properties"||r.name==="geometry-type"||r.name==="id"||/^filter-/.test(r.name))||r instanceof Ws)return!1;let i=!0;return r.eachChild(o=>{i&&!Ds(o)&&(i=!1)}),i}function Yn(r){if(r instanceof vo&&r.name==="feature-state")return!1;let i=!0;return r.eachChild(o=>{i&&!Yn(o)&&(i=!1)}),i}function Xn(r,i){if(r instanceof vo&&i.indexOf(r.name)>=0)return!1;let o=!0;return r.eachChild(h=>{o&&!Xn(h,i)&&(o=!1)}),o}class Dn{constructor(i,o){this.type=o.type,this.name=i,this.boundExpression=o}static parse(i,o){if(i.length!==2||typeof i[1]!="string")return o.error("'var' expression requires exactly one string literal argument.");const h=i[1];return o.scope.has(h)?new Dn(h,o.scope.get(h)):o.error(`Unknown variable "${h}". Make sure "${h}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Ar=Dn;class Qn{constructor(i,o=[],h,p=new uh,v=[]){this.registry=i,this.path=o,this.key=o.map(T=>`[${T}]`).join(""),this.scope=p,this.errors=v,this.expectedType=h}parse(i,o,h,p,v={}){return o?this.concat(o,h,p)._parse(i,v):this._parse(i,v)}_parse(i,o){function h(p,v,T){return T==="assert"?new us(v,[p]):T==="coerce"?new Oo(v,[p]):p}if(i!==null&&typeof i!="string"&&typeof i!="boolean"&&typeof i!="number"||(i=["literal",i]),Array.isArray(i)){if(i.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const p=i[0];if(typeof p!="string")return this.error(`Expression name must be a string, but found ${typeof p} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const v=this.registry[p];if(v){let T=v.parse(i,this);if(!T)return null;if(this.expectedType){const R=this.expectedType,Y=T.type;if(R.kind!=="string"&&R.kind!=="number"&&R.kind!=="boolean"&&R.kind!=="object"&&R.kind!=="array"||Y.kind!=="value")if(R.kind!=="color"&&R.kind!=="formatted"&&R.kind!=="resolvedImage"||Y.kind!=="value"&&Y.kind!=="string"){if(this.checkSubtype(R,Y))return null}else T=h(T,R,o.typeAnnotation||"coerce");else T=h(T,R,o.typeAnnotation||"assert")}if(!(T instanceof ll)&&T.type.kind!=="resolvedImage"&&ca(T)){const R=new Bc;try{T=new ll(T.type,T.evaluate(R))}catch(Y){return this.error(Y.message),null}}return T}return this.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(i===void 0?"'undefined' value invalid. Use null instead.":typeof i=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,o,h){const p=typeof i=="number"?this.path.concat(i):this.path,v=h?this.scope.concat(h):this.scope;return new Qn(this.registry,p,o||null,v,this.errors)}error(i,...o){const h=`${this.key}${o.map(p=>`[${p}]`).join("")}`;this.errors.push(new Kr(h,i))}checkSubtype(i,o){const h=ho(i,o);return h&&this.error(h),h}}var Is=Qn;function ca(r){if(r instanceof Ar)return ca(r.boundExpression);if(r instanceof vo&&r.name==="error"||r instanceof xr||r instanceof Ws)return!1;const i=r instanceof Oo||r instanceof us;let o=!0;return r.eachChild(h=>{o=i?o&&ca(h):o&&h instanceof ll}),!!o&&Ds(r)&&Xn(r,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function hl(r,i){const o=r.length-1;let h,p,v=0,T=o,R=0;for(;v<=T;)if(R=Math.floor((v+T)/2),h=r[R],p=r[R+1],h<=i){if(R===o||i<p)return R;v=R+1}else{if(!(h>i))throw new Mr("Input is not a number.");T=R-1}return 0}class kr{constructor(i,o,h){this.type=i,this.input=o,this.labels=[],this.outputs=[];for(const[p,v]of h)this.labels.push(p),this.outputs.push(v)}static parse(i,o){if(i.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return o.error("Expected an even number of arguments.");const h=o.parse(i[1],1,ji);if(!h)return null;const p=[];let v=null;o.expectedType&&o.expectedType.kind!=="value"&&(v=o.expectedType);for(let T=1;T<i.length;T+=2){const R=T===1?-1/0:i[T],Y=i[T+1],te=T,de=T+1;if(typeof R!="number")return o.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',te);if(p.length&&p[p.length-1][0]>=R)return o.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',te);const ve=o.parse(Y,de,v);if(!ve)return null;v=v||ve.type,p.push([R,ve])}return new kr(v,h,p)}evaluate(i){const o=this.labels,h=this.outputs;if(o.length===1)return h[0].evaluate(i);const p=this.input.evaluate(i);if(p<=o[0])return h[0].evaluate(i);const v=o.length;return p>=o[v-1]?h[v-1].evaluate(i):h[hl(o,p)].evaluate(i)}eachChild(i){i(this.input);for(const o of this.outputs)i(o)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}serialize(){const i=["step",this.input.serialize()];for(let o=0;o<this.labels.length;o++)o>0&&i.push(this.labels[o]),i.push(this.outputs[o].serialize());return i}}var xo=kr;function On(r,i,o){return r*(1-o)+i*o}var Ur=Object.freeze({__proto__:null,number:On,color:function(r,i,o){return new rr(On(r.r,i.r,o),On(r.g,i.g,o),On(r.b,i.b,o),On(r.a,i.a,o))},array:function(r,i,o){return r.map((h,p)=>On(h,i[p],o))}});const bo=.95047,ro=1.08883,Ro=4/29,dl=6/29,Sa=3*dl*dl,zc=Math.PI/180,xs=180/Math.PI;function Bo(r){return r>.008856451679035631?Math.pow(r,1/3):r/Sa+Ro}function ac(r){return r>dl?r*r*r:Sa*(r-Ro)}function ul(r){return 255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function oo(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function pl(r){const i=oo(r.r),o=oo(r.g),h=oo(r.b),p=Bo((.4124564*i+.3575761*o+.1804375*h)/bo),v=Bo((.2126729*i+.7151522*o+.072175*h)/1);return{l:116*v-16,a:500*(p-v),b:200*(v-Bo((.0193339*i+.119192*o+.9503041*h)/ro)),alpha:r.a}}function Il(r){let i=(r.l+16)/116,o=isNaN(r.a)?i:i+r.a/500,h=isNaN(r.b)?i:i-r.b/200;return i=1*ac(i),o=bo*ac(o),h=ro*ac(h),new rr(ul(3.2404542*o-1.5371385*i-.4985314*h),ul(-.969266*o+1.8760108*i+.041556*h),ul(.0556434*o-.2040259*i+1.0572252*h),r.alpha)}function fh(r,i,o){const h=i-r;return r+o*(h>180||h<-180?h-360*Math.round(h/360):h)}const fl={forward:pl,reverse:Il,interpolate:function(r,i,o){return{l:On(r.l,i.l,o),a:On(r.a,i.a,o),b:On(r.b,i.b,o),alpha:On(r.alpha,i.alpha,o)}}},ml={forward:function(r){const{l:i,a:o,b:h}=pl(r),p=Math.atan2(h,o)*xs;return{h:p<0?p+360:p,c:Math.sqrt(o*o+h*h),l:i,alpha:r.a}},reverse:function(r){const i=r.h*zc,o=r.c;return Il({l:r.l,a:Math.cos(i)*o,b:Math.sin(i)*o,alpha:r.alpha})},interpolate:function(r,i,o){return{h:fh(r.h,i.h,o),c:On(r.c,i.c,o),l:On(r.l,i.l,o),alpha:On(r.alpha,i.alpha,o)}}};var Uh=Object.freeze({__proto__:null,lab:fl,hcl:ml});class gl{constructor(i,o,h,p,v){this.type=i,this.operator=o,this.interpolation=h,this.input=p,this.labels=[],this.outputs=[];for(const[T,R]of v)this.labels.push(T),this.outputs.push(R)}static interpolationFactor(i,o,h,p){let v=0;if(i.name==="exponential")v=mh(o,i.base,h,p);else if(i.name==="linear")v=mh(o,1,h,p);else if(i.name==="cubic-bezier"){const T=i.controlPoints;v=new k(T[0],T[1],T[2],T[3]).solve(mh(o,1,h,p))}return v}static parse(i,o){let[h,p,v,...T]=i;if(!Array.isArray(p)||p.length===0)return o.error("Expected an interpolation type expression.",1);if(p[0]==="linear")p={name:"linear"};else if(p[0]==="exponential"){const te=p[1];if(typeof te!="number")return o.error("Exponential interpolation requires a numeric base.",1,1);p={name:"exponential",base:te}}else{if(p[0]!=="cubic-bezier")return o.error(`Unknown interpolation type ${String(p[0])}`,1,0);{const te=p.slice(1);if(te.length!==4||te.some(de=>typeof de!="number"||de<0||de>1))return o.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);p={name:"cubic-bezier",controlPoints:te}}}if(i.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return o.error("Expected an even number of arguments.");if(v=o.parse(v,2,ji),!v)return null;const R=[];let Y=null;h==="interpolate-hcl"||h==="interpolate-lab"?Y=yo:o.expectedType&&o.expectedType.kind!=="value"&&(Y=o.expectedType);for(let te=0;te<T.length;te+=2){const de=T[te],ve=T[te+1],Ee=te+3,Pe=te+4;if(typeof de!="number")return o.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ee);if(R.length&&R[R.length-1][0]>=de)return o.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ee);const Re=o.parse(ve,Pe,Y);if(!Re)return null;Y=Y||Re.type,R.push([de,Re])}return Y.kind==="number"||Y.kind==="color"||Y.kind==="array"&&Y.itemType.kind==="number"&&typeof Y.N=="number"?new gl(Y,h,p,v,R):o.error(`Type ${Ts(Y)} is not interpolatable.`)}evaluate(i){const o=this.labels,h=this.outputs;if(o.length===1)return h[0].evaluate(i);const p=this.input.evaluate(i);if(p<=o[0])return h[0].evaluate(i);const v=o.length;if(p>=o[v-1])return h[v-1].evaluate(i);const T=hl(o,p),R=gl.interpolationFactor(this.interpolation,p,o[T],o[T+1]),Y=h[T].evaluate(i),te=h[T+1].evaluate(i);return this.operator==="interpolate"?Ur[this.type.kind.toLowerCase()](Y,te,R):this.operator==="interpolate-hcl"?ml.reverse(ml.interpolate(ml.forward(Y),ml.forward(te),R)):fl.reverse(fl.interpolate(fl.forward(Y),fl.forward(te),R))}eachChild(i){i(this.input);for(const o of this.outputs)i(o)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}serialize(){let i;i=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const o=[this.operator,i,this.input.serialize()];for(let h=0;h<this.labels.length;h++)o.push(this.labels[h],this.outputs[h].serialize());return o}}function mh(r,i,o,h){const p=h-o,v=r-o;return p===0?0:i===1?v/p:(Math.pow(i,v)-1)/(Math.pow(i,p)-1)}var $o=gl;class Wo{constructor(i,o){this.type=i,this.args=o}static parse(i,o){if(i.length<2)return o.error("Expectected at least one argument.");let h=null;const p=o.expectedType;p&&p.kind!=="value"&&(h=p);const v=[];for(const R of i.slice(1)){const Y=o.parse(R,1+v.length,h,void 0,{typeAnnotation:"omit"});if(!Y)return null;h=h||Y.type,v.push(Y)}const T=p&&v.some(R=>ho(p,R.type));return new Wo(T?Tn:h,v)}evaluate(i){let o,h=null,p=0;for(const v of this.args){if(p++,h=v.evaluate(i),h&&h instanceof Lo&&!h.available&&(o||(o=h),h=null,p===this.args.length))return o;if(h!==null)break}return h}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){const i=["coalesce"];return this.eachChild(o=>{i.push(o.serialize())}),i}}var _l=Wo;class Nc{constructor(i,o){this.type=o.type,this.bindings=[].concat(i),this.result=o}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const o of this.bindings)i(o[1]);i(this.result)}static parse(i,o){if(i.length<4)return o.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const h=[];for(let v=1;v<i.length-1;v+=2){const T=i[v];if(typeof T!="string")return o.error(`Expected string, but found ${typeof T} instead.`,v);if(/[^a-zA-Z0-9_]/.test(T))return o.error("Variable names must contain only alphanumeric characters or '_'.",v);const R=o.parse(i[v+1],v+1);if(!R)return null;h.push([T,R])}const p=o.parse(i[i.length-1],i.length-1,o.expectedType,h);return p?new Nc(h,p):null}outputDefined(){return this.result.outputDefined()}serialize(){const i=["let"];for(const[o,h]of this.bindings)i.push(o,h.serialize());return i.push(this.result.serialize()),i}}var Ll=Nc;class wo{constructor(i,o,h){this.type=i,this.index=o,this.input=h}static parse(i,o){if(i.length!==3)return o.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const h=o.parse(i[1],1,ji),p=o.parse(i[2],2,Er(o.expectedType||Tn));return h&&p?new wo(p.type.itemType,h,p):null}evaluate(i){const o=this.index.evaluate(i),h=this.input.evaluate(i);if(o<0)throw new Mr(`Array index out of bounds: ${o} < 0.`);if(o>=h.length)throw new Mr(`Array index out of bounds: ${o} > ${h.length-1}.`);if(o!==Math.floor(o))throw new Mr(`Array index must be an integer, but found ${o} instead.`);return h[o]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Gr=wo;class Fa{constructor(i,o){this.type=Wn,this.needle=i,this.haystack=o}static parse(i,o){if(i.length!==3)return o.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const h=o.parse(i[1],1,Tn),p=o.parse(i[2],2,Tn);return h&&p?rl(h.type,[Wn,Fn,ji,Or,Tn])?new Fa(h,p):o.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ts(h.type)} instead`):null}evaluate(i){const o=this.needle.evaluate(i),h=this.haystack.evaluate(i);if(h==null)return!1;if(!Io(o,["boolean","string","number","null"]))throw new Mr(`Expected first argument to be of type boolean, string, number or null, but found ${Ts(vr(o))} instead.`);if(!Io(h,["string","array"]))throw new Mr(`Expected second argument to be of type array or string, but found ${Ts(vr(h))} instead.`);return h.indexOf(o)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var yl=Fa;class Ol{constructor(i,o,h){this.type=ji,this.needle=i,this.haystack=o,this.fromIndex=h}static parse(i,o){if(i.length<=2||i.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const h=o.parse(i[1],1,Tn),p=o.parse(i[2],2,Tn);if(!h||!p)return null;if(!rl(h.type,[Wn,Fn,ji,Or,Tn]))return o.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ts(h.type)} instead`);if(i.length===4){const v=o.parse(i[3],3,ji);return v?new Ol(h,p,v):null}return new Ol(h,p)}evaluate(i){const o=this.needle.evaluate(i),h=this.haystack.evaluate(i);if(!Io(o,["boolean","string","number","null"]))throw new Mr(`Expected first argument to be of type boolean, string, number or null, but found ${Ts(vr(o))} instead.`);if(!Io(h,["string","array"]))throw new Mr(`Expected second argument to be of type array or string, but found ${Ts(vr(h))} instead.`);if(this.fromIndex){const p=this.fromIndex.evaluate(i);return h.indexOf(o,p)}return h.indexOf(o)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const i=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),i]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var wd=Ol;class is{constructor(i,o,h,p,v,T){this.inputType=i,this.type=o,this.input=h,this.cases=p,this.outputs=v,this.otherwise=T}static parse(i,o){if(i.length<5)return o.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return o.error("Expected an even number of arguments.");let h,p;o.expectedType&&o.expectedType.kind!=="value"&&(p=o.expectedType);const v={},T=[];for(let te=2;te<i.length-1;te+=2){let de=i[te];const ve=i[te+1];Array.isArray(de)||(de=[de]);const Ee=o.concat(te);if(de.length===0)return Ee.error("Expected at least one branch label.");for(const Re of de){if(typeof Re!="number"&&typeof Re!="string")return Ee.error("Branch labels must be numbers or strings.");if(typeof Re=="number"&&Math.abs(Re)>Number.MAX_SAFE_INTEGER)return Ee.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Re=="number"&&Math.floor(Re)!==Re)return Ee.error("Numeric branch labels must be integer values.");if(h){if(Ee.checkSubtype(h,vr(Re)))return null}else h=vr(Re);if(v[String(Re)]!==void 0)return Ee.error("Branch labels must be unique.");v[String(Re)]=T.length}const Pe=o.parse(ve,te,p);if(!Pe)return null;p=p||Pe.type,T.push(Pe)}const R=o.parse(i[1],1,Tn);if(!R)return null;const Y=o.parse(i[i.length-1],i.length-1,p);return Y?R.type.kind!=="value"&&o.concat(1).checkSubtype(h,R.type)?null:new is(h,p,R,v,T,Y):null}evaluate(i){const o=this.input.evaluate(i);return(vr(o)===this.inputType&&this.outputs[this.cases[o]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}serialize(){const i=["match",this.input.serialize()],o=Object.keys(this.cases).sort(),h=[],p={};for(const T of o){const R=p[this.cases[T]];R===void 0?(p[this.cases[T]]=h.length,h.push([this.cases[T],[T]])):h[R][1].push(T)}const v=T=>this.inputType.kind==="number"?Number(T):T;for(const[T,R]of h)i.push(R.length===1?v(R[0]):R.map(v)),i.push(this.outputs[T].serialize());return i.push(this.otherwise.serialize()),i}}var uo=is;class Vr{constructor(i,o,h){this.type=i,this.branches=o,this.otherwise=h}static parse(i,o){if(i.length<4)return o.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return o.error("Expected an odd number of arguments.");let h;o.expectedType&&o.expectedType.kind!=="value"&&(h=o.expectedType);const p=[];for(let T=1;T<i.length-1;T+=2){const R=o.parse(i[T],T,Wn);if(!R)return null;const Y=o.parse(i[T+1],T+1,h);if(!Y)return null;p.push([R,Y]),h=h||Y.type}const v=o.parse(i[i.length-1],i.length-1,h);return v?new Vr(h,p,v):null}evaluate(i){for(const[o,h]of this.branches)if(o.evaluate(i))return h.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[o,h]of this.branches)i(o),i(h);i(this.otherwise)}outputDefined(){return this.branches.every(([i,o])=>o.outputDefined())&&this.otherwise.outputDefined()}serialize(){const i=["case"];return this.eachChild(o=>{i.push(o.serialize())}),i}}var So=Vr;class ja{constructor(i,o,h,p){this.type=i,this.input=o,this.beginIndex=h,this.endIndex=p}static parse(i,o){if(i.length<=2||i.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const h=o.parse(i[1],1,Tn),p=o.parse(i[2],2,ji);if(!h||!p)return null;if(!rl(h.type,[Er(Tn),Fn,Tn]))return o.error(`Expected first argument to be of type array or string, but found ${Ts(h.type)} instead`);if(i.length===4){const v=o.parse(i[3],3,ji);return v?new ja(h.type,h,p,v):null}return new ja(h.type,h,p)}evaluate(i){const o=this.input.evaluate(i),h=this.beginIndex.evaluate(i);if(!Io(o,["string","array"]))throw new Mr(`Expected first argument to be of type array or string, but found ${Ts(vr(o))} instead.`);if(this.endIndex){const p=this.endIndex.evaluate(i);return o.slice(h,p)}return o.slice(h)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const i=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),i]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Gh=ja;function Vh(r,i){return r==="=="||r==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function Hh(r,i,o,h){return h.compare(i,o)===0}function po(r,i,o){const h=r!=="=="&&r!=="!=";return class P8{constructor(v,T,R){this.type=Wn,this.lhs=v,this.rhs=T,this.collator=R,this.hasUntypedArgument=v.type.kind==="value"||T.type.kind==="value"}static parse(v,T){if(v.length!==3&&v.length!==4)return T.error("Expected two or three arguments.");const R=v[0];let Y=T.parse(v[1],1,Tn);if(!Y)return null;if(!Vh(R,Y.type))return T.concat(1).error(`"${R}" comparisons are not supported for type '${Ts(Y.type)}'.`);let te=T.parse(v[2],2,Tn);if(!te)return null;if(!Vh(R,te.type))return T.concat(2).error(`"${R}" comparisons are not supported for type '${Ts(te.type)}'.`);if(Y.type.kind!==te.type.kind&&Y.type.kind!=="value"&&te.type.kind!=="value")return T.error(`Cannot compare types '${Ts(Y.type)}' and '${Ts(te.type)}'.`);h&&(Y.type.kind==="value"&&te.type.kind!=="value"?Y=new us(te.type,[Y]):Y.type.kind!=="value"&&te.type.kind==="value"&&(te=new us(Y.type,[te])));let de=null;if(v.length===4){if(Y.type.kind!=="string"&&te.type.kind!=="string"&&Y.type.kind!=="value"&&te.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(de=T.parse(v[3],3,Dl),!de)return null}return new P8(Y,te,de)}evaluate(v){const T=this.lhs.evaluate(v),R=this.rhs.evaluate(v);if(h&&this.hasUntypedArgument){const Y=vr(T),te=vr(R);if(Y.kind!==te.kind||Y.kind!=="string"&&Y.kind!=="number")throw new Mr(`Expected arguments for "${r}" to be (string, string) or (number, number), but found (${Y.kind}, ${te.kind}) instead.`)}if(this.collator&&!h&&this.hasUntypedArgument){const Y=vr(T),te=vr(R);if(Y.kind!=="string"||te.kind!=="string")return i(v,T,R)}return this.collator?o(v,T,R,this.collator.evaluate(v)):i(v,T,R)}eachChild(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)}outputDefined(){return!0}serialize(){const v=[r];return this.eachChild(T=>{v.push(T.serialize())}),v}}}const Bt=po("==",function(r,i,o){return i===o},Hh),pi=po("!=",function(r,i,o){return i!==o},function(r,i,o,h){return!Hh(0,i,o,h)}),oi=po("<",function(r,i,o){return i<o},function(r,i,o,h){return h.compare(i,o)<0}),nn=po(">",function(r,i,o){return i>o},function(r,i,o,h){return h.compare(i,o)>0}),Rn=po("<=",function(r,i,o){return i<=o},function(r,i,o,h){return h.compare(i,o)<=0}),gs=po(">=",function(r,i,o){return i>=o},function(r,i,o,h){return h.compare(i,o)>=0});class pr{constructor(i,o,h,p,v,T){this.type=Fn,this.number=i,this.locale=o,this.currency=h,this.unit=p,this.minFractionDigits=v,this.maxFractionDigits=T}static parse(i,o){if(i.length!==3)return o.error("Expected two arguments.");const h=o.parse(i[1],1,ji);if(!h)return null;const p=i[2];if(typeof p!="object"||Array.isArray(p))return o.error("NumberFormat options argument must be an object.");let v=null;if(p.locale&&(v=o.parse(p.locale,1,Fn),!v))return null;let T=null;if(p.currency&&(T=o.parse(p.currency,1,Fn),!T))return null;let R=null;if(p.unit&&(R=o.parse(p.unit,1,Fn),!R))return null;let Y=null;if(p["min-fraction-digits"]&&(Y=o.parse(p["min-fraction-digits"],1,ji),!Y))return null;let te=null;return p["max-fraction-digits"]&&(te=o.parse(p["max-fraction-digits"],1,ji),!te)?null:new pr(h,v,T,R,Y,te)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(i):void 0,unit:this.unit?this.unit.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.unit&&i(this.unit),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const i={};return this.locale&&(i.locale=this.locale.serialize()),this.currency&&(i.currency=this.currency.serialize()),this.unit&&(i.unit=this.unit.serialize()),this.minFractionDigits&&(i["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(i["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),i]}}class bs{constructor(i){this.type=ji,this.input=i}static parse(i,o){if(i.length!==2)return o.error(`Expected 1 argument, but found ${i.length-1} instead.`);const h=o.parse(i[1],1);return h?h.type.kind!=="array"&&h.type.kind!=="string"&&h.type.kind!=="value"?o.error(`Expected argument of type string or array, but found ${Ts(h.type)} instead.`):new bs(h):null}evaluate(i){const o=this.input.evaluate(i);if(typeof o=="string"||Array.isArray(o))return o.length;throw new Mr(`Expected value to be of type string or array, but found ${Ts(vr(o))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}serialize(){const i=["length"];return this.eachChild(o=>{i.push(o.serialize())}),i}}const Rl={"==":Bt,"!=":pi,">":nn,"<":oi,">=":gs,"<=":Rn,array:us,at:Gr,boolean:us,case:So,coalesce:_l,collator:xr,format:vs,image:Rc,in:yl,"index-of":wd,interpolate:$o,"interpolate-hcl":$o,"interpolate-lab":$o,length:bs,let:Ll,literal:ll,match:uo,number:us,"number-format":pr,object:us,slice:Gh,step:xo,string:us,"to-boolean":Oo,"to-color":Oo,"to-number":Oo,"to-string":Oo,var:Ar,within:Ws};function Fc(r,[i,o,h,p]){i=i.evaluate(r),o=o.evaluate(r),h=h.evaluate(r);const v=p?p.evaluate(r):1,T=Fh(i,o,h,v);if(T)throw new Mr(T);return new rr(i/255*v,o/255*v,h/255*v,v)}function fo(r,i){return r in i}function tt(r,i){const o=i[r];return o===void 0?null:o}function Tt(r){return{type:r}}vo.register(Rl,{error:[{kind:"error"},[Fn],(r,[i])=>{throw new Mr(i.evaluate(r))}],typeof:[Fn,[Tn],(r,[i])=>Ts(vr(i.evaluate(r)))],"to-rgba":[Er(ji,4),[yo],(r,[i])=>i.evaluate(r).toArray()],rgb:[yo,[ji,ji,ji],Fc],rgba:[yo,[ji,ji,ji,ji],Fc],has:{type:Wn,overloads:[[[Fn],(r,[i])=>fo(i.evaluate(r),r.properties())],[[Fn,la],(r,[i,o])=>fo(i.evaluate(r),o.evaluate(r))]]},get:{type:Tn,overloads:[[[Fn],(r,[i])=>tt(i.evaluate(r),r.properties())],[[Fn,la],(r,[i,o])=>tt(i.evaluate(r),o.evaluate(r))]]},"feature-state":[Tn,[Fn],(r,[i])=>tt(i.evaluate(r),r.featureState||{})],properties:[la,[],r=>r.properties()],"geometry-type":[Fn,[],r=>r.geometryType()],id:[Tn,[],r=>r.id()],zoom:[ji,[],r=>r.globals.zoom],pitch:[ji,[],r=>r.globals.pitch||0],"distance-from-center":[ji,[],r=>r.distanceFromCenter()],"heatmap-density":[ji,[],r=>r.globals.heatmapDensity||0],"line-progress":[ji,[],r=>r.globals.lineProgress||0],"sky-radial-progress":[ji,[],r=>r.globals.skyRadialProgress||0],accumulated:[Tn,[],r=>r.globals.accumulated===void 0?null:r.globals.accumulated],"+":[ji,Tt(ji),(r,i)=>{let o=0;for(const h of i)o+=h.evaluate(r);return o}],"*":[ji,Tt(ji),(r,i)=>{let o=1;for(const h of i)o*=h.evaluate(r);return o}],"-":{type:ji,overloads:[[[ji,ji],(r,[i,o])=>i.evaluate(r)-o.evaluate(r)],[[ji],(r,[i])=>-i.evaluate(r)]]},"/":[ji,[ji,ji],(r,[i,o])=>i.evaluate(r)/o.evaluate(r)],"%":[ji,[ji,ji],(r,[i,o])=>i.evaluate(r)%o.evaluate(r)],ln2:[ji,[],()=>Math.LN2],pi:[ji,[],()=>Math.PI],e:[ji,[],()=>Math.E],"^":[ji,[ji,ji],(r,[i,o])=>Math.pow(i.evaluate(r),o.evaluate(r))],sqrt:[ji,[ji],(r,[i])=>Math.sqrt(i.evaluate(r))],log10:[ji,[ji],(r,[i])=>Math.log(i.evaluate(r))/Math.LN10],ln:[ji,[ji],(r,[i])=>Math.log(i.evaluate(r))],log2:[ji,[ji],(r,[i])=>Math.log(i.evaluate(r))/Math.LN2],sin:[ji,[ji],(r,[i])=>Math.sin(i.evaluate(r))],cos:[ji,[ji],(r,[i])=>Math.cos(i.evaluate(r))],tan:[ji,[ji],(r,[i])=>Math.tan(i.evaluate(r))],asin:[ji,[ji],(r,[i])=>Math.asin(i.evaluate(r))],acos:[ji,[ji],(r,[i])=>Math.acos(i.evaluate(r))],atan:[ji,[ji],(r,[i])=>Math.atan(i.evaluate(r))],min:[ji,Tt(ji),(r,i)=>Math.min(...i.map(o=>o.evaluate(r)))],max:[ji,Tt(ji),(r,i)=>Math.max(...i.map(o=>o.evaluate(r)))],abs:[ji,[ji],(r,[i])=>Math.abs(i.evaluate(r))],round:[ji,[ji],(r,[i])=>{const o=i.evaluate(r);return o<0?-Math.round(-o):Math.round(o)}],floor:[ji,[ji],(r,[i])=>Math.floor(i.evaluate(r))],ceil:[ji,[ji],(r,[i])=>Math.ceil(i.evaluate(r))],"filter-==":[Wn,[Fn,Tn],(r,[i,o])=>r.properties()[i.value]===o.value],"filter-id-==":[Wn,[Tn],(r,[i])=>r.id()===i.value],"filter-type-==":[Wn,[Fn],(r,[i])=>r.geometryType()===i.value],"filter-<":[Wn,[Fn,Tn],(r,[i,o])=>{const h=r.properties()[i.value],p=o.value;return typeof h==typeof p&&h<p}],"filter-id-<":[Wn,[Tn],(r,[i])=>{const o=r.id(),h=i.value;return typeof o==typeof h&&o<h}],"filter->":[Wn,[Fn,Tn],(r,[i,o])=>{const h=r.properties()[i.value],p=o.value;return typeof h==typeof p&&h>p}],"filter-id->":[Wn,[Tn],(r,[i])=>{const o=r.id(),h=i.value;return typeof o==typeof h&&o>h}],"filter-<=":[Wn,[Fn,Tn],(r,[i,o])=>{const h=r.properties()[i.value],p=o.value;return typeof h==typeof p&&h<=p}],"filter-id-<=":[Wn,[Tn],(r,[i])=>{const o=r.id(),h=i.value;return typeof o==typeof h&&o<=h}],"filter->=":[Wn,[Fn,Tn],(r,[i,o])=>{const h=r.properties()[i.value],p=o.value;return typeof h==typeof p&&h>=p}],"filter-id->=":[Wn,[Tn],(r,[i])=>{const o=r.id(),h=i.value;return typeof o==typeof h&&o>=h}],"filter-has":[Wn,[Tn],(r,[i])=>i.value in r.properties()],"filter-has-id":[Wn,[],r=>r.id()!==null&&r.id()!==void 0],"filter-type-in":[Wn,[Er(Fn)],(r,[i])=>i.value.indexOf(r.geometryType())>=0],"filter-id-in":[Wn,[Er(Tn)],(r,[i])=>i.value.indexOf(r.id())>=0],"filter-in-small":[Wn,[Fn,Er(Tn)],(r,[i,o])=>o.value.indexOf(r.properties()[i.value])>=0],"filter-in-large":[Wn,[Fn,Er(Tn)],(r,[i,o])=>function(h,p,v,T){for(;v<=T;){const R=v+T>>1;if(p[R]===h)return!0;p[R]>h?T=R-1:v=R+1}return!1}(r.properties()[i.value],o.value,0,o.value.length-1)],all:{type:Wn,overloads:[[[Wn,Wn],(r,[i,o])=>i.evaluate(r)&&o.evaluate(r)],[Tt(Wn),(r,i)=>{for(const o of i)if(!o.evaluate(r))return!1;return!0}]]},any:{type:Wn,overloads:[[[Wn,Wn],(r,[i,o])=>i.evaluate(r)||o.evaluate(r)],[Tt(Wn),(r,i)=>{for(const o of i)if(o.evaluate(r))return!0;return!1}]]},"!":[Wn,[Wn],(r,[i])=>!i.evaluate(r)],"is-supported-script":[Wn,[Fn],(r,[i])=>{const o=r.globals&&r.globals.isSupportedScript;return!o||o(i.evaluate(r))}],upcase:[Fn,[Fn],(r,[i])=>i.evaluate(r).toUpperCase()],downcase:[Fn,[Fn],(r,[i])=>i.evaluate(r).toLowerCase()],concat:[Fn,Tt(Tn),(r,i)=>i.map(o=>al(o.evaluate(r))).join("")],"resolved-locale":[Fn,[Dl],(r,[i])=>i.evaluate(r).resolvedLocale()]});var Lt=Rl;function fi(r){return{result:"success",value:r}}function zt(r){return{result:"error",value:r}}function ni(r){return r["property-type"]==="data-driven"}function Ci(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function $i(r){return!!r.expression&&r.expression.interpolated}function Pi(r){return r instanceof Number?"number":r instanceof String?"string":r instanceof Boolean?"boolean":Array.isArray(r)?"array":r===null?"null":typeof r}function bn(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function En(r){return r}function Mn(r,i){const o=i.type==="color",h=r.stops&&typeof r.stops[0][0]=="object",p=h||!(h||r.property!==void 0),v=r.type||($i(i)?"exponential":"interval");if(o&&((r=$s({},r)).stops&&(r.stops=r.stops.map(te=>[te[0],rr.parse(te[1])])),r.default=rr.parse(r.default?r.default:i.default)),r.colorSpace&&r.colorSpace!=="rgb"&&!Uh[r.colorSpace])throw new Error(`Unknown color space: ${r.colorSpace}`);let T,R,Y;if(v==="exponential")T=_e;else if(v==="interval")T=yn;else if(v==="categorical"){T=os,R=Object.create(null);for(const te of r.stops)R[te[0]]=te[1];Y=typeof r.stops[0][0]}else{if(v!=="identity")throw new Error(`Unknown function type "${v}"`);T=we}if(h){const te={},de=[];for(let Pe=0;Pe<r.stops.length;Pe++){const Re=r.stops[Pe],He=Re[0].zoom;te[He]===void 0&&(te[He]={zoom:He,type:r.type,property:r.property,default:r.default,stops:[]},de.push(He)),te[He].stops.push([Re[0].value,Re[1]])}const ve=[];for(const Pe of de)ve.push([te[Pe].zoom,Mn(te[Pe],i)]);const Ee={name:"linear"};return{kind:"composite",interpolationType:Ee,interpolationFactor:$o.interpolationFactor.bind(void 0,Ee),zoomStops:ve.map(Pe=>Pe[0]),evaluate:({zoom:Pe},Re)=>_e({stops:ve,base:r.base},i,Pe).evaluate(Pe,Re)}}if(p){const te=v==="exponential"?{name:"exponential",base:r.base!==void 0?r.base:1}:null;return{kind:"camera",interpolationType:te,interpolationFactor:$o.interpolationFactor.bind(void 0,te),zoomStops:r.stops.map(de=>de[0]),evaluate:({zoom:de})=>T(r,i,de,R,Y)}}return{kind:"source",evaluate(te,de){const ve=de&&de.properties?de.properties[r.property]:void 0;return ve===void 0?jn(r.default,i.default):T(r,i,ve,R,Y)}}}function jn(r,i,o){return r!==void 0?r:i!==void 0?i:o!==void 0?o:void 0}function os(r,i,o,h,p){return jn(typeof o===p?h[o]:void 0,r.default,i.default)}function yn(r,i,o){if(Pi(o)!=="number")return jn(r.default,i.default);const h=r.stops.length;if(h===1||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[h-1][0])return r.stops[h-1][1];const p=hl(r.stops.map(v=>v[0]),o);return r.stops[p][1]}function _e(r,i,o){const h=r.base!==void 0?r.base:1;if(Pi(o)!=="number")return jn(r.default,i.default);const p=r.stops.length;if(p===1||o<=r.stops[0][0])return r.stops[0][1];if(o>=r.stops[p-1][0])return r.stops[p-1][1];const v=hl(r.stops.map(de=>de[0]),o),T=function(de,ve,Ee,Pe){const Re=Pe-Ee,He=de-Ee;return Re===0?0:ve===1?He/Re:(Math.pow(ve,He)-1)/(Math.pow(ve,Re)-1)}(o,h,r.stops[v][0],r.stops[v+1][0]),R=r.stops[v][1],Y=r.stops[v+1][1];let te=Ur[i.type]||En;if(r.colorSpace&&r.colorSpace!=="rgb"){const de=Uh[r.colorSpace];te=(ve,Ee)=>de.reverse(de.interpolate(de.forward(ve),de.forward(Ee),T))}return typeof R.evaluate=="function"?{evaluate(...de){const ve=R.evaluate.apply(void 0,de),Ee=Y.evaluate.apply(void 0,de);if(ve!==void 0&&Ee!==void 0)return te(ve,Ee,T)}}:te(R,Y,T)}function we(r,i,o){return i.type==="color"?o=rr.parse(o):i.type==="formatted"?o=Cr.fromString(o.toString()):i.type==="resolvedImage"?o=Lo.fromString(o.toString()):Pi(o)===i.type||i.type==="enum"&&i.values[o]||(o=void 0),jn(o,r.default,i.default)}class je{constructor(i,o){this.expression=i,this._warningHistory={},this._evaluator=new Bc,this._defaultValue=o?function(h){return h.type==="color"&&(bn(h.default)||Array.isArray(h.default))?new rr(0,0,0,0):h.type==="color"?rr.parse(h.default)||null:h.default===void 0?null:h.default}(o):null,this._enumValues=o&&o.type==="enum"?o.values:null}evaluateWithoutErrorHandling(i,o,h,p,v,T,R,Y){return this._evaluator.globals=i,this._evaluator.feature=o,this._evaluator.featureState=h,this._evaluator.canonical=p||null,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=T,this._evaluator.featureTileCoord=R||null,this._evaluator.featureDistanceData=Y||null,this.expression.evaluate(this._evaluator)}evaluate(i,o,h,p,v,T,R,Y){this._evaluator.globals=i,this._evaluator.feature=o||null,this._evaluator.featureState=h||null,this._evaluator.canonical=p||null,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=T||null,this._evaluator.featureTileCoord=R||null,this._evaluator.featureDistanceData=Y||null;try{const te=this.expression.evaluate(this._evaluator);if(te==null||typeof te=="number"&&te!=te)return this._defaultValue;if(this._enumValues&&!(te in this._enumValues))throw new Mr(`Expected value to be one of ${Object.keys(this._enumValues).map(de=>JSON.stringify(de)).join(", ")}, but found ${JSON.stringify(te)} instead.`);return te}catch(te){return this._warningHistory[te.message]||(this._warningHistory[te.message]=!0,typeof console<"u"&&console.warn(te.message)),this._defaultValue}}}function yt(r){return Array.isArray(r)&&r.length>0&&typeof r[0]=="string"&&r[0]in Lt}function yi(r,i){const o=new Is(Lt,[],i?function(p){const v={color:yo,string:Fn,number:ji,enum:Fn,boolean:Wn,formatted:Ho,resolvedImage:xa};return p.type==="array"?Er(v[p.value]||Tn,p.length):v[p.type]}(i):void 0),h=o.parse(r,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?fi(new je(h,i)):zt(o.errors)}class dn{constructor(i,o){this.kind=i,this._styleExpression=o,this.isStateDependent=i!=="constant"&&!Yn(o.expression)}evaluateWithoutErrorHandling(i,o,h,p,v,T){return this._styleExpression.evaluateWithoutErrorHandling(i,o,h,p,v,T)}evaluate(i,o,h,p,v,T){return this._styleExpression.evaluate(i,o,h,p,v,T)}}class ns{constructor(i,o,h,p){this.kind=i,this.zoomStops=h,this._styleExpression=o,this.isStateDependent=i!=="camera"&&!Yn(o.expression),this.interpolationType=p}evaluateWithoutErrorHandling(i,o,h,p,v,T){return this._styleExpression.evaluateWithoutErrorHandling(i,o,h,p,v,T)}evaluate(i,o,h,p,v,T){return this._styleExpression.evaluate(i,o,h,p,v,T)}interpolationFactor(i,o,h){return this.interpolationType?$o.interpolationFactor(this.interpolationType,i,o,h):0}}function Pr(r,i){if((r=yi(r,i)).result==="error")return r;const o=r.value.expression,h=Ds(o);if(!h&&!ni(i))return zt([new Kr("","data expressions not supported")]);const p=Xn(o,["zoom","pitch","distance-from-center"]);if(!p&&!Ci(i))return zt([new Kr("","zoom expressions not supported")]);const v=Ua(o);return v||p?v instanceof Kr?zt([v]):v instanceof $o&&!$i(i)?zt([new Kr("",'"interpolate" expressions cannot be used with this property')]):fi(v?new ns(h?"camera":"composite",r.value,v.labels,v instanceof $o?v.interpolation:void 0):new dn(h?"constant":"source",r.value)):zt([new Kr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class fr{constructor(i,o){this._parameters=i,this._specification=o,$s(this,Mn(this._parameters,this._specification))}static deserialize(i){return new fr(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function Ua(r){let i=null;if(r instanceof Ll)i=Ua(r.result);else if(r instanceof _l){for(const o of r.args)if(i=Ua(o),i)break}else(r instanceof xo||r instanceof $o)&&r.input instanceof vo&&r.input.name==="zoom"&&(i=r);return i instanceof Kr||r.eachChild(o=>{const h=Ua(o);h instanceof Kr?i=h:!i&&h?i=new Kr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&h&&i!==h&&(i=new Kr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}class Wi{constructor(i,o,h,p){this.message=(i?`${i}: `:"")+h,p&&(this.identifier=p),o!=null&&o.__line__&&(this.line=o.__line__)}}function Ga(r){const i=r.key,o=r.value,h=r.valueSpec||{},p=r.objectElementValidators||{},v=r.style,T=r.styleSpec;let R=[];const Y=Pi(o);if(Y!=="object")return[new Wi(i,o,`object expected, ${Y} found`)];for(const te in o){const de=te.split(".")[0],ve=h[de]||h["*"];let Ee;p[de]?Ee=p[de]:h[de]?Ee=Bn:p["*"]?Ee=p["*"]:h["*"]&&(Ee=Bn),Ee?R=R.concat(Ee({key:(i&&`${i}.`)+te,value:o[te],valueSpec:ve,style:v,styleSpec:T,object:o,objectKey:te},o)):R.push(new Wi(i,o[te],`unknown property "${te}"`))}for(const te in h)p[te]||h[te].required&&h[te].default===void 0&&o[te]===void 0&&R.push(new Wi(i,o,`missing required property "${te}"`));return R}function jc(r){const i=r.value,o=r.valueSpec,h=r.style,p=r.styleSpec,v=r.key,T=r.arrayElementValidator||Bn;if(Pi(i)!=="array")return[new Wi(v,i,`array expected, ${Pi(i)} found`)];if(o.length&&i.length!==o.length)return[new Wi(v,i,`array length ${o.length} expected, length ${i.length} found`)];if(o["min-length"]&&i.length<o["min-length"])return[new Wi(v,i,`array length at least ${o["min-length"]} expected, length ${i.length} found`)];let R={type:o.value,values:o.values,minimum:o.minimum,maximum:o.maximum,function:void 0};p.$version<7&&(R.function=o.function),Pi(o.value)==="object"&&(R=o.value);let Y=[];for(let te=0;te<i.length;te++)Y=Y.concat(T({array:i,arrayIndex:te,value:i[te],valueSpec:R,style:h,styleSpec:p,key:`${v}[${te}]`}));return Y}function Sd(r){const i=r.key,o=r.value,h=r.valueSpec;let p=Pi(o);if(p==="number"&&o!=o&&(p="NaN"),p!=="number")return[new Wi(i,o,`number expected, ${p} found`)];if("minimum"in h){let v=h.minimum;if(Pi(h.minimum)==="array"&&(v=h.minimum[r.arrayIndex]),o<v)return[new Wi(i,o,`${o} is less than the minimum value ${v}`)]}if("maximum"in h){let v=h.maximum;if(Pi(h.maximum)==="array"&&(v=h.maximum[r.arrayIndex]),o>v)return[new Wi(i,o,`${o} is greater than the maximum value ${v}`)]}return[]}function pu(r){const i=r.valueSpec,o=lr(r.value.type);let h,p,v,T={};const R=o!=="categorical"&&r.value.property===void 0,Y=!R,te=Pi(r.value.stops)==="array"&&Pi(r.value.stops[0])==="array"&&Pi(r.value.stops[0][0])==="object",de=Ga({key:r.key,value:r.value,valueSpec:r.styleSpec.function,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{stops:function(Pe){if(o==="identity")return[new Wi(Pe.key,Pe.value,'identity function may not have a "stops" property')];let Re=[];const He=Pe.value;return Re=Re.concat(jc({key:Pe.key,value:He,valueSpec:Pe.valueSpec,style:Pe.style,styleSpec:Pe.styleSpec,arrayElementValidator:ve})),Pi(He)==="array"&&He.length===0&&Re.push(new Wi(Pe.key,He,"array must have at least one stop")),Re},default:function(Pe){return Bn({key:Pe.key,value:Pe.value,valueSpec:i,style:Pe.style,styleSpec:Pe.styleSpec})}}});return o==="identity"&&R&&de.push(new Wi(r.key,r.value,'missing required property "property"')),o==="identity"||r.value.stops||de.push(new Wi(r.key,r.value,'missing required property "stops"')),o==="exponential"&&r.valueSpec.expression&&!$i(r.valueSpec)&&de.push(new Wi(r.key,r.value,"exponential functions not supported")),r.styleSpec.$version>=8&&(Y&&!ni(r.valueSpec)?de.push(new Wi(r.key,r.value,"property functions not supported")):R&&!Ci(r.valueSpec)&&de.push(new Wi(r.key,r.value,"zoom functions not supported"))),o!=="categorical"&&!te||r.value.property!==void 0||de.push(new Wi(r.key,r.value,'"property" property is required')),de;function ve(Pe){let Re=[];const He=Pe.value,Ke=Pe.key;if(Pi(He)!=="array")return[new Wi(Ke,He,`array expected, ${Pi(He)} found`)];if(He.length!==2)return[new Wi(Ke,He,`array length 2 expected, length ${He.length} found`)];if(te){if(Pi(He[0])!=="object")return[new Wi(Ke,He,`object expected, ${Pi(He[0])} found`)];if(He[0].zoom===void 0)return[new Wi(Ke,He,"object stop key must have zoom")];if(He[0].value===void 0)return[new Wi(Ke,He,"object stop key must have value")];const mt=lr(He[0].zoom);if(typeof mt!="number")return[new Wi(Ke,He[0].zoom,"stop zoom values must be numbers")];if(v&&v>mt)return[new Wi(Ke,He[0].zoom,"stop zoom values must appear in ascending order")];mt!==v&&(v=mt,p=void 0,T={}),Re=Re.concat(Ga({key:`${Ke}[0]`,value:He[0],valueSpec:{zoom:{}},style:Pe.style,styleSpec:Pe.styleSpec,objectElementValidators:{zoom:Sd,value:Ee}}))}else Re=Re.concat(Ee({key:`${Ke}[0]`,value:He[0],valueSpec:{},style:Pe.style,styleSpec:Pe.styleSpec},He));return yt(cr(He[1]))?Re.concat([new Wi(`${Ke}[1]`,He[1],"expressions are not allowed in function stops.")]):Re.concat(Bn({key:`${Ke}[1]`,value:He[1],valueSpec:i,style:Pe.style,styleSpec:Pe.styleSpec}))}function Ee(Pe,Re){const He=Pi(Pe.value),Ke=lr(Pe.value),mt=Pe.value!==null?Pe.value:Re;if(h){if(He!==h)return[new Wi(Pe.key,mt,`${He} stop domain type must match previous stop domain type ${h}`)]}else h=He;if(He!=="number"&&He!=="string"&&He!=="boolean"&&typeof Ke!="number"&&typeof Ke!="string"&&typeof Ke!="boolean")return[new Wi(Pe.key,mt,"stop domain value must be a number, string, or boolean")];if(He!=="number"&&o!=="categorical"){let Et=`number expected, ${He} found`;return ni(i)&&o===void 0&&(Et+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Wi(Pe.key,mt,Et)]}return o!=="categorical"||He!=="number"||typeof Ke=="number"&&isFinite(Ke)&&Math.floor(Ke)===Ke?o!=="categorical"&&He==="number"&&typeof Ke=="number"&&typeof p=="number"&&p!==void 0&&Ke<p?[new Wi(Pe.key,mt,"stop domain values must appear in ascending order")]:(p=Ke,o==="categorical"&&Ke in T?[new Wi(Pe.key,mt,"stop domain values must be unique")]:(T[Ke]=!0,[])):[new Wi(Pe.key,mt,`integer expected, found ${String(Ke)}`)]}}function $h(r){const i=(r.expressionContext==="property"?Pr:yi)(cr(r.value),r.valueSpec);if(i.result==="error")return i.value.map(h=>new Wi(`${r.key}${h.key}`,r.value,h.message));const o=i.value.expression||i.value._styleExpression.expression;if(r.expressionContext==="property"&&r.propertyKey==="text-font"&&!o.outputDefined())return[new Wi(r.key,r.value,`Invalid data expression for "${r.propertyKey}". Output values must be contained as literals within the expression.`)];if(r.expressionContext==="property"&&r.propertyType==="layout"&&!Yn(o))return[new Wi(r.key,r.value,'"feature-state" data expressions are not supported with layout properties.')];if(r.expressionContext==="filter")return bp(o,r);if(r.expressionContext&&r.expressionContext.indexOf("cluster")===0){if(!Xn(o,["zoom","feature-state"]))return[new Wi(r.key,r.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(r.expressionContext==="cluster-initial"&&!Ds(o))return[new Wi(r.key,r.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function bp(r,i){const o=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(i.valueSpec&&i.valueSpec.expression)for(const p of i.valueSpec.expression.parameters)o.delete(p);if(o.size===0)return[];const h=[];return r instanceof vo&&o.has(r.name)?[new Wi(i.key,i.value,`["${r.name}"] expression is not supported in a filter for a ${i.object.type} layer with id: ${i.object.id}`)]:(r.eachChild(p=>{h.push(...bp(p,i))}),h)}function fu(r){const i=r.key,o=r.value,h=r.valueSpec,p=[];return Array.isArray(h.values)?h.values.indexOf(lr(o))===-1&&p.push(new Wi(i,o,`expected one of [${h.values.join(", ")}], ${JSON.stringify(o)} found`)):Object.keys(h.values).indexOf(lr(o))===-1&&p.push(new Wi(i,o,`expected one of [${Object.keys(h.values).join(", ")}], ${JSON.stringify(o)} found`)),p}function Wh(r){if(r===!0||r===!1)return!0;if(!Array.isArray(r)||r.length===0)return!1;switch(r[0]){case"has":return r.length>=2&&r[1]!=="$id"&&r[1]!=="$type";case"in":return r.length>=3&&(typeof r[1]!="string"||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return r.length!==3||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(const i of r.slice(1))if(!Wh(i)&&typeof i!="boolean")return!1;return!0;default:return!0}}function mr(r,i="fill"){if(r==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Wh(r)||(r=Bl(r));const o=r;let h=!0;try{h=function(te){if(!qh(te))return te;let de=cr(te);return Td(de),de=qs(de),de}(o)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(o,null,2)}
        `)}const p=ai[`filter_${i}`],v=yi(h,p);let T=null;if(v.result==="error")throw new Error(v.value.map(te=>`${te.key}: ${te.message}`).join(", "));T=(te,de,ve)=>v.value.evaluate(te,de,{},ve);let R=null,Y=null;if(h!==o){const te=yi(o,p);if(te.result==="error")throw new Error(te.value.map(de=>`${de.key}: ${de.message}`).join(", "));R=(de,ve,Ee,Pe,Re)=>te.value.evaluate(de,ve,{},Ee,void 0,void 0,Pe,Re),Y=!Ds(te.value.expression)}return{filter:T,dynamicFilter:R||void 0,needGeometry:mu(h),needFeature:!!Y}}function qs(r){if(!Array.isArray(r))return r;const i=function(o){if(qf.has(o[0])){for(let h=1;h<o.length;h++)if(qh(o[h]))return!0}return o}(r);return i===!0?i:i.map(o=>qs(o))}function Td(r){let i=!1;const o=[];if(r[0]==="case"){for(let h=1;h<r.length-1;h+=2)i=i||qh(r[h]),o.push(r[h+1]);o.push(r[r.length-1])}else if(r[0]==="match"){i=i||qh(r[1]);for(let h=2;h<r.length-1;h+=2)o.push(r[h+1]);o.push(r[r.length-1])}else if(r[0]==="step"){i=i||qh(r[1]);for(let h=1;h<r.length-1;h+=2)o.push(r[h+1])}i&&(r.length=0,r.push("any",...o));for(let h=1;h<r.length;h++)Td(r[h])}function qh(r){if(!Array.isArray(r))return!1;if((i=r[0])==="pitch"||i==="distance-from-center")return!0;var i;for(let o=1;o<r.length;o++)if(qh(r[o]))return!0;return!1}const qf=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Lm(r,i){return r<i?-1:r>i?1:0}function mu(r){if(!Array.isArray(r))return!1;if(r[0]==="within")return!0;for(let i=1;i<r.length;i++)if(mu(r[i]))return!0;return!1}function Bl(r){if(!r)return!0;const i=r[0];return r.length<=1?i!=="any":i==="=="?Ed(r[1],r[2],"=="):i==="!="?Uc(Ed(r[1],r[2],"==")):i==="<"||i===">"||i==="<="||i===">="?Ed(r[1],r[2],i):i==="any"?(o=r.slice(1),["any"].concat(o.map(Bl))):i==="all"?["all"].concat(r.slice(1).map(Bl)):i==="none"?["all"].concat(r.slice(1).map(Bl).map(Uc)):i==="in"?lc(r[1],r.slice(2)):i==="!in"?Uc(lc(r[1],r.slice(2))):i==="has"?Yh(r[1]):i==="!has"?Uc(Yh(r[1])):i!=="within"||r;var o}function Ed(r,i,o){switch(r){case"$type":return[`filter-type-${o}`,i];case"$id":return[`filter-id-${o}`,i];default:return[`filter-${o}`,r,i]}}function lc(r,i){if(i.length===0)return!1;switch(r){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(o=>typeof o!=typeof i[0])?["filter-in-large",r,["literal",i.sort(Lm)]]:["filter-in-small",r,["literal",i]]}}function Yh(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function Uc(r){return["!",r]}function Gc(r){return Wh(cr(r.value))?$h($s({},r,{expressionContext:"filter",valueSpec:r.styleSpec[`filter_${r.layerType||"fill"}`]})):gh(r)}function gh(r){const i=r.value,o=r.key;if(Pi(i)!=="array")return[new Wi(o,i,`array expected, ${Pi(i)} found`)];const h=r.styleSpec;let p,v=[];if(i.length<1)return[new Wi(o,i,"filter array must have at least 1 element")];switch(v=v.concat(fu({key:`${o}[0]`,value:i[0],valueSpec:h.filter_operator,style:r.style,styleSpec:r.styleSpec})),lr(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&lr(i[1])==="$type"&&v.push(new Wi(o,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":i.length!==3&&v.push(new Wi(o,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(p=Pi(i[1]),p!=="string"&&v.push(new Wi(`${o}[1]`,i[1],`string expected, ${p} found`)));for(let T=2;T<i.length;T++)p=Pi(i[T]),lr(i[1])==="$type"?v=v.concat(fu({key:`${o}[${T}]`,value:i[T],valueSpec:h.geometry_type,style:r.style,styleSpec:r.styleSpec})):p!=="string"&&p!=="number"&&p!=="boolean"&&v.push(new Wi(`${o}[${T}]`,i[T],`string, number, or boolean expected, ${p} found`));break;case"any":case"all":case"none":for(let T=1;T<i.length;T++)v=v.concat(gh({key:`${o}[${T}]`,value:i[T],style:r.style,styleSpec:r.styleSpec}));break;case"has":case"!has":p=Pi(i[1]),i.length!==2?v.push(new Wi(o,i,`filter array for "${i[0]}" operator must have 2 elements`)):p!=="string"&&v.push(new Wi(`${o}[1]`,i[1],`string expected, ${p} found`));break;case"within":p=Pi(i[1]),i.length!==2?v.push(new Wi(o,i,`filter array for "${i[0]}" operator must have 2 elements`)):p!=="object"&&v.push(new Wi(`${o}[1]`,i[1],`object expected, ${p} found`))}return v}function wp(r,i){const o=r.key,h=r.style,p=r.styleSpec,v=r.value,T=r.objectKey,R=p[`${i}_${r.layerType}`];if(!R)return[];const Y=T.match(/^(.*)-transition$/);if(i==="paint"&&Y&&R[Y[1]]&&R[Y[1]].transition)return Bn({key:o,value:v,valueSpec:p.transition,style:h,styleSpec:p});const te=r.valueSpec||R[T];if(!te)return[new Wi(o,v,`unknown property "${T}"`)];let de;if(Pi(v)==="string"&&ni(te)&&!te.tokens&&(de=/^{([^}]+)}$/.exec(v)))return[new Wi(o,v,`"${T}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(de[1])} }\`.`)];const ve=[];return r.layerType==="symbol"&&(T==="text-field"&&h&&!h.glyphs&&ve.push(new Wi(o,v,'use of "text-field" requires a style "glyphs" property')),T==="text-font"&&bn(cr(v))&&lr(v.type)==="identity"&&ve.push(new Wi(o,v,'"text-font" does not support identity functions'))),ve.concat(Bn({key:r.key,value:v,valueSpec:te,style:h,styleSpec:p,expressionContext:"property",propertyType:i,propertyKey:T}))}function Sp(r){return wp(r,"paint")}function Yf(r){return wp(r,"layout")}function gu(r){let i=[];const o=r.value,h=r.key,p=r.style,v=r.styleSpec;o.type||o.ref||i.push(new Wi(h,o,'either "type" or "ref" is required'));let T=lr(o.type);const R=lr(o.ref);if(o.id){const Y=lr(o.id);for(let te=0;te<r.arrayIndex;te++){const de=p.layers[te];lr(de.id)===Y&&i.push(new Wi(h,o.id,`duplicate layer id "${o.id}", previously used at line ${de.id.__line__}`))}}if("ref"in o){let Y;["type","source","source-layer","filter","layout"].forEach(te=>{te in o&&i.push(new Wi(h,o[te],`"${te}" is prohibited for ref layers`))}),p.layers.forEach(te=>{lr(te.id)===R&&(Y=te)}),Y?Y.ref?i.push(new Wi(h,o.ref,"ref cannot reference another ref layer")):T=lr(Y.type):typeof R=="string"&&i.push(new Wi(h,o.ref,`ref layer "${R}" not found`))}else if(T!=="background"&&T!=="sky")if(o.source){const Y=p.sources&&p.sources[o.source],te=Y&&lr(Y.type);Y?te==="vector"&&T==="raster"?i.push(new Wi(h,o.source,`layer "${o.id}" requires a raster source`)):te==="raster"&&T!=="raster"?i.push(new Wi(h,o.source,`layer "${o.id}" requires a vector source`)):te!=="vector"||o["source-layer"]?te==="raster-dem"&&T!=="hillshade"?i.push(new Wi(h,o.source,"raster-dem source can only be used with layer type 'hillshade'.")):T!=="line"||!o.paint||!o.paint["line-gradient"]&&!o.paint["line-trim-offset"]||te==="geojson"&&Y.lineMetrics||i.push(new Wi(h,o,`layer "${o.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new Wi(h,o,`layer "${o.id}" must specify a "source-layer"`)):i.push(new Wi(h,o.source,`source "${o.source}" not found`))}else i.push(new Wi(h,o,'missing required property "source"'));return i=i.concat(Ga({key:h,value:o,valueSpec:v.layer,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Bn({key:`${h}.type`,value:o.type,valueSpec:v.layer.type,style:r.style,styleSpec:r.styleSpec,object:o,objectKey:"type"}),filter:Y=>Gc($s({layerType:T},Y)),layout:Y=>Ga({layer:o,key:Y.key,value:Y.value,valueSpec:{},style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{"*":te=>Yf($s({layerType:T},te))}}),paint:Y=>Ga({layer:o,key:Y.key,value:Y.value,valueSpec:{},style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{"*":te=>Sp($s({layerType:T},te))}})}})),i}function cc(r){const i=r.value,o=r.key,h=Pi(i);return h!=="string"?[new Wi(o,i,`string expected, ${h} found`)]:[]}const Xh={promoteId:function({key:r,value:i}){if(Pi(i)==="string")return cc({key:r,value:i});{const o=[];for(const h in i)o.push(...cc({key:`${r}.${h}`,value:i[h]}));return o}}};function Zh(r){const i=r.value,o=r.key,h=r.styleSpec,p=r.style;if(!i.type)return[new Wi(o,i,'"type" is required')];const v=lr(i.type);let T;switch(v){case"vector":case"raster":case"raster-dem":return T=Ga({key:o,value:i,valueSpec:h[`source_${v.replace("-","_")}`],style:r.style,styleSpec:h,objectElementValidators:Xh}),T;case"geojson":if(T=Ga({key:o,value:i,valueSpec:h.source_geojson,style:p,styleSpec:h,objectElementValidators:Xh}),i.cluster)for(const R in i.clusterProperties){const[Y,te]=i.clusterProperties[R],de=typeof Y=="string"?[Y,["accumulated"],["get",R]]:Y;T.push(...$h({key:`${o}.${R}.map`,value:te,expressionContext:"cluster-map"})),T.push(...$h({key:`${o}.${R}.reduce`,value:de,expressionContext:"cluster-reduce"}))}return T;case"video":return Ga({key:o,value:i,valueSpec:h.source_video,style:p,styleSpec:h});case"image":return Ga({key:o,value:i,valueSpec:h.source_image,style:p,styleSpec:h});case"canvas":return[new Wi(o,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return fu({key:`${o}.type`,value:i.type,valueSpec:{values:Tp(h)},style:p,styleSpec:h})}}function Tp(r){return r.source.reduce((i,o)=>{const h=r[o];return h.type.type==="enum"&&(i=i.concat(Object.keys(h.type.values))),i},[])}function Je(r){const i=r.value,o=r.styleSpec,h=o.light,p=r.style;let v=[];const T=Pi(i);if(i===void 0)return v;if(T!=="object")return v=v.concat([new Wi("light",i,`object expected, ${T} found`)]),v;for(const R in i){const Y=R.match(/^(.*)-transition$/);v=v.concat(Y&&h[Y[1]]&&h[Y[1]].transition?Bn({key:R,value:i[R],valueSpec:o.transition,style:p,styleSpec:o}):h[R]?Bn({key:R,value:i[R],valueSpec:h[R],style:p,styleSpec:o}):[new Wi(R,i[R],`unknown property "${R}"`)])}return v}function hc(r){const i=r.value,o=r.key,h=r.style,p=r.styleSpec,v=p.terrain;let T=[];const R=Pi(i);if(i===void 0)return T;if(R!=="object")return T=T.concat([new Wi("terrain",i,`object expected, ${R} found`)]),T;for(const Y in i){const te=Y.match(/^(.*)-transition$/);T=T.concat(te&&v[te[1]]&&v[te[1]].transition?Bn({key:Y,value:i[Y],valueSpec:p.transition,style:h,styleSpec:p}):v[Y]?Bn({key:Y,value:i[Y],valueSpec:v[Y],style:h,styleSpec:p}):[new Wi(Y,i[Y],`unknown property "${Y}"`)])}if(i.source){const Y=h.sources&&h.sources[i.source],te=Y&&lr(Y.type);Y?te!=="raster-dem"&&T.push(new Wi(o,i.source,`terrain cannot be used with a source of type ${String(te)}, it only be used with a "raster-dem" source type`)):T.push(new Wi(o,i.source,`source "${i.source}" not found`))}else T.push(new Wi(o,i,'terrain is missing required property "source"'));return T}function Cd(r){const i=r.value,o=r.style,h=r.styleSpec,p=h.fog;let v=[];const T=Pi(i);if(i===void 0)return v;if(T!=="object")return v=v.concat([new Wi("fog",i,`object expected, ${T} found`)]),v;for(const R in i){const Y=R.match(/^(.*)-transition$/);v=v.concat(Y&&p[Y[1]]&&p[Y[1]].transition?Bn({key:R,value:i[R],valueSpec:h.transition,style:o,styleSpec:h}):p[R]?Bn({key:R,value:i[R],valueSpec:p[R],style:o,styleSpec:h}):[new Wi(R,i[R],`unknown property "${R}"`)])}return v}const Ta={"*":()=>[],array:jc,boolean:function(r){const i=r.value,o=r.key,h=Pi(i);return h!=="boolean"?[new Wi(o,i,`boolean expected, ${h} found`)]:[]},number:Sd,color:function(r){const i=r.key,o=r.value,h=Pi(o);return h!=="string"?[new Wi(i,o,`color expected, ${h} found`)]:Ra(o)===null?[new Wi(i,o,`color expected, "${o}" found`)]:[]},enum:fu,filter:Gc,function:pu,layer:gu,object:Ga,source:Zh,light:Je,terrain:hc,fog:Cd,string:cc,formatted:function(r){return cc(r).length===0?[]:$h(r)},resolvedImage:function(r){return cc(r).length===0?[]:$h(r)},projection:function(r){const i=r.value,o=r.styleSpec,h=o.projection,p=r.style;let v=[];const T=Pi(i);if(T==="object")for(const R in i)v=v.concat(Bn({key:R,value:i[R],valueSpec:h[R],style:p,styleSpec:o}));else T!=="string"&&(v=v.concat([new Wi("projection",i,`object or string expected, ${T} found`)]));return v}};function Bn(r){const i=r.value,o=r.valueSpec,h=r.styleSpec;return o.expression&&bn(lr(i))?pu(r):o.expression&&yt(cr(i))?$h(r):o.type&&Ta[o.type]?Ta[o.type](r):Ga($s({},r,{valueSpec:o.type?h[o.type]:o}))}function Om(r){const i=r.value,o=r.key,h=cc(r);return h.length||(i.indexOf("{fontstack}")===-1&&h.push(new Wi(o,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&h.push(new Wi(o,i,'"glyphs" url must include a "{range}" token'))),h}function Ep(r,i=ai){return dc(Bn({key:"",value:r,valueSpec:i.$root,styleSpec:i,style:r,objectElementValidators:{glyphs:Om,"*":()=>[]}}))}const Rm=r=>dc(Sp(r)),_h=r=>dc(Yf(r));function dc(r){return r.slice().sort((i,o)=>i.line&&o.line?i.line-o.line:0)}function Xf(r,i){let o=!1;if(i&&i.length)for(const h of i)r.fire(new aa(new Error(h.message))),o=!0;return o}var Kh=zl;function zl(r,i,o){var h=this.cells=[];if(r instanceof ArrayBuffer){this.arrayBuffer=r;var p=new Int32Array(this.arrayBuffer);r=p[0],this.d=(i=p[1])+2*(o=p[2]);for(var v=0;v<this.d*this.d;v++){var T=p[3+v],R=p[3+v+1];h.push(T===R?null:p.subarray(T,R))}var Y=p[3+h.length+1];this.keys=p.subarray(p[3+h.length],Y),this.bboxes=p.subarray(Y),this.insert=this._insertReadonly}else{this.d=i+2*o;for(var te=0;te<this.d*this.d;te++)h.push([]);this.keys=[],this.bboxes=[]}this.n=i,this.extent=r,this.padding=o,this.scale=i/r,this.uid=0;var de=o/i*r;this.min=-de,this.max=r+de}zl.prototype.insert=function(r,i,o,h,p){this._forEachCell(i,o,h,p,this._insertCell,this.uid++),this.keys.push(r),this.bboxes.push(i),this.bboxes.push(o),this.bboxes.push(h),this.bboxes.push(p)},zl.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},zl.prototype._insertCell=function(r,i,o,h,p,v){this.cells[p].push(v)},zl.prototype.query=function(r,i,o,h,p){var v=this.min,T=this.max;if(r<=v&&i<=v&&T<=o&&T<=h&&!p)return Array.prototype.slice.call(this.keys);var R=[];return this._forEachCell(r,i,o,h,this._queryCell,R,{},p),R},zl.prototype._queryCell=function(r,i,o,h,p,v,T,R){var Y=this.cells[p];if(Y!==null)for(var te=this.keys,de=this.bboxes,ve=0;ve<Y.length;ve++){var Ee=Y[ve];if(T[Ee]===void 0){var Pe=4*Ee;(R?R(de[Pe+0],de[Pe+1],de[Pe+2],de[Pe+3]):r<=de[Pe+2]&&i<=de[Pe+3]&&o>=de[Pe+0]&&h>=de[Pe+1])?(T[Ee]=!0,v.push(te[Ee])):T[Ee]=!1}}},zl.prototype._forEachCell=function(r,i,o,h,p,v,T,R){for(var Y=this._convertToCellCoord(r),te=this._convertToCellCoord(i),de=this._convertToCellCoord(o),ve=this._convertToCellCoord(h),Ee=Y;Ee<=de;Ee++)for(var Pe=te;Pe<=ve;Pe++){var Re=this.d*Pe+Ee;if((!R||R(this._convertFromCellCoord(Ee),this._convertFromCellCoord(Pe),this._convertFromCellCoord(Ee+1),this._convertFromCellCoord(Pe+1)))&&p.call(this,r,i,o,h,Re,v,T,R))return}},zl.prototype._convertFromCellCoord=function(r){return(r-this.padding)/this.scale},zl.prototype._convertToCellCoord=function(r){return Math.max(0,Math.min(this.d-1,Math.floor(r*this.scale)+this.padding))},zl.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var r=this.cells,i=3+this.cells.length+1+1,o=0,h=0;h<this.cells.length;h++)o+=this.cells[h].length;var p=new Int32Array(i+o+this.keys.length+this.bboxes.length);p[0]=this.extent,p[1]=this.n,p[2]=this.padding;for(var v=i,T=0;T<r.length;T++){var R=r[T];p[3+T]=v,p.set(R,v),v+=R.length}return p[3+r.length]=v,p.set(this.keys,v),p[3+r.length+1]=v+=this.keys.length,p.set(this.bboxes,v),v+=this.bboxes.length,p.buffer};const _u={};function Hi(r,i,o={}){Object.defineProperty(r,"_classRegistryKey",{value:i,writeable:!1}),_u[i]={klass:r,omit:o.omit||[]}}Hi(Object,"Object"),Kh.serialize=function(r,i){const o=r.toArrayBuffer();return i&&i.push(o),{buffer:o}},Kh.deserialize=function(r){return new Kh(r.buffer)},Object.defineProperty(Kh,"name",{value:"Grid"}),Hi(Kh,"Grid"),Hi(rr,"Color"),Hi(Error,"Error"),Hi(Ti,"AJAXError"),Hi(Lo,"ResolvedImage"),Hi(fr,"StylePropertyFunction"),Hi(je,"StyleExpression",{omit:["_evaluator"]}),Hi(ns,"ZoomDependentExpression"),Hi(dn,"ZoomConstantExpression"),Hi(vo,"CompoundExpression",{omit:["_evaluate"]});for(const r in Lt)_u[Lt[r]._classRegistryKey]||Hi(Lt[r],`Expression${r}`);function Zf(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&r.constructor.name==="ArrayBuffer")}function Kf(r){return S.ImageBitmap&&r instanceof S.ImageBitmap}function Vc(r,i){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp)return r;if(Zf(r)||Kf(r))return i&&i.push(r),r;if(ArrayBuffer.isView(r)){const o=r;return i&&i.push(o.buffer),o}if(r instanceof S.ImageData)return i&&i.push(r.data.buffer),r;if(Array.isArray(r)){const o=[];for(const h of r)o.push(Vc(h,i));return o}if(typeof r=="object"){const o=r.constructor,h=o._classRegistryKey;if(!h)throw new Error(`can't serialize object of unregistered class ${h}`);const p=o.serialize?o.serialize(r,i):{};if(!o.serialize){for(const v in r)r.hasOwnProperty(v)&&(_u[h].omit.indexOf(v)>=0||(p[v]=Vc(r[v],i)));r instanceof Error&&(p.message=r.message)}if(p.$name)throw new Error("$name property is reserved for worker serialization logic.");return h!=="Object"&&(p.$name=h),p}throw new Error("can't serialize object of type "+typeof r)}function Md(r){if(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp||Zf(r)||Kf(r)||ArrayBuffer.isView(r)||r instanceof S.ImageData)return r;if(Array.isArray(r))return r.map(Md);if(typeof r=="object"){const i=r.$name||"Object",{klass:o}=_u[i];if(!o)throw new Error(`can't deserialize unregistered class ${i}`);if(o.deserialize)return o.deserialize(r);const h=Object.create(o.prototype);for(const p of Object.keys(r))p!=="$name"&&(h[p]=Md(r[p]));return h}throw new Error("can't deserialize object of type "+typeof r)}const Cp=r=>r>=1536&&r<=1791,Nl=r=>r>=1872&&r<=1919,Mp=r=>r>=2208&&r<=2303,Ap=r=>r>=11904&&r<=12031,kp=r=>r>=12032&&r<=12255,Pp=r=>r>=12272&&r<=12287,Jh=r=>r>=12288&&r<=12351,vl=r=>r>=12352&&r<=12447,yu=r=>r>=12448&&r<=12543,Jf=r=>r>=12544&&r<=12591,Ea=r=>r>=12704&&r<=12735,Qf=r=>r>=12736&&r<=12783,e0=r=>r>=12784&&r<=12799,t0=r=>r>=12800&&r<=13055,i0=r=>r>=13056&&r<=13311,n0=r=>r>=13312&&r<=19903,vu=r=>r>=19968&&r<=40959,Dp=r=>r>=40960&&r<=42127,s0=r=>r>=42128&&r<=42191,Ip=r=>r>=44032&&r<=55215,yh=r=>r>=63744&&r<=64255,_=r=>r>=64336&&r<=65023,a=r=>r>=65040&&r<=65055,u=r=>r>=65072&&r<=65103,x=r=>r>=65104&&r<=65135,D=r=>r>=65136&&r<=65279,z=r=>r>=65280&&r<=65519;function ne(r){for(const i of r)if(ke(i.charCodeAt(0)))return!0;return!1}function he(r){for(const i of r)if(!pe(i.charCodeAt(0)))return!1;return!0}function pe(r){return!(Cp(r)||Nl(r)||Mp(r)||_(r)||D(r))}function ke(r){return!(r!==746&&r!==747&&(r<4352||!(Ea(r)||Jf(r)||u(r)&&!(r>=65097&&r<=65103)||yh(r)||i0(r)||Ap(r)||Qf(r)||!(!Jh(r)||r>=12296&&r<=12305||r>=12308&&r<=12319||r===12336)||n0(r)||vu(r)||t0(r)||(i=>i>=12592&&i<=12687)(r)||(i=>i>=43360&&i<=43391)(r)||(i=>i>=55216&&i<=55295)(r)||(i=>i>=4352&&i<=4607)(r)||Ip(r)||vl(r)||Pp(r)||(i=>i>=12688&&i<=12703)(r)||kp(r)||e0(r)||yu(r)&&r!==12540||!(!z(r)||r===65288||r===65289||r===65293||r>=65306&&r<=65310||r===65339||r===65341||r===65343||r>=65371&&r<=65503||r===65507||r>=65512&&r<=65519)||!(!x(r)||r>=65112&&r<=65118||r>=65123&&r<=65126)||(i=>i>=5120&&i<=5759)(r)||(i=>i>=6320&&i<=6399)(r)||a(r)||(i=>i>=19904&&i<=19967)(r)||Dp(r)||s0(r))))}function Me(r){return!(ke(r)||function(i){return!!((o=>o>=128&&o<=255)(i)&&(i===167||i===169||i===174||i===177||i===188||i===189||i===190||i===215||i===247)||(o=>o>=8192&&o<=8303)(i)&&(i===8214||i===8224||i===8225||i===8240||i===8241||i===8251||i===8252||i===8258||i===8263||i===8264||i===8265||i===8273)||(o=>o>=8448&&o<=8527)(i)||(o=>o>=8528&&o<=8591)(i)||(o=>o>=8960&&o<=9215)(i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215)||(o=>o>=9216&&o<=9279)(i)&&i!==9251||(o=>o>=9280&&o<=9311)(i)||(o=>o>=9312&&o<=9471)(i)||(o=>o>=9632&&o<=9727)(i)||(o=>o>=9728&&o<=9983)(i)&&!(i>=9754&&i<=9759)||(o=>o>=11008&&o<=11263)(i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||Jh(i)||yu(i)||(o=>o>=57344&&o<=63743)(i)||u(i)||x(i)||z(i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533)}(r))}function Ne(r){return r>=1424&&r<=2303||_(r)||D(r)}function qe(r,i){return!(!i&&Ne(r)||r>=2304&&r<=3583||r>=3840&&r<=4255||(o=>o>=6016&&o<=6143)(r))}function st(r){for(const i of r)if(Ne(i.charCodeAt(0)))return!0;return!1}const rt="deferred",ht="loading",Ze="loaded";let Qe=null,ut="unavailable",ot=null;const vt=function(r){r&&typeof r=="string"&&r.indexOf("NetworkError")>-1&&(ut="error"),Qe&&Qe(r)};function Mt(){bt.fire(new oa("pluginStateChange",{pluginStatus:ut,pluginURL:ot}))}const bt=new jr,Ot=function(){return ut},Zt=function(){if(ut!==rt||!ot)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ut=ht,Mt(),ot&&Xi({url:ot},r=>{r?vt(r):(ut=Ze,Mt())})},qt={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>ut===Ze||qt.applyArabicShaping!=null,isLoading:()=>ut===ht,setState(r){ut=r.pluginStatus,ot=r.pluginURL},isParsed:()=>qt.applyArabicShaping!=null&&qt.processBidirectionalText!=null&&qt.processStyledBidirectionalText!=null,getPluginURL:()=>ot};class Nt{constructor(i,o){this.zoom=i,o?(this.now=o.now,this.fadeDuration=o.fadeDuration,this.transition=o.transition,this.pitch=o.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(i){return function(o,h){for(const p of o)if(!qe(p.charCodeAt(0),h))return!1;return!0}(i,qt.isLoaded())}}class xi{constructor(i,o){this.property=i,this.value=o,this.expression=function(h,p){if(bn(h))return new fr(h,p);if(yt(h)){const v=Pr(h,p);if(v.result==="error")throw new Error(v.value.map(T=>`${T.key}: ${T.message}`).join(", "));return v.value}{let v=h;return typeof h=="string"&&p.type==="color"&&(v=rr.parse(h)),{kind:"constant",evaluate:()=>v}}}(o===void 0?i.specification.default:o,i.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(i,o,h){return this.property.possiblyEvaluate(this,i,o,h)}}class Ht{constructor(i){this.property=i,this.value=new xi(i,void 0)}transitioned(i,o){return new Jt(this.property,this.value,o,X({},i.transition,this.transition),i.now)}untransitioned(){return new Jt(this.property,this.value,null,{},0)}}class ci{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return be(this._values[i].value.value)}setValue(i,o){this._values.hasOwnProperty(i)||(this._values[i]=new Ht(this._values[i].property)),this._values[i].value=new xi(this._values[i].property,o===null?void 0:be(o))}getTransition(i){return be(this._values[i].transition)}setTransition(i,o){this._values.hasOwnProperty(i)||(this._values[i]=new Ht(this._values[i].property)),this._values[i].transition=be(o)||void 0}serialize(){const i={};for(const o of Object.keys(this._values)){const h=this.getValue(o);h!==void 0&&(i[o]=h);const p=this.getTransition(o);p!==void 0&&(i[`${o}-transition`]=p)}return i}transitioned(i,o){const h=new Ai(this._properties);for(const p of Object.keys(this._values))h._values[p]=this._values[p].transitioned(i,o._values[p]);return h}untransitioned(){const i=new Ai(this._properties);for(const o of Object.keys(this._values))i._values[o]=this._values[o].untransitioned();return i}}class Jt{constructor(i,o,h,p,v){const T=p.delay||0,R=p.duration||0;v=v||0,this.property=i,this.value=o,this.begin=v+T,this.end=this.begin+R,i.specification.transition&&(p.delay||p.duration)&&(this.prior=h)}possiblyEvaluate(i,o,h){const p=i.now||0,v=this.value.possiblyEvaluate(i,o,h),T=this.prior;if(T){if(p>this.end)return this.prior=null,v;if(this.value.isDataDriven())return this.prior=null,v;if(p<this.begin)return T.possiblyEvaluate(i,o,h);{const R=(p-this.begin)/(this.end-this.begin);return this.property.interpolate(T.possiblyEvaluate(i,o,h),v,w(R))}}return v}}class Ai{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,o,h){const p=new Di(this._properties);for(const v of Object.keys(this._values))p._values[v]=this._values[v].possiblyEvaluate(i,o,h);return p}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class ei{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}getValue(i){return be(this._values[i].value)}setValue(i,o){this._values[i]=new xi(this._values[i].property,o===null?void 0:be(o))}serialize(){const i={};for(const o of Object.keys(this._values)){const h=this.getValue(o);h!==void 0&&(i[o]=h)}return i}possiblyEvaluate(i,o,h){const p=new Di(this._properties);for(const v of Object.keys(this._values))p._values[v]=this._values[v].possiblyEvaluate(i,o,h);return p}}class gi{constructor(i,o,h){this.property=i,this.value=o,this.parameters=h}isConstant(){return this.value.kind==="constant"}constantOr(i){return this.value.kind==="constant"?this.value.value:i}evaluate(i,o,h,p){return this.property.evaluate(this.value,this.parameters,i,o,h,p)}}class Di{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class jt{constructor(i){this.specification=i}possiblyEvaluate(i,o){return i.expression.evaluate(o)}interpolate(i,o,h){const p=Ur[this.specification.type];return p?p(i,o,h):i}}class Kt{constructor(i,o){this.specification=i,this.overrides=o}possiblyEvaluate(i,o,h,p){return new gi(this,i.expression.kind==="constant"||i.expression.kind==="camera"?{kind:"constant",value:i.expression.evaluate(o,null,{},h,p)}:i.expression,o)}interpolate(i,o,h){if(i.value.kind!=="constant"||o.value.kind!=="constant")return i;if(i.value.value===void 0||o.value.value===void 0)return new gi(this,{kind:"constant",value:void 0},i.parameters);const p=Ur[this.specification.type];return p?new gi(this,{kind:"constant",value:p(i.value.value,o.value.value,h)},i.parameters):i}evaluate(i,o,h,p,v,T){return i.kind==="constant"?i.value:i.evaluate(o,h,p,v,T)}}class sn{constructor(i){this.specification=i}possiblyEvaluate(i,o,h,p){return!!i.expression.evaluate(o,null,{},h,p)}interpolate(){return!1}}class un{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const o=new Nt(0,{});for(const h in i){const p=i[h];p.specification.overridable&&this.overridableProperties.push(h);const v=this.defaultPropertyValues[h]=new xi(p,void 0),T=this.defaultTransitionablePropertyValues[h]=new Ht(p);this.defaultTransitioningPropertyValues[h]=T.untransitioned(),this.defaultPossiblyEvaluatedValues[h]=v.possiblyEvaluate(o)}}}function rn(r,i){return 256*(r=y(Math.floor(r),0,255))+y(Math.floor(i),0,255)}Hi(Kt,"DataDrivenProperty"),Hi(jt,"DataConstantProperty"),Hi(sn,"ColorRampProperty");const Cn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Hn{constructor(i,o){this._structArray=i,this._pos1=o*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class mn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,o){return i._trim(),o&&(i.isTransferred=!0,o.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const o=Object.create(this.prototype);return o.arrayBuffer=i.arrayBuffer,o.length=i.length,o.capacity=i.arrayBuffer.byteLength/o.bytesPerElement,o._refreshViews(),o}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const o=this.uint8;this._refreshViews(),o&&this.uint8.set(o)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Zi(r,i=1){let o=0,h=0;return{members:r.map(p=>{const v=Cn[p.type].BYTES_PER_ELEMENT,T=o=zs(o,Math.max(i,v)),R=p.components||1;return h=Math.max(h,v),o+=v*R,{name:p.name,type:p.type,components:R,offset:T}}),size:zs(o,Math.max(h,i)),alignment:i}}function zs(r,i){return Math.ceil(r/i)*i}class Es extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o){const h=this.length;return this.resize(h+1),this.emplace(h,i,o)}emplace(i,o,h){const p=2*i;return this.int16[p+0]=o,this.int16[p+1]=h,i}}Es.prototype.bytesPerElement=4,Hi(Es,"StructArrayLayout2i4");class Fs extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,h){const p=this.length;return this.resize(p+1),this.emplace(p,i,o,h)}emplace(i,o,h,p){const v=3*i;return this.int16[v+0]=o,this.int16[v+1]=h,this.int16[v+2]=p,i}}Fs.prototype.bytesPerElement=6,Hi(Fs,"StructArrayLayout3i6");class Ls extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,h,p)}emplace(i,o,h,p,v){const T=4*i;return this.int16[T+0]=o,this.int16[T+1]=h,this.int16[T+2]=p,this.int16[T+3]=v,i}}Ls.prototype.bytesPerElement=8,Hi(Ls,"StructArrayLayout4i8");class ha extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,R){const Y=this.length;return this.resize(Y+1),this.emplace(Y,i,o,h,p,v,T,R)}emplace(i,o,h,p,v,T,R,Y){const te=6*i,de=12*i,ve=3*i;return this.int16[te+0]=o,this.int16[te+1]=h,this.uint8[de+4]=p,this.uint8[de+5]=v,this.uint8[de+6]=T,this.uint8[de+7]=R,this.float32[ve+2]=Y,i}}ha.prototype.bytesPerElement=12,Hi(ha,"StructArrayLayout2i4ub1f12");class qo extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,h,p)}emplace(i,o,h,p,v){const T=4*i;return this.float32[T+0]=o,this.float32[T+1]=h,this.float32[T+2]=p,this.float32[T+3]=v,i}}qo.prototype.bytesPerElement=16,Hi(qo,"StructArrayLayout4f16");class zo extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v){const T=this.length;return this.resize(T+1),this.emplace(T,i,o,h,p,v)}emplace(i,o,h,p,v,T){const R=6*i,Y=3*i;return this.uint16[R+0]=o,this.uint16[R+1]=h,this.uint16[R+2]=p,this.uint16[R+3]=v,this.float32[Y+2]=T,i}}zo.prototype.bytesPerElement=12,Hi(zo,"StructArrayLayout4ui1f12");class xl extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,h,p)}emplace(i,o,h,p,v){const T=4*i;return this.uint16[T+0]=o,this.uint16[T+1]=h,this.uint16[T+2]=p,this.uint16[T+3]=v,i}}xl.prototype.bytesPerElement=8,Hi(xl,"StructArrayLayout4ui8");class Ys extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T){const R=this.length;return this.resize(R+1),this.emplace(R,i,o,h,p,v,T)}emplace(i,o,h,p,v,T,R){const Y=6*i;return this.int16[Y+0]=o,this.int16[Y+1]=h,this.int16[Y+2]=p,this.int16[Y+3]=v,this.int16[Y+4]=T,this.int16[Y+5]=R,i}}Ys.prototype.bytesPerElement=12,Hi(Ys,"StructArrayLayout6i12");class Os extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,R,Y,te,de,ve,Ee){const Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,i,o,h,p,v,T,R,Y,te,de,ve,Ee)}emplace(i,o,h,p,v,T,R,Y,te,de,ve,Ee,Pe){const Re=12*i;return this.int16[Re+0]=o,this.int16[Re+1]=h,this.int16[Re+2]=p,this.int16[Re+3]=v,this.uint16[Re+4]=T,this.uint16[Re+5]=R,this.uint16[Re+6]=Y,this.uint16[Re+7]=te,this.int16[Re+8]=de,this.int16[Re+9]=ve,this.int16[Re+10]=Ee,this.int16[Re+11]=Pe,i}}Os.prototype.bytesPerElement=24,Hi(Os,"StructArrayLayout4i4ui4i24");class ws extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T){const R=this.length;return this.resize(R+1),this.emplace(R,i,o,h,p,v,T)}emplace(i,o,h,p,v,T,R){const Y=10*i,te=5*i;return this.int16[Y+0]=o,this.int16[Y+1]=h,this.int16[Y+2]=p,this.float32[te+2]=v,this.float32[te+3]=T,this.float32[te+4]=R,i}}ws.prototype.bytesPerElement=20,Hi(ws,"StructArrayLayout3i3f20");class Dr extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const o=this.length;return this.resize(o+1),this.emplace(o,i)}emplace(i,o){return this.uint32[1*i+0]=o,i}}Dr.prototype.bytesPerElement=4,Hi(Dr,"StructArrayLayout1ul4");class To extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,R,Y,te,de,ve,Ee,Pe){const Re=this.length;return this.resize(Re+1),this.emplace(Re,i,o,h,p,v,T,R,Y,te,de,ve,Ee,Pe)}emplace(i,o,h,p,v,T,R,Y,te,de,ve,Ee,Pe,Re){const He=20*i,Ke=10*i;return this.int16[He+0]=o,this.int16[He+1]=h,this.int16[He+2]=p,this.int16[He+3]=v,this.int16[He+4]=T,this.float32[Ke+3]=R,this.float32[Ke+4]=Y,this.float32[Ke+5]=te,this.float32[Ke+6]=de,this.int16[He+14]=ve,this.uint32[Ke+8]=Ee,this.uint16[He+18]=Pe,this.uint16[He+19]=Re,i}}To.prototype.bytesPerElement=40,Hi(To,"StructArrayLayout5i4f1i1ul2ui40");class Xs extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,R){const Y=this.length;return this.resize(Y+1),this.emplace(Y,i,o,h,p,v,T,R)}emplace(i,o,h,p,v,T,R,Y){const te=8*i;return this.int16[te+0]=o,this.int16[te+1]=h,this.int16[te+2]=p,this.int16[te+4]=v,this.int16[te+5]=T,this.int16[te+6]=R,this.int16[te+7]=Y,i}}Xs.prototype.bytesPerElement=16,Hi(Xs,"StructArrayLayout3i2i2i16");class No extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v){const T=this.length;return this.resize(T+1),this.emplace(T,i,o,h,p,v)}emplace(i,o,h,p,v,T){const R=4*i,Y=8*i;return this.float32[R+0]=o,this.float32[R+1]=h,this.float32[R+2]=p,this.int16[Y+6]=v,this.int16[Y+7]=T,i}}No.prototype.bytesPerElement=16,Hi(No,"StructArrayLayout2f1f2i16");class Ad extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,h,p)}emplace(i,o,h,p,v){const T=12*i,R=3*i;return this.uint8[T+0]=o,this.uint8[T+1]=h,this.float32[R+1]=p,this.float32[R+2]=v,i}}Ad.prototype.bytesPerElement=12,Hi(Ad,"StructArrayLayout2ub2f12");class bl extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h){const p=this.length;return this.resize(p+1),this.emplace(p,i,o,h)}emplace(i,o,h,p){const v=3*i;return this.float32[v+0]=o,this.float32[v+1]=h,this.float32[v+2]=p,i}}bl.prototype.bytesPerElement=12,Hi(bl,"StructArrayLayout3f12");class Eo extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,h){const p=this.length;return this.resize(p+1),this.emplace(p,i,o,h)}emplace(i,o,h,p){const v=3*i;return this.uint16[v+0]=o,this.uint16[v+1]=h,this.uint16[v+2]=p,i}}Eo.prototype.bytesPerElement=6,Hi(Eo,"StructArrayLayout3ui6");class da extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,R,Y,te,de,ve,Ee,Pe,Re,He,Ke,mt,Et,ft,xt,At){const Ct=this.length;return this.resize(Ct+1),this.emplace(Ct,i,o,h,p,v,T,R,Y,te,de,ve,Ee,Pe,Re,He,Ke,mt,Et,ft,xt,At)}emplace(i,o,h,p,v,T,R,Y,te,de,ve,Ee,Pe,Re,He,Ke,mt,Et,ft,xt,At,Ct){const Xt=30*i,Yt=15*i,hi=60*i;return this.int16[Xt+0]=o,this.int16[Xt+1]=h,this.int16[Xt+2]=p,this.float32[Yt+2]=v,this.float32[Yt+3]=T,this.uint16[Xt+8]=R,this.uint16[Xt+9]=Y,this.uint32[Yt+5]=te,this.uint32[Yt+6]=de,this.uint32[Yt+7]=ve,this.uint16[Xt+16]=Ee,this.uint16[Xt+17]=Pe,this.uint16[Xt+18]=Re,this.float32[Yt+10]=He,this.float32[Yt+11]=Ke,this.uint8[hi+48]=mt,this.uint8[hi+49]=Et,this.uint8[hi+50]=ft,this.uint32[Yt+13]=xt,this.int16[Xt+28]=At,this.uint8[hi+58]=Ct,i}}da.prototype.bytesPerElement=60,Hi(da,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Fl extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v,T,R,Y,te,de,ve,Ee,Pe,Re,He,Ke,mt,Et,ft,xt,At,Ct,Xt,Yt,hi,Li,ii,mi,_i,Mi){const Oi=this.length;return this.resize(Oi+1),this.emplace(Oi,i,o,h,p,v,T,R,Y,te,de,ve,Ee,Pe,Re,He,Ke,mt,Et,ft,xt,At,Ct,Xt,Yt,hi,Li,ii,mi,_i,Mi)}emplace(i,o,h,p,v,T,R,Y,te,de,ve,Ee,Pe,Re,He,Ke,mt,Et,ft,xt,At,Ct,Xt,Yt,hi,Li,ii,mi,_i,Mi,Oi){const si=38*i,Ui=19*i;return this.int16[si+0]=o,this.int16[si+1]=h,this.int16[si+2]=p,this.float32[Ui+2]=v,this.float32[Ui+3]=T,this.int16[si+8]=R,this.int16[si+9]=Y,this.int16[si+10]=te,this.int16[si+11]=de,this.int16[si+12]=ve,this.int16[si+13]=Ee,this.uint16[si+14]=Pe,this.uint16[si+15]=Re,this.uint16[si+16]=He,this.uint16[si+17]=Ke,this.uint16[si+18]=mt,this.uint16[si+19]=Et,this.uint16[si+20]=ft,this.uint16[si+21]=xt,this.uint16[si+22]=At,this.uint16[si+23]=Ct,this.uint16[si+24]=Xt,this.uint16[si+25]=Yt,this.uint16[si+26]=hi,this.uint16[si+27]=Li,this.uint16[si+28]=ii,this.uint32[Ui+15]=mi,this.float32[Ui+16]=_i,this.float32[Ui+17]=Mi,this.float32[Ui+18]=Oi,i}}Fl.prototype.bytesPerElement=76,Hi(Fl,"StructArrayLayout3i2f6i15ui1ul3f76");class Va extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const o=this.length;return this.resize(o+1),this.emplace(o,i)}emplace(i,o){return this.float32[1*i+0]=o,i}}Va.prototype.bytesPerElement=4,Hi(Va,"StructArrayLayout1f4");class Zn extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o,h,p,v){const T=this.length;return this.resize(T+1),this.emplace(T,i,o,h,p,v)}emplace(i,o,h,p,v,T){const R=5*i;return this.float32[R+0]=o,this.float32[R+1]=h,this.float32[R+2]=p,this.float32[R+3]=v,this.float32[R+4]=T,i}}Zn.prototype.bytesPerElement=20,Hi(Zn,"StructArrayLayout5f20");class Qh extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o,h,p){const v=this.length;return this.resize(v+1),this.emplace(v,i,o,h,p)}emplace(i,o,h,p,v){const T=6*i;return this.uint32[3*i+0]=o,this.uint16[T+2]=h,this.uint16[T+3]=p,this.uint16[T+4]=v,i}}Qh.prototype.bytesPerElement=12,Hi(Qh,"StructArrayLayout1ul3ui12");class jl extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,o){const h=this.length;return this.resize(h+1),this.emplace(h,i,o)}emplace(i,o,h){const p=2*i;return this.uint16[p+0]=o,this.uint16[p+1]=h,i}}jl.prototype.bytesPerElement=4,Hi(jl,"StructArrayLayout2ui4");class vh extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const o=this.length;return this.resize(o+1),this.emplace(o,i)}emplace(i,o){return this.uint16[1*i+0]=o,i}}vh.prototype.bytesPerElement=2,Hi(vh,"StructArrayLayout1ui2");class Lp extends mn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,o){const h=this.length;return this.resize(h+1),this.emplace(h,i,o)}emplace(i,o,h){const p=2*i;return this.float32[p+0]=o,this.float32[p+1]=h,i}}Lp.prototype.bytesPerElement=8,Hi(Lp,"StructArrayLayout2f8");class e_ extends Hn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}e_.prototype.size=40;class Bm extends To{get(i){return new e_(this,i)}}Hi(Bm,"CollisionBoxArray");class wl extends Hn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(i){this._structArray.uint8[this._pos1+49]=i}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(i){this._structArray.uint8[this._pos1+50]=i}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(i){this._structArray.uint32[this._pos4+13]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(i){this._structArray.uint8[this._pos1+58]=i}}wl.prototype.size=60;class t_ extends da{get(i){return new wl(this,i)}}Hi(t_,"PlacedSymbolArray");class Op extends Hn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(i){this._structArray.uint32[this._pos4+15]=i}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Op.prototype.size=76;class r0 extends Fl{get(i){return new Op(this,i)}}Hi(r0,"SymbolInstanceArray");class zm extends Va{getoffsetX(i){return this.float32[1*i+0]}}Hi(zm,"GlyphOffsetArray");class Nm extends Es{getx(i){return this.int16[2*i+0]}gety(i){return this.int16[2*i+1]}}Hi(Nm,"SymbolLineVertexArray");class Ha extends Hn{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Ha.prototype.size=12;class xh extends Qh{get(i){return new Ha(this,i)}}Hi(xh,"FeatureIndexArray");class o0 extends jl{geta_centroid_pos0(i){return this.uint16[2*i+0]}geta_centroid_pos1(i){return this.uint16[2*i+1]}}Hi(o0,"FillExtrusionCentroidArray");const i_=Zi([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),a0=Zi([{name:"a_dash",components:4,type:"Uint16"}]);var kd={exports:{}},l0={exports:{}};l0.exports=function(r,i){var o,h,p,v,T,R,Y,te;for(h=r.length-(o=3&r.length),p=i,T=3432918353,R=461845907,te=0;te<h;)Y=255&r.charCodeAt(te)|(255&r.charCodeAt(++te))<<8|(255&r.charCodeAt(++te))<<16|(255&r.charCodeAt(++te))<<24,++te,p=27492+(65535&(v=5*(65535&(p=(p^=Y=(65535&(Y=(Y=(65535&Y)*T+(((Y>>>16)*T&65535)<<16)&4294967295)<<15|Y>>>17))*R+(((Y>>>16)*R&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(v>>>16)&65535)<<16);switch(Y=0,o){case 3:Y^=(255&r.charCodeAt(te+2))<<16;case 2:Y^=(255&r.charCodeAt(te+1))<<8;case 1:p^=Y=(65535&(Y=(Y=(65535&(Y^=255&r.charCodeAt(te)))*T+(((Y>>>16)*T&65535)<<16)&4294967295)<<15|Y>>>17))*R+(((Y>>>16)*R&65535)<<16)&4294967295}return p^=r.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0};var Fm={exports:{}};Fm.exports=function(r,i){for(var o,h=r.length,p=i^h,v=0;h>=4;)o=1540483477*(65535&(o=255&r.charCodeAt(v)|(255&r.charCodeAt(++v))<<8|(255&r.charCodeAt(++v))<<16|(255&r.charCodeAt(++v))<<24))+((1540483477*(o>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(o=1540483477*(65535&(o^=o>>>24))+((1540483477*(o>>>16)&65535)<<16)),h-=4,++v;switch(h){case 3:p^=(255&r.charCodeAt(v+2))<<16;case 2:p^=(255&r.charCodeAt(v+1))<<8;case 1:p=1540483477*(65535&(p^=255&r.charCodeAt(v)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0};var c0=l0.exports,jm=Fm.exports;kd.exports=c0,kd.exports.murmur3=c0,kd.exports.murmur2=jm;class uc{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,o,h,p){this.ids.push(n_(i)),this.positions.push(o,h,p)}getPositions(i){const o=n_(i);let h=0,p=this.ids.length-1;for(;h<p;){const T=h+p>>1;this.ids[T]>=o?p=T:h=T+1}const v=[];for(;this.ids[h]===o;)v.push({index:this.positions[3*h],start:this.positions[3*h+1],end:this.positions[3*h+2]}),h++;return v}static serialize(i,o){const h=new Float64Array(i.ids),p=new Uint32Array(i.positions);return Hc(h,p,0,h.length-1),o&&o.push(h.buffer,p.buffer),{ids:h,positions:p}}static deserialize(i){const o=new uc;return o.ids=i.ids,o.positions=i.positions,o.indexed=!0,o}}function n_(r){const i=+r;return!isNaN(i)&&Number.MIN_SAFE_INTEGER<=i&&i<=Number.MAX_SAFE_INTEGER?i:kd.exports(String(r))}function Hc(r,i,o,h){for(;o<h;){const p=r[o+h>>1];let v=o-1,T=h+1;for(;;){do v++;while(r[v]<p);do T--;while(r[T]>p);if(v>=T)break;Rp(r,v,T),Rp(i,3*v,3*T),Rp(i,3*v+1,3*T+1),Rp(i,3*v+2,3*T+2)}T-o<h-T?(Hc(r,i,o,T),o=T+1):(Hc(r,i,T+1,h),h=T)}}function Rp(r,i,o){const h=r[i];r[i]=r[o],r[o]=h}Hi(uc,"FeaturePositionMap");class $c{constructor(i){this.gl=i.gl,this.initialized=!1}fetchUniformLocation(i,o){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(i,o),this.initialized=!0),!!this.location}}class xu extends $c{constructor(i){super(i),this.current=0}set(i,o,h){this.fetchUniformLocation(i,o)&&this.current!==h&&(this.current=h,this.gl.uniform1f(this.location,h))}}class s_ extends $c{constructor(i){super(i),this.current=[0,0,0,0]}set(i,o,h){this.fetchUniformLocation(i,o)&&(h[0]===this.current[0]&&h[1]===this.current[1]&&h[2]===this.current[2]&&h[3]===this.current[3]||(this.current=h,this.gl.uniform4f(this.location,h[0],h[1],h[2],h[3])))}}class r_ extends $c{constructor(i){super(i),this.current=rr.transparent}set(i,o,h){this.fetchUniformLocation(i,o)&&(h.r===this.current.r&&h.g===this.current.g&&h.b===this.current.b&&h.a===this.current.a||(this.current=h,this.gl.uniform4f(this.location,h.r,h.g,h.b,h.a)))}}const Ix=new Float32Array(16),o_=new Float32Array(9),a_=new Float32Array(4);function Um(r){return[rn(255*r.r,255*r.g),rn(255*r.b,255*r.a)]}class bu{constructor(i,o,h){this.value=i,this.uniformNames=o.map(p=>`u_${p}`),this.type=h}setUniform(i,o,h,p,v){o.set(i,v,p.constantOr(this.value))}getBinding(i,o){return this.type==="color"?new r_(i):new xu(i)}}class Pd{constructor(i,o){this.uniformNames=o.map(h=>`u_${h}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(i){this.pixelRatio=i.pixelRatio||1,this.pattern=i.tl.concat(i.br)}setUniform(i,o,h,p,v){const T=v==="u_pattern"||v==="u_dash"?this.pattern:v==="u_pixel_ratio"?this.pixelRatio:null;T&&o.set(i,v,T)}getBinding(i,o){return o==="u_pattern"||o==="u_dash"?new s_(i):new xu(i)}}class Jr{constructor(i,o,h,p){this.expression=i,this.type=h,this.maxValue=0,this.paintVertexAttributes=o.map(v=>({name:`a_${v}`,type:"Float32",components:h==="color"?2:1,offset:0})),this.paintVertexArray=new p}populatePaintArray(i,o,h,p,v,T){const R=this.paintVertexArray.length,Y=this.expression.evaluate(new Nt(0),o,{},v,p,T);this.paintVertexArray.resize(i),this._setPaintValue(R,i,Y)}updatePaintArray(i,o,h,p,v){const T=this.expression.evaluate({zoom:0},h,p,void 0,v);this._setPaintValue(i,o,T)}_setPaintValue(i,o,h){if(this.type==="color"){const p=Um(h);for(let v=i;v<o;v++)this.paintVertexArray.emplace(v,p[0],p[1])}else{for(let p=i;p<o;p++)this.paintVertexArray.emplace(p,h);this.maxValue=Math.max(this.maxValue,Math.abs(h))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class mo{constructor(i,o,h,p,v,T){this.expression=i,this.uniformNames=o.map(R=>`u_${R}_t`),this.type=h,this.useIntegerZoom=p,this.zoom=v,this.maxValue=0,this.paintVertexAttributes=o.map(R=>({name:`a_${R}`,type:"Float32",components:h==="color"?4:2,offset:0})),this.paintVertexArray=new T}populatePaintArray(i,o,h,p,v,T){const R=this.expression.evaluate(new Nt(this.zoom),o,{},v,p,T),Y=this.expression.evaluate(new Nt(this.zoom+1),o,{},v,p,T),te=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(te,i,R,Y)}updatePaintArray(i,o,h,p,v){const T=this.expression.evaluate({zoom:this.zoom},h,p,void 0,v),R=this.expression.evaluate({zoom:this.zoom+1},h,p,void 0,v);this._setPaintValue(i,o,T,R)}_setPaintValue(i,o,h,p){if(this.type==="color"){const v=Um(h),T=Um(p);for(let R=i;R<o;R++)this.paintVertexArray.emplace(R,v[0],v[1],T[0],T[1])}else{for(let v=i;v<o;v++)this.paintVertexArray.emplace(v,h,p);this.maxValue=Math.max(this.maxValue,Math.abs(h),Math.abs(p))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,o,h,p,v){const T=this.useIntegerZoom?Math.floor(h.zoom):h.zoom,R=y(this.expression.interpolationFactor(T,this.zoom,this.zoom+1),0,1);o.set(i,v,R)}getBinding(i,o){return new xu(i)}}class ed{constructor(i,o,h,p,v){this.expression=i,this.layerId=v,this.paintVertexAttributes=(h==="array"?a0:i_).members;for(let T=0;T<o.length;++T);this.paintVertexArray=new p}populatePaintArray(i,o,h){const p=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValues(p,i,o.patterns&&o.patterns[this.layerId],h)}updatePaintArray(i,o,h,p,v,T){this._setPaintValues(i,o,h.patterns&&h.patterns[this.layerId],T)}_setPaintValues(i,o,h,p){if(!p||!h)return;const v=p[h];if(!v)return;const{tl:T,br:R,pixelRatio:Y}=v;for(let te=i;te<o;te++)this.paintVertexArray.emplace(te,T[0],T[1],R[0],R[1],Y)}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class td{constructor(i,o,h=()=>!0){this.binders={},this._buffers=[];const p=[];for(const v in i.paint._values){if(!h(v))continue;const T=i.paint.get(v);if(!(T instanceof gi&&ni(T.property.specification)))continue;const R=l_(v,i.type),Y=T.value,te=T.property.specification.type,de=T.property.useIntegerZoom,ve=v==="line-dasharray"||v.endsWith("pattern"),Ee=v==="line-dasharray"&&i.layout.get("line-cap").value.kind!=="constant";if(Y.kind!=="constant"||Ee)if(Y.kind==="source"||Ee||ve){const Pe=Gm(v,te,"source");this.binders[v]=ve?new ed(Y,R,te,Pe,i.id):new Jr(Y,R,te,Pe),p.push(`/a_${v}`)}else{const Pe=Gm(v,te,"composite");this.binders[v]=new mo(Y,R,te,de,o,Pe),p.push(`/z_${v}`)}else this.binders[v]=ve?new Pd(Y.value,R):new bu(Y.value,R,te),p.push(`/u_${v}`)}this.cacheKey=p.sort().join("")}getMaxValue(i){const o=this.binders[i];return o instanceof Jr||o instanceof mo?o.maxValue:0}populatePaintArrays(i,o,h,p,v,T){for(const R in this.binders){const Y=this.binders[R];(Y instanceof Jr||Y instanceof mo||Y instanceof ed)&&Y.populatePaintArray(i,o,h,p,v,T)}}setConstantPatternPositions(i){for(const o in this.binders){const h=this.binders[o];h instanceof Pd&&h.setConstantPatternPositions(i)}}updatePaintArrays(i,o,h,p,v,T){let R=!1;for(const Y in i){const te=o.getPositions(Y);for(const de of te){const ve=h.feature(de.index);for(const Ee in this.binders){const Pe=this.binders[Ee];if((Pe instanceof Jr||Pe instanceof mo||Pe instanceof ed)&&Pe.expression.isStateDependent===!0){const Re=p.paint.get(Ee);Pe.expression=Re.value,Pe.updatePaintArray(de.start,de.end,ve,i[Y],v,T),R=!0}}}}return R}defines(){const i=[];for(const o in this.binders){const h=this.binders[o];(h instanceof bu||h instanceof Pd)&&i.push(...h.uniformNames.map(p=>`#define HAS_UNIFORM_${p}`))}return i}getBinderAttributes(){const i=[];for(const o in this.binders){const h=this.binders[o];if(h instanceof Jr||h instanceof mo||h instanceof ed)for(let p=0;p<h.paintVertexAttributes.length;p++)i.push(h.paintVertexAttributes[p].name)}return i}getBinderUniforms(){const i=[];for(const o in this.binders){const h=this.binders[o];if(h instanceof bu||h instanceof Pd||h instanceof mo)for(const p of h.uniformNames)i.push(p)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i){const o=[];for(const h in this.binders){const p=this.binders[h];if(p instanceof bu||p instanceof Pd||p instanceof mo)for(const v of p.uniformNames)o.push({name:v,property:h,binding:p.getBinding(i,v)})}return o}setUniforms(i,o,h,p,v){for(const{name:T,property:R,binding:Y}of h)this.binders[R].setUniform(i,Y,v,p.get(R),T)}updatePaintBuffers(){this._buffers=[];for(const i in this.binders){const o=this.binders[i];(o instanceof Jr||o instanceof mo||o instanceof ed)&&o.paintVertexBuffer&&this._buffers.push(o.paintVertexBuffer)}}upload(i){for(const o in this.binders){const h=this.binders[o];(h instanceof Jr||h instanceof mo||h instanceof ed)&&h.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const o=this.binders[i];(o instanceof Jr||o instanceof mo||o instanceof ed)&&o.destroy()}}}class Wc{constructor(i,o,h=()=>!0){this.programConfigurations={};for(const p of i)this.programConfigurations[p.id]=new td(p,o,h);this.needsUpload=!1,this._featureMap=new uc,this._bufferOffset=0}populatePaintArrays(i,o,h,p,v,T,R){for(const Y in this.programConfigurations)this.programConfigurations[Y].populatePaintArrays(i,o,p,v,T,R);o.id!==void 0&&this._featureMap.add(o.id,h,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,o,h,p,v){for(const T of h)this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(i,this._featureMap,o,T,p,v)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const o in this.programConfigurations)this.programConfigurations[o].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}const wu={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function l_(r,i){return wu[r]||[r.replace(`${i}-`,"").replace(/-/g,"_")]}const c_={"line-pattern":{source:zo,composite:zo},"fill-pattern":{source:zo,composite:zo},"fill-extrusion-pattern":{source:zo,composite:zo},"line-dasharray":{source:xl,composite:xl}},Lx={color:{source:Lp,composite:qo},number:{source:Va,composite:Lp}};function Gm(r,i,o){const h=c_[r];return h&&h[o]||Lx[i][o]}Hi(bu,"ConstantBinder"),Hi(Pd,"PatternConstantBinder"),Hi(Jr,"SourceExpressionBinder"),Hi(ed,"PatternCompositeBinder"),Hi(mo,"CompositeExpressionBinder"),Hi(td,"ProgramConfiguration",{omit:["_buffers"]}),Hi(Wc,"ProgramConfigurationSet");const bh="-transition";class Ca extends jr{constructor(i,o){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,i.type!=="custom"&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&i.type!=="sky"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),o.layout&&(this._unevaluatedLayout=new ei(o.layout)),o.paint)){this._transitionablePaint=new ci(o.paint);for(const h in i.paint)this.setPaintProperty(h,i.paint[h],{validate:!1});for(const h in i.layout)this.setLayoutProperty(h,i.layout[h],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Di(o.paint)}}getLayoutProperty(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,o,h={}){o!=null&&this._validate(_h,`layers.${this.id}.layout.${i}`,i,o,h)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,o):this.visibility=o)}getPaintProperty(i){return ye(i,bh)?this._transitionablePaint.getTransition(i.slice(0,-bh.length)):this._transitionablePaint.getValue(i)}setPaintProperty(i,o,h={}){if(o!=null&&this._validate(Rm,`layers.${this.id}.paint.${i}`,i,o,h))return!1;if(ye(i,bh))return this._transitionablePaint.setTransition(i.slice(0,-bh.length),o||void 0),!1;{const p=this._transitionablePaint._values[i],v=p.value.isDataDriven(),T=p.value;this._transitionablePaint.setValue(i,o),this._handleSpecialPaintPropertyUpdate(i);const R=this._transitionablePaint._values[i].value,Y=R.isDataDriven(),te=ye(i,"pattern")||i==="line-dasharray";return Y||v||te||this._handleOverridablePaintPropertyUpdate(i,T,R)}}_handleSpecialPaintPropertyUpdate(i){}getProgramIds(){return null}getProgramConfiguration(i){return null}_handleOverridablePaintPropertyUpdate(i,o,h){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,o){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,o)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,o)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),ae(i,(o,h)=>!(o===void 0||h==="layout"&&!Object.keys(o).length||h==="paint"&&!Object.keys(o).length))}_validate(i,o,h,p,v={}){return(!v||v.validate!==!1)&&Xf(this,i.call(Ep,{key:o,layerType:this.type,objectKey:h,value:p,styleSpec:ai,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const o=this.paint.get(i);if(o instanceof gi&&ni(o.property.specification)&&(o.value.kind==="source"||o.value.kind==="composite")&&o.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=mr(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Ox=Zi([{name:"a_pos",components:2,type:"Int16"}],4),h_=Zi([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Hr{constructor(i=[]){this.segments=i}prepareSegment(i,o,h,p){let v=this.segments[this.segments.length-1];return i>Hr.MAX_VERTEX_ARRAY_LENGTH&&le(`Max vertices per segment is ${Hr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!v||v.vertexLength+i>Hr.MAX_VERTEX_ARRAY_LENGTH||v.sortKey!==p)&&(v={vertexOffset:o.length,primitiveOffset:h.length,vertexLength:0,primitiveLength:0},p!==void 0&&(v.sortKey=p),this.segments.push(v)),v}get(){return this.segments}destroy(){for(const i of this.segments)for(const o in i.vaos)i.vaos[o].destroy()}static simpleSegment(i,o,h,p){return new Hr([{vertexOffset:i,primitiveOffset:o,vertexLength:h,primitiveLength:p,vaos:{},sortKey:0}])}}Hr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Hi(Hr,"SegmentVector");var vn=8192;class wh{constructor(i,o){i&&(o?this.setSouthWest(i).setNorthEast(o):i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1]))}setNorthEast(i){return this._ne=i instanceof hs?new hs(i.lng,i.lat):hs.convert(i),this}setSouthWest(i){return this._sw=i instanceof hs?new hs(i.lng,i.lat):hs.convert(i),this}extend(i){const o=this._sw,h=this._ne;let p,v;if(i instanceof hs)p=i,v=i;else{if(!(i instanceof wh))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(wh.convert(i)):this.extend(hs.convert(i)):typeof i=="object"&&i!==null&&i.hasOwnProperty("lat")&&i.hasOwnProperty("lon")?this.extend(hs.convert(i)):this;if(p=i._sw,v=i._ne,!p||!v)return this}return o||h?(o.lng=Math.min(p.lng,o.lng),o.lat=Math.min(p.lat,o.lat),h.lng=Math.max(v.lng,h.lng),h.lat=Math.max(v.lat,h.lat)):(this._sw=new hs(p.lng,p.lat),this._ne=new hs(v.lng,v.lat)),this}getCenter(){return new hs((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new hs(this.getWest(),this.getNorth())}getSouthEast(){return new hs(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:o,lat:h}=hs.convert(i);let p=this._sw.lng<=o&&o<=this._ne.lng;return this._sw.lng>this._ne.lng&&(p=this._sw.lng>=o&&o>=this._ne.lng),this._sw.lat<=h&&h<=this._ne.lat&&p}static convert(i){return!i||i instanceof wh?i:new wh(i)}}const Dd=63710088e-1;class hs{constructor(i,o){if(isNaN(i)||isNaN(o))throw new Error(`Invalid LngLat object: (${i}, ${o})`);if(this.lng=+i,this.lat=+o,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new hs(P(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const o=Math.PI/180,h=this.lat*o,p=i.lat*o,v=Math.sin(h)*Math.sin(p)+Math.cos(h)*Math.cos(p)*Math.cos((i.lng-this.lng)*o);return Dd*Math.acos(Math.min(v,1))}toBounds(i=0){const o=360*i/40075017,h=o/Math.cos(Math.PI/180*this.lat);return new wh(new hs(this.lng-h,this.lat-o),new hs(this.lng+h,this.lat+o))}static convert(i){if(i instanceof hs)return i;if(Array.isArray(i)&&(i.length===2||i.length===3))return new hs(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&typeof i=="object"&&i!==null)return new hs(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Bp=2*Math.PI*Dd;function Vm(r){return Bp*Math.cos(r*Math.PI/180)}function pc(r){return(180+r)/360}function Sl(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function Tl(r,i){return r/Vm(i)}function Ma(r){return 360*r-180}function Fo(r){return 360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90}function Hm(r,i){return r*Vm(Fo(i))}const jo=85.051129;function $m(r){return 1/Math.cos(r*Math.PI/180)}class Id{constructor(i,o,h=0){this.x=+i,this.y=+o,this.z=+h}static fromLngLat(i,o=0){const h=hs.convert(i);return new Id(pc(h.lng),Sl(h.lat),Tl(o,h.lat))}toLngLat(){return new hs(Ma(this.x),Fo(this.y))}toAltitude(){return Hm(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Bp*$m(Fo(this.y))}}function Wm(r,i,o,h,p,v,T,R,Y){const te=(i+h)/2,de=(o+p)/2,ve=new G(te,de);R(ve),function(Ee,Pe,Re,He,Ke,mt){const Et=Re-Ke,ft=He-mt;return Math.abs((He-Pe)*Et-(Re-Ee)*ft)/Math.hypot(Et,ft)}(ve.x,ve.y,v.x,v.y,T.x,T.y)>=Y?(Wm(r,i,o,te,de,v,ve,R,Y),Wm(r,te,de,h,p,ve,T,R,Y)):r.push(T)}function qm(r,i,o){let h=r[0],p=h.x,v=h.y;i(h);const T=[h];for(let R=1;R<r.length;R++){const Y=r[R],{x:te,y:de}=Y;i(Y),Wm(T,p,v,te,de,h,Y,i,o),p=te,v=de,h=Y}return T}function Ym(r,i,o,h){if(h(i,o)){const p=i.add(o)._mult(.5);Ym(r,i,p,h),Ym(r,p,o,h)}else r.push(o)}function Rx(r,i){let o=r[0];const h=[o];for(let p=1;p<r.length;p++){const v=r[p];Ym(h,o,v,i),o=v}return h}const fc=Math.pow(2,14)-1,h0=-fc-1;function Xm(r,i){const o=Math.round(r.x*i),h=Math.round(r.y*i);return r.x=y(o,h0,fc),r.y=y(h,h0,fc),(o<r.x||o>r.x+1||h<r.y||h>r.y+1)&&le("Geometry exceeds allowed extent, reduce your vector tile buffer size"),r}function mc(r,i,o){const h=r.loadGeometry(),p=r.extent,v=vn/p;if(i&&o&&o.projection.isReprojectedInTileSpace){const T=1<<i.z,{scale:R,x:Y,y:te,projection:de}=o,ve=Ee=>{const Pe=Ma((i.x+Ee.x/p)/T),Re=Fo((i.y+Ee.y/p)/T),He=de.project(Pe,Re);Ee.x=(He.x*R-Y)*p,Ee.y=(He.y*R-te)*p};for(let Ee=0;Ee<h.length;Ee++)if(r.type!==1)h[Ee]=qm(h[Ee],ve,1);else{const Pe=[];for(const Re of h[Ee])Re.x<0||Re.x>=p||Re.y<0||Re.y>=p||(ve(Re),Pe.push(Re));h[Ee]=Pe}}for(const T of h)for(const R of T)Xm(R,v);return h}function qc(r,i){return{type:r.type,id:r.id,properties:r.properties,geometry:i?mc(r):[]}}function Sh(r,i,o,h,p){r.emplaceBack(2*i+(h+1)/2,2*o+(p+1)/2)}function Ln(r,i,o){r.emplaceBack(i.x,i.y,i.z,o[0]*16384,o[1]*16384,o[2]*16384)}class Su{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.projection=i.projection,this.layoutVertexArray=new Es,this.indexArray=new Eo,this.segments=new Hr,this.programConfigurations=new Wc(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(i,o,h,p){const v=this.layers[0],T=[];let R=null;v.type==="circle"&&(R=v.layout.get("circle-sort-key"));for(const{feature:te,id:de,index:ve,sourceLayerIndex:Ee}of i){const Pe=this.layers[0]._featureFilter.needGeometry,Re=qc(te,Pe);if(!this.layers[0]._featureFilter.filter(new Nt(this.zoom),Re,h))continue;const He=R?R.evaluate(Re,{},h):void 0,Ke={id:de,properties:te.properties,type:te.type,sourceLayerIndex:Ee,index:ve,geometry:Pe?Re.geometry:mc(te,h,p),patterns:{},sortKey:He};T.push(Ke)}R&&T.sort((te,de)=>te.sortKey-de.sortKey);let Y=null;p.projection.name==="globe"&&(this.globeExtVertexArray=new Ys,Y=p.projection);for(const te of T){const{geometry:de,index:ve,sourceLayerIndex:Ee}=te,Pe=i[ve].feature;this.addFeature(te,de,ve,o.availableImages,h,Y),o.featureIndex.insert(Pe,de,ve,Ee,this.index)}}update(i,o,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,Ox.members),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=i.createVertexBuffer(this.globeExtVertexArray,h_.members))),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(i,o,h,p,v,T){for(const R of o)for(const Y of R){const te=Y.x,de=Y.y;if(te<0||te>=vn||de<0||de>=vn)continue;if(T){const Pe=T.projectTilePoint(te,de,v),Re=T.upVector(v,te,de),He=this.globeExtVertexArray;Ln(He,Pe,Re),Ln(He,Pe,Re),Ln(He,Pe,Re),Ln(He,Pe,Re)}const ve=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),Ee=ve.vertexLength;Sh(this.layoutVertexArray,te,de,-1,-1),Sh(this.layoutVertexArray,te,de,1,-1),Sh(this.layoutVertexArray,te,de,1,1),Sh(this.layoutVertexArray,te,de,-1,1),this.indexArray.emplaceBack(Ee,Ee+1,Ee+2),this.indexArray.emplaceBack(Ee,Ee+2,Ee+3),ve.vertexLength+=4,ve.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,h,{},p,v)}}function d0(r,i){for(let o=0;o<r.length;o++)if(Od(i,r[o]))return!0;for(let o=0;o<i.length;o++)if(Od(r,i[o]))return!0;return!!u0(r,i)}function Ld(r,i,o){return!!Od(r,i)||!!Km(i,r,o)}function d_(r,i){if(r.length===1)return Jm(i,r[0]);for(let o=0;o<i.length;o++){const h=i[o];for(let p=0;p<h.length;p++)if(Od(r,h[p]))return!0}for(let o=0;o<r.length;o++)if(Jm(i,r[o]))return!0;for(let o=0;o<i.length;o++)if(u0(r,i[o]))return!0;return!1}function Zm(r,i,o){if(r.length>1){if(u0(r,i))return!0;for(let h=0;h<i.length;h++)if(Km(i[h],r,o))return!0}for(let h=0;h<r.length;h++)if(Km(r[h],i,o))return!0;return!1}function u0(r,i){if(r.length===0||i.length===0)return!1;for(let o=0;o<r.length-1;o++){const h=r[o],p=r[o+1];for(let v=0;v<i.length-1;v++)if(ua(h,p,i[v],i[v+1]))return!0}return!1}function ua(r,i,o,h){return me(r,o,h)!==me(i,o,h)&&me(r,i,o)!==me(r,i,h)}function Km(r,i,o){const h=o*o;if(i.length===1)return r.distSqr(i[0])<h;for(let p=1;p<i.length;p++)if(u_(r,i[p-1],i[p])<h)return!0;return!1}function u_(r,i,o){const h=i.distSqr(o);if(h===0)return r.distSqr(i);const p=((r.x-i.x)*(o.x-i.x)+(r.y-i.y)*(o.y-i.y))/h;return r.distSqr(p<0?i:p>1?o:o.sub(i)._mult(p)._add(i))}function Jm(r,i){let o,h,p,v=!1;for(let T=0;T<r.length;T++){o=r[T];for(let R=0,Y=o.length-1;R<o.length;Y=R++)h=o[R],p=o[Y],h.y>i.y!=p.y>i.y&&i.x<(p.x-h.x)*(i.y-h.y)/(p.y-h.y)+h.x&&(v=!v)}return v}function Od(r,i){let o=!1;for(let h=0,p=r.length-1;h<r.length;p=h++){const v=r[h],T=r[p];v.y>i.y!=T.y>i.y&&i.x<(T.x-v.x)*(i.y-v.y)/(T.y-v.y)+v.x&&(o=!o)}return o}function Qm(r,i,o,h,p){for(const T of r)if(i<=T.x&&o<=T.y&&h>=T.x&&p>=T.y)return!0;const v=[new G(i,o),new G(i,p),new G(h,p),new G(h,o)];if(r.length>2){for(const T of v)if(Od(r,T))return!0}for(let T=0;T<r.length-1;T++)if(Bx(r[T],r[T+1],v))return!0;return!1}function Bx(r,i,o){const h=o[0],p=o[2];if(r.x<h.x&&i.x<h.x||r.x>p.x&&i.x>p.x||r.y<h.y&&i.y<h.y||r.y>p.y&&i.y>p.y)return!1;const v=me(r,i,o[0]);return v!==me(r,i,o[1])||v!==me(r,i,o[2])||v!==me(r,i,o[3])}function Tu(r,i,o){const h=i.paint.get(r).value;return h.kind==="constant"?h.value:o.programConfigurations.get(i.id).getMaxValue(r)}function p0(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Yc(r,i,o,h,p){if(!i[0]&&!i[1])return r;const v=G.convert(i)._mult(p);o==="viewport"&&v._rotate(-h);const T=[];for(let R=0;R<r.length;R++)T.push(r[R].sub(v));return T}function pa(r,i,o,h){const p=G.convert(r)._mult(h);return i==="viewport"&&p._rotate(-o),p}Hi(Su,"CircleBucket",{omit:["layers"]});const eg=new un({"circle-sort-key":new Kt(ai.layout_circle["circle-sort-key"])});var zx={paint:new un({"circle-radius":new Kt(ai.paint_circle["circle-radius"]),"circle-color":new Kt(ai.paint_circle["circle-color"]),"circle-blur":new Kt(ai.paint_circle["circle-blur"]),"circle-opacity":new Kt(ai.paint_circle["circle-opacity"]),"circle-translate":new jt(ai.paint_circle["circle-translate"]),"circle-translate-anchor":new jt(ai.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new jt(ai.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new jt(ai.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Kt(ai.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Kt(ai.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Kt(ai.paint_circle["circle-stroke-opacity"])}),layout:eg},Eu=1e-6,$a=typeof Float32Array<"u"?Float32Array:Array;function p_(){var r=new $a(9);return $a!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function Cu(r,i,o){var h=i[0],p=i[1],v=i[2],T=i[3],R=i[4],Y=i[5],te=i[6],de=i[7],ve=i[8],Ee=o[0],Pe=o[1],Re=o[2],He=o[3],Ke=o[4],mt=o[5],Et=o[6],ft=o[7],xt=o[8];return r[0]=Ee*h+Pe*T+Re*te,r[1]=Ee*p+Pe*R+Re*de,r[2]=Ee*v+Pe*Y+Re*ve,r[3]=He*h+Ke*T+mt*te,r[4]=He*p+Ke*R+mt*de,r[5]=He*v+Ke*Y+mt*ve,r[6]=Et*h+ft*T+xt*te,r[7]=Et*p+ft*R+xt*de,r[8]=Et*v+ft*Y+xt*ve,r}function Ul(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function f0(r,i){var o=i[0],h=i[1],p=i[2],v=i[3],T=i[4],R=i[5],Y=i[6],te=i[7],de=i[8],ve=i[9],Ee=i[10],Pe=i[11],Re=i[12],He=i[13],Ke=i[14],mt=i[15],Et=o*R-h*T,ft=o*Y-p*T,xt=o*te-v*T,At=h*Y-p*R,Ct=h*te-v*R,Xt=p*te-v*Y,Yt=de*He-ve*Re,hi=de*Ke-Ee*Re,Li=de*mt-Pe*Re,ii=ve*Ke-Ee*He,mi=ve*mt-Pe*He,_i=Ee*mt-Pe*Ke,Mi=Et*_i-ft*mi+xt*ii+At*Li-Ct*hi+Xt*Yt;return Mi?(r[0]=(R*_i-Y*mi+te*ii)*(Mi=1/Mi),r[1]=(p*mi-h*_i-v*ii)*Mi,r[2]=(He*Xt-Ke*Ct+mt*At)*Mi,r[3]=(Ee*Ct-ve*Xt-Pe*At)*Mi,r[4]=(Y*Li-T*_i-te*hi)*Mi,r[5]=(o*_i-p*Li+v*hi)*Mi,r[6]=(Ke*xt-Re*Xt-mt*ft)*Mi,r[7]=(de*Xt-Ee*xt+Pe*ft)*Mi,r[8]=(T*mi-R*Li+te*Yt)*Mi,r[9]=(h*Li-o*mi-v*Yt)*Mi,r[10]=(Re*Ct-He*xt+mt*Et)*Mi,r[11]=(ve*xt-de*Ct-Pe*Et)*Mi,r[12]=(R*hi-T*ii-Y*Yt)*Mi,r[13]=(o*ii-h*hi+p*Yt)*Mi,r[14]=(He*ft-Re*At-Ke*Et)*Mi,r[15]=(de*At-ve*ft+Ee*Et)*Mi,r):null}function Rd(r,i,o){var h=i[0],p=i[1],v=i[2],T=i[3],R=i[4],Y=i[5],te=i[6],de=i[7],ve=i[8],Ee=i[9],Pe=i[10],Re=i[11],He=i[12],Ke=i[13],mt=i[14],Et=i[15],ft=o[0],xt=o[1],At=o[2],Ct=o[3];return r[0]=ft*h+xt*R+At*ve+Ct*He,r[1]=ft*p+xt*Y+At*Ee+Ct*Ke,r[2]=ft*v+xt*te+At*Pe+Ct*mt,r[3]=ft*T+xt*de+At*Re+Ct*Et,r[4]=(ft=o[4])*h+(xt=o[5])*R+(At=o[6])*ve+(Ct=o[7])*He,r[5]=ft*p+xt*Y+At*Ee+Ct*Ke,r[6]=ft*v+xt*te+At*Pe+Ct*mt,r[7]=ft*T+xt*de+At*Re+Ct*Et,r[8]=(ft=o[8])*h+(xt=o[9])*R+(At=o[10])*ve+(Ct=o[11])*He,r[9]=ft*p+xt*Y+At*Ee+Ct*Ke,r[10]=ft*v+xt*te+At*Pe+Ct*mt,r[11]=ft*T+xt*de+At*Re+Ct*Et,r[12]=(ft=o[12])*h+(xt=o[13])*R+(At=o[14])*ve+(Ct=o[15])*He,r[13]=ft*p+xt*Y+At*Ee+Ct*Ke,r[14]=ft*v+xt*te+At*Pe+Ct*mt,r[15]=ft*T+xt*de+At*Re+Ct*Et,r}function zp(r,i,o){var h,p,v,T,R,Y,te,de,ve,Ee,Pe,Re,He=o[0],Ke=o[1],mt=o[2];return i===r?(r[12]=i[0]*He+i[4]*Ke+i[8]*mt+i[12],r[13]=i[1]*He+i[5]*Ke+i[9]*mt+i[13],r[14]=i[2]*He+i[6]*Ke+i[10]*mt+i[14],r[15]=i[3]*He+i[7]*Ke+i[11]*mt+i[15]):(p=i[1],v=i[2],T=i[3],R=i[4],Y=i[5],te=i[6],de=i[7],ve=i[8],Ee=i[9],Pe=i[10],Re=i[11],r[0]=h=i[0],r[1]=p,r[2]=v,r[3]=T,r[4]=R,r[5]=Y,r[6]=te,r[7]=de,r[8]=ve,r[9]=Ee,r[10]=Pe,r[11]=Re,r[12]=h*He+R*Ke+ve*mt+i[12],r[13]=p*He+Y*Ke+Ee*mt+i[13],r[14]=v*He+te*Ke+Pe*mt+i[14],r[15]=T*He+de*Ke+Re*mt+i[15]),r}function Bd(r,i,o){var h=o[0],p=o[1],v=o[2];return r[0]=i[0]*h,r[1]=i[1]*h,r[2]=i[2]*h,r[3]=i[3]*h,r[4]=i[4]*p,r[5]=i[5]*p,r[6]=i[6]*p,r[7]=i[7]*p,r[8]=i[8]*v,r[9]=i[9]*v,r[10]=i[10]*v,r[11]=i[11]*v,r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15],r}function tg(r,i,o){var h=Math.sin(o),p=Math.cos(o),v=i[4],T=i[5],R=i[6],Y=i[7],te=i[8],de=i[9],ve=i[10],Ee=i[11];return i!==r&&(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15]),r[4]=v*p+te*h,r[5]=T*p+de*h,r[6]=R*p+ve*h,r[7]=Y*p+Ee*h,r[8]=te*p-v*h,r[9]=de*p-T*h,r[10]=ve*p-R*h,r[11]=Ee*p-Y*h,r}function Np(r,i,o){var h=Math.sin(o),p=Math.cos(o),v=i[0],T=i[1],R=i[2],Y=i[3],te=i[8],de=i[9],ve=i[10],Ee=i[11];return i!==r&&(r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15]),r[0]=v*p-te*h,r[1]=T*p-de*h,r[2]=R*p-ve*h,r[3]=Y*p-Ee*h,r[8]=v*h+te*p,r[9]=T*h+de*p,r[10]=R*h+ve*p,r[11]=Y*h+Ee*p,r}function ig(r,i){return r[0]=i[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=i[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function f_(r,i,o){var h,p,v,T=o[0],R=o[1],Y=o[2],te=Math.hypot(T,R,Y);return te<Eu?null:(T*=te=1/te,R*=te,Y*=te,h=Math.sin(i),p=Math.cos(i),r[0]=T*T*(v=1-p)+p,r[1]=R*T*v+Y*h,r[2]=Y*T*v-R*h,r[3]=0,r[4]=T*R*v-Y*h,r[5]=R*R*v+p,r[6]=Y*R*v+T*h,r[7]=0,r[8]=T*Y*v+R*h,r[9]=R*Y*v-T*h,r[10]=Y*Y*v+p,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r)}Math.hypot||(Math.hypot=function(){for(var r=0,i=arguments.length;i--;)r+=arguments[i]*arguments[i];return Math.sqrt(r)});var ng=Rd;function m0(){var r=new $a(3);return $a!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function Mu(r){var i=new $a(3);return i[0]=r[0],i[1]=r[1],i[2]=r[2],i}function zd(r){return Math.hypot(r[0],r[1],r[2])}function Nd(r,i,o){var h=new $a(3);return h[0]=r,h[1]=i,h[2]=o,h}function Xc(r,i,o){return r[0]=i[0]+o[0],r[1]=i[1]+o[1],r[2]=i[2]+o[2],r}function Au(r,i,o){return r[0]=i[0]-o[0],r[1]=i[1]-o[1],r[2]=i[2]-o[2],r}function sg(r,i,o){return r[0]=i[0]*o[0],r[1]=i[1]*o[1],r[2]=i[2]*o[2],r}function Wa(r,i,o){return r[0]=Math.min(i[0],o[0]),r[1]=Math.min(i[1],o[1]),r[2]=Math.min(i[2],o[2]),r}function gc(r,i,o){return r[0]=Math.max(i[0],o[0]),r[1]=Math.max(i[1],o[1]),r[2]=Math.max(i[2],o[2]),r}function El(r,i,o){return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r}function ku(r,i,o,h){return r[0]=i[0]+o[0]*h,r[1]=i[1]+o[1]*h,r[2]=i[2]+o[2]*h,r}function fa(r,i){var o=i[0],h=i[1],p=i[2],v=o*o+h*h+p*p;return v>0&&(v=1/Math.sqrt(v)),r[0]=i[0]*v,r[1]=i[1]*v,r[2]=i[2]*v,r}function Gl(r,i){return r[0]*i[0]+r[1]*i[1]+r[2]*i[2]}function rg(r,i,o){var h=i[0],p=i[1],v=i[2],T=o[0],R=o[1],Y=o[2];return r[0]=p*Y-v*R,r[1]=v*T-h*Y,r[2]=h*R-p*T,r}function Br(r,i,o){var h=i[0],p=i[1],v=i[2],T=o[3]*h+o[7]*p+o[11]*v+o[15];return r[0]=(o[0]*h+o[4]*p+o[8]*v+o[12])/(T=T||1),r[1]=(o[1]*h+o[5]*p+o[9]*v+o[13])/T,r[2]=(o[2]*h+o[6]*p+o[10]*v+o[14])/T,r}function m_(r,i,o){var h=o[0],p=o[1],v=o[2],T=i[0],R=i[1],Y=i[2],te=p*Y-v*R,de=v*T-h*Y,ve=h*R-p*T,Ee=p*ve-v*de,Pe=v*te-h*ve,Re=h*de-p*te,He=2*o[3];return de*=He,ve*=He,Pe*=2,Re*=2,r[0]=T+(te*=He)+(Ee*=2),r[1]=R+de+Pe,r[2]=Y+ve+Re,r}var Fp,_c=Au,Nx=sg,Fx=zd;function g_(r,i,o){return r[0]=i[0]*o,r[1]=i[1]*o,r[2]=i[2]*o,r[3]=i[3]*o,r}function __(r,i){var o=i[0],h=i[1],p=i[2],v=i[3],T=o*o+h*h+p*p+v*v;return T>0&&(T=1/Math.sqrt(T)),r[0]=o*T,r[1]=h*T,r[2]=p*T,r[3]=v*T,r}function id(r,i,o){var h=i[0],p=i[1],v=i[2],T=i[3];return r[0]=o[0]*h+o[4]*p+o[8]*v+o[12]*T,r[1]=o[1]*h+o[5]*p+o[9]*v+o[13]*T,r[2]=o[2]*h+o[6]*p+o[10]*v+o[14]*T,r[3]=o[3]*h+o[7]*p+o[11]*v+o[15]*T,r}function og(){var r=new $a(4);return $a!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function ag(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function y_(r,i,o){o*=.5;var h=i[0],p=i[1],v=i[2],T=i[3],R=Math.sin(o),Y=Math.cos(o);return r[0]=h*Y+T*R,r[1]=p*Y+v*R,r[2]=v*Y-p*R,r[3]=T*Y-h*R,r}function v_(r,i,o){o*=.5;var h=i[0],p=i[1],v=i[2],T=i[3],R=Math.sin(o),Y=Math.cos(o);return r[0]=h*Y-v*R,r[1]=p*Y+T*R,r[2]=v*Y+h*R,r[3]=T*Y-p*R,r}m0(),Fp=new $a(4),$a!=Float32Array&&(Fp[0]=0,Fp[1]=0,Fp[2]=0,Fp[3]=0);var jx=__;m0(),Nd(1,0,0),Nd(0,1,0),og(),og(),p_();class g0{constructor(i,o){this.pos=i,this.dir=o}intersectsPlane(i,o,h){const p=Gl(o,this.dir);if(Math.abs(p)<1e-6)return!1;const v=((i[0]-this.pos[0])*o[0]+(i[1]-this.pos[1])*o[1]+(i[2]-this.pos[2])*o[2])/p;return h[0]=this.pos[0]+this.dir[0]*v,h[1]=this.pos[1]+this.dir[1]*v,h[2]=this.pos[2]+this.dir[2]*v,!0}closestPointOnSphere(i,o,h){if(function(Pe,Re){var He=Pe[0],Ke=Pe[1],mt=Pe[2],Et=Re[0],ft=Re[1],xt=Re[2];return Math.abs(He-Et)<=Eu*Math.max(1,Math.abs(He),Math.abs(Et))&&Math.abs(Ke-ft)<=Eu*Math.max(1,Math.abs(Ke),Math.abs(ft))&&Math.abs(mt-xt)<=Eu*Math.max(1,Math.abs(mt),Math.abs(xt))}(this.pos,i)||o===0)return h[0]=h[1]=h[2]=0,!1;const[p,v,T]=this.dir,R=this.pos[0]-i[0],Y=this.pos[1]-i[1],te=this.pos[2]-i[2],de=p*p+v*v+T*T,ve=2*(R*p+Y*v+te*T),Ee=ve*ve-4*de*(R*R+Y*Y+te*te-o*o);if(Ee<0){const Pe=Math.max(-ve/2,0),Re=R+p*Pe,He=Y+v*Pe,Ke=te+T*Pe,mt=Math.hypot(Re,He,Ke);return h[0]=Re*o/mt,h[1]=He*o/mt,h[2]=Ke*o/mt,!1}{const Pe=(-ve-Math.sqrt(Ee))/(2*de);if(Pe<0){const Re=Math.hypot(R,Y,te);return h[0]=R*o/Re,h[1]=Y*o/Re,h[2]=te*o/Re,!1}return h[0]=R+p*Pe,h[1]=Y+v*Pe,h[2]=te+T*Pe,!0}}}class lg{constructor(i,o,h,p,v){this.TL=i,this.TR=o,this.BR=h,this.BL=p,this.horizon=v}static fromInvProjectionMatrix(i,o,h){const p=[-1,1,1],v=[1,1,1],T=[1,-1,1],R=[-1,-1,1],Y=Br(p,p,i),te=Br(v,v,i),de=Br(T,T,i),ve=Br(R,R,i);return new lg(Y,te,de,ve,o/h)}}class cg{constructor(i,o){this.points=i,this.planes=o}static fromInvProjectionMatrix(i,o,h,p){const v=Math.pow(2,h),T=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(Y=>{const te=id([],Y,i),de=1/te[3]/o*v;return function(ve,Ee,Pe){return ve[0]=Ee[0]*Pe[0],ve[1]=Ee[1]*Pe[1],ve[2]=Ee[2]*Pe[2],ve[3]=Ee[3]*Pe[3],ve}(te,te,[de,de,p?1/te[3]:de,de])}),R=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(Y=>{const te=fa([],rg([],_c([],T[Y[0]],T[Y[1]]),_c([],T[Y[2]],T[Y[1]]))),de=-Gl(te,T[Y[1]]);return te.concat(de)});return new cg(T,R)}}class ma{static fromPoints(i){const o=[1/0,1/0,1/0],h=[-1/0,-1/0,-1/0];for(const p of i)Wa(o,o,p),gc(h,h,p);return new ma(o,h)}static applyTransform(i,o){const h=i.getCorners();for(let p=0;p<h.length;++p)Br(h[p],h[p],o);return ma.fromPoints(h)}constructor(i,o){this.min=i,this.max=o,this.center=El([],Xc([],this.min,this.max),.5)}quadrant(i){const o=[i%2==0,i<2],h=Mu(this.min),p=Mu(this.max);for(let v=0;v<o.length;v++)h[v]=o[v]?this.min[v]:this.center[v],p[v]=o[v]?this.center[v]:this.max[v];return p[2]=this.max[2],new ma(h,p)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}distanceZ(i){return Math.max(Math.min(this.max[2],i[2]),this.min[2])-i[2]}getCorners(){const i=this.min,o=this.max;return[[i[0],i[1],i[2]],[o[0],i[1],i[2]],[o[0],o[1],i[2]],[i[0],o[1],i[2]],[i[0],i[1],o[2]],[o[0],i[1],o[2]],[o[0],o[1],o[2]],[i[0],o[1],o[2]]]}intersects(i){const o=this.getCorners();let h=!0;for(let p=0;p<i.planes.length;p++){const v=i.planes[p];let T=0;for(let R=0;R<o.length;R++)T+=Gl(v,o[R])+v[3]>=0;if(T===0)return 0;T!==o.length&&(h=!1)}if(h)return 2;for(let p=0;p<3;p++){let v=Number.MAX_VALUE,T=-Number.MAX_VALUE;for(let R=0;R<i.points.length;R++){const Y=i.points[R][p]-this.min[p];v=Math.min(v,Y),T=Math.max(T,Y)}if(T<0||v>this.max[p]-this.min[p])return 0}return 1}}function x_(r,i,o,h,p,v,T,R,Y){if(v&&r.queryGeometry.isAboveHorizon)return!1;v&&(Y*=r.pixelToTileUnitsFactor);const te=r.tileID.canonical,de=o.projection.upVectorScale(te,o.center.lat,o.worldSize).metersToTile;for(const ve of i)for(const Ee of ve){const Pe=Ee.add(R),Re=p&&o.elevation?o.elevation.exaggeration()*p.getElevationAt(Pe.x,Pe.y,!0):0,He=o.projection.projectTilePoint(Pe.x,Pe.y,te);if(Re>0){const ft=o.projection.upVector(te,Pe.x,Pe.y);He.x+=ft[0]*de*Re,He.y+=ft[1]*de*Re,He.z+=ft[2]*de*Re}const Ke=v?Pe:Ux(He.x,He.y,He.z,h),mt=v?r.tilespaceRays.map(ft=>Gx(ft,Re)):r.queryGeometry.screenGeometry,Et=id([],[He.x,He.y,He.z,1],h);if(!T&&v?Y*=Et[3]/o.cameraToCenterDistance:T&&!v&&(Y*=o.cameraToCenterDistance/Et[3]),v){const ft=Fo((Ee.y/vn+te.y)/(1<<te.z));Y/=o.projection.pixelsPerMeter(ft,1)/Tl(1,ft)}if(Ld(mt,Ke,Y))return!0}return!1}function Ux(r,i,o,h){const p=id([],[r,i,o,1],h);return new G(p[0]/p[3],p[1]/p[3])}const b_=Nd(0,0,0),Vl=Nd(0,0,1);function Gx(r,i){const o=m0();return b_[2]=i,r.intersectsPlane(b_,Vl,o),new G(o[0],o[1])}class w_ extends Su{}function S_(r,{width:i,height:o},h,p){if(p){if(p instanceof Uint8ClampedArray)p=new Uint8Array(p.buffer);else if(p.length!==i*o*h)throw new RangeError("mismatched image size")}else p=new Uint8Array(i*o*h);return r.width=i,r.height=o,r.data=p,r}function hg(r,i,o){const{width:h,height:p}=i;h===r.width&&p===r.height||(dg(r,i,{x:0,y:0},{x:0,y:0},{width:Math.min(r.width,h),height:Math.min(r.height,p)},o),r.width=h,r.height=p,r.data=i.data)}function dg(r,i,o,h,p,v){if(p.width===0||p.height===0)return i;if(p.width>r.width||p.height>r.height||o.x>r.width-p.width||o.y>r.height-p.height)throw new RangeError("out of range source coordinates for image copy");if(p.width>i.width||p.height>i.height||h.x>i.width-p.width||h.y>i.height-p.height)throw new RangeError("out of range destination coordinates for image copy");const T=r.data,R=i.data;for(let Y=0;Y<p.height;Y++){const te=((o.y+Y)*r.width+o.x)*v,de=((h.y+Y)*i.width+h.x)*v;for(let ve=0;ve<p.width*v;ve++)R[de+ve]=T[te+ve]}return i}Hi(w_,"HeatmapBucket",{omit:["layers"]});class Th{constructor(i,o){S_(this,i,1,o)}resize(i){hg(this,new Th(i),1)}clone(){return new Th({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,o,h,p,v){dg(i,o,h,p,v,1)}}class qa{constructor(i,o){S_(this,i,4,o)}resize(i){hg(this,new qa(i),4)}replace(i,o){o?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new qa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,o,h,p,v){dg(i,o,h,p,v,4)}}Hi(Th,"AlphaImage"),Hi(qa,"RGBAImage");var Vx={paint:new un({"heatmap-radius":new Kt(ai.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Kt(ai.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new jt(ai.paint_heatmap["heatmap-intensity"]),"heatmap-color":new sn(ai.paint_heatmap["heatmap-color"]),"heatmap-opacity":new jt(ai.paint_heatmap["heatmap-opacity"])})};function jp(r){const i={},o=r.resolution||256,h=r.clips?r.clips.length:1,p=r.image||new qa({width:o,height:h}),v=(T,R,Y)=>{i[r.evaluationKey]=Y;const te=r.expression.evaluate(i);p.data[T+R+0]=Math.floor(255*te.r/te.a),p.data[T+R+1]=Math.floor(255*te.g/te.a),p.data[T+R+2]=Math.floor(255*te.b/te.a),p.data[T+R+3]=Math.floor(255*te.a)};if(r.clips)for(let T=0,R=0;T<h;++T,R+=4*o)for(let Y=0,te=0;Y<o;Y++,te+=4){const de=Y/(o-1),{start:ve,end:Ee}=r.clips[T];v(R,te,ve*(1-de)+Ee*de)}else for(let T=0,R=0;T<o;T++,R+=4)v(0,R,T/(o-1));return p}var Hx={paint:new un({"hillshade-illumination-direction":new jt(ai.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new jt(ai.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new jt(ai.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new jt(ai.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new jt(ai.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new jt(ai.paint_hillshade["hillshade-accent-color"])})};const $x=Zi([{name:"a_pos",components:2,type:"Int16"}],4),{members:Wx}=$x;var Up={exports:{}};function _0(r,i,o){o=o||2;var h,p,v,T,R,Y,te,de=i&&i.length,ve=de?i[0]*o:r.length,Ee=T_(r,0,ve,o,!0),Pe=[];if(!Ee||Ee.next===Ee.prev)return Pe;if(de&&(Ee=function(He,Ke,mt,Et){var ft,xt,At,Ct=[];for(ft=0,xt=Ke.length;ft<xt;ft++)(At=T_(He,Ke[ft]*Et,ft<xt-1?Ke[ft+1]*Et:He.length,Et,!1))===At.next&&(At.steiner=!0),Ct.push(e2(At));for(Ct.sort(Kx),ft=0;ft<Ct.length;ft++)mt=Jx(Ct[ft],mt);return mt}(r,i,Ee,o)),r.length>80*o){h=v=r[0],p=T=r[1];for(var Re=o;Re<ve;Re+=o)(R=r[Re])<h&&(h=R),(Y=r[Re+1])<p&&(p=Y),R>v&&(v=R),Y>T&&(T=Y);te=(te=Math.max(v-h,T-p))!==0?32767/te:0}return Gp(Ee,Pe,o,h,p,te,0),Pe}function T_(r,i,o,h,p){var v,T;if(p===mg(r,i,o,h)>0)for(v=i;v<o;v+=h)T=C_(v,r[v],r[v+1],T);else for(v=o-h;v>=i;v-=h)T=C_(v,r[v],r[v+1],T);return T&&Du(T,T.next)&&(Hp(T),T=T.next),T}function Fd(r,i){if(!r)return r;i||(i=r);var o,h=r;do if(o=!1,h.steiner||!Du(h,h.next)&&$r(h.prev,h,h.next)!==0)h=h.next;else{if(Hp(h),(h=i=h.prev)===h.next)break;o=!0}while(o||h!==i);return i}function Gp(r,i,o,h,p,v,T){if(r){!T&&v&&function(de,ve,Ee,Pe){var Re=de;do Re.z===0&&(Re.z=ug(Re.x,Re.y,ve,Ee,Pe)),Re.prevZ=Re.prev,Re.nextZ=Re.next,Re=Re.next;while(Re!==de);Re.prevZ.nextZ=null,Re.prevZ=null,function(He){var Ke,mt,Et,ft,xt,At,Ct,Xt,Yt=1;do{for(mt=He,He=null,xt=null,At=0;mt;){for(At++,Et=mt,Ct=0,Ke=0;Ke<Yt&&(Ct++,Et=Et.nextZ);Ke++);for(Xt=Yt;Ct>0||Xt>0&&Et;)Ct!==0&&(Xt===0||!Et||mt.z<=Et.z)?(ft=mt,mt=mt.nextZ,Ct--):(ft=Et,Et=Et.nextZ,Xt--),xt?xt.nextZ=ft:He=ft,ft.prevZ=xt,xt=ft;mt=Et}xt.nextZ=null,Yt*=2}while(At>1)}(Re)}(r,h,p,v);for(var R,Y,te=r;r.prev!==r.next;)if(R=r.prev,Y=r.next,v?Yx(r,h,p,v):qx(r))i.push(R.i/o|0),i.push(r.i/o|0),i.push(Y.i/o|0),Hp(r),r=Y.next,te=Y.next;else if((r=Y)===te){T?T===1?Gp(r=Xx(Fd(r),i,o),i,o,h,p,v,2):T===2&&Zx(r,i,o,h,p,v):Gp(Fd(r),i,o,h,p,v,1);break}}}function qx(r){var i=r.prev,o=r,h=r.next;if($r(i,o,h)>=0)return!1;for(var p=i.x,v=o.x,T=h.x,R=i.y,Y=o.y,te=h.y,de=p<v?p<T?p:T:v<T?v:T,ve=R<Y?R<te?R:te:Y<te?Y:te,Ee=p>v?p>T?p:T:v>T?v:T,Pe=R>Y?R>te?R:te:Y>te?Y:te,Re=h.next;Re!==i;){if(Re.x>=de&&Re.x<=Ee&&Re.y>=ve&&Re.y<=Pe&&Pu(p,R,v,Y,T,te,Re.x,Re.y)&&$r(Re.prev,Re,Re.next)>=0)return!1;Re=Re.next}return!0}function Yx(r,i,o,h){var p=r.prev,v=r,T=r.next;if($r(p,v,T)>=0)return!1;for(var R=p.x,Y=v.x,te=T.x,de=p.y,ve=v.y,Ee=T.y,Pe=R<Y?R<te?R:te:Y<te?Y:te,Re=de<ve?de<Ee?de:Ee:ve<Ee?ve:Ee,He=R>Y?R>te?R:te:Y>te?Y:te,Ke=de>ve?de>Ee?de:Ee:ve>Ee?ve:Ee,mt=ug(Pe,Re,i,o,h),Et=ug(He,Ke,i,o,h),ft=r.prevZ,xt=r.nextZ;ft&&ft.z>=mt&&xt&&xt.z<=Et;){if(ft.x>=Pe&&ft.x<=He&&ft.y>=Re&&ft.y<=Ke&&ft!==p&&ft!==T&&Pu(R,de,Y,ve,te,Ee,ft.x,ft.y)&&$r(ft.prev,ft,ft.next)>=0||(ft=ft.prevZ,xt.x>=Pe&&xt.x<=He&&xt.y>=Re&&xt.y<=Ke&&xt!==p&&xt!==T&&Pu(R,de,Y,ve,te,Ee,xt.x,xt.y)&&$r(xt.prev,xt,xt.next)>=0))return!1;xt=xt.nextZ}for(;ft&&ft.z>=mt;){if(ft.x>=Pe&&ft.x<=He&&ft.y>=Re&&ft.y<=Ke&&ft!==p&&ft!==T&&Pu(R,de,Y,ve,te,Ee,ft.x,ft.y)&&$r(ft.prev,ft,ft.next)>=0)return!1;ft=ft.prevZ}for(;xt&&xt.z<=Et;){if(xt.x>=Pe&&xt.x<=He&&xt.y>=Re&&xt.y<=Ke&&xt!==p&&xt!==T&&Pu(R,de,Y,ve,te,Ee,xt.x,xt.y)&&$r(xt.prev,xt,xt.next)>=0)return!1;xt=xt.nextZ}return!0}function Xx(r,i,o){var h=r;do{var p=h.prev,v=h.next.next;!Du(p,v)&&pg(p,h,h.next,v)&&Vp(p,v)&&Vp(v,p)&&(i.push(p.i/o|0),i.push(h.i/o|0),i.push(v.i/o|0),Hp(h),Hp(h.next),h=r=v),h=h.next}while(h!==r);return Fd(h)}function Zx(r,i,o,h,p,v){var T=r;do{for(var R=T.next.next;R!==T.prev;){if(T.i!==R.i&&t2(T,R)){var Y=E_(T,R);return T=Fd(T,T.next),Y=Fd(Y,Y.next),Gp(T,i,o,h,p,v,0),void Gp(Y,i,o,h,p,v,0)}R=R.next}T=T.next}while(T!==r)}function Kx(r,i){return r.x-i.x}function Jx(r,i){var o=function(p,v){var T,R=v,Y=p.x,te=p.y,de=-1/0;do{if(te<=R.y&&te>=R.next.y&&R.next.y!==R.y){var ve=R.x+(te-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(ve<=Y&&ve>de&&(de=ve,T=R.x<R.next.x?R:R.next,ve===Y))return T}R=R.next}while(R!==v);if(!T)return null;var Ee,Pe=T,Re=T.x,He=T.y,Ke=1/0;R=T;do Y>=R.x&&R.x>=Re&&Y!==R.x&&Pu(te<He?Y:de,te,Re,He,te<He?de:Y,te,R.x,R.y)&&(Ee=Math.abs(te-R.y)/(Y-R.x),Vp(R,p)&&(Ee<Ke||Ee===Ke&&(R.x>T.x||R.x===T.x&&Qx(T,R)))&&(T=R,Ke=Ee)),R=R.next;while(R!==Pe);return T}(r,i);if(!o)return i;var h=E_(o,r);return Fd(h,h.next),Fd(o,o.next)}function Qx(r,i){return $r(r.prev,r,i.prev)<0&&$r(i.next,r,r.next)<0}function ug(r,i,o,h,p){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-o)*p|0)|r<<8))|r<<4))|r<<2))|r<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-h)*p|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function e2(r){var i=r,o=r;do(i.x<o.x||i.x===o.x&&i.y<o.y)&&(o=i),i=i.next;while(i!==r);return o}function Pu(r,i,o,h,p,v,T,R){return(p-T)*(i-R)>=(r-T)*(v-R)&&(r-T)*(h-R)>=(o-T)*(i-R)&&(o-T)*(v-R)>=(p-T)*(h-R)}function t2(r,i){return r.next.i!==i.i&&r.prev.i!==i.i&&!function(o,h){var p=o;do{if(p.i!==o.i&&p.next.i!==o.i&&p.i!==h.i&&p.next.i!==h.i&&pg(p,p.next,o,h))return!0;p=p.next}while(p!==o);return!1}(r,i)&&(Vp(r,i)&&Vp(i,r)&&function(o,h){var p=o,v=!1,T=(o.x+h.x)/2,R=(o.y+h.y)/2;do p.y>R!=p.next.y>R&&p.next.y!==p.y&&T<(p.next.x-p.x)*(R-p.y)/(p.next.y-p.y)+p.x&&(v=!v),p=p.next;while(p!==o);return v}(r,i)&&($r(r.prev,r,i.prev)||$r(r,i.prev,i))||Du(r,i)&&$r(r.prev,r,r.next)>0&&$r(i.prev,i,i.next)>0)}function $r(r,i,o){return(i.y-r.y)*(o.x-i.x)-(i.x-r.x)*(o.y-i.y)}function Du(r,i){return r.x===i.x&&r.y===i.y}function pg(r,i,o,h){var p=v0($r(r,i,o)),v=v0($r(r,i,h)),T=v0($r(o,h,r)),R=v0($r(o,h,i));return p!==v&&T!==R||!(p!==0||!y0(r,o,i))||!(v!==0||!y0(r,h,i))||!(T!==0||!y0(o,r,h))||!(R!==0||!y0(o,i,h))}function y0(r,i,o){return i.x<=Math.max(r.x,o.x)&&i.x>=Math.min(r.x,o.x)&&i.y<=Math.max(r.y,o.y)&&i.y>=Math.min(r.y,o.y)}function v0(r){return r>0?1:r<0?-1:0}function Vp(r,i){return $r(r.prev,r,r.next)<0?$r(r,i,r.next)>=0&&$r(r,r.prev,i)>=0:$r(r,i,r.prev)<0||$r(r,r.next,i)<0}function E_(r,i){var o=new fg(r.i,r.x,r.y),h=new fg(i.i,i.x,i.y),p=r.next,v=i.prev;return r.next=i,i.prev=r,o.next=p,p.prev=o,h.next=o,o.prev=h,v.next=h,h.prev=v,h}function C_(r,i,o,h){var p=new fg(r,i,o);return h?(p.next=h.next,p.prev=h,h.next.prev=p,h.next=p):(p.prev=p,p.next=p),p}function Hp(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function fg(r,i,o){this.i=r,this.x=i,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function mg(r,i,o,h){for(var p=0,v=i,T=o-h;v<o;v+=h)p+=(r[T]-r[v])*(r[v+1]+r[T+1]),T=v;return p}function M_(r,i,o,h,p){A_(r,i,o||0,h||r.length-1,p||i2)}function A_(r,i,o,h,p){for(;h>o;){if(h-o>600){var v=h-o+1,T=i-o+1,R=Math.log(v),Y=.5*Math.exp(2*R/3),te=.5*Math.sqrt(R*Y*(v-Y)/v)*(T-v/2<0?-1:1);A_(r,i,Math.max(o,Math.floor(i-T*Y/v+te)),Math.min(h,Math.floor(i+(v-T)*Y/v+te)),p)}var de=r[i],ve=o,Ee=h;for(nd(r,o,i),p(r[h],de)>0&&nd(r,o,h);ve<Ee;){for(nd(r,ve,Ee),ve++,Ee--;p(r[ve],de)<0;)ve++;for(;p(r[Ee],de)>0;)Ee--}p(r[o],de)===0?nd(r,o,Ee):nd(r,++Ee,h),Ee<=i&&(o=Ee+1),i<=Ee&&(h=Ee-1)}}function nd(r,i,o){var h=r[i];r[i]=r[o],r[o]=h}function i2(r,i){return r<i?-1:r>i?1:0}function gg(r,i){const o=r.length;if(o<=1)return[r];const h=[];let p,v;for(let T=0;T<o;T++){const R=Se(r[T]);R!==0&&(r[T].area=Math.abs(R),v===void 0&&(v=R<0),v===R<0?(p&&h.push(p),p=[r[T]]):p.push(r[T]))}if(p&&h.push(p),i>1)for(let T=0;T<h.length;T++)h[T].length<=i||(M_(h[T],i,1,h[T].length-1,n2),h[T]=h[T].slice(0,i));return h}function n2(r,i){return i.area-r.area}function _g(r,i,o){const h=o.patternDependencies;let p=!1;for(const v of i){const T=v.paint.get(`${r}-pattern`);T.isConstant()||(p=!0);const R=T.constantOr(null);R&&(p=!0,h[R]=!0)}return p}function yg(r,i,o,h,p){const v=p.patternDependencies;for(const T of i){const R=T.paint.get(`${r}-pattern`).value;if(R.kind!=="constant"){let Y=R.evaluate({zoom:h},o,{},p.availableImages);Y=Y&&Y.name?Y.name:Y,v[Y]=!0,o.patterns[T.id]=Y}}return o}Up.exports=_0,Up.exports.default=_0,_0.deviation=function(r,i,o,h){var p=i&&i.length,v=Math.abs(mg(r,0,p?i[0]*o:r.length,o));if(p)for(var T=0,R=i.length;T<R;T++)v-=Math.abs(mg(r,i[T]*o,T<R-1?i[T+1]*o:r.length,o));var Y=0;for(T=0;T<h.length;T+=3){var te=h[T]*o,de=h[T+1]*o,ve=h[T+2]*o;Y+=Math.abs((r[te]-r[ve])*(r[de+1]-r[te+1])-(r[te]-r[de])*(r[ve+1]-r[te+1]))}return v===0&&Y===0?0:Math.abs((Y-v)/v)},_0.flatten=function(r){for(var i=r[0][0].length,o={vertices:[],holes:[],dimensions:i},h=0,p=0;p<r.length;p++){for(var v=0;v<r[p].length;v++)for(var T=0;T<i;T++)o.vertices.push(r[p][v][T]);p>0&&o.holes.push(h+=r[p-1].length)}return o};class x0{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Es,this.indexArray=new Eo,this.indexArray2=new jl,this.programConfigurations=new Wc(i.layers,i.zoom),this.segments=new Hr,this.segments2=new Hr,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.projection=i.projection}populate(i,o,h,p){this.hasPattern=_g("fill",this.layers,o);const v=this.layers[0].layout.get("fill-sort-key"),T=[];for(const{feature:R,id:Y,index:te,sourceLayerIndex:de}of i){const ve=this.layers[0]._featureFilter.needGeometry,Ee=qc(R,ve);if(!this.layers[0]._featureFilter.filter(new Nt(this.zoom),Ee,h))continue;const Pe=v?v.evaluate(Ee,{},h,o.availableImages):void 0,Re={id:Y,properties:R.properties,type:R.type,sourceLayerIndex:de,index:te,geometry:ve?Ee.geometry:mc(R,h,p),patterns:{},sortKey:Pe};T.push(Re)}v&&T.sort((R,Y)=>R.sortKey-Y.sortKey);for(const R of T){const{geometry:Y,index:te,sourceLayerIndex:de}=R;if(this.hasPattern){const ve=yg("fill",this.layers,R,this.zoom,o);this.patternFeatures.push(ve)}else this.addFeature(R,Y,te,h,{},o.availableImages);o.featureIndex.insert(i[te].feature,Y,te,de,this.index)}}update(i,o,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,h,p)}addFeatures(i,o,h,p,v){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,o,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,Wx),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,o,h,p,v,T=[]){for(const R of gg(o,500)){let Y=0;for(const Re of R)Y+=Re.length;const te=this.segments.prepareSegment(Y,this.layoutVertexArray,this.indexArray),de=te.vertexLength,ve=[],Ee=[];for(const Re of R){if(Re.length===0)continue;Re!==R[0]&&Ee.push(ve.length/2);const He=this.segments2.prepareSegment(Re.length,this.layoutVertexArray,this.indexArray2),Ke=He.vertexLength;this.layoutVertexArray.emplaceBack(Re[0].x,Re[0].y),this.indexArray2.emplaceBack(Ke+Re.length-1,Ke),ve.push(Re[0].x),ve.push(Re[0].y);for(let mt=1;mt<Re.length;mt++)this.layoutVertexArray.emplaceBack(Re[mt].x,Re[mt].y),this.indexArray2.emplaceBack(Ke+mt-1,Ke+mt),ve.push(Re[mt].x),ve.push(Re[mt].y);He.vertexLength+=Re.length,He.primitiveLength+=Re.length}const Pe=Up.exports(ve,Ee);for(let Re=0;Re<Pe.length;Re+=3)this.indexArray.emplaceBack(de+Pe[Re],de+Pe[Re+1],de+Pe[Re+2]);te.vertexLength+=Y,te.primitiveLength+=Pe.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,h,v,T,p)}}Hi(x0,"FillBucket",{omit:["layers","patternFeatures"]});const s2=new un({"fill-sort-key":new Kt(ai.layout_fill["fill-sort-key"])});var r2={paint:new un({"fill-antialias":new jt(ai.paint_fill["fill-antialias"]),"fill-opacity":new Kt(ai.paint_fill["fill-opacity"]),"fill-color":new Kt(ai.paint_fill["fill-color"]),"fill-outline-color":new Kt(ai.paint_fill["fill-outline-color"]),"fill-translate":new jt(ai.paint_fill["fill-translate"]),"fill-translate-anchor":new jt(ai.paint_fill["fill-translate-anchor"]),"fill-pattern":new Kt(ai.paint_fill["fill-pattern"])}),layout:s2};const o2=Zi([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),a2=Zi([{name:"a_centroid_pos",components:2,type:"Uint16"}]),l2=Zi([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:c2}=o2;var b0={},h2=G,k_=Iu;function Iu(r,i,o,h,p){this.properties={},this.extent=o,this.type=0,this._pbf=r,this._geometry=-1,this._keys=h,this._values=p,r.readFields(P_,this,i)}function P_(r,i,o){r==1?i.id=o.readVarint():r==2?function(h,p){for(var v=h.readVarint()+h.pos;h.pos<v;){var T=p._keys[h.readVarint()],R=p._values[h.readVarint()];p.properties[T]=R}}(o,i):r==3?i.type=o.readVarint():r==4&&(i._geometry=o.pos)}function D_(r){for(var i,o,h=0,p=0,v=r.length,T=v-1;p<v;T=p++)h+=((o=r[T]).x-(i=r[p]).x)*(i.y+o.y);return h}Iu.types=["Unknown","Point","LineString","Polygon"],Iu.prototype.loadGeometry=function(){var r=this._pbf;r.pos=this._geometry;for(var i,o=r.readVarint()+r.pos,h=1,p=0,v=0,T=0,R=[];r.pos<o;){if(p<=0){var Y=r.readVarint();h=7&Y,p=Y>>3}if(p--,h===1||h===2)v+=r.readSVarint(),T+=r.readSVarint(),h===1&&(i&&R.push(i),i=[]),i.push(new h2(v,T));else{if(h!==7)throw new Error("unknown command "+h);i&&i.push(i[0].clone())}}return i&&R.push(i),R},Iu.prototype.bbox=function(){var r=this._pbf;r.pos=this._geometry;for(var i=r.readVarint()+r.pos,o=1,h=0,p=0,v=0,T=1/0,R=-1/0,Y=1/0,te=-1/0;r.pos<i;){if(h<=0){var de=r.readVarint();o=7&de,h=de>>3}if(h--,o===1||o===2)(p+=r.readSVarint())<T&&(T=p),p>R&&(R=p),(v+=r.readSVarint())<Y&&(Y=v),v>te&&(te=v);else if(o!==7)throw new Error("unknown command "+o)}return[T,Y,R,te]},Iu.prototype.toGeoJSON=function(r,i,o){var h,p,v=this.extent*Math.pow(2,o),T=this.extent*r,R=this.extent*i,Y=this.loadGeometry(),te=Iu.types[this.type];function de(Pe){for(var Re=0;Re<Pe.length;Re++){var He=Pe[Re];Pe[Re]=[360*(He.x+T)/v-180,360/Math.PI*Math.atan(Math.exp((180-360*(He.y+R)/v)*Math.PI/180))-90]}}switch(this.type){case 1:var ve=[];for(h=0;h<Y.length;h++)ve[h]=Y[h][0];de(Y=ve);break;case 2:for(h=0;h<Y.length;h++)de(Y[h]);break;case 3:for(Y=function(Pe){var Re=Pe.length;if(Re<=1)return[Pe];for(var He,Ke,mt=[],Et=0;Et<Re;Et++){var ft=D_(Pe[Et]);ft!==0&&(Ke===void 0&&(Ke=ft<0),Ke===ft<0?(He&&mt.push(He),He=[Pe[Et]]):He.push(Pe[Et]))}return He&&mt.push(He),mt}(Y),h=0;h<Y.length;h++)for(p=0;p<Y[h].length;p++)de(Y[h][p])}Y.length===1?Y=Y[0]:te="Multi"+te;var Ee={type:"Feature",geometry:{type:te,coordinates:Y},properties:this.properties};return"id"in this&&(Ee.id=this.id),Ee};var d2=k_,I_=L_;function L_(r,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=r,this._keys=[],this._values=[],this._features=[],r.readFields(u2,this,i),this.length=this._features.length}function u2(r,i,o){r===15?i.version=o.readVarint():r===1?i.name=o.readString():r===5?i.extent=o.readVarint():r===2?i._features.push(o.pos):r===3?i._keys.push(o.readString()):r===4&&i._values.push(function(h){for(var p=null,v=h.readVarint()+h.pos;h.pos<v;){var T=h.readVarint()>>3;p=T===1?h.readString():T===2?h.readFloat():T===3?h.readDouble():T===4?h.readVarint64():T===5?h.readVarint():T===6?h.readSVarint():T===7?h.readBoolean():null}return p}(o))}L_.prototype.feature=function(r){if(r<0||r>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[r];var i=this._pbf.readVarint()+this._pbf.pos;return new d2(this._pbf,i,this.extent,this._keys,this._values)};var w0=I_;function p2(r,i,o){if(r===3){var h=new w0(o,o.readVarint()+o.pos);h.length&&(i[h.name]=h)}}var vg=b0.VectorTile=function(r,i){this.layers=r.readFields(p2,{},i)},S0=b0.VectorTileFeature=k_;function T0(r,i,o,h){const p=[],v=h===0?(T,R,Y,te,de,ve)=>{T.push(new G(ve,Y+(ve-R)/(te-R)*(de-Y)))}:(T,R,Y,te,de,ve)=>{T.push(new G(R+(ve-Y)/(de-Y)*(te-R),ve))};for(const T of r){const R=[];for(const Y of T){if(Y.length<=2)continue;const te=[];for(let Ee=0;Ee<Y.length-1;Ee++){const Pe=Y[Ee].x,Re=Y[Ee].y,He=Y[Ee+1].x,Ke=Y[Ee+1].y,mt=h===0?Pe:Re,Et=h===0?He:Ke;mt<i?Et>i&&v(te,Pe,Re,He,Ke,i):mt>o?Et<o&&v(te,Pe,Re,He,Ke,o):te.push(Y[Ee]),Et<i&&mt>=i&&v(te,Pe,Re,He,Ke,i),Et>o&&mt<=o&&v(te,Pe,Re,He,Ke,o)}let de=Y[Y.length-1];const ve=h===0?de.x:de.y;ve>=i&&ve<=o&&te.push(de),te.length&&(de=te[te.length-1],te[0].x===de.x&&te[0].y===de.y||te.push(te[0]),R.push(te))}R.length&&p.push(R)}return p}b0.VectorTileLayer=I_;const f2=S0.types,m2=Math.pow(2,13);function $p(r,i,o,h,p,v,T,R){r.emplaceBack((i<<1)+T,(o<<1)+v,(Math.floor(h*m2)<<1)+p,Math.round(R))}function Wp(r,i,o){r.emplaceBack(i.x,i.y,i.z,o[0]*16384,o[1]*16384,o[2]*16384)}class O_{constructor(){this.acc=new G(0,0),this.polyCount=[]}startRing(i){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new G(i.x,i.y),this.max=new G(i.x,i.y))}append(i,o){this.currentPolyCount.edges++,this.acc._add(i);const h=this.min,p=this.max;i.x<h.x?h.x=i.x:i.x>p.x&&(p.x=i.x),i.y<h.y?h.y=i.y:i.y>p.y&&(p.y=i.y),((i.x===0||i.x===vn)&&i.x===o.x)!=((i.y===0||i.y===vn)&&i.y===o.y)&&this.processBorderOverlap(i,o),o.x<0!=i.x<0&&this.addBorderIntersection(0,On(o.y,i.y,(0-o.x)/(i.x-o.x))),o.x>vn!=i.x>vn&&this.addBorderIntersection(1,On(o.y,i.y,(vn-o.x)/(i.x-o.x))),o.y<0!=i.y<0&&this.addBorderIntersection(2,On(o.x,i.x,(0-o.y)/(i.y-o.y))),o.y>vn!=i.y>vn&&this.addBorderIntersection(3,On(o.x,i.x,(vn-o.y)/(i.y-o.y)))}addBorderIntersection(i,o){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const h=this.borders[i];o<h[0]&&(h[0]=o),o>h[1]&&(h[1]=o)}processBorderOverlap(i,o){if(i.x===o.x){if(i.y===o.y)return;const h=i.x===0?0:1;this.addBorderIntersection(h,o.y),this.addBorderIntersection(h,i.y)}else{const h=i.y===0?2:3;this.addBorderIntersection(h,o.x),this.addBorderIntersection(h,i.x)}}centroid(){const i=this.polyCount.reduce((o,h)=>o+h.edges,0);return i!==0?this.acc.div(i)._round():new G(0,0)}span(){return new G(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((i,o)=>i+ +(o[0]!==Number.MAX_VALUE),0)}}class qp{constructor(i){this.zoom=i.zoom,this.canonical=i.canonical,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=i.projection,this.layoutVertexArray=new Ls,this.centroidVertexArray=new o0,this.indexArray=new Eo,this.programConfigurations=new Wc(i.layers,i.zoom),this.segments=new Hr,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id),this.enableTerrain=i.enableTerrain}populate(i,o,h,p){this.features=[],this.hasPattern=_g("fill-extrusion",this.layers,o),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(v){const T=Math.exp(Math.PI*(1-v.y/(1<<v.z)*2));return 80150034*T/(T*T+1)/vn/(1<<v.z)}(h),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:v,id:T,index:R,sourceLayerIndex:Y}of i){const te=this.layers[0]._featureFilter.needGeometry,de=qc(v,te);if(!this.layers[0]._featureFilter.filter(new Nt(this.zoom),de,h))continue;const ve={id:T,sourceLayerIndex:Y,index:R,geometry:te?de.geometry:mc(v,h,p),properties:v.properties,type:v.type,patterns:{}},Ee=this.layoutVertexArray.length;this.hasPattern?this.features.push(yg("fill-extrusion",this.layers,ve,this.zoom,o)):this.addFeature(ve,ve.geometry,R,h,{},o.availableImages,p),o.featureIndex.insert(v,ve.geometry,R,Y,this.index,Ee)}this.sortBorders()}addFeatures(i,o,h,p,v){for(const T of this.features){const{geometry:R}=T;this.addFeature(T,R,T.index,o,h,p,v)}this.sortBorders()}update(i,o,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,c2),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=i.createVertexBuffer(this.layoutVertexExtArray,l2.members,!0))),this.programConfigurations.upload(i),this.uploaded=!0}uploadCentroid(i){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,a2.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,o,h,p,v,T,R){const Y=[new G(0,0),new G(vn,vn)],te=R.projection,de=te.name==="globe",ve=this.enableTerrain&&!de?new O_:null,Ee=f2[i.type]==="Polygon";de&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Ys);const Pe=gg(o,500);for(let mt=Pe.length-1;mt>=0;mt--){const Et=Pe[mt];(Et.length===0||(Re=Et[0]).every(ft=>ft.x<=0)||Re.every(ft=>ft.x>=vn)||Re.every(ft=>ft.y<=0)||Re.every(ft=>ft.y>=vn))&&Pe.splice(mt,1)}var Re;let He;if(de)He=Sg(Pe,Y,p);else{He=[];for(const mt of Pe)He.push({polygon:mt,bounds:Y})}const Ke=Ee?this.edgeRadius:0;for(const{polygon:mt,bounds:Et}of He){let ft=0,xt=0;for(const Ct of mt)Ee&&!Ct[0].equals(Ct[Ct.length-1])&&Ct.push(Ct[0]),xt+=Ee?Ct.length-1:Ct.length;const At=this.segments.prepareSegment((Ee?5:4)*xt,this.layoutVertexArray,this.indexArray);if(Ee){const Ct=[],Xt=[];ft=At.vertexLength;for(const hi of mt){let Li,ii;hi.length&&hi!==mt[0]&&Xt.push(Ct.length/2),Li=hi[1].sub(hi[0])._perp()._unit();for(let mi=1;mi<hi.length;mi++){const _i=hi[mi],Mi=hi[mi===hi.length-1?1:mi+1];let{x:Oi,y:si}=_i;if(Ke){ii=Mi.sub(_i)._perp()._unit();const Ui=Li.add(ii)._unit(),Sn=Ke*Math.min(4,1/(Li.x*Ui.x+Li.y*Ui.y));Oi+=Sn*Ui.x,si+=Sn*Ui.y,Li=ii}$p(this.layoutVertexArray,Oi,si,0,0,1,1,0),At.vertexLength++,Ct.push(_i.x,_i.y),de&&Wp(this.layoutVertexExtArray,te.projectTilePoint(Oi,si,p),te.upVector(p,Oi,si))}}const Yt=Up.exports(Ct,Xt);for(let hi=0;hi<Yt.length;hi+=3)this.indexArray.emplaceBack(ft+Yt[hi],ft+Yt[hi+2],ft+Yt[hi+1]),At.primitiveLength++}for(const Ct of mt){ve&&Ct.length&&ve.startRing(Ct[0]);let Xt,Yt,hi,Li=Ct.length>4&&bg(Ct[Ct.length-2],Ct[0],Ct[1]),ii=Ke?E0(Ct[Ct.length-2],Ct[0],Ct[1],Ke):0;Yt=Ct[1].sub(Ct[0])._perp()._unit();let mi=!0;for(let _i=1,Mi=0;_i<Ct.length;_i++){let Oi=Ct[_i-1],si=Ct[_i];const Ui=Ct[_i===Ct.length-1?1:_i+1];if(ve&&Ee&&ve.currentPolyCount.top++,xg(si,Oi,Et)){Ke&&(Yt=Ui.sub(si)._perp()._unit(),mi=!mi);continue}ve&&ve.append(si,Oi);const Sn=si.sub(Oi)._perp(),Yi=Sn.x/(Math.abs(Sn.x)+Math.abs(Sn.y)),ln=Sn.y>0?1:0,Vi=Oi.dist(si);if(Mi+Vi>32768&&(Mi=0),Ke){hi=Ui.sub(si)._perp()._unit();let ts=B_(Oi,si,Ui,R_(Yt,hi),Ke);isNaN(ts)&&(ts=0);const Pn=si.sub(Oi)._unit();Oi=Oi.add(Pn.mult(ii))._round(),si=si.add(Pn.mult(-ts))._round(),ii=ts,Yt=hi}const An=At.vertexLength,as=Ct.length>4&&bg(Oi,si,Ui);let ss=C0(Mi,Li,mi);if($p(this.layoutVertexArray,Oi.x,Oi.y,Yi,ln,0,0,ss),$p(this.layoutVertexArray,Oi.x,Oi.y,Yi,ln,0,1,ss),Mi+=Vi,ss=C0(Mi,as,!mi),Li=as,$p(this.layoutVertexArray,si.x,si.y,Yi,ln,0,0,ss),$p(this.layoutVertexArray,si.x,si.y,Yi,ln,0,1,ss),At.vertexLength+=4,this.indexArray.emplaceBack(An+0,An+1,An+2),this.indexArray.emplaceBack(An+1,An+3,An+2),At.primitiveLength+=2,Ke){const ts=ft+(_i===1?Ct.length-2:_i-2),Pn=_i===1?ft:ts+1;if(this.indexArray.emplaceBack(An+1,ts,An+3),this.indexArray.emplaceBack(ts,Pn,An+3),At.primitiveLength+=2,Xt===void 0&&(Xt=An),!xg(Ui,Ct[_i],Et)){const Us=_i===Ct.length-1?Xt:At.vertexLength;this.indexArray.emplaceBack(An+2,An+3,Us),this.indexArray.emplaceBack(An+3,Us+1,Us),this.indexArray.emplaceBack(An+3,Pn,Us+1),At.primitiveLength+=3}mi=!mi}if(de){const ts=this.layoutVertexExtArray,Pn=te.projectTilePoint(Oi.x,Oi.y,p),Us=te.projectTilePoint(si.x,si.y,p),Gn=te.upVector(p,Oi.x,Oi.y),ls=te.upVector(p,si.x,si.y);Wp(ts,Pn,Gn),Wp(ts,Pn,Gn),Wp(ts,Us,ls),Wp(ts,Us,ls)}}Ee&&(ft+=Ct.length-1)}}if(ve&&ve.polyCount.length>0){if(ve.borders){ve.vertexArrayOffset=this.centroidVertexArray.length;const mt=ve.borders,Et=this.featuresOnBorder.push(ve)-1;for(let ft=0;ft<4;ft++)mt[ft][0]!==Number.MAX_VALUE&&this.borders[ft].push(Et)}this.encodeCentroid(ve.borders?void 0:ve.centroid(),ve)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,h,v,T,p)}sortBorders(){for(let i=0;i<4;i++)this.borders[i].sort((o,h)=>this.featuresOnBorder[o].borders[i][0]-this.featuresOnBorder[h].borders[i][0])}encodeCentroid(i,o,h=!0){let p,v;if(i)if(i.y!==0){const R=o.span()._mult(this.tileToMeter);p=(Math.max(i.x,1)<<3)+Math.min(7,Math.round(R.x/10)),v=(Math.max(i.y,1)<<3)+Math.min(7,Math.round(R.y/10))}else p=Math.ceil(7*(i.x+450)),v=0;else p=0,v=+h;let T=h?this.centroidVertexArray.length:o.vertexArrayOffset;for(const R of o.polyCount){h&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*R.edges+R.top);for(let Y=0;Y<R.top;Y++)this.centroidVertexArray.emplace(T++,p,v);for(let Y=0;Y<2*R.edges;Y++)this.centroidVertexArray.emplace(T++,0,v),this.centroidVertexArray.emplace(T++,p,v)}}}function R_(r,i){const o=r.add(i)._unit();return r.x*o.x+r.y*o.y}function E0(r,i,o,h){const p=i.sub(r)._perp()._unit(),v=o.sub(i)._perp()._unit();return B_(r,i,o,R_(p,v),h)}function B_(r,i,o,h,p){const v=Math.sqrt(1-h*h);return Math.min(r.dist(i)/3,i.dist(o)/3,p*v/h)}function xg(r,i,o){return r.x<o[0].x&&i.x<o[0].x||r.x>o[1].x&&i.x>o[1].x||r.y<o[0].y&&i.y<o[0].y||r.y>o[1].y&&i.y>o[1].y}function bg(r,i,o){if(r.x<0||r.x>=vn||i.x<0||i.x>=vn||o.x<0||o.x>=vn)return!1;const h=o.sub(i),p=h.perp(),v=r.sub(i);return(h.x*v.x+h.y*v.y)/Math.sqrt((h.x*h.x+h.y*h.y)*(v.x*v.x+v.y*v.y))>-.866&&p.x*v.x+p.y*v.y<0}function C0(r,i,o){const h=i?2|r:-3&r;return o?1|h:-2&h}function wg(){const r=Math.PI/32,i=Math.tan(r),o=Dd;return o*Math.sqrt(1+2*i*i)-o}function Sg(r,i,o){const h=1<<o.z,p=Ma(o.x/h),v=Ma((o.x+1)/h),T=Fo(o.y/h),R=Fo((o.y+1)/h);return function(Y,te,de,ve,Ee=0,Pe){const Re=[];if(!Y.length||!de||!ve)return Re;const He=(Ct,Xt)=>{for(const Yt of Ct)Re.push({polygon:Yt,bounds:Xt})},Ke=Math.ceil(Math.log2(de)),mt=Math.ceil(Math.log2(ve)),Et=Ke-mt,ft=[];for(let Ct=0;Ct<Math.abs(Et);Ct++)ft.push(Et>0?0:1);for(let Ct=0;Ct<Math.min(Ke,mt);Ct++)ft.push(0),ft.push(1);let xt=Y;if(xt=T0(xt,te[0].y-Ee,te[1].y+Ee,1),xt=T0(xt,te[0].x-Ee,te[1].x+Ee,0),!xt.length)return Re;const At=[];for(ft.length?At.push({polygons:xt,bounds:te,depth:0}):He(xt,te);At.length;){const Ct=At.pop(),Xt=Ct.depth,Yt=ft[Xt],hi=Ct.bounds[0],Li=Ct.bounds[1],ii=Yt===0?hi.x:hi.y,mi=Yt===0?Li.x:Li.y,_i=Pe?Pe(Yt,ii,mi):.5*(ii+mi),Mi=T0(Ct.polygons,ii-Ee,_i+Ee,Yt),Oi=T0(Ct.polygons,_i-Ee,mi+Ee,Yt);if(Mi.length){const si=[hi,new G(Yt===0?_i:Li.x,Yt===1?_i:Li.y)];ft.length>Xt+1?At.push({polygons:Mi,bounds:si,depth:Xt+1}):He(Mi,si)}if(Oi.length){const si=[new G(Yt===0?_i:hi.x,Yt===1?_i:hi.y),Li];ft.length>Xt+1?At.push({polygons:Oi,bounds:si,depth:Xt+1}):He(Oi,si)}}return Re}(r,i,Math.ceil((v-p)/11.25),Math.ceil((T-R)/11.25),1,(Y,te,de)=>{if(Y===0)return .5*(te+de);{const ve=Fo((o.y+te/vn)/h);return(Sl(.5*(Fo((o.y+de/vn)/h)+ve))*h-o.y)*vn}})}Hi(qp,"FillExtrusionBucket",{omit:["layers","features"]}),Hi(O_,"PartMetadata");const z_=new un({"fill-extrusion-edge-radius":new jt(ai["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var N_={paint:new un({"fill-extrusion-opacity":new jt(ai["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Kt(ai["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new jt(ai["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new jt(ai["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Kt(ai["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Kt(ai["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Kt(ai["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new jt(ai["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new jt(ai["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new jt(ai["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:z_};function F_(r,i,o){var h=2*Math.PI*6378137/256/Math.pow(2,o);return[r*h-2*Math.PI*6378137/2,i*h-2*Math.PI*6378137/2]}class M0{constructor(i,o,h){this.z=i,this.x=o,this.y=h,this.key=sd(0,i,i,o,h)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,o){const h=function(v,T,R){var Y=F_(256*v,256*(T=Math.pow(2,R)-T-1),R),te=F_(256*(v+1),256*(T+1),R);return Y[0]+","+Y[1]+","+te[0]+","+te[1]}(this.x,this.y,this.z),p=function(v,T,R){let Y,te="";for(let de=v;de>0;de--)Y=1<<de-1,te+=(T&Y?1:0)+(R&Y?2:0);return te}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(o==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",p).replace("{bbox-epsg-3857}",h)}toString(){return`${this.z}/${this.x}/${this.y}`}}class j_{constructor(i,o){this.wrap=i,this.canonical=o,this.key=sd(i,o.z,o.z,o.x,o.y)}}class Co{constructor(i,o,h,p,v){this.overscaledZ=i,this.wrap=o,this.canonical=new M0(h,+p,+v),this.key=o===0&&i===h?this.canonical.key:sd(o,i,h,p,v)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){const o=this.canonical.z-i;return i>this.canonical.z?new Co(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Co(i,this.wrap,i,this.canonical.x>>o,this.canonical.y>>o)}calculateScaledKey(i,o=!0){if(this.overscaledZ===i&&o)return this.key;if(i>this.canonical.z)return sd(this.wrap*+o,i,this.canonical.z,this.canonical.x,this.canonical.y);{const h=this.canonical.z-i;return sd(this.wrap*+o,i,i,this.canonical.x>>h,this.canonical.y>>h)}}isChildOf(i){if(i.wrap!==this.wrap)return!1;const o=this.canonical.z-i.canonical.z;return i.overscaledZ===0||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>o&&i.canonical.y===this.canonical.y>>o}children(i){if(this.overscaledZ>=i)return[new Co(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const o=this.canonical.z+1,h=2*this.canonical.x,p=2*this.canonical.y;return[new Co(o,this.wrap,o,h,p),new Co(o,this.wrap,o,h+1,p),new Co(o,this.wrap,o,h,p+1),new Co(o,this.wrap,o,h+1,p+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new Co(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new Co(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new j_(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function sd(r,i,o,h,p){const v=1<<Math.min(o,22);let T=v*(p%v)+h%v;return r&&o<22&&(T+=v*v*((r<0?-2*r-1:2*r)%(1<<2*(22-o)))),16*(32*T+o)+(i-o)}Hi(M0,"CanonicalTileID"),Hi(Co,"OverscaledTileID",{omit:["projMatrix"]});class Lu extends G{constructor(i,o,h){super(i,o),this.z=h}}function Yp(r,i){return r.x*i.x+r.y*i.y}function A0(r,i){if(r.length===1){let o=0;const h=i[o++];let p;for(;!p||h.equals(p);)if(p=i[o++],!p)return 1/0;for(;o<i.length;o++){const v=i[o],T=r[0],R=p.sub(h),Y=v.sub(h),te=T.sub(h),de=Yp(R,R),ve=Yp(R,Y),Ee=Yp(Y,Y),Pe=Yp(te,R),Re=Yp(te,Y),He=de*Ee-ve*ve,Ke=(Ee*Pe-ve*Re)/He,mt=(de*Re-ve*Pe)/He,Et=h.z*(1-Ke-mt)+p.z*Ke+v.z*mt;if(isFinite(Et))return Et}return 1/0}{let o=1/0;for(const h of i)o=Math.min(o,h.z);return o}}function Tg(r,i,o,h,p,v,T,R){const Y=T*p.getElevationAt(r,i,!0,!0),te=v[0]!==0,de=te?v[1]===0?T*(v[0]/7-450):T*function(ve,Ee,Pe){const Re=Math.floor(Ee[0]/8),He=Math.floor(Ee[1]/8),Ke=10*(Ee[0]-8*Re),mt=10*(Ee[1]-8*He),Et=ve.getElevationAt(Re,He,!0,!0),ft=ve.getMeterToDEM(Pe),xt=Math.floor(.5*(Ke*ft-1)),At=Math.floor(.5*(mt*ft-1)),Ct=ve.tileCoordToPixel(Re,He),Xt=2*xt+1,Yt=2*At+1,hi=function(Oi,si,Ui,Sn,Yi){return[Oi.getElevationAtPixel(si,Ui,!0),Oi.getElevationAtPixel(si+Yi,Ui,!0),Oi.getElevationAtPixel(si,Ui+Yi,!0),Oi.getElevationAtPixel(si+Sn,Ui+Yi,!0)]}(ve,Ct.x-xt,Ct.y-At,Xt,Yt),Li=Math.abs(hi[0]-hi[1]),ii=Math.abs(hi[2]-hi[3]),mi=Math.abs(hi[0]-hi[2])+Math.abs(hi[1]-hi[3]),_i=Math.min(.25,.5*ft*(Li+ii)/Xt),Mi=Math.min(.25,.5*ft*mi/Yt);return Et+Math.max(_i*Ke,Mi*mt)}(p,v,R):Y;return{base:Y+(o===0)?-1:o,top:te?Math.max(de+h,Y+o+2):Y+h}}const g2=Zi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:_2}=g2,y2=Zi([{name:"a_packed",components:4,type:"Float32"}]),{members:v2}=y2,x2=S0.types,b2=Math.cos(Math.PI/180*37.5);class k0{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(o=>o.id),this.index=i.index,this.projection=i.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(o=>{this.gradients[o.id]={}}),this.layoutVertexArray=new ha,this.layoutVertexArray2=new qo,this.indexArray=new Eo,this.programConfigurations=new Wc(i.layers,i.zoom),this.segments=new Hr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(o=>o.isStateDependent()).map(o=>o.id)}populate(i,o,h,p){this.hasPattern=_g("line",this.layers,o);const v=this.layers[0].layout.get("line-sort-key"),T=[];for(const{feature:de,id:ve,index:Ee,sourceLayerIndex:Pe}of i){const Re=this.layers[0]._featureFilter.needGeometry,He=qc(de,Re);if(!this.layers[0]._featureFilter.filter(new Nt(this.zoom),He,h))continue;const Ke=v?v.evaluate(He,{},h):void 0,mt={id:ve,properties:de.properties,type:de.type,sourceLayerIndex:Pe,index:Ee,geometry:Re?He.geometry:mc(de,h,p),patterns:{},sortKey:Ke};T.push(mt)}v&&T.sort((de,ve)=>de.sortKey-ve.sortKey);const{lineAtlas:R,featureIndex:Y}=o,te=this.addConstantDashes(R);for(const de of T){const{geometry:ve,index:Ee,sourceLayerIndex:Pe}=de;if(te&&this.addFeatureDashes(de,R),this.hasPattern){const Re=yg("line",this.layers,de,this.zoom,o);this.patternFeatures.push(Re)}else this.addFeature(de,ve,Ee,h,R.positions,o.availableImages);Y.insert(i[Ee].feature,ve,Ee,Pe,this.index)}}addConstantDashes(i){let o=!1;for(const h of this.layers){const p=h.paint.get("line-dasharray").value,v=h.layout.get("line-cap").value;if(p.kind!=="constant"||v.kind!=="constant")o=!0;else{const T=v.value,R=p.value;if(!R)continue;i.addDash(R,T)}}return o}addFeatureDashes(i,o){const h=this.zoom;for(const p of this.layers){const v=p.paint.get("line-dasharray").value,T=p.layout.get("line-cap").value;if(v.kind==="constant"&&T.kind==="constant")continue;let R,Y;if(v.kind==="constant"){if(R=v.value,!R)continue}else R=v.evaluate({zoom:h},i);Y=T.kind==="constant"?T.value:T.evaluate({zoom:h},i),o.addDash(R,Y),i.patterns[p.id]=o.getKey(R,Y)}}update(i,o,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,o,this.stateDependentLayers,h,p)}addFeatures(i,o,h,p,v){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,o,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,v2)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,_2),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&i.properties.hasOwnProperty("mapbox_clip_start")&&i.properties.hasOwnProperty("mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,o,h,p,v,T){const R=this.layers[0].layout,Y=R.get("line-join").evaluate(i,{}),te=R.get("line-cap").evaluate(i,{}),de=R.get("line-miter-limit"),ve=R.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const Ee of o)this.addLine(Ee,i,Y,te,de,ve);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,h,v,T,p)}addLine(i,o,h,p,v,T){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let mt=0;mt<i.length-1;mt++)this.totalDistance+=i[mt].dist(i[mt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const R=x2[o.type]==="Polygon";let Y=i.length;for(;Y>=2&&i[Y-1].equals(i[Y-2]);)Y--;let te=0;for(;te<Y-1&&i[te].equals(i[te+1]);)te++;if(Y<(R?3:2))return;h==="bevel"&&(v=1.05);const de=this.overscaling<=16?122880/(512*this.overscaling):0,ve=this.segments.prepareSegment(10*Y,this.layoutVertexArray,this.indexArray);let Ee,Pe,Re,He,Ke;this.e1=this.e2=-1,R&&(Ee=i[Y-2],Ke=i[te].sub(Ee)._unit()._perp());for(let mt=te;mt<Y;mt++){if(Re=mt===Y-1?R?i[te+1]:void 0:i[mt+1],Re&&i[mt].equals(Re))continue;Ke&&(He=Ke),Ee&&(Pe=Ee),Ee=i[mt],Ke=Re?Re.sub(Ee)._unit()._perp():He,He=He||Ke;let Et=He.add(Ke);Et.x===0&&Et.y===0||Et._unit();const ft=He.x*Ke.x+He.y*Ke.y,xt=Et.x*Ke.x+Et.y*Ke.y,At=xt!==0?1/xt:1/0,Ct=2*Math.sqrt(2-2*xt),Xt=xt<b2&&Pe&&Re,Yt=He.x*Ke.y-He.y*Ke.x>0;if(Xt&&mt>te){const ii=Ee.dist(Pe);if(ii>2*de){const mi=Ee.sub(Ee.sub(Pe)._mult(de/ii)._round());this.updateDistance(Pe,mi),this.addCurrentVertex(mi,He,0,0,ve),Pe=mi}}const hi=Pe&&Re;let Li=hi?h:R?"butt":p;if(hi&&Li==="round"&&(At<T?Li="miter":At<=2&&(Li="fakeround")),Li==="miter"&&At>v&&(Li="bevel"),Li==="bevel"&&(At>2&&(Li="flipbevel"),At<v&&(Li="miter")),Pe&&this.updateDistance(Pe,Ee),Li==="miter")Et._mult(At),this.addCurrentVertex(Ee,Et,0,0,ve);else if(Li==="flipbevel"){if(At>100)Et=Ke.mult(-1);else{const ii=At*He.add(Ke).mag()/He.sub(Ke).mag();Et._perp()._mult(ii*(Yt?-1:1))}this.addCurrentVertex(Ee,Et,0,0,ve),this.addCurrentVertex(Ee,Et.mult(-1),0,0,ve)}else if(Li==="bevel"||Li==="fakeround"){const ii=-Math.sqrt(At*At-1),mi=Yt?ii:0,_i=Yt?0:ii;if(Pe&&this.addCurrentVertex(Ee,He,mi,_i,ve),Li==="fakeround"){const Mi=Math.round(180*Ct/Math.PI/20);for(let Oi=1;Oi<Mi;Oi++){let si=Oi/Mi;if(si!==.5){const Sn=si-.5;si+=si*Sn*(si-1)*((1.0904+ft*(ft*(3.55645-1.43519*ft)-3.2452))*Sn*Sn+(.848013+ft*(.215638*ft-1.06021)))}const Ui=Ke.sub(He)._mult(si)._add(He)._unit()._mult(Yt?-1:1);this.addHalfVertex(Ee,Ui.x,Ui.y,!1,Yt,0,ve)}}Re&&this.addCurrentVertex(Ee,Ke,-mi,-_i,ve)}else if(Li==="butt")this.addCurrentVertex(Ee,Et,0,0,ve);else if(Li==="square"){const ii=Pe?1:-1;Pe||this.addCurrentVertex(Ee,Et,ii,ii,ve),this.addCurrentVertex(Ee,Et,0,0,ve),Pe&&this.addCurrentVertex(Ee,Et,ii,ii,ve)}else Li==="round"&&(Pe&&(this.addCurrentVertex(Ee,He,0,0,ve),this.addCurrentVertex(Ee,He,1,1,ve,!0)),Re&&(this.addCurrentVertex(Ee,Ke,-1,-1,ve,!0),this.addCurrentVertex(Ee,Ke,0,0,ve)));if(Xt&&mt<Y-1){const ii=Ee.dist(Re);if(ii>2*de){const mi=Ee.add(Re.sub(Ee)._mult(de/ii)._round());this.updateDistance(Ee,mi),this.addCurrentVertex(mi,Ke,0,0,ve),Ee=mi}}}}addCurrentVertex(i,o,h,p,v,T=!1){const R=o.y*p-o.x,Y=-o.y-o.x*p;this.addHalfVertex(i,o.x+o.y*h,o.y-o.x*h,T,!1,h,v),this.addHalfVertex(i,R,Y,T,!0,-p,v)}addHalfVertex({x:i,y:o},h,p,v,T,R,Y){this.layoutVertexArray.emplaceBack((i<<1)+(v?1:0),(o<<1)+(T?1:0),Math.round(63*h)+128,Math.round(63*p)+128,1+(R===0?0:R<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const te=Y.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,te),Y.primitiveLength++),T?this.e2=te:this.e1=te}updateScaledDistance(){if(this.lineClips){const i=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=i*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(i,o){this.distance+=i.dist(o),this.updateScaledDistance()}}Hi(k0,"LineBucket",{omit:["layers","patternFeatures"]});const w2=new un({"line-cap":new Kt(ai.layout_line["line-cap"]),"line-join":new Kt(ai.layout_line["line-join"]),"line-miter-limit":new jt(ai.layout_line["line-miter-limit"]),"line-round-limit":new jt(ai.layout_line["line-round-limit"]),"line-sort-key":new Kt(ai.layout_line["line-sort-key"])});var U_={paint:new un({"line-opacity":new Kt(ai.paint_line["line-opacity"]),"line-color":new Kt(ai.paint_line["line-color"]),"line-translate":new jt(ai.paint_line["line-translate"]),"line-translate-anchor":new jt(ai.paint_line["line-translate-anchor"]),"line-width":new Kt(ai.paint_line["line-width"]),"line-gap-width":new Kt(ai.paint_line["line-gap-width"]),"line-offset":new Kt(ai.paint_line["line-offset"]),"line-blur":new Kt(ai.paint_line["line-blur"]),"line-dasharray":new Kt(ai.paint_line["line-dasharray"]),"line-pattern":new Kt(ai.paint_line["line-pattern"]),"line-gradient":new sn(ai.paint_line["line-gradient"]),"line-trim-offset":new jt(ai.paint_line["line-trim-offset"])}),layout:w2};const G_=new class extends Kt{possiblyEvaluate(r,i){return i=new Nt(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,transition:i.transition}),super.possiblyEvaluate(r,i)}evaluate(r,i,o,h){return i=X({},i,{zoom:Math.floor(i.zoom)}),super.evaluate(r,i,o,h)}}(U_.paint.properties["line-width"].specification);function V_(r,i){return i>0?i+2*r:r}G_.useIntegerZoom=!0;const S2=Zi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),yc=Zi([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),T2=Zi([{name:"a_projected_pos",components:4,type:"Float32"}],4);Zi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const E2=Zi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),jd=Zi([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Zi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const es=Zi([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),C2=Zi([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Zi([{name:"triangle",components:3,type:"Uint16"}]),Zi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Zi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Zi([{type:"Float32",name:"offsetX"}]),Zi([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Zs=24;const tr=128;function Eg(r,i){const{expression:o}=i;if(o.kind==="constant")return{kind:"constant",layoutSize:o.evaluate(new Nt(r+1))};if(o.kind==="source")return{kind:"source"};{const{zoomStops:h,interpolationType:p}=o;let v=0;for(;v<h.length&&h[v]<=r;)v++;v=Math.max(0,v-1);let T=v;for(;T<h.length&&h[T]<r+1;)T++;T=Math.min(h.length-1,T);const R=h[v],Y=h[T];return o.kind==="composite"?{kind:"composite",minZoom:R,maxZoom:Y,interpolationType:p}:{kind:"camera",minZoom:R,maxZoom:Y,minSize:o.evaluate(new Nt(R)),maxSize:o.evaluate(new Nt(Y)),interpolationType:p}}}function vc(r,{uSize:i,uSizeT:o},{lowerSize:h,upperSize:p}){return r.kind==="source"?h/tr:r.kind==="composite"?On(h/tr,p/tr,o):i}function Ou(r,i){let o=0,h=0;if(r.kind==="constant")h=r.layoutSize;else if(r.kind!=="source"){const{interpolationType:p,minZoom:v,maxZoom:T}=r,R=p?y($o.interpolationFactor(p,i,v,T),0,1):0;r.kind==="camera"?h=On(r.minSize,r.maxSize,R):o=R}return{uSizeT:o,uSize:h}}var M2=Object.freeze({__proto__:null,getSizeData:Eg,evaluateSizeForFeature:vc,evaluateSizeForZoom:Ou,SIZE_PACK_FACTOR:tr});function A2(r,i,o){return r.sections.forEach(h=>{h.text=function(p,v,T){const R=v.layout.get("text-transform").evaluate(T,{});return R==="uppercase"?p=p.toLocaleUpperCase():R==="lowercase"&&(p=p.toLocaleLowerCase()),qt.applyArabicShaping&&(p=qt.applyArabicShaping(p)),p}(h.text,i,o)}),r}const Xp={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function k2(r){return r==="︶"||r==="﹈"||r==="︸"||r==="﹄"||r==="﹂"||r==="︾"||r==="︼"||r==="︺"||r==="︘"||r==="﹀"||r==="︐"||r==="︓"||r==="︔"||r==="｀"||r==="￣"||r==="︑"||r==="︒"}function Cg(r){return r==="︵"||r==="﹇"||r==="︷"||r==="﹃"||r==="﹁"||r==="︽"||r==="︻"||r==="︹"||r==="︗"||r==="︿"}var Zp=Ns,Zc=function(r,i,o,h,p){var v,T,R=8*p-h-1,Y=(1<<R)-1,te=Y>>1,de=-7,ve=o?p-1:0,Ee=o?-1:1,Pe=r[i+ve];for(ve+=Ee,v=Pe&(1<<-de)-1,Pe>>=-de,de+=R;de>0;v=256*v+r[i+ve],ve+=Ee,de-=8);for(T=v&(1<<-de)-1,v>>=-de,de+=h;de>0;T=256*T+r[i+ve],ve+=Ee,de-=8);if(v===0)v=1-te;else{if(v===Y)return T?NaN:1/0*(Pe?-1:1);T+=Math.pow(2,h),v-=te}return(Pe?-1:1)*T*Math.pow(2,v-h)},Mg=function(r,i,o,h,p,v){var T,R,Y,te=8*v-p-1,de=(1<<te)-1,ve=de>>1,Ee=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,Pe=h?0:v-1,Re=h?1:-1,He=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(R=isNaN(i)?1:0,T=de):(T=Math.floor(Math.log(i)/Math.LN2),i*(Y=Math.pow(2,-T))<1&&(T--,Y*=2),(i+=T+ve>=1?Ee/Y:Ee*Math.pow(2,1-ve))*Y>=2&&(T++,Y/=2),T+ve>=de?(R=0,T=de):T+ve>=1?(R=(i*Y-1)*Math.pow(2,p),T+=ve):(R=i*Math.pow(2,ve-1)*Math.pow(2,p),T=0));p>=8;r[o+Pe]=255&R,Pe+=Re,R/=256,p-=8);for(T=T<<p|R,te+=p;te>0;r[o+Pe]=255&T,Pe+=Re,T/=256,te-=8);r[o+Pe-Re]|=128*He};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function Ns(r){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(r)?r:new Uint8Array(r||0),this.pos=0,this.type=0,this.length=this.buf.length}Ns.Varint=0,Ns.Fixed64=1,Ns.Bytes=2,Ns.Fixed32=5;var Ir=4294967296,Wr=1/Ir,Ag=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Eh(r){return r.type===Ns.Bytes?r.readVarint()+r.pos:r.pos+1}function Ru(r,i,o){return o?4294967296*i+(r>>>0):4294967296*(i>>>0)+(r>>>0)}function H_(r,i,o){var h=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));o.realloc(h);for(var p=o.pos-1;p>=r;p--)o.buf[p+h]=o.buf[p]}function P2(r,i){for(var o=0;o<r.length;o++)i.writeVarint(r[o])}function D2(r,i){for(var o=0;o<r.length;o++)i.writeSVarint(r[o])}function I2(r,i){for(var o=0;o<r.length;o++)i.writeFloat(r[o])}function $_(r,i){for(var o=0;o<r.length;o++)i.writeDouble(r[o])}function Kp(r,i){for(var o=0;o<r.length;o++)i.writeBoolean(r[o])}function kg(r,i){for(var o=0;o<r.length;o++)i.writeFixed32(r[o])}function L2(r,i){for(var o=0;o<r.length;o++)i.writeSFixed32(r[o])}function W_(r,i){for(var o=0;o<r.length;o++)i.writeFixed64(r[o])}function P0(r,i){for(var o=0;o<r.length;o++)i.writeSFixed64(r[o])}function ga(r,i){return(r[i]|r[i+1]<<8|r[i+2]<<16)+16777216*r[i+3]}function xc(r,i,o){r[o]=i,r[o+1]=i>>>8,r[o+2]=i>>>16,r[o+3]=i>>>24}function q_(r,i){return(r[i]|r[i+1]<<8|r[i+2]<<16)+(r[i+3]<<24)}function O2(r,i,o){i.glyphs=[],r===1&&o.readMessage(R2,i)}function R2(r,i,o){if(r===3){const{id:h,bitmap:p,width:v,height:T,left:R,top:Y,advance:te}=o.readMessage(B2,{});i.glyphs.push({id:h,bitmap:new Th({width:v+6,height:T+6},p),metrics:{width:v,height:T,left:R,top:Y,advance:te}})}else r===4?i.ascender=o.readSVarint():r===5&&(i.descender=o.readSVarint())}function B2(r,i,o){r===1?i.id=o.readVarint():r===2?i.bitmap=o.readBytes():r===3?i.width=o.readVarint():r===4?i.height=o.readVarint():r===5?i.left=o.readSVarint():r===6?i.top=o.readSVarint():r===7&&(i.advance=o.readVarint())}function Pg(r){let i=0,o=0;for(const T of r)i+=T.w*T.h,o=Math.max(o,T.w);r.sort((T,R)=>R.h-T.h);const h=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),o),h:1/0}];let p=0,v=0;for(const T of r)for(let R=h.length-1;R>=0;R--){const Y=h[R];if(!(T.w>Y.w||T.h>Y.h)){if(T.x=Y.x,T.y=Y.y,v=Math.max(v,T.y+T.h),p=Math.max(p,T.x+T.w),T.w===Y.w&&T.h===Y.h){const te=h.pop();R<h.length&&(h[R]=te)}else T.h===Y.h?(Y.x+=T.w,Y.w-=T.w):T.w===Y.w?(Y.y+=T.h,Y.h-=T.h):(h.push({x:Y.x+T.w,y:Y.y,w:Y.w-T.w,h:T.h}),Y.y+=T.h,Y.h-=T.h);break}}return{w:p,h:v,fill:i/(p*v)||0}}Ns.prototype={destroy:function(){this.buf=null},readFields:function(r,i,o){for(o=o||this.length;this.pos<o;){var h=this.readVarint(),p=h>>3,v=this.pos;this.type=7&h,r(p,i,this),this.pos===v&&this.skip(h)}return i},readMessage:function(r,i){return this.readFields(r,i,this.readVarint()+this.pos)},readFixed32:function(){var r=ga(this.buf,this.pos);return this.pos+=4,r},readSFixed32:function(){var r=q_(this.buf,this.pos);return this.pos+=4,r},readFixed64:function(){var r=ga(this.buf,this.pos)+ga(this.buf,this.pos+4)*Ir;return this.pos+=8,r},readSFixed64:function(){var r=ga(this.buf,this.pos)+q_(this.buf,this.pos+4)*Ir;return this.pos+=8,r},readFloat:function(){var r=Zc(this.buf,this.pos,!0,23,4);return this.pos+=4,r},readDouble:function(){var r=Zc(this.buf,this.pos,!0,52,8);return this.pos+=8,r},readVarint:function(r){var i,o,h=this.buf;return i=127&(o=h[this.pos++]),o<128?i:(i|=(127&(o=h[this.pos++]))<<7,o<128?i:(i|=(127&(o=h[this.pos++]))<<14,o<128?i:(i|=(127&(o=h[this.pos++]))<<21,o<128?i:function(p,v,T){var R,Y,te=T.buf;if(R=(112&(Y=te[T.pos++]))>>4,Y<128||(R|=(127&(Y=te[T.pos++]))<<3,Y<128)||(R|=(127&(Y=te[T.pos++]))<<10,Y<128)||(R|=(127&(Y=te[T.pos++]))<<17,Y<128)||(R|=(127&(Y=te[T.pos++]))<<24,Y<128)||(R|=(1&(Y=te[T.pos++]))<<31,Y<128))return Ru(p,R,v);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(o=h[this.pos]))<<28,r,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var r=this.readVarint();return r%2==1?(r+1)/-2:r/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var r=this.readVarint()+this.pos,i=this.pos;return this.pos=r,r-i>=12&&Ag?function(o,h,p){return Ag.decode(o.subarray(h,p))}(this.buf,i,r):function(o,h,p){for(var v="",T=h;T<p;){var R,Y,te,de=o[T],ve=null,Ee=de>239?4:de>223?3:de>191?2:1;if(T+Ee>p)break;Ee===1?de<128&&(ve=de):Ee===2?(192&(R=o[T+1]))==128&&(ve=(31&de)<<6|63&R)<=127&&(ve=null):Ee===3?(Y=o[T+2],(192&(R=o[T+1]))==128&&(192&Y)==128&&((ve=(15&de)<<12|(63&R)<<6|63&Y)<=2047||ve>=55296&&ve<=57343)&&(ve=null)):Ee===4&&(Y=o[T+2],te=o[T+3],(192&(R=o[T+1]))==128&&(192&Y)==128&&(192&te)==128&&((ve=(15&de)<<18|(63&R)<<12|(63&Y)<<6|63&te)<=65535||ve>=1114112)&&(ve=null)),ve===null?(ve=65533,Ee=1):ve>65535&&(ve-=65536,v+=String.fromCharCode(ve>>>10&1023|55296),ve=56320|1023&ve),v+=String.fromCharCode(ve),T+=Ee}return v}(this.buf,i,r)},readBytes:function(){var r=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,r);return this.pos=r,i},readPackedVarint:function(r,i){if(this.type!==Ns.Bytes)return r.push(this.readVarint(i));var o=Eh(this);for(r=r||[];this.pos<o;)r.push(this.readVarint(i));return r},readPackedSVarint:function(r){if(this.type!==Ns.Bytes)return r.push(this.readSVarint());var i=Eh(this);for(r=r||[];this.pos<i;)r.push(this.readSVarint());return r},readPackedBoolean:function(r){if(this.type!==Ns.Bytes)return r.push(this.readBoolean());var i=Eh(this);for(r=r||[];this.pos<i;)r.push(this.readBoolean());return r},readPackedFloat:function(r){if(this.type!==Ns.Bytes)return r.push(this.readFloat());var i=Eh(this);for(r=r||[];this.pos<i;)r.push(this.readFloat());return r},readPackedDouble:function(r){if(this.type!==Ns.Bytes)return r.push(this.readDouble());var i=Eh(this);for(r=r||[];this.pos<i;)r.push(this.readDouble());return r},readPackedFixed32:function(r){if(this.type!==Ns.Bytes)return r.push(this.readFixed32());var i=Eh(this);for(r=r||[];this.pos<i;)r.push(this.readFixed32());return r},readPackedSFixed32:function(r){if(this.type!==Ns.Bytes)return r.push(this.readSFixed32());var i=Eh(this);for(r=r||[];this.pos<i;)r.push(this.readSFixed32());return r},readPackedFixed64:function(r){if(this.type!==Ns.Bytes)return r.push(this.readFixed64());var i=Eh(this);for(r=r||[];this.pos<i;)r.push(this.readFixed64());return r},readPackedSFixed64:function(r){if(this.type!==Ns.Bytes)return r.push(this.readSFixed64());var i=Eh(this);for(r=r||[];this.pos<i;)r.push(this.readSFixed64());return r},skip:function(r){var i=7&r;if(i===Ns.Varint)for(;this.buf[this.pos++]>127;);else if(i===Ns.Bytes)this.pos=this.readVarint()+this.pos;else if(i===Ns.Fixed32)this.pos+=4;else{if(i!==Ns.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(r,i){this.writeVarint(r<<3|i)},realloc:function(r){for(var i=this.length||16;i<this.pos+r;)i*=2;if(i!==this.length){var o=new Uint8Array(i);o.set(this.buf),this.buf=o,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(r){this.realloc(4),xc(this.buf,r,this.pos),this.pos+=4},writeSFixed32:function(r){this.realloc(4),xc(this.buf,r,this.pos),this.pos+=4},writeFixed64:function(r){this.realloc(8),xc(this.buf,-1&r,this.pos),xc(this.buf,Math.floor(r*Wr),this.pos+4),this.pos+=8},writeSFixed64:function(r){this.realloc(8),xc(this.buf,-1&r,this.pos),xc(this.buf,Math.floor(r*Wr),this.pos+4),this.pos+=8},writeVarint:function(r){(r=+r||0)>268435455||r<0?function(i,o){var h,p;if(i>=0?(h=i%4294967296|0,p=i/4294967296|0):(p=~(-i/4294967296),4294967295^(h=~(-i%4294967296))?h=h+1|0:(h=0,p=p+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");o.realloc(10),function(v,T,R){R.buf[R.pos++]=127&v|128,v>>>=7,R.buf[R.pos++]=127&v|128,v>>>=7,R.buf[R.pos++]=127&v|128,v>>>=7,R.buf[R.pos++]=127&v|128,R.buf[R.pos]=127&(v>>>=7)}(h,0,o),function(v,T){var R=(7&v)<<4;T.buf[T.pos++]|=R|((v>>>=3)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v|((v>>>=7)?128:0),v&&(T.buf[T.pos++]=127&v)))))}(p,o)}(r,this):(this.realloc(4),this.buf[this.pos++]=127&r|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=127&(r>>>=7)|(r>127?128:0),r<=127||(this.buf[this.pos++]=r>>>7&127))))},writeSVarint:function(r){this.writeVarint(r<0?2*-r-1:2*r)},writeBoolean:function(r){this.writeVarint(Boolean(r))},writeString:function(r){r=String(r),this.realloc(4*r.length),this.pos++;var i=this.pos;this.pos=function(h,p,v){for(var T,R,Y=0;Y<p.length;Y++){if((T=p.charCodeAt(Y))>55295&&T<57344){if(!R){T>56319||Y+1===p.length?(h[v++]=239,h[v++]=191,h[v++]=189):R=T;continue}if(T<56320){h[v++]=239,h[v++]=191,h[v++]=189,R=T;continue}T=R-55296<<10|T-56320|65536,R=null}else R&&(h[v++]=239,h[v++]=191,h[v++]=189,R=null);T<128?h[v++]=T:(T<2048?h[v++]=T>>6|192:(T<65536?h[v++]=T>>12|224:(h[v++]=T>>18|240,h[v++]=T>>12&63|128),h[v++]=T>>6&63|128),h[v++]=63&T|128)}return v}(this.buf,r,this.pos);var o=this.pos-i;o>=128&&H_(i,o,this),this.pos=i-1,this.writeVarint(o),this.pos+=o},writeFloat:function(r){this.realloc(4),Mg(this.buf,r,this.pos,!0,23,4),this.pos+=4},writeDouble:function(r){this.realloc(8),Mg(this.buf,r,this.pos,!0,52,8),this.pos+=8},writeBytes:function(r){var i=r.length;this.writeVarint(i),this.realloc(i);for(var o=0;o<i;o++)this.buf[this.pos++]=r[o]},writeRawMessage:function(r,i){this.pos++;var o=this.pos;r(i,this);var h=this.pos-o;h>=128&&H_(o,h,this),this.pos=o-1,this.writeVarint(h),this.pos+=h},writeMessage:function(r,i,o){this.writeTag(r,Ns.Bytes),this.writeRawMessage(i,o)},writePackedVarint:function(r,i){i.length&&this.writeMessage(r,P2,i)},writePackedSVarint:function(r,i){i.length&&this.writeMessage(r,D2,i)},writePackedBoolean:function(r,i){i.length&&this.writeMessage(r,Kp,i)},writePackedFloat:function(r,i){i.length&&this.writeMessage(r,I2,i)},writePackedDouble:function(r,i){i.length&&this.writeMessage(r,$_,i)},writePackedFixed32:function(r,i){i.length&&this.writeMessage(r,kg,i)},writePackedSFixed32:function(r,i){i.length&&this.writeMessage(r,L2,i)},writePackedFixed64:function(r,i){i.length&&this.writeMessage(r,W_,i)},writePackedSFixed64:function(r,i){i.length&&this.writeMessage(r,P0,i)},writeBytesField:function(r,i){this.writeTag(r,Ns.Bytes),this.writeBytes(i)},writeFixed32Field:function(r,i){this.writeTag(r,Ns.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(r,i){this.writeTag(r,Ns.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(r,i){this.writeTag(r,Ns.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(r,i){this.writeTag(r,Ns.Fixed64),this.writeSFixed64(i)},writeVarintField:function(r,i){this.writeTag(r,Ns.Varint),this.writeVarint(i)},writeSVarintField:function(r,i){this.writeTag(r,Ns.Varint),this.writeSVarint(i)},writeStringField:function(r,i){this.writeTag(r,Ns.Bytes),this.writeString(i)},writeFloatField:function(r,i){this.writeTag(r,Ns.Fixed32),this.writeFloat(i)},writeDoubleField:function(r,i){this.writeTag(r,Ns.Fixed64),this.writeDouble(i)},writeBooleanField:function(r,i){this.writeVarintField(r,Boolean(i))}};class D0{constructor(i,{pixelRatio:o,version:h,stretchX:p,stretchY:v,content:T}){this.paddedRect=i,this.pixelRatio=o,this.stretchX=p,this.stretchY=v,this.content=T,this.version=h}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Kc{constructor(i,o){const h={},p={};this.haveRenderCallbacks=[];const v=[];this.addImages(i,h,v),this.addImages(o,p,v);const{w:T,h:R}=Pg(v),Y=new qa({width:T||1,height:R||1});for(const te in i){const de=i[te],ve=h[te].paddedRect;qa.copy(de.data,Y,{x:0,y:0},{x:ve.x+1,y:ve.y+1},de.data)}for(const te in o){const de=o[te],ve=p[te].paddedRect,Ee=ve.x+1,Pe=ve.y+1,Re=de.data.width,He=de.data.height;qa.copy(de.data,Y,{x:0,y:0},{x:Ee,y:Pe},de.data),qa.copy(de.data,Y,{x:0,y:He-1},{x:Ee,y:Pe-1},{width:Re,height:1}),qa.copy(de.data,Y,{x:0,y:0},{x:Ee,y:Pe+He},{width:Re,height:1}),qa.copy(de.data,Y,{x:Re-1,y:0},{x:Ee-1,y:Pe},{width:1,height:He}),qa.copy(de.data,Y,{x:0,y:0},{x:Ee+Re,y:Pe},{width:1,height:He})}this.image=Y,this.iconPositions=h,this.patternPositions=p}addImages(i,o,h){for(const p in i){const v=i[p],T={x:0,y:0,w:v.data.width+2,h:v.data.height+2};h.push(T),o[p]=new D0(T,v),v.hasRenderCallback&&this.haveRenderCallbacks.push(p)}}patchUpdatedImages(i,o){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(h=>i.hasImage(h)),i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const h in i.updatedImages)this.patchUpdatedImage(this.iconPositions[h],i.getImage(h),o),this.patchUpdatedImage(this.patternPositions[h],i.getImage(h),o)}patchUpdatedImage(i,o,h){if(!i||!o||i.version===o.version)return;i.version=o.version;const[p,v]=i.tl;h.update(o.data,void 0,{x:p,y:v})}}Hi(D0,"ImagePosition"),Hi(Kc,"ImageAtlas");const zn={horizontal:1,vertical:2,horizontalOnly:3};class Bu{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,o){const h=new Bu;return h.scale=i||1,h.fontStack=o,h}static forImage(i){const o=new Bu;return o.imageName=i,o}}class Yo{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,o){const h=new Yo;for(let p=0;p<i.sections.length;p++){const v=i.sections[p];v.image?h.addImageSection(v):h.addTextSection(v,o)}return h}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSections(){return this.sections}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(i){this.text=function(o,h){let p="";for(let v=0;v<o.length;v++){const T=o.charCodeAt(v+1)||null,R=o.charCodeAt(v-1)||null;p+=!h&&(T&&Me(T)&&!Xp[o[v+1]]||R&&Me(R)&&!Xp[o[v-1]])||!Xp[o[v]]?o[v]:Xp[o[v]]}return p}(this.text,i)}trim(){let i=0;for(let h=0;h<this.text.length&&L0[this.text.charCodeAt(h)];h++)i++;let o=this.text.length;for(let h=this.text.length-1;h>=0&&h>=i&&L0[this.text.charCodeAt(h)];h--)o--;this.text=this.text.substring(i,o),this.sectionIndex=this.sectionIndex.slice(i,o)}substring(i,o){const h=new Yo;return h.text=this.text.substring(i,o),h.sectionIndex=this.sectionIndex.slice(i,o),h.sections=this.sections,h}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,o)=>Math.max(i,this.sections[o].scale),0)}addTextSection(i,o){this.text+=i.text,this.sections.push(Bu.forText(i.scale,i.fontStack||o));const h=this.sections.length-1;for(let p=0;p<i.text.length;++p)this.sectionIndex.push(h)}addImageSection(i){const o=i.image?i.image.name:"";if(o.length===0)return void le("Can't add FormattedSection with an empty image.");const h=this.getNextImageSectionCharCode();h?(this.text+=String.fromCharCode(h),this.sections.push(Bu.forImage(o)),this.sectionIndex.push(this.sections.length-1)):le("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function I0(r,i,o,h,p,v,T,R,Y,te,de,ve,Ee,Pe,Re){const He=Yo.fromFeature(r,p);ve===zn.vertical&&He.verticalizePunctuation(Ee);let Ke=[];const mt=function(Ct,Xt,Yt,hi,Li,ii){if(!Ct)return[];const mi=[],_i=function(Ui,Sn,Yi,ln,Vi,An){let as=0;for(let ss=0;ss<Ui.length();ss++){const ts=Ui.getSection(ss);as+=Y_(Ui.getCharCode(ss),ts,ln,Vi,Sn,An)}return as/Math.max(1,Math.ceil(as/Yi))}(Ct,Xt,Yt,hi,Li,ii),Mi=Ct.text.indexOf("​")>=0;let Oi=0;for(let Ui=0;Ui<Ct.length();Ui++){const Sn=Ct.getSection(Ui),Yi=Ct.getCharCode(Ui);if(L0[Yi]||(Oi+=Y_(Yi,Sn,hi,Li,Xt,ii)),Ui<Ct.length()-1){const ln=!((si=Yi)<11904||!(Ea(si)||Jf(si)||u(si)||yh(si)||i0(si)||Ap(si)||Qf(si)||Jh(si)||n0(si)||vu(si)||t0(si)||z(si)||vl(si)||Pp(si)||kp(si)||e0(si)||yu(si)||a(si)||s0(si)||Dp(si)));(ir[Yi]||ln||Sn.imageName)&&mi.push(X_(Ui+1,Oi,_i,mi,O0(Yi,Ct.getCharCode(Ui+1),ln&&Mi),!1))}}var si;return Z_(X_(Ct.length(),Oi,_i,mi,0,!0))}(He,te,v,i,h,Pe),{processBidirectionalText:Et,processStyledBidirectionalText:ft}=qt;if(Et&&He.sections.length===1){const Ct=Et(He.toString(),mt);for(const Xt of Ct){const Yt=new Yo;Yt.text=Xt,Yt.sections=He.sections;for(let hi=0;hi<Xt.length;hi++)Yt.sectionIndex.push(0);Ke.push(Yt)}}else if(ft){const Ct=ft(He.text,He.sectionIndex,mt);for(const Xt of Ct){const Yt=new Yo;Yt.text=Xt[0],Yt.sectionIndex=Xt[1],Yt.sections=He.sections,Ke.push(Yt)}}else Ke=function(Ct,Xt){const Yt=[],hi=Ct.text;let Li=0;for(const ii of Xt)Yt.push(Ct.substring(Li,ii)),Li=ii;return Li<hi.length&&Yt.push(Ct.substring(Li,hi.length)),Yt}(He,mt);const xt=[],At={positionedLines:xt,text:He.toString(),top:de[1],bottom:de[1],left:de[0],right:de[0],writingMode:ve,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Ct,Xt,Yt,hi,Li,ii,mi,_i,Mi,Oi,si,Ui){let Sn=0,Yi=0,ln=0;const Vi=_i==="right"?1:_i==="left"?0:.5;let An=!1;for(const Gn of Li){const ls=Gn.getSections();for(const Ks of ls){if(Ks.imageName)continue;const hr=Xt[Ks.fontStack];if(hr&&(An=hr.ascender!==void 0&&hr.descender!==void 0,!An))break}if(!An)break}let as=0;for(const Gn of Li){Gn.trim();const ls=Gn.getMaxScale(),Ks=(ls-1)*Zs,hr={positionedGlyphs:[],lineOffset:0};Ct.positionedLines[as]=hr;const or=hr.positionedGlyphs;let dr=0;if(!Gn.length()){Yi+=ii,++as;continue}let gr=0,Yr=0;for(let Gs=0;Gs<Gn.length();Gs++){const go=Gn.getSection(Gs),lo=Gn.getSectionIndex(Gs),ks=Gn.getCharCode(Gs);let Lr=go.scale,Mo=null,Js=null,eo=null,ka=Zs,Zo=0;const Ko=!(Mi===zn.horizontal||!si&&!ke(ks)||si&&(L0[ks]||(ss=ks,Cp(ss)||Nl(ss)||Mp(ss)||_(ss)||D(ss))));if(go.imageName){const Za=hi[go.imageName];if(!Za)continue;eo=go.imageName,Ct.iconsInText=Ct.iconsInText||!0,Js=Za.paddedRect;const Jo=Za.displaySize;Lr=Lr*Zs/Ui,Mo={width:Jo[0],height:Jo[1],left:1,top:-3,advance:Ko?Jo[1]:Jo[0],localGlyph:!1},Zo=An?-Mo.height*Lr:ls*Zs-17-Jo[1]*Lr,ka=Mo.advance;const Wd=(Ko?Jo[0]:Jo[1])*Lr-Zs*ls;Wd>0&&Wd>dr&&(dr=Wd)}else{const Za=Yt[go.fontStack];if(!Za)continue;Za[ks]&&(Js=Za[ks]);const Jo=Xt[go.fontStack];if(!Jo)continue;const Wd=Jo.glyphs[ks];if(!Wd)continue;if(Mo=Wd.metrics,ka=ks!==8203?Zs:0,An){const X0=Jo.ascender!==void 0?Math.abs(Jo.ascender):0,i1=Jo.descender!==void 0?Math.abs(Jo.descender):0,n1=(X0+i1)*Lr;gr<n1&&(gr=n1,Yr=(X0-i1)/2*Lr),Zo=-X0*Lr}else Zo=(ls-Lr)*Zs-17}Ko?(Ct.verticalizable=!0,or.push({glyph:ks,imageName:eo,x:Sn,y:Yi+Zo,vertical:Ko,scale:Lr,localGlyph:Mo.localGlyph,fontStack:go.fontStack,sectionIndex:lo,metrics:Mo,rect:Js}),Sn+=ka*Lr+Oi):(or.push({glyph:ks,imageName:eo,x:Sn,y:Yi+Zo,vertical:Ko,scale:Lr,localGlyph:Mo.localGlyph,fontStack:go.fontStack,sectionIndex:lo,metrics:Mo,rect:Js}),Sn+=Mo.advance*Lr+Oi)}or.length!==0&&(ln=Math.max(Sn-Oi,ln),An?K_(or,Vi,dr,Yr,ii*ls/2):K_(or,Vi,dr,0,ii/2)),Sn=0;const Xo=ii*ls+dr;hr.lineOffset=Math.max(dr,Ks),Yi+=Xo,++as}var ss;const ts=Yi,{horizontalAlign:Pn,verticalAlign:Us}=Ig(mi);(function(Gn,ls,Ks,hr,or,dr){const gr=(ls-Ks)*or,Yr=-dr*hr;for(const Xo of Gn)for(const Gs of Xo.positionedGlyphs)Gs.x+=gr,Gs.y+=Yr})(Ct.positionedLines,Vi,Pn,Us,ln,ts),Ct.top+=-Us*ts,Ct.bottom=Ct.top+ts,Ct.left+=-Pn*ln,Ct.right=Ct.left+ln,Ct.hasBaseline=An}(At,i,o,h,Ke,T,R,Y,ve,te,Ee,Re),!function(Ct){for(const Xt of Ct)if(Xt.positionedGlyphs.length!==0)return!1;return!0}(xt)&&At}const L0={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},ir={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Y_(r,i,o,h,p,v){if(i.imageName){const T=h[i.imageName];return T?T.displaySize[0]*i.scale*Zs/v+p:0}{const T=o[i.fontStack],R=T&&T.glyphs[r];return R?R.metrics.advance*i.scale+p:0}}function Dg(r,i,o,h){const p=Math.pow(r-i,2);return h?r<i?p/2:2*p:p+Math.abs(o)*o}function O0(r,i,o){let h=0;return r===10&&(h-=1e4),o&&(h+=150),r!==40&&r!==65288||(h+=50),i!==41&&i!==65289||(h+=50),h}function X_(r,i,o,h,p,v){let T=null,R=Dg(i,o,p,v);for(const Y of h){const te=Dg(i-Y.x,o,p,v)+Y.badness;te<=R&&(T=Y,R=te)}return{index:r,x:i,priorBreak:T,badness:R}}function Z_(r){return r?Z_(r.priorBreak).concat(r.index):[]}function Ig(r){let i=.5,o=.5;switch(r){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(r){case"bottom":case"bottom-right":case"bottom-left":o=1;break;case"top":case"top-right":case"top-left":o=0}return{horizontalAlign:i,verticalAlign:o}}function K_(r,i,o,h,p){if(!(i||o||h||p))return;const v=r.length-1,T=r[v],R=(T.x+T.metrics.advance*T.scale)*i;for(let Y=0;Y<=v;Y++)r[Y].x-=R,r[Y].y+=o+h+p}function z2(r,i,o){const{horizontalAlign:h,verticalAlign:p}=Ig(o),v=i[0]-r.displaySize[0]*h,T=i[1]-r.displaySize[1]*p;return{image:r,top:T,bottom:T+r.displaySize[1],left:v,right:v+r.displaySize[0]}}function J_(r,i,o,h,p,v){const T=r.image;let R;if(T.content){const Ke=T.content,mt=T.pixelRatio||1;R=[Ke[0]/mt,Ke[1]/mt,T.displaySize[0]-Ke[2]/mt,T.displaySize[1]-Ke[3]/mt]}const Y=i.left*v,te=i.right*v;let de,ve,Ee,Pe;o==="width"||o==="both"?(Pe=p[0]+Y-h[3],ve=p[0]+te+h[1]):(Pe=p[0]+(Y+te-T.displaySize[0])/2,ve=Pe+T.displaySize[0]);const Re=i.top*v,He=i.bottom*v;return o==="height"||o==="both"?(de=p[1]+Re-h[0],Ee=p[1]+He+h[2]):(de=p[1]+(Re+He-T.displaySize[1])/2,Ee=de+T.displaySize[1]),{image:T,top:de,right:ve,bottom:Ee,left:Pe,collisionPadding:R}}class Ch extends G{constructor(i,o,h,p,v){super(i,o),this.angle=p,this.z=h,v!==void 0&&(this.segment=v)}clone(){return new Ch(this.x,this.y,this.z,this.angle,this.segment)}}function Q_(r,i,o,h,p){if(i.segment===void 0)return!0;let v=i,T=i.segment+1,R=0;for(;R>-o/2;){if(T--,T<0)return!1;R-=r[T].dist(v),v=r[T]}R+=r[T].dist(r[T+1]),T++;const Y=[];let te=0;for(;R<o/2;){const de=r[T],ve=r[T+1];if(!ve)return!1;let Ee=r[T-1].angleTo(de)-de.angleTo(ve);for(Ee=Math.abs((Ee+3*Math.PI)%(2*Math.PI)-Math.PI),Y.push({distance:R,angleDelta:Ee}),te+=Ee;R-Y[0].distance>h;)te-=Y.shift().angleDelta;if(te>p)return!1;T++,R+=de.dist(ve)}return!0}function ey(r){let i=0;for(let o=0;o<r.length-1;o++)i+=r[o].dist(r[o+1]);return i}function ty(r,i,o){return r?.6*i*o:0}function iy(r,i){return Math.max(r?r.right-r.left:0,i?i.right-i.left:0)}function N2(r,i,o,h,p,v){const T=ty(o,p,v),R=iy(o,h)*v;let Y=0;const te=ey(r)/2;for(let de=0;de<r.length-1;de++){const ve=r[de],Ee=r[de+1],Pe=ve.dist(Ee);if(Y+Pe>te){const Re=(te-Y)/Pe,He=On(ve.x,Ee.x,Re),Ke=On(ve.y,Ee.y,Re),mt=new Ch(He,Ke,0,Ee.angleTo(ve),de);return!T||Q_(r,mt,R,T,i)?mt:void 0}Y+=Pe}}function F2(r,i,o,h,p,v,T,R,Y){const te=ty(h,v,T),de=iy(h,p),ve=de*T,Ee=r[0].x===0||r[0].x===Y||r[0].y===0||r[0].y===Y;return i-ve<i/4&&(i=ve+i/4),R0(r,Ee?i/2*R%i:(de/2+2*v)*T*R%i,i,te,o,ve,Ee,!1,Y)}function R0(r,i,o,h,p,v,T,R,Y){const te=v/2,de=ey(r);let ve=0,Ee=i-o,Pe=[];for(let Re=0;Re<r.length-1;Re++){const He=r[Re],Ke=r[Re+1],mt=He.dist(Ke),Et=Ke.angleTo(He);for(;Ee+o<ve+mt;){Ee+=o;const ft=(Ee-ve)/mt,xt=On(He.x,Ke.x,ft),At=On(He.y,Ke.y,ft);if(xt>=0&&xt<Y&&At>=0&&At<Y&&Ee-te>=0&&Ee+te<=de){const Ct=new Ch(xt,At,0,Et,Re);Ct._round(),h&&!Q_(r,Ct,v,h,p)||Pe.push(Ct)}}ve+=mt}return R||Pe.length||T||(Pe=R0(r,ve/2,o,h,p,v,T,!0,Y)),Pe}function ny(r,i,o,h,p){const v=[];for(let T=0;T<r.length;T++){const R=r[T];let Y;for(let te=0;te<R.length-1;te++){let de=R[te],ve=R[te+1];de.x<i&&ve.x<i||(de.x<i?de=new G(i,de.y+(i-de.x)/(ve.x-de.x)*(ve.y-de.y))._round():ve.x<i&&(ve=new G(i,de.y+(i-de.x)/(ve.x-de.x)*(ve.y-de.y))._round()),de.y<o&&ve.y<o||(de.y<o?de=new G(de.x+(o-de.y)/(ve.y-de.y)*(ve.x-de.x),o)._round():ve.y<o&&(ve=new G(de.x+(o-de.y)/(ve.y-de.y)*(ve.x-de.x),o)._round()),de.x>=h&&ve.x>=h||(de.x>=h?de=new G(h,de.y+(h-de.x)/(ve.x-de.x)*(ve.y-de.y))._round():ve.x>=h&&(ve=new G(h,de.y+(h-de.x)/(ve.x-de.x)*(ve.y-de.y))._round()),de.y>=p&&ve.y>=p||(de.y>=p?de=new G(de.x+(p-de.y)/(ve.y-de.y)*(ve.x-de.x),p)._round():ve.y>=p&&(ve=new G(de.x+(p-de.y)/(ve.y-de.y)*(ve.x-de.x),p)._round()),Y&&de.equals(Y[Y.length-1])||(Y=[de],v.push(Y)),Y.push(ve)))))}}return v}Hi(Ch,"Anchor");const Ud=1e20;function sy(r,i,o,h,p,v,T,R,Y){for(let te=i;te<i+h;te++)ry(r,o*v+te,v,p,T,R,Y);for(let te=o;te<o+p;te++)ry(r,te*v+i,1,h,T,R,Y)}function ry(r,i,o,h,p,v,T){v[0]=0,T[0]=-Ud,T[1]=Ud,p[0]=r[i];for(let R=1,Y=0,te=0;R<h;R++){p[R]=r[i+R*o];const de=R*R;do{const ve=v[Y];te=(p[R]-p[ve]+de-ve*ve)/(R-ve)/2}while(te<=T[Y]&&--Y>-1);Y++,v[Y]=R,T[Y]=te,T[Y+1]=Ud}for(let R=0,Y=0;R<h;R++){for(;T[Y+1]<R;)Y++;const te=v[Y],de=R-te;r[i+R*o]=p[te]+de*de}}const Lg={none:0,ideographs:1,all:2};class qr{constructor(i,o,h){this.requestManager=i,this.localGlyphMode=o,this.localFontFamily=h,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(i){this.url=i}getGlyphs(i,o){const h=[];for(const p in i)for(const v of i[p])h.push({stack:p,id:v});q(h,({stack:p,id:v},T)=>{let R=this.entries[p];R||(R=this.entries[p]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let Y=R.glyphs[v];if(Y!==void 0)return void T(null,{stack:p,id:v,glyph:Y});if(Y=this._tinySDF(R,p,v),Y)return R.glyphs[v]=Y,void T(null,{stack:p,id:v,glyph:Y});const te=Math.floor(v/256);if(256*te>65535)return void T(new Error("glyphs > 65535 not supported"));if(R.ranges[te])return void T(null,{stack:p,id:v,glyph:Y});let de=R.requests[te];de||(de=R.requests[te]=[],qr.loadGlyphRange(p,te,this.url,this.requestManager,(ve,Ee)=>{if(Ee){R.ascender=Ee.ascender,R.descender=Ee.descender;for(const Pe in Ee.glyphs)this._doesCharSupportLocalGlyph(+Pe)||(R.glyphs[+Pe]=Ee.glyphs[+Pe]);R.ranges[te]=!0}for(const Pe of de)Pe(ve,Ee);delete R.requests[te]})),de.push((ve,Ee)=>{ve?T(ve):Ee&&T(null,{stack:p,id:v,glyph:Ee.glyphs[v]||null})})},(p,v)=>{if(p)o(p);else if(v){const T={};for(const{stack:R,id:Y,glyph:te}of v)T[R]===void 0&&(T[R]={}),T[R].glyphs===void 0&&(T[R].glyphs={}),T[R].glyphs[Y]=te&&{id:te.id,bitmap:te.bitmap.clone(),metrics:te.metrics},T[R].ascender=this.entries[R].ascender,T[R].descender=this.entries[R].descender;o(null,T)}})}_doesCharSupportLocalGlyph(i){return this.localGlyphMode!==Lg.none&&(this.localGlyphMode===Lg.all?!!this.localFontFamily:!!this.localFontFamily&&(vu(i)||Ip(i)||vl(i)||yu(i)||Jh(i)))}_tinySDF(i,o,h){const p=this.localFontFamily;if(!p||!this._doesCharSupportLocalGlyph(h))return;let v=i.tinySDF;if(!v){let He="400";/bold/i.test(o)?He="900":/medium/i.test(o)?He="500":/light/i.test(o)&&(He="200"),v=i.tinySDF=new qr.TinySDF({fontFamily:p,fontWeight:He,fontSize:48,buffer:6,radius:16}),v.fontWeight=He}if(this.localGlyphs[v.fontWeight][h])return this.localGlyphs[v.fontWeight][h];const T=String.fromCharCode(h),{data:R,width:Y,height:te,glyphWidth:de,glyphHeight:ve,glyphLeft:Ee,glyphTop:Pe,glyphAdvance:Re}=v.draw(T);return this.localGlyphs[v.fontWeight][h]={id:h,bitmap:new Th({width:Y,height:te},R),metrics:{width:de/2,height:ve/2,left:Ee/2,top:Pe/2-27,advance:Re/2,localGlyph:!0}}}}function Aa(r,i,o,h){const p=[],v=r.image,T=v.pixelRatio,R=v.paddedRect.w-2,Y=v.paddedRect.h-2,te=r.right-r.left,de=r.bottom-r.top,ve=v.stretchX||[[0,R]],Ee=v.stretchY||[[0,Y]],Pe=(ii,mi)=>ii+mi[1]-mi[0],Re=ve.reduce(Pe,0),He=Ee.reduce(Pe,0),Ke=R-Re,mt=Y-He;let Et=0,ft=Re,xt=0,At=He,Ct=0,Xt=Ke,Yt=0,hi=mt;if(v.content&&h){const ii=v.content;Et=B0(ve,0,ii[0]),xt=B0(Ee,0,ii[1]),ft=B0(ve,ii[0],ii[2]),At=B0(Ee,ii[1],ii[3]),Ct=ii[0]-Et,Yt=ii[1]-xt,Xt=ii[2]-ii[0]-ft,hi=ii[3]-ii[1]-At}const Li=(ii,mi,_i,Mi)=>{const Oi=z0(ii.stretch-Et,ft,te,r.left),si=Jp(ii.fixed-Ct,Xt,ii.stretch,Re),Ui=z0(mi.stretch-xt,At,de,r.top),Sn=Jp(mi.fixed-Yt,hi,mi.stretch,He),Yi=z0(_i.stretch-Et,ft,te,r.left),ln=Jp(_i.fixed-Ct,Xt,_i.stretch,Re),Vi=z0(Mi.stretch-xt,At,de,r.top),An=Jp(Mi.fixed-Yt,hi,Mi.stretch,He),as=new G(Oi,Ui),ss=new G(Yi,Ui),ts=new G(Yi,Vi),Pn=new G(Oi,Vi),Us=new G(si/T,Sn/T),Gn=new G(ln/T,An/T),ls=i*Math.PI/180;if(ls){const or=Math.sin(ls),dr=Math.cos(ls),gr=[dr,-or,or,dr];as._matMult(gr),ss._matMult(gr),Pn._matMult(gr),ts._matMult(gr)}const Ks=ii.stretch+ii.fixed,hr=mi.stretch+mi.fixed;return{tl:as,tr:ss,bl:Pn,br:ts,tex:{x:v.paddedRect.x+1+Ks,y:v.paddedRect.y+1+hr,w:_i.stretch+_i.fixed-Ks,h:Mi.stretch+Mi.fixed-hr},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Us,pixelOffsetBR:Gn,minFontScaleX:Xt/T/te,minFontScaleY:hi/T/de,isSDF:o}};if(h&&(v.stretchX||v.stretchY)){const ii=oy(ve,Ke,Re),mi=oy(Ee,mt,He);for(let _i=0;_i<ii.length-1;_i++){const Mi=ii[_i],Oi=ii[_i+1];for(let si=0;si<mi.length-1;si++)p.push(Li(Mi,mi[si],Oi,mi[si+1]))}}else p.push(Li({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:R+1},{fixed:0,stretch:Y+1}));return p}function B0(r,i,o){let h=0;for(const p of r)h+=Math.max(i,Math.min(o,p[1]))-Math.max(i,Math.min(o,p[0]));return h}function oy(r,i,o){const h=[{fixed:-1,stretch:0}];for(const[p,v]of r){const T=h[h.length-1];h.push({fixed:p-T.stretch,stretch:T.stretch}),h.push({fixed:p-T.stretch,stretch:T.stretch+(v-p)})}return h.push({fixed:i+1,stretch:o}),h}function z0(r,i,o,h){return r/i*o+h}function Jp(r,i,o,h){return r-i*o/h}function j2(r,i,o,h){const p=i+r.positionedLines[h].lineOffset;return h===0?o+p/2:o+(p+(i+r.positionedLines[h-1].lineOffset))/2}qr.loadGlyphRange=function(r,i,o,h,p){const v=256*i,T=v+255,R=h.transformRequest(h.normalizeGlyphsURL(o).replace("{fontstack}",r).replace("{range}",`${v}-${T}`),Qt.Glyphs);Xi(R,(Y,te)=>{if(Y)p(Y);else if(te){const de={},ve=function(Ee){return new Zp(Ee).readFields(O2,{})}(te);for(const Ee of ve.glyphs)de[Ee.id]=Ee;p(null,{glyphs:de,ascender:ve.ascender,descender:ve.descender})}})},qr.TinySDF=class{constructor({fontSize:r=24,buffer:i=3,radius:o=8,cutoff:h=.25,fontFamily:p="sans-serif",fontWeight:v="normal",fontStyle:T="normal"}={}){this.buffer=i,this.cutoff=h,this.radius=o;const R=this.size=r+4*i,Y=this._createCanvas(R),te=this.ctx=Y.getContext("2d",{willReadFrequently:!0});te.font=`${T} ${v} ${r}px ${p}`,te.textBaseline="alphabetic",te.textAlign="left",te.fillStyle="black",this.gridOuter=new Float64Array(R*R),this.gridInner=new Float64Array(R*R),this.f=new Float64Array(R),this.z=new Float64Array(R+1),this.v=new Uint16Array(R)}_createCanvas(r){const i=document.createElement("canvas");return i.width=i.height=r,i}draw(r){const{width:i,actualBoundingBoxAscent:o,actualBoundingBoxDescent:h,actualBoundingBoxLeft:p,actualBoundingBoxRight:v}=this.ctx.measureText(r),T=Math.ceil(o),R=Math.min(this.size-this.buffer,Math.ceil(v-p)),Y=Math.min(this.size-this.buffer,T+Math.ceil(h)),te=R+2*this.buffer,de=Y+2*this.buffer,ve=Math.max(te*de,0),Ee=new Uint8ClampedArray(ve),Pe={data:Ee,width:te,height:de,glyphWidth:R,glyphHeight:Y,glyphTop:T,glyphLeft:0,glyphAdvance:i};if(R===0||Y===0)return Pe;const{ctx:Re,buffer:He,gridInner:Ke,gridOuter:mt}=this;Re.clearRect(He,He,R,Y),Re.fillText(r,He,He+T);const Et=Re.getImageData(He,He,R,Y);mt.fill(Ud,0,ve),Ke.fill(0,0,ve);for(let ft=0;ft<Y;ft++)for(let xt=0;xt<R;xt++){const At=Et.data[4*(ft*R+xt)+3]/255;if(At===0)continue;const Ct=(ft+He)*te+xt+He;if(At===1)mt[Ct]=0,Ke[Ct]=Ud;else{const Xt=.5-At;mt[Ct]=Xt>0?Xt*Xt:0,Ke[Ct]=Xt<0?Xt*Xt:0}}sy(mt,0,0,te,de,te,this.f,this.v,this.z),sy(Ke,He,He,R,Y,te,this.f,this.v,this.z);for(let ft=0;ft<ve;ft++){const xt=Math.sqrt(mt[ft])-Math.sqrt(Ke[ft]);Ee[ft]=Math.round(255-255*(xt/this.radius+this.cutoff))}return Pe}};class U2{constructor(i=[],o=G2){if(this.data=i,this.length=this.data.length,this.compare=o,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const i=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:o,compare:h}=this,p=o[i];for(;i>0;){const v=i-1>>1,T=o[v];if(h(p,T)>=0)break;o[i]=T,i=v}o[i]=p}_down(i){const{data:o,compare:h}=this,p=this.length>>1,v=o[i];for(;i<p;){let T=1+(i<<1),R=o[T];const Y=T+1;if(Y<this.length&&h(o[Y],R)<0&&(T=Y,R=o[Y]),h(R,v)>=0)break;o[i]=R,i=T}o[i]=v}}function G2(r,i){return r<i?-1:r>i?1:0}function ay(r,i=1,o=!1){let h=1/0,p=1/0,v=-1/0,T=-1/0;const R=r[0];for(let Pe=0;Pe<R.length;Pe++){const Re=R[Pe];(!Pe||Re.x<h)&&(h=Re.x),(!Pe||Re.y<p)&&(p=Re.y),(!Pe||Re.x>v)&&(v=Re.x),(!Pe||Re.y>T)&&(T=Re.y)}const Y=Math.min(v-h,T-p);let te=Y/2;const de=new U2([],V2);if(Y===0)return new G(h,p);for(let Pe=h;Pe<v;Pe+=Y)for(let Re=p;Re<T;Re+=Y)de.push(new zu(Pe+te,Re+te,te,r));let ve=function(Pe){let Re=0,He=0,Ke=0;const mt=Pe[0];for(let Et=0,ft=mt.length,xt=ft-1;Et<ft;xt=Et++){const At=mt[Et],Ct=mt[xt],Xt=At.x*Ct.y-Ct.x*At.y;He+=(At.x+Ct.x)*Xt,Ke+=(At.y+Ct.y)*Xt,Re+=3*Xt}return new zu(He/Re,Ke/Re,0,Pe)}(r),Ee=de.length;for(;de.length;){const Pe=de.pop();(Pe.d>ve.d||!ve.d)&&(ve=Pe,o&&console.log("found best %d after %d probes",Math.round(1e4*Pe.d)/1e4,Ee)),Pe.max-ve.d<=i||(te=Pe.h/2,de.push(new zu(Pe.p.x-te,Pe.p.y-te,te,r)),de.push(new zu(Pe.p.x+te,Pe.p.y-te,te,r)),de.push(new zu(Pe.p.x-te,Pe.p.y+te,te,r)),de.push(new zu(Pe.p.x+te,Pe.p.y+te,te,r)),Ee+=4)}return o&&(console.log(`num probes: ${Ee}`),console.log(`best distance: ${ve.d}`)),ve.p}function V2(r,i){return i.max-r.max}function zu(r,i,o,h){this.p=new G(r,i),this.h=o,this.d=function(p,v){let T=!1,R=1/0;for(let Y=0;Y<v.length;Y++){const te=v[Y];for(let de=0,ve=te.length,Ee=ve-1;de<ve;Ee=de++){const Pe=te[de],Re=te[Ee];Pe.y>p.y!=Re.y>p.y&&p.x<(Re.x-Pe.x)*(p.y-Pe.y)/(Re.y-Pe.y)+Pe.x&&(T=!T),R=Math.min(R,u_(p,Pe,Re))}}return(T?1:-1)*Math.sqrt(R)}(this.p,h),this.max=this.d+this.h*Math.SQRT2}const Og=Number.POSITIVE_INFINITY,ly=Math.sqrt(2);function Rg(r,[i,o]){let h=0,p=0;if(o===Og){i<0&&(i=0);const v=i/ly;switch(r){case"top-right":case"top-left":p=v-7;break;case"bottom-right":case"bottom-left":p=7-v;break;case"bottom":p=7-i;break;case"top":p=i-7}switch(r){case"top-right":case"bottom-right":h=-v;break;case"top-left":case"bottom-left":h=v;break;case"left":h=i;break;case"right":h=-i}}else{switch(i=Math.abs(i),o=Math.abs(o),r){case"top-right":case"top-left":case"top":p=o-7;break;case"bottom-right":case"bottom-left":case"bottom":p=7-o}switch(r){case"top-right":case"bottom-right":case"right":h=-i;break;case"top-left":case"bottom-left":case"left":h=i}}return[h,p]}function H2(r,i,o,h,p,v,T,R,Y,te){r.createArrays(),r.tilePixelRatio=vn/(512*r.overscaling),r.compareText={},r.iconsNeedLinear=!1;const de=r.layers[0].layout,ve=r.layers[0]._unevaluatedLayout._values,Ee={};if(r.textSizeData.kind==="composite"){const{minZoom:He,maxZoom:Ke}=r.textSizeData;Ee.compositeTextSizes=[ve["text-size"].possiblyEvaluate(new Nt(He),R),ve["text-size"].possiblyEvaluate(new Nt(Ke),R)]}if(r.iconSizeData.kind==="composite"){const{minZoom:He,maxZoom:Ke}=r.iconSizeData;Ee.compositeIconSizes=[ve["icon-size"].possiblyEvaluate(new Nt(He),R),ve["icon-size"].possiblyEvaluate(new Nt(Ke),R)]}Ee.layoutTextSize=ve["text-size"].possiblyEvaluate(new Nt(Y+1),R),Ee.layoutIconSize=ve["icon-size"].possiblyEvaluate(new Nt(Y+1),R),Ee.textMaxSize=ve["text-size"].possiblyEvaluate(new Nt(18),R);const Pe=de.get("text-rotation-alignment")==="map"&&de.get("symbol-placement")!=="point",Re=de.get("text-size");for(const He of r.features){const Ke=de.get("text-font").evaluate(He,{},R).join(","),mt=Re.evaluate(He,{},R),Et=Ee.layoutTextSize.evaluate(He,{},R),ft=(Ee.layoutIconSize.evaluate(He,{},R),{horizontal:{},vertical:void 0}),xt=He.text;let At,Ct=[0,0];if(xt){const hi=xt.toString(),Li=de.get("text-letter-spacing").evaluate(He,{},R)*Zs,ii=de.get("text-line-height").evaluate(He,{},R)*Zs,mi=he(hi)?Li:0,_i=de.get("text-anchor").evaluate(He,{},R),Mi=de.get("text-variable-anchor");if(!Mi){const Yi=de.get("text-radial-offset").evaluate(He,{},R);Ct=Yi?Rg(_i,[Yi*Zs,Og]):de.get("text-offset").evaluate(He,{},R).map(ln=>ln*Zs)}let Oi=Pe?"center":de.get("text-justify").evaluate(He,{},R);const si=de.get("symbol-placement")==="point",Ui=si?de.get("text-max-width").evaluate(He,{},R)*Zs:1/0,Sn=Yi=>{r.allowVerticalPlacement&&ne(hi)&&(ft.vertical=I0(xt,i,o,p,Ke,Ui,ii,_i,Yi,mi,Ct,zn.vertical,!0,Et,mt))};if(!Pe&&Mi){const Yi=Oi==="auto"?Mi.map(Vi=>Bg(Vi)):[Oi];let ln=!1;for(let Vi=0;Vi<Yi.length;Vi++){const An=Yi[Vi];if(!ft.horizontal[An])if(ln)ft.horizontal[An]=ft.horizontal[0];else{const as=I0(xt,i,o,p,Ke,Ui,ii,"center",An,mi,Ct,zn.horizontal,!1,Et,mt);as&&(ft.horizontal[An]=as,ln=as.positionedLines.length===1)}}Sn("left")}else{if(Oi==="auto"&&(Oi=Bg(_i)),si||de.get("text-writing-mode").indexOf("horizontal")>=0||!ne(hi)){const Yi=I0(xt,i,o,p,Ke,Ui,ii,_i,Oi,mi,Ct,zn.horizontal,!1,Et,mt);Yi&&(ft.horizontal[Oi]=Yi)}Sn(si?"left":Oi)}}let Xt=!1;if(He.icon&&He.icon.name){const hi=h[He.icon.name];hi&&(At=z2(p[He.icon.name],de.get("icon-offset").evaluate(He,{},R),de.get("icon-anchor").evaluate(He,{},R)),Xt=hi.sdf,r.sdfIcons===void 0?r.sdfIcons=hi.sdf:r.sdfIcons!==hi.sdf&&le("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(hi.pixelRatio!==r.pixelRatio||de.get("icon-rotate").constantOr(1)!==0)&&(r.iconsNeedLinear=!0))}const Yt=cy(ft.horizontal)||ft.vertical;r.iconsInText||(r.iconsInText=!!Yt&&Yt.iconsInText),(Yt||At)&&$2(r,He,ft,At,h,Ee,Et,0,Ct,Xt,T,R,te)}v&&r.generateCollisionDebugBuffers(Y,r.collisionBoxArray)}function Bg(r){switch(r){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function $2(r,i,o,h,p,v,T,R,Y,te,de,ve,Ee){let Pe=v.textMaxSize.evaluate(i,{},ve);Pe===void 0&&(Pe=T);const Re=r.layers[0].layout,He=Re.get("icon-offset").evaluate(i,{},ve),Ke=cy(o.horizontal)||o.vertical,mt=Ee.name==="globe",Et=T/24,ft=r.tilePixelRatio*Pe/24,xt=(mi=r.overscaling,r.zoom>18&&mi>2&&(mi>>=1),Math.max(vn/(512*mi),1)*Re.get("symbol-spacing")),At=Re.get("text-padding")*r.tilePixelRatio,Ct=Re.get("icon-padding")*r.tilePixelRatio,Xt=N(Re.get("text-max-angle")),Yt=Re.get("text-rotation-alignment")==="map"&&Re.get("symbol-placement")!=="point",hi=Re.get("icon-rotation-alignment")==="map"&&Re.get("symbol-placement")!=="point",Li=Re.get("symbol-placement"),ii=xt/2;var mi;const _i=Re.get("icon-text-fit");let Mi;h&&_i!=="none"&&(r.allowVerticalPlacement&&o.vertical&&(Mi=J_(h,o.vertical,_i,Re.get("icon-text-fit-padding"),He,Et)),Ke&&(h=J_(h,Ke,_i,Re.get("icon-text-fit-padding"),He,Et)));const Oi=(si,Ui,Sn)=>{if(Ui.x<0||Ui.x>=vn||Ui.y<0||Ui.y>=vn)return;let Yi=null;if(mt){const{x:ln,y:Vi,z:An}=Ee.projectTilePoint(Ui.x,Ui.y,Sn);Yi={anchor:new Ch(ln,Vi,An,0,void 0),up:Ee.upVector(Sn,Ui.x,Ui.y)}}(function(ln,Vi,An,as,ss,ts,Pn,Us,Gn,ls,Ks,hr,or,dr,gr,Yr,Xo,Gs,go,lo,ks,Lr,Mo,Js,eo){const ka=ln.addToLineVertexArray(Vi,as);let Zo,Ko,Za,Jo,Wd,X0,i1,n1=0,$S=0,WS=0,qS=0,_b=-1,yb=-1;const ld={};let YS=kd.exports("");const df=An?An.anchor:Vi;let vb=0,xb=0;if(Gn._unevaluatedLayout.getValue("text-radial-offset")===void 0?[vb,xb]=Gn.layout.get("text-offset").evaluate(ks,{},eo).map(Wl=>Wl*Zs):(vb=Gn.layout.get("text-radial-offset").evaluate(ks,{},eo)*Zs,xb=Og),ln.allowVerticalPlacement&&ss.vertical){const Wl=ss.vertical;if(gr)X0=zg(Wl),Us&&(i1=zg(Us));else{const ql=Gn.layout.get("text-rotate").evaluate(ks,{},eo)+90;Za=N0(ls,df,Vi,Ks,hr,or,Wl,dr,ql,Yr),Us&&(Jo=N0(ls,df,Vi,Ks,hr,or,Us,Gs,ql))}}if(ts){const Wl=Gn.layout.get("icon-rotate").evaluate(ks,{},eo),ql=Gn.layout.get("icon-text-fit")!=="none",s1=Aa(ts,Wl,Mo,ql),wb=Us?Aa(Us,Wl,Mo,ql):void 0;Ko=N0(ls,df,Vi,Ks,hr,or,ts,Gs,Wl),n1=4*s1.length;const XS=ln.iconSizeData;let uf=null;XS.kind==="source"?(uf=[tr*Gn.layout.get("icon-size").evaluate(ks,{},eo)],uf[0]>rd&&le(`${ln.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):XS.kind==="composite"&&(uf=[tr*Lr.compositeIconSizes[0].evaluate(ks,{},eo),tr*Lr.compositeIconSizes[1].evaluate(ks,{},eo)],(uf[0]>rd||uf[1]>rd)&&le(`${ln.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),ln.addSymbols(ln.icon,s1,uf,lo,go,ks,!1,An,Vi,ka.lineStartIndex,ka.lineLength,-1,Js,eo),_b=ln.icon.placedSymbolArray.length-1,wb&&($S=4*wb.length,ln.addSymbols(ln.icon,wb,uf,lo,go,ks,zn.vertical,An,Vi,ka.lineStartIndex,ka.lineLength,-1,Js,eo),yb=ln.icon.placedSymbolArray.length-1)}for(const Wl in ss.horizontal){const ql=ss.horizontal[Wl];Zo||(YS=kd.exports(ql.text),gr?Wd=zg(ql):Zo=N0(ls,df,Vi,Ks,hr,or,ql,dr,Gn.layout.get("text-rotate").evaluate(ks,{},eo),Yr));const s1=ql.positionedLines.length===1;if(WS+=Gd(ln,An,Vi,ql,Pn,Gn,gr,ks,Yr,ka,ss.vertical?zn.horizontal:zn.horizontalOnly,s1?Object.keys(ss.horizontal):[Wl],ld,_b,Lr,Js,eo),s1)break}ss.vertical&&(qS+=Gd(ln,An,Vi,ss.vertical,Pn,Gn,gr,ks,Yr,ka,zn.vertical,["vertical"],ld,yb,Lr,Js,eo));let Vu=-1;const bb=(Wl,ql)=>Wl?Math.max(Wl,ql):ql;Vu=bb(Wd,Vu),Vu=bb(X0,Vu),Vu=bb(i1,Vu);const jA=Vu>-1?1:0;ln.glyphOffsetArray.length>=od.MAX_GLYPHS&&le("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ks.sortKey!==void 0&&ln.addToSortKeyRanges(ln.symbolInstances.length,ks.sortKey),ln.symbolInstances.emplaceBack(df.x,df.y,df.z,Vi.x,Vi.y,ld.right>=0?ld.right:-1,ld.center>=0?ld.center:-1,ld.left>=0?ld.left:-1,ld.vertical>=0?ld.vertical:-1,_b,yb,YS,Zo!==void 0?Zo:ln.collisionBoxArray.length,Zo!==void 0?Zo+1:ln.collisionBoxArray.length,Za!==void 0?Za:ln.collisionBoxArray.length,Za!==void 0?Za+1:ln.collisionBoxArray.length,Ko!==void 0?Ko:ln.collisionBoxArray.length,Ko!==void 0?Ko+1:ln.collisionBoxArray.length,Jo||ln.collisionBoxArray.length,Jo?Jo+1:ln.collisionBoxArray.length,Ks,WS,qS,n1,$S,jA,0,vb,xb,Vu)})(r,Ui,Yi,si,o,h,p,Mi,r.layers[0],r.collisionBoxArray,i.index,i.sourceLayerIndex,r.index,At,Yt,Y,0,Ct,hi,He,i,v,te,de,ve)};if(Li==="line")for(const si of ny(i.geometry,0,0,vn,vn)){const Ui=F2(si,xt,Xt,o.vertical||Ke,h,24,ft,r.overscaling,vn);for(const Sn of Ui){const Yi=Ke;Yi&&W2(r,Yi.text,ii,Sn)||Oi(si,Sn,ve)}}else if(Li==="line-center"){for(const si of i.geometry)if(si.length>1){const Ui=N2(si,Xt,o.vertical||Ke,h,24,ft);Ui&&Oi(si,Ui,ve)}}else if(i.type==="Polygon")for(const si of gg(i.geometry,0)){const Ui=ay(si,16);Oi(si[0],new Ch(Ui.x,Ui.y,0,0,void 0),ve)}else if(i.type==="LineString")for(const si of i.geometry)Oi(si,new Ch(si[0].x,si[0].y,0,0,void 0),ve);else if(i.type==="Point")for(const si of i.geometry)for(const Ui of si)Oi([Ui],new Ch(Ui.x,Ui.y,0,0,void 0),ve)}const rd=32640;function Gd(r,i,o,h,p,v,T,R,Y,te,de,ve,Ee,Pe,Re,He,Ke){const mt=function(xt,At,Ct,Xt,Yt,hi,Li,ii){const mi=[];if(At.positionedLines.length===0)return mi;const _i=Xt.layout.get("text-rotate").evaluate(hi,{})*Math.PI/180,Mi=function(Yi){const ln=Yi[0],Vi=Yi[1],An=ln*Vi;return An>0?[ln,-Vi]:An<0?[-ln,Vi]:ln===0?[Vi,ln]:[Vi,-ln]}(Ct);let Oi=Math.abs(At.top-At.bottom);for(const Yi of At.positionedLines)Oi-=Yi.lineOffset;const si=At.positionedLines.length,Ui=Oi/si;let Sn=At.top-Ct[1];for(let Yi=0;Yi<si;++Yi){const ln=At.positionedLines[Yi];Sn=j2(At,Ui,Sn,Yi);for(const Vi of ln.positionedGlyphs){if(!Vi.rect)continue;const An=Vi.rect||{};let as=4,ss=!0,ts=1,Pn=0;if(Vi.imageName){const Js=Li[Vi.imageName];if(!Js)continue;if(Js.sdf){le("SDF images are not supported in formatted text and will be ignored.");continue}ss=!1,ts=Js.pixelRatio,as=1/ts}const Us=(Yt||ii)&&Vi.vertical,Gn=Vi.metrics.advance*Vi.scale/2,ls=Vi.metrics,Ks=Vi.rect;if(Ks===null)continue;ii&&At.verticalizable&&(Pn=Vi.imageName?Gn-Vi.metrics.width*Vi.scale/2:0);const hr=Yt?[Vi.x+Gn,Vi.y]:[0,0];let or=[0,0],dr=[0,0],gr=!1;Yt||(Us?(dr=[Vi.x+Gn+Mi[0],Vi.y+Mi[1]-Pn],gr=!0):or=[Vi.x+Gn+Ct[0],Vi.y+Ct[1]-Pn]);const Yr=Ks.w*Vi.scale/(ts*(Vi.localGlyph?2:1)),Xo=Ks.h*Vi.scale/(ts*(Vi.localGlyph?2:1));let Gs,go,lo,ks;if(Us){const Js=Vi.y-Sn,eo=new G(-Gn,Gn-Js),ka=-Math.PI/2,Zo=new G(...dr);Gs=new G(-Gn+or[0],or[1]),Gs._rotateAround(ka,eo)._add(Zo),Gs.x+=-Js+Gn,Gs.y-=(ls.left-as)*Vi.scale;const Ko=Vi.imageName?ls.advance*Vi.scale:Zs*Vi.scale,Za=String.fromCharCode(Vi.glyph);k2(Za)?Gs.x+=(1-as)*Vi.scale:Cg(Za)?Gs.x+=Ko-ls.height*Vi.scale+(-as-1)*Vi.scale:Gs.x+=Vi.imageName||ls.width+2*as===Ks.w&&ls.height+2*as===Ks.h?(Ko-Xo)/2:(Ko-(ls.height+2*as)*Vi.scale)/2,go=new G(Gs.x,Gs.y-Yr),lo=new G(Gs.x+Xo,Gs.y),ks=new G(Gs.x+Xo,Gs.y-Yr)}else{const Js=(ls.left-as)*Vi.scale-Gn+or[0],eo=(-ls.top-as)*Vi.scale+or[1],ka=Js+Yr,Zo=eo+Xo;Gs=new G(Js,eo),go=new G(ka,eo),lo=new G(Js,Zo),ks=new G(ka,Zo)}if(_i){let Js;Js=Yt?new G(0,0):gr?new G(Mi[0],Mi[1]):new G(Ct[0],Ct[1]),Gs._rotateAround(_i,Js),go._rotateAround(_i,Js),lo._rotateAround(_i,Js),ks._rotateAround(_i,Js)}const Lr=new G(0,0),Mo=new G(0,0);mi.push({tl:Gs,tr:go,bl:lo,br:ks,tex:An,writingMode:At.writingMode,glyphOffset:hr,sectionIndex:Vi.sectionIndex,isSDF:ss,pixelOffsetTL:Lr,pixelOffsetBR:Mo,minFontScaleX:0,minFontScaleY:0})}}return mi}(0,h,Y,v,T,R,p,r.allowVerticalPlacement),Et=r.textSizeData;let ft=null;Et.kind==="source"?(ft=[tr*v.layout.get("text-size").evaluate(R,{},Ke)],ft[0]>rd&&le(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):Et.kind==="composite"&&(ft=[tr*Re.compositeTextSizes[0].evaluate(R,{},Ke),tr*Re.compositeTextSizes[1].evaluate(R,{},Ke)],(ft[0]>rd||ft[1]>rd)&&le(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),r.addSymbols(r.text,mt,ft,Y,T,R,de,i,o,te.lineStartIndex,te.lineLength,Pe,He,Ke);for(const xt of ve)Ee[xt]=r.text.placedSymbolArray.length-1;return 4*mt.length}function cy(r){for(const i in r)return r[i];return null}function N0(r,i,o,h,p,v,T,R,Y,te){let de=T.top,ve=T.bottom,Ee=T.left,Pe=T.right;const Re=T.collisionPadding;if(Re&&(Ee-=Re[0],de-=Re[1],Pe+=Re[2],ve+=Re[3]),Y){const He=new G(Ee,de),Ke=new G(Pe,de),mt=new G(Ee,ve),Et=new G(Pe,ve),ft=N(Y);let xt=new G(0,0);te&&(xt=new G(te[0],te[1])),He._rotateAround(ft,xt),Ke._rotateAround(ft,xt),mt._rotateAround(ft,xt),Et._rotateAround(ft,xt),Ee=Math.min(He.x,Ke.x,mt.x,Et.x),Pe=Math.max(He.x,Ke.x,mt.x,Et.x),de=Math.min(He.y,Ke.y,mt.y,Et.y),ve=Math.max(He.y,Ke.y,mt.y,Et.y)}return r.emplaceBack(i.x,i.y,i.z,o.x,o.y,Ee,de,Pe,ve,R,h,p,v),r.length-1}function zg(r){r.collisionPadding&&(r.top-=r.collisionPadding[1],r.bottom+=r.collisionPadding[3]);const i=r.bottom-r.top;return i>0?Math.max(10,i):null}function W2(r,i,o,h){const p=r.compareText;if(i in p){const v=p[i];for(let T=v.length-1;T>=0;T--)if(h.dist(v[T])<o)return!0}else p[i]=[];return p[i].push(h),!1}const q2=Zi([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Ng}=q2,Fg=Zi([{name:"a_pos_3",components:3,type:"Int16"}]);var Qp=Zi([{name:"a_pos",type:"Int16",components:2}]);const Mh=vn/Math.PI/2,jg=2*Tl(1,0)*Mh*Math.PI,Nu=64,Fu=[Nu,32,16],Hl=-Mh,$l=Mh,Y2=[new ma([Hl,Hl,Hl],[$l,$l,$l]),new ma([Hl,Hl,Hl],[0,0,$l]),new ma([0,Hl,Hl],[$l,0,$l]),new ma([Hl,0,Hl],[0,$l,$l]),new ma([0,0,Hl],[$l,$l,$l])];function hy(r,i,o,h=!0){const p=El([],r._camera.position,r.worldSize),v=[i,o,1,1];id(v,v,r.pixelMatrixInverse),g_(v,v,1/v[3]);const T=fa([],_c([],v,p)),R=r.globeMatrix,Y=[R[12],R[13],R[14]],te=_c([],Y,p),de=zd(te),ve=fa([],te),Ee=r.worldSize/(2*Math.PI),Pe=Gl(ve,T),Re=Math.asin(Ee/de);if(Re<Math.acos(Pe)){if(!h)return null;const Li=[],ii=[];El(Li,T,de/Pe),fa(ii,_c(ii,Li,te)),fa(T,Xc(T,te,El(T,ii,Math.tan(Re)*de)))}const He=[];new g0(p,T).closestPointOnSphere(Y,Ee,He);const Ke=fa([],pt(R,0)),mt=fa([],pt(R,1)),Et=fa([],pt(R,2)),ft=Gl(Ke,He),xt=Gl(mt,He),At=Gl(Et,He),Ct=F(Math.asin(-xt/Ee));let Xt=F(Math.atan2(ft,At));Xt=r.center.lng+function(Li,ii){const mi=(ii-Li+180)%360-180;return mi<-180?mi+360:mi}(r.center.lng,Xt);const Yt=pc(Xt),hi=y(Sl(Ct),0,1);return new Id(Yt,hi)}class X2{constructor(i,o,h){this.a=_c([],i,h),this.b=_c([],o,h),this.center=h;const p=fa([],this.a),v=fa([],this.b);this.angle=Math.acos(Gl(p,v))}}function Ug(r,i){if(r.angle===0)return null;let o;return o=r.a[i]===0?1/r.angle*.5*Math.PI:1/r.angle*Math.atan(r.b[i]/r.a[i]/Math.sin(r.angle)-1/Math.tan(r.angle)),o<0||o>1?null:function(h,p,v,T){const R=Math.sin(v);return h*(Math.sin((1-T)*v)/R)+p*(Math.sin(T*v)/R)}(r.a[i],r.b[i],r.angle,y(o,0,1))+r.center[i]}function Jc(r){if(r.z<=1)return Y2[r.z+2*r.y+r.x];const i=Gg(F0(r));return ma.fromPoints(i)}function Vd(r,i,o){return El(r,r,1-o),ku(r,r,i,o)}function dy(r,i){const o=Hd(i.zoom);if(o===0)return Jc(r);const h=F0(r),p=Gg(h),v=pc(h.getWest())*i.worldSize,T=pc(h.getEast())*i.worldSize,R=Sl(h.getNorth())*i.worldSize,Y=Sl(h.getSouth())*i.worldSize,te=[v,R,0],de=[T,R,0],ve=[v,Y,0],Ee=[T,Y,0],Pe=f0([],i.globeMatrix);return Br(te,te,Pe),Br(de,de,Pe),Br(ve,ve,Pe),Br(Ee,Ee,Pe),p[0]=Vd(p[0],ve,o),p[1]=Vd(p[1],Ee,o),p[2]=Vd(p[2],de,o),p[3]=Vd(p[3],te,o),ma.fromPoints(p)}function uy(r,i,o){for(const h of r)Br(h,h,i),El(h,h,o)}function Z2(r,i,o){const h=i/r.worldSize,p=r.globeMatrix;if(o.z<=1){const Yt=Jc(o).getCorners();return uy(Yt,p,h),ma.fromPoints(Yt)}const v=F0(o),T=Gg(v);uy(T,p,h);const R=Number.MAX_VALUE,Y=[-R,-R,-R],te=[R,R,R];if(v.contains(r.center)){for(const Li of T)Wa(te,te,Li),gc(Y,Y,Li);Y[2]=0;const Yt=r.point,hi=[Yt.x*h,Yt.y*h,0];return Wa(te,te,hi),gc(Y,Y,hi),new ma(te,Y)}const de=[p[12]*h,p[13]*h,p[14]*h],ve=v.getCenter(),Ee=y(r.center.lat,-85.051129,jo),Pe=y(ve.lat,-85.051129,jo),Re=pc(r.center.lng),He=Sl(Ee);let Ke=Re-pc(ve.lng);const mt=He-Sl(Pe);Ke>.5?Ke-=1:Ke<-.5&&(Ke+=1);let Et=0;Math.abs(Ke)>Math.abs(mt)?Et=Ke>=0?1:3:(Et=mt>=0?0:2,ku(de,de,[p[4]*h,p[5]*h,p[6]*h],-Math.sin(N(mt>=0?v.getSouth():v.getNorth()))*Mh));const ft=T[Et],xt=T[(Et+1)%4],At=new X2(ft,xt,de),Ct=[Ug(At,0)||ft[0],Ug(At,1)||ft[1],Ug(At,2)||ft[2]],Xt=Hd(r.zoom);if(Xt>0){const Yt=function({x:Li,y:ii,z:mi},_i,Mi,Oi,si){const Ui=1/(1<<mi);let Sn=Li*Ui,Yi=Sn+Ui,ln=ii*Ui,Vi=ln+Ui,An=0;const as=(Sn+Yi)/2-Oi;return as>.5?An=-1:as<-.5&&(An=1),Sn=((Sn+An)*_i-(Oi*=_i))*Mi+Oi,Yi=((Yi+An)*_i-Oi)*Mi+Oi,ln=(ln*_i-(si*=_i))*Mi+si,Vi=(Vi*_i-si)*Mi+si,[[Sn,Vi,0],[Yi,Vi,0],[Yi,ln,0],[Sn,ln,0]]}(o,i,r._pixelsPerMercatorPixel,Re,He);for(let Li=0;Li<T.length;Li++)Vd(T[Li],Yt[Li],Xt);const hi=Xc([],Yt[Et],Yt[(Et+1)%4]);El(hi,hi,.5),Vd(Ct,hi,Xt)}for(const Yt of T)Wa(te,te,Yt),gc(Y,Y,Yt);return te[2]=Math.min(ft[2],xt[2]),Wa(te,te,Ct),gc(Y,Y,Ct),new ma(te,Y)}function F0({x:r,y:i,z:o}){const h=1/(1<<o),p=new hs(Ma(r*h),Fo((i+1)*h)),v=new hs(Ma((r+1)*h),Fo(i*h));return new wh(p,v)}function Gg(r){const i=N(r.getNorth()),o=N(r.getSouth()),h=Math.cos(i),p=Math.cos(o),v=Math.sin(i),T=Math.sin(o),R=r.getWest(),Y=r.getEast();return[ju(p,T,R),ju(p,T,Y),ju(h,v,Y),ju(h,v,R)]}function ju(r,i,o,h=Mh){return o=N(o),[r*Math.sin(o)*h,-i*h,r*Math.cos(o)*h]}function ef(r,i,o){return ju(Math.cos(N(r)),Math.sin(N(r)),i,o)}function tf(r,i,o,h){const p=1<<o.z,v=(r/vn+o.x)/p;return ef(Fo((i/vn+o.y)/p),Ma(v),h)}function j0({min:r,max:i}){return 16383/Math.max(i[0]-r[0],i[1]-r[1],i[2]-r[2])}const py=new Float64Array(16);function nf(r){const i=j0(r),o=ig(py,[i,i,i]);return zp(o,o,((h=[])[0]=-(p=r.min)[0],h[1]=-p[1],h[2]=-p[2],h));var h,p}function Vg(r){const i=(h=r.min,(o=py)[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=h[0],o[13]=h[1],o[14]=h[2],o[15]=1,o);var o,h;const p=1/j0(r);return Bd(i,i,[p,p,p])}function U0(r,i,o,h,p){const v=function(Y){const te=vn/(2*Math.PI);return Y/(2*Math.PI)/te}(o),T=[r,i,-o/(2*Math.PI)],R=Ul(new Float64Array(16));return zp(R,R,T),Bd(R,R,[v,v,v]),tg(R,R,N(-p)),Np(R,R,N(-h)),R}function Hd(r){return b(5,6,r)}function Hg(r,i){const o=ef(i.lat,i.lng),h=function(Re){const He=ef(Re._center.lat,Re._center.lng);let Ke=rg([],Nd(0,1,0),He);const mt=f_([],-Re.angle,He);Ke=Br(Ke,Ke,mt),f_(mt,-Re._pitch,Ke);const Et=fa([],He);return El(Et,Et,Re.cameraToCenterDistance/Re.pixelsPerMeter*jg),Br(Et,Et,mt),Xc([],He,Et)}(r);return T=(p=Au([],h,o))[0],R=p[1],Y=p[2],te=(v=o)[0],de=v[1],ve=v[2],Pe=(Ee=Math.sqrt(T*T+R*R+Y*Y)*Math.sqrt(te*te+de*de+ve*ve))&&Gl(p,v)/Ee,Math.acos(Math.min(Math.max(Pe,-1),1));var p,v,T,R,Y,te,de,ve,Ee,Pe}function $g(r,i){return Hg(r,i)>Math.PI/2*1.01}const fy=N(85),K2=Math.cos(fy),Wg=Math.sin(fy);function my(r,i){const o=r.fovAboveCenter,h=r.elevation?r.elevation.getMinElevationBelowMSL()*i:0,p=(r._camera.position[2]*r.worldSize-h)/Math.cos(r._pitch),v=Math.sin(o)*p/Math.sin(Math.max(Math.PI/2-r._pitch-o,.01)),T=Math.sin(r._pitch)*v+p;return Math.min(1.01*T,p*(1/r._horizonShift))}function $d(r,i){if(!i.isReprojectedInTileSpace)return{scale:1<<r.z,x:r.x,y:r.y,x2:r.x+1,y2:r.y+1,projection:i};const o=Math.pow(2,-r.z),h=r.x*o,p=(r.x+1)*o,v=r.y*o,T=(r.y+1)*o,R=Ma(h),Y=Ma(p),te=Fo(v),de=Fo(T),ve=i.project(R,te),Ee=i.project(Y,te),Pe=i.project(Y,de),Re=i.project(R,de);let He=Math.min(ve.x,Ee.x,Pe.x,Re.x),Ke=Math.min(ve.y,Ee.y,Pe.y,Re.y),mt=Math.max(ve.x,Ee.x,Pe.x,Re.x),Et=Math.max(ve.y,Ee.y,Pe.y,Re.y);const ft=o/16;function xt(Ct,Xt,Yt,hi,Li,ii){const mi=(Yt+Li)/2,_i=(hi+ii)/2,Mi=i.project(Ma(mi),Fo(_i)),Oi=Math.max(0,He-Mi.x,Ke-Mi.y,Mi.x-mt,Mi.y-Et);He=Math.min(He,Mi.x),mt=Math.max(mt,Mi.x),Ke=Math.min(Ke,Mi.y),Et=Math.max(Et,Mi.y),Oi>ft&&(xt(Ct,Mi,Yt,hi,mi,_i),xt(Mi,Xt,mi,_i,Li,ii))}xt(ve,Ee,h,v,p,v),xt(Ee,Pe,p,v,p,T),xt(Pe,Re,p,T,h,T),xt(Re,ve,h,T,h,v),He-=ft,Ke-=ft,mt+=ft,Et+=ft;const At=1/Math.max(mt-He,Et-Ke);return{scale:At,x:He*At,y:Ke*At,x2:mt*At,y2:Et*At,projection:i}}const J2=Ul(new Float32Array(16));class ao{constructor(i){this.spec=i,this.name=i.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(i,o){return{x:0,y:0,z:0}}unproject(i,o){return new hs(0,0)}projectTilePoint(i,o,h){return{x:i,y:o,z:0}}locationPoint(i,o,h=!0){return i._coordinatePoint(i.locationCoordinate(o),h)}pixelsPerMeter(i,o){return Tl(1,i)*o}pixelSpaceConversion(i,o,h){return 1}farthestPixelDistance(i){return my(i,i.pixelsPerMeter)}pointCoordinate(i,o,h,p){const v=i.horizonLineFromTop(!1),T=new G(o,Math.max(v,h));return i.rayIntersectionCoordinate(i.pointRayIntersection(T,p))}pointCoordinate3D(i,o,h){const p=new G(o,h);if(i.elevation)return i.elevation.pointCoordinate(p);{const v=this.pointCoordinate(i,p.x,p.y,0);return[v.x,v.y,v.z]}}isPointAboveHorizon(i,o){if(i.elevation)return!this.pointCoordinate3D(i,o.x,o.y);const h=i.horizonLineFromTop();return o.y<h}createInversionMatrix(i,o){return J2}createTileMatrix(i,o,h){let p,v,T;const R=h.canonical,Y=Ul(new Float64Array(16));if(this.isReprojectedInTileSpace){const te=$d(R,this);p=1,v=te.x+h.wrap*te.scale,T=te.y,Bd(Y,Y,[p/te.scale,p/te.scale,i.pixelsPerMeter/o])}else p=o/i.zoomScale(R.z),v=(R.x+Math.pow(2,R.z)*h.wrap)*p,T=R.y*p;return zp(Y,Y,[v,T,0]),Bd(Y,Y,[p/vn,p/vn,1]),Y}upVector(i,o,h){return[0,0,1]}upVectorScale(i,o,h){return{metersToTile:1}}}class qg extends ao{constructor(i){super(i),this.range=[4,7],this.center=i.center||[-96,37.5];const[o,h]=this.parallels=i.parallels||[29.5,45.5],p=Math.sin(N(o));this.n=(p+Math.sin(N(h)))/2,this.c=1+p*(2*this.n-p),this.r0=Math.sqrt(this.c)/this.n}project(i,o){const{n:h,c:p,r0:v}=this,T=N(i-this.center[0]),R=N(o),Y=Math.sqrt(p-2*h*Math.sin(R))/h;return{x:Y*Math.sin(T*h),y:Y*Math.cos(T*h)-v,z:0}}unproject(i,o){const{n:h,c:p,r0:v}=this,T=v+o;let R=Math.atan2(i,Math.abs(T))*Math.sign(T);T*h<0&&(R-=Math.PI*Math.sign(i)*Math.sign(T));const Y=N(this.center[0])*h;R=P(R,-Math.PI-Y,Math.PI-Y);const te=y(F(R/h)+this.center[0],-180,180),de=Math.asin(y((p-(i*i+T*T)*h*h)/(2*h),-1,1)),ve=y(F(de),-85.051129,jo);return new hs(te,ve)}}const sf=1.340264,rf=-.081106,of=893e-6,af=.003796,Uu=Math.sqrt(3)/2;class Q2 extends ao{project(i,o){o=o/180*Math.PI,i=i/180*Math.PI;const h=Math.asin(Uu*Math.sin(o)),p=h*h,v=p*p*p;return{x:.5*(i*Math.cos(h)/(Uu*(sf+3*rf*p+v*(7*of+9*af*p)))/Math.PI+.5),y:1-.5*(h*(sf+rf*p+v*(of+af*p))/Math.PI+1),z:0}}unproject(i,o){i=(2*i-.5)*Math.PI;let h=o=(2*(1-o)-1)*Math.PI,p=h*h,v=p*p*p;for(let de,ve,Ee,Pe=0;Pe<12&&(ve=h*(sf+rf*p+v*(of+af*p))-o,Ee=sf+3*rf*p+v*(7*of+9*af*p),de=ve/Ee,h=y(h-de,-Math.PI/3,Math.PI/3),p=h*h,v=p*p*p,!(Math.abs(de)<1e-12));++Pe);const T=Uu*i*(sf+3*rf*p+v*(7*of+9*af*p))/Math.cos(h),R=Math.asin(Math.sin(h)/Uu),Y=y(180*T/Math.PI,-180,180),te=y(180*R/Math.PI,-85.051129,jo);return new hs(Y,te)}}class Yg extends ao{constructor(i){super(i),this.wrap=!0,this.supportsWorldCopies=!0}project(i,o){return{x:.5+i/360,y:.5-o/360,z:0}}unproject(i,o){const h=360*(i-.5),p=y(360*(.5-o),-85.051129,jo);return new hs(h,p)}}const Gu=Math.PI/2;function G0(r){return Math.tan((Gu+r)/2)}class eb extends ao{constructor(i){super(i),this.center=i.center||[0,30];const[o,h]=this.parallels=i.parallels||[30,30];let p=N(o),v=N(h);this.southernCenter=p+v<0,this.southernCenter&&(p=-p,v=-v);const T=Math.cos(p),R=G0(p);this.n=p===v?Math.sin(p):Math.log(T/Math.cos(v))/Math.log(G0(v)/R),this.f=T*Math.pow(G0(p),this.n)/this.n}project(i,o){o=N(o),this.southernCenter&&(o=-o),i=N(i-this.center[0]);const h=1e-6,{n:p,f:v}=this;v>0?o<-Gu+h&&(o=-Gu+h):o>Gu-h&&(o=Gu-h);const T=v/Math.pow(G0(o),p);let R=T*Math.sin(p*i),Y=v-T*Math.cos(p*i);return R=.5*(R/Math.PI+.5),Y=.5*(Y/Math.PI+.5),{x:R,y:this.southernCenter?Y:1-Y,z:0}}unproject(i,o){i=(2*i-.5)*Math.PI,this.southernCenter&&(o=1-o),o=(2*(1-o)-.5)*Math.PI;const{n:h,f:p}=this,v=p-o,T=Math.sign(v),R=Math.sign(h)*Math.sqrt(i*i+v*v);let Y=Math.atan2(i,Math.abs(v))*T;v*h<0&&(Y-=Math.PI*Math.sign(i)*T);const te=y(F(Y/h)+this.center[0],-180,180),de=y(F(2*Math.atan(Math.pow(p/R,1/h))-Gu),-85.051129,jo);return new hs(te,this.southernCenter?-de:de)}}class gy extends ao{constructor(i){super(i),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(i,o){return{x:pc(i),y:Sl(o),z:0}}unproject(i,o){const h=Ma(i),p=Fo(o);return new hs(h,p)}}const Xg=N(jo);class tb extends ao{project(i,o){const h=(o=N(o))*o,p=h*h;return{x:.5*((i=N(i))*(.8707-.131979*h+p*(p*(.003971*h-.001529*p)-.013791))/Math.PI+.5),y:1-.5*(o*(1.007226+h*(.015085+p*(.028874*h-.044475-.005916*p)))/Math.PI+1),z:0}}unproject(i,o){i=(2*i-.5)*Math.PI;let h=o=(2*(1-o)-1)*Math.PI,p=25,v=0,T=h*h;do{T=h*h;const te=T*T;v=(h*(1.007226+T*(.015085+te*(.028874*T-.044475-.005916*te)))-o)/(1.007226+T*(.045255+te*(.259866*T-.311325-.005916*11*te))),h=y(h-v,-Xg,Xg)}while(Math.abs(v)>1e-6&&--p>0);T=h*h;const R=y(F(i/(.8707+T*(T*(T*T*T*(.003971-.001529*T)-.013791)-.131979))),-180,180),Y=F(h);return new hs(R,Y)}}const _y=N(jo);class ib extends ao{project(i,o){o=N(o),i=N(i);const h=Math.cos(o),p=2/Math.PI,v=Math.acos(h*Math.cos(i/2)),T=Math.sin(v)/v,R=.5*(i*p+2*h*Math.sin(i/2)/T)||0,Y=.5*(o+Math.sin(o)/T)||0;return{x:.5*(R/Math.PI+.5),y:1-.5*(Y/Math.PI+1),z:0}}unproject(i,o){let h=i=(2*i-.5)*Math.PI,p=o=(2*(1-o)-1)*Math.PI,v=25;const T=1e-6;let R=0,Y=0;do{const te=Math.cos(p),de=Math.sin(p),ve=2*de*te,Ee=de*de,Pe=te*te,Re=Math.cos(h/2),He=Math.sin(h/2),Ke=2*Re*He,mt=He*He,Et=1-Pe*Re*Re,ft=Et?1/Et:0,xt=Et?Math.acos(te*Re)*Math.sqrt(1/Et):0,At=.5*(2*xt*te*He+2*h/Math.PI)-i,Ct=.5*(xt*de+p)-o,Xt=.5*ft*(Pe*mt+xt*te*Re*Ee)+1/Math.PI,Yt=ft*(Ke*ve/4-xt*de*He),hi=.125*ft*(ve*He-xt*de*Pe*Ke),Li=.5*ft*(Ee*Re+xt*mt*te)+.5,ii=Yt*hi-Li*Xt;R=(Ct*Yt-At*Li)/ii,Y=(At*hi-Ct*Xt)/ii,h=y(h-R,-Math.PI,Math.PI),p=y(p-Y,-_y,_y)}while((Math.abs(R)>T||Math.abs(Y)>T)&&--v>0);return new hs(F(h),F(p))}}class V0 extends ao{constructor(i){super(i),this.center=i.center||[0,0],this.parallels=i.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(N(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(i,o){const{scale:h,cosPhi:p}=this;return{x:N(i)*p*h+.5,y:-Math.sin(N(o))/p*h+.5,z:0}}unproject(i,o){const{scale:h,cosPhi:p}=this,v=-(o-.5)/h,T=y(F((i-.5)/h)/p,-180,180),R=Math.asin(y(v*p,-1,1)),Y=y(F(R),-85.051129,jo);return new hs(T,Y)}}class Zg extends gy{constructor(i){super(i),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(i,o,h){const p=tf(i,o,h);return Br(p,p,nf(Jc(h))),{x:p[0],y:p[1],z:p[2]}}locationPoint(i,o){const h=ef(o.lat,o.lng),p=fa([],h),v=i.elevation?i.elevation.getAtPointOrZero(i.locationCoordinate(o),i._centerAltitude):i._centerAltitude;ku(h,h,p,Tl(1,0)*vn*v);const T=Ul(new Float64Array(16));return Rd(T,i.pixelMatrix,i.globeMatrix),Br(h,h,T),new G(h[0],h[1])}pixelsPerMeter(i,o){return Tl(1,0)*o}pixelSpaceConversion(i,o,h){const p=Tl(1,i)*o,v=On(Tl(1,45)*o,p,h);return this.pixelsPerMeter(i,o)/v}createTileMatrix(i,o,h){const p=Vg(Jc(h.canonical));return Rd(new Float64Array(16),i.globeMatrix,p)}createInversionMatrix(i,o){const{center:h}=i,p=nf(Jc(o));return Np(p,p,N(h.lng)),tg(p,p,N(h.lat)),Bd(p,p,[i._pixelsPerMercatorPixel,i._pixelsPerMercatorPixel,1]),Float32Array.from(p)}pointCoordinate(i,o,h,p){return hy(i,o,h,!0)||new Id(0,0)}pointCoordinate3D(i,o,h){const p=this.pointCoordinate(i,o,h,0);return[p.x,p.y,p.z]}isPointAboveHorizon(i,o){return!hy(i,o.x,o.y,!1)}farthestPixelDistance(i){const o=function(p,v){const T=p.cameraToCenterDistance,R=p._centerAltitude*v,Y=p._camera,te=p._camera.forward(),de=Xc([],El([],te,-T),[0,0,R]),ve=p.worldSize/(2*Math.PI),Ee=[0,0,-ve],Pe=p.width/p.height,Re=Math.tan(p.fovAboveCenter),He=El([],Y.up(),Re),Ke=El([],Y.right(),Re*Pe),mt=fa([],Xc([],Xc([],te,He),Ke)),Et=[];let ft;if(new g0(de,mt).closestPointOnSphere(Ee,ve,Et)){const xt=Xc([],Et,Ee),At=_c([],xt,de);ft=Math.cos(p.fovAboveCenter)*zd(At)}else{const xt=_c([],de,Ee),At=_c([],Ee,de);fa(At,At);const Ct=zd(xt)-ve;ft=Math.sqrt(Ct*(Ct+2*ve));const Xt=Math.acos(ft/(ve+Ct))-Math.acos(Gl(te,At));ft*=Math.cos(Xt)}return 1.01*ft}(i,this.pixelsPerMeter(i.center.lat,i.worldSize)),h=Hd(i.zoom);if(h>0){const p=my(i,Tl(1,i.center.lat)*i.worldSize),v=i.worldSize/(2*Math.PI),T=Math.max(i.width,i.height)/i.worldSize*Math.PI;return On(o,p+v*(1-Math.cos(T)),Math.pow(h,10))}return o}upVector(i,o,h){return tf(o,h,i,1)}upVectorScale(i){return{metersToTile:jg*j0(Jc(i))}}}function yy(r){const i=r.parallels,o=!!i&&Math.abs(i[0]+i[1])<.01;switch(r.name){case"mercator":return new gy(r);case"equirectangular":return new Yg(r);case"naturalEarth":return new tb(r);case"equalEarth":return new Q2(r);case"winkelTripel":return new ib(r);case"albers":return o?new V0(r):new qg(r);case"lambertConformalConic":return o?new V0(r):new eb(r);case"globe":return new Zg(r)}throw new Error(`Invalid projection name: ${r.name}`)}const nb=S0.types,sb=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function H0(r,i,o,h,p,v,T,R,Y,te,de,ve,Ee){const Pe=R?Math.min(rd,Math.round(R[0])):0,Re=R?Math.min(rd,Math.round(R[1])):0;r.emplaceBack(i,o,Math.round(32*h),Math.round(32*p),v,T,(Pe<<1)+(Y?1:0),Re,16*te,16*de,256*ve,256*Ee)}function $0(r,i,o,h,p,v,T){r.emplaceBack(i,o,h,p,v,T)}function W0(r,i,o,h,p){r.emplaceBack(i,o,h,p),r.emplaceBack(i,o,h,p),r.emplaceBack(i,o,h,p),r.emplaceBack(i,o,h,p)}function rb(r){for(const i of r.sections)if(st(i.text))return!0;return!1}class Kg{constructor(i){this.layoutVertexArray=new Os,this.indexArray=new Eo,this.programConfigurations=i,this.segments=new Hr,this.dynamicLayoutVertexArray=new qo,this.opacityVertexArray=new Dr,this.placedSymbolArray=new t_,this.globeExtVertexArray=new ws}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(i,o,h,p){this.isEmpty()||(h&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,S2.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,o),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,T2.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,sb,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=i.createVertexBuffer(this.globeExtVertexArray,yc.members,!0)),this.opacityVertexBuffer.itemSize=1),(h||p)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Hi(Kg,"SymbolBuffers");class Jg{constructor(i,o,h){this.layoutVertexArray=new i,this.layoutAttributes=o,this.indexArray=new h,this.segments=new Hr,this.collisionVertexArray=new Ad,this.collisionVertexArrayExt=new bl}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,E2.members,!0),this.collisionVertexBufferExt=i.createVertexBuffer(this.collisionVertexArrayExt,jd.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Hi(Jg,"CollisionBuffers");class od{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(T=>T.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ul([]),this.placementViewportMatrix=Ul([]);const o=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Eg(this.zoom,o["text-size"]),this.iconSizeData=Eg(this.zoom,o["icon-size"]);const h=this.layers[0].layout,p=h.get("symbol-sort-key"),v=h.get("symbol-z-order");this.canOverlap=h.get("text-allow-overlap")||h.get("icon-allow-overlap")||h.get("text-ignore-placement")||h.get("icon-ignore-placement"),this.sortFeaturesByKey=v!=="viewport-y"&&p.constantOr(1)!==void 0,this.sortFeaturesByY=(v==="viewport-y"||v==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=h.get("text-writing-mode").map(T=>zn[T]),this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id),this.sourceID=i.sourceID,this.projection=i.projection}createArrays(){this.text=new Kg(new Wc(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new Kg(new Wc(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new zm,this.lineVertexArray=new Nm,this.symbolInstances=new r0}calculateGlyphDependencies(i,o,h,p,v){for(let T=0;T<i.length;T++)if(o[i.charCodeAt(T)]=!0,p&&v){const R=Xp[i.charAt(T)];R&&(o[R.charCodeAt(0)]=!0)}}populate(i,o,h,p){const v=this.layers[0],T=v.layout,R=this.projection.name==="globe",Y=T.get("text-font"),te=T.get("text-field"),de=T.get("icon-image"),ve=(te.value.kind!=="constant"||te.value.value instanceof Cr&&!te.value.value.isEmpty()||te.value.value.toString().length>0)&&(Y.value.kind!=="constant"||Y.value.value.length>0),Ee=de.value.kind!=="constant"||!!de.value.value||Object.keys(de.parameters).length>0,Pe=T.get("symbol-sort-key");if(this.features=[],!ve&&!Ee)return;const Re=o.iconDependencies,He=o.glyphDependencies,Ke=o.availableImages,mt=new Nt(this.zoom);for(const{feature:Et,id:ft,index:xt,sourceLayerIndex:At}of i){const Ct=v._featureFilter.needGeometry,Xt=qc(Et,Ct);if(!v._featureFilter.filter(mt,Xt,h))continue;if(Ct||(Xt.geometry=mc(Et,h,p)),R&&Et.type!==1&&h.z<=5){const ii=Xt.geometry,mi=.98078528056,_i=(Mi,Oi)=>Gl(tf(Mi.x,Mi.y,h,1),tf(Oi.x,Oi.y,h,1))<mi;for(let Mi=0;Mi<ii.length;Mi++)ii[Mi]=Rx(ii[Mi],_i)}let Yt,hi;if(ve){const ii=v.getValueAndResolveTokens("text-field",Xt,h,Ke),mi=Cr.factory(ii);rb(mi)&&(this.hasRTLText=!0),(!this.hasRTLText||Ot()==="unavailable"||this.hasRTLText&&qt.isParsed())&&(Yt=A2(mi,v,Xt))}if(Ee){const ii=v.getValueAndResolveTokens("icon-image",Xt,h,Ke);hi=ii instanceof Lo?ii:Lo.fromString(ii)}if(!Yt&&!hi)continue;const Li=this.sortFeaturesByKey?Pe.evaluate(Xt,{},h):void 0;if(this.features.push({id:ft,text:Yt,icon:hi,index:xt,sourceLayerIndex:At,geometry:Xt.geometry,properties:Et.properties,type:nb[Et.type],sortKey:Li}),hi&&(Re[hi.name]=!0),Yt){const ii=Y.evaluate(Xt,{},h).join(","),mi=T.get("text-rotation-alignment")==="map"&&T.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(zn.vertical)>=0;for(const _i of Yt.sections)if(_i.image)Re[_i.image.name]=!0;else{const Mi=ne(Yt.toString()),Oi=_i.fontStack||ii,si=He[Oi]=He[Oi]||{};this.calculateGlyphDependencies(_i.text,si,mi,this.allowVerticalPlacement,Mi)}}}T.get("symbol-placement")==="line"&&(this.features=function(Et){const ft={},xt={},At=[];let Ct=0;function Xt(ii){At.push(Et[ii]),Ct++}function Yt(ii,mi,_i){const Mi=xt[ii];return delete xt[ii],xt[mi]=Mi,At[Mi].geometry[0].pop(),At[Mi].geometry[0]=At[Mi].geometry[0].concat(_i[0]),Mi}function hi(ii,mi,_i){const Mi=ft[mi];return delete ft[mi],ft[ii]=Mi,At[Mi].geometry[0].shift(),At[Mi].geometry[0]=_i[0].concat(At[Mi].geometry[0]),Mi}function Li(ii,mi,_i){const Mi=_i?mi[0][mi[0].length-1]:mi[0][0];return`${ii}:${Mi.x}:${Mi.y}`}for(let ii=0;ii<Et.length;ii++){const mi=Et[ii],_i=mi.geometry,Mi=mi.text?mi.text.toString():null;if(!Mi){Xt(ii);continue}const Oi=Li(Mi,_i),si=Li(Mi,_i,!0);if(Oi in xt&&si in ft&&xt[Oi]!==ft[si]){const Ui=hi(Oi,si,_i),Sn=Yt(Oi,si,At[Ui].geometry);delete ft[Oi],delete xt[si],xt[Li(Mi,At[Sn].geometry,!0)]=Sn,At[Ui].geometry=null}else Oi in xt?Yt(Oi,si,_i):si in ft?hi(Oi,si,_i):(Xt(ii),ft[Oi]=Ct-1,xt[si]=Ct-1)}return At.filter(ii=>ii.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Et,ft)=>Et.sortKey-ft.sortKey)}update(i,o,h,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,o,this.layers,h,p),this.icon.programConfigurations.updatePaintArrays(i,o,this.layers,h,p))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=yy(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,o){const h=this.lineVertexArray.length;if(i.segment!==void 0)for(const{x:p,y:v}of o)this.lineVertexArray.emplaceBack(p,v);return{lineStartIndex:h,lineLength:this.lineVertexArray.length-h}}addSymbols(i,o,h,p,v,T,R,Y,te,de,ve,Ee,Pe,Re){const He=i.indexArray,Ke=i.layoutVertexArray,mt=i.globeExtVertexArray,Et=i.segments.prepareSegment(4*o.length,Ke,He,this.canOverlap?T.sortKey:void 0),ft=this.glyphOffsetArray.length,xt=Et.vertexLength,At=this.allowVerticalPlacement&&R===zn.vertical?Math.PI/2:0,Ct=T.text&&T.text.sections;for(let Yt=0;Yt<o.length;Yt++){const{tl:hi,tr:Li,bl:ii,br:mi,tex:_i,pixelOffsetTL:Mi,pixelOffsetBR:Oi,minFontScaleX:si,minFontScaleY:Ui,glyphOffset:Sn,isSDF:Yi,sectionIndex:ln}=o[Yt],Vi=Et.vertexLength,An=Sn[1];if(H0(Ke,te.x,te.y,hi.x,An+hi.y,_i.x,_i.y,h,Yi,Mi.x,Mi.y,si,Ui),H0(Ke,te.x,te.y,Li.x,An+Li.y,_i.x+_i.w,_i.y,h,Yi,Oi.x,Mi.y,si,Ui),H0(Ke,te.x,te.y,ii.x,An+ii.y,_i.x,_i.y+_i.h,h,Yi,Mi.x,Oi.y,si,Ui),H0(Ke,te.x,te.y,mi.x,An+mi.y,_i.x+_i.w,_i.y+_i.h,h,Yi,Oi.x,Oi.y,si,Ui),Y){const{x:as,y:ss,z:ts}=Y.anchor,[Pn,Us,Gn]=Y.up;$0(mt,as,ss,ts,Pn,Us,Gn),$0(mt,as,ss,ts,Pn,Us,Gn),$0(mt,as,ss,ts,Pn,Us,Gn),$0(mt,as,ss,ts,Pn,Us,Gn),W0(i.dynamicLayoutVertexArray,as,ss,ts,At)}else W0(i.dynamicLayoutVertexArray,te.x,te.y,te.z,At);He.emplaceBack(Vi,Vi+1,Vi+2),He.emplaceBack(Vi+1,Vi+2,Vi+3),Et.vertexLength+=4,Et.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Sn[0]),Yt!==o.length-1&&ln===o[Yt+1].sectionIndex||i.programConfigurations.populatePaintArrays(Ke.length,T,T.index,{},Pe,Re,Ct&&Ct[ln])}const Xt=Y?Y.anchor:te;i.placedSymbolArray.emplaceBack(Xt.x,Xt.y,Xt.z,te.x,te.y,ft,this.glyphOffsetArray.length-ft,xt,de,ve,te.segment,h?h[0]:0,h?h[1]:0,p[0],p[1],R,0,!1,0,Ee,0)}_commitLayoutVertex(i,o,h,p,v,T,R){i.emplaceBack(o,h,p,v,T,Math.round(R.x),Math.round(R.y))}_addCollisionDebugVertices(i,o,h,p,v,T,R){const Y=h.segments.prepareSegment(4,h.layoutVertexArray,h.indexArray),te=Y.vertexLength,de=R.tileAnchorX,ve=R.tileAnchorY;for(let Pe=0;Pe<4;Pe++)h.collisionVertexArray.emplaceBack(0,0,0,0);h.collisionVertexArrayExt.emplaceBack(o,-i.padding,-i.padding),h.collisionVertexArrayExt.emplaceBack(o,i.padding,-i.padding),h.collisionVertexArrayExt.emplaceBack(o,i.padding,i.padding),h.collisionVertexArrayExt.emplaceBack(o,-i.padding,i.padding),this._commitLayoutVertex(h.layoutVertexArray,p,v,T,de,ve,new G(i.x1,i.y1)),this._commitLayoutVertex(h.layoutVertexArray,p,v,T,de,ve,new G(i.x2,i.y1)),this._commitLayoutVertex(h.layoutVertexArray,p,v,T,de,ve,new G(i.x2,i.y2)),this._commitLayoutVertex(h.layoutVertexArray,p,v,T,de,ve,new G(i.x1,i.y2)),Y.vertexLength+=4;const Ee=h.indexArray;Ee.emplaceBack(te,te+1),Ee.emplaceBack(te+1,te+2),Ee.emplaceBack(te+2,te+3),Ee.emplaceBack(te+3,te),Y.primitiveLength+=4}_addTextDebugCollisionBoxes(i,o,h,p,v,T){for(let R=p;R<v;R++){const Y=h.get(R),te=this.getSymbolInstanceTextSize(i,T,o,R);this._addCollisionDebugVertices(Y,te,this.textCollisionBox,Y.projectedAnchorX,Y.projectedAnchorY,Y.projectedAnchorZ,T)}}_addIconDebugCollisionBoxes(i,o,h,p,v,T){for(let R=p;R<v;R++){const Y=h.get(R),te=this.getSymbolInstanceIconSize(i,o,T.placedIconSymbolIndex);this._addCollisionDebugVertices(Y,te,this.iconCollisionBox,Y.projectedAnchorX,Y.projectedAnchorY,Y.projectedAnchorZ,T)}}generateCollisionDebugBuffers(i,o){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Jg(Xs,es.members,jl),this.iconCollisionBox=new Jg(Xs,es.members,jl);const h=Ou(this.iconSizeData,i),p=Ou(this.textSizeData,i);for(let v=0;v<this.symbolInstances.length;v++){const T=this.symbolInstances.get(v);this._addTextDebugCollisionBoxes(p,i,o,T.textBoxStartIndex,T.textBoxEndIndex,T),this._addTextDebugCollisionBoxes(p,i,o,T.verticalTextBoxStartIndex,T.verticalTextBoxEndIndex,T),this._addIconDebugCollisionBoxes(h,i,o,T.iconBoxStartIndex,T.iconBoxEndIndex,T),this._addIconDebugCollisionBoxes(h,i,o,T.verticalIconBoxStartIndex,T.verticalIconBoxEndIndex,T)}}getSymbolInstanceTextSize(i,o,h,p){const v=this.text.placedSymbolArray.get(o.rightJustifiedTextSymbolIndex>=0?o.rightJustifiedTextSymbolIndex:o.centerJustifiedTextSymbolIndex>=0?o.centerJustifiedTextSymbolIndex:o.leftJustifiedTextSymbolIndex>=0?o.leftJustifiedTextSymbolIndex:o.verticalPlacedTextSymbolIndex>=0?o.verticalPlacedTextSymbolIndex:p),T=vc(this.textSizeData,i,v)/Zs;return this.tilePixelRatio*T}getSymbolInstanceIconSize(i,o,h){const p=this.icon.placedSymbolArray.get(h),v=vc(this.iconSizeData,i,p);return this.tilePixelRatio*v}_commitDebugCollisionVertexUpdate(i,o,h){i.emplaceBack(o,-h,-h),i.emplaceBack(o,h,-h),i.emplaceBack(o,h,h),i.emplaceBack(o,-h,h)}_updateTextDebugCollisionBoxes(i,o,h,p,v,T){for(let R=p;R<v;R++){const Y=h.get(R),te=this.getSymbolInstanceTextSize(i,T,o,R);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,te,Y.padding)}}_updateIconDebugCollisionBoxes(i,o,h,p,v,T){for(let R=p;R<v;R++){const Y=h.get(R),te=this.getSymbolInstanceIconSize(i,o,T);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,te,Y.padding)}}updateCollisionDebugBuffers(i,o){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const h=Ou(this.iconSizeData,i),p=Ou(this.textSizeData,i);for(let v=0;v<this.symbolInstances.length;v++){const T=this.symbolInstances.get(v);this._updateTextDebugCollisionBoxes(p,i,o,T.textBoxStartIndex,T.textBoxEndIndex,T),this._updateTextDebugCollisionBoxes(p,i,o,T.verticalTextBoxStartIndex,T.verticalTextBoxEndIndex,T),this._updateIconDebugCollisionBoxes(h,i,o,T.iconBoxStartIndex,T.iconBoxEndIndex,T.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(h,i,o,T.verticalIconBoxStartIndex,T.verticalIconBoxEndIndex,T.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(i,o,h,p,v,T,R,Y,te){const de={};if(o<h){const{x1:ve,y1:Ee,x2:Pe,y2:Re,padding:He,projectedAnchorX:Ke,projectedAnchorY:mt,projectedAnchorZ:Et,tileAnchorX:ft,tileAnchorY:xt,featureIndex:At}=i.get(o);de.textBox={x1:ve,y1:Ee,x2:Pe,y2:Re,padding:He,projectedAnchorX:Ke,projectedAnchorY:mt,projectedAnchorZ:Et,tileAnchorX:ft,tileAnchorY:xt},de.textFeatureIndex=At}if(p<v){const{x1:ve,y1:Ee,x2:Pe,y2:Re,padding:He,projectedAnchorX:Ke,projectedAnchorY:mt,projectedAnchorZ:Et,tileAnchorX:ft,tileAnchorY:xt,featureIndex:At}=i.get(p);de.verticalTextBox={x1:ve,y1:Ee,x2:Pe,y2:Re,padding:He,projectedAnchorX:Ke,projectedAnchorY:mt,projectedAnchorZ:Et,tileAnchorX:ft,tileAnchorY:xt},de.verticalTextFeatureIndex=At}if(T<R){const{x1:ve,y1:Ee,x2:Pe,y2:Re,padding:He,projectedAnchorX:Ke,projectedAnchorY:mt,projectedAnchorZ:Et,tileAnchorX:ft,tileAnchorY:xt,featureIndex:At}=i.get(T);de.iconBox={x1:ve,y1:Ee,x2:Pe,y2:Re,padding:He,projectedAnchorX:Ke,projectedAnchorY:mt,projectedAnchorZ:Et,tileAnchorX:ft,tileAnchorY:xt},de.iconFeatureIndex=At}if(Y<te){const{x1:ve,y1:Ee,x2:Pe,y2:Re,padding:He,projectedAnchorX:Ke,projectedAnchorY:mt,projectedAnchorZ:Et,tileAnchorX:ft,tileAnchorY:xt,featureIndex:At}=i.get(Y);de.verticalIconBox={x1:ve,y1:Ee,x2:Pe,y2:Re,padding:He,projectedAnchorX:Ke,projectedAnchorY:mt,projectedAnchorZ:Et,tileAnchorX:ft,tileAnchorY:xt},de.verticalIconFeatureIndex=At}return de}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let o=0;o<this.symbolInstances.length;o++){const h=this.symbolInstances.get(o);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,h.textBoxStartIndex,h.textBoxEndIndex,h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h.iconBoxStartIndex,h.iconBoxEndIndex,h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,o){const h=i.placedSymbolArray.get(o),p=h.vertexStartIndex+4*h.numGlyphs;for(let v=h.vertexStartIndex;v<p;v+=4)i.indexArray.emplaceBack(v,v+1,v+2),i.indexArray.emplaceBack(v+1,v+2,v+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const o=Math.sin(i),h=Math.cos(i),p=[],v=[],T=[];for(let R=0;R<this.symbolInstances.length;++R){T.push(R);const Y=this.symbolInstances.get(R);p.push(0|Math.round(o*Y.tileAnchorX+h*Y.tileAnchorY)),v.push(Y.featureIndex)}return T.sort((R,Y)=>p[R]-p[Y]||v[Y]-v[R]),T}addToSortKeyRanges(i,o){const h=this.sortKeyRanges[this.sortKeyRanges.length-1];h&&h.sortKey===o?h.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:o,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const o of this.symbolInstanceIndexes){const h=this.symbolInstances.get(o);this.featureSortOrder.push(h.featureIndex);const{rightJustifiedTextSymbolIndex:p,centerJustifiedTextSymbolIndex:v,leftJustifiedTextSymbolIndex:T,verticalPlacedTextSymbolIndex:R,placedIconSymbolIndex:Y,verticalPlacedIconSymbolIndex:te}=h;p>=0&&this.addIndicesForPlacedSymbol(this.text,p),v>=0&&v!==p&&this.addIndicesForPlacedSymbol(this.text,v),T>=0&&T!==v&&T!==p&&this.addIndicesForPlacedSymbol(this.text,T),R>=0&&this.addIndicesForPlacedSymbol(this.text,R),Y>=0&&this.addIndicesForPlacedSymbol(this.icon,Y),te>=0&&this.addIndicesForPlacedSymbol(this.icon,te)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Hi(od,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),od.MAX_GLYPHS=65535,od.addDynamicAttributes=W0;const ob=new un({"symbol-placement":new jt(ai.layout_symbol["symbol-placement"]),"symbol-spacing":new jt(ai.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new jt(ai.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Kt(ai.layout_symbol["symbol-sort-key"]),"symbol-z-order":new jt(ai.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new jt(ai.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new jt(ai.layout_symbol["icon-ignore-placement"]),"icon-optional":new jt(ai.layout_symbol["icon-optional"]),"icon-rotation-alignment":new jt(ai.layout_symbol["icon-rotation-alignment"]),"icon-size":new Kt(ai.layout_symbol["icon-size"]),"icon-text-fit":new jt(ai.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new jt(ai.layout_symbol["icon-text-fit-padding"]),"icon-image":new Kt(ai.layout_symbol["icon-image"]),"icon-rotate":new Kt(ai.layout_symbol["icon-rotate"]),"icon-padding":new jt(ai.layout_symbol["icon-padding"]),"icon-keep-upright":new jt(ai.layout_symbol["icon-keep-upright"]),"icon-offset":new Kt(ai.layout_symbol["icon-offset"]),"icon-anchor":new Kt(ai.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new jt(ai.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new jt(ai.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new jt(ai.layout_symbol["text-rotation-alignment"]),"text-field":new Kt(ai.layout_symbol["text-field"]),"text-font":new Kt(ai.layout_symbol["text-font"]),"text-size":new Kt(ai.layout_symbol["text-size"]),"text-max-width":new Kt(ai.layout_symbol["text-max-width"]),"text-line-height":new Kt(ai.layout_symbol["text-line-height"]),"text-letter-spacing":new Kt(ai.layout_symbol["text-letter-spacing"]),"text-justify":new Kt(ai.layout_symbol["text-justify"]),"text-radial-offset":new Kt(ai.layout_symbol["text-radial-offset"]),"text-variable-anchor":new jt(ai.layout_symbol["text-variable-anchor"]),"text-anchor":new Kt(ai.layout_symbol["text-anchor"]),"text-max-angle":new jt(ai.layout_symbol["text-max-angle"]),"text-writing-mode":new jt(ai.layout_symbol["text-writing-mode"]),"text-rotate":new Kt(ai.layout_symbol["text-rotate"]),"text-padding":new jt(ai.layout_symbol["text-padding"]),"text-keep-upright":new jt(ai.layout_symbol["text-keep-upright"]),"text-transform":new Kt(ai.layout_symbol["text-transform"]),"text-offset":new Kt(ai.layout_symbol["text-offset"]),"text-allow-overlap":new jt(ai.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new jt(ai.layout_symbol["text-ignore-placement"]),"text-optional":new jt(ai.layout_symbol["text-optional"])});var Qg={paint:new un({"icon-opacity":new Kt(ai.paint_symbol["icon-opacity"]),"icon-color":new Kt(ai.paint_symbol["icon-color"]),"icon-halo-color":new Kt(ai.paint_symbol["icon-halo-color"]),"icon-halo-width":new Kt(ai.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Kt(ai.paint_symbol["icon-halo-blur"]),"icon-translate":new jt(ai.paint_symbol["icon-translate"]),"icon-translate-anchor":new jt(ai.paint_symbol["icon-translate-anchor"]),"text-opacity":new Kt(ai.paint_symbol["text-opacity"]),"text-color":new Kt(ai.paint_symbol["text-color"],{runtimeType:yo,getOverride:r=>r.textColor,hasOverride:r=>!!r.textColor}),"text-halo-color":new Kt(ai.paint_symbol["text-halo-color"]),"text-halo-width":new Kt(ai.paint_symbol["text-halo-width"]),"text-halo-blur":new Kt(ai.paint_symbol["text-halo-blur"]),"text-translate":new jt(ai.paint_symbol["text-translate"]),"text-translate-anchor":new jt(ai.paint_symbol["text-translate-anchor"])}),layout:ob};class vy{constructor(i){this.type=i.property.overrides?i.property.overrides.runtimeType:Or,this.defaultValue=i}evaluate(i){if(i.formattedSection){const o=this.defaultValue.property.overrides;if(o&&o.hasOverride(i.formattedSection))return o.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Hi(vy,"FormatSectionOverride",{omit:["defaultValue"]});class q0 extends Ca{constructor(i){super(i,Qg)}recalculate(i,o){super.recalculate(i,o),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const h=this.layout.get("text-writing-mode");if(h){const p=[];for(const v of h)p.indexOf(v)<0&&p.push(v);this.layout._values["text-writing-mode"]=p}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(i,o,h,p){const v=this.layout.get(i).evaluate(o,{},h,p),T=this._unevaluatedLayout._values[i];return T.isDataDriven()||yt(T.value)||!v?v:function(R,Y){return Y.replace(/{([^{}]+)}/g,(te,de)=>de in R?String(R[de]):"")}(o.properties,v)}createBucket(i){return new od(i)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const i of Qg.paint.overridableProperties){if(!q0.hasPaintOverride(this.layout,i))continue;const o=this.paint.get(i),h=new vy(o),p=new je(h,o.property.specification);let v=null;v=o.value.kind==="constant"||o.value.kind==="source"?new dn("source",p):new ns("composite",p,o.value.zoomStops,o.value._interpolationType),this.paint._values[i]=new gi(o.property,v,o.parameters)}}_handleOverridablePaintPropertyUpdate(i,o,h){return!(!this.layout||o.isDataDriven()||h.isDataDriven())&&q0.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,o){const h=i.get("text-field"),p=Qg.paint.properties[o];let v=!1;const T=R=>{for(const Y of R)if(p.overrides&&p.overrides.hasOverride(Y))return void(v=!0)};if(h.value.kind==="constant"&&h.value.value instanceof Cr)T(h.value.value.sections);else if(h.value.kind==="source"){const R=te=>{v||(te instanceof ll&&vr(te.value)===Ho?T(te.value.sections):te instanceof vs?T(te.sections):te.eachChild(R))},Y=h.value;Y._styleExpression&&R(Y._styleExpression.expression)}return v}getProgramConfiguration(i){return new td(this,i)}}var ab={paint:new un({"background-color":new jt(ai.paint_background["background-color"]),"background-pattern":new jt(ai.paint_background["background-pattern"]),"background-opacity":new jt(ai.paint_background["background-opacity"])})},lb={paint:new un({"raster-opacity":new jt(ai.paint_raster["raster-opacity"]),"raster-hue-rotate":new jt(ai.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new jt(ai.paint_raster["raster-brightness-min"]),"raster-brightness-max":new jt(ai.paint_raster["raster-brightness-max"]),"raster-saturation":new jt(ai.paint_raster["raster-saturation"]),"raster-contrast":new jt(ai.paint_raster["raster-contrast"]),"raster-resampling":new jt(ai.paint_raster["raster-resampling"]),"raster-fade-duration":new jt(ai.paint_raster["raster-fade-duration"])})};class cb extends Ca{constructor(i){super(i,{}),this.implementation=i}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(i){this.implementation.onAdd&&this.implementation.onAdd(i,i.painter.context.gl)}onRemove(i){this.implementation.onRemove&&this.implementation.onRemove(i,i.painter.context.gl)}}var hb={paint:new un({"sky-type":new jt(ai.paint_sky["sky-type"]),"sky-atmosphere-sun":new jt(ai.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new jt(ai.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new jt(ai.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new jt(ai.paint_sky["sky-gradient-radius"]),"sky-gradient":new sn(ai.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new jt(ai.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new jt(ai.paint_sky["sky-atmosphere-color"]),"sky-opacity":new jt(ai.paint_sky["sky-opacity"])})};function e1(r,i,o){const h=[0,0,1],p=ag([]);return v_(p,p,o?-N(r)+Math.PI:N(r)),y_(p,p,-N(i)),m_(h,h,p),fa(h,h)}const db={circle:class extends Ca{constructor(r){super(r,zx)}createBucket(r){return new Su(r)}queryRadius(r){const i=r;return Tu("circle-radius",this,i)+Tu("circle-stroke-width",this,i)+p0(this.paint.get("circle-translate"))}queryIntersectsFeature(r,i,o,h,p,v,T,R){const Y=pa(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),te=this.paint.get("circle-radius").evaluate(i,o)+this.paint.get("circle-stroke-width").evaluate(i,o);return x_(r,h,v,T,R,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",Y,te)}getProgramIds(){return["circle"]}getProgramConfiguration(r){return new td(this,r)}},heatmap:class extends Ca{createBucket(r){return new w_(r)}constructor(r){super(r,Vx),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){r==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=jp({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(r){return Tu("heatmap-radius",this,r)}queryIntersectsFeature(r,i,o,h,p,v,T,R){const Y=this.paint.get("heatmap-radius").evaluate(i,o);return x_(r,h,v,T,R,!0,!0,new G(0,0),Y)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(r){return new td(this,r)}},hillshade:class extends Ca{constructor(r){super(r,Hx)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends Ca{constructor(r){super(r,r2)}getProgramIds(){const r=this.paint.get("fill-pattern"),i=r&&r.constantOr(1),o=[i?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&o.push(i&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),o}getProgramConfiguration(r){return new td(this,r)}recalculate(r,i){super.recalculate(r,i);const o=this.paint._values["fill-outline-color"];o.value.kind==="constant"&&o.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(r){return new x0(r)}queryRadius(){return p0(this.paint.get("fill-translate"))}queryIntersectsFeature(r,i,o,h,p,v){return!r.queryGeometry.isAboveHorizon&&d_(Yc(r.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),h)}isTileClipped(){return!0}},"fill-extrusion":class extends Ca{constructor(r){super(r,N_)}createBucket(r){return new qp(r)}queryRadius(){return p0(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(r){return new td(this,r)}queryIntersectsFeature(r,i,o,h,p,v,T,R,Y){const te=pa(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),de=this.paint.get("fill-extrusion-height").evaluate(i,o),ve=this.paint.get("fill-extrusion-base").evaluate(i,o),Ee=[0,0],Pe=R&&v.elevation,Re=v.elevation?v.elevation.exaggeration():1,He=r.tile.getBucket(this);if(Pe&&He instanceof qp){const xt=He.centroidVertexArray,At=Y+1;At<xt.length&&(Ee[0]=xt.geta_centroid_pos0(At),Ee[1]=xt.geta_centroid_pos1(At))}if(Ee[0]===0&&Ee[1]===1)return!1;v.projection.name==="globe"&&(h=Sg([h],[new G(0,0),new G(vn,vn)],r.tileID.canonical).map(xt=>xt.polygon).flat());const Ke=Pe?R:null,[mt,Et]=function(xt,At,Ct,Xt,Yt,hi,Li,ii,mi,_i,Mi){return xt.projection.name==="globe"?function(Oi,si,Ui,Sn,Yi,ln,Vi,An,as,ss,ts){const Pn=[],Us=[],Gn=Oi.projection.upVectorScale(ts,Oi.center.lat,Oi.worldSize).metersToTile,ls=[0,0,0,1],Ks=[0,0,0,1],hr=(dr,gr,Yr,Xo)=>{dr[0]=gr,dr[1]=Yr,dr[2]=Xo,dr[3]=1},or=wg();Ui>0&&(Ui+=or),Sn+=or;for(const dr of si){const gr=[],Yr=[];for(const Xo of dr){const Gs=Xo.x+Yi.x,go=Xo.y+Yi.y,lo=Oi.projection.projectTilePoint(Gs,go,ts),ks=Oi.projection.upVector(ts,Xo.x,Xo.y);let Lr=Ui,Mo=Sn;if(Vi){const Js=Tg(Gs,go,Ui,Sn,Vi,An,as,ss);Lr+=Js.base,Mo+=Js.top}Ui!==0?hr(ls,lo.x+ks[0]*Gn*Lr,lo.y+ks[1]*Gn*Lr,lo.z+ks[2]*Gn*Lr):hr(ls,lo.x,lo.y,lo.z),hr(Ks,lo.x+ks[0]*Gn*Mo,lo.y+ks[1]*Gn*Mo,lo.z+ks[2]*Gn*Mo),Br(ls,ls,ln),Br(Ks,Ks,ln),gr.push(new Lu(ls[0],ls[1],ls[2])),Yr.push(new Lu(Ks[0],Ks[1],Ks[2]))}Pn.push(gr),Us.push(Yr)}return[Pn,Us]}(xt,At,Ct,Xt,Yt,hi,Li,ii,mi,_i,Mi):Li?function(Oi,si,Ui,Sn,Yi,ln,Vi,An,as){const ss=[],ts=[],Pn=[0,0,0,1];for(const Us of Oi){const Gn=[],ls=[];for(const Ks of Us){const hr=Ks.x+Sn.x,or=Ks.y+Sn.y,dr=Tg(hr,or,si,Ui,ln,Vi,An,as);Pn[0]=hr,Pn[1]=or,Pn[2]=dr.base,Pn[3]=1,id(Pn,Pn,Yi),Pn[3]=Math.max(Pn[3],1e-5);const gr=new Lu(Pn[0]/Pn[3],Pn[1]/Pn[3],Pn[2]/Pn[3]);Pn[0]=hr,Pn[1]=or,Pn[2]=dr.top,Pn[3]=1,id(Pn,Pn,Yi),Pn[3]=Math.max(Pn[3],1e-5);const Yr=new Lu(Pn[0]/Pn[3],Pn[1]/Pn[3],Pn[2]/Pn[3]);Gn.push(gr),ls.push(Yr)}ss.push(Gn),ts.push(ls)}return[ss,ts]}(At,Ct,Xt,Yt,hi,Li,ii,mi,_i):function(Oi,si,Ui,Sn,Yi){const ln=[],Vi=[],An=Yi[8]*si,as=Yi[9]*si,ss=Yi[10]*si,ts=Yi[11]*si,Pn=Yi[8]*Ui,Us=Yi[9]*Ui,Gn=Yi[10]*Ui,ls=Yi[11]*Ui;for(const Ks of Oi){const hr=[],or=[];for(const dr of Ks){const gr=dr.x+Sn.x,Yr=dr.y+Sn.y,Xo=Yi[0]*gr+Yi[4]*Yr+Yi[12],Gs=Yi[1]*gr+Yi[5]*Yr+Yi[13],go=Yi[2]*gr+Yi[6]*Yr+Yi[14],lo=Yi[3]*gr+Yi[7]*Yr+Yi[15],ks=Xo+An,Lr=Gs+as,Mo=go+ss,Js=Math.max(lo+ts,1e-5),eo=Xo+Pn,ka=Gs+Us,Zo=go+Gn,Ko=Math.max(lo+ls,1e-5);hr.push(new Lu(ks/Js,Lr/Js,Mo/Js)),or.push(new Lu(eo/Ko,ka/Ko,Zo/Ko))}ln.push(hr),Vi.push(or)}return[ln,Vi]}(At,Ct,Xt,Yt,hi)}(v,h,ve,de,te,T,Ke,Ee,Re,v.center.lat,r.tileID.canonical),ft=r.queryGeometry;return function(xt,At,Ct){let Xt=1/0;d_(Ct,At)&&(Xt=A0(Ct,At[0]));for(let Yt=0;Yt<At.length;Yt++){const hi=At[Yt],Li=xt[Yt];for(let ii=0;ii<hi.length-1;ii++){const mi=hi[ii],_i=[mi,hi[ii+1],Li[ii+1],Li[ii],mi];d0(Ct,_i)&&(Xt=Math.min(Xt,A0(Ct,_i)))}}return Xt!==1/0&&Xt}(mt,Et,ft.isPointQuery()?ft.screenBounds:ft.screenGeometry)}},line:class extends Ca{constructor(r){super(r,U_),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(r){if(r==="line-gradient"){const i=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=i._styleExpression&&i._styleExpression.expression instanceof xo,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(r,i){super.recalculate(r,i),this.paint._values["line-floorwidth"]=G_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,r)}createBucket(r){return new k0(r)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(r){return new td(this,r)}queryRadius(r){const i=r,o=V_(Tu("line-width",this,i),Tu("line-gap-width",this,i)),h=Tu("line-offset",this,i);return o/2+Math.abs(h)+p0(this.paint.get("line-translate"))}queryIntersectsFeature(r,i,o,h,p,v){if(r.queryGeometry.isAboveHorizon)return!1;const T=Yc(r.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),v.angle,r.pixelToTileUnitsFactor),R=r.pixelToTileUnitsFactor/2*V_(this.paint.get("line-width").evaluate(i,o),this.paint.get("line-gap-width").evaluate(i,o)),Y=this.paint.get("line-offset").evaluate(i,o);return Y&&(h=function(te,de){const ve=[],Ee=new G(0,0);for(let Pe=0;Pe<te.length;Pe++){const Re=te[Pe],He=[];for(let Ke=0;Ke<Re.length;Ke++){const mt=Re[Ke-1],Et=Re[Ke],ft=Re[Ke+1],xt=Ke===0?Ee:Et.sub(mt)._unit()._perp(),At=Ke===Re.length-1?Ee:ft.sub(Et)._unit()._perp(),Ct=xt._add(At)._unit();Ct._mult(1/(Ct.x*At.x+Ct.y*At.y)),He.push(Ct._mult(de)._add(Et))}ve.push(He)}return ve}(h,Y*r.pixelToTileUnitsFactor)),function(te,de,ve){for(let Ee=0;Ee<de.length;Ee++){const Pe=de[Ee];if(te.length>=3){for(let Re=0;Re<Pe.length;Re++)if(Od(te,Pe[Re]))return!0}if(Zm(te,Pe,ve))return!0}return!1}(T,h,R)}isTileClipped(){return!0}},symbol:q0,background:class extends Ca{constructor(r){super(r,ab)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Ca{constructor(r){super(r,lb)}getProgramIds(){return["raster"]}},sky:class extends Ca{constructor(r){super(r,hb),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){r==="sky-gradient"?this._updateColorRamp():r!=="sky-atmosphere-sun"&&r!=="sky-atmosphere-halo-color"&&r!=="sky-atmosphere-color"&&r!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=jp({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(r){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const i=r.style.light.properties.get("position");return this._lightPosition.azimuthal!==i.azimuthal||this._lightPosition.polar!==i.polar}return!1}getCenter(r,i){if(this.paint.get("sky-type")==="atmosphere"){const h=this.paint.get("sky-atmosphere-sun"),p=!h,v=r.style.light,T=v.properties.get("position");return p&&v.properties.get("anchor")==="viewport"&&le("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),p?e1(T.azimuthal,90-T.polar,i):e1(h[0],90-h[1],i)}const o=this.paint.get("sky-gradient-center");return e1(o[0],90-o[1],i)}is3D(){return!1}isSky(){return!0}markSkyboxValid(r){this._skyboxInvalidated=!1,this._lightPosition=r.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const r=this.paint.get("sky-type");return r==="atmosphere"?["skyboxCapture","skybox"]:r==="gradient"?["skyboxGradient"]:null}}};class lf{constructor(i,o,h,p){this.context=i,this.format=h,this.texture=i.gl.createTexture(),this.update(o,p)}update(i,o,h){const{width:p,height:v}=i,{context:T}=this,{gl:R}=T,{HTMLImageElement:Y,HTMLCanvasElement:te,HTMLVideoElement:de,ImageData:ve,ImageBitmap:Ee}=S;if(R.bindTexture(R.TEXTURE_2D,this.texture),T.pixelStoreUnpackFlipY.set(!1),T.pixelStoreUnpack.set(1),T.pixelStoreUnpackPremultiplyAlpha.set(this.format===R.RGBA&&(!o||o.premultiply!==!1)),h||this.size&&this.size[0]===p&&this.size[1]===v){const{x:Pe,y:Re}=h||{x:0,y:0};i instanceof Y||i instanceof te||i instanceof de||i instanceof ve||Ee&&i instanceof Ee?R.texSubImage2D(R.TEXTURE_2D,0,Pe,Re,R.RGBA,R.UNSIGNED_BYTE,i):R.texSubImage2D(R.TEXTURE_2D,0,Pe,Re,p,v,R.RGBA,R.UNSIGNED_BYTE,i.data)}else this.size=[p,v],i instanceof Y||i instanceof te||i instanceof de||i instanceof ve||Ee&&i instanceof Ee?R.texImage2D(R.TEXTURE_2D,0,this.format,this.format,R.UNSIGNED_BYTE,i):R.texImage2D(R.TEXTURE_2D,0,this.format,p,v,0,this.format,R.UNSIGNED_BYTE,i.data);this.useMipmap=Boolean(o&&o.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&R.generateMipmap(R.TEXTURE_2D)}bind(i,o){const{context:h}=this,{gl:p}=h;p.bindTexture(p.TEXTURE_2D,this.texture),i!==this.filter&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,i),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,this.useMipmap?i===p.NEAREST?p.NEAREST_MIPMAP_NEAREST:p.LINEAR_MIPMAP_NEAREST:i),this.filter=i),o!==this.wrap&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,o),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,o),this.wrap=o)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}class g{constructor(i){this._callback=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class A{constructor(){this.tasks={},this.taskQueue=[],ue(["process"],this),this.invoker=new g(this.process),this.nextId=0}add(i,o){const h=this.nextId++,p=function({type:v,isSymbolTile:T,zoom:R}){return R=R||0,v==="message"?0:v!=="maybePrepare"||T?v!=="parseTile"||T?v==="parseTile"&&T?300-R:v==="maybePrepare"&&T?400-R:500:200-R:100-R}(o);if(p===0){Oe();try{i()}finally{}return{cancel:()=>{}}}return this.tasks[h]={fn:i,metadata:o,priority:p,id:h},this.taskQueue.push(h),this.invoker.trigger(),{cancel:()=>{delete this.tasks[h]}}}process(){Oe();try{if(this.taskQueue=this.taskQueue.filter(h=>!!this.tasks[h]),!this.taskQueue.length)return;const i=this.pick();if(i===null)return;const o=this.tasks[i];if(delete this.tasks[i],this.taskQueue.length&&this.invoker.trigger(),!o)return;o.fn()}finally{}}pick(){let i=null,o=1/0;for(let p=0;p<this.taskQueue.length;p++){const v=this.tasks[this.taskQueue[p]];v.priority<o&&(o=v.priority,i=p)}if(i===null)return null;const h=this.taskQueue[i];return this.taskQueue.splice(i,1),h}remove(){this.invoker.remove()}}class se{constructor(i){this._stringToNumber={},this._numberToString=[];for(let o=0;o<i.length;o++){const h=i[o];this._stringToNumber[h]=o,this._numberToString[o]=h}}encode(i){return this._stringToNumber[i]}decode(i){return this._numberToString[i]}}const Ae=["tile","layer","source","sourceLayer","state"];class We{constructor(i,o,h,p,v){this.type="Feature",this._vectorTileFeature=i,this._z=o,this._x=h,this._y=p,this.properties=i.properties,this.id=v}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(i.id=this.id);for(const o of Ae)this[o]!==void 0&&(i[o]=this[o]);return i}}const nt=32,St=33,It=new Uint16Array(8184);for(let r=0;r<2046;r++){let i=r+2,o=0,h=0,p=0,v=0,T=0,R=0;for(1&i?p=v=T=nt:o=h=R=nt;(i>>=1)>1;){const te=o+p>>1,de=h+v>>1;1&i?(p=o,v=h,o=T,h=R):(o=p,h=v,p=T,v=R),T=te,R=de}const Y=4*r;It[Y+0]=o,It[Y+1]=h,It[Y+2]=p,It[Y+3]=v}const Vt=new Uint16Array(2178),Si=new Uint8Array(1089),ki=new Uint16Array(1089);function Ri(r){return r===0?-.03125:r===32?.03125:0}var on=Zi([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const wn={type:2,extent:vn,loadGeometry:()=>[[new G(0,0),new G(8193,0),new G(8193,8193),new G(0,8193),new G(0,0)]]};class Un{constructor(i,o,h,p,v){this.tileID=i,this.uid=fe(),this.uses=0,this.tileSize=o,this.tileZoom=h,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=v,this.expiredRequestCount=0,this.state="loading",p&&p.transform&&(this.projection=p.transform.projection)}registerFadeDuration(i){const o=i+this.timeAdded;o<an.now()||this.fadeEndTime&&o<this.fadeEndTime||(this.fadeEndTime=o)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=$d(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(i,o,h){if(this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(p,v){const T={};if(!v)return T;for(const R of p){const Y=R.layerIds.map(te=>v.getLayer(te)).filter(Boolean);if(Y.length!==0){R.layers=Y,R.stateDependentLayerIds&&(R.stateDependentLayers=R.stateDependentLayerIds.map(te=>Y.filter(de=>de.id===te)[0]));for(const te of Y)T[te.id]=R}}return T}(i.buckets,o.style),this.hasSymbolBuckets=!1;for(const p in this.buckets){const v=this.buckets[p];if(v instanceof od){if(this.hasSymbolBuckets=!0,!h)break;v.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const p in this.buckets){const v=this.buckets[p];if(v instanceof od&&v.hasRTLText){this.hasRTLText=!0,qt.isLoading()||qt.isLoaded()||Ot()!=="deferred"||Zt();break}}this.queryPadding=0;for(const p in this.buckets){const v=this.buckets[p];this.queryPadding=Math.max(this.queryPadding,o.style.getLayer(p).queryRadius(v))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage),i.lineAtlas&&(this.lineAtlas=i.lineAtlas)}else this.collisionBoxArray=new Bm}unloadVectorData(){if(this.hasData()){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(i){return this.buckets[i.id]}upload(i){for(const h in this.buckets){const p=this.buckets[h];p.uploadPending()&&p.upload(i)}const o=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new lf(i,this.imageAtlas.image,o.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new lf(i,this.glyphAtlasImage,o.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new lf(i,this.lineAtlas.image,o.ALPHA),this.lineAtlas.uploaded=!0)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,o,h,p,v,T,R,Y){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:p,pixelPosMatrix:R,transform:T,params:v,tileTransform:this.tileTransform},i,o,h):{}}querySourceFeatures(i,o){const h=this.latestFeatureIndex;if(!h||!h.rawTileData)return;const p=h.loadVTLayers(),v=o?o.sourceLayer:"",T=p._geojsonTileLayer||p[v];if(!T)return;const R=mr(o&&o.filter),{z:Y,x:te,y:de}=this.tileID.canonical,ve={z:Y,x:te,y:de};for(let Ee=0;Ee<T.length;Ee++){const Pe=T.feature(Ee);if(R.needGeometry){const Ke=qc(Pe,!0);if(!R.filter(new Nt(this.tileID.overscaledZ),Ke,this.tileID.canonical))continue}else if(!R.filter(new Nt(this.tileID.overscaledZ),Pe))continue;const Re=h.getId(Pe,v),He=new We(Pe,Y,te,de,Re);He.tile=ve,i.push(He)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const o=this.expirationTime;if(i.cacheControl){const h=Le(i.cacheControl);h["max-age"]&&(this.expirationTime=Date.now()+1e3*h["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const h=Date.now();let p=!1;if(this.expirationTime>h)p=!1;else if(o)if(this.expirationTime<o)p=!0;else{const v=this.expirationTime-o;v?this.expirationTime=h+Math.max(v,3e4):p=!0}else p=!0;p?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,o){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0||!o)return;const h=this.latestFeatureIndex.loadVTLayers(),p=o.style.listImages();for(const v in this.buckets){if(!o.style.hasLayer(v))continue;const T=this.buckets[v],R=T.layers[0].sourceLayer||"_geojsonTileLayer",Y=h[R],te=i[R];if(!Y||!te||Object.keys(te).length===0)continue;if(T.update(te,Y,p,this.imageAtlas&&this.imageAtlas.patternPositions||{}),T instanceof k0||T instanceof x0){const ve=o.style._getSourceCache(T.layers[0].source);o._terrain&&o._terrain.enabled&&ve&&T.programConfigurations.needsUpload&&o._terrain._clearRenderCacheForTile(ve.id,this.tileID)}const de=o&&o.style&&o.style.getLayer(v);de&&(this.queryPadding=Math.max(this.queryPadding,de.queryRadius(T)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<an.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=an.now()+i}setTexture(i,o){const h=o.context,p=h.gl;this.texture=this.texture||o.getTileTexture(i.width),this.texture?this.texture.update(i,{useMipmap:!0}):(this.texture=new lf(h,i,p.RGBA,{useMipmap:!0}),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE),h.extTextureFilterAnisotropic&&p.texParameterf(p.TEXTURE_2D,h.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,h.extTextureFilterAnisotropicMax))}setDependencies(i,o){const h={};for(const p of o)h[p]=!0;this.dependencies[i]=h}hasDependency(i,o){for(const h of i){const p=this.dependencies[h];if(p){for(const v of o)if(p[v])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(i,o){if(!o||o.name==="mercator"||this._tileDebugBuffer)return;const h=mc(wn,this.tileID.canonical,this.tileTransform)[0],p=new Es,v=new vh;for(let T=0;T<h.length;T++){const{x:R,y:Y}=h[T];p.emplaceBack(R,Y),v.emplaceBack(T)}v.emplaceBack(0),this._tileDebugIndexBuffer=i.createIndexBuffer(v),this._tileDebugBuffer=i.createVertexBuffer(p,Qp.members),this._tileDebugSegments=Hr.simpleSegment(0,0,p.length,v.length)}_makeTileBoundsBuffers(i,o){if(this._tileBoundsBuffer||!o||o.name==="mercator")return;const h=mc(wn,this.tileID.canonical,this.tileTransform)[0];let p,v;if(this.isRaster){const T=function(R,Y){const te=$d(R,Y),de=Math.pow(2,R.z);for(let Ke=0;Ke<St;Ke++)for(let mt=0;mt<St;mt++){const Et=Ma((R.x+(mt+Ri(mt))/nt)/de),ft=Fo((R.y+(Ke+Ri(Ke))/nt)/de),xt=Y.project(Et,ft),At=Ke*St+mt;Vt[2*At+0]=Math.round((xt.x*te.scale-te.x)*vn),Vt[2*At+1]=Math.round((xt.y*te.scale-te.y)*vn)}Si.fill(0),ki.fill(0);for(let Ke=2045;Ke>=0;Ke--){const mt=4*Ke,Et=It[mt+0],ft=It[mt+1],xt=It[mt+2],At=It[mt+3],Ct=Et+xt>>1,Xt=ft+At>>1,Yt=Ct+Xt-ft,hi=Xt+Et-Ct,Li=ft*St+Et,ii=At*St+xt,mi=Xt*St+Ct,_i=Math.hypot((Vt[2*Li+0]+Vt[2*ii+0])/2-Vt[2*mi+0],(Vt[2*Li+1]+Vt[2*ii+1])/2-Vt[2*mi+1])>=16;if(Si[mi]=Si[mi]||(_i?1:0),Ke<1022){const Mi=(ft+hi>>1)*St+(Et+Yt>>1),Oi=(At+hi>>1)*St+(xt+Yt>>1);Si[mi]=Si[mi]||Si[Mi]||Si[Oi]}}const ve=new Ls,Ee=new Eo;let Pe=0;function Re(Ke,mt){const Et=mt*St+Ke;return ki[Et]===0&&(ve.emplaceBack(Vt[2*Et+0],Vt[2*Et+1],Ke*vn/nt,mt*vn/nt),ki[Et]=++Pe),ki[Et]-1}function He(Ke,mt,Et,ft,xt,At){const Ct=Ke+Et>>1,Xt=mt+ft>>1;if(Math.abs(Ke-xt)+Math.abs(mt-At)>1&&Si[Xt*St+Ct])He(xt,At,Ke,mt,Ct,Xt),He(Et,ft,xt,At,Ct,Xt);else{const Yt=Re(Ke,mt),hi=Re(Et,ft),Li=Re(xt,At);Ee.emplaceBack(Yt,hi,Li)}}return He(0,0,nt,nt,nt,0),He(nt,nt,0,0,0,nt),{vertices:ve,indices:Ee}}(this.tileID.canonical,o);p=T.vertices,v=T.indices}else{p=new Ls,v=new Eo;for(const{x:R,y:Y}of h)p.emplaceBack(R,Y,0,0);const T=Up.exports(p.int16,void 0,4);for(let R=0;R<T.length;R+=3)v.emplaceBack(T[R],T[R+1],T[R+2])}this._tileBoundsBuffer=i.createVertexBuffer(p,on.members),this._tileBoundsIndexBuffer=i.createIndexBuffer(v),this._tileBoundsSegments=Hr.simpleSegment(0,0,p.length,v.length)}_makeGlobeTileDebugBuffers(i,o){const h=o.projection;if(!h||h.name!=="globe"||o.freezeTileCoverage)return;const p=this.tileID.canonical,v=nf(dy(p,o)),T=Hd(o.zoom);let R;T>0&&(R=f0(new Float64Array(16),o.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(i,p,o,v,R,T),this._makeGlobeTileDebugTextBuffer(i,p,o,v,R,T)}_globePoint(i,o,h,p,v,T,R){let Y=tf(i,o,h);if(T){const te=1<<h.z,de=pc(p.center.lng),ve=Sl(p.center.lat),Ee=(h.x+.5)/te-de;let Pe=0;Ee>.5?Pe=-1:Ee<-.5&&(Pe=1);let Re=(i/vn+h.x)/te+Pe,He=(o/vn+h.y)/te;Re=(Re-de)*p._pixelsPerMercatorPixel+de,He=(He-ve)*p._pixelsPerMercatorPixel+ve;const Ke=[Re*p.worldSize,He*p.worldSize,0];Br(Ke,Ke,T),Y=Vd(Y,Ke,R)}return Br(Y,Y,v)}_makeGlobeTileDebugBorderBuffer(i,o,h,p,v,T){const R=new Es,Y=new vh,te=new Fs,de=(Ee,Pe,Re,He,Ke)=>{const mt=(Re-Ee)/(Ke-1),Et=(He-Pe)/(Ke-1),ft=R.length;for(let xt=0;xt<Ke;xt++){const At=Ee+xt*mt,Ct=Pe+xt*Et;R.emplaceBack(At,Ct);const Xt=this._globePoint(At,Ct,o,h,p,v,T);te.emplaceBack(Xt[0],Xt[1],Xt[2]),Y.emplaceBack(ft+xt)}},ve=vn;de(0,0,ve,0,16),de(ve,0,ve,ve,16),de(ve,ve,0,ve,16),de(0,ve,0,0,16),this._tileDebugIndexBuffer=i.createIndexBuffer(Y),this._tileDebugBuffer=i.createVertexBuffer(R,Qp.members),this._globeTileDebugBorderBuffer=i.createVertexBuffer(te,Fg.members),this._tileDebugSegments=Hr.simpleSegment(0,0,R.length,Y.length)}_makeGlobeTileDebugTextBuffer(i,o,h,p,v,T){const R=new Es,Y=new Eo,te=new Fs,de=25;Y.reserve(32),R.reserve(de),te.reserve(de);const ve=(Ee,Pe)=>de*Ee+Pe;for(let Ee=0;Ee<de;Ee++){const Pe=2048*Ee;for(let Re=0;Re<de;Re++){const He=2048*Re;R.emplaceBack(He,Pe);const Ke=this._globePoint(He,Pe,o,h,p,v,T);te.emplaceBack(Ke[0],Ke[1],Ke[2])}}for(let Ee=0;Ee<4;Ee++)for(let Pe=0;Pe<4;Pe++){const Re=ve(Ee,Pe),He=ve(Ee,Pe+1),Ke=ve(Ee+1,Pe),mt=ve(Ee+1,Pe+1);Y.emplaceBack(Re,He,Ke),Y.emplaceBack(Ke,He,mt)}this._tileDebugTextIndexBuffer=i.createIndexBuffer(Y),this._tileDebugTextBuffer=i.createVertexBuffer(R,Qp.members),this._globeTileDebugTextBuffer=i.createVertexBuffer(te,Fg.members),this._tileDebugTextSegments=Hr.simpleSegment(0,0,de,32)}}class ps{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,o,h){const p=String(o);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][p]=this.stateChanges[i][p]||{},X(this.stateChanges[i][p],h),this.deletedStates[i]===null){this.deletedStates[i]={};for(const v in this.state[i])v!==p&&(this.deletedStates[i][v]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][p]===null){this.deletedStates[i][p]={};for(const v in this.state[i][p])h[v]||(this.deletedStates[i][p][v]=null)}else for(const v in h)this.deletedStates[i]&&this.deletedStates[i][p]&&this.deletedStates[i][p][v]===null&&delete this.deletedStates[i][p][v]}removeFeatureState(i,o,h){if(this.deletedStates[i]===null)return;const p=String(o);if(this.deletedStates[i]=this.deletedStates[i]||{},h&&o!==void 0)this.deletedStates[i][p]!==null&&(this.deletedStates[i][p]=this.deletedStates[i][p]||{},this.deletedStates[i][p][h]=null);else if(o!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][p])for(h in this.deletedStates[i][p]={},this.stateChanges[i][p])this.deletedStates[i][p][h]=null;else this.deletedStates[i][p]=null;else this.deletedStates[i]=null}getState(i,o){const h=String(o),p=X({},(this.state[i]||{})[h],(this.stateChanges[i]||{})[h]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const v=this.deletedStates[i][o];if(v===null)return{};for(const T in v)delete p[T]}return p}initializeTileState(i,o){i.setFeatureState(this.state,o)}coalesceChanges(i,o){const h={};for(const p in this.stateChanges){this.state[p]=this.state[p]||{};const v={};for(const T in this.stateChanges[p])this.state[p][T]||(this.state[p][T]={}),X(this.state[p][T],this.stateChanges[p][T]),v[T]=this.state[p][T];h[p]=v}for(const p in this.deletedStates){this.state[p]=this.state[p]||{};const v={};if(this.deletedStates[p]===null)for(const T in this.state[p])v[T]={},this.state[p][T]={};else for(const T in this.deletedStates[p]){if(this.deletedStates[p][T]===null)this.state[p][T]={};else for(const R of Object.keys(this.deletedStates[p][T]))delete this.state[p][T][R];v[T]=this.state[p][T]}h[p]=h[p]||{},X(h[p],v)}if(this.stateChanges={},this.deletedStates={},Object.keys(h).length!==0)for(const p in i)i[p].setFeatureState(h,o)}}class Vn{constructor(i){this.size=i,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(i,o){const h=this.toIdx(i,o);return{min:this.minimums[h],max:this.maximums[h]}}isLeaf(i,o){return this.leaves[this.toIdx(i,o)]}toIdx(i,o){return o*this.size+i}}function Ss(r,i,o,h){let p=0,v=Number.MAX_VALUE;for(let T=0;T<3;T++)if(Math.abs(h[T])<1e-15){if(o[T]<r[T]||o[T]>i[T])return null}else{const R=1/h[T];let Y=(r[T]-o[T])*R,te=(i[T]-o[T])*R;if(Y>te){const de=Y;Y=te,te=de}if(Y>p&&(p=Y),te<v&&(v=te),p>v)return null}return p}function As(r,i,o,h,p,v,T,R,Y,te,de){const ve=h-r,Ee=p-i,Pe=v-o,Re=T-r,He=R-i,Ke=Y-o,mt=de[1]*Ke-de[2]*He,Et=de[2]*Re-de[0]*Ke,ft=de[0]*He-de[1]*Re,xt=ve*mt+Ee*Et+Pe*ft;if(Math.abs(xt)<1e-15)return null;const At=1/xt,Ct=te[0]-r,Xt=te[1]-i,Yt=te[2]-o,hi=(Ct*mt+Xt*Et+Yt*ft)*At;if(hi<0||hi>1)return null;const Li=Xt*Pe-Yt*Ee,ii=Yt*ve-Ct*Pe,mi=Ct*Ee-Xt*ve,_i=(de[0]*Li+de[1]*ii+de[2]*mi)*At;return _i<0||hi+_i>1?null:(Re*Li+He*ii+Ke*mi)*At}function Ya(r,i,o){return(r-i)/(o-i)}function _a(r,i,o,h,p,v,T,R,Y){const te=1<<o,de=v-h,ve=T-p,Ee=(r+1)/te*de+h,Pe=(i+0)/te*ve+p,Re=(i+1)/te*ve+p;R[0]=(r+0)/te*de+h,R[1]=Pe,Y[0]=Ee,Y[1]=Re}class Xa{constructor(i){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=i,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const o=function(v){const T=Math.ceil(Math.log2(v.dim/8)),R=[];let Y=Math.ceil(Math.pow(2,T));const te=1/Y,de=(Pe,Re,He,Ke,mt)=>{const Et=Ke?1:0,ft=(Pe+1)*He-Et,xt=Re*He,At=(Re+1)*He-Et;mt[0]=Pe*He,mt[1]=xt,mt[2]=ft,mt[3]=At};let ve=new Vn(Y);const Ee=[];for(let Pe=0;Pe<Y*Y;Pe++){de(Pe%Y,Math.floor(Pe/Y),te,!1,Ee);const Re=Uo(Ee[0],Ee[1],v),He=Uo(Ee[2],Ee[1],v),Ke=Uo(Ee[2],Ee[3],v),mt=Uo(Ee[0],Ee[3],v);ve.minimums.push(Math.min(Re,He,Ke,mt)),ve.maximums.push(Math.max(Re,He,Ke,mt)),ve.leaves.push(1)}for(R.push(ve),Y/=2;Y>=1;Y/=2){const Pe=R[R.length-1];ve=new Vn(Y);for(let Re=0;Re<Y*Y;Re++){de(Re%Y,Math.floor(Re/Y),2,!0,Ee);const He=Pe.getElevation(Ee[0],Ee[1]),Ke=Pe.getElevation(Ee[2],Ee[1]),mt=Pe.getElevation(Ee[2],Ee[3]),Et=Pe.getElevation(Ee[0],Ee[3]),ft=Pe.isLeaf(Ee[0],Ee[1]),xt=Pe.isLeaf(Ee[2],Ee[1]),At=Pe.isLeaf(Ee[2],Ee[3]),Ct=Pe.isLeaf(Ee[0],Ee[3]),Xt=Math.min(He.min,Ke.min,mt.min,Et.min),Yt=Math.max(He.max,Ke.max,mt.max,Et.max),hi=ft&&xt&&At&&Ct;ve.maximums.push(Yt),ve.minimums.push(Xt),ve.leaves.push(Yt-Xt<=5&&hi?1:0)}R.push(ve)}return R}(this.dem),h=o.length-1,p=o[h];this._addNode(p.minimums[0],p.maximums[0],p.leaves[0]),this._construct(o,0,0,h,0)}raycastRoot(i,o,h,p,v,T,R=1){return Ss([i,o,-100],[h,p,this.maximums[0]*R],v,T)}raycast(i,o,h,p,v,T,R=1){if(!this.nodeCount)return null;const Y=this.raycastRoot(i,o,h,p,v,T,R);if(Y==null)return null;const te=[],de=[],ve=[],Ee=[],Pe=[{idx:0,t:Y,nodex:0,nodey:0,depth:0}];for(;Pe.length>0;){const{idx:Re,t:He,nodex:Ke,nodey:mt,depth:Et}=Pe.pop();if(this.leaves[Re]){_a(Ke,mt,Et,i,o,h,p,ve,Ee);const xt=1<<Et,At=(Ke+0)/xt,Ct=(Ke+1)/xt,Xt=(mt+0)/xt,Yt=(mt+1)/xt,hi=Uo(At,Xt,this.dem)*R,Li=Uo(Ct,Xt,this.dem)*R,ii=Uo(Ct,Yt,this.dem)*R,mi=Uo(At,Yt,this.dem)*R,_i=As(ve[0],ve[1],hi,Ee[0],ve[1],Li,Ee[0],Ee[1],ii,v,T),Mi=As(Ee[0],Ee[1],ii,ve[0],Ee[1],mi,ve[0],ve[1],hi,v,T),Oi=Math.min(_i!==null?_i:Number.MAX_VALUE,Mi!==null?Mi:Number.MAX_VALUE);if(Oi!==Number.MAX_VALUE)return Oi;{const si=ku([],v,T,He);if(Qr(hi,Li,mi,ii,Ya(si[0],ve[0],Ee[0]),Ya(si[1],ve[1],Ee[1]))>=si[2])return He}continue}let ft=0;for(let xt=0;xt<this._siblingOffset.length;xt++){_a((Ke<<1)+this._siblingOffset[xt][0],(mt<<1)+this._siblingOffset[xt][1],Et+1,i,o,h,p,ve,Ee),ve[2]=-100,Ee[2]=this.maximums[this.childOffsets[Re]+xt]*R;const At=Ss(ve,Ee,v,T);if(At!=null){const Ct=At;te[xt]=Ct;let Xt=!1;for(let Yt=0;Yt<ft&&!Xt;Yt++)Ct>=te[de[Yt]]&&(de.splice(Yt,0,xt),Xt=!0);Xt||(de[ft]=xt),ft++}}for(let xt=0;xt<ft;xt++){const At=de[xt];Pe.push({idx:this.childOffsets[Re]+At,t:te[At],nodex:(Ke<<1)+this._siblingOffset[At][0],nodey:(mt<<1)+this._siblingOffset[At][1],depth:Et+1})}}return null}_addNode(i,o,h){return this.minimums.push(i),this.maximums.push(o),this.leaves.push(h),this.childOffsets.push(0),this.nodeCount++}_construct(i,o,h,p,v){if(i[p].isLeaf(o,h)===1)return;this.childOffsets[v]||(this.childOffsets[v]=this.nodeCount);const T=p-1,R=i[T];let Y=0,te=0;for(let de=0;de<this._siblingOffset.length;de++){const ve=2*o+this._siblingOffset[de][0],Ee=2*h+this._siblingOffset[de][1],Pe=R.getElevation(ve,Ee),Re=R.isLeaf(ve,Ee),He=this._addNode(Pe.min,Pe.max,Re);Re&&(Y|=1<<de),te||(te=He)}for(let de=0;de<this._siblingOffset.length;de++)Y&1<<de||this._construct(i,2*o+this._siblingOffset[de][0],2*h+this._siblingOffset[de][1],T,te+de)}}function Qr(r,i,o,h,p,v){return On(On(r,o,v),On(i,h,v),p)}function Uo(r,i,o){const h=o.dim,p=y(r*h-.5,0,h-1),v=y(i*h-.5,0,h-1),T=Math.floor(p),R=Math.floor(v),Y=Math.min(T+1,h-1),te=Math.min(R+1,h-1);return Qr(o.get(T,R),o.get(Y,R),o.get(T,te),o.get(Y,te),p-T,v-R)}const Qc={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class cf{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(i,o,h,p=!1,v=!1){if(this.uid=i,o.height!==o.width)throw new RangeError("DEM tiles must be square");if(h&&h!=="mapbox"&&h!=="terrarium")return le(`"${h}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=o.height;const T=this.dim=o.height-2,R=new Uint32Array(o.data.buffer);if(this.pixels=new Uint8Array(o.data.buffer),this.encoding=h||"mapbox",this.borderReady=p,!p){for(let Y=0;Y<T;Y++)R[this._idx(-1,Y)]=R[this._idx(0,Y)],R[this._idx(T,Y)]=R[this._idx(T-1,Y)],R[this._idx(Y,-1)]=R[this._idx(Y,0)],R[this._idx(Y,T)]=R[this._idx(Y,T-1)];R[this._idx(-1,-1)]=R[this._idx(0,0)],R[this._idx(T,-1)]=R[this._idx(T-1,0)],R[this._idx(-1,T)]=R[this._idx(0,T-1)],R[this._idx(T,T)]=R[this._idx(T-1,T-1)],v&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Xa(this)}get(i,o,h=!1){h&&(i=y(i,-1,this.dim),o=y(o,-1,this.dim));const p=4*this._idx(i,o);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[p],this.pixels[p+1],this.pixels[p+2])}static getUnpackVector(i){return Qc[i]}get unpackVector(){return Qc[this.encoding]}_idx(i,o){if(i<-1||i>=this.dim+1||o<-1||o>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(o+1)*this.stride+(i+1)}_unpackMapbox(i,o,h){return(256*i*256+256*o+h)/10-1e4}_unpackTerrarium(i,o,h){return 256*i+o+h/256-32768}static pack(i,o){const h=[0,0,0,0],p=cf.getUnpackVector(o);let v=Math.floor((i+p[3])/p[2]);return h[2]=v%256,v=Math.floor(v/256),h[1]=v%256,v=Math.floor(v/256),h[0]=v,h}getPixels(){return new qa({width:this.stride,height:this.stride},this.pixels)}backfillBorder(i,o,h){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let p=o*this.dim,v=o*this.dim+this.dim,T=h*this.dim,R=h*this.dim+this.dim;switch(o){case-1:p=v-1;break;case 1:v=p+1}switch(h){case-1:T=R-1;break;case 1:R=T+1}const Y=-o*this.dim,te=-h*this.dim;for(let de=T;de<R;de++)for(let ve=p;ve<v;ve++){const Ee=4*this._idx(ve,de),Pe=4*this._idx(ve+Y,de+te);this.pixels[Ee+0]=i.pixels[Pe+0],this.pixels[Ee+1]=i.pixels[Pe+1],this.pixels[Ee+2]=i.pixels[Pe+2],this.pixels[Ee+3]=i.pixels[Pe+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Hi(cf,"DEMData"),Hi(Xa,"DemMinMaxQuadTree",{omit:["dem"]});class zA{constructor(i,o){this.max=i,this.onRemove=o,this.reset()}reset(){for(const i in this.data)for(const o of this.data[i])o.timeout&&clearTimeout(o.timeout),this.onRemove(o.value);return this.data={},this.order=[],this}add(i,o,h){const p=i.wrapped().key;this.data[p]===void 0&&(this.data[p]=[]);const v={value:o,timeout:void 0};if(h!==void 0&&(v.timeout=setTimeout(()=>{this.remove(i,v)},h)),this.data[p].push(v),this.order.push(p),this.order.length>this.max){const T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const o=this.data[i].shift();return o.timeout&&clearTimeout(o.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),o.value}getByKey(i){const o=this.data[i];return o?o[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,o){if(!this.has(i))return this;const h=i.wrapped().key,p=o===void 0?0:this.data[h].indexOf(o),v=this.data[h][p];return this.data[h].splice(p,1),v.timeout&&clearTimeout(v.timeout),this.data[h].length===0&&delete this.data[h],this.onRemove(v.value),this.order.splice(this.order.indexOf(h),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}filter(i){const o=[];for(const h in this.data)for(const p of this.data[h])i(p.value)||o.push(p);for(const h of o)this.remove(h.value.tileID,h)}}class Y0{constructor(i,o,h){this.func=i,this.mask=o,this.range=h}}Y0.ReadOnly=!1,Y0.ReadWrite=!0,Y0.disabled=new Y0(519,Y0.ReadOnly,[0,1]);const ub=7680;class pb{constructor(i,o,h,p,v,T){this.test=i,this.ref=o,this.mask=h,this.fail=p,this.depthFail=v,this.pass=T}}pb.disabled=new pb({func:519,mask:0},0,0,ub,ub,ub);class ad{constructor(i,o,h){this.blendFunction=i,this.blendColor=o,this.mask=h}}ad.Replace=[1,0],ad.disabled=new ad(ad.Replace,rr.transparent,[!1,!1,!1,!1]),ad.unblended=new ad(ad.Replace,rr.transparent,[!0,!0,!0,!0]),ad.alphaBlended=new ad([1,771],rr.transparent,[!0,!0,!0,!0]);const fb=1029,mb=2305;class Ah{constructor(i,o,h){this.enable=i,this.mode=o,this.frontFace=h}}Ah.disabled=new Ah(!1,fb,mb),Ah.backCCW=new Ah(!0,fb,mb),Ah.backCW=new Ah(!0,fb,2304),Ah.frontCW=new Ah(!0,1028,2304),Ah.frontCCW=new Ah(!0,1028,mb);class hf extends jr{constructor(i,o,h){super(),this.id=i,this._onlySymbols=h,o.on("data",p=>{p.dataType==="source"&&p.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&p.dataType==="source"&&p.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),o.on("error",()=>{this._sourceErrored=!0}),this._source=o,this._tiles={},this._cache=new zA(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=o.minTileCacheSize,this._maxTileCacheSize=o.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new ps,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(i){this.map=i,this._minTileCacheSize=this._minTileCacheSize===void 0&&i?i._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&i?i._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const i in this._tiles){const o=this._tiles[i];if(o.state!=="loaded"&&o.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(i,o){return i.isSymbolTile=this._onlySymbols,this._source.loadTile(i,o)}_unloadTile(i){if(this._source.unloadTile)return this._source.unloadTile(i,()=>{})}_abortTile(i){if(this._source.abortTile)return this._source.abortTile(i,()=>{})}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const o in this._tiles){const h=this._tiles[o];h.upload(i),h.prepare(this.map.style.imageManager)}}getIds(){return ee(this._tiles).map(i=>i.tileID).sort(zS).map(i=>i.key)}getRenderableIds(i){const o=[];for(const h in this._tiles)this._isIdRenderable(+h,i)&&o.push(this._tiles[h]);return i?o.sort((h,p)=>{const v=h.tileID,T=p.tileID,R=new G(v.canonical.x,v.canonical.y)._rotate(this.transform.angle),Y=new G(T.canonical.x,T.canonical.y)._rotate(this.transform.angle);return v.overscaledZ-T.overscaledZ||Y.y-R.y||Y.x-R.x}).map(h=>h.tileID.key):o.map(h=>h.tileID).sort(zS).map(h=>h.key)}hasRenderableParent(i){const o=this.findLoadedParent(i,0);return!!o&&this._isIdRenderable(o.tileID.key)}_isIdRenderable(i,o){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(o||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)this._tiles[i].state!=="errored"&&this._reloadTile(+i,"reloading")}}_reloadTile(i,o){const h=this._tiles[i];h&&(h.state!=="loading"&&(h.state=o),this._loadTile(h,this._tileLoaded.bind(this,h,i,o)))}_tileLoaded(i,o,h,p){if(p)if(i.state="errored",p.status!==404)this._source.fire(new aa(p,{tile:i}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const v=this.map.painter.terrain;this.update(this.transform,v.getScaledDemTileSize(),!0),v.resetTileLookupCache(this.id)}else this.update(this.transform);else i.timeAdded=an.now(),h==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(o,i),this._source.type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),this._source.fire(new oa("data",{dataType:"source",tile:i,coord:i.tileID,sourceCacheId:this.id}))}_backfillDEM(i){const o=this.getRenderableIds();for(let p=0;p<o.length;p++){const v=o[p];if(i.neighboringTiles&&i.neighboringTiles[v]){const T=this.getTileByID(v);h(i,T),h(T,i)}}function h(p,v){if(!p.dem||p.dem.borderReady)return;p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0;let T=v.tileID.canonical.x-p.tileID.canonical.x;const R=v.tileID.canonical.y-p.tileID.canonical.y,Y=Math.pow(2,p.tileID.canonical.z),te=v.tileID.key;T===0&&R===0||Math.abs(R)>1||(Math.abs(T)>1&&(Math.abs(T+Y)===1?T+=Y:Math.abs(T-Y)===1&&(T-=Y)),v.dem&&p.dem&&(p.dem.backfillBorder(v.dem,T,R),p.neighboringTiles&&p.neighboringTiles[te]&&(p.neighboringTiles[te].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,o,h,p){for(const v in this._tiles){let T=this._tiles[v];if(p[v]||!T.hasData()||T.tileID.overscaledZ<=o||T.tileID.overscaledZ>h)continue;let R=T.tileID;for(;T&&T.tileID.overscaledZ>o+1;){const te=T.tileID.scaledTo(T.tileID.overscaledZ-1);T=this._tiles[te.key],T&&T.hasData()&&(R=te)}let Y=R;for(;Y.overscaledZ>o;)if(Y=Y.scaledTo(Y.overscaledZ-1),i[Y.key]){p[R.key]=R;break}}}findLoadedParent(i,o){if(i.key in this._loadedParentTiles){const h=this._loadedParentTiles[i.key];return h&&h.tileID.overscaledZ>=o?h:null}for(let h=i.overscaledZ-1;h>=o;h--){const p=i.scaledTo(h),v=this._getLoadedTile(p);if(v)return v}}_getLoadedTile(i){const o=this._tiles[i.key];return o&&o.hasData()?o:this._cache.getByKey(this._source.reparseOverscaled?i.wrapped().key:i.canonical.key)}updateCacheSize(i,o){o=o||this._source.tileSize;const h=Math.ceil(i.width/o)+1,p=Math.ceil(i.height/o)+1,v=Math.floor(h*p*5),T=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,v):v,R=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,T):T;this._cache.setMaxSize(R)}handleWrapJump(i){const o=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,o){const h={};for(const p in this._tiles){const v=this._tiles[p];v.tileID=v.tileID.unwrapTo(v.tileID.wrap+o),h[v.tileID.key]=v}this._tiles=h;for(const p in this._timers)clearTimeout(this._timers[p]),delete this._timers[p];for(const p in this._tiles)this._setTileReloadTimer(+p,this._tiles[p])}}update(i,o,h){if(this.transform=i,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!h)return;let p;this.updateCacheSize(i,o),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(R=>new Co(R.canonical.z,R.wrap,R.canonical.z,R.canonical.x,R.canonical.y)):(p=i.coveringTiles({tileSize:o||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!h,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(p=p.filter(R=>this._source.hasTile(R)))):p=[];const v=this._updateRetainedTiles(p);if(NS(this._source.type)&&p.length!==0){const R={},Y={},te=Object.keys(v);for(const ve of te){const Ee=v[ve],Pe=this._tiles[ve];if(!Pe||Pe.fadeEndTime&&Pe.fadeEndTime<=an.now())continue;const Re=this.findLoadedParent(Ee,Math.max(Ee.overscaledZ-hf.maxOverzooming,this._source.minzoom));Re&&(this._addTile(Re.tileID),R[Re.tileID.key]=Re.tileID),Y[ve]=Ee}const de=p[p.length-1].overscaledZ;for(const ve in this._tiles){const Ee=this._tiles[ve];if(v[ve]||!Ee.hasData())continue;let Pe=Ee.tileID;for(;Pe.overscaledZ>de;){Pe=Pe.scaledTo(Pe.overscaledZ-1);const Re=this._tiles[Pe.key];if(Re&&Re.hasData()&&Y[Pe.key]){v[ve]=Ee.tileID;break}}}for(const ve in R)v[ve]||(this._coveredTiles[ve]=!0,v[ve]=R[ve])}for(const R in v)this._tiles[R].clearFadeHold();const T=function(R,Y){const te=[];for(const de in R)de in Y||te.push(de);return te}(this._tiles,v);for(const R of T){const Y=this._tiles[R];Y.hasSymbolBuckets&&!Y.holdingForFade()?Y.setHoldDuration(this.map._fadeDuration):Y.hasSymbolBuckets&&!Y.symbolFadeFinished()||this._removeTile(+R)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(+i)}_updateRetainedTiles(i){const o={};if(i.length===0)return o;const h={},p=i.reduce((te,de)=>Math.min(te,de.overscaledZ),1/0),v=i[0].overscaledZ,T=Math.max(v-hf.maxOverzooming,this._source.minzoom),R=Math.max(v+hf.maxUnderzooming,this._source.minzoom),Y={};for(const te of i){const de=this._addTile(te);o[te.key]=te,de.hasData()||p<this._source.maxzoom&&(Y[te.key]=te)}this._retainLoadedChildren(Y,p,R,o);for(const te of i){let de=this._tiles[te.key];if(de.hasData())continue;if(te.canonical.z>=this._source.maxzoom){const Ee=te.children(this._source.maxzoom)[0],Pe=this.getTile(Ee);if(Pe&&Pe.hasData()){o[Ee.key]=Ee;continue}}else{const Ee=te.children(this._source.maxzoom);if(o[Ee[0].key]&&o[Ee[1].key]&&o[Ee[2].key]&&o[Ee[3].key])continue}let ve=de.wasRequested();for(let Ee=te.overscaledZ-1;Ee>=T;--Ee){const Pe=te.scaledTo(Ee);if(h[Pe.key]||(h[Pe.key]=!0,de=this.getTile(Pe),!de&&ve&&(de=this._addTile(Pe)),de&&(o[Pe.key]=Pe,ve=de.wasRequested(),de.hasData())))break}}return o}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const o=[];let h,p=this._tiles[i].tileID;for(;p.overscaledZ>0;){if(p.key in this._loadedParentTiles){h=this._loadedParentTiles[p.key];break}o.push(p.key);const v=p.scaledTo(p.overscaledZ-1);if(h=this._getLoadedTile(v),h)break;p=v}for(const v of o)this._loadedParentTiles[v]=h}}_addTile(i){let o=this._tiles[i.key];if(o)return o;o=this._cache.getAndRemove(i),o&&(this._setTileReloadTimer(i.key,o),o.tileID=i,this._state.initializeTileState(o,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,o)));const h=Boolean(o);if(!h){const p=this.map?this.map.painter:null;o=new Un(i,this._source.tileSize*i.overscaleFactor(),this.transform.tileZoom,p,this._isRaster),this._loadTile(o,this._tileLoaded.bind(this,o,i.key,o.state))}return o?(o.uses++,this._tiles[i.key]=o,h||this._source.fire(new oa("dataloading",{tile:o,coord:o.tileID,dataType:"source"})),o):null}_setTileReloadTimer(i,o){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const h=o.getExpiryTimeout();h&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},h))}_removeTile(i){const o=this._tiles[i];o&&(o.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),o.uses>0||(o.hasData()&&o.state!=="reloading"?this._cache.add(o.tileID,o,o.getExpiryTimeout()):(o.aborted=!0,this._abortTile(o),this._unloadTile(o))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(+i);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(i,o,h){const p=[],v=this.transform;if(!v)return p;const T=v.projection.name==="globe",R=pc(v.center.lng);for(const Y in this._tiles){const te=this._tiles[Y];if(h&&te.clearQueryDebugViz(),te.holdingForFade())continue;let de;if(T){const ve=te.tileID.canonical;if(ve.z===0){const Ee=[Math.abs(y(R,...t1(ve,-1))-R),Math.abs(y(R,...t1(ve,1))-R)];de=[0,2*Ee.indexOf(Math.min(...Ee))-1]}else{const Ee=[Math.abs(y(R,...t1(ve,-1))-R),Math.abs(y(R,...t1(ve,0))-R),Math.abs(y(R,...t1(ve,1))-R)];de=[Ee.indexOf(Math.min(...Ee))-1]}}else de=[0];for(const ve of de){const Ee=i.containsTile(te,v,o,ve);Ee&&p.push(Ee)}}return p}getVisibleCoordinates(i){const o=this.getRenderableIds(i).map(h=>this._tiles[h].tileID);for(const h of o)h.projMatrix=this.transform.calculateProjMatrix(h.toUnwrapped());return o}hasTransition(){if(this._source.hasTransition())return!0;if(NS(this._source.type))for(const i in this._tiles){const o=this._tiles[i];if(o.fadeEndTime!==void 0&&o.fadeEndTime>=an.now())return!0}return!1}setFeatureState(i,o,h){this._state.updateState(i=i||"_geojsonTileLayer",o,h)}removeFeatureState(i,o,h){this._state.removeFeatureState(i=i||"_geojsonTileLayer",o,h)}getFeatureState(i,o){return this._state.getState(i=i||"_geojsonTileLayer",o)}setDependencies(i,o,h){const p=this._tiles[i];p&&p.setDependencies(o,h)}reloadTilesForDependencies(i,o){for(const h in this._tiles)this._tiles[h].hasDependency(i,o)&&this._reloadTile(+h,"reloading");this._cache.filter(h=>!h.hasDependency(i,o))}_preloadTiles(i,o){const h=new Map,p=Array.isArray(i)?i:[i],v=this.map.painter.terrain,T=this.usedForTerrain&&v?v.getScaledDemTileSize():this._source.tileSize;for(const R of p){const Y=R.coveringTiles({tileSize:T,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const te of Y)h.set(te.key,te);this.usedForTerrain&&R.updateElevation(!1)}q(Array.from(h.values()),(R,Y)=>{const te=new Un(R,this._source.tileSize*R.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(te,de=>{this._source.type==="raster-dem"&&te.dem&&this._backfillDEM(te),Y(de,te)})},o)}}function zS(r,i){const o=Math.abs(2*r.wrap)-+(r.wrap<0),h=Math.abs(2*i.wrap)-+(i.wrap<0);return r.overscaledZ-i.overscaledZ||h-o||i.canonical.y-r.canonical.y||i.canonical.x-r.canonical.x}function NS(r){return r==="raster"||r==="image"||r==="video"||r==="custom"}function t1(r,i){const o=1<<r.z;return[r.x/o+i,(r.x+1)/o+i]}hf.maxOverzooming=10,hf.maxUnderzooming=3;class xy{constructor(i,o,h){this._demTile=i,this._dem=this._demTile.dem,this._scale=o,this._offset=h}static create(i,o,h){const p=h||i.findDEMTileFor(o);if(!p||!p.dem)return;const v=p.dem,T=p.tileID,R=1<<o.canonical.z-T.canonical.z;return new xy(p,p.tileSize/vn/R,[(o.canonical.x/R-T.canonical.x)*v.dim,(o.canonical.y/R-T.canonical.y)*v.dim])}tileCoordToPixel(i,o){const h=o*this._scale+this._offset[1],p=Math.floor(i*this._scale+this._offset[0]),v=Math.floor(h);return new G(p,v)}getElevationAt(i,o,h,p){const v=i*this._scale+this._offset[0],T=o*this._scale+this._offset[1],R=Math.floor(v),Y=Math.floor(T),te=this._dem;return p=!!p,h?On(On(te.get(R,Y,p),te.get(R,Y+1,p),T-Y),On(te.get(R+1,Y,p),te.get(R+1,Y+1,p),T-Y),v-R):te.get(R,Y,p)}getElevationAtPixel(i,o,h){return this._dem.get(i,o,!!h)}getMeterToDEM(i){return(1<<this._demTile.tileID.canonical.z)*Tl(1,i)*this._dem.stride}}class FS{constructor(i,o){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new Kh(vn,16,0),this.featureIndexArray=new xh,this.promoteId=o}insert(i,o,h,p,v,T=0){const R=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(h,p,v,T);const Y=this.grid;for(let te=0;te<o.length;te++){const de=o[te],ve=[1/0,1/0,-1/0,-1/0];for(let Ee=0;Ee<de.length;Ee++){const Pe=de[Ee];ve[0]=Math.min(ve[0],Pe.x),ve[1]=Math.min(ve[1],Pe.y),ve[2]=Math.max(ve[2],Pe.x),ve[3]=Math.max(ve[3],Pe.y)}ve[0]<vn&&ve[1]<vn&&ve[2]>=0&&ve[3]>=0&&Y.insert(R,ve[0],ve[1],ve[2],ve[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new vg(new Zp(this.rawTileData)).layers,this.sourceLayerCoder=new se(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const i in this.vtLayers)this.vtFeatures[i]=[]}return this.vtLayers}query(i,o,h,p){this.loadVTLayers();const v=i.params||{},T=mr(v.filter),R=i.tileResult,Y=i.transform,te=R.bufferedTilespaceBounds,de=this.grid.query(te.min.x,te.min.y,te.max.x,te.max.y,(Re,He,Ke,mt)=>Qm(R.bufferedTilespaceGeometry,Re,He,Ke,mt));de.sort(NA);let ve=null;Y.elevation&&de.length>0&&(ve=xy.create(Y.elevation,this.tileID));const Ee={};let Pe;for(let Re=0;Re<de.length;Re++){const He=de[Re];if(He===Pe)continue;Pe=He;const Ke=this.featureIndexArray.get(He);let mt=null;this.loadMatchingFeature(Ee,Ke,T,v.layers,v.availableImages,o,h,p,(Et,ft,xt,At=0)=>(mt||(mt=mc(Et,this.tileID.canonical,i.tileTransform)),ft.queryIntersectsFeature(R,Et,xt,mt,this.z,i.transform,i.pixelPosMatrix,ve,At)))}return Ee}loadMatchingFeature(i,o,h,p,v,T,R,Y,te){const{featureIndex:de,bucketIndex:ve,sourceLayerIndex:Ee,layoutVertexArrayOffset:Pe}=o,Re=this.bucketLayerIDs[ve];if(p&&!function(Et,ft){for(let xt=0;xt<Et.length;xt++)if(ft.indexOf(Et[xt])>=0)return!0;return!1}(p,Re))return;const He=this.sourceLayerCoder.decode(Ee),Ke=this.vtLayers[He].feature(de);if(h.needGeometry){const Et=qc(Ke,!0);if(!h.filter(new Nt(this.tileID.overscaledZ),Et,this.tileID.canonical))return}else if(!h.filter(new Nt(this.tileID.overscaledZ),Ke))return;const mt=this.getId(Ke,He);for(let Et=0;Et<Re.length;Et++){const ft=Re[Et];if(p&&p.indexOf(ft)<0)continue;const xt=T[ft];if(!xt)continue;let At={};mt!==void 0&&Y&&(At=Y.getState(xt.sourceLayer||"_geojsonTileLayer",mt));const Ct=X({},R[ft]);Ct.paint=jS(Ct.paint,xt.paint,Ke,At,v),Ct.layout=jS(Ct.layout,xt.layout,Ke,At,v);const Xt=!te||te(Ke,xt,At,Pe);if(!Xt)continue;const Yt=new We(Ke,this.z,this.x,this.y,mt);Yt.layer=Ct;let hi=i[ft];hi===void 0&&(hi=i[ft]=[]),hi.push({featureIndex:de,feature:Yt,intersectionZ:Xt})}}lookupSymbolFeatures(i,o,h,p,v,T,R,Y){const te={};this.loadVTLayers();const de=mr(v);for(const ve of i)this.loadMatchingFeature(te,{bucketIndex:h,sourceLayerIndex:p,featureIndex:ve,layoutVertexArrayOffset:0},de,T,R,Y,o);return te}loadFeature(i){const{featureIndex:o,sourceLayerIndex:h}=i;this.loadVTLayers();const p=this.sourceLayerCoder.decode(h),v=this.vtFeatures[p];if(v[o])return v[o];const T=this.vtLayers[p].feature(o);return v[o]=T,T}hasLayer(i){for(const o of this.bucketLayerIDs)for(const h of o)if(i===h)return!0;return!1}getId(i,o){let h=i.id;if(this.promoteId){const p=typeof this.promoteId=="string"?this.promoteId:this.promoteId[o];p!=null&&(h=i.properties[p]),typeof h=="boolean"&&(h=Number(h))}return h}}function jS(r,i,o,h,p){return Ie(r,(v,T)=>{const R=i instanceof Di?i.get(T):null;return R&&R.evaluate?R.evaluate(o,h,p):R})}function NA(r,i){return i-r}Hi(FS,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class US{constructor(i,o){this.width=i,this.height=o,this.nextRow=0,this.image=new Th({width:i,height:o}),this.positions={},this.uploaded=!1}getDash(i,o){const h=this.getKey(i,o);return this.positions[h]}trim(){const i=this.width,o=this.height=Z(this.nextRow);this.image.resize({width:i,height:o})}getKey(i,o){return i.join(",")+o}getDashRanges(i,o,h){const p=[];let v=i.length%2==1?-i[i.length-1]*h:0,T=i[0]*h,R=!0;p.push({left:v,right:T,isDash:R,zeroLength:i[0]===0});let Y=i[0];for(let te=1;te<i.length;te++){R=!R;const de=i[te];v=Y*h,Y+=de,T=Y*h,p.push({left:v,right:T,isDash:R,zeroLength:de===0})}return p}addRoundDash(i,o,h){const p=o/2;for(let v=-h;v<=h;v++){const T=this.width*(this.nextRow+h+v);let R=0,Y=i[R];for(let te=0;te<this.width;te++){te/Y.right>1&&(Y=i[++R]);const de=Math.abs(te-Y.left),ve=Math.abs(te-Y.right),Ee=Math.min(de,ve);let Pe;const Re=v/h*(p+1);if(Y.isDash){const He=p-Math.abs(Re);Pe=Math.sqrt(Ee*Ee+He*He)}else Pe=p-Math.sqrt(Ee*Ee+Re*Re);this.image.data[T+te]=Math.max(0,Math.min(255,Pe+128))}}}addRegularDash(i,o){for(let Y=i.length-1;Y>=0;--Y){const te=i[Y],de=i[Y+1];te.zeroLength?i.splice(Y,1):de&&de.isDash===te.isDash&&(de.left=te.left,i.splice(Y,1))}const h=i[0],p=i[i.length-1];h.isDash===p.isDash&&(h.left=p.left-this.width,p.right=h.right+this.width);const v=this.width*this.nextRow;let T=0,R=i[T];for(let Y=0;Y<this.width;Y++){Y/R.right>1&&(R=i[++T]);const te=Math.abs(Y-R.left),de=Math.abs(Y-R.right),ve=Math.min(te,de);this.image.data[v+Y]=Math.max(0,Math.min(255,(R.isDash?ve:-ve)+o+128))}}addDash(i,o){const h=this.getKey(i,o);if(this.positions[h])return this.positions[h];const p=o==="round",v=p?7:0,T=2*v+1;if(this.nextRow+T>this.height)return le("LineAtlas out of space"),null;i.length===0&&i.push(1);let R=0;for(let de=0;de<i.length;de++)i[de]<0&&(le("Negative value is found in line dasharray, replacing values with 0"),i[de]=0),R+=i[de];if(R!==0){const de=this.width/R,ve=this.getDashRanges(i,this.width,de);p?this.addRoundDash(ve,de,v):this.addRegularDash(ve,o==="square"?.5*de:0)}const Y=this.nextRow+v;this.nextRow+=T;const te={tl:[Y,v],br:[R,0]};return this.positions[h]=te,te}}Hi(US,"LineAtlas");class GS{constructor(i){const o={},h=[];for(const R in i){const Y=i[R],te=o[R]={};for(const de in Y.glyphs){const ve=Y.glyphs[+de];if(!ve||ve.bitmap.width===0||ve.bitmap.height===0)continue;const Ee=ve.metrics.localGlyph?2:1,Pe={x:0,y:0,w:ve.bitmap.width+2*Ee,h:ve.bitmap.height+2*Ee};h.push(Pe),te[de]=Pe}}const{w:p,h:v}=Pg(h),T=new Th({width:p||1,height:v||1});for(const R in i){const Y=i[R];for(const te in Y.glyphs){const de=Y.glyphs[+te];if(!de||de.bitmap.width===0||de.bitmap.height===0)continue;const ve=o[R][te],Ee=de.metrics.localGlyph?2:1;Th.copy(de.bitmap,T,{x:0,y:0},{x:ve.x+Ee,y:ve.y+Ee},de.bitmap)}}this.image=T,this.positions=o}}Hi(GS,"GlyphAtlas");class FA{constructor(i){this.tileID=new Co(i.tileID.overscaledZ,i.tileID.wrap,i.tileID.canonical.z,i.tileID.canonical.x,i.tileID.canonical.y),this.tileZoom=i.tileZoom,this.uid=i.uid,this.zoom=i.zoom,this.canonical=i.tileID.canonical,this.pixelRatio=i.pixelRatio,this.tileSize=i.tileSize,this.source=i.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=i.showCollisionBoxes,this.collectResourceTiming=!!i.collectResourceTiming,this.returnDependencies=!!i.returnDependencies,this.promoteId=i.promoteId,this.enableTerrain=!!i.enableTerrain,this.isSymbolTile=i.isSymbolTile,this.tileTransform=$d(i.tileID.canonical,i.projection),this.projection=i.projection}parse(i,o,h,p,v){this.status="parsing",this.data=i,this.collisionBoxArray=new Bm;const T=new se(Object.keys(i.layers).sort()),R=new FS(this.tileID,this.promoteId);R.bucketLayerIDs=[];const Y={},te=new US(256,256),de={featureIndex:R,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:te,availableImages:h},ve=o.familiesBySource[this.source];for(const At in ve){const Ct=i.layers[At];if(!Ct)continue;let Xt=!1,Yt=!1;for(const ii of ve[At])ii[0].type==="symbol"?Xt=!0:Yt=!0;if(this.isSymbolTile===!0&&!Xt||this.isSymbolTile===!1&&!Yt)continue;Ct.version===1&&le(`Vector tile source "${this.source}" layer "${At}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const hi=T.encode(At),Li=[];for(let ii=0;ii<Ct.length;ii++){const mi=Ct.feature(ii),_i=R.getId(mi,At);Li.push({feature:mi,id:_i,index:ii,sourceLayerIndex:hi})}for(const ii of ve[At]){const mi=ii[0];this.isSymbolTile!==void 0&&mi.type==="symbol"!==this.isSymbolTile||mi.minzoom&&this.zoom<Math.floor(mi.minzoom)||mi.maxzoom&&this.zoom>=mi.maxzoom||mi.visibility!=="none"&&(gb(ii,this.zoom,h),(Y[mi.id]=mi.createBucket({index:R.bucketLayerIDs.length,layers:ii,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:hi,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:h})).populate(Li,de,this.tileID.canonical,this.tileTransform),R.bucketLayerIDs.push(ii.map(_i=>_i.id)))}}let Ee,Pe,Re,He;te.trim();const Ke={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},mt=Ie(de.glyphDependencies,At=>Object.keys(At).map(Number));Object.keys(mt).length?p.send("getGlyphs",{uid:this.uid,stacks:mt},(At,Ct)=>{Ee||(Ee=At,Pe=Ct,xt.call(this))},void 0,!1,Ke):Pe={};const Et=Object.keys(de.iconDependencies);Et.length?p.send("getImages",{icons:Et,source:this.source,tileID:this.tileID,type:"icons"},(At,Ct)=>{Ee||(Ee=At,Re=Ct,xt.call(this))},void 0,!1,Ke):Re={};const ft=Object.keys(de.patternDependencies);function xt(){if(Ee)return v(Ee);if(Pe&&Re&&He){const At=new GS(Pe),Ct=new Kc(Re,He);for(const Xt in Y){const Yt=Y[Xt];Yt instanceof od?(gb(Yt.layers,this.zoom,h),H2(Yt,Pe,At.positions,Re,Ct.iconPositions,this.showCollisionBoxes,h,this.tileID.canonical,this.tileZoom,this.projection)):Yt.hasPattern&&(Yt instanceof k0||Yt instanceof x0||Yt instanceof qp)&&(gb(Yt.layers,this.zoom,h),Yt.addFeatures(de,this.tileID.canonical,Ct.patternPositions,h,this.tileTransform))}this.status="done",v(null,{buckets:ee(Y).filter(Xt=>!Xt.isEmpty()),featureIndex:R,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:At.image,lineAtlas:te,imageAtlas:Ct,glyphMap:this.returnDependencies?Pe:null,iconMap:this.returnDependencies?Re:null,glyphPositions:this.returnDependencies?At.positions:null})}}ft.length?p.send("getImages",{icons:ft,source:this.source,tileID:this.tileID,type:"patterns"},(At,Ct)=>{Ee||(Ee=At,He=Ct,xt.call(this))},void 0,!1,Ke):He={},xt.call(this)}}function gb(r,i,o){const h=new Nt(i);for(const p of r)p.recalculate(h,o)}class VS{constructor(i){this.entries={},this.scheduler=i}request(i,o,h,p){const v=this.entries[i]=this.entries[i]||{callbacks:[]};if(v.result){const[T,R]=v.result;return this.scheduler?this.scheduler.add(()=>{p(T,R)},o):p(T,R),()=>{}}return v.callbacks.push(p),v.cancel||(v.cancel=h((T,R)=>{v.result=[T,R];for(const Y of v.callbacks)this.scheduler?this.scheduler.add(()=>{Y(T,R)},o):Y(T,R);setTimeout(()=>delete this.entries[i],3e3)})),()=>{v.result||(v.callbacks=v.callbacks.filter(T=>T!==p),v.callbacks.length||(v.cancel(),delete this.entries[i]))}}}function HS(r,i,o){const h=JSON.stringify(r.request);return r.data&&(this.deduped.entries[h]={result:[null,r.data]}),this.deduped.request(h,{type:"parseTile",isSymbolTile:r.isSymbolTile,zoom:r.tileZoom},p=>{const v=Xi(r.request,(T,R,Y,te)=>{T?p(T):R&&p(null,{vectorTile:o?void 0:new vg(new Zp(R)),rawData:R,cacheControl:Y,expires:te})});return()=>{v.cancel(),p()}},i)}n.ARRAY_TYPE=$a,n.AUTH_ERR_MSG=fs,n.Aabb=ma,n.Actor=class{constructor(r,i,o){this.target=r,this.parent=i,this.mapId=o,this.callbacks={},this.cancelCallbacks={},ue(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Oe()?r:S,this.scheduler=new A}send(r,i,o,h,p=!1,v){const T=Math.round(1e18*Math.random()).toString(36).substring(0,10);o&&(o.metadata=v,this.callbacks[T]=o);const R=lt(this.globalScope)?void 0:[];return this.target.postMessage({id:T,type:r,hasCallback:!!o,targetMapId:h,mustQueue:p,sourceMapId:this.mapId,data:Vc(i,R)},R),{cancel:()=>{o&&delete this.callbacks[T],this.target.postMessage({id:T,type:"<cancel>",targetMapId:h,sourceMapId:this.mapId})}}}receive(r){const i=r.data,o=i.id;if(o&&(!i.targetMapId||this.mapId===i.targetMapId))if(i.type==="<cancel>"){const h=this.cancelCallbacks[o];delete this.cancelCallbacks[o],h&&h.cancel()}else if(i.mustQueue||Oe()){const h=this.callbacks[o];this.cancelCallbacks[o]=this.scheduler.add(()=>this.processTask(o,i),h&&h.metadata||{type:"message"})}else this.processTask(o,i)}processTask(r,i){if(i.type==="<response>"){const o=this.callbacks[r];delete this.callbacks[r],o&&(i.error?o(Md(i.error)):o(null,Md(i.data)))}else{const o=lt(this.globalScope)?void 0:[],h=i.hasCallback?(v,T)=>{delete this.cancelCallbacks[r],this.target.postMessage({id:r,type:"<response>",sourceMapId:this.mapId,error:v?Vc(v):null,data:Vc(T,o)},o)}:v=>{},p=Md(i.data);if(this.parent[i.type])this.parent[i.type](i.sourceMapId,p,h);else if(this.parent.getWorkerSource){const v=i.type.split(".");this.parent.getWorkerSource(i.sourceMapId,v[0],p.source)[v[1]](p,h)}else h(new Error(`Could not find function ${i.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},n.CanonicalTileID=M0,n.Color=rr,n.ColorMode=ad,n.CullFaceMode=Ah,n.DEMData=cf,n.DataConstantProperty=jt,n.DedupedRequest=VS,n.DepthMode=Y0,n.EXTENT=vn,n.Elevation=class{isDataAvailableAtPoint(r){const i=this._source();if(this.isUsingMockSource()||!i||r.y<0||r.y>1)return!1;const o=i.getSource().maxzoom,h=1<<o,p=Math.floor(r.x),v=Math.floor((r.x-p)*h),T=Math.floor(r.y*h),R=this.findDEMTileFor(new Co(o,p,o,v,T));return!(!R||!R.dem)}getAtPointOrZero(r,i=0){return this.getAtPoint(r,i)||0}getAtPoint(r,i,o=!0){if(this.isUsingMockSource())return null;i==null&&(i=null);const h=this._source();if(!h||r.y<0||r.y>1)return i;const p=h.getSource().maxzoom,v=1<<p,T=Math.floor(r.x),R=r.x-T,Y=new Co(p,T,p,Math.floor(R*v),Math.floor(r.y*v)),te=this.findDEMTileFor(Y);if(!te||!te.dem)return i;const de=te.dem,ve=1<<te.tileID.canonical.z,Ee=(R*ve-te.tileID.canonical.x)*de.dim,Pe=(r.y*ve-te.tileID.canonical.y)*de.dim,Re=Math.floor(Ee),He=Math.floor(Pe);return(o?this.exaggeration():1)*On(On(de.get(Re,He),de.get(Re,He+1),Pe-He),On(de.get(Re+1,He),de.get(Re+1,He+1),Pe-He),Ee-Re)}getAtTileOffset(r,i,o){const h=1<<r.canonical.z;return this.getAtPointOrZero(new Id(r.wrap+(r.canonical.x+i/vn)/h,(r.canonical.y+o/vn)/h))}getAtTileOffsetFunc(r,i,o,h){return p=>{const v=this.getAtTileOffset(r,p.x,p.y),T=h.upVector(r.canonical,p.x,p.y);return El(T,T,v*h.upVectorScale(r.canonical,i,o).metersToTile),T}}getForTilePoints(r,i,o,h){if(this.isUsingMockSource())return!1;const p=xy.create(this,r,h);return!!p&&(i.forEach(v=>{v[2]=this.exaggeration()*p.getElevationAt(v[0],v[1],o)}),!0)}getMinMaxForTile(r){if(this.isUsingMockSource())return null;const i=this.findDEMTileFor(r);if(!i||!i.dem)return null;const o=i.dem.tree,h=i.tileID,p=1<<r.canonical.z-h.canonical.z;let v=r.canonical.x/p-h.canonical.x,T=r.canonical.y/p-h.canonical.y,R=0;for(let Y=0;Y<r.canonical.z-h.canonical.z&&!o.leaves[R];Y++){v*=2,T*=2;const te=2*Math.floor(T)+Math.floor(v);R=o.childOffsets[R]+te,v%=1,T%=1}return{min:this.exaggeration()*o.minimums[R],max:this.exaggeration()*o.maximums[R]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(r,i,o){throw new Error("Pure virtual method called.")}pointCoordinate(r){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(r){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},n.ErrorEvent=aa,n.EvaluationParameters=Nt,n.Event=oa,n.Evented=jr,n.FillExtrusionBucket=qp,n.Frustum=cg,n.FrustumCorners=lg,n.GLOBE_METERS_TO_ECEF=jg,n.GLOBE_RADIUS=Mh,n.GLOBE_SCALE_MATCH_LATITUDE=45,n.GLOBE_ZOOM_THRESHOLD_MAX=6,n.GLOBE_ZOOM_THRESHOLD_MIN=5,n.GlobeSharedBuffers=class{constructor(r){this._createGrid(r),this._createPoles(r)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const r of this._poleSegments)r.destroy();for(const r of this._gridSegments)r.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const r of this._wireframeSegments)r.destroy()}}_createGrid(r){const i=new Es,o=new Eo,h=65;for(let p=0;p<h;p++)for(let v=0;v<h;v++)i.emplaceBack(v,p);this._gridSegments=[];for(let p=0,v=0;p<Fu.length;p++){const T=Fu[p];for(let Y=0;Y<T;Y++)for(let te=0;te<64;te++){const de=Y*h+te;o.emplaceBack(de+1,de,de+h),o.emplaceBack(de+h,de+h+1,de+1)}const R=64*T*2;this._gridSegments.push(Hr.simpleSegment(0,v,(T+1)*h,R)),v+=R}this._gridBuffer=r.createVertexBuffer(i,Qp.members),this._gridIndexBuffer=r.createIndexBuffer(o,!0)}_createPoles(r){const i=new Eo;for(let p=0;p<=Nu;p++)i.emplaceBack(0,p+1,p+2);this._poleIndexBuffer=r.createIndexBuffer(i,!0);const o=new Zn,h=new Zn;this._poleSegments=[];for(let p=0,v=0;p<5;p++){const T=360/(1<<p);o.emplaceBack(0,-Mh,0,.5,0),h.emplaceBack(0,-Mh,0,.5,1);for(let R=0;R<=Nu;R++){const Y=R/Nu,te=On(0,T,Y),[de,ve,Ee]=ju(K2,Wg,te,Mh);o.emplaceBack(de,ve,Ee,Y,0),h.emplaceBack(de,ve,Ee,Y,1)}this._poleSegments.push(Hr.simpleSegment(v,0,66,64)),v+=66}this._poleNorthVertexBuffer=r.createVertexBuffer(o,Ng,!1),this._poleSouthVertexBuffer=r.createVertexBuffer(h,Ng,!1)}getGridBuffers(r){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[r]]}getPoleBuffers(r){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[r]]}getWirefameBuffers(r,i){if(!this._wireframeSegments){const o=new jl,h=Nu,p=h+1;this._wireframeSegments=[];for(let v=0,T=0;v<Fu.length;v++){const R=Fu[v];for(let te=0;te<R;te++)for(let de=0;de<h;de++){const ve=te*p+de;o.emplaceBack(ve,ve+1),o.emplaceBack(ve,ve+p),o.emplaceBack(ve,ve+p+1)}const Y=R*h*3;this._wireframeSegments.push(Hr.simpleSegment(0,T,(R+1)*p,Y)),T+=Y}this._wireframeIndexBuffer=r.createIndexBuffer(o)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[i]]}},n.GlyphManager=qr,n.ImagePosition=D0,n.LivePerformanceUtils=Fi,n.LngLat=hs,n.LngLatBounds=wh,n.LocalGlyphMode=Lg,n.MAX_MERCATOR_LATITUDE=jo,n.MercatorCoordinate=Id,n.ONE_EM=Zs,n.OverscaledTileID=Co,n.PerformanceMarkers=ui,n.Properties=un,n.RGBAImage=qa,n.Ray=g0,n.RequestManager=class{constructor(r,i,o){this._transformRequestFn=r,this._customAccessToken=i,this._silenceAuthErrors=!!o,this._createSkuToken()}_createSkuToken(){const r=function(){let i="";for(let o=0;o<10;o++)i+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",E,i].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(r,i){return this._transformRequestFn&&this._transformRequestFn(r,i)||{url:r}}normalizeStyleURL(r,i){if(!Bs(r))return r;const o=ur(r);return o.path=`/styles/v1${o.path}`,this._makeAPIURL(o,this._customAccessToken||i)}normalizeGlyphsURL(r,i){if(!Bs(r))return r;const o=ur(r);return o.path=`/fonts/v1${o.path}`,this._makeAPIURL(o,this._customAccessToken||i)}normalizeSourceURL(r,i,o,h){if(!Bs(r))return r;const p=ur(r);return p.path=`/v4/${p.authority}.json`,p.params.push("secure"),o&&p.params.push(`language=${o}`),h&&p.params.push(`worldview=${h}`),this._makeAPIURL(p,this._customAccessToken||i)}normalizeSpriteURL(r,i,o,h){const p=ur(r);return Bs(r)?(p.path=`/styles/v1${p.path}/sprite${i}${o}`,this._makeAPIURL(p,this._customAccessToken||h)):(p.path+=`${i}${o}`,Oa(p))}normalizeTileURL(r,i,o){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!Bs(r))return r;const h=ur(r);h.path=h.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${i||o&&h.authority!=="raster"&&o===512?"@2x":""}${W.supported?".webp":"$1"}`),h.authority==="raster"?h.path=`/${B.RASTER_URL_PREFIX}${h.path}`:(h.path=h.path.replace(/^.+\/v4\//,"/"),h.path=`/${B.TILE_URL_VERSION}${h.path}`);const p=this._customAccessToken||function(v){for(const T of v){const R=T.match(/^access_token=(.*)$/);if(R)return R[1]}return null}(h.params)||B.ACCESS_TOKEN;return B.REQUIRE_ACCESS_TOKEN&&p&&this._skuToken&&h.params.push(`sku=${this._skuToken}`),this._makeAPIURL(h,p)}canonicalizeTileURL(r,i){const o=ur(r);if(!o.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!o.path.match(/\.[\w]+$/))return r;let h="mapbox://";o.path.match(/^\/raster\/v1\//)?h+=`raster/${o.path.replace(`/${B.RASTER_URL_PREFIX}/`,"")}`:h+=`tiles/${o.path.replace(`/${B.TILE_URL_VERSION}/`,"")}`;let p=o.params;return i&&(p=p.filter(v=>!v.match(/^access_token=/))),p.length&&(h+=`?${p.join("&")}`),h}canonicalizeTileset(r,i){const o=!!i&&Bs(i),h=[];for(const p of r.tiles||[])Ji(p)?h.push(this.canonicalizeTileURL(p,o)):h.push(p);return h}_makeAPIURL(r,i){const o="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",h=ur(B.API_URL);if(r.protocol=h.protocol,r.authority=h.authority,r.protocol==="http"){const p=r.params.indexOf("secure");p>=0&&r.params.splice(p,1)}if(h.path!=="/"&&(r.path=`${h.path}${r.path}`),!B.REQUIRE_ACCESS_TOKEN)return Oa(r);if(i=i||B.ACCESS_TOKEN,!this._silenceAuthErrors){if(!i)throw new Error(`An API access token is required to use Mapbox GL. ${o}`);if(i[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${o}`)}return r.params=r.params.filter(p=>p.indexOf("access_token")===-1),r.params.push(`access_token=${i||""}`),Oa(r)}},n.ResourceType=Qt,n.SegmentVector=Hr,n.SourceCache=hf,n.StencilMode=pb,n.StructArrayLayout1ui2=vh,n.StructArrayLayout2f1f2i16=No,n.StructArrayLayout2i4=Es,n.StructArrayLayout2ui4=jl,n.StructArrayLayout3f12=bl,n.StructArrayLayout3ui6=Eo,n.StructArrayLayout4i8=Ls,n.StructArrayLayout5f20=Zn,n.Texture=lf,n.Tile=Un,n.Transitionable=ci,n.Uniform1f=xu,n.Uniform1i=class extends $c{constructor(r){super(r),this.current=0}set(r,i,o){this.fetchUniformLocation(r,i)&&this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))}},n.Uniform2f=class extends $c{constructor(r){super(r),this.current=[0,0]}set(r,i,o){this.fetchUniformLocation(r,i)&&(o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1])))}},n.Uniform3f=class extends $c{constructor(r){super(r),this.current=[0,0,0]}set(r,i,o){this.fetchUniformLocation(r,i)&&(o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2])))}},n.Uniform4f=s_,n.UniformColor=r_,n.UniformMatrix2f=class extends $c{constructor(r){super(r),this.current=a_}set(r,i,o){if(this.fetchUniformLocation(r,i)){for(let h=0;h<4;h++)if(o[h]!==this.current[h]){this.current=o,this.gl.uniformMatrix2fv(this.location,!1,o);break}}}},n.UniformMatrix3f=class extends $c{constructor(r){super(r),this.current=o_}set(r,i,o){if(this.fetchUniformLocation(r,i)){for(let h=0;h<9;h++)if(o[h]!==this.current[h]){this.current=o,this.gl.uniformMatrix3fv(this.location,!1,o);break}}}},n.UniformMatrix4f=class extends $c{constructor(r){super(r),this.current=Ix}set(r,i,o){if(this.fetchUniformLocation(r,i)){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(let h=1;h<16;h++)if(o[h]!==this.current[h]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}}}},n.UnwrappedTileID=j_,n.ValidationError=Wi,n.VectorTileFeature=S0,n.VectorTileWorkerSource=class extends jr{constructor(r,i,o,h,p){super(),this.actor=r,this.layerIndex=i,this.availableImages=o,this.loadVectorData=p||HS,this.loading={},this.loaded={},this.deduped=new VS(r.scheduler),this.isSpriteLoaded=h,this.scheduler=r.scheduler}loadTile(r,i){const o=r.uid,h=r&&r.request,p=h&&h.collectResourceTiming,v=this.loading[o]=new FA(r);v.abort=this.loadVectorData(r,(T,R)=>{const Y=!this.loading[o];if(delete this.loading[o],Y||T||!R)return v.status="done",Y||(this.loaded[o]=v),i(T);const te=R.rawData,de={};R.expires&&(de.expires=R.expires),R.cacheControl&&(de.cacheControl=R.cacheControl),v.vectorTile=R.vectorTile||new vg(new Zp(te));const ve=()=>{v.parse(v.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ee,Pe)=>{if(Ee||!Pe)return i(Ee);const Re={};if(p){const He=pn(h);He.length>0&&(Re.resourceTiming=JSON.parse(JSON.stringify(He)))}i(null,X({rawTileData:te.slice(0)},Pe,de,Re))})};this.isSpriteLoaded?ve():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(ve,{type:"parseTile",isSymbolTile:r.isSymbolTile,zoom:r.tileZoom}):ve()}),this.loaded=this.loaded||{},this.loaded[o]=v})}reloadTile(r,i){const o=this.loaded,h=r.uid,p=this;if(o&&o[h]){const v=o[h];v.showCollisionBoxes=r.showCollisionBoxes,v.enableTerrain=!!r.enableTerrain,v.projection=r.projection,v.tileTransform=$d(r.tileID.canonical,r.projection);const T=(R,Y)=>{const te=v.reloadCallback;te&&(delete v.reloadCallback,v.parse(v.vectorTile,p.layerIndex,this.availableImages,p.actor,te)),i(R,Y)};v.status==="parsing"?v.reloadCallback=T:v.status==="done"&&(v.vectorTile?v.parse(v.vectorTile,this.layerIndex,this.availableImages,this.actor,T):T())}}abortTile(r,i){const o=r.uid,h=this.loading[o];h&&(h.abort&&h.abort(),delete this.loading[o]),i()}removeTile(r,i){const o=this.loaded,h=r.uid;o&&o[h]&&delete o[h],i()}},n.WritingMode=zn,n.add=Xc,n.addDynamicAttributes=W0,n.adjoint=function(r,i){var o=i[0],h=i[1],p=i[2],v=i[3],T=i[4],R=i[5],Y=i[6],te=i[7],de=i[8];return r[0]=T*de-R*te,r[1]=p*te-h*de,r[2]=h*R-p*T,r[3]=R*Y-v*de,r[4]=o*de-p*Y,r[5]=p*v-o*R,r[6]=v*te-T*Y,r[7]=h*Y-o*te,r[8]=o*T-h*v,r},n.asyncAll=q,n.bezier=L,n.bindAll=ue,n.boundsAttributes=on,n.bufferConvexPolygon=function(r,i){const o=[];for(let h=0;h<r.length;h++){const p=P(h-1,-1,r.length-1),v=P(h+1,-1,r.length-1),T=r[h],R=r[v],Y=r[p].sub(T).unit(),te=R.sub(T).unit(),de=te.angleWithSep(Y.x,Y.y),ve=Y.add(te).unit().mult(-1*i/Math.sin(de/2));o.push(T.add(ve))}return o},n.cacheEntryPossiblyAdded=function(r){wi++,wi>at&&(r.getActor().send("enforceCacheSizeLimit",Ye),wi=0)},n.calculateGlobeLabelMatrix=function(r,i){const{x:o,y:h}=r.point,p=U0(o,h,r.worldSize/r._pixelsPerMercatorPixel,0,0);return Rd(p,p,Vg(Jc(i)))},n.calculateGlobeMatrix=function(r){const{x:i,y:o}=r.point,{lng:h,lat:p}=r._center;return U0(i,o,r.worldSize,h,p)},n.calculateGlobeMercatorMatrix=function(r){const i=r.pixelsPerMeter,o=i/Tl(1,r.center.lat),h=Ul(new Float64Array(16));return zp(h,h,[r.point.x,r.point.y,0]),Bd(h,h,[o,o,i]),Float32Array.from(h)},n.circumferenceAtLatitude=Vm,n.clamp=y,n.clearTileCache=function(r){if(!gt())return;const i=S.caches.delete(De);r&&i.catch(r).then(()=>r())},n.clipLine=ny,n.clone=function(r){var i=new $a(16);return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],i},n.clone$1=be,n.collisionCircleLayout=C2,n.config=B,n.conjugate=function(r,i){return r[0]=-i[0],r[1]=-i[1],r[2]=-i[2],r[3]=i[3],r},n.create=function(){var r=new $a(16);return $a!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r},n.create$1=p_,n.createExpression=yi,n.createLayout=Zi,n.createStyleLayer=function(r){return r.type==="custom"?new cb(r):new db[r.type](r)},n.cross=rg,n.degToRad=N,n.distance=function(r,i){return Math.hypot(i[0]-r[0],i[1]-r[1],i[2]-r[2])},n.div=function(r,i,o){return r[0]=i[0]/o[0],r[1]=i[1]/o[1],r[2]=i[2]/o[2],r},n.dot=Gl,n.earthRadius=Dd,n.ease=f,n.easeCubicInOut=w,n.ecefToLatLng=function([r,i,o]){const h=Math.hypot(r,i,o),p=Math.atan2(r,o),v=.5*Math.PI-Math.acos(-i/h);return new hs(F(p),F(v))},n.emitValidationErrors=Xf,n.endsWith=ye,n.enforceCacheSizeLimit=function(r){Ut(),ze&&ze.then(i=>{i.keys().then(o=>{for(let h=0;h<o.length-r;h++)i.delete(o[h])})})},n.evaluateSizeForFeature=vc,n.evaluateSizeForZoom=Ou,n.evaluateVariableOffset=Rg,n.evented=bt,n.exactEquals=function(r,i){return r[0]===i[0]&&r[1]===i[1]&&r[2]===i[2]&&r[3]===i[3]},n.exactEquals$1=function(r,i){return r[0]===i[0]&&r[1]===i[1]&&r[2]===i[2]},n.exported=an,n.exported$1=W,n.extend=X,n.extend$1=$s,n.fillExtrusionHeightLift=wg,n.filterObject=ae,n.fromMat4=function(r,i){return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[4],r[4]=i[5],r[5]=i[6],r[6]=i[8],r[7]=i[9],r[8]=i[10],r},n.fromQuat=function(r,i){var o=i[0],h=i[1],p=i[2],v=i[3],T=o+o,R=h+h,Y=p+p,te=o*T,de=h*T,ve=h*R,Ee=p*T,Pe=p*R,Re=p*Y,He=v*T,Ke=v*R,mt=v*Y;return r[0]=1-ve-Re,r[1]=de+mt,r[2]=Ee-Ke,r[3]=0,r[4]=de-mt,r[5]=1-te-Re,r[6]=Pe+He,r[7]=0,r[8]=Ee+Ke,r[9]=Pe-He,r[10]=1-te-ve,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},n.fromRotation=function(r,i){var o=Math.sin(i),h=Math.cos(i);return r[0]=h,r[1]=o,r[2]=0,r[3]=-o,r[4]=h,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},n.fromScaling=ig,n.furthestTileCorner=function(r){const i=Math.round((r+45+360)%360/90)%4;return $[i]},n.getAABBPointSquareDist=function(r,i,o){let h=0;for(let p=0;p<2;++p){const v=o?o[p]:0;r[p]>v&&(h+=(r[p]-v)*(r[p]-v)),i[p]<v&&(h+=(v-i[p])*(v-i[p]))}return h},n.getAnchorAlignment=Ig,n.getAnchorJustification=Bg,n.getBounds=function(r){let i=1/0,o=1/0,h=-1/0,p=-1/0;for(const v of r)i=Math.min(i,v.x),o=Math.min(o,v.y),h=Math.max(h,v.x),p=Math.max(p,v.y);return{min:new G(i,o),max:new G(h,p)}},n.getColumn=pt,n.getGridMatrix=function(r,i,o,h){const p=i.getNorth(),v=i.getSouth(),T=i.getWest(),R=i.getEast(),Y=1<<r.z,te=R-T,de=p-v,ve=te/Nu,Ee=-de/Fu[o],Pe=[0,ve,0,Ee,0,0,p,T,0];if(r.z>0){const Re=180/h;Cu(Pe,Pe,[Re/te+1,0,0,0,Re/de+1,0,-.5*Re/ve,.5*Re/Ee,1])}return Pe[2]=Y,Pe[5]=r.x,Pe[8]=r.y,Pe},n.getImage=Tr,n.getJSON=function(r,i){return Ni(X(r,{type:"json"}),i)},n.getLatitudinalLod=function(r){const i=80.051129;r=y(r,-80.051129,i)/i*90;const o=Math.pow(Math.abs(Math.sin(N(r))),3);return Math.round(o*(Fu.length-1))},n.getMapSessionAPI=Dt,n.getPerformanceMeasurement=pn,n.getProjection=yy,n.getRTLTextPluginStatus=Ot,n.getReferrer=Ki,n.getTilePoint=function(r,{x:i,y:o},h=0){return new G(((i-h)*r.scale-r.x)*vn,(o*r.scale-r.y)*vn)},n.getTileVec3=function(r,i,o=0){return Nd(((i.x-o)*r.scale-r.x)*vn,(i.y*r.scale-r.y)*vn,Hm(i.z,i.y))},n.getVideo=function(r,i){const o=S.document.createElement("video");o.muted=!0,o.onloadstart=function(){i(null,o)};for(let h=0;h<r.length;h++){const p=S.document.createElement("source");Gi(r[h])||(o.crossOrigin="Anonymous"),p.src=r[h],o.appendChild(p)}return{cancel:()=>{}}},n.globeCenterToScreenPoint=function(r){const i=[0,0,0],o=Ul(new Float64Array(16));return Rd(o,r.pixelMatrix,r.globeMatrix),Br(i,i,o),new G(i[0],i[1])},n.globeDenormalizeECEF=Vg,n.globeECEFOrigin=function(r,i){const o=[0,0,0];return Br(o,o,nf(Jc(i.canonical))),Br(o,o,r),o},n.globeNormalizeECEF=nf,n.globePixelsToTileUnits=function(r,i){return vn/(512*Math.pow(2,r))*j0(Jc(i))},n.globePoleMatrixForTile=function(r,i,o){const h=Ul(new Float64Array(16)),p=(i/(1<<r)-.5)*Math.PI*2;return Np(h,o.globeMatrix,p),Float32Array.from(h)},n.globeTileBounds=Jc,n.globeTiltAtLngLat=Hg,n.globeToMercatorTransition=Hd,n.globeUseCustomAntiAliasing=function(r,i,o){const h=Hd(o.zoom),p=r.style.map._antialias,v=!!i.extStandardDerivatives,T=i.extStandardDerivativesForceOff||r.terrain&&r.terrain.exaggeration()>0;return h===0&&!p&&!T&&v},n.identity=Ul,n.identity$1=ag,n.invert=f0,n.isFullscreen=function(){return!!S.document.fullscreenElement||!!S.document.webkitFullscreenElement},n.isLngLatBehindGlobe=$g,n.isMapAuthenticated=function(r){return $t.has(r)},n.isMapboxURL=Bs,n.isSafariWithAntialiasingBug=function(r){const i=r.navigator?r.navigator.userAgent:null;return!!lt(r)&&i&&(i.match("Version/15.4")||i.match("Version/15.5")||i.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},n.latFromMercatorY=Fo,n.latLngToECEF=ef,n.len=Fx,n.length=zd,n.length$1=function(r){return Math.hypot(r[0],r[1],r[2],r[3])},n.lngFromMercatorX=Ma,n.loadVectorTile=HS,n.makeRequest=Ni,n.mapValue=function(r,i,o,h,p){return y((r-i)/(o-i)*(p-h)+h,h,p)},n.mercatorScale=$m,n.mercatorXfromLng=pc,n.mercatorYfromLat=Sl,n.mercatorZfromAltitude=Tl,n.mul=ng,n.mul$1=Nx,n.multiply=Rd,n.multiply$1=Cu,n.multiply$2=sg,n.nextPowerOfTwo=Z,n.normalize=fa,n.normalize$1=jx,n.normalize$2=__,n.number=On,n.ortho=function(r,i,o,h,p,v,T){var R=1/(i-o),Y=1/(h-p),te=1/(v-T);return r[0]=-2*R,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*Y,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*te,r[11]=0,r[12]=(i+o)*R,r[13]=(p+h)*Y,r[14]=(T+v)*te,r[15]=1,r},n.pbf=Zp,n.perspective=function(r,i,o,h,p){var v,T=1/Math.tan(i/2);return r[0]=T/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=T,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,p!=null&&p!==1/0?(r[10]=(p+h)*(v=1/(h-p)),r[14]=2*p*h*v):(r[10]=-1,r[14]=-2*h),r},n.pick=function(r,i){const o={};for(let h=0;h<i.length;h++){const p=i[h];p in r&&(o[p]=r[p])}return o},n.plugin=qt,n.pointGeometry=G,n.polesInViewport=function(r){const i=Ul(new Float64Array(16));Rd(i,r.pixelMatrix,r.globeMatrix);const o=[0,Hl,0],h=[0,$l,0];return Br(o,o,i),Br(h,h,i),[o[0]>0&&o[0]<=r.width&&o[1]>0&&o[1]<=r.height&&!$g(r,new hs(r.center.lat,90)),h[0]>0&&h[0]<=r.width&&h[1]>0&&h[1]<=r.height&&!$g(r,new hs(r.center.lat,-90))]},n.polygonContainsPoint=Od,n.polygonIntersectsBox=Qm,n.polygonIntersectsPolygon=d0,n.polygonizeBounds=function(r,i,o=0,h=!0){const p=new G(o,o),v=r.sub(p),T=i.add(p),R=[v,new G(T.x,v.y),T,new G(v.x,T.y)];return h&&R.push(v.clone()),R},n.posAttributes=Qp,n.postMapLoadEvent=_t,n.postPerformanceEvent=Rt,n.postTurnstileEvent=$e,n.potpack=Pg,n.prevPowerOfTwo=function(r){return r<=1?1:Math.pow(2,Math.floor(Math.log(r)/Math.LN2))},n.radToDeg=F,n.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],n.registerForPluginStateChange=function(r){return r({pluginStatus:ut,pluginURL:ot}),bt.on("pluginStateChange",r),r},n.removeAuthState=function(r){$t.delete(r)},n.renderColorRamp=jp,n.resample=qm,n.rotateX=tg,n.rotateX$1=y_,n.rotateY=Np,n.rotateY$1=v_,n.rotateZ=function(r,i,o){var h=Math.sin(o),p=Math.cos(o),v=i[0],T=i[1],R=i[2],Y=i[3],te=i[4],de=i[5],ve=i[6],Ee=i[7];return i!==r&&(r[8]=i[8],r[9]=i[9],r[10]=i[10],r[11]=i[11],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15]),r[0]=v*p+te*h,r[1]=T*p+de*h,r[2]=R*p+ve*h,r[3]=Y*p+Ee*h,r[4]=te*p-v*h,r[5]=de*p-T*h,r[6]=ve*p-R*h,r[7]=Ee*p-Y*h,r},n.rotateZ$1=function(r,i,o){o*=.5;var h=i[0],p=i[1],v=i[2],T=i[3],R=Math.sin(o),Y=Math.cos(o);return r[0]=h*Y+p*R,r[1]=p*Y-h*R,r[2]=v*Y+T*R,r[3]=T*Y-v*R,r},n.scale=Bd,n.scale$1=g_,n.scale$2=El,n.scaleAndAdd=ku,n.set=function(r,i,o,h){return r[0]=i,r[1]=o,r[2]=h,r},n.setCacheLimits=function(r,i){Ye=r,at=i},n.setColumn=function(r,i,o){r[4*i+0]=o[0],r[4*i+1]=o[1],r[4*i+2]=o[2],r[4*i+3]=o[3]},n.setRTLTextPlugin=function(r,i,o=!1){if(ut===rt||ut===ht||ut===Ze)throw new Error("setRTLTextPlugin cannot be called multiple times.");ot=an.resolveURL(r),ut=rt,Qe=i,Mt(),o||Zt()},n.smoothstep=b,n.spec=ai,n.squaredLength=function(r){var i=r[0],o=r[1],h=r[2];return i*i+o*o+h*h},n.storeAuthState=function(r,i){i?$t.add(r):$t.delete(r)},n.sub=_c,n.subtract=Au,n.symbolSize=M2,n.tileAABB=function(r,i,o,h,p,v,T,R,Y){if(Y.name==="globe")return Z2(r,i,new M0(o,h,p));const te=$d({z:o,x:h,y:p},Y);return new ma([(v+te.x/te.scale)*i,i*(te.y/te.scale),T],[(v+te.x2/te.scale)*i,i*(te.y2/te.scale),R])},n.tileCornersToBounds=F0,n.tileTransform=$d,n.transformMat3=function(r,i,o){var h=i[0],p=i[1],v=i[2];return r[0]=h*o[0]+p*o[3]+v*o[6],r[1]=h*o[1]+p*o[4]+v*o[7],r[2]=h*o[2]+p*o[5]+v*o[8],r},n.transformMat4=Br,n.transformMat4$1=id,n.transformQuat=m_,n.transitionTileAABBinECEF=dy,n.translate=zp,n.transpose=function(r,i){if(r===i){var o=i[1],h=i[2],p=i[5];r[1]=i[3],r[2]=i[6],r[3]=o,r[5]=i[7],r[6]=h,r[7]=p}else r[0]=i[0],r[1]=i[3],r[2]=i[6],r[3]=i[1],r[4]=i[4],r[5]=i[7],r[6]=i[2],r[7]=i[5],r[8]=i[8];return r},n.triggerPluginCompletionEvent=vt,n.uniqueId=fe,n.updateGlobeVertexNormal=function(r,i,o,h,p){const v=5*i+2;r.float32[v+0]=o,r.float32[v+1]=h,r.float32[v+2]=p},n.validateCustomStyleLayer=function(r){const i=[],o=r.id;return o===void 0&&i.push({message:`layers.${o}: missing required property "id"`}),r.render===void 0&&i.push({message:`layers.${o}: missing required method "render"`}),r.renderingMode&&r.renderingMode!=="2d"&&r.renderingMode!=="3d"&&i.push({message:`layers.${o}: property "renderingMode" must be either "2d" or "3d"`}),i},n.validateFilter=r=>dc(Gc(r)),n.validateFog=r=>dc(Cd(r)),n.validateLayer=r=>dc(gu(r)),n.validateLight=r=>dc(Je(r)),n.validateSource=r=>dc(Zh(r)),n.validateStyle=Ep,n.validateTerrain=r=>dc(hc(r)),n.values=ee,n.vectorTile=b0,n.version=j,n.warnOnce=le,n.window=S,n.wrap=P}),d(["./shared"],function(n){function S(dt){if(typeof dt=="number"||typeof dt=="boolean"||typeof dt=="string"||dt==null)return JSON.stringify(dt);if(Array.isArray(dt)){let $e="[";for(const ct of dt)$e+=`${S(ct)},`;return`${$e}]`}let Be="{";for(const $e of Object.keys(dt).sort())Be+=`${$e}:${S(dt[$e])},`;return`${Be}}`}function j(dt){let Be="";for(const $e of n.refProperties)Be+=`/${S(dt[$e])}`;return Be}class J{constructor(Be){this.keyCache={},Be&&this.replace(Be)}replace(Be){this._layerConfigs={},this._layers={},this.update(Be,[])}update(Be,$e){for(const _t of Be)this._layerConfigs[_t.id]=_t,(this._layers[_t.id]=n.createStyleLayer(_t)).compileFilter(),this.keyCache[_t.id]&&delete this.keyCache[_t.id];for(const _t of $e)delete this.keyCache[_t],delete this._layerConfigs[_t],delete this._layers[_t];this.familiesBySource={};const ct=function(_t,kt){const Rt={};for(let Dt=0;Dt<_t.length;Dt++){const $t=kt&&kt[_t[Dt].id]||j(_t[Dt]);kt&&(kt[_t[Dt].id]=$t);let ui=Rt[$t];ui||(ui=Rt[$t]=[]),ui.push(_t[Dt])}const Ft=[];for(const Dt in Rt)Ft.push(Rt[Dt]);return Ft}(n.values(this._layerConfigs),this.keyCache);for(const _t of ct){const kt=_t.map(Fi=>this._layers[Fi.id]),Rt=kt[0];if(Rt.visibility==="none")continue;const Ft=Rt.source||"";let Dt=this.familiesBySource[Ft];Dt||(Dt=this.familiesBySource[Ft]={});const $t=Rt.sourceLayer||"_geojsonTileLayer";let ui=Dt[$t];ui||(ui=Dt[$t]=[]),ui.push(kt)}}}class B{loadTile(Be,$e){const{uid:ct,encoding:_t,rawImageData:kt,padding:Rt,buildQuadTree:Ft}=Be,Dt=n.window.ImageBitmap&&kt instanceof n.window.ImageBitmap?this.getImageData(kt,Rt):kt;$e(null,new n.DEMData(ct,Dt,_t,Rt<1,Ft))}getImageData(Be,$e){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Be.width,Be.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=Be.width,this.offscreenCanvas.height=Be.height,this.offscreenCanvasContext.drawImage(Be,0,0,Be.width,Be.height);const ct=this.offscreenCanvasContext.getImageData(-$e,-$e,Be.width+2*$e,Be.height+2*$e);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),ct}}var W=function dt(Be,$e){var ct,_t=Be&&Be.type;if(_t==="FeatureCollection")for(ct=0;ct<Be.features.length;ct++)dt(Be.features[ct],$e);else if(_t==="GeometryCollection")for(ct=0;ct<Be.geometries.length;ct++)dt(Be.geometries[ct],$e);else if(_t==="Feature")dt(Be.geometry,$e);else if(_t==="Polygon")K(Be.coordinates,$e);else if(_t==="MultiPolygon")for(ct=0;ct<Be.coordinates.length;ct++)K(Be.coordinates[ct],$e);return Be};function K(dt,Be){if(dt.length!==0){I(dt[0],Be);for(var $e=1;$e<dt.length;$e++)I(dt[$e],!Be)}}function I(dt,Be){for(var $e=0,ct=0,_t=0,kt=dt.length,Rt=kt-1;_t<kt;Rt=_t++){var Ft=(dt[_t][0]-dt[Rt][0])*(dt[Rt][1]+dt[_t][1]),Dt=$e+Ft;ct+=Math.abs($e)>=Math.abs(Ft)?$e-Dt+Ft:Ft-Dt+$e,$e=Dt}$e+ct>=0!=!!Be&&dt.reverse()}const O=n.VectorTileFeature.prototype.toGeoJSON;class H{constructor(Be){this._feature=Be,this.extent=n.EXTENT,this.type=Be.type,this.properties=Be.tags,"id"in Be&&!isNaN(Be.id)&&(this.id=parseInt(Be.id,10))}loadGeometry(){if(this._feature.type===1){const Be=[];for(const $e of this._feature.geometry)Be.push([new n.pointGeometry($e[0],$e[1])]);return Be}{const Be=[];for(const $e of this._feature.geometry){const ct=[];for(const _t of $e)ct.push(new n.pointGeometry(_t[0],_t[1]));Be.push(ct)}return Be}}toGeoJSON(Be,$e,ct){return O.call(this,Be,$e,ct)}}class M{constructor(Be){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=Be.length,this._features=Be}feature(Be){return new H(this._features[Be])}}var E={exports:{}},k=n.pointGeometry,V=n.vectorTile.VectorTileFeature,G=C;function C(dt,Be){this.options=Be||{},this.features=dt,this.length=dt.length}function ie(dt,Be){this.id=typeof dt.id=="number"?dt.id:void 0,this.type=dt.type,this.rawGeometry=dt.type===1?[dt.geometry]:dt.geometry,this.properties=dt.tags,this.extent=Be||4096}C.prototype.feature=function(dt){return new ie(this.features[dt],this.options.extent)},ie.prototype.loadGeometry=function(){var dt=this.rawGeometry;this.geometry=[];for(var Be=0;Be<dt.length;Be++){for(var $e=dt[Be],ct=[],_t=0;_t<$e.length;_t++)ct.push(new k($e[_t][0],$e[_t][1]));this.geometry.push(ct)}return this.geometry},ie.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var dt=this.geometry,Be=1/0,$e=-1/0,ct=1/0,_t=-1/0,kt=0;kt<dt.length;kt++)for(var Rt=dt[kt],Ft=0;Ft<Rt.length;Ft++){var Dt=Rt[Ft];Be=Math.min(Be,Dt.x),$e=Math.max($e,Dt.x),ct=Math.min(ct,Dt.y),_t=Math.max(_t,Dt.y)}return[Be,ct,$e,_t]},ie.prototype.toGeoJSON=V.prototype.toGeoJSON;var Q=n.pbf,N=G;function F(dt){var Be=new Q;return function($e,ct){for(var _t in $e.layers)ct.writeMessage(3,$,$e.layers[_t])}(dt,Be),Be.finish()}function $(dt,Be){var $e;Be.writeVarintField(15,dt.version||1),Be.writeStringField(1,dt.name||""),Be.writeVarintField(5,dt.extent||4096);var ct={keys:[],values:[],keycache:{},valuecache:{}};for($e=0;$e<dt.length;$e++)ct.feature=dt.feature($e),Be.writeMessage(2,w,ct);var _t=ct.keys;for($e=0;$e<_t.length;$e++)Be.writeStringField(3,_t[$e]);var kt=ct.values;for($e=0;$e<kt.length;$e++)Be.writeMessage(4,P,kt[$e])}function w(dt,Be){var $e=dt.feature;$e.id!==void 0&&Be.writeVarintField(1,$e.id),Be.writeMessage(2,L,dt),Be.writeVarintField(3,$e.type),Be.writeMessage(4,b,$e)}function L(dt,Be){var $e=dt.feature,ct=dt.keys,_t=dt.values,kt=dt.keycache,Rt=dt.valuecache;for(var Ft in $e.properties){var Dt=$e.properties[Ft],$t=kt[Ft];if(Dt!==null){$t===void 0&&(ct.push(Ft),kt[Ft]=$t=ct.length-1),Be.writeVarint($t);var ui=typeof Dt;ui!=="string"&&ui!=="boolean"&&ui!=="number"&&(Dt=JSON.stringify(Dt));var Fi=ui+":"+Dt,Ei=Rt[Fi];Ei===void 0&&(_t.push(Dt),Rt[Fi]=Ei=_t.length-1),Be.writeVarint(Ei)}}}function f(dt,Be){return(Be<<3)+(7&dt)}function y(dt){return dt<<1^dt>>31}function b(dt,Be){for(var $e=dt.loadGeometry(),ct=dt.type,_t=0,kt=0,Rt=$e.length,Ft=0;Ft<Rt;Ft++){var Dt=$e[Ft],$t=1;ct===1&&($t=Dt.length),Be.writeVarint(f(1,$t));for(var ui=ct===3?Dt.length-1:Dt.length,Fi=0;Fi<ui;Fi++){Fi===1&&ct!==1&&Be.writeVarint(f(2,ui-1));var Ei=Dt[Fi].x-_t,fn=Dt[Fi].y-kt;Be.writeVarint(y(Ei)),Be.writeVarint(y(fn)),_t+=Ei,kt+=fn}ct===3&&Be.writeVarint(f(7,1))}}function P(dt,Be){var $e=typeof dt;$e==="string"?Be.writeStringField(1,dt):$e==="boolean"?Be.writeBooleanField(7,dt):$e==="number"&&(dt%1!=0?Be.writeDoubleField(3,dt):dt<0?Be.writeSVarintField(6,dt):Be.writeVarintField(5,dt))}function q(dt,Be,$e,ct,_t,kt){if(_t-ct<=$e)return;const Rt=ct+_t>>1;ee(dt,Be,Rt,ct,_t,kt%2),q(dt,Be,$e,ct,Rt-1,kt+1),q(dt,Be,$e,Rt+1,_t,kt+1)}function ee(dt,Be,$e,ct,_t,kt){for(;_t>ct;){if(_t-ct>600){const $t=_t-ct+1,ui=$e-ct+1,Fi=Math.log($t),Ei=.5*Math.exp(2*Fi/3),fn=.5*Math.sqrt(Fi*Ei*($t-Ei)/$t)*(ui-$t/2<0?-1:1);ee(dt,Be,$e,Math.max(ct,Math.floor($e-ui*Ei/$t+fn)),Math.min(_t,Math.floor($e+($t-ui)*Ei/$t+fn)),kt)}const Rt=Be[2*$e+kt];let Ft=ct,Dt=_t;for(X(dt,Be,ct,$e),Be[2*_t+kt]>Rt&&X(dt,Be,ct,_t);Ft<Dt;){for(X(dt,Be,Ft,Dt),Ft++,Dt--;Be[2*Ft+kt]<Rt;)Ft++;for(;Be[2*Dt+kt]>Rt;)Dt--}Be[2*ct+kt]===Rt?X(dt,Be,ct,Dt):(Dt++,X(dt,Be,Dt,_t)),Dt<=$e&&(ct=Dt+1),$e<=Dt&&(_t=Dt-1)}}function X(dt,Be,$e,ct){ce(dt,$e,ct),ce(Be,2*$e,2*ct),ce(Be,2*$e+1,2*ct+1)}function ce(dt,Be,$e){const ct=dt[Be];dt[Be]=dt[$e],dt[$e]=ct}function fe(dt,Be,$e,ct){const _t=dt-$e,kt=Be-ct;return _t*_t+kt*kt}E.exports=F,E.exports.fromVectorTileJs=F,E.exports.fromGeojsonVt=function(dt,Be){Be=Be||{};var $e={};for(var ct in dt)$e[ct]=new N(dt[ct].features,Be),$e[ct].name=ct,$e[ct].version=Be.version,$e[ct].extent=Be.extent;return F({layers:$e})},E.exports.GeoJSONWrapper=N;const Te=dt=>dt[0],Z=dt=>dt[1];class re{constructor(Be,$e=Te,ct=Z,_t=64,kt=Float64Array){this.nodeSize=_t,this.points=Be;const Rt=Be.length<65536?Uint16Array:Uint32Array,Ft=this.ids=new Rt(Be.length),Dt=this.coords=new kt(2*Be.length);for(let $t=0;$t<Be.length;$t++)Ft[$t]=$t,Dt[2*$t]=$e(Be[$t]),Dt[2*$t+1]=ct(Be[$t]);q(Ft,Dt,_t,0,Ft.length-1,0)}range(Be,$e,ct,_t){return function(kt,Rt,Ft,Dt,$t,ui,Fi){const Ei=[0,kt.length-1,0],fn=[];let pn,Qi;for(;Ei.length;){const Bi=Ei.pop(),$n=Ei.pop(),cs=Ei.pop();if($n-cs<=Fi){for(let ms=cs;ms<=$n;ms++)pn=Rt[2*ms],Qi=Rt[2*ms+1],pn>=Ft&&pn<=$t&&Qi>=Dt&&Qi<=ui&&fn.push(kt[ms]);continue}const an=Math.floor((cs+$n)/2);pn=Rt[2*an],Qi=Rt[2*an+1],pn>=Ft&&pn<=$t&&Qi>=Dt&&Qi<=ui&&fn.push(kt[an]);const Ms=(Bi+1)%2;(Bi===0?Ft<=pn:Dt<=Qi)&&(Ei.push(cs),Ei.push(an-1),Ei.push(Ms)),(Bi===0?$t>=pn:ui>=Qi)&&(Ei.push(an+1),Ei.push($n),Ei.push(Ms))}return fn}(this.ids,this.coords,Be,$e,ct,_t,this.nodeSize)}within(Be,$e,ct){return function(_t,kt,Rt,Ft,Dt,$t){const ui=[0,_t.length-1,0],Fi=[],Ei=Dt*Dt;for(;ui.length;){const fn=ui.pop(),pn=ui.pop(),Qi=ui.pop();if(pn-Qi<=$t){for(let Ms=Qi;Ms<=pn;Ms++)fe(kt[2*Ms],kt[2*Ms+1],Rt,Ft)<=Ei&&Fi.push(_t[Ms]);continue}const Bi=Math.floor((Qi+pn)/2),$n=kt[2*Bi],cs=kt[2*Bi+1];fe($n,cs,Rt,Ft)<=Ei&&Fi.push(_t[Bi]);const an=(fn+1)%2;(fn===0?Rt-Dt<=$n:Ft-Dt<=cs)&&(ui.push(Qi),ui.push(Bi-1),ui.push(an)),(fn===0?Rt+Dt>=$n:Ft+Dt>=cs)&&(ui.push(Bi+1),ui.push(pn),ui.push(an))}return Fi}(this.ids,this.coords,Be,$e,ct,this.nodeSize)}}const ue={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:dt=>dt},ye=Math.fround||(Ie=new Float32Array(1),dt=>(Ie[0]=+dt,Ie[0]));var Ie;class ae{constructor(Be){this.options=Ue(Object.create(ue),Be),this.trees=new Array(this.options.maxZoom+1)}load(Be){const{log:$e,minZoom:ct,maxZoom:_t,nodeSize:kt}=this.options;$e&&console.time("total time");const Rt=`prepare ${Be.length} points`;$e&&console.time(Rt),this.points=Be;let Ft=[];for(let Dt=0;Dt<Be.length;Dt++)Be[Dt].geometry&&Ft.push(xe(Be[Dt],Dt));this.trees[_t+1]=new re(Ft,lt,it,kt,Float32Array),$e&&console.timeEnd(Rt);for(let Dt=_t;Dt>=ct;Dt--){const $t=+Date.now();Ft=this._cluster(Ft,Dt),this.trees[Dt]=new re(Ft,lt,it,kt,Float32Array),$e&&console.log("z%d: %d clusters in %dms",Dt,Ft.length,+Date.now()-$t)}return $e&&console.timeEnd("total time"),this}getClusters(Be,$e){let ct=((Be[0]+180)%360+360)%360-180;const _t=Math.max(-90,Math.min(90,Be[1]));let kt=Be[2]===180?180:((Be[2]+180)%360+360)%360-180;const Rt=Math.max(-90,Math.min(90,Be[3]));if(Be[2]-Be[0]>=360)ct=-180,kt=180;else if(ct>kt){const ui=this.getClusters([ct,_t,180,Rt],$e),Fi=this.getClusters([-180,_t,kt,Rt],$e);return ui.concat(Fi)}const Ft=this.trees[this._limitZoom($e)],Dt=Ft.range(Se(ct),Oe(Rt),Se(kt),Oe(_t)),$t=[];for(const ui of Dt){const Fi=Ft.points[ui];$t.push(Fi.numPoints?le(Fi):this.points[Fi.index])}return $t}getChildren(Be){const $e=this._getOriginId(Be),ct=this._getOriginZoom(Be),_t="No cluster with the specified id.",kt=this.trees[ct];if(!kt)throw new Error(_t);const Rt=kt.points[$e];if(!Rt)throw new Error(_t);const Ft=this.options.radius/(this.options.extent*Math.pow(2,ct-1)),Dt=kt.within(Rt.x,Rt.y,Ft),$t=[];for(const ui of Dt){const Fi=kt.points[ui];Fi.parentId===Be&&$t.push(Fi.numPoints?le(Fi):this.points[Fi.index])}if($t.length===0)throw new Error(_t);return $t}getLeaves(Be,$e,ct){const _t=[];return this._appendLeaves(_t,Be,$e=$e||10,ct=ct||0,0),_t}getTile(Be,$e,ct){const _t=this.trees[this._limitZoom(Be)],kt=Math.pow(2,Be),{extent:Rt,radius:Ft}=this.options,Dt=Ft/Rt,$t=(ct-Dt)/kt,ui=(ct+1+Dt)/kt,Fi={features:[]};return this._addTileFeatures(_t.range(($e-Dt)/kt,$t,($e+1+Dt)/kt,ui),_t.points,$e,ct,kt,Fi),$e===0&&this._addTileFeatures(_t.range(1-Dt/kt,$t,1,ui),_t.points,kt,ct,kt,Fi),$e===kt-1&&this._addTileFeatures(_t.range(0,$t,Dt/kt,ui),_t.points,-1,ct,kt,Fi),Fi.features.length?Fi:null}getClusterExpansionZoom(Be){let $e=this._getOriginZoom(Be)-1;for(;$e<=this.options.maxZoom;){const ct=this.getChildren(Be);if($e++,ct.length!==1)break;Be=ct[0].properties.cluster_id}return $e}_appendLeaves(Be,$e,ct,_t,kt){const Rt=this.getChildren($e);for(const Ft of Rt){const Dt=Ft.properties;if(Dt&&Dt.cluster?kt+Dt.point_count<=_t?kt+=Dt.point_count:kt=this._appendLeaves(Be,Dt.cluster_id,ct,_t,kt):kt<_t?kt++:Be.push(Ft),Be.length===ct)break}return kt}_addTileFeatures(Be,$e,ct,_t,kt,Rt){for(const Ft of Be){const Dt=$e[Ft],$t=Dt.numPoints;let ui,Fi,Ei;if($t)ui=me(Dt),Fi=Dt.x,Ei=Dt.y;else{const Qi=this.points[Dt.index];ui=Qi.properties,Fi=Se(Qi.geometry.coordinates[0]),Ei=Oe(Qi.geometry.coordinates[1])}const fn={type:1,geometry:[[Math.round(this.options.extent*(Fi*kt-ct)),Math.round(this.options.extent*(Ei*kt-_t))]],tags:ui};let pn;$t?pn=Dt.id:this.options.generateId?pn=Dt.index:this.points[Dt.index].id&&(pn=this.points[Dt.index].id),pn!==void 0&&(fn.id=pn),Rt.features.push(fn)}}_limitZoom(Be){return Math.max(this.options.minZoom,Math.min(Math.floor(+Be),this.options.maxZoom+1))}_cluster(Be,$e){const ct=[],{radius:_t,extent:kt,reduce:Rt,minPoints:Ft}=this.options,Dt=_t/(kt*Math.pow(2,$e));for(let $t=0;$t<Be.length;$t++){const ui=Be[$t];if(ui.zoom<=$e)continue;ui.zoom=$e;const Fi=this.trees[$e+1],Ei=Fi.within(ui.x,ui.y,Dt),fn=ui.numPoints||1;let pn=fn;for(const Qi of Ei){const Bi=Fi.points[Qi];Bi.zoom>$e&&(pn+=Bi.numPoints||1)}if(pn>fn&&pn>=Ft){let Qi=ui.x*fn,Bi=ui.y*fn,$n=Rt&&fn>1?this._map(ui,!0):null;const cs=($t<<5)+($e+1)+this.points.length;for(const an of Ei){const Ms=Fi.points[an];if(Ms.zoom<=$e)continue;Ms.zoom=$e;const ms=Ms.numPoints||1;Qi+=Ms.x*ms,Bi+=Ms.y*ms,Ms.parentId=cs,Rt&&($n||($n=this._map(ui,!0)),Rt($n,this._map(Ms)))}ui.parentId=cs,ct.push(be(Qi/pn,Bi/pn,cs,pn,$n))}else if(ct.push(ui),pn>1)for(const Qi of Ei){const Bi=Fi.points[Qi];Bi.zoom<=$e||(Bi.zoom=$e,ct.push(Bi))}}return ct}_getOriginId(Be){return Be-this.points.length>>5}_getOriginZoom(Be){return(Be-this.points.length)%32}_map(Be,$e){if(Be.numPoints)return $e?Ue({},Be.properties):Be.properties;const ct=this.points[Be.index].properties,_t=this.options.map(ct);return $e&&_t===ct?Ue({},_t):_t}}function be(dt,Be,$e,ct,_t){return{x:ye(dt),y:ye(Be),zoom:1/0,id:$e,parentId:-1,numPoints:ct,properties:_t}}function xe(dt,Be){const[$e,ct]=dt.geometry.coordinates;return{x:ye(Se($e)),y:ye(Oe(ct)),zoom:1/0,index:Be,parentId:-1}}function le(dt){return{type:"Feature",id:dt.id,properties:me(dt),geometry:{type:"Point",coordinates:[(Be=dt.x,360*(Be-.5)),Le(dt.y)]}};var Be}function me(dt){const Be=dt.numPoints,$e=Be>=1e4?`${Math.round(Be/1e3)}k`:Be>=1e3?Math.round(Be/100)/10+"k":Be;return Ue(Ue({},dt.properties),{cluster:!0,cluster_id:dt.id,point_count:Be,point_count_abbreviated:$e})}function Se(dt){return dt/360+.5}function Oe(dt){const Be=Math.sin(dt*Math.PI/180),$e=.5-.25*Math.log((1+Be)/(1-Be))/Math.PI;return $e<0?0:$e>1?1:$e}function Le(dt){const Be=(180-360*dt)*Math.PI/180;return 360*Math.atan(Math.exp(Be))/Math.PI-90}function Ue(dt,Be){for(const $e in Be)dt[$e]=Be[$e];return dt}function lt(dt){return dt.x}function it(dt){return dt.y}function pt(dt,Be,$e,ct){for(var _t,kt=ct,Rt=$e-Be>>1,Ft=$e-Be,Dt=dt[Be],$t=dt[Be+1],ui=dt[$e],Fi=dt[$e+1],Ei=Be+3;Ei<$e;Ei+=3){var fn=De(dt[Ei],dt[Ei+1],Dt,$t,ui,Fi);if(fn>kt)_t=Ei,kt=fn;else if(fn===kt){var pn=Math.abs(Ei-Rt);pn<Ft&&(_t=Ei,Ft=pn)}}kt>ct&&(_t-Be>3&&pt(dt,Be,_t,ct),dt[_t+2]=kt,$e-_t>3&&pt(dt,_t,$e,ct))}function De(dt,Be,$e,ct,_t,kt){var Rt=_t-$e,Ft=kt-ct;if(Rt!==0||Ft!==0){var Dt=((dt-$e)*Rt+(Be-ct)*Ft)/(Rt*Rt+Ft*Ft);Dt>1?($e=_t,ct=kt):Dt>0&&($e+=Rt*Dt,ct+=Ft*Dt)}return(Rt=dt-$e)*Rt+(Ft=Be-ct)*Ft}function ze(dt,Be,$e,ct){var _t={id:dt===void 0?null:dt,type:Be,geometry:$e,tags:ct,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(kt){var Rt=kt.geometry,Ft=kt.type;if(Ft==="Point"||Ft==="MultiPoint"||Ft==="LineString")Ge(kt,Rt);else if(Ft==="Polygon"||Ft==="MultiLineString")for(var Dt=0;Dt<Rt.length;Dt++)Ge(kt,Rt[Dt]);else if(Ft==="MultiPolygon")for(Dt=0;Dt<Rt.length;Dt++)for(var $t=0;$t<Rt[Dt].length;$t++)Ge(kt,Rt[Dt][$t])}(_t),_t}function Ge(dt,Be){for(var $e=0;$e<Be.length;$e+=3)dt.minX=Math.min(dt.minX,Be[$e]),dt.minY=Math.min(dt.minY,Be[$e+1]),dt.maxX=Math.max(dt.maxX,Be[$e]),dt.maxY=Math.max(dt.maxY,Be[$e+1])}function Ye(dt,Be,$e,ct){if(Be.geometry){var _t=Be.geometry.coordinates,kt=Be.geometry.type,Rt=Math.pow($e.tolerance/((1<<$e.maxZoom)*$e.extent),2),Ft=[],Dt=Be.id;if($e.promoteId?Dt=Be.properties[$e.promoteId]:$e.generateId&&(Dt=ct||0),kt==="Point")at(_t,Ft);else if(kt==="MultiPoint")for(var $t=0;$t<_t.length;$t++)at(_t[$t],Ft);else if(kt==="LineString")gt(_t,Ft,Rt,!1);else if(kt==="MultiLineString"){if($e.lineMetrics){for($t=0;$t<_t.length;$t++)gt(_t[$t],Ft=[],Rt,!1),dt.push(ze(Dt,"LineString",Ft,Be.properties));return}Ut(_t,Ft,Rt,!1)}else if(kt==="Polygon")Ut(_t,Ft,Rt,!0);else{if(kt!=="MultiPolygon"){if(kt==="GeometryCollection"){for($t=0;$t<Be.geometry.geometries.length;$t++)Ye(dt,{id:Dt,geometry:Be.geometry.geometries[$t],properties:Be.properties},$e,ct);return}throw new Error("Input data is not a valid GeoJSON object.")}for($t=0;$t<_t.length;$t++){var ui=[];Ut(_t[$t],ui,Rt,!0),Ft.push(ui)}}dt.push(ze(Dt,kt,Ft,Be.properties))}}function at(dt,Be){Be.push(Gt(dt[0])),Be.push(wi(dt[1])),Be.push(0)}function gt(dt,Be,$e,ct){for(var _t,kt,Rt=0,Ft=0;Ft<dt.length;Ft++){var Dt=Gt(dt[Ft][0]),$t=wi(dt[Ft][1]);Be.push(Dt),Be.push($t),Be.push(0),Ft>0&&(Rt+=ct?(_t*$t-Dt*kt)/2:Math.sqrt(Math.pow(Dt-_t,2)+Math.pow($t-kt,2))),_t=Dt,kt=$t}var ui=Be.length-3;Be[2]=1,pt(Be,0,ui,$e),Be[ui+2]=1,Be.size=Math.abs(Rt),Be.start=0,Be.end=Be.size}function Ut(dt,Be,$e,ct){for(var _t=0;_t<dt.length;_t++){var kt=[];gt(dt[_t],kt,$e,ct),Be.push(kt)}}function Gt(dt){return dt/360+.5}function wi(dt){var Be=Math.sin(dt*Math.PI/180),$e=.5-.25*Math.log((1+Be)/(1-Be))/Math.PI;return $e<0?0:$e>1?1:$e}function Qt(dt,Be,$e,ct,_t,kt,Rt,Ft){if(ct/=Be,kt>=($e/=Be)&&Rt<ct)return dt;if(Rt<$e||kt>=ct)return null;for(var Dt=[],$t=0;$t<dt.length;$t++){var ui=dt[$t],Fi=ui.geometry,Ei=ui.type,fn=_t===0?ui.minX:ui.minY,pn=_t===0?ui.maxX:ui.maxY;if(fn>=$e&&pn<ct)Dt.push(ui);else if(!(pn<$e||fn>=ct)){var Qi=[];if(Ei==="Point"||Ei==="MultiPoint")Ti(Fi,Qi,$e,ct,_t);else if(Ei==="LineString")Ki(Fi,Qi,$e,ct,_t,!1,Ft.lineMetrics);else if(Ei==="MultiLineString")Xi(Fi,Qi,$e,ct,_t,!1);else if(Ei==="Polygon")Xi(Fi,Qi,$e,ct,_t,!0);else if(Ei==="MultiPolygon")for(var Bi=0;Bi<Fi.length;Bi++){var $n=[];Xi(Fi[Bi],$n,$e,ct,_t,!0),$n.length&&Qi.push($n)}if(Qi.length){if(Ft.lineMetrics&&Ei==="LineString"){for(Bi=0;Bi<Qi.length;Bi++)Dt.push(ze(ui.id,Ei,Qi[Bi],ui.tags));continue}Ei!=="LineString"&&Ei!=="MultiLineString"||(Qi.length===1?(Ei="LineString",Qi=Qi[0]):Ei="MultiLineString"),Ei!=="Point"&&Ei!=="MultiPoint"||(Ei=Qi.length===3?"Point":"MultiPoint"),Dt.push(ze(ui.id,Ei,Qi,ui.tags))}}}return Dt.length?Dt:null}function Ti(dt,Be,$e,ct,_t){for(var kt=0;kt<dt.length;kt+=3){var Rt=dt[kt+_t];Rt>=$e&&Rt<=ct&&(Be.push(dt[kt]),Be.push(dt[kt+1]),Be.push(dt[kt+2]))}}function Ki(dt,Be,$e,ct,_t,kt,Rt){for(var Ft,Dt,$t=Ni(dt),ui=_t===0?xn:kn,Fi=dt.start,Ei=0;Ei<dt.length-3;Ei+=3){var fn=dt[Ei],pn=dt[Ei+1],Qi=dt[Ei+2],Bi=dt[Ei+3],$n=dt[Ei+4],cs=_t===0?fn:pn,an=_t===0?Bi:$n,Ms=!1;Rt&&(Ft=Math.sqrt(Math.pow(fn-Bi,2)+Math.pow(pn-$n,2))),cs<$e?an>$e&&(Dt=ui($t,fn,pn,Bi,$n,$e),Rt&&($t.start=Fi+Ft*Dt)):cs>ct?an<ct&&(Dt=ui($t,fn,pn,Bi,$n,ct),Rt&&($t.start=Fi+Ft*Dt)):Gi($t,fn,pn,Qi),an<$e&&cs>=$e&&(Dt=ui($t,fn,pn,Bi,$n,$e),Ms=!0),an>ct&&cs<=ct&&(Dt=ui($t,fn,pn,Bi,$n,ct),Ms=!0),!kt&&Ms&&(Rt&&($t.end=Fi+Ft*Dt),Be.push($t),$t=Ni(dt)),Rt&&(Fi+=Ft)}var ms=dt.length-3;fn=dt[ms],pn=dt[ms+1],Qi=dt[ms+2],(cs=_t===0?fn:pn)>=$e&&cs<=ct&&Gi($t,fn,pn,Qi),ms=$t.length-3,kt&&ms>=3&&($t[ms]!==$t[0]||$t[ms+1]!==$t[1])&&Gi($t,$t[0],$t[1],$t[2]),$t.length&&Be.push($t)}function Ni(dt){var Be=[];return Be.size=dt.size,Be.start=dt.start,Be.end=dt.end,Be}function Xi(dt,Be,$e,ct,_t,kt){for(var Rt=0;Rt<dt.length;Rt++)Ki(dt[Rt],Be,$e,ct,_t,kt,!1)}function Gi(dt,Be,$e,ct){dt.push(Be),dt.push($e),dt.push(ct)}function xn(dt,Be,$e,ct,_t,kt){var Rt=(kt-Be)/(ct-Be);return dt.push(kt),dt.push($e+(_t-$e)*Rt),dt.push(1),Rt}function kn(dt,Be,$e,ct,_t,kt){var Rt=(kt-$e)/(_t-$e);return dt.push(Be+(ct-Be)*Rt),dt.push(kt),dt.push(1),Rt}function qn(dt,Be){for(var $e=[],ct=0;ct<dt.length;ct++){var _t,kt=dt[ct],Rt=kt.type;if(Rt==="Point"||Rt==="MultiPoint"||Rt==="LineString")_t=Tr(kt.geometry,Be);else if(Rt==="MultiLineString"||Rt==="Polygon"){_t=[];for(var Ft=0;Ft<kt.geometry.length;Ft++)_t.push(Tr(kt.geometry[Ft],Be))}else if(Rt==="MultiPolygon")for(_t=[],Ft=0;Ft<kt.geometry.length;Ft++){for(var Dt=[],$t=0;$t<kt.geometry[Ft].length;$t++)Dt.push(Tr(kt.geometry[Ft][$t],Be));_t.push(Dt)}$e.push(ze(kt.id,Rt,_t,kt.tags))}return $e}function Tr(dt,Be){var $e=[];$e.size=dt.size,dt.start!==void 0&&($e.start=dt.start,$e.end=dt.end);for(var ct=0;ct<dt.length;ct+=3)$e.push(dt[ct]+Be,dt[ct+1],dt[ct+2]);return $e}function fs(dt,Be){if(dt.transformed)return dt;var $e,ct,_t,kt=1<<dt.z,Rt=dt.x,Ft=dt.y;for($e=0;$e<dt.features.length;$e++){var Dt=dt.features[$e],$t=Dt.geometry,ui=Dt.type;if(Dt.geometry=[],ui===1)for(ct=0;ct<$t.length;ct+=2)Dt.geometry.push(Bs($t[ct],$t[ct+1],Be,kt,Rt,Ft));else for(ct=0;ct<$t.length;ct++){var Fi=[];for(_t=0;_t<$t[ct].length;_t+=2)Fi.push(Bs($t[ct][_t],$t[ct][_t+1],Be,kt,Rt,Ft));Dt.geometry.push(Fi)}}return dt.transformed=!0,dt}function Bs(dt,Be,$e,ct,_t,kt){return[Math.round($e*(dt*ct-_t)),Math.round($e*(Be*ct-kt))]}function Ji(dt,Be,$e,ct,_t){for(var kt=Be===_t.maxZoom?0:_t.tolerance/((1<<Be)*_t.extent),Rt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:$e,y:ct,z:Be,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ft=0;Ft<dt.length;Ft++){Rt.numFeatures++,va(Rt,dt[Ft],kt,_t);var Dt=dt[Ft].minX,$t=dt[Ft].minY,ui=dt[Ft].maxX,Fi=dt[Ft].maxY;Dt<Rt.minX&&(Rt.minX=Dt),$t<Rt.minY&&(Rt.minY=$t),ui>Rt.maxX&&(Rt.maxX=ui),Fi>Rt.maxY&&(Rt.maxY=Fi)}return Rt}function va(dt,Be,$e,ct){var _t=Be.geometry,kt=Be.type,Rt=[];if(kt==="Point"||kt==="MultiPoint")for(var Ft=0;Ft<_t.length;Ft+=3)Rt.push(_t[Ft]),Rt.push(_t[Ft+1]),dt.numPoints++,dt.numSimplified++;else if(kt==="LineString")kl(Rt,_t,dt,$e,!1,!1);else if(kt==="MultiLineString"||kt==="Polygon")for(Ft=0;Ft<_t.length;Ft++)kl(Rt,_t[Ft],dt,$e,kt==="Polygon",Ft===0);else if(kt==="MultiPolygon")for(var Dt=0;Dt<_t.length;Dt++){var $t=_t[Dt];for(Ft=0;Ft<$t.length;Ft++)kl(Rt,$t[Ft],dt,$e,!0,Ft===0)}if(Rt.length){var ui=Be.tags||null;if(kt==="LineString"&&ct.lineMetrics){for(var Fi in ui={},Be.tags)ui[Fi]=Be.tags[Fi];ui.mapbox_clip_start=_t.start/_t.size,ui.mapbox_clip_end=_t.end/_t.size}var Ei={geometry:Rt,type:kt==="Polygon"||kt==="MultiPolygon"?3:kt==="LineString"||kt==="MultiLineString"?2:1,tags:ui};Be.id!==null&&(Ei.id=Be.id),dt.features.push(Ei)}}function kl(dt,Be,$e,ct,_t,kt){var Rt=ct*ct;if(ct>0&&Be.size<(_t?Rt:ct))$e.numPoints+=Be.length/3;else{for(var Ft=[],Dt=0;Dt<Be.length;Dt+=3)(ct===0||Be[Dt+2]>Rt)&&($e.numSimplified++,Ft.push(Be[Dt]),Ft.push(Be[Dt+1])),$e.numPoints++;_t&&function($t,ui){for(var Fi=0,Ei=0,fn=$t.length,pn=fn-2;Ei<fn;pn=Ei,Ei+=2)Fi+=($t[Ei]-$t[pn])*($t[Ei+1]+$t[pn+1]);if(Fi>0===ui)for(Ei=0,fn=$t.length;Ei<fn/2;Ei+=2){var Qi=$t[Ei],Bi=$t[Ei+1];$t[Ei]=$t[fn-2-Ei],$t[Ei+1]=$t[fn-1-Ei],$t[fn-2-Ei]=Qi,$t[fn-1-Ei]=Bi}}(Ft,kt),dt.push(Ft)}}function sl(dt,Be){var $e=(Be=this.options=function(_t,kt){for(var Rt in kt)_t[Rt]=kt[Rt];return _t}(Object.create(this.options),Be)).debug;if($e&&console.time("preprocess data"),Be.maxZoom<0||Be.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Be.promoteId&&Be.generateId)throw new Error("promoteId and generateId cannot be used together.");var ct=function(_t,kt){var Rt=[];if(_t.type==="FeatureCollection")for(var Ft=0;Ft<_t.features.length;Ft++)Ye(Rt,_t.features[Ft],kt,Ft);else Ye(Rt,_t.type==="Feature"?_t:{geometry:_t},kt);return Rt}(dt,Be);this.tiles={},this.tileCoords=[],$e&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Be.indexMaxZoom,Be.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ct=function(_t,kt){var Rt=kt.buffer/kt.extent,Ft=_t,Dt=Qt(_t,1,-1-Rt,Rt,0,-1,2,kt),$t=Qt(_t,1,1-Rt,2+Rt,0,-1,2,kt);return(Dt||$t)&&(Ft=Qt(_t,1,-Rt,1+Rt,0,-1,2,kt)||[],Dt&&(Ft=qn(Dt,1).concat(Ft)),$t&&(Ft=Ft.concat(qn($t,-1)))),Ft}(ct,Be),ct.length&&this.splitTile(ct,0,0,0),$e&&(ct.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function La(dt,Be,$e){return 32*((1<<dt)*$e+Be)+dt}function ur(dt,Be){const $e=dt.tileID.canonical;if(!this._geoJSONIndex)return Be(null,null);const ct=this._geoJSONIndex.getTile($e.z,$e.x,$e.y);if(!ct)return Be(null,null);const _t=new M(ct.features);let kt=E.exports(_t);kt.byteOffset===0&&kt.byteLength===kt.buffer.byteLength||(kt=new Uint8Array(kt)),Be(null,{vectorTile:_t,rawData:kt.buffer})}sl.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},sl.prototype.splitTile=function(dt,Be,$e,ct,_t,kt,Rt){for(var Ft=[dt,Be,$e,ct],Dt=this.options,$t=Dt.debug;Ft.length;){ct=Ft.pop(),$e=Ft.pop(),Be=Ft.pop(),dt=Ft.pop();var ui=1<<Be,Fi=La(Be,$e,ct),Ei=this.tiles[Fi];if(!Ei&&($t>1&&console.time("creation"),Ei=this.tiles[Fi]=Ji(dt,Be,$e,ct,Dt),this.tileCoords.push({z:Be,x:$e,y:ct}),$t)){$t>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Be,$e,ct,Ei.numFeatures,Ei.numPoints,Ei.numSimplified),console.timeEnd("creation"));var fn="z"+Be;this.stats[fn]=(this.stats[fn]||0)+1,this.total++}if(Ei.source=dt,_t){if(Be===Dt.maxZoom||Be===_t)continue;var pn=1<<_t-Be;if($e!==Math.floor(kt/pn)||ct!==Math.floor(Rt/pn))continue}else if(Be===Dt.indexMaxZoom||Ei.numPoints<=Dt.indexMaxPoints)continue;if(Ei.source=null,dt.length!==0){$t>1&&console.time("clipping");var Qi,Bi,$n,cs,an,Ms,ms=.5*Dt.buffer/Dt.extent,oa=.5-ms,aa=.5+ms,jr=1+ms;Qi=Bi=$n=cs=null,an=Qt(dt,ui,$e-ms,$e+aa,0,Ei.minX,Ei.maxX,Dt),Ms=Qt(dt,ui,$e+oa,$e+jr,0,Ei.minX,Ei.maxX,Dt),dt=null,an&&(Qi=Qt(an,ui,ct-ms,ct+aa,1,Ei.minY,Ei.maxY,Dt),Bi=Qt(an,ui,ct+oa,ct+jr,1,Ei.minY,Ei.maxY,Dt),an=null),Ms&&($n=Qt(Ms,ui,ct-ms,ct+aa,1,Ei.minY,Ei.maxY,Dt),cs=Qt(Ms,ui,ct+oa,ct+jr,1,Ei.minY,Ei.maxY,Dt),Ms=null),$t>1&&console.timeEnd("clipping"),Ft.push(Qi||[],Be+1,2*$e,2*ct),Ft.push(Bi||[],Be+1,2*$e,2*ct+1),Ft.push($n||[],Be+1,2*$e+1,2*ct),Ft.push(cs||[],Be+1,2*$e+1,2*ct+1)}}},sl.prototype.getTile=function(dt,Be,$e){var ct=this.options,_t=ct.extent,kt=ct.debug;if(dt<0||dt>24)return null;var Rt=1<<dt,Ft=La(dt,Be=(Be%Rt+Rt)%Rt,$e);if(this.tiles[Ft])return fs(this.tiles[Ft],_t);kt>1&&console.log("drilling down to z%d-%d-%d",dt,Be,$e);for(var Dt,$t=dt,ui=Be,Fi=$e;!Dt&&$t>0;)$t--,ui=Math.floor(ui/2),Fi=Math.floor(Fi/2),Dt=this.tiles[La($t,ui,Fi)];return Dt&&Dt.source?(kt>1&&console.log("found parent tile z%d-%d-%d",$t,ui,Fi),kt>1&&console.time("drilling down"),this.splitTile(Dt.source,$t,ui,Fi,dt,Be,$e),kt>1&&console.timeEnd("drilling down"),this.tiles[Ft]?fs(this.tiles[Ft],_t):null):null};class Oa extends n.VectorTileWorkerSource{constructor(Be,$e,ct,_t,kt){super(Be,$e,ct,_t,ur),kt&&(this.loadGeoJSON=kt)}loadData(Be,$e){const ct=Be&&Be.request,_t=ct&&ct.collectResourceTiming;this.loadGeoJSON(Be,(kt,Rt)=>{if(kt||!Rt)return $e(kt);if(typeof Rt!="object")return $e(new Error(`Input data given to '${Be.source}' is not a valid GeoJSON object.`));{W(Rt,!0);try{if(Be.filter){const Dt=n.createExpression(Be.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Dt.result==="error")throw new Error(Dt.value.map(ui=>`${ui.key}: ${ui.message}`).join(", "));Rt={type:"FeatureCollection",features:Rt.features.filter(ui=>Dt.value.evaluate({zoom:0},ui))}}this._geoJSONIndex=Be.cluster?new ae(function({superclusterOptions:Dt,clusterProperties:$t}){if(!$t||!Dt)return Dt;const ui={},Fi={},Ei={accumulated:null,zoom:0},fn={properties:null},pn=Object.keys($t);for(const Qi of pn){const[Bi,$n]=$t[Qi],cs=n.createExpression($n),an=n.createExpression(typeof Bi=="string"?[Bi,["accumulated"],["get",Qi]]:Bi);ui[Qi]=cs.value,Fi[Qi]=an.value}return Dt.map=Qi=>{fn.properties=Qi;const Bi={};for(const $n of pn)Bi[$n]=ui[$n].evaluate(Ei,fn);return Bi},Dt.reduce=(Qi,Bi)=>{fn.properties=Bi;for(const $n of pn)Ei.accumulated=Qi[$n],Qi[$n]=Fi[$n].evaluate(Ei,fn)},Dt}(Be)).load(Rt.features):function(Dt,$t){return new sl(Dt,$t)}(Rt,Be.geojsonVtOptions)}catch(Dt){return $e(Dt)}this.loaded={};const Ft={};if(_t){const Dt=n.getPerformanceMeasurement(ct);Dt&&(Ft.resourceTiming={},Ft.resourceTiming[Be.source]=JSON.parse(JSON.stringify(Dt)))}$e(null,Ft)}})}reloadTile(Be,$e){const ct=this.loaded;return ct&&ct[Be.uid]?super.reloadTile(Be,$e):this.loadTile(Be,$e)}loadGeoJSON(Be,$e){if(Be.request)n.getJSON(Be.request,$e);else{if(typeof Be.data!="string")return $e(new Error(`Input data given to '${Be.source}' is not a valid GeoJSON object.`));try{return $e(null,JSON.parse(Be.data))}catch{return $e(new Error(`Input data given to '${Be.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(Be,$e){try{$e(null,this._geoJSONIndex.getClusterExpansionZoom(Be.clusterId))}catch(ct){$e(ct)}}getClusterChildren(Be,$e){try{$e(null,this._geoJSONIndex.getChildren(Be.clusterId))}catch(ct){$e(ct)}}getClusterLeaves(Be,$e){try{$e(null,this._geoJSONIndex.getLeaves(Be.clusterId,Be.limit,Be.offset))}catch(ct){$e(ct)}}}class ic{constructor(Be){this.self=Be,this.actor=new n.Actor(Be,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=n.getProjection({name:"mercator"}),this.workerSourceTypes={vector:n.VectorTileWorkerSource,geojson:Oa},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=($e,ct)=>{if(this.workerSourceTypes[$e])throw new Error(`Worker source with name "${$e}" already registered.`);this.workerSourceTypes[$e]=ct},this.self.registerRTLTextPlugin=$e=>{if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=$e.applyArabicShaping,n.plugin.processBidirectionalText=$e.processBidirectionalText,n.plugin.processStyledBidirectionalText=$e.processStyledBidirectionalText}}clearCaches(Be,$e,ct){delete this.layerIndexes[Be],delete this.availableImages[Be],delete this.workerSources[Be],delete this.demWorkerSources[Be],ct()}checkIfReady(Be,$e,ct){ct()}setReferrer(Be,$e){this.referrer=$e}spriteLoaded(Be,$e){this.isSpriteLoaded[Be]=$e;for(const ct in this.workerSources[Be]){const _t=this.workerSources[Be][ct];for(const kt in _t)_t[kt]instanceof n.VectorTileWorkerSource&&(_t[kt].isSpriteLoaded=$e,_t[kt].fire(new n.Event("isSpriteLoaded")))}}setImages(Be,$e,ct){this.availableImages[Be]=$e;for(const _t in this.workerSources[Be]){const kt=this.workerSources[Be][_t];for(const Rt in kt)kt[Rt].availableImages=$e}ct()}enableTerrain(Be,$e,ct){this.terrain=$e,ct()}setProjection(Be,$e){this.projections[Be]=n.getProjection($e)}setLayers(Be,$e,ct){this.getLayerIndex(Be).replace($e),ct()}updateLayers(Be,$e,ct){this.getLayerIndex(Be).update($e.layers,$e.removedIds),ct()}loadTile(Be,$e,ct){const _t=this.enableTerrain?n.extend({enableTerrain:this.terrain},$e):$e;_t.projection=this.projections[Be]||this.defaultProjection,this.getWorkerSource(Be,$e.type,$e.source).loadTile(_t,ct)}loadDEMTile(Be,$e,ct){const _t=this.enableTerrain?n.extend({buildQuadTree:this.terrain},$e):$e;this.getDEMWorkerSource(Be,$e.source).loadTile(_t,ct)}reloadTile(Be,$e,ct){const _t=this.enableTerrain?n.extend({enableTerrain:this.terrain},$e):$e;_t.projection=this.projections[Be]||this.defaultProjection,this.getWorkerSource(Be,$e.type,$e.source).reloadTile(_t,ct)}abortTile(Be,$e,ct){this.getWorkerSource(Be,$e.type,$e.source).abortTile($e,ct)}removeTile(Be,$e,ct){this.getWorkerSource(Be,$e.type,$e.source).removeTile($e,ct)}removeSource(Be,$e,ct){if(!this.workerSources[Be]||!this.workerSources[Be][$e.type]||!this.workerSources[Be][$e.type][$e.source])return;const _t=this.workerSources[Be][$e.type][$e.source];delete this.workerSources[Be][$e.type][$e.source],_t.removeSource!==void 0?_t.removeSource($e,ct):ct()}loadWorkerSource(Be,$e,ct){try{this.self.importScripts($e.url),ct()}catch(_t){ct(_t.toString())}}syncRTLPluginState(Be,$e,ct){try{n.plugin.setState($e);const _t=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&_t!=null){this.self.importScripts(_t);const kt=n.plugin.isParsed();ct(kt?void 0:new Error(`RTL Text Plugin failed to import scripts from ${_t}`),kt)}}catch(_t){ct(_t.toString())}}getAvailableImages(Be){let $e=this.availableImages[Be];return $e||($e=[]),$e}getLayerIndex(Be){let $e=this.layerIndexes[Be];return $e||($e=this.layerIndexes[Be]=new J),$e}getWorkerSource(Be,$e,ct){if(this.workerSources[Be]||(this.workerSources[Be]={}),this.workerSources[Be][$e]||(this.workerSources[Be][$e]={}),!this.workerSources[Be][$e][ct]){const _t={send:(kt,Rt,Ft,Dt,$t,ui)=>{this.actor.send(kt,Rt,Ft,Be,$t,ui)},scheduler:this.actor.scheduler};this.workerSources[Be][$e][ct]=new this.workerSourceTypes[$e](_t,this.getLayerIndex(Be),this.getAvailableImages(Be),this.isSpriteLoaded[Be])}return this.workerSources[Be][$e][ct]}getDEMWorkerSource(Be,$e){return this.demWorkerSources[Be]||(this.demWorkerSources[Be]={}),this.demWorkerSources[Be][$e]||(this.demWorkerSources[Be][$e]=new B),this.demWorkerSources[Be][$e]}enforceCacheSizeLimit(Be,$e){n.enforceCacheSizeLimit($e)}getWorkerPerformanceMetrics(Be,$e,ct){ct(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new ic(self)),ic}),d(["./shared"],function(n){function S(_,a){if(Array.isArray(_)){if(!Array.isArray(a)||_.length!==a.length)return!1;for(let u=0;u<_.length;u++)if(!S(_[u],a[u]))return!1;return!0}if(typeof _=="object"&&_!==null&&a!==null){if(typeof a!="object"||Object.keys(_).length!==Object.keys(a).length)return!1;for(const u in _)if(!S(_[u],a[u]))return!1;return!0}return _===a}var j=J;function J(_){return!function(a){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var x,D,z=new Blob([""],{type:"text/javascript"}),ne=URL.createObjectURL(z);try{D=new Worker(ne),x=!0}catch{x=!1}return D&&D.terminate(),URL.revokeObjectURL(ne),x}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var x=document.createElement("canvas");x.width=x.height=1;var D=x.getContext("2d");if(!D)return!1;var z=D.getImageData(0,0,1,1);return z&&z.width===x.width}()?(B[u=a&&a.failIfMajorPerformanceCaveat]===void 0&&(B[u]=function(x){var D,z=function(ne){var he=document.createElement("canvas"),pe=Object.create(J.webGLContextAttributes);return pe.failIfMajorPerformanceCaveat=ne,he.getContext("webgl",pe)||he.getContext("experimental-webgl",pe)}(x);if(!z)return!1;try{D=z.createShader(z.VERTEX_SHADER)}catch{return!1}return!(!D||z.isContextLost())&&(z.shaderSource(D,"void main() {}"),z.compileShader(D),z.getShaderParameter(D,z.COMPILE_STATUS)===!0)}(u)),B[u]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var u}(_)}var B={};function W(_,a,u){const x=n.window.document.createElement(_);return a!==void 0&&(x.className=a),u&&u.appendChild(x),x}function K(_,a,u){const x=n.window.document.createElementNS("http://www.w3.org/2000/svg",_);for(const D of Object.keys(a))x.setAttributeNS(null,D,a[D]);return u&&u.appendChild(x),x}J.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const I=n.window.document&&n.window.document.documentElement.style,O=I&&I.userSelect!==void 0?"userSelect":"WebkitUserSelect";let H;function M(){I&&O&&(H=I[O],I[O]="none")}function E(){I&&O&&(I[O]=H)}function k(_){_.preventDefault(),_.stopPropagation(),n.window.removeEventListener("click",k,!0)}function V(){n.window.addEventListener("click",k,!0),n.window.setTimeout(()=>{n.window.removeEventListener("click",k,!0)},0)}function G(_,a){const u=_.getBoundingClientRect();return Q(_,u,a)}function C(_,a){const u=_.getBoundingClientRect(),x=[];for(let D=0;D<a.length;D++)x.push(Q(_,u,a[D]));return x}function ie(_){return n.window.InstallTrigger!==void 0&&_.button===2&&_.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:_.button}function Q(_,a,u){const x=_.offsetWidth===a.width?1:_.offsetWidth/a.width;return new n.pointGeometry((u.clientX-a.left)*x,(u.clientY-a.top)*x)}function N(_,a){var u=a[0],x=a[1],D=a[2],z=a[3],ne=u*z-D*x;return ne?(_[0]=z*(ne=1/ne),_[1]=-x*ne,_[2]=-D*ne,_[3]=u*ne,_):null}function F(_){const{userImage:a}=_;return!!(a&&a.render&&a.render())&&(_.data.replace(new Uint8Array(a.data.buffer)),!0)}class $ extends n.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(const{ids:u,callback:x}of this.requestors)this._notify(u,x);this.requestors=[]}}hasImage(a){return!!this.getImage(a)}getImage(a){return this.images[a]}addImage(a,u){this._validate(a,u)&&(this.images[a]=u)}_validate(a,u){let x=!0;return this._validateStretch(u.stretchX,u.data&&u.data.width)||(this.fire(new n.ErrorEvent(new Error(`Image "${a}" has invalid "stretchX" value`))),x=!1),this._validateStretch(u.stretchY,u.data&&u.data.height)||(this.fire(new n.ErrorEvent(new Error(`Image "${a}" has invalid "stretchY" value`))),x=!1),this._validateContent(u.content,u)||(this.fire(new n.ErrorEvent(new Error(`Image "${a}" has invalid "content" value`))),x=!1),x}_validateStretch(a,u){if(!a)return!0;let x=0;for(const D of a){if(D[0]<x||D[1]<D[0]||u<D[1])return!1;x=D[1]}return!0}_validateContent(a,u){return!(a&&(a.length!==4||a[0]<0||u.data.width<a[0]||a[1]<0||u.data.height<a[1]||a[2]<0||u.data.width<a[2]||a[3]<0||u.data.height<a[3]||a[2]<a[0]||a[3]<a[1]))}updateImage(a,u){u.version=this.images[a].version+1,this.images[a]=u,this.updatedImages[a]=!0}removeImage(a){const u=this.images[a];delete this.images[a],delete this.patterns[a],u.userImage&&u.userImage.onRemove&&u.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a,u){let x=!0;if(!this.isLoaded())for(const D of a)this.images[D]||(x=!1);this.isLoaded()||x?this._notify(a,u):this.requestors.push({ids:a,callback:u})}_notify(a,u){const x={};for(const D of a){this.images[D]||this.fire(new n.Event("styleimagemissing",{id:D}));const z=this.images[D];z?x[D]={data:z.data.clone(),pixelRatio:z.pixelRatio,sdf:z.sdf,version:z.version,stretchX:z.stretchX,stretchY:z.stretchY,content:z.content,hasRenderCallback:Boolean(z.userImage&&z.userImage.render)}:n.warnOnce(`Image "${D}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}u(null,x)}getPixelSize(){const{width:a,height:u}=this.atlasImage;return{width:a,height:u}}getPattern(a){const u=this.patterns[a],x=this.getImage(a);if(!x)return null;if(u&&u.position.version===x.version)return u.position;if(u)u.position.version=x.version;else{const D={w:x.data.width+2,h:x.data.height+2,x:0,y:0},z=new n.ImagePosition(D,x);this.patterns[a]={bin:D,position:z}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){const u=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(a,this.atlasImage,u.RGBA),this.atlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE)}_updatePatternAtlas(){const a=[];for(const z in this.patterns)a.push(this.patterns[z].bin);const{w:u,h:x}=n.potpack(a),D=this.atlasImage;D.resize({width:u||1,height:x||1});for(const z in this.patterns){const{bin:ne}=this.patterns[z],he=ne.x+1,pe=ne.y+1,ke=this.images[z].data,Me=ke.width,Ne=ke.height;n.RGBAImage.copy(ke,D,{x:0,y:0},{x:he,y:pe},{width:Me,height:Ne}),n.RGBAImage.copy(ke,D,{x:0,y:Ne-1},{x:he,y:pe-1},{width:Me,height:1}),n.RGBAImage.copy(ke,D,{x:0,y:0},{x:he,y:pe+Ne},{width:Me,height:1}),n.RGBAImage.copy(ke,D,{x:Me-1,y:0},{x:he-1,y:pe},{width:1,height:Ne}),n.RGBAImage.copy(ke,D,{x:0,y:0},{x:he+Me,y:pe},{width:1,height:Ne})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(const u of a){if(this.callbackDispatchedThisFrame[u])continue;this.callbackDispatchedThisFrame[u]=!0;const x=this.images[u];F(x)&&this.updateImage(u,x)}}}const w=new n.Properties({anchor:new n.DataConstantProperty(n.spec.light.anchor),position:new class{constructor(){this.specification=n.spec.light.position}possiblyEvaluate(_,a){return function([u,x,D]){const z=n.degToRad(x+90),ne=n.degToRad(D);return{x:u*Math.cos(z)*Math.sin(ne),y:u*Math.sin(z)*Math.sin(ne),z:u*Math.cos(ne),azimuthal:x,polar:D}}(_.expression.evaluate(a))}interpolate(_,a,u){return{x:n.number(_.x,a.x,u),y:n.number(_.y,a.y,u),z:n.number(_.z,a.z,u),azimuthal:n.number(_.azimuthal,a.azimuthal,u),polar:n.number(_.polar,a.polar,u)}}},color:new n.DataConstantProperty(n.spec.light.color),intensity:new n.DataConstantProperty(n.spec.light.intensity)}),L="-transition";class f extends n.Evented{constructor(a){super(),this._transitionable=new n.Transitionable(w),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,u={}){if(!this._validate(n.validateLight,a,u))for(const x in a){const D=a[x];n.endsWith(x,L)?this._transitionable.setTransition(x.slice(0,-L.length),D):this._transitionable.setValue(x,D)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,u,x){return(!x||x.validate!==!1)&&n.emitValidationErrors(this,a.call(n.validateStyle,n.extend({value:u,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}const y=new n.Properties({source:new n.DataConstantProperty(n.spec.terrain.source),exaggeration:new n.DataConstantProperty(n.spec.terrain.exaggeration)}),b="-transition";class P extends n.Evented{constructor(a,u){super(),this._transitionable=new n.Transitionable(y),this.set(a),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=u}get(){return this._transitionable.serialize()}set(a){for(const u in a){const x=a[u];n.endsWith(u,b)?this._transitionable.setTransition(u.slice(0,-b.length),x):this._transitionable.setValue(u,x)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}}function q(_,a,u,x){const D=n.smoothstep(45,65,u),[z,ne]=ee(_,x),he=n.length(a);let pe=1-Math.min(1,Math.exp((he-z)/(ne-z)*-6));return pe*=pe*pe,pe=Math.min(1,1.00747*pe),pe*D*_.alpha}function ee(_,a){const u=.5/Math.tan(.5*a);return[_.range[0]+u,_.range[1]+u]}const X=new n.Properties({range:new n.DataConstantProperty(n.spec.fog.range),color:new n.DataConstantProperty(n.spec.fog.color),"high-color":new n.DataConstantProperty(n.spec.fog["high-color"]),"space-color":new n.DataConstantProperty(n.spec.fog["space-color"]),"horizon-blend":new n.DataConstantProperty(n.spec.fog["horizon-blend"]),"star-intensity":new n.DataConstantProperty(n.spec.fog["star-intensity"])}),ce="-transition";class fe extends n.Evented{constructor(a,u){super(),this._transitionable=new n.Transitionable(X),this.set(a),this._transitioning=this._transitionable.untransitioned(),this._transform=u}get state(){const a=this._transform,u=a.projection.name==="globe",x=n.globeToMercatorTransition(a.zoom),D=this.properties.get("range"),z=[.5,3];return{range:u?[n.number(z[0],D[0],x),n.number(z[1],D[1],x)]:D,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(a,u={}){if(!this._validate(n.validateFog,a,u)){for(const x of Object.keys(n.spec.fog))a&&a[x]===void 0&&(a[x]=n.spec.fog[x].default);for(const x in a){const D=a[x];n.endsWith(x,ce)?this._transitionable.setTransition(x.slice(0,-ce.length),D):this._transitionable.setValue(x,D)}}}getOpacity(a){if(!this._transform.projection.supportsFog)return 0;const u=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:n.smoothstep(45,65,a))*u.a}getOpacityAtLatLng(a,u){return this._transform.projection.supportsFog?function(x,D,z){const ne=n.MercatorCoordinate.fromLngLat(D),he=z.elevation?z.elevation.getAtPointOrZero(ne):0,pe=[ne.x,ne.y,he];return n.transformMat4(pe,pe,z.mercatorFogMatrix),q(x,pe,z.pitch,z._fov)}(this.state,a,u):0}getFovAdjustedRange(a){return this._transform.projection.supportsFog?ee(this.state,a):[0,1]}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,u,x){return(!x||x.validate!==!1)&&n.emitValidationErrors(this,a.call(n.validateStyle,n.extend({value:u,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}class Te{constructor(a,u){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=n.uniqueId();const x=this.workerPool.acquire(this.id);for(let D=0;D<x.length;D++){const z=new Te.Actor(x[D],u,this.id);z.name=`Worker ${D}`,this.actors.push(z)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(a,u,x){n.asyncAll(this.actors,(D,z)=>{D.send(a,u,z)},x=x||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(a=>{a.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Z(_,a,u){return a*(n.EXTENT/(_.tileSize*Math.pow(2,u-_.tileID.overscaledZ)))}Te.Actor=n.Actor;class re{constructor(a,u,x,D){this.screenBounds=a,this.cameraPoint=u,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=x,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,D)}static createFromScreenPoints(a,u){let x,D;if(a instanceof n.pointGeometry||typeof a[0]=="number"){const z=n.pointGeometry.convert(a);x=[z],D=u.isPointAboveHorizon(z)}else{const z=n.pointGeometry.convert(a[0]),ne=n.pointGeometry.convert(a[1]);x=[z,ne],D=n.polygonizeBounds(z,ne).every(he=>u.isPointAboveHorizon(he))}return new re(x,u.getCameraPoint(),D,u)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(a){return n.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],a)}bufferedCameraGeometry(a){const u=this.screenBounds[0],x=this.screenBounds.length===1?this.screenBounds[0].add(new n.pointGeometry(1,1)):this.screenBounds[1],D=n.polygonizeBounds(u,x,0,!1);return this.cameraPoint.y>x.y&&(this.cameraPoint.x>u.x&&this.cameraPoint.x<x.x?D.splice(3,0,this.cameraPoint):this.cameraPoint.x>=x.x?D[2]=this.cameraPoint:this.cameraPoint.x<=u.x&&(D[3]=this.cameraPoint)),n.bufferConvexPolygon(D,a)}bufferedCameraGeometryGlobe(a){const u=this.screenBounds[0],x=this.screenBounds.length===1?this.screenBounds[0].add(new n.pointGeometry(1,1)):this.screenBounds[1],D=n.polygonizeBounds(u,x,a),z=this.cameraPoint.clone();switch(3*((z.y>u.y)+(z.y>x.y))+((z.x>u.x)+(z.x>x.x))){case 0:D[0]=z,D[4]=z.clone();break;case 1:D.splice(1,0,z);break;case 2:D[1]=z;break;case 3:D.splice(4,0,z);break;case 5:D.splice(2,0,z);break;case 6:D[3]=z;break;case 7:D.splice(3,0,z);break;case 8:D[2]=z}return D}containsTile(a,u,x,D=0){const z=a.queryPadding/u._pixelsPerMercatorPixel+1,ne=x?this._bufferedCameraMercator(z,u):this._bufferedScreenMercator(z,u);let he=a.tileID.wrap+(ne.unwrapped?D:0);const pe=ne.polygon.map(Ze=>n.getTilePoint(a.tileTransform,Ze,he));if(!n.polygonIntersectsBox(pe,0,0,n.EXTENT,n.EXTENT))return;he=a.tileID.wrap+(this.screenGeometryMercator.unwrapped?D:0);const ke=this.screenGeometryMercator.polygon.map(Ze=>n.getTileVec3(a.tileTransform,Ze,he)),Me=ke.map(Ze=>new n.pointGeometry(Ze[0],Ze[1])),Ne=u.getFreeCameraOptions().position||new n.MercatorCoordinate(0,0,0),qe=n.getTileVec3(a.tileTransform,Ne,he),st=ke.map(Ze=>{const Qe=n.sub(Ze,Ze,qe);return n.normalize(Qe,Qe),new n.Ray(qe,Qe)}),rt=Z(a,1,u.zoom)*u._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:Me,tilespaceRays:st,bufferedTilespaceGeometry:pe,bufferedTilespaceBounds:(ht=n.getBounds(pe),ht.min.x=n.clamp(ht.min.x,0,n.EXTENT),ht.min.y=n.clamp(ht.min.y,0,n.EXTENT),ht.max.x=n.clamp(ht.max.x,0,n.EXTENT),ht.max.y=n.clamp(ht.max.y,0,n.EXTENT),ht),tile:a,tileID:a.tileID,pixelToTileUnitsFactor:rt};var ht}_bufferedScreenMercator(a,u){const x=Ie(a);if(this._screenRaycastCache[x])return this._screenRaycastCache[x];{let D;return D=u.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(a),u):{polygon:this.bufferedScreenGeometry(a).map(z=>u.pointCoordinate3D(z)),unwrapped:!0},this._screenRaycastCache[x]=D,D}}_bufferedCameraMercator(a,u){const x=Ie(a);if(this._cameraRaycastCache[x])return this._cameraRaycastCache[x];{let D;return D=u.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(a),u):{polygon:this.bufferedCameraGeometry(a).map(z=>u.pointCoordinate3D(z)),unwrapped:!0},this._cameraRaycastCache[x]=D,D}}_projectAndResample(a,u){const x=function(z,ne){const he=n.multiply([],ne.pixelMatrix,ne.globeMatrix),pe=[0,-n.GLOBE_RADIUS,0,1],ke=[0,n.GLOBE_RADIUS,0,1],Me=[0,0,0,1];n.transformMat4$1(pe,pe,he),n.transformMat4$1(ke,ke,he),n.transformMat4$1(Me,Me,he);const Ne=new n.pointGeometry(pe[0]/pe[3],pe[1]/pe[3]),qe=new n.pointGeometry(ke[0]/ke[3],ke[1]/ke[3]),st=n.polygonContainsPoint(z,Ne)&&pe[3]<Me[3],rt=n.polygonContainsPoint(z,qe)&&ke[3]<Me[3];if(!st&&!rt)return null;const ht=function(Ot,Zt,qt){for(let Nt=1;Nt<Ot.length;Nt++){const xi=ye(Zt.pointCoordinate3D(Ot[Nt-1]).x),Ht=ye(Zt.pointCoordinate3D(Ot[Nt]).x);if(qt<0){if(xi<Ht)return{idx:Nt,t:-xi/(Ht-1-xi)}}else if(Ht<xi)return{idx:Nt,t:(1-xi)/(Ht+1-xi)}}return null}(z,ne,st?-1:1);if(!ht)return null;const{idx:Ze,t:Qe}=ht;let ut=Ze>1?ue(z.slice(0,Ze),ne):[],ot=Ze<z.length?ue(z.slice(Ze),ne):[];ut=ut.map(Ot=>new n.pointGeometry(ye(Ot.x),Ot.y)),ot=ot.map(Ot=>new n.pointGeometry(ye(Ot.x),Ot.y));const vt=[...ut];vt.length===0&&vt.push(ot[ot.length-1]);const Mt=n.number(vt[vt.length-1].y,(ot.length===0?ut[0]:ot[0]).y,Qe);let bt;return bt=st?[new n.pointGeometry(0,Mt),new n.pointGeometry(0,0),new n.pointGeometry(1,0),new n.pointGeometry(1,Mt)]:[new n.pointGeometry(1,Mt),new n.pointGeometry(1,1),new n.pointGeometry(0,1),new n.pointGeometry(0,Mt)],vt.push(...bt),ot.length===0?vt.push(ut[0]):vt.push(...ot),{polygon:vt.map(Ot=>new n.MercatorCoordinate(Ot.x,Ot.y)),unwrapped:!1}}(a,u);if(x)return x;const D=function(z,ne){let he=!1,pe=-1/0,ke=0;for(let Ne=0;Ne<z.length-1;Ne++)z[Ne].x>pe&&(pe=z[Ne].x,ke=Ne);for(let Ne=0;Ne<z.length-1;Ne++){const qe=(ke+Ne)%(z.length-1),st=z[qe],rt=z[qe+1];Math.abs(st.x-rt.x)>.5&&(st.x<rt.x?(st.x+=1,qe===0&&(z[z.length-1].x+=1)):(rt.x+=1,qe+1===z.length-1&&(z[0].x+=1)),he=!0)}const Me=n.mercatorXfromLng(ne.center.lng);return he&&Me<Math.abs(Me-1)&&z.forEach(Ne=>{Ne.x-=1}),{polygon:z,unwrapped:he}}(ue(a,u).map(z=>new n.pointGeometry(ye(z.x),z.y)),u);return{polygon:D.polygon.map(z=>new n.MercatorCoordinate(z.x,z.y)),unwrapped:D.unwrapped}}}function ue(_,a){return n.resample(_,u=>{const x=a.pointCoordinate3D(u);u.x=x.x,u.y=x.y},1/256)}function ye(_){return _<0?1+_%1:_%1}function Ie(_){return 100*_|0}function ae(_,a,u,x,D){const z=function(ne,he){if(ne)return D(ne);if(he){_.url&&he.tiles&&_.tiles&&delete _.tiles;const pe=n.pick(n.extend(he,_),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);he.vector_layers&&(pe.vectorLayers=he.vector_layers,pe.vectorLayerIds=pe.vectorLayers.map(ke=>ke.id)),pe.tiles=a.canonicalizeTileset(pe,_.url),D(null,pe)}};return _.url?n.getJSON(a.transformRequest(a.normalizeSourceURL(_.url,null,u,x),n.ResourceType.Source),z):n.exported.frame(()=>z(null,_))}class be{constructor(a,u,x){this.bounds=n.LngLatBounds.convert(this.validateBounds(a)),this.minzoom=u||0,this.maxzoom=x||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){const u=Math.pow(2,a.z),x=Math.floor(n.mercatorXfromLng(this.bounds.getWest())*u),D=Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*u),z=Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*u),ne=Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*u);return a.x>=x&&a.x<z&&a.y>=D&&a.y<ne}}class xe{constructor(a,u,x){this.context=a;const D=a.gl;this.buffer=D.createBuffer(),this.dynamicDraw=Boolean(x),this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),D.bufferData(D.ELEMENT_ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?D.DYNAMIC_DRAW:D.STATIC_DRAW),this.dynamicDraw||u.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){const u=this.context.gl;this.context.unbindVAO(),this.bind(),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const le={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class me{constructor(a,u,x,D){this.length=u.length,this.attributes=x,this.itemSize=u.bytesPerElement,this.dynamicDraw=D,this.context=a;const z=a.gl;this.buffer=z.createBuffer(),a.bindVertexBuffer.set(this.buffer),z.bufferData(z.ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?z.DYNAMIC_DRAW:z.STATIC_DRAW),this.dynamicDraw||u.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){const u=this.context.gl;this.bind(),u.bufferSubData(u.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,u){for(let x=0;x<this.attributes.length;x++){const D=u.attributes[this.attributes[x].name];D!==void 0&&a.enableVertexAttribArray(D)}}setVertexAttribPointers(a,u,x){for(let D=0;D<this.attributes.length;D++){const z=this.attributes[D],ne=u.attributes[z.name];ne!==void 0&&a.vertexAttribPointer(ne,z.components,a[le[z.type]],!1,this.itemSize,z.offset+this.itemSize*(x||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Se{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Oe extends Se{getDefault(){return n.Color.transparent}set(a){const u=this.current;(a.r!==u.r||a.g!==u.g||a.b!==u.b||a.a!==u.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class Le extends Se{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class Ue extends Se{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class lt extends Se{getDefault(){return[!0,!0,!0,!0]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||a[2]!==u[2]||a[3]!==u[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class it extends Se{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class pt extends Se{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class De extends Se{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){const u=this.current;(a.func!==u.func||a.ref!==u.ref||a.mask!==u.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class ze extends Se{getDefault(){const a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||a[2]!==u[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class Ge extends Se{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.STENCIL_TEST):u.disable(u.STENCIL_TEST),this.current=a,this.dirty=!1}}class Ye extends Se{getDefault(){return[0,1]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class at extends Se{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.DEPTH_TEST):u.disable(u.DEPTH_TEST),this.current=a,this.dirty=!1}}class gt extends Se{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class Ut extends Se{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.BLEND):u.disable(u.BLEND),this.current=a,this.dirty=!1}}class Gt extends Se{getDefault(){const a=this.gl;return[a.ONE,a.ZERO]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class wi extends Se{getDefault(){return n.Color.transparent}set(a){const u=this.current;(a.r!==u.r||a.g!==u.g||a.b!==u.b||a.a!==u.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class Qt extends Se{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class Ti extends Se{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.CULL_FACE):u.disable(u.CULL_FACE),this.current=a,this.dirty=!1}}class Ki extends Se{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class Ni extends Se{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class Xi extends Se{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class Gi extends Se{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class xn extends Se{getDefault(){const a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||a[2]!==u[2]||a[3]!==u[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class kn extends Se{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindFramebuffer(u.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class qn extends Se{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindRenderbuffer(u.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Tr extends Se{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindTexture(u.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class fs extends Se{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindBuffer(u.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Bs extends Se{getDefault(){return null}set(a){const u=this.gl;u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Ji extends Se{constructor(a){super(a),this.vao=a.extVertexArrayObject}getDefault(){return null}set(a){this.vao&&(a!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(a),this.current=a,this.dirty=!1)}}class va extends Se{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class kl extends Se{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class sl extends Se{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class La extends Se{constructor(a,u){super(a),this.context=a,this.parent=u}getDefault(){return null}}class ur extends La{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Oa extends La{attachment(){return this.gl.DEPTH_ATTACHMENT}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,this.attachment(),u.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class ic extends Oa{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class dt{constructor(a,u,x,D){this.context=a,this.width=u,this.height=x;const z=this.framebuffer=a.gl.createFramebuffer();this.colorAttachment=new ur(a,z),D&&(this.depthAttachment=new Oa(a,z))}destroy(){const a=this.context.gl,u=this.colorAttachment.get();if(u&&a.deleteTexture(u),this.depthAttachment){const x=this.depthAttachment.get();x&&a.deleteRenderbuffer(x)}a.deleteFramebuffer(this.framebuffer)}}class Be{constructor(a){this.gl=a,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Oe(this),this.clearDepth=new Le(this),this.clearStencil=new Ue(this),this.colorMask=new lt(this),this.depthMask=new it(this),this.stencilMask=new pt(this),this.stencilFunc=new De(this),this.stencilOp=new ze(this),this.stencilTest=new Ge(this),this.depthRange=new Ye(this),this.depthTest=new at(this),this.depthFunc=new gt(this),this.blend=new Ut(this),this.blendFunc=new Gt(this),this.blendColor=new wi(this),this.blendEquation=new Qt(this),this.cullFace=new Ti(this),this.cullFaceSide=new Ki(this),this.frontFace=new Ni(this),this.program=new Xi(this),this.activeTexture=new Gi(this),this.viewport=new xn(this),this.bindFramebuffer=new kn(this),this.bindRenderbuffer=new qn(this),this.bindTexture=new Tr(this),this.bindVertexBuffer=new fs(this),this.bindElementBuffer=new Bs(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ji(this),this.pixelStoreUnpack=new va(this),this.pixelStoreUnpackPremultiplyAlpha=new kl(this),this.pixelStoreUnpackFlipY=new sl(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=a.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=a.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=a.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=a.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(a.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=a.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=a.getExtension("OES_standard_derivatives"),this.extTimerQuery=a.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,u){return new xe(this,a,u)}createVertexBuffer(a,u,x){return new me(this,a,u,x)}createRenderbuffer(a,u,x){const D=this.gl,z=D.createRenderbuffer();return this.bindRenderbuffer.set(z),D.renderbufferStorage(D.RENDERBUFFER,a,u,x),this.bindRenderbuffer.set(null),z}createFramebuffer(a,u,x){return new dt(this,a,u,x)}clear({color:a,depth:u,stencil:x}){const D=this.gl;let z=0;a&&(z|=D.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),u!==void 0&&(z|=D.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(u),this.depthMask.set(!0)),x!==void 0&&(z|=D.STENCIL_BUFFER_BIT,this.clearStencil.set(x),this.stencilMask.set(255)),D.clear(z)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){S(a.blendFunction,n.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class $e extends n.Evented{constructor(a,u,x,D){super(),this.id=a,this.dispatcher=x,this.setEventedParent(D),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},u),n.extend(this,n.pick(u,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ae(this._options,this.map._requestManager,null,null,(a,u)=>{this._tileJSONRequest=null,this._loaded=!0,a?this.fire(new n.ErrorEvent(a)):u&&(n.extend(this,u),u.bounds&&(this.tileBounds=new be(u.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(u.tiles),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return n.extend({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a,u){const x=n.exported.devicePixelRatio>=2,D=this.map._requestManager.normalizeTileURL(a.tileID.canonical.url(this.tiles,this.scheme),x,this.tileSize);a.request=n.getImage(this.map._requestManager.transformRequest(D,n.ResourceType.Tile),(z,ne,he,pe)=>(delete a.request,a.aborted?(a.state="unloaded",u(null)):z?(a.state="errored",u(z)):ne?(this.map._refreshExpiredTiles&&a.setExpiryData({cacheControl:he,expires:pe}),a.setTexture(ne,this.map.painter),a.state="loaded",n.cacheEntryPossiblyAdded(this.dispatcher),void u(null)):u(null)))}static loadTileData(a,u,x){a.setTexture(u,x)}static unloadTileData(a,u){a.texture&&u.saveTileTexture(a.texture)}abortTile(a,u){a.request&&(a.request.cancel(),delete a.request),u()}unloadTile(a,u){a.texture&&this.map.painter.saveTileTexture(a.texture),u()}hasTransition(){return!1}}let ct;function _t(_,a,u,x,D,z,ne,he){const pe=[_,u,D,a,x,z,1,1,1],ke=[ne,he,1],Me=n.adjoint([],pe),[Ne,qe,st]=n.transformMat3(ke,ke,n.transpose(Me,Me));return n.multiply$1(pe,[Ne,0,0,0,qe,0,0,0,st],pe)}class kt extends n.Evented{constructor(a,u,x,D){super(),this.id=a,this.dispatcher=x,this.coordinates=u.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(D),this.options=u,this._dirty=!1}load(a,u){this._loaded=u||!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),(x,D)=>{if(this._imageRequest=null,this._loaded=!0,x)this.fire(new n.ErrorEvent(x));else if(D){const{HTMLImageElement:z}=n.window;this.image=D instanceof z?n.exported.getImageData(D):D,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,a&&(this.coordinates=a),this._finishLoading()}})}loaded(){return this._loaded}updateImage(a){return this.image&&a.url?(this._imageRequest&&a.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=a.url,this.load(a.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(a){this.coordinates=a,this._boundsArray=void 0;const u=a.map(n.MercatorCoordinate.fromLngLat);return this.tileID=function(x){let D=1/0,z=1/0,ne=-1/0,he=-1/0;for(const Ne of x)D=Math.min(D,Ne.x),z=Math.min(z,Ne.y),ne=Math.max(ne,Ne.x),he=Math.max(he,Ne.y);const pe=Math.max(ne-D,he-z),ke=Math.max(0,Math.floor(-Math.log(pe)/Math.LN2)),Me=Math.pow(2,ke);return new n.CanonicalTileID(ke,Math.floor((D+ne)/2*Me),Math.floor((z+he)/2*Me))}(u),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(a){for(const pe in this.tiles){const ke=this.tiles[pe];ke.state!=="loaded"&&(ke.state="loaded",ke.texture=this.texture)}if(this._boundsArray)return;const u=n.tileTransform(this.tileID,this.map.transform.projection),[x,D,z,ne]=this.coordinates.map(pe=>{const ke=u.projection.project(pe[0],pe[1]);return n.getTilePoint(u,ke)._round()});this.perspectiveTransform=function(pe,ke,Me,Ne,qe,st,rt,ht,Ze,Qe){const ut=_t(0,0,pe,0,0,ke,pe,ke),ot=_t(Me,Ne,qe,st,rt,ht,Ze,Qe);return n.multiply$1(ot,n.adjoint(ut,ut),ot),[ot[6]/ot[8]*pe/n.EXTENT,ot[7]/ot[8]*ke/n.EXTENT]}(this.width,this.height,x.x,x.y,D.x,D.y,ne.x,ne.y,z.x,z.y);const he=this._boundsArray=new n.StructArrayLayout4i8;he.emplaceBack(x.x,x.y,0,0),he.emplaceBack(D.x,D.y,n.EXTENT,0),he.emplaceBack(ne.x,ne.y,0,n.EXTENT),he.emplaceBack(z.x,z.y,n.EXTENT,n.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=a.createVertexBuffer(he,n.boundsAttributes.members),this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const a=this.map.painter.context,u=a.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new n.Texture(a,this.image,u.RGBA),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(a)}loadTile(a,u){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={},u(null)):(a.state="errored",u(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Rt={vector:class extends n.Evented{constructor(_,a,u,x){if(super(),this.id=_,this.dispatcher=u,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(a,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},a),this._collectResourceTiming=a.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(x),this._tileWorkers={},this._deduped=new n.DedupedRequest}load(_){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"}));const a=Array.isArray(this.map._language)?this.map._language.join():this.map._language,u=this.map._worldview;this._tileJSONRequest=ae(this._options,this.map._requestManager,a,u,(x,D)=>{this._tileJSONRequest=null,this._loaded=!0,x?(a&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${a}`),u&&u.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${u}`),this.fire(new n.ErrorEvent(x))):D&&(n.extend(this,D),D.bounds&&(this.tileBounds=new be(D.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(D.tiles,this.map._requestManager._customAccessToken),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))),_&&_(x)})}loaded(){return this._loaded}hasTile(_){return!this.tileBounds||this.tileBounds.contains(_.canonical)}onAdd(_){this.map=_,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const _=this.map.style._getSourceCaches(this.id);for(const a of _)a.clearTiles()})}setSourceProperty(_){_(),this.reload()}setTiles(_){return this._options.tiles=_,this.reload(),this}setUrl(_){return this.url=_,this._options.url=_,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return n.extend({},this._options)}loadTile(_,a){const u=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme)),x={request:this.map._requestManager.transformRequest(u,n.ResourceType.Tile),data:void 0,uid:_.uid,tileID:_.tileID,tileZoom:_.tileZoom,zoom:_.tileID.overscaledZ,tileSize:this.tileSize*_.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:_.isSymbolTile};if(x.request.collectResourceTiming=this._collectResourceTiming,_.actor&&_.state!=="expired")_.state==="loading"?_.reloadCallback=a:_.request=_.actor.send("reloadTile",x,D.bind(this));else if(_.actor=this._tileWorkers[u]=this._tileWorkers[u]||this.dispatcher.getActor(),this.dispatcher.ready)_.request=_.actor.send("loadTile",x,D.bind(this),void 0,!0);else{const z=n.loadVectorTile.call({deduped:this._deduped},x,(ne,he)=>{ne||!he?D.call(this,ne):(x.data={cacheControl:he.cacheControl,expires:he.expires,rawData:he.rawData.slice(0)},_.actor&&_.actor.send("loadTile",x,D.bind(this),void 0,!0))},!0);_.request={cancel:z}}function D(z,ne){return delete _.request,_.aborted?a(null):z&&z.status!==404?a(z):(ne&&ne.resourceTiming&&(_.resourceTiming=ne.resourceTiming),this.map._refreshExpiredTiles&&ne&&_.setExpiryData(ne),_.loadVectorData(ne,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),a(null),void(_.reloadCallback&&(this.loadTile(_,_.reloadCallback),_.reloadCallback=null)))}}abortTile(_){_.request&&(_.request.cancel(),delete _.request),_.actor&&_.actor.send("abortTile",{uid:_.uid,type:this.type,source:this.id})}unloadTile(_){_.unloadVectorData(),_.actor&&_.actor.send("removeTile",{uid:_.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:$e,"raster-dem":class extends $e{constructor(_,a,u,x){super(_,a,u,x),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},a),this.encoding=a.encoding||"mapbox"}loadTile(_,a){const u=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function x(D,z){D&&(_.state="errored",a(D)),z&&(_.dem=z,_.dem.onDeserialize(),_.needsHillshadePrepare=!0,_.needsDEMTextureUpload=!0,_.state="loaded",a(null))}_.request=n.getImage(this.map._requestManager.transformRequest(u,n.ResourceType.Tile),function(D,z,ne,he){if(delete _.request,_.aborted)_.state="unloaded",a(null);else if(D)_.state="errored",a(D);else if(z){this.map._refreshExpiredTiles&&_.setExpiryData({cacheControl:ne,expires:he});const pe=n.window.ImageBitmap&&z instanceof n.window.ImageBitmap&&(ct==null&&(ct=n.window.OffscreenCanvas&&new n.window.OffscreenCanvas(1,1).getContext("2d")&&typeof n.window.createImageBitmap=="function"),ct),ke=1-(z.width-n.prevPowerOfTwo(z.width))/2;ke<1||_.neighboringTiles||(_.neighboringTiles=this._getNeighboringTiles(_.tileID));const Me=pe?z:n.exported.getImageData(z,ke),Ne={uid:_.uid,coord:_.tileID,source:this.id,rawImageData:Me,encoding:this.encoding,padding:ke};_.actor&&_.state!=="expired"||(_.actor=this.dispatcher.getActor(),_.actor.send("loadDEMTile",Ne,x.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(_){const a=_.canonical,u=Math.pow(2,a.z),x=(a.x-1+u)%u,D=a.x===0?_.wrap-1:_.wrap,z=(a.x+1+u)%u,ne=a.x+1===u?_.wrap+1:_.wrap,he={};return he[new n.OverscaledTileID(_.overscaledZ,D,a.z,x,a.y).key]={backfilled:!1},he[new n.OverscaledTileID(_.overscaledZ,ne,a.z,z,a.y).key]={backfilled:!1},a.y>0&&(he[new n.OverscaledTileID(_.overscaledZ,D,a.z,x,a.y-1).key]={backfilled:!1},he[new n.OverscaledTileID(_.overscaledZ,_.wrap,a.z,a.x,a.y-1).key]={backfilled:!1},he[new n.OverscaledTileID(_.overscaledZ,ne,a.z,z,a.y-1).key]={backfilled:!1}),a.y+1<u&&(he[new n.OverscaledTileID(_.overscaledZ,D,a.z,x,a.y+1).key]={backfilled:!1},he[new n.OverscaledTileID(_.overscaledZ,_.wrap,a.z,a.x,a.y+1).key]={backfilled:!1},he[new n.OverscaledTileID(_.overscaledZ,ne,a.z,z,a.y+1).key]={backfilled:!1}),he}unloadTile(_){_.demTexture&&this.map.painter.saveTileTexture(_.demTexture),_.fbo&&(_.fbo.destroy(),delete _.fbo),_.dem&&delete _.dem,delete _.neighboringTiles,_.state="unloaded"}},geojson:class extends n.Evented{constructor(_,a,u,x){super(),this.id=_,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=u.getActor(),this.setEventedParent(x),this._data=a.data,this._options=n.extend({},a),this._collectResourceTiming=a.collectResourceTiming,a.maxzoom!==void 0&&(this.maxzoom=a.maxzoom),a.type&&(this.type=a.type),a.attribution&&(this.attribution=a.attribution),this.promoteId=a.promoteId;const D=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:a.cluster||!1,geojsonVtOptions:{buffer:(a.buffer!==void 0?a.buffer:128)*D,tolerance:(a.tolerance!==void 0?a.tolerance:.375)*D,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:a.lineMetrics||!1,generateId:a.generateId||!1},superclusterOptions:{maxZoom:a.clusterMaxZoom!==void 0?a.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,a.clusterMinPoints||2),extent:n.EXTENT,radius:(a.clusterRadius!==void 0?a.clusterRadius:50)*D,log:!1,generateId:a.generateId||!1},clusterProperties:a.clusterProperties,filter:a.filter},a.workerOptions)}onAdd(_){this.map=_,this.setData(this._data)}setData(_){return this._data=_,this._updateWorkerData(),this}getClusterExpansionZoom(_,a){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:_,source:this.id},a),this}getClusterChildren(_,a){return this.actor.send("geojson.getClusterChildren",{clusterId:_,source:this.id},a),this}getClusterLeaves(_,a,u,x){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:_,limit:a,offset:u},x),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new n.Event("dataloading",{dataType:"source"})),this._loaded=!1;const _=n.extend({},this.workerOptions),a=this._data;typeof a=="string"?(_.request=this.map._requestManager.transformRequest(n.exported.resolveURL(a),n.ResourceType.Source),_.request.collectResourceTiming=this._collectResourceTiming):_.data=JSON.stringify(a),this._pendingLoad=this.actor.send(`${this.type}.loadData`,_,(u,x)=>{if(this._loaded=!0,this._pendingLoad=null,u)this.fire(new n.ErrorEvent(u));else{const D={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&x&&x.resourceTiming&&x.resourceTiming[this.id]&&(D.resourceTiming=x.resourceTiming[this.id]),this.fire(new n.Event("data",D)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(_,a){const u=_.actor?"reloadTile":"loadTile";_.actor=this.actor,_.request=this.actor.send(u,{type:this.type,uid:_.uid,tileID:_.tileID,tileZoom:_.tileZoom,zoom:_.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(x,D)=>(delete _.request,_.unloadVectorData(),_.aborted?a(null):x?a(x):(_.loadVectorData(D,this.map.painter,u==="reloadTile"),a(null))),void 0,u==="loadTile")}abortTile(_){_.request&&(_.request.cancel(),delete _.request),_.aborted=!0}unloadTile(_){_.unloadVectorData(),this.actor.send("removeTile",{uid:_.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return n.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends kt{constructor(_,a,u,x){super(_,a,u,x),this.roundZoom=!0,this.type="video",this.options=a}load(){this._loaded=!1;const _=this.options;this.urls=[];for(const a of _.urls)this.urls.push(this.map._requestManager.transformRequest(a,n.ResourceType.Source).url);n.getVideo(this.urls,(a,u)=>{this._loaded=!0,a?this.fire(new n.ErrorEvent(a)):u&&(this.video=u,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(_){if(this.video){const a=this.video.seekable;_<a.start(0)||_>a.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${a.start(0)} and ${a.end(0)}-second mark.`))):this.video.currentTime=_}}getVideo(){return this.video}onAdd(_){this.map||(this.map=_,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const _=this.map.painter.context,a=_.gl;this.texture?this.video.paused||(this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(_,this.video,a.RGBA),this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(_)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:kt,canvas:class extends kt{constructor(_,a,u,x){super(_,a,u,x),a.coordinates?Array.isArray(a.coordinates)&&a.coordinates.length===4&&!a.coordinates.some(D=>!Array.isArray(D)||D.length!==2||D.some(z=>typeof z!="number"))||this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${_}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${_}`,null,'missing required property "coordinates"'))),a.animate&&typeof a.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${_}`,null,'optional "animate" property must be a boolean value'))),a.canvas?typeof a.canvas=="string"||a.canvas instanceof n.window.HTMLCanvasElement||this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${_}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError(`sources.${_}`,null,'missing required property "canvas"'))),this.options=a,this.animate=a.animate===void 0||a.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(_){this.map=_,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let _=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,_=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,_=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const a=this.map.painter.context;this.texture?(_||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(a,this.canvas,a.gl.RGBA,{premultiply:!0}),this._prepareData(a)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const _ of[this.canvas.width,this.canvas.height])if(isNaN(_)||_<=0)return!0;return!1}},custom:class extends n.Evented{constructor(_,a,u,x){super(),this.id=_,this.type="custom",this._dataType="raster",this._dispatcher=u,this._implementation=a,this.setEventedParent(x),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new n.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new n.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new be(this._implementation.bounds,this.minzoom,this.maxzoom)),a.update=this._update.bind(this),a.clearTiles=this._clearTiles.bind(this),a.coveringTiles=this._coveringTiles.bind(this),n.extend(this,n.pick(a,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return n.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(_){this._map=_,this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(_),this.load()}onRemove(_){this._implementation.onRemove&&this._implementation.onRemove(_)}hasTile(_){if(this._implementation.hasTile){const{x:a,y:u,z:x}=_.canonical;return this._implementation.hasTile({x:a,y:u,z:x})}return!this.tileBounds||this.tileBounds.contains(_.canonical)}loadTile(_,a){const{x:u,y:x,z:D}=_.tileID.canonical,z=new n.window.AbortController;_.request=Promise.resolve(this._implementation.loadTile({x:u,y:x,z:D},{signal:z.signal})).then(function(ne){return delete _.request,_.aborted?(_.state="unloaded",a(null)):ne===void 0?(_.state="errored",a(null)):ne===null?(this.loadTileData(_,{width:this.tileSize,height:this.tileSize,data:null}),_.state="loaded",a(null)):function(he){return he instanceof n.window.ImageData||he instanceof n.window.HTMLCanvasElement||he instanceof n.window.ImageBitmap||he instanceof n.window.HTMLImageElement}(ne)?(this.loadTileData(_,ne),_.state="loaded",void a(null)):(_.state="errored",a(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(ne=>{ne.code!==20&&(_.state="errored",a(ne))}),_.request.cancel=()=>z.abort()}loadTileData(_,a){$e.loadTileData(_,a,this._map.painter)}unloadTileData(_){$e.unloadTileData(_,this._map.painter)}unloadTile(_,a){if(this.unloadTileData(_),this._implementation.unloadTile){const{x:u,y:x,z:D}=_.tileID.canonical;this._implementation.unloadTile({x:u,y:x,z:D})}a()}abortTile(_,a){_.request&&_.request.cancel&&(_.request.cancel(),delete _.request),a()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(_=>({x:_.canonical.x,y:_.canonical.y,z:_.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Ft=function(_,a,u,x){const D=new Rt[a.type](_,a,u,x);if(D.id!==_)throw new Error(`Expected Source id to be ${_} instead of ${D.id}`);return n.bindAll(["load","abort","unload","serialize","prepare"],D),D};function Dt(_,a){const u=n.identity([]);return n.scale(u,u,[.5*_.width,.5*-_.height,1]),n.translate(u,u,[1,-1,0]),n.multiply(u,u,_.calculateProjMatrix(a.toUnwrapped())),Float32Array.from(u)}function $t(_,a,u,x,D,z,ne,he=!1){const pe=_.tilesIn(x,ne,he);pe.sort(Fi);const ke=[];for(const Ne of pe)ke.push({wrappedTileID:Ne.tile.tileID.wrapped().key,queryResults:Ne.tile.queryRenderedFeatures(a,u,_._state,Ne,D,z,Dt(_.transform,Ne.tile.tileID),he)});const Me=function(Ne){const qe={},st={};for(const rt of Ne){const ht=rt.queryResults,Ze=rt.wrappedTileID,Qe=st[Ze]=st[Ze]||{};for(const ut in ht){const ot=ht[ut],vt=Qe[ut]=Qe[ut]||{},Mt=qe[ut]=qe[ut]||[];for(const bt of ot)vt[bt.featureIndex]||(vt[bt.featureIndex]=!0,Mt.push(bt))}}return qe}(ke);for(const Ne in Me)Me[Ne].forEach(qe=>{const st=qe.feature,rt=st.layer;rt&&rt.type!=="background"&&rt.type!=="sky"&&(st.source=rt.source,rt["source-layer"]&&(st.sourceLayer=rt["source-layer"]),st.state=st.id!==void 0?_.getFeatureState(rt["source-layer"],st.id):{})});return Me}function ui(_,a){const u=_.getRenderableIds().map(z=>_.getTileByID(z)),x=[],D={};for(let z=0;z<u.length;z++){const ne=u[z],he=ne.tileID.canonical.key;D[he]||(D[he]=!0,ne.querySourceFeatures(x,a))}return x}function Fi(_,a){const u=_.tileID,x=a.tileID;return u.overscaledZ-x.overscaledZ||u.canonical.y-x.canonical.y||u.wrap-x.wrap||u.canonical.x-x.canonical.x}function Ei(){return yh.workerClass!=null?new yh.workerClass:new n.window.Worker(yh.workerUrl)}const fn="mapboxgl_preloaded_worker_pool";class pn{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<pn.workerCount;)this.workers.push(new Ei);return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(u=>{u.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[fn]}numActive(){return Object.keys(this.active).length}}let Qi;function Bi(){return Qi||(Qi=new pn),Qi}function $n(_,a){const u={};for(const x in _)x!=="ref"&&(u[x]=_[x]);return n.refProperties.forEach(x=>{x in a&&(u[x]=a[x])}),u}function cs(_){_=_.slice();const a=Object.create(null);for(let u=0;u<_.length;u++)a[_[u].id]=_[u];for(let u=0;u<_.length;u++)"ref"in _[u]&&(_[u]=$n(_[u],a[_[u].ref]));return _}pn.workerCount=2;const an={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Ms(_,a,u){u.push({command:an.addSource,args:[_,a[_]]})}function ms(_,a,u){a.push({command:an.removeSource,args:[_]}),u[_]=!0}function oa(_,a,u,x){ms(_,u,x),Ms(_,a,u)}function aa(_,a,u){let x;for(x in _[u])if(_[u].hasOwnProperty(x)&&x!=="data"&&!S(_[u][x],a[u][x]))return!1;for(x in a[u])if(a[u].hasOwnProperty(x)&&x!=="data"&&!S(_[u][x],a[u][x]))return!1;return!0}function jr(_,a,u,x,D,z){let ne;for(ne in a=a||{},_=_||{})_.hasOwnProperty(ne)&&(S(_[ne],a[ne])||u.push({command:z,args:[x,ne,a[ne],D]}));for(ne in a)a.hasOwnProperty(ne)&&!_.hasOwnProperty(ne)&&(S(_[ne],a[ne])||u.push({command:z,args:[x,ne,a[ne],D]}))}function ai(_){return _.id}function $s(_,a){return _[a.id]=a,_}class lr{constructor(a,u){this.reset(a,u)}reset(a,u){this.points=a||[],this._distances=[0];for(let x=1;x<this.points.length;x++)this._distances[x]=this._distances[x-1]+this.points[x].dist(this.points[x-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(u||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=n.clamp(a,0,1);let u=1,x=this._distances[u];const D=a*this.paddedLength+this.padding;for(;x<D&&u<this._distances.length;)x=this._distances[++u];const z=u-1,ne=this._distances[z],he=x-ne,pe=he>0?(D-ne)/he:0;return this.points[z].mult(1-pe).add(this.points[u].mult(pe))}}class cr{constructor(a,u,x){const D=this.boxCells=[],z=this.circleCells=[];this.xCellCount=Math.ceil(a/x),this.yCellCount=Math.ceil(u/x);for(let ne=0;ne<this.xCellCount*this.yCellCount;ne++)D.push([]),z.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=u,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/u,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,u,x,D,z){this._forEachCell(u,x,D,z,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(u),this.bboxes.push(x),this.bboxes.push(D),this.bboxes.push(z)}insertCircle(a,u,x,D){this._forEachCell(u-D,x-D,u+D,x+D,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(u),this.circles.push(x),this.circles.push(D)}_insertBoxCell(a,u,x,D,z,ne){this.boxCells[z].push(ne)}_insertCircleCell(a,u,x,D,z,ne){this.circleCells[z].push(ne)}_query(a,u,x,D,z,ne){if(x<0||a>this.width||D<0||u>this.height)return!z&&[];const he=[];if(a<=0&&u<=0&&this.width<=x&&this.height<=D){if(z)return!0;for(let pe=0;pe<this.boxKeys.length;pe++)he.push({key:this.boxKeys[pe],x1:this.bboxes[4*pe],y1:this.bboxes[4*pe+1],x2:this.bboxes[4*pe+2],y2:this.bboxes[4*pe+3]});for(let pe=0;pe<this.circleKeys.length;pe++){const ke=this.circles[3*pe],Me=this.circles[3*pe+1],Ne=this.circles[3*pe+2];he.push({key:this.circleKeys[pe],x1:ke-Ne,y1:Me-Ne,x2:ke+Ne,y2:Me+Ne})}return ne?he.filter(ne):he}return this._forEachCell(a,u,x,D,this._queryCell,he,{hitTest:z,seenUids:{box:{},circle:{}}},ne),z?he.length>0:he}_queryCircle(a,u,x,D,z){const ne=a-x,he=a+x,pe=u-x,ke=u+x;if(he<0||ne>this.width||ke<0||pe>this.height)return!D&&[];const Me=[];return this._forEachCell(ne,pe,he,ke,this._queryCellCircle,Me,{hitTest:D,circle:{x:a,y:u,radius:x},seenUids:{box:{},circle:{}}},z),D?Me.length>0:Me}query(a,u,x,D,z){return this._query(a,u,x,D,!1,z)}hitTest(a,u,x,D,z){return this._query(a,u,x,D,!0,z)}hitTestCircle(a,u,x,D){return this._queryCircle(a,u,x,!0,D)}_queryCell(a,u,x,D,z,ne,he,pe){const ke=he.seenUids,Me=this.boxCells[z];if(Me!==null){const qe=this.bboxes;for(const st of Me)if(!ke.box[st]){ke.box[st]=!0;const rt=4*st;if(a<=qe[rt+2]&&u<=qe[rt+3]&&x>=qe[rt+0]&&D>=qe[rt+1]&&(!pe||pe(this.boxKeys[st]))){if(he.hitTest)return ne.push(!0),!0;ne.push({key:this.boxKeys[st],x1:qe[rt],y1:qe[rt+1],x2:qe[rt+2],y2:qe[rt+3]})}}}const Ne=this.circleCells[z];if(Ne!==null){const qe=this.circles;for(const st of Ne)if(!ke.circle[st]){ke.circle[st]=!0;const rt=3*st;if(this._circleAndRectCollide(qe[rt],qe[rt+1],qe[rt+2],a,u,x,D)&&(!pe||pe(this.circleKeys[st]))){if(he.hitTest)return ne.push(!0),!0;{const ht=qe[rt],Ze=qe[rt+1],Qe=qe[rt+2];ne.push({key:this.circleKeys[st],x1:ht-Qe,y1:Ze-Qe,x2:ht+Qe,y2:Ze+Qe})}}}}}_queryCellCircle(a,u,x,D,z,ne,he,pe){const ke=he.circle,Me=he.seenUids,Ne=this.boxCells[z];if(Ne!==null){const st=this.bboxes;for(const rt of Ne)if(!Me.box[rt]){Me.box[rt]=!0;const ht=4*rt;if(this._circleAndRectCollide(ke.x,ke.y,ke.radius,st[ht+0],st[ht+1],st[ht+2],st[ht+3])&&(!pe||pe(this.boxKeys[rt])))return ne.push(!0),!0}}const qe=this.circleCells[z];if(qe!==null){const st=this.circles;for(const rt of qe)if(!Me.circle[rt]){Me.circle[rt]=!0;const ht=3*rt;if(this._circlesCollide(st[ht],st[ht+1],st[ht+2],ke.x,ke.y,ke.radius)&&(!pe||pe(this.circleKeys[rt])))return ne.push(!0),!0}}}_forEachCell(a,u,x,D,z,ne,he,pe){const ke=this._convertToXCellCoord(a),Me=this._convertToYCellCoord(u),Ne=this._convertToXCellCoord(x),qe=this._convertToYCellCoord(D);for(let st=ke;st<=Ne;st++)for(let rt=Me;rt<=qe;rt++)if(z.call(this,a,u,x,D,this.xCellCount*rt+st,ne,he,pe))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,u,x,D,z,ne){const he=D-a,pe=z-u,ke=x+ne;return ke*ke>he*he+pe*pe}_circleAndRectCollide(a,u,x,D,z,ne,he){const pe=(ne-D)/2,ke=Math.abs(a-(D+pe));if(ke>pe+x)return!1;const Me=(he-z)/2,Ne=Math.abs(u-(z+Me));if(Ne>Me+x)return!1;if(ke<=pe||Ne<=Me)return!0;const qe=ke-pe,st=Ne-Me;return qe*qe+st*st<=x*x}}const Pl=Math.tan(85*Math.PI/180);function Kr(_,a,u,x,D,z,ne){const he=n.create();if(u)if(z.name==="globe"){const pe=n.calculateGlobeLabelMatrix(D,a);n.multiply(he,he,pe)}else{const pe=N([],ne);he[0]=pe[0],he[1]=pe[1],he[4]=pe[2],he[5]=pe[3],x||n.rotateZ(he,he,D.angle)}else n.multiply(he,D.labelPlaneMatrix,_);return he}function nc(_,a,u,x,D,z,ne){const he=Kr(_,a,u,x,D,z,ne);return z.name==="globe"&&u||(he[2]=he[6]=he[10]=he[14]=0),he}function uh(_,a,u,x,D,z,ne){if(u){if(z.name==="globe"){const he=Kr(_,a,u,x,D,z,ne);return n.invert(he,he),n.multiply(he,_,he),he}{const he=n.clone(_),pe=n.identity([]);return pe[0]=ne[0],pe[1]=ne[1],pe[4]=ne[2],pe[5]=ne[3],n.multiply(he,he,pe),x||n.rotateZ(he,he,-D.angle),he}}return D.glCoordMatrix}function Or(_,a,u,x){const D=[_,a,u,1];u?n.transformMat4$1(D,D,x):Ts(D,D,x);const z=D[3];return D[0]/=z,D[1]/=z,D[2]/=z,D}function ji(_,a){return Math.min(.5+_/a*.5,1.5)}function Fn(_,a){const u=_[0]/_[3],x=_[1]/_[3];return u>=-a[0]&&u<=a[0]&&x>=-a[1]&&x<=a[1]}function Wn(_,a,u,x,D,z,ne,he,pe,ke){const Me=u.transform,Ne=x?_.textSizeData:_.iconSizeData,qe=n.evaluateSizeForZoom(Ne,u.transform.zoom),st=Me.projection.name==="globe",rt=[256/u.width*2+1,256/u.height*2+1],ht=x?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;ht.clear();let Ze=null;st&&(Ze=x?_.text.globeExtVertexArray:_.icon.globeExtVertexArray);const Qe=_.lineVertexArray,ut=x?_.text.placedSymbolArray:_.icon.placedSymbolArray,ot=u.transform.width/u.transform.height;let vt,Mt=!1;for(let bt=0;bt<ut.length;bt++){const Ot=ut.get(bt),{numGlyphs:Zt,writingMode:qt}=Ot;if(qt!==n.WritingMode.vertical||Mt||vt===n.WritingMode.horizontal||(Mt=!0),vt=qt,(Ot.hidden||qt===n.WritingMode.vertical)&&!Mt){Er(Zt,ht);continue}Mt=!1;const Nt=new n.pointGeometry(Ot.tileAnchorX,Ot.tileAnchorY);let{x:xi,y:Ht,z:ci}=Me.projection.projectTilePoint(Nt.x,Nt.y,ke.canonical);if(pe){const[un,rn,Cn]=pe(Nt);xi+=un,Ht+=rn,ci+=Cn}const Jt=[xi,Ht,ci,1];if(n.transformMat4$1(Jt,Jt,a),!Fn(Jt,rt)){Er(Zt,ht);continue}const Ai=ji(u.transform.cameraToCenterDistance,Jt[3]),ei=n.evaluateSizeForFeature(Ne,qe,Ot),gi=ne?ei/Ai:ei*Ai,Di=Or(xi,Ht,ci,D);if(Di[3]<=0){Er(Zt,ht);continue}let jt={};const Kt=ne?null:pe,sn=Tn(Ot,gi,!1,he,a,D,z,_.glyphOffsetArray,Qe,ht,Ze,Di,Nt,jt,ot,Kt,Me.projection,ke,ne);Mt=sn.useVertical,Kt&&sn.needsFlipping&&(jt={}),(sn.notEnoughRoom||Mt||sn.needsFlipping&&Tn(Ot,gi,!0,he,a,D,z,_.glyphOffsetArray,Qe,ht,Ze,Di,Nt,jt,ot,Kt,Me.projection,ke,ne).notEnoughRoom)&&Er(Zt,ht)}x?(_.text.dynamicLayoutVertexBuffer.updateData(ht),Ze&&_.text.globeExtVertexBuffer.updateData(Ze)):(_.icon.dynamicLayoutVertexBuffer.updateData(ht),Ze&&_.icon.globeExtVertexBuffer.updateData(Ze))}function yo(_,a,u,x,D,z,ne,he,pe,ke,Me,Ne,qe,st,rt,ht){const{lineStartIndex:Ze,glyphStartIndex:Qe,segment:ut}=he,ot=Qe+he.numGlyphs,vt=Ze+he.lineLength,Mt=a.getoffsetX(Qe),bt=a.getoffsetX(ot-1),Ot=xa(_*Mt,u,x,D,z,ne,ut,Ze,vt,pe,ke,Me,Ne,qe,!0,st,rt,ht);if(!Ot)return null;const Zt=xa(_*bt,u,x,D,z,ne,ut,Ze,vt,pe,ke,Me,Ne,qe,!0,st,rt,ht);return Zt?{first:Ot,last:Zt}:null}function la(_,a,u,x){return _===n.WritingMode.horizontal&&Math.abs(x)>Math.abs(u)?{useVertical:!0}:_===n.WritingMode.vertical?x>0?{needsFlipping:!0}:null:a!==0&&function(D,z){return D===0||Math.abs(z/D)>Pl}(u,x)?a===1?{needsFlipping:!0}:null:u<0?{needsFlipping:!0}:null}function Tn(_,a,u,x,D,z,ne,he,pe,ke,Me,Ne,qe,st,rt,ht,Ze,Qe,ut){const ot=a/24,vt=_.lineOffsetX*ot,Mt=_.lineOffsetY*ot,{lineStartIndex:bt,glyphStartIndex:Ot,numGlyphs:Zt,segment:qt,writingMode:Nt,flipState:xi}=_,Ht=bt+_.lineLength,ci=Jt=>{if(Me){const[Di,jt,Kt]=Jt.up,sn=ke.length;n.updateGlobeVertexNormal(Me,sn+0,Di,jt,Kt),n.updateGlobeVertexNormal(Me,sn+1,Di,jt,Kt),n.updateGlobeVertexNormal(Me,sn+2,Di,jt,Kt),n.updateGlobeVertexNormal(Me,sn+3,Di,jt,Kt)}const[Ai,ei,gi]=Jt.point;n.addDynamicAttributes(ke,Ai,ei,gi,Jt.angle)};if(Zt>1){const Jt=yo(ot,he,vt,Mt,u,Ne,qe,_,pe,z,st,ht,!1,Ze,Qe,ut);if(!Jt)return{notEnoughRoom:!0};if(x&&!u){let[Ai,ei,gi]=Jt.first.point,[Di,jt,Kt]=Jt.last.point;[Ai,ei]=Or(Ai,ei,gi,ne),[Di,jt]=Or(Di,jt,Kt,ne);const sn=la(Nt,xi,(Di-Ai)*rt,jt-ei);if(_.flipState=sn&&sn.needsFlipping?1:2,sn)return sn}ci(Jt.first);for(let Ai=Ot+1;Ai<Ot+Zt-1;Ai++){const ei=xa(ot*he.getoffsetX(Ai),vt,Mt,u,Ne,qe,qt,bt,Ht,pe,z,st,ht,!1,!1,Ze,Qe,ut);if(!ei)return ke.length-=4*(Ai-Ot),{notEnoughRoom:!0};ci(ei)}ci(Jt.last)}else{if(x&&!u){const Ai=Or(qe.x,qe.y,0,D),ei=bt+qt+1,gi=new n.pointGeometry(pe.getx(ei),pe.gety(ei)),Di=Or(gi.x,gi.y,0,D),jt=Di[3]>0?Di:Ho(qe,gi,Ai,1,D,void 0,Ze,Qe.canonical),Kt=la(Nt,xi,(jt[0]-Ai[0])*rt,jt[1]-Ai[1]);if(_.flipState=Kt&&Kt.needsFlipping?1:2,Kt)return Kt}const Jt=xa(ot*he.getoffsetX(Ot),vt,Mt,u,Ne,qe,qt,bt,Ht,pe,z,st,ht,!1,!1,Ze,Qe,ut);if(!Jt)return{notEnoughRoom:!0};ci(Jt)}return{}}function Dl(_,a,u,x,D){const{x:z,y:ne,z:he}=x.projectTilePoint(_.x,_.y,a);if(!D)return Or(z,ne,he,u);const[pe,ke,Me]=D(_);return Or(z+pe,ne+ke,he+Me,u)}function Ho(_,a,u,x,D,z,ne,he){const pe=Dl(_.sub(a)._unit()._add(_),he,D,ne,z);return n.sub(pe,u,pe),n.normalize(pe,pe),n.scaleAndAdd(pe,u,pe,x)}function xa(_,a,u,x,D,z,ne,he,pe,ke,Me,Ne,qe,st,rt,ht,Ze,Qe){const ut=x?_-a:_+a;let ot=ut>0?1:-1,vt=0;x&&(ot*=-1,vt=Math.PI),ot<0&&(vt+=Math.PI);let Mt=he+ne+(ot>0?0:1)|0,bt=D,Ot=D,Zt=0,qt=0;const Nt=Math.abs(ut),xi=[],Ht=[];let ci=z,Jt=ci;const Ai=()=>Ho(Jt,ci,Ot,Nt-Zt+1,Me,qe,ht,Ze.canonical);for(;Zt+qt<=Nt;){if(Mt+=ot,Mt<he||Mt>=pe)return null;if(Ot=bt,Jt=ci,xi.push(Ot),st&&Ht.push(Jt),ci=new n.pointGeometry(ke.getx(Mt),ke.gety(Mt)),bt=Ne[Mt],!bt){const Cn=Dl(ci,Ze.canonical,Me,ht,qe);bt=Cn[3]>0?Ne[Mt]=Cn:Ai()}Zt+=qt,qt=n.distance(Ot,bt)}rt&&qe&&(Ne[Mt]&&(bt=Ai(),qt=n.distance(Ot,bt)),Ne[Mt]=bt);const ei=(Nt-Zt)/qt,gi=ci.sub(Jt)._mult(ei)._add(Jt),Di=n.sub([],bt,Ot),jt=n.scaleAndAdd([],Ot,Di,ei);let Kt=[0,0,1],sn=Di[0],un=Di[1];if(Qe&&(Kt=ht.upVector(Ze.canonical,gi.x,gi.y),Kt[0]!==0||Kt[1]!==0||Kt[2]!==1)){const Cn=[Kt[2],0,-Kt[0]],Hn=n.cross([],Kt,Cn);n.normalize(Cn,Cn),n.normalize(Hn,Hn),sn=n.dot(Di,Cn),un=n.dot(Di,Hn)}if(u){const Cn=n.cross([],Kt,Di);n.normalize(Cn,Cn),n.scaleAndAdd(jt,jt,Cn,u*ot)}const rn=vt+Math.atan2(un,sn);return xi.push(jt),st&&Ht.push(gi),{point:jt,angle:rn,path:xi,tilePath:Ht,up:Kt}}function Er(_,a){const u=a.length,x=u+4*_;a.resize(x),a.float32.fill(-1/0,4*u,4*x)}function Ts(_,a,u){const x=a[0],D=a[1];return _[0]=u[0]*x+u[4]*D+u[12],_[1]=u[1]*x+u[5]*D+u[13],_[3]=u[3]*x+u[7]*D+u[15],_}const Rr=100;class ho{constructor(a,u,x=new cr(a.width+200,a.height+200,25),D=new cr(a.width+200,a.height+200,25)){this.transform=a,this.grid=x,this.ignoredGrid=D,this.pitchfactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+Rr,this.screenBottomBoundary=a.height+Rr,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.fogState=u}placeCollisionBox(a,u,x,D,z,ne,he,pe){let ke=x.projectedAnchorX,Me=x.projectedAnchorY,Ne=x.projectedAnchorZ;const qe=x.elevation,st=x.tileID,rt=a.getProjection();if(qe&&st){const[bt,Ot,Zt]=rt.upVector(st.canonical,x.tileAnchorX,x.tileAnchorY),qt=rt.upVectorScale(st.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;ke+=bt*qe*qt,Me+=Ot*qe*qt,Ne+=Zt*qe*qt}const ht=this.projectAndGetPerspectiveRatio(he,ke,Me,Ne,x.tileID,rt.name==="globe"||!!qe||this.transform.pitch>0,rt),Ze=ne*ht.perspectiveRatio,Qe=(x.x1*u+D.x-x.padding)*Ze+ht.point.x,ut=(x.y1*u+D.y-x.padding)*Ze+ht.point.y,ot=(x.x2*u+D.x+x.padding)*Ze+ht.point.x,vt=(x.y2*u+D.y+x.padding)*Ze+ht.point.y,Mt=ht.perspectiveRatio<=.55||ht.occluded;return!this.isInsideGrid(Qe,ut,ot,vt)||!z&&this.grid.hitTest(Qe,ut,ot,vt,pe)||Mt?{box:[],offscreen:!1,occluded:ht.occluded}:{box:[Qe,ut,ot,vt],offscreen:this.isOffscreen(Qe,ut,ot,vt),occluded:!1}}placeCollisionCircles(a,u,x,D,z,ne,he,pe,ke,Me,Ne,qe,st,rt,ht){const Ze=[],Qe=this.transform.elevation,ut=a.getProjection(),ot=Qe?Qe.getAtTileOffsetFunc(ht,this.transform.center.lat,this.transform.worldSize,ut):null,vt=new n.pointGeometry(x.tileAnchorX,x.tileAnchorY);let{x:Mt,y:bt,z:Ot}=ut.projectTilePoint(vt.x,vt.y,ht.canonical);if(ot){const[gi,Di,jt]=ot(vt);Mt+=gi,bt+=Di,Ot+=jt}const Zt=ut.name==="globe",qt=this.projectAndGetPerspectiveRatio(he,Mt,bt,Ot,ht,Zt||!!Qe||this.transform.pitch>0,ut),{perspectiveRatio:Nt}=qt,xi=(Ne?ne/Nt:ne*Nt)/n.ONE_EM,Ht=Or(Mt,bt,Ot,pe),ci=qt.signedDistanceFromCamera>0?yo(xi,z,x.lineOffsetX*xi,x.lineOffsetY*xi,!1,Ht,vt,x,D,pe,{},Qe&&!Ne?ot:null,Ne&&!!Qe,ut,ht,Ne):null;let Jt=!1,Ai=!1,ei=!0;if(ci&&!qt.occluded){const gi=.5*st*Nt+rt,Di=new n.pointGeometry(-100,-100),jt=new n.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Kt=new lr,{first:sn,last:un}=ci,rn=sn.path.length;let Cn=[];for(let Zi=rn-1;Zi>=1;Zi--)Cn.push(sn.path[Zi]);for(let Zi=1;Zi<un.path.length;Zi++)Cn.push(un.path[Zi]);const Hn=2.5*gi;ke&&(Cn=Cn.map(([Zi,zs,Es],Fs)=>(ot&&!Zt&&(Es=ot(Fs<rn-1?sn.tilePath[rn-1-Fs]:un.tilePath[Fs-rn+2])[2]),Or(Zi,zs,Es,ke))),Cn.some(Zi=>Zi[3]<=0)&&(Cn=[]));let mn=[];if(Cn.length>0){let Zi=1/0,zs=-1/0,Es=1/0,Fs=-1/0;for(const Ls of Cn)Zi=Math.min(Zi,Ls[0]),Es=Math.min(Es,Ls[1]),zs=Math.max(zs,Ls[0]),Fs=Math.max(Fs,Ls[1]);zs>=Di.x&&Zi<=jt.x&&Fs>=Di.y&&Es<=jt.y&&(mn=[Cn.map(Ls=>new n.pointGeometry(Ls[0],Ls[1]))],(Zi<Di.x||zs>jt.x||Es<Di.y||Fs>jt.y)&&(mn=n.clipLine(mn,Di.x,Di.y,jt.x,jt.y)))}for(const Zi of mn){Kt.reset(Zi,.25*gi);let zs=0;zs=Kt.length<=.5*gi?1:Math.ceil(Kt.paddedLength/Hn)+1;for(let Es=0;Es<zs;Es++){const Fs=Es/Math.max(zs-1,1),Ls=Kt.lerp(Fs),ha=Ls.x+Rr,qo=Ls.y+Rr;Ze.push(ha,qo,gi,0);const zo=ha-gi,xl=qo-gi,Ys=ha+gi,Os=qo+gi;if(ei=ei&&this.isOffscreen(zo,xl,Ys,Os),Ai=Ai||this.isInsideGrid(zo,xl,Ys,Os),!u&&this.grid.hitTestCircle(ha,qo,gi,qe)&&(Jt=!0,!Me))return{circles:[],offscreen:!1,collisionDetected:Jt,occluded:!1}}}}return{circles:!Me&&Jt||!Ai?[]:Ze,offscreen:ei,collisionDetected:Jt,occluded:qt.occluded}}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const u=[];let x=1/0,D=1/0,z=-1/0,ne=-1/0;for(const Me of a){const Ne=new n.pointGeometry(Me.x+Rr,Me.y+Rr);x=Math.min(x,Ne.x),D=Math.min(D,Ne.y),z=Math.max(z,Ne.x),ne=Math.max(ne,Ne.y),u.push(Ne)}const he=this.grid.query(x,D,z,ne).concat(this.ignoredGrid.query(x,D,z,ne)),pe={},ke={};for(const Me of he){const Ne=Me.key;if(pe[Ne.bucketInstanceId]===void 0&&(pe[Ne.bucketInstanceId]={}),pe[Ne.bucketInstanceId][Ne.featureIndex])continue;const qe=[new n.pointGeometry(Me.x1,Me.y1),new n.pointGeometry(Me.x2,Me.y1),new n.pointGeometry(Me.x2,Me.y2),new n.pointGeometry(Me.x1,Me.y2)];n.polygonIntersectsPolygon(u,qe)&&(pe[Ne.bucketInstanceId][Ne.featureIndex]=!0,ke[Ne.bucketInstanceId]===void 0&&(ke[Ne.bucketInstanceId]=[]),ke[Ne.bucketInstanceId].push(Ne.featureIndex))}return ke}insertCollisionBox(a,u,x,D,z){(u?this.ignoredGrid:this.grid).insert({bucketInstanceId:x,featureIndex:D,collisionGroupID:z},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,u,x,D,z){const ne=u?this.ignoredGrid:this.grid,he={bucketInstanceId:x,featureIndex:D,collisionGroupID:z};for(let pe=0;pe<a.length;pe+=4)ne.insertCircle(he,a[pe],a[pe+1],a[pe+2])}projectAndGetPerspectiveRatio(a,u,x,D,z,ne,he){const pe=[u,x,D,1];let ke=!1;if(D||this.transform.pitch>0){n.transformMat4$1(pe,pe,a);const Ne=he.name==="globe";this.fogState&&z&&!Ne&&(ke=function(st,rt,ht,Ze,Qe,ut){const ot=ut.calculateFogTileMatrix(Qe),vt=[rt,ht,Ze];return n.transformMat4(vt,vt,ot),q(st,vt,ut.pitch,ut._fov)}(this.fogState,u,x,D,z.toUnwrapped(),this.transform)>.9)}else Ts(pe,pe,a);const Me=pe[3];return{point:new n.pointGeometry((pe[0]/Me+1)/2*this.transform.width+Rr,(-pe[1]/Me+1)/2*this.transform.height+Rr),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(he)/Me*.5,1.5),signedDistanceFromCamera:Me,occluded:ne&&pe[2]>Me||ke}}isOffscreen(a,u,x,D){return x<Rr||a>=this.screenRightBoundary||D<Rr||u>this.screenBottomBoundary}isInsideGrid(a,u,x,D){return x>=0&&a<this.gridRightBoundary&&D>=0&&u<this.gridBottomBoundary}getViewportMatrix(){const a=n.identity([]);return n.translate(a,a,[-100,-100,0]),a}}function rl(_,a,u){const x=a.createTileMatrix(_,_.worldSize,u.toUnwrapped());return n.multiply(new Float32Array(16),_.projMatrix,x)}function Io(_,a,u){if(a.projection.name===u.projection.name)return _.projMatrix;const x=u.clone();return x.setProjection(a.projection),rl(x,a.getProjection(),_)}function Ra(_,a,u){return a.name===u.projection.name?_.projMatrix:rl(u,a,_)}class Ba{constructor(a,u,x,D){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?u:-u))):D&&x?1:0,this.placed=x}isHidden(){return this.opacity===0&&!this.placed}}class ba{constructor(a,u,x,D,z,ne=!1){this.text=new Ba(a?a.text:null,u,x,z),this.icon=new Ba(a?a.icon:null,u,D,z),this.clipped=ne}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class za{constructor(a,u,x,D=!1){this.text=a,this.icon=u,this.skipFade=x,this.clipped=D}}class sc{constructor(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]}}class rc{constructor(a,u,x,D,z){this.bucketInstanceId=a,this.featureIndex=u,this.sourceLayerIndex=x,this.bucketIndex=D,this.tileID=z}}class so{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){const u=++this.maxGroupID;this.collisionGroups[a]={ID:u,predicate:x=>x.collisionGroupID===u}}return this.collisionGroups[a]}}function rr(_,a,u,x,D){const{horizontalAlign:z,verticalAlign:ne}=n.getAnchorAlignment(_),he=-(z-.5)*a,pe=-(ne-.5)*u,ke=n.evaluateVariableOffset(_,x);return new n.pointGeometry(he+ke[0]*D,pe+ke[1]*D)}function ol(_,a,u,x,D){const z=new n.pointGeometry(_,a);return u&&z._rotate(x?D:-D),z}class wa{constructor(a,u,x,D,z){this.transform=a.clone(),this.projection=a.projection.name,this.collisionIndex=new ho(this.transform,z),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=u,this.retainedQueryData={},this.collisionGroups=new so(x),this.collisionCircleArrays={},this.prevPlacement=D,D&&(D.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(a,u,x,D){const z=x.getBucket(u),ne=x.latestFeatureIndex;if(!z||!ne||u.id!==z.layerIds[0])return;const he=z.layers[0].layout,pe=x.collisionBoxArray,ke=Math.pow(2,this.transform.zoom-x.tileID.overscaledZ),Me=x.tileSize/n.EXTENT,Ne=x.tileID.toUnwrapped();this.transform.setProjection(z.projection);const qe=(st=x.tileID,rt=z.getProjection(),ht=this.transform,rt.name===this.projection?ht.calculateProjMatrix(st.toUnwrapped()):rl(ht,rt,st));var st,rt,ht;const Ze=he.get("text-pitch-alignment")==="map",Qe=he.get("text-rotation-alignment")==="map";u.compileFilter();const ut=u.dynamicFilter(),ot=u.dynamicFilterNeedsFeature(),vt=this.transform.calculatePixelsToTileUnitsMatrix(x),Mt=nc(qe,x.tileID.canonical,Ze,Qe,this.transform,z.getProjection(),vt);let bt=null;if(Ze){const qt=uh(qe,x.tileID.canonical,Ze,Qe,this.transform,z.getProjection(),vt);bt=n.multiply([],this.transform.labelPlaneMatrix,qt)}let Ot=null;ut&&x.latestFeatureIndex&&(Ot={unwrappedTileID:Ne,dynamicFilter:ut,dynamicFilterNeedsFeature:ot,featureIndex:x.latestFeatureIndex}),this.retainedQueryData[z.bucketInstanceId]=new rc(z.bucketInstanceId,ne,z.sourceLayerIndex,z.index,x.tileID);const Zt={bucket:z,layout:he,posMatrix:qe,textLabelPlaneMatrix:Mt,labelToScreenMatrix:bt,clippingData:Ot,scale:ke,textPixelRatio:Me,holdingForFade:x.holdingForFade(),collisionBoxArray:pe,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(z.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:n.evaluateSizeForZoom(z.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(z.sourceID)};if(D)for(const qt of z.sortKeyRanges){const{sortKey:Nt,symbolInstanceStart:xi,symbolInstanceEnd:Ht}=qt;a.push({sortKey:Nt,symbolInstanceStart:xi,symbolInstanceEnd:Ht,parameters:Zt})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:z.symbolInstances.length,parameters:Zt})}attemptAnchorPlacement(a,u,x,D,z,ne,he,pe,ke,Me,Ne,qe,st,rt,ht,Ze,Qe,ut){const{textOffset0:ot,textOffset1:vt,crossTileID:Mt}=qe,bt=[ot,vt],Ot=rr(a,x,D,bt,z),Zt=this.collisionIndex.placeCollisionBox(rt,z,u,ol(Ot.x,Ot.y,ne,he,this.transform.angle),Ne,pe,ke,Me.predicate);if(Ze){const qt=rt.getSymbolInstanceIconSize(ut,this.transform.zoom,qe.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(rt,qt,Ze,ol(Ot.x,Ot.y,ne,he,this.transform.angle),Ne,pe,ke,Me.predicate).box.length===0)return}if(Zt.box.length>0){let qt;return this.prevPlacement&&this.prevPlacement.variableOffsets[Mt]&&this.prevPlacement.placements[Mt]&&this.prevPlacement.placements[Mt].text&&(qt=this.prevPlacement.variableOffsets[Mt].anchor),this.variableOffsets[Mt]={textOffset:bt,width:x,height:D,anchor:a,textScale:z,prevAnchor:qt},this.markUsedJustification(rt,a,qe,ht),rt.allowVerticalPlacement&&(this.markUsedOrientation(rt,ht,qe),this.placedOrientations[Mt]=ht),{shift:Ot,placedGlyphBoxes:Zt}}}placeLayerBucketPart(a,u,x,D){const{bucket:z,layout:ne,posMatrix:he,textLabelPlaneMatrix:pe,labelToScreenMatrix:ke,clippingData:Me,textPixelRatio:Ne,holdingForFade:qe,collisionBoxArray:st,partiallyEvaluatedTextSize:rt,partiallyEvaluatedIconSize:ht,collisionGroup:Ze}=a.parameters,Qe=ne.get("text-optional"),ut=ne.get("icon-optional"),ot=ne.get("text-allow-overlap"),vt=ne.get("icon-allow-overlap"),Mt=ne.get("text-rotation-alignment")==="map",bt=ne.get("text-pitch-alignment")==="map",Ot=ne.get("icon-text-fit")!=="none",Zt=ne.get("symbol-z-order")==="viewport-y";this.transform.setProjection(z.projection);let qt=ot&&(vt||!z.hasIconData()||ut),Nt=vt&&(ot||!z.hasTextData()||Qe);!z.collisionArrays&&st&&z.deserializeCollisionBoxes(st),x&&D&&z.updateCollisionDebugBuffers(this.transform.zoom,st);const xi=(Ht,ci,Jt)=>{const{crossTileID:Ai,numVerticalGlyphVertices:ei}=Ht;if(Me){const Ys={zoom:this.transform.zoom,pitch:this.transform.pitch};let Os=null;if(Me.dynamicFilterNeedsFeature){const ws=this.retainedQueryData[z.bucketInstanceId];Os=Me.featureIndex.loadFeature({featureIndex:Ht.featureIndex,bucketIndex:ws.bucketIndex,sourceLayerIndex:ws.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,Me.dynamicFilter)(Ys,Os,this.retainedQueryData[z.bucketInstanceId].tileID.canonical,new n.pointGeometry(Ht.tileAnchorX,Ht.tileAnchorY),this.transform.calculateDistanceTileData(Me.unwrappedTileID)))return this.placements[Ai]=new za(!1,!1,!1,!0),void(u[Ai]=!0)}if(u[Ai])return;if(qe)return void(this.placements[Ai]=new za(!1,!1,!1));let gi=!1,Di=!1,jt=!0,Kt=!1,sn=!1,un=null,rn={box:null,offscreen:null,occluded:null},Cn={box:null,offscreen:null,occluded:null},Hn=null,mn=null,Zi=null,zs=0,Es=0,Fs=0;Jt.textFeatureIndex?zs=Jt.textFeatureIndex:Ht.useRuntimeCollisionCircles&&(zs=Ht.featureIndex),Jt.verticalTextFeatureIndex&&(Es=Jt.verticalTextFeatureIndex);const Ls=Ys=>{Ys.tileID=this.retainedQueryData[z.bucketInstanceId].tileID;const Os=this.transform.elevation;(Os||Ys.elevation)&&(Ys.elevation=Os?Os.getAtTileOffset(Ys.tileID,Ys.tileAnchorX,Ys.tileAnchorY):0)},ha=Jt.textBox;if(ha){Ls(ha);const Ys=ws=>{let Dr=n.WritingMode.horizontal;if(z.allowVerticalPlacement&&!ws&&this.prevPlacement){const To=this.prevPlacement.placedOrientations[Ai];To&&(this.placedOrientations[Ai]=To,Dr=To,this.markUsedOrientation(z,Dr,Ht))}return Dr},Os=(ws,Dr)=>{if(z.allowVerticalPlacement&&ei>0&&Jt.verticalTextBox){for(const To of z.writingModes)if(To===n.WritingMode.vertical?(rn=Dr(),Cn=rn):rn=ws(),rn&&rn.box&&rn.box.length)break}else rn=ws()};if(ne.get("text-variable-anchor")){let ws=ne.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ai]){const Xs=this.prevPlacement.variableOffsets[Ai];ws.indexOf(Xs.anchor)>0&&(ws=ws.filter(No=>No!==Xs.anchor),ws.unshift(Xs.anchor))}const Dr=(Xs,No,Ad)=>{const bl=z.getSymbolInstanceTextSize(rt,Ht,this.transform.zoom,ci),Eo=(Xs.x2-Xs.x1)*bl+2*Xs.padding,da=(Xs.y2-Xs.y1)*bl+2*Xs.padding,Fl=Ot&&!vt?No:null;Fl&&Ls(Fl);let Va={box:[],offscreen:!1,occluded:!1};const Zn=ot?2*ws.length:ws.length;for(let Qh=0;Qh<Zn;++Qh){const jl=this.attemptAnchorPlacement(ws[Qh%ws.length],Xs,Eo,da,bl,Mt,bt,Ne,he,Ze,Qh>=ws.length,Ht,ci,z,Ad,Fl,rt,ht);if(jl&&(Va=jl.placedGlyphBoxes,Va&&Va.box&&Va.box.length)){gi=!0,un=jl.shift;break}}return Va};Os(()=>Dr(ha,Jt.iconBox,n.WritingMode.horizontal),()=>{const Xs=Jt.verticalTextBox;return Xs&&Ls(Xs),z.allowVerticalPlacement&&!(rn&&rn.box&&rn.box.length)&&ei>0&&Xs?Dr(Xs,Jt.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),rn&&(gi=rn.box,jt=rn.offscreen,Kt=rn.occluded);const To=Ys(rn&&rn.box);if(!gi&&this.prevPlacement){const Xs=this.prevPlacement.variableOffsets[Ai];Xs&&(this.variableOffsets[Ai]=Xs,this.markUsedJustification(z,Xs.anchor,Ht,To))}}else{const ws=(Dr,To)=>{const Xs=z.getSymbolInstanceTextSize(rt,Ht,this.transform.zoom,ci),No=this.collisionIndex.placeCollisionBox(z,Xs,Dr,new n.pointGeometry(0,0),ot,Ne,he,Ze.predicate);return No&&No.box&&No.box.length&&(this.markUsedOrientation(z,To,Ht),this.placedOrientations[Ai]=To),No};Os(()=>ws(ha,n.WritingMode.horizontal),()=>{const Dr=Jt.verticalTextBox;return z.allowVerticalPlacement&&ei>0&&Dr?(Ls(Dr),ws(Dr,n.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Ys(rn&&rn.box&&rn.box.length)}}if(Hn=rn,gi=Hn&&Hn.box&&Hn.box.length>0,jt=Hn&&Hn.offscreen,Kt=Hn&&Hn.occluded,Ht.useRuntimeCollisionCircles){const Ys=z.text.placedSymbolArray.get(Ht.centerJustifiedTextSymbolIndex>=0?Ht.centerJustifiedTextSymbolIndex:Ht.verticalPlacedTextSymbolIndex),Os=n.evaluateSizeForFeature(z.textSizeData,rt,Ys),ws=ne.get("text-padding");mn=this.collisionIndex.placeCollisionCircles(z,ot,Ys,z.lineVertexArray,z.glyphOffsetArray,Os,he,pe,ke,x,bt,Ze.predicate,Ht.collisionCircleDiameter*Os/n.ONE_EM,ws,this.retainedQueryData[z.bucketInstanceId].tileID),gi=ot||mn.circles.length>0&&!mn.collisionDetected,jt=jt&&mn.offscreen,Kt=mn.occluded}if(Jt.iconFeatureIndex&&(Fs=Jt.iconFeatureIndex),Jt.iconBox){const Ys=Os=>{Ls(Os);const ws=Ot&&un?ol(un.x,un.y,Mt,bt,this.transform.angle):new n.pointGeometry(0,0),Dr=z.getSymbolInstanceIconSize(ht,this.transform.zoom,Ht.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(z,Dr,Os,ws,vt,Ne,he,Ze.predicate)};Cn&&Cn.box&&Cn.box.length&&Jt.verticalIconBox?(Zi=Ys(Jt.verticalIconBox),Di=Zi.box.length>0):(Zi=Ys(Jt.iconBox),Di=Zi.box.length>0),jt=jt&&Zi.offscreen,sn=Zi.occluded}const qo=Qe||Ht.numHorizontalGlyphVertices===0&&ei===0,zo=ut||Ht.numIconVertices===0;if(qo||zo?zo?qo||(Di=Di&&gi):gi=Di&&gi:Di=gi=Di&&gi,gi&&Hn&&Hn.box&&this.collisionIndex.insertCollisionBox(Hn.box,ne.get("text-ignore-placement"),z.bucketInstanceId,Cn&&Cn.box&&Es?Es:zs,Ze.ID),Di&&Zi&&this.collisionIndex.insertCollisionBox(Zi.box,ne.get("icon-ignore-placement"),z.bucketInstanceId,Fs,Ze.ID),mn&&(gi&&this.collisionIndex.insertCollisionCircles(mn.circles,ne.get("text-ignore-placement"),z.bucketInstanceId,zs,Ze.ID),x)){const Ys=z.bucketInstanceId;let Os=this.collisionCircleArrays[Ys];Os===void 0&&(Os=this.collisionCircleArrays[Ys]=new sc);for(let ws=0;ws<mn.circles.length;ws+=4)Os.circles.push(mn.circles[ws+0]),Os.circles.push(mn.circles[ws+1]),Os.circles.push(mn.circles[ws+2]),Os.circles.push(mn.collisionDetected?1:0)}const xl=z.projection.name!=="globe";qt=qt&&(xl||!Kt),Nt=Nt&&(xl||!sn),this.placements[Ai]=new za(gi||qt,Di||Nt,jt||z.justReloaded),u[Ai]=!0};if(Zt){const Ht=z.getSortedSymbolIndexes(this.transform.angle);for(let ci=Ht.length-1;ci>=0;--ci){const Jt=Ht[ci];xi(z.symbolInstances.get(Jt),Jt,z.collisionArrays[Jt])}}else for(let Ht=a.symbolInstanceStart;Ht<a.symbolInstanceEnd;Ht++)xi(z.symbolInstances.get(Ht),Ht,z.collisionArrays[Ht]);if(x&&z.bucketInstanceId in this.collisionCircleArrays){const Ht=this.collisionCircleArrays[z.bucketInstanceId];n.invert(Ht.invProjMatrix,he),Ht.viewportMatrix=this.collisionIndex.getViewportMatrix()}z.justReloaded=!1}markUsedJustification(a,u,x,D){const{leftJustifiedTextSymbolIndex:z,centerJustifiedTextSymbolIndex:ne,rightJustifiedTextSymbolIndex:he,verticalPlacedTextSymbolIndex:pe,crossTileID:ke}=x,Me=n.getAnchorJustification(u),Ne=D===n.WritingMode.vertical?pe:Me==="left"?z:Me==="center"?ne:Me==="right"?he:-1;z>=0&&(a.text.placedSymbolArray.get(z).crossTileID=Ne>=0&&z!==Ne?0:ke),ne>=0&&(a.text.placedSymbolArray.get(ne).crossTileID=Ne>=0&&ne!==Ne?0:ke),he>=0&&(a.text.placedSymbolArray.get(he).crossTileID=Ne>=0&&he!==Ne?0:ke),pe>=0&&(a.text.placedSymbolArray.get(pe).crossTileID=Ne>=0&&pe!==Ne?0:ke)}markUsedOrientation(a,u,x){const D=u===n.WritingMode.horizontal||u===n.WritingMode.horizontalOnly?u:0,z=u===n.WritingMode.vertical?u:0,{leftJustifiedTextSymbolIndex:ne,centerJustifiedTextSymbolIndex:he,rightJustifiedTextSymbolIndex:pe,verticalPlacedTextSymbolIndex:ke}=x,Me=a.text.placedSymbolArray;ne>=0&&(Me.get(ne).placedOrientation=D),he>=0&&(Me.get(he).placedOrientation=D),pe>=0&&(Me.get(pe).placedOrientation=D),ke>=0&&(Me.get(ke).placedOrientation=z)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;const u=this.prevPlacement;let x=!1;this.prevZoomAdjustment=u?u.zoomAdjustment(this.transform.zoom):0;const D=u?u.symbolFadeChange(a):1,z=u?u.opacities:{},ne=u?u.variableOffsets:{},he=u?u.placedOrientations:{};for(const pe in this.placements){const ke=this.placements[pe],Me=z[pe];Me?(this.opacities[pe]=new ba(Me,D,ke.text,ke.icon,null,ke.clipped),x=x||ke.text!==Me.text.placed||ke.icon!==Me.icon.placed):(this.opacities[pe]=new ba(null,D,ke.text,ke.icon,ke.skipFade,ke.clipped),x=x||ke.text||ke.icon)}for(const pe in z){const ke=z[pe];if(!this.opacities[pe]){const Me=new ba(ke,D,!1,!1);Me.isHidden()||(this.opacities[pe]=Me,x=x||ke.text.placed||ke.icon.placed)}}for(const pe in ne)this.variableOffsets[pe]||!this.opacities[pe]||this.opacities[pe].isHidden()||(this.variableOffsets[pe]=ne[pe]);for(const pe in he)this.placedOrientations[pe]||!this.opacities[pe]||this.opacities[pe].isHidden()||(this.placedOrientations[pe]=he[pe]);x?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=u?u.lastPlacementChangeTime:a)}updateLayerOpacities(a,u){const x={};for(const D of u){const z=D.getBucket(a);z&&D.latestFeatureIndex&&a.id===z.layerIds[0]&&this.updateBucketOpacities(z,x,D.collisionBoxArray)}}updateBucketOpacities(a,u,x){a.hasTextData()&&a.text.opacityVertexArray.clear(),a.hasIconData()&&a.icon.opacityVertexArray.clear(),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();const D=a.layers[0].layout,z=!!a.layers[0].dynamicFilter(),ne=new ba(null,0,!1,!1,!0),he=D.get("text-allow-overlap"),pe=D.get("icon-allow-overlap"),ke=D.get("text-variable-anchor"),Me=D.get("text-rotation-alignment")==="map",Ne=D.get("text-pitch-alignment")==="map",qe=D.get("icon-text-fit")!=="none",st=new ba(null,0,he&&(pe||!a.hasIconData()||D.get("icon-optional")),pe&&(he||!a.hasTextData()||D.get("text-optional")),!0);!a.collisionArrays&&x&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(x);const rt=(Ze,Qe,ut)=>{for(let ot=0;ot<Qe/4;ot++)Ze.opacityVertexArray.emplaceBack(ut)};let ht=0;for(let Ze=0;Ze<a.symbolInstances.length;Ze++){const Qe=a.symbolInstances.get(Ze),{numHorizontalGlyphVertices:ut,numVerticalGlyphVertices:ot,crossTileID:vt,numIconVertices:Mt}=Qe;let bt=this.opacities[vt];u[vt]?bt=ne:bt||(bt=st,this.opacities[vt]=bt),u[vt]=!0;const Ot=ut>0||ot>0,Zt=Mt>0,qt=this.placedOrientations[vt],Nt=qt===n.WritingMode.vertical,xi=qt===n.WritingMode.horizontal||qt===n.WritingMode.horizontalOnly;if(!Ot&&!Zt||bt.isHidden()||ht++,Ot){const Ht=Mr(bt.text);rt(a.text,ut,Nt?Na:Ht),rt(a.text,ot,xi?Na:Ht);const ci=bt.text.isHidden(),{leftJustifiedTextSymbolIndex:Jt,centerJustifiedTextSymbolIndex:Ai,rightJustifiedTextSymbolIndex:ei,verticalPlacedTextSymbolIndex:gi}=Qe,Di=a.text.placedSymbolArray,jt=ci||Nt?1:0;Jt>=0&&(Di.get(Jt).hidden=jt),Ai>=0&&(Di.get(Ai).hidden=jt),ei>=0&&(Di.get(ei).hidden=jt),gi>=0&&(Di.get(gi).hidden=ci||xi?1:0);const Kt=this.variableOffsets[vt];Kt&&this.markUsedJustification(a,Kt.anchor,Qe,qt);const sn=this.placedOrientations[vt];sn&&(this.markUsedJustification(a,"left",Qe,sn),this.markUsedOrientation(a,sn,Qe))}if(Zt){const Ht=Mr(bt.icon),{placedIconSymbolIndex:ci,verticalPlacedIconSymbolIndex:Jt}=Qe,Ai=a.icon.placedSymbolArray,ei=bt.icon.isHidden()?1:0;ci>=0&&(rt(a.icon,Mt,Nt?Na:Ht),Ai.get(ci).hidden=ei),Jt>=0&&(rt(a.icon,Qe.numVerticalIconVertices,xi?Na:Ht),Ai.get(Jt).hidden=ei)}if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){const Ht=a.collisionArrays[Ze];if(Ht){let ci=new n.pointGeometry(0,0),Jt=!0;if(Ht.textBox||Ht.verticalTextBox){if(ke){const ei=this.variableOffsets[vt];ei?(ci=rr(ei.anchor,ei.width,ei.height,ei.textOffset,ei.textScale),Me&&ci._rotate(Ne?this.transform.angle:-this.transform.angle)):Jt=!1}z&&(Jt=!bt.clipped),Ht.textBox&&Cr(a.textCollisionBox.collisionVertexArray,bt.text.placed,!Jt||Nt,ci.x,ci.y),Ht.verticalTextBox&&Cr(a.textCollisionBox.collisionVertexArray,bt.text.placed,!Jt||xi,ci.x,ci.y)}const Ai=Jt&&Boolean(!xi&&Ht.verticalIconBox);Ht.iconBox&&Cr(a.iconCollisionBox.collisionVertexArray,bt.icon.placed,Ai,qe?ci.x:0,qe?ci.y:0),Ht.verticalIconBox&&Cr(a.iconCollisionBox.collisionVertexArray,bt.icon.placed,!Ai,qe?ci.x:0,qe?ci.y:0)}}}if(a.fullyClipped=ht===0,a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.bucketInstanceId in this.collisionCircleArrays){const Ze=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=Ze.invProjMatrix,a.placementViewportMatrix=Ze.viewportMatrix,a.collisionCircleArray=Ze.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,u){const x=this.zoomAtLastRecencyCheck===u?1-this.zoomAdjustment(u):1;return this.zoomAtLastRecencyCheck=u,this.commitTime+this.fadeDuration*x>a}setStale(){this.stale=!0}}function Cr(_,a,u,x,D){_.emplaceBack(a?1:0,u?1:0,x||0,D||0),_.emplaceBack(a?1:0,u?1:0,x||0,D||0),_.emplaceBack(a?1:0,u?1:0,x||0,D||0),_.emplaceBack(a?1:0,u?1:0,x||0,D||0)}const Lo=Math.pow(2,25),Fh=Math.pow(2,24),Ic=Math.pow(2,17),vr=Math.pow(2,16),al=Math.pow(2,9),Lc=Math.pow(2,8),ll=Math.pow(2,1);function Mr(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const a=_.placed?1:0,u=Math.floor(127*_.opacity);return u*Lo+a*Fh+u*Ic+a*vr+u*al+a*Lc+u*ll+a}const Na=0;class Oc{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&a.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,u,x,D,z){const ne=this._bucketParts;for(;this._currentTileIndex<a.length;)if(u.getBucketParts(ne,D,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,z())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ne.sort((he,pe)=>he.sortKey-pe.sortKey));this._currentPartIndex<ne.length;){const he=ne[this._currentPartIndex];if(u.placeLayerBucketPart(he,this._seenCrossTileIDs,x,he.symbolInstanceStart===0),this._currentPartIndex++,z())return!0}return!1}}class us{constructor(a,u,x,D,z,ne,he,pe){this.placement=new wa(a,z,ne,he,pe),this._currentPlacementIndex=u.length-1,this._forceFullPlacement=x,this._showCollisionBoxes=D,this._done=!1}isDone(){return this._done}continuePlacement(a,u,x){const D=n.exported.now(),z=()=>{const ne=n.exported.now()-D;return!this._forceFullPlacement&&ne>2};for(;this._currentPlacementIndex>=0;){const ne=u[a[this._currentPlacementIndex]],he=this.placement.collisionIndex.transform.zoom;if(ne.type==="symbol"&&(!ne.minzoom||ne.minzoom<=he)&&(!ne.maxzoom||ne.maxzoom>he)){if(this._inProgressLayer||(this._inProgressLayer=new Oc(ne)),this._inProgressLayer.continuePlacement(x[ne.source],this.placement,this._showCollisionBoxes,ne,z))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}const vs=512/n.EXTENT/2;class Rc{constructor(a,u,x){this.tileID=a,this.indexedSymbolInstances={},this.bucketInstanceId=x;for(let D=0;D<u.length;D++){const z=u.get(D),ne=z.key;this.indexedSymbolInstances[ne]||(this.indexedSymbolInstances[ne]=[]),this.indexedSymbolInstances[ne].push({crossTileID:z.crossTileID,coord:this.getScaledCoordinates(z,a)})}}getScaledCoordinates(a,u){const x=vs/Math.pow(2,u.canonical.z-this.tileID.canonical.z);return{x:Math.floor((u.canonical.x*n.EXTENT+a.tileAnchorX)*x),y:Math.floor((u.canonical.y*n.EXTENT+a.tileAnchorY)*x)}}findMatches(a,u,x){const D=this.tileID.canonical.z<u.canonical.z?1:Math.pow(2,this.tileID.canonical.z-u.canonical.z);for(let z=0;z<a.length;z++){const ne=a.get(z);if(ne.crossTileID)continue;const he=this.indexedSymbolInstances[ne.key];if(!he)continue;const pe=this.getScaledCoordinates(ne,u);for(const ke of he)if(Math.abs(ke.coord.x-pe.x)<=D&&Math.abs(ke.coord.y-pe.y)<=D&&!x[ke.crossTileID]){x[ke.crossTileID]=!0,ne.crossTileID=ke.crossTileID;break}}}}class jh{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class ph{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){const u=Math.round((a-this.lng)/360);if(u!==0)for(const x in this.indexes){const D=this.indexes[x],z={};for(const ne in D){const he=D[ne];he.tileID=he.tileID.unwrapTo(he.tileID.wrap+u),z[he.tileID.key]=he}this.indexes[x]=z}this.lng=a}addBucket(a,u,x){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===u.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let z=0;z<u.symbolInstances.length;z++)u.symbolInstances.get(z).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});const D=this.usedCrossTileIDs[a.overscaledZ];for(const z in this.indexes){const ne=this.indexes[z];if(Number(z)>a.overscaledZ)for(const he in ne){const pe=ne[he];pe.tileID.isChildOf(a)&&pe.findMatches(u.symbolInstances,a,D)}else{const he=ne[a.scaledTo(Number(z)).key];he&&he.findMatches(u.symbolInstances,a,D)}}for(let z=0;z<u.symbolInstances.length;z++){const ne=u.symbolInstances.get(z);ne.crossTileID||(ne.crossTileID=x.generate(),D[ne.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new Rc(a,u.symbolInstances,u.bucketInstanceId),!0}removeBucketCrossTileIDs(a,u){for(const x in u.indexedSymbolInstances)for(const D of u.indexedSymbolInstances[x])delete this.usedCrossTileIDs[a][D.crossTileID]}removeStaleBuckets(a){let u=!1;for(const x in this.indexes){const D=this.indexes[x];for(const z in D)a[D[z].bucketInstanceId]||(this.removeBucketCrossTileIDs(x,D[z]),delete D[z],u=!0)}return u}}class Oo{constructor(){this.layerIndexes={},this.crossTileIDs=new jh,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,u,x,D){let z=this.layerIndexes[a.id];z===void 0&&(z=this.layerIndexes[a.id]=new ph);let ne=!1;const he={};D.name!=="globe"&&z.handleWrapJump(x);for(const pe of u){const ke=pe.getBucket(a);ke&&a.id===ke.layerIds[0]&&(ke.bucketInstanceId||(ke.bucketInstanceId=++this.maxBucketInstanceId),z.addBucket(pe.tileID,ke,this.crossTileIDs)&&(ne=!0),he[ke.bucketInstanceId]=!0)}return z.removeStaleBuckets(he)&&(ne=!0),ne}pruneUnusedLayers(a){const u={};a.forEach(x=>{u[x]=!0});for(const x in this.layerIndexes)u[x]||delete this.layerIndexes[x]}}const oc=(_,a)=>n.emitValidationErrors(_,a&&a.filter(u=>u.identifier!=="source.canvas")),Bc=n.pick(an,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),cl=n.pick(an,["setCenter","setZoom","setBearing","setPitch"]),vo={version:8,layers:[],sources:{}},xr={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class U extends n.Evented{constructor(a,u={}){super(),this.map=a,this.dispatcher=new Te(Bi(),this),this.imageManager=new $,this.imageManager.setEventedParent(this),this.glyphManager=new n.GlyphManager(a._requestManager,u.localFontFamily?n.LocalGlyphMode.all:u.localIdeographFontFamily?n.LocalGlyphMode.ideographs:n.LocalGlyphMode.none,u.localFontFamily||u.localIdeographFontFamily),this.crossTileSymbolIndex=new Oo,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());const x=this;this._rtlTextPluginCallback=U.registerForPluginStateChange(D=>{x.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:D.pluginStatus,pluginURL:D.pluginURL},(z,ne)=>{if(n.triggerPluginCompletionEvent(z),ne&&ne.every(he=>he))for(const he in x._sourceCaches){const pe=x._sourceCaches[he],ke=pe.getSource().type;ke!=="vector"&&ke!=="geojson"||pe.reload()}})}),this.on("data",D=>{if(D.dataType!=="source"||D.sourceDataType!=="metadata")return;const z=this.getSource(D.sourceId);if(z&&z.vectorLayerIds)for(const ne in this._layers){const he=this._layers[ne];he.source===z.id&&this._validateLayer(he)}})}loadURL(a,u={}){this.fire(new n.Event("dataloading",{dataType:"style"}));const x=typeof u.validate=="boolean"?u.validate:!n.isMapboxURL(a);a=this.map._requestManager.normalizeStyleURL(a,u.accessToken);const D=this.map._requestManager.transformRequest(a,n.ResourceType.Style);this._request=n.getJSON(D,(z,ne)=>{this._request=null,z?this.fire(new n.ErrorEvent(z)):ne&&this._load(ne,x)})}loadJSON(a,u={}){this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.exported.frame(()=>{this._request=null,this._load(a,u.validate!==!1)})}loadEmpty(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(vo,!1)}_updateLayerCount(a,u){const x=u?1:-1;a.is3D()&&(this._num3DLayers+=x),a.type==="circle"&&(this._numCircleLayers+=x),a.type==="symbol"&&(this._numSymbolLayers+=x)}_load(a,u){if(u&&oc(this,n.validateStyle(a)))return;this._loaded=!0,this.stylesheet=n.clone$1(a),this._updateMapProjection();for(const D in a.sources)this.addSource(D,a.sources[D],{validate:!1});this._changed=!1,a.sprite?this._loadSprite(a.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(a.glyphs);const x=cs(this.stylesheet.layers);this._order=x.map(D=>D.id),this._layers={},this._serializedLayers={};for(let D of x)D=n.createStyleLayer(D),D.setEventedParent(this,{layer:{id:D.id}}),this._layers[D.id]=D,this._serializedLayers[D.id]=D.serialize(),this._updateLayerCount(D,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new f(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(a){a?this.stylesheet.projection=a:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(a){this._spriteRequest=function(u,x,D){let z,ne,he;const pe=n.exported.devicePixelRatio>1?"@2x":"";let ke=n.getJSON(x.transformRequest(x.normalizeSpriteURL(u,pe,".json"),n.ResourceType.SpriteJSON),(qe,st)=>{ke=null,he||(he=qe,z=st,Ne())}),Me=n.getImage(x.transformRequest(x.normalizeSpriteURL(u,pe,".png"),n.ResourceType.SpriteImage),(qe,st)=>{Me=null,he||(he=qe,ne=st,Ne())});function Ne(){if(he)D(he);else if(z&&ne){const qe=n.exported.getImageData(ne),st={};for(const rt in z){const{width:ht,height:Ze,x:Qe,y:ut,sdf:ot,pixelRatio:vt,stretchX:Mt,stretchY:bt,content:Ot}=z[rt],Zt=new n.RGBAImage({width:ht,height:Ze});n.RGBAImage.copy(qe,Zt,{x:Qe,y:ut},{x:0,y:0},{width:ht,height:Ze}),st[rt]={data:Zt,pixelRatio:vt,sdf:ot,stretchX:Mt,stretchY:bt,content:Ot}}D(null,st)}}return{cancel(){ke&&(ke.cancel(),ke=null),Me&&(Me.cancel(),Me=null)}}}(a,this.map._requestManager,(u,x)=>{if(this._spriteRequest=null,u)this.fire(new n.ErrorEvent(u));else if(x)for(const D in x)this.imageManager.addImage(D,x[D]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new n.Event("data",{dataType:"style"}))})}_validateLayer(a){const u=this.getSource(a.source);if(!u)return;const x=a.sourceLayer;x&&(u.type==="geojson"||u.vectorLayerIds&&u.vectorLayerIds.indexOf(x)===-1)&&this.fire(new n.ErrorEvent(new Error(`Source layer "${x}" does not exist on source "${u.id}" as specified by style layer "${a.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const a in this._sourceCaches)if(!this._sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(a){const u=[];for(const x of a){const D=this._layers[x];D.type!=="custom"&&u.push(D.serialize())}return u}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const a in this._sourceCaches)if(this._sourceCaches[a].hasTransition())return!0;for(const a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(a){return!!this.terrain&&xr[a.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(a){if(!this._loaded)return;const u=this._changed;if(this._changed){const D=Object.keys(this._updatedLayers),z=Object.keys(this._removedLayers);(D.length||z.length)&&this._updateWorkerLayers(D,z);for(const ne in this._updatedSources){const he=this._updatedSources[ne];he==="reload"?this._reloadSource(ne):he==="clear"&&this._clearSource(ne)}this._updateTilesForChangedImages();for(const ne in this._updatedPaintProps)this._layers[ne].updateTransitions(a);this.light.updateTransitions(a),this.fog&&this.fog.updateTransitions(a),this._resetUpdates()}const x={};for(const D in this._sourceCaches){const z=this._sourceCaches[D];x[D]=z.used,z.used=!1}for(const D of this._order){const z=this._layers[D];if(z.recalculate(a,this._availableImages),!z.isHidden(a.zoom)){const he=this._getLayerSourceCache(z);he&&(he.used=!0)}const ne=this.map.painter;if(ne){const he=z.getProgramIds();if(!he)continue;const pe=z.getProgramConfiguration(a.zoom);for(const ke of he)ne.useProgram(ke,pe)}}for(const D in x){const z=this._sourceCaches[D];x[D]!==z.used&&z.getSource().fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:z.getSource().id}))}this.light.recalculate(a),this.terrain&&this.terrain.recalculate(a),this.fog&&this.fog.recalculate(a),this.z=a.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),u&&this.fire(new n.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const a=Object.keys(this._changedImages);if(a.length){for(const u in this._sourceCaches)this._sourceCaches[u].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateWorkerLayers(a,u){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(a),removedIds:u})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(a){if(this._checkLoaded(),oc(this,n.validateStyle(a)))return!1;(a=n.clone$1(a)).layers=cs(a.layers);const u=function(D,z){if(!D)return[{command:an.setStyle,args:[z]}];let ne=[];try{if(!S(D.version,z.version))return[{command:an.setStyle,args:[z]}];S(D.center,z.center)||ne.push({command:an.setCenter,args:[z.center]}),S(D.zoom,z.zoom)||ne.push({command:an.setZoom,args:[z.zoom]}),S(D.bearing,z.bearing)||ne.push({command:an.setBearing,args:[z.bearing]}),S(D.pitch,z.pitch)||ne.push({command:an.setPitch,args:[z.pitch]}),S(D.sprite,z.sprite)||ne.push({command:an.setSprite,args:[z.sprite]}),S(D.glyphs,z.glyphs)||ne.push({command:an.setGlyphs,args:[z.glyphs]}),S(D.transition,z.transition)||ne.push({command:an.setTransition,args:[z.transition]}),S(D.light,z.light)||ne.push({command:an.setLight,args:[z.light]}),S(D.fog,z.fog)||ne.push({command:an.setFog,args:[z.fog]}),S(D.projection,z.projection)||ne.push({command:an.setProjection,args:[z.projection]});const he={},pe=[];(function(Ne,qe,st,rt){let ht;for(ht in qe=qe||{},Ne=Ne||{})Ne.hasOwnProperty(ht)&&(qe.hasOwnProperty(ht)||ms(ht,st,rt));for(ht in qe)qe.hasOwnProperty(ht)&&(Ne.hasOwnProperty(ht)?S(Ne[ht],qe[ht])||(Ne[ht].type==="geojson"&&qe[ht].type==="geojson"&&aa(Ne,qe,ht)?st.push({command:an.setGeoJSONSourceData,args:[ht,qe[ht].data]}):oa(ht,qe,st,rt)):Ms(ht,qe,st))})(D.sources,z.sources,pe,he);const ke=[];D.layers&&D.layers.forEach(Ne=>{Ne.source&&he[Ne.source]?ne.push({command:an.removeLayer,args:[Ne.id]}):ke.push(Ne)});let Me=D.terrain;Me&&he[Me.source]&&(ne.push({command:an.setTerrain,args:[void 0]}),Me=void 0),ne=ne.concat(pe),S(Me,z.terrain)||ne.push({command:an.setTerrain,args:[z.terrain]}),function(Ne,qe,st){qe=qe||[];const rt=(Ne=Ne||[]).map(ai),ht=qe.map(ai),Ze=Ne.reduce($s,{}),Qe=qe.reduce($s,{}),ut=rt.slice(),ot=Object.create(null);let vt,Mt,bt,Ot,Zt,qt,Nt;for(vt=0,Mt=0;vt<rt.length;vt++)bt=rt[vt],Qe.hasOwnProperty(bt)?Mt++:(st.push({command:an.removeLayer,args:[bt]}),ut.splice(ut.indexOf(bt,Mt),1));for(vt=0,Mt=0;vt<ht.length;vt++)bt=ht[ht.length-1-vt],ut[ut.length-1-vt]!==bt&&(Ze.hasOwnProperty(bt)?(st.push({command:an.removeLayer,args:[bt]}),ut.splice(ut.lastIndexOf(bt,ut.length-Mt),1)):Mt++,qt=ut[ut.length-vt],st.push({command:an.addLayer,args:[Qe[bt],qt]}),ut.splice(ut.length-vt,0,bt),ot[bt]=!0);for(vt=0;vt<ht.length;vt++)if(bt=ht[vt],Ot=Ze[bt],Zt=Qe[bt],!ot[bt]&&!S(Ot,Zt))if(S(Ot.source,Zt.source)&&S(Ot["source-layer"],Zt["source-layer"])&&S(Ot.type,Zt.type)){for(Nt in jr(Ot.layout,Zt.layout,st,bt,null,an.setLayoutProperty),jr(Ot.paint,Zt.paint,st,bt,null,an.setPaintProperty),S(Ot.filter,Zt.filter)||st.push({command:an.setFilter,args:[bt,Zt.filter]}),S(Ot.minzoom,Zt.minzoom)&&S(Ot.maxzoom,Zt.maxzoom)||st.push({command:an.setLayerZoomRange,args:[bt,Zt.minzoom,Zt.maxzoom]}),Ot)Ot.hasOwnProperty(Nt)&&Nt!=="layout"&&Nt!=="paint"&&Nt!=="filter"&&Nt!=="metadata"&&Nt!=="minzoom"&&Nt!=="maxzoom"&&(Nt.indexOf("paint.")===0?jr(Ot[Nt],Zt[Nt],st,bt,Nt.slice(6),an.setPaintProperty):S(Ot[Nt],Zt[Nt])||st.push({command:an.setLayerProperty,args:[bt,Nt,Zt[Nt]]}));for(Nt in Zt)Zt.hasOwnProperty(Nt)&&!Ot.hasOwnProperty(Nt)&&Nt!=="layout"&&Nt!=="paint"&&Nt!=="filter"&&Nt!=="metadata"&&Nt!=="minzoom"&&Nt!=="maxzoom"&&(Nt.indexOf("paint.")===0?jr(Ot[Nt],Zt[Nt],st,bt,Nt.slice(6),an.setPaintProperty):S(Ot[Nt],Zt[Nt])||st.push({command:an.setLayerProperty,args:[bt,Nt,Zt[Nt]]}))}else st.push({command:an.removeLayer,args:[bt]}),qt=ut[ut.lastIndexOf(bt)+1],st.push({command:an.addLayer,args:[Zt,qt]})}(ke,z.layers,ne)}catch(he){console.warn("Unable to compute style diff:",he),ne=[{command:an.setStyle,args:[z]}]}return ne}(this.serialize(),a).filter(D=>!(D.command in cl));if(u.length===0)return!1;const x=u.filter(D=>!(D.command in Bc));if(x.length>0)throw new Error(`Unimplemented: ${x.map(D=>D.command).join(", ")}.`);return u.forEach(D=>{D.command!=="setTransition"&&D.command!=="setProjection"&&this[D.command].apply(this,D.args)}),this.stylesheet=a,this._updateMapProjection(),!0}addImage(a,u){return this.getImage(a)?this.fire(new n.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(a,u),this._afterImageUpdated(a),this)}updateImage(a,u){this.imageManager.updateImage(a,u)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){return this.getImage(a)?(this.imageManager.removeImage(a),this._afterImageUpdated(a),this):this.fire(new n.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(a,u,x={}){if(this._checkLoaded(),this.getSource(a)!==void 0)throw new Error("There is already a source with this ID");if(!u.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(u).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(u.type)>=0&&this._validate(n.validateSource,`sources.${a}`,u,null,x))return;this.map&&this.map._collectResourceTiming&&(u.collectResourceTiming=!0);const D=Ft(a,u,this.dispatcher,this);D.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(a),source:D.serialize(),sourceId:a}));const z=ne=>{const he=(ne?"symbol:":"other:")+a,pe=this._sourceCaches[he]=new n.SourceCache(he,D,ne);(ne?this._symbolSourceCaches:this._otherSourceCaches)[a]=pe,pe.style=this,pe.onAdd(this.map)};z(!1),u.type!=="vector"&&u.type!=="geojson"||z(!0),D.onAdd&&D.onAdd(this.map),this._changed=!0}removeSource(a){this._checkLoaded();const u=this.getSource(a);if(!u)throw new Error("There is no source with this ID");for(const D in this._layers)if(this._layers[D].source===a)return this.fire(new n.ErrorEvent(new Error(`Source "${a}" cannot be removed while layer "${D}" is using it.`)));if(this.terrain&&this.terrain.get().source===a)return this.fire(new n.ErrorEvent(new Error(`Source "${a}" cannot be removed while terrain is using it.`)));const x=this._getSourceCaches(a);for(const D of x)delete this._sourceCaches[D.id],delete this._updatedSources[D.id],D.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:D.getSource().id})),D.setEventedParent(null),D.clearTiles();return delete this._otherSourceCaches[a],delete this._symbolSourceCaches[a],u.setEventedParent(null),u.onRemove&&u.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(a,u){this._checkLoaded(),this.getSource(a).setData(u),this._changed=!0}getSource(a){const u=this._getSourceCache(a);return u&&u.getSource()}_getSources(){const a=[];for(const u in this._otherSourceCaches){const x=this._getSourceCache(u);x&&a.push(x.getSource())}return a}addLayer(a,u,x={}){this._checkLoaded();const D=a.id;if(this.getLayer(D))return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${D}" already exists on this map`)));let z;if(a.type==="custom"){if(oc(this,n.validateCustomStyleLayer(a)))return;z=n.createStyleLayer(a)}else{if(typeof a.source=="object"&&(this.addSource(D,a.source),a=n.clone$1(a),a=n.extend(a,{source:D})),this._validate(n.validateLayer,`layers.${D}`,a,{arrayIndex:-1},x))return;z=n.createStyleLayer(a),this._validateLayer(z),z.setEventedParent(this,{layer:{id:D}}),this._serializedLayers[z.id]=z.serialize(),this._updateLayerCount(z,!0)}const ne=u?this._order.indexOf(u):this._order.length;if(u&&ne===-1)return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${u}" does not exist on this map.`)));this._order.splice(ne,0,D),this._layerOrderChanged=!0,this._layers[D]=z;const he=this._getLayerSourceCache(z);if(this._removedLayers[D]&&z.source&&he&&z.type!=="custom"){const pe=this._removedLayers[D];delete this._removedLayers[D],pe.type!==z.type?this._updatedSources[z.source]="clear":(this._updatedSources[z.source]="reload",he.pause())}this._updateLayer(z),z.onAdd&&z.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(a,u){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===u)return;const x=this._order.indexOf(a);this._order.splice(x,1);const D=u?this._order.indexOf(u):this._order.length;u&&D===-1?this.fire(new n.ErrorEvent(new Error(`Layer with id "${u}" does not exist on this map.`))):(this._order.splice(D,0,a),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(a){this._checkLoaded();const u=this._layers[a];if(!u)return void this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be removed.`)));u.setEventedParent(null),this._updateLayerCount(u,!1);const x=this._order.indexOf(a);this._order.splice(x,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=u,delete this._layers[a],delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],u.onRemove&&u.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(a){return this._layers[a]}hasLayer(a){return a in this._layers}hasLayerType(a){for(const u in this._layers)if(this._layers[u].type===a)return!0;return!1}setLayerZoomRange(a,u,x){this._checkLoaded();const D=this.getLayer(a);D?D.minzoom===u&&D.maxzoom===x||(u!=null&&(D.minzoom=u),x!=null&&(D.maxzoom=x),this._updateLayer(D)):this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(a,u,x={}){this._checkLoaded();const D=this.getLayer(a);if(D){if(!S(D.filter,u))return u==null?(D.filter=void 0,void this._updateLayer(D)):void(this._validate(n.validateFilter,`layers.${D.id}.filter`,u,{layerType:D.type},x)||(D.filter=n.clone$1(u),this._updateLayer(D)))}else this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be filtered.`)))}getFilter(a){const u=this.getLayer(a);return u&&n.clone$1(u.filter)}setLayoutProperty(a,u,x,D={}){this._checkLoaded();const z=this.getLayer(a);z?S(z.getLayoutProperty(u),x)||(z.setLayoutProperty(u,x,D),this._updateLayer(z)):this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(a,u){const x=this.getLayer(a);if(x)return x.getLayoutProperty(u);this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style.`)))}setPaintProperty(a,u,x,D={}){this._checkLoaded();const z=this.getLayer(a);z?S(z.getPaintProperty(u),x)||(z.setPaintProperty(u,x,D)&&this._updateLayer(z),this._changed=!0,this._updatedPaintProps[a]=!0):this.fire(new n.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(a,u){const x=this.getLayer(a);return x&&x.getPaintProperty(u)}setFeatureState(a,u){this._checkLoaded();const x=a.source,D=a.sourceLayer,z=this.getSource(x);if(!z)return void this.fire(new n.ErrorEvent(new Error(`The source '${x}' does not exist in the map's style.`)));const ne=z.type;if(ne==="geojson"&&D)return void this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(ne==="vector"&&!D)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));a.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided.")));const he=this._getSourceCaches(x);for(const pe of he)pe.setFeatureState(D,a.id,u)}removeFeatureState(a,u){this._checkLoaded();const x=a.source,D=this.getSource(x);if(!D)return void this.fire(new n.ErrorEvent(new Error(`The source '${x}' does not exist in the map's style.`)));const z=D.type,ne=z==="vector"?a.sourceLayer:void 0;if(z==="vector"&&!ne)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(u&&typeof a.id!="string"&&typeof a.id!="number")return void this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const he=this._getSourceCaches(x);for(const pe of he)pe.removeFeatureState(ne,a.id,u)}getFeatureState(a){this._checkLoaded();const u=a.source,x=a.sourceLayer,D=this.getSource(u);if(D){if(D.type!=="vector"||x)return a.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(u)[0].getFeatureState(x,a.id);this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error(`The source '${u}' does not exist in the map's style.`)))}getTransition(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const a={};for(const u in this._sourceCaches){const x=this._sourceCaches[u].getSource();a[x.id]||(a[x.id]=x.serialize())}return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:a,layers:this._serializeLayers(this._order)},u=>u!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0;const u=this._getLayerSourceCache(a);a.source&&!this._updatedSources[a.source]&&u&&u.getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",u.pause()),this._changed=!0,a.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(a){const u=ne=>this._layers[ne].type==="fill-extrusion",x={},D=[];for(let ne=this._order.length-1;ne>=0;ne--){const he=this._order[ne];if(u(he)){x[he]=ne;for(const pe of a){const ke=pe[he];if(ke)for(const Me of ke)D.push(Me)}}}D.sort((ne,he)=>he.intersectionZ-ne.intersectionZ);const z=[];for(let ne=this._order.length-1;ne>=0;ne--){const he=this._order[ne];if(u(he))for(let pe=D.length-1;pe>=0;pe--){const ke=D[pe].feature;if(x[ke.layer.id]<ne)break;z.push(ke),D.pop()}else for(const pe of a){const ke=pe[he];if(ke)for(const Me of ke)z.push(Me.feature)}}return z}queryRenderedFeatures(a,u,x){u&&u.filter&&this._validate(n.validateFilter,"queryRenderedFeatures.filter",u.filter,null,u);const D={};if(u&&u.layers){if(!Array.isArray(u.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const pe of u.layers){const ke=this._layers[pe];if(!ke)return this.fire(new n.ErrorEvent(new Error(`The layer '${pe}' does not exist in the map's style and cannot be queried for features.`))),[];D[ke.source]=!0}}const z=[];u.availableImages=this._availableImages;const ne=u&&u.layers?u.layers.some(pe=>{const ke=this.getLayer(pe);return ke&&ke.is3D()}):this.has3DLayers(),he=re.createFromScreenPoints(a,x);for(const pe in this._sourceCaches){const ke=this._sourceCaches[pe].getSource().id;u.layers&&!D[ke]||z.push($t(this._sourceCaches[pe],this._layers,this._serializedLayers,he,u,x,ne,!!this.map._showQueryGeometry))}return this.placement&&z.push(function(pe,ke,Me,Ne,qe,st,rt){const ht={},Ze=st.queryRenderedSymbols(Ne),Qe=[];for(const ut of Object.keys(Ze).map(Number))Qe.push(rt[ut]);Qe.sort(Fi);for(const ut of Qe){const ot=ut.featureIndex.lookupSymbolFeatures(Ze[ut.bucketInstanceId],ke,ut.bucketIndex,ut.sourceLayerIndex,qe.filter,qe.layers,qe.availableImages,pe);for(const vt in ot){const Mt=ht[vt]=ht[vt]||[],bt=ot[vt];bt.sort((Ot,Zt)=>{const qt=ut.featureSortOrder;if(qt){const Nt=qt.indexOf(Ot.featureIndex);return qt.indexOf(Zt.featureIndex)-Nt}return Zt.featureIndex-Ot.featureIndex});for(const Ot of bt)Mt.push(Ot)}}for(const ut in ht)ht[ut].forEach(ot=>{const vt=ot.feature,Mt=Me(pe[ut]).getFeatureState(vt.layer["source-layer"],vt.id);vt.source=vt.layer.source,vt.layer["source-layer"]&&(vt.sourceLayer=vt.layer["source-layer"]),vt.state=Mt});return ht}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),he.screenGeometry,u,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(z)}querySourceFeatures(a,u){u&&u.filter&&this._validate(n.validateFilter,"querySourceFeatures.filter",u.filter,null,u);const x=this._getSourceCaches(a);let D=[];for(const z of x)D=D.concat(ui(z,u));return D}addSourceType(a,u,x){return U.getSourceType(a)?x(new Error(`A source type called "${a}" already exists.`)):(U.setSourceType(a,u),u.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:a,url:u.workerSourceURL},x):x(null,null))}getLight(){return this.light.getLight()}setLight(a,u={}){this._checkLoaded();const x=this.light.getLight();let D=!1;for(const ne in a)if(!S(a[ne],x[ne])){D=!0;break}if(!D)return;const z=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(a,u),this.light.updateTransitions(z)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(a,u=1){if(this._checkLoaded(),!a)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(u===1){if(typeof a.source=="object"){const x="terrain-dem-src";this.addSource(x,a.source),a=n.clone$1(a),a=n.extend(a,{source:x})}if(this._validate(n.validateTerrain,"terrain",a))return}if(!this.terrain||this.terrain&&u!==this.terrain.drapeRenderMode)this._createTerrain(a,u);else{const x=this.terrain,D=x.get();for(const z of Object.keys(n.spec.terrain))!a.hasOwnProperty(z)&&n.spec.terrain[z].default&&(a[z]=n.spec.terrain[z].default);for(const z in a)if(!S(a[z],D[z])){x.set(a),this.stylesheet.terrain=a;const ne=this._setTransitionParameters({duration:0});x.updateTransitions(ne);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(a){const u=this.fog=new fe(a,this.map.transform);this.stylesheet.fog=a;const x=this._setTransitionParameters({duration:0});u.updateTransitions(x)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const a of this.map._markers)a._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(a){if(this._checkLoaded(),!a)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const u=this.fog,x=u.get();Object.keys(a).length===0&&u.set(a);for(const D in a)if(!S(a[D],x[D])){u.set(a),this.stylesheet.fog=a;const z=this._setTransitionParameters({duration:0});u.updateTransitions(z);break}}else this._createFog(a);this._markersNeedUpdate=!0}_setTransitionParameters(a){return{now:n.exported.now(),transition:n.extend(a,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const a=this._order.filter(x=>this.isLayerDraped(this._layers[x])),u=this._order.filter(x=>!this.isLayerDraped(this._layers[x]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...a),this._drapedFirstOrder.push(...u)}_createTerrain(a,u){const x=this.terrain=new P(a,u);this.stylesheet.terrain=a,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const D=this._setTransitionParameters({duration:0});x.updateTransitions(D)}_force3DLayerUpdate(){for(const a in this._layers){const u=this._layers[a];u.type==="fill-extrusion"&&this._updateLayer(u)}}_forceSymbolLayerUpdate(){for(const a in this._layers){const u=this._layers[a];u.type==="symbol"&&this._updateLayer(u)}}_validate(a,u,x,D,z={}){return(!z||z.validate!==!1)&&oc(this,a.call(n.validateStyle,n.extend({key:u,style:this.serialize(),value:x,styleSpec:n.spec},D)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const a in this._layers)this._layers[a].setEventedParent(null);for(const a in this._sourceCaches)this._sourceCaches[a].clearTiles(),this._sourceCaches[a].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(a){const u=this._getSourceCaches(a);for(const x of u)x.clearTiles()}_reloadSource(a){const u=this._getSourceCaches(a);for(const x of u)x.resume(),x.reload()}_reloadSources(){for(const a of this._getSources())a.reload&&a.reload()}_updateSources(a){for(const u in this._sourceCaches)this._sourceCaches[u].update(a)}_generateCollisionBoxes(){for(const a in this._sourceCaches){const u=this._sourceCaches[a];u.resume(),u.reload()}}_updatePlacement(a,u,x,D,z=!1){let ne=!1,he=!1;const pe={};for(const ke of this._order){const Me=this._layers[ke];if(Me.type!=="symbol")continue;if(!pe[Me.source]){const qe=this._getLayerSourceCache(Me);if(!qe)continue;pe[Me.source]=qe.getRenderableIds(!0).map(st=>qe.getTileByID(st)).sort((st,rt)=>rt.tileID.overscaledZ-st.tileID.overscaledZ||(st.tileID.isLessThan(rt.tileID)?-1:1))}const Ne=this.crossTileSymbolIndex.addLayer(Me,pe[Me.source],a.center.lng,a.projection);ne=ne||Ne}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),z=z||this._layerOrderChanged||x===0,this._layerOrderChanged&&this.fire(new n.Event("neworder")),(z||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.exported.now(),a.zoom))&&(this.pauseablePlacement=new us(a,this._order,z,u,x,D,this.placement,this.fog&&a.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,pe),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.exported.now()),he=!0),ne&&this.pauseablePlacement.placement.setStale()),he||ne)for(const ke of this._order){const Me=this._layers[ke];Me.type==="symbol"&&this.placement.updateLayerOpacities(Me,pe[Me.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.exported.now())}_releaseSymbolFadeTiles(){for(const a in this._sourceCaches)this._sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,u,x){this.imageManager.getImages(u.icons,x),this._updateTilesForChangedImages();const D=z=>{z&&z.setDependencies(u.tileID.key,u.type,u.icons)};D(this._otherSourceCaches[u.source]),D(this._symbolSourceCaches[u.source])}getGlyphs(a,u,x){this.glyphManager.getGlyphs(u.stacks,x)}getResource(a,u,x){return n.makeRequest(u,x)}_getSourceCache(a){return this._otherSourceCaches[a]}_getLayerSourceCache(a){return a.type==="symbol"?this._symbolSourceCaches[a.source]:this._otherSourceCaches[a.source]}_getSourceCaches(a){const u=[];return this._otherSourceCaches[a]&&u.push(this._otherSourceCaches[a]),this._symbolSourceCaches[a]&&u.push(this._symbolSourceCaches[a]),u}_isSourceCacheLoaded(a){const u=this._getSourceCaches(a);return u.length===0?(this.fire(new n.ErrorEvent(new Error(`There is no source with ID '${a}'`))),!1):u.every(x=>x.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}U.getSourceType=function(_){return Rt[_]},U.setSourceType=function(_,a){Rt[_]=a},U.registerForPluginStateChange=n.registerForPluginStateChange;var oe=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,ge="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Ce=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,Fe=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Ve=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let Xe={},Pt={};const wt=[];ri(oe,wt),ri(Ce,wt),ri(Fe,wt),ri(Ve,wt),Xe=zi("",Ce),Pt=zi(Ve,Fe);const Wt=zi(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),li=oe,bi=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var ti={background:zi(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:zi(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:zi(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:zi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:zi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:zi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:zi("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:zi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:zi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:zi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:zi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:zi(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:zi(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:zi(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:zi(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:zi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:zi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:zi(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:zi(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:zi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:zi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:zi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:zi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:zi(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:zi(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:zi(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ge),skyboxGradient:zi(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ge),skyboxCapture:zi(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:zi(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:zi(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function ri(_,a){const u=_.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let x of u)if(x=x.trim(),x[0]==="#"&&x.includes("if")&&!x.includes("endif")){x=x.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const D=x.split(" ");for(const z of D)a.includes(z)||a.push(z)}}function zi(_,a){const u=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,x=a.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),D={},z=[...wt];return ri(_,z),ri(a,z),{fragmentSource:_=_.replace(u,(ne,he,pe,ke,Me)=>(D[Me]=!0,he==="define"?`
#ifndef HAS_UNIFORM_u_${Me}
varying ${pe} ${ke} ${Me};
#else
uniform ${pe} ${ke} u_${Me};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Me}
    ${pe} ${ke} ${Me} = u_${Me};
#endif
`)),vertexSource:a=a.replace(u,(ne,he,pe,ke,Me)=>{const Ne=ke==="float"?"vec2":"vec4",qe=Me.match(/color/)?"color":Ne;return D[Me]?he==="define"?`
#ifndef HAS_UNIFORM_u_${Me}
uniform lowp float u_${Me}_t;
attribute ${pe} ${Ne} a_${Me};
varying ${pe} ${ke} ${Me};
#else
uniform ${pe} ${ke} u_${Me};
#endif
`:qe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Me}
    ${Me} = a_${Me};
#else
    ${pe} ${ke} ${Me} = u_${Me};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Me}
    ${Me} = unpack_mix_${qe}(a_${Me}, u_${Me}_t);
#else
    ${pe} ${ke} ${Me} = u_${Me};
#endif
`:he==="define"?`
#ifndef HAS_UNIFORM_u_${Me}
uniform lowp float u_${Me}_t;
attribute ${pe} ${Ne} a_${Me};
#else
uniform ${pe} ${ke} u_${Me};
#endif
`:qe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Me}
    ${pe} ${ke} ${Me} = a_${Me};
#else
    ${pe} ${ke} ${Me} = u_${Me};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Me}
    ${pe} ${ke} ${Me} = unpack_mix_${qe}(a_${Me}, u_${Me}_t);
#else
    ${pe} ${ke} ${Me} = u_${Me};
#endif
`}),staticAttributes:x,usedDefines:z}}class In{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(a,u,x,D,z,ne,he){this.context=a;let pe=this.boundPaintVertexBuffers.length!==D.length;for(let Me=0;!pe&&Me<D.length;Me++)this.boundPaintVertexBuffers[Me]!==D[Me]&&(pe=!0);let ke=this.boundDynamicVertexBuffers.length!==he.length;for(let Me=0;!ke&&Me<he.length;Me++)this.boundDynamicVertexBuffers[Me]!==he[Me]&&(ke=!0);if(!a.extVertexArrayObject||!this.vao||this.boundProgram!==u||this.boundLayoutVertexBuffer!==x||pe||ke||this.boundIndexBuffer!==z||this.boundVertexOffset!==ne)this.freshBind(u,x,D,z,ne,he);else{a.bindVertexArrayOES.set(this.vao);for(const Me of he)Me&&Me.bind();z&&z.dynamicDraw&&z.bind()}}freshBind(a,u,x,D,z,ne){let he;const pe=a.numAttributes,ke=this.context,Me=ke.gl;if(ke.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ke.extVertexArrayObject.createVertexArrayOES(),ke.bindVertexArrayOES.set(this.vao),he=0,this.boundProgram=a,this.boundLayoutVertexBuffer=u,this.boundPaintVertexBuffers=x,this.boundIndexBuffer=D,this.boundVertexOffset=z,this.boundDynamicVertexBuffers=ne;else{he=ke.currentNumAttributes||0;for(let Ne=pe;Ne<he;Ne++)Me.disableVertexAttribArray(Ne)}u.enableAttributes(Me,a),u.bind(),u.setVertexAttribPointers(Me,a,z);for(const Ne of x)Ne.enableAttributes(Me,a),Ne.bind(),Ne.setVertexAttribPointers(Me,a,z);for(const Ne of ne)Ne&&(Ne.enableAttributes(Me,a),Ne.bind(),Ne.setVertexAttribPointers(Me,a,z));D&&D.bind(),ke.currentNumAttributes=pe}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function tn(_,a){const u=Math.pow(2,a.canonical.z),x=a.canonical.y;return[new n.MercatorCoordinate(0,x/u).toLngLat().lat,new n.MercatorCoordinate(0,(x+1)/u).toLngLat().lat]}function Ws(_,a,u,x,D,z,ne){const he=_.context,pe=he.gl,ke=u.fbo;if(!ke)return;_.prepareDrawTile();const Me=_.useProgram("hillshade");he.activeTexture.set(pe.TEXTURE0),pe.bindTexture(pe.TEXTURE_2D,ke.colorAttachment.get());const Ne=((ht,Ze,Qe,ut)=>{const ot=Qe.paint.get("hillshade-shadow-color"),vt=Qe.paint.get("hillshade-highlight-color"),Mt=Qe.paint.get("hillshade-accent-color");let bt=Qe.paint.get("hillshade-illumination-direction")*(Math.PI/180);Qe.paint.get("hillshade-illumination-anchor")==="viewport"&&(bt-=ht.transform.angle);const Ot=!ht.options.moving;return{u_matrix:ut||ht.transform.calculateProjMatrix(Ze.tileID.toUnwrapped(),Ot),u_image:0,u_latrange:tn(0,Ze.tileID),u_light:[Qe.paint.get("hillshade-exaggeration"),bt],u_shadow:ot,u_highlight:vt,u_accent:Mt}})(_,u,x,_.terrain?a.projMatrix:null);_.prepareDrawProgram(he,Me,a.toUnwrapped());const{tileBoundsBuffer:qe,tileBoundsIndexBuffer:st,tileBoundsSegments:rt}=_.getTileBoundsBuffers(u);Me.draw(he,pe.TRIANGLES,D,z,ne,n.CullFaceMode.disabled,Ne,x.id,qe,st,rt)}function Ds(_,a,u){if(!a.needsDEMTextureUpload)return;const x=_.context,D=x.gl;x.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||_.getTileTexture(u.stride);const z=u.getPixels();a.demTexture?a.demTexture.update(z,{premultiply:!1}):a.demTexture=new n.Texture(x,z,D.RGBA,{premultiply:!1}),a.needsDEMTextureUpload=!1}function Yn(_,a,u,x,D,z){const ne=_.context,he=ne.gl;if(!a.dem)return;const pe=a.dem;if(ne.activeTexture.set(he.TEXTURE1),Ds(_,a,pe),!a.demTexture)return;a.demTexture.bind(he.NEAREST,he.CLAMP_TO_EDGE);const ke=pe.dim;ne.activeTexture.set(he.TEXTURE0);let Me=a.fbo;if(!Me){const rt=new n.Texture(ne,{width:ke,height:ke,data:null},he.RGBA);rt.bind(he.LINEAR,he.CLAMP_TO_EDGE),Me=a.fbo=ne.createFramebuffer(ke,ke,!0),Me.colorAttachment.set(rt.texture)}ne.bindFramebuffer.set(Me.framebuffer),ne.viewport.set([0,0,ke,ke]);const{tileBoundsBuffer:Ne,tileBoundsIndexBuffer:qe,tileBoundsSegments:st}=_.getMercatorTileBoundsBuffers();_.useProgram("hillshadePrepare").draw(ne,he.TRIANGLES,x,D,z,n.CullFaceMode.disabled,((rt,ht)=>{const Ze=ht.stride,Qe=n.create();return n.ortho(Qe,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(Qe,Qe,[0,-n.EXTENT,0]),{u_matrix:Qe,u_image:1,u_dimension:[Ze,Ze],u_zoom:rt.overscaledZ,u_unpack:ht.unpackVector}})(a.tileID,pe),u.id,Ne,qe,st),a.needsHillshadePrepare=!1}const Xn=_=>({u_matrix:new n.UniformMatrix4f(_),u_image0:new n.Uniform1i(_),u_skirt_height:new n.Uniform1f(_)}),Dn=(_,a)=>({u_matrix:_,u_image0:0,u_skirt_height:a}),Ar=(_,a,u,x,D,z,ne,he,pe,ke,Me,Ne,qe,st)=>({u_proj_matrix:Float32Array.from(_),u_globe_matrix:a,u_normalize_matrix:Float32Array.from(x),u_merc_matrix:u,u_zoom_transition:D,u_merc_center:z,u_image0:0,u_frustum_tl:ne,u_frustum_tr:he,u_frustum_br:pe,u_frustum_bl:ke,u_globe_pos:Me,u_globe_radius:Ne,u_viewport:qe,u_grid_matrix:st?Float32Array.from(st):new Float32Array(9)});function Qn(_,a){return _!=null&&a!=null&&!(!_.hasData()||!a.hasData())&&_.demTexture!=null&&a.demTexture!=null&&_.tileID.key!==a.tileID.key}const Is=new class{constructor(){this.operations={}}newMorphing(_,a,u,x,D){if(_ in this.operations){const z=this.operations[_];z.to.tileID.key!==u.tileID.key&&(z.queued=u)}else this.operations[_]={startTime:x,phase:0,duration:D,from:a,to:u,queued:null}}getMorphValuesForProxy(_){if(!(_ in this.operations))return null;const a=this.operations[_];return{from:a.from,to:a.to,phase:a.phase}}update(_){for(const a in this.operations){const u=this.operations[a];for(u.phase=(_-u.startTime)/u.duration;u.phase>=1||!this._validOp(u);)if(!this._nextOp(u,_)){delete this.operations[a];break}}}_nextOp(_,a){return!!_.queued&&(_.from=_.to,_.to=_.queued,_.queued=null,_.phase=0,_.startTime=a,!0)}_validOp(_){return _.from.hasData()&&_.to.hasData()}},ca={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function hl(_,a){const u=1<<_.z;return!a&&(_.x===0||_.x===u-1)||_.y===0||_.y===u-1}const kr=_=>({u_matrix:_});function xo(_,a,u,x,D){if(D>0){const z=n.exported.now(),ne=(z-_.timeAdded)/D,he=a?(z-a.timeAdded)/D:-1,pe=u.getSource(),ke=x.coveringZoomLevel({tileSize:pe.tileSize,roundZoom:pe.roundZoom}),Me=!a||Math.abs(a.tileID.overscaledZ-ke)>Math.abs(_.tileID.overscaledZ-ke),Ne=Me&&_.refreshedUponExpiration?1:n.clamp(Me?ne:1-he,0,1);return _.refreshedUponExpiration&&ne>=1&&(_.refreshedUponExpiration=!1),a?{opacity:1,mix:1-Ne}:{opacity:Ne,mix:0}}return{opacity:1,mix:0}}class On extends n.SourceCache{constructor(a){const u={type:"raster-dem",maxzoom:a.transform.maxZoom},x=new Te(Bi(),null),D=Ft("mock-dem",u,x,a.style);super("mock-dem",D,!1),D.setEventedParent(this),this._sourceLoaded=!0}_loadTile(a,u){a.state="loaded",u(null)}}class Ur extends n.SourceCache{constructor(a){const u=Ft("proxy",{type:"geojson",maxzoom:a.transform.maxZoom},new Te(Bi(),null),a.style);super("proxy",u,!1),u.setEventedParent(this),this.map=this.getSource().map=a,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(a,u,x){if(a.freezeTileCoverage)return;this.transform=a;const D=a.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((z,ne)=>{if(z[ne.key]="",!this._tiles[ne.key]){const he=new n.Tile(ne,this._source.tileSize*ne.overscaleFactor(),a.tileZoom);he.state="loaded",this._tiles[ne.key]=he}return z},{});for(const z in this._tiles)z in D||(this.freeFBO(z),this._tiles[z].unloadVectorData(),delete this._tiles[z])}freeFBO(a){const u=this.proxyCachedFBO[a];if(u!==void 0){const x=Object.values(u);this.renderCachePool.push(...x),delete this.proxyCachedFBO[a]}}deallocRenderCache(){this.renderCache.forEach(a=>a.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class bo extends n.OverscaledTileID{constructor(a,u,x){super(a.overscaledZ,a.wrap,a.canonical.z,a.canonical.x,a.canonical.y),this.proxyTileKey=u,this.projMatrix=x}}class ro extends n.Elevation{constructor(a,u){super(),this.painter=a,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[x,D,z]=function(pe){const ke=new n.StructArrayLayout4i8,Me=new n.StructArrayLayout3ui6,Ne=131;ke.reserve(17161),Me.reserve(33800);const qe=n.EXTENT/128,st=n.EXTENT+qe/2,rt=st+qe;for(let Ze=-qe;Ze<rt;Ze+=qe)for(let Qe=-qe;Qe<rt;Qe+=qe){const ut=Qe<0||Qe>st||Ze<0||Ze>st?24575:0,ot=n.clamp(Math.round(Qe),0,n.EXTENT),vt=n.clamp(Math.round(Ze),0,n.EXTENT);ke.emplaceBack(ot+ut,vt,ot,vt)}const ht=(Ze,Qe)=>{const ut=Qe*Ne+Ze;Me.emplaceBack(ut+1,ut,ut+Ne),Me.emplaceBack(ut+Ne,ut+Ne+1,ut+1)};for(let Ze=1;Ze<129;Ze++)for(let Qe=1;Qe<129;Qe++)ht(Qe,Ze);return[0,129].forEach(Ze=>{for(let Qe=0;Qe<130;Qe++)ht(Qe,Ze),ht(Ze,Qe)}),[ke,Me,32768]}(),ne=a.context;this.gridBuffer=ne.createVertexBuffer(x,n.boundsAttributes.members),this.gridIndexBuffer=ne.createIndexBuffer(D),this.gridSegments=n.SegmentVector.simpleSegment(0,0,x.length,D.length),this.gridNoSkirtSegments=n.SegmentVector.simpleSegment(0,0,x.length,z),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Ur(u.map),this.orthoMatrix=n.create(),n.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,n.EXTENT,0,n.EXTENT,0,1);const he=ne.gl;this._overlapStencilMode=new n.StencilMode({func:he.GEQUAL,mask:255},0,255,he.KEEP,he.KEEP,he.REPLACE),this._previousZoom=a.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=u,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new On(u.map)}set style(a){a.on("data",this._onStyleDataEvent.bind(this)),a.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=a,this._checkRenderCacheEfficiency()}update(a,u,x){if(a&&a.terrain){this._style!==a&&(this.style=a),this.enabled=!0;const D=a.terrain.properties;this.sourceCache=a.terrain.drapeRenderMode===0?this._mockSourceCache:a._getSourceCache(D.get("source")),this._exaggeration=D.get("exaggeration");const z=()=>{this.sourceCache.used&&n.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const ne=this.getScaledDemTileSize();this.sourceCache.update(u,ne,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,z(),this._initializing=!0),z(),u.updateElevation(!0,x),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(u),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(a){this._findCoveringTileCache[a]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const a=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||a.efficiency!==100&&n.warnOnce(`Terrain render cache efficiency is not optimal (${a.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${a.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(a){a.coord&&a.dataType==="source"?this._clearRenderCacheForTile(a.sourceCacheId,a.coord):a.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const a in this._style._sourceCaches)this._style._sourceCaches[a].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(a=>a.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const a=2*this.proxySourceCache.getSource().tileSize;return[a,a]}set useVertexMorphing(a){this._useVertexMorphing=a}updateTileBinding(a){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const u=this.proxySourceCache,x=this.painter.transform;this._initializing&&(this._initializing=x._centerAltitude===0&&this.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(x.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const D=this.proxyCoords=u.getIds().map(pe=>{const ke=u.getTileByID(pe).tileID;return ke.projMatrix=x.calculateProjMatrix(ke.toUnwrapped()),ke});(function(pe,ke){const Me=ke.transform.pointCoordinate(ke.transform.getCameraPoint()),Ne=new n.pointGeometry(Me.x,Me.y);pe.sort((qe,st)=>{if(st.overscaledZ-qe.overscaledZ)return st.overscaledZ-qe.overscaledZ;const rt=new n.pointGeometry(qe.canonical.x+(1<<qe.canonical.z)*qe.wrap,qe.canonical.y),ht=new n.pointGeometry(st.canonical.x+(1<<st.canonical.z)*st.wrap,st.canonical.y),Ze=Ne.mult(1<<qe.canonical.z);return Ze.x-=.5,Ze.y-=.5,Ze.distSqr(rt)-Ze.distSqr(ht)})})(D,this.painter),this._previousZoom=x.zoom;const z=this.proxyToSource||{};this.proxyToSource={},D.forEach(pe=>{this.proxyToSource[pe.key]={}}),this.terrainTileForTile={};const ne=this._style._sourceCaches;for(const pe in ne){const ke=ne[pe];if(!ke.used||(ke!==this.sourceCache&&this.resetTileLookupCache(ke.id),this._setupProxiedCoordsForOrtho(ke,a[pe],z),ke.usedForTerrain))continue;const Me=a[pe];ke.getSource().reparseOverscaled&&this._assignTerrainTiles(Me)}this.proxiedCoords[u.id]=D.map(pe=>new bo(pe,pe.key,this.orthoMatrix)),this._assignTerrainTiles(D),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(z),this.renderingToTexture=!1,this._updateTimestamp=n.exported.now();const he={};this._visibleDemTiles=[];for(const pe of this.proxyCoords){const ke=this.terrainTileForTile[pe.key];if(!ke)continue;const Me=ke.tileID.key;Me in he||(this._visibleDemTiles.push(ke),he[Me]=Me)}}_assignTerrainTiles(a){this._initializing||a.forEach(u=>{if(this.terrainTileForTile[u.key])return;const x=this._findTileCoveringTileID(u,this.sourceCache);x&&(this.terrainTileForTile[u.key]=x)})}_prepareDEMTextures(){const a=this.painter.context,u=a.gl;for(const x in this.terrainTileForTile){const D=this.terrainTileForTile[x],z=D.dem;!z||D.demTexture&&!D.needsDEMTextureUpload||(a.activeTexture.set(u.TEXTURE1),Ds(this.painter,D,z))}}_prepareDemTileUniforms(a,u,x,D){if(!u||u.demTexture==null)return!1;const z=a.tileID.canonical,ne=Math.pow(2,u.tileID.canonical.z-z.z),he=D||"";return x[`u_dem_tl${he}`]=[z.x*ne%1,z.y*ne%1],x[`u_dem_scale${he}`]=ne,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const a=this.painter.context,u=a.gl;if(!this._emptyDepthBufferTexture){const x=new n.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new n.Texture(a,x,u.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let a=0;const u=this._visibleDemTiles.reduce((x,D)=>{if(!D.dem)return x;const z=D.dem.tree.minimums[0];return z>0&&a++,x+z},0);return a?u/a:0}_updateEmptyDEMTexture(){const a=this.painter.context,u=a.gl;a.activeTexture.set(u.TEXTURE2);const x=this._getLoadedAreaMinimum(),D=new n.RGBAImage({width:1,height:1},new Uint8Array(n.DEMData.pack(x,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let z=this._emptyDEMTexture;return z?z.update(D,{premultiply:!1}):z=this._emptyDEMTexture=new n.Texture(a,D,u.RGBA,{premultiply:!1}),z}setupElevationDraw(a,u,x){const D=this.painter.context,z=D.gl,ne=(he=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:n.DEMData.getUnpackVector(he),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var he;ne.u_dem_size=this.sourceCache.getSource().tileSize,ne.u_exaggeration=this.exaggeration();let pe=null,ke=null,Me=1;if(x&&x.morphing&&this._useVertexMorphing){const Ne=x.morphing.srcDemTile,qe=x.morphing.dstDemTile;Me=x.morphing.phase,Ne&&qe&&(this._prepareDemTileUniforms(a,Ne,ne,"_prev")&&(ke=Ne),this._prepareDemTileUniforms(a,qe,ne)&&(pe=qe))}if(ke&&pe?(D.activeTexture.set(z.TEXTURE2),pe.demTexture.bind(z.NEAREST,z.CLAMP_TO_EDGE,z.NEAREST),D.activeTexture.set(z.TEXTURE4),ke.demTexture.bind(z.NEAREST,z.CLAMP_TO_EDGE,z.NEAREST),ne.u_dem_lerp=Me):(pe=this.terrainTileForTile[a.tileID.key],D.activeTexture.set(z.TEXTURE2),(this._prepareDemTileUniforms(a,pe,ne)?pe.demTexture:this.emptyDEMTexture).bind(z.NEAREST,z.CLAMP_TO_EDGE)),D.activeTexture.set(z.TEXTURE3),x&&x.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(z.NEAREST,z.CLAMP_TO_EDGE),this._depthFBO&&(ne.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(z.NEAREST,z.CLAMP_TO_EDGE),ne.u_depth_size_inv=[1,1]),x&&x.useMeterToDem&&pe){const Ne=(1<<pe.tileID.canonical.z)*n.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;ne.u_meter_to_dem=Ne}if(x&&x.labelPlaneMatrixInv&&(ne.u_label_plane_matrix_inv=x.labelPlaneMatrixInv),u.setTerrainUniformValues(D,ne),this.painter.transform.projection.name==="globe"){const Ne=this.globeUniformValues(this.painter.transform,a.tileID.canonical,x&&x.useDenormalizedUpVectorScale);u.setGlobeUniformValues(D,Ne)}}globeUniformValues(a,u,x){const D=a.projection;return{u_tile_tl_up:D.upVector(u,0,0),u_tile_tr_up:D.upVector(u,n.EXTENT,0),u_tile_br_up:D.upVector(u,n.EXTENT,n.EXTENT),u_tile_bl_up:D.upVector(u,0,n.EXTENT),u_tile_up_scale:x?n.GLOBE_METERS_TO_ECEF:D.upVectorScale(u,a.center.lat,a.worldSize).metersToTile}}renderToBackBuffer(a){const u=this.painter,x=this.painter.context;a.length!==0&&(x.bindFramebuffer.set(null),x.viewport.set([0,0,u.width,u.height]),u.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(D,z,ne,he,pe){if(D.transform.projection.name==="globe")(function(ke,Me,Ne,qe,st){const rt=ke.context,ht=rt.gl;let Ze,Qe;const ut=ke.options.showTerrainWireframe?2:0,ot=ke.transform,vt=n.globeUseCustomAntiAliasing(ke,rt,ot),Mt=(Ai,ei)=>{if(Qe===Ai)return;const gi=[ca[Ai],"PROJECTION_GLOBE_VIEW"];vt&&gi.push("CUSTOM_ANTIALIASING"),ei&&gi.push(ca[ut]),Ze=ke.useProgram("globeRaster",null,gi),Qe=Ai},bt=ke.colorModeForRenderPass(),Ot=new n.DepthMode(ht.LEQUAL,n.DepthMode.ReadWrite,ke.depthRangeFor3D);Is.update(st);const Zt=n.calculateGlobeMercatorMatrix(ot),qt=[n.mercatorXfromLng(ot.center.lng),n.mercatorYfromLat(ot.center.lat)],Nt=ut?[!1,!0]:[!1],xi=ke.globeSharedBuffers,Ht=[ot.width*n.exported.devicePixelRatio,ot.height*n.exported.devicePixelRatio],ci=Float32Array.from(ot.globeMatrix),Jt={useDenormalizedUpVectorScale:!0};if(Nt.forEach(Ai=>{Qe=-1;const ei=Ai?ht.LINES:ht.TRIANGLES;for(const gi of qe){const Di=Ne.getTile(gi),jt=n.StencilMode.disabled,Kt=Me.prevTerrainTileForTile[gi.key],sn=Me.terrainTileForTile[gi.key];Qn(Kt,sn)&&Is.newMorphing(gi.key,Kt,sn,st,250),rt.activeTexture.set(ht.TEXTURE0),Di.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE);const un=Is.getMorphValuesForProxy(gi.key),rn=un?1:0;un&&n.extend$1(Jt,{morphing:{srcDemTile:un.from,dstDemTile:un.to,phase:n.easeCubicInOut(un.phase)}});const Cn=n.tileCornersToBounds(gi.canonical),Hn=n.getLatitudinalLod(Cn.getCenter().lat),mn=n.getGridMatrix(gi.canonical,Cn,Hn,ot.worldSize/ot._pixelsPerMercatorPixel),Zi=n.globeNormalizeECEF(n.globeTileBounds(gi.canonical)),zs=Ar(ot.projMatrix,ci,Zt,Zi,n.globeToMercatorTransition(ot.zoom),qt,ot.frustumCorners.TL,ot.frustumCorners.TR,ot.frustumCorners.BR,ot.frustumCorners.BL,ot.globeCenterInViewSpace,ot.globeRadius,Ht,mn);if(Mt(rn,Ai),Me.setupElevationDraw(Di,Ze,Jt),ke.prepareDrawProgram(rt,Ze,gi.toUnwrapped()),xi){const[Es,Fs,Ls]=Ai?xi.getWirefameBuffers(ke.context,Hn):xi.getGridBuffers(Hn);Ze.draw(rt,ei,Ot,jt,bt,n.CullFaceMode.backCCW,zs,"globe_raster",Es,Fs,Ls)}}}),xi){const Ai=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];vt&&Ai.push("CUSTOM_ANTIALIASING"),Ze=ke.useProgram("globeRaster",null,Ai);for(const ei of qe){const{x:gi,y:Di,z:jt}=ei.canonical,Kt=Di===0,sn=Di===(1<<jt)-1,[un,rn,Cn,Hn]=xi.getPoleBuffers(jt);if(Hn&&(Kt||sn)){const mn=Ne.getTile(ei);rt.activeTexture.set(ht.TEXTURE0),mn.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE);let Zi=n.globePoleMatrixForTile(jt,gi,ot);const zs=n.globeNormalizeECEF(n.globeTileBounds(ei.canonical)),Es=(Fs,Ls)=>Fs.draw(rt,ht.TRIANGLES,Ot,n.StencilMode.disabled,bt,n.CullFaceMode.disabled,Ar(ot.projMatrix,Zi,Zi,zs,0,qt,ot.frustumCorners.TL,ot.frustumCorners.TR,ot.frustumCorners.BR,ot.frustumCorners.BL,ot.globeCenterInViewSpace,ot.globeRadius,Ht),"globe_pole_raster",Ls,Cn,Hn);Me.setupElevationDraw(mn,Ze,Jt),ke.prepareDrawProgram(rt,Ze,ei.toUnwrapped()),Kt&&Es(Ze,un),sn&&(Zi=n.scale(n.create(),Zi,[1,-1,1]),Es(Ze,rn))}}}})(D,z,ne,he,pe);else{const ke=D.context,Me=ke.gl;let Ne,qe;const st=D.options.showTerrainWireframe?2:0,rt=(ot,vt)=>{if(qe===ot)return;const Mt=[ca[ot]];vt&&Mt.push(ca[st]),Ne=D.useProgram("terrainRaster",null,Mt),qe=ot},ht=D.colorModeForRenderPass(),Ze=new n.DepthMode(Me.LEQUAL,n.DepthMode.ReadWrite,D.depthRangeFor3D);Is.update(pe);const Qe=D.transform,ut=6*Math.pow(1.5,22-Qe.zoom)*z.exaggeration();(st?[!1,!0]:[!1]).forEach(ot=>{qe=-1;const vt=ot?Me.LINES:Me.TRIANGLES,[Mt,bt]=ot?z.getWirefameBuffer():[z.gridIndexBuffer,z.gridSegments];for(const Ot of he){const Zt=ne.getTile(Ot),qt=n.StencilMode.disabled,Nt=z.prevTerrainTileForTile[Ot.key],xi=z.terrainTileForTile[Ot.key];Qn(Nt,xi)&&Is.newMorphing(Ot.key,Nt,xi,pe,250),ke.activeTexture.set(Me.TEXTURE0),Zt.texture.bind(Me.LINEAR,Me.CLAMP_TO_EDGE,Me.LINEAR_MIPMAP_NEAREST);const Ht=Is.getMorphValuesForProxy(Ot.key),ci=Ht?1:0;let Jt;Ht&&(Jt={morphing:{srcDemTile:Ht.from,dstDemTile:Ht.to,phase:n.easeCubicInOut(Ht.phase)}});const Ai=Dn(Ot.projMatrix,hl(Ot.canonical,Qe.renderWorldCopies)?ut/10:ut);rt(ci,ot),z.setupElevationDraw(Zt,Ne,Jt),D.prepareDrawProgram(ke,Ne,Ot.toUnwrapped()),Ne.draw(ke,vt,Ze,qt,ht,n.CullFaceMode.backCCW,Ai,"terrain_raster",z.gridBuffer,Mt,bt)}})}}(u,this,this.proxySourceCache,a,this._updateTimestamp),this.renderingToTexture=!0,u.gpuTimingDeferredRenderEnd(),a.splice(0,a.length))}renderBatch(a){if(this._drapedRenderBatches.length===0)return a+1;this.renderingToTexture=!0;const u=this.painter,x=this.painter.context,D=this.proxySourceCache,z=this.proxiedCoords[D.id],ne=this._drapedRenderBatches.shift(),he=[],pe=u.style.order;let ke=0;for(const Me of z){const Ne=D.getTileByID(Me.proxyTileKey),qe=D.proxyCachedFBO[Me.key]?D.proxyCachedFBO[Me.key][a]:void 0,st=qe!==void 0?D.renderCache[qe]:this.pool[ke++],rt=qe!==void 0;if(Ne.texture=st.tex,rt&&!st.dirty){he.push(Ne.tileID);continue}let ht;x.bindFramebuffer.set(st.fb.framebuffer),this.renderedToTile=!1,st.dirty&&(x.clear({color:n.Color.transparent,stencil:0}),st.dirty=!1);for(let Ze=ne.start;Ze<=ne.end;++Ze){const Qe=u.style._layers[pe[Ze]];if(Qe.isHidden(u.transform.zoom))continue;const ut=u.style._getLayerSourceCache(Qe),ot=ut?this.proxyToSource[Me.key][ut.id]:[Me];if(!ot)continue;const vt=ot;x.viewport.set([0,0,st.fb.width,st.fb.height]),ht!==(ut?ut.id:null)&&(this._setupStencil(st,ot,Qe,ut),ht=ut?ut.id:null),u.renderLayer(u,ut,Qe,vt)}this.renderedToTile?(st.dirty=!0,he.push(Ne.tileID)):rt||--ke,ke===5&&(ke=0,this.renderToBackBuffer(he))}return this.renderToBackBuffer(he),this.renderingToTexture=!1,x.bindFramebuffer.set(null),x.viewport.set([0,0,u.width,u.height]),ne.end+1}postRender(){}renderCacheEfficiency(a){const u=a.order.length;if(u===0)return{efficiency:100};let x,D=0,z=0,ne=!1;for(let he=0;he<u;++he){const pe=a._layers[a.order[he]];this._style.isLayerDraped(pe)?(ne&&++D,++z):ne||(ne=!0,x=pe.id)}return z===0?{efficiency:100}:{efficiency:100*(1-D/z),firstUndrapedLayer:x}}getMinElevationBelowMSL(){let a=0;return this._visibleDemTiles.filter(u=>u.dem).forEach(u=>{a=Math.min(a,u.dem.tree.minimums[0])}),a===0?a:(a-30)*this._exaggeration}raycast(a,u,x){if(!this._visibleDemTiles)return null;const D=this._visibleDemTiles.filter(z=>z.dem).map(z=>{const ne=z.tileID,he=1<<ne.overscaledZ,{x:pe,y:ke}=ne.canonical,Me=pe/he,Ne=(pe+1)/he,qe=ke/he,st=(ke+1)/he;return{minx:Me,miny:qe,maxx:Ne,maxy:st,t:z.dem.tree.raycastRoot(Me,qe,Ne,st,a,u,x),tile:z}});D.sort((z,ne)=>(z.t!==null?z.t:Number.MAX_VALUE)-(ne.t!==null?ne.t:Number.MAX_VALUE));for(const z of D){if(z.t==null)return null;const ne=z.tile.dem.tree.raycast(z.minx,z.miny,z.maxx,z.maxy,a,u,x);if(ne!=null)return ne}return null}_createFBO(){const a=this.painter.context,u=a.gl,x=this.drapeBufferSize;a.activeTexture.set(u.TEXTURE0);const D=new n.Texture(a,{width:x[0],height:x[1],data:null},u.RGBA);D.bind(u.LINEAR,u.CLAMP_TO_EDGE);const z=a.createFramebuffer(x[0],x[1],!1);return z.colorAttachment.set(D.texture),z.depthAttachment=new ic(a,z.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=a.createRenderbuffer(a.gl.DEPTH_STENCIL,x[0],x[1]),this._stencilRef=0,z.depthAttachment.set(this._sharedDepthStencil),a.clear({stencil:0})):z.depthAttachment.set(this._sharedDepthStencil),a.extTextureFilterAnisotropic&&!a.extTextureFilterAnisotropicForceOff&&u.texParameterf(u.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax),{fb:z,tex:D,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const a in this._style._sourceCaches)if(this._style._sourceCaches[a].hasTransition())return!0;return this._style.order.some(a=>{const u=this._style._layers[a],x=u.isHidden(this.painter.transform.zoom);return u.type!=="custom"&&!x&&u.hasTransition()})}_clearRasterFadeFromRenderCache(){let a=!1;for(const u in this._style._sourceCaches)if(this._style._sourceCaches[u]._source instanceof $e){a=!0;break}if(a)for(let u=0;u<this._style.order.length;++u){const x=this._style._layers[this._style.order[u]],D=x.isHidden(this.painter.transform.zoom),z=this._style._getLayerSourceCache(x);if(x.type!=="raster"||D||!z)continue;const ne=x.paint.get("raster-fade-duration");for(const he of this.proxyCoords){const pe=this.proxyToSource[he.key][z.id];if(pe)for(const ke of pe){const Me=xo(z.getTile(ke),z.findLoadedParent(ke,0),z,this.painter.transform,ne);(Me.opacity!==1||Me.mix!==0)&&this._clearRenderCacheForTile(z.id,ke)}}}}_setupDrapedRenderBatches(){const a=this._style.order,u=a.length;if(u===0)return;const x=[];let D,z=0,ne=this._style._layers[a[z]];for(;!this._style.isLayerDraped(ne)&&ne.isHidden(this.painter.transform.zoom)&&++z<u;)ne=this._style._layers[a[z]];for(;z<u;++z){const he=this._style._layers[a[z]];he.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(he)?D===void 0&&(D=z):D!==void 0&&(x.push({start:D,end:z-1}),D=void 0))}D!==void 0&&x.push({start:D,end:z-1}),this._drapedRenderBatches=x}_setupRenderCache(a){const u=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,u.renderCache.length>u.renderCachePool.length){const ne=Object.values(u.proxyCachedFBO);u.proxyCachedFBO={};for(let he=0;he<ne.length;++he){const pe=Object.values(ne[he]);u.renderCachePool.push(...pe)}}return}this._clearRasterFadeFromRenderCache();const x=this.proxyCoords,D=this._tilesDirty;for(let ne=x.length-1;ne>=0;ne--){const he=x[ne];if(u.getTileByID(he.key),u.proxyCachedFBO[he.key]!==void 0){const pe=a[he.key],ke=this.proxyToSource[he.key];let Me=0;for(const Ne in ke){const qe=ke[Ne],st=pe[Ne];if(!st||st.length!==qe.length||qe.some((rt,ht)=>rt!==st[ht]||D[Ne]&&D[Ne].hasOwnProperty(rt.key))){Me=-1;break}++Me}for(const Ne in u.proxyCachedFBO[he.key])u.renderCache[u.proxyCachedFBO[he.key][Ne]].dirty=Me<0||Me!==Object.values(pe).length}}const z=[...this._drapedRenderBatches];z.sort((ne,he)=>he.end-he.start-(ne.end-ne.start));for(const ne of z)for(const he of x){if(u.proxyCachedFBO[he.key])continue;let pe=u.renderCachePool.pop();pe===void 0&&u.renderCache.length<50&&(pe=u.renderCache.length,u.renderCache.push(this._createFBO())),pe!==void 0&&(u.proxyCachedFBO[he.key]={},u.proxyCachedFBO[he.key][ne.start]=pe,u.renderCache[pe].dirty=!0)}this._tilesDirty={}}_setupStencil(a,u,x,D){if(!D||!this._sourceTilesOverlap[D.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const z=this.painter.context,ne=z.gl;if(u.length<=1)return void(this._overlapStencilType=!1);let he;if(x.isTileClipped())he=u.length,this._overlapStencilMode.test={func:ne.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(u[0].overscaledZ>u[u.length-1].overscaledZ))return void(this._overlapStencilType=!1);he=1,this._overlapStencilMode.test={func:ne.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+he>255&&(z.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=he,this._overlapStencilMode.ref=this._stencilRef,x.isTileClipped()&&this._renderTileClippingMasks(u,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(a){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[a.key]),this._overlapStencilMode):n.StencilMode.disabled}_renderTileClippingMasks(a,u){const x=this.painter,D=this.painter.context,z=D.gl;x._tileClippingMaskIDs={},D.setColorMode(n.ColorMode.disabled),D.setDepthMode(n.DepthMode.disabled);const ne=x.useProgram("clippingMask");for(const he of a){const pe=x._tileClippingMaskIDs[he.key]=--u;ne.draw(D,z.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:z.ALWAYS,mask:0},pe,255,z.KEEP,z.KEEP,z.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,kr(he.projMatrix),"$clipping",x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}}pointCoordinate(a){const u=this.painter.transform;if(a.x<0||a.x>u.width||a.y<0||a.y>u.height)return null;const x=[a.x,a.y,1,1];n.transformMat4$1(x,x,u.pixelMatrixInverse),n.scale$1(x,x,1/x[3]),x[0]/=u.worldSize,x[1]/=u.worldSize;const D=u._camera.position,z=n.mercatorZfromAltitude(1,u.center.lat),ne=[D[0],D[1],D[2]/z,0],he=n.subtract([],x.slice(0,3),ne);n.normalize(he,he);const pe=this.raycast(ne,he,this._exaggeration);return pe!==null&&pe?(n.scaleAndAdd(ne,ne,he,pe),ne[3]=ne[2],ne[2]*=z,ne):null}drawDepth(){const a=this.painter,u=a.context,x=this.proxySourceCache,D=Math.ceil(a.width),z=Math.ceil(a.height);if(!this._depthFBO||this._depthFBO.width===D&&this._depthFBO.height===z||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const ne=u.gl,he=u.createFramebuffer(D,z,!0);u.activeTexture.set(ne.TEXTURE0);const pe=new n.Texture(u,{width:D,height:z,data:null},ne.RGBA);pe.bind(ne.NEAREST,ne.CLAMP_TO_EDGE),he.colorAttachment.set(pe.texture);const ke=u.createRenderbuffer(u.gl.DEPTH_COMPONENT16,D,z);he.depthAttachment.set(ke),this._depthFBO=he,this._depthTexture=pe}u.bindFramebuffer.set(this._depthFBO.framebuffer),u.viewport.set([0,0,D,z]),function(ne,he,pe,ke){if(ne.transform.projection.name==="globe")return;const Me=ne.context,Ne=Me.gl;Me.clear({depth:1});const qe=ne.useProgram("terrainDepth"),st=new n.DepthMode(Ne.LESS,n.DepthMode.ReadWrite,ne.depthRangeFor3D);for(const rt of ke){const ht=pe.getTile(rt),Ze=Dn(rt.projMatrix,0);he.setupElevationDraw(ht,qe),qe.draw(Me,Ne.TRIANGLES,st,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.backCCW,Ze,"terrain_depth",he.gridBuffer,he.gridIndexBuffer,he.gridNoSkirtSegments)}}(a,this,x,this.proxyCoords)}_setupProxiedCoordsForOrtho(a,u,x){if(a.getSource()instanceof kt)return this._setupProxiedCoordsForImageSource(a,u,x);this._findCoveringTileCache[a.id]=this._findCoveringTileCache[a.id]||{};const D=this.proxiedCoords[a.id]=[],z=this.proxyCoords;for(let he=0;he<z.length;he++){const pe=z[he],ke=this._findTileCoveringTileID(pe,a);if(ke){const Me=this._createProxiedId(pe,ke,x[pe.key]&&x[pe.key][a.id]);D.push(Me),this.proxyToSource[pe.key][a.id]=[Me]}}let ne=!1;for(let he=0;he<u.length;he++){const pe=a.getTile(u[he]);if(!pe||!pe.hasData())continue;const ke=this._findTileCoveringTileID(pe.tileID,this.proxySourceCache);if(ke&&ke.tileID.canonical.z!==pe.tileID.canonical.z){const Me=this.proxyToSource[ke.tileID.key][a.id],Ne=this._createProxiedId(ke.tileID,pe,x[ke.tileID.key]&&x[ke.tileID.key][a.id]);Me?Me.splice(Me.length-1,0,Ne):this.proxyToSource[ke.tileID.key][a.id]=[Ne],D.push(Ne),ne=!0}}this._sourceTilesOverlap[a.id]=ne}_setupProxiedCoordsForImageSource(a,u,x){if(!a.getSource().loaded())return;const D=this.proxiedCoords[a.id]=[],z=this.proxyCoords,ne=a.getSource(),he=new n.pointGeometry(ne.tileID.x,ne.tileID.y)._div(1<<ne.tileID.z),pe=ne.coordinates.map(n.MercatorCoordinate.fromLngLat).reduce((Me,Ne)=>(Me.min.x=Math.min(Me.min.x,Ne.x-he.x),Me.min.y=Math.min(Me.min.y,Ne.y-he.y),Me.max.x=Math.max(Me.max.x,Ne.x-he.x),Me.max.y=Math.max(Me.max.y,Ne.y-he.y),Me),{min:new n.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new n.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),ke=(Me,Ne)=>{const qe=Me.wrap+Me.canonical.x/(1<<Me.canonical.z),st=Me.canonical.y/(1<<Me.canonical.z),rt=n.EXTENT/(1<<Me.canonical.z),ht=Ne.wrap+Ne.canonical.x/(1<<Ne.canonical.z),Ze=Ne.canonical.y/(1<<Ne.canonical.z);return qe+rt<ht+pe.min.x||qe>ht+pe.max.x||st+rt<Ze+pe.min.y||st>Ze+pe.max.y};for(let Me=0;Me<z.length;Me++){const Ne=z[Me];for(let qe=0;qe<u.length;qe++){const st=a.getTile(u[qe]);if(!st||!st.hasData()||ke(Ne,st.tileID))continue;const rt=this._createProxiedId(Ne,st,x[Ne.key]&&x[Ne.key][a.id]),ht=this.proxyToSource[Ne.key][a.id];ht?ht.push(rt):this.proxyToSource[Ne.key][a.id]=[rt],D.push(rt)}}}_createProxiedId(a,u,x){let D=this.orthoMatrix;if(x){const z=x.find(ne=>ne.key===u.tileID.key);if(z)return z}if(u.tileID.key!==a.key){const z=a.canonical.z-u.tileID.canonical.z;let ne,he,pe;D=n.create();const ke=u.tileID.wrap-a.wrap<<a.overscaledZ;z>0?(ne=n.EXTENT>>z,he=ne*((u.tileID.canonical.x<<z)-a.canonical.x+ke),pe=ne*((u.tileID.canonical.y<<z)-a.canonical.y)):(ne=n.EXTENT<<-z,he=n.EXTENT*(u.tileID.canonical.x-(a.canonical.x+ke<<-z)),pe=n.EXTENT*(u.tileID.canonical.y-(a.canonical.y<<-z))),n.ortho(D,0,ne,0,ne,0,1),n.translate(D,D,[he,pe,0])}return new bo(u.tileID,a.key,D)}_findTileCoveringTileID(a,u){let x=u.getTile(a);if(x&&x.hasData())return x;const D=this._findCoveringTileCache[u.id],z=D[a.key];if(x=z?u.getTileByID(z):null,x&&x.hasData()||z===null)return x;let ne=x?x.tileID:a,he=ne.overscaledZ;const pe=u.getSource().minzoom,ke=[];if(!z){const Ne=u.getSource().maxzoom;if(a.canonical.z>=Ne){const qe=a.canonical.z-Ne;u.getSource().reparseOverscaled?(he=Math.max(a.canonical.z+2,u.transform.tileZoom),ne=new n.OverscaledTileID(he,a.wrap,Ne,a.canonical.x>>qe,a.canonical.y>>qe)):qe!==0&&(he=Ne,ne=new n.OverscaledTileID(he,a.wrap,Ne,a.canonical.x>>qe,a.canonical.y>>qe))}ne.key!==a.key&&(ke.push(ne.key),x=u.getTile(ne))}const Me=Ne=>{ke.forEach(qe=>{D[qe]=Ne}),ke.length=0};for(he-=1;he>=pe&&(!x||!x.hasData());he--){x&&Me(x.tileID.key);const Ne=ne.calculateScaledKey(he);if(x=u.getTileByID(Ne),x&&x.hasData())break;const qe=D[Ne];if(qe===null)break;qe===void 0?ke.push(Ne):x=u.getTileByID(qe)}return Me(x?x.tileID.key:null),x&&x.hasData()?x:null}findDEMTileFor(a){return this.enabled?this._findTileCoveringTileID(a,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(a,u){let x=this._tilesDirty[a];x||(x=this._tilesDirty[a]={}),x[u.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const a=function(u){let x=0;const D=new n.StructArrayLayout2ui4,z=131;for(let ne=1;ne<129;ne++){for(let he=1;he<129;he++)x=ne*z+he,D.emplaceBack(x,x+1),D.emplaceBack(x,x+z),D.emplaceBack(x+1,x+z),ne===128&&D.emplaceBack(x+z,x+z+1);D.emplaceBack(x+1,x+1+z)}return D}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(a),this.wireframeSegments=n.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,a.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Ro{static cacheKey(a,u,x,D){let z=`${u}${D?D.cacheKey:""}`;for(const ne of x)a.usedDefines.includes(ne)&&(z+=`/${ne}`);return z}constructor(a,u,x,D,z,ne){const he=a.gl;this.program=he.createProgram();const pe=function(Ze){const Qe=[];for(let ut=0;ut<Ze.length;ut++){if(Ze[ut]===null)continue;const ot=Ze[ut].split(" ");Qe.push(ot.pop())}return Qe}(x.staticAttributes),ke=D?D.getBinderAttributes():[],Me=pe.concat(ke);let Ne=D?D.defines():[];Ne=Ne.concat(ne.map(Ze=>`#define ${Ze}`));const qe=Ne.concat(a.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(bi):bi,bi,li,Wt.fragmentSource,Pt.fragmentSource,x.fragmentSource).join(`
`),st=Ne.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,li,Wt.vertexSource,Pt.vertexSource,Xe.vertexSource,x.vertexSource).join(`
`),rt=he.createShader(he.FRAGMENT_SHADER);if(he.isContextLost())return void(this.failedToCreate=!0);he.shaderSource(rt,qe),he.compileShader(rt),he.attachShader(this.program,rt);const ht=he.createShader(he.VERTEX_SHADER);if(he.isContextLost())this.failedToCreate=!0;else{he.shaderSource(ht,st),he.compileShader(ht),he.attachShader(this.program,ht),this.attributes={},this.numAttributes=Me.length;for(let Ze=0;Ze<this.numAttributes;Ze++)Me[Ze]&&(he.bindAttribLocation(this.program,Ze,Me[Ze]),this.attributes[Me[Ze]]=Ze);he.linkProgram(this.program),he.deleteShader(ht),he.deleteShader(rt),this.fixedUniforms=z(a),this.binderUniforms=D?D.getUniforms(a):[],ne.includes("TERRAIN")&&(this.terrainUniforms=(Ze=>({u_dem:new n.Uniform1i(Ze),u_dem_prev:new n.Uniform1i(Ze),u_dem_unpack:new n.Uniform4f(Ze),u_dem_tl:new n.Uniform2f(Ze),u_dem_scale:new n.Uniform1f(Ze),u_dem_tl_prev:new n.Uniform2f(Ze),u_dem_scale_prev:new n.Uniform1f(Ze),u_dem_size:new n.Uniform1f(Ze),u_dem_lerp:new n.Uniform1f(Ze),u_exaggeration:new n.Uniform1f(Ze),u_depth:new n.Uniform1i(Ze),u_depth_size_inv:new n.Uniform2f(Ze),u_meter_to_dem:new n.Uniform1f(Ze),u_label_plane_matrix_inv:new n.UniformMatrix4f(Ze)}))(a)),ne.includes("GLOBE")&&(this.globeUniforms=(Ze=>({u_tile_tl_up:new n.Uniform3f(Ze),u_tile_tr_up:new n.Uniform3f(Ze),u_tile_br_up:new n.Uniform3f(Ze),u_tile_bl_up:new n.Uniform3f(Ze),u_tile_up_scale:new n.Uniform1f(Ze)}))(a)),ne.includes("FOG")&&(this.fogUniforms=(Ze=>({u_fog_matrix:new n.UniformMatrix4f(Ze),u_fog_range:new n.Uniform2f(Ze),u_fog_color:new n.Uniform4f(Ze),u_fog_horizon_blend:new n.Uniform1f(Ze),u_fog_temporal_offset:new n.Uniform1f(Ze),u_frustum_tl:new n.Uniform3f(Ze),u_frustum_tr:new n.Uniform3f(Ze),u_frustum_br:new n.Uniform3f(Ze),u_frustum_bl:new n.Uniform3f(Ze),u_globe_pos:new n.Uniform3f(Ze),u_globe_radius:new n.Uniform1f(Ze),u_globe_transition:new n.Uniform1f(Ze),u_is_globe:new n.Uniform1i(Ze),u_viewport:new n.Uniform2f(Ze)}))(a))}}setTerrainUniformValues(a,u){if(!this.terrainUniforms)return;const x=this.terrainUniforms;if(!this.failedToCreate){a.program.set(this.program);for(const D in u)x[D]&&x[D].set(this.program,D,u[D])}}setGlobeUniformValues(a,u){if(!this.globeUniforms)return;const x=this.globeUniforms;if(!this.failedToCreate){a.program.set(this.program);for(const D in u)x[D]&&x[D].set(this.program,D,u[D])}}setFogUniformValues(a,u){if(!this.fogUniforms)return;const x=this.fogUniforms;if(!this.failedToCreate){a.program.set(this.program);for(const D in u)x[D].set(this.program,D,u[D])}}draw(a,u,x,D,z,ne,he,pe,ke,Me,Ne,qe,st,rt,ht){const Ze=a.gl;if(this.failedToCreate)return;a.program.set(this.program),a.setDepthMode(x),a.setStencilMode(D),a.setColorMode(z),a.setCullFace(ne);for(const ut of Object.keys(this.fixedUniforms))this.fixedUniforms[ut].set(this.program,ut,he[ut]);rt&&rt.setUniforms(this.program,a,this.binderUniforms,qe,{zoom:st});const Qe={[Ze.LINES]:2,[Ze.TRIANGLES]:3,[Ze.LINE_STRIP]:1}[u];for(const ut of Ne.get()){const ot=ut.vaos||(ut.vaos={});(ot[pe]||(ot[pe]=new In)).bind(a,this,ke,rt?rt.getPaintVertexBuffers():[],Me,ut.vertexOffset,ht||[]),Ze.drawElements(u,ut.primitiveLength*Qe,Ze.UNSIGNED_SHORT,ut.primitiveOffset*Qe*2)}}}function dl(_,a){const u=Math.pow(2,a.tileID.overscaledZ),x=a.tileSize*Math.pow(2,_.transform.tileZoom)/u,D=x*(a.tileID.canonical.x+a.tileID.wrap*u),z=x*a.tileID.canonical.y;return{u_image:0,u_texsize:a.imageAtlasTexture.size,u_tile_units_to_pixels:1/Z(a,1,_.transform.tileZoom),u_pixel_coord_upper:[D>>16,z>>16],u_pixel_coord_lower:[65535&D,65535&z]}}const Sa=n.create(),zc=(_,a,u,x,D,z,ne,he,pe,ke,Me)=>{const Ne=a.style.light,qe=Ne.properties.get("position"),st=[qe.x,qe.y,qe.z],rt=n.create$1();Ne.properties.get("anchor")==="viewport"&&(n.fromRotation(rt,-a.transform.angle),n.transformMat3(st,st,rt));const ht=Ne.properties.get("color"),Ze=a.transform,Qe={u_matrix:_,u_lightpos:st,u_lightintensity:Ne.properties.get("intensity"),u_lightcolor:[ht.r,ht.g,ht.b],u_vertical_gradient:+u,u_opacity:x,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Sa,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:D,u_edge_radius:z};return Ze.projection.name==="globe"&&(Qe.u_tile_id=[ne.canonical.x,ne.canonical.y,1<<ne.canonical.z],Qe.u_zoom_transition=pe,Qe.u_inv_rot_matrix=Me,Qe.u_merc_center=ke,Qe.u_up_dir=Ze.projection.upVector(new n.CanonicalTileID(0,0,0),ke[0]*n.EXTENT,ke[1]*n.EXTENT),Qe.u_height_lift=he),Qe},xs=(_,a,u,x,D,z,ne,he,pe,ke,Me,Ne)=>{const qe=zc(_,a,u,x,D,z,ne,pe,ke,Me,Ne),st={u_height_factor:-Math.pow(2,ne.overscaledZ)/he.tileSize/8};return n.extend(qe,dl(a,he),st)},Bo=_=>({u_matrix:_}),ac=(_,a,u)=>n.extend(Bo(_),dl(a,u)),ul=(_,a)=>({u_matrix:_,u_world:a}),oo=(_,a,u,x)=>n.extend(ac(_,a,u),{u_world:x}),pl=n.create(),Il=(_,a,u,x,D,z)=>{const ne=_.transform,he=ne.projection.name==="globe";let pe;if(z.paint.get("circle-pitch-alignment")==="map")if(he){const Me=n.globePixelsToTileUnits(ne.zoom,a.canonical)*ne._pixelsPerMercatorPixel;pe=Float32Array.from([Me,0,0,Me])}else pe=ne.calculatePixelsToTileUnitsMatrix(u);else pe=new Float32Array([ne.pixelsToGLUnits[0],0,0,ne.pixelsToGLUnits[1]]);const ke={u_camera_to_center_distance:ne.cameraToCenterDistance,u_matrix:_.translatePosMatrix(a.projMatrix,u,z.paint.get("circle-translate"),z.paint.get("circle-translate-anchor")),u_device_pixel_ratio:n.exported.devicePixelRatio,u_extrude_scale:pe,u_inv_rot_matrix:pl,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(he){ke.u_inv_rot_matrix=x,ke.u_merc_center=D,ke.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],ke.u_zoom_transition=n.globeToMercatorTransition(ne.zoom);const Me=D[0]*n.EXTENT,Ne=D[1]*n.EXTENT;ke.u_up_dir=ne.projection.upVector(new n.CanonicalTileID(0,0,0),Me,Ne)}return ke},fh=_=>{const a=[];return _.paint.get("circle-pitch-alignment")==="map"&&a.push("PITCH_WITH_MAP"),_.paint.get("circle-pitch-scale")==="map"&&a.push("SCALE_WITH_MAP"),a},fl=(_,a,u,x)=>{const D=n.EXTENT/u.tileSize;return{u_matrix:_,u_camera_to_center_distance:a.getCameraToCenterDistance(x),u_extrude_scale:[a.pixelsToGLUnits[0]/D,a.pixelsToGLUnits[1]/D]}},ml=(_,a,u=1)=>({u_matrix:_,u_color:a,u_overlay:0,u_overlay_scale:u}),Uh=n.create(),gl=(_,a,u,x,D,z,ne)=>{const he=_.transform,pe=he.projection.name==="globe",ke=pe?n.globePixelsToTileUnits(he.zoom,a.canonical)*he._pixelsPerMercatorPixel:Z(u,1,z),Me={u_matrix:a.projMatrix,u_extrude_scale:ke,u_intensity:ne,u_inv_rot_matrix:Uh,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(pe){Me.u_inv_rot_matrix=x,Me.u_merc_center=D,Me.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],Me.u_zoom_transition=n.globeToMercatorTransition(he.zoom);const Ne=D[0]*n.EXTENT,qe=D[1]*n.EXTENT;Me.u_up_dir=he.projection.upVector(new n.CanonicalTileID(0,0,0),Ne,qe)}return Me},mh=(_,a,u,x,D,z,ne)=>{const he=_.transform,pe=he.calculatePixelsToTileUnitsMatrix(a);return{u_matrix:_l(_,a,u,x),u_pixels_to_tile_units:pe,u_device_pixel_ratio:z,u_units_to_pixels:[1/he.pixelsToGLUnits[0],1/he.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:D,u_texsize:Nc(u)?a.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Wo(a,_.transform),u_alpha_discard_threshold:0,u_trim_offset:ne}},$o=(_,a,u,x,D)=>{const z=_.transform;return{u_matrix:_l(_,a,u,x),u_texsize:a.imageAtlasTexture.size,u_pixels_to_tile_units:z.calculatePixelsToTileUnitsMatrix(a),u_device_pixel_ratio:D,u_image:0,u_tile_units_to_pixels:Wo(a,z),u_units_to_pixels:[1/z.pixelsToGLUnits[0],1/z.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Wo(_,a){return 1/Z(_,1,a.tileZoom)}function _l(_,a,u,x){return _.translatePosMatrix(x||a.tileID.projMatrix,a,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}function Nc(_){const a=_.paint.get("line-dasharray").value;return a.value||a.kind!=="constant"}const Ll=(_,a,u,x,D,z)=>{return{u_matrix:_,u_tl_parent:a,u_scale_parent:u,u_fade_t:x.mix,u_opacity:x.opacity*D.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:D.paint.get("raster-brightness-min"),u_brightness_high:D.paint.get("raster-brightness-max"),u_saturation_factor:(he=D.paint.get("raster-saturation"),he>0?1-1/(1.001-he):-he),u_contrast_factor:(ne=D.paint.get("raster-contrast"),ne>0?1/(1-ne):1+ne),u_spin_weights:wo(D.paint.get("raster-hue-rotate")),u_perspective_transform:z};var ne,he};function wo(_){_*=Math.PI/180;const a=Math.sin(_),u=Math.cos(_);return[(2*u+1)/3,(-Math.sqrt(3)*a-u+1)/3,(Math.sqrt(3)*a-u+1)/3]}const Gr=n.create(),Fa=(_,a,u,x,D,z,ne,he,pe,ke,Me,Ne,qe,st,rt,ht)=>{const Ze=D.transform,Qe={u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:Ze.cameraToCenterDistance,u_rotate_symbol:+u,u_aspect_ratio:Ze.width/Ze.height,u_fade_change:D.options.fadeDuration?D.symbolFadeChange:1,u_matrix:z,u_label_plane_matrix:ne,u_coord_matrix:he,u_is_text:+pe,u_pitch_with_map:+x,u_texsize:ke,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Gr,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Gr,u_up_vector:[0,-1,0]};return ht.name==="globe"&&(Qe.u_tile_id=[Me.canonical.x,Me.canonical.y,1<<Me.canonical.z],Qe.u_zoom_transition=Ne,Qe.u_inv_rot_matrix=st,Qe.u_merc_center=qe,Qe.u_camera_forward=Ze._camera.forward(),Qe.u_ecef_origin=n.globeECEFOrigin(Ze.globeMatrix,Me.toUnwrapped()),Qe.u_tile_matrix=Float32Array.from(Ze.globeMatrix),Qe.u_up_vector=rt),Qe},yl=(_,a,u,x,D,z,ne,he,pe,ke,Me,Ne,qe,st,rt,ht,Ze)=>n.extend(Fa(_,a,u,x,D,z,ne,he,pe,ke,Ne,qe,st,rt,ht,Ze),{u_gamma_scale:x?D.transform.cameraToCenterDistance*Math.cos(D.terrain?0:D.transform._pitch):1,u_device_pixel_ratio:n.exported.devicePixelRatio,u_is_halo:+Me}),Ol=(_,a,u,x,D,z,ne,he,pe,ke,Me,Ne,qe,st,rt,ht)=>n.extend(yl(_,a,u,x,D,z,ne,he,!0,pe,!0,Me,Ne,qe,st,rt,ht),{u_texsize_icon:ke,u_texture_icon:1}),wd=(_,a,u)=>({u_matrix:_,u_opacity:a,u_color:u}),is=(_,a,u,x,D)=>n.extend(function(z,ne,he){const pe=ne.imageManager.getPattern(z.toString()),{width:ke,height:Me}=ne.imageManager.getPixelSize(),Ne=Math.pow(2,he.tileID.overscaledZ),qe=he.tileSize*Math.pow(2,ne.transform.tileZoom)/Ne,st=qe*(he.tileID.canonical.x+he.tileID.wrap*Ne),rt=qe*he.tileID.canonical.y;return{u_image:0,u_pattern_tl:pe.tl,u_pattern_br:pe.br,u_texsize:[ke,Me],u_pattern_size:pe.displaySize,u_tile_units_to_pixels:1/Z(he,1,ne.transform.tileZoom),u_pixel_coord_upper:[st>>16,rt>>16],u_pixel_coord_lower:[65535&st,65535&rt]}}(x,u,D),{u_matrix:_,u_opacity:a}),uo={fillExtrusion:_=>({u_matrix:new n.UniformMatrix4f(_),u_lightpos:new n.Uniform3f(_),u_lightintensity:new n.Uniform1f(_),u_lightcolor:new n.Uniform3f(_),u_vertical_gradient:new n.Uniform1f(_),u_opacity:new n.Uniform1f(_),u_edge_radius:new n.Uniform1f(_),u_ao:new n.Uniform2f(_),u_tile_id:new n.Uniform3f(_),u_zoom_transition:new n.Uniform1f(_),u_inv_rot_matrix:new n.UniformMatrix4f(_),u_merc_center:new n.Uniform2f(_),u_up_dir:new n.Uniform3f(_),u_height_lift:new n.Uniform1f(_)}),fillExtrusionPattern:_=>({u_matrix:new n.UniformMatrix4f(_),u_lightpos:new n.Uniform3f(_),u_lightintensity:new n.Uniform1f(_),u_lightcolor:new n.Uniform3f(_),u_vertical_gradient:new n.Uniform1f(_),u_height_factor:new n.Uniform1f(_),u_edge_radius:new n.Uniform1f(_),u_ao:new n.Uniform2f(_),u_tile_id:new n.Uniform3f(_),u_zoom_transition:new n.Uniform1f(_),u_inv_rot_matrix:new n.UniformMatrix4f(_),u_merc_center:new n.Uniform2f(_),u_up_dir:new n.Uniform3f(_),u_height_lift:new n.Uniform1f(_),u_image:new n.Uniform1i(_),u_texsize:new n.Uniform2f(_),u_pixel_coord_upper:new n.Uniform2f(_),u_pixel_coord_lower:new n.Uniform2f(_),u_tile_units_to_pixels:new n.Uniform1f(_),u_opacity:new n.Uniform1f(_)}),fill:_=>({u_matrix:new n.UniformMatrix4f(_)}),fillPattern:_=>({u_matrix:new n.UniformMatrix4f(_),u_image:new n.Uniform1i(_),u_texsize:new n.Uniform2f(_),u_pixel_coord_upper:new n.Uniform2f(_),u_pixel_coord_lower:new n.Uniform2f(_),u_tile_units_to_pixels:new n.Uniform1f(_)}),fillOutline:_=>({u_matrix:new n.UniformMatrix4f(_),u_world:new n.Uniform2f(_)}),fillOutlinePattern:_=>({u_matrix:new n.UniformMatrix4f(_),u_world:new n.Uniform2f(_),u_image:new n.Uniform1i(_),u_texsize:new n.Uniform2f(_),u_pixel_coord_upper:new n.Uniform2f(_),u_pixel_coord_lower:new n.Uniform2f(_),u_tile_units_to_pixels:new n.Uniform1f(_)}),circle:_=>({u_camera_to_center_distance:new n.Uniform1f(_),u_extrude_scale:new n.UniformMatrix2f(_),u_device_pixel_ratio:new n.Uniform1f(_),u_matrix:new n.UniformMatrix4f(_),u_inv_rot_matrix:new n.UniformMatrix4f(_),u_merc_center:new n.Uniform2f(_),u_tile_id:new n.Uniform3f(_),u_zoom_transition:new n.Uniform1f(_),u_up_dir:new n.Uniform3f(_)}),collisionBox:_=>({u_matrix:new n.UniformMatrix4f(_),u_camera_to_center_distance:new n.Uniform1f(_),u_extrude_scale:new n.Uniform2f(_)}),collisionCircle:_=>({u_matrix:new n.UniformMatrix4f(_),u_inv_matrix:new n.UniformMatrix4f(_),u_camera_to_center_distance:new n.Uniform1f(_),u_viewport_size:new n.Uniform2f(_)}),debug:_=>({u_color:new n.UniformColor(_),u_matrix:new n.UniformMatrix4f(_),u_overlay:new n.Uniform1i(_),u_overlay_scale:new n.Uniform1f(_)}),clippingMask:_=>({u_matrix:new n.UniformMatrix4f(_)}),heatmap:_=>({u_extrude_scale:new n.Uniform1f(_),u_intensity:new n.Uniform1f(_),u_matrix:new n.UniformMatrix4f(_),u_inv_rot_matrix:new n.UniformMatrix4f(_),u_merc_center:new n.Uniform2f(_),u_tile_id:new n.Uniform3f(_),u_zoom_transition:new n.Uniform1f(_),u_up_dir:new n.Uniform3f(_)}),heatmapTexture:_=>({u_image:new n.Uniform1i(_),u_color_ramp:new n.Uniform1i(_),u_opacity:new n.Uniform1f(_)}),hillshade:_=>({u_matrix:new n.UniformMatrix4f(_),u_image:new n.Uniform1i(_),u_latrange:new n.Uniform2f(_),u_light:new n.Uniform2f(_),u_shadow:new n.UniformColor(_),u_highlight:new n.UniformColor(_),u_accent:new n.UniformColor(_)}),hillshadePrepare:_=>({u_matrix:new n.UniformMatrix4f(_),u_image:new n.Uniform1i(_),u_dimension:new n.Uniform2f(_),u_zoom:new n.Uniform1f(_),u_unpack:new n.Uniform4f(_)}),line:_=>({u_matrix:new n.UniformMatrix4f(_),u_pixels_to_tile_units:new n.UniformMatrix2f(_),u_device_pixel_ratio:new n.Uniform1f(_),u_units_to_pixels:new n.Uniform2f(_),u_dash_image:new n.Uniform1i(_),u_gradient_image:new n.Uniform1i(_),u_image_height:new n.Uniform1f(_),u_texsize:new n.Uniform2f(_),u_tile_units_to_pixels:new n.Uniform1f(_),u_alpha_discard_threshold:new n.Uniform1f(_),u_trim_offset:new n.Uniform2f(_)}),linePattern:_=>({u_matrix:new n.UniformMatrix4f(_),u_texsize:new n.Uniform2f(_),u_pixels_to_tile_units:new n.UniformMatrix2f(_),u_device_pixel_ratio:new n.Uniform1f(_),u_image:new n.Uniform1i(_),u_units_to_pixels:new n.Uniform2f(_),u_tile_units_to_pixels:new n.Uniform1f(_),u_alpha_discard_threshold:new n.Uniform1f(_)}),raster:_=>({u_matrix:new n.UniformMatrix4f(_),u_tl_parent:new n.Uniform2f(_),u_scale_parent:new n.Uniform1f(_),u_fade_t:new n.Uniform1f(_),u_opacity:new n.Uniform1f(_),u_image0:new n.Uniform1i(_),u_image1:new n.Uniform1i(_),u_brightness_low:new n.Uniform1f(_),u_brightness_high:new n.Uniform1f(_),u_saturation_factor:new n.Uniform1f(_),u_contrast_factor:new n.Uniform1f(_),u_spin_weights:new n.Uniform3f(_),u_perspective_transform:new n.Uniform2f(_)}),symbolIcon:_=>({u_is_size_zoom_constant:new n.Uniform1i(_),u_is_size_feature_constant:new n.Uniform1i(_),u_size_t:new n.Uniform1f(_),u_size:new n.Uniform1f(_),u_camera_to_center_distance:new n.Uniform1f(_),u_rotate_symbol:new n.Uniform1i(_),u_aspect_ratio:new n.Uniform1f(_),u_fade_change:new n.Uniform1f(_),u_matrix:new n.UniformMatrix4f(_),u_label_plane_matrix:new n.UniformMatrix4f(_),u_coord_matrix:new n.UniformMatrix4f(_),u_is_text:new n.Uniform1i(_),u_pitch_with_map:new n.Uniform1i(_),u_texsize:new n.Uniform2f(_),u_tile_id:new n.Uniform3f(_),u_zoom_transition:new n.Uniform1f(_),u_inv_rot_matrix:new n.UniformMatrix4f(_),u_merc_center:new n.Uniform2f(_),u_camera_forward:new n.Uniform3f(_),u_tile_matrix:new n.UniformMatrix4f(_),u_up_vector:new n.Uniform3f(_),u_ecef_origin:new n.Uniform3f(_),u_texture:new n.Uniform1i(_)}),symbolSDF:_=>({u_is_size_zoom_constant:new n.Uniform1i(_),u_is_size_feature_constant:new n.Uniform1i(_),u_size_t:new n.Uniform1f(_),u_size:new n.Uniform1f(_),u_camera_to_center_distance:new n.Uniform1f(_),u_rotate_symbol:new n.Uniform1i(_),u_aspect_ratio:new n.Uniform1f(_),u_fade_change:new n.Uniform1f(_),u_matrix:new n.UniformMatrix4f(_),u_label_plane_matrix:new n.UniformMatrix4f(_),u_coord_matrix:new n.UniformMatrix4f(_),u_is_text:new n.Uniform1i(_),u_pitch_with_map:new n.Uniform1i(_),u_texsize:new n.Uniform2f(_),u_texture:new n.Uniform1i(_),u_gamma_scale:new n.Uniform1f(_),u_device_pixel_ratio:new n.Uniform1f(_),u_tile_id:new n.Uniform3f(_),u_zoom_transition:new n.Uniform1f(_),u_inv_rot_matrix:new n.UniformMatrix4f(_),u_merc_center:new n.Uniform2f(_),u_camera_forward:new n.Uniform3f(_),u_tile_matrix:new n.UniformMatrix4f(_),u_up_vector:new n.Uniform3f(_),u_ecef_origin:new n.Uniform3f(_),u_is_halo:new n.Uniform1i(_)}),symbolTextAndIcon:_=>({u_is_size_zoom_constant:new n.Uniform1i(_),u_is_size_feature_constant:new n.Uniform1i(_),u_size_t:new n.Uniform1f(_),u_size:new n.Uniform1f(_),u_camera_to_center_distance:new n.Uniform1f(_),u_rotate_symbol:new n.Uniform1i(_),u_aspect_ratio:new n.Uniform1f(_),u_fade_change:new n.Uniform1f(_),u_matrix:new n.UniformMatrix4f(_),u_label_plane_matrix:new n.UniformMatrix4f(_),u_coord_matrix:new n.UniformMatrix4f(_),u_is_text:new n.Uniform1i(_),u_pitch_with_map:new n.Uniform1i(_),u_texsize:new n.Uniform2f(_),u_texsize_icon:new n.Uniform2f(_),u_texture:new n.Uniform1i(_),u_texture_icon:new n.Uniform1i(_),u_gamma_scale:new n.Uniform1f(_),u_device_pixel_ratio:new n.Uniform1f(_),u_is_halo:new n.Uniform1i(_)}),background:_=>({u_matrix:new n.UniformMatrix4f(_),u_opacity:new n.Uniform1f(_),u_color:new n.UniformColor(_)}),backgroundPattern:_=>({u_matrix:new n.UniformMatrix4f(_),u_opacity:new n.Uniform1f(_),u_image:new n.Uniform1i(_),u_pattern_tl:new n.Uniform2f(_),u_pattern_br:new n.Uniform2f(_),u_texsize:new n.Uniform2f(_),u_pattern_size:new n.Uniform2f(_),u_pixel_coord_upper:new n.Uniform2f(_),u_pixel_coord_lower:new n.Uniform2f(_),u_tile_units_to_pixels:new n.Uniform1f(_)}),terrainRaster:Xn,terrainDepth:Xn,skybox:_=>({u_matrix:new n.UniformMatrix4f(_),u_sun_direction:new n.Uniform3f(_),u_cubemap:new n.Uniform1i(_),u_opacity:new n.Uniform1f(_),u_temporal_offset:new n.Uniform1f(_)}),skyboxGradient:_=>({u_matrix:new n.UniformMatrix4f(_),u_color_ramp:new n.Uniform1i(_),u_center_direction:new n.Uniform3f(_),u_radius:new n.Uniform1f(_),u_opacity:new n.Uniform1f(_),u_temporal_offset:new n.Uniform1f(_)}),skyboxCapture:_=>({u_matrix_3f:new n.UniformMatrix3f(_),u_sun_direction:new n.Uniform3f(_),u_sun_intensity:new n.Uniform1f(_),u_color_tint_r:new n.Uniform4f(_),u_color_tint_m:new n.Uniform4f(_),u_luminance:new n.Uniform1f(_)}),globeRaster:_=>({u_proj_matrix:new n.UniformMatrix4f(_),u_globe_matrix:new n.UniformMatrix4f(_),u_normalize_matrix:new n.UniformMatrix4f(_),u_merc_matrix:new n.UniformMatrix4f(_),u_zoom_transition:new n.Uniform1f(_),u_merc_center:new n.Uniform2f(_),u_image0:new n.Uniform1i(_),u_grid_matrix:new n.UniformMatrix3f(_),u_frustum_tl:new n.Uniform3f(_),u_frustum_tr:new n.Uniform3f(_),u_frustum_br:new n.Uniform3f(_),u_frustum_bl:new n.Uniform3f(_),u_globe_pos:new n.Uniform3f(_),u_globe_radius:new n.Uniform1f(_),u_viewport:new n.Uniform2f(_)}),globeAtmosphere:_=>({u_frustum_tl:new n.Uniform3f(_),u_frustum_tr:new n.Uniform3f(_),u_frustum_br:new n.Uniform3f(_),u_frustum_bl:new n.Uniform3f(_),u_horizon:new n.Uniform1f(_),u_transition:new n.Uniform1f(_),u_fadeout_range:new n.Uniform1f(_),u_color:new n.Uniform4f(_),u_high_color:new n.Uniform4f(_),u_space_color:new n.Uniform4f(_),u_star_intensity:new n.Uniform1f(_),u_star_density:new n.Uniform1f(_),u_star_size:new n.Uniform1f(_),u_temporal_offset:new n.Uniform1f(_),u_horizon_angle:new n.Uniform1f(_),u_rotation_matrix:new n.UniformMatrix4f(_)})};let Vr;function So(_,a,u,x,D,z,ne){const he=_.context,pe=he.gl,ke=_.transform,Me=_.useProgram("collisionBox"),Ne=[];let qe=0,st=0;for(let vt=0;vt<x.length;vt++){const Mt=x[vt],bt=a.getTile(Mt),Ot=bt.getBucket(u);if(!Ot)continue;const Zt=Io(Mt,Ot,ke);let qt=Zt;D[0]===0&&D[1]===0||(qt=_.translatePosMatrix(Zt,bt,D,z));const Nt=ne?Ot.textCollisionBox:Ot.iconCollisionBox,xi=Ot.collisionCircleArray;if(xi.length>0){const Ht=n.create(),ci=qt;n.mul(Ht,Ot.placementInvProjMatrix,ke.glCoordMatrix),n.mul(Ht,Ht,Ot.placementViewportMatrix),Ne.push({circleArray:xi,circleOffset:st,transform:ci,invTransform:Ht,projection:Ot.getProjection()}),qe+=xi.length/4,st=qe}Nt&&(_.terrain&&_.terrain.setupElevationDraw(bt,Me),Me.draw(he,pe.LINES,n.DepthMode.disabled,n.StencilMode.disabled,_.colorModeForRenderPass(),n.CullFaceMode.disabled,fl(qt,ke,bt,Ot.getProjection()),u.id,Nt.layoutVertexBuffer,Nt.indexBuffer,Nt.segments,null,ke.zoom,null,[Nt.collisionVertexBuffer,Nt.collisionVertexBufferExt]))}if(!ne||!Ne.length)return;const rt=_.useProgram("collisionCircle"),ht=new n.StructArrayLayout2f1f2i16;ht.resize(4*qe),ht._trim();let Ze=0;for(const vt of Ne)for(let Mt=0;Mt<vt.circleArray.length/4;Mt++){const bt=4*Mt,Ot=vt.circleArray[bt+0],Zt=vt.circleArray[bt+1],qt=vt.circleArray[bt+2],Nt=vt.circleArray[bt+3];ht.emplace(Ze++,Ot,Zt,qt,Nt,0),ht.emplace(Ze++,Ot,Zt,qt,Nt,1),ht.emplace(Ze++,Ot,Zt,qt,Nt,2),ht.emplace(Ze++,Ot,Zt,qt,Nt,3)}(!Vr||Vr.length<2*qe)&&(Vr=function(vt){const Mt=2*vt,bt=new n.StructArrayLayout3ui6;bt.resize(Mt),bt._trim();for(let Ot=0;Ot<Mt;Ot++){const Zt=6*Ot;bt.uint16[Zt+0]=4*Ot+0,bt.uint16[Zt+1]=4*Ot+1,bt.uint16[Zt+2]=4*Ot+2,bt.uint16[Zt+3]=4*Ot+2,bt.uint16[Zt+4]=4*Ot+3,bt.uint16[Zt+5]=4*Ot+0}return bt}(qe));const Qe=he.createIndexBuffer(Vr,!0),ut=he.createVertexBuffer(ht,n.collisionCircleLayout.members,!0);for(const vt of Ne){const Mt={u_matrix:vt.transform,u_inv_matrix:vt.invTransform,u_camera_to_center_distance:(ot=ke).getCameraToCenterDistance(vt.projection),u_viewport_size:[ot.width,ot.height]};rt.draw(he,pe.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,_.colorModeForRenderPass(),n.CullFaceMode.disabled,Mt,u.id,ut,Qe,n.SegmentVector.simpleSegment(0,2*vt.circleOffset,vt.circleArray.length,vt.circleArray.length/2),null,ke.zoom)}var ot;ut.destroy(),Qe.destroy()}const ja=n.create();function Gh({width:_,height:a,anchor:u,textOffset:x,textScale:D},z){const{horizontalAlign:ne,verticalAlign:he}=n.getAnchorAlignment(u),pe=-(ne-.5)*_,ke=-(he-.5)*a,Me=n.evaluateVariableOffset(u,x);return new n.pointGeometry((pe/D+Me[0])*z,(ke/D+Me[1])*z)}function Vh(_,a,u,x,D,z,ne,he,pe,ke,Me){const Ne=_.text.placedSymbolArray,qe=_.text.dynamicLayoutVertexArray,st=_.icon.dynamicLayoutVertexArray,rt={},ht=_.getProjection(),Ze=Ra(he,ht,z),Qe=z.elevation,ut=ht.upVectorScale(he.canonical,z.center.lat,z.worldSize).metersToTile;qe.clear();for(let ot=0;ot<Ne.length;ot++){const vt=Ne.get(ot),{tileAnchorX:Mt,tileAnchorY:bt,numGlyphs:Ot}=vt,Zt=_.allowVerticalPlacement&&!vt.placedOrientation,qt=vt.hidden||!vt.crossTileID||Zt?null:x[vt.crossTileID];if(qt){let Nt=0,xi=0,Ht=0;if(Qe){const sn=Qe?Qe.getAtTileOffset(he,Mt,bt):0,[un,rn,Cn]=ht.upVector(he.canonical,Mt,bt);Nt=sn*un*ut,xi=sn*rn*ut,Ht=sn*Cn*ut}let[ci,Jt,Ai,ei]=Or(vt.projectedAnchorX+Nt,vt.projectedAnchorY+xi,vt.projectedAnchorZ+Ht,u?Ze:ne);const gi=ji(z.getCameraToCenterDistance(ht),ei);let Di=D.evaluateSizeForFeature(_.textSizeData,ke,vt)*gi/n.ONE_EM;u&&(Di*=_.tilePixelRatio/pe);const jt=Gh(qt,Di);u?({x:ci,y:Jt,z:Ai}=ht.projectTilePoint(Mt+jt.x,bt+jt.y,he.canonical),[ci,Jt,Ai]=Or(ci+Nt,Jt+xi,Ai+Ht,ne)):(a&&jt._rotate(-z.angle),ci+=jt.x,Jt+=jt.y,Ai=0);const Kt=_.allowVerticalPlacement&&vt.placedOrientation===n.WritingMode.vertical?Math.PI/2:0;for(let sn=0;sn<Ot;sn++)n.addDynamicAttributes(qe,ci,Jt,Ai,Kt);Me&&vt.associatedIconIndex>=0&&(rt[vt.associatedIconIndex]={x:ci,y:Jt,z:Ai,angle:Kt})}else Er(Ot,qe)}if(Me){st.clear();const ot=_.icon.placedSymbolArray;for(let vt=0;vt<ot.length;vt++){const Mt=ot.get(vt),{numGlyphs:bt}=Mt,Ot=rt[vt];if(Mt.hidden||!Ot)Er(bt,st);else{const{x:Zt,y:qt,z:Nt,angle:xi}=Ot;for(let Ht=0;Ht<bt;Ht++)n.addDynamicAttributes(st,Zt,qt,Nt,xi)}}_.icon.dynamicLayoutVertexBuffer.updateData(st)}_.text.dynamicLayoutVertexBuffer.updateData(qe)}function Hh(_,a,u){return u.iconsInText&&a?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function po(_,a,u,x,D,z,ne,he,pe,ke,Me,Ne){const qe=_.context,st=qe.gl,rt=_.transform,ht=he==="map",Ze=pe==="map",Qe=ht&&u.layout.get("symbol-placement")!=="point",ut=ht&&!Ze&&!Qe,ot=u.layout.get("symbol-sort-key").constantOr(1)!==void 0;let vt=!1;const Mt=_.depthModeForSublayer(0,n.DepthMode.ReadOnly),bt=[n.mercatorXfromLng(rt.center.lng),n.mercatorYfromLat(rt.center.lat)],Ot=u.layout.get("text-variable-anchor"),Zt=rt.projection.name==="globe",qt=[],Nt=[0,-1,0];let xi=Nt;!Zt&&!rt.mercatorFromTransition||ht||(xi=function(Ht){const ci=Ht._camera.getWorldToCamera(Ht.worldSize,1),Jt=n.multiply([],ci,Ht.globeMatrix);n.invert(Jt,Jt);const Ai=[0,0,0],ei=[0,1,0,0];return n.transformMat4$1(ei,ei,Jt),Ai[0]=ei[0],Ai[1]=ei[1],Ai[2]=ei[2],n.normalize(Ai,Ai),Ai}(rt));for(const Ht of x){const ci=a.getTile(Ht),Jt=ci.getBucket(u);if(!Jt||Jt.projection.name==="mercator"&&Zt)continue;const Ai=D?Jt.text:Jt.icon;if(!Ai||Jt.fullyClipped||!Ai.segments.get().length)continue;const ei=Ai.programConfigurations.get(u.id),gi=D||Jt.sdfIcons,Di=D?Jt.textSizeData:Jt.iconSizeData,jt=Ze||rt.pitch!==0,Kt=n.evaluateSizeForZoom(Di,rt.zoom);let sn,un,rn,Cn,Hn=[0,0],mn=null;if(D){if(un=ci.glyphAtlasTexture,rn=st.LINEAR,sn=ci.glyphAtlasTexture.size,Jt.iconsInText){Hn=ci.imageAtlasTexture.size,mn=ci.imageAtlasTexture;const da=Di.kind==="composite"||Di.kind==="camera";Cn=jt||_.options.rotating||_.options.zooming||da?st.LINEAR:st.NEAREST}}else{const da=u.layout.get("icon-size").constantOr(0)!==1||Jt.iconsNeedLinear;un=ci.imageAtlasTexture,rn=gi||_.options.rotating||_.options.zooming||da||jt?st.LINEAR:st.NEAREST,sn=ci.imageAtlasTexture.size}const Zi=Jt.projection.name==="globe",zs=Zi?xi:Nt,Es=Zi?n.globeToMercatorTransition(rt.zoom):0,Fs=Ra(Ht,Jt.getProjection(),rt),Ls=rt.calculatePixelsToTileUnitsMatrix(ci),ha=Kr(Fs,ci.tileID.canonical,Ze,ht,rt,Jt.getProjection(),Ls),qo=_.terrain&&Ze&&Qe?n.invert(n.create(),ha):ja,zo=uh(Fs,ci.tileID.canonical,Ze,ht,rt,Jt.getProjection(),Ls),xl=Ot&&Jt.hasTextData(),Ys=u.layout.get("icon-text-fit")!=="none"&&xl&&Jt.hasIconData();if(Qe){const da=rt.elevation,Fl=da?da.getAtTileOffsetFunc(Ht,rt.center.lat,rt.worldSize,Jt.getProjection()):null,Va=nc(Fs,ci.tileID.canonical,Ze,ht,rt,Jt.getProjection(),Ls);Wn(Jt,Fs,_,D,Va,zo,Ze,ke,Fl,Ht)}const Os=Qe||D&&Ot||Ys,ws=_.translatePosMatrix(Fs,ci,z,ne),Dr=Os?ja:ha,To=_.translatePosMatrix(zo,ci,z,ne,!0),Xs=Jt.getProjection().createInversionMatrix(rt,Ht.canonical),No=[];_.terrainRenderModeElevated()&&Ze&&No.push("PITCH_WITH_MAP_TERRAIN"),Zi&&No.push("PROJECTION_GLOBE_VIEW"),Os&&No.push("PROJECTED_POS_ON_VIEWPORT");const Ad=gi&&u.paint.get(D?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let bl;bl=gi?Jt.iconsInText?Ol(Di.kind,Kt,ut,Ze,_,ws,Dr,To,sn,Hn,Ht,Es,bt,Xs,zs,Jt.getProjection()):yl(Di.kind,Kt,ut,Ze,_,ws,Dr,To,D,sn,!0,Ht,Es,bt,Xs,zs,Jt.getProjection()):Fa(Di.kind,Kt,ut,Ze,_,ws,Dr,To,D,sn,Ht,Es,bt,Xs,zs,Jt.getProjection());const Eo={program:_.useProgram(Hh(gi,D,Jt),ei,No),buffers:Ai,uniformValues:bl,atlasTexture:un,atlasTextureIcon:mn,atlasInterpolation:rn,atlasInterpolationIcon:Cn,isSDF:gi,hasHalo:Ad,tile:ci,labelPlaneMatrixInv:qo};if(ot&&Jt.canOverlap){vt=!0;const da=Ai.segments.get();for(const Fl of da)qt.push({segments:new n.SegmentVector([Fl]),sortKey:Fl.sortKey,state:Eo})}else qt.push({segments:Ai.segments,sortKey:0,state:Eo})}vt&&qt.sort((Ht,ci)=>Ht.sortKey-ci.sortKey);for(const Ht of qt){const ci=Ht.state;if(_.terrain&&_.terrain.setupElevationDraw(ci.tile,ci.program,{useDepthForOcclusion:!Zt,labelPlaneMatrixInv:ci.labelPlaneMatrixInv}),qe.activeTexture.set(st.TEXTURE0),ci.atlasTexture.bind(ci.atlasInterpolation,st.CLAMP_TO_EDGE),ci.atlasTextureIcon&&(qe.activeTexture.set(st.TEXTURE1),ci.atlasTextureIcon&&ci.atlasTextureIcon.bind(ci.atlasInterpolationIcon,st.CLAMP_TO_EDGE)),ci.isSDF){const Jt=ci.uniformValues;ci.hasHalo&&(Jt.u_is_halo=1,Bt(ci.buffers,Ht.segments,u,_,ci.program,Mt,Me,Ne,Jt)),Jt.u_is_halo=0}Bt(ci.buffers,Ht.segments,u,_,ci.program,Mt,Me,Ne,ci.uniformValues)}}function Bt(_,a,u,x,D,z,ne,he,pe){const ke=x.context,Me=[_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer,_.globeExtVertexBuffer];D.draw(ke,ke.gl.TRIANGLES,z,ne,he,n.CullFaceMode.disabled,pe,u.id,_.layoutVertexBuffer,_.indexBuffer,a,u.paint,x.transform.zoom,_.programConfigurations.get(u.id),Me)}function pi(_,a,u,x,D,z,ne){const he=_.context.gl,pe=u.paint.get("fill-pattern"),ke=pe&&pe.constantOr(1);let Me,Ne,qe,st,rt;ne?(Ne=ke&&!u.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Me=he.LINES):(Ne=ke?"fillPattern":"fill",Me=he.TRIANGLES);for(const ht of x){const Ze=a.getTile(ht);if(ke&&!Ze.patternsLoaded())continue;const Qe=Ze.getBucket(u);if(!Qe)continue;_.prepareDrawTile();const ut=Qe.programConfigurations.get(u.id),ot=_.useProgram(Ne,ut);ke&&(_.context.activeTexture.set(he.TEXTURE0),Ze.imageAtlasTexture.bind(he.LINEAR,he.CLAMP_TO_EDGE),ut.updatePaintBuffers());const vt=pe.constantOr(null);if(vt&&Ze.imageAtlas){const bt=Ze.imageAtlas.patternPositions[vt.toString()];bt&&ut.setConstantPatternPositions(bt)}const Mt=_.translatePosMatrix(ht.projMatrix,Ze,u.paint.get("fill-translate"),u.paint.get("fill-translate-anchor"));if(ne){st=Qe.indexBuffer2,rt=Qe.segments2;const bt=_.terrain&&_.terrain.renderingToTexture?_.terrain.drapeBufferSize:[he.drawingBufferWidth,he.drawingBufferHeight];qe=Ne==="fillOutlinePattern"&&ke?oo(Mt,_,Ze,bt):ul(Mt,bt)}else st=Qe.indexBuffer,rt=Qe.segments,qe=ke?ac(Mt,_,Ze):Bo(Mt);_.prepareDrawProgram(_.context,ot,ht.toUnwrapped()),ot.draw(_.context,Me,D,_.stencilModeForClipping(ht),z,n.CullFaceMode.disabled,qe,u.id,Qe.layoutVertexBuffer,st,rt,u.paint,_.transform.zoom,ut)}}function oi(_,a,u,x,D,z,ne){const he=_.context,pe=he.gl,ke=_.transform,Me=u.paint.get("fill-extrusion-pattern"),Ne=Me.constantOr(1),qe=u.paint.get("fill-extrusion-opacity"),st=[u.paint.get("fill-extrusion-ambient-occlusion-intensity"),u.paint.get("fill-extrusion-ambient-occlusion-radius")],rt=u.layout.get("fill-extrusion-edge-radius"),ht=ke.projection.name==="globe"?n.fillExtrusionHeightLift():0,Ze=ke.projection.name==="globe",Qe=Ze?n.globeToMercatorTransition(ke.zoom):0,ut=[n.mercatorXfromLng(ke.center.lng),n.mercatorYfromLat(ke.center.lat)],ot=[];Ze&&(ot.push("PROJECTION_GLOBE_VIEW"),_.style.terrainSetForDrapingOnly()&&ot.push("TERRAIN")),st[0]>0&&ot.push("FAUX_AO");for(const vt of x){const Mt=a.getTile(vt),bt=Mt.getBucket(u);if(!bt||bt.projection.name!==ke.projection.name)continue;const Ot=bt.programConfigurations.get(u.id),Zt=_.useProgram(Ne?"fillExtrusionPattern":"fillExtrusion",Ot,ot);if(_.terrain){const Ai=_.terrain;if(_.style.terrainSetForDrapingOnly())Ai.setupElevationDraw(Mt,Zt,{useMeterToDem:!0});else{if(!bt.enableTerrain)continue;if(Ai.setupElevationDraw(Mt,Zt,{useMeterToDem:!0}),nn(he,a,vt,bt,u,Ai),!bt.centroidVertexBuffer){const ei=Zt.attributes.a_centroid_pos;ei!==void 0&&pe.vertexAttrib2f(ei,0,0)}}}Ne&&(_.context.activeTexture.set(pe.TEXTURE0),Mt.imageAtlasTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),Ot.updatePaintBuffers());const qt=Me.constantOr(null);if(qt&&Mt.imageAtlas){const Ai=Mt.imageAtlas.patternPositions[qt.toString()];Ai&&Ot.setConstantPatternPositions(Ai)}const Nt=_.translatePosMatrix(vt.projMatrix,Mt,u.paint.get("fill-extrusion-translate"),u.paint.get("fill-extrusion-translate-anchor")),xi=ke.projection.createInversionMatrix(ke,vt.canonical),Ht=u.paint.get("fill-extrusion-vertical-gradient"),ci=Ne?xs(Nt,_,Ht,qe,st,rt,vt,Mt,ht,Qe,ut,xi):zc(Nt,_,Ht,qe,st,rt,vt,ht,Qe,ut,xi);_.prepareDrawProgram(he,Zt,vt.toUnwrapped());const Jt=[];_.terrain&&Jt.push(bt.centroidVertexBuffer),Ze&&Jt.push(bt.layoutVertexExtBuffer),Zt.draw(he,he.gl.TRIANGLES,D,z,ne,n.CullFaceMode.backCCW,ci,u.id,bt.layoutVertexBuffer,bt.indexBuffer,bt.segments,u.paint,_.transform.zoom,Ot,Jt)}}function nn(_,a,u,x,D,z){const ne=[Qe=>{let ut=Qe.canonical.x-1,ot=Qe.wrap;return ut<0&&(ut=(1<<Qe.canonical.z)-1,ot--),new n.OverscaledTileID(Qe.overscaledZ,ot,Qe.canonical.z,ut,Qe.canonical.y)},Qe=>{let ut=Qe.canonical.x+1,ot=Qe.wrap;return ut===1<<Qe.canonical.z&&(ut=0,ot++),new n.OverscaledTileID(Qe.overscaledZ,ot,Qe.canonical.z,ut,Qe.canonical.y)},Qe=>new n.OverscaledTileID(Qe.overscaledZ,Qe.wrap,Qe.canonical.z,Qe.canonical.x,(Qe.canonical.y===0?1<<Qe.canonical.z:Qe.canonical.y)-1),Qe=>new n.OverscaledTileID(Qe.overscaledZ,Qe.wrap,Qe.canonical.z,Qe.canonical.x,Qe.canonical.y===(1<<Qe.canonical.z)-1?0:Qe.canonical.y+1)],he=Qe=>{const ut=a.getSource().minzoom,ot=Mt=>{const bt=a.getTileByID(Mt);if(bt&&bt.hasData())return bt.getBucket(D)},vt=[0,-1,1];for(const Mt of vt){if(Qe.overscaledZ+Mt<ut)continue;const bt=ot(Qe.calculateScaledKey(Qe.overscaledZ+Mt));if(bt)return bt}},pe=[0,0,0],ke=(Qe,ut)=>(pe[0]=Math.min(Qe.min.y,ut.min.y),pe[1]=Math.max(Qe.max.y,ut.max.y),pe[2]=n.EXTENT-ut.min.x>Qe.max.x?ut.min.x-n.EXTENT:Qe.max.x,pe),Me=(Qe,ut)=>(pe[0]=Math.min(Qe.min.x,ut.min.x),pe[1]=Math.max(Qe.max.x,ut.max.x),pe[2]=n.EXTENT-ut.min.y>Qe.max.y?ut.min.y-n.EXTENT:Qe.max.y,pe),Ne=[(Qe,ut)=>ke(Qe,ut),(Qe,ut)=>ke(ut,Qe),(Qe,ut)=>Me(Qe,ut),(Qe,ut)=>Me(ut,Qe)],qe=new n.pointGeometry(0,0);let st,rt,ht;const Ze=(Qe,ut,ot,vt,Mt)=>{const bt=[[vt?ot:Qe,vt?Qe:ot,0],[vt?ot:ut,vt?ut:ot,0]],Ot=Mt<0?n.EXTENT+Mt:Mt,Zt=[vt?Ot:(Qe+ut)/2,vt?(Qe+ut)/2:Ot,0];return ot===0&&Mt<0||ot!==0&&Mt>0?z.getForTilePoints(ht,[Zt],!0,rt):bt.push(Zt),z.getForTilePoints(u,bt,!0,st),Math.max(bt[0][2],bt[1][2],Zt[2])/z.exaggeration()};for(let Qe=0;Qe<4;Qe++){const ut=(Qe<2?1:5)-Qe,ot=x.borders[Qe];if(ot.length===0)continue;const vt=ht=ne[Qe](u),Mt=he(vt);if(!(Mt&&Mt instanceof n.FillExtrusionBucket&&Mt.enableTerrain)||x.borderDoneWithNeighborZ[Qe]===Mt.canonical.z&&Mt.borderDoneWithNeighborZ[ut]===x.canonical.z||(rt=z.findDEMTileFor(vt),!rt||!rt.dem))continue;if(!st){const qt=z.findDEMTileFor(u);if(!qt||!qt.dem)return;st=qt}const bt=Mt.borders[ut];let Ot=0;const Zt=Mt.borderDoneWithNeighborZ[ut]!==x.canonical.z;if(x.canonical.z===Mt.canonical.z){for(let qt=0;qt<ot.length;qt++){const Nt=x.featuresOnBorder[ot[qt]],xi=Nt.borders[Qe];let Ht;for(;Ot<bt.length&&(Ht=Mt.featuresOnBorder[bt[Ot]],!(Ht.borders[ut][1]>xi[0]+3));)Zt&&Mt.encodeCentroid(void 0,Ht,!1),Ot++;if(Ht&&Ot<bt.length){const ci=Ot;let Jt=0;for(;!(Ht.borders[ut][0]>xi[1]-3)&&(Jt++,++Ot!==bt.length);)Ht=Mt.featuresOnBorder[bt[Ot]];if(Ht=Mt.featuresOnBorder[bt[ci]],Nt.intersectsCount()>1||Ht.intersectsCount()>1||Jt!==1){Jt!==1&&(Ot=ci),x.encodeCentroid(void 0,Nt,!1),Zt&&Mt.encodeCentroid(void 0,Ht,!1);continue}const Ai=Ne[Qe](Nt,Ht),ei=Qe%2?n.EXTENT-1:0;qe.x=Ze(Ai[0],Math.min(n.EXTENT-1,Ai[1]),ei,Qe<2,Ai[2]),qe.y=0,x.encodeCentroid(qe,Nt,!1),Zt&&Mt.encodeCentroid(qe,Ht,!1)}else x.encodeCentroid(void 0,Nt,!1)}x.borderDoneWithNeighborZ[Qe]=Mt.canonical.z,x.needsCentroidUpdate=!0,Zt&&(Mt.borderDoneWithNeighborZ[ut]=x.canonical.z,Mt.needsCentroidUpdate=!0)}else{for(const qt of ot)x.encodeCentroid(void 0,x.featuresOnBorder[qt],!1);if(Zt){for(const qt of bt)Mt.encodeCentroid(void 0,Mt.featuresOnBorder[qt],!1);Mt.borderDoneWithNeighborZ[ut]=x.canonical.z,Mt.needsCentroidUpdate=!0}x.borderDoneWithNeighborZ[Qe]=Mt.canonical.z,x.needsCentroidUpdate=!0}}(x.needsCentroidUpdate||!x.centroidVertexBuffer&&x.centroidVertexArray.length!==0)&&x.uploadCentroid(_)}const Rn=new n.Color(1,0,0,1),gs=new n.Color(0,1,0,1),pr=new n.Color(0,0,1,1),bs=new n.Color(1,0,1,1),Rl=new n.Color(0,1,1,1);function Fc(_,a,u){const x=_.context,D=_.transform,z=x.gl,ne=D.projection.name==="globe",he=ne?["PROJECTION_GLOBE_VIEW"]:null;let pe=u.projMatrix;if(ne&&n.globeToMercatorTransition(D.zoom)>0){const Nt=n.transitionTileAABBinECEF(u.canonical,D),xi=n.globeDenormalizeECEF(Nt);pe=n.multiply(new Float32Array(16),D.globeMatrix,xi),n.multiply(pe,D.projMatrix,pe)}const ke=_.useProgram("debug",null,he),Me=a.getTileByID(u.key);_.terrain&&_.terrain.setupElevationDraw(Me,ke);const Ne=n.DepthMode.disabled,qe=n.StencilMode.disabled,st=_.colorModeForRenderPass(),rt="$debug";x.activeTexture.set(z.TEXTURE0),_.emptyTexture.bind(z.LINEAR,z.CLAMP_TO_EDGE),ne?Me._makeGlobeTileDebugBuffers(_.context,D):Me._makeDebugTileBoundsBuffers(_.context,D.projection);const ht=Me._tileDebugBuffer||_.debugBuffer,Ze=Me._tileDebugIndexBuffer||_.debugIndexBuffer,Qe=Me._tileDebugSegments||_.debugSegments;ke.draw(x,z.LINE_STRIP,Ne,qe,st,n.CullFaceMode.disabled,ml(pe,n.Color.red),rt,ht,Ze,Qe,null,null,null,[Me._globeTileDebugBorderBuffer]);const ut=Me.latestRawTileData,ot=Math.floor((ut&&ut.byteLength||0)/1024),vt=a.getTile(u).tileSize,Mt=512/Math.min(vt,512)*(u.overscaledZ/D.zoom)*.5;let bt=u.canonical.toString();u.overscaledZ!==u.canonical.z&&(bt+=` => ${u.overscaledZ}`),bt+=` ${ot}kb`,function(Nt,xi){Nt.initDebugOverlayCanvas();const Ht=Nt.debugOverlayCanvas,ci=Nt.context.gl,Jt=Nt.debugOverlayCanvas.getContext("2d");Jt.clearRect(0,0,Ht.width,Ht.height),Jt.shadowColor="white",Jt.shadowBlur=2,Jt.lineWidth=1.5,Jt.strokeStyle="white",Jt.textBaseline="top",Jt.font="bold 36px Open Sans, sans-serif",Jt.fillText(xi,5,5),Jt.strokeText(xi,5,5),Nt.debugOverlayTexture.update(Ht),Nt.debugOverlayTexture.bind(ci.LINEAR,ci.CLAMP_TO_EDGE)}(_,bt);const Ot=Me._tileDebugTextBuffer||_.debugBuffer,Zt=Me._tileDebugTextIndexBuffer||_.quadTriangleIndexBuffer,qt=Me._tileDebugTextSegments||_.debugSegments;ke.draw(x,z.TRIANGLES,Ne,qe,n.ColorMode.alphaBlended,n.CullFaceMode.disabled,ml(pe,n.Color.transparent,Mt),rt,Ot,Zt,qt,null,null,null,[Me._globeTileDebugTextBuffer])}function fo(_,a,u,x){Tt(_,0,a+u/2,_.transform.width,u,x)}function tt(_,a,u,x){Tt(_,a-u/2,0,u,_.transform.height,x)}function Tt(_,a,u,x,D,z){const ne=_.context,he=ne.gl;he.enable(he.SCISSOR_TEST),he.scissor(a*n.exported.devicePixelRatio,u*n.exported.devicePixelRatio,x*n.exported.devicePixelRatio,D*n.exported.devicePixelRatio),ne.clear({color:z}),he.disable(he.SCISSOR_TEST)}const Lt=n.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:fi}=Lt;function zt(_,a,u,x){_.emplaceBack(a,u,x)}class ni{constructor(a){this.vertexArray=new n.StructArrayLayout3f12,this.indices=new n.StructArrayLayout3ui6,zt(this.vertexArray,-1,-1,1),zt(this.vertexArray,1,-1,1),zt(this.vertexArray,-1,1,1),zt(this.vertexArray,1,1,1),zt(this.vertexArray,-1,-1,-1),zt(this.vertexArray,1,-1,-1),zt(this.vertexArray,-1,1,-1),zt(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=a.createVertexBuffer(this.vertexArray,fi),this.indexBuffer=a.createIndexBuffer(this.indices),this.segment=n.SegmentVector.simpleSegment(0,0,36,12)}}function Ci(_,a,u,x,D,z){const ne=_.gl,he=a.paint.get("sky-atmosphere-color"),pe=a.paint.get("sky-atmosphere-halo-color"),ke=a.paint.get("sky-atmosphere-sun-intensity"),Me=((Ne,qe,st,rt,ht)=>({u_matrix_3f:Ne,u_sun_direction:qe,u_sun_intensity:st,u_color_tint_r:[rt.r,rt.g,rt.b,rt.a],u_color_tint_m:[ht.r,ht.g,ht.b,ht.a],u_luminance:5e-5}))(n.fromMat4(n.create$1(),x),D,ke,he,pe);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+z,a.skyboxTexture,0),u.draw(_,ne.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.frontCW,Me,"skyboxCapture",a.skyboxGeometry.vertexBuffer,a.skyboxGeometry.indexBuffer,a.skyboxGeometry.segment)}const $i=n.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Pi{constructor(a){const u=new n.StructArrayLayout5f20;u.emplaceBack(-1,1,1,0,0),u.emplaceBack(1,1,1,1,0),u.emplaceBack(1,-1,1,1,1),u.emplaceBack(-1,-1,1,0,1);const x=new n.StructArrayLayout3ui6;x.emplaceBack(0,1,2),x.emplaceBack(2,3,0),this.vertexBuffer=a.createVertexBuffer(u,$i.members),this.indexBuffer=a.createIndexBuffer(x),this.segments=n.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const bn={symbol:function(_,a,u,x,D){if(_.renderPass!=="translucent")return;const z=n.StencilMode.disabled,ne=_.colorModeForRenderPass();u.layout.get("text-variable-anchor")&&function(he,pe,ke,Me,Ne,qe,st){const rt=pe.transform,ht=Ne==="map",Ze=qe==="map";for(const Qe of he){const ut=Me.getTile(Qe),ot=ut.getBucket(ke);if(!ot||!ot.text||!ot.text.segments.get().length)continue;const vt=n.evaluateSizeForZoom(ot.textSizeData,rt.zoom),Mt=Ra(Qe,ot.getProjection(),rt),bt=rt.calculatePixelsToTileUnitsMatrix(ut),Ot=Kr(Mt,ut.tileID.canonical,Ze,ht,rt,ot.getProjection(),bt),Zt=ke.layout.get("icon-text-fit")!=="none"&&ot.hasIconData();if(vt){const qt=Math.pow(2,rt.zoom-ut.tileID.overscaledZ);Vh(ot,ht,Ze,st,n.symbolSize,rt,Ot,Qe,qt,vt,Zt)}}}(x,_,u,a,u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),D),u.paint.get("icon-opacity").constantOr(1)!==0&&po(_,a,u,x,!1,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),u.layout.get("icon-rotation-alignment"),u.layout.get("icon-pitch-alignment"),u.layout.get("icon-keep-upright"),z,ne),u.paint.get("text-opacity").constantOr(1)!==0&&po(_,a,u,x,!0,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),u.layout.get("text-keep-upright"),z,ne),a.map.showCollisionBoxes&&(So(_,a,u,x,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),!0),So(_,a,u,x,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),!1))},circle:function(_,a,u,x){if(_.renderPass!=="translucent")return;const D=u.paint.get("circle-opacity"),z=u.paint.get("circle-stroke-width"),ne=u.paint.get("circle-stroke-opacity"),he=u.layout.get("circle-sort-key").constantOr(1)!==void 0;if(D.constantOr(1)===0&&(z.constantOr(1)===0||ne.constantOr(1)===0))return;const pe=_.context,ke=pe.gl,Me=_.transform,Ne=_.depthModeForSublayer(0,n.DepthMode.ReadOnly),qe=n.StencilMode.disabled,st=_.colorModeForRenderPass(),rt=Me.projection.name==="globe",ht=[n.mercatorXfromLng(Me.center.lng),n.mercatorYfromLat(Me.center.lat)],Ze=[];for(let ut=0;ut<x.length;ut++){const ot=x[ut],vt=a.getTile(ot),Mt=vt.getBucket(u);if(!Mt||Mt.projection.name!==Me.projection.name)continue;const bt=Mt.programConfigurations.get(u.id),Ot=fh(u);rt&&Ot.push("PROJECTION_GLOBE_VIEW");const Zt=_.useProgram("circle",bt,Ot),qt=Mt.layoutVertexBuffer,Nt=Mt.globeExtVertexBuffer,xi=Mt.indexBuffer,Ht=Me.projection.createInversionMatrix(Me,ot.canonical),ci={programConfiguration:bt,program:Zt,layoutVertexBuffer:qt,globeExtVertexBuffer:Nt,indexBuffer:xi,uniformValues:Il(_,ot,vt,Ht,ht,u),tile:vt};if(he){const Jt=Mt.segments.get();for(const Ai of Jt)Ze.push({segments:new n.SegmentVector([Ai]),sortKey:Ai.sortKey,state:ci})}else Ze.push({segments:Mt.segments,sortKey:0,state:ci})}he&&Ze.sort((ut,ot)=>ut.sortKey-ot.sortKey);const Qe={useDepthForOcclusion:!rt};for(const ut of Ze){const{programConfiguration:ot,program:vt,layoutVertexBuffer:Mt,globeExtVertexBuffer:bt,indexBuffer:Ot,uniformValues:Zt,tile:qt}=ut.state,Nt=ut.segments;_.terrain&&_.terrain.setupElevationDraw(qt,vt,Qe),_.prepareDrawProgram(pe,vt,qt.tileID.toUnwrapped()),vt.draw(pe,ke.TRIANGLES,Ne,qe,st,n.CullFaceMode.disabled,Zt,u.id,Mt,Ot,Nt,u.paint,Me.zoom,ot,[bt])}},heatmap:function(_,a,u,x){if(u.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const D=_.context,z=D.gl,ne=n.StencilMode.disabled,he=new n.ColorMode([z.ONE,z.ONE],n.Color.transparent,[!0,!0,!0,!0]);(function(st,rt,ht,Ze){const Qe=st.gl,ut=rt.width*Ze,ot=rt.height*Ze;st.activeTexture.set(Qe.TEXTURE1),st.viewport.set([0,0,ut,ot]);let vt=ht.heatmapFbo;if(!vt||vt&&(vt.width!==ut||vt.height!==ot)){vt&&vt.destroy();const Mt=Qe.createTexture();Qe.bindTexture(Qe.TEXTURE_2D,Mt),Qe.texParameteri(Qe.TEXTURE_2D,Qe.TEXTURE_WRAP_S,Qe.CLAMP_TO_EDGE),Qe.texParameteri(Qe.TEXTURE_2D,Qe.TEXTURE_WRAP_T,Qe.CLAMP_TO_EDGE),Qe.texParameteri(Qe.TEXTURE_2D,Qe.TEXTURE_MIN_FILTER,Qe.LINEAR),Qe.texParameteri(Qe.TEXTURE_2D,Qe.TEXTURE_MAG_FILTER,Qe.LINEAR),vt=ht.heatmapFbo=st.createFramebuffer(ut,ot,!1),function(bt,Ot,Zt,qt,Nt,xi){const Ht=bt.gl;Ht.texImage2D(Ht.TEXTURE_2D,0,Ht.RGBA,Nt,xi,0,Ht.RGBA,bt.extRenderToTextureHalfFloat?bt.extTextureHalfFloat.HALF_FLOAT_OES:Ht.UNSIGNED_BYTE,null),qt.colorAttachment.set(Zt)}(st,0,Mt,vt,ut,ot)}else Qe.bindTexture(Qe.TEXTURE_2D,vt.colorAttachment.get()),st.bindFramebuffer.set(vt.framebuffer)})(D,_,u,_.transform.projection.name==="globe"?.5:.25),D.clear({color:n.Color.transparent});const pe=_.transform,ke=pe.projection.name==="globe",Me=ke?["PROJECTION_GLOBE_VIEW"]:null,Ne=ke?n.CullFaceMode.frontCCW:n.CullFaceMode.disabled,qe=[n.mercatorXfromLng(pe.center.lng),n.mercatorYfromLat(pe.center.lat)];for(let st=0;st<x.length;st++){const rt=x[st];if(a.hasRenderableParent(rt))continue;const ht=a.getTile(rt),Ze=ht.getBucket(u);if(!Ze||Ze.projection.name!==pe.projection.name)continue;const Qe=Ze.programConfigurations.get(u.id),ut=_.useProgram("heatmap",Qe,Me),{zoom:ot}=_.transform;_.terrain&&_.terrain.setupElevationDraw(ht,ut),_.prepareDrawProgram(D,ut,rt.toUnwrapped());const vt=pe.projection.createInversionMatrix(pe,rt.canonical);ut.draw(D,z.TRIANGLES,n.DepthMode.disabled,ne,he,Ne,gl(_,rt,ht,vt,qe,ot,u.paint.get("heatmap-intensity")),u.id,Ze.layoutVertexBuffer,Ze.indexBuffer,Ze.segments,u.paint,_.transform.zoom,Qe,ke?[Ze.globeExtVertexBuffer]:null)}D.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function(D,z){const ne=D.context,he=ne.gl,pe=z.heatmapFbo;if(!pe)return;ne.activeTexture.set(he.TEXTURE0),he.bindTexture(he.TEXTURE_2D,pe.colorAttachment.get()),ne.activeTexture.set(he.TEXTURE1);let ke=z.colorRampTexture;ke||(ke=z.colorRampTexture=new n.Texture(ne,z.colorRamp,he.RGBA)),ke.bind(he.LINEAR,he.CLAMP_TO_EDGE),D.useProgram("heatmapTexture").draw(ne,he.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,D.colorModeForRenderPass(),n.CullFaceMode.disabled,((Me,Ne,qe,st)=>({u_image:0,u_color_ramp:1,u_opacity:Ne.paint.get("heatmap-opacity")}))(0,z),z.id,D.viewportBuffer,D.quadTriangleIndexBuffer,D.viewportSegments,z.paint,D.transform.zoom)}(_,u))},line:function(_,a,u,x){if(_.renderPass!=="translucent")return;const D=u.paint.get("line-opacity"),z=u.paint.get("line-width");if(D.constantOr(1)===0||z.constantOr(1)===0)return;const ne=_.depthModeForSublayer(0,n.DepthMode.ReadOnly),he=_.colorModeForRenderPass(),pe=_.terrain&&_.terrain.renderingToTexture?1:n.exported.devicePixelRatio,ke=u.paint.get("line-dasharray"),Me=ke.constantOr(1),Ne=u.layout.get("line-cap"),qe=u.paint.get("line-pattern"),st=qe.constantOr(1),rt=u.paint.get("line-gradient"),ht=st?"linePattern":"line",Ze=_.context,Qe=Ze.gl,ut=(vt=>{const Mt=[];Nc(vt)&&Mt.push("RENDER_LINE_DASH"),vt.paint.get("line-gradient")&&Mt.push("RENDER_LINE_GRADIENT");const bt=vt.paint.get("line-trim-offset");bt[0]===0&&bt[1]===0||Mt.push("RENDER_LINE_TRIM_OFFSET");const Ot=vt.paint.get("line-pattern").constantOr(1),Zt=vt.paint.get("line-opacity").constantOr(1)!==1;return!Ot&&Zt&&Mt.push("RENDER_LINE_ALPHA_DISCARD"),Mt})(u);let ot=ut.includes("RENDER_LINE_ALPHA_DISCARD");_.terrain&&_.terrain.clipOrMaskOverlapStencilType()&&(ot=!1);for(const vt of x){const Mt=a.getTile(vt);if(st&&!Mt.patternsLoaded())continue;const bt=Mt.getBucket(u);if(!bt)continue;_.prepareDrawTile();const Ot=bt.programConfigurations.get(u.id),Zt=_.useProgram(ht,Ot,ut),qt=qe.constantOr(null);if(qt&&Mt.imageAtlas){const gi=Mt.imageAtlas.patternPositions[qt.toString()];gi&&Ot.setConstantPatternPositions(gi)}const Nt=ke.constantOr(null),xi=Ne.constantOr(null);if(!st&&Nt&&xi&&Mt.lineAtlas){const gi=Mt.lineAtlas.getDash(Nt,xi);gi&&Ot.setConstantPatternPositions(gi)}let[Ht,ci]=u.paint.get("line-trim-offset");(xi==="round"||xi==="square")&&Ht!==ci&&(Ht===0&&(Ht-=1),ci===1&&(ci+=1));const Jt=_.terrain?vt.projMatrix:null,Ai=st?$o(_,Mt,u,Jt,pe):mh(_,Mt,u,Jt,bt.lineClipsArray.length,pe,[Ht,ci]);if(rt){const gi=bt.gradients[u.id];let Di=gi.texture;if(u.gradientVersion!==gi.version){let jt=256;if(u.stepInterpolant){const Kt=a.getSource().maxzoom,sn=vt.canonical.z===Kt?Math.ceil(1<<_.transform.maxZoom-vt.canonical.z):1;jt=n.clamp(n.nextPowerOfTwo(bt.maxLineLength/n.EXTENT*1024*sn),256,Ze.maxTextureSize)}gi.gradient=n.renderColorRamp({expression:u.gradientExpression(),evaluationKey:"lineProgress",resolution:jt,image:gi.gradient||void 0,clips:bt.lineClipsArray}),gi.texture?gi.texture.update(gi.gradient):gi.texture=new n.Texture(Ze,gi.gradient,Qe.RGBA),gi.version=u.gradientVersion,Di=gi.texture}Ze.activeTexture.set(Qe.TEXTURE1),Di.bind(u.stepInterpolant?Qe.NEAREST:Qe.LINEAR,Qe.CLAMP_TO_EDGE)}Me&&(Ze.activeTexture.set(Qe.TEXTURE0),Mt.lineAtlasTexture.bind(Qe.LINEAR,Qe.REPEAT),Ot.updatePaintBuffers()),st&&(Ze.activeTexture.set(Qe.TEXTURE0),Mt.imageAtlasTexture.bind(Qe.LINEAR,Qe.CLAMP_TO_EDGE),Ot.updatePaintBuffers()),_.prepareDrawProgram(Ze,Zt,vt.toUnwrapped());const ei=gi=>{Zt.draw(Ze,Qe.TRIANGLES,ne,gi,he,n.CullFaceMode.disabled,Ai,u.id,bt.layoutVertexBuffer,bt.indexBuffer,bt.segments,u.paint,_.transform.zoom,Ot,[bt.layoutVertexBuffer2])};if(ot){const gi=_.stencilModeForClipping(vt).ref;gi===0&&_.terrain&&Ze.clear({stencil:0});const Di={func:Qe.EQUAL,mask:255};Ai.u_alpha_discard_threshold=.8,ei(new n.StencilMode(Di,gi,255,Qe.KEEP,Qe.KEEP,Qe.INVERT)),Ai.u_alpha_discard_threshold=0,ei(new n.StencilMode(Di,gi,255,Qe.KEEP,Qe.KEEP,Qe.KEEP))}else ei(_.stencilModeForClipping(vt))}ot&&(_.resetStencilClippingMasks(),_.terrain&&Ze.clear({stencil:0}))},fill:function(_,a,u,x){const D=u.paint.get("fill-color"),z=u.paint.get("fill-opacity");if(z.constantOr(1)===0)return;const ne=_.colorModeForRenderPass(),he=u.paint.get("fill-pattern"),pe=_.opaquePassEnabledForLayer()&&!he.constantOr(1)&&D.constantOr(n.Color.transparent).a===1&&z.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===pe){const ke=_.depthModeForSublayer(1,_.renderPass==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly);pi(_,a,u,x,ke,ne,!1)}if(_.renderPass==="translucent"&&u.paint.get("fill-antialias")){const ke=_.depthModeForSublayer(u.getPaintProperty("fill-outline-color")?2:0,n.DepthMode.ReadOnly);pi(_,a,u,x,ke,ne,!0)}},"fill-extrusion":function(_,a,u,x){const D=u.paint.get("fill-extrusion-opacity");if(D!==0&&_.renderPass==="translucent"){const z=new n.DepthMode(_.context.gl.LEQUAL,n.DepthMode.ReadWrite,_.depthRangeFor3D);if(D!==1||u.paint.get("fill-extrusion-pattern").constantOr(1))oi(_,a,u,x,z,n.StencilMode.disabled,n.ColorMode.disabled),oi(_,a,u,x,z,_.stencilModeFor3D(),_.colorModeForRenderPass()),_.resetStencilClippingMasks();else{const ne=_.colorModeForRenderPass();oi(_,a,u,x,z,n.StencilMode.disabled,ne)}}},hillshade:function(_,a,u,x){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;const D=_.context,z=_.depthModeForSublayer(0,n.DepthMode.ReadOnly),ne=_.colorModeForRenderPass(),he=_.terrain&&_.terrain.renderingToTexture,[pe,ke]=_.renderPass!=="translucent"||he?[{},x]:_.stencilConfigForOverlap(x);for(const Me of ke){const Ne=a.getTile(Me);if(Ne.needsHillshadePrepare&&_.renderPass==="offscreen")Yn(_,Ne,u,z,n.StencilMode.disabled,ne);else if(_.renderPass==="translucent"){const qe=he&&_.terrain?_.terrain.stencilModeForRTTOverlap(Me):pe[Me.overscaledZ];Ws(_,Me,Ne,u,z,qe,ne)}}D.viewport.set([0,0,_.width,_.height]),_.resetStencilClippingMasks()},raster:function(_,a,u,x,D,z){if(_.renderPass!=="translucent"||u.paint.get("raster-opacity")===0||!x.length)return;const ne=_.context,he=ne.gl,pe=a.getSource(),ke=_.useProgram("raster"),Me=_.colorModeForRenderPass(),Ne=_.terrain&&_.terrain.renderingToTexture,[qe,st]=pe instanceof kt||Ne?[{},x]:_.stencilConfigForOverlap(x),rt=st[st.length-1].overscaledZ,ht=!_.options.moving;for(const Ze of st){const Qe=Ne?n.DepthMode.disabled:_.depthModeForSublayer(Ze.overscaledZ-rt,u.paint.get("raster-opacity")===1?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly,he.LESS),ut=Ze.toUnwrapped(),ot=a.getTile(Ze);if(Ne&&(!ot||!ot.hasData()))continue;const vt=Ne?Ze.projMatrix:_.transform.calculateProjMatrix(ut,ht),Mt=_.terrain&&Ne?_.terrain.stencilModeForRTTOverlap(Ze):qe[Ze.overscaledZ],bt=z?0:u.paint.get("raster-fade-duration");ot.registerFadeDuration(bt);const Ot=a.findLoadedParent(Ze,0),Zt=xo(ot,Ot,a,_.transform,bt);let qt,Nt;_.terrain&&_.terrain.prepareDrawTile();const xi=u.paint.get("raster-resampling")==="nearest"?he.NEAREST:he.LINEAR;ne.activeTexture.set(he.TEXTURE0),ot.texture.bind(xi,he.CLAMP_TO_EDGE),ne.activeTexture.set(he.TEXTURE1),Ot?(Ot.texture.bind(xi,he.CLAMP_TO_EDGE),qt=Math.pow(2,Ot.tileID.overscaledZ-ot.tileID.overscaledZ),Nt=[ot.tileID.canonical.x*qt%1,ot.tileID.canonical.y*qt%1]):ot.texture.bind(xi,he.CLAMP_TO_EDGE);const Ht=Ll(vt,Nt||[0,0],qt||1,Zt,u,pe instanceof kt?pe.perspectiveTransform:[0,0]);if(_.prepareDrawProgram(ne,ke,ut),pe instanceof kt)pe.boundsBuffer&&pe.boundsSegments&&ke.draw(ne,he.TRIANGLES,Qe,n.StencilMode.disabled,Me,n.CullFaceMode.disabled,Ht,u.id,pe.boundsBuffer,_.quadTriangleIndexBuffer,pe.boundsSegments);else{const{tileBoundsBuffer:ci,tileBoundsIndexBuffer:Jt,tileBoundsSegments:Ai}=_.getTileBoundsBuffers(ot);ke.draw(ne,he.TRIANGLES,Qe,Mt,Me,n.CullFaceMode.disabled,Ht,u.id,ci,Jt,Ai)}}_.resetStencilClippingMasks()},background:function(_,a,u,x){const D=u.paint.get("background-color"),z=u.paint.get("background-opacity");if(z===0)return;const ne=_.context,he=ne.gl,pe=_.transform,ke=pe.tileSize,Me=u.paint.get("background-pattern");if(_.isPatternMissing(Me))return;const Ne=!Me&&D.a===1&&z===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==Ne)return;const qe=n.StencilMode.disabled,st=_.depthModeForSublayer(0,Ne==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly),rt=_.colorModeForRenderPass(),ht=_.useProgram(Me?"backgroundPattern":"background");let Ze,Qe=x;Qe||(Ze=_.getBackgroundTiles(),Qe=Object.values(Ze).map(ut=>ut.tileID)),Me&&(ne.activeTexture.set(he.TEXTURE0),_.imageManager.bind(_.context));for(const ut of Qe){const ot=ut.toUnwrapped(),vt=x?ut.projMatrix:_.transform.calculateProjMatrix(ot);_.prepareDrawTile();const Mt=a?a.getTile(ut):Ze?Ze[ut.key]:new n.Tile(ut,ke,pe.zoom,_),bt=Me?is(vt,z,_,Me,{tileID:ut,tileSize:ke}):wd(vt,z,D);_.prepareDrawProgram(ne,ht,ot);const{tileBoundsBuffer:Ot,tileBoundsIndexBuffer:Zt,tileBoundsSegments:qt}=_.getTileBoundsBuffers(Mt);ht.draw(ne,he.TRIANGLES,st,qe,rt,n.CullFaceMode.disabled,bt,u.id,Ot,Zt,qt)}},sky:function(_,a,u){const x=_.transform,D=x.projection.name==="mercator"||x.projection.name==="globe"?1:n.smoothstep(7,8,x.zoom),z=u.paint.get("sky-opacity")*D;if(z===0)return;const ne=_.context,he=u.paint.get("sky-type"),pe=new n.DepthMode(ne.gl.LEQUAL,n.DepthMode.ReadOnly,[0,1]),ke=_.frameCounter/1e3%1;he==="atmosphere"?_.renderPass==="offscreen"?u.needsSkyboxCapture(_)&&(function(Me,Ne,qe,st){const rt=Me.context,ht=rt.gl;let Ze=Ne.skyboxFbo;if(!Ze){Ze=Ne.skyboxFbo=rt.createFramebuffer(32,32,!1),Ne.skyboxGeometry=new ni(rt),Ne.skyboxTexture=rt.gl.createTexture(),ht.bindTexture(ht.TEXTURE_CUBE_MAP,Ne.skyboxTexture),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_WRAP_S,ht.CLAMP_TO_EDGE),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_WRAP_T,ht.CLAMP_TO_EDGE),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_MIN_FILTER,ht.LINEAR),ht.texParameteri(ht.TEXTURE_CUBE_MAP,ht.TEXTURE_MAG_FILTER,ht.LINEAR);for(let vt=0;vt<6;++vt)ht.texImage2D(ht.TEXTURE_CUBE_MAP_POSITIVE_X+vt,0,ht.RGBA,32,32,0,ht.RGBA,ht.UNSIGNED_BYTE,null)}rt.bindFramebuffer.set(Ze.framebuffer),rt.viewport.set([0,0,32,32]);const Qe=Ne.getCenter(Me,!0),ut=Me.useProgram("skyboxCapture"),ot=new Float64Array(16);n.identity(ot),n.rotateY(ot,ot,.5*-Math.PI),Ci(rt,Ne,ut,ot,Qe,0),n.identity(ot),n.rotateY(ot,ot,.5*Math.PI),Ci(rt,Ne,ut,ot,Qe,1),n.identity(ot),n.rotateX(ot,ot,.5*-Math.PI),Ci(rt,Ne,ut,ot,Qe,2),n.identity(ot),n.rotateX(ot,ot,.5*Math.PI),Ci(rt,Ne,ut,ot,Qe,3),n.identity(ot),Ci(rt,Ne,ut,ot,Qe,4),n.identity(ot),n.rotateY(ot,ot,Math.PI),Ci(rt,Ne,ut,ot,Qe,5),rt.viewport.set([0,0,Me.width,Me.height])}(_,u),u.markSkyboxValid(_)):_.renderPass==="sky"&&function(Me,Ne,qe,st,rt){const ht=Me.context,Ze=ht.gl,Qe=Me.transform,ut=Me.useProgram("skybox");ht.activeTexture.set(Ze.TEXTURE0),Ze.bindTexture(Ze.TEXTURE_CUBE_MAP,Ne.skyboxTexture);const ot=((vt,Mt,bt,Ot,Zt)=>({u_matrix:vt,u_sun_direction:Mt,u_cubemap:0,u_opacity:Ot,u_temporal_offset:Zt}))(Qe.skyboxMatrix,Ne.getCenter(Me,!1),0,st,rt);Me.prepareDrawProgram(ht,ut),ut.draw(ht,Ze.TRIANGLES,qe,n.StencilMode.disabled,Me.colorModeForRenderPass(),n.CullFaceMode.backCW,ot,"skybox",Ne.skyboxGeometry.vertexBuffer,Ne.skyboxGeometry.indexBuffer,Ne.skyboxGeometry.segment)}(_,u,pe,z,ke):he==="gradient"&&_.renderPass==="sky"&&function(Me,Ne,qe,st,rt){const ht=Me.context,Ze=ht.gl,Qe=Me.transform,ut=Me.useProgram("skyboxGradient");Ne.skyboxGeometry||(Ne.skyboxGeometry=new ni(ht)),ht.activeTexture.set(Ze.TEXTURE0);let ot=Ne.colorRampTexture;ot||(ot=Ne.colorRampTexture=new n.Texture(ht,Ne.colorRamp,Ze.RGBA)),ot.bind(Ze.LINEAR,Ze.CLAMP_TO_EDGE);const vt=((Mt,bt,Ot,Zt,qt)=>({u_matrix:Mt,u_color_ramp:0,u_center_direction:bt,u_radius:n.degToRad(Ot),u_opacity:Zt,u_temporal_offset:qt}))(Qe.skyboxMatrix,Ne.getCenter(Me,!1),Ne.paint.get("sky-gradient-radius"),st,rt);Me.prepareDrawProgram(ht,ut),ut.draw(ht,Ze.TRIANGLES,qe,n.StencilMode.disabled,Me.colorModeForRenderPass(),n.CullFaceMode.backCW,vt,"skyboxGradient",Ne.skyboxGeometry.vertexBuffer,Ne.skyboxGeometry.indexBuffer,Ne.skyboxGeometry.segment)}(_,u,pe,z,ke)},debug:function(_,a,u){for(let x=0;x<u.length;x++)Fc(_,a,u[x])},custom:function(_,a,u){const x=_.context,D=u.implementation;if(_.transform.projection.unsupportedLayers&&_.transform.projection.unsupportedLayers.includes("custom"))n.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(_.renderPass==="offscreen"){const z=D.prerender;z&&(_.setCustomLayerDefaults(),x.setColorMode(_.colorModeForRenderPass()),z.call(D,x.gl,_.transform.customLayerMatrix()),x.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),x.setColorMode(_.colorModeForRenderPass()),x.setStencilMode(n.StencilMode.disabled);const z=D.renderingMode==="3d"?new n.DepthMode(_.context.gl.LEQUAL,n.DepthMode.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,n.DepthMode.ReadOnly);x.setDepthMode(z),D.render(x.gl,_.transform.customLayerMatrix()),x.setDirty(),_.setBaseState(),x.bindFramebuffer.set(null)}}};class En{constructor(a,u){this.context=new Be(a),this.transform=u,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=n.SourceCache.maxUnderzooming+n.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Oo,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(a,u){const x=!!a&&!!a.terrain&&this.transform.projection.supportsTerrain;if(!(x||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new ro(this,a));const D=this._terrain;this.transform.elevation=x?D:null,D.update(a,this.transform,u)}_updateFog(a){const u=a.fog;if(!u||this.transform.projection.name==="globe"||u.getOpacity(this.transform.pitch)<1||u.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[x,D]=u.getFovAdjustedRange(this.transform._fov);if(x>D)return void(this.transform.fogCullDistSq=null);const z=x+.78*(D-x);this.transform.fogCullDistSq=z*z}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(a,u){if(this.width=a*n.exported.devicePixelRatio,this.height=u*n.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const x of this.style.order)this.style._layers[x].resize()}setup(){const a=this.context,u=new n.StructArrayLayout2i4;u.emplaceBack(0,0),u.emplaceBack(n.EXTENT,0),u.emplaceBack(0,n.EXTENT),u.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=a.createVertexBuffer(u,n.posAttributes.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);const x=new n.StructArrayLayout2i4;x.emplaceBack(0,0),x.emplaceBack(n.EXTENT,0),x.emplaceBack(0,n.EXTENT),x.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=a.createVertexBuffer(x,n.posAttributes.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);const D=new n.StructArrayLayout2i4;D.emplaceBack(-1,-1),D.emplaceBack(1,-1),D.emplaceBack(-1,1),D.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(D,n.posAttributes.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);const z=new n.StructArrayLayout4i8;z.emplaceBack(0,0,0,0),z.emplaceBack(n.EXTENT,0,n.EXTENT,0),z.emplaceBack(0,n.EXTENT,0,n.EXTENT),z.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.mercatorBoundsBuffer=a.createVertexBuffer(z,n.boundsAttributes.members),this.mercatorBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);const ne=new n.StructArrayLayout3ui6;ne.emplaceBack(0,1,2),ne.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(ne);const he=new n.StructArrayLayout1ui2;for(const ke of[0,1,3,2,0])he.emplaceBack(ke);this.debugIndexBuffer=a.createIndexBuffer(he),this.emptyTexture=new n.Texture(a,new n.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),a.gl.RGBA),this.identityMat=n.create();const pe=this.context.gl;this.stencilClearMode=new n.StencilMode({func:pe.ALWAYS,mask:0},0,255,pe.ZERO,pe.ZERO,pe.ZERO),this.loadTimeStamps.push(n.window.performance.now()),this.atmosphereBuffer=new Pi(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(a){return a._makeTileBoundsBuffers(this.context,this.transform.projection),a._tileBoundsBuffer?{tileBoundsBuffer:a._tileBoundsBuffer,tileBoundsIndexBuffer:a._tileBoundsIndexBuffer,tileBoundsSegments:a._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const a=this.context,u=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(a,u.TRIANGLES,n.DepthMode.disabled,this.stencilClearMode,n.ColorMode.disabled,n.CullFaceMode.disabled,kr(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(a,u,x){if(!u||this.currentStencilSource===u.id||!a.isTileClipped()||!x||x.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let he=!1;for(const pe of x)if(this._tileClippingMaskIDs[pe.key]===void 0){he=!0;break}if(!he)return}this.currentStencilSource=u.id;const D=this.context,z=D.gl;this.nextStencilID+x.length>256&&this.clearStencil(),D.setColorMode(n.ColorMode.disabled),D.setDepthMode(n.DepthMode.disabled);const ne=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const he of x){const pe=u.getTile(he),ke=this._tileClippingMaskIDs[he.key]=this.nextStencilID++,{tileBoundsBuffer:Me,tileBoundsIndexBuffer:Ne,tileBoundsSegments:qe}=this.getTileBoundsBuffers(pe);ne.draw(D,z.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:z.ALWAYS,mask:0},ke,255,z.KEEP,z.KEEP,z.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,kr(he.projMatrix),"$clipping",Me,Ne,qe)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const a=this.nextStencilID++,u=this.context.gl;return new n.StencilMode({func:u.NOTEQUAL,mask:255},a,255,u.KEEP,u.KEEP,u.REPLACE)}stencilModeForClipping(a){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(a);const u=this.context.gl;return new n.StencilMode({func:u.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,u.KEEP,u.KEEP,u.REPLACE)}stencilConfigForOverlap(a){const u=this.context.gl,x=a.sort((ne,he)=>he.overscaledZ-ne.overscaledZ),D=x[x.length-1].overscaledZ,z=x[0].overscaledZ-D+1;if(z>1){this.currentStencilSource=void 0,this.nextStencilID+z>256&&this.clearStencil();const ne={};for(let he=0;he<z;he++)ne[he+D]=new n.StencilMode({func:u.GEQUAL,mask:255},he+this.nextStencilID,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID+=z,[ne,x]}return[{[D]:n.StencilMode.disabled},x]}colorModeForRenderPass(){const a=this.context.gl;return this._showOverdrawInspector?new n.ColorMode([a.CONSTANT_COLOR,a.ONE],new n.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?n.ColorMode.unblended:n.ColorMode.alphaBlended}depthModeForSublayer(a,u,x){if(!this.opaquePassEnabledForLayer())return n.DepthMode.disabled;const D=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new n.DepthMode(x||this.context.gl.LEQUAL,u,[D,D])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,u){this.style=a,this.options=u,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(n.exported.now()),this.imageManager.beginFrame();const x=this.style.order,D=this.style._sourceCaches;for(const pe in D){const ke=D[pe];ke.used&&ke.prepare(this.context)}const z={},ne={},he={};for(const pe in D){const ke=D[pe];z[pe]=ke.getVisibleCoordinates(),ne[pe]=z[pe].slice().reverse(),he[pe]=ke.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let pe=0;pe<x.length;pe++)if(this.style._layers[x[pe]].is3D()){this.opaquePassCutoff=pe;break}if(this.terrain&&(this.terrain.updateTileBinding(he),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new n.GlobeSharedBuffers(this.context)),n.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const pe of x){const ke=this.style._layers[pe],Me=a._getLayerSourceCache(ke);if(!ke.hasOffscreenPass()||ke.isHidden(this.transform.zoom))continue;const Ne=Me?ne[Me.id]:void 0;(ke.type==="custom"||ke.isSky()||Ne&&Ne.length)&&this.renderLayer(this,Me,ke,Ne)}if(this.depthRangeFor3D=[0,1-(a.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:u.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=u.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=x.length-1;this.currentLayer>=0;this.currentLayer--){const pe=this.style._layers[x[this.currentLayer]],ke=a._getLayerSourceCache(pe);if(pe.isSky())continue;const Me=ke?ne[ke.id]:void 0;this._renderTileClippingMasks(pe,ke,Me),this.renderLayer(this,ke,pe,Me)}if(this.style.fog&&this.transform.projection.supportsFog&&function(pe,ke){const Me=pe.context,Ne=Me.gl,qe=pe.transform,st=new n.DepthMode(Ne.LEQUAL,n.DepthMode.ReadOnly,[0,1]),rt=pe.useProgram("globeAtmosphere",null,qe.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),ht=n.globeToMercatorTransition(qe.zoom),Ze=ke.properties.get("color").toArray01(),Qe=ke.properties.get("high-color").toArray01(),ut=ke.properties.get("space-color").toArray01PremultipliedAlpha(),ot=n.identity$1([]);n.rotateY$1(ot,ot,-n.degToRad(qe._center.lng)),n.rotateX$1(ot,ot,n.degToRad(qe._center.lat)),n.rotateZ$1(ot,ot,qe.angle),n.rotateX$1(ot,ot,-qe._pitch);const vt=n.fromQuat(new Float32Array(16),ot),Mt=n.mapValue(ke.properties.get("star-intensity"),0,1,0,.25),bt=5e-4,Ot=n.mapValue(ke.properties.get("horizon-blend"),0,1,bt,.25),Zt=n.globeUseCustomAntiAliasing(pe,Me,qe)&&Ot===bt?qe.worldSize/(2*Math.PI*1.025)-1:qe.globeRadius,qt=pe.frameCounter/1e3%1,Nt=n.length(qe.globeCenterInViewSpace),xi=Math.sqrt(Math.pow(Nt,2)-Math.pow(Zt,2)),Ht=Math.acos(xi/Nt),ci=((Ai,ei,gi,Di,jt,Kt,sn,un,rn,Cn,Hn,mn,Zi,zs)=>({u_frustum_tl:Ai,u_frustum_tr:ei,u_frustum_br:gi,u_frustum_bl:Di,u_horizon:jt,u_transition:Kt,u_fadeout_range:sn,u_color:un,u_high_color:rn,u_space_color:Cn,u_star_intensity:Hn,u_star_size:5*n.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:mn,u_horizon_angle:Zi,u_rotation_matrix:zs}))(qe.frustumCorners.TL,qe.frustumCorners.TR,qe.frustumCorners.BR,qe.frustumCorners.BL,qe.frustumCorners.horizon,ht,Ot,Ze,Qe,ut,Mt,qt,Ht,vt);pe.prepareDrawProgram(Me,rt);const Jt=pe.atmosphereBuffer;Jt&&rt.draw(Me,Ne.TRIANGLES,st,n.StencilMode.disabled,n.ColorMode.alphaBlended,n.CullFaceMode.backCW,ci,"skybox",Jt.vertexBuffer,Jt.indexBuffer,Jt.segments)}(this,this.style.fog),this.renderPass="sky",(n.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<x.length;this.currentLayer++){const pe=this.style._layers[x[this.currentLayer]],ke=a._getLayerSourceCache(pe);pe.isSky()&&this.renderLayer(this,ke,pe,ke?ne[ke.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<x.length;){const pe=this.style._layers[x[this.currentLayer]],ke=a._getLayerSourceCache(pe);if(pe.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(pe)){if(pe.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const Me=ke?(pe.type==="symbol"?he:ne)[ke.id]:void 0;this._renderTileClippingMasks(pe,ke,ke?z[ke.id]:void 0),this.renderLayer(this,ke,pe,Me),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let pe=null;n.values(this.style._layers).forEach(ke=>{const Me=a._getLayerSourceCache(ke);Me&&!ke.isHidden(this.transform.zoom)&&(!pe||pe.getSource().maxzoom<Me.getSource().maxzoom)&&(pe=Me)}),pe&&this.options.showTileBoundaries&&bn.debug(this,pe,pe.getVisibleCoordinates())}this.options.showPadding&&function(pe){const ke=pe.transform.padding;fo(pe,pe.transform.height-(ke.top||0),3,Rn),fo(pe,ke.bottom||0,3,gs),tt(pe,ke.left||0,3,pr),tt(pe,pe.transform.width-(ke.right||0),3,bs);const Me=pe.transform.centerPoint;(function(Ne,qe,st,rt){Tt(Ne,qe-1,st-10,2,20,rt),Tt(Ne,qe-10,st-1,20,2,rt)})(pe,Me.x,pe.transform.height-Me.y,Rl)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(n.window.performance.now()),this.saveCanvasCopy())}}renderLayer(a,u,x,D){x.isHidden(this.transform.zoom)||(x.type==="background"||x.type==="sky"||x.type==="custom"||D&&D.length)&&(this.id=x.id,this.gpuTimingStart(x),a.transform.projection.unsupportedLayers&&a.transform.projection.unsupportedLayers.includes(x.type)||bn[x.type](a,u,x,D,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(a){if(!this.options.gpuTiming)return;const u=this.context.extTimerQuery;let x=this.gpuTimers[a.id];x||(x=this.gpuTimers[a.id]={calls:0,cpuTime:0,query:u.createQueryEXT()}),x.calls++,u.beginQueryEXT(u.TIME_ELAPSED_EXT,x.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const a=this.context.extTimerQuery,u=a.createQueryEXT();this.deferredRenderGpuTimeQueries.push(u),a.beginQueryEXT(a.TIME_ELAPSED_EXT,u)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const a=this.context.extTimerQuery;a.endQueryEXT(a.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const a=this.context.extTimerQuery;a.endQueryEXT(a.TIME_ELAPSED_EXT)}collectGpuTimers(){const a=this.gpuTimers;return this.gpuTimers={},a}collectDeferredRenderGpuQueries(){const a=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],a}queryGpuTimers(a){const u={};for(const x in a){const D=a[x],z=this.context.extTimerQuery,ne=z.getQueryObjectEXT(D.query,z.QUERY_RESULT_EXT)/1e6;z.deleteQueryEXT(D.query),u[x]=ne}return u}queryGpuTimeDeferredRender(a){if(!this.options.gpuTimingDeferredRender)return 0;const u=this.context.extTimerQuery;let x=0;for(const D of a)x+=u.getQueryObjectEXT(D,u.QUERY_RESULT_EXT)/1e6,u.deleteQueryEXT(D);return x}translatePosMatrix(a,u,x,D,z){if(!x[0]&&!x[1])return a;const ne=z?D==="map"?this.transform.angle:0:D==="viewport"?-this.transform.angle:0;if(ne){const ke=Math.sin(ne),Me=Math.cos(ne);x=[x[0]*Me-x[1]*ke,x[0]*ke+x[1]*Me]}const he=[z?x[0]:Z(u,x[0],this.transform.zoom),z?x[1]:Z(u,x[1],this.transform.zoom),0],pe=new Float32Array(16);return n.translate(pe,a,he),pe}saveTileTexture(a){const u=this._tileTextures[a.size[0]];u?u.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){const u=this._tileTextures[a];return u&&u.length>0?u.pop():null}isPatternMissing(a){return a===null||a!==void 0&&!this.imageManager.getPattern(a.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const a=this.terrain&&this.terrain.renderingToTexture,u=this.terrain&&this.terrain.exaggeration()===0,x=this.style&&this.style.fog,D=[];return this.terrainRenderModeElevated()&&D.push("TERRAIN"),this.transform.projection.name==="globe"&&D.push("GLOBE"),u&&D.push("ZERO_EXAGGERATION"),x&&!a&&x.getOpacity(this.transform.pitch)!==0&&D.push("FOG"),a&&D.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&D.push("OVERDRAW_INSPECTOR"),D}useProgram(a,u,x){this.cache=this.cache||{};const D=x||[],z=this.currentGlobalDefines().concat(D),ne=Ro.cacheKey(ti[a],a,z,u);return this.cache[ne]||(this.cache[ne]=new Ro(this.context,a,ti[a],u,uo[a],z)),this.cache[ne]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(a,u,x){if(this.terrain&&this.terrain.renderingToTexture)return;const D=this.style.fog;if(D){const z=D.getOpacity(this.transform.pitch),ne=((he,pe,ke,Me,Ne,qe,st,rt,ht,Ze,Qe)=>{const ut=he.transform,ot=pe.properties.get("color").toArray01();ot[3]=Me;const vt=he.frameCounter/1e3%1;return{u_fog_matrix:ke?ut.calculateFogTileMatrix(ke):he.identityMat,u_fog_range:pe.getFovAdjustedRange(ut._fov),u_fog_color:ot,u_fog_horizon_blend:pe.properties.get("horizon-blend"),u_fog_temporal_offset:vt,u_frustum_tl:Ne,u_frustum_tr:qe,u_frustum_br:st,u_frustum_bl:rt,u_globe_pos:ht,u_globe_radius:Ze,u_viewport:Qe,u_globe_transition:n.globeToMercatorTransition(ut.zoom),u_is_globe:+(ut.projection.name==="globe")}})(this,D,x,z,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*n.exported.devicePixelRatio,this.transform.height*n.exported.devicePixelRatio]);u.setFogUniformValues(a,ne)}}setTileLoadedFlag(a){this.tileLoaded=a}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const a=this.context.gl,u=a.createTexture();return a.bindTexture(a.TEXTURE_2D,u),a.copyTexImage2D(a.TEXTURE_2D,0,a.RGBA,0,0,a.drawingBufferWidth,a.drawingBufferHeight,0),u}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const a=this.style&&this.style.fog;return!!a&&a.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const a=this._backgroundTiles,u=this._backgroundTiles={},x=this.transform.coveringTiles({tileSize:512});for(const D of x)u[D.key]=a[D.key]||new n.Tile(D,512,this.transform.tileZoom,this);return u}clearBackgroundTiles(){this._backgroundTiles={}}}class Mn{constructor(a=0,u=0,x=0,D=0){if(isNaN(a)||a<0||isNaN(u)||u<0||isNaN(x)||x<0||isNaN(D)||D<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=u,this.left=x,this.right=D}interpolate(a,u,x){return u.top!=null&&a.top!=null&&(this.top=n.number(a.top,u.top,x)),u.bottom!=null&&a.bottom!=null&&(this.bottom=n.number(a.bottom,u.bottom,x)),u.left!=null&&a.left!=null&&(this.left=n.number(a.left,u.left,x)),u.right!=null&&a.right!=null&&(this.right=n.number(a.right,u.right,x)),this}getCenter(a,u){const x=n.clamp((this.left+a-this.right)/2,0,a),D=n.clamp((this.top+u-this.bottom)/2,0,u);return new n.pointGeometry(x,D)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new Mn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function jn(_,a){const u=n.getColumn(_,3);n.fromQuat(_,a),n.setColumn(_,3,u)}function os(_,a){const u=n.identity$1([]);return n.rotateZ$1(u,u,-a),n.rotateX$1(u,u,-_),u}function yn(_,a){const u=[_[0],_[1],0],x=[a[0],a[1],0];if(n.length(u)>=1e-15){const ne=n.normalize([],u);n.scale$2(x,ne,n.dot(x,ne)),a[0]=x[0],a[1]=x[1]}const D=n.cross([],a,_);if(n.len(D)<1e-15)return null;const z=Math.atan2(-D[1],D[0]);return os(Math.atan2(Math.sqrt(_[0]*_[0]+_[1]*_[1]),-_[2]),z)}class _e{constructor(a,u){this.position=a,this.orientation=u}get position(){return this._position}set position(a){if(a){const u=a instanceof n.MercatorCoordinate?a:new n.MercatorCoordinate(a[0],a[1],a[2]);this._renderWorldCopies&&(u.x=n.wrap(u.x,0,1)),this._position=u}else this._position=null}lookAtPoint(a,u){if(this.orientation=null,!this.position)return;const x=this._elevation?this._elevation.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(a)):0,D=this.position,z=n.MercatorCoordinate.fromLngLat(a,x),ne=[z.x-D.x,z.y-D.y,z.z-D.z];u||(u=[0,0,1]),u[2]=Math.abs(u[2]),this.orientation=yn(ne,u)}setPitchBearing(a,u){this.orientation=os(n.degToRad(a),n.degToRad(-u))}}class we{constructor(a,u){this._transform=n.identity([]),this.orientation=u,this.position=a}get mercatorPosition(){const a=this.position;return new n.MercatorCoordinate(a[0],a[1],a[2])}get position(){const a=n.getColumn(this._transform,3);return[a[0],a[1],a[2]]}set position(a){var u;a&&n.setColumn(this._transform,3,[(u=a)[0],u[1],u[2],1])}get orientation(){return this._orientation}set orientation(a){this._orientation=a||n.identity$1([]),a&&jn(this._transform,this._orientation)}getPitchBearing(){const a=this.forward(),u=this.right();return{bearing:Math.atan2(-u[1],u[0]),pitch:Math.atan2(Math.sqrt(a[0]*a[0]+a[1]*a[1]),-a[2])}}setPitchBearing(a,u){this._orientation=os(a,u),jn(this._transform,this._orientation)}forward(){const a=n.getColumn(this._transform,2);return[-a[0],-a[1],-a[2]]}up(){const a=n.getColumn(this._transform,1);return[-a[0],-a[1],-a[2]]}right(){const a=n.getColumn(this._transform,0);return[a[0],a[1],a[2]]}getCameraToWorld(a,u){const x=new Float64Array(16);return n.invert(x,this.getWorldToCamera(a,u)),x}getWorldToCameraPosition(a,u,x){const D=this.position;n.scale$2(D,D,-a);const z=new Float64Array(16);return n.fromScaling(z,[x,x,x]),n.translate(z,z,D),z[10]*=u,z}getWorldToCamera(a,u){const x=new Float64Array(16),D=new Float64Array(4),z=this.position;return n.conjugate(D,this._orientation),n.scale$2(z,z,-a),n.fromQuat(x,D),n.translate(x,x,z),x[1]*=-1,x[5]*=-1,x[9]*=-1,x[13]*=-1,x[8]*=u,x[9]*=u,x[10]*=u,x[11]*=u,x}getCameraToClipPerspective(a,u,x,D){const z=new Float64Array(16);return n.perspective(z,a,u,x,D),z}getDistanceToElevation(a,u=!1){const x=a===0?0:n.mercatorZfromAltitude(a,u?n.latFromMercatorY(this.position[1]):this.position[1]),D=this.forward();return(x-this.position[2])/D[2]}clone(){return new we([...this.position],[...this.orientation])}}function je(_,a){const u=yi(_.projection,_.zoom,_.width,_.height),x=function(z,ne,he,pe,ke){const Me=new n.LngLat(he.lng-180*dn,he.lat),Ne=new n.LngLat(he.lng+180*dn,he.lat),qe=z.project(Me.lng,Me.lat),st=z.project(Ne.lng,Ne.lat),rt=-Math.atan2(st.y-qe.y,st.x-qe.x),ht=n.MercatorCoordinate.fromLngLat(he);ht.y=n.clamp(ht.y,-.999975,.999975);const Ze=ht.toLngLat(),Qe=z.project(Ze.lng,Ze.lat),ut=n.MercatorCoordinate.fromLngLat(Ze);ut.x+=dn;const ot=ut.toLngLat(),vt=z.project(ot.lng,ot.lat),Mt=Pr(vt.x-Qe.x,vt.y-Qe.y,rt),bt=n.MercatorCoordinate.fromLngLat(Ze);bt.y+=dn;const Ot=bt.toLngLat(),Zt=z.project(Ot.lng,Ot.lat),qt=Pr(Zt.x-Qe.x,Zt.y-Qe.y,rt),Nt=Math.abs(Mt.x)/Math.abs(qt.y),xi=n.identity([]);n.rotateZ(xi,xi,-rt*(1-(ke?0:pe)));const Ht=n.identity([]);return n.scale(Ht,Ht,[1,1-(1-Nt)*pe,1]),Ht[4]=-qt.x/qt.y*pe,n.rotateZ(Ht,Ht,rt),n.multiply(Ht,xi,Ht),Ht}(_.projection,0,_.center,u,a),D=yt(_);return n.scale(x,x,[D,D,1]),x}function yt(_){const a=_.projection,u=yi(_.projection,_.zoom,_.width,_.height),x=ns(a,_.center),D=ns(a,n.LngLat.convert(a.center));return Math.pow(2,x*u+(1-u)*D)}function yi(_,a,u,x,D=1/0){const z=_.range;if(!z)return 0;const ne=Math.min(D,Math.max(u,x)),he=Math.log(ne/1024)/Math.LN2;return n.smoothstep(z[0]+he,z[1]+he,a)}const dn=1/4e4;function ns(_,a){const u=n.clamp(a.lat,-n.MAX_MERCATOR_LATITUDE,n.MAX_MERCATOR_LATITUDE),x=new n.LngLat(a.lng-180*dn,u),D=new n.LngLat(a.lng+180*dn,u),z=_.project(x.lng,u),ne=_.project(D.lng,u),he=n.MercatorCoordinate.fromLngLat(x),pe=n.MercatorCoordinate.fromLngLat(D),ke=ne.x-z.x,Me=ne.y-z.y,Ne=pe.x-he.x,qe=pe.y-he.y,st=Math.sqrt((Ne*Ne+qe*qe)/(ke*ke+Me*Me));return Math.log(st)/Math.LN2}function Pr(_,a,u){const x=Math.cos(u),D=Math.sin(u);return{x:_*x-a*D,y:_*D+a*x}}class fr{constructor(a,u,x,D,z,ne,he){this.tileSize=512,this._renderWorldCopies=z===void 0||z,this._minZoom=a||0,this._maxZoom=u||22,this._minPitch=x??0,this._maxPitch=D??60,this.setProjection(ne),this.setMaxBounds(he),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Mn,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new we,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const a=new fr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return a._elevation=this._elevation,a._centerAltitude=this._centerAltitude,a._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,a.tileSize=this.tileSize,a.mercatorFromTransition=this.mercatorFromTransition,a.width=this.width,a.height=this.height,a.cameraElevationReference=this.cameraElevationReference,a._center=this._center,a._setZoom(this.zoom),a._seaLevelZoom=this._seaLevelZoom,a.angle=this.angle,a._fov=this._fov,a._pitch=this._pitch,a._nearZ=this._nearZ,a._farZ=this._farZ,a._averageElevation=this._averageElevation,a._unmodified=this._unmodified,a._edgeInsets=this._edgeInsets.clone(),a._camera=this._camera.clone(),a._calcMatrices(),a.freezeTileCoverage=this.freezeTileCoverage,a.frustumCorners=this.frustumCorners,a}get elevation(){return this._elevation}set elevation(a){this._elevation!==a&&(this._elevation=a,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(a,u=!1){const x=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||x)&&this._updateCameraOnTerrain(),(a||x)&&this._constrainCamera(u),this._calcMatrices()}getProjection(){return n.pick(this.projection,["name","center","parallels"])}setProjection(a){this.projectionOptions=a||{name:"mercator"};const u=this.projection?this.getProjection():void 0;this.projection=n.getProjection(this.projectionOptions);const x=!S(u,this.getProjection());return x&&this._calcMatrices(),this.mercatorFromTransition=!1,x}setMercatorFromTransition(){const a=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=n.getProjection({name:"mercator"});const u=a!==this.projection.name;return u&&this._calcMatrices(),u}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const a=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(a))}get cameraWorldSize(){const a=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(a))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return n.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new n.pointGeometry(this.width,this.height)}get bearing(){return n.wrap(this.rotation,-180,180)}set bearing(a){this.rotation=a}get rotation(){return-this.angle/Math.PI*180}set rotation(a){const u=-a*Math.PI/180;var x;this.angle!==u&&(this._unmodified=!1,this.angle=u,this._calcMatrices(),this.rotationMatrix=(x=new n.ARRAY_TYPE(4),n.ARRAY_TYPE!=Float32Array&&(x[1]=0,x[2]=0),x[0]=1,x[3]=1,x),function(D,z,ne){var he=z[0],pe=z[1],ke=z[2],Me=z[3],Ne=Math.sin(ne),qe=Math.cos(ne);D[0]=he*qe+ke*Ne,D[1]=pe*qe+Me*Ne,D[2]=he*-Ne+ke*qe,D[3]=pe*-Ne+Me*qe}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){const u=n.clamp(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==u&&(this._unmodified=!1,this._pitch=u,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const a=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/a)}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=n.degToRad(a),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(a){this._averageElevation=a,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(a){const u=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==u&&(this._unmodified=!1,this._setZoom(u),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(a){this._zoom=a,this.scale=this.zoomScale(a),this.tileZoom=Math.floor(a),this.zoomFraction=a-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const a=this._elevation;this._centerAltitude=a.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=a.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const a=this._elevation,u=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],x=this.horizonLineFromTop();let D=0,z=0;for(let ne=0;ne<u.length;ne++){const he=new n.pointGeometry(u[ne][0]*this.width,x+u[ne][1]*(this.height-x)),pe=a.pointCoordinate(he);if(!pe)continue;const ke=1/Math.hypot(pe[0]-this._camera.position[0],pe[1]-this._camera.position[1]);D+=pe[3]*ke,z+=ke}return z===0?NaN:D/z}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const a=this._seaLevelZoom,u=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),x=this.pixelsPerMeter/this.worldSize*u,D=this._mercatorZfromZoom(a),z=this._mercatorZfromZoom(this._maxZoom),ne=Math.max(D-x,z);this._setZoom(this._zoomFromMercatorZ(ne))}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}computeZoomRelativeTo(a){const u=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,a.toAltitude()));let x;x=a.z<this._camera.position[2]?[u.x,u.y,u.z]:[a.x,a.y,a.z];const D=n.length(n.sub([],this._camera.position,x));return n.clamp(this._zoomFromMercatorZ(D),this._minZoom,this._maxZoom)}setFreeCameraOptions(a){if(!this.height||!a.position&&!a.orientation)return;this._updateCameraState();let u=!1;if(a.orientation&&!n.exactEquals(a.orientation,this._camera.orientation)&&(u=this._setCameraOrientation(a.orientation)),a.position){const x=[a.position.x,a.position.y,a.position.z];n.exactEquals$1(x,this._camera.position)||(this._setCameraPosition(x),u=!0)}u&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const a=this._camera.position,u=new _e;return u.position=new n.MercatorCoordinate(a[0],a[1],a[2]),u.orientation=this._camera.orientation,u._elevation=this.elevation,u._renderWorldCopies=this.renderWorldCopies,u}_setCameraOrientation(a){if(!n.length$1(a))return!1;n.normalize$1(a,a);const u=n.transformQuat([],[0,0,-1],a),x=n.transformQuat([],[0,-1,0],a);if(x[2]<0)return!1;const D=yn(u,x);return!!D&&(this._camera.orientation=D,!0)}_setCameraPosition(a){const u=this.zoomScale(this.minZoom)*this.tileSize,x=this.zoomScale(this.maxZoom)*this.tileSize,D=this.cameraToCenterDistance;a[2]=n.clamp(a[2],D/x,D/u),this._camera.position=a}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,u,x){this._unmodified=!1,this._edgeInsets.interpolate(a,u,x),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){const u=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,u)}getVisibleUnwrappedCoordinates(a){const u=[new n.UnwrappedTileID(0,a)];if(this.renderWorldCopies){const x=this.pointCoordinate(new n.pointGeometry(0,0)),D=this.pointCoordinate(new n.pointGeometry(this.width,0)),z=this.pointCoordinate(new n.pointGeometry(this.width,this.height)),ne=this.pointCoordinate(new n.pointGeometry(0,this.height)),he=Math.floor(Math.min(x.x,D.x,z.x,ne.x)),pe=Math.floor(Math.max(x.x,D.x,z.x,ne.x)),ke=1;for(let Me=he-ke;Me<=pe+ke;Me++)Me!==0&&u.push(new n.UnwrappedTileID(Me,a))}return u}coveringTiles(a){let u=this.coveringZoomLevel(a);const x=u,D=this.elevation&&!a.isTerrainDEM,z=this.projection.name==="mercator";if(a.minzoom!==void 0&&u<a.minzoom)return[];a.maxzoom!==void 0&&u>a.maxzoom&&(u=a.maxzoom);const ne=this.locationCoordinate(this.center),he=this.center.lat,pe=1<<u,ke=[pe*ne.x,pe*ne.y,0],Me=this.projection.name==="globe",Ne=!Me,qe=n.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,u,Ne),st=Me?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),rt=pe*n.mercatorZfromAltitude(1,this.center.lat),ht=this._camera.position[2]/n.mercatorZfromAltitude(1,this.center.lat),Ze=[pe*st.x,pe*st.y,ht*(Ne?1:rt)],Qe=this.cameraToCenterDistance/a.tileSize*(a.roundZoom?1:.502),ut=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?u:0,ot=a.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,vt=a.isTerrainDEM?-ot:this._elevation?this._elevation.getMinElevationBelowMSL():0,Mt=this.projection.isReprojectedInTileSpace?yt(this):1,bt=ei=>{const Di=new n.MercatorCoordinate(ei.x+25e-6,ei.y,ei.z),jt=new n.MercatorCoordinate(ei.x,ei.y+25e-6,ei.z),Kt=ei.toLngLat(),sn=Di.toLngLat(),un=jt.toLngLat(),rn=this.locationCoordinate(Kt),Cn=this.locationCoordinate(sn),Hn=this.locationCoordinate(un),mn=Math.hypot(Cn.x-rn.x,Cn.y-rn.y),Zi=Math.hypot(Hn.x-rn.x,Hn.y-rn.y);return Math.sqrt(mn*Zi)*Mt/25e-6},Ot=ei=>{const gi=ot,Di=vt;return{aabb:n.tileAABB(this,pe,0,0,0,ei,Di,gi,this.projection),zoom:0,x:0,y:0,minZ:Di,maxZ:gi,wrap:ei,fullyVisible:!1}},Zt=[];let qt=[];const Nt=u,xi=a.reparseOverscaled?x:u,Ht=ei=>ei*ei,ci=Ht((ht-this._centerAltitude)*rt),Jt=ei=>{if(!this._elevation||!ei.tileID||!z)return;const gi=this._elevation.getMinMaxForTile(ei.tileID),Di=ei.aabb;gi?(Di.min[2]=gi.min,Di.max[2]=gi.max,Di.center[2]=(Di.min[2]+Di.max[2])/2):(ei.shouldSplit=Ai(ei),ei.shouldSplit||(Di.min[2]=Di.max[2]=Di.center[2]=this._centerAltitude))},Ai=ei=>{if(ei.zoom<ut)return!0;if(ei.zoom===Nt)return!1;if(ei.shouldSplit!=null)return ei.shouldSplit;const gi=ei.aabb.distanceX(Ze),Di=ei.aabb.distanceY(Ze);let jt=ci,Kt=1;if(Me){jt=Ht(ei.aabb.distanceZ(Ze));const rn=Math.pow(2,ei.zoom),Cn=n.latFromMercatorY((ei.y+1)/rn),Hn=n.latFromMercatorY(ei.y/rn),mn=Math.min(Math.max(he,Cn),Hn),Zi=n.circumferenceAtLatitude(mn)/n.circumferenceAtLatitude(he);if(Kt=mn===he?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Zi/this._mercatorScaleRatio),this.zoom<=n.GLOBE_ZOOM_THRESHOLD_MIN&&ei.zoom===Nt-1&&Zi>=.9)return!0}else if(D&&(jt=Ht(ei.aabb.distanceZ(Ze)*rt)),this.projection.isReprojectedInTileSpace&&x<=5){const rn=Math.pow(2,ei.zoom),Cn=bt(new n.MercatorCoordinate((ei.x+.5)/rn,(ei.y+.5)/rn));Kt=Cn>.85?1:Cn}const sn=gi*gi+Di*Di+jt,un=Ht((1<<Nt-ei.zoom)*Qe*Kt*((rn,Cn)=>{if(Cn*Ht(.707)<rn)return 1;const Hn=Math.sqrt(Cn/rn);return Hn/(1.4144271570014144+(Math.pow(1.1,Hn-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(jt,ci),sn));return sn<un};if(this.renderWorldCopies)for(let ei=1;ei<=3;ei++)Zt.push(Ot(-ei)),Zt.push(Ot(ei));for(Zt.push(Ot(0));Zt.length>0;){const ei=Zt.pop(),gi=ei.x,Di=ei.y;let jt=ei.fullyVisible;if(!jt){const Kt=ei.aabb.intersects(qe);if(Kt===0)continue;jt=Kt===2}if(ei.zoom!==Nt&&Ai(ei))for(let Kt=0;Kt<4;Kt++){const sn=(gi<<1)+Kt%2,un=(Di<<1)+(Kt>>1),rn={aabb:z?ei.aabb.quadrant(Kt):n.tileAABB(this,pe,ei.zoom+1,sn,un,ei.wrap,ei.minZ,ei.maxZ,this.projection),zoom:ei.zoom+1,x:sn,y:un,wrap:ei.wrap,fullyVisible:jt,tileID:void 0,shouldSplit:void 0,minZ:ei.minZ,maxZ:ei.maxZ};D&&!Me&&(rn.tileID=new n.OverscaledTileID(ei.zoom+1===Nt?xi:ei.zoom+1,ei.wrap,ei.zoom+1,sn,un),Jt(rn)),Zt.push(rn)}else{const Kt=ei.zoom===Nt?xi:ei.zoom;if(a.minzoom&&a.minzoom>Kt)continue;const sn=ke[0]-(.5+gi+(ei.wrap<<ei.zoom))*(1<<u-ei.zoom),un=ke[1]-.5-Di,rn=ei.tileID?ei.tileID:new n.OverscaledTileID(Kt,ei.wrap,ei.zoom,gi,Di);qt.push({tileID:rn,distanceSq:sn*sn+un*un})}}if(this.fogCullDistSq){const ei=this.fogCullDistSq,gi=this.horizonLineFromTop();qt=qt.filter(Di=>{const jt=[0,0,0,1],Kt=[n.EXTENT,n.EXTENT,0,1],sn=this.calculateFogTileMatrix(Di.tileID.toUnwrapped());n.transformMat4$1(jt,jt,sn),n.transformMat4$1(Kt,Kt,sn);const un=n.getAABBPointSquareDist(jt,Kt);if(un===0)return!0;let rn=!1;const Cn=this._elevation;if(Cn&&un>ei&&gi!==0){const Hn=this.calculateProjMatrix(Di.tileID.toUnwrapped());let mn;a.isTerrainDEM||(mn=Cn.getMinMaxForTile(Di.tileID)),mn||(mn={min:vt,max:ot});const Zi=n.furthestTileCorner(this.rotation),zs=[Zi[0]*n.EXTENT,Zi[1]*n.EXTENT,mn.max];n.transformMat4(zs,zs,Hn),rn=(1-zs[1])*this.height*.5<gi}return un<ei||rn})}return qt.sort((ei,gi)=>ei.distanceSq-gi.distanceSq).map(ei=>ei.tileID)}resize(a,u){this.width=a,this.height=u,this.pixelsToGLUnits=[2/a,-2/u],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){const u=n.clamp(a.lat,-n.MAX_MERCATOR_LATITUDE,n.MAX_MERCATOR_LATITUDE),x=this.projection.project(a.lng,u);return new n.pointGeometry(x.x*this.worldSize,x.y*this.worldSize)}unproject(a){return this.projection.unproject(a.x/this.worldSize,a.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(a,u){let x,D;const z=this.centerPoint;if(this.projection.name==="globe"){const he=this.worldSize;x=(u.x-z.x)/he,D=(u.y-z.y)/he}else{const he=this.pointCoordinate(u),pe=this.pointCoordinate(z);x=he.x-pe.x,D=he.y-pe.y}const ne=this.locationCoordinate(a);this.setLocation(new n.MercatorCoordinate(ne.x-x,ne.y-D))}setLocation(a){this.center=this.coordinateLocation(a),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(a){return this.projection.locationPoint(this,a)}locationPoint3D(a){return this.projection.locationPoint(this,a,!0)}pointLocation(a){return this.coordinateLocation(this.pointCoordinate(a))}pointLocation3D(a){return this.coordinateLocation(this.pointCoordinate3D(a))}locationCoordinate(a,u){const x=u?n.mercatorZfromAltitude(u,a.lat):void 0,D=this.projection.project(a.lng,a.lat);return new n.MercatorCoordinate(D.x,D.y,x)}coordinateLocation(a){return this.projection.unproject(a.x,a.y)}pointRayIntersection(a,u){const x=u??this._centerAltitude,D=[a.x,a.y,0,1],z=[a.x,a.y,1,1];n.transformMat4$1(D,D,this.pixelMatrixInverse),n.transformMat4$1(z,z,this.pixelMatrixInverse);const ne=z[3];n.scale$1(D,D,1/D[3]),n.scale$1(z,z,1/ne);const he=D[2],pe=z[2];return{p0:D,p1:z,t:he===pe?0:(x-he)/(pe-he)}}screenPointToMercatorRay(a){const u=[a.x,a.y,0,1],x=[a.x,a.y,1,1];return n.transformMat4$1(u,u,this.pixelMatrixInverse),n.transformMat4$1(x,x,this.pixelMatrixInverse),n.scale$1(u,u,1/u[3]),n.scale$1(x,x,1/x[3]),u[2]=n.mercatorZfromAltitude(u[2],this._center.lat)*this.worldSize,x[2]=n.mercatorZfromAltitude(x[2],this._center.lat)*this.worldSize,n.scale$1(u,u,1/this.worldSize),n.scale$1(x,x,1/this.worldSize),new n.Ray([u[0],u[1],u[2]],n.normalize([],n.sub([],x,u)))}rayIntersectionCoordinate(a){const{p0:u,p1:x,t:D}=a,z=n.mercatorZfromAltitude(u[2],this._center.lat),ne=n.mercatorZfromAltitude(x[2],this._center.lat);return new n.MercatorCoordinate(n.number(u[0],x[0],D)/this.worldSize,n.number(u[1],x[1],D)/this.worldSize,n.number(z,ne,D))}pointCoordinate(a,u=this._centerAltitude){return this.projection.pointCoordinate(this,a.x,a.y,u)}pointCoordinate3D(a){if(!this.elevation)return this.pointCoordinate(a);let u=this.projection.pointCoordinate3D(this,a.x,a.y);if(u)return new n.MercatorCoordinate(u[0],u[1],u[2]);let x=0,D=this.horizonLineFromTop();if(a.y>D)return this.pointCoordinate(a);const z=.02*D,ne=a.clone();for(let he=0;he<10&&D-x>z;he++){ne.y=n.number(x,D,.66);const pe=this.projection.pointCoordinate3D(this,ne.x,ne.y);pe?(D=ne.y,u=pe):x=ne.y}return u?new n.MercatorCoordinate(u[0],u[1],u[2]):this.pointCoordinate(a)}isPointAboveHorizon(a){return this.projection.isPointAboveHorizon(this,a)}_coordinatePoint(a,u){const x=u&&this.elevation?this.elevation.getAtPointOrZero(a,this._centerAltitude):this._centerAltitude,D=[a.x*this.worldSize,a.y*this.worldSize,x+a.toAltitude(),1];return n.transformMat4$1(D,D,this.pixelMatrix),D[3]>0?new n.pointGeometry(D[0]/D[3],D[1]/D[3]):new n.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:a,left:u}=this._edgeInsets,x=this.height-this._edgeInsets.bottom,D=this.width-this._edgeInsets.right,z=this.pointCoordinate3D(new n.pointGeometry(u,a)),ne=this.pointCoordinate3D(new n.pointGeometry(D,a)),he=this.pointCoordinate3D(new n.pointGeometry(D,x)),pe=this.pointCoordinate3D(new n.pointGeometry(u,x));let ke=Math.min(z.x,pe.x),Me=Math.max(ne.x,he.x),Ne=Math.min(z.y,ne.y),qe=Math.max(pe.y,he.y);const st=Math.pow(2,-this.zoom)/16,rt=(bt,Ot,Zt,qt)=>{const Nt=(bt+Zt)/2,xi=(Ot+qt)/2,Ht=new n.pointGeometry(Nt,xi),ci=this.pointCoordinate3D(Ht),Jt=Math.max(0,ke-ci.x,Ne-ci.y,ci.x-Me,ci.y-qe);ke=Math.min(ke,ci.x),Me=Math.max(Me,ci.x),Ne=Math.min(Ne,ci.y),qe=Math.max(qe,ci.y),Jt>st&&(rt(bt,Ot,Nt,xi),rt(Nt,xi,Zt,qt))};rt(u,a,D,a),rt(D,a,D,x),rt(D,x,u,x),rt(u,x,u,a);const[ht,Ze]=n.polesInViewport(this),Qe=ht||Ze,ut=ht?90:n.latFromMercatorY(Ne),ot=Qe?180:n.lngFromMercatorX(Me),vt=Ze?-90:n.latFromMercatorY(qe),Mt=Qe?-180:n.lngFromMercatorX(ke);return new n.LngLatBounds(new n.LngLat(Mt,vt),new n.LngLat(ot,ut))}_getBounds(a,u){if(this.projection.name==="globe")return this._getGlobeBounds();const x=new n.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),D=new n.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),z=new n.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),ne=new n.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let he=this.pointCoordinate(x,a),pe=this.pointCoordinate(D,a);const ke=this.pointCoordinate(z,u),Me=this.pointCoordinate(ne,u),Ne=(qe,st)=>(st.y-qe.y)/(st.x-qe.x);return he.y>1&&pe.y>=0?he=new n.MercatorCoordinate((1-Me.y)/Ne(Me,he)+Me.x,1):he.y<0&&pe.y<=1&&(he=new n.MercatorCoordinate(-Me.y/Ne(Me,he)+Me.x,0)),pe.y>1&&he.y>=0?pe=new n.MercatorCoordinate((1-ke.y)/Ne(ke,pe)+ke.x,1):pe.y<0&&he.y<=1&&(pe=new n.MercatorCoordinate(-ke.y/Ne(ke,pe)+ke.x,0)),new n.LngLatBounds().extend(this.coordinateLocation(he)).extend(this.coordinateLocation(pe)).extend(this.coordinateLocation(Me)).extend(this.coordinateLocation(ke))}_getBounds3D(){const a=this.elevation;if(!a.visibleDemTiles.length||a.isUsingMockSource())return this._getBounds(0,0);const u=a.visibleDemTiles.reduce((x,D)=>{if(D.dem){const z=D.dem.tree;x.min=Math.min(x.min,z.minimums[0]),x.max=Math.max(x.max,z.maximums[0])}return x},{min:Number.MAX_VALUE,max:0});return this._getBounds(u.min*a.exaggeration(),u.max*a.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(a=!0){const u=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,x=this.height/2-u*(1-this._horizonShift);return a?Math.max(0,x):x}getMaxBounds(){return this.maxBounds}setMaxBounds(a){this.maxBounds=a,this.minLat=-n.MAX_MERCATOR_LATITUDE,this.maxLat=n.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,a&&(this.minLat=a.getSouth(),this.maxLat=a.getNorth(),this.minLng=a.getWest(),this.maxLng=a.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=n.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=n.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=n.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=n.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(a,u){return this.projection.createTileMatrix(this,u,a)}calculateDistanceTileData(a){const u=a.key,x=this._distanceTileDataCache;if(x[u])return x[u];const D=a.canonical,z=1/this.height,ne=this.cameraWorldSize,he=ne/this.zoomScale(D.z),pe=(D.x+Math.pow(2,D.z)*a.wrap)*he,ke=D.y*he,Me=this.point;Me.x*=ne/this.worldSize,Me.y*=ne/this.worldSize;const Ne=this.angle,qe=Math.sin(-Ne),st=-Math.cos(-Ne);return x[u]={bearing:[qe,st],center:[(Me.x-pe)*z,(Me.y-ke)*z],scale:he/n.EXTENT*z},x[u]}calculateFogTileMatrix(a){const u=a.key,x=this._fogTileMatrixCache;if(x[u])return x[u];const D=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,a);return n.multiply(D,this.worldToFogMatrix,D),x[u]=new Float32Array(D),x[u]}calculateProjMatrix(a,u=!1){const x=a.key,D=u?this._alignedProjMatrixCache:this._projMatrixCache;if(D[x])return D[x];const z=this.calculatePosMatrix(a,this.worldSize);return n.multiply(z,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:u?this.alignedProjMatrix:this.projMatrix,z),D[x]=new Float32Array(z),D[x]}calculatePixelsToTileUnitsMatrix(a){const u=a.tileID.key,x=this._pixelsToTileUnitsCache;if(x[u])return x[u];const D=function(z,ne){const{scale:he}=z.tileTransform,pe=he*n.EXTENT/(z.tileSize*Math.pow(2,ne.zoom-z.tileID.overscaledZ+z.tileID.canonical.z));return ke=new Float32Array(4),qe=(Me=ne.inverseAdjustmentMatrix)[1],st=Me[2],rt=Me[3],Ze=(Ne=[pe,pe])[1],ke[0]=Me[0]*(ht=Ne[0]),ke[1]=qe*ht,ke[2]=st*Ze,ke[3]=rt*Ze,ke;var ke,Me,Ne,qe,st,rt,ht,Ze}(a,this);return x[u]=D,x[u]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const a=this._elevation;this._updateCameraState();const u=n.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,x=this._computeCameraPosition(u),D=this._camera.forward(),z=n.mercatorZfromAltitude(1,this._center.lat);x[2]/=z,D[2]/=z,n.normalize(D,D);const ne=a.raycast(x,D,a.exaggeration());if(ne){const he=n.scaleAndAdd([],x,D,ne),pe=new n.MercatorCoordinate(he[0],he[1],n.mercatorZfromAltitude(he[2],n.latFromMercatorY(he[1]))),ke=(pe.z+n.length([pe.x-x[0],pe.y-x[1],pe.z-x[2]*z]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(ke),this._centerAltitude=pe.toAltitude(),this._center=this.coordinateLocation(pe),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(a=!1){if(!this._elevation)return;const u=this._elevation,x=n.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,D=this._computeCameraPosition(x),z=u.getAtPointOrZero(new n.MercatorCoordinate(...D)),ne=this.pixelsPerMeter/this.worldSize*z,he=this._minimumHeightOverTerrain(),pe=D[2]-ne;if(pe<=he)if(pe<0||a){const ke=this.locationCoordinate(this._center,this._centerAltitude),Me=[D[0],D[1],ke.z-D[2]],Ne=n.length(Me);Me[2]-=(he-pe)/this._pixelsPerMercatorPixel;const qe=n.length(Me);if(qe===0)return;n.scale$2(Me,Me,Ne/qe*this._pixelsPerMercatorPixel),this._camera.position=[D[0],D[1],ke.z*this._pixelsPerMercatorPixel-Me[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const a=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||a){const qe=this.center;return qe.lat=n.clamp(qe.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!a)&&(qe.lng=n.clamp(qe.lng,this.minLng,this.maxLng)),this.center=qe,void(this._constraining=!1)}const u=this._unmodified,{x,y:D}=this.point;let z=0,ne=x,he=D;const pe=this.width/2,ke=this.height/2,Me=this.worldMinY*this.scale,Ne=this.worldMaxY*this.scale;if(D-ke<Me&&(he=Me+ke),D+ke>Ne&&(he=Ne-ke),Ne-Me<this.height&&(z=Math.max(z,this.height/(Ne-Me)),he=(Ne+Me)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const qe=this.worldMinX*this.scale,st=this.worldMaxX*this.scale,rt=this.worldSize/2-(qe+st)/2;ne=(x+rt+this.worldSize)%this.worldSize-rt,ne-pe<qe&&(ne=qe+pe),ne+pe>st&&(ne=st-pe),st-qe<this.width&&(z=Math.max(z,this.width/(st-qe)),ne=(st+qe)/2)}ne===x&&he===D||(this.center=this.unproject(new n.pointGeometry(ne,he))),z&&(this.zoom+=this.scaleZoom(z)),this._constrainCamera(),this._unmodified=u,this._constraining=!1}_minZoomForBounds(){let a=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(a=Math.max(a,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),a}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const a=this.centerOffset,u=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=n.mercatorZfromAltitude(1,this.center.lat)/n.mercatorZfromAltitude(1,n.GLOBE_SCALE_MATCH_LATITUDE));const x=yi(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,x),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const D=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?u:1),z=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);z[8]=2*-a.x/this.width,z[9]=2*a.y/this.height;let ne=n.mul([],z,D);if(this.projection.isReprojectedInTileSpace){const Mt=this.locationCoordinate(this.center),bt=n.identity([]);n.translate(bt,bt,[Mt.x*this.worldSize,Mt.y*this.worldSize,0]),n.multiply(bt,bt,je(this)),n.translate(bt,bt,[-Mt.x*this.worldSize,-Mt.y*this.worldSize,0]),n.multiply(ne,ne,bt),this.inverseAdjustmentMatrix=function(Ot){const Zt=je(Ot,!0);return N([],[Zt[0],Zt[1],Zt[4],Zt[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=n.scale([],ne,[this.worldSize,this.worldSize,this.worldSize/u,1]),this.projMatrix=ne,this.invProjMatrix=n.invert(new Float64Array(16),this.projMatrix);const he=n.invert([],z);this.frustumCorners=n.FrustumCorners.fromInvProjectionMatrix(he,this.horizonLineFromTop(),this.height);const pe=new Float32Array(16);n.identity(pe),n.scale(pe,pe,[1,-1,1]),n.rotateX(pe,pe,this._pitch),n.rotateZ(pe,pe,this.angle);const ke=n.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),Me=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;ke[8]=2*-a.x/this.width,ke[9]=2*(a.y+Me)/this.height,this.skyboxMatrix=n.multiply(pe,ke,pe);const Ne=this.point,qe=Ne.x,st=Ne.y,rt=this.width%2/2,ht=this.height%2/2,Ze=Math.cos(this.angle),Qe=Math.sin(this.angle),ut=qe-Math.round(qe)+Ze*rt+Qe*ht,ot=st-Math.round(st)+Ze*ht+Qe*rt,vt=new Float64Array(ne);if(n.translate(vt,vt,[ut>.5?ut-1:ut,ot>.5?ot-1:ot,0]),this.alignedProjMatrix=vt,ne=n.create(),n.scale(ne,ne,[this.width/2,-this.height/2,1]),n.translate(ne,ne,[1,-1,0]),this.labelPlaneMatrix=ne,ne=n.create(),n.scale(ne,ne,[1,-1,1]),n.translate(ne,ne,[-1,-1,0]),n.scale(ne,ne,[2/this.width,2/this.height,1]),this.glCoordMatrix=ne,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},ne=n.invert(new Float64Array(16),this.pixelMatrix),!ne)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=ne,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=n.calculateGlobeMatrix(this);const Mt=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=n.transformMat4(Mt,Mt,D),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=ne;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const a=this.cameraWorldSizeForFog,u=this.cameraPixelsPerMeter,x=this._camera.position,D=1/this.height/this._pixelsPerMercatorPixel,z=[a,a,u];n.scale$2(z,z,D),n.scale$2(x,x,-1),n.multiply$2(x,x,z);const ne=n.create();n.translate(ne,ne,x),n.scale(ne,ne,z),this.mercatorFogMatrix=ne,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(a,u,D)}_computeCameraPosition(a){const u=(a=a||this.pixelsPerMeter)/this.pixelsPerMeter,x=this._camera.forward(),D=this.point,z=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*u-a/this.worldSize*this._centerAltitude;return[D.x/this.worldSize-x[0]*z,D.y/this.worldSize-x[1]*z,a/this.worldSize*this._centerAltitude-x[2]*z]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(a){const u=this._maxCameraBoundsDistance()*Math.cos(this._pitch),x=this._camera.position[2],D=a[2];let z=1;this.projection.wrap&&(this.center=this.center.wrap()),D>0&&(z=Math.min((u-x)/D,1)),this._camera.position=n.scaleAndAdd([],this._camera.position,a,z),this._updateStateFromCamera()}_updateStateFromCamera(){const a=this._camera.position,u=this._camera.forward(),{pitch:x,bearing:D}=this._camera.getPitchBearing(),z=n.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,ne=this._mercatorZfromZoom(this._maxZoom)*Math.cos(n.degToRad(this._maxPitch)),he=Math.max((a[2]-z)/Math.cos(x),ne),pe=this._zoomFromMercatorZ(he);n.scaleAndAdd(a,a,u,he),this._pitch=n.clamp(x,n.degToRad(this.minPitch),n.degToRad(this.maxPitch)),this.angle=n.wrap(D,-Math.PI,Math.PI),this._setZoom(n.clamp(pe,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new n.MercatorCoordinate(a[0],a[1],a[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(a){return Math.pow(2,a)*this.tileSize}_mercatorZfromZoom(a){return this.cameraToCenterDistance/this._worldSizeFromZoom(a)}_minimumHeightOverTerrain(){const a=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(a)}_zoomFromMercatorZ(a){return this.scaleZoom(this.cameraToCenterDistance/(a*this.tileSize))}zoomFromMercatorZAdjusted(a){const u=ne=>{const he=this.getCameraToCenterDistance(this.projection,ne);return this.scaleZoom(he/(a*this.tileSize))};let x,D=u(this.zoom),z=Math.abs(D-u(D));for(;x!==z;)D=u(D),x=z,z=Math.abs(D-u(D));return D}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(n.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(a,u){const x=Math.min(a.x,u.x),D=Math.max(a.x,u.x),z=Math.min(a.y,u.y),ne=Math.max(a.y,u.y);if(z<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const he=[new n.pointGeometry(x,z),new n.pointGeometry(D,ne),new n.pointGeometry(x,ne),new n.pointGeometry(D,z)],pe=this.renderWorldCopies?-3:0,ke=this.renderWorldCopies?4:1;for(const Me of he){const Ne=this.pointRayIntersection(Me);if(Ne.t<0)return!0;const qe=this.rayIntersectionCoordinate(Ne);if(qe.x<pe||qe.y<0||qe.x>ke||qe.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+n.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new n.pointGeometry(0,0),new n.pointGeometry(this.width,this.height))}zoomDeltaToMovement(a,u){const x=n.length(n.sub([],this._camera.position,a)),D=this._zoomFromMercatorZ(x)+u;return x-this._mercatorZfromZoom(D)}getCameraPoint(){if(this.projection.name==="globe"){const a=function([u,x,D],z){const ne=[u,x,D,1];n.transformMat4$1(ne,ne,z);const he=ne[3]=Math.max(ne[3],1e-6);return ne[0]/=he,ne[1]/=he,ne[2]/=he,ne}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new n.pointGeometry(a[0],a[1])}{const a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.pointGeometry(0,a))}}getCameraToCenterDistance(a,u=this.zoom){const x=yi(a,u,this.width,this.height,1024),D=a.pixelSpaceConversion(this.center.lat,this.worldSize,x);return .5/Math.tan(.5*this._fov)*this.height*D}getWorldToCameraMatrix(){const a=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&n.multiply(a,a,this.globeMatrix),a}}function Ua(_,a){let u=!1,x=null;const D=()=>{x=null,u&&(_(),x=setTimeout(D,a),u=!1)};return()=>(u=!0,x||D(),x)}class Wi{constructor(a){this._hashName=a&&encodeURIComponent(a),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ua(this._updateHashUnthrottled.bind(this),300)}addTo(a){return this._map=a,n.window.addEventListener("hashchange",this._onHashChange,!1),a.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),n.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const a=this._map;if(!a)return"";const u=Ga(a);if(this._hashName){const x=this._hashName;let D=!1;const z=n.window.location.hash.slice(1).split("&").map(ne=>{const he=ne.split("=")[0];return he===x?(D=!0,`${he}=${u}`):ne}).filter(ne=>ne);return D||z.push(`${x}=${u}`),`#${z.join("&")}`}return`#${u}`}_getCurrentHash(){const a=n.window.location.hash.replace("#","");if(this._hashName){let u;return a.split("&").map(x=>x.split("=")).forEach(x=>{x[0]===this._hashName&&(u=x)}),(u&&u[1]||"").split("/")}return a.split("/")}_onHashChange(){const a=this._map;if(!a)return!1;const u=this._getCurrentHash();if(u.length>=3&&!u.some(x=>isNaN(x))){const x=a.dragRotate.isEnabled()&&a.touchZoomRotate.isEnabled()?+(u[3]||0):a.getBearing();return a.jumpTo({center:[+u[2],+u[1]],zoom:+u[0],bearing:x,pitch:+(u[4]||0)}),!0}return!1}_updateHashUnthrottled(){const a=n.window.location.href.replace(/(#.+)?$/,this.getHashString());n.window.history.replaceState(n.window.history.state,null,a)}}function Ga(_,a){const u=_.getCenter(),x=Math.round(100*_.getZoom())/100,D=Math.ceil((x*Math.LN2+Math.log(512/360/.5))/Math.LN10),z=Math.pow(10,D),ne=Math.round(u.lng*z)/z,he=Math.round(u.lat*z)/z,pe=_.getBearing(),ke=_.getPitch();let Me=a?`/${ne}/${he}/${x}`:`${x}/${he}/${ne}`;return(pe||ke)&&(Me+="/"+Math.round(10*pe)/10),ke&&(Me+=`/${Math.round(ke)}`),Me}const jc={linearity:.3,easing:n.bezier(0,0,.3,1)},Sd=n.extend({deceleration:2500,maxSpeed:1400},jc),pu=n.extend({deceleration:20,maxSpeed:1400},jc),$h=n.extend({deceleration:1e3,maxSpeed:360},jc),bp=n.extend({deceleration:1e3,maxSpeed:90},jc);class fu{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.exported.now(),settings:a})}_drainInertiaBuffer(){const a=this._inertiaBuffer,u=n.exported.now();for(;a.length>0&&u-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const u={zoom:0,bearing:0,pitch:0,pan:new n.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:z}of this._inertiaBuffer)u.zoom+=z.zoomDelta||0,u.bearing+=z.bearingDelta||0,u.pitch+=z.pitchDelta||0,z.panDelta&&u.pan._add(z.panDelta),z.around&&(u.around=z.around),z.pinchAround&&(u.pinchAround=z.pinchAround);const x=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,D={};if(u.pan.mag()){const z=mr(u.pan.mag(),x,n.extend({},Sd,a||{}));D.offset=u.pan.mult(z.amount/u.pan.mag()),D.center=this._map.transform.center,Wh(D,z)}if(u.zoom){const z=mr(u.zoom,x,pu);D.zoom=this._map.transform.zoom+z.amount,Wh(D,z)}if(u.bearing){const z=mr(u.bearing,x,$h);D.bearing=this._map.transform.bearing+n.clamp(z.amount,-179,179),Wh(D,z)}if(u.pitch){const z=mr(u.pitch,x,bp);D.pitch=this._map.transform.pitch+z.amount,Wh(D,z)}if(D.zoom||D.bearing){const z=u.pinchAround===void 0?u.around:u.pinchAround;D.around=z?this._map.unproject(z):this._map.getCenter()}return this.clear(),D.noMoveStart=!0,D}}function Wh(_,a){(!_.duration||_.duration<a.duration)&&(_.duration=a.duration,_.easing=a.easing)}function mr(_,a,u){const{maxSpeed:x,linearity:D,deceleration:z}=u,ne=n.clamp(_*D/(a/1e3),-x,x),he=Math.abs(ne)/(z*D);return{easing:u.easing,duration:1e3*he,amount:ne*(he/2)}}class qs extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,u,x,D={}){const z=G(u.getCanvasContainer(),x),ne=u.unproject(z);super(a,n.extend({point:z,lngLat:ne,originalEvent:x},D)),this._defaultPrevented=!1,this.target=u}}class Td extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,u,x){const D=a==="touchend"?x.changedTouches:x.touches,z=C(u.getCanvasContainer(),D),ne=z.map(pe=>u.unproject(pe)),he=z.reduce((pe,ke,Me,Ne)=>pe.add(ke.div(Ne.length)),new n.pointGeometry(0,0));super(a,{points:z,point:he,lngLats:ne,lngLat:u.unproject(he),originalEvent:x}),this._defaultPrevented=!1}}class qh extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,u,x){super(a,{originalEvent:x}),this._defaultPrevented=!1}}class qf{constructor(a,u){this._map=a,this._clickTolerance=u.clickTolerance}reset(){this._mousedownPos=void 0}wheel(a){return this._firePreventable(new qh(a.type,this._map,a))}mousedown(a,u){return this._mousedownPos=u,this._firePreventable(new qs(a.type,this._map,a))}mouseup(a){this._map.fire(new qs(a.type,this._map,a))}preclick(a){const u=n.extend({},a);u.type="preclick",this._map.fire(new qs(u.type,this._map,u))}click(a,u){this._mousedownPos&&this._mousedownPos.dist(u)>=this._clickTolerance||(this.preclick(a),this._map.fire(new qs(a.type,this._map,a)))}dblclick(a){return this._firePreventable(new qs(a.type,this._map,a))}mouseover(a){this._map.fire(new qs(a.type,this._map,a))}mouseout(a){this._map.fire(new qs(a.type,this._map,a))}touchstart(a){return this._firePreventable(new Td(a.type,this._map,a))}touchmove(a){this._map.fire(new Td(a.type,this._map,a))}touchend(a){this._map.fire(new Td(a.type,this._map,a))}touchcancel(a){this._map.fire(new Td(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Lm{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(a){this._map.fire(new qs(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new qs("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._map.fire(new qs(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class mu{constructor(a,u){this._map=a,this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=u.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,u){this.isEnabled()&&a.shiftKey&&a.button===0&&(M(),this._startPos=this._lastPos=u,this._active=!0)}mousemoveWindow(a,u){if(!this._active)return;const x=u,D=this._startPos,z=this._lastPos;if(!D||!z||z.equals(x)||!this._box&&x.dist(D)<this._clickTolerance)return;this._lastPos=x,this._box||(this._box=W("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",a));const ne=Math.min(D.x,x.x),he=Math.max(D.x,x.x),pe=Math.min(D.y,x.y),ke=Math.max(D.y,x.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${ne}px,${pe}px)`,this._box.style.width=he-ne+"px",this._box.style.height=ke-pe+"px")})}mouseupWindow(a,u){if(!this._active)return;const x=this._startPos,D=u;if(x&&a.button===0){if(this.reset(),V(),x.x!==D.x||x.y!==D.y)return this._map.fire(new n.Event("boxzoomend",{originalEvent:a})),{cameraAnimation:z=>z.fitScreenCoordinates(x,D,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",a)}}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),E(),delete this._startPos,delete this._lastPos}_fireEvent(a,u){return this._map.fire(new n.Event(a,{originalEvent:u}))}}function Bl(_,a){const u={};for(let x=0;x<_.length;x++)u[_[x].identifier]=a[x];return u}class Ed{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(a,u,x){(this.centroid||x.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=a.timeStamp),x.length===this.numTouches&&(this.centroid=function(D){const z=new n.pointGeometry(0,0);for(const ne of D)z._add(ne);return z.div(D.length)}(u),this.touches=Bl(x,u)))}touchmove(a,u,x){if(this.aborted||!this.centroid)return;const D=Bl(x,u);for(const z in this.touches){const ne=this.touches[z],he=D[z];(!he||he.dist(ne)>30)&&(this.aborted=!0)}}touchend(a,u,x){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),x.length===0){const D=!this.aborted&&this.centroid;if(this.reset(),D)return D}}}class lc{constructor(a){this.singleTap=new Ed(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(a,u,x){this.singleTap.touchstart(a,u,x)}touchmove(a,u,x){this.singleTap.touchmove(a,u,x)}touchend(a,u,x){const D=this.singleTap.touchend(a,u,x);if(D){const z=a.timeStamp-this.lastTime<500,ne=!this.lastTap||this.lastTap.dist(D)<30;if(z&&ne||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=D,this.count===this.numTaps)return this.reset(),D}}}class Yh{constructor(){this._zoomIn=new lc({numTouches:1,numTaps:2}),this._zoomOut=new lc({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,u,x){this._zoomIn.touchstart(a,u,x),this._zoomOut.touchstart(a,u,x)}touchmove(a,u,x){this._zoomIn.touchmove(a,u,x),this._zoomOut.touchmove(a,u,x)}touchend(a,u,x){const D=this._zoomIn.touchend(a,u,x),z=this._zoomOut.touchend(a,u,x);return D?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ne=>ne.easeTo({duration:300,zoom:ne.getZoom()+1,around:ne.unproject(D)},{originalEvent:a})}):z?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ne=>ne.easeTo({duration:300,zoom:ne.getZoom()-1,around:ne.unproject(z)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Uc={0:1,2:2};class Gc{constructor(a){this.reset(),this._clickTolerance=a.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(a,u){return!1}_move(a,u){return{}}mousedown(a,u){if(this._lastPoint)return;const x=ie(a);this._correctButton(a,x)&&(this._lastPoint=u,this._eventButton=x)}mousemoveWindow(a,u){const x=this._lastPoint;if(x){if(a.preventDefault(),this._eventButton!=null&&function(D,z){const ne=Uc[z];return D.buttons===void 0||(D.buttons&ne)!==ne}(a,this._eventButton))this.reset();else if(this._moved||!(u.dist(x)<this._clickTolerance))return this._moved=!0,this._lastPoint=u,this._move(x,u)}}mouseupWindow(a){this._lastPoint&&ie(a)===this._eventButton&&(this._moved&&V(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class gh extends Gc{mousedown(a,u){super.mousedown(a,u),this._lastPoint&&(this._active=!0)}_correctButton(a,u){return u===0&&!a.ctrlKey}_move(a,u){return{around:u,panDelta:u.sub(a)}}}class wp extends Gc{_correctButton(a,u){return u===0&&a.ctrlKey||u===2}_move(a,u){const x=.8*(u.x-a.x);if(x)return this._active=!0,{bearingDelta:x}}contextmenu(a){a.preventDefault()}}class Sp extends Gc{_correctButton(a,u){return u===0&&a.ctrlKey||u===2}_move(a,u){const x=-.5*(u.y-a.y);if(x)return this._active=!0,{pitchDelta:x}}contextmenu(a){a.preventDefault()}}class Yf{constructor(a,u){this._map=a,this._el=a.getCanvasContainer(),this._minTouches=1,this._clickTolerance=u.clickTolerance||1,this.reset(),n.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new n.pointGeometry(0,0)}touchstart(a,u,x){return this._calculateTransform(a,u,x)}touchmove(a,u,x){if(this._active&&!(x.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(x.length===1&&!n.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return a.cancelable&&a.preventDefault(),this._calculateTransform(a,u,x)}}touchend(a,u,x){this._calculateTransform(a,u,x),this._active&&x.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,u,x){x.length>0&&(this._active=!0);const D=Bl(x,u),z=new n.pointGeometry(0,0),ne=new n.pointGeometry(0,0);let he=0;for(const ke in D){const Me=D[ke],Ne=this._touches[ke];Ne&&(z._add(Me),ne._add(Me.sub(Ne)),he++,D[ke]=Me)}if(this._touches=D,he<this._minTouches||!ne.mag())return;const pe=ne.div(he);return this._sum._add(pe),this._sum.mag()<this._clickTolerance?void 0:{around:z.div(he),panDelta:pe}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=W("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class gu{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(a){}_move(a,u,x){return{}}touchstart(a,u,x){this._firstTwoTouches||x.length<2||(this._firstTwoTouches=[x[0].identifier,x[1].identifier],this._start([u[0],u[1]]))}touchmove(a,u,x){const D=this._firstTwoTouches;if(!D)return;a.preventDefault();const[z,ne]=D,he=cc(x,u,z),pe=cc(x,u,ne);if(!he||!pe)return;const ke=this._aroundCenter?null:he.add(pe).div(2);return this._move([he,pe],ke,a)}touchend(a,u,x){if(!this._firstTwoTouches)return;const[D,z]=this._firstTwoTouches,ne=cc(x,u,D),he=cc(x,u,z);ne&&he||(this._active&&V(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function cc(_,a,u){for(let x=0;x<_.length;x++)if(_[x].identifier===u)return a[x]}function Xh(_,a){return Math.log(_/a)/Math.LN2}class Zh extends gu{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,u){const x=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(Xh(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Xh(this._distance,x),pinchAround:u}}}function Tp(_,a){return 180*_.angleWith(a)/Math.PI}class Je extends gu{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,u){const x=this._vector;if(this._vector=a[0].sub(a[1]),x&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Tp(this._vector,x),pinchAround:u}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());const u=25/(Math.PI*this._minDiameter)*360,x=this._startVector;if(!x)return!1;const D=Tp(a,x);return Math.abs(D)<u}}function hc(_){return Math.abs(_.y)>Math.abs(_.x)}class Cd extends gu{constructor(a){super(),this._map=a}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(a){this._lastPoints=a,hc(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,u,x){const D=this._lastPoints;if(!D)return;const z=a[0].sub(D[0]),ne=a[1].sub(D[1]);return this._map._cooperativeGestures&&!n.isFullscreen()&&x.touches.length<3||(this._valid=this.gestureBeginsVertically(z,ne,x.timeStamp),!this._valid)?void 0:(this._lastPoints=a,this._active=!0,{pitchDelta:(z.y+ne.y)/2*-.5})}gestureBeginsVertically(a,u,x){if(this._valid!==void 0)return this._valid;const D=a.mag()>=2,z=u.mag()>=2;if(!D&&!z)return;if(!D||!z)return this._firstMove==null&&(this._firstMove=x),x-this._firstMove<100&&void 0;const ne=a.y>0==u.y>0;return hc(a)&&hc(u)&&ne}}const Ta={panStep:100,bearingStep:15,pitchStep:10};class Bn{constructor(){const a=Ta;this._panStep=a.panStep,this._bearingStep=a.bearingStep,this._pitchStep=a.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let u=0,x=0,D=0,z=0,ne=0;switch(a.keyCode){case 61:case 107:case 171:case 187:u=1;break;case 189:case 109:case 173:u=-1;break;case 37:a.shiftKey?x=-1:(a.preventDefault(),z=-1);break;case 39:a.shiftKey?x=1:(a.preventDefault(),z=1);break;case 38:a.shiftKey?D=1:(a.preventDefault(),ne=-1);break;case 40:a.shiftKey?D=-1:(a.preventDefault(),ne=1);break;default:return}return this._rotationDisabled&&(x=0,D=0),{cameraAnimation:he=>{const pe=he.getZoom();he.easeTo({duration:300,easeId:"keyboardHandler",easing:Om,zoom:u?Math.round(pe)+u*(a.shiftKey?2:1):pe,bearing:he.getBearing()+x*this._bearingStep,pitch:he.getPitch()+D*this._pitchStep,offset:[-z*this._panStep,-ne*this._panStep],center:he.getCenter()},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Om(_){return _*(2-_)}const Ep=4.000244140625;class Rm{constructor(a,u){this._map=a,this._el=a.getCanvasContainer(),this._handler=u,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,n.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(a){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(a.ctrlKey||a.metaKey||this.isZooming()||n.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let u=a.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY;const x=n.exported.now(),D=x-(this._lastWheelEventTime||0);this._lastWheelEventTime=x,u!==0&&u%Ep==0?this._type="wheel":u!==0&&Math.abs(u)<4?this._type="trackpad":D>400?(this._type=null,this._lastValue=u,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(D*u)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,u+=this._lastValue)),a.shiftKey&&u&&(u/=4),this._type&&(this._lastWheelEvent=a,this._delta-=u,this._active||this._start(a)),a.preventDefault()}_onTimeout(a){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(a)}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const u=G(this._el,a);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:u,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const a=this._map.transform;this._type==="wheel"&&a.projection.wrap&&(a._center.lng>=180||a._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const u=()=>a._terrainEnabled()&&this._aroundCoord?a.computeZoomRelativeTo(this._aroundCoord):a.zoom;if(this._delta!==0){const pe=this._type==="wheel"&&Math.abs(this._delta)>Ep?this._wheelZoomRate:this._defaultZoomRate;let ke=2/(1+Math.exp(-Math.abs(this._delta*pe)));this._delta<0&&ke!==0&&(ke=1/ke);const Me=u(),Ne=Math.pow(2,Me),qe=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):Ne;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(qe*ke))),this._type==="wheel"&&(this._startZoom=Me,this._easing=this._smoothOutEasing(200)),this._delta=0}const x=typeof this._targetZoom=="number"?this._targetZoom:u(),D=this._startZoom,z=this._easing;let ne,he=!1;if(this._type==="wheel"&&D&&z){const pe=Math.min((n.exported.now()-this._lastWheelEventTime)/200,1),ke=z(pe);ne=n.number(D,x,ke),pe<1?this._frameId||(this._frameId=!0):he=!0}else ne=x,he=!0;return this._active=!0,he&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!he,zoomDelta:ne-u(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let u=n.ease;if(this._prevEase){const x=this._prevEase,D=(n.exported.now()-x.start)/x.duration,z=x.easing(D+.01)-x.easing(D),ne=.27/Math.sqrt(z*z+1e-4)*.01,he=Math.sqrt(.0729-ne*ne);u=n.bezier(ne,he,.25,1)}return this._prevEase={start:n.exported.now(),duration:a,easing:u},u}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=W("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(n.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class _h{constructor(a,u){this._clickZoom=a,this._tapZoom=u}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class dc{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(a,u){return a.preventDefault(),{cameraAnimation:x=>{x.easeTo({duration:300,zoom:x.getZoom()+(a.shiftKey?-1:1),around:x.unproject(u)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Xf{constructor(){this._tap=new lc({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(a,u,x){this._swipePoint||(this._tapTime&&a.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?x.length>0&&(this._swipePoint=u[0],this._swipeTouch=x[0].identifier):this._tap.touchstart(a,u,x))}touchmove(a,u,x){if(this._tapTime){if(this._swipePoint){if(x[0].identifier!==this._swipeTouch)return;const D=u[0],z=D.y-this._swipePoint.y;return this._swipePoint=D,a.preventDefault(),this._active=!0,{zoomDelta:z/128}}}else this._tap.touchmove(a,u,x)}touchend(a,u,x){this._tapTime?this._swipePoint&&x.length===0&&this.reset():this._tap.touchend(a,u,x)&&(this._tapTime=a.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Kh{constructor(a,u,x){this._el=a,this._mousePan=u,this._touchPan=x}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class zl{constructor(a,u,x){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=u,this._mousePitch=x}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class _u{constructor(a,u,x,D){this._el=a,this._touchZoom=u,this._touchRotate=x,this._tapDragZoom=D,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Hi=_=>_.zoom||_.drag||_.pitch||_.rotate;class Zf extends n.Event{}class Kf{constructor(){this.constants=[1,1,.01],this.radius=0}setup(a,u){const x=n.sub([],u,a);this.radius=n.length(x[2]<0?n.div([],x,this.constants):[x[0],x[1],0])}projectRay(a){n.div(a,a,this.constants),n.normalize(a,a),n.mul$1(a,a,this.constants);const u=n.scale$2([],a,this.radius);if(u[2]>0){const x=n.scale$2([],[0,0,1],n.dot(u,[0,0,1])),D=n.scale$2([],n.normalize([],[u[0],u[1],0]),this.radius),z=n.add([],u,n.scale$2([],n.sub([],n.add([],D,x),u),2));u[0]=z[0],u[1]=z[1]}return u}}function Vc(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class Md{constructor(a,u){this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fu(a),this._bearingSnap=u.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Kf,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(u),n.bindAll(["handleEvent","handleWindowEvent"],this);const x=this._el;this._listeners=[[x,"touchstart",{passive:!0}],[x,"touchmove",{passive:!1}],[x,"touchend",void 0],[x,"touchcancel",void 0],[x,"mousedown",void 0],[x,"mousemove",void 0],[x,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[x,"mouseover",void 0],[x,"mouseout",void 0],[x,"dblclick",void 0],[x,"click",void 0],[x,"keydown",{capture:!1}],[x,"keyup",void 0],[x,"wheel",{passive:!1}],[x,"contextmenu",void 0],[n.window,"blur",void 0]];for(const[D,z,ne]of this._listeners)D.addEventListener(z,D===n.window.document?this.handleWindowEvent:this.handleEvent,ne)}destroy(){for(const[a,u,x]of this._listeners)a.removeEventListener(u,a===n.window.document?this.handleWindowEvent:this.handleEvent,x)}_addDefaultHandlers(a){const u=this._map,x=u.getCanvasContainer();this._add("mapEvent",new qf(u,a));const D=u.boxZoom=new mu(u,a);this._add("boxZoom",D);const z=new Yh,ne=new dc;u.doubleClickZoom=new _h(ne,z),this._add("tapZoom",z),this._add("clickZoom",ne);const he=new Xf;this._add("tapDragZoom",he);const pe=u.touchPitch=new Cd(u);this._add("touchPitch",pe);const ke=new wp(a),Me=new Sp(a);u.dragRotate=new zl(a,ke,Me),this._add("mouseRotate",ke,["mousePitch"]),this._add("mousePitch",Me,["mouseRotate"]);const Ne=new gh(a),qe=new Yf(u,a);u.dragPan=new Kh(x,Ne,qe),this._add("mousePan",Ne),this._add("touchPan",qe,["touchZoom","touchRotate"]);const st=new Je,rt=new Zh;u.touchZoomRotate=new _u(x,rt,st,he),this._add("touchRotate",st,["touchPan","touchZoom"]),this._add("touchZoom",rt,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Lm(u));const ht=u.scrollZoom=new Rm(u,this);this._add("scrollZoom",ht,["mousePan"]);const Ze=u.keyboard=new Bn;this._add("keyboard",Ze);for(const Qe of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])a.interactive&&a[Qe]&&u[Qe].enable(a[Qe])}_add(a,u,x){this._handlers.push({handlerName:a,handler:u,allowed:x}),this._handlersById[a]=u}stop(a){if(!this._updatingCamera){for(const{handler:u}of this._handlers)u.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(const{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Hi(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(a,u,x){for(const D in a)if(D!==x&&(!u||u.indexOf(D)<0))return!0;return!1}handleWindowEvent(a){this.handleEvent(a,`${a.type}Window`)}_getMapTouches(a){const u=[];for(const x of a)this._el.contains(x.target)&&u.push(x);return u}handleEvent(a,u){this._updatingCamera=!0;const x=a.type==="renderFrame",D=x?void 0:a,z={needsRenderFrame:!1},ne={},he={},pe=a.touches?this._getMapTouches(a.touches):void 0,ke=pe?C(this._el,pe):x?void 0:G(this._el,a);for(const{handlerName:qe,handler:st,allowed:rt}of this._handlers){if(!st.isEnabled())continue;let ht;this._blockedByActive(he,rt,qe)?st.reset():st[u||a.type]&&(ht=st[u||a.type](a,ke,pe),this.mergeHandlerResult(z,ne,ht,qe,D),ht&&ht.needsRenderFrame&&this._triggerRenderFrame()),(ht||st.isActive())&&(he[qe]=st)}const Me={};for(const qe in this._previousActiveHandlers)he[qe]||(Me[qe]=D);this._previousActiveHandlers=he,(Object.keys(Me).length||Vc(z))&&(this._changes.push([z,ne,Me]),this._triggerRenderFrame()),(Object.keys(he).length||Vc(z))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Ne}=z;Ne&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ne(this._map))}mergeHandlerResult(a,u,x,D,z){if(!x)return;n.extend(a,x);const ne={handlerName:D,originalEvent:x.originalEvent||z};x.zoomDelta!==void 0&&(u.zoom=ne),x.panDelta!==void 0&&(u.drag=ne),x.pitchDelta!==void 0&&(u.pitch=ne),x.bearingDelta!==void 0&&(u.rotate=ne)}_applyChanges(){const a={},u={},x={};for(const[D,z,ne]of this._changes)D.panDelta&&(a.panDelta=(a.panDelta||new n.pointGeometry(0,0))._add(D.panDelta)),D.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+D.zoomDelta),D.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+D.bearingDelta),D.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+D.pitchDelta),D.around!==void 0&&(a.around=D.around),D.aroundCoord!==void 0&&(a.aroundCoord=D.aroundCoord),D.pinchAround!==void 0&&(a.pinchAround=D.pinchAround),D.noInertia&&(a.noInertia=D.noInertia),n.extend(u,z),n.extend(x,ne);this._updateMapTransform(a,u,x),this._changes=[]}_updateMapTransform(a,u,x){const D=this._map,z=D.transform,ne=ut=>[ut.x,ut.y,ut.z];if((ut=>{const ot=this._eventsInProgress.drag;return ot&&!this._handlersById[ot.handlerName].isActive()})()&&!Vc(a)){const ut=z.zoom;z.cameraElevationReference="sea",z.recenterOnTerrain(),z.cameraElevationReference="ground",ut!==z.zoom&&this._map._update(!0)}if(z._isCameraConstrained&&D._stop(!0),!Vc(a))return void this._fireEvents(u,x,!0);let{panDelta:he,zoomDelta:pe,bearingDelta:ke,pitchDelta:Me,around:Ne,aroundCoord:qe,pinchAround:st}=a;z._isCameraConstrained&&(pe>0&&(pe=0),z._isCameraConstrained=!1),st!==void 0&&(Ne=st),(ut=>u.drag&&!this._eventsInProgress.drag)()&&Ne&&(this._dragOrigin=ne(z.pointCoordinate3D(Ne)),this._trackingEllipsoid.setup(z._camera.position,this._dragOrigin)),z.cameraElevationReference="sea",D._stop(!0),Ne=Ne||D.transform.centerPoint,ke&&(z.bearing+=ke),Me&&(z.pitch+=Me),z._updateCameraState();const rt=[0,0,0];if(he)if(z.projection.name==="mercator"){const ut=this._trackingEllipsoid.projectRay(z.screenPointToMercatorRay(Ne).dir),ot=this._trackingEllipsoid.projectRay(z.screenPointToMercatorRay(Ne.sub(he)).dir);rt[0]=ot[0]-ut[0],rt[1]=ot[1]-ut[1]}else{const ut=z.pointCoordinate(Ne);if(z.projection.name==="globe"){he=he.rotate(-z.angle);const ot=z._pixelsPerMercatorPixel/z.worldSize;rt[0]=-he.x*n.mercatorScale(n.latFromMercatorY(ut.y))*ot,rt[1]=-he.y*n.mercatorScale(z.center.lat)*ot}else{const ot=z.pointCoordinate(Ne.sub(he));ut&&ot&&(rt[0]=ot.x-ut.x,rt[1]=ot.y-ut.y)}}const ht=z.zoom,Ze=[0,0,0];if(pe){const ut=ne(qe||z.pointCoordinate3D(Ne)),ot={dir:n.normalize([],n.sub([],ut,z._camera.position))};if(ot.dir[2]<0){const vt=z.zoomDeltaToMovement(ut,pe);n.scale$2(Ze,ot.dir,vt)}}const Qe=n.add(rt,rt,Ze);z._translateCameraConstrained(Qe),pe&&Math.abs(z.zoom-ht)>1e-4&&z.recenterOnTerrain(),z.cameraElevationReference="ground",this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(u,x,!0)}_fireEvents(a,u,x){const D=Hi(this._eventsInProgress),z=Hi(a),ne={};for(const Me in a){const{originalEvent:Ne}=a[Me];this._eventsInProgress[Me]||(ne[`${Me}start`]=Ne),this._eventsInProgress[Me]=a[Me]}!D&&z&&this._fireEvent("movestart",z.originalEvent);for(const Me in ne)this._fireEvent(Me,ne[Me]);z&&this._fireEvent("move",z.originalEvent);for(const Me in a){const{originalEvent:Ne}=a[Me];this._fireEvent(Me,Ne)}const he={};let pe;for(const Me in this._eventsInProgress){const{handlerName:Ne,originalEvent:qe}=this._eventsInProgress[Me];this._handlersById[Ne].isActive()||(delete this._eventsInProgress[Me],pe=u[Ne]||qe,he[`${Me}end`]=pe)}for(const Me in he)this._fireEvent(Me,he[Me]);const ke=Hi(this._eventsInProgress);if(x&&(D||z)&&!ke){this._updatingCamera=!0;const Me=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ne=qe=>qe!==0&&-this._bearingSnap<qe&&qe<this._bearingSnap;Me?(Ne(Me.bearing||this._map.getBearing())&&(Me.bearing=0),this._map.easeTo(Me,{originalEvent:pe})):(this._map.fire(new n.Event("moveend",{originalEvent:pe})),Ne(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(a,u){this._map.fire(new n.Event(a,u?{originalEvent:u}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{this._frameId=void 0,this.handleEvent(new Zf("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Cp="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Nl extends n.Evented{constructor(a,u){super(),this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=u.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}getCenter(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(a,u){return this.jumpTo({center:a},u)}panBy(a,u,x){return a=n.pointGeometry.convert(a).mult(-1),this.panTo(this.transform.center,n.extend({offset:a},u),x)}panTo(a,u,x){return this.easeTo(n.extend({center:a},u),x)}getZoom(){return this.transform.zoom}setZoom(a,u){return this.jumpTo({zoom:a},u),this}zoomTo(a,u,x){return this.easeTo(n.extend({zoom:a},u),x)}zoomIn(a,u){return this.zoomTo(this.getZoom()+1,a,u),this}zoomOut(a,u){return this.zoomTo(this.getZoom()-1,a,u),this}getBearing(){return this.transform.bearing}setBearing(a,u){return this.jumpTo({bearing:a},u),this}getPadding(){return this.transform.padding}setPadding(a,u){return this.jumpTo({padding:a},u),this}rotateTo(a,u,x){return this.easeTo(n.extend({bearing:a},u),x)}resetNorth(a,u){return this.rotateTo(0,n.extend({duration:1e3},a),u),this}resetNorthPitch(a,u){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},a),u),this}snapToNorth(a,u){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,u):this}getPitch(){return this.transform.pitch}setPitch(a,u){return this.jumpTo({pitch:a},u),this}cameraForBounds(a,u){a=n.LngLatBounds.convert(a);const x=u&&u.bearing||0,D=u&&u.pitch||0,z=a.getNorthWest(),ne=a.getSouthEast();return this._cameraForBounds(this.transform,z,ne,x,D,u)}_extendCameraOptions(a){const u={top:0,bottom:0,right:0,left:0};if(typeof(a=n.extend({padding:u,offset:[0,0],maxZoom:this.transform.maxZoom},a)).padding=="number"){const x=a.padding;a.padding={top:x,bottom:x,right:x,left:x}}return a.padding=n.extend(u,a.padding),a}_minimumAABBFrustumDistance(a,u){const x=u.max[0]-u.min[0],D=u.max[1]-u.min[1];return x/D>a.aspect?x/(2*Math.tan(.5*a.fovX)*a.aspect):D/(2*Math.tan(.5*a.fovY)*a.aspect)}_cameraForBoundsOnGlobe(a,u,x,D,z,ne){const he=a.clone(),pe=this._extendCameraOptions(ne);he.bearing=D,he.pitch=z;const ke=n.LngLat.convert(u),Me=n.LngLat.convert(x),Ne=.5*(ke.lat+Me.lat),qe=.5*(ke.lng+Me.lng),st=n.latLngToECEF(Ne,qe),rt=n.normalize([],st),ht=n.normalize([],n.cross([],rt,[0,1,0])),Ze=n.cross([],ht,rt),Qe=[ht[0],ht[1],ht[2],0,Ze[0],Ze[1],Ze[2],0,rt[0],rt[1],rt[2],0,0,0,0,1],ut=[st,n.latLngToECEF(ke.lat,ke.lng),n.latLngToECEF(Me.lat,ke.lng),n.latLngToECEF(Me.lat,Me.lng),n.latLngToECEF(ke.lat,Me.lng),n.latLngToECEF(Ne,ke.lng),n.latLngToECEF(Ne,Me.lng),n.latLngToECEF(ke.lat,qe),n.latLngToECEF(Me.lat,qe)];let ot=n.Aabb.fromPoints(ut.map(jt=>[n.dot(ht,jt),n.dot(Ze,jt),n.dot(rt,jt)]));const vt=n.transformMat4([],ot.center,Qe);n.squaredLength(vt)===0&&n.set(vt,0,0,1),n.normalize(vt,vt),n.scale$2(vt,vt,n.GLOBE_RADIUS),he.center=n.ecefToLatLng(vt);const Mt=he.getWorldToCameraMatrix(),bt=n.invert(new Float64Array(16),Mt);ot=n.Aabb.applyTransform(ot,n.multiply([],Mt,Qe)),n.transformMat4(vt,vt,Mt);const Ot=.5*(ot.max[2]-ot.min[2]),Zt=this._minimumAABBFrustumDistance(he,ot),qt=n.scale$2([],[0,0,1],Ot),Nt=n.add(qt,vt,qt),xi=Zt+(he.pitch===0?0:n.distance(vt,Nt)),Ht=he.globeCenterInViewSpace,ci=n.sub([],vt,[Ht[0],Ht[1],Ht[2]]);n.normalize(ci,ci),n.scale$2(ci,ci,xi);const Jt=n.add([],vt,ci);n.transformMat4(Jt,Jt,bt);const Ai=n.earthRadius/n.GLOBE_RADIUS,ei=n.length(Jt),gi=n.mercatorZfromAltitude(ei*Ai-n.earthRadius,0),Di=Math.min(he.zoomFromMercatorZAdjusted(gi),pe.maxZoom);return Di>.5*(n.GLOBE_ZOOM_THRESHOLD_MIN+n.GLOBE_ZOOM_THRESHOLD_MAX)?(he.setProjection({name:"mercator"}),he.zoom=Di,this._cameraForBounds(he,u,x,D,z,ne)):{center:he.center,zoom:Di,bearing:D,pitch:z}}queryTerrainElevation(a,u){const x=this.transform.elevation;return x?(u=n.extend({},{exaggerated:!0},u),x.getAtPoint(n.MercatorCoordinate.fromLngLat(a),null,u.exaggerated)):null}_cameraForBounds(a,u,x,D,z,ne){if(a.projection.name==="globe")return this._cameraForBoundsOnGlobe(a,u,x,D,z,ne);const he=a.clone(),pe=this._extendCameraOptions(ne),ke=he.padding;he.bearing=D,he.pitch=z;const Me=n.LngLat.convert(u),Ne=n.LngLat.convert(x),qe=new n.LngLat(Me.lng,Ne.lat),st=new n.LngLat(Ne.lng,Me.lat),rt=he.project(Me),ht=he.project(Ne),Ze=this.queryTerrainElevation(Me),Qe=this.queryTerrainElevation(Ne),ut=this.queryTerrainElevation(qe),ot=this.queryTerrainElevation(st),vt=[[rt.x,rt.y,Math.min(Ze||0,Qe||0,ut||0,ot||0)],[ht.x,ht.y,Math.max(Ze||0,Qe||0,ut||0,ot||0)]];let Mt=n.Aabb.fromPoints(vt);const bt=he.getWorldToCameraMatrix(),Ot=n.invert(new Float64Array(16),bt);Mt=n.Aabb.applyTransform(Mt,bt);const Zt=n.sub([],Mt.max,Mt.min),qt=ke.left||0,Nt=ke.right||0,xi=ke.bottom||0,Ht=ke.top||0,{left:ci,right:Jt,top:Ai,bottom:ei}=pe.padding,gi=.5*(qt+Nt),Di=.5*(Ht+xi),jt=Math.min(he.scaleZoom(he.scale*Math.min((he.width-(qt+Nt+ci+Jt))/Zt[0],(he.height-(xi+Ht+ei+Ai))/Zt[1])),pe.maxZoom),Kt=he.scale/he.zoomScale(jt);Mt=new n.Aabb([Mt.min[0]-(ci+gi)*Kt,Mt.min[1]-(ei+Di)*Kt,Mt.min[2]],[Mt.max[0]+(Jt+gi)*Kt,Mt.max[1]+(Ai+Di)*Kt,Mt.max[2]]);const sn=.5*Zt[2],un=this._minimumAABBFrustumDistance(he,Mt),rn=[0,0,1,0];n.transformMat4$1(rn,rn,bt),n.normalize$2(rn,rn);const Cn=n.scale$2([],rn,un+sn),Hn=n.add([],Mt.center,Cn),mn=(typeof pe.offset.x=="number"&&typeof pe.offset.y=="number"?new n.pointGeometry(pe.offset.x,pe.offset.y):n.pointGeometry.convert(pe.offset)).rotate(-n.degToRad(D));Mt.center[0]-=mn.x*Kt,Mt.center[1]+=mn.y*Kt,n.transformMat4(Mt.center,Mt.center,Ot),n.transformMat4(Hn,Hn,Ot);const Zi=[Mt.center[0],Mt.center[1],Hn[2]*he.pixelsPerMeter];n.scale$2(Zi,Zi,1/he.worldSize);const zs=n.lngFromMercatorX(Zi[0]),Es=n.latFromMercatorY(Zi[1]),Fs=Math.min(he._zoomFromMercatorZ(Zi[2]),pe.maxZoom),Ls=new n.LngLat(zs,Es);return he.mercatorFromTransition&&Fs<.5*(n.GLOBE_ZOOM_THRESHOLD_MIN+n.GLOBE_ZOOM_THRESHOLD_MAX)?(he.setProjection({name:"globe"}),he.zoom=Fs,this._cameraForBounds(he,u,x,D,z,ne)):{center:Ls,zoom:Fs,bearing:D,pitch:z}}fitBounds(a,u,x){const D=this.cameraForBounds(a,u);return this._fitInternal(D,u,x)}fitScreenCoordinates(a,u,x,D,z){const ne=n.pointGeometry.convert(a),he=n.pointGeometry.convert(u),pe=new n.pointGeometry(Math.min(ne.x,he.x),Math.min(ne.y,he.y)),ke=new n.pointGeometry(Math.max(ne.x,he.x),Math.max(ne.y,he.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(ne,he))return this;const Me=this.transform.pointLocation3D(pe),Ne=this.transform.pointLocation3D(ke),qe=this.transform.pointLocation3D(new n.pointGeometry(pe.x,ke.y)),st=this.transform.pointLocation3D(new n.pointGeometry(ke.x,pe.y)),rt=[Math.min(Me.lng,Ne.lng,qe.lng,st.lng),Math.min(Me.lat,Ne.lat,qe.lat,st.lat)],ht=[Math.max(Me.lng,Ne.lng,qe.lng,st.lng),Math.max(Me.lat,Ne.lat,qe.lat,st.lat)],Ze=D&&D.pitch?D.pitch:this.getPitch(),Qe=this._cameraForBounds(this.transform,rt,ht,x,Ze,D);return this._fitInternal(Qe,D,z)}_fitInternal(a,u,x){return a?(delete(u=n.extend(a,u)).padding,u.linear?this.easeTo(u,x):this.flyTo(u,x)):this}jumpTo(a,u){this.stop();const x=a.preloadOnly?this.transform.clone():this.transform;let D=!1,z=!1,ne=!1;return"zoom"in a&&x.zoom!==+a.zoom&&(D=!0,x.zoom=+a.zoom),a.center!==void 0&&(x.center=n.LngLat.convert(a.center)),"bearing"in a&&x.bearing!==+a.bearing&&(z=!0,x.bearing=+a.bearing),"pitch"in a&&x.pitch!==+a.pitch&&(ne=!0,x.pitch=+a.pitch),a.padding==null||x.isPaddingEqual(a.padding)||(x.padding=a.padding),a.preloadOnly?(this._preloadTiles(x),this):(this.fire(new n.Event("movestart",u)).fire(new n.Event("move",u)),D&&this.fire(new n.Event("zoomstart",u)).fire(new n.Event("zoom",u)).fire(new n.Event("zoomend",u)),z&&this.fire(new n.Event("rotatestart",u)).fire(new n.Event("rotate",u)).fire(new n.Event("rotateend",u)),ne&&this.fire(new n.Event("pitchstart",u)).fire(new n.Event("pitch",u)).fire(new n.Event("pitchend",u)),this.fire(new n.Event("moveend",u)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||n.warnOnce(Cp),this.transform.getFreeCameraOptions()}setFreeCameraOptions(a,u){const x=this.transform;if(!x.projection.supportsFreeCamera)return n.warnOnce(Cp),this;this.stop();const D=x.zoom,z=x.pitch,ne=x.bearing;x.setFreeCameraOptions(a);const he=D!==x.zoom,pe=z!==x.pitch,ke=ne!==x.bearing;return this.fire(new n.Event("movestart",u)).fire(new n.Event("move",u)),he&&this.fire(new n.Event("zoomstart",u)).fire(new n.Event("zoom",u)).fire(new n.Event("zoomend",u)),ke&&this.fire(new n.Event("rotatestart",u)).fire(new n.Event("rotate",u)).fire(new n.Event("rotateend",u)),pe&&this.fire(new n.Event("pitchstart",u)).fire(new n.Event("pitch",u)).fire(new n.Event("pitchend",u)),this.fire(new n.Event("moveend",u)),this}easeTo(a,u){this._stop(!1,a.easeId),((a=n.extend({offset:[0,0],duration:500,easing:n.ease},a)).animate===!1||!a.essential&&n.exported.prefersReducedMotion)&&(a.duration=0);const x=this.transform,D=this.getZoom(),z=this.getBearing(),ne=this.getPitch(),he=this.getPadding(),pe="zoom"in a?+a.zoom:D,ke="bearing"in a?this._normalizeBearing(a.bearing,z):z,Me="pitch"in a?+a.pitch:ne,Ne="padding"in a?a.padding:x.padding,qe=n.pointGeometry.convert(a.offset);let st,rt,ht;if(x.projection.name==="globe"){const qt=n.MercatorCoordinate.fromLngLat(x.center),Nt=qe.rotate(-x.angle);qt.x+=Nt.x/x.worldSize,qt.y+=Nt.y/x.worldSize;const xi=qt.toLngLat(),Ht=n.LngLat.convert(a.center||xi);this._normalizeCenter(Ht),st=x.centerPoint.add(Nt),rt=new n.pointGeometry(qt.x,qt.y).mult(x.worldSize),ht=new n.pointGeometry(n.mercatorXfromLng(Ht.lng),n.mercatorYfromLat(Ht.lat)).mult(x.worldSize).sub(rt)}else{st=x.centerPoint.add(qe);const qt=x.pointLocation(st),Nt=n.LngLat.convert(a.center||qt);this._normalizeCenter(Nt),rt=x.project(qt),ht=x.project(Nt).sub(rt)}const Ze=x.zoomScale(pe-D);let Qe,ut;a.around&&(Qe=n.LngLat.convert(a.around),ut=x.locationPoint(Qe));const ot=this._zooming||pe!==D,vt=this._rotating||z!==ke,Mt=this._pitching||Me!==ne,bt=!x.isPaddingEqual(Ne),Ot=qt=>Nt=>{if(ot&&(qt.zoom=n.number(D,pe,Nt)),vt&&(qt.bearing=n.number(z,ke,Nt)),Mt&&(qt.pitch=n.number(ne,Me,Nt)),bt&&(qt.interpolatePadding(he,Ne,Nt),st=qt.centerPoint.add(qe)),Qe)qt.setLocationAtPoint(Qe,ut);else{const xi=qt.zoomScale(qt.zoom-D),Ht=pe>D?Math.min(2,Ze):Math.max(.5,Ze),ci=Math.pow(Ht,1-Nt),Jt=qt.unproject(rt.add(ht.mult(Nt*ci)).mult(xi));qt.setLocationAtPoint(qt.renderWorldCopies?Jt.wrap():Jt,st)}return a.preloadOnly||this._fireMoveEvents(u),qt};if(a.preloadOnly){const qt=this._emulate(Ot,a.duration,x);return this._preloadTiles(qt),this}const Zt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=ot,this._rotating=vt,this._pitching=Mt,this._padding=bt,this._easeId=a.easeId,this._prepareEase(u,a.noMoveStart,Zt),this._ease(Ot(x),qt=>{x.recenterOnTerrain(),this._afterEase(u,qt)},a),this}_prepareEase(a,u,x={}){this._moving=!0,this.transform.cameraElevationReference="sea",u||x.moving||this.fire(new n.Event("movestart",a)),this._zooming&&!x.zooming&&this.fire(new n.Event("zoomstart",a)),this._rotating&&!x.rotating&&this.fire(new n.Event("rotatestart",a)),this._pitching&&!x.pitching&&this.fire(new n.Event("pitchstart",a))}_fireMoveEvents(a){this.fire(new n.Event("move",a)),this._zooming&&this.fire(new n.Event("zoom",a)),this._rotating&&this.fire(new n.Event("rotate",a)),this._pitching&&this.fire(new n.Event("pitch",a))}_afterEase(a,u){if(this._easeId&&u&&this._easeId===u)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const x=this._zooming,D=this._rotating,z=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,x&&this.fire(new n.Event("zoomend",a)),D&&this.fire(new n.Event("rotateend",a)),z&&this.fire(new n.Event("pitchend",a)),this.fire(new n.Event("moveend",a))}flyTo(a,u){if(!a.essential&&n.exported.prefersReducedMotion){const jt=n.pick(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(jt,u)}this.stop(),a=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},a);const x=this.transform,D=this.getZoom(),z=this.getBearing(),ne=this.getPitch(),he=this.getPadding(),pe="zoom"in a?n.clamp(+a.zoom,x.minZoom,x.maxZoom):D,ke="bearing"in a?this._normalizeBearing(a.bearing,z):z,Me="pitch"in a?+a.pitch:ne,Ne="padding"in a?a.padding:x.padding,qe=x.zoomScale(pe-D),st=n.pointGeometry.convert(a.offset);let rt=x.centerPoint.add(st);const ht=x.pointLocation(rt),Ze=n.LngLat.convert(a.center||ht);this._normalizeCenter(Ze);const Qe=x.project(ht),ut=x.project(Ze).sub(Qe);let ot=a.curve;const vt=Math.max(x.width,x.height),Mt=vt/qe,bt=ut.mag();if("minZoom"in a){const jt=n.clamp(Math.min(a.minZoom,D,pe),x.minZoom,x.maxZoom),Kt=vt/x.zoomScale(jt-D);ot=Math.sqrt(Kt/bt*2)}const Ot=ot*ot;function Zt(jt){const Kt=(Mt*Mt-vt*vt+(jt?-1:1)*Ot*Ot*bt*bt)/(2*(jt?Mt:vt)*Ot*bt);return Math.log(Math.sqrt(Kt*Kt+1)-Kt)}function qt(jt){return(Math.exp(jt)-Math.exp(-jt))/2}function Nt(jt){return(Math.exp(jt)+Math.exp(-jt))/2}const xi=Zt(0);let Ht=function(jt){return Nt(xi)/Nt(xi+ot*jt)},ci=function(jt){return vt*((Nt(xi)*(qt(Kt=xi+ot*jt)/Nt(Kt))-qt(xi))/Ot)/bt;var Kt},Jt=(Zt(1)-xi)/ot;if(Math.abs(bt)<1e-6||!isFinite(Jt)){if(Math.abs(vt-Mt)<1e-6)return this.easeTo(a,u);const jt=Mt<vt?-1:1;Jt=Math.abs(Math.log(Mt/vt))/ot,ci=function(){return 0},Ht=function(Kt){return Math.exp(jt*ot*Kt)}}a.duration="duration"in a?+a.duration:1e3*Jt/("screenSpeed"in a?+a.screenSpeed/ot:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0);const Ai=z!==ke,ei=Me!==ne,gi=!x.isPaddingEqual(Ne),Di=jt=>Kt=>{const sn=Kt*Jt,un=1/Ht(sn);jt.zoom=Kt===1?pe:D+jt.scaleZoom(un),Ai&&(jt.bearing=n.number(z,ke,Kt)),ei&&(jt.pitch=n.number(ne,Me,Kt)),gi&&(jt.interpolatePadding(he,Ne,Kt),rt=jt.centerPoint.add(st));const rn=Kt===1?Ze:jt.unproject(Qe.add(ut.mult(ci(sn))).mult(un));return jt.setLocationAtPoint(jt.renderWorldCopies?rn.wrap():rn,rt),jt._updateCameraOnTerrain(),a.preloadOnly||this._fireMoveEvents(u),jt};if(a.preloadOnly){const jt=this._emulate(Di,a.duration,x);return this._preloadTiles(jt),this}return this._zooming=!0,this._rotating=Ai,this._pitching=ei,this._padding=gi,this._prepareEase(u,!1),this._ease(Di(x),()=>this._afterEase(u),a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,u){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const x=this._onEaseEnd;this._onEaseEnd=void 0,x.call(this,u)}if(!a){const x=this.handlers;x&&x.stop(!1)}return this}_ease(a,u,x){x.animate===!1||x.duration===0?(a(1),u()):(this._easeStart=n.exported.now(),this._easeOptions=x,this._onEaseFrame=a,this._onEaseEnd=u,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const a=Math.min((n.exported.now()-this._easeStart)/this._easeOptions.duration,1),u=this._onEaseFrame;u&&u(this._easeOptions.easing(a)),a<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(a,u){a=n.wrap(a,-180,180);const x=Math.abs(a-u);return Math.abs(a-360-u)<x&&(a-=360),Math.abs(a+360-u)<x&&(a+=360),a}_normalizeCenter(a){const u=this.transform;if(!u.renderWorldCopies||u.maxBounds)return;const x=a.lng-u.center.lng;a.lng+=x>180?-360:x<-180?360:0}_emulate(a,u,x){const D=Math.ceil(15*u/1e3),z=[],ne=a(x.clone());for(let he=0;he<=D;he++){const pe=ne(he/D);z.push(pe.clone())}return z}}class Mp{constructor(a={}){this.options=a,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(a){const u=this.options&&this.options.compact;return this._map=a,this._container=W("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=W("button","mapboxgl-ctrl-attrib-button",this._container),W("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=W("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),u&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),u===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(a,u){const x=this._map._getUIString(`AttributionControl.${u}`);a.setAttribute("aria-label",x),a.removeAttribute("title"),a.firstElementChild&&a.firstElementChild.setAttribute("title",x)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let a=this._editLink;a||(a=this._editLink=this._container.querySelector(".mapbox-improve-map"));const u=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(a){const x=u.reduce((D,z,ne)=>(z.value&&(D+=`${z.key}=${z.value}${ne<u.length-1?"&":""}`),D),"?");a.href=`${n.config.FEEDBACK_URL}/${x}#${Ga(this._map,!0)}`,a.rel="noopener nofollow",this._setElementTitle(a,"MapFeedback")}}_updateData(a){!a||a.sourceDataType!=="metadata"&&a.sourceDataType!=="visibility"&&a.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let a=[];if(this._map.style.stylesheet){const D=this._map.style.stylesheet;this.styleOwner=D.owner,this.styleId=D.id}const u=this._map.style._sourceCaches;for(const D in u){const z=u[D];if(z.used){const ne=z.getSource();ne.attribution&&a.indexOf(ne.attribution)<0&&a.push(ne.attribution)}}a.sort((D,z)=>D.length-z.length),a=a.filter((D,z)=>{for(let ne=z+1;ne<a.length;ne++)if(a[ne].indexOf(D)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=[...this.options.customAttribution,...a]:a.unshift(this.options.customAttribution));const x=a.join(" | ");x!==this._attribHTML&&(this._attribHTML=x,a.length?(this._innerContainer.innerHTML=x,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Ap{constructor(){n.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(a){this._map=a,this._container=W("div","mapboxgl-ctrl");const u=W("a","mapboxgl-ctrl-logo");return u.target="_blank",u.rel="noopener nofollow",u.href="https://www.mapbox.com/",u.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),u.setAttribute("rel","noopener nofollow"),this._container.appendChild(u),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(a){a&&a.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const a=this._map.style._sourceCaches;if(Object.entries(a).length===0)return!0;for(const u in a){const x=a[u].getSource();if(x.hasOwnProperty("mapbox_logo")&&!x.mapbox_logo)return!1}return!0}_updateCompact(){const a=this._container.children;if(a.length){const u=a[0];this._map.getCanvasContainer().offsetWidth<250?u.classList.add("mapboxgl-compact"):u.classList.remove("mapboxgl-compact")}}}class kp{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){const u=++this._id;return this._queue.push({callback:a,id:u,cancelled:!1}),u}remove(a){const u=this._currentlyRunning,x=u?this._queue.concat(u):this._queue;for(const D of x)if(D.id===a)return void(D.cancelled=!0)}run(a=0){const u=this._currentlyRunning=this._queue;this._queue=[];for(const x of u)if(!x.cancelled&&(x.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Pp(_,a,u){if(_=new n.LngLat(_.lng,_.lat),a){const x=new n.LngLat(_.lng-360,_.lat),D=new n.LngLat(_.lng+360,_.lat),z=360*Math.ceil(Math.abs(_.lng-u.center.lng)/360),ne=u.locationPoint(_).distSqr(a),he=a.x<0||a.y<0||a.x>u.width||a.y>u.height;u.locationPoint(x).distSqr(a)<ne&&(he||Math.abs(x.lng-u.center.lng)<z)?_=x:u.locationPoint(D).distSqr(a)<ne&&(he||Math.abs(D.lng-u.center.lng)<z)&&(_=D)}for(;Math.abs(_.lng-u.center.lng)>180;){const x=u.locationPoint(_);if(x.x>=0&&x.y>=0&&x.x<=u.width&&x.y<=u.height)break;_.lng>u.center.lng?_.lng-=360:_.lng+=360}return _}const Jh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class vl extends n.Evented{constructor(a,u){if(super(),(a instanceof n.window.HTMLElement||u)&&(a=n.extend({element:a},u)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=a&&a.occludedOpacity||.2,a&&a.element)this._element=a.element,this._offset=n.pointGeometry.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=W("div");const D=41,z=27,ne=K("svg",{display:"block",height:D*this._scale+"px",width:z*this._scale+"px",viewBox:`0 0 ${z} ${D}`},this._element),he=K("radialGradient",{id:"shadowGradient"},K("defs",{},ne));K("stop",{offset:"10%","stop-opacity":.4},he),K("stop",{offset:"100%","stop-opacity":.05},he),K("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},ne),K("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},ne),K("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},ne),K("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},ne),this._offset=n.pointGeometry.convert(a&&a.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",D=>{D.preventDefault()}),this._element.addEventListener("mousedown",D=>{D.preventDefault()});const x=this._element.classList;for(const D in Jh)x.remove(`mapboxgl-marker-anchor-${D}`);x.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(a){return a===this._map||(this.remove(),this._map=a,a.getCanvasContainer().appendChild(this._element),a.on("move",this._updateMoving),a.on("moveend",this._update),a.on("remove",this._clearFadeTimer),a._addMarker(this),this.setDraggable(this._draggable),this._update(),a.on("click",this._onMapClick)),this}remove(){const a=this._map;return a&&(a.off("click",this._onMapClick),a.off("move",this._updateMoving),a.off("moveend",this._update),a.off("mousedown",this._addDragHandler),a.off("touchstart",this._addDragHandler),a.off("mouseup",this._onUp),a.off("touchend",this._onUp),a.off("mousemove",this._onMove),a.off("touchmove",this._onMove),a.off("remove",this._clearFadeTimer),a._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=n.LngLat.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){const D=Math.sqrt(Math.pow(13.5,2)/2);a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[D,-1*(38.1-13.5+D)],"bottom-right":[-D,-1*(38.1-13.5+D)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,a._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(a){const u=a.code,x=a.charCode||a.keyCode;u!=="Space"&&u!=="Enter"&&x!==32&&x!==13||this.togglePopup()}_onMapClick(a){const u=a.originalEvent.target,x=this._element;this._popup&&(u===x||x.contains(u))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const a=this._popup;return a?(a.isOpen()?(a.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(a.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const a=this._map,u=this._pos;if(!a||!u)return!1;const x=a.unproject(u),D=a.getFreeCameraOptions();if(!D.position)return!1;const z=D.position.toLngLat();return z.distanceTo(x)<.9*z.distanceTo(this._lngLat)}_evaluateOpacity(){const a=this._map;if(!a)return;const u=this._pos;if(!u||u.x<0||u.x>a.transform.width||u.y<0||u.y>a.transform.height)return void this._clearFadeTimer();const x=a.unproject(u);let D;a._showingGlobe()&&n.isLngLatBehindGlobe(a.transform,this._lngLat)?D=0:(D=1-a._queryFogOpacity(x),a.transform._terrainEnabled()&&a.getTerrain()&&this._behindTerrain()&&(D*=this._occludedOpacity)),this._element.style.opacity=`${D}`,this._element.style.pointerEvents=D>0?"auto":"none",this._popup&&this._popup._setOpacity(D),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const a=this._pos;if(!a||!this._map)return;const u=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${a.x}px,${a.y}px)
            ${Jh[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${u.x}px,${u.y}px)
        `}_calculateXYTransform(){const a=this._pos,u=this._map,x=this.getPitchAlignment();if(!u||!a||x!=="map")return"";if(!u._showingGlobe()){const pe=u.getPitch();return pe?`rotateX(${pe}deg)`:""}const D=n.radToDeg(n.globeTiltAtLngLat(u.transform,this._lngLat)),z=a.sub(n.globeCenterToScreenPoint(u.transform)),ne=Math.abs(z.x)+Math.abs(z.y);if(ne===0)return"";const he=D/ne;return`rotateX(${-z.y*he}deg) rotateY(${z.x*he}deg)`}_calculateZTransform(){const a=this._pos,u=this._map;if(!u||!a)return"";let x=0;const D=this.getRotationAlignment();if(D==="map")if(u._showingGlobe()){const z=u.project(new n.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),ne=u.project(new n.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(z);x=n.radToDeg(Math.atan2(ne.y,ne.x))-90}else x=-u.getBearing();else if(D==="horizon"){const z=n.smoothstep(4,6,u.getZoom()),ne=n.globeCenterToScreenPoint(u.transform);ne.y+=z*u.transform.height;const he=a.sub(ne),pe=n.radToDeg(Math.atan2(he.y,he.x));x=(pe>90?pe-270:pe+90)*(1-z)}return x+=this._rotation,x?`rotateZ(${x}deg)`:""}_update(a){n.window.cancelAnimationFrame(this._updateFrameId);const u=this._map;u&&(u.transform.renderWorldCopies&&(this._lngLat=Pp(this._lngLat,this._pos,u.transform)),this._pos=u.project(this._lngLat),a===!0?this._updateFrameId=n.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),u._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(u._showingGlobe()||u.getTerrain()||u.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(a){return this._offset=n.pointGeometry.convert(a),this._update(),this}_onMove(a){const u=this._map;if(!u)return;const x=this._pointerdownPos,D=this._positionDelta;if(x&&D){if(!this._isDragging){const z=this._clickTolerance||u._clickTolerance;if(a.point.dist(x)<z)return;this._isDragging=!0}this._pos=a.point.sub(D),this._lngLat=u.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const a=this._map;a&&(a.off("mousemove",this._onMove),a.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"}_addDragHandler(a){const u=this._map,x=this._pos;u&&x&&this._element.contains(a.originalEvent.target)&&(a.preventDefault(),this._positionDelta=a.point.sub(x),this._pointerdownPos=a.point,this._state="pending",u.on("mousemove",this._onMove),u.on("touchmove",this._onMove),u.once("mouseup",this._onUp),u.once("touchend",this._onUp))}setDraggable(a){this._draggable=!!a;const u=this._map;return u&&(a?(u.on("mousedown",this._addDragHandler),u.on("touchstart",this._addDragHandler)):(u.off("mousedown",this._addDragHandler),u.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(a){return this._occludedOpacity=a||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const yu={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Jf=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Ea(_=new n.pointGeometry(0,0),a="bottom"){if(typeof _=="number"){const u=Math.round(Math.sqrt(.5*Math.pow(_,2)));switch(a){case"top":return new n.pointGeometry(0,_);case"top-left":return new n.pointGeometry(u,u);case"top-right":return new n.pointGeometry(-u,u);case"bottom":return new n.pointGeometry(0,-_);case"bottom-left":return new n.pointGeometry(u,-u);case"bottom-right":return new n.pointGeometry(-u,-u);case"left":return new n.pointGeometry(_,0);case"right":return new n.pointGeometry(-_,0)}return new n.pointGeometry(0,0)}return _ instanceof n.pointGeometry||Array.isArray(_)?n.pointGeometry.convert(_):n.pointGeometry.convert(_[a]||[0,0])}class Qf{constructor(a){this.jumpTo(a)}getValue(a){if(a<=this._startTime)return this._start;if(a>=this._endTime)return this._end;const u=n.easeCubicInOut((a-this._startTime)/(this._endTime-this._startTime));return this._start*(1-u)+this._end*u}isEasing(a){return a>=this._startTime&&a<=this._endTime}jumpTo(a){this._startTime=-1/0,this._endTime=-1/0,this._start=a,this._end=a}easeTo(a,u,x){this._start=this.getValue(u),this._end=a,this._startTime=u,this._endTime=u+x}}const e0={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},t0={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},i0={showCompass:!0,showZoom:!0,visualizePitch:!1};class n0{constructor(a,u,x=!1){this._clickTolerance=10,this.element=u,this.mouseRotate=new wp({clickTolerance:a.dragRotate._mouseRotate._clickTolerance}),this.map=a,x&&(this.mousePitch=new Sp({clickTolerance:a.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),u.addEventListener("mousedown",this.mousedown),u.addEventListener("touchstart",this.touchstart,{passive:!1}),u.addEventListener("touchmove",this.touchmove),u.addEventListener("touchend",this.touchend),u.addEventListener("touchcancel",this.reset)}down(a,u){this.mouseRotate.mousedown(a,u),this.mousePitch&&this.mousePitch.mousedown(a,u),M()}move(a,u){const x=this.map,D=this.mouseRotate.mousemoveWindow(a,u),z=D&&D.bearingDelta;if(z&&x.setBearing(x.getBearing()+z),this.mousePitch){const ne=this.mousePitch.mousemoveWindow(a,u),he=ne&&ne.pitchDelta;he&&x.setPitch(x.getPitch()+he)}}off(){const a=this.element;a.removeEventListener("mousedown",this.mousedown),a.removeEventListener("touchstart",this.touchstart,{passive:!1}),a.removeEventListener("touchmove",this.touchmove),a.removeEventListener("touchend",this.touchend),a.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){E(),n.window.removeEventListener("mousemove",this.mousemove),n.window.removeEventListener("mouseup",this.mouseup)}mousedown(a){this.down(n.extend({},a,{ctrlKey:!0,preventDefault:()=>a.preventDefault()}),G(this.element,a)),n.window.addEventListener("mousemove",this.mousemove),n.window.addEventListener("mouseup",this.mouseup)}mousemove(a){this.move(a,G(this.element,a))}mouseup(a){this.mouseRotate.mouseupWindow(a),this.mousePitch&&this.mousePitch.mouseupWindow(a),this.offTemp()}touchstart(a){a.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=C(this.element,a.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>a.preventDefault()},this._startPos))}touchmove(a){a.targetTouches.length!==1?this.reset():(this._lastPos=C(this.element,a.targetTouches)[0],this.move({preventDefault:()=>a.preventDefault()},this._lastPos))}touchend(a){a.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const vu={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Dp={maxWidth:100,unit:"metric"};function s0(_,a,u){const x=Ip(a),D=x/a,z={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[u];this._map._requestDomTask(()=>{this._container.style.width=_*D+"px",this._container.innerHTML=`${x}&nbsp;${z}`})}function Ip(_){const a=Math.pow(10,`${Math.floor(_)}`.length-1);let u=_/a;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:u>=1?1:function(x){const D=Math.pow(10,Math.ceil(-Math.log(x)/Math.LN10));return Math.round(x*D)/D}(u),a*u}const yh={version:n.version,supported:j,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:class extends Nl{constructor(_){if(n.LivePerformanceUtils.mark(n.PerformanceMarkers.create),(_=n.extend({},t0,_)).minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(_.antialias&&n.isSafariWithAntialiasingBug(n.window)&&(_.antialias=!1,n.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new fr(_.minZoom,_.maxZoom,_.minPitch,_.maxPitch,_.renderWorldCopies),_),this._interactive=_.interactive,this._minTileCacheSize=_.minTileCacheSize,this._maxTileCacheSize=_.maxTileCacheSize,this._failIfMajorPerformanceCaveat=_.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_.preserveDrawingBuffer,this._antialias=_.antialias,this._trackResize=_.trackResize,this._bearingSnap=_.bearingSnap,this._refreshExpiredTiles=_.refreshExpiredTiles,this._fadeDuration=_.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=_.crossSourceCollisions,this._collectResourceTiming=_.collectResourceTiming,this._optimizeForTerrain=_.optimizeForTerrain,this._language=this._parseLanguage(_.language),this._worldview=_.worldview,this._renderTaskQueue=new kp,this._domRenderTaskQueue=new kp,this._controls=[],this._markers=[],this._popups=[],this._mapId=n.uniqueId(),this._locale=n.extend({},e0,_.locale),this._clickTolerance=_.clickTolerance,this._cooperativeGestures=_.cooperativeGestures,this._performanceMetricsCollection=_.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Qf(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new n.RequestManager(_.transformRequest,_.accessToken,_.testMode),this._silenceAuthErrors=!!_.testMode,typeof _.container=="string"){if(this._container=n.window.document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof n.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(this._container.childNodes.length>0&&n.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),_.maxBounds&&this.setMaxBounds(_.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),n.window!==void 0&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1),n.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),n.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Md(this,_),this._localFontFamily=_.localFontFamily,this._localIdeographFontFamily=_.localIdeographFontFamily,_.style&&this.setStyle(_.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),_.projection&&this.setProjection(_.projection),this._hash=_.hash&&new Wi(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,n.extend({},_.fitBoundsOptions,{duration:0})))),this.resize(),_.attributionControl&&this.addControl(new Mp({customAttribution:_.customAttribution})),this._logoControl=new Ap,this.addControl(this._logoControl,_.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",a=>{this._update(a.dataType==="style"),this.fire(new n.Event(`${a.dataType}data`,a))}),this.on("dataloading",a=>{this.fire(new n.Event(`${a.dataType}dataloading`,a))})}_getMapId(){return this._mapId}addControl(_,a){if(a===void 0&&(a=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const u=_.onAdd(this);this._controls.push(_);const x=this._controlPositions[a];return a.indexOf("bottom")!==-1?x.insertBefore(u,x.firstChild):x.appendChild(u),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const a=this._controls.indexOf(_);return a>-1&&this._controls.splice(a,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(_){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const a=!this._moving;return a&&this.fire(new n.Event("movestart",_)).fire(new n.Event("move",_)),this.fire(new n.Event("resize",_)),a&&this.fire(new n.Event("moveend",_)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(_){return this.transform.setMaxBounds(n.LngLatBounds.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_?this.setZoom(_):this.fire(new n.Event("zoomstart")).fire(new n.Event("zoom")).fire(new n.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_?this.setZoom(_):this.fire(new n.Event("zoomstart")).fire(new n.Event("zoom")).fire(new n.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_?this.setPitch(_):this.fire(new n.Event("pitchstart")).fire(new n.Event("pitch")).fire(new n.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_?this.setPitch(_):this.fire(new n.Event("pitchstart")).fire(new n.Event("pitch")).fire(new n.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(_){return _==="auto"?n.window.navigator.language:Array.isArray(_)?_.length===0?void 0:_.map(a=>a==="auto"?n.window.navigator.language:a):_}setLanguage(_){const a=this._parseLanguage(_);if(!this.style||a===this._language)return this;this._language=a,this.style._reloadSources();for(const u of this._controls)u._setLanguage&&u._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(_){return this.style&&_!==this._worldview?(this._worldview=_,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(_){return this._lazyInitEmptyStyle(),_?typeof _=="string"&&(_={name:_}):_=null,this._useExplicitProjection=!!_,this._prioritizeAndUpdateProjection(_,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const _=this.transform,a=_.projection.name;let u;a==="globe"&&_.zoom>=n.GLOBE_ZOOM_THRESHOLD_MAX?(_.setMercatorFromTransition(),u=!0):a==="mercator"&&_.zoom<n.GLOBE_ZOOM_THRESHOLD_MAX&&(_.setProjection({name:"globe"}),u=!0),u&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(_,a){return this._updateProjection(_||a||{name:"mercator"})}_updateProjection(_){let a;if(a=_.name==="globe"&&this.transform.zoom>=n.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(_),this.style.applyProjectionUpdate(),a){this.painter.clearBackgroundTiles();for(const u in this.style._sourceCaches)this.style._sourceCaches[u].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(_){return this.transform.locationPoint3D(n.LngLat.convert(_))}unproject(_){return this.transform.pointLocation3D(n.pointGeometry.convert(_))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(_,a,u){if(_==="mouseenter"||_==="mouseover"){let x=!1;const D=ne=>{const he=a.filter(ke=>this.getLayer(ke)),pe=he.length?this.queryRenderedFeatures(ne.point,{layers:he}):[];pe.length?x||(x=!0,u.call(this,new qs(_,this,ne.originalEvent,{features:pe}))):x=!1},z=()=>{x=!1};return{layers:new Set(a),listener:u,delegates:{mousemove:D,mouseout:z}}}if(_==="mouseleave"||_==="mouseout"){let x=!1;const D=ne=>{const he=a.filter(pe=>this.getLayer(pe));(he.length?this.queryRenderedFeatures(ne.point,{layers:he}):[]).length?x=!0:x&&(x=!1,u.call(this,new qs(_,this,ne.originalEvent)))},z=ne=>{x&&(x=!1,u.call(this,new qs(_,this,ne.originalEvent)))};return{layers:new Set(a),listener:u,delegates:{mousemove:D,mouseout:z}}}{const x=D=>{const z=a.filter(he=>this.getLayer(he)),ne=z.length?this.queryRenderedFeatures(D.point,{layers:z}):[];ne.length&&(D.features=ne,u.call(this,D),delete D.features)};return{layers:new Set(a),listener:u,delegates:{[_]:x}}}}on(_,a,u){if(u===void 0)return super.on(_,a);Array.isArray(a)||(a=[a]);const x=this._createDelegatedListener(_,a,u);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(x);for(const D in x.delegates)this.on(D,x.delegates[D]);return this}once(_,a,u){if(u===void 0)return super.once(_,a);Array.isArray(a)||(a=[a]);const x=this._createDelegatedListener(_,a,u);for(const D in x.delegates)this.once(D,x.delegates[D]);return this}off(_,a,u){if(u===void 0)return super.off(_,a);a=new Set(Array.isArray(a)?a:[a]);const x=(z,ne)=>{if(z.size!==ne.size)return!1;for(const he of z)if(!ne.has(he))return!1;return!0},D=this._delegatedListeners?this._delegatedListeners[_]:void 0;return D&&(z=>{for(let ne=0;ne<z.length;ne++){const he=z[ne];if(he.listener===u&&x(he.layers,a)){for(const pe in he.delegates)this.off(pe,he.delegates[pe]);return z.splice(ne,1),this}}})(D),this}queryRenderedFeatures(_,a){return this.style?(a!==void 0||_===void 0||_ instanceof n.pointGeometry||Array.isArray(_)||(a=_,_=void 0),this.style.queryRenderedFeatures(_=_||[[0,0],[this.transform.width,this.transform.height]],a=a||{},this.transform)):[]}querySourceFeatures(_,a){return this.style.querySourceFeatures(_,a)}setStyle(_,a){return(a=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&a.localFontFamily===this._localFontFamily&&this.style&&_?(this._diffStyle(_,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._localFontFamily=a.localFontFamily,this._updateStyle(_,a))}_getUIString(_){const a=this._locale[_];if(a==null)throw new Error(`Missing UI string '${_}'`);return a}_updateStyle(_,a){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),_&&(this.style=new U(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_):this.style.loadJSON(_)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new U(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,a){if(typeof _=="string"){const u=this._requestManager.normalizeStyleURL(_),x=this._requestManager.transformRequest(u,n.ResourceType.Style);n.getJSON(x,(D,z)=>{D?this.fire(new n.ErrorEvent(D)):z&&this._updateDiff(z,a)})}else typeof _=="object"&&this._updateDiff(_,a)}_updateDiff(_,a){try{this.style.setState(_)&&this._update(!0)}catch(u){n.warnOnce(`Unable to perform style diff: ${u.message||u.error||u}.  Rebuilding the style from scratch.`),this._updateStyle(_,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(n.warnOnce("There is no style added to the map."),!1)}addSource(_,a){return this._lazyInitEmptyStyle(),this.style.addSource(_,a),this._update(!0)}isSourceLoaded(_){return!!this.style&&this.style._isSourceCacheLoaded(_)}areTilesLoaded(){const _=this.style&&this.style._sourceCaches;for(const a in _){const u=_[a]._tiles;for(const x in u){const D=u[x];if(D.state!=="loaded"&&D.state!=="errored")return!1}}return!0}addSourceType(_,a,u){this._lazyInitEmptyStyle(),this.style.addSourceType(_,a,u)}removeSource(_){return this.style.removeSource(_),this._updateTerrain(),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,a,{pixelRatio:u=1,sdf:x=!1,stretchX:D,stretchY:z,content:ne}={}){if(this._lazyInitEmptyStyle(),a instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&a instanceof n.window.ImageBitmap){const{width:he,height:pe,data:ke}=n.exported.getImageData(a);this.style.addImage(_,{data:new n.RGBAImage({width:he,height:pe},ke),pixelRatio:u,stretchX:D,stretchY:z,content:ne,sdf:x,version:0})}else if(a.width===void 0||a.height===void 0)this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:he,height:pe}=a,ke=a;this.style.addImage(_,{data:new n.RGBAImage({width:he,height:pe},new Uint8Array(ke.data)),pixelRatio:u,stretchX:D,stretchY:z,content:ne,sdf:x,version:0,userImage:ke}),ke.onAdd&&ke.onAdd(this,_)}}updateImage(_,a){const u=this.style.getImage(_);if(!u)return void this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const x=a instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&a instanceof n.window.ImageBitmap?n.exported.getImageData(a):a,{width:D,height:z}=x;D!==void 0&&z!==void 0?D===u.data.width&&z===u.data.height?(u.data.replace(x.data,!(a instanceof n.window.HTMLImageElement||n.window.ImageBitmap&&a instanceof n.window.ImageBitmap)),this.style.updateImage(_,u)):this.fire(new n.ErrorEvent(new Error(`The width and height of the updated image (${D}, ${z})
                must be that same as the previous version of the image
                (${u.data.width}, ${u.data.height})`))):this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_,a){n.getImage(this._requestManager.transformRequest(_,n.ResourceType.Image),(u,x)=>{a(u,x instanceof n.window.HTMLImageElement?n.exported.getImageData(x):x)})}listImages(){return this.style.listImages()}addLayer(_,a){return this._lazyInitEmptyStyle(),this.style.addLayer(_,a),this._update(!0)}moveLayer(_,a){return this.style.moveLayer(_,a),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}setLayerZoomRange(_,a,u){return this.style.setLayerZoomRange(_,a,u),this._update(!0)}setFilter(_,a,u={}){return this.style.setFilter(_,a,u),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,a,u,x={}){return this.style.setPaintProperty(_,a,u,x),this._update(!0)}getPaintProperty(_,a){return this.style.getPaintProperty(_,a)}setLayoutProperty(_,a,u,x={}){return this.style.setLayoutProperty(_,a,u,x),this._update(!0)}getLayoutProperty(_,a){return this.style.getLayoutProperty(_,a)}setLight(_,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,a),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(_){return this._lazyInitEmptyStyle(),!_&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(_),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(_){return this._lazyInitEmptyStyle(),this.style.setFog(_),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(_){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(n.LngLat.convert(_),this.transform):0}setFeatureState(_,a){return this.style.setFeatureState(_,a),this._update()}removeFeatureState(_,a){return this.style.removeFeatureState(_,a),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}_updateContainerDimensions(){if(!this._container)return;const _=this._container.getBoundingClientRect().width||400,a=this._container.getBoundingClientRect().height||300;let u,x,D,z=this._container;for(;z&&(!x||!D);){const ne=n.window.getComputedStyle(z).transform;ne&&ne!=="none"&&(u=ne.match(/matrix.*\((.+)\)/)[1].split(", "),u[0]&&u[0]!=="0"&&u[0]!=="1"&&(x=u[0]),u[3]&&u[3]!=="0"&&u[3]!=="1"&&(D=u[3])),z=z.parentElement}this._containerWidth=x?Math.abs(_/x):_,this._containerHeight=D?Math.abs(a/D):a}_detectMissingCSS(){n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const _=this._container;_.classList.add("mapboxgl-map"),(this._missingCSSCanary=W("div","mapboxgl-canary",_)).style.visibility="hidden",this._detectMissingCSS();const a=this._canvasContainer=W("div","mapboxgl-canvas-container",_);this._interactive&&a.classList.add("mapboxgl-interactive"),this._canvas=W("canvas","mapboxgl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const u=this._controlContainer=W("div","mapboxgl-control-container",_),x=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(D=>{x[D]=W("div",`mapboxgl-ctrl-${D}`,u)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_,a){const u=n.exported.devicePixelRatio||1;this._canvas.width=u*Math.ceil(_),this._canvas.height=u*Math.ceil(a),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${a}px`}_addMarker(_){this._markers.push(_)}_removeMarker(_){const a=this._markers.indexOf(_);a!==-1&&this._markers.splice(a,1)}_addPopup(_){this._popups.push(_)}_removePopup(_){const a=this._popups.indexOf(_);a!==-1&&this._popups.splice(a,1)}_setupPainter(){const _=n.extend({},j.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),a=this._canvas.getContext("webgl",_)||this._canvas.getContext("experimental-webgl",_);a?(n.storeAuthState(a,!0),this.painter=new En(a,this.transform),this.on("data",u=>{u.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),n.exported$1.testSupport(a)):this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(_){_.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:_}))}_contextRestored(_){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:_}))}_onMapScroll(_){if(_.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_requestDomTask(_){!this.loaded()||this.loaded()&&!this.isMoving()?_():this._domRenderTaskQueue.add(_)}_render(_){let a;const u=this.painter.context.extTimerQuery,x=n.exported.now();if(this.listens("gpu-timing-frame")&&(a=u.createQueryEXT(),u.beginQueryEXT(u.TIME_ELAPSED_EXT,a)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],n.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],n.window.performance.now())),this._renderTaskQueue.run(_),this._domRenderTaskQueue.run(_),this._removed)return;this._updateProjectionTransition();const D=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const he=this.transform.zoom,pe=this.transform.pitch,ke=n.exported.now(),Me=new n.EvaluationParameters(he,{now:ke,fadeDuration:D,pitch:pe,transition:this.style.getTransition()});this.style.update(Me)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let z=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),z=this._updateAverageElevation(x),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):z=this._updateAverageElevation(x),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,D,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:D,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),a){const he=n.exported.now()-x;u.endQueryEXT(u.TIME_ELAPSED_EXT,a),setTimeout(()=>{const pe=u.getQueryObjectEXT(a,u.QUERY_RESULT_EXT)/1e6;u.deleteQueryEXT(a),this.fire(new n.Event("gpu-timing-frame",{cpuTime:he,gpuTime:pe})),n.window.performance.mark("frame-gpu",{startTime:x,detail:{gpuTime:pe}})},50)}if(this.listens("gpu-timing-layer")){const he=this.painter.collectGpuTimers();setTimeout(()=>{const pe=this.painter.queryGpuTimers(he);this.fire(new n.Event("gpu-timing-layer",{layerTimes:pe}))},50)}if(this.listens("gpu-timing-deferred-render")){const he=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const pe=this.painter.queryGpuTimeDeferredRender(he);this.fire(new n.Event("gpu-timing-deferred-render",{gpuTime:pe}))},50)}const ne=this._sourcesDirty||this._styleDirty||this._placementDirty||z;if(ne||this._repaint)this.triggerRepaint();else{const he=!this.isMoving()&&this.loaded();if(he&&(z=this._updateAverageElevation(x,!0)),z)this.triggerRepaint();else if(this._triggerFrame(!1),he&&(this.fire(new n.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const pe=this._calculateSpeedIndex();this.fire(new n.Event("speedindexcompleted",{speedIndex:pe})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||ne||(this._fullyLoaded=!0,n.LivePerformanceUtils.mark(n.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&n.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(_){for(const a of this._markers)_&&!this.getRenderWorldCopies()&&(a._lngLat=a._lngLat.wrap()),a._update();for(const a of this._popups)!_||this.getRenderWorldCopies()||a._trackPointer||(a._lngLat=a._lngLat.wrap()),a._update()}_updateAverageElevation(_,a=!1){const u=x=>(this.transform.averageElevation=x,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&u(0);if((a||_-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(_)){const x=this.transform.averageElevation;let D=this.transform.sampleAverageElevation(),z=!1;this.transform.elevation&&(z=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(D)?D=0:this._averageElevationLastSampledAt=_;const ne=Math.abs(x-D);if(ne>1){if(this._isInitialLoad||z)return this._averageElevation.jumpTo(D),u(D);this._averageElevation.easeTo(D,_,300)}else if(ne>1e-4)return this._averageElevation.jumpTo(D),u(D)}return!!this._averageElevation.isEasing(_)&&u(this._averageElevation.getValue(_))}_authenticate(){n.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,_=>{if(_&&(_.message===n.AUTH_ERR_MSG||_.status===401)){const a=this.painter.context.gl;n.storeAuthState(a,!1),this._logoControl instanceof Ap&&this._logoControl._updateLogo(),a&&a.clear(a.DEPTH_BUFFER_BIT|a.COLOR_BUFFER_BIT|a.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new n.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),n.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const _=this._isDragging();this.painter.updateTerrain(this.style,_)}_calculateSpeedIndex(){const _=this.painter.canvasCopy(),a=this.painter.getCanvasCopiesAndTimestamps();a.timeStamps.push(performance.now());const u=this.painter.context.gl,x=u.createFramebuffer();function D(z){u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,z,0);const ne=new Uint8Array(u.drawingBufferWidth*u.drawingBufferHeight*4);return u.readPixels(0,0,u.drawingBufferWidth,u.drawingBufferHeight,u.RGBA,u.UNSIGNED_BYTE,ne),ne}return u.bindFramebuffer(u.FRAMEBUFFER,x),this._canvasPixelComparison(D(_),a.canvasCopies.map(D),a.timeStamps)}_canvasPixelComparison(_,a,u){let x=u[1]-u[0];const D=_.length/4;for(let z=0;z<a.length;z++){const ne=a[z];let he=0;for(let pe=0;pe<ne.length;pe+=4)ne[pe]===_[pe]&&ne[pe+1]===_[pe+1]&&ne[pe+2]===_[pe+2]&&ne[pe+3]===_[pe+3]&&(he+=1);x+=(u[z+2]-u[z+1])*(1-he/D)}return x}remove(){this._hash&&this._hash.remove();for(const a of this._controls)a.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),n.window!==void 0&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1),n.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const _=this.painter.context.gl.getExtension("WEBGL_lose_context");_&&_.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),n.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new n.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(_){this._renderNextFrame=this._renderNextFrame||_,this.style&&!this._frame&&(this._frame=n.exported.frame(a=>{const u=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,u&&this._render(a)}))}_preloadTiles(_){const a=this.style?Object.values(this.style._sourceCaches):[];return n.asyncAll(a,(u,x)=>u._preloadTiles(_,x),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(_){this._trackResize&&this.resize({originalEvent:_})._update()}_onVisibilityChange(){n.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(_){this._showTerrainWireframe!==_&&(this._showTerrainWireframe=_,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(_){this._speedIndexTiming!==_&&(this._speedIndexTiming=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(_){this._showTileAABBs!==_&&(this._showTileAABBs=_,_&&this._update())}_setCacheLimits(_,a){n.setCacheLimits(_,a)}get version(){return n.version}},NavigationControl:class{constructor(_){this.options=n.extend({},i0,_),this._container=W("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",a=>{this._map&&this._map.zoomIn({},{originalEvent:a})}),W("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",a=>{this._map&&this._map.zoomOut({},{originalEvent:a})}),W("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",a=>{const u=this._map;u&&(this.options.visualizePitch?u.resetNorthPitch({},{originalEvent:a}):u.resetNorth({},{originalEvent:a}))}),this._compassIcon=W("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const _=this._map;if(!_)return;const a=_.getZoom(),u=a===_.getMaxZoom(),x=a===_.getMinZoom();this._zoomInButton.disabled=u,this._zoomOutButton.disabled=x,this._zoomInButton.setAttribute("aria-disabled",u.toString()),this._zoomOutButton.setAttribute("aria-disabled",x.toString())}_rotateCompassArrow(){const _=this._map;if(!_)return;const a=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(_.transform.pitch*(Math.PI/180)),.5)}) rotateX(${_.transform.pitch}deg) rotateZ(${_.transform.angle*(180/Math.PI)}deg)`:`rotate(${_.transform.angle*(180/Math.PI)}deg)`;_._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=a)})}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),_.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&_.on("pitch",this._rotateCompassArrow),_.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new n0(_,this._compass,this.options.visualizePitch)),this._container}onRemove(){const _=this._map;_&&(this._container.remove(),this.options.showZoom&&_.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&_.off("pitch",this._rotateCompassArrow),_.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(_,a){const u=W("button",_,this._container);return u.type="button",u.addEventListener("click",a),u}_setButtonTitle(_,a){if(!this._map)return;const u=this._map._getUIString(`NavigationControl.${a}`);_.setAttribute("aria-label",u),_.firstElementChild&&_.firstElementChild.setAttribute("title",u)}},GeolocateControl:class extends n.Evented{constructor(_){super(),this.options=n.extend({geolocation:n.window.navigator.geolocation},vu,_),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Ua(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(_){return this._map=_,this._container=W("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(_){const a=(u=!!this.options.geolocation)=>{this._supportsGeolocation=u,_(u)};this._supportsGeolocation!==void 0?_(this._supportsGeolocation):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(u=>a(u.state!=="denied")).catch(()=>a()):a()}_isOutOfMapMaxBounds(_){const a=this._map.getMaxBounds(),u=_.coords;return!!a&&(u.longitude<a.getWest()||u.longitude>a.getEast()||u.latitude<a.getSouth()||u.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(_){if(this._map){if(this._isOutOfMapMaxBounds(_))return this._setErrorState(),this.fire(new n.Event("outofmaxbounds",_)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=_,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(_),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(_),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",_)),this._finish()}}_updateCamera(_){const a=new n.LngLat(_.coords.longitude,_.coords.latitude),u=_.coords.accuracy,x=this._map.getBearing(),D=n.extend({bearing:x},this.options.fitBoundsOptions);this._map.fitBounds(a.toBounds(u),D,{geolocateSource:!0})}_updateMarker(_){if(_){const a=new n.LngLat(_.coords.longitude,_.coords.latitude);this._accuracyCircleMarker.setLngLat(a).addTo(this._map),this._userLocationDotMarker.setLngLat(a).addTo(this._map),this._accuracy=_.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const _=this._map.transform,a=n.mercatorZfromAltitude(1,_._center.lat)*_.worldSize,u=Math.ceil(2*this._accuracy*a);this._circleElement.style.width=`${u}px`,this._circleElement.style.height=`${u}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(_){if(this._map){if(this.options.trackUserLocation)if(_.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(_.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",_)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(_){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",a=>a.preventDefault()),this._geolocateButton=W("button","mapboxgl-ctrl-geolocate",this._container),W("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",_===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a)}else{const a=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=W("div","mapboxgl-user-location"),this._dotElement.appendChild(W("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(W("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new vl({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=W("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new vl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",a=>{a.geolocateSource||this._watchState!=="ACTIVE_LOCK"||a.originalEvent&&a.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new n.Event("trackuserlocationend")))})}}_onDeviceOrientation(_){this._userLocationDotMarker&&(_.webkitCompassHeading?this._heading=_.webkitCompassHeading:_.absolute===!0&&(this._heading=-1*_.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(_={maximumAge:6e5,timeout:0},this._noTimeout=!0):(_=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,_),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const _=()=>{n.window.addEventListener("ondeviceorientationabsolute"in n.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};n.window.DeviceMotionEvent!==void 0&&typeof n.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(a=>{a==="granted"&&_()}).catch(console.error):_()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),n.window.removeEventListener("deviceorientation",this._onDeviceOrientation),n.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Mp,ScaleControl:class{constructor(_){this.options=n.extend({},Dp,_),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=s0.bind(this)),n.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const _=this.options.maxWidth||100,a=this._map,u=a._containerHeight/2,x=a._containerWidth/2-_/2,D=a.unproject([x,u]),z=a.unproject([x+_,u]),ne=D.distanceTo(z);if(this.options.unit==="imperial"){const he=3.2808*ne;he>5280?this._setScale(_,he/5280,"mile"):this._setScale(_,he,"foot")}else this.options.unit==="nautical"?this._setScale(_,ne/1852,"nautical-mile"):ne>=1e3?this._setScale(_,ne/1e3,"kilometer"):this._setScale(_,ne,"meter")}_setScale(_,a,u){const x=Ip(a),D=x/a;this._map._requestDomTask(()=>{this._container.style.width=_*D+"px",this._container.innerHTML=u!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:u}).format(x):`${x}&nbsp;nm`})}onAdd(_){return this._map=_,this._language=_.getLanguage(),this._container=W("div","mapboxgl-ctrl mapboxgl-ctrl-scale",_.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(_){this._language=_,this._update()}setUnit(_){this.options.unit=_,this._update()}},FullscreenControl:class{constructor(_){this._fullscreen=!1,_&&_.container&&(_.container instanceof n.window.HTMLElement?this._container=_.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in n.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=W("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!n.window.document.fullscreenEnabled&&!n.window.document.webkitFullscreenEnabled)}_setupUI(){const _=this._fullscreenButton=W("button","mapboxgl-ctrl-fullscreen",this._controlContainer);W("span","mapboxgl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",_)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(n.window.document.fullscreenElement||n.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends n.Evented{constructor(_){super(),this.options=n.extend(Object.create(yu),_),n.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(_&&_.className?_.className.trim().split(/\s+/):[])}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&_.on("preclick",this._onClose),this.options.closeOnMove&&_.on("move",this._onClose),_.on("remove",this.remove),this._update(),_._addPopup(this),this._focusFirstElement(),this._trackPointer?(_.on("mousemove",this._onMouseEvent),_.on("mouseup",this._onMouseEvent),_._canvasContainer.classList.add("mapboxgl-track-pointer")):_.on("move",this._update),this.fire(new n.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const _=this._map;return _&&(_.off("move",this._update),_.off("move",this._onClose),_.off("preclick",this._onClose),_.off("click",this._onClose),_.off("remove",this.remove),_.off("mousemove",this._onMouseEvent),_.off("mouseup",this._onMouseEvent),_.off("drag",this._onMouseEvent),_._canvasContainer&&_._canvasContainer.classList.remove("mapboxgl-track-pointer"),_._removePopup(this),this._map=void 0),this.fire(new n.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(_){this._lngLat=n.LngLat.convert(_),this._pos=null,this._trackPointer=!1,this._update();const a=this._map;return a&&(a.on("move",this._update),a.off("mousemove",this._onMouseEvent),a._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const _=this._map;return _&&(_.off("move",this._update),_.on("mousemove",this._onMouseEvent),_.on("drag",this._onMouseEvent),_._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(n.window.document.createTextNode(_))}setHTML(_){const a=n.window.document.createDocumentFragment(),u=n.window.document.createElement("body");let x;for(u.innerHTML=_;x=u.firstChild,x;)a.appendChild(x);return this.setDOMContent(a)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){let a=this._content;if(a)for(;a.hasChildNodes();)a.firstChild&&a.removeChild(a.firstChild);else a=this._content=W("div","mapboxgl-popup-content",this._container||void 0);if(a.appendChild(_),this.options.closeButton){const u=this._closeButton=W("button","mapboxgl-popup-close-button",a);u.type="button",u.setAttribute("aria-label","Close popup"),u.setAttribute("aria-hidden","true"),u.innerHTML="&#215;",u.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(_){return this._classList.add(_),this._updateClassList(),this}removeClassName(_){return this._classList.delete(_),this._updateClassList(),this}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){let a;return this._classList.delete(_)?a=!1:(this._classList.add(_),a=!0),this._updateClassList(),a}_onMouseEvent(_){this._update(_.point)}_getAnchor(_){if(this.options.anchor)return this.options.anchor;const a=this._map,u=this._container,x=this._pos;if(!a||!u||!x)return"bottom";const D=u.offsetWidth,z=u.offsetHeight,ne=x.x<D/2,he=x.x>a.transform.width-D/2;if(x.y+_<z)return ne?"top-left":he?"top-right":"top";if(x.y>a.transform.height-z){if(ne)return"bottom-left";if(he)return"bottom-right"}return ne?"left":he?"right":"bottom"}_updateClassList(){const _=this._container;if(!_)return;const a=[...this._classList];a.push("mapboxgl-popup"),this._anchor&&a.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&a.push("mapboxgl-popup-track-pointer"),_.className=a.join(" ")}_update(_){const a=this._map,u=this._content;if(!a||!this._lngLat&&!this._trackPointer||!u)return;let x=this._container;if(x||(x=this._container=W("div","mapboxgl-popup",a.getContainer()),this._tip=W("div","mapboxgl-popup-tip",x),x.appendChild(u)),this.options.maxWidth&&x.style.maxWidth!==this.options.maxWidth&&(x.style.maxWidth=this.options.maxWidth),a.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Pp(this._lngLat,this._pos,a.transform)),!this._trackPointer||_){const D=this._pos=this._trackPointer&&_?_:a.project(this._lngLat),z=Ea(this.options.offset),ne=this._anchor=this._getAnchor(z.y),he=Ea(this.options.offset,ne),pe=D.add(he).round();a._requestDomTask(()=>{this._container&&ne&&(this._container.style.transform=`${Jh[ne]} translate(${pe.x}px,${pe.y}px)`)})}if(!this._marker&&a._showingGlobe()){const D=n.isLngLatBehindGlobe(a.transform,this._lngLat)?0:1;this._setOpacity(D)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(Jf);_&&_.focus()}_onClose(){this.remove()}_setOpacity(_){this._container&&(this._container.style.opacity=`${_}`),this._content&&(this._content.style.pointerEvents=_?"auto":"none")}},Marker:vl,Style:U,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.pointGeometry,MercatorCoordinate:n.MercatorCoordinate,FreeCameraOptions:_e,Evented:n.Evented,config:n.config,prewarm:function(){Bi().acquire(fn)},clearPrewarmedResources:function(){const _=Qi;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(fn),Qi=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(_){n.config.ACCESS_TOKEN=_},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(_){n.config.API_URL=_},get workerCount(){return pn.workerCount},set workerCount(_){pn.workerCount=_},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(_){n.config.MAX_PARALLEL_IMAGE_REQUESTS=_},clearStorage(_){n.clearTileCache(_)},workerUrl:"",workerClass:null,setNow:n.exported.setNow,restoreNow:n.exported.restoreNow};return yh});var m=c;return m})})(T7);const Al=zw;var Dm=C7,E7=Object.prototype.hasOwnProperty;function C7(){for(var e={},t=0;t<arguments.length;t++){var s=arguments[t];for(var l in s)E7.call(s,l)&&(e[l]=s[l])}return e}var Nw={},M7={get exports(){return Nw},set exports(e){Nw=e}};(function(e,t){(function(){var s={};e.exports=s,s.simpleFilter=function(l,c){return c.filter(function(d){return s.test(l,d)})},s.test=function(l,c){return s.match(l,c)!==null},s.match=function(l,c,d){d=d||{};var m=0,n=[],S=c.length,j=0,J=0,B=d.pre||"",W=d.post||"",K=d.caseSensitive&&c||c.toLowerCase(),I;l=d.caseSensitive&&l||l.toLowerCase();for(var O=0;O<S;O++)I=c[O],K[O]===l[m]?(I=B+I+W,m+=1,J+=1+J):J=0,j+=J,n[n.length]=I;return m===l.length?(j=K===l?1/0:j,{rendered:n.join(""),score:j}):null},s.filter=function(l,c,d){return!c||c.length===0?[]:typeof l!="string"?c:(d=d||{},c.reduce(function(m,n,S,j){var J=n;d.extract&&(J=d.extract(n));var B=s.match(l,J,d);return B!=null&&(m[m.length]={string:B.rendered,score:B.score,index:S,original:n}),m},[]).sort(function(m,n){var S=n.score-m.score;return S||m.index-n.index}))}})()})(M7);var tc=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};tc.prototype.show=function(){this.element.style.display="block"};tc.prototype.hide=function(){this.element.style.display="none"};tc.prototype.add=function(e){this.items.push(e)};tc.prototype.clear=function(){this.items=[],this.active=0};tc.prototype.isEmpty=function(){return!this.items.length};tc.prototype.isVisible=function(){return this.element.style.display==="block"};tc.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};tc.prototype.drawItem=function(e,t){var s=document.createElement("li"),l=document.createElement("a");t&&(s.className+=" active"),l.innerHTML=e.string,s.appendChild(l),this.element.appendChild(s),s.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),s.addEventListener("mouseup",function(){this.handleMouseUp.call(this,e)}.bind(this))};tc.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};tc.prototype.move=function(e){this.active=e,this.draw()};tc.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};tc.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};tc.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()};var A7=tc,k7=Dm,P7=Nw,D7=A7,nl=function(e,t,s){return s=s||{},this.options=k7({minLength:2,limit:5,filter:!0,hideOnBlur:!0},s),this.el=e,this.data=t||[],this.list=new D7(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(l){this.handleKeyUp(l.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(l){this.handleKeyDown(l)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(l){this.handlePaste(l)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};nl.prototype.handleKeyUp=function(e){e===40||e===38||e===27||e===13||e===9||this.handleInputChange(this.el.value)};nl.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};nl.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};nl.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}};nl.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates(function(t){for(var s=0;s<t.length&&(this.list.add(t[s]),s!==this.options.limit-1);s++);this.list.draw()}.bind(this))};nl.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};nl.prototype.update=function(e){this.data=e,this.handleKeyUp()};nl.prototype.clear=function(){this.data=[],this.list.clear()};nl.prototype.normalize=function(e){return e=e.toLowerCase(),e};nl.prototype.match=function(e,t){return e.indexOf(t)>-1};nl.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")};nl.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:function(l){return this.getItemValue(l)}.bind(this)},s;this.options.filter?(s=P7.filter(this.query,this.data,t),s=s.map(function(l){return{original:l.original,string:this.render(l.original,l.string)}}.bind(this))):s=this.data.map(function(l){var c=this.render(l);return{original:l,string:c}}.bind(this)),e(s)};nl.prototype.getItemValue=function(e){return e};nl.prototype.render=function(e,t){if(t)return t;for(var s=e.original?this.getItemValue(e.original):this.getItemValue(e),l=this.normalize(s),c=l.lastIndexOf(this.query);c>-1;){var d=c+this.query.length;s=s.slice(0,c)+"<strong>"+s.slice(c,d)+"</strong>"+s.slice(d),c=l.slice(0,c).lastIndexOf(this.query)}return s};nl.prototype.renderError=function(e){this.list.drawError(e)};var I7=nl,D8=I7,L7=D8;typeof window<"u"&&(window.Suggestions=D8);var O7="Expected a function",p5=0/0,R7="[object Symbol]",B7=/^\s+|\s+$/g,z7=/^[-+]0x[0-9a-f]+$/i,N7=/^0b[01]+$/i,F7=/^0o[0-7]+$/i,j7=parseInt,U7=typeof ea=="object"&&ea&&ea.Object===Object&&ea,G7=typeof self=="object"&&self&&self.Object===Object&&self,V7=U7||G7||Function("return this")(),H7=Object.prototype,$7=H7.toString,W7=Math.max,q7=Math.min,Fb=function(){return V7.Date.now()};function Y7(e,t,s){var l,c,d,m,n,S,j=0,J=!1,B=!1,W=!0;if(typeof e!="function")throw new TypeError(O7);t=f5(t)||0,Fw(s)&&(J=!!s.leading,B="maxWait"in s,d=B?W7(f5(s.maxWait)||0,t):d,W="trailing"in s?!!s.trailing:W);function K(C){var ie=l,Q=c;return l=c=void 0,j=C,m=e.apply(Q,ie),m}function I(C){return j=C,n=setTimeout(M,t),J?K(C):m}function O(C){var ie=C-S,Q=C-j,N=t-ie;return B?q7(N,d-Q):N}function H(C){var ie=C-S,Q=C-j;return S===void 0||ie>=t||ie<0||B&&Q>=d}function M(){var C=Fb();if(H(C))return E(C);n=setTimeout(M,O(C))}function E(C){return n=void 0,W&&l?K(C):(l=c=void 0,m)}function k(){n!==void 0&&clearTimeout(n),j=0,l=S=c=n=void 0}function V(){return n===void 0?m:E(Fb())}function G(){var C=Fb(),ie=H(C);if(l=arguments,c=this,S=C,ie){if(n===void 0)return I(S);if(B)return n=setTimeout(M,t),K(S)}return n===void 0&&(n=setTimeout(M,t)),m}return G.cancel=k,G.flush=V,G}function Fw(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function X7(e){return!!e&&typeof e=="object"}function Z7(e){return typeof e=="symbol"||X7(e)&&$7.call(e)==R7}function f5(e){if(typeof e=="number")return e;if(Z7(e))return p5;if(Fw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Fw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(B7,"");var s=N7.test(e);return s||F7.test(e)?j7(e.slice(2),s?2:8):z7.test(e)?p5:+e}var K7=Y7,Av={},J7={get exports(){return Av},set exports(e){Av=e}},cm=typeof Reflect=="object"?Reflect:null,m5=cm&&typeof cm.apply=="function"?cm.apply:function(t,s,l){return Function.prototype.apply.call(t,s,l)},Qy;cm&&typeof cm.ownKeys=="function"?Qy=cm.ownKeys:Object.getOwnPropertySymbols?Qy=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Qy=function(t){return Object.getOwnPropertyNames(t)};function Q7(e){console&&console.warn&&console.warn(e)}var I8=Number.isNaN||function(t){return t!==t};function wr(){wr.init.call(this)}J7.exports=wr;Av.once=nR;wr.EventEmitter=wr;wr.prototype._events=void 0;wr.prototype._eventsCount=0;wr.prototype._maxListeners=void 0;var g5=10;function Mx(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(wr,"defaultMaxListeners",{enumerable:!0,get:function(){return g5},set:function(e){if(typeof e!="number"||e<0||I8(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");g5=e}});wr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};wr.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||I8(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function L8(e){return e._maxListeners===void 0?wr.defaultMaxListeners:e._maxListeners}wr.prototype.getMaxListeners=function(){return L8(this)};wr.prototype.emit=function(t){for(var s=[],l=1;l<arguments.length;l++)s.push(arguments[l]);var c=t==="error",d=this._events;if(d!==void 0)c=c&&d.error===void 0;else if(!c)return!1;if(c){var m;if(s.length>0&&(m=s[0]),m instanceof Error)throw m;var n=new Error("Unhandled error."+(m?" ("+m.message+")":""));throw n.context=m,n}var S=d[t];if(S===void 0)return!1;if(typeof S=="function")m5(S,this,s);else for(var j=S.length,J=N8(S,j),l=0;l<j;++l)m5(J[l],this,s);return!0};function O8(e,t,s,l){var c,d,m;if(Mx(s),d=e._events,d===void 0?(d=e._events=Object.create(null),e._eventsCount=0):(d.newListener!==void 0&&(e.emit("newListener",t,s.listener?s.listener:s),d=e._events),m=d[t]),m===void 0)m=d[t]=s,++e._eventsCount;else if(typeof m=="function"?m=d[t]=l?[s,m]:[m,s]:l?m.unshift(s):m.push(s),c=L8(e),c>0&&m.length>c&&!m.warned){m.warned=!0;var n=new Error("Possible EventEmitter memory leak detected. "+m.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=m.length,Q7(n)}return e}wr.prototype.addListener=function(t,s){return O8(this,t,s,!1)};wr.prototype.on=wr.prototype.addListener;wr.prototype.prependListener=function(t,s){return O8(this,t,s,!0)};function eR(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function R8(e,t,s){var l={fired:!1,wrapFn:void 0,target:e,type:t,listener:s},c=eR.bind(l);return c.listener=s,l.wrapFn=c,c}wr.prototype.once=function(t,s){return Mx(s),this.on(t,R8(this,t,s)),this};wr.prototype.prependOnceListener=function(t,s){return Mx(s),this.prependListener(t,R8(this,t,s)),this};wr.prototype.removeListener=function(t,s){var l,c,d,m,n;if(Mx(s),c=this._events,c===void 0)return this;if(l=c[t],l===void 0)return this;if(l===s||l.listener===s)--this._eventsCount===0?this._events=Object.create(null):(delete c[t],c.removeListener&&this.emit("removeListener",t,l.listener||s));else if(typeof l!="function"){for(d=-1,m=l.length-1;m>=0;m--)if(l[m]===s||l[m].listener===s){n=l[m].listener,d=m;break}if(d<0)return this;d===0?l.shift():tR(l,d),l.length===1&&(c[t]=l[0]),c.removeListener!==void 0&&this.emit("removeListener",t,n||s)}return this};wr.prototype.off=wr.prototype.removeListener;wr.prototype.removeAllListeners=function(t){var s,l,c;if(l=this._events,l===void 0)return this;if(l.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):l[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete l[t]),this;if(arguments.length===0){var d=Object.keys(l),m;for(c=0;c<d.length;++c)m=d[c],m!=="removeListener"&&this.removeAllListeners(m);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(s=l[t],typeof s=="function")this.removeListener(t,s);else if(s!==void 0)for(c=s.length-1;c>=0;c--)this.removeListener(t,s[c]);return this};function B8(e,t,s){var l=e._events;if(l===void 0)return[];var c=l[t];return c===void 0?[]:typeof c=="function"?s?[c.listener||c]:[c]:s?iR(c):N8(c,c.length)}wr.prototype.listeners=function(t){return B8(this,t,!0)};wr.prototype.rawListeners=function(t){return B8(this,t,!1)};wr.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):z8.call(e,t)};wr.prototype.listenerCount=z8;function z8(e){var t=this._events;if(t!==void 0){var s=t[e];if(typeof s=="function")return 1;if(s!==void 0)return s.length}return 0}wr.prototype.eventNames=function(){return this._eventsCount>0?Qy(this._events):[]};function N8(e,t){for(var s=new Array(t),l=0;l<t;++l)s[l]=e[l];return s}function tR(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function iR(e){for(var t=new Array(e.length),s=0;s<t.length;++s)t[s]=e[s].listener||e[s];return t}function nR(e,t){return new Promise(function(s,l){function c(m){e.removeListener(t,d),l(m)}function d(){typeof e.removeListener=="function"&&e.removeListener("error",c),s([].slice.call(arguments))}F8(e,t,d,{once:!0}),t!=="error"&&sR(e,c,{once:!0})})}function sR(e,t,s){typeof e.on=="function"&&F8(e,"error",t,s)}function F8(e,t,s,l){if(typeof e.on=="function")l.once?e.once(t,s):e.on(t,s);else if(typeof e.addEventListener=="function")e.addEventListener(t,function c(d){l.once&&e.removeEventListener(t,c),s(d)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var rR={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}};function oR(e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}function aR(e){var t=e.match(/<?([^>]*)>(.*)/);if(!t)return null;var s=t[1],l=t[2].split(";"),c=null,d=l.reduce(function(m,n){var S=oR(n);return S?S.key==="rel"?(c||(c=S.value),m):(m[S.key]=S.value,m):m},{});return c?{url:s,rel:c,params:d}:null}function lR(e){return e?e.split(/,\s*</).reduce(function(t,s){var l=aR(s);if(!l)return t;var c=l.rel.split(/\s+/);return c.forEach(function(d){t[d]||(t[d]={url:l.url,params:l.params})}),t},{}):{}}var cR=lR,hR=cR;function kS(e,t){this.request=e,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch{this.body=t.body}this.links=hR(this.headers.link)}kS.prototype.hasNextPage=function(){return!!this.links.next};kS.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};var dR=kS,Ax={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"},_5=Ax;function uR(e){var t=e.type||_5.ERROR_HTTP,s;if(e.body)try{s=JSON.parse(e.body)}catch{s=e.body}else s=null;var l=e.message||null;l||(typeof s=="string"?l=s:s&&typeof s.message=="string"?l=s.message:t===_5.ERROR_REQUEST_ABORTED&&(l="Request aborted")),this.message=l,this.type=t,this.statusCode=e.statusCode||null,this.request=e.request,this.body=s}var pR=uR;function fR(e){var t=e.indexOf(":"),s=e.substring(0,t).trim().toLowerCase(),l=e.substring(t+1).trim();return{name:s,value:l}}function mR(e){var t={};return e&&e.trim().split(/[\r|\n]+/).forEach(function(s){var l=fR(s);t[l.name]=l.value}),t}var gR=mR,_R=dR,y5=pR,jb=Ax,yR=gR,kv={};function vR(e){var t=kv[e.id];t&&(t.abort(),delete kv[e.id])}function xR(e,t){return new _R(e,{body:t.response,headers:yR(t.getAllResponseHeaders()),statusCode:t.status})}function v5(e){var t=e.total,s=e.loaded,l=100*s/t;return{total:t,transferred:s,percent:l}}function j8(e,t){return new Promise(function(s,l){t.onprogress=function(m){e.emitter.emit(jb.EVENT_PROGRESS_DOWNLOAD,v5(m))};var c=e.file;c&&(t.upload.onprogress=function(m){e.emitter.emit(jb.EVENT_PROGRESS_UPLOAD,v5(m))}),t.onerror=function(m){l(m)},t.onabort=function(){var m=new y5({request:e,type:jb.ERROR_REQUEST_ABORTED});l(m)},t.onload=function(){if(delete kv[e.id],t.status<200||t.status>=400){var m=new y5({request:e,body:t.response,statusCode:t.status});l(m);return}s(t)};var d=e.body;typeof d=="string"?t.send(d):d?t.send(JSON.stringify(d)):c?t.send(c):t.send(),kv[e.id]=t}).then(function(s){return xR(e,s)})}function U8(e,t){var s=e.url(t),l=new window.XMLHttpRequest;return l.open(e.method,s),Object.keys(e.headers).forEach(function(c){l.setRequestHeader(c,e.headers[c])}),l}function bR(e){return Promise.resolve().then(function(){var t=U8(e,e.client.accessToken);return j8(e,t)})}var wR={browserAbort:vR,sendRequestXhr:j8,browserSend:bR,createRequestXhr:U8},Pv={},SR={get exports(){return Pv},set exports(e){Pv=e}};/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */(function(e,t){(function(s){var l=t,c=e&&e.exports==l&&e,d=typeof ea=="object"&&ea;(d.global===d||d.window===d)&&(s=d);var m=function(I){this.message=I};m.prototype=new Error,m.prototype.name="InvalidCharacterError";var n=function(I){throw new m(I)},S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=/[\t\n\f\r ]/g,J=function(I){I=String(I).replace(j,"");var O=I.length;O%4==0&&(I=I.replace(/==?$/,""),O=I.length),(O%4==1||/[^+a-zA-Z0-9/]/.test(I))&&n("Invalid character: the string to be decoded is not correctly encoded.");for(var H=0,M,E,k="",V=-1;++V<O;)E=S.indexOf(I.charAt(V)),M=H%4?M*64+E:E,H++%4&&(k+=String.fromCharCode(255&M>>(-2*H&6)));return k},B=function(I){I=String(I),/[^\0-\xFF]/.test(I)&&n("The string to be encoded contains characters outside of the Latin1 range.");for(var O=I.length%3,H="",M=-1,E,k,V,G,C=I.length-O;++M<C;)E=I.charCodeAt(M)<<16,k=I.charCodeAt(++M)<<8,V=I.charCodeAt(++M),G=E+k+V,H+=S.charAt(G>>18&63)+S.charAt(G>>12&63)+S.charAt(G>>6&63)+S.charAt(G&63);return O==2?(E=I.charCodeAt(M)<<8,k=I.charCodeAt(++M),G=E+k,H+=S.charAt(G>>10)+S.charAt(G>>4&63)+S.charAt(G<<2&63)+"="):O==1&&(G=I.charCodeAt(M),H+=S.charAt(G>>2)+S.charAt(G<<4&63)+"=="),H},W={encode:B,decode:J,version:"0.1.0"};if(l&&!l.nodeType)if(c)c.exports=W;else for(var K in W)W.hasOwnProperty(K)&&(l[K]=W[K]);else s.base64=W})(ea)})(SR,Pv);var TR=Pv,Ub={};function ER(e){if(Ub[e])return Ub[e];var t=e.split("."),s=t[0],l=t[1];if(!l)throw new Error("Invalid token");var c=CR(l),d={usage:s,user:c.u};return gf(c,"a")&&(d.authorization=c.a),gf(c,"exp")&&(d.expires=c.exp*1e3),gf(c,"iat")&&(d.created=c.iat*1e3),gf(c,"scopes")&&(d.scopes=c.scopes),gf(c,"client")&&(d.client=c.client),gf(c,"ll")&&(d.lastLogin=c.ll),gf(c,"iu")&&(d.impersonator=c.iu),Ub[e]=d,d}function CR(e){try{return JSON.parse(TR.decode(e))}catch{throw new Error("Invalid token")}}function gf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var G8=ER,jw={},MR={get exports(){return jw},set exports(e){jw=e}};(function(e){var t=Object.prototype.hasOwnProperty,s="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(s=!1));function c(S,j,J){this.fn=S,this.context=j,this.once=J||!1}function d(S,j,J,B,W){if(typeof J!="function")throw new TypeError("The listener must be a function");var K=new c(J,B||S,W),I=s?s+j:j;return S._events[I]?S._events[I].fn?S._events[I]=[S._events[I],K]:S._events[I].push(K):(S._events[I]=K,S._eventsCount++),S}function m(S,j){--S._eventsCount===0?S._events=new l:delete S._events[j]}function n(){this._events=new l,this._eventsCount=0}n.prototype.eventNames=function(){var j=[],J,B;if(this._eventsCount===0)return j;for(B in J=this._events)t.call(J,B)&&j.push(s?B.slice(1):B);return Object.getOwnPropertySymbols?j.concat(Object.getOwnPropertySymbols(J)):j},n.prototype.listeners=function(j){var J=s?s+j:j,B=this._events[J];if(!B)return[];if(B.fn)return[B.fn];for(var W=0,K=B.length,I=new Array(K);W<K;W++)I[W]=B[W].fn;return I},n.prototype.listenerCount=function(j){var J=s?s+j:j,B=this._events[J];return B?B.fn?1:B.length:0},n.prototype.emit=function(j,J,B,W,K,I){var O=s?s+j:j;if(!this._events[O])return!1;var H=this._events[O],M=arguments.length,E,k;if(H.fn){switch(H.once&&this.removeListener(j,H.fn,void 0,!0),M){case 1:return H.fn.call(H.context),!0;case 2:return H.fn.call(H.context,J),!0;case 3:return H.fn.call(H.context,J,B),!0;case 4:return H.fn.call(H.context,J,B,W),!0;case 5:return H.fn.call(H.context,J,B,W,K),!0;case 6:return H.fn.call(H.context,J,B,W,K,I),!0}for(k=1,E=new Array(M-1);k<M;k++)E[k-1]=arguments[k];H.fn.apply(H.context,E)}else{var V=H.length,G;for(k=0;k<V;k++)switch(H[k].once&&this.removeListener(j,H[k].fn,void 0,!0),M){case 1:H[k].fn.call(H[k].context);break;case 2:H[k].fn.call(H[k].context,J);break;case 3:H[k].fn.call(H[k].context,J,B);break;case 4:H[k].fn.call(H[k].context,J,B,W);break;default:if(!E)for(G=1,E=new Array(M-1);G<M;G++)E[G-1]=arguments[G];H[k].fn.apply(H[k].context,E)}}return!0},n.prototype.on=function(j,J,B){return d(this,j,J,B,!1)},n.prototype.once=function(j,J,B){return d(this,j,J,B,!0)},n.prototype.removeListener=function(j,J,B,W){var K=s?s+j:j;if(!this._events[K])return this;if(!J)return m(this,K),this;var I=this._events[K];if(I.fn)I.fn===J&&(!W||I.once)&&(!B||I.context===B)&&m(this,K);else{for(var O=0,H=[],M=I.length;O<M;O++)(I[O].fn!==J||W&&!I[O].once||B&&I[O].context!==B)&&H.push(I[O]);H.length?this._events[K]=H.length===1?H[0]:H:m(this,K)}return this},n.prototype.removeAllListeners=function(j){var J;return j?(J=s?s+j:j,this._events[J]&&m(this,J)):(this._events=new l,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=s,n.EventEmitter=n,e.exports=n})(MR);function AR(e){return e.map(encodeURIComponent).join(",")}function V8(e){return Array.isArray(e)?AR(e):encodeURIComponent(String(e))}function H8(e,t,s){if(s===!1||s===null)return e;var l=/\?/.test(e)?"&":"?",c=encodeURIComponent(t);return s!==void 0&&s!==""&&s!==!0&&(c+="="+V8(s)),""+e+l+c}function kR(e,t){if(!t)return e;var s=e;return Object.keys(t).forEach(function(l){var c=t[l];c!==void 0&&(Array.isArray(c)&&(c=c.filter(function(d){return d!=null}).join(",")),s=H8(s,l,c))}),s}function PR(e,t){if(!t||e.slice(0,4)==="http")return e;var s=e[0]==="/"?"":"/";return""+t.replace(/\/$/,"")+s+e}function DR(e,t){return t?e.replace(/\/:([a-zA-Z0-9]+)/g,function(s,l){var c=t[l];if(c===void 0)throw new Error("Unspecified route parameter "+l);var d=V8(c);return"/"+d}):e}var IR={appendQueryObject:kR,appendQueryParam:H8,prependOrigin:PR,interpolateRouteParams:DR},LR=G8,PS=Dm,OR=jw,Ny=IR,x5=Ax,RR=1;function mp(e,t){if(!e)throw new Error("MapiRequest requires a client");if(!t||!t.path||!t.method)throw new Error("MapiRequest requires an options object with path and method properties");var s={};t.body&&(s["content-type"]="application/json");var l=PS(s,t.headers),c=Object.keys(l).reduce(function(d,m){return d[m.toLowerCase()]=l[m],d},{});this.id=RR++,this._options=t,this.emitter=new OR,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=t.path,this.method=t.method,this.origin=t.origin||e.origin,this.query=t.query||{},this.params=t.params||{},this.body=t.body||null,this.file=t.file||null,this.encoding=t.encoding||"utf8",this.sendFileAs=t.sendFileAs||null,this.headers=c}mp.prototype.url=function(t){var s=Ny.prependOrigin(this.path,this.origin);s=Ny.appendQueryObject(s,this.query);var l=this.params,c=t??this.client.accessToken;if(c){s=Ny.appendQueryParam(s,"access_token",c);var d=LR(c).user;l=PS({ownerId:d},l)}return s=Ny.interpolateRouteParams(s,l),s};mp.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then(function(s){return t.response=s,t.emitter.emit(x5.EVENT_RESPONSE,s),s},function(s){throw t.error=s,t.emitter.emit(x5.EVENT_ERROR,s),s})};mp.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))};mp.prototype.eachPage=function(t){var s=this;function l(m){function n(){delete s._nextPageRequest;var S=m.nextPage();S&&(s._nextPageRequest=S,d(S))}t(null,m,n)}function c(m){t(m,null,function(){})}function d(m){m.send().then(l,c)}d(this)};mp.prototype.clone=function(){return this._extend()};mp.prototype._extend=function(t){var s=PS(this._options,t);return new mp(this.client,s)};var BR=mp,zR=G8,NR=BR,FR=Ax;function $8(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");zR(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||FR.API_ORIGIN}$8.prototype.createRequest=function(t){return new NR(this,t)};var W8=$8,q8=wR,Y8=W8;function xm(e){Y8.call(this,e)}xm.prototype=Object.create(Y8.prototype);xm.prototype.constructor=xm;xm.prototype.sendRequest=q8.browserSend;xm.prototype.abortRequest=q8.browserAbort;function jR(e){return new xm(e)}var X8=jR,UR=X8,GR=UR,VR=Object.prototype.toString,HR=function(e){var t;return VR.call(e)==="[object Object]"&&(t=Object.getPrototypeOf(e),t===null||t===Object.getPrototypeOf({}))},$R=HR,WR=Dm,Z8="value",Gb=`
  `,Fr={};Fr.assert=function(e,t){return t=t||{},function(s){var l=gp(e,s);if(l){var c=DS(l,t);throw t.apiName&&(c=t.apiName+": "+c),new Error(c)}}};Fr.shape=function(t){var s=ZR(t);return function(c){var d=gp(Fr.plainObject,c);if(d)return d;for(var m,n,S=[],j=0;j<s.length;j++)m=s[j].key,n=s[j].value,d=gp(n,c[m]),d&&S.push([m].concat(d));return S.length<2?S[0]:function(J){S=S.map(function(K){var I=K[0],O=DS(K,J).split(`
`).join(Gb);return"- "+I+": "+O});var B=J.path.join("."),W=B===Z8?"":" of "+B;return"The following properties"+W+" have invalid values:"+Gb+S.join(Gb)}}};Fr.strictShape=function(t){var s=Fr.shape(t);return function(c){var d=s(c);if(d)return d;var m=Object.keys(c).reduce(function(n,S){return t[S]===void 0&&n.push(S),n},[]);if(m.length!==0)return function(){return"The following keys are invalid: "+m.join(", ")}}};Fr.arrayOf=function(t){return K8(t)};Fr.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return K8(t)};function K8(e){var t=Array.isArray(e),s=function(l){return t?e[l]:e};return function(c){var d=gp(Fr.plainArray,c);if(d)return d;if(t&&c.length!==e.length)return"an array with "+e.length+" items";for(var m=0;m<c.length;m++)if(d=gp(s(m),c[m]),d)return[m].concat(d)}}Fr.required=function(t){function s(l){return l==null?function(c){return J8(c,Q8(c.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return s.__required=!0,s};Fr.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(l){var c=t.map(function(d){return gp(d,l)}).filter(Boolean);if(c.length===t.length)return c.every(function(d){return d.length===1&&typeof d[0]=="string"})?qR(c.map(function(d){return d[0]})):c.reduce(function(d,m){return m.length>d.length?m:d})}};Fr.equal=function(t){return function(l){if(l!==t)return JSON.stringify(t)}};Fr.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),s=t.map(function(l){return Fr.equal(l)});return Fr.oneOfType.apply(this,s)};Fr.range=function(t){var s=t[0],l=t[1];return function(d){var m=gp(Fr.number,d);if(m||d<s||d>l)return"number between "+s+" & "+l+" (inclusive)"}};Fr.any=function(){};Fr.boolean=function(t){if(typeof t!="boolean")return"boolean"};Fr.number=function(t){if(typeof t!="number")return"number"};Fr.plainArray=function(t){if(!Array.isArray(t))return"array"};Fr.plainObject=function(t){if(!$R(t))return"object"};Fr.string=function(t){if(typeof t!="string")return"string"};Fr.func=function(t){if(typeof t!="function")return"function"};function gp(e,t){if(!(t==null&&!e.hasOwnProperty("__required"))){var s=e(t);if(s)return Array.isArray(s)?s:[s]}}function DS(e,t){var s=e.length,l=e[s-1],c=e.slice(0,s-1);return c.length===0&&(c=[Z8]),t=WR(t,{path:c}),typeof l=="function"?l(t):J8(t,YR(l))}function qR(e){return e.length<2?e[0]:e.length===2?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e.slice(-1)}function YR(e){return"must be "+XR(e)+"."}function XR(e){return/^an? /.test(e)?e:/^[aeiou]/i.test(e)?"an "+e:/^[a-z]/i.test(e)?"a "+e:e}function J8(e,t){var s=Q8(e.path),l=e.path.join(".")+" "+t,c=s?"Item at position ":"";return c+l}function Q8(e){return typeof e[e.length-1]=="number"||typeof e[0]=="number"}function ZR(e){return Object.keys(e||{}).map(function(t){return{key:t,value:e[t]}})}Fr.validate=gp;Fr.processMessage=DS;var KR=Fr,JR=Dm,hm=KR;function QR(e){if(typeof window<"u")return e instanceof ea.Blob||e instanceof ea.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof e=="string"||e.pipe!==void 0))return"Filename or Readable stream"}function eB(e,t){return hm.assert(hm.strictShape(e),t)}function tB(e){var t="date";if(typeof e=="boolean")return t;try{var s=new Date(e);if(s.getTime&&isNaN(s.getTime()))return t}catch{return t}}function iB(e){return hm.tuple(hm.number,hm.number)(e)}var nB=JR(hm,{file:QR,date:tB,coordinates:iB,assertShape:eB});function sB(e,t){var s=function(l,c){return t.indexOf(l)!==-1&&c!==void 0};return typeof t=="function"&&(s=t),Object.keys(e).filter(function(l){return s(l,e[l])}).reduce(function(l,c){return l[c]=e[c],l},{})}var rB=sB;function oB(e,t){return Object.keys(e).reduce(function(s,l){return s[l]=t(l,e[l]),s},{})}var aB=oB,lB=aB;function cB(e){return lB(e,function(t,s){return typeof s=="boolean"?JSON.stringify(s):s})}var hB=cB,dB=W8,uB=X8;function pB(e){return function(t){var s;dB.prototype.isPrototypeOf(t)?s=t:s=uB(t);var l=Object.create(e);return l.client=s,l}}var fB=pB,eA=Dm,js=nB,Dv=rB,tA=hB,mB=fB,IS={},iA=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];IS.forwardGeocode=function(e){js.assertShape({query:js.required(js.string),mode:js.oneOf("mapbox.places","mapbox.places-permanent"),countries:js.arrayOf(js.string),proximity:js.oneOf(js.coordinates,"ip"),types:js.arrayOf(js.oneOf(iA)),autocomplete:js.boolean,bbox:js.arrayOf(js.number),limit:js.number,language:js.arrayOf(js.string),routing:js.boolean,fuzzyMatch:js.boolean,worldview:js.string})(e),e.mode=e.mode||"mapbox.places";var t=tA(eA({country:e.countries},Dv(e,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Dv(e,["mode","query"]),query:t})};IS.reverseGeocode=function(e){js.assertShape({query:js.required(js.coordinates),mode:js.oneOf("mapbox.places","mapbox.places-permanent"),countries:js.arrayOf(js.string),types:js.arrayOf(js.oneOf(iA)),bbox:js.arrayOf(js.number),limit:js.number,language:js.arrayOf(js.string),reverseMode:js.oneOf("distance","score"),routing:js.boolean,worldview:js.string})(e),e.mode=e.mode||"mapbox.places";var t=tA(eA({country:e.countries},Dv(e,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Dv(e,["mode","query"]),query:t})};var gB=mB(IS);let _B="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",nA=e=>crypto.getRandomValues(new Uint8Array(e)),sA=(e,t,s)=>{let l=(2<<Math.log(e.length-1)/Math.LN2)-1,c=-~(1.6*l*t/e.length);return(d=t)=>{let m="";for(;;){let n=s(c),S=c;for(;S--;)if(m+=e[n[S]&l]||"",m.length===d)return m}}},yB=(e,t=21)=>sA(e,t,nA),vB=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,s)=>(s&=63,s<36?t+=s.toString(36):s<62?t+=(s-26).toString(36).toUpperCase():s>62?t+="-":t+="_",t),"");const xB=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:yB,customRandom:sA,nanoid:vB,random:nA,urlAlphabet:_B},Symbol.toStringTag,{value:"Module"})),bB=B5(xB);var wB=bB.nanoid;function rA(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}rA.prototype={select:function(e,t){var s=this.getSelectedIndex(e,t),l=this.getEventPayload("search.select",t);if(l.resultIndex=s,l.resultPlaceName=e.place_name,l.resultId=e.id,!(s===this.lastSentIndex&&l.queryString===this.lastSentInput||s==-1)&&(this.lastSentIndex=s,this.lastSentInput=l.queryString,!!l.queryString))return this.push(l)},start:function(e){var t=this.getEventPayload("search.start",e);if(t.queryString)return this.push(t)},keyevent:function(e,t){if(e.key&&!(e.metaKey||[9,27,37,39,13,38,40].indexOf(e.keyCode)!==-1)){var s=this.getEventPayload("search.keystroke",t);if(s.lastAction=e.key,!!s.queryString)return this.push(s)}},send:function(e,t){if(!this.enableEventLogging)return t?t():void 0;var s=this.getRequestOptions(e);this.request(s,function(l){if(l)return this.handleError(l,t);if(t)return t()}.bind(this))},getRequestOptions:function(e){Array.isArray(e)||(e=[e]);var t={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return t},getEventPayload:function(e,t){var s;t.options.proximity?typeof t.options.proximity=="object"?s=[t.options.proximity.longitude,t.options.proximity.latitude]:t.options.proximity==="ip"?s=[999,999]:s=t.options.proximity:s=null;var l=t._map?t._map.getZoom():void 0,c={event:e,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:t.options.autocomplete,fuzzyMatch:t.options.fuzzyMatch,proximity:s,limit:t.options.limit,routing:t.options.routing,worldview:t.options.worldview,mapZoom:l,keyboardLocale:this.locale};return e==="search.select"?c.queryString=t.inputString:e!="search.select"&&t._inputEl?c.queryString=t._inputEl.value:c.queryString=t.inputString,c},request:function(e,t){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(this.readyState==4)return this.status==204?t(null):t(this.statusText)},s.open(e.method,e.host+"/"+e.path,!0);for(var l in e.headers){var c=e.headers[l];s.setRequestHeader(l,c)}s.send(e.body)},handleError:function(e,t){if(t)return t(e)},generateSessionID:function(){return wB()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,t){if(t._typeahead){var s=t._typeahead.data,l=e.id,c=s.map(function(m){return m.id}),d=c.indexOf(l);return d}},shouldEnableLogging:function(e){return!(e.enableEventLogging===!1||e.origin&&e.origin!=="https://api.mapbox.com"||e.localGeocoder||e.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,t){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}};var SB=rA,TB={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"},EB={placeholder:TB},Uw={},CB={get exports(){return Uw},set exports(e){Uw=e}};(function(e){(function(t,s,l){e.exports?e.exports=l():t[s]=l()})(ea,"subtag",function(){var t="",s=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function l(S){return S.match(s)||[]}function c(S){return l(S).filter(function(j,J){return j&&J})}function d(S){return S=l(S),{language:S[1]||t,extlang:S[2]||t,script:S[3]||t,region:S[4]||t}}function m(S,j,J){Object.defineProperty(S,j,{value:J,enumerable:!0})}function n(S,j,J){function B(W){return l(W)[S]||t}m(B,"pattern",j),m(d,J,B)}return n(1,/^[a-zA-Z]{2,3}$/,"language"),n(2,/^[a-zA-Z]{3}$/,"extlang"),n(3,/^[a-zA-Z]{4}$/,"script"),n(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),m(d,"split",c),d})})(CB);function oA(){}oA.prototype={isSupport:function(){return Boolean(window.navigator.geolocation)},getCurrentPosition:function(){const e={enableHighAccuracy:!0};return new Promise(function(t,s){window.navigator.geolocation.getCurrentPosition(t,s,e)})}};var MB=oA;function AB(e,t){const s=aA(e),l=["address","street","place","country"];var c;if(typeof t=="function")return t(s);const d=l.indexOf(t);return d===-1?c=l:c=l.slice(d),c.reduce(function(m,n){return s[n]?(m!==""&&(m=m+", "),m+s[n]):m},"")}function aA(e){const t=e.address||"",s=e.text||"",l=e.place_name||"",d={address:l.split(",")[0],houseNumber:t,street:s,placeName:l};return e.context.forEach(function(m){const n=m.id.split(".")[0];d[n]=m.text}),d}const kB=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;var PB={transformFeatureToGeolocationText:AB,getAddressInfo:aA,REVERSE_GEOCODE_COORD_RGX:kB},DB=L7,IB=K7,yf=Dm,LB=Av.EventEmitter,b5=rR,Vb=GR,Hb=gB,OB=SB,RB=EB,BB=Uw,zB=MB,w5=PB;const Xu={FORWARD:0,LOCAL:1,REVERSE:2};function NB(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function lA(e){this._eventEmitter=new LB,this.options=yf({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new zB}lA.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(e){return e.place_name},render:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"}},addTo:function(e){function t(s,l){if(!document.body.contains(l))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const c=s.onAdd();l.appendChild(c)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){const s=document.querySelectorAll(e);if(s.length===0)throw new Error("Element ",e,"not found.");if(s.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,s[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=Hb(Vb({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new OB(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var s=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",IB(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(j){this.eventManager.keyevent(j,this)}.bind(this));var l=document.createElement("div");l.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var c=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(c),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),l.appendChild(this._clearEl),l.appendChild(this._loadingEl),t.appendChild(s),t.appendChild(this._inputEl),t.appendChild(l),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var d=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(d),l.appendChild(this._geolocateEl),this._showGeolocateButton()}var m=this._typeahead=new DB(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),m.getItemValue=this.options.getItemValue;var n=m.list.draw,S=this._footerNode=NB();return m.list.draw=function(){n.call(this),S.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),S.addEventListener("mouseup",function(){this.selectingListItem=!1}.bind(this)),this.element.appendChild(S)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),t},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then(function(e){this._hideLoadingIcon();const t={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(t),this._fly(t),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(t),this._showClearButton(),this.fresh=!1;const s={limit:1,language:[this.options.language],query:t.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){const l=t.geometry.coordinates[0]+","+t.geometry.coordinates[1];this._setInputValue(l),this._eventEmitter.emit("result",{result:t})}else this.geocoderService.reverseGeocode(s).send().then(function(l){const c=l.body.features[0];if(c){const d=w5.transformFeatureToGeolocationText(c,this.options.addressAccuracy);this._setInputValue(d),c.user_coordinates=t.geometry.coordinates,this._eventEmitter.emit("result",{result:c})}else this._eventEmitter.emit("result",{result:{user_coordinates:t.geometry.coordinates}})}.bind(this))}.bind(this)).catch(function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}.bind(this))},createIcon:function(e,t){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");return s.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),s.setAttribute("viewBox","0 0 18 18"),s.setAttribute("xml:space","preserve"),s.setAttribute("width",18),s.setAttribute("height",18),s.innerHTML=t,s},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout(function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}.bind(this),1)},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this._geocode(t)},_onKeyDown:function(e){var t=27,s=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var l=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,c=l?l.value:"";if(!c)return this.fresh=!0,e.keyCode!==s&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(e.metaKey||[s,t,37,39,13,38,40].indexOf(e.keyCode)!==-1)&&l.value.length>=this.options.minLength&&this._geocode(l.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var t;if(e.properties&&b5[e.properties.short_code])t=yf({},this.options.flyTo),this._map&&this._map.fitBounds(b5[e.properties.short_code].bbox,t);else if(e.bbox){var s=e.bbox;t=yf({},this.options.flyTo),this._map&&this._map.fitBounds([[s[0],s[1]],[s[2],s[3]]],t)}else{var l={zoom:this.options.zoom};t=yf({},l,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}},_requestType:function(e,t){var s;return e.localGeocoderOnly?s=Xu.LOCAL:e.reverseGeocode&&w5.REVERSE_GEOCODE_COORD_RGX.test(t)?s=Xu.REVERSE:s=Xu.FORWARD,s},_setupConfig:function(e,t){const s=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],l=/[\s,]+/;var c=this,d=s.reduce(function(n,S){if(c.options[S]===void 0||c.options[S]===null)return n;["countries","types","language"].indexOf(S)>-1?n[S]=c.options[S].split(l):n[S]=c.options[S];const j=typeof c.options[S].longitude=="number"&&typeof c.options[S].latitude=="number";if(S==="proximity"&&j){const J=c.options[S].longitude,B=c.options[S].latitude;n[S]=[J,B]}return n},{});switch(e){case Xu.REVERSE:{var m=t.split(l).map(function(n){return parseFloat(n,10)});c.options.flipCoordinates||m.reverse(),d.types&&d.types[0],d=yf(d,{query:m,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(n){n in d&&delete d[n]})}break;case Xu.FORWARD:{const n=t.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(n)&&(t=t.replace(/,/g," ")),d=yf(d,{query:t})}break}return d},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});const t=this._requestType(this.options,e),s=this._setupConfig(t,e);var l;switch(t){case Xu.LOCAL:l=Promise.resolve();break;case Xu.FORWARD:l=this.geocoderService.forwardGeocode(s).send();break;case Xu.REVERSE:l=this.geocoderService.reverseGeocode(s).send();break}var c=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],d=[],m=null;return l.catch(function(n){m=n}.bind(this)).then(function(n){this._hideLoadingIcon();var S={};return n?n.statusCode=="200"&&(S=n.body,S.request=n.request,S.headers=n.headers):S={type:"FeatureCollection",features:[]},S.config=s,this.fresh&&(this.eventManager.start(this),this.fresh=!1),S.features=S.features?c.concat(S.features):c,this.options.externalGeocoder?(d=this.options.externalGeocoder(e,S.features)||Promise.resolve([]),d.then(function(j){return S.features=S.features?j.concat(S.features):j,S},function(){return S})):S}.bind(this)).then(function(n){if(m)throw m;this.options.filter&&n.features.length&&(n.features=n.features.filter(this.options.filter)),n.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",n),this._typeahead.update(n.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",n))}.bind(this)).catch(function(n){this._hideLoadingIcon(),this._hideAttribution(),c.length&&this.options.localGeocoder||d.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(c)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:c}),this._eventEmitter.emit("error",{error:n})}.bind(this)),l},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var t=this;e.relatedTarget&&t._clear(e)},_onQueryResult:function(e){var t=e.body;if(t.features.length){var s=t.features[0];this._typeahead.selected=s,this._inputEl.value=s.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderLocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderUserDeniedGeolocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=BB.language(e),s=RB.placeholder[t];if(s)return s}return"Search"},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this._geocode(e),this},setProximity:function(e,t=!0){return this.options.proximity=e,t&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=Hb(Vb({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=Hb(Vb({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var t={color:"#4668F2"},s=yf({},t,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(s),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this.eventManager.remove(),this}};var FB=lA;function jB(){return{map:Af("mapbox-map")}}var $b=new Map,UB=/onMb([A-Z])(.+)/;function GB(e){return $b.has(e)||$b.set(e,e.replace(UB,(t,s,l)=>s.toLowerCase()+l)),$b.get(e)}function cA(e,t,s=[],l=null){const c=O3(),d=Am(()=>Object.entries(c).filter(([j,J])=>j.startsWith("on")&&typeof J=="function").map(([j])=>j)),m=new Map;function n(j){Array.isArray(j)&&j.forEach(J=>{const B=m.get(J);typeof B=="function"&&B()})}function S(j){Array.isArray(j)&&j.forEach(J=>{const B=GB(J);if(!s.includes(B))return;const W=(...K)=>{e(`mb-${B}`,...K)};l?(Go(t).on(B,l,W),m.set(J,()=>{Go(t).off(B,l,W)})):(Go(t).on(B,W),m.set(J,()=>{Go(t).off(B,W)}))})}ah(d,(j,J)=>{const B=Array.isArray(j)?(J??[]).filter(K=>!j.includes(K)):J??[],W=Array.isArray(J)?(j??[]).filter(K=>!J.includes(K)):j??[];if(Go(t))n(B),S(W);else{const K=ah(t,I=>{I&&(n(B),S(W),K())})}},{immediate:!0})}function VB(e){return e.charAt(0).toUpperCase()+e.slice(1)}function hA(e,t,s){function l(c){Object.keys(e).filter(d=>e[d]!==void 0&&e[d]!==null).forEach(d=>{var m,n;const S=d==="mapStyle"?"setStyle":`set${VB(d)}`,j=typeof c[S]=="function",J=typeof s[d]>"u"||"bind"in s[d]?(n=(m=s[d])==null?void 0:m.bind)!=null?n:!1:!0;if(!j||!J)return;const{type:B}=e[d],W={deep:B===Object||Array.isArray(B)&&B.includes(Object)};ah(()=>e[d],K=>{c[S](K)},W)})}if(Go(t))l(Go(t));else{const c=ah(t,d=>{d&&(l(d),c())})}}function HB(e,{propsConfig:t,props:s,emit:l,events:c=[]}){const{map:d}=jB(),m=co();return Array.isArray(c)&&c.length&&cA(l,m,c),typeof t<"u"&&hA(s,m,t),ah(()=>s.position,n=>{Go(d)&&Go(d).removeControl(Go(m)).addControl(Go(m),n)}),yd(async()=>{const n=new e(s);Go(d)&&Go(d).addControl(n,s.position),await Cm(),m.value=n}),Hf(()=>{Go(m)&&Go(d)&&Go(d).removeControl(Go(m))}),{control:m,map:d}}var dA=(e,t)=>{const s=e.__vccOpts||e;for(const[l,c]of t)s[l]=c;return s};if(!Al)throw new Error("mapboxgl is not installed.");if(!FB)throw new Error("MapboxGeocoder is not installed.");var $B={key:0},WB={key:1};if(!Al)throw new Error("mapboxgl is not installed.");var{LngLatBounds:S5,LngLat:qB}=Al,T5={accessToken:{type:String,default:"no-token"},container:{type:[typeof HTMLElement<"u"&&HTMLElement,String],default:void 0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:22},minPitch:{type:Number,default:0},maxPitch:{type:Number,default:60},mapStyle:{type:[Object,String],required:!0},hash:{type:Boolean,default:!1},interactive:{type:Boolean,default:!0},bearingSnap:{type:Number,default:7},pitchWithRotate:{type:Boolean,default:!0},clickTolerance:{type:Number,default:3},attributionControl:{type:Boolean,default:!0},customAttribution:{type:[String,Array],default:null},logoPosition:{type:String,default:"bottom-left"},failIfMajorPerformanceCaveat:{type:Boolean,default:!1},preserveDrawingBuffer:{type:Boolean,default:!1},antialias:{type:Boolean,default:!1},refreshExpiredTiles:{type:Boolean,default:!0},maxBounds:{type:[S5,Array],default:void 0},scrollZoom:{type:[Boolean,Object],default:!0},boxZoom:{type:Boolean,default:!0},dragRotate:{type:Boolean,default:!0},dragPan:{type:[Boolean,Object],default:!0},keyboard:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},touchZoomRotate:{type:[Boolean,Object],default:!0},trackResize:{type:Boolean,default:!0},center:{type:[qB,Array,Object],default:()=>[0,0]},zoom:{type:Number,default:0},bearing:{type:Number,default:0},pitch:{type:Number,default:0},bounds:{type:[S5,Array],default:void 0},fitBoundsOptions:{type:Object,default:null},renderWorldCopies:{type:Boolean,default:!0},maxTileCacheSize:{type:Number,default:null},localIdeographFontFamily:{type:String,default:"sans-serif"},transformRequest:{type:Function,default:null},collectResourceTiming:{type:Boolean,default:!1},fadeDuration:{type:Number,default:300},crossSourceCollisions:{type:Boolean,default:!0}},YB=["boxzoomcancel","boxzoomend","boxzoomstart","click","contextmenu","data","dataloading","dblclick","drag","dragend","dragstart","error","idle","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","move","moveend","movestart","pitch","pitchend","pitchstart","remove","render","resize","rotate","rotateend","rotatestart","sourcedata","sourcedataloading","styledata","styledataloading","styleimagemissing","touchcancel","touchend","touchmove","touchstart","webglcontextlost","webglcontextrestored","wheel","zoom","zoomend","zoomstart"],XB={inheritAttrs:!1},ZB=Object.assign(XB,{__name:"MapboxMap",props:T5,setup(e,{expose:t,emit:s}){const l=e,c=co();Mm("mapbox-map",c);const d=co(),m=co(!1),n=Am(()=>{const{accessToken:S,mapStyle:j,...J}=l;return!J.container&&d.value&&(J.container=d.value),{style:j,...J}});return cA(s,c,YB),hA(l,c,T5),yd(()=>{Al.accessToken=l.accessToken,c.value=new Al.Map(n.value),c.value.on("load",()=>{m.value=!0}),s("mb-created",c.value);const S=new ResizeObserver(()=>{c.value.resize()});S.observe(n.value.container),Hf(()=>{S.disconnect(),c.value.remove()})}),t({map:c}),(S,j)=>(di(),vi(Jn,null,[et("div",ax({ref_key:"root",ref:d},S.$attrs),null,16),m.value?(di(),vi("div",$B,[ih(S.$slots,"default")])):(di(),vi("div",WB,[ih(S.$slots,"loader")]))],64))}}),kx=dA(ZB,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxMap.vue"]]);if(!Al)throw new Error("mapboxgl is not installed.");var E5={showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:{type:Boolean,default:!1},position:{type:String,default:"top-right",bind:!1}},KB={__name:"MapboxNavigationControl",props:E5,setup(e,{expose:t}){const s=e,{NavigationControl:l}=Al,{control:c}=HB(l,{props:s,propsConfig:E5});return t({control:c}),(d,m)=>(di(),vi("div"))}},Px=dA(KB,[["__file","/home/runner/work/vue-mapbox-gl/vue-mapbox-gl/packages/vue-mapbox-gl/components/MapboxNavigationControl.vue"]]);const Rs=(e,t)=>{const s=e.__vccOpts||e;for(const[l,c]of t)s[l]=c;return s},JB={props:{fleets:Array},data(){return{isExpand:!1,keyword:""}},methods:{searchExpand(){this.isExpand=!this.isExpand;let e=this.$refs.searchBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="40px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},search(){this.keyword.length>=2&&!this.isExpand&&this.searchExpand(),this.keyword.length==0&&this.isExpand&&this.searchExpand()},selected(e){this.$emit("selected",e)}},computed:{filters(){return this.fleets.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase()))}}},QB={class:"ships-list position-absolute",ref:"cSearch"},ez={class:"card",style:{height:"100%"}},tz={class:"card-header search"},iz={action:"#",method:"get",style:{width:"100%"}},nz={class:"input-icon"},sz=zh('<span class="input-icon-addon"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg></span>',1),rz={class:"card-actions btn-actions"},oz={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},az=et("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),lz=et("polyline",{points:"15 6 9 12 15 18"},null,-1),cz=[az,lz],hz={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},dz=et("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),uz=et("polyline",{points:"6 9 12 15 18 9"},null,-1),pz=[dz,uz],fz={class:"card-body card-body-scrollable card-body-scrollable-shadow search-body",ref:"searchBody"},mz={class:"divide-y pointer"},gz=["onClick"],_z={class:"row"},yz=et("div",{class:"col-auto"},[et("span",{class:"avatar",style:{"background-image":"url('')"}})],-1),vz={class:"col p-0"},xz={class:"text-truncate"},bz={class:"text-muted text-sm"},wz={key:0,class:"col-auto"},Sz=et("div",{class:"badge bg-success"},null,-1),Tz=et("span",{class:"text-xs ml-1"},"Online",-1),Ez={class:"text-xs"},Cz={key:1,class:"col-auto"},Mz=et("div",{class:"badge bg-danger"},null,-1),Az=et("span",{class:"text-xs ml-1"},"Offline",-1),kz={class:"text-xs"};function Pz(e,t,s,l,c,d){return di(),vi("div",QB,[et("div",ez,[et("div",tz,[et("form",iz,[et("div",nz,[sz,Po(et("input",{type:"text",onKeyup:t[0]||(t[0]=(...m)=>d.search&&d.search(...m)),"onUpdate:modelValue":t[1]||(t[1]=m=>c.keyword=m),class:"form-control",placeholder:"Search…","aria-label":"Search in website"},null,544),[[Oh,c.keyword]])])]),et("div",rz,[et("a",{href:"#",class:"btn-action",onClick:t[2]||(t[2]=(...m)=>d.searchExpand&&d.searchExpand(...m))},[c.isExpand?Kn("",!0):(di(),vi("svg",oz,cz)),c.isExpand?(di(),vi("svg",hz,pz)):Kn("",!0)])])]),et("div",fz,[et("div",mz,[(di(!0),vi(Jn,null,Nr(d.filters,m=>(di(),vi("div",{key:m.id,onClick:n=>d.selected(m)},[et("div",_z,[yz,et("div",vz,[et("div",xz,cn(m.name),1),et("div",bz,cn(m.imo_number),1)]),m.connected?(di(),vi("div",wz,[Sz,Tz,et("div",Ez,cn(e.$filters.dateformat(m.last_connection,"DD/MM HH:mm")),1)])):Kn("",!0),m.connected?Kn("",!0):(di(),vi("div",Cz,[Mz,Az,et("div",kz,cn(e.$filters.dateformat(m.last_connection,"DD/MM HH:mm")),1)]))])],8,gz))),128))])],512)])],512)}const uA=Rs(JB,[["render",Pz]]),Dz={data(){return{isExpand:!0,notifications:[{id:1,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:2,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:3,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:4,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:5,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:6,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:7,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"},{id:8,title:"SPEED THROUGH WATER",date:"2022-11-19",desc:"Vessel observed to be in idle condition"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},Im=e=>(jf("data-v-cbda607e"),e=e(),Uf(),e),Iz={class:"ships-notification",ref:"cSearch"},Lz={class:"card",style:{height:"100%"}},Oz={class:"card-header search"},Rz=Im(()=>et("h4",{class:"card-title"}," Active Notifications ",-1)),Bz={class:"card-actions btn-actions"},zz={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Nz=Im(()=>et("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),Fz=Im(()=>et("polyline",{points:"15 6 9 12 15 18"},null,-1)),jz=[Nz,Fz],Uz={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Gz=Im(()=>et("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),Vz=Im(()=>et("polyline",{points:"6 9 12 15 18 9"},null,-1)),Hz=[Gz,Vz],$z={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},Wz={class:"divide-y"},qz=zh('<div class="notif-status" data-v-cbda607e><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/alarm.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Alarm</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/volume.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>4</span></div><div data-v-cbda607e>Warning</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/caution.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Caution</div></div><div class="status-item" data-v-cbda607e><div class="status-icon" data-v-cbda607e><img src="img/icons/info-blue.png" alt="" width="20" data-v-cbda607e><span class="fw-bold h6" data-v-cbda607e>2</span></div><div data-v-cbda607e>Info</div></div></div>',1),Yz={class:"row"},Xz=Im(()=>et("div",{class:"col-auto"},[et("img",{src:"img/icons/caution.png",alt:"",width:"20"})],-1)),Zz={class:"col"},Kz={class:"fw-bold"},Jz={class:"text-sm"};function Qz(e,t,s,l,c,d){return di(),vi("div",Iz,[et("div",Lz,[et("div",Oz,[Rz,et("div",Bz,[et("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...m)=>d.notifExpand&&d.notifExpand(...m))},[c.isExpand?Kn("",!0):(di(),vi("svg",zz,jz)),c.isExpand?(di(),vi("svg",Uz,Hz)):Kn("",!0)])])]),et("div",$z,[et("div",Wz,[qz,(di(!0),vi(Jn,null,Nr(c.notifications,m=>(di(),vi("div",{key:m.id,class:"py-2 border-bottom border-white"},[et("div",Yz,[Xz,et("div",Zz,[et("div",Kz,cn(m.title),1),ko(" "+cn(m.desc)+" ",1),et("div",Jz,cn(m.date),1)])])]))),128))])],512)])],512)}const pA=Rs(Dz,[["render",Qz],["__scopeId","data-v-cbda607e"]]),eN={},tN={class:"ships-records"},iN=zh('<div class="card" data-v-b06cef02><div class="card-header" data-v-b06cef02><div class="text-center" data-v-b06cef02><img src="img/singapore.png" alt="" data-v-b06cef02><div class="text-white" data-v-b06cef02>PRO</div></div><div class="w-100 d-flex align-items-start justify-content-between" data-v-b06cef02><div class="card-title" data-v-b06cef02><div data-v-b06cef02>Widuri</div><small class="text-white" data-v-b06cef02>Fleet II</small></div><div class="card-status" data-v-b06cef02><div class="status-box bg-online" data-v-b06cef02></div><div class="text-white" data-v-b06cef02>Online</div></div></div></div><div class="card-body" data-v-b06cef02><div data-v-b06cef02>under way using engine</div><div class="d-flex align-items-center justify-content-between" data-v-b06cef02><div data-v-b06cef02>ATD 27/5</div><div data-v-b06cef02>ETA 10/6</div></div><div class="d-flex align-items-center justify-content-between mb-3" data-v-b06cef02><div data-v-b06cef02>Singapura</div><div data-v-b06cef02>Jakarta</div></div><div class="ships-route-ltr" data-v-b06cef02></div></div></div>',1),nN=[iN];function sN(e,t,s,l,c,d){return di(),vi("div",tN,nN)}const fA=Rs(eN,[["render",sN],["__scopeId","data-v-b06cef02"]]),rN={},oN={class:"ships-navigations"},aN=zh('<div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div><div class="card" data-v-23fc79b0><div class="card-header" data-v-23fc79b0><div class="card-title" data-v-23fc79b0><div data-v-23fc79b0>Navigation</div></div><div class="card-status" data-v-23fc79b0><a href="#" data-v-23fc79b0><img src="img/icons/arrow-topright.png" alt="" data-v-23fc79b0></a></div></div><div class="card-body" data-v-23fc79b0><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>15.015 knots</h6><small data-v-23fc79b0>Speed (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.679 knots</h6><small data-v-23fc79b0>Speed (Water)</small></div></div><div class="d-flex align-items-center justify-content-between mb-3 gap-5" data-v-23fc79b0><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>181.87 deg</h6><small data-v-23fc79b0>Course (Ground)</small></div><div data-v-23fc79b0><h6 class="m-0" data-v-23fc79b0>13.224 knots</h6><small data-v-23fc79b0>Wiind Speed</small></div></div><div class="ships-route-ltr" data-v-23fc79b0></div></div></div>',2),lN=[aN];function cN(e,t,s,l,c,d){return di(),vi("div",oN,lN)}const mA=Rs(rN,[["render",cN],["__scopeId","data-v-23fc79b0"]]),hN={},dN={class:"ships-camera"},uN=zh('<a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Front View</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a><a href="" data-v-34ce2568><div class="card" data-v-34ce2568><div class="card-header" data-v-34ce2568><div class="card-title" data-v-34ce2568><div data-v-34ce2568>Bridge</div></div></div><div class="card-body" data-v-34ce2568><div class="d-flex align-items-center flex-column gap-1" data-v-34ce2568><img src="img/icons/camera.png" alt="" data-v-34ce2568><small data-v-34ce2568>Camera</small></div></div></div></a>',2),pN=[uN];function fN(e,t,s,l,c,d){return di(),vi("div",dN,pN)}const gA=Rs(hN,[["render",fN],["__scopeId","data-v-34ce2568"]]),mN={data(){return{isExpand:!0,parameter:[{id:1,title:"SPEED THROUGH WATER",value:"13.8",format:"KNOTS"},{id:2,title:"SPEED OVER GROUND",value:"14.9",format:"KNOTS"},{id:3,title:"ME SHAFT POWER",value:"4852",format:"KW"},{id:4,title:"ME RPM",value:"95",format:"RPM"},{id:5,title:"ME FO",value:"26.5",format:"FO"}],params:{}}},mounted(){this.fetchData()},methods:{notifExpand(){this.isExpand=!this.isExpand;let e=this.$refs.notifBody;this.isExpand?(e.style.display="block",this.$refs.cSearch.style.bottom="150px"):(e.style.display="none",this.$refs.cSearch.style.bottom="unset")},async fetchData(){this.notifications=await axios.get("/api/notifications",{params:this.params}).then(e=>e.data)}}},xp=e=>(jf("data-v-82e529c6"),e=e(),Uf(),e),gN={class:"ships-parameter",ref:"cSearch"},_N={class:"card",style:{height:"100%"}},yN={class:"card-header search"},vN=xp(()=>et("h4",{class:"card-title"}," KEY PARAMETER ",-1)),xN={class:"card-actions btn-actions"},bN={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-left",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},wN=xp(()=>et("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),SN=xp(()=>et("polyline",{points:"15 6 9 12 15 18"},null,-1)),TN=[wN,SN],EN={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-chevron-down",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},CN=xp(()=>et("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),MN=xp(()=>et("polyline",{points:"6 9 12 15 18 9"},null,-1)),AN=[CN,MN],kN={class:"card-body card-body-scrollable card-body-scrollable-shadow notif-body",ref:"notifBody"},PN={class:"divide-y"},DN=xp(()=>et("ul",{class:"nav nav-pills nav-justified",id:"pills-tab",role:"tablist"},[et("li",{class:"nav-item",role:"presentation"},[et("button",{class:"nav-link justify-content-center active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"DAILY AVG")]),et("li",{class:"nav-item",role:"presentation"},[et("button",{class:"nav-link justify-content-center",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"PRESENT VALUES")])],-1)),IN={class:"tab-content",id:"pills-tabContent"},LN={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},ON={class:"row align-items-center"},RN={class:"col-6"},BN={class:"fw-bold"},zN={class:"col-6 text-center"},NN={class:"fw-normal"},FN={class:"text-sm"},jN=xp(()=>et("div",{class:"py-2 border-bottom border-white"},[et("div",{class:"row align-items-center"},[et("div",{class:"col-12"},[et("div",{class:""},"NOTE: Daily average is calculated at 12 PM UTC")])])],-1)),UN=xp(()=>et("div",{class:"tab-pane fade",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"}," ... ",-1));function GN(e,t,s,l,c,d){return di(),vi("div",gN,[et("div",_N,[et("div",yN,[vN,et("div",xN,[et("a",{href:"#",class:"btn-action",onClick:t[0]||(t[0]=(...m)=>d.notifExpand&&d.notifExpand(...m))},[c.isExpand?Kn("",!0):(di(),vi("svg",bN,TN)),c.isExpand?(di(),vi("svg",EN,AN)):Kn("",!0)])])]),et("div",kN,[et("div",PN,[DN,et("div",IN,[et("div",LN,[(di(!0),vi(Jn,null,Nr(c.parameter,m=>(di(),vi("div",{key:m.id,class:"py-2 border-bottom border-white"},[et("div",ON,[et("div",RN,[et("div",BN,cn(m.title),1)]),et("div",zN,[et("h2",NN,cn(m.value),1),et("div",FN,cn(m.format),1)])])]))),128)),jN]),UN])])],512)])],512)}const _A=Rs(mN,[["render",GN],["__scopeId","data-v-82e529c6"]]);var VN=["second","minute","hour","day","week","month","year"];function HN(e,t){if(t===0)return["just now","right now"];var s=VN[Math.floor(t/2)];return e>1&&(s+="s"),[e+" "+s+" ago","in "+e+" "+s]}var $N=["秒","分钟","小时","天","周","个月","年"];function WN(e,t){if(t===0)return["刚刚","片刻后"];var s=$N[~~(t/2)];return[e+" "+s+"前",e+" "+s+"后"]}var Gw={},yA=function(e,t){Gw[e]=t},qN=function(e){return Gw[e]||Gw.en_US},Wb=[60,60,24,7,365/7/12,12];function C5(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function YN(e,t){var s=e<0?1:0;e=Math.abs(e);for(var l=e,c=0;e>=Wb[c]&&c<Wb.length;c++)e/=Wb[c];return e=Math.floor(e),c*=2,e>(c===0?9:1)&&(c+=1),t(e,c,l)[s].replace("%s",e.toString())}function XN(e,t){var s=t?C5(t):new Date;return(+s-+C5(e))/1e3}var bm=function(e,t,s){var l=XN(e,s&&s.relativeDate);return YN(l,qN(t))};yA("en_US",HN);yA("zh_CN",WN);const ZN="/build/assets/blue-a47985d3.png",KN="/build/assets/green-342241e2.png",JN="/build/assets/red-f4bfe255.png";window.mapboxgl=Al;const QN={components:{"x-search":uA,"x-notification":pA,"x-records":fA,"x-navigation":mA,"x-camera":gA,"x-parameter":_A,MapboxMap:kx,MapboxNavigationControl:Px},data(){return{weatherKey:"dfc256782db426c6a8d3b8daaefa5b33",weathers:[],icons:{ballast:ZN,laden:KN,at_port:JN},map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null,fleet:null,showSideInfo:!1,fleets_point:{type:"FeatureCollection",features:[]}}},mounted(){this.timer=setInterval(()=>{this.refreshData()},5*1e3),this.map.loadImage(this.icons.ballast,(e,t)=>{if(e)throw e;this.map.addImage("ship-blue",t)}),this.map.loadImage(this.icons.at_port,(e,t)=>{if(e)throw e;this.map.addImage("ship-red",t)}),this.map.loadImage(this.icons.laden,(e,t)=>{if(e)throw e;this.map.addImage("ship-green",t)}),this.popup=new Al.Popup({closeButton:!0,closeOnClick:!1})},methods:{async fetchData(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,this.fleets_point.features=[],e.forEach(t=>{if(t.navigation){let s="ship-blue";t.fleet_status=="at_port"?s="ship-red":t.fleet_status=="laden"&&(s="ship-green"),this.fleets_point.features.push({type:"Feature",geometry:{type:"Point",coordinates:[t.navigation.lng,t.navigation.lat]},properties:{scale:1,id:t.id,heading:t.navigation.heading,name:t.name,image:t.image,status:t.fleet_status,icon:s,sog:t.navigation.sog,cog:t.navigation.cog,last_update:bm(t.last_connection)}})}})},async loaded(){await this.fetchData(),this.buildLayer()},async refreshData(){await this.fetchData();let e=await this.map.getSource("ship-position");e&&e.setData(this.fleets_point)},buildLayer(){let e=this;this.map.addSource("ship-position",{type:"geojson",data:this.fleets_point}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-position",layout:{"icon-image":["get","icon"],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.12,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const t=new Al.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","ship-position",s=>{let l=s.features[0].properties.id;e.showInfo(l)}),this.map.on("mouseenter","ship-position",s=>{e.map.getCanvas().style.cursor="pointer";const l=s.features[0].geometry.coordinates.slice(),c=`<b>${s.features[0].properties.name} [ID]</b> at ${s.features[0].properties.sog} <b>kn</b> / ${s.features[0].properties.cog}&deg;<br>last update: <b>${s.features[0].properties.last_update}</b>`;for(;Math.abs(s.lngLat.lng-l[0])>180;)l[0]+=s.lngLat.lng>l[0]?360:-360;t.setLngLat(l).setHTML(c).addTo(e.map)}),this.map.on("mouseleave","ship-position",()=>{e.map.getCanvas().style.cursor="",t.remove()})},async buildWeathers(){const d=[];for(let j=0;j<10;j++)for(let J=0;J<10;J++)d.push({lat:-80+j*(80- -80)/10,lng:-180+J*(180- -180)/10,val:0,wind:{},weather:{}});const m="https://api.openweathermap.org/data/2.5/weather?units=metric&lat=",n=d.map(j=>m+j.lat+"&lon="+j.lng+"&appid="+this.weatherKey),S=await Promise.all(n.map(async j=>(await fetch(j)).text()));d.forEach((j,J)=>{let B=JSON.parse(S[J]);j.val=B.main.temp,j.wind=B.wind,j.weather=B.weather[0]}),this.weathers=d},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const s=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${bm(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(s).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},showInfo(e){let t=this.fleets.findIndex(function(s){return s.id===e});t>=0&&(this.fleet=this.fleets[t],this.showSideInfo=!0)},buildTrack(e){console.log(e)}}},eF={class:"position-relative"},tF={class:"pointer-info",ref:"pointerInfo"};function iF(e,t,s,l,c,d){const m=ds("x-search"),n=ds("fleet-side-info"),S=ds("MapboxNavigationControl"),j=ds("MapboxMap");return di(),vi("div",eF,[en(m,{fleets:c.fleets,onSelected:d.findFleet},null,8,["fleets","onSelected"]),c.fleet?(di(),lh(n,{key:0,fleet:c.fleet,display:c.showSideInfo,onClose:t[0]||(t[0]=J=>c.showSideInfo=!1),onHistory:d.buildTrack},null,8,["fleet","display","onHistory"])):Kn("",!0),et("div",tF,null,512),en(j,{onMbCreated:t[1]||(t[1]=J=>c.map=J),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:c.center,zoom:c.zoom},{default:io(()=>[en(S,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])])}const nF=Rs(QN,[["render",iF]]),LS="/build/assets/ship-c94d8078.png",sF=[{time:1673037001e3,id:"c78219c1-d81e-4d33-8984-e39fa3710bfa",ship_id:1,terminal_time:"2023-01-06 20:30:01",lat:-6.009818,lng:106.900525,wind_speed:17.4,wind_direction:21,heading:249.1,distance:88548.42,depth:-12,cog:282.6,sog:0,created_at:"2023-01-07 08:06:28",updated_at:"2023-01-07 08:06:28"},{time:1673037901e3,id:"ee8ec98d-526d-46bf-9d00-ec50433fafb3",ship_id:1,terminal_time:"2023-01-06 20:45:01",lat:-6.009707,lng:106.900482,wind_speed:19.6,wind_direction:15.4,heading:242.9,distance:88548.43,depth:-12.1,cog:358.3,sog:0,created_at:"2023-01-07 08:07:15",updated_at:"2023-01-07 08:07:15"},{time:1673038801e3,id:"22cab800-8d22-44fb-abc1-f5fafd1947a3",ship_id:1,terminal_time:"2023-01-06 21:00:01",lat:-6.00976,lng:106.90053,wind_speed:17.1,wind_direction:16.8,heading:247,distance:88548.44,depth:-12.3,cog:285.2,sog:.1,created_at:"2023-01-07 08:07:02",updated_at:"2023-01-07 08:07:02"},{time:1673039701e3,id:"ee9bb42d-3fac-455b-8140-e032fc3abdcc",ship_id:1,terminal_time:"2023-01-06 21:15:01",lat:-6.0098,lng:106.900533,wind_speed:16.5,wind_direction:19.6,heading:247.1,distance:88548.45,depth:-12.1,cog:208.1,sog:.1,created_at:"2023-01-07 08:06:48",updated_at:"2023-01-07 08:06:48"},{time:1673040601e3,id:"9bf240fd-0767-4f62-94c9-91a4ef95f0cd",ship_id:1,terminal_time:"2023-01-06 21:30:01",lat:-6.009815,lng:106.900515,wind_speed:18.8,wind_direction:21,heading:248,distance:88548.46,depth:-12.1,cog:192.2,sog:0,created_at:"2023-01-07 08:06:43",updated_at:"2023-01-07 08:06:43"},{time:1673041501e3,id:"f4b05071-bc72-44fd-b58b-63e43e69112b",ship_id:1,terminal_time:"2023-01-06 21:45:01",lat:-6.00981,lng:106.900533,wind_speed:18.8,wind_direction:19.6,heading:0,distance:0,depth:-12.1,cog:79.9,sog:0,created_at:"2023-01-07 08:07:29",updated_at:"2023-01-07 08:07:29"},{time:1673042401e3,id:"2d2f89d4-18d5-4ac9-b08b-949a44cad43a",ship_id:1,terminal_time:"2023-01-06 22:00:01",lat:-6.009765,lng:106.900487,wind_speed:15.1,wind_direction:16.8,heading:0,distance:0,depth:-12.1,cog:11.7,sog:0,created_at:"2023-01-07 08:08:00",updated_at:"2023-01-07 08:08:00"},{time:1673043301e3,id:"e79b359c-6eb7-41e3-a526-c4c06282e62a",ship_id:1,terminal_time:"2023-01-06 22:15:01",lat:-6.009688,lng:106.900457,wind_speed:18.6,wind_direction:11.2,heading:242.7,distance:88548.47,depth:-12.1,cog:121.2,sog:0,created_at:"2023-01-07 08:07:47",updated_at:"2023-01-07 08:07:47"},{time:1673044201e3,id:"2750d1e6-4e3c-4946-a145-3e66185627ef",ship_id:1,terminal_time:"2023-01-06 22:30:01",lat:-6.009655,lng:106.900433,wind_speed:14.7,wind_direction:12.5,heading:242.4,distance:88548.48,depth:-12.1,cog:185.9,sog:.1,created_at:"2023-01-07 08:07:40",updated_at:"2023-01-07 08:07:40"},{time:1673045101e3,id:"85d26971-e86f-4f16-8fa5-bc711fcb9b91",ship_id:1,terminal_time:"2023-01-06 22:45:01",lat:-6.0096,lng:106.900403,wind_speed:13.2,wind_direction:11.2,heading:239.6,distance:88548.48,depth:-12.1,cog:180.1,sog:0,created_at:"2023-01-07 08:08:22",updated_at:"2023-01-07 08:08:22"},{time:1673046001e3,id:"06fa9922-e8d6-41c9-886e-e5295949399c",ship_id:1,terminal_time:"2023-01-06 23:00:01",lat:-16.056667,lng:116.8825,wind_speed:16.3,wind_direction:16.8,heading:241.5,distance:88548.49,depth:-12.1,cog:0,sog:0,created_at:"2023-01-07 08:08:11",updated_at:"2023-01-07 08:08:11"},{time:1673046901e3,id:"557403a0-0bc2-42f1-9a07-646c8d66822e",ship_id:1,terminal_time:"2023-01-06 23:15:01",lat:-6.009613,lng:106.900427,wind_speed:18.6,wind_direction:16.8,heading:240.7,distance:88548.49,depth:-12.3,cog:.9,sog:0,created_at:"2023-01-07 08:08:10",updated_at:"2023-01-07 08:08:10"},{time:1673047801e3,id:"bb7144ef-0827-4d3d-9c7b-b0bb7881f441",ship_id:1,terminal_time:"2023-01-06 23:30:01",lat:-6.009658,lng:106.900407,wind_speed:14.1,wind_direction:21,heading:0,distance:0,depth:-12.3,cog:192.5,sog:0,created_at:"2023-01-07 08:07:55",updated_at:"2023-01-07 08:07:55"},{time:1673048701e3,id:"8df2a863-e7d4-4c66-ab22-310f7ac661f2",ship_id:1,terminal_time:"2023-01-06 23:45:01",lat:-6.009732,lng:106.900458,wind_speed:15.7,wind_direction:21,heading:244.8,distance:88548.49,depth:-12.3,cog:152.6,sog:0,created_at:"2023-01-07 08:08:26",updated_at:"2023-01-07 08:08:26"},{time:1673049601e3,id:"e7d31596-5cc9-4fab-850b-c892908430b8",ship_id:1,terminal_time:"2023-01-07 00:00:01",lat:-6.009775,lng:106.900575,wind_speed:19.8,wind_direction:21,heading:250.9,distance:88548.5,depth:-12.3,cog:178.6,sog:.1,created_at:"2023-01-07 08:08:38",updated_at:"2023-01-07 08:08:38"},{time:1673050503e3,id:"1ae1dd53-7f4b-48cb-9aa3-af6f97274fdb",ship_id:1,terminal_time:"2023-01-07 00:15:03",lat:-6.010635,lng:106.898792,wind_speed:21.1,wind_direction:33.6,heading:236.2,distance:88548.61,depth:-12.3,cog:236.1,sog:2.5,created_at:"2023-01-07 08:09:21",updated_at:"2023-01-07 08:09:21"},{time:1673051403e3,id:"c12a6b0d-c9db-4451-a7c5-6f13c29e0954",ship_id:1,terminal_time:"2023-01-07 00:30:03",lat:-6.030335,lng:106.886345,wind_speed:19.8,wind_direction:54.9,heading:195.2,distance:88550.03,depth:-10.6,cog:193.8,sog:7.1,created_at:"2023-01-07 08:08:47",updated_at:"2023-01-07 08:08:47"},{time:1673052303e3,id:"c5971d9c-2c92-4736-950d-6734e6b305cd",ship_id:1,terminal_time:"2023-01-07 00:45:03",lat:-6.059783,lng:106.883237,wind_speed:19.6,wind_direction:67.5,heading:185.4,distance:88551.81,depth:-9.3,cog:182.4,sog:6.5,created_at:"2023-01-07 08:09:35",updated_at:"2023-01-07 08:09:35"},{time:1673053308e3,id:"bd9913a5-6be1-4c3b-89d1-938a9cf2f382",ship_id:1,terminal_time:"2023-01-07 01:01:48",lat:-6.08938,lng:106.883468,wind_speed:16.3,wind_direction:78.7,heading:0,distance:0,depth:-9,cog:161.9,sog:8.8,created_at:"2023-01-07 08:09:28",updated_at:"2023-01-07 08:09:28"},{time:1673054103e3,id:"aac0a1a7-cf35-4a7c-bdff-faef950524be",ship_id:1,terminal_time:"2023-01-07 01:15:03",lat:-6.095888,lng:106.902867,wind_speed:7.9,wind_direction:168.9,heading:0,distance:0,depth:-8.5,cog:97.1,sog:4.1,created_at:"2023-01-07 08:09:07",updated_at:"2023-01-07 08:09:07"},{time:1673055003e3,id:"db38b400-18fe-4637-84bc-441c4333900c",ship_id:1,terminal_time:"2023-01-07 01:30:03",lat:-6.100858,lng:106.906243,wind_speed:6.2,wind_direction:259,heading:0,distance:0,depth:-6,cog:181,sog:1,created_at:"2023-01-07 08:09:40",updated_at:"2023-01-07 08:09:40"},{time:1673055903e3,id:"52f58367-b5da-4516-99ac-401425b6889a",ship_id:1,terminal_time:"2023-01-07 01:45:03",lat:-6.101412,lng:106.90592,wind_speed:7.7,wind_direction:270.3,heading:0,distance:88555.15,depth:-2.1,cog:209.8,sog:0,created_at:"2023-01-07 08:09:32",updated_at:"2023-01-07 08:09:32"},{time:1673056803e3,id:"f8144029-2e71-4a9f-a077-871b58532749",ship_id:1,terminal_time:"2023-01-07 02:00:03",lat:-6.101405,lng:106.905882,wind_speed:3.3,wind_direction:280,heading:0,distance:88555.16,depth:-2.1,cog:349.2,sog:0,created_at:"2023-01-07 08:09:31",updated_at:"2023-01-07 08:09:31"},{time:1673057703e3,id:"03be7e48-aa1c-4ffb-8c39-402c203a283e",ship_id:1,terminal_time:"2023-01-07 02:15:03",lat:-6.101395,lng:106.905868,wind_speed:8.1,wind_direction:281.5,heading:359.9,distance:88555.18,depth:-2.1,cog:328.8,sog:.1,created_at:"2023-01-07 08:10:05",updated_at:"2023-01-07 08:10:05"},{time:1673058603e3,id:"fa44cb0f-6f3d-4e8d-b2b5-6540c952f48b",ship_id:1,terminal_time:"2023-01-07 02:30:03",lat:-6.101392,lng:106.90591,wind_speed:11,wind_direction:259,heading:359.9,distance:88555.18,depth:-2.1,cog:302,sog:0,created_at:"2023-01-07 08:10:07",updated_at:"2023-01-07 08:10:07"},{time:1673059503e3,id:"75810f78-b08f-42b1-a508-ee1b5d13c9e5",ship_id:1,terminal_time:"2023-01-07 02:45:03",lat:-6.101392,lng:106.90587,wind_speed:11,wind_direction:274.5,heading:359.7,distance:88555.19,depth:-2.1,cog:336.9,sog:.1,created_at:"2023-01-07 08:10:09",updated_at:"2023-01-07 08:10:09"},{time:1673060403e3,id:"b8076a15-7e98-4b6b-af9b-0261c6d1ce26",ship_id:1,terminal_time:"2023-01-07 03:00:03",lat:-6.101413,lng:106.905907,wind_speed:9.3,wind_direction:267.4,heading:359.5,distance:88555.2,depth:-2.1,cog:327.9,sog:0,created_at:"2023-01-07 08:09:38",updated_at:"2023-01-07 08:09:38"},{time:1673061303e3,id:"32656a8d-db24-44cc-af81-a149b2fa4e1f",ship_id:1,terminal_time:"2023-01-07 03:15:03",lat:-6.101405,lng:106.905922,wind_speed:8.5,wind_direction:270.3,heading:359.3,distance:88555.2,depth:-5.5,cog:34.4,sog:.1,created_at:"2023-01-07 08:10:40",updated_at:"2023-01-07 08:10:40"},{time:1673062203e3,id:"3e3fcfcf-19d1-4d33-857a-f68b14328338",ship_id:1,terminal_time:"2023-01-07 03:30:03",lat:-6.101402,lng:106.905877,wind_speed:6.2,wind_direction:268.8,heading:359.5,distance:88555.2,depth:-2.1,cog:292.1,sog:0,created_at:"2023-01-07 08:10:33",updated_at:"2023-01-07 08:10:33"},{time:1673063103e3,id:"1c4697c3-b6e6-4eb4-b165-94d5d36d3aa1",ship_id:1,terminal_time:"2023-01-07 03:45:03",lat:-6.10142,lng:106.905858,wind_speed:5.2,wind_direction:264.5,heading:359.7,distance:88555.2,depth:-2.1,cog:129.7,sog:0,created_at:"2023-01-07 08:10:44",updated_at:"2023-01-07 08:10:44"},{time:1673064003e3,id:"ba69338a-3d22-4a08-bb11-d3f886eb6c9b",ship_id:1,terminal_time:"2023-01-07 04:00:03",lat:-6.101392,lng:106.905878,wind_speed:5.6,wind_direction:264.5,heading:359.8,distance:88555.2,depth:-2.3,cog:233.4,sog:0,created_at:"2023-01-07 08:10:39",updated_at:"2023-01-07 08:10:39"},{time:1673064903e3,id:"bd930a40-a514-4c87-8044-e8633e1c1c52",ship_id:1,terminal_time:"2023-01-07 04:15:03",lat:-6.101395,lng:106.905902,wind_speed:6.4,wind_direction:252,heading:359.7,distance:88555.2,depth:0,cog:274.4,sog:0,created_at:"2023-01-07 08:11:40",updated_at:"2023-01-07 08:11:40"},{time:1673065803e3,id:"6544c411-e0b0-40bb-bf1e-efd22c3a2595",ship_id:1,terminal_time:"2023-01-07 04:30:03",lat:-6.101398,lng:106.905932,wind_speed:5.4,wind_direction:252,heading:359.7,distance:88555.2,depth:-2.5,cog:276.2,sog:0,created_at:"2023-01-07 08:11:26",updated_at:"2023-01-07 08:11:26"},{time:1673066703e3,id:"02b25b22-4c20-48a6-a3ad-5944f017c3b9",ship_id:1,terminal_time:"2023-01-07 04:45:03",lat:-6.101387,lng:106.9059,wind_speed:9.3,wind_direction:257.5,heading:0,distance:0,depth:-2.5,cog:163.2,sog:0,created_at:"2023-01-07 08:10:53",updated_at:"2023-01-07 08:10:53"},{time:1673067608e3,id:"523c3936-bffc-4662-9879-e3dff459febf",ship_id:1,terminal_time:"2023-01-07 05:00:08",lat:-6.101402,lng:106.905932,wind_speed:3.6,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.5,cog:195.8,sog:0,created_at:"2023-01-07 08:11:05",updated_at:"2023-01-07 08:11:05"},{time:1673068503e3,id:"ccdee8cd-a739-471e-9dfc-0aa08c034f7a",ship_id:1,terminal_time:"2023-01-07 05:15:03",lat:-6.101402,lng:106.905907,wind_speed:6,wind_direction:257.5,heading:359.6,distance:88555.21,depth:-6.1,cog:162.3,sog:0,created_at:"2023-01-07 08:10:45",updated_at:"2023-01-07 08:10:45"},{time:1673069403e3,id:"d3d4589c-77e7-48fc-b418-c5957dae636d",ship_id:1,terminal_time:"2023-01-07 05:30:03",lat:-6.101398,lng:106.905877,wind_speed:7.7,wind_direction:263.1,heading:359.6,distance:88555.21,depth:-6,cog:295.8,sog:0,created_at:"2023-01-07 08:11:06",updated_at:"2023-01-07 08:11:06"},{time:1673070303e3,id:"9285db16-04b0-4d1a-812e-94fe03b78b0d",ship_id:1,terminal_time:"2023-01-07 05:45:03",lat:-6.101412,lng:106.90585,wind_speed:9.3,wind_direction:274.5,heading:359.6,distance:88555.21,depth:-2.6,cog:268.8,sog:0,created_at:"2023-01-07 08:11:37",updated_at:"2023-01-07 08:11:37"},{time:1673071203e3,id:"4cb25dd1-23a6-4a37-81de-b46cc1e8df0b",ship_id:1,terminal_time:"2023-01-07 06:00:03",lat:-6.101398,lng:106.905858,wind_speed:5.6,wind_direction:268.8,heading:359.6,distance:88555.21,depth:-2.8,cog:327.7,sog:0,created_at:"2023-01-07 08:12:02",updated_at:"2023-01-07 08:12:02"},{time:1673072103e3,id:"6ebeea29-07ba-4384-8f78-c0244a1a85e8",ship_id:1,terminal_time:"2023-01-07 06:15:03",lat:-6.101398,lng:106.905865,wind_speed:6,wind_direction:268.8,heading:0,distance:0,depth:-2.8,cog:324.2,sog:0,created_at:"2023-01-07 08:11:27",updated_at:"2023-01-07 08:11:27"},{time:1673073003e3,id:"de3806a1-9032-426c-84dc-93a8c6d7c31d",ship_id:1,terminal_time:"2023-01-07 06:30:03",lat:-6.101413,lng:106.905873,wind_speed:3.6,wind_direction:256.1,heading:359.7,distance:88555.21,depth:-2.8,cog:5.8,sog:0,created_at:"2023-01-07 08:12:23",updated_at:"2023-01-07 08:12:23"},{time:1673073903e3,id:"65707fec-2ee3-473e-beeb-9b2e845a36ca",ship_id:1,terminal_time:"2023-01-07 06:45:03",lat:-6.101433,lng:106.905833,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.21,depth:-2.8,cog:304.6,sog:0,created_at:"2023-01-07 08:12:19",updated_at:"2023-01-07 08:12:19"},{time:1673074803e3,id:"6fa32b36-f399-4d56-8fa7-bea17b414006",ship_id:1,terminal_time:"2023-01-07 07:00:03",lat:-6.101392,lng:106.905888,wind_speed:3.4,wind_direction:246.3,heading:0,distance:0,depth:-2.8,cog:93.1,sog:0,created_at:"2023-01-07 08:12:40",updated_at:"2023-01-07 08:12:40"},{time:1673075703e3,id:"67ff30a8-02ef-41c0-bd19-463ebbd32668",ship_id:1,terminal_time:"2023-01-07 07:15:03",lat:-6.101408,lng:106.905885,wind_speed:7.5,wind_direction:229.4,heading:359.7,distance:88555.21,depth:-2.8,cog:197,sog:0,created_at:"2023-01-07 08:12:42",updated_at:"2023-01-07 08:12:42"},{time:1673094603e3,id:"3f01785d-ea13-49f9-b6ae-419329c8f20a",ship_id:1,terminal_time:"2023-01-07 12:30:03",lat:-6.101452,lng:106.905917,wind_speed:14.7,wind_direction:347.6,heading:0,distance:0,depth:-3.1,cog:35.3,sog:0,created_at:"2023-01-08 08:13:52",updated_at:"2023-01-08 08:13:52"},{time:1673095503e3,id:"317256ef-d958-4792-ac19-0af4678f296f",ship_id:1,terminal_time:"2023-01-07 12:45:03",lat:-6.101427,lng:106.905863,wind_speed:14.9,wind_direction:315.3,heading:359.7,distance:88555.22,depth:-3,cog:35.3,sog:0,created_at:"2023-01-08 08:24:39",updated_at:"2023-01-08 08:24:39"},{time:1673096403e3,id:"01638351-e630-4d24-a1b3-dc902b3abd82",ship_id:1,terminal_time:"2023-01-07 13:00:03",lat:-6.10141,lng:106.905895,wind_speed:17.3,wind_direction:326.5,heading:359.7,distance:88555.22,depth:-3,cog:91.4,sog:0,created_at:"2023-01-08 08:20:11",updated_at:"2023-01-08 08:20:11"},{time:1673097303e3,id:"70c8224a-27c3-469d-9482-f3b2e98f4bee",ship_id:1,terminal_time:"2023-01-07 13:15:03",lat:-6.101365,lng:106.905885,wind_speed:13.9,wind_direction:342,heading:359.7,distance:88555.22,depth:-3,cog:153.7,sog:0,created_at:"2023-01-08 08:07:44",updated_at:"2023-01-08 08:07:44"},{time:1673098203e3,id:"54be4b76-e5c1-4af2-b06a-d08e68ca8e6d",ship_id:1,terminal_time:"2023-01-07 13:30:03",lat:-6.101402,lng:106.905883,wind_speed:8.3,wind_direction:309.6,heading:359.9,distance:88555.22,depth:-2.8,cog:103.8,sog:0,created_at:"2023-01-08 08:05:41",updated_at:"2023-01-08 08:05:41"},{time:1673099103e3,id:"f45be026-3f21-4763-9f2e-599cfd772936",ship_id:1,terminal_time:"2023-01-07 13:45:03",lat:-6.101387,lng:106.90587,wind_speed:7.1,wind_direction:336.4,heading:359.6,distance:88555.22,depth:-3,cog:22,sog:0,created_at:"2023-01-08 08:25:15",updated_at:"2023-01-08 08:25:15"},{time:1673100003e3,id:"dda32aec-7c91-4a18-bc02-c6f8b1d47700",ship_id:1,terminal_time:"2023-01-07 14:00:03",lat:-6.101395,lng:106.905882,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-2.8,cog:57.4,sog:0,created_at:"2023-01-08 08:08:16",updated_at:"2023-01-08 08:08:16"},{time:1673100903e3,id:"b22e0b57-db66-4fe8-8773-39a691c334f9",ship_id:1,terminal_time:"2023-01-07 14:15:03",lat:-6.101398,lng:106.905873,wind_speed:8.3,wind_direction:350.5,heading:359.6,distance:88555.22,depth:-2.8,cog:37.9,sog:0,created_at:"2023-01-08 08:21:48",updated_at:"2023-01-08 08:21:48"},{time:1673101803e3,id:"4cb687f7-6740-478a-b9d8-7c415359678f",ship_id:1,terminal_time:"2023-01-07 14:30:03",lat:-6.101415,lng:106.90584,wind_speed:7.1,wind_direction:334.9,heading:359.7,distance:88555.23,depth:-2.8,cog:335.3,sog:0,created_at:"2023-01-08 08:14:53",updated_at:"2023-01-08 08:14:53"},{time:1673102703e3,id:"31d66256-54fa-4245-874b-a971ded2ac22",ship_id:1,terminal_time:"2023-01-07 14:45:03",lat:-6.10138,lng:106.905867,wind_speed:14.9,wind_direction:337.8,heading:359.7,distance:88555.23,depth:-2.8,cog:27.8,sog:0,created_at:"2023-01-08 08:03:26",updated_at:"2023-01-08 08:03:26"},{time:1673103603e3,id:"6e9c3626-321a-4c87-adb4-5e285a43cdf7",ship_id:1,terminal_time:"2023-01-07 15:00:03",lat:-6.101413,lng:106.905813,wind_speed:9.3,wind_direction:315.3,heading:359.6,distance:88555.24,depth:-2.6,cog:326.6,sog:.1,created_at:"2023-01-08 08:01:50",updated_at:"2023-01-08 08:01:50"},{time:1673104503e3,id:"dabbcbd4-70dc-48a7-9bf6-6a791bf70bf0",ship_id:1,terminal_time:"2023-01-07 15:15:03",lat:-6.101362,lng:106.905902,wind_speed:8.5,wind_direction:315.3,heading:359.6,distance:88555.25,depth:-2.6,cog:286.2,sog:0,created_at:"2023-01-08 08:14:31",updated_at:"2023-01-08 08:14:31"},{time:1673105403e3,id:"9ce52c58-26fe-4b79-acf6-efd91d7c3dea",ship_id:1,terminal_time:"2023-01-07 15:30:03",lat:-6.101402,lng:106.905895,wind_speed:8.7,wind_direction:290,heading:359.6,distance:88555.25,depth:-2.5,cog:39.8,sog:0,created_at:"2023-01-08 08:06:38",updated_at:"2023-01-08 08:06:38"},{time:1673106303e3,id:"fab10037-7bec-4b1b-a448-af671c2e5a09",ship_id:1,terminal_time:"2023-01-07 15:45:03",lat:-6.101377,lng:106.905907,wind_speed:9.1,wind_direction:302.5,heading:359.6,distance:88555.25,depth:-2.5,cog:11.5,sog:0,created_at:"2023-01-08 08:26:36",updated_at:"2023-01-08 08:26:36"},{time:1673107203e3,id:"72c4e9f4-b126-4cd5-af12-72d225bcc777",ship_id:1,terminal_time:"2023-01-07 16:00:03",lat:-6.101407,lng:106.90585,wind_speed:16.5,wind_direction:261,heading:359.5,distance:88555.26,depth:-2.5,cog:227.4,sog:0,created_at:"2023-01-08 08:29:59",updated_at:"2023-01-08 08:29:59"},{time:1673108103e3,id:"4dda9ef7-b131-499c-abb6-90d31b833212",ship_id:1,terminal_time:"2023-01-07 16:15:03",lat:-6.101415,lng:106.905928,wind_speed:7.7,wind_direction:274.5,heading:359.7,distance:88555.26,depth:-2.5,cog:276.8,sog:0,created_at:"2023-01-08 08:35:23",updated_at:"2023-01-08 08:35:23"},{time:1673109003e3,id:"eb055a93-284e-490c-b241-fc286a5245cb",ship_id:1,terminal_time:"2023-01-07 16:30:03",lat:-6.101398,lng:106.905935,wind_speed:18.4,wind_direction:281.5,heading:359.5,distance:88555.26,depth:-2.5,cog:150.5,sog:.1,created_at:"2023-01-08 08:19:17",updated_at:"2023-01-08 08:19:17"},{time:1673109903e3,id:"70fe1092-70d1-4e3e-9e6a-880e95753afe",ship_id:1,terminal_time:"2023-01-07 16:45:03",lat:-6.101348,lng:106.905867,wind_speed:12.8,wind_direction:244.9,heading:359.6,distance:88555.27,depth:-2.3,cog:354.6,sog:0,created_at:"2023-01-08 08:39:36",updated_at:"2023-01-08 08:39:36"},{time:1673110803e3,id:"256314cb-dc49-4a3d-bfc0-33982995e693",ship_id:1,terminal_time:"2023-01-07 17:00:03",lat:-6.101383,lng:106.905903,wind_speed:12,wind_direction:291.4,heading:359.6,distance:88555.27,depth:-2.5,cog:354.6,sog:0,created_at:"2023-01-08 08:12:53",updated_at:"2023-01-08 08:12:53"},{time:1673111703e3,id:"3cec9ede-f851-4440-95b3-e72f237da615",ship_id:1,terminal_time:"2023-01-07 17:15:03",lat:-6.101377,lng:106.905882,wind_speed:9.9,wind_direction:292.8,heading:359.6,distance:88555.27,depth:-2.5,cog:311.3,sog:0,created_at:"2023-01-08 08:18:20",updated_at:"2023-01-08 08:18:20"},{time:1673112893e3,id:"da145ee1-2387-4054-9190-cfd1c2e5f63c",ship_id:1,terminal_time:"2023-01-07 17:34:53",lat:-6.101393,lng:106.905928,wind_speed:13.6,wind_direction:257.1,heading:359.6,distance:88555.27,depth:-2.5,cog:278.9,sog:0,created_at:"2023-01-08 08:26:11",updated_at:"2023-01-08 08:26:11"},{time:1673113508e3,id:"25b0fe9e-9b29-4029-a7db-9138ef1c0173",ship_id:1,terminal_time:"2023-01-07 17:45:08",lat:-6.101463,lng:106.90597,wind_speed:14.3,wind_direction:263.1,heading:359.6,distance:88555.27,depth:-2.5,cog:350.3,sog:.1,created_at:"2023-01-08 08:06:11",updated_at:"2023-01-08 08:06:11"},{time:1673114403e3,id:"d85ae345-eb3f-420f-ae10-c8f0c078fb2d",ship_id:1,terminal_time:"2023-01-07 18:00:03",lat:-6.101395,lng:106.90591,wind_speed:15.3,wind_direction:246.3,heading:359.6,distance:88555.28,depth:-2.5,cog:8.3,sog:0,created_at:"2023-01-08 08:21:44",updated_at:"2023-01-08 08:21:44"},{time:1673115303e3,id:"388136b9-939e-4016-bb94-69e2165428e2",ship_id:1,terminal_time:"2023-01-07 18:15:03",lat:-6.101417,lng:106.905957,wind_speed:11,wind_direction:237,heading:359.7,distance:88555.28,depth:-2.5,cog:320.6,sog:0,created_at:"2023-01-08 08:27:27",updated_at:"2023-01-08 08:27:27"},{time:1673116203e3,id:"718bb2e9-5a2a-47c8-9899-3f613b300f13",ship_id:1,terminal_time:"2023-01-07 18:30:03",lat:-6.1014230000000005,lng:106.90596,wind_speed:10.1,wind_direction:252,heading:359.7,distance:88555.28,depth:-2.5,cog:262,sog:.3,created_at:"2023-01-08 08:35:15",updated_at:"2023-01-08 08:35:15"},{time:1673117103e3,id:"58662b8e-afe4-4e8d-9d81-e92fd5bd6de1",ship_id:1,terminal_time:"2023-01-07 18:45:03",lat:-6.101337,lng:106.905935,wind_speed:16.7,wind_direction:259,heading:359.6,distance:88555.28,depth:-2.5,cog:265.6,sog:0,created_at:"2023-01-08 08:24:32",updated_at:"2023-01-08 08:24:32"},{time:1673118003e3,id:"9dcc2e7d-fc6a-4026-8452-732e033d633d",ship_id:1,terminal_time:"2023-01-07 19:00:03",lat:-6.101408,lng:106.905923,wind_speed:12.6,wind_direction:270.4,heading:0,distance:0,depth:-2.5,cog:251.1,sog:.1,created_at:"2023-01-08 08:31:10",updated_at:"2023-01-08 08:31:10"},{time:1673118903e3,id:"d77f77c6-11e3-4d58-8a75-767aacbdee1c",ship_id:1,terminal_time:"2023-01-07 19:15:03",lat:-6.101403,lng:106.905935,wind_speed:9.3,wind_direction:274.5,heading:359.7,distance:88555.28,depth:-2.5,cog:242.4,sog:.1,created_at:"2023-01-08 08:32:39",updated_at:"2023-01-08 08:32:39"},{time:1673119803e3,id:"8676ff37-9bd6-4f53-8ba7-7eaad2bd126b",ship_id:1,terminal_time:"2023-01-07 19:30:03",lat:-6.101392,lng:106.905928,wind_speed:15.3,wind_direction:247.7,heading:359.7,distance:88555.28,depth:-2.5,cog:252.7,sog:0,created_at:"2023-01-08 08:34:35",updated_at:"2023-01-08 08:34:35"},{time:1673120703e3,id:"5a10a4d6-445d-4387-9c6a-e002b768b83b",ship_id:1,terminal_time:"2023-01-07 19:45:03",lat:-6.101385,lng:106.905918,wind_speed:9.1,wind_direction:259,heading:359.7,distance:88555.29,depth:-2.5,cog:142.2,sog:0,created_at:"2023-01-08 08:31:06",updated_at:"2023-01-08 08:31:06"},{time:1673121603e3,id:"b43588b1-8bee-476f-ba71-4ee6dc1af694",ship_id:1,terminal_time:"2023-01-07 20:00:03",lat:-6.101337,lng:106.90589,wind_speed:9.9,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-6,cog:205.2,sog:0,created_at:"2023-01-08 08:47:20",updated_at:"2023-01-08 08:47:20"},{time:1673122503e3,id:"6ef2d5ef-f541-4f4e-98b6-8369ed0998fb",ship_id:1,terminal_time:"2023-01-07 20:15:03",lat:-6.101357,lng:106.90591,wind_speed:9.1,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-2.5,cog:133.2,sog:0,created_at:"2023-01-08 08:45:51",updated_at:"2023-01-08 08:45:51"},{time:1673123403e3,id:"9ac81b12-4d78-42fa-926f-0e27f16a6abe",ship_id:1,terminal_time:"2023-01-07 20:30:03",lat:-6.101347,lng:106.905885,wind_speed:11.2,wind_direction:268.8,heading:359.7,distance:88555.29,depth:-2.5,cog:129.4,sog:0,created_at:"2023-01-08 08:43:43",updated_at:"2023-01-08 08:43:43"},{time:1673124303e3,id:"9c3c0c72-7ede-45ce-8cd0-45f46d05cf4f",ship_id:1,terminal_time:"2023-01-07 20:45:03",lat:-6.101392,lng:106.905992,wind_speed:9.9,wind_direction:280,heading:359.7,distance:88555.29,depth:-2.5,cog:269.2,sog:0,created_at:"2023-01-08 08:42:24",updated_at:"2023-01-08 08:42:24"},{time:1673125203e3,id:"180ab6f9-b46b-4175-9c0c-cfbd47d75a75",ship_id:1,terminal_time:"2023-01-07 21:00:03",lat:-6.10138,lng:106.905928,wind_speed:6.2,wind_direction:259,heading:359.6,distance:88555.29,depth:-2.5,cog:273,sog:.1,created_at:"2023-01-08 08:44:15",updated_at:"2023-01-08 08:44:15"},{time:1673126103e3,id:"aca79290-d836-4f81-b20c-db5c3d1c9ed5",ship_id:1,terminal_time:"2023-01-07 21:15:03",lat:-6.101395,lng:106.905888,wind_speed:8.5,wind_direction:270.3,heading:359.7,distance:88555.29,depth:-5.5,cog:284.7,sog:0,created_at:"2023-01-08 08:44:39",updated_at:"2023-01-08 08:44:39"},{time:1673127003e3,id:"3d37da9b-e78d-4c94-9628-2f75dfacd975",ship_id:1,terminal_time:"2023-01-07 21:30:03",lat:-6.10136,lng:106.905928,wind_speed:7.1,wind_direction:291.4,heading:359.7,distance:88555.29,depth:-2.5,cog:288.6,sog:0,created_at:"2023-01-08 08:43:59",updated_at:"2023-01-08 08:43:59"},{time:1673127903e3,id:"c85fc3eb-6766-4f04-b655-698bee2b112a",ship_id:1,terminal_time:"2023-01-07 21:45:03",lat:-6.101362,lng:106.905857,wind_speed:6.9,wind_direction:257.5,heading:359.8,distance:88555.29,depth:-2.3,cog:157.1,sog:0,created_at:"2023-01-08 08:48:25",updated_at:"2023-01-08 08:48:25"},{time:1673128803e3,id:"e0371ba8-d853-4a52-b612-ef2dd4db6f02",ship_id:1,terminal_time:"2023-01-07 22:00:03",lat:-6.101388,lng:106.905863,wind_speed:9.9,wind_direction:248,heading:359.6,distance:88555.29,depth:-2.5,cog:157.1,sog:0,created_at:"2023-01-08 08:46:57",updated_at:"2023-01-08 08:46:57"},{time:1673129703e3,id:"6aabe75f-fedb-42af-8440-6af78469558d",ship_id:1,terminal_time:"2023-01-07 22:15:03",lat:-6.101375,lng:106.905928,wind_speed:6.9,wind_direction:287.1,heading:359.7,distance:88555.29,depth:-2.3,cog:216.5,sog:0,created_at:"2023-01-08 08:54:20",updated_at:"2023-01-08 08:54:20"},{time:1673130603e3,id:"4068d565-7aa1-427b-8727-8edb9c691ecc",ship_id:1,terminal_time:"2023-01-07 22:30:03",lat:-6.101373,lng:106.905895,wind_speed:7.9,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:205.4,sog:0,created_at:"2023-01-08 08:51:59",updated_at:"2023-01-08 08:51:59"},{time:1673131503e3,id:"701364de-f35b-4f45-b2f2-65f53ffe574a",ship_id:1,terminal_time:"2023-01-07 22:45:03",lat:-6.101392,lng:106.905898,wind_speed:12.4,wind_direction:287.1,heading:359.8,distance:88555.29,depth:-2.5,cog:222.7,sog:0,created_at:"2023-01-08 08:48:51",updated_at:"2023-01-08 08:48:51"},{time:1673132403e3,id:"658bd145-0a61-4c2d-94fb-1bf054a3264c",ship_id:1,terminal_time:"2023-01-07 23:00:03",lat:-6.101363,lng:106.905863,wind_speed:7.9,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:129.2,sog:0,created_at:"2023-01-08 08:48:31",updated_at:"2023-01-08 08:48:31"},{time:1673133303e3,id:"58f92089-82d0-4bd5-9832-04677dc76be5",ship_id:1,terminal_time:"2023-01-07 23:15:03",lat:-6.101358,lng:106.905842,wind_speed:8.7,wind_direction:294.1,heading:359.7,distance:88555.29,depth:-2.5,cog:128.4,sog:0,created_at:"2023-01-08 08:55:51",updated_at:"2023-01-08 08:55:51"},{time:1673134203e3,id:"4736fadb-7f73-40fa-a2de-b9fa0a792b3e",ship_id:1,terminal_time:"2023-01-07 23:30:03",lat:-6.101348,lng:106.905888,wind_speed:10.6,wind_direction:297,heading:359.6,distance:88555.29,depth:-2.5,cog:344,sog:0,created_at:"2023-01-08 08:59:25",updated_at:"2023-01-08 08:59:25"},{time:1673135178e3,id:"bf83dfc7-4cb9-4b55-965a-1452ed8e111e",ship_id:1,terminal_time:"2023-01-07 23:46:18",lat:-6.101382,lng:106.905902,wind_speed:10.8,wind_direction:281.6,heading:359.7,distance:88555.29,depth:-5.6,cog:32.8,sog:0,created_at:"2023-01-08 08:58:17",updated_at:"2023-01-08 08:58:17"},{time:1673136003e3,id:"1e9d6cbb-3da5-46c2-8c1d-7c43e9e347d7",ship_id:1,terminal_time:"2023-01-08 00:00:03",lat:-6.10139,lng:106.905845,wind_speed:6.9,wind_direction:270.3,heading:0,distance:0,depth:-5.8,cog:57.4,sog:0,created_at:"2023-01-08 08:54:51",updated_at:"2023-01-08 08:54:51"},{time:1673136904e3,id:"9a56f8c9-a895-41ed-88cb-c63672950f2c",ship_id:1,terminal_time:"2023-01-08 00:15:04",lat:-6.101378,lng:106.905893,wind_speed:6.8,wind_direction:274.5,heading:359.7,distance:88555.29,depth:-5.6,cog:336.6,sog:0,created_at:"2023-01-08 08:58:04",updated_at:"2023-01-08 08:58:04"},{time:1673137804e3,id:"71adab84-32a5-43f8-9a16-44dd7cdf4c02",ship_id:1,terminal_time:"2023-01-08 00:30:04",lat:-6.101417,lng:106.905875,wind_speed:2.5,wind_direction:268.8,heading:359.6,distance:88555.29,depth:-2.5,cog:80.7,sog:0,created_at:"2023-01-08 08:56:16",updated_at:"2023-01-08 08:56:16"},{time:1673138704e3,id:"2b4e0681-bca8-423e-968c-9cbb94911ade",ship_id:1,terminal_time:"2023-01-08 00:45:04",lat:-6.101407,lng:106.905868,wind_speed:6.6,wind_direction:270.3,heading:359.5,distance:88555.29,depth:-2.5,cog:281.8,sog:0,created_at:"2023-01-08 09:02:07",updated_at:"2023-01-08 09:02:07"},{time:1673139604e3,id:"a5757655-280b-4850-9423-55cce4abb3d4",ship_id:1,terminal_time:"2023-01-08 01:00:04",lat:-6.101452,lng:106.905895,wind_speed:8.7,wind_direction:302.5,heading:359.6,distance:88555.29,depth:-2.5,cog:159.5,sog:0,created_at:"2023-01-08 09:02:50",updated_at:"2023-01-08 09:02:50"},{time:1673140504e3,id:"38de4f6b-61c5-490a-a785-9c11f352809e",ship_id:1,terminal_time:"2023-01-08 01:15:04",lat:-6.101402,lng:106.905898,wind_speed:7.9,wind_direction:292.8,heading:359.8,distance:88555.29,depth:-2.5,cog:171.7,sog:0,created_at:"2023-01-08 09:05:18",updated_at:"2023-01-08 09:05:18"},{time:1673141404e3,id:"0a1776c1-1425-41e8-91b9-367b23512d33",ship_id:1,terminal_time:"2023-01-08 01:30:04",lat:-6.101413,lng:106.905882,wind_speed:5.6,wind_direction:297,heading:359.7,distance:88555.29,depth:-2.5,cog:149.7,sog:.2,created_at:"2023-01-08 09:02:30",updated_at:"2023-01-08 09:02:30"},{time:1673142304e3,id:"25822b6e-cc26-4120-a534-707fae66297d",ship_id:1,terminal_time:"2023-01-08 01:45:04",lat:-6.101383,lng:106.905855,wind_speed:3.8,wind_direction:291.4,heading:359.7,distance:88555.3,depth:-2.5,cog:211.1,sog:0,created_at:"2023-01-08 09:05:11",updated_at:"2023-01-08 09:05:11"},{time:1673143204e3,id:"e6ba87a3-cf19-4484-886d-ed8a0850dd54",ship_id:1,terminal_time:"2023-01-08 02:00:04",lat:-6.101395,lng:106.905888,wind_speed:6.4,wind_direction:268.8,heading:359.8,distance:88555.31,depth:-2.5,cog:342.7,sog:.1,created_at:"2023-01-08 09:04:03",updated_at:"2023-01-08 09:04:03"},{time:1673144104e3,id:"828812ff-8977-46cf-8927-bec2687ff712",ship_id:1,terminal_time:"2023-01-08 02:15:04",lat:-6.101372,lng:106.905882,wind_speed:3.8,wind_direction:268.8,heading:359.8,distance:88555.33,depth:-2.6,cog:297.3,sog:.1,created_at:"2023-01-08 09:13:33",updated_at:"2023-01-08 09:13:33"},{time:1673145004e3,id:"25389b81-dc4a-46e8-ad1c-1660eb03a08f",ship_id:1,terminal_time:"2023-01-08 02:30:04",lat:-6.101395,lng:106.905907,wind_speed:7.5,wind_direction:264.5,heading:359.8,distance:88555.33,depth:-2.6,cog:315.1,sog:0,created_at:"2023-01-08 09:06:48",updated_at:"2023-01-08 09:06:48"},{time:1673145904e3,id:"0047c054-acbc-4a29-9ccd-52ba001da3a7",ship_id:1,terminal_time:"2023-01-08 02:45:04",lat:-6.101398,lng:106.905878,wind_speed:6.6,wind_direction:264.5,heading:0,distance:0,depth:-2.6,cog:336.3,sog:0,created_at:"2023-01-08 09:11:48",updated_at:"2023-01-08 09:11:48"},{time:1673146804e3,id:"829090c9-17ba-4477-8592-deb4da86dc63",ship_id:1,terminal_time:"2023-01-08 03:00:04",lat:-6.101402,lng:106.905895,wind_speed:5.4,wind_direction:264.5,heading:359.7,distance:88555.35,depth:-2.6,cog:17.1,sog:0,created_at:"2023-01-08 09:06:28",updated_at:"2023-01-08 09:06:28"},{time:1673147709e3,id:"1098eec6-77fe-4726-9e36-eea8a0a47b48",ship_id:1,terminal_time:"2023-01-08 03:15:09",lat:-6.101387,lng:106.905917,wind_speed:6.2,wind_direction:260.4,heading:359.7,distance:88555.35,depth:-2.6,cog:23.6,sog:0,created_at:"2023-01-08 09:09:10",updated_at:"2023-01-08 09:09:10"},{time:1673148604e3,id:"04d539ed-3c9f-49ed-aec5-3d4926391e7e",ship_id:1,terminal_time:"2023-01-08 03:30:04",lat:-6.101397,lng:106.90589,wind_speed:6.8,wind_direction:260.4,heading:359.7,distance:88555.36,depth:-2.6,cog:65.8,sog:0,created_at:"2023-01-08 09:15:33",updated_at:"2023-01-08 09:15:33"},{time:1673149504e3,id:"e5e010fd-95da-4dfb-a12f-ef9f733b8165",ship_id:1,terminal_time:"2023-01-08 03:45:04",lat:-6.101377,lng:106.905885,wind_speed:5.6,wind_direction:274.5,heading:359.6,distance:88555.36,depth:-2.6,cog:67.7,sog:0,created_at:"2023-01-08 09:10:57",updated_at:"2023-01-08 09:10:57"},{time:1673150404e3,id:"dcfe2cd6-711d-461f-90f7-4bf6c4a1b9ee",ship_id:1,terminal_time:"2023-01-08 04:00:04",lat:-6.101388,lng:106.905938,wind_speed:2.5,wind_direction:274.5,heading:359.5,distance:88555.36,depth:-2.6,cog:223,sog:.1,created_at:"2023-01-08 09:14:36",updated_at:"2023-01-08 09:14:36"},{time:1673151304e3,id:"ddf54501-6fbc-456e-bf5a-c79e016e9b00",ship_id:1,terminal_time:"2023-01-08 04:15:04",lat:-6.101403,lng:106.905913,wind_speed:6.4,wind_direction:280,heading:359.7,distance:88555.36,depth:-2.8,cog:188.7,sog:.1,created_at:"2023-01-08 09:21:25",updated_at:"2023-01-08 09:21:25"},{time:1673152204e3,id:"081423ac-f636-4f7a-9daf-5f4dab29c404",ship_id:1,terminal_time:"2023-01-08 04:30:04",lat:-6.101418,lng:106.90596,wind_speed:9.3,wind_direction:287.1,heading:0,distance:0,depth:-2.8,cog:159.5,sog:0,created_at:"2023-01-08 09:15:25",updated_at:"2023-01-08 09:15:25"},{time:1673153104e3,id:"c45710ce-5dc1-4757-ab7a-4d938442da15",ship_id:1,terminal_time:"2023-01-08 04:45:04",lat:-6.101403,lng:106.905892,wind_speed:8.1,wind_direction:274.5,heading:359.8,distance:88555.36,depth:-2.8,cog:125.5,sog:0,created_at:"2023-01-08 09:19:12",updated_at:"2023-01-08 09:19:12"},{time:1673154004e3,id:"15229013-0e45-4bf3-9949-1ea58fc0908a",ship_id:1,terminal_time:"2023-01-08 05:00:04",lat:-6.101338,lng:106.905882,wind_speed:9.1,wind_direction:259,heading:359.9,distance:88555.36,depth:-2.6,cog:136.1,sog:0,created_at:"2023-01-08 09:20:01",updated_at:"2023-01-08 09:20:01"},{time:1673154904e3,id:"d27c1b20-889b-4499-ba40-6e6c614178f8",ship_id:1,terminal_time:"2023-01-08 05:15:04",lat:-6.101348,lng:106.905915,wind_speed:10.1,wind_direction:257.5,heading:359.8,distance:88555.36,depth:-2.8,cog:151.6,sog:.1,created_at:"2023-01-08 09:23:27",updated_at:"2023-01-08 09:23:27"},{time:1673155804e3,id:"9a444a98-e7df-4f70-975d-85d5d62e290f",ship_id:1,terminal_time:"2023-01-08 05:30:04",lat:-6.101363,lng:106.905898,wind_speed:6.9,wind_direction:259,heading:359.7,distance:88555.36,depth:-2.8,cog:33.5,sog:0,created_at:"2023-01-08 09:21:23",updated_at:"2023-01-08 09:21:23"},{time:1673156704e3,id:"fc24c51c-214a-4d78-be5a-4c1c26802e09",ship_id:1,terminal_time:"2023-01-08 05:45:04",lat:-6.101373,lng:106.90589,wind_speed:9.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-2.8,cog:325.1,sog:0,created_at:"2023-01-08 09:25:36",updated_at:"2023-01-08 09:25:36"},{time:1673157604e3,id:"32c80507-1d8e-4091-9311-50e25e285dae",ship_id:1,terminal_time:"2023-01-08 06:00:04",lat:-6.101387,lng:106.905902,wind_speed:13.9,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:329.3,sog:0,created_at:"2023-01-08 09:24:42",updated_at:"2023-01-08 09:24:42"},{time:1673158504e3,id:"ae9d8d04-f8b0-4358-bd9c-d9972e370315",ship_id:1,terminal_time:"2023-01-08 06:15:04",lat:-6.10138,lng:106.905895,wind_speed:6.8,wind_direction:257.5,heading:359.6,distance:88555.36,depth:-3,cog:248.9,sog:0,created_at:"2023-01-08 09:26:04",updated_at:"2023-01-08 09:26:04"},{time:1673159404e3,id:"c0502c55-c023-4042-9af3-bd285c098a35",ship_id:1,terminal_time:"2023-01-08 06:30:04",lat:-6.101373,lng:106.905888,wind_speed:14.1,wind_direction:270.9,heading:359.6,distance:88555.36,depth:-3,cog:292.9,sog:0,created_at:"2023-01-08 09:21:20",updated_at:"2023-01-08 09:21:20"},{time:1673160304e3,id:"034a249c-02ba-437a-8aac-456cab629385",ship_id:1,terminal_time:"2023-01-08 06:45:04",lat:-6.101378,lng:106.90591,wind_speed:11.4,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:23:12",updated_at:"2023-01-08 09:23:12"},{time:1673161204e3,id:"54e8bfab-005b-4826-8206-a37b4decfd0b",ship_id:1,terminal_time:"2023-01-08 07:00:04",lat:-6.101373,lng:106.905887,wind_speed:8.5,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:80.9,sog:0,created_at:"2023-01-08 09:27:00",updated_at:"2023-01-08 09:27:00"},{time:1673162104e3,id:"a8f38c56-ba61-4de6-80d1-3ea034df630a",ship_id:1,terminal_time:"2023-01-08 07:15:04",lat:-6.101405,lng:106.90589,wind_speed:12.4,wind_direction:242.1,heading:359.7,distance:88555.36,depth:-3,cog:167.3,sog:0,created_at:"2023-01-08 09:31:10",updated_at:"2023-01-08 09:31:10"},{time:1673163004e3,id:"1d43c613-abc9-4209-bfb3-9d54ecc33748",ship_id:1,terminal_time:"2023-01-08 07:30:04",lat:-6.10138,lng:106.905852,wind_speed:15.5,wind_direction:229.4,heading:0,distance:0,depth:0,cog:4.1,sog:0,created_at:"2023-01-08 09:28:35",updated_at:"2023-01-08 09:28:35"},{time:1673163904e3,id:"58b7809e-b846-4fba-b046-e7a1c2f3f84c",ship_id:1,terminal_time:"2023-01-08 07:45:04",lat:-6.101412,lng:106.905907,wind_speed:6.6,wind_direction:245.6,heading:359.8,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:46",updated_at:"2023-01-08 09:31:46"},{time:1673164809e3,id:"4ef617d0-0adb-40ea-bad4-e57322f78fe8",ship_id:1,terminal_time:"2023-01-08 08:00:09",lat:-6.101433,lng:106.905895,wind_speed:7.9,wind_direction:292.8,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:31:36",updated_at:"2023-01-08 09:31:36"},{time:1673165704e3,id:"384723ff-16ea-4a47-bd1b-987a84141b3e",ship_id:1,terminal_time:"2023-01-08 08:15:04",lat:-6.101402,lng:106.905893,wind_speed:9.7,wind_direction:247.7,heading:359.7,distance:88555.36,depth:-3.1,cog:145.5,sog:0,created_at:"2023-01-08 09:34:02",updated_at:"2023-01-08 09:34:02"},{time:1673166604e3,id:"4a0c6afb-a827-4d1b-b943-57faa3c5ccb7",ship_id:1,terminal_time:"2023-01-08 08:30:04",lat:-6.1014230000000005,lng:106.905875,wind_speed:6.8,wind_direction:257.5,heading:359.7,distance:88555.36,depth:-3.1,cog:242.5,sog:0,created_at:"2023-01-08 09:35:08",updated_at:"2023-01-08 09:35:08"},{time:1673167504e3,id:"4c434111-7470-469b-82a2-10a66585fbe7",ship_id:1,terminal_time:"2023-01-08 08:45:04",lat:-6.101393,lng:106.905873,wind_speed:9.7,wind_direction:259,heading:359.6,distance:88555.36,depth:-3.3,cog:73.3,sog:0,created_at:"2023-01-08 09:36:15",updated_at:"2023-01-08 09:36:15"},{time:1673168404e3,id:"64a1f0ab-872f-4c4a-8e98-84e8f7f2aa2b",ship_id:1,terminal_time:"2023-01-08 09:00:04",lat:-6.101383,lng:106.905898,wind_speed:8.3,wind_direction:267.4,heading:359.6,distance:88555.36,depth:-3.3,cog:91.6,sog:.1,created_at:"2023-01-08 09:37:22",updated_at:"2023-01-08 09:37:22"},{time:1673169304e3,id:"15eb000c-e49a-4288-b9ba-29120dd16bbc",ship_id:1,terminal_time:"2023-01-08 09:15:04",lat:-6.101392,lng:106.905832,wind_speed:13.6,wind_direction:315.8,heading:359.7,distance:88555.36,depth:-3.3,cog:104.3,sog:0,created_at:"2023-01-08 09:38:28",updated_at:"2023-01-08 09:38:28"},{time:1673170204e3,id:"5013bfeb-e3b7-40fe-956e-67d86ef062fc",ship_id:1,terminal_time:"2023-01-08 09:30:04",lat:-6.10143,lng:106.905883,wind_speed:10.1,wind_direction:291.4,heading:359.8,distance:88555.36,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:39:35",updated_at:"2023-01-08 09:39:35"},{time:1673171104e3,id:"c42441d4-6121-4fd5-a94e-40e8a5538f88",ship_id:1,terminal_time:"2023-01-08 09:45:04",lat:-6.101408,lng:106.9059,wind_speed:6.8,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:111.5,sog:0,created_at:"2023-01-08 09:45:06",updated_at:"2023-01-08 09:45:06"},{time:1673172004e3,id:"b88f901e-4b17-4f4d-950a-3bbe7040bfe9",ship_id:1,terminal_time:"2023-01-08 10:00:04",lat:-6.101438,lng:106.905878,wind_speed:7.3,wind_direction:282.8,heading:359.8,distance:88555.36,depth:-3.3,cog:116.3,sog:0,created_at:"2023-01-08 10:00:07",updated_at:"2023-01-08 10:00:07"},{time:1673172904e3,id:"ebab5955-d934-4330-9ccd-5d8d1496b18c",ship_id:1,terminal_time:"2023-01-08 10:15:04",lat:-6.101392,lng:106.905872,wind_speed:11.4,wind_direction:335,heading:359.7,distance:88555.36,depth:-3.3,cog:269.6,sog:0,created_at:"2023-01-08 10:15:06",updated_at:"2023-01-08 10:15:06"},{time:1673173804e3,id:"9f29317b-07a0-4caf-b754-11930dd5bd44",ship_id:1,terminal_time:"2023-01-08 10:30:04",lat:-6.101372,lng:106.905888,wind_speed:6.4,wind_direction:332.1,heading:359.7,distance:88555.36,depth:-3.3,cog:157.9,sog:0,created_at:"2023-01-08 10:30:06",updated_at:"2023-01-08 10:30:06"},{time:1673174704e3,id:"962a2be6-5432-402b-9958-84252f281c30",ship_id:1,terminal_time:"2023-01-08 10:45:04",lat:-6.101405,lng:106.905885,wind_speed:10.3,wind_direction:336.4,heading:0,distance:0,depth:-3.3,cog:272.5,sog:0,created_at:"2023-01-08 10:45:05",updated_at:"2023-01-08 10:45:05"},{time:1673175604e3,id:"ce56291e-c8e3-440f-92e0-921395a84182",ship_id:1,terminal_time:"2023-01-08 11:00:04",lat:-6.10143,lng:106.905957,wind_speed:11.6,wind_direction:325.1,heading:0,distance:0,depth:-3.3,cog:104.1,sog:0,created_at:"2023-01-08 11:00:06",updated_at:"2023-01-08 11:00:06"},{time:1673176504e3,id:"b25e30f7-bd69-432d-af8c-a46b5423e161",ship_id:1,terminal_time:"2023-01-08 11:15:04",lat:-6.101388,lng:106.905873,wind_speed:7.9,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:312.3,sog:0,created_at:"2023-01-08 11:15:06",updated_at:"2023-01-08 11:15:06"},{time:1673177404e3,id:"0ccfc4ba-378e-4ad6-a4db-6b35d30a1a23",ship_id:1,terminal_time:"2023-01-08 11:30:04",lat:-6.101405,lng:106.905895,wind_speed:7.9,wind_direction:319.5,heading:359.7,distance:88555.37,depth:-3.3,cog:83.1,sog:.1,created_at:"2023-01-08 11:30:06",updated_at:"2023-01-08 11:30:06"},{time:1673178304e3,id:"b458b825-fbb6-40f4-b251-c347a72a39ab",ship_id:1,terminal_time:"2023-01-08 11:45:04",lat:-6.101403,lng:106.905887,wind_speed:9.5,wind_direction:332.1,heading:0,distance:0,depth:-3.3,cog:75.4,sog:0,created_at:"2023-01-08 11:45:05",updated_at:"2023-01-08 11:45:05"},{time:1673179204e3,id:"25575159-9a0f-4a66-a7d0-20aea87d0feb",ship_id:1,terminal_time:"2023-01-08 12:00:04",lat:-6.101412,lng:106.905878,wind_speed:8.5,wind_direction:343.6,heading:359.6,distance:88555.37,depth:-3.3,cog:67,sog:0,created_at:"2023-01-08 12:00:06",updated_at:"2023-01-08 12:00:06"},{time:1673180104e3,id:"a3bdb7f9-22b7-4e38-b981-ff099e82bfb6",ship_id:1,terminal_time:"2023-01-08 12:15:04",lat:-6.101407,lng:106.90585,wind_speed:13.8,wind_direction:349,heading:359.6,distance:88555.37,depth:-3.3,cog:36.2,sog:0,created_at:"2023-01-09 08:01:28",updated_at:"2023-01-09 08:01:28"},{time:1673181004e3,id:"468f0650-9d89-4a66-a334-a4fac77e4728",ship_id:1,terminal_time:"2023-01-08 12:30:04",lat:-6.101405,lng:106.905903,wind_speed:19.4,wind_direction:281.5,heading:359.6,distance:88555.37,depth:-3.3,cog:282.7,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673181904e3,id:"03deb747-2062-4451-bd06-e9432e1f2596",ship_id:1,terminal_time:"2023-01-08 12:45:04",lat:-6.10138,lng:106.905892,wind_speed:14.5,wind_direction:287.1,heading:359.6,distance:88555.38,depth:-3.3,cog:308.6,sog:0,created_at:"2023-01-09 08:02:16",updated_at:"2023-01-09 08:02:16"},{time:1673182804e3,id:"d195359b-cc5d-4733-9a4a-c450f7ecdda8",ship_id:1,terminal_time:"2023-01-08 13:00:04",lat:-6.101337,lng:106.905855,wind_speed:12.2,wind_direction:291.4,heading:359.7,distance:88555.38,depth:-3.1,cog:137.7,sog:0,created_at:"2023-01-09 08:02:58",updated_at:"2023-01-09 08:02:58"},{time:1673183704e3,id:"46707f11-6637-4097-9f27-85c91102848f",ship_id:1,terminal_time:"2023-01-08 13:15:04",lat:-6.101385,lng:106.905878,wind_speed:11,wind_direction:281.5,heading:359.6,distance:88555.38,depth:-3.1,cog:153.4,sog:0,created_at:"2023-01-09 08:03:38",updated_at:"2023-01-09 08:03:38"},{time:1673184604e3,id:"44555a10-55f3-451d-8279-71fd68a98ddd",ship_id:1,terminal_time:"2023-01-08 13:30:04",lat:-6.101418,lng:106.905922,wind_speed:20,wind_direction:281.5,heading:359.7,distance:88555.38,depth:-3.1,cog:131.7,sog:0,created_at:"2023-01-09 08:01:25",updated_at:"2023-01-09 08:01:25"},{time:1673185504e3,id:"6f43d2f1-2e54-4989-a2b6-7b411249f2a8",ship_id:1,terminal_time:"2023-01-08 13:45:04",lat:-6.101397,lng:106.90586,wind_speed:15.7,wind_direction:298.3,heading:359.7,distance:88555.38,depth:-3.1,cog:51.2,sog:0,created_at:"2023-01-09 08:03:28",updated_at:"2023-01-09 08:03:28"},{time:1673186404e3,id:"e21e47e0-7761-45fc-aa87-dc06fb2b621c",ship_id:1,terminal_time:"2023-01-08 14:00:04",lat:-6.101392,lng:106.905875,wind_speed:9.5,wind_direction:297,heading:359.6,distance:88555.38,depth:-3,cog:80.4,sog:0,created_at:"2023-01-09 08:02:10",updated_at:"2023-01-09 08:02:10"},{time:1673187304e3,id:"dbf363e6-e9e5-4e72-95d5-fed707eab8c4",ship_id:1,terminal_time:"2023-01-08 14:15:04",lat:-6.101355,lng:106.905872,wind_speed:10.3,wind_direction:332.1,heading:359.8,distance:88555.38,depth:-2.8,cog:289.8,sog:0,created_at:"2023-01-09 08:04:34",updated_at:"2023-01-09 08:04:34"},{time:1673188204e3,id:"12b53920-e835-4c42-8ab7-ec8061a9ba5c",ship_id:1,terminal_time:"2023-01-08 14:30:04",lat:-6.101383,lng:106.90588,wind_speed:7.3,wind_direction:280,heading:359.8,distance:88555.38,depth:-2.8,cog:26.9,sog:0,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673189104e3,id:"c5c563a3-fe51-4dab-bcae-351d28e5f4de",ship_id:1,terminal_time:"2023-01-08 14:45:04",lat:-6.101362,lng:106.905937,wind_speed:13.8,wind_direction:304,heading:359.7,distance:88555.39,depth:-2.8,cog:310.4,sog:.1,created_at:"2023-01-09 08:01:04",updated_at:"2023-01-09 08:01:04"},{time:1673190004e3,id:"3d7b3cbb-14a0-4a8f-93d0-9cf906bc7355",ship_id:1,terminal_time:"2023-01-08 15:00:04",lat:-6.101373,lng:106.905875,wind_speed:5.2,wind_direction:309.6,heading:359.7,distance:88555.4,depth:-2.8,cog:11.5,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673190904e3,id:"9bd54cb5-0df6-4220-852a-e9ff92994333",ship_id:1,terminal_time:"2023-01-08 15:15:04",lat:-6.10139,lng:106.9059,wind_speed:9.7,wind_direction:319.5,heading:359.7,distance:88555.4,depth:-2.8,cog:310.4,sog:0,created_at:"2023-01-09 08:01:20",updated_at:"2023-01-09 08:01:20"},{time:1673191804e3,id:"1039c335-c4fe-4407-9d86-0e0e6f3801d7",ship_id:1,terminal_time:"2023-01-08 15:30:04",lat:-6.101395,lng:106.905902,wind_speed:5,wind_direction:304,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:03:22",updated_at:"2023-01-09 08:03:22"},{time:1673192704e3,id:"2a373c7d-78e5-475d-b34b-0236fd987dbb",ship_id:1,terminal_time:"2023-01-08 15:45:04",lat:-6.101373,lng:106.905892,wind_speed:8.1,wind_direction:246.3,heading:359.7,distance:88555.4,depth:-2.6,cog:310.4,sog:0,created_at:"2023-01-09 08:02:09",updated_at:"2023-01-09 08:02:09"},{time:1673193609e3,id:"27afb88f-711d-446a-80c1-5db6f4d652e8",ship_id:1,terminal_time:"2023-01-08 16:00:09",lat:-6.101383,lng:106.905923,wind_speed:16.7,wind_direction:267.4,heading:359.8,distance:88555.4,depth:-2.6,cog:274.8,sog:0,created_at:"2023-01-09 08:01:34",updated_at:"2023-01-09 08:01:34"},{time:1673194504e3,id:"7a688f79-a052-4162-98a4-93fbeec24b60",ship_id:1,terminal_time:"2023-01-08 16:15:04",lat:-6.101367,lng:106.90591,wind_speed:11.4,wind_direction:291.4,heading:359.6,distance:88555.41,depth:-2.6,cog:177.3,sog:.1,created_at:"2023-01-09 08:01:27",updated_at:"2023-01-09 08:01:27"},{time:1673195404e3,id:"1c77e367-adf9-4b24-9e28-1614417c0043",ship_id:1,terminal_time:"2023-01-08 16:30:04",lat:-6.101337,lng:106.90587,wind_speed:10.8,wind_direction:280,heading:359.6,distance:88555.42,depth:-2.6,cog:163.2,sog:0,created_at:"2023-01-09 08:02:53",updated_at:"2023-01-09 08:02:53"},{time:1673196304e3,id:"47c8015f-f5e4-44eb-af39-6631ab095c14",ship_id:1,terminal_time:"2023-01-08 16:45:04",lat:-6.101367,lng:106.905915,wind_speed:6.6,wind_direction:280,heading:359.8,distance:88555.42,depth:-2.6,cog:359.3,sog:0,created_at:"2023-01-09 08:01:48",updated_at:"2023-01-09 08:01:48"},{time:1673197204e3,id:"d0e28486-e7bc-4ac1-a4d8-0bbb6d72aee3",ship_id:1,terminal_time:"2023-01-08 17:00:04",lat:-6.101365,lng:106.905892,wind_speed:6.9,wind_direction:267.4,heading:359.8,distance:88555.42,depth:-2.6,cog:282.7,sog:0,created_at:"2023-01-09 08:05:29",updated_at:"2023-01-09 08:05:29"},{time:1673198104e3,id:"5791dc42-ed81-48a4-b540-b452a5633205",ship_id:1,terminal_time:"2023-01-08 17:15:04",lat:-6.101408,lng:106.905945,wind_speed:9.5,wind_direction:257.5,heading:0,distance:0,depth:-2.6,cog:300.4,sog:0,created_at:"2023-01-09 08:04:45",updated_at:"2023-01-09 08:04:45"},{time:1673199004e3,id:"603a0afa-1ca2-45d2-a9b6-0745a5e33b11",ship_id:1,terminal_time:"2023-01-08 17:30:04",lat:-6.10137,lng:106.905992,wind_speed:9.1,wind_direction:249.1,heading:359.5,distance:88555.42,depth:-2.5,cog:302.2,sog:0,created_at:"2023-01-09 08:03:51",updated_at:"2023-01-09 08:03:51"},{time:1673199904e3,id:"ab249c72-fe0b-4b61-aadb-60e506340e0a",ship_id:1,terminal_time:"2023-01-08 17:45:04",lat:-6.101405,lng:106.905933,wind_speed:8.5,wind_direction:247.7,heading:359.5,distance:88555.42,depth:-2.5,cog:346.1,sog:0,created_at:"2023-01-09 08:03:29",updated_at:"2023-01-09 08:03:29"},{time:1673200804e3,id:"ad719767-8da7-4530-af3a-e3d833d92178",ship_id:1,terminal_time:"2023-01-08 18:00:04",lat:-6.101377,lng:106.905882,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-2.5,cog:10.1,sog:0,created_at:"2023-01-09 08:01:03",updated_at:"2023-01-09 08:01:03"},{time:1673207354e3,id:"63c9d130-6bb7-4318-b5f2-675e7faf0e4c",ship_id:1,terminal_time:"2023-01-08 19:49:14",lat:-6.101343,lng:106.905863,wind_speed:7.9,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:159,sog:0,created_at:"2023-01-09 08:03:14",updated_at:"2023-01-09 08:03:14"},{time:1673208004e3,id:"3bf8de17-ebbb-4fcb-b854-a96a429acecb",ship_id:1,terminal_time:"2023-01-08 20:00:04",lat:-6.101333,lng:106.905857,wind_speed:9.9,wind_direction:235.1,heading:359.7,distance:88555.43,depth:-2.6,cog:83.4,sog:0,created_at:"2023-01-09 08:04:33",updated_at:"2023-01-09 08:04:33"},{time:1673208904e3,id:"fb4f8778-7bcb-40f3-956a-b79108ad31b2",ship_id:1,terminal_time:"2023-01-08 20:15:04",lat:-6.101393,lng:106.905902,wind_speed:7.5,wind_direction:252,heading:359.7,distance:88555.43,depth:-6,cog:131.2,sog:0,created_at:"2023-01-09 08:05:16",updated_at:"2023-01-09 08:05:16"},{time:1673209804e3,id:"5242adab-8959-40a5-8978-635cea013f84",ship_id:1,terminal_time:"2023-01-08 20:30:04",lat:-6.101357,lng:106.905868,wind_speed:5.6,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.5,cog:274.3,sog:0,created_at:"2023-01-09 08:00:56",updated_at:"2023-01-09 08:00:56"},{time:1673210704e3,id:"0c83a2c4-2bcd-476e-ac3b-460d1b25f858",ship_id:1,terminal_time:"2023-01-08 20:45:04",lat:-6.101342,lng:106.905882,wind_speed:7.5,wind_direction:246.3,heading:359.7,distance:88555.43,depth:-2.6,cog:267.2,sog:0,created_at:"2023-01-09 08:02:36",updated_at:"2023-01-09 08:02:36"},{time:1673211604e3,id:"458708de-a317-4292-a57f-1117f5f9f56d",ship_id:1,terminal_time:"2023-01-08 21:00:04",lat:-6.101388,lng:106.905948,wind_speed:12.2,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:271.1,sog:0,created_at:"2023-01-09 08:05:06",updated_at:"2023-01-09 08:05:06"},{time:1673212504e3,id:"67504e3d-78c5-491b-ab2f-ead7b531eab7",ship_id:1,terminal_time:"2023-01-08 21:15:04",lat:-6.1014420000000005,lng:106.905875,wind_speed:9.5,wind_direction:257.5,heading:359.8,distance:88555.43,depth:-2.6,cog:273.1,sog:.1,created_at:"2023-01-09 08:03:54",updated_at:"2023-01-09 08:03:54"},{time:1673213404e3,id:"029c42f5-7b81-4393-94ab-d99385dd210e",ship_id:1,terminal_time:"2023-01-08 21:30:04",lat:-6.101397,lng:106.905873,wind_speed:9.1,wind_direction:280,heading:359.7,distance:88555.44,depth:-2.6,cog:278.6,sog:.1,created_at:"2023-01-09 08:05:28",updated_at:"2023-01-09 08:05:28"},{time:1673214304e3,id:"68b68fd8-c24d-4c82-8066-e3d469f5edbe",ship_id:1,terminal_time:"2023-01-08 21:45:04",lat:-6.101372,lng:106.905917,wind_speed:8.3,wind_direction:242.1,heading:359.8,distance:88555.44,depth:-6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:13",updated_at:"2023-01-09 08:05:13"},{time:1673215204e3,id:"361ce47f-0c08-47bb-967f-d1db1b9a05c3",ship_id:1,terminal_time:"2023-01-08 22:00:04",lat:-6.10138,lng:106.905898,wind_speed:16.7,wind_direction:248.3,heading:359.6,distance:88555.44,depth:-2.6,cog:160.2,sog:0,created_at:"2023-01-09 08:05:04",updated_at:"2023-01-09 08:05:04"},{time:1673216104e3,id:"3ea2af9a-a3fc-420e-b179-53b02aa87e39",ship_id:1,terminal_time:"2023-01-08 22:15:04",lat:-6.10142,lng:106.90588,wind_speed:7.9,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.1,cog:213.1,sog:0,created_at:"2023-01-09 08:05:49",updated_at:"2023-01-09 08:05:49"},{time:1673217004e3,id:"1cb11726-d0ad-4402-a975-0af78f5631b4",ship_id:1,terminal_time:"2023-01-08 22:30:04",lat:-6.101388,lng:106.905885,wind_speed:17.1,wind_direction:247.7,heading:359.8,distance:88555.44,depth:-6,cog:221.4,sog:0,created_at:"2023-01-09 08:06:08",updated_at:"2023-01-09 08:06:08"},{time:1673217904e3,id:"892a3800-b287-4c33-913e-0683528e0431",ship_id:1,terminal_time:"2023-01-08 22:45:04",lat:-6.101377,lng:106.905895,wind_speed:11.4,wind_direction:249.1,heading:359.7,distance:88555.44,depth:-2.6,cog:103.9,sog:0,created_at:"2023-01-09 08:06:00",updated_at:"2023-01-09 08:06:00"},{time:1673218804e3,id:"6f3b1990-857c-4d00-b25a-0434a0cc2c8d",ship_id:1,terminal_time:"2023-01-08 23:00:04",lat:-6.101413,lng:106.90589,wind_speed:10.4,wind_direction:257.5,heading:359.6,distance:88555.44,depth:-6.5,cog:131.5,sog:0,created_at:"2023-01-09 08:05:56",updated_at:"2023-01-09 08:05:56"},{time:1673219704e3,id:"f988100e-1c17-4430-ad7d-d42c5f9101cb",ship_id:1,terminal_time:"2023-01-08 23:15:04",lat:-6.101383,lng:106.905863,wind_speed:11.2,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:9.7,sog:0,created_at:"2023-01-09 08:06:57",updated_at:"2023-01-09 08:06:57"},{time:1673220604e3,id:"f9bfd7d8-0ed7-4e7c-9dd8-33793538967e",ship_id:1,terminal_time:"2023-01-08 23:30:04",lat:-6.101388,lng:106.905893,wind_speed:7.3,wind_direction:252,heading:359.7,distance:88555.44,depth:-6.3,cog:189.1,sog:.1,created_at:"2023-01-09 08:06:40",updated_at:"2023-01-09 08:06:40"},{time:1673221504e3,id:"d81f2408-511b-43f5-bc66-b9f8f3d84aea",ship_id:1,terminal_time:"2023-01-08 23:45:04",lat:-6.1014230000000005,lng:106.905862,wind_speed:11.2,wind_direction:246.3,heading:359.7,distance:88555.44,depth:-2.6,cog:195.3,sog:.1,created_at:"2023-01-09 08:06:41",updated_at:"2023-01-09 08:06:41"},{time:1673222404e3,id:"d1ae49e1-c912-4626-a700-c644a64c58ca",ship_id:1,terminal_time:"2023-01-09 00:00:04",lat:-6.101397,lng:106.905872,wind_speed:15.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.5,cog:57.8,sog:0,created_at:"2023-01-09 08:06:43",updated_at:"2023-01-09 08:06:43"},{time:1673223301e3,id:"30c254de-ca32-4ae0-9bbe-50a124f42fb5",ship_id:1,terminal_time:"2023-01-09 00:15:01",lat:-6.101368,lng:106.905878,wind_speed:12,wind_direction:246.3,heading:359.8,distance:88555.44,depth:-6.1,cog:64.2,sog:0,created_at:"2023-01-09 08:07:06",updated_at:"2023-01-09 08:07:06"},{time:1673224201e3,id:"ce816a40-630c-48fa-abf2-50e2d743ecee",ship_id:1,terminal_time:"2023-01-09 00:30:01",lat:-6.101373,lng:106.905888,wind_speed:12.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:-2.8,cog:59.9,sog:0,created_at:"2023-01-09 08:07:38",updated_at:"2023-01-09 08:07:38"},{time:1673225101e3,id:"873c1631-7c9a-4a1d-b124-3879b28dd758",ship_id:1,terminal_time:"2023-01-09 00:45:01",lat:-6.101432,lng:106.905888,wind_speed:11.6,wind_direction:236.5,heading:359.8,distance:88555.44,depth:0,cog:222.4,sog:0,created_at:"2023-01-09 08:07:00",updated_at:"2023-01-09 08:07:00"},{time:1673226001e3,id:"53704def-9137-4944-8a3a-b36330fc1fb7",ship_id:1,terminal_time:"2023-01-09 01:00:01",lat:-6.1014420000000005,lng:106.905897,wind_speed:7.5,wind_direction:247.7,heading:359.7,distance:88555.44,depth:-6.1,cog:168.1,sog:0,created_at:"2023-01-09 08:06:44",updated_at:"2023-01-09 08:06:44"},{time:1673226901e3,id:"4c58ab98-4589-4979-82a3-2d5349e2d6d2",ship_id:1,terminal_time:"2023-01-09 01:15:01",lat:-6.101377,lng:106.905895,wind_speed:9.7,wind_direction:247.7,heading:359.6,distance:88555.44,depth:-6.3,cog:128.8,sog:0,created_at:"2023-01-09 08:07:55",updated_at:"2023-01-09 08:07:55"},{time:1673227801e3,id:"f53589c2-2628-4822-9efe-e9d5f6f97006",ship_id:1,terminal_time:"2023-01-09 01:30:01",lat:-6.101372,lng:106.905907,wind_speed:11,wind_direction:235.1,heading:359.7,distance:88555.44,depth:-2.8,cog:169.3,sog:0,created_at:"2023-01-09 08:07:52",updated_at:"2023-01-09 08:07:52"},{time:1673228701e3,id:"bbd3afac-671c-491d-9a53-a913b265f3a6",ship_id:1,terminal_time:"2023-01-09 01:45:01",lat:-6.101395,lng:106.905885,wind_speed:10.3,wind_direction:246.3,heading:359.8,distance:88555.44,depth:0,cog:336.2,sog:.1,created_at:"2023-01-09 08:07:54",updated_at:"2023-01-09 08:07:54"},{time:1673229626e3,id:"677d4da2-f2e4-4785-a282-e26977f5ff59",ship_id:1,terminal_time:"2023-01-09 02:00:26",lat:-6.101397,lng:106.905892,wind_speed:8.1,wind_direction:253.4,heading:359.8,distance:88555.46,depth:-6.3,cog:344.2,sog:.1,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673230501e3,id:"6d6e995c-7f59-4690-9ba0-6bdde399168a",ship_id:1,terminal_time:"2023-01-09 02:15:01",lat:-6.10142,lng:106.90591,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.47,depth:-2.8,cog:64.8,sog:0,created_at:"2023-01-09 08:08:12",updated_at:"2023-01-09 08:08:12"},{time:1673231401e3,id:"0be9f717-f25a-490d-bcae-34fa65d89a27",ship_id:1,terminal_time:"2023-01-09 02:30:01",lat:-6.1014,lng:106.905907,wind_speed:6.9,wind_direction:235.1,heading:359.6,distance:88555.48,depth:-2.8,cog:350.3,sog:0,created_at:"2023-01-09 08:08:21",updated_at:"2023-01-09 08:08:21"},{time:1673232301e3,id:"b89c57ee-02ec-4c81-a463-3ab63eea35d4",ship_id:1,terminal_time:"2023-01-09 02:45:01",lat:-6.10141,lng:106.905907,wind_speed:7.1,wind_direction:281.5,heading:359.7,distance:88555.49,depth:0,cog:340.6,sog:0,created_at:"2023-01-09 08:08:13",updated_at:"2023-01-09 08:08:13"},{time:1673233201e3,id:"a3fba678-1575-4c94-8040-8e2bb4f35c29",ship_id:1,terminal_time:"2023-01-09 03:00:01",lat:-6.101398,lng:106.905902,wind_speed:11,wind_direction:246.3,heading:359.6,distance:88555.49,depth:-6.6,cog:302,sog:0,created_at:"2023-01-09 08:09:06",updated_at:"2023-01-09 08:09:06"},{time:1673234101e3,id:"4d903123-c967-4aba-be64-4bfa45d2e9e2",ship_id:1,terminal_time:"2023-01-09 03:15:01",lat:-6.10139,lng:106.905878,wind_speed:7.7,wind_direction:259,heading:359.6,distance:88555.49,depth:-6.5,cog:314.3,sog:0,created_at:"2023-01-09 08:08:14",updated_at:"2023-01-09 08:08:14"},{time:1673235001e3,id:"1d4da80d-e1b4-46f3-b844-89cc8683bf40",ship_id:1,terminal_time:"2023-01-09 03:30:01",lat:-6.10141,lng:106.905928,wind_speed:6.2,wind_direction:247.7,heading:359.7,distance:88555.5,depth:0,cog:132.4,sog:0,created_at:"2023-01-09 08:08:53",updated_at:"2023-01-09 08:08:53"},{time:1673235901e3,id:"e71cde87-3b60-447e-b2e7-ba313276631d",ship_id:1,terminal_time:"2023-01-09 03:45:01",lat:-6.101413,lng:106.90591,wind_speed:7.7,wind_direction:252,heading:359.8,distance:88555.5,depth:0,cog:209.2,sog:0,created_at:"2023-01-09 08:08:23",updated_at:"2023-01-09 08:08:23"},{time:1673236801e3,id:"f5446243-0920-43f1-b55b-e1e7745911d7",ship_id:1,terminal_time:"2023-01-09 04:00:01",lat:-6.1013269999999995,lng:106.90594,wind_speed:7.1,wind_direction:257.5,heading:359.9,distance:88555.5,depth:-7.1,cog:206.1,sog:.1,created_at:"2023-01-09 08:08:58",updated_at:"2023-01-09 08:08:58"},{time:1673237701e3,id:"93eedeac-7e8c-4b16-8181-ccaa306bc5fd",ship_id:1,terminal_time:"2023-01-09 04:15:01",lat:-6.101417,lng:106.90591,wind_speed:8.1,wind_direction:264.5,heading:359.8,distance:88555.5,depth:-7,cog:278.5,sog:0,created_at:"2023-01-09 08:09:03",updated_at:"2023-01-09 08:09:03"},{time:1673238601e3,id:"5ea3a677-6e78-4773-a9e5-c6f4c365cfa1",ship_id:1,terminal_time:"2023-01-09 04:30:01",lat:-6.101412,lng:106.905892,wind_speed:9.5,wind_direction:249.1,heading:359.8,distance:88555.5,depth:-6.8,cog:161.2,sog:.1,created_at:"2023-01-09 08:09:01",updated_at:"2023-01-09 08:09:01"},{time:1673239501e3,id:"5c8c5a2a-ed74-4185-bef6-92c28a9fdf4e",ship_id:1,terminal_time:"2023-01-09 04:45:01",lat:-6.101433,lng:106.905898,wind_speed:6.9,wind_direction:246.3,heading:0,distance:0,depth:-3.1,cog:73.5,sog:0,created_at:"2023-01-09 08:08:43",updated_at:"2023-01-09 08:08:43"},{time:1673240401e3,id:"4c79c190-421c-4140-841f-2591d3cdafff",ship_id:1,terminal_time:"2023-01-09 05:00:01",lat:-6.10142,lng:106.905925,wind_speed:9.7,wind_direction:242.1,heading:359.8,distance:88555.5,depth:-3.1,cog:125.4,sog:0,created_at:"2023-01-09 08:09:52",updated_at:"2023-01-09 08:09:52"},{time:1673241301e3,id:"c259fb8e-9a36-4dfc-bc0a-68cd1a49a286",ship_id:1,terminal_time:"2023-01-09 05:15:01",lat:-6.101342,lng:106.905905,wind_speed:5.2,wind_direction:240.7,heading:359.8,distance:88555.5,depth:-7.1,cog:159.2,sog:0,created_at:"2023-01-09 08:10:04",updated_at:"2023-01-09 08:10:04"},{time:1673242201e3,id:"27226360-f285-47ad-94b4-61ad2013e144",ship_id:1,terminal_time:"2023-01-09 05:30:01",lat:-6.101395,lng:106.905882,wind_speed:6.4,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-3.3,cog:250.3,sog:0,created_at:"2023-01-09 08:10:13",updated_at:"2023-01-09 08:10:13"},{time:1673243101e3,id:"2da1e4fe-f5f0-4895-b5fa-c4e50ec472d0",ship_id:1,terminal_time:"2023-01-09 05:45:01",lat:-6.101352,lng:106.905885,wind_speed:9.7,wind_direction:240.7,heading:359.7,distance:88555.5,depth:-3.5,cog:225.4,sog:0,created_at:"2023-01-09 08:10:15",updated_at:"2023-01-09 08:10:15"},{time:1673244001e3,id:"e101776c-0d25-4862-be01-60bdcd5c14e5",ship_id:1,terminal_time:"2023-01-09 06:00:01",lat:-6.101385,lng:106.905892,wind_speed:10.6,wind_direction:246.3,heading:359.6,distance:88555.5,depth:-3.5,cog:326.1,sog:0,created_at:"2023-01-09 08:10:03",updated_at:"2023-01-09 08:10:03"},{time:1673244901e3,id:"a9941a2b-e575-408e-a7bb-dacd988e6d96",ship_id:1,terminal_time:"2023-01-09 06:15:01",lat:-6.101383,lng:106.905903,wind_speed:7.1,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.5,cog:256.6,sog:0,created_at:"2023-01-09 08:10:10",updated_at:"2023-01-09 08:10:10"},{time:1673245801e3,id:"a1187bf0-abe9-4353-82a3-d4fd442c22e3",ship_id:1,terminal_time:"2023-01-09 06:30:01",lat:-6.101395,lng:106.905883,wind_speed:7.7,wind_direction:247.7,heading:359.6,distance:88555.5,depth:-3.6,cog:215.4,sog:0,created_at:"2023-01-09 08:09:40",updated_at:"2023-01-09 08:09:40"},{time:1673246701e3,id:"c3d8f1fb-1911-4887-b3ce-949bd243f6c1",ship_id:1,terminal_time:"2023-01-09 06:45:01",lat:-6.101395,lng:106.90591,wind_speed:9.9,wind_direction:252,heading:359.8,distance:88555.5,depth:-3.8,cog:125.3,sog:0,created_at:"2023-01-09 08:10:36",updated_at:"2023-01-09 08:10:36"},{time:1673247601e3,id:"6d3fb6e4-4b62-422c-bd75-5562e48a058d",ship_id:1,terminal_time:"2023-01-09 07:00:01",lat:-6.101393,lng:106.905862,wind_speed:7.5,wind_direction:252,heading:359.9,distance:88555.5,depth:-3.8,cog:64.2,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673248501e3,id:"6c8d24c2-f12c-4698-a829-a0632f019df1",ship_id:1,terminal_time:"2023-01-09 07:15:01",lat:-6.101393,lng:106.905878,wind_speed:7.3,wind_direction:246.3,heading:359.7,distance:88555.5,depth:-4,cog:64.5,sog:0,created_at:"2023-01-09 08:10:33",updated_at:"2023-01-09 08:10:33"},{time:1673249401e3,id:"519acfef-d197-4cfa-afa7-4e6e5e4b8737",ship_id:1,terminal_time:"2023-01-09 07:30:01",lat:-6.101377,lng:106.905885,wind_speed:6.6,wind_direction:242.1,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:41",updated_at:"2023-01-09 08:10:41"},{time:1673250301e3,id:"aa8fe1a7-57d9-445d-8f18-3f22b1a409c6",ship_id:1,terminal_time:"2023-01-09 07:45:01",lat:-6.101395,lng:106.905893,wind_speed:10.4,wind_direction:247.7,heading:0,distance:0,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:11:09",updated_at:"2023-01-09 08:11:09"},{time:1673251201e3,id:"5d87fb41-c0a5-49b5-aabc-e16448ec0db7",ship_id:1,terminal_time:"2023-01-09 08:00:01",lat:-6.101405,lng:106.905888,wind_speed:6,wind_direction:265.9,heading:359.7,distance:88555.5,depth:-4,cog:173.5,sog:0,created_at:"2023-01-09 08:10:51",updated_at:"2023-01-09 08:10:51"},{time:1673257766e3,id:"59f2dd21-3619-4d39-a699-a444c5f5039c",ship_id:1,terminal_time:"2023-01-09 09:49:26",lat:-6.10138,lng:106.905813,wind_speed:14.1,wind_direction:302.5,heading:359.8,distance:88555.5,depth:-4.1,cog:132.4,sog:0,created_at:"2023-01-10 08:00:06",updated_at:"2023-01-10 08:00:06"},{time:1673258401e3,id:"6b431693-2664-44b6-8518-5ab07bbf0c85",ship_id:1,terminal_time:"2023-01-09 10:00:01",lat:-6.101373,lng:106.9059,wind_speed:14.1,wind_direction:282.9,heading:359.8,distance:88555.5,depth:-4.1,cog:115.2,sog:0,created_at:"2023-01-10 08:02:29",updated_at:"2023-01-10 08:02:29"},{time:1673259301e3,id:"40fb792e-7a2e-4697-a25b-e79c2d2fdbc6",ship_id:1,terminal_time:"2023-01-09 10:15:01",lat:-6.10135,lng:106.905885,wind_speed:7.1,wind_direction:332.1,heading:359.9,distance:88555.5,depth:-4.3,cog:144.6,sog:0,created_at:"2023-01-10 08:01:40",updated_at:"2023-01-10 08:01:40"},{time:1673260201e3,id:"354963f0-7e7e-4ea0-97ae-5e69a9a932c9",ship_id:1,terminal_time:"2023-01-09 10:30:01",lat:-6.101405,lng:106.90586,wind_speed:12.6,wind_direction:292.8,heading:359.8,distance:88555.5,depth:-4.3,cog:105.8,sog:0,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673261101e3,id:"5bbbf421-2adb-4fd3-81a0-b0cade6e5e67",ship_id:1,terminal_time:"2023-01-09 10:45:01",lat:-6.101395,lng:106.905892,wind_speed:9.5,wind_direction:297,heading:359.8,distance:88555.5,depth:-4.3,cog:214.9,sog:0,created_at:"2023-01-10 08:05:43",updated_at:"2023-01-10 08:05:43"},{time:1673262001e3,id:"630c5619-2b52-4cbb-93bf-85c73cae98ae",ship_id:1,terminal_time:"2023-01-09 11:00:01",lat:-6.101408,lng:106.905882,wind_speed:6.6,wind_direction:297,heading:0,distance:0,depth:-4.3,cog:99.6,sog:0,created_at:"2023-01-10 08:02:39",updated_at:"2023-01-10 08:02:39"},{time:1673262901e3,id:"b403636b-8619-4d42-9cb4-6c4166a1b9b3",ship_id:1,terminal_time:"2023-01-09 11:15:01",lat:-6.101393,lng:106.90587,wind_speed:5,wind_direction:311.5,heading:359.8,distance:88555.5,depth:-4.3,cog:93.5,sog:0,created_at:"2023-01-10 08:04:42",updated_at:"2023-01-10 08:04:42"},{time:1673263806e3,id:"5f165c7e-e6b7-44c1-a482-567e62bc4017",ship_id:1,terminal_time:"2023-01-09 11:30:06",lat:-6.1014,lng:106.905877,wind_speed:15.1,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:73.4,sog:0,created_at:"2023-01-10 08:02:10",updated_at:"2023-01-10 08:02:10"},{time:1673264701e3,id:"bd2a40ce-8f23-43e0-8272-8f201c185ec8",ship_id:1,terminal_time:"2023-01-09 11:45:01",lat:-6.101388,lng:106.905907,wind_speed:16.3,wind_direction:337.8,heading:359.9,distance:88555.51,depth:-4.1,cog:61.2,sog:0,created_at:"2023-01-10 08:05:49",updated_at:"2023-01-10 08:05:49"},{time:1673265601e3,id:"c24f89d3-7780-4ffc-a265-5b6d2f72f073",ship_id:1,terminal_time:"2023-01-09 12:00:01",lat:-6.1014,lng:106.905888,wind_speed:14.7,wind_direction:342,heading:359.8,distance:88555.51,depth:-4.1,cog:67.8,sog:0,created_at:"2023-01-10 08:03:23",updated_at:"2023-01-10 08:03:23"},{time:1673266501e3,id:"13982c0e-988a-46c5-bec8-355b5f7dc5ca",ship_id:1,terminal_time:"2023-01-09 12:15:01",lat:-6.101408,lng:106.905903,wind_speed:7.1,wind_direction:315.3,heading:359.8,distance:88555.51,depth:-4.1,cog:36.9,sog:0,created_at:"2023-01-10 08:02:34",updated_at:"2023-01-10 08:02:34"},{time:1673267401e3,id:"d0beec20-b06e-4fc7-ad00-6f35454bb257",ship_id:1,terminal_time:"2023-01-09 12:30:01",lat:-6.10138,lng:106.905855,wind_speed:11.2,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:37.8,sog:0,created_at:"2023-01-10 08:01:57",updated_at:"2023-01-10 08:01:57"},{time:1673268301e3,id:"98379784-93de-4f27-b326-467bfef4b682",ship_id:1,terminal_time:"2023-01-09 12:45:01",lat:-6.101353,lng:106.905848,wind_speed:12.6,wind_direction:337.8,heading:359.8,distance:88555.51,depth:-4.1,cog:90.6,sog:0,created_at:"2023-01-10 08:05:23",updated_at:"2023-01-10 08:05:23"},{time:1673269201e3,id:"05ff55cd-da21-40f7-83dd-131e0587880e",ship_id:1,terminal_time:"2023-01-09 13:00:01",lat:-6.101385,lng:106.905875,wind_speed:12.2,wind_direction:342,heading:359.7,distance:88555.51,depth:-4,cog:96.8,sog:.1,created_at:"2023-01-10 08:01:45",updated_at:"2023-01-10 08:01:45"},{time:1673270101e3,id:"f7cc3f27-2367-4a6d-a4c2-db1154e9e00f",ship_id:1,terminal_time:"2023-01-09 13:15:01",lat:-6.101383,lng:106.905865,wind_speed:14.5,wind_direction:337.8,heading:359.7,distance:88555.51,depth:-4,cog:150.1,sog:.1,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673271001e3,id:"f662f7f2-d4d5-449f-873a-bcdfc3a00d51",ship_id:1,terminal_time:"2023-01-09 13:30:01",lat:-6.101357,lng:106.905865,wind_speed:12.8,wind_direction:337.8,heading:359.7,distance:88555.52,depth:-4,cog:321.4,sog:0,created_at:"2023-01-10 08:02:28",updated_at:"2023-01-10 08:02:28"},{time:1673271901e3,id:"89151d87-e6ce-4678-a3ef-8544ce5f573f",ship_id:1,terminal_time:"2023-01-09 13:45:01",lat:-6.101363,lng:106.905908,wind_speed:14.7,wind_direction:337.8,heading:359.6,distance:88555.52,depth:-4,cog:66.8,sog:0,created_at:"2023-01-10 08:04:30",updated_at:"2023-01-10 08:04:30"},{time:1673272801e3,id:"03f8f7d6-97b0-4dd5-be91-36f792a1a625",ship_id:1,terminal_time:"2023-01-09 14:00:01",lat:-6.101427,lng:106.905857,wind_speed:13,wind_direction:332.1,heading:.4,distance:88555.52,depth:-4,cog:287.6,sog:0,created_at:"2023-01-10 08:03:02",updated_at:"2023-01-10 08:03:02"},{time:1673273701e3,id:"a1f01e80-907b-4720-aaa7-aa073ffd06af",ship_id:1,terminal_time:"2023-01-09 14:15:01",lat:-6.095707,lng:106.89818,wind_speed:26.6,wind_direction:45,heading:276.6,distance:88556.26,depth:-11.3,cog:274.8,sog:6.6,created_at:"2023-01-10 08:01:52",updated_at:"2023-01-10 08:01:52"},{time:1673274601e3,id:"615a0d2a-2428-4c59-a170-a77f1278abfc",ship_id:1,terminal_time:"2023-01-09 14:30:01",lat:-6.079302,lng:106.881568,wind_speed:26.2,wind_direction:349,heading:355.1,distance:88557.85,depth:-10.8,cog:357.4,sog:7.3,created_at:"2023-01-10 08:01:54",updated_at:"2023-01-10 08:01:54"},{time:1673275501e3,id:"8a83141d-bf01-41b2-a27c-8b01697b30c7",ship_id:1,terminal_time:"2023-01-09 14:45:01",lat:-6.03759,lng:106.880487,wind_speed:28.9,wind_direction:0,heading:350.6,distance:88560.36,depth:-12.5,cog:353.9,sog:10.4,created_at:"2023-01-10 08:03:06",updated_at:"2023-01-10 08:03:06"},{time:1673276401e3,id:"f8617d50-8583-4cef-a0dd-29468fbc2d90",ship_id:1,terminal_time:"2023-01-09 15:00:01",lat:-5.98431,lng:106.873388,wind_speed:29.7,wind_direction:9.7,heading:330.3,distance:88563.54,depth:-16.6,cog:338.3,sog:12.5,created_at:"2023-01-10 08:03:19",updated_at:"2023-01-10 08:03:19"},{time:1673277301e3,id:"966ade39-66eb-4749-99b5-72528c7217e9",ship_id:1,terminal_time:"2023-01-09 15:15:01",lat:-5.961758,lng:106.82729,wind_speed:29.3,wind_direction:16.8,heading:312.6,distance:88566.7,depth:-19,cog:312.1,sog:13.2,created_at:"2023-01-10 08:02:20",updated_at:"2023-01-10 08:02:20"},{time:1673278201e3,id:"7531c730-0f9f-498f-85e9-d9704b5e56c3",ship_id:1,terminal_time:"2023-01-09 15:30:01",lat:-5.931025,lng:106.78072,wind_speed:28.1,wind_direction:21,heading:310.9,distance:88570,depth:-22.5,cog:312.1,sog:13.4,created_at:"2023-01-10 08:04:54",updated_at:"2023-01-10 08:04:54"},{time:1673279101e3,id:"0f5e09a8-fa21-4745-b847-90fe597eae7b",ship_id:1,terminal_time:"2023-01-09 15:45:01",lat:-14.161667,lng:116.66,wind_speed:27.2,wind_direction:32.3,heading:308,distance:88573.33,depth:-30.5,cog:0,sog:0,created_at:"2023-01-10 08:03:50",updated_at:"2023-01-10 08:03:50"},{time:1673280121e3,id:"b0c02cd1-d141-4cc5-b9f3-469c2154f3b2",ship_id:1,terminal_time:"2023-01-09 16:02:01",lat:-5.854772,lng:106.68859,wind_speed:23.7,wind_direction:33.6,heading:304.1,distance:88577.22,depth:-27.8,cog:305.1,sog:13.5,created_at:"2023-01-10 08:06:17",updated_at:"2023-01-10 08:06:17"},{time:1673280901e3,id:"60d837ed-22c2-4b7e-954a-8ed76765bb6b",ship_id:1,terminal_time:"2023-01-09 16:15:01",lat:-5.828417,lng:106.647598,wind_speed:19.2,wind_direction:54.9,heading:267.9,distance:88580.13,depth:-45.3,cog:273.5,sog:12.4,created_at:"2023-01-10 08:04:40",updated_at:"2023-01-10 08:04:40"},{time:1673281801e3,id:"5e868bf7-9f25-4361-9d84-88ccdcadc5bd",ship_id:1,terminal_time:"2023-01-09 16:30:01",lat:-5.833347,lng:106.590948,wind_speed:20.4,wind_direction:43.6,heading:263.3,distance:88583.55,depth:-70.6,cog:263.3,sog:13.8,created_at:"2023-01-10 08:03:21",updated_at:"2023-01-10 08:03:21"},{time:1673282701e3,id:"290d63d9-e0da-419c-880b-2ff176353be8",ship_id:1,terminal_time:"2023-01-09 16:45:01",lat:-5.83681,lng:106.533245,wind_speed:19.2,wind_direction:49.1,heading:269.3,distance:88586.99,depth:-83.3,cog:270,sog:13.8,created_at:"2023-01-10 08:04:36",updated_at:"2023-01-10 08:04:36"},{time:1673283601e3,id:"74437480-2eee-4b7d-bdec-bf2c3f57793e",ship_id:1,terminal_time:"2023-01-09 17:00:01",lat:-5.836503,lng:106.475305,wind_speed:20.4,wind_direction:49.1,heading:264.9,distance:88590.47,depth:-48.5,cog:266.8,sog:13.9,created_at:"2023-01-10 08:05:08",updated_at:"2023-01-10 08:05:08"},{time:1673284501e3,id:"a12b6836-7207-4ed4-b124-4d651273bb02",ship_id:1,terminal_time:"2023-01-09 17:15:01",lat:-5.845467,lng:106.417943,wind_speed:20.4,wind_direction:43.6,heading:267.7,distance:88593.93,depth:-51.6,cog:265.6,sog:14,created_at:"2023-01-10 08:04:19",updated_at:"2023-01-10 08:04:19"},{time:1673285401e3,id:"09588182-8517-4089-9f19-f6dfe3842699",ship_id:1,terminal_time:"2023-01-09 17:30:01",lat:-5.841642,lng:106.35981,wind_speed:21.3,wind_direction:33.6,heading:0,distance:0,depth:-27.1,cog:274.8,sog:14.1,created_at:"2023-01-10 08:05:40",updated_at:"2023-01-10 08:05:40"},{time:1673286301e3,id:"878bec49-a145-488f-ae6a-22e20f985adb",ship_id:1,terminal_time:"2023-01-09 17:45:01",lat:-5.838773,lng:106.300968,wind_speed:24.4,wind_direction:26.7,heading:269.9,distance:88600.96,depth:-32.6,cog:270.7,sog:14.2,created_at:"2023-01-10 08:04:41",updated_at:"2023-01-10 08:04:41"},{time:1673287201e3,id:"e479c84e-0867-465c-8999-5e588a85eea7",ship_id:1,terminal_time:"2023-01-09 18:00:01",lat:-5.837823,lng:106.239917,wind_speed:27.4,wind_direction:4.2,heading:270,distance:88604.52,depth:-23.8,cog:271.2,sog:14.3,created_at:"2023-01-10 08:05:14",updated_at:"2023-01-10 08:05:14"},{time:1673288101e3,id:"c65ffd03-8a74-4926-bed4-8610fa7e81a0",ship_id:1,terminal_time:"2023-01-09 18:15:01",lat:-5.838808,lng:106.181588,wind_speed:25,wind_direction:9.7,heading:264.9,distance:88608.11,depth:-28.1,cog:0,sog:0,created_at:"2023-01-10 08:06:48",updated_at:"2023-01-10 08:06:48"},{time:1673289001e3,id:"1c8548ab-cb0d-4bdb-9f57-195a3c362744",ship_id:1,terminal_time:"2023-01-09 18:30:01",lat:-5.841168,lng:106.120507,wind_speed:25,wind_direction:4.2,heading:268.9,distance:88611.69,depth:-38.3,cog:269.4,sog:14.3,created_at:"2023-01-10 08:06:38",updated_at:"2023-01-10 08:06:38"},{time:1673289901e3,id:"9205bfd4-683a-4325-8b29-103eb842219b",ship_id:1,terminal_time:"2023-01-09 18:45:01",lat:-5.8411,lng:106.061022,wind_speed:28.9,wind_direction:0,heading:269.1,distance:88615.22,depth:-50.3,cog:270.3,sog:14.2,created_at:"2023-01-10 08:06:30",updated_at:"2023-01-10 08:06:30"},{time:1673290801e3,id:"911bece6-7e5c-40f0-b0da-cf35b3eb7067",ship_id:1,terminal_time:"2023-01-09 19:00:01",lat:-5.854877,lng:106.006268,wind_speed:30.7,wind_direction:21,heading:225.6,distance:88618.76,depth:-74.5,cog:229.1,sog:14.3,created_at:"2023-01-10 08:07:24",updated_at:"2023-01-10 08:07:24"},{time:1673291701e3,id:"7fefd3ea-5a95-4eaf-a4ef-ec5bbb15390a",ship_id:1,terminal_time:"2023-01-09 19:15:01",lat:-5.897932,lng:105.964727,wind_speed:28.5,wind_direction:21,heading:224.8,distance:88622.34,depth:-37.1,cog:224.5,sog:14.2,created_at:"2023-01-10 08:07:04",updated_at:"2023-01-10 08:07:04"},{time:1673292601e3,id:"05a6f60e-0ee4-4d48-9f0c-6823f391ff6d",ship_id:1,terminal_time:"2023-01-09 19:30:01",lat:-5.94169,lng:105.92583,wind_speed:31.8,wind_direction:26.7,heading:221.9,distance:88625.93,depth:-38.1,cog:222.4,sog:13.9,created_at:"2023-01-10 08:05:52",updated_at:"2023-01-10 08:05:52"},{time:1673293501e3,id:"3582ee5f-9c1c-447c-a1c2-ad23d1fcdc4c",ship_id:1,terminal_time:"2023-01-09 19:45:01",lat:-5.985892,lng:105.888712,wind_speed:30.7,wind_direction:32.3,heading:215.3,distance:88629.38,depth:-50.8,cog:216.3,sog:14.2,created_at:"2023-01-10 08:05:36",updated_at:"2023-01-10 08:05:36"},{time:1673294401e3,id:"bae337b8-cf2c-4345-83f1-51a534c4756a",ship_id:1,terminal_time:"2023-01-09 20:00:01",lat:-6.007143,lng:105.844002,wind_speed:27.9,wind_direction:353.3,heading:291,distance:88632.81,depth:-84.1,cog:292.2,sog:13.7,created_at:"2023-01-10 08:08:12",updated_at:"2023-01-10 08:08:12"},{time:1673295301e3,id:"2bfe50aa-406d-420d-baba-3647f540a6db",ship_id:1,terminal_time:"2023-01-09 20:15:01",lat:-5.982978,lng:105.794872,wind_speed:28.5,wind_direction:0,heading:287.8,distance:88636.11,depth:-52,cog:293.4,sog:12.5,created_at:"2023-01-10 08:08:05",updated_at:"2023-01-10 08:08:05"},{time:1673296201e3,id:"226c6298-b20f-4d61-8d46-d20d9a16f764",ship_id:1,terminal_time:"2023-01-09 20:30:01",lat:-5.970388,lng:105.742705,wind_speed:31.8,wind_direction:4.2,heading:280,distance:88639.31,depth:-89.5,cog:282.8,sog:13.6,created_at:"2023-01-10 08:07:55",updated_at:"2023-01-10 08:07:55"},{time:1673297101e3,id:"0b3a3d1b-e2cd-412d-8949-052b468ac363",ship_id:1,terminal_time:"2023-01-09 20:45:01",lat:-5.952805,lng:105.689012,wind_speed:30.9,wind_direction:4.2,heading:288.7,distance:88642.69,depth:-66.1,cog:291,sog:13.4,created_at:"2023-01-10 08:06:29",updated_at:"2023-01-10 08:06:29"},{time:1673298001e3,id:"e5dc3b25-3498-4336-b51f-65360056bb47",ship_id:1,terminal_time:"2023-01-09 21:00:01",lat:-5.93262,lng:105.638005,wind_speed:32,wind_direction:4.2,heading:289,distance:88645.98,depth:-29.5,cog:291.5,sog:12.9,created_at:"2023-01-10 08:07:36",updated_at:"2023-01-10 08:07:36"},{time:1673298901e3,id:"97af2e02-a337-477c-b476-f8cc1f0f39bd",ship_id:1,terminal_time:"2023-01-09 21:15:01",lat:-5.918415,lng:105.586073,wind_speed:33,wind_direction:9.2,heading:274.4,distance:88649.16,depth:-20,cog:275.9,sog:12.5,created_at:"2023-01-10 08:06:55",updated_at:"2023-01-10 08:06:55"},{time:1673299801e3,id:"3f6e7fb8-8ed6-4139-af72-762e9a783f03",ship_id:1,terminal_time:"2023-01-09 21:30:01",lat:-5.913357,lng:105.534142,wind_speed:33.2,wind_direction:9.7,heading:272.1,distance:88652.27,depth:-36.3,cog:275.1,sog:12.2,created_at:"2023-01-10 08:06:51",updated_at:"2023-01-10 08:06:51"},{time:1673300701e3,id:"039c9a38-7354-41ae-a67f-1a28cc9ac563",ship_id:1,terminal_time:"2023-01-09 21:45:01",lat:-5.909802,lng:105.487677,wind_speed:31.6,wind_direction:4.2,heading:280.1,distance:88655.08,depth:-35.1,cog:281.9,sog:11.4,created_at:"2023-01-10 08:07:31",updated_at:"2023-01-10 08:07:31"},{time:1673301601e3,id:"c21c6af2-1b26-41e9-b6ef-1f8d76e84096",ship_id:1,terminal_time:"2023-01-09 22:00:01",lat:-5.902202,lng:105.43825,wind_speed:32.2,wind_direction:4.2,heading:0,distance:0,depth:-28.1,cog:278,sog:12.2,created_at:"2023-01-10 08:07:20",updated_at:"2023-01-10 08:07:20"},{time:1673302501e3,id:"6187beed-2f55-4f6c-ac4d-870ba4151a2b",ship_id:1,terminal_time:"2023-01-09 22:15:01",lat:-5.894857,lng:105.38688,wind_speed:33.6,wind_direction:7.5,heading:275.2,distance:88661.16,depth:-50.5,cog:279.6,sog:12.5,created_at:"2023-01-10 08:08:14",updated_at:"2023-01-10 08:08:14"},{time:1673303401e3,id:"d2860a82-a25f-4c3b-aaf3-db903c6c079d",ship_id:1,terminal_time:"2023-01-09 22:30:01",lat:-5.88575,lng:105.334428,wind_speed:37.7,wind_direction:4.2,heading:278.6,distance:88664.41,depth:-78.6,cog:282.5,sog:12.7,created_at:"2023-01-10 08:08:58",updated_at:"2023-01-10 08:08:58"},{time:1673304301e3,id:"bc8a41e1-d425-400a-afb9-2d64d783a252",ship_id:1,terminal_time:"2023-01-09 22:45:01",lat:-5.874368,lng:105.282648,wind_speed:34.4,wind_direction:9.7,heading:280.7,distance:88667.58,depth:-95.8,cog:284,sog:12.9,created_at:"2023-01-10 08:08:50",updated_at:"2023-01-10 08:08:50"},{time:1673305201e3,id:"2210ba63-e4e5-46bb-a238-f60a7ff5f63e",ship_id:1,terminal_time:"2023-01-09 23:00:01",lat:-5.862632,lng:105.230625,wind_speed:33.6,wind_direction:19,heading:281.1,distance:88670.78,depth:-105,cog:280.9,sog:12.6,created_at:"2023-01-10 08:08:39",updated_at:"2023-01-10 08:08:39"},{time:1673306101e3,id:"42f528f7-c57d-46a6-b362-95020790eb63",ship_id:1,terminal_time:"2023-01-09 23:15:01",lat:-5.850693,lng:105.178738,wind_speed:34.2,wind_direction:21,heading:283,distance:88673.97,depth:-120,cog:284.6,sog:12.8,created_at:"2023-01-10 08:09:21",updated_at:"2023-01-10 08:09:21"},{time:1673307001e3,id:"5e0ba177-15a5-4845-a33f-2b9be3696f90",ship_id:1,terminal_time:"2023-01-09 23:30:01",lat:-5.836418,lng:105.127365,wind_speed:37.3,wind_direction:16.8,heading:285.3,distance:88677.14,depth:-200,cog:290.4,sog:12.6,created_at:"2023-01-10 08:08:57",updated_at:"2023-01-10 08:08:57"},{time:1673307901e3,id:"74e77432-2815-4913-8e48-42a55e173eda",ship_id:1,terminal_time:"2023-01-09 23:45:01",lat:-5.821302,lng:105.076055,wind_speed:32.6,wind_direction:19.6,heading:285,distance:88680.34,depth:-206,cog:282.4,sog:12.7,created_at:"2023-01-10 08:08:36",updated_at:"2023-01-10 08:08:36"},{time:1673308801e3,id:"733111ca-d0a6-4cd2-a3c3-25a09999a0cc",ship_id:1,terminal_time:"2023-01-10 00:00:01",lat:-5.800392,lng:105.027445,wind_speed:28.7,wind_direction:9.7,heading:300.1,distance:88683.55,depth:-200.6,cog:302.4,sog:12.9,created_at:"2023-01-10 08:09:31",updated_at:"2023-01-10 08:09:31"},{time:1673309703e3,id:"f06e33ca-2719-4b1f-8f9d-3187c3f75fac",ship_id:1,terminal_time:"2023-01-10 00:15:03",lat:-5.7731770000000004,lng:104.980798,wind_speed:28.9,wind_direction:9.7,heading:297.3,distance:88686.7,depth:-202.3,cog:297,sog:12.5,created_at:"2023-01-10 08:10:07",updated_at:"2023-01-10 08:10:07"},{time:1673310603e3,id:"c856de4d-7236-4d94-9e85-c9fedbc48708",ship_id:1,terminal_time:"2023-01-10 00:30:03",lat:-5.747583,lng:104.93485,wind_speed:28.7,wind_direction:11.2,heading:296.8,distance:88689.82,depth:-198.3,cog:300,sog:12.6,created_at:"2023-01-10 08:10:05",updated_at:"2023-01-10 08:10:05"},{time:1673311503e3,id:"cd8a0d81-f531-4582-b2fb-e948ed042a0b",ship_id:1,terminal_time:"2023-01-10 00:45:03",lat:-5.720978,lng:104.889258,wind_speed:31.6,wind_direction:8.4,heading:298.9,distance:88692.97,depth:-77,cog:300.9,sog:12.5,created_at:"2023-01-10 08:09:46",updated_at:"2023-01-10 08:09:46"},{time:1673312403e3,id:"4dba530d-bc76-4355-ab28-1340d9ac5be7",ship_id:1,terminal_time:"2023-01-10 01:00:03",lat:-5.69468,lng:104.843363,wind_speed:27.2,wind_direction:11.2,heading:296.8,distance:88696.15,depth:-59.3,cog:299.2,sog:12.8,created_at:"2023-01-10 08:09:28",updated_at:"2023-01-10 08:09:28"},{time:1673313303e3,id:"325aec11-c392-479b-9d0d-41cbbd1feff8",ship_id:1,terminal_time:"2023-01-10 01:15:03",lat:-5.668635,lng:104.795995,wind_speed:25.4,wind_direction:16.8,heading:303.1,distance:88699.36,depth:-81.6,cog:305.2,sog:13.1,created_at:"2023-01-10 08:10:20",updated_at:"2023-01-10 08:10:20"},{time:1673314203e3,id:"b06943c5-9cd6-4fad-8ebe-f5449d7bffcc",ship_id:1,terminal_time:"2023-01-10 01:30:03",lat:-5.637213,lng:104.750302,wind_speed:25.4,wind_direction:16.8,heading:302.1,distance:88702.77,depth:-159.3,cog:302.6,sog:13.6,created_at:"2023-01-10 08:10:11",updated_at:"2023-01-10 08:10:11"},{time:1673315103e3,id:"9222b191-091c-4065-a00a-754b7a702ec9",ship_id:1,terminal_time:"2023-01-10 01:45:03",lat:-5.606022,lng:104.702637,wind_speed:24.1,wind_direction:12.5,heading:300.2,distance:88706.13,depth:-184.6,cog:302.6,sog:13.8,created_at:"2023-01-10 08:10:19",updated_at:"2023-01-10 08:10:19"},{time:1673316003e3,id:"352b8845-bef7-409c-a3e0-cf0aadac3054",ship_id:1,terminal_time:"2023-01-10 02:00:03",lat:-5.5799579999999995,lng:104.65319,wind_speed:21.1,wind_direction:16.8,heading:295.9,distance:88709.53,depth:-84.6,cog:296,sog:13.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673316903e3,id:"329d6a2d-92b7-4284-a981-79ccaf315c9c",ship_id:1,terminal_time:"2023-01-10 02:15:03",lat:-5.562793,lng:104.609362,wind_speed:18.2,wind_direction:19.6,heading:300.2,distance:88712.38,depth:-42.6,cog:307.4,sog:8.5,created_at:"2023-01-10 08:10:25",updated_at:"2023-01-10 08:10:25"},{time:1673317803e3,id:"232ce1d3-f960-42b9-80f6-306f115e0844",ship_id:1,terminal_time:"2023-01-10 02:30:03",lat:-13.866667,lng:111.266667,wind_speed:15.9,wind_direction:19.6,heading:305.2,distance:88714.17,depth:-36,cog:0,sog:0,created_at:"2023-01-10 08:10:32",updated_at:"2023-01-10 08:10:32"},{time:1673318703e3,id:"06e72ee8-b924-4aca-b288-407b083f57f5",ship_id:1,terminal_time:"2023-01-10 02:45:03",lat:-5.5387,lng:104.573278,wind_speed:7.1,wind_direction:21,heading:333.4,distance:88715.01,depth:-31.3,cog:286.4,sog:.5,created_at:"2023-01-10 08:10:31",updated_at:"2023-01-10 08:10:31"},{time:1673319603e3,id:"96979015-3293-432b-acdb-18a40130c80d",ship_id:1,terminal_time:"2023-01-10 03:00:03",lat:-5.538557,lng:104.572997,wind_speed:4.8,wind_direction:11.2,heading:34,distance:88715.04,depth:-31,cog:104.3,sog:.1,created_at:"2023-01-10 08:10:58",updated_at:"2023-01-10 08:10:58"},{time:1673320503e3,id:"311160b5-f9c6-4799-ad43-d85555c84374",ship_id:1,terminal_time:"2023-01-10 03:15:03",lat:-5.538512,lng:104.573348,wind_speed:2.5,wind_direction:11.2,heading:322.4,distance:88715.04,depth:-31,cog:349.1,sog:.1,created_at:"2023-01-10 08:10:55",updated_at:"2023-01-10 08:10:55"},{time:1673321403e3,id:"73f5a73d-8652-4de0-a492-7e4d2da8a5e4",ship_id:1,terminal_time:"2023-01-10 03:30:03",lat:-5.538447,lng:104.573578,wind_speed:2.7,wind_direction:11.2,heading:311.9,distance:88715.05,depth:-31,cog:124.7,sog:0,created_at:"2023-01-10 08:11:31",updated_at:"2023-01-10 08:11:31"},{time:1673322303e3,id:"d0d88b43-dbf4-4712-b6e6-2ba40ee6cbe7",ship_id:1,terminal_time:"2023-01-10 03:45:03",lat:-5.5383569999999995,lng:104.573628,wind_speed:2.9,wind_direction:11.2,heading:306.3,distance:88715.06,depth:-31,cog:216.8,sog:.1,created_at:"2023-01-10 08:11:02",updated_at:"2023-01-10 08:11:02"},{time:1673323203e3,id:"108e11e3-a7fa-41b3-af81-0cca33e8ff4c",ship_id:1,terminal_time:"2023-01-10 04:00:03",lat:-5.538393,lng:104.573665,wind_speed:4.8,wind_direction:11.2,heading:306.8,distance:88715.07,depth:-31,cog:232.3,sog:0,created_at:"2023-01-10 08:11:43",updated_at:"2023-01-10 08:11:43"},{time:1673324103e3,id:"bd89b9b2-c51f-4cc4-8ef2-932d74a5a249",ship_id:1,terminal_time:"2023-01-10 04:15:03",lat:-5.538438,lng:104.573587,wind_speed:5,wind_direction:11.2,heading:312.8,distance:88715.08,depth:-31,cog:169,sog:.1,created_at:"2023-01-10 08:11:37",updated_at:"2023-01-10 08:11:37"},{time:1673325003e3,id:"78ae1344-a9e9-44ff-b1f4-0c24f28e8fd4",ship_id:1,terminal_time:"2023-01-10 04:30:03",lat:-5.538348,lng:104.5736,wind_speed:5.6,wind_direction:11.2,heading:310.3,distance:88715.08,depth:-31,cog:80.3,sog:0,created_at:"2023-01-10 08:11:34",updated_at:"2023-01-10 08:11:34"},{time:1673325903e3,id:"a3aed659-572b-4b7c-abbe-b6691c723542",ship_id:1,terminal_time:"2023-01-10 04:45:03",lat:-5.538425,lng:104.573628,wind_speed:5.4,wind_direction:11.2,heading:310.7,distance:88715.08,depth:-31,cog:249.5,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673326803e3,id:"8c399c42-218f-43da-b0aa-06ac26cd8f12",ship_id:1,terminal_time:"2023-01-10 05:00:03",lat:-5.538432,lng:104.573612,wind_speed:6,wind_direction:11.2,heading:311.6,distance:88715.09,depth:-31,cog:246.8,sog:0,created_at:"2023-01-10 08:12:42",updated_at:"2023-01-10 08:12:42"},{time:1673327703e3,id:"27a493f7-b14d-40e8-8f51-878ed652d553",ship_id:1,terminal_time:"2023-01-10 05:15:03",lat:-5.538348,lng:104.573678,wind_speed:7.9,wind_direction:11.2,heading:304.8,distance:88715.09,depth:-31,cog:251.7,sog:0,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673328603e3,id:"f54bb566-292e-490c-883f-df6d70b3841b",ship_id:1,terminal_time:"2023-01-10 05:30:03",lat:-5.538438,lng:104.57369,wind_speed:6.2,wind_direction:11.2,heading:307.8,distance:88715.09,depth:-31.3,cog:246.1,sog:0,created_at:"2023-01-10 08:12:04",updated_at:"2023-01-10 08:12:04"},{time:1673329503e3,id:"31775419-f67f-4db4-a57d-40ae80fb1fee",ship_id:1,terminal_time:"2023-01-10 05:45:03",lat:-5.5385349999999995,lng:104.573568,wind_speed:7.7,wind_direction:11.2,heading:315.1,distance:88715.1,depth:-31.3,cog:246.9,sog:0,created_at:"2023-01-10 08:12:07",updated_at:"2023-01-10 08:12:07"},{time:1673330403e3,id:"2aa1b843-cd65-401d-ad7b-b8c474060a3b",ship_id:1,terminal_time:"2023-01-10 06:00:03",lat:-5.538448,lng:104.573675,wind_speed:6.9,wind_direction:11.2,heading:309.7,distance:88715.1,depth:-31.3,cog:337.6,sog:.1,created_at:"2023-01-10 08:12:18",updated_at:"2023-01-10 08:12:18"},{time:1673331303e3,id:"8f037bb3-2b98-4249-ae83-9bb727b265b0",ship_id:1,terminal_time:"2023-01-10 06:15:03",lat:-5.538453,lng:104.573677,wind_speed:6.6,wind_direction:11.2,heading:306.4,distance:88715.11,depth:-31.3,cog:223.5,sog:.1,created_at:"2023-01-10 08:13:02",updated_at:"2023-01-10 08:13:02"},{time:1673332203e3,id:"bb7e96d9-62c3-4ce3-b7bf-c5d7c72c9df1",ship_id:1,terminal_time:"2023-01-10 06:30:03",lat:-5.53864,lng:104.573363,wind_speed:8.3,wind_direction:11.2,heading:3,distance:88715.12,depth:-31.6,cog:0,sog:0,created_at:"2023-01-10 08:13:13",updated_at:"2023-01-10 08:13:13"},{time:1673333103e3,id:"cac4d244-d1fb-4d6a-92ac-bdbe7da18de9",ship_id:1,terminal_time:"2023-01-10 06:45:03",lat:-5.53888,lng:104.573258,wind_speed:7.5,wind_direction:11.2,heading:334.3,distance:88715.12,depth:-31.6,cog:96.5,sog:.1,created_at:"2023-01-10 08:12:49",updated_at:"2023-01-10 08:12:49"},{time:1673334003e3,id:"ef0d6a02-a51d-43d6-ae22-41c8f4263f47",ship_id:1,terminal_time:"2023-01-10 07:00:03",lat:-5.538878,lng:104.573242,wind_speed:6.2,wind_direction:11.2,heading:336.8,distance:88715.12,depth:-31.6,cog:86.3,sog:0,created_at:"2023-01-10 08:12:40",updated_at:"2023-01-10 08:12:40"},{time:1673334903e3,id:"c8300c89-faab-4152-8194-a46bb0b19e3a",ship_id:1,terminal_time:"2023-01-10 07:15:03",lat:-5.538762,lng:104.573413,wind_speed:4.6,wind_direction:11.2,heading:322.3,distance:88715.12,depth:-31.6,cog:358.1,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673335803e3,id:"5ef47cf2-3be4-4288-b43d-2dfb23367dbd",ship_id:1,terminal_time:"2023-01-10 07:30:03",lat:-5.538867,lng:104.573397,wind_speed:5,wind_direction:11.2,heading:326.8,distance:88715.12,depth:-31.6,cog:229,sog:0,created_at:"2023-01-10 08:13:25",updated_at:"2023-01-10 08:13:25"},{time:1673336703e3,id:"c28bf5e0-d94c-4f83-8bfd-8cd79550a629",ship_id:1,terminal_time:"2023-01-10 07:45:03",lat:-5.538897,lng:104.573083,wind_speed:5.4,wind_direction:11.2,heading:341.4,distance:88715.13,depth:-32,cog:251.6,sog:0,created_at:"2023-01-10 08:13:39",updated_at:"2023-01-10 08:13:39"},{time:1673337608e3,id:"8170db59-e578-4892-80c4-85355054b0d1",ship_id:1,terminal_time:"2023-01-10 08:00:08",lat:-5.538908,lng:104.572883,wind_speed:3.6,wind_direction:11.2,heading:351.4,distance:88715.14,depth:-32,cog:316.1,sog:0,created_at:"2023-01-10 08:13:38",updated_at:"2023-01-10 08:13:38"},{time:1673338503e3,id:"32200fd0-ad31-4afc-86c6-0eae8d39b303",ship_id:1,terminal_time:"2023-01-10 08:15:03",lat:-5.538917,lng:104.572915,wind_speed:3.8,wind_direction:11.2,heading:351.1,distance:88715.14,depth:-32,cog:324.3,sog:0,created_at:"2023-01-10 08:15:05",updated_at:"2023-01-10 08:15:05"},{time:1673339403e3,id:"c3f39b55-e63f-47d2-9aeb-e7a3c11e6b6c",ship_id:1,terminal_time:"2023-01-10 08:30:03",lat:-5.538923,lng:104.572508,wind_speed:2.7,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:292.2,sog:.2,created_at:"2023-01-10 08:30:05",updated_at:"2023-01-10 08:30:05"},{time:1673340303e3,id:"0f1d7c32-e1b4-4223-813c-3bcb9ff99519",ship_id:1,terminal_time:"2023-01-10 08:45:03",lat:-5.538778,lng:104.5725,wind_speed:2.9,wind_direction:11.2,heading:13,distance:88715.16,depth:-33,cog:110.6,sog:.1,created_at:"2023-01-10 08:45:05",updated_at:"2023-01-10 08:45:05"},{time:1673341203e3,id:"514696b1-d5c1-4d56-ac70-c12912248928",ship_id:1,terminal_time:"2023-01-10 09:00:03",lat:-5.538873,lng:104.572512,wind_speed:2.1,wind_direction:11.2,heading:9.6,distance:88715.17,depth:-32,cog:61.8,sog:0,created_at:"2023-01-10 09:00:05",updated_at:"2023-01-10 09:00:05"},{time:1673342103e3,id:"bb13fd39-bf15-4e3f-9f37-7ba8e070e27b",ship_id:1,terminal_time:"2023-01-10 09:15:03",lat:-5.538902,lng:104.572612,wind_speed:.3,wind_direction:11.2,heading:1.6,distance:88715.18,depth:-32,cog:209.1,sog:0,created_at:"2023-01-10 09:15:06",updated_at:"2023-01-10 09:15:06"},{time:1673343003e3,id:"52799df0-4dda-42e4-ae26-5f9ecb2e1f35",ship_id:1,terminal_time:"2023-01-10 09:30:03",lat:-5.53877,lng:104.572458,wind_speed:.7,wind_direction:11.2,heading:13,distance:88715.19,depth:-31.6,cog:274.9,sog:0,created_at:"2023-01-10 09:30:04",updated_at:"2023-01-10 09:30:04"},{time:1673343903e3,id:"582eb540-8281-4f06-be77-4f020238e88e",ship_id:1,terminal_time:"2023-01-10 09:45:03",lat:-5.538838,lng:104.572397,wind_speed:.3,wind_direction:11.2,heading:17.9,distance:88715.2,depth:-32,cog:98.3,sog:0,created_at:"2023-01-10 09:45:04",updated_at:"2023-01-10 09:45:04"},{time:1673344803e3,id:"d018284e-96bc-40a5-afdf-706261c83173",ship_id:1,terminal_time:"2023-01-10 10:00:03",lat:-5.538725,lng:104.572233,wind_speed:1.7,wind_direction:11.2,heading:26,distance:88715.22,depth:-32,cog:289.9,sog:.2,created_at:"2023-01-10 10:00:05",updated_at:"2023-01-10 10:00:05"},{time:1673345703e3,id:"c7e76799-9152-4732-b4a8-78b81f78ecbb",ship_id:1,terminal_time:"2023-01-10 10:15:03",lat:-5.538707,lng:104.572228,wind_speed:1.5,wind_direction:11.2,heading:28.8,distance:88715.23,depth:-32,cog:295.6,sog:0,created_at:"2023-01-10 10:15:06",updated_at:"2023-01-10 10:15:06"},{time:1673346603e3,id:"5aa686e9-1f35-4d75-94e0-4b24e6575a96",ship_id:1,terminal_time:"2023-01-10 10:30:03",lat:-5.538782,lng:104.572288,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-32,cog:115,sog:0,created_at:"2023-01-10 10:30:06",updated_at:"2023-01-10 10:30:06"},{time:1673347503e3,id:"4980bff8-4764-4dad-81cb-0f47d3ebeddc",ship_id:1,terminal_time:"2023-01-10 10:45:03",lat:-5.538625,lng:104.572078,wind_speed:2.1,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:306.6,sog:.1,created_at:"2023-01-11 08:19:01",updated_at:"2023-01-11 08:19:01"},{time:1673348403e3,id:"04b85d97-df61-4c7c-9ca5-fadbac1226ee",ship_id:1,terminal_time:"2023-01-10 11:00:03",lat:-5.538578,lng:104.572077,wind_speed:2.7,wind_direction:11.2,heading:40.3,distance:88715.28,depth:-33,cog:99.9,sog:.1,created_at:"2023-01-11 08:09:51",updated_at:"2023-01-11 08:09:51"},{time:1673349303e3,id:"a246a336-7d32-4004-9c36-0669444bfb5f",ship_id:1,terminal_time:"2023-01-10 11:15:03",lat:-5.538568,lng:104.57207,wind_speed:3.3,wind_direction:11.2,heading:0,distance:0,depth:-31.6,cog:307.3,sog:.1,created_at:"2023-01-11 08:59:53",updated_at:"2023-01-11 08:59:53"},{time:1673350203e3,id:"7a34bddb-396b-42bc-8b79-427c5236a76f",ship_id:1,terminal_time:"2023-01-10 11:30:03",lat:-5.538305,lng:104.57185,wind_speed:6.8,wind_direction:88.6,heading:59.8,distance:88715.33,depth:-31.6,cog:9.6,sog:.1,created_at:"2023-01-11 09:18:11",updated_at:"2023-01-11 09:18:11"},{time:1673351103e3,id:"d9220e3e-bbc0-4395-bf55-bf94ebcd524d",ship_id:1,terminal_time:"2023-01-10 11:45:03",lat:-5.537692,lng:104.571797,wind_speed:9.7,wind_direction:116.8,heading:95.5,distance:88715.36,depth:-31.6,cog:26,sog:.3,created_at:"2023-01-11 08:23:10",updated_at:"2023-01-11 08:23:10"},{time:1673352003e3,id:"8a8a13ef-e698-438c-930f-49ec0bb09f63",ship_id:1,terminal_time:"2023-01-10 12:00:03",lat:-5.537127,lng:104.571998,wind_speed:11.2,wind_direction:109.8,heading:122.7,distance:88715.36,depth:-31.6,cog:26.7,sog:.3,created_at:"2023-01-11 09:34:41",updated_at:"2023-01-11 09:34:41"},{time:1673352903e3,id:"229984b5-6b7d-4e00-9a08-4206488dca9d",ship_id:1,terminal_time:"2023-01-10 12:15:03",lat:-5.536328,lng:104.573425,wind_speed:14.9,wind_direction:56.3,heading:188.4,distance:88715.37,depth:-31,cog:121.6,sog:.5,created_at:"2023-01-11 08:16:13",updated_at:"2023-01-11 08:16:13"},{time:1673353803e3,id:"6a965009-1ee6-44b6-9d4a-a8749a1c4dd8",ship_id:1,terminal_time:"2023-01-10 12:30:03",lat:-5.536405,lng:104.573513,wind_speed:17.6,wind_direction:54.9,heading:199.6,distance:88715.39,depth:-31,cog:328,sog:.3,created_at:"2023-01-11 10:05:28",updated_at:"2023-01-11 10:05:28"},{time:1673354703e3,id:"13b5ce26-e32d-45b6-9906-297e9012334b",ship_id:1,terminal_time:"2023-01-10 12:45:03",lat:-5.536357,lng:104.573753,wind_speed:19.2,wind_direction:43.6,heading:197.7,distance:88715.4,depth:-30.6,cog:289.1,sog:.2,created_at:"2023-01-11 08:18:32",updated_at:"2023-01-11 08:18:32"},{time:1673355603e3,id:"ecda7f05-7d69-4f20-bcb7-310ce62047a6",ship_id:1,terminal_time:"2023-01-10 13:00:03",lat:-5.536677,lng:104.574085,wind_speed:20.4,wind_direction:43.6,heading:215.3,distance:88715.42,depth:-31,cog:95.7,sog:.1,created_at:"2023-01-11 08:16:09",updated_at:"2023-01-11 08:16:09"},{time:1673356503e3,id:"67d9e2e8-6850-45c7-a608-0f6f3750adf7",ship_id:1,terminal_time:"2023-01-10 13:15:03",lat:-5.536792,lng:104.574192,wind_speed:15.9,wind_direction:33.6,heading:225.5,distance:88715.43,depth:-31.3,cog:209.7,sog:.1,created_at:"2023-01-11 09:28:23",updated_at:"2023-01-11 09:28:23"},{time:1673357403e3,id:"7c6d8e6c-0652-4c08-9c17-13466996bfa9",ship_id:1,terminal_time:"2023-01-10 13:30:03",lat:-5.536822,lng:104.574207,wind_speed:14.1,wind_direction:32.3,heading:224.4,distance:88715.45,depth:-31,cog:109.6,sog:.1,created_at:"2023-01-11 08:01:23",updated_at:"2023-01-11 08:01:23"},{time:1673358303e3,id:"f71a5fe4-a992-470c-87d5-901a98539cd8",ship_id:1,terminal_time:"2023-01-10 13:45:03",lat:-5.536855,lng:104.574237,wind_speed:11.6,wind_direction:50.6,heading:220.9,distance:88715.47,depth:-31,cog:99.8,sog:.1,created_at:"2023-01-11 08:59:38",updated_at:"2023-01-11 08:59:38"},{time:1673359203e3,id:"bdb096b3-a7b1-479a-bef5-ea8f3b003506",ship_id:1,terminal_time:"2023-01-10 14:00:03",lat:-5.537295,lng:104.574445,wind_speed:15.5,wind_direction:21,heading:249.2,distance:88715.48,depth:-31,cog:132.1,sog:.1,created_at:"2023-01-11 08:44:42",updated_at:"2023-01-11 08:44:42"},{time:1673360103e3,id:"19bccdc4-4e82-4152-b765-cba9d3cdc2fb",ship_id:1,terminal_time:"2023-01-10 14:15:03",lat:-5.537357,lng:104.574448,wind_speed:20.9,wind_direction:15.4,heading:253.6,distance:88715.49,depth:-31,cog:25,sog:.1,created_at:"2023-01-11 09:05:09",updated_at:"2023-01-11 09:05:09"},{time:1673361003e3,id:"9545fd94-a3ad-4016-bbd4-072cc971b7b4",ship_id:1,terminal_time:"2023-01-10 14:30:03",lat:-5.537183,lng:104.574422,wind_speed:15.3,wind_direction:21,heading:243.8,distance:88715.51,depth:-31,cog:317.2,sog:.2,created_at:"2023-01-11 08:05:43",updated_at:"2023-01-11 08:05:43"},{time:1673361903e3,id:"775ad8f3-7486-4dda-8b7b-a41720291bd7",ship_id:1,terminal_time:"2023-01-10 14:45:03",lat:-5.537147,lng:104.574497,wind_speed:20,wind_direction:11.2,heading:243.4,distance:88715.53,depth:-31,cog:18.5,sog:.1,created_at:"2023-01-11 08:54:04",updated_at:"2023-01-11 08:54:04"},{time:1673362803e3,id:"83abeb04-acff-403c-9cc5-7fb61c8448d9",ship_id:1,terminal_time:"2023-01-10 15:00:03",lat:-5.537225,lng:104.574413,wind_speed:14.5,wind_direction:21,heading:243.4,distance:88715.56,depth:-31,cog:321.2,sog:.1,created_at:"2023-01-11 09:13:01",updated_at:"2023-01-11 09:13:01"},{time:1673363703e3,id:"acaa3bc0-f391-4ec9-8168-4d6ebc980f12",ship_id:1,terminal_time:"2023-01-10 15:15:03",lat:-5.537107,lng:104.574492,wind_speed:19,wind_direction:9.7,heading:243.3,distance:88715.58,depth:-31,cog:319.3,sog:.2,created_at:"2023-01-11 10:25:25",updated_at:"2023-01-11 10:25:25"},{time:1673364603e3,id:"83580a71-bc32-40ba-a819-59e1591bae49",ship_id:1,terminal_time:"2023-01-10 15:30:03",lat:-5.537295,lng:104.574417,wind_speed:18.8,wind_direction:26.7,heading:237.1,distance:88715.61,depth:-31,cog:72.7,sog:.2,created_at:"2023-01-11 08:24:04",updated_at:"2023-01-11 08:24:04"},{time:1673365503e3,id:"d107598f-b613-40ad-80e8-f021392d01a3",ship_id:1,terminal_time:"2023-01-10 15:45:03",lat:-5.53849,lng:104.561972,wind_speed:19.2,wind_direction:8.4,heading:266.7,distance:88716.39,depth:-35.6,cog:265.4,sog:2.8,created_at:"2023-01-11 09:19:29",updated_at:"2023-01-11 09:19:29"},{time:1673366403e3,id:"859441a4-aad6-4ebd-aa8e-4a8578c5526d",ship_id:1,terminal_time:"2023-01-10 16:00:03",lat:-5.541455,lng:104.560142,wind_speed:10.8,wind_direction:0,heading:260.5,distance:88716.58,depth:-41.3,cog:93.6,sog:.4,created_at:"2023-01-11 09:56:23",updated_at:"2023-01-11 09:56:23"},{time:1673367303e3,id:"28c5590a-1222-4129-b1f8-464f4a1ab33d",ship_id:1,terminal_time:"2023-01-10 16:15:03",lat:-5.542728,lng:104.560063,wind_speed:15.9,wind_direction:315.3,heading:0,distance:0,depth:-42,cog:203.9,sog:.3,created_at:"2023-01-11 08:16:55",updated_at:"2023-01-11 08:16:55"},{time:1673368203e3,id:"9331e12a-800b-44a4-8481-ef5423926243",ship_id:1,terminal_time:"2023-01-10 16:30:03",lat:-5.54335,lng:104.559467,wind_speed:14.7,wind_direction:336.4,heading:316.8,distance:88716.61,depth:-42,cog:326.5,sog:.1,created_at:"2023-01-11 09:02:06",updated_at:"2023-01-11 09:02:06"},{time:1673369413e3,id:"b6c2fdc4-0a36-412f-97b3-e19f5f1b754e",ship_id:1,terminal_time:"2023-01-10 16:50:13",lat:-5.54225,lng:104.560177,wind_speed:7.9,wind_direction:16.8,heading:280.8,distance:88716.63,depth:-41.6,cog:348.4,sog:.2,created_at:"2023-01-11 08:36:51",updated_at:"2023-01-11 08:36:51"},{time:1673370003e3,id:"88544c71-07ec-47a3-9425-83443bf1543f",ship_id:1,terminal_time:"2023-01-10 17:00:03",lat:-5.541955,lng:104.560087,wind_speed:12,wind_direction:9.7,heading:270.3,distance:88716.64,depth:-41.6,cog:5.6,sog:.2,created_at:"2023-01-11 09:17:54",updated_at:"2023-01-11 09:17:54"},{time:1673370903e3,id:"0439c29f-90b9-48cc-bec9-af020ee12223",ship_id:1,terminal_time:"2023-01-10 17:15:03",lat:-5.54169,lng:104.560058,wind_speed:8.1,wind_direction:32.3,heading:260.5,distance:88716.65,depth:-41.6,cog:309,sog:.2,created_at:"2023-01-11 10:17:44",updated_at:"2023-01-11 10:17:44"},{time:1673371803e3,id:"5d8047ae-778e-4dae-b543-c5d312c91b89",ship_id:1,terminal_time:"2023-01-10 17:30:03",lat:-5.541797,lng:104.560018,wind_speed:10.4,wind_direction:43.6,heading:258.3,distance:88716.67,depth:-42,cog:106.2,sog:.2,created_at:"2023-01-11 09:22:34",updated_at:"2023-01-11 09:22:34"},{time:1673372703e3,id:"90fec783-94f4-4620-879e-cfd5bf0f9b98",ship_id:1,terminal_time:"2023-01-10 17:45:03",lat:-5.542028,lng:104.560158,wind_speed:7.7,wind_direction:32.3,heading:273,distance:88716.67,depth:-41.6,cog:229.3,sog:.1,created_at:"2023-01-11 09:13:40",updated_at:"2023-01-11 09:13:40"},{time:1673373603e3,id:"925227d5-1685-4efc-8d4d-07ee45b665cb",ship_id:1,terminal_time:"2023-01-10 18:00:03",lat:-5.542407,lng:104.559988,wind_speed:4.6,wind_direction:49.1,heading:282.2,distance:88716.68,depth:-42,cog:194,sog:.1,created_at:"2023-01-11 09:36:51",updated_at:"2023-01-11 09:36:51"},{time:1673374503e3,id:"2c1746d2-52ed-4878-96e6-c5bcb5e15f57",ship_id:1,terminal_time:"2023-01-10 18:15:03",lat:-5.542953,lng:104.559968,wind_speed:4.8,wind_direction:45,heading:303.8,distance:88716.69,depth:-42.3,cog:184.6,sog:.1,created_at:"2023-01-11 09:53:35",updated_at:"2023-01-11 09:53:35"},{time:1673375403e3,id:"458bc847-49b8-4103-b441-5b85070c4a26",ship_id:1,terminal_time:"2023-01-10 18:30:03",lat:-5.54319,lng:104.559698,wind_speed:8.1,wind_direction:26.7,heading:317.6,distance:88716.71,depth:-42.3,cog:259,sog:.2,created_at:"2023-01-11 10:41:12",updated_at:"2023-01-11 10:41:12"},{time:1673376303e3,id:"7a04d24c-562e-4260-8524-122266d76b5d",ship_id:1,terminal_time:"2023-01-10 18:45:03",lat:-5.543392,lng:104.559572,wind_speed:6.8,wind_direction:353.3,heading:326.9,distance:88716.71,depth:-42.3,cog:198.2,sog:.1,created_at:"2023-01-11 10:01:54",updated_at:"2023-01-11 10:01:54"},{time:1673377203e3,id:"4914b017-1b9f-4f4b-a291-d9b6bf8ecccd",ship_id:1,terminal_time:"2023-01-10 19:00:03",lat:-5.54358,lng:104.559465,wind_speed:4.2,wind_direction:359,heading:335.6,distance:88716.71,depth:-42.6,cog:264.1,sog:.1,created_at:"2023-01-11 10:59:54",updated_at:"2023-01-11 10:59:54"},{time:1673378108e3,id:"b76818db-b6a8-430f-a64e-55aacb30bd1e",ship_id:1,terminal_time:"2023-01-10 19:15:08",lat:-5.54346,lng:104.559573,wind_speed:9.3,wind_direction:282.9,heading:336.1,distance:88716.71,depth:-42.6,cog:86,sog:.2,created_at:"2023-01-11 10:54:48",updated_at:"2023-01-11 10:54:48"},{time:1673379003e3,id:"b72a0185-3cac-4028-be33-d0d9cf496a5b",ship_id:1,terminal_time:"2023-01-10 19:30:03",lat:-5.5430150000000005,lng:104.559922,wind_speed:7.3,wind_direction:325.1,heading:311.5,distance:88716.72,depth:-42.3,cog:21.5,sog:.1,created_at:"2023-01-11 10:48:56",updated_at:"2023-01-11 10:48:56"},{time:1673379903e3,id:"00de7ba1-da7b-4f09-b03d-b1e05711ac14",ship_id:1,terminal_time:"2023-01-10 19:45:03",lat:-5.542545,lng:104.560115,wind_speed:7.9,wind_direction:354.6,heading:294.8,distance:88716.73,depth:-42.3,cog:19.6,sog:0,created_at:"2023-01-11 10:06:49",updated_at:"2023-01-11 10:06:49"},{time:1673380803e3,id:"bb4f09cd-d3ea-4bd7-8b43-631d7492bd52",ship_id:1,terminal_time:"2023-01-10 20:00:03",lat:-5.542382,lng:104.560208,wind_speed:12,wind_direction:347.6,heading:289,distance:88716.74,depth:-42.3,cog:354.6,sog:.1,created_at:"2023-01-11 10:02:10",updated_at:"2023-01-11 10:02:10"},{time:1673381703e3,id:"3214b99f-8371-483a-b938-aa3c97e21d86",ship_id:1,terminal_time:"2023-01-10 20:15:03",lat:-5.541937,lng:104.560167,wind_speed:10.4,wind_direction:359,heading:274,distance:88716.75,depth:-42.3,cog:354.7,sog:.1,created_at:"2023-01-11 10:43:38",updated_at:"2023-01-11 10:43:38"},{time:1673382603e3,id:"4ac048c2-864d-4e5c-b5d3-f9bf5206d98e",ship_id:1,terminal_time:"2023-01-10 20:30:03",lat:-5.541728,lng:104.560092,wind_speed:8.1,wind_direction:354.6,heading:267.6,distance:88716.75,depth:-42.3,cog:222.1,sog:0,created_at:"2023-01-11 11:15:05",updated_at:"2023-01-11 11:15:05"},{time:1673383503e3,id:"8149de7d-77d9-48e1-a53d-b6433e2f73d2",ship_id:1,terminal_time:"2023-01-10 20:45:03",lat:-5.541787,lng:104.56018,wind_speed:4.6,wind_direction:9.7,heading:265.9,distance:88716.76,depth:-42.3,cog:317,sog:.1,created_at:"2023-01-11 10:35:19",updated_at:"2023-01-11 10:35:19"},{time:1673384403e3,id:"2923b743-662d-4062-b187-ceeae60b90df",ship_id:1,terminal_time:"2023-01-10 21:00:03",lat:-5.541892,lng:104.55998,wind_speed:5.6,wind_direction:9.7,heading:268,distance:88716.78,depth:-42.3,cog:194,sog:.1,created_at:"2023-01-11 10:29:27",updated_at:"2023-01-11 10:29:27"},{time:1673385303e3,id:"6c1036d6-44a0-425b-8658-9db0c3ed493d",ship_id:1,terminal_time:"2023-01-10 21:15:03",lat:-5.542145,lng:104.56009,wind_speed:4,wind_direction:21,heading:277.4,distance:88716.79,depth:-42.6,cog:260.7,sog:.1,created_at:"2023-01-11 11:25:52",updated_at:"2023-01-11 11:25:52"},{time:1673386203e3,id:"6368e190-3bdc-4221-bff8-71d5bb0a3ca7",ship_id:1,terminal_time:"2023-01-10 21:30:03",lat:-5.542302,lng:104.560052,wind_speed:6.2,wind_direction:11.7,heading:285.8,distance:88716.79,depth:-42.6,cog:164.1,sog:0,created_at:"2023-01-11 11:21:34",updated_at:"2023-01-11 11:21:34"},{time:1673387103e3,id:"fc0088a3-893d-4fe4-bfe7-30679fbca91e",ship_id:1,terminal_time:"2023-01-10 21:45:03",lat:-5.542138,lng:104.560253,wind_speed:10.3,wind_direction:336.4,heading:286,distance:88716.8,depth:-42.3,cog:14.8,sog:.2,created_at:"2023-01-11 11:19:10",updated_at:"2023-01-11 11:19:10"},{time:1673388003e3,id:"71be65de-7a90-43dd-81c8-39b9fef2c290",ship_id:1,terminal_time:"2023-01-10 22:00:03",lat:-5.54161,lng:104.559828,wind_speed:2.7,wind_direction:336.4,heading:262.8,distance:88716.82,depth:-42,cog:266.4,sog:.1,created_at:"2023-01-11 10:57:14",updated_at:"2023-01-11 10:57:14"},{time:1673388908e3,id:"e42797d0-df06-4807-ab76-c37418dcfe02",ship_id:1,terminal_time:"2023-01-10 22:15:08",lat:-5.541503,lng:104.55974,wind_speed:6.6,wind_direction:336.4,heading:252.5,distance:88716.83,depth:-42,cog:14.8,sog:.1,created_at:"2023-01-11 11:11:30",updated_at:"2023-01-11 11:11:30"},{time:1673389803e3,id:"eee442cb-4b9b-47a6-9d4d-b678c812444b",ship_id:1,terminal_time:"2023-01-10 22:30:03",lat:-5.54109,lng:104.560015,wind_speed:12,wind_direction:16.8,heading:246.5,distance:88716.84,depth:-41.6,cog:347.3,sog:.1,created_at:"2023-01-11 11:10:12",updated_at:"2023-01-11 11:10:12"},{time:1673390703e3,id:"e4a937de-d12c-4530-90a5-f64aa8f75f72",ship_id:1,terminal_time:"2023-01-10 22:45:03",lat:-5.541293,lng:104.559667,wind_speed:2.7,wind_direction:43.6,heading:245.7,distance:88716.86,depth:-42,cog:209.6,sog:.1,created_at:"2023-01-11 11:04:22",updated_at:"2023-01-11 11:04:22"},{time:1673391698e3,id:"68a3ef72-960a-4387-8aa6-5b66611fe0a2",ship_id:1,terminal_time:"2023-01-10 23:01:38",lat:-5.541548,lng:104.559765,wind_speed:3.4,wind_direction:49.1,heading:0,distance:0,depth:-41.6,cog:134.3,sog:.1,created_at:"2023-01-11 11:39:16",updated_at:"2023-01-11 11:39:16"},{time:1673392503e3,id:"089eb567-2b29-41e9-9781-9030e190f220",ship_id:1,terminal_time:"2023-01-10 23:15:03",lat:-5.54197,lng:104.560077,wind_speed:4.2,wind_direction:56.3,heading:271.4,distance:88716.87,depth:-42,cog:164.7,sog:.2,created_at:"2023-01-11 11:30:13",updated_at:"2023-01-11 11:30:13"},{time:1673393403e3,id:"63129a87-03cc-4ede-ba2d-91ee71078d8a",ship_id:1,terminal_time:"2023-01-10 23:30:03",lat:-5.542198,lng:104.5601,wind_speed:2.3,wind_direction:43.5,heading:286,distance:88716.87,depth:-42,cog:207.2,sog:.1,created_at:"2023-01-11 11:43:42",updated_at:"2023-01-11 11:43:42"},{time:1673394303e3,id:"4aaecec9-7db3-489d-9e3f-9027a0451a1d",ship_id:1,terminal_time:"2023-01-10 23:45:03",lat:-5.542232,lng:104.56008,wind_speed:2.5,wind_direction:357.5,heading:289.4,distance:88716.87,depth:-42,cog:172.7,sog:.1,created_at:"2023-01-11 11:30:30",updated_at:"2023-01-11 11:30:30"},{time:1673395203e3,id:"5e443c1f-a779-458b-923d-d79b8bdb2950",ship_id:1,terminal_time:"2023-01-11 00:00:03",lat:-5.542575,lng:104.559993,wind_speed:4.2,wind_direction:49.1,heading:295.9,distance:88716.87,depth:-42,cog:178.8,sog:.1,created_at:"2023-01-11 11:20:30",updated_at:"2023-01-11 11:20:30"},{time:1673478415e3,id:"3a27a298-8266-41ea-83c2-1fa693ef93a8",ship_id:1,terminal_time:"2023-01-11 23:06:55",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:.1,created_at:"2023-01-12 08:00:07",updated_at:"2023-01-12 08:00:07"},{time:1673482021e3,id:"301c2657-23af-4610-8577-1267f195a1c7",ship_id:1,terminal_time:"2023-01-12 00:07:01",lat:-5.91961,lng:106.000188,wind_speed:15.1,wind_direction:201.2,heading:31.1,distance:88812.6,depth:-4,cog:306.2,sog:0,created_at:"2023-01-12 08:00:10",updated_at:"2023-01-12 08:00:10"},{time:1673482501e3,id:"ffe5c699-e3bc-4273-a0ff-33499003b397",ship_id:1,terminal_time:"2023-01-12 00:15:01",lat:-5.919605,lng:106.00021,wind_speed:12.8,wind_direction:212.5,heading:31.1,distance:88812.61,depth:-4,cog:295.9,sog:0,created_at:"2023-01-12 08:01:25",updated_at:"2023-01-12 08:01:25"},{time:1673483401e3,id:"95be2e54-e93e-4fe2-a470-028106f4827b",ship_id:1,terminal_time:"2023-01-12 00:30:01",lat:-5.919602,lng:106.000222,wind_speed:15.1,wind_direction:219.6,heading:31,distance:88812.61,depth:-4,cog:107.8,sog:0,created_at:"2023-01-12 08:00:38",updated_at:"2023-01-12 08:00:38"},{time:1673484301e3,id:"62eb058f-ab11-46fc-8990-a9da9a055cae",ship_id:1,terminal_time:"2023-01-12 00:45:01",lat:-5.91959,lng:106.00022,wind_speed:19.6,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-4,cog:126.6,sog:0,created_at:"2023-01-12 08:02:17",updated_at:"2023-01-12 08:02:17"},{time:1673485201e3,id:"db170fcf-5c04-48b1-8b3e-1ea1a747de17",ship_id:1,terminal_time:"2023-01-12 01:00:01",lat:-5.919602,lng:106.000213,wind_speed:14.1,wind_direction:206.9,heading:31.2,distance:88812.61,depth:-3.6,cog:121.9,sog:0,created_at:"2023-01-12 08:03:00",updated_at:"2023-01-12 08:03:00"},{time:1673486101e3,id:"53202233-3f20-46fc-b124-4e5b880022cc",ship_id:1,terminal_time:"2023-01-12 01:15:01",lat:-5.919595,lng:106.00023,wind_speed:20.4,wind_direction:204,heading:31.2,distance:88812.61,depth:-3.6,cog:137,sog:.1,created_at:"2023-01-12 08:03:40",updated_at:"2023-01-12 08:03:40"},{time:1673487001e3,id:"f2ad03cf-9317-4535-884b-21401f965fa1",ship_id:1,terminal_time:"2023-01-12 01:30:01",lat:-5.91957,lng:106.000213,wind_speed:16.1,wind_direction:206.9,heading:31.6,distance:88812.62,depth:-3.6,cog:312.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673487901e3,id:"1717eafe-2674-4fab-ac02-c130433596ce",ship_id:1,terminal_time:"2023-01-12 01:45:01",lat:-5.919583,lng:106.000232,wind_speed:16.9,wind_direction:208.3,heading:31.3,distance:88812.62,depth:-3.6,cog:280.3,sog:.1,created_at:"2023-01-12 08:00:28",updated_at:"2023-01-12 08:00:28"},{time:1673488801e3,id:"a257ae15-7b7d-4982-9e0a-7d65c7724a0b",ship_id:1,terminal_time:"2023-01-12 02:00:01",lat:-5.919518,lng:106.000213,wind_speed:19.2,wind_direction:213.9,heading:30.9,distance:88812.62,depth:-3.6,cog:303.5,sog:0,created_at:"2023-01-12 08:02:13",updated_at:"2023-01-12 08:02:13"},{time:1673489701e3,id:"e16c56d6-2d75-447e-9552-8e9dc5c89d17",ship_id:1,terminal_time:"2023-01-12 02:15:01",lat:-5.919577,lng:106.000232,wind_speed:20,wind_direction:212.5,heading:31.1,distance:88812.63,depth:-3.6,cog:310.5,sog:.1,created_at:"2023-01-12 08:01:35",updated_at:"2023-01-12 08:01:35"},{time:1673490601e3,id:"f19c3f20-ab29-457b-939a-1b258e8f55ad",ship_id:1,terminal_time:"2023-01-12 02:30:01",lat:-5.919567,lng:106.000248,wind_speed:19,wind_direction:212.1,heading:31.2,distance:88812.64,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:00:48",updated_at:"2023-01-12 08:00:48"},{time:1673491501e3,id:"36399975-75a1-4ae4-9944-fe85dc14f62b",ship_id:1,terminal_time:"2023-01-12 02:45:01",lat:-5.919593,lng:106.000235,wind_speed:14.9,wind_direction:202.7,heading:31.2,distance:88812.65,depth:-3.3,cog:331.5,sog:.1,created_at:"2023-01-12 08:02:40",updated_at:"2023-01-12 08:02:40"},{time:1673492401e3,id:"85c19f34-0992-4c6f-b7dc-db0b624a306b",ship_id:1,terminal_time:"2023-01-12 03:00:01",lat:-5.919592,lng:106.00023,wind_speed:17.6,wind_direction:209.2,heading:31.2,distance:88812.66,depth:-3.3,cog:99.6,sog:0,created_at:"2023-01-12 08:03:12",updated_at:"2023-01-12 08:03:12"},{time:1673493301e3,id:"c778fd18-b2e6-4009-9e52-6cb03b3fa5f9",ship_id:1,terminal_time:"2023-01-12 03:15:01",lat:-5.919595,lng:106.00021,wind_speed:18.4,wind_direction:206.9,heading:31.1,distance:88812.67,depth:-3.3,cog:304.7,sog:.1,created_at:"2023-01-12 08:03:47",updated_at:"2023-01-12 08:03:47"},{time:1673494201e3,id:"6475c752-084a-474b-83f3-ed822b2ccb81",ship_id:1,terminal_time:"2023-01-12 03:30:01",lat:-5.919612,lng:106.000213,wind_speed:17.6,wind_direction:213.9,heading:31,distance:88812.68,depth:-3.3,cog:294.5,sog:.1,created_at:"2023-01-12 08:01:24",updated_at:"2023-01-12 08:01:24"},{time:1673495101e3,id:"a56d58a7-c4ba-4709-923b-545fd0a68e23",ship_id:1,terminal_time:"2023-01-12 03:45:01",lat:-5.919602,lng:106.000232,wind_speed:17.4,wind_direction:201.2,heading:31.3,distance:88812.68,depth:-3.3,cog:257.4,sog:0,created_at:"2023-01-12 08:04:20",updated_at:"2023-01-12 08:04:20"},{time:1673496001e3,id:"cac79e4a-e15d-4f75-9273-d5e24645053e",ship_id:1,terminal_time:"2023-01-12 04:00:01",lat:-5.919602,lng:106.000252,wind_speed:15.3,wind_direction:213.9,heading:0,distance:0,depth:-3.3,cog:307.2,sog:.1,created_at:"2023-01-12 08:04:10",updated_at:"2023-01-12 08:04:10"},{time:1673496901e3,id:"3dfb8e71-93a9-4d4f-8965-013575f61a35",ship_id:1,terminal_time:"2023-01-12 04:15:01",lat:-5.919607,lng:106.000238,wind_speed:20.2,wind_direction:206.7,heading:31.3,distance:88812.68,depth:-3.3,cog:150.8,sog:.1,created_at:"2023-01-12 08:04:45",updated_at:"2023-01-12 08:04:45"},{time:1673497801e3,id:"0f7d7540-fe75-45e0-9a30-635c7128b620",ship_id:1,terminal_time:"2023-01-12 04:30:01",lat:-5.919607,lng:106.000257,wind_speed:15.9,wind_direction:206.9,heading:31,distance:88812.68,depth:-3.3,cog:149.1,sog:0,created_at:"2023-01-12 08:02:03",updated_at:"2023-01-12 08:02:03"},{time:1673498701e3,id:"f21a660b-dcfa-4b13-9856-215ab031fb29",ship_id:1,terminal_time:"2023-01-12 04:45:01",lat:-5.919532,lng:106.000253,wind_speed:18,wind_direction:206.9,heading:0,distance:0,depth:-3.3,cog:196,sog:0,created_at:"2023-01-12 08:03:57",updated_at:"2023-01-12 08:03:57"},{time:1673499601e3,id:"67284bea-ac4f-4fcb-be3d-67fb96501e12",ship_id:1,terminal_time:"2023-01-12 05:00:01",lat:-5.919563,lng:106.000252,wind_speed:12.8,wind_direction:206.9,heading:31.1,distance:88812.69,depth:-3.3,cog:313.2,sog:.1,created_at:"2023-01-12 08:02:05",updated_at:"2023-01-12 08:02:05"},{time:1673500501e3,id:"903255da-a46b-4560-be6f-54121a35e9d4",ship_id:1,terminal_time:"2023-01-12 05:15:01",lat:-5.919592,lng:106.00022,wind_speed:14.7,wind_direction:208.3,heading:31.2,distance:88812.69,depth:-3.3,cog:317.3,sog:0,created_at:"2023-01-12 08:01:18",updated_at:"2023-01-12 08:01:18"},{time:1673501401e3,id:"d15302d5-c880-455f-8e84-b63f78532405",ship_id:1,terminal_time:"2023-01-12 05:30:01",lat:-5.919553,lng:106.000257,wind_speed:14.1,wind_direction:206.9,heading:31.3,distance:88812.69,depth:-3.3,cog:85.3,sog:0,created_at:"2023-01-12 08:00:36",updated_at:"2023-01-12 08:00:36"},{time:1673502301e3,id:"6964957b-d44f-4ccd-9711-139c0f5321a6",ship_id:1,terminal_time:"2023-01-12 05:45:01",lat:-5.919598,lng:106.000232,wind_speed:12.4,wind_direction:213.9,heading:31,distance:88812.7,depth:-3.3,cog:71.8,sog:0,created_at:"2023-01-12 08:02:19",updated_at:"2023-01-12 08:02:19"},{time:1673503261e3,id:"9e325986-7d1b-4135-ba31-922a70ec7621",ship_id:1,terminal_time:"2023-01-12 06:01:01",lat:-5.919563,lng:106.000245,wind_speed:16.9,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:45.2,sog:0,created_at:"2023-01-12 08:04:33",updated_at:"2023-01-12 08:04:33"},{time:1673504101e3,id:"91e1667b-13ee-4042-b227-58b06be13ccd",ship_id:1,terminal_time:"2023-01-12 06:15:01",lat:-5.919573,lng:106.00022,wind_speed:6.6,wind_direction:213.9,heading:31.3,distance:88812.7,depth:-3.3,cog:144.5,sog:0,created_at:"2023-01-12 08:01:32",updated_at:"2023-01-12 08:01:32"},{time:1673505006e3,id:"8fbb2278-d875-4905-87a7-36e16bdc5d08",ship_id:1,terminal_time:"2023-01-12 06:30:06",lat:-5.919547,lng:106.00019,wind_speed:14.1,wind_direction:219.6,heading:31.1,distance:88812.7,depth:-3.3,cog:129.1,sog:0,created_at:"2023-01-12 08:03:24",updated_at:"2023-01-12 08:03:24"},{time:1673505901e3,id:"6dd47699-6d9e-4f4e-b03f-b3c7c179d628",ship_id:1,terminal_time:"2023-01-12 06:45:01",lat:-5.919567,lng:106.000218,wind_speed:11.2,wind_direction:206.9,heading:31.2,distance:88812.7,depth:-3.3,cog:302.6,sog:0,created_at:"2023-01-12 08:04:14",updated_at:"2023-01-12 08:04:14"},{time:1673506801e3,id:"e6b66228-a386-4585-8b24-beb353ada5df",ship_id:1,terminal_time:"2023-01-12 07:00:01",lat:-5.919573,lng:106.000242,wind_speed:13.8,wind_direction:212.5,heading:31.2,distance:88812.7,depth:-3.3,cog:130,sog:0,created_at:"2023-01-12 08:03:33",updated_at:"2023-01-12 08:03:33"},{time:1673507701e3,id:"87faa350-6df1-4360-a4a2-280d812558f8",ship_id:1,terminal_time:"2023-01-12 07:15:01",lat:-5.919583,lng:106.000195,wind_speed:11.2,wind_direction:201.2,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:04:40",updated_at:"2023-01-12 08:04:40"},{time:1673508601e3,id:"9e3f7764-a732-42a0-94c3-1c0493a43105",ship_id:1,terminal_time:"2023-01-12 07:30:01",lat:-5.919588,lng:106.000215,wind_speed:11,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.3,cog:125.7,sog:0,created_at:"2023-01-12 08:04:34",updated_at:"2023-01-12 08:04:34"},{time:1673509501e3,id:"c0d5821b-d4a0-469d-a793-634ffbcb381f",ship_id:1,terminal_time:"2023-01-12 07:45:01",lat:-5.919593,lng:106.000222,wind_speed:16.1,wind_direction:213.9,heading:31.1,distance:88812.7,depth:-3.3,cog:122.9,sog:0,created_at:"2023-01-12 08:03:50",updated_at:"2023-01-12 08:03:50"},{time:1673510406e3,id:"5bcbfbf1-6af1-45d4-9e4f-3f756ee3de58",ship_id:1,terminal_time:"2023-01-12 08:00:06",lat:-5.9196,lng:106.000238,wind_speed:10.8,wind_direction:215.4,heading:31,distance:88812.7,depth:-3.3,cog:117.8,sog:.1,created_at:"2023-01-12 08:04:56",updated_at:"2023-01-12 08:04:56"},{time:1673511301e3,id:"7d090cd0-aba9-42b6-bbe9-1f253ee7093b",ship_id:1,terminal_time:"2023-01-12 08:15:01",lat:-5.919602,lng:106.000217,wind_speed:12.2,wind_direction:223.8,heading:31.1,distance:88812.7,depth:-3.6,cog:92.7,sog:.1,created_at:"2023-01-12 08:15:05",updated_at:"2023-01-12 08:15:05"},{time:1673512201e3,id:"fc753b87-6977-4e80-b90b-05dc877e04c3",ship_id:1,terminal_time:"2023-01-12 08:30:01",lat:-5.919598,lng:106.000233,wind_speed:15.5,wind_direction:215.4,heading:31.1,distance:88812.71,depth:-3.6,cog:134.1,sog:0,created_at:"2023-01-12 08:30:04",updated_at:"2023-01-12 08:30:04"},{time:1673513101e3,id:"15468c4d-66ad-44c5-8692-70c97eca048f",ship_id:1,terminal_time:"2023-01-12 08:45:01",lat:-5.919635,lng:106.00023,wind_speed:13.8,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:105.9,sog:.1,created_at:"2023-01-12 08:45:04",updated_at:"2023-01-12 08:45:04"},{time:1673514001e3,id:"ebc3bf69-1d1f-495a-b4a4-9c32c0ed598d",ship_id:1,terminal_time:"2023-01-12 09:00:01",lat:-5.919602,lng:106.000208,wind_speed:15.5,wind_direction:212,heading:31.2,distance:88812.71,depth:-3.6,cog:112.4,sog:0,created_at:"2023-01-12 09:00:04",updated_at:"2023-01-12 09:00:04"},{time:1673514901e3,id:"545fefd0-b1bb-4e36-a7d3-c0c35e2dc06a",ship_id:1,terminal_time:"2023-01-12 09:15:01",lat:-5.919617,lng:106.000203,wind_speed:11.6,wind_direction:223.8,heading:31.33,distance:88812.71,depth:-3.6,cog:121.1,sog:0,created_at:"2023-01-12 09:15:04",updated_at:"2023-01-12 09:15:04"},{time:1673515801e3,id:"f45537e7-c24d-43d4-a111-c331f0185270",ship_id:1,terminal_time:"2023-01-12 09:30:01",lat:-5.919602,lng:106.000202,wind_speed:11.4,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:120.6,sog:0,created_at:"2023-01-12 09:30:05",updated_at:"2023-01-12 09:30:05"},{time:1673516706e3,id:"d927f6f3-c47e-4066-948b-8c47ce169ddd",ship_id:1,terminal_time:"2023-01-12 09:45:06",lat:-5.919607,lng:106.0002,wind_speed:11.8,wind_direction:246.3,heading:31.3,distance:88812.71,depth:-3.6,cog:281.2,sog:0,created_at:"2023-01-12 09:45:11",updated_at:"2023-01-12 09:45:11"},{time:1673517601e3,id:"6f2b17a6-fc9e-4272-b263-9372835e5cb7",ship_id:1,terminal_time:"2023-01-12 10:00:01",lat:-5.919583,lng:106.000217,wind_speed:13.2,wind_direction:235.1,heading:31.1,distance:88812.71,depth:-3.6,cog:122.7,sog:0,created_at:"2023-01-12 10:00:05",updated_at:"2023-01-12 10:00:05"},{time:1673518501e3,id:"8037d2bb-f96b-4bdc-8e1a-6cc0234defce",ship_id:1,terminal_time:"2023-01-12 10:15:01",lat:-5.919593,lng:106.000227,wind_speed:10.8,wind_direction:225.2,heading:31.2,distance:88812.71,depth:-3.6,cog:107.9,sog:0,created_at:"2023-01-12 10:15:05",updated_at:"2023-01-12 10:15:05"},{time:1673519401e3,id:"59efc70a-dfcf-475b-a578-d472d4b63f41",ship_id:1,terminal_time:"2023-01-12 10:30:01",lat:-5.91962,lng:106.000227,wind_speed:12.8,wind_direction:235.1,heading:0,distance:0,depth:-3.6,cog:127.3,sog:0,created_at:"2023-01-12 10:30:05",updated_at:"2023-01-12 10:30:05"},{time:1673520301e3,id:"14107e27-17a4-4f72-8bf5-b4ba6866475b",ship_id:1,terminal_time:"2023-01-12 10:45:01",lat:-5.919598,lng:106.000215,wind_speed:6.9,wind_direction:241.7,heading:31.2,distance:88812.72,depth:-3.6,cog:142.3,sog:0,created_at:"2023-01-12 10:45:05",updated_at:"2023-01-12 10:45:05"},{time:1673521201e3,id:"55f2910a-c9a9-400f-99ec-17d9ea4260ab",ship_id:1,terminal_time:"2023-01-12 11:00:01",lat:-5.919615,lng:106.000205,wind_speed:14.3,wind_direction:235.1,heading:31.2,distance:88812.72,depth:-3.6,cog:309,sog:0,created_at:"2023-01-12 11:00:05",updated_at:"2023-01-12 11:00:05"},{time:1673522101e3,id:"554cb944-60be-4c64-baf9-0244229277f5",ship_id:1,terminal_time:"2023-01-12 11:15:01",lat:-5.919627,lng:106.000208,wind_speed:12.4,wind_direction:237.5,heading:31,distance:88812.72,depth:-3.6,cog:63,sog:.1,created_at:"2023-01-12 11:15:05",updated_at:"2023-01-12 11:15:05"},{time:1673523001e3,id:"d0a7e914-9d36-4e3a-b078-429af76e139a",ship_id:1,terminal_time:"2023-01-12 11:30:01",lat:-5.919625,lng:106.000183,wind_speed:12.4,wind_direction:247.7,heading:31.3,distance:88812.74,depth:-3.6,cog:64.3,sog:.1,created_at:"2023-01-12 11:30:05",updated_at:"2023-01-12 11:30:05"},{time:1673523901e3,id:"3578112f-5993-44fc-9bcb-484ae892cb83",ship_id:1,terminal_time:"2023-01-12 11:45:01",lat:-5.91961,lng:106.00022,wind_speed:13.8,wind_direction:247.7,heading:31.2,distance:88812.75,depth:-3.6,cog:47.8,sog:.1,created_at:"2023-01-12 11:45:05",updated_at:"2023-01-12 11:45:05"},{time:1673524801e3,id:"63045459-e38d-4517-88ec-0e16f915455c",ship_id:1,terminal_time:"2023-01-12 12:00:01",lat:-5.919587,lng:106.000218,wind_speed:9.1,wind_direction:247.7,heading:31.1,distance:88812.76,depth:-3.6,cog:102.5,sog:.1,created_at:"2023-01-12 12:00:05",updated_at:"2023-01-12 12:00:05"},{time:1673525701e3,id:"8f235d26-eba0-4cf1-b387-1bbe467f5880",ship_id:1,terminal_time:"2023-01-12 12:15:01",lat:-5.919615,lng:106.000227,wind_speed:11.6,wind_direction:242.1,heading:31.1,distance:88812.77,depth:-3.6,cog:311.4,sog:0,created_at:"2023-01-12 12:15:02",updated_at:"2023-01-12 12:15:02"},{time:1673526601e3,id:"3a964569-c108-42ad-a009-fcbb362b6a7f",ship_id:1,terminal_time:"2023-01-12 12:30:01",lat:-5.91958,lng:106.000207,wind_speed:5.8,wind_direction:229.4,heading:31.2,distance:88812.77,depth:-3.3,cog:110.9,sog:.1,created_at:"2023-01-12 12:30:04",updated_at:"2023-01-12 12:30:04"},{time:1673527501e3,id:"6751b37a-cee9-487f-bb0f-011ea80d9cb4",ship_id:1,terminal_time:"2023-01-12 12:45:01",lat:-5.919628,lng:106.000247,wind_speed:7.9,wind_direction:206.9,heading:31.3,distance:88812.78,depth:-3.3,cog:293.2,sog:0,created_at:"2023-01-12 12:45:04",updated_at:"2023-01-12 12:45:04"},{time:1673528401e3,id:"9a2e95f6-e2a6-4136-a8a0-f05c56caf90e",ship_id:1,terminal_time:"2023-01-12 13:00:01",lat:-5.919595,lng:106.000223,wind_speed:9.7,wind_direction:223.8,heading:0,distance:0,depth:-3.3,cog:139,sog:.2,created_at:"2023-01-12 13:00:04",updated_at:"2023-01-12 13:00:04"},{time:1673529301e3,id:"7ecb61ef-4188-47ff-8bf4-6efd86f72928",ship_id:1,terminal_time:"2023-01-12 13:15:01",lat:-5.91958,lng:106.000175,wind_speed:7.3,wind_direction:237.9,heading:0,distance:0,depth:-3.3,cog:131.9,sog:0,created_at:"2023-01-12 13:15:04",updated_at:"2023-01-12 13:15:04"},{time:1673530201e3,id:"43466e7e-0a51-42ee-81ce-5bcb8067a0a0",ship_id:1,terminal_time:"2023-01-12 13:30:01",lat:-5.919583,lng:106.00021,wind_speed:8.7,wind_direction:219.6,heading:31.2,distance:88812.78,depth:-3.3,cog:114,sog:.1,created_at:"2023-01-12 13:30:04",updated_at:"2023-01-12 13:30:04"},{time:1673531101e3,id:"297a2025-c5ef-40bd-b16e-59dba6360dae",ship_id:1,terminal_time:"2023-01-12 13:45:01",lat:-5.919592,lng:106.000177,wind_speed:5.2,wind_direction:233.7,heading:31.1,distance:88812.78,depth:-3.3,cog:101.6,sog:0,created_at:"2023-01-12 13:45:04",updated_at:"2023-01-12 13:45:04"},{time:1673532001e3,id:"4d3b3fed-521a-4c4b-be34-bc1c12554aca",ship_id:1,terminal_time:"2023-01-12 14:00:01",lat:-5.919585,lng:106.000207,wind_speed:5.6,wind_direction:236.5,heading:31.3,distance:88812.79,depth:-3.3,cog:337.4,sog:0,created_at:"2023-01-12 14:00:04",updated_at:"2023-01-12 14:00:04"},{time:1673532901e3,id:"4d4f1774-36c0-419e-ba3a-b02fddf2626f",ship_id:1,terminal_time:"2023-01-12 14:15:01",lat:-5.919595,lng:106.000158,wind_speed:4.6,wind_direction:260.4,heading:31.2,distance:88812.79,depth:-3.3,cog:324.5,sog:0,created_at:"2023-01-12 14:15:04",updated_at:"2023-01-12 14:15:04"},{time:1673533801e3,id:"1698b5e0-d4ac-49ad-b810-49e9601d3853",ship_id:1,terminal_time:"2023-01-12 14:30:01",lat:-5.919583,lng:106.000225,wind_speed:4.6,wind_direction:256.1,heading:31.2,distance:88812.8,depth:-3.3,cog:322.1,sog:.1,created_at:"2023-01-12 14:30:04",updated_at:"2023-01-12 14:30:04"},{time:1673534701e3,id:"ad9fb6e4-5f14-4125-9e71-167e7c866606",ship_id:1,terminal_time:"2023-01-12 14:45:01",lat:-5.919595,lng:106.000203,wind_speed:6.8,wind_direction:233.7,heading:31.2,distance:88812.8,depth:-3,cog:95.3,sog:.1,created_at:"2023-01-12 14:45:04",updated_at:"2023-01-12 14:45:04"},{time:1673535601e3,id:"1fe7fc3b-36f4-404f-be9f-7b043d160fd3",ship_id:1,terminal_time:"2023-01-12 15:00:01",lat:-5.919605,lng:106.000208,wind_speed:8.3,wind_direction:252,heading:31.3,distance:88812.81,depth:-3,cog:332,sog:.1,created_at:"2023-01-12 15:00:05",updated_at:"2023-01-12 15:00:05"},{time:1673536501e3,id:"e70637eb-6415-42ce-9e73-20ef8a56d9b5",ship_id:1,terminal_time:"2023-01-12 15:15:01",lat:-5.919622,lng:106.000213,wind_speed:8.5,wind_direction:252,heading:31.5,distance:88812.81,depth:-3,cog:307.5,sog:0,created_at:"2023-01-12 15:15:05",updated_at:"2023-01-12 15:15:05"},{time:1673537401e3,id:"89cddc9c-a742-45c5-a8cb-95af58326154",ship_id:1,terminal_time:"2023-01-12 15:30:01",lat:-5.919613,lng:106.000245,wind_speed:6.4,wind_direction:247.7,heading:31.5,distance:88812.82,depth:-3,cog:180.8,sog:.1,created_at:"2023-01-12 15:30:05",updated_at:"2023-01-12 15:30:05"},{time:1673538301e3,id:"7eeb6682-f01b-4920-be65-5e0b691cda91",ship_id:1,terminal_time:"2023-01-12 15:45:01",lat:-5.918417,lng:105.999612,wind_speed:10.4,wind_direction:337.8,heading:291.7,distance:88812.88,depth:-3.3,cog:310.4,sog:2.1,created_at:"2023-01-12 15:45:05",updated_at:"2023-01-12 15:45:05"},{time:1673539201e3,id:"bca7ec47-e760-471e-bcd9-5a8aa2355046",ship_id:1,terminal_time:"2023-01-12 16:00:01",lat:-5.898973,lng:105.987732,wind_speed:18.2,wind_direction:324.5,heading:340.2,distance:88814.27,depth:-39,cog:332.8,sog:9.2,created_at:"2023-01-12 16:00:05",updated_at:"2023-01-12 16:00:05"},{time:1673540101e3,id:"6d1f8f41-c708-4913-9f3b-796181bd67ba",ship_id:1,terminal_time:"2023-01-12 16:15:01",lat:-5.868212,lng:106.003383,wind_speed:3.6,wind_direction:226.2,heading:60.3,distance:88816.54,depth:-55.6,cog:61.7,sog:11.4,created_at:"2023-01-12 16:15:02",updated_at:"2023-01-12 16:15:02"},{time:1673541001e3,id:"ffddd40d-2fb5-470b-935f-1f998984761a",ship_id:1,terminal_time:"2023-01-12 16:30:01",lat:-5.8487729999999996,lng:106.049228,wind_speed:5.8,wind_direction:157.5,heading:70.4,distance:88819.53,depth:-47,cog:70,sog:12.2,created_at:"2023-01-12 16:30:05",updated_at:"2023-01-12 16:30:05"},{time:1673541901e3,id:"225b2709-e620-4f1f-89f5-d761ea9a27f8",ship_id:1,terminal_time:"2023-01-12 16:45:01",lat:-5.834948,lng:106.097917,wind_speed:6.4,wind_direction:157.5,heading:80.2,distance:88822.55,depth:-31.6,cog:81.1,sog:12.2,created_at:"2023-01-12 16:45:05",updated_at:"2023-01-12 16:45:05"},{time:1673542801e3,id:"98589ed9-2a54-44e0-94d2-9b377e3c67c6",ship_id:1,terminal_time:"2023-01-12 17:00:01",lat:-5.832885,lng:106.14986,wind_speed:4,wind_direction:144.5,heading:99,distance:88825.66,depth:-28.6,cog:102.2,sog:12.8,created_at:"2023-01-12 17:00:05",updated_at:"2023-01-12 17:00:05"},{time:1673543701e3,id:"7fa7bf3b-acdb-4707-8e81-6860424af4b9",ship_id:1,terminal_time:"2023-01-12 17:15:01",lat:-5.838525,lng:106.20245,wind_speed:2.9,wind_direction:161.9,heading:89.2,distance:88828.85,depth:-22.6,cog:91.4,sog:12.7,created_at:"2023-01-12 17:15:05",updated_at:"2023-01-12 17:15:05"},{time:1673544601e3,id:"79865b86-826b-4cb0-bd95-1a88728a32ee",ship_id:1,terminal_time:"2023-01-12 17:30:01",lat:-5.839608,lng:106.25531,wind_speed:1.7,wind_direction:194.7,heading:88.8,distance:88831.98,depth:-23,cog:90.5,sog:12.7,created_at:"2023-01-12 17:30:03",updated_at:"2023-01-12 17:30:03"},{time:1673545501e3,id:"bcf27b90-6ee8-4dc4-91cd-4b5ab1188d9a",ship_id:1,terminal_time:"2023-01-12 17:45:01",lat:-5.83994,lng:106.30857,wind_speed:2.5,wind_direction:99.8,heading:89,distance:88835.27,depth:-31.6,cog:91.2,sog:13,created_at:"2023-01-12 17:45:03",updated_at:"2023-01-12 17:45:03"},{time:1673546401e3,id:"24294d87-37c8-401c-8120-3f6412ebbd31",ship_id:1,terminal_time:"2023-01-12 18:00:01",lat:-5.841293,lng:106.363258,wind_speed:3.6,wind_direction:54.9,heading:86.3,distance:88838.55,depth:-28.6,cog:88.1,sog:13.1,created_at:"2023-01-12 18:00:03",updated_at:"2023-01-12 18:00:03"},{time:1673547301e3,id:"1b983cb5-a7a5-4259-a3ed-68ba7093343e",ship_id:1,terminal_time:"2023-01-12 18:15:01",lat:-5.838722,lng:106.418933,wind_speed:7.3,wind_direction:56.3,heading:90.1,distance:88841.85,depth:-49.3,cog:90.8,sog:13.2,created_at:"2023-01-12 18:15:03",updated_at:"2023-01-12 18:15:03"},{time:1673548201e3,id:"15c3c6db-50aa-4a57-9238-2319a66b67aa",ship_id:1,terminal_time:"2023-01-12 18:30:01",lat:-5.83975,lng:106.47494,wind_speed:9.3,wind_direction:54.9,heading:89.9,distance:88845.21,depth:-45.6,cog:90.7,sog:13.5,created_at:"2023-01-13 08:01:29",updated_at:"2023-01-13 08:01:29"},{time:1673549101e3,id:"06e2801a-9747-4c80-9786-b47a946f07dd",ship_id:1,terminal_time:"2023-01-12 18:45:01",lat:-5.840233,lng:106.531412,wind_speed:9.9,wind_direction:65.2,heading:92.3,distance:88848.59,depth:-77.6,cog:94,sog:13.5,created_at:"2023-01-13 08:03:23",updated_at:"2023-01-13 08:03:23"},{time:1673550001e3,id:"69056518-ad05-4299-9844-8cdfaed1b01c",ship_id:1,terminal_time:"2023-01-12 19:00:01",lat:-5.837537,lng:106.585833,wind_speed:10.4,wind_direction:16.8,heading:77.9,distance:88851.84,depth:-70.6,cog:78.2,sog:13,created_at:"2023-01-13 08:02:35",updated_at:"2023-01-13 08:02:35"},{time:1673550901e3,id:"17bc32d5-5b7b-4c30-b1df-b7e55e45806b",ship_id:1,terminal_time:"2023-01-12 19:15:01",lat:-5.830312,lng:106.640343,wind_speed:13,wind_direction:21,heading:87.4,distance:88855.12,depth:-39,cog:86.4,sog:13.2,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673551801e3,id:"f7476f04-656a-4e72-8e6c-57b0d831c5f5",ship_id:1,terminal_time:"2023-01-12 19:30:01",lat:-5.853542,lng:106.689242,wind_speed:13.2,wind_direction:21,heading:126.5,distance:88858.39,depth:-27,cog:128.5,sog:13.2,created_at:"2023-01-13 08:05:16",updated_at:"2023-01-13 08:05:16"},{time:1673552701e3,id:"88b9ecc4-9964-43d8-b6a4-aed13a07495c",ship_id:1,terminal_time:"2023-01-12 19:45:01",lat:-5.889747,lng:106.731723,wind_speed:18,wind_direction:12.5,heading:129.7,distance:88861.73,depth:-29,cog:131.9,sog:13.4,created_at:"2023-01-13 08:02:30",updated_at:"2023-01-13 08:02:30"},{time:1673553601e3,id:"26848018-c9ac-4503-838d-ae857206e20b",ship_id:1,terminal_time:"2023-01-12 20:00:01",lat:-5.927122,lng:106.772935,wind_speed:18.8,wind_direction:7.9,heading:130.5,distance:88865.07,depth:-21.6,cog:132.8,sog:13.3,created_at:"2023-01-13 08:01:15",updated_at:"2023-01-13 08:01:15"},{time:1673554501e3,id:"2e692d80-82f5-4549-91d5-8a2ed3fb2e12",ship_id:1,terminal_time:"2023-01-12 20:15:01",lat:-5.960285,lng:106.81634,wind_speed:17.4,wind_direction:9.7,heading:112.2,distance:88868.34,depth:-17.3,cog:114.9,sog:13.1,created_at:"2023-01-13 08:03:01",updated_at:"2023-01-13 08:03:01"},{time:1673555401e3,id:"aca95c12-4858-4cf9-94d3-a4f8e4de5aef",ship_id:1,terminal_time:"2023-01-12 20:30:01",lat:-5.983137,lng:106.859937,wind_speed:11.8,wind_direction:0,heading:130.3,distance:88871.33,depth:-15.3,cog:131.8,sog:9.7,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673556301e3,id:"8b09c8fe-2ea4-494c-a5fb-dd2a24bf7270",ship_id:1,terminal_time:"2023-01-12 20:45:01",lat:-6.000398,lng:106.883002,wind_speed:7.9,wind_direction:1.4,heading:115.3,distance:88873.1,depth:-13.6,cog:118.2,sog:4.3,created_at:"2023-01-13 08:00:56",updated_at:"2023-01-13 08:00:56"},{time:1673557201e3,id:"284ce5ee-e703-4d6d-b114-c1df32919fd1",ship_id:1,terminal_time:"2023-01-12 21:00:01",lat:-6.00611,lng:106.893912,wind_speed:6,wind_direction:349,heading:106.4,distance:88873.88,depth:-13,cog:142.3,sog:.3,created_at:"2023-01-13 08:02:49",updated_at:"2023-01-13 08:02:49"},{time:1673558101e3,id:"45ad13f2-7559-4927-89c6-6f3c198a88b2",ship_id:1,terminal_time:"2023-01-12 21:15:01",lat:-6.007525,lng:106.893923,wind_speed:6.6,wind_direction:12.5,heading:3,distance:88873.88,depth:-13,cog:126.7,sog:.2,created_at:"2023-01-13 08:02:41",updated_at:"2023-01-13 08:02:41"},{time:1673559001e3,id:"a4a1e14d-14ab-43f6-9535-4fa2a9d49ae4",ship_id:1,terminal_time:"2023-01-12 21:30:01",lat:-6.00759,lng:106.894172,wind_speed:5.4,wind_direction:30.9,heading:25.3,distance:88873.89,depth:-13,cog:173.5,sog:.1,created_at:"2023-01-13 08:02:21",updated_at:"2023-01-13 08:02:21"},{time:1673559901e3,id:"02e22b70-2f1d-4ec5-be13-4924c441d425",ship_id:1,terminal_time:"2023-01-12 21:45:01",lat:-6.007575,lng:106.894195,wind_speed:7.3,wind_direction:32.3,heading:25.6,distance:88873.9,depth:-12.6,cog:225,sog:.1,created_at:"2023-01-13 08:03:11",updated_at:"2023-01-13 08:03:11"},{time:1673560801e3,id:"714b40ab-6959-4c7d-89d9-dbb4bb70e57c",ship_id:1,terminal_time:"2023-01-12 22:00:01",lat:-6.007612,lng:106.894137,wind_speed:5.8,wind_direction:33.6,heading:25,distance:88873.9,depth:-12.6,cog:168.2,sog:0,created_at:"2023-01-13 08:02:28",updated_at:"2023-01-13 08:02:28"},{time:1673561701e3,id:"8076bd11-03d4-4552-b96d-89e5d0255292",ship_id:1,terminal_time:"2023-01-12 22:15:01",lat:-6.007583,lng:106.894055,wind_speed:7.3,wind_direction:43.6,heading:29.2,distance:88873.9,depth:-13,cog:316.5,sog:.1,created_at:"2023-01-13 08:02:17",updated_at:"2023-01-13 08:02:17"},{time:1673562601e3,id:"d34040f5-d539-420c-bb97-d96c16081c94",ship_id:1,terminal_time:"2023-01-12 22:30:01",lat:-6.007425,lng:106.89391,wind_speed:5.6,wind_direction:43.6,heading:44.4,distance:88873.9,depth:-13,cog:126.5,sog:.1,created_at:"2023-01-13 08:03:38",updated_at:"2023-01-13 08:03:38"},{time:1673563501e3,id:"564f8c5e-2634-4ec9-9f48-e0af89ff5564",ship_id:1,terminal_time:"2023-01-12 22:45:01",lat:-6.007598,lng:106.894127,wind_speed:4.6,wind_direction:43.6,heading:27.2,distance:88873.9,depth:-13,cog:34.5,sog:0,created_at:"2023-01-13 08:04:15",updated_at:"2023-01-13 08:04:15"},{time:1673564401e3,id:"4926d7e4-dbc0-4a31-8d0a-6a052ff27bc0",ship_id:1,terminal_time:"2023-01-12 23:00:01",lat:-6.007682,lng:106.894268,wind_speed:5.6,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:155.9,sog:0,created_at:"2023-01-13 08:03:58",updated_at:"2023-01-13 08:03:58"},{time:1673565301e3,id:"433693fd-81e1-4395-a29d-8eb5bb82c236",ship_id:1,terminal_time:"2023-01-12 23:15:01",lat:-6.007708,lng:106.894337,wind_speed:4.8,wind_direction:43.6,heading:14.8,distance:88873.9,depth:-13,cog:189.5,sog:0,created_at:"2023-01-13 08:03:48",updated_at:"2023-01-13 08:03:48"},{time:1673566201e3,id:"3bd7e61b-1373-4345-867a-dfe285746a32",ship_id:1,terminal_time:"2023-01-12 23:30:01",lat:-6.007645,lng:106.894262,wind_speed:3.4,wind_direction:43.6,heading:19.3,distance:88873.9,depth:-13,cog:200.6,sog:.1,created_at:"2023-01-13 08:05:28",updated_at:"2023-01-13 08:05:28"},{time:1673567101e3,id:"09b7824a-9980-4c9d-bf99-87e65e80069b",ship_id:1,terminal_time:"2023-01-12 23:45:01",lat:-6.007677,lng:106.8943,wind_speed:2.1,wind_direction:43.6,heading:16.6,distance:88873.9,depth:-13,cog:44.7,sog:0,created_at:"2023-01-13 08:04:21",updated_at:"2023-01-13 08:04:21"},{time:1673568001e3,id:"b38d3696-7f77-459c-863f-91445f63f3e9",ship_id:1,terminal_time:"2023-01-13 00:00:01",lat:-6.007713,lng:106.894375,wind_speed:3.1,wind_direction:43.6,heading:15.4,distance:88873.9,depth:-13,cog:108.7,sog:.1,created_at:"2023-01-13 08:01:36",updated_at:"2023-01-13 08:01:36"},{time:1673568903e3,id:"b55f2d04-80e5-45c3-8479-13897d8db096",ship_id:1,terminal_time:"2023-01-13 00:15:03",lat:-6.007727,lng:106.894435,wind_speed:2.7,wind_direction:43.6,heading:11.8,distance:88873.9,depth:-13,cog:68.7,sog:0,created_at:"2023-01-13 08:03:55",updated_at:"2023-01-13 08:03:55"},{time:1673570168e3,id:"bc973d32-96ff-4d4b-83fa-fdc69ab666a4",ship_id:1,terminal_time:"2023-01-13 00:36:08",lat:-6.00772,lng:106.894325,wind_speed:2.7,wind_direction:43.6,heading:17.2,distance:88873.9,depth:-13,cog:224.5,sog:0,created_at:"2023-01-13 08:01:47",updated_at:"2023-01-13 08:01:47"},{time:1673570703e3,id:"51065554-9c2a-4ead-9c62-cdd44d475009",ship_id:1,terminal_time:"2023-01-13 00:45:03",lat:-6.007642,lng:106.894265,wind_speed:3.3,wind_direction:43.6,heading:20.1,distance:88873.9,depth:-13,cog:237,sog:0,created_at:"2023-01-13 08:02:52",updated_at:"2023-01-13 08:02:52"},{time:1673571603e3,id:"f1dbff35-e7f7-4963-a643-80e87b251c8c",ship_id:1,terminal_time:"2023-01-13 01:00:03",lat:-6.0076,lng:106.894155,wind_speed:4.2,wind_direction:43.6,heading:25.4,distance:88873.91,depth:-13,cog:177.2,sog:0,created_at:"2023-01-13 08:05:07",updated_at:"2023-01-13 08:05:07"},{time:1673572503e3,id:"606bf160-10bf-4454-95c1-6abb21d4a9a8",ship_id:1,terminal_time:"2023-01-13 01:15:03",lat:-6.007512,lng:106.894067,wind_speed:4,wind_direction:43.6,heading:33,distance:88873.91,depth:-13,cog:204.5,sog:0,created_at:"2023-01-13 08:04:55",updated_at:"2023-01-13 08:04:55"},{time:1673573403e3,id:"46a99db5-3b12-4141-949d-a7f4f69451c9",ship_id:1,terminal_time:"2023-01-13 01:30:03",lat:-6.007512,lng:106.894075,wind_speed:1.7,wind_direction:43.6,heading:34.6,distance:88873.91,depth:-13,cog:110.9,sog:.1,created_at:"2023-01-13 08:04:51",updated_at:"2023-01-13 08:04:51"},{time:1673574303e3,id:"ab8768f7-f2c0-4c28-ba76-68c4d848ee1b",ship_id:1,terminal_time:"2023-01-13 01:45:03",lat:-6.0075,lng:106.894193,wind_speed:1.9,wind_direction:43.6,heading:32.2,distance:88873.91,depth:-13,cog:300.5,sog:.1,created_at:"2023-01-13 08:04:26",updated_at:"2023-01-13 08:04:26"},{time:1673575203e3,id:"6a14e9fa-b7ad-4ec4-9f66-fa4f814c54af",ship_id:1,terminal_time:"2023-01-13 02:00:03",lat:-6.007582,lng:106.894147,wind_speed:2.5,wind_direction:43.6,heading:29.3,distance:88873.92,depth:-13,cog:319.4,sog:0,created_at:"2023-01-13 08:05:13",updated_at:"2023-01-13 08:05:13"},{time:1673576103e3,id:"456740b7-62b5-4f33-b4c0-1dc7d824d0bb",ship_id:1,terminal_time:"2023-01-13 02:15:03",lat:-6.007527,lng:106.8941,wind_speed:2.7,wind_direction:43.6,heading:32.7,distance:88873.92,depth:-13.3,cog:336.3,sog:0,created_at:"2023-01-13 08:05:57",updated_at:"2023-01-13 08:05:57"},{time:1673577003e3,id:"9f03eb81-f440-4e94-a55f-ab45fcc7b6c0",ship_id:1,terminal_time:"2023-01-13 02:30:03",lat:-6.007453,lng:106.894015,wind_speed:2.5,wind_direction:43.6,heading:39.1,distance:88873.93,depth:-13.3,cog:345.7,sog:.1,created_at:"2023-01-13 08:05:39",updated_at:"2023-01-13 08:05:39"},{time:1673577903e3,id:"e4f82def-000e-40af-915a-fa2b0c177b50",ship_id:1,terminal_time:"2023-01-13 02:45:03",lat:-6.007433,lng:106.893978,wind_speed:2.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:303.2,sog:0,created_at:"2023-01-13 08:06:18",updated_at:"2023-01-13 08:06:18"},{time:1673578803e3,id:"54b75262-94fb-4782-987c-ccbefeebec92",ship_id:1,terminal_time:"2023-01-13 03:00:03",lat:-6.00737,lng:106.893908,wind_speed:3.3,wind_direction:43.6,heading:0,distance:0,depth:-13,cog:348.7,sog:0,created_at:"2023-01-13 08:06:12",updated_at:"2023-01-13 08:06:12"},{time:1673579703e3,id:"fa539bb4-a28e-469c-9a4e-9a3d0c486050",ship_id:1,terminal_time:"2023-01-13 03:15:03",lat:-6.007335,lng:106.893948,wind_speed:2.7,wind_direction:45,heading:49.7,distance:88873.94,depth:-13.3,cog:137.5,sog:.1,created_at:"2023-01-13 08:06:05",updated_at:"2023-01-13 08:06:05"},{time:1673580603e3,id:"539a72f1-ac08-46d9-b981-d2b0ad986548",ship_id:1,terminal_time:"2023-01-13 03:30:03",lat:-6.007343,lng:106.893923,wind_speed:2.3,wind_direction:45,heading:46.6,distance:88873.94,depth:-13,cog:284,sog:.1,created_at:"2023-01-13 08:05:52",updated_at:"2023-01-13 08:05:52"},{time:1673581503e3,id:"4df156c5-a460-4977-8551-b187446e5412",ship_id:1,terminal_time:"2023-01-13 03:45:03",lat:-6.007297,lng:106.893842,wind_speed:3.4,wind_direction:45,heading:47.7,distance:88873.94,depth:-13,cog:168.1,sog:0,created_at:"2023-01-13 08:05:54",updated_at:"2023-01-13 08:05:54"},{time:1673582403e3,id:"a403298f-42d3-4529-b018-1af317d27868",ship_id:1,terminal_time:"2023-01-13 04:00:03",lat:-6.007198,lng:106.893723,wind_speed:2.5,wind_direction:45,heading:56.1,distance:88873.94,depth:-13.3,cog:178.4,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673583303e3,id:"dd731f40-8d09-4757-827b-9d4f1d4651e1",ship_id:1,terminal_time:"2023-01-13 04:15:03",lat:-6.007137,lng:106.893783,wind_speed:2.7,wind_direction:45,heading:58.1,distance:88873.94,depth:-13,cog:161.9,sog:0,created_at:"2023-01-13 08:07:09",updated_at:"2023-01-13 08:07:09"},{time:1673584203e3,id:"4108b2ac-c7e2-49e9-bef8-1aeb96d7d1da",ship_id:1,terminal_time:"2023-01-13 04:30:03",lat:-6.007167,lng:106.893807,wind_speed:2.5,wind_direction:45,heading:59.3,distance:88873.94,depth:-13,cog:52.2,sog:0,created_at:"2023-01-13 08:06:59",updated_at:"2023-01-13 08:06:59"},{time:1673585108e3,id:"cc3220d1-e43b-4f9e-8a0e-2f416fff3d82",ship_id:1,terminal_time:"2023-01-13 04:45:08",lat:-6.0070879999999995,lng:106.893705,wind_speed:2.3,wind_direction:45,heading:60.4,distance:88873.94,depth:-13,cog:336.7,sog:.1,created_at:"2023-01-13 08:06:48",updated_at:"2023-01-13 08:06:48"},{time:1673586003e3,id:"82f940ea-8953-425e-86b3-7899a04cc3d8",ship_id:1,terminal_time:"2023-01-13 05:00:03",lat:-6.006982,lng:106.893693,wind_speed:1.9,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:265.2,sog:0,created_at:"2023-01-13 08:07:32",updated_at:"2023-01-13 08:07:32"},{time:1673586903e3,id:"ad2c1c63-d614-4095-8d40-e96424f5a6d7",ship_id:1,terminal_time:"2023-01-13 05:15:03",lat:-6.007068,lng:106.893725,wind_speed:.9,wind_direction:45,heading:61.6,distance:88873.94,depth:-13.3,cog:232.5,sog:.1,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673587803e3,id:"e44c9ea1-fe7c-4076-8e00-c146f79d9ff1",ship_id:1,terminal_time:"2023-01-13 05:30:03",lat:-6.007113,lng:106.8937,wind_speed:.7,wind_direction:45,heading:57.9,distance:88873.94,depth:-13.3,cog:273.7,sog:0,created_at:"2023-01-13 08:07:16",updated_at:"2023-01-13 08:07:16"},{time:1673588703e3,id:"11fabb10-51d2-4b18-8c3e-8d5f30e0c604",ship_id:1,terminal_time:"2023-01-13 05:45:03",lat:-6.00707,lng:106.893708,wind_speed:0,wind_direction:45,heading:59.9,distance:88873.94,depth:-13,cog:179.4,sog:.1,created_at:"2023-01-13 08:07:45",updated_at:"2023-01-13 08:07:45"},{time:1673589603e3,id:"3d8e63b1-ef49-4faa-8668-2064fc7691b9",ship_id:1,terminal_time:"2023-01-13 06:00:03",lat:-6.007005,lng:106.893697,wind_speed:1.7,wind_direction:45,heading:61,distance:88873.94,depth:-13,cog:224.6,sog:0,created_at:"2023-01-13 08:08:35",updated_at:"2023-01-13 08:08:35"},{time:1673590503e3,id:"abedede7-fcef-4a6a-821c-96caff5b51dd",ship_id:1,terminal_time:"2023-01-13 06:15:03",lat:-6.007067,lng:106.893657,wind_speed:1.7,wind_direction:45,heading:56.4,distance:88873.94,depth:-13.3,cog:299.4,sog:0,created_at:"2023-01-13 08:08:07",updated_at:"2023-01-13 08:08:07"},{time:1673591403e3,id:"b51194a8-99a4-4d32-83a4-d5fbfaaa4d2b",ship_id:1,terminal_time:"2023-01-13 06:30:03",lat:-6.006965,lng:106.893667,wind_speed:2.1,wind_direction:45,heading:62.6,distance:88873.94,depth:-13.3,cog:139.2,sog:0,created_at:"2023-01-13 08:08:23",updated_at:"2023-01-13 08:08:23"},{time:1673592518e3,id:"b209dcbe-8749-41d2-b84b-c1258b5ab981",ship_id:1,terminal_time:"2023-01-13 06:48:38",lat:-6.006987,lng:106.893667,wind_speed:2.3,wind_direction:45,heading:66.4,distance:88873.94,depth:-13.3,cog:318.9,sog:0,created_at:"2023-01-13 08:08:09",updated_at:"2023-01-13 08:08:09"},{time:1673593203e3,id:"32347284-3eae-468f-bee0-b65b0ec6fc1e",ship_id:1,terminal_time:"2023-01-13 07:00:03",lat:-6.007023,lng:106.893678,wind_speed:2.7,wind_direction:45,heading:62.5,distance:88873.95,depth:-13.3,cog:111.2,sog:0,created_at:"2023-01-13 08:07:41",updated_at:"2023-01-13 08:07:41"},{time:1673594103e3,id:"d96b7d8b-3fd1-4062-a8fb-81b177ca4b7e",ship_id:1,terminal_time:"2023-01-13 07:15:03",lat:-6.007138,lng:106.89375,wind_speed:2.5,wind_direction:45,heading:62.4,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:24",updated_at:"2023-01-13 08:08:24"},{time:1673595003e3,id:"fb3aea68-d3b4-4a82-8246-b492385b9b9b",ship_id:1,terminal_time:"2023-01-13 07:30:03",lat:-6.006977,lng:106.893747,wind_speed:2.7,wind_direction:45,heading:66.3,distance:88873.95,depth:-13.3,cog:176.1,sog:0,created_at:"2023-01-13 08:08:37",updated_at:"2023-01-13 08:08:37"},{time:1673595903e3,id:"4b32822b-aad7-4b21-b989-0f1651010609",ship_id:1,terminal_time:"2023-01-13 07:45:03",lat:-6.00699,lng:106.89368,wind_speed:2.3,wind_direction:45,heading:68.2,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:55",updated_at:"2023-01-13 08:08:55"},{time:1673596808e3,id:"5e31ea31-de98-4291-b5ed-bc79c4642d2e",ship_id:1,terminal_time:"2023-01-13 08:00:08",lat:-6.006908,lng:106.89369,wind_speed:2.1,wind_direction:45,heading:72.3,distance:88873.95,depth:-13.3,cog:194.5,sog:0,created_at:"2023-01-13 08:08:48",updated_at:"2023-01-13 08:08:48"},{time:1673597703e3,id:"1f625245-9ea7-4f96-9bf2-627e75f1ea29",ship_id:1,terminal_time:"2023-01-13 08:15:03",lat:-6.006837,lng:106.893615,wind_speed:2.3,wind_direction:45,heading:0,distance:0,depth:-13.3,cog:3.7,sog:0,created_at:"2023-01-13 08:15:07",updated_at:"2023-01-13 08:15:07"},{time:1673598603e3,id:"f2ecdf0b-2cd9-40ce-ad89-0a8d73cad5c1",ship_id:1,terminal_time:"2023-01-13 08:30:03",lat:-6.006838,lng:106.893623,wind_speed:2.1,wind_direction:45,heading:75,distance:88873.95,depth:-13.3,cog:135.5,sog:0,created_at:"2023-01-13 08:30:07",updated_at:"2023-01-13 08:30:07"},{time:1673599503e3,id:"8327765d-9bf8-4fc4-8584-95359d3bbbb0",ship_id:1,terminal_time:"2023-01-13 08:45:03",lat:-6.006812,lng:106.893627,wind_speed:3.4,wind_direction:45,heading:75.5,distance:88873.95,depth:-13.3,cog:89.4,sog:0,created_at:"2023-01-13 08:45:04",updated_at:"2023-01-13 08:45:04"},{time:1673600403e3,id:"f5eb5331-437b-4c35-a486-84a8fa9d5644",ship_id:1,terminal_time:"2023-01-13 09:00:03",lat:-6.006815,lng:106.893662,wind_speed:3.6,wind_direction:45,heading:75.4,distance:88873.96,depth:-13.3,cog:94.9,sog:0,created_at:"2023-01-13 09:00:05",updated_at:"2023-01-13 09:00:05"},{time:1673601303e3,id:"2a247c20-bd73-4d19-8dab-7a2254a80a62",ship_id:1,terminal_time:"2023-01-13 09:15:03",lat:-6.006802,lng:106.893608,wind_speed:5.2,wind_direction:45,heading:75.8,distance:88873.96,depth:-13.3,cog:92.2,sog:0,created_at:"2023-01-13 09:15:05",updated_at:"2023-01-13 09:15:05"},{time:1673602203e3,id:"6153d12f-d552-4ab9-bba7-9e250f663945",ship_id:1,terminal_time:"2023-01-13 09:30:03",lat:-6.006802,lng:106.893643,wind_speed:4.2,wind_direction:45,heading:76.9,distance:88873.96,depth:-13.3,cog:141.9,sog:0,created_at:"2023-01-13 09:30:06",updated_at:"2023-01-13 09:30:06"},{time:1673603103e3,id:"2f1058ed-c8da-4364-aab6-dc9645e1fde8",ship_id:1,terminal_time:"2023-01-13 09:45:03",lat:-6.006837,lng:106.893597,wind_speed:3.8,wind_direction:45,heading:72.8,distance:88873.96,depth:-13.3,cog:110.7,sog:0,created_at:"2023-01-13 09:45:06",updated_at:"2023-01-13 09:45:06"},{time:1673604003e3,id:"cc41dd89-f978-4edf-9ada-4667dbff60ce",ship_id:1,terminal_time:"2023-01-13 10:00:03",lat:-6.00683,lng:106.893597,wind_speed:3.6,wind_direction:45,heading:72.1,distance:88873.96,depth:-13.3,cog:135.3,sog:0,created_at:"2023-01-13 10:00:06",updated_at:"2023-01-13 10:00:06"},{time:1673604903e3,id:"396bffaa-c79e-49d7-bdf1-f426896bb87c",ship_id:1,terminal_time:"2023-01-13 10:15:03",lat:-6.00688,lng:106.89365,wind_speed:3.1,wind_direction:45,heading:70.9,distance:88873.96,depth:-13.3,cog:180.2,sog:.1,created_at:"2023-01-13 10:15:07",updated_at:"2023-01-13 10:15:07"},{time:1673605803e3,id:"d946fc22-50aa-4fcd-bd7c-b44f44547a46",ship_id:1,terminal_time:"2023-01-13 10:30:03",lat:-6.007095,lng:106.89367,wind_speed:3.3,wind_direction:45,heading:58.8,distance:88873.96,depth:-13.3,cog:157.1,sog:0,created_at:"2023-01-13 10:30:04",updated_at:"2023-01-13 10:30:04"},{time:1673606703e3,id:"580132f9-3c14-4d3c-9b66-d0ff9ec812f0",ship_id:1,terminal_time:"2023-01-13 10:45:03",lat:-6.007132,lng:106.893745,wind_speed:5.4,wind_direction:26.7,heading:53.2,distance:88873.96,depth:-13.3,cog:144.9,sog:0,created_at:"2023-01-13 10:45:05",updated_at:"2023-01-13 10:45:05"},{time:1673607603e3,id:"2a0785ea-942c-42cd-ad88-e982f8495a39",ship_id:1,terminal_time:"2023-01-13 11:00:03",lat:-6.007203,lng:106.893752,wind_speed:4.2,wind_direction:26.7,heading:0,distance:0,depth:-13.3,cog:260.4,sog:0,created_at:"2023-01-13 11:00:05",updated_at:"2023-01-13 11:00:05"},{time:1673608503e3,id:"b1840bc7-7b81-44b4-a120-b50cb7ed9631",ship_id:1,terminal_time:"2023-01-13 11:15:03",lat:-6.007423,lng:106.893847,wind_speed:5.6,wind_direction:26.7,heading:39,distance:88873.97,depth:-13.6,cog:90.2,sog:.1,created_at:"2023-01-13 11:15:05",updated_at:"2023-01-13 11:15:05"},{time:1673609403e3,id:"257a0ae0-3c67-4484-900c-ee1149e2541d",ship_id:1,terminal_time:"2023-01-13 11:30:03",lat:-6.007583,lng:106.89401,wind_speed:5,wind_direction:26.7,heading:27.7,distance:88873.98,depth:-13.3,cog:110.5,sog:.1,created_at:"2023-01-13 11:30:06",updated_at:"2023-01-13 11:30:06"},{time:1673610303e3,id:"0e80a0e4-2c6c-441f-8364-26416a9ce1dd",ship_id:1,terminal_time:"2023-01-13 11:45:03",lat:-6.0076730000000005,lng:106.89419,wind_speed:7.3,wind_direction:26.7,heading:18.3,distance:88873.99,depth:-13.3,cog:93.9,sog:0,created_at:"2023-01-13 11:45:06",updated_at:"2023-01-13 11:45:06"},{time:1673611203e3,id:"11866d32-1040-4bdb-b7bf-190db9704e3c",ship_id:1,terminal_time:"2023-01-13 12:00:03",lat:-6.00775,lng:106.894325,wind_speed:7.1,wind_direction:26.7,heading:13.3,distance:88873.99,depth:-13.3,cog:102.4,sog:0,created_at:"2023-01-13 12:00:07",updated_at:"2023-01-13 12:00:07"}],rF={components:{MapboxMap:kx,MapboxNavigationControl:Px},data(){return{map:null,current:[],items:[],potition:!1}},methods:{async loaded(){let e=this,t={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},s={type:"FeatureCollection",features:[]};sF.forEach((d,m)=>{this.current&&this.calcCrow(this.current[1],this.current[0],d.lat,d.lng)>20||(t.geometry.coordinates.push([d.lng,d.lat]),s.features.push({type:"Feature",properties:{cog:d.cog,sog:d.sog,time:d.terminal_time,lat:d.lat,lng:d.lng,heading:d.heading},geometry:{type:"Point",coordinates:[d.lng,d.lat]}}),this.current=[d.lng,d.lat],this.items.push(d))}),this.map.addSource("route",{type:"geojson",data:t}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),e.map.addSource("points",{type:"geojson",data:s}),e.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const l=new Al.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",d=>{let m=d.features[0].properties;this.positionShip(m)}),this.map.on("mouseenter","points",d=>{e.map.getCanvas().style.cursor="pointer";const m=d.features[0].geometry.coordinates.slice(),n=`<b>Lat : ${d.features[0].properties.lat} | Lng: ${d.features[0].properties.lng}</b> at ${d.features[0].properties.sog} <b>kn</b> / ${d.features[0].properties.cog}&deg;<br>time: <b>${d.features[0].properties.time}</b>`;for(;Math.abs(d.lngLat.lng-m[0])>180;)m[0]+=d.lngLat.lng>m[0]?360:-360;l.setLngLat(m).setHTML(n).addTo(e.map)}),this.map.on("mouseleave","points",()=>{e.map.getCanvas().style.cursor="",l.remove()}),this.map.loadImage(LS,(d,m)=>{if(d)throw d;e.map.addImage("ship-icon",m)});let c=this.items[this.items.length-1];this.positionShip({heading:c.heading,lng:c.lng,lat:c.lat})},toPotition(e){this.positionShip(e)},positionShip(e){this.potition&&(this.map.removeLayer("ship-point"),this.map.removeSource("ship-point")),this.map.addSource("ship-point",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{scale:1,heading:e.heading}}]}}),this.map.addLayer({id:"ship-point",type:"symbol",source:"ship-point",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.potition=!0},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},calcCrow(n,t,S,l){var c=6371,d=this.toRad(S-n),m=this.toRad(l-t),n=this.toRad(n),S=this.toRad(S),j=Math.sin(d/2)*Math.sin(d/2)+Math.sin(m/2)*Math.sin(m/2)*Math.cos(n)*Math.cos(S),J=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j)),B=c*J;return B},toRad(e){return e*Math.PI/180}}},oF={class:"row g-0"},aF={class:"col-9"},lF={class:"position-relative"},cF={class:"pointer-info",ref:"pointerInfo"},hF={class:"col-3"},dF=zh('<header class="navbar navbar-expand-md navbar-dark bg-primary d-print-none"><div class="container-xl"><ul class="navbar-nav"><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 6l16 0"></path><path d="M4 12l16 0"></path><path d="M4 18l16 0"></path></svg></span></a></li><li class="nav-item"><a href="#" class="nav-link"><span class="nav-link-icon d-md-none d-lg-inline-block"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sailboat" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M2 20a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1"></path><path d="M4 18l-1 -3h18l-1 3"></path><path d="M11 12h7l-7 -9v9"></path><path d="M8 7l-2 5"></path></svg></span> Voyage </a></li></ul></div></header>',1),uF={class:"information"},pF={class:"histories"},fF={class:"table card-table table-vcenter text-nowrap datatable table-fixed text-small"},mF=et("thead",null,[et("tr",null,[et("th",null,"Time"),et("th",null,"Lon"),et("th",null,"Lat"),et("th",null,"Speed")])],-1),gF=["onClick"];function _F(e,t,s,l,c,d){const m=ds("MapboxNavigationControl"),n=ds("MapboxMap");return di(),vi("div",oF,[et("div",aF,[et("div",lF,[et("div",cF,null,512),en(n,{onMbCreated:t[0]||(t[0]=S=>c.map=S),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 128px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[105.987732,-5.898973],zoom:7},{default:io(()=>[en(m,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center"])])]),et("div",hF,[dF,et("div",uF,[et("div",pF,[et("table",fF,[mF,et("tbody",null,[(di(!0),vi(Jn,null,Nr(c.items,S=>(di(),vi("tr",{key:S.id,onClick:j=>d.toPotition(S),class:"pointer"},[et("td",null,cn(e.$filters.dateformat(S.terminal_time)),1),et("td",null,cn(e.$filters.str_limit(S.lng,7))+"°",1),et("td",null,cn(e.$filters.str_limit(S.lat,6))+"°",1),et("td",null,cn(S.sog),1)],8,gF))),128))])])])])])])}const yF=Rs(rF,[["render",_F]]),vF={components:{MapboxMap:kx,MapboxNavigationControl:Px},props:{fleet:Object,style:Object,sidebar:Boolean},data(){return{map:null,current:[],timer:null,popup:new Al.Popup({closeButton:!0,closeOnClick:!1}),histories:[]}},mounted(){this.map.loadImage(LS,(e,t)=>{if(e)throw e;this.map.addImage("ship-icon",t)})},methods:{setHistory(e){this.histories=e;let t=this;this.current.length>0&&this.map.getLayer("route")!=="undefined"&&this.map.getLayer("points")!=="undefined"&&(this.map.removeLayer("route"),this.map.removeSource("route"),this.map.removeLayer("points"),this.map.removeSource("points"));let s={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},l={type:"FeatureCollection",features:[]};this.histories.forEach((n,S)=>{s.geometry.coordinates.push([n.lng,n.lat]),l.features.push({type:"Feature",properties:{cog:n.cog,sog:n.sog,time:n.terminal_time,lat:n.lat,lng:n.lng,heading:n.heading},geometry:{type:"Point",coordinates:[n.lng,n.lat]}}),this.current=[n.lng,n.lat]}),this.map.addSource("route",{type:"geojson",data:s}),this.map.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3B4EF5","line-width":1.5,"line-dasharray":[3,3]}}),this.map.addSource("points",{type:"geojson",data:l}),this.map.addLayer({id:"points",type:"circle",source:"points",paint:{"circle-radius":4,"circle-color":"#3B4EF5"}});const c=new Al.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click","points",n=>{let S=n.features[0].properties;this.positionShip(S)}),this.map.on("mouseenter","points",n=>{t.map.getCanvas().style.cursor="pointer";const S=n.features[0].geometry.coordinates.slice(),j=`<b>Lat : ${n.features[0].properties.lat} | Lng: ${n.features[0].properties.lng}</b> at ${n.features[0].properties.sog} <b>kn</b> / ${n.features[0].properties.cog}&deg;<br>time: <b>${n.features[0].properties.time}</b>`;for(;Math.abs(n.lngLat.lng-S[0])>180;)S[0]+=n.lngLat.lng>S[0]?360:-360;c.setLngLat(S).setHTML(j).addTo(t.map)}),this.map.on("mouseleave","points",()=>{t.map.getCanvas().style.cursor="",c.remove()});let d=this.histories[this.histories.length-1],m=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:d});this.positionShip(m)},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},loaded(){this.positionShip(this.fleet)},toPotition(e){let t=Object.assign({},{id:this.fleet.id,name:this.fleet.name,image:this.fleet.image,navigation:e});this.positionShip(t)},positionShip(e){if(!e.navigation)return;typeof this.map.getLayer("ship-position")<"u"&&this.map.removeLayer("ship-position").removeSource("ship-points"),this.map.addSource("ship-points",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:bm(e.navigation.terminal_time)}}]}}),this.map.addLayer({id:"ship-position",type:"symbol",source:"ship-points",layout:{"icon-image":"ship-icon","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}}),this.popup.remove();const s=`<b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${bm(e.navigation.updated_at)}</b>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(s).addTo(this.map)}}},xF={class:"position-relative overflow-hidden"},bF={class:"pointer-info",ref:"pointerInfo"};function wF(e,t,s,l,c,d){const m=ds("map-voyage"),n=ds("MapboxNavigationControl"),S=ds("MapboxMap");return di(),vi("div",xF,[en(m,{fleet:s.fleet,onHistory:d.setHistory,onSelected:d.toPotition,display:s.sidebar},null,8,["fleet","onHistory","onSelected","display"]),et("div",bF,null,512),en(S,{onMbCreated:t[0]||(t[0]=j=>c.map=j),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:_d(s.style),"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:[s.fleet.navigation.lng,s.fleet.navigation.lat],zoom:7},{default:io(()=>[en(n,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","style","center"])])}const SF=Rs(vF,[["render",wF]]),TF={props:{fleet:Object,display:Boolean},data(){return{params:{from:null,to:null,interval:900},histories:[]}},methods:{async fetchData(){this.histories=[],(await axios.get(`/api/fleet/${this.fleet.id}/nav/histories`,{params:this.params}).then(t=>t.data)).forEach(t=>{t.lat==0&&t.lng==0||this.histories.push(t)}),this.$emit("history",this.histories)},toggleText(){this.display=!this.display},selected(e){this.$emit("selected",e)}}},EF={class:"voyage-section"},CF={key:0,class:"card voyage-card"},MF={class:"card-header justify-content-between"},AF=["src"],kF=et("h5",{class:"fw-normal m-0"},"Voyage",-1),PF={class:"card-body"},DF=et("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[et("li",{class:"nav-item",role:"presentation"},[et("button",{class:"nav-link justify-content-center active",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"TRACK")]),et("li",{class:"nav-item",role:"presentation"},[et("button",{class:"nav-link justify-content-center",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),IF={class:"tab-content",id:"pills-tabContent"},LF={class:"tab-pane fade show active",id:"pills-profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"},OF={class:"mb-4"},RF={class:"form-group mb-3"},BF=et("label",{for:"startDateInput"},"Start Date",-1),zF={class:"form-group mb-3"},NF=et("label",{for:"endDateInput"},"End Date",-1),FF=et("h6",{class:"text-primary"},"GENERATE REPORT",-1),jF={class:"table text-sm"},UF=et("thead",null,[et("tr",null,[et("th",{scope:"col"},"Time"),et("th",{scope:"col"},"Lon"),et("th",{scope:"col"},"Lat"),et("th",{scope:"col"},"Speed")])],-1),GF=["onClick"],VF={scope:"row"},HF=et("div",{class:"tab-pane fade",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},null,-1),$F=["src"];function WF(e,t,s,l,c,d){return di(),vi("div",EF,[s.display?(di(),vi("div",CF,[et("div",MF,[et("button",{onClick:t[0]||(t[0]=m=>s.display=!s.display),class:"btn btn-link bg-transparent p-0"},[et("img",{src:"/img/icons/close-fill.png",alt:""},null,8,AF)]),kF]),et("div",PF,[DF,et("div",IF,[et("div",LF,[et("div",OF,[et("div",RF,[BF,Po(et("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=m=>c.params.from=m),class:"form-control",id:"startDateInput"},null,512),[[Oh,c.params.from]])]),et("div",zF,[NF,Po(et("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=m=>c.params.to=m),class:"form-control",id:"endDateInput"},null,512),[[Oh,c.params.to]])]),et("button",{onClick:t[3]||(t[3]=(...m)=>d.fetchData&&d.fetchData(...m)),class:"btn btn-outline-primary w-100"},"SHOW")]),FF,et("table",jF,[UF,et("tbody",null,[(di(!0),vi(Jn,null,Nr(c.histories,m=>(di(),vi("tr",{onClick:n=>d.selected(m),key:m.id},[et("td",VF,cn(e.$filters.dateformat(m.terminal_time,"DD/MM/YY HH:mm")),1),et("td",null,cn(m.lng.toFixed(2))+"°",1),et("td",null,cn(m.lat.toFixed(2))+"°",1),et("td",null,cn(m.sog),1)],8,GF))),128))])])]),HF])])])):Kn("",!0),et("button",{onClick:t[4]||(t[4]=m=>s.display=!s.display),class:"btn btn-light btn-open"},[et("img",{src:"/img/icons/location-circle.png",alt:""},null,8,$F),ko(" Show fleet Track ")])])}const qF=Rs(TF,[["render",WF]]),YF={},XF={class:"ships-cctv"},ZF=zh('<div class="card" data-v-3e327a0d><div class="card-header" data-v-3e327a0d><div class="card-title" data-v-3e327a0d><div data-v-3e327a0d>Bridge</div></div><div class="card-status" data-v-3e327a0d><a href="#" data-v-3e327a0d><img src="img/icons/fullscreen.png" alt="" data-v-3e327a0d> Fullscreen </a><a href="#" data-v-3e327a0d> Esc to exit </a></div></div><div class="card-body" data-v-3e327a0d><img src="img/image-1.png" alt="" class="w-100" data-v-3e327a0d></div></div>',1),KF=[ZF];function JF(e,t,s,l,c,d){return di(),vi("div",XF,KF)}const QF=Rs(YF,[["render",JF],["__scopeId","data-v-3e327a0d"]]),ej={components:{"x-search":uA,"x-notification":pA,"x-records":fA,"x-navigation":mA,"x-camera":gA,"x-parameter":_A,"x-cctv":QF,MapboxMap:kx,MapboxNavigationControl:Px},data(){return{map:null,current:[],timer:null,fleets:[],zoom:3,center:[118,0],popup:null}},mounted(){this.timer=setInterval(()=>{this.loaded()},15*1e3),this.map.loadImage(LS,(e,t)=>{if(e)throw e;this.map.addImage("ship",t)}),this.popup=new Al.Popup({closeButton:!0,closeOnClick:!1})},methods:{async loaded(){let{data:e}=await axios.get("/api/fleets");this.fleets=e,e.forEach(t=>{this.positionShip(t)})},findFleet(e){if(!e.navigation)return;let t=e.id;this.popup.remove();const s=`<a class="no-style" href="/fleet/${t}"><b>${e.name} [ID]</b> at ${e.navigation.sog} <b>kn</b> / ${e.navigation.cog}&deg;<br>last update: <b>${bm(e.navigation.updated_at)}</b></a>`;this.popup.setLngLat([e.navigation.lng,e.navigation.lat]).setHTML(s).addTo(this.map),this.center=[e.navigation.lng,e.navigation.lat],this.zoom=5},pointerLocation(e){let t=e.lngLat.wrap();this.$refs.pointerInfo.innerHTML=`<span> ${t.lat.toFixed(5)}</span><span> ${t.lng.toFixed(5)}</span>`},positionShip(e){if(!e.navigation)return;let t=this;typeof this.map.getLayer(`ship-positions-${e.id}`)<"u"&&this.map.removeLayer(`ship-positions-${e.id}`).removeSource(`ship-positions-${e.id}`),this.map.addSource(`ship-positions-${e.id}`,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.navigation.lng,e.navigation.lat]},properties:{scale:1,id:e.id,heading:e.navigation.heading,name:e.name,image:e.image,sog:e.navigation.sog,cog:e.navigation.cog,last_update:bm(e.navigation.updated_at)}}]}}),this.map.addLayer({id:`ship-positions-${e.id}`,type:"symbol",source:`ship-positions-${e.id}`,layout:{"icon-image":"ship","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-size":.3,"icon-rotate":{property:"heading",stops:[[-360,-360],[0,0],[360,360]]},"icon-rotation-alignment":"map"}});const l=new Al.Popup({closeButton:!1,closeOnClick:!1});this.map.on("click",`ship-positions-${e.id}`,c=>{let d=c.features[0].properties.id;location.href=`/fleet/${d}`}),this.map.on("mouseenter",`ship-positions-${e.id}`,c=>{t.map.getCanvas().style.cursor="pointer";const d=c.features[0].geometry.coordinates.slice(),m=`<b>${c.features[0].properties.name} [ID]</b> at ${c.features[0].properties.sog} <b>kn</b> / ${c.features[0].properties.cog}&deg;<br>last update: <b>${c.features[0].properties.last_update}</b>`;for(;Math.abs(c.lngLat.lng-d[0])>180;)d[0]+=c.lngLat.lng>d[0]?360:-360;l.setLngLat(d).setHTML(m).addTo(t.map)}),this.map.on("mouseleave",`ship-positions-${e.id}`,()=>{t.map.getCanvas().style.cursor="",l.remove()})}}},tj={class:"position-relative"};function ij(e,t,s,l,c,d){const m=ds("x-records"),n=ds("x-navigation"),S=ds("x-camera"),j=ds("x-notification"),J=ds("x-parameter"),B=ds("x-cctv"),W=ds("MapboxNavigationControl"),K=ds("MapboxMap");return di(),vi("div",tj,[en(m),en(n),en(S),en(j),en(J),en(B),en(K,{onMbCreated:t[0]||(t[0]=I=>c.map=I),onMbLoad:d.loaded,onMbMousemove:d.pointerLocation,style:{height:"calc(100vh - 0px)",width:"100%"},"access-token":"pk.eyJ1Ijoia3JvbmljayIsImEiOiJjaWxyZGZwcHQwOHRidWxrbnd0OTB0cDBzIn0.u2R3NY5PnevWH3cHRk6TWQ","map-style":"mapbox://styles/mapbox/outdoors-v11",center:c.center,zoom:c.zoom},{default:io(()=>[en(W,{position:"bottom-right"})]),_:1},8,["onMbLoad","onMbMousemove","center","zoom"])])}const nj=Rs(ej,[["render",ij]]);function M5(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function OS(e={},t={}){Object.keys(t).forEach(s=>{typeof e[s]>"u"?e[s]=t[s]:M5(t[s])&&M5(e[s])&&Object.keys(t[s]).length>0&&OS(e[s],t[s])})}const vA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Wf(){const e=typeof document<"u"?document:{};return OS(e,vA),e}const sj={document:vA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Dc(){const e=typeof window<"u"?window:{};return OS(e,sj),e}function rj(e){const t=e;Object.keys(t).forEach(s=>{try{t[s]=null}catch{}try{delete t[s]}catch{}})}function Vw(e,t=0){return setTimeout(e,t)}function Iv(){return Date.now()}function oj(e){const t=Dc();let s;return t.getComputedStyle&&(s=t.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s}function aj(e,t="x"){const s=Dc();let l,c,d;const m=oj(e);return s.WebKitCSSMatrix?(c=m.transform||m.webkitTransform,c.split(",").length>6&&(c=c.split(", ").map(n=>n.replace(",",".")).join(", ")),d=new s.WebKitCSSMatrix(c==="none"?"":c)):(d=m.MozTransform||m.OTransform||m.MsTransform||m.msTransform||m.transform||m.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),l=d.toString().split(",")),t==="x"&&(s.WebKitCSSMatrix?c=d.m41:l.length===16?c=parseFloat(l[12]):c=parseFloat(l[4])),t==="y"&&(s.WebKitCSSMatrix?c=d.m42:l.length===16?c=parseFloat(l[13]):c=parseFloat(l[5])),c||0}function Fy(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function lj(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function Sc(...e){const t=Object(e[0]),s=["__proto__","constructor","prototype"];for(let l=1;l<e.length;l+=1){const c=e[l];if(c!=null&&!lj(c)){const d=Object.keys(Object(c)).filter(m=>s.indexOf(m)<0);for(let m=0,n=d.length;m<n;m+=1){const S=d[m],j=Object.getOwnPropertyDescriptor(c,S);j!==void 0&&j.enumerable&&(Fy(t[S])&&Fy(c[S])?c[S].__swiper__?t[S]=c[S]:Sc(t[S],c[S]):!Fy(t[S])&&Fy(c[S])?(t[S]={},c[S].__swiper__?t[S]=c[S]:Sc(t[S],c[S])):t[S]=c[S])}}}return t}function jy(e,t,s){e.style.setProperty(t,s)}function xA({swiper:e,targetPosition:t,side:s}){const l=Dc(),c=-e.translate;let d=null,m;const n=e.params.speed;e.wrapperEl.style.scrollSnapType="none",l.cancelAnimationFrame(e.cssModeFrameID);const S=t>c?"next":"prev",j=(B,W)=>S==="next"&&B>=W||S==="prev"&&B<=W,J=()=>{m=new Date().getTime(),d===null&&(d=m);const B=Math.max(Math.min((m-d)/n,1),0),W=.5-Math.cos(B*Math.PI)/2;let K=c+W*(t-c);if(j(K,t)&&(K=t),e.wrapperEl.scrollTo({[s]:K}),j(K,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:K})}),l.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=l.requestAnimationFrame(J)};J()}function fd(e,t=""){return[...e.children].filter(s=>s.matches(t))}function RS(e,t=[]){const s=document.createElement(e);return s.classList.add(...Array.isArray(t)?t:[t]),s}function cj(e,t){const s=[];for(;e.previousElementSibling;){const l=e.previousElementSibling;t?l.matches(t)&&s.push(l):s.push(l),e=l}return s}function hj(e,t){const s=[];for(;e.nextElementSibling;){const l=e.nextElementSibling;t?l.matches(t)&&s.push(l):s.push(l),e=l}return s}function ep(e,t){return Dc().getComputedStyle(e,null).getPropertyValue(t)}function Hw(e){let t=e,s;if(t){for(s=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(s+=1);return s}}function dj(e,t){const s=[];let l=e.parentElement;for(;l;)t?l.matches(t)&&s.push(l):s.push(l),l=l.parentElement;return s}function A5(e,t,s){const l=Dc();return s?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(l.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(l.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}let qb;function uj(){const e=Dc(),t=Wf();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function bA(){return qb||(qb=uj()),qb}let Yb;function pj({userAgent:e}={}){const t=bA(),s=Dc(),l=s.navigator.platform,c=e||s.navigator.userAgent,d={ios:!1,android:!1},m=s.screen.width,n=s.screen.height,S=c.match(/(Android);?[\s\/]+([\d.]+)?/);let j=c.match(/(iPad).*OS\s([\d_]+)/);const J=c.match(/(iPod)(.*OS\s([\d_]+))?/),B=!j&&c.match(/(iPhone\sOS|iOS)\s([\d_]+)/),W=l==="Win32";let K=l==="MacIntel";const I=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!j&&K&&t.touch&&I.indexOf(`${m}x${n}`)>=0&&(j=c.match(/(Version)\/([\d.]+)/),j||(j=[0,1,"13_0_0"]),K=!1),S&&!W&&(d.os="android",d.android=!0),(j||B||J)&&(d.os="ios",d.ios=!0),d}function fj(e={}){return Yb||(Yb=pj(e)),Yb}let Xb;function mj(){const e=Dc();let t=!1;function s(){const l=e.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(s()){const l=String(e.navigator.userAgent);if(l.includes("Version/")){const[c,d]=l.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));t=c<16||c===16&&d<2}}return{isSafari:t||s(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function gj(){return Xb||(Xb=mj()),Xb}function _j({swiper:e,on:t,emit:s}){const l=Dc();let c=null,d=null;const m=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},n=()=>{!e||e.destroyed||!e.initialized||(c=new ResizeObserver(J=>{d=l.requestAnimationFrame(()=>{const{width:B,height:W}=e;let K=B,I=W;J.forEach(({contentBoxSize:O,contentRect:H,target:M})=>{M&&M!==e.el||(K=H?H.width:(O[0]||O).inlineSize,I=H?H.height:(O[0]||O).blockSize)}),(K!==B||I!==W)&&m()})}),c.observe(e.el))},S=()=>{d&&l.cancelAnimationFrame(d),c&&c.unobserve&&e.el&&(c.unobserve(e.el),c=null)},j=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof l.ResizeObserver<"u"){n();return}l.addEventListener("resize",m),l.addEventListener("orientationchange",j)}),t("destroy",()=>{S(),l.removeEventListener("resize",m),l.removeEventListener("orientationchange",j)})}function yj({swiper:e,extendParams:t,on:s,emit:l}){const c=[],d=Dc(),m=(j,J={})=>{const B=d.MutationObserver||d.WebkitMutationObserver,W=new B(K=>{if(e.__preventObserver__)return;if(K.length===1){l("observerUpdate",K[0]);return}const I=function(){l("observerUpdate",K[0])};d.requestAnimationFrame?d.requestAnimationFrame(I):d.setTimeout(I,0)});W.observe(j,{attributes:typeof J.attributes>"u"?!0:J.attributes,childList:typeof J.childList>"u"?!0:J.childList,characterData:typeof J.characterData>"u"?!0:J.characterData}),c.push(W)},n=()=>{if(e.params.observer){if(e.params.observeParents){const j=dj(e.el);for(let J=0;J<j.length;J+=1)m(j[J])}m(e.el,{childList:e.params.observeSlideChildren}),m(e.wrapperEl,{attributes:!1})}},S=()=>{c.forEach(j=>{j.disconnect()}),c.splice(0,c.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",n),s("destroy",S)}const vj={on(e,t,s){const l=this;if(!l.eventsListeners||l.destroyed||typeof t!="function")return l;const c=s?"unshift":"push";return e.split(" ").forEach(d=>{l.eventsListeners[d]||(l.eventsListeners[d]=[]),l.eventsListeners[d][c](t)}),l},once(e,t,s){const l=this;if(!l.eventsListeners||l.destroyed||typeof t!="function")return l;function c(...d){l.off(e,c),c.__emitterProxy&&delete c.__emitterProxy,t.apply(l,d)}return c.__emitterProxy=t,l.on(e,c,s)},onAny(e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const l=t?"unshift":"push";return s.eventsAnyListeners.indexOf(e)<0&&s.eventsAnyListeners[l](e),s},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const s=t.eventsAnyListeners.indexOf(e);return s>=0&&t.eventsAnyListeners.splice(s,1),t},off(e,t){const s=this;return!s.eventsListeners||s.destroyed||!s.eventsListeners||e.split(" ").forEach(l=>{typeof t>"u"?s.eventsListeners[l]=[]:s.eventsListeners[l]&&s.eventsListeners[l].forEach((c,d)=>{(c===t||c.__emitterProxy&&c.__emitterProxy===t)&&s.eventsListeners[l].splice(d,1)})}),s},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let s,l,c;return typeof e[0]=="string"||Array.isArray(e[0])?(s=e[0],l=e.slice(1,e.length),c=t):(s=e[0].events,l=e[0].data,c=e[0].context||t),l.unshift(c),(Array.isArray(s)?s:s.split(" ")).forEach(m=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(n=>{n.apply(c,[m,...l])}),t.eventsListeners&&t.eventsListeners[m]&&t.eventsListeners[m].forEach(n=>{n.apply(c,l)})}),t}};function xj(){const e=this;let t,s;const l=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=l.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?s=e.params.height:s=l.clientHeight,!(t===0&&e.isHorizontal()||s===0&&e.isVertical())&&(t=t-parseInt(ep(l,"padding-left")||0,10)-parseInt(ep(l,"padding-right")||0,10),s=s-parseInt(ep(l,"padding-top")||0,10)-parseInt(ep(l,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:t,height:s,size:e.isHorizontal()?t:s}))}function bj(){const e=this;function t($){return e.isHorizontal()?$:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[$]}function s($,w){return parseFloat($.getPropertyValue(t(w))||0)}const l=e.params,{wrapperEl:c,slidesEl:d,size:m,rtlTranslate:n,wrongRTL:S}=e,j=e.virtual&&l.virtual.enabled,J=j?e.virtual.slides.length:e.slides.length,B=fd(d,`.${e.params.slideClass}, swiper-slide`),W=j?e.virtual.slides.length:B.length;let K=[];const I=[],O=[];let H=l.slidesOffsetBefore;typeof H=="function"&&(H=l.slidesOffsetBefore.call(e));let M=l.slidesOffsetAfter;typeof M=="function"&&(M=l.slidesOffsetAfter.call(e));const E=e.snapGrid.length,k=e.slidesGrid.length;let V=l.spaceBetween,G=-H,C=0,ie=0;if(typeof m>"u")return;typeof V=="string"&&V.indexOf("%")>=0?V=parseFloat(V.replace("%",""))/100*m:typeof V=="string"&&(V=parseFloat(V)),e.virtualSize=-V,B.forEach($=>{n?$.style.marginLeft="":$.style.marginRight="",$.style.marginBottom="",$.style.marginTop=""}),l.centeredSlides&&l.cssMode&&(jy(c,"--swiper-centered-offset-before",""),jy(c,"--swiper-centered-offset-after",""));const Q=l.grid&&l.grid.rows>1&&e.grid;Q&&e.grid.initSlides(W);let N;const F=l.slidesPerView==="auto"&&l.breakpoints&&Object.keys(l.breakpoints).filter($=>typeof l.breakpoints[$].slidesPerView<"u").length>0;for(let $=0;$<W;$+=1){N=0;let w;if(B[$]&&(w=B[$]),Q&&e.grid.updateSlide($,w,W,t),!(B[$]&&ep(w,"display")==="none")){if(l.slidesPerView==="auto"){F&&(B[$].style[t("width")]="");const L=getComputedStyle(w),f=w.style.transform,y=w.style.webkitTransform;if(f&&(w.style.transform="none"),y&&(w.style.webkitTransform="none"),l.roundLengths)N=e.isHorizontal()?A5(w,"width",!0):A5(w,"height",!0);else{const b=s(L,"width"),P=s(L,"padding-left"),q=s(L,"padding-right"),ee=s(L,"margin-left"),X=s(L,"margin-right"),ce=L.getPropertyValue("box-sizing");if(ce&&ce==="border-box")N=b+ee+X;else{const{clientWidth:fe,offsetWidth:Te}=w;N=b+P+q+ee+X+(Te-fe)}}f&&(w.style.transform=f),y&&(w.style.webkitTransform=y),l.roundLengths&&(N=Math.floor(N))}else N=(m-(l.slidesPerView-1)*V)/l.slidesPerView,l.roundLengths&&(N=Math.floor(N)),B[$]&&(B[$].style[t("width")]=`${N}px`);B[$]&&(B[$].swiperSlideSize=N),O.push(N),l.centeredSlides?(G=G+N/2+C/2+V,C===0&&$!==0&&(G=G-m/2-V),$===0&&(G=G-m/2-V),Math.abs(G)<1/1e3&&(G=0),l.roundLengths&&(G=Math.floor(G)),ie%l.slidesPerGroup===0&&K.push(G),I.push(G)):(l.roundLengths&&(G=Math.floor(G)),(ie-Math.min(e.params.slidesPerGroupSkip,ie))%e.params.slidesPerGroup===0&&K.push(G),I.push(G),G=G+N+V),e.virtualSize+=N+V,C=N,ie+=1}}if(e.virtualSize=Math.max(e.virtualSize,m)+M,n&&S&&(l.effect==="slide"||l.effect==="coverflow")&&(c.style.width=`${e.virtualSize+V}px`),l.setWrapperSize&&(c.style[t("width")]=`${e.virtualSize+V}px`),Q&&e.grid.updateWrapperSize(N,K,t),!l.centeredSlides){const $=[];for(let w=0;w<K.length;w+=1){let L=K[w];l.roundLengths&&(L=Math.floor(L)),K[w]<=e.virtualSize-m&&$.push(L)}K=$,Math.floor(e.virtualSize-m)-Math.floor(K[K.length-1])>1&&K.push(e.virtualSize-m)}if(j&&l.loop){const $=O[0]+V;if(l.slidesPerGroup>1){const w=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/l.slidesPerGroup),L=$*l.slidesPerGroup;for(let f=0;f<w;f+=1)K.push(K[K.length-1]+L)}for(let w=0;w<e.virtual.slidesBefore+e.virtual.slidesAfter;w+=1)l.slidesPerGroup===1&&K.push(K[K.length-1]+$),I.push(I[I.length-1]+$),e.virtualSize+=$}if(K.length===0&&(K=[0]),V!==0){const $=e.isHorizontal()&&n?"marginLeft":t("marginRight");B.filter((w,L)=>!l.cssMode||l.loop?!0:L!==B.length-1).forEach(w=>{w.style[$]=`${V}px`})}if(l.centeredSlides&&l.centeredSlidesBounds){let $=0;O.forEach(L=>{$+=L+(V||0)}),$-=V;const w=$-m;K=K.map(L=>L<0?-H:L>w?w+M:L)}if(l.centerInsufficientSlides){let $=0;if(O.forEach(w=>{$+=w+(V||0)}),$-=V,$<m){const w=(m-$)/2;K.forEach((L,f)=>{K[f]=L-w}),I.forEach((L,f)=>{I[f]=L+w})}}if(Object.assign(e,{slides:B,snapGrid:K,slidesGrid:I,slidesSizesGrid:O}),l.centeredSlides&&l.cssMode&&!l.centeredSlidesBounds){jy(c,"--swiper-centered-offset-before",`${-K[0]}px`),jy(c,"--swiper-centered-offset-after",`${e.size/2-O[O.length-1]/2}px`);const $=-e.snapGrid[0],w=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(L=>L+$),e.slidesGrid=e.slidesGrid.map(L=>L+w)}if(W!==J&&e.emit("slidesLengthChange"),K.length!==E&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),I.length!==k&&e.emit("slidesGridLengthChange"),l.watchSlidesProgress&&e.updateSlidesOffset(),!j&&!l.cssMode&&(l.effect==="slide"||l.effect==="fade")){const $=`${l.containerModifierClass}backface-hidden`,w=e.el.classList.contains($);W<=l.maxBackfaceHiddenSlides?w||e.el.classList.add($):w&&e.el.classList.remove($)}}function wj(e){const t=this,s=[],l=t.virtual&&t.params.virtual.enabled;let c=0,d;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const m=n=>l?t.slides[t.getSlideIndexByData(n)]:t.slides[n];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(n=>{s.push(n)});else for(d=0;d<Math.ceil(t.params.slidesPerView);d+=1){const n=t.activeIndex+d;if(n>t.slides.length&&!l)break;s.push(m(n))}else s.push(m(t.activeIndex));for(d=0;d<s.length;d+=1)if(typeof s[d]<"u"){const n=s[d].offsetHeight;c=n>c?n:c}(c||c===0)&&(t.wrapperEl.style.height=`${c}px`)}function Sj(){const e=this,t=e.slides,s=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let l=0;l<t.length;l+=1)t[l].swiperSlideOffset=(e.isHorizontal()?t[l].offsetLeft:t[l].offsetTop)-s-e.cssOverflowAdjustment()}function Tj(e=this&&this.translate||0){const t=this,s=t.params,{slides:l,rtlTranslate:c,snapGrid:d}=t;if(l.length===0)return;typeof l[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let m=-e;c&&(m=e),l.forEach(S=>{S.classList.remove(s.slideVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let n=s.spaceBetween;typeof n=="string"&&n.indexOf("%")>=0?n=parseFloat(n.replace("%",""))/100*t.size:typeof n=="string"&&(n=parseFloat(n));for(let S=0;S<l.length;S+=1){const j=l[S];let J=j.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(J-=l[0].swiperSlideOffset);const B=(m+(s.centeredSlides?t.minTranslate():0)-J)/(j.swiperSlideSize+n),W=(m-d[0]+(s.centeredSlides?t.minTranslate():0)-J)/(j.swiperSlideSize+n),K=-(m-J),I=K+t.slidesSizesGrid[S];(K>=0&&K<t.size-1||I>1&&I<=t.size||K<=0&&I>=t.size)&&(t.visibleSlides.push(j),t.visibleSlidesIndexes.push(S),l[S].classList.add(s.slideVisibleClass)),j.progress=c?-B:B,j.originalProgress=c?-W:W}}function Ej(e){const t=this;if(typeof e>"u"){const J=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*J||0}const s=t.params,l=t.maxTranslate()-t.minTranslate();let{progress:c,isBeginning:d,isEnd:m,progressLoop:n}=t;const S=d,j=m;if(l===0)c=0,d=!0,m=!0;else{c=(e-t.minTranslate())/l;const J=Math.abs(e-t.minTranslate())<1,B=Math.abs(e-t.maxTranslate())<1;d=J||c<=0,m=B||c>=1,J&&(c=0),B&&(c=1)}if(s.loop){const J=t.getSlideIndexByData(0),B=t.getSlideIndexByData(t.slides.length-1),W=t.slidesGrid[J],K=t.slidesGrid[B],I=t.slidesGrid[t.slidesGrid.length-1],O=Math.abs(e);O>=W?n=(O-W)/I:n=(O+I-K)/I,n>1&&(n-=1)}Object.assign(t,{progress:c,progressLoop:n,isBeginning:d,isEnd:m}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&t.updateSlidesProgress(e),d&&!S&&t.emit("reachBeginning toEdge"),m&&!j&&t.emit("reachEnd toEdge"),(S&&!d||j&&!m)&&t.emit("fromEdge"),t.emit("progress",c)}function Cj(){const e=this,{slides:t,params:s,slidesEl:l,activeIndex:c}=e,d=e.virtual&&s.virtual.enabled,m=S=>fd(l,`.${s.slideClass}${S}, swiper-slide${S}`)[0];t.forEach(S=>{S.classList.remove(s.slideActiveClass,s.slideNextClass,s.slidePrevClass)});let n;if(d)if(s.loop){let S=c-e.virtual.slidesBefore;S<0&&(S=e.virtual.slides.length+S),S>=e.virtual.slides.length&&(S-=e.virtual.slides.length),n=m(`[data-swiper-slide-index="${S}"]`)}else n=m(`[data-swiper-slide-index="${c}"]`);else n=t[c];if(n){n.classList.add(s.slideActiveClass);let S=hj(n,`.${s.slideClass}, swiper-slide`)[0];s.loop&&!S&&(S=t[0]),S&&S.classList.add(s.slideNextClass);let j=cj(n,`.${s.slideClass}, swiper-slide`)[0];s.loop&&!j===0&&(j=t[t.length-1]),j&&j.classList.add(s.slidePrevClass)}e.emitSlidesClasses()}const ev=(e,t)=>{if(!e||e.destroyed||!e.params)return;const s=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,l=t.closest(s());if(l){const c=l.querySelector(`.${e.params.lazyPreloaderClass}`);c&&c.remove()}},k5=(e,t)=>{if(!e.slides[t])return;const s=e.slides[t].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},$w=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const s=e.slides.length;if(!s||!t||t<0)return;t=Math.min(t,s);const l=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),c=e.activeIndex,d=c+l-1;if(e.params.rewind)for(let m=c-t;m<=d+t;m+=1){const n=(m%s+s)%s;n!==c&&n>d&&k5(e,n)}else for(let m=Math.max(d-t,0);m<=Math.min(d+t,s-1);m+=1)m!==c&&m>d&&k5(e,m)};function Mj(e){const{slidesGrid:t,params:s}=e,l=e.rtlTranslate?e.translate:-e.translate;let c;for(let d=0;d<t.length;d+=1)typeof t[d+1]<"u"?l>=t[d]&&l<t[d+1]-(t[d+1]-t[d])/2?c=d:l>=t[d]&&l<t[d+1]&&(c=d+1):l>=t[d]&&(c=d);return s.normalizeSlideIndex&&(c<0||typeof c>"u")&&(c=0),c}function Aj(e){const t=this,s=t.rtlTranslate?t.translate:-t.translate,{snapGrid:l,params:c,activeIndex:d,realIndex:m,snapIndex:n}=t;let S=e,j;const J=W=>{let K=W-t.virtual.slidesBefore;return K<0&&(K=t.virtual.slides.length+K),K>=t.virtual.slides.length&&(K-=t.virtual.slides.length),K};if(typeof S>"u"&&(S=Mj(t)),l.indexOf(s)>=0)j=l.indexOf(s);else{const W=Math.min(c.slidesPerGroupSkip,S);j=W+Math.floor((S-W)/c.slidesPerGroup)}if(j>=l.length&&(j=l.length-1),S===d){j!==n&&(t.snapIndex=j,t.emit("snapIndexChange")),t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=J(S));return}let B;t.virtual&&c.virtual.enabled&&c.loop?B=J(S):t.slides[S]?B=parseInt(t.slides[S].getAttribute("data-swiper-slide-index")||S,10):B=S,Object.assign(t,{previousSnapIndex:n,snapIndex:j,previousRealIndex:m,realIndex:B,previousIndex:d,activeIndex:S}),t.initialized&&$w(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),m!==B&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")}function kj(e){const t=this,s=t.params,l=e.closest(`.${s.slideClass}, swiper-slide`);let c=!1,d;if(l){for(let m=0;m<t.slides.length;m+=1)if(t.slides[m]===l){c=!0,d=m;break}}if(l&&c)t.clickedSlide=l,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(l.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=d;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}s.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}const Pj={updateSize:xj,updateSlides:bj,updateAutoHeight:wj,updateSlidesOffset:Sj,updateSlidesProgress:Tj,updateProgress:Ej,updateSlidesClasses:Cj,updateActiveIndex:Aj,updateClickedSlide:kj};function Dj(e=this.isHorizontal()?"x":"y"){const t=this,{params:s,rtlTranslate:l,translate:c,wrapperEl:d}=t;if(s.virtualTranslate)return l?-c:c;if(s.cssMode)return c;let m=aj(d,e);return m+=t.cssOverflowAdjustment(),l&&(m=-m),m||0}function Ij(e,t){const s=this,{rtlTranslate:l,params:c,wrapperEl:d,progress:m}=s;let n=0,S=0;const j=0;s.isHorizontal()?n=l?-e:e:S=e,c.roundLengths&&(n=Math.floor(n),S=Math.floor(S)),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?n:S,c.cssMode?d[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-n:-S:c.virtualTranslate||(s.isHorizontal()?n-=s.cssOverflowAdjustment():S-=s.cssOverflowAdjustment(),d.style.transform=`translate3d(${n}px, ${S}px, ${j}px)`);let J;const B=s.maxTranslate()-s.minTranslate();B===0?J=0:J=(e-s.minTranslate())/B,J!==m&&s.updateProgress(e),s.emit("setTranslate",s.translate,t)}function Lj(){return-this.snapGrid[0]}function Oj(){return-this.snapGrid[this.snapGrid.length-1]}function Rj(e=0,t=this.params.speed,s=!0,l=!0,c){const d=this,{params:m,wrapperEl:n}=d;if(d.animating&&m.preventInteractionOnTransition)return!1;const S=d.minTranslate(),j=d.maxTranslate();let J;if(l&&e>S?J=S:l&&e<j?J=j:J=e,d.updateProgress(J),m.cssMode){const B=d.isHorizontal();if(t===0)n[B?"scrollLeft":"scrollTop"]=-J;else{if(!d.support.smoothScroll)return xA({swiper:d,targetPosition:-J,side:B?"left":"top"}),!0;n.scrollTo({[B?"left":"top"]:-J,behavior:"smooth"})}return!0}return t===0?(d.setTransition(0),d.setTranslate(J),s&&(d.emit("beforeTransitionStart",t,c),d.emit("transitionEnd"))):(d.setTransition(t),d.setTranslate(J),s&&(d.emit("beforeTransitionStart",t,c),d.emit("transitionStart")),d.animating||(d.animating=!0,d.onTranslateToWrapperTransitionEnd||(d.onTranslateToWrapperTransitionEnd=function(W){!d||d.destroyed||W.target===this&&(d.wrapperEl.removeEventListener("transitionend",d.onTranslateToWrapperTransitionEnd),d.onTranslateToWrapperTransitionEnd=null,delete d.onTranslateToWrapperTransitionEnd,s&&d.emit("transitionEnd"))}),d.wrapperEl.addEventListener("transitionend",d.onTranslateToWrapperTransitionEnd))),!0}const Bj={getTranslate:Dj,setTranslate:Ij,minTranslate:Lj,maxTranslate:Oj,translateTo:Rj};function zj(e,t){const s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${e}ms`),s.emit("setTransition",e,t)}function wA({swiper:e,runCallbacks:t,direction:s,step:l}){const{activeIndex:c,previousIndex:d}=e;let m=s;if(m||(c>d?m="next":c<d?m="prev":m="reset"),e.emit(`transition${l}`),t&&c!==d){if(m==="reset"){e.emit(`slideResetTransition${l}`);return}e.emit(`slideChangeTransition${l}`),m==="next"?e.emit(`slideNextTransition${l}`):e.emit(`slidePrevTransition${l}`)}}function Nj(e=!0,t){const s=this,{params:l}=s;l.cssMode||(l.autoHeight&&s.updateAutoHeight(),wA({swiper:s,runCallbacks:e,direction:t,step:"Start"}))}function Fj(e=!0,t){const s=this,{params:l}=s;s.animating=!1,!l.cssMode&&(s.setTransition(0),wA({swiper:s,runCallbacks:e,direction:t,step:"End"}))}const jj={setTransition:zj,transitionStart:Nj,transitionEnd:Fj};function Uj(e=0,t=this.params.speed,s=!0,l,c){typeof e=="string"&&(e=parseInt(e,10));const d=this;let m=e;m<0&&(m=0);const{params:n,snapGrid:S,slidesGrid:j,previousIndex:J,activeIndex:B,rtlTranslate:W,wrapperEl:K,enabled:I}=d;if(d.animating&&n.preventInteractionOnTransition||!I&&!l&&!c)return!1;const O=Math.min(d.params.slidesPerGroupSkip,m);let H=O+Math.floor((m-O)/d.params.slidesPerGroup);H>=S.length&&(H=S.length-1);const M=-S[H];if(n.normalizeSlideIndex)for(let k=0;k<j.length;k+=1){const V=-Math.floor(M*100),G=Math.floor(j[k]*100),C=Math.floor(j[k+1]*100);typeof j[k+1]<"u"?V>=G&&V<C-(C-G)/2?m=k:V>=G&&V<C&&(m=k+1):V>=G&&(m=k)}if(d.initialized&&m!==B&&(!d.allowSlideNext&&M<d.translate&&M<d.minTranslate()||!d.allowSlidePrev&&M>d.translate&&M>d.maxTranslate()&&(B||0)!==m))return!1;m!==(J||0)&&s&&d.emit("beforeSlideChangeStart"),d.updateProgress(M);let E;if(m>B?E="next":m<B?E="prev":E="reset",W&&-M===d.translate||!W&&M===d.translate)return d.updateActiveIndex(m),n.autoHeight&&d.updateAutoHeight(),d.updateSlidesClasses(),n.effect!=="slide"&&d.setTranslate(M),E!=="reset"&&(d.transitionStart(s,E),d.transitionEnd(s,E)),!1;if(n.cssMode){const k=d.isHorizontal(),V=W?M:-M;if(t===0){const G=d.virtual&&d.params.virtual.enabled;G&&(d.wrapperEl.style.scrollSnapType="none",d._immediateVirtual=!0),G&&!d._cssModeVirtualInitialSet&&d.params.initialSlide>0?(d._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{K[k?"scrollLeft":"scrollTop"]=V})):K[k?"scrollLeft":"scrollTop"]=V,G&&requestAnimationFrame(()=>{d.wrapperEl.style.scrollSnapType="",d._immediateVirtual=!1})}else{if(!d.support.smoothScroll)return xA({swiper:d,targetPosition:V,side:k?"left":"top"}),!0;K.scrollTo({[k?"left":"top"]:V,behavior:"smooth"})}return!0}return d.setTransition(t),d.setTranslate(M),d.updateActiveIndex(m),d.updateSlidesClasses(),d.emit("beforeTransitionStart",t,l),d.transitionStart(s,E),t===0?d.transitionEnd(s,E):d.animating||(d.animating=!0,d.onSlideToWrapperTransitionEnd||(d.onSlideToWrapperTransitionEnd=function(V){!d||d.destroyed||V.target===this&&(d.wrapperEl.removeEventListener("transitionend",d.onSlideToWrapperTransitionEnd),d.onSlideToWrapperTransitionEnd=null,delete d.onSlideToWrapperTransitionEnd,d.transitionEnd(s,E))}),d.wrapperEl.addEventListener("transitionend",d.onSlideToWrapperTransitionEnd)),!0}function Gj(e=0,t=this.params.speed,s=!0,l){typeof e=="string"&&(e=parseInt(e,10));const c=this;let d=e;return c.params.loop&&(c.virtual&&c.params.virtual.enabled?d=d+c.virtual.slidesBefore:d=c.getSlideIndexByData(d)),c.slideTo(d,t,s,l)}function Vj(e=this.params.speed,t=!0,s){const l=this,{enabled:c,params:d,animating:m}=l;if(!c)return l;let n=d.slidesPerGroup;d.slidesPerView==="auto"&&d.slidesPerGroup===1&&d.slidesPerGroupAuto&&(n=Math.max(l.slidesPerViewDynamic("current",!0),1));const S=l.activeIndex<d.slidesPerGroupSkip?1:n,j=l.virtual&&d.virtual.enabled;if(d.loop){if(m&&!j&&d.loopPreventsSliding)return!1;l.loopFix({direction:"next"}),l._clientLeft=l.wrapperEl.clientLeft}return d.rewind&&l.isEnd?l.slideTo(0,e,t,s):l.slideTo(l.activeIndex+S,e,t,s)}function Hj(e=this.params.speed,t=!0,s){const l=this,{params:c,snapGrid:d,slidesGrid:m,rtlTranslate:n,enabled:S,animating:j}=l;if(!S)return l;const J=l.virtual&&c.virtual.enabled;if(c.loop){if(j&&!J&&c.loopPreventsSliding)return!1;l.loopFix({direction:"prev"}),l._clientLeft=l.wrapperEl.clientLeft}const B=n?l.translate:-l.translate;function W(M){return M<0?-Math.floor(Math.abs(M)):Math.floor(M)}const K=W(B),I=d.map(M=>W(M));let O=d[I.indexOf(K)-1];if(typeof O>"u"&&c.cssMode){let M;d.forEach((E,k)=>{K>=E&&(M=k)}),typeof M<"u"&&(O=d[M>0?M-1:M])}let H=0;if(typeof O<"u"&&(H=m.indexOf(O),H<0&&(H=l.activeIndex-1),c.slidesPerView==="auto"&&c.slidesPerGroup===1&&c.slidesPerGroupAuto&&(H=H-l.slidesPerViewDynamic("previous",!0)+1,H=Math.max(H,0))),c.rewind&&l.isBeginning){const M=l.params.virtual&&l.params.virtual.enabled&&l.virtual?l.virtual.slides.length-1:l.slides.length-1;return l.slideTo(M,e,t,s)}return l.slideTo(H,e,t,s)}function $j(e=this.params.speed,t=!0,s){const l=this;return l.slideTo(l.activeIndex,e,t,s)}function Wj(e=this.params.speed,t=!0,s,l=.5){const c=this;let d=c.activeIndex;const m=Math.min(c.params.slidesPerGroupSkip,d),n=m+Math.floor((d-m)/c.params.slidesPerGroup),S=c.rtlTranslate?c.translate:-c.translate;if(S>=c.snapGrid[n]){const j=c.snapGrid[n],J=c.snapGrid[n+1];S-j>(J-j)*l&&(d+=c.params.slidesPerGroup)}else{const j=c.snapGrid[n-1],J=c.snapGrid[n];S-j<=(J-j)*l&&(d-=c.params.slidesPerGroup)}return d=Math.max(d,0),d=Math.min(d,c.slidesGrid.length-1),c.slideTo(d,e,t,s)}function qj(){const e=this,{params:t,slidesEl:s}=e,l=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let c=e.clickedIndex,d;const m=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;d=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?c<e.loopedSlides-l/2||c>e.slides.length-e.loopedSlides+l/2?(e.loopFix(),c=e.getSlideIndex(fd(s,`${m}[data-swiper-slide-index="${d}"]`)[0]),Vw(()=>{e.slideTo(c)})):e.slideTo(c):c>e.slides.length-l?(e.loopFix(),c=e.getSlideIndex(fd(s,`${m}[data-swiper-slide-index="${d}"]`)[0]),Vw(()=>{e.slideTo(c)})):e.slideTo(c)}else e.slideTo(c)}const Yj={slideTo:Uj,slideToLoop:Gj,slideNext:Vj,slidePrev:Hj,slideReset:$j,slideToClosest:Wj,slideToClickedSlide:qj};function Xj(e){const t=this,{params:s,slidesEl:l}=t;if(!s.loop||t.virtual&&t.params.virtual.enabled)return;fd(l,`.${s.slideClass}, swiper-slide`).forEach((d,m)=>{d.setAttribute("data-swiper-slide-index",m)}),t.loopFix({slideRealIndex:e,direction:s.centeredSlides?void 0:"next"})}function Zj({slideRealIndex:e,slideTo:t=!0,direction:s,setTranslate:l,activeSlideIndex:c,byController:d,byMousewheel:m}={}){const n=this;if(!n.params.loop)return;n.emit("beforeLoopFix");const{slides:S,allowSlidePrev:j,allowSlideNext:J,slidesEl:B,params:W}=n;if(n.allowSlidePrev=!0,n.allowSlideNext=!0,n.virtual&&W.virtual.enabled){t&&(!W.centeredSlides&&n.snapIndex===0?n.slideTo(n.virtual.slides.length,0,!1,!0):W.centeredSlides&&n.snapIndex<W.slidesPerView?n.slideTo(n.virtual.slides.length+n.snapIndex,0,!1,!0):n.snapIndex===n.snapGrid.length-1&&n.slideTo(n.virtual.slidesBefore,0,!1,!0)),n.allowSlidePrev=j,n.allowSlideNext=J,n.emit("loopFix");return}const K=W.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(W.slidesPerView,10));let I=W.loopedSlides||K;I%W.slidesPerGroup!==0&&(I+=W.slidesPerGroup-I%W.slidesPerGroup),n.loopedSlides=I;const O=[],H=[];let M=n.activeIndex;typeof c>"u"?c=n.getSlideIndex(n.slides.filter(C=>C.classList.contains(W.slideActiveClass))[0]):M=c;const E=s==="next"||!s,k=s==="prev"||!s;let V=0,G=0;if(c<I){V=Math.max(I-c,W.slidesPerGroup);for(let C=0;C<I-c;C+=1){const ie=C-Math.floor(C/S.length)*S.length;O.push(S.length-ie-1)}}else if(c>n.slides.length-I*2){G=Math.max(c-(n.slides.length-I*2),W.slidesPerGroup);for(let C=0;C<G;C+=1){const ie=C-Math.floor(C/S.length)*S.length;H.push(ie)}}if(k&&O.forEach(C=>{n.slides[C].swiperLoopMoveDOM=!0,B.prepend(n.slides[C]),n.slides[C].swiperLoopMoveDOM=!1}),E&&H.forEach(C=>{n.slides[C].swiperLoopMoveDOM=!0,B.append(n.slides[C]),n.slides[C].swiperLoopMoveDOM=!1}),n.recalcSlides(),W.slidesPerView==="auto"&&n.updateSlides(),W.watchSlidesProgress&&n.updateSlidesOffset(),t){if(O.length>0&&k)if(typeof e>"u"){const C=n.slidesGrid[M],Q=n.slidesGrid[M+V]-C;m?n.setTranslate(n.translate-Q):(n.slideTo(M+V,0,!1,!0),l&&(n.touches[n.isHorizontal()?"startX":"startY"]+=Q))}else l&&n.slideToLoop(e,0,!1,!0);else if(H.length>0&&E)if(typeof e>"u"){const C=n.slidesGrid[M],Q=n.slidesGrid[M-G]-C;m?n.setTranslate(n.translate-Q):(n.slideTo(M-G,0,!1,!0),l&&(n.touches[n.isHorizontal()?"startX":"startY"]+=Q))}else n.slideToLoop(e,0,!1,!0)}if(n.allowSlidePrev=j,n.allowSlideNext=J,n.controller&&n.controller.control&&!d){const C={slideRealIndex:e,slideTo:!1,direction:s,setTranslate:l,activeSlideIndex:c,byController:!0};Array.isArray(n.controller.control)?n.controller.control.forEach(ie=>{!ie.destroyed&&ie.params.loop&&ie.loopFix(C)}):n.controller.control instanceof n.constructor&&n.controller.control.params.loop&&n.controller.control.loopFix(C)}n.emit("loopFix")}function Kj(){const e=this,{params:t,slidesEl:s}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const l=[];e.slides.forEach(c=>{const d=typeof c.swiperSlideIndex>"u"?c.getAttribute("data-swiper-slide-index")*1:c.swiperSlideIndex;l[d]=c}),e.slides.forEach(c=>{c.removeAttribute("data-swiper-slide-index")}),l.forEach(c=>{s.append(c)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}const Jj={loopCreate:Xj,loopFix:Zj,loopDestroy:Kj};function Qj(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const s=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function eU(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}const tU={setGrabCursor:Qj,unsetGrabCursor:eU};function iU(e,t=this){function s(l){if(!l||l===Wf()||l===Dc())return null;l.assignedSlot&&(l=l.assignedSlot);const c=l.closest(e);return!c&&!l.getRootNode?null:c||s(l.getRootNode().host)}return s(t)}function nU(e){const t=this,s=Wf(),l=Dc(),c=t.touchEventsData;c.evCache.push(e);const{params:d,touches:m,enabled:n}=t;if(!n||!d.simulateTouch&&e.pointerType==="mouse"||t.animating&&d.preventInteractionOnTransition)return;!t.animating&&d.cssMode&&d.loop&&t.loopFix();let S=e;S.originalEvent&&(S=S.originalEvent);let j=S.target;if(d.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(j)||"which"in S&&S.which===3||"button"in S&&S.button>0||c.isTouched&&c.isMoved)return;const J=!!d.noSwipingClass&&d.noSwipingClass!=="",B=e.composedPath?e.composedPath():e.path;J&&S.target&&S.target.shadowRoot&&B&&(j=B[0]);const W=d.noSwipingSelector?d.noSwipingSelector:`.${d.noSwipingClass}`,K=!!(S.target&&S.target.shadowRoot);if(d.noSwiping&&(K?iU(W,j):j.closest(W))){t.allowClick=!0;return}if(d.swipeHandler&&!j.closest(d.swipeHandler))return;m.currentX=S.pageX,m.currentY=S.pageY;const I=m.currentX,O=m.currentY,H=d.edgeSwipeDetection||d.iOSEdgeSwipeDetection,M=d.edgeSwipeThreshold||d.iOSEdgeSwipeThreshold;if(H&&(I<=M||I>=l.innerWidth-M))if(H==="prevent")e.preventDefault();else return;Object.assign(c,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),m.startX=I,m.startY=O,c.touchStartTime=Iv(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,d.threshold>0&&(c.allowThresholdMove=!1);let E=!0;j.matches(c.focusableElements)&&(E=!1,j.nodeName==="SELECT"&&(c.isTouched=!1)),s.activeElement&&s.activeElement.matches(c.focusableElements)&&s.activeElement!==j&&s.activeElement.blur();const k=E&&t.allowTouchMove&&d.touchStartPreventDefault;(d.touchStartForcePreventDefault||k)&&!j.isContentEditable&&S.preventDefault(),t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!d.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",S)}function sU(e){const t=Wf(),s=this,l=s.touchEventsData,{params:c,touches:d,rtlTranslate:m,enabled:n}=s;if(!n||!c.simulateTouch&&e.pointerType==="mouse")return;let S=e;if(S.originalEvent&&(S=S.originalEvent),!l.isTouched){l.startMoving&&l.isScrolling&&s.emit("touchMoveOpposite",S);return}const j=l.evCache.findIndex(C=>C.pointerId===S.pointerId);j>=0&&(l.evCache[j]=S);const J=l.evCache.length>1?l.evCache[0]:S,B=J.pageX,W=J.pageY;if(S.preventedByNestedSwiper){d.startX=B,d.startY=W;return}if(!s.allowTouchMove){S.target.matches(l.focusableElements)||(s.allowClick=!1),l.isTouched&&(Object.assign(d,{startX:B,startY:W,prevX:s.touches.currentX,prevY:s.touches.currentY,currentX:B,currentY:W}),l.touchStartTime=Iv());return}if(c.touchReleaseOnEdges&&!c.loop){if(s.isVertical()){if(W<d.startY&&s.translate<=s.maxTranslate()||W>d.startY&&s.translate>=s.minTranslate()){l.isTouched=!1,l.isMoved=!1;return}}else if(B<d.startX&&s.translate<=s.maxTranslate()||B>d.startX&&s.translate>=s.minTranslate())return}if(t.activeElement&&S.target===t.activeElement&&S.target.matches(l.focusableElements)){l.isMoved=!0,s.allowClick=!1;return}if(l.allowTouchCallbacks&&s.emit("touchMove",S),S.targetTouches&&S.targetTouches.length>1)return;d.currentX=B,d.currentY=W;const K=d.currentX-d.startX,I=d.currentY-d.startY;if(s.params.threshold&&Math.sqrt(K**2+I**2)<s.params.threshold)return;if(typeof l.isScrolling>"u"){let C;s.isHorizontal()&&d.currentY===d.startY||s.isVertical()&&d.currentX===d.startX?l.isScrolling=!1:K*K+I*I>=25&&(C=Math.atan2(Math.abs(I),Math.abs(K))*180/Math.PI,l.isScrolling=s.isHorizontal()?C>c.touchAngle:90-C>c.touchAngle)}if(l.isScrolling&&s.emit("touchMoveOpposite",S),typeof l.startMoving>"u"&&(d.currentX!==d.startX||d.currentY!==d.startY)&&(l.startMoving=!0),l.isScrolling||s.zoom&&s.params.zoom&&s.params.zoom.enabled&&l.evCache.length>1){l.isTouched=!1;return}if(!l.startMoving)return;s.allowClick=!1,!c.cssMode&&S.cancelable&&S.preventDefault(),c.touchMoveStopPropagation&&!c.nested&&S.stopPropagation();let O=s.isHorizontal()?K:I,H=s.isHorizontal()?d.currentX-d.previousX:d.currentY-d.previousY;c.oneWayMovement&&(O=Math.abs(O)*(m?1:-1),H=Math.abs(H)*(m?1:-1)),d.diff=O,O*=c.touchRatio,m&&(O=-O,H=-H);const M=s.touchesDirection;s.swipeDirection=O>0?"prev":"next",s.touchesDirection=H>0?"prev":"next";const E=s.params.loop&&!c.cssMode;if(!l.isMoved){if(E&&s.loopFix({direction:s.swipeDirection}),l.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){const C=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});s.wrapperEl.dispatchEvent(C)}l.allowMomentumBounce=!1,c.grabCursor&&(s.allowSlideNext===!0||s.allowSlidePrev===!0)&&s.setGrabCursor(!0),s.emit("sliderFirstMove",S)}let k;l.isMoved&&M!==s.touchesDirection&&E&&Math.abs(O)>=1&&(s.loopFix({direction:s.swipeDirection,setTranslate:!0}),k=!0),s.emit("sliderMove",S),l.isMoved=!0,l.currentTranslate=O+l.startTranslate;let V=!0,G=c.resistanceRatio;if(c.touchReleaseOnEdges&&(G=0),O>0?(E&&!k&&l.currentTranslate>(c.centeredSlides?s.minTranslate()-s.size/2:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),l.currentTranslate>s.minTranslate()&&(V=!1,c.resistance&&(l.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+l.startTranslate+O)**G))):O<0&&(E&&!k&&l.currentTranslate<(c.centeredSlides?s.maxTranslate()+s.size/2:s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-(c.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(c.slidesPerView,10)))}),l.currentTranslate<s.maxTranslate()&&(V=!1,c.resistance&&(l.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-l.startTranslate-O)**G))),V&&(S.preventedByNestedSwiper=!0),!s.allowSlideNext&&s.swipeDirection==="next"&&l.currentTranslate<l.startTranslate&&(l.currentTranslate=l.startTranslate),!s.allowSlidePrev&&s.swipeDirection==="prev"&&l.currentTranslate>l.startTranslate&&(l.currentTranslate=l.startTranslate),!s.allowSlidePrev&&!s.allowSlideNext&&(l.currentTranslate=l.startTranslate),c.threshold>0)if(Math.abs(O)>c.threshold||l.allowThresholdMove){if(!l.allowThresholdMove){l.allowThresholdMove=!0,d.startX=d.currentX,d.startY=d.currentY,l.currentTranslate=l.startTranslate,d.diff=s.isHorizontal()?d.currentX-d.startX:d.currentY-d.startY;return}}else{l.currentTranslate=l.startTranslate;return}!c.followFinger||c.cssMode||((c.freeMode&&c.freeMode.enabled&&s.freeMode||c.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),s.params.freeMode&&c.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(l.currentTranslate),s.setTranslate(l.currentTranslate))}function rU(e){const t=this,s=t.touchEventsData,l=s.evCache.findIndex(k=>k.pointerId===e.pointerId);if(l>=0&&s.evCache.splice(l,1),["pointercancel","pointerout","pointerleave"].includes(e.type)&&!(e.type==="pointercancel"&&(t.browser.isSafari||t.browser.isWebView)))return;const{params:c,touches:d,rtlTranslate:m,slidesGrid:n,enabled:S}=t;if(!S||!c.simulateTouch&&e.pointerType==="mouse")return;let j=e;if(j.originalEvent&&(j=j.originalEvent),s.allowTouchCallbacks&&t.emit("touchEnd",j),s.allowTouchCallbacks=!1,!s.isTouched){s.isMoved&&c.grabCursor&&t.setGrabCursor(!1),s.isMoved=!1,s.startMoving=!1;return}c.grabCursor&&s.isMoved&&s.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const J=Iv(),B=J-s.touchStartTime;if(t.allowClick){const k=j.path||j.composedPath&&j.composedPath();t.updateClickedSlide(k&&k[0]||j.target),t.emit("tap click",j),B<300&&J-s.lastClickTime<300&&t.emit("doubleTap doubleClick",j)}if(s.lastClickTime=Iv(),Vw(()=>{t.destroyed||(t.allowClick=!0)}),!s.isTouched||!s.isMoved||!t.swipeDirection||d.diff===0||s.currentTranslate===s.startTranslate){s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;return}s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;let W;if(c.followFinger?W=m?t.translate:-t.translate:W=-s.currentTranslate,c.cssMode)return;if(t.params.freeMode&&c.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:W});return}let K=0,I=t.slidesSizesGrid[0];for(let k=0;k<n.length;k+=k<c.slidesPerGroupSkip?1:c.slidesPerGroup){const V=k<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof n[k+V]<"u"?W>=n[k]&&W<n[k+V]&&(K=k,I=n[k+V]-n[k]):W>=n[k]&&(K=k,I=n[n.length-1]-n[n.length-2])}let O=null,H=null;c.rewind&&(t.isBeginning?H=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(O=0));const M=(W-n[K])/I,E=K<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(B>c.longSwipesMs){if(!c.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(M>=c.longSwipesRatio?t.slideTo(c.rewind&&t.isEnd?O:K+E):t.slideTo(K)),t.swipeDirection==="prev"&&(M>1-c.longSwipesRatio?t.slideTo(K+E):H!==null&&M<0&&Math.abs(M)>c.longSwipesRatio?t.slideTo(H):t.slideTo(K))}else{if(!c.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(j.target===t.navigation.nextEl||j.target===t.navigation.prevEl)?j.target===t.navigation.nextEl?t.slideTo(K+E):t.slideTo(K):(t.swipeDirection==="next"&&t.slideTo(O!==null?O:K+E),t.swipeDirection==="prev"&&t.slideTo(H!==null?H:K))}}function P5(){const e=this,{params:t,el:s}=e;if(s&&s.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:l,allowSlidePrev:c,snapGrid:d}=e,m=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const n=m&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!n?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!m?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=c,e.allowSlideNext=l,e.params.watchOverflow&&d!==e.snapGrid&&e.checkOverflow()}function oU(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function aU(){const e=this,{wrapperEl:t,rtlTranslate:s,enabled:l}=e;if(!l)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let c;const d=e.maxTranslate()-e.minTranslate();d===0?c=0:c=(e.translate-e.minTranslate())/d,c!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function lU(e){const t=this;ev(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}let D5=!1;function cU(){}const SA=(e,t)=>{const s=Wf(),{params:l,el:c,wrapperEl:d,device:m}=e,n=!!l.nested,S=t==="on"?"addEventListener":"removeEventListener",j=t;c[S]("pointerdown",e.onTouchStart,{passive:!1}),s[S]("pointermove",e.onTouchMove,{passive:!1,capture:n}),s[S]("pointerup",e.onTouchEnd,{passive:!0}),s[S]("pointercancel",e.onTouchEnd,{passive:!0}),s[S]("pointerout",e.onTouchEnd,{passive:!0}),s[S]("pointerleave",e.onTouchEnd,{passive:!0}),(l.preventClicks||l.preventClicksPropagation)&&c[S]("click",e.onClick,!0),l.cssMode&&d[S]("scroll",e.onScroll),l.updateOnWindowResize?e[j](m.ios||m.android?"resize orientationchange observerUpdate":"resize observerUpdate",P5,!0):e[j]("observerUpdate",P5,!0),c[S]("load",e.onLoad,{capture:!0})};function hU(){const e=this,t=Wf(),{params:s}=e;e.onTouchStart=nU.bind(e),e.onTouchMove=sU.bind(e),e.onTouchEnd=rU.bind(e),s.cssMode&&(e.onScroll=aU.bind(e)),e.onClick=oU.bind(e),e.onLoad=lU.bind(e),D5||(t.addEventListener("touchstart",cU),D5=!0),SA(e,"on")}function dU(){SA(this,"off")}const uU={attachEvents:hU,detachEvents:dU},I5=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function pU(){const e=this,{realIndex:t,initialized:s,params:l,el:c}=e,d=l.breakpoints;if(!d||d&&Object.keys(d).length===0)return;const m=e.getBreakpoint(d,e.params.breakpointsBase,e.el);if(!m||e.currentBreakpoint===m)return;const S=(m in d?d[m]:void 0)||e.originalParams,j=I5(e,l),J=I5(e,S),B=l.enabled;j&&!J?(c.classList.remove(`${l.containerModifierClass}grid`,`${l.containerModifierClass}grid-column`),e.emitContainerClasses()):!j&&J&&(c.classList.add(`${l.containerModifierClass}grid`),(S.grid.fill&&S.grid.fill==="column"||!S.grid.fill&&l.grid.fill==="column")&&c.classList.add(`${l.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(O=>{const H=l[O]&&l[O].enabled,M=S[O]&&S[O].enabled;H&&!M&&e[O].disable(),!H&&M&&e[O].enable()});const W=S.direction&&S.direction!==l.direction,K=l.loop&&(S.slidesPerView!==l.slidesPerView||W);W&&s&&e.changeDirection(),Sc(e.params,S);const I=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),B&&!I?e.disable():!B&&I&&e.enable(),e.currentBreakpoint=m,e.emit("_beforeBreakpoint",S),K&&s&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",S)}function fU(e,t="window",s){if(!e||t==="container"&&!s)return;let l=!1;const c=Dc(),d=t==="window"?c.innerHeight:s.clientHeight,m=Object.keys(e).map(n=>{if(typeof n=="string"&&n.indexOf("@")===0){const S=parseFloat(n.substr(1));return{value:d*S,point:n}}return{value:n,point:n}});m.sort((n,S)=>parseInt(n.value,10)-parseInt(S.value,10));for(let n=0;n<m.length;n+=1){const{point:S,value:j}=m[n];t==="window"?c.matchMedia(`(min-width: ${j}px)`).matches&&(l=S):j<=s.clientWidth&&(l=S)}return l||"max"}const mU={setBreakpoint:pU,getBreakpoint:fU};function gU(e,t){const s=[];return e.forEach(l=>{typeof l=="object"?Object.keys(l).forEach(c=>{l[c]&&s.push(t+c)}):typeof l=="string"&&s.push(t+l)}),s}function _U(){const e=this,{classNames:t,params:s,rtl:l,el:c,device:d}=e,m=gU(["initialized",s.direction,{"free-mode":e.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:l},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&s.grid.fill==="column"},{android:d.android},{ios:d.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);t.push(...m),c.classList.add(...t),e.emitContainerClasses()}function yU(){const e=this,{el:t,classNames:s}=e;t.classList.remove(...s),e.emitContainerClasses()}const vU={addClasses:_U,removeClasses:yU};function xU(){const e=this,{isLocked:t,params:s}=e,{slidesOffsetBefore:l}=s;if(l){const c=e.slides.length-1,d=e.slidesGrid[c]+e.slidesSizesGrid[c]+l*2;e.isLocked=e.size>d}else e.isLocked=e.snapGrid.length===1;s.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),s.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}const bU={checkOverflow:xU},L5={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function wU(e,t){return function(l={}){const c=Object.keys(l)[0],d=l[c];if(typeof d!="object"||d===null){Sc(t,l);return}if(["navigation","pagination","scrollbar"].indexOf(c)>=0&&e[c]===!0&&(e[c]={auto:!0}),!(c in e&&"enabled"in d)){Sc(t,l);return}e[c]===!0&&(e[c]={enabled:!0}),typeof e[c]=="object"&&!("enabled"in e[c])&&(e[c].enabled=!0),e[c]||(e[c]={enabled:!1}),Sc(t,l)}}const Zb={eventsEmitter:vj,update:Pj,translate:Bj,transition:jj,slide:Yj,loop:Jj,grabCursor:tU,events:uU,breakpoints:mU,checkOverflow:bU,classes:vU},Kb={};let wc=class{constructor(...t){let s,l;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?l=t[0]:[s,l]=t,l||(l={}),l=Sc({},l),s&&!l.el&&(l.el=s);const c=Wf();if(l.el&&typeof l.el=="string"&&c.querySelectorAll(l.el).length>1){const S=[];return c.querySelectorAll(l.el).forEach(j=>{const J=Sc({},l,{el:j});S.push(new wc(J))}),S}const d=this;d.__swiper__=!0,d.support=bA(),d.device=fj({userAgent:l.userAgent}),d.browser=gj(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],l.modules&&Array.isArray(l.modules)&&d.modules.push(...l.modules);const m={};d.modules.forEach(S=>{S({params:l,swiper:d,extendParams:wU(l,m),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const n=Sc({},L5,m);return d.params=Sc({},n,Kb,l),d.originalParams=Sc({},d.params),d.passedParams=Sc({},l),d.params&&d.params.on&&Object.keys(d.params.on).forEach(S=>{d.on(S,d.params.on[S])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:s,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getSlideIndex(t){const{slidesEl:s,params:l}=this,c=fd(s,`.${l.slideClass}, swiper-slide`),d=Hw(c[0]);return Hw(t)-d}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(s=>s.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:s,params:l}=t;t.slides=fd(s,`.${l.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,s){const l=this;t=Math.min(Math.max(t,0),1);const c=l.minTranslate(),m=(l.maxTranslate()-c)*t+c;l.translateTo(m,typeof s>"u"?0:s),l.updateActiveIndex(),l.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const s=t.el.className.split(" ").filter(l=>l.indexOf("swiper")===0||l.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",s.join(" "))}getSlideClasses(t){const s=this;return s.destroyed?"":t.className.split(" ").filter(l=>l.indexOf("swiper-slide")===0||l.indexOf(s.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const s=[];t.slides.forEach(l=>{const c=t.getSlideClasses(l);s.push({slideEl:l,classNames:c}),t.emit("_slideClass",l,c)}),t.emit("_slideClasses",s)}slidesPerViewDynamic(t="current",s=!1){const l=this,{params:c,slides:d,slidesGrid:m,slidesSizesGrid:n,size:S,activeIndex:j}=l;let J=1;if(c.centeredSlides){let B=d[j].swiperSlideSize,W;for(let K=j+1;K<d.length;K+=1)d[K]&&!W&&(B+=d[K].swiperSlideSize,J+=1,B>S&&(W=!0));for(let K=j-1;K>=0;K-=1)d[K]&&!W&&(B+=d[K].swiperSlideSize,J+=1,B>S&&(W=!0))}else if(t==="current")for(let B=j+1;B<d.length;B+=1)(s?m[B]+n[B]-m[j]<S:m[B]-m[j]<S)&&(J+=1);else for(let B=j-1;B>=0;B-=1)m[j]-m[B]<S&&(J+=1);return J}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:s,params:l}=t;l.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(m=>{m.complete&&ev(t,m)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function c(){const m=t.rtlTranslate?t.translate*-1:t.translate,n=Math.min(Math.max(m,t.maxTranslate()),t.minTranslate());t.setTranslate(n),t.updateActiveIndex(),t.updateSlidesClasses()}let d;if(t.params.freeMode&&t.params.freeMode.enabled)c(),t.params.autoHeight&&t.updateAutoHeight();else{if((t.params.slidesPerView==="auto"||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides){const m=t.virtual&&t.params.virtual.enabled?t.virtual.slides:t.slides;d=t.slideTo(m.length-1,0,!1,!0)}else d=t.slideTo(t.activeIndex,0,!1,!0);d||c()}l.watchOverflow&&s!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,s=!0){const l=this,c=l.params.direction;return t||(t=c==="horizontal"?"vertical":"horizontal"),t===c||t!=="horizontal"&&t!=="vertical"||(l.el.classList.remove(`${l.params.containerModifierClass}${c}`),l.el.classList.add(`${l.params.containerModifierClass}${t}`),l.emitContainerClasses(),l.params.direction=t,l.slides.forEach(d=>{t==="vertical"?d.style.width="":d.style.height=""}),l.emit("changeDirection"),s&&l.update()),l}changeLanguageDirection(t){const s=this;s.rtl&&t==="rtl"||!s.rtl&&t==="ltr"||(s.rtl=t==="rtl",s.rtlTranslate=s.params.direction==="horizontal"&&s.rtl,s.rtl?(s.el.classList.add(`${s.params.containerModifierClass}rtl`),s.el.dir="rtl"):(s.el.classList.remove(`${s.params.containerModifierClass}rtl`),s.el.dir="ltr"),s.update())}mount(t){const s=this;if(s.mounted)return!0;let l=t||s.params.el;if(typeof l=="string"&&(l=document.querySelector(l)),!l)return!1;l.swiper=s,l.shadowEl&&(s.isElement=!0);const c=()=>`.${(s.params.wrapperClass||"").trim().split(" ").join(".")}`;let m=(()=>l&&l.shadowRoot&&l.shadowRoot.querySelector?l.shadowRoot.querySelector(c()):fd(l,c())[0])();return!m&&s.params.createElements&&(m=RS("div",s.params.wrapperClass),l.append(m),fd(l,`.${s.params.slideClass}`).forEach(n=>{m.append(n)})),Object.assign(s,{el:l,wrapperEl:m,slidesEl:s.isElement?l:m,mounted:!0,rtl:l.dir.toLowerCase()==="rtl"||ep(l,"direction")==="rtl",rtlTranslate:s.params.direction==="horizontal"&&(l.dir.toLowerCase()==="rtl"||ep(l,"direction")==="rtl"),wrongRTL:ep(m,"display")==="-webkit-box"}),!0}init(t){const s=this;return s.initialized||s.mount(t)===!1||(s.emit("beforeInit"),s.params.breakpoints&&s.setBreakpoint(),s.addClasses(),s.updateSize(),s.updateSlides(),s.params.watchOverflow&&s.checkOverflow(),s.params.grabCursor&&s.enabled&&s.setGrabCursor(),s.params.loop&&s.virtual&&s.params.virtual.enabled?s.slideTo(s.params.initialSlide+s.virtual.slidesBefore,0,s.params.runCallbacksOnInit,!1,!0):s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit,!1,!0),s.params.loop&&s.loopCreate(),s.attachEvents(),[...s.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete?ev(s,c):c.addEventListener("load",d=>{ev(s,d.target)})}),$w(s),s.initialized=!0,$w(s),s.emit("init"),s.emit("afterInit")),s}destroy(t=!0,s=!0){const l=this,{params:c,el:d,wrapperEl:m,slides:n}=l;return typeof l.params>"u"||l.destroyed||(l.emit("beforeDestroy"),l.initialized=!1,l.detachEvents(),c.loop&&l.loopDestroy(),s&&(l.removeClasses(),d.removeAttribute("style"),m.removeAttribute("style"),n&&n.length&&n.forEach(S=>{S.classList.remove(c.slideVisibleClass,c.slideActiveClass,c.slideNextClass,c.slidePrevClass),S.removeAttribute("style"),S.removeAttribute("data-swiper-slide-index")})),l.emit("destroy"),Object.keys(l.eventsListeners).forEach(S=>{l.off(S)}),t!==!1&&(l.el.swiper=null,rj(l)),l.destroyed=!0),null}static extendDefaults(t){Sc(Kb,t)}static get extendedDefaults(){return Kb}static get defaults(){return L5}static installModule(t){wc.prototype.__modules__||(wc.prototype.__modules__=[]);const s=wc.prototype.__modules__;typeof t=="function"&&s.indexOf(t)<0&&s.push(t)}static use(t){return Array.isArray(t)?(t.forEach(s=>wc.installModule(s)),wc):(wc.installModule(t),wc)}};Object.keys(Zb).forEach(e=>{Object.keys(Zb[e]).forEach(t=>{wc.prototype[t]=Zb[e][t]})});wc.use([_j,yj]);function SU(e,t,s,l){return e.params.createElements&&Object.keys(l).forEach(c=>{if(!s[c]&&s.auto===!0){let d=fd(e.el,`.${l[c]}`)[0];d||(d=RS("div",l[c]),d.className=l[c],e.el.append(d)),s[c]=d,t[c]=d}}),s}function TU({swiper:e,extendParams:t,on:s,emit:l}){t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const c=I=>(Array.isArray(I)||(I=[I].filter(O=>!!O)),I);function d(I){let O;return I&&typeof I=="string"&&e.isElement&&(O=e.el.shadowRoot.querySelector(I),O)?O:(I&&(typeof I=="string"&&(O=[...document.querySelectorAll(I)]),e.params.uniqueNavElements&&typeof I=="string"&&O.length>1&&e.el.querySelectorAll(I).length===1&&(O=e.el.querySelector(I))),I&&!O?I:O)}function m(I,O){const H=e.params.navigation;I=c(I),I.forEach(M=>{M&&(M.classList[O?"add":"remove"](...H.disabledClass.split(" ")),M.tagName==="BUTTON"&&(M.disabled=O),e.params.watchOverflow&&e.enabled&&M.classList[e.isLocked?"add":"remove"](H.lockClass))})}function n(){const{nextEl:I,prevEl:O}=e.navigation;if(e.params.loop){m(O,!1),m(I,!1);return}m(O,e.isBeginning&&!e.params.rewind),m(I,e.isEnd&&!e.params.rewind)}function S(I){I.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),l("navigationPrev"))}function j(I){I.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),l("navigationNext"))}function J(){const I=e.params.navigation;if(e.params.navigation=SU(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(I.nextEl||I.prevEl))return;let O=d(I.nextEl),H=d(I.prevEl);Object.assign(e.navigation,{nextEl:O,prevEl:H}),O=c(O),H=c(H);const M=(E,k)=>{E&&E.addEventListener("click",k==="next"?j:S),!e.enabled&&E&&E.classList.add(...I.lockClass.split(" "))};O.forEach(E=>M(E,"next")),H.forEach(E=>M(E,"prev"))}function B(){let{nextEl:I,prevEl:O}=e.navigation;I=c(I),O=c(O);const H=(M,E)=>{M.removeEventListener("click",E==="next"?j:S),M.classList.remove(...e.params.navigation.disabledClass.split(" "))};I.forEach(M=>H(M,"next")),O.forEach(M=>H(M,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?K():(J(),n())}),s("toEdge fromEdge lock unlock",()=>{n()}),s("destroy",()=>{B()}),s("enable disable",()=>{let{nextEl:I,prevEl:O}=e.navigation;I=c(I),O=c(O),[...I,...O].filter(H=>!!H).forEach(H=>H.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),s("click",(I,O)=>{let{nextEl:H,prevEl:M}=e.navigation;H=c(H),M=c(M);const E=O.target;if(e.params.navigation.hideOnClick&&!M.includes(E)&&!H.includes(E)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===E||e.pagination.el.contains(E)))return;let k;H.length?k=H[0].classList.contains(e.params.navigation.hiddenClass):M.length&&(k=M[0].classList.contains(e.params.navigation.hiddenClass)),l(k===!0?"navigationShow":"navigationHide"),[...H,...M].filter(V=>!!V).forEach(V=>V.classList.toggle(e.params.navigation.hiddenClass))}});const W=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),J(),n()},K=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),B()};Object.assign(e.navigation,{enable:W,disable:K,update:n,init:J,destroy:B})}function Jb(e=""){return`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function EU({swiper:e,extendParams:t,on:s}){t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let l=null;function c(L){const f=l;f.length!==0&&(f.innerHTML="",f.innerHTML=L)}const d=L=>(Array.isArray(L)||(L=[L].filter(f=>!!f)),L);function m(L=16){const f=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(L).replace(/x/g,f)}function n(L){L=d(L),L.forEach(f=>{f.setAttribute("tabIndex","0")})}function S(L){L=d(L),L.forEach(f=>{f.setAttribute("tabIndex","-1")})}function j(L,f){L=d(L),L.forEach(y=>{y.setAttribute("role",f)})}function J(L,f){L=d(L),L.forEach(y=>{y.setAttribute("aria-roledescription",f)})}function B(L,f){L=d(L),L.forEach(y=>{y.setAttribute("aria-controls",f)})}function W(L,f){L=d(L),L.forEach(y=>{y.setAttribute("aria-label",f)})}function K(L,f){L=d(L),L.forEach(y=>{y.setAttribute("id",f)})}function I(L,f){L=d(L),L.forEach(y=>{y.setAttribute("aria-live",f)})}function O(L){L=d(L),L.forEach(f=>{f.setAttribute("aria-disabled",!0)})}function H(L){L=d(L),L.forEach(f=>{f.setAttribute("aria-disabled",!1)})}function M(L){if(L.keyCode!==13&&L.keyCode!==32)return;const f=e.params.a11y,y=L.target;e.pagination&&e.pagination.el&&(y===e.pagination.el||e.pagination.el.contains(L.target))&&!L.target.matches(Jb(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&y===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?c(f.lastSlideMessage):c(f.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&y===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?c(f.firstSlideMessage):c(f.prevSlideMessage)),e.pagination&&y.matches(Jb(e.params.pagination.bulletClass))&&y.click())}function E(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:L,prevEl:f}=e.navigation;f&&(e.isBeginning?(O(f),S(f)):(H(f),n(f))),L&&(e.isEnd?(O(L),S(L)):(H(L),n(L)))}function k(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function V(){return k()&&e.params.pagination.clickable}function G(){const L=e.params.a11y;k()&&e.pagination.bullets.forEach(f=>{e.params.pagination.clickable&&(n(f),e.params.pagination.renderBullet||(j(f,"button"),W(f,L.paginationBulletMessage.replace(/\{\{index\}\}/,Hw(f)+1)))),f.matches(Jb(e.params.pagination.bulletActiveClass))?f.setAttribute("aria-current","true"):f.removeAttribute("aria-current")})}const C=(L,f,y)=>{n(L),L.tagName!=="BUTTON"&&(j(L,"button"),L.addEventListener("keydown",M)),W(L,y),B(L,f)},ie=()=>{e.a11y.clicked=!0},Q=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},N=L=>{if(e.a11y.clicked)return;const f=L.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!f||!e.slides.includes(f))return;const y=e.slides.indexOf(f)===e.activeIndex,b=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(f);y||b||L.sourceCapabilities&&L.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(f),0))},F=()=>{const L=e.params.a11y;L.itemRoleDescriptionMessage&&J(e.slides,L.itemRoleDescriptionMessage),L.slideRole&&j(e.slides,L.slideRole);const f=e.slides.length;L.slideLabelMessage&&e.slides.forEach((y,b)=>{const P=e.params.loop?parseInt(y.getAttribute("data-swiper-slide-index"),10):b,q=L.slideLabelMessage.replace(/\{\{index\}\}/,P+1).replace(/\{\{slidesLength\}\}/,f);W(y,q)})},$=()=>{const L=e.params.a11y;e.isElement?e.el.shadowEl.append(l):e.el.append(l);const f=e.el;L.containerRoleDescriptionMessage&&J(f,L.containerRoleDescriptionMessage),L.containerMessage&&W(f,L.containerMessage);const y=e.wrapperEl,b=L.id||y.getAttribute("id")||`swiper-wrapper-${m(16)}`,P=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";K(y,b),I(y,P),F();let{nextEl:q,prevEl:ee}=e.navigation?e.navigation:{};q=d(q),ee=d(ee),q&&q.forEach(X=>C(X,b,L.nextSlideMessage)),ee&&ee.forEach(X=>C(X,b,L.prevSlideMessage)),V()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(ce=>{ce.addEventListener("keydown",M)}),e.el.addEventListener("focus",N,!0),e.el.addEventListener("pointerdown",ie,!0),e.el.addEventListener("pointerup",Q,!0)};function w(){l&&l.remove();let{nextEl:L,prevEl:f}=e.navigation?e.navigation:{};L=d(L),f=d(f),L&&L.forEach(y=>y.removeEventListener("keydown",M)),f&&f.forEach(y=>y.removeEventListener("keydown",M)),V()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(b=>{b.removeEventListener("keydown",M)}),e.el.removeEventListener("focus",N,!0),e.el.removeEventListener("pointerdown",ie,!0),e.el.removeEventListener("pointerup",Q,!0)}s("beforeInit",()=>{l=RS("span",e.params.a11y.notificationClass),l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true")}),s("afterInit",()=>{e.params.a11y.enabled&&$()}),s("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&F()}),s("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&E()}),s("paginationUpdate",()=>{e.params.a11y.enabled&&G()}),s("destroy",()=>{e.params.a11y.enabled&&w()})}function zf(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function tp(e,t){const s=["__proto__","constructor","prototype"];Object.keys(t).filter(l=>s.indexOf(l)<0).forEach(l=>{typeof e[l]>"u"?e[l]=t[l]:zf(t[l])&&zf(e[l])&&Object.keys(t[l]).length>0?t[l].__swiper__?e[l]=t[l]:tp(e[l],t[l]):e[l]=t[l]})}function TA(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function EA(e={}){return e.pagination&&typeof e.pagination.el>"u"}function CA(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function MA(e=""){const t=e.split(" ").map(l=>l.trim()).filter(l=>!!l),s=[];return t.forEach(l=>{s.indexOf(l)<0&&s.push(l)}),s.join(" ")}function CU(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}const AA=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function O5(e={},t=!0){const s={on:{}},l={},c={};tp(s,wc.defaults),tp(s,wc.extendedDefaults),s._emitClasses=!0,s.init=!1;const d={},m=AA.map(S=>S.replace(/_/,"")),n=Object.assign({},e);return Object.keys(n).forEach(S=>{typeof e[S]>"u"||(m.indexOf(S)>=0?zf(e[S])?(s[S]={},c[S]={},tp(s[S],e[S]),tp(c[S],e[S])):(s[S]=e[S],c[S]=e[S]):S.search(/on[A-Z]/)===0&&typeof e[S]=="function"?t?l[`${S[2].toLowerCase()}${S.substr(3)}`]=e[S]:s.on[`${S[2].toLowerCase()}${S.substr(3)}`]=e[S]:d[S]=e[S])}),["navigation","pagination","scrollbar"].forEach(S=>{s[S]===!0&&(s[S]={}),s[S]===!1&&delete s[S]}),{params:s,passedParams:c,rest:d,events:l}}function MU({el:e,nextEl:t,prevEl:s,paginationEl:l,scrollbarEl:c,swiper:d},m){TA(m)&&t&&s&&(d.params.navigation.nextEl=t,d.originalParams.navigation.nextEl=t,d.params.navigation.prevEl=s,d.originalParams.navigation.prevEl=s),EA(m)&&l&&(d.params.pagination.el=l,d.originalParams.pagination.el=l),CA(m)&&c&&(d.params.scrollbar.el=c,d.originalParams.scrollbar.el=c),d.init(e)}function AU(e,t,s,l,c){const d=[];if(!t)return d;const m=S=>{d.indexOf(S)<0&&d.push(S)};if(s&&l){const S=l.map(c),j=s.map(c);S.join("")!==j.join("")&&m("children"),l.length!==s.length&&m("children")}return AA.filter(S=>S[0]==="_").map(S=>S.replace(/_/,"")).forEach(S=>{if(S in e&&S in t)if(zf(e[S])&&zf(t[S])){const j=Object.keys(e[S]),J=Object.keys(t[S]);j.length!==J.length?m(S):(j.forEach(B=>{e[S][B]!==t[S][B]&&m(S)}),J.forEach(B=>{e[S][B]!==t[S][B]&&m(S)}))}else e[S]!==t[S]&&m(S)}),d}function Qb(e,t,s){e===void 0&&(e={});const l=[],c={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},d=(m,n)=>{Array.isArray(m)&&m.forEach(S=>{const j=typeof S.type=="symbol";n==="default"&&(n="container-end"),j&&S.children?d(S.children,n):S.type&&(S.type.name==="SwiperSlide"||S.type.name==="AsyncComponentWrapper")?l.push(S):c[n]&&c[n].push(S)})};return Object.keys(e).forEach(m=>{if(typeof e[m]!="function")return;const n=e[m]();d(n,m)}),s.value=t.value,t.value=l,{slides:l,slots:c}}function kU({swiper:e,slides:t,passedParams:s,changedParams:l,nextEl:c,prevEl:d,scrollbarEl:m,paginationEl:n}){const S=l.filter(Q=>Q!=="children"&&Q!=="direction"&&Q!=="wrapperClass"),{params:j,pagination:J,navigation:B,scrollbar:W,virtual:K,thumbs:I}=e;let O,H,M,E,k,V,G,C;l.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&j.thumbs&&!j.thumbs.swiper&&(O=!0),l.includes("controller")&&s.controller&&s.controller.control&&j.controller&&!j.controller.control&&(H=!0),l.includes("pagination")&&s.pagination&&(s.pagination.el||n)&&(j.pagination||j.pagination===!1)&&J&&!J.el&&(M=!0),l.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||m)&&(j.scrollbar||j.scrollbar===!1)&&W&&!W.el&&(E=!0),l.includes("navigation")&&s.navigation&&(s.navigation.prevEl||d)&&(s.navigation.nextEl||c)&&(j.navigation||j.navigation===!1)&&B&&!B.prevEl&&!B.nextEl&&(k=!0);const ie=Q=>{e[Q]&&(e[Q].destroy(),Q==="navigation"?(e.isElement&&(e[Q].prevEl.remove(),e[Q].nextEl.remove()),j[Q].prevEl=void 0,j[Q].nextEl=void 0,e[Q].prevEl=void 0,e[Q].nextEl=void 0):(e.isElement&&e[Q].el.remove(),j[Q].el=void 0,e[Q].el=void 0))};l.includes("loop")&&e.isElement&&(j.loop&&!s.loop?V=!0:!j.loop&&s.loop?G=!0:C=!0),S.forEach(Q=>{if(zf(j[Q])&&zf(s[Q]))tp(j[Q],s[Q]),(Q==="navigation"||Q==="pagination"||Q==="scrollbar")&&"enabled"in s[Q]&&!s[Q].enabled&&ie(Q);else{const N=s[Q];(N===!0||N===!1)&&(Q==="navigation"||Q==="pagination"||Q==="scrollbar")?N===!1&&ie(Q):j[Q]=s[Q]}}),S.includes("controller")&&!H&&e.controller&&e.controller.control&&j.controller&&j.controller.control&&(e.controller.control=j.controller.control),l.includes("children")&&t&&K&&j.virtual.enabled&&(K.slides=t,K.update(!0)),l.includes("children")&&t&&j.loop&&(C=!0),O&&I.init()&&I.update(!0),H&&(e.controller.control=j.controller.control),M&&(e.isElement&&(!n||typeof n=="string")&&(n=document.createElement("div"),n.classList.add("swiper-pagination"),e.el.shadowEl.appendChild(n)),n&&(j.pagination.el=n),J.init(),J.render(),J.update()),E&&(e.isElement&&(!m||typeof m=="string")&&(m=document.createElement("div"),m.classList.add("swiper-scrollbar"),e.el.shadowEl.appendChild(m)),m&&(j.scrollbar.el=m),W.init(),W.updateSize(),W.setTranslate()),k&&(e.isElement&&((!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-next"),e.el.shadowEl.appendChild(c)),(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-button-prev"),e.el.shadowEl.appendChild(d))),c&&(j.navigation.nextEl=c),d&&(j.navigation.prevEl=d),B.init(),B.update()),l.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),l.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),l.includes("direction")&&e.changeDirection(s.direction,!1),(V||C)&&e.loopDestroy(),(G||C)&&e.loopCreate(),e.update()}function PU(e,t,s){if(!s)return null;const l=J=>{let B=J;return J<0?B=t.length+J:B>=t.length&&(B=B-t.length),B},c=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${s.offset}px`}:{top:`${s.offset}px`},{from:d,to:m}=s,n=e.value.params.loop?-t.length:0,S=e.value.params.loop?t.length*2:t.length,j=[];for(let J=n;J<S;J+=1)J>=d&&J<=m&&j.push(t[l(J)]);return j.map(J=>(J.props||(J.props={}),J.props.style||(J.props.style={}),J.props.swiperRef=e,J.props.style=c,Zl(J.type,{...J.props},J.children)))}const DU=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},IU={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,t){let{slots:s,emit:l}=t;const{tag:c,wrapperTag:d}=e,m=co("swiper"),n=co(null),S=co(!1),j=co(!1),J=co(null),B=co(null),W=co(null),K={value:[]},I={value:[]},O=co(null),H=co(null),M=co(null),E=co(null),{params:k,passedParams:V}=O5(e,!1);Qb(s,K,I),W.value=V,I.value=K.value;const G=()=>{Qb(s,K,I),S.value=!0};k.onAny=function(Q){for(var N=arguments.length,F=new Array(N>1?N-1:0),$=1;$<N;$++)F[$-1]=arguments[$];l(Q,...F)},Object.assign(k.on,{_beforeBreakpoint:G,_containerClasses(Q,N){m.value=N}});const C={...k};if(delete C.wrapperClass,B.value=new wc(C),B.value.virtual&&B.value.params.virtual.enabled){B.value.virtual.slides=K.value;const Q={cache:!1,slides:K.value,renderExternal:N=>{n.value=N},renderExternalUpdate:!1};tp(B.value.params.virtual,Q),tp(B.value.originalParams.virtual,Q)}Gf(()=>{!j.value&&B.value&&(B.value.emitSlidesClasses(),j.value=!0);const{passedParams:Q}=O5(e,!1),N=AU(Q,W.value,K.value,I.value,F=>F.props&&F.props.key);W.value=Q,(N.length||S.value)&&B.value&&!B.value.destroyed&&kU({swiper:B.value,slides:K.value,passedParams:Q,changedParams:N,nextEl:O.value,prevEl:H.value,scrollbarEl:E.value,paginationEl:M.value}),S.value=!1}),Mm("swiper",B),ah(n,()=>{Cm(()=>{DU(B.value)})}),yd(()=>{J.value&&(MU({el:J.value,nextEl:O.value,prevEl:H.value,paginationEl:M.value,scrollbarEl:E.value,swiper:B.value},k),l("swiper",B.value))}),Vf(()=>{B.value&&!B.value.destroyed&&B.value.destroy(!0,!1)});function ie(Q){return k.virtual?PU(B,Q,n.value):(Q.forEach((N,F)=>{N.props||(N.props={}),N.props.swiperRef=B,N.props.swiperSlideIndex=F}),Q)}return()=>{const{slides:Q,slots:N}=Qb(s,K,I);return Zl(c,{ref:J,class:MA(m.value)},[N["container-start"],Zl(d,{class:CU(k.wrapperClass)},[N["wrapper-start"],ie(Q),N["wrapper-end"]]),TA(e)&&[Zl("div",{ref:H,class:"swiper-button-prev"}),Zl("div",{ref:O,class:"swiper-button-next"})],CA(e)&&Zl("div",{ref:E,class:"swiper-scrollbar"}),EA(e)&&Zl("div",{ref:M,class:"swiper-pagination"}),N["container-end"]])}}},LU={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:s}=t,l=!1;const{swiperRef:c}=e,d=co(null),m=co("swiper-slide"),n=co(!1);function S(B,W,K){W===d.value&&(m.value=K)}yd(()=>{!c||!c.value||(c.value.on("_slideClass",S),l=!0)}),sx(()=>{l||!c||!c.value||(c.value.on("_slideClass",S),l=!0)}),Gf(()=>{!d.value||!c||!c.value||(typeof e.swiperSlideIndex<"u"&&(d.value.swiperSlideIndex=e.swiperSlideIndex),c.value.destroyed&&m.value!=="swiper-slide"&&(m.value="swiper-slide"))}),Vf(()=>{!c||!c.value||c.value.off("_slideClass",S)});const j=Am(()=>({isActive:m.value.indexOf("swiper-slide-active")>=0,isVisible:m.value.indexOf("swiper-slide-visible")>=0,isPrev:m.value.indexOf("swiper-slide-prev")>=0,isNext:m.value.indexOf("swiper-slide-next")>=0}));Mm("swiperSlide",j);const J=()=>{n.value=!0};return()=>Zl(e.tag,{class:MA(`${m.value}`),ref:d,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&c&&c.value&&c.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:J},e.zoom?Zl("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[s.default&&s.default(j.value),e.lazy&&!n.value&&Zl("div",{class:"swiper-lazy-preloader"})]):[s.default&&s.default(j.value),e.lazy&&!n.value&&Zl("div",{class:"swiper-lazy-preloader"})])}},OU={props:{fleet:Object,active:String},components:{Swiper:IU,SwiperSlide:LU},setup(){return{auto:!0,onSwiper:s=>{},onSlideChange:()=>{},modules:[TU,EU]}}},RU={class:"swiper-button-prev"},BU=["src"],zU=["href"],NU=["href"],FU=["href"],jU=["href"],UU=["href"],GU=["href"],VU=["href"],HU=["href"],$U=["href"],WU=["href"],qU=["href"],YU={class:"swiper-button-next"},XU=["src"];function ZU(e,t,s,l,c,d){const m=ds("swiper-slide"),n=ds("swiper");return di(),lh(n,{"slides-per-view":"auto","space-between":0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},onSwiper:l.onSwiper,onSlideChange:l.onSlideChange},{default:io(()=>[et("div",RU,[et("img",{src:"/img/icons/chevron-prev.png",alt:""},null,8,BU)]),en(m,null,{default:io(()=>[et("a",{href:`/fleet/${s.fleet.id}`,class:zr(["submenu-item",{active:s.active=="info"}])},"NAVIGASI",10,zU)]),_:1}),en(m,null,{default:io(()=>[et("a",{href:`/fleet/${s.fleet.id}/engine`,class:zr(["submenu-item",{active:s.active=="engine"}])},"ENGINE",10,NU)]),_:1}),en(m,null,{default:io(()=>[et("a",{href:`/fleet/${s.fleet.id}/cargo`,class:zr(["submenu-item",{active:s.active=="cargo"}])},"CARGO",10,FU)]),_:1}),en(m,null,{default:io(()=>[et("a",{href:`/fleet/${s.fleet.id}/bunker`,class:zr(["submenu-item",{active:s.active=="bunker"}])},"BUNKER TANK",10,jU)]),_:1}),en(m,null,{default:io(()=>[et("a",{href:`/fleet/${s.fleet.id}/balast`,class:zr(["submenu-item",{active:s.active=="balast"}])},"BALAST TANK",10,UU)]),_:1}),en(m,null,{default:io(()=>[et("a",{href:`/fleet/${s.fleet.id}/diagnotics`,class:zr(["submenu-item",{active:s.active=="diagnotics"}])},"DIAGNOSTICS",10,GU)]),_:1}),en(m,null,{default:io(()=>[et("a",{href:`/fleet/${s.fleet.id}/alarms`,class:zr(["submenu-item",{active:s.active=="alarms"}])},"ALARM",10,VU)]),_:1}),en(m,null,{default:io(()=>[et("a",{href:`/fleet/${s.fleet.id}/emision`,class:zr(["submenu-item",{active:s.active=="emision"}])},"EMISION REPORT",10,HU)]),_:1}),en(m,null,{default:io(()=>[et("a",{href:`/fleet/${s.fleet.id}/docs`,class:zr(["submenu-item",{active:s.active=="docs"}])},"DOCUMENTS",10,$U)]),_:1}),en(m,null,{default:io(()=>[et("a",{href:`/fleet/${s.fleet.id}/reports`,class:zr(["submenu-item",{active:s.active=="reports"}])},"REPORTS",10,WU)]),_:1}),en(m,null,{default:io(()=>[et("a",{href:`/fleet/${s.fleet.id}/charter`,class:zr(["submenu-item",{active:s.active=="charter"}])},"CHARTER",10,qU)]),_:1}),et("div",YU,[et("img",{src:"/img/icons/chevron-next.png",alt:""},null,8,XU)])]),_:1},8,["navigation","onSwiper","onSlideChange"])}const KU=Rs(OU,[["render",ZU]]);var _p={},JU={get exports(){return _p},set exports(e){_p=e}},Lv={},QU={get exports(){return Lv},set exports(e){Lv=e}},R5;function kA(){return R5||(R5=1,function(e){(function(t,s){e.exports?(s.default=s,e.exports=t.document?s(t):s):(t.Highcharts&&t.Highcharts.error(16,!0),t.Highcharts=s(t))})(typeof window<"u"?window:ea,function(t){function s(c,d,m,n){c.hasOwnProperty(d)||(c[d]=n.apply(null,m),typeof CustomEvent=="function"&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:d,module:c[d]}})))}var l={};return s(l,"Core/Globals.js",[],function(){var c;return function(d){d.SVG_NS="http://www.w3.org/2000/svg",d.product="Highcharts",d.version="11.0.1",d.win=typeof t<"u"?t:{},d.doc=d.win.document,d.svg=d.doc&&d.doc.createElementNS&&!!d.doc.createElementNS(d.SVG_NS,"svg").createSVGRect,d.userAgent=d.win.navigator&&d.win.navigator.userAgent||"",d.isChrome=d.userAgent.indexOf("Chrome")!==-1,d.isFirefox=d.userAgent.indexOf("Firefox")!==-1,d.isMS=/(edge|msie|trident)/i.test(d.userAgent)&&!d.win.opera,d.isSafari=!d.isChrome&&d.userAgent.indexOf("Safari")!==-1,d.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(d.userAgent),d.isWebKit=d.userAgent.indexOf("AppleWebKit")!==-1,d.deg2rad=2*Math.PI/360,d.hasBidiBug=d.isFirefox&&4>parseInt(d.userAgent.split("Firefox/")[1],10),d.hasTouch=!!d.win.TouchEvent,d.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],d.noop=function(){},d.supportsPassiveEvents=function(){let m=!1;if(!d.isMS){const n=Object.defineProperty({},"passive",{get:function(){m=!0}});d.win.addEventListener&&d.win.removeEventListener&&(d.win.addEventListener("testPassive",d.noop,n),d.win.removeEventListener("testPassive",d.noop,n))}return m}(),d.charts=[],d.dateFormats={},d.seriesTypes={},d.symbolSizes={},d.chartCount=0}(c||(c={})),c}),s(l,"Core/Utilities.js",[l["Core/Globals.js"]],function(c){function d(y,b,P,q){const ee=b?"Highcharts error":"Highcharts warning";y===32&&(y=`${ee}: Deprecated member`);const X=K(y);let ce=X?`${ee} #${y}: www.highcharts.com/errors/${y}/`:y.toString();if(typeof q<"u"){let fe="";X&&(ce+="?"),C(q,function(Te,Z){fe+=`
 - ${Z}: ${Te}`,X&&(ce+=encodeURI(Z)+"="+encodeURI(Te))}),ce+=fe}Q(c,"displayError",{chart:P,code:y,message:ce,params:q},function(){if(b)throw Error(ce);$.console&&d.messages.indexOf(ce)===-1&&console.warn(ce)}),d.messages.push(ce)}function m(y,b){const P={};return C(y,function(q,ee){J(y[ee],!0)&&!y.nodeType&&b[ee]?(q=m(y[ee],b[ee]),Object.keys(q).length&&(P[ee]=q)):(J(y[ee])||y[ee]!==b[ee]||ee in y&&!(ee in b))&&(P[ee]=y[ee])}),P}function n(y,b){return parseInt(y,b||10)}function S(y){return typeof y=="string"}function j(y){return y=Object.prototype.toString.call(y),y==="[object Array]"||y==="[object Array Iterator]"}function J(y,b){return!!y&&typeof y=="object"&&(!b||!j(y))}function B(y){return J(y)&&typeof y.nodeType=="number"}function W(y){const b=y&&y.constructor;return!(!J(y,!0)||B(y)||!b||!b.name||b.name==="Object")}function K(y){return typeof y=="number"&&!isNaN(y)&&1/0>y&&-1/0<y}function I(y){return typeof y<"u"&&y!==null}function O(y,b,P){const q=S(b)&&!I(P);let ee;const X=(ce,fe)=>{I(ce)?y.setAttribute(fe,ce):q?(ee=y.getAttribute(fe))||fe!=="class"||(ee=y.getAttribute(fe+"Name")):y.removeAttribute(fe)};return S(b)?X(P,b):C(b,X),ee}function H(y,b){let P;y||(y={});for(P in b)y[P]=b[P];return y}function M(){const y=arguments,b=y.length;for(let P=0;P<b;P++){const q=y[P];if(typeof q<"u"&&q!==null)return q}}function E(y,b){c.isMS&&!c.svg&&b&&I(b.opacity)&&(b.filter=`alpha(opacity=${100*b.opacity})`),H(y.style,b)}function k(y){return Math.pow(10,Math.floor(Math.log(y)/Math.LN10))}function V(y,b){return 1e14<y?y:parseFloat(y.toPrecision(b||14))}function G(y,b,P){let q;return b==="width"?(b=Math.min(y.offsetWidth,y.scrollWidth),P=y.getBoundingClientRect&&y.getBoundingClientRect().width,P<b&&P>=b-1&&(b=Math.floor(P)),Math.max(0,b-(G(y,"padding-left",!0)||0)-(G(y,"padding-right",!0)||0))):b==="height"?Math.max(0,Math.min(y.offsetHeight,y.scrollHeight)-(G(y,"padding-top",!0)||0)-(G(y,"padding-bottom",!0)||0)):((y=$.getComputedStyle(y,void 0))&&(q=y.getPropertyValue(b),M(P,b!=="opacity")&&(q=n(q))),q)}function C(y,b,P){for(const q in y)Object.hasOwnProperty.call(y,q)&&b.call(P||y[q],y[q],q,y)}function ie(y,b,P){function q(ce,fe){const Te=y.removeEventListener;Te&&Te.call(y,ce,fe,!1)}function ee(ce){let fe,Te;y.nodeName&&(b?(fe={},fe[b]=!0):fe=ce,C(fe,function(Z,re){if(ce[re])for(Te=ce[re].length;Te--;)q(re,ce[re][Te].fn)}))}var X=typeof y=="function"&&y.prototype||y;if(Object.hasOwnProperty.call(X,"hcEvents")){const ce=X.hcEvents;b?(X=ce[b]||[],P?(ce[b]=X.filter(function(fe){return P!==fe.fn}),q(b,P)):(ee(ce),ce[b]=[])):(ee(ce),delete X.hcEvents)}}function Q(y,b,P,q){if(P=P||{},F.createEvent&&(y.dispatchEvent||y.fireEvent&&y!==c)){var ee=F.createEvent("Events");ee.initEvent(b,!0,!0),P=H(ee,P),y.dispatchEvent?y.dispatchEvent(P):y.fireEvent(b,P)}else if(y.hcEvents){P.target||H(P,{preventDefault:function(){P.defaultPrevented=!0},target:y,type:b}),ee=[];let X=y,ce=!1;for(;X.hcEvents;)Object.hasOwnProperty.call(X,"hcEvents")&&X.hcEvents[b]&&(ee.length&&(ce=!0),ee.unshift.apply(ee,X.hcEvents[b])),X=Object.getPrototypeOf(X);ce&&ee.sort((fe,Te)=>fe.order-Te.order),ee.forEach(fe=>{fe.fn.call(y,P)===!1&&P.preventDefault()})}q&&!P.defaultPrevented&&q.call(y,P)}const{charts:N,doc:F,win:$}=c;(d||(d={})).messages=[],Math.easeInOutSine=function(y){return-.5*(Math.cos(Math.PI*y)-1)};var w=Array.prototype.find?function(y,b){return y.find(b)}:function(y,b){let P;const q=y.length;for(P=0;P<q;P++)if(b(y[P],P))return y[P]};C({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(y,b){c[b]=function(P){return d(32,!1,void 0,{[`Highcharts.${b}`]:`use Array.${y}`}),Array.prototype[y].apply(P,[].slice.call(arguments,1))}});let L;const f=function(){const y=Math.random().toString(36).substring(2,9)+"-";let b=0;return function(){return"highcharts-"+(L?"":y)+b++}}();return $.jQuery&&($.jQuery.fn.highcharts=function(){const y=[].slice.call(arguments);if(this[0])return y[0]?(new c[S(y[0])?y.shift():"Chart"](this[0],y[0],y[1]),this):N[O(this[0],"data-highcharts-chart")]}),w={addEvent:function(y,b,P,q={}){var ee=typeof y=="function"&&y.prototype||y;Object.hasOwnProperty.call(ee,"hcEvents")||(ee.hcEvents={}),ee=ee.hcEvents,c.Point&&y instanceof c.Point&&y.series&&y.series.chart&&(y.series.chart.runTrackerClick=!0);const X=y.addEventListener;return X&&X.call(y,b,P,c.supportsPassiveEvents?{passive:q.passive===void 0?b.indexOf("touch")!==-1:q.passive,capture:!1}:!1),ee[b]||(ee[b]=[]),ee[b].push({fn:P,order:typeof q.order=="number"?q.order:1/0}),ee[b].sort((ce,fe)=>ce.order-fe.order),function(){ie(y,b,P)}},arrayMax:function(y){let b=y.length,P=y[0];for(;b--;)y[b]>P&&(P=y[b]);return P},arrayMin:function(y){let b=y.length,P=y[0];for(;b--;)y[b]<P&&(P=y[b]);return P},attr:O,clamp:function(y,b,P){return y>b?y<P?y:P:b},cleanRecursively:m,clearTimeout:function(y){I(y)&&clearTimeout(y)},correctFloat:V,createElement:function(y,b,P,q,ee){return y=F.createElement(y),b&&H(y,b),ee&&E(y,{padding:"0",border:"none",margin:"0"}),P&&E(y,P),q&&q.appendChild(y),y},css:E,defined:I,destroyObjectProperties:function(y,b){C(y,function(P,q){P&&P!==b&&P.destroy&&P.destroy(),delete y[q]})},discardElement:function(y){y&&y.parentElement&&y.parentElement.removeChild(y)},erase:function(y,b){let P=y.length;for(;P--;)if(y[P]===b){y.splice(P,1);break}},error:d,extend:H,extendClass:function(y,b){const P=function(){};return P.prototype=new y,H(P.prototype,b),P},find:w,fireEvent:Q,getMagnitude:k,getNestedProperty:function(y,b){for(y=y.split(".");y.length&&I(b);){const P=y.shift();if(typeof P>"u"||P==="__proto__"||(b=b[P],!I(b)||typeof b=="function"||typeof b.nodeType=="number"||b===$))return}return b},getStyle:G,inArray:function(y,b,P){return d(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),b.indexOf(y,P)},isArray:j,isClass:W,isDOMElement:B,isFunction:function(y){return typeof y=="function"},isNumber:K,isObject:J,isString:S,keys:function(y){return d(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(y)},merge:function(){let y,b=arguments,P={};const q=function(X,ce){return typeof X!="object"&&(X={}),C(ce,function(fe,Te){Te!=="__proto__"&&Te!=="constructor"&&(!J(fe,!0)||W(fe)||B(fe)?X[Te]=ce[Te]:X[Te]=q(X[Te]||{},fe))}),X};b[0]===!0&&(P=b[1],b=Array.prototype.slice.call(b,2));const ee=b.length;for(y=0;y<ee;y++)P=q(P,b[y]);return P},normalizeTickInterval:function(y,b,P,q,ee){let X=y;P=M(P,k(y));const ce=y/P;for(b||(b=ee?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],q===!1&&(P===1?b=b.filter(function(fe){return fe%1===0}):.1>=P&&(b=[1/P]))),q=0;q<b.length&&(X=b[q],!(ee&&X*P>=y||!ee&&ce<=(b[q]+(b[q+1]||b[q]))/2));q++);return X=V(X*P,-Math.round(Math.log(.001)/Math.LN10))},objectEach:C,offset:function(y){const b=F.documentElement;return y=y.parentElement||y.parentNode?y.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:y.top+($.pageYOffset||b.scrollTop)-(b.clientTop||0),left:y.left+($.pageXOffset||b.scrollLeft)-(b.clientLeft||0),width:y.width,height:y.height}},pad:function(y,b,P){return Array((b||2)+1-String(y).replace("-","").length).join(P||"0")+y},pick:M,pInt:n,pushUnique:function(y,b){return 0>y.indexOf(b)&&!!y.push(b)},relativeLength:function(y,b,P){return/%$/.test(y)?b*parseFloat(y)/100+(P||0):parseFloat(y)},removeEvent:ie,splat:function(y){return j(y)?y:[y]},stableSort:function(y,b){const P=y.length;let q,ee;for(ee=0;ee<P;ee++)y[ee].safeI=ee;for(y.sort(function(X,ce){return q=b(X,ce),q===0?X.safeI-ce.safeI:q}),ee=0;ee<P;ee++)delete y[ee].safeI},syncTimeout:function(y,b,P){return 0<b?setTimeout(y,b,P):(y.call(0,P),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:f,useSerialIds:function(y){return L=M(y,L)},wrap:function(y,b,P){const q=y[b];y[b]=function(){const ee=arguments,X=this;return P.apply(this,[function(){return q.apply(X,arguments.length?arguments:ee)}].concat([].slice.call(arguments)))}}},w}),s(l,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),s(l,"Core/Color/Color.js",[l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d){const{isNumber:m,merge:n,pInt:S}=d;class j{static parse(B){return B?new j(B):j.None}constructor(B){this.rgba=[NaN,NaN,NaN,NaN],this.input=B;const W=c.Color;if(W&&W!==j)return new W(B);this.init(B)}init(B){let W,K;if(typeof B=="object"&&typeof B.stops<"u")this.stops=B.stops.map(H=>new j(H[1]));else if(typeof B=="string"){if(this.input=B=j.names[B.toLowerCase()]||B,B.charAt(0)==="#"){var I=B.length,O=parseInt(B.substr(1),16);I===7?W=[(O&16711680)>>16,(O&65280)>>8,O&255,1]:I===4&&(W=[(O&3840)>>4|(O&3840)>>8,(O&240)>>4|O&240,(O&15)<<4|O&15,1])}if(!W)for(O=j.parsers.length;O--&&!W;)K=j.parsers[O],(I=K.regex.exec(B))&&(W=K.parse(I))}W&&(this.rgba=W)}get(B){const W=this.input,K=this.rgba;if(typeof W=="object"&&typeof this.stops<"u"){const I=n(W);return I.stops=[].slice.call(I.stops),this.stops.forEach((O,H)=>{I.stops[H]=[I.stops[H][0],O.get(B)]}),I}return K&&m(K[0])?B==="rgb"||!B&&K[3]===1?"rgb("+K[0]+","+K[1]+","+K[2]+")":B==="a"?`${K[3]}`:"rgba("+K.join(",")+")":W}brighten(B){const W=this.rgba;if(this.stops)this.stops.forEach(function(K){K.brighten(B)});else if(m(B)&&B!==0)for(let K=0;3>K;K++)W[K]+=S(255*B),0>W[K]&&(W[K]=0),255<W[K]&&(W[K]=255);return this}setOpacity(B){return this.rgba[3]=B,this}tweenTo(B,W){const K=this.rgba,I=B.rgba;return!m(K[0])||!m(I[0])?B.input||"none":(B=I[3]!==1||K[3]!==1,(B?"rgba(":"rgb(")+Math.round(I[0]+(K[0]-I[0])*(1-W))+","+Math.round(I[1]+(K[1]-I[1])*(1-W))+","+Math.round(I[2]+(K[2]-I[2])*(1-W))+(B?","+(I[3]+(K[3]-I[3])*(1-W)):"")+")")}}return j.names={white:"#ffffff",black:"#000000"},j.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(J){return[S(J[1]),S(J[2]),S(J[3]),parseFloat(J[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(J){return[S(J[1]),S(J[2]),S(J[3]),1]}}],j.None=new j(""),j}),s(l,"Core/Color/Palettes.js",[],function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}}),s(l,"Core/Time.js",[l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d){const{win:m}=c,{defined:n,error:S,extend:j,isObject:J,merge:B,objectEach:W,pad:K,pick:I,splat:O,timeUnits:H}=d,M=c.isSafari&&m.Intl&&m.Intl.DateTimeFormat.prototype.formatRange,E=c.isSafari&&m.Intl&&!m.Intl.DateTimeFormat.prototype.formatRange;class k{constructor(G){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=m.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(G)}get(G,C){if(this.variableTimezone||this.timezoneOffset){const ie=C.getTime(),Q=ie-this.getTimezoneOffset(C);return C.setTime(Q),G=C["getUTC"+G](),C.setTime(ie),G}return this.useUTC?C["getUTC"+G]():C["get"+G]()}set(G,C,ie){if(this.variableTimezone||this.timezoneOffset){if(G==="Milliseconds"||G==="Seconds"||G==="Minutes"&&this.getTimezoneOffset(C)%36e5===0)return C["setUTC"+G](ie);var Q=this.getTimezoneOffset(C);return Q=C.getTime()-Q,C.setTime(Q),C["setUTC"+G](ie),G=this.getTimezoneOffset(C),Q=C.getTime()+G,C.setTime(Q)}return this.useUTC||M&&G==="FullYear"?C["setUTC"+G](ie):C["set"+G](ie)}update(G={}){const C=I(G.useUTC,!0);this.options=G=B(!0,this.options,G),this.Date=G.Date||m.Date||Date,this.timezoneOffset=(this.useUTC=C)&&G.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=C&&!(!G.getTimezoneOffset&&!G.timezone)}makeTime(G,C,ie,Q,N,F){let $,w,L;return this.useUTC?($=this.Date.UTC.apply(0,arguments),w=this.getTimezoneOffset($),$+=w,L=this.getTimezoneOffset($),w!==L?$+=L-w:w-36e5!==this.getTimezoneOffset($-36e5)||E||($-=36e5)):$=new this.Date(G,C,I(ie,1),I(Q,0),I(N,0),I(F,0)).getTime(),$}timezoneOffsetFunction(){const G=this,C=this.options,ie=C.getTimezoneOffset,Q=C.moment||m.moment;if(!this.useUTC)return function(N){return 6e4*new Date(N.toString()).getTimezoneOffset()};if(C.timezone){if(Q)return function(N){return 6e4*-Q.tz(N,C.timezone).utcOffset()};S(25)}return this.useUTC&&ie?function(N){return 6e4*ie(N.valueOf())}:function(){return 6e4*(G.timezoneOffset||0)}}dateFormat(G,C,ie){if(!n(C)||isNaN(C))return c.defaultOptions.lang&&c.defaultOptions.lang.invalidDate||"";G=I(G,"%Y-%m-%d %H:%M:%S");const Q=this;var N=new this.Date(C);const F=this.get("Hours",N),$=this.get("Day",N),w=this.get("Date",N),L=this.get("Month",N),f=this.get("FullYear",N),y=c.defaultOptions.lang,b=y&&y.weekdays,P=y&&y.shortWeekdays;return N=j({a:P?P[$]:b[$].substr(0,3),A:b[$],d:K(w),e:K(w,2," "),w:$,b:y.shortMonths[L],B:y.months[L],m:K(L+1),o:L+1,y:f.toString().substr(2,2),Y:f,H:K(F),k:F,I:K(F%12||12),l:F%12||12,M:K(this.get("Minutes",N)),p:12>F?"AM":"PM",P:12>F?"am":"pm",S:K(N.getSeconds()),L:K(Math.floor(C%1e3),3)},c.dateFormats),W(N,function(q,ee){for(;G.indexOf("%"+ee)!==-1;)G=G.replace("%"+ee,typeof q=="function"?q.call(Q,C):q)}),ie?G.substr(0,1).toUpperCase()+G.substr(1):G}resolveDTLFormat(G){return J(G,!0)?G:(G=O(G),{main:G[0],from:G[1],to:G[2]})}getTimeTicks(G,C,ie,Q){const N=this,F=[],$={};var w=new N.Date(C);const L=G.unitRange,f=G.count||1;let y;if(Q=I(Q,1),n(C)){if(N.set("Milliseconds",w,L>=H.second?0:f*Math.floor(N.get("Milliseconds",w)/f)),L>=H.second&&N.set("Seconds",w,L>=H.minute?0:f*Math.floor(N.get("Seconds",w)/f)),L>=H.minute&&N.set("Minutes",w,L>=H.hour?0:f*Math.floor(N.get("Minutes",w)/f)),L>=H.hour&&N.set("Hours",w,L>=H.day?0:f*Math.floor(N.get("Hours",w)/f)),L>=H.day&&N.set("Date",w,L>=H.month?1:Math.max(1,f*Math.floor(N.get("Date",w)/f))),L>=H.month){N.set("Month",w,L>=H.year?0:f*Math.floor(N.get("Month",w)/f));var b=N.get("FullYear",w)}L>=H.year&&N.set("FullYear",w,b-b%f),L===H.week&&(b=N.get("Day",w),N.set("Date",w,N.get("Date",w)-b+Q+(b<Q?-7:0))),b=N.get("FullYear",w),Q=N.get("Month",w);const P=N.get("Date",w),q=N.get("Hours",w);for(C=w.getTime(),!N.variableTimezone&&N.useUTC||!n(ie)||(y=ie-C>4*H.month||N.getTimezoneOffset(C)!==N.getTimezoneOffset(ie)),C=w.getTime(),w=1;C<ie;)F.push(C),C=L===H.year?N.makeTime(b+w*f,0):L===H.month?N.makeTime(b,Q+w*f):!y||L!==H.day&&L!==H.week?y&&L===H.hour&&1<f?N.makeTime(b,Q,P,q+w*f):C+L*f:N.makeTime(b,Q,P+w*f*(L===H.day?1:7)),w++;F.push(C),L<=H.hour&&1e4>F.length&&F.forEach(function(ee){ee%18e5===0&&N.dateFormat("%H%M%S%L",ee)==="000000000"&&($[ee]="day")})}return F.info=j(G,{higherRanks:$,totalRange:L*f}),F}getDateFormat(G,C,ie,Q){const N=this.dateFormat("%m-%d %H:%M:%S.%L",C),F={millisecond:15,second:12,minute:9,hour:6,day:3};let $,w="millisecond";for($ in H){if(G===H.week&&+this.dateFormat("%w",C)===ie&&N.substr(6)==="00:00:00.000"){$="week";break}if(H[$]>G){$=w;break}if(F[$]&&N.substr(F[$])!=="01-01 00:00:00.000".substr(F[$]))break;$!=="week"&&(w=$)}return this.resolveDTLFormat(Q[$]).main}}return k}),s(l,"Core/Defaults.js",[l["Core/Chart/ChartDefaults.js"],l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Color/Palettes.js"],l["Core/Time.js"],l["Core/Utilities.js"]],function(c,d,m,n,S,j){const{isTouchDevice:J,svg:B}=m,{merge:W}=j,K={colors:n.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:c,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:B,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:J?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};K.chart.styledMode=!1;const I=new S(K.time);return c={defaultOptions:K,defaultTime:I,getOptions:function(){return K},setOptions:function(O){return W(!0,K,O),(O.time||O.global)&&(m.time?m.time.update(W(K.global,K.time,O.global,O.time)):m.time=I),K}},c}),s(l,"Core/Animation/Fx.js",[l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d,m){const{parse:n}=c,{win:S}=d,{isNumber:j,objectEach:J}=m;class B{constructor(K,I,O){this.pos=NaN,this.options=I,this.elem=K,this.prop=O}dSetter(){var K=this.paths;const I=K&&K[0];K=K&&K[1];const O=this.now||0;let H=[];if(O!==1&&I&&K)if(I.length===K.length&&1>O)for(let M=0;M<K.length;M++){const E=I[M],k=K[M],V=[];for(let G=0;G<k.length;G++){const C=E[G],ie=k[G];j(C)&&j(ie)&&(k[0]!=="A"||G!==4&&G!==5)?V[G]=C+O*(ie-C):V[G]=ie}H.push(V)}else H=K;else H=this.toD||[];this.elem.attr("d",H,void 0,!0)}update(){const K=this.elem,I=this.prop,O=this.now,H=this.options.step;this[I+"Setter"]?this[I+"Setter"]():K.attr?K.element&&K.attr(I,O,null,!0):K.style[I]=O+this.unit,H&&H.call(K,O,this)}run(K,I,O){const H=this,M=H.options,E=function(G){return E.stopped?!1:H.step(G)},k=S.requestAnimationFrame||function(G){setTimeout(G,13)},V=function(){for(let G=0;G<B.timers.length;G++)B.timers[G]()||B.timers.splice(G--,1);B.timers.length&&k(V)};K!==I||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=K,this.end=I,this.unit=O,this.now=this.start,this.pos=0,E.elem=this.elem,E.prop=this.prop,E()&&B.timers.push(E)===1&&k(V)):(delete M.curAnim[this.prop],M.complete&&Object.keys(M.curAnim).length===0&&M.complete.call(this.elem))}step(K){const I=+new Date,O=this.options,H=this.elem,M=O.complete,E=O.duration,k=O.curAnim;let V;return H.attr&&!H.element?K=!1:K||I>=E+this.startTime?(this.now=this.end,this.pos=1,this.update(),V=k[this.prop]=!0,J(k,function(G){G!==!0&&(V=!1)}),V&&M&&M.call(H),K=!1):(this.pos=O.easing((I-this.startTime)/E),this.now=this.start+(this.end-this.start)*this.pos,this.update(),K=!0),K}initPath(K,I,O){function H(N,F){for(;N.length<ie;){var $=N[0];const w=F[ie-N.length];w&&$[0]==="M"&&(N[0]=w[0]==="C"?["C",$[1],$[2],$[1],$[2],$[1],$[2]]:["L",$[1],$[2]]),N.unshift($),V&&($=N.pop(),N.push(N[N.length-1],$))}}function M(N,F){for(;N.length<ie;)if(F=N[Math.floor(N.length/G)-1].slice(),F[0]==="C"&&(F[1]=F[5],F[2]=F[6]),V){const $=N[Math.floor(N.length/G)].slice();N.splice(N.length/2,0,F,$)}else N.push(F)}const E=K.startX,k=K.endX;O=O.slice();const V=K.isArea,G=V?2:1;let C,ie,Q;if(I=I&&I.slice(),!I)return[O,O];if(E&&k&&k.length){for(K=0;K<E.length;K++)if(E[K]===k[0]){C=K;break}else if(E[0]===k[k.length-E.length+K]){C=K,Q=!0;break}else if(E[E.length-1]===k[k.length-E.length+K]){C=E.length-K;break}typeof C>"u"&&(I=[])}return I.length&&j(C)&&(ie=O.length+C*G,Q?(H(I,O),M(O,I)):(H(O,I),M(I,O))),[I,O]}fillSetter(){B.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,n(this.start).tweenTo(n(this.end),this.pos),void 0,!0)}}return B.timers=[],B}),s(l,"Core/Animation/AnimationUtilities.js",[l["Core/Animation/Fx.js"],l["Core/Utilities.js"]],function(c,d){function m(H){return W(H)?K({duration:500,defer:0},H):{duration:H?500:0,defer:0}}function n(H,M){let E=c.timers.length;for(;E--;)c.timers[E].elem!==H||M&&M!==c.timers[E].prop||(c.timers[E].stopped=!0)}const{defined:S,getStyle:j,isArray:J,isNumber:B,isObject:W,merge:K,objectEach:I,pick:O}=d;return{animate:function(H,M,E){let k,V="",G,C,ie;W(E)||(ie=arguments,E={duration:ie[2],easing:ie[3],complete:ie[4]}),B(E.duration)||(E.duration=400),E.easing=typeof E.easing=="function"?E.easing:Math[E.easing]||Math.easeInOutSine,E.curAnim=K(M),I(M,function(Q,N){n(H,N),C=new c(H,E,N),G=void 0,N==="d"&&J(M.d)?(C.paths=C.initPath(H,H.pathArray,M.d),C.toD=M.d,k=0,G=1):H.attr?k=H.attr(N):(k=parseFloat(j(H,N))||0,N!=="opacity"&&(V="px")),G||(G=Q),typeof G=="string"&&G.match("px")&&(G=G.replace(/px/g,"")),C.run(k,G,V)})},animObject:m,getDeferredAnimation:function(H,M,E){const k=m(M);let V=0,G=0;return(E?[E]:H.series).forEach(C=>{C=m(C.options.animation),V=M&&S(M.defer)?k.defer:Math.max(V,C.duration+C.defer),G=Math.min(k.duration,C.duration)}),H.renderer.forExport&&(V=0),{defer:Math.max(0,V-G),duration:Math.min(V,G)}},setAnimation:function(H,M){M.renderer.globalAnimation=O(H,M.options.chart.animation,!0)},stop:n}}),s(l,"Core/Renderer/HTML/AST.js",[l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d){const{SVG_NS:m,win:n}=c,{attr:S,createElement:j,css:J,error:B,isFunction:W,isString:K,objectEach:I,splat:O}=d;({trustedTypes:d}=n);const H=d&&W(d.createPolicy)&&d.createPolicy("highcharts",{createHTML:V=>V});d=H?H.createHTML(""):"";try{var M=!!new DOMParser().parseFromString(d,"text/html")}catch{M=!1}const E=M;class k{static filterUserAttributes(G){return I(G,(C,ie)=>{let Q=!0;k.allowedAttributes.indexOf(ie)===-1&&(Q=!1),["background","dynsrc","href","lowsrc","src"].indexOf(ie)!==-1&&(Q=K(C)&&k.allowedReferences.some(N=>C.indexOf(N)===0)),Q||(B(33,!1,void 0,{"Invalid attribute in config":`${ie}`}),delete G[ie]),K(C)&&G[ie]&&(G[ie]=C.replace(/</g,"&lt;"))}),G}static parseStyle(G){return G.split(";").reduce((C,ie)=>{ie=ie.split(":").map(N=>N.trim());const Q=ie.shift();return Q&&ie.length&&(C[Q.replace(/-([a-z])/g,N=>N[1].toUpperCase())]=ie.join(":")),C},{})}static setElementHTML(G,C){G.innerHTML=k.emptyHTML,C&&new k(C).addToDOM(G)}constructor(G){this.nodes=typeof G=="string"?this.parseMarkup(G):G}addToDOM(G){function C(ie,Q){let N;return O(ie).forEach(function(F){var $=F.tagName;const w=F.textContent?c.doc.createTextNode(F.textContent):void 0,L=k.bypassHTMLFiltering;let f;if($)if($==="#text")f=w;else if(k.allowedTags.indexOf($)!==-1||L){$=c.doc.createElementNS($==="svg"?m:Q.namespaceURI||m,$);const y=F.attributes||{};I(F,function(b,P){P!=="tagName"&&P!=="attributes"&&P!=="children"&&P!=="style"&&P!=="textContent"&&(y[P]=b)}),S($,L?y:k.filterUserAttributes(y)),F.style&&J($,F.style),w&&$.appendChild(w),C(F.children||[],$),f=$}else B(33,!1,void 0,{"Invalid tagName in config":$});f&&Q.appendChild(f),N=f}),N}return C(this.nodes,G)}parseMarkup(G){const C=[];if(G=G.trim().replace(/ style=(["'])/g," data-style=$1"),E)G=new DOMParser().parseFromString(H?H.createHTML(G):G,"text/html");else{const Q=j("div");Q.innerHTML=G,G={body:Q}}const ie=(Q,N)=>{var F=Q.nodeName.toLowerCase();const $={tagName:F};if(F==="#text"&&($.textContent=Q.textContent||""),F=Q.attributes){const w={};[].forEach.call(F,L=>{L.name==="data-style"?$.style=k.parseStyle(L.value):w[L.name]=L.value}),$.attributes=w}if(Q.childNodes.length){const w=[];[].forEach.call(Q.childNodes,L=>{ie(L,w)}),w.length&&($.children=w)}N.push($)};return[].forEach.call(G.body.childNodes,Q=>ie(Q,C)),C}}return k.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),k.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),k.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),k.emptyHTML=d,k.bypassHTMLFiltering=!1,k}),s(l,"Core/FormatUtilities.js",[l["Core/Defaults.js"],l["Core/Utilities.js"]],function(c,d){function m(K,I,O,H){K=+K||0,I=+I;const M=n.lang;var E=(K.toString().split(".")[1]||"").split("e")[0].length;const k=K.toString().split("e"),V=I;if(I===-1)I=Math.min(E,20);else if(!J(I))I=2;else if(I&&k[1]&&0>k[1]){var G=I+ +k[1];0<=G?(k[0]=(+k[0]).toExponential(G).split("e")[0],I=G):(k[0]=k[0].split(".")[0]||0,K=20>I?(k[0]*Math.pow(10,k[1])).toFixed(I):0,k[1]=0)}G=(Math.abs(k[1]?k[0]:K)+Math.pow(10,-Math.max(I,E)-1)).toFixed(I),E=String(W(G));const C=3<E.length?E.length%3:0;return O=B(O,M.decimalPoint),H=B(H,M.thousandsSep),K=(0>K?"-":"")+(C?E.substr(0,C)+H:""),K=0>+k[1]&&!V?"0":K+E.substr(C).replace(/(\d{3})(?=\d)/g,"$1"+H),I&&(K+=O+G.slice(-I)),k[1]&&+K!=0&&(K+="e"+k[1]),K}const{defaultOptions:n,defaultTime:S}=c,{getNestedProperty:j,isNumber:J,pick:B,pInt:W}=d;return{dateFormat:function(K,I,O){return S.dateFormat(K,I,O)},format:function(K,I,O){var H="{";let M=!1,E;const k=/f$/,V=/\.([0-9])/,G=n.lang,C=O&&O.time||S;O=O&&O.numberFormatter||m;const ie=[];for(;K&&(E=K.indexOf(H),E!==-1);){var Q=K.slice(0,E);if(M){if(Q=Q.split(":"),H=j(Q.shift()||"",I),Q.length&&typeof H=="number")if(Q=Q.join(":"),k.test(Q)){const N=parseInt((Q.match(V)||["","-1"])[1],10);H!==null&&(H=O(H,N,G.decimalPoint,-1<Q.indexOf(",")?G.thousandsSep:""))}else H=C.dateFormat(Q,H);ie.push(H)}else ie.push(Q);K=K.slice(E+1),H=(M=!M)?"}":"{"}return ie.push(K),ie.join("")},numberFormat:m}}),s(l,"Core/Renderer/RendererUtilities.js",[l["Core/Utilities.js"]],function(c){const{clamp:d,pick:m,stableSort:n}=c;var S;return function(j){function J(B,W,K){const I=B;var O=I.reducedLen||W,H=(C,ie)=>(ie.rank||0)-(C.rank||0);const M=(C,ie)=>C.target-ie.target;let E,k=!0,V=[],G=0;for(E=B.length;E--;)G+=B[E].size;if(G>O){for(n(B,H),G=E=0;G<=O;)G+=B[E].size,E++;V=B.splice(E-1,B.length)}for(n(B,M),B=B.map(C=>({size:C.size,targets:[C.target],align:m(C.align,.5)}));k;){for(E=B.length;E--;)O=B[E],H=(Math.min.apply(0,O.targets)+Math.max.apply(0,O.targets))/2,O.pos=d(H-O.size*O.align,0,W-O.size);for(E=B.length,k=!1;E--;)0<E&&B[E-1].pos+B[E-1].size>B[E].pos&&(B[E-1].size+=B[E].size,B[E-1].targets=B[E-1].targets.concat(B[E].targets),B[E-1].align=.5,B[E-1].pos+B[E-1].size>W&&(B[E-1].pos=W-B[E-1].size),B.splice(E,1),k=!0)}return I.push.apply(I,V),E=0,B.some(C=>{let ie=0;return(C.targets||[]).some(()=>(I[E].pos=C.pos+ie,typeof K<"u"&&Math.abs(I[E].pos-I[E].target)>K?(I.slice(0,E+1).forEach(Q=>delete Q.pos),I.reducedLen=(I.reducedLen||W)-.1*W,I.reducedLen>.1*W&&J(I,W,K),!0):(ie+=I[E].size,E++,!1)))}),n(I,M),I}j.distribute=J}(S||(S={})),S}),s(l,"Core/Renderer/SVG/SVGElement.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d,m,n){const{animate:S,animObject:j,stop:J}=c,{deg2rad:B,doc:W,svg:K,SVG_NS:I,win:O}=m,{addEvent:H,attr:M,createElement:E,css:k,defined:V,erase:G,extend:C,fireEvent:ie,isArray:Q,isFunction:N,isObject:F,isString:$,merge:w,objectEach:L,pick:f,pInt:y,syncTimeout:b,uniqueKey:P}=n;class q{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=I}_defaultGetter(X){return X=f(this[X+"Value"],this[X],this.element?this.element.getAttribute(X):null,0),/^[\-0-9\.]+$/.test(X)&&(X=parseFloat(X)),X}_defaultSetter(X,ce,fe){fe.setAttribute(ce,X)}add(X){const ce=this.renderer,fe=this.element;let Te;return X&&(this.parentGroup=X),typeof this.textStr<"u"&&this.element.nodeName==="text"&&ce.buildText(this),this.added=!0,(!X||X.handleZ||this.zIndex)&&(Te=this.zIndexSetter()),Te||(X?X.element:ce.box).appendChild(fe),this.onAdd&&this.onAdd(),this}addClass(X,ce){const fe=ce?"":this.attr("class")||"";return X=(X||"").split(/ /g).reduce(function(Te,Z){return fe.indexOf(Z)===-1&&Te.push(Z),Te},fe?[fe]:[]).join(" "),X!==fe&&this.attr("class",X),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(X,ce,fe){const Te={};var Z=this.renderer,re=Z.alignedObjects,ue;let ye,Ie;X?(this.alignOptions=X,this.alignByTranslate=ce,(!fe||$(fe))&&(this.alignTo=ue=fe||"renderer",G(re,this),re.push(this),fe=void 0)):(X=this.alignOptions,ce=this.alignByTranslate,ue=this.alignTo),fe=f(fe,Z[ue],ue==="scrollablePlotBox"?Z.plotBox:void 0,Z),ue=X.align;const ae=X.verticalAlign;return Z=(fe.x||0)+(X.x||0),re=(fe.y||0)+(X.y||0),ue==="right"?ye=1:ue==="center"&&(ye=2),ye&&(Z+=(fe.width-(X.width||0))/ye),Te[ce?"translateX":"x"]=Math.round(Z),ae==="bottom"?Ie=1:ae==="middle"&&(Ie=2),Ie&&(re+=(fe.height-(X.height||0))/Ie),Te[ce?"translateY":"y"]=Math.round(re),this[this.placed?"animate":"attr"](Te),this.placed=!0,this.alignAttr=Te,this}alignSetter(X){const ce={left:"start",center:"middle",right:"end"};ce[X]&&(this.alignValue=X,this.element.setAttribute("text-anchor",ce[X]))}animate(X,ce,fe){const Te=j(f(ce,this.renderer.globalAnimation,!0));return ce=Te.defer,W.hidden&&(Te.duration=0),Te.duration!==0?(fe&&(Te.complete=fe),b(()=>{this.element&&S(this,X,Te)},ce)):(this.attr(X,void 0,fe||Te.complete),L(X,function(Z,re){Te.step&&Te.step.call(this,Z,{prop:re,pos:1,elem:this})},this)),this}applyTextOutline(X){const ce=this.element;X.indexOf("contrast")!==-1&&(X=X.replace(/contrast/g,this.renderer.getContrast(ce.style.fill)));var fe=X.split(" ");if(X=fe[fe.length-1],(fe=fe[0])&&fe!=="none"&&m.svg){this.fakeTS=!0,fe=fe.replace(/(^[\d\.]+)(.*?)$/g,function(re,ue,ye){return 2*Number(ue)+ye}),this.removeTextOutline();const Te=W.createElementNS(I,"tspan");M(Te,{class:"highcharts-text-outline",fill:X,stroke:X,"stroke-width":fe,"stroke-linejoin":"round"}),X=ce.querySelector("textPath")||ce,[].forEach.call(X.childNodes,re=>{const ue=re.cloneNode(!0);ue.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(ye=>ue.removeAttribute(ye)),Te.appendChild(ue)});let Z=0;[].forEach.call(X.querySelectorAll("text tspan"),re=>{Z+=Number(re.getAttribute("dy"))}),fe=W.createElementNS(I,"tspan"),fe.textContent="​",M(fe,{x:Number(ce.getAttribute("x")),dy:-Z}),Te.appendChild(fe),X.insertBefore(Te,X.firstChild)}}attr(X,ce,fe,Te){const Z=this.element,re=q.symbolCustomAttribs;let ue,ye,Ie=this,ae,be;return typeof X=="string"&&typeof ce<"u"&&(ue=X,X={},X[ue]=ce),typeof X=="string"?Ie=(this[X+"Getter"]||this._defaultGetter).call(this,X,Z):(L(X,function(xe,le){ae=!1,Te||J(this,le),this.symbolName&&re.indexOf(le)!==-1&&(ye||(this.symbolAttr(X),ye=!0),ae=!0),!this.rotation||le!=="x"&&le!=="y"||(this.doTransform=!0),ae||(be=this[le+"Setter"]||this._defaultSetter,be.call(this,xe,le,Z))},this),this.afterSetters()),fe&&fe.call(this),Ie}clip(X){return this.attr("clip-path",X?"url("+this.renderer.url+"#"+X.id+")":"none")}crisp(X,ce){ce=ce||X.strokeWidth||0;const fe=Math.round(ce)%2/2;return X.x=Math.floor(X.x||this.x||0)+fe,X.y=Math.floor(X.y||this.y||0)+fe,X.width=Math.floor((X.width||this.width||0)-2*fe),X.height=Math.floor((X.height||this.height||0)-2*fe),V(X.strokeWidth)&&(X.strokeWidth=ce),X}complexColor(X,ce,fe){const Te=this.renderer;let Z,re,ue,ye,Ie,ae,be,xe,le,me,Se=[],Oe;ie(this.renderer,"complexColor",{args:arguments},function(){if(X.radialGradient?re="radialGradient":X.linearGradient&&(re="linearGradient"),re){if(ue=X[re],Ie=Te.gradients,ae=X.stops,le=fe.radialReference,Q(ue)&&(X[re]=ue={x1:ue[0],y1:ue[1],x2:ue[2],y2:ue[3],gradientUnits:"userSpaceOnUse"}),re==="radialGradient"&&le&&!V(ue.gradientUnits)&&(ye=ue,ue=w(ue,Te.getRadialAttr(le,ye),{gradientUnits:"userSpaceOnUse"})),L(ue,function(Le,Ue){Ue!=="id"&&Se.push(Ue,Le)}),L(ae,function(Le){Se.push(Le)}),Se=Se.join(","),Ie[Se])me=Ie[Se].attr("id");else{ue.id=me=P();const Le=Ie[Se]=Te.createElement(re).attr(ue).add(Te.defs);Le.radAttr=ye,Le.stops=[],ae.forEach(function(Ue){Ue[1].indexOf("rgba")===0?(Z=d.parse(Ue[1]),be=Z.get("rgb"),xe=Z.get("a")):(be=Ue[1],xe=1),Ue=Te.createElement("stop").attr({offset:Ue[0],"stop-color":be,"stop-opacity":xe}).add(Le),Le.stops.push(Ue)})}Oe="url("+Te.url+"#"+me+")",fe.setAttribute(ce,Oe),fe.gradient=Se,X.toString=function(){return Oe}}})}css(X){const ce=this.styles,fe={},Te=this.element;let Z,re=!ce;if(X.color&&(X.fill=X.color),ce&&L(X,function(ue,ye){ce&&ce[ye]!==ue&&(fe[ye]=ue,re=!0)}),re){ce&&(X=C(ce,fe)),X.width===null||X.width==="auto"?delete this.textWidth:Te.nodeName.toLowerCase()==="text"&&X.width&&(Z=this.textWidth=y(X.width)),this.styles=X,Z&&!K&&this.renderer.forExport&&delete X.width;const ue=w(X);Te.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach(ye=>ue&&delete ue[ye]),k(Te,ue)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),X.textOutline&&this.applyTextOutline(X.textOutline)),this}dashstyleSetter(X){let ce=this["stroke-width"];if(ce==="inherit"&&(ce=1),X=X&&X.toLowerCase()){const fe=X.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(X=fe.length;X--;)fe[X]=""+y(fe[X])*f(ce,NaN);X=fe.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",X)}}destroy(){const X=this;var ce=X.element||{};const fe=X.renderer;var Te=ce.ownerSVGElement;let Z=ce.nodeName==="SPAN"&&X.parentGroup||void 0;if(ce.onclick=ce.onmouseout=ce.onmouseover=ce.onmousemove=ce.point=null,J(X),X.clipPath&&Te){const re=X.clipPath;[].forEach.call(Te.querySelectorAll("[clip-path],[CLIP-PATH]"),function(ue){-1<ue.getAttribute("clip-path").indexOf(re.element.id)&&ue.removeAttribute("clip-path")}),X.clipPath=re.destroy()}if(X.stops){for(Te=0;Te<X.stops.length;Te++)X.stops[Te].destroy();X.stops.length=0,X.stops=void 0}for(X.safeRemoveChild(ce);Z&&Z.div&&Z.div.childNodes.length===0;)ce=Z.parentGroup,X.safeRemoveChild(Z.div),delete Z.div,Z=ce;X.alignTo&&G(fe.alignedObjects,X),L(X,function(re,ue){X[ue]&&X[ue].parentGroup===X&&X[ue].destroy&&X[ue].destroy(),delete X[ue]})}dSetter(X,ce,fe){Q(X)&&(typeof X[0]=="string"&&(X=this.renderer.pathToSegments(X)),this.pathArray=X,X=X.reduce((Te,Z,re)=>Z&&Z.join?(re?Te+" ":"")+Z.join(" "):(Z||"").toString(),"")),/(NaN| {2}|^$)/.test(X)&&(X="M 0 0"),this[ce]!==X&&(fe.setAttribute(ce,X),this[ce]=X)}fadeOut(X){const ce=this;ce.animate({opacity:0},{duration:f(X,150),complete:function(){ce.hide()}})}fillSetter(X,ce,fe){typeof X=="string"?fe.setAttribute(ce,X):X&&this.complexColor(X,ce,fe)}getBBox(X,ce){const{alignValue:fe,element:Te,renderer:Z,styles:re,textStr:ue}=this,{cache:ye,cacheKeys:Ie}=Z;var ae=Te.namespaceURI===this.SVG_NS;ce=f(ce,this.rotation,0);var be=Z.styledMode?Te&&q.prototype.getStyle.call(Te,"font-size"):re&&re.fontSize;let xe,le;if(V(ue)&&(le=ue.toString(),le.indexOf("<")===-1&&(le=le.replace(/[0-9]/g,"0")),le+=["",Z.rootFontSize,be,ce,this.textWidth,fe,re&&re.textOverflow,re&&re.fontWeight].join()),le&&!X&&(xe=ye[le]),!xe){if(ae||Z.forExport){try{var me=this.fakeTS&&function(lt){const it=Te.querySelector(".highcharts-text-outline");it&&k(it,{display:lt})};N(me)&&me("none"),xe=Te.getBBox?C({},Te.getBBox()):{width:Te.offsetWidth,height:Te.offsetHeight,x:0,y:0},N(me)&&me("")}catch{}(!xe||0>xe.width)&&(xe={x:0,y:0,width:0,height:0})}else xe=this.htmlGetBBox();if(me=xe.width,X=xe.height,ae&&(xe.height=X={"11px,17":14,"13px,20":16}[`${be||""},${Math.round(X)}`]||X),ce){ae=Number(Te.getAttribute("y")||0)-xe.y,be={right:1,center:.5}[fe||0]||0;var Se=ce*B,Oe=(ce-90)*B,Le=me*Math.cos(Se);ce=me*Math.sin(Se);var Ue=Math.cos(Oe);Se=Math.sin(Oe),me=xe.x+be*(me-Le)+ae*Ue,Oe=me+Le,Ue=Oe-X*Ue,Le=Ue-Le,ae=xe.y+ae-be*ce+ae*Se,be=ae+ce,X=be-X*Se,ce=X-ce,xe.x=Math.min(me,Oe,Ue,Le),xe.y=Math.min(ae,be,X,ce),xe.width=Math.max(me,Oe,Ue,Le)-xe.x,xe.height=Math.max(ae,be,X,ce)-xe.y}}if(le&&(ue===""||0<xe.height)){for(;250<Ie.length;)delete ye[Ie.shift()];ye[le]||Ie.push(le),ye[le]=xe}return xe}getStyle(X){return O.getComputedStyle(this.element||this,"").getPropertyValue(X)}hasClass(X){return(""+this.attr("class")).split(" ").indexOf(X)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(X,ce){this.element=ce==="span"?E(ce):W.createElementNS(this.SVG_NS,ce),this.renderer=X,ie(this,"afterInit")}on(X,ce){const{onEvents:fe}=this;return fe[X]&&fe[X](),fe[X]=H(this.element,X,ce),this}opacitySetter(X,ce,fe){this.opacity=X=Number(Number(X).toFixed(3)),fe.setAttribute(ce,X)}removeClass(X){return this.attr("class",(""+this.attr("class")).replace($(X)?new RegExp(`(^| )${X}( |$)`):X," ").replace(/ +/g," ").trim())}removeTextOutline(){const X=this.element.querySelector("tspan.highcharts-text-outline");X&&this.safeRemoveChild(X)}safeRemoveChild(X){const ce=X.parentNode;ce&&ce.removeChild(X)}setRadialReference(X){const ce=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=X,ce&&ce.radAttr&&ce.animate(this.renderer.getRadialAttr(X,ce.radAttr)),this}setTextPath(X,ce){ce=w(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},ce);const fe=this.renderer.url,Te=this.text||this,Z=Te.textPath,{attributes:re,enabled:ue}=ce;return X=X||Z&&Z.path,Z&&Z.undo(),X&&ue?(ce=H(Te,"afterModifyTree",ye=>{if(X&&ue){let ae=X.attr("id");ae||X.attr("id",ae=P());var Ie={x:0,y:0};V(re.dx)&&(Ie.dx=re.dx,delete re.dx),V(re.dy)&&(Ie.dy=re.dy,delete re.dy),Te.attr(Ie),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),Ie=ye.nodes.slice(0),ye.nodes.length=0,ye.nodes[0]={tagName:"textPath",attributes:C(re,{"text-anchor":re.textAnchor,href:`${fe}#${ae}`}),children:Ie}}}),Te.textPath={path:X,undo:ce}):(Te.attr({dx:0,dy:0}),delete Te.textPath),this.added&&(Te.textCache="",this.renderer.buildText(Te)),this}shadow(X){var ce;const{renderer:fe}=this,Te=w(((ce=this.parentGroup)===null||ce===void 0?void 0:ce.rotation)===90?{offsetX:-1,offsetY:-1}:{},F(X)?X:{});return ce=fe.shadowDefinition(Te),this.attr({filter:X?`url(${fe.url}#${ce})`:"none"})}show(X=!0){return this.attr({visibility:X?"inherit":"visible"})}"stroke-widthSetter"(X,ce,fe){this[ce]=X,fe.setAttribute(ce,X)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const X=this.getStyle("stroke-width");let ce=0,fe;return X.indexOf("px")===X.length-2?ce=y(X):X!==""&&(fe=W.createElementNS(I,"rect"),M(fe,{width:X,"stroke-width":0}),this.element.parentNode.appendChild(fe),ce=fe.getBBox().width,fe.parentNode.removeChild(fe)),ce}symbolAttr(X){const ce=this;q.symbolCustomAttribs.forEach(function(fe){ce[fe]=f(X[fe],ce[fe])}),ce.attr({d:ce.renderer.symbols[ce.symbolName](ce.x,ce.y,ce.width,ce.height,ce)})}textSetter(X){X!==this.textStr&&(delete this.textPxLength,this.textStr=X,this.added&&this.renderer.buildText(this))}titleSetter(X){const ce=this.element,fe=ce.getElementsByTagName("title")[0]||W.createElementNS(this.SVG_NS,"title");ce.insertBefore?ce.insertBefore(fe,ce.firstChild):ce.appendChild(fe),fe.textContent=String(f(X,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const X=this.element;return X.parentNode.appendChild(X),this}translate(X,ce){return this.attr({translateX:X,translateY:ce})}updateTransform(){const{element:X,matrix:ce,rotation:fe=0,scaleX:Te,scaleY:Z,translateX:re=0,translateY:ue=0}=this,ye=["translate("+re+","+ue+")"];V(ce)&&ye.push("matrix("+ce.join(",")+")"),fe&&ye.push("rotate("+fe+" "+f(this.rotationOriginX,X.getAttribute("x"),0)+" "+f(this.rotationOriginY,X.getAttribute("y")||0)+")"),(V(Te)||V(Z))&&ye.push("scale("+f(Te,1)+" "+f(Z,1)+")"),ye.length&&!(this.text||this).textPath&&X.setAttribute("transform",ye.join(" "))}visibilitySetter(X,ce,fe){X==="inherit"?fe.removeAttribute(ce):this[ce]!==X&&fe.setAttribute(ce,X),this[ce]=X}xGetter(X){return this.element.nodeName==="circle"&&(X==="x"?X="cx":X==="y"&&(X="cy")),this._defaultGetter(X)}zIndexSetter(X,ce){var fe=this.renderer,Te=this.parentGroup;const Z=(Te||fe).element||fe.box,re=this.element;fe=Z===fe.box;let ue=!1,ye;var Ie=this.added;let ae;if(V(X)?(re.setAttribute("data-z-index",X),X=+X,this[ce]===X&&(Ie=!1)):V(this[ce])&&re.removeAttribute("data-z-index"),this[ce]=X,Ie){for((X=this.zIndex)&&Te&&(Te.handleZ=!0),ce=Z.childNodes,ae=ce.length-1;0<=ae&&!ue;ae--)Te=ce[ae],Ie=Te.getAttribute("data-z-index"),ye=!V(Ie),Te!==re&&(0>X&&ye&&!fe&&!ae?(Z.insertBefore(re,ce[ae]),ue=!0):(y(Ie)<=X||ye&&(!V(X)||0<=X))&&(Z.insertBefore(re,ce[ae+1]),ue=!0));ue||(Z.insertBefore(re,ce[fe?3:0]),ue=!0)}return ue}}return q.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),q.prototype.strokeSetter=q.prototype.fillSetter,q.prototype.yGetter=q.prototype.xGetter,q.prototype.matrixSetter=q.prototype.rotationOriginXSetter=q.prototype.rotationOriginYSetter=q.prototype.rotationSetter=q.prototype.scaleXSetter=q.prototype.scaleYSetter=q.prototype.translateXSetter=q.prototype.translateYSetter=q.prototype.verticalAlignSetter=function(ee,X){this[X]=ee,this.doTransform=!0},q}),s(l,"Core/Renderer/RendererRegistry.js",[l["Core/Globals.js"]],function(c){var d;return function(m){m.rendererTypes={};let n;m.getRendererType=function(S=n){return m.rendererTypes[S]||m.rendererTypes[n]},m.registerRendererType=function(S,j,J){m.rendererTypes[S]=j,(!n||J)&&(n=S,c.Renderer=j)}}(d||(d={})),d}),s(l,"Core/Renderer/SVG/SVGLabel.js",[l["Core/Renderer/SVG/SVGElement.js"],l["Core/Utilities.js"]],function(c,d){const{defined:m,extend:n,isNumber:S,merge:j,pick:J,removeEvent:B}=d;class W extends c{constructor(I,O,H,M,E,k,V,G,C,ie){super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(I,"g"),this.textStr=O,this.x=H,this.y=M,this.anchorX=k,this.anchorY=V,this.baseline=C,this.className=ie,this.addClass(ie==="button"?"highcharts-no-tooltip":"highcharts-label"),ie&&this.addClass("highcharts-"+ie),this.text=I.text(void 0,0,0,G).attr({zIndex:1});let Q;typeof E=="string"&&((Q=/^url\((.*?)\)$/.test(E))||this.renderer.symbols[E])&&(this.symbolKey=E),this.bBox=W.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=I.styledMode||Q,this.deferredAttr={},this.alignFactor=0}alignSetter(I){I={left:0,center:.5,right:1}[I],I!==this.alignFactor&&(this.alignFactor=I,this.bBox&&S(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(I,O){this.anchorX=I,this.boxAttr(O,Math.round(I)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(I,O){this.anchorY=I,this.boxAttr(O,I-this.ySetting)}boxAttr(I,O){this.box?this.box.attr(I,O):this.deferredAttr[I]=O}css(I){if(I){const O={};I=j(I),W.textProps.forEach(H=>{typeof I[H]<"u"&&(O[H]=I[H],delete I[H])}),this.text.css(O),"fontSize"in O||"fontWeight"in O?this.updateTextPadding():("width"in O||"textOverflow"in O)&&this.updateBoxSize()}return c.prototype.css.call(this,I)}destroy(){B(this.element,"mouseenter"),B(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),c.prototype.destroy.call(this)}fillSetter(I,O){I&&(this.needsBox=!0),this.fill=I,this.boxAttr(O,I)}getBBox(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();const I=this.padding,O=J(this.paddingLeft,I);return{width:this.width,height:this.height,x:this.bBox.x-O,y:this.bBox.y-I}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(I){this.heightSetting=I}onAdd(){this.text.add(this),this.attr({text:J(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&m(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(I,O){S(I)?I!==this[O]&&(this[O]=I,this.updateTextPadding()):this[O]=void 0}rSetter(I,O){this.boxAttr(O,I)}strokeSetter(I,O){this.stroke=I,this.boxAttr(O,I)}"stroke-widthSetter"(I,O){I&&(this.needsBox=!0),this["stroke-width"]=I,this.boxAttr(O,I)}"text-alignSetter"(I){this.textAlign=I}textSetter(I){typeof I<"u"&&this.text.attr({text:I}),this.updateTextPadding()}updateBoxSize(){var I=this.text;const O={},H=this.padding,M=this.bBox=S(this.widthSetting)&&S(this.heightSetting)&&!this.textAlign||!m(I.textStr)?W.emptyBBox:I.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||M.height||0)+2*H;const E=this.renderer.fontMetrics(I);this.baselineOffset=H+Math.min((this.text.firstLineMetrics||E).b,M.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-E.h)/2),this.needsBox&&!I.textPath&&(this.box||(I=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),I.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),I.add(this)),I=this.getCrispAdjust(),O.x=I,O.y=(this.baseline?-this.baselineOffset:0)+I,O.width=Math.round(this.width),O.height=Math.round(this.height),this.box.attr(n(O,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const I=this.text;if(!I.textPath){this.updateBoxSize();const O=this.baseline?0:this.baselineOffset;let H=J(this.paddingLeft,this.padding);m(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(H+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(H!==I.x||O!==I.y)&&(I.attr("x",H),I.hasBoxWidthChanged&&(this.bBox=I.getBBox(!0)),typeof O<"u"&&I.attr("y",O)),I.x=H,I.y=O}}widthSetter(I){this.widthSetting=S(I)?I:void 0}getPaddedWidth(){var I=this.padding;const O=J(this.paddingLeft,I);return I=J(this.paddingRight,I),(this.widthSetting||this.bBox.width||0)+O+I}xSetter(I){this.x=I,this.alignFactor&&(I-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(I),this.attr("translateX",this.xSetting)}ySetter(I){this.ySetting=this.y=Math.round(I),this.attr("translateY",this.ySetting)}}return W.emptyBBox={width:0,height:0,x:0,y:0},W.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),W}),s(l,"Core/Renderer/SVG/Symbols.js",[l["Core/Utilities.js"]],function(c){function d(B,W,K,I,O){const H=[];if(O){const M=O.start||0,E=J(O.r,K);K=J(O.r,I||K),I=(O.end||0)-.001;const k=O.innerR,V=J(O.open,.001>Math.abs((O.end||0)-M-2*Math.PI)),G=Math.cos(M),C=Math.sin(M),ie=Math.cos(I),Q=Math.sin(I),N=J(O.longArc,.001>I-M-Math.PI?0:1);let F=["A",E,K,0,N,J(O.clockwise,1),B+E*ie,W+K*Q];F.params={start:M,end:I,cx:B,cy:W},H.push(["M",B+E*G,W+K*C],F),S(k)&&(F=["A",k,k,0,N,S(O.clockwise)?1-O.clockwise:0,B+k*G,W+k*C],F.params={start:I,end:M,cx:B,cy:W},H.push(V?["M",B+k*ie,W+k*Q]:["L",B+k*ie,W+k*Q],F)),V||H.push(["Z"])}return H}function m(B,W,K,I,O){return O&&O.r?n(B,W,K,I,O):[["M",B,W],["L",B+K,W],["L",B+K,W+I],["L",B,W+I],["Z"]]}function n(B,W,K,I,O){return O=(O==null?void 0:O.r)||0,[["M",B+O,W],["L",B+K-O,W],["A",O,O,0,0,1,B+K,W+O],["L",B+K,W+I-O],["A",O,O,0,0,1,B+K-O,W+I],["L",B+O,W+I],["A",O,O,0,0,1,B,W+I-O],["L",B,W+O],["A",O,O,0,0,1,B+O,W],["Z"]]}const{defined:S,isNumber:j,pick:J}=c;return{arc:d,callout:function(B,W,K,I,O){const H=Math.min(O&&O.r||0,K,I),M=H+6,E=O&&O.anchorX;O=O&&O.anchorY||0;const k=n(B,W,K,I,{r:H});return j(E)&&(B+E>=K?O>W+M&&O<W+I-M?k.splice(3,1,["L",B+K,O-6],["L",B+K+6,O],["L",B+K,O+6],["L",B+K,W+I-H]):k.splice(3,1,["L",B+K,I/2],["L",E,O],["L",B+K,I/2],["L",B+K,W+I-H]):0>=B+E?O>W+M&&O<W+I-M?k.splice(7,1,["L",B,O+6],["L",B-6,O],["L",B,O-6],["L",B,W+H]):k.splice(7,1,["L",B,I/2],["L",E,O],["L",B,I/2],["L",B,W+H]):O&&O>I&&E>B+M&&E<B+K-M?k.splice(5,1,["L",E+6,W+I],["L",E,W+I+6],["L",E-6,W+I],["L",B+H,W+I]):O&&0>O&&E>B+M&&E<B+K-M&&k.splice(1,1,["L",E-6,W],["L",E,W-6],["L",E+6,W],["L",K-H,W])),k},circle:function(B,W,K,I){return d(B+K/2,W+I/2,K/2,I/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(B,W,K,I){return[["M",B+K/2,W],["L",B+K,W+I/2],["L",B+K/2,W+I],["L",B,W+I/2],["Z"]]},rect:m,roundedRect:n,square:m,triangle:function(B,W,K,I){return[["M",B+K/2,W],["L",B+K,W+I],["L",B,W+I],["Z"]]},"triangle-down":function(B,W,K,I){return[["M",B,W],["L",B+K,W],["L",B+K/2,W+I],["Z"]]}}}),s(l,"Core/Renderer/SVG/TextBuilder.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d,m){const{doc:n,SVG_NS:S,win:j}=d,{attr:J,extend:B,fireEvent:W,isString:K,objectEach:I,pick:O}=m;class H{constructor(E){const k=E.styles;this.renderer=E.renderer,this.svgElement=E,this.width=E.textWidth,this.textLineHeight=k&&k.lineHeight,this.textOutline=k&&k.textOutline,this.ellipsis=!(!k||k.textOverflow!=="ellipsis"),this.noWrap=!(!k||k.whiteSpace!=="nowrap")}buildSVG(){const E=this.svgElement,k=E.element;var V=E.renderer,G=O(E.textStr,"").toString();const C=G.indexOf("<")!==-1,ie=k.childNodes;V=!E.added&&V.box;const Q=/<br.*?>/g;var N=[G,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,E.getStyle("font-size"),this.width].join();if(N!==E.textCache){for(E.textCache=N,delete E.actualWidth,N=ie.length;N--;)k.removeChild(ie[N]);C||this.ellipsis||this.width||E.textPath||G.indexOf(" ")!==-1&&(!this.noWrap||Q.test(G))?G!==""&&(V&&V.appendChild(k),G=new c(G),this.modifyTree(G.nodes),G.addToDOM(k),this.modifyDOM(),this.ellipsis&&(k.textContent||"").indexOf("…")!==-1&&E.attr("title",this.unescapeEntities(E.textStr||"",["&lt;","&gt;"])),V&&V.removeChild(k)):k.appendChild(n.createTextNode(this.unescapeEntities(G))),K(this.textOutline)&&E.applyTextOutline&&E.applyTextOutline(this.textOutline)}}modifyDOM(){const E=this.svgElement,k=J(E.element,"x");E.firstLineMetrics=void 0;let V;for(;(V=E.element.firstChild)&&/^[\s\u200B]*$/.test(V.textContent||" ");)E.element.removeChild(V);[].forEach.call(E.element.querySelectorAll("tspan.highcharts-br"),(Q,N)=>{Q.nextSibling&&Q.previousSibling&&(N===0&&Q.previousSibling.nodeType===1&&(E.firstLineMetrics=E.renderer.fontMetrics(Q.previousSibling)),J(Q,{dy:this.getLineHeight(Q.nextSibling),x:k}))});const G=this.width||0;if(G){var C=(Q,N)=>{var F=Q.textContent||"";const $=F.replace(/([^\^])-/g,"$1- ").split(" ");var w=!this.noWrap&&(1<$.length||1<E.element.childNodes.length);const L=this.getLineHeight(N);let f=0,y=E.actualWidth;if(this.ellipsis)F&&this.truncate(Q,F,void 0,0,Math.max(0,G-.8*L),(b,P)=>b.substring(0,P)+"…");else if(w){for(F=[],w=[];N.firstChild&&N.firstChild!==Q;)w.push(N.firstChild),N.removeChild(N.firstChild);for(;$.length;)$.length&&!this.noWrap&&0<f&&(F.push(Q.textContent||""),Q.textContent=$.join(" ").replace(/- /g,"-")),this.truncate(Q,void 0,$,f===0&&y||0,G,(b,P)=>$.slice(0,P).join(" ").replace(/- /g,"-")),y=E.actualWidth,f++;w.forEach(b=>{N.insertBefore(b,Q)}),F.forEach(b=>{N.insertBefore(n.createTextNode(b),Q),b=n.createElementNS(S,"tspan"),b.textContent="​",J(b,{dy:L,x:k}),N.insertBefore(b,Q)})}},ie=Q=>{[].slice.call(Q.childNodes).forEach(N=>{N.nodeType===j.Node.TEXT_NODE?C(N,Q):(N.className.baseVal.indexOf("highcharts-br")!==-1&&(E.actualWidth=0),ie(N))})};ie(E.element)}}getLineHeight(E){return E=E.nodeType===j.Node.TEXT_NODE?E.parentElement:E,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(E||this.svgElement.element).h}modifyTree(E){const k=(V,G)=>{const{attributes:C={},children:ie,style:Q={},tagName:N}=V,F=this.renderer.styledMode;N==="b"||N==="strong"?F?C.class="highcharts-strong":Q.fontWeight="bold":(N==="i"||N==="em")&&(F?C.class="highcharts-emphasized":Q.fontStyle="italic"),Q&&Q.color&&(Q.fill=Q.color),N==="br"?(C.class="highcharts-br",V.textContent="​",(G=E[G+1])&&G.textContent&&(G.textContent=G.textContent.replace(/^ +/gm,""))):N==="a"&&ie&&ie.some($=>$.tagName==="#text")&&(V.children=[{children:ie,tagName:"tspan"}]),N!=="#text"&&N!=="a"&&(V.tagName="tspan"),B(V,{attributes:C,style:Q}),ie&&ie.filter($=>$.tagName!=="#text").forEach(k)};E.forEach(k),W(this.svgElement,"afterModifyTree",{nodes:E})}truncate(E,k,V,G,C,ie){const Q=this.svgElement,{rotation:N}=Q,F=[];let $=V?1:0,w=(k||V||"").length,L=w,f,y;const b=function(P,q){if(P=q||P,(q=E.parentNode)&&typeof F[P]>"u"&&q.getSubStringLength)try{F[P]=G+q.getSubStringLength(0,V?P+1:P)}catch{}return F[P]};if(Q.rotation=0,y=b(E.textContent.length),G+y>C){for(;$<=w;)L=Math.ceil(($+w)/2),V&&(f=ie(V,L)),y=b(L,f&&f.length-1),$===w?$=w+1:y>C?w=L-1:$=L;w===0?E.textContent="":k&&w===k.length-1||(E.textContent=f||ie(k||V,L))}V&&V.splice(0,L),Q.actualWidth=y,Q.rotation=N}unescapeEntities(E,k){return I(this.renderer.escapes,function(V,G){k&&k.indexOf(V)!==-1||(E=E.toString().replace(new RegExp(V,"g"),G))}),E}}return H}),s(l,"Core/Renderer/SVG/SVGRenderer.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGLabel.js"],l["Core/Renderer/SVG/Symbols.js"],l["Core/Renderer/SVG/TextBuilder.js"],l["Core/Utilities.js"]],function(c,d,m,n,S,j,J,B,W){const{charts:K,deg2rad:I,doc:O,isFirefox:H,isMS:M,isWebKit:E,noop:k,SVG_NS:V,symbolSizes:G,win:C}=m,{addEvent:ie,attr:Q,createElement:N,css:F,defined:$,destroyObjectProperties:w,extend:L,isArray:f,isNumber:y,isObject:b,isString:P,merge:q,pick:ee,pInt:X,uniqueKey:ce}=W;let fe;class Te{constructor(re,ue,ye,Ie,ae,be,xe){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(re,ue,ye,Ie,ae,be,xe)}init(re,ue,ye,Ie,ae,be,xe){const le=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),me=le.element;xe||le.css(this.getStyle(Ie)),re.appendChild(me),Q(re,"dir","ltr"),re.innerHTML.indexOf("xmlns")===-1&&Q(me,"xmlns",this.SVG_NS),this.box=me,this.boxWrapper=le,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(O.createTextNode("Created with Highcharts 11.0.1")),this.defs=this.createElement("defs").add(),this.allowHTML=be,this.forExport=ae,this.styledMode=xe,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=le.getStyle("font-size"),this.setSize(ue,ye,!1);let Se;H&&re.getBoundingClientRect&&(ue=function(){F(re,{left:0,top:0}),Se=re.getBoundingClientRect(),F(re,{left:Math.ceil(Se.left)-Se.left+"px",top:Math.ceil(Se.top)-Se.top+"px"})},ue(),this.unSubPixelFix=ie(C,"resize",ue))}definition(re){return new c([re]).addToDOM(this.defs.element)}getReferenceURL(){if((H||E)&&O.getElementsByTagName("base").length){if(!$(fe)){var re=ce();re=new c([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:re},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${re})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(O.body),F(re,{position:"fixed",top:0,left:0,zIndex:9e5});const ue=O.elementFromPoint(6,6);fe=(ue&&ue.id)==="hitme",O.body.removeChild(re)}if(fe)return C.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(re){return this.style=L({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},re)}setStyle(re){this.boxWrapper.css(this.getStyle(re))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const re=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),w(this.gradients||{}),this.gradients=null,this.defs=re.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(re){const ue=new this.Element;return ue.init(this,re),ue}getRadialAttr(re,ue){return{cx:re[0]-re[2]/2+(ue.cx||0)*re[2],cy:re[1]-re[2]/2+(ue.cy||0)*re[2],r:(ue.r||0)*re[2]}}shadowDefinition(re){const ue=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(re).map(Ie=>re[Ie])].join("-").replace(/[^a-z0-9\-]/g,""),ye=q({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},re);return this.defs.element.querySelector(`#${ue}`)||this.definition({tagName:"filter",attributes:{id:ue},children:[{tagName:"feDropShadow",attributes:{dx:ye.offsetX,dy:ye.offsetY,"flood-color":ye.color,"flood-opacity":Math.min(5*ye.opacity,1),stdDeviation:ye.width/2}}]}),ue}buildText(re){new B(re).buildSVG()}getContrast(re){return re=d.parse(re).rgba.map(ue=>(ue/=255,.03928>=ue?ue/12.92:Math.pow((ue+.055)/1.055,2.4))),re=.2126*re[0]+.7152*re[1]+.0722*re[2],1.05/(re+.05)>(re+.05)/.05?"#FFFFFF":"#000000"}button(re,ue,ye,Ie,ae={},be,xe,le,me,Se){const Oe=this.label(re,ue,ye,me,void 0,void 0,Se,void 0,"button"),Le=this.styledMode;re=ae.states||{};let Ue=0;ae=q(ae),delete ae.states;const lt=q({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},ae.style);delete ae.style;let it=c.filterUserAttributes(ae);Oe.attr(q({padding:8,r:2},it));let pt,De,ze;return Le||(it=q({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},it),be=q(it,{fill:"#e6e6e6"},c.filterUserAttributes(be||re.hover||{})),pt=be.style,delete be.style,xe=q(it,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},c.filterUserAttributes(xe||re.select||{})),De=xe.style,delete xe.style,le=q(it,{style:{color:"#cccccc"}},c.filterUserAttributes(le||re.disabled||{})),ze=le.style,delete le.style),ie(Oe.element,M?"mouseover":"mouseenter",function(){Ue!==3&&Oe.setState(1)}),ie(Oe.element,M?"mouseout":"mouseleave",function(){Ue!==3&&Oe.setState(Ue)}),Oe.setState=function(Ge){Ge!==1&&(Oe.state=Ue=Ge),Oe.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Ge||0]),Le||(Oe.attr([it,be,xe,le][Ge||0]),Ge=[lt,pt,De,ze][Ge||0],b(Ge)&&Oe.css(Ge))},Le||(Oe.attr(it).css(L({cursor:"default"},lt)),Se&&Oe.text.css({pointerEvents:"none"})),Oe.on("touchstart",Ge=>Ge.stopPropagation()).on("click",function(Ge){Ue!==3&&Ie.call(Oe,Ge)})}crispLine(re,ue,ye="round"){const Ie=re[0],ae=re[1];return $(Ie[1])&&Ie[1]===ae[1]&&(Ie[1]=ae[1]=Math[ye](Ie[1])-ue%2/2),$(Ie[2])&&Ie[2]===ae[2]&&(Ie[2]=ae[2]=Math[ye](Ie[2])+ue%2/2),re}path(re){const ue=this.styledMode?{}:{fill:"none"};return f(re)?ue.d=re:b(re)&&L(ue,re),this.createElement("path").attr(ue)}circle(re,ue,ye){return re=b(re)?re:typeof re>"u"?{}:{x:re,y:ue,r:ye},ue=this.createElement("circle"),ue.xSetter=ue.ySetter=function(Ie,ae,be){be.setAttribute("c"+ae,Ie)},ue.attr(re)}arc(re,ue,ye,Ie,ae,be){return b(re)?(Ie=re,ue=Ie.y,ye=Ie.r,re=Ie.x):Ie={innerR:Ie,start:ae,end:be},re=this.symbol("arc",re,ue,ye,ye,Ie),re.r=ye,re}rect(re,ue,ye,Ie,ae,be){re=b(re)?re:typeof re>"u"?{}:{x:re,y:ue,r:ae,width:Math.max(ye||0,0),height:Math.max(Ie||0,0)};const xe=this.createElement("rect");return this.styledMode||(typeof be<"u"&&(re["stroke-width"]=be,L(re,xe.crisp(re))),re.fill="none"),xe.rSetter=function(le,me,Se){xe.r=le,Q(Se,{rx:le,ry:le})},xe.rGetter=function(){return xe.r||0},xe.attr(re)}roundedRect(re){return this.symbol("roundedRect").attr(re)}setSize(re,ue,ye){this.width=re,this.height=ue,this.boxWrapper.animate({width:re,height:ue},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:ee(ye,!0)?void 0:0}),this.alignElements()}g(re){const ue=this.createElement("g");return re?ue.attr({class:"highcharts-"+re}):ue}image(re,ue,ye,Ie,ae,be){const xe={preserveAspectRatio:"none"},le=function(Se,Oe){Se.setAttributeNS?Se.setAttributeNS("http://www.w3.org/1999/xlink","href",Oe):Se.setAttribute("hc-svg-href",Oe)};y(ue)&&(xe.x=ue),y(ye)&&(xe.y=ye),y(Ie)&&(xe.width=Ie),y(ae)&&(xe.height=ae);const me=this.createElement("image").attr(xe);return ue=function(Se){le(me.element,re),be.call(me,Se)},be?(le(me.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),ye=new C.Image,ie(ye,"load",ue),ye.src=re,ye.complete&&ue({})):le(me.element,re),me}symbol(re,ue,ye,Ie,ae,be){const xe=this,le=/^url\((.*?)\)$/,me=le.test(re),Se=!me&&(this.symbols[re]?re:"circle"),Oe=Se&&this.symbols[Se];let Le,Ue,lt,it;if(Oe)typeof ue=="number"&&(Ue=Oe.call(this.symbols,Math.round(ue||0),Math.round(ye||0),Ie||0,ae||0,be)),Le=this.path(Ue),xe.styledMode||Le.attr("fill","none"),L(Le,{symbolName:Se||void 0,x:ue,y:ye,width:Ie,height:ae}),be&&L(Le,be);else if(me){lt=re.match(le)[1];const pt=Le=this.image(lt);pt.imgwidth=ee(be&&be.width,G[lt]&&G[lt].width),pt.imgheight=ee(be&&be.height,G[lt]&&G[lt].height),it=De=>De.attr({width:De.width,height:De.height}),["width","height"].forEach(function(De){pt[De+"Setter"]=function(ze,Ge){this[Ge]=ze;const{alignByTranslate:Ye,element:at,width:gt,height:Ut,imgwidth:Gt,imgheight:wi}=this;if(ze=this["img"+Ge],$(ze)){let Qt=1;be&&be.backgroundSize==="within"&&gt&&Ut?(Qt=Math.min(gt/Gt,Ut/wi),Q(at,{width:Math.round(Gt*Qt),height:Math.round(wi*Qt)})):at&&at.setAttribute(Ge,ze),Ye||this.translate(((gt||0)-Gt*Qt)/2,((Ut||0)-wi*Qt)/2)}}}),$(ue)&&pt.attr({x:ue,y:ye}),pt.isImg=!0,$(pt.imgwidth)&&$(pt.imgheight)?it(pt):(pt.attr({width:0,height:0}),N("img",{onload:function(){const De=K[xe.chartIndex];this.width===0&&(F(this,{position:"absolute",top:"-999em"}),O.body.appendChild(this)),G[lt]={width:this.width,height:this.height},pt.imgwidth=this.width,pt.imgheight=this.height,pt.element&&it(pt),this.parentNode&&this.parentNode.removeChild(this),xe.imgCount--,!xe.imgCount&&De&&!De.hasLoaded&&De.onload()},src:lt}),this.imgCount++)}return Le}clipRect(re,ue,ye,Ie){const ae=ce()+"-",be=this.createElement("clipPath").attr({id:ae}).add(this.defs);return re=this.rect(re,ue,ye,Ie,0).add(be),re.id=ae,re.clipPath=be,re.count=0,re}text(re,ue,ye,Ie){const ae={};return Ie&&(this.allowHTML||!this.forExport)?this.html(re,ue,ye):(ae.x=Math.round(ue||0),ye&&(ae.y=Math.round(ye)),$(re)&&(ae.text=re),re=this.createElement("text").attr(ae),(!Ie||this.forExport&&!this.allowHTML)&&(re.xSetter=function(be,xe,le){const me=le.getElementsByTagName("tspan"),Se=le.getAttribute(xe);for(let Oe=0,Le;Oe<me.length;Oe++)Le=me[Oe],Le.getAttribute(xe)===Se&&Le.setAttribute(xe,be);le.setAttribute(xe,be)}),re)}fontMetrics(re){re=X(S.prototype.getStyle.call(re,"font-size")||0);const ue=24>re?re+3:Math.round(1.2*re);return{h:ue,b:Math.round(.8*ue),f:re}}rotCorr(re,ue,ye){let Ie=re;return ue&&ye&&(Ie=Math.max(Ie*Math.cos(ue*I),4)),{x:-re/3*Math.sin(ue*I),y:Ie}}pathToSegments(re){const ue=[],ye=[],Ie={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let ae=0;ae<re.length;ae++)P(ye[0])&&y(re[ae])&&ye.length===Ie[ye[0].toUpperCase()]&&re.splice(ae,0,ye[0].replace("M","L").replace("m","l")),typeof re[ae]=="string"&&(ye.length&&ue.push(ye.slice(0)),ye.length=0),ye.push(re[ae]);return ue.push(ye.slice(0)),ue}label(re,ue,ye,Ie,ae,be,xe,le,me){return new j(this,re,ue,ye,Ie,ae,be,xe,le,me)}alignElements(){this.alignedObjects.forEach(re=>re.align())}}return L(Te.prototype,{Element:S,SVG_NS:V,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:J,draw:k}),n.registerRendererType("svg",Te,!0),Te}),s(l,"Core/Renderer/HTML/HTMLElement.js",[l["Core/Globals.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Utilities.js"]],function(c,d,m){const{isFirefox:n,isMS:S,isWebKit:j,win:J}=c,{css:B,defined:W,extend:K,pick:I,pInt:O}=m,H=[];class M extends d{static compose(k){if(m.pushUnique(H,k)){const V=M.prototype,G=k.prototype;G.getSpanCorrection=V.getSpanCorrection,G.htmlCss=V.htmlCss,G.htmlGetBBox=V.htmlGetBBox,G.htmlUpdateTransform=V.htmlUpdateTransform,G.setSpanRotation=V.setSpanRotation}return k}getSpanCorrection(k,V,G){this.xCorr=-k*G,this.yCorr=-V}htmlCss(k){const V=this.element.tagName==="SPAN"&&k&&"width"in k,G=I(V&&k.width,void 0);let C;return V&&(delete k.width,this.textWidth=G,C=!0),k&&k.textOverflow==="ellipsis"&&(k.whiteSpace="nowrap",k.overflow="hidden"),this.styles=K(this.styles,k),B(this.element,k),C&&this.htmlUpdateTransform(),this}htmlGetBBox(){const k=this.element;return{x:k.offsetLeft,y:k.offsetTop,width:k.offsetWidth,height:k.offsetHeight}}htmlUpdateTransform(){if(this.added){var k=this.renderer,V=this.element,G=this.x||0,C=this.y||0,ie=this.textAlign||"left",Q={left:0,center:.5,right:1}[ie],N=this.styles,F=N&&N.whiteSpace;if(B(V,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),V.tagName==="SPAN"){N=this.rotation;const w=this.textWidth&&O(this.textWidth),L=[N,ie,V.innerHTML,this.textWidth,this.textAlign].join();let f=!1;if(w!==this.oldTextWidth){if(this.textPxLength)var $=this.textPxLength;else B(V,{width:"",whiteSpace:F||"nowrap"}),$=V.offsetWidth;(w>this.oldTextWidth||$>w)&&(/[ \-]/.test(V.textContent||V.innerText)||V.style.textOverflow==="ellipsis")&&(B(V,{width:$>w||N?w+"px":"auto",display:"block",whiteSpace:F||"normal"}),this.oldTextWidth=w,f=!0)}this.hasBoxWidthChanged=f,L!==this.cTT&&(k=k.fontMetrics(V).b,!W(N)||N===(this.oldRotation||0)&&ie===this.oldAlign||this.setSpanRotation(N,Q,k),this.getSpanCorrection(!W(N)&&this.textPxLength||V.offsetWidth,k,Q,N,ie)),B(V,{left:G+(this.xCorr||0)+"px",top:C+(this.yCorr||0)+"px"}),this.cTT=L,this.oldRotation=N,this.oldAlign=ie}}else this.alignOnAdd=!0}setSpanRotation(k,V,G){const C={},ie=S&&!/Edge/.test(J.navigator.userAgent)?"-ms-transform":j?"-webkit-transform":n?"MozTransform":J.opera?"-o-transform":void 0;ie&&(C[ie]=C.transform="rotate("+k+"deg)",C[ie+(n?"Origin":"-origin")]=C.transformOrigin=100*V+"% "+G+"px",B(this.element,C))}}return M}),s(l,"Core/Renderer/HTML/HTMLRenderer.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Utilities.js"]],function(c,d,m,n){const{attr:S,createElement:j,extend:J,pick:B}=n,W=[];class K extends m{static compose(O){return n.pushUnique(W,O)&&(O.prototype.html=K.prototype.html),O}html(O,H,M){const E=this.createElement("span"),k=E.element,V=E.renderer,G=function(C,ie){["opacity","visibility"].forEach(function(Q){C[Q+"Setter"]=function(N,F,$){const w=C.div?C.div.style:ie;d.prototype[Q+"Setter"].call(this,N,F,$),w&&(w[F]=N)}}),C.addedSetters=!0};return E.textSetter=function(C){C!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,c.setElementHTML(this.element,B(C,"")),this.textStr=C,E.doTransform=!0)},G(E,E.element.style),E.xSetter=E.ySetter=E.alignSetter=E.rotationSetter=function(C,ie){ie==="align"?E.alignValue=E.textAlign=C:E[ie]=C,E.doTransform=!0},E.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},E.attr({text:O,x:Math.round(H),y:Math.round(M)}).css({position:"absolute"}),V.styledMode||E.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),k.style.whiteSpace="nowrap",E.css=E.htmlCss,E.add=function(C){const ie=V.box.parentNode,Q=[];let N;if(this.parentGroup=C){if(N=C.div,!N){for(;C;)Q.push(C),C=C.parentGroup;Q.reverse().forEach(function(F){function $(y,b){F[b]=y,b==="translateX"?f.left=y+"px":f.top=y+"px",F.doTransform=!0}const w=S(F.element,"class"),L=F.styles||{};N=F.div=F.div||j("div",w?{className:w}:void 0,{position:"absolute",left:(F.translateX||0)+"px",top:(F.translateY||0)+"px",display:F.display,opacity:F.opacity,visibility:F.visibility},N||ie);const f=N.style;J(F,{classSetter:function(y){return function(b){this.element.setAttribute("class",b),y.className=b}}(N),css:function(y){return E.css.call(F,y),["cursor","pointerEvents"].forEach(b=>{y[b]&&(f[b]=y[b])}),F},on:function(){return Q[0].div&&E.on.apply({element:Q[0].div,onEvents:F.onEvents},arguments),F},translateXSetter:$,translateYSetter:$}),F.addedSetters||G(F),F.css(L)})}}else N=ie;return N.appendChild(k),E.added=!0,E.alignOnAdd&&E.htmlUpdateTransform(),E},E}}return K}),s(l,"Core/Axis/AxisDefaults.js",[],function(){var c;return function(d){d.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},d.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:m}=this.axis.chart;return m(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},d.defaultLeftAxisOptions={title:{rotation:270}},d.defaultRightAxisOptions={title:{rotation:90}},d.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},d.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(c||(c={})),c}),s(l,"Core/Foundation.js",[l["Core/Utilities.js"]],function(c){const{addEvent:d,isFunction:m,objectEach:n,removeEvent:S}=c;var j;return function(J){J.registerEventOptions=function(B,W){B.eventOptions=B.eventOptions||{},n(W.events,function(K,I){B.eventOptions[I]!==K&&(B.eventOptions[I]&&(S(B,I,B.eventOptions[I]),delete B.eventOptions[I]),m(K)&&(B.eventOptions[I]=K,d(B,I,K,{order:0})))})}}(j||(j={})),j}),s(l,"Core/Axis/Tick.js",[l["Core/FormatUtilities.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d,m){const{deg2rad:n}=d,{clamp:S,correctFloat:j,defined:J,destroyObjectProperties:B,extend:W,fireEvent:K,isNumber:I,merge:O,objectEach:H,pick:M}=m;class E{constructor(V,G,C,ie,Q){this.isNewLabel=this.isNew=!0,this.axis=V,this.pos=G,this.type=C||"",this.parameters=Q||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,K(this,"init"),C||ie||this.addLabel()}addLabel(){const V=this,G=V.axis;var C=G.options;const ie=G.chart;var Q=G.categories;const N=G.logarithmic,F=G.names,$=V.pos,w=M(V.options&&V.options.labels,C.labels);var L=G.tickPositions;const f=$===L[0],y=$===L[L.length-1],b=(!w.step||w.step===1)&&G.tickInterval===1;L=L.info;let P=V.label,q,ee,X;Q=this.parameters.category||(Q?M(Q[$],F[$],$):$),N&&I(Q)&&(Q=j(N.lin2log(Q))),G.dateTime&&(L?(ee=ie.time.resolveDTLFormat(C.dateTimeLabelFormats[!C.grid&&L.higherRanks[$]||L.unitName]),q=ee.main):I(Q)&&(q=G.dateTime.getXDateFormat(Q,C.dateTimeLabelFormats||{}))),V.isFirst=f,V.isLast=y;const ce={axis:G,chart:ie,dateTimeLabelFormat:q,isFirst:f,isLast:y,pos:$,tick:V,tickPositionInfo:L,value:Q};K(this,"labelFormat",ce);const fe=Z=>w.formatter?w.formatter.call(Z,Z):w.format?(Z.text=G.defaultLabelFormatter.call(Z,Z),c.format(w.format,Z,ie)):G.defaultLabelFormatter.call(Z,Z);C=fe.call(ce,ce);const Te=ee&&ee.list;V.shortenLabel=Te?function(){for(X=0;X<Te.length;X++)if(W(ce,{dateTimeLabelFormat:Te[X]}),P.attr({text:fe.call(ce,ce)}),P.getBBox().width<G.getSlotWidth(V)-2*w.padding)return;P.attr({text:""})}:void 0,b&&G._addedPlotLB&&V.moveLabel(C,w),J(P)||V.movedLabel?P&&P.textStr!==C&&!b&&(!P.textWidth||w.style.width||P.styles.width||P.css({width:null}),P.attr({text:C}),P.textPxLength=P.getBBox().width):(V.label=P=V.createLabel({x:0,y:0},C,w),V.rotation=0)}createLabel(V,G,C){const ie=this.axis,Q=ie.chart;return(V=J(G)&&C.enabled?Q.renderer.text(G,V.x,V.y,C.useHTML).add(ie.labelGroup):null)&&(Q.styledMode||V.css(O(C.style)),V.textPxLength=V.getBBox().width),V}destroy(){B(this,this.axis)}getPosition(V,G,C,ie){const Q=this.axis,N=Q.chart,F=ie&&N.oldChartHeight||N.chartHeight;return V={x:V?j(Q.translate(G+C,void 0,void 0,ie)+Q.transB):Q.left+Q.offset+(Q.opposite?(ie&&N.oldChartWidth||N.chartWidth)-Q.right-Q.left:0),y:V?F-Q.bottom+Q.offset-(Q.opposite?Q.height:0):j(F-Q.translate(G+C,void 0,void 0,ie)-Q.transB)},V.y=S(V.y,-1e5,1e5),K(this,"afterGetPosition",{pos:V}),V}getLabelPosition(V,G,C,ie,Q,N,F,$){const w=this.axis,L=w.transA,f=w.isLinked&&w.linkedParent?w.linkedParent.reversed:w.reversed,y=w.staggerLines,b=w.tickRotCorr||{x:0,y:0},P=ie||w.reserveSpaceDefault?0:-w.labelOffset*(w.labelAlign==="center"?.5:1),q=Q.distance,ee={};return C=w.side===0?C.rotation?-q:-C.getBBox().height:w.side===2?b.y+q:Math.cos(C.rotation*n)*(b.y-C.getBBox(!1,0).height/2),J(Q.y)&&(C=w.side===0&&w.horiz?Q.y+C:Q.y),V=V+M(Q.x,[0,1,0,-1][w.side]*q)+P+b.x-(N&&ie?N*L*(f?-1:1):0),G=G+C-(N&&!ie?N*L*(f?1:-1):0),y&&(ie=F/($||1)%y,w.opposite&&(ie=y-ie-1),G+=w.labelOffset/y*ie),ee.x=V,ee.y=Math.round(G),K(this,"afterGetLabelPosition",{pos:ee,tickmarkOffset:N,index:F}),ee}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(V,G,C,ie,Q,N){return N.crispLine([["M",V,G],["L",V+(Q?0:-C),G+(Q?C:0)]],ie)}handleOverflow(V){const G=this.axis,C=G.options.labels,ie=V.x;var Q=G.chart.chartWidth,N=G.chart.spacing;const F=M(G.labelLeft,Math.min(G.pos,N[3]));N=M(G.labelRight,Math.max(G.isRadial?0:G.pos+G.len,Q-N[1]));const $=this.label,w=this.rotation,L={left:0,center:.5,right:1}[G.labelAlign||$.attr("align")],f=$.getBBox().width,y=G.getSlotWidth(this),b={};let P=y,q=1,ee;w||C.overflow!=="justify"?0>w&&ie-L*f<F?ee=Math.round(ie/Math.cos(w*n)-F):0<w&&ie+L*f>N&&(ee=Math.round((Q-ie)/Math.cos(w*n))):(Q=ie+(1-L)*f,ie-L*f<F?P=V.x+P*(1-L)-F:Q>N&&(P=N-V.x+P*L,q=-1),P=Math.min(y,P),P<y&&G.labelAlign==="center"&&(V.x+=q*(y-P-L*(y-Math.min(f,P)))),(f>P||G.autoRotation&&($.styles||{}).width)&&(ee=P)),ee&&(this.shortenLabel?this.shortenLabel():(b.width=Math.floor(ee)+"px",(C.style||{}).textOverflow||(b.textOverflow="ellipsis"),$.css(b)))}moveLabel(V,G){const C=this;var ie=C.label;const Q=C.axis;let N=!1;ie&&ie.textStr===V?(C.movedLabel=ie,N=!0,delete C.label):H(Q.ticks,function(F){N||F.isNew||F===C||!F.label||F.label.textStr!==V||(C.movedLabel=F.label,N=!0,F.labelPos=C.movedLabel.xy,delete F.label)}),N||!C.labelPos&&!ie||(ie=C.labelPos||ie.xy,C.movedLabel=C.createLabel(ie,V,G),C.movedLabel&&C.movedLabel.attr({opacity:0}))}render(V,G,C){var ie=this.axis,Q=ie.horiz,N=this.pos,F=M(this.tickmarkOffset,ie.tickmarkOffset);N=this.getPosition(Q,N,F,G),F=N.x;const $=N.y;ie=Q&&F===ie.pos+ie.len||!Q&&$===ie.pos?-1:1,Q=M(C,this.label&&this.label.newOpacity,1),C=M(C,1),this.isActive=!0,this.renderGridLine(G,C,ie),this.renderMark(N,C,ie),this.renderLabel(N,G,Q,V),this.isNew=!1,K(this,"afterRender")}renderGridLine(V,G,C){const ie=this.axis,Q=ie.options,N={},F=this.pos,$=this.type,w=M(this.tickmarkOffset,ie.tickmarkOffset),L=ie.chart.renderer;let f=this.gridLine,y=Q.gridLineWidth,b=Q.gridLineColor,P=Q.gridLineDashStyle;this.type==="minor"&&(y=Q.minorGridLineWidth,b=Q.minorGridLineColor,P=Q.minorGridLineDashStyle),f||(ie.chart.styledMode||(N.stroke=b,N["stroke-width"]=y||0,N.dashstyle=P),$||(N.zIndex=1),V&&(G=0),this.gridLine=f=L.path().attr(N).addClass("highcharts-"+($?$+"-":"")+"grid-line").add(ie.gridGroup)),f&&(C=ie.getPlotLinePath({value:F+w,lineWidth:f.strokeWidth()*C,force:"pass",old:V,acrossPanes:!1}))&&f[V||this.isNew?"attr":"animate"]({d:C,opacity:G})}renderMark(V,G,C){const ie=this.axis;var Q=ie.options;const N=ie.chart.renderer,F=this.type,$=ie.tickSize(F?F+"Tick":"tick"),w=V.x;V=V.y;const L=M(Q[F!=="minor"?"tickWidth":"minorTickWidth"],!F&&ie.isXAxis?1:0);Q=Q[F!=="minor"?"tickColor":"minorTickColor"];let f=this.mark;const y=!f;$&&(ie.opposite&&($[0]=-$[0]),f||(this.mark=f=N.path().addClass("highcharts-"+(F?F+"-":"")+"tick").add(ie.axisGroup),ie.chart.styledMode||f.attr({stroke:Q,"stroke-width":L})),f[y?"attr":"animate"]({d:this.getMarkPath(w,V,$[0],f.strokeWidth()*C,ie.horiz,N),opacity:G}))}renderLabel(V,G,C,ie){var Q=this.axis;const N=Q.horiz,F=Q.options,$=this.label,w=F.labels,L=w.step;Q=M(this.tickmarkOffset,Q.tickmarkOffset);const f=V.x;V=V.y;let y=!0;$&&I(f)&&($.xy=V=this.getLabelPosition(f,V,$,N,w,Q,ie,L),this.isFirst&&!this.isLast&&!F.showFirstLabel||this.isLast&&!this.isFirst&&!F.showLastLabel?y=!1:!N||w.step||w.rotation||G||C===0||this.handleOverflow(V),L&&ie%L&&(y=!1),y&&I(V.y)?(V.opacity=C,$[this.isNewLabel?"attr":"animate"](V).show(!0),this.isNewLabel=!1):($.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const V=this.label,G=this.axis;V&&!this.isNew&&(V.animate({opacity:0},void 0,V.destroy),delete this.label),G.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}return E}),s(l,"Core/Axis/Axis.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/AxisDefaults.js"],l["Core/Color/Color.js"],l["Core/Defaults.js"],l["Core/Foundation.js"],l["Core/Globals.js"],l["Core/Axis/Tick.js"],l["Core/Utilities.js"]],function(c,d,m,n,S,j,J,B){const{animObject:W}=c,{defaultOptions:K}=n,{registerEventOptions:I}=S,{deg2rad:O}=j,{arrayMax:H,arrayMin:M,clamp:E,correctFloat:k,defined:V,destroyObjectProperties:G,erase:C,error:ie,extend:Q,fireEvent:N,isArray:F,isNumber:$,isString:w,merge:L,normalizeTickInterval:f,objectEach:y,pick:b,relativeLength:P,removeEvent:q,splat:ee,syncTimeout:X}=B,ce=(Te,Z)=>f(Z,void 0,void 0,b(Te.options.allowDecimals,.5>Z||Te.tickAmount!==void 0),!!Te.tickAmount);class fe{constructor(Z,re){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(Z,re)}init(Z,re){const ue=re.isX;this.chart=Z,this.horiz=Z.inverted&&!this.isZAxis?!ue:ue,this.isXAxis=ue,this.coll=this.coll||(ue?"xAxis":"yAxis"),N(this,"init",{userOptions:re}),this.opposite=b(re.opposite,this.opposite),this.side=b(re.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(re);const ye=this.options,Ie=ye.labels,ae=ye.type;this.userOptions=re,this.minPixelPadding=0,this.reversed=b(ye.reversed,this.reversed),this.visible=ye.visible,this.zoomEnabled=ye.zoomEnabled,this.hasNames=ae==="category"||ye.categories===!0,this.categories=ye.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=V(ye.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=ye.minRange||ye.maxZoom,this.range=ye.range,this.offset=ye.offset||0,this.min=this.max=null,re=b(ye.crosshair,ee(Z.options.tooltip.crosshairs)[ue?0:1]),this.crosshair=re===!0?{}:re,Z.axes.indexOf(this)===-1&&(ue?Z.axes.splice(Z.xAxis.length,0,this):Z.axes.push(this),Z[this.coll].push(this)),this.series=this.series||[],Z.inverted&&!this.isZAxis&&ue&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=$(Ie.rotation)?Ie.rotation:void 0,I(this,ye),N(this,"afterInit")}setOptions(Z){this.options=L(d.defaultXAxisOptions,this.coll==="yAxis"&&d.defaultYAxisOptions,[d.defaultTopAxisOptions,d.defaultRightAxisOptions,d.defaultBottomAxisOptions,d.defaultLeftAxisOptions][this.side],L(K[this.coll],Z)),N(this,"afterSetOptions",{userOptions:Z})}defaultLabelFormatter(Z){var re=this.axis;({numberFormatter:Z}=this.chart);const ue=$(this.value)?this.value:NaN,ye=re.chart.time,Ie=this.dateTimeLabelFormat;var ae=K.lang;const be=ae.numericSymbols;ae=ae.numericSymbolMagnitude||1e3;const xe=re.logarithmic?Math.abs(ue):re.tickInterval;let le=be&&be.length,me;if(re.categories)me=`${this.value}`;else if(Ie)me=ye.dateFormat(Ie,ue);else if(le&&1e3<=xe)for(;le--&&typeof me>"u";)re=Math.pow(ae,le+1),xe>=re&&10*ue%re===0&&be[le]!==null&&ue!==0&&(me=Z(ue/re,-1)+be[le]);return typeof me>"u"&&(me=1e4<=Math.abs(ue)?Z(ue,-1):Z(ue,-1,void 0,"")),me}getSeriesExtremes(){const Z=this,re=Z.chart;let ue;N(this,"getSeriesExtremes",null,function(){Z.hasVisibleSeries=!1,Z.dataMin=Z.dataMax=Z.threshold=null,Z.softThreshold=!Z.isXAxis,Z.series.forEach(function(ye){if(ye.visible||!re.options.chart.ignoreHiddenSeries){var Ie=ye.options;let ae=Ie.threshold,be,xe;Z.hasVisibleSeries=!0,Z.positiveValuesOnly&&0>=ae&&(ae=null),Z.isXAxis?(Ie=ye.xData)&&Ie.length&&(Ie=Z.logarithmic?Ie.filter(le=>0<le):Ie,ue=ye.getXExtremes(Ie),be=ue.min,xe=ue.max,$(be)||be instanceof Date||(Ie=Ie.filter($),ue=ye.getXExtremes(Ie),be=ue.min,xe=ue.max),Ie.length&&(Z.dataMin=Math.min(b(Z.dataMin,be),be),Z.dataMax=Math.max(b(Z.dataMax,xe),xe))):(ye=ye.applyExtremes(),$(ye.dataMin)&&(be=ye.dataMin,Z.dataMin=Math.min(b(Z.dataMin,be),be)),$(ye.dataMax)&&(xe=ye.dataMax,Z.dataMax=Math.max(b(Z.dataMax,xe),xe)),V(ae)&&(Z.threshold=ae),(!Ie.softThreshold||Z.positiveValuesOnly)&&(Z.softThreshold=!1))}})}),N(this,"afterGetSeriesExtremes")}translate(Z,re,ue,ye,Ie,ae){const be=this.linkedParent||this,xe=ye&&be.old?be.old.min:be.min;if(!$(xe))return NaN;const le=be.minPixelPadding;Ie=(be.isOrdinal||be.brokenAxis&&be.brokenAxis.hasBreaks||be.logarithmic&&Ie)&&be.lin2val;let me=1,Se=0;return ye=ye&&be.old?be.old.transA:be.transA,ye||(ye=be.transA),ue&&(me*=-1,Se=be.len),be.reversed&&(me*=-1,Se-=me*(be.sector||be.len)),re?(ae=(Z*me+Se-le)/ye+xe,Ie&&(ae=be.lin2val(ae))):(Ie&&(Z=be.val2lin(Z)),Z=me*(Z-xe)*ye,ae=(be.isRadial?Z:k(Z))+Se+me*le+($(ae)?ye*ae:0)),ae}toPixels(Z,re){return this.translate(Z,!1,!this.horiz,void 0,!0)+(re?0:this.pos)}toValue(Z,re){return this.translate(Z-(re?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(Z){function re(Ge,Ye,at){return Ue!=="pass"&&(Ge<Ye||Ge>at)&&(Ue?Ge=E(Ge,Ye,at):ze=!0),Ge}const ue=this,ye=ue.chart,Ie=ue.left,ae=ue.top,be=Z.old,xe=Z.value,le=Z.lineWidth,me=be&&ye.oldChartHeight||ye.chartHeight,Se=be&&ye.oldChartWidth||ye.chartWidth,Oe=ue.transB;let Le=Z.translatedValue,Ue=Z.force,lt,it,pt,De,ze;return Z={value:xe,lineWidth:le,old:be,force:Ue,acrossPanes:Z.acrossPanes,translatedValue:Le},N(this,"getPlotLinePath",Z,function(Ge){Le=b(Le,ue.translate(xe,void 0,void 0,be)),Le=E(Le,-1e5,1e5),lt=pt=Math.round(Le+Oe),it=De=Math.round(me-Le-Oe),$(Le)?ue.horiz?(it=ae,De=me-ue.bottom,lt=pt=re(lt,Ie,Ie+ue.width)):(lt=Ie,pt=Se-ue.right,it=De=re(it,ae,ae+ue.height)):(ze=!0,Ue=!1),Ge.path=ze&&!Ue?null:ye.renderer.crispLine([["M",lt,it],["L",pt,De]],le||1)}),Z.path}getLinearTickPositions(Z,re,ue){const ye=k(Math.floor(re/Z)*Z);ue=k(Math.ceil(ue/Z)*Z);const Ie=[];let ae,be;if(k(ye+Z)===ye&&(be=20),this.single)return[re];for(re=ye;re<=ue&&(Ie.push(re),re=k(re+Z,be),re!==ae);)ae=re;return Ie}getMinorTickInterval(){const Z=this.options;return Z.minorTicks===!0?b(Z.minorTickInterval,"auto"):Z.minorTicks===!1?null:Z.minorTickInterval}getMinorTickPositions(){var Z=this.options;const re=this.tickPositions,ue=this.minorTickInterval;var ye=this.pointRangePadding||0;const Ie=this.min-ye;ye=this.max+ye;const ae=ye-Ie;let be=[];if(ae&&ae/ue<this.len/3){const xe=this.logarithmic;if(xe)this.paddedTicks.forEach(function(le,me,Se){me&&be.push.apply(be,xe.getLogTickPositions(ue,Se[me-1],Se[me],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")be=be.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(ue),Ie,ye,Z.startOfWeek));else for(Z=Ie+(re[0]-Ie)%ue;Z<=ye&&Z!==be[0];Z+=ue)be.push(Z)}return be.length!==0&&this.trimTicks(be),be}adjustForMinRange(){const Z=this.options,re=this.logarithmic;let ue=this.min;var ye=this.max;let Ie,ae=0,be,xe,le,me,Se;if(this.isXAxis&&typeof this.minRange>"u"&&!re&&(V(Z.min)||V(Z.max)||V(Z.floor)||V(Z.ceiling)?this.minRange=null:(this.series.forEach(function(Le){if(le=Le.xData,me=Le.xIncrement?1:le.length-1,1<le.length)for(be=me;0<be;be--)xe=le[be]-le[be-1],(!ae||xe<ae)&&(ae=xe)}),this.minRange=Math.min(5*ae,this.dataMax-this.dataMin))),ye-ue<this.minRange){Ie=this.dataMax-this.dataMin>=this.minRange,Se=this.minRange;var Oe=(Se-ye+ue)/2;Oe=[ue-Oe,b(Z.min,ue-Oe)],Ie&&(Oe[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),ue=H(Oe),ye=[ue+Se,b(Z.max,ue+Se)],Ie&&(ye[2]=re?re.log2lin(this.dataMax):this.dataMax),ye=M(ye),ye-ue<Se&&(Oe[0]=ye-Se,Oe[1]=b(Z.min,ye-Se),ue=H(Oe))}this.min=ue,this.max=ye}getClosest(){let Z;return this.categories?Z=1:this.series.forEach(function(re){const ue=re.closestPointRange,ye=re.visible||!re.chart.options.chart.ignoreHiddenSeries;!re.noSharedTooltip&&V(ue)&&ye&&(Z=V(Z)?Math.min(Z,ue):ue)}),Z}nameToX(Z){const re=F(this.options.categories),ue=re?this.categories:this.names;let ye=Z.options.x,Ie;return Z.series.requireSorting=!1,V(ye)||(ye=this.options.uniqueNames&&ue?re?ue.indexOf(Z.name):b(ue.keys[Z.name],-1):Z.series.autoIncrement()),ye===-1?!re&&ue&&(Ie=ue.length):Ie=ye,typeof Ie<"u"?(this.names[Ie]=Z.name,this.names.keys[Z.name]=Ie):Z.x&&(Ie=Z.x),Ie}updateNames(){const Z=this,re=this.names;0<re.length&&(Object.keys(re.keys).forEach(function(ue){delete re.keys[ue]}),re.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(ue){ue.xIncrement=null,(!ue.points||ue.isDirtyData)&&(Z.max=Math.max(Z.max,ue.xData.length-1),ue.processData(),ue.generatePoints()),ue.data.forEach(function(ye,Ie){let ae;ye&&ye.options&&typeof ye.name<"u"&&(ae=Z.nameToX(ye),typeof ae<"u"&&ae!==ye.x&&(ye.x=ae,ue.xData[Ie]=ae))})}))}setAxisTranslation(){const Z=this,re=Z.max-Z.min;var ue=Z.linkedParent;const ye=!!Z.categories,Ie=Z.isXAxis;let ae=Z.axisPointRange||0,be,xe=0,le=0,me=Z.transA;(Ie||ye||ae)&&(be=Z.getClosest(),ue?(xe=ue.minPointOffset,le=ue.pointRangePadding):Z.series.forEach(function(Se){const Oe=ye?1:Ie?b(Se.options.pointRange,be,0):Z.axisPointRange||0,Le=Se.options.pointPlacement;ae=Math.max(ae,Oe),(!Z.single||ye)&&(Se=Se.is("xrange")?!Ie:Ie,xe=Math.max(xe,Se&&w(Le)?0:Oe/2),le=Math.max(le,Se&&Le==="on"?0:Oe))}),ue=Z.ordinal&&Z.ordinal.slope&&be?Z.ordinal.slope/be:1,Z.minPointOffset=xe*=ue,Z.pointRangePadding=le*=ue,Z.pointRange=Math.min(ae,Z.single&&ye?1:re),Ie&&(Z.closestPointRange=be)),Z.translationSlope=Z.transA=me=Z.staticScale||Z.len/(re+le||1),Z.transB=Z.horiz?Z.left:Z.bottom,Z.minPixelPadding=me*xe,N(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(Z){var re=this.chart;const ue=this.logarithmic,ye=this.options,Ie=this.isXAxis,ae=this.isLinked,be=ye.tickPixelInterval,xe=this.categories,le=this.softThreshold;let me=ye.maxPadding,Se=ye.minPadding,Oe=$(ye.tickInterval)&&0<=ye.tickInterval?ye.tickInterval:void 0,Le=$(this.threshold)?this.threshold:null,Ue,lt,it;if(this.dateTime||xe||ae||this.getTickAmount(),lt=b(this.userMin,ye.min),it=b(this.userMax,ye.max),ae){this.linkedParent=re[this.coll][ye.linkedTo];var pt=this.linkedParent.getExtremes();this.min=b(pt.min,pt.dataMin),this.max=b(pt.max,pt.dataMax),ye.type!==this.linkedParent.options.type&&ie(11,1,re)}else le&&V(Le)&&(this.dataMin>=Le?(pt=Le,Se=0):this.dataMax<=Le&&(Ue=Le,me=0)),this.min=b(lt,pt,this.dataMin),this.max=b(it,Ue,this.dataMax);if(ue&&(this.positiveValuesOnly&&!Z&&0>=Math.min(this.min,b(this.dataMin,this.min))&&ie(10,1,re),this.min=k(ue.log2lin(this.min),16),this.max=k(ue.log2lin(this.max),16)),this.range&&V(this.max)&&(this.userMin=this.min=lt=Math.max(this.dataMin,this.minFromRange()),this.userMax=it=this.max,this.range=null),N(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(xe||this.axisPointRange||this.stacking&&this.stacking.usePercentage||ae)&&V(this.min)&&V(this.max)&&(re=this.max-this.min)&&(!V(lt)&&Se&&(this.min-=re*Se),!V(it)&&me&&(this.max+=re*me)),$(this.userMin)||($(ye.softMin)&&ye.softMin<this.min&&(this.min=lt=ye.softMin),$(ye.floor)&&(this.min=Math.max(this.min,ye.floor))),$(this.userMax)||($(ye.softMax)&&ye.softMax>this.max&&(this.max=it=ye.softMax),$(ye.ceiling)&&(this.max=Math.min(this.max,ye.ceiling))),le&&V(this.dataMin)&&(Le=Le||0,!V(lt)&&this.min<Le&&this.dataMin>=Le?this.min=this.options.minRange?Math.min(Le,this.max-this.minRange):Le:!V(it)&&this.max>Le&&this.dataMax<=Le&&(this.max=this.options.minRange?Math.max(Le,this.min+this.minRange):Le)),$(this.min)&&$(this.max)&&!this.chart.polar&&this.min>this.max&&(V(this.options.min)?this.max=this.min:V(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:ae&&this.linkedParent&&!Oe&&be===this.linkedParent.options.tickPixelInterval?Oe=this.linkedParent.tickInterval:b(Oe,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,xe?1:(this.max-this.min)*be/Math.max(this.len,be)),Ie&&!Z){const De=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(ze){ze.forceCrop=ze.forceCropping&&ze.forceCropping(),ze.processData(De)}),N(this,"postProcessData",{hasExtremesChanged:De})}this.setAxisTranslation(),N(this,"initialAxisTranslation"),this.pointRange&&!Oe&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),Z=b(ye.minTickInterval,this.dateTime&&!this.series.some(De=>De.noSharedTooltip)?this.closestPointRange:0),!Oe&&this.tickInterval<Z&&(this.tickInterval=Z),this.dateTime||this.logarithmic||Oe||(this.tickInterval=ce(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var Z=this.options;const re=Z.tickPositions,ue=Z.tickPositioner;var ye=this.getMinorTickInterval(),Ie=this.hasVerticalPanning(),ae=this.coll==="colorAxis";const be=(ae||!Ie)&&Z.startOnTick;Ie=(ae||!Ie)&&Z.endOnTick,ae=[];let xe;if(this.tickmarkOffset=this.categories&&Z.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=ye==="auto"&&this.tickInterval?this.tickInterval/Z.minorTicksPerMajor:ye,this.single=this.min===this.max&&V(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||Z.allowDecimals!==!1),re)ae=re.slice();else if($(this.min)&&$(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)ae=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,Z.units),this.min,this.max,Z.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)ae=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(ye=Z=this.tickInterval;ye<=2*Z&&(ae=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&ae.length>this.tickAmount);)this.tickInterval=ce(this,ye*=1.1);else ae=[this.min,this.max],ie(19,!1,this.chart);ae.length>this.len&&(ae=[ae[0],ae[ae.length-1]],ae[0]===ae[1]&&(ae.length=1)),ue&&(this.tickPositions=ae,(xe=ue.apply(this,[this.min,this.max]))&&(ae=xe))}this.tickPositions=ae,this.paddedTicks=ae.slice(0),this.trimTicks(ae,be,Ie),!this.isLinked&&$(this.min)&&$(this.max)&&(this.single&&2>ae.length&&!this.categories&&!this.series.some(le=>le.is("heatmap")&&le.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),re||xe||this.adjustTickAmount()),N(this,"afterSetTickPositions")}trimTicks(Z,re,ue){const ye=Z[0],Ie=Z[Z.length-1],ae=!this.isOrdinal&&this.minPointOffset||0;if(N(this,"trimTicks"),!this.isLinked){if(re&&ye!==-1/0)this.min=ye;else for(;this.min-ae>Z[0];)Z.shift();if(ue)this.max=Ie;else for(;this.max+ae<Z[Z.length-1];)Z.pop();Z.length===0&&V(ye)&&!this.options.tickPositions&&Z.push((Ie+ye)/2)}}alignToOthers(){const Z=this,re=[this],ue=Z.options,ye=this.coll==="yAxis"&&this.chart.options.chart.alignThresholds,Ie=[];let ae;if(Z.thresholdAlignment=void 0,(this.chart.options.chart.alignTicks!==!1&&ue.alignTicks||ye)&&ue.startOnTick!==!1&&ue.endOnTick!==!1&&!Z.logarithmic){const be=le=>{const{horiz:me,options:Se}=le;return[me?Se.left:Se.top,Se.width,Se.height,Se.pane].join()},xe=be(this);this.chart[this.coll].forEach(function(le){const{series:me}=le;me.length&&me.some(Se=>Se.visible)&&le!==Z&&be(le)===xe&&(ae=!0,re.push(le))})}if(ae&&ye){re.forEach(xe=>{xe=xe.getThresholdAlignment(Z),$(xe)&&Ie.push(xe)});const be=1<Ie.length?Ie.reduce((xe,le)=>xe+le,0)/Ie.length:void 0;re.forEach(xe=>{xe.thresholdAlignment=be})}return ae}getThresholdAlignment(Z){if((!$(this.dataMin)||this!==Z&&this.series.some(re=>re.isDirty||re.isDirtyData))&&this.getSeriesExtremes(),$(this.threshold))return Z=E((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(Z=1-Z),Z}getTickAmount(){const Z=this.options,re=Z.tickPixelInterval;let ue=Z.tickAmount;!V(Z.tickInterval)&&!ue&&this.len<re&&!this.isRadial&&!this.logarithmic&&Z.startOnTick&&Z.endOnTick&&(ue=2),!ue&&this.alignToOthers()&&(ue=Math.ceil(this.len/re)+1),4>ue&&(this.finalTickAmt=ue,ue=5),this.tickAmount=ue}adjustTickAmount(){const Z=this,{finalTickAmt:re,max:ue,min:ye,options:Ie,tickPositions:ae,tickAmount:be,thresholdAlignment:xe}=Z,le=ae&&ae.length;var me=b(Z.threshold,Z.softThreshold?0:null),Se=Z.tickInterval;let Oe;if($(xe)&&(Oe=.5>xe?Math.ceil(xe*(be-1)):Math.floor(xe*(be-1)),Ie.reversed&&(Oe=be-1-Oe)),Z.hasData()&&$(ye)&&$(ue)){const Le=()=>{Z.transA*=(le-1)/(be-1),Z.min=Ie.startOnTick?ae[0]:Math.min(ye,ae[0]),Z.max=Ie.endOnTick?ae[ae.length-1]:Math.max(ue,ae[ae.length-1])};if($(Oe)&&$(Z.threshold)){for(;ae[Oe]!==me||ae.length!==be||ae[0]>ye||ae[ae.length-1]<ue;){for(ae.length=0,ae.push(Z.threshold);ae.length<be;)ae[Oe]===void 0||ae[Oe]>Z.threshold?ae.unshift(k(ae[0]-Se)):ae.push(k(ae[ae.length-1]+Se));if(Se>8*Z.tickInterval)break;Se*=2}Le()}else if(le<be){for(;ae.length<be;)ae.length%2||ye===me?ae.push(k(ae[ae.length-1]+Se)):ae.unshift(k(ae[0]-Se));Le()}if(V(re)){for(Se=me=ae.length;Se--;)(re===3&&Se%2===1||2>=re&&0<Se&&Se<me-1)&&ae.splice(Se,1);Z.finalTickAmt=void 0}}}setScale(){let Z=!1,re=!1;this.series.forEach(function(ye){Z=Z||ye.isDirtyData||ye.isDirty,re=re||ye.xAxis&&ye.xAxis.isDirty||!1}),this.setAxisSize();const ue=this.len!==(this.old&&this.old.len);ue||Z||re||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=ue||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),Z&&this.panningState&&(this.panningState.isDirty=!0),N(this,"afterSetScale")}setExtremes(Z,re,ue,ye,Ie){const ae=this,be=ae.chart;ue=b(ue,!0),ae.series.forEach(function(xe){delete xe.kdTree}),Ie=Q(Ie,{min:Z,max:re}),N(ae,"setExtremes",Ie,function(){ae.userMin=Z,ae.userMax=re,ae.eventArgs=Ie,ue&&be.redraw(ye)})}zoom(Z,re){const ue=this,ye=this.dataMin,Ie=this.dataMax,ae=this.options,be=Math.min(ye,b(ae.min,ye)),xe=Math.max(Ie,b(ae.max,Ie));return Z={newMin:Z,newMax:re},N(this,"zoom",Z,function(le){let me=le.newMin,Se=le.newMax;(me!==ue.min||Se!==ue.max)&&(ue.allowZoomOutside||(V(ye)&&(me<be&&(me=be),me>xe&&(me=xe)),V(Ie)&&(Se<be&&(Se=be),Se>xe&&(Se=xe))),ue.displayBtn=typeof me<"u"||typeof Se<"u",ue.setExtremes(me,Se,!1,void 0,{trigger:"zoom"})),le.zoomed=!0}),Z.zoomed}setAxisSize(){const Z=this.chart;var re=this.options;const ue=re.offsets||[0,0,0,0],ye=this.horiz,Ie=this.width=Math.round(P(b(re.width,Z.plotWidth-ue[3]+ue[1]),Z.plotWidth)),ae=this.height=Math.round(P(b(re.height,Z.plotHeight-ue[0]+ue[2]),Z.plotHeight)),be=this.top=Math.round(P(b(re.top,Z.plotTop+ue[0]),Z.plotHeight,Z.plotTop));re=this.left=Math.round(P(b(re.left,Z.plotLeft+ue[3]),Z.plotWidth,Z.plotLeft)),this.bottom=Z.chartHeight-ae-be,this.right=Z.chartWidth-Ie-re,this.len=Math.max(ye?Ie:ae,0),this.pos=ye?re:be}getExtremes(){const Z=this.logarithmic;return{min:Z?k(Z.lin2log(this.min)):this.min,max:Z?k(Z.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(Z){var re=this.logarithmic;const ue=re?re.lin2log(this.min):this.min;return re=re?re.lin2log(this.max):this.max,Z===null||Z===-1/0?Z=ue:Z===1/0?Z=re:ue>Z?Z=ue:re<Z&&(Z=re),this.translate(Z,0,1,0,1)}autoLabelAlign(Z){const re=(b(Z,0)-90*this.side+720)%360;return Z={align:"center"},N(this,"autoLabelAlign",Z,function(ue){15<re&&165>re?ue.align="right":195<re&&345>re&&(ue.align="left")}),Z.align}tickSize(Z){const re=this.options,ue=b(re[Z==="tick"?"tickWidth":"minorTickWidth"],Z==="tick"&&this.isXAxis&&!this.categories?1:0);let ye=re[Z==="tick"?"tickLength":"minorTickLength"],Ie;return ue&&ye&&(re[Z+"Position"]==="inside"&&(ye=-ye),Ie=[ye,ue]),Z={tickSize:Ie},N(this,"afterTickSize",Z),Z.tickSize}labelMetrics(){const Z=this.chart.renderer;var re=this.ticks;return re=re[Object.keys(re)[0]]||{},this.chart.renderer.fontMetrics(re.label||re.movedLabel||Z.box)}unsquish(){const Z=this.options.labels;var re=this.horiz;const ue=this.tickInterval,ye=this.len/(((this.categories?1:0)+this.max-this.min)/ue),Ie=Z.rotation,ae=.75*this.labelMetrics().h,be=Math.max(this.max-this.min,0),xe=function(Le){let Ue=Le/(ye||1);return Ue=1<Ue?Math.ceil(Ue):1,Ue*ue>be&&Le!==1/0&&ye!==1/0&&be&&(Ue=Math.ceil(be/ue)),k(Ue*ue)};let le=ue,me,Se=Number.MAX_VALUE,Oe;if(re){if(Z.staggerLines||($(Ie)?Oe=[Ie]:ye<Z.autoRotationLimit&&(Oe=Z.autoRotation)),Oe){let Le;for(const Ue of Oe)(Ue===Ie||Ue&&-90<=Ue&&90>=Ue)&&(re=xe(Math.abs(ae/Math.sin(O*Ue))),Le=re+Math.abs(Ue/360),Le<Se&&(Se=Le,me=Ue,le=re))}}else le=xe(ae);return this.autoRotation=Oe,this.labelRotation=b(me,$(Ie)?Ie:0),Z.step?ue:le}getSlotWidth(Z){const re=this.chart,ue=this.horiz,ye=this.options.labels,Ie=Math.max(this.tickPositions.length-(this.categories?0:1),1),ae=re.margin[3];if(Z&&$(Z.slotWidth))return Z.slotWidth;if(ue&&2>ye.step)return ye.rotation?0:(this.staggerLines||1)*this.len/Ie;if(!ue){if(Z=ye.style.width,Z!==void 0)return parseInt(String(Z),10);if(ae)return ae-re.spacing[3]}return .33*re.chartWidth}renderUnsquish(){const Z=this.chart,re=Z.renderer,ue=this.tickPositions,ye=this.ticks,Ie=this.options.labels,ae=Ie.style,be=this.horiz,xe=this.getSlotWidth();var le=Math.max(1,Math.round(xe-2*Ie.padding));const me={},Se=this.labelMetrics(),Oe=ae.textOverflow;let Le,Ue,lt=0;if(w(Ie.rotation)||(me.rotation=Ie.rotation||0),ue.forEach(function(pt){pt=ye[pt],pt.movedLabel&&pt.replaceMovedLabel(),pt&&pt.label&&pt.label.textPxLength>lt&&(lt=pt.label.textPxLength)}),this.maxLabelLength=lt,this.autoRotation)lt>le&&lt>Se.h?me.rotation=this.labelRotation:this.labelRotation=0;else if(xe&&(Le=le,!Oe))for(Ue="clip",le=ue.length;!be&&le--;){var it=ue[le];(it=ye[it].label)&&(it.styles&&it.styles.textOverflow==="ellipsis"?it.css({textOverflow:"clip"}):it.textPxLength>xe&&it.css({width:xe+"px"}),it.getBBox().height>this.len/ue.length-(Se.h-Se.f)&&(it.specificTextOverflow="ellipsis"))}me.rotation&&(Le=lt>.5*Z.chartHeight?.33*Z.chartHeight:lt,Oe||(Ue="ellipsis")),(this.labelAlign=Ie.align||this.autoLabelAlign(this.labelRotation))&&(me.align=this.labelAlign),ue.forEach(function(pt){const De=(pt=ye[pt])&&pt.label,ze=ae.width,Ge={};De&&(De.attr(me),pt.shortenLabel?pt.shortenLabel():Le&&!ze&&ae.whiteSpace!=="nowrap"&&(Le<De.textPxLength||De.element.tagName==="SPAN")?(Ge.width=Le+"px",Oe||(Ge.textOverflow=De.specificTextOverflow||Ue),De.css(Ge)):De.styles&&De.styles.width&&!Ge.width&&!ze&&De.css({width:null}),delete De.specificTextOverflow,pt.rotation=me.rotation)},this),this.tickRotCorr=re.rotCorr(Se.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(Z){return Z.hasData()})||this.options.showEmpty&&V(this.min)&&V(this.max)}addTitle(Z){const re=this.chart.renderer,ue=this.horiz,ye=this.opposite,Ie=this.options.title,ae=this.chart.styledMode;let be;this.axisTitle||((be=Ie.textAlign)||(be=(ue?{low:"left",middle:"center",high:"right"}:{low:ye?"right":"left",middle:"center",high:ye?"left":"right"})[Ie.align]),this.axisTitle=re.text(Ie.text||"",0,0,Ie.useHTML).attr({zIndex:7,rotation:Ie.rotation,align:be}).addClass("highcharts-axis-title"),ae||this.axisTitle.css(L(Ie.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),ae||Ie.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[Z?"show":"hide"](Z)}generateTick(Z){const re=this.ticks;re[Z]?re[Z].addLabel():re[Z]=new J(this,Z)}getOffset(){const Z=this,{chart:re,horiz:ue,options:ye,side:Ie,ticks:ae,tickPositions:be,coll:xe,axisParent:le}=Z,me=re.renderer,Se=re.inverted&&!Z.isZAxis?[1,0,3,2][Ie]:Ie;var Oe=Z.hasData();const Le=ye.title;var Ue=ye.labels;const lt=$(ye.crossing);var it=re.axisOffset;const pt=re.clipOffset,De=[-1,1,1,-1][Ie],ze=ye.className;let Ge,Ye=0,at;var gt=0;let Ut=0;if(Z.showAxis=Ge=Oe||ye.showEmpty,Z.staggerLines=Z.horiz&&Ue.staggerLines||void 0,!Z.axisGroup){const Gt=(wi,Qt,Ti)=>me.g(wi).attr({zIndex:Ti}).addClass(`highcharts-${xe.toLowerCase()}${Qt} `+(this.isRadial?`highcharts-radial-axis${Qt} `:"")+(ze||"")).add(le);Z.gridGroup=Gt("grid","-grid",ye.gridZIndex),Z.axisGroup=Gt("axis","",ye.zIndex),Z.labelGroup=Gt("axis-labels","-labels",Ue.zIndex)}Oe||Z.isLinked?(be.forEach(function(Gt){Z.generateTick(Gt)}),Z.renderUnsquish(),Z.reserveSpaceDefault=Ie===0||Ie===2||{1:"left",3:"right"}[Ie]===Z.labelAlign,b(Ue.reserveSpace,lt?!1:null,Z.labelAlign==="center"?!0:null,Z.reserveSpaceDefault)&&be.forEach(function(Gt){Ut=Math.max(ae[Gt].getLabelSize(),Ut)}),Z.staggerLines&&(Ut*=Z.staggerLines),Z.labelOffset=Ut*(Z.opposite?-1:1)):y(ae,function(Gt,wi){Gt.destroy(),delete ae[wi]}),Le&&Le.text&&Le.enabled!==!1&&(Z.addTitle(Ge),Ge&&!lt&&Le.reserveSpace!==!1&&(Z.titleOffset=Ye=Z.axisTitle.getBBox()[ue?"height":"width"],at=Le.offset,gt=V(at)?0:b(Le.margin,ue?5:10))),Z.renderLine(),Z.offset=De*b(ye.offset,it[Ie]?it[Ie]+(ye.margin||0):0),Z.tickRotCorr=Z.tickRotCorr||{x:0,y:0},Oe=Ie===0?-Z.labelMetrics().h:Ie===2?Z.tickRotCorr.y:0,gt=Math.abs(Ut)+gt,Ut&&(gt=gt-Oe+De*(ue?b(Ue.y,Z.tickRotCorr.y+De*Ue.distance):b(Ue.x,De*Ue.distance))),Z.axisTitleMargin=b(at,gt),Z.getMaxLabelDimensions&&(Z.maxLabelDimensions=Z.getMaxLabelDimensions(ae,be)),xe!=="colorAxis"&&(Ue=this.tickSize("tick"),it[Ie]=Math.max(it[Ie],(Z.axisTitleMargin||0)+Ye+De*Z.offset,gt,be&&be.length&&Ue?Ue[0]+De*Z.offset:0),it=!Z.axisLine||ye.offset?0:2*Math.floor(Z.axisLine.strokeWidth()/2),pt[Se]=Math.max(pt[Se],it)),N(this,"afterGetOffset")}getLinePath(Z){const re=this.chart,ue=this.opposite;var ye=this.offset;const Ie=this.horiz,ae=this.left+(ue?this.width:0)+ye;return ye=re.chartHeight-this.bottom-(ue?this.height:0)+ye,ue&&(Z*=-1),re.renderer.crispLine([["M",Ie?this.left:ae,Ie?ye:this.top],["L",Ie?re.chartWidth-this.right:ae,Ie?ye:re.chartHeight-this.bottom]],Z)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(Z){var re=this.horiz,ue=this.left;const ye=this.top;var Ie=this.len;const ae=this.options.title,be=re?ue:ye,xe=this.opposite,le=this.offset,me=ae.x,Se=ae.y,Oe=this.chart.renderer.fontMetrics(Z);return Z=Z?Math.max(Z.getBBox(!1,0).height-Oe.h-1,0):0,Ie={low:be+(re?0:Ie),middle:be+Ie/2,high:be+(re?Ie:0)}[ae.align],ue=(re?ye+this.height:ue)+(re?1:-1)*(xe?-1:1)*(this.axisTitleMargin||0)+[-Z,Z,Oe.f,-Z][this.side],re={x:re?Ie+me:ue+(xe?this.width:0)+le+me,y:re?ue+Se-(xe?this.height:0)+le:Ie+Se},N(this,"afterGetTitlePosition",{titlePosition:re}),re}renderMinorTick(Z,re){const ue=this.minorTicks;ue[Z]||(ue[Z]=new J(this,Z,"minor")),re&&ue[Z].isNew&&ue[Z].render(null,!0),ue[Z].render(null,!1,1)}renderTick(Z,re,ue){const ye=this.ticks;(!this.isLinked||Z>=this.min&&Z<=this.max||this.grid&&this.grid.isColumn)&&(ye[Z]||(ye[Z]=new J(this,Z)),ue&&ye[Z].isNew&&ye[Z].render(re,!0,-1),ye[Z].render(re))}render(){const Z=this,re=Z.chart,ue=Z.logarithmic,ye=Z.options,Ie=Z.isLinked,ae=Z.tickPositions,be=Z.axisTitle,xe=Z.ticks,le=Z.minorTicks,me=Z.alternateBands,Se=ye.stackLabels,Oe=ye.alternateGridColor,Le=ye.crossing,Ue=Z.tickmarkOffset,lt=Z.axisLine,it=Z.showAxis,pt=W(re.renderer.globalAnimation);let De,ze;if(Z.labelEdge.length=0,Z.overlap=!1,[xe,le,me].forEach(function(Ge){y(Ge,function(Ye){Ye.isActive=!1})}),$(Le)){const Ge=this.isXAxis?re.yAxis[0]:re.xAxis[0],Ye=[1,-1,-1,1][this.side];Ge&&(this.offset=Ye*Ge.toPixels(Le,!0))}if(Z.hasData()||Ie){const Ge=Z.chart.hasRendered&&Z.old&&$(Z.old.min);Z.minorTickInterval&&!Z.categories&&Z.getMinorTickPositions().forEach(function(Ye){Z.renderMinorTick(Ye,Ge)}),ae.length&&(ae.forEach(function(Ye,at){Z.renderTick(Ye,at,Ge)}),Ue&&(Z.min===0||Z.single)&&(xe[-1]||(xe[-1]=new J(Z,-1,null,!0)),xe[-1].render(-1))),Oe&&ae.forEach(function(Ye,at){ze=typeof ae[at+1]<"u"?ae[at+1]+Ue:Z.max-Ue,at%2===0&&Ye<Z.max&&ze<=Z.max+(re.polar?-Ue:Ue)&&(me[Ye]||(me[Ye]=new j.PlotLineOrBand(Z)),De=Ye+Ue,me[Ye].options={from:ue?ue.lin2log(De):De,to:ue?ue.lin2log(ze):ze,color:Oe,className:"highcharts-alternate-grid"},me[Ye].render(),me[Ye].isActive=!0)}),Z._addedPlotLB||(Z._addedPlotLB=!0,(ye.plotLines||[]).concat(ye.plotBands||[]).forEach(function(Ye){Z.addPlotBandOrLine(Ye)}))}[xe,le,me].forEach(function(Ge){const Ye=[],at=pt.duration;y(Ge,function(gt,Ut){gt.isActive||(gt.render(Ut,!1,0),gt.isActive=!1,Ye.push(Ut))}),X(function(){let gt=Ye.length;for(;gt--;)Ge[Ye[gt]]&&!Ge[Ye[gt]].isActive&&(Ge[Ye[gt]].destroy(),delete Ge[Ye[gt]])},Ge!==me&&re.hasRendered&&at?at:0)}),lt&&(lt[lt.isPlaced?"animate":"attr"]({d:this.getLinePath(lt.strokeWidth())}),lt.isPlaced=!0,lt[it?"show":"hide"](it)),be&&it&&(be[be.isNew?"attr":"animate"](Z.getTitlePosition(be)),be.isNew=!1),Se&&Se.enabled&&Z.stacking&&Z.stacking.renderStackTotals(),Z.old={len:Z.len,max:Z.max,min:Z.min,transA:Z.transA,userMax:Z.userMax,userMin:Z.userMin},Z.isDirty=!1,N(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(Z){Z.render()})),this.series.forEach(function(Z){Z.isDirty=!0})}getKeepProps(){return this.keepProps||fe.keepProps}destroy(Z){const re=this,ue=re.plotLinesAndBands,ye=this.eventOptions;if(N(this,"destroy",{keepEvents:Z}),Z||q(re),[re.ticks,re.minorTicks,re.alternateBands].forEach(function(Ie){G(Ie)}),ue)for(Z=ue.length;Z--;)ue[Z].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(Ie){re[Ie]&&(re[Ie]=re[Ie].destroy())});for(const Ie in re.plotLinesAndBandsGroups)re.plotLinesAndBandsGroups[Ie]=re.plotLinesAndBandsGroups[Ie].destroy();y(re,function(Ie,ae){re.getKeepProps().indexOf(ae)===-1&&delete re[ae]}),this.eventOptions=ye}drawCrosshair(Z,re){const ue=this.crosshair;var ye=b(ue&&ue.snap,!0);const Ie=this.chart;let ae,be=this.cross;if(N(this,"drawCrosshair",{e:Z,point:re}),Z||(Z=this.cross&&this.cross.e),ue&&(V(re)||!ye)!==!1){if(ye?V(re)&&(ae=b(this.coll!=="colorAxis"?re.crosshairPos:null,this.isXAxis?re.plotX:this.len-re.plotY)):ae=Z&&(this.horiz?Z.chartX-this.pos:this.len-Z.chartY+this.pos),V(ae)){var xe={value:re&&(this.isXAxis?re.x:b(re.stackY,re.y)),translatedValue:ae};Ie.polar&&Q(xe,{isCrosshair:!0,chartX:Z&&Z.chartX,chartY:Z&&Z.chartY,point:re}),xe=this.getPlotLinePath(xe)||null}if(!V(xe)){this.hideCrosshair();return}ye=this.categories&&!this.isRadial,be||(this.cross=be=Ie.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(ye?"category ":"thin ")+(ue.className||"")).attr({zIndex:b(ue.zIndex,2)}).add(),Ie.styledMode||(be.attr({stroke:ue.color||(ye?m.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":b(ue.width,1)}).css({"pointer-events":"none"}),ue.dashStyle&&be.attr({dashstyle:ue.dashStyle}))),be.show().attr({d:xe}),ye&&!ue.width&&be.attr({"stroke-width":this.transA}),this.cross.e=Z}else this.hideCrosshair();N(this,"afterDrawCrosshair",{e:Z,point:re})}hideCrosshair(){this.cross&&this.cross.hide(),N(this,"afterHideCrosshair")}hasVerticalPanning(){const Z=this.chart.options.chart.panning;return!!(Z&&Z.enabled&&/y/.test(Z.type))}update(Z,re){const ue=this.chart;Z=L(this.userOptions,Z),this.destroy(!0),this.init(ue,Z),ue.isDirtyBox=!0,b(re,!0)&&ue.redraw()}remove(Z){const re=this.chart,ue=this.coll,ye=this.series;let Ie=ye.length;for(;Ie--;)ye[Ie]&&ye[Ie].remove(!1);C(re.axes,this),C(re[ue],this),re[ue].forEach(function(ae,be){ae.options.index=ae.userOptions.index=be}),this.destroy(),re.isDirtyBox=!0,b(Z,!0)&&re.redraw()}setTitle(Z,re){this.update({title:Z},re)}setCategories(Z,re){this.update({categories:Z},re)}}return fe.defaultOptions=d.defaultXAxisOptions,fe.keepProps="extKey hcEvents names series userMax userMin".split(" "),fe}),s(l,"Core/Axis/DateTimeAxis.js",[l["Core/Utilities.js"]],function(c){const{addEvent:d,getMagnitude:m,normalizeTickInterval:n,timeUnits:S}=c;var j;return function(J){function B(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function W(O){O.userOptions.type!=="datetime"?this.dateTime=void 0:this.dateTime||(this.dateTime=new I(this))}const K=[];J.compose=function(O){return c.pushUnique(K,O)&&(O.keepProps.push("dateTime"),O.prototype.getTimeTicks=B,d(O,"init",W)),O};class I{constructor(H){this.axis=H}normalizeTimeTickInterval(H,M){const E=M||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];M=E[E.length-1];let k=S[M[0]],V=M[1],G;for(G=0;G<E.length&&(M=E[G],k=S[M[0]],V=M[1],!(E[G+1]&&H<=(k*V[V.length-1]+S[E[G+1][0]])/2));G++);return k===S.year&&H<5*k&&(V=[1,2,5]),H=n(H/k,V,M[0]==="year"?Math.max(m(H/k),1):1),{unitRange:k,count:H,unitName:M[0]}}getXDateFormat(H,M){const{axis:E}=this,k=E.chart.time;return E.closestPointRange?k.getDateFormat(E.closestPointRange,H,E.options.startOfWeek,M)||k.resolveDTLFormat(M.year).main:k.resolveDTLFormat(M.day).main}}J.Additions=I}(j||(j={})),j}),s(l,"Core/Axis/LogarithmicAxis.js",[l["Core/Utilities.js"]],function(c){const{addEvent:d,normalizeTickInterval:m,pick:n}=c;var S;return function(j){function J(I){let O=this.logarithmic;I.userOptions.type!=="logarithmic"?this.logarithmic=void 0:O||(this.logarithmic=new K(this))}function B(){const I=this.logarithmic;I&&(this.lin2val=function(O){return I.lin2log(O)},this.val2lin=function(O){return I.log2lin(O)})}const W=[];j.compose=function(I){return c.pushUnique(W,I)&&(I.keepProps.push("logarithmic"),d(I,"init",J),d(I,"afterInit",B)),I};class K{constructor(O){this.axis=O}getLogTickPositions(O,H,M,E){const k=this.axis;var V=k.len,G=k.options;let C=[];if(E||(this.minorAutoInterval=void 0),.5<=O)O=Math.round(O),C=k.getLinearTickPositions(O,H,M);else if(.08<=O){G=Math.floor(H);let ie,Q,N,F,$;for(V=.3<O?[1,2,4]:.15<O?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];G<M+1&&!$;G++)for(Q=V.length,ie=0;ie<Q&&!$;ie++)N=this.log2lin(this.lin2log(G)*V[ie]),N>H&&(!E||F<=M)&&typeof F<"u"&&C.push(F),F>M&&($=!0),F=N}else H=this.lin2log(H),M=this.lin2log(M),O=E?k.getMinorTickInterval():G.tickInterval,O=n(O==="auto"?null:O,this.minorAutoInterval,G.tickPixelInterval/(E?5:1)*(M-H)/((E?V/k.tickPositions.length:V)||1)),O=m(O),C=k.getLinearTickPositions(O,H,M).map(this.log2lin),E||(this.minorAutoInterval=O/5);return E||(k.tickInterval=O),C}lin2log(O){return Math.pow(10,O)}log2lin(O){return Math.log(O)/Math.LN10}}j.Additions=K}(S||(S={})),S}),s(l,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[l["Core/Utilities.js"]],function(c){const{erase:d,extend:m,isNumber:n}=c;var S;return function(j){function J(k){return this.addPlotBandOrLine(k,"plotBands")}function B(k,V){const G=this.userOptions;let C=new E(this,k);if(this.visible&&(C=C.render()),C){if(this._addedPlotLB||(this._addedPlotLB=!0,(G.plotLines||[]).concat(G.plotBands||[]).forEach(ie=>{this.addPlotBandOrLine(ie)})),V){const ie=G[V]||[];ie.push(k),G[V]=ie}this.plotLinesAndBands.push(C)}return C}function W(k){return this.addPlotBandOrLine(k,"plotLines")}function K(k,V,G=this.options){const C=this.getPlotLinePath({value:V,force:!0,acrossPanes:G.acrossPanes}),ie=[],Q=this.horiz;V=!n(this.min)||!n(this.max)||k<this.min&&V<this.min||k>this.max&&V>this.max,k=this.getPlotLinePath({value:k,force:!0,acrossPanes:G.acrossPanes}),G=1;let N;if(k&&C)for(V&&(N=k.toString()===C.toString(),G=0),V=0;V<k.length;V+=2){const F=k[V],$=k[V+1],w=C[V],L=C[V+1];F[0]!=="M"&&F[0]!=="L"||$[0]!=="M"&&$[0]!=="L"||w[0]!=="M"&&w[0]!=="L"||L[0]!=="M"&&L[0]!=="L"||(Q&&w[1]===F[1]?(w[1]+=G,L[1]+=G):Q||w[2]!==F[2]||(w[2]+=G,L[2]+=G),ie.push(["M",F[1],F[2]],["L",$[1],$[2]],["L",L[1],L[2]],["L",w[1],w[2]],["Z"])),ie.isFlat=N}return ie}function I(k){this.removePlotBandOrLine(k)}function O(k){const V=this.plotLinesAndBands,G=this.options,C=this.userOptions;if(V){let ie=V.length;for(;ie--;)V[ie].id===k&&V[ie].destroy();[G.plotLines||[],C.plotLines||[],G.plotBands||[],C.plotBands||[]].forEach(function(Q){for(ie=Q.length;ie--;)(Q[ie]||{}).id===k&&d(Q,Q[ie])})}}function H(k){this.removePlotBandOrLine(k)}const M=[];let E;j.compose=function(k,V){return E||(E=k),c.pushUnique(M,V)&&m(V.prototype,{addPlotBand:J,addPlotLine:W,addPlotBandOrLine:B,getPlotBandPath:K,removePlotBand:I,removePlotLine:H,removePlotBandOrLine:O}),V}}(S||(S={})),S}),s(l,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[l["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],l["Core/Utilities.js"]],function(c,d){const{arrayMax:m,arrayMin:n,defined:S,destroyObjectProperties:j,erase:J,fireEvent:B,merge:W,objectEach:K,pick:I}=d;class O{static compose(M){return c.compose(O,M)}constructor(M,E){this.axis=M,E&&(this.options=E,this.id=E.id)}render(){B(this,"render");const M=this,E=M.axis,k=E.horiz;var V=E.logarithmic;const G=M.options,C=G.color,ie=I(G.zIndex,0),Q=G.events,N={},F=E.chart.renderer;let $=G.label,w=M.label,L=G.to,f=G.from,y=G.value,b=M.svgElem;var P=[];const q=S(f)&&S(L);P=S(y);const ee=!b,X={class:"highcharts-plot-"+(q?"band ":"line ")+(G.className||"")};let ce=q?"bands":"lines";if(V&&(f=V.log2lin(f),L=V.log2lin(L),y=V.log2lin(y)),E.chart.styledMode||(P?(X.stroke=C||"#999999",X["stroke-width"]=I(G.width,1),G.dashStyle&&(X.dashstyle=G.dashStyle)):q&&(X.fill=C||"#e6e9ff",G.borderWidth&&(X.stroke=G.borderColor,X["stroke-width"]=G.borderWidth))),N.zIndex=ie,ce+="-"+ie,(V=E.plotLinesAndBandsGroups[ce])||(E.plotLinesAndBandsGroups[ce]=V=F.g("plot-"+ce).attr(N).add()),ee&&(M.svgElem=b=F.path().attr(X).add(V)),P)P=E.getPlotLinePath({value:y,lineWidth:b.strokeWidth(),acrossPanes:G.acrossPanes});else if(q)P=E.getPlotBandPath(f,L,G);else return;return!M.eventsAdded&&Q&&(K(Q,function(fe,Te){b.on(Te,function(Z){Q[Te].apply(M,[Z])})}),M.eventsAdded=!0),(ee||!b.d)&&P&&P.length?b.attr({d:P}):b&&(P?(b.show(),b.animate({d:P})):b.d&&(b.hide(),w&&(M.label=w=w.destroy()))),$&&(S($.text)||S($.formatter))&&P&&P.length&&0<E.width&&0<E.height&&!P.isFlat?($=W({align:k&&q&&"center",x:k?!q&&4:10,verticalAlign:!k&&q&&"middle",y:k?q?16:10:q?6:-4,rotation:k&&!q&&90},$),this.renderLabel($,P,q,ie)):w&&w.hide(),M}renderLabel(M,E,k,V){const G=this.axis;var C=G.chart.renderer;let ie=this.label;ie||(this.label=ie=C.text(this.getLabelText(M),0,0,M.useHTML).attr({align:M.textAlign||M.align,rotation:M.rotation,class:"highcharts-plot-"+(k?"band":"line")+"-label "+(M.className||""),zIndex:V}).add(),G.chart.styledMode||ie.css(W({fontSize:"0.8em",textOverflow:"ellipsis"},M.style))),V=E.xBounds||[E[0][1],E[1][1],k?E[2][1]:E[0][1]],E=E.yBounds||[E[0][2],E[1][2],k?E[2][2]:E[0][2]],k=n(V),C=n(E),ie.align(M,!1,{x:k,y:C,width:m(V)-k,height:m(E)-C}),ie.alignValue&&ie.alignValue!=="left"||(M=M.clip?G.width:G.chart.chartWidth,ie.css({width:(ie.rotation===90?G.height-(ie.alignAttr.y-G.top):M-(ie.alignAttr.x-G.left))+"px"})),ie.show(!0)}getLabelText(M){return S(M.formatter)?M.formatter.call(this):M.text}destroy(){J(this.axis.plotLinesAndBands,this),delete this.axis,j(this)}}return O}),s(l,"Core/Tooltip.js",[l["Core/FormatUtilities.js"],l["Core/Globals.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Utilities.js"]],function(c,d,m,n,S){const{format:j}=c,{doc:J,isSafari:B}=d,{distribute:W}=m,{addEvent:K,clamp:I,css:O,discardElement:H,extend:M,fireEvent:E,isArray:k,isNumber:V,isString:G,merge:C,pick:ie,splat:Q,syncTimeout:N}=S;class F{constructor(w,L){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=w,this.init(w,L)}bodyFormatter(w){return w.map(function(L){const f=L.series.tooltipOptions;return(f[(L.point.formatPrefix||"point")+"Formatter"]||L.point.tooltipFormatter).call(L.point,f[(L.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(w){this.chart.series.forEach(function(L){const f=L&&L.tt;f&&(!f.isActive||w?L.tt=f.destroy():f.isActive=!1)})}defaultFormatter(w){const L=this.points||Q(this);let f;return f=[w.tooltipFooterHeaderFormatter(L[0])],f=f.concat(w.bodyFormatter(L)),f.push(w.tooltipFooterHeaderFormatter(L[0],!0)),f}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),H(this.container)),S.clearTimeout(this.hideTimer),S.clearTimeout(this.tooltipTimeout)}getAnchor(w,L){var f=this.chart;const y=f.pointer,b=f.inverted,P=f.plotTop;if(f=f.plotLeft,w=Q(w),w[0].series&&w[0].series.yAxis&&!w[0].series.yAxis.options.reversedStacks&&(w=w.slice().reverse()),this.followPointer&&L)typeof L.chartX>"u"&&(L=y.normalize(L)),w=[L.chartX-f,L.chartY-P];else if(w[0].tooltipPos)w=w[0].tooltipPos;else{let q=0,ee=0;w.forEach(function(X){(X=X.pos(!0))&&(q+=X[0],ee+=X[1])}),q/=w.length,ee/=w.length,this.shared&&1<w.length&&L&&(b?q=L.chartX:ee=L.chartY),w=[q-f,ee-P]}return w.map(Math.round)}getClassName(w,L,f){const y=w.series,b=y.options;return[this.options.className,"highcharts-label",f&&"highcharts-tooltip-header",L?"highcharts-tooltip-box":"highcharts-tooltip",!f&&"highcharts-color-"+ie(w.colorIndex,y.colorIndex),b&&b.className].filter(G).join(" ")}getLabel(){const w=this,L=this.chart.styledMode,f=this.options,y=this.split&&this.allowShared,b=f.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let P,q=this.chart.renderer;if(this.label){var ee=!this.label.hasClass("highcharts-label");(!y&&ee||y&&!ee)&&this.destroy()}if(!this.label){if(this.outside){ee=this.chart.options.chart.style;const X=n.getRendererType();this.container=P=d.doc.createElement("div"),P.className="highcharts-tooltip-container",O(P,{position:"absolute",top:"1px",pointerEvents:b,zIndex:Math.max(this.options.style.zIndex||0,(ee&&ee.zIndex||0)+3)}),d.doc.body.appendChild(P),this.renderer=q=new X(P,0,0,ee,void 0,void 0,q.styledMode)}if(y?this.label=q.g("tooltip"):(this.label=q.label("",0,0,f.shape,void 0,void 0,f.useHTML,void 0,"tooltip").attr({padding:f.padding,r:f.borderRadius}),L||this.label.attr({fill:f.backgroundColor,"stroke-width":f.borderWidth||0}).css(f.style).css({pointerEvents:b})),w.outside){const X=this.label,{xSetter:ce,ySetter:fe}=X;X.xSetter=function(Te){ce.call(X,w.distance),P.style.left=Te+"px"},X.ySetter=function(Te){fe.call(X,w.distance),P.style.top=Te+"px"}}this.label.attr({zIndex:8}).shadow(f.shadow).add()}return this.label}getPlayingField(){const{body:w,documentElement:L}=J,{chart:f,distance:y,outside:b}=this;return{width:b?Math.max(w.scrollWidth,L.scrollWidth,w.offsetWidth,L.offsetWidth,L.clientWidth)-2*y:f.chartWidth,height:b?Math.max(w.scrollHeight,L.scrollHeight,w.offsetHeight,L.offsetHeight,L.clientHeight):f.chartHeight}}getPosition(w,L,f){const y=this.chart,b=this.distance,P={},q=y.inverted&&f.h||0,ee=this.outside;var X=this.getPlayingField();const ce=X.width,fe=X.height,Te=y.pointer.getChartPosition();X=le=>{const me=le==="x";return[le,me?ce:fe,me?w:L].concat(ee?[me?w*Te.scaleX:L*Te.scaleY,me?Te.left-b+(f.plotX+y.plotLeft)*Te.scaleX:Te.top-b+(f.plotY+y.plotTop)*Te.scaleY,0,me?ce:fe]:[me?w:L,me?f.plotX+y.plotLeft:f.plotY+y.plotTop,me?y.plotLeft:y.plotTop,me?y.plotLeft+y.plotWidth:y.plotTop+y.plotHeight])};let Z=X("y"),re=X("x"),ue;X=!!f.negative,!y.polar&&y.hoverSeries&&y.hoverSeries.yAxis&&y.hoverSeries.yAxis.reversed&&(X=!X);const ye=!this.followPointer&&ie(f.ttBelow,!y.inverted===X),Ie=function(le,me,Se,Oe,Le,Ue,lt){const it=ee?le==="y"?b*Te.scaleY:b*Te.scaleX:b,pt=(Se-Oe)/2,De=Oe<Le-b,ze=Le+b+Oe<me,Ge=Le-it-Se+pt;if(Le=Le+it-pt,ye&&ze)P[le]=Le;else if(!ye&&De)P[le]=Ge;else if(De)P[le]=Math.min(lt-Oe,0>Ge-q?Ge:Ge-q);else if(ze)P[le]=Math.max(Ue,Le+q+Se>me?Le:Le+q);else return!1},ae=function(le,me,Se,Oe,Le){let Ue;return Le<b||Le>me-b?Ue=!1:P[le]=Le<Se/2?1:Le>me-Oe/2?me-Oe-2:Le-Se/2,Ue},be=function(le){const me=Z;Z=re,re=me,ue=le},xe=function(){Ie.apply(0,Z)!==!1?ae.apply(0,re)!==!1||ue||(be(!0),xe()):ue?P.x=P.y=0:(be(!0),xe())};return(y.inverted||1<this.len)&&be(),xe(),P}hide(w){const L=this;S.clearTimeout(this.hideTimer),w=ie(w,this.options.hideDelay),this.isHidden||(this.hideTimer=N(function(){L.getLabel().fadeOut(w&&void 0),L.isHidden=!0},w))}init(w,L){this.chart=w,this.options=L,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=L.split&&!w.inverted&&!w.polar,this.shared=L.shared||this.split,this.outside=ie(L.outside,!(!w.scrollablePixelsX&&!w.scrollablePixelsY))}shouldStickOnContact(w){return!(this.followPointer||!this.options.stickOnContact||w&&!this.chart.pointer.inClass(w.target,"highcharts-tooltip"))}move(w,L,f,y){const b=this,P=b.now,q=b.options.animation!==!1&&!b.isHidden&&(1<Math.abs(w-P.x)||1<Math.abs(L-P.y)),ee=b.followPointer||1<b.len;M(P,{x:q?(2*P.x+w)/3:w,y:q?(P.y+L)/2:L,anchorX:ee?void 0:q?(2*P.anchorX+f)/3:f,anchorY:ee?void 0:q?(P.anchorY+y)/2:y}),b.getLabel().attr(P),b.drawTracker(),q&&(S.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){b&&b.move(w,L,f,y)},32))}refresh(w,L){const f=this.chart,y=this.options,b=f.pointer,P=Q(w),q=P[0],ee=[];var X=y.formatter||this.defaultFormatter,ce=this.shared;const fe=f.styledMode;let Te={};if(y.enabled&&q.series){S.clearTimeout(this.hideTimer),this.allowShared=!(!k(w)&&w.series&&w.series.noSharedTooltip),this.followPointer=!this.split&&q.series.tooltipOptions.followPointer,w=this.getAnchor(w,L);var Z=w[0],re=w[1];if(ce&&this.allowShared?(b.applyInactiveState(P),P.forEach(function(ue){ue.setState("hover"),ee.push(ue.getLabelConfig())}),Te={x:q.category,y:q.y},Te.points=ee):Te=q.getLabelConfig(),this.len=ee.length,X=X.call(Te,this),ce=q.series,this.distance=ie(ce.tooltipOptions.distance,16),X===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(X,P);else{let ue=Z,ye=re;if(L&&b.isDirectTouch&&(ue=L.chartX-f.plotLeft,ye=L.chartY-f.plotTop),f.polar||ce.options.clip===!1||P.some(Ie=>b.isDirectTouch||Ie.series.shouldShowTooltip(ue,ye)))L=this.getLabel(),y.style.width&&!fe||L.css({width:(this.outside?this.getPlayingField():f.spacingBox).width+"px"}),L.attr({text:X&&X.join?X.join(""):X}),L.addClass(this.getClassName(q),!0),fe||L.attr({stroke:y.borderColor||q.color||ce.color||"#666666"}),this.updatePosition({plotX:Z,plotY:re,negative:q.negative,ttBelow:q.ttBelow,h:w[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}E(this,"refresh")}}renderSplit(w,L){function f(at,gt,Ut,Gt,wi=!0){return Ut?(gt=Se?0:it,at=I(at-Gt/2,xe.left,xe.right-Gt-(y.outside?Oe:0))):(gt-=Ue,at=wi?at-Gt-Ie:at+Ie,at=I(at,wi?at:xe.left,xe.right)),{x:at,y:gt}}const y=this,{chart:b,chart:{chartWidth:P,chartHeight:q,plotHeight:ee,plotLeft:X,plotTop:ce,pointer:fe,scrollablePixelsY:Te=0,scrollablePixelsX:Z,scrollingContainer:{scrollLeft:re,scrollTop:ue}={scrollLeft:0,scrollTop:0},styledMode:ye},distance:Ie,options:ae,options:{positioner:be}}=y,xe=y.outside&&typeof Z!="number"?J.documentElement.getBoundingClientRect():{left:re,right:re+P,top:ue,bottom:ue+q},le=y.getLabel(),me=this.renderer||b.renderer,Se=!(!b.xAxis[0]||!b.xAxis[0].opposite),{left:Oe,top:Le}=fe.getChartPosition();let Ue=ce+ue,lt=0,it=ee-Te;G(w)&&(w=[!1,w]),w=w.slice(0,L.length+1).reduce(function(at,gt,Ut){if(gt!==!1&&gt!==""){Ut=L[Ut-1]||{isHeader:!0,plotX:L[0].plotX,plotY:ee,series:{}};const Ni=Ut.isHeader;var Gt=Ni?y:Ut.series,wi;{var Qt=Ut;gt=gt.toString();var Ti=Gt.tt;const{isHeader:xn,series:kn}=Qt;Ti||(Ti={padding:ae.padding,r:ae.borderRadius},ye||(Ti.fill=ae.backgroundColor,Ti["stroke-width"]=(wi=ae.borderWidth)!==null&&wi!==void 0?wi:1),Ti=me.label("",0,0,ae[xn?"headerShape":"shape"],void 0,void 0,ae.useHTML).addClass(y.getClassName(Qt,!0,xn)).attr(Ti).add(le)),Ti.isActive=!0,Ti.attr({text:gt}),ye||Ti.css(ae.style).attr({stroke:ae.borderColor||Qt.color||kn.color||"#333333"}),wi=Ti}wi=Gt.tt=wi,Qt=wi.getBBox(),Gt=Qt.width+wi.strokeWidth(),Ni&&(lt=Qt.height,it+=lt,Se&&(Ue-=lt));{const{isHeader:xn,plotX:kn=0,plotY:qn=0,series:Tr}=Ut;if(xn){gt=X+kn;var Ki=ce+ee/2}else{const{xAxis:fs,yAxis:Bs}=Tr;gt=fs.pos+I(kn,-Ie,fs.len+Ie),Tr.shouldShowTooltip(0,Bs.pos-ce+qn,{ignoreX:!0})&&(Ki=Bs.pos+qn)}gt=I(gt,xe.left-Ie,xe.right+Ie),Ki={anchorX:gt,anchorY:Ki}}const{anchorX:Xi,anchorY:Gi}=Ki;typeof Gi=="number"?(Ki=Qt.height+1,Qt=be?be.call(y,Gt,Ki,Ut):f(Xi,Gi,Ni,Gt),at.push({align:be?0:void 0,anchorX:Xi,anchorY:Gi,boxWidth:Gt,point:Ut,rank:ie(Qt.rank,Ni?1:0),size:Ki,target:Qt.y,tt:wi,x:Qt.x})):wi.isActive=!1}return at},[]),!be&&w.some(at=>{var{outside:gt}=y;return gt=(gt?Oe:0)+at.anchorX,gt<xe.left&&gt+at.boxWidth<xe.right?!0:gt<Oe-xe.left+at.boxWidth&&xe.right-gt>gt})&&(w=w.map(at=>{const{x:gt,y:Ut}=f(at.anchorX,at.anchorY,at.point.isHeader,at.boxWidth,!1);return M(at,{target:Ut,x:gt})})),y.cleanSplit(),W(w,it);var pt=Oe,De=Oe;w.forEach(function(at){const{x:gt,boxWidth:Ut,isHeader:Gt}=at;Gt||(y.outside&&Oe+gt<pt&&(pt=Oe+gt),!Gt&&y.outside&&pt+Ut>De&&(De=Oe+gt))}),w.forEach(function(at){const{x:gt,anchorX:Ut,anchorY:Gt,pos:wi,point:{isHeader:Qt}}=at,Ti={visibility:typeof wi>"u"?"hidden":"inherit",x:gt,y:(wi||0)+Ue,anchorX:Ut,anchorY:Gt};if(y.outside&&gt<Ut){const Ki=Oe-pt;0<Ki&&(Qt||(Ti.x=gt+Ki,Ti.anchorX=Ut+Ki),Qt&&(Ti.x=(De-pt)/2,Ti.anchorX=Ut+Ki))}at.tt.attr(Ti)});const{container:ze,outside:Ge,renderer:Ye}=y;if(Ge&&ze&&Ye){const{width:at,height:gt,x:Ut,y:Gt}=le.getBBox();Ye.setSize(at+Ut,gt+Gt,!1),ze.style.left=pt+"px",ze.style.top=Le+"px"}B&&le.attr({opacity:le.opacity===1?.999:1})}drawTracker(){if(this.shouldStickOnContact()){var w=this.chart,L=this.label,f=this.shared?w.hoverPoints:w.hoverPoint;if(L&&f){var y={x:0,y:0,width:0,height:0};f=this.getAnchor(f);var b=L.getBBox();f[0]+=w.plotLeft-L.translateX,f[1]+=w.plotTop-L.translateY,y.x=Math.min(0,f[0]),y.y=Math.min(0,f[1]),y.width=0>f[0]?Math.max(Math.abs(f[0]),b.width-f[0]):Math.max(Math.abs(f[0]),b.width),y.height=0>f[1]?Math.max(Math.abs(f[1]),b.height-Math.abs(f[1])):Math.max(Math.abs(f[1]),b.height),this.tracker?this.tracker.attr(y):(this.tracker=L.renderer.rect(y).addClass("highcharts-tracker").add(L),w.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(w){return w.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(w,L){const f=w.series,y=f.tooltipOptions;var b=f.xAxis;const P=b&&b.dateTime;b={isFooter:L,labelConfig:w};let q=y.xDateFormat,ee=y[L?"footerFormat":"headerFormat"];return E(this,"headerFormatter",b,function(X){P&&!q&&V(w.key)&&(q=P.getXDateFormat(w.key,y.dateTimeLabelFormats)),P&&q&&(w.point&&w.point.tooltipDateKeys||["key"]).forEach(function(ce){ee=ee.replace("{point."+ce+"}","{point."+ce+":"+q+"}")}),f.chart.styledMode&&(ee=this.styledModeFormat(ee)),X.text=j(ee,{point:w,series:f},this.chart)}),b.text}update(w){this.destroy(),C(!0,this.chart.options.tooltip.userOptions,w),this.init(this.chart,C(!0,this.options,w))}updatePosition(w){const{chart:L,distance:f,options:y}=this;var b=L.pointer;const P=this.getLabel(),{left:q,top:ee,scaleX:X,scaleY:ce}=b.getChartPosition();b=(y.positioner||this.getPosition).call(this,P.width,P.height,w);let fe=(w.plotX||0)+L.plotLeft;w=(w.plotY||0)+L.plotTop;let Te;this.outside&&(y.positioner&&(b.x+=q-f,b.y+=ee-f),Te=(y.borderWidth||0)+2*f,this.renderer.setSize(P.width+Te,P.height+Te,!1),(X!==1||ce!==1)&&(O(this.container,{transform:`scale(${X}, ${ce})`}),fe*=X,w*=ce),fe+=q-b.x,w+=ee-b.y),this.move(Math.round(b.x),Math.round(b.y||0),fe,w)}}return function($){const w=[];$.compose=function(L){S.pushUnique(w,L)&&K(L,"afterInit",function(){const f=this.chart;f.options.tooltip&&(f.tooltip=new $(f,f.options.tooltip))})}}(F||(F={})),F}),s(l,"Core/Series/Point.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Animation/AnimationUtilities.js"],l["Core/Defaults.js"],l["Core/FormatUtilities.js"],l["Core/Utilities.js"]],function(c,d,m,n,S){const{animObject:j}=d,{defaultOptions:J}=m,{format:B}=n,{addEvent:W,defined:K,erase:I,extend:O,fireEvent:H,getNestedProperty:M,isArray:E,isFunction:k,isNumber:V,isObject:G,merge:C,objectEach:ie,pick:Q,syncTimeout:N,removeEvent:F,uniqueKey:$}=S;class w{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const f=this,y={x:f.startXPos,opacity:0},b=f.getGraphicalProps();b.singular.forEach(function(P){f[P]=f[P].animate(P==="dataLabel"?{x:f[P].startXPos,y:f[P].startYPos,opacity:0}:y)}),b.plural.forEach(function(P){f[P].forEach(function(q){q.element&&q.animate(O({x:f.startXPos},q.startYPos?{x:q.startXPos,y:q.startYPos}:{}))})})}applyOptions(f,y){const b=this.series,P=b.options.pointValKey||b.pointValKey;return f=w.prototype.optionsToObject.call(this,f),O(this,f),this.options=this.options?O(this.options,f):f,f.group&&delete this.group,f.dataLabels&&delete this.dataLabels,P&&(this.y=w.prototype.getNestedProperty.call(this,P)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof y>"u"&&b.xAxis&&b.xAxis.hasNames&&(this.x=b.xAxis.nameToX(this)),typeof this.x>"u"&&b?this.x=typeof y>"u"?b.autoIncrement():y:V(f.x)&&b.options.relativeXValue&&(this.x=b.autoIncrement(f.x)),this}destroy(){if(!this.destroyed){const y=this;var f=y.series;const b=f.chart;f=f.options.dataSorting;const P=b.hoverPoints,q=j(y.series.chart.renderer.globalAnimation),ee=()=>{(y.graphic||y.graphics||y.dataLabel||y.dataLabels)&&(F(y),y.destroyElements());for(const X in y)delete y[X]};y.legendItem&&b.legend.destroyItem(y),P&&(y.setState(),I(P,y),P.length||(b.hoverPoints=null)),y===b.hoverPoint&&y.onMouseOut(),f&&f.enabled?(this.animateBeforeDestroy(),N(ee,q.duration)):ee(),b.pointCount--}this.destroyed=!0}destroyElements(f){const y=this;f=y.getGraphicalProps(f),f.singular.forEach(function(b){y[b]=y[b].destroy()}),f.plural.forEach(function(b){y[b].forEach(function(P){P&&P.element&&P.destroy()}),delete y[b]})}firePointEvent(f,y,b){const P=this,q=this.series.options;(q.point.events[f]||P.options&&P.options.events&&P.options.events[f])&&P.importEvents(),f==="click"&&q.allowPointSelect&&(b=function(ee){P.select&&P.select(null,ee.ctrlKey||ee.metaKey||ee.shiftKey)}),H(P,f,y,b)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(f){const y=this,b=[],P={singular:[],plural:[]};let q,ee;for(f=f||{graphic:1,dataLabel:1},f.graphic&&b.push("graphic"),f.dataLabel&&b.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),ee=b.length;ee--;)q=b[ee],y[q]&&P.singular.push(q);return["graphic","dataLabel","connector"].forEach(function(X){const ce=X+"s";f[X]&&y[ce]&&P.plural.push(ce)}),P}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(f){if(f)return f.indexOf("custom.")===0?M(f,this.options):this[f]}getZone(){var f=this.series;const y=f.zones;f=f.zoneAxis||"y";let b,P=0;for(b=y[P];this[f]>=b.value;)b=y[++P];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=b&&b.color&&!this.options.color?b.color:this.nonZonedColor,b}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(f,y,b){return this.series=f,this.applyOptions(y,b),this.id=K(this.id)?this.id:$(),this.resolveColor(),f.chart.pointCount++,H(this,"afterInit"),this}isValid(){return this.x!==null&&V(this.y)}optionsToObject(f){var y=this.series;const b=y.options.keys,P=b||y.pointArrayMap||["y"],q=P.length;let ee={},X=0,ce=0;if(V(f)||f===null)ee[P[0]]=f;else if(E(f))for(!b&&f.length>q&&(y=typeof f[0],y==="string"?ee.name=f[0]:y==="number"&&(ee.x=f[0]),X++);ce<q;)b&&typeof f[X]>"u"||(0<P[ce].indexOf(".")?w.prototype.setNestedProperty(ee,f[X],P[ce]):ee[P[ce]]=f[X]),X++,ce++;else typeof f=="object"&&(ee=f,f.dataLabels&&(y._hasPointLabels=!0),f.marker&&(y._hasPointMarkers=!0));return ee}pos(f,y=this.plotY){if(!this.destroyed){const{plotX:b,series:P}=this,{chart:q,xAxis:ee,yAxis:X}=P;let ce=0,fe=0;if(V(b)&&V(y))return f&&(ce=ee?ee.pos:q.plotLeft,fe=X?X.pos:q.plotTop),q.inverted&&ee&&X?[X.len-y+fe,ee.len-b+ce]:[b+ce,y+fe]}}resolveColor(){const f=this.series;var y=f.chart.styledMode;let b;var P=f.chart.options.chart.colorCount;delete this.nonZonedColor,f.options.colorByPoint?(y||(P=f.options.colors||f.chart.options.colors,b=P[f.colorCounter],P=P.length),y=f.colorCounter,f.colorCounter++,f.colorCounter===P&&(f.colorCounter=0)):(y||(b=f.color),y=f.colorIndex),this.colorIndex=Q(this.options.colorIndex,y),this.color=Q(this.options.color,b)}setNestedProperty(f,y,b){return b.split(".").reduce(function(P,q,ee,X){return P[q]=X.length-1===ee?y:G(P[q],!0)?P[q]:{},P[q]},f),f}shouldDraw(){return!this.isNull}tooltipFormatter(f){const y=this.series,b=y.tooltipOptions,P=Q(b.valueDecimals,""),q=b.valuePrefix||"",ee=b.valueSuffix||"";return y.chart.styledMode&&(f=y.chart.tooltip.styledModeFormat(f)),(y.pointArrayMap||["y"]).forEach(function(X){X="{point."+X,(q||ee)&&(f=f.replace(RegExp(X+"}","g"),q+X+"}"+ee)),f=f.replace(RegExp(X+"}","g"),X+":,."+P+"f}")}),B(f,{point:this,series:this.series},y.chart)}update(f,y,b,P){function q(){ee.applyOptions(f);var re=ce&&ee.hasMockGraphic;re=ee.y===null?!re:re,ce&&re&&(ee.graphic=ce.destroy(),delete ee.hasMockGraphic),G(f,!0)&&(ce&&ce.element&&f&&f.marker&&typeof f.marker.symbol<"u"&&(ee.graphic=ce.destroy()),f&&f.dataLabels&&ee.dataLabel&&(ee.dataLabel=ee.dataLabel.destroy()),ee.connector&&(ee.connector=ee.connector.destroy())),Z=ee.index,X.updateParallelArrays(ee,Z),Te.data[Z]=G(Te.data[Z],!0)||G(f,!0)?ee.options:Q(f,Te.data[Z]),X.isDirty=X.isDirtyData=!0,!X.fixedBox&&X.hasCartesianSeries&&(fe.isDirtyBox=!0),Te.legendType==="point"&&(fe.isDirtyLegend=!0),y&&fe.redraw(b)}const ee=this,X=ee.series,ce=ee.graphic,fe=X.chart,Te=X.options;let Z;y=Q(y,!0),P===!1?q():ee.firePointEvent("update",{options:f},q)}remove(f,y){this.series.removePoint(this.series.data.indexOf(this),f,y)}select(f,y){const b=this,P=b.series,q=P.chart;this.selectedStaging=f=Q(f,!b.selected),b.firePointEvent(f?"select":"unselect",{accumulate:y},function(){b.selected=b.options.selected=f,P.options.data[P.data.indexOf(b)]=b.options,b.setState(f&&"select"),y||q.getSelectedPoints().forEach(function(ee){const X=ee.series;ee.selected&&ee!==b&&(ee.selected=ee.options.selected=!1,X.options.data[X.data.indexOf(ee)]=ee.options,ee.setState(q.hoverPoints&&X.options.inactiveOtherPoints?"inactive":""),ee.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(f){const y=this.series.chart,b=y.pointer;f=f?b.normalize(f):b.getChartCoordinatesFromPoint(this,y.inverted),b.runPointActions(f,this)}onMouseOut(){const f=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(f.hoverPoints||[]).forEach(function(y){y.setState()}),f.hoverPoints=f.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const f=this,y=C(f.series.options.point,f.options).events;f.events=y,ie(y,function(b,P){k(b)&&W(f,P,b)}),this.hasImportedEvents=!0}}setState(f,y){const b=this.series;var P=this.state,q=b.options.states[f||"normal"]||{},ee=J.plotOptions[b.type].marker&&b.options.marker;const X=ee&&ee.enabled===!1,ce=ee&&ee.states&&ee.states[f||"normal"]||{},fe=ce.enabled===!1,Te=this.marker||{},Z=b.chart,re=ee&&b.markerAttribs;let ue=b.halo;var ye;let Ie;var ae=b.stateMarkerGraphic;if(f=f||"",!(f===this.state&&!y||this.selected&&f!=="select"||q.enabled===!1||f&&(fe||X&&ce.enabled===!1)||f&&Te.states&&Te.states[f]&&Te.states[f].enabled===!1)){if(this.state=f,re&&(ye=b.markerAttribs(this,f)),this.graphic&&!this.hasMockGraphic){if(P&&this.graphic.removeClass("highcharts-point-"+P),f&&this.graphic.addClass("highcharts-point-"+f),!Z.styledMode){P=b.pointAttribs(this,f),Ie=Q(Z.options.chart.animation,q.animation);const be=P.opacity;b.options.inactiveOtherPoints&&V(be)&&((this.dataLabels||[]).forEach(function(xe){xe&&!xe.hasClass("highcharts-data-label-hidden")&&xe.animate({opacity:be},Ie)}),this.connector&&this.connector.animate({opacity:be},Ie)),this.graphic.animate(P,Ie)}ye&&this.graphic.animate(ye,Q(Z.options.chart.animation,ce.animation,ee.animation)),ae&&ae.hide()}else f&&ce&&(ee=Te.symbol||b.symbol,ae&&ae.currentSymbol!==ee&&(ae=ae.destroy()),ye&&(ae?ae[y?"animate":"attr"]({x:ye.x,y:ye.y}):ee&&(b.stateMarkerGraphic=ae=Z.renderer.symbol(ee,ye.x,ye.y,ye.width,ye.height).add(b.markerGroup),ae.currentSymbol=ee)),!Z.styledMode&&ae&&this.state!=="inactive"&&ae.attr(b.pointAttribs(this,f))),ae&&(ae[f&&this.isInside?"show":"hide"](),ae.element.point=this,ae.addClass(this.getClassName(),!0));q=q.halo,ye=(ae=this.graphic||ae)&&ae.visibility||"inherit",q&&q.size&&ae&&ye!=="hidden"&&!this.isCluster?(ue||(b.halo=ue=Z.renderer.path().add(ae.parentGroup)),ue.show()[y?"animate":"attr"]({d:this.haloPath(q.size)}),ue.attr({class:"highcharts-halo highcharts-color-"+Q(this.colorIndex,b.colorIndex)+(this.className?" "+this.className:""),visibility:ye,zIndex:-1}),ue.point=this,Z.styledMode||ue.attr(O({fill:this.color||b.color,"fill-opacity":q.opacity},c.filterUserAttributes(q.attributes||{})))):ue&&ue.point&&ue.point.haloPath&&ue.animate({d:ue.point.haloPath(0)},null,ue.hide),H(this,"afterSetState",{state:f})}}haloPath(f){const y=this.pos();return y?this.series.chart.renderer.symbols.circle(Math.floor(y[0])-f,y[1]-f,2*f,2*f):[]}}return w}),s(l,"Core/Pointer.js",[l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(c,d,m){const{parse:n}=c,{charts:S,noop:j}=d,{addEvent:J,attr:B,css:W,defined:K,extend:I,find:O,fireEvent:H,isNumber:M,isObject:E,objectEach:k,offset:V,pick:G,splat:C}=m;class ie{constructor(N,F){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=N,this.hasDragged=!1,this.options=F,this.init(N,F)}applyInactiveState(N){let F=[],$;(N||[]).forEach(function(w){$=w.series,F.push($),$.linkedParent&&F.push($.linkedParent),$.linkedSeries&&(F=F.concat($.linkedSeries)),$.navigatorSeries&&F.push($.navigatorSeries)}),this.chart.series.forEach(function(w){F.indexOf(w)===-1?w.setState("inactive",!0):w.options.inactiveOtherPoints&&w.setAllPointsToState("inactive")})}destroy(){const N=this;this.eventsToUnbind.forEach(F=>F()),this.eventsToUnbind=[],d.chartCount||(ie.unbindDocumentMouseUp&&(ie.unbindDocumentMouseUp=ie.unbindDocumentMouseUp()),ie.unbindDocumentTouchEnd&&(ie.unbindDocumentTouchEnd=ie.unbindDocumentTouchEnd())),clearInterval(N.tooltipTimeout),k(N,function(F,$){N[$]=void 0})}getSelectionMarkerAttrs(N,F){const $={args:{chartX:N,chartY:F},attrs:{},shapeType:"rect"};return H(this,"getSelectionMarkerAttrs",$,w=>{const{chart:L,mouseDownX:f=0,mouseDownY:y=0,zoomHor:b,zoomVert:P}=this;w=w.attrs;let q;w.x=L.plotLeft,w.y=L.plotTop,w.width=b?1:L.plotWidth,w.height=P?1:L.plotHeight,b&&(q=N-f,w.width=Math.abs(q),w.x=(0<q?0:q)+f),P&&(q=F-y,w.height=Math.abs(q),w.y=(0<q?0:q)+y)}),$}drag(N){const F=this.chart,$=F.options.chart;var w=F.plotLeft;const L=F.plotTop,f=F.plotWidth,y=F.plotHeight,b=this.mouseDownX||0,P=this.mouseDownY||0,q=E($.panning)?$.panning&&$.panning.enabled:$.panning,ee=$.panKey&&N[$.panKey+"Key"];let X=N.chartX,ce=N.chartY,fe=this.selectionMarker;if((!fe||!fe.touch)&&(X<w?X=w:X>w+f&&(X=w+f),ce<L?ce=L:ce>L+y&&(ce=L+y),this.hasDragged=Math.sqrt(Math.pow(b-X,2)+Math.pow(P-ce,2)),10<this.hasDragged)){w=F.isInsidePlot(b-w,P-L,{visiblePlotOnly:!0});const{shapeType:Te,attrs:Z}=this.getSelectionMarkerAttrs(X,ce);!F.hasCartesianSeries&&!F.mapView||!this.zoomX&&!this.zoomY||!w||ee||fe||(this.selectionMarker=fe=F.renderer[Te](),fe.attr({class:"highcharts-selection-marker",zIndex:7}).add(),F.styledMode||fe.attr({fill:$.selectionMarkerFill||n("#334eff").setOpacity(.25).get()})),fe&&fe.attr(Z),w&&!fe&&q&&F.pan(N,$.panning)}}dragStart(N){const F=this.chart;F.mouseIsDown=N.type,F.cancelClick=!1,F.mouseDownX=this.mouseDownX=N.chartX,F.mouseDownY=this.mouseDownY=N.chartY}getSelectionBox(N){const F={args:{marker:N},result:{}};return H(this,"getSelectionBox",F,$=>{$.result={x:N.attr?+N.attr("x"):N.x,y:N.attr?+N.attr("y"):N.y,width:N.attr?N.attr("width"):N.width,height:N.attr?N.attr("height"):N.height}}),F.result}drop(N){const F=this,$=this.chart,w=this.hasPinched;if(this.selectionMarker){const{x:L,y:f,width:y,height:b}=this.getSelectionBox(this.selectionMarker),P={originalEvent:N,xAxis:[],yAxis:[],x:L,y:f,width:y,height:b};let q=!!$.mapView;(this.hasDragged||w)&&($.axes.forEach(function(ee){if(ee.zoomEnabled&&K(ee.min)&&(w||F[{xAxis:"zoomX",yAxis:"zoomY"}[ee.coll]])&&M(L)&&M(f)&&M(y)&&M(b)){var X=ee.horiz;const ce=N.type==="touchend"?ee.minPixelPadding:0,fe=ee.toValue((X?L:f)+ce);X=ee.toValue((X?L+y:f+b)-ce),P[ee.coll].push({axis:ee,min:Math.min(fe,X),max:Math.max(fe,X)}),q=!0}}),q&&H($,"selection",P,function(ee){$.zoom(I(ee,w?{animation:!1}:null))})),M($.index)&&(this.selectionMarker=this.selectionMarker.destroy()),w&&this.scaleGroups()}$&&M($.index)&&(W($.container,{cursor:$._cursor}),$.cancelClick=10<this.hasDragged,$.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint(N,F,$){let w;return N.forEach(function(L){var f=!(L.noSharedTooltip&&F)&&0>L.options.findNearestPointBy.indexOf("y");if(L=L.searchPoint($,f),(f=E(L,!0)&&L.series)&&!(f=!E(w,!0))){{f=w.distX-L.distX;const y=w.dist-L.dist,b=(L.series.group&&L.series.group.zIndex)-(w.series.group&&w.series.group.zIndex);f=f!==0&&F?f:y!==0?y:b!==0?b:w.series.index>L.series.index?-1:1}f=0<f}f&&(w=L)}),w}getChartCoordinatesFromPoint(N,F){var $=N.series;const w=$.xAxis;$=$.yAxis;const L=N.shapeArgs;if(w&&$){let f=G(N.clientX,N.plotX),y=N.plotY||0;return N.isNode&&L&&M(L.x)&&M(L.y)&&(f=L.x,y=L.y),F?{chartX:$.len+$.pos-y,chartY:w.len+w.pos-f}:{chartX:f+w.pos,chartY:y+$.pos}}if(L&&L.x&&L.y)return{chartX:L.x,chartY:L.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:N}=this.chart;const F=V(N);this.chartPosition={left:F.left,top:F.top,scaleX:1,scaleY:1};const $=N.offsetWidth;return N=N.offsetHeight,2<$&&2<N&&(this.chartPosition.scaleX=F.width/$,this.chartPosition.scaleY=F.height/N),this.chartPosition}getCoordinates(N){const F={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function($){F[$.isXAxis?"xAxis":"yAxis"].push({axis:$,value:$.toValue(N[$.horiz?"chartX":"chartY"])})}),F}getHoverData(N,F,$,w,L,f){const y=[];w=!(!w||!N);const b=function(X){return X.visible&&!(!L&&X.directTouch)&&G(X.options.enableMouseTracking,!0)};let P,q={chartX:f?f.chartX:void 0,chartY:f?f.chartY:void 0,shared:L};H(this,"beforeGetHoverData",q),P=F&&!F.stickyTracking?[F]:$.filter(X=>X.stickyTracking&&(q.filter||b)(X));const ee=w||!f?N:this.findNearestKDPoint(P,L,f);return F=ee&&ee.series,ee&&(L&&!F.noSharedTooltip?(P=$.filter(function(X){return q.filter?q.filter(X):b(X)&&!X.noSharedTooltip}),P.forEach(function(X){let ce=O(X.points,function(fe){return fe.x===ee.x&&!fe.isNull});E(ce)&&(X.boosted&&X.boost&&(ce=X.boost.getPoint(ce)),y.push(ce))})):y.push(ee)),q={hoverPoint:ee},H(this,"afterGetHoverData",q),{hoverPoint:q.hoverPoint,hoverSeries:F,hoverPoints:y}}getPointFromEvent(N){N=N.target;let F;for(;N&&!F;)F=N.point,N=N.parentNode;return F}onTrackerMouseOut(N){N=N.relatedTarget;const F=this.chart.hoverSeries;this.isDirectTouch=!1,!F||!N||F.stickyTracking||this.inClass(N,"highcharts-tooltip")||this.inClass(N,"highcharts-series-"+F.index)&&this.inClass(N,"highcharts-tracker")||F.onMouseOut()}inClass(N,F){let $;for(;N;){if($=B(N,"class")){if($.indexOf(F)!==-1)return!0;if($.indexOf("highcharts-container")!==-1)return!1}N=N.parentElement}}init(N,F){this.options=F,this.chart=N,this.runChartClick=!(!F.chart.events||!F.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),H(this,"afterInit")}normalize(N,F){var $=N.touches,w=$?$.length?$.item(0):G($.changedTouches,N.changedTouches)[0]:N;return F||(F=this.getChartPosition()),$=w.pageX-F.left,w=w.pageY-F.top,$/=F.scaleX,w/=F.scaleY,I(N,{chartX:Math.round($),chartY:Math.round(w)})}onContainerClick(N){const F=this.chart,$=F.hoverPoint;N=this.normalize(N);const w=F.plotLeft,L=F.plotTop;F.cancelClick||($&&this.inClass(N.target,"highcharts-tracker")?(H($.series,"click",I(N,{point:$})),F.hoverPoint&&$.firePointEvent("click",N)):(I(N,this.getCoordinates(N)),F.isInsidePlot(N.chartX-w,N.chartY-L,{visiblePlotOnly:!0})&&H(F,"click",N)))}onContainerMouseDown(N){const F=((N.buttons||N.button)&1)===1;N=this.normalize(N),d.isFirefox&&N.button!==0&&this.onContainerMouseMove(N),(typeof N.button>"u"||F)&&(this.zoomOption(N),F&&N.preventDefault&&N.preventDefault(),this.dragStart(N))}onContainerMouseLeave(N){const F=S[G(ie.hoverChartIndex,-1)];N=this.normalize(N),F&&N.relatedTarget&&!this.inClass(N.relatedTarget,"highcharts-tooltip")&&(F.pointer.reset(),F.pointer.chartPosition=void 0)}onContainerMouseEnter(N){delete this.chartPosition}onContainerMouseMove(N){const F=this.chart,$=F.tooltip;N=this.normalize(N),this.setHoverChartIndex(),(F.mouseIsDown==="mousedown"||this.touchSelect(N))&&this.drag(N),F.openMenu||!this.inClass(N.target,"highcharts-tracker")&&!F.isInsidePlot(N.chartX-F.plotLeft,N.chartY-F.plotTop,{visiblePlotOnly:!0})||$&&$.shouldStickOnContact(N)||(this.inClass(N.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(N))}onDocumentTouchEnd(N){const F=S[G(ie.hoverChartIndex,-1)];F&&F.pointer.drop(N)}onContainerTouchMove(N){this.touchSelect(N)?this.onContainerMouseMove(N):this.touch(N)}onContainerTouchStart(N){this.touchSelect(N)?this.onContainerMouseDown(N):(this.zoomOption(N),this.touch(N,!0))}onDocumentMouseMove(N){const F=this.chart,$=F.tooltip,w=this.chartPosition;N=this.normalize(N,w),!w||F.isInsidePlot(N.chartX-F.plotLeft,N.chartY-F.plotTop,{visiblePlotOnly:!0})||$&&$.shouldStickOnContact(N)||this.inClass(N.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(N){const F=S[G(ie.hoverChartIndex,-1)];F&&F.pointer.drop(N)}pinch(N){const F=this,$=F.chart,w=F.pinchDown,L=N.touches||[],f=L.length,y=F.lastValidTouch,b=F.hasZoom,P={},q=f===1&&(F.inClass(N.target,"highcharts-tracker")&&$.runTrackerClick||F.runChartClick),ee={};var X=F.chart.tooltip;X=f===1&&G(X&&X.options.followTouchMove,!0);let ce=F.selectionMarker;1<f?F.initiated=!0:X&&(F.initiated=!1),b&&F.initiated&&!q&&N.cancelable!==!1&&N.preventDefault(),[].map.call(L,function(fe){return F.normalize(fe)}),N.type==="touchstart"?([].forEach.call(L,function(fe,Te){w[Te]={chartX:fe.chartX,chartY:fe.chartY}}),y.x=[w[0].chartX,w[1]&&w[1].chartX],y.y=[w[0].chartY,w[1]&&w[1].chartY],$.axes.forEach(function(fe){if(fe.zoomEnabled){const Te=$.bounds[fe.horiz?"h":"v"],Z=fe.minPixelPadding,re=fe.toPixels(Math.min(G(fe.options.min,fe.dataMin),fe.dataMin)),ue=fe.toPixels(Math.max(G(fe.options.max,fe.dataMax),fe.dataMax)),ye=Math.max(re,ue);Te.min=Math.min(fe.pos,Math.min(re,ue)-Z),Te.max=Math.max(fe.pos+fe.len,ye+Z)}}),F.res=!0):X?this.runPointActions(F.normalize(N)):w.length&&(H($,"touchpan",{originalEvent:N},()=>{ce||(F.selectionMarker=ce=I({destroy:j,touch:!0},$.plotBox)),F.pinchTranslate(w,L,P,ce,ee,y),F.hasPinched=b,F.scaleGroups(P,ee)}),F.res&&(F.res=!1,this.reset(!1,0)))}pinchTranslate(N,F,$,w,L,f){this.zoomHor&&this.pinchTranslateDirection(!0,N,F,$,w,L,f),this.zoomVert&&this.pinchTranslateDirection(!1,N,F,$,w,L,f)}pinchTranslateDirection(N,F,$,w,L,f,y,b){const P=this.chart,q=N?"x":"y",ee=N?"X":"Y",X="chart"+ee,ce=N?"width":"height",fe=P["plot"+(N?"Left":"Top")],Te=P.inverted,Z=P.bounds[N?"h":"v"],re=F.length===1,ue=F[0][X],ye=!re&&F[1][X];F=function(){typeof le=="number"&&20<Math.abs(ue-ye)&&(be=b||Math.abs(xe-le)/Math.abs(ue-ye)),ae=(fe-xe)/be+ue,Ie=P["plot"+(N?"Width":"Height")]/be};let Ie,ae,be=b||1,xe=$[0][X],le=!re&&$[1][X],me;F(),$=ae,$<Z.min?($=Z.min,me=!0):$+Ie>Z.max&&($=Z.max-Ie,me=!0),me?(xe-=.8*(xe-y[q][0]),typeof le=="number"&&(le-=.8*(le-y[q][1])),F()):y[q]=[xe,le],Te||(f[q]=ae-fe,f[ce]=Ie),f=Te?1/be:be,L[ce]=Ie,L[q]=$,w[Te?N?"scaleY":"scaleX":"scale"+ee]=be,w["translate"+ee]=f*fe+(xe-f*ue)}reset(N,F){const $=this.chart,w=$.hoverSeries,L=$.hoverPoint,f=$.hoverPoints,y=$.tooltip,b=y&&y.shared?f:L;N&&b&&C(b).forEach(function(P){P.series.isCartesian&&typeof P.plotX>"u"&&(N=!1)}),N?y&&b&&C(b).length&&(y.refresh(b),y.shared&&f?f.forEach(function(P){P.setState(P.state,!0),P.series.isCartesian&&(P.series.xAxis.crosshair&&P.series.xAxis.drawCrosshair(null,P),P.series.yAxis.crosshair&&P.series.yAxis.drawCrosshair(null,P))}):L&&(L.setState(L.state,!0),$.axes.forEach(function(P){P.crosshair&&L.series[P.coll]===P&&P.drawCrosshair(null,L)}))):(L&&L.onMouseOut(),f&&f.forEach(function(P){P.setState()}),w&&w.onMouseOut(),y&&y.hide(F),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),$.axes.forEach(function(P){P.hideCrosshair()}),this.hoverX=$.hoverPoints=$.hoverPoint=null)}runPointActions(N,F,$){const w=this.chart,L=w.tooltip&&w.tooltip.options.enabled?w.tooltip:void 0,f=L?L.shared:!1;let y=F||w.hoverPoint,b=y&&y.series||w.hoverSeries;F=this.getHoverData(y,b,w.series,(!N||N.type!=="touchmove")&&(!!F||b&&b.directTouch&&this.isDirectTouch),f,N),y=F.hoverPoint,b=F.hoverSeries;const P=F.hoverPoints;F=b&&b.tooltipOptions.followPointer&&!b.tooltipOptions.split;const q=f&&b&&!b.noSharedTooltip;if(y&&($||y!==w.hoverPoint||L&&L.isHidden)){if((w.hoverPoints||[]).forEach(function(ee){P.indexOf(ee)===-1&&ee.setState()}),w.hoverSeries!==b&&b.onMouseOver(),this.applyInactiveState(P),(P||[]).forEach(function(ee){ee.setState("hover")}),w.hoverPoint&&w.hoverPoint.firePointEvent("mouseOut"),!y.series)return;w.hoverPoints=P,w.hoverPoint=y,y.firePointEvent("mouseOver",void 0,()=>{L&&y&&L.refresh(q?P:y,N)})}else F&&L&&!L.isHidden&&($=L.getAnchor([{}],N),w.isInsidePlot($[0],$[1],{visiblePlotOnly:!0})&&L.updatePosition({plotX:$[0],plotY:$[1]}));this.unDocMouseMove||(this.unDocMouseMove=J(w.container.ownerDocument,"mousemove",function(ee){const X=S[ie.hoverChartIndex];X&&X.pointer.onDocumentMouseMove(ee)}),this.eventsToUnbind.push(this.unDocMouseMove)),w.axes.forEach(function(ee){const X=G((ee.crosshair||{}).snap,!0);let ce;X&&((ce=w.hoverPoint)&&ce.series[ee.coll]===ee||(ce=O(P,fe=>fe.series&&fe.series[ee.coll]===ee))),ce||!X?ee.drawCrosshair(N,ce):ee.hideCrosshair()})}scaleGroups(N,F){const $=this.chart;$.series.forEach(function(w){const L=N||w.getPlotBox();w.group&&(w.xAxis&&w.xAxis.zoomEnabled||$.mapView)&&(w.group.attr(L),w.markerGroup&&(w.markerGroup.attr(L),w.markerGroup.clip(F?$.clipRect:null)),w.dataLabelsGroup&&w.dataLabelsGroup.attr(L))}),$.clipRect.attr(F||$.clipBox)}setDOMEvents(){const N=this.chart.container,F=N.ownerDocument;N.onmousedown=this.onContainerMouseDown.bind(this),N.onmousemove=this.onContainerMouseMove.bind(this),N.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(J(N,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(J(N,"mouseleave",this.onContainerMouseLeave.bind(this))),ie.unbindDocumentMouseUp||(ie.unbindDocumentMouseUp=J(F,"mouseup",this.onDocumentMouseUp.bind(this)));let $=this.chart.renderTo.parentElement;for(;$&&$.tagName!=="BODY";)this.eventsToUnbind.push(J($,"scroll",()=>{delete this.chartPosition})),$=$.parentElement;d.hasTouch&&(this.eventsToUnbind.push(J(N,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(J(N,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),ie.unbindDocumentTouchEnd||(ie.unbindDocumentTouchEnd=J(F,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const N=this.chart,F=d.charts[G(ie.hoverChartIndex,-1)];F&&F!==N&&F.pointer.onContainerMouseLeave({relatedTarget:N.container}),F&&F.mouseIsDown||(ie.hoverChartIndex=N.index)}touch(N,F){const $=this.chart;let w;this.setHoverChartIndex(),N.touches.length===1?(N=this.normalize(N),$.isInsidePlot(N.chartX-$.plotLeft,N.chartY-$.plotTop,{visiblePlotOnly:!0})&&!$.openMenu?(F&&this.runPointActions(N),N.type==="touchmove"&&(F=this.pinchDown,w=F[0]?4<=Math.sqrt(Math.pow(F[0].chartX-N.chartX,2)+Math.pow(F[0].chartY-N.chartY,2)):!1),G(w,!0)&&this.pinch(N)):F&&this.reset()):N.touches.length===2&&this.pinch(N)}touchSelect(N){return!(!this.chart.options.chart.zooming.singleTouch||!N.touches||N.touches.length!==1)}zoomOption(N){var F=this.chart,$=F.options.chart;F=F.inverted;let w=$.zooming.type||"";/touch/.test(N.type)&&(w=G($.zooming.pinchType,w)),this.zoomX=N=/x/.test(w),this.zoomY=$=/y/.test(w),this.zoomHor=N&&!F||$&&F,this.zoomVert=$&&!F||N&&F,this.hasZoom=N||$}}return function(Q){const N=[],F=[];Q.compose=function($){m.pushUnique(F,$)&&J($,"beforeRender",function(){this.pointer=new Q(this,this.options)})},Q.dissolve=function(){for(let $=0,w=N.length;$<w;++$)N[$]();N.length=0}}(ie||(ie={})),ie}),s(l,"Core/Legend/Legend.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/FormatUtilities.js"],l["Core/Globals.js"],l["Core/Series/Point.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Utilities.js"]],function(c,d,m,n,S,j){const{animObject:J,setAnimation:B}=c,{format:W}=d,{marginNames:K}=m,{distribute:I}=S,{addEvent:O,createElement:H,css:M,defined:E,discardElement:k,find:V,fireEvent:G,isNumber:C,merge:ie,pick:Q,relativeLength:N,stableSort:F,syncTimeout:$}=j;class w{constructor(f,y){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=f,this.init(f,y)}init(f,y){this.chart=f,this.setOptions(y),y.enabled&&(this.render(),O(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),O(this.chart,"render",()=>{this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(f){const y=Q(f.padding,8);this.options=f,this.chart.styledMode||(this.itemStyle=f.itemStyle,this.itemHiddenStyle=ie(this.itemStyle,f.itemHiddenStyle)),this.itemMarginTop=f.itemMarginTop,this.itemMarginBottom=f.itemMarginBottom,this.padding=y,this.initialItemY=y-5,this.symbolWidth=Q(f.symbolWidth,16),this.pages=[],this.proximate=f.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(f,y){const b=this.chart;this.setOptions(ie(!0,this.options,f)),this.destroy(),b.isDirtyLegend=b.isDirtyBox=!0,Q(y,!0)&&b.redraw(),G(this,"afterUpdate")}colorizeItem(f,y){const{group:b,label:P,line:q,symbol:ee}=f.legendItem||{};if(b&&b[y?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var X=this.options;const ce=this.itemHiddenStyle.color;X=y?X.itemStyle.color:ce;const fe=y&&f.color||ce,Te=f.options&&f.options.marker;let Z={fill:fe};P&&P.css({fill:X}),q&&q.attr({stroke:fe}),ee&&(Te&&ee.isMarker&&(Z=f.pointAttribs(),y||(Z.stroke=Z.fill=ce)),ee.attr(Z))}G(this,"afterColorizeItem",{item:f,visible:y})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(f){const{group:y,x:b=0,y:P=0}=f.legendItem||{};var q=this.options,ee=q.symbolPadding;const X=!q.rtl;q=f.checkbox,y&&y.element&&(ee={translateX:X?b:this.legendWidth-b-2*ee-4,translateY:P},y[E(y.translateY)?"animate":"attr"](ee,void 0,()=>{G(this,"afterPositionItem",{item:f})})),q&&(q.x=b,q.y=P)}destroyItem(f){const y=f.checkbox,b=f.legendItem||{};for(const P of["group","label","line","symbol"])b[P]&&(b[P]=b[P].destroy());y&&k(y),f.legendItem=void 0}destroy(){for(const f of this.getAllItems())this.destroyItem(f);for(const f of"clipRect up down pager nav box title group".split(" "))this[f]&&(this[f]=this[f].destroy());this.display=null}positionCheckboxes(){const f=this.group&&this.group.alignAttr,y=this.clipHeight||this.legendHeight,b=this.titleHeight;let P;f&&(P=f.translateY,this.allItems.forEach(function(q){const ee=q.checkbox;let X;ee&&(X=P+b+ee.y+(this.scrollOffset||0)+3,M(ee,{left:f.translateX+q.checkboxOffset+ee.x-20+"px",top:X+"px",display:this.proximate||X>P-6&&X<P+y-6?"":"none"}))},this))}renderTitle(){var f=this.options;const y=this.padding,b=f.title;let P=0;b.text&&(this.title||(this.title=this.chart.renderer.label(b.text,y-3,y-4,void 0,void 0,void 0,f.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(b.style),this.title.add(this.group)),b.width||this.title.css({width:this.maxLegendWidth+"px"}),f=this.title.getBBox(),P=f.height,this.offsetWidth=f.width,this.contentGroup.attr({translateY:P})),this.titleHeight=P}setText(f){const y=this.options;f.legendItem.label.attr({text:y.labelFormat?W(y.labelFormat,f,this.chart):y.labelFormatter.call(f)})}renderItem(f){const y=f.legendItem=f.legendItem||{};var b=this.chart,P=b.renderer;const q=this.options,ee=this.symbolWidth,X=q.symbolPadding||0,ce=this.itemStyle,fe=this.itemHiddenStyle,Te=q.layout==="horizontal"?Q(q.itemDistance,20):0,Z=!q.rtl,re=!f.series,ue=!re&&f.series.drawLegendSymbol?f.series:f;var ye=ue.options;const Ie=this.createCheckboxForItem&&ye&&ye.showCheckbox,ae=q.useHTML,be=f.options.className;let xe=y.label;ye=ee+X+Te+(Ie?20:0),xe||(y.group=P.g("legend-item").addClass("highcharts-"+ue.type+"-series highcharts-color-"+f.colorIndex+(be?" "+be:"")+(re?" highcharts-series-"+f.index:"")).attr({zIndex:1}).add(this.scrollGroup),y.label=xe=P.text("",Z?ee+X:-X,this.baseline||0,ae),b.styledMode||xe.css(ie(f.visible?ce:fe)),xe.attr({align:Z?"left":"right",zIndex:2}).add(y.group),this.baseline||(this.fontMetrics=P.fontMetrics(xe),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,xe.attr("y",this.baseline),this.symbolHeight=Q(q.symbolHeight,this.fontMetrics.f),q.squareSymbol&&(this.symbolWidth=Q(q.symbolWidth,Math.max(this.symbolHeight,16)),ye=this.symbolWidth+X+Te+(Ie?20:0),Z&&xe.attr("x",this.symbolWidth+X))),ue.drawLegendSymbol(this,f),this.setItemEvents&&this.setItemEvents(f,xe,ae)),Ie&&!f.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(f),this.colorizeItem(f,f.visible),!b.styledMode&&ce.width||xe.css({width:(q.itemWidth||this.widthOption||b.spacingBox.width)-ye+"px"}),this.setText(f),b=xe.getBBox(),P=this.fontMetrics&&this.fontMetrics.h||0,f.itemWidth=f.checkboxOffset=q.itemWidth||y.labelWidth||b.width+ye,this.maxItemWidth=Math.max(this.maxItemWidth,f.itemWidth),this.totalItemWidth+=f.itemWidth,this.itemHeight=f.itemHeight=Math.round(y.labelHeight||(b.height>1.5*P?b.height:P))}layoutItem(f){var y=this.options;const b=this.padding,P=y.layout==="horizontal",q=f.itemHeight,ee=this.itemMarginBottom,X=this.itemMarginTop,ce=P?Q(y.itemDistance,20):0,fe=this.maxLegendWidth;y=y.alignColumns&&this.totalItemWidth>fe?this.maxItemWidth:f.itemWidth;const Te=f.legendItem||{};P&&this.itemX-b+y>fe&&(this.itemX=b,this.lastLineHeight&&(this.itemY+=X+this.lastLineHeight+ee),this.lastLineHeight=0),this.lastItemY=X+this.itemY+ee,this.lastLineHeight=Math.max(q,this.lastLineHeight),Te.x=this.itemX,Te.y=this.itemY,P?this.itemX+=y:(this.itemY+=X+q+ee,this.lastLineHeight=q),this.offsetWidth=this.widthOption||Math.max((P?this.itemX-b-(f.checkbox?0:ce):y)+b,this.offsetWidth)}getAllItems(){let f=[];return this.chart.series.forEach(function(y){const b=y&&y.options;y&&Q(b.showInLegend,E(b.linkedTo)?!1:void 0,!0)&&(f=f.concat((y.legendItem||{}).labels||(b.legendType==="point"?y.data:y)))}),G(this,"afterGetAllItems",{allItems:f}),f}getAlignment(){const f=this.options;return this.proximate?f.align.charAt(0)+"tv":f.floating?"":f.align.charAt(0)+f.verticalAlign.charAt(0)+f.layout.charAt(0)}adjustMargins(f,y){const b=this.chart,P=this.options,q=this.getAlignment();q&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(ee,X){ee.test(q)&&!E(f[X])&&(b[K[X]]=Math.max(b[K[X]],b.legend[(X+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][X]*P[X%2?"x":"y"]+Q(P.margin,12)+y[X]+(b.titleOffset[X]||0)))})}proximatePositions(){const f=this.chart,y=[],b=this.options.align==="left";this.allItems.forEach(function(q){var ee,X=b;let ce;q.yAxis&&(q.xAxis.options.reversed&&(X=!X),q.points&&(ee=V(X?q.points:q.points.slice(0).reverse(),function(fe){return C(fe.plotY)})),X=this.itemMarginTop+q.legendItem.label.getBBox().height+this.itemMarginBottom,ce=q.yAxis.top-f.plotTop,q.visible?(ee=ee?ee.plotY:q.yAxis.height,ee+=ce-.3*X):ee=ce+q.yAxis.height,y.push({target:ee,size:X,item:q}))},this);let P;for(const q of I(y,f.plotHeight))P=q.item.legendItem||{},C(q.pos)&&(P.y=f.plotTop-f.spacing[0]+q.pos)}render(){const f=this.chart,y=f.renderer,b=this.options,P=this.padding;var q=this.getAllItems();let ee,X=this.group,ce=this.box;this.itemX=P,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=N(b.width,f.spacingBox.width-P);var fe=f.spacingBox.width-2*P-b.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(fe/=2),this.maxLegendWidth=this.widthOption||fe,X||(this.group=X=y.g("legend").addClass(b.className||"").attr({zIndex:7}).add(),this.contentGroup=y.g().attr({zIndex:1}).add(X),this.scrollGroup=y.g().add(this.contentGroup)),this.renderTitle(),F(q,(Te,Z)=>(Te.options&&Te.options.legendIndex||0)-(Z.options&&Z.options.legendIndex||0)),b.reversed&&q.reverse(),this.allItems=q,this.display=fe=!!q.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,q.forEach(this.renderItem,this),q.forEach(this.layoutItem,this),q=(this.widthOption||this.offsetWidth)+P,ee=this.lastItemY+this.lastLineHeight+this.titleHeight,ee=this.handleOverflow(ee),ee+=P,ce||(this.box=ce=y.rect().addClass("highcharts-legend-box").attr({r:b.borderRadius}).add(X)),f.styledMode||ce.attr({stroke:b.borderColor,"stroke-width":b.borderWidth||0,fill:b.backgroundColor||"none"}).shadow(b.shadow),0<q&&0<ee&&ce[ce.placed?"animate":"attr"](ce.crisp.call({},{x:0,y:0,width:q,height:ee},ce.strokeWidth())),X[fe?"show":"hide"](),f.styledMode&&X.getStyle("display")==="none"&&(q=ee=0),this.legendWidth=q,this.legendHeight=ee,fe&&this.align(),this.proximate||this.positionItems(),G(this,"afterRender")}align(f=this.chart.spacingBox){const y=this.chart,b=this.options;let P=f.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<y.titleOffset[0]?P+=y.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<y.titleOffset[2]&&(P-=y.titleOffset[2]),P!==f.y&&(f=ie(f,{y:P})),y.hasRendered||(this.group.placed=!1),this.group.align(ie(b,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":b.verticalAlign}),!0,f)}handleOverflow(f){const y=this,b=this.chart,P=b.renderer,q=this.options;var ee=q.y;const X=q.verticalAlign==="top",ce=this.padding,fe=q.maxHeight,Te=q.navigation,Z=Q(Te.animation,!0),re=Te.arrowSize||12,ue=this.pages,ye=this.allItems,Ie=function(Oe){typeof Oe=="number"?Se.attr({height:Oe}):Se&&(y.clipRect=Se.destroy(),y.contentGroup.clip()),y.contentGroup.div&&(y.contentGroup.div.style.clip=Oe?"rect("+ce+"px,9999px,"+(ce+Oe)+"px,0)":"auto")},ae=function(Oe){return y[Oe]=P.circle(0,0,1.3*re).translate(re/2,re/2).add(me),b.styledMode||y[Oe].attr("fill","rgba(0,0,0,0.0001)"),y[Oe]};let be,xe,le;ee=b.spacingBox.height+(X?-ee:ee)-ce;let me=this.nav,Se=this.clipRect;return q.layout!=="horizontal"||q.verticalAlign==="middle"||q.floating||(ee/=2),fe&&(ee=Math.min(ee,fe)),ue.length=0,f&&0<ee&&f>ee&&Te.enabled!==!1?(this.clipHeight=be=Math.max(ee-20-this.titleHeight-ce,0),this.currentPage=Q(this.currentPage,1),this.fullHeight=f,ye.forEach((Oe,Le)=>{le=Oe.legendItem||{},Oe=le.y||0;const Ue=Math.round(le.label.getBBox().height);let lt=ue.length;(!lt||Oe-ue[lt-1]>be&&(xe||Oe)!==ue[lt-1])&&(ue.push(xe||Oe),lt++),le.pageIx=lt-1,xe&&((ye[Le-1].legendItem||{}).pageIx=lt-1),Le===ye.length-1&&Oe+Ue-ue[lt-1]>be&&Oe>ue[lt-1]&&(ue.push(Oe),le.pageIx=lt),Oe!==xe&&(xe=Oe)}),Se||(Se=y.clipRect=P.clipRect(0,ce-2,9999,0),y.contentGroup.clip(Se)),Ie(be),me||(this.nav=me=P.g().attr({zIndex:1}).add(this.group),this.up=P.symbol("triangle",0,0,re,re).add(me),ae("upTracker").on("click",function(){y.scroll(-1,Z)}),this.pager=P.text("",15,10).addClass("highcharts-legend-navigation"),!b.styledMode&&Te.style&&this.pager.css(Te.style),this.pager.add(me),this.down=P.symbol("triangle-down",0,0,re,re).add(me),ae("downTracker").on("click",function(){y.scroll(1,Z)})),y.scroll(0),f=ee):me&&(Ie(),this.nav=me.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),f}scroll(f,y){const b=this.chart,P=this.pages,q=P.length,ee=this.clipHeight,X=this.options.navigation,ce=this.pager,fe=this.padding;let Te=this.currentPage+f;Te>q&&(Te=q),0<Te&&(typeof y<"u"&&B(y,b),this.nav.attr({translateX:fe,translateY:ee+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(Z){Z.attr({class:Te===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),ce.attr({text:Te+"/"+q}),[this.down,this.downTracker].forEach(function(Z){Z.attr({x:18+this.pager.getBBox().width,class:Te===q?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),b.styledMode||(this.up.attr({fill:Te===1?X.inactiveColor:X.activeColor}),this.upTracker.css({cursor:Te===1?"default":"pointer"}),this.down.attr({fill:Te===q?X.inactiveColor:X.activeColor}),this.downTracker.css({cursor:Te===q?"default":"pointer"})),this.scrollOffset=-P[Te-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=Te,this.positionCheckboxes(),f=J(Q(y,b.renderer.globalAnimation,!0)),$(()=>{G(this,"afterScroll",{currentPage:Te})},f.duration))}setItemEvents(f,y,b){const P=this,q=f.legendItem||{},ee=P.chart.renderer.boxWrapper,X=f instanceof n,ce="highcharts-legend-"+(X?"point":"series")+"-active",fe=P.chart.styledMode;b=b?[y,q.symbol]:[q.group];const Te=Z=>{P.allItems.forEach(re=>{f!==re&&[re].concat(re.linkedSeries||[]).forEach(ue=>{ue.setState(Z,!X)})})};for(const Z of b)Z&&Z.on("mouseover",function(){f.visible&&Te("inactive"),f.setState("hover"),f.visible&&ee.addClass(ce),fe||y.css(P.options.itemHoverStyle)}).on("mouseout",function(){P.chart.styledMode||y.css(ie(f.visible?P.itemStyle:P.itemHiddenStyle)),Te(""),ee.removeClass(ce),f.setState()}).on("click",function(re){const ue=function(){f.setVisible&&f.setVisible(),Te(f.visible?"inactive":"")};ee.removeClass(ce),re={browserEvent:re},f.firePointEvent?f.firePointEvent("legendItemClick",re,ue):G(f,"legendItemClick",re,ue)})}createCheckboxForItem(f){f.checkbox=H("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:f.selected,defaultChecked:f.selected},this.options.itemCheckboxStyle,this.chart.container),O(f.checkbox,"click",function(y){G(f.series||f,"checkboxClick",{checked:y.target.checked,item:f},function(){f.select()})})}}return function(L){const f=[];L.compose=function(y){j.pushUnique(f,y)&&O(y,"beforeMargins",function(){this.legend=new L(this,this.options.legend)})}}(w||(w={})),w}),s(l,"Core/Series/SeriesRegistry.js",[l["Core/Globals.js"],l["Core/Defaults.js"],l["Core/Series/Point.js"],l["Core/Utilities.js"]],function(c,d,m,n){const{defaultOptions:S}=d,{extendClass:j,merge:J}=n;var B;return function(W){function K(I,O){const H=S.plotOptions||{},M=O.defaultOptions,E=O.prototype;E.type=I,E.pointClass||(E.pointClass=m),M&&(H[I]=M),W.seriesTypes[I]=O}W.seriesTypes=c.seriesTypes,W.registerSeriesType=K,W.seriesType=function(I,O,H,M,E){const k=S.plotOptions||{};return O=O||"",k[I]=J(k[O],H),K(I,j(W.seriesTypes[O]||function(){},M)),W.seriesTypes[I].prototype.type=I,E&&(W.seriesTypes[I].prototype.pointClass=j(m,E)),W.seriesTypes[I]}}(B||(B={})),B}),s(l,"Core/Chart/Chart.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/Axis.js"],l["Core/Defaults.js"],l["Core/FormatUtilities.js"],l["Core/Foundation.js"],l["Core/Globals.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Time.js"],l["Core/Utilities.js"],l["Core/Renderer/HTML/AST.js"]],function(c,d,m,n,S,j,J,B,W,K,I,O){const{animate:H,animObject:M,setAnimation:E}=c,{defaultOptions:k,defaultTime:V}=m,{numberFormat:G}=n,{registerEventOptions:C}=S,{charts:ie,doc:Q,marginNames:N,svg:F,win:$}=j,{seriesTypes:w}=B,{addEvent:L,attr:f,cleanRecursively:y,createElement:b,css:P,defined:q,discardElement:ee,erase:X,error:ce,extend:fe,find:Te,fireEvent:Z,getStyle:re,isArray:ue,isNumber:ye,isObject:Ie,isString:ae,merge:be,objectEach:xe,pick:le,pInt:me,relativeLength:Se,removeEvent:Oe,splat:Le,syncTimeout:Ue,uniqueKey:lt}=I;class it{static chart(De,ze,Ge){return new it(De,ze,Ge)}constructor(De,ze,Ge){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(De,ze,Ge)}getArgs(De,ze,Ge){ae(De)||De.nodeName?(this.renderTo=De,this.init(ze,Ge)):this.init(De,ze)}init(De,ze){const Ge=De.plotOptions||{};Z(this,"init",{args:arguments},function(){const Ye=be(k,De),at=Ye.chart;xe(Ye.plotOptions,function(Ut,Gt){Ie(Ut)&&(Ut.tooltip=Ge[Gt]&&be(Ge[Gt].tooltip)||void 0)}),Ye.tooltip.userOptions=De.chart&&De.chart.forExport&&De.tooltip.userOptions||De.tooltip,this.userOptions=De,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=ze,this.isResizing=0;const gt=at.zooming=at.zooming||{};De.chart&&!De.chart.zooming&&(gt.resetButton=at.resetZoomButton),gt.key=le(gt.key,at.zoomKey),gt.pinchType=le(gt.pinchType,at.pinchType),gt.singleTouch=le(gt.singleTouch,at.zoomBySingleTouch),gt.type=le(gt.type,at.zoomType),this.options=Ye,this.axes=[],this.series=[],this.time=De.time&&Object.keys(De.time).length?new K(De.time):j.time,this.numberFormatter=at.numberFormatter||G,this.styledMode=at.styledMode,this.hasCartesianSeries=at.showAxes,this.index=ie.length,ie.push(this),j.chartCount++,C(this,at),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,Z(this,"afterInit"),this.firstRender()})}initSeries(De){var ze=this.options.chart;ze=De.type||ze.type;const Ge=w[ze];return Ge||ce(17,!0,this,{missingModuleFor:ze}),ze=new Ge,typeof ze.init=="function"&&ze.init(this,De),ze}setSeriesData(){this.getSeriesOrderByLinks().forEach(function(De){De.points||De.data||!De.enabledDataSorting||De.setData(De.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(De,ze){return De.linkedSeries.length||ze.linkedSeries.length?ze.linkedSeries.length-De.linkedSeries.length:0})}orderSeries(De){const ze=this.series;for(let Ge=De||0,Ye=ze.length;Ge<Ye;++Ge)ze[Ge]&&(ze[Ge].index=Ge,ze[Ge].name=ze[Ge].getName())}isInsidePlot(De,ze,Ge={}){const{inverted:Ye,plotBox:at,plotLeft:gt,plotTop:Ut,scrollablePlotBox:Gt}=this;var wi=0;let Qt=0;Ge.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:wi,scrollTop:Qt}=this.scrollingContainer);const Ti=Ge.series,Ki=Ge.visiblePlotOnly&&Gt||at;var Ni=Ge.inverted?ze:De;if(ze=Ge.inverted?De:ze,De={x:Ni,y:ze,isInsidePlot:!0,options:Ge},!Ge.ignoreX){const Xi=Ti&&(Ye&&!this.polar?Ti.yAxis:Ti.xAxis)||{pos:gt,len:1/0};Ni=Ge.paneCoordinates?Xi.pos+Ni:gt+Ni,Ni>=Math.max(wi+gt,Xi.pos)&&Ni<=Math.min(wi+gt+Ki.width,Xi.pos+Xi.len)||(De.isInsidePlot=!1)}return!Ge.ignoreY&&De.isInsidePlot&&(wi=!Ye&&Ge.axis&&!Ge.axis.isXAxis&&Ge.axis||Ti&&(Ye?Ti.xAxis:Ti.yAxis)||{pos:Ut,len:1/0},Ge=Ge.paneCoordinates?wi.pos+ze:Ut+ze,Ge>=Math.max(Qt+Ut,wi.pos)&&Ge<=Math.min(Qt+Ut+Ki.height,wi.pos+wi.len)||(De.isInsidePlot=!1)),Z(this,"afterIsInsidePlot",De),De.isInsidePlot}redraw(De){Z(this,"beforeRedraw");const ze=this.hasCartesianSeries?this.axes:this.colorAxis||[],Ge=this.series,Ye=this.pointer,at=this.legend,gt=this.userOptions.legend,Ut=this.renderer,Gt=Ut.isHidden(),wi=[];let Qt,Ti,Ki=this.isDirtyBox,Ni=this.isDirtyLegend,Xi;for(Ut.rootFontSize=Ut.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),E(this.hasRendered?De:!1,this),Gt&&this.temporaryDisplay(),this.layOutTitles(),De=Ge.length;De--;)if(Xi=Ge[De],(Xi.options.stacking||Xi.options.centerInCategory)&&(Ti=!0,Xi.isDirty)){Qt=!0;break}if(Qt)for(De=Ge.length;De--;)Xi=Ge[De],Xi.options.stacking&&(Xi.isDirty=!0);Ge.forEach(function(Gi){Gi.isDirty&&(Gi.options.legendType==="point"?(typeof Gi.updateTotals=="function"&&Gi.updateTotals(),Ni=!0):gt&&(gt.labelFormatter||gt.labelFormat)&&(Ni=!0)),Gi.isDirtyData&&Z(Gi,"updatedData")}),Ni&&at&&at.options.enabled&&(at.render(),this.isDirtyLegend=!1),Ti&&this.getStacks(),ze.forEach(function(Gi){Gi.updateNames(),Gi.setScale()}),this.getMargins(),ze.forEach(function(Gi){Gi.isDirty&&(Ki=!0)}),ze.forEach(function(Gi){const xn=Gi.min+","+Gi.max;Gi.extKey!==xn&&(Gi.extKey=xn,wi.push(function(){Z(Gi,"afterSetExtremes",fe(Gi.eventArgs,Gi.getExtremes())),delete Gi.eventArgs})),(Ki||Ti)&&Gi.redraw()}),Ki&&this.drawChartBox(),Z(this,"predraw"),Ge.forEach(function(Gi){(Ki||Gi.isDirty)&&Gi.visible&&Gi.redraw(),Gi.isDirtyData=!1}),Ye&&Ye.reset(!0),Ut.draw(),Z(this,"redraw"),Z(this,"render"),Gt&&this.temporaryDisplay(!0),wi.forEach(function(Gi){Gi.call()})}get(De){function ze(at){return at.id===De||at.options&&at.options.id===De}const Ge=this.series;let Ye=Te(this.axes,ze)||Te(this.series,ze);for(let at=0;!Ye&&at<Ge.length;at++)Ye=Te(Ge[at].points||[],ze);return Ye}getAxes(){const De=this;var ze=this.options;const Ge=ze.xAxis=Le(ze.xAxis||{});ze=ze.yAxis=Le(ze.yAxis||{}),Z(this,"getAxes"),Ge.forEach(function(Ye,at){Ye.index=at,Ye.isX=!0}),ze.forEach(function(Ye,at){Ye.index=at}),Ge.concat(ze).forEach(function(Ye){new d(De,Ye)}),Z(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((De,ze)=>(ze.getPointsCollection().forEach(Ge=>{le(Ge.selectedStaging,Ge.selected)&&De.push(Ge)}),De),[])}getSelectedSeries(){return this.series.filter(function(De){return De.selected})}setTitle(De,ze,Ge){this.applyDescription("title",De),this.applyDescription("subtitle",ze),this.applyDescription("caption",void 0),this.layOutTitles(Ge)}applyDescription(De,ze){const Ge=this;var Ye=De==="title"?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};Ye=this.options[De]=be(!this.styledMode&&{style:Ye},this.options[De],ze);let at=this[De];at&&ze&&(this[De]=at=at.destroy()),Ye&&!at&&(at=this.renderer.text(Ye.text,0,0,Ye.useHTML).attr({align:Ye.align,class:"highcharts-"+De,zIndex:Ye.zIndex||4}).add(),at.update=function(gt){Ge[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[De]](gt)},this.styledMode||at.css(Ye.style),this[De]=at)}layOutTitles(De){const ze=[0,0,0],Ge=this.renderer,Ye=this.spacingBox;["title","subtitle","caption"].forEach(function(gt){const Ut=this[gt],Gt=this.options[gt],wi=Gt.verticalAlign||"top";if(gt=gt==="title"?wi==="top"?-3:0:wi==="top"?ze[0]+2:0,Ut){Ut.css({width:(Gt.width||Ye.width+(Gt.widthAdjust||0))+"px"});const Qt=Ge.fontMetrics(Ut).b,Ti=Math.round(Ut.getBBox(Gt.useHTML).height);Ut.align(fe({y:wi==="bottom"?Qt:gt+Qt,height:Ti},Gt),!1,"spacingBox"),Gt.floating||(wi==="top"?ze[0]=Math.ceil(ze[0]+Ti):wi==="bottom"&&(ze[2]=Math.ceil(ze[2]+Ti)))}},this),ze[0]&&(this.options.title.verticalAlign||"top")==="top"&&(ze[0]+=this.options.title.margin),ze[2]&&this.options.caption.verticalAlign==="bottom"&&(ze[2]+=this.options.caption.margin);const at=!this.titleOffset||this.titleOffset.join(",")!==ze.join(",");this.titleOffset=ze,Z(this,"afterLayOutTitles"),!this.isDirtyBox&&at&&(this.isDirtyBox=this.isDirtyLegend=at,this.hasRendered&&le(De,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:re(this.renderTo,"width",!0)||0,height:re(this.renderTo,"height",!0)||0}}getChartSize(){var De=this.options.chart;const ze=De.width;De=De.height;const Ge=this.getContainerBox();this.chartWidth=Math.max(0,ze||Ge.width||600),this.chartHeight=Math.max(0,Se(De,this.chartWidth)||(1<Ge.height?Ge.height:400)),this.containerBox=Ge}temporaryDisplay(De){let ze=this.renderTo;if(De)for(;ze&&ze.style;)ze.hcOrigStyle&&(P(ze,ze.hcOrigStyle),delete ze.hcOrigStyle),ze.hcOrigDetached&&(Q.body.removeChild(ze),ze.hcOrigDetached=!1),ze=ze.parentNode;else for(;ze&&ze.style&&(Q.body.contains(ze)||ze.parentNode||(ze.hcOrigDetached=!0,Q.body.appendChild(ze)),(re(ze,"display",!1)==="none"||ze.hcOricDetached)&&(ze.hcOrigStyle={display:ze.style.display,height:ze.style.height,overflow:ze.style.overflow},De={display:"block",overflow:"hidden"},ze!==this.renderTo&&(De.height=0),P(ze,De),ze.offsetWidth||ze.style.setProperty("display","block","important")),ze=ze.parentNode,ze!==Q.body););}setClassName(De){this.container.className="highcharts-container "+(De||"")}getContainer(){const De=this.options,ze=De.chart;var Ge=lt();let Ye,at=this.renderTo;at||(this.renderTo=at=ze.renderTo),ae(at)&&(this.renderTo=at=Q.getElementById(at)),at||ce(13,!0,this);var gt=me(f(at,"data-highcharts-chart"));ye(gt)&&ie[gt]&&ie[gt].hasRendered&&ie[gt].destroy(),f(at,"data-highcharts-chart",this.index),at.innerHTML=O.emptyHTML,ze.skipClone||at.offsetWidth||this.temporaryDisplay(),this.getChartSize(),gt=this.chartWidth;const Ut=this.chartHeight;if(P(at,{overflow:"hidden"}),this.styledMode||(Ye=fe({position:"relative",overflow:"hidden",width:gt+"px",height:Ut+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},ze.style||{})),this.container=Ge=b("div",{id:Ge},Ye,at),this._cursor=Ge.style.cursor,this.renderer=new(ze.renderer||!F?J.getRendererType(ze.renderer):W)(Ge,gt,Ut,void 0,ze.forExport,De.exporting&&De.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),E(void 0,this),this.setClassName(ze.className),this.styledMode)for(const Gt in De.defs)this.renderer.definition(De.defs[Gt]);else this.renderer.setStyle(ze.style);this.renderer.chartIndex=this.index,Z(this,"afterGetContainer")}getMargins(De){const{spacing:ze,margin:Ge,titleOffset:Ye}=this;this.resetMargins(),Ye[0]&&!q(Ge[0])&&(this.plotTop=Math.max(this.plotTop,Ye[0]+ze[0])),Ye[2]&&!q(Ge[2])&&(this.marginBottom=Math.max(this.marginBottom,Ye[2]+ze[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(Ge,ze),Z(this,"getMargins"),De||this.getAxisMargins()}getAxisMargins(){const De=this,ze=De.axisOffset=[0,0,0,0],Ge=De.colorAxis,Ye=De.margin,at=function(gt){gt.forEach(function(Ut){Ut.visible&&Ut.getOffset()})};De.hasCartesianSeries?at(De.axes):Ge&&Ge.length&&at(Ge),N.forEach(function(gt,Ut){q(Ye[Ut])||(De[gt]+=ze[Ut])}),De.setChartSize()}reflow(De){const ze=this;var Ge=ze.options.chart;Ge=q(Ge.width)&&q(Ge.height);const Ye=ze.containerBox,at=ze.getContainerBox();delete ze.pointer.chartPosition,!Ge&&!ze.isPrinting&&Ye&&at.width&&((at.width!==Ye.width||at.height!==Ye.height)&&(I.clearTimeout(ze.reflowTimeout),ze.reflowTimeout=Ue(function(){ze.container&&ze.setSize(void 0,void 0,!1)},De?100:0)),ze.containerBox=at)}setReflow(){const De=this;var ze=Ge=>{var Ye;!((Ye=De.options)===null||Ye===void 0)&&Ye.chart.reflow&&De.hasLoaded&&De.reflow(Ge)};typeof ResizeObserver=="function"?new ResizeObserver(ze).observe(De.renderTo):(ze=L($,"resize",ze),L(this,"destroy",ze))}setSize(De,ze,Ge){const Ye=this,at=Ye.renderer;Ye.isResizing+=1,E(Ge,Ye),Ge=at.globalAnimation,Ye.oldChartHeight=Ye.chartHeight,Ye.oldChartWidth=Ye.chartWidth,typeof De<"u"&&(Ye.options.chart.width=De),typeof ze<"u"&&(Ye.options.chart.height=ze),Ye.getChartSize(),Ye.styledMode||(Ge?H:P)(Ye.container,{width:Ye.chartWidth+"px",height:Ye.chartHeight+"px"},Ge),Ye.setChartSize(!0),at.setSize(Ye.chartWidth,Ye.chartHeight,Ge),Ye.axes.forEach(function(gt){gt.isDirty=!0,gt.setScale()}),Ye.isDirtyLegend=!0,Ye.isDirtyBox=!0,Ye.layOutTitles(),Ye.getMargins(),Ye.redraw(Ge),Ye.oldChartHeight=null,Z(Ye,"resize"),Ue(function(){Ye&&Z(Ye,"endResize",null,function(){--Ye.isResizing})},M(Ge).duration)}setChartSize(De){var ze=this.inverted;const Ge=this.renderer;var Ye=this.chartWidth,at=this.chartHeight;const gt=this.options.chart,Ut=this.spacing,Gt=this.clipOffset;let wi,Qt,Ti,Ki;this.plotLeft=wi=Math.round(this.plotLeft),this.plotTop=Qt=Math.round(this.plotTop),this.plotWidth=Ti=Math.max(0,Math.round(Ye-wi-this.marginRight)),this.plotHeight=Ki=Math.max(0,Math.round(at-Qt-this.marginBottom)),this.plotSizeX=ze?Ki:Ti,this.plotSizeY=ze?Ti:Ki,this.plotBorderWidth=gt.plotBorderWidth||0,this.spacingBox=Ge.spacingBox={x:Ut[3],y:Ut[0],width:Ye-Ut[3]-Ut[1],height:at-Ut[0]-Ut[2]},this.plotBox=Ge.plotBox={x:wi,y:Qt,width:Ti,height:Ki},ze=2*Math.floor(this.plotBorderWidth/2),Ye=Math.ceil(Math.max(ze,Gt[3])/2),at=Math.ceil(Math.max(ze,Gt[0])/2),this.clipBox={x:Ye,y:at,width:Math.floor(this.plotSizeX-Math.max(ze,Gt[1])/2-Ye),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(ze,Gt[2])/2-at))},De||(this.axes.forEach(function(Ni){Ni.setAxisSize(),Ni.setAxisTranslation()}),Ge.alignElements()),Z(this,"afterSetChartSize",{skipAxes:De})}resetMargins(){Z(this,"resetMargins");const De=this,ze=De.options.chart;["margin","spacing"].forEach(function(Ge){const Ye=ze[Ge],at=Ie(Ye)?Ye:[Ye,Ye,Ye,Ye];["Top","Right","Bottom","Left"].forEach(function(gt,Ut){De[Ge][Ut]=le(ze[Ge+gt],at[Ut])})}),N.forEach(function(Ge,Ye){De[Ge]=le(De.margin[Ye],De.spacing[Ye])}),De.axisOffset=[0,0,0,0],De.clipOffset=[0,0,0,0]}drawChartBox(){const De=this.options.chart,ze=this.renderer,Ge=this.chartWidth,Ye=this.chartHeight,at=this.styledMode,gt=this.plotBGImage;var Ut=De.backgroundColor;const Gt=De.plotBackgroundColor,wi=De.plotBackgroundImage,Qt=this.plotLeft,Ti=this.plotTop,Ki=this.plotWidth,Ni=this.plotHeight,Xi=this.plotBox,Gi=this.clipRect,xn=this.clipBox;let kn=this.chartBackground,qn=this.plotBackground,Tr=this.plotBorder,fs,Bs,Ji="animate";kn||(this.chartBackground=kn=ze.rect().addClass("highcharts-background").add(),Ji="attr"),at?fs=Bs=kn.strokeWidth():(fs=De.borderWidth||0,Bs=fs+(De.shadow?8:0),Ut={fill:Ut||"none"},(fs||kn["stroke-width"])&&(Ut.stroke=De.borderColor,Ut["stroke-width"]=fs),kn.attr(Ut).shadow(De.shadow)),kn[Ji]({x:Bs/2,y:Bs/2,width:Ge-Bs-fs%2,height:Ye-Bs-fs%2,r:De.borderRadius}),Ji="animate",qn||(Ji="attr",this.plotBackground=qn=ze.rect().addClass("highcharts-plot-background").add()),qn[Ji](Xi),at||(qn.attr({fill:Gt||"none"}).shadow(De.plotShadow),wi&&(gt?(wi!==gt.attr("href")&&gt.attr("href",wi),gt.animate(Xi)):this.plotBGImage=ze.image(wi,Qt,Ti,Ki,Ni).add())),Gi?Gi.animate({width:xn.width,height:xn.height}):this.clipRect=ze.clipRect(xn),Ji="animate",Tr||(Ji="attr",this.plotBorder=Tr=ze.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),at||Tr.attr({stroke:De.plotBorderColor,"stroke-width":De.plotBorderWidth||0,fill:"none"}),Tr[Ji](Tr.crisp({x:Qt,y:Ti,width:Ki,height:Ni},-Tr.strokeWidth())),this.isDirtyBox=!1,Z(this,"afterDrawChartBox")}propFromSeries(){const De=this,ze=De.options.chart,Ge=De.options.series;let Ye,at,gt;["inverted","angular","polar"].forEach(function(Ut){for(at=w[ze.type],gt=ze[Ut]||at&&at.prototype[Ut],Ye=Ge&&Ge.length;!gt&&Ye--;)(at=w[Ge[Ye].type])&&at.prototype[Ut]&&(gt=!0);De[Ut]=gt})}linkSeries(De){const ze=this,Ge=ze.series;Ge.forEach(function(Ye){Ye.linkedSeries.length=0}),Ge.forEach(function(Ye){let at=Ye.options.linkedTo;ae(at)&&(at=at===":previous"?ze.series[Ye.index-1]:ze.get(at))&&at.linkedParent!==Ye&&(at.linkedSeries.push(Ye),Ye.linkedParent=at,at.enabledDataSorting&&Ye.setDataSortingOptions(),Ye.visible=le(Ye.options.visible,at.options.visible,Ye.visible))}),Z(this,"afterLinkSeries",{isUpdating:De})}renderSeries(){this.series.forEach(function(De){De.translate(),De.render()})}render(){const De=this.axes,ze=this.colorAxis,Ge=this.renderer,Ye=function(Qt){Qt.forEach(function(Ti){Ti.visible&&Ti.render()})};let at=0;this.setTitle(),Z(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const gt=this.plotWidth;De.some(function(Qt){if(Qt.horiz&&Qt.visible&&Qt.options.labels.enabled&&Qt.series.length)return at=21,!0});const Ut=this.plotHeight=Math.max(this.plotHeight-at,0);De.forEach(function(Qt){Qt.setScale()}),this.getAxisMargins();const Gt=1.1<gt/this.plotWidth,wi=1.05<Ut/this.plotHeight;(Gt||wi)&&(De.forEach(function(Qt){(Qt.horiz&&Gt||!Qt.horiz&&wi)&&Qt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?Ye(De):ze&&ze.length&&Ye(ze),this.seriesGroup||(this.seriesGroup=Ge.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(De){const ze=this,Ge=be(!0,this.options.credits,De);Ge.enabled&&!this.credits&&(this.credits=this.renderer.text(Ge.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){Ge.href&&($.location.href=Ge.href)}).attr({align:Ge.position.align,zIndex:8}),ze.styledMode||this.credits.css(Ge.style),this.credits.add().align(Ge.position),this.credits.update=function(Ye){ze.credits=ze.credits.destroy(),ze.addCredits(Ye)})}destroy(){const De=this,ze=De.axes,Ge=De.series,Ye=De.container,at=Ye&&Ye.parentNode;let gt;for(Z(De,"destroy"),De.renderer.forExport?X(ie,De):ie[De.index]=void 0,j.chartCount--,De.renderTo.removeAttribute("data-highcharts-chart"),Oe(De),gt=ze.length;gt--;)ze[gt]=ze[gt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),gt=Ge.length;gt--;)Ge[gt]=Ge[gt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Ut){const Gt=De[Ut];Gt&&Gt.destroy&&(De[Ut]=Gt.destroy())}),Ye&&(Ye.innerHTML=O.emptyHTML,Oe(Ye),at&&ee(Ye)),xe(De,function(Ut,Gt){delete De[Gt]})}firstRender(){const De=this,ze=De.options;De.getContainer(),De.resetMargins(),De.setChartSize(),De.propFromSeries(),De.getAxes(),(ue(ze.series)?ze.series:[]).forEach(function(Ge){De.initSeries(Ge)}),De.linkSeries(),De.setSeriesData(),Z(De,"beforeRender"),De.render(),De.pointer.getChartPosition(),!De.renderer.imgCount&&!De.hasLoaded&&De.onload(),De.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(De){De&&typeof this.index<"u"&&De.apply(this,[this])},this),Z(this,"load"),Z(this,"render"),q(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:De,title:ze}=this;De&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(ze&&ze.element.textContent||"").replace(/</g,"&lt;")}),De.accessibility&&De.accessibility.enabled===!1||ce('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(De,ze,Ge){const Ye=this;let at;return De&&(ze=le(ze,!0),Z(Ye,"addSeries",{options:De},function(){at=Ye.initSeries(De),Ye.isDirtyLegend=!0,Ye.linkSeries(),at.enabledDataSorting&&at.setData(De.data,!1),Z(Ye,"afterAddSeries",{series:at}),ze&&Ye.redraw(Ge)})),at}addAxis(De,ze,Ge,Ye){return this.createAxis(ze?"xAxis":"yAxis",{axis:De,redraw:Ge,animation:Ye})}addColorAxis(De,ze,Ge){return this.createAxis("colorAxis",{axis:De,redraw:ze,animation:Ge})}createAxis(De,ze){return De=new d(this,be(ze.axis,{index:this[De].length,isX:De==="xAxis"})),le(ze.redraw,!0)&&this.redraw(ze.animation),De}showLoading(De){const ze=this,Ge=ze.options,Ye=Ge.loading,at=function(){gt&&P(gt,{left:ze.plotLeft+"px",top:ze.plotTop+"px",width:ze.plotWidth+"px",height:ze.plotHeight+"px"})};let gt=ze.loadingDiv,Ut=ze.loadingSpan;gt||(ze.loadingDiv=gt=b("div",{className:"highcharts-loading highcharts-loading-hidden"},null,ze.container)),Ut||(ze.loadingSpan=Ut=b("span",{className:"highcharts-loading-inner"},null,gt),L(ze,"redraw",at)),gt.className="highcharts-loading",O.setElementHTML(Ut,le(De,Ge.lang.loading,"")),ze.styledMode||(P(gt,fe(Ye.style,{zIndex:10})),P(Ut,Ye.labelStyle),ze.loadingShown||(P(gt,{opacity:0,display:""}),H(gt,{opacity:Ye.style.opacity||.5},{duration:Ye.showDuration||0}))),ze.loadingShown=!0,at()}hideLoading(){const De=this.options,ze=this.loadingDiv;ze&&(ze.className="highcharts-loading highcharts-loading-hidden",this.styledMode||H(ze,{opacity:0},{duration:De.loading.hideDuration||100,complete:function(){P(ze,{display:"none"})}})),this.loadingShown=!1}update(De,ze,Ge,Ye){const at=this,gt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Ut=De.isResponsiveOptions,Gt=[];let wi,Qt;Z(at,"update",{options:De}),Ut||at.setResponsive(!1,!0),De=y(De,at.options),at.userOptions=be(at.userOptions,De);var Ti=De.chart;if(Ti){if(be(!0,at.options.chart,Ti),"className"in Ti&&at.setClassName(Ti.className),"inverted"in Ti||"polar"in Ti||"type"in Ti){at.propFromSeries();var Ki=!0}"alignTicks"in Ti&&(Ki=!0),"events"in Ti&&C(this,Ti),xe(Ti,function(Ni,Xi){at.propsRequireUpdateSeries.indexOf("chart."+Xi)!==-1&&(wi=!0),at.propsRequireDirtyBox.indexOf(Xi)!==-1&&(at.isDirtyBox=!0),at.propsRequireReflow.indexOf(Xi)!==-1&&(Ut?at.isDirtyBox=!0:Qt=!0)}),!at.styledMode&&Ti.style&&at.renderer.setStyle(at.options.chart.style||{})}!at.styledMode&&De.colors&&(this.options.colors=De.colors),De.time&&(this.time===V&&(this.time=new K(De.time)),be(!0,at.options.time,De.time)),xe(De,function(Ni,Xi){at[Xi]&&typeof at[Xi].update=="function"?at[Xi].update(Ni,!1):typeof at[gt[Xi]]=="function"?at[gt[Xi]](Ni):Xi!=="colors"&&at.collectionsWithUpdate.indexOf(Xi)===-1&&be(!0,at.options[Xi],De[Xi]),Xi!=="chart"&&at.propsRequireUpdateSeries.indexOf(Xi)!==-1&&(wi=!0)}),this.collectionsWithUpdate.forEach(function(Ni){let Xi;De[Ni]&&(Xi=[],at[Ni].forEach(function(Gi,xn){Gi.options.isInternal||Xi.push(le(Gi.options.index,xn))}),Le(De[Ni]).forEach(function(Gi,xn){const kn=q(Gi.id);let qn;kn&&(qn=at.get(Gi.id)),!qn&&at[Ni]&&(qn=at[Ni][Xi?Xi[xn]:xn])&&kn&&q(qn.options.id)&&(qn=void 0),qn&&qn.coll===Ni&&(qn.update(Gi,!1),Ge&&(qn.touched=!0)),!qn&&Ge&&at.collectionsWithInit[Ni]&&(at.collectionsWithInit[Ni][0].apply(at,[Gi].concat(at.collectionsWithInit[Ni][1]||[]).concat([!1])).touched=!0)}),Ge&&at[Ni].forEach(function(Gi){Gi.touched||Gi.options.isInternal?delete Gi.touched:Gt.push(Gi)}))}),Gt.forEach(function(Ni){Ni.chart&&Ni.remove&&Ni.remove(!1)}),Ki&&at.axes.forEach(function(Ni){Ni.update({},!1)}),wi&&at.getSeriesOrderByLinks().forEach(function(Ni){Ni.chart&&Ni.update({},!1)},this),Ki=Ti&&Ti.width,Ti=Ti&&(ae(Ti.height)?Se(Ti.height,Ki||at.chartWidth):Ti.height),Qt||ye(Ki)&&Ki!==at.chartWidth||ye(Ti)&&Ti!==at.chartHeight?at.setSize(Ki,Ti,Ye):le(ze,!0)&&at.redraw(Ye),Z(at,"afterUpdate",{options:De,redraw:ze,animation:Ye})}setSubtitle(De,ze){this.applyDescription("subtitle",De),this.layOutTitles(ze)}setCaption(De,ze){this.applyDescription("caption",De),this.layOutTitles(ze)}showResetZoom(){function De(){ze.zoomOut()}const ze=this,Ge=k.lang,Ye=ze.options.chart.zooming.resetButton,at=Ye.theme,gt=Ye.relativeTo==="chart"||Ye.relativeTo==="spacingBox"?null:"scrollablePlotBox";Z(this,"beforeShowResetZoom",null,function(){ze.resetZoomButton=ze.renderer.button(Ge.resetZoom,null,null,De,at).attr({align:Ye.position.align,title:Ge.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(Ye.position,!1,gt)}),Z(this,"afterShowResetZoom")}zoomOut(){Z(this,"selection",{resetSelection:!0},this.zoom)}zoom(De){const ze=this,Ge=ze.pointer;let Ye=!1,at;!De||De.resetSelection?(ze.axes.forEach(function(Ut){at=Ut.zoom()}),Ge.initiated=!1):De.xAxis.concat(De.yAxis).forEach(function(Ut){const Gt=Ut.axis;(Ge[Gt.isXAxis?"zoomX":"zoomY"]&&q(Ge.mouseDownX)&&q(Ge.mouseDownY)&&ze.isInsidePlot(Ge.mouseDownX-ze.plotLeft,Ge.mouseDownY-ze.plotTop,{axis:Gt})||!q(ze.inverted?Ge.mouseDownX:Ge.mouseDownY))&&(at=Gt.zoom(Ut.min,Ut.max),Gt.displayBtn&&(Ye=!0))});const gt=ze.resetZoomButton;Ye&&!gt?ze.showResetZoom():!Ye&&Ie(gt)&&(ze.resetZoomButton=gt.destroy()),at&&ze.redraw(le(ze.options.chart.animation,De&&De.animation,100>ze.pointCount))}pan(De,ze){const Ge=this,Ye=Ge.hoverPoints;ze=typeof ze=="object"?ze:{enabled:ze,type:"x"};const at=Ge.options.chart;at&&at.panning&&(at.panning=ze);const gt=ze.type;let Ut;Z(this,"pan",{originalEvent:De},function(){Ye&&Ye.forEach(function(Qt){Qt.setState()});let Gt=Ge.xAxis;gt==="xy"?Gt=Gt.concat(Ge.yAxis):gt==="y"&&(Gt=Ge.yAxis);const wi={};Gt.forEach(function(Qt){if(Qt.options.panningEnabled&&!Qt.options.isInternal){var Ti=Qt.horiz,Ki=De[Ti?"chartX":"chartY"];Ti=Ti?"mouseDownX":"mouseDownY";var Ni=Ge[Ti],Xi=Qt.minPointOffset||0,Gi=Qt.reversed&&!Ge.inverted||!Qt.reversed&&Ge.inverted?-1:1,xn=Qt.getExtremes(),kn=Qt.toValue(Ni-Ki,!0)+Xi*Gi,qn=Qt.toValue(Ni+Qt.len-Ki,!0)-(Xi*Gi||Qt.isXAxis&&Qt.pointRangePadding||0),Tr=qn<kn;Gi=Qt.hasVerticalPanning(),Ni=Tr?qn:kn,kn=Tr?kn:qn;var fs=Qt.panningState;!Gi||Qt.isXAxis||fs&&!fs.isDirty||Qt.series.forEach(function(Bs){var Ji=Bs.getProcessedData(!0);Ji=Bs.getExtremes(Ji.yData,!0),fs||(fs={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),ye(Ji.dataMin)&&ye(Ji.dataMax)&&(fs.startMin=Math.min(le(Bs.options.threshold,1/0),Ji.dataMin,fs.startMin),fs.startMax=Math.max(le(Bs.options.threshold,-1/0),Ji.dataMax,fs.startMax))}),Gi=Math.min(le(fs&&fs.startMin,xn.dataMin),Xi?xn.min:Qt.toValue(Qt.toPixels(xn.min)-Qt.minPixelPadding)),qn=Math.max(le(fs&&fs.startMax,xn.dataMax),Xi?xn.max:Qt.toValue(Qt.toPixels(xn.max)+Qt.minPixelPadding)),Qt.panningState=fs,Qt.isOrdinal||(Xi=Gi-Ni,0<Xi&&(kn+=Xi,Ni=Gi),Xi=kn-qn,0<Xi&&(kn=qn,Ni-=Xi),Qt.series.length&&Ni!==xn.min&&kn!==xn.max&&Ni>=Gi&&kn<=qn&&(Qt.setExtremes(Ni,kn,!1,!1,{trigger:"pan"}),!Ge.resetZoomButton&&Ni!==Gi&&kn!==qn&&gt.match("y")&&(Ge.showResetZoom(),Qt.displayBtn=!1),Ut=!0),wi[Ti]=Ki)}}),xe(wi,(Qt,Ti)=>{Ge[Ti]=Qt}),Ut&&Ge.redraw(!1),P(Ge.container,{cursor:"move"})})}}return fe(it.prototype,{callbacks:[],collectionsWithInit:{xAxis:[it.prototype.addAxis,[!0]],yAxis:[it.prototype.addAxis,[!1]],series:[it.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),it}),s(l,"Core/Legend/LegendSymbol.js",[l["Core/Utilities.js"]],function(c){const{extend:d,merge:m,pick:n}=c;var S;return function(j){j.lineMarker=function(J,B){B=this.legendItem=this.legendItem||{};var W=this.options;const K=J.symbolWidth,I=J.symbolHeight,O=I/2,H=this.chart.renderer,M=B.group;J=J.baseline-Math.round(.3*J.fontMetrics.b);let E={},k=W.marker,V=0;this.chart.styledMode||(E={"stroke-width":Math.min(W.lineWidth||0,24)},W.dashStyle?E.dashstyle=W.dashStyle:W.linecap!=="square"&&(E["stroke-linecap"]="round")),B.line=H.path().addClass("highcharts-graph").attr(E).add(M),E["stroke-linecap"]&&(V=Math.min(B.line.strokeWidth(),K)/2),K&&B.line.attr({d:[["M",V,J],["L",K-V,J]]}),k&&k.enabled!==!1&&K&&(W=Math.min(n(k.radius,O),O),this.symbol.indexOf("url")===0&&(k=m(k,{width:I,height:I}),W=0),B.symbol=B=H.symbol(this.symbol,K/2-W,J-W,2*W,2*W,d({context:"legend"},k)).addClass("highcharts-point").add(M),B.isMarker=!0)},j.rectangle=function(J,B){B=B.legendItem||{};const W=J.symbolHeight,K=J.options.squareSymbol;B.symbol=this.chart.renderer.rect(K?(J.symbolWidth-W)/2:0,J.baseline-W+1,K?W:J.symbolWidth,W,n(J.options.symbolRadius,W/2)).addClass("highcharts-point").attr({zIndex:3}).add(B.group)}}(S||(S={})),S}),s(l,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:c}=this.series.chart;return typeof this.y!="number"?"":c(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),s(l,"Core/Series/Series.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Defaults.js"],l["Core/Foundation.js"],l["Core/Globals.js"],l["Core/Legend/LegendSymbol.js"],l["Core/Series/Point.js"],l["Core/Series/SeriesDefaults.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Utilities.js"]],function(c,d,m,n,S,j,J,B,W,K){const{animObject:I,setAnimation:O}=c,{defaultOptions:H}=d,{registerEventOptions:M}=m,{hasTouch:E,svg:k,win:V}=n,{seriesTypes:G}=B,{arrayMax:C,arrayMin:ie,clamp:Q,cleanRecursively:N,correctFloat:F,defined:$,erase:w,error:L,extend:f,find:y,fireEvent:b,getNestedProperty:P,isArray:q,isNumber:ee,isString:X,merge:ce,objectEach:fe,pick:Te,removeEvent:Z,splat:re,syncTimeout:ue}=K;class ye{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(ae,be){b(this,"init",{options:be});const xe=this,le=ae.series;this.eventsToUnbind=[],xe.chart=ae,xe.options=xe.setOptions(be),be=xe.options,xe.linkedSeries=[],xe.bindAxes(),f(xe,{name:be.name,state:"",visible:be.visible!==!1,selected:be.selected===!0}),M(this,be);const me=be.events;(me&&me.click||be.point&&be.point.events&&be.point.events.click||be.allowPointSelect)&&(ae.runTrackerClick=!0),xe.getColor(),xe.getSymbol(),xe.parallelArrays.forEach(function(Oe){xe[Oe+"Data"]||(xe[Oe+"Data"]=[])}),xe.isCartesian&&(ae.hasCartesianSeries=!0);let Se;le.length&&(Se=le[le.length-1]),xe._i=Te(Se&&Se._i,-1)+1,xe.opacity=xe.options.opacity,ae.orderSeries(this.insert(le)),be.dataSorting&&be.dataSorting.enabled?xe.setDataSortingOptions():xe.points||xe.data||xe.setData(be.data,!1),b(this,"afterInit")}is(ae){return G[ae]&&this instanceof G[ae]}insert(ae){const be=this.options.index;let xe;if(ee(be)){for(xe=ae.length;xe--;)if(be>=Te(ae[xe].options.index,ae[xe]._i)){ae.splice(xe+1,0,this);break}xe===-1&&ae.unshift(this),xe+=1}else ae.push(this);return Te(xe,ae.length-1)}bindAxes(){const ae=this,be=ae.options,xe=ae.chart;let le;b(this,"bindAxes",null,function(){(ae.axisTypes||[]).forEach(function(me){let Se=0;xe[me].forEach(function(Oe){le=Oe.options,(be[me]===Se&&!le.isInternal||typeof be[me]<"u"&&be[me]===le.id||typeof be[me]>"u"&&le.index===0)&&(ae.insert(Oe.series),ae[me]=Oe,Oe.isDirty=!0),le.isInternal||Se++}),ae[me]||ae.optionalAxis===me||L(18,!0,xe)})}),b(this,"afterBindAxes")}updateParallelArrays(ae,be,xe){const le=ae.series,me=ee(be)?function(Se){const Oe=Se==="y"&&le.toYData?le.toYData(ae):ae[Se];le[Se+"Data"][be]=Oe}:function(Se){Array.prototype[be].apply(le[Se+"Data"],xe)};le.parallelArrays.forEach(me)}hasData(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length}autoIncrement(ae){var be=this.options;const xe=be.pointIntervalUnit,le=be.relativeXValue,me=this.chart.time;let Se=this.xIncrement,Oe;return Se=Te(Se,be.pointStart,0),this.pointInterval=Oe=Te(this.pointInterval,be.pointInterval,1),le&&ee(ae)&&(Oe*=ae),xe&&(be=new me.Date(Se),xe==="day"?me.set("Date",be,me.get("Date",be)+Oe):xe==="month"?me.set("Month",be,me.get("Month",be)+Oe):xe==="year"&&me.set("FullYear",be,me.get("FullYear",be)+Oe),Oe=be.getTime()-Se),le&&ee(ae)?Se+Oe:(this.xIncrement=Se+Oe,Se)}setDataSortingOptions(){const ae=this.options;f(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),$(ae.pointRange)||(ae.pointRange=1)}setOptions(ae){var be=this.chart,xe=be.options,le=xe.plotOptions,me=be.userOptions||{};ae=ce(ae),be=be.styledMode;const Se={plotOptions:le,userOptions:ae};b(this,"setOptions",Se);const Oe=Se.plotOptions[this.type],Le=me.plotOptions||{};return this.userOptions=Se.userOptions,me=ce(Oe,le.series,me.plotOptions&&me.plotOptions[this.type],ae),this.tooltipOptions=ce(H.tooltip,H.plotOptions.series&&H.plotOptions.series.tooltip,H.plotOptions[this.type].tooltip,xe.tooltip.userOptions,le.series&&le.series.tooltip,le[this.type].tooltip,ae.tooltip),this.stickyTracking=Te(ae.stickyTracking,Le[this.type]&&Le[this.type].stickyTracking,Le.series&&Le.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:me.stickyTracking),Oe.marker===null&&delete me.marker,this.zoneAxis=me.zoneAxis,le=this.zones=(me.zones||[]).slice(),!me.negativeColor&&!me.negativeFillColor||me.zones||(xe={value:me[this.zoneAxis+"Threshold"]||me.threshold||0,className:"highcharts-negative"},be||(xe.color=me.negativeColor,xe.fillColor=me.negativeFillColor),le.push(xe)),le.length&&$(le[le.length-1].value)&&le.push(be?{}:{color:this.color,fillColor:this.fillColor}),b(this,"afterSetOptions",{options:me}),me}getName(){return Te(this.options.name,"Series "+(this.index+1))}getCyclic(ae,be,xe){const le=this.chart,me=this.userOptions,Se=ae+"Index",Oe=ae+"Counter",Le=xe?xe.length:Te(le.options.chart[ae+"Count"],le[ae+"Count"]);if(!be){var Ue=Te(me[Se],me["_"+Se]);$(Ue)||(le.series.length||(le[Oe]=0),me["_"+Se]=Ue=le[Oe]%Le,le[Oe]+=1),xe&&(be=xe[Ue])}typeof Ue<"u"&&(this[Se]=Ue),this[ae]=be}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||H.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(ae,be){const xe=ae.id,le=ae.x,me=this.points;var Se=this.options.dataSorting,Oe;let Le,Ue;if(xe)Se=this.chart.get(xe),Se instanceof j&&(Oe=Se);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Oe=lt=>!lt.touched&&lt.index===ae.index,Se&&Se.matchByName?Oe=lt=>!lt.touched&&lt.name===ae.name:this.options.relativeXValue&&(Oe=lt=>!lt.touched&&lt.options.x===ae.x),Oe=y(me,Oe),!Oe))return;return Oe&&(Ue=Oe&&Oe.index,typeof Ue<"u"&&(Le=!0)),typeof Ue>"u"&&ee(le)&&(Ue=this.xData.indexOf(le,be)),Ue!==-1&&typeof Ue<"u"&&this.cropped&&(Ue=Ue>=this.cropStart?Ue-this.cropStart:Ue),!Le&&ee(Ue)&&me[Ue]&&me[Ue].touched&&(Ue=void 0),Ue}updateData(ae,be){const xe=this.options,le=xe.dataSorting,me=this.points,Se=[],Oe=this.requireSorting,Le=ae.length===me.length;let Ue,lt,it,pt=!0;if(this.xIncrement=null,ae.forEach(function(De,ze){var Ge=$(De)&&this.pointClass.prototype.optionsToObject.call({series:this},De)||{};const Ye=Ge.x;Ge.id||ee(Ye)?(Ge=this.findPointIndex(Ge,it),Ge===-1||typeof Ge>"u"?Se.push(De):me[Ge]&&De!==xe.data[Ge]?(me[Ge].update(De,!1,null,!1),me[Ge].touched=!0,Oe&&(it=Ge+1)):me[Ge]&&(me[Ge].touched=!0),(!Le||ze!==Ge||le&&le.enabled||this.hasDerivedData)&&(Ue=!0)):Se.push(De)},this),Ue)for(ae=me.length;ae--;)(lt=me[ae])&&!lt.touched&&lt.remove&&lt.remove(!1,be);else!Le||le&&le.enabled?pt=!1:(ae.forEach(function(De,ze){De===me[ze].y||me[ze].destroyed||me[ze].update(De,!1,null,!1)}),Se.length=0);return me.forEach(function(De){De&&(De.touched=!1)}),pt?(Se.forEach(function(De){this.addPoint(De,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=C(this.xData),this.autoIncrement()),!0):!1}setData(ae,be=!0,xe,le){var me;const Se=this,Oe=Se.points,Le=Oe&&Oe.length||0,Ue=Se.options,lt=Se.chart,it=Ue.dataSorting,pt=Se.xAxis,De=Ue.turboThreshold,ze=this.xData,Ge=this.yData;var Ye=Se.pointArrayMap;Ye=Ye&&Ye.length;const at=Ue.keys;let gt,Ut=0,Gt=1,wi=null;if(!lt.options.chart.allowMutatingData){Ue.data&&delete Se.options.data,Se.userOptions.data&&delete Se.userOptions.data;var Qt=ce(!0,ae)}if(ae=Qt||ae||[],Qt=ae.length,it&&it.enabled&&(ae=this.sortData(ae)),lt.options.chart.allowMutatingData&&le!==!1&&Qt&&Le&&!Se.cropped&&!Se.hasGroupedData&&Se.visible&&!Se.boosted&&(gt=this.updateData(ae,xe)),!gt){if(Se.xIncrement=null,Se.colorCounter=0,this.parallelArrays.forEach(function(Ti){Se[Ti+"Data"].length=0}),De&&Qt>De)if(wi=Se.getFirstValidPoint(ae),ee(wi))for(xe=0;xe<Qt;xe++)ze[xe]=this.autoIncrement(),Ge[xe]=ae[xe];else if(q(wi))if(Ye)if(wi.length===Ye)for(xe=0;xe<Qt;xe++)ze[xe]=this.autoIncrement(),Ge[xe]=ae[xe];else for(xe=0;xe<Qt;xe++)le=ae[xe],ze[xe]=le[0],Ge[xe]=le.slice(1,Ye+1);else if(at&&(Ut=at.indexOf("x"),Gt=at.indexOf("y"),Ut=0<=Ut?Ut:0,Gt=0<=Gt?Gt:1),wi.length===1&&(Gt=0),Ut===Gt)for(xe=0;xe<Qt;xe++)ze[xe]=this.autoIncrement(),Ge[xe]=ae[xe][Gt];else for(xe=0;xe<Qt;xe++)le=ae[xe],ze[xe]=le[Ut],Ge[xe]=le[Gt];else L(12,!1,lt);else for(xe=0;xe<Qt;xe++)le={series:Se},Se.pointClass.prototype.applyOptions.apply(le,[ae[xe]]),Se.updateParallelArrays(le,xe);for(Ge&&X(Ge[0])&&L(14,!0,lt),Se.data=[],Se.options.data=Se.userOptions.data=ae,xe=Le;xe--;)(me=Oe[xe])===null||me===void 0||me.destroy();pt&&(pt.minRange=pt.userMinRange),Se.isDirty=lt.isDirtyBox=!0,Se.isDirtyData=!!Oe,xe=!1}Ue.legendType==="point"&&(this.processData(),this.generatePoints()),be&&lt.redraw(xe)}sortData(ae){const be=this,xe=be.options.dataSorting.sortKey||"y",le=function(me,Se){return $(Se)&&me.pointClass.prototype.optionsToObject.call({series:me},Se)||{}};return ae.forEach(function(me,Se){ae[Se]=le(be,me),ae[Se].index=Se},this),ae.concat().sort((me,Se)=>(me=P(xe,me),Se=P(xe,Se),Se<me?-1:Se>me?1:0)).forEach(function(me,Se){me.x=Se},this),be.linkedSeries&&be.linkedSeries.forEach(function(me){const Se=me.options,Oe=Se.data;Se.dataSorting&&Se.dataSorting.enabled||!Oe||(Oe.forEach(function(Le,Ue){Oe[Ue]=le(me,Le),ae[Ue]&&(Oe[Ue].x=ae[Ue].x,Oe[Ue].index=Ue)}),me.setData(Oe,!1))}),ae}getProcessedData(ae){var be=this.xAxis,xe=this.options,le=xe.cropThreshold;const me=ae||this.getExtremesFromAll||xe.getExtremesFromAll,Se=this.isCartesian;ae=be&&be.val2lin,xe=!(!be||!be.logarithmic);let Oe=0,Le,Ue,lt,it=this.xData,pt=this.yData,De=this.requireSorting;var ze=!1;const Ge=it.length;if(be&&(ze=be.getExtremes(),Ue=ze.min,lt=ze.max,ze=!(!be.categories||be.names.length)),Se&&this.sorted&&!me&&(!le||Ge>le||this.forceCrop)){if(it[Ge-1]<Ue||it[0]>lt)it=[],pt=[];else if(this.yData&&(it[0]<Ue||it[Ge-1]>lt)){var Ye=this.cropData(this.xData,this.yData,Ue,lt);it=Ye.xData,pt=Ye.yData,Oe=Ye.start,Ye=!0}}for(le=it.length||1;--le;)be=xe?ae(it[le])-ae(it[le-1]):it[le]-it[le-1],0<be&&(typeof Le>"u"||be<Le)?Le=be:0>be&&De&&!ze&&(L(15,!1,this.chart),De=!1);return{xData:it,yData:pt,cropped:Ye,cropStart:Oe,closestPointRange:Le}}processData(ae){const be=this.xAxis;if(this.isCartesian&&!this.isDirty&&!be.isDirty&&!this.yAxis.isDirty&&!ae)return!1;ae=this.getProcessedData(),this.cropped=ae.cropped,this.cropStart=ae.cropStart,this.processedXData=ae.xData,this.processedYData=ae.yData,this.closestPointRange=this.basePointRange=ae.closestPointRange,b(this,"afterProcessData")}cropData(ae,be,xe,le,me){const Se=ae.length;let Oe,Le=0,Ue=Se;for(me=Te(me,this.cropShoulder),Oe=0;Oe<Se;Oe++)if(ae[Oe]>=xe){Le=Math.max(0,Oe-me);break}for(xe=Oe;xe<Se;xe++)if(ae[xe]>le){Ue=xe+me;break}return{xData:ae.slice(Le,Ue),yData:be.slice(Le,Ue),start:Le,end:Ue}}generatePoints(){var ae=this.options;const be=this.processedData||ae.data,xe=this.processedXData,le=this.processedYData,me=this.pointClass,Se=xe.length,Oe=this.cropStart||0,Le=this.hasGroupedData,Ue=ae.keys,lt=[];ae=ae.dataGrouping&&ae.dataGrouping.groupAll?Oe:0;let it,pt,De,ze=this.data;if(!ze&&!Le){var Ge=[];Ge.length=be.length,ze=this.data=Ge}for(Ue&&Le&&(this.options.keys=!1),De=0;De<Se;De++)Ge=Oe+De,Le?(pt=new me().init(this,[xe[De]].concat(re(le[De]))),pt.dataGroup=this.groupMap[ae+De],pt.dataGroup.options&&(pt.options=pt.dataGroup.options,f(pt,pt.dataGroup.options),delete pt.dataLabels)):(pt=ze[Ge])||typeof be[Ge]>"u"||(ze[Ge]=pt=new me().init(this,be[Ge],xe[De])),pt&&(pt.index=Le?ae+De:Ge,lt[De]=pt);if(this.options.keys=Ue,ze&&(Se!==(it=ze.length)||Le))for(De=0;De<it;De++)De!==Oe||Le||(De+=Se),ze[De]&&(ze[De].destroyElements(),ze[De].plotX=void 0);this.data=ze,this.points=lt,b(this,"afterGeneratePoints")}getXExtremes(ae){return{min:ie(ae),max:C(ae)}}getExtremes(ae,be){const xe=this.xAxis;var le=this.yAxis;const me=this.processedXData||this.xData,Se=[],Oe=this.requireSorting?this.cropShoulder:0;le=le?le.positiveValuesOnly:!1;let Le,Ue=0,lt=0,it=0;ae=ae||this.stackedYData||this.processedYData||[];const pt=ae.length;if(xe){var De=xe.getExtremes();Ue=De.min,lt=De.max}for(Le=0;Le<pt;Le++){var ze=me[Le];De=ae[Le];var Ge=(ee(De)||q(De))&&(De.length||0<De||!le);if(ze=be||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!xe||(me[Le+Oe]||ze)>=Ue&&(me[Le-Oe]||ze)<=lt,Ge&&ze)if(Ge=De.length)for(;Ge--;)ee(De[Ge])&&(Se[it++]=De[Ge]);else Se[it++]=De}return ae={activeYData:Se,dataMin:ie(Se),dataMax:C(Se)},b(this,"afterGetExtremes",{dataExtremes:ae}),ae}applyExtremes(){const ae=this.getExtremes();return this.dataMin=ae.dataMin,this.dataMax=ae.dataMax,ae}getFirstValidPoint(ae){const be=ae.length;let xe=0,le=null;for(;le===null&&xe<be;)le=ae[xe],xe++;return le}translate(){var ae;this.processedXData||this.processData(),this.generatePoints();const be=this.options,xe=be.stacking,le=this.xAxis,me=le.categories,Se=this.enabledDataSorting,Oe=this.yAxis,Le=this.points,Ue=Le.length,lt=this.pointPlacementToXValue(),it=!!lt,pt=be.threshold,De=be.startFromThreshold?pt:0,ze=this.zoneAxis||"y";let Ge,Ye,at,gt,Ut=Number.MAX_VALUE;for(Ge=0;Ge<Ue;Ge++){const Gt=Le[Ge],wi=Gt.x;let Qt,Ti,Ki=Gt.y,Ni=Gt.low;const Xi=xe&&((ae=Oe.stacking)===null||ae===void 0?void 0:ae.stacks[(this.negStacks&&Ki<(De?0:pt)?"-":"")+this.stackKey]);Ye=le.translate(wi,!1,!1,!1,!0,lt),Gt.plotX=ee(Ye)?F(Q(Ye,-1e5,1e5)):void 0,xe&&this.visible&&Xi&&Xi[wi]&&(gt=this.getStackIndicator(gt,wi,this.index),!Gt.isNull&&gt.key&&(Qt=Xi[wi],Ti=Qt.points[gt.key]),Qt&&q(Ti)&&(Ni=Ti[0],Ki=Ti[1],Ni===De&&gt.key===Xi[wi].base&&(Ni=Te(ee(pt)?pt:Oe.min)),Oe.positiveValuesOnly&&$(Ni)&&0>=Ni&&(Ni=void 0),Gt.total=Gt.stackTotal=Te(Qt.total),Gt.percentage=$(Gt.y)&&Qt.total?Gt.y/Qt.total*100:void 0,Gt.stackY=Ki,this.irregularWidths||Qt.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Gt.yBottom=$(Ni)?Q(Oe.translate(Ni,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(Ki=this.dataModify.modifyValue(Ki,Ge));let Gi;ee(Ki)&&Gt.plotX!==void 0&&(Gi=Oe.translate(Ki,!1,!0,!1,!0),Gi=ee(Gi)?Q(Gi,-1e5,1e5):void 0),Gt.plotY=Gi,Gt.isInside=this.isPointInside(Gt),Gt.clientX=it?F(le.translate(wi,!1,!1,!1,!0,lt)):Ye,Gt.negative=Gt[ze]<(be[ze+"Threshold"]||pt||0),Gt.category=Te(me&&me[Gt.x],Gt.x),Gt.isNull||Gt.visible===!1||(typeof at<"u"&&(Ut=Math.min(Ut,Math.abs(Ye-at))),at=Ye),Gt.zone=this.zones.length?Gt.getZone():void 0,!Gt.graphic&&this.group&&Se&&(Gt.isNew=!0)}this.closestPointRangePx=Ut,b(this,"afterTranslate")}getValidPoints(ae,be,xe){const le=this.chart;return(ae||this.points||[]).filter(function(me){const{plotX:Se,plotY:Oe}=me;return!xe&&(me.isNull||!ee(Oe))||be&&!le.isInsidePlot(Se,Oe,{inverted:le.inverted})?!1:me.visible!==!1})}getClipBox(){const{chart:ae,xAxis:be,yAxis:xe}=this,le=ce(ae.clipBox);return be&&be.len!==ae.plotSizeX&&(le.width=be.len),xe&&xe.len!==ae.plotSizeY&&(le.height=xe.len),le}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:ae,group:be,markerGroup:xe}=this,le=ae.sharedClips,me=ae.renderer,Se=this.getClipBox(),Oe=this.getSharedClipKey();let Le=le[Oe];Le?Le.animate(Se):le[Oe]=Le=me.clipRect(Se),be&&be.clip(this.options.clip===!1?void 0:Le),xe&&xe.clip()}animate(ae){const{chart:be,group:xe,markerGroup:le}=this,me=be.inverted;var Se=I(this.options.animation),Oe=[this.getSharedClipKey(),Se.duration,Se.easing,Se.defer].join();let Le=be.sharedClips[Oe],Ue=be.sharedClips[Oe+"m"];if(ae&&xe)Se=this.getClipBox(),Le?Le.attr("height",Se.height):(Se.width=0,me&&(Se.x=be.plotHeight),Le=be.renderer.clipRect(Se),be.sharedClips[Oe]=Le,Ue=be.renderer.clipRect({x:-99,y:-99,width:me?be.plotWidth+199:99,height:me?99:be.plotHeight+199}),be.sharedClips[Oe+"m"]=Ue),xe.clip(Le),le&&le.clip(Ue);else if(Le&&!Le.hasClass("highcharts-animating")){Oe=this.getClipBox();const lt=Se.step;le&&le.element.childNodes.length&&(Se.step=function(it,pt){lt&&lt.apply(pt,arguments),pt.prop==="width"&&Ue&&Ue.element&&Ue.attr(me?"height":"width",it+99)}),Le.addClass("highcharts-animating").animate(Oe,Se)}}afterAnimate(){this.setClip(),fe(this.chart.sharedClips,(ae,be,xe)=>{ae&&!this.chart.container.querySelector(`[clip-path="url(#${ae.id})"]`)&&(ae.destroy(),delete xe[be])}),this.finishedAnimating=!0,b(this,"afterAnimate")}drawPoints(ae=this.points){const be=this.chart,xe=be.styledMode,{colorAxis:le,options:me}=this,Se=me.marker,Oe=this[this.specialGroup||"markerGroup"],Le=this.xAxis,Ue=Te(Se.enabled,!Le||Le.isRadial?!0:null,this.closestPointRangePx>=Se.enabledThreshold*Se.radius);let lt,it,pt,De,ze,Ge;if(Se.enabled!==!1||this._hasPointMarkers)for(lt=0;lt<ae.length;lt++){it=ae[lt],De=(pt=it.graphic)?"animate":"attr";var Ye=it.marker||{};if(ze=!!it.marker,(Ue&&typeof Ye.enabled>"u"||Ye.enabled)&&!it.isNull&&it.visible!==!1){const at=Te(Ye.symbol,this.symbol,"rect");Ge=this.markerAttribs(it,it.selected&&"select"),this.enabledDataSorting&&(it.startXPos=Le.reversed?-(Ge.width||0):Le.width);const gt=it.isInside!==!1;!pt&&gt&&(0<(Ge.width||0)||it.hasImage)&&(it.graphic=pt=be.renderer.symbol(at,Ge.x,Ge.y,Ge.width,Ge.height,ze?Ye:Se).add(Oe),this.enabledDataSorting&&be.hasRendered&&(pt.attr({x:it.startXPos}),De="animate")),pt&&De==="animate"&&pt[gt?"show":"hide"](gt).animate(Ge),pt&&(Ye=this.pointAttribs(it,xe||!it.selected?void 0:"select"),xe?le&&pt.css({fill:Ye.fill}):pt[De](Ye)),pt&&pt.addClass(it.getClassName(),!0)}else pt&&(it.graphic=pt.destroy())}}markerAttribs(ae,be){const xe=this.options;var le=xe.marker;const me=ae.marker||{},Se=me.symbol||le.symbol,Oe={};let Le=Te(me.radius,le&&le.radius);return be&&(le=le.states[be],be=me.states&&me.states[be],Le=Te(be&&be.radius,le&&le.radius,Le&&Le+(le&&le.radiusPlus||0))),ae.hasImage=Se&&Se.indexOf("url")===0,ae.hasImage&&(Le=0),ae=ae.pos(),ee(Le)&&ae&&(Oe.x=ae[0]-Le,Oe.y=ae[1]-Le,xe.crisp&&(Oe.x=Math.floor(Oe.x))),Le&&(Oe.width=Oe.height=2*Le),Oe}pointAttribs(ae,be){var xe=this.options.marker,le=ae&&ae.options;const me=le&&le.marker||{};var Se=le&&le.color,Oe=ae&&ae.color;const Le=ae&&ae.zone&&ae.zone.color;let Ue=this.color;return ae=Te(me.lineWidth,xe.lineWidth),le=1,Ue=Se||Le||Oe||Ue,Se=me.fillColor||xe.fillColor||Ue,Oe=me.lineColor||xe.lineColor||Ue,be=be||"normal",xe=xe.states[be]||{},be=me.states&&me.states[be]||{},ae=Te(be.lineWidth,xe.lineWidth,ae+Te(be.lineWidthPlus,xe.lineWidthPlus,0)),Se=be.fillColor||xe.fillColor||Se,Oe=be.lineColor||xe.lineColor||Oe,le=Te(be.opacity,xe.opacity,le),{stroke:Oe,"stroke-width":ae,fill:Se,opacity:le}}destroy(ae){const be=this,xe=be.chart,le=/AppleWebKit\/533/.test(V.navigator.userAgent),me=be.data||[];let Se,Oe,Le,Ue;for(b(be,"destroy",{keepEventsForUpdate:ae}),this.removeEvents(ae),(be.axisTypes||[]).forEach(function(lt){(Ue=be[lt])&&Ue.series&&(w(Ue.series,be),Ue.isDirty=Ue.forceRedraw=!0)}),be.legendItem&&be.chart.legend.destroyItem(be),Oe=me.length;Oe--;)(Le=me[Oe])&&Le.destroy&&Le.destroy();be.clips&&be.clips.forEach(lt=>lt.destroy()),K.clearTimeout(be.animationTimeout),fe(be,function(lt,it){lt instanceof W&&!lt.survive&&(Se=le&&it==="group"?"hide":"destroy",lt[Se]())}),xe.hoverSeries===be&&(xe.hoverSeries=void 0),w(xe.series,be),xe.orderSeries(),fe(be,function(lt,it){ae&&it==="hcEvents"||delete be[it]})}applyZones(){const ae=this,be=this.chart,xe=be.renderer,le=this.zones,me=this.clips||[],Se=this.graph,Oe=this.area,Le=Math.max(be.plotWidth,be.plotHeight),Ue=this[(this.zoneAxis||"y")+"Axis"],lt=be.inverted;let it,pt,De,ze,Ge,Ye,at,gt,Ut,Gt,wi,Qt=!1;le.length&&(Se||Oe)&&Ue&&typeof Ue.min<"u"?(Ge=Ue.reversed,Ye=Ue.horiz,Se&&!this.showLine&&Se.hide(),Oe&&Oe.hide(),ze=Ue.getExtremes(),le.forEach(function(Ti,Ki){it=Ge?Ye?be.plotWidth:0:Ye?0:Ue.toPixels(ze.min)||0,it=Q(Te(pt,it),0,Le),pt=Q(Math.round(Ue.toPixels(Te(Ti.value,ze.max),!0)||0),0,Le),Qt&&(it=pt=Ue.toPixels(ze.max)),at=Math.abs(it-pt),gt=Math.min(it,pt),Ut=Math.max(it,pt),Ue.isXAxis?(De={x:lt?Ut:gt,y:0,width:at,height:Le},Ye||(De.x=be.plotHeight-De.x)):(De={x:0,y:lt?Ut:gt,width:Le,height:at},Ye&&(De.y=be.plotWidth-De.y)),me[Ki]?me[Ki].animate(De):me[Ki]=xe.clipRect(De),Gt=ae["zone-area-"+Ki],wi=ae["zone-graph-"+Ki],Se&&wi&&wi.clip(me[Ki]),Oe&&Gt&&Gt.clip(me[Ki]),Qt=Ti.value>ze.max,ae.resetZones&&pt===0&&(pt=void 0)}),this.clips=me):ae.visible&&(Se&&Se.show(),Oe&&Oe.show())}plotGroup(ae,be,xe,le,me){let Se=this[ae];const Oe=!Se;return xe={visibility:xe,zIndex:le||.1},typeof this.opacity>"u"||this.chart.styledMode||this.state==="inactive"||(xe.opacity=this.opacity),Oe&&(this[ae]=Se=this.chart.renderer.g().add(me)),Se.addClass("highcharts-"+be+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+($(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(Se.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),Se.attr(xe)[Oe?"attr":"animate"](this.getPlotBox(be)),Se}getPlotBox(ae){let be=this.xAxis,xe=this.yAxis;const le=this.chart;return ae=le.inverted&&!le.polar&&be&&this.invertible!==!1&&ae==="series",le.inverted&&(be=xe,xe=this.xAxis),{translateX:be?be.left:le.plotLeft,translateY:xe?xe.top:le.plotTop,rotation:ae?90:0,rotationOriginX:ae?(be.len-xe.len)/2:0,rotationOriginY:ae?(be.len+xe.len)/2:0,scaleX:ae?-1:1,scaleY:1}}removeEvents(ae){ae||Z(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(be){be()}),this.eventsToUnbind.length=0)}render(){const ae=this;var be=ae.chart;const xe=ae.options,le=I(xe.animation),me=ae.visible?"inherit":"hidden",Se=xe.zIndex,Oe=ae.hasRendered;be=be.seriesGroup;let Le=ae.finishedAnimating?0:le.duration;b(this,"render"),ae.plotGroup("group","series",me,Se,be),ae.markerGroup=ae.plotGroup("markerGroup","markers",me,Se,be),xe.clip!==!1&&ae.setClip(),ae.animate&&Le&&ae.animate(!0),ae.drawGraph&&(ae.drawGraph(),ae.applyZones()),ae.visible&&ae.drawPoints(),ae.drawDataLabels&&ae.drawDataLabels(),ae.redrawPoints&&ae.redrawPoints(),ae.drawTracker&&ae.options.enableMouseTracking!==!1&&ae.drawTracker(),ae.animate&&Le&&ae.animate(),Oe||(Le&&le.defer&&(Le+=le.defer),ae.animationTimeout=ue(function(){ae.afterAnimate()},Le||0)),ae.isDirty=!1,ae.hasRendered=!0,b(ae,"afterRender")}redraw(){const ae=this.isDirty||this.isDirtyData;this.translate(),this.render(),ae&&delete this.kdTree}searchPoint(ae,be){const xe=this.xAxis,le=this.yAxis,me=this.chart.inverted;return this.searchKDTree({clientX:me?xe.len-ae.chartY+xe.pos:ae.chartX-xe.pos,plotY:me?le.len-ae.chartX+le.pos:ae.chartY-le.pos},be,ae)}buildKDTree(ae){function be(me,Se,Oe){var Le=me&&me.length;let Ue;if(Le)return Ue=xe.kdAxisArray[Se%Oe],me.sort(function(lt,it){return lt[Ue]-it[Ue]}),Le=Math.floor(Le/2),{point:me[Le],left:be(me.slice(0,Le),Se+1,Oe),right:be(me.slice(Le+1),Se+1,Oe)}}this.buildingKdTree=!0;const xe=this,le=-1<xe.options.findNearestPointBy.indexOf("y")?2:1;delete xe.kdTree,ue(function(){xe.kdTree=be(xe.getValidPoints(null,!xe.directTouch),le,le),xe.buildingKdTree=!1},xe.options.kdNow||ae&&ae.type==="touchstart"?0:1)}searchKDTree(ae,be,xe){function le(Ue,lt,it,pt){const De=lt.point;var ze=me.kdAxisArray[it%pt];let Ge=De;var Ye=$(Ue[Se])&&$(De[Se])?Math.pow(Ue[Se]-De[Se],2):null,at=$(Ue[Oe])&&$(De[Oe])?Math.pow(Ue[Oe]-De[Oe],2):null;return at=(Ye||0)+(at||0),De.dist=$(at)?Math.sqrt(at):Number.MAX_VALUE,De.distX=$(Ye)?Math.sqrt(Ye):Number.MAX_VALUE,ze=Ue[ze]-De[ze],at=0>ze?"left":"right",Ye=0>ze?"right":"left",lt[at]&&(at=le(Ue,lt[at],it+1,pt),Ge=at[Le]<Ge[Le]?at:De),lt[Ye]&&Math.sqrt(ze*ze)<Ge[Le]&&(Ue=le(Ue,lt[Ye],it+1,pt),Ge=Ue[Le]<Ge[Le]?Ue:Ge),Ge}const me=this,Se=this.kdAxisArray[0],Oe=this.kdAxisArray[1],Le=be?"distX":"dist";if(be=-1<me.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(xe),this.kdTree)return le(ae,this.kdTree,be,be)}pointPlacementToXValue(){const{options:{pointPlacement:ae,pointRange:be},xAxis:xe}=this;let le=ae;return le==="between"&&(le=xe.reversed?-.5:.5),ee(le)?le*(be||xe.pointRange):0}isPointInside(ae){const{chart:be,xAxis:xe,yAxis:le}=this;return typeof ae.plotY<"u"&&typeof ae.plotX<"u"&&0<=ae.plotY&&ae.plotY<=(le?le.len:be.plotHeight)&&0<=ae.plotX&&ae.plotX<=(xe?xe.len:be.plotWidth)}drawTracker(){const ae=this,be=ae.options,xe=be.trackByArea,le=[].concat(xe?ae.areaPath:ae.graphPath),me=ae.chart,Se=me.pointer,Oe=me.renderer,Le=me.options.tooltip.snap,Ue=ae.tracker,lt=function(pt){me.hoverSeries!==ae&&ae.onMouseOver()},it="rgba(192,192,192,"+(k?1e-4:.002)+")";Ue?Ue.attr({d:le}):ae.graph&&(ae.tracker=Oe.path(le).attr({visibility:ae.visible?"inherit":"hidden",zIndex:2}).addClass(xe?"highcharts-tracker-area":"highcharts-tracker-line").add(ae.group),me.styledMode||ae.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:it,fill:xe?it:"none","stroke-width":ae.graph.strokeWidth()+(xe?0:2*Le)}),[ae.tracker,ae.markerGroup,ae.dataLabelsGroup].forEach(function(pt){pt&&(pt.addClass("highcharts-tracker").on("mouseover",lt).on("mouseout",function(De){Se.onTrackerMouseOut(De)}),be.cursor&&!me.styledMode&&pt.css({cursor:be.cursor}),E)&&pt.on("touchstart",lt)})),b(this,"afterDrawTracker")}addPoint(ae,be,xe,le,me){const Se=this.options,Oe=this.data,Le=this.chart;var Ue=this.xAxis;Ue=Ue&&Ue.hasNames&&Ue.names;const lt=Se.data,it=this.xData;let pt,De;be=Te(be,!0);const ze={series:this};this.pointClass.prototype.applyOptions.apply(ze,[ae]);const Ge=ze.x;if(De=it.length,this.requireSorting&&Ge<it[De-1])for(pt=!0;De&&it[De-1]>Ge;)De--;this.updateParallelArrays(ze,"splice",[De,0,0]),this.updateParallelArrays(ze,De),Ue&&ze.name&&(Ue[Ge]=ze.name),lt.splice(De,0,ae),(pt||this.processedData)&&(this.data.splice(De,0,null),this.processData()),Se.legendType==="point"&&this.generatePoints(),xe&&(Oe[0]&&Oe[0].remove?Oe[0].remove(!1):(Oe.shift(),this.updateParallelArrays(ze,"shift"),lt.shift())),me!==!1&&b(this,"addPoint",{point:ze}),this.isDirtyData=this.isDirty=!0,be&&Le.redraw(le)}removePoint(ae,be,xe){const le=this,me=le.data,Se=me[ae],Oe=le.points,Le=le.chart,Ue=function(){Oe&&Oe.length===me.length&&Oe.splice(ae,1),me.splice(ae,1),le.options.data.splice(ae,1),le.updateParallelArrays(Se||{series:le},"splice",[ae,1]),Se&&Se.destroy(),le.isDirty=!0,le.isDirtyData=!0,be&&Le.redraw()};O(xe,Le),be=Te(be,!0),Se?Se.firePointEvent("remove",null,Ue):Ue()}remove(ae,be,xe,le){function me(){Se.destroy(le),Oe.isDirtyLegend=Oe.isDirtyBox=!0,Oe.linkSeries(le),Te(ae,!0)&&Oe.redraw(be)}const Se=this,Oe=Se.chart;xe!==!1?b(Se,"remove",null,me):me()}update(ae,be){ae=N(ae,this.userOptions),b(this,"update",{options:ae});const xe=this,le=xe.chart;var me=xe.userOptions;const Se=xe.initialType||xe.type;var Oe=le.options.plotOptions;const Le=G[Se].prototype;var Ue=xe.finishedAnimating&&{animation:!1};const lt={};let it,pt=["eventOptions","navigatorSeries","baseSeries"],De=ae.type||me.type||le.options.chart.type;const ze=!(this.hasDerivedData||De&&De!==this.type||typeof ae.pointStart<"u"||typeof ae.pointInterval<"u"||typeof ae.relativeXValue<"u"||ae.joinBy||ae.mapData||xe.hasOptionChanged("dataGrouping")||xe.hasOptionChanged("pointStart")||xe.hasOptionChanged("pointInterval")||xe.hasOptionChanged("pointIntervalUnit")||xe.hasOptionChanged("keys"));if(De=De||Se,ze&&(pt.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),ae.visible!==!1&&pt.push("area","graph"),xe.parallelArrays.forEach(function(Ge){pt.push(Ge+"Data")}),ae.data&&(ae.dataSorting&&f(xe.options.dataSorting,ae.dataSorting),this.setData(ae.data,!1))),ae=ce(me,Ue,{index:typeof me.index>"u"?xe.index:me.index,pointStart:Te(Oe&&Oe.series&&Oe.series.pointStart,me.pointStart,xe.xData[0])},!ze&&{data:xe.options.data},ae),ze&&ae.data&&(ae.data=xe.options.data),pt=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(pt),pt.forEach(function(Ge){pt[Ge]=xe[Ge],delete xe[Ge]}),Oe=!1,G[De]){if(Oe=De!==xe.type,xe.remove(!1,!1,!1,!0),Oe)if(Object.setPrototypeOf)Object.setPrototypeOf(xe,G[De].prototype);else{Ue=Object.hasOwnProperty.call(xe,"hcEvents")&&xe.hcEvents;for(it in Le)xe[it]=void 0;f(xe,G[De].prototype),Ue?xe.hcEvents=Ue:delete xe.hcEvents}}else L(17,!0,le,{missingModuleFor:De});if(pt.forEach(function(Ge){xe[Ge]=pt[Ge]}),xe.init(le,ae),ze&&this.points){if(ae=xe.options,ae.visible===!1)lt.graphic=1,lt.dataLabel=1;else if(!xe._hasPointLabels){const{marker:Ge,dataLabels:Ye}=ae;me=me.marker||{},!Ge||Ge.enabled!==!1&&me.symbol===Ge.symbol&&me.height===Ge.height&&me.width===Ge.width||(lt.graphic=1),Ye&&Ye.enabled===!1&&(lt.dataLabel=1)}for(const Ge of this.points)Ge&&Ge.series&&(Ge.resolveColor(),Object.keys(lt).length&&Ge.destroyElements(lt),ae.showInLegend===!1&&Ge.legendItem&&le.legend.destroyItem(Ge))}xe.initialType=Se,le.linkSeries(),Oe&&xe.linkedSeries.length&&(xe.isDirtyData=!0),b(this,"afterUpdate"),Te(be,!0)&&le.redraw(ze?void 0:!1)}setName(ae){this.name=this.options.name=this.userOptions.name=ae,this.chart.isDirtyLegend=!0}hasOptionChanged(ae){const be=this.options[ae],xe=this.chart.options.plotOptions,le=this.userOptions[ae];return le?be!==le:be!==Te(xe&&xe[this.type]&&xe[this.type][ae],xe&&xe.series&&xe.series[ae],be)}onMouseOver(){const ae=this.chart,be=ae.hoverSeries;ae.pointer.setHoverChartIndex(),be&&be!==this&&be.onMouseOut(),this.options.events.mouseOver&&b(this,"mouseOver"),this.setState("hover"),ae.hoverSeries=this}onMouseOut(){const ae=this.options,be=this.chart,xe=be.tooltip,le=be.hoverPoint;be.hoverSeries=null,le&&le.onMouseOut(),this&&ae.events.mouseOut&&b(this,"mouseOut"),!xe||this.stickyTracking||xe.shared&&!this.noSharedTooltip||xe.hide(),be.series.forEach(function(me){me.setState("",!0)})}setState(ae,be){const xe=this;var le=xe.options;const me=xe.graph,Se=le.inactiveOtherPoints,Oe=le.states,Le=Te(Oe[ae||"normal"]&&Oe[ae||"normal"].animation,xe.chart.options.chart.animation);let Ue=le.lineWidth,lt=0,it=le.opacity;if(ae=ae||"",xe.state!==ae&&([xe.group,xe.markerGroup,xe.dataLabelsGroup].forEach(function(pt){pt&&(xe.state&&pt.removeClass("highcharts-series-"+xe.state),ae&&pt.addClass("highcharts-series-"+ae))}),xe.state=ae,!xe.chart.styledMode)){if(Oe[ae]&&Oe[ae].enabled===!1)return;if(ae&&(Ue=Oe[ae].lineWidth||Ue+(Oe[ae].lineWidthPlus||0),it=Te(Oe[ae].opacity,it)),me&&!me.dashstyle&&ee(Ue))for(le={"stroke-width":Ue},me.animate(le,Le);xe["zone-graph-"+lt];)xe["zone-graph-"+lt].animate(le,Le),lt+=1;Se||[xe.group,xe.markerGroup,xe.dataLabelsGroup,xe.labelBySeries].forEach(function(pt){pt&&pt.animate({opacity:it},Le)})}be&&Se&&xe.points&&xe.setAllPointsToState(ae||void 0)}setAllPointsToState(ae){this.points.forEach(function(be){be.setState&&be.setState(ae)})}setVisible(ae,be){const xe=this,le=xe.chart,me=le.options.chart.ignoreHiddenSeries,Se=xe.visible,Oe=(xe.visible=ae=xe.options.visible=xe.userOptions.visible=typeof ae>"u"?!Se:ae)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(Le){xe[Le]&&xe[Le][Oe]()}),(le.hoverSeries===xe||(le.hoverPoint&&le.hoverPoint.series)===xe)&&xe.onMouseOut(),xe.legendItem&&le.legend.colorizeItem(xe,ae),xe.isDirty=!0,xe.options.stacking&&le.series.forEach(function(Le){Le.options.stacking&&Le.visible&&(Le.isDirty=!0)}),xe.linkedSeries.forEach(function(Le){Le.setVisible(ae,!1)}),me&&(le.isDirtyBox=!0),b(xe,Oe),be!==!1&&le.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(ae){this.selected=ae=this.options.selected=typeof ae>"u"?!this.selected:ae,this.checkbox&&(this.checkbox.checked=ae),b(this,ae?"select":"unselect")}shouldShowTooltip(ae,be,xe={}){return xe.series=this,xe.visiblePlotOnly=!0,this.chart.isInsidePlot(ae,be,xe)}drawLegendSymbol(ae,be){var xe;(xe=S[this.options.legendSymbol||"rectangle"])===null||xe===void 0||xe.call(this,ae,be)}}return ye.defaultOptions=J,ye.types=B.seriesTypes,ye.registerType=B.registerSeriesType,f(ye.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:j,requireSorting:!0,sorted:!0}),B.series=ye,ye}),s(l,"Extensions/ScrollablePlotArea.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/Axis.js"],l["Core/Chart/Chart.js"],l["Core/Series/Series.js"],l["Core/Renderer/RendererRegistry.js"],l["Core/Utilities.js"]],function(c,d,m,n,S,j){const{stop:J}=c,{addEvent:B,createElement:W,defined:K,merge:I,pick:O}=j;B(m,"afterSetChartSize",function(H){var M=this.options.chart.scrollablePlotArea,E=M&&M.minWidth;M=M&&M.minHeight;let k;this.renderer.forExport||(E?(this.scrollablePixelsX=E=Math.max(0,E-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=I(this.plotBox),this.plotBox.width=this.plotWidth+=E,this.inverted?this.clipBox.height+=E:this.clipBox.width+=E,k={1:{name:"right",value:E}}):M&&(this.scrollablePixelsY=E=Math.max(0,M-this.chartHeight),K(E)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=I(this.plotBox),this.plotBox.height=this.plotHeight+=E,this.inverted?this.clipBox.width+=E:this.clipBox.height+=E,k={2:{name:"bottom",value:E}})),k&&!H.skipAxes&&this.axes.forEach(function(V){k[V.side]?V.getPlotLinePath=function(){let G=k[V.side].name,C=this[G],ie;return this[G]=C-k[V.side].value,ie=d.prototype.getPlotLinePath.apply(this,arguments),this[G]=C,ie}:(V.setAxisSize(),V.setAxisTranslation())}))}),B(m,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),m.prototype.setUpScrolling=function(){const H={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(H.overflowX="auto"),this.scrollablePixelsY&&(H.overflowY="auto"),this.scrollingParent=W("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=W("div",{className:"highcharts-scrolling"},H,this.scrollingParent);let M;B(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(M=this.hoverPoint),this.pointer.runPointActions(void 0,M,!0))}),this.innerContainer=W("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},m.prototype.moveFixedElements=function(){let H=this.container,M=this.fixedRenderer,E=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),k;this.scrollablePixelsX&&!this.inverted?k=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?k=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(k=".highcharts-yaxis"),k&&E.push(`${k}:not(.highcharts-radial-axis)`,`${k}-labels:not(.highcharts-radial-axis-labels)`),E.forEach(function(V){[].forEach.call(H.querySelectorAll(V),function(G){(G.namespaceURI===M.SVG_NS?M.box:M.box.parentNode).appendChild(G),G.style.pointerEvents="auto"})})},m.prototype.applyFixed=function(){var H=!this.fixedDiv,M=this.options.chart,E=M.scrollablePlotArea,k=S.getRendererType();H?(this.fixedDiv=W("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(M.style&&M.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=M=new k(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=M.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":O(E.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),B(this,"afterShowResetZoom",this.moveFixedElements),B(this,"afterApplyDrilldown",this.moveFixedElements),B(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||H)&&(this.scrollableDirty=!1,this.moveFixedElements()),M=this.chartWidth+(this.scrollablePixelsX||0),k=this.chartHeight+(this.scrollablePixelsY||0),J(this.container),this.container.style.width=M+"px",this.container.style.height=k+"px",this.renderer.boxWrapper.attr({width:M,height:k,viewBox:[0,0,M,k].join(" ")}),this.chartBackground.attr({width:M,height:k}),this.scrollingContainer.style.height=this.chartHeight+"px",H&&(E.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*E.scrollPositionX),E.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*E.scrollPositionY)),k=this.axisOffset,H=this.plotTop-k[0]-1,E=this.plotLeft-k[3]-1,M=this.plotTop+this.plotHeight+k[2]+1,k=this.plotLeft+this.plotWidth+k[1]+1;let V=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),G=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);H=this.scrollablePixelsX?[["M",0,H],["L",this.plotLeft-1,H],["L",this.plotLeft-1,M],["L",0,M],["Z"],["M",V,H],["L",this.chartWidth,H],["L",this.chartWidth,M],["L",V,M],["Z"]]:this.scrollablePixelsY?[["M",E,0],["L",E,this.plotTop-1],["L",k,this.plotTop-1],["L",k,0],["Z"],["M",E,G],["L",E,this.chartHeight],["L",k,this.chartHeight],["L",k,G],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:H})},B(d,"afterInit",function(){this.chart.scrollableDirty=!0}),B(n,"show",function(){this.chart.scrollableDirty=!0})}),s(l,"Core/Axis/Stacking/StackItem.js",[l["Core/FormatUtilities.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m){const{format:n}=c,{series:S}=d,{destroyObjectProperties:j,fireEvent:J,isNumber:B,pick:W}=m;class K{constructor(O,H,M,E,k){const V=O.chart.inverted,G=O.reversed;this.axis=O,O=this.isNegative=!!M!=!!G,this.options=H=H||{},this.x=E,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=k,this.rightCliff=this.leftCliff=0,this.alignOptions={align:H.align||(V?O?"left":"right":"center"),verticalAlign:H.verticalAlign||(V?"middle":O?"bottom":"top"),y:H.y,x:H.x},this.textAlign=H.textAlign||(V?O?"right":"left":"center")}destroy(){j(this,this.axis)}render(O){const H=this.axis.chart,M=this.options;var E=M.format;E=E?n(E,this,H):M.formatter.call(this),this.label?this.label.attr({text:E,visibility:"hidden"}):(this.label=H.renderer.label(E,null,void 0,M.shape,void 0,void 0,M.useHTML,!1,"stack-labels"),E={r:M.borderRadius||0,text:E,padding:W(M.padding,5),visibility:"hidden"},H.styledMode||(E.fill=M.backgroundColor,E.stroke=M.borderColor,E["stroke-width"]=M.borderWidth,this.label.css(M.style||{})),this.label.attr(E),this.label.added||this.label.add(O)),this.label.labelrank=H.plotSizeY,J(this,"afterRender")}setOffset(O,H,M,E,k,V){const{alignOptions:G,axis:C,label:ie,options:Q,textAlign:N}=this,F=C.chart;M=this.getStackBox({xOffset:O,width:H,boxBottom:M,boxTop:E,defaultX:k,xAxis:V});var{verticalAlign:$}=G;if(ie&&M){E=ie.getBBox(),k=ie.padding,V=W(Q.overflow,"justify")==="justify",G.x=Q.x||0,G.y=Q.y||0;const{x:w,y:L}=this.adjustStackPosition({labelBox:E,verticalAlign:$,textAlign:N});M.x-=w,M.y-=L,ie.align(G,!1,M),($=F.isInsidePlot(ie.alignAttr.x+G.x+w,ie.alignAttr.y+G.y+L))||(V=!1),V&&S.prototype.justifyDataLabel.call(C,ie,G,ie.alignAttr,E,M),ie.attr({x:ie.alignAttr.x,y:ie.alignAttr.y,rotation:Q.rotation,rotationOriginX:E.width/2,rotationOriginY:E.height/2}),W(!V&&Q.crop,!0)&&($=B(ie.x)&&B(ie.y)&&F.isInsidePlot(ie.x-k+ie.width,ie.y)&&F.isInsidePlot(ie.x+k,ie.y)),ie[$?"show":"hide"]()}J(this,"afterSetOffset",{xOffset:O,width:H})}adjustStackPosition({labelBox:O,verticalAlign:H,textAlign:M}){const E={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:O.width/2+O.width/2*E[M],y:O.height/2*E[H]}}getStackBox(O){var H=this.axis;const M=H.chart,{boxTop:E,defaultX:k,xOffset:V,width:G,boxBottom:C}=O;var ie=H.stacking.usePercentage?100:W(E,this.total,0);ie=H.toPixels(ie),O=O.xAxis||M.xAxis[0];const Q=W(k,O.translate(this.x))+V;H=H.toPixels(C||B(H.min)&&H.logarithmic&&H.logarithmic.lin2log(H.min)||0),H=Math.abs(ie-H);const N=this.isNegative;return M.inverted?{x:(N?ie:ie-H)-M.plotLeft,y:O.height-Q-G,width:H,height:G}:{x:Q+O.transB-M.plotLeft,y:(N?ie-H:ie)-M.plotTop,width:G,height:H}}}return K}),s(l,"Core/Axis/Stacking/StackingAxis.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Axis/Axis.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Axis/Stacking/StackItem.js"],l["Core/Utilities.js"]],function(c,d,m,n,S){function j(){const f=this,y=f.inverted;f.yAxis.forEach(b=>{b.stacking&&b.stacking.stacks&&b.hasVisibleSeries&&(b.stacking.oldStacks=b.stacking.stacks)}),f.series.forEach(b=>{const P=b.xAxis&&b.xAxis.options||{};!b.options.stacking||b.visible!==!0&&f.options.chart.ignoreHiddenSeries!==!1||(b.stackKey=[b.type,$(b.options.stack,""),y?P.top:P.left,y?P.height:P.width].join())})}function J(){const f=this.stacking;if(f){var y=f.stacks;F(y,function(b,P){C(b),y[P]=null}),f&&f.stackTotalGroup&&f.stackTotalGroup.destroy()}}function B(){this.coll!=="yAxis"||this.stacking||(this.stacking=new w(this))}function W(f,y,b,P){return!G(f)||f.x!==y||P&&f.stackKey!==P?f={x:y,index:0,key:P,stackKey:P}:f.index++,f.key=[b,y,f.index].join(),f}function K(){const f=this,y=f.stackKey,b=f.yAxis.stacking.stacks,P=f.processedXData,q=f[f.options.stacking+"Stacker"];let ee;q&&[y,"-"+y].forEach(X=>{let ce=P.length,fe;for(;ce--;){var Te=P[ce];ee=f.getStackIndicator(ee,Te,f.index,X),(fe=(Te=b[X]&&b[X][Te])&&Te.points[ee.key])&&q.call(f,fe,Te,ce)}})}function I(f,y,b){y=y.total?100/y.total:0,f[0]=V(f[0]*y),f[1]=V(f[1]*y),this.stackedYData[b]=f[1]}function O(){const f=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?E.setStackedPoints.call(this,"group"):f&&F(f.stacks,(y,b)=>{b.slice(-5)==="group"&&(F(y,P=>P.destroy()),delete f.stacks[b])})}function H(f){var y=this.chart;const b=f||this.options.stacking;if(b&&(this.visible===!0||y.options.chart.ignoreHiddenSeries===!1)){var P=this.processedXData,q=this.processedYData,ee=[],X=q.length,ce=this.options,fe=ce.threshold,Te=$(ce.startFromThreshold&&fe,0);ce=ce.stack,f=f?`${this.type},${b}`:this.stackKey;var Z="-"+f,re=this.negStacks;y=b==="group"?y.yAxis[0]:this.yAxis;var ue=y.stacking.stacks,ye=y.stacking.oldStacks,Ie,ae;for(y.stacking.stacksTouched+=1,ae=0;ae<X;ae++){var be=P[ae],xe=q[ae],le=this.getStackIndicator(le,be,this.index),me=le.key,Se=(Ie=re&&xe<(Te?0:fe))?Z:f;ue[Se]||(ue[Se]={}),ue[Se][be]||(ye[Se]&&ye[Se][be]?(ue[Se][be]=ye[Se][be],ue[Se][be].total=null):ue[Se][be]=new n(y,y.options.stackLabels,!!Ie,be,ce)),Se=ue[Se][be],xe!==null?(Se.points[me]=Se.points[this.index]=[$(Se.cumulative,Te)],G(Se.cumulative)||(Se.base=me),Se.touched=y.stacking.stacksTouched,0<le.index&&this.singleStacks===!1&&(Se.points[me][0]=Se.points[this.index+","+be+",0"][0])):Se.points[me]=Se.points[this.index]=null,b==="percent"?(Ie=Ie?f:Z,re&&ue[Ie]&&ue[Ie][be]?(Ie=ue[Ie][be],Se.total=Ie.total=Math.max(Ie.total,Se.total)+Math.abs(xe)||0):Se.total=V(Se.total+(Math.abs(xe)||0))):b==="group"?(Q(xe)&&(xe=xe[0]),xe!==null&&(Se.total=(Se.total||0)+1)):Se.total=V(Se.total+(xe||0)),Se.cumulative=b==="group"?(Se.total||1)-1:V($(Se.cumulative,Te)+(xe||0)),xe!==null&&(Se.points[me].push(Se.cumulative),ee[ae]=Se.cumulative,Se.hasValidPoints=!0)}b==="percent"&&(y.stacking.usePercentage=!0),b!=="group"&&(this.stackedYData=ee),y.stacking.oldStacks={}}}const{getDeferredAnimation:M}=c,{series:{prototype:E}}=m,{addEvent:k,correctFloat:V,defined:G,destroyObjectProperties:C,fireEvent:ie,isArray:Q,isNumber:N,objectEach:F,pick:$}=S;class w{constructor(y){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=y}buildStacks(){const y=this.axis,b=y.series,P=y.options.reversedStacks,q=b.length;let ee,X;for(this.usePercentage=!1,X=q;X--;)ee=b[P?X:q-X-1],ee.setStackedPoints(),ee.setGroupedPoints();for(X=0;X<q;X++)b[X].modifyStacks();ie(y,"afterBuildStacks")}cleanStacks(){let y;this.oldStacks&&(y=this.stacks=this.oldStacks),F(y,function(b){F(b,function(P){P.cumulative=P.total})})}resetStacks(){F(this.stacks,y=>{F(y,(b,P)=>{N(b.touched)&&b.touched<this.stacksTouched?(b.destroy(),delete y[P]):(b.total=null,b.cumulative=null)})})}renderStackTotals(){var y=this.axis;const b=y.chart,P=b.renderer,q=this.stacks;y=M(b,y.options.stackLabels&&y.options.stackLabels.animation||!1);const ee=this.stackTotalGroup=this.stackTotalGroup||P.g("stack-labels").attr({zIndex:6,opacity:0}).add();ee.translate(b.plotLeft,b.plotTop),F(q,function(X){F(X,function(ce){ce.render(ee)})}),ee.animate({opacity:1},y)}}var L;return function(f){const y=[];f.compose=function(b,P,q){S.pushUnique(y,b)&&(k(b,"init",B),k(b,"destroy",J)),S.pushUnique(y,P)&&(P.prototype.getStacks=j),S.pushUnique(y,q)&&(b=q.prototype,b.getStackIndicator=W,b.modifyStacks=K,b.percentStacker=I,b.setGroupedPoints=O,b.setStackedPoints=H)}}(L||(L={})),L}),s(l,"Series/Line/LineSeries.js",[l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m){const{defined:n,merge:S}=m;class j extends c{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const B=this,W=this.options,K=(this.gappedPath||this.getGraphPath).call(this),I=this.chart.styledMode;let O=[["graph","highcharts-graph"]];I||O[0].push(W.lineColor||this.color||"#cccccc",W.dashStyle),O=B.getZonesGraphs(O),O.forEach(function(H,M){var E=H[0];let k=B[E];const V=k?"animate":"attr";k?(k.endX=B.preventGraphAnimation?null:K.xMap,k.animate({d:K})):K.length&&(B[E]=k=B.chart.renderer.path(K).addClass(H[1]).attr({zIndex:1}).add(B.group)),k&&!I&&(E={stroke:H[2],"stroke-width":W.lineWidth||0,fill:B.fillGraph&&B.color||"none"},H[3]?E.dashstyle=H[3]:W.linecap!=="square"&&(E["stroke-linecap"]=E["stroke-linejoin"]="round"),k[V](E).shadow(2>M&&W.shadow)),k&&(k.startX=K.xMap,k.isArea=K.isArea)})}getGraphPath(B,W,K){const I=this,O=I.options,H=[],M=[];let E,k=O.step;B=B||I.points;const V=B.reversed;return V&&B.reverse(),(k={right:1,center:2}[k]||k&&3)&&V&&(k=4-k),B=this.getValidPoints(B,!1,!(O.connectNulls&&!W&&!K)),B.forEach(function(G,C){const ie=G.plotX,Q=G.plotY,N=B[C-1],F=G.isNull||typeof Q!="number";(G.leftCliff||N&&N.rightCliff)&&!K&&(E=!0),F&&!n(W)&&0<C?E=!O.connectNulls:F&&!W?E=!0:(C===0||E?C=[["M",G.plotX,G.plotY]]:I.getPointSpline?C=[I.getPointSpline(B,G,C)]:k?(C=k===1?[["L",N.plotX,Q]]:k===2?[["L",(N.plotX+ie)/2,N.plotY],["L",(N.plotX+ie)/2,Q]]:[["L",ie,N.plotY]],C.push(["L",ie,Q])):C=[["L",ie,Q]],M.push(G.x),k&&(M.push(G.x),k===2&&M.push(G.x)),H.push.apply(H,C),E=!1)}),H.xMap=M,I.graphPath=H}getZonesGraphs(B){return this.zones.forEach(function(W,K){K=["zone-graph-"+K,"highcharts-graph highcharts-zone-graph-"+K+" "+(W.className||"")],this.chart.styledMode||K.push(W.color||this.color,W.dashStyle||this.options.dashStyle),B.push(K)},this),B}}return j.defaultOptions=S(c.defaultOptions,{legendSymbol:"lineMarker"}),d.registerSeriesType("line",j),j}),s(l,"Series/Area/AreaSeries.js",[l["Core/Color/Color.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m){const{parse:n}=c,{seriesTypes:{line:S}}=d,{extend:j,merge:J,objectEach:B,pick:W}=m;class K extends S{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const O=this,H=this.areaPath,M=this.options,E=[["area","highcharts-area",this.color,M.fillColor]];this.zones.forEach(function(k,V){E.push(["zone-area-"+V,"highcharts-area highcharts-zone-area-"+V+" "+k.className,k.color||O.color,k.fillColor||M.fillColor])}),E.forEach(function(k){const V=k[0],G={};let C=O[V];const ie=C?"animate":"attr";C?(C.endX=O.preventGraphAnimation?null:H.xMap,C.animate({d:H})):(G.zIndex=0,C=O[V]=O.chart.renderer.path(H).addClass(k[1]).add(O.group),C.isArea=!0),O.chart.styledMode||(G.fill=W(k[3],n(k[2]).setOpacity(W(M.fillOpacity,.75)).get())),C[ie](G),C.startX=H.xMap,C.shiftUnit=M.step?2:1})}getGraphPath(O){var H=S.prototype.getGraphPath,M=this.options;const E=M.stacking,k=this.yAxis,V=[],G=[],C=this.index,ie=k.stacking.stacks[this.stackKey],Q=M.threshold,N=Math.round(k.getThreshold(M.threshold));M=W(M.connectNulls,E==="percent");var F=function(f,y,b){var P=O[f];f=E&&ie[P.x].points[C];const q=P[b+"Null"]||0;b=P[b+"Cliff"]||0;let ee,X;P=!0,b||q?(ee=(q?f[0]:f[1])+b,X=f[0]+b,P=!!q):!E&&O[y]&&O[y].isNull&&(ee=X=Q),typeof ee<"u"&&(G.push({plotX:$,plotY:ee===null?N:k.getThreshold(ee),isNull:P,isCliff:!0}),V.push({plotX:$,plotY:X===null?N:k.getThreshold(X),doCurve:!1}))};let $;O=O||this.points,E&&(O=this.getStackPoints(O));for(let f=0,y=O.length;f<y;++f){E||(O[f].leftCliff=O[f].rightCliff=O[f].leftNull=O[f].rightNull=void 0);var w=O[f].isNull;$=W(O[f].rectPlotX,O[f].plotX);var L=E?W(O[f].yBottom,N):N;(!w||M)&&(M||F(f,f-1,"left"),w&&!E&&M||(G.push(O[f]),V.push({x:f,plotX:$,plotY:L})),M||F(f,f+1,"right"))}return F=H.call(this,G,!0,!0),V.reversed=!0,w=H.call(this,V,!0,!0),(L=w[0])&&L[0]==="M"&&(w[0]=["L",L[1],L[2]]),w=F.concat(w),w.length&&w.push(["Z"]),H=H.call(this,G,!1,M),w.xMap=F.xMap,this.areaPath=w,H}getStackPoints(O){const H=this,M=[],E=[],k=this.xAxis,V=this.yAxis,G=V.stacking.stacks[this.stackKey],C={},ie=V.series,Q=ie.length,N=V.options.reversedStacks?1:-1,F=ie.indexOf(H);if(O=O||this.points,this.options.stacking){for(let w=0;w<O.length;w++)O[w].leftNull=O[w].rightNull=void 0,C[O[w].x]=O[w];B(G,function(w,L){w.total!==null&&E.push(L)}),E.sort(function(w,L){return w-L});const $=ie.map(w=>w.visible);E.forEach(function(w,L){let f=0,y,b;if(C[w]&&!C[w].isNull)M.push(C[w]),[-1,1].forEach(function(P){const q=P===1?"rightNull":"leftNull",ee=G[E[L+P]];let X=0;if(ee){let ce=F;for(;0<=ce&&ce<Q;){const fe=ie[ce].index;y=ee.points[fe],y||(fe===H.index?C[w][q]=!0:$[ce]&&(b=G[w].points[fe])&&(X-=b[1]-b[0])),ce+=N}}C[w][P===1?"rightCliff":"leftCliff"]=X});else{let P=F;for(;0<=P&&P<Q;){if(y=G[w].points[ie[P].index]){f=y[1];break}P+=N}f=W(f,0),f=V.translate(f,0,1,0,1),M.push({isNull:!0,plotX:k.translate(w,0,0,0,1),x:w,plotY:f,yBottom:f})}})}return M}}return K.defaultOptions=J(S.defaultOptions,{threshold:0,legendSymbol:"rectangle"}),j(K.prototype,{singleStacks:!1}),d.registerSeriesType("area",K),K}),s(l,"Series/Spline/SplineSeries.js",[l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d){const{line:m}=c.seriesTypes,{merge:n,pick:S}=d;class j extends m{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(B,W,K){const I=W.plotX||0,O=W.plotY||0,H=B[K-1];K=B[K+1];let M,E,k;if(H&&!H.isNull&&H.doCurve!==!1&&!W.isCliff&&K&&!K.isNull&&K.doCurve!==!1&&!W.isCliff){B=H.plotY||0;var V=K.plotX||0;K=K.plotY||0;let G=0;M=(1.5*I+(H.plotX||0))/2.5,E=(1.5*O+B)/2.5,V=(1.5*I+V)/2.5,k=(1.5*O+K)/2.5,V!==M&&(G=(k-E)*(V-I)/(V-M)+O-k),E+=G,k+=G,E>B&&E>O?(E=Math.max(B,O),k=2*O-E):E<B&&E<O&&(E=Math.min(B,O),k=2*O-E),k>K&&k>O?(k=Math.max(K,O),E=2*O-k):k<K&&k<O&&(k=Math.min(K,O),E=2*O-k),W.rightContX=V,W.rightContY=k}return W=["C",S(H.rightContX,H.plotX,0),S(H.rightContY,H.plotY,0),S(M,I,0),S(E,O,0),I,O],H.rightContX=H.rightContY=void 0,W}}return j.defaultOptions=n(m.defaultOptions),c.registerSeriesType("spline",j),j}),s(l,"Series/AreaSpline/AreaSplineSeries.js",[l["Series/Spline/SplineSeries.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m){const{area:n,area:{prototype:S}}=d.seriesTypes,{extend:j,merge:J}=m;class B extends c{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return B.defaultOptions=J(c.defaultOptions,n.defaultOptions),j(B.prototype,{getGraphPath:S.getGraphPath,getStackPoints:S.getStackPoints,drawGraph:S.drawGraph}),d.registerSeriesType("areaspline",B),B}),s(l,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),s(l,"Series/Column/ColumnSeries.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Color/Color.js"],l["Series/Column/ColumnSeriesDefaults.js"],l["Core/Globals.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m,n,S,j,J){const{animObject:B}=c,{parse:W}=d,{hasTouch:K,noop:I}=n,{clamp:O,defined:H,extend:M,fireEvent:E,isArray:k,isNumber:V,merge:G,pick:C,objectEach:ie}=J;class Q extends S{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(F){const $=this,w=this.yAxis,L=w.pos,f=$.options,y=this.chart.inverted,b={},P=y?"translateX":"translateY";let q;F?(b.scaleY=.001,F=O(w.toPixels(f.threshold),L,L+w.len),y?b.translateX=F-w.len:b.translateY=F,$.clipBox&&$.setClip(),$.group.attr(b)):(q=Number($.group.attr(P)),$.group.animate({scaleY:1},M(B($.options.animation),{step:function(ee,X){$.group&&(b[P]=q+X.pos*(L-q),$.group.attr(b))}})))}init(F,$){super.init.apply(this,arguments);const w=this;F=w.chart,F.hasRendered&&F.series.forEach(function(L){L.type===w.type&&(L.isDirty=!0)})}getColumnMetrics(){const F=this;var $=F.options;const w=F.xAxis,L=F.yAxis;var f=w.options.reversedStacks;f=w.reversed&&!f||!w.reversed&&f;const y={};let b,P=0;$.grouping===!1?P=1:F.chart.series.forEach(function(ce){const fe=ce.yAxis,Te=ce.options;let Z;ce.type!==F.type||!ce.visible&&F.chart.options.chart.ignoreHiddenSeries||L.len!==fe.len||L.pos!==fe.pos||(Te.stacking&&Te.stacking!=="group"?(b=ce.stackKey,typeof y[b]>"u"&&(y[b]=P++),Z=y[b]):Te.grouping!==!1&&(Z=P++),ce.columnIndex=Z)});const q=Math.min(Math.abs(w.transA)*(w.ordinal&&w.ordinal.slope||$.pointRange||w.closestPointRange||w.tickInterval||1),w.len),ee=q*$.groupPadding,X=(q-2*ee)/(P||1);return $=Math.min($.maxPointWidth||w.len,C($.pointWidth,X*(1-2*$.pointPadding))),F.columnMetrics={width:$,offset:(X-$)/2+(ee+((F.columnIndex||0)+(f?1:0))*X-q/2)*(f?-1:1),paddedWidth:X,columnCount:P},F.columnMetrics}crispCol(F,$,w,L){var f=this.borderWidth,y=-(f%2?.5:0);return f=f%2?.5:1,this.options.crisp&&(w=Math.round(F+w)+y,F=Math.round(F)+y,w-=F),L=Math.round($+L)+f,y=.5>=Math.abs($)&&.5<L,$=Math.round($)+f,L-=$,y&&L&&(--$,L+=1),{x:F,y:$,width:w,height:L}}adjustForMissingColumns(F,$,w,L){const f=this.options.stacking;if(!w.isNull&&1<L.columnCount){const y=this.yAxis.options.reversedStacks;let b=0,P=y?0:-L.columnCount;ie(this.yAxis.stacking&&this.yAxis.stacking.stacks,q=>{if(typeof w.x=="number"){const ee=q[w.x.toString()];ee&&(q=ee.points[this.index],f?(q&&(b=P),ee.hasValidPoints&&(y?P++:P--)):k(q)&&(q=Object.keys(ee.points).filter(X=>!X.match(",")&&ee.points[X]&&1<ee.points[X].length).map(parseFloat).sort((X,ce)=>ce-X),b=q.indexOf(this.index),P=q.length))}}),F=(w.plotX||0)+((P-1)*L.paddedWidth+$)/2-$-b*L.paddedWidth}return F}translate(){const F=this,$=F.chart,w=F.options;var L=F.dense=2>F.closestPointRange*F.xAxis.transA;L=F.borderWidth=C(w.borderWidth,L?0:1);const f=F.xAxis,y=F.yAxis,b=w.threshold,P=C(w.minPointLength,5),q=F.getColumnMetrics(),ee=q.width,X=F.pointXOffset=q.offset,ce=F.dataMin,fe=F.dataMax;let Te=F.barW=Math.max(ee,1+2*L),Z=F.translatedThreshold=y.getThreshold(b);$.inverted&&(Z-=.5),w.pointPadding&&(Te=Math.ceil(Te)),S.prototype.translate.apply(F),F.points.forEach(function(re){const ue=C(re.yBottom,Z);var ye=999+Math.abs(ue),Ie=re.plotX||0;ye=O(re.plotY,-ye,y.len+ye);let ae=Math.min(ye,ue),be=Math.max(ye,ue)-ae,xe=ee,le=Ie+X,me=Te;P&&Math.abs(be)<P&&(be=P,Ie=!y.reversed&&!re.negative||y.reversed&&re.negative,V(b)&&V(fe)&&re.y===b&&fe<=b&&(y.min||0)<b&&(ce!==fe||(y.max||0)<=b)&&(Ie=!Ie),ae=Math.abs(ae-Z)>P?ue-P:Z-(Ie?P:0)),H(re.options.pointWidth)&&(xe=me=Math.ceil(re.options.pointWidth),le-=Math.round((xe-ee)/2)),w.centerInCategory&&(le=F.adjustForMissingColumns(le,xe,re,q)),re.barX=le,re.pointWidth=xe,re.tooltipPos=$.inverted?[O(y.len+y.pos-$.plotLeft-ye,y.pos-$.plotLeft,y.len+y.pos-$.plotLeft),f.len+f.pos-$.plotTop-le-me/2,be]:[f.left-$.plotLeft+le+me/2,O(ye+y.pos-$.plotTop,y.pos-$.plotTop,y.len+y.pos-$.plotTop),be],re.shapeType=F.pointClass.prototype.shapeType||"roundedRect",re.shapeArgs=F.crispCol(le,re.isNull?Z:ae,me,re.isNull?0:be)}),E(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(F,$){const w=this.options;var L=this.pointAttrToOptions||{},f=L.stroke||"borderColor";const y=L["stroke-width"]||"borderWidth";let b,P=F&&F.color||this.color,q=F&&F[f]||w[f]||P;L=F&&F.options.dashStyle||w.dashStyle;let ee=F&&F[y]||w[y]||this[y]||0,X=C(F&&F.opacity,w.opacity,1);return F&&this.zones.length&&(b=F.getZone(),P=F.options.color||b&&(b.color||F.nonZonedColor)||this.color,b&&(q=b.borderColor||q,L=b.dashStyle||L,ee=b.borderWidth||ee)),$&&F&&(F=G(w.states[$],F.options.states&&F.options.states[$]||{}),$=F.brightness,P=F.color||typeof $<"u"&&W(P).brighten(F.brightness).get()||P,q=F[f]||q,ee=F[y]||ee,L=F.dashStyle||L,X=C(F.opacity,X)),f={fill:P,stroke:q,"stroke-width":ee,opacity:X},L&&(f.dashstyle=L),f}drawPoints(F=this.points){const $=this,w=this.chart,L=$.options,f=w.renderer,y=L.animationLimit||250;let b;F.forEach(function(P){let q=P.graphic,ee=!!q,X=q&&w.pointCount<y?"animate":"attr";V(P.plotY)&&P.y!==null?(b=P.shapeArgs,q&&P.hasNewShapeType()&&(q=q.destroy()),$.enabledDataSorting&&(P.startXPos=$.xAxis.reversed?-(b&&b.width||0):$.xAxis.width),q||(P.graphic=q=f[P.shapeType](b).add(P.group||$.group))&&$.enabledDataSorting&&w.hasRendered&&w.pointCount<y&&(q.attr({x:P.startXPos}),ee=!0,X="animate"),q&&ee&&q[X](G(b)),w.styledMode||q[X]($.pointAttribs(P,P.selected&&"select")).shadow(P.allowShadow!==!1&&L.shadow),q&&(q.addClass(P.getClassName(),!0),q.attr({visibility:P.visible?"inherit":"hidden"}))):q&&(P.graphic=q.destroy())})}drawTracker(F=this.points){const $=this,w=$.chart,L=w.pointer,f=function(b){const P=L.getPointFromEvent(b);typeof P<"u"&&(L.isDirectTouch=!0,P.onMouseOver(b))};let y;F.forEach(function(b){y=k(b.dataLabels)?b.dataLabels:b.dataLabel?[b.dataLabel]:[],b.graphic&&(b.graphic.element.point=b),y.forEach(function(P){P.div?P.div.point=b:P.element.point=b})}),$._hasTracking||($.trackerGroups.forEach(function(b){$[b]&&($[b].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(P){L.onTrackerMouseOut(P)}),K&&$[b].on("touchstart",f),!w.styledMode&&$.options.cursor&&$[b].css({cursor:$.options.cursor}))}),$._hasTracking=!0),E(this,"afterDrawTracker")}remove(){const F=this,$=F.chart;$.hasRendered&&$.series.forEach(function(w){w.type===F.type&&(w.isDirty=!0)}),S.prototype.remove.apply(F,arguments)}}return Q.defaultOptions=G(S.defaultOptions,m),M(Q.prototype,{cropShoulder:0,directTouch:!0,getSymbol:I,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),j.registerSeriesType("column",Q),Q}),s(l,"Core/Series/DataLabel.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/FormatUtilities.js"],l["Core/Utilities.js"]],function(c,d,m){const{getDeferredAnimation:n}=c,{format:S}=d,{defined:j,extend:J,fireEvent:B,isArray:W,isString:K,merge:I,objectEach:O,pick:H,splat:M}=m;var E;return function(k){function V(L,f,y,b,P){const q=this.chart;var ee=this.isCartesian&&q.inverted;const X=this.enabledDataSorting;var ce=L.plotX,fe=L.plotY;const Te=y.rotation;var Z=y.align;fe=j(ce)&&j(fe)&&q.isInsidePlot(ce,Math.round(fe),{inverted:ee,paneCoordinates:!0,series:this});let re=H(y.overflow,X?"none":"justify")==="justify";if(ee=this.visible&&L.visible!==!1&&j(ce)&&(L.series.forceDL||X&&!re||fe||H(y.inside,!!this.options.stacking)&&b&&q.isInsidePlot(ce,ee?b.x+1:b.y+b.height-1,{inverted:ee,paneCoordinates:!0,series:this})),ce=L.pos(),ee&&ce){Te&&f.attr({align:Z}),Z=f.getBBox(!0);var ue=[0,0],ye=q.renderer.fontMetrics(f).b;if(b=J({x:ce[0],y:Math.round(ce[1]),width:0,height:0},b),J(y,{width:Z.width,height:Z.height}),Te?(re=!1,ue=q.renderer.rotCorr(ye,Te),ye={x:b.x+(y.x||0)+b.width/2+ue.x,y:b.y+(y.y||0)+{top:0,middle:.5,bottom:1}[y.verticalAlign]*b.height},ue=[Z.x-Number(f.attr("x")),Z.y-Number(f.attr("y"))],X&&this.xAxis&&!re&&this.setDataLabelStartPos(L,f,P,fe,ye),f[P?"attr":"animate"](ye)):(X&&this.xAxis&&!re&&this.setDataLabelStartPos(L,f,P,fe,b),f.align(y,void 0,b),ye=f.alignAttr),re&&0<=b.height)this.justifyDataLabel(f,y,ye,Z,b,P);else if(H(y.crop,!0)){let{x:Ie,y:ae}=ye;Ie+=ue[0],ae+=ue[1],ee=q.isInsidePlot(Ie,ae,{paneCoordinates:!0,series:this})&&q.isInsidePlot(Ie+Z.width,ae+Z.height,{paneCoordinates:!0,series:this})}y.shape&&!Te&&f[P?"attr":"animate"]({anchorX:ce[0],anchorY:ce[1]})}P&&X&&(f.placed=!1),ee||X&&!re?f.show():(f.hide(),f.placed=!1)}function G(L,f){var y=f.filter;return y?(f=y.operator,L=L[y.property],y=y.value,f===">"&&L>y||f==="<"&&L<y||f===">="&&L>=y||f==="<="&&L<=y||f==="=="&&L==y||f==="==="&&L===y):!0}function C(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function ie(L){const f=this.hasRendered||0,y=this.initDataLabelsGroup().attr({opacity:+f});return!f&&y&&(this.visible&&y.show(),this.options.animation?y.animate({opacity:1},L):y.attr({opacity:1})),y}function Q(L=this.points){const f=this,y=f.chart,b=f.options,P=y.renderer,{backgroundColor:q,plotBackgroundColor:ee}=y.options.chart,X=P.getContrast(K(ee)&&ee||K(q)&&q||"#000000");let ce=b.dataLabels,fe,Te;var Z=M(ce)[0];const re=Z.animation;Z=Z.defer?n(y,re,f):{defer:0,duration:0},ce=F(F(y.options.plotOptions&&y.options.plotOptions.series&&y.options.plotOptions.series.dataLabels,y.options.plotOptions&&y.options.plotOptions[f.type]&&y.options.plotOptions[f.type].dataLabels),ce),B(this,"drawDataLabels"),(W(ce)||ce.enabled||f._hasPointLabels)&&(Te=this.initDataLabels(Z),L.forEach(ue=>{fe=M(F(ce,ue.dlOptions||ue.options&&ue.options.dataLabels)),fe.forEach((ye,Ie)=>{const ae=ye.enabled&&(!ue.isNull||ue.dataLabelOnNull)&&G(ue,ye),be=ue.connectors?ue.connectors[Ie]:ue.connector;let xe,le,me=ue.dataLabels?ue.dataLabels[Ie]:ue.dataLabel,Se=!me;const Oe=H(ye.distance,ue.labelDistance);if(ae){var Le=ue.getLabelConfig(),Ue=H(ye[ue.formatPrefix+"Format"],ye.format);if(Le=j(Ue)?S(Ue,Le,y):(ye[ue.formatPrefix+"Formatter"]||ye.formatter).call(Le,ye),Ue=ye.style,xe=ye.rotation,y.styledMode||(Ue.color=H(ye.color,Ue.color,f.color,"#000000"),Ue.color==="contrast"?(ue.contrastColor=P.getContrast(ue.color||f.color),Ue.color=!j(Oe)&&ye.inside||0>Oe||b.stacking?ue.contrastColor:X):delete ue.contrastColor,b.cursor&&(Ue.cursor=b.cursor)),le={r:ye.borderRadius||0,rotation:xe,padding:ye.padding,zIndex:1},!y.styledMode){const{backgroundColor:lt,borderColor:it}=ye;le.fill=lt==="auto"?ue.color:lt,le.stroke=it==="auto"?ue.color:it,le["stroke-width"]=ye.borderWidth}O(le,function(lt,it){typeof lt>"u"&&delete le[it]})}!me||ae&&j(Le)&&!!me.div==!!ye.useHTML&&(me.rotation&&ye.rotation||me.rotation===ye.rotation)||(Se=!0,ue.dataLabel=me=ue.dataLabel&&ue.dataLabel.destroy(),ue.dataLabels&&(ue.dataLabels.length===1?delete ue.dataLabels:delete ue.dataLabels[Ie]),Ie||delete ue.dataLabel,be&&(ue.connector=ue.connector.destroy(),ue.connectors&&(ue.connectors.length===1?delete ue.connectors:delete ue.connectors[Ie]))),ae&&j(Le)?(me?le.text=Le:(ue.dataLabels=ue.dataLabels||[],me=ue.dataLabels[Ie]=xe?P.text(Le,0,0,ye.useHTML).addClass("highcharts-data-label"):P.label(Le,0,0,ye.shape,null,null,ye.useHTML,null,"data-label"),Ie||(ue.dataLabel=me),me.addClass(" highcharts-data-label-color-"+ue.colorIndex+" "+(ye.className||"")+(ye.useHTML?" highcharts-tracker":""))),me.options=ye,me.attr(le),y.styledMode||me.css(Ue).shadow(ye.shadow),(Ie=ye[ue.formatPrefix+"TextPath"]||ye.textPath)&&!ye.useHTML&&(me.setTextPath(ue.getDataLabelPath&&ue.getDataLabelPath(me)||ue.graphic,Ie),ue.dataLabelPath&&!Ie.enabled&&(ue.dataLabelPath=ue.dataLabelPath.destroy())),me.added||me.add(Te),f.alignDataLabel(ue,me,ye,null,Se)):me&&me.hide()})})),B(this,"afterDrawDataLabels")}function N(L,f,y,b,P,q){const ee=this.chart,X=f.align,ce=f.verticalAlign,fe=L.box?0:L.padding||0;let{x:Te=0,y:Z=0}=f,re,ue;return re=(y.x||0)+fe,0>re&&(X==="right"&&0<=Te?(f.align="left",f.inside=!0):Te-=re,ue=!0),re=(y.x||0)+b.width-fe,re>ee.plotWidth&&(X==="left"&&0>=Te?(f.align="right",f.inside=!0):Te+=ee.plotWidth-re,ue=!0),re=y.y+fe,0>re&&(ce==="bottom"&&0<=Z?(f.verticalAlign="top",f.inside=!0):Z-=re,ue=!0),re=(y.y||0)+b.height-fe,re>ee.plotHeight&&(ce==="top"&&0>=Z?(f.verticalAlign="bottom",f.inside=!0):Z+=ee.plotHeight-re,ue=!0),ue&&(f.x=Te,f.y=Z,L.placed=!q,L.align(f,void 0,P)),ue}function F(L,f){let y=[],b;if(W(L)&&!W(f))y=L.map(function(P){return I(P,f)});else if(W(f)&&!W(L))y=f.map(function(P){return I(L,P)});else if(W(L)||W(f))for(b=Math.max(L.length,f.length);b--;)y[b]=I(L[b],f[b]);else y=I(L,f);return y}function $(L,f,y,b,P){const q=this.chart,ee=q.inverted,X=this.xAxis,ce=X.reversed,fe=ee?f.height/2:f.width/2;L=(L=L.pointWidth)?L/2:0,f.startXPos=ee?P.x:ce?-fe-L:X.width-fe+L,f.startYPos=ee?ce?this.yAxis.height-fe+L:-fe-L:P.y,b?f.visibility==="hidden"&&(f.show(),f.attr({opacity:0}).animate({opacity:1})):f.attr({opacity:1}).animate({opacity:0},void 0,f.hide),q.hasRendered&&(y&&f.attr({x:f.startXPos,y:f.startYPos}),f.placed=!0)}const w=[];k.compose=function(L){m.pushUnique(w,L)&&(L=L.prototype,L.initDataLabelsGroup=C,L.initDataLabels=ie,L.alignDataLabel=V,L.drawDataLabels=Q,L.justifyDataLabel=N,L.setDataLabelStartPos=$)}}(E||(E={})),E}),s(l,"Series/Column/ColumnDataLabel.js",[l["Core/Series/DataLabel.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m){const{series:n}=d,{merge:S,pick:j}=m;var J;return function(B){function W(I,O,H,M,E){let k=this.chart.inverted;var V=I.series;let G=(V.xAxis?V.xAxis.len:this.chart.plotSizeX)||0;V=(V.yAxis?V.yAxis.len:this.chart.plotSizeY)||0;var C=I.dlBox||I.shapeArgs;let ie=j(I.below,I.plotY>j(this.translatedThreshold,V)),Q=j(H.inside,!!this.options.stacking);C&&(M=S(C),0>M.y&&(M.height+=M.y,M.y=0),C=M.y+M.height-V,0<C&&C<M.height&&(M.height-=C),k&&(M={x:V-M.y-M.height,y:G-M.x-M.width,width:M.height,height:M.width}),Q||(k?(M.x+=ie?0:M.width,M.width=0):(M.y+=ie?M.height:0,M.height=0))),H.align=j(H.align,!k||Q?"center":ie?"right":"left"),H.verticalAlign=j(H.verticalAlign,k||Q?"middle":ie?"top":"bottom"),n.prototype.alignDataLabel.call(this,I,O,H,M,E),H.inside&&I.contrastColor&&O.css({color:I.contrastColor})}const K=[];B.compose=function(I){c.compose(n),m.pushUnique(K,I)&&(I.prototype.alignDataLabel=W)}}(J||(J={})),J}),s(l,"Series/Bar/BarSeries.js",[l["Series/Column/ColumnSeries.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m){const{extend:n,merge:S}=m;class j extends c{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return j.defaultOptions=S(c.defaultOptions,{}),n(j.prototype,{inverted:!0}),d.registerSeriesType("bar",j),j}),s(l,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),s(l,"Series/Scatter/ScatterSeries.js",[l["Series/Scatter/ScatterSeriesDefaults.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m){const{column:n,line:S}=d.seriesTypes,{addEvent:j,extend:J,merge:B}=m;class W extends S{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const I=this,O=this.options.jitter,H=this.points.length;O&&this.points.forEach(function(M,E){["x","y"].forEach(function(k,V){let G="plot"+k.toUpperCase(),C,ie;if(O[k]&&!M.isNull){var Q=I[k+"Axis"];ie=O[k]*Q.transA,Q&&!Q.isLog&&(C=Math.max(0,M[G]-ie),Q=Math.min(Q.len,M[G]+ie),V=1e4*Math.sin(E+V*H),V-=Math.floor(V),M[G]=C+(Q-C)*V,k==="x"&&(M.clientX=M.plotX))}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return W.defaultOptions=B(S.defaultOptions,c),J(W.prototype,{drawTracker:n.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),j(W,"afterTranslate",function(){this.applyJitter()}),d.registerSeriesType("scatter",W),W}),s(l,"Series/CenteredUtilities.js",[l["Core/Globals.js"],l["Core/Series/Series.js"],l["Core/Utilities.js"]],function(c,d,m){const{deg2rad:n}=c,{fireEvent:S,isNumber:j,pick:J,relativeLength:B}=m;var W;return function(K){K.getCenter=function(){var I=this.options,O=this.chart;const H=2*(I.slicedOffset||0),M=O.plotWidth-2*H,E=O.plotHeight-2*H;var k=I.center;const V=Math.min(M,E),G=I.thickness;var C=I.size;let ie=I.innerSize||0;for(typeof C=="string"&&(C=parseFloat(C)),typeof ie=="string"&&(ie=parseFloat(ie)),I=[J(k[0],"50%"),J(k[1],"50%"),J(C&&0>C?void 0:I.size,"100%"),J(ie&&0>ie?void 0:I.innerSize||0,"0%")],!O.angular||this instanceof d||(I[3]=0),k=0;4>k;++k)C=I[k],O=2>k||k===2&&/%$/.test(C),I[k]=B(C,[M,E,V,I[2]][k])+(O?H:0);return I[3]>I[2]&&(I[3]=I[2]),j(G)&&2*G<I[2]&&0<G&&(I[3]=I[2]-2*G),S(this,"afterGetCenter",{positions:I}),I},K.getStartAndEndRadians=function(I,O){return I=j(I)?I:0,O=j(O)&&O>I&&360>O-I?O:I+360,{start:n*(I+-90),end:n*(O+-90)}}}(W||(W={})),W}),s(l,"Series/Pie/PiePoint.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Series/Point.js"],l["Core/Utilities.js"]],function(c,d,m){const{setAnimation:n}=c,{addEvent:S,defined:j,extend:J,isNumber:B,pick:W,relativeLength:K}=m;class I extends d{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const H=this.labelPosition,M=this.series.options.dataLabels,E=this.connectorShapes;let k=M.connectorShape;return E[k]&&(k=E[k]),k.call(this,{x:H.computed.x,y:H.computed.y,alignment:H.alignment},H.connectorPosition,M)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(H){const M=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(M.x,M.y,M.r+H,M.r+H,{innerR:M.r-1,start:M.start,end:M.end,borderRadius:M.borderRadius})}init(){super.init.apply(this,arguments),this.name=W(this.name,"Slice");const H=M=>{this.slice(M.type==="select")};return S(this,"select",H),S(this,"unselect",H),this}isValid(){return B(this.y)&&0<=this.y}setVisible(H,M){const E=this.series,k=E.chart,V=E.options.ignoreHiddenPoint;M=W(M,V),H!==this.visible&&(this.visible=this.options.visible=H=typeof H>"u"?!this.visible:H,E.options.data[E.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach(G=>{this[G]&&this[G][H?"show":"hide"](H)}),this.legendItem&&k.legend.colorizeItem(this,H),H||this.state!=="hover"||this.setState(""),V&&(E.isDirty=!0),M&&k.redraw())}slice(H,M,E){const k=this.series;n(E,k.chart),W(M,!0),this.sliced=this.options.sliced=j(H)?H:!this.sliced,k.options.data[k.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return J(I.prototype,{connectorShapes:{fixedOffset:function(O,H,M){const E=H.breakAt;return H=H.touchingSliceAt,[["M",O.x,O.y],M.softConnector?["C",O.x+(O.alignment==="left"?-5:5),O.y,2*E.x-H.x,2*E.y-H.y,E.x,E.y]:["L",E.x,E.y],["L",H.x,H.y]]},straight:function(O,H){return H=H.touchingSliceAt,[["M",O.x,O.y],["L",H.x,H.y]]},crookedLine:function(O,H,M){const{breakAt:E,touchingSliceAt:k}=H;({series:H}=this);const[V,G,C]=H.center,ie=C/2,Q=H.chart.plotWidth,N=H.chart.plotLeft;H=O.alignment==="left";const{x:F,y:$}=O;return M.crookDistance?(O=K(M.crookDistance,1),O=H?V+ie+(Q+N-V-ie)*(1-O):N+(V-ie)*O):O=V+(G-$)*Math.tan((this.angle||0)-Math.PI/2),M=[["M",F,$]],(H?O<=F&&O>=E.x:O>=F&&O<=E.x)&&M.push(["L",O,$]),M.push(["L",E.x,E.y],["L",k.x,k.y]),M}}}),I}),s(l,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),s(l,"Series/Pie/PieSeries.js",[l["Series/CenteredUtilities.js"],l["Series/Column/ColumnSeries.js"],l["Core/Globals.js"],l["Series/Pie/PiePoint.js"],l["Series/Pie/PieSeriesDefaults.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/Symbols.js"],l["Core/Utilities.js"]],function(c,d,m,n,S,j,J,B,W){const{getStartAndEndRadians:K}=c;({noop:m}=m);const{clamp:I,extend:O,fireEvent:H,merge:M,pick:E,relativeLength:k}=W;class V extends j{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(C){const ie=this,Q=ie.points,N=ie.startAngleRad;C||Q.forEach(function(F){const $=F.graphic,w=F.shapeArgs;$&&w&&($.attr({r:E(F.startR,ie.center&&ie.center[3]/2),start:N,end:N}),$.animate({r:w.r,start:w.start,end:w.end},ie.options.animation))})}drawEmpty(){const C=this.startAngleRad,ie=this.endAngleRad,Q=this.options;let N,F;this.total===0&&this.center?(N=this.center[0],F=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(N,F,this.center[1]/2,0,C,ie).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:B.arc(N,F,this.center[2]/2,0,{start:C,end:ie,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":Q.borderWidth,fill:Q.fillColor||"none",stroke:Q.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const C=this.chart.renderer;this.points.forEach(function(ie){ie.graphic&&ie.hasNewShapeType()&&(ie.graphic=ie.graphic.destroy()),ie.graphic||(ie.graphic=C[ie.shapeType](ie.shapeArgs).add(ie.series.group),ie.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(C,ie,Q){const N=this.center,F=this.radii?this.radii[Q.index]||0:N[2]/2;return C=Math.asin(I((C-N[1])/(F+Q.labelDistance),-1,1)),N[0]+(ie?-1:1)*Math.cos(C)*(F+Q.labelDistance)+(0<Q.labelDistance?(ie?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const C=this,ie=C.chart;let Q,N,F,$;this.drawEmpty(),C.group&&!ie.styledMode&&C.group.shadow(C.options.shadow),C.points.forEach(function(w){const L={};N=w.graphic,!w.isNull&&N?($=w.shapeArgs,Q=w.getTranslate(),ie.styledMode||(F=C.pointAttribs(w,w.selected&&"select")),w.delayedRendering?(N.setRadialReference(C.center).attr($).attr(Q),ie.styledMode||N.attr(F).attr({"stroke-linejoin":"round"}),w.delayedRendering=!1):(N.setRadialReference(C.center),ie.styledMode||M(!0,L,F),M(!0,L,$,Q),N.animate(L)),N.attr({visibility:w.visible?"inherit":"hidden"}),N.addClass(w.getClassName(),!0)):N&&(w.graphic=N.destroy())})}sortByAngle(C,ie){C.sort(function(Q,N){return typeof Q.angle<"u"&&(N.angle-Q.angle)*ie})}translate(C){H(this,"translate"),this.generatePoints();var ie=this.options;const Q=ie.slicedOffset,N=Q+(ie.borderWidth||0);var F=K(ie.startAngle,ie.endAngle);const $=this.startAngleRad=F.start;F=(this.endAngleRad=F.end)-$;const w=this.points,L=ie.dataLabels.distance;ie=ie.ignoreHiddenPoint;const f=w.length;let y,b,P,q=0;for(C||(this.center=C=this.getCenter()),b=0;b<f;b++){P=w[b];var ee=$+q*F;!P.isValid()||ie&&!P.visible||(q+=P.percentage/100);var X=$+q*F,ce={x:C[0],y:C[1],r:C[2]/2,innerR:C[3]/2,start:Math.round(1e3*ee)/1e3,end:Math.round(1e3*X)/1e3};P.shapeType="arc",P.shapeArgs=ce,P.labelDistance=E(P.options.dataLabels&&P.options.dataLabels.distance,L),P.labelDistance=k(P.labelDistance,ce.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,P.labelDistance),X=(X+ee)/2,X>1.5*Math.PI?X-=2*Math.PI:X<-Math.PI/2&&(X+=2*Math.PI),P.slicedTranslation={translateX:Math.round(Math.cos(X)*Q),translateY:Math.round(Math.sin(X)*Q)},ce=Math.cos(X)*C[2]/2,y=Math.sin(X)*C[2]/2,P.tooltipPos=[C[0]+.7*ce,C[1]+.7*y],P.half=X<-Math.PI/2||X>Math.PI/2?1:0,P.angle=X,ee=Math.min(N,P.labelDistance/5),P.labelPosition={natural:{x:C[0]+ce+Math.cos(X)*P.labelDistance,y:C[1]+y+Math.sin(X)*P.labelDistance},computed:{},alignment:0>P.labelDistance?"center":P.half?"right":"left",connectorPosition:{breakAt:{x:C[0]+ce+Math.cos(X)*ee,y:C[1]+y+Math.sin(X)*ee},touchingSliceAt:{x:C[0]+ce,y:C[1]+y}}}}H(this,"afterTranslate")}updateTotals(){const C=this.points,ie=C.length,Q=this.options.ignoreHiddenPoint;let N,F,$=0;for(N=0;N<ie;N++)F=C[N],!F.isValid()||Q&&!F.visible||($+=F.y);for(this.total=$,N=0;N<ie;N++)F=C[N],F.percentage=0<$&&(F.visible||!Q)?F.y/$*100:0,F.total=$}}return V.defaultOptions=M(j.defaultOptions,S),O(V.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:d.prototype.drawTracker,getCenter:c.getCenter,getSymbol:m,isCartesian:!1,noSharedTooltip:!0,pointAttribs:d.prototype.pointAttribs,pointClass:n,requireSorting:!1,searchPoint:m,trackerGroups:["group","dataLabelsGroup"]}),J.registerSeriesType("pie",V),V}),s(l,"Series/Pie/PieDataLabel.js",[l["Core/Series/DataLabel.js"],l["Core/Globals.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(c,d,m,n,S){const{noop:j}=d,{distribute:J}=m,{series:B}=n,{arrayMax:W,clamp:K,defined:I,merge:O,pick:H,relativeLength:M}=S;var E;return function(k){function V(){const N=this,F=N.data,$=N.chart,w=N.options.dataLabels||{},L=w.connectorPadding,f=$.plotWidth,y=$.plotHeight,b=$.plotLeft,P=Math.round($.chartWidth/3),q=N.center,ee=q[2]/2,X=q[1],ce=[[],[]],fe=[0,0,0,0],Te=N.dataLabelPositioners;let Z,re,ue,ye,Ie,ae,be,xe,le,me,Se,Oe;N.visible&&(w.enabled||N._hasPointLabels)&&(F.forEach(function(Le){Le.dataLabel&&Le.visible&&Le.dataLabel.shortened&&(Le.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Le.dataLabel.shortened=!1)}),B.prototype.drawDataLabels.apply(N),F.forEach(function(Le){Le.dataLabel&&(Le.visible?(ce[Le.half].push(Le),Le.dataLabel._pos=null,!I(w.style.width)&&!I(Le.options.dataLabels&&Le.options.dataLabels.style&&Le.options.dataLabels.style.width)&&Le.dataLabel.getBBox().width>P&&(Le.dataLabel.css({width:Math.round(.7*P)+"px"}),Le.dataLabel.shortened=!0)):(Le.dataLabel=Le.dataLabel.destroy(),Le.dataLabels&&Le.dataLabels.length===1&&delete Le.dataLabels))}),ce.forEach((Le,Ue)=>{const lt=Le.length,it=[];let pt,De=0;if(lt){if(N.sortByAngle(Le,Ue-.5),0<N.maxLabelDistance){var ze=Math.max(0,X-ee-N.maxLabelDistance);pt=Math.min(X+ee+N.maxLabelDistance,$.plotHeight),Le.forEach(function(Ge){0<Ge.labelDistance&&Ge.dataLabel&&(Ge.top=Math.max(0,X-ee-Ge.labelDistance),Ge.bottom=Math.min(X+ee+Ge.labelDistance,$.plotHeight),De=Ge.dataLabel.getBBox().height||21,Ge.distributeBox={target:Ge.labelPosition.natural.y-Ge.top+De/2,size:De,rank:Ge.y},it.push(Ge.distributeBox))}),ze=pt+De-ze,J(it,ze,ze/5)}for(Se=0;Se<lt;Se++){if(Z=Le[Se],ae=Z.labelPosition,ye=Z.dataLabel,me=Z.visible===!1?"hidden":"inherit",le=ze=ae.natural.y,it&&I(Z.distributeBox)&&(typeof Z.distributeBox.pos>"u"?me="hidden":(be=Z.distributeBox.size,le=Te.radialDistributionY(Z))),delete Z.positionIndex,w.justify)xe=Te.justify(Z,ee,q);else switch(w.alignTo){case"connectors":xe=Te.alignToConnectors(Le,Ue,f,b);break;case"plotEdges":xe=Te.alignToPlotEdges(ye,Ue,f,b);break;default:xe=Te.radialDistributionX(N,Z,le,ze)}ye._attr={visibility:me,align:ae.alignment},Oe=Z.options.dataLabels||{},ye._pos={x:xe+H(Oe.x,w.x)+({left:L,right:-L}[ae.alignment]||0),y:le+H(Oe.y,w.y)-ye.getBBox().height/2},ae&&(ae.computed.x=xe,ae.computed.y=le),H(w.crop,!0)&&(Ie=ye.getBBox().width,ze=null,xe-Ie<L&&Ue===1?(ze=Math.round(Ie-xe+L),fe[3]=Math.max(ze,fe[3])):xe+Ie>f-L&&Ue===0&&(ze=Math.round(xe+Ie-f+L),fe[1]=Math.max(ze,fe[1])),0>le-be/2?fe[0]=Math.max(Math.round(-le+be/2),fe[0]):le+be/2>y&&(fe[2]=Math.max(Math.round(le+be/2-y),fe[2])),ye.sideOverflow=ze)}}}),W(fe)===0||this.verifyDataLabelOverflow(fe))&&(this.placeDataLabels(),this.points.forEach(function(Le){if(Oe=O(w,Le.options.dataLabels),re=H(Oe.connectorWidth,1)){let Ue;ue=Le.connector,(ye=Le.dataLabel)&&ye._pos&&Le.visible&&0<Le.labelDistance?(me=ye._attr.visibility,(Ue=!ue)&&(Le.connector=ue=$.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Le.colorIndex+(Le.className?" "+Le.className:"")).add(N.dataLabelsGroup),$.styledMode||ue.attr({"stroke-width":re,stroke:Oe.connectorColor||Le.color||"#666666"})),ue[Ue?"attr":"animate"]({d:Le.getConnectorPath()}),ue.attr("visibility",me)):ue&&(Le.connector=ue.destroy())}}))}function G(){this.points.forEach(function(N){let F=N.dataLabel,$;F&&N.visible&&(($=F._pos)?(F.sideOverflow&&(F._attr.width=Math.max(F.getBBox().width-F.sideOverflow,0),F.css({width:F._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),F.shortened=!0),F.attr(F._attr),F[F.moved?"animate":"attr"]($),F.moved=!0):F&&F.attr({y:-9999})),delete N.distributeBox},this)}function C(N){let F=this.center,$=this.options,w=$.center,L=$.minSize||80,f,y=$.size!==null;return y||(w[0]!==null?f=Math.max(F[2]-Math.max(N[1],N[3]),L):(f=Math.max(F[2]-N[1]-N[3],L),F[0]+=(N[3]-N[1])/2),w[1]!==null?f=K(f,L,F[2]-Math.max(N[0],N[2])):(f=K(f,L,F[2]-N[0]-N[2]),F[1]+=(N[0]-N[2])/2),f<F[2]?(F[2]=f,F[3]=Math.min($.thickness?Math.max(0,f-2*$.thickness):Math.max(0,M($.innerSize||0,f)),f),this.translate(F),this.drawDataLabels&&this.drawDataLabels()):y=!0),y}const ie=[],Q={radialDistributionY:function(N){return N.top+N.distributeBox.pos},radialDistributionX:function(N,F,$,w){return N.getX($<F.top+2||$>F.bottom-2?w:$,F.half,F)},justify:function(N,F,$){return $[0]+(N.half?-1:1)*(F+N.labelDistance)},alignToPlotEdges:function(N,F,$,w){return N=N.getBBox().width,F?N+w:$-N-w},alignToConnectors:function(N,F,$,w){let L=0,f;return N.forEach(function(y){f=y.dataLabel.getBBox().width,f>L&&(L=f)}),F?L+w:$-L-w}};k.compose=function(N){c.compose(B),S.pushUnique(ie,N)&&(N=N.prototype,N.dataLabelPositioners=Q,N.alignDataLabel=j,N.drawDataLabels=V,N.placeDataLabels=G,N.verifyDataLabelOverflow=C)}}(E||(E={})),E}),s(l,"Extensions/OverlappingDataLabels.js",[l["Core/Chart/Chart.js"],l["Core/Utilities.js"]],function(c,d){function m(K,I){let O,H=!1;return K&&(O=K.newOpacity,K.oldOpacity!==O&&(K.alignAttr&&K.placed?(K[O?"removeClass":"addClass"]("highcharts-data-label-hidden"),H=!0,K.alignAttr.opacity=O,K[K.isOld?"animate":"attr"](K.alignAttr,null,function(){I.styledMode||K.css({pointerEvents:O?"auto":"none"})}),S(I,"afterHideOverlappingLabel")):K.attr({opacity:O})),K.isOld=!0),H}const{addEvent:n,fireEvent:S,isArray:j,isNumber:J,objectEach:B,pick:W}=d;n(c,"render",function(){let K=this,I=[];(this.labelCollectors||[]).forEach(function(O){I=I.concat(O())}),(this.yAxis||[]).forEach(function(O){O.stacking&&O.options.stackLabels&&!O.options.stackLabels.allowOverlap&&B(O.stacking.stacks,function(H){B(H,function(M){M.label&&I.push(M.label)})})}),(this.series||[]).forEach(function(O){var H=O.options.dataLabels;O.visible&&(H.enabled!==!1||O._hasPointLabels)&&(H=M=>M.forEach(E=>{E.visible&&(j(E.dataLabels)?E.dataLabels:E.dataLabel?[E.dataLabel]:[]).forEach(function(k){const V=k.options;k.labelrank=W(V.labelrank,E.labelrank,E.shapeArgs&&E.shapeArgs.height),V.allowOverlap?(k.oldOpacity=k.opacity,k.newOpacity=1,m(k,K)):I.push(k)})}),H(O.nodes||[]),H(O.points))}),this.hideOverlappingLabels(I)}),c.prototype.hideOverlappingLabels=function(K){let I=this,O=K.length,H=I.renderer;var M;let E,k,V,G,C=!1;var ie=function(Q){let N,F;var $;let w=Q.box?0:Q.padding||0,L=$=0,f,y;if(Q&&(!Q.alignAttr||Q.placed))return N=Q.alignAttr||{x:Q.attr("x"),y:Q.attr("y")},F=Q.parentGroup,Q.width||($=Q.getBBox(),Q.width=$.width,Q.height=$.height,$=H.fontMetrics(Q.element).h),f=Q.width-2*w,(y={left:"0",center:"0.5",right:"1"}[Q.alignValue])?L=+y*f:J(Q.x)&&Math.round(Q.x)!==Q.translateX&&(L=Q.x-Q.translateX),{x:N.x+(F.translateX||0)+w-(L||0),y:N.y+(F.translateY||0)+w-$,width:Q.width-2*w,height:Q.height-2*w}};for(E=0;E<O;E++)(M=K[E])&&(M.oldOpacity=M.opacity,M.newOpacity=1,M.absoluteBox=ie(M));for(K.sort(function(Q,N){return(N.labelrank||0)-(Q.labelrank||0)}),E=0;E<O;E++)for(V=(ie=K[E])&&ie.absoluteBox,M=E+1;M<O;++M)G=(k=K[M])&&k.absoluteBox,!V||!G||ie===k||ie.newOpacity===0||k.newOpacity===0||ie.visibility==="hidden"||k.visibility==="hidden"||G.x>=V.x+V.width||G.x+G.width<=V.x||G.y>=V.y+V.height||G.y+G.height<=V.y||((ie.labelrank<k.labelrank?ie:k).newOpacity=0);K.forEach(function(Q){m(Q,I)&&(C=!0)}),C&&S(I,"afterHideAllOverlappingLabels")}}),s(l,"Extensions/BorderRadius.js",[l["Core/Defaults.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Utilities.js"]],function(c,d,m,n,S,j){const{defaultOptions:J}=c;({seriesTypes:c}=m);const{addEvent:B,extend:W,isObject:K,merge:I,relativeLength:O}=j,H={radius:0,scope:"stack",where:void 0},M=(E,k)=>(K(E)||(E={radius:E||0}),I(H,k,E));if(n.symbolCustomAttribs.indexOf("borderRadius")===-1){n.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const E=S.prototype.symbols.arc;S.prototype.symbols.arc=function(V,G,C,ie,Q={}){V=E(V,G,C,ie,Q);const{innerR:N=0,r:F=C,start:$=0,end:w=0}=Q;if(Q.open||!Q.borderRadius)return V;for(C=w-$,G=Math.sin(C/2),Q=Math.max(Math.min(O(Q.borderRadius||0,F-N),(F-N)/2,F*G/(1+G)),0),C=Math.min(Q,C/Math.PI*2*N),G=V.length-1;G--;){let ee,X,ce;ie=V;var L=G,f=1<G?C:Q,y=ie[L],b=ie[L+1];if(b[0]==="Z"&&(b=ie[0]),y[0]!=="M"&&y[0]!=="L"||b[0]!=="A"?y[0]!=="A"||b[0]!=="M"&&b[0]!=="L"||(ce=b,X=y):(ce=y,X=b,ee=!0),ce&&X&&X.params){y=X[1];var P=X[5];b=X.params;const{start:fe,end:Te,cx:Z,cy:re}=b;var q=P?y-f:y+f;const ue=q?Math.asin(f/q):0;P=P?ue:-ue,q*=Math.cos(ue),ee?(b.start=fe+P,ce[1]=Z+q*Math.cos(fe),ce[2]=re+q*Math.sin(fe),ie.splice(L+1,0,["A",f,f,0,0,1,Z+y*Math.cos(b.start),re+y*Math.sin(b.start)])):(b.end=Te-P,X[6]=Z+y*Math.cos(b.end),X[7]=re+y*Math.sin(b.end),ie.splice(L+1,0,["A",f,f,0,0,1,Z+q*Math.cos(Te),re+q*Math.sin(Te)])),X[4]=Math.abs(b.end-b.start)<Math.PI?0:1}}return V};const k=S.prototype.symbols.roundedRect;S.prototype.symbols.roundedRect=function(V,G,C,ie,Q={}){const N=k(V,G,C,ie,Q),{r:F=0,brBoxHeight:$=ie,brBoxY:w=G}=Q;var L=G-w,f=w+$-(G+ie);Q=-.1<L-F?0:F;const y=-.1<f-F?0:F;var b=Math.max(Q&&L,0);const P=Math.max(y&&f,0);f=[V+Q,G],L=[V+C-Q,G];const q=[V+C,G+Q],ee=[V+C,G+ie-y],X=[V+C-y,G+ie],ce=[V+y,G+ie],fe=[V,G+ie-y],Te=[V,G+Q];if(b){const Z=Math.sqrt(Math.pow(Q,2)-Math.pow(Q-b,2));f[0]-=Z,L[0]+=Z,q[1]=Te[1]=G+Q-b}return ie<Q-b&&(b=Math.sqrt(Math.pow(Q,2)-Math.pow(Q-b-ie,2)),q[0]=ee[0]=V+C-Q+b,X[0]=Math.min(q[0],X[0]),ce[0]=Math.max(ee[0],ce[0]),fe[0]=Te[0]=V+Q-b,q[1]=Te[1]=G+ie),P&&(b=Math.sqrt(Math.pow(y,2)-Math.pow(y-P,2)),X[0]+=b,ce[0]-=b,ee[1]=fe[1]=G+ie-y+P),ie<y-P&&(ie=Math.sqrt(Math.pow(y,2)-Math.pow(y-P-ie,2)),q[0]=ee[0]=V+C-y+ie,L[0]=Math.min(q[0],L[0]),f[0]=Math.max(ee[0],f[0]),fe[0]=Te[0]=V+y-ie,ee[1]=fe[1]=G),N.length=0,N.push(["M",...f],["L",...L],["A",Q,Q,0,0,1,...q],["L",...ee],["A",y,y,0,0,1,...X],["L",...ce],["A",y,y,0,0,1,...fe],["L",...Te],["A",Q,Q,0,0,1,...f],["Z"]),N},B(c.pie,"afterTranslate",function(){const V=M(this.options.borderRadius);for(const G of this.points){const C=G.shapeArgs;C&&(C.borderRadius=O(V.radius,(C.r||0)-(C.innerR||0)))}}),B(d,"afterColumnTranslate",function(){var V,G;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:N,yAxis:F}=this,$=N.stacking==="percent";var C=(G=(V=J.plotOptions)===null||V===void 0?void 0:V[this.type])===null||G===void 0?void 0:G.borderRadius;V=M(N.borderRadius,K(C)?C:{}),G=F.options.reversed;for(const w of this.points)if({shapeArgs:C}=w,w.shapeType==="roundedRect"&&C){const{width:L=0,height:f=0,y=0}=C;var ie=y,Q=f;V.scope==="stack"&&w.stackTotal&&(ie=F.translate($?100:w.stackTotal,!1,!0,!1,!0),Q=F.translate(N.threshold||0,!1,!0,!1,!0),Q=this.crispCol(0,Math.min(ie,Q),0,Math.abs(ie-Q)),ie=Q.y,Q=Q.height);const b=(w.negative?-1:1)*(G?-1:1)===-1;let P=V.where;!P&&this.is("waterfall")&&Math.abs((w.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(P="all"),P||(P="end");const q=Math.min(O(V.radius,L),L/2,P==="all"?f/2:1/0)||0;P==="end"&&(b&&(ie-=q),Q+=q),W(C,{brBoxHeight:Q,brBoxY:ie,r:q})}}},{order:9})}return d={optionsToObject:M},d}),s(l,"Core/Responsive.js",[l["Core/Utilities.js"]],function(c){const{extend:d,find:m,isArray:n,isObject:S,merge:j,objectEach:J,pick:B,splat:W,uniqueKey:K}=c;var I;return function(O){function H(V){function G(Q,N,F,$){let w;J(Q,function(L,f){if(!$&&-1<C.collectionsWithUpdate.indexOf(f)&&N[f])for(L=W(L),F[f]=[],w=0;w<Math.max(L.length,N[f].length);w++)N[f][w]&&(L[w]===void 0?F[f][w]=N[f][w]:(F[f][w]={},G(L[w],N[f][w],F[f][w],$+1)));else S(L)?(F[f]=n(L)?[]:{},G(L,N[f]||{},F[f],$+1)):F[f]=typeof N[f]>"u"?null:N[f]})}const C=this,ie={};return G(V,this.options,ie,0),ie}function M(V,G){const C=V.condition;(C.callback||function(){return this.chartWidth<=B(C.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=B(C.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=B(C.minWidth,0)&&this.chartHeight>=B(C.minHeight,0)}).call(this)&&G.push(V._id)}function E(V,G){const C=this.options.responsive;var ie=this.currentResponsive;let Q=[];!G&&C&&C.rules&&C.rules.forEach(N=>{typeof N._id>"u"&&(N._id=K()),this.matchResponsiveRule(N,Q)},this),G=j(...Q.map(N=>m((C||{}).rules||[],F=>F._id===N)).map(N=>N&&N.chartOptions)),G.isResponsiveOptions=!0,Q=Q.toString()||void 0,Q!==(ie&&ie.ruleIds)&&(ie&&this.update(ie.undoOptions,V,!0),Q?(ie=this.currentOptions(G),ie.isResponsiveOptions=!0,this.currentResponsive={ruleIds:Q,mergedOptions:G,undoOptions:ie},this.update(G,V,!0)):this.currentResponsive=void 0)}const k=[];O.compose=function(V){return c.pushUnique(k,V)&&d(V.prototype,{currentOptions:H,matchResponsiveRule:M,setResponsive:E}),V}}(I||(I={})),I}),s(l,"masters/highcharts.src.js",[l["Core/Globals.js"],l["Core/Utilities.js"],l["Core/Defaults.js"],l["Core/Animation/Fx.js"],l["Core/Animation/AnimationUtilities.js"],l["Core/Renderer/HTML/AST.js"],l["Core/FormatUtilities.js"],l["Core/Renderer/RendererUtilities.js"],l["Core/Renderer/SVG/SVGElement.js"],l["Core/Renderer/SVG/SVGRenderer.js"],l["Core/Renderer/HTML/HTMLElement.js"],l["Core/Renderer/HTML/HTMLRenderer.js"],l["Core/Axis/Axis.js"],l["Core/Axis/DateTimeAxis.js"],l["Core/Axis/LogarithmicAxis.js"],l["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],l["Core/Axis/Tick.js"],l["Core/Tooltip.js"],l["Core/Series/Point.js"],l["Core/Pointer.js"],l["Core/Legend/Legend.js"],l["Core/Chart/Chart.js"],l["Core/Axis/Stacking/StackingAxis.js"],l["Core/Axis/Stacking/StackItem.js"],l["Core/Series/Series.js"],l["Core/Series/SeriesRegistry.js"],l["Series/Column/ColumnSeries.js"],l["Series/Column/ColumnDataLabel.js"],l["Series/Pie/PieSeries.js"],l["Series/Pie/PieDataLabel.js"],l["Core/Series/DataLabel.js"],l["Core/Responsive.js"],l["Core/Color/Color.js"],l["Core/Time.js"]],function(c,d,m,n,S,j,J,B,W,K,I,O,H,M,E,k,V,G,C,ie,Q,N,F,$,w,L,f,y,b,P,q,ee,X,ce){return c.animate=S.animate,c.animObject=S.animObject,c.getDeferredAnimation=S.getDeferredAnimation,c.setAnimation=S.setAnimation,c.stop=S.stop,c.timers=n.timers,c.AST=j,c.Axis=H,c.Chart=N,c.chart=N.chart,c.Fx=n,c.Legend=Q,c.PlotLineOrBand=k,c.Point=C,c.Pointer=ie,c.Series=w,c.StackItem=$,c.SVGElement=W,c.SVGRenderer=K,c.Tick=V,c.Time=ce,c.Tooltip=G,c.Color=X,c.color=X.parse,O.compose(K),I.compose(W),ie.compose(N),Q.compose(N),c.defaultOptions=m.defaultOptions,c.getOptions=m.getOptions,c.time=m.defaultTime,c.setOptions=m.setOptions,c.dateFormat=J.dateFormat,c.format=J.format,c.numberFormat=J.numberFormat,c.addEvent=d.addEvent,c.arrayMax=d.arrayMax,c.arrayMin=d.arrayMin,c.attr=d.attr,c.clearTimeout=d.clearTimeout,c.correctFloat=d.correctFloat,c.createElement=d.createElement,c.css=d.css,c.defined=d.defined,c.destroyObjectProperties=d.destroyObjectProperties,c.discardElement=d.discardElement,c.distribute=B.distribute,c.erase=d.erase,c.error=d.error,c.extend=d.extend,c.extendClass=d.extendClass,c.find=d.find,c.fireEvent=d.fireEvent,c.getMagnitude=d.getMagnitude,c.getStyle=d.getStyle,c.inArray=d.inArray,c.isArray=d.isArray,c.isClass=d.isClass,c.isDOMElement=d.isDOMElement,c.isFunction=d.isFunction,c.isNumber=d.isNumber,c.isObject=d.isObject,c.isString=d.isString,c.keys=d.keys,c.merge=d.merge,c.normalizeTickInterval=d.normalizeTickInterval,c.objectEach=d.objectEach,c.offset=d.offset,c.pad=d.pad,c.pick=d.pick,c.pInt=d.pInt,c.relativeLength=d.relativeLength,c.removeEvent=d.removeEvent,c.seriesType=L.seriesType,c.splat=d.splat,c.stableSort=d.stableSort,c.syncTimeout=d.syncTimeout,c.timeUnits=d.timeUnits,c.uniqueKey=d.uniqueKey,c.useSerialIds=d.useSerialIds,c.wrap=d.wrap,y.compose(f),q.compose(w),M.compose(H),E.compose(H),P.compose(b),k.compose(H),ee.compose(N),F.compose(H,N,w),G.compose(ie),c}),l["masters/highcharts.src.js"]._modules=l,l["masters/highcharts.src.js"]})}(QU)),Lv}const eG=B5(wI);(function(e,t){(function(s,l){e.exports=l(kA(),eG)})(window,function(s,l){return m={},c.m=d=[function(n,S){n.exports=s},function(n,S){n.exports=l},function(n,J,j){j.r(J),j.d(J,"Chart",function(){return V}),j.d(J,"default",function(){return G});var J=j(0),B=j.n(J);function W(C,ie){return function Q(N,F,$){function w(L,f){!B.a.isObject(L,!$)||B.a.isClass(L)||B.a.isDOMElement(L)?N[f]=F[f]:N[f]=Q(N[f]||B.a.isArray(L)?[]:{},L,$)}return B.a.isArray(F)?F.forEach(w):B.a.objectEach(F,w),N}({},C,ie)}var K=j(1);function I(C){return function(ie){if(Array.isArray(ie))return O(ie)}(C)||function(ie){if(typeof Symbol<"u"&&ie[Symbol.iterator]!=null||ie["@@iterator"]!=null)return Array.from(ie)}(C)||function(ie,Q){if(ie){if(typeof ie=="string")return O(ie,Q);var N=Object.prototype.toString.call(ie).slice(8,-1);return(N=N==="Object"&&ie.constructor?ie.constructor.name:N)==="Map"||N==="Set"?Array.from(ie):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?O(ie,Q):void 0}}(C)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function O(C,ie){(ie==null||ie>C.length)&&(ie=C.length);for(var Q=0,N=new Array(ie);Q<ie;Q++)N[Q]=C[Q];return N}function H(C,ie){var Q,N=Object.keys(C);return Object.getOwnPropertySymbols&&(Q=Object.getOwnPropertySymbols(C),ie&&(Q=Q.filter(function(F){return Object.getOwnPropertyDescriptor(C,F).enumerable})),N.push.apply(N,Q)),N}function M(C){for(var ie=1;ie<arguments.length;ie++){var Q=arguments[ie]!=null?arguments[ie]:{};ie%2?H(Object(Q),!0).forEach(function(N){var F,$;F=C,N=Q[$=N],$ in F?Object.defineProperty(F,$,{value:N,enumerable:!0,configurable:!0,writable:!0}):F[$]=N}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(Q)):H(Object(Q)).forEach(function(N){Object.defineProperty(C,N,Object.getOwnPropertyDescriptor(Q,N))})}return C}function E(){this.chart&&this.chart.destroy()}var k=function(C,ie){return ie=ie.split(".")[0]<3?{render:function(Q){return Q("div",{ref:"chart"})},beforeDestroy:E}:{render:function(){return Object(K.h)("div",{ref:"chart"})},beforeUnmount:E},M({template:'<div ref="chart"></div>',props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}},watch:{options:{handler:function(Q){var N;(N=this.chart).update.apply(N,[W(Q,this.deepCopyOnUpdate)].concat(I(this.updateArgs)))},deep:!0}},mounted:function(){var Q=this.highcharts||C;this.options&&Q[this.constructorType]?this.chart=Q[this.constructorType](this.$refs.chart,W(this.options,!0),this.callback||null):this.options?console.warn("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}},ie)},V=k(B.a,K.version||j.n(K).a.version);function G(C){var ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};C.component(ie.tagName||"highcharts",k(ie.highcharts||B.a,C.version))}}],c.c=m,c.d=function(n,S,j){c.o(n,S)||Object.defineProperty(n,S,{enumerable:!0,get:j})},c.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,S){if(1&S&&(n=c(n)),8&S||4&S&&typeof n=="object"&&n&&n.__esModule)return n;var j=Object.create(null);if(c.r(j),Object.defineProperty(j,"default",{enumerable:!0,value:n}),2&S&&typeof n!="string")for(var J in n)c.d(j,J,function(B){return n[B]}.bind(null,J));return j},c.n=function(n){var S=n&&n.__esModule?function(){return n.default}:function(){return n};return c.d(S,"a",S),S},c.o=function(n,S){return Object.prototype.hasOwnProperty.call(n,S)},c.p="",c(c.s=2);function c(n){if(m[n])return m[n].exports;var S=m[n]={i:n,l:!1,exports:{}};return d[n].call(S.exports,S,S.exports,c),S.l=!0,S.exports}var d,m})})(JU);var tG=kA();const th=GA(tG);var Ww={},iG={get exports(){return Ww},set exports(e){Ww=e}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function s(l,c,d,m){l.hasOwnProperty(c)||(l[c]=m.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:l[c]}})))}t=t?t._modules:{},s(t,"Extensions/Pane.js",[t["Core/Chart/Chart.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){function S(M,E,k,V,G){let C=!0;const ie=k[0],Q=k[1],N=Math.sqrt(Math.pow(M-ie,2)+Math.pow(E-Q,2));return B(V)&&B(G)&&(M=Math.atan2(J(E-Q,8),J(M-ie,8)),G!==V&&(C=V>G?M>=V&&M<=Math.PI||M<=G&&M>=-Math.PI:M>=V&&M<=J(G,8))),N<=Math.ceil(k[2]/2)&&C}const{addEvent:j,correctFloat:J,defined:B,extend:W,merge:K,pick:I,splat:O}=n;l.prototype.collectionsWithUpdate.push("pane");class H{constructor(E,k){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(E,k)}init(E,k){this.chart=k,this.background=[],k.pane.push(this),this.setOptions(E)}setOptions(E){this.options=K(this.defaultOptions,this.chart.angular?{background:{}}:void 0,E)}render(){var E=this.options;let k=this.options.background;var V=this.chart.renderer;if(this.group||(this.group=V.g("pane-group").attr({zIndex:E.zIndex||0}).add()),this.updateCenter(),k)for(k=O(k),E=Math.max(k.length,this.background.length||0),V=0;V<E;V++)k[V]&&this.axis?this.renderBackground(K(this.defaultBackgroundOptions,k[V]),V):this.background[V]&&(this.background[V]=this.background[V].destroy(),this.background.splice(V,1))}renderBackground(E,k){let V="animate",G={class:"highcharts-pane "+(E.className||"")};this.chart.styledMode||W(G,{fill:E.backgroundColor,stroke:E.borderColor,"stroke-width":E.borderWidth}),this.background[k]||(this.background[k]=this.chart.renderer.path().add(this.group),V="attr"),this.background[k][V]({d:this.axis.getPlotBandPath(E.from,E.to,E)}).attr(G)}updateCenter(E){this.center=(E||this.axis||{}).center=c.getCenter.call(this)}update(E,k){K(!0,this.options,E),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(V){V.pane===this&&(V.pane=null,V.update({},k))},this)}}return l.prototype.getHoverPane=function(M){const E=this;let k;return M&&E.pane.forEach(V=>{S(M.chartX-E.plotLeft,M.chartY-E.plotTop,V.center)&&(k=V)}),k},j(l,"afterIsInsidePlot",function(M){this.polar&&(M.options.inverted&&([M.x,M.y]=[M.y,M.x]),M.isInsidePlot=this.pane.some(E=>S(M.x,M.y,E.center,E.axis&&E.axis.normalizedStartAngleRad,E.axis&&E.axis.normalizedEndAngleRad)))}),j(m,"beforeGetHoverData",function(M){const E=this.chart;E.polar?(E.hoverPane=E.getHoverPane(M),M.filter=function(k){return k.visible&&!(!M.shared&&k.directTouch)&&I(k.options.enableMouseTracking,!0)&&(!E.hoverPane||k.xAxis.pane===E.hoverPane)}):E.hoverPane=void 0}),j(m,"afterGetHoverData",function(M){const E=this.chart;M.hoverPoint&&M.hoverPoint.plotX&&M.hoverPoint.plotY&&E.hoverPane&&!S(M.hoverPoint.plotX,M.hoverPoint.plotY,E.hoverPane.center)&&(M.hoverPoint=void 0)}),d.Pane=H,d.Pane}),s(t,"Series/AreaRange/AreaRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c){const{area:{prototype:{pointClass:d,pointClass:{prototype:m}}}}=l.seriesTypes,{defined:n,isNumber:S}=c;class j extends d{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const B=this.state,W=this.series,K=W.chart.polar;n(this.plotHigh)||(this.plotHigh=W.yAxis.toPixels(this.high,!0)),n(this.plotLow)||(this.plotLow=this.plotY=W.yAxis.toPixels(this.low,!0)),W.stateMarkerGraphic&&(W.lowerStateMarkerGraphic=W.stateMarkerGraphic,W.stateMarkerGraphic=W.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,K&&S(this.plotHighX)&&(this.plotX=this.plotHighX),m.setState.apply(this,arguments),this.state=B,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],K&&S(this.plotLowX)&&(this.plotX=this.plotLowX),W.stateMarkerGraphic&&(W.upperStateMarkerGraphic=W.stateMarkerGraphic,W.stateMarkerGraphic=W.lowerStateMarkerGraphic,W.lowerStateMarkerGraphic=void 0),m.setState.apply(this,arguments)}haloPath(){const B=this.series.chart.polar;let W=[];return this.plotY=this.plotLow,B&&S(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(W=m.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,B&&S(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(W=W.concat(m.haloPath.apply(this,arguments))),W}isValid(){return S(this.low)&&S(this.high)}}return j}),s(t,"Series/AreaRange/AreaRangeSeries.js",[t["Series/AreaRange/AreaRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m){({noop:c}=c);const{area:n,area:{prototype:S},column:{prototype:j}}=d.seriesTypes,{addEvent:J,defined:B,extend:W,isArray:K,isNumber:I,pick:O,merge:H}=m;class M extends n{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(k){return[k.low,k.high]}highToXY(k){const V=this.chart,G=this.xAxis.postTranslate(k.rectPlotX||0,this.yAxis.len-(k.plotHigh||0));k.plotHighX=G.x-V.plotLeft,k.plotHigh=G.y-V.plotTop,k.plotLowX=k.plotX}getGraphPath(k){var V=[],G=[];const C=S.getGraphPath;var ie=this.options;const Q=this.chart.polar,N=Q&&ie.connectEnds!==!1,F=ie.connectNulls;let $,w,L,f=ie.step;for(k=k||this.points,$=k.length;$--;){w=k[$];const y=Q?{plotX:w.rectPlotX,plotY:w.yBottom,doCurve:!1}:{plotX:w.plotX,plotY:w.plotY,doCurve:!1};w.isNull||N||F||k[$+1]&&!k[$+1].isNull||G.push(y),L={polarPlotY:w.polarPlotY,rectPlotX:w.rectPlotX,yBottom:w.yBottom,plotX:O(w.plotHighX,w.plotX),plotY:w.plotHigh,isNull:w.isNull},G.push(L),V.push(L),w.isNull||N||F||k[$-1]&&!k[$-1].isNull||G.push(y)}return k=C.call(this,k),f&&(f===!0&&(f="left"),ie.step={left:"right",center:"center",right:"left"}[f]),V=C.call(this,V),G=C.call(this,G),ie.step=f,ie=[].concat(k,V),!this.chart.polar&&G[0]&&G[0][0]==="M"&&(G[0]=["L",G[0][1],G[0][2]]),this.graphPath=ie,this.areaPath=k.concat(G),ie.isArea=!0,ie.xMap=k.xMap,this.areaPath.xMap=k.xMap,ie}drawDataLabels(){const k=this.points,V=k.length,G=[],C=this.options.dataLabels,ie=this.chart.inverted;let Q,N,F,$,w;if(C){if(K(C)?($=C[0]||{enabled:!1},w=C[1]||{enabled:!1}):($=W({},C),$.x=C.xHigh,$.y=C.yHigh,w=W({},C),w.x=C.xLow,w.y=C.yLow),$.enabled||this._hasPointLabels){for(Q=V;Q--;)if(N=k[Q]){const{plotHigh:L=0,plotLow:f=0}=N;F=$.inside?L<f:L>f,N.y=N.high,N._plotY=N.plotY,N.plotY=L,G[Q]=N.dataLabel,N.dataLabel=N.dataLabelUpper,N.below=F,ie?$.align||($.align=F?"right":"left"):$.verticalAlign||($.verticalAlign=F?"top":"bottom")}for(this.options.dataLabels=$,S.drawDataLabels&&S.drawDataLabels.apply(this,arguments),Q=V;Q--;)(N=k[Q])&&(N.dataLabelUpper=N.dataLabel,N.dataLabel=G[Q],delete N.dataLabels,N.y=N.low,N.plotY=N._plotY)}if(w.enabled||this._hasPointLabels){for(Q=V;Q--;)if(N=k[Q]){const{plotHigh:L=0,plotLow:f=0}=N;F=w.inside?L<f:L>f,N.below=!F,ie?w.align||(w.align=F?"left":"right"):w.verticalAlign||(w.verticalAlign=F?"bottom":"top")}this.options.dataLabels=w,S.drawDataLabels&&S.drawDataLabels.apply(this,arguments)}if($.enabled)for(Q=V;Q--;)(N=k[Q])&&(N.dataLabels=[N.dataLabelUpper,N.dataLabel].filter(function(L){return!!L}));this.options.dataLabels=C}}alignDataLabel(){j.alignDataLabel.apply(this,arguments)}drawPoints(){const k=this.points.length;let V,G;for(S.drawPoints.apply(this,arguments),V=0;V<k;)G=this.points[V],G.graphics=G.graphics||[],G.origProps={plotY:G.plotY,plotX:G.plotX,isInside:G.isInside,negative:G.negative,zone:G.zone,y:G.y},(G.graphic||G.graphics[0])&&(G.graphics[0]=G.graphic),G.graphic=G.graphics[1],G.plotY=G.plotHigh,B(G.plotHighX)&&(G.plotX=G.plotHighX),G.y=O(G.high,G.origProps.y),G.negative=G.y<(this.options.threshold||0),this.zones.length&&(G.zone=G.getZone()),this.chart.polar||(G.isInside=G.isTopInside=typeof G.plotY<"u"&&0<=G.plotY&&G.plotY<=this.yAxis.len&&0<=G.plotX&&G.plotX<=this.xAxis.len),V++;for(S.drawPoints.apply(this,arguments),V=0;V<k;)G=this.points[V],G.graphics=G.graphics||[],(G.graphic||G.graphics[1])&&(G.graphics[1]=G.graphic),G.graphic=G.graphics[0],G.origProps&&(W(G,G.origProps),delete G.origProps),V++}}return M.defaultOptions=H(n.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),J(M,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(E=>{const k=E.high,V=E.plotY;E.isNull?E.plotY=void 0:(E.plotLow=V,E.plotHigh=I(k)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(k):k,!1,!0,void 0,!0):void 0,this.dataModify&&(E.yBottom=E.plotHigh))})},{order:0}),J(M,"afterTranslate",function(){this.points.forEach(E=>{if(this.chart.polar)this.highToXY(E),E.plotLow=E.plotY,E.tooltipPos=[((E.plotHighX||0)+(E.plotLowX||0))/2,((E.plotHigh||0)+(E.plotLow||0))/2];else{const k=E.pos(!1,E.plotLow),V=E.pos(!1,E.plotHigh);k&&V&&(k[0]=(k[0]+V[0])/2,k[1]=(k[1]+V[1])/2),E.tooltipPos=k}})},{order:3}),W(M.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:l,pointValKey:"low",setStackedPoints:c}),d.registerSeriesType("arearange",M),M}),s(t,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[t["Series/AreaRange/AreaRangeSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d){const{spline:{prototype:m}}=c.seriesTypes,{merge:n,extend:S}=d;class j extends l{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return j.defaultOptions=n(l.defaultOptions),S(j.prototype,{getPointSpline:m.getPointSpline}),c.registerSeriesType("areasplinerange",j),j}),s(t,"Series/BoxPlot/BoxPlotSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m){({noop:c}=c);const{extend:n,merge:S,pick:j}=m;class J extends l{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const W=this.yAxis,K=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(I){K.forEach(function(O){I[O]!==null&&(I[O+"Plot"]=W.translate(I[O],0,1,0,1))}),I.plotHigh=I.highPlot})}drawPoints(){let W=this,K=W.options,I=W.chart,O=I.renderer,H,M,E,k,V,G,C=0,ie,Q,N,F,$=W.doQuartiles!==!1,w,L=W.options.whiskerLength;W.points.forEach(function(f){var y=f.graphic;let b=y?"animate":"attr",P=f.shapeArgs,q={},ee={},X={},ce={},fe=f.color||W.color;typeof f.plotY<"u"&&(ie=Math.round(P.width),Q=Math.floor(P.x),N=Q+ie,F=Math.round(ie/2),H=Math.floor($?f.q1Plot:f.lowPlot),M=Math.floor($?f.q3Plot:f.lowPlot),E=Math.floor(f.highPlot),k=Math.floor(f.lowPlot),y||(f.graphic=y=O.g("point").add(W.group),f.stem=O.path().addClass("highcharts-boxplot-stem").add(y),L&&(f.whiskers=O.path().addClass("highcharts-boxplot-whisker").add(y)),$&&(f.box=O.path(void 0).addClass("highcharts-boxplot-box").add(y)),f.medianShape=O.path(void 0).addClass("highcharts-boxplot-median").add(y)),I.styledMode||(ee.stroke=f.stemColor||K.stemColor||fe,ee["stroke-width"]=j(f.stemWidth,K.stemWidth,K.lineWidth),ee.dashstyle=f.stemDashStyle||K.stemDashStyle||K.dashStyle,f.stem.attr(ee),L&&(X.stroke=f.whiskerColor||K.whiskerColor||fe,X["stroke-width"]=j(f.whiskerWidth,K.whiskerWidth,K.lineWidth),X.dashstyle=f.whiskerDashStyle||K.whiskerDashStyle||K.dashStyle,f.whiskers.attr(X)),$&&(q.fill=f.fillColor||K.fillColor||fe,q.stroke=K.lineColor||fe,q["stroke-width"]=K.lineWidth||0,q.dashstyle=f.boxDashStyle||K.boxDashStyle||K.dashStyle,f.box.attr(q)),ce.stroke=f.medianColor||K.medianColor||fe,ce["stroke-width"]=j(f.medianWidth,K.medianWidth,K.lineWidth),ce.dashstyle=f.medianDashStyle||K.medianDashStyle||K.dashStyle,f.medianShape.attr(ce)),G=f.stem.strokeWidth()%2/2,C=Q+F+G,y=[["M",C,M],["L",C,E],["M",C,H],["L",C,k]],f.stem[b]({d:y}),$&&(G=f.box.strokeWidth()%2/2,H=Math.floor(H)+G,M=Math.floor(M)+G,Q+=G,N+=G,y=[["M",Q,M],["L",Q,H],["L",N,H],["L",N,M],["L",Q,M],["Z"]],f.box[b]({d:y})),L&&(G=f.whiskers.strokeWidth()%2/2,E+=G,k+=G,w=/%$/.test(L)?F*parseFloat(L)/100:L/2,y=[["M",C-w,E],["L",C+w,E],["M",C-w,k],["L",C+w,k]],f.whiskers[b]({d:y})),V=Math.round(f.medianPlot),G=f.medianShape.strokeWidth()%2/2,V+=G,y=[["M",Q,V],["L",N,V]],f.medianShape[b]({d:y}))})}toYData(W){return[W.low,W.q1,W.median,W.q3,W.high]}}return J.defaultOptions=S(l.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),n(J.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:c,setStackedPoints:c}),d.registerSeriesType("boxplot",J),J}),s(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),s(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(l,c,d,m){const{parse:n}=l,{noop:S}=d,{arrayMax:j,arrayMin:J,isNumber:B,merge:W,pick:K,stableSort:I}=m;class O{constructor(M,E){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=S,this.init(M,E)}init(M,E){this.options=M,this.visible=!0,this.chart=E.chart,this.legend=E}addToLegend(M){M.splice(this.options.legendIndex,0,this)}drawLegendSymbol(M){const E=K(M.options.itemDistance,20),k=this.legendItem||{},V=this.options;var G=V.ranges,C=V.connectorDistance;if(G&&G.length&&B(G[0].value)){I(G,function(Q,N){return N.value-Q.value}),this.ranges=G,this.setOptions(),this.render(),M=this.getMaxLabelSize();var ie=this.ranges[0].radius;G=2*ie,C=C-ie+M.width,C=0<C?C:0,this.maxLabel=M,this.movementX=V.labels.align==="left"?C:0,k.labelWidth=G+C+E,k.labelHeight=G+M.height/2}else M.options.bubbleLegend.autoRanges=!0}setOptions(){const M=this.ranges,E=this.options,k=this.chart.series[E.seriesIndex],V=this.legend.baseline,G={zIndex:E.zIndex,"stroke-width":E.borderWidth},C={zIndex:E.zIndex,"stroke-width":E.connectorWidth},ie={align:this.legend.options.rtl||E.labels.align==="left"?"right":"left",zIndex:E.zIndex},Q=k.options.marker.fillOpacity,N=this.chart.styledMode;M.forEach(function(F,$){N||(G.stroke=K(F.borderColor,E.borderColor,k.color),G.fill=K(F.color,E.color,Q!==1?n(k.color).setOpacity(Q).get("rgba"):k.color),C.stroke=K(F.connectorColor,E.connectorColor,k.color)),M[$].radius=this.getRangeRadius(F.value),M[$]=W(M[$],{center:M[0].radius-M[$].radius+V}),N||W(!0,M[$],{bubbleAttribs:W(G),connectorAttribs:W(C),labelAttribs:ie})},this)}getRangeRadius(M){const E=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,E.ranges[E.ranges.length-1].value,E.ranges[0].value,E.minSize,E.maxSize,M)}render(){const M=this.legendItem||{},E=this.chart.renderer,k=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),M.symbol=E.g("bubble-legend"),M.label=E.g("bubble-legend-item"),M.symbol.translateX=0,M.symbol.translateY=0,M.symbol.add(M.label),M.label.add(M.group);for(const V of this.ranges)V.value>=k&&this.renderRange(V);this.hideOverlappingLabels()}renderRange(M){var E=this.options;const k=E.labels;var V=this.chart;const G=V.series[E.seriesIndex],C=V.renderer,ie=this.symbols;V=ie.labels;const Q=M.center,N=Math.abs(M.radius);var F=E.connectorDistance||0;const $=k.align,w=E.connectorWidth,L=this.ranges[0].radius||0,f=Q-N-E.borderWidth/2+w/2,y=C.styledMode;F=this.legend.options.rtl||$==="left"?-F:F,$==="center"&&(F=0,E.connectorDistance=0,M.labelAttribs.align="center"),ie.bubbleItems.push(C.circle(L,Q+((f%1?1:.5)-(w%2?0:.5)),N).attr(y?{}:M.bubbleAttribs).addClass((y?"highcharts-color-"+G.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(E.className||"")).add(this.legendItem.symbol)),ie.connectors.push(C.path(C.crispLine([["M",L,f],["L",L+F,f]],E.connectorWidth)).attr(y?{}:M.connectorAttribs).addClass((y?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(E.connectorClassName||"")).add(this.legendItem.symbol)),M=C.text(this.formatLabel(M)).attr(y?{}:M.labelAttribs).css(y?{}:k.style).addClass("highcharts-bubble-legend-labels "+(E.labels.className||"")).add(this.legendItem.symbol),E={x:L+F+E.labels.x,y:f+E.labels.y+.4*M.getBBox().height},M.attr(E),V.push(M),M.placed=!0,M.alignAttr=E}getMaxLabelSize(){let M,E;return this.symbols.labels.forEach(function(k){E=k.getBBox(!0),M=M?E.width>M.width?E:M:E}),M||{}}formatLabel(M){var E=this.options;const k=E.labels.formatter;E=E.labels.format;const{numberFormatter:V}=this.chart;return E?c.format(E,M):k?k.call(M):V(M.value,1)}hideOverlappingLabels(){const M=this.chart,E=this.symbols;!this.options.labels.allowOverlap&&E&&(M.hideOverlappingLabels(E.labels),E.labels.forEach(function(k,V){k.newOpacity?k.newOpacity!==k.oldOpacity&&E.connectors[V].show():E.connectors[V].hide()}))}getRanges(){const M=this.legend.bubbleLegend,E=M.options.ranges;let k,V,G=Number.MAX_VALUE,C=-Number.MAX_VALUE;return M.chart.series.forEach(function(ie){ie.isBubble&&!ie.ignoreSeries&&(V=ie.zData.filter(B),V.length&&(G=K(ie.options.zMin,Math.min(G,Math.max(J(V),ie.options.displayNegative===!1?ie.options.zThreshold:-Number.MAX_VALUE))),C=K(ie.options.zMax,Math.max(C,j(V)))))}),k=G===C?[{value:C}]:[{value:G},{value:(G+C)/2},{value:C,autoRanges:!0}],E.length&&E[0].radius&&k.reverse(),k.forEach(function(ie,Q){E&&E[Q]&&(k[Q]=W(E[Q],ie))}),k}predictBubbleSizes(){var M=this.chart,E=M.legend.options,k=E.floating;const V=(E=E.layout==="horizontal")?M.legend.lastLineHeight:0,G=M.plotSizeX,C=M.plotSizeY;var ie=M.series[this.options.seriesIndex],Q=ie.getPxExtremes();M=Math.ceil(Q.minPxSize),Q=Math.ceil(Q.maxPxSize);const N=Math.min(C,G);return ie=ie.options.maxSize,k||!/%$/.test(ie)?k=Q:(ie=parseFloat(ie),k=(N+V)*ie/100/(ie/100+1),(E&&C-k>=G||!E&&G-k>=C)&&(k=Q)),[M,Math.ceil(k)]}updateRanges(M,E){const k=this.legend.options.bubbleLegend;k.minSize=M,k.maxSize=E,k.ranges=this.getRanges()}correctSizes(){const M=this.legend,E=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(E.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,E.maxPxSize),M.render())}}return O}),s(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],function(l,c,d,m){function n(E,k,V){const G=this.legend;var C=0<=S(this);let ie,Q;G&&G.options.enabled&&G.bubbleLegend&&G.options.bubbleLegend.autoRanges&&C?(ie=G.bubbleLegend.options,C=G.bubbleLegend.predictBubbleSizes(),G.bubbleLegend.updateRanges(C[0],C[1]),ie.placed||(G.group.placed=!1,G.allItems.forEach(N=>{Q=N.legendItem||{},Q.group&&(Q.group.translateY=null)})),G.render(),this.getMargins(),this.axes.forEach(function(N){N.visible&&N.render(),ie.placed||(N.setScale(),N.updateNames(),O(N.ticks,function(F){F.isNew=!0,F.isNewLabel=!0}))}),ie.placed=!0,this.getMargins(),E.call(this,k,V),G.bubbleLegend.correctSizes(),W(G,j(G))):(E.call(this,k,V),G&&G.options.enabled&&G.bubbleLegend&&(G.render(),W(G,j(G))))}function S(E){E=E.series;let k=0;for(;k<E.length;){if(E[k]&&E[k].isBubble&&E[k].visible&&E[k].zData.length)return k;k++}return-1}function j(E){E=E.allItems;const k=[],V=E.length;let G,C,ie=0;for(C=0;C<V;C++){var Q=E[C].legendItem||{};if(G=(E[C+1]||{}).legendItem||{},Q.labelHeight&&(E[C].itemHeight=Q.labelHeight),E[C]===E[V-1]||Q.y!==G.y){for(k.push({height:0}),Q=k[k.length-1],ie;ie<=C;ie++)E[ie].itemHeight>Q.height&&(Q.height=E[ie].itemHeight);Q.step=C}}return k}function J(E){const k=this.bubbleLegend,V=this.options,G=V.bubbleLegend,C=S(this.chart);k&&k.ranges&&k.ranges.length&&(G.ranges.length&&(G.autoRanges=!!G.ranges[0].autoRanges),this.destroyItem(k)),0<=C&&V.enabled&&G.enabled&&(G.seriesIndex=C,this.bubbleLegend=new c(G,this),this.bubbleLegend.addToLegend(E.allItems))}function B(E){if(E.defaultPrevented)return!1;var k=this.chart;E=this.visible;const V=this.chart.legend;V&&V.bubbleLegend&&(this.visible=!E,this.ignoreSeries=E,k=0<=S(k),V.bubbleLegend.visible!==k&&(V.update({bubbleLegend:{enabled:k}}),V.bubbleLegend.visible=k),this.visible=E)}function W(E,k){const V=E.options.rtl;let G,C,ie,Q,N=0;E.allItems.forEach((F,$)=>{Q=F.legendItem||{},Q.group&&(G=Q.group.translateX||0,C=Q.y||0,((ie=F.movementX)||V&&F.ranges)&&(ie=V?G-F.options.maxSize/2:G+ie,Q.group.attr({translateX:ie})),$>k[N].step&&N++,Q.group.attr({translateY:Math.round(C+k[N].height/2)}),Q.y=C+k[N].height/2)})}const{setOptions:K}=d,{addEvent:I,objectEach:O,wrap:H}=m,M=[];return{compose:function(E,k,V){m.pushUnique(M,E)&&(K({legend:{bubbleLegend:l}}),H(E.prototype,"drawChartBox",n)),m.pushUnique(M,k)&&I(k,"afterGetAllItems",J),m.pushUnique(M,V)&&I(V,"legendItemClick",B)}}}),s(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d){({seriesTypes:{scatter:{prototype:{pointClass:c}}}}=c),{extend:d}=d;class m extends c{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(S){return l.prototype.haloPath.call(this,S===0?0:(this.marker&&this.marker.radius||0)+S)}}return d(m.prototype,{ttBelow:!1}),m}),s(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,S){function j(){const Q=this.len,N=this.chart,F=this.isXAxis,$=F?"xData":"yData",w=this.min,L=this.max-w;let f=0,y=Q,b=Q/L,P;this.series.forEach(q=>{if(q.bubblePadding&&(q.visible||!N.options.chart.ignoreHiddenSeries)){P=this.allowZoomOutside=!0;const ee=q[$];if(F&&((q.onPoint||q).getRadii(0,0,q),q.onPoint&&(q.radii=q.onPoint.radii)),0<L){let X=ee.length;for(;X--;)if(k(ee[X])&&this.dataMin<=ee[X]&&ee[X]<=this.max){const ce=q.radii&&q.radii[X]||0;f=Math.min((ee[X]-w)*b-ce,f),y=Math.max((ee[X]-w)*b+ce,y)}}}}),P&&0<L&&!this.logarithmic&&(y-=Q,b*=(Q+Math.max(0,f)-Math.min(y,Q))/Q,[["min","userMin",f],["max","userMax",y]].forEach(q=>{typeof G(this.options[q[0]],this[q[1]])>"u"&&(this[q[0]]+=q[2]/b)}))}const{parse:J}=d;({noop:d}=m);const{series:B,seriesTypes:{column:{prototype:W},scatter:K}}=n,{addEvent:I,arrayMax:O,arrayMin:H,clamp:M,extend:E,isNumber:k,merge:V,pick:G}=S,C=[];class ie extends K{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(N,F,$,w){l.compose(F,$,w),S.pushUnique(C,N)&&(N.prototype.beforePadding=j)}animate(N){!N&&this.points.length<this.options.animationLimit&&this.points.forEach(function(F){const{graphic:$}=F;$&&$.width&&(this.hasRendered||$.attr({x:F.plotX,y:F.plotY,width:1,height:1}),$.animate(this.markerAttribs(F),this.options.animation))},this)}getRadii(){const N=this.zData,F=this.yData,$=[];let w,L,f,y=this.chart.bubbleZExtremes;const{minPxSize:b,maxPxSize:P}=this.getPxExtremes();if(!y){let q=Number.MAX_VALUE,ee=-Number.MAX_VALUE,X;this.chart.series.forEach(ce=>{ce.bubblePadding&&(ce.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(ce=(ce.onPoint||ce).getZExtremes())&&(q=Math.min(G(q,ce.zMin),ce.zMin),ee=Math.max(G(ee,ce.zMax),ce.zMax),X=!0)}),X?(y={zMin:q,zMax:ee},this.chart.bubbleZExtremes=y):y={zMin:0,zMax:0}}for(L=0,w=N.length;L<w;L++)f=N[L],$.push(this.getRadius(y.zMin,y.zMax,b,P,f,F&&F[L]));this.radii=$}getRadius(N,F,$,w,L,f){const y=this.options,b=y.sizeBy!=="width",P=y.zThreshold;let q=F-N,ee=.5;if(f===null||L===null)return null;if(k(L)){if(y.sizeByAbsoluteValue&&(L=Math.abs(L-P),q=Math.max(F-P,Math.abs(N-P)),N=0),L<N)return $/2-1;0<q&&(ee=(L-N)/q)}return b&&0<=ee&&(ee=Math.sqrt(ee)),Math.ceil($+ee*(w-$))/2}hasData(){return!!this.processedXData.length}pointAttribs(N,F){const $=this.options.marker.fillOpacity;return N=B.prototype.pointAttribs.call(this,N,F),$!==1&&(N.fill=J(N.fill).setOpacity($).get("rgba")),N}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:N,radii:F}=this,{minPxSize:$}=this.getPxExtremes();let w=N.length;for(;w--;){const L=N[w],f=F?F[w]:0;k(f)&&f>=$/2?(L.marker=E(L.marker,{radius:f,width:2*f,height:2*f}),L.dlBox={x:L.plotX-f,y:L.plotY-f,width:2*f,height:2*f}):(L.shapeArgs=L.plotY=L.dlBox=void 0,L.isInside=!1)}}getPxExtremes(){const N=Math.min(this.chart.plotWidth,this.chart.plotHeight);var F=w=>{let L;return typeof w=="string"&&(L=/%$/.test(w),w=parseInt(w,10)),L?N*w/100:w};const $=F(G(this.options.minSize,8));return F=Math.max(F(G(this.options.maxSize,"20%")),$),{minPxSize:$,maxPxSize:F}}getZExtremes(){var N=this.options;const F=(this.zData||[]).filter(k);if(F.length){const $=G(N.zMin,M(H(F),N.displayNegative===!1?N.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(N=G(N.zMax,O(F)),k($)&&k(N))return{zMin:$,zMax:N}}}}return ie.defaultOptions=V(K.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:Q}=this.series.chart,{z:N}=this.point;return k(N)?Q(N,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),E(ie.prototype,{alignDataLabel:W.alignDataLabel,applyZones:d,bubblePadding:!0,buildKDTree:d,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:c,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),I(ie,"updatedData",Q=>{delete Q.target.chart.bubbleZExtremes}),I(ie,"remove",Q=>{delete Q.target.chart.bubbleZExtremes}),n.registerSeriesType("bubble",ie),ie}),s(t,"Series/ColumnRange/ColumnRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c){const{seriesTypes:{column:{prototype:{pointClass:{prototype:d}}},arearange:{prototype:{pointClass:m}}}}=l,{extend:n,isNumber:S}=c;class j extends m{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return S(this.low)}}return n(j.prototype,{setState:d.setState}),j}),s(t,"Series/ColumnRange/ColumnRangeSeries.js",[t["Series/ColumnRange/ColumnRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m){({noop:c}=c);const{seriesTypes:{arearange:n,column:S,column:{prototype:j}}}=d,{addEvent:J,clamp:B,extend:W,isNumber:K,merge:I,pick:O}=m;class H extends n{setOptions(){return I(!0,arguments[0],{stacking:void 0}),n.prototype.setOptions.apply(this,arguments)}translate(){return j.translate.apply(this)}pointAttribs(){return j.pointAttribs.apply(this,arguments)}translate3dPoints(){return j.translate3dPoints.apply(this,arguments)}translate3dShapes(){return j.translate3dShapes.apply(this,arguments)}}return H.defaultOptions=I(S.defaultOptions,n.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),J(H,"afterColumnTranslate",function(){const M=this.yAxis,E=this.xAxis,k=E.startAngleRad,V=this.chart,G=this.xAxis.isRadial,C=Math.max(V.chartWidth,V.chartHeight)+999;let ie,Q,N,F;this.points.forEach($=>{const w=$.shapeArgs||{},L=this.options.minPointLength,f=$.plotY,y=M.translate($.high,0,1,0,1);if(K(y)&&K(f))if($.plotHigh=B(y,-C,C),$.plotLow=B(f,-C,C),F=$.plotHigh,ie=O($.rectPlotY,$.plotY)-$.plotHigh,Math.abs(ie)<L?(Q=L-ie,ie+=Q,F-=Q/2):0>ie&&(ie*=-1,F-=ie),G&&this.polar)N=$.barX+k,$.shapeType="arc",$.shapeArgs=this.polar.arc(F+ie,F,N,N+$.pointWidth);else{w.height=ie,w.y=F;const{x:b=0,width:P=0}=w;$.shapeArgs=I($.shapeArgs,this.crispCol(b,F,P,ie)),$.tooltipPos=V.inverted?[M.len+M.pos-V.plotLeft-F-ie/2,E.len+E.pos-V.plotTop-b-P/2,ie]:[E.left-V.plotLeft+b+P/2,M.pos-V.plotTop+F+ie/2,ie]}})},{order:5}),W(H.prototype,{directTouch:!0,pointClass:l,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:j.adjustForMissingColumns,animate:j.animate,crispCol:j.crispCol,drawGraph:c,drawPoints:j.drawPoints,getSymbol:c,drawTracker:j.drawTracker,getColumnMetrics:j.getColumnMetrics}),d.registerSeriesType("columnrange",H),H}),s(t,"Series/ColumnPyramid/ColumnPyramidSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d){const{prototype:m}=l,{clamp:n,merge:S,pick:j}=d;class J extends l{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let W=this,K=W.chart,I=W.options;var O=W.dense=2>W.closestPointRange*W.xAxis.transA;O=W.borderWidth=j(I.borderWidth,O?0:1);let H=W.yAxis,M=I.threshold,E=W.translatedThreshold=H.getThreshold(M),k=j(I.minPointLength,5),V=W.getColumnMetrics(),G=V.width,C=W.barW=Math.max(G,1+2*O),ie=W.pointXOffset=V.offset;K.inverted&&(E-=.5),I.pointPadding&&(C=Math.ceil(C)),m.translate.apply(W),W.points.forEach(function(Q){var N=j(Q.yBottom,E),F=999+Math.abs(N),$=n(Q.plotY,-F,H.len+F);F=Q.plotX+ie;let w=C/2,L=Math.min($,N);N=Math.max($,N)-L;var f;let y,b;Q.barX=F,Q.pointWidth=G,Q.tooltipPos=K.inverted?[H.len+H.pos-K.plotLeft-$,W.xAxis.len-F-w,N]:[F+w,$+H.pos-K.plotTop,N],$=M+(Q.total||Q.y),I.stacking==="percent"&&($=M+(0>Q.y)?-100:100),$=H.toPixels($,!0);var P=(f=K.plotHeight-$-(K.plotHeight-E))?w*(L-$)/f:0,q=f?w*(L+N-$)/f:0;f=F-P+w,P=F+P+w;var ee=F+q+w;q=F-q+w,y=L-k,b=L+N,0>Q.y&&(y=L,b=L+N+k),K.inverted&&(ee=H.width-L,f=$-(H.width-E),P=w*($-ee)/f,q=w*($-(ee-N))/f,f=F+w+P,P=f-2*P,ee=F-q+w,q=F+q+w,y=L,b=L+N-k,0>Q.y&&(b=L+N+k)),Q.shapeType="path",Q.shapeArgs={x:f,y,width:P-f,height:N,d:[["M",f,y],["L",P,y],["L",ee,b],["L",q,b],["Z"]]}})}}return J.defaultOptions=S(l.defaultOptions,{}),c.registerSeriesType("columnpyramid",J),J}),s(t,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),s(t,"Series/ErrorBar/ErrorBarSeries.js",[t["Series/BoxPlot/BoxPlotSeries.js"],t["Series/Column/ColumnSeries.js"],t["Series/ErrorBar/ErrorBarSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){const{arearange:S}=m.seriesTypes,{addEvent:j,merge:J,extend:B}=n;class W extends l{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||c.prototype.getColumnMetrics.call(this)}drawDataLabels(){const I=this.pointValKey;S&&(S.prototype.drawDataLabels.call(this),this.data.forEach(function(O){O.y=O[I]}))}toYData(I){return[I.low,I.high]}}return W.defaultOptions=J(l.defaultOptions,d),j(W,"afterTranslate",function(){this.points.forEach(K=>{K.plotLow=K.plotY})},{order:0}),B(W.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),m.registerSeriesType("errorbar",W),W}),s(t,"Series/Gauge/GaugePoint.js",[t["Core/Series/SeriesRegistry.js"]],function(l){({series:{prototype:{pointClass:l}}}=l);class c extends l{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(m){this.state=m}}return c}),s(t,"Series/Gauge/GaugeSeries.js",[t["Series/Gauge/GaugePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m){({noop:c}=c);const{series:n,seriesTypes:{column:S}}=d,{clamp:j,isNumber:J,extend:B,merge:W,pick:K,pInt:I,defined:O}=m;class H extends n{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const E=this.yAxis,k=this.options,V=E.center;this.generatePoints(),this.points.forEach(G=>{const C=W(k.dial,G.dial),ie=I(C.radius)*V[2]/200,Q=I(C.baseLength)*ie/100,N=I(C.rearLength)*ie/100,F=C.baseWidth,$=C.topWidth;let w=k.overshoot,L=E.startAngleRad+E.translate(G.y,void 0,void 0,void 0,!0);(J(w)||k.wrap===!1)&&(w=J(w)?w/180*Math.PI:0,L=j(L,E.startAngleRad-w,E.endAngleRad+w)),L=180*L/Math.PI,G.shapeType="path",G.shapeArgs={d:C.path||[["M",-N,-F/2],["L",Q,-F/2],["L",ie,-$/2],["L",ie,$/2],["L",Q,F/2],["L",-N,F/2],["Z"]],translateX:V[0],translateY:V[1],rotation:L},G.plotX=V[0],G.plotY=V[1],O(G.y)&&E.max-E.min&&(G.percentage=(G.y-E.min)/(E.max-E.min)*100)})}drawPoints(){const E=this,k=E.chart,V=E.yAxis.center,G=E.pivot,C=E.options,ie=C.pivot,Q=k.renderer;E.points.forEach(N=>{const F=N.graphic,$=N.shapeArgs,w=$.d,L=W(C.dial,N.dial);F?(F.animate($),$.d=w):N.graphic=Q[N.shapeType]($).addClass("highcharts-dial").add(E.group),k.styledMode||N.graphic[F?"animate":"attr"]({stroke:L.borderColor,"stroke-width":L.borderWidth,fill:L.backgroundColor})}),G?G.animate({translateX:V[0],translateY:V[1]}):ie&&(E.pivot=Q.circle(0,0,ie.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(V[0],V[1]).add(E.group),k.styledMode||E.pivot.attr({fill:ie.backgroundColor,stroke:ie.borderColor,"stroke-width":ie.borderWidth}))}animate(E){const k=this;E||k.points.forEach(V=>{const G=V.graphic;G&&(G.attr({rotation:180*k.yAxis.startAngleRad/Math.PI}),G.animate({rotation:V.shapeArgs.rotation},k.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),n.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(E,k){n.prototype.setData.call(this,E,!1),this.processData(),this.generatePoints(),K(k,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return H.defaultOptions=W(n.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),B(H.prototype,{angular:!0,directTouch:!0,drawGraph:c,drawTracker:S.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:l,trackerGroups:["group","dataLabelsGroup"]}),d.registerSeriesType("gauge",H),H}),s(t,"Series/DragNodesComposition.js",[t["Core/Utilities.js"]],function(l){function c(){const n=this;let S,j,J;n.container&&(S=d(n.container,"mousedown",B=>{const W=n.hoverPoint;W&&W.series&&W.series.hasDraggableNodes&&W.series.options.draggable&&(W.series.onMouseDown(W,B),j=d(n.container,"mousemove",K=>W&&W.series&&W.series.onMouseMove(W,K)),J=d(n.container.ownerDocument,"mouseup",K=>(j(),J(),W&&W.series&&W.series.onMouseUp(W,K))))})),d(n,"destroy",function(){S()})}const{addEvent:d}=l,m=[];return{compose:function(n){l.pushUnique(m,n)&&d(n,"load",c)},onMouseDown:function(n,S){S=this.chart.pointer.normalize(S),n.fixedPosition={chartX:S.chartX,chartY:S.chartY,plotX:n.plotX,plotY:n.plotY},n.inDragMode=!0},onMouseMove:function(n,S){if(n.fixedPosition&&n.inDragMode){const B=this.chart;S=B.pointer.normalize(S);var j=n.fixedPosition.chartX-S.chartX,J=n.fixedPosition.chartY-S.chartY;S=B.graphLayoutsLookup,(5<Math.abs(j)||5<Math.abs(J))&&(j=n.fixedPosition.plotX-j,J=n.fixedPosition.plotY-J,B.isInsidePlot(j,J)&&(n.plotX=j,n.plotY=J,n.hasDragged=!0,this.redrawHalo(n),S.forEach(W=>{W.restartSimulation()})))}},onMouseUp:function(n,S){n.fixedPosition&&(n.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),n.inDragMode=n.hasDragged=!1,this.options.fixedDraggable||delete n.fixedPosition)},redrawHalo:function(n){n&&this.halo&&this.halo.attr({d:n.haloPath(this.options.states.hover.halo.size)})}}}),s(t,"Series/GraphLayoutComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Utilities.js"]],function(l,c){function d(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(W=>{W.updateSimulation()}),this.redraw())}function m(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(W=>{W.updateSimulation(!1)}),this.redraw())}function n(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(W=>{W.stop()})}function S(){let W,K=!1;const I=O=>{O.maxIterations--&&isFinite(O.temperature)&&!O.isStable()&&!O.enableSimulation&&(O.beforeStep&&O.beforeStep(),O.step(),W=!1,K=!0)};if(this.graphLayoutsLookup){for(j(!1,this),this.graphLayoutsLookup.forEach(O=>O.start());!W;)W=!0,this.graphLayoutsLookup.forEach(I);K&&this.series.forEach(O=>{O&&O.layout&&O.render()})}}const{setAnimation:j}=l,{addEvent:J}=c,B=[];return{compose:function(W){c.pushUnique(B,W)&&(J(W,"afterPrint",d),J(W,"beforePrint",m),J(W,"predraw",n),J(W,"render",S))},integrations:{},layouts:{}}}),s(t,"Series/PackedBubble/PackedBubblePoint.js",[t["Core/Chart/Chart.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"]],function(l,c,d){({seriesTypes:{bubble:{prototype:{pointClass:d}}}}=d);class m extends d{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),c.prototype.destroy.apply(this,arguments)}firePointEvent(){const S=this.series.options;if(this.isParentNode&&S.parentNode){const j=S.allowPointSelect;S.allowPointSelect=S.parentNode.allowPointSelect,c.prototype.firePointEvent.apply(this,arguments),S.allowPointSelect=j}else c.prototype.firePointEvent.apply(this,arguments)}select(){const S=this.series.chart;this.isParentNode?(S.getSelectedPoints=S.getSelectedParentNodes,c.prototype.select.apply(this,arguments),S.getSelectedPoints=l.prototype.getSelectedPoints):c.prototype.select.apply(this,arguments)}}return m}),s(t,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[t["Core/Utilities.js"]],function(l){const{isNumber:c}=l;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:d}=this.series.chart,{value:m}=this.point;return c(m)?d(m,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),s(t,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(l,c,d){const m=l.getMass(),n=-d.x*c*this.diffTemperature;c=-d.y*c*this.diffTemperature,l.fromNode.fixedPosition||(l.fromNode.plotX-=n*m.fromNode/l.fromNode.degree,l.fromNode.plotY-=c*m.fromNode/l.fromNode.degree),l.toNode.fixedPosition||(l.toNode.plotX+=n*m.toNode/l.toNode.degree,l.toNode.plotY+=c*m.toNode/l.toNode.degree)},attractiveForceFunction:function(l,c){return(c-l)/l},barycenter:function(){let l=this.options.gravitationalConstant,c=this.barycenter.xFactor,d=this.barycenter.yFactor;c=(c-(this.box.left+this.box.width)/2)*l,d=(d-(this.box.top+this.box.height)/2)*l,this.nodes.forEach(function(m){m.fixedPosition||(m.plotX-=c/m.mass/m.degree,m.plotY-=d/m.mass/m.degree)})},getK:function(l){return Math.pow(l.box.width*l.box.height/l.nodes.length,.5)},integrate:function(l,c){var d=-l.options.friction;let m=l.options.maxSpeed,n=(c.plotX+c.dispX-c.prevX)*d;d*=c.plotY+c.dispY-c.prevY;var S=Math.abs;let j=S(n)/(n||1);S=S(d)/(d||1),n=j*Math.min(m,Math.abs(n)),d=S*Math.min(m,Math.abs(d)),c.prevX=c.plotX+c.dispX,c.prevY=c.plotY+c.dispY,c.plotX+=n,c.plotY+=d,c.temperature=l.vectorLength({x:n,y:d})},repulsive:function(l,c,d){c=c*this.diffTemperature/l.mass/l.degree,l.fixedPosition||(l.plotX+=d.x*c,l.plotY+=d.y*c)},repulsiveForceFunction:function(l,c){return(c-l)/l*(c>l?1:0)}}}),s(t,"Series/PackedBubble/PackedBubbleIntegration.js",[t["Core/Globals.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(l,c){return{noop:l}=l,{barycenter:function(){const d=this.options.gravitationalConstant,m=this.box,n=this.nodes;let S,j;for(const J of n)this.options.splitSeries&&!J.isParentNode?(S=J.series.parentNode.plotX,j=J.series.parentNode.plotY):(S=m.width/2,j=m.height/2),J.fixedPosition||(J.plotX-=(J.plotX-S)*d/(J.mass*Math.sqrt(n.length)),J.plotY-=(J.plotY-j)*d/(J.mass*Math.sqrt(n.length)))},getK:l,integrate:c.integrate,repulsive:function(d,m,n,S){const j=m*this.diffTemperature/d.mass/d.degree;m=n.x*j,n=n.y*j,d.fixedPosition||(d.plotX+=m,d.plotY+=n),S.fixedPosition||(S.plotX-=m,S.plotY-=n)},repulsiveForceFunction:function(d,m,n,S){return Math.min(d,(n.marker.radius+S.marker.radius)/2)}}}),s(t,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(l,c,d,m){const n=l.getMass(),S=d.x/m*c;c*=d.y/m,l.fromNode.fixedPosition||(l.fromNode.dispX-=S*n.fromNode/l.fromNode.degree,l.fromNode.dispY-=c*n.fromNode/l.fromNode.degree),l.toNode.fixedPosition||(l.toNode.dispX+=S*n.toNode/l.toNode.degree,l.toNode.dispY+=c*n.toNode/l.toNode.degree)},attractiveForceFunction:function(l,c){return l*l/c},barycenter:function(){const l=this.options.gravitationalConstant,c=this.barycenter.xFactor,d=this.barycenter.yFactor;this.nodes.forEach(function(m){if(!m.fixedPosition){var n=m.getDegree();n*=1+n/2,m.dispX+=(c-m.plotX)*l*n/m.degree,m.dispY+=(d-m.plotY)*l*n/m.degree}})},getK:function(l){return Math.pow(l.box.width*l.box.height/l.nodes.length,.3)},integrate:function(l,c){let d;c.dispX+=c.dispX*l.options.friction,c.dispY+=c.dispY*l.options.friction,d=c.temperature=l.vectorLength({x:c.dispX,y:c.dispY}),d!==0&&(c.plotX+=c.dispX/d*Math.min(Math.abs(c.dispX),l.temperature),c.plotY+=c.dispY/d*Math.min(Math.abs(c.dispY),l.temperature))},repulsive:function(l,c,d,m){l.dispX+=d.x/m*c/l.degree,l.dispY+=d.y/m*c/l.degree},repulsiveForceFunction:function(l,c){return c*c/l}}}),s(t,"Series/Networkgraph/QuadTreeNode.js",[],function(){class l{constructor(d){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=d,this.boxSize=Math.min(d.width,d.height)}divideBox(){const d=this.box.width/2,m=this.box.height/2;this.nodes[0]=new l({left:this.box.left,top:this.box.top,width:d,height:m}),this.nodes[1]=new l({left:this.box.left+d,top:this.box.top,width:d,height:m}),this.nodes[2]=new l({left:this.box.left+d,top:this.box.top+m,width:d,height:m}),this.nodes[3]=new l({left:this.box.left,top:this.box.top+m,width:d,height:m})}getBoxPosition(d){const m=d.plotY<this.box.top+this.box.height/2;return d.plotX<this.box.left+this.box.width/2?m?0:3:m?1:2}insert(d,m){this.isInternal?this.nodes[this.getBoxPosition(d)].insert(d,m-1):(this.isEmpty=!1,this.body?m?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,m-1),this.body=!0),this.nodes[this.getBoxPosition(d)].insert(d,m-1)):(m=new l({top:d.plotX||NaN,left:d.plotY||NaN,width:.1,height:.1}),m.body=d,m.isInternal=!1,this.nodes.push(m)):(this.isInternal=!1,this.body=d))}updateMassAndCenter(){let d=0,m=0,n=0;if(this.isInternal){for(const S of this.nodes)S.isEmpty||(d+=S.mass,m+=S.plotX*S.mass,n+=S.plotY*S.mass);m/=d,n/=d}else this.body&&(d=this.body.mass,m=this.body.plotX,n=this.body.plotY);this.mass=d,this.plotX=m,this.plotY=n}}return l}),s(t,"Series/Networkgraph/QuadTree.js",[t["Series/Networkgraph/QuadTreeNode.js"]],function(l){class c{constructor(m,n,S,j){this.box={left:m,top:n,width:S,height:j},this.maxDepth=25,this.root=new l(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(m){m.updateMassAndCenter()})}insertNodes(m){for(const n of m)this.root.insert(n,this.maxDepth)}visitNodeRecursive(m,n,S){let j;if(m||(m=this.root),m===this.root&&n&&(j=n(m)),j!==!1){for(const J of m.nodes){if(J.isInternal){if(n&&(j=n(J)),j===!1)continue;this.visitNodeRecursive(J,n,S)}else J.body&&n&&n(J.body);S&&S(J)}m===this.root&&S&&S(m)}}}return c}),s(t,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[t["Series/Networkgraph/EulerIntegration.js"],t["Core/Globals.js"],t["Series/GraphLayoutComposition.js"],t["Series/Networkgraph/QuadTree.js"],t["Core/Utilities.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(l,c,d,m,n,S){const{win:j}=c,{clamp:J,defined:B,isFunction:W,fireEvent:K,pick:I}=n;class O{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(M){d.compose(M),d.integrations.euler=l,d.integrations.verlet=S,d.layouts["reingold-fruchterman"]=O}init(M){this.options=M,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=d.integrations[M.integration],this.enableSimulation=M.enableSimulation,this.attractiveForce=I(M.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=I(M.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=M.approximation}updateSimulation(M){this.enableSimulation=I(M,this.options.enableSimulation)}start(){const M=this.series,E=this.options;this.currentStep=0,this.forces=M[0]&&M[0].forces||[],this.chart=M[0]&&M[0].chart,this.initialRendering&&(this.initPositions(),M.forEach(function(k){k.finishedAnimating=!0,k.render()})),this.setK(),this.resetSimulation(E),this.enableSimulation&&this.step()}step(){const M=this.series;this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const E of this.forces||[])this[E+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const E of M)E.chart&&E.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&j.cancelAnimationFrame(this.simulation),this.simulation=j.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(E=>{K(E,"afterSimulation")}))}}stop(){this.simulation&&j.cancelAnimationFrame(this.simulation)}setArea(M,E,k,V){this.box={left:M,top:E,width:k,height:V}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(M,E){for(const k of M)E.indexOf(k)===-1&&E.push(k)}removeElementFromCollection(M,E){M=E.indexOf(M),M!==-1&&E.splice(M,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(M){this.maxIterations=I(M,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(M){this.initialRendering=M}createQuadTree(){this.quadTree=new m(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const M=this.options.initialPositions;if(W(M)){M.call(this);for(const E of this.nodes)B(E.prevX)||(E.prevX=E.plotX),B(E.prevY)||(E.prevY=E.plotY),E.dispX=0,E.dispY=0}else M==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const M=this.box;var E=this.nodes;const k=2*Math.PI/(E.length+1),V=E.filter(function(N){return N.linksTo.length===0}),G={},C=this.options.initialPositionRadius,ie=N=>{for(const F of N.linksFrom||[])G[F.toNode.id]||(G[F.toNode.id]=!0,Q.push(F.toNode),ie(F.toNode))};let Q=[];for(const N of V)Q.push(N),ie(N);if(Q.length)for(const N of E)Q.indexOf(N)===-1&&Q.push(N);else Q=E;for(let N=0,F=Q.length;N<F;++N)E=Q[N],E.plotX=E.prevX=I(E.plotX,M.width/2+C*Math.cos(N*k)),E.plotY=E.prevY=I(E.plotY,M.height/2+C*Math.sin(N*k)),E.dispX=0,E.dispY=0}setRandomPositions(){const M=this.box,E=this.nodes,k=E.length+1,V=C=>(C=C*C/Math.PI,C-=Math.floor(C));let G;for(let C=0,ie=E.length;C<ie;++C)G=E[C],G.plotX=G.prevX=I(G.plotX,M.width*V(C)),G.plotY=G.prevY=I(G.plotY,M.height*V(k+C)),G.dispX=0,G.dispY=0}force(M,...E){this.integration[M].apply(this,E)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let M=0,E=0,k=0;for(const V of this.nodes)E+=V.plotX*V.mass,k+=V.plotY*V.mass,M+=V.mass;return this.barycenter={x:E,y:k,xFactor:E/M,yFactor:k/M}}barnesHutApproximation(M,E){const k=this.getDistXY(M,E),V=this.vectorLength(k);let G,C;return M!==E&&V!==0&&(E.isInternal?E.boxSize/V<this.options.theta&&V!==0?(C=this.repulsiveForce(V,this.k),this.force("repulsive",M,C*E.mass,k,V),G=!1):G=!0:(C=this.repulsiveForce(V,this.k),this.force("repulsive",M,C*E.mass,k,V))),G}repulsiveForces(){if(this.approximation==="barnes-hut")for(const M of this.nodes)this.quadTree.visitNodeRecursive(null,E=>this.barnesHutApproximation(M,E));else{let M,E,k;for(const V of this.nodes)for(const G of this.nodes)V===G||V.fixedPosition||(k=this.getDistXY(V,G),E=this.vectorLength(k),E!==0&&(M=this.repulsiveForce(E,this.k),this.force("repulsive",V,M*G.mass,k,E)))}}attractiveForces(){let M,E,k;for(const V of this.links)V.fromNode&&V.toNode&&(M=this.getDistXY(V.fromNode,V.toNode),E=this.vectorLength(M),E!==0&&(k=this.attractiveForce(E,this.k),this.force("attractive",V,k,M,E)))}applyLimits(){const M=this.nodes;for(const E of M){if(E.fixedPosition)break;this.integration.integrate(this,E),this.applyLimitBox(E,this.box),E.dispX=0,E.dispY=0}}applyLimitBox(M,E){const k=M.radius;M.plotX=J(M.plotX,E.left+k,E.width-k),M.plotY=J(M.plotY,E.top+k,E.height-k)}coolDown(M,E,k){return M-E*k}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let M=0;for(const E of this.nodes)M+=E.temperature;return M}vectorLength(M){return Math.sqrt(M.x*M.x+M.y*M.y)}getDistR(M,E){return M=this.getDistXY(M,E),this.vectorLength(M)}getDistXY(M,E){const k=M.plotX-E.plotX;return M=M.plotY-E.plotY,{x:k,y:M,absX:Math.abs(k),absY:Math.abs(M)}}}return O}),s(t,"Series/PackedBubble/PackedBubbleLayout.js",[t["Series/GraphLayoutComposition.js"],t["Series/PackedBubble/PackedBubbleIntegration.js"],t["Series/Networkgraph/ReingoldFruchtermanLayout.js"],t["Core/Utilities.js"]],function(l,c,d,m){function n(){const K=[];return this.series.forEach(I=>{I.parentNode&&I.parentNode.selected&&K.push(I.parentNode)}),K}function S(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:j,pick:J}=m,B=[];class W extends d{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(I){d.compose(I),l.integrations.packedbubble=c,l.layouts.packedbubble=W,m.pushUnique(B,I)&&(j(I,"beforeRedraw",S),I.prototype.getSelectedParentNodes=n)}beforeStep(){this.options.marker&&this.series.forEach(I=>{I&&I.calculateParentRadius()})}isStable(){const I=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>I||0>=this.temperature}setCircularPositions(){const I=this.box;var O=this.nodes;const H=2*Math.PI/(O.length+1),M=this.options.initialPositionRadius;let E,k=0;for(const V of O)this.options.splitSeries&&!V.isParentNode?(O=V.series.parentNode.plotX,E=V.series.parentNode.plotY):(O=I.width/2,E=I.height/2),V.plotX=V.prevX=J(V.plotX,O+M*Math.cos(V.index||k*H)),V.plotY=V.prevY=J(V.plotY,E+M*Math.sin(V.index||k*H)),V.dispX=0,V.dispY=0,k++}repulsiveForces(){const I=this,O=I.options.bubblePadding;let H,M,E;I.nodes.forEach(k=>{k.degree=k.mass,k.neighbours=0,I.nodes.forEach(V=>{H=0,k===V||k.fixedPosition||!I.options.seriesInteraction&&k.series!==V.series||(E=I.getDistXY(k,V),M=I.vectorLength(E)-(k.marker.radius+V.marker.radius+O),0>M&&(k.degree+=.01,k.neighbours++,H=I.repulsiveForce(-M/Math.sqrt(k.neighbours),I.k,k,V)),I.force("repulsive",k,H*V.mass,E,V,M))})})}applyLimitBox(I,O){let H,M;this.options.splitSeries&&!I.isParentNode&&this.options.parentNodeLimit&&(H=this.getDistXY(I,I.series.parentNode),M=I.series.parentNodeRadius-I.marker.radius-this.vectorLength(H),0>M&&M>-2*I.marker.radius&&(I.plotX-=.01*H.x,I.plotY-=.01*H.y)),super.applyLimitBox(I,O)}}return l.layouts.packedbubble=W}),s(t,"Series/SimulationSeriesUtilities.js",[t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(l,c){const{syncTimeout:d}=l,{animObject:m}=c;return{initDataLabels:function(){const n=this.options.dataLabels;if(!this.dataLabelsGroup){const S=this.initDataLabelsGroup();return!this.chart.styledMode&&(n!=null&&n.style)&&S.css(n.style),S.attr({opacity:0}),this.visible&&S.show(),S}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var n;const S=this.options.dataLabels;S!=null&&S.defer&&(!((n=this.options.layoutAlgorithm)===null||n===void 0)&&n.enableSimulation)?d(()=>{this.deferDataLabels=!1},S?m(S.animation).defer:0):this.deferDataLabels=!1}}}),s(t,"Series/PackedBubble/PackedBubbleSeries.js",[t["Core/Color/Color.js"],t["Series/DragNodesComposition.js"],t["Series/GraphLayoutComposition.js"],t["Core/Globals.js"],t["Series/PackedBubble/PackedBubblePoint.js"],t["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],t["Series/PackedBubble/PackedBubbleLayout.js"],t["Core/Series/SeriesRegistry.js"],t["Series/SimulationSeriesUtilities.js"],t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(l,c,d,m,n,S,j,J,B,W,K){const{parse:I}=l;({noop:l}=m);const{series:{prototype:O},seriesTypes:{bubble:H}}=J,{initDataLabels:M,initDataLabelsDefer:E}=B,{addEvent:k,clamp:V,defined:G,extend:C,fireEvent:ie,isArray:Q,isNumber:N,merge:F,pick:$}=W;class w extends H{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(f,y,b,P){H.compose(f,y,b,P),c.compose(y),j.compose(y)}accumulateAllPoints(){const f=this.chart,y=[];let b;for(const P of f.series)if(P.is("packedbubble")&&P.visible||!f.options.chart.ignoreHiddenSeries){b=P.yData||[];for(let q=0;q<b.length;q++)y.push([null,null,b[q],P.index,q,{id:q,marker:{radius:0}}])}return y}addLayout(){const f=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},y=f.type||"packedbubble",b=this.chart.options.chart;let P=this.chart.graphLayoutsStorage,q=this.chart.graphLayoutsLookup,ee;P||(this.chart.graphLayoutsStorage=P={},this.chart.graphLayoutsLookup=q=[]),ee=P[y],ee||(f.enableSimulation=G(b.forExport)?!b.forExport:f.enableSimulation,P[y]=ee=new d.layouts[y],ee.init(f),q.splice(ee.index,0,ee)),this.layout=ee,this.points.forEach(X=>{X.mass=2,X.degree=1,X.collisionNmb=1}),ee.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),ee.addElementsToCollection([this],ee.series),ee.addElementsToCollection(this.points,ee.nodes)}addSeriesLayout(){var f=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const y=f.type||"packedbubble",b=this.chart.graphLayoutsStorage,P=this.chart.graphLayoutsLookup;f=F(f,f.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let q=b[y+"-series"];q||(b[y+"-series"]=q=new d.layouts[y],q.init(f),P.splice(q.index,0,q)),this.parentNodeLayout=q,this.createParentNodes()}calculateParentRadius(){const f=this.seriesBox();this.parentNodeRadius=V(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,f?Math.max(Math.sqrt(Math.pow(f.width,2)+Math.pow(f.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let f=this.options.zMin,y=this.options.zMax,b=1/0,P=-1/0;return f&&y?[f,y]:(this.chart.series.forEach(q=>{q.yData.forEach(ee=>{G(ee)&&(ee>P&&(P=ee),ee<b&&(b=ee))})}),f=$(f,b),y=$(y,P),[f,y])}checkOverlap(f,y){const b=f[0]-y[0],P=f[1]-y[1];return-.001>Math.sqrt(b*b+P*P)-Math.abs(f[2]+y[2])}createParentNodes(){const f=this.pointClass,y=this.chart,b=this.parentNodeLayout,P=this.layout.options;let q,ee=this.parentNode,X={radius:this.parentNodeRadius,lineColor:this.color,fillColor:I(this.color).brighten(.4).get()};P.parentNodeOptions&&(X=F(P.parentNodeOptions.marker||{},X)),this.parentNodeMass=0,this.points.forEach(ce=>{this.parentNodeMass+=Math.PI*Math.pow(ce.marker.radius,2)}),this.calculateParentRadius(),b.nodes.forEach(ce=>{ce.seriesIndex===this.index&&(q=!0)}),b.setArea(0,0,y.plotWidth,y.plotHeight),q||(ee||(ee=new f().init(this,{mass:this.parentNodeRadius/2,marker:X,dataLabels:{inside:!1},states:{normal:{marker:X},hover:{marker:X}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(ee.plotX=this.parentNode.plotX,ee.plotY=this.parentNode.plotY),this.parentNode=ee,b.addElementsToCollection([this],b.series),b.addElementsToCollection([ee],b.nodes))}deferLayout(){const f=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),f.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(f=>{f.removeElementFromCollection(this,f.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),O.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(O.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",O.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(this.layout&&this.layout.options.splitSeries){var f=this.chart,y=this.layout.options.parentNodeOptions.marker;y={fill:y.fillColor||I(this.color).brighten(.4).get(),opacity:y.fillOpacity,stroke:y.lineColor||this.color,"stroke-width":$(y.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,f.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var b=F({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},y);this.parentNode.graphic||(this.graph=this.parentNode.graphic=f.renderer.symbol(y.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(b)}}drawTracker(){const f=this.parentNode;let y;super.drawTracker(),f&&(y=Q(f.dataLabels)?f.dataLabels:f.dataLabel?[f.dataLabel]:[],f.graphic&&(f.graphic.element.point=f),y.forEach(b=>{b.div?b.div.point=f:b.element.point=f}))}getPointRadius(){const f=this.chart,y=this.options,b=y.useSimulation,P=Math.min(f.plotWidth,f.plotHeight),q={},ee=[],X=f.allDataPoints||[],ce=X.length;let fe,Te,Z,re;["minSize","maxSize"].forEach(ye=>{const Ie=parseInt(y[ye],10),ae=/%$/.test(y[ye]);q[ye]=ae?P*Ie/100:Ie*Math.sqrt(ce)}),f.minRadius=fe=q.minSize/Math.sqrt(ce),f.maxRadius=Te=q.maxSize/Math.sqrt(ce);const ue=b?this.calculateZExtremes():[fe,Te];X.forEach((ye,Ie)=>{Z=b?V(ye[2],ue[0],ue[1]):ye[2],re=this.getRadius(ue[0],ue[1],fe,Te,Z),re===0&&(re=null),X[Ie][2]=re,ee.push(re)}),this.radii=ee}init(){return O.init.apply(this,arguments),E.call(this),this.eventsToUnbind.push(k(this,"updatedData",function(){this.chart.series.forEach(f=>{f.type===this.type&&(f.isDirty=!0)},this)})),this}onMouseUp(f){const y=f;if(y.fixedPosition&&!y.removed){const b=this.layout,P=this.parentNodeLayout;let q,ee;P&&b.options.dragBetweenSeries&&P.nodes.forEach(X=>{y&&y.marker&&X!==y.series.parentNode&&(q=b.getDistXY(y,X),ee=b.vectorLength(q)-X.marker.radius-y.marker.radius,0>ee&&(X.series.addPoint(F(y.options,{plotX:y.plotX,plotY:y.plotY}),!1),b.removeElementFromCollection(y,b.nodes),y.remove()))}),c.onMouseUp.apply(this,arguments)}}placeBubbles(f){const y=this.checkOverlap,b=this.positionBubble,P=[];let q=1,ee=0,X=0;var ce=[];let fe;if(f=f.sort((Te,Z)=>Z[2]-Te[2]),f.length){if(P.push([[0,0,f[0][2],f[0][3],f[0][4]]]),1<f.length)for(P.push([[0,0-f[1][2]-f[0][2],f[1][2],f[1][3],f[1][4]]]),fe=2;fe<f.length;fe++)f[fe][2]=f[fe][2]||1,ce=b(P[q][ee],P[q-1][X],f[fe]),y(ce,P[q][0])?(P.push([]),X=0,P[q+1].push(b(P[q][ee],P[q][0],f[fe])),q++,ee=0):1<q&&P[q-1][X+1]&&y(ce,P[q-1][X+1])?(X++,P[q].push(b(P[q][ee],P[q-1][X],f[fe])),ee++):(ee++,P[q].push(ce));this.chart.stages=P,this.chart.rawPositions=[].concat.apply([],P),this.resizeRadius(),ce=this.chart.rawPositions}return ce}pointAttribs(f,y){var b=this.options;let P=b.marker;return f&&f.isParentNode&&b.layoutAlgorithm&&b.layoutAlgorithm.parentNodeOptions&&(P=b.layoutAlgorithm.parentNodeOptions.marker),b=P.fillOpacity,f=O.pointAttribs.call(this,f,y),b!==1&&(f["fill-opacity"]=b),f}positionBubble(f,y,b){var P=Math.sqrt,q=Math.asin,ee=Math.acos;const X=Math.pow,ce=Math.abs;return P=P(X(f[0]-y[0],2)+X(f[1]-y[1],2)),ee=ee((X(P,2)+X(b[2]+y[2],2)-X(b[2]+f[2],2))/(2*(b[2]+y[2])*P)),q=q(ce(f[0]-y[0])/P),f=(0>f[1]-y[1]?0:Math.PI)+ee+q*(0>(f[0]-y[0])*(f[1]-y[1])?1:-1),[y[0]+(y[2]+b[2])*Math.sin(f),y[1]-(y[2]+b[2])*Math.cos(f),b[2],b[3],b[4]]}render(){const f=[];O.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(y=>{Q(y.dataLabels)&&y.dataLabels.forEach(b=>{f.push(b)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(f))}resizeRadius(){const f=this.chart,y=f.rawPositions;var b=Math.min,P=Math.max;const q=f.plotLeft,ee=f.plotTop,X=f.plotHeight,ce=f.plotWidth;let fe,Te,Z,re,ue;fe=Z=Number.POSITIVE_INFINITY,Te=re=Number.NEGATIVE_INFINITY;for(const ye of y)ue=ye[2],fe=b(fe,ye[0]-ue),Te=P(Te,ye[0]+ue),Z=b(Z,ye[1]-ue),re=P(re,ye[1]+ue);if(P=[Te-fe,re-Z],b=b.apply([],[(ce-q)/P[0],(X-ee)/P[1]]),1e-10<Math.abs(b-1)){for(const ye of y)ye[2]*=b;this.placeBubbles(y)}else f.diffY=X/2+ee-Z-(re-Z)/2,f.diffX=ce/2+q-fe-(Te-fe)/2}seriesBox(){const f=this.chart,y=Math.max,b=Math.min,P=[f.plotLeft,f.plotLeft+f.plotWidth,f.plotTop,f.plotTop+f.plotHeight];let q;return this.data.forEach(ee=>{G(ee.plotX)&&G(ee.plotY)&&ee.marker.radius&&(q=ee.marker.radius,P[0]=b(P[0],ee.plotX-q),P[1]=y(P[1],ee.plotX+q),P[2]=b(P[2],ee.plotY-q),P[3]=y(P[3],ee.plotY+q))}),N(P.width/P.height)?P:null}setVisible(){const f=this;O.setVisible.apply(f,arguments),f.parentNodeLayout&&f.graph?f.visible?(f.graph.show(),f.parentNode.dataLabel&&f.parentNode.dataLabel.show()):(f.graph.hide(),f.parentNodeLayout.removeElementFromCollection(f.parentNode,f.parentNodeLayout.nodes),f.parentNode.dataLabel&&f.parentNode.dataLabel.hide()):f.layout&&(f.visible?f.layout.addElementsToCollection(f.points,f.layout.nodes):f.points.forEach(y=>{f.layout.removeElementFromCollection(y,f.layout.nodes)}))}translate(){const f=this.chart,y=this.data,b=this.index,P=this.options.useSimulation;let q;if(this.processedXData=this.xData,this.generatePoints(),G(f.allDataPoints)||(f.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),P)var ee=f.allDataPoints;else ee=this.placeBubbles(f.allDataPoints),this.options.draggable=!1;for(const X of ee)X[3]===b&&(ee=y[X[4]],q=$(X[2],void 0),P||(ee.plotX=X[0]-f.plotLeft+f.diffX,ee.plotY=X[1]-f.plotTop+f.diffY),N(q)&&(ee.marker=C(ee.marker,{radius:q,width:2*q,height:2*q}),ee.radius=q));P&&this.deferLayout(),ie(this,"afterTranslate")}}return w.defaultOptions=F(H.defaultOptions,S),C(w.prototype,{pointClass:n,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:M,alignDataLabel:O.alignDataLabel,indexateNodes:l,onMouseDown:c.onMouseDown,onMouseMove:c.onMouseMove,redrawHalo:c.redrawHalo,searchPoint:l}),J.registerSeriesType("packedbubble",w),w}),s(t,"Series/Polygon/PolygonSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d){({noop:l}=l);const{series:m,seriesTypes:{area:n,line:S,scatter:j}}=c,{extend:J,merge:B}=d;class W extends j{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let I=S.prototype.getGraphPath.call(this),O=I.length+1;for(;O--;)(O===I.length||I[O][0]==="M")&&0<O&&I.splice(O,0,["Z"]);return this.areaPath=I}drawGraph(){this.options.fillColor=this.color,n.prototype.drawGraph.call(this)}}return W.defaultOptions=B(j.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),J(W.prototype,{type:"polygon",drawTracker:m.prototype.drawTracker,setStackedPoints:l}),c.registerSeriesType("polygon",W),W}),s(t,"Core/Axis/WaterfallAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(l,c){const{addEvent:d,objectEach:m}=c;var n;return function(S){function j(){const I=this.waterfall.stacks;I&&(I.changed=!1,delete I.alreadyChanged)}function J(){const I=this.options.stackLabels;I&&I.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function B(){let I=this.axes,O=this.series,H=O.length;for(;H--;)O[H].options.stacking&&(I.forEach(function(M){M.isXAxis||(M.waterfall.stacks.changed=!0)}),H=0)}function W(){this.waterfall||(this.waterfall=new K(this))}class K{constructor(O){this.axis=O,this.stacks={changed:!1}}renderStackTotals(){const O=this.axis,H=O.waterfall.stacks,M=O.stacking&&O.stacking.stackTotalGroup,E=new l(O,O.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=E,M&&m(H,function(k){m(k,function(V,G){E.total=V.stackTotal,E.x=+G,V.label&&(E.label=V.label),l.prototype.render.call(E,M),V.label=E.label,delete E.label})}),E.total=null}}S.Composition=K,S.compose=function(I,O){d(I,"init",W),d(I,"afterBuildStacks",j),d(I,"afterRender",J),d(O,"beforeRedraw",B)}}(n||(n={})),n}),s(t,"Series/Waterfall/WaterfallPoint.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(l,c,d){const{isNumber:m}=d;class n extends l.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let j=c.prototype.getClassName.call(this);return this.isSum?j+=" highcharts-sum":this.isIntermediateSum&&(j+=" highcharts-intermediate-sum"),j}isValid(){return m(this.y)||this.isSum||!!this.isIntermediateSum}}return n}),s(t,"Series/Waterfall/WaterfallSeries.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Axis/WaterfallAxis.js"],t["Series/Waterfall/WaterfallPoint.js"]],function(l,c,d,m,n,S){const{seriesTypes:{column:j,line:J}}=d,{addEvent:B,arrayMax:W,arrayMin:K,correctFloat:I,extend:O,isNumber:H,merge:M,objectEach:E,pick:k}=m;class V extends j{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){j.prototype.generatePoints.apply(this);for(let C=0,ie=this.points.length;C<ie;C++){const Q=this.points[C],N=this.processedYData[C];H(N)&&(Q.isIntermediateSum||Q.isSum)&&(Q.y=I(N))}}processData(C){let ie=this.options,Q=this.yData,N=ie.data,F,$=Q.length,w=ie.threshold||0,L,f,y,b,P,q;for(q=f=L=y=b=0;q<$;q++)P=Q[q],F=N&&N[q]?N[q]:{},P==="sum"||F.isSum?Q[q]=I(f):P==="intermediateSum"||F.isIntermediateSum?(Q[q]=I(L),L=0):(f+=P,L+=P),y=Math.min(f,y),b=Math.max(f,b);super.processData.call(this,C),ie.stacking||(this.dataMin=y+w,this.dataMax=b)}toYData(C){return C.isSum?"sum":C.isIntermediateSum?"intermediateSum":C.y}updateParallelArrays(C,ie){super.updateParallelArrays.call(this,C,ie),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(C,ie){const Q=this.options.upColor;return Q&&!C.options.color&&H(C.y)&&(C.color=0<C.y?Q:void 0),C=j.prototype.pointAttribs.call(this,C,ie),delete C.dashstyle,C}getGraphPath(){return[["M",0,0]]}getCrispPath(){let C=this.data.filter(q=>H(q.y)),ie=this.yAxis,Q=C.length,N=Math.round(this.graph.strokeWidth())%2/2,F=Math.round(this.borderWidth)%2/2,$=this.xAxis.reversed,w=this.yAxis.reversed,L=this.options.stacking,f=[];for(let q=1;q<Q;q++){if(!this.options.connectNulls&&!H(this.data[C[q].index-1].y))continue;var y=C[q].box,b=C[q-1];const ee=b.y||0,X=C[q-1].box;if(!y||!X)continue;var P=ie.waterfall.stacks[this.stackKey];const ce=0<ee?-X.height:0;P&&X&&y&&(P=P[q-1],b=L?Math.round(ie.translate(P.connectorThreshold,!1,!0,!1,!0)+(w?ce:0))-N:X.y+b.minPointLengthOffset+F-N,f.push(["M",(X.x||0)+($?0:X.width||0),b],["L",(y.x||0)+($&&y.width||0),b])),X&&f.length&&(!L&&0>ee&&!w||0<ee&&w)&&((y=f[f.length-2])&&typeof y[2]=="number"&&(y[2]+=X.height||0),(y=f[f.length-1])&&typeof y[2]=="number"&&(y[2]+=X.height||0))}return f}drawGraph(){J.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function C(ue,ye,Ie,ae){if(y){if(ee)for(Ie;Ie<ee;Ie++)y.stackState[Ie]+=ae;else y.stackState[0]=ue,ee=y.stackState.length;y.stackState.push(y.stackState[ee-1]+ye)}}let ie=this.options,Q=this.yAxis.waterfall.stacks,N=ie.threshold||0,F=N,$=F,w=this.stackKey,L=this.xData,f=L.length,y,b,P,q,ee,X,ce,fe;var Te;let Z;if(this.yAxis.stacking.usePercentage=!1,b=P=q=F,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(Z=Q.changed,(Te=Q.alreadyChanged)&&0>Te.indexOf(w)&&(Z=!0),Q[w]||(Q[w]={}),Te=Q[w])for(let ue=0;ue<f;ue++){var re=L[ue];(!Te[re]||Z)&&(Te[re]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:Z&&Te[re]?Te[re].label:void 0}),y=Te[re],fe=this.yData[ue],0<=fe?y.posTotal+=fe:y.negTotal+=fe,ce=ie.data[ue],re=y.absolutePos=y.posTotal,X=y.absoluteNeg=y.negTotal,y.stackTotal=re+X,ee=y.stackState.length,ce&&ce.isIntermediateSum?(C(q,P,0,q),q=P,P=N,F^=$,$^=F,F^=$):ce&&ce.isSum?(C(N,b,ee,0),F=N):(C(F,fe,0,b),ce&&(b+=fe,P+=fe)),y.stateIndex++,y.threshold=F,F+=y.stackTotal}Q.changed=!1,Q.alreadyChanged||(Q.alreadyChanged=[]),Q.alreadyChanged.push(w)}}getExtremes(){let C=this.options.stacking,ie,Q;if(C){var N=this.yAxis;return N=N.waterfall.stacks,ie=this.stackedYNeg=[],Q=this.stackedYPos=[],C==="overlap"?E(N[this.stackKey],function(F){ie.push(K(F.stackState)),Q.push(W(F.stackState))}):E(N[this.stackKey],function(F){ie.push(F.negTotal+F.threshold),Q.push(F.posTotal+F.threshold)}),{dataMin:K(ie),dataMax:W(Q)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return V.defaultOptions=M(j.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),B(V,"afterColumnTranslate",function(){const{options:G,points:C,yAxis:ie}=this,Q=k(G.minPointLength,5),N=Q/2,F=G.threshold||0,$=G.stacking,w=ie.waterfall.stacks[this.stackKey];let L=F,f=F;for(let ee=0;ee<C.length;ee++){const X=C[ee];var y=this.processedYData[ee];const ce=O({x:0,y:0,width:0,height:0},X.shapeArgs||{});X.box=ce;var b=[0,y],P=X.y||0;if($){if(w){if(b=w[ee],$==="overlap"){var q=b.stackState[b.stateIndex--];q=0<=P?q:q-P,Object.hasOwnProperty.call(b,"absolutePos")&&delete b.absolutePos,Object.hasOwnProperty.call(b,"absoluteNeg")&&delete b.absoluteNeg}else 0<=P?(q=b.threshold+b.posTotal,b.posTotal-=P):(q=b.threshold+b.negTotal,b.negTotal-=P,q-=P),!b.posTotal&&H(b.absolutePos)&&Object.hasOwnProperty.call(b,"absolutePos")&&(b.posTotal=b.absolutePos,delete b.absolutePos),!b.negTotal&&H(b.absoluteNeg)&&Object.hasOwnProperty.call(b,"absoluteNeg")&&(b.negTotal=b.absoluteNeg,delete b.absoluteNeg);X.isSum||(b.connectorThreshold=b.threshold+b.stackTotal),ie.reversed?y=0<=P?q-P:q+P:(y=q,q-=P),X.below=y<=F,ce.y=ie.translate(y,!1,!0,!1,!0),ce.height=Math.abs(ce.y-ie.translate(q,!1,!0,!1,!0)),(q=ie.waterfall.dummyStackItem)&&(q.x=ee,q.label=w[ee].label,q.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[ee],this.stackedYPos[ee],void 0,this.xAxis))}}else q=Math.max(f,f+P)+b[0],ce.y=ie.translate(q,!1,!0,!1,!0),X.isSum?(ce.y=ie.translate(b[1],!1,!0,!1,!0),ce.height=Math.min(ie.translate(b[0],!1,!0,!1,!0),ie.len)-ce.y,X.below=b[1]<=F):X.isIntermediateSum?(0<=P?(y=b[1]+L,q=L):(y=L,q=b[1]+L),ie.reversed&&(y^=q,q^=y,y^=q),ce.y=ie.translate(y,!1,!0,!1,!0),ce.height=Math.abs(ce.y-Math.min(ie.translate(q,!1,!0,!1,!0),ie.len)),L+=b[1],X.below=y<=F):(ce.height=0<y?ie.translate(f,!1,!0,!1,!0)-ce.y:ie.translate(f,!1,!0,!1,!0)-ie.translate(f-y,!1,!0,!1,!0),f+=y,X.below=f<F),0>ce.height&&(ce.y+=ce.height,ce.height*=-1);X.plotY=ce.y=Math.round(ce.y||0)-this.borderWidth%2/2,ce.height=Math.max(Math.round(ce.height||0),.001),X.yBottom=ce.y+ce.height,ce.height<=Q&&!X.isNull?(ce.height=Q,ce.y-=N,X.plotY=ce.y,X.minPointLengthOffset=0>P?-N:N):(X.isNull&&(ce.width=0),X.minPointLengthOffset=0),P=X.plotY+(X.negative?ce.height:0),X.below&&(X.plotY+=ce.height),X.tooltipPos&&(this.chart.inverted?X.tooltipPos[0]=ie.len-P:X.tooltipPos[1]=P),X.isInside=this.isPointInside(X),M(!0,X.shapeArgs,ce)}},{order:2}),O(V.prototype,{getZonesGraphs:J.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:S}),d.registerSeriesType("waterfall",V),n.compose(l,c),V}),s(t,"Core/Axis/RadialAxis.js",[t["Core/Axis/AxisDefaults.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(l,c,d,m){const{defaultOptions:n}=c,{noop:S}=d,{addEvent:j,correctFloat:J,defined:B,extend:W,fireEvent:K,merge:I,pick:O,relativeLength:H,wrap:M}=m;var E;return function(k){function V(){this.autoConnect=this.isCircular&&typeof O(this.userMax,this.options.max)>"u"&&J(this.endAngleRad-this.startAngleRad)===J(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function G(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(le=>this.ticks[le]&&this.ticks[le].label).filter(le=>!!le)}}function C(){return S}function ie(le,me,Se){const Oe=this.pane.center;let Le=le.value,Ue;if(this.isCircular){if(B(Le))le.point&&(lt=le.point.shapeArgs||{},lt.start&&(Le=this.chart.inverted?this.translate(le.point.rectPlotY,!0):le.point.x));else{var lt=le.chartX||0;Ue=le.chartY||0,Le=this.translate(Math.atan2(Ue-Se,lt-me)-this.startAngleRad,!0)}le=this.getPosition(Le),lt=le.x,Ue=le.y}else B(Le)||(lt=le.chartX,Ue=le.chartY),B(lt)&&B(Ue)&&(Se=Oe[1]+this.chart.plotTop,Le=this.translate(Math.min(Math.sqrt(Math.pow(lt-me,2)+Math.pow(Ue-Se,2)),Oe[2]/2)-Oe[3]/2,!0));return[Le,lt||0,Ue||0]}function Q(le,me,Se){le=this.pane.center;const Oe=this.chart,Le=this.left||0,Ue=this.top||0;let lt=O(me,le[2]/2-this.offset);return typeof Se>"u"&&(Se=this.horiz?0:this.center&&-this.center[3]/2),Se&&(lt+=Se),this.isCircular||typeof me<"u"?(me=this.chart.renderer.symbols.arc(Le+le[0],Ue+le[1],lt,lt,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),me.xBounds=[Le+le[0]],me.yBounds=[Ue+le[1]-lt]):(me=this.postTranslate(this.angleRad,lt),me=[["M",this.center[0]+Oe.plotLeft,this.center[1]+Oe.plotTop],["L",me.x,me.y]]),me}function N(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function F(le,me,Se){const Oe=this.chart;var Le=Gt=>{if(typeof Gt=="string"){let wi=parseInt(Gt,10);return Ge.test(Gt)&&(wi=wi*it/100),wi}return Gt};const Ue=this.center;var lt=this.startAngleRad;const it=Ue[2]/2;var pt=Math.min(this.offset,0),De=this.left||0;const ze=this.top||0,Ge=/%$/;var Ye=this.isCircular;let at,gt=O(Le(Se.outerRadius),it),Ut=Le(Se.innerRadius);return Le=O(Le(Se.thickness),10),this.options.gridLineInterpolation==="polygon"?pt=this.getPlotLinePath({value:le}).concat(this.getPlotLinePath({value:me,reverse:!0})):(le=Math.max(le,this.min),me=Math.min(me,this.max),le=this.translate(le),me=this.translate(me),Ye||(gt=le||0,Ut=me||0),Se.shape!=="circle"&&Ye?(Se=lt+(le||0),lt+=me||0):(Se=-Math.PI/2,lt=1.5*Math.PI,at=!0),gt-=pt,pt=Oe.renderer.symbols.arc(De+Ue[0],ze+Ue[1],gt,gt,{start:Math.min(Se,lt),end:Math.max(Se,lt),innerR:O(Ut,gt-(Le-pt)),open:at}),Ye&&(Ye=(lt+Se)/2,De=De+Ue[0]+Ue[2]/2*Math.cos(Ye),pt.xBounds=Ye>-Math.PI/2&&Ye<Math.PI/2?[De,Oe.plotWidth]:[0,De],pt.yBounds=[ze+Ue[1]+Ue[2]/2*Math.sin(Ye)],pt.yBounds[0]+=Ye>-Math.PI&&0>Ye||Ye>Math.PI?-10:10)),pt}function $(le){var me=this.pane.center,Se=this.chart;const Oe=Se.inverted;var Le=le.reverse,Ue=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const lt=Ue.innerRadius||"0%",it=Ue.outerRadius||"100%";var pt=me[0]+Se.plotLeft,De=me[1]+Se.plotTop;const ze=this.height,Ge=le.isCrosshair;Ue=me[3]/2;var Ye=le.value;let at;var gt=this.getPosition(Ye);let Ut=gt.x;if(gt=gt.y,Ge&&(gt=this.getCrosshairPosition(le,pt,De),Ye=gt[0],Ut=gt[1],gt=gt[2]),this.isCircular)Ye=Math.sqrt(Math.pow(Ut-pt,2)+Math.pow(gt-De,2)),Le=typeof lt=="string"?H(lt,1):lt/Ye,Se=typeof it=="string"?H(it,1):it/Ye,me&&Ue&&(Ue/=Ye,Le<Ue&&(Le=Ue),Se<Ue&&(Se=Ue)),me=[["M",pt+Le*(Ut-pt),De-Le*(De-gt)],["L",Ut-(1-Se)*(Ut-pt),gt+(1-Se)*(De-gt)]];else if((Ye=this.translate(Ye))&&(0>Ye||Ye>ze)&&(Ye=0),this.options.gridLineInterpolation==="circle")me=this.getLinePath(0,Ye,Ue);else if(me=[],Se[Oe?"yAxis":"xAxis"].forEach(Gt=>{Gt.pane===this.pane&&(at=Gt)}),at)for(pt=at.tickPositions,at.autoConnect&&(pt=pt.concat([pt[0]])),Le&&(pt=pt.slice().reverse()),Ye&&(Ye+=Ue),De=0;De<pt.length;De++)Ue=at.getPosition(pt[De],Ye),me.push(De?["L",Ue.x,Ue.y]:["M",Ue.x,Ue.y]);return me}function w(le,me){return le=this.translate(le),this.postTranslate(this.isCircular?le:this.angleRad,O(this.isCircular?me:0>le?0:le,this.center[2]/2)-this.offset)}function L(){const le=this.center,me=this.chart,Se=this.options.title;return{x:me.plotLeft+le[0]+(Se.x||0),y:me.plotTop+le[1]-{high:.5,middle:.25,low:0}[Se.align]*le[2]+(Se.y||0)}}function f(le){le.beforeSetTickPositions=V,le.createLabelCollector=G,le.getCrosshairPosition=ie,le.getLinePath=Q,le.getOffset=N,le.getPlotBandPath=F,le.getPlotLinePath=$,le.getPosition=w,le.getTitlePosition=L,le.postTranslate=fe,le.setAxisSize=Z,le.setAxisTranslation=re,le.setOptions=ue}function y(){var le=this.chart,me=this.options,Se=this.pane,Oe=Se&&Se.options;le.angular&&this.isXAxis||!Se||!le.angular&&!le.polar||(le=2*Math.PI,Se=(O(Oe.startAngle,0)-90)*Math.PI/180,Oe=(O(Oe.endAngle,O(Oe.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(me.angle||0)*Math.PI/180,this.startAngleRad=Se,this.endAngleRad=Oe,this.offset=me.offset||0,me=(Se%le+le)%le,Oe=(Oe%le+le)%le,me>Math.PI&&(me-=le),Oe>Math.PI&&(Oe-=le),this.normalizedStartAngleRad=me,this.normalizedEndAngleRad=Oe)}function b(le){this.isRadial&&(le.align=void 0,le.preventDefault())}function P(){if(this.chart&&this.chart.labelCollectors){const le=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=le&&this.chart.labelCollectors.splice(le,1)}}function q(le){const me=this.chart,Se=me.inverted,Oe=me.angular,Le=me.polar,Ue=this.isXAxis,lt=this.coll,it=Oe&&Ue;le=le.userOptions.pane||0,le=this.pane=me.pane&&me.pane[le];let pt;lt==="colorAxis"?this.isRadial=!1:(Oe?(it?(this.isHidden=!0,this.createLabelCollector=C,this.getOffset=S,this.render=this.redraw=Te,this.setTitle=this.setCategories=this.setScale=S):f(this),(pt=!Ue)&&(this.defaultPolarOptions=be)):Le&&(f(this),this.defaultPolarOptions=(pt=this.horiz)?ae:I(lt==="xAxis"?l.defaultXAxisOptions:l.defaultYAxisOptions,xe),Se&&lt==="yAxis"&&(this.defaultPolarOptions.stackLabels=l.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),Oe||Le?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&me.labelCollectors.push(this.labelCollector)):this.isRadial=!1,le&&pt&&(le.axis=this),this.isCircular=pt)}function ee(){this.isRadial&&this.beforeSetTickPositions()}function X(le){const me=this.label;if(me){var Se=this.axis,Oe=me.getBBox(),Le=Se.options.labels,Ue=(Se.translate(this.pos)+Se.startAngleRad+Math.PI/2)/Math.PI*180%360,lt=Math.round(Ue),it=B(Le.y)?0:.3*-Oe.height,pt=Le.y,De=20,ze=Le.align,Ge="end",Ye=0>lt?lt+360:lt,at=Ye,gt=0,Ut=0;if(Se.isRadial){var Gt=Se.getPosition(this.pos,Se.center[2]/2+H(O(Le.distance,-25),Se.center[2]/2,-Se.center[2]/2));Le.rotation==="auto"?me.attr({rotation:Ue}):B(pt)||(pt=Se.chart.renderer.fontMetrics(me).b-Oe.height/2),B(ze)||(Se.isCircular?(Oe.width>Se.len*Se.tickInterval/(Se.max-Se.min)&&(De=0),ze=Ue>De&&Ue<180-De?"left":Ue>180+De&&Ue<360-De?"right":"center"):ze="center",me.attr({align:ze})),ze==="auto"&&Se.tickPositions.length===2&&Se.isCircular&&(90<Ye&&180>Ye?Ye=180-Ye:270<Ye&&360>=Ye&&(Ye=540-Ye),180<at&&360>=at&&(at=360-at),(Se.pane.options.startAngle===lt||Se.pane.options.startAngle===lt+360||Se.pane.options.startAngle===lt-360)&&(Ge="start"),ze=-90<=lt&&90>=lt||-360<=lt&&-270>=lt||270<=lt&&360>=lt?Ge==="start"?"right":"left":Ge==="start"?"left":"right",70<at&&110>at&&(ze="center"),15>Ye||180<=Ye&&195>Ye?gt=.3*Oe.height:15<=Ye&&35>=Ye?gt=Ge==="start"?0:.75*Oe.height:195<=Ye&&215>=Ye?gt=Ge==="start"?.75*Oe.height:0:35<Ye&&90>=Ye?gt=Ge==="start"?.25*-Oe.height:Oe.height:215<Ye&&270>=Ye&&(gt=Ge==="start"?Oe.height:.25*-Oe.height),15>at?Ut=Ge==="start"?.15*-Oe.height:.15*Oe.height:165<at&&180>=at&&(Ut=Ge==="start"?.15*Oe.height:.15*-Oe.height),me.attr({align:ze}),me.translate(Ut,gt+it)),le.pos.x=Gt.x+(Le.x||0),le.pos.y=Gt.y+(pt||0)}}}function ce(le){this.axis.getPosition&&W(le.pos,this.axis.getPosition(this.pos))}function fe(le,me){const Se=this.chart,Oe=this.center;return le=this.startAngleRad+le,{x:Se.plotLeft+Oe[0]+Math.cos(le)*me,y:Se.plotTop+Oe[1]+Math.sin(le)*me}}function Te(){this.isDirty=!1}function Z(){let le,me;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),le=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(me=this.postTranslate(this.angleRad,le[3]/2),le[0]=me.x-this.chart.plotLeft,le[1]=me.y-this.chart.plotTop),this.len=this.width=this.height=(le[2]-le[3])*O(this.sector,1)/2)}function re(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function ue(le){le=this.options=I(this.constructor.defaultOptions,this.defaultPolarOptions,n[this.coll],le),le.plotBands||(le.plotBands=[]),K(this,"afterSetOptions")}function ye(le,me,Se,Oe,Le,Ue,lt){const it=this.axis;return it.isRadial?(le=it.getPosition(this.pos,it.center[2]/2+Oe),me=["M",me,Se,"L",le.x,le.y]):me=le.call(this,me,Se,Oe,Le,Ue,lt),me}const Ie=[],ae={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},be={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},xe={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};k.compose=function(le,me){return m.pushUnique(Ie,le)&&(j(le,"afterInit",y),j(le,"autoLabelAlign",b),j(le,"destroy",P),j(le,"init",q),j(le,"initialAxisTranslation",ee)),m.pushUnique(Ie,me)&&(j(me,"afterGetLabelPosition",X),j(me,"afterGetPosition",ce),M(me.prototype,"getMarkPath",ye)),le}}(E||(E={})),E}),s(t,"Series/PolarComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Extensions/Pane.js"],t["Core/Axis/RadialAxis.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,S){function j(Z,re,ue,ye){var Ie=ye?1:0,ae=0<=re&&re<=Z.length-1?re:0>re?Z.length-1+re:0;re=0>ae-1?Z.length-(1+Ie):ae-1;var be=Z[re];Ie=Z[ae+1>Z.length-1?Ie:ae+1];var xe=be.plotY,le=Ie.plotX,me=Ie.plotY;Ie=Z[ae].plotX,ae=Z[ae].plotY,be=(1.5*Ie+be.plotX)/2.5,xe=(1.5*ae+xe)/2.5,le=(1.5*Ie+le)/2.5;var Se=(1.5*ae+me)/2.5;me=Math.sqrt(Math.pow(be-Ie,2)+Math.pow(xe-ae,2));const Oe=Math.sqrt(Math.pow(le-Ie,2)+Math.pow(Se-ae,2));return be=Math.atan2(xe-ae,be-Ie),Se=Math.PI/2+(be+Math.atan2(Se-ae,le-Ie))/2,Math.abs(be-Se)>Math.PI/2&&(Se-=Math.PI),be=Ie+Math.cos(Se)*me,xe=ae+Math.sin(Se)*me,le=Ie+Math.cos(Math.PI+Se)*Oe,Se=ae+Math.sin(Math.PI+Se)*Oe,Ie={rightContX:le,rightContY:Se,leftContX:be,leftContY:xe,plotX:Ie,plotY:ae},ue&&(Ie.prevPointCont=j(Z,re,!1,ye)),Ie}function J(){(this.pane||[]).forEach(Z=>{Z.render()})}function B(Z){const re=Z.args[0].xAxis,ue=Z.args[0].yAxis;Z=Z.args[0].chart,re&&ue&&(ue.gridLineInterpolation==="polygon"?(re.startOnTick=!0,re.endOnTick=!0):re.gridLineInterpolation==="polygon"&&Z.inverted&&(ue.startOnTick=!0,ue.endOnTick=!0))}function W(){this.pane||(this.pane=[]),this.options.pane=ee(this.options.pane),this.options.pane.forEach(Z=>{new m(Z,this)},this)}function K(Z){var re=Z.args.marker,ue=this.chart.xAxis[0],ye=this.chart.yAxis[0],Ie=this.chart.inverted;const ae=Ie?ye:ue;if(ue=Ie?ue:ye,this.chart.polar){Z.preventDefault(),ye=(re.attr?re.attr("start"):re.start)-ae.startAngleRad,Ie=re.attr?re.attr("r"):re.r;let be=(re.attr?re.attr("end"):re.end)-ae.startAngleRad;re=re.attr?re.attr("innerR"):re.innerR,Z.result.x=ye+ae.pos,Z.result.width=be-ye,Z.result.y=ue.len+ue.pos-re,Z.result.height=re-Ie}}function I(Z){var re=this.chart;if(re.polar&&re.hoverPane&&re.hoverPane.axis){Z.preventDefault();var ue=re.hoverPane.center,ye=this.mouseDownX||0;const Ue=this.mouseDownY||0;var Ie=Z.args.chartY;const lt=Z.args.chartX;var ae=2*Math.PI,be=re.hoverPane.axis.startAngleRad,xe=re.hoverPane.axis.endAngleRad,le=re.inverted?re.xAxis[0]:re.yAxis[0];const it={};var me="arc";if(it.x=ue[0]+re.plotLeft,it.y=ue[1]+re.plotTop,this.zoomHor){var Se=0<be?xe-be:Math.abs(be)+Math.abs(xe),Oe=Math.atan2(Ue-re.plotTop-ue[1],ye-re.plotLeft-ue[0])-be,Le=Math.atan2(Ie-re.plotTop-ue[1],lt-re.plotLeft-ue[0])-be;if(it.r=ue[2]/2,it.innerR=ue[3]/2,0>=Oe&&(Oe+=ae),0>=Le&&(Le+=ae),Le<Oe&&(Le=[Oe,Oe=Le][0]),Se<ae&&be+Le>xe+(ae-Se)/2&&(Le=Oe,Oe=0>=be?be:0),ae=it.start=Math.max(Oe+be,be),Se=it.end=Math.min(Le+be,xe),le.options.gridLineInterpolation==="polygon"){if(me=re.hoverPane.axis,Le=ae-me.startAngleRad+me.pos,Oe=Se-ae,ae=le.getPlotLinePath({value:le.max}),Se=me.toValue(Le),Le=me.toValue(Le+Oe),Se<me.getExtremes().min){const{min:pt,max:De}=me.getExtremes();Se=De-(pt-Se)}if(Le<me.getExtremes().min){const{min:pt,max:De}=me.getExtremes();Le=De-(pt-Le)}Le<Se&&(Le=[Se,Se=Le][0]),ae=E(ae,Se,Le,me),ae.push(["L",ue[0]+re.plotLeft,re.plotTop+ue[1]]),it.d=ae,me="path"}}this.zoomVert&&(Le=re.inverted?re.xAxis[0]:re.yAxis[0],ye=Math.sqrt(Math.pow(ye-re.plotLeft-ue[0],2)+Math.pow(Ue-re.plotTop-ue[1],2)),Ie=Math.sqrt(Math.pow(lt-re.plotLeft-ue[0],2)+Math.pow(Ie-re.plotTop-ue[1],2)),Ie<ye&&(ye=[Ie,Ie=ye][0]),Ie>ue[2]/2&&(Ie=ue[2]/2),ye<ue[3]/2&&(ye=ue[3]/2),this.zoomHor||(it.start=be,it.end=xe),it.r=Ie,it.innerR=ye,Le.options.gridLineInterpolation==="polygon"&&(ue=Le.toValue(Le.len+Le.pos-ye),be=Le.toValue(Le.len+Le.pos-Ie),ue=Le.getPlotLinePath({value:be}).concat(Le.getPlotLinePath({value:ue,reverse:!0})),it.d=ue,me="path")),this.zoomHor&&this.zoomVert&&le.options.gridLineInterpolation==="polygon"&&(ue=re.hoverPane.axis,le=it.start||0,be=le-ue.startAngleRad+ue.pos,xe=(it.end||0)-le,le=ue.toValue(be),ue=ue.toValue(be+xe),it.d instanceof Array&&(be=it.d.slice(0,it.d.length/2),xe=it.d.slice(it.d.length/2,it.d.length),xe=[...xe].reverse(),re=re.hoverPane.axis,be=E(be,le,ue,re),(xe=E(xe,le,ue,re))&&(xe[0][0]="L"),xe=[...xe].reverse(),it.d=be.concat(xe),me="path")),Z.attrs=it,Z.shapeType=me}}function O(){const Z=this.chart;Z.polar&&(this.polar=new Te(this),Z.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function H(){if(this.chart.polar&&this.xAxis){const{xAxis:Z,yAxis:re}=this,ue=this.chart;(this.kdByAngle=ue.tooltip&&ue.tooltip.shared)?this.searchPoint=M:this.options.findNearestPointBy="xy";const ye=this.points;let Ie=ye.length;for(;Ie--;)this.is("column")||this.is("columnrange")||this.polar.toXY(ye[Ie]),ue.hasParallelCoordinates||this.yAxis.reversed||(P(ye[Ie].y,Number.MIN_VALUE)<re.min||ye[Ie].x<Z.min||ye[Ie].x>Z.max?(ye[Ie].isNull=!0,ye[Ie].plotY=NaN):ye[Ie].isNull=ye[Ie].isValid&&!ye[Ie].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(w(this,"afterRender",function(){if(ue.polar){var ae=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:ae[0],y:ae[1],r:ae[2]/2,innerR:ae[3]/2});else{{var be=ue.renderer,xe=ae[0],le=ae[1],me=ae[2]/2,Se=ae[3]/2;ae=X();const Oe=be.createElement("clipPath").attr({id:ae}).add(be.defs);be=Se?be.arc(xe,le,me,Se,0,2*Math.PI).add(Oe):be.circle(xe,le,me).add(Oe),be.id=ae,be.clipPath=Oe}this.clipCircle=be}this.group.clip(this.clipCircle),this.setClip=c.noop}})))}}function M(Z){const re=this.chart;var ue=this.xAxis;return ue=ue.pane&&ue.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(Z.chartX-(ue&&ue[0]||0)-re.plotLeft,Z.chartY-(ue&&ue[1]||0)-re.plotTop)})}function E(Z,re,ue,ye){const Ie=ye.tickInterval;ye=ye.tickPositions;let ae=f(ye,xe=>xe>=ue),be=f([...ye].reverse(),xe=>xe<=re);return L(ae)||(ae=ye[ye.length-1]),L(be)||(be=ye[0],ae+=Ie,Z[0][0]="L",Z.unshift(Z[Z.length-3])),Z=Z.slice(ye.indexOf(be),ye.indexOf(ae)+1),Z[0][0]="M",Z}function k(Z,re){return f(this.pane||[],function(ue){return ue.options.id===re})||Z.call(this,re)}function V(Z,re,ue,ye,Ie,ae){const be=this.chart;var xe=P(ye.inside,!!this.options.stacking);be.polar?(Z=re.rectPlotX/Math.PI*180,be.inverted?(this.forceDL=be.isInsidePlot(re.plotX,re.plotY),xe&&re.shapeArgs?(xe=re.shapeArgs,xe=this.yAxis.postTranslate(((xe.start||0)+(xe.end||0))/2-this.xAxis.startAngleRad,re.barX+re.pointWidth/2),Ie=b(Ie,{x:xe.x-be.plotLeft,y:xe.y-be.plotTop})):re.tooltipPos&&(Ie=b(Ie,{x:re.tooltipPos[0],y:re.tooltipPos[1]})),ye.align=P(ye.align,"center"),ye.verticalAlign=P(ye.verticalAlign,"middle")):(ye.align===null&&(ye.align=20<Z&&160>Z?"left":200<Z&&340>Z?"right":"center"),ye.verticalAlign===null&&(ye.verticalAlign=45>Z||315<Z?"bottom":135<Z&&225>Z?"top":"middle")),d.prototype.alignDataLabel.call(this,re,ue,ye,Ie,ae),this.isRadialBar&&re.shapeArgs&&re.shapeArgs.start===re.shapeArgs.end?ue.hide():ue.show()):Z.call(this,re,ue,ye,Ie,ae)}function G(){const Z=this.options,re=Z.stacking,ue=this.chart;var ye=this.xAxis;const Ie=this.yAxis,ae=Ie.reversed,be=Ie.center,xe=ye.startAngleRad,le=ye.endAngleRad-xe;let me=0,Se,Oe,Le,Ue=0;var lt=0;if(ye.isRadial){ye=this.points,Se=ye.length,Oe=Ie.translate(Ie.min),Le=Ie.translate(Ie.max);var it=Z.threshold||0;for(ue.inverted&&y(it)&&(me=Ie.translate(it),L(me)&&(0>me?me=0:me>le&&(me=le),this.translatedThreshold=me+xe));Se--;){it=ye[Se];var pt=it.barX,De=it.x,ze=it.y;if(it.shapeType="arc",ue.inverted){it.plotY=Ie.translate(ze),re&&Ie.stacking?(ze=Ie.stacking.stacks[(0>ze?"-":"")+this.stackKey],this.visible&&ze&&ze[De]&&!it.isNull&&(lt=ze[De].points[this.getStackIndicator(void 0,De,this.index).key],Ue=Ie.translate(lt[0]),lt=Ie.translate(lt[1]),L(Ue)&&(Ue=S.clamp(Ue,0,le)))):(Ue=me,lt=it.plotY),Ue>lt&&(lt=[Ue,Ue=lt][0]),ae?lt>Oe?lt=Oe:Ue<Le?Ue=Le:(Ue>Oe||lt<Le)&&(Ue=lt=le):Ue<Oe?Ue=Oe:lt>Le?lt=Le:(lt<Oe||Ue>Le)&&(Ue=lt=0),Ie.min>Ie.max&&(Ue=lt=ae?le:0),Ue+=xe,lt+=xe,be&&(it.barX=pt+=be[3]/2),De=Math.max(pt,0),ze=Math.max(pt+it.pointWidth,0);var Ge=Z.borderRadius;Ge=q((typeof Ge=="object"?Ge.radius:Ge)||0,ze-De),it.shapeArgs={x:be[0],y:be[1],r:ze,innerR:De,start:Ue,end:lt,borderRadius:Ge},it.opacity=Ue===lt?0:void 0,it.plotY=(L(this.translatedThreshold)&&(Ue<this.translatedThreshold?Ue:lt))-xe}else Ue=pt+xe,it.shapeArgs=this.polar.arc(it.yBottom,it.plotY,Ue,Ue+it.pointWidth),it.shapeArgs.borderRadius=0;this.polar.toXY(it),ue.inverted?(pt=Ie.postTranslate(it.rectPlotY,pt+it.pointWidth/2),it.tooltipPos=[pt.x-ue.plotLeft,pt.y-ue.plotTop]):it.tooltipPos=[it.plotX,it.plotY],be&&(it.ttBelow=it.plotY>be[1])}}}function C(Z,re){const ue=this;let ye;if(this.chart.polar){re=re||this.points;for(let ae=0;ae<re.length;ae++)if(!re[ae].isNull){var Ie=ae;break}this.options.connectEnds!==!1&&typeof Ie<"u"&&(this.connectEnds=!0,re.splice(re.length,0,re[Ie]),ye=!0),re.forEach(ae=>{typeof ae.polarPlotY>"u"&&ue.polar.toXY(ae)})}return Ie=Z.apply(this,[].slice.call(arguments,1)),ye&&re.pop(),Ie}function ie(Z,re){const ue=this.chart;let ye={xAxis:[],yAxis:[]};return ue.polar?ue.axes.forEach(Ie=>{if(Ie.coll!=="colorAxis"){var ae=Ie.isXAxis,be=Ie.center,xe=re.chartX-be[0]-ue.plotLeft;be=re.chartY-be[1]-ue.plotTop,ye[ae?"xAxis":"yAxis"].push({axis:Ie,value:Ie.translate(ae?Math.PI-Math.atan2(xe,be):Math.sqrt(Math.pow(xe,2)+Math.pow(be,2)),!0)})}}):ye=Z.call(this,re),ye}function Q(Z,re){this.chart.polar||Z.call(this,re)}function N(Z,re){const ue=this,ye=this.chart,Ie=this.group,ae=this.markerGroup,be=this.xAxis&&this.xAxis.center,xe=ye.plotLeft,le=ye.plotTop;let me=this.options.animation,Se,Oe,Le,Ue,lt;ye.polar?ue.isRadialBar?re||(ue.startAngleRad=P(ue.translatedThreshold,ue.xAxis.startAngleRad),c.seriesTypes.pie.prototype.animate.call(ue,re)):(me=$(me),ue.is("column")?re||(Se=be[3]/2,ue.points.forEach(it=>{Oe=it.graphic,Ue=(Le=it.shapeArgs)&&Le.r,lt=Le&&Le.innerR,Oe&&Le&&(Oe.attr({r:Se,innerR:Se}),Oe.animate({r:Ue,innerR:lt},ue.options.animation))})):re?(Z={translateX:be[0]+xe,translateY:be[1]+le,scaleX:.001,scaleY:.001},Ie.attr(Z),ae&&ae.attr(Z)):(Z={translateX:xe,translateY:le,scaleX:1,scaleY:1},Ie.animate(Z,me),ae&&ae.animate(Z,me))):Z.call(this,re)}function F(Z,re,ue,ye){return this.chart.polar?ye?(Z=j(re,ye,!0,this.connectEnds),re=Z.prevPointCont&&Z.prevPointCont.rightContX,ue=Z.prevPointCont&&Z.prevPointCont.rightContY,Z=["C",y(re)?re:Z.plotX,y(ue)?ue:Z.plotY,y(Z.leftContX)?Z.leftContX:Z.plotX,y(Z.leftContY)?Z.leftContY:Z.plotY,Z.plotX,Z.plotY]):Z=["M",ue.plotX,ue.plotY]:Z=Z.call(this,re,ue,ye),Z}const{animObject:$}=l,{addEvent:w,defined:L,find:f,isNumber:y,merge:b,pick:P,relativeLength:q,splat:ee,uniqueKey:X,wrap:ce}=S,fe=[];class Te{static compose(re,ue,ye,Ie,ae,be,xe,le,me){n.compose(re,ae),S.pushUnique(fe,ue)&&(w(ue,"afterDrawChartBox",J),w(ue,"getAxes",W),w(ue,"init",B),ce(ue.prototype,"get",k)),S.pushUnique(fe,ye)&&(re=ye.prototype,ce(re,"getCoordinates",ie),ce(re,"pinch",Q),w(ye,"getSelectionMarkerAttrs",I),w(ye,"getSelectionBox",K)),S.pushUnique(fe,Ie)&&(w(Ie,"afterInit",O),w(Ie,"afterTranslate",H,{order:2}),w(Ie,"afterColumnTranslate",G,{order:4}),ce(Ie.prototype,"animate",N)),xe&&S.pushUnique(fe,xe)&&(ye=xe.prototype,ce(ye,"alignDataLabel",V),ce(ye,"animate",N)),le&&S.pushUnique(fe,le)&&ce(le.prototype,"getGraphPath",C),me&&S.pushUnique(fe,me)&&(le=me.prototype,ce(le,"getPointSpline",F),be&&S.pushUnique(fe,be)&&(be.prototype.getPointSpline=le.getPointSpline))}constructor(re){this.series=re}arc(re,ue,ye,Ie){const ae=this.series,be=ae.xAxis.center,xe=ae.yAxis.len,le=be[3]/2;return ue=xe-ue+le,re=xe-P(re,xe)+le,ae.yAxis.reversed&&(0>ue&&(ue=le),0>re&&(re=le)),{x:be[0],y:be[1],r:ue,innerR:re,start:ye,end:Ie}}toXY(re){var ue=this.series;const ye=ue.chart,Ie=ue.xAxis;var ae=ue.yAxis;const be=re.plotX,xe=ye.inverted,le=re.y;let me=re.plotY,Se=xe?be:ae.len-me;xe&&ue&&!ue.isRadialBar&&(re.plotY=me=y(le)?ae.translate(le):0),re.rectPlotX=be,re.rectPlotY=me,ae.center&&(Se+=ae.center[3]/2),y(me)&&(ae=xe?ae.postTranslate(me,Se):Ie.postTranslate(be,Se),re.plotX=re.polarPlotX=ae.x-ye.plotLeft,re.plotY=re.polarPlotY=ae.y-ye.plotTop),ue.kdByAngle?(ue=(be/Math.PI*180+Ie.pane.options.startAngle)%360,0>ue&&(ue+=360),re.clientX=ue):re.clientX=re.plotX}}return Te}),s(t,"masters/highcharts-more.src.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Bubble/BubbleSeries.js"],t["Series/PackedBubble/PackedBubbleSeries.js"],t["Series/PolarComposition.js"]],function(l,c,d,m,n){d.compose(l.Axis,l.Chart,l.Legend,l.Series),m.compose(l.Axis,l.Chart,l.Legend,l.Series),n.compose(l.Axis,l.Chart,l.Pointer,l.Series,l.Tick,c.seriesTypes.areasplinerange,c.seriesTypes.column,c.seriesTypes.line,c.seriesTypes.spline)})})})(iG);const PA=Ww;PA(th);const nG={components:{highcharts:_p.Chart},methods:{chartCallback(e){e.renderer.forExport||setInterval(function(){var t=e.series[0].points[0],s,l=Math.round((Math.random()-.5)*20);s=t.y+l,(s<0||s>200)&&(s=t.y-l),t.update(s)},3e3)}},data(){return{fuelOptions:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{useHTML:!0,text:"<img src='https://cdn-icons-png.flaticon.com/512/710/710296.png' height='18px' alt='' />",y:180},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#FFF"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:0,max:32,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#fff",tickPixelInterval:32,tickWidth:5,tickPosition:"inside",tickLength:20,tickColor:"#0A2647",labels:{step:16,distance:10,enabled:!1},title:{text:"",y:20},plotBands:[{from:0,to:4,color:"#0A2647"},{from:4,to:8,color:"#0A2647"},{from:8,to:12,color:"#0A2647"},{from:12,to:16,color:"#0A2647"},{from:16,to:20,color:"#0A2647"},{from:20,to:24,color:"#0A2647"},{from:24,to:28,color:"#0A2647"},{from:28,to:32,color:"#0A2647"}]}],series:[{name:"Speed",data:[20],tooltip:{valueSuffix:" "}}]}}}},bd=e=>(jf("data-v-7c7fa323"),e=e(),Uf(),e),sG={class:"row"},rG={class:"col position-relative"},oG=bd(()=>et("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HFO (KL)",-1)),aG=bd(()=>et("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"15.08 KL",-1)),lG={class:"col position-relative"},cG=bd(()=>et("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total LS HFO (KL)",-1)),hG=bd(()=>et("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.94",-1)),dG={class:"col position-relative"},uG=bd(()=>et("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total MDO (KL)",-1)),pG=bd(()=>et("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"1.22",-1)),fG={class:"col position-relative"},mG=bd(()=>et("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total HSD (KL)",-1)),gG=bd(()=>et("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"2.01",-1)),_G={class:"col position-relative"},yG=bd(()=>et("div",{class:"text-center fw-bold title-fuel",style:{position:"absolute",bottom:"20%",left:"0",right:"0"}},"Total (KL)",-1)),vG=bd(()=>et("div",{class:"text-center fw-bold",style:{position:"absolute",bottom:"15%",left:"0",right:"0"}},"21.25",-1));function xG(e,t,s,l,c,d){const m=ds("highcharts");return di(),vi("div",sG,[et("div",rG,[en(m,{options:c.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),oG,aG]),et("div",lG,[en(m,{options:c.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),cG,hG]),et("div",dG,[en(m,{options:c.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),uG,pG]),et("div",fG,[en(m,{options:c.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),mG,gG]),et("div",_G,[en(m,{options:c.fuelOptions,callback:d.chartCallback},null,8,["options","callback"]),yG,vG])])}const bG=Rs(nG,[["render",xG],["__scopeId","data-v-7c7fa323"]]);var qw={},wG={get exports(){return qw},set exports(e){qw=e}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function s(l,c,d,m){l.hasOwnProperty(c)||(l[c]=m.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:l[c]}})))}t=t?t._modules:{},s(t,"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(l,c){const{addEvent:d,find:m,fireEvent:n,isArray:S,isNumber:j,pick:J}=c;var B;return function(W){function K(){typeof this.brokenAxis<"u"&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function I(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function O(){const ie=this.brokenAxis;if(ie&&ie.hasBreaks){const Q=this.tickPositions,N=this.tickPositions.info,F=[];for(let $=0;$<Q.length;$++)ie.isInAnyBreak(Q[$])||F.push(Q[$]);this.tickPositions=F,this.tickPositions.info=N}}function H(){this.brokenAxis||(this.brokenAxis=new C(this))}function M(){const{isDirty:ie,options:{connectNulls:Q},points:N,xAxis:F,yAxis:$}=this;if(ie){let w=N.length;for(;w--;){const L=N[w],f=!(L.y===null&&Q===!1)&&(F&&F.brokenAxis&&F.brokenAxis.isInAnyBreak(L.x,!0)||$&&$.brokenAxis&&$.brokenAxis.isInAnyBreak(L.y,!0));L.visible=f?!1:L.options.visible!==!1}}}function E(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,J(this.pointArrayMap,["y"]))}function k(ie,Q){const N=this,F=N.points;let $,w,L,f;if(ie&&ie.brokenAxis&&ie.brokenAxis.hasBreaks){const y=ie.brokenAxis;Q.forEach(function(b){$=y&&y.breakArray||[],w=ie.isXAxis?ie.min:J(N.options.threshold,ie.min),F.forEach(function(P){f=J(P["stack"+b.toUpperCase()],P[b]),$.forEach(function(q){j(w)&&j(f)&&(L=!1,w<q.from&&f>q.to||w>q.from&&f<q.from?L="pointBreak":(w<q.from&&f>q.from&&f<q.to||w>q.from&&f>q.to&&f<q.from)&&(L="pointInBreak"),L&&n(ie,L,{point:P,brk:q}))})})})}}function V(){var ie=this.currentDataGrouping,Q=ie&&ie.gapSize;ie=this.points.slice();const N=this.yAxis;let F=this.options.gapSize,$=ie.length-1;var w;if(F&&0<$)for(this.options.gapUnit!=="value"&&(F*=this.basePointRange),Q&&Q>F&&Q>=this.basePointRange&&(F=Q);$--;)w&&w.visible!==!1||(w=ie[$+1]),Q=ie[$],w.visible!==!1&&Q.visible!==!1&&(w.x-Q.x>F&&(w=(Q.x+w.x)/2,ie.splice($+1,0,{isNull:!0,x:w}),N.stacking&&this.options.stacking&&(w=N.stacking.stacks[this.stackKey][w]=new l(N,N.options.stackLabels,!1,w,this.stack),w.total=0)),w=Q);return this.getGraphPath(ie)}const G=[];W.compose=function(ie,Q){if(c.pushUnique(G,ie)&&(ie.keepProps.push("brokenAxis"),d(ie,"init",H),d(ie,"afterInit",K),d(ie,"afterSetTickPositions",O),d(ie,"afterSetOptions",I)),c.pushUnique(G,Q)){const N=Q.prototype;N.drawBreaks=k,N.gappedPath=V,d(Q,"afterGeneratePoints",M),d(Q,"afterRender",E)}return ie};class C{static isInBreak(Q,N){const F=Q.repeat||1/0,$=Q.from,w=Q.to-Q.from;return N=N>=$?(N-$)%F:F-($-N)%F,Q.inclusive?N<=w:N<w&&N!==0}static lin2Val(Q){var N=this.brokenAxis;if(N=N&&N.breakArray,!N||!j(Q))return Q;let F,$;for($=0;$<N.length&&(F=N[$],!(F.from>=Q));$++)(F.to<Q||C.isInBreak(F,Q))&&(Q+=F.len);return Q}static val2Lin(Q){var N=this.brokenAxis;if(N=N&&N.breakArray,!N||!j(Q))return Q;let F=Q,$,w;for(w=0;w<N.length;w++)if($=N[w],$.to<=Q)F-=$.len;else{if($.from>=Q)break;if(C.isInBreak($,Q)){F-=Q-$.from;break}}return F}constructor(Q){this.hasBreaks=!1,this.axis=Q}findBreakAt(Q,N){return m(N,function(F){return F.from<Q&&Q<F.to})}isInAnyBreak(Q,N){const F=this.axis,$=F.options.breaks||[];let w=$.length,L,f,y;if(w&&j(Q)){for(;w--;)C.isInBreak($[w],Q)&&(L=!0,f||(f=J($[w].showPoints,!F.isXAxis)));y=L&&N?L&&!f:L}return y}setBreaks(Q,N){const F=this,$=F.axis,w=S(Q)&&!!Q.length;$.isDirty=F.hasBreaks!==w,F.hasBreaks=w,$.options.breaks=$.userOptions.breaks=Q,$.forceRedraw=!0,$.series.forEach(function(L){L.isDirty=!0}),w||$.val2lin!==C.val2Lin||(delete $.val2lin,delete $.lin2val),w&&($.userOptions.ordinal=!1,$.lin2val=C.lin2Val,$.val2lin=C.val2Lin,$.setExtremes=function(L,f,y,b,P){if(F.hasBreaks){const q=this.options.breaks||[];let ee;for(;ee=F.findBreakAt(L,q);)L=ee.to;for(;ee=F.findBreakAt(f,q);)f=ee.from;f<L&&(f=L)}$.constructor.prototype.setExtremes.call(this,L,f,y,b,P)},$.setAxisTranslation=function(){if($.constructor.prototype.setAxisTranslation.call(this),F.unitLength=void 0,F.hasBreaks){const L=$.options.breaks||[],f=[],y=[],b=J($.pointRangePadding,0);let P=0,q,ee,X=$.userMin||$.min,ce=$.userMax||$.max,fe,Te;L.forEach(function(Z){ee=Z.repeat||1/0,j(X)&&j(ce)&&(C.isInBreak(Z,X)&&(X+=Z.to%ee-X%ee),C.isInBreak(Z,ce)&&(ce-=ce%ee-Z.from%ee))}),L.forEach(function(Z){if(fe=Z.from,ee=Z.repeat||1/0,j(X)&&j(ce)){for(;fe-ee>X;)fe-=ee;for(;fe<X;)fe+=ee;for(Te=fe;Te<ce;Te+=ee)f.push({value:Te,move:"in"}),f.push({value:Te+Z.to-Z.from,move:"out",size:Z.breakSize})}}),f.sort(function(Z,re){return Z.value===re.value?(Z.move==="in"?0:1)-(re.move==="in"?0:1):Z.value-re.value}),q=0,fe=X,f.forEach(function(Z){q+=Z.move==="in"?1:-1,q===1&&Z.move==="in"&&(fe=Z.value),q===0&&j(fe)&&(y.push({from:fe,to:Z.value,len:Z.value-fe-(Z.size||0)}),P+=Z.value-fe-(Z.size||0))}),F.breakArray=y,j(X)&&j(ce)&&j($.min)&&(F.unitLength=ce-X-P+b,n($,"afterBreaks"),$.staticScale?$.transA=$.staticScale:F.unitLength&&($.transA*=(ce-$.min+b)/F.unitLength),b&&($.minPixelPadding=$.transA*($.minPointOffset||0)),$.min=X,$.max=ce)}}),J(N,!0)&&$.chart.redraw()}}W.Additions=C}(B||(B={})),B}),s(t,"masters/modules/broken-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/BrokenAxis.js"]],function(l,c){c.compose(l.Axis,l.Series)}),s(t,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),s(t,"Extensions/DataGrouping/ApproximationDefaults.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Core/Utilities.js"]],function(l,c){function d(W){const K=W.length;return W=m(W),B(W)&&K&&(W=j(W/K)),W}function m(W){let K=W.length,I;if(!K&&W.hasNulls)I=null;else if(K)for(I=0;K--;)I+=W[K];return I}const{arrayMax:n,arrayMin:S,correctFloat:j,extend:J,isNumber:B}=c;return c={average:d,averages:function(){const W=[];return[].forEach.call(arguments,function(K){W.push(d(K))}),typeof W[0]>"u"?void 0:W},close:function(W){return W.length?W[W.length-1]:W.hasNulls?null:void 0},high:function(W){return W.length?n(W):W.hasNulls?null:void 0},hlc:function(W,K,I){if(W=l.high(W),K=l.low(K),I=l.close(I),B(W)||B(K)||B(I))return[W,K,I]},low:function(W){return W.length?S(W):W.hasNulls?null:void 0},ohlc:function(W,K,I,O){if(W=l.open(W),K=l.high(K),I=l.low(I),O=l.close(O),B(W)||B(K)||B(I)||B(O))return[W,K,I,O]},open:function(W){return W.length?W[0]:W.hasNulls?null:void 0},range:function(W,K){if(W=l.low(W),K=l.high(K),B(W)||B(K))return[W,K];if(W===null&&K===null)return null},sum:m},J(l,c),c}),s(t,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),s(t,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Utilities.js"]],function(l,c){function d(O){const H=this,M=H.series;M.forEach(function(E){E.groupPixelWidth=void 0}),M.forEach(function(E){E.groupPixelWidth=H.getGroupPixelWidth&&H.getGroupPixelWidth(),E.groupPixelWidth&&(E.hasProcessed=!0),E.applyGrouping(!!O.hasExtremesChanged)})}function m(){const O=this.series;let H=O.length,M=0,E=!1,k,V;for(;H--;)(V=O[H].options.dataGrouping)&&(M=Math.max(M,W(V.groupPixelWidth,l.common.groupPixelWidth)),k=(O[H].processedXData||O[H].data).length,(O[H].groupPixelWidth||k>this.chart.plotSizeX/M||k&&V.forced)&&(E=!0));return E?M:0}function n(){this.series.forEach(function(O){O.hasProcessed=!1})}function S(O,H){let M;if(H=W(H,!0),O||(O={forced:!1,units:null}),this instanceof I)for(M=this.series.length;M--;)this.series[M].update({dataGrouping:O},!1);else this.chart.options.series.forEach(function(E){E.dataGrouping=typeof O=="boolean"?O:B(O,E.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),H&&this.chart.redraw()}const{addEvent:j,extend:J,merge:B,pick:W}=c,K=[];let I;return{compose:function(O){I=O,c.pushUnique(K,O)&&(j(O,"afterSetScale",n),j(O,"postProcessData",d),J(O.prototype,{applyGrouping:d,getGroupPixelWidth:m,setDataGrouping:S}))}}}),s(t,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,S){function j(N){var F=this.chart,$=this.options.dataGrouping,w=this.allowDG!==!1&&$&&C($.enabled,F.options.isStock),L=this.visible||!F.options.chart.ignoreHiddenSeries;const f=this.currentDataGrouping;var y=!1;if(w&&!this.requireSorting&&(this.requireSorting=y=!0),N=!!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!N)||!w,y&&(this.requireSorting=!1),!N){this.destroyGroupedData(),N=$.groupAll?this.xData:this.processedXData,w=$.groupAll?this.yData:this.processedYData;var b=F.plotSizeX;y=this.xAxis;var P=y.options.ordinal,q=this.groupPixelWidth,ee;let ue;if(q&&N&&N.length&&b){this.isDirty=ue=!0,this.points=null;var X=y.getExtremes(),ce=X.min;X=X.max,P=P&&y.ordinal&&y.ordinal.getGroupIntervalFactor(ce,X,this)||1,b=y.getTimeTicks(d.Additions.prototype.normalizeTimeTickInterval(q*(X-ce)/b*P,$.units||c.units),Math.min(ce,N[0]),Math.max(X,N[N.length-1]),y.options.startOfWeek,N,this.closestPointRange),q=O.groupData.apply(this,[N,w,b,$.approximation]),N=q.groupedXData,w=q.groupedYData,P=0,$&&$.smoothed&&N.length&&($.firstAnchor="firstPoint",$.anchor="middle",$.lastAnchor="lastPoint",E(32,!1,F,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),F=N;var fe=X,Te=this.options.dataGrouping;if(X=this.currentDataGrouping&&this.currentDataGrouping.gapSize,Te&&this.xData&&X&&this.groupMap){ce=F.length-1;var Z=Te.anchor;const ye=C(Te.firstAnchor,Z);if(Te=C(Te.lastAnchor,Z),Z&&Z!=="start"){var re=X*{middle:.5,end:1}[Z];for(Z=F.length-1;Z--&&0<Z;)F[Z]+=re}ye&&ye!=="start"&&this.xData[0]>=F[0]&&(Z=this.groupMap[0].start,re=this.groupMap[0].length,V(Z)&&V(re)&&(ee=Z+(re-1)),F[0]={middle:F[0]+.5*X,end:F[0]+X,firstPoint:this.xData[0],lastPoint:ee&&this.xData[ee]}[ye]),Te&&Te!=="start"&&X&&F[ce]>=fe-X&&(ee=this.groupMap[this.groupMap.length-1].start,F[ce]={middle:F[ce]+.5*X,end:F[ce]+X,firstPoint:ee&&this.xData[ee],lastPoint:this.xData[this.xData.length-1]}[Te])}for(ee=1;ee<b.length;ee++)b.info.segmentStarts&&b.info.segmentStarts.indexOf(ee)!==-1||(P=Math.max(b[ee]-b[ee-1],P));X=b.info,X.gapSize=P,this.closestPointRange=b.info.totalRange,this.groupMap=q.groupMap,L&&(L=y,ee=N,M(ee[0])&&V(L.min)&&V(L.dataMin)&&ee[0]<L.min&&((!M(L.options.min)&&L.min<=L.dataMin||L.min===L.dataMin)&&(L.min=Math.min(ee[0],L.min)),L.dataMin=Math.min(ee[0],L.dataMin)),M(ee[ee.length-1])&&V(L.max)&&V(L.dataMax)&&ee[ee.length-1]>L.max&&((!M(L.options.max)&&V(L.dataMax)&&L.max>=L.dataMax||L.max===L.dataMax)&&(L.max=Math.max(ee[ee.length-1],L.max)),L.dataMax=Math.max(ee[ee.length-1],L.dataMax))),$.groupAll&&(this.allGroupedData=w,$=this.cropData(N,w,y.min,y.max,1),N=$.xData,w=$.yData,this.cropStart=$.start),this.processedXData=N,this.processedYData=w}else this.groupMap=null;this.hasGroupedData=ue,this.currentDataGrouping=X,this.preventGraphAnimation=(f&&f.totalRange)!==(X&&X.totalRange)}}function J(){this.groupedData&&(this.groupedData.forEach(function(N,F){N&&(this.groupedData[F]=N.destroy?N.destroy():null)},this),this.groupedData.length=0)}function B(){ie.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function W(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"}function K(N,F,$,w){const L=this,f=L.data,y=L.options&&L.options.data,b=[],P=[],q=[],ee=N.length,X=!!F,ce=[],fe=L.pointArrayMap,Te=fe&&fe.length,Z=["x"].concat(fe||["y"]),re=this.options.dataGrouping&&this.options.dataGrouping.groupAll;let ue=0,ye=0;if(w=typeof w=="function"?w:w&&l[w]?l[w]:l[L.getDGApproximation&&L.getDGApproximation()||"average"],Te)for(var Ie=fe.length;Ie--;)ce.push([]);else ce.push([]);Ie=Te||1;for(let xe=0;xe<=ee;xe++)if(!(N[xe]<$[0])){for(;typeof $[ue+1]<"u"&&N[xe]>=$[ue+1]||xe===ee;){var ae=$[ue];L.dataGroupInfo={start:re?ye:L.cropStart+ye,length:ce[0].length};var be=w.apply(L,ce);for(L.pointClass&&!M(L.dataGroupInfo.options)&&(L.dataGroupInfo.options=G(L.pointClass.prototype.optionsToObject.call({series:L},L.options.data[L.cropStart+ye])),Z.forEach(function(le){delete L.dataGroupInfo.options[le]})),typeof be<"u"&&(b.push(ae),P.push(be),q.push(L.dataGroupInfo)),ye=xe,ae=0;ae<Ie;ae++)ce[ae].length=0,ce[ae].hasNulls=!1;if(ue+=1,xe===ee)break}if(xe===ee)break;if(fe){ae=L.options.dataGrouping&&L.options.dataGrouping.groupAll?xe:L.cropStart+xe,ae=f&&f[ae]||L.pointClass.prototype.applyOptions.apply({series:L},[y[ae]]);for(let le=0;le<Te;le++)be=ae[fe[le]],V(be)?ce[le].push(be):be===null&&(ce[le].hasNulls=!0)}else ae=X?F[xe]:null,V(ae)?ce[0].push(ae):ae===null&&(ce[0].hasNulls=!0)}return{groupedXData:b,groupedYData:P,groupMap:q}}function I(N){N=N.options;const F=this.type,$=this.chart.options.plotOptions,w=this.useCommonDataGrouping&&c.common,L=c.seriesSpecific;let f=m.defaultOptions.plotOptions[F].dataGrouping;if($&&(L[F]||w)){const y=this.chart.rangeSelector;f||(f=G(c.common,L[F])),N.dataGrouping=G(w,f,$.series&&$.series.dataGrouping,$[F].dataGrouping,this.userOptions.dataGrouping,!N.isInternal&&y&&V(y.selected)&&y.buttonOptions[y.selected].dataGrouping)}}const{series:{prototype:O}}=n,{addEvent:H,defined:M,error:E,extend:k,isNumber:V,merge:G,pick:C}=S,ie=O.generatePoints,Q=[];return{compose:function(N){const F=N.prototype.pointClass;S.pushUnique(Q,F)&&H(F,"update",function(){if(this.dataGroup)return E(24,!1,this.series.chart),!1}),S.pushUnique(Q,N)&&(H(N,"afterSetOptions",I),H(N,"destroy",J),k(N.prototype,{applyGrouping:j,destroyGroupedData:J,generatePoints:B,getDGApproximation:W,groupData:K}))},groupData:K}}),s(t,"Extensions/DataGrouping/DataGrouping.js",[t["Extensions/DataGrouping/DataGroupingAxisComposition.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){function S(I){const O=this.chart,H=O.time,M=I.labelConfig,E=M.series;var k=E.tooltipOptions,V=E.options.dataGrouping;const G=E.xAxis;var C=k.xDateFormat;let ie,Q,N=k[I.isFooter?"footerFormat":"headerFormat"];G&&G.options.type==="datetime"&&V&&W(M.key)&&(Q=E.currentDataGrouping,V=V.dateTimeLabelFormats||c.common.dateTimeLabelFormats,Q?(k=V[Q.unitName],Q.count===1?C=k[0]:(C=k[1],ie=k[2])):!C&&V&&G.dateTime&&(C=G.dateTime.getXDateFormat(M.x,k.dateTimeLabelFormats)),C=H.dateFormat(C,M.key),ie&&(C+=H.dateFormat(ie,M.key+Q.totalRange-1)),E.chart.styledMode&&(N=this.styledModeFormat(N)),I.text=j(N,{point:B(M.point,{key:C}),series:E},O),I.preventDefault())}const{format:j}=m,{addEvent:J,extend:B,isNumber:W}=n,K=[];return m={compose:function(I,O,H){l.compose(I),d.compose(O),H&&n.pushUnique(K,H)&&J(H,"headerFormatter",S)},groupData:d.groupData},m}),s(t,"masters/modules/datagrouping.src.js",[t["Core/Globals.js"],t["Extensions/DataGrouping/ApproximationDefaults.js"],t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGrouping.js"]],function(l,c,d,m){l.dataGrouping={approximationDefaults:c,approximations:d},m.compose(l.Axis,l.Series,l.Tooltip)}),s(t,"Series/DataModifyComposition.js",[t["Core/Axis/Axis.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(l,c,d,m){const{prototype:{tooltipFormatter:n}}=c,{addEvent:S,arrayMax:j,arrayMin:J,correctFloat:B,defined:W,isArray:K,isNumber:I,isString:O,pick:H}=m;var M;return function(E){function k(f,y,b){this.isXAxis||(this.series.forEach(function(P){f==="compare"&&typeof y!="boolean"?P.setCompare(y,!1):f!=="cumulative"||O(y)||P.setCumulative(y,!1)}),H(b,!0)&&this.chart.redraw())}function V(f){const y=this,{numberFormatter:b}=y.series.chart,P=function(q){f=f.replace("{point."+q+"}",(0<y[q]&&q==="change"?"+":"")+b(y[q],H(y.series.tooltipOptions.changeDecimals,2)))};return W(y.change)&&P("change"),W(y.cumulativeSum)&&P("cumulativeSum"),n.apply(this,[f])}function G(){const f=this.options.compare;let y;(f==="percent"||f==="value"||this.options.cumulative)&&(y=new L(this),f==="percent"||f==="value"?y.initCompare(f):y.initCumulative()),this.dataModify=y}function C(f){f=f.dataExtremes;const y=f.activeYData;if(this.dataModify&&f){let b;this.options.compare?b=[this.dataModify.modifyValue(f.dataMin),this.dataModify.modifyValue(f.dataMax)]:this.options.cumulative&&K(y)&&2<=y.length&&(b=L.getCumulativeExtremes(y)),b&&(f.dataMin=J(b),f.dataMax=j(b))}}function ie(f,y){this.options.compare=this.userOptions.compare=f,this.update({},H(y,!0)),!this.dataModify||f!=="value"&&f!=="percent"?this.points.forEach(b=>{delete b.change}):this.dataModify.initCompare(f)}function Q(){if(this.xAxis&&this.processedYData&&this.dataModify){const f=this.processedXData,y=this.processedYData,b=y.length,P=this.options.compareStart===!0?0:1;let q=-1,ee;for(this.pointArrayMap&&(q=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),ee=0;ee<b-P;ee++){const X=y[ee]&&-1<q?y[ee][q]:y[ee];if(I(X)&&X!==0&&f[ee+P]>=(this.xAxis.min||0)){this.dataModify.compareValue=X;break}}}}function N(f,y){this.setModifier("compare",f,y)}function F(f,y){f=H(f,!1),this.options.cumulative=this.userOptions.cumulative=f,this.update({},H(y,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(b=>{delete b.cumulativeSum})}function $(f,y){this.setModifier("cumulative",f,y)}const w=[];E.compose=function(f,y,b){if(m.pushUnique(w,f)){const P=f.prototype;P.setCompare=ie,P.setCumulative=F,S(f,"afterInit",G),S(f,"afterGetExtremes",C),S(f,"afterProcessData",Q)}return m.pushUnique(w,y)&&(y=y.prototype,y.setCompare=N,y.setModifier=k,y.setCumulative=$),m.pushUnique(w,b)&&(b.prototype.tooltipFormatter=V),f};class L{constructor(y){this.series=y}modifyValue(){return 0}static getCumulativeExtremes(y){let b=1/0,P=-1/0;return y.reduce((q,ee)=>(ee=q+ee,b=Math.min(b,ee,q),P=Math.max(P,ee,q),ee)),[b,P]}initCompare(y){this.modifyValue=function(b,P){b===null&&(b=0);const q=this.compareValue;return typeof b<"u"&&typeof q<"u"?(b=y==="value"?b-q:b/q*100-(this.series.options.compareBase===100?0:100),typeof P<"u"&&(P=this.series.points[P])&&(P.change=b),b):0}}initCumulative(){this.modifyValue=function(y,b){if(y===null&&(y=0),y!==void 0&&b!==void 0){const P=0<b?this.series.points[b-1]:null;return P&&P.cumulativeSum&&(y=B(P.cumulativeSum+y)),(b=this.series.points[b])&&(b.cumulativeSum=y),y}return 0}}}E.Additions=L}(M||(M={})),M}),s(t,"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(l,c){function d(){this.navigatorAxis||(this.navigatorAxis=new I(this))}function m(O){var H=this.chart.options,M=H.navigator;const E=this.navigatorAxis,k=H.chart.zooming.pinchType,V=H.rangeSelector;H=H.chart.zooming.type,this.isXAxis&&(M&&M.enabled||V&&V.enabled)&&(H==="y"?O.zoomed=!1:(!n&&H==="xy"||n&&k==="xy")&&this.options.range&&(M=E.previousZoom,J(O.newMin)?E.previousZoom=[this.min,this.max]:M&&(O.newMin=M[0],O.newMax=M[1],E.previousZoom=void 0))),typeof O.zoomed<"u"&&O.preventDefault()}const{isTouchDevice:n}=l,{addEvent:S,correctFloat:j,defined:J,isNumber:B,pick:W}=c,K=[];class I{static compose(H){c.pushUnique(K,H)&&(H.keepProps.push("navigatorAxis"),S(H,"init",d),S(H,"zoom",m))}constructor(H){this.axis=H}destroy(){this.axis=void 0}toFixedRange(H,M,E,k){var V=this.axis,G=V.chart;H=W(E,V.translate(H,!0,!V.horiz)),M=W(k,V.translate(M,!0,!V.horiz)),G=G&&G.fixedRange,V=(V.pointRange||0)/2;const C=G&&(M-H)/G;return J(E)||(H=j(H+V)),J(k)||(M=j(M-V)),.7<C&&1.3>C&&(k?H=M-G:M=H+G),B(H)&&B(M)||(H=M=void 0),{min:H,max:M}}}return I}),s(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],function(l,c){return{parse:l}=l,{seriesTypes:c}=c,c={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:l("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:typeof c.areaspline>"u"?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}},c}),s(t,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(l,c,d,m,n={}){return l=n.width?n.width/2:d,c=Math.round(l/3)+.5,m=n.height||m,[["M",-l-1,.5],["L",l,.5],["L",l,m+.5],["L",-l-1,m+.5],["L",-l-1,.5],["M",-c,4],["L",-c,m-3],["M",c-1,4],["L",c-1,m-3]]}}}),s(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,S,j){function J(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function B(){var w;const L=this.legend,f=this.navigator;let y,b,P;if(f){y=L&&L.options,b=f.xAxis,P=f.yAxis;const{scrollbarHeight:q,scrollButtonSize:ee}=f;this.inverted?(f.left=f.opposite?this.chartWidth-q-f.height:this.spacing[3]+q,f.top=this.plotTop+ee):(f.left=N(b.left,this.plotLeft+ee),f.top=f.navigatorOptions.top||this.chartHeight-f.height-q-(((w=this.scrollbar)===null||w===void 0?void 0:w.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(y&&y.verticalAlign==="bottom"&&y.layout!=="proximate"&&y.enabled&&!y.floating?L.legendHeight+N(y.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),b&&P&&(this.inverted?b.options.left=P.options.left=f.left:b.options.top=P.options.top=f.top,b.setAxisSize(),P.setAxisSize())}}function W(w){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new $(this),N(w.redraw,!0)&&this.redraw(w.animation))}function K(){const w=this.options;(w.navigator.enabled||w.scrollbar.enabled)&&(this.scroller=this.navigator=new $(this))}function I(){const w=this.options,L=w.navigator,f=w.rangeSelector;if((L&&L.enabled||f&&f.enabled)&&(!V&&w.chart.zooming.type==="x"||V&&w.chart.zooming.pinchType==="x"))return!1}function O(w){const L=w.navigator;L&&w.xAxis[0]&&(w=w.xAxis[0].getExtremes(),L.render(w.min,w.max))}function H(w){const L=w.options.navigator||{},f=w.options.scrollbar||{};this.navigator||this.scroller||!L.enabled&&!f.enabled||(Q(!0,this.options.navigator,L),Q(!0,this.options.scrollbar,f),delete w.options.navigator,delete w.options.scrollbar)}function M(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}const{defaultOptions:E,setOptions:k}=l,{isTouchDevice:V}=c,{getRendererType:G}=S,{addEvent:C,extend:ie,merge:Q,pick:N}=j,F=[];let $;return{compose:function(w,L,f,y){d.compose(w),$=f,j.pushUnique(F,L)&&(L.prototype.callbacks.push(O),C(L,"afterAddSeries",J),C(L,"afterSetChartSize",B),C(L,"afterUpdate",W),C(L,"beforeRender",K),C(L,"beforeShowResetZoom",I),C(L,"update",H)),j.pushUnique(F,y)&&C(y,"afterUpdate",M),j.pushUnique(F,G)&&ie(G().prototype.symbols,n),j.pushUnique(F,k)&&ie(E,{navigator:m})}}}),s(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Utilities.js"]],function(l){const{addEvent:c,defined:d,pick:m}=l,n=[];class S{static compose(J,B){if(!l.pushUnique(n,J))return J;const W=K=>{const I=m(K.options&&K.options.min,K.min),O=m(K.options&&K.options.max,K.max);return{axisMin:I,axisMax:O,scrollMin:d(K.dataMin)?Math.min(I,K.min,K.dataMin,m(K.threshold,1/0)):I,scrollMax:d(K.dataMax)?Math.max(O,K.max,K.dataMax,m(K.threshold,-1/0)):O}};return c(J,"afterInit",function(){const K=this;K.options&&K.options.scrollbar&&K.options.scrollbar.enabled&&(K.options.scrollbar.vertical=!K.horiz,K.options.startOnTick=K.options.endOnTick=!1,K.scrollbar=new B(K.chart.renderer,K.options.scrollbar,K.chart),c(K.scrollbar,"changed",function(I){let{axisMin:O,axisMax:H,scrollMin:M,scrollMax:E}=W(K);var k=E-M;let V;d(O)&&d(H)&&(K.horiz&&!K.reversed||!K.horiz&&K.reversed?(V=M+k*this.to,k=M+k*this.from):(V=M+k*(1-this.from),k=M+k*(1-this.to)),this.shouldUpdateExtremes(I.DOMType)?K.setExtremes(k,V,!0,I.DOMType==="mousemove"||I.DOMType==="touchmove"?!1:void 0,I):this.setRange(this.from,this.to))}))}),c(J,"afterRender",function(){let{scrollMin:K,scrollMax:I}=W(this),O=this.scrollbar;var H=this.axisTitleMargin+(this.titleOffset||0),M=this.chart.scrollbarsOffsets;let E=this.options.margin||0;O&&(this.horiz?(this.opposite||(M[1]+=H),O.position(this.left,this.top+this.height+2+M[1]-(this.opposite?E:0),this.width,this.height),this.opposite||(M[1]+=E),H=1):(this.opposite&&(M[0]+=H),O.position(O.options.opposite?this.left+this.width+2+M[0]-(this.opposite?0:E):this.opposite?0:E,this.top,this.width,this.height),this.opposite&&(M[0]+=E),H=0),M[H]+=O.size+(O.options.margin||0),isNaN(K)||isNaN(I)||!d(this.min)||!d(this.max)||this.min===this.max?O.setRange(0,1):(M=(this.min-K)/(I-K),H=(this.max-K)/(I-K),this.horiz&&!this.reversed||!this.horiz&&this.reversed?O.setRange(M,H):O.setRange(1-H,1-M)))}),c(J,"afterGetOffset",function(){const K=this.scrollbar;var I=K&&!K.options.opposite;I=this.horiz?2:I?3:1,K&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[I]+=K.size+(K.options.margin||0))}),J}}return S}),s(t,"Stock/Scrollbar/ScrollbarDefaults.js",[t["Core/Globals.js"]],function(l){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),s(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){const{defaultOptions:S}=l,{addEvent:j,correctFloat:J,defined:B,destroyObjectProperties:W,fireEvent:K,merge:I,pick:O,removeEvent:H}=n;class M{static compose(k){d.compose(k,M)}static swapXY(k,V){return V&&k.forEach(G=>{const C=G.length;let ie;for(let Q=0;Q<C;Q+=2)ie=G[Q+1],typeof ie=="number"&&(G[Q+1]=G[Q+2],G[Q+2]=ie)}),k}constructor(k,V,G){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(k,V,G)}addEvents(){var k=this.options.inverted?[1,0]:[0,1];const V=this.scrollbarButtons,G=this.scrollbarGroup.element,C=this.track.element,ie=this.mouseDownHandler.bind(this),Q=this.mouseMoveHandler.bind(this),N=this.mouseUpHandler.bind(this);k=[[V[k[0]].element,"click",this.buttonToMinClick.bind(this)],[V[k[1]].element,"click",this.buttonToMaxClick.bind(this)],[C,"click",this.trackClick.bind(this)],[G,"mousedown",ie],[G.ownerDocument,"mousemove",Q],[G.ownerDocument,"mouseup",N]],c.hasTouch&&k.push([G,"touchstart",ie],[G.ownerDocument,"touchmove",Q],[G.ownerDocument,"touchend",N]),k.forEach(function(F){j.apply(null,F)}),this._events=k}buttonToMaxClick(k){const V=(this.to-this.from)*O(this.options.step,.2);this.updatePosition(this.from+V,this.to+V),K(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:k})}buttonToMinClick(k){const V=J(this.to-this.from)*O(this.options.step,.2);this.updatePosition(J(this.from-V),J(this.to-V)),K(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:k})}cursorToScrollbarPosition(k){var V=this.options;return V=V.minWidth>this.calculatedWidth?V.minWidth:0,{chartX:(k.chartX-this.x-this.xOffset)/(this.barWidth-V),chartY:(k.chartY-this.y-this.yOffset)/(this.barWidth-V)}}destroy(){const k=this,V=k.chart.scroller;k.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(G){k[G]&&k[G].destroy&&(k[G]=k[G].destroy())}),V&&k===V.scrollbar&&(V.scrollbar=null,W(V.scrollbarButtons))}drawScrollbarButton(k){const V=this.renderer,G=this.scrollbarButtons,C=this.options,ie=this.size;var Q=V.g().add(this.group);G.push(Q),C.buttonsEnabled&&(Q=V.rect().addClass("highcharts-scrollbar-button").add(Q),this.chart.styledMode||Q.attr({stroke:C.buttonBorderColor,"stroke-width":C.buttonBorderWidth,fill:C.buttonBackgroundColor}),Q.attr(Q.crisp({x:-.5,y:-.5,width:ie+1,height:ie+1,r:C.buttonBorderRadius},Q.strokeWidth())),k=V.path(M.swapXY([["M",ie/2+(k?-1:1),ie/2-3],["L",ie/2+(k?-1:1),ie/2+3],["L",ie/2+(k?2:-2),ie/2]],C.vertical)).addClass("highcharts-scrollbar-arrow").add(G[k]),this.chart.styledMode||k.attr({fill:C.buttonArrowColor}))}init(k,V,G){this.scrollbarButtons=[],this.renderer=k,this.userOptions=V,this.options=I(m,S.scrollbar,V),this.options.margin=O(this.options.margin,10),this.chart=G,this.size=O(this.options.size,this.options.height),V.enabled&&(this.render(),this.addEvents())}mouseDownHandler(k){k=this.chart.pointer.normalize(k),k=this.cursorToScrollbarPosition(k),this.chartX=k.chartX,this.chartY=k.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(k){var V=this.chart.pointer.normalize(k),G=this.options.vertical?"chartY":"chartX";const C=this.initPositions||[];!this.grabbedCenter||k.touches&&k.touches[0][G]===0||(V=this.cursorToScrollbarPosition(V)[G],G=this[G],G=V-G,this.hasDragged=!0,this.updatePosition(C[0]+G,C[1]+G),this.hasDragged&&K(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:k.type,DOMEvent:k}))}mouseUpHandler(k){this.hasDragged&&K(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:k.type,DOMEvent:k}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(k,V,G,C){const{buttonsEnabled:ie,margin:Q=0,vertical:N}=this.options,F=this.rendered?"animate":"attr";let $=C,w=0;this.group.show(),this.x=k,this.y=V+this.trackBorderWidth,this.width=G,this.height=C,this.xOffset=$,this.yOffset=w,N?(this.width=this.yOffset=G=this.size,this.xOffset=$=0,this.yOffset=w=ie?this.size:0,this.barWidth=C-(ie?2*G:0),this.x=k+=Q):(this.height=C=this.size,this.xOffset=$=ie?this.size:0,this.barWidth=G-(ie?2*C:0),this.y+=Q),this.group[F]({translateX:k,translateY:this.y}),this.track[F]({width:G,height:C}),this.scrollbarButtons[1][F]({translateX:N?0:G-$,translateY:N?C-w:0})}removeEvents(){this._events.forEach(function(k){H.apply(null,k)}),this._events.length=0}render(){const k=this.renderer,V=this.options,G=this.size,C=this.chart.styledMode,ie=k.g("scrollbar").attr({zIndex:V.zIndex}).hide().add();this.group=ie,this.track=k.rect().addClass("highcharts-scrollbar-track").attr({r:V.trackBorderRadius||0,height:G,width:G}).add(ie),C||this.track.attr({fill:V.trackBackgroundColor,stroke:V.trackBorderColor,"stroke-width":V.trackBorderWidth});const Q=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-Q%2/2,y:-Q%2/2}),this.scrollbarGroup=k.g().add(ie),this.scrollbar=k.rect().addClass("highcharts-scrollbar-thumb").attr({height:G-Q,width:G-Q,r:V.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=k.path(M.swapXY([["M",-3,G/4],["L",-3,2*G/3],["M",0,G/4],["L",0,2*G/3],["M",3,G/4],["L",3,2*G/3]],V.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),C||(this.scrollbar.attr({fill:V.barBackgroundColor,stroke:V.barBorderColor,"stroke-width":V.barBorderWidth}),this.scrollbarRifles.attr({stroke:V.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(k,V){const G=this.options,C=G.vertical;var ie=G.minWidth,Q=this.barWidth;const N=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(B(Q)){var F=Q*Math.min(V,1);k=Math.max(k,0);var $=Math.ceil(Q*k);this.calculatedWidth=F=J(F-$),F<ie&&($=(Q-ie+F)*k,F=ie),ie=Math.floor($+this.xOffset+this.yOffset),Q=F/2-.5,this.from=k,this.to=V,C?(this.scrollbarGroup[N]({translateY:ie}),this.scrollbar[N]({height:F}),this.scrollbarRifles[N]({translateY:Q}),this.scrollbarTop=ie,this.scrollbarLeft=0):(this.scrollbarGroup[N]({translateX:ie}),this.scrollbar[N]({width:F}),this.scrollbarRifles[N]({translateX:Q}),this.scrollbarLeft=ie,this.scrollbarTop=0),12>=F?this.scrollbarRifles.hide():this.scrollbarRifles.show(),G.showFull===!1&&(0>=k&&1<=V?this.group.hide():this.group.show()),this.rendered=!0}}shouldUpdateExtremes(k){return O(this.options.liveRedraw,c.svg&&!c.isTouchDevice&&!this.chart.boosted)||k==="mouseup"||k==="touchend"||!B(k)}trackClick(k){const V=this.chart.pointer.normalize(k),G=this.to-this.from,C=this.y+this.scrollbarTop,ie=this.x+this.scrollbarLeft;this.options.vertical&&V.chartY>C||!this.options.vertical&&V.chartX>ie?this.updatePosition(this.from+G,this.to+G):this.updatePosition(this.from-G,this.to-G),K(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:k})}update(k){this.destroy(),this.init(this.chart.renderer,I(!0,this.options,k),this.chart)}updatePosition(k,V){1<V&&(k=J(1-J(V-k)),V=1),0>k&&(V=J(V-k),k=0),this.from=k,this.to=V}}return M.defaultOptions=m,S.scrollbar=I(!0,M.defaultOptions,S.scrollbar),M}),s(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,S,j){function J(L,...f){if(f=[].filter.call(f,ie),f.length)return Math[L].apply(0,f)}const{defaultOptions:B}=c,{hasTouch:W,isTouchDevice:K}=d,{addEvent:I,clamp:O,correctFloat:H,defined:M,destroyObjectProperties:E,erase:k,extend:V,find:G,isArray:C,isNumber:ie,merge:Q,pick:N,removeEvent:F,splat:$}=j;class w{static compose(f,y,b){n.compose(f,y,w,b)}constructor(f){this.rendered=this.range=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.scrollbarHeight=0,this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.scrollButtonSize=void 0,this.init(f)}drawHandle(f,y,b,P){const q=this.navigatorOptions.handles.height;this.handles[y][P](b?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(f,10)+.5-q)}:{translateX:Math.round(this.left+parseInt(f,10)),translateY:Math.round(this.top+this.height/2-q/2-1)})}drawOutline(f,y,b,P){const q=this.navigatorOptions.maskInside;var ee=this.outline.strokeWidth();const X=ee/2;var ce=ee%2/2;const fe=this.scrollButtonSize,Te=this.size,Z=this.top;ee=this.height;const re=Z-X,ue=Z+ee;let ye=this.left;b?(b=Z+y+ce,y=Z+f+ce,ce=[["M",ye+ee,Z-fe-ce],["L",ye+ee,b],["L",ye,b],["M",ye,y],["L",ye+ee,y],["L",ye+ee,Z+Te+fe]],q&&ce.push(["M",ye+ee,b-X],["L",ye+ee,y+X])):(ye-=fe,f+=ye+fe-ce,y+=ye+fe-ce,ce=[["M",ye,re],["L",f,re],["L",f,ue],["M",y,ue],["L",y,re],["L",ye+Te+2*fe,Z+X]],q&&ce.push(["M",f-X,re],["L",y+X,re])),this.outline[P]({d:ce})}drawMasks(f,y,b,P){const q=this.left,ee=this.top,X=this.height;let ce,fe,Te,Z;b?(Te=[q,q,q],Z=[ee,ee+f,ee+y],fe=[X,X,X],ce=[f,y-f,this.size-y]):(Te=[q,q+f,q+y],Z=[ee,ee,ee],fe=[f,y-f,this.size-y],ce=[X,X,X]),this.shades.forEach((re,ue)=>{re[P]({x:Te[ue],y:Z[ue],width:fe[ue],height:ce[ue]})})}renderElements(){const f=this,y=f.navigatorOptions,b=y.maskInside,P=f.chart,q=P.renderer,ee={cursor:P.inverted?"ns-resize":"ew-resize"},X=f.navigatorGroup=q.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!b,b,!b].forEach((ce,fe)=>{const Te=q.rect().addClass("highcharts-navigator-mask"+(fe===1?"-inside":"-outside")).add(X);P.styledMode||(Te.attr({fill:ce?y.maskFill:"rgba(0,0,0,0)"}),fe===1&&Te.css(ee)),f.shades[fe]=Te}),f.outline=q.path().addClass("highcharts-navigator-outline").add(X),P.styledMode||f.outline.attr({"stroke-width":y.outlineWidth,stroke:y.outlineColor}),y.handles&&y.handles.enabled){const ce=y.handles,{height:fe,width:Te}=ce;[0,1].forEach(Z=>{f.handles[Z]=q.symbol(ce.symbols[Z],-Te/2-1,0,Te,fe,ce),P.inverted&&f.handles[Z].attr({rotation:90,rotationOriginX:Math.floor(-Te/2),rotationOriginY:(fe+Te)/2}),f.handles[Z].attr({zIndex:7-Z}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][Z]).add(X),P.styledMode||f.handles[Z].attr({fill:ce.backgroundColor,stroke:ce.borderColor,"stroke-width":ce.lineWidth}).css(ee)})}}update(f){(this.series||[]).forEach(y=>{y.baseSeries&&delete y.baseSeries.navigatorSeries}),this.destroy(),Q(!0,this.chart.options.navigator,f),this.init(this.chart)}render(f,y,b,P){var q=this.chart;const ee=this.xAxis,X=ee.pointRange||0;var ce=ee.navigatorAxis.fake?q.xAxis[0]:ee;const fe=this.navigatorEnabled;var Te=this.rendered,Z=q.inverted;const re=q.xAxis[0].minRange,ue=q.xAxis[0].options.maxRange,ye=this.scrollButtonSize;let Ie=this.scrollbarHeight,ae;if(!this.hasDragged||M(b)){if(f=H(f-X/2),y=H(y+X/2),!ie(f)||!ie(y))if(Te)b=0,P=N(ee.width,ce.width);else return;this.left=N(ee.left,q.plotLeft+ye+(Z?q.plotWidth:0));var be=this.size=ae=N(ee.len,(Z?q.plotHeight:q.plotWidth)-2*ye);q=Z?Ie:ae+2*ye,b=N(b,ee.toPixels(f,!0)),P=N(P,ee.toPixels(y,!0)),ie(b)&&Math.abs(b)!==1/0||(b=0,P=q),f=ee.toValue(b,!0),y=ee.toValue(P,!0);var xe=Math.abs(H(y-f));xe<re?this.grabbedLeft?b=ee.toPixels(y-re-X,!0):this.grabbedRight&&(P=ee.toPixels(f+re+X,!0)):M(ue)&&H(xe-X)>ue&&(this.grabbedLeft?b=ee.toPixels(y-ue-X,!0):this.grabbedRight&&(P=ee.toPixels(f+ue+X,!0))),this.zoomedMax=O(Math.max(b,P),0,be),this.zoomedMin=O(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(b,P),0,be),this.range=this.zoomedMax-this.zoomedMin,be=Math.round(this.zoomedMax),b=Math.round(this.zoomedMin),fe&&(this.navigatorGroup.attr({visibility:"inherit"}),Te=Te&&!this.hasDragged?"animate":"attr",this.drawMasks(b,be,Z,Te),this.drawOutline(b,be,Z,Te),this.navigatorOptions.handles.enabled&&(this.drawHandle(b,0,Z,Te),this.drawHandle(be,1,Z,Te))),this.scrollbar&&(Z?(Z=this.top-ye,ce=this.left-Ie+(fe||!ce.opposite?0:(ce.titleOffset||0)+ce.axisTitleMargin),Ie=ae+2*ye):(Z=this.top+(fe?this.height:-Ie),ce=this.left-ye),this.scrollbar.position(ce,Z,q,Ie),this.scrollbar.setRange(this.zoomedMin/(ae||1),this.zoomedMax/(ae||1))),this.rendered=!0}}addMouseEvents(){const f=this,y=f.chart,b=y.container;let P=[],q,ee;f.mouseMoveHandler=q=function(X){f.onMouseMove(X)},f.mouseUpHandler=ee=function(X){f.onMouseUp(X)},P=f.getPartsEvents("mousedown"),P.push(I(y.renderTo,"mousemove",q),I(b.ownerDocument,"mouseup",ee)),W&&(P.push(I(y.renderTo,"touchmove",q),I(b.ownerDocument,"touchend",ee)),P.concat(f.getPartsEvents("touchstart"))),f.eventsToUnbind=P,f.series&&f.series[0]&&P.push(I(f.series[0].xAxis,"foundExtremes",function(){y.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(f){const y=this,b=[];return["shades","handles"].forEach(function(P){y[P].forEach(function(q,ee){b.push(I(q.element,f,function(X){y[P+"Mousedown"](X,ee)}))})}),b}shadesMousedown(f,y){f=this.chart.pointer.normalize(f);const b=this.chart,P=this.xAxis,q=this.zoomedMin,ee=this.size,X=this.range;let ce=this.left,fe=f.chartX,Te,Z;b.inverted&&(fe=f.chartY,ce=this.top),y===1?(this.grabbedCenter=fe,this.fixedWidth=X,this.dragOffset=fe-q):(f=fe-ce-X/2,y===0?f=Math.max(0,f):y===2&&f+X>=ee&&(f=ee-X,this.reversedExtremes?(f-=X,Z=this.getUnionExtremes().dataMin):Te=this.getUnionExtremes().dataMax),f!==q&&(this.fixedWidth=X,y=P.navigatorAxis.toFixedRange(f,f+X,Z,Te),M(y.min)&&b.xAxis[0].setExtremes(Math.min(y.min,y.max),Math.max(y.min,y.max),!0,null,{trigger:"navigator"})))}handlesMousedown(f,y){this.chart.pointer.normalize(f),f=this.chart;const b=f.xAxis[0],P=this.reversedExtremes;y===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=P?b.min:b.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=P?b.max:b.min),f.fixedRange=null}onMouseMove(f){const y=this;var b=y.chart;const P=y.navigatorSize,q=y.range,ee=y.dragOffset,X=b.inverted;let ce=y.left;f.touches&&f.touches[0].pageX===0||(f=b.pointer.normalize(f),b=f.chartX,X&&(ce=y.top,b=f.chartY),y.grabbedLeft?(y.hasDragged=!0,y.render(0,0,b-ce,y.otherHandlePos)):y.grabbedRight?(y.hasDragged=!0,y.render(0,0,y.otherHandlePos,b-ce)):y.grabbedCenter&&(y.hasDragged=!0,b<ee?b=ee:b>P+ee-q&&(b=P+ee-q),y.render(0,0,b-ee,b-ee+q)),y.hasDragged&&y.scrollbar&&N(y.scrollbar.options.liveRedraw,!K&&!this.chart.boosted)&&(f.DOMType=f.type,setTimeout(function(){y.onMouseUp(f)},0)))}onMouseUp(f){var y=this.chart,b=this.xAxis,P=this.scrollbar;const q=f.DOMEvent||f,ee=y.inverted,X=this.rendered&&!this.hasDragged?"animate":"attr";let ce,fe;(!this.hasDragged||P&&P.hasDragged)&&f.trigger!=="scrollbar"||(P=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?ce=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(fe=this.fixedExtreme),this.zoomedMax===this.size&&(fe=this.reversedExtremes?P.dataMin:P.dataMax),this.zoomedMin===0&&(ce=this.reversedExtremes?P.dataMax:P.dataMin),b=b.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,ce,fe),M(b.min)&&y.xAxis[0].setExtremes(Math.min(b.min,b.max),Math.max(b.min,b.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:q})),f.DOMType!=="mousemove"&&f.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&ie(this.zoomedMin)&&ie(this.zoomedMax)&&(y=Math.round(this.zoomedMin),f=Math.round(this.zoomedMax),this.shades&&this.drawMasks(y,f,ee,X),this.outline&&this.drawOutline(y,f,ee,X),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(y,0,ee,X),this.drawHandle(f,1,ee,X)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(f){f()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const f=this.baseSeries||[];this.navigatorEnabled&&f[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&f.forEach(function(y){F(y,"updatedData",this.updatedDataHandler)},this),f[0].xAxis&&F(f[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(f){var y=f.options,b=y.navigator||{},P=b.enabled,q=y.scrollbar||{},ee=q.enabled;y=P&&b.height||0;var X=ee&&q.height||0;const ce=q.buttonsEnabled&&X||0;this.handles=[],this.shades=[],this.chart=f,this.setBaseSeries(),this.height=y,this.scrollbarHeight=X,this.scrollButtonSize=ce,this.scrollbarEnabled=ee,this.navigatorEnabled=P,this.navigatorOptions=b,this.scrollbarOptions=q,this.opposite=N(b.opposite,!(P||!f.inverted));const fe=this;P=fe.baseSeries,q=f.xAxis.length,ee=f.yAxis.length,X=P&&P[0]&&P[0].xAxis||f.xAxis[0]||{options:{}},f.isDirtyBox=!0,fe.navigatorEnabled?(fe.xAxis=new l(f,Q({breaks:X.options.breaks,ordinal:X.options.ordinal},b.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:q,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},f.inverted?{offsets:[ce,0,-ce,0],width:y}:{offsets:[0,-ce,0,ce],height:y})),fe.yAxis=new l(f,Q(b.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:ee,isInternal:!0,reversed:N(b.yAxis&&b.yAxis.reversed,f.yAxis[0]&&f.yAxis[0].reversed,!1),zoomEnabled:!1},f.inverted?{width:y}:{height:y})),P||b.series.data?fe.updateNavigatorSeries(!1):f.series.length===0&&(fe.unbindRedraw=I(f,"beforeRedraw",function(){0<f.series.length&&!fe.series&&(fe.setBaseSeries(),fe.unbindRedraw())})),fe.reversedExtremes=f.inverted&&!fe.xAxis.reversed||!f.inverted&&fe.xAxis.reversed,fe.renderElements(),fe.addMouseEvents()):(fe.xAxis={chart:f,navigatorAxis:{fake:!0},translate:function(Te,Z){var re=f.xAxis[0];const ue=re.getExtremes(),ye=re.len-2*ce,Ie=J("min",re.options.min,ue.dataMin);return re=J("max",re.options.max,ue.dataMax)-Ie,Z?Te*re/ye+Ie:ye*(Te-Ie)/re},toPixels:function(Te){return this.translate(Te)},toValue:function(Te){return this.translate(Te,!0)}},fe.xAxis.navigatorAxis.axis=fe.xAxis,fe.xAxis.navigatorAxis.toFixedRange=m.prototype.toFixedRange.bind(fe.xAxis.navigatorAxis)),f.options.scrollbar.enabled&&(b=Q(f.options.scrollbar,{vertical:f.inverted}),!ie(b.margin)&&fe.navigatorEnabled&&(b.margin=f.inverted?-3:3),f.scrollbar=fe.scrollbar=new S(f.renderer,b,f),I(fe.scrollbar,"changed",function(Te){var Z=fe.size;const re=Z*this.to;Z*=this.from,fe.hasDragged=fe.scrollbar.hasDragged,fe.render(0,0,Z,re),this.shouldUpdateExtremes(Te.DOMType)&&setTimeout(function(){fe.onMouseUp(Te)})})),fe.addBaseSeriesEvents(),fe.addChartEvents()}getUnionExtremes(f){const y=this.chart.xAxis[0],b=this.xAxis,P=b.options,q=y.options;let ee;return f&&y.dataMin===null||(ee={dataMin:N(P&&P.min,J("min",q.min,y.dataMin,b.dataMin,b.min)),dataMax:N(P&&P.max,J("max",q.max,y.dataMax,b.dataMax,b.max))}),ee}setBaseSeries(f,y){const b=this.chart,P=this.baseSeries=[];f=f||b.options&&b.options.navigator.baseSeries||(b.series.length?G(b.series,q=>!q.options.isInternal).index:0),(b.series||[]).forEach((q,ee)=>{q.options.isInternal||!q.options.showInNavigator&&(ee!==f&&q.options.id!==f||q.options.showInNavigator===!1)||P.push(q)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,y)}updateNavigatorSeries(f,y){const b=this,P=b.chart,q=b.baseSeries,ee={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},X=b.series=(b.series||[]).filter(re=>{const ue=re.baseSeries;return 0>q.indexOf(ue)?(ue&&(F(ue,"updatedData",b.updatedDataHandler),delete ue.navigatorSeries),re.chart&&re.destroy(),!1):!0});let ce,fe,Te=b.navigatorOptions.series,Z;q&&q.length&&q.forEach(re=>{const ue=re.navigatorSeries;var ye=V({color:re.color,visible:re.visible},C(Te)?B.navigator.series:Te);ue&&b.navigatorOptions.adaptToUpdatedData===!1||(ee.name="Navigator "+q.length,ce=re.options||{},Z=ce.navigatorOptions||{},ye.dataLabels=$(ye.dataLabels),fe=Q(ce,ee,ye,Z),fe.pointRange=N(ye.pointRange,Z.pointRange,B.plotOptions[fe.type||"line"].pointRange),ye=Z.data||ye.data,b.hasNavigatorData=b.hasNavigatorData||!!ye,fe.data=ye||ce.data&&ce.data.slice(0),ue&&ue.options?ue.update(fe,y):(re.navigatorSeries=P.initSeries(fe),re.navigatorSeries.baseSeries=re,X.push(re.navigatorSeries)))}),(Te.data&&(!q||!q.length)||C(Te))&&(b.hasNavigatorData=!1,Te=$(Te),Te.forEach((re,ue)=>{ee.name="Navigator "+(X.length+1),fe=Q(B.navigator.series,{color:P.series[ue]&&!P.series[ue].options.isInternal&&P.series[ue].color||P.options.colors[ue]||P.options.colors[0]},ee,re),fe.data=re.data,fe.data&&(b.hasNavigatorData=!0,X.push(P.initSeries(fe)))})),f&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const f=this,y=f.baseSeries||[];y[0]&&y[0].xAxis&&y[0].eventsToUnbind.push(I(y[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),y.forEach(b=>{b.eventsToUnbind.push(I(b,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),b.eventsToUnbind.push(I(b,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&b.xAxis&&b.eventsToUnbind.push(I(b,"updatedData",this.updatedDataHandler)),b.eventsToUnbind.push(I(b,"remove",function(){this.navigatorSeries&&(k(f.series,this.navigatorSeries),M(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(f){return this.baseSeries.reduce(function(y,b){return Math.min(y,b.xData&&b.xData.length?b.xData[0]:y)},f)}modifyNavigatorAxisExtremes(){const f=this.xAxis;if(typeof f.getExtremes<"u"){const y=this.getUnionExtremes(!0);!y||y.dataMin===f.min&&y.dataMax===f.max||(f.min=y.dataMin,f.max=y.dataMax)}}modifyBaseAxisExtremes(){const f=this.chart.navigator;var y=this.getExtremes();const b=y.dataMin,P=y.dataMax;y=y.max-y.min;const q=f.stickToMin,ee=f.stickToMax,X=N(this.options.overscroll,0),ce=f.series&&f.series[0],fe=!!this.setExtremes;let Te,Z;this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton"||(q&&(Z=b,Te=Z+y),ee&&(Te=P+X,q||(Z=Math.max(b,Te-y,f.getBaseSeriesMin(ce&&ce.xData?ce.xData[0]:-Number.MAX_VALUE)))),fe&&(q||ee)&&ie(Z)&&(this.min=this.userMin=Z,this.max=this.userMax=Te)),f.stickToMin=f.stickToMax=null}updatedDataHandler(){const f=this.chart.navigator,y=this.navigatorSeries;f.stickToMax=N(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,f.reversedExtremes?Math.round(f.zoomedMin)===0:Math.round(f.zoomedMax)>=Math.round(f.size)),f.stickToMin=f.shouldStickToMin(this,f),y&&!f.hasNavigatorData&&(y.options.pointStart=this.xData[0],y.setData(this.options.data,!1,null,!1))}shouldStickToMin(f,y){y=y.getBaseSeriesMin(f.xData[0]);var b=f.xAxis;f=b.max;const P=b.min;return b=b.options.range,ie(f)&&ie(P)?b&&0<f-y?f-y<b:P<=y:!1}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(I(this.chart,"redraw",function(){const f=this.navigator,y=f&&(f.baseSeries&&f.baseSeries[0]&&f.baseSeries[0].xAxis||this.xAxis[0]);y&&f.render(y.min,y.max)}),I(this.chart,"getMargins",function(){let f=this.navigator,y=f.opposite?"plotTop":"marginBottom";this.inverted&&(y=f.opposite?"marginRight":"plotLeft"),this[y]=(this[y]||0)+(f.navigatorEnabled||!this.inverted?f.height+f.scrollbarHeight:0)+f.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(k(this.chart.xAxis,this.xAxis),k(this.chart.axes,this.xAxis)),this.yAxis&&(k(this.chart.yAxis,this.yAxis),k(this.chart.axes,this.yAxis)),(this.series||[]).forEach(f=>{f.destroy&&f.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(f=>{this[f]&&this[f].destroy&&this[f].destroy(),this[f]=null}),[this.handles].forEach(f=>{E(f)})}}return w}),s(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),s(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(l,c,d){function m(){const F=this.range,$=F.type,w=this.max,L=this.chart.time,f=function(q,ee){const X=$==="year"?"FullYear":"Month",ce=new L.Date(q),fe=L.get(X,ce);return L.set(X,ce,fe+ee),fe===L.get(X,ce)&&L.set("Date",ce,0),ce.getTime()-q};let y,b;V(F)?(y=w-F,b=F):F&&(y=w+f(w,-(F.count||1)),this.chart&&(this.chart.fixedRange=w-y));const P=C(this.dataMin,Number.MIN_VALUE);return V(y)||(y=P),y<=P&&(y=P,typeof b>"u"&&(b=f(y,F.count)),this.newMax=Math.min(y+b,C(this.dataMax,Number.MAX_VALUE))),V(w)?!V(F)&&F&&F._offsetMin&&(y+=F._offsetMin):y=void 0,y}function n(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new N(this))}function S(){var F=this.axes;const $=this.rangeSelector;$&&(V($.deferredYTDClick)&&($.clickButton($.deferredYTDClick),delete $.deferredYTDClick),F.forEach(w=>{w.updateNames(),w.setScale()}),this.getAxisMargins(),$.render(),F=$.options.verticalAlign,$.options.floating||(F==="bottom"?this.extraBottomMargin=!0:F!=="middle"&&(this.extraTopMargin=!0)))}function j(F){let $,w,L,f;const y=F.rangeSelector,b=()=>{y&&($=F.xAxis[0].getExtremes(),w=F.legend,f=y&&y.options.verticalAlign,V($.min)&&y.render($.min,$.max),w.display&&f==="top"&&f===w.options.verticalAlign&&(L=G(F.spacingBox),L.y=w.options.layout==="vertical"?F.plotTop:L.y+y.getHeight(),w.group.placed=!1,w.align(L)))};y&&(k(ie,P=>P[0]===F)||ie.push([F,[H(F.xAxis[0],"afterSetExtremes",function(P){y&&y.render(P.min,P.max)}),H(F,"redraw",b)]]),b())}function J(){for(let F=0,$=ie.length;F<$;++F){const w=ie[F];if(w[0]===this){w[1].forEach(L=>L()),ie.splice(F,1);break}}}function B(){var F=this.rangeSelector;F&&(F=F.getHeight(),this.extraTopMargin&&(this.plotTop+=F),this.extraBottomMargin&&(this.marginBottom+=F))}function W(){var F=this.rangeSelector;F&&!F.options.floating&&(F.render(),F=F.options.verticalAlign,F==="bottom"?this.extraBottomMargin=!0:F!=="middle"&&(this.extraTopMargin=!0))}function K(F){var $=F.options.rangeSelector;F=this.extraBottomMargin;const w=this.extraTopMargin;let L=this.rangeSelector;$&&$.enabled&&!M(L)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=L=new N(this)),this.extraTopMargin=this.extraBottomMargin=!1,L&&(j(this),$=$&&$.verticalAlign||L.options&&L.options.verticalAlign,L.options.floating||($==="bottom"?this.extraBottomMargin=!0:$!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==F||this.extraTopMargin!==w)&&(this.isDirtyBox=!0)}const{defaultOptions:I,setOptions:O}=l,{addEvent:H,defined:M,extend:E,find:k,isNumber:V,merge:G,pick:C}=d,ie=[],Q=[];let N;return{compose:function(F,$,w){N=w,d.pushUnique(Q,F)&&(F.prototype.minFromRange=m),d.pushUnique(Q,$)&&(H($,"afterGetContainer",n),H($,"beforeRender",S),H($,"destroy",J),H($,"getMargins",B),H($,"render",W),H($,"update",K),$.prototype.callbacks.push(j)),d.pushUnique(Q,O)&&(E(I,{rangeSelector:c.rangeSelector}),E(I.lang,c.lang))}}}),s(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,S){function j($){if($.indexOf("%L")!==-1)return"text";const w="aAdewbBmoyY".split("").some(f=>$.indexOf("%"+f)!==-1),L="HkIlMS".split("").some(f=>$.indexOf("%"+f)!==-1);return w&&L?"datetime-local":w?"date":L?"time":"text"}const{defaultOptions:J}=c,{addEvent:B,createElement:W,css:K,defined:I,destroyObjectProperties:O,discardElement:H,extend:M,fireEvent:E,isNumber:k,merge:V,objectEach:G,pad:C,pick:ie,pInt:Q,splat:N}=S;class F{static compose(w,L){m.compose(w,L,F)}constructor(w){this.buttons=void 0,this.buttonOptions=F.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=w,this.init(w)}clickButton(w,L){const f=this.chart,y=this.buttonOptions[w],b=f.xAxis[0];var P=f.scroller&&f.scroller.getUnionExtremes()||b||{},q=y.type;const ee=y.dataGrouping;let X=P.dataMin,ce=P.dataMax,fe,Te=b&&Math.round(Math.min(b.max,ie(ce,b.max))),Z;P=y._range;let re,ue,ye,Ie=!0;if(X!==null&&ce!==null){if(f.fixedRange=P,this.setSelected(w),ee&&(this.forcedDataGrouping=!0,l.prototype.setDataGrouping.call(b||{chart:this.chart},ee,!1),this.frozenStates=y.preserveDataGrouping),q==="month"||q==="year")b?(q={range:y,max:Te,chart:f,dataMin:X,dataMax:ce},fe=b.minFromRange.call(q),k(q.newMax)&&(Te=q.newMax),Ie=!1):P=y;else if(P)fe=Math.max(Te-P,X),Te=Math.min(fe+P,ce),Ie=!1;else if(q==="ytd")if(b)(typeof ce>"u"||typeof X>"u")&&(X=Number.MAX_VALUE,ce=Number.MIN_VALUE,f.series.forEach(ae=>{(ae=ae.xData)&&(X=Math.min(ae[0],X),ce=Math.max(ae[ae.length-1],ce))}),L=!1),q=this.getYTDExtremes(ce,X,f.time.useUTC),fe=re=q.min,Te=q.max;else{this.deferredYTDClick=w;return}else q==="all"&&b&&(f.navigator&&f.navigator.baseSeries[0]&&(f.navigator.baseSeries[0].xAxis.options.range=void 0),fe=X,Te=ce);Ie&&y._offsetMin&&I(fe)&&(fe+=y._offsetMin),y._offsetMax&&I(Te)&&(Te+=y._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=w+1),b?b.setExtremes(fe,Te,ie(L,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:y}):(Z=N(f.options.xAxis)[0],ye=Z.range,Z.range=P,ue=Z.min,Z.min=re,B(f,"load",function(){Z.range=ye,Z.min=ue})),E(this,"afterBtnClick")}}setSelected(w){this.selected=this.options.selected=w}init(w){const L=this,f=w.options.rangeSelector,y=f.buttons||L.defaultButtons.slice(),b=f.selected,P=function(){const q=L.minInput,ee=L.maxInput;q&&q.blur&&E(q,"blur"),ee&&ee.blur&&E(ee,"blur")};L.chart=w,L.options=f,L.buttons=[],L.buttonOptions=y,this.eventsToUnbind=[],this.eventsToUnbind.push(B(w.container,"mousedown",P)),this.eventsToUnbind.push(B(w,"resize",P)),y.forEach(L.computeButtonRange),typeof b<"u"&&y[b]&&this.clickButton(b,!1),this.eventsToUnbind.push(B(w,"load",function(){w.xAxis&&w.xAxis[0]&&B(w.xAxis[0],"setExtremes",function(q){this.max-this.min!==w.fixedRange&&q.trigger!=="rangeSelectorButton"&&q.trigger!=="updatedData"&&L.forcedDataGrouping&&!L.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const w=this;var L=this.chart;const f=this.dropdown,y=L.xAxis[0],b=Math.round(y.max-y.min),P=!y.hasVisibleSeries,q=L.scroller&&L.scroller.getUnionExtremes()||y,ee=q.dataMin,X=q.dataMax;L=w.getYTDExtremes(X,ee,L.time.useUTC);const ce=L.min,fe=L.max,Te=w.selected,Z=w.options.allButtonsEnabled,re=w.buttons;let ue=k(Te);w.buttonOptions.forEach((ye,Ie)=>{var ae=ye._range,be=ye.type,xe=ye.count||1;const le=re[Ie],me=ye._offsetMax-ye._offsetMin,Se=Ie===Te,Oe=ae>X-ee,Le=ae<y.minRange;ye=0;let Ue=!1,lt=!1;ae=ae===b,(be==="month"||be==="year")&&b+36e5>=864e5*{month:28,year:365}[be]*xe-me&&b-36e5<=864e5*{month:31,year:366}[be]*xe+me?ae=!0:be==="ytd"?(ae=fe-ce+me===b,Ue=!Se):be==="all"&&(ae=y.max-y.min>=X-ee,lt=!Se&&ue&&ae),be=!Z&&(Oe||Le||lt||P),xe=Se&&ae||ae&&!ue&&!Ue||Se&&w.frozenStates,be?ye=3:xe&&(ue=!0,ye=2),le.state!==ye&&(le.setState(ye),f&&(f.options[Ie+1].disabled=be,ye===2&&(f.selectedIndex=Ie+1)),ye===0&&Te===Ie&&w.setSelected())})}computeButtonRange(w){const L=w.type,f=w.count||1,y={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};y[L]?w._range=y[L]*f:(L==="month"||L==="year")&&(w._range=864e5*{month:30,year:365}[L]*f),w._offsetMin=ie(w.offsetMin,0),w._offsetMax=ie(w.offsetMax,0),w._range+=w._offsetMax-w._offsetMin}getInputValue(w){w=w==="min"?this.minInput:this.maxInput;const L=this.chart.options.rangeSelector,f=this.chart.time;return w?(w.type==="text"&&L.inputDateParser||this.defaultInputDateParser)(w.value,f.useUTC,f):0}setInputValue(w,L){const f=this.options,y=this.chart.time,b=w==="min"?this.minInput:this.maxInput;if(w=w==="min"?this.minDateBox:this.maxDateBox,b){var P=b.getAttribute("data-hc-time");P=I(P)?Number(P):void 0,I(L)&&(I(P)&&b.setAttribute("data-hc-time-previous",P),b.setAttribute("data-hc-time",L),P=L),b.value=y.dateFormat(this.inputTypeFormats[b.type]||f.inputEditDateFormat,P),w&&w.attr({text:y.dateFormat(f.inputDateFormat,P)})}}setInputExtremes(w,L,f){if(w=w==="min"?this.minInput:this.maxInput){const y=this.inputTypeFormats[w.type],b=this.chart.time;y&&(L=b.dateFormat(y,L),w.min!==L&&(w.min=L),f=b.dateFormat(y,f),w.max!==f&&(w.max=f))}}showInput(w){const L=w==="min"?this.minDateBox:this.maxDateBox;if((w=w==="min"?this.minInput:this.maxInput)&&L&&this.inputGroup){const f=w.type==="text",{translateX:y,translateY:b}=this.inputGroup,{inputBoxWidth:P}=this.options;K(w,{width:f?L.width+(P?-2:20)+"px":"auto",height:L.height-2+"px",border:"2px solid silver"}),f&&P?K(w,{left:y+L.x+"px",top:b+"px"}):K(w,{left:Math.min(Math.round(L.x+y-(w.offsetWidth-L.width)/2),this.chart.chartWidth-w.offsetWidth)+"px",top:b-(w.offsetHeight-L.height)/2+"px"})}}hideInput(w){(w=w==="min"?this.minInput:this.maxInput)&&K(w,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(w,L,f){var y=w.split("/").join("-").split(" ").join("T");if(y.indexOf("T")===-1&&(y+="T00:00"),L)y+="Z";else{var b;(b=d.isSafari)&&(b=y,b=!(6<b.length&&(b.lastIndexOf("-")===b.length-6||b.lastIndexOf("+")===b.length-6))),b&&(b=new Date(y).getTimezoneOffset()/60,y+=0>=b?`+${C(-b)}:00`:`-${C(b)}:00`)}return y=Date.parse(y),k(y)||(w=w.split("-"),y=Date.UTC(Q(w[0]),Q(w[1])-1,Q(w[2]))),f&&L&&k(y)&&(y+=f.getTimezoneOffset(y)),y}drawInput(w){function L(){const{maxInput:re,minInput:ue}=P,ye=f.xAxis[0];var Ie=f.scroller&&f.scroller.xAxis?f.scroller.xAxis:ye;const ae=Ie.dataMin;Ie=Ie.dataMax;let be=P.getInputValue(w);be!==Number(Te.getAttribute("data-hc-time-previous"))&&k(be)&&(Te.setAttribute("data-hc-time-previous",be),ce&&re&&k(ae)?be>Number(re.getAttribute("data-hc-time"))?be=void 0:be<ae&&(be=ae):ue&&k(Ie)&&(be<Number(ue.getAttribute("data-hc-time"))?be=void 0:be>Ie&&(be=Ie)),typeof be<"u"&&ye.setExtremes(ce?be:ye.min,ce?ye.max:be,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:f,div:y,inputGroup:b}=this,P=this,q=f.renderer.style||{};var ee=f.renderer;const X=f.options.rangeSelector,ce=w==="min";var fe=J.lang[ce?"rangeSelectorFrom":"rangeSelectorTo"]||"";fe=ee.label(fe,0).addClass("highcharts-range-label").attr({padding:fe?2:0,height:fe?X.inputBoxHeight:0}).add(b),ee=ee.label("",0).addClass("highcharts-range-input").attr({padding:2,width:X.inputBoxWidth,height:X.inputBoxHeight,"text-align":"center"}).on("click",function(){P.showInput(w),P[w+"Input"].focus()}),f.styledMode||ee.attr({stroke:X.inputBoxBorderColor,"stroke-width":1}),ee.add(b);const Te=W("input",{name:w,className:"highcharts-range-selector"},void 0,y);Te.setAttribute("type",j(X.inputDateFormat||"%e %b %Y")),f.styledMode||(fe.css(V(q,X.labelStyle)),ee.css(V({color:"#333333"},q,X.inputStyle)),K(Te,M({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:q.fontSize,fontFamily:q.fontFamily,top:"-9999em"},X.inputStyle))),Te.onfocus=()=>{P.showInput(w)},Te.onblur=()=>{Te===d.doc.activeElement&&L(),P.hideInput(w),P.setInputValue(w),Te.blur()};let Z=!1;return Te.onchange=()=>{Z||(L(),P.hideInput(w),Te.blur())},Te.onkeypress=re=>{re.keyCode===13&&L()},Te.onkeydown=re=>{Z=!0,re.keyCode!==38&&re.keyCode!==40||L()},Te.onkeyup=()=>{Z=!1},{dateBox:ee,input:Te,label:fe}}getPosition(){var w=this.chart;const L=w.options.rangeSelector;return w=L.verticalAlign==="top"?w.plotTop-w.axisOffset[0]:0,{buttonTop:w+L.buttonPosition.y,inputTop:w+L.inputPosition.y-10}}getYTDExtremes(w,L,f){const y=this.chart.time;var b=new y.Date(w);const P=y.get("FullYear",b);return f=f?y.Date.UTC(P,0,1):+new y.Date(P,0,1),L=Math.max(L,f),b=b.getTime(),{max:Math.min(w||b,b),min:L}}render(w,L){var f=this.chart,y=f.renderer;const b=f.container;var P=f.options;const q=P.rangeSelector,ee=ie(P.chart.style&&P.chart.style.zIndex,0)+1;if(P=q.inputEnabled,q.enabled!==!1){if(this.rendered||(this.group=y.g("range-selector-group").attr({zIndex:7}).add(),this.div=W("div",void 0,{position:"relative",height:0,zIndex:ee}),this.buttonOptions.length&&this.renderButtons(),b.parentNode&&b.parentNode.insertBefore(this.div,b),P&&(this.inputGroup=y.g("input-group").add(this.group),y=this.drawInput("min"),this.minDateBox=y.dateBox,this.minLabel=y.label,this.minInput=y.input,y=this.drawInput("max"),this.maxDateBox=y.dateBox,this.maxLabel=y.label,this.maxInput=y.input)),P&&(this.setInputValue("min",w),this.setInputValue("max",L),w=f.scroller&&f.scroller.getUnionExtremes()||f.xAxis[0]||{},I(w.dataMin)&&I(w.dataMax)&&(f=f.xAxis[0].minRange||0,this.setInputExtremes("min",w.dataMin,Math.min(w.dataMax,this.getInputValue("max"))-f),this.setInputExtremes("max",Math.max(w.dataMin,this.getInputValue("min"))+f,w.dataMax)),this.inputGroup)){let X=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(ce=>{if(ce){const{width:fe}=ce.getBBox();fe&&(ce.attr({x:X}),X+=fe+q.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:w,chart:L,options:f}=this,y=J.lang,b=L.renderer,P=V(f.buttonTheme),q=P&&P.states,ee=P.width||28;delete P.width,delete P.states,this.buttonGroup=b.g("range-selector-buttons").add(this.group);const X=this.dropdown=W("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);B(X,"touchstart",()=>{X.style.fontSize="16px"}),[[d.isMS?"mouseover":"mouseenter"],[d.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([ce,fe])=>{B(X,ce,()=>{const Te=w[this.currentButtonIndex()];Te&&E(Te.element,fe||ce)})}),this.zoomText=b.label(y&&y.rangeSelectorZoom||"",0).attr({padding:f.buttonTheme.padding,height:f.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(f.labelStyle),P["stroke-width"]=ie(P["stroke-width"],0)),W("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,X),this.buttonOptions.forEach((ce,fe)=>{W("option",{textContent:ce.title||ce.text},void 0,X),w[fe]=b.button(ce.text,0,0,Te=>{const Z=ce.events&&ce.events.click;let re;Z&&(re=Z.call(ce,Te)),re!==!1&&this.clickButton(fe),this.isActive=!0},P,q&&q.hover,q&&q.select,q&&q.disabled).attr({"text-align":"center",width:ee}).add(this.buttonGroup),ce.title&&w[fe].attr("title",ce.title)})}alignElements(){const{buttonGroup:w,buttons:L,chart:f,group:y,inputGroup:b,options:P,zoomText:q}=this;var ee=f.options;const X=ee.exporting&&ee.exporting.enabled!==!1&&ee.navigation&&ee.navigation.buttonOptions,{buttonPosition:ce,inputPosition:fe,verticalAlign:Te}=P;ee=(ye,Ie)=>X&&this.titleCollision(f)&&Te==="top"&&Ie.align==="right"&&Ie.y-ye.getBBox().height-12<(X.y||0)+(X.height||0)+f.spacing[0]?-40:0;var Z=f.plotLeft;if(y&&ce&&fe){var re=ce.x-f.spacing[3];if(w){if(this.positionButtons(),!this.initialButtonGroupWidth){let be=0;q&&(be+=q.getBBox().width+5),L.forEach((xe,le)=>{be+=xe.width,le!==L.length-1&&(be+=P.buttonSpacing)}),this.initialButtonGroupWidth=be}Z-=f.spacing[3],this.updateButtonStates();var ue=ee(w,ce);this.alignButtonGroup(ue),y.placed=w.placed=f.hasLoaded}ue=0,b&&(ue=ee(b,fe),fe.align==="left"?re=Z:fe.align==="right"&&(re=-Math.max(f.axisOffset[1],-ue)),b.align({y:fe.y,width:b.getBBox().width,align:fe.align,x:fe.x+re-2},!0,f.spacingBox),b.placed=f.hasLoaded),this.handleCollision(ue),y.align({verticalAlign:Te},!0,f.spacingBox),ee=y.alignAttr.translateY,Z=y.getBBox().height+20,re=0,Te==="bottom"&&(re=(re=f.legend&&f.legend.options)&&re.verticalAlign==="bottom"&&re.enabled&&!re.floating?f.legend.legendHeight+ie(re.margin,10):0,Z=Z+re-20,re=ee-Z-(P.floating?0:P.y)-(f.titleOffset?f.titleOffset[2]:0)-10),Te==="top"?(P.floating&&(re=0),f.titleOffset&&f.titleOffset[0]&&(re=f.titleOffset[0]),re+=f.margin[0]-f.spacing[0]||0):Te==="middle"&&(fe.y===ce.y?re=ee:(fe.y||ce.y)&&(re=0>fe.y||0>ce.y?re-Math.min(fe.y,ce.y):ee-Z)),y.translate(P.x,P.y+Math.floor(re));const{minInput:ye,maxInput:Ie,dropdown:ae}=this;P.inputEnabled&&ye&&Ie&&(ye.style.marginTop=y.translateY+"px",Ie.style.marginTop=y.translateY+"px"),ae&&(ae.style.marginTop=y.translateY+"px")}}alignButtonGroup(w,L){const{chart:f,options:y,buttonGroup:b}=this,{buttonPosition:P}=y,q=f.plotLeft-f.spacing[3];let ee=P.x-f.spacing[3];P.align==="right"?ee+=w-q:P.align==="center"&&(ee-=q/2),b&&b.align({y:P.y,width:ie(L,this.initialButtonGroupWidth),align:P.align,x:ee},!0,f.spacingBox)}positionButtons(){const{buttons:w,chart:L,options:f,zoomText:y}=this,b=L.hasLoaded?"animate":"attr",{buttonPosition:P}=f,q=L.plotLeft;let ee=q;y&&y.visibility!=="hidden"&&(y[b]({x:ie(q+P.x,q)}),ee+=P.x+y.getBBox().width+5);for(let X=0,ce=this.buttonOptions.length;X<ce;++X)w[X].visibility!=="hidden"?(w[X][b]({x:ee}),ee+=w[X].width+f.buttonSpacing):w[X][b]({x:q})}handleCollision(w){const{chart:L,buttonGroup:f,inputGroup:y}=this,{buttonPosition:b,dropdown:P,inputPosition:q}=this.options,ee=()=>{let fe=0;return this.buttons.forEach(Te=>{Te=Te.getBBox(),Te.width>fe&&(fe=Te.width)}),fe},X=fe=>{if(y&&f){const Te=y.alignAttr.translateX+y.alignOptions.x-w+y.getBBox().x+2,Z=y.alignOptions.width,re=f.alignAttr.translateX+f.getBBox().x;return re+fe>Te&&Te+Z>re&&b.y<q.y+y.getBBox().height}return!1},ce=()=>{y&&f&&y.attr({translateX:y.alignAttr.translateX+(L.axisOffset[1]>=-w?0:-w),translateY:y.alignAttr.translateY+f.getBBox().height+10})};if(f){if(P==="always"){this.collapseButtons(w),X(ee())&&ce();return}P==="never"&&this.expandButtons()}y&&f?q.align===b.align||X(this.initialButtonGroupWidth+20)?P==="responsive"?(this.collapseButtons(w),X(ee())&&ce()):ce():P==="responsive"&&this.expandButtons():f&&P==="responsive"&&(this.initialButtonGroupWidth>L.plotWidth?this.collapseButtons(w):this.expandButtons())}collapseButtons(w){const{buttons:L,buttonOptions:f,chart:y,dropdown:b,options:P,zoomText:q}=this,ee=y.userOptions.rangeSelector&&y.userOptions.rangeSelector.buttonTheme||{},X=Te=>({text:Te?`${Te} ▾`:"▾",width:"auto",paddingLeft:ie(P.buttonTheme.paddingLeft,ee.padding,8),paddingRight:ie(P.buttonTheme.paddingRight,ee.padding,8)});q&&q.hide();let ce=!1;f.forEach((Te,Z)=>{Z=L[Z],Z.state!==2?Z.hide():(Z.show(),Z.attr(X(Te.text)),ce=!0)}),ce||(b&&(b.selectedIndex=0),L[0].show(),L[0].attr(X(this.zoomText&&this.zoomText.textStr)));const{align:fe}=P.buttonPosition;this.positionButtons(),fe!=="right"&&fe!=="center"||this.alignButtonGroup(w,L[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:w,buttonOptions:L,options:f,zoomText:y}=this;this.hideDropdown(),y&&y.show(),L.forEach((b,P)=>{P=w[P],P.show(),P.attr({text:b.text,width:f.buttonTheme.width||28,paddingLeft:ie(f.buttonTheme.paddingLeft,"unset"),paddingRight:ie(f.buttonTheme.paddingRight,"unset")}),2>P.state&&P.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:w}=this;return w&&0<w.selectedIndex?w.selectedIndex-1:0}showDropdown(){const{buttonGroup:w,buttons:L,chart:f,dropdown:y}=this;if(w&&y){const{translateX:b,translateY:P}=w,q=L[this.currentButtonIndex()].getBBox();K(y,{left:f.plotLeft+b+"px",top:P+.5+"px",width:q.width+"px",height:q.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:w}=this;w&&(K(w,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var w=this.options,L=this.group;const f=w.y,y=w.buttonPosition.y,b=w.inputPosition.y;return w.height?w.height:(this.alignElements(),w=L?L.getBBox(!0).height+13+f:0,L=Math.min(b,y),(0>b&&0>y||0<b&&0<y)&&(w+=Math.abs(L)),w)}titleCollision(w){return!(w.options.title.text||w.options.subtitle.text)}update(w){const L=this.chart;V(!0,L.options.rangeSelector,w),this.destroy(),this.init(L),this.render()}destroy(){const w=this,L=w.minInput,f=w.maxInput;w.eventsToUnbind&&(w.eventsToUnbind.forEach(y=>y()),w.eventsToUnbind=void 0),O(w.buttons),L&&(L.onfocus=L.onblur=L.onchange=null),f&&(f.onfocus=f.onblur=f.onchange=null),G(w,function(y,b){y&&b!=="chart"&&(y instanceof n?y.destroy():y instanceof window.HTMLElement&&H(y)),y!==F.prototype[b]&&(w[b]=null)},this)}}return M(F.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),F}),s(t,"Core/Axis/OrdinalAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(l,c,d,m){const{addEvent:n,correctFloat:S,css:j,defined:J,error:B,pick:W,timeUnits:K}=m,I=[];var O;return function(H){function M(L,f,y,b,P=[],q=0,ee){const X={},ce=this.options.tickPixelInterval;var fe=this.chart.time,Te=[],Z;let re,ue;var ye=0;let Ie=[],ae=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!P||3>P.length||typeof f>"u")return fe.getTimeTicks.apply(fe,arguments);const be=P.length;for(Z=0;Z<be;Z++){if(ue=Z&&P[Z-1]>y,P[Z]<f&&(ye=Z),Z===be-1||P[Z+1]-P[Z]>5*q||ue){if(P[Z]>ae){for(re=fe.getTimeTicks(L,P[ye],P[Z],b);re.length&&re[0]<=ae;)re.shift();re.length&&(ae=re[re.length-1]),Te.push(Ie.length),Ie=Ie.concat(re)}ye=Z+1}if(ue)break}if(re){if(P=re.info,ee&&P.unitRange<=K.hour){for(Z=Ie.length-1,ye=1;ye<Z;ye++)if(fe.dateFormat("%d",Ie[ye])!==fe.dateFormat("%d",Ie[ye-1])){X[Ie[ye]]="day";var xe=!0}xe&&(X[Ie[0]]="day"),P.higherRanks=X}P.segmentStarts=Te,Ie.info=P}else B(12,!1,this.chart);if(ee&&J(ce)){ye=Ie.length,fe=[],xe=[];let le;for(Z=ye;Z--;)Te=this.translate(Ie[Z]),le&&(xe[Z]=le-Te),fe[Z]=le=Te;for(xe.sort(),xe=xe[Math.floor(xe.length/2)],xe<.6*ce&&(xe=null),Z=Ie[ye-1]>y?ye-1:ye,le=void 0;Z--;)Te=fe[Z],ye=Math.abs(le-Te),le&&ye<.8*ce&&(xe===null||ye<.8*xe)?(X[Ie[Z]]&&!X[Ie[Z+1]]?(ye=Z+1,le=Te):ye=Z,Ie.splice(ye,1)):le=Te}return Ie}function E(L){const f=this.ordinal.positions;if(!f)return L;let y=f.length-1,b;return 0>L?L=f[0]:L>y?L=f[y]:(y=Math.floor(L),b=L-y),typeof b<"u"&&typeof f[y]<"u"?f[y]+(b?b*(f[y+1]-f[y]):0):L}function k(L){var f=this.ordinal,y=f.positions;if(!y)return L;var b=(L-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<b&&b<this.left+this.len||(f.extendedOrdinalPositions||(f.extendedOrdinalPositions=f.getExtendedPositions()),y=f.extendedOrdinalPositions),y&&y.length){if(L=f.getIndexOfPoint(b,y),f=S(L%1),0<=L&&L<y.length-1)return y[Math.floor(L)]+f*(y[Math.ceil(L)]-y[Math.floor(L)]);f=y.length,b=y[0],y=y[f-1];const P=(y-b)/(f-1);return 0>L?b+P*L:y+P*(L-f)}return L}function V(L,f){const y=H.Additions.findIndexOf(L,f,!0);return L[y]===f?y:y+(f-L[y])/(L[y+1]-L[y])}function G(){this.ordinal||(this.ordinal=new H.Additions(this))}function C(){this.isXAxis&&J(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&this.eventArgs.trigger!=="navigator")&&(this.max+=this.options.overscroll,!this.isInternal&&J(this.userMin)&&(this.min+=this.options.overscroll))}function ie(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function Q(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function N(L){const f=this.xAxis[0],y=f.options.overscroll,b=L.originalEvent.chartX,P=this.options.chart.panning;let q=!1;if(P&&P.type!=="y"&&f.options.ordinal&&f.series.length){var ee=this.mouseDownX;const Te=f.getExtremes(),Z=Te.dataMax,re=Te.min,ue=Te.max;var X=this.hoverPoints,ce=f.closestPointRange||f.ordinal&&f.ordinal.overscrollPointsRange;ee=(ee-b)/(f.translationSlope*(f.ordinal.slope||ce)),ce=f.ordinal.getExtendedPositions();var fe={ordinal:{positions:ce,extendedOrdinalPositions:ce}};ce=f.index2val;const ye=f.val2lin;let Ie;fe.ordinal.positions?1<Math.abs(ee)&&(X&&X.forEach(function(ae){ae.setState()}),0>ee?(X=fe,Ie=f.ordinal.positions?f:fe):(X=f.ordinal.positions?f:fe,Ie=fe),fe=Ie.ordinal.positions,Z>fe[fe.length-1]&&fe.push(Z),this.fixedRange=ue-re,ee=f.navigatorAxis.toFixedRange(void 0,void 0,ce.apply(X,[ye.apply(X,[re,!0])+ee]),ce.apply(Ie,[ye.apply(Ie,[ue,!0])+ee])),ee.min>=Math.min(Te.dataMin,re)&&ee.max<=Math.max(Z,ue)+y&&f.setExtremes(ee.min,ee.max,!0,!1,{trigger:"pan"}),this.mouseDownX=b,j(this.container,{cursor:"move"})):q=!0}else q=!0;q||P&&/y/.test(P.type)?y&&(f.max=f.dataMax+y):L.preventDefault()}function F(){const L=this.xAxis;L&&L.options.ordinal&&(delete L.ordinal.index,delete L.ordinal.extendedOrdinalPositions)}function $(L,f){const y=this.ordinal;var b=y.positions;let P=y.slope,q=y.extendedOrdinalPositions;if(!b)return L;var ee=b.length;if(b[0]<=L&&b[ee-1]>=L)L=V(b,L);else{if(q||(q=y.getExtendedPositions&&y.getExtendedPositions(),y.extendedOrdinalPositions=q),!q||!q.length)return L;ee=q.length,P||(P=(q[ee-1]-q[0])/ee),b=V(q,b[0]),L=L>=q[0]&&L<=q[ee-1]?V(q,L)-b:L<q[0]?-b-(q[0]-L)/P:(L-q[ee-1])/P+ee-b}return f?L:P*(L||0)+y.offset}H.compose=function(L,f,y){if(m.pushUnique(I,L)){const b=L.prototype;b.getTimeTicks=M,b.index2val=E,b.lin2val=k,b.val2lin=$,b.ordinal2lin=b.val2lin,n(L,"afterInit",G),n(L,"foundExtremes",C),n(L,"afterSetScale",ie),n(L,"initialAxisTranslation",Q)}return m.pushUnique(I,y)&&n(y,"pan",N),m.pushUnique(I,f)&&n(f,"updatedData",F),L};class w{constructor(f){this.index={},this.axis=f}beforeSetTickPositions(){const f=this.axis,y=f.ordinal;var b=f.getExtremes();const P=b.min;var q=b.max;const ee=f.isXAxis&&!!f.options.breaks;b=f.options.ordinal;const X=f.chart.options.chart.ignoreHiddenSeries;let ce,fe;var Te;let Z=[],re=Number.MAX_VALUE,ue=!1,ye=!1,Ie=!1;if(b||ee){let be=0;if(f.series.forEach(function(xe,le){if(fe=[],0<le&&xe.options.id!=="highcharts-navigator-series"&&1<xe.processedXData.length&&(ye=be!==xe.processedXData[1]-xe.processedXData[0]),be=xe.processedXData[1]-xe.processedXData[0],xe.boosted&&(Ie=xe.boosted),!(X&&xe.visible===!1||xe.takeOrdinalPosition===!1&&!ee)&&(Z=Z.concat(xe.processedXData),ce=Z.length,Z.sort(function(me,Se){return me-Se}),re=Math.min(re,W(xe.closestPointRange,re)),ce)){for(le=0;le<ce-1;)Z[le]!==Z[le+1]&&fe.push(Z[le+1]),le++;fe[0]!==Z[0]&&fe.unshift(Z[0]),Z=fe}}),ye&&Ie&&(Z.pop(),Z.shift()),ce=Z.length,2<ce){var ae=Z[1]-Z[0];for(Te=ce-1;Te--&&!ue;)Z[Te+1]-Z[Te]!==ae&&(ue=!0);!f.options.keepOrdinalPadding&&(Z[0]-P>ae||q-Z[Z.length-1]>ae)&&(ue=!0)}else f.options.overscroll&&(ce===2?re=Z[1]-Z[0]:ce===1?(re=f.options.overscroll,Z=[Z[0],Z[0]+re]):re=y.overscrollPointsRange);ue||f.forceOrdinal?(f.options.overscroll&&(y.overscrollPointsRange=re,Z=Z.concat(y.getOverscrollPositions())),y.positions=Z,ae=f.ordinal2lin(Math.max(P,Z[0]),!0),Te=Math.max(f.ordinal2lin(Math.min(q,Z[Z.length-1]),!0),1),y.slope=q=(q-P)/(Te-ae),y.offset=P-ae*q):(y.overscrollPointsRange=W(f.closestPointRange,y.overscrollPointsRange),y.positions=f.ordinal.slope=y.offset=void 0)}f.isOrdinal=b&&ue,y.groupIntervalFactor=null}static findIndexOf(f,y,b){let P=0,q=f.length-1,ee;for(;P<q;)ee=Math.ceil((P+q)/2),f[ee]<=y?P=ee:q=ee-1;return f[P]===y||b?P:-1}getExtendedPositions(){const f=this,y=f.axis,b=y.constructor.prototype,P=y.chart,q=y.series[0].currentDataGrouping,ee=q?q.count+q.unitName:"raw",X=y.options.overscroll,ce=y.getExtremes();let fe,Te,Z=f.index;return Z||(Z=f.index={}),Z[ee]||(fe={series:[],chart:P,forceOrdinal:!1,getExtremes:function(){return{min:ce.dataMin,max:ce.dataMax+X}},getGroupPixelWidth:b.getGroupPixelWidth,getTimeTicks:b.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:b.ordinal2lin,getIndexOfPoint:b.getIndexOfPoint,val2lin:b.val2lin},fe.ordinal.axis=fe,y.series.forEach(function(re){Te={xAxis:fe,xData:re.xData.slice(),chart:P,destroyGroupedData:c.noop,getProcessedData:d.prototype.getProcessedData,applyGrouping:d.prototype.applyGrouping},Te.xData=Te.xData.concat(f.getOverscrollPositions()),Te.options={dataGrouping:q?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[q.unitName,[q.count]]]}:{enabled:!1}},fe.series.push(Te),re.processData.apply(Te)}),Te.closestPointRange!==Te.basePointRange&&Te.currentDataGrouping&&(fe.forceOrdinal=!0),y.ordinal.beforeSetTickPositions.apply({axis:fe}),Z[ee]=fe.ordinal.positions),Z[ee]}getGroupIntervalFactor(f,y,b){b=b.processedXData;const P=b.length;var q=[],ee=this.groupIntervalFactor;if(!ee){for(ee=0;ee<P-1;ee++)q[ee]=b[ee+1]-b[ee];q.sort(function(X,ce){return X-ce}),q=q[Math.floor(P/2)],f=Math.max(f,b[0]),y=Math.min(y,b[P-1]),this.groupIntervalFactor=ee=P*q/(y-f)}return ee}getIndexOfPoint(f,y){const b=this.axis,P=this.positions?this.positions[0]:0;let q=b.series[0].points&&b.series[0].points[0]&&b.series[0].points[0].plotX||b.minPixelPadding;return 1<b.series.length&&b.series.forEach(function(ee){ee.points&&J(ee.points[0])&&J(ee.points[0].plotX)&&ee.points[0].plotX<q&&ee.points[0].plotX>=W(b.min,-1/0)&&(q=ee.points[0].plotX)}),f=(f-q)/(b.translationSlope*(this.slope||b.closestPointRange||this.overscrollPointsRange)),w.findIndexOf(y,P)+f}getOverscrollPositions(){const f=this.axis,y=f.options.overscroll,b=this.overscrollPointsRange,P=[];let q=f.dataMax;if(J(b))for(;q<=f.dataMax+y;)q+=b,P.push(q);return P}postProcessTickInterval(f){const y=this.axis,b=this.slope;return b?y.options.breaks?y.closestPointRange||f:f/(b/y.closestPointRange):f}}H.Additions=w}(O||(O={})),O}),s(t,"Series/HLC/HLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(l){({column:{prototype:{pointClass:l}}}=l.seriesTypes);class c extends l{constructor(){super(...arguments),this.series=this.plotClose=this.options=this.low=this.high=this.close=void 0}}return c}),s(t,"Series/HLC/HLCSeriesDefaults.js",[],function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}}),s(t,"Series/HLC/HLCSeries.js",[t["Series/HLC/HLCPoint.js"],t["Series/HLC/HLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m){const{column:n}=d.seriesTypes,{extend:S,merge:j}=m;class J extends n{constructor(){super(...arguments),this.yData=this.points=this.options=this.data=void 0}extendStem(W,K,I){const O=W[0];W=W[1],typeof O[2]=="number"&&(O[2]=Math.max(I+K,O[2])),typeof W[2]=="number"&&(W[2]=Math.min(I-K,W[2]))}getPointPath(W,K){K=K.strokeWidth();const I=W.series,O=K%2/2,H=Math.round(W.plotX)-O,M=Math.round(W.shapeArgs.width/2),E=[["M",H,Math.round(W.yBottom)],["L",H,Math.round(W.plotHigh)]];return W.close!==null&&(W=Math.round(W.plotClose)+O,E.push(["M",H,W],["L",H+M,W]),I.extendStem(E,K/2,W)),E}drawSinglePoint(W){var K=W.series;const I=K.chart;let O=W.graphic;typeof W.plotY<"u"&&(O||(W.graphic=O=I.renderer.path().add(K.group)),I.styledMode||O.attr(K.pointAttribs(W,W.selected&&"select")),K=K.getPointPath(W,O),O[O?"animate":"attr"]({d:K}).addClass(W.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(W,K){return W=super.pointAttribs.call(this,W,K),delete W.fill,W}toYData(W){return[W.high,W.low,W.close]}translate(){const W=this,K=W.yAxis,I=this.pointArrayMap&&this.pointArrayMap.slice()||[],O=I.map(H=>`plot${H.charAt(0).toUpperCase()+H.slice(1)}`);O.push("yBottom"),I.push("low"),super.translate.apply(W),W.points.forEach(function(H){I.forEach(function(M,E){M=H[M],M!==null&&(W.dataModify&&(M=W.dataModify.modifyValue(M)),H[O[E]]=K.toPixels(M,!0))}),H.tooltipPos[1]=H.plotHigh+K.pos-W.chart.plotTop})}}return J.defaultOptions=j(n.defaultOptions,c),S(J.prototype,{pointClass:l,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),d.registerSeriesType("hlc",J),J}),s(t,"Series/OHLC/OHLCPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(l){({seriesTypes:{hlc:l}}=l);class c extends l.prototype.pointClass{constructor(){super(...arguments),this.series=this.plotOpen=this.options=this.open=void 0}getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.resolveUpColor()}getZone(){const m=super.getZone();return this.resolveUpColor(),m}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}return c}),s(t,"Series/OHLC/OHLCSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}}),s(t,"Series/OHLC/OHLCSeries.js",[t["Series/OHLC/OHLCPoint.js"],t["Series/OHLC/OHLCSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m){function n(O){O=O.options;const H=O.dataGrouping;H&&O.useOhlcData&&O.id!=="highcharts-navigator-series"&&(H.approximation="ohlc")}function S(O){O=O.options,O.useOhlcData&&O.id!=="highcharts-navigator-series"&&B(this,{pointValKey:I.prototype.pointValKey,pointArrayMap:I.prototype.pointArrayMap,toYData:I.prototype.toYData})}const{seriesTypes:{hlc:j}}=d,{addEvent:J,extend:B,merge:W}=m,K=[];class I extends j{constructor(){super(...arguments),this.points=this.options=this.data=void 0}static compose(H,...M){m.pushUnique(K,H)&&(J(H,"afterSetOptions",n),J(H,"init",S))}getPointPath(H,M){const E=super.getPointPath(H,M);M=M.strokeWidth();const k=M%2/2,V=Math.round(H.plotX)-k,G=Math.round(H.shapeArgs.width/2);return H.open!==null&&(H=Math.round(H.plotOpen)+k,E.push(["M",V,H],["L",V-G,H]),super.extendStem(E,M/2,H)),E}pointAttribs(H,M){M=super.pointAttribs.call(this,H,M);const E=this.options;return delete M.fill,!H.options.color&&E.upColor&&H.open<H.close&&(M.stroke=E.upColor),M}toYData(H){return[H.open,H.high,H.low,H.close]}}return I.defaultOptions=W(j.defaultOptions,c),B(I.prototype,{pointClass:l,pointArrayMap:["open","high","low","close"]}),d.registerSeriesType("ohlc",I),I}),s(t,"Series/Candlestick/CandlestickSeriesDefaults.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],function(l,c){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}}),s(t,"Series/Candlestick/CandlestickSeries.js",[t["Series/Candlestick/CandlestickSeriesDefaults.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c,d,m){({defaultOptions:c}=c);const{column:n,ohlc:S}=d.seriesTypes;({merge:m}=m);class j extends S{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(B,W){const K=n.prototype.pointAttribs.call(this,B,W),I=this.options,O=B.open<B.close,H=I.lineColor||this.color,M=B.color||this.color;return K["stroke-width"]=I.lineWidth,K.fill=B.options.color||O&&I.upColor||M,K.stroke=B.options.lineColor||O&&I.upLineColor||H,W&&(B=I.states[W],K.fill=B.color||K.fill,K.stroke=B.lineColor||K.stroke,K["stroke-width"]=B.lineWidth||K["stroke-width"]),K}drawPoints(){var B=this.points;const W=this.chart,K=this.yAxis.reversed;for(const M of B){B=M.graphic;var I=void 0,O=void 0;let E,k;var H=void 0;let V,G;const C=!B;typeof M.plotY<"u"&&(B||(M.graphic=B=W.renderer.path().add(this.group)),this.chart.styledMode||B.attr(this.pointAttribs(M,M.selected&&"select")).shadow(this.options.shadow),H=B.strokeWidth()%2/2,V=Math.round(M.plotX)-H,I=M.plotOpen,O=M.plotClose,E=Math.min(I,O),I=Math.max(I,O),G=Math.round(M.shapeArgs.width/2),O=K?I!==M.yBottom:Math.round(E)!==Math.round(M.plotHigh),k=K?Math.round(E)!==Math.round(M.plotHigh):I!==M.yBottom,E=Math.round(E)+H,I=Math.round(I)+H,H=[],H.push(["M",V-G,I],["L",V-G,E],["L",V+G,E],["L",V+G,I],["Z"],["M",V,E],["L",V,O?Math.round(K?M.yBottom:M.plotHigh):E],["M",V,I],["L",V,k?Math.round(K?M.plotHigh:M.yBottom):I]),B[C?"attr":"animate"]({d:H}).addClass(M.getClassName(),!0))}}}return j.defaultOptions=m(S.defaultOptions,c.plotOptions,{tooltip:S.defaultOptions.tooltip},l),d.registerSeriesType("candlestick",j),j}),s(t,"Series/Flags/FlagsPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(l,c){({column:{prototype:{pointClass:l}}}=l.seriesTypes);const{isNumber:d}=c;class m extends l{constructor(){super(...arguments),this.series=this.options=void 0,this.ttBelow=!1}isValid(){return d(this.y)||typeof this.y>"u"}hasNewShapeType(){const S=this.options.shape||this.series.options.shape;return this.graphic&&S&&S!==this.graphic.symbolKey}}return m}),s(t,"Series/Flags/FlagsSeriesDefaults.js",[],function(){return{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}}),s(t,"Series/Flags/FlagsSymbols.js",[t["Core/Renderer/RendererRegistry.js"]],function(l){var c;return function(d){function m(j,J,B,W,K){const I=K&&K.anchorX||j;K=K&&K.anchorY||J;const O=this.circle(I-1,K-1,2,2);return O.push(["M",I,K],["L",j,J+W],["L",j,J],["L",j+B,J],["L",j+B,J+W],["L",j,J+W],["Z"]),O}function n(j,J){j[J+"pin"]=function(B,W,K,I,O){const H=O&&O.anchorX;O=O&&O.anchorY;let M;if(J==="circle"&&I>K&&(B-=Math.round((I-K)/2),K=I),M=j[J](B,W,K,I),H&&O){let E=H;J==="circle"?E=B+K/2:(B=M[0],K=M[1],B[0]==="M"&&K[0]==="L"&&(E=(B[1]+K[1])/2)),M.push(["M",E,W>O?W:W+I],["L",H,O]),M=M.concat(j.circle(H-1,O-1,2,2))}return M}}const S=[];d.compose=function(j){S.indexOf(j)===-1&&(S.push(j),j=j.prototype.symbols,j.flag=m,n(j,"circle"),n(j,"square")),j=l.getRendererType(),S.indexOf(j)&&S.push(j)}}(c||(c={})),c}),s(t,"Series/OnSeriesComposition.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(l,c,d){const{prototype:m}=l,{prototype:n}=c,{defined:S,stableSort:j}=d;var J;return function(B){function W(O){return n.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,O)}function K(){m.translate.apply(this);const O=this;var H=O.options,M=O.chart;const E=O.points;var k=H.onSeries;const V=(k=k&&M.get(k))&&k.options.step,G=k&&k.points,C=M.inverted,ie=O.xAxis,Q=O.yAxis;M=E.length-1;let N;H=H.onKey||"y";let F=G&&G.length,$=0,w,L,f,y;if(k&&k.visible&&F){$=(k.pointXOffset||0)+(k.barW||0)/2;var b=k.currentDataGrouping;for(L=G[F-1].x+(b?b.totalRange:0),j(E,(P,q)=>P.x-q.x),H="plot"+H[0].toUpperCase()+H.substr(1);F--&&E[M]&&(w=G[F],b=E[M],b.y=w.y,!(w.x<=b.x&&typeof w[H]<"u"&&(b.x<=L&&(b.plotY=w[H],w.x<b.x&&!V&&(f=G[F+1])&&typeof f[H]<"u"&&(y=(b.x-w.x)/(f.x-w.x),b.plotY+=y*(f[H]-w[H]),b.y+=y*(f.y-w.y))),M--,F++,0>M))););}E.forEach((P,q)=>{let ee;P.plotX+=$,(typeof P.plotY>"u"||C)&&(0<=P.plotX&&P.plotX<=ie.len?C?(P.plotY=ie.translate(P.x,0,1,0,1),P.plotX=S(P.y)?Q.translate(P.y,0,0,0,1):0):P.plotY=(ie.opposite?0:O.yAxis.len)+ie.offset:P.shapeArgs={}),(N=E[q-1])&&N.plotX===P.plotX&&(typeof N.stackIndex>"u"&&(N.stackIndex=0),ee=N.stackIndex+1),P.stackIndex=ee}),this.onSeries=k}const I=[];B.compose=function(O){if(d.pushUnique(I,O)){const H=O.prototype;H.getPlotBox=W,H.translate=K}return O},B.getPlotBox=W,B.translate=K}(J||(J={})),J}),s(t,"Series/Flags/FlagsSeries.js",[t["Series/Flags/FlagsPoint.js"],t["Series/Flags/FlagsSeriesDefaults.js"],t["Series/Flags/FlagsSymbols.js"],t["Core/Globals.js"],t["Series/OnSeriesComposition.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,S,j,J,B){({noop:m}=m);const{distribute:W}=S,{series:K,seriesTypes:{column:I}}=j,{addEvent:O,defined:H,extend:M,merge:E,objectEach:k,wrap:V}=B;class G extends I{constructor(){super(...arguments),this.points=this.options=this.data=void 0}animate(ie){ie&&this.setClip()}drawPoints(){var ie=this.points,Q=this.chart;const N=Q.renderer,F=Q.inverted,$=this.options,w=$.y,L=this.yAxis,f={},y=[];let b,P,q,ee,X,ce,fe;for(q=ie.length;q--;){ee=ie[q],ce=(F?ee.plotY:ee.plotX)>this.xAxis.len,b=ee.plotX;var Te=ee.stackIndex,Z=ee.options.shape||$.shape;P=ee.plotY,typeof P<"u"&&(P=ee.plotY+w-(typeof Te<"u"&&Te*$.stackDistance)),ee.anchorX=Te?void 0:ee.plotX,X=Te?void 0:ee.plotY,fe=Z!=="flag",Te=ee.graphic,typeof P<"u"&&0<=b&&!ce?(Te&&ee.hasNewShapeType()&&(Te=Te.destroy()),Te||(Te=ee.graphic=N.label("",null,null,Z,null,null,$.useHTML).addClass("highcharts-point").add(this.markerGroup),ee.graphic.div&&(ee.graphic.div.point=ee),Te.isNew=!0),Te.attr({align:fe?"center":"left",width:$.width,height:$.height,"text-align":$.textAlign}),Q.styledMode||Te.attr(this.pointAttribs(ee)).css(E($.style,ee.style)).shadow($.shadow),0<b&&(b-=Te.strokeWidth()%2),Z={y:P,anchorY:X},$.allowOverlapX&&(Z.x=b,Z.anchorX=ee.anchorX),Te.attr({text:ee.options.title||$.title||"A"})[Te.isNew?"attr":"animate"](Z),$.allowOverlapX||(f[ee.plotX]?f[ee.plotX].size=Math.max(f[ee.plotX].size,Te.width):f[ee.plotX]={align:fe?.5:0,size:Te.width,target:b,anchorX:b}),ee.tooltipPos=[b,P+L.pos-Q.plotTop]):Te&&(ee.graphic=Te.destroy())}if(!$.allowOverlapX){let re=100;k(f,function(ue){ue.plotX=ue.anchorX,y.push(ue),re=Math.max(ue.size,re)}),W(y,F?L.len:this.xAxis.len,re);for(const ue of ie)Q=ue.plotX,(Q=(ie=ue.graphic)&&f[Q])&&ie&&(H(Q.pos)?ie[ie.isNew?"attr":"animate"]({x:Q.pos+(Q.align||0)*Q.size,anchorX:ue.anchorX}).show().isNew=!1:ie.hide().isNew=!0)}$.useHTML&&this.markerGroup&&V(this.markerGroup,"on",function(re){return J.prototype.on.apply(re.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){const ie=this.points;super.drawTracker();for(const Q of ie){const N=Q.graphic;N&&(Q.unbindMouseOver&&Q.unbindMouseOver(),Q.unbindMouseOver=O(N.element,"mouseover",function(){0<Q.stackIndex&&!Q.raised&&(Q._y=N.y,N.attr({y:Q._y-8}),Q.raised=!0);for(const F of ie)F!==Q&&F.raised&&F.graphic&&(F.graphic.attr({y:F._y}),F.raised=!1)}))}}pointAttribs(ie,Q){const N=this.options,F=ie&&ie.color||this.color;let $=N.lineColor,w=ie&&ie.lineWidth;return ie=ie&&ie.fillColor||N.fillColor,Q&&(ie=N.states[Q].fillColor,$=N.states[Q].lineColor,w=N.states[Q].lineWidth),{fill:ie||F,stroke:$||F,"stroke-width":w||N.lineWidth||0}}setClip(){K.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return G.compose=d.compose,G.defaultOptions=E(I.defaultOptions,c),n.compose(G),M(G.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:l,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:m,init:K.prototype.init}),j.registerSeriesType("flags",G),G}),s(t,"Core/Chart/StockChart.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/FormatUtilities.js"],t["Core/Defaults.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,S,j,J,B,W){function K(w,L){return w==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:w==="yAxis"?{labels:{y:-2},opposite:N(L.opposite,!0),showLastLabel:!(!L.categories&&L.type!=="category"),title:{text:null}}:{}}function I(w,L){return w==="xAxis"?(w={type:"datetime",categories:void 0},N(L.navigator&&L.navigator.enabled,n.enabled,!0)&&(w.startOnTick=!1,w.endOnTick=!1),w):{}}const{format:O}=d,{getOptions:H}=m,{addEvent:M,clamp:E,defined:k,extend:V,find:G,isNumber:C,isString:ie,merge:Q,pick:N,splat:F}=W;class $ extends c{init(L,f){const y=H(),b=L.xAxis,P=L.yAxis;var q=N(L.navigator&&L.navigator.enabled,n.enabled,!0);L.xAxis=L.yAxis=void 0,q=Q({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x"}},navigator:{enabled:q},scrollbar:{enabled:N(j.enabled,!0)},rangeSelector:{enabled:N(S.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:N(y.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},L,{isStock:!0}),L.xAxis=b,L.yAxis=P,q.xAxis=F(L.xAxis||{}).map(function(ee,X){return Q(K("xAxis",ee),y.xAxis,y.xAxis&&y.xAxis[X],ee,I("xAxis",L))}),q.yAxis=F(L.yAxis||{}).map(function(ee,X){return Q(K("yAxis",ee),y.yAxis,y.yAxis&&y.yAxis[X],ee)}),super.init(q,f)}createAxis(L,f){return f.axis=Q(K(L,f.axis),f.axis,I(L,this.userOptions)),super.createAxis(L,f)}}return function(w){w.stockChart=function(L,f,y){return new w(L,f,y)}}($||($={})),M(J,"setOptions",function(w){let L;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?L={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(L={marker:{enabled:!1,radius:2}}),L&&(w.plotOptions[this.type]=Q(w.plotOptions[this.type],L)))}),M(l,"autoLabelAlign",function(w){const{chart:L,options:f}=this,y=L._labelPanes=L._labelPanes||{},b=f.labels;if(L.options.isStock&&this.coll==="yAxis"){const P=f.top+","+f.height;!y[P]&&b.enabled&&(b.distance===15&&this.side===1&&(b.distance=0),typeof b.align>"u"&&(b.align="right"),y[P]=this,w.align="right",w.preventDefault())}}),M(l,"destroy",function(){const w=this.chart,L=this.options&&this.options.top+","+this.options.height;L&&w._labelPanes&&w._labelPanes[L]===this&&delete w._labelPanes[L]}),M(l,"getPlotLinePath",function(w){function L(le){const me=le==="xAxis"?"yAxis":"xAxis";return le=f.options[me],C(le)?[b[me][le]]:ie(le)?[b.get(le)]:y.map(function(Se){return Se[me]})}let f=this,y=this.isLinked&&!this.series?this.linkedParent.series:this.series,b=f.chart,P=b.renderer,q=f.left,ee=f.top,X,ce,fe,Te,Z=[],re=[],ue,ye,Ie=w.translatedValue,ae=w.value,be=w.force,xe;(b.options.isStock&&w.acrossPanes!==!1&&f.coll==="xAxis"||f.coll==="yAxis")&&(w.preventDefault(),re=L(f.coll),ue=f.isXAxis?b.yAxis:b.xAxis,ue.forEach(function(le){if(!k(le.options.id)||le.options.id.indexOf("navigator")===-1){var me=le.isXAxis?"yAxis":"xAxis";me=k(le.options[me])?b[me][le.options[me]]:b[me][0],f===me&&re.push(le)}}),ye=re.length?[]:[f.isXAxis?b.yAxis[0]:b.xAxis[0]],re.forEach(function(le){ye.indexOf(le)!==-1||G(ye,function(me){return me.pos===le.pos&&me.len===le.len})||ye.push(le)}),xe=N(Ie,f.translate(ae,void 0,void 0,w.old)),C(xe)&&(f.horiz?ye.forEach(function(le){let me;ce=le.pos,Te=ce+le.len,X=fe=Math.round(xe+f.transB),be!=="pass"&&(X<q||X>q+f.width)&&(be?X=fe=E(X,q,q+f.width):me=!0),me||Z.push(["M",X,ce],["L",fe,Te])}):ye.forEach(function(le){let me;X=le.pos,fe=X+le.len,ce=Te=Math.round(ee+f.height-xe),be!=="pass"&&(ce<ee||ce>ee+f.height)&&(be?ce=Te=E(ce,ee,ee+f.height):me=!0),me||Z.push(["M",X,ce],["L",fe,Te])})),w.path=0<Z.length?P.crispPolyLine(Z,w.lineWidth||1):null)}),B.prototype.crispPolyLine=function(w,L){for(let f=0;f<w.length;f+=2){const y=w[f],b=w[f+1];y[1]===b[1]&&(y[1]=b[1]=Math.round(y[1])-L%2/2),y[2]===b[2]&&(y[2]=b[2]=Math.round(y[2])+L%2/2)}return w},M(l,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),M(l,"afterDrawCrosshair",function(w){var L,f;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&C(this.min)&&C(this.max)){var y=this.chart,b=this.logarithmic,P=this.crosshair.label,q=this.horiz,ee=this.opposite,X=this.left,ce=this.top,fe=this.width,Te=this.crossLabel,Z=P.format,re="",ue=this.options.tickPosition==="inside",ye=this.crosshair.snap!==!1,Ie=0,ae=w.e||this.cross&&this.cross.e;w=w.point;var be=this.min,xe=this.max;b&&(be=b.lin2log(be),xe=b.lin2log(xe)),b=q?"center":ee?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center",Te||(Te=this.crossLabel=y.renderer.label("",0,void 0,P.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(w&&w.series?w.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:P.align||b,padding:N(P.padding,8),r:N(P.borderRadius,3),zIndex:2}).add(this.labelGroup),y.styledMode||Te.attr({fill:P.backgroundColor||w&&w.series&&w.series.color||"#666666",stroke:P.borderColor||"","stroke-width":P.borderWidth||0}).css(V({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},P.style||{}))),q?(fe=ye?(w.plotX||0)+X:ae.chartX,ce+=ee?0:this.height):(fe=X+this.offset+(ee?fe:0),ce=ye?(w.plotY||0)+ce:ae.chartY),Z||P.formatter||(this.dateTime&&(re="%b %d, %Y"),Z="{value"+(re?":"+re:"")+"}"),re=ye?this.isXAxis?w.x:w.y:this.toValue(q?ae.chartX:ae.chartY),ye=w&&w.series?w.series.isPointInside(w):C(re)&&re>be&&re<xe,ae="",Z?ae=O(Z,{value:re},y):P.formatter&&C(re)&&(ae=P.formatter.call(this,re)),Te.attr({text:ae,x:fe,y:ce,visibility:ye?"inherit":"hidden"}),P=Te.getBBox(),!C(Te.x)||q||ee||(fe=Te.x-P.width/2),C(Te.y)&&(q?(ue&&!ee||!ue&&ee)&&(ce=Te.y-P.height):ce=Te.y-P.height/2),q?(L=X-P.x,f=X+this.width-P.x):(L=this.labelAlign==="left"?X:0,f=this.labelAlign==="right"?X+this.width:y.chartWidth),Te.translateX<L&&(Ie=L-Te.translateX),Te.translateX+P.width>=f&&(Ie=-(Te.translateX+P.width-f)),Te.attr({x:fe+Ie,y:ce,anchorX:q?fe:this.opposite?0:y.chartWidth,anchorY:q?this.opposite?y.chartHeight:0:ce+P.height/2})}}),J.prototype.forceCropping=function(){const w=this.chart,L=this.options.dataGrouping;return this.allowDG!==!1&&L&&N(L.enabled,w.options.isStock)},M(c,"update",function(w){w=w.options,"scrollbar"in w&&this.navigator&&(Q(!0,this.options.scrollbar,w.scrollbar),this.navigator.update({}),delete w.scrollbar)}),$}),s(t,"masters/modules/stock.src.js",[t["Core/Globals.js"],t["Series/DataModifyComposition.js"],t["Stock/Navigator/Navigator.js"],t["Stock/RangeSelector/RangeSelector.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Axis/OrdinalAxis.js"],t["Series/OHLC/OHLCSeries.js"],t["Series/Flags/FlagsSeries.js"],t["Core/Chart/StockChart.js"]],function(l,c,d,m,n,S,j,J,B){l.Navigator=d,l.RangeSelector=m,l.Scrollbar=n,l.StockChart=l.stockChart=B.stockChart,c.compose(l.Series,l.Axis,l.Point),J.compose(l.Renderer),d.compose(l.Axis,l.Chart,l.Series),j.compose(l.Series),S.compose(l.Axis,l.Series,l.Chart),m.compose(l.Axis,l.Chart),n.compose(l.Axis)})})})(wG);const SG=qw;SG(th);const TG={name:"graph",components:{Chart:_p.Chart},data(){return{chartOptions:{chart:{zoomType:"xy"},title:{text:"",align:""},subtitle:{text:"",align:""},xAxis:[{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],crosshair:!0}],yAxis:[{labels:{format:"{value}°C",style:{color:th.getOptions().colors[2]}},title:{text:"Temperature",style:{color:th.getOptions().colors[2]}},opposite:!0},{gridLineWidth:0,title:{text:"Rainfall",style:{color:th.getOptions().colors[0]}},labels:{format:"{value} mm",style:{color:th.getOptions().colors[0]}}},{gridLineWidth:0,title:{text:"Sea-Level Pressure",style:{color:th.getOptions().colors[1]}},labels:{format:"{value} mb",style:{color:th.getOptions().colors[1]}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:80,verticalAlign:"top",y:55,floating:!0,backgroundColor:th.defaultOptions.legend.backgroundColor||"rgba(255,255,255,0.25)"},series:[{name:"Rainfall",type:"column",yAxis:1,data:[49.9,71.5,106.4,129.2,144,176,135.6,148.5,216.4,194.1,95.6,54.4],tooltip:{valueSuffix:" mm"}},{name:"Sea-Level Pressure",type:"spline",yAxis:2,data:[1016,1016,1015.9,1015.5,1012.3,1009.5,1009.6,1010.2,1013.1,1016.9,1018.2,1016.7],marker:{enabled:!1},dashStyle:"shortdot",tooltip:{valueSuffix:" mb"}},{name:"Temperature",type:"spline",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6],tooltip:{valueSuffix:" °C"}}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{floating:!1,layout:"horizontal",align:"center",verticalAlign:"bottom",x:0,y:0},yAxis:[{labels:{align:"right",x:0,y:-6},showLastLabel:!1},{labels:{align:"left",x:0,y:-6},showLastLabel:!1},{visible:!1}]}}]}}}}};function EG(e,t,s,l,c,d){const m=ds("Chart");return di(),lh(m,{options:c.chartOptions,constructorType:"stockChart"},null,8,["options"])}const CG=Rs(TG,[["render",EG]]);var Yw={},MG={get exports(){return Yw},set exports(e){Yw=e}};(function(e){(function(t){e.exports?(t.default=t,e.exports=t):t(typeof Highcharts<"u"?Highcharts:void 0)})(function(t){function s(l,c,d,m){l.hasOwnProperty(c)||(l[c]=m.apply(null,d),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:l[c]}})))}t=t?t._modules:{},s(t,"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(l,c){function d(B){if(typeof S.MouseEvent=="function")return new S.MouseEvent(B.type,B);if(n.createEvent){const W=n.createEvent("MouseEvent");if(W.initMouseEvent)return W.initMouseEvent(B.type,B.bubbles,B.cancelable,B.view||S,B.detail,B.screenX,B.screenY,B.clientX,B.clientY,B.ctrlKey,B.altKey,B.shiftKey,B.metaKey,B.button,B.relatedTarget),W}return m(B.type)}function m(B,W,K){return W=W||{x:0,y:0},typeof S.MouseEvent=="function"?new S.MouseEvent(B,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:K||J,view:S,detail:B==="click"?1:0,screenX:W.x,screenY:W.y,clientX:W.x,clientY:W.y}):n.createEvent&&(K=n.createEvent("MouseEvent"),K.initMouseEvent)?(K.initMouseEvent(B,!0,!0,S,B==="click"?1:0,W.x,W.y,W.x,W.y,!1,!1,!1,!1,0,null),K):{type:B}}const{doc:n,win:S}=l,{css:j}=c,J=S.EventTarget&&new S.EventTarget||"none";return{addClass:function(B,W){B.classList?B.classList.add(W):0>B.className.indexOf(W)&&(B.className+=" "+W)},cloneMouseEvent:d,cloneTouchEvent:function(B){var W=K=>{const I=[];for(let O=0;O<K.length;++O){const H=K.item(O);H&&I.push(H)}return I};return typeof S.TouchEvent=="function"?(W=new S.TouchEvent(B.type,{touches:W(B.touches),targetTouches:W(B.targetTouches),changedTouches:W(B.changedTouches),ctrlKey:B.ctrlKey,shiftKey:B.shiftKey,altKey:B.altKey,metaKey:B.metaKey,bubbles:B.bubbles,cancelable:B.cancelable,composed:B.composed,detail:B.detail,view:B.view}),B.defaultPrevented&&W.preventDefault(),W):(W=d(B),W.touches=B.touches,W.changedTouches=B.changedTouches,W.targetTouches=B.targetTouches,W)},escapeStringForHTML:function(B){return B.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(B){return n.getElementById(B)},getFakeMouseEvent:m,getHeadingTagNameForElement:function(B){const W=I=>(I=parseInt(I.slice(1),10),"h"+Math.min(6,I+1)),K=I=>{var O;e:{for(O=I;O=O.previousSibling;){const H=O.tagName||"";if(/H[1-6]/.test(H)){O=H;break e}}O=""}return O?W(O):(I=I.parentElement,I?(O=I.tagName,/H[1-6]/.test(O)?W(O):K(I)):"p")};return K(B)},removeChildNodes:function(B){for(;B.lastChild;)B.removeChild(B.lastChild)},removeClass:function(B,W){B.classList?B.classList.remove(W):B.className=B.className.replace(new RegExp(W,"g"),"")},removeElement:function(B){B&&B.parentNode&&B.parentNode.removeChild(B)},reverseChildNodes:function(B){let W=B.childNodes.length;for(;W--;)B.appendChild(B.childNodes[W])},simulatedEventTarget:J,stripHTMLTagsFromString:function(B){return typeof B=="string"?B.replace(/<\/?[^>]+(>|$)/g,""):B},visuallyHideElement:function(B){j(B,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),s(t,"Accessibility/A11yI18n.js",[t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],function(l,c){const{format:d}=l,{getNestedProperty:m,pick:n}=c;var S;return function(j){function J(I,O){var H=I.indexOf("#each("),M=I.indexOf("#plural("),E=I.indexOf("[");const k=I.indexOf("]");if(-1<H){E=I.slice(H).indexOf(")")+H;var V=I.substring(0,H);if(M=I.substring(E+1),E=I.substring(H+6,E).split(","),H=Number(E[1]),I="",O=m(E[0],O))for(H=isNaN(H)?O.length:H,H=0>H?O.length+H:Math.min(H,O.length),E=0;E<H;++E)I+=V+O[E]+M;return I.length?I:""}if(-1<M){switch(V=I.slice(M).indexOf(")")+M,I=I.substring(M+8,V).split(","),Number(m(I[0],O))){case 0:I=n(I[4],I[1]);break;case 1:I=n(I[2],I[1]);break;case 2:I=n(I[3],I[1]);break;default:I=I[1]}return I?(O=I,O=O.trim&&O.trim()||O.replace(/^\s+|\s+$/g,"")):O="",O}return-1<E?(M=I.substring(0,E),I=Number(I.substring(E+1,k)),O=m(M,O),!isNaN(I)&&O&&(0>I?(V=O[O.length+I],typeof V>"u"&&(V=O[0])):(V=O[I],typeof V>"u"&&(V=O[O.length-1]))),typeof V<"u"?V:""):"{"+I+"}"}function B(I,O,H){const M=(C,ie)=>{C=C.slice(ie||0);const Q=C.indexOf("{"),N=C.indexOf("}");if(-1<Q&&N>Q)return{statement:C.substring(Q+1,N),begin:ie+Q+1,end:ie+N}},E=[];let k,V,G=0;do k=M(I,G),V=I.substring(G,k&&k.begin-1),V.length&&E.push({value:V,type:"constant"}),k&&E.push({value:k.statement,type:"statement"}),G=k?k.end+1:G+1;while(k);return E.forEach(C=>{C.type==="statement"&&(C.value=J(C.value,O))}),d(E.reduce((C,ie)=>C+ie.value,""),O,H)}function W(I,O){I=I.split(".");let H=this.options.lang,M=0;for(;M<I.length;++M)H=H&&H[I[M]];return typeof H=="string"?B(H,O,this):""}const K=[];j.compose=function(I){return c.pushUnique(K,I)&&(I.prototype.langFormat=W),I},j.i18nFormat=B}(S||(S={})),S}),s(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(l,c,d){function m(M,E){const k=E.type,V=M.hcEvents;W.createEvent&&(M.dispatchEvent||M.fireEvent)?M.dispatchEvent?M.dispatchEvent(E):M.fireEvent(k,E):V&&V[k]?H(M,k,E):M.element&&m(M.element,E)}function n(M){const E=M.chart,k={};let V="Seconds";k.Seconds=((M.dataMax||M.max||0)-(M.dataMin||M.min||0))/1e3,k.Minutes=k.Seconds/60,k.Hours=k.Minutes/60,k.Days=k.Hours/24,["Minutes","Hours","Days"].forEach(function(C){2<k[C]&&(V=C)});const G=k[V].toFixed(V!=="Seconds"&&V!=="Minutes"?1:0);return E.langFormat("accessibility.axis.timeRange"+V,{chart:E,axis:M,range:G.replace(".0","")})}function S(M){const E=M.chart;var k=E.options;const V=k&&k.accessibility&&k.accessibility.screenReaderSection.axisRangeDateFormat||"",G={min:M.dataMin||M.min||0,max:M.dataMax||M.max||0};return k=function(C){return M.dateTime?E.time.dateFormat(V,G[C]):G[C].toString()},E.langFormat("accessibility.axis.rangeFromTo",{chart:E,axis:M,rangeFrom:k("min"),rangeTo:k("max")})}function j(M){if(M.points&&M.points.length)return(M=O(M.points,E=>!!E.graphic))&&M.graphic&&M.graphic.element}function J(M){const E=j(M);return E&&E.parentNode||M.graph&&M.graph.element||M.group&&M.group.element}function B(M,E){E.setAttribute("aria-hidden",!1),E!==M.renderTo&&E.parentNode&&E.parentNode!==W.body&&(Array.prototype.forEach.call(E.parentNode.childNodes,function(k){k.hasAttribute("aria-hidden")||k.setAttribute("aria-hidden",!0)}),B(M,E.parentNode))}const{doc:W}=l,{stripHTMLTagsFromString:K}=c,{defined:I,find:O,fireEvent:H}=d;return{fireEventOnWrappedOrUnwrappedElement:m,getChartTitle:function(M){return K(M.options.title.text||M.langFormat("accessibility.defaultChartTitle",{chart:M}))},getAxisDescription:function(M){return M&&(M.userOptions&&M.userOptions.accessibility&&M.userOptions.accessibility.description||M.axisTitle&&M.axisTitle.textStr||M.options.id||M.categories&&"categories"||M.dateTime&&"Time"||"values")},getAxisRangeDescription:function(M){var E=M.options||{};return E.accessibility&&typeof E.accessibility.rangeDescription<"u"?E.accessibility.rangeDescription:M.categories?(E=M.chart,M=M.dataMax&&M.dataMin?E.langFormat("accessibility.axis.rangeCategories",{chart:E,axis:M,numCategories:M.dataMax-M.dataMin+1}):"",M):!M.dateTime||M.min!==0&&M.dataMin!==0?S(M):n(M)},getPointFromXY:function(M,E,k){let V=M.length,G;for(;V--;)if(G=O(M[V].points||[],function(C){return C.x===E&&C.y===k}))return G},getSeriesFirstPointElement:j,getSeriesFromName:function(M,E){return E?(M.series||[]).filter(function(k){return k.name===E}):M.series},getSeriesA11yElement:J,unhideChartElementFromAT:B,hideSeriesFromAT:function(M){(M=J(M))&&M.setAttribute("aria-hidden",!0)},scrollToPoint:function(M){var E=M.series.xAxis,k=M.series.yAxis;const V=E&&E.scrollbar?E:k;if((E=V&&V.scrollbar)&&I(E.to)&&I(E.from)){if(k=E.to-E.from,I(V.dataMin)&&I(V.dataMax)){var G=V.toPixels(V.dataMin),C=V.toPixels(V.dataMax);M=(V.toPixels(M[V.coll==="xAxis"?"x":"y"]||0)-G)/(C-G)}else M=0;E.updatePosition(M-k/2,M+k/2),H(E,"changed",{from:E.from,to:E.to,trigger:"scrollbar",DOMEvent:null})}}}}),s(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(l,c){const{doc:d}=l,{removeElement:m}=c;class n{constructor(){this.elements=[]}createElement(){const j=d.createElement.apply(d,arguments);return this.elements.push(j),j}destroyCreatedElements(){this.elements.forEach(function(j){m(j)}),this.elements=[]}}return n}),s(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(l,c){const{addEvent:d}=c;class m{constructor(){this.eventRemovers=[]}addEvent(){const S=d.apply(l,arguments);return this.eventRemovers.push(S),S}removeAddedEvents(){this.eventRemovers.forEach(S=>S()),this.eventRemovers=[]}}return m}),s(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){const{fireEventOnWrappedOrUnwrappedElement:S}=l,{getFakeMouseEvent:j}=m;({extend:l}=n);class J{constructor(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}initBase(W,K){this.chart=W,this.eventProvider=new d,this.domElementProvider=new c,this.proxyProvider=K,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(W,K,I,O){return this.eventProvider.addEvent(W,K,I,O)}createElement(W,K){return this.domElementProvider.createElement(W,K)}fakeClickEvent(W){const K=j("click");S(W,K)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return l(J.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),J}),s(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],function(l){const{find:c}=l;class d{constructor(n,S){this.chart=n,this.keyCodeMap=S.keyCodeMap||[],this.validate=S.validate,this.init=S.init,this.terminate=S.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(n){const S=n.which||n.keyCode;let j=this.response.noHandler;const J=c(this.keyCodeMap,function(B){return-1<B[0].indexOf(S)});return J?j=J[1].call(this,S,n):S===9&&(j=this.response[n.shiftKey?"prev":"next"]),j}}return d}),s(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(l,c,d,m,n){const{unhideChartElementFromAT:S,getChartTitle:j}=d,{doc:J}=m,{stripHTMLTagsFromString:B}=n;class W extends l{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const I=this.chart,O="highcharts-title-"+I.index,H=B(I.langFormat("accessibility.svgContainerTitle",{chartTitle:j(I)}));if(H.length){const M=this.svgTitleElement=this.svgTitleElement||J.createElementNS("http://www.w3.org/2000/svg","title");M.textContent=H,M.id=O,I.renderTo.insertBefore(M,I.renderTo.firstChild)}}setSVGContainerLabel(){const I=this.chart,O=I.langFormat("accessibility.svgContainerLabel",{chartTitle:j(I)});I.renderer.box&&O.length&&I.renderer.box.setAttribute("aria-label",O)}setGraphicContainerAttrs(){const I=this.chart,O=I.langFormat("accessibility.graphicContainerLabel",{chartTitle:j(I)});O.length&&I.container.setAttribute("aria-label",O)}setRenderToAttrs(){const I=this.chart,O=I.options.accessibility.landmarkVerbosity!=="disabled",H=I.langFormat("accessibility.chartContainerLabel",{title:j(I),chart:I});H&&(I.renderTo.setAttribute("role",O?"region":"group"),I.renderTo.setAttribute("aria-label",H))}makeCreditsAccessible(){const I=this.chart,O=I.credits;O&&(O.textStr&&O.element.setAttribute("aria-label",I.langFormat("accessibility.credits",{creditsStr:B(O.textStr)})),S(I,O.element))}getKeyboardNavigation(){const I=this.chart;return new c(I,{keyCodeMap:[],validate:function(){return!0},init:function(){const O=I.accessibility;O&&O.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}return W}),s(t,"Accessibility/FocusBorder.js",[t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Utilities.js"]],function(l,c){const{addEvent:d,pick:m}=c;var n;return function(S){function j(){const E=this.focusElement,k=this.options.accessibility.keyboardNavigation.focusBorder;E&&(E.removeFocusBorder(),k.enabled&&E.addFocusBorder(k.margin,{stroke:k.style.color,strokeWidth:k.style.lineWidth,r:k.style.borderRadius}))}function J(E,k){const V=this.options.accessibility.keyboardNavigation.focusBorder;(k=k||E.element)&&k.focus&&(k.hcEvents&&k.hcEvents.focusin||d(k,"focusin",function(){}),k.focus(),V.hideBrowserFocusOutline&&(k.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=E,this.renderFocusBorder()}function B(E){if(!E.focusBorderDestroyHook){var k=E.destroy;E.destroy=function(){return E.focusBorder&&E.focusBorder.destroy&&E.focusBorder.destroy(),k.apply(E,arguments)},E.focusBorderDestroyHook=k}}function W(E,k){this.focusBorder&&this.removeFocusBorder();const V=this.getBBox(),G=m(E,3),C=this.parentGroup;var ie=this.scaleX||C&&C.scaleX,Q=this.scaleY||C&&C.scaleY;ie=(ie?!Q:Q)?Math.abs(ie||Q||1):(Math.abs(ie||1)+Math.abs(Q||1))/2,V.x+=this.translateX?this.translateX:0,V.y+=this.translateY?this.translateY:0,Q=V.x-G;let N=V.y-G,F=V.width+2*G,$=V.height+2*G;var w=this instanceof l;if(this.element.nodeName==="text"||w){const y=!!this.rotation;if(w)var L={x:y?1:0,y:0};else{var f=L=0;this.attr("text-anchor")==="middle"?L=f=.5:this.rotation?L=.25:f=.75,L={x:L,y:f}}f=+this.attr("x");const b=+this.attr("y");isNaN(f)||(Q=f-V.width*L.x-G),isNaN(b)||(N=b-V.height*L.y-G),w&&y&&(w=F,F=$,$=w,isNaN(f)||(Q=f-V.height*L.x-G),isNaN(b)||(N=b-V.width*L.y-G))}this.focusBorder=this.renderer.rect(Q,N,F,$,parseInt((k&&k.r||0).toString(),10)/ie).addClass("highcharts-focus-border").attr({zIndex:99}).add(C),this.renderer.styledMode||this.focusBorder.attr({stroke:k&&k.stroke,"stroke-width":(k&&k.strokeWidth||0)/ie}),K(this,E,k),B(this)}function K(E,...k){E.focusBorderUpdateHooks||(E.focusBorderUpdateHooks={},M.forEach(V=>{V+="Setter";const G=E[V]||E._defaultSetter;E.focusBorderUpdateHooks[V]=G,E[V]=function(){const C=G.apply(E,arguments);return E.addFocusBorder.apply(E,k),C}}))}function I(){O(this),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}function O(E){E.focusBorderUpdateHooks&&(Object.keys(E.focusBorderUpdateHooks).forEach(k=>{const V=E.focusBorderUpdateHooks[k];V===E._defaultSetter?delete E[k]:E[k]=V}),delete E.focusBorderUpdateHooks)}const H=[],M="x y transform width height r d stroke-width".split(" ");S.compose=function(E,k){c.pushUnique(H,E)&&(E=E.prototype,E.renderFocusBorder=j,E.setFocusToElement=J),c.pushUnique(H,k)&&(k=k.prototype,k.addFocusBorder=W,k.removeFocusBorder=I)}}(n||(n={})),n}),s(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){const{doc:S}=d,{addClass:j,visuallyHideElement:J}=m,{attr:B}=n;class W{constructor(I,O){this.chart=I,this.domElementProvider=new c,this.announceRegion=this.addAnnounceRegion(O)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(I){l.setElementHTML(this.announceRegion,I),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=l.emptyHTML,delete this.clearAnnouncementRegionTimer},1e3)}addAnnounceRegion(I){const O=this.chart.announcerContainer||this.createAnnouncerContainer(),H=this.domElementProvider.createElement("div");return B(H,{"aria-hidden":!1,"aria-live":I}),this.chart.styledMode?j(H,"highcharts-visually-hidden"):J(H),O.appendChild(H),H}createAnnouncerContainer(){const I=this.chart,O=S.createElement("div");return B(O,{"aria-hidden":!1,class:"highcharts-announcer-container"}),O.style.position="relative",I.renderTo.insertBefore(O,I.renderTo.firstChild),I.announcerContainer=O}}return W}),s(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],function(l){function c(J){return(J.annotations||[]).reduce((B,W)=>(W.options&&W.options.visible!==!1&&(B=B.concat(W.labels)),B),[])}function d(J){return J.options&&J.options.accessibility&&J.options.accessibility.description||J.graphic&&J.graphic.text&&J.graphic.text.textStr||""}function m(J){var B=J.options&&J.options.accessibility&&J.options.accessibility.description;if(B)return B;B=J.chart;const W=d(J),K=J.points.filter(H=>!!H.graphic).map(H=>{const M=H.accessibility&&H.accessibility.valueDescription||H.graphic&&H.graphic.element&&H.graphic.element.getAttribute("aria-label")||"";return H=H&&H.series.name||"",(H?H+", ":"")+"data point "+M}).filter(H=>!!H),I=K.length,O="accessibility.screenReaderSection.annotations.description"+(1<I?"MultiplePoints":I?"SinglePoint":"NoPoints");return J={annotationText:W,annotation:J,numPoints:I,annotationPoint:K[0],additionalAnnotationPoints:K.slice(1)},B.langFormat(O,J)}function n(J){return c(J).map(B=>(B=S(j(m(B))))?`<li>${B}</li>`:"")}const{escapeStringForHTML:S,stripHTMLTagsFromString:j}=l;return{getAnnotationsInfoHTML:function(J){const B=J.annotations;return B&&B.length?`<ul style="list-style-type: none">${n(J).join(" ")}</ul>`:""},getAnnotationLabelDescription:m,getAnnotationListItems:n,getPointAnnotationTexts:function(J){const B=c(J.series.chart).filter(W=>-1<W.points.indexOf(J));return B.length?B.map(W=>`${d(W)}`):[]}}}),s(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,S,j,J,B,W){function K(L,f){var y=f[0],b=L.series&&L.series[0]||{};if(b={numSeries:L.series.length,numPoints:b.points&&b.points.length,chart:L,mapTitle:L.mapView&&L.mapView.geoMap&&L.mapView.geoMap.title},!y)return L.langFormat("accessibility.chartTypes.emptyChart",b);if(y==="map")return b.mapTitle?L.langFormat("accessibility.chartTypes.mapTypeDescription",b):L.langFormat("accessibility.chartTypes.unknownMap",b);if(1<L.types.length)return L.langFormat("accessibility.chartTypes.combinationChart",b);{f=f[0],y=L.langFormat("accessibility.seriesTypeDescriptions."+f,b);const P=L.series&&2>L.series.length?"Single":"Multiple";L=(L.langFormat("accessibility.chartTypes."+f+P,b)||L.langFormat("accessibility.chartTypes.default"+P,b))+(y?" "+y:"")}return L}const{getAnnotationsInfoHTML:I}=m,{getAxisDescription:O,getAxisRangeDescription:H,getChartTitle:M,unhideChartElementFromAT:E}=S,{format:k}=j,{doc:V}=J,{addClass:G,getElement:C,getHeadingTagNameForElement:ie,stripHTMLTagsFromString:Q,visuallyHideElement:N}=B,{attr:F,pick:$}=W;class w extends c{constructor(){super(...arguments),this.announcer=void 0,this.screenReaderSections={}}init(){const f=this.chart,y=this;this.initRegionsDefinitions(),this.addEvent(f,"aftergetTableAST",function(b){y.onDataTableCreated(b)}),this.addEvent(f,"afterViewData",function(b){b.wasHidden&&(y.dataTableDiv=b.element,setTimeout(function(){y.focusDataTable()},300))}),this.announcer=new d(f,"assertive")}initRegionsDefinitions(){const f=this;this.screenReaderSections={before:{element:null,buildContent:function(y){const b=y.options.accessibility.screenReaderSection.beforeChartFormatter;return b?b(y):f.defaultBeforeChartFormatter(y)},insertIntoDOM:function(y,b){b.renderTo.insertBefore(y,b.renderTo.firstChild)},afterInserted:function(){typeof f.sonifyButtonId<"u"&&f.initSonifyButton(f.sonifyButtonId),typeof f.dataTableButtonId<"u"&&f.initDataTableButton(f.dataTableButtonId)}},after:{element:null,buildContent:function(y){const b=y.options.accessibility.screenReaderSection.afterChartFormatter;return b?b(y):f.defaultAfterChartFormatter()},insertIntoDOM:function(y,b){b.renderTo.insertBefore(y,b.container.nextSibling)},afterInserted:function(){f.chart.accessibility&&f.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){const f=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(y){f.updateScreenReaderSection(y)})}getLinkedDescriptionElement(){var f=this.chart.options.accessibility.linkedDescription;if(f){if(typeof f!="string")return f;if(f=k(f,this.chart),f=V.querySelectorAll(f),f.length===1)return f[0]}}setLinkedDescriptionAttrs(){const f=this.linkedDescriptionElement;f&&(f.setAttribute("aria-hidden","true"),G(f,"highcharts-linked-description"))}updateScreenReaderSection(f){const y=this.chart,b=this.screenReaderSections[f],P=b.buildContent(y),q=b.element=b.element||this.createElement("div"),ee=q.firstChild||this.createElement("div");P?(this.setScreenReaderSectionAttribs(q,f),n.setElementHTML(ee,P),q.appendChild(ee),b.insertIntoDOM(q,y),y.styledMode?G(ee,"highcharts-visually-hidden"):N(ee),E(y,ee),b.afterInserted&&b.afterInserted()):(q.parentNode&&q.parentNode.removeChild(q),b.element=null)}setScreenReaderSectionAttribs(f,y){const b=this.chart,P=b.langFormat("accessibility.screenReaderSection."+y+"RegionLabel",{chart:b,chartTitle:M(b)});F(f,{id:`highcharts-screen-reader-region-${y}-${b.index}`,"aria-label":P||void 0}),f.style.position="relative",P&&f.setAttribute("role",b.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){var f=this.chart;const y=f.options.accessibility.screenReaderSection.beforeChartFormat;if(!y)return"";var b=this.getAxesDescription();const P=f.sonify&&f.options.sonification&&f.options.sonification.enabled,q="highcharts-a11y-sonify-data-btn-"+f.index,ee="hc-linkto-highcharts-data-table-"+f.index,X=I(f),ce=f.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:f});return b={headingTagName:ie(f.renderTo),chartTitle:M(f),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:b.xAxis,yAxisDescription:b.yAxis,playAsSoundButton:P?this.getSonifyButtonText(q):"",viewTableButton:f.getCSV?this.getDataTableButtonText(ee):"",annotationsTitle:X?ce:"",annotationsList:X},f=l.i18nFormat(y,b,f),this.dataTableButtonId=ee,this.sonifyButtonId=q,f.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}defaultAfterChartFormatter(){const f=this.chart,y=f.options.accessibility.screenReaderSection.afterChartFormat;if(!y)return"";const b={endOfChartMarker:this.getEndOfChartMarkerText()};return l.i18nFormat(y,b,f).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}getLinkedDescription(){const f=this.linkedDescriptionElement;return Q(f&&f.innerHTML||"")}getLongdescText(){const f=this.chart.options;var y=f.caption;y=y&&y.text;const b=this.getLinkedDescription();return f.accessibility.description||b||y||""}getTypeDescriptionText(){const f=this.chart;return f.types?f.options.accessibility.typeDescription||K(f,f.types):""}getDataTableButtonText(f){var y=this.chart;return y=y.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:y,chartTitle:M(y)}),'<button id="'+f+'">'+y+"</button>"}getSonifyButtonText(f){var y=this.chart;return y.options.sonification&&y.options.sonification.enabled===!1?"":(y=y.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:y,chartTitle:M(y)}),'<button id="'+f+'">'+y+"</button>")}getSubtitleText(){const f=this.chart.options.subtitle;return Q(f&&f.text||"")}getEndOfChartMarkerText(){const f=this.chart,y=f.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:f});return'<div id="highcharts-end-of-chart-marker-'+f.index+'">'+y+"</div>"}onDataTableCreated(f){const y=this.chart;if(y.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");const b=f.tree.attributes||{};b.tabindex=-1,b.summary=y.langFormat("accessibility.table.tableSummary",{chart:y}),f.tree.attributes=b}}focusDataTable(){var f=this.dataTableDiv;(f=f&&f.getElementsByTagName("table")[0])&&f.focus&&f.focus()}initSonifyButton(f){const y=this.sonifyButton=C(f),b=this.chart,P=q=>{y&&(y.setAttribute("aria-hidden","true"),y.setAttribute("aria-label","")),q.preventDefault(),q.stopPropagation(),q=b.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:b}),this.announcer.announce(q),setTimeout(()=>{y&&(y.removeAttribute("aria-hidden"),y.removeAttribute("aria-label")),b.sonify&&b.sonify()},1e3)};y&&b&&(y.setAttribute("tabindex",-1),y.onclick=function(q){(b.options.accessibility&&b.options.accessibility.screenReaderSection.onPlayAsSoundClick||P).call(this,q,b)})}initDataTableButton(f){const y=this.viewDataTableButton=C(f),b=this.chart;f=f.replace("hc-linkto-",""),y&&(F(y,{tabindex:-1,"aria-expanded":!!C(f)}),y.onclick=b.options.accessibility.screenReaderSection.onViewDataTableClick||function(){b.viewData()})}getAxesDescription(){const f=this.chart;var y=function(ee,X){return ee=f[ee],1<ee.length||ee[0]&&$(ee[0].options.accessibility&&ee[0].options.accessibility.enabled,X)},b=!!f.types&&0>f.types.indexOf("map")&&0>f.types.indexOf("treemap")&&0>f.types.indexOf("tilemap");const P=!!f.hasCartesianSeries,q=y("xAxis",!f.angular&&P&&b);return y=y("yAxis",P&&b),b={},q&&(b.xAxis=this.getAxisDescriptionText("xAxis")),y&&(b.yAxis=this.getAxisDescriptionText("yAxis")),b}getAxisDescriptionText(f){const y=this.chart,b=y[f];return y.langFormat("accessibility.axis."+f+"Description"+(1<b.length?"Plural":"Singular"),{chart:y,names:b.map(function(P){return O(P)}),ranges:b.map(function(P){return H(P)}),numAxes:b.length})}destroy(){this.announcer&&this.announcer.destroy()}}return w}),s(t,"Accessibility/Components/MenuComponent.js",[t["Core/Chart/Chart.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(l,c,d,m,n,S){const{attr:j}=c,{getChartTitle:J,unhideChartElementFromAT:B}=n,{getFakeMouseEvent:W}=S;class K extends d{init(){const O=this.chart,H=this;this.addEvent(O,"exportMenuShown",function(){H.onMenuShown()}),this.addEvent(O,"exportMenuHidden",function(){H.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){const O=this.chart.exportContextMenu;O&&O.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){const O=this.chart,H=O.exportContextMenu;H&&(this.addAccessibleContextMenuAttribs(),B(O,H)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(O){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",O)}onChartRender(){const O=this.chart,H=O.focusElement,M=O.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&H&&H===O.exportingGroup&&(H.focusBorder?O.setFocusToElement(H,this.exportButtonProxy.buttonElement):M&&M.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){const O=this.chart,H=this.proxyProvider,M=O.exportSVGElements&&O.exportSVGElements[0];{var E=O.options.exporting;const k=O.exportSVGElements&&O.exportSVGElements[0];E=!!(E&&E.enabled!==!1&&E.accessibility&&E.accessibility.enabled&&k&&k.element)}E&&M&&(this.exportButtonProxy=H.addProxyElement("chartMenu",{click:M},{"aria-label":O.langFormat("accessibility.exporting.menuButtonLabel",{chart:O,chartTitle:J(O)}),"aria-expanded":!1,title:O.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")}addAccessibleContextMenuAttribs(){const O=this.chart;var H=O.exportDivElements;H&&H.length&&(H.forEach(M=>{M&&(M.tagName!=="LI"||M.children&&M.children.length?M.setAttribute("aria-hidden","true"):M.setAttribute("tabindex",-1))}),(H=H[0]&&H[0].parentNode)&&j(H,{"aria-hidden":void 0,"aria-label":O.langFormat("accessibility.exporting.chartMenuLabel",{chart:O}),role:"list"}))}getKeyboardNavigation(){const O=this.keyCodes,H=this.chart,M=this;return new m(H,{keyCodeMap:[[[O.left,O.up],function(){return M.onKbdPrevious(this)}],[[O.right,O.down],function(){return M.onKbdNext(this)}],[[O.enter,O.space],function(){return M.onKbdClick(this)}]],validate:function(){return!!H.exporting&&H.options.exporting.enabled!==!1&&H.options.exporting.accessibility.enabled!==!1},init:function(){const E=M.exportButtonProxy,k=M.chart.exportingGroup;E&&k&&H.setFocusToElement(k,E.buttonElement)},terminate:function(){H.hideExportMenu()}})}onKbdPrevious(O){const H=this.chart,M=H.options.accessibility;O=O.response;let E=H.highlightedExportItemIx||0;for(;E--;)if(H.highlightExportItem(E))return O.success;return M.keyboardNavigation.wrapAround?(H.highlightLastExportItem(),O.success):O.prev}onKbdNext(O){const H=this.chart,M=H.options.accessibility;O=O.response;for(let E=(H.highlightedExportItemIx||0)+1;E<H.exportDivElements.length;++E)if(H.highlightExportItem(E))return O.success;return M.keyboardNavigation.wrapAround?(H.highlightExportItem(0),O.success):O.next}onKbdClick(O){const H=this.chart,M=H.exportDivElements[H.highlightedExportItemIx],E=(H.exportSVGElements&&H.exportSVGElements[0]).element;return H.openMenu?this.fakeClickEvent(M):(this.fakeClickEvent(E),H.highlightExportItem(0)),O.response.success}}return function(I){function O(){var V=this.exportSVGElements&&this.exportSVGElements[0];V&&(V=V.element,V.onclick)&&V.onclick(W("click"))}function H(){const V=this.exportDivElements;V&&this.exportContextMenu&&this.openMenu&&(V.forEach(G=>{G&&G.className==="highcharts-menu-item"&&G.onmouseout&&G.onmouseout(W("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function M(V){const G=this.exportDivElements&&this.exportDivElements[V],C=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(G&&G.tagName==="LI"&&(!G.children||!G.children.length)){const ie=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return G.focus&&ie&&G.focus(),C&&C.onmouseout&&C.onmouseout(W("mouseout")),G.onmouseover&&G.onmouseover(W("mouseover")),this.highlightedExportItemIx=V,!0}return!1}function E(){if(this.exportDivElements){let V=this.exportDivElements.length;for(;V--;)if(this.highlightExportItem(V))return!0}return!1}const k=[];I.compose=function(V){c.pushUnique(k,V)&&(V=l.prototype,V.hideExportMenu=H,V.highlightExportItem=M,V.highlightLastExportItem=E,V.showExportMenu=O)}}(K||(K={})),K}),s(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(l,c,d,m,n){const{doc:S,win:j}=l,{addEvent:J,fireEvent:B}=d,{getElement:W,simulatedEventTarget:K}=n;class I{constructor(H,M){this.components=this.chart=void 0,this.currentModuleIx=NaN,this.exitAnchor=this.eventProvider=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(H,M)}init(H,M){const E=this.eventProvider=new m;this.chart=H,this.components=M,this.modules=[],this.currentModuleIx=0,this.update(),E.addEvent(this.tabindexContainer,"keydown",k=>this.onKeydown(k)),E.addEvent(this.tabindexContainer,"focus",k=>this.onFocus(k)),["mouseup","touchend"].forEach(k=>E.addEvent(S,k,V=>this.onMouseUp(V))),["mousedown","touchstart"].forEach(k=>E.addEvent(H.renderTo,k,()=>{this.isClickingChart=!0}))}update(H){var M=this.chart.options.accessibility;M=M&&M.keyboardNavigation;const E=this.components;this.updateContainerTabindex(),M&&M.enabled&&H&&H.length?(this.modules=H.reduce(function(k,V){return V=E[V].getKeyboardNavigation(),k.concat(V)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){const H=W(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),H?(this.makeElementAnExitAnchor(H),this.exitAnchor=H):this.createExitAnchor()}move(H){var M=this.modules&&this.modules[this.currentModuleIx];if(M&&M.terminate&&M.terminate(H),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=H,M=this.modules&&this.modules[this.currentModuleIx]){if(M.validate&&!M.validate())return this.move(H);if(M.init)return M.init(H),!0}return this.currentModuleIx=0,this.exiting=!0,0<H?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(H){var M=this.chart;H=H.relatedTarget&&M.container.contains(H.relatedTarget),!(M=(M=M.options.accessibility)&&M.keyboardNavigation)||!M.enabled||this.exiting||this.tabbingInBackwards||this.isClickingChart||H||(H=this.getFirstValidModuleIx(),H!==null&&(this.currentModuleIx=H,this.modules[H].init(1))),this.exiting=!1}onMouseUp(H){if(delete this.isClickingChart,!this.keyboardReset&&H.relatedTarget!==K){const M=this.chart;H.target&&M.container.contains(H.target)||((H=this.modules&&this.modules[this.currentModuleIx||0])&&H.terminate&&H.terminate(),this.currentModuleIx=0),M.focusElement&&(M.focusElement.removeFocusBorder(),delete M.focusElement),this.keyboardReset=!0}}onKeydown(H){H=H||j.event;const M=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let E;if(this.exiting=this.keyboardReset=!1,M){const k=M.run(H);k===M.response.success?E=!0:k===M.response.prev?E=this.move(-1):k===M.response.next&&(E=this.move(1)),E&&(H.preventDefault(),H.stopPropagation())}}updateContainerTabindex(){var H=this.chart.options.accessibility;H=H&&H.keyboardNavigation,H=!(H&&H.enabled===!1);const M=this.chart;var E=M.container;M.renderTo.hasAttribute("tabindex")&&(E.removeAttribute("tabindex"),E=M.renderTo),this.tabindexContainer=E;const k=E.getAttribute("tabindex");H&&!k?E.setAttribute("tabindex","0"):H||M.container.removeAttribute("tabindex")}createExitAnchor(){const H=this.chart,M=this.exitAnchor=S.createElement("div");H.renderTo.appendChild(M),this.makeElementAnExitAnchor(M)}makeElementAnExitAnchor(H){const M=this.tabindexContainer.getAttribute("tabindex")||0;H.setAttribute("class","highcharts-exit-anchor"),H.setAttribute("tabindex",M),H.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(H)}removeExitAnchor(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)}addExitAnchorEventsToEl(H){const M=this.chart,E=this;this.eventProvider.addEvent(H,"focus",function(k){k=k||j.event;const V=!(k.relatedTarget&&M.container.contains(k.relatedTarget)||E.exiting);M.focusElement&&delete M.focusElement,V?(E.tabbingInBackwards=!0,E.tabindexContainer.focus(),delete E.tabbingInBackwards,k.preventDefault(),E.modules&&E.modules.length&&(E.currentModuleIx=E.modules.length-1,(k=E.modules[E.currentModuleIx])&&k.validate&&!k.validate()?E.move(-1):k&&k.init(-1))):E.exiting=!1})}getFirstValidModuleIx(){const H=this.modules.length;for(let M=0;M<H;++M){const E=this.modules[M];if(!E.validate||E.validate())return M}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(O){function H(){const k=this;B(this,"dismissPopupContent",{},function(){k.tooltip&&k.tooltip.hide(0),k.hideExportMenu()})}function M(k){(k.which||k.keyCode)===27&&l.charts&&l.charts.forEach(V=>{V&&V.dismissPopupContent&&V.dismissPopupContent()})}const E=[];O.compose=function(k){return c.compose(k),d.pushUnique(E,k)&&(k.prototype.dismissPopupContent=H),d.pushUnique(E,S)&&J(S,"keydown",M),k}}(I||(I={})),I}),s(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(l,c,d,m,n,S,j,J){function B(N){const F=N.legend&&N.legend.allItems,$=N.options.legend.accessibility||{};return N=N.colorAxis&&N.colorAxis.some(w=>!w.dataClasses||!w.dataClasses.length),!(!F||!F.length||N||$.enabled===!1)}function W(N,F){const $=F.legendItem||{};F.setState(N?"hover":"",!0);for(const w of["group","label","symbol"])(F=(F=$[w])&&F.element||F)&&H(F,N?"mouseover":"mouseout")}const{animObject:K}=l,{doc:I}=c,{addEvent:O,fireEvent:H,isNumber:M,pick:E,syncTimeout:k}=m,{getChartTitle:V}=j,{stripHTMLTagsFromString:G,addClass:C,removeClass:ie}=J;class Q extends n{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){const F=this;this.recreateProxies(),this.addEvent(d,"afterScroll",function(){this.chart===F.chart&&(F.proxyProvider.updateGroupProxyElementPositions("legend"),F.updateLegendItemProxyVisibility(),-1<F.highlightedLegendItemIx&&this.chart.highlightLegendItem(F.highlightedLegendItemIx))}),this.addEvent(d,"afterPositionItem",function($){this.chart===F.chart&&this.chart.renderer&&F.updateProxyPositionForItem($.item)}),this.addEvent(d,"afterRender",function(){this.chart===F.chart&&this.chart.renderer&&F.recreateProxies()&&k(()=>F.proxyProvider.updateGroupProxyElementPositions("legend"),K(E(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){const F=this.chart,$=F.legend,w=$.currentPage||1,L=$.clipHeight||0;let f;($.allItems||[]).forEach(y=>{if(y.a11yProxyElement){var b=$.pages&&$.pages.length;const q=y.a11yProxyElement.element;var P=!1;f=y.legendItem||{},b&&(y=f.pageIx||0,b=f.y||0,P=f.label?Math.round(f.label.getBBox().height):0,P=b+P-$.pages[y]>L||y!==w-1),P?F.styledMode?C(q,"highcharts-a11y-invisible"):q.style.visibility="hidden":(ie(q,"highcharts-a11y-invisible"),q.style.visibility="")}})}onChartRender(){B(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(F){const $=this.chart;var w=$.legend;F=(w.currentPage||1)+F;var L=w.pages||[];if(0<F&&F<=L.length){L=0;for(const f of w.allItems)((f.legendItem||{}).pageIx||0)+1===F&&(w=$.highlightLegendItem(L))&&(this.highlightedLegendItemIx=L),++L}}updateProxyPositionForItem(F){F.a11yProxyElement&&F.a11yProxyElement.refreshPosition()}recreateProxies(){var F=I.activeElement;const $=this.proxyGroup;return F=F&&$&&$.contains(F),this.removeProxies(),B(this.chart)?(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),F&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0):!1}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){var F=this.chart;const $=G((F.legend&&F.legend.options.title&&F.legend.options.title.text||"").replace(/<br ?\/?>/g," "));F=F.langFormat("accessibility.legend.legendLabel"+($?"":"NoTitle"),{chart:F,legendTitle:$,chartTitle:V(F)}),this.proxyProvider.updateGroupAttrs("legend",{"aria-label":F})}addLegendProxyGroup(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null})}proxyLegendItems(){const F=this;let $;((this.chart.legend||{}).allItems||[]).forEach(w=>{$=w.legendItem||{},$.label&&$.label.element&&F.proxyLegendItem(w)})}proxyLegendItem(F){const $=F.legendItem||{};if($.label&&$.group){var w=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:G(F.name),item:F});F.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:$.label,visual:($.group.div?$.label:$.group).element},{tabindex:-1,"aria-pressed":F.visible,"aria-label":w})}}getKeyboardNavigation(){const F=this.keyCodes,$=this,w=this.chart;return new S(w,{keyCodeMap:[[[F.left,F.right,F.up,F.down],function(L){return $.onKbdArrowKey(this,L)}],[[F.enter,F.space],function(){return $.onKbdClick(this)}],[[F.pageDown,F.pageUp],function(L){return $.highlightAdjacentLegendPage(L===F.pageDown?1:-1),this.response.success}]],validate:function(){return $.shouldHaveLegendNavigation()},init:function(){w.highlightLegendItem(0),$.highlightedLegendItemIx=0},terminate:function(){$.highlightedLegendItemIx=-1,w.legend.allItems.forEach(L=>W(!1,L))}})}onKbdArrowKey(F,$){const w=this.keyCodes,L=F.response,f=this.chart,y=f.options.accessibility,b=f.legend.allItems.length;return $=$===w.left||$===w.up?-1:1,f.highlightLegendItem(this.highlightedLegendItemIx+$)?(this.highlightedLegendItemIx+=$,L.success):(1<b&&y.keyboardNavigation.wrapAround&&F.init($),L.success)}onKbdClick(F){const $=this.chart.legend.allItems[this.highlightedLegendItemIx];return $&&$.a11yProxyElement&&$.a11yProxyElement.click(),F.response.success}shouldHaveLegendNavigation(){if(!B(this.chart))return!1;const F=this.chart,$=(F.options.legend||{}).accessibility||{};return!!(F.legend.display&&$.keyboardNavigation&&$.keyboardNavigation.enabled)}}return function(N){function F(L){var f=this.legend.allItems,y=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx;const b=f[L];var P=b.legendItem||{};return b?(M(y)&&f[y]&&W(!1,f[y]),f=this.legend,L=(f.allItems[L].legendItem||{}).pageIx,y=f.currentPage,typeof L<"u"&&L+1!==y&&f.scroll(1+L-y),P=P.label,L=b.a11yProxyElement&&b.a11yProxyElement.buttonElement,P&&P.element&&L&&this.setFocusToElement(P,L),W(!0,b),!0):!1}function $(L){const f=L.item;this.chart.options.accessibility.enabled&&f&&f.a11yProxyElement&&f.a11yProxyElement.buttonElement.setAttribute("aria-pressed",L.visible?"true":"false")}const w=[];N.compose=function(L,f){m.pushUnique(w,L)&&(L.prototype.highlightLegendItem=F),m.pushUnique(w,f)&&O(f,"afterColorizeItem",$)}}(Q||(Q={})),Q}),s(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){function S(b){const P=b.index;return b.series&&b.series.data&&y(P)&&w(b.series.data,function(q){return!!(q&&typeof q.index<"u"&&q.index>P&&q.graphic&&q.graphic.element)})||null}function j(b){const P=b.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(P!==!1&&b.points&&b.points.length>=P)}function J(b){const P=b.options.accessibility||{};return!j(b)&&!P.exposeAsGroupOnly}function B(b){const P=b.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!b.points||!(b.points.length<P.pointNavigationEnabledThreshold||P.pointNavigationEnabledThreshold===!1))}function W(b,P){var q=b.series,ee=q.chart;b=ee.options.accessibility.point||{};const X=q.options.accessibility&&q.options.accessibility.point||{};return q=q.tooltipOptions||{},ee=ee.options.lang,L(P)?N(P,X.valueDecimals||b.valueDecimals||q.valueDecimals||-1,ee.decimalPoint,ee.accessibility.thousandsSep||ee.thousandsSep):P}function K(b){const P=(b.options.accessibility||{}).description;return P&&b.chart.langFormat("accessibility.series.description",{description:P,series:b})||""}function I(b,P){return b.chart.langFormat("accessibility.series."+P+"Description",{name:V(b[P]),series:b})}function O(b,P,q){const ee=P||"",X=q||"";return b.series.pointArrayMap.reduce(function(ce,fe){{const Te=W(b,f(b[fe],b.options[fe]));fe=Te!==void 0?fe+": "+ee+Te+X:Te}return fe?ce+(ce.length?", ":"")+fe:ce},"")}function H(b){var P=b.series,q=1<P.chart.series.length||P.options.name,ee=b.series,X=ee.chart,ce=ee.options.accessibility;if(ce=ce&&ce.point&&ce.point.valueDescriptionFormat||X.options.accessibility.point.valueDescriptionFormat,ee=f(ee.xAxis&&ee.xAxis.options.accessibility&&ee.xAxis.options.accessibility.enabled,!X.angular&&ee.type!=="flowmap"),ee){var fe=b.series,Te=fe.chart,Z=fe.options.accessibility&&fe.options.accessibility.point||{},re=Te.options.accessibility.point||{};(fe=fe.xAxis&&fe.xAxis.dateTime)?(fe=fe.getXDateFormat(b.x||0,Te.options.tooltip.dateTimeLabelFormats),Z=Z.dateFormatter&&Z.dateFormatter(b)||re.dateFormatter&&re.dateFormatter(b)||Z.dateFormat||re.dateFormat||fe,Te=Te.time.dateFormat(Z,b.x||0,void 0)):Te=void 0,Z=(b.series.xAxis||{}).categories&&y(b.category)&&(""+b.category).replace("<br/>"," "),re=y(b.id)&&0>(""+b.id).indexOf("highcharts-"),fe="x, "+b.x,Te=b.name||Te||Z||(re?b.id:fe)}else Te="";Z=Te,Te=y(b.index)?b.index+1:"";{re=b.series;var ue=re.chart.options.accessibility.point||{},ye=re.chart.options.accessibility&&re.chart.options.accessibility.point||{};const Ie=re.tooltipOptions||{};fe=ye.valuePrefix||ue.valuePrefix||Ie.valuePrefix||"",ue=ye.valueSuffix||ue.valueSuffix||Ie.valueSuffix||"",ye=W(b,b[typeof b.value<"u"?"value":"y"]),re=b.isNull?re.chart.langFormat("accessibility.series.nullPointValue",{point:b}):re.pointArrayMap?O(b,fe,ue):fe+ye+ue}return X=Q(ce,{point:b,index:Te,xDescription:Z,value:re,separator:ee?", ":""},X),ce=(ce=b.options&&b.options.accessibility&&b.options.accessibility.description)?" "+ce:"",P=q?" "+P.name+".":"",q=b.series.chart,ee=k(b),Te={point:b,annotations:ee},q=ee.length?q.langFormat("accessibility.series.pointAnnotationsDescription",Te):"",b.accessibility=b.accessibility||{},b.accessibility.valueDescription=X,X+ce+P+(q?" "+q:"")}function M(b){const P=J(b),q=B(b),ee=b.chart.options.accessibility.point.describeNull;(P||q)&&b.points.forEach(X=>{var ce;if(!(ce=X.graphic&&X.graphic.element)){var fe=X.series;if(ce=fe&&fe.chart,fe=fe&&fe.is("sunburst"),ce=ce&&ce.options.accessibility.point.describeNull,ce=X.isNull&&!fe&&ce){fe=X.series;var Te=S(X);fe=(ce=Te&&Te.graphic)?ce.parentGroup:fe.graph||fe.group,Te=Te?{x:f(X.plotX,Te.plotX,0),y:f(X.plotY,Te.plotY,0)}:{x:f(X.plotX,0),y:f(X.plotY,0)},Te=X.series.chart.renderer.rect(Te.x,Te.y,1,1),Te.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),fe&&fe.element?(X.graphic=Te,X.hasMockGraphic=!0,Te.add(fe),fe.element.insertBefore(Te.element,ce?ce.element:null),ce=Te.element):ce=void 0}}fe=X.options&&X.options.accessibility&&X.options.accessibility.enabled===!1,ce&&(X.isNull&&!ee?ce.setAttribute("aria-hidden",!0):(ce.setAttribute("tabindex","-1"),b.chart.styledMode||(ce.style.outline="none"),P&&!fe?(Te=X.series,fe=Te.chart.options.accessibility.point||{},Te=Te.options.accessibility&&Te.options.accessibility.point||{},X=$(Te.descriptionFormatter&&Te.descriptionFormatter(X)||fe.descriptionFormatter&&fe.descriptionFormatter(X)||H(X)),ce.setAttribute("role","img"),ce.setAttribute("aria-label",X)):ce.setAttribute("aria-hidden",!0)))})}function E(b){const P=b.chart;var q=P.types||[];const ee=K(b);var X=function(re){return P[re]&&1<P[re].length&&b[re]};const ce=b.index+1;var fe=I(b,"xAxis");const Te=I(b,"yAxis");var Z={seriesNumber:ce,series:b,chart:P};return q=1<q.length?"Combination":"",Z=P.langFormat("accessibility.series.summary."+b.type+q,Z)||P.langFormat("accessibility.series.summary.default"+q,Z),X=(X("yAxis")?" "+Te+".":"")+(X("xAxis")?" "+fe+".":""),fe=f(b.options.accessibility&&b.options.accessibility.descriptionFormat,P.options.accessibility.series.descriptionFormat,""),Q(fe,{seriesDescription:Z,authorDescription:ee?" "+ee:"",axisDescription:X,series:b,chart:P,seriesNumber:ce},void 0)}const{getPointAnnotationTexts:k}=l,{getAxisDescription:V,getSeriesFirstPointElement:G,getSeriesA11yElement:C,unhideChartElementFromAT:ie}=c,{format:Q,numberFormat:N}=d,{reverseChildNodes:F,stripHTMLTagsFromString:$}=m,{find:w,isNumber:L,pick:f,defined:y}=n;return{defaultPointDescriptionFormatter:H,defaultSeriesDescriptionFormatter:E,describeSeries:function(b){var P=b.chart,q=G(b);const ee=C(b);var X=P.is3d&&P.is3d();if(ee){ee.lastChild!==q||X||F(ee),M(b),ie(P,ee);{X=b.chart,P=X.options.chart,q=1<X.series.length,X=X.options.accessibility.series.describeSingleSeries;const ce=(b.options.accessibility||{}).exposeAsGroupOnly;P=!(P.options3d&&P.options3d.enabled&&q)&&(q||X||ce||j(b))}P?(P=b.chart.options.accessibility,q=P.landmarkVerbosity,(b.options.accessibility||{}).exposeAsGroupOnly?ee.setAttribute("role","img"):q==="all"?ee.setAttribute("role","region"):ee.setAttribute("role","group"),ee.setAttribute("tabindex","-1"),b.chart.styledMode||(ee.style.outline="none"),ee.setAttribute("aria-label",$(P.series.descriptionFormatter&&P.series.descriptionFormatter(b)||E(b)))):ee.removeAttribute("aria-label")}}}}),s(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(l,c,d,m,n,S){function j(M){const E=M.series.data.filter(k=>M.x===k.x&&M.y===k.y);return E.length===1?E[0]:M}function J(M,E){const k=(M||[]).concat(E||[]).reduce((V,G)=>(V[G.name+G.index]=G,V),{});return Object.keys(k).map(V=>k[V])}const{addEvent:B,defined:W}=c,{getChartTitle:K}=m,{defaultPointDescriptionFormatter:I,defaultSeriesDescriptionFormatter:O}=S;class H{constructor(E){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=E}init(){const E=this.chart,k=E.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new n,this.announcer=new d(E,k),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){const E=this,k=this.chart,V=this.eventProvider;V.addEvent(k,"afterApplyDrilldown",function(){E.lastAnnouncementTime=0}),V.addEvent(k,"afterAddSeries",function(G){E.onSeriesAdded(G.series)}),V.addEvent(k,"redraw",function(){E.announceDirtyData()})}onSeriesAdded(E){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[E.name+E.index]=E,this.dirty.newSeries=W(this.dirty.newSeries)?void 0:E)}announceDirtyData(){const E=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){let k=this.dirty.newPoint;k&&(k=j(k)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(V=>E.dirty.allSeries[V]),this.dirty.newSeries,k),this.dirty={allSeries:{}}}}queueAnnouncement(E,k,V){var G=this.chart.options.accessibility.announceNewData;if(G.enabled){const C=+new Date;G=Math.max(0,G.minAnnounceInterval-(C-this.lastAnnouncementTime)),E=J(this.queuedAnnouncement&&this.queuedAnnouncement.series,E),(k=this.buildAnnouncementMessage(E,k,V))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:C,message:k,series:E},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},G))}}buildAnnouncementMessage(E,k,V){const G=this.chart;var C=G.options.accessibility.announceNewData;return C.announcementFormatter&&(E=C.announcementFormatter(E,k,V),E!==!1)?E.length?E:null:(E=l.charts&&1<l.charts.length?"Multiple":"Single",E=k?"newSeriesAnnounce"+E:V?"newPointAnnounce"+E:"newDataAnnounce",C=K(G),G.langFormat("accessibility.announceNewData."+E,{chartTitle:C,seriesDesc:k?O(k):null,pointDesc:V?I(V):null,point:V,series:k}))}}return function(M){function E(V){const G=this.chart,C=this.newDataAnnouncer;C&&C.chart===G&&G.options.accessibility.announceNewData.enabled&&(C.dirty.newPoint=W(C.dirty.newPoint)?void 0:V.point)}function k(){const V=this.chart,G=this.newDataAnnouncer;G&&G.chart===V&&V.options.accessibility.announceNewData.enabled&&(G.dirty.hasDirty=!0,G.dirty.allSeries[this.name+this.index]=this)}M.composedMembers=[],M.compose=function(V){c.pushUnique(M.composedMembers,V)&&(B(V,"addPoint",E),B(V,"updatedData",k))}}(H||(H={})),H}),s(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(l,c,d,m,n){const{doc:S}=l,{attr:j,css:J,merge:B}=c,{fireEventOnWrappedOrUnwrappedElement:W}=m,{cloneMouseEvent:K,cloneTouchEvent:I,getFakeMouseEvent:O,removeElement:H}=n;class M{constructor(k,V,G,C){this.chart=k,this.target=V,this.groupType=G,G=G==="ul",this.eventProvider=new d;const ie=G?S.createElement("li"):null,Q=this.buttonElement=S.createElement("button");k.styledMode||this.hideButtonVisually(Q),ie?(G&&!k.styledMode&&(ie.style.listStyle="none"),ie.appendChild(Q),this.element=ie):this.element=Q,this.updateTarget(V,C)}click(){var k=this.getTargetPosition();k.x+=k.width/2,k.y+=k.height/2,k=O("click",k),W(this.target.click,k)}updateTarget(k,V){this.target=k,this.updateCSSClassName();const G=V||{};Object.keys(G).forEach(C=>{G[C]===null&&delete G[C]}),j(this.buttonElement,B({"aria-label":this.getTargetAttr(k.click,"aria-label")},G)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,k.click),this.refreshPosition()}refreshPosition(){const k=this.getTargetPosition();J(this.buttonElement,{width:(k.width||1)+"px",height:(k.height||1)+"px",left:(Math.round(k.x)||0)+"px",top:(Math.round(k.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),H(this.element)}updateCSSClassName(){var k=this.chart.legend;k=k.group&&k.group.div,k=-1<(k&&k.className||"").indexOf("highcharts-no-tooltip");const V=-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip");this.buttonElement.className=k||V?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"}addProxyEventsToButton(k,V){"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(G=>{const C=G.indexOf("touch")===0;this.eventProvider.addEvent(k,G,ie=>{const Q=C?I(ie):K(ie);V&&W(V,Q),ie.stopPropagation(),C||ie.preventDefault()},{passive:!1})})}hideButtonVisually(k){J(k,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){var k=this.target.click;if(k=k.element?k.element:k,k=this.target.visual||k,this.chart.renderTo&&k&&k.getBoundingClientRect){k=k.getBoundingClientRect();const V=this.chart.pointer.getChartPosition();return{x:(k.left-V.left)/V.scaleX,y:(k.top-V.top)/V.scaleY,width:k.right/V.scaleX-k.left/V.scaleX,height:k.bottom/V.scaleY-k.top/V.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(k,V){return k.element?k.element.getAttribute(V):k.getAttribute(V)}}return M}),s(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],function(l,c,d,m,n,S){const{doc:j}=l,{attr:J,css:B}=c,{unhideChartElementFromAT:W}=d,{removeElement:K,removeChildNodes:I}=n;class O{constructor(M){this.chart=M,this.domElementProvider=new m,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(M,E,k){const V=this.groups[M];if(!V)throw Error("ProxyProvider.addProxyElement: Invalid group key "+M);return M=new S(this.chart,E,V.type,k),V.proxyContainerElement.appendChild(M.element),V.proxyElements.push(M),M}addGroup(M,E,k){var V=this.groups[M];if(V)return V.groupElement;V=this.domElementProvider.createElement(E);let G;return k&&k.role&&E!=="div"?(G=this.domElementProvider.createElement("div"),G.appendChild(V)):G=V,G.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+M.replace(/\W/g,"-"),this.groups[M]={proxyContainerElement:V,groupElement:G,type:E,proxyElements:[]},J(G,k||{}),E==="ul"&&V.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(G),this.updateGroupOrder(this.groupOrder),G}updateGroupAttrs(M,E){const k=this.groups[M];if(!k)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+M);J(k.groupElement,E)}updateGroupOrder(M){if(this.groupOrder=M.slice(),!this.isDOMOrderGroupOrder()){var E=M.indexOf("series"),k=-1<E?M.slice(0,E):M,V=-1<E?M.slice(E+1):[];M=j.activeElement,["before","after"].forEach(G=>{const C=this[G==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];G=G==="before"?k:V,I(C),G.forEach(ie=>{(ie=this.groups[ie])&&C.appendChild(ie.groupElement)})}),(this.beforeChartProxyPosContainer.contains(M)||this.afterChartProxyPosContainer.contains(M))&&M&&M.focus&&M.focus()}}clearGroup(M){const E=this.groups[M];if(!E)throw Error("ProxyProvider.clearGroup: Invalid group key "+M);I(E.proxyContainerElement)}removeGroup(M){const E=this.groups[M];E&&(K(E.groupElement),delete this.groups[M])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(M){(M=this.groups[M])&&M.proxyElements.forEach(E=>E.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(M){const E=this.domElementProvider.createElement("div");return E.setAttribute("aria-hidden","false"),E.className="highcharts-a11y-proxy-container"+(M?"-"+M:""),B(E,{top:"0",left:"0"}),this.chart.styledMode||(E.style.whiteSpace="nowrap",E.style.position="absolute"),E}getCurrentGroupOrderInDOM(){const M=V=>{const G=Object.keys(this.groups);let C=G.length;for(;C--;){const ie=G[C],Q=this.groups[ie];if(Q&&V===Q.groupElement)return ie}};var E=V=>{const G=[];V=V.children;for(let C=0;C<V.length;++C){const ie=M(V[C]);ie&&G.push(ie)}return G};const k=E(this.beforeChartProxyPosContainer);return E=E(this.afterChartProxyPosContainer),k.push("series"),k.concat(E)}isDOMOrderGroupOrder(){const M=this.getCurrentGroupOrderInDOM(),E=this.groupOrder.filter(V=>V==="series"||!!this.groups[V]);let k=M.length;if(k!==E.length)return!1;for(;k--;)if(M[k]!==E[k])return!1;return!0}updatePosContainerPositions(){const M=this.chart;if(!M.renderer.forExport){var E=M.renderer.box;M.container.insertBefore(this.afterChartProxyPosContainer,E.nextSibling),M.container.insertBefore(this.beforeChartProxyPosContainer,E),W(this.chart,this.afterChartProxyPosContainer),W(this.chart,this.beforeChartProxyPosContainer)}}}return O}),s(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),s(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(l,c,d){function m(){const F=this.range,$=F.type,w=this.max,L=this.chart.time,f=function(q,ee){const X=$==="year"?"FullYear":"Month",ce=new L.Date(q),fe=L.get(X,ce);return L.set(X,ce,fe+ee),fe===L.get(X,ce)&&L.set("Date",ce,0),ce.getTime()-q};let y,b;V(F)?(y=w-F,b=F):F&&(y=w+f(w,-(F.count||1)),this.chart&&(this.chart.fixedRange=w-y));const P=C(this.dataMin,Number.MIN_VALUE);return V(y)||(y=P),y<=P&&(y=P,typeof b>"u"&&(b=f(y,F.count)),this.newMax=Math.min(y+b,C(this.dataMax,Number.MAX_VALUE))),V(w)?!V(F)&&F&&F._offsetMin&&(y+=F._offsetMin):y=void 0,y}function n(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new N(this))}function S(){var F=this.axes;const $=this.rangeSelector;$&&(V($.deferredYTDClick)&&($.clickButton($.deferredYTDClick),delete $.deferredYTDClick),F.forEach(w=>{w.updateNames(),w.setScale()}),this.getAxisMargins(),$.render(),F=$.options.verticalAlign,$.options.floating||(F==="bottom"?this.extraBottomMargin=!0:F!=="middle"&&(this.extraTopMargin=!0)))}function j(F){let $,w,L,f;const y=F.rangeSelector,b=()=>{y&&($=F.xAxis[0].getExtremes(),w=F.legend,f=y&&y.options.verticalAlign,V($.min)&&y.render($.min,$.max),w.display&&f==="top"&&f===w.options.verticalAlign&&(L=G(F.spacingBox),L.y=w.options.layout==="vertical"?F.plotTop:L.y+y.getHeight(),w.group.placed=!1,w.align(L)))};y&&(k(ie,P=>P[0]===F)||ie.push([F,[H(F.xAxis[0],"afterSetExtremes",function(P){y&&y.render(P.min,P.max)}),H(F,"redraw",b)]]),b())}function J(){for(let F=0,$=ie.length;F<$;++F){const w=ie[F];if(w[0]===this){w[1].forEach(L=>L()),ie.splice(F,1);break}}}function B(){var F=this.rangeSelector;F&&(F=F.getHeight(),this.extraTopMargin&&(this.plotTop+=F),this.extraBottomMargin&&(this.marginBottom+=F))}function W(){var F=this.rangeSelector;F&&!F.options.floating&&(F.render(),F=F.options.verticalAlign,F==="bottom"?this.extraBottomMargin=!0:F!=="middle"&&(this.extraTopMargin=!0))}function K(F){var $=F.options.rangeSelector;F=this.extraBottomMargin;const w=this.extraTopMargin;let L=this.rangeSelector;$&&$.enabled&&!M(L)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=L=new N(this)),this.extraTopMargin=this.extraBottomMargin=!1,L&&(j(this),$=$&&$.verticalAlign||L.options&&L.options.verticalAlign,L.options.floating||($==="bottom"?this.extraBottomMargin=!0:$!=="middle"&&(this.extraTopMargin=!0)),this.extraBottomMargin!==F||this.extraTopMargin!==w)&&(this.isDirtyBox=!0)}const{defaultOptions:I,setOptions:O}=l,{addEvent:H,defined:M,extend:E,find:k,isNumber:V,merge:G,pick:C}=d,ie=[],Q=[];let N;return{compose:function(F,$,w){N=w,d.pushUnique(Q,F)&&(F.prototype.minFromRange=m),d.pushUnique(Q,$)&&(H($,"afterGetContainer",n),H($,"beforeRender",S),H($,"destroy",J),H($,"getMargins",B),H($,"render",W),H($,"update",K),$.prototype.callbacks.push(j)),d.pushUnique(Q,O)&&(E(I,{rangeSelector:c.rangeSelector}),E(I.lang,c.lang))}}}),s(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,S){function j($){if($.indexOf("%L")!==-1)return"text";const w="aAdewbBmoyY".split("").some(f=>$.indexOf("%"+f)!==-1),L="HkIlMS".split("").some(f=>$.indexOf("%"+f)!==-1);return w&&L?"datetime-local":w?"date":L?"time":"text"}const{defaultOptions:J}=c,{addEvent:B,createElement:W,css:K,defined:I,destroyObjectProperties:O,discardElement:H,extend:M,fireEvent:E,isNumber:k,merge:V,objectEach:G,pad:C,pick:ie,pInt:Q,splat:N}=S;class F{static compose(w,L){m.compose(w,L,F)}constructor(w){this.buttons=void 0,this.buttonOptions=F.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=w,this.init(w)}clickButton(w,L){const f=this.chart,y=this.buttonOptions[w],b=f.xAxis[0];var P=f.scroller&&f.scroller.getUnionExtremes()||b||{},q=y.type;const ee=y.dataGrouping;let X=P.dataMin,ce=P.dataMax,fe,Te=b&&Math.round(Math.min(b.max,ie(ce,b.max))),Z;P=y._range;let re,ue,ye,Ie=!0;if(X!==null&&ce!==null){if(f.fixedRange=P,this.setSelected(w),ee&&(this.forcedDataGrouping=!0,l.prototype.setDataGrouping.call(b||{chart:this.chart},ee,!1),this.frozenStates=y.preserveDataGrouping),q==="month"||q==="year")b?(q={range:y,max:Te,chart:f,dataMin:X,dataMax:ce},fe=b.minFromRange.call(q),k(q.newMax)&&(Te=q.newMax),Ie=!1):P=y;else if(P)fe=Math.max(Te-P,X),Te=Math.min(fe+P,ce),Ie=!1;else if(q==="ytd")if(b)(typeof ce>"u"||typeof X>"u")&&(X=Number.MAX_VALUE,ce=Number.MIN_VALUE,f.series.forEach(ae=>{(ae=ae.xData)&&(X=Math.min(ae[0],X),ce=Math.max(ae[ae.length-1],ce))}),L=!1),q=this.getYTDExtremes(ce,X,f.time.useUTC),fe=re=q.min,Te=q.max;else{this.deferredYTDClick=w;return}else q==="all"&&b&&(f.navigator&&f.navigator.baseSeries[0]&&(f.navigator.baseSeries[0].xAxis.options.range=void 0),fe=X,Te=ce);Ie&&y._offsetMin&&I(fe)&&(fe+=y._offsetMin),y._offsetMax&&I(Te)&&(Te+=y._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=w+1),b?b.setExtremes(fe,Te,ie(L,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:y}):(Z=N(f.options.xAxis)[0],ye=Z.range,Z.range=P,ue=Z.min,Z.min=re,B(f,"load",function(){Z.range=ye,Z.min=ue})),E(this,"afterBtnClick")}}setSelected(w){this.selected=this.options.selected=w}init(w){const L=this,f=w.options.rangeSelector,y=f.buttons||L.defaultButtons.slice(),b=f.selected,P=function(){const q=L.minInput,ee=L.maxInput;q&&q.blur&&E(q,"blur"),ee&&ee.blur&&E(ee,"blur")};L.chart=w,L.options=f,L.buttons=[],L.buttonOptions=y,this.eventsToUnbind=[],this.eventsToUnbind.push(B(w.container,"mousedown",P)),this.eventsToUnbind.push(B(w,"resize",P)),y.forEach(L.computeButtonRange),typeof b<"u"&&y[b]&&this.clickButton(b,!1),this.eventsToUnbind.push(B(w,"load",function(){w.xAxis&&w.xAxis[0]&&B(w.xAxis[0],"setExtremes",function(q){this.max-this.min!==w.fixedRange&&q.trigger!=="rangeSelectorButton"&&q.trigger!=="updatedData"&&L.forcedDataGrouping&&!L.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const w=this;var L=this.chart;const f=this.dropdown,y=L.xAxis[0],b=Math.round(y.max-y.min),P=!y.hasVisibleSeries,q=L.scroller&&L.scroller.getUnionExtremes()||y,ee=q.dataMin,X=q.dataMax;L=w.getYTDExtremes(X,ee,L.time.useUTC);const ce=L.min,fe=L.max,Te=w.selected,Z=w.options.allButtonsEnabled,re=w.buttons;let ue=k(Te);w.buttonOptions.forEach((ye,Ie)=>{var ae=ye._range,be=ye.type,xe=ye.count||1;const le=re[Ie],me=ye._offsetMax-ye._offsetMin,Se=Ie===Te,Oe=ae>X-ee,Le=ae<y.minRange;ye=0;let Ue=!1,lt=!1;ae=ae===b,(be==="month"||be==="year")&&b+36e5>=864e5*{month:28,year:365}[be]*xe-me&&b-36e5<=864e5*{month:31,year:366}[be]*xe+me?ae=!0:be==="ytd"?(ae=fe-ce+me===b,Ue=!Se):be==="all"&&(ae=y.max-y.min>=X-ee,lt=!Se&&ue&&ae),be=!Z&&(Oe||Le||lt||P),xe=Se&&ae||ae&&!ue&&!Ue||Se&&w.frozenStates,be?ye=3:xe&&(ue=!0,ye=2),le.state!==ye&&(le.setState(ye),f&&(f.options[Ie+1].disabled=be,ye===2&&(f.selectedIndex=Ie+1)),ye===0&&Te===Ie&&w.setSelected())})}computeButtonRange(w){const L=w.type,f=w.count||1,y={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};y[L]?w._range=y[L]*f:(L==="month"||L==="year")&&(w._range=864e5*{month:30,year:365}[L]*f),w._offsetMin=ie(w.offsetMin,0),w._offsetMax=ie(w.offsetMax,0),w._range+=w._offsetMax-w._offsetMin}getInputValue(w){w=w==="min"?this.minInput:this.maxInput;const L=this.chart.options.rangeSelector,f=this.chart.time;return w?(w.type==="text"&&L.inputDateParser||this.defaultInputDateParser)(w.value,f.useUTC,f):0}setInputValue(w,L){const f=this.options,y=this.chart.time,b=w==="min"?this.minInput:this.maxInput;if(w=w==="min"?this.minDateBox:this.maxDateBox,b){var P=b.getAttribute("data-hc-time");P=I(P)?Number(P):void 0,I(L)&&(I(P)&&b.setAttribute("data-hc-time-previous",P),b.setAttribute("data-hc-time",L),P=L),b.value=y.dateFormat(this.inputTypeFormats[b.type]||f.inputEditDateFormat,P),w&&w.attr({text:y.dateFormat(f.inputDateFormat,P)})}}setInputExtremes(w,L,f){if(w=w==="min"?this.minInput:this.maxInput){const y=this.inputTypeFormats[w.type],b=this.chart.time;y&&(L=b.dateFormat(y,L),w.min!==L&&(w.min=L),f=b.dateFormat(y,f),w.max!==f&&(w.max=f))}}showInput(w){const L=w==="min"?this.minDateBox:this.maxDateBox;if((w=w==="min"?this.minInput:this.maxInput)&&L&&this.inputGroup){const f=w.type==="text",{translateX:y,translateY:b}=this.inputGroup,{inputBoxWidth:P}=this.options;K(w,{width:f?L.width+(P?-2:20)+"px":"auto",height:L.height-2+"px",border:"2px solid silver"}),f&&P?K(w,{left:y+L.x+"px",top:b+"px"}):K(w,{left:Math.min(Math.round(L.x+y-(w.offsetWidth-L.width)/2),this.chart.chartWidth-w.offsetWidth)+"px",top:b-(w.offsetHeight-L.height)/2+"px"})}}hideInput(w){(w=w==="min"?this.minInput:this.maxInput)&&K(w,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(w,L,f){var y=w.split("/").join("-").split(" ").join("T");if(y.indexOf("T")===-1&&(y+="T00:00"),L)y+="Z";else{var b;(b=d.isSafari)&&(b=y,b=!(6<b.length&&(b.lastIndexOf("-")===b.length-6||b.lastIndexOf("+")===b.length-6))),b&&(b=new Date(y).getTimezoneOffset()/60,y+=0>=b?`+${C(-b)}:00`:`-${C(b)}:00`)}return y=Date.parse(y),k(y)||(w=w.split("-"),y=Date.UTC(Q(w[0]),Q(w[1])-1,Q(w[2]))),f&&L&&k(y)&&(y+=f.getTimezoneOffset(y)),y}drawInput(w){function L(){const{maxInput:re,minInput:ue}=P,ye=f.xAxis[0];var Ie=f.scroller&&f.scroller.xAxis?f.scroller.xAxis:ye;const ae=Ie.dataMin;Ie=Ie.dataMax;let be=P.getInputValue(w);be!==Number(Te.getAttribute("data-hc-time-previous"))&&k(be)&&(Te.setAttribute("data-hc-time-previous",be),ce&&re&&k(ae)?be>Number(re.getAttribute("data-hc-time"))?be=void 0:be<ae&&(be=ae):ue&&k(Ie)&&(be<Number(ue.getAttribute("data-hc-time"))?be=void 0:be>Ie&&(be=Ie)),typeof be<"u"&&ye.setExtremes(ce?be:ye.min,ce?ye.max:be,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:f,div:y,inputGroup:b}=this,P=this,q=f.renderer.style||{};var ee=f.renderer;const X=f.options.rangeSelector,ce=w==="min";var fe=J.lang[ce?"rangeSelectorFrom":"rangeSelectorTo"]||"";fe=ee.label(fe,0).addClass("highcharts-range-label").attr({padding:fe?2:0,height:fe?X.inputBoxHeight:0}).add(b),ee=ee.label("",0).addClass("highcharts-range-input").attr({padding:2,width:X.inputBoxWidth,height:X.inputBoxHeight,"text-align":"center"}).on("click",function(){P.showInput(w),P[w+"Input"].focus()}),f.styledMode||ee.attr({stroke:X.inputBoxBorderColor,"stroke-width":1}),ee.add(b);const Te=W("input",{name:w,className:"highcharts-range-selector"},void 0,y);Te.setAttribute("type",j(X.inputDateFormat||"%e %b %Y")),f.styledMode||(fe.css(V(q,X.labelStyle)),ee.css(V({color:"#333333"},q,X.inputStyle)),K(Te,M({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:q.fontSize,fontFamily:q.fontFamily,top:"-9999em"},X.inputStyle))),Te.onfocus=()=>{P.showInput(w)},Te.onblur=()=>{Te===d.doc.activeElement&&L(),P.hideInput(w),P.setInputValue(w),Te.blur()};let Z=!1;return Te.onchange=()=>{Z||(L(),P.hideInput(w),Te.blur())},Te.onkeypress=re=>{re.keyCode===13&&L()},Te.onkeydown=re=>{Z=!0,re.keyCode!==38&&re.keyCode!==40||L()},Te.onkeyup=()=>{Z=!1},{dateBox:ee,input:Te,label:fe}}getPosition(){var w=this.chart;const L=w.options.rangeSelector;return w=L.verticalAlign==="top"?w.plotTop-w.axisOffset[0]:0,{buttonTop:w+L.buttonPosition.y,inputTop:w+L.inputPosition.y-10}}getYTDExtremes(w,L,f){const y=this.chart.time;var b=new y.Date(w);const P=y.get("FullYear",b);return f=f?y.Date.UTC(P,0,1):+new y.Date(P,0,1),L=Math.max(L,f),b=b.getTime(),{max:Math.min(w||b,b),min:L}}render(w,L){var f=this.chart,y=f.renderer;const b=f.container;var P=f.options;const q=P.rangeSelector,ee=ie(P.chart.style&&P.chart.style.zIndex,0)+1;if(P=q.inputEnabled,q.enabled!==!1){if(this.rendered||(this.group=y.g("range-selector-group").attr({zIndex:7}).add(),this.div=W("div",void 0,{position:"relative",height:0,zIndex:ee}),this.buttonOptions.length&&this.renderButtons(),b.parentNode&&b.parentNode.insertBefore(this.div,b),P&&(this.inputGroup=y.g("input-group").add(this.group),y=this.drawInput("min"),this.minDateBox=y.dateBox,this.minLabel=y.label,this.minInput=y.input,y=this.drawInput("max"),this.maxDateBox=y.dateBox,this.maxLabel=y.label,this.maxInput=y.input)),P&&(this.setInputValue("min",w),this.setInputValue("max",L),w=f.scroller&&f.scroller.getUnionExtremes()||f.xAxis[0]||{},I(w.dataMin)&&I(w.dataMax)&&(f=f.xAxis[0].minRange||0,this.setInputExtremes("min",w.dataMin,Math.min(w.dataMax,this.getInputValue("max"))-f),this.setInputExtremes("max",Math.max(w.dataMin,this.getInputValue("min"))+f,w.dataMax)),this.inputGroup)){let X=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(ce=>{if(ce){const{width:fe}=ce.getBBox();fe&&(ce.attr({x:X}),X+=fe+q.inputSpacing)}})}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:w,chart:L,options:f}=this,y=J.lang,b=L.renderer,P=V(f.buttonTheme),q=P&&P.states,ee=P.width||28;delete P.width,delete P.states,this.buttonGroup=b.g("range-selector-buttons").add(this.group);const X=this.dropdown=W("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);B(X,"touchstart",()=>{X.style.fontSize="16px"}),[[d.isMS?"mouseover":"mouseenter"],[d.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([ce,fe])=>{B(X,ce,()=>{const Te=w[this.currentButtonIndex()];Te&&E(Te.element,fe||ce)})}),this.zoomText=b.label(y&&y.rangeSelectorZoom||"",0).attr({padding:f.buttonTheme.padding,height:f.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(f.labelStyle),P["stroke-width"]=ie(P["stroke-width"],0)),W("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,X),this.buttonOptions.forEach((ce,fe)=>{W("option",{textContent:ce.title||ce.text},void 0,X),w[fe]=b.button(ce.text,0,0,Te=>{const Z=ce.events&&ce.events.click;let re;Z&&(re=Z.call(ce,Te)),re!==!1&&this.clickButton(fe),this.isActive=!0},P,q&&q.hover,q&&q.select,q&&q.disabled).attr({"text-align":"center",width:ee}).add(this.buttonGroup),ce.title&&w[fe].attr("title",ce.title)})}alignElements(){const{buttonGroup:w,buttons:L,chart:f,group:y,inputGroup:b,options:P,zoomText:q}=this;var ee=f.options;const X=ee.exporting&&ee.exporting.enabled!==!1&&ee.navigation&&ee.navigation.buttonOptions,{buttonPosition:ce,inputPosition:fe,verticalAlign:Te}=P;ee=(ye,Ie)=>X&&this.titleCollision(f)&&Te==="top"&&Ie.align==="right"&&Ie.y-ye.getBBox().height-12<(X.y||0)+(X.height||0)+f.spacing[0]?-40:0;var Z=f.plotLeft;if(y&&ce&&fe){var re=ce.x-f.spacing[3];if(w){if(this.positionButtons(),!this.initialButtonGroupWidth){let be=0;q&&(be+=q.getBBox().width+5),L.forEach((xe,le)=>{be+=xe.width,le!==L.length-1&&(be+=P.buttonSpacing)}),this.initialButtonGroupWidth=be}Z-=f.spacing[3],this.updateButtonStates();var ue=ee(w,ce);this.alignButtonGroup(ue),y.placed=w.placed=f.hasLoaded}ue=0,b&&(ue=ee(b,fe),fe.align==="left"?re=Z:fe.align==="right"&&(re=-Math.max(f.axisOffset[1],-ue)),b.align({y:fe.y,width:b.getBBox().width,align:fe.align,x:fe.x+re-2},!0,f.spacingBox),b.placed=f.hasLoaded),this.handleCollision(ue),y.align({verticalAlign:Te},!0,f.spacingBox),ee=y.alignAttr.translateY,Z=y.getBBox().height+20,re=0,Te==="bottom"&&(re=(re=f.legend&&f.legend.options)&&re.verticalAlign==="bottom"&&re.enabled&&!re.floating?f.legend.legendHeight+ie(re.margin,10):0,Z=Z+re-20,re=ee-Z-(P.floating?0:P.y)-(f.titleOffset?f.titleOffset[2]:0)-10),Te==="top"?(P.floating&&(re=0),f.titleOffset&&f.titleOffset[0]&&(re=f.titleOffset[0]),re+=f.margin[0]-f.spacing[0]||0):Te==="middle"&&(fe.y===ce.y?re=ee:(fe.y||ce.y)&&(re=0>fe.y||0>ce.y?re-Math.min(fe.y,ce.y):ee-Z)),y.translate(P.x,P.y+Math.floor(re));const{minInput:ye,maxInput:Ie,dropdown:ae}=this;P.inputEnabled&&ye&&Ie&&(ye.style.marginTop=y.translateY+"px",Ie.style.marginTop=y.translateY+"px"),ae&&(ae.style.marginTop=y.translateY+"px")}}alignButtonGroup(w,L){const{chart:f,options:y,buttonGroup:b}=this,{buttonPosition:P}=y,q=f.plotLeft-f.spacing[3];let ee=P.x-f.spacing[3];P.align==="right"?ee+=w-q:P.align==="center"&&(ee-=q/2),b&&b.align({y:P.y,width:ie(L,this.initialButtonGroupWidth),align:P.align,x:ee},!0,f.spacingBox)}positionButtons(){const{buttons:w,chart:L,options:f,zoomText:y}=this,b=L.hasLoaded?"animate":"attr",{buttonPosition:P}=f,q=L.plotLeft;let ee=q;y&&y.visibility!=="hidden"&&(y[b]({x:ie(q+P.x,q)}),ee+=P.x+y.getBBox().width+5);for(let X=0,ce=this.buttonOptions.length;X<ce;++X)w[X].visibility!=="hidden"?(w[X][b]({x:ee}),ee+=w[X].width+f.buttonSpacing):w[X][b]({x:q})}handleCollision(w){const{chart:L,buttonGroup:f,inputGroup:y}=this,{buttonPosition:b,dropdown:P,inputPosition:q}=this.options,ee=()=>{let fe=0;return this.buttons.forEach(Te=>{Te=Te.getBBox(),Te.width>fe&&(fe=Te.width)}),fe},X=fe=>{if(y&&f){const Te=y.alignAttr.translateX+y.alignOptions.x-w+y.getBBox().x+2,Z=y.alignOptions.width,re=f.alignAttr.translateX+f.getBBox().x;return re+fe>Te&&Te+Z>re&&b.y<q.y+y.getBBox().height}return!1},ce=()=>{y&&f&&y.attr({translateX:y.alignAttr.translateX+(L.axisOffset[1]>=-w?0:-w),translateY:y.alignAttr.translateY+f.getBBox().height+10})};if(f){if(P==="always"){this.collapseButtons(w),X(ee())&&ce();return}P==="never"&&this.expandButtons()}y&&f?q.align===b.align||X(this.initialButtonGroupWidth+20)?P==="responsive"?(this.collapseButtons(w),X(ee())&&ce()):ce():P==="responsive"&&this.expandButtons():f&&P==="responsive"&&(this.initialButtonGroupWidth>L.plotWidth?this.collapseButtons(w):this.expandButtons())}collapseButtons(w){const{buttons:L,buttonOptions:f,chart:y,dropdown:b,options:P,zoomText:q}=this,ee=y.userOptions.rangeSelector&&y.userOptions.rangeSelector.buttonTheme||{},X=Te=>({text:Te?`${Te} ▾`:"▾",width:"auto",paddingLeft:ie(P.buttonTheme.paddingLeft,ee.padding,8),paddingRight:ie(P.buttonTheme.paddingRight,ee.padding,8)});q&&q.hide();let ce=!1;f.forEach((Te,Z)=>{Z=L[Z],Z.state!==2?Z.hide():(Z.show(),Z.attr(X(Te.text)),ce=!0)}),ce||(b&&(b.selectedIndex=0),L[0].show(),L[0].attr(X(this.zoomText&&this.zoomText.textStr)));const{align:fe}=P.buttonPosition;this.positionButtons(),fe!=="right"&&fe!=="center"||this.alignButtonGroup(w,L[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:w,buttonOptions:L,options:f,zoomText:y}=this;this.hideDropdown(),y&&y.show(),L.forEach((b,P)=>{P=w[P],P.show(),P.attr({text:b.text,width:f.buttonTheme.width||28,paddingLeft:ie(f.buttonTheme.paddingLeft,"unset"),paddingRight:ie(f.buttonTheme.paddingRight,"unset")}),2>P.state&&P.setState(0)}),this.positionButtons()}currentButtonIndex(){const{dropdown:w}=this;return w&&0<w.selectedIndex?w.selectedIndex-1:0}showDropdown(){const{buttonGroup:w,buttons:L,chart:f,dropdown:y}=this;if(w&&y){const{translateX:b,translateY:P}=w,q=L[this.currentButtonIndex()].getBBox();K(y,{left:f.plotLeft+b+"px",top:P+.5+"px",width:q.width+"px",height:q.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:w}=this;w&&(K(w,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var w=this.options,L=this.group;const f=w.y,y=w.buttonPosition.y,b=w.inputPosition.y;return w.height?w.height:(this.alignElements(),w=L?L.getBBox(!0).height+13+f:0,L=Math.min(b,y),(0>b&&0>y||0<b&&0<y)&&(w+=Math.abs(L)),w)}titleCollision(w){return!(w.options.title.text||w.options.subtitle.text)}update(w){const L=this.chart;V(!0,L.options.rangeSelector,w),this.destroy(),this.init(L),this.render()}destroy(){const w=this,L=w.minInput,f=w.maxInput;w.eventsToUnbind&&(w.eventsToUnbind.forEach(y=>y()),w.eventsToUnbind=void 0),O(w.buttons),L&&(L.onfocus=L.onblur=L.onchange=null),f&&(f.onfocus=f.onblur=f.onchange=null),G(w,function(y,b){y&&b!=="chart"&&(y instanceof n?y.destroy():y instanceof window.HTMLElement&&H(y)),y!==F.prototype[b]&&(w[b]=null)},this)}}return M(F.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),F}),s(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Stock/RangeSelector/RangeSelector.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(l,c,d,m,n,S){const{unhideChartElementFromAT:j,getAxisRangeDescription:J}=d,{addEvent:B,attr:W}=S;class K extends c{constructor(){super(...arguments),this.announcer=void 0}init(){this.announcer=new m(this.chart,"polite")}onChartUpdate(){const O=this.chart,H=this,M=O.rangeSelector;M&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),M.buttons&&M.buttons.length&&M.buttons.forEach(E=>{H.setRangeButtonAttrs(E)}),M.maxInput&&M.minInput&&["minInput","maxInput"].forEach(function(E,k){(E=M[E])&&(j(O,E),H.setRangeInputAttrs(E,"accessibility.rangeSelector."+(k?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){const O=this.chart,H=O.rangeSelector,M=H&&H.dropdown,E=H&&H.buttons||[];H&&H.hasVisibleDropdown&&M?(j(O,M),E.forEach(k=>k.element.setAttribute("aria-hidden",!0))):(M&&M.setAttribute("aria-hidden",!0),E.forEach(k=>j(O,k.element)))}setDropdownAttrs(){var O=this.chart;const H=O.rangeSelector&&O.rangeSelector.dropdown;H&&(O=O.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:O.options.lang.rangeSelectorZoom}),H.setAttribute("aria-label",O),H.setAttribute("tabindex",-1))}setRangeButtonAttrs(O){W(O.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(O,H){const M=this.chart;W(O,{tabindex:-1,"aria-label":M.langFormat(H,{chart:M})})}onButtonNavKbdArrowKey(O,H){const M=O.response,E=this.keyCodes,k=this.chart,V=k.options.accessibility.keyboardNavigation.wrapAround;return H=H===E.left||H===E.up?-1:1,k.highlightRangeSelectorButton(k.highlightedRangeSelectorItemIx+H)?M.success:V?(O.init(H),M.success):M[0<H?"next":"prev"]}onButtonNavKbdClick(O){O=O.response;const H=this.chart;return H.oldRangeSelectorItemState!==3&&this.fakeClickEvent(H.rangeSelector.buttons[H.highlightedRangeSelectorItemIx].element),O.success}onAfterBtnClick(){var O=this.chart;const H=J(O.xAxis[0]);(O=O.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:O,axisRangeDescription:H}))&&this.announcer.announce(O)}onInputKbdMove(O){const H=this.chart;var M=H.rangeSelector;const E=H.highlightedInputRangeIx=(H.highlightedInputRangeIx||0)+O;if(1<E||0>E){if(H.accessibility)return H.accessibility.keyboardNavigation.exiting=!0,H.accessibility.keyboardNavigation.tabindexContainer.focus(),H.accessibility.keyboardNavigation.move(O)}else M&&(O=M[E?"maxDateBox":"minDateBox"],M=M[E?"maxInput":"minInput"],O&&M&&H.setFocusToElement(O,M));return!0}onInputNavInit(O){const H=this;var M=this.chart;const E=0<O?0:1;var k=M.rangeSelector;const V=k&&k[E?"maxDateBox":"minDateBox"];if(O=k&&k.minInput,k=k&&k.maxInput,M.highlightedInputRangeIx=E,V&&O&&k){M.setFocusToElement(V,E?k:O),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),M=ie=>{(ie.which||ie.keyCode)===this.keyCodes.tab&&H.onInputKbdMove(ie.shiftKey?-1:1)&&(ie.preventDefault(),ie.stopPropagation())};const G=B(O,"keydown",M),C=B(k,"keydown",M);this.removeInputKeydownHandler=()=>{G(),C()}}}onInputNavTerminate(){const O=this.chart.rangeSelector||{};O.maxInput&&O.hideInput("max"),O.minInput&&O.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){const O=this.chart,H=O.rangeSelector,M=H&&H.dropdown;H&&M&&(O.setFocusToElement(H.buttonGroup,M),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=B(M,"keydown",E=>{const k=O.accessibility;(E.which||E.keyCode)===this.keyCodes.tab&&(E.preventDefault(),E.stopPropagation(),k&&(k.keyboardNavigation.tabindexContainer.focus(),k.keyboardNavigation.move(E.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){const O=this.chart,H=this.keyCodes,M=this;return new n(O,{keyCodeMap:[[[H.left,H.right,H.up,H.down],function(E){return M.onButtonNavKbdArrowKey(this,E)}],[[H.enter,H.space],function(){return M.onButtonNavKbdClick(this)}]],validate:function(){return!!(O.rangeSelector&&O.rangeSelector.buttons&&O.rangeSelector.buttons.length)},init:function(E){var k=O.rangeSelector;k&&k.hasVisibleDropdown?M.initDropdownNav():k&&(k=k.buttons.length-1,O.highlightRangeSelectorButton(0<E?0:k))},terminate:function(){M.removeDropdownKeydownHandler&&(M.removeDropdownKeydownHandler(),delete M.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){const O=this.chart,H=this;return new n(O,{keyCodeMap:[],validate:function(){return!!(O.rangeSelector&&O.rangeSelector.inputGroup&&O.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&O.options.rangeSelector.inputEnabled!==!1&&O.rangeSelector.minInput&&O.rangeSelector.maxInput)},init:function(M){H.onInputNavInit(M)},terminate:function(){H.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(I){function O(E){const k=this.rangeSelector&&this.rangeSelector.buttons||[],V=this.highlightedRangeSelectorItemIx,G=this.rangeSelector&&this.rangeSelector.selected;return typeof V<"u"&&k[V]&&V!==G&&k[V].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=E,k[E]?(this.setFocusToElement(k[E].box,k[E].element),E!==G&&(this.oldRangeSelectorItemState=k[E].state,k[E].setState(1)),!0):!1}function H(){const E=this.chart.accessibility;if(E&&E.components.rangeSelector)return E.components.rangeSelector.onAfterBtnClick()}const M=[];I.compose=function(E,k){S.pushUnique(M,E)&&(E.prototype.highlightRangeSelectorButton=O),S.pushUnique(M,k)&&B(l,"afterBtnClick",H)}}(K||(K={})),K}),s(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Utilities.js"]],function(l){const{addEvent:c,merge:d}=l;var m;return function(n){function S(I){d(!0,I,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function j(I){return I.marker.states&&I.marker.states.normal&&I.marker.states.normal.opacity}function J(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(I=>{I.graphic&&(I.graphic[I.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),I.graphic[I.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function B(I){this.resetA11yMarkerOptions=d(I.options.marker||{},this.userOptions.marker||{})}function W(){var I=this.options,O=(this.options.accessibility&&this.options.accessibility.enabled)!==!1;if((O=this.chart.options.accessibility.enabled&&O)&&(O=this.chart.options.accessibility,O=this.points.length<O.series.pointDescriptionEnabledThreshold||O.series.pointDescriptionEnabledThreshold===!1),O){if(I.marker&&I.marker.enabled===!1&&(this.a11yMarkersForced=!0,S(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(I=this.points.length;I--;){O=this.points[I];const M=O.options;var H=O.hasForcedA11yMarker;delete O.hasForcedA11yMarker,M.marker&&(H=H&&j(M)===0,M.marker.enabled&&!H?(d(!0,M.marker,{states:{normal:{opacity:j(M)||1}}}),O.hasForcedA11yMarker=!1):M.marker.enabled===!1&&(S(M),O.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(I=this.resetA11yMarkerOptions)&&this.update({marker:{enabled:I.enabled,states:{normal:{opacity:I.states&&I.states.normal&&I.states.normal.opacity}}}}),delete this.resetA11yMarkerOptions)}const K=[];n.compose=function(I){l.pushUnique(K,I)&&(c(I,"afterSetOptions",B),c(I,"render",W),c(I,"afterRender",J))}}(m||(m={})),m}),s(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(l,c,d,m,n,S,j,J){function B(N){const F=N.index,$=N.series.points;let w=$.length;if($[F]!==N){for(;w--;)if($[w]===N)return w}else return F}function W(N){const F=N.chart.options.accessibility.keyboardNavigation.seriesNavigation,$=N.options.accessibility||{},w=$.keyboardNavigation;return w&&w.enabled===!1||$.enabled===!1||N.options.enableMouseTracking===!1||!N.visible||F.pointNavigationEnabledThreshold&&F.pointNavigationEnabledThreshold<=N.points.length}function K(N){const F=N.series.chart.options.accessibility,$=N.options.accessibility&&N.options.accessibility.enabled===!1;return N.isNull&&F.keyboardNavigation.seriesNavigation.skipNullPoints||N.visible===!1||N.isInside===!1||$||W(N.series)}function I(N){N=N.series||[];const F=N.length;for(let w=0;w<F;++w)if(!W(N[w])){e:{var $=N[w].points||[];const L=$.length;for(let f=0;f<L;++f)if(!K($[f])){$=$[f];break e}$=null}if($)return $}return null}function O(N){let F=N.series.length,$=!1;for(;F--&&(N.highlightedPoint=N.series[F].points[N.series[F].points.length-1],!($=N.series[F].highlightNextValidPoint())););return $}function H(N){return delete N.highlightedPoint,(N=I(N))?N.highlight():!1}const{seriesTypes:M}=d,{doc:E}=m,{defined:k,fireEvent:V}=n,{getPointFromXY:G,getSeriesFromName:C,scrollToPoint:ie}=J;class Q{constructor(F,$){this.keyCodes=$,this.chart=F}init(){const F=this,$=this.chart,w=this.eventProvider=new j;w.addEvent(c,"destroy",function(){return F.onSeriesDestroy(this)}),w.addEvent($,"afterApplyDrilldown",function(){{const L=I(this);L&&L.highlight(!1)}}),w.addEvent($,"drilldown",function(L){L=L.point;const f=L.series;F.lastDrilledDownPoint={x:L.x,y:L.y,seriesName:f?f.name:""}}),w.addEvent($,"drillupall",function(){setTimeout(function(){F.onDrillupAll()},10)}),w.addEvent(l,"afterSetState",function(){const L=this.graphic&&this.graphic.element,f=E.activeElement;var y=f&&f.getAttribute("class");y=y&&-1<y.indexOf("highcharts-a11y-proxy-button"),$.highlightedPoint===this&&f!==L&&!y&&L&&L.focus&&L.focus()})}onDrillupAll(){const F=this.lastDrilledDownPoint,$=this.chart,w=F&&C($,F.seriesName);let L;F&&w&&k(F.x)&&k(F.y)&&(L=G(w,F.x,F.y)),L=L||I($),$.container&&$.container.focus(),L&&L.highlight&&L.highlight(!1)}getKeyboardNavigationHandler(){const F=this,$=this.keyCodes,w=this.chart,L=w.inverted;return new S(w,{keyCodeMap:[[L?[$.up,$.down]:[$.left,$.right],function(f){return F.onKbdSideways(this,f)}],[L?[$.left,$.right]:[$.up,$.down],function(f){return F.onKbdVertical(this,f)}],[[$.enter,$.space],function(f,y){return(f=w.highlightedPoint)&&(y.point=f,V(f.series,"click",y),f.firePointEvent("click")),this.response.success}],[[$.home],function(){return H(w),this.response.success}],[[$.end],function(){return O(w),this.response.success}],[[$.pageDown,$.pageUp],function(f){return w.highlightAdjacentSeries(f===$.pageDown),this.response.success}]],init:function(){return F.onHandlerInit(this)},validate:function(){return!!I(w)},terminate:function(){return F.onHandlerTerminate()}})}onKbdSideways(F,$){const w=this.keyCodes;return this.attemptHighlightAdjacentPoint(F,$===w.right||$===w.down)}onHandlerInit(F){const $=this.chart;return $.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&$.highlightedPoint?$.highlightedPoint.highlight():H($),F.response.success}onKbdVertical(F,$){const w=this.chart;var L=this.keyCodes;return $=$===L.down||$===L.right,L=w.options.accessibility.keyboardNavigation.seriesNavigation,L.mode&&L.mode==="serialize"?this.attemptHighlightAdjacentPoint(F,$):(w[w.highlightedPoint&&w.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"]($),F.response.success)}onHandlerTerminate(){const F=this.chart,$=F.options.accessibility.keyboardNavigation;F.tooltip&&F.tooltip.hide(0);const w=F.highlightedPoint&&F.highlightedPoint.series;w&&w.onMouseOut&&w.onMouseOut(),F.highlightedPoint&&F.highlightedPoint.onMouseOut&&F.highlightedPoint.onMouseOut(),$.seriesNavigation.rememberPointFocus||delete F.highlightedPoint}attemptHighlightAdjacentPoint(F,$){const w=this.chart,L=w.options.accessibility.keyboardNavigation.wrapAround;return w.highlightAdjacentPoint($)||L&&($?H(w):O(w))?F.response.success:F.response[$?"next":"prev"]}onSeriesDestroy(F){const $=this.chart;$.highlightedPoint&&$.highlightedPoint.series===F&&(delete $.highlightedPoint,$.focusElement&&$.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function(N){function F(P){var q=this.series;const ee=this.highlightedPoint;var X=ee&&B(ee)||0;const ce=ee&&ee.series.points||[];var fe=this.series&&this.series[this.series.length-1];if(fe=fe&&fe.points&&fe.points[fe.points.length-1],!q[0]||!q[0].points)return!1;if(ee){if(q=q[ee.series.index+(P?1:-1)],X=ce[X+(P?1:-1)],!X&&q&&(X=q.points[P?0:q.points.length-1]),!X)return!1}else X=P?q[0].points[0]:fe;return K(X)?(q=X.series,W(q)?this.highlightedPoint=P?q.points[q.points.length-1]:q.points[0]:this.highlightedPoint=X,this.highlightAdjacentPoint(P)):X.highlight()}function $(P){const q=this.highlightedPoint;let ee=1/0,X;return!k(q.plotX)||!k(q.plotY)?!1:(this.series.forEach(ce=>{W(ce)||ce.points.forEach(fe=>{if(k(fe.plotY)&&k(fe.plotX)&&fe!==q){var Te=fe.plotY-q.plotY,Z=Math.abs(fe.plotX-q.plotX);Z=Math.abs(Te)*Math.abs(Te)+Z*Z*4,ce.yAxis&&ce.yAxis.reversed&&(Te*=-1),!(0>=Te&&P||0<=Te&&!P||5>Z||K(fe))&&Z<ee&&(ee=Z,X=fe)}})}),X?X.highlight():!1)}function w(P){const q=this.highlightedPoint;var ee=this.series&&this.series[this.series.length-1],X=ee&&ee.points&&ee.points[ee.points.length-1];return this.highlightedPoint?(ee=this.series[q.series.index+(P?-1:1)],!ee||(X=L(q,ee,4),!X)?!1:W(ee)?(X.highlight(),P=this.highlightAdjacentSeries(P),P||(q.highlight(),!1)):(X.highlight(),X.series.highlightNextValidPoint())):(ee=P?this.series&&this.series[0]:ee,(X=P?ee&&ee.points&&ee.points[0]:X)?X.highlight():!1)}function L(P,q,ee,X){let ce=1/0,fe,Te=q.points.length;const Z=ue=>!(k(ue.plotX)&&k(ue.plotY));if(!Z(P)){for(;Te--;){var re=q.points[Te];Z(re)||(re=(P.plotX-re.plotX)*(P.plotX-re.plotX)*(ee||1)+(P.plotY-re.plotY)*(P.plotY-re.plotY)*(X||1),re<ce&&(ce=re,fe=Te))}return k(fe)?q.points[fe]:void 0}}function f(P=!0){const q=this.series.chart;return!this.isNull&&P?this.onMouseOver():q.tooltip&&q.tooltip.hide(0),ie(this),this.graphic&&(q.setFocusToElement(this.graphic),!P&&q.focusElement&&q.focusElement.removeFocusBorder()),q.highlightedPoint=this,this}function y(){var P=this.chart.highlightedPoint,q=(P&&P.series)===this?B(P):0;P=this.points;const ee=P.length;if(P&&ee){for(let X=q;X<ee;++X)if(!K(P[X]))return P[X].highlight();for(;0<=q;--q)if(!K(P[q]))return P[q].highlight()}return!1}const b=[];N.compose=function(P,q,ee){n.pushUnique(b,P)&&(P=P.prototype,P.highlightAdjacentPoint=F,P.highlightAdjacentPointVertical=$,P.highlightAdjacentSeries=w),n.pushUnique(b,q)&&(q.prototype.highlight=f),n.pushUnique(b,ee)&&(q=ee.prototype,q.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(X=>{M[X]&&(M[X].prototype.keyboardMoveVertical=!1)}),q.highlightNextValidPoint=y)}}(Q||(Q={})),Q}),s(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(l,c,d,m,n,S){const{hideSeriesFromAT:j}=c,{describeSeries:J}=n;class B extends l{static compose(K,I,O){m.compose(O),d.compose(O),S.compose(K,I,O)}init(){this.newDataAnnouncer=new m(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new S(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const K=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===K.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(K){K.labelBySeries&&K.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(K){(K.options.accessibility&&K.options.accessibility.enabled)!==!1&&K.visible?J(K):j(K)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}return B}),s(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(l,c,d,m,n){const{unhideChartElementFromAT:S}=c,{getFakeMouseEvent:j}=d,{attr:J,pick:B}=n;class W extends l{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){const I=this,O=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(H=>{I.addEvent(O,H,function(){I.updateProxyOverlays()})})}onChartUpdate(){const I=this.chart,O=this;I.mapNavigation&&I.mapNavigation.navButtons.forEach((H,M)=>{S(I,H.element),O.setMapNavButtonAttrs(H.element,"accessibility.zoom.mapZoom"+(M?"Out":"In"))})}setMapNavButtonAttrs(I,O){const H=this.chart;O=H.langFormat(O,{chart:H}),J(I,{tabindex:-1,role:"button","aria-label":O})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const I=this.chart;this.proxyProvider.clearGroup("zoom"),I.resetZoomButton&&this.createZoomProxyButton(I.resetZoomButton,"resetZoomProxyButton",I.langFormat("accessibility.zoom.resetZoomButton",{chart:I})),I.drillUpButton&&I.breadcrumbs&&I.breadcrumbs.list&&this.createZoomProxyButton(I.drillUpButton,"drillUpProxyButton",I.langFormat("accessibility.drillUpButton",{chart:I,buttonText:I.breadcrumbs.getButtonText(I.breadcrumbs.list[I.breadcrumbs.list.length-1])}))}createZoomProxyButton(I,O,H){this[O]=this.proxyProvider.addProxyElement("zoom",{click:I},{"aria-label":H,tabindex:-1})}getMapZoomNavigation(){const I=this.keyCodes,O=this.chart,H=this;return new m(O,{keyCodeMap:[[[I.up,I.down,I.left,I.right],function(M){return H.onMapKbdArrow(this,M)}],[[I.tab],function(M,E){return H.onMapKbdTab(this,E)}],[[I.space,I.enter],function(){return H.onMapKbdClick(this)}]],validate:function(){return!!(O.mapView&&O.mapNavigation&&O.mapNavigation.navButtons.length)},init:function(M){return H.onMapNavInit(M)}})}onMapKbdArrow(I,O){var H=this.chart,M=this.keyCodes;const E=H.container;var k=O===M.up||O===M.down;return O=(k?H.plotHeight:H.plotWidth)/10*(O===M.left||O===M.up?1:-1),M=10*Math.random(),H={x:E.offsetLeft+H.plotLeft+H.plotWidth/2+M,y:E.offsetTop+H.plotTop+H.plotHeight/2+M},k=k?{x:H.x,y:H.y+O}:{x:H.x+O,y:H.y},[j("mousedown",H),j("mousemove",k),j("mouseup",k)].forEach(V=>E.dispatchEvent(V)),I.response.success}onMapKbdTab(I,O){const H=this.chart;I=I.response;const M=(O=O.shiftKey)&&!this.focusedMapNavButtonIx||!O&&this.focusedMapNavButtonIx;return H.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),M?(H.mapView&&H.mapView.zoomBy(),I[O?"prev":"next"]):(this.focusedMapNavButtonIx+=O?-1:1,O=H.mapNavigation.navButtons[this.focusedMapNavButtonIx],H.setFocusToElement(O.box,O.element),O.setState(2),I.success)}onMapKbdClick(I){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),I.response.success}onMapNavInit(I){const O=this.chart;var H=O.mapNavigation.navButtons[0];const M=O.mapNavigation.navButtons[1];H=0<I?H:M,O.setFocusToElement(H.box,H.element),H.setState(2),this.focusedMapNavButtonIx=0<I?0:1}simpleButtonNavigation(I,O,H){const M=this.keyCodes,E=this,k=this.chart;return new m(k,{keyCodeMap:[[[M.tab,M.up,M.down,M.left,M.right],function(V,G){return this.response[V===M.tab&&G.shiftKey||V===M.left||V===M.up?"prev":"next"]}],[[M.space,M.enter],function(){const V=H(this,k);return B(V,this.response.success)}]],validate:function(){return k[I]&&k[I].box&&E[O].buttonElement},init:function(){k.setFocusToElement(k[I].box,E[O].buttonElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(I,O){O.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(I,O){return O.drillUp(),I.response.prev}),this.getMapZoomNavigation()]}}return W}),s(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],function(l){const{doc:c,isMS:d,win:m}=l;return{isHighContrastModeActive:function(){var n=/(Edg)/.test(m.navigator.userAgent);if(m.matchMedia&&n)return m.matchMedia("(-ms-high-contrast: active)").matches;if(d&&m.getComputedStyle){n=c.createElement("div"),n.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",c.body.appendChild(n);const S=(n.currentStyle||m.getComputedStyle(n)).backgroundImage;return c.body.removeChild(n),S==="none"}return m.matchMedia&&m.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(n){n.highContrastModeActive=!0;const S=n.options.accessibility.highContrastTheme;n.update(S,!1),n.series.forEach(function(j){const J=S.plotOptions[j.type]||{};j.update({color:J.color||"windowText",colors:[J.color||"windowText"],borderColor:J.borderColor||"window"}),j.points.forEach(function(B){B.options&&B.options.color&&B.update({color:J.color||"windowText",borderColor:J.borderColor||"window"},!1)})}),n.redraw()}}}),s(t,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),s(t,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}}),s(t,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}}),s(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],function(l){function c(B,W,K){let I,O=0;for(;O<W.length-1;++O)I=W[O],B=B[I]=J(B[I],{});B[W[W.length-1]]=K}function d(B,W,K,I){function O(E,k){return k.reduce(function(V,G){return V[G]},E)}const H=O(B.options,W),M=O(B.options,K);Object.keys(I).forEach(function(E){const k=H[E];typeof k<"u"&&(c(M,I[E],k),j(32,!1,B,{[W.join(".")+"."+E]:K.join(".")+"."+I[E].join(".")}))})}function m(B){const W=B.options.chart,K=B.options.accessibility||{};["description","typeDescription"].forEach(function(I){W[I]&&(K[I]=W[I],j(32,!1,B,{[`chart.${I}`]:`use accessibility.${I}`}))})}function n(B){B.axes.forEach(function(W){(W=W.options)&&W.description&&(W.accessibility=W.accessibility||{},W.accessibility.description=W.description,j(32,!1,B,{"axis.description":"use axis.accessibility.description"}))})}function S(B){const W={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};B.series.forEach(function(K){Object.keys(W).forEach(function(I){let O=K.options[I];I==="accessibility.pointDescriptionFormatter"&&(O=K.options.accessibility&&K.options.accessibility.pointDescriptionFormatter),typeof O<"u"&&(c(K.options,W[I],I==="skipKeyboardNavigation"?!O:O),j(32,!1,B,{[`series.${I}`]:"series."+W[I].join(".")}))})})}const{error:j,pick:J}=l;return function(B){m(B),n(B),B.series&&S(B),d(B,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),d(B,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),d(B,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),s(t,"Accessibility/Accessibility.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/A11yDefaults.js"],t["Accessibility/Options/LangDefaults.js"],t["Accessibility/Options/DeprecatedOptions.js"]],function(l,c,d,m,n,S,j,J,B,W,K,I,O,H,M,E,k,V,G,C,ie){({defaultOptions:l}=l);const{doc:Q}=c,{addEvent:N,extend:F,fireEvent:$,merge:w}=d,{removeElement:L}=m;class f{constructor(b){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0,this.init(b)}init(b){this.chart=b,Q.addEventListener?(ie(b),this.proxyProvider=new O(this.chart),this.initComponents(),this.keyboardNavigation=new B(b,this.components)):(this.zombie=!0,this.components={},b.renderTo.setAttribute("aria-hidden",!0))}initComponents(){const b=this.chart,P=this.proxyProvider,q=b.options.accessibility;this.components={container:new S,infoRegions:new J,legend:new W,chartMenu:new K,rangeSelector:new H,series:new M,zoom:new E},q.customComponents&&F(this.components,q.customComponents);const ee=this.components;this.getComponentOrder().forEach(function(X){ee[X].initBase(b,P),ee[X].init()})}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);const b=Object.keys(this.components).filter(P=>P!=="series");return["series"].concat(b)}update(){const b=this.components,P=this.chart;var q=P.options.accessibility;$(P,"beforeA11yUpdate"),P.types=this.getChartTypes(),q=q.keyboardNavigation.order,this.proxyProvider.updateGroupOrder(q),this.getComponentOrder().forEach(function(ee){b[ee].onChartUpdate(),$(P,"afterA11yComponentUpdate",{name:ee,component:b[ee]})}),this.keyboardNavigation.update(q),!P.highContrastModeActive&&k.isHighContrastModeActive()&&k.setHighContrastTheme(P),$(P,"afterA11yUpdate",{accessibility:this})}destroy(){const b=this.chart||{},P=this.components;Object.keys(P).forEach(function(q){P[q].destroy(),P[q].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),b.announcerContainer&&L(b.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),b.renderTo&&b.renderTo.setAttribute("aria-hidden",!0),b.focusElement&&b.focusElement.removeFocusBorder()}getChartTypes(){const b={};return this.chart.series.forEach(function(P){b[P.type]=1}),Object.keys(b)}}return function(y){function b(){this.accessibility&&this.accessibility.destroy()}function P(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());const fe=this.accessibility;fe&&!fe.zombie&&(fe.proxyProvider.updateProxyElementPositions(),fe.getComponentOrder().forEach(function(Te){fe.components[Te].onChartRender()}))}function q(fe){(fe=fe.options.accessibility)&&(fe.customComponents&&(this.options.accessibility.customComponents=fe.customComponents,delete fe.customComponents),w(!0,this.options.accessibility,fe),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function ee(){let fe=this.accessibility;const Te=this.options.accessibility;Te&&Te.enabled?fe&&!fe.zombie?fe.update():(this.accessibility=fe=new y(this),!fe.zombie&&fe.update()):fe?(fe.destroy&&fe.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function X(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}const ce=[];y.i18nFormat=n.i18nFormat,y.compose=function(fe,Te,Z,re,ue,ye){B.compose(fe),I.compose(re),W.compose(fe,Te),K.compose(fe),M.compose(fe,Z,re),n.compose(fe),j.compose(fe,ue),ye&&H.compose(fe,ye),d.pushUnique(ce,fe)&&(fe.prototype.updateA11yEnabled=ee,N(fe,"destroy",b),N(fe,"render",P),N(fe,"update",q),["addSeries","init"].forEach(Ie=>{N(fe,Ie,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(Ie=>{N(fe,Ie,function(){const ae=this.accessibility;ae&&!ae.zombie&&ae.update()})})),d.pushUnique(ce,Z)&&N(Z,"update",X),d.pushUnique(ce,re)&&["update","updatedData","remove"].forEach(Ie=>{N(re,Ie,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})})}}(f||(f={})),w(!0,l,G,{accessibility:{highContrastTheme:V},lang:C}),f}),s(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(l,c,d,m,n,S,j){l.i18nFormat=c.i18nFormat,l.A11yChartUtilities=m,l.A11yHTMLUtilities=n,l.AccessibilityComponent=d,l.KeyboardNavigationHandler=S,l.SeriesAccessibilityDescriber=j,c.compose(l.Chart,l.Legend,l.Point,l.Series,l.SVGElement,l.RangeSelector)})})})(MG);const DA=Yw;DA(th);const AG={name:"spline",components:{Chart:_p.Chart},data(){return{chartOptions:{chart:{type:"spline",scrollablePlotArea:{minWidth:600,scrollPositionX:1}},title:{text:"Wind speed during two days",align:"left"},subtitle:{text:"13th & 14th of June, 2022 at two locations in Vik i Sogn, Norway",align:"left"},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{title:{text:"Wind speed (m/s)"},minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null,plotBands:[{from:.3,to:1.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Light air",style:{color:"#606060"}}},{from:1.5,to:3.3,color:"rgba(0, 0, 0, 0)",label:{text:"Light breeze",style:{color:"#606060"}}},{from:3.3,to:5.5,color:"rgba(68, 170, 213, 0.1)",label:{text:"Gentle breeze",style:{color:"#606060"}}},{from:5.5,to:8,color:"rgba(0, 0, 0, 0)",label:{text:"Moderate breeze",style:{color:"#606060"}}},{from:8,to:11,color:"rgba(68, 170, 213, 0.1)",label:{text:"Fresh breeze",style:{color:"#606060"}}},{from:11,to:14,color:"rgba(0, 0, 0, 0)",label:{text:"Strong breeze",style:{color:"#606060"}}},{from:14,to:15,color:"rgba(68, 170, 213, 0.1)",label:{text:"High wind",style:{color:"#606060"}}}]},tooltip:{valueSuffix:" m/s"},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1},pointInterval:36e5,pointStart:Date.UTC(2022,5,13,0,0,0)}},series:[{name:"Hestavollane",data:[4.5,5.1,4.4,3.7,4.2,3.7,4.3,4,5,4.9,4.8,4.6,3.9,3.8,2.7,3.1,2.6,3.3,3.8,4.1,1,1.9,3.2,3.8,4.2]},{name:"Vik",data:[.1,.1,.1,.2,.4,.4,.3,.4,.1,0,.2,.3,0,0,0,0,0,.1,.1,.1,0,.1,0,0,0]}],navigation:{menuItemStyle:{fontSize:"10px"}}}}}};function kG(e,t,s,l,c,d){const m=ds("Chart");return di(),lh(m,{options:c.chartOptions,constructorType:"stockChart"},null,8,["options"])}const PG=Rs(AG,[["render",kG]]);PA(th);const DG={components:{highcharts:_p.Chart},props:{min:{type:Number,default:0},max:{type:Number,default:32},value:{type:Number,default:0},title:String},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:-120,endAngle:120,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{min:this.min,max:this.max,minorTickInterval:"auto",minorTickWidth:0,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#666",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:10,tickColor:"#666",labels:{step:2,distance:-50},title:{text:this.title,y:150},plotBands:[{from:0,to:this.max/8,color:"#576D7E",thickness:40},{from:this.max/8,to:this.max/8*2,color:"#34485C",thickness:40},{from:this.max/8*2,to:this.max/8*3,color:"#60C5B8",thickness:40},{from:this.max/8*3,to:this.max/8*4,color:"#25B39E",thickness:40},{from:this.max/8*4,to:this.max/8*5,color:"#FCD062",thickness:40},{from:this.max/8*5,to:this.max/8*6,color:"#F8B84E",thickness:40},{from:this.max/8*6,to:this.max/8*7,color:"#F17F53",thickness:40},{from:this.max/8*7,to:this.max/8*8,color:"#F05542",thickness:40}]}],series:[{name:this.title,data:[this.value],tooltip:{valueSuffix:" "}}]}}},methods:{},watch:{value:function(e,t){this.options.series[0].data=[e]}}};function IG(e,t,s,l,c,d){const m=ds("highcharts");return di(),vi("div",null,[en(m,{options:c.options},null,8,["options"])])}const LG=Rs(DG,[["render",IG]]),OG={props:{value:Number,title:String},components:{highcharts:_p.Chart},watch:{value:function(e,t){this.options.series[0].data=[e]}},data(){return{options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:300},title:{text:""},pane:{startAngle:0,endAngle:360,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:0,outerRadius:"107%"},{borderWidth:0,backgroundColor:"#E9EDED"},{backgroundColor:"#FFF",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:[{title:{text:this.title},min:1,max:360,lineColor:"#333",offset:-20,tickInterval:30,labels:{step:1,distance:5,rotation:"auto"}}],series:[{name:this.title,yAxis:0,data:[this.value],dial:{radius:"88%",baseWidth:10,baseLength:"0%",rearLength:0,borderWidth:1,borderColor:"#9A0000",backgroundColor:"#CC0000"},tooltip:{valueSuffix:"°"}}]}}}};function RG(e,t,s,l,c,d){const m=ds("highcharts");return di(),vi("div",null,[en(m,{options:c.options},null,8,["options"])])}const IA=Rs(OG,[["render",RG]]),BG={props:{url:String,fleet:Object},components:{SpeedoMeter:LG,Compass:IA},methods:{scaleBeafort(e){let t="";return e<=1?t="Calm":e>1&&e<3.9?t="Light Air":e>4&&e<6.9?t="Light Breeze":e>7&&e<10.9?t="Gentle breeze":e>11&&e<16.9?t="Moderate breeze":e>17&&e<21.9?t="Fresh breeze":e>22&&e<27.9?t="Strong breeze":e>28&&e<33.9?t="High wind":e>34&&e<40.9?t="Gale":e>41&&e<47.9?t="Strong/severe gale":e>48&&e<55.9?t="Storm":e>56&&e<63.9?t="Violent storm":t="Hurricane force",t}}},zG={class:"row"},NG={class:"col-3"},FG={class:"col-3"},jG={class:"col-3"},UG={class:"col-3"};function GG(e,t,s,l,c,d){const m=ds("speedo-meter"),n=ds("compass");return di(),vi("div",zG,[et("div",NG,[en(m,{value:s.fleet.navigation.sog,max:32,title:"Speed (knot)"},null,8,["value"])]),et("div",FG,[en(n,{value:s.fleet.navigation.cog,title:"Course (°)"},null,8,["value"])]),et("div",jG,[en(m,{value:s.fleet.navigation.wind_speed,max:80,title:d.scaleBeafort(s.fleet.navigation.wind_speed)},null,8,["value","title"])]),et("div",UG,[en(n,{value:s.fleet.navigation.wind_direction,title:"Wind Direction"},null,8,["value"])])])}const VG=Rs(BG,[["render",GG]]),Qo=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,s=/[^-+\dA-Z]/g;return function(l,c,d,m){if(arguments.length===1&&$G(l)==="string"&&!/\d/.test(l)&&(c=l,l=void 0),l=l||new Date,l instanceof Date||(l=new Date(l)),isNaN(l))throw TypeError("Invalid date");c=String(Qo.masks[c]||c||Qo.masks.default);var n=c.slice(0,4);(n==="UTC:"||n==="GMT:")&&(c=c.slice(4),d=!0,n==="GMT:"&&(m=!0));var S=d?"getUTC":"get",j=l[S+"Date"](),J=l[S+"Day"](),B=l[S+"Month"](),W=l[S+"FullYear"](),K=l[S+"Hours"](),I=l[S+"Minutes"](),O=l[S+"Seconds"](),H=l[S+"Milliseconds"](),M=d?0:l.getTimezoneOffset(),E=LA(l),k=HG(l),V={d:j,dd:Yd(j),ddd:Qo.i18n.dayNames[J],dddd:Qo.i18n.dayNames[J+7],m:B+1,mm:Yd(B+1),mmm:Qo.i18n.monthNames[B],mmmm:Qo.i18n.monthNames[B+12],yy:String(W).slice(2),yyyy:W,h:K%12||12,hh:Yd(K%12||12),H:K,HH:Yd(K),M:I,MM:Yd(I),s:O,ss:Yd(O),l:Yd(H,3),L:Yd(Math.round(H/10)),t:K<12?Qo.i18n.timeNames[0]:Qo.i18n.timeNames[1],tt:K<12?Qo.i18n.timeNames[2]:Qo.i18n.timeNames[3],T:K<12?Qo.i18n.timeNames[4]:Qo.i18n.timeNames[5],TT:K<12?Qo.i18n.timeNames[6]:Qo.i18n.timeNames[7],Z:m?"GMT":d?"UTC":(String(l).match(t)||[""]).pop().replace(s,""),o:(M>0?"-":"+")+Yd(Math.floor(Math.abs(M)/60)*100+Math.abs(M)%60,4),S:["th","st","nd","rd"][j%10>3?0:(j%100-j%10!=10)*j%10],W:E,N:k};return c.replace(e,function(G){return G in V?V[G]:G.slice(1,G.length-1)})}}();Qo.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};Qo.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function Yd(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function LA(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var s=new Date(t.getFullYear(),0,4);s.setDate(s.getDate()-(s.getDay()+6)%7+3);var l=t.getTimezoneOffset()-s.getTimezoneOffset();t.setHours(t.getHours()-l);var c=(t-s)/(864e5*7);return 1+Math.floor(c)}function HG(e){var t=e.getDay();return t===0&&(t=7),t}function $G(e){return e===null?"null":e===void 0?"undefined":typeof e!="object"?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}const OA={isSame:(e,t,s)=>{let l=new Date(e),c=new Date(t);return s==="date"&&(l.setHours(0,0,0,0),c.setHours(0,0,0,0)),l.getTime()===c.getTime()},daysInMonth:(e,t)=>new Date(e,t,0).getDate(),weekNumber:e=>LA(e),format:(e,t)=>Qo(e,t),nextMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()+1),t},prevMonth:e=>{let t=new Date(e.getTime());return t.setDate(1),t.setMonth(t.getMonth()-1),t},validateDateRange:(e,t,s)=>{let l=new Date(s),c=new Date(t);return s&&e.getTime()>l.getTime()?l:t&&e.getTime()<c.getTime()?c:e},localeData:e=>({...{direction:"ltr",format:"mm/dd/yyyy",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:Qo.i18n.dayNames.slice(0,7).map(s=>s.substring(0,2)),monthNames:Qo.i18n.monthNames.slice(0,12),firstDay:0},...e}),yearMonth:e=>{let t=e.getMonth()+1;return e.getFullYear()+(t<10?"0":"")+t},isValidDate:e=>e instanceof Date&&!isNaN(e)},BS={props:{dateUtil:{type:[Object,String],default:"native"}},created(){this.$dateUtil=OA}},WG={mixins:[BS],name:"calendar",props:{monthDate:Date,localeData:Object,start:Date,end:Date,minDate:Date,maxDate:Date,showDropdowns:{type:Boolean,default:!1},showWeekNumbers:{type:Boolean,default:!1},dateFormat:{type:Function,default:null}},data(){let e=this.monthDate||this.start||new Date;return{currentMonthDate:e,year_text:e.getFullYear()}},methods:{prevMonthClick(){this.changeMonthDate(this.$dateUtil.prevMonth(this.currentMonthDate))},nextMonthClick(){this.changeMonthDate(this.$dateUtil.nextMonth(this.currentMonthDate))},changeMonthDate(e,t=!0){let s=this.$dateUtil.yearMonth(this.currentMonthDate);this.currentMonthDate=this.$dateUtil.validateDateRange(e,this.minDate,this.maxDate),t&&s!==this.$dateUtil.yearMonth(this.currentMonthDate)&&this.$emit("change-month",{month:this.currentMonthDate.getMonth()+1,year:this.currentMonthDate.getFullYear()}),this.checkYear()},dayClass(e){let t=new Date(e);t.setHours(0,0,0,0);let s=new Date(this.start);s.setHours(0,0,0,0);let l=new Date(this.end);l.setHours(0,0,0,0);let c={off:e.getMonth()+1!==this.month,weekend:e.getDay()===6||e.getDay()===0,today:t.setHours(0,0,0,0)==new Date().setHours(0,0,0,0),active:t.setHours(0,0,0,0)==new Date(this.start).setHours(0,0,0,0)||t.setHours(0,0,0,0)==new Date(this.end).setHours(0,0,0,0),"in-range":t>=s&&t<=l,"start-date":t.getTime()===s.getTime(),"end-date":t.getTime()===l.getTime(),disabled:this.minDate&&t.getTime()<this.minDate.getTime()||this.maxDate&&t.getTime()>this.maxDate.getTime()};return this.dateFormat?this.dateFormat(c,e):c},checkYear(){this.$refs.yearSelect!==document.activeElement&&this.$nextTick(()=>{this.year_text=this.monthDate.getFullYear()})}},computed:{monthName(){return this.locale.monthNames[this.currentMonthDate.getMonth()]},year:{get(){return this.year_text},set(e){this.year_text=e;let t=this.$dateUtil.validateDateRange(new Date(e,this.month,1),this.minDate,this.maxDate);this.$dateUtil.isValidDate(t)&&this.$emit("change-month",{month:t.getMonth(),year:t.getFullYear()})}},month:{get(){return this.currentMonthDate.getMonth()+1},set(e){let t=this.$dateUtil.validateDateRange(new Date(this.year,e-1,1),this.minDate,this.maxDate);this.$emit("change-month",{month:t.getMonth()+1,year:t.getFullYear()})}},calendar(){let e=this.month,t=this.currentMonthDate.getFullYear(),s=new Date(t,e-1,1),l=this.$dateUtil.prevMonth(s).getMonth()+1,c=this.$dateUtil.prevMonth(s).getFullYear(),d=new Date(c,e-1,0).getDate(),m=s.getDay(),n=[];for(let J=0;J<6;J++)n[J]=[];let S=d-m+this.locale.firstDay+1;S>d&&(S-=7),m===this.locale.firstDay&&(S=d-6);let j=new Date(c,l-1,S,12,0,0);for(let J=0,B=0,W=0;J<6*7;J++,B++,j.setDate(j.getDate()+1))J>0&&B%7===0&&(B=0,W++),n[W][B]=new Date(j.getTime());return n},months(){let e=this.locale.monthNames.map((t,s)=>({label:t,value:s}));if(this.maxDate&&this.minDate){let t=this.maxDate.getFullYear()-this.minDate.getFullYear();if(t<2){let s=[];if(t<1)for(let l=this.minDate.getMonth();l<=this.maxDate.getMonth();l++)s.push(l);else{for(let l=0;l<=this.maxDate.getMonth();l++)s.push(l);for(let l=this.minDate.getMonth();l<12;l++)s.push(l)}if(s.length>0)return e.filter(l=>s.find(c=>l.value===c)>-1)}}return e},locale(){return this.$dateUtil.localeData(this.localeData)}},watch:{monthDate(e){this.currentMonthDate.getTime()!==e.getTime()&&this.changeMonthDate(e,!1)}}},RA=e=>(jf("data-v-66e2a2e7"),e=e(),Uf(),e),qG={class:"table-condensed"},YG=RA(()=>et("span",null,null,-1)),XG=[YG],ZG=["colspan"],KG={class:"row mx-1"},JG=["value"],QG=["colspan"],eV=RA(()=>et("span",null,null,-1)),tV=[eV],iV={key:0,class:"week"},nV={key:0,class:"week"},sV=["onClick","onMouseover"];function rV(e,t,s,l,c,d){return di(),vi("table",qG,[et("thead",null,[et("tr",null,[et("th",{class:"prev available",onClick:t[0]||(t[0]=(...m)=>d.prevMonthClick&&d.prevMonthClick(...m)),tabindex:"0"},XG),s.showDropdowns?(di(),vi("th",{key:0,colspan:s.showWeekNumbers?6:5,class:"month"},[et("div",KG,[Po(et("select",{"onUpdate:modelValue":t[1]||(t[1]=m=>d.month=m),class:"monthselect col"},[(di(!0),vi(Jn,null,Nr(d.months,m=>(di(),vi("option",{key:m.value,value:m.value+1},cn(m.label),9,JG))),128))],512),[[Ph,d.month]]),Po(et("input",{ref:"yearSelect",type:"number","onUpdate:modelValue":t[2]||(t[2]=m=>d.year=m),onBlur:t[3]||(t[3]=(...m)=>d.checkYear&&d.checkYear(...m)),class:"yearselect col"},null,544),[[Oh,d.year]])])],8,ZG)):(di(),vi("th",{key:1,colspan:s.showWeekNumbers?6:5,class:"month"},cn(d.monthName)+" "+cn(d.year),9,QG)),et("th",{class:"next available",onClick:t[4]||(t[4]=(...m)=>d.nextMonthClick&&d.nextMonthClick(...m)),tabindex:"0"},tV)])]),et("tbody",null,[et("tr",null,[s.showWeekNumbers?(di(),vi("th",iV,cn(d.locale.weekLabel),1)):Kn("",!0),(di(!0),vi(Jn,null,Nr(d.locale.daysOfWeek,m=>(di(),vi("th",{key:m},cn(m),1))),128))]),(di(!0),vi(Jn,null,Nr(d.calendar,(m,n)=>(di(),vi("tr",{key:n},[s.showWeekNumbers&&(n%7||n===0)?(di(),vi("td",nV,cn(e.$dateUtil.weekNumber(m[0])),1)):Kn("",!0),(di(!0),vi(Jn,null,Nr(m,(S,j)=>(di(),vi("td",{class:zr(d.dayClass(S)),onClick:J=>e.$emit("dateClick",S),onMouseover:J=>e.$emit("hoverDate",S),key:j},[ih(e.$slots,"date-slot",{date:S},()=>[ko(cn(S.getDate()),1)],!0)],42,sV))),128))]))),128))])])}const oV=Rs(WG,[["render",rV],["__scopeId","data-v-66e2a2e7"]]),aV={props:{miniuteIncrement:{type:Number,default:5},hour24:{type:Boolean,default:!0},secondPicker:{type:Boolean,default:!1},currentTime:{default(){return new Date}},readonly:{type:Boolean,default:!1}},data(){let e=this.currentTime?this.currentTime:new Date,t=e.getHours();return{hour:this.hour24?t:t%12||12,minute:e.getMinutes()-e.getMinutes()%this.miniuteIncrement,second:e.getSeconds(),ampm:t<12?"AM":"PM"}},computed:{hours(){let e=[],t=this.hour24?24:12;for(let s=0;s<t;s++)e.push(this.hour24?s:s+1);return e},minutes(){let e=[],t=60;for(let s=0;s<t;s=s+this.miniuteIncrement)e.push(s);return e}},watch:{hour(){this.onChange()},minute(){this.onChange()},second(){this.onChange()},ampm(){this.onChange()}},methods:{formatNumber:e=>e<10?"0"+e.toString():e.toString(),getHour(){return this.hour24?this.hour:this.hour===12?this.ampm==="AM"?0:12:this.hour+(this.ampm==="PM"?12:0)},onChange(){this.$emit("update",{hours:this.getHour(),minutes:this.minute,seconds:this.second})}}},lV={class:"calendar-time"},cV=["disabled"],hV=["value"],dV=["disabled"],uV=["value"],pV=["disabled"],fV=["value"],mV=["disabled"],gV=et("option",{value:"AM"},"AM",-1),_V=et("option",{value:"PM"},"PM",-1),yV=[gV,_V];function vV(e,t,s,l,c,d){return di(),vi("div",lV,[Po(et("select",{"onUpdate:modelValue":t[0]||(t[0]=m=>c.hour=m),class:"hourselect form-control mr-1",disabled:s.readonly},[(di(!0),vi(Jn,null,Nr(d.hours,m=>(di(),vi("option",{key:m,value:m},cn(d.formatNumber(m)),9,hV))),128))],8,cV),[[Ph,c.hour]]),ko(" :"),Po(et("select",{"onUpdate:modelValue":t[1]||(t[1]=m=>c.minute=m),class:"minuteselect form-control ml-1",disabled:s.readonly},[(di(!0),vi(Jn,null,Nr(d.minutes,m=>(di(),vi("option",{key:m,value:m},cn(d.formatNumber(m)),9,uV))),128))],8,dV),[[Ph,c.minute]]),s.secondPicker?(di(),vi(Jn,{key:0},[ko(" :"),Po(et("select",{"onUpdate:modelValue":t[2]||(t[2]=m=>c.second=m),class:"secondselect form-control ml-1",disabled:s.readonly},[(di(),vi(Jn,null,Nr(60,m=>et("option",{key:m-1,value:m-1},cn(d.formatNumber(m-1)),9,fV)),64))],8,pV),[[Ph,c.second]])],64)):Kn("",!0),s.hour24?Kn("",!0):Po((di(),vi("select",{key:1,"onUpdate:modelValue":t[3]||(t[3]=m=>c.ampm=m),class:"ampmselect",disabled:s.readonly},yV,8,mV)),[[Ph,c.ampm]])])}const xV=Rs(aV,[["render",vV]]),bV={mixins:[BS],props:{ranges:Object,selected:Object,localeData:Object,alwaysShowCalendars:Boolean},data(){return{customRangeActive:!1}},methods:{clickRange(e){this.customRangeActive=!1,this.$emit("clickRange",e)},clickCustomRange(){this.customRangeActive=!0,this.$emit("showCustomRange")},range_class(e){return{active:e.selected===!0}}},computed:{listedRanges(){return this.ranges?Object.keys(this.ranges).map(e=>({label:e,value:this.ranges[e],selected:this.$dateUtil.isSame(this.selected.startDate,this.ranges[e][0])&&this.$dateUtil.isSame(this.selected.endDate,this.ranges[e][1])})):!1},selectedRange(){return this.listedRanges.find(e=>e.selected===!0)},showCustomRangeLabel(){return!this.alwaysShowCalendars}}},wV={class:"ranges"},SV={key:0},TV=["onClick","data-range-key"];function EV(e,t,s,l,c,d){return di(),vi("div",wV,[s.ranges?(di(),vi("ul",SV,[(di(!0),vi(Jn,null,Nr(d.listedRanges,m=>(di(),vi("li",{onClick:n=>d.clickRange(m.value),"data-range-key":m.label,key:m.label,class:zr(d.range_class(m)),tabindex:"0"},cn(m.label),11,TV))),128)),d.showCustomRangeLabel?(di(),vi("li",{key:0,class:zr({active:c.customRangeActive||!d.selectedRange}),onClick:t[0]||(t[0]=(...m)=>d.clickCustomRange&&d.clickCustomRange(...m)),tabindex:"0"},cn(s.localeData.customRangeLabel),3)):Kn("",!0)])):Kn("",!0)])}const CV=Rs(bV,[["render",EV]]),MV={mounted(e,{instance:t}){if(t.appendToBody){const{height:s,top:l,left:c,width:d,right:m}=t.$refs.toggle.getBoundingClientRect();e.unbindPosition=t.calculatePosition(e,t,{width:d,top:window.scrollY+l+s,left:window.scrollX+c,right:m}),document.body.appendChild(e)}else t.$el.appendChild(e)},unmounted(e,{instance:t}){t.appendToBody&&(e.unbindPosition&&typeof e.unbindPosition=="function"&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}},AV={inheritAttrs:!1,components:{Calendar:oV,CalendarTime:xV,CalendarRanges:CV},mixins:[BS],directives:{appendToBody:MV},emits:["update:modelValue","toggle","hoverDate","startSelection","select","change-month","finishSelection"],props:{modelValue:{type:Object},minDate:{type:[String,Date],default(){return null}},maxDate:{type:[String,Date],default(){return null}},showWeekNumbers:{type:Boolean,default:!1},linkedCalendars:{type:Boolean,default:!0},singleDatePicker:{type:[Boolean,String],default:!1},showDropdowns:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},timePickerIncrement:{type:Number,default:5},timePicker24Hour:{type:Boolean,default:!0},timePickerSeconds:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},localeData:{type:Object,default(){return{}}},dateRange:{type:[Object],default:null,required:!0},ranges:{type:[Object,Boolean],default(){let e=new Date;e.setHours(0,0,0,0);let t=new Date;t.setHours(11,59,59,999);let s=new Date;s.setDate(e.getDate()-1),s.setHours(0,0,0,0);let l=new Date;l.setDate(e.getDate()-1),l.setHours(11,59,59,999);let c=new Date(e.getFullYear(),e.getMonth(),1),d=new Date(e.getFullYear(),e.getMonth()+1,0,11,59,59,999);return{Today:[e,t],Yesterday:[s,l],"This month":[c,d],"This year":[new Date(e.getFullYear(),0,1),new Date(e.getFullYear(),11,31,11,59,59,999)],"Last month":[new Date(e.getFullYear(),e.getMonth()-1,1),new Date(e.getFullYear(),e.getMonth(),0,11,59,59,999)]}}},opens:{type:String,default:"center"},dateFormat:Function,alwaysShowCalendars:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},controlContainerClass:{type:[Object,String],default:"form-control reportrange-text"},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(e,t,{width:s,top:l,left:c,right:d}){t.opens==="center"?e.style.left=c+s/2+"px":t.opens==="left"?e.style.right=window.innerWidth-d+"px":t.opens==="right"&&(e.style.left=c+"px"),e.style.top=l+"px"}},closeOnEsc:{type:Boolean,default:!0},readonly:{type:Boolean}},data(){const e=OA;let t={locale:e.localeData({...this.localeData})},s=this.dateRange.startDate||null,l=this.dateRange.endDate||null;if(t.monthDate=s?new Date(s):new Date,t.nextMonthDate=e.nextMonth(t.monthDate),t.start=s?new Date(s):null,this.singleDatePicker&&this.singleDatePicker!=="range"?t.end=t.start:t.end=l?new Date(l):null,t.in_selection=!1,t.open=!1,t.showCustomRangeCalendars=!1,t.locale.firstDay!==0){let c=t.locale.firstDay,d=[...t.locale.daysOfWeek];for(;c>0;)d.push(d.shift()),c--;t.locale.daysOfWeek=d}return t},methods:{dateFormatFn(e,t){let s=new Date(t);s.setHours(0,0,0,0);let l=new Date(this.start);l.setHours(0,0,0,0);let c=new Date(this.end);return c.setHours(0,0,0,0),e["in-range"]=s>=l&&s<=c,this.dateFormat?this.dateFormat(e,t):e},changeLeftMonth(e){let t=new Date(e.year,e.month-1,1);this.monthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.monthDate)>=this.$dateUtil.yearMonth(this.nextMonthDate))&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(t),this.minDate,this.maxDate),(!this.singleDatePicker||this.singleDatePicker==="range")&&this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(this.monthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,0)},changeRightMonth(e){let t=new Date(e.year,e.month-1,1);this.nextMonthDate=t,(this.linkedCalendars||this.$dateUtil.yearMonth(this.nextMonthDate)<=this.$dateUtil.yearMonth(this.monthDate))&&(this.monthDate=this.$dateUtil.validateDateRange(this.$dateUtil.prevMonth(t),this.minDate,this.maxDate),this.$dateUtil.yearMonth(this.monthDate)===this.$dateUtil.yearMonth(this.nextMonthDate)&&(this.nextMonthDate=this.$dateUtil.validateDateRange(this.$dateUtil.nextMonth(this.nextMonthDate),this.minDate,this.maxDate))),this.$emit("change-month",this.monthDate,1)},normalizeDatetime(e,t){let s=new Date(e);return this.timePicker&&t&&(s.setHours(t.getHours()),s.setMinutes(t.getMinutes()),s.setSeconds(t.getSeconds()),s.setMilliseconds(t.getMilliseconds())),s},dateClick(e){if(this.readonly)return!1;this.in_selection?(this.in_selection=!1,this.end=this.normalizeDatetime(e,this.end),this.end<this.start&&(this.in_selection=!0,this.start=this.normalizeDatetime(e,this.start),this.$emit("startSelection",this.start)),this.in_selection||(this.$emit("finishSelection",this.end),this.onSelect(),this.autoApply&&this.clickedApply())):(this.start=this.normalizeDatetime(e,this.start),this.end=this.normalizeDatetime(e,this.end),!this.singleDatePicker||this.singleDatePicker==="range"?(this.in_selection=!0,this.$emit("startSelection",this.start)):(this.onSelect(),this.autoApply&&this.clickedApply()))},hoverDate(e){if(this.readonly)return!1;let t=this.normalizeDatetime(e,this.end);this.in_selection&&t>=this.start&&(this.end=t),this.$emit("hoverDate",e)},onClickPicker(){this.disabled||this.togglePicker(null,!0)},togglePicker(e,t){typeof e=="boolean"?this.open=e:this.open=!this.open,t===!0&&this.$emit("toggle",this.open,this.togglePicker)},clickedApply(){this.togglePicker(!1,!0),this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},clickCancel(){if(this.open){let e=this.dateRange.startDate,t=this.dateRange.endDate;this.start=e?new Date(e):null,this.end=t?new Date(t):null,this.in_selection=!1,this.togglePicker(!1,!0)}},onSelect(){this.$emit("select",{startDate:this.start,endDate:this.end})},clickAway(e){e&&e.target&&!this.$el.contains(e.target)&&this.$refs.dropdown&&!this.$refs.dropdown.contains(e.target)&&this.clickCancel()},clickRange(e){this.in_selection=!1,this.$dateUtil.isValidDate(e[0])&&this.$dateUtil.isValidDate(e[1])?(this.start=this.$dateUtil.validateDateRange(new Date(e[0]),this.minDate,this.maxDate),this.end=this.$dateUtil.validateDateRange(new Date(e[1]),this.minDate,this.maxDate),this.changeLeftMonth({month:this.start.getMonth()+1,year:this.start.getFullYear()}),this.linkedCalendars===!1&&this.changeRightMonth({month:this.end.getMonth()+1,year:this.end.getFullYear()})):(this.start=null,this.end=null),this.onSelect(),this.autoApply&&this.clickedApply()},onUpdateStartTime(e){let t=new Date(this.start);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.start=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.singleDatePicker&&this.singleDatePicker!=="range"?this.start:this.end})},onUpdateEndTime(e){let t=new Date(this.end);t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds),this.end=this.$dateUtil.validateDateRange(t,this.minDate,this.maxDate),this.autoApply&&this.$emit("update:modelValue",{startDate:this.start,endDate:this.end})},handleEscape(e){this.open&&e.keyCode===27&&this.closeOnEsc&&this.clickCancel()}},computed:{showRanges(){return this.ranges!==!1&&!this.readonly},showCalendars(){return this.alwaysShowCalendars||this.showCustomRangeCalendars},startText(){return this.start===null?"":this.$dateUtil.format(this.start,this.locale.format)},endText(){return this.end===null?"":this.$dateUtil.format(this.end,this.locale.format)},rangeText(){let e=this.startText;return(!this.singleDatePicker||this.singleDatePicker==="range")&&(e+=this.locale.separator+this.endText),e},min(){return this.minDate?new Date(this.minDate):null},max(){return this.maxDate?new Date(this.maxDate):null},pickerStyles(){return{"show-calendar":this.open||this.opens==="inline","show-ranges":this.showRanges,"show-weeknumbers":this.showWeekNumbers,single:this.singleDatePicker,["opens"+this.opens]:!0,linked:this.linkedCalendars,"hide-calendars":!this.showCalendars}},isClear(){return!this.dateRange.startDate||!this.dateRange.endDate},isDirty(){let e=new Date(this.dateRange.startDate),t=new Date(this.dateRange.endDate);return!this.isClear&&(this.start.getTime()!==e.getTime()||this.end.getTime()!==t.getTime())}},watch:{minDate(){let e=this.$dateUtil.validateDateRange(this.monthDate,this.minDate||new Date,this.maxDate);this.changeLeftMonth({year:e.getFullYear(),month:e.getMonth()+1})},maxDate(){let e=this.$dateUtil.validateDateRange(this.nextMonthDate,this.minDate,this.maxDate||new Date);this.changeRightMonth({year:e.getFullYear(),month:e.getMonth()+1})},"dateRange.startDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.start=e&&!this.isClear&&this.$dateUtil.isValidDate(new Date(e))?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},"dateRange.endDate"(e){this.$dateUtil.isValidDate(new Date(e))&&(this.end=e&&!this.isClear?new Date(e):null,this.isClear?(this.start=null,this.end=null):(this.start=new Date(this.dateRange.startDate),this.end=new Date(this.dateRange.endDate)))},open:{handler(e){typeof document=="object"&&this.$nextTick(()=>{e?document.body.addEventListener("click",this.clickAway):document.body.removeEventListener("click",this.clickAway),e?document.addEventListener("keydown",this.handleEscape):document.removeEventListener("keydown",this.handleEscape),!this.alwaysShowCalendars&&this.ranges&&(this.showCustomRangeCalendars=!Object.keys(this.ranges).find(t=>this.$dateUtil.isSame(this.start,this.ranges[t][0],"date")&&this.$dateUtil.isSame(this.end,this.ranges[t][1],"date")))})},immediate:!0}}},BA=e=>(jf("data-v-577c3804"),e=e(),Uf(),e),kV=BA(()=>et("i",{class:"glyphicon glyphicon-calendar fa fa-calendar"},null,-1)),PV=BA(()=>et("b",{class:"caret"},null,-1)),DV={class:"calendars"},IV={key:1,class:"calendars-container"},LV={class:"calendar-table"},OV={key:0,class:"drp-calendar col right"},RV={class:"calendar-table"},BV={key:0,class:"drp-buttons"},zV={key:0,class:"drp-selected"},NV=["disabled"];function FV(e,t,s,l,c,d){const m=ds("calendar-ranges"),n=ds("calendar"),S=ds("calendar-time"),j=rx("append-to-body");return di(),vi("div",{class:zr(["vue-daterange-picker",{inline:s.opens==="inline"}])},[et("div",{class:zr(s.controlContainerClass),onClick:t[0]||(t[0]=(...J)=>d.onClickPicker&&d.onClickPicker(...J)),ref:"toggle"},[ih(e.$slots,"input",{startDate:e.start,endDate:e.end,ranges:s.ranges,rangeText:d.rangeText},()=>[kV,ko("  "),et("span",null,cn(d.rangeText),1),PV],!0)],2),en($1,{name:"slide-fade",mode:"out-in"},{default:io(()=>[e.open||s.opens==="inline"?Po((di(),vi("div",{key:0,class:zr(["daterangepicker ltr",d.pickerStyles]),ref:"dropdown"},[ih(e.$slots,"header",{rangeText:d.rangeText,locale:e.locale,clickCancel:d.clickCancel,clickApply:d.clickedApply,in_selection:e.in_selection,autoApply:s.autoApply},void 0,!0),et("div",DV,[d.showRanges?ih(e.$slots,"ranges",{key:0,startDate:e.start,endDate:e.end,ranges:s.ranges,clickRange:d.clickRange},()=>[en(m,{onClickRange:d.clickRange,onShowCustomRange:t[1]||(t[1]=J=>e.showCustomRangeCalendars=!0),"always-show-calendars":s.alwaysShowCalendars,"locale-data":e.locale,ranges:s.ranges,selected:{startDate:e.start,endDate:e.end}},null,8,["onClickRange","always-show-calendars","locale-data","ranges","selected"])],!0):Kn("",!0),d.showCalendars?(di(),vi("div",IV,[et("div",{class:zr(["drp-calendar col left",{single:s.singleDatePicker}])},[Kn("",!0),et("div",LV,[en(n,{monthDate:e.monthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:d.min,maxDate:d.max,"show-dropdowns":s.showDropdowns,onChangeMonth:d.changeLeftMonth,"date-format":d.dateFormatFn,onDateClick:d.dateClick,onHoverDate:d.hoverDate,showWeekNumbers:s.showWeekNumbers},{default:io(()=>[ih(e.$slots,"date",sv(M1(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),s.timePicker&&e.start?(di(),lh(S,{key:1,onUpdate:d.onUpdateStartTime,"miniute-increment":s.timePickerIncrement,hour24:s.timePicker24Hour,"second-picker":s.timePickerSeconds,"current-time":e.start,readonly:s.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):Kn("",!0)],2),s.singleDatePicker?Kn("",!0):(di(),vi("div",OV,[Kn("",!0),et("div",RV,[en(n,{monthDate:e.nextMonthDate,"locale-data":e.locale,start:e.start,end:e.end,minDate:d.min,maxDate:d.max,"show-dropdowns":s.showDropdowns,onChangeMonth:d.changeRightMonth,"date-format":d.dateFormatFn,onDateClick:d.dateClick,onHoverDate:d.hoverDate,showWeekNumbers:s.showWeekNumbers},{default:io(()=>[ih(e.$slots,"date",sv(M1(e.data)),void 0,!0)]),_:3},8,["monthDate","locale-data","start","end","minDate","maxDate","show-dropdowns","onChangeMonth","date-format","onDateClick","onHoverDate","showWeekNumbers"])]),s.timePicker&&e.end?(di(),lh(S,{key:1,onUpdate:d.onUpdateEndTime,"miniute-increment":s.timePickerIncrement,hour24:s.timePicker24Hour,"second-picker":s.timePickerSeconds,"current-time":e.end,readonly:s.readonly},null,8,["onUpdate","miniute-increment","hour24","second-picker","current-time","readonly"])):Kn("",!0)]))])):Kn("",!0)]),ih(e.$slots,"footer",{rangeText:d.rangeText,locale:e.locale,clickCancel:d.clickCancel,clickApply:d.clickedApply,in_selection:e.in_selection,autoApply:s.autoApply},()=>[s.autoApply?Kn("",!0):(di(),vi("div",BV,[d.showCalendars?(di(),vi("span",zV,cn(d.rangeText),1)):Kn("",!0),s.readonly?Kn("",!0):(di(),vi("button",{key:1,class:"cancelBtn btn btn-sm btn-secondary",type:"button",onClick:t[2]||(t[2]=(...J)=>d.clickCancel&&d.clickCancel(...J))},cn(e.locale.cancelLabel),1)),s.readonly?Kn("",!0):(di(),vi("button",{key:2,class:"applyBtn btn btn-sm btn-success",disabled:e.in_selection,type:"button",onClick:t[3]||(t[3]=(...J)=>d.clickedApply&&d.clickedApply(...J))},cn(e.locale.applyLabel),9,NV))]))],!0)],2)),[[j]]):Kn("",!0)]),_:3})],2)}const jV=Rs(AV,[["render",FV],["__scopeId","data-v-577c3804"]]),UV={name:"DateRange",components:{DateRangePicker:jV},data(){return{dateRange:{startDate:new Date,endDate:new Date},locale:{direction:"ltr",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:hn.weekdaysMin(),monthNames:hn.monthsShort(),firstDay:1}}},methods:{updatePicker(e){this.$emit("selected",e)}}};function GV(e,t,s,l,c,d){const m=ds("date-range-picker");return di(),lh(m,{ref:"picker",modelValue:c.dateRange,"onUpdate:modelValue":t[0]||(t[0]=n=>c.dateRange=n),dateRange:c.dateRange,"locale-data":c.locale,timePicker:"",timePicker24Hour:"",onUpdate:d.updatePicker,onSelect:d.updatePicker},{input:io(n=>[ko(cn(e.$filters.dateformat(n.startDate))+" - "+cn(e.$filters.dateformat(n.endDate)),1)]),_:1},8,["modelValue","dateRange","locale-data","onUpdate","onSelect"])}const VV=Rs(UV,[["render",GV]]);var Xw={},HV={get exports(){return Xw},set exports(e){Xw=e}};(function(e,t){(function(s,l){e.exports=l()})(ea,function(){var s="__v-click-outside",l=typeof window<"u",c=typeof navigator<"u",d=l&&("ontouchstart"in window||c&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],m=function(J){var B=J.event,W=J.handler;(0,J.middleware)(B)&&W(B)},n=function(J,B){var W=function(E){var k=typeof E=="function";if(!k&&typeof E!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:k?E:E.handler,middleware:E.middleware||function(V){return V},events:E.events||d,isActive:E.isActive!==!1,detectIframe:E.detectIframe!==!1,capture:Boolean(E.capture)}}(B.value),K=W.handler,I=W.middleware,O=W.detectIframe,H=W.capture;if(W.isActive){if(J[s]=W.events.map(function(E){return{event:E,srcTarget:document.documentElement,handler:function(k){return function(V){var G=V.el,C=V.event,ie=V.handler,Q=V.middleware,N=C.path||C.composedPath&&C.composedPath();(N?N.indexOf(G)<0:!G.contains(C.target))&&m({event:C,handler:ie,middleware:Q})}({el:J,event:k,handler:K,middleware:I})},capture:H}}),O){var M={event:"blur",srcTarget:window,handler:function(E){return function(k){var V=k.el,G=k.event,C=k.handler,ie=k.middleware;setTimeout(function(){var Q=document.activeElement;Q&&Q.tagName==="IFRAME"&&!V.contains(Q)&&m({event:G,handler:C,middleware:ie})},0)}({el:J,event:E,handler:K,middleware:I})},capture:H};J[s]=[].concat(J[s],[M])}J[s].forEach(function(E){var k=E.event,V=E.srcTarget,G=E.handler;return setTimeout(function(){J[s]&&V.addEventListener(k,G,H)},0)})}},S=function(J){(J[s]||[]).forEach(function(B){return B.srcTarget.removeEventListener(B.event,B.handler,B.capture)}),delete J[s]},j=l?{beforeMount:n,updated:function(J,B){var W=B.value,K=B.oldValue;JSON.stringify(W)!==JSON.stringify(K)&&(S(J),n(J,{value:W}))},unmounted:S}:{};return{install:function(J){J.directive("click-outside",j)},directive:j}})})(HV);const $V=Xw,WV={props:{options:Array,type:{type:String,default:"select"},default:{type:Array,default:()=>[]}},data(){return{show:!1,selected:this.default}},methods:{showDropdown(){this.show=!this.show},hide(){this.show=!1},groupBy(e,t){return e.reduce((s,l,c)=>{var d;return(s[d=t(l,c,e)]||(s[d]=[])).push(l),s},{})}},computed:{groups(){return this.options[0].hasOwnProperty("group")?this.groupBy(this.options,e=>e.group):this.options}},watch:{selected(e){this.$emit("checked",e)}},directives:{clickOutside:$V.directive}},qV={class:"dd"},YV={id:"list1",class:"dropdown-check-list",tabindex:"100"},XV=zh('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-adjustments-horizontal" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 6l8 0"></path><path d="M16 6l4 0"></path><path d="M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 12l2 0"></path><path d="M10 12l10 0"></path><path d="M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 18l11 0"></path><path d="M19 18l1 0"></path></svg>',1),ZV=[XV],KV={key:2,class:"items"},JV={key:0},QV=["id","value"],eH=["for"],tH={key:1},iH=["id","value"],nH=["for"];function sH(e,t,s,l,c,d){const m=rx("click-outside");return Po((di(),vi("div",qV,[et("div",YV,[s.type=="select"?(di(),vi("span",{key:0,class:"anchor form-control",onClick:t[0]||(t[0]=(...n)=>d.showDropdown&&d.showDropdown(...n))}," Select Parameter ")):Kn("",!0),s.type=="icon"?(di(),vi("span",{key:1,class:"icon",onClick:t[1]||(t[1]=(...n)=>d.showDropdown&&d.showDropdown(...n))},ZV)):Kn("",!0),c.show?(di(),vi("ul",KV,[(di(!0),vi(Jn,null,Nr(d.groups,(n,S)=>(di(),vi("li",{key:S},[Array.isArray(n)?(di(),vi("div",JV,[et("span",null,cn(S),1),(di(!0),vi(Jn,null,Nr(n,(j,J)=>(di(),vi("div",{key:J},[Po(et("input",{type:"checkbox",id:J,value:j,"onUpdate:modelValue":t[2]||(t[2]=B=>c.selected=B)},null,8,QV),[[Rf,c.selected]]),et("label",{for:J},cn(j.text),9,eH)]))),128))])):Kn("",!0),Array.isArray(n)?Kn("",!0):(di(),vi("div",tH,[Po(et("input",{type:"checkbox",id:S,value:n,"onUpdate:modelValue":t[3]||(t[3]=j=>c.selected=j)},null,8,iH),[[Rf,c.selected]]),et("label",{for:S},cn(n.text),9,nH)]))]))),128))])):Kn("",!0)])])),[[m,d.hide]])}const rH=Rs(WV,[["render",sH]]),oH=["#2f7ed8","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a","#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1","#0d233a"];DA(th);const aH={name:"spline",props:{params:Object,fleet:Object,default:Array},components:{Chart:_p.Chart},methods:{async show(){this.$refs.chart.chart.showLoading();let e=[],t=[],s=[];this.items.forEach((c,d)=>{let m=oH[d];t[d]={title:{text:c.text,style:{color:m,fontSize:"12px"}},lineColor:m,labels:{style:{color:m},align:"left",x:14},lineWidth:1,opposite:!0},c.range&&(t[d].min=c.range[0],t[d].max=c.range[1]),e[d]={id:c.data,row:c.data,yAxis:d,type:c.type?c.type:"spline",name:c.text,color:m,lineWidth:1,data:[]},s[d]=c.data}),this.options.series=e,this.options.yAxis=t,this.params.select=s,(await axios.get(`/api/fleet/${this.fleet.id}/nav/trend`,{params:this.params}).then(c=>c.data)).forEach(c=>{let d=c.unix_time;this.options.series.forEach((m,n)=>{let S=c[m.row];this.options.series[n].data.push([d,S])})}),this.$refs.chart.chart.hideLoading()},selected(e){this.items=e,this.show()}},data(){return{items:this.default,options:{chart:{type:"spline"},time:{useUTC:!1},title:{text:""},xAxis:{type:"datetime",labels:{overflow:"justify"}},yAxis:{minorGridLineWidth:0,gridLineWidth:0,alternateGridColor:null},plotOptions:{spline:{lineWidth:4,states:{hover:{lineWidth:5}},marker:{enabled:!1}}},series:[],navigation:{menuItemStyle:{fontSize:"10px"}}}}}};function lH(e,t,s,l,c,d){const m=ds("Chart");return di(),lh(m,{ref:"chart",options:c.options,constructorType:"stockChart"},null,8,["options"])}const cH=Rs(aH,[["render",lH]]),hH={props:{url:String},components:{FleetSpeedometer:VG,DateRange:VV,TrendNav:cH,DropdownSelect:rH},data(){return{fleet:null,trendParams:{interval:60,date:null},columns:[{data:"sog",text:"Speed (knot)"},{data:"wind_speed",text:"Wind Speed (knot)"},{data:"depth",text:"Deep (m)"}]}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(e=>e.data)},showChart(){this.trendParams.date||alert("please selected date first"),this.$refs.trendNav.show()},selected(e){this.$refs.trendNav.selected(e)}}},dH={key:0},uH={class:"container"},pH={class:"row"},fH={class:"col-12"},mH=et("div",{class:"table-title"},[et("h6",null,"Navigation information")],-1),gH={class:"table table-sm"},_H=et("th",{scope:"row"},"•",-1),yH=et("td",null,"Updated at",-1),vH={class:"text-end"},xH=et("th",{scope:"row"},"•",-1),bH=et("td",null,"Coordinate",-1),wH={class:"text-end"},SH=et("th",{scope:"row"},"•",-1),TH=et("td",null,"Heading",-1),EH={class:"text-end"},CH=et("th",{scope:"row"},"•",-1),MH=et("td",null,"Course / COG",-1),AH={class:"text-end"},kH=et("th",{scope:"row"},"•",-1),PH=et("td",null,"Speed / SOG",-1),DH={class:"text-end"},IH=et("th",{scope:"row"},"•",-1),LH=et("td",null,"Depth",-1),OH={class:"text-end"},RH=et("th",{scope:"row"},"•",-1),BH=et("td",null,"Wind Speed",-1),zH={class:"text-end"},NH=et("th",{scope:"row"},"•",-1),FH=et("td",null,"Wind Direction",-1),jH={class:"text-end"},UH=et("th",{scope:"row"},"•",-1),GH=et("td",null,"Travel Distance",-1),VH={class:"text-end"},HH=et("th",{scope:"row"},"•",-1),$H=et("td",null,"Total Travel Distance",-1),WH={class:"text-end"},qH={class:"col-12"},YH=et("div",{class:"table-title mb-4 mt-2"},[et("h6",null,"Trend View")],-1),XH={class:"row justify-content-end"},ZH={class:"col-6"},KH={class:"col-6"},JH={class:"d-flex align-items-center justify-content-end gap-1"},QH=et("option",{value:"30"},"30m",-1),e$=et("option",{value:"60"},"1 H",-1),t$=et("option",{value:"1440"},"1 D",-1),i$=[QH,e$,t$];function n$(e,t,s,l,c,d){const m=ds("fleet-speedometer"),n=ds("dropdown-select"),S=ds("date-range"),j=ds("trend-nav");return c.fleet?(di(),vi("div",dH,[en(m,{fleet:c.fleet},null,8,["fleet"]),et("div",uH,[et("div",pH,[et("div",fH,[mH,et("table",gH,[et("tbody",null,[et("tr",null,[_H,yH,et("td",vH,cn(c.fleet.last_connection),1)]),et("tr",null,[xH,bH,et("td",wH,cn(c.fleet.navigation.lat.toFixed(5))+" "+cn(c.fleet.navigation.lat_dir)+", "+cn(c.fleet.navigation.lng.toFixed(5))+" "+cn(c.fleet.navigation.lng_dir),1)]),et("tr",null,[SH,TH,et("td",EH,cn(c.fleet.navigation.heading)+" °",1)]),et("tr",null,[CH,MH,et("td",AH,cn(c.fleet.navigation.cog)+" °",1)]),et("tr",null,[kH,PH,et("td",DH,cn(c.fleet.navigation.sog)+" knot",1)]),et("tr",null,[IH,LH,et("td",OH,cn(c.fleet.navigation.depth)+" meter",1)]),et("tr",null,[RH,BH,et("td",zH,cn(c.fleet.navigation.wind_speed)+" knot",1)]),et("tr",null,[NH,FH,et("td",jH,cn(c.fleet.navigation.wind_direction)+" °",1)]),et("tr",null,[UH,GH,et("td",VH,cn(c.fleet.navigation.distance)+" NM",1)]),et("tr",null,[HH,$H,et("td",WH,cn(c.fleet.navigation.total_distance)+" NM",1)])])])]),et("div",qH,[YH,et("div",XH,[et("div",ZH,[en(n,{options:c.columns,onChecked:d.selected,default:c.columns},null,8,["options","onChecked","default"])]),et("div",KH,[et("div",JH,[en(S,{onSelected:t[0]||(t[0]=J=>c.trendParams.date=J)}),Po(et("select",{class:"form-control w-5 bordered","onUpdate:modelValue":t[1]||(t[1]=J=>c.trendParams.interval=J)},i$,512),[[Ph,c.trendParams.interval]]),et("button",{onClick:t[2]||(t[2]=(...J)=>d.showChart&&d.showChart(...J)),class:"btn btn-primary"},"SHOW")])])]),en(j,{fleet:c.fleet,params:c.trendParams,ref:"trendNav",default:c.columns},null,8,["fleet","params","default"])])])])])):Kn("",!0)}const s$=Rs(hH,[["render",n$]]),r$={props:{min:Number,max:Number,value:Number,normal:Number,danger:Number},data(){return{}},computed:{percentage(){return this.value/this.max*100},color(){let e="bg-success",t=this.value/this.max*100;return t>this.normal&&t<this.danger?e="bg-warning":t>this.danger&&(e="bg-danger"),e}}},o$={class:"progress"};function a$(e,t,s,l,c,d){return di(),vi("div",o$,[et("div",{class:zr(["progress-bar",d.color]),style:_d({width:`${d.percentage}%`}),role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"},null,6)])}const l$=Rs(r$,[["render",a$]]),c$={components:{"progress-bar":l$},props:{fleet:Object,display:Boolean},data(){return{}},methods:{toggleText(){this.display=!this.display}}},h$={class:"voyage-section"},d$={key:0,class:"card voyage-card"},u$={class:"card-header justify-content-between"},p$=["src"],f$=et("h5",{class:"fw-normal m-0"},"Fleet Information",-1),m$={class:"card-body"},g$=et("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[et("li",{class:"nav-item",role:"presentation"},[et("button",{class:"nav-link justify-content-left active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true"},"INFO")])],-1),_$={class:"tab-content",id:"pills-tabContent"},y$={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},v$={class:"m12"},x$=et("div",{class:"st21"},"Name",-1),b$={class:"st22"},w$=["href"],S$=et("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),T$={class:"m12"},E$=et("div",{class:"st21"},"IMO Number",-1),C$={class:"st22"},M$={class:"m12"},A$=et("div",{class:"st21"},"Last Update",-1),k$={class:"st22"},P$={class:"m12"},D$=et("div",{class:"st21"},"Last Coordinates",-1),I$={class:"st22"},L$=["href"],O$=et("img",{width:"11",height:"11",src:"/img/icons/external-link.png",style:{"margin-left":"6px"}},null,-1),R$={key:0,class:"m12"},B$=et("div",{class:"st21"},"At Port",-1),z$={class:"st22"},N$=zh('<div class="m12"><div class="st21">Origin</div><div class="st22"></div></div><div class="m12"><div class="st21">Destination</div><div class="st22"></div></div><div class="m12"><div class="st21">ETA</div><div class="st22"></div></div><br>',4),F$=et("ul",{class:"nav nav-pills nav-justified mb-3",id:"pills-tab",role:"tablist"},[et("li",{class:"nav-item",role:"presentation"},[et("button",{class:"nav-link justify-content-left active",id:"pills-main-engine-tab","data-bs-toggle":"pill","data-bs-target":"#pills-main-engine",type:"button",role:"tab","aria-controls":"pills-main-engine","aria-selected":"true"},"Main Engine")]),et("li",{class:"nav-item",role:"presentation"},[et("button",{class:"nav-link justify-content-center",id:"pills-pump-tab","data-bs-toggle":"pill","data-bs-target":"#pills-pump",type:"button",role:"tab","aria-controls":"pills-pump","aria-selected":"false"},"Pump Status")])],-1),j$={class:"tab-content",id:"pills-tabContent"},U$={class:"tab-pane fade show active",id:"pills-main-engine",role:"tabpanel","aria-labelledby":"pills-main-engine-tab"},G$=et("div",{class:"tt01"},"Main Engine Latest Status",-1),V$={class:"st21"},H$={key:0},$$=["innerHTML"],W$={key:1},q$={class:"st22"},Y$={class:"tab-pane",id:"pills-pump",role:"tabpanel","aria-labelledby":"pills-pump-tab"},X$=et("div",{class:"tt01"},"Cargo/Ballast/Stripping/Vacuum Pump",-1),Z$={class:"st21"},K$={key:0},J$=["innerHTML"],Q$={key:1},eW={class:"st22"};function tW(e,t,s,l,c,d){const m=ds("progress-bar");return di(),vi("div",h$,[s.display?(di(),vi("div",d$,[et("div",u$,[et("button",{onClick:t[0]||(t[0]=n=>e.$emit("close",!0)),class:"btn btn-link bg-transparent p-0"},[et("img",{src:"/img/icons/close-fill.png",alt:""},null,8,p$)]),f$]),et("div",m$,[g$,et("div",_$,[et("div",y$,[et("div",v$,[x$,et("div",b$,[et("a",{href:`/fleet/${s.fleet.id}`,class:"d-flex align-items-center"},[ko(cn(s.fleet.name)+" ",1),S$],8,w$)])]),et("div",T$,[E$,et("div",C$,cn(s.fleet.imo_number),1)]),et("div",M$,[A$,et("div",k$,cn(e.$filters.dateformat(s.fleet.last_connection))+" WIB",1)]),et("div",P$,[D$,et("div",I$,[et("a",{href:`/fleet/${s.fleet.id}/track`,class:"d-flex align-items-center"},[ko(cn(s.fleet.navigation.lat.toFixed(4))+" "+cn(s.fleet.navigation.lat_dir)+", "+cn(s.fleet.navigation.lng.toFixed(4))+" "+cn(s.fleet.navigation.lng_dir)+" ",1),O$],8,L$)])]),s.fleet.fleet_status=="at_port"?(di(),vi("div",R$,[B$,et("div",z$,cn(s.fleet.last_port),1)])):Kn("",!0),N$,F$,et("div",j$,[et("div",U$,[G$,(di(!0),vi(Jn,null,Nr(s.fleet.engine_info,(n,S)=>(di(),vi("div",{class:"m13",key:S},[et("div",V$,[ko(cn(n.title)+" ",1),n.value>0?(di(),vi("span",H$,[ko(cn(e.$filters.number(n.value))+" ",1),et("span",{innerHTML:n.unit},null,8,$$)])):Kn("",!0),ko(),n.value==0?(di(),vi("span",W$,"OFF")):Kn("",!0)]),et("div",q$,[en(m,{min:n.min,warning:n.warning,danger:n.danger,max:n.max,value:n.value},null,8,["min","warning","danger","max","value"])])]))),128))]),et("div",Y$,[X$,(di(!0),vi(Jn,null,Nr(s.fleet.cargo_pump_info,(n,S)=>(di(),vi("div",{class:"m13",key:S},[et("div",Z$,[ko(cn(n.title)+" ",1),n.value>0?(di(),vi("span",K$,[ko(cn(e.$filters.number(n.value))+" ",1),et("span",{innerHTML:n.unit},null,8,J$)])):Kn("",!0),ko(),n.value==0?(di(),vi("span",Q$,"OFF")):Kn("",!0)]),et("div",eW,[en(m,{min:n.min,normal:n.normal,danger:n.danger,max:n.max,value:n.value},null,8,["min","normal","danger","max","value"])])]))),128))])])])])])])):Kn("",!0)])}const iW=Rs(c$,[["render",tW]]),nW={name:"ChartSvg",props:{path:String,svgData:Object,height:Number},data(){return{scadavis:null,tags:[]}},async mounted(){await this.init(),Object.keys(this.svgData).forEach(e=>{this.setValue(e,this.svgData[e])})},created(){window.addEventListener("resize",this.resize)},destroyed(){window.removeEventListener("resize",this.resize)},watch:{svgData:function(e,t){let s=this;Object.keys(e).forEach(l=>{s.setValue(l,e[l])})}},methods:{async init(){this.scadavis=await scadavisInit({container:"scada-svg",svgurl:this.path}),this.scadavis.enableTools(!1,!0),this.scadavis.hideWatermark(),this.tags=this.scadavis.getTagsList().split(","),this.tags.forEach(e=>{this.scadavis.setValue(e,0)}),this.resize()},resize(){this.scadavis.zoomToOriginal();let e=this.$refs.cnsvg;this.scadavis.zoomTo(1*(e.clientWidth<e.clientHeight?e.clientWidth/600:e.clientHeight/600))},setValue(e,t){this.scadavis&&this.scadavis.setValue(e,t)}}};function sW(e,t,s,l,c,d){return di(),vi("div",null,[et("div",{id:"scada-svg",class:"scada",ref:"cnsvg",style:_d({height:this.height+"px"})},null,4)])}const Dx=Rs(nW,[["render",sW]]),rW={props:{url:String},components:{ChartSvg:Dx},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=e[s]*1e3)})}}}},oW={key:0},aW={class:"container"},lW={class:"row"},cW={class:"col-12"};function hW(e,t,s,l,c,d){const m=ds("chart-svg");return c.fleet?(di(),vi("div",oW,[et("div",aW,[et("div",lW,[et("div",cW,[en(m,{path:"/svg/cargo_bargraph.svg",svgData:c.data,height:550},null,8,["svgData"])])])])])):Kn("",!0)}const dW=Rs(rW,[["render",hW]]),uW={props:{url:String},components:{ChartSvg:Dx},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=e[s]*1e3)}),this.data.fleet_name=this.fleet.name}}}},pW={key:0},fW={class:"container"},mW={class:"row"},gW={class:"col-12"};function _W(e,t,s,l,c,d){const m=ds("chart-svg");return c.fleet?(di(),vi("div",pW,[et("div",fW,[et("div",mW,[et("div",gW,[en(m,{path:"/svg/bunker_bargraph.svg",svgData:c.data,height:550},null,8,["svgData"])])])])])):Kn("",!0)}const yW=Rs(uW,[["render",_W]]),vW={props:{url:String},components:{ChartSvg:Dx},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.cargo_data;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=e[s]*1e3)}),this.data.fleet_name=this.fleet.name}}}},xW={key:0},bW={class:"container"},wW={class:"row"},SW={class:"col-12"};function TW(e,t,s,l,c,d){const m=ds("chart-svg");return c.fleet?(di(),vi("div",xW,[et("div",bW,[et("div",wW,[et("div",SW,[en(m,{path:"/svg/water_ballast_bargraph.svg",svgData:c.data,height:550},null,8,["svgData"])])])])])):Kn("",!0)}const EW=Rs(vW,[["render",TW]]),CW={props:{url:String},components:{ChartSvg:Dx},data(){return{fleet:null,data:{}}},created(){this.fetchData()},mounted(){setInterval(()=>this.fetchData(),5*1e3)},methods:{async fetchData(){this.fleet=await axios.get(this.url).then(t=>t.data);let e=this.fleet.engine;if(e){this.data=e;let t=["id","fleet_id","created_at","updated_at","terminal_time"];Object.keys(e).forEach(s=>{t.includes(s)||(this.data[s+"_bar"]=e[s]*1e3)}),this.data.fleet_name=this.fleet.name}}}};function MW(e,t,s,l,c,d){const m=ds("chart-svg");return di(),vi("div",null,[en(m,{path:"/svg/engine-2.svg",svgData:c.data,height:550},null,8,["svgData"])])}const AW=Rs(CW,[["render",MW]]),kW={name:"UserPermission",props:{url:String},data(){return{permissions:[],checked:[],user_id:null}},mounted(){this.loadRole(),this.loadData()},methods:{async loadData(){let{data:e}=await axios.get(this.url);this.user_id=e.data.id,this.checked=e.data.permissions},async loadRole(){let{data:e}=await axios.get("/master/permission/json");this.permissions=e.data},async assignTo(){this.user_id&&(await axios.post(`/master/user/${this.user_id}/update-permission`,{permission:this.checked}),window.$vmapp.$refs.vuetable.getData())}}},PW={class:"form-group mb-3"},DW=et("label",null,"Permissions",-1),IW={class:"checkbox"},LW={class:"ui-check"},OW=["value"],RW=et("i",{class:"dark-white"},null,-1),BW={class:"float-end"};function zW(e,t,s,l,c,d){return di(),vi("div",null,[et("div",PW,[DW,(di(!0),vi(Jn,null,Nr(c.permissions,m=>(di(),vi("div",IW,[et("label",LW,[Po(et("input",{type:"checkbox",value:m.name,"onUpdate:modelValue":t[0]||(t[0]=n=>c.checked=n)},null,8,OW),[[Rf,c.checked]]),RW,ko(" "+cn(m.name),1)])]))),256))]),et("div",BW,[et("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...m)=>d.assignTo&&d.assignTo(...m))},"Assign Permissions")])])}const NW=Rs(kW,[["render",zW]]),FW={props:{title:String,url:String,fields:Array,show:Boolean,fleet:Object},data(){return{data:{}}},mounted(){this.fields.forEach(e=>{this.data[e.field]=null}),this.fleet&&(this.data.fleet_id=this.fleet.fleetId,this.data.group=this.fleet.group)},methods:{async save(){let e=await axios.post(this.url,this.data).then(t=>t.data);e.error?this.$emit("saved",!1):this.$emit("saved",e)}}},jW={class:"modal-dialog modal-dialog-centered",role:"document"},UW={class:"modal-content"},GW={class:"modal-header"},VW={class:"modal-title"},HW={class:"modal-body"},$W={key:0,class:"mb-2"},WW={class:"form-label"},qW=["onUpdate:modelValue"],YW=["value"],XW={key:1,class:"mb-2"},ZW={class:"form-label"},KW=["onUpdate:modelValue"],JW={class:"modal-footer"};function QW(e,t,s,l,c,d){return di(),vi("div",{class:zr(["modal modal-blur fade",{show:s.show}]),style:_d({display:s.show?"block":"none"}),id:"modal-team",tabindex:"-1",role:"dialog","aria-hidden":"true"},[et("div",jW,[et("div",UW,[et("div",GW,[et("h5",VW,cn(s.title),1),et("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=m=>s.show=!1)})]),et("div",HW,[(di(!0),vi(Jn,null,Nr(s.fields,(m,n)=>(di(),vi(Jn,{key:n},[m.editType=="select"?(di(),vi("div",$W,[et("label",WW,cn(m.name),1),Po(et("select",{"onUpdate:modelValue":S=>c.data[m.field]=S,class:"form-select"},[(di(!0),vi(Jn,null,Nr(m.options,(S,j)=>(di(),vi("option",{value:S,key:j},cn(S),9,YW))),128))],8,qW),[[Ph,c.data[m.field]]])])):(di(),vi("div",XW,[et("label",ZW,cn(m.name),1),Po(et("input",{type:"text",class:"form-control","onUpdate:modelValue":S=>c.data[m.field]=S},null,8,KW),[[Oh,c.data[m.field]]])]))],64))),128))]),et("div",JW,[et("button",{onClick:t[1]||(t[1]=m=>s.show=!1),type:"button",class:"btn me-auto","data-bs-dismiss":"modal"},"Close"),et("button",{onClick:t[2]||(t[2]=(...m)=>d.save&&d.save(...m)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Add")])])])],6)}const eq=Rs(FW,[["render",QW]]),tq={components:{FormModal:eq},props:{columns:Array,data:Array,editUrl:String,delUrl:String,fleet:Object},data(){return{formShow:!1,items:[]}},mounted(){this.data.forEach(e=>this.items.push(e)),this.items=this.items.map(e=>({...e,isEdit:!1}))},methods:{saved(e){e.isEdit=!1,this.items.push(e),this.formShow=!1},editRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit},async saveRowHandler(e,t){this.items[t].isEdit=!this.items[t].isEdit,await axios.post(this.editUrl,e)},isFieldSlot(e){return!!this.$slots[e]},del(e,t){let s=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(l=>{l.isConfirmed&&(axios.delete(s.delUrl+"/"+e.id),s.items.splice(t,1),s.$swal("Deleted!","Your file has been deleted.","success"))})}}},iq={class:"action-edit"},nq={class:"table-responsive"},sq={class:"table table-vcenter card-table"},rq=et("th",null,"No",-1),oq=et("th",null,null,-1),aq=["onUpdate:modelValue"],lq=["value"],cq=["onUpdate:modelValue"],hq=["innerHTML"],dq={key:1},uq=["onClick"],pq=["onClick"],fq=["onClick"];function mq(e,t,s,l,c,d){const m=ds("form-modal");return di(),vi(Jn,null,[en(m,{fields:s.columns,title:"Add Data",url:s.editUrl,show:c.formShow,fleet:s.fleet,onSaved:d.saved},null,8,["fields","url","show","fleet","onSaved"]),et("div",iq,[et("button",{type:"button",class:"btn btn-info",onClick:t[0]||(t[0]=n=>c.formShow=!0)},"Add Data")]),et("div",nq,[et("table",sq,[et("thead",null,[et("tr",null,[rq,(di(!0),vi(Jn,null,Nr(s.columns,(n,S)=>(di(),vi("th",{key:S},cn(n.name),1))),128)),oq])]),et("tbody",null,[(di(!0),vi(Jn,null,Nr(c.items,(n,S)=>(di(),vi("tr",{key:n.id},[et("td",null,cn(1+S),1),(di(!0),vi(Jn,null,Nr(s.columns,(j,J)=>(di(),vi("td",{key:J},[d.isFieldSlot(j.field)?ih(e.$slots,j.field,{key:0,rowData:n,rowIndex:S,rowField:j}):j.editType=="select"&&n.isEdit?Po((di(),vi("select",{key:1,"onUpdate:modelValue":B=>c.items[S][j.field]=B,class:"form-select"},[(di(!0),vi(Jn,null,Nr(j.options,(B,W)=>(di(),vi("option",{value:B,key:W},cn(B),9,lq))),128))],8,aq)),[[Ph,c.items[S][j.field]]]):n.isEdit?Po((di(),vi("input",{key:2,type:"text",class:"form-control","onUpdate:modelValue":B=>c.items[S][j.field]=B},null,8,cq)),[[Oh,c.items[S][j.field]]]):(di(),vi(Jn,{key:3},[j.isHtml?(di(),vi("span",{key:0,innerHTML:n[j.field]},null,8,hq)):(di(),vi("span",dq,cn(n[j.field]),1))],64))]))),128)),et("td",null,[n.isEdit?Kn("",!0):(di(),vi("a",{key:0,href:"#",onClick:j=>d.editRowHandler(n,S)},"Edit",8,uq)),n.isEdit?(di(),vi("a",{key:1,href:"#",onClick:j=>d.saveRowHandler(n,S)},"Done",8,pq)):Kn("",!0),ko(" | "),et("a",{href:"#",onClick:j=>d.del(n,S)},"Delete",8,fq)])]))),128))])])])],64)}const gq=Rs(tq,[["render",mq]]),Do=V3({});Do.use(S7);Do.component("map-dashboard",nF);Do.component("map-history",yF);Do.component("map-default",SF);Do.component("map-voyage",qF);Do.component("map-bridge",nj);Do.component("slider-submenu",KU);Do.component("charts-fuel",bG);Do.component("charts-graph",CG);Do.component("charts-spline",PG);Do.component("fleet-information",s$);Do.component("fleet-side-info",iW);Do.component("fleet-cargo",dW);Do.component("fleet-bunker",yW);Do.component("fleet-ballast",EW);Do.component("compass",IA);Do.component("engine-type-s",AW);Do.component("user-permission",NW);Do.component("table-editable",gq);Do.config.globalProperties.$filters={dateformat(e,t="DD/MM/YYYY HH:mm"){return hn(e,"YYYY-MM-DD HH:mm:ss").format(t)},str_limit(e,t=7){return e.toString().substring(0,t)},textFormat(e){return e.toLowerCase().capitalize()},number(e){let t=Number.parseFloat(e).toFixed(2);return Number.parseFloat(t).toLocaleString()}};Do.mount("#app")});export default _q();
